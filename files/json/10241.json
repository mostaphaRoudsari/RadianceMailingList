{"body": "\nJia\n\nComments are below\n\nOn Tue, Jul 13, 2010 at 6:37 AM, Jia Hu <hujia06@gmail.com> wrote:\n\nYou have two processes accessing the same file in a very short time.\nDue to some caching that's controlled by the OS you can't guarantee\nthat the access happens in the right order. The best way to solve this\nis to use Python to do all the writing:\n\n#!/usr/bin/python\nimport subprocess\nfileHandle?= open ('final.txt', 'w')\nfileHandle.write (\"%s %s %s \\n\" % (12,25,89))\n\n## create gensky command\ncmd = \"genblinds %s %s %d %d %d %d %d | xform -rz -90 -t 2 2 2 \" %\n('white', 'VBlinds', 0.03, 2, 3, 15, 30)\n\n## execute in subprocess and read output of gensky command\noutput = subprocess.Popen(cmd.split(), stdout=PIPE, shell=True).communicate()[0]\n\n## now write to file\nfileHandle.write(output + \"\\n\")\n\nfileHandle.write ('%s %s %s \\n' % (52,86,506))\nfileHandle.close()\n\n\nThis is untested. The pipe to xform might mess things up here but I\nhope it works.\n\nRegards,\nThomas\n\n", "replyTo": "Subject: [Radiance-general] Re: python", "sender": "Thomas Bleicher", "isquestion": false, "tags": [], "id": "<AANLkTikWJJdN2PAqM5vOAiWZJlECwa9lixO8Fho_SMly@mail.gmail.com>", "refs": ["<AANLkTil23grfkwoia0OUheui7xAcp68LUPPbE5KRXXOX@mail.gmail.com>", "<i1835a$8e5$1@dough.gmane.org>", "<AANLkTim5dJUT6cBShSTlls6M76rMlLgeLpP-gmcPkAZI@mail.gmail.com>"], "datetime": "Tue Jul 13 01:58:17 2010", "email": "tbleicher at googlemail.com", "subject": "[Radiance-general] Re: python"}