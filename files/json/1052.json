{"refs": [], "id": "<84F05BA9118BBD4A8FC6409808CE266C234080@ENGRMAIL2.engr.psu.edu>", "subject": "[Radiance-general] Sun Color", "email": "MMoeck at engr.psu.edu", "body": "\nHere is tcl code to convert the sun color from a blackbody temperature \"T\" to Radiance RGB:\n\n_______________________________________________\n\n# input =\n\nproc Kelvin_to_sun_RGB {T YL solar_radiance} {\n\n\n# converts a color temperature of degrees Kelvin into RGB\n# given: color temp. T and the luminance YL of the source\n\n# convert the blackbody temperature T into \"RGB\"\n# Both fits have R^2= 1.000 over the range from 2000K\n# to 11000K. Both look ill behaved above 11000K\n\nset x [expr 0.8405 - 2.1783*pow(10,-4) *$T  \\\n+ 3.5254*pow(10,-8) *$T*$T \\\n- 2.7046*pow(10,-12)*$T*$T*$T \\\n+ 7.9696*pow(10,-17)*$T*$T*$T*$T]\n\nset y [expr 0.30587 + 1.3655*pow(10,-4) *$T \\\n- 5.6154*pow(10,-8) *$T*$T \\\n+ 8.9484*pow(10,-12)*$T*$T*$T \\\n- 6.5352*pow(10,-16)*$T*$T*$T*$T \\\n+ 1.8158*pow(10,-20)*$T*$T*$T*$T*$T]\n\n\nset z [expr 1.00000000 -$x-$y]\n\nset X [expr $x*$YL/$y]\nset Z [expr $z*$YL/$y]\n# X, YL, Z are the spectral tristimulus values\n\n# the following formulae assume the monitor alignments given in the book :\n# \"procedural elements for computer graphics\" by David F. Rogers, 1985 McGraw-Hill; pp. 397\n\nset R [expr  2.739*$X - 1.145*$YL - 0.424*$Z]\nset G [expr -1.119*$X + 2.029*$YL + 0.033*$Z]\nset B [expr 0.138 *$X - 0.333*$YL + 1.105*$Z]\nif {$B<0} {set B 0.0}\n\nset k1 [expr (0.3*$R+0.59*$G+0.11*$B)]\n# fact*k1=solar$radiance; correct RGB to actual values given in \"void light solar\"\n# from the gensky output\nset fact [expr $solar_radiance/$k1]\nset R [expr $R*$fact]; set G [expr $G*$fact]; set B [expr $B*$fact]\nreturn \"$R $G $B\"\n\n}\n\n_______________________________________________________________________\n\nMartin Moeck, Penn State\n\n\n\n\n\n-----Original Message-----\nFrom:\tMarcus Jacobs [mailto:marcdevon@hotmail.com]\nSent:\tThu 1/6/2005 11:00 AM\nTo:\tradiance-general@radiance-online.org\nCc:\nSubject:\t[Radiance-general] Sun Color\nDear Group\n\nDoes anyone here know how to alter or adjust gensky's sun color?  I guess\nwhat I am looking for is a color that is warmer that the color that I am\nachieving now. This is for asthetic purposes but I want a solution that is\nphysically accurate. I have tried altering the day and time of day to\nachieve this but it seems that only the angle, height, and intensity of the\nsunlight is changed and not the color. I don't mind hard coding it in the\napplication if it necessasary if it isn't too messy. Any suggestions?\n\nMarcus\n\n\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general@radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\n\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: not available\nType: application/ms-tnef\nSize: 3789 bytes\nDesc: not available\nUrl : http://radiance-online.org/pipermail/radiance-general/attachments/20050106/881de31d/attachment.bin\n", "isquestion": true, "replyTo": "", "tags": [], "sender": "Martin Moeck", "datetime": "Thu Jan  6 21:04:45 2005"}