{"body": "\nI am trying to work out why the coefficient for converting r,g,b into a\ngrey value are what they are:\n\nL = 0.265R + 0.670G + 0.065B\n\nI started off with the 1931 horseshoe diagram onto which I drew the\nRadiance colour gamut. The primitives are defined in src/common/color.h:\n\n0.640 0.330 (red)\n0.290 0.600 (green)\n0.150 0.060 (blue)\n0.333 0.333 (white)\n\nhttp://luminance.londonmet.ac.uk/pickup/radiance_xy_primaries_with_lines_med.png\n\nI then determined the dominant wavelength for r,g,b by projecting the\nx,y coordinates from the white point onto the perimeter of the\nhorseshoe. This was rounded to the nearest 5 nm, because the data I had\nfor the v(lambda) curve only had a 5 nm resolution:\n\nhttp://luminance.londonmet.ac.uk/pickup/primaries_vlambda.png\n\nThe dominant wavelengths of the r,g,b primaries are drawn as arrows. The\nlittle coloured rings are the weighting coefficient as used by Radiance.\n\nSince 1 = r + g + b, I normalised the values I got (where the little\narrows hit the v(lambda) curve).\n\nL = 0.326R + 0.635G + 0.039B\n\nThe derived coefficients are qualitatively similar to the Radiance ones\nin the sense that b < r < g, but I would have liked them to be closer in\ntheir absolute values, too. Although the methodology and drawings are a\nbit crude, I was hoping to get a better match.\n\nCan anybody suggest a better solution?\n\nThanks\n\nAxel\n\n\n", "replyTo": "", "sender": "Axel Jacobs", "isquestion": true, "tags": [], "id": "<4D336645.1060100@gmail.com>", "refs": [], "datetime": "Sun, 16 Jan 2011 21:42:29 +0000", "email": "jacobs.axel at gmail.com", "subject": "[Radiance-general] primaries, horseshoes and v(lambda)"}