{"body": "\nHi Tarik,\n\nAgainst your current formula, you must multiply the projected solid\nangle of the light source, which accounts for the 1/r^2 fall-off with\ndistance.  The projected solid angle equals the cosine of theta_i times\nthe apparent solid angle of the source, which depends on the source\ngeometry in relation to the calculation point, but may be approximated\nas the projected area in the source direction divided by the distance\nto the source squared.\n\nBy the way, some folks recently offered a correction to the Radiance\nspecular (Gaussian) reflectance model, which eliminates the square root\nin the denominator of your formula:\n\n[ exp(-tan^2(delta/alpha^2)]\nK =    -------------------------------------------------\ncos(theta_i)*cos(theta_r)*4pi*alpha^2\n\nThis achieves a more accurate normalization of the reflectance, as the\noriginal square root was really an error on my part in a change of\nvariables I screwed up.\n\n-Greg\n\n\n\n", "replyTo": "Subject: [Radiance-general] trying to implement isotropic reflection model", "sender": "Greg Ward", "isquestion": false, "tags": [], "id": "<E98B9E70-1A77-11D9-9E05-00306540F848@lmi.net>", "refs": ["<1097246840.4166a878b4ca0@sms.ed.ac.uk>"], "datetime": "Sun Oct 10 10:32:26 2004", "email": "gward at lmi.net", "subject": "[Radiance-general] trying to implement isotropic reflection model"}