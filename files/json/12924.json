{"body": "\nOops! The resolution I gave to pvalue doesn't match the resolution in vwrays and rtrace.  I was testing a higher resolution so I could see detail in the image, but forgot to change it back to 100 after pasting into the email.  Here's the correct command:\n\nvwrays -ff -vf test.vp -x 100 -y 100 | \\\nrtrace `vwrays -d -vf test.vp -x 100 -y 100`  -ffa -om test.oct  | \\\nawk '{if($1==\"window\") print 1.0; else print 0.0;}'  | \\\npvalue +x 100 -y 100 -h -da -b -r | \\\nra_tiff - alpha.tif\n\nAlso, you might be able to use rcalc in place of awk.  It depends on whether rcalc can compare strings in an if statement.  I don't know enough about rcalc to know if it's possible.\n\nAndy\n\n\nOn Feb 24, 2012, at 2:25 PM, Andy McNeil wrote:\n\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120224/daabb6c0/attachment-0001.html>\n\n", "replyTo": "<A366C96E-16D7-49C3-A781-FB12FCF9E757@lbl.gov>", "sender": "Andy McNeil", "isquestion": false, "tags": [], "id": "<10A70AB5-2B76-43CE-8E35-DAA535B5D0B8@lbl.gov>", "refs": ["<CAD_et2V0-_7c-CJkuOmVtReznQ_HYbr1F5iZOoTFmJnTHTuhpA@mail.gmail.com>", "<4F47E8C6.3000902@visarc.com>", "<E43A469A-DD3B-46C1-A274-8CCF024DD498@yahoo.it>", "<A366C96E-16D7-49C3-A781-FB12FCF9E757@lbl.gov>"], "datetime": "Fri, 24 Feb 2012 15:18:08 -0800", "email": "amcneil at lbl.gov", "subject": "[Radiance-general] Generating alpha channels using vwrays andrtrace"}