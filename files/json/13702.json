{"body": "\nHi Rob,\n\nThe color values in the lamp.tab file are in CIE x & y plus depreciation factor (Y).  You can't just multiply this as if it is RGB.  You would have to convert to Radiance RGB first using src/cal/cal/xyz_rgb.cal like so:\n\nrcalc -f xyz_rgb.cal -e 'myX=myx/myy*myY;myZ=(1-myx-myy)/myy*myY' -e 'myx=$1;myy=$2;myY=$3' \\\n-e '$1=R(myX,myY,myZ);$2=G(myX,myY,myZ);$3=B(myX,myY,myZ)'\n\nYou would then input the xyY values from the lamp.tab file on stdin.  When I do this for your example, I get:\n\n0.907836401\t0.863244138\t0.476356636\n\nAs you can see, these are exactly the RGB values that appear in the file.\n\nBest,\n-Greg\n\n\n\n", "replyTo": "Subject: [Radiance-general] ies2rad calculation", "sender": "Greg Ward", "isquestion": false, "tags": [], "id": "<C7B5C9AD-5748-4F59-9DB1-AC83BAA2DAB2@lmi.net>", "refs": ["<50108631.1030407@gmx.de>"], "datetime": "Wed, 25 Jul 2012 17:51:22 -0700", "email": "gregoryjward at gmail.com", "subject": "[Radiance-general] ies2rad calculation"}