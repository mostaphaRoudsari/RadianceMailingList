{"body": "\nDear list,\n\nFollowing Axel Jacobs' Rtcontrib tutorial (up to pp.19 so far), I used a\nsky created by gendaylit rather than an overcast/uniform sky used in the\ntutorial.\n\nThe hdr image i got by combining the 145 sky patch hdr images shows a dark\nspot around the sun position. I assume this might be because only the \"-m\nsky_glow\" argument is specified in rcontrib, thus the image generated\ndoesn't include the contribution from the sun spot.\n\nHowever, when I include an additional \"-m solar\" argument (the material\nidentifier for the sun geometry) to the rcontrib command I only got strange\nsky patch images.\n\nMay I ask why this approach is not correct? and how to visualize the\ncontribution from the sun spot?\n\nThanks!\nJi\n\n\n\nThe shell script (without sun material identifier):\n##############################\n# create a sky description using gendaylit\n\ngendaylit  1 1 9 -a 1.37 -o -103.98 -m -120 -W 70.0 130.0 -O 1 >\n./skies/sky_gendaylit.rad\n\n# copy all lines in the original sky.rad and past in the newly generated\nsky_gendaylit.rad above\n\noconv ./materials/testroom.mat ./objects/testroom.rad\n./skies/sky_gendaylit.rad > testroom_gendaylit.oct\n\n# viz the contribution from each of the 145 patches in the gendaylit sky\nfrom the fisheye viewpoint\n\nDIMS=600\n\nvw=\"-x $DIMS -y $DIMS -vf ./views/sky.vf\"\n\nvwrays -ff $vw | rcontrib -bn 146 @./rtc.opt -ffc \\\n`vwrays -d $vw` -V+ -f tregenza.cal -b tbin \\\n-o ./images/patches_gendaylit_skyview/p%03d.hdr \\\n-m sky_glow ./testroom_gendaylit.oct\n\n# use Andy McNeil's approach to merge the 145 hdr images\n\npcomb $(for i in {001..145}; do \\\necho \"./images/patches_gendaylit_skyview/p$(printf \"%03d\" $i).hdr\"; done) \\\n\nfalsecolor -ip ./images/sky_pcomb_gendaylit_skyview.hdr -s 10000 -l cd/m2\n-n 10 \\\n##############################\n\n\n\nThe shell script of rcontrib with the sun material identifier included:\n##############################\nvwrays -ff $vw | rcontrib -bn 146 @./rtc.opt -ffc \\\n`vwrays -d $vw` -V+ -f tregenza.cal -b tbin \\\n-o ./images/patches_gendaylit_backview_withSun/p%03d.hdr \\\n-m sky_glow -m solar ./testroom_gendaylit.oct\n##############################\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131230/37ce0f8c/attachment.html>\n\n", "replyTo": "", "sender": "Ji Zhang", "isquestion": true, "tags": [], "id": "<CAD83LVJTTx6_FcRx1aFPh92oCDu0QJsBJ4vXfca125hjdZTH1A@mail.gmail.com>", "refs": [], "datetime": "Mon, 30 Dec 2013 20:50:57 +0800", "email": "hope.zh at gmail.com", "subject": "[Radiance-general] can the sun material identifier \"solar\" bespecified in rcontrib?"}