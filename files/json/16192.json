{"body": "\nAndy\n\nThank you for this.  I had the -t and -p options back to front (literally)!  When I use your settings for front transmission I now get perfect agreement.\n\nKind regards\n\nDavid Griffiths\n\n\n\nOn 19 Feb 2014, at 18:59, Andrew McNeil <amcneil at lbl.gov> wrote:\n\nHi David,\n\nI'm getting near perfect agreement between the two programs.\nMake sure you understand the front/back conventions for bsdf2rad:\n\nThis gives back transmission for the normal patch:\nbsdf2rad -t mybsdf.xml 0 0 > myrad.rad\n\nThis gives back reflection for the normal patch:\nbsdf2rad -p mybsdf.xml 0 0 > myrad.rad\n\nThis gives front transmission for the normal patch:\nbsdf2rad -p mybsdf.xml 180 0 > myrad.rad\n\nThis gives front reflection for the normal patch:\nbsdf2rad -t mybsdf.xml 180 0 > myrad.rad\n\nAnd yes, when your theta is greater than 90 (to get front values) the current behavior is that -t  gives reflection and -p gives transmission (not sure if this is expected!)\n\nIf you're still not getting agreement, send me your xml file in a separate email.\n\nAndy\n\n\n\nOn Tue, Feb 18, 2014 at 9:54 PM, Greg Ward <gregoryjward at gmail.com> wrote:\nNo, I have no idea why they should disagree.  Maybe Andy has time to compare his code to the hemispherical scattering report I'm making in bsdf2rad:\n\nfprintf(stderr, \"Hemispherical %s: %.3f\\n\",\n(output_orient > 0 ? \"reflection\" : \"transmission\"),\nSDdirectHemi(idir, SDsampSp|SDsampDf |\n(output_orient > 0 ?\nSDsampR : SDsampT), &myBSDF));\n\nIt's possible that Andy isn't using the same set of flags, and is missing some of the energy or counting both sides rather than just hemispherical transmission.\n\nCheers,\n-Greg\n\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general at radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general at radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140220/34600898/attachment.html>\n\n", "replyTo": "Subject: [Radiance-general] Interpolate BSDFs", "sender": "David Griffiths", "isquestion": false, "tags": [], "id": "<25AA8440-B31C-43C6-B7C0-4E6DFCEE3589@solaveil.co.uk>", "refs": ["<CAK+g53BdqddMsKVVrhf6RAgeyrXae=9BuxigFGjKQF09hU4oQA@mail.gmail.com>", "<CAK+g53A2bS7=HcFUQpofo7UwR7LUSmAVffrEVorzac9ms=_Fmg@mail.gmail.com>", "<05B150FF-B81F-4BF7-9A33-94B4DCC24024@gmx.net>", "<CAK+g53Bdjdo9O5ZAm20ZDvDFSpzQeRfy_zo1oF-JyXToF5rQfg@mail.gmail.com>", "<0037FBCE-9CF7-4193-8963-6BD7850DB745@lmi.net>", "<CAK+g53B9aAvKboYA-A03T6eCE1CAaXtixOJLKatKxhx3fys4RQ@mail.gmail.com>", "<4E397DDA-B157-44A5-81EC-8E5D184B1F0B@lmi.net>", "<21E5E5AA-F71B-484E-AC25-5AFD94F26CC2@solaveil.co.uk>", "<7FF7CDA5-C1D1-45F3-90DD-104B0385423E@lmi.net>", "<CAOG+Niz3YwJnu93p0aNYD3uqpYsB1JxOByi+JC+in6NOPS4=fQ@mail.gmail.com>"], "datetime": "Thu, 20 Feb 2014 14:56:00 +0000", "email": "david.griffiths at solaveil.co.uk", "subject": "[Radiance-general] Interpolate BSDFs"}