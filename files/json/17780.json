{"body": "=?windows-1252?q?_=AD_Out_of_Memory?=\n\nDear Radiance Users,\n\nI successfully built and tested the 64 bit executables of Radiance 4.3.a.2 (https://github.com/NREL/Radiance/tree/4.3.a.2), using Visual Studio 2013 64 bit and CMake 3.2.2. However, I'm running into a similar run-time crash when using rpict and oconv for very large geometries (2.4 GB geometry .rad file).\n\nI ran 64 bit rpict in Debug mode inside Visual Studio 2013 to determine the cause of the ?Unhandled Memory Exception? error. The error was traced to line 198 in objset.c of Radiance 4.3.a.2 source code.\n\nLine 198: os = ostable[osentry];\n\nVariable, osentry (int), is used as an index to access an entry in the ostable[], object table array; osentry crashes with the value -26,513. I?m not sure what is causing osentry variable to attain a negative value.. I?ve printed the osentry to screen and noticed that it is evaluated to a positive integer many times before it attains the negative value. I printed the last few osentry values during run-time.\n\nOsentry: 230041\nOsentry: 145409\nOsentry: 196801\nOsentry: -243553\n\nOconv, breaks in the same line of code as rpict (line 198 in objset.c).\n\nWhat can be causing a break at this point in the code?\n\nIs there a limit to the maximum number of polygons/vertices that can be present in a scene depending on 32 or 64 bit Radiance executables?\n\nWindows has limits to a function's recursion depth that is determined by the maximum stack size, which by default is set to 1 MB. Can the limit on the stack size be causing the unexpected run-time error?\n\n\nThank you,\nAndrei Kolomenski\n\n-----Original Message-----\nSent: Wednesday, April 22, 2015 9:47 AM\nTo: radiance-general at radiance-online.org\nOh it's definitely possible, and FYI we are doing it for Mac and Linux already. These are publicly available:\n\nLinux64\nhttps://github.com/NREL/Radiance/releases/download/5.0.a.1/radiance-5.0.a-L\ninux64.tar.gz\nhttps://github.com/NREL/Radiance/releases/download/4.3.a.2/radiance-4.3.a-L\ninux64.tar.gz\n\nMac Universal\nhttps://github.com/NREL/Radiance/releases/download/5.0.a.1/radiance-5.0.a-D\narwin.dmg\nhttps://github.com/NREL/Radiance/releases/download/4.3.a.2/radiance-4.3.a-D\narwin.dmg\n\nI also know folks are successfully building older vintages of Radiance\n(4.3a) for 64-bit Windows. We just haven't had the time to get a Windows build system together to do it here; once we do, they will be posted to NREL's GitHub site alongside the others.\n\n- Rob\n\nP.S.\nRadiance 5.0a for Windows (32bit) is also a work in progress, which we hope to have available soon.\n\n\n\nOn 4/22/15, 7:11 AM, \"Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.]\" <andrei.kolomenski at nasa.gov> wrote:\n\n\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general at radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\n", "replyTo": "<D15D0F00.18324%Robert.Guglielmetti@nrel.gov>", "sender": "Robert.Guglielmetti at nrel.gov", "isquestion": false, "tags": [], "id": "<AE55A995167B224DBBFA16500E3AB9B3047C5B84@NDJSMBX202.ndc.nasa.gov>", "refs": ["<D15C23CC.182F4%Robert.Guglielmetti@nrel.gov>", "<AE55A995167B224DBBFA16500E3AB9B3047C19EA@NDJSMBX202.ndc.nasa.gov>", "<D15D0F00.18324%Robert.Guglielmetti@nrel.gov>"], "datetime": "Mon, 27 Apr 2015 18:36:40 +0000", "email": "Guglielmetti, Robert", "subject": "Re: [Radiance-general] OConv & Rpict Runtime Error  Out of Memory"}