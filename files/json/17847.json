{"body": "\nHi Anna,\n\nOther than the source code(!), we just have the Radiance reference manual:\n\nhttp://radsite.lbl.gov/radiance/refer/ray.html#Materials\n\nHere's what it says about BRTDfunc:\n\nBRTDfunc\nThe material BRTDfunc gives the maximum flexibility over surface reflectance and transmittance, providing for spectrally-dependent specular rays and reflectance and transmittance distribution functions.\nmod BRTDfunc id\n10+  rrefl  grefl  brefl\nrtrns  gtrns  btrns\nrbrtd  gbrtd  bbrtd\nfuncfile  transform\n0\n9+   rfdif gfdif bfdif\nrbdif gbdif bbdif\nrtdif gtdif btdif\nA10 ..\nThe variables rrefl, grefl and brefl specify the color coefficients for the ideal specular (mirror) reflection of the surface. The variables rtrns, gtrns and btrns specify the color coefficients for the ideal specular transmission. The functions rbrtd, gbrtd and bbrtd take the direction to the incident light (and its solid angle) and compute the color coefficients for the directional diffuse part of reflection and transmission. As a special case, three identical values of '0' may be given in place of these function names to indicate no directional diffuse component.\nUnlike most other material types, the surface normal is not altered to face the incoming ray. Thus, functions and variables must pay attention to the orientation of the surface and make adjustments appropriately. However, the special variables for the perturbed dot product and surface normal, RdotP, NxP, NyP and NzP are reoriented as if the ray hit the front surface for convenience.\n\nA diffuse reflection component may be given for the front side with rfdif, gfdif and bfdif for the front side of the surface or rbdif, gbdif and bbdif for the back side. The diffuse transmittance (must be the same for both sides by physical law) is given by rtdif, gtdif and btdif. A pattern will modify these diffuse scattering values, and will be available through the special variables CrP, CgP and CbP.\n\nCare must be taken when using this material type to produce a physically valid reflection model. The reflectance functions should be bidirectional, and under no circumstances should the sum of reflected diffuse, transmitted diffuse, reflected specular, transmitted specular and the integrated directional diffuse component be greater than one.\n\n\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150508/392dae03/attachment-0001.html>\n\n", "replyTo": "Subject: [Radiance-general] using transdata for roller shade simulation", "sender": "Greg Ward", "isquestion": false, "tags": [], "id": "<1F882748-0A58-49EE-BDED-CE3E2E45F571@lmi.net>", "refs": ["<FF7DBAB281C1A94F80CCEC1896041532BB1285AE@SDCEMB01.unibz.it>", "<8EE3C015-0FF1-470B-9475-F7C583892B10@lmi.net>", "<FF7DBAB281C1A94F80CCEC1896041532BB1286B8@SDCEMB01.unibz.it>"], "datetime": "Fri, 8 May 2015 10:57:53 -0700", "email": "gregoryjward at gmail.com", "subject": "[Radiance-general] using transdata for roller shade simulation"}