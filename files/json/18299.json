{"body": "\nOK, this helps.  What you probably want to do is compute the average behavior as a BSDF, which requires explicitly modeling a small section of the material.  You can do this using antimatter to get the holes perfectly cylindrical.  Start with a slab from genbox as you suggested, then use antimatter like so:\n\nvoid metal aluminum\n0\n0\n5 0.7 0.7 0.7 0.9 0.02\n\n!genbox aluminum slab 140 140 4 | xform -t 0 0 -4.01\n\nvoid antimatter hole_mat\n1 aluminum\n0\n0\n\n!xform -n even -t 10 10 0 -a 10 -t 12 0 0 -a 6 -t 0 20.78461 0 cylinder.rad\n\n!xform -n odd -t 16 20.392305 0 -a 10 -t 12 0 0 -a 6 -t 0 20.78461 0 cylinder.rad\n\n------------\n\nThe file \"cylinder.rad\" contains:\n\nhole_mat ring cyl.top\n0\n0\n8\n0\t0\t0\n0\t0\t1\n0\t4\n\nhole_mat cylinder cyl\n0\n0\n7\n0\t0\t0\n0\t0\t-4.02\n4\n\nhole_mat ring cyl.bot\n0\n0\n8\n0\t0\t-4.02\n0\t0\t-1\n0\t4\n\n-----------\n\nYou then need to run genBSDF on the whole thing, keeping your sampling region within the appropriate zone:\n\ngenBSDF -t4 5 +geom millimeter +f +b -dim 10 70 10 72.35383 -4.02 0 perf.rad > perf.xml\n\nThis creates a tensor tree, which is probably better for this material.  If you need a Klems matrix, just leave off the \"-t4 5\" setting.\n\nTo apply the resulting XML file in a model, you can put this in your rendering file:\n\nvoid BSDF perf_mat\n6 0 perf.xml 0 1 0 .\n0\n0\n\nperf_mat polygon perf_shelf\n0\n0\n12\n{coordinates in horizontal plane with normal aligned with Z}\n\n-----\n\nI hope this works for you.  If you need the shelf to have a different alignment, just change the \"up\" orientation for the BSDF (set to XYZ == 0 1 0 in the above example).\n\nBest,\n-Greg\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150721/420f4cf5/attachment-0001.html>\n\n", "replyTo": "Subject: [Radiance-general] modelling perforated materials", "sender": "Greg Ward", "isquestion": false, "tags": [], "id": "<B5FC6D4F-A1A9-4811-9A4C-B4089F63BCD3@lmi.net>", "refs": ["<C0116EE6-B53E-4596-AC13-5D0AAED962DF@relume.com.au>", "<433BE549-68E1-41FC-876C-D157A31E15BE@lmi.net>", "<B2C46DF1-556C-48D2-B4E7-36F42BFBBC3D@relume.com.au>"], "datetime": "Tue, 21 Jul 2015 22:44:32 -0700", "email": "gregoryjward at gmail.com", "subject": "[Radiance-general] modelling perforated materials"}