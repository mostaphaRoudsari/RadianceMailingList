{"refs": ["<43975B52.5040903@rumblestrip.org>"], "id": "<1980CFA3-A202-4FE1-BA69-B086C8F94240@gmail.com>", "subject": "[Radiance-general] Sun too close to zenith", "email": "gregoryjward at gmail.com", "body": "\nHi Rob,\n\nI'm not exactly sure why I put this in there, it was so long ago.  I\nmay have simply been duplicating someone else's algorithm, or I may\nhave found problems related to the sun at zenith.  The whole sky\ndistribution is normalized to the zenith value, so having the sun too\nnear could be a problem, or it might have been paranoia on my part.\n\nYou can try removing lines 218-225 in gensky.c and recompiling without:\n\nif (!overcast && altitude > 87.*PI/180.) {\nfprintf(stderr,\n\"%s: warning - sun too close to zenith, reducing altitude to 87\ndegrees\\n\",\nprogname);\nprintf(\n\"# warning - sun too close to zenith, reducing altitude to 87 degrees\n\\n\");\naltitude = 87.*PI/180.;\n}\n\nTry a few data points where the sun is at the zenith and see what\nhappens.\n\n-Greg\n\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Sun too close to zenith", "tags": [], "sender": "Gregory J. Ward", "datetime": "Wed Dec  7 23:40:24 2005"}