{"refs": ["<s39ed426.048@wmtao.com>"], "id": "<4F33E201-DA29-4250-A21F-517B46C3A43A@gmail.com>", "subject": "[Radiance-general] Math Help Needed", "email": "gregoryjward at gmail.com", "body": "\nHi Mark,\n\nYou should check out the replmarks program, if you don't know about\nit already.  You can use it to substitute simple triangles with\nwhatever geometry you like.  If it doesn't do what you want, the\nfollowing routine (taken from src/gen/replmarks.c) might prove useful.\n\n-Greg\n\n------------------\n\nint\naddrot(\t\t/* compute rotation (x,y,z) => (xp,yp,zp) */\nregister char\t*xf,\nFVECT xp,\nFVECT yp,\nFVECT zp\n)\n{\nint\tn;\ndouble\ttheta;\n\nn = 0;\ntheta = atan2(yp[2], zp[2]);\nif (!FEQ(theta,0.0)) {\nsprintf(xf, \" -rx %f\", theta*(180./PI));\nwhile (*xf) ++xf;\nn += 2;\n}\ntheta = asin(-xp[2]);\nif (!FEQ(theta,0.0)) {\nsprintf(xf, \" -ry %f\", theta*(180./PI));\nwhile (*xf) ++xf;\nn += 2;\n}\ntheta = atan2(xp[1], xp[0]);\nif (!FEQ(theta,0.0)) {\nsprintf(xf, \" -rz %f\", theta*(180./PI));\n/* while (*xf) ++xf; */\nn += 2;\n}\nreturn(n);\n}\n\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Math Help Needed", "tags": [], "sender": "Greg Ward", "datetime": "Wed Dec 14 00:20:17 2005"}