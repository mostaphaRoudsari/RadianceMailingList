{"refs": ["<480E5201.3000001@gmx.net>", "<78CADA38-E7B3-43B1-A2AB-BA080087BBDE@lmi.net>", "<BAY143-W53D41A85DBCC414F558C4E0E30@phx.gbl>"], "id": "<71D4FB04-0E56-404F-9FBB-61CA77AA63E5@lmi.net>", "subject": "[Radiance-general] Modeling an oil lamp sour", "email": "gregoryjward at gmail.com", "body": "\nHi Steve,\n\nThe file \"blackbody.cal\" just defines a couple of functions, cct_x(t)\nand cct_y(t).  You can use these in icalc or rcalc, like so:\n\n% icalc blackbody.cal\ncct_x(2200)\n$1=0.5056338\ncct_y(2200)\n$2=0.4152074\n\n% echo 2200 | rcalc -f blackbody.cal -e '$1=cct_x($1);$2=cct_y($1)'\n0.5056338       0.4152074\n\nIf you want to go from CIE (x,y) to Radiance RGB, use in combination\nwith xyz_rgb.cal like so:\n\n% echo 2200 100 | rcalc -f blackbody.cal -f xyz_rgb.cal \\\n-e 'xi=cct_x($1);yi=cct_y($1)' -e 'Yi=$2;Xi=Yi*yi/xi;Zi=Yi*(1-xi-yi)/\nyi' \\\n-e '$1=R(Xi,Yi,Zi);$2=G(Xi,Yi,Zi);$3=B(Xi,Yi,Zi)'\n\nIn this case, the second input field (100) is the Y value.\n\nI hope this helps.\n-Greg\n\n\n######################\n\nNOTE WELL:\n\nAntivirus software was unable to scan the attachments to this message.\n\nTo protect your computer, the Berkeley Lab Computer Protection Program\nremoved the attachments from this message.\n\nPlease see https://www.lbl.gov/wiki/bin/view/Main/AVUnscannableFiles\n\nThe following attachments were removed: None\n\n######################\n\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Modeling an oil lamp sourc", "tags": [], "sender": "Greg Ward", "datetime": "Thu Apr 24 16:33:35 2008"}