{"body": "\nHi Ignacio,\n\nYour problem stems from the fact that your modified angles do not\nobey reciprocity, which says that if you reverse the ray (light)\ndirection, then the angles remain the same on either side.  Both\nprisma and prism2 require this property to function.  Implementing\nSnell's law correctly, you should get a working material.\n\nThe vector version of Snell's law may be found in ray/src/\ndielectric.c, or in an easier-to-read form on Wikipedia:\n\nhttp://en.wikipedia.org/wiki/Snell's_law\n\nNote that the roles of the inside and outside indices of refraction,\nn1 and n2, reverse when you come from one side of the water verses\nthe other.  The n of water is about 1.3, and air is of course 1.0.\n(OK, quibblers, air is really 1.0003)\n\n-Greg\n\n\n", "replyTo": "Subject: [Radiance-general] water simulation", "sender": "Gregory J. Ward", "isquestion": false, "tags": [], "id": "<1CD1EC8C-0CF6-47D5-9CEB-95D5DA70D4E1@gmail.com>", "refs": ["<000701c67429$f1607730$0301a8c0@aisxeon>"], "datetime": "Wed May 10 22:02:04 2006", "email": "gregoryjward at gmail.com", "subject": "[Radiance-general] water simulation"}