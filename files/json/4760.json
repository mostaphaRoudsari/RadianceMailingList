{"refs": ["<7792B71B342F49C38BDBA8683FA0BDD7@micr817p>"], "id": "<70DD3A1408BDA8498790E8D553B7D25301D46D248C08@HEFRMAIL.sofr.hefr.lan>", "subject": "[Radiance-general] daylight factor and rtrace cmd", "email": "Raphael.Compagnon at hefr.ch", "body": "\nHello\n\nIn fact your calculation seems absolutely correct.\nYou ask rtrace with options -I and -oodv this means the following:\n- radiance will place a virtual lambertain reflector at each point of your input file\n- for each point of your input file a ray will be traced from a virtual point 1 meter above in the vertivcal down direction\n- this is excatly what appears in the rtrace output you are providing. The \"od\" in -oodv means you ask rtrace to output\nthe x,y,z origin\nthe x,y,z direction which is traced (you get 0 0 -1 in your output file)\n- each of these rays will find the virtual lambertain reflector at its first intersection\n- then radiance will compute the irradiance at this intersection point\n- and rtrace returns the irradiance value (the \"v\" in -oodv )\n\nThe rtrace -i behaves differently: rtrace will trace a ray for each input point in the specified direction. Then it will compute the irradiance at the first instersection point found in the scene. In your case, with the same input file you would get the irradiance on the ceiling... which is probably not what you really need.\nThis explains why the most useful -I option exists!\n\nRaphael Compagnon\n\n________________________________________\nDe : radiance-general-bounces@radiance-online.org [radiance-general-bounces@radiance-online.org] de la part de PAUPELIN-HUCHARD Valere [v.paupelin-huchard@elioth.fr]\nDate d'envoi : jeudi, 16. juillet 2009 18:17\n? : radiance-general@radiance-online.org\nObjet : [Radiance-general] daylight factor and rtrace cmd\n\nHello,\n\nI'm trying to do daylight factor calculation. I am observing a 1 meter height offset between my workplan point file which is already at 0.85m above the floor (*.fld) and the rtrace result (*.irr).\nSomeone would tell me why?\n\nthe command used is:\nrtrace -ab 7 -ad 2048 -oodv -I rcp.oct<numeric/plan_de_travail.fld>numeric/090715_BU_Rennes_07_vitrage_irradiance.irr\n\nfour first lines sample of the files:\n\nplan_de_travail.fld:\nx          y         z         o\n0.50     -0.25     1.84     0 0 1\n0.50     0.00      1.84     0 0 1\n0.50     0.25      1.84     0 0 1\n0.50     0.50      1.84     0 0 1\n\n090715_BU_Rennes_07_vitrage_irradiance.irr\nx                        y                        z                          o                                                                          r                         g                         b\n5.000000e-001    -2.500000e-001     2.840000e+000     0.000000e+000 0.000000e+000 -1.000000e+000     1.406147e-001     1.406147e-001     1.406147e-001\n5.000000e-001     0.000000e+000    2.840000e+000     0.000000e+000 0.000000e+000 -1.000000e+000     1.581891e-001     1.581891e-001     1.581891e-001\n5.000000e-001     2.500000e-001     2.840000e+000     0.000000e+000 0.000000e+000 -1.000000e+000     1.765201e-001     1.765201e-001     1.765201e-001\n5.000000e-001     5.000000e-001     2.840000e+000     0.000000e+000 0.000000e+000 -1.000000e+000     1.890535e-001     1.890535e-001     1.890535e-001\n\nI am afraid my daylight factor result are not valid at the height of 1.84m but at 2.84m, am I wrong?\n\nThanks,\nValere.\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] daylight factor and rtrace cmd", "tags": [], "sender": "=?iso-8859-1?Q?Compagnon_Rapha=EBl?=", "datetime": "Thu Jul 16 10:30:34 2009"}