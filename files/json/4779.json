{"refs": ["<4a673c26.1818d00a.7ebb.ffffbb30@mx.google.com>"], "id": "<7E9191C753C6724DB772B5610559B2CF17E00EEF@winxbeuk01.exchange.xchg>", "subject": "[Radiance-general] Bash problems", "email": "danf at eb7.co.uk", "body": "\nDear Community\n\nI am trying to determine a maximum illum value within a picture file then print the result if it is above a certain value.  Here is where I am at the moment:\n\nmaxim=$(pextrem -o 9.pic | rcalc -e '$1=($3*0.265+$4*0.670+$5*0.065)*179' | total -u)\necho $maxim\nif [ \"$maxim\" -gt 15000 ] ; then\npextrem -o 9.pic | rcalc -e '$1=($3*0.265+$4*0.670+$5*0.065)*179' total -u > 9.dat\nfi\ndone\n\nThe problem:  I keep getting the : integer expression expected warning.  As far as I can see, $maxim is an integer as shown from the echo expression.  Therefore I don't understand what I'm doing wrong here.  Any pointers will be greatly appreciated.\n\nDan\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Bash problems", "tags": [], "sender": "Dan Fitzpatrick", "datetime": "Wed Jul 22 10:30:47 2009"}