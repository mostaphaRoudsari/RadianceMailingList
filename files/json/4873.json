{"refs": ["<005601ca458c$5cb7fc60$1627f520$@com><F65C1ECF836F09418EBE88D3E33A8D2D054AEEBA@eurxmb06.global.arup.com>\t<006901ca45a4$c91d1580$5b574080$@com>\t<F65C1ECF836F09418EBE88D3E33A8D2D054AF014@eurxmb06.global.arup.com>", "<007901ca45ac$6cfe7f70$46fb7e50$@com> <4AC9EBAA.2060704@visarc.com>"], "id": "<001301ca4674$9cedc7e0$d6c957a0$@com>", "subject": "[Radiance-general] Help on BRTDfunHello!", "email": "adiance-general-bounces@radiance-online.org", "body": "\nThanks Jack and Erick,\n\nI got BRTDfunc to work on double glazing with glaze2.cal following the\nprevious post from Marija that:\n\nvoid BRTDfunc double_glazing\n10\nif(Rdot,cr(fr(rf1_r),ft(t1_r),fr(rf2_r)),cr(fr(rb2_r),ft(t2_r),fr(rb1_r)))\nif(Rdot,cr(fr(rf1_g),ft(t1_g),fr(rf2_g)),cr(fr(rb2_g),ft(t2_g),fr(rb1_g)))\nif(Rdot,cr(fr(rf1_b),ft(t1_b),fr(rf2_b)),cr(fr(rb2_b),ft(t2_b),fr(rb1_b)))\nft(t1_r)*ft(t2_r)\nft(t1_g)*ft(t2_g)\nft(t1_b)*ft(t2_b)\n0 0 0\nglaze2.cal\n\n0\n9\n0 0 0\n0 0 0\n0 0 0\n\n\nCurrently trying out glaze1.cal and hope that I get it right.  Thanks for\nthe clues.  I also reversed the window surface normal to point to the room\ninterior where my camera is.  I may be able to modify the BRTDfunc and glaze\nparameters thanks to your clues.\n\nI was trying out various glass reflectance to see if it would affect the\nrendered image and it did.\n\nThanks very much!\n\nBest regards,\nJun\n\n\nSent: Monday, October 05, 2009 8:51 PM\nTo: jcalixihan@cladding.com; Radiance general discussion;\nErik.Moore@arup.com\nHi Jun and Erik,\n\nTo clarify a bit. The radiance material descriptions exported from Optics 5\nare as follows:\n*\tfront side as BRTDfunc\n*\tback side as BRTDfunc\n*\tglass\nThe front and back descriptions use a simple version of BRTDfunc, simple in\nthat they do not call any functions for additional calculations that would\nhelp account for angular dependencies for transmittance and reflectance.\nHowever they do start to capture higher reflectance qualities of certain\ntypes of glass. The glass material will account for the transmittance\n(transmissivity) of the material but will not account for higher\nreflectances and differing front and backside reflectances.\n\nBRTDfunc is a full material in Radiance, thus like a glass, plastic, metal,\netc material type, it can be applied directly to geometry. The downside of\nthe BRTDfunc descriptions exported from Optics is that they do not account\nfor angular dependencies found in glazing materials for reflectance and\ntransmittance, to do this you need to do a bit more conversion. To have a\nmaterial description that integrates both front and back side\ncharacteristics as well as accounts for angular dependencies, there are two\nways to go:\n1.\toptics2rad - converts the radiance format file output from optics to\na more robust BRTDfunc material description.\n2.\tglaze - look at the glaze script for building up material\ndescriptions for different types of glass. Note that this can be modified to\ninclude data for other glass types that you may export from Optics (these\nmust be exported as single layers, not composites).\nHope this helps.\n\n-Jack de Valpine\n\n\n\nEdilberto Calixihan wrote:\nHello Erik,\n\nActually your reply was very helpful.  It pointed me to where else to look\nand think that BRTDfunc may be enough of a description.\n\nMy rendered picture looks the same as using the \"glass\" material though, and\nit looks like I did not capture the glass reflectivity well.  Anymore help\nis very very welcome.\n\nCheers!\n\nBest regards,\nJun\n\nSent: Monday, October 05, 2009 6:36 PM\nTo: jcalixihan@cladding.com; Radiance general discussion\nyeup, your correct. I should have had a bit more of a look before my\nresponce. As I previously said, I've never used the BRTDfunc material type\nso I'm afraid I'm not any help with the use of the funcfile??\n\nAnyone else?\n\n_____\n\n[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Edilberto\nCalixihan\nSent: 05 October 2009 11:16\nTo: 'Radiance general discussion'\n\nThanks for giving some ideas on this and pointing in the right direction. I\nwas already stuck.\n\nIt seems BRTDfunc is already a material and we may not need the glass\nmaterial definition anymore (pls. correct me here).\n\nAlso it may seem that we may need to add the use of glazing.cal as mentioned\nin http://finance.dir.groups.yahoo.com/group/DesktopRadiance/message/14.  I\ntried the below definition and it worked.  Although I'm still not sure if\nthis is the correct way.  Any additional clues is highly welcome.\n\nvoid  BRTDfunc    Clear\n10\n0.077     0.082     0.082\n0.857     0.894     0.877\n0 0 0\nglazing.cal\n0\n9 0 0 0 0 0 0 0 0 0\n\n\nYou're right on the same numbers of front and back reflectance from Optics 5\n.rad file and will need to check the glass.  I think Optics 5 may have a bug\non Radiance export but will verify:\nhttp://www.radiance-online.org/radiance-workshop5/2006_Radiance_Workshop/Pre\nsentations/Ward_RadianceFeatures.pdf\n\nThanks and best regards,\nJun\n\n\nSent: Monday, October 05, 2009 4:47 PM\nTo: jcalixihan@cladding.com; Radiance general discussion\nHi there Jun,\n\nI'm not an expert and I'm sure that someone might correct me but.... you\nneed to apply the modifier that you are using to the glass description. the\nterm 'void' means that you are not applying a modifier. Also, you will need\nto change the name of the modifier (or the name of the polygons) as I think\nthat your polygons have been named 'clear'.\n\nTry this:\n\nvoid  BRTDfunc    01_Clear_8_front\n10\n0.077     0.082     0.082\n0.857     0.894     0.877\n0 0 0\n.\n0\n9 0 0 0 0 0 0 0 0 0\n\n01_Clear_8_front  glass   clear\n0\n0\n3     0.934     0.974     0.955\n\nPlease note the order.... Radiance will need to read what the modifier is\nBEFORE it can be applied to anything. I have never used this sort of\nmodifier before, so I'm not too sure on what the arguments are (and hence\ncan't comment on them..??) and I'm not too sure why you have two of them\n(front and back) which are identical?\n\nhope this helps. Anyone else who can correct me on anything please but in!\n\nErik\n\n\n\n_____\n\n[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Edilberto\nCalixihan\nSent: 05 October 2009 08:21\nTo: radiance-general@radiance-online.org\n\nI'm new to Desktop Radiance and use Ecotect to create and run the\nsimulations.  I need advise on using BRTDfunc.  Below is the .rad file from\nOptics 5 for the clear glass that I need:\n\nvoid  glass       01_Clear_8_glass\n0\n0\n3     0.934     0.974     0.955\n\nvoid  BRTDfunc    01_Clear_8_front\n10\n0.077     0.082     0.082\n0.857     0.894     0.877\n0 0 0\n.\n0\n9 0 0 0 0 0 0 0 0 0\n\nvoid  BRTDfunc    01_Clear_8_back\n10\n0.077     0.082     0.082\n0.857     0.894     0.877\n0 0 0\n.\n0\n9 0 0 0 0 0 0 0 0 0\n\n\nWhen I insert it into the my scene file (replace the default glass command\nlines) I get an \"unidentified modifier \"Clear\"\" error.  Which means the\npolygons referencing \"Clear\" cannot find the glass description, right?  I\nwould modify the glass description to various id combinations like the one\nbelow but I get a \"bad arguments for \"Clear\"\" error.\n\nvoid  glass   Clear   Clear_8_glass\n0\n0\n3     0.934     0.974     0.955\n\nvoid  BRTDfunc  Clear_8_front\n10\n0.077     0.082     0.082\n0.857     0.894     0.877\n0 0 0\n.\n0\n9 0 0 0 0 0 0 0 0 0\n\nvoid  BRTDfunc  Clear_8_back\n10\n0.077     0.082     0.082\n0.857     0.894     0.877\n0 0 0\n.\n0\n9 0 0 0 0 0 0 0 0 0\n\n\nHow can I properly run BRTDfunc and the glass reflection numbers from Optics\n5?\n\nThe one that seems to run ok is below but not sure if I got it right..\nAlso, we don't have a Unix pc at work but I'm interested in the newer\nversions of Radiance.  Shall I start to learn Cygwin or MinGW to access\nadvance glass functions?  Any advice would be very helpful.\n\nvoid  glass   Clear\n0\n0\n3     0.934     0.974     0.955\n\n\nvoid  BRTDfunc    Clear_8_front\n10\n0.077     0.082     0.082\n0.857     0.894     0.877\n0 0 0\n.\n0\n9 0 0 0 0 0 0 0 0 0\n\nvoid  BRTDfunc    Clear_8_back\n10\n0.077     0.082     0.082\n0.857     0.894     0.877\n0 0 0\n.\n0\n9 0 0 0 0 0 0 0 0 0\n\n\n\nThanks so much!\nJun\n____________________________________________________________\nElectronic mail messages entering and leaving Arup  business\nsystems are scanned for acceptability of content and viruses\n\n\n\n\n_____\n\n\n\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general@radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\n\n\n\n--\n# Jack de Valpine\n# president\n#\n# visarc incorporated\n# http://www.visarc.com\n#\n# channeling technology for superior design and construction\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: http://radiance-online.org/pipermail/radiance-general/attachments/20091006/1cd0e36a/attachment-0001.html\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Help on BRTDfunc", "tags": [], "sender": "adiance-general-bounces@radiance-online.or", "datetime": "Tue Oct  6 04:01:25 2009"}