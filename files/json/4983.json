{"refs": [], "id": "", "subject": "[Radiance-general] Adding the sun to image based lightingenvironment", "email": "iversen.anne at gmail.com", "body": "Message-ID: <fdd7db810911191056k399fac6aoe8cf4e5d41cb6a6e@mail.gmail.com>\n\nHi list,\n\nI have tried to add a description of the sun to my ibl environment generated\nfrom a chrome ball. However the ?added? description of the sun is not taken\ninto account. If anyone can guide me on how to proceed I would really\nappreciate it.\n\n\n\nThanks!\n\nAnne\n\n\n\nBelow I have given you information on\n\n1)    Description of the lighting environment in Environment.rad\n\n2)    The commands I have used to run the environment ? with and without\nmksource.\n\n\n\nFor mapping the chrome ball image to the environment I have applied the\nfollowing approach, taken from the ?High Dynamic Range Imaging Book?:\n\n\n#-------------------------------------------------------------------------\n\nAd 1) Environment.rad:\n\nvoid colorpict hdr_env\n15 red green blue C_20091002ball@10h44_tilt38.hdr mirrorsphere.cal sb_u sb_v\n-i 1 -rx 90 -rz 8 -ry 0\n0\n0\n\n\n# specify a \"glow\" material that will use this image\nhdr_env glow env_glow\n0\n0\n4 1 1 1 0\n\nenv_glow sphere sphereenv\n0\n0\n4 0 0 0 -1000\n\n#To this I have added the description of the sun, the location of the sun\nhas been derived from the chrome ball image:\n\n\n\n# simulation of the sun, radiance and location\nvoid light lum_sun\n0\n0\n3 46700 46700 46700\n\n\n\nlum_sun source sun\n-rx 90 -rz 8 -ry 0\n\n0\n\n4 0.6410 0.5537 -0.5315 0.5323\n\n\n\n\n\n#----------------------------------------------------------------------------------------------------\n\nAd 2) When running the environment I have used following approach:\n\nWithout mksource, just an oconv:\n\n\n\noconv Environment.rad > ibl1.oct\n\n\n\nWith mksource:\n\noconv Environment.rad > iblmksource.oct\n\nmksource ?a 0.5 iblmksource.oct > srcs.rad\n\noconv -i iblmksource.oct srcs.rad > ibl1.oct\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: http://radiance-online.org/pipermail/radiance-general/attachments/20091119/4ff67990/attachment.html\n", "isquestion": true, "replyTo": "", "tags": [], "sender": "Anne Iversen", "datetime": "Thu Nov 19 10:57:05 2009"}