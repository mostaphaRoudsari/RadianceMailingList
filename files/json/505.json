{"refs": [], "id": "", "subject": "[Radiance-general] Re: Thanks .... Warning message and glass definition", "email": "adiance-general@radiance-online.org", "body": "Message-ID: <7D239D12-F9B4-11D7-851C-000A956D40C8@lmi.net>\n\nHi Arvinder,\n\nIt's funny you should write this morning, as I just realized that I\nmade a mistake (two, actually) in my formula for the normal reflectance\nof a simple glazing, and I was just about to post a correction.\n\nThere are actually two files in the ray/src/cal/cal directory that\nshould be helpful, which I forgot were there:\n\ntrans.cal\t- the exact solution for transmissivity based on normal\ntransmittance and index of refraction\n\ntrans2.cal\t- an approximate solution for the index of refraction and\ntransmissivity based on normal reflectance and transmittance\n\nIf you run \"calc trans2.cal\" in the ray/src/cal/cal directory and enter:\n\nTn = 0.85\nRn = 0.05\n\nTyping in \"n\" and \"tn\" will give you these results:\n\nn\n$1=1.39992615\ntn\n$2=0.894736842\n^D\n\nChecking this against the file trans.cal, to which I've added the\ncorrected formula for Rn:\n\n% calc trans.cal\nRn = rn + rn*sq((1-rn)*tn)/(1-sq(tn*rn));\n\nn = 1.4\nTn = 0.85\n\nRn\n$1=0.0489971986\ntn\n$2=0.898704882\n\nWe can see there's just a slight error in the approximations made in\ntrans2.cal.  Playing around with these values in trans.cal, I was able\nto get closer to the correct parameters for your glass type:\n\nn = 1.405\nRn\n$9=0.0500464342\ntn\n$10=0.899753993\n\nActually, the first approximate result is probably good enough, but\nanyway, the correct glass specification should be:\n\nvoid glass class_lglass\n0\n0\n4\t0.900 0.900 0.900\t1.405\n\nSorry for the screw-up.  The advantage of programming is that you can\nfix your errors (usually) before they do irreperable harm.\n\n-Greg\n\n\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Re: Thanks .... Warning message and glass definiti", "tags": [], "sender": "Greg Ward", "datetime": "Wed, 8 Oct 2003 10:26:01 -0700"}