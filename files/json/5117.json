{"body": "\nHi Arvinder,\n\nI haven't read through this post thoroughly or Rob's reply, but just\nwanted to mention the optics2rad script that's included in Radiance\n3.8.  That takes your Optics5 output and produces:\n\n# Output generated by /usr/local/ray/optics2rad from /tmp/t.mat\n# Product Name= Heat Mirror? HPR 18 Suspended Film\n# NFRC ID= 1507\n# Manufacturer Name= Southwall Technologies, Inc.\n# Glazing Type= Coated\n# Coated Side= Front\n# Transmittance= 0.189\n# Front Reflectance= 0.649\n# Back Reflectance= 0.116\n# Thickness(mm)= 0.076\n# Appearance= Reflective\n#\n\nvoid BRTDfunc HMHPR18\n10\nrR_bronze rG_bronze rB_bronze\n0.131*tR_bronze   0.197*tG_bronze   0.341*tB_bronze\n0 0 0\nwindow.cal\n0\n15 0 0 0 0 0 0 0 0 0\n0.745       0.636      0.4\n0.163         0.1    0.092\n-----------\n\nObviously, you need the new window.cal file as well, which is\ncorrected from the original glazing.cal.  I have attached it here\njust in case you don't have vers. 3.8:\n\n{ RCSid $Id: window.cal,v 2.1 2006/05/19 03:50:13 greg Exp $ }\n{\nThe following calculation uses the BRTDfunc type to\nreproduce the\ncalculation used by LBL's Optics 5 program for the\ntransmittance\nand reflectance of coated glazings.  This calculation is based\non fits for the angular dependence for clear and bronze-coated\nglazing, and is not terribly accurate.  The variables ??_clear\nbelow should be replaced by ??_bronze in the case of the bronze\nglazing model.  Used with optics2rad script.\n\n5/18/2006       Greg Ward\n\nArguments used for this material should look like:\n\nmod BRTDfunc my_glazing\n10      rR_clear        rG_clear        rB_clear\nRTAU*tR_clear   GTAU*tG_clear   BTAU*tB_clear\n0       0       0\nwindow.cal\n0\n15      0       0       0\n0       0       0\n0       0       0\nFRRHO   FGRHO   FBRHO\nBRRHO   BGRHO   BBRHO\n\nwhere:\nFRRHO   FGRHO   FBRHO   is front normal spectral\nreflectance\nBRRHO   BGRHO   BBRHO   is back normal spectral\nreflectance\nRTAU    GTAU    BTAU    is normal spectral\ntransmittance\n}\n{ get normal reflectance }\nrbase = if(Rdot,10,13);                 { different front and back }\nRred = arg(rbase)*CrP;\nRgrn = arg(rbase+1)*CgP;\nRblu = arg(rbase+2)*CbP;\n{ transmittance coefficients }\nTclear = clip(-.0015 + RdotP*(3.355 + RdotP*(-3.840 +\nRdotP*(1.460 + RdotP*.0288))));\n\nTbronze = clip(-.002 + RdotP*(2.813 + RdotP*(-2.341 +\nRdotP*(-.05725 + RdotP*.599))));\n\n{ reflectance coefficients }\nRclear = clip(.999 + RdotP*(-.563 + RdotP*(2.043 +\nRdotP*(-2.532 + RdotP*1.054))) - Tclear);\n\nRbronze = clip(.997 + RdotP*(-1.868 + RdotP*(6.513 +\nRdotP*(-7.862 + RdotP*3.225))) - Tbronze);\n\n{ returned spectral transmittance }\ntR_clear = CrP*Tclear;\ntG_clear = CgP*Tclear;\ntB_clear = CbP*Tclear;\n\ntR_bronze = CrP*Tbronze;\ntG_bronze = CgP*Tbronze;\ntB_bronze = CbP*Tbronze;\n{ returned spectral reflectance }\nrR_clear = Rred*(1 - Rclear) + Rclear;\nrG_clear = Rgrn*(1 - Rclear) + Rclear;\nrB_clear = Rblu*(1 - Rclear) + Rclear;\n\nrR_bronze = Rred*(1 - Rbronze) + Rbronze;\nrG_bronze = Rgrn*(1 - Rbronze) + Rbronze;\nrB_bronze = Rblu*(1 - Rbronze) + Rbronze;\n-------------------------\n\nHope this helps.\n-Greg\n", "replyTo": "<C285E143-3BA7-44E0-9E65-4D45F2636BDE@rumblestrip.org>", "sender": "Gregory J. Ward", "isquestion": false, "tags": [], "id": "<8ED36571-D13B-42D0-84F1-40D797A32D0F@gmail.com>", "refs": ["<20061227161135.53543.qmail@web52306.mail.yahoo.com>", "<C285E143-3BA7-44E0-9E65-4D45F2636BDE@rumblestrip.org>"], "datetime": "Thu Dec 28 22:14:39 2006", "email": "gregoryjward at gmail.com", "subject": "[Radiance-general] Modeling reflective glazing and glazing withceramic frit"}