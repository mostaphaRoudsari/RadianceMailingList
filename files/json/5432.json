{"refs": ["<BBA990A6-8BA5-4D39-8408-66C791D648C4@lbl.gov>", "<FEC8045A-BAFC-44C7-9A72-EE529F12859D@lmi.net>", "<C7F8AAD7-2300-46CE-94E5-6CFF1E148868@lbl.gov>"], "id": "<09FC7FF7-C160-4E56-B4F2-2ED1B97B9ACB@gmail.com>", "subject": "[Radiance-general] Re: trans dashboard widg", "email": "gregoryjward at gmail.com", "body": "\nHi Andy,\n\nThis was more of a struggle than I expected.  I don't know what I did\nwith my old color wheel, so I tried to come up with an expression to\ngenerate a new one based on the Wikipedia page on HSV conversions.\nIt's not quite what I was going for, but it's OK:\n\npcomb -x 512 -y xres \\\n-e 'xc:xres/2;yc:yres/2;xr=(x-xc)/xc;yr=(y-yc)/yc' \\\n-e 'rv=.7349*xr-.3495*yr;gv=-.2651*xr+.2279*yr;bv=-.2651*xr-.9268*yr' \\\n-e 'max(a,b):if(a-b,a,b);Y=1-max(rv,max(gv,bv))' \\\n-e 'in=1-xr*xr-yr*yr' \\\n-e 'ro=if(in,Y+rv,.5);go=if(in,Y+gv,.5);bo=if(in,Y+bv,.5)' \\\n| ra_tiff - color_wheel.tif\n\nWhen the user chooses a color, you'll have to map back to linear RGB\n(undoing the 2.2 gamma) and normalize.\n\nHope it works!\n\n-Greg\n\nP.S.  I didn't notice the trick of going to \"plastic\" when\ntransmission is zero -- very nice!\n\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Re: trans dashboard widget", "tags": [], "sender": "Gregory J. Ward", "datetime": "Fri Apr 30 11:55:28 2010"}