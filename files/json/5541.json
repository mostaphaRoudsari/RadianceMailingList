{"body": "\nHi Andy,\n\nLooks like this one slipped through the cracks during my absence as\nwell.  Not too surprising, considering the subject...\n\n\nIndividual source values/images from rtcontrib often do contain a lot\nof noise, which is reduced when you sum several sources together as\nis normally done in a daylight coefficient method, but more\nproblematic for sun sources.  (By the way, using the -V+ option\nshouldn't be necessary in this case.)\n\nA funny trick you can try is using multiple identical calculations\nthen averaging the result into your output file.  I recommend doing\nthis in two steps, so you can recover the run if you have to.  The\nfollowing would take 16 samples at each illuminance point and average\nthem together to reduce noise by a factor of 4:\n\nsed -n 'p;p;p;p;p;p;p;p;p;p;p;p;p;p;p;p' pluxmeters_test_office.txt \\\n| rtcontrib -V+ -o solar_coefficients16.bin \\\n-M sun_modifiers.txt -fad -ab 5 -ad 4096 -lw 1e-8 -I+ -h \\\noctrees/scene_with_suns.oct\ntotal -m -id -16 -od solar_coefficients16.bin > solar_coefficients.bin\nrm solar_coefficients16.bin\n\nOr, you can put everything in one command if you're feeling brave and\nwant to save time & file space:\n\nsed -n 'p;p;p;p;p;p;p;p;p;p;p;p;p;p;p;p' pluxmeters_test_office.txt \\\n| rtcontrib -V+ -o '!total -m -id -16 -od > solar_coefficients.bin' \\\n-M sun_modifiers.txt -fad -ab 5 -ad 4096 -lw 1e-8 -I+ -h \\\noctrees/scene_with_suns.oct\n\nNote that C-shell users will have to add a backslash ('\\') before the\nexclamation mark ('!') in the -o option of rtcontrib.\n\nI should probably build this trick straight into rtcontrib, as I've\nused it myself to good effect.\n\n\nBy default, rtcontrib uses Russian roulette to avoid the usual bias\nin Monte Carlo ray-tracing, but it does come at the cost of higher\nnoise levels.  I wouldn't know what other parameters to suggest you\nfool with, either.\n\n\nI can't really help you there, but perhaps someone else has a\nsuggestion for the cygwin memory issue.\n\n-Greg\n\n", "replyTo": "Subject: [Radiance-general] Re: rtcontrib parameter settings", "sender": "Gregory J. Ward", "isquestion": false, "tags": [], "id": "<76BBBDFC-D4E1-43C3-BBF8-9E224AB57456@gmail.com>", "refs": ["<94590C9AC072E74A8CFCFB5014B2CD271F693F@bdspserver04.BDSPUK02.local>"], "datetime": "Tue Jul 24 23:24:32 2007", "email": "gregoryjward at gmail.com", "subject": "[Radiance-general] Re: rtcontrib parameter settings"}