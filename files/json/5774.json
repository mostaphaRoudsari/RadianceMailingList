{"refs": [], "id": "<7F52B9A6-B6FE-4A9D-BA2E-9E439CC4093C@gmail.com>", "subject": "[Radiance-general] convert camera exposure to radian", "email": "jelleferinga at gmail.com", "body": "\nHi,\n\nOn page 330 of RwR there is a nice .cal formula that let's you mimic a camera exposure to a .hdr file.\nI'd like to do the inverse, and use my camera as an approximate radiance / lux / candela measuring device.\nI realize this is pretty approximate, but that will do for now.\nActually, it could have some general usefulness; let's say you visited a beautiful building some time ago took some shots and would like to know the approx. lighting levels there.\nSuch a tool would be a nice aid.\n\nTo go all out on this would be to use the exif data from an image, rather than setting these options manually I suppose.\n(That would be pretty easy to do actually)\n\nHowever, it seems to me that E is returning an exposure setting ( for use with pfilt -e ? ) rather than a Radiance value ( candela, lux conversion could be handy ).\nHow could I retrieve the approximate radiance value?\n\nThanks in advance,\n\n-jelle\n\n\nfrom __future__ import division\nimport optparse, math, sys\n\nparser = optparse.OptionParser()\nparser.add_option('-e', '--exposure-time',  action=\"store\", type=float, help=\"exposure time\")\nparser.add_option('-s', '--iso',            action=\"store\", type=int, help=\"film speed (iso/asa)\")\nparser.add_option('-f', '--f-stop',         action=\"store\", type=float, help=\"camera f-stop\")\noptions, remainder = parser.parse_args()\n\nfor i in ['exposure_time', 'f_stop', 'iso']:\nif getattr(options, i) is None:\nprint 'the option %s was not set, but is required' % (i)\nsys.exit()\n\n# honestly stolen from Rendering with Radiance page 330\n# relationship between Radiance exposure and film exposure\n\nK = 179*(math.pi/200)\n# C allows you to ^ on floats and python does not?\nE = int( K * options.exposure_time * options.iso / options.f_stop )  ^ 2\nsys.stdout.write('E -> ' + str(E) + '\\n')\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: http://radiance-online.org/pipermail/radiance-general/attachments/20100818/a12971b0/attachment.htm\n", "isquestion": true, "replyTo": "", "tags": [], "sender": "jelle feringa", "datetime": "Wed Aug 18 04:07:52 2010"}