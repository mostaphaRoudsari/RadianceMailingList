{"body": "<8E52E9F5-B92F-42A6-961D-B105CA88C892@lmi.net>\n\nThat is a cool feature, Greg,\nUsing your files, I increased resolution, added a few spheres and rendered..\nhttp://rastermon.livejournal.com/\n\nRob F\n\n-----Original Message-----\nSent: Sat 11/17/2007 9:16 AM\nTo: Radiance general discussion\nHi Rob,\n\nIf you type \"make\" in the unpacked directory, the enclosed Makefile\n(attached with minor tweaks) will run the following commands:\n\noconv -f pool_surface.rad catchpool.rad > catchscene.oct\nvwrays -pj .6 -vf pool_par.vf -x 500 -y 500 -ff \\\n| rtcontrib -w -ffc -c -fo -n 1 \\\n-f pool_coords.cal -o %s_caustics.pic \\\n-b floor_bin -bn 7500 -x 50 -y 150 -m floor \\\n-b s_wall_bin -bn 1500 -x 50 -y 30 -m s_wall \\\n-b n_wall_bin -bn 1500 -x 50 -y 30 -m n_wall \\\n-b e_wall_bin -bn 4500 -x 150 -y 30 -m e_wall \\\n-b w_wall_bin -bn 4500 -x 150 -y 30 -m w_wall \\\ncatchscene.oct\nrm catchscene.oct\nrad -o x11 poolscene.rif\noconv sky.rad glowpool.rad pool_surface.rad > poolscene.oct\nrvu -vp -20 20 20 -vd 20 -20 -20 -vh 30 -vv 20 -ps 16 -pt .\n16 -dp 64 -ar 38 -ds 0 -dt .2 -dc .25 -dr 0 -sj 0 -st .5 -aa .3 -ad\n256 -as 0 -av 17 17 17 -lr 6 -lw .01 -R poolscene.rif -o x11 -pe .03\npoolscene.oct\n\nThis will produce 5 Radiance pictures, one for each wall.  Since the\ndefaults for rtcontrib set -ab 1, it will also consider some mutual\ninteractions from the sunlight cast along the given parallel view\n(pool_par.vf).  It does not include sky illuminance, which is\nprobably a minor component, anyway.  Adding that in would require a\nmore sophisticated bombarding sampler than vwrays, or a mixfunc\nrather than a glow surface on the remodeling end.\n\nThe other cool thing the new rtcontrib -c option facilitates is\noptical system modeling, as in custom-designed luminaires.  It would\nbe interesting to compare to more specialized (& sophisticated)\ncommercial ray-tracing systems.\n\n-Greg\n\nP.S.  You need to download the latest HEAD of src/util/rtcontrib.c\nand recompile for this to work.\n\n---------------------\n#\n# A swimming pool with caustics on the bottom\n#\n\nNPROCS = 1\n\nCAUSTICS = floor_caustics.pic s_wall_caustics.pic n_wall_caustics.pic \\\ne_wall_caustics.pic w_wall_caustics.pic\n\nOBJF =\n\nSCENEF = pool_surface.rad\n\nview:   glowpool.rad sky.rad $(SCENEF) $(OBJF) $(CAUSTICS)\nrad -o x11 poolscene.rif\n\npics:   glowpool.rad sky.rad $(SCENEF) $(OBJF) $(CAUSTICS)\nrad -N $(NPROCS) poolscene.rif\n\n$(CAUSTICS):    catchpool.rad $(SCENEF) $(OBJF) pool_par.vf\noconv -f $(SCENEF) catchpool.rad > catchscene.oct\nvwrays -pj .6 -vf pool_par.vf -x 500 -y 500 -ff \\\n| rtcontrib -w -ffc -c -fo -n $(NPROCS) \\\n-f pool_coords.cal -o %s_caustics.pic \\\n-b floor_bin -bn 7500 -x 50 -y 150 -m floor \\\n-b s_wall_bin -bn 1500 -x 50 -y 30 -m s_wall \\\n-b n_wall_bin -bn 1500 -x 50 -y 30 -m n_wall \\\n-b e_wall_bin -bn 4500 -x 150 -y 30 -m e_wall \\\n-b w_wall_bin -bn 4500 -x 150 -y 30 -m w_wall \\\ncatchscene.oct\nrm catchscene.oct\n\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general@radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: http://radiance-online.org/pipermail/radiance-general/attachments/20071121/7ee284ca/attachment.html\n", "replyTo": "", "sender": "radiance-general-bounces@radiance-online.org on behalf of Greg War", "isquestion": true, "tags": [], "id": "<9BF49DEBB772944B980C84379E22CB5B4FEC48@MKEXCHVS2.Mail.Fiserv.net>", "refs": [], "datetime": "Wed Nov 21 11:33:55 2007", "email": "radiance-general-bounces@radiance-online.org on behalf of Greg Ward", "subject": "Re: [Radiance-general] water - any news???"}