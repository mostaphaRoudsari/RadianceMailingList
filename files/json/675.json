{"body": "\nAha!  It's not a bug, it's a \"feature!\"\n\nThe reason this shows up in rpict but not in rview is because rpict\nresorts to a specialized set of routines (in srcdraw.c) to draw sources\nthat are small in the rendered image.  This overrides the illum\ncalculation for low-angle, small sources, who are deemed too small to\nsample correctly on the image plane.  Rather than substituting the\nalternate material, which would normally happen for view rays,\ndrawsources() sends a \"shadow\" ray to the source that is being drawn.\nThis invokes the illum rather than its substitute, giving very\ndifferent results if the substitute is a poor one.  In other words, you\nsaw it before in your IES sources because the source distribution\neither didn't match the simulated source.  It shows up well in this\nexample because your alternate material is a dark diffuse one rather\nthan something emitting.\n\nI could eliminate illum's from the drawsources() calculations, but I\nthink the net result would be worse than what we currently have, as\nillum sources then would be poorly sampled on the image plane when they\ngot to be small and/or thin.\n\n-Greg\n\n\n\n", "replyTo": "Subject: [Radiance-general] Re: -ar, -ad, -as, ahh $#*@!", "sender": "Greg Ward", "isquestion": false, "tags": [], "id": "<52B86360-E6EA-11D7-9A68-000A956D40C8@lmi.net>", "refs": [], "datetime": "Sun, 14 Sep 2003 12:33:31 -0700", "email": "radiance-general@radiance-online.org", "subject": "[Radiance-general] Re: -ar, -ad, -as, ahh $#*@!"}