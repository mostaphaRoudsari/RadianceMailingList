{"refs": ["<CANi9k9SVoTFEtv7QfyHCDohMXzeg5TMgqddGeuM8kDwuJA6MWg@mail.gmail.com>"], "id": "<73C5F65E-59E3-4F12-BCC6-B26FEE988B6B@lmi.net>", "subject": "[Radiance-general] Spherical sensor", "email": "gregoryjward at gmail.com", "body": "\nHi Minki,\n\nThere's a small error in your script.  It should read:\n\nset N=10000\ncnt 10 10 10 $N | rcalc -of -e 'Dz=1-2*($4+rand(.77-.61*recno))/'$N \\\n-e 'phi=2*PI*($4+rand(-.10+.39*recno))'/$N \\\n-e 'rxy=sqrt(1-Dz*Dz);Dx=rxy*cos(phi);Dy=rxy*sin(phi)' \\\n-e 'Ox=$1*.02+0.02;Oy=$2*0.02+0.02;Oz=$3*0.02+0.02' \\\n-e '$1=Ox;$2=Oy;$3=Oz;$4=Dx;$5=Dy;$6=Dz' \\\n| rtrace -h -ff -oov -ar 256 -as 256 -ad 512 -ab 3 scene.oct \\\n| total -if6 -10000 -m \\\n| rcalc -e '$1=$1;$2=$2;$3=$3;$4=4*PI*($4+$5+$6)/3' > fluence.dat\n\nThe \"-oov\" option of rtrace will output 6 floating point values, the XYZ origin for the ray and the RGB value.  Your \"total\" command with \"-if4\" was not matching record boundaries, so the results would be all wrong.\n\nBest,\n-Greg\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120421/c6bb5341/attachment.html>\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Spherical sensor", "tags": [], "sender": "Greg Ward", "datetime": "Sat, 21 Apr 2012 12:35:01 -0700"}