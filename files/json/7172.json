{"refs": ["<6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>\t<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net><jpjipu$bqr$1@dough.gmane.org><db25c79a-1ded-4bd6-a7d3-28b379057696@blur><98DC2369-3B2A-475A-804E-9826BB225725@lmi.net><6F5225D6E15F954BB4E58EC25F6736C308CFDA82@corp3005.CORPORATE.FOSTER.NETWORK>", "<49B3F81E-56EA-4C18-9A44-2E73C300BC1D@lmi.net>"], "id": "<6F5225D6E15F954BB4E58EC25F6736C308CFDB5F@corp3005.CORPORATE.FOSTER.NETWORK>", "subject": "Re: [Radiance-general] running radiance on multiplcores", "email": "\"Randolph M. Fritz\"", "body": "\nHi Greg,\n\n\n\nThanks for the tip, and sorry for the late reply.\n\n\n\nSetting -dt to 0 actually sorted the issue (although, as expected,\nrendering time went up a lot!)\n\n\n\nThe scene I am rendering is an interior scene with a lot of artificial\nlights, no sun or sky (yet).\n\n\n\nThe rif file looks something like:\n\n\n\nscene=  Materials.rad  Geometry.rad\n\n\n\nAMBFILE= test.amb\n\nOCTREE= test.oct\n\n\n\nRESOLUTION= 1195 761\n\nDETAIL= MEDIUM\n\nVARIABILITY = MEDIUM\n\nQUALITY= LOW\n\n\n\nINDIRECT= 2\n\nREPORT=2\n\n\n\nrender=   -ad 2048   -as 1024 -dt 0.05 -dc 0.15 -ds 0.02 -dj 0 -av 0 0 0\n\n\n\nview= View10 -vtv -vp -220.898262 490.000427 9.770000 -vd -0.310859\n2636.535561 0.000000 -vu 0 0 1 -vh 71 -vv 51 -vs 0 -vl 0 -vo 0 -va 0\n\n\n\n\n\nBest,\n\n\n\nGiovanni\n\n\n\nSent: 24 May 2012 15:55\nTo: Radiance general discussion\n\n\nYou need to tell us more about your scene and rendering parameters.\nSometimes, the direct calculation can cause variances.  Try setting -dt\n0.\n\n\n\n-Greg\n\n\n\n\n\n\n\n\n\nThanks everybody for the many replies.\n\n\n\nContrary to what Greg suggests, the error (varying brightness)\nhappens with an ambient file specified.\n\nWhen I am trying different -av values, a triplet of 0s seems to\ngive the best results.\n\nI haven't tried yet the combination of vwrays and rtrace\nsuggested below, will let you know how it goes on with that,\n\n\n\nThanks,\n\n\n\nGiovanni\n\n\n\n\n\nSent: 23 May 2012 22:17\nTo: Radiance general discussion\n\n\n\nAnother workaround is to use vwrays and rtrace instead of\nrpiece, like so:\n\n\n\nset vargs=`rad -s -n -V -v $vw $rif OPTF=render.opt`\n\nvwrays -ff -x $xr -y $yr $vargs | rtrace -n $nprocs -ffc `vwrays\n-d -x $xr -y $yr $vargs` @render.opt $octree > render.hdr\n\n\n\nThe first command sets the view and puts rendering options in a\nfile for rtrace.  The side-effect is that every pixel gets rendered, and\nof course you will want to run pfilt on the output in most cases.  (You\ncan of course add it to the command with \"| pfilt -1 -x /3 -y /3 -r .6\"\nafter rtrace.)\n\n\n\n-Greg\n\n\n\n\n\n\n\n\n\n\nUnfortunately, I suspect you are correct...\n\nSent from my Verizon Wireless 4G LTE DROID\n\n\n\n-----Original message-----\n\n\n\n\nTo: radiance-general at radiance-online.org\n\n\n\n\nOn 2012-05-23 16:15:36 +0000, Greg Ward said:\n\nincomplete tiles using\nthe problem.\n\nThe problem seems--I say cautiously--to occur on Linux\nsystems and not\nBSD systems. I think I'm going to run a test.\n\nRandolph\n\nby forgetting to\ncausing redundant and\non multiple cores.\nand I am using the\nimage tiles of\nbecause of reading and\nwhen I have all the\nsolution for it?\n\n\n--\nRandolph M. Fritz\n\n\n\n\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general at radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120525/2d69db28/attachment.html>\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] running radiance on multiple cores", "tags": [], "sender": "RFritz at lbl.gov", "datetime": "May 23, 2012 2:01:30 PM PDT"}