{"refs": [], "id": "", "subject": "Re: [Radiance-general] Prismatic glazing in radiance PMAP", "email": "Roland Schregle", "body": "Message-ID: <OJEGILOIGGNAEAODNHIIIEELCDAA.anthony.farrell@dit.ie>\n\nThanks Roland, Martin for input,\n\nI meant to make to reference to the Prism1 and Prism2 commands in the 3.5\nrelease of Radiance. I am uncertain of the function file command line\n\nmod prism1 id\n5+ coef dx dy dz funcfile transform\n0\nn A1 A2...An where the new direction variables\n\nSo if I wanted to redirect light from a vertical glazed window down at an\nangle of 45 degrees onto the working plane what values would I substitute in\nfor A1 etc?\n\n* DxA DyA DzA and are the normalised direction to the target light source\n* dx, dy, dz are?\n\nI sketch of the dimensions would be very helpful, as I just can't picture\nthe above scenario.\n\nRoland, Is it possible to use Prism1 or Prism2 commands in the PMAP version\nof Radiance to forward raytrace from the photon port (the target light\n(*luminance* source?)to the target illuminance source (the working plane)?\n\nMartin, could is it possible to model a standard prismatic panel that\nredirects vertical light from a light pipe for example, out at an angle of\n45degrees onto the working plane? I will be testing one of the siteco panels\non my test rig so would be interesting to compare the results.\n\nRegards,\n\nAnthony.\n\n-----Original Message-----\n[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of\nradiance-general-request@radiance-online.org\nSent: 11 June 2004 21:04\nTo: radiance-general@radiance-online.org\n\nSend Radiance-general mailing list submissions to\nradiance-general@radiance-online.org\n\nTo subscribe or unsubscribe via the World Wide Web, visit\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\nor, via email, send a message with subject or body 'help' to\nradiance-general-request@radiance-online.org\n\nYou can reach the person managing the list at\nradiance-general-owner@radiance-online.org\n\nWhen replying, please edit your Subject line so it is more specific\nthan \"Re: Contents of Radiance-general digest...\"\n\n\nToday's Topics:\n\n1. rholo & .hif files (O Graf)\n2. Re: Fwd: errors from hdrgen (Martin Matusiak)\n3. Fwd: Re: [Radiance-general] Fwd: errors from hdrgen\n(Martin Matusiak)\n4. Prismatic glazing in radiance PMAP (Anthony J. Farrell)\n5. Re: Fwd: errors from hdrgen (Greg Ward)\n6. Re: Fwd: errors from hdrgen (Greg Ward)\n7. Re: Prismatic glazing in radiance PMAP (Roland Schregle)\n8. RE: Prismatic glazing in radiance PMAP (Martin Moeck)\n\n\n----------------------------------------------------------------------\n\nMessage: 1\nMessage-ID: <1086952913.40c995d153a11@sms.ed.ac.uk>\nContent-Type: text/plain; charset=ISO-8859-15\n\nHi!\n\nWhat is actually the trick for setting the right values for the 'section'\nvariable in a .hif file? The rad-file which I use contains a laser scan of a\nreal room and I have no idea what are the right values for the 'section'\nvariable. Every time I change the values the actual grid appears somewhere\nin\nthe middle of the whole scenery and I get such warnings as\n\ndev/ogl.hdi: no sections visible from this view\n\nif I try to turn around or to zoom. I understand why these warnings come,\nbut I\nwould like to know how I can estimate the values for the section to avoid\nthe\nwarnings and to be able to see the whole room and not only 2 walls.\n\nAnother funny thing is that the whole room stands on its side, i.e. lines\nthat\nare supposed to be vertical appear horizontal. First I thought the view\ndirection might be wrong, but if I run the same .oct-file with rview using\nthe\nsame view-file everything is perfect. In addition to the right view\ndirection\nthe rview-command produces colored images and rholo gives only grey values\nfrom\nthe same .oct-file. Is there a particular reason for such different results?\n\nregards,\n\nOlga\n\n\n\n\n------------------------------\n\nMessage: 2\nMessage-ID: <200406111417.29402.alex@juventuz.net>\nContent-Type: text/plain;  charset=\"iso-8859-1\"\n\n\nI repeated the process using the manual mode of the camera rather than\naperture priority. Again 13 images (same room, scene was a bit different as\nI\neliminated the sky in the framing) and I was able to compute a hdr. But the\nalignment problem still persists, I use the -a switch to turn it off.\n\nLater I took a couple more images and used the calibration data to compute a\nhdr and read the luminance values off it. It turns out that those are\nsomewhat accurate so that's a good sign!\n\nHowever, I'm still not quite satisfied. Obviously, the calibration procedure\nis meant to give a most accurate static description of the camera, but I\nused\nthe camera's automatic whitebalance correction, so that's a variable. My\nquestion is a complete novice one: how does the whitebalance affect the\nluminance? What can I do to eliminate this variable (if it is significant).\n\n\nMartin\n\n\n\n------------------------------\n\nMessage: 3\nMessage-ID: <200406111421.55929.alex@juventuz.net>\nContent-Type: text/plain;  charset=\"iso-8859-1\"\n\nI forgot to mention that my \"cvs build\" of hdrgen is from last week, so\nthere\ncould have been changes from the version you have.\n\nMartin\n\n----------  Forwarded Message  ----------\n\nTo: Radiance general discussion <radiance-general@radiance-online.org>\n\n\nI repeated the process using the manual mode of the camera rather than\naperture priority. Again 13 images (same room, scene was a bit different as\nI\neliminated the sky in the framing) and I was able to compute a hdr. But the\nalignment problem still persists, I use the -a switch to turn it off.\n\nLater I took a couple more images and used the calibration data to compute a\nhdr and read the luminance values off it. It turns out that those are\nsomewhat accurate so that's a good sign!\n\nHowever, I'm still not quite satisfied. Obviously, the calibration procedure\nis meant to give a most accurate static description of the camera, but I\nused\nthe camera's automatic whitebalance correction, so that's a variable. My\nquestion is a complete novice one: how does the whitebalance affect the\nluminance? What can I do to eliminate this variable (if it is significant).\n\n\nMartin\n\n-------------------------------------------------------\n\n\n\n------------------------------\n\nMessage: 4\nMessage-ID: <OJEGILOIGGNAEAODNHIICEEGCDAA.anthony.farrell@dit.ie>\nContent-Type: text/plain; charset=iso-8859-1\n\nHi,\n\nI am trying to model a simple sheet of prismatic glazing, but am unclear of\nthe dimension variable set out in the PMAP user manual for the prism\ncommand.\n\nCould anyone please forward me a drawing or sketch of what this command is\nbased?\n\nKind regards,\n\nAnthony\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n\n\n------------------------------\n\nMessage: 5\nMessage-ID: <4EE8BCAC-BBB9-11D8-BDAA-000A95BB392A@lmi.net>\nContent-Type: text/plain; charset=US-ASCII; format=flowed\n\nHi Martin,\n\nI believe that hdrgen isn't coming up with a good response function for\nyour camera with this scene, probably due to the strong color cast of\nthe walls.  Since hdrgen (and Photosphere) compute the responses for\neach of the RGB channels, using a lot of colorful patch samples can\nskew the result.  I've never seen such an extreme example before,\nthough -- most walls are off-white so this hadn't come up.  Come to\nthink of it, the tendency of cameras to super-saturate their colors\ncould spell trouble in such cases, and I probably should modify my\nalgorithm to avoid colorful patch samples.\n\nThanks for the image set -- I'll run some experiments on my end to see\nif I can improve on this.  It is important to fix the white balance\nwhenever you take an HDR sequence, as the camera in auto white mode\nwill alter the coefficients between exposures otherwise, making it\nimpossible to get a consistent result.\n\n-Greg\n\n\n\n\n\n------------------------------\n\nMessage: 6\nMessage-ID: <03936172-BBC3-11D8-992A-000A95BB392A@lmi.net>\nContent-Type: text/plain; charset=US-ASCII; format=flowed\n\nHi again.\n\nWell, I played around with limiting the saturation on patches, and it\nonly seems to make matters worse; I'm not sure why.  I think it's\nbecause you don't have enough unsaturated pixels in your scene for it\nto work, but I'll have to perform some more experiments to determine\nthat for certain.  For now, you'll just have to find a more \"neutral\"\nscene to perform your calibration on, then save the response function\nand reuse it for other scenes, which is what I've been doing.\n\n-Greg\n\n\n\n\n\n------------------------------\n\nMessage: 7\nMessage-ID: <40CA03FC.6010504@gmx.net>\nContent-Type: text/plain; charset=us-ascii; format=flowed\n\nAnthony J. Farrell wrote:\nof\n\nDimension variable? If you're referring to the -ds parameter, that\naffects the resolution with which the light source surfaces are sampled\nduring photon emission. Are you referring to the prism material or the\ngenprism command?\n\n\n--\nRoland Schregle\nPhD candidate, Fraunhofer Institute for Solar Energy Systems\nRADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map\n\nEND OF LINE. (MCP)\n\n\n\n\n------------------------------\n\nMessage: 8\n<radiance-general@radiance-online.org>\nMessage-ID:\n<84F05BA9118BBD4A8FC6409808CE266C113A1F@ENGRMAIL2.engr.psu.edu>\nContent-Type: text/plain; charset=\"utf-8\"\n\nAre there any validations of pmap? If desired, I can make measured data\navailable for some prismatic  glazings as shown at www.siteco.de. See\nhttp://www.siteco.de/products/tageslichtsysteme/?currency=EUR&lang=en&javasc\nript=true  Click on \"large panel prism systems\".\n\nMartin, Penn State\n\n-----Original Message-----\nSent: Fri 6/11/2004 3:11 PM\nTo: Radiance general discussion\nCc:\n\n\nAnthony J. Farrell wrote:\nof\n\nDimension variable? If you're referring to the -ds parameter, that\naffects the resolution with which the light source surfaces are sampled\nduring photon emission. Are you referring to the prism material or the\ngenprism command?\n\n\n--\nRoland Schregle\nPhD candidate, Fraunhofer Institute for Solar Energy Systems\nRADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map\n\nEND OF LINE. (MCP)\n\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general@radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: not available\nType: application/ms-tnef\nSize: 4902 bytes\nDesc: not available\nUrl :\nhttp://radiance-online.org/pipermail/radiance-general/attachments/20040611/8\n3d558e7/attachment.bin\n\n------------------------------\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general@radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\nEnd of Radiance-general Digest, Vol 4, Issue 9\n**********************************************\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n--\nThis message has been scanned for content and\nviruses by the DIT Information Services MailScanner\nService, and is believed to be clean.\nhttp://www.dit.ie\n\n\n", "isquestion": false, "replyTo": "<01LB6O0OY4288YKXFY@mail.dit.ie>", "tags": [], "sender": "ganjatron@gmx.net", "datetime": "Fri, 11 Jun 2004 16:03:42 -0400"}