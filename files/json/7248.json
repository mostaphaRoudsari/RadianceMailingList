{"refs": ["<F26BAA4A842DD94083472A0D31EBBB9933FCD1DCA4@SRVHJA02.hja.local>"], "id": "<FFF56A6D37A3A54F91A03601AC22DA3224CD19F528@MAILBOX2.nrel.gov>", "subject": "[Radiance-general] Generate a Radiance picture using rtrace instead of rpict under Windows", "email": "an?ois Cantin", "body": "\nHi Francois,\n\nYeah, Windows doesn?t always support some of the more elegant ways we can shuttle input and output around to unix programs.  Here?s a snippet of Ruby code from the OpenStudio Radiance daylight sim program, which uses rtcontrib as well. You can see that if running on Windows, the script does the vwrays call and stores it as a variable (vwrays_out) and then passes that in, later. If running on Mac or Linux, the second command takes the form of Akel?s from his tutorial.\n\nputs \"computing daylight coefficients for #{space_name}\"\nview_def = \"\"\ndims = options.dims\nview_def =\"-x #{dims} -y #{dims} -vf #{Dir.pwd}/numeric/#{space_name}.sns\"\nif /mswin/.match(RUBY_PLATFORM) or /mingw/.match(RUBY_PLATFORM)\nvwrays_out = `vwrays -d #{view_def}`.strip\nexec_statement(\"vwrays -ff #{view_def} | rtcontrib #{rtrace_args = \"#{opts_map}\"} -V- -fo -ffc #{vwrays_out} -f tregenza.cal -bn 146 -b tbin -o #{binDir}/#{space_name}_treg%03d.hdr -m skyglow model_dc.oct\")\nelse\nexec_statement(\"vwrays -ff #{view_def} | rtcontrib #{rtrace_args} -n #{simCores} -V- -fo -ffc $(vwrays -d #{view_def}) -f tregenza.cal -bn 146 -b tbin -o #{binDir}/#{space_name}treg%03d.hdr -m skyglow model_dc.oct\")\n\nI hate to suggest another dependency to make this work, but that?s how we did it for our purposes. Maybe some savvy Windows users know a workaround that can be employed directly in the Windows shell. ?\n\n\n-          Rob\n\n\n\nSent: Monday, June 25, 2012 11:23 AM\nTo: radiance-general at radiance-online.org\nHi,\n\nI?m working through Axel Jacobs' excellent 'rtcontrib' tutorial and I want to generate a Radiance picture using rtrace instead of rpict. For your information, I'm under Windows 7 with the latest Radiance binaries downloaded from the NREL Openstudio website:  http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance\n\nWhen I try this:\nvwrays ?ff ?vf view1.vf ?x 1024 ?y 1024 | rtrace ?vwrays ?d ?vf view1.vf ?x 1024 ?y 1024? ?ffc scene.oct > view1.hdr\n\nI obtain this error message:\nrtrace: fatal - command line error at 'vwrays'\n\nThen I use double quotes...\nvwrays ?ff ?vf view1.vf ?x 1024 ?y 1024 | rtrace \"vwrays ?d ?vf view1.vf ?x 1024 ?y 1024\" ?ffc scene.oct > view1.hdr\n\n...and I obtain this error message:\nrtrace: fatal - command line error at 'vwrays ?d ?vf view1.vf ?x 1024 ?y 1024'\n\n\nAny advice on how to solve or work around this problem would be greatly appreciated !\n\n\nThanks in advance,\n\n\nFran?ois Cantin\n\nstagiaire en architecture, M Arch, MSc Arch\n\n[cid:image001.jpg at 01CD52C6.73926A70]\n\n1175, Lavigerie, bureau 400, Qu?bec, Qc,  G1V 4P1\n\nT (418) 653 8484 #224, F (418) 653-6189\n\nE fcantin at coarchitecture.com<http://fcantin at coarchitecture.com>\n\nhttp://www.coarchitecture.com\n\n\nCe message ?lectronique de m?me que tous les fichiers attach?s qu'il contient sont confidentiels et destin?s exclusivement ? l'usage de la personne ? laquelle ils sont adress?s. Si vous avez re?u ce message par erreur, merci de le retourner ? son ?metteur. La publication, l'usage, la distribution, l'impression ou la copie non autoris?e de ce message et des pi?ces jointes qu'il contient sont strictement interdits.\nThis e-mail and any files transmitted with it are confidential and intended solely for the use of the individual to whom it is addressed. If you have received this email in error please send it back to the person that sent it to you. Unauthorized publication, use, dissemination, forwarding, printing or copying of this email and its associated attachments is strictly prohibited.\n\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/5e9fb8c9/attachment-0001.html>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image001.jpg\nType: image/jpeg\nSize: 19588 bytes\nDesc: image001.jpg\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/5e9fb8c9/attachment-0001.jpg>\n\n", "isquestion": false, "replyTo": "<F26BAA4A842DD94083472A0D31EBBB9933FCD1DCA4@SRVHJA02.hja.local>", "tags": [], "sender": "FCantin at coarchitecture.com", "datetime": "Mon, 25 Jun 2012 11:37:53 -0600"}