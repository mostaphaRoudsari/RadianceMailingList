{"refs": ["<CALPn_+ZVwosGdzHqy25Ak5DLy+CKaSOfDeHmEzxFw9U_z6ga8w@mail.gmail.com>", "<2AA57BD2-3C52-44DE-B9A9-F2B9013AA57F@coolshadow.com>", "<A82DD1B8-027E-4577-8CB5-BCCD5993E6A5@lmi.net>", "<74DF4171-4D0A-40D8-92D4-2CB9936A7944@coolshadow.com>", "<CAAP856xifBrsfLmD2ZG60uuP=n4-ubo1A=OabdmpBaU+QfvreA@mail.gmail.com>", "<7BF172FB-AA19-4EFE-A207-4FDAD293C8D3@coolshadow.com>"], "id": "<0CD50A05-C712-4FEC-92DC-5806B27550DD@lmi.net>", "subject": "[Radiance-general] pcomb to clip specific colors", "email": "gregoryjward at gmail.com", "body": "\nHi Chris,\n\nI'm not sure I understand what  you're after, exactly.  The following will turn all pixels black except those with a nearly-zero blue channel and non-zero red and green channels:\n\npcomb -e 'and(a,b):if(a,b,a)' -e 'ypix=and(.01*ri(1)-bi(1),.01*gi(1)-bi(1))' -e 'ypix=is_yellow(ri(1),gi(1),bi(1))' \\\n-e 'ro=if(ypix,1,0);go=if(ypix,1,0);bo=0' input.hdr > output.hdr\n\nThe and() expression returns positive if both red and green channels are more than 100 times the blue channel.  We can't compare blue to zero due to limitations in the accuracy of RGBE pixel values.\n\n-Greg\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130116/2ab9c118/attachment.html>\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] pcomb to clip specific colors", "tags": [], "sender": "Greg Ward", "datetime": "Wed, 16 Jan 2013 11:08:09 -0800"}