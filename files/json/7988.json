{"refs": ["<CAJeoGJ61Tzye2afOGNue-QCcEg15_TTqFTu4hYWgOJc4KC_Pjw@mail.gmail.com>"], "id": "<51519C18.5020307@gmx.net>", "subject": "[Radiance-general] colorfun", "email": "grobe at gmx.net", "body": "\nHi Ehsan,\n\nyou are not the first one having problems starting with the cal-file\nsyntax. So let me try.\n\n\"if (a,b,c)\" in Radiance is a function returning \"b\" if a>0 and \"c\" if a<=0.\n\nThe minimal colorfunc line expects values for R, G, B and a cal-file. In\nthe given case, the values for R and G are calculated by the given\nformulae, the value for B is fixed to 1 and the cal-file is not needed\nand set to the current path \".\"\n\nThe expression \"if(Pz-1.2,1,if(Pz-1,0,1))\" is interpreted as:\nif (Pz-1.2,.....) : as the if-function decides according to the\ncondition >0 or not, this leads to the evaluation wether Pz is greater\nthen 1.2. If this is the case, the return value (the value for the\nR-channel) is 1. If Pz <= 1.2, thus Pz-1.2 becoming 0 or less, the\nreturn value (R-channel) will be set to the result of the expression\n\"if(Pz-1,0,1)\". This follows the same rules, setting the return value\n(R-channel) to 0 if Pz is larger then 1, and to 1 if smaller or equal 1.\nIf you combine these two expression, you will get R=1 if Pz=<1 or\nPz>1.2, else R=0. As Pz is the z-coordinate of the point where you\ncalculate the pixel color, this results in a line centered at height 1.1\nof 0.2 width.\n\nHope this helps to understand the remains of the line...\n\nCheers, Lars.\n\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] colorfunc", "tags": [], "sender": "Lars O. Grobe", "datetime": "Tue, 26 Mar 2013 14:01:12 +0100"}