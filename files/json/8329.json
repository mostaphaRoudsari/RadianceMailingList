{"refs": [], "id": "<523C28A4.9060503 at st-andrews.ac.uk>", "subject": "[Radiance-general] Unsure how to specify a trans modifier", "email": "P George Lovell", "body": "\nHi George,\n\nThat sounds like a very intriguing project - I look forward to seeing some of the results.\n\nTrans is its own material, like plastic or metal. It can act as a modifier to a polygon, but not to another material (as far as I know).  Here is one that I have used:\n\nvoid trans frosted_glass\n0\n0\n7   0.7   0.7  0.7  0 0.025  1  0.95\n\nfrosted_glass polygon rectangle_1\n0\n0\n12 etc.\n\nThe 7 trans parameters are not extremely intuitive, but you can read about them in Axel Jacobs' excellent Radiance Cookbook (http://www.jaloxa.eu/resources/radiance/documentation/docs/radiance_cookbook.pdf).\n\nIn my case, I think they mean the following:\n-0.7 0.7 0.7: the RGB values for the light that is coloured (i.e., not specularly reflected or absorbed)\n-0: the specularity of the material (in my case 0, as I didn't want or require specular reflection)\n-0.025: the roughness (small, in my case, to account for scatter in the transmitted light)\n-1: trans; of the coloured light, how much is transmitted vs reflected (I didn't want or require light to be diffusely reflected)\n-0.05: tspec: how much of the transmitted light is specular: if you choose this to be one, it would act more like a regular glass panel. I chose 0.05 because I wanted model glass with highly diffusive properties\n\nSo of the light that hits this trans material:\n1. 30% is absorbed\n2. 70% is transmitted, with no colour: 95% is scattered, 5% transmitted like a normal ray (although technically, I think Radiance uses a curve determined by these two parameters to scatter the light)\n\nThis is not a very realistic material, it would appear entirely black from the outside. I used it only for interior modelling with a single surface so that was of no import to me, and I wanted to avoid fiddling with both the RGB values and trans to get the final transmittance right.\n\nIn your case, you will probably want to pick:\n-green RGB values, probably fairly low (weighted), as most of the non-green light is absorbed for photosynthesis\n-low specularity (<0.07)\n-low roughness (<0.025)\n-low trans value (depending on leaf properties, probably more light is reflected than transmitted, so 0.2-0.5?)\n-low tspec value (<0.1) because most of the transmitted light will be diffuse\n\nI don't know if these properties have been measured for different kinds of leaves / plants, but I'd be interested to hear if they are.\n\nHope that helps,\n\nReinier\n\n\nMessage: 3\nTo: Radiance general discussion <radiance-general at radiance-online.org>\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\n\nHi Everyone,\n\nI'm trying to create a material with properties of a leaf - for a project examining countershading camouflage in animals, I've created model trees and I want them to be green in colour but with leaf-like transmission of light to the forest floor.\n\nFor example, I might want the colour to be [.3 .7 .1] and the transmission to be [.05 .25 .02].\n\nHere's a mock-up of what I'm working on:\nhttps://www.dropbox.com/s/cidluvy1h8u7jqd/Horse_Trees_Panels.png.\n\n\nTo make it really obvious that light is passing through the material I've added the two floating panels, the left is opaque and the right one allows red light to pass through (at least it should, but I'm not getting any difference in the colour of the shadows).\n\nDo I specify a colour plastic material and then a trans modifier and then the polygon? I've tried various script formats, so far when it doesn't crash I get no noticeable difference in the images with and without transmission specified as above.\n\nHere's a script that just specifies a grey ground and the two green panels:\n\n\n=======================================================\n\n\nvoid plastic backgroundPolygon\n0\n0\n5    0.2000    0.2000    0.2000    0.0000    0.2000\n\nbackgroundPolygon polygon rectangle_1v\n0\n0\n12\n5000000.0000    -5000000.0000    000.0000\n5000000.0000    5000000.0000    000.0000\n-5000000.0000    5000000.0000    -00.0000\n-5000000.0000    -5000000.0000    -00.0000\n\nvoid plastic backgroundPolygon\n0\n0\n5    0.2000    0.7000    0.1000    0.0000    0.2000\n\nbackgroundPolygon polygon rectangle_1v\n0\n0\n12\n500.0000    1000.0000    500.0000\n500.0000    2000.0000    500.0000\n-500.0000    2000.0000    500.0000\n-500.0000    1000.0000    500.0000\n\nvoid trans rectangle_1i_trans\n0\n0\n3\n1.00 0.00 0.00\n\nrectangle_1i_trans plastic backgroundPolygon\n0\n0\n5    0.2000    0.7000    0.1000    0.0000    0.2000\n\nbackgroundPolygon polygon rectangle_1i\n0\n0\n12\n500.0000    -2000.0000    500.0000\n500.0000    -1000.0000    500.0000\n-500.0000    -1000.0000    500.0000\n-500.0000    -2000.0000    500.0000\n\n=======================================================\n\nI'm clearly doing something wrong, but I've no idea exactly what.\n\nBest wishes once again,\n\nGeorge\n\n\n\n\n\n--\nDr P. George Lovell,\n\nLecturer in Psychology\nUniversity of Abertay Dundee\nDundee\nDD1 1HG\n\nTel 01382-308581\nFax 01382-308749\n\nResearcher/Co-investigator,\nSchool of Psychology, University of St Andrews\n\nRM 2.27 (The Yellow Room).\nPhone      (01334) 463056\n\n\n\n------------------------------\n\n_______________________________________________\nRadiance-general mailing list\nRadiance-general at radiance-online.org\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\nEnd of Radiance-general Digest, Vol 115, Issue 25\n*************************************************\n\n________________________________________________________________________\nThis e-mail has been scanned for all viruses by Star. The service is powered by MessageLabs. For more information on a proactive anti-virus service working around the clock, around the globe, visit:\nhttp://www.star.net.uk\n________________________________________________________________________\n\n________________________________________________________________________\nThis e-mail has been scanned for all viruses by Star. The\nservice is powered by MessageLabs. For more information on a proactive\nanti-virus service working around the clock, around the globe, visit:\nhttp://www.star.net.uk\n________________________________________________________________________\n\n\n", "isquestion": true, "replyTo": "", "tags": [], "sender": "p.g.lovell at st-andrews.ac.uk", "datetime": "Fri, 20 Sep 2013 11:51:16 +0100"}