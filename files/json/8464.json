{"body": "\nHey Andrew,\n\nThank you for your help. I actually tried that after posting the message yesterday and it worked well. I got daylight factor equal to zero and a nice picture.\n\nI am hoping to illustrate DF=0 with a black color instead of purple. Can I change the puple color (DF=0) to black and how can this be done?\n\nBest regards\n\n\n\nPer Haugaard,\n\n?Den tirs 26/5/09 skrev Andrew McNeil <andrew.mcneil@arup.com>:\n\nFra: Andrew McNeil <andrew.mcneil@arup.com>\nEmne: Re: [Radiance-general] DF for a polygon\nTil: perhaugaard@yahoo.dk, \"Radiance general discussion\" <radiance-general@radiance-online.org>\nDato: tirsdag 26. maj 2009 17.30\n\n\n\nRe: [Radiance-general] DF for a polygon\nYes, your errors are most likely resulting from deleting some of rtrace points. ?Rtrace is expecting 4351*3000 points and is getting fewer, hence the unexpected end of file error.\n\n\n\nFrom the rtrace manual page: ?If the direction vector is (0,0,0), a bogus record is printed...? ??Instead of deleting you could change the vector to ?0 0 0? and then the area outside of your polygon would be comprised of bogus records (zeros). ??This method might not work if you are expecting legitimate zeros in your output.\n\n\n\n\n\n\n\nOn 5/26/09 5:09 AM, \"Per Haugaard\" <perhaugaard@yahoo.dk> wrote:\n\n\n\nDear users,\n\n\n\nI am calculating DF for a polygon. My approach for this is to use cnt, rcalc and rtrace as described below.\n\n\n\ncnt 3000 4351 | rcalc -e 'x=157-$1*0.01; y=168.41-$2*0.01; z=0.85; $1=x; $2=y; $3=z; $4=0; $5=0; $6=1' > grids/grid_level_0.xyz\n\n\n\nI then deleted the lines outside my polygon and initiated rtrace.\n\n\n\ncat grids/grid_level_0.xyz | rtrace -I -ab 4 -aa 0.05 -ar 128 -ad 512 -as 256 -x 4351 -y 3000 -af ambfiles/df.amb -fac octrees/LSE_DF.oct > images/grid2illum_level_0.pic\n\n\n\nwhich results the following error:\n\n\n\nrtrace: fatal - unexpected EOF on input\n\npfilt: truncated input (y=754)\n\nimages/grid2illum_level_0_resized.pic: read error\n\n<stdin>: read error (y==139)\n\n\n\nTwo of the errors occur when I start to work with the grid2illum_level_0..pic image. If I do not specify the picture size in the rtrace command I get the following error:\n\n\n\npfilt: bad picture size\n\nimages/grid2illum_level_0_resized.pic: bad picture size\n\nimages/grid2illum_level_0_resized_df.pic: bad picture size\n\n\n\nDoes this error occur because i delete points in the plane and how do I get around this this?\n\n\n\n\n\nBest regard\n\n\n\nPer Haugaard,\n\n\n\n?\n\n\n\n?Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD TV <http://dk.yahoo.com/r/pat/lcd> !\n\n_______________________________________________\n\nRadiance-general mailing list\n\nRadiance-general@radiance-online.org\n\nhttp://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\n____________________________________________________________\nElectronic mail messages entering and leaving Arup  business\nsystems are scanned for acceptability of content and viruses\n\n\n\n\nFind din nye laptop p? kelkoo.dk. Se de gode tilbud her - http://dk.yahoo.com/r/pat/mm\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: http://radiance-online.org/pipermail/radiance-general/attachments/20090527/e4504f5a/attachment.html\n", "replyTo": "", "sender": "Per Haugaard", "isquestion": true, "tags": [], "id": "<863783.72163.qm@web26605.mail.ukl.yahoo.com>", "refs": [], "datetime": "Wed May 27 00:23:09 2009", "email": "perhaugaard at yahoo.dk", "subject": "[Radiance-general] DF for a polygon"}