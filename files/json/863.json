{"refs": ["<BAY2-F26sam5R4r3mbf00003e38@hotmail.com>"], "id": "<A113EAD8-FC5B-11D8-892F-000A95BB392A@lmi.net>", "subject": "[Radiance-general] Illums and 3 Sided Polygons", "email": "gward at lmi.net", "body": "\nHi Marcus,\n\nDidn't we have this conversation a few weeks ago?  Look at the recent\npostings from Mark de la Fuente and the various responses regarding\nillum's and illum shapes.\n\nThe simplistic source sampling code in Radiance assumes that a\nrectangular distribution of rays may be used.  This is done more in the\ninterest of speed than anything else, but it does place some limits on\nthe shapes of sources you can model.  The closer to a rectangle (or\nparallelepiped) your source is, the closer to -dj 1 you can go with\nyour source sampling.  Triangles are problematic because Radiance fits\nthem into a rectangle and distributes the rays about this rectangle's\ncenter.  In the case of a right triangle, this sends a ray exactly to\nthe center of the hypoteneus, and floating point errors take over from\nthere to produce a hit about 50% of the time.  Not a good situation,\nand other triangles guarantee we'll miss every time with this sampling\nstrategy.\n\nA better approach for illum's, as I mentioned in one of my earlier\nresponses to Mark, is to create a larger rectangular illum to cover\nyour opening, disregarding the actual shape of your window elements.\nFor a large window with many elements, you're better off using a single\nillum to cover it, anyway, so you don't send multiple samples when it\nisn't really necessary.  Mkillum will compute the correct average for\nthe larger illum surface.  So long as this surface doesn't intersect\nthe walls or have similar problems with its fit to the window, the\nresult should be a reasonable approximation.\n\nThe \"aiming failure\" warning message should be taken seriously, unless\nyou happen to know from geometric arguments that it is a rare condition\ngenerating this error.  In general, it means that you are\nunderestimating contributions from the associated source or illum.\n\n-Greg\n\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Illums and 3 Sided Polygons", "tags": [], "sender": "Greg Ward", "datetime": "Wed Sep  1 23:12:39 2004"}