{"refs": ["<CABzgtwqnkA8q0Uzp2VmSjWzDgxRpk=Sxfko25OhFQBfaMOvvMw@mail.gmail.com>"], "id": "<D9888523-8E0F-4C06-9163-E72A320A0752@lmi.net>", "subject": "[Radiance-general] Reflectance data", "email": "gregoryjward at gmail.com", "body": "\nYou can use the routines defined in src/common/ccolor.h to convert from spectral measurements to a CIE color and from there to RGB:\n\n#include \"ccolor.h\"\n{\nC_COLOR\t\tclr;\nfloat\t\t\t\tspec_data[MYNWL];\nfloat\t\t\t\trgb[3];\ndouble\t\t\tmyLuminance = 0.5;\n\n/* set spec_data[] array] */\nc_sset(&clr, 344.0, 1045.0, spec_data, MYNWL);\nccy2rgb(&clr, myLuminance, rgb);\n}\n\nNote that you have to decide the number of wavelengths ahead of time, and they must be evenly spaced.\n\nI've arbitrarily set the overall Y value to 0.5, but of course you set it to what you need.  I can't help you with that part.\n\nCheers,\n-Greg\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140903/6bb1979b/attachment.html>\n\n", "isquestion": false, "replyTo": "Subject: [Radiance-general] Reflectance data", "tags": [], "sender": "Greg Ward", "datetime": "Wed, 3 Sep 2014 22:14:10 +0100"}