{"refs": [], "id": "<s1826993.056@wmtao.com>", "subject": "Re: [Radiance-general] Solar FootprinTo: Radiance general discussion <radiance-general@radiance-online.org>", "email": "Raphael Compagnon", "body": "\nRaphael, thank you for your response.  Random perturbation noted.  You\nguys think of everything!  :)\n\nI was under the impression that if you call out the longitude and the\nstandard meridian that Radiance will figure out where the sun needs to\nbe in relation to your exact location.\n\nMaking one sky with all possible sun conditions was option B.  But I\nhad not been able to get it to work.  I believe the problem lies in the\nfact that when gensky creates the sky, it always uses the same naming\nconvention.  I have been creating csh scrips (running Cygwin) and have\nbeen unhappy about how fickle they seem to be.  What is this written in?\nUnfortunately I don't understand what the script is doing so I could\nnot really use it.\n\nAnyway, I wrote a script and wound up with the following sky.\n\nhttp://images.ofoto.com/photos887/5/91/16/85/95/0/95851691506_0_ALB.jpg\n\nIt is very strange that the suns don't line up like they do on a sun\nchart.  Any idea why this is so?\n\nStart of file.....\n\n#!/bin/csh -fv\n#\n###  This script generates multiple skies and then creates one multiple\nsky octree.\n#\n\n### Daylighting parameters\n\nset day = \"21\"\n\nrm ./scene/xskies.rad\n\nforeach month (012 001 002 003 004 005 006)\nforeach hr (005 006 007 008 009 010 011 012 013 014 015 016 017 018 019\n020)\n\ngensky $month $day $hr +s -a 38.7 -o 90.5 -m 90 >\n./skies/'sky'$month$day$hr'.rad'\necho \"\\!xform -n sky ./skies/sky$month$day$hr.rad\" >>\n./scene/xskies.rad\n\nend\nend\n\noconv -f ./scene/xskies.rad ./skies/sky.rad > ./octree/skies.oct\n\n... end of file\n\nMark\n\n\n\n\n\nMessage: 3\nMessage-ID: <5.1.0.14.2.20041028164646.0265d488@pop.eif.ch>\nContent-Type: text/plain; charset=\"us-ascii\"\n\nMark,\n\nI suggest you to generate a single radiance scene file containing as\nmany\nsuns as you need. Then using a single radiance run you will get the\nexpected result.\n\nI  is a small program  I have used to generate multiple gensky calls\nfor a\nwhole year:\n\n#include <stdio.h>\n#include <stdlib.h>\nvoid main() {\nint mois,jour,heure;\nint nj[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\ndouble hh;\nfor (mois=0;mois<12;mois++) {\nfor (jour=0;jour<nj[mois];jour++) {\nfor (heure=0;heure<24;heure++) {\nhh=heure + (double) rand()/RAND_MAX;\n/* Adjust latitude, longitude and\ntimezone\naccording to your location hereafter */\nprintf(\"gensky %d %d %.4lf -a 46.4824\n-o\n-7.0894 -m -15\\n\",mois+1,jour+1,hh);\n}\n}\n}\nexit(0);\n}\n\nYou will note that I have added a random perturbation on the hour\nparameter\nin order to avoid having all the suns aligned on meridian lines.\n\nRaphael Compagnon\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: http://radiance-online.org/pipermail/radiance-general/attachments/20041029/acdad060/attachment-0001.htm\n", "isquestion": true, "replyTo": "", "tags": [], "sender": "raphael.compagnon@eif.ch", "datetime": "Thu, 28 Oct 2004 17:10:56 +0200"}