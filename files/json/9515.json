{"refs": [], "id": "", "subject": "[Radiance-general] Confirm Procedure to Convert Spectral (SPD) Datato Radiance rgb color triplet", "email": "andrei.kolomenski at nasa.gov", "body": "Message-ID: <AE55A995167B224DBBFA16500E3AB9B3047E09DF@NDJSMBX202.ndc.nasa.gov>\n\nDear Radiance Users,\nI have a fundamental question about how to convert spectrum power distribution (SPD) of a material to its Radiance material counterpart. For now, I'm strictly concerned with the rgb color triplet passed to a material primitive. Below I summarized four steps that I believe accomplish this task. I would appreciate it people could confirm or provide comments on discrepancies in the procedure. Your input is much appreciated!\nI tried the procedure with an experimentally measured SPD of a tan blanket, however my rpict rendering is showing a slightly lighter color than expected. I'm using ambient lighting (-ab 1 1 1) to view a rectangular surface modified by the material primitive obtained from this method.\nvoid plastic material\n0\n0\n5 r_calc g_calc b_calc 0 0\n\n#1.) Obtain the SPD data from the spectrophotometer and compute the associated Tristimulus values XYZ. I'm using a CIE 2? Standard Observer for color matching functions and a D65 illuminant, as this is the illuminant used by the spectrophotometer.\n[cid:image001.png at 01D0A2BD.9C2A4940]\n[cid:image002.png at 01D0A2BD.9C2A4940]\n[cid:image003.png at 01D0A2BD.9C2A4940]\n[cid:image004.png at 01D0A2BD.9C2A4940]\n#2.) Perform chromatic adaptation on the computed Trisitimulus values, to account for different white point definitions between source (sensor) & destination (Radiance) illuminants. For this transformation, the Tristimulus of the white point of both the source (S) & the destination (D) illuminants must be defined. Also, the Sharp color space is chosen for the chromatic adaptation transformation (Ref 1.), defined by the matrix, [cid:image005.png at 01D0A2BD.9C2A4940] .\n[cid:image006.png at 01D0A2BD.9C2A4940]\n[cid:image007.png at 01D0A2BD.9C2A4940]\n[cid:image008.png at 01D0A2BD.9C2A4940]\n[cid:image009.png at 01D0A2BD.9C2A4940]\n\n[cid:image010.png at 01D0A2BD.9C2A4940]\n[cid:image011.png at 01D0A2BD.9C2A4940]\n#3.) Convert white point balanced Tristimulus values to Radiance sRGB color space. For this transformation, the chromaticity of the red, green and blue primaries and the white point must be defined for the sRGB color space used by Radiance. Radiance uses equal-energy white as its white point with the following chromaticity coordinates.\n[cid:image012.png at 01D0A2BD.9C2A4940]\nDefine the primary chromaticity coordinates for sRGB color space, obtained from 'xyz_rgb.cal' file within the Radiance source code.\n[cid:image013.png at 01D0A2BD.9C2A4940]\n[cid:image014.png at 01D0A2BD.9C2A4940]\n[cid:image015.png at 01D0A2BD.9C2A4940]\n[cid:image016.png at 01D0A2BD.9C2A4940]\n[cid:image017.png at 01D0A2BD.9C2A4940]\n[cid:image018.png at 01D0A2BD.9C2A4940]\n[cid:image019.png at 01D0A2BD.9C2A4940]\n[cid:image020.png at 01D0A2BD.9C2A4940]\n\n#4.) Scale each channel by the measured reflectance of the material and by the luminous efficacy weighted sum of the input RGB triplet. An equal weight can be applied or the chromaticity coordinates of the green (photopic) primary can be used as RGB channel weights. The obtained rgb values are to be used as input to a material primitive definition.\n[cid:image021.png at 01D0A2BD.9C2A4940]\n[cid:image022.png at 01D0A2BD.9C2A4940]\n[cid:image023.png at 01D0A2BD.9C2A4940]\n[cid:image024.png at 01D0A2BD.9C2A4940]\n\n\n\n\n\n\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0001.html>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image001.png\nType: image/png\nSize: 1760 bytes\nDesc: image001.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0024.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image002.png\nType: image/png\nSize: 1725 bytes\nDesc: image002.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0025.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image003.png\nType: image/png\nSize: 1697 bytes\nDesc: image003.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0026.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image004.png\nType: image/png\nSize: 1225 bytes\nDesc: image004.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0027.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image005.png\nType: image/png\nSize: 415 bytes\nDesc: image005.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0028.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image006.png\nType: image/png\nSize: 2639 bytes\nDesc: image006.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0029.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image007.png\nType: image/png\nSize: 2633 bytes\nDesc: image007.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0030.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image008.png\nType: image/png\nSize: 4117 bytes\nDesc: image008.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0031.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image009.png\nType: image/png\nSize: 2854 bytes\nDesc: image009.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0032.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image010.png\nType: image/png\nSize: 1583 bytes\nDesc: image010.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0033.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image011.png\nType: image/png\nSize: 1600 bytes\nDesc: image011.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0034.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image012.png\nType: image/png\nSize: 2486 bytes\nDesc: image012.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0035.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image013.png\nType: image/png\nSize: 2046 bytes\nDesc: image013.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0036.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image014.png\nType: image/png\nSize: 2051 bytes\nDesc: image014.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0037.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image015.png\nType: image/png\nSize: 2079 bytes\nDesc: image015.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0038.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image016.png\nType: image/png\nSize: 1180 bytes\nDesc: image016.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0039.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image017.png\nType: image/png\nSize: 611 bytes\nDesc: image017.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0040.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image018.png\nType: image/png\nSize: 1428 bytes\nDesc: image018.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0041.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image019.png\nType: image/png\nSize: 1105 bytes\nDesc: image019.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0042.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image020.png\nType: image/png\nSize: 1598 bytes\nDesc: image020.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0043.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image021.png\nType: image/png\nSize: 1810 bytes\nDesc: image021.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0044.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image022.png\nType: image/png\nSize: 1167 bytes\nDesc: image022.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0045.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image023.png\nType: image/png\nSize: 1099 bytes\nDesc: image023.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0046.png>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: image024.png\nType: image/png\nSize: 856 bytes\nDesc: image024.png\nURL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150609/46a70817/attachment-0047.png>\n\n", "isquestion": true, "replyTo": "", "tags": [], "sender": "Kolomenski, Andrei (JSC-SF311", "datetime": "Tue, 9 Jun 2015 19:07:26 +0000"}