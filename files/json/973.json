{"refs": [], "id": "<Pine.SOL.4.58.0411121332260.21958@asteroids.gpcc.itd.umich.edu>", "subject": "[Radiance-general] Using vwright/rcalc to do -p", "email": "stock at umich.edu", "body": "\nIn my toying around with pixel-wise depth-of-field blur, I am\nencountering a need for pixel jitter. I want to run\n\nvwrays -fd -vf tempvf -x 740 -y 480 | rcalc -id6\n-e `vwright i < tempvf`\n[expressions to modify $1..$6, the ray origin and direction]\n-od | rtrace -fdc -x 740 -y 480 @opts scene.oct > img.pic\n\nbut there is no facility to incorporate pixel jitter, as defined\nin rpict(1), save the use of the variables returned by vwright:\n\n------------\nNt:  view type ('v'==1,'l'==2,'a'==3,'h'==4,'c'==5)\nNpx: view point x value\nNpy: view point y value\nNpz: view point z value\nNdx: view direction x value (normalized)\nNdy: view direction y value (normalized)\nNdz: view direction z value (normalized)\nNux: view up vector x value (normalized)\nNuy: view up vector y value (normalized)\nNuz: view up vector z value (normalized)\nNh:  view horizontal size\nNv:  view vertical size\nNs:  view shift\nNl:  view lift\nNo:  view fore clipping distance\nNa:  view aft clipping distance\nNhx: derived horizontal image vector x value (normalized)\nNhy: derived horizontal image vector y value (normalized)\nNhz: derived horizontal image vector z value (normalized)\nNhn: derived horizontal image vector multiplier\nNvx: derived vertical image vector x value (normalized)\nNvy: derived vertical image vector y value (normalized)\nNvz: derived vertical image vector z value (normalized)\nNvn: derived vertical image vector multiplier\n------------\n\nMy question is: how do I use these variables to incorporate pixel\njitter into these renderings? I do not know how to scale the\nNhx,Nhy,Nhz and Nvx,Nvy,Nvz vectors to jitter over one pixel's\nwidth. Do I multiply by Nh,Nv and divide by 740 and 480,\nrespectively? Or does it depend on the view type?\n\nMark\n\n", "isquestion": true, "replyTo": "", "tags": [], "sender": "Mark Stock", "datetime": "Fri Nov 12 19:43:22 2004"}