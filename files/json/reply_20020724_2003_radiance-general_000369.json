{"body": "dela wrote:\n\n\n> Hi everyone!\n>\n> I'm trying to simulate perforated metal and would\n> like to know if anyone knows of any examples where\n> this has been done.  (or if this has been discussed\n> in a previous digest)\n\n\nUse this:\n\n\n\n\n{\n\tperforate.cal\n    Perforation function for approximately horizontal sufaces,\n\tfor use in a mixfunc. Foreground is solid, background the holes.\n\tSet background to empty for a true perforation, or to a different\n\tmaterial for polka dots.\n\n\n\tRelative hole size is determined by A1.\n    Size of single circle is 1 - scale as required (eg. 0.05m).\n\n\n\tx_hole cuts holes in x-direction (through the y-z plane)\n\ty_hole cuts holes in y-direction (through the x-z plane)\n\tz_hole cuts holes in z-direction (through the x-y plane)\n\n\n    Georg Mischler 30. 04. 1993\n}\n\n\n`xn = mod(Px, 1) - 0.5;\n`yn = mod(Py, 1) - 0.5;\n`zn = mod(Pz, 1) - 0.5;\n\n\n`outofcirc(x, y, r) = if(sqrt(x*x + y*y) - r, 1, 0);\n\n\nz_hole = `outofcirc(`xn, `yn, A1);\nx_hole = `outofcirc(`yn, `zn, A1);\ny_hole = `outofcirc(`zn, `xn, A1);\n\n\n{ end of perforate.cal }\n\n\n\n\nThen define a mixfunc as follows (for horizontal sheets):\n\n\n  void mixfunc z_perforation\n  6 some_material void z_hole perforate.cal -s 0.05\n  0\n  1 0.4\n\n\nwhere \"some_material\" is whatever you want your metal to\nlook like.\n\n\n\n\nHave fun!\n\n\n-schorsch\n\n\n\n\nGeorg Mischler  --  simulations developer  --  schorsch at schorsch.com\n+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2002-July/000369.html).</sup>", "attachments": [], "created_by_name": "Georg Mischler", "created_at": "July 24, 2002 at 08:03PM", "created_by": "Georg_Mischler", "parent_id": "radiance-general_000367", "id": "radiance-general_000369"}