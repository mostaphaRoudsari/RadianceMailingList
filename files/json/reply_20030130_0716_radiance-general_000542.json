{"body": "The magic word to change is in src/rt/ambient.c, in the function \naposcmp(avp1, avp2), which should be corrected to read:\n\n\n/* GW NOTE 2002/10/3:\n  * I used to compare AMBVAL pointers, but found that this was the\n  * cause of a serious consistency error with gcc, since the optimizer\n  * uses some dangerous trick in pointer subtraction that\n  * assumes pointers differ by exact struct size increments.\n  */\nstatic int\naposcmp(avp1, avp2)                     /* compare ambient value \npositions */\nchar    **avp1, **avp2;\n{\n         return(*avp1 - *avp2);\n}\n\n\n\n\nOn another note, I have been following with interest the discussion on \nparallel rendering solutions and alternatives to a working NFS lock \nmanager.  I haven't responded because I haven't had anything \nintelligent to add...  It's sounding like the consensus is headed the \ndirection of a socket-based client/server solution.  A dreadful pain to \nimplement from all I've seen, but perhaps it's best in the long run.\n\n\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2003-January/000542.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "January 30, 2003 at 07:16AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_000538", "id": "radiance-general_000542"}