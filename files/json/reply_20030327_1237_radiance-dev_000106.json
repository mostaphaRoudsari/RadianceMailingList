{"body": "Charles Ehrlich wrote:\n\n\n> I don't remember where we left the issue regarding support for Samba file\n> sharing and lock files. I suppose I haven't let go of it yet.\n>\n> Below is a link to the modifications made to rpiece.c by Tony Kay. He allowed\n> these changes to be made feely available. The tarball also includes a samba\n> lock exerciser.\n\n\n\n\nI had a very short look at the code, and as far as I can see,\nthis may not be exactly what you seem to think it is. Whether\nthat makes it more or less useful, remains to be seen.\n\n\nUnless I have missed something, then Tony Kays changes have\nnothing directly to do with Samba. It's just that he happened to\nuse Samba for the actual file access. What he seems to have done,\nis simply to link Radiance to the Cygwin libraries, which gave\nhim access to an implementation of fcntl() that is aware of\nnetworked file locks. As a result, he could use exactly the same\ncode on Windows as is already used on unix.\n\n\nAdvantages:\n- works transparently together with unix NFS locks, even if the\n  file is actually accessed through a Samba mount.\n- no code changes required\n\n\nDisadvantages:\n- requires the Cygwin libraries, which makes commercial\n  redistribution potentially difficult/expensive.\n- NFS locks still seem to be unreliable on some unix systems.\n- I'm not sure if Cygwin can lock files on both unix and Windows\n  based filesystems this way.\n\n\nFor my taste, those are at least two disadvantages too many...\n\n\n\n\n-schorsch\n\n\n\n\nGeorg Mischler  --  simulations developer  --  schorsch at schorsch com\n+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2003-March/000106.html).</sup>", "attachments": [], "created_by_name": "Georg Mischler", "created_at": "March 27, 2003 at 12:37PM", "created_by": "Georg_Mischler", "parent_id": "radiance-dev_000102", "id": "radiance-dev_000106"}