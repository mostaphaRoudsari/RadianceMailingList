{"body": "Greg Ward wrote:\n\n\n> Aha!  It's not a bug, it's a \"feature!\"\n\n\nLet's call it a buggy feature, ok? ;)\n\n\n\n\n> you saw it before in your IES sources because the source distribution\n> either didn't match the simulated source.  It shows up well in this\n> example because your alternate material is a dark diffuse one rather\n> than something emitting.\n\n\nThere are light fixtures with the visual appearance of a dark\nhole in the ceiling (\"dark lights\"). This is how I found the bug\nin 1998 with distribution data applied, and the test case shows\nthe same effect without the data. I also had Rayfront users\ncomplain because part of the impostor illums for their luminaires\nbecame visible when they shouldn't (as in Robs example).\n\n\nBoth cases, a dark substitution material and void for transparency\nare valid and necessary uses of the illum material, and there's no\nother way to get the correct result in those situations. Well, as\nit is now, there's no way to get the correct result at all.\n\n\n\n\n> I could eliminate illum's from the drawsources() calculations, but I\n> think the net result would be worse than what we currently have, as\n> illum sources then would be poorly sampled on the image plane when they\n> got to be small and/or thin.\n\n\nI think that drawsources() (resp. the routine calling it) should\nfirst check whether the target is not just an illum, but an illum\nwith a substitute material. If that is the case, then there's no\nsource to draw, hence no justification to invoke a shadow ray. The\npossibility that the substitute material is again a luminous type\ncan probably be neglected, as it doesn't make any practical sense.\n\n\nI didn't check in the sources how hard it will be to fix this,\nbut I consider the current behaviour to be fundamentally wrong.\nHey, this will give you a chance to brag at the workshop that you\njust fixed \"one of the oldest Radiance bugs ever found\"... ;)\n\n\n\n\n-schorsch\n\n\n\n\nGeorg Mischler  --  simulations developer  --  schorsch at schorsch com\n+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2003-September/000210.html).</sup>", "attachments": [], "created_by_name": "Georg Mischler", "created_at": "September 14, 2003 at 04:26PM", "created_by": "Georg_Mischler", "parent_id": "radiance-dev_000211", "id": "radiance-dev_000210"}