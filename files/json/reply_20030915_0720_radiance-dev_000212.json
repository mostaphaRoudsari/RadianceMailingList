{"body": "This message is in MIME format.  The first part should be readable text,\n  while the remaining parts are likely unreadable without MIME-aware tools.\n  Send mail to mime@docserver.cac.washington.edu for more info.\n\n\n--0-687750287-1063624849=:91289\nContent-Type: TEXT/PLAIN; charset=US-ASCII\n\n\nGreg Ward wrote:\n\n\n> I don't believe this is triggering in any of Rob's renderings, as the\n> lights are all large enough to be adequately sampled using standard\n> sampling in rpict.\n\n\nHow do you explain the bright strips in this picture then?\n  http://www.rumblestrip.org/rad/illum2.png\n\n\nMaybe there's an *additional* bug in the routines that determine\nhow big the sources will appear in the picture? The sources in my\ntest case are also big enough that I wouldn't expect any special\nsampling to be necessary.\n\n\n\n\n> The reason for invoking the shadow ray is because the source is not\n> adequately sampled on the image plane.  This happens when the chances\n> are 50-50 (or thereabouts) that an image sample will hit the source.\n\n\nAllow me to repeat my central point:\n\n\n  If an illum has an alternate material, then there's no source to\n  sample for display in the picture, whether that sampling would\n  be theoretically adequate or not.\n\n\nMy proposed fix avoids exactly this, and prevents Radiance from\ndoing unnecessary work. The fix is straightforward, a patch is\nappended for review. As far as I can tell, this patch has no\nconsequences whatsoever for the rest of the simulation. It's a\npurely visual fix for a purely visual problem.\n\n\nThe only thing I'm not sure about is whether the test in\nsrcdraw.c is positioned correctly relative to the other tests\nabove and below it, you'll be able to decide about the optimal\nsequence better than I can.\n\n\n\n\n> If I remove the call to drawsources() for illum's, terrible aliasing\n> will result, and this will be noteably worse than the current output in\n> most cases.  If the illum and its alternate are properly matched,\n\n\nI don't see what useful definition \"properly matched\" can have in\nthis context. Isn't the idea behind the alternate material that\nthe user may visually substitute *something else* for the light\nsource? Or in the case of impostor geometry, to have the \"true\"\nlight source visually disappear?\n\n\n\n\n> then\n> the current solution should be better than either doing nothing or\n> sampling the alternate material instead of the illum, since we get the\n> benefit of averaging.\n\n\nThe current implementation shows light sources where there are\nsupposed to be none visible. How can that be better than anything?\n\n\n\n\n> The only time I really see this as being a problem is when someone is\n> trying to \"hide\" certain light sources from view.  This of course\n> enters into the non-physical realm, where Radiance doesn't really\n> compete with other renderers.\n\n\nTo the contrary. This is recommended and standard practise when\nseperating light emission and geometry of a light source, either\nby applying distribution data to an impostor geometry directly,\nor by using mkillum. You personally recommended this approach to\nRob in the thread that started this discussion over in\nradiance-general.\n\n\nThe following is an example that was sent to me by a Rayfront\nuser, and I was unable to offer him a solution at that time:\n  http://www.schorsch.com/stuff/rad/EdenInst_front_wall.jpg\n\n\nThis isn't anywhere in the non-physical realm. It's a massive\nproblem for people trying to get renderings that are both\nphysically *and* visually accurate, and who wish to do so within\nreasonable time. Reducing -ps to 1 is at best a crude workaround\nfighting the symptoms, and probably still not eliminating them in\nall cases. The real cause of the problem can be easily fixed with\nmy patch.\n\n\n\n\n> We can discuss it further at the workshop if you like, but I'll hold\n> off doing anything until then.  I think we should agree first, and I\n> don't feel like we're getting there with this exchange.\n\n\nNo need to rush anything, of course.\n\n\n\n\n-schorsch\n\n\n\n\nGeorg Mischler  --  simulations developer  --  schorsch at schorsch com\n+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/\n\n\n--0-687750287-1063624849=:91289\nContent-Type: TEXT/PLAIN; charset=US-ASCII; name=\"illumbug.diff\"\nContent-Transfer-Encoding: BASE64\nContent-ID: <Pine.BSF.4.44.0309150720490.91289@emancholl.pair.com>\nContent-Description: \nContent-Disposition: attachment; filename=\"illumbug.diff\"\n\n\nZGlmZiAtYyBzcmNfaWxsdW1idWcvcnQvc291cmNlLmMgc3JjL3J0L3NvdXJj\nZS5jDQoqKiogc3JjX2lsbHVtYnVnL3J0L3NvdXJjZS5jCTIwMDMtMDktMTUg\nMTI6Mjc6MTguMDAwMDAwMDAwICswMjAwDQotLS0gc3JjL3J0L3NvdXJjZS5j\nCTIwMDMtMDktMTUgMTI6MjU6MzQuMDAwMDAwMDAwICswMjAwDQoqKioqKioq\nKioqKioqKioNCioqKiA5Miw5NyAqKioqDQotLS0gOTIsOTkgLS0tLQ0KICAN\nCiAgCQlzZXRzb3VyY2UoJnNvdXJjZVtuc10sIG8pOw0KICANCisgCQlpZiAo\nbS0+b3R5cGUgPT0gTUFUX0lMTFVNICYmIG0tPm9hcmdzLm5zYXJncykNCisg\nCQkJc291cmNlW25zXS5zZmxhZ3MgfD0gQUxUSUxMVU07DQogIAkJaWYgKG0t\nPm90eXBlID09IE1BVF9HTE9XKSB7DQogIAkJCXNvdXJjZVtuc10uc2ZsYWdz\nIHw9IFNQUk9YOw0KICAJCQlzb3VyY2VbbnNdLnNsLnByb3ggPSBtLT5vYXJn\ncy5mYXJnWzNdOw0KZGlmZiAtYyBzcmNfaWxsdW1idWcvcnQvc291cmNlLmgg\nc3JjL3J0L3NvdXJjZS5oDQoqKiogc3JjX2lsbHVtYnVnL3J0L3NvdXJjZS5o\nCTIwMDMtMDktMTUgMTI6Mjc6MjIuMDAwMDAwMDAwICswMjAwDQotLS0gc3Jj\nL3J0L3NvdXJjZS5oCTIwMDMtMDktMTUgMTI6MDM6NTEuMDAwMDAwMDAwICsw\nMjAwDQoqKioqKioqKioqKioqKioNCioqKiAyMywyOCAqKioqDQotLS0gMjMs\nMjkgLS0tLQ0KICAjZGVmaW5lICBTRkxBVAkJMDQwCQkvKiBzb3VyY2UgZmxh\ndCBmbGFnICovDQogICNkZWZpbmUgIFNDWUwJCTAxMDAJCS8qIHNvdXJjZSBj\neWxpbmRyaWNhbCBmbGFnICovDQogICNkZWZpbmUgIFNGT0xMT1cJMDIwMAkJ\nLyogc291cmNlIGZvbGxvdyBwYXRoIGZsYWcgKi8NCisgI2RlZmluZSAgQUxU\nSUxMVU0gICAwNDAwICAgIC8qIGlsbHVtIHdpdGggYWx0IG1hdGVyaWFsICov\nDQogIA0KICB0eXBlZGVmIHN0cnVjdCB7DQogIAlGVkVDVCAgYWltOwkJLyog\nYWltIGRpcmVjdGlvbiBvciBjZW50ZXIgKi8NCmRpZmYgLWMgc3JjX2lsbHVt\nYnVnL3J0L3NyY2RyYXcuYyBzcmMvcnQvc3JjZHJhdy5jDQoqKiogc3JjX2ls\nbHVtYnVnL3J0L3NyY2RyYXcuYwkyMDAzLTA5LTE1IDEyOjI4OjA4LjAwMDAw\nMDAwMCArMDIwMA0KLS0tIHNyYy9ydC9zcmNkcmF3LmMJMjAwMy0wOS0xNSAx\nMjoxMzo0Ny4wMDAwMDAwMDAgKzAyMDANCioqKioqKioqKioqKioqKg0KKioq\nIDI3NiwyODEgKioqKg0KLS0tIDI3NiwyODMgLS0tLQ0KICAJaWYgKHMtPnNm\nbGFncyAmIChTRElTVEFOVHxTRkxBVCkpIHsNCiAgCQlpZiAocy0+c2ZsYWdz\nICYgU0RJU1RBTlQgJiYgb3Vydmlldy50eXBlID09IFZUX1BBUikNCiAgCQkJ\ncmV0dXJuKDApOwkJLyogYWxsIG9yIG5vdGhpbmcgY2FzZSAqLw0KKyAJCWlm\nIChzLT5zZmxhZ3MgICYgQUxUSUxMVU0pDQorIAkJCXJldHVybigwKTsgLyog\naWxsdW0gd2l0aCBhbHQgbWF0LCBubyBzb3VyY2UgdG8gZHJhdyAqLw0KICAJ\nCWlmIChzLT5zZmxhZ3MgJiBTRkxBVCkgew0KICAJCQlmb3IgKGkgPSAwOyBp\nIDwgMzsgaSsrKQ0KICAJCQkJYXBbaV0gPSBzLT5zbG9jW2ldIC0gb3Vydmll\ndy52cFtpXTsNCg==\n--0-687750287-1063624849=:91289--\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2003-September/000212.html).</sup>", "attachments": [], "created_by_name": "Georg Mischler", "created_at": "September 15, 2003 at 07:20AM", "created_by": "Georg_Mischler", "parent_id": "radiance-dev_000211", "id": "radiance-dev_000212"}