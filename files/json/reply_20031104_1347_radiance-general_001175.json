{"body": "Marcus,\n\n\nHmmm, the changes listed in Carsten's e-mail aren't quite the\nsame ones that I came up with. They're simpler than mine, and\nI'm sure they work, too.\n\n\nOf course, this may all be moot, as I was able to build today's\nHEAD with -DMC invoked without any code changes (except pointing\nto /usr/lib/libtiff.a)\n\n\nNow, if you're building the photon map enhancement, which requires\nthe 3R5 release, you'll need the changes to get -DMC working.\n\n\nThe changes that I came up with require a few modifications to the\nsrc/common/random.h file:\n\n\n1) in the \"#ifdef  MC\" section, add:\nextern unsigned short   *urperm;\n\n\n2) after the next \"#else\", add:\nextern int      initurand(int size);\n\n\n3) remove, or comment out the following lines:\n\n\n\n\n#ifdef NOPROTO\n\n\nextern int      initurand();\nextern int      ilhash();\nextern int      urind();\nextern void     multisamp();\n\n\n#else\n                                /* defined in urand.c */\nextern int      initurand(int size);\n\n\n\n\nand the final:\n\n\n#endif\n\n\n\n\nI guess it's kind of long-winded, but it builds on Linux\n(Linux 2.4.20-20_29.rh9.at, gcc (GCC) 3.2.2 20030222)\n\n\nMark\n\n\nOn Tue, 4 Nov 2003, Marcus Jacobs wrote:\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2003-November/001175.html).</sup>", "attachments": [], "created_by_name": "Mark Stock", "created_at": "November 04, 2003 at 01:47PM", "created_by": "Mark_Stock", "parent_id": "radiance-general_001179", "id": "radiance-general_001175"}