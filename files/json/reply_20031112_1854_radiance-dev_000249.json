{"body": "Dear Group\n\n\n\n\nFirst of all, I ask that you all will please forgive my lack of knowledge on \nthe subject of Monte Carlo importance sampling. Although I am not familiar \nwith this subject, I do possess an engineering degree so I am familiar with \nsome complex mathematical concepts.\n\n\nAs for my question, I have had some issues with reflection on objects \ncomposed of metal and metal2 materials. Generally the reflections that I \nhave had problems picking up are bright objects that are non-light sources \nsources. An example of such is picking up the reflection of a floor with a \nvery bright area due to a light source such as the following example:\n\n\nhttp://f1.pg.photos.yahoo.com/ph/marcdevon/vwp?.dir=/RadiancePics&.dnm=room2a_camera4.jpg&.view=t\n\n\n\n\nGenerally, the reflections of the floor on the appliances will come out very \nnoisy (instead of blurry). I have had some moderate success in eliminating \nthe noise by increasing the rendering resolution. It takes a rendering of \nabout 12 times the final resolution before filtering to reduce the noise. \nAlthough this is acceptable, it is inefficient to render an entire scene at \nthis resolution due to the problems of a fraction of the scene. In my \nopinion, it is far more efficient to have a solution to rectify the problem \nlocally where the problems exist rather than on the entire image.\n\n\nI have attempted going into the software\u2019s source code to find a solution to \nthis problem. What I hypothesized was that by increasing the specular \nsampling, I can reduce the pixel variance and the cost of increased \ncomputational expense and the loss of some blurriness of the reflection \n(although I believe I would still capture the roughness of the material). I \nhave read through Chapter 12 of \u201cRendering with Radiance\u201d and have looked \ninto materials file included with the CD-ROM. While delving into aniso.c, I \nthought I could accomplish my objective by increasing the value of the \nconstant MAXITER (I actually renamed it to MAXITER2 to avoid any conflict \nwith MAXITER in norm.c) from 10 to 256. Unfortunately, this did not work. I \ntried to do a small calculation to estimate the number of rays that would \nhave to be traced in order to render the image with these settings. Most of \nthe surfaces of the appliances in the above picture are anisotropic. I \nestimated that these surfaces comprise of about 1/3 of the scene. If I \nrendered the image at 1000 x 1000 (1 million total pixels) about 333K pixels \nwould have their specular component sampled. At 256 samples per pixels and a \npixel sample rate of 1, specular jittering of 1 and specular threshold of 0, \nthe number of specular samples expected would equal to around 85 million. \nWhen I did render the image, a total of about 19 million rays were traced \n(including ambient). As you can see, the number of actual rays traced is not \non the same order of the number that I expected to trace. I did a comparison \nbetween a rendering with and without the source code modifications that I \nhad performed. There were differences in the render settings.  The image \nquality was no different between the two renders and there were only about \n2-3 million more rays total traces.\n\n\n\n\nFor my questions:\n\n\nFirstly, am I off base in my assumption that increasing the number of \nspecular samples will decrease the pixel variance/noise in my renders or am \nI over simplifying the problem?  Secondly, if this is a proper assumption, \nwould simply changing a few constants in the sources code help achieve my \nobjective or would a lot more work be necessary? Lastly, are my assumptions \nconcerning the number of samples required off base?\n\n\n\n\n\n\nThanks\n\n\nMarcus D. Jacobs\n\n\n_________________________________________________________________\nMSN Messenger with backgrounds, emoticons and more. \nhttp://www.msnmessenger-download.com/tracking/cdp_customize\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2003-November/000249.html).</sup>", "attachments": [], "created_by_name": "Marcus Jacobs", "created_at": "November 12, 2003 at 06:54PM", "created_by": "Marcus_Jacobs", "parent_id": "radiance-dev_000250", "id": "radiance-dev_000249"}