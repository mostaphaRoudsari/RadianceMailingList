{"body": "--------------000903090505050406050801\nContent-Type: text/plain; charset=us-ascii; format=flowed\nContent-Transfer-Encoding: 7bit\n\n\nHey John,\n\n\nOK, a step in the right direction ;->, some other thought below....\n\n\n-Jack\n\n\nJohn S. An wrote:\n\n\n> Jack,\n>\n> Thanks for you advice.\n>\n> The short invocation was what I had found in the radiance-online \n> archives, in which Greg gave a step by step approach. I did take your \n> advice and tried making the -x -y and -vf parameters explicit in the \n> second invocation. I no longer get the resolution mismatch error. \n> Also, although my image is only 500 by 500, the settings seem to be \n> sufficiently high enough that each piece takes at least a couple \n> minutes to render.\n>\n> However, a few things that I have noticed are:\n> 1) when I use the \"top\" command, there are 4 rpict processes. 2 seem \n> to be active, and 2 are idle. I had assumed that there should be only \n> 3 rpict processes (2 active, and one waiting fork). \n\n\nHmm. Actually, I think for 2 rpiece processes you should expect the \nfollowing to appear under top:\n\n\n    * rpiece - 2 instances (minimum), one for each invocation, and you\n      may get more as well depending on how radiance was compiled, the\n      \"extra\" ones are around to wait for data to be written out for a\n      particular piece before exiting\n    * rpict - 5 processes, I think that 1 is a listener that forks off\n      processes as needed based on input from rpiece and then a reader\n      and writer for each process, perhaps someone else can help clarify.\n\n\nI suspect that you actually have an old rpict process hanging around. I \nsuggest that you check the process table for rpict and rpiece now (when \nthere is nothing running) and see if there are any processes reported. \nIf so they may be left around from when the second rpiece was dieing and \nreporting its error. You should be able to use the following to check \nquickly for what you want:\n\n\nps aux | grep rpict\nps aux | grep rpiece\n\n\n> 2) when I look over the output log, both processes are working on \n> frame 1, then again, both working on frame 2, etc. \n\n\nAs far as the log is concerned this is ok. Each rpiece process will \nstarting it frame counting at 1.\n\n\n>\n> 3) the final output .pic file only has the center (where the light \n> fixture is located) rendered, and the rest of the image is completely \n> black. \n\n\nI think that you should check the process table as indicated, make sure \neverything is cleaned up and start fresh. It is also possible that you \nare looking at an image that is still being rendered.\n\n\n>\n>\n> I'm sure I'm making a dumb newbie mistake, but can't seem to figure \n> out what it is. Could you (or someone) post a detailed printout of \n> which commands with what parameters one would use to get a simple \n> rpiece process going?\n>\n> Thanks.\n>\n> (btw, my initial attempt at the rpiece command was adapted from Greg's \n> post a while back)\n>\n>\n> John\n>\n> _________________________________\n> Jack de Valpine wrote:\n>\n> John,\n>\n> We use rpiece but probably a little differently in terms of invocation.\n> There are a couple of things to look at:\n>\n> 1. typo - there is a typo in your first command line you have --aa\n> which should be -a\n> 2. invocations - there is a short form for invoking rpiece after the\n> initial invocation, which is what you are trying to do here. I\n> would check the man page for rpiece carefully to make sure you are\n> doing this correctly, it looks like you are leaving out the -x and\n> -y image resolution parameters as well as the viewfile -vf from\n> the short version of the invocation. As an alternative to keep\n> things more \"simple\", I would suggest just calling exactly the\n> same thing as the initial invocation. This could be coded into a\n> simple script or makefile to save yourself some of the headache of\n> typing the whole thing our or a potentially incorrect cut and paste.\n> 3. scene complexity - depending on the simplicity or complexity of\n> the scene you are trying to run here there is a another possible\n> problem. If the scene is really simple and the image size small\n> (500x500 is not that large) then the first rpiece process could\n> have completed everything before the next invocation (I seem to\n> recall that this may produce the same kind of message?) Are you\n> getting a completed image?\n>\n> -Jack de Valpine\n>\n> John S. An wrote:\n>\n> > Hi all,\n> >\n> > I had followed Andrews discussion on resolution mismatch a few weeks\n> > back. However, I seem to be running into a different type of\n> > resolution mismatch problem right now.\n> >\n> > I am venturing into the world of parallel processing on a dual G5\n> > Macintosh, and my first invocation of rpiece works fine.\n> >\n> > rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP\n> > b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05 -dc 0.10\n> > -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01 0.01 -aw\n> > 1 -ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude -x\n> > 500 -y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out\n> > b_b_b.oct &\n> >\n> > However, when I try to start the second process\n> >\n> > rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst\n> > b_b_b.oct &\n> >\n> > I get the error message\n> >\n> > rpiece: resolution mismatch on file \"b_b_b_1_indirect_plan.pic\n> >\n> > I tried adjusting the -X -Y and -x -y parameters, but the same thing\n> > happened. Just out of curiosity, I also tried adjusting the -av and\n> > -aw to 0, and the same results.\n> >\n> >\n> > I am certain that this is not a problem with a limit on the available\n> > resource. The machine has 1.5GB of memory.\n> >\n> > Any hints as to what could be wrong?\n> >\n> >\n> > Thanks.\n> >\n> > John\n\n\n\n\n\n\n#\tJohn E. de Valpine\n#\tpresident\n#\n#\tvisarc incorporated\n#\thttp://www.visarc.com\n#\n#\tchanneling technology for superior design and construction\n\n\n\n\n\n\n--------------000903090505050406050801\nContent-Type: text/html; charset=us-ascii\nContent-Transfer-Encoding: 7bit\n\n\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html;charset=ISO-8859-1\">\n  <title></title>\n</head>\n<body>\nHey John,<br>\n<br>\nOK, a step in the right direction ;-&gt;, some other thought below....<br>\n<br>\n-Jack<br>\n<br>\nJohn S. An wrote:<br>\n<blockquote type=\"cite\"\n cite=\"mid6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com\"><!-- Courier -->Jack, \n  <br>\n  <br>\nThanks for you advice. <br>\n  <br>\nThe short invocation was what I had found in the radiance-online archives,\nin which Greg gave a step by step approach.  I did take your advice and tried\nmaking the -x -y and -vf parameters explicit in the second invocation.  \n I no longer get the resolution mismatch error.  Also, although my image\nis only 500 by 500, the settings seem to be sufficiently high enough that\neach piece takes at least a couple minutes to render. <br>\n  <br>\nHowever, a few things that I have noticed are: <br>\n1) when I use the \"top\" command, there are 4 rpict processes.  2 seem to\nbe active, and 2 are idle.  I had assumed that there should be only 3 rpict\nprocesses (2 active, and one waiting fork). </blockquote>\nHmm. Actually, I think for 2 rpiece processes you should expect the following\nto appear under top:<br>\n<ul>\n  <li>rpiece - 2 instances (minimum), one for each invocation, and you may\nget more as well depending on how radiance was compiled, the \"extra\" ones\nare around to wait for data to be written out for a particular piece before\nexiting</li>\n  <li>rpict - 5 processes, I think that 1 is a listener that forks off processes\nas needed based on input from rpiece and then a reader and writer for each\nprocess, perhaps someone else can help clarify.</li>\n</ul>\nI suspect that you actually have an old rpict process hanging around. I suggest\nthat you check the process table for rpict and rpiece now (when there is\nnothing running) and see if there are any processes reported. If so they\nmay be left around from when the second rpiece was dieing and reporting its\nerror. You should be able to use the following to check quickly for what\nyou want:<br>\n<br>\nps aux | grep rpict<br>\nps aux | grep rpiece<br>\n<blockquote type=\"cite\"\n cite=\"mid6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com\">2) when I look over\nthe output log, both processes are working on frame 1, then again, both working\non frame 2, etc. </blockquote>\nAs far as the log is concerned this is ok. Each rpiece process will starting\nit frame counting at 1.<br>\n<blockquote type=\"cite\"\n cite=\"mid6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com\"><br>\n3) the final output .pic file only has the center (where the light fixture\nis located) rendered, and the rest of the image is completely black. </blockquote>\nI think that you should check the process table as indicated, make sure everything\nis cleaned up and start fresh. It is also possible that you are looking at\nan image that is still being rendered.<br>\n<blockquote type=\"cite\"\n cite=\"mid6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com\"><br>\n  <br>\nI'm sure I'm making a dumb newbie mistake, but can't seem to figure out what\nit is.  Could you (or someone) post a detailed printout of which commands\nwith what parameters one would use to get a simple rpiece process going? <br>\n  <br>\nThanks. <br>\n  <br>\n(btw, my initial attempt at the rpiece command was adapted from Greg's post\na while back) <br>\n  <br>\n  <br>\nJohn <br>\n  <br>\n_________________________________ <br>\nJack de Valpine wrote: <br>\n  <br>\nJohn, <br>\n  <br>\nWe use rpiece but probably a little differently in terms of invocation.  <br>\nThere are a couple of things to look at: <br>\n  <br>\n   1. typo - there is a typo in your first command line you have --aa <br>\n      which should be -a <br>\n   2. invocations - there is a short form for invoking rpiece after the <br>\n      initial invocation, which is what you are trying to do here. I <br>\n      would check the man page for rpiece carefully to make sure you are <br>\n      doing this correctly, it looks like you are leaving out the -x and <br>\n      -y image resolution parameters as well as the viewfile -vf  from <br>\n      the short version of the invocation. As an alternative to keep <br>\n      things more \"simple\", I would suggest just calling exactly the <br>\n      same thing as the initial invocation. This could be coded into a <br>\n      simple script or makefile to save yourself some of the headache of <br>\n      typing the whole thing our or a potentially incorrect cut and paste. \n  <br>\n   3. scene complexity - depending on the simplicity or complexity of <br>\n      the scene you are trying to run here there is a another possible <br>\n      problem. If the scene is really simple and the image size small <br>\n      (500x500 is not that large) then the first rpiece process could <br>\n      have completed everything  before the next invocation (I seem to <br>\n      recall that this may produce the same kind of message?) Are you <br>\n      getting a completed image? <br>\n  <br>\n-Jack de Valpine <br>\n  <br>\nJohn S. An wrote: <br>\n  <br>\n&gt;<i> Hi all, <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> I had followed Andrews discussion on resolution mismatch a\nfew weeks  <br>\n  </i>&gt;<i> back.  However, I seem to be running into a different type\nof  <br>\n  </i>&gt;<i> resolution mismatch problem right now. <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> I am venturing into the world of parallel processing on a dual\nG5  <br>\n  </i>&gt;<i> Macintosh, and my first invocation of rpiece works fine. <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic\n-PP  <br>\n  </i>&gt;<i> b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05\n-dc 0.10  <br>\n  </i>&gt;<i> -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01\n0.01 -aw  <br>\n  </i>&gt;<i> 1 -ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude\n-x  <br>\n  </i>&gt;<i> 500 -y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out\n <br>\n  </i>&gt;<i> b_b_b.oct &amp; <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> However, when I try to start the second process <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst\n <br>\n  </i>&gt;<i> b_b_b.oct &amp; <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> I get the error message <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> rpiece: resolution mismatch on file \"b_b_b_1_indirect_plan.pic \n  <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> I tried adjusting the -X -Y and -x -y parameters, but the same\nthing  <br>\n  </i>&gt;<i> happened.  Just out of curiosity, I also tried adjusting the\n-av and  <br>\n  </i>&gt;<i> -aw to 0, and the same results. <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> I am certain that this is not a problem with a limit on the\navailable  <br>\n  </i>&gt;<i> resource.  The machine has 1.5GB of memory. <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> Any hints as to what could be wrong? <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> Thanks. <br>\n  </i>&gt;<i> <br>\n  </i>&gt;<i> John <br>\n  </i> </blockquote>\n<br>\n<pre class=\"moz-signature\" cols=\"$mailwrapcol\">-- \n#\tJohn E. de Valpine\n#\tpresident\n#\n#\tvisarc incorporated\n#\t<a class=\"moz-txt-link-freetext\" href=\"http://www.visarc.com\">http://www.visarc.com</a>\n#\n#\tchanneling technology for superior design and construction</pre>\n<br>\n</body>\n</html>\n\n\n--------------000903090505050406050801--\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2003-December/001326.html).</sup>", "attachments": [], "created_by_name": "Jack de Valpine", "created_at": "December 15, 2003 at 01:48PM", "created_by": "Jack_de_Valpine", "parent_id": "radiance-general_001317", "id": "radiance-general_001326"}