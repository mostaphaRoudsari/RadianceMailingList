{"body": "Hi Tarik,\n\n\nThe problem is that keys.cal is not being completely generated. I think \nthat there are a couple of things to look at.\n\n\nFirst, I do not think that you are doing quite the right thing to create \nkey.fmt. \"key.fmt\" should be a file that contains a format, in this case:\n\n\nrview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh} -vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}\n\n\nThis should all be on one line and should not contain trailing or \nleading white spaces. This is the string that rcalc will match to in \norder to extract your variables.\n\n\nAs far as I can tell, I do not think that this is a valid command:\n\n\n./rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh} -vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t} > key.fmt\n\n\nSecond, I believe that there may be a problem with the case of the \nvariable names used. For example, your key.fmt uses all lower case (such \nas px, py and pz). Whereas in the call to tabfunc and the second call to \nrcalc you use mixed case for the variable names such as (Px, Py and Pz). \nI am not sure what os you are running on, it is possible that cygwin \nignores case and quite likely that windows does. Unix/Linux/OsX however \ndo expect case to match.\n\n\n-Jack de Valpine\n\n\nTarik Rahman wrote:\n\n\n>Hi,\n> I'm having a problem in generating my anim.vf file. I set my views by working\n>in rview doing\n>v keys.vf -t 2 etc. every time I change view.\n>\n>Then I create key.fmt from the command line\n>\n>./rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh} -vv\n>${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t} > key.fmt\n>\n>Then I want to generate the  key.cal file\n>\n>./rcalc -i key.fmt -e\n>'$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz;$8=vh;$9=vv;$10=t' keys.vf |\n>tabfunc Px Py Pz Dx Dy Dz H V T > key.cal\n>\n>I'm animating 15 fps for 29 seconds so I do\n>./cnt 435 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/15' -e\n>'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)' >\n>anim.vf\n>\n>This is where I get my error\n>\n>key.cal, line 1:\n>Px(x):select(1,);\n>                ^ unexpected character\n>\n> here is my key.cal as you specified\n> more key.cal\n> Px(x):select(1,);\n> Py(x):select(1,);\n> Pz(x):select(1,);\n> Dx(x):select(1,);\n> Dy(x):select(1,);\n> Dz(x):select(1,);\n> H(x):select(1,);\n> V(x):select(1,);\n> T(x):select(1,);\n>I don't know where I'm going wrong but think it has something to do with reading\n>from keys.vf into key.cal\n>\n>I then want to use anim.vf in my ranimate file\n>\n>Thanks for any help\n>\n>Tarik\n>\n>\n>--\n>Tarik Rahman\n>PhD student, Institue of Perception, Action and Behaviour\n>School of Informatics\n>University of Edinburgh\n>\n>_______________________________________________\n>Radiance-general mailing list\n>Radiance-general at radiance-online.org\n>http://www.radiance-online.org/mailman/listinfo/radiance-general\n>\n>\n>  \n>\n\n\n\n\n#\tJohn E. de Valpine\n#\tpresident\n#\n#\tvisarc incorporated\n#\thttp://www.visarc.com\n#\n#\tchanneling technology for superior design and construction\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2004-November/002132.html).</sup>", "attachments": [], "created_by_name": "Jack de Valpine", "created_at": "November 08, 2004 at 04:46PM", "created_by": "Jack_de_Valpine", "parent_id": "radiance-general_002131", "id": "radiance-general_002132"}