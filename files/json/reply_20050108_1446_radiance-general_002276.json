{"body": "I modified the script.Use it as follows:\n\n\n# generate a radiance sun:  gensky 3 21 8\n...\nvoid light solar\n0\n0\n3 5.18e+006 5.18e+006 5.18e+006\n...\nYL=179*(5.18e+006 *.265+5.18e+006 *.67+5.18e+006*.0648)= 927034556\n\n\n\n\nproc Kelvin_to_sun_RGB {T YL} {\n\n\n# converts a color temperature of degrees Kelvin into RGB\n# given: color temp. T and the luminance YL of the source\n# convert the blackbody temperature T into \"RGB\"\n# Both fits have R^2= 1.000 over the range from 2000K\n# to 11000K. Both look ill behaved above 11000K\nset x [expr 0.8405 - 2.17834e-04 *$T  \\\n                   + 3.52544e-08 *$T*$T \\\n                   - 2.7046e-12*$T*$T*$T \\\n                   + 7.9696e-17*$T*$T*$T*$T]\nset y [expr 0.30587 + 1.3655e-4 *$T \\\n                    - 5.6154e-8 *$T*$T \\\n                    + 8.9484e-12*$T*$T*$T \\\n                    - 6.5352e-16*$T*$T*$T*$T \\\n                    + 1.8158e-20*$T*$T*$T*$T*$T]\n\n\nset z [expr 1.0-$x-$y]\nset X [expr $x*$YL/$y]\nset Z [expr $z*$YL/$y]\n# X, YL, Z are the spectral tristimulus values\n# the following formulae assume the monitor alignments given in the book :\n# \"procedural elements for computer graphics\" by David F. Rogers, 1985 McGraw-Hill; pp. 397\nset R [expr  2.739*$X - 1.145*$YL - 0.424*$Z]\nset G [expr -1.119*$X + 2.029*$YL + 0.033*$Z]\nset B [expr 0.138 *$X - 0.333*$YL + 1.105*$Z]\nif {$B<0} {set B 0.0}\nreturn \"$R $G $B\"\n}\n__________________________________\nKelvin_to_sun_RGB 2100.0 $YL\n...\n# a sun with a color temperature of 2100 K and a luminance of YL\nvoid light solar\n0 0 3\n2017646607     601412803   19892974\n...\n\n\nThe script does not work for very low sun angles, as the sun changes to pink orange, which cannot be represented by a blackbody. Use some filter colors from Lee or Rosco for that. \n\n\nMartin Moeck\n\n\n\n\n\n\n\t-----Original Message-----\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2005-January/002276.html).</sup>", "attachments": [], "created_by_name": "Martin Moeck", "created_at": "January 08, 2005 at 02:46PM", "created_by": "Martin_Moeck", "parent_id": "radiance-general_002261", "id": "radiance-general_002276"}