{"body": "iebele wrote:\n> Current rmake command is:\n> #!/bin/sh\n> exec make \"SPECIAL=\" \\\n>         \"OPT=-m64 -O3 -mfpmath=sse -DSPEED=200\" \\\n>         \"MACH=-Dlinux -D_FILE_OFFSET_BITS=64 -L/usr/X11R6/lib\n> -I/usr/include/X11 -DNOSTEREO\" \\\n>         ARCH=IBMPC \"COMPAT=bmalloc.o erf.o getpagesize.o\" \\\n>         INSTDIR=/usr/local/bin \\\n>         LIBDIR=/usr/local/lib/ray \\\n>         ESUFFIX= \\\n>         CC=gcc \"$@\" -f Rmakefile\n\n\n\n\nWhat version of gcc is installed on your system?\nCheck using gcc -v\n\n\nLooking at the man page for gcc-3.4 on my Debian (Athlon XP) system, I'd \nsuggest the following settings:\n\n\n-march=k8\tto enable the AMD64 instructions, implies the same\n\t\targument to -mtune.\n\n\n-msse2\t\tto enable SSE2 instructions. Without this, the -mfpmath=sse\n\t\toption is useless.\n\n\n-mfpmath=sse,387 this will give you a boost if the SSE unit is separate\n\t\tfrom the old x87 unit but I don't know enough about the K8\n\t\tarchitecture to know if it does. It will try to use both\n\t\texecution units, but the man page says it still\n\t\texperimental.\n\n\n-ffast-math\tthe man page says this is dangerous but I've never noticed \t\t \nany problems myself. Try it if you want.\n\n\nApart from that, wait for upcoming GCC-4.x releases to flesh out its \noptimisation features, in particular auto vectorization. The SSE2 \ninstruction set can handle double precision FP math, better than the single \nprecision in SSE or Altivec. You should theoretically be able to get some \npretty awesome performance out of that processor. Reality is another matter \nthough... :(\n\n\nMy other suggestion would be to check out some Gentoo web sites. Those guys \nare nuts about compiler optimisations :P\n\n\nbye\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2005-June/002775.html).</sup>", "attachments": [], "created_by_name": "Ian Tester", "created_at": "June 27, 2005 at 05:46PM", "created_by": "Ian_Tester", "parent_id": "radiance-general_002769", "id": "radiance-general_002775"}