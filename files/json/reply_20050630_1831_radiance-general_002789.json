{"body": "Hi,\n\n\nIt might also be worth checking Mark Stock's benchmark page:\n\n\nhttp://mark.technolope.org/pages/rad_bench.html\n\n\nfor some other compile options.\n\n\n-Jack\n\n\natelier iebele abel wrote:\n\n\n> Hi Ian,\n>\n> I used your recommended gcc options an got an rendering speed \n> improvement of 1.035. That is 3.5 % (!).\n> I used gcc 4.0(etc, I dont know exactly) but did not find any option \n> like \"auto vectorization\". We'll have to wait for that coming up in \n> the future i think.\n> Thanks a lot for figuring out these settings so far !\n>\n> Iebele\n>\n>\n>\n>\n> Ian Tester wrote:\n>\n>> iebele wrote:\n>>\n>>> Current rmake command is:\n>>> #!/bin/sh\n>>> exec make \"SPECIAL=\" \\\n>>>         \"OPT=-m64 -O3 -mfpmath=sse -DSPEED=200\" \\\n>>>         \"MACH=-Dlinux -D_FILE_OFFSET_BITS=64 -L/usr/X11R6/lib\n>>> -I/usr/include/X11 -DNOSTEREO\" \\\n>>>         ARCH=IBMPC \"COMPAT=bmalloc.o erf.o getpagesize.o\" \\\n>>>         INSTDIR=/usr/local/bin \\\n>>>         LIBDIR=/usr/local/lib/ray \\\n>>>         ESUFFIX= \\\n>>>         CC=gcc \"$@\" -f Rmakefile\n>>\n>>\n>>\n>>\n>> What version of gcc is installed on your system?\n>> Check using gcc -v\n>>\n>> Looking at the man page for gcc-3.4 on my Debian (Athlon XP) system, \n>> I'd suggest the following settings:\n>>\n>> -march=k8    to enable the AMD64 instructions, implies the same\n>>         argument to -mtune.\n>>\n>> -msse2        to enable SSE2 instructions. Without this, the \n>> -mfpmath=sse\n>>         option is useless.\n>>\n>> -mfpmath=sse,387 this will give you a boost if the SSE unit is separate\n>>         from the old x87 unit but I don't know enough about the K8\n>>         architecture to know if it does. It will try to use both\n>>         execution units, but the man page says it still\n>>         experimental.\n>>\n>> -ffast-math    the man page says this is dangerous but I've never \n>> noticed          any problems myself. Try it if you want.\n>>\n>> Apart from that, wait for upcoming GCC-4.x releases to flesh out its \n>> optimisation features, in particular auto vectorization. The SSE2 \n>> instruction set can handle double precision FP math, better than the \n>> single precision in SSE or Altivec. You should theoretically be able \n>> to get some pretty awesome performance out of that processor. Reality \n>> is another matter though... :(\n>>\n>> My other suggestion would be to check out some Gentoo web sites. \n>> Those guys are nuts about compiler optimisations :P\n>>\n>> bye\n>>\n>> _______________________________________________\n>> Radiance-general mailing list\n>> Radiance-general at radiance-online.org\n>> http://www.radiance-online.org/mailman/listinfo/radiance-general\n>>\n>\n> _______________________________________________\n> Radiance-general mailing list\n> Radiance-general at radiance-online.org\n> http://www.radiance-online.org/mailman/listinfo/radiance-general\n>\n>\n\n\n\n\n#\tJohn E. de Valpine\n#\tpresident\n#\n#\tvisarc incorporated\n#\thttp://www.visarc.com\n#\n#\tchanneling technology for superior design and construction\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2005-June/002789.html).</sup>", "attachments": [], "created_by_name": "Jack de Valpine", "created_at": "June 30, 2005 at 06:31PM", "created_by": "Jack_de_Valpine", "parent_id": "radiance-general_002769", "id": "radiance-general_002789"}