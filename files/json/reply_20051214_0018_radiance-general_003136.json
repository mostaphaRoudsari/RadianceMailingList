{"body": "Hi Mark,\n\n\nYou should check out the replmarks program, if you don't know about  \nit already.  You can use it to substitute simple triangles with  \nwhatever geometry you like.  If it doesn't do what you want, the  \nfollowing routine (taken from src/gen/replmarks.c) might prove useful.\n\n\n-Greg\n\n\n\n\n\n\nint\naddrot(\t\t/* compute rotation (x,y,z) => (xp,yp,zp) */\n\tregister char\t*xf,\n\tFVECT xp,\n\tFVECT yp,\n\tFVECT zp\n)\n{\n\tint\tn;\n\tdouble\ttheta;\n\n\n\tn = 0;\n\ttheta = atan2(yp[2], zp[2]);\n\tif (!FEQ(theta,0.0)) {\n\t\tsprintf(xf, \" -rx %f\", theta*(180./PI));\n\t\twhile (*xf) ++xf;\n\t\tn += 2;\n\t}\n\ttheta = asin(-xp[2]);\n\tif (!FEQ(theta,0.0)) {\n\t\tsprintf(xf, \" -ry %f\", theta*(180./PI));\n\t\twhile (*xf) ++xf;\n\t\tn += 2;\n\t}\n\ttheta = atan2(xp[1], xp[0]);\n\tif (!FEQ(theta,0.0)) {\n\t\tsprintf(xf, \" -rz %f\", theta*(180./PI));\n\t\t/* while (*xf) ++xf; */\n\t\tn += 2;\n\t}\n\treturn(n);\n}\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2005-December/003136.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "December 14, 2005 at 12:18AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_003135", "id": "radiance-general_003136"}