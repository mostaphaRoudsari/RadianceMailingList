{"body": "Hi Ignacio,\n\n\nRegrettably, I don't have time to debug your function file at the  \nmoment.  You can try using the debugcal script that comes with  \nRadiance, giving it ray origins and directions on the standard input  \nor using ximage:\n\n\n\tximage test.pic | debugcal test.oct -f water.cal -e '$1=dx;$2=dy; \n$3=dz;$4=dxx;$5=dyy;$6=dzz'\n\n\nThis script assigns the standard variables from rayinit.cal so you  \ncan find out what is happening.\n\n\nTo answer  your first question, the Rdot variable is the negative dot  \nproduct, meaning that it is positive when a ray strikes the front of  \na surface material, and negative when it strikes the back side of the  \nsurface.\n\n\nHope this helps.\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2006-May/003668.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "May 11, 2006 at 07:30PM", "created_by": "Greg_Ward", "parent_id": "radiance-general_003656", "id": "radiance-general_003668"}