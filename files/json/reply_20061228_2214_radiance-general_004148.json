{"body": "Hi Arvinder,\n\n\nI haven't read through this post thoroughly or Rob's reply, but just  \nwanted to mention the optics2rad script that's included in Radiance  \n3.8.  That takes your Optics5 output and produces:\n\n\n# Output generated by /usr/local/ray/optics2rad from /tmp/t.mat\n# Product Name= Heat Mirror\u2122 HPR 18 Suspended Film\n# NFRC ID= 1507\n# Manufacturer Name= Southwall Technologies, Inc.\n# Glazing Type= Coated\n# Coated Side= Front\n# Transmittance= 0.189\n# Front Reflectance= 0.649\n# Back Reflectance= 0.116\n# Thickness(mm)= 0.076\n# Appearance= Reflective\n#\n\n\nvoid BRTDfunc HMHPR18\n10\n         rR_bronze rG_bronze rB_bronze\n         0.131*tR_bronze   0.197*tG_bronze   0.341*tB_bronze\n      0 0 0\n      window.cal\n0\n15 0 0 0 0 0 0 0 0 0\n         0.745       0.636      0.4\n         0.163         0.1    0.092\n\n\n\n\nObviously, you need the new window.cal file as well, which is  \ncorrected from the original glazing.cal.  I have attached it here  \njust in case you don't have vers. 3.8:\n\n\n{ RCSid $Id: window.cal,v 2.1 2006/05/19 03:50:13 greg Exp $ }\n{\n         The following calculation uses the BRTDfunc type to  \nreproduce the\n         calculation used by LBL's Optics 5 program for the  \ntransmittance\n         and reflectance of coated glazings.  This calculation is based\n         on fits for the angular dependence for clear and bronze-coated\n         glazing, and is not terribly accurate.  The variables ??_clear\n         below should be replaced by ??_bronze in the case of the bronze\n         glazing model.  Used with optics2rad script.\n\n\n         5/18/2006       Greg Ward\n\n\n         Arguments used for this material should look like:\n\n\n         mod BRTDfunc my_glazing\n         10      rR_clear        rG_clear        rB_clear\n                 RTAU*tR_clear   GTAU*tG_clear   BTAU*tB_clear\n                 0       0       0\n                 window.cal\n         0\n         15      0       0       0\n                 0       0       0\n                 0       0       0\n                 FRRHO   FGRHO   FBRHO\n                 BRRHO   BGRHO   BBRHO\n\n\n         where:\n                 FRRHO   FGRHO   FBRHO   is front normal spectral  \nreflectance\n                 BRRHO   BGRHO   BBRHO   is back normal spectral  \nreflectance\n                 RTAU    GTAU    BTAU    is normal spectral  \ntransmittance\n}\n                                 { get normal reflectance }\nrbase = if(Rdot,10,13);                 { different front and back }\nRred = arg(rbase)*CrP;\nRgrn = arg(rbase+1)*CgP;\nRblu = arg(rbase+2)*CbP;\n                                 { transmittance coefficients }\nTclear = clip(-.0015 + RdotP*(3.355 + RdotP*(-3.840 +\n                         RdotP*(1.460 + RdotP*.0288))));\n\n\nTbronze = clip(-.002 + RdotP*(2.813 + RdotP*(-2.341 +\n                         RdotP*(-.05725 + RdotP*.599))));\n\n\n                                 { reflectance coefficients }\nRclear = clip(.999 + RdotP*(-.563 + RdotP*(2.043 +\n                         RdotP*(-2.532 + RdotP*1.054))) - Tclear);\n\n\nRbronze = clip(.997 + RdotP*(-1.868 + RdotP*(6.513 +\n                         RdotP*(-7.862 + RdotP*3.225))) - Tbronze);\n\n\n                                 { returned spectral transmittance }\ntR_clear = CrP*Tclear;\ntG_clear = CgP*Tclear;\ntB_clear = CbP*Tclear;\n\n\ntR_bronze = CrP*Tbronze;\ntG_bronze = CgP*Tbronze;\ntB_bronze = CbP*Tbronze;\n                                 { returned spectral reflectance }\nrR_clear = Rred*(1 - Rclear) + Rclear;\nrG_clear = Rgrn*(1 - Rclear) + Rclear;\nrB_clear = Rblu*(1 - Rclear) + Rclear;\n\n\nrR_bronze = Rred*(1 - Rbronze) + Rbronze;\nrG_bronze = Rgrn*(1 - Rbronze) + Rbronze;\nrB_bronze = Rblu*(1 - Rbronze) + Rbronze;\n\n\n\n\nHope this helps.\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2006-December/004148.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "December 28, 2006 at 10:14PM", "created_by": "Greg_Ward", "parent_id": "radiance-general_004139", "id": "radiance-general_004148"}