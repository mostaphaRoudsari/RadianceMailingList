{"body": "Hi Glen,\n\n\nYou need to pass the paramters given by BRTDfunc to its function  \ncalls explicitly.  The x, y, and z values are not defined globally.   \nSee the attached .cal file as a simple example of how this is done.\n\n\nIf your refllection color changes as a function of angle, you need to  \nstick with the BRTDfunc type, as metfunc only offers a single color  \nfor highlights.  Keep in mind also that Radiance cannot calculate  \ndirectional-diffuse components for anything other than highlights  \n(i.e., light source reflections).  This is a limitation in Radiance's  \nability to sample BSDFs in general, and has been covered previously  \nin numerous posts.\n\n\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2007-December/004635.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "December 06, 2007 at 09:54AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_004632", "id": "radiance-general_004635"}