{"body": "Wow Greg, that's amazing !\n\n\nThat solution is simple and powerfull at the same time. And Indeed it helped me much in learning how to behave with Radiance's programs. \n\n\nTHANK YOU \n\n\nBut let me annoy you a little further. Going on thinking about this problem, I realized that what I really need is something different. I don't actually need ray to be traced from close to the point, 'couse this point aren't actually seen from the observer.. Neither I need ,as it was before, to have wrong informations. Then probably the best option would be to mark the 'wrong' points to understand them are not seen from the observer. A good way could probably be to paint them with an unreal color (or luminance level if postprocessed by falsecolor).\n\n\nThe method could be to check if ray intersection points with surfaces are different from the ones requested, and, in that case, to paint that area with given values. This could probably be achieved also building up some kind of mask image to combine later with pcomb ... ?\n\n\nWell, I'm sure it is possible, and it is probably simpler than I figure it out, but I have no idea on how to achieve it. \n\n\nWell, I'n neither in a hurge now of building such system, so don't worry if you cannot answer.\n\n\nLucio\n\n\n\n\n\n\n.Hi Lucio,\n.\n.I'm glad that the basic idea works.  The command I sent you does  \n.literally what you asked, which is to show the luminance in the  \n.direction of the desired point.  As you noticed, the ray does not  \n.necessarily get there.  To ensure that it does, you could simply  \n.start the ray closer to the target point by replacing the rcalc  \n.command with:\n.\n.\trcalc -if3 -of -e '$1=$1-nrm*Dx;$2=$2-nrm*Dy;$3=$3-nrm*Dz;$4=Dx; \n.$5=Dy;$6=Dz' \\\n.\t\t\t-e 'Dx=$1-OX;Dy=$2-OY;Dz=$3-OZ;nrm=0.001/sqrt(Dx*Dx+Dy*Dy+Dz*Dz)'\n.\n.What this does is start each ray a short distance (0.001 in world  \n.units) from the target point, ensuring that no intervening geometry  \n.obstructs the view.\n.\n.I hope this helps.\n.-Greg\n.\n.>\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2008-February/004768.html).</sup>", "attachments": [], "created_by_name": "Stefano Ponzetti", "created_at": "February 09, 2008 at 02:39AM", "created_by": "Stefano_Ponzetti", "parent_id": "radiance-general_004740", "id": "radiance-general_004768"}