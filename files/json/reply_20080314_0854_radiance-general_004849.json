{"body": "Claus,\n\n\n> I need it for importing the per-pixel normals into a program I am\n> writing myself, which will estimate the scene illumination conditions\n> from an image of a scene. I have a 3D model of the scene, I know the\n> camera position and orientation relative to the scene, and from the\n> camera I get the \"measured reflected radiances\". Given the per-pixel\n> normal information I have developed a method for estimating the\n> illumination conditions in the scene ... makes sense?\n\n\n\n\nWell, perhaps if you're going to do something 'fancy' (but no if you  \njust want the illuminance).  As suggested, a command like this:\n\n\nvwrays -ff scene.pic | rtrace -h -w -fff -on scene.oct > norm.dat\n\n\nwill write out a binary file of the normal at intersection for each  \npixel.\n\n\nI'll own up to being intrigued.  The derivation of the \"illumination  \nconditions\" at the pixel will be confounded by any deviation that the  \nscene materials have from pure diffuse reflector.  In any case,  \nyou'll need to know what those diffuse reflectances are on a per  \npixel basis.  Can you expand a little on your method?\n\n\n-John\n\n\n\n\nDr. John Mardaljevic\nSenior Research Fellow\nInstitute of Energy and Sustainable Development\nDe Montfort University\nThe Gateway\nLeicester\nLE1 9BH, UK\n+44 (0) 116 257 7972\n+44 (0) 116 257 7981 (fax)\n\n\njm at dmu.ac.uk\nhttp://www.iesd.dmu.ac.uk/~jm\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2008-March/004849.html).</sup>", "attachments": [], "created_by_name": "John Mardaljevic", "created_at": "March 14, 2008 at 08:54AM", "created_by": "John_Mardaljevic", "parent_id": "radiance-general_004844", "id": "radiance-general_004849"}