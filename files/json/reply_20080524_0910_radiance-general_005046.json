{"body": "Hi Steve,\n\n\nFor a sky view, folks usually apply the fisheye.cal mapping using a  \nfisheye capture as input.  Mapping appropriate sky distribution  \nvalues is a challenge, although not one you have to worry about if  \nyou've managed to actually capture a good HDR sky.  (This is a tricky  \nproposition -- see <http://gl.ict.usc.edu/skyprobes/> for examples.)\n\n\nI remember discussing with the Visarc folks ways to use the output of  \ngensky or gendaylit to \"correct\" a sky image that was inserted for  \npurely artistic reasons.  Simply using the color from an image and  \nthe luminance from gensky doesn't work that well, since it would make  \neliminate important luminance changes at cloud boundaries and the  \nlike, I would think.  However, you should be able to combine the  \nhighest luminance frequencies from your sky photo along with the  \ncolor to get a reasonable impression.\n\n\nI took the following image:\n\n\n\thttp://www.camerantics.org.uk/wallpapers/clouds.jpg\n\n\nand ran the following:\n\n\n\tdjpeg clouds.jpg | ra_ppm -r > clouds.pic\n\tpgblur -r 40 clouds.pic | pcomb -e 'hfs=1/li(1);ro=hfs*ri \n(2);go=hfs*gi(2);bo=hfs*bi(2)' - clouds.pic > hfclouds.pic\n\n\nThis should give you a picture that contains all the color and the  \nhigh frequency luminance changes of the original, normalized to an  \naverage of 1.0.  Multiplying this against a sky distribution will  \ngive you the appearance of clouds while maintaining the overall  \nluminance distribution.  Of course, there are caveats, as the high  \nfrequencies (and even the color) may affect your rendering due to  \ntheir local influence on the output of gensky or gendaylit.\n\n\n(Note: the djpeg program is not included with Radiance -- you may  \nneed to use Photosphere or Photoshop to convert a JPEG image to HDR  \nformat.)\n\n\nI hope this helps.\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2008-May/005046.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "May 24, 2008 at 09:10AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_004983", "id": "radiance-general_005046"}