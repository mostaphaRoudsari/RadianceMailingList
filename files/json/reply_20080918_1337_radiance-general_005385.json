{"body": "Hello Dave,\n\n\nI'm not sure this will help you, but in our \"posterize\" script which may\nbe downloaded from here:\nhttp://www.bakharev.org/index.php?option=com_content&task=view&id=33&lang=english\n\n\nwe used this CAL-code:\n\n\n    min : $min ;\n    max : $max ;\n    step : $step ;\n    scale : $max-$min ;\n\n\n    clip(x) : if(x-1,1,if(x,x,0));\n\n\n    render(x) = floor((x-min)/step)*step/scale;\n    {render(x) = (x-min)/scale;}\n\n\n\n\n    interp_arr10(x, arr) = ( (x-floor(x)) *\narr(ceil(x)+1)-arr(floor(x)+1)) / 1 ) + arr(floor(x)+1);\n    interp_arr(x, arr) = interp_arr10(x*10, arr);\n\n\n    def_red(x) = interp_arr(x, def_red_arr);\n    def_grn(x) = interp_arr(x, def_grn_arr);\n    def_blu(x) = interp_arr(x, def_blu_arr);\n\n\n    def_red_arr(i) : select(i,\n.03,.17,.31,.45,.57,.67,.76,.84,.90,.97,.99 );\n    def_grn_arr(i) : select(i,\n.10,.21,.32,.43,.53,.60,.69,.78,.87,.96,.99 );\n    def_blu_arr(i) : select(i,\n.27,.34,.41,.47,.53,.58,.64,.74,.85,.95,.96 );\n\n\n    in = 1;\n\n\n    ro = if(in, def_red(clip(render(v))), rorig);\n    go = if(in, def_grn(clip(render(v))), gorig);\n    bo = if(in, def_blu(clip(render(v))), borig);\n\n\n\n\nWhere you can implement your own palette by changing these lines:\n...select(i, .03,.17,.31,.45,.57,.67,.76,.84,.90,.97,.99 );\n...select(i, .10,.21,.32,.43,.53,.60,.69,.78,.87,.96,.99 );\n...select(i, .27,.34,.41,.47,.53,.58,.64,.74,.85,.95,.96 );\n\n\nBest Regards,\nIlya A. Zimnovich\n\n\n\n\nDavid Smith wrote:\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2008-September/005385.html).</sup>", "attachments": [], "created_by_name": "Ilya A. Zimnovich", "created_at": "September 18, 2008 at 01:37PM", "created_by": "Ilya_A._Zimnovich", "parent_id": "radiance-general_005375", "id": "radiance-general_005385"}