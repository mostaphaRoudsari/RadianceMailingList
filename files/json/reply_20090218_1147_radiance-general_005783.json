{"body": "Hi Mehlika,\n\n\nI think the output of this command was originally intended for the  \n\"total\" command to add up illuminance in lux.  Thus, the pixel values  \nget added up and divided by the total number of above-hemisphere  \npixels, which you don't want to do in this case.  I guess what you're  \ntrying to do instead is reweight your pixels according to the cosine,  \nbut it doesn't really make sense to me.  If you actually want to  \nchange the projection rather than creating a reweighted image, you  \nshould use pinterp, instead:\n\n\n\tpinterp -vf input.hdr -vth -x 1024 -y 1024 -ff input.hdr 1 > hemi.hdr\n\n\n(Just saw Lars' response, which is along similar lines to this...)\n\n\nIf you still want to go ahead with the command, you can modify it  \nthusly to get more what you say you're expecting:\n\n\npcomb -e 'sq(x):x*x' \\\n\t -e 'ar=190/2*PI/180*sqrt(sq(2/xmax*x-1)+sq(2/ymax*y-1))' \\\n\t-e 'cf=WE/le(1)*if(ar-PI/2,0,if(ar-.01,cos(ar) *sin(ar)/ar,1))' \\\n\t-e 'lo=cf*li(1)'  input.hdr > corrected.hdr\n\n\nBest,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2009-February/005783.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "February 18, 2009 at 11:47AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_005780", "id": "radiance-general_005783"}