{"body": "Hi David.\n\n\nI have played with gendaylit recently and also thought about the\nproblems it has.\n\n\nOn Wed, Mar 3, 2010 at 12:05 AM, David Smith <dbs176 at gmail.com> wrote:\n> Dear Radiance gurus,\n>\n> I guess I have two actual questions out of all of this:\n> A. If I wanted to get a Radiance scene description that would [best]\n> match the climate, what are the best data to use as inputs?\n\n\nGiven the information available in data files and the input our\ngenerators expect using radiation data seems to be a good choice. It\nmight be more accurate to use illuminance data instead and divide this\nby Radiance's built in sky efficacy of 179. If you use irradiance and\nsolar radiance you imply that the sky has this same efficacy, which is\nnot true. However, illuminance data is not always available (EPW files\ndo have this information, other climate files do not).\n\n\nBTW: I noticed in your plot that you labeled the gensky parameters as\n\"-B\" and \"-r\". I think you have to use \"-r\" because the information in\nthe EPW file is direct _normal_ radiance not direct _horizontal_\nirradiance. This might well be the cause of your odd spikes because\nwith \"-R\" you ask for a cosine correction which will be quite extreme\nfor low angles.\n\n\nI hope someone can confirm this because I don't know too much about\nthe EPW file. I just found the units for the various radiation data.\nDirect normal is given in Wh/m2. Does that mean we have to convert to\nWh/sr/m2 if we want to use it with \"-r\" or apply a cosine correction\nif we want to use \"-R\"?\n\n\n> B. Is gendaylit a prudent way forward instead of gensky CIE skies for\n> this climate? What about other climates?\n\n\nGensky implements a number of sky models (uniform, overcast,\nintermediate and clear). When you use gensky you will have to decide\nwhich of the models you want to use. There is not much guidance on how\nto do this. You could go by cloud cover and visibility if you have\nthat information.\n\n\nGendaylit does not need this information. It will calculate the\nbrightness distribution based on the radiation input which makes it\nmuch easier to use in a script.\n\n\nThere are certainly sky conditions where neither of the models creates\nan accurate description. Depending on the climate this might be true\nfor a large number of the records in the climate data file. However,\nwithout an alternative you have to make a choice which of these models\nyou want to use and hope that over the whole year these errors have no\nsignificant impact on the distribution.\n\n\n\n\n> So, keeping those in mind, let's see if I can address some other\n> people's questions:\n> 1. I double checked everything and am quite certain I was picking the\n> right columns (see test code below email).\n\n\nYep. Script seems fine.\n\n\n> 3. I had never used gendaylit before, but gave that a chance. I'm\n> unsure how to catch errors on the output though, so I ended up\n> ignoring the errors (script assumes illuminance is 0 and outputs that\n> instead).\n\n\nAxel has used gendaylit with loads of climate data records recently\nand came up with two basic error scenarios:\n\n\na) The direct component is 0. Some records refer to a time where the\nsun is actually not visible and more. Gendaylit can't handle that and\nso it will create no output at all. You can help yourself here by\nadjusting the time as Andrew proposed until the sun is above the\nhorizon again.\n\n\nb) Gendaylit simply segfaults. This seems to be rare. Perhaps cheating\nwith the values a bit might help (change by a few % or so) or simply\nreplace that sky with a gensky generated one which seems to be more\ngenerous in what it accepts.\n\n\nStill, it's worth validating the generated sky as you did in your\ngraphs to see how big the error actually is. That will give you an\nidea of how accurate your simulation results are going to be.\n\n\nRegards,\nThomas\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2010-March/006584.html).</sup>", "attachments": [], "created_by_name": "Thomas Bleicher", "created_at": "March 03, 2010 at 02:14AM", "created_by": "Thomas_Bleicher", "parent_id": "radiance-general_006566", "id": "radiance-general_006584"}