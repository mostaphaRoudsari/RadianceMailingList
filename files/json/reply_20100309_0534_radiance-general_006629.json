{"body": "On Mon, Mar 8, 2010 at 7:51 PM, Martin Klingler\n<martin at lichttechnik.co.at> wrote:\n\n\n> That would mean, if I am only interested in daylight (in combination with\n> rtcontrib), I can forget aa and dj and reduce as.\n\n\nI would think that '-as' can be reduced but that depends on your geometry.\n\n\nAs far as I understand it options affecting the ambient interpolation\n('-aa' and '-ar') will have no effect because rtcontrib needs to\ndisable the interpolation ('-aa 0'). Any source related option will\nhave no effect because the base sky used to calculate the patches does\nnot have a source. After that any sky is sampled at predefined angles\nwhich makes most rtrace options obsolete.\n\n\n>> I would start by comparing the patch contributions between rtcontrib runs.\n>> If they are reasonably constant your error is introduced somewhere else.\n>\n> That is a good point. I am quite sure, that the differences are coming from\n> the patch contributions. The calculation time for the rtcontrib run is extremely\n> short, at least I think so.\n\n\nYes, that surprised me, too. I haven't done any testing on serious\nscene where multiple reflections should lead to a contribution of\nalmost every sky patch. In my test scene at first every patch 'behind'\nthe window wall was ignored because there was nothing to bounce light\nback into the room. The I introduced another building in front of my\nroom to reflect a more realistic scenario.\n\n\nI don't know what good values for rtcontrib would be. It simply uses\nrtrace in a fancy way so all parameters that apply to an rtrace\ncalculation in the same scene should be fine (see exceptions above).\n\n\n> What are the critical parameters concerning accuracy for a rtcontrib run, I\n> really wouldn't have any problems with longer computation time.\n\n\nPerhaps we just have to use ridiculously high '-ad' values to make\nsure the sky is sampled at a high density. This would result in less\nvariation due to the number of rays that hit a specific sky patch.\n\n\n>> IIRC the multiplier for each patch contribution is calculated via genskyvec\n>> at specified directions (saved in tregsamp.dat). That should result in\n>> constant values for the multipliers but you can still check.\n> OK, they are constatnt over simmilar calls to genskyvec.\n\n\nAh, good to know.\n\n\n>> The error you introduce by the use of insufficient sky models\n>> should largely exceed the error resulting from the rtcontrib/genskyvec\n>> process.\n>\n> Thank you for that comment. Yes that is true. But can I say that as\n> long as I compare different daylighting solutions with the same\n> (inaccurate) processes, I will get still valid results?\n\n\nWith Radiance there will always be some 'inaccuracy'. All we can do is\ntry to understand where the error is introduced and how we can\nestimate its magnitude (as you're doing right now). If your rtrace\nresults are within 5% of the rtrace results for the same scene then\nthat might be the built-in inaccuracy of rtcontrib.\n\n\nAdd that to the difference between sky model and real sky and you may\nend up with 20-30% inaccuracy for the whole climate data based\napproach. That's what we have to live with until we can  coax another\nstudent into writing a better sky generator or a more accurate\nrtcontrib ...\n\n\nHowever, even with this high error margin we can now at least start to\nwork on daylight models that take into account the weather, seasons,\nlocation and orientation of buildings. I won't start calculating ADF\nwith rtcontrib; rtrace is much better in doing that. But perhaps there\nis some information to be found in a RDF ('real daylight factor') that\ncan efficiently only be calculated with something like rtcontrib.\n\n\nRegards,\nThomas\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2010-March/006629.html).</sup>", "attachments": [], "created_by_name": "Thomas Bleicher", "created_at": "March 09, 2010 at 05:34AM", "created_by": "Thomas_Bleicher", "parent_id": "radiance-general_006614", "id": "radiance-general_006629"}