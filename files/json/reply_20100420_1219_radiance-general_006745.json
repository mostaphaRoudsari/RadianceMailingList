{"body": "On Tue, Apr 20, 2010 at 8:02 PM, R Fritz <randolph+LD at panix.com> wrote:\n> I've been working on a Python version of falsecolor, and I've found that I\n> really don't understand pcomb. Is the following summary correct?\n>>\n>> The \u00a0-e \u00a0option \u00a0reads a script from its argument and -f reads a script\n>> from a file. \u00a0-e and -f may be given multiple times and are \u00a0processed \u00a0in\n>> \u00a0the order they appear on the command line, The scripts are then used to\n>> combine the images.\n\n\nIn general that is correct. The devil, as always, is in the detail.\n\n\nSo far I found out:\n\n\n1) on Windows use double quotes (\") to quote a -e expression\n\n\n2) in Python don't quote at all but pass the expression as a single\nargument to subprocess.Popen(). Example:\n\n\n  from subprocess import Popen, PIPE\n  args = [\"pcomb\", \"-e\",\n\"ro=if(ri(1),ri(1),ri(2));go=if(gi(1),gi(1),gi(2));bo=if(bi(1),bi(1),bi(2));\",\n\"-\", \"img2.hdr\"]\n  p = Popen(args, stdin=PIPE, stdout=PIPE, stderr=PIPE)\n  comb_data, err = p.communicate(img1_data)\n\n\n3) if you use a file for the expression, add a newline at the end\n\n\n\n\nBTW: I will release a Python version of falsecolor2 any day now, plus\na wx GUI frontend.\n\n\nhttp://code.google.com/p/pyrat/source/browse/#svn/trunk/wxfalsecolor\n\n\n\n\nCheers,\nThomas\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2010-April/006745.html).</sup>", "attachments": [], "created_by_name": "Thomas Bleicher", "created_at": "April 20, 2010 at 12:19PM", "created_by": "Thomas_Bleicher", "parent_id": "radiance-general_006744", "id": "radiance-general_006745"}