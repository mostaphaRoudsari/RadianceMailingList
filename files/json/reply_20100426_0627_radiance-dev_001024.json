{"body": "I'm also interested in getting Radiance v4.0 to compile on Windows. Ran\ninto the same problems as Daniel Macumber.\n\n\nv3.9 builds fine but the install command fails:\n\n\nC:\\TEMP\\rad3R9all\\ray>C:\\Python26\\Scripts\\scons install\nscons: Reading SConscript files ...\n\n\nscons: warning: The env.SourceSignatures() method is deprecated;\n        convert your build to use the env.Decider() method instead.\nFile \"C:\\TEMP\\rad3R9all\\ray\\SConstruct\", line 7, in <module>\nDetected platform \"win32\" (nt).\nReading configuration \"platform\\mingw.cfg\"\n\n\nscons: warning: The Options class is deprecated; use the Variables class\ninstead\n.\nFile \"C:\\TEMP\\rad3R9all\\ray\\SConstruct\", line 10, in set_opts\nChecking for C library GL... (cached) no\nmeta\ncv\ngen\not\n\n\nscons: warning: Two different environments were specified for target\nbbox.o,\n        but they appear to have the same action: $CC -o $TARGET -c\n$CFLAGS $CCFLAGS $_CCCOMCOM $SOURCES\nFile \"C:\\TEMP\\rad3R9all\\ray\\src\\ot\\SConscript\", line 18, in <module>\n\n\nscons: warning: Two different environments were specified for target\no_face.o,\n        but they appear to have the same action: $CC -o $TARGET -c\n$CFLAGS $CCFLAGS $_CCCOMCOM $SOURCES\nFile \"C:\\TEMP\\rad3R9all\\ray\\src\\ot\\SConscript\", line 18, in <module>\nrt\npx\nhd\nutil\ncal\nscons: done reading SConscript files.\nscons: Building targets ...\nInstall file: \"bin\\3ds2mgf.exe\" as \"C:\\radiance3.9\\bin\\3ds2mgf.exe\"\nInstall file: \"bin\\arch2rad.exe\" as \"C:\\radiance3.9\\bin\\arch2rad.exe\"\nInstall file: \"bin\\bgraph.exe\" as \"C:\\radiance3.9\\bin\\bgraph.exe\"\nInstall file: \"bin\\cnt.exe\" as \"C:\\radiance3.9\\bin\\cnt.exe\"\nInstall file: \"bin\\cv.exe\" as \"C:\\radiance3.9\\bin\\cv.exe\"\nInstall file: \"bin\\dgraph.exe\" as \"C:\\radiance3.9\\bin\\dgraph.exe\"\nInstall file: \"bin\\ev.exe\" as \"C:\\radiance3.9\\bin\\ev.exe\"\nInstall file: \"bin\\findglare.exe\" as \"C:\\radiance3.9\\bin\\findglare.exe\"\nInstall file: \"bin\\gcomp.exe\" as \"C:\\radiance3.9\\bin\\gcomp.exe\"\nInstall file: \"bin\\genbeads.exe\" as \"C:\\radiance3.9\\bin\\genbeads.exe\"\nInstall file: \"bin\\genblinds.exe\" as \"C:\\radiance3.9\\bin\\genblinds.exe\"\nInstall file: \"bin\\genbox.exe\" as \"C:\\radiance3.9\\bin\\genbox.exe\"\nInstall file: \"bin\\genbranch.exe\" as \"C:\\radiance3.9\\bin\\genbranch.exe\"\nInstall file: \"bin\\gencatenary.exe\" as\n\"C:\\radiance3.9\\bin\\gencatenary.exe\"\nInstall file: \"bin\\genclock.exe\" as \"C:\\radiance3.9\\bin\\genclock.exe\"\nInstall file: \"bin\\genmarble.exe\" as \"C:\\radiance3.9\\bin\\genmarble.exe\"\nInstall file: \"bin\\genprism.exe\" as \"C:\\radiance3.9\\bin\\genprism.exe\"\nInstall file: \"bin\\genrev.exe\" as \"C:\\radiance3.9\\bin\\genrev.exe\"\nInstall file: \"bin\\gensky.exe\" as \"C:\\radiance3.9\\bin\\gensky.exe\"\nInstall file: \"bin\\gensurf.exe\" as \"C:\\radiance3.9\\bin\\gensurf.exe\"\nInstall file: \"bin\\genworm.exe\" as \"C:\\radiance3.9\\bin\\genworm.exe\"\nInstall file: \"bin\\getbbox.exe\" as \"C:\\radiance3.9\\bin\\getbbox.exe\"\nInstall file: \"bin\\getinfo.exe\" as \"C:\\radiance3.9\\bin\\getinfo.exe\"\nInstall file: \"bin\\glarendx.exe\" as \"C:\\radiance3.9\\bin\\glarendx.exe\"\nInstall file: \"bin\\histo.exe\" as \"C:\\radiance3.9\\bin\\histo.exe\"\nInstall file: \"bin\\icalc.exe\" as \"C:\\radiance3.9\\bin\\icalc.exe\"\nInstall file: \"bin\\ies2rad.exe\" as \"C:\\radiance3.9\\bin\\ies2rad.exe\"\nInstall file: \"bin\\igraph.exe\" as \"C:\\radiance3.9\\bin\\igraph.exe\"\nInstall file: \"bin\\lampcolor.exe\" as \"C:\\radiance3.9\\bin\\lampcolor.exe\"\nInstall file: \"bin\\lookamb.exe\" as \"C:\\radiance3.9\\bin\\lookamb.exe\"\nInstall file: \"bin\\macbethcal.exe\" as\n\"C:\\radiance3.9\\bin\\macbethcal.exe\"\nInstall file: \"bin\\meta2bmp.exe\" as \"C:\\radiance3.9\\bin\\meta2bmp.exe\"\nInstall file: \"bin\\meta2tga.exe\" as \"C:\\radiance3.9\\bin\\meta2tga.exe\"\nInstall file: \"bin\\mgf2inv.exe\" as \"C:\\radiance3.9\\bin\\mgf2inv.exe\"\nInstall file: \"bin\\mgf2rad.exe\" as \"C:\\radiance3.9\\bin\\mgf2rad.exe\"\nInstall file: \"bin\\mgfilt.exe\" as \"C:\\radiance3.9\\bin\\mgfilt.exe\"\nInstall file: \"bin\\mksource.exe\" as \"C:\\radiance3.9\\bin\\mksource.exe\"\nInstall file: \"bin\\neaten.exe\" as \"C:\\radiance3.9\\bin\\neaten.exe\"\nInstall file: \"bin\\nff2rad.exe\" as \"C:\\radiance3.9\\bin\\nff2rad.exe\"\nInstall file: \"bin\\obj2mesh.exe\" as \"C:\\radiance3.9\\bin\\obj2mesh.exe\"\nInstall file: \"bin\\obj2rad.exe\" as \"C:\\radiance3.9\\bin\\obj2rad.exe\"\nInstall file: \"bin\\oconv.exe\" as \"C:\\radiance3.9\\bin\\oconv.exe\"\nInstall file: \"bin\\pcomb.exe\" as \"C:\\radiance3.9\\bin\\pcomb.exe\"\nInstall file: \"bin\\pcompos.exe\" as \"C:\\radiance3.9\\bin\\pcompos.exe\"\nInstall file: \"bin\\pcond.exe\" as \"C:\\radiance3.9\\bin\\pcond.exe\"\nInstall file: \"bin\\pcwarp.exe\" as \"C:\\radiance3.9\\bin\\pcwarp.exe\"\nInstall file: \"bin\\pexpand.exe\" as \"C:\\radiance3.9\\bin\\pexpand.exe\"\nInstall file: \"bin\\pextrem.exe\" as \"C:\\radiance3.9\\bin\\pextrem.exe\"\nInstall file: \"bin\\pfilt.exe\" as \"C:\\radiance3.9\\bin\\pfilt.exe\"\nInstall file: \"bin\\pflip.exe\" as \"C:\\radiance3.9\\bin\\pflip.exe\"\nInstall file: \"bin\\pinterp.exe\" as \"C:\\radiance3.9\\bin\\pinterp.exe\"\nInstall file: \"bin\\plot4.exe\" as \"C:\\radiance3.9\\bin\\plot4.exe\"\nInstall file: \"bin\\plotin.exe\" as \"C:\\radiance3.9\\bin\\plotin.exe\"\nInstall file: \"bin\\protate.exe\" as \"C:\\radiance3.9\\bin\\protate.exe\"\nInstall file: \"bin\\psign.exe\" as \"C:\\radiance3.9\\bin\\psign.exe\"\nInstall file: \"bin\\psmeta.exe\" as \"C:\\radiance3.9\\bin\\psmeta.exe\"\nInstall file: \"bin\\psort.exe\" as \"C:\\radiance3.9\\bin\\psort.exe\"\nInstall file: \"bin\\pvalue.exe\" as \"C:\\radiance3.9\\bin\\pvalue.exe\"\nInstall file: \"bin\\rad.exe\" as \"C:\\radiance3.9\\bin\\rad.exe\"\nInstall file: \"bin\\rad2mgf.exe\" as \"C:\\radiance3.9\\bin\\rad2mgf.exe\"\nInstall file: \"bin\\ranimate.exe\" as \"C:\\radiance3.9\\bin\\ranimate.exe\"\nInstall file: \"bin\\ranimove.exe\" as \"C:\\radiance3.9\\bin\\ranimove.exe\"\nInstall file: \"bin\\ra_bmp.exe\" as \"C:\\radiance3.9\\bin\\ra_bmp.exe\"\nInstall file: \"bin\\ra_gif.exe\" as \"C:\\radiance3.9\\bin\\ra_gif.exe\"\nInstall file: \"bin\\ra_hexbit.exe\" as \"C:\\radiance3.9\\bin\\ra_hexbit.exe\"\nInstall file: \"bin\\ra_pict.exe\" as \"C:\\radiance3.9\\bin\\ra_pict.exe\"\nInstall file: \"bin\\ra_ppm.exe\" as \"C:\\radiance3.9\\bin\\ra_ppm.exe\"\nInstall file: \"bin\\ra_ps.exe\" as \"C:\\radiance3.9\\bin\\ra_ps.exe\"\nInstall file: \"bin\\ra_rgbe.exe\" as \"C:\\radiance3.9\\bin\\ra_rgbe.exe\"\nInstall file: \"bin\\ra_t16.exe\" as \"C:\\radiance3.9\\bin\\ra_t16.exe\"\nInstall file: \"bin\\ra_t8.exe\" as \"C:\\radiance3.9\\bin\\ra_t8.exe\"\nInstall file: \"bin\\ra_xyze.exe\" as \"C:\\radiance3.9\\bin\\ra_xyze.exe\"\nInstall file: \"bin\\rcalc.exe\" as \"C:\\radiance3.9\\bin\\rcalc.exe\"\nInstall file: \"bin\\replmarks.exe\" as \"C:\\radiance3.9\\bin\\replmarks.exe\"\nInstall file: \"bin\\rlam.exe\" as \"C:\\radiance3.9\\bin\\rlam.exe\"\nInstall file: \"bin\\rpict.exe\" as \"C:\\radiance3.9\\bin\\rpict.exe\"\nInstall file: \"bin\\rpiece.exe\" as \"C:\\radiance3.9\\bin\\rpiece.exe\"\nInstall file: \"bin\\rsensor.exe\" as \"C:\\radiance3.9\\bin\\rsensor.exe\"\nInstall file: \"bin\\rtcontrib.exe\" as \"C:\\radiance3.9\\bin\\rtcontrib.exe\"\nInstall file: \"bin\\rtrace.exe\" as \"C:\\radiance3.9\\bin\\rtrace.exe\"\nInstall file: \"bin\\tabfunc.exe\" as \"C:\\radiance3.9\\bin\\tabfunc.exe\"\nInstall file: \"bin\\tmesh2rad.exe\" as \"C:\\radiance3.9\\bin\\tmesh2rad.exe\"\nInstall file: \"bin\\total.exe\" as \"C:\\radiance3.9\\bin\\total.exe\"\nInstall file: \"bin\\ttyimage.exe\" as \"C:\\radiance3.9\\bin\\ttyimage.exe\"\nInstall file: \"bin\\vwrays.exe\" as \"C:\\radiance3.9\\bin\\vwrays.exe\"\nInstall file: \"bin\\vwright.exe\" as \"C:\\radiance3.9\\bin\\vwright.exe\"\nInstall file: \"bin\\xform.exe\" as \"C:\\radiance3.9\\bin\\xform.exe\"\nInstall file: \"lib\\adobe.cal\" as \"C:\\radiance3.9\\share\\lib\\adobe.cal\"\nInstall file: \"lib\\alberta.pic\" as\n\"C:\\radiance3.9\\share\\lib\\alberta.pic\"\nInstall file: \"lib\\ball.cal\" as \"C:\\radiance3.9\\share\\lib\\ball.cal\"\nInstall file: \"lib\\bowl.pic\" as \"C:\\radiance3.9\\share\\lib\\bowl.pic\"\nInstall file: \"lib\\bowl.rad\" as \"C:\\radiance3.9\\share\\lib\\bowl.rad\"\nInstall file: \"lib\\bowl.rtm\" as \"C:\\radiance3.9\\share\\lib\\bowl.rtm\"\nInstall file: \"lib\\brick.cal\" as \"C:\\radiance3.9\\share\\lib\\brick.cal\"\nInstall file: \"lib\\brick.pic\" as \"C:\\radiance3.9\\share\\lib\\brick.pic\"\nInstall file: \"lib\\brickweave.cal\" as\n\"C:\\radiance3.9\\share\\lib\\brickweave.cal\"\nInstall file: \"lib\\brickweave.pic\" as\n\"C:\\radiance3.9\\share\\lib\\brickweave.pic\"\nInstall file: \"lib\\cabin.pic\" as \"C:\\radiance3.9\\share\\lib\\cabin.pic\"\nInstall file: \"lib\\carpet.cal\" as \"C:\\radiance3.9\\share\\lib\\carpet.cal\"\nInstall file: \"lib\\climit.cal\" as \"C:\\radiance3.9\\share\\lib\\climit.cal\"\nInstall file: \"src\\gen\\clockface.hex\" as\n\"C:\\radiance3.9\\share\\lib\\clockface.hex\"\nscons: *** [C:\\radiance3.9\\share\\lib\\clockface.hex] AssertionError :\nInstalling source ['src\\\\gen\\\\clockface.hex', 'lib\\\\clockface.hex'] into\ntarget ['C:\\\\radiance3.9\\\\share\\\\lib\\\\clockface.hex']: target and source\nlists must have same length.\nTraceback (most recent call last):\n  File \"C:\\Python26\\Lib\\site-packages\\scons-1.2.0\\SCons\\Action.py\", line\n961, in execute\n    result = self.execfunction(target=target, source=rsources, env=env)\n  File\n\"C:\\Python26\\Lib\\site-packages\\scons-1.2.0\\SCons\\Tool\\install.py\", line\n79, in installFunc\n    \"Installing source %s into target %s: target and source lists must\nhave same length.\"%(map(str, source), map(str, target))\nAssertionError: Installing source ['src\\\\gen\\\\clockface.hex',\n'lib\\\\clockface.hex'] into target\n['C:\\\\radiance3.9\\\\share\\\\lib\\\\clockface.hex']: target and source lists\nmust have same length.\nscons: building terminated because of errors.\n\n\nHaving never even heard of Scons until I started trying to build\nRadiance I've no idea where to start at trying to fix this. I'm assuming\nthe problem is because there are 2 arguments in the source & only one in\nthe target but the Sconscript files are far from readable never mind\nfinding the actual one where the problem lies.\n\n\nIf it helps I'm building on Windows XP 64-bit using Scons 1.2.0, Python\n2.6.4 & MinGW 5.1.6. Any help will be most appreciated.\n\n\nPalbinder Sandher \nSoftware Deployment & IT Administrator\nT: +44 (0) 141 945 8500 \nF: +44 (0) 141 945 8501 \n\n\nhttp://www.iesve.com \n**Design, Simulate + Innovate with the <Virtual Environment>**\nIntegrated Environmental Solutions Limited. Registered in Scotland No.\nSC151456 \nRegistered Office - Helix Building, West Of Scotland Science Park,\nGlasgow G20 0SP\nEmail Disclaimer\n\n\n\n\n-----Original Message-----\nThomas Bleicher tbleicher at googlemail.com \nTue Apr 13 09:45:58 PDT 2010 \n\n\n\n\n\n\nHi Daniel.\n\n\nI believe the update of the scons scripts for 3.9 is largely due to\nFrancesco's efforts with mingw. I tried to compile 4.0 a few weeks ago\nand search the list for mails about compiling on Windows. Most of\nFrancesco's comments where already in place.\n\n\nI didn't get too far with my own efforts although I was surprised that\nmost of the core apps did compile fine. I had to change a few bits\nhere and there and modify the includes. I also came across the time_gm\n(?) issue and replace it with a function that is part of time.h on\nWindows. I think it's only used to produce a time stamp and at that\nmoment I just wanted to see if I could get the stuff to work at all.\n\n\nIn the end I gave up when it came to rtcontrib and all the definitions\nfrom ray.h where suddenly not available any more. I couldn't find what\nwas wrong with my limited knowledge of C and because it was just\ncuriosity that made me do it in the first place I gave up.\n\n\nI hope someone who is actually using Windows will pick it up soon.\n\n\nRegards,\nThomas\n\n\nOn Tue, Apr 13, 2010 at 5:15 PM, Macumber, Daniel\n<Daniel.Macumber at nrel.gov> wrote:\n> Hello, I was pleasantly surprised to find that I could compile\nRadiance 3.9\n> with only minor modifications using the SCons scripts and both MSVC\nand\n> MinGW on Windows.  However, the latest release of Radiance 4.0 is\ngiving me\n> a lot more trouble.  There is a typo in 'build_utils/find_libs.py'\nwhere 'v\n> = env.FindFile('Verdana.fnt', './lib')' should be 'v =\n> env.FindFile('Veerdana.fnt', './lib')'; this leads me to believe that\nthe\n> SCons scripts weren't even tested for this release, is that right?\nGetting\n> past the minor issues there seem to be some deeper problems for\nWindows (use\n> of timegm function is where I stopped this function is not in the\nstandard\n> <time.h>).  So my question is, is anyone planning on trying to get\nRadiance\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2010-April/001024.html).</sup>", "attachments": [], "created_by_name": "Pally Sandher", "created_at": "April 26, 2010 at 06:27AM", "created_by": "Pally_Sandher", "parent_id": "radiance-dev_001019", "id": "radiance-dev_001024"}