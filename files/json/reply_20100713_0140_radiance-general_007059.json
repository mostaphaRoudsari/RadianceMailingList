{"body": "Ji.\n\n\nYou can always expect some variations in Radiance calculations. The\ntrick is to modify your ambient parameters (in general options\nstarting with \"-a\") until you're satisfied that the error has no\nrelevant impact on the results. The \"right\" ambient parameters depend\non your scene complexity and and the rendering time you can afford to\nspend.\n\n\nA few further comments on your parameters are below:\n\n\nOn Tue, Jul 13, 2010 at 5:41 AM, Ji Zhang <hope.zh at gmail.com> wrote:\n> The rtrace command I'm using is:\n>\n> cat SENSORS.pts | rtrace -I -aa .2 -ab 8 -ad 1024 -as 512 -h -w -oov\n> scene.oct | rcalc -e '$1=$1;$2=$2;$3=$3;$4=179*(.265*$4+.670*$5+.065*$6)' >\n> RESUTLS_lx.dat\n\n\n-aa - (ambient accuracy) seems a bit high (although I don't know\nanything about your scene). A value of 0.2 allows for 20% error in the\nambient calculation. If the sky in your scene is hardly visible this\nwill lead to significant errors. In general I prefer values of 0.05\nand less. Reducing this value will increase your rendering time. If\nyou set it to 0 you will turn ambient interpolation (and the\nassociated errors) off but it will take much longer to calculate.\n\n\n-ab - (ambient bounces) is generous. If you have a simple scene where\nthe sky is visible from most locations you can safely reduce this to 6\nor even 5 which will reduce your rendering time to a quarter of the\nprevious run. Note that your average results will increase a bit with\neach additional bounce. You should do a series of calculations with\nincreasing -ab values to estimate the effect of one bounce more or\nless.\n\n\n-ad - (ambient divisions) could be a bit higher. I use 4096 these\ndays. It doesn't have a big impact on rendering time.\nIn a simple room with one or two large windows and no external shading\n1024 will do. If you have lots of small windows or external shading\ndevises use a larger number.\n\n\n-oov - You will find that the origin (second \"o\") is reported\ndifferently from your input file. This is an effect of the -I setting\nof rtrace. Don't worry about it. If you want to convert it you have to\nreduce the z-value by 1.\n\n\n\n\n> However, I found that the output values in the RESULTS_lx.dat file varies\n> each time I execute this rtrace command in the Terminal in Ubuntu 10.04.\n\n\nAs stated above, some variation is normal. For you can add \"-u-\" to\nyour rtrace command line which changes the random sampling algorithm\nused to a \"low-discrepancy sequence\". That and setting \"-aa\" to 0\nshould give you the most reproducible results. However, that alone\ndoes not guarantee that the results are correct.\n\n\nHomework:\n\n\nReduce your set of sampling points to a line from the front (window)\nof the room to the back. Then start with your command line above and\nmodify the parameters as discussed. Do more than one calculation with\nthe same set of parameters and plot and compare the results. Also keep\na record of the rendering times.\n\n\nA good set of options generates a smooth DF curve from the front of\nthe window to the back of the room that does not change a lot between\nseparate calculation runs. If the curve is not smooth your error is\ntoo high and you have to increase/decrease some values.\n\n\n\n\nRegards,\nThomas\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2010-July/007059.html).</sup>", "attachments": [], "created_by_name": "Thomas Bleicher", "created_at": "July 13, 2010 at 01:40AM", "created_by": "Thomas_Bleicher", "parent_id": "radiance-general_007057", "id": "radiance-general_007059"}