{"body": "Hi Randolph,\n\n\nGreg added a feature to obj2rad to enable it to continue in the case of \nbad normals such as: vn 0 0 0. Previously obj2rad would exit with an error.\n\n\nBacking up a bit, I think what I am interested in seeing is conversion \ntools that further support .obj as an intermediate file format for \nRadiance. There are lots of good applications (Rhino, SketchUp Pro, \nBlender, etc) that support export of .obj format files. And for those \napplications that do not (eg, Autocad and Revit), one route is that it \nis possible to get .fbx out of these applications which can then be \nconverted to .obj. However the data output from these applications is \nnot always perfect, which results in obj2rad exiting with errors \nrelating to: bad normals, bad faces and bad triangles. So the issue is \nwhat to do in these cases:\n\n\n   1. bad normals (vn 0 0 0) - are now passed through using the updated\n      version of obj2rad from the head release.\n   2. bad faces and bad triangles - In some case this is something that\n      can be fixed in an application like Rhino or Blender (these are\n      the ones that I know) using the repair mesh functionality.\n      However, I have also noted that the following can sometimes be\n      included by the exporting application: #QNAN0 or #IND. This is\n      easy to check for using grep. Typically I have seen this:\n      -1.#QNAN0 or -1.#IND. Since these errors occur upstream from\n      obj2rad, Greg is rightly loathe to have ob2rad try to fix them. If\n      you cannot fixes these in the upstream application, then the easy\n      fix in these cases is to use sed or perl to zero out these\n      conditions. This can be done as follows (pick your tool):\n         1. perl -p -e 's/\\#QNAN0/0/g;s/\\#IND/0/g' fname.obj | obj2rad >\n            fname.rad\n         2. sed 's/\\#QNAN0/0/g;s/\\#IND/0/g' fname.obj | obj2rad > fname.rad\n\n\nIf anyone has other suggestions for managing and processing .obj files \nfor use in Radiance please chime in! I know that Mark Stock has had good \nexperience with MeshLab, for example.\n\n\nBest,\n\n\n-Jack\n\n\n\n\n# Jack de Valpine\n# president\n#\n# visarc incorporated\n# http://www.visarc.com\n#\n# channeling technology for superior design and construction\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2010-September/007328.html).</sup>", "attachments": [], "created_by_name": "Jack de Valpine", "created_at": "September 28, 2010 at 07:34AM", "created_by": "Jack_de_Valpine", "parent_id": "radiance-general_007291", "id": "radiance-general_007328"}