{"body": "Hello again.\n\n\nOn Mon, Feb 7, 2011 at 7:50 AM, caria.roberto at tiscali.it\n<caria.roberto at tiscali.it> wrote:\n> R: I know I can get the external illuminace from epw file but no all\n> locations have these data values (if you open ITA_Cagliari Elmas\n> you can see it is that)\n\n\nWell, you mentioned London in your first email. The EPW\nfile for London contains illuminance data.\n\n\n> I think if I consider the Illuminance values taken from epw file\n> I can use gensky and insert them as -B and -R parameters\n> (dividing them to 179, before) and add +s when I have both\n> values and -c when I have only the diffuse Illuminance.\n> (Can you confirm it?)\n\n\nFor Sicily +s might actually be appropriate :). If you have some\ncloudiness you can also use +i and -i. Sometimes you also get\na \"sky cover\" index in the EPW file which you could use to pick\nthe right sky model.\n\n\n>> Now the interesting bit:\n>>\n>> If you look at your results or the global horizontal values\n>> you will see that the Daysim values are roughly 25%-30%\n>> higher than those calculated in Radiance. However, they\n>> are consistently higher (which is good).\n>\n> Why is good to get higher values?\n\n\nHigher (or lower) values as such make no difference. But if\nthe difference is the same for various sky situations you can\nassume that it does not depend on your input and is due to\nthe different algorithms the two applications use. Is says\nnothing about the correctness of each program, though. You\nhave to work that out by comparing the calculated results\nwith real measurements.\n\n\n\n\n> I did it and there is a small difference between epw and\n> daysim data illuminance (about 2-3%), so I suppose I can\n> use illuminance values provided by Daysim.\n>\n> So, using the same input (Irradiance values comes from\n> epw file) the sky created by Daysim works better than a\n> sky generated by gendaylit?\n\n\nTo my knowledge Daysim also uses gendaylit (Perez model).\nThey may adjust their values to match the recorded input in a\nsecond step which you would have to do manually if you were\nto do the same calculations in Radiance.\n\n\n> Iin which conditions can I use gendaylit?\n\n\nWhen you use Radiance and gendaylit you will find that in\nearly morning and evening hours the results from gendaylit\nare way off. This is either a shortcoming in the algorithm or\njust a problem of the implementation. If that happens you\ncan use gensky for this particular situation; it's better than\ndropping the record completely from the evaluation.\n\n\nSide note: I remember reading something about this being\na bug in gendaylit that was fixed with a patch. But that was\nin the 90s and I don't know if this patch is included in the\ncommonly available gendaylit source code.\n\n\n> So, if i want to show particular illuminance condition in\n> radiance (i.e. 12:00 on 21 March) by mean a falsecolor\n> image with illuminace values, is better to use gensky\n> with +s or -c depending on if there is direct and diffuse\n> illuminance or only diffuse one, using the illuminance data\n> values from daysim or epw (if I have it)?\n\n\nThere are two topics here:\n\n\n1) How do you get illuminance values if the EPW file\n   doesn't have them.\n\n\n2) Which sky model (and options) do you use to match\n   a given set of irradiance/illuminance values?\n\n\nFirst point:\n\n\nThe only reliable way to get illuminance is to measure it\non site under the real world conditions. Point. If you don't\nhave that you need the sky efficacy to convert irradiance\nto illuminance but that changes for any given location and\nsky condition!\n\n\nTherefore if you don't have measured illuminance values\nyou have to assume a reasonable sky efficacy. The built-in\nvalue in Radiance is 179 lm/W. This value is only used at\nthe end to convert calculated irradiance to illuminance (the\nmagic \"*179\" in the command line).\n\n\nIf you are more interested in a relative comparison over the\nyear and not so much in absolute illuminance values at a\nparticular date you don't have to worry much. You can still\ncompare the illuminance images even if they are say 15%\ntoo bright.\n\n\nHowever, if you want to calculate the energy savings for a\ndaylight liked artificial lighting system that switches off at\n500 lux you'd better get a set of real world measurement to\nhave some data you can use as calibration points.\n\n\nNow the second point:\n\n\nNo. If you use Radiance you have to check that the irradiance\nfrom your sky model matches that of the EPW for every given\nsky. It does not matter if you use gendaylit or gensky. Both\nwork with irradiance input (\"-P\" for gendaylit and \"-r\" and \"-B\"\nfor gensky). Gendaylit is commonly used because it creates\na more sophisticated sky distribution than gensky. You also\nhave to chose to add a sun or not (and which model you want\nto use in the case of gensky.\n\n\nYou now calculate the irradiance of a single point on a plane\nand compare that with the \"global horizontal irradiance\" from\nthe EPW file. If the two values differ this is just a sign that\nthe sky model does not fit perfectly the actual atmospheric\nconditions. Modify your sky description to compensate for\nthe difference and check that the global irradiance matches\nyour calculations.\n\n\nIf you don't have illuminance values you are set. Repeat the\nabove process for all dates of the year to find matching sky\ndescriptions which you can use in a Radiance simulation.\n\n\nIf you do have illuminance values you calculate the sky efficacy\nfrom the ratio of the irradiance and illuminance values and use\nthis factor to convert the rendered irradiance picture to a falsecolor\nilluminance picture (or anywhere else where you want to calculate\nilluminance values).\n\n\nIf you have a good estimate for the sky efficacy you should\nalso use that instead of the built in value.\n\n\n> If my weather file has not illuminance data values, I must\n> use Daysim to generate the illuminace external values\n> and use them in Radiance to make analysis (by means gensky);\n> I can`t use gendaylit (starting from Irradiance value provided\n> by the weather file) because it provides illuminance values\n> are not correct compared to measured ones.\n> Can you confirm it?\n\n\nNo. If you think the results of Daysim are accurate enough\nthen you should use Daysim to calculate your images if it\nis not too limited for your purpose. It will save you all the\nsteps mentioned above and for a simulation covering the\nwhole year it might also be faster.\n\n\nThere is no need to use Daysim to calculate illuminance\nvalues. You (and I) have no idea which conversion factors\nare used to get to these values.\n\n\nIf you use Radiance you can (and should) modify the sky\ndescriptions generated by gensky or gendaylit until they\nmatch best the available data. Then you can use the sky\nin a simulation and be confident that the results will match\nthe reality within the limits of the simulation.\n\n\nThe replication of real world atmospheric conditions is quite\ntricky. Don't expect your results to be too accurate. For the\ntype of evaluation that's usually done on the basis of climate\ndata files this inaccuracy does not matter much (cumulative\nor relative evaluations). But don't depend too much on the\nresults of a single calculation out of a whole year's worth of\ndata.\n\n\nRegards,\nThomas\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2011-February/007677.html).</sup>", "attachments": [], "created_by_name": "Thomas Bleicher", "created_at": "February 07, 2011 at 07:24AM", "created_by": "Thomas_Bleicher", "parent_id": "radiance-general_007676", "id": "radiance-general_007677"}