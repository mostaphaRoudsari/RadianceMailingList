{"body": "Hi Giovanni!\n\n\n> I see how that's a possibility but it would mean running separate images\n> and to filter each of them.\n\n\nI guess it would not be impossible, as renderings should complete very \nfast when considering only direct.\n\n\n> simulation with multiple sun positions. Eventually as an optimization\n> the sun position can be clustereed according to tregenza patches and\n> each patch weighted based on the number of sun hours it represents (so\n> you don't even need 4000 sun but maybe only 300...)\n> Any hint on that?\n\n\nThe tregenza sky introduces limitations of the angular resolution. You \nmay try a two-step approach:\n\n\nFirst, for each patch, find out at how many time intervals the sun is \ncovered by the patch. So a patch containing the sun solid angle 20 times \na year, you would set the patch value to 20.\n\n\nSecond, run rtcontrib to find out which patch contributes to which \npixel. Here you can apply your threshold just as described in my former \nemail, so any pixel that is lid by a patch is set to the value (in \nhours) for the patch from step 1.\n\n\nWith a Tregenza grid, you would end up with 145 images, each pixel value \ncorresponding to the number of hours of direct sun exposure from the \nrelated patch. Adding up all the 145 images in the third step should \nresult in pixel values of direct sun exposure (hours) for all patches.\n\n\nBTW if you follow an approach as typically used when working with \nTregenza skies, and split the sun over n neighbouring patches, you would \nof course set the pixel value to 1/n instead.\n\n\nI am not sure about better ways to achieve what you want to do, this is \njust one idea... any other proposals? I am sure others have done that \nbefore...\n\n\nCheers, Lars.\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2011-February/007691.html).</sup>", "attachments": [], "created_by_name": "Lars O. Grobe", "created_at": "February 15, 2011 at 04:16AM", "created_by": "Lars_O._Grobe", "parent_id": "radiance-general_007688", "id": "radiance-general_007691"}