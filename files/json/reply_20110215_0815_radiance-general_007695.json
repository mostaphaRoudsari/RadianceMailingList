{"body": "I would suggest this:\n\n\n\n\n\n\n[loop over timebounds (can have a sun above horizon check here too, also\nif the day exists, like Feb 30)]\n    [gensky with the day/time]\n\n\n    [create/overwrite temp image making sure to have -ab 0]\n\n\n    [pcomb -e 'lo=if(li(1)-100/WE,1,0' the image to make any value above\n100 lux be 1, any value below be 0 > month.day.hour.hdr]\n\n\n[loop over timebounds]\n\n\n    [for every month]\n\n\n        [for every day]\n\n\n            [combine hours in day with pcomb > month.day.XX.hdr]\n\n\n        [combine days in month with pcomb > month.XX.XX.hdr]\n\n\n    [combine months in year with pcomb > sunhours.hdr]\n\n\n\n\n\n\nThe values in the final image will be in terms of sun-hours. It assumes\nthat any part of the image over 100 lux direct exterior illuminance is\nin the sun. The key to speed here, I think, is to make the octree quick\nto load. \n\n\n\n\n\n\nBonus points if you can create multiple threads/processes and run\nthrough the first loop in parallel...\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2011-February/007695.html).</sup>", "attachments": [], "created_by_name": "David Smith", "created_at": "February 15, 2011 at 08:15AM", "created_by": "David_Smith", "parent_id": "radiance-general_007688", "id": "radiance-general_007695"}