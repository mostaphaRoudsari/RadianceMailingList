{"body": "Jan, Rob,\n\n\nI don't think nested functions are any version of standard C; I'm \npretty sure they are a GNU compiler extension.  If it's possible, do \nyou think you could engineer these out?  I'd look at it, but no-way do \nI have time to work on it.\n\n\nit's probably best if C code compiles with the gcc \"-ansi -pedantic\" \n(c90) or \"-std=c99 -pedantic\" options.  That's not a complete check; \nsome non-ISO usages are not caught, but it's better than simply letting \nsomething completely non-standard slip through.\n\n\nRandolph\n\n\n(Do we need to take this to the developer list?)\n\n\nOn 2012-02-17 16:34:39 +0000, Guglielmetti, Robert said:\n\n\n> Hi Jan,\n> \n> Exciting news!\n> \n> I just tried compiling this on MacOS ang I get the following error:\n> \n> rgugliel-14846s:evalglare rgugliel$ make evalglare\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/color.o common/color.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/resolu.o common/resolu.c -I. -Igeometry\n> common/resolu.c: In function \u0152str2resolu\u00b9:\n> common/resolu.c:98: warning: implicit declaration of function \u0152atoi\u00b9\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/header.o common/header.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/image.o common/image.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/fvect.o common/fvect.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/badarg.o common/badarg.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/words.o common/words.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/fputword.o common/fputword.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/expandarg.o common/expandarg.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/wordfile.o common/wordfile.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/bmalloc.o common/bmalloc.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o\n> common/mat4.o common/mat4.c -I. -Igeometry\n> gcc -c -g -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -Wall  -o pictool.o\n> pictool.c -I. -Igeometry\n> pictool.c: In function \u0152read_exposure\u00b9:\n> pictool.c:90: error: nested functions are disabled, use -fnested-functions\n> to re-enable\n> make: *** [pictool.o] Error 1\n> \n> Then I tried the following, also with no luck:\n> \n> rgugliel-14846s:evalglare rgugliel$ make evalglare -fnested-functions\n> make: nested-functions: No such file or directory\n> make: *** No rule to make target `nested-functions'.  Stop.\n> rgugliel-14846s:evalglare rgugliel$ make -fnested-functions evalglare\n> make: nested-functions: No such file or directory\n> make: *** No rule to make target `nested-functions'.  Stop.\n> rgugliel-14846s:evalglare rgugliel$\n> \n> Ideas? I know you only vouch for Linux with the source and provide a\n> pre-compiled Windows version, but it'd be good to get this working on\n> MacOS once and for all, now that it's at version 1.0 status.\n> \n> \n> Rob Guglielmetti  IESNA, LEED AP\n> Commercial Buildings Research Group\n> National Renewable Energy Laboratory\n> 1617 Cole Blvd MS:RSF202\n> Golden, CO 80401\n> T. 303.275.4319\n> F. 303.630.2055\n> E. robert.guglielmetti at nrel.gov\n> \n> \n> \n> \n> \n> On 2/17/12 6:59 AM, \"Jan Wienold\" \n> <jan.wienold at ise.fraunhofer.de> wrote:\n> \n>> Hi All,\n>> \n>> I want to announce a new evalglare version ready for download. (version\n>> 1.0).\n>> \n>> Following main changes are included (see also the short documentation\n>> which is included in the package) :\n>> \n>> -all current view types will be supported (except parallel view) - that\n>> means also -vth !\n>> -valid view is checked (many problems occurred, because often users\n>> treat the image with programs like pcompos before putting into\n>> evalglare. But then, the view got lost and a wrong view leads to totally\n>> wrong results! Now this will be handled by the new evalglare )\n>> -view options can be provided also per command line option\n>> -disability glare is also calculated\n>> -cut-out the \"Guth\" visual field\n>> -extension of the DGP equation for low-brightness scenes (Ev<380lux) ,\n>> based on new user assessments\n>> \n>> The main routines for glare source detection and calculation of the\n>> glare values are not changed.\n>> \n>> Anyhow I strongly recommend to use from now on only the new version,\n>> because the issue with non valid views can cause many troubles and wrong\n>> values.\n>> (and I guess many people use it and run into that problem and got wrong\n>> values without knowing it!!).\n>> \n>> You can download the new version here:\n>> \n>> http://www.ise.fraunhofer.de/radiance\n>> \n>> good luck and an always glare free environment... ,\n>> \n>> Jan\n>> \n>> --\n>> Dr.-Ing. Jan Wienold\n>> Head of Team Passive Systems and Daylighting\n>> Fraunhofer-Institut f\u00fcr Solare Energiesysteme\n>> Thermal Systems and Buildings\n>> Heidenhofstr. 2, 79110 Freiburg, Germany\n>> Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133\n>> jan.wienold at ise.fraunhofer.de\n>> http://www.ise.fraunhofer.de\n>> \n>> In office:\n>> Mo,Tue: 8:30-18:00\n>> We,Thu: 8:30-16:00\n>> Fr:  8:30-15:30\n>> \n>> \n>> _______________________________________________\n>> Radiance-general mailing list\n>> Radiance-general at radiance-online.org\n>> http://www.radiance-online.org/mailman/listinfo/radiance-general\n\n\n\n\n\n\nRandolph M. Fritz\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-February/008377.html).</sup>", "attachments": [], "created_by_name": "Randolph M. Fritz", "created_at": "February 17, 2012 at 12:16PM", "created_by": "Randolph_M._Fritz", "parent_id": "radiance-general_008370", "id": "radiance-general_008377"}