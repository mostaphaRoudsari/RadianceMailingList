{"body": "Hi!\n\n\nFirst of all, thank you Jan for providing us with an improved release of\nevalglare!\n\n\n> I have the following warning when compiling:\n> *********************\n> In function \u2018strcpy\u2019,\n>     inlined from \u2018main\u2019 at evalglare.c:1194:8:\n> /usr/include/bits/string3.h:105:3: warning: call to\n> __builtin___strcpy_chk will always overflow destination buffer\n> *********************\n\n\nHm, honestly evalglare contains quite a lot of code handling strings in\na rather risky way. E.g. the mentioned warning results from using strcpy\nwithout checking that enough memory is available for the version string\n- which results in compiler warnings (the best thing to happen) or\ncrashes. In this specific case, you can simply reserve some more memory\nfor the version string changing the line 1149 from\n\n\nchar file_out[500], file_out2[500], blank[1], version[40];\n\n\nto\n\n\nchar file_out[500], file_out2[500], blank[1], version[64];\n\n\nBut of course the next change in the version string may break this\nagain. It would probably make a lot of sense to use defines for the\nstring operations (the whole version variable is not really needed\nhere), or at least set a variable to the maximum string length (Radiance\nhas MAXSTR) and check that what you copy into a string never exceeds\nthis (using strlen).\n\n\nCheers, Lars.\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-February/008379.html).</sup>", "attachments": [], "created_by_name": "Lars O. Grobe", "created_at": "February 18, 2012 at 02:45AM", "created_by": "Lars_O._Grobe", "parent_id": "radiance-general_008370", "id": "radiance-general_008379"}