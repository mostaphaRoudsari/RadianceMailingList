{"body": "Hi Greg,\n\n\nI am sorry for my too late response to your kind comment. I read your\nscript and it is so helpful. I am using Radiance to calculate ultraviolet\nintensity. So I don't need to convert radiance to illuminance, but need to\nrevise the script for multiply points sampling.\nThank you as always.\n\n\nBest,\nMinki\n\n\n\n\n\n\n\n\nHi Minki,\n\n\nIf this quantity is equal to the integral of luminance over the full\nsphere, then it would be the same as 4*PI times the average luminance in\nall directions.  You can compute the latter quantity by averaging the\noutput of an appropriate rtrace calculation of random rays over the sphere.\n Something like the following should work:\n\n\nset N=10000\nset orig=(0 0 0)\ncnt $N | rcalc -of -e 'Dz=1-2*($1+rand(.77-.61*recno))/'$N -e\n'phi=2*PI*($1+rand(-.10+.39*recno))'/$N \\\n               -e 'rxy=sqrt(1-Dz*Dz);Dx=rxy*cos(phi);Dy=rxy*sin(phi)' \\\n               -e \"Ox:$orig[1];Oy:$orig[2];Oz:$orig[3]\" \\\n               -e '$1=Ox;$2=Oy;$3=Oz;$4=Dx;$5=Dy;$6=Dz' \\\n       | rtrace -h -ff [options] scene.oct \\\n       | total -if3 -m \\\n       | rcalc -e '$1=179*4*PI*($1*.265+$2*.670+$3*.065)'\n\n\nThis should take ray samples in a stratified random spiral over the sphere.\n The 3 averaged radiance values (RGB) output should be multiplied by 179\nand 4*PI as above, unless I misunderstand the definition of spherical\nilluminance.\n\n\nBest,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-April/008511.html).</sup>", "attachments": [], "created_by_name": "Minki Sung", "created_at": "April 19, 2012 at 07:44PM", "created_by": "Minki_Sung", "parent_id": "radiance-general_008295", "id": "radiance-general_008511"}