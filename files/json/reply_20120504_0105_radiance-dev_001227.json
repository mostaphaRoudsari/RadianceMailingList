{"body": "Hi Greg,\n\n\nthe last mgf2inv update fixed the problem with the tree digit exponents.\nHowever, on Windows (thanks again Rob for providing the new binaries!)\nthe normals are still messed up -- see below.\n\n\nThe strange thing is that using the Windows binaries normals are printed\nwhereas in Linux the normals are not printed at all.\n\n\nThe output in Windows is:\n\n\n*DEF ceil_fac_001 Group {\n  Separator {\n    USE ceil_mat\n    Coordinate3 {\n      point [ -2.000000000e+000 +4.500000000e+000 +2.853170182e+000,\n              -1.500000000e+000 +4.500000000e+000 +3.000000000e+000,\n              -1.500000000e+000 +5.000000000e+000 +2.544315366e+000,\n              -2.000000000e+000 +5.000000000e+000 +2.397485548e+000 ]\n    }\n    Normal {\n      vector [ +0.000 +0.000 +0.0-1.500000000e+000 +4.500000000e+000\n+3.000000000e+000,\n               +0.000 +0.000 +0.0-1.500000000e+000 +5.000000000e+000\n+2.544315366e+000,\n               +0.000 +0.000 +0.0-2.000000000e+000 +5.000000000e+000\n+2.397485548e+000,\n               +0.000 +0.000 +0.000 ]\n    }\n    IndexedFaceSet {\n      coordIndex [ 0, 1, 2, 3 ]\n      normalIndex [ 0, 1, 2, 3 ]\n    }\n  }\n}\n*\nIt seems the vlist[] is corrupt under Win because in line 546 of mgf2inv.c\nthe strcmp is\nnonzero. To me it seems that from the the second vertex on the vertices are\nwritten 3 bytes\nleft of where they should be -- these could be just the bytes that Win (or\nany system with\n3 digit exponents) needs more?!\n\n\nAll in all it's probaly the VFLEN that is correct for a 2 digit exponent\n(72 = VSEPPOS (50) +\nspace (1) + len(VZVECT) (20) + len(\\0) (1)) but not for a 3 digit exponent.\n\n\nCheers,\nDavid\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2012-May/001227.html).</sup>", "attachments": [], "created_by_name": "David Geisler-Moroder", "created_at": "May 04, 2012 at 01:05AM", "created_by": "David_Geisler-Moroder", "parent_id": "radiance-dev_001212", "id": "radiance-dev_001227"}