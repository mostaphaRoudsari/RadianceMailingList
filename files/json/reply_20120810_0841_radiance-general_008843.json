{"body": "Functionally, the rcontrib replacement of rtcontrib is meant to be identical.  The only real difference should be performance.  There is a minor exception to this, which is that rcontrib *requires* the -bn option when -b is anything but \"0\".  This was always good practice before, and now it is enforced.  All the options and behavior is otherwise the same.\n\n\nUnder the hood, the code has changed dramatically.  Before, rtcontrib was a separate process that would call rtrace with either -oTW or -oTV options, generating a huge trace tree that would have to be interpreted by rtcontrib.  This was slow under the best of circumstances, and got much slower as rtrace processes were added using the -n option.  The rtcontrib process ended up being a major bottleneck.  The new code is a single program that forks copies of itself to do the ray-tracing, summing up contributions in each child process.  This avoids the inter-process communication, memory overhead, and aforementioned summation bottleneck of the original.  I have also added optimizations for when -c is greater than 1 by further batching summations in child processes and reducing communication overhead that way.  If you aren't getting linear speed-up with a particular scene and -n setting, increasing -c should get you there.\n\n\nWe have done a fair amount of testing to where we feel pretty confident there are no major bugs in the new code, but feedback is welcome.  Lars and I are currently trying to track down some anomalies he's seeing in testing, but by the time of the workshop things should be sorted out if not sooner.\n\n\nCheers,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-August/008843.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "August 10, 2012 at 08:41AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_008838", "id": "radiance-general_008843"}