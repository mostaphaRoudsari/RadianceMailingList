{"body": "Hey Rob,\n\n\nJust to fill in the details a bit more now. I am largely working from \nAxel's observations on under what circumstances gendaylit fails. From \nwhat I have seen the error conditions are:\n\n\n 1. if the Diffuse Normal Radiation is 0, in which case assume a night\n    time step\n 2. if the time used results in a solar zenith angle > 90 - this seems\n    to occur at the boundary conditions around sunrise/sunset - this\n    will report an error\n 3. if the -W parameters are out of bounds for what gendaylit expects at\n    a given time step - this looks like it seg faults\n\n\nTo process the weather data, I have been setting the time at 30 minutes \nless than the hour reported in the weather file. It occurs to me that in \nthe case of (2) it might make sense to continue testing with altered \ntimes until a value is reported (just thinking off the cuff here). So \nfor example (in condensed form):\n\n\nThe weather file for Boston reports the following for January 1 at 17:00\n\n\n    direct normal irradiance: 7\n    diffuse horizontal irradiance: 5\n\n\nif we do:\n\n\n    gendaylit 1 1 16.5 -a 42.37 -o 71.02 -m 75 -W 7 5\n\n\n    we will get an error relating to zenith angle > 90\n\n\nhowever if we then move back 15 minutes:\n\n\n    gendaylit 1 1 16.25 -a 42.37 -o 71.02 -m 75 -W 7 5\n\n\nwe actually get a valid description...\n\n\nCuriously adding 15 minutes to the time step in Tim's case actually \nresults in a sky description:\n\n\n    gendaylit 7 19 14.500 -W 924 65 -a 34.3 -o 116.17 -m 120\n    results in seg fault\n\n\n    gendaylit 7 19 14.2500 -W 924 65 -a 34.3 -o 116.17 -m 120\n    results in error message:\n    sky clearness or sky brightness out of range 12.605739  0.059480\n\n\n    gendaylit 7 19 14.7500 -W 924 65 -a 34.3 -o 116.17 -m 120\n    results in sky description\n\n\nNote I am picking 15 minutes as the next increment as halving of the 30 \nminute value.\n\n\nNot really sure what this tells us or how it helps.... It is also not \nclear to me any issues that might result, eg pros/cons of:\n\n\n 1. gendaylit initially fails so we fall back on gensky\n 2. gendaylit initially fails so we use a different time value (within\n    the hour of record) to get \"good\" output\n 3. gendaylit initially fails so we fall back on the previous hour's\n    value output\n\n\n-Jack\n\n\n\n\n# Jack de Valpine\n# president\n#\n# visarc incorporated\n# http://www.visarc.com\n#\n# channeling technology for superior design and construction\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2012-October/001264.html).</sup>", "attachments": [], "created_by_name": "Jack de Valpine", "created_at": "October 17, 2012 at 09:23AM", "created_by": "Jack_de_Valpine", "parent_id": "radiance-dev_001258", "id": "radiance-dev_001264"}