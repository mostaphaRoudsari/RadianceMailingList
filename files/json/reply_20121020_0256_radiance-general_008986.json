{"body": "Hi, Lars,\n\n\nI agree with your suggestion: calculating the number of rays shooting out\nfrom a sensor that can reach the sky directly, and divide the value\nobtained by the total number of rays shot. This will give us the percentage\nof visible sky or sky exposure for a given sensor.\n\n\nHowever, if I understand correctly, the output of rtrace is a file, within\nwhich each row indicating the xyz coordinates and rgb irradiance of a given\nsensor.\n\n\nIs the output of rtrace which is supposed to be piped to rcalc as shown in\nyour script has only one column of data and each row is the irradiance\nvalue of one of the sensors?\n\n\nSo, the script might be something like:\n\n\ncat sensors.txt | rtrace -I  -aa XXX  -ab XXX -ad XXX -h -w scene.oct |\nrcalc -e '$1=if($1-.00001,1,0); $2=1' | total | rcalc -e '$1=$1/$2' >\nresults.txt\n\n\nIf that's the case, you're calculating the percentage of sensors that can\nsee the sky (regardless of the size of sky visible to each sensor), am I\ncorrect?\n\n\n... or I miss something critical here ...\n\n\n- Ji\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-October/008986.html).</sup>", "attachments": [], "created_by_name": "Ji Zhang", "created_at": "October 20, 2012 at 02:56AM", "created_by": "Ji_Zhang", "parent_id": "radiance-general_008984", "id": "radiance-general_008986"}