{"body": "Sorry to keep bothering you...  Just add some additional information. I\nsearch \"transmission back\" and \"transmission front\" in the code and find\n\"Transmission Front\" is more likely used according to the code.  The\nfollowing two code snippets from bsdf_m.c and bsdf.c shows \"Transmission\nFront\" data will be loaded or preferred ?\n\n\nAnother issue,  I remember Greg mention that even if only \"Transmission\nFront\" is present, the BSDF library in Radiance can still computer\nTransmission matrix. But my simple test case (download\nhere<https://dl.dropbox.com/u/15562376/test_10_21.zip>)\ndid not show that.  If you change \"Transmission Back\" in the .xml file to\n\"Transmission Front\". The results will be zero.\n\n\n\n\n*//  ray/src/common/bsdf_m.c*\n/*\n * Remember that front and back are reversed from WINDOW 6 orientations\n * *Favor their \"Front\" (incoming light) since that's more often valid*\n */\n tfront = !strcasecmp(sdata, \"Transmission Back\");\nif (!strcasecmp(sdata, \"Transmission Front\") ||\n tfront & (sd->tf == NULL)) {\nif (sd->tf != NULL)\nSDfreeSpectralDF(sd->tf);\n if ((sd->tf = SDnewSpectralDF(1)) == NULL)\nreturn RC_MEMERR;\ndf = sd->tf;\n\n\n*// ray/src/common/bsdf.c*\n\n\nfor (wld = ezxml_child(wtl, \"WavelengthData\");\nwld != NULL; wld = wld->next) {\n if (strcasecmp(ezxml_txt(ezxml_child(wld,\"Wavelength\")),\n\"Visible\"))\n continue;\nfor (wdb = ezxml_child(wld, \"WavelengthDataBlock\");\n wdb != NULL; wdb = wdb->next)\nif (!strcasecmp(ezxml_txt(ezxml_child(wdb,\n \"WavelengthDataDirection\")),\n*\"Transmission Front\"))*\n break;\nif (wdb != NULL) { */* load front BTDF */*\n load_bsdf_data(dp, wdb);\nbreak; /* ignore the rest */\n }\n}\n\n\nThanks,\n\n\nJia\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-October/008993.html).</sup>", "attachments": [], "created_by_name": "Jia Hu", "created_at": "October 20, 2012 at 05:38PM", "created_by": "Jia_Hu", "parent_id": "radiance-general_008988", "id": "radiance-general_008993"}