{"body": "Hi all,\n\n\nI found the reply below from an old thread (12-15-2011). Would this help?\n\n\nAlso, how about defining a sensor with all coefficients 1, and getting the weighted illuminance, would that work?\n\n\nRegards,\nSantiago\n\n\n\n\n\n\n\n\n\n\nHi Minki,\n\n\n\n\n\n\nIf this quantity is equal to the integral of luminance over the full sphere, then it would be the same as 4*PI times the average luminance in all directions.  You can compute the latter quantity by averaging the output of an appropriate rtrace calculation of random rays over the sphere.  Something like the following should work:\n\n\n\n\n\n\nset N=10000\n\n\nset orig=(0 0 0)\n\n\ncnt $N | rcalc -of -e 'Dz=1-2*($1+rand(.77-.61*recno))/'$N -e 'phi=2*PI*($1+rand(-.10+.39*recno))'/$N \\\n\n\n            -e 'rxy=sqrt(1-Dz*Dz);Dx=rxy*cos(phi);Dy=rxy*sin(phi)' \\\n\n\n            -e \"Ox:$orig[1];Oy:$orig[2];Oz:$orig[3]\" \\\n\n\n            -e '$1=Ox;$2=Oy;$3=Oz;$4=Dx;$5=Dy;$6=Dz' \\\n\n\n      | rtrace -h -ff [options] scene.oct \\\n\n\n      | total -if3 -m \\\n\n\n      | rcalc -e '$1=179*4*PI*($1*.265+$2*.670+$3*.065)'\n\n\n\n\n\n\nThis should take ray samples in a stratified random spiral over the sphere.  The 3 averaged radiance values (RGB) output should be multiplied by 179 and 4*PI as above, unless I misunderstand the definition of spherical illuminance.\n\n\n\n\n\n\nBest,\n\n\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-October/008996.html).</sup>", "attachments": [], "created_by_name": "Santiago Torres", "created_at": "October 21, 2012 at 08:38PM", "created_by": "Santiago_Torres", "parent_id": "radiance-general_008984", "id": "radiance-general_008996"}