{"body": "Yes, you've no doubt identified one of the main difficulties in understanding a functional language.  Everything is defined in terms of everything else, and there's no explicit \"flow\" to a program, which is really just a set of equations.  Only when something is evaluated does anything happen, then whatever variables and functions that evaluation requires causes a cascade that leads to inputs that are somehow predefined in the environment.\n\n\nIn the case of .cal files used in a Radiance rendering, most of these variables and functions are given or described in rayinit.cal.  Similarly, the direction vector (Dx,Dy,Dz) and world position (Px,Py,Pz) variables are the ones used primarily by .cal files given on the rcontrib command line.  You will see these mentioned in the comments and main section of tregenza.cal.\n\n\nThe best introduction to .cal files is probably still Chapter 4 of \"Rendering with Radiance,\" which you can order from Randolph Fritz if you don't already have a copy.\n\n\nBest,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2013-August/009728.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "August 28, 2013 at 08:47AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_009718", "id": "radiance-general_009728"}