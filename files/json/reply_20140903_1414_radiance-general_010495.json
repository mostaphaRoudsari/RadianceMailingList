{"body": "You can use the routines defined in src/common/ccolor.h to convert from spectral measurements to a CIE color and from there to RGB:\n\n\n#include \"ccolor.h\"\n{\n\tC_COLOR\t\tclr;\n\tfloat\t\t\t\tspec_data[MYNWL];\n\tfloat\t\t\t\trgb[3];\n\tdouble\t\t\tmyLuminance = 0.5;\n\n\n\t/* set spec_data[] array] */\n\tc_sset(&clr, 344.0, 1045.0, spec_data, MYNWL);\n\tccy2rgb(&clr, myLuminance, rgb);\n}\n\n\nNote that you have to decide the number of wavelengths ahead of time, and they must be evenly spaced.\n\n\nI've arbitrarily set the overall Y value to 0.5, but of course you set it to what you need.  I can't help you with that part.\n\n\nCheers,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2014-September/010495.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "September 03, 2014 at 02:14PM", "created_by": "Greg_Ward", "parent_id": "radiance-general_010493", "id": "radiance-general_010495"}