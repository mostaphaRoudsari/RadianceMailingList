{"body": "This seems like a poster case for the new photon-mapping routines.  If you are working with the latest alpha version, you should definitely give that a try.  The irradiance cache isn't built to handle specular scattering like this.  You would have to turn it off with -aa 0 and put up with the noise.  Using a caustic photon map avoids the issue.  It's even built into the latest rad program, so you just need to set up your maps using:\n\n\n\tPGMAP= scene_g.pmp 200K 50\n\tPCMAP= scene_c.pmp 1M 50\n\n\nRad will run mkpmap and set the rvu or rpict options appropriately, and you can watch what it does.  It typically spits out things like:\n\n\n\toconv sky.rad window3b.rad office.rad window_port.rad > test3f.oct\n\tmkpmap -apo window_port -fo+ -apg test3f_g.pmp 200K -apc test3f_c.pmp 1M test3f.oct\n\trpict -vu 0 1 0 -vf fish.vf -dp 512 -ar 185 -ms 1.3 -ds .3 -dt .1 -dc .5 -dr 1 -ss 1 -st .1 -ab 1 -af test3f.amb -aa .1 -ad 1536 -as 392 -av 10 10 10 -lr 8 -lw 1e-4 -ap test3f_g.pmp 50 -ap test3f_c.pmp 50 -av 0.8 0.8 0.8 -x 64 -y 64 -ps 1 test3f.oct > /dev/null\n\trpict -vu 0 1 0 -vf fish.vf -x 1024 -y 1024 -dp 512 -ar 185 -ms 1.3 -ds .3 -dt .1 -dc .5 -dr 1 -ss 1 -st .1 -ab 1 -af test3f.amb -aa .1 -ad 1536 -as 392 -av 10 10 10 -lr 8 -lw 1e-4 -ap test3f_g.pmp 50 -ap test3f_c.pmp 50 -av 0.8 0.8 0.8 -ps 6 -pt .08 test3f.oct > test3f_fish.unf\n\tpfilt -1 -e .05 -r .6 -x /2 -y /2 test3f_fish.unf > test3f_fish.hdr\n\trm -f test3f_fish.unf\n\n\nYou can dig through these for hints of how to run everything if you prefer doing it by hand.\n\n\nCheers,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2015-June/011062.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "June 24, 2015 at 09:05AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_011004", "id": "radiance-general_011062"}