{"body": "OK, this helps.  What you probably want to do is compute the average behavior as a BSDF, which requires explicitly modeling a small section of the material.  You can do this using antimatter to get the holes perfectly cylindrical.  Start with a slab from genbox as you suggested, then use antimatter like so:\n\n\nvoid metal aluminum\n0\n0\n5 0.7 0.7 0.7 0.9 0.02\n\n\n!genbox aluminum slab 140 140 4 | xform -t 0 0 -4.01\n\n\nvoid antimatter hole_mat\n1 aluminum\n0\n0\n\n\n!xform -n even -t 10 10 0 -a 10 -t 12 0 0 -a 6 -t 0 20.78461 0 cylinder.rad\n\n\n!xform -n odd -t 16 20.392305 0 -a 10 -t 12 0 0 -a 6 -t 0 20.78461 0 cylinder.rad\n\n\n\n\n\n\nThe file \"cylinder.rad\" contains:\n\n\nhole_mat ring cyl.top\n0\n0\n8\n\t0\t0\t0\n\t0\t0\t1\n\t0\t4\n\n\nhole_mat cylinder cyl\n0\n0\n7\n\t0\t0\t0\n\t0\t0\t-4.02\n\t4\n\n\nhole_mat ring cyl.bot\n0\n0\n8\n\t0\t0\t-4.02\n\t0\t0\t-1\n\t0\t4\n\n\n\n\n\n\nYou then need to run genBSDF on the whole thing, keeping your sampling region within the appropriate zone:\n\n\n\tgenBSDF -t4 5 +geom millimeter +f +b -dim 10 70 10 72.35383 -4.02 0 perf.rad > perf.xml\n\n\nThis creates a tensor tree, which is probably better for this material.  If you need a Klems matrix, just leave off the \"-t4 5\" setting.\n\n\nTo apply the resulting XML file in a model, you can put this in your rendering file:\n\n\nvoid BSDF perf_mat\n6 0 perf.xml 0 1 0 .\n0\n0\n\n\nperf_mat polygon perf_shelf\n0\n0\n12\n\t{coordinates in horizontal plane with normal aligned with Z}\n\n\n\n\n\n\nI hope this works for you.  If you need the shelf to have a different alignment, just change the \"up\" orientation for the BSDF (set to XYZ == 0 1 0 in the above example).\n\n\nBest,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2015-July/011137.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "July 21, 2015 at 10:44PM", "created_by": "Greg_Ward", "parent_id": "radiance-general_011134", "id": "radiance-general_011137"}