{"body": "Hi Greg,\n\n\nmany, many thanks!! that helped a lot and solved mostly my problem! My \nmaterial is now behaving more or less how I want it to :-) .\n\n\nIn fact the main problem was, that the function for the direct-diffuse \nmust be a vector function, which I didn't realize before :-[ .\nAfter some tests I realized as well, that this function doesn't \ndistinguish between transmission and reflection per se, but with some \nsimple dot-products in the cal-file between the rays and the surface \nnormal I can distinguish this as well.\n\n\nA small remaining question is how to specify additional parameters to be \n\"transferred\" to the function in the cal file. If I specify the A10 \n(within the description of BRTFfunc) , I can access A10 from the cal \nfile as well. In case I specify a \"A11\" or \"A12\" or more, I can't access \nthem (error message \"rtrace: A11`testfunc: undefined variable\"), \nalthough I specified them in the BRTDfunc description. Of course I can \nhard-code these properties in the cal file, but it would be nicer if I \ncan specify it in the material descriptions.\nAnd: A10 is not used per se by BRTDfunc, or? So at least I can use this \none. But I would have 3 other parameters to be submitted to the functions.\n\n\nthank you so much!\n\n\nJan\n\n\n\n\n\n\nAm 8/6/15 um 12:51 AM schrieb Greg Ward:\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2015-August/011154.html).</sup>", "attachments": [], "created_by_name": "Jan Wienold", "created_at": "August 06, 2015 at 05:14AM", "created_by": "Jan_Wienold", "parent_id": "radiance-general_011150", "id": "radiance-general_011154"}