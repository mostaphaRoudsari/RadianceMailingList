{"body": "For me, the difference of the real picture and the simulation is quite visible. Maybe this discussion topic is one reason for this.\n\n\nWe came across this issue by doing a combined thermal and dynamic daylight analysis.\nOne calculation with original DAYSIM  and one DAYSIM calculation with sun position calculated from TRNSYS.\nThere were quite visible differences, especially in Autumn.\n\n\nhttps://drive.google.com/file/d/0B_k3K9s5QAlISGdYWFdlMHZFc00/view?usp=sharing\n\n\nand\n\n\nhttps://drive.google.com/file/d/0B_k3K9s5QAlIb0lRN3VrdXVQaFU/view?usp=sharing\n\n\nTRNSYS uses the Spencer-Algorithm  from 1971 for the calculation of solar declination.\nImplementing this Algorithm is easy because it has just a few more sin() and cos() statements .\n\n\nThis graph:\n\n\nhttps://drive.google.com/file/d/0B_k3K9s5QAlIbWVXZHhINXhYTDA/view?usp=sharing\n\n\nshows the differences between this algorithm, the Cooper Algorithm and the Algorithm used in Radiance.\nSo my first question is answered by this. By using 368 days per year the deviation is smaller than with the original\nCooper Algorithm.\n\n\nA good starting point for choosing the right algorithm could be in my opinion :\n\"Computing the solar vector\" in  Solar Energy Vol. 70, No. 5, pp. 431-441, 2001 by  MANUEL BLANCO-MURIEL et al.\nHere, the differences of common algorithm are described. They use only the Spencer Algorithm as an example of a simple algorithm.\nFollowing table shows, that there are considerable differences:\nhttps://drive.google.com/file/d/0B_k3K9s5QAlIcS1JQmZFSGttbWs/view?usp=sharing\nThey recommend the Michalsky-Algorithm or their own PSA-Algorithm, which is a little bit better.\nThe Michalsky Algorithm is also used in the program SolPos Nathaniel Jones recommended:\n\n\nhttps://www.nrel.gov/midc/solpos/\n\n\nThe Source Code for the PSA-Algorithm is available under:\n\n\nhttp://www.psa.es/sdg/sunpos.htm\n\n\nIt seems to be comparable to the  from  Christian Humann recommended NREL algorithms which is used in the program spa:\n\n\nhttps://www.nrel.gov/midc/spa/\n\n\n>From my point of view as a user it would be desirable, that the main used Simulation Programs uses the same or at least quite similar algorithm for calculating the sun position.\nTRNSYS uses the Spencer-Algorithm, which is due to the upper publications also not the best choice.\nIt would be interesting what algorithm EnergyPlus uses.\n\n\nRegards\n\n\nMartin\n\n\n\n\n\n\nVon: Christoph Reinhart [mailto:tito_ at mit.edu]\nGesendet: Donnerstag, 17. Dezember 2015 18:29\nAn: Radiance general discussion\nBetreff: Re: [Radiance-general] Calculation of solar declination in sun.c\n\n\nUsing a more accurate formula that is based on a respectable source like a good idea if the magnitude of the correction is as large as Martin describes. Incidentally, we are having our students do \"validations\" of the formula by comparing the photograph of an objects as a certain time in the year to a Radiance rendering and that analysis tends to come out pretty well: http://web.mit.edu/sustainabledesignlab/projects/DaylightingHandbook/Exercise_DirectSunlight.htm.\n\n\nBest,\n\n\nChristoph\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2015-December/011422.html).</sup>", "attachments": [], "created_by_name": "Martin Gut", "created_at": "December 18, 2015 at 07:40AM", "created_by": "Martin_Gut", "parent_id": "radiance-general_011407", "id": "radiance-general_011422"}