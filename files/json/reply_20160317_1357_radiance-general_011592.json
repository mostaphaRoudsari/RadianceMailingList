{"body": "I'm currently struggling with memory issues -- of the volatile and non-volatile kind -- trying to get Radiance to play nicely on a server-based optimization framework, and making it Windoze-friendly. As a result of that last bit, I'm writing view/daylight matrices in ASCII, and they get large in a hurry. 7500 points worth of matrix, for a presumably annual (8760) input, is a BAF (big a** file).\n\n\nI'm not seeing your errors specifically Galen, mine are all downstream; I either run out of disk space or hit memory errors when rfluxmtx tries to read these BAFs into memory for merging. But maybe we're both barking up the same tree in a sense? I dunno. But now you know why I have a headache today.\n\n\n\n\nOn 3/17/16, 2:39 PM, \"Galen Burrell\" <Galen.Burrell at arup.com<mailto:Galen.Burrell at arup.com>> wrote:\n\n\nI'm running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:\n\n\n1)\nrcontrib(2346) malloc: *** mmap(size=a really big number) failed (error code=12)\n*** error: can't allocate region\n*** set a breakpoint in malloc_error_break to debug\nrcontrib: system - out of memory in samp_hemi: Cannot allocate memory\nrcontrib: system - read error from render process\nKilled: 9\n\n\n2)\nrcontrib: system - read error from render process\nKilled: 9\n\n\nI can't establish a pattern for why/when these two errors occur.\n\n\nOddly, I don't always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don't understand why grid size would influence memory though...?\n\n\nSystem is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with Yosemite installed\nLatest Radiance HEAD release; although the error repeats on older versions from 6 months ago\nrcontrib settings are: -n 12 -ab 12 -ad 100000 -lw 1e-5 -I+\n\n\nAny clues on why I'm getting these errors?\n\n\nThank you!\n\n\nGalen\n\n\n\n\n____________________________________________________________\nElectronic mail messages entering and leaving Arup  business\nsystems are scanned for acceptability of content and viruses\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2016-March/011592.html).</sup>", "attachments": [], "created_by_name": "Rob Guglielmetti", "created_at": "March 17, 2016 at 01:57PM", "created_by": "Rob_Guglielmetti", "parent_id": "radiance-general_011591", "id": "radiance-general_011592"}