{"body": "Hi Mengdi,\n\n\nDid you try using the 'T' option of rtrace, e.g., \"-oTMv\" will report materials and values for each ray traced.  The lower case 't' leaves out rays to light sources specifically, since there are so many of them in general.  To filter out just the source rays, you need to check the deepest-level (most tabbed) reports in the output and check that the material matches one in your scene description that is the \"light\" type.\n\n\nThere is no easy way in Radiance to differentiate \"specular\" from \"diffuse\" rays in the calculation.  Within the code itself, you can get clues from the ray type, but this isn't one of the things reported by rtrace.  You can of course hack the C code if you like.  That's what it's there for....\n\n\nCheers,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2016-September/011902.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "September 30, 2016 at 11:49AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_011801", "id": "radiance-general_011902"}