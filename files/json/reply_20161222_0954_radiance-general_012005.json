{"body": "It may also be possible to use rfluxmtx for this task, since it has code for sampling polygons built in.  The basic steps are:\n\n\n1) Separate your light sources, including electric lights, sun, sky, etc. and combine them in a single file.  (You can use !xform calls and that sort of thing.)\n\n\n2) Create a separate file for each polygon you want to measure, and put the following line at the top of each:\n\n\n\t#@rfluxmtx h=u\n\n\n3) Put your scene geometry except for light sources in a single octree:\n\n\n\toconv -f all scene except sources > scene.oct\n\n\n4) Run rfluxmtx on each \"sender\" polygon and sum the output:\n\n\n\trfluxmtx -V+ [rendering options] poly1.rad sources.rad -i scene.oct | total | rcalc -e '$1=PI*179*(.265*$1+.670*$2+.065*$3)'\n\n\nUsing the -V+ option, this should sum together the irradiance contributions from your light sources for that particular polygon and give you an RGB triplet as the result, which is multiplied by PI and converted to illuminance in the final rcalc command. I haven't tried it, but I believe it should work.  If you want to know the individual source contributions to illuminance for a given polygon, just remove \"total\" from the command chain.\n\n\nThe final command needs to be repeated for each surface, unfortunately, so it's not the most efficient method in the world.  There's no irradiance cache with rfluxmtx.\n\n\nCheers,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2016-December/012005.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "December 22, 2016 at 09:54AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_012003", "id": "radiance-general_012005"}