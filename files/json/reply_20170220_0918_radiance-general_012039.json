{"body": "Hi Axel,\n\n\nThere is quite a bit of initialization code, the goal of which is to get as much common data into shared memory as possible before calling fork().  This reduces the memory footprint of your processes, as well as avoiding redundant work that wouldn't make it go faster, anyway.\n\n\nIncluded in this preamble are initializing the photon maps (if any), loading the octree, marking light sources (including virtual sources), and preloading the ambient cache (if one).  It also preloads all object data, including instanced octrees, meshes, pictures used in patterns, and so on.\n\n\nEven with 6,000 light soruce, marking light sources shouldn't take all that long, *unless* you have \"mirror\" or \"prism\" surfaces in your scene.  These will create virtual light sources, multiplying the number of sources potentially by many times.  (Mirror surfaces that face each other are the worst case.)  The virtual light source preamble can take quite some time in such cases, as it tries to eliminate virtual source paths that would never pass light due to obstructions, etc.\n\n\nIf you don't have any mirror or prism surfaces, then I'm not sure why it would be taking so long.\n\n\nCheers,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2017-February/012039.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "February 20, 2017 at 09:18AM", "created_by": "Greg_Ward", "parent_id": "radiance-general_012038", "id": "radiance-general_012039"}