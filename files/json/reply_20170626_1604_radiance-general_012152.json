{"body": "Hi Kera,\n\n\nLamp color settings in ies2rad are admittedly odd.  What you probably want to use is something like:\n\n\n\ties2rad -df -m 0.88 -t default -c my_red my_green my_blue\n\n\nThe red, green and blue values will be multiplied by the 0.88 factor, so I guess you want the RGB to normalize to 1.0.  To get these from CIE (x,y) chromaticities, you can use rcalc like so:\n\n\n\trcalc -n -e \"ix=...;iy=...;\" -f xyz_rgb.cal  -e \"Xi=ix/iy;Yi=1;Zi=(1-ix-iy)/iy\" -e \"$1=R(Xi,Yi,Zi);$2=G(Xi,Yi,Zi);$3=B(Xi,Yi,Zi)\"\n\n\nThe file \"xyz_rgb.cal\" is in the standard distribution in src/cal/cal/, along with other files like it.  Put your desired (x,y) coordinates in the first setting, e.g., -e \"ix=0.3153;iy=0.3417\".  (On Unix, replace the double-quotes with single-quotes above.)\n\n\nAlternatively, you can edit the \"lamp.tab\" file or make your own, adding a line near the top for your particular source:\n\n\n/my special LED/\t\t0.3153 0.3417 0.88\n\n\nTo use this in your command, you need to enclose the argument in quotes, so it doesn't think the arguments after the first one are input files, e.g.:\n\n\n\ties2rad -f my_lamps.tab -t \"my special LED\" ...\n\n\nAlthough I caution strongly against it for LED sources, you can also compute CIE (x,y) from black body temp using:\n\n\n\trcalc -f blackbody.cal -e T=2700 -e \"$1=cct_x(T);$2=cct_y(T)\"\n\n\nThe reason I don't recommend this for non-tungsten source is that they almost never match a black body spectrum, and their actual chromaticity will therefore disagree with their claimed CCT.\n\n\nCheers,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2017-June/012152.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "June 26, 2017 at 04:04PM", "created_by": "Greg_Ward", "parent_id": "radiance-general_012151", "id": "radiance-general_012152"}