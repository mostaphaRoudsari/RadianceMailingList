{"body": "It sounds like you want to be able to specify a list of points and orientations at which to compute this uniform (non-cosine) average.  In other words, replacing the -I option in rtrace with something that computes a uniform hemispherical integral.\n\n\nYou could take the first part of your command to generate the points and normals.  Then, call  rsensor in a loop like so:\n\n\nvwrays -fa refs/L2.hdr refs/L2.zbf | rcalc -of -e '$1=$1;$2=$2;$3=$3+2.5;$4=0;$5=0;$6=if($3-1,1,0)' > orig_dir.txt\nforeach orig_dir ( \" `cat orig_dir.txt` \" )\n\trsensor -n 8 [rtrace options] [-rd $N1] [-dn $N2] -vp $orig_dir[1-3] -vd $orig_dir[4-6] uniform.dat test.oct >> results.txt\nend\n\n\n(I apologize that I don't know the bash syntax for the loop.  I never really understood bash.)\n\n\nIf you really, really want to use rtrace, you can instead use the above loop with \".\" in place of the octree to create a really long list of ray samples, which you can give to rtrace and send it's output again to total using an option to average every N values.  The result would be about the same, though rsensor is more accurate/efficient because of the separate source sampling, which you can control with the -dn option.\n\n\nCheers,\n-Greg\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2017-June/012161.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "June 30, 2017 at 05:29PM", "created_by": "Greg_Ward", "parent_id": "radiance-general_012154", "id": "radiance-general_012161"}