{"body": "Hi Stephen,\n\n\nGood question.  Short answer, you can't use A* variables in constant expressions as they need to call the underlying arg(i) function to update the parameter values for the particular modifier context.  Since .cal files can be shared between modifiers, there really was no other way to do this.\n\n\nIt also doesn't make much difference in terms of performance, because values still get \"cached\" at each variable definition.  If you have a complicated expression, just define a variable for it, then multiple uses will share the same evaluation.\n\n\nAlso, minor point, but \"A3*A3\" may be slightly faster than \"A3^2\", which calls pow().  There is a constant function \"sq(x):x*x\" defined for this reason in rayinit.cal.\n\n\nWhile I'm on the subject, note that a constant function is not the same as a constant setting.  It only means that the value of the function depends solely on its arguments, not any transient variable settings in the current evaluation context.\n\n\nMost of this stuff is explained or at least alluded to in Chapter 4 of \"Rendering with Radiance\" and the supplemental PDF (filefmts.pdf).\n\n\nBest,\n-Greg\n\n\nP.S.  Were you one of the requestors that the \"-s\" option to falsecolor assign the largest value in the legend?  I just checked that into the CVS head.\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2017-September/012251.html).</sup>", "attachments": [], "created_by_name": "Greg Ward", "created_at": "September 05, 2017 at 06:40PM", "created_by": "Greg_Ward", "parent_id": "radiance-general_012250", "id": "radiance-general_012251"}