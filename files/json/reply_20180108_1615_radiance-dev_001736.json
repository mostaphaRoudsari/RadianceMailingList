{"body": "A closer check revealed:\n\n\nCmake simply ignores the ooc stuff alltogether\n\n\nThe Rmakefile builds object files from all the oocxxx.c files,\nbut not for pmapooc.c.\n\n\nAnd finally in the sources, I found why:\npmapdata.c #includes pmapooc.c (or alternatively pmapkdt.c), depending\non -DPMAP_OOC.\nNo provisions to actually set the latter, though.\n\n\nbut that's an easy enough excercise...\nAfter a bit of digging about which files actually need that define,\nThe SCons build now supports OOC for Pmap, with a configuration option\naptly named - PMAP_OOC.\nIt is enabled by default on unixoid systems and unavailable on Windows.\n\n\nThe latter is because the code actively refuses to build on Windows.\n@Roland\n   Are you still hibernating?\n   Are there technically difficult reasons for this, or did you just\n   not get around to fixing and testing it on Windows yet?\n   At a quick glance through the code I didn't notice any particularly\n   platform dependent stuff, but of course I may have missed something.\n\n\n\n\n-schorsch\n\n\n\n\nAm 2018-01-08 16:03, schrieb Guglielmetti, Robert:\n> Hi Georg! Long time. We are about done with a re-write of the Cmake\n> build system as well, which allows us to do automated build/test/CI on\n> our GitHub mirror of the Radiance CVS repo. Exciting times!\n> \n> There was some shuffling around of the pmap includes. It\u2019s been\n> building for us on Windows since late summer 2017, I\u2019ll have to look\n> and see what we are doing, unless Roland/Greg know offhand.\n> \n> - Rob\n> \n> On 1/8/18, 6:44 AM, \"Georg Mischler\" <schorsch at schorsch.com> wrote:\n> \n>     Hello everybody,\n> \n>     As it is starting to turn into a new year's tradition, I've just\n>     updated the SCons build system once again.\n> \n>     Good news 1:\n>     With Scons 3.1 (probably since 3.0), despite what the documentation\n>     says, it works very nicely with Python 3.x (3.6 in my case).\n>     After some adaptions from my side, this means that all the Python\n>     code in the Radiance distribution is now compatible with both\n>     Python 2.7 and 3.x.\n> \n>     Good news 2:\n>     Microsoft has fixed their Universal CRT (didn't check in which \n> version).\n>     This means that the line-end-eating bug in pipes is gone, and we \n> can\n>     reliably build Radiance with the current Visual Studio tools again.\n>     I have now completely switched to VS 2017 myself.\n> \n>     Open Issue:\n>     There's a buch of code relating to \"out of core octree\" building\n>     for Pmap. Most of this compiles fine, except for pmapooc.c, which\n>     is missing some header file includes. Unfortunately, that seems to\n>     be the central cornerstone binding all the others together...\n>     @Roland:\n>       Can you share some insight whether this is supposed to be \n> working,\n>       or still a work in progress that I should ignore for the moment?\n>       Or alternatively, am I doing anything wrong for making it work?\n> \n> \n>     Cheers\n>     -schorsc\n> \n> \n>     --\n>     Georg Mischler  --  simulations developer  --  schorsch at schorsch \n> com\n>     +schorsch.com+  --  lighting design tools  --\n> https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.schorsch.com%2F&data=02%7C01%7Crobert.guglielmetti%40nrel.gov%7C1a1e1bdd09444585300608d5569dee6e%7Ca0f29d7e28cd4f5484427885aee7c080%7C0%7C0%7C636510158689605858&sdata=J%2FOY2UqprWww8V0qGdXHRiZ6SurpnVIwzQqHYzc5x1E%3D&reserved=0\n> \n>     _______________________________________________\n>     Radiance-dev mailing list\n>     Radiance-dev at radiance-online.org\n> \n> https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.radiance-online.org%2Fmailman%2Flistinfo%2Fradiance-dev&data=02%7C01%7Crobert.guglielmetti%40nrel.gov%7C1a1e1bdd09444585300608d5569dee6e%7Ca0f29d7e28cd4f5484427885aee7c080%7C0%7C0%7C636510158689605858&sdata=UcMlmf4VOdZ%2FP3anQu%2F%2BJ7BY%2Bts7%2FYZYwdk0vmmbo78%3D&reserved=0\n> \n> \n> _______________________________________________\n> Radiance-dev mailing list\n> Radiance-dev at radiance-online.org\n> https://www.radiance-online.org/mailman/listinfo/radiance-dev\n\n\n\n\nGeorg Mischler  --  simulations developer  --  schorsch at schorsch com\n+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2018-January/001736.html).</sup>", "attachments": [], "created_by_name": "Georg Mischler", "created_at": "January 08, 2018 at 04:15PM", "created_by": "Georg_Mischler", "parent_id": "radiance-dev_001734", "id": "radiance-dev_001736"}