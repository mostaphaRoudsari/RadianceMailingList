{"topic": "Compilation on Solaris 8 SPARC", "category": "radiance-general", "attachments": [], "created_by_name": "Len Laughridge", "created_at": "June 04, 2002 at 05:59PM", "body": "Hello:\n\n\nI'm having difficulty getting Radiance complied on Solaris 8. (Note:  I \nsuccessfully compiled and generated test images on SuSE Linux 8.0)\n\n\nThe system is an Enterprise250, 2x400MHz processors with 1GB RAM and gigs of \navailable storage.  It's running Solaris 8, 07/01 Release, with the latest \n8_Recommended patch cluster (Kernel version: SunOS 5.8 Generic 108528-14 \nFebruary 2002)\n\n\nI have all GNU tools from the Solaris Companion CD installed, (gcc & gmake).\n\n\nI have tried running ./makeall install two different ways without success, \nand I've tried each way using both the default directories (/usr/local/....) \nand my preferred directories (/usr/local/radiance/bin  \n/usr/local/radiance/lib)\n\n\n\n\n1.  Using the Solaris cc and make, virtually nothing works.  I get the \n'language optional package not installed' error on pretty much every instance \nof cc being invoked.  I decided that it was probably better to pursue the GNU \nroute, so...\n\n\n2.  Using gcc and gmake, my rmake file is as follows:\n\n\n#!/bin/sh\nexec gmake \"SPECIAL=ogl\" \\\n        \"OPT=-O -DSPEED=80\" \\\n        \"MACH=-DALIGN=double -I/usr/openwin/include -L/usr/openwin/lib \n-DNOSTEREO\n-DDCL_ATOF -DBIGMEM\" \\\n        ARCH=sun \"COMPAT=bmalloc.o strcmp.o getpagesize.o\" \\\n        INSTDIR=/usr/local/radiance/bin \\\n        LIBDIR=/usr/local/radiance/lib \\\n        CC=gcc \"$@\" -f Rmakefile\n\n\n...and I've set $RAYPATH to .:/usr/local/radiance/lib  all to no avail.  Some \nthings compile and install, but I get at least one instance of the following:\n\n\nerror.c:37: `sys_nerr' undeclared (first use in this function)\nerror.c:37: (Each undeclared identifier is reported only once\nerror.c:37: for each function it appears in.)\nerror.c:38: `sys_errlist' undeclared (first use in this function)\ngmake: *** [error.o] Error 1\n\n\n\n\n\n\n...and  more importantly, pretty much all of the applications fail in the \nfollowing manner:\n\n\ngcc -I../common -L../lib -O -DSPEED=80 -DALIGN=double -I/usr/openwin/include \n-L/usr/openwin/lib -DNOSTEREO -DDCL_ATOF -DBIGMEM   -c -o psign.o psign.c\ngcc -I../common -L../lib -O -DSPEED=80 -DALIGN=double -I/usr/openwin/include \n-L/usr/openwin/lib -DNOSTEREO -DDCL_ATOF -DBIGMEM -o psign psign.o -lrt -lm\nUndefined                       first referenced\n symbol                             in file\nfputformat                          psign.o\nbmalloc                             psign.o\nuniftext                            psign.o\nprintargs                           psign.o\nsetcolr                             psign.o\nnewheader                           psign.o\nproptext                            psign.o\nerror                               psign.o\nfwritecolrs                         psign.o\ngetfont                             psign.o\nsqueeztext                          psign.o\nld: fatal: Symbol referencing errors. No output written to psign\ncollect2: ld returned 1 exit status\ngmake: *** [psign] Error 1\n\n\n\n\n\n\ngmake: *** [rhinfo] Error 1\ngcc -I../common -L../lib -O -DSPEED=80 -DALIGN=double -I/usr/openwin/include \n-L/usr/openwin/lib -DNOSTEREO -DDCL_ATOF -DBIGMEM   -c -o rhdisp.o rhdisp.c\nrhdisp.c: In function `disp_wait':\nrhdisp.c:168: structure has no member named `_IO_read_end'\nrhdisp.c:168: structure has no member named `_IO_read_ptr'\nrhdisp.c:170: structure has no member named `_IO_read_end'\nrhdisp.c:170: structure has no member named `_IO_read_ptr'\ngmake: *** [rhdisp.o] Error 1\n\n\n\n\n\n\n\n\nSo at the end it says, in either irony or understatement 'There were some \nerrors'.\n\n\n\n\nI read Greg's posting about the libtiff issues with compiling on Solaris 8. \nFollowing those instructions allows me to get the px stuff compiled, but the \nrest of the program is my biggest headache right now.\n\n\nAm I going down the wrong path by using gcc & gmake?\nWhat else do I need to do to make this work?  I desperately need to make this \nwork in the next few days so that I can test the other elements of the system \nand meet my deadline (Radfront, ArrisCAD integration, rendering throught the \nSun Grid Engine on 30 SunBlade 100 workstations).\n\n\nThanks in advance for any assistance.  I'm looking forward to making a bunch \nof architects very, very happy....\n\n\n\n\n\n\nLen Laughridge\nDirector of Information Technology\nKitchen & Associates Architectural Services, PA\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2002-June/000280.html).</sup>", "id": "radiance-general_000280", "created_by": "Len_Laughridge"}