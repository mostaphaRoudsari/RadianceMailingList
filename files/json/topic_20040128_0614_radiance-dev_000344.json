{"topic": "Compiling Radiance with Scons under windows", "category": "radiance-dev", "attachments": [], "created_by_name": "Sabine Wolf", "created_at": "January 28, 2004 at 06:14AM", "body": "This is a multi-part message in MIME format.\n\n\n------=_NextPart_000_0031_01C3E566.089DCC90\nContent-Type: text/plain;\n\tcharset=\"iso-8859-1\"\nContent-Transfer-Encoding: quoted-printable\n\n\nHi,\n\n\nafter a long time of absence I'm very happy to see Radiance is still =\nalive with a lot of people pushing Radiance forward together with Greg =\nhimself, implementing things like photons maps, meshes etc. :-) =20\nToday I tried to compile Radiance under windows. I installed mingw and =\nmsys to have the basic unix-like tools, a shell, gcc and such things (a =\nsimilar thing as cygwin). But I d=F6n't know, what kind of shell msys =\nuses, the makeall-script failed with things like \"foreach\". So I tried =\nthe Python-way and installed Scons. Scons detected a win32-system, so I =\nput my settings for gcc into the win32.cfg-file. The first  call of gcc =\ngives me the following error:\n\n\ngcc -O2 -Dfreebsd -DHDSUF=3D.exe -Isrc\\common -c -o src\\meta\\meta2tga.o =\nsrc\\meta\\meta2tga.c\nIn file included from f:/MinGW/include/process.h:36,\n                 from src/common/rtprocess.h:16,\n                 from src/meta/meta2tga.c:10:\nf:/MinGW/include/sys/types.h:90: conflicting types for `pid_t'\nsrc/common/rtprocess.h:15: previous declaration of `pid_t'\n\n\nScons sets the _WIN32 flag, in rtprocess.h pid_t is declared as DWORD:\n\n\n#ifdef _WIN32\n  #include <windows.h> /* DWORD etc. */\n  #include <stdio.h>\n  typedef DWORD pid_t;\n\n\nIn types.h pid_t is declared as int:\n\n\nifndef _PID_T_\n#define _PID_T_\ntypedef int _pid_t;\n\n\n#ifndef _NO_OLDNAMES\ntypedef _pid_t pid_t;\n#endif\n#endif /* Not _PID_T_ */\n\n\nHow can I tell Scons my system is not really win32, rather a *nix-like =\nthing to prevent such conflicts?=20\nOr is there a free one true win32-compiler I can use together with =\nScons?=20\n\n\nTschau,\n  Sabine\n\n\n\n\n\n\n\n\n------=_NextPart_000_0031_01C3E566.089DCC90\nContent-Type: text/html;\n\tcharset=\"iso-8859-1\"\nContent-Transfer-Encoding: quoted-printable\n\n\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<HTML><HEAD>\n<META http-equiv=3DContent-Type content=3D\"text/html; =\ncharset=3Diso-8859-1\">\n<META content=3D\"MSHTML 6.00.2600.0\" name=3DGENERATOR>\n<STYLE></STYLE>\n</HEAD>\n<BODY bgColor=3D#ffffff>\n<DIV><FONT face=3DArial size=3D2>Hi,</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>after a long time of absence I'm very =\nhappy to see=20\nRadiance is still alive&nbsp;with a lot of people&nbsp;pushing Radiance=20\nforward&nbsp;together with Greg himself, implementing&nbsp;things like =\nphotons=20\nmaps, meshes etc.&nbsp;:-) &nbsp;</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2>Today I tried to compile =\nRadiance&nbsp;under=20\nwindows. I installed mingw and msys to have the basic unix-like tools, a =\nshell,=20\ngcc and such things (a similar thing&nbsp;as cygwin). But I d=F6n't =\nknow, what=20\nkind of shell msys uses, the makeall-script failed with things like =\n\"foreach\".=20\nSo I tried the Python-way and installed Scons. Scons detected a =\nwin32-system, so=20\nI put my settings for gcc into the win32.cfg-file. The first &nbsp;call =\nof gcc=20\ngives me the following error:</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>gcc -O2 -Dfreebsd -DHDSUF=3D.exe =\n-Isrc\\common -c -o=20\nsrc\\meta\\meta2tga.o src\\meta\\meta2tga.c<BR>In file included from=20\nf:/MinGW/include/process.h:36,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20\nfrom=20\nsrc/common/rtprocess.h:16,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20\nfrom src/meta/meta2tga.c:10:<BR>f:/MinGW/include/sys/types.h:90: =\nconflicting=20\ntypes for `pid_t'<BR>src/common/rtprocess.h:15: previous declaration of=20\n`pid_t'</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>Scons sets the _WIN32 flag, in =\nrtprocess.h pid_t is=20\ndeclared as DWORD:</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>#</FONT><FONT face=3DArial =\nsize=3D2>ifdef=20\n_WIN32<BR>&nbsp; #include &lt;windows.h&gt; /* DWORD etc. */<BR>&nbsp; =\n#include=20\n&lt;stdio.h&gt;<BR>&nbsp; typedef DWORD pid_t;</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>In types.h pid_t is declared as =\nint:</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>ifndef =\n_PID_T_<BR>#define&nbsp;_PID_T_<BR>typedef=20\nint&nbsp;_pid_t;</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>#ifndef&nbsp;_NO_OLDNAMES<BR>typedef=20\n_pid_t&nbsp;pid_t;<BR>#endif<BR>#endif&nbsp;/* Not _PID_T_ =\n*/<BR></FONT></DIV>\n<DIV><FONT face=3DArial size=3D2>How can I&nbsp;tell&nbsp;Scons my =\nsystem is not=20\nreally win32, rather a *nix-like thing to prevent such conflicts? =\n</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2>Or is there a free one&nbsp;true =\nwin32-compiler I=20\ncan use together with Scons? </FONT></DIV>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>Tschau,</FONT></DIV>\n<DIV><FONT face=3DArial size=3D2>&nbsp; Sabine</FONT></DIV>\n<DIV>&nbsp;</DIV>\n<DIV><FONT face=3DArial size=3D2>&nbsp;</DIV></FONT>\n<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV></BODY></HTML>\n\n\n------=_NextPart_000_0031_01C3E566.089DCC90--\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2004-January/000344.html).</sup>", "id": "radiance-dev_000344", "created_by": "Sabine_Wolf"}