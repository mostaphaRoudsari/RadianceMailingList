{"topic": "Fast Fourier Transform of PIC images", "category": "radiance-dev", "attachments": [], "created_by_name": "Tonko Juricic", "created_at": "October 06, 2004 at 03:29PM", "body": "Read this only if you are interested in Fast Fourier\nTransform of Radiance images.\n\n\nI got the latest version 3.0.1 of FFTW (www.fftw.org)\nto compile under Visual C++ 7.1, both with and without\nSIMD (SSE in my case) optimizations.\n\n\nThen I linked the resulting libray with the new\nprogram ra_fftw which behaves pretty much like\nstandard image decoder programs. FFT of Radiance PIC\nfile is another file with Radiance image header. It\ncontains binary dump of float values for both real and\nimaginary parts of FFT laid aout like this:\n\n\nReal part RED scanline #1\nReal part GREEN scanline #1\nReal part BLUE scanline #1\n\n\n...\n\n\nReal part RED scanline #height\nReal part GREEN scanline #height\nReal part BLUE scanline #height\nImaginary part RED scanline #1\nImaginary part GREEN scanline #1\nImaginary part BLUE scanline #1\n\n\n...\n\n\nImaginary part RED scanline #height\nImaginary part GREEN scanline #height\nImaginary part BLUE scanline #height\n\n\nInvoking ra_fftw with -r option produces Radiance PIC\nafter applying inverse FFT to the file in the format\ngiven above. That is how I verified that code actually\nworks.\n\n\nI will probably add options for different output\nlayouts and plus options for producing PIC from FFT\nfile (like PIC only of real or imaginary part or PIC\nfor Re^2+Im^2).\n\n\nAfter few more tests I will put the code with examples\non the Web site that I am currently working on. You\nare welcome to suggest changes and additions to nay of\nabove at this stage.\n\n\nNow for the bad news. While FFTW library compiles with\nSIMD enabled, it does not produce correct results.\nAttempting to trace the cause I am now almost certain\nthat problem is caused by x86 stack alignment (which\ndefaults to 4 bytes when using MS VC++) which should\nbe forced to 8 bytes with SSE support enabled.\nUnfortunately, even if www.fftw.org invites comments\nabout these problems and new ports, they never\nresponded to my emails. In fact, they still offer old\n(and IMO pretty useless) MSVC project files for\ndownload on their site (big thanks to Francois, Joe\nBlow and who knows who geek kids for doing nothing >-(\n).\n\n\nTony\n\n\n__________________________________________________\nDo You Yahoo!?\nTired of spam?  Yahoo! Mail has the best spam protection around \nhttp://mail.yahoo.com\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2004-October/000428.html).</sup>", "id": "radiance-dev_000428", "created_by": "Tonko_Juricic"}