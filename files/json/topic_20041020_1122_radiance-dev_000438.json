{"topic": "Compiling problems", "category": "radiance-dev", "attachments": [], "created_by_name": "Marija", "created_at": "October 20, 2004 at 11:22AM", "body": "Hi,\nI'm trying to make some kind of Material editor, which will be used to \npreview materials in the early phase of design, before the final scene is \ncomposed. For that purpose I need to parse text file with material \ndescriptions, to find out which materials are defined.\n\n\n My idea is to use some of existing Radiance functions for parsing. I found \nthat void readobj(char*) [readobj.c] could be useful for this. And finally \nthere is a question:\n\n\nExample of a code:\nfile: parser.c\n\n\n#include \"standard.h\"\n#include \"object.h\"\n\n\nvoid parse(char* name)\n{\n   readobj(name);\n}\n\n\nfile: makefile\n\n\nRAD=/home/marija/ray/src/common\nLRAD==/home/marija/ray/src/lib\nCCOPTS=-O\n\n\nparser: parser.c\n cc $(CCOPTS) -I$(RAD) -o parser parser.c -L$(LRAD) -lrt -lm\n_____________________________________________\nWhen I try to make it, I get next error massages:\n\n\ncc -O -I/home/marija/ray/src/common -o parser \nparser.c -L=/home/marija/ray/src/lib  -lrt -lm\n/home/marija/ray/src/lib/librt.a(otypes.o)(.text+0x17): In function `otype':\n: undefined reference to `ofun'\n/home/marija/ray/src/lib/librt.a(otypes.o)(.text+0x61): In function \n`objerror':\n: undefined reference to `ofun'\n/home/marija/ray/src/lib/librt.a(modobject.o)(.text+0xb9): In function \n`lastmod':\n: undefined reference to `ofun'\n/home/marija/ray/src/lib/librt.a(modobject.o)(.text+0x144): In function \n`insertobject':\n: undefined reference to `ofun'\n/home/marija/ray/src/lib/librt.a(readoct.o)(.text+0x55e): In function \n`nonsurfinset':\n: undefined reference to `ofun'\n/home/marija/ray/src/lib/librt.a(mesh.o)(.text+0xe64): more undefined \nreferences to `ofun' follow\ncollect2: ld returned 1 exit status\nmake: *** [parser] Error 1\n\n\n___________________________________________________________________\nMy first idea was that I am doing something wrong, but when I tried to call \nsome other functions that don't use \"ofun\" table, program is compiled \nwithout problems.\n\n\nCould somebody, please, tell me what is the problem here, because I am \ntrying to solve it for a week, without results.\n\n\nRegards,\nMarija.\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2004-October/000438.html).</sup>", "id": "radiance-dev_000438", "created_by": "Marija"}