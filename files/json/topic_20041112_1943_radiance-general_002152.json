{"topic": "Using vwright/rcalc to do -pj", "category": "radiance-general", "attachments": [], "created_by_name": "Mark Stock", "created_at": "November 12, 2004 at 07:43PM", "body": "In my toying around with pixel-wise depth-of-field blur, I am\nencountering a need for pixel jitter. I want to run\n\n\nvwrays -fd -vf tempvf -x 740 -y 480 | rcalc -id6\n  -e `vwright i < tempvf`\n  [expressions to modify $1..$6, the ray origin and direction]\n  -od | rtrace -fdc -x 740 -y 480 @opts scene.oct > img.pic\n\n\nbut there is no facility to incorporate pixel jitter, as defined\nin rpict(1), save the use of the variables returned by vwright:\n\n\n\n\n       Nt:  view type ('v'==1,'l'==2,'a'==3,'h'==4,'c'==5)\n       Npx: view point x value\n       Npy: view point y value\n       Npz: view point z value\n       Ndx: view direction x value (normalized)\n       Ndy: view direction y value (normalized)\n       Ndz: view direction z value (normalized)\n       Nux: view up vector x value (normalized)\n       Nuy: view up vector y value (normalized)\n       Nuz: view up vector z value (normalized)\n       Nh:  view horizontal size\n       Nv:  view vertical size\n       Ns:  view shift\n       Nl:  view lift\n       No:  view fore clipping distance\n       Na:  view aft clipping distance\n       Nhx: derived horizontal image vector x value (normalized)\n       Nhy: derived horizontal image vector y value (normalized)\n       Nhz: derived horizontal image vector z value (normalized)\n       Nhn: derived horizontal image vector multiplier\n       Nvx: derived vertical image vector x value (normalized)\n       Nvy: derived vertical image vector y value (normalized)\n       Nvz: derived vertical image vector z value (normalized)\n       Nvn: derived vertical image vector multiplier\n\n\n\n\nMy question is: how do I use these variables to incorporate pixel\njitter into these renderings? I do not know how to scale the\nNhx,Nhy,Nhz and Nvx,Nvy,Nvz vectors to jitter over one pixel's\nwidth. Do I multiply by Nh,Nv and divide by 740 and 480,\nrespectively? Or does it depend on the view type?\n\n\nMark\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2004-November/002152.html).</sup>", "id": "radiance-general_002152", "created_by": "Mark_Stock"}