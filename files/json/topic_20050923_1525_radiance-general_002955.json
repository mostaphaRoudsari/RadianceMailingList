{"topic": "rtcontrib & daylight coefficients", "category": "radiance-general", "attachments": [], "created_by_name": "Iain Macdonald", "created_at": "September 23, 2005 at 03:25PM", "body": "Hi all,\n\n\nI'm trying to get my head around calculating daylight coefficients with \nrtcontrib and then how to use them!\n\n\nMy observations/questions so far:\n\n\n1) the tregenza cal files (one is mentioned in the man page) were not \nautomatically installed for me using the latest release on linux \n(rad3R7P2all.tar.gz).\n\n\n2) Using the example in the man page I calculated a set of daylight \ncoefficients:\nrtcontrib -I+ -b tbin -o sky.dat -m sky_glow -b 0 -o ground.dat -m \nground_glow -ad 10000 -as 5000 -ab 1 -f tregenza.cal test.oct < test.dat\nThis results in two files sky.dat and ground.dat\nIn ground.dat there is one set of coefficients\nIn sky.dat there are 146 sets\nI expected 145 in the sky file.  My belief is that the first set is for \nsolar elevations < 0deg and can be ignored (and will always be equal to \nzero?) - am I correct?\n\n\n3) Some strange behaviour has been observed with different sets of input \npoints.  I'm assuming that as with rtrace the input points are given as \n6 numbers representing x,y,z of the sample point and i,j,k representing \nthe normal.  Given this if the first point has a normal pointing to the \nzenith (say 1 1 6 0 0 1) then I get 146 sets for all points.  If the \nnormal faces another direction I'm getting different problems:\n 137 sets (1 1 6 0 -1 0)\n 139 sets (1 1 6 1 0 0)\n rtcontrib crashes (1 1 6 0 1 0) - rtcontrib: Bad expression! rtrace: \nsignal - Broken pipe.\nand strangely enough if these points & normals are given after one that \nworks all is OK.  Something odd is going on - can anyone shed some light \non this for me please?\n\n\nregards,\n\n\nIain\n\n\n\n\n****************************\nDr Iain A Macdonald\nEnergy Systems Research Unit\nUniversity of Strathclyde\nGlasgow, UK\n+44 141 548 3747\nhttp://www.esru.strath.ac.uk\n****************************\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2005-September/002955.html).</sup>", "id": "radiance-general_002955", "created_by": "Iain_Macdonald"}