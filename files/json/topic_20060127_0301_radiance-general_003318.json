{"topic": "Trans material and photon map", "category": "radiance-general", "attachments": [], "created_by_name": "Erico Rosa", "created_at": "January 27, 2006 at 03:01AM", "body": "Hi folks,\n\n\nI have built a scene where a 5.6m tall cylinder is piping sunlight\n(solar altitude: 80) inside a 5-meter radius sphere (bubble). The tube's\norigin is in the center of the sphere and it ends at the top of the\nsphere. I have set the rtrace measurement points inside the sphere at\nevery 10 degrees (180 total), so I can transform that in an IES file\nlater on. The rtrace (and rpict) of the photon-mapping is running fine\nshowing the specular reflection on the bottom of the sphere.\n\n\nAs a next step, I added a \"diffuser\" at the origin of the cylinder,\ninside the sphere, using a \"trans\" material for an isotropic\ndistribution. The readings I get now show the same illuminance value for\nevery measurement point. This is the script:\n\n\noconv sky.rad scene.rad ports.rad > pipe80.oct\n\n\n\n\noconv -i pipe80.oct > i_pipe80.oct\n\n\n\n\nmkpmap -app pipe80.gpm 1000000 100 -t 60 -apc pipe80.cpm 1000000 -apO\n./ports i_pipe80.oct\n\n\nrtrace -w -h -I -ab 1 -ad 16384 -aa 0.01 -ar 512 -app pipe80.gpm -apc\npipe80.cpm 100 -e errors.rad i_pipe80.oct < points.inp | rcalc -f\nrcalc.rad > data.dat\n\n\n\n\nThe total luminous flux reaching the diffuser is bouncing from the\ncylinder. Is it a problem between the parameters and \"trans\", with the\npmap and \"trans\" or something else?\nErico\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2006-January/003318.html).</sup>", "id": "radiance-general_003318", "created_by": "Erico_Rosa"}