{"topic": "Rtcontrib with ies2rad", "category": "radiance-general", "attachments": [], "created_by_name": "Andy McNeil", "created_at": "May 23, 2006 at 02:44PM", "body": "Hi everyone,\n\n\n\n\n\n\nI've finally gotten around to using rtcontrib and am having a little\ndifficulty.  I have 5 rows of luminaires and am trying to calculate the\nilluminance contribution from each row of luminaires to a grid point.\nTo test my model, I am first calculating only the direct component from\nthe luminaires to the points.\n\n\n\n\n\n\nThe command I'm using is as follows:\n\n\n\n\n\n\nrtcontrib -I+ -ab 0 -o out.dat -m y_down1_light -m y_down2_light ...\nmodel.oct < grid.pts\n\n\n\n\n\n\nI've pasted the luminaire file for the first row of luminaires at the\nend of this email for reference.  \n\n\n\n\n\n\nI expected that the sum of the rtcontrib output values would be the same\nas he output from a straight rtrace calculation.  What I got when I\nsummed the rtcontrib output was 3% of the rtrace calculation ( 18 vs 530\n).  After some experimentation, I found that I get the same value (18)\nwith rtrace if I remove the brightdata modifier from the light primitive\n(replacing \"y_down1_dist\" with \"void\" in the luminaire file).  So I\nfigured I must have been using the wrong modifier in my rtcontrib\ncommand.  But, when I tried other modifiers (y_down1_dist and y_down1.d)\nrtcontrib returned zeros.\n\n\n\n\n\n\nSo to finally get to the point, what is the correct modifier to use in\nrtcontrib to get the illuminance contributions WITH the brightdata\nphotometry?  Or maybe there is something else I'm doing wrong?\n\n\n\n\n\n\nCheers,\n\n\nAndrew\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLuminaire rad file for the first row (from ies2rad):\n\n\n#################################################\n\n\nvoid brightdata y_down1_dist\n\n\n5 flatcorr y_down1.dat source.cal src_phi4 src_theta \n\n\n0\n\n\n1 6.52358\n\n\n\n\n\n\ny_down1_dist light y_down1_light\n\n\n0\n\n\n0\n\n\n3 1 1 1\n\n\n\n\n\n\ny_down1_light polygon y_down1.d\n\n\n0\n\n\n0\n\n\n12\n\n\n      -24   -1.98 -0.00984252\n\n\n      -24   1.98  -0.00984252\n\n\n      24    1.98  -0.00984252\n\n\n      24    -1.98 -0.00984252\n\n\n\n\n\n\ny_down1_light polygon y_down1.u\n\n\n0\n\n\n0\n\n\n12\n\n\n      -24   -1.98 0.00984252\n\n\n      24    -1.98 0.00984252\n\n\n      24    1.98  0.00984252\n\n\n      -24   1.98  0.00984252\n\n\n\n\n\n\n\n\n\n\n____________________________________________________________\nElectronic mail messages entering and leaving Arup  business\nsystems are scanned for acceptability of content and viruses\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2006-May/003710.html).</sup>", "id": "radiance-general_003710", "created_by": "Andy_McNeil"}