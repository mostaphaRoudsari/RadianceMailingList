{"topic": "Ambient exclude transfomed material in instances", "category": "radiance-general", "attachments": [], "created_by_name": "Iebele Abel", "created_at": "April 02, 2007 at 06:08PM", "body": "Hi,\n\n\nI have a complex scene in which I use instances which I want to exclude \nfrom ambient calculation.\n\n\nThe problem is that I use !xform  ..... with file A that include \nmaterials to create another file B  that is later used as an instance.\nI need the materials in file A excluded from ambient calculation.\nThe exclusion does not seem to work in my case, which makes the \nrendering times enormous ( lightyear - 0.01 % progress per hour in the \npicturel, very very much rays )\n\n\nAny help is most  welcome.\n\n\n-Iebele\n\n\n\n\n\n\n\n\nThis is how I build up the scene:\n\n\n\n\n*File \n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/blad.rad \ncontains:*\n\n\n\n\n## A single leaf\n#\n# images must be included in this file, needs transform too (in xform)\n#\n\n\n# IMAGE\nvoid  colorpict AL05lef_color.pic.0.map\n19 red green blue\n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/AL05lef_color.pic\n/disk12/materials/picture.cal\ntile_u tile_v\n-s 1.0 -rx  0 -ry  0 -rz 0 -t  -0.5 0 0\n0 1 1.13149171\n\n\n# MATERIAL\nAL05lef_color.pic.0.map plastic  AL05lef_color.pic.0.col\n0 0 5\n2 2 2\n0.0 0\n\n\n# Mixture\nvoid mixpict AL05lef_color.pic.0.trans\n19 AL05lef_color.pic.0.col  void green\n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/AL05lef_alpha.pic\n/disk12/materials/picture.cal\npic_u pic_v\n-s 1 -rx  0 -ry  0 -rz 0 -t -0.5 0 0\n0 1 1.13149171\n\n\n# The leaf\nAL05lef_color.pic.0.trans polygon AL05lef_color.pic.0.polygon\n0 0 12\n-0.5  0 0\n0.5 0 0\n0.5 0 1.13149171\n-0.5  0 1.13149171\n\n\n\n\n*file AL05m.raw (leaves of a tree) contains many  lines like:*\n\n\n!xform -rx 60.095138 -ry 47.844579 -rz 7.070462 -s 0.200000 -t -0.322761 \n0.124242 14.044600 \n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/blad.rad\n\n\n\n\n\n\n\n\n*The octree of the tree (AL05m.raw) and the leaves **is build like:*\n\n\noconv -w- -f  \n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/blad.rad     \n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/AL05m.mat \n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/AL05m.raw \n > AL05m.oct\n\n\n*\nFile bomen.rad contains lines like:\n\n\n*# boom plein_gevel\nvoid instance boom_plein_gevel\n9\n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/AL05m.oct\n-s .9\n-rz 56.018930\n-t -6.509 93.251  -2.6\n0\n0\n*\nThe scene is compiled like:*\n\n\noconv -w-  sky.rad   otherstuff.raw bomen.raw   > model.oct\n\n\n\n\n*File \n/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/AL05m.ae \ncontains the line:*\n\n\n -ae AL05m.dxf_Default -ae  AL05m.dxf_bark_col -ae  \nAL05m.dxf_bark_col_leaf_a -ae AL05m.dxf_bark_col_roots1 -ae \nAL05m.dxf_leaf_col_leaf2 -ae AL05m.dxf_leaf_col -ae  \nAL05lef_color.pic.0.col -ae AL05lef_color.pic.0.trans\n\n\n*The scene is rendered like:\n\n\n*rpict -x 16000 -y 16000  -lr 4  -t 300 -ab 4 -st 0.01 -ar 128  -dp 512 \n-dr 3 -dc .5 -dt .05 -ds .15 -aa .15 -ar 128 -ad 512 -as 256 -av 3 3 3  \n-vf hermitage17.vp  \n@/disk12/Bilbliotheek/Xfrog/AL05_Aesculus_hippocastanum_Horse_Chestnut/AL05m.ae \nmodel.oct   | pfilt -1 -x 4000 -y 4000  > hermitage17.pic*\n*\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2007-April/004260.html).</sup>", "id": "radiance-general_004260", "created_by": "Iebele_Abel"}