{"topic": "rtrace: -ospec options", "category": "radiance-general", "attachments": [], "created_by_name": "Marcin Gawro\u0144ski", "created_at": "March 31, 2008 at 03:51AM", "body": "Dear Group\n\n\nI use Radiance for a few years, and I handled with different problems so \nfar. Now I have to complicated problem and I need some help. I engage in \nenergy transport in participating media (rtrace with parameter \u2013me).\n\n\nAs I read in \u2018Rendering with Radiance\u2019 value of expression\nL(s) = L(0)*ext-(kappa*s)\t(assume albedo omega=0)\t\t(1)\nis computed \u2018after all the ray-surface interactions\u2019 (page 591-592)\n\n\nIs this formula computed for each ray, and then values connected with \nall rays are added? (it seems to me it is) Or maybe first values for all \nrays are added and after expression (1) is computed?\n\n\nI need for my algorithm data connected with single ray: the value L(0) \nand distance s.\n\n\nI tried to use rtrace with some options (all parameters are presented \nbelow \u2013 file: render_h.opt):\n- \u2018-otl\u2019 \u2013 to get the distance from origin to object (s), but I\u2019m not \nsure if s = l (l \u2013 effective length of ray)\n- \u2018-otv\u2019 \u2013 to get value of each ray traced, but I get a table of zero \nvalues (something is wrong, I don\u2019t know what)\n\n\nIs this possible to compute L(0) and s (for each ray traced) using \nrtrace with some options at all? (I tried to analyze source codes of \nRadiance programs to find out it, but I\u2019m not a programmer and it\u2019s to \ncomplicated to me to understand it)\n\n\n\n\nBest regards\nMarcin Gawronski\n\n\n\n\n\n\n\n\nAttachments (my files):\n\n\n- start: START.BAT\n\n\noconv S1.txt > pros.oct\nrtrace @render_h.opt -h '-ospec' pros.oct <punktyS1.txt> ou-S1.txt\nerase pros.oct\npause\n\n\n- geometry and materials: S1.txt:\n\n\n# material o odbiciu 0.2\t\t\t\t\t\t\t\nvoid plastic  odb0.2\t\t\t\t\t\t\t\t\n0\t\t\t\t\t\t\t\t\t\t0\t\t\t\t\t\t\t\t\t\t5\t0.3\t0.3\t0.3\t0\t0\t\n\n\n# material \no odbiciu 0.3\t\t\t\t\t\t\tvoid plastic  odb0.3\t\t\t\t\t\t\t\t0\t\t\t\t\t\t\t\t\t\t0\t\t\t\t\t\t\t\t\t\t5\t0.3 \n0.3\t0.3\t0\t0\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n# przypisanie swiecacemu materialowi mat.dist rozkladu rozklad.dat\nvoid brightdata mat.dist\t\t\t\t\t\t\t5\tnoneg\trozklad.dat  \tillum.cal \nil_alth\til_azih\t\t\n0\t\t\t\t\t\t\t\t\t\t9\t1\t0\t0\t0\t-1\t0\t0\t0\t-1\t\t\n\n\n# material S1 o odbiciu 0.7 rozkladzie mat.dist\t\t\nmat.dist illum S1 \t\t\t\t\t\t\t\t\n1 odb0.2\t \t\t\t \t\t\t\t\t0\t\t\t\t\t\t\t\t\t\t3\t16737.3478\t16737.3478\t16737.3478\n\n\n# source\nS1 polygon zrodlo1\t\t\t\t\t\t\t\t\n0\t\t\t\t\t\t\t\t\t\t\n0\t\t\t\t\t\t\t\t\t\t12\t0\t0\t1\t\n\t0\t1\t1\n\t1\t1\t1\n\t1\t0\t1\n\n\nodb0.3 polygon  nazwa\t\t\t\t\t\t\t\t0\t\t\t\t\t\t\t\t\t\t0\t\t\t\t\t\t\t\t\t\t12\t0\t0\t0\t\n\t0\t1\t0\t\n\t1\t1\t0\t\n\t1\t0\t0\n\n\nsource distribution (rozklad.dat):\n1\t\t\n1\t0\t37\n\n\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n1\t\t\n\n\n- rtrace parameters: render_h.opt\n\n\n-dp 4096\n-ar 93\n-ms 0.03\n-ds .05\n-dj 0\n-dt 0\n-dc .75\n-dr 3\n-sj 1\n-st 0\n-ab 10\n-aa 0.08\n-ad 2048\n-as 1024\n-av 0 0 0\n-lr 12\n-lw .0005\n-I\n-me 0.2 0.2 0.2 (if nesessary)\n\n\n- point: punktyS1.txt\n0.1\t0.1\t0\t0\t0\t0.01\n\n\n\n\nSprawdz, czy jestes prawdziwym internauta!\nKliknij http://link.interia.pl/f1d6e\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2008-March/004888.html).</sup>", "id": "radiance-general_004888", "created_by": "Marcin_Gawro\u0144ski"}