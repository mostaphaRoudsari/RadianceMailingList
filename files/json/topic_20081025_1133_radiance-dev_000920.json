{"topic": "Radiane MIME types (was: HDR extension in rad, trad)", "category": "radiance-dev", "attachments": [], "created_by_name": "Axel Jacobs", "created_at": "October 25, 2008 at 11:33AM", "body": "Randolph,\n\n\nThe official mime types are assined by the IANA:\nhttp://www.iana.org/assignments/media-types/\n\n\nGetting .hdr accepted by IANA would mean that eventually all other\nmime assignment, e.g.\nfor the various LINUX desktops:\nhttp://standards.freedesktop.org/shared-mime-info-spec/shared-mime-info-spec-latest.html\nwill pick it up\n\n\nI started a thread here:\nhttp://luminance.londonmet.ac.uk/radiance_mailinglists/dev/2006-November/000761.html\nbut it didn't lead anywhere.\n\n\nWhen I said I was not sufficiently confident about the file format,\nthen this is what I meant:\n(see http://radsite.lbl.gov/radiance/refer/filefmts.pdf)\n\n\nHDR comes in two flavours:\n- RGBE\n- XYZE\n\n\nEach of those two flavours has three sub-flavours:\n- non-rle\n- rle\n- mixed\n\n\nGreg (http://luminance.londonmet.ac.uk/radiance_mailinglists/dev/2006-November/000766.html):\n-----------8<--------------\n> Both, RGBE and XYZE come in flat and in RLE flavours. However, the\n> official file specs only mention two FORMAT= string, i.e. 32-\n> bit_rle_rgbe\n> and 32-bit_rle_xyze. How does this work?\n\n\nI decided not to sub-type based on the presence or absence of run-\nlength encoding.  Since the reader routines identify RLE on a per\nscanline basis (and in fact there can be a mix of RLE and\nuncompressed scanlines), there seemed no need for a separate format\nspecifier.\n\n\n> The MIME specs have the notion of subclasses. So would RGBE and\n> XYZE be\n> subclasses of RADIANCE HDR?\n\n\nAgain, I wouldn't bother to distinguish these within MIME.  It would\nbe like distinguishing between different classes of TIFF.  Any\nsoftware that opens an RGBE file will also open an XYZE file, even if\nit won't display the colors correctly.\n-----------8<--------------\n\n\nSo there you go...\n\n\nI've started working on a mime XML file following the freedesktop.org\nstyle. This is to make my yearly chore of rolling LEARNIX somewhat\neasier. It's not well tested yet, but here is the first draft. The bit\nwith the extensions seems to work, but I haven't tried yet what\nhappens when the extension is removed (mime magick).\n\n\nIgnore all non-HDR stuff. I just thought I might as well leave it in,\nin the hope of getting some comments.\n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<mime-info xmlns=\"http://www.freedesktop.org/standards/shared-mime-info\">\n\n\n  <mime-type type=\"image/x-hdr\">\n    <comment xml:lang=\"en\">HDR image</comment>\n\t<alias type=\"image/x-radiance\"/>\n\t<alias type=\"image/x-rgbe\"/>\n    <magic priority=\"50\">\n      <match type=\"string\" value=\"#?RADIANCE\" offset=\"0\"/>\n      <match type=\"string\" value=\"FORMAT=32-bit_rle_rgbe\" offset=\"0:500\"/>\n    </magic>\n    <glob pattern=\"*.hdr\"/>\n    <glob pattern=\"*.unf\"/>\n    <glob pattern=\"*.xyze\"/>\n    <glob pattern=\"*.rgbe\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-control\">\n\t<sub-class-of type=\"text/plain\"/>\n    <comment xml:lang=\"en\">Radiance input</comment>\n    <glob pattern=\"*.rif\"/>\n  </mime-type>\n\n\n  <mime-type type=\"application/x-radiance-octree\">\n    <comment xml:lang=\"en\">Radiance octree</comment>\n    <magic priority=\"50\">\n      <match type=\"string\" value=\"#?RADIANCE\" offset=\"0\"/>\n      <match type=\"string\" value=\"FORMAT=Radiance_octree\" offset=\"0:500\"/>\n    </magic>\n    <glob pattern=\"*.oct\"/>\n  </mime-type>\n\n\n  <mime-type type=\"application/x-radiance-ambient-cache\">\n    <comment xml:lang=\"en\">Radiance ambient cache</comment>\n    <glob pattern=\"*.amb\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-holodeck-control\">\n\t<sub-class-of type=\"text/plain\"/>\n    <comment xml:lang=\"en\">Radiance holodeck input</comment>\n    <glob pattern=\"*.hif\"/>\n  </mime-type>\n\n\n  <mime-type type=\"application/x-radiance-holodeck\">\n    <comment xml:lang=\"en\">Radiance holodeck</comment>\n    <glob pattern=\"*.hdk\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-geometry\">\n\t<sub-class-of type=\"text/plain\"/>\n    <comment xml:lang=\"en\">Radiance geometry</comment>\n    <glob pattern=\"*.rad\"/>\n    <glob pattern=\"*.norm\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-triangle-mesh\">\n    <comment xml:lang=\"en\">Radiance triangle mesh</comment>\n    <glob pattern=\"*.rtm\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-material\">\n\t<sub-class-of type=\"text/plain\"/>\n    <comment xml:lang=\"en\">Radiance material</comment>\n    <glob pattern=\"*.mat\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-view\">\n\t<sub-class-of type=\"text/plain\"/>\n    <comment xml:lang=\"en\">Radiance view</comment>\n    <glob pattern=\"*.vf\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-cal\">\n\t<sub-class-of type=\"text/plain\"/>\n    <comment xml:lang=\"en\">Radiance cal</comment>\n    <glob pattern=\"*.cal\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-bgraph\">\n\t<sub-class-of type=\"text/plain\"/>\n    <comment xml:lang=\"en\">Radiance bgraph</comment>\n    <glob pattern=\"*.bgraph\"/>\n  </mime-type>\n\n\n  <mime-type type=\"model/x-radiance-options\">\n\t<sub-class-of type=\"text/plain\"/>\n    <comment xml:lang=\"en\">Radiance options</comment>\n    <glob pattern=\"*.opt\"/>\n  </mime-type>\n\n\n</mime-info>\n\n\nAxel\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2008-October/000920.html).</sup>", "id": "radiance-dev_000920", "created_by": "Axel_Jacobs"}