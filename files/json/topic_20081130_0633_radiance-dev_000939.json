{"topic": "fix for objline to handle directories", "category": "radiance-dev", "attachments": [], "created_by_name": "Axel Jacobs", "created_at": "November 30, 2008 at 06:33AM", "body": "Dear Greg,\n\n\nhere is a fix which makes objline handle objects in subdirectories. It\nused to only work in this form:\n$ objline object1.rad\nwith the fix, it now also works like so:\n$ objline objects/object1.rad\n\n\nI had to use a few commands (dirname, basename, find) which weren't\nutilised before, but hope that\na) they are available on other systems, too (Mac, Win). I've no way to\ntest this;\nb) I didn't mess anything else up. It still works with input from STDIN.\n\n\nRegards\n\n\nAxel\n\n\n\n\n12a13,17\n> \t\tset dir=`dirname $f`\n> \t\tset base=`basename $f`\n> \t\tif ($dir != '.') then\n> \t\t\tmkdir -p $d/$dir\n> \t\tendif\n16c21,23\n< \t\techo i $f:r.orig.mgf $oblqxf > $d/$f:r.oblq.mgf\n\n\n> \t\tif ($dir != '.') then\n> \t\t\techo i $base:r.orig.mgf $oblqxf > $d/$f:r.oblq.mgf\n> \t\tendif\n30,31c37,38\n< set origdim=`getbbox -h *.orig | rcalc -e $rce:q`\n< set oblqdim=`xform $oblqxf *.orig | getbbox -h | rcalc -e $rce:q`\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2008-November/000939.html).</sup>", "id": "radiance-dev_000939", "created_by": "Axel_Jacobs"}