{"topic": "Bash problems", "category": "radiance-general", "attachments": [], "created_by_name": "Dan Fitzpatrick", "created_at": "July 22, 2009 at 10:29AM", "body": "Dear Community\n\n\nI am trying to determine a maximum illum value within a picture file then print the result if it is above a certain value.  Here is where I am at the moment:\n\n\nmaxim=$(pextrem -o 9.pic | rcalc -e '$1=($3*0.265+$4*0.670+$5*0.065)*179' | total -u)\necho $maxim\nif [ \"$maxim\" -gt 15000 ] ; then\npextrem -o 9.pic | rcalc -e '$1=($3*0.265+$4*0.670+$5*0.065)*179' total -u > 9.dat\nfi\ndone\n\n\nThe problem:  I keep getting the : integer expression expected warning.  As far as I can see, $maxim is an integer as shown from the echo expression.  Therefore I don't understand what I'm doing wrong here.  Any pointers will be greatly appreciated.\n\n\nDan\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2009-July/006129.html).</sup>", "id": "radiance-general_006129", "created_by": "Dan_Fitzpatrick"}