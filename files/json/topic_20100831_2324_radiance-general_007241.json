{"topic": "the vector of sensor in SVF calculation", "category": "radiance-general", "attachments": [], "created_by_name": "Ji Zhang", "created_at": "August 31, 2010 at 11:24PM", "body": "Dear Radiance experts,\n\n\nAccording to the paper \"Compagnon, R. (2004). Solar and daylight\navailability in the urban fabric. Energy and Buildings, 36(4), 321-328\", we\ncan use Radiance to calculate Sky View Factor by \"using a uniform sky model\nof arbitrary luminance L and by computing the illuminance Ei without taking\ninto account the contribution of interreflections to ensure the integration\nis performed over the unobstructed part of the sky vault only\".\n\n\nThe formula is: SVF = Ei / (PI * L).\n\n\nWe use the following to define the uniform sky with a horizontal diffuse\nirradiation of 100 w/m^2:\n#########################################################\n!gensky 6 20 +15.0  -a 1.0 -o 103.0 -m 105 -u -B 100.0 -g 0.0\n\n\nskyfunc glow sky_glow 0 0 4 1.0 1.0 1.0 0\n\n\nskyfunc glow ground_glow 0 0 4 1.0 1.0 1.0 0\n\n\nsky_glow source sky 0 0 4 0 0 1 180\n\n\nground_glow source ground 0 0 4 0 0 -1 180\n#########################################################\n\n\nWe use the following specification for rtrace to calculate the irradiation\nof a sensor point:\naa=0.1, ab=1, ad=4096, ar=512, as=1024\n\n\nWe then divide the irradiation value of the sensor point as obtained by 100\n(the unobstructed horizontal diffuse irradiation as specified for the \"-B\"\noption of gensky) and this will give us the SVF of that sensor point.\n\n\n\n\nAccording to the way of calculating SVF as introduced by Compagnon (2004),\nmy question is:\nShould the vector of the sensor point being measured always point upward to\nthe zenith (in other words, the xyz vector for the sensor is 0 0 1) no\nmatter how the normal of that sensor point might oriented to?\n\n\nFor example, if we try to calculate the SVF of the centroid of a tilted\npolygon (a non-horizontal and non-vertical plane), should we specify the\nvector of the sensor as 0 0 1 or as the xyz vector values of the actual\nnormal of that polygon?\n\n\n\n\nThanks!\n\n\nJi\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2010-August/007241.html).</sup>", "id": "radiance-general_007241", "created_by": "Ji_Zhang"}