{"topic": "Compile ra_tiff and normtiff for Windows using MinGW + MSYS", "category": "radiance-general", "attachments": [], "created_by_name": "Guy Vaessen", "created_at": "October 27, 2010 at 04:59AM", "body": "For those of you interested in compiling ra_tiff and normtiff for Windows,\nbelow are the instructions on how it could be done.\n\n\nTools:\nGet tiff-3.9.4.zip from ftp://ftp.remotesensing.org/pub/libtiff/\nGet MinGW + MSYS shell from http://www.mingw.org/\n\n\nTo open a MSYS shell: Go to C:\\msys\\1.0\\msys.bat (or where you installed\nMSYS)\n\n\nOriginal instructions from:\nhttp://www.gaia-gis.it/spatialite-2.4.0/mingw_how_to.html#libtiff\nOnly step 5 should be enough to compile libtiff (since we do not use libz\nnor libjpeg)\nTo make it work with Radiance I had to modify the procedure a bit:\n\n\n    download the latest sources: tiff-3.9.4.zip\n    uncompress this zip-file\n    then open an MSYS shell\n\n\ncd tiff-3.9.4\n./configure --enable-static --enable-logluv --disable-shared --disable-cxx\n--disable-jpeg --disable-zlib --disable-pixarlog\nmake\nmake install-strip\n\n\nCopy the file libtiff.a from C:\\msys\\1.0\\local\\lib to C:\\..\\..\\ray\\src\\lib\n(where ..\\..\\ points to where you extracted the Radiance source files)\n\n\nTo build ra_tiff add these lines to ray\\src\\px\\SConscript:\n\n\nra_tiff = env.Program(target=radbin('ra_tiff'), source=['ra_tiff.c'],\n    LIBS=['libtiff','rtpic','rtio','rtmem'] + mlib)\nprogs.append(ra_tiff)\n\n\n\n\nIn a similar way normtiff can be build:\n\n\nAdd this line to \\ray\\src\\common\\SConscript after the section # build\nlibraries:\n\n\nrtall = env.StaticLibrary(target=radlib('rtall'), source=ALL)\n\n\nTo build normtiff add these lines to ray\\src\\px\\SConscript:\n\n\nnormtiff = env.Program(target=radbin('normtiff'),source=['normtiff.c'],\n    LIBS=['libtiff','rtall'] + mlib)\nprogs.append(normtiff)\n\n\nThen proceed with building Radiance with scons.\n\n\nBest Regards,\n\n\nGuy\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2010-October/007415.html).</sup>", "id": "radiance-general_007415", "created_by": "Guy_Vaessen"}