{"topic": "Makefile inconsistency", "category": "radiance-dev", "attachments": [], "created_by_name": "James Lee", "created_at": "November 28, 2010 at 03:55AM", "body": "File src/cv/Rmakefile defines the procedures for mgfilt, mgf2inv, 3ds2mgf\nand 2 x libmgf.a.  The executables need mgflib/libmgf.a but the procedure\nto make ../lib/libmgf.a removes mgflib/libmgf.a by moving it.  With a\nlinear build this doesn't matter as the three executables are built\nbefore or after ../lib/libmgf.a but using 32 CPUs (T5120) and a parallel\nbuild (dmake) this inconsistency is exploited.\n\n\nI've attached a patch which cures the problem but it's weak because it\ndoesn't tidy the makefiles enough, eg, it would probably be better to\njust \"make all\" on the sub make file in mgflib.\n\n\nI've also changed \"make\" to \"$(MAKE)\" so as not to hard code a particular\nmake.\n\n\nVersion 4.0\n\n\n\n\n\n\nJames.\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2010-November/001070.html).</sup>", "id": "radiance-dev_001070", "created_by": "James_Lee"}