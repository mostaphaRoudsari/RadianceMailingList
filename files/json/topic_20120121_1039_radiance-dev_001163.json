{"topic": "Cannot build Radiance 4.1a on Windows XP SP2 - beginner", "category": "radiance-dev", "attachments": [], "created_by_name": "Predrag Popovic", "created_at": "January 21, 2012 at 10:39AM", "body": "Hi,\n\n\nThis is the first open source project that I am attempting to build. I am new to Python development and a hobby user of C and C++. \n\n\nI've used a post from Randolph Fritz,\u00a0 http://www.radiance-online.org/pipermail/radiance-dev/2011-February/001109.html , to download latest HEAD files.\nI've downloaded Auxiliary library files from http://www.radiance-online.org/software/non-cvs/rad4R1supp.tar.gz\n\n\nAll the files were downloaded on 2011-01-18.\n\n\n\n\nI've downloaded Radiance binaries from http://www.bozzograo.net/radiance/index.php?module=Downloads&func=display&lid=22 , but the fact that the disclaimer states that some \"useful programs\" are not available, deters me, as a complete Radiance beginner, to consider that binary.\u00a0\n\n\nI've tried several different approaches and I am stumped as to what the problem could be.\n\n\n\n\n1. The following error appears:\n\u00a0\u00a0\u00a0 C:\\Ray\\ray>scons\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 scons: Reading SConscript files ...\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 Detected platform \"win32\" (nt).\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 Reading configuration \"platform\\mingw.cfg\"\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 TypeError: sequence item 0: expected string, function found:\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 File \"C:\\Ray\\ray\\SConstruct\", line 57:\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 load_plat.load_plat(env, ARGUMENTS, platform=None)\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 File \"C:\\Ray\\ray\\build_utils\\load_plat.py\", line 78:\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 read_plat(env, args, pfn)\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 File \"C:\\Ray\\ray\\build_utils\\load_plat.py\", line 12:\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 cfig.read(fn)\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 File \"C:\\Python27\\lib\\ConfigParser.py\", line 297:\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 self._read(fp, filename)\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 File \"C:\\Python27\\lib\\ConfigParser.py\", line 546:\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 options[name] = '\\n'.join(val)\n\n\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 C:\\Ray\\ray>\n\n\nWhere C:\\Ray is where I've download the HEAD files\n\n\n2. I've tried to debug this program but with my limited knowledge of Python, I cannot get the line cfig.read(fn) in load_plat.py\n\n\nto read the mingw.cfg file.\n\n\nI've ran \n\n\n\u00a0\u00a0\u00a0 print os.path.isfile(fn) #the file exists\n\u00a0\u00a0\u00a0 print os.path.realpath(fn) #Returns this correctly: C:\\Ray\\ray\\platform\\mingw.cfg\n\n\nbefore cfig.read(fn) and both output expected result\nI've tried also cfig.read('c:\\\\Ray\\\\ray\\\\platform\\\\mingw.cfg') but that also fails (e.g. the file is not read and is ignored.)\n\n\nFinally I've inserted \n\n\nprint cfig.sections() \n\n\nstatement after the line cfig.read(fn), to check if the file is open. In all cases it returns an empty string.\u00a0\n\n\nIn fact when 'print' statement is used with code:\n# XXX Check that basedir exists.\n\u00a0\u00a0\u00a0 for k in ['RAD_BINDIR', 'RAD_RLIBDIR', 'RAD_MANDIR']:\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 if (env.has_key('RAD_BASEDIR') and env.has_key(k)\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 and not os.path.isabs(env[k])):\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 env[k] = os.path.join(env['RAD_BASEDIR'],env[k])\u00a0\u00a0\u00a0 \n\n\n\n\nThe \"if statement\" is never processed as env.has_key('RAD_BASEDIR') returns False. \n\n\n\n\n\n\n3. My platform is: \n\n\nWindows XP, Service Pack 2 \n\n\nPython 2.7.2\nMinGW:\n\u00a0\u00a0\u00a0 MINGWBASEDIR=C:\\MinGW\n\u00a0\u00a0\u00a0 gcc version 4.6.1 (GCC)\n\u00a0\u00a0\u00a0 gcc version 4.6.1 (GCC)\n\u00a0\u00a0\u00a0 GNU gdb (GDB) 7.3.1\n\u00a0\u00a0\u00a0 GNU ld (GNU Binutils) 2.21.53.20110804\n\u00a0\u00a0\u00a0 GNU windres (GNU Binutils) 2.21.53.20110804\n\u00a0\u00a0\u00a0 GNU dlltool (GNU Binutils) 2.21.53.20110804\n\u00a0\u00a0\u00a0 GNU Make 3.82\n\u00a0\u00a0\u00a0 #define __MINGW32_VERSION\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 3.20\n\u00a0\u00a0\u00a0 #define __W32API_VERSION 3.17\n\n\nMSYS 1.0\nScons 2.1.0 r5357\n\n\nMy Environment path is configured to include MinGW, MSYS, Python27, Python27/Scripts directories.\n\n\nAny help in solving this issue is appreciated.\n\n\nThank you\n\n\nPeja\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2012-January/001163.html).</sup>", "id": "radiance-dev_001163", "created_by": "Predrag_Popovic"}