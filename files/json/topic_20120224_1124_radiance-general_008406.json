{"topic": "Generating alpha channels using vwrays and rtrace", "category": "radiance-general", "attachments": [], "created_by_name": "Iebele Abel", "created_at": "February 24, 2012 at 11:24AM", "body": "Hi group,\n\n\nWhilst finding a method to create alpha channels for my rendered image, I'm\nplaying with vwrays and rtrace. What I intend is to create an image in\nwhich\ngeometry modified by a particular modifier  is rendered white, whilst the\ngeometry modified otherwise is rendered black. The command below comes\nclose to this, it has as output the modifiers for each surface hit:\n\n\nvwrays -ff -vf test.vp -x 100 -y 100 | rtrace `vwrays -d -vf test.vp -x 100\n-y 100`  -ffa -om test.oct  | more\n\n\nOutput of this command is like:\n...\nfloor\nfloor\nfloor\nwindow\nwindow\netc...\n\n\nNow I want that, for example, each occurrence of \"window\" sends 3 \"bright\"\nRGBE primaries to stdout, and every other string sends 3 \"dark\" RGBE\nprimaries to stdout. I can do this by writing a small program (instead of\npiping to 'more' as in the example above), but I wondered if there is a\nmethod using native Radiance tools to do it.\n\n\nIn pseudo code (bold) I think about something like this (where 1 represents\na value considered as white in the output, and 0 represents black) :\n\n\nvwrays -ff -vf test.vp -x 100 -y 100 | rtrace `vwrays -d -vf test.vp -x 100\n-y 100`  -ffa -om test.oct  | *if (stdin == \"window\") fprintf(stdout, \"1 1\n1\" ); else fprintf ( stdout, \"0,0,0\"); *| ra_tiff - alpha.tif\n\n\nSo my questions are:\n1. how do I format the output of stdout as Radiance RGBE?\n2. can I do this using native Radiance tools?\n\n\nThanks for any hints.\n\n\n-Iebele\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-February/008406.html).</sup>", "id": "radiance-general_008406", "created_by": "Iebele_Abel"}