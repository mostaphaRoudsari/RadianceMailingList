{"topic": "Optimizing Radiance", "category": "radiance-general", "attachments": [], "created_by_name": "Iebele", "created_at": "April 06, 2012 at 03:20PM", "body": "Hi group, \n\n\nI'm setting up Radiance on a computer cluster with lots of nodes. Tweeking gcc flags is not my best quality(understatement), so I bring it here. \nPlaying a bit with options which I found on Marc's benchmark page, I got rendering times per core over twice as long as on my 2.2 Ghz macbook. Doesn't make me happy :) \nBelow I've pasted the cpuinfo from a node on the cluster. Does anyone in the group has an idea what flags I should give to gcc to optimize Radiance? \nThe flags I've used so far - are:   -march=native -m64 -msse -msse2 -funroll-loops -ffast-math  -O3  -Dlinux -D_FILE_OFFSET_BITS=64\n\n\nCheers, \n\n\niebele\n\n\n\n\ncat /proc/cpuinfo:\n\n\nprocessor\t: 7\nvendor_id\t: GenuineIntel\ncpu family\t: 6\nmodel\t\t: 23\nmodel name\t: Intel(R) Xeon(R) CPU           L5420  @ 2.50GHz\nstepping\t: 10\ncpu MHz\t\t: 2493.445\ncache size\t: 6144 KB\nphysical id\t: 0\nsiblings\t: 4\ncore id\t\t: 2\ncpu cores\t: 4\napicid\t\t: 2\ninitial apicid\t: 2\nfpu\t\t: yes\nfpu_exception\t: yes\ncpuid level\t: 13\nwp\t\t: yes\nflags\t\t: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx lm constant_tsc arch_perfmon pebs bts rep_good aperfmperf pni dtes64 monitor ds_cpl vmx est tm2 ssse3 cx16 xtpr pdcm dca sse4_1 xsave lahf_lm tpr_shadow vnmi flexpriority\nbogomips\t: 4987.90\nclflush size\t: 64\ncache_alignment\t: 64\naddress sizes\t: 38 bits physical, 48 bits virtual\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-April/008485.html).</sup>", "id": "radiance-general_008485", "created_by": "Iebele"}