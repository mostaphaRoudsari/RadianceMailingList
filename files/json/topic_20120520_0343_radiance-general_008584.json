{"topic": "can we refer to two sky description files in oconv?", "category": "radiance-general", "attachments": [], "created_by_name": "Ji Zhang", "created_at": "May 20, 2012 at 03:43AM", "body": "Hi, list,\n\n\nMay I ask if we can merge two skies through one oconv command?\n\n\nThe irradiance value for an unobstructed upward sensor I get from referring\n2 sky files in oconv is different from the sum of the two irradiance\nvalues, each of them obtained by referring to just one sky file at a time\n...\n\n\n\n\nThe problem is described below:\n\n\n1). I have the following two sky description files:\n\n\n\"sky_12.sky\":\n# gendaylit 6 22 12 -a 51.15 -o 0.18 -m 0 -W 248.0 427.0 -O 1\n# Ground ambient level: 129.0\nvoid light solar\n0\n0\n3 3.649e+06 3.649e+06 3.649e+06\nsolar source sun\n0\n0\n4 0.009337 -0.464787 0.885373 0.533000\nvoid brightfunc skyfunc\n2 skybright perezlum.cal\n0\n10 6.250e+01 3.978e+01 -0.842096 -1.184194 10.982493 -3.062295 0.268820\n0.009337 -0.464787 0.885373\nskyfunc glow sky_glow\n0\n0\n4 1 1 1 0\nsky_glow source sky\n0\n0\n4 0 0 1 180\n\n\n\"sky_13.sky\":\n# gendaylit 6 22 13 -a 51.15 -o 0.18 -m 0 -W 250.0 428.0 -O 1\n# Ground ambient level: 129.7\nvoid light solar\n0\n0\n3 3.678e+06 3.678e+06 3.678e+06\nsolar source sun\n0\n0\n4 -0.228410 -0.442326 0.867281 0.533000\nvoid brightfunc skyfunc\n2 skybright perezlum.cal\n0\n10 6.393e+01 3.975e+01 -0.856480 -1.207987 10.711184 -3.050613 0.255098\n-0.228410 -0.442326 0.867281\nskyfunc glow sky_glow\n0\n0\n4 1 1 1 0\nsky_glow source sky\n0\n0\n4 0 0 1 180\n\n\n2). I run the following shell script and get a irradiance value of  *859.8564\n(Wh/m^2)*\n\n\n\"autorun.sh\":\noconv ./sky_12.sky ./sky_13.sky > ./sky_12_13.oct\necho '0 0 0 0 0 1' | rtrace -w -h -I+ -ab 1 ./sky_12_13.oct | rcalc -e\n'$1=$1*0.265+$2*0.670+$3*0.065' > ./results_12_13.txt\n\n\nWindows version of the script autorun.bat is:\noconv ./sky_12.sky ./sky_13.sky > ./sky_12_13.oct\necho 0 0 0 0 0 1 | rtrace -w -h -I+ -ab 1 ./sky_12_13.oct | rcalc -e\n\"$1=$1*0.265+$2*0.670+$3*0.065\" > ./results_12_13.txt\n\n\n3). However, if I do the same by using one sky file at a time I get  *\n640.1146* and *640.1624* (Wh/m^2) for sky_12 and sky_13, respectively, and\nthey're close to the global horizontal radiance in London's weather file\nfor 22 Jun 12pm and 13pm. The sum of the these two values, which is\naround *1280\n(Wh/m^2)*, is not equal to the one mentioned above that is obtained by\nusing the two sky files together in oconv...\n\n\n\n\nDose this mean that only one sky description is allowed in oconv?  If\nthat's the case then why the value shown in 2) is not close to either of\nthe values shown in 3)?\n\n\nAdvises are appreciated!\n\n\n- Cheers, Ji\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2012-May/008584.html).</sup>", "id": "radiance-general_008584", "created_by": "Ji_Zhang"}