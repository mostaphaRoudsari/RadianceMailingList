{"topic": "Masking perimeter corners of fisheye image with black", "category": "hdri", "attachments": [], "created_by_name": "Christian Humann", "created_at": "October 04, 2013 at 12:11PM", "body": "Dear list,\n\n\nI've been using the following pcomb routine to fill in the perimeter corners of a square, 1200x1200 fisheye image with black to cover up the light spill inside the lens body and around the perimeter of the lens element:\n\n\npcomb -e 's(x):x*x;m=if(xmax*ymax/4-s(x-xmax/2)-s(y-ymax/2),1,0);ro=m*ri(1);go=m*gi(1);bo=m*bi(1)' input.hdr > output.hdr\n\n\nIn order to maintain the absolute pixel values, which are much lower in the resultant 'output.hdr', would I need to use 'ra_xyze' piped into pcomb?  I've tried various iterations but keep getting \"illegal output resolution.\"  \n\n\nAs always thanks!\n\n\nChris\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/hdri/2013-October/000488.html).</sup>", "id": "hdri_000488", "created_by": "Christian_Humann"}