{"topic": "HDRI Digest, Vol 68, Issue 1", "category": "hdri", "attachments": [], "created_by_name": "Jonghoon Kim", "created_at": "February 27, 2014 at 07:55AM", "body": "I appreciate your comment Axel!!\n\n\nI slightly modified my code and it is working now.\n\n\nHowever, I have one more question!\n\n\nMy HDR process is like below.\n\n\n(Please, let me know if there is something wrong in my script.)\n\n\n\n\nCropping the original HDR image to match the size with the vignetting filter file\nra_xyze -r -o -u Original.hdr | pcompos -x 4368 -y 2912 - -408 -272 > Resized_for_Vignetting.hdr\n\n\nApplying the vignetting filter to the cropped HDRI\npcomb  -e  'ro=ri(1) / ri(2);go=gi(1) / gi(2);bo=bi(1) / bi(2)' Resized_for_Vignetting.hdr Vignetting_Filter.hdr > Vignetting_Corrected.hdr\n\n\nResizing the HDRI for glare analysis \npfilt -x 1200  -y 800 Vignetting_Corrected.hdr > Vignetting_Corrected_resized.hdr\n\n\nCropping the HDRI for glare analysis \nra_xyze -r -o -u Vignetting_Corrected_resized.hdr | pcompos -x 800 -y 800 - -200 0 > Cropped.hdr\n\n\nCreating the cleaning filter \nra_tiff -r Cleaning_filter.tif Cleaning_filter.hdr\n\n\nApplying the cleaning filter on the resized HDRI\npcomb Cropped.hdr -s -1000 Cleaning_filter.hdr > Final.hdr\n\n\nRunning the Evalglare analysis\nevalglare -vta -vh 180 -vv 180 Final.hdr\n\n\n\n\n\n\nAfter the process above, The header file  is like below.\n\n\n\t#?RADIANCE\n\tCAPDATE= 2014:02:26 22:58:34\n\tGMT= 2014:02:27 04:58:34\n\t/Users/jonghoonkim/Desktop/Sample HDRI/Crop800_800.hdr:\n\t\tCAPDATE= 2014:02:26 22:51:52\n\t\tGMT= 2014:02:27 04:51:52\n\t\t<stdin>:\n\t\t\tCAPDATE= 2014:02:26 22:16:03\n\t\t\tGMT= 2014:02:27 04:16:03\n\t\t\t/Users/jonghoonkim/Desktop/Sample HDRI/Big_for_Vignetting.hdr:\n\t\t\t\tCAPDATE= 2014:02:26 22:09:29\n\t\t\t\tGMT= 2014:02:27 04:09:29\n\t\t\t\t<stdin>:\n\t\t\t\t\tCAMERA= Canon Canon EOS 60D version v.0\n\t\t\t\t\tPhotosphere created HDR image from 'Jong_-2014-0111-1104-14.jpg' 'Jong_-2014-0111-1104-17.jpg' 'Jong_-2014-0111-1104-20.jpg' 'Jong_-2014-0111-1104-22.jpg' 'Jong_-2014-0111-1104-25.jpg' 'Jong_-2014-0111-1104-28.jpg' 'Jong_-2014-0111-1104-31.jpg' 'Jong_-2014-0111-1104-34.jpg' 'Jong_-2014-0111-1104-37.jpg' 'Jong_-2014-0111-1104-40.jpg' 'Jong_-2014-0111-1104-44.jpg' 'Jong_-2014-0111-1104-48.jpg' 'Jong_-2014-0111-1104-53.jpg'\n\t\t\t\t\tVIEW= -vtv -vh 132.979172 -vv 113.747666\n\t\t\t\t\tCAPDATE= 2014:01:11 12:05:53\n\t\t\t\t\tra_xyze -r -o -u \"/Users/jonghoonkim/Desktop/Sample HDRI/Big.hdr\"\n\t\t\t\t\tPRIMARIES= 0.6400 0.3300 0.2900 0.6000 0.1500 0.0600 0.3333 0.3333\n\t\t\t\tpcompos -x 4368 -y 2912 - -408 -272\n\t\t\t/Users/jonghoonkim/Desktop/Sample HDRI/Sigma_f56FishVigL.hdr:\n\t\t\t\t# Output from HDRShop\n\t\t\t\tEXPOSURE=          1.0000000000000\n\t\t\tpcomb -e \"ro=ri(1) / ri(2);go=gi(1) / gi(2);bo=bi(1) / bi(2)\" \"/Users/jonghoonkim/Desktop/Sample HDRI/Big_for_Vignetting.hdr\" \"/Users/jonghoonkim/Desktop/Sample HDRI/Sigma_f56FishVigL.hdr\"\n\t\t\tpfilt -x 1200 -y 800\n\t\t\tra_xyze -r -o -u \"/Users/jonghoonkim/Desktop/Sample HDRI/Resize.hdr\"\n\t\t\tPRIMARIES= 0.6400 0.3300 0.2900 0.6000 0.1500 0.0600 0.3333 0.3333\n\t\tpcompos -x 800 -y 800 - -200 0\n\t/Users/jonghoonkim/Desktop/Sample HDRI/Cleaning_filter.hdr:\n\t\tra_tiff -r\n\t\tCAPDATE= 2014:02:25 16:15:37\n\tpcomb \"/Users/jonghoonkim/Desktop/Sample HDRI/Crop800_800.hdr\" -s -1000 \"/Users/jonghoonkim/Desktop/Sample HDRI/Cleaning_filter.hdr\"\n\tFORMAT=32-bit_rle_rgbe\n\n\n\n\n\n\n\n\nThe header file is very long like above after the whole process.\n\n\nI could run evalglare with the final.hdr. ( It looks OK until now.) \n\n\nIs the header file is OK for futhur HDRI analysis?\n\n\nAre there any potential error source in the head?\n\n\nIf I need to modify the head, can you explain a little bit more on vim and Radiance\u2019s info?\n\n\n\n\nHave a good day!\n\n\nBest regards,\nJonghoon Kim\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/hdri/2014-February/000514.html).</sup>", "id": "hdri_000514", "created_by": "Jonghoon_Kim"}