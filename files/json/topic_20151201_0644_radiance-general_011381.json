{"topic": "mirror and mixfunc", "category": "radiance-general", "attachments": [], "created_by_name": "Jan Wienold", "created_at": "December 01, 2015 at 06:44AM", "body": "Hi all,\n\n\nI got stuck a bit applying mixfunc and mirror material. It seems that \nthe check for secondary light sources is partly disabled when applying \n(at least I assume so).\n\n\nA simple example:\n\n\nlets assume an ideal mirror\n\n\nvoid mirror testmat1\n0\n0\n3 1 1 1\n\n\nIf I use just this  material on a surface and start an rtrace sending to \nthe surface, then I get the correct result for both options - either \nrtrace or rtrace -I. So far so good.\n\n\nIn case I use a (stupid, but simple) mixfunc:\n\n\nvoid mixfunc test_mix\n4 testmat1 testmat1 0.5 .\n0\n0\n\n\nI should get the same result, since I'm mixing the same material with a \nfixed value.\nBut: rtrace -I delivers only 0, whereas rtrace delivers the correct \nvalue. So it seems that mixfunc cannot be applied with mirror, when the \n-I option is used. Or I did something wrong?\nI used -dr 2 and -dt 0 in both cases.\n\n\nOf course my ultimate goal is not mixing that simple but mixing two \ndifferent material types, also depending on the angle of incidence, but \nthis simple example shows the principle problem.\n\n\nIs there any solution using mixfunc and mirror when using rtrace -I ?\n\n\nJan\n\n\n\n\n\n\n\n\nDr.-Ing.  Jan Wienold\nEcole Polytechnique F\u00e9d\u00e9rale de Lausanne (EPFL)\nEPFL ENAC IA LIPID\n\n\nhttp://people.epfl.ch/jan.wienold\nLE 1 111 (Office)\nPhone    +41 21 69 30849\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2015-December/011381.html).</sup>", "id": "radiance-general_011381", "created_by": "Jan_Wienold"}