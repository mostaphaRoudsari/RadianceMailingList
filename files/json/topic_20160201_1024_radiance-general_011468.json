{"topic": "Installation BSDFviewer Ubuntu14.04 64bit", "category": "radiance-general", "attachments": [], "created_by_name": "Robert Weitlaner", "created_at": "February 01, 2016 at 10:24AM", "body": "Dear experts, (particularly Andy),\n\n\n\n\nFirst of all: I do not have any experience using all that java stuff.\nHonestly I do hope, that you won't tell me to get used to it ;)\nAnd I hope you can reproduce my problems to a certain extend.\n\n\nThank you for any hint, or a description of the installation procedure.\n\n\n------- Problem statement -----\n I'm running into dozens of error messages using the install.sh bash in the\nBSDFViewer Download from\nhttp://www.radiance-online.org/download-install/bsdf-viewer/BSDFViewer1.3_ubuntu_64.tar\n.\nSee these messages at the end of that email.\n\n\nAnyway, the BSDFViewer starts up. But it doesn't work properly (I can click\non the incoming patch which gets yellow, but there is no output displayed -\nin terminal following error message is displayed as soon as I load any xml.\nException in thread \"AWT-EventQueue-0\" java.lang.UnsatisfiedLinkError:\nCan't load library: /usr/local/lib/BSDFViewer/libBSDF.jnilib\nor if any reload of another testBSDF is started:\nException in thread \"AWT-EventQueue-0\" java.lang.NoClassDefFoundError:\nCould not initialize class libBSDF\n\n\nI'm well aware of the *mailing list* discussion on that topic. Back then,\nAndy's question to Serge about his JAVA installation did not yield to any\nconclusion as Serge's problem disappeared:\nhttp://radiance-online.org/pipermail/radiance-general/2015-February/010783.html\n.\n\n\n------ Platform description ------------\nplatform: ubuntu 14.04 64bit  on VMware(R)Player 7.0.0; Windows 7 host\nJava -version gives:\njava version \"1.7.0_91\"\nOpenJDK Runtime Environment (IcedTea 2.6.3) (7u91-2.6.3-0ubuntu0.14.04.1)\nOpenJDK 64-Bit Server VM (build 24.91-b01, mixed mode)\n\n\n\n\n\n\nPlease apologize for my poor debugging capabilities:\n\n\n1. line 14 in Rmakefile defines LIBDIR = /usr/local/lib/ray . That's not\nthe place my radiane libs are located /usr/local/radiance/lib or whatever\nis the users choice.\n\n\n2. line 28 in install.sh asks for libBSDF.so, which is no located in that\nplace. instead: ./lib/libBSDF.so\n\n\n3. the libBSDF.jnilib is not existing at all - so there is something\nbroken.\n\n\n4. An error message about something called: ELFClass32 I tried to solve by\napt-getting different java platforms - as different forums told me.\n\n\nTHANK You,\nbr Robert\n\n\n\n\n------------------ERRORS after sudo install.sh--------------\n\n\nvm:/usr/local/radiance/BSDFViewer1.3_ubuntu_64$ sudo bash install.sh\nrm -f *.o librtrad.a libmgf.a\ncc -DBSD -O   -c -o cone.o cone.c\ncc -DBSD -O   -c -o face.o face.c\ncc -DBSD -O   -c -o free_os.o free_os.c\ncc -DBSD -O   -c -o instance.o instance.c\ncc -DBSD -O   -c -o readobj.o readobj.c\nreadobj.c: In function \u2018readobj\u2019:\nreadobj.c:53:9: warning: ignoring return value of \u2018fgets\u2019, declared with\nattribute warn_unused_result [-Wunused-result]\n    fgets(buf, sizeof(buf), infp);\n         ^\ncc -DBSD -O   -c -o readoct.o readoct.c\ncc -DBSD -O   -c -o otypes.o otypes.c\ncc -DBSD -O   -c -o objset.o objset.c\ncc -DBSD -O   -c -o octree.o octree.c\ncc -DBSD -O   -c -o readfargs.o readfargs.c\ncc -DBSD -O   -c -o modobject.o modobject.c\ncc -DBSD -O -DDEFPATH=\\\":/usr/local/lib/ray\\\" -c getlibpath.c\ncc -DBSD -O   -c -o addobjnotify.o addobjnotify.c\ncc -DBSD -O   -c -o zeroes.o zeroes.c\ncc -DBSD -O   -c -o mesh.o mesh.c\ncc -DBSD -O   -c -o readmesh.o readmesh.c\ncc -DBSD -O   -c -o tmesh.o tmesh.c\ncc -DBSD -O   -c -o sceneio.o sceneio.c\ncc -DBSD -O   -c -o color.o color.c\ncc -DBSD -O   -c -o header.o header.c\ncc -DBSD -O   -c -o image.o image.c\ncc -DBSD -O   -c -o lamps.o lamps.c\ncc -DBSD -O   -c -o resolu.o resolu.c\ncc -DBSD -O   -c -o rexpr.o rexpr.c\ncc -DBSD -O   -c -o spec_rgb.o spec_rgb.c\ncc -DBSD -O   -c -o colrops.o colrops.c\ncc -DBSD -O   -c -o font.o font.c\ncc -DBSD -O   -c -o tonemap.o tonemap.c\nIn file included from tonemap.c:17:0:\ntmprivat.h:62:1: warning: variably modified \u2018tmMesofact\u2019 at file scope\n[enabled by default]\n extern uby8 tmMesofact[BMESUPPER-BMESLOWER];\n ^\ntonemap.c:654:1: warning: variably modified \u2018tmMesofact\u2019 at file scope\n[enabled by default]\n uby8 tmMesofact[BMESUPPER-BMESLOWER];\n ^\ncc -DBSD -O -DPCOND=\\\"pcond\\\" -c tmapcolrs.c\nIn file included from tmapcolrs.c:21:0:\ntmprivat.h:62:1: warning: variably modified \u2018tmMesofact\u2019 at file scope\n[enabled by default]\n extern uby8 tmMesofact[BMESUPPER-BMESLOWER];\n ^\ncc -DBSD -O   -c -o tmapluv.o tmapluv.c\nIn file included from tmapluv.c:19:0:\ntmprivat.h:62:1: warning: variably modified \u2018tmMesofact\u2019 at file scope\n[enabled by default]\n extern uby8 tmMesofact[BMESUPPER-BMESLOWER];\n ^\ncc -DBSD -O   -c -o tmaptiff.o tmaptiff.c\nIn file included from tmaptiff.c:15:0:\ntmprivat.h:62:1: warning: variably modified \u2018tmMesofact\u2019 at file scope\n[enabled by default]\n extern uby8 tmMesofact[BMESUPPER-BMESLOWER];\n ^\ncc -DBSD -O   -c -o tmap16bit.o tmap16bit.c\nIn file included from tmap16bit.c:14:0:\ntmprivat.h:62:1: warning: variably modified \u2018tmMesofact\u2019 at file scope\n[enabled by default]\n extern uby8 tmMesofact[BMESUPPER-BMESLOWER];\n ^\ncc -DBSD -O   -c -o bmpfile.o bmpfile.c\ncc -DBSD -O   -c -o falsecolor.o falsecolor.c\nIn file included from falsecolor.c:16:0:\ntmprivat.h:62:1: warning: variably modified \u2018tmMesofact\u2019 at file scope\n[enabled by default]\n extern uby8 tmMesofact[BMESUPPER-BMESLOWER];\n ^\ncc -DBSD -O   -c -o ezxml.o ezxml.c\ncc -DBSD -O   -c -o ccolor.o ccolor.c\ncc -DBSD -O   -c -o ccyrgb.o ccyrgb.c\ncc -DBSD -O   -c -o bsdf.o bsdf.c\nbsdf.c: In function \u2018SDloadFile\u2019:\nbsdf.c:182:2: warning: null argument where non-null required (argument 1)\n[-Wnonnull]\n  if (strcmp(ezxml_name(fl), \"WindowElement\")) {\n  ^\nbsdf.c:182:2: warning: null argument where non-null required (argument 1)\n[-Wnonnull]\nbsdf.c:182:2: warning: null argument where non-null required (argument 1)\n[-Wnonnull]\nbsdf.c:182:2: warning: null argument where non-null required (argument 1)\n[-Wnonnull]\nbsdf.c:182:2: warning: null argument where non-null required (argument 1)\n[-Wnonnull]\nbsdf.c:182:2: warning: null argument where non-null required (argument 1)\n[-Wnonnull]\ncc -DBSD -O   -c -o bsdf_m.o bsdf_m.c\ncc -DBSD -O   -c -o bsdf_t.o bsdf_t.c\ncc -DBSD -O   -c -o loadbsdf.o loadbsdf.c\ncc -DBSD -O   -c -o disk2square.o disk2square.c\ncc -DBSD -O   -c -o hilbert.o hilbert.c\ncc -DBSD -O   -c -o fgetline.o fgetline.c\ncc -DBSD -O   -c -o fropen.o fropen.c\ncc -DBSD -O   -c -o linregr.o linregr.c\ncc -DBSD -O   -c -o xf.o xf.c\ncc -DBSD -O   -c -o mat4.o mat4.c\ncc -DBSD -O   -c -o invmat4.o invmat4.c\ncc -DBSD -O   -c -o fvect.o fvect.c\ncc -DBSD -O   -c -o urand.o urand.c\ncc -DBSD -O   -c -o urind.o urind.c\ncc -DBSD -O   -c -o calexpr.o calexpr.c\ncc -DBSD -O   -c -o caldefn.o caldefn.c\ncc -DBSD -O   -c -o calfunc.o calfunc.c\ncc -DBSD -O   -c -o calprnt.o calprnt.c\ncc -DBSD -O   -c -o biggerlib.o biggerlib.c\ncc -DBSD -O   -c -o multisamp.o multisamp.c\ncc -DBSD -O   -c -o unix_process.o unix_process.c\ncc -DBSD -O   -c -o process.o process.c\ncc -DBSD -O   -c -o gethomedir.o gethomedir.c\ncc -DBSD -O   -c -o getpath.o getpath.c\ncc -DBSD -O   -c -o error.o error.c\ncc -DBSD -O   -c -o savestr.o savestr.c\ncc -DBSD -O   -c -o savqstr.o savqstr.c\ncc -DBSD -O   -c -o badarg.o badarg.c\ncc -DBSD -O   -c -o fgetword.o fgetword.c\ncc -DBSD -O   -c -o words.o words.c\ncc -DBSD -O   -c -o expandarg.o expandarg.c\ncc -DBSD -O   -c -o wordfile.o wordfile.c\ncc -DBSD -O   -c -o fgetval.o fgetval.c\ncc -DBSD -O   -c -o clip.o clip.c\ncc -DBSD -O   -c -o plocate.o plocate.c\ncc -DBSD -O   -c -o eputs.o eputs.c\ncc -DBSD -O   -c -o wputs.o wputs.c\ncc -DBSD -O   -c -o quit.o quit.c\ncc -DBSD -O   -c -o lookup.o lookup.c\ncc -DBSD -O   -c -o bmalloc.o bmalloc.c\ncc -DBSD -O   -c -o loadvars.o loadvars.c\ncc -DBSD -O   -c -o tcos.o tcos.c\ncc -DBSD -O   -c -o fputword.o fputword.c\ncc -DBSD -O   -c -o chanvalue.o chanvalue.c\ncc -DBSD -O   -c -o dircode.o dircode.c\ncc -DBSD -O   -c -o paths.o paths.c\ncc -DBSD -O   -c -o byteswap.o byteswap.c\ncc -DBSD -O   -c -o ealloc.o ealloc.c\ncc -DBSD -O   -c -o fdate.o fdate.c\ncc -DBSD -O   -c -o portio.o portio.c\ncc -DBSD -O   -c -o myhostname.o myhostname.c\ncc -DBSD -O   -c -o erf.o erf.c\ncc -DBSD -O   -c -o strcmp.o strcmp.c\nstrcmp.c: In function \u2018strcmp\u2019:\nstrcmp.c:13:17: warning: argument \u2018s1\u2019 doesn\u2019t match built-in prototype\n[enabled by default]\n register char  *s1, *s2;\n                 ^\nstrcmp.c:13:22: warning: argument \u2018s2\u2019 doesn\u2019t match built-in prototype\n[enabled by default]\n register char  *s1, *s2;\n                      ^\nrm -f librtrad.a\nar rc librtrad.a cone.o face.o free_os.o instance.o readobj.o readoct.o\notypes.o objset.o octree.o readfargs.o modobject.o getlibpath.o\naddobjnotify.o zeroes.o mesh.o readmesh.o tmesh.o sceneio.o color.o\nheader.o image.o lamps.o resolu.o rexpr.o spec_rgb.o colrops.o font.o\ntonemap.o tmapcolrs.o tmapluv.o tmaptiff.o tmap16bit.o bmpfile.o\nfalsecolor.o ezxml.o ccolor.o ccyrgb.o bsdf.o bsdf_m.o bsdf_t.o loadbsdf.o\ndisk2square.o hilbert.o fgetline.o fropen.o linregr.o xf.o mat4.o invmat4.o\nfvect.o urand.o urind.o calexpr.o caldefn.o calfunc.o calprnt.o biggerlib.o\nmultisamp.o unix_process.o process.o gethomedir.o getpath.o error.o\nsavestr.o savqstr.o badarg.o fgetword.o words.o expandarg.o wordfile.o\nfgetval.o clip.o plocate.o eputs.o wputs.o quit.o lookup.o bmalloc.o\nloadvars.o tcos.o fputword.o chanvalue.o dircode.o paths.o byteswap.o\nealloc.o fdate.o portio.o myhostname.o erf.o strcmp.o\nranlib librtrad.a\ncc -DBSD -O   -c -o mgf_parser.o mgf_parser.c\ncc -DBSD -O   -c -o mgf_object.o mgf_object.c\ncc -DBSD -O   -c -o mgf_xf.o mgf_xf.c\ncc -DBSD -O   -c -o mgf_context.o mgf_context.c\nrm -f libmgf.a\nar rc libmgf.a mgf_parser.o mgf_object.o mgf_xf.o mgf_context.o\nranlib libmgf.a\n/usr/bin/ld: badarg.o: Die Umlagerung von\nbadarg.o: error adding symbols: Ung\u00fcltiger Wert -- unvalid data\ncollect2: error: ld returned 1 exit status\ninstall.sh: Zeile 19: javac: Befehl nicht gefunden --- command not found\ninstall.sh: Zeile 21: javah: Befehl nicht gefunden --- command not found\nIn file included from libBSDF.cpp:13:0:\nlibBSDF.h:2:17: fatal error: jni.h: Datei oder Verzeichnis nicht gefunden\n-- not found\n #include <jni.h>\n                 ^\ncompilation terminated.\ng++: error: libBSDF.o: Datei oder Verzeichnis nicht gefunden -- not found\ng++: error: libBSDF.so: Datei oder Verzeichnis nicht gefunden --- not found\ng++: fatal error: no input files\ncompilation terminated.\ncp: der Aufruf von stat f\u00fcr \u00bbBSDFViewer/libBSDF.so\u201c ist nicht m\u00f6glich:\nDatei oder Verzeichnis nicht gefunden -- not found\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2016-February/011468.html).</sup>", "id": "radiance-general_011468", "created_by": "Robert_Weitlaner"}