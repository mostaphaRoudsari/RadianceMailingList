{"topic": "Python scripts for Radiance", "category": "radiance-dev", "attachments": [], "created_by_name": "Georg Mischler", "created_at": "March 21, 2016 at 09:02AM", "body": "Hi again!\n\n\nI have converted some of the original Radiance shell scripts into \nPython.\n   https://github.com/gmischler/PyRad\n\n\nThe examples so far are exact drop-in replacements of the original csh\nor Perl versions, but with some extra functionality and benefits.\n\n\n* usage instructions (-H)\n* progress report (-V)\n* dry-run mode (-N)\n* detailed error diagnostics\n* compatible with Python 2.7 and Python 3.x\n* self contained (all functionality can be combined in one file)\n* truly cross-platform (no dependencies other than Python and Radiance)\n* direct process management (no intermediate shell calls)\n* immune to whitespace in file names\n* tamper-proof use of temporary files\n* instrumented for building a single-file *.exe with pyinstaller\n\n\n\n\nThe current selection is still small, the examples were chosen for\nvarying reasons:\n\n\n* falsecolor.py\n   This one has been sitting on my disk (in much less refined form) for\n   many years. Now I've updated it to using color palettes and to satisfy\n   all the points above.\n\n\n* phisto.py\n* rlux.py\n* pveil.py\n   Those three became test candidates because they are simple and have\n   a straightforward command line.\n\n\nI'm looking for ideas (and contributions) on where to continue next.\n\n\nGood candidates are scripts that are commonly used.\nIt is also very helpful if a script includes documentation about what\nit's actually supposed to do. Ideally with a set of test data to\nverify that it really does that.\nActually, a solid set of test cases for the current collection would\nbe very helpful too.\n\n\nSome of the csh/Perl scripts present a challenge, because they have\nrather unconventional command lines. In those cases, we might want to\nconsider changing the interface to something more regular, provided\nthis is possible.\n\n\nNot all of the existing scripts are really worth the effort.\nThe Python versions with the extra functionality are definitively not\nas simple as the originals. Flexibility and safety has its price.\nOn the other hand, they will definitively be *much* easier to maintain.\n\n\nMany of the current scripts (csh *and* Perl) blindly assume the\nexistence of a unix type shell, a number of other posix tools\n(grep/awk/sed/etc.), and they often fail with spaces in file and\ndirectory names. Fixing this would introduce additional overhead\nin any language.\n\n\n\n\nWhy Python?\n\n\nFor developers, it is simply one of the most productive tools around.\nPython has grown into one of the most popular languages just by its\npractical merits, without any corporate backing, and without a very\nstrong web appeal.\n\n\nMost Radiance users will already have it installed, no matter the\nplatform.\n\n\nOn unix, scripts can be invoked by \"#!\" (like any other).\n\n\nAny script can be \"compiled\" into a standalone executable file.\nThis is important on Windows, because invoking scripts (Python,\n*.bat, or otherwise) from within programs is a real hassle there.\nIn fact, it ended up being the simplest way to get winimage to\nperform falsecolor analysis.\n(This could also be done with Perl, but...)\n\n\n\n\nI expect Python to play an increasing role in Radiance development in\nthe future, with or without my own involvement.  So we might just as\nwell embrace it.\n\n\nI would like to suggest adding Python versions of the most commonly\nused scripts to the distribution. There are several possible\nconfigurations how this could be done, so we'd have to discuss a\nnumber of technical details first. And yes, verification before\ninclusion would be an important step.\n\n\nOpinions?\n\n\n-schorsch\n\n\n\n\nGeorg Mischler  --  simulations developer  --  schorsch at schorsch com\n+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-dev/2016-March/001529.html).</sup>", "id": "radiance-dev_001529", "created_by": "Georg_Mischler"}