{"topic": "Domain errors with incidence and solid angles during overflow correction", "category": "hdri", "attachments": [], "created_by_name": "Iason Konstantzos", "created_at": "November 12, 2016 at 05:10PM", "body": "Hello everyone,\n\n\n\n\nI have been doing some tests in order to apply the methodology for overflow correction covered in this year's paper by Jakubiec et al. using pcomb, as for example:\n\n\n\n\npcomb -e \"lo=L ? Sang ? cosCor; L=179 ? li(1);\nSang=S(1); cosCor=Dy(1);\" -o masked.hdr\n| pvalue -d -b -h -H\n| total\n\n\n\n\nHowever, I keep getting \"domain error\" messages for both the S(n) and Dy(n) functions in my images. My first thought was something's wrong with the headers, but the view information looks correct having the full 180 degrees span of my Sigma lens.\n\n\nImages are created by HDRgen using response function obtained by Photosphere, and are  square-cropped, and resized to 800x800, and otherwise work fine, in terms of validating luminances or illuminances over Evalglare (at least the ones that don't contain the sun).\n\n\n\n\nI'm getting the same domain errors in terms of solid angles when I try to extract a mapping of solid angles, using something like:  cat image.hdr |pcomb -e 'solidangl=S(1); ro=omega; go=omega; bo=omega' -o - > solid_angles.hdr\n\n\n\n\nIf anybody has any hints or ideas, I'd greatly appreciate it, as I think that with careful use (no specular reflections etc.), overflow correction can be a great solution over the alternatives for direct sun measurements.\n\n\n\n\nThanks in advance,\n\n\nIason Konstantzos\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/hdri/2016-November/000584.html).</sup>", "id": "hdri_000584", "created_by": "Iason_Konstantzos"}