{"topic": "irradiance calc that ignores incident angle", "category": "radiance-general", "attachments": [], "created_by_name": "Stephen Wasilewski", "created_at": "June 29, 2017 at 02:48PM", "body": "I'm curious if anyone knows of a way to simulate a sensor point that has a\nconstant response (not cosine corrected) for all incident angles (at least\nover a hemisphere).  I know I can do this with an angular fisheye image and\nI assume I could use rsensor, but i would like a way to do this with a\nsingle rtrace or rpict calculation.  Applications include:\n\n\n1. measuring direct normal irradiance (when I know the source is small\n(cos(x) ~ 1), but not the incident angle.\n2. calculating percent of a sky/source description that is visible from a\npoint.\n\n\nThe one though I have is to place an analysis plane with a BRTDfunc\nmaterial assigned and then do a radiance calc looking at the plane, but\nthis only works for the 1st case, where it is part of the direct\ncalculation.  For the second case I tried making a bsdf with bsdf2ttree (or\nbsdf2klems) but it seems to introduce a lot of sampling error and doesn't\nappear to be working quite right.\n\n\nBRTDfunc approach:\n\n\n#cal file:\nr(x,y,z) = 1/(x*NxP+y*NyP+z*NzP)/PI;\n\n\n#material:\nvoid BRTDfunc test\n10 0 0 0 0 0 0 r r r test.cal\n0\n9 0 0 0 0 0 0 0 0 0\n\n\nBSDF approach:\n#cal file:\nrdif(ix,iy,iz,ox,oy,oz) = if(oz*iz,1/(ix*ox+iy*oy+iz*oz)/PI,0);\n\n\n#bsdf2ttree:\nbsdf2ttree -t3 -g 7 -forward -f test.cal rdif > test.xml\n\n\n#material:\nvoid BSDF test\n6 0 test.xml 0 1 0 .\n0\n0\n\n\nEither way, this feels like an inelegant approach, so anyone have a better\nidea or a way to get this working for a diffuse calculation?\n\n\nStephen Wasilewski\n*LOISOS *+* UBBELOHDE*\n- - - - - - - - - - - - - - - - - - - - - - - - - - -\n1917 Clement Avenue  Building 10A\nAlameda, CA  94501 USA\n- - - - - - - - - - - - - - - - - - - - - - - - - - -\n510 521 3800 VOICE\n510 521 3820 FAX\n- - - - - - - - - - - - - - - - - - - - - - - - - - -\nwww.coolshadow.com\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2017-June/012154.html).</sup>", "id": "radiance-general_012154", "created_by": "Stephen_Wasilewski"}