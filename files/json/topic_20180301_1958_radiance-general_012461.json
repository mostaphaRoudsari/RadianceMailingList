{"topic": "Emp: Another Radiance-based calculation engine", "category": "radiance-general", "attachments": [], "created_by_name": "Germ\u00e1n Molina Larrain", "created_at": "March 01, 2018 at 07:58PM", "body": "Hello List,\n\n\nAs some of you might now, I have been developing Groundhog\n<https://github.com/GroundhogLighting/Groundhog> for a few years now. Even\nif its use has not spread too much, my students have help me improve the\nusability, fixing bugs and understanding my users. Thanks to those\nimprovements, some Groundhog users have started to create models much more\nlarge and complex than those it has been tested at, causing that an\nimportant part of the processing time is not due to the Radiance\ncalculation, but by the pre and post processing of results (i.e.\nTriangulation of workplanes, analysis of the hourly data on each of the\n3892 sensors in a workplane).\n\n\nIn order to solve this problem, I re-writing the calculation processes of\nGroundhog in C++. This re-writing has allowed me to re-think how things\nwere done, thus I quickly realized that this could become a separate\nproject that can be reused by others. This reusable C++ library is called\nEmp_core <https://github.com/GroundhogLighting/emp_core>, is now as Open\nSource on Github.\n\n\nThe testing of this engine is done using a program called simply Emp\n<https://github.com/GroundhogLighting/emp>, which I expect to ship with the\nnext big release of Groundhog. Emp is a Lua wrapper to Emp_core, that tries\nto provide Radiance with some features I think would improve it. Those are:\n\n\n   - *Efficient out-of-the-box multicore processing across programs* (i.e.\n   call several RTRACE or RCONTRIB threads at the same time)\n      - *Out of the box script optimization, eliminating redundant tasks*\n   (i.e. do not create two octrees for calculating the Daylight Factor and the\n   Annual Illuminance... one is enough... but please reuse the ambient files\n   when possible)\n      - *Cross platform script-based model generation* (i.e. do not rely on\n   Unix programs to generate complex geometry... on the contrary, allow\n   including trigonometric functions, randomness, and more, in all platforms)\n      - *Read and write several file formats* (i.e. allow me to draw my\n   models in some modern 3D modelling tool)\n      - *Simple automation of those tasks required on a daily basis*, so I\n   can work faster and avoid errors (i.e. I do not want to write a script\n   every time I want to perform a Climate Based Daylight Simulation)\n      - *Cross platform consistency* (i.e. should I write rcalc -e \"$1 =\n   $1+$2\" or rcalc -e '$1 = $1+$2' ?)\n      - *Workplane interpretation as geometry, not a grid of points* (i.e.\n   if I want to know the Spatial Daylight Autonomy of a workplane, I can\n   probably describe a polygon that encolses it... but I do not want to write\n   every point where the illuminance is measured)\n      - *Post-processing capabilities* (i.e. my workplane contains 4,528\n   sensors... I do not want to know, nor write down, the illuminance of each\n   of them on each of the 8,760 hours of the year. Just return the CBD metric\n   I asked for)\n      - Do not create 3,125 files, please (i.e. there are several files I\n   am not interested in, which are just intermediate results... please delete\n   them afterwards)\n\n\nThese improvements are possible thanks to Intel TBB library, and some\ntriangulation libraries (for meshing workplanes) available in Github as\nwell.\n\n\nAs mentioned earlier, Emp_core is meant to allow integration to other CAD\ntools (I am looking at you, Revit) and other formats (ESPr and EnergyPlus,\nprobably?). Emp, on the other hand, is meant to allow scripting. It is\npossible to use scripts to just generate models, or to solving them.\n\n\nIf anyone is interested in knowing more, please let me know. All this is in\nearly stages of development, so it is still quickly changing.\n\n\nBest,\n\n\n\n\nGerm\u00e1n Molina\n___\n<sup>Automatically generated content from [radiance mailing-list](https://radiance-online.org/pipermail/radiance-general/2018-March/012461.html).</sup>", "id": "radiance-general_012461", "created_by": "Germ\u00e1n_Molina_Larrain"}