From radiance-general@radiance-online.org  Thu Mar  7 13:55:17 2002
From: radiance-general@radiance-online.org (Jan Wienold)
Date: Thu, 07 Mar 2002 14:55:17 +0100
Subject: [Radiance-general] Problem with avlmemi
References: <3372909E-23C7-11D6-B0E0-0003930BCBE6@tin.it> <3C70EE69.2E82FF93@gmx.net>
Message-ID: <3C877145.FB4C646E@ise.fhg.de>

--------------354DBBA3B3AD24EF0B2D5136
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi all,

we installed the 3.4 RADIANCE and get now in many cases following error message:

rpict: consistency - address not found in avlmemi

We also tried to store an ambient file and to restart the job with it - with the same result.

If we use our "older" version (I think it is 3.1 patchlevel 11), this problem does not occur.

Any idea how to solve that?

Jan

--
-------------------------------------------------------------------
   o -
  | \            Jan Wienold
                 Fraunhofer Institute for Solar Energy Systems
                 SOLAR BUILDING DESIGN GROUP - DAYLIGHTING
                 Heidenhofstr. 2
                 79110 Freiburg
                 GERMANY

                 Phone: ++49 - (0) 761 - 4588 -5- 133
                 Fax:   ++49 - (0) 761 - 4588 -9- 133
                 Email: jan.wienold@ise.fhg.de

                 Internet:
                 http://www.ise.fhg.de



--------------354DBBA3B3AD24EF0B2D5136
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>

<pre>Hi all,</pre>

<pre>we installed the 3.4 RADIANCE and get now in many cases following error message:</pre>

<pre>rpict: consistency - address not found in avlmemi
</pre>

<pre>We also tried to store an ambient file and to restart the job with it - with the same result.</pre>

<pre>If we use our "older" version (I think it is 3.1 patchlevel 11), this problem does not occur.</pre>

<pre>Any idea how to solve that?</pre>

<pre></pre>

<pre>Jan</pre>

<pre></pre>

<pre></pre>

<pre></pre>

<pre></pre>

<pre></pre>

<pre></pre>

<pre>--&nbsp;
-------------------------------------------------------------------
&nbsp;&nbsp; o -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; | \&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Jan Wienold
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fraunhofer Institute for Solar Energy Systems
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SOLAR BUILDING DESIGN GROUP - DAYLIGHTING
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Heidenhofstr. 2&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 79110 Freiburg
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GERMANY
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Phone: ++49 - (0) 761 - 4588 -5- 133
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fax:&nbsp;&nbsp; ++49 - (0) 761 - 4588 -9- 133
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Email: jan.wienold@ise.fhg.de
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <A HREF="http://www.ise.fhg.de">http://www.ise.fhg.de</A></pre>
&nbsp;</html>

--------------354DBBA3B3AD24EF0B2D5136--


From radiance-general@radiance-online.org  Thu Mar  7 14:20:27 2002
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Thu, 7 Mar 2002 09:20:27 -0500 (EST)
Subject: [Radiance-general] Problem with avlmemi
In-Reply-To: <3C877145.FB4C646E@ise.fhg.de>
Message-ID: <Pine.BSF.4.30.0203070916550.30449-100000@emancholl.pair.com>

Jan Wienold wrote:

> Hi all,
>
> we installed the 3.4 RADIANCE and get now in many cases following error
> message:
>
> rpict: consistency - address not found in avlmemi
>
> We also tried to store an ambient file and to restart the job with it - with
> the same result. If we use our "older" version (I think it is 3.1 patchlevel
> 11), this problem does not occur.
>
> Any idea how to solve that?


Thats one of the signs to tell if a mailing list is authoritative
on a topic. It is, when questions can be answered by pointing to the
archives: ;)

http://www.radiance-online.org/pipermail/radiance-general/2001-July/000017.html


Have fun!

-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Thu Mar  7 14:34:47 2002
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Thu, 07 Mar 2002 15:34:47 +0100
Subject: [Radiance-general] Problem with avlmemi
References: <3372909E-23C7-11D6-B0E0-0003930BCBE6@tin.it> <3C70EE69.2E82FF93@gmx.net> <3C877145.FB4C646E@ise.fhg.de>
Message-ID: <3C877A87.5E33B589@gmx.net>

Jan Wienold wrote:
> 
> Hi all,
> 
> we installed the 3.4 RADIANCE and get now in many cases following error message:
> 
> rpict: consistency - address not found in avlmemi
> 
> We also tried to store an ambient file and to restart the job with it - with the same result.
> 
> If we use our "older" version (I think it is 3.1 patchlevel 11), this problem does not occur.
> 
> Any idea how to solve that?


Howdy Jan -- long time no see! :^)

Oh yeah... the age-old avlmemi bug... the plight of any RADIANCE
developer! This problem popped up on patchlevel 20. I circumvented it by
simply disabling the call to sortambvals() at line #230 in the ambient.c
module:

#if 0        
   if (tracktime)                          /* sort to minimize thrashing
*/             sortambvals(0);
#endif
   
Runs fine without it! Maybe Greg can shed some light on why
sortambvals() is needed. As far as I can see this should be redundant on
modern VM systems.

See ya!


-- 
"Life is too short for core dumps"

From radiance-general@radiance-online.org  Thu Mar  7 16:42:52 2002
From: radiance-general@radiance-online.org (John de Valpine)
Date: Thu, 07 Mar 2002 08:42:52 -0800 (PST)
Subject: [Radiance-general] Problem with avlmemi
In-Reply-To: <3372909E-23C7-11D6-B0E0-0003930BCBE6@tin.it> <3C70EE69.2E82FF93@gmx.net> <3C877145.FB4C646E@ise.fhg.de> from Roland Schregle <ganjatron@gmx.net> on Thu, 07 Mar 2002 15:34:47 +0100
Message-ID: <200203071642.LAA16169@swiftsure.cnchost.com>

Hi:

Ambient value sorting, sortambvals(), can be turned of
at compile time (rather than messing with the source
code) with the following addition to rmake in the
MACH= line:

-Dtracktime=0


for example (for compilation on a linux box):

#!/bin/sh
exec make "SPECIAL=" \
        "OPT=-O2 -DSPEED=40" \
        "MACH=-DBSD -Dlinux -DDCL_ATOF
-L/usr/X11R6/lib -I/usr/include/X11 -DNOSTEREO
-Dtracktime=0 -DMAXOBJBLK=131071 -DBIGMEM" \
        ARCH=IBMPC "COMPAT=bmalloc.o erf.o
getpagesize.o" \
        INSTDIR=/usr/local/bin \
        LIBDIR=/usr/local/lib/ray \
        CC=gcc "$@" -f Rmakefile   

Regards,

-Jack de Valpine

        
    
---- radiance-general@radiance-online.org wrote:
> Jan Wienold wrote:
> > 
> > Hi all,
> > 
> > we installed the 3.4 RADIANCE and get now in many
cases following error message:
> > 
> > rpict: consistency - address not found in avlmemi
> > 
> > We also tried to store an ambient file and to
restart the job with it - with the same result.
> > 
> > If we use our "older" version (I think it is 3.1
patchlevel 11), this problem does not occur.
> > 
> > Any idea how to solve that?
> 
> 
> Howdy Jan -- long time no see! :^)
> 
> Oh yeah... the age-old avlmemi bug... the plight of
any RADIANCE
> developer! This problem popped up on patchlevel 20.
I circumvented it by
> simply disabling the call to sortambvals() at line
#230 in the ambient.c
> module:
> 
> #if 0        
>    if (tracktime)                          /* sort
to minimize thrashing
> */             sortambvals(0);
> #endif
>    
> Runs fine without it! Maybe Greg can shed some light
on why
> sortambvals() is needed. As far as I can see this
should be redundant on
> modern VM systems.
> 
> See ya!
> 
> 
> -- 
> "Life is too short for core dumps"
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
>
http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From radiance-general@radiance-online.org  Fri Mar  8 00:29:18 2002
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Thu, 07 Mar 2002 17:29:18 -0700
Subject: [Radiance-general] rtrace error in Radiance release 3.4
References: <200202161105.g1GB52Q22859@darkside-animation.com>
Message-ID: <3C8805DE.FEC4BEE6@archenergy.com>

Hello,

I have just installed the new Radiance release 3.4 and I think I found a
bug.  On large, high quality simulations, I get this error;

rtrace: consistency - address not found in avlmemi

I know I was experiencing this same error with Rayfront, and Georg, you said
it had something to do with a bug in the qsort routine.  Anyways, you fixed
it and sent me new rpict/rview/rtrace binaries.  However, as you all probably
know and I believe due to the different directory structures between
programs, these fixed Rayfront binaries do not work with the new Radiance 3.4
release(eg. can't find rayinit.cal etc.).  I believe this is just the same
bug in the Radiance 3.4 release.  So...in the meantime, does anybody know of
a workaround solution?  And is anybody else getting this or similar errors or
is something wrong with the wau my models are set up that cause this to
happen?  The exact same model works fine on both my windows installation and
my rayfront installation (with new 3 updated binaries).

Thanks!
~Zack

--
Celebrating 20 Years of Improving Building Energy Performance

Zack Rogers
Daylighting Designer/Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
www.archenergy.com



From radiance-general@radiance-online.org  Fri Mar  8 00:48:25 2002
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Thu, 07 Mar 2002 17:48:25 -0700
Subject: [Radiance-general] Re: rtrace error follow-up
References: <200109151000.f8FA0CW19171@darkside-animation.com>
Message-ID: <3C880A59.507147CA@archenergy.com>

Hello,

I spoke too soon.  Using Georg's updated rpict/rview/rtrace binaries, which I believe are in the newest Rayfront release??, with the Radiance 3.4 release works.  We
just had to set the RAYPATH to, in our case, usr/local/lib/ray.  It had not been previously set but, for some reason, didn't give an error until I copied over the
new rpict/rview/rtrace binaries.

~Zack

--
Celebrating 20 Years of Improving Building Energy Performance

Zack Rogers
Daylighting Designer/Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
www.archenergy.com



From radiance-general@radiance-online.org  Fri Mar  8 22:30:40 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Fri, 8 Mar 2002 14:30:40 -0800
Subject: [Radiance-general] Re: Problem with avlmemi
In-Reply-To: <200203081101.g28B12Q13446@darkside-animation.com>
Message-ID: <1ED9A784-32E4-11D6-B501-00306540F848@lmi.net>

SIGH...

I wish to heaven they would fix the qsort() routine so it would stop 
haunting me...  How can something so basic and necessary remain broken 
for so many years??

I should really have put the -Dtracktime=0 switch into the makeall 
script for Linux, but since it shows up in a number of other places that 
use the GNU libraries, this probably wouldn't fix everyone's problem.  I 
thought the Linux folks had repaired it, to be honest.

It's true that modern VM systems are quite good when it comes to 
swapping, but also true that highly fragmented memory access is always a 
performance hit when you run out of RAM, so I'm reluctant just to remove 
the optimization altogether.  It does work on systems that don't use the 
GNU libraries....  At the very least, I should recompile the Linux 
binaries on the website.

Have people been getting this error with the compiled binaries, or just 
ones they compiled themselves from the 3.4 source?

-Greg

> Jan Wienold wrote:
>
> Hi all,
>
> we installed the 3.4 RADIANCE and get now in many cases following error
> message:
>
> rpict: consistency - address not found in avlmemi
>
> We also tried to store an ambient file and to restart the job with it - 
> with
> the same result. If we use our "older" version (I think it is 3.1 
> patchlevel
> 11), this problem does not occur.
>
> Any idea how to solve that?
>
>
> Thats one of the signs to tell if a mailing list is authoritative
> on a topic. It is, when questions can be answered by pointing to the
> archives: ;)
>
> http://www.radiance-online.org/pipermail/radiance-
> general/2001-July/000017.html
>
>
> Have fun!
>
> -schorsch
>
> --
> Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
> +schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Mon Mar 11 18:49:54 2002
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Mon, 11 Mar 2002 11:49:54 -0700
Subject: [Radiance-general] Re: Problem with avlmemi
References: <200203091105.g29B5DQ15833@darkside-animation.com>
Message-ID: <3C8CFC52.AC549EB9@archenergy.com>

Greg,

FYI - We got this error with binaries we compiled ourselves from the 3.4
source.  We use Suse 7.3 if that helps.  Thanks everyone for the insight into
this problem!  We have everything running correctly now.

~Zack

radiance-general-request@radiance-online.org wrote:

> Send Radiance-general mailing list submissions to
>         radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-admin@radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
> Today's Topics:
>
>    1. Re: Problem with avlmemi (Greg Ward)
>
> --__--__--
>
> Message: 1
> Date: Fri, 8 Mar 2002 14:30:40 -0800
> From: Greg Ward <gward@lmi.net>
> To: radiance-general@radiance-online.org
> Subject: [Radiance-general] Re: Problem with avlmemi
> Reply-To: radiance-general@radiance-online.org
>
> SIGH...
>
> I wish to heaven they would fix the qsort() routine so it would stop
> haunting me...  How can something so basic and necessary remain broken
> for so many years??
>
> I should really have put the -Dtracktime=0 switch into the makeall
> script for Linux, but since it shows up in a number of other places that
> use the GNU libraries, this probably wouldn't fix everyone's problem.  I
> thought the Linux folks had repaired it, to be honest.
>
> It's true that modern VM systems are quite good when it comes to
> swapping, but also true that highly fragmented memory access is always a
> performance hit when you run out of RAM, so I'm reluctant just to remove
> the optimization altogether.  It does work on systems that don't use the
> GNU libraries....  At the very least, I should recompile the Linux
> binaries on the website.
>
> Have people been getting this error with the compiled binaries, or just
> ones they compiled themselves from the 3.4 source?
>
> -Greg
>
> > Jan Wienold wrote:
> >
> > Hi all,
> >
> > we installed the 3.4 RADIANCE and get now in many cases following error
> > message:
> >
> > rpict: consistency - address not found in avlmemi
> >
> > We also tried to store an ambient file and to restart the job with it -
> > with
> > the same result. If we use our "older" version (I think it is 3.1
> > patchlevel
> > 11), this problem does not occur.
> >
> > Any idea how to solve that?
> >
> >
> > Thats one of the signs to tell if a mailing list is authoritative
> > on a topic. It is, when questions can be answered by pointing to the
> > archives: ;)
> >
> > http://www.radiance-online.org/pipermail/radiance-
> > general/2001-July/000017.html
> >
> >
> > Have fun!
> >
> > -schorsch
> >
> > --
> > Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
> > +schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/
>
> --__--__--
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> End of Radiance-general Digest

--
Celebrating 20 Years of Improving Building Energy Performance

Zack Rogers
Daylighting Designer/Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
www.archenergy.com



From radiance-general@radiance-online.org  Mon Mar 11 19:39:43 2002
From: radiance-general@radiance-online.org (frederic drago)
Date: Mon, 11 Mar 2002 19:39:43 +0000
Subject: [Radiance-general] proper use of pcond and ximage
Message-ID: <F91ziWwSoRKbpG1Kiae0000b841@hotmail.com>

I am trying to map a scene (not rendered with Radiance, but saved as RGBE 
pic)using the histogram method with pcond.
Who can I map luminance values not from black to white but from dark
to white. Clearly shadows areas are not black, the output of pextrem is like 
that:
469 73  5.702972e-04 5.702972e-04 5.702972e-04
311 652 7.402344e-01 7.402344e-01 7.402344e-01

I can do it with linear mapping, but my purpose is really to use
the histogram method!!

This problem seems to be relevant to almost any scene.

Thanks for any advice.

Frederic Drago



_________________________________________________________________
Join the world’s largest e-mail service with MSN Hotmail. 
http://www.hotmail.com


From radiance-general@radiance-online.org  Wed Mar 13 15:41:15 2002
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Wed, 13 Mar 2002 07:41:15 -0800 (PST)
Subject: [Radiance-general] Re: proper use of pcond and ximage
In-Reply-To: <200203131101.g2DB12Q24674@darkside-animation.com>
References: <200203131101.g2DB12Q24674@darkside-animation.com>
Message-ID: <1016034075.3c8f731b8c616@webmail.lmi.net>

Hi Frederic,

I'm not sure what you are asking, exactly, but pcond should work
fine as long as you give it a valid Radiance picture.  The
command syntax is simple:

% pcond input.pic > output.pic

There are a bunch of options for simulating human visibility, etc.,
but you probably should avoid them if your input image isn't
calibrated (i.e., if it doesn't have a valid EXPOSURE= line
in the header, which you can read with the getinfo command).

Another program that performs a simpler, faster histogram adjustment
is normtiff, which takes a Radiance or LogLuv TIFF input and produces
a 24-bit RGB TIFF output.  It's syntax is:

% normtiff input output.tif

The minimum value in the image will be mapped to the minimum value
of the display, which is determined by the dynamic range given in
the -d option (default is 32).  This comes out as 0 in the 0-255
range.  If you don't want black output values, then you will have
to use a different algorithm or modify the source code of this one.
But why wouldn't you want to use the full display range available?
Do you have a specific application need you aren't telling us about?

-Greg
-----------------------

Frederic Drago writes:

I am trying to map a scene (not rendered with Radiance, but saved as RGBE 
pic)using the histogram method with pcond.
Who can I map luminance values not from black to white but from dark
to white. Clearly shadows areas are not black, the output of pextrem is like 
that:
469 73  5.702972e-04 5.702972e-04 5.702972e-04
311 652 7.402344e-01 7.402344e-01 7.402344e-01

I can do it with linear mapping, but my purpose is really to use
the histogram method!!

This problem seems to be relevant to almost any scene.

Thanks for any advice.

Frederic Drago

From radiance-general@radiance-online.org  Thu Mar 14 19:58:38 2002
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Thu, 14 Mar 2002 14:58:38 -0500
Subject: [Radiance-general] sunpath script error
Message-ID: <3C90BA9E.30398.12BA5FD@localhost>

Hello all-

I have been working on the (excellent) daylight analysis 
chapter in "Rendering With Radiance" (chapter six).  I am 
attempting to use the sunpath shell script, but keep 
getting this error:

$1=/2
^ unexpected character
oconv: system - cannot open scene file "sky.rad": No such 
file or directory
Usage: pcompos [-x xr][-y yr][-b r g b][-a n][-s p][-o x0 
y0][-la][-lh h] [-t min1][+t max1][-l lab][=SS] pic1 x1 y1 ..
rpict: fatal - command line error at '-av'
rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on 
localhost
pfilt: bad picture size

Being a newbie with not only Radiance but also UNIX, I'm 
wearing out a spot on my head where I keep scratching 
it. It appears that the $skypar variable is not getting 
populated correctly; oconv then fails to create the 
daylight component of the model (sky.rad), and 
everything falls apart from there. 
I have looked at this for some time, but I know it's easy 
to miss mistakes in code especially when you don't fully 
understand all the nuances of the commands yet.  Could 
someone here spot the error of my ways?  I have pasted 
the script below (some of the long lines may wrap, but 
compare them to what's in the book -- sorry, I forget 
what page it's on but it's in chapter 6). 

BTW, I'm running this on OS X, using the pre-compiled 
binaries from Greg Ward. (thanks Greg!)


#!/bin/csh -f
set mon = 06
set month = June
set day = 21
set coord = ( -a 42.3 -o 71.1 -m 75)
set ab = 2
set ad = 512
set as = 128
set ar = 64
set aa = 0.3
foreach hr (09 10 11)
set skypar = ($mon $day $hr +i $coord)
set gambv = `gensky $skypar | rcalc -i '# Ground 
ambient\ level: ${ga}' -e '$1=ga'`
if ($gambv == 0) goto SKYDARK
set inamb = `rcalc -n -e '$1='"$gambv"'/2'`
set inamb = ($inamb $inamb $inamb)
set ambpar = (-ab $ab -ad $ad -as $as -ar $ar -aa $aa -
av $inamb)
oconv -i room.oct '\!gensky '"$skypar" sky.rad > hr.oct
rpict -vf 1.vf $ambpar \
-x 1024 -y 1024 hr.oct \
| pfilt -1 -e 0.06 -x /3 -y /3 \
| pcompos -0 0 '\!psign '"$month"' '"$day"' '"$hr"'h00' 0 0 
> $month$day$hr.pic
rm hr.oct
SKYDARK:
end


         ====================
 Rob Guglielmetti <rpg777@earthlink.net>
    http://home.earthlink.net/~rpg777

From radiance-general@radiance-online.org  Thu Mar 14 20:09:25 2002
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Thu, 14 Mar 2002 15:09:25 -0500
Subject: [Radiance-general] view types in rview
Message-ID: <3C90BD25.17026.135870E@localhost>

Newbie question #2 (in a series):

In rview, when I try to change my view, the first prompt 
that comes up is "view type (v)".  What are my other 
options, from the rview command line?  I looked in the 
html formatted man pages on the CD-ROM that came with 
the book, but it does not go into it there. 

Whicl leads me to question #3.  How can I get the man 
pages working from the command line if I loaded the pre-
compiled binaries?  Are they there, and I just need to set 
a link or something?  Or do I need to compile from source 
for that stuff to get installed?  I've been using the CD-
ROM stuff, but I'd like to have commandline access to it 
and also read up on the holodeck (assuming there's a 
man page for it).  

Sorry for this sudden barrage of newbie questions.  I 
hope to have more challenging ones for you all later on...

         ====================
 Rob Guglielmetti <rpg777@earthlink.net>
    http://home.earthlink.net/~rpg777

From radiance-general@radiance-online.org  Fri Mar 15 08:10:03 2002
From: radiance-general@radiance-online.org (Raphael Compagnon)
Date: Fri, 15 Mar 2002 09:10:03 +0100
Subject: [Radiance-general] sunpath script error
In-Reply-To: <3C90BA9E.30398.12BA5FD@localhost>
Message-ID: <5.1.0.14.2.20020315090743.03056040@master.eif.ch>

The problem seems to come from the \ sign that appears at line:

set gambv = `gensky $skypar | rcalc -i '# Ground ambient\ level: ${ga}' -e 
'$1=ga'`

Just replace this line by:

set gambv = `gensky $skypar | rcalc -i '# Ground ambient level: ${ga}' -e 
'$1=ga'`

and the script should work now...

Raphaël


From radiance-general@radiance-online.org  Fri Mar 15 15:26:52 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Fri, 15 Mar 2002 07:26:52 -0800
Subject: [Radiance-general] Re: view types in rview
In-Reply-To: <200203151101.g2FB12Q30117@darkside-animation.com>
Message-ID: <135F2F41-3829-11D6-AD4E-00306540F848@lmi.net>

Hi Rob,

The view types are not defined in the rview man page, but they are 
described in the rpict one.  They are:

v:	perspective view
l:	parallel view
a:	angular fisheye
h:	hemispherical fisheye
c:	cylindrical (panorama)

These along with the other view parameters are covered pretty well in 
the rpict manual page, which you should probably read through at some 
point, daunting as that is...

If you want to access the Radiance man pages from the command line, you 
should set the MANPATH variable in your .cshrc file.  For example, if 
you installed Radiance in /usr/local/share/ray, you could set the 
following in your ~/.cshrc file:

setenv MANPATH /usr/local/share/ray/doc/man:${MANPATH}

Then, typing "man rpict" on the command line should give you the rpict 
man page.  Unfortunately, OS X seems to wrap on the lines, totally 
screwing up the format, and I haven't figured out how to fix that.  
You're probably better off with the HTML pages, except for new programs 
and ones that have changed.  You can find out how new the man pages are 
with:

% ls -lt /usr/local/share/ray/doc/man/man1

-Greg

> Newbie question #2 (in a series):
>
> In rview, when I try to change my view, the first prompt
> that comes up is "view type (v)".  What are my other
> options, from the rview command line?  I looked in the
> html formatted man pages on the CD-ROM that came with
> the book, but it does not go into it there.
>
> Whicl leads me to question #3.  How can I get the man
> pages working from the command line if I loaded the pre-
> compiled binaries?  Are they there, and I just need to set
> a link or something?  Or do I need to compile from source
> for that stuff to get installed?  I've been using the CD-
> ROM stuff, but I'd like to have commandline access to it
> and also read up on the holodeck (assuming there's a
> man page for it).
>
> Sorry for this sudden barrage of newbie questions.  I
> hope to have more challenging ones for you all later on...
>
>          ====================
>  Rob Guglielmetti <rpg777@earthlink.net>


From radiance-general@radiance-online.org  Sun Mar 17 19:52:23 2002
From: radiance-general@radiance-online.org (pillo)
Date: Sun, 17 Mar 2002 20:52:23 +0100
Subject: [Radiance-general] gendaylit, dls, glare factors
Message-ID: <7FB772B4-39E0-11D6-B03C-0003930BCBE6@tin.it>

i m osx beginner.
also rad beginner.
everything  beginner.
you ll realize soon, reading my three questions ..;-)))))))))))

FIRST QUESTION:
while trying to compile gendaylit (on osx UNIX) i get this error:

% make
cc -Ae -g        -c sun.c
cpp-precomp: Invalid option '-Ae'
make: *** [sun.o] Error 1

so i removed the -Ae tag (HP UNIX?) but with -ansi tag ...
... and another error message appeared

%make
cc -ansi -c sun.c
cc -ansi -c fropen.c
paths.h:62: only 1 arg to macro 'fropen' (2 expected)
fropen.c:20: only 1 arg to macro 'fropen' (2 expected)
fropen.c:20: illegal external declaration, missing `;' after `fropen'
fropen.c:26: illegal external declaration, found `if'
fropen.c:43: illegal method selector, found `1'
fropen.c:44: illegal method definition, missing `{' after `/'
fropen.c:46: illegal external declaration, found `if'
cpp-precomp: warning: errors during smart preprocessing, retrying in 
basic mode
make: *** [fropen.o] Error 1

so i lost my faith...
...thinking i had to edit the c source.
is anybody so kind and nice to help me compiling such program?

SECOND QUESTION:
i found a java program, DLS, and i tried to use it.
BUT although i have a working radiance install on my ibook this program 
tells kindly that radiance cannot run on a MAC.
i think it understands that ti's working on apple VJM and stops.
any idea about the way of telling it it's wrong, that radiance CAN run 
on macOSX?

THIRD QUESTION:
glare calculation.
if i use IES files to generate proper radiance light sources, does 
radiance consider them in glare calculation?
which trick should i use to solve this  (mapping luminance distribution 
on a glow material?)?




THANKS A LOT
pillo.pillo@tin.it




From radiance-general@radiance-online.org  Mon Mar 18 09:51:26 2002
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Mon, 18 Mar 2002 10:51:26 +0100
Subject: [Radiance-general] gendaylit, dls, glare factors
References: <7FB772B4-39E0-11D6-B03C-0003930BCBE6@tin.it>
Message-ID: <3C95B89E.A071DF5D@pab-opto.de>

--------------046BF2A0A57E7063D094FECB
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

pillo wrote:

> i m osx beginner.
> also rad beginner.
> everything  beginner.
> you ll realize soon, reading my three questions ..;-)))))))))))
>
> FIRST QUESTION:
> while trying to compile gendaylit (on osx UNIX) i get this error:
>
> % make
> cc -Ae -g        -c sun.c
> cpp-precomp: Invalid option '-Ae'
> make: *** [sun.o] Error 1
>
> so i removed the -Ae tag (HP UNIX?) but with -ansi tag ...

yeap -Ae is for HPUX.  One has to handtweak the compile options.

>
> ... and another error message appeared
>
> %make
> cc -ansi -c sun.c
> cc -ansi -c fropen.c
> paths.h:62: only 1 arg to macro 'fropen' (2 expected)
> fropen.c:20: only 1 arg to macro 'fropen' (2 expected)
> fropen.c:20: illegal external declaration, missing `;' after `fropen'
> fropen.c:26: illegal external declaration, found `if'
> fropen.c:43: illegal method selector, found `1'
> fropen.c:44: illegal method definition, missing `{' after `/'
> fropen.c:46: illegal external declaration, found `if'
> cpp-precomp: warning: errors during smart preprocessing, retrying in
> basic mode
> make: *** [fropen.o] Error 1
>
> so i lost my faith...
> ...thinking i had to edit the c source.
> is anybody so kind and nice to help me compiling such program?

Apparently OS-X on Mac has some macro fropen  defined. The function
prototype in paths.h specifies only one argument for the function defined
in fropen.c .
Try to add a #undef fropen in line 9 of paths.h .

-Peter

--
 pab-opto, Freiburg, Germany, www.pab-opto.de



--------------046BF2A0A57E7063D094FECB
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
pillo wrote:
<blockquote TYPE=CITE>i m osx beginner.
<br>also rad beginner.
<br>everything&nbsp; beginner.
<br>you ll realize soon, reading my three questions ..;-)))))))))))
<p>FIRST QUESTION:
<br>while trying to compile gendaylit (on osx UNIX) i get this error:
<p>% make
<br>cc -Ae -g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -c sun.c
<br>cpp-precomp: Invalid option '-Ae'
<br>make: *** [sun.o] Error 1
<p>so i removed the -Ae tag (HP UNIX?) but with -ansi tag ...</blockquote>
yeap <i>-Ae </i>is for HPUX.&nbsp; One has to handtweak the compile options.
<blockquote TYPE=CITE>&nbsp;
<br>... and another error message appeared
<p>%make
<br>cc -ansi -c sun.c
<br>cc -ansi -c fropen.c
<br>paths.h:62: only 1 arg to macro 'fropen' (2 expected)
<br>fropen.c:20: only 1 arg to macro 'fropen' (2 expected)
<br>fropen.c:20: illegal external declaration, missing `;' after `fropen'
<br>fropen.c:26: illegal external declaration, found `if'
<br>fropen.c:43: illegal method selector, found `1'
<br>fropen.c:44: illegal method definition, missing `{' after `/'
<br>fropen.c:46: illegal external declaration, found `if'
<br>cpp-precomp: warning: errors during smart preprocessing, retrying in
<br>basic mode
<br>make: *** [fropen.o] Error 1
<p>so i lost my faith...
<br>...thinking i had to edit the c source.
<br>is anybody so kind and nice to help me compiling such program?</blockquote>
Apparently OS-X on Mac has some macro <i>fropen</i>&nbsp; defined. The
function prototype in paths.h specifies only one argument for the function
defined in fropen.c .
<br>Try to add a <i>#undef fropen</i> in line 9 of paths.h .
<p>-Peter
<pre>--&nbsp;
&nbsp;pab-opto, Freiburg, Germany, www.pab-opto.de</pre>
&nbsp;</html>

--------------046BF2A0A57E7063D094FECB--


From radiance-general@radiance-online.org  Mon Mar 18 16:32:09 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Mon, 18 Mar 2002 08:32:09 -0800
Subject: [Radiance-general] Re: glare factors
In-Reply-To: <200203181101.g2IB11Q04691@darkside-animation.com>
Message-ID: <B127BD02-3A8D-11D6-914F-00306540F848@lmi.net>

Hi Pilo,

In response to your third question, findglare (and the glare script) do 
look at IES light sources, the same as other sources in your scene.  
They will not identify illum sources, but rather will look at whatever 
is behind them in their calculation.

Sometimes, findglare will absorb or coalesce sources if they are very 
small, and this behavior may be controlled by the -r and -c options to 
findglare.   Consult the findglare man page for details.

-Greg

> THIRD QUESTION:
> glare calculation.
> if i use IES files to generate proper radiance light sources, does
> radiance consider them in glare calculation?
> which trick should i use to solve this  (mapping luminance distribution
> on a glow material?)?


From radiance-general@radiance-online.org  Mon Mar 18 14:40:47 2002
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Mon, 18 Mar 2002 14:40:47 CET
Subject: Rif: Re: [Radiance-general] gendaylit, dls, glare factors
Message-ID: <20020318134047.CIYQ17445.fep35-svc.tin.it@[127.0.0.1]>

This is a multi-part message in MIME format.

------=____1016458847353_Pvn_DyRpd7
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

thanks a lot for giving me the LIGHT!!!!
now IT WORKS!!!
WWWWWW


pillo.pillo@tin.it

PS other questions still remain unsolved... so if anybody knows about....
> 
> Da: Peter Apian-Bennewitz <apian@pab-opto.de>
> Data: 18/03/2002 10:51
> A: radiance-general@radiance-online.org
> Oggetto: Re: [Radiance-general] gendaylit, dls, glare factors
> 
> pillo wrote:
> 
> > i m osx beginner.
> > also rad beginner.
> > everything  beginner.
> > you ll realize soon, reading my three questions ..;-)))))))))))
> >
> > FIRST QUESTION:
> > while trying to compile gendaylit (on osx UNIX) i get this error:
> >
> > % make
> > cc -Ae -g        -c sun.c
> > cpp-precomp: Invalid option '-Ae'
> > make: *** [sun.o] Error 1
> >
> > so i removed the -Ae tag (HP UNIX?) but with -ansi tag ...
> 
> yeap -Ae is for HPUX.  One has to handtweak the compile options.
> 
> >
> > ... and another error message appeared
> >
> > %make
> > cc -ansi -c sun.c
> > cc -ansi -c fropen.c
> > paths.h:62: only 1 arg to macro 'fropen' (2 expected)
> > fropen.c:20: only 1 arg to macro 'fropen' (2 expected)
> > fropen.c:20: illegal external declaration, missing `;' after `fropen'
> > fropen.c:26: illegal external declaration, found `if'
> > fropen.c:43: illegal method selector, found `1'
> > fropen.c:44: illegal method definition, missing `{' after `/'
> > fropen.c:46: illegal external declaration, found `if'
> > cpp-precomp: warning: errors during smart preprocessing, retrying in
> > basic mode
> > make: *** [fropen.o] Error 1
> >
> > so i lost my faith...
> > ...thinking i had to edit the c source.
> > is anybody so kind and nice to help me compiling such program?
> 
> Apparently OS-X on Mac has some macro fropen  defined. The function
> prototype in paths.h specifies only one argument for the function defined
> in fropen.c .
> Try to add a #undef fropen in line 9 of paths.h .
> 
> -Peter
> 
> --
>  pab-opto, Freiburg, Germany, www.pab-opto.de
> 
> 
> 
> 

------=____1016458847353_Pvn_DyRpd7
Content-Type: text/html;
	name="reply"
Content-Disposition: inline;
	filename="reply"

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
pillo wrote:
<blockquote TYPE=CITE>i m osx beginner.
<br>also rad beginner.
<br>everything&nbsp; beginner.
<br>you ll realize soon, reading my three questions ..;-)))))))))))
<p>FIRST QUESTION:
<br>while trying to compile gendaylit (on osx UNIX) i get this error:
<p>% make
<br>cc -Ae -g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -c sun.c
<br>cpp-precomp: Invalid option '-Ae'
<br>make: *** [sun.o] Error 1
<p>so i removed the -Ae tag (HP UNIX?) but with -ansi tag ...</blockquote>
yeap <i>-Ae </i>is for HPUX.&nbsp; One has to handtweak the compile options.
<blockquote TYPE=CITE>&nbsp;
<br>... and another error message appeared
<p>%make
<br>cc -ansi -c sun.c
<br>cc -ansi -c fropen.c
<br>paths.h:62: only 1 arg to macro 'fropen' (2 expected)
<br>fropen.c:20: only 1 arg to macro 'fropen' (2 expected)
<br>fropen.c:20: illegal external declaration, missing `;' after `fropen'
<br>fropen.c:26: illegal external declaration, found `if'
<br>fropen.c:43: illegal method selector, found `1'
<br>fropen.c:44: illegal method definition, missing `{' after `/'
<br>fropen.c:46: illegal external declaration, found `if'
<br>cpp-precomp: warning: errors during smart preprocessing, retrying in
<br>basic mode
<br>make: *** [fropen.o] Error 1
<p>so i lost my faith...
<br>...thinking i had to edit the c source.
<br>is anybody so kind and nice to help me compiling such program?</blockquote>
Apparently OS-X on Mac has some macro <i>fropen</i>&nbsp; defined. The
function prototype in paths.h specifies only one argument for the function
defined in fropen.c .
<br>Try to add a <i>#undef fropen</i> in line 9 of paths.h .
<p>-Peter
<pre>--&nbsp;
&nbsp;pab-opto, Freiburg, Germany, www.pab-opto.de</pre>
&nbsp;</html>


------=____1016458847353_Pvn_DyRpd7--


From radiance-general@radiance-online.org  Tue Mar 19 12:21:49 2002
From: radiance-general@radiance-online.org (Volker Hilsenstein)
Date: Tue, 19 Mar 2002 13:21:49 +0100
Subject: [Radiance-general] View-Up Vector
Message-ID: <3C972D5D.6020001@freitag.iup.uni-heidelberg.de>

Hello everyone,

I've got a quick question regarding the "view up"-vector:
as far as I understand, the -vd vector in  a view definition points
along the view direction (optical axis) of my virtual camera, whereas
the -vu points along the vertical (up) direction of my virtual camera.
So I guess they should be orthogonal. How does it affect
my view if I choose vu and vd such that they are not orthogonal
(Radiance only complains if  vd and vu are exactly parallel)  ?

Thanks,

Volker



From radiance-general@radiance-online.org  Tue Mar 19 14:02:59 2002
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Tue, 19 Mar 2002 09:02:59 -0500 (EST)
Subject: [Radiance-general] View-Up Vector
In-Reply-To: <3C972D5D.6020001@freitag.iup.uni-heidelberg.de>
Message-ID: <Pine.BSF.4.30.0203190900580.52579-100000@emancholl.pair.com>

Volker Hilsenstein wrote:

> Hello everyone,
>
> I've got a quick question regarding the "view up"-vector:
> as far as I understand, the -vd vector in  a view definition points
> along the view direction (optical axis) of my virtual camera, whereas
> the -vu points along the vertical (up) direction of my virtual camera.
> So I guess they should be orthogonal. How does it affect
> my view if I choose vu and vd such that they are not orthogonal
> (Radiance only complains if  vd and vu are exactly parallel)  ?

That's really all that is necessary. In 3D space, you need two
non-parallel vectors to define a local carthesian coordinate
system (the third vector is deducted by the right hand rule).
If the two vectors given are not orthogonal, then Radiance will
internally recalculate the up-vector to the orthogonal direction,
which isn't very complicated to do. If you imagine the vertical
plane that includes both your view direction and the orthogonal
up direction (cutting the imaginative camera in a right and left
half), then the up vector that you give must lie within the upper
half of that plane, resp. the view will be arranged so that it
does.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Tue Mar 19 12:53:59 2002
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Tue, 19 Mar 2002 13:53:59 +0100
Subject: [Radiance-general] View-Up Vector
References: <3C972D5D.6020001@freitag.iup.uni-heidelberg.de>
Message-ID: <3C9734E7.16C8A0AB@gmx.net>

Volker Hilsenstein wrote:
> 
> Hello everyone,
> 
> I've got a quick question regarding the "view up"-vector:
> as far as I understand, the -vd vector in  a view definition points
> along the view direction (optical axis) of my virtual camera, whereas
> the -vu points along the vertical (up) direction of my virtual camera.
> So I guess they should be orthogonal. How does it affect
> my view if I choose vu and vd such that they are not orthogonal
> (Radiance only complains if  vd and vu are exactly parallel)  ?

Howdy Volker,

vu and vd are always orthogonal per definition, unless of course you
make them parallel, which doesn't make sense. In all other cases vu will
be modified to lie within the projection plane, with vd being the
plane's normal.

See ya!


-- 
"Life is too short for core dumps"

From radiance-general@radiance-online.org  Tue Mar 19 12:18:07 2002
From: radiance-general@radiance-online.org (atelier iebele abel)
Date: Tue, 19 Mar 2002 13:18:07 +0100
Subject: [Radiance-general] Arc+
Message-ID: <3C972C7F.5E2C35F4@iebele.nl>

Hi everybody,

As modelling tool I use Arc+.
Does anybody in this list knows about this software, and to be more in
detail, does anybody knows how to read and/or translate its database
files?
I'm working on this import for Arc+ (for radiance as well as my own
tools ) at this moment, it is not that easy and I would appreciate some
help very much!


Regards,

Iebele


From radiance-general@radiance-online.org  Wed Mar 20 10:26:20 2002
From: radiance-general@radiance-online.org (Bernhard Spanlang)
Date: Wed, 20 Mar 2002 10:26:20 -0000
Subject: [Radiance-general] light maps in radiance
Message-ID: <001a01c1cff9$ae101360$9c091080@CSVEIVE3>

Hi,

I m planning to create an interactive walkthrough model of a building.
To improve the visual appearance I thought it might be a good idea to
generate illuminated textures.
I know people have done this using radiosity solutions getting quite good
results for example in games engines....
I was wondering if anyone has done this using radiance ???
My idea was to use orthogonal cameras in front of every flat surface, render
the whole scene in radiance from that viewpoint
and then apply the rendered image as a texture back to the surface.
I know this would work only properly on view independent reflectance
materials but anyway has anyone tried ?

Bernhard
--
Bernhard Spanlang,
Department of Computer Science,
University College London,
Gower Street,
London WC1E 6BT,
email: b.spanlang at cs.ucl.ac.uk
url: http://www.cs.ucl.ac.uk/staff/b.spanlang
tel: +44 (0)20 7679 3673
fax: +44 (0)20 7387 1397



From radiance-general@radiance-online.org  Wed Mar 20 14:12:03 2002
From: radiance-general@radiance-online.org (Andrew Bissell)
Date: Wed, 20 Mar 2002 14:12:03 -0000
Subject: [Radiance-general] light maps in radiance
Message-ID: <9FBBEE1C3814D4119433009027AA48C612B35A@ARIES>

Bernhard

I have done something similar although it was only a simple model as a test.


I started as yourself with parallel images of each surface.  The model was a
12' cube with one window in the south wall.  Once I had those six images I
then used the .jpg's and positioned them in a VRML environment such that I
could walk around the model.  I appreciate that does not solve the
illuminated surfaces question but may offer an alternative.

I plan to produce a more complex model but the issue is one of the time to
set up each camera.  For example if you have drawn 6 columns, each made up
of 8 facets then for the columns alone you would need 48 cameras.  Also
another problem although I have not yet put any thought to the solution
would be if you had say a sloped roof and therefore none rectangular
surfaces.  I think the ideal would be a C++ program which examined a .dxf
file and read in each surface and outputed a view file of all of the cameras
needed.  I think this is possible unfortunatly time is limited.  

An alternative may be a quicktime or similar panoramic.  There are some good
examples available but alas I do not have access to my favourites at the
moment.

I hope that is of some help.

Andrew

> -----Original Message-----
> From:	Bernhard Spanlang [SMTP:b.spanlang@cs.ucl.ac.uk]
> Sent:	20 March 2002 10:26
> To:	radiance-general
> Subject:	[Radiance-general] light maps in radiance
> 
> Hi,
> 
> I m planning to create an interactive walkthrough model of a building.
> To improve the visual appearance I thought it might be a good idea to
> generate illuminated textures.
> I know people have done this using radiosity solutions getting quite good
> results for example in games engines....
> I was wondering if anyone has done this using radiance ???
> My idea was to use orthogonal cameras in front of every flat surface,
> render
> the whole scene in radiance from that viewpoint
> and then apply the rendered image as a texture back to the surface.
> I know this would work only properly on view independent reflectance
> materials but anyway has anyone tried ?
> 
> Bernhard
> --
> Bernhard Spanlang,
> Department of Computer Science,
> University College London,
> Gower Street,
> London WC1E 6BT,
> email: b.spanlang at cs.ucl.ac.uk
> url: http://www.cs.ucl.ac.uk/staff/b.spanlang
> tel: +44 (0)20 7679 3673
> fax: +44 (0)20 7387 1397
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From radiance-general@radiance-online.org  Fri Mar 22 02:12:26 2002
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Thu, 21 Mar 2002 21:12:26 -0500 (EST)
Subject: [Radiance-general] Arc+
In-Reply-To: <3C972C7F.5E2C35F4@iebele.nl>
Message-ID: <Pine.BSF.4.30.0203212103180.35313-100000@emancholl.pair.com>

atelier iebele abel wrote:

> Hi everybody,
>
> As modelling tool I use Arc+.
> Does anybody in this list knows about this software, and to be more in
> detail, does anybody knows how to read and/or translate its database
> files?
> I'm working on this import for Arc+ (for radiance as well as my own
> tools ) at this moment, it is not that easy and I would appreciate some
> help very much!

The easiest way to translate from arbitrary CAD programs
to Radiance is probably per DXF:

 http://www.schorsch.com/download/dxf2rad/

But you sound as if you want to go in the other direction as well?
If the makers of Arc+ don't provide documentation on their file
format, or an internal API, then that might get difficult.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Fri Mar 22 07:46:23 2002
From: radiance-general@radiance-online.org (pillo)
Date: Fri, 22 Mar 2002 08:46:23 +0100
Subject: [Radiance-general] [Radiance-general]DGI
Message-ID: <E849CD9A-3D68-11D6-8801-0003930BCBE6@tin.it>

hello,
i m piLLo.
i would like to share with you a strange (but it may be normal) thing 
happened to me.
i was simulating light behavior in a bilding (using radiance, as usual) 
and in particular i was calculating DGI indexes for different points at 
different time.
the strange thing is that DGI values are sometimes minor than zero...

the answer is: is it possible and what does it means? (...a part that i 
m a beginner...)

pillo


From radiance-general@radiance-online.org  Fri Mar 22 11:12:13 2002
From: radiance-general@radiance-online.org (Carsten Bauer)
Date: Fri, 22 Mar 2002 12:12:13 +0100
Subject: [Radiance-general] Direct Cache for Radiance
Message-ID: <3C9B118D.EE4589DD@t-online.de>

Hi all !

A short announcement: A further (inofficial) add-on is now available,
a cache for direct illuminances which siginficantly reduces rendering
time. More info and the patches can be found in the non-LBNL-section /
direct cache page.

Carsten Bauer

From radiance-general@radiance-online.org  Fri Mar 22 11:29:24 2002
From: radiance-general@radiance-online.org (Carsten Bauer)
Date: Fri, 22 Mar 2002 12:29:24 +0100
Subject: [Radiance-general] Re: light maps in radiance
Message-ID: <3C9B1594.CEF6B579@t-online.de>

Hi Bernhard !

I don't know if I get your question right, so my answer may be to
simple: Do you want to have luminous images or surfaces ( like e.g.
modern billboards which are illuminated from the back) ? For these
you may apply a "colorpict" to a glow material and set the fourth glow
parameter to -1. You then can place e.g. polygons out of this material
in the room and adjust their brightness as you like (of course, they
won't illumante things nearby, but they're shining.)

-cb

From radiance-general@radiance-online.org  Fri Mar 22 13:32:29 2002
From: radiance-general@radiance-online.org (Bernhard Spanlang)
Date: Fri, 22 Mar 2002 13:32:29 -0000
Subject: [Radiance-general] Re: light maps in radiance
References: <3C9B1594.CEF6B579@t-online.de>
Message-ID: <006201c1d1a6$04d74e40$9c091080@CSVEIVE3>

Hi Carsten,

I don't think you got my question right .
I know how to use colorpict to apply 2D images to surfaces.
But what I really want to do is alomost the opposite. I want the texture of
the surface back after it was lit.
I then want to apply these lit textures back onto geometry in a fileformat
for interactive rendering such as VRML, ... and then view it in a graphics
hardware accelerated browser.

Bernhard



From radiance-general@radiance-online.org  Fri Mar 22 18:10:40 2002
From: radiance-general@radiance-online.org (Carsten Bauer)
Date: Fri, 22 Mar 2002 19:10:40 +0100
Subject: [Radiance-general] Re: light maps in radiance
References: <3C9B1594.CEF6B579@t-online.de> <006201c1d1a6$04d74e40$9c091080@CSVEIVE3>
Message-ID: <3C9B73A0.87926D65@t-online.de>

Hi Bernhard !

Ok, now I got it, you want to use the raytracer for a specific way of
image generation. In fact, I did this already, and it really works
fine,  by "playing " around with cal-files and e.g semitransparent
layers you can get nice effects out of it, useable for 2D-Graphics and
Art and the like. But there is no other way than the one you already
have in mind. By the way, (I dare to mention this here :) ) you
certainly have heard of POVRay already ? Its texture modelling
facilities are a lot more intuitive to handle, so perhaps for these
sorts of visual effects it may better suit your needs. 

- cb

From radiance-general@radiance-online.org  Fri Mar 22 17:51:24 2002
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Fri, 22 Mar 2002 18:51:24 +0100
Subject: [Radiance-general] Re: light maps in radiance
References: <3C9B1594.CEF6B579@t-online.de>
Message-ID: <3C9B6F1C.D43D3673@pab-opto.de>

--------------FB3613DC409CFC9D3BC67BF4
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Carsten Bauer wrote:

> Hi Bernhard !
>
> I don't know if I get your question right, so my answer may be to
> simple: Do you want to have luminous images or surfaces ( like e.g.
> modern billboards which are illuminated from the back) ? For these
> you may apply a "colorpict" to a glow material and set the fourth glow
> parameter to -1. You then can place e.g. polygons out of this material
> in the room and adjust their brightness as you like (of course, they
> won't illumante things nearby, but they're shining.)

my two cent comment for the archives:
they won't illuminate things by 'direct calculation' - with ambient
calculations they do
-Peter

>
>
> -cb
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

--
 pab-opto, Freiburg, Germany, www.pab-opto.de



--------------FB3613DC409CFC9D3BC67BF4
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
Carsten Bauer wrote:
<blockquote TYPE=CITE>Hi Bernhard !
<p>I don't know if I get your question right, so my answer may be to
<br>simple: Do you want to have luminous images or surfaces ( like e.g.
<br>modern billboards which are illuminated from the back) ? For these
<br>you may apply a "colorpict" to a glow material and set the fourth glow
<br>parameter to -1. You then can place e.g. polygons out of this material
<br>in the room and adjust their brightness as you like (of course, they
<br>won't illumante things nearby, but they're shining.)</blockquote>
my two cent comment for the archives:
<br>they won't illuminate things by 'direct calculation' - with ambient
calculations they do
<br>-Peter
<blockquote TYPE=CITE>&nbsp;
<p>-cb
<br>_______________________________________________
<br>Radiance-general mailing list
<br>Radiance-general@radiance-online.org
<br><a href="http://www.radiance-online.org/mailman/listinfo/radiance-general">http://www.radiance-online.org/mailman/listinfo/radiance-general</a></blockquote>

<pre>--&nbsp;
&nbsp;pab-opto, Freiburg, Germany, www.pab-opto.de</pre>
&nbsp;</html>

--------------FB3613DC409CFC9D3BC67BF4--


From radiance-general@radiance-online.org  Sat Mar 23 11:40:31 2002
From: radiance-general@radiance-online.org (Carsten Bauer)
Date: Sat, 23 Mar 2002 12:40:31 +0100
Subject: [Radiance-general] Re: light maps in radiance
References: <3C9B1594.CEF6B579@t-online.de> <3C9B6F1C.D43D3673@pab-opto.de>
Message-ID: <3C9C69AF.25120966@t-online.de>

Hi Peter !

you're right but let's spend my last cent on this -- not if the fourth
parameter is -1 ?

There is of course a personal interest behind it. The reason, why I'm
hacking on this is, that I spent some time thinking of other ways to
deal with broad area sources (for some design-case studies) . If you use
glow sources in direct mode, you will see the effects of
source-subdivision on nearby objects illuminated by them (e.g. semi-
transparent layers. ) If you use glows in ambient mode, things are
better, but for a nice look you need very high parameter settings,
(although personally I'm still not satisfied ..). I got the assumption
that the hemisphere-sampling method works better in the "far field
range" than for near field illumination. (sorry, but it seems that I
always try to use tools for tasks they weren't intentionally made for...
:) )  

so long

-cb

From radiance-general@radiance-online.org  Sat Mar 23 20:43:55 2002
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Sat, 23 Mar 2002 21:43:55 +0100
Subject: [Radiance-general] Re: light maps in radiance
References: <3C9B1594.CEF6B579@t-online.de> <3C9B6F1C.D43D3673@pab-opto.de> <3C9C69AF.25120966@t-online.de>
Message-ID: <3C9CE90B.E54C5F6@pab-opto.de>

--------------BBEF16751F2619BE44B30EAF
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Carsten Bauer wrote:

> Hi Peter !
>
> you're right but let's spend my last cent on this -- not if the fourth
> parameter is -1 ?

oops.- right. (never used it myself, so.)

> There is of course a personal interest behind it. The reason, why I'm
> hacking on this is, that I spent some time thinking of other ways to
> deal with broad area sources (for some design-case studies) . If you use
> glow sources in direct mode, you will see the effects of
> source-subdivision on nearby objects illuminated by them (e.g. semi-
> transparent layers. ) If you use glows in ambient mode, things are
> better, but for a nice look you need very high parameter settings,
> (although personally I'm still not satisfied ..). I got the assumption
> that the hemisphere-sampling method works better in the "far field
> range" than for near field illumination. (sorry, but it seems that I
> always try to use tools for tasks they weren't intentionally made for...

What do you mean by "far field" ? -
Quick thoughts from the back of my head: The Monte Carlo integration in
ambient calcs cause noise when the integrand in the integral over the
hemisphere of incident radiance (times BRTF) fluctuates a lot. Typically
this is a problem in indirect illumination scenes with bright spots of
direct illumination on ceilings etc.
For large area sources whose radiance is nearly constant over its surface,
the MC integration should work well. Unless one maps a brightfunc/brightpic
onto the large area undulating radiance output dependent on surface
position and thereby causing fluctuations in the integrand of nearby
ambient calcs which mean noisy ambient values there.
The MC integration is brute force (e.g. it doesn't reuse any information
from one integral to the next [would be tricky anyway], there's no real
adaptive subdivison, and with varying area sources it "under-samples" the
source at points leading to alias [maybe level-of-detail handing in
colorpicts would help there]), plus MC  is slow in general, with the
positive aspects being that it's simple (which is very helpful during
validation), general and bias free. Greg's razor to Radiance had been that
it's gotta be simple and effective.
What were your conclusions and suggestions on this ?

-Peter

--
 pab-opto, Freiburg, Germany, www.pab-opto.de



--------------BBEF16751F2619BE44B30EAF
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
Carsten Bauer wrote:
<blockquote TYPE=CITE>Hi Peter !
<p>you're right but let's spend my last cent on this -- not if the fourth
<br>parameter is -1 ?</blockquote>
oops.- right. (never used it myself, so.)
<blockquote TYPE=CITE>There is of course a personal interest behind it.
The reason, why I'm
<br>hacking on this is, that I spent some time thinking of other ways to
<br>deal with broad area sources (for some design-case studies) . If you
use
<br>glow sources in direct mode, you will see the effects of
<br>source-subdivision on nearby objects illuminated by them (e.g. semi-
<br>transparent layers. ) If you use glows in ambient mode, things are
<br>better, but for a nice look you need very high parameter settings,
<br>(although personally I'm still not satisfied ..). I got the assumption
<br>that the hemisphere-sampling method works better in the "far field
<br>range" than for near field illumination. (sorry, but it seems that
I
<br>always try to use tools for tasks they weren't intentionally made for...</blockquote>
What do you mean by "far field" ? -
<br>Quick thoughts from the back of my head: The Monte Carlo integration
in ambient calcs cause noise when the integrand in the integral over the
hemisphere of incident radiance (times BRTF) fluctuates a lot. Typically
this is a problem in indirect illumination scenes with bright spots of
direct illumination on ceilings etc.
<br>For large area sources whose radiance is nearly constant over its surface,
the MC integration should work well. Unless one maps a brightfunc/brightpic
onto the large area undulating radiance output dependent on surface position
and thereby causing fluctuations in the integrand of nearby ambient calcs
which mean noisy ambient values there.
<br>The MC integration is brute force (e.g. it doesn't reuse any information
from one integral to the next [would be tricky anyway], there's no real
adaptive subdivison, and with varying area sources it "under-samples" the
source at points leading to alias [maybe level-of-detail handing in colorpicts
would help there]), plus MC&nbsp; is slow in general, with the positive
aspects being that it's simple (which is very helpful during validation),
general and bias free. Greg's razor to Radiance had been that it's gotta
be simple and effective.
<br>What were your conclusions and suggestions on this ?
<p>-Peter
<pre>--&nbsp;
&nbsp;pab-opto, Freiburg, Germany, www.pab-opto.de</pre>
&nbsp;</html>

--------------BBEF16751F2619BE44B30EAF--


From radiance-general@radiance-online.org  Sat Mar 23 23:53:42 2002
From: radiance-general@radiance-online.org (Randolph Fritz)
Date: Sat, 23 Mar 2002 15:53:42 -0800
Subject: [Radiance-general] Creating texture maps, again
Message-ID: <20020323235342.GB5884@panix.com>

I'm wanting to create a Radiance texture and pattern for large,
light-colored pea gravel.  Any thoughts on the best way to do this?

Randolph Fritz
Graduate Student
University of Oregon



From radiance-general@radiance-online.org  Thu Mar 28 01:41:29 2002
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Wed, 27 Mar 2002 20:41:29 -0500 (EST)
Subject: [Radiance-general] Creating texture maps, again
In-Reply-To: <20020323235342.GB5884@panix.com>
Message-ID: <Pine.BSF.4.30.0203272034100.81926-100000@emancholl.pair.com>

Randolph Fritz wrote:

> I'm wanting to create a Radiance texture and pattern for large,
> light-colored pea gravel.  Any thoughts on the best way to do this?


Um, convert a picture of the stuff to the radiance format
and apply it to your ground... Or did you have something
more elaborate in mind?

If you need to make sure that the reflectivity is correct,
then you can process the result with the normpat script,
which unfortunately is only available for unix systems.

If I remember correctly, then I've had mixed results with
the filtering functions in normpat, but that probable depends
on the characteristics of your picture. Maybe you can
process the original image with one of the common texture
editor programs around so that it tiles nicely. Most people
use those for creating background for their desktops or web
pages, but they serve equally well for this purpose.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Thu Mar 28 02:52:27 2002
From: radiance-general@radiance-online.org (Randolph Fritz)
Date: Wed, 27 Mar 2002 18:52:27 -0800
Subject: [Radiance-general] Creating texture maps, again
In-Reply-To: <Pine.BSF.4.30.0203272034100.81926-100000@emancholl.pair.com>
References: <20020323235342.GB5884@panix.com> <Pine.BSF.4.30.0203272034100.81926-100000@emancholl.pair.com>
Message-ID: <20020328025227.GA23960@panix.com>

On Wed, Mar 27, 2002 at 08:41:29PM -0500, Georg Mischler wrote:
> Randolph Fritz wrote:
> 
> > I'm wanting to create a Radiance texture and pattern for large,
> > light-colored pea gravel.  Any thoughts on the best way to do this?
> 
> 
> Um, convert a picture of the stuff to the radiance format
> and apply it to your ground... Or did you have something
> more elaborate in mind?
> 

That would work for pattern but not texture, not so?

Randolph

From radiance-general@radiance-online.org  Thu Mar 28 03:22:44 2002
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Wed, 27 Mar 2002 22:22:44 -0500 (EST)
Subject: [Radiance-general] Creating texture maps, again
In-Reply-To: <20020328025227.GA23960@panix.com>
Message-ID: <Pine.BSF.4.30.0203272209210.81926-100000@emancholl.pair.com>

Randolph Fritz wrote:

> On Wed, Mar 27, 2002 at 08:41:29PM -0500, Georg Mischler wrote:
> > Randolph Fritz wrote:
> >
> > > I'm wanting to create a Radiance texture and pattern for large,
> > > light-colored pea gravel.  Any thoughts on the best way to do this?
> >
> >
> > Um, convert a picture of the stuff to the radiance format
> > and apply it to your ground... Or did you have something
> > more elaborate in mind?
> >
>
> That would work for pattern but not texture, not so?


So you actually want a bump map for gravel?

I'm not sure how realistic that would end up. There's no
texpict modifier, so you'd have to go with data files.
But in general, textures work best for material structures
that have only limited deviation from the ideal surface.
The deep cavities in a gravel surface can't be modelled
realistically just by manipulating the normal vector.
At least I can't think of a good way to do so.

The other question is of course if you really need this
level of detail. If you keep your view points away from
the floor, then some kind of random noise might already
be enough to say "this is meant to be gravel". And a
pattern image goes a long way from there.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Thu Mar 28 14:00:05 2002
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Thu, 28 Mar 2002 15:00:05 +0100
Subject: [Radiance-general] Creating texture maps, again
References: <Pine.BSF.4.30.0203272209210.81926-100000@emancholl.pair.com>
Message-ID: <3CA321E5.A3F6D690@gmx.net>

Georg Mischler wrote:
> 
> Randolph Fritz wrote:
> 
> > On Wed, Mar 27, 2002 at 08:41:29PM -0500, Georg Mischler wrote:
> > > Randolph Fritz wrote:
> > >
> > > > I'm wanting to create a Radiance texture and pattern for large,
> > > > light-colored pea gravel.  Any thoughts on the best way to do this?
> > >
> > >
> > > Um, convert a picture of the stuff to the radiance format
> > > and apply it to your ground... Or did you have something
> > > more elaborate in mind?
> > >
> >
> > That would work for pattern but not texture, not so?
> 
> So you actually want a bump map for gravel?

I hacked together something to generate bump maps from texture images
(though not specifically for RADIANCE) simply based on the intensity
gradients. Pretty trivial, but looks good enuff. Unfortunately, the
source wound up somewhere in the Twilight Zone(tm). Hopefully I can dig
it up, but it's really not that difficult to write from scratch.

See ya!


-- 
"Life is too short for core dumps"

From radiance-general@radiance-online.org  Thu Mar 28 16:26:43 2002
From: radiance-general@radiance-online.org (stephane)
Date: Thu, 28 Mar 2002 16:26:43 +0000
Subject: [Radiance-general] mosaic
Message-ID: <3CA34443.D3C75EAE@esru.strath.ac.uk>

Hi everybody,

I would like to apply a picture as a mosaic on a surface.

I intended to use colorpic. I can scale my picture (using -s). But I did
not
found out if there is a possibility to apply my scaled image on a
surface that is
bigger than the picture in order to get a mosaic.

 Thank you for any advice.

Kind regards

Stephane

From radiance-general@radiance-online.org  Thu Mar 28 16:55:12 2002
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Thu, 28 Mar 2002 11:55:12 -0500 (EST)
Subject: [Radiance-general] mosaic
In-Reply-To: <3CA34443.D3C75EAE@esru.strath.ac.uk>
Message-ID: <Pine.BSF.4.30.0203281151130.2132-100000@emancholl.pair.com>

stephane wrote:

> Hi everybody,
>
> I would like to apply a picture as a mosaic on a surface.
>
> I intended to use colorpic. I can scale my picture (using -s). But I did
> not
> found out if there is a possibility to apply my scaled image on a
> surface that is
> bigger than the picture in order to get a mosaic.


If you use the "picture.cal" function file, then the
"pic_u" and "pic_v" coordinate variables will map the
image once to the location you specify. If you use the
variables "tile_u" and "tile_v" instead, then the
picture will get repeated in both directions.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Sat Mar 30 13:38:45 2002
From: radiance-general@radiance-online.org (stephane)
Date: Sat, 30 Mar 2002 13:38:45 +0000
Subject: [Radiance-general] Compilation on Solaris 8
Message-ID: <3CA5BFE5.8D26949A@esru.strath.ac.uk>

First I would like to thank Georg for the tip concerning the mosaic.

I am contacting all off you to now if you have some experience of
compiling Radiance on Solaris 8.

I have try to install 3R4, but I got several warning and error messages
such as :

-----------------------------

cc -I../common -L../lib -O -DSPEED=80 -DALIGN=double
-I/usr/openwin/include -L/usr/openwin/lib -DNOSTEREO -DDCL_ATOF
-DBIGMEM  -c  editline.c
cc -I../common -L../lib -O -DSPEED=80 -DALIGN=double
-I/usr/openwin/include -L/usr/openwin/lib -DNOSTEREO -DDCL_ATOF
-DBIGMEM  -c  x11.c
"./x11icon.h", line 4: warning: initializer does not fit or is out of
range: 224
"./x11icon.h", line 5: warning: initializer does not fit or is out of
range: 224
"./x11icon.h", line 7: warning: initializer does not fit or is out of
range: 192

Or an this other error message:

In directory rt...
cc -I../common -L../lib -O -DSPEED=80 -DALIGN=double
-I/usr/openwin/include -L/usr/openwin/lib -DNOSTEREO -DDCL_ATOF -DBIGMEM
-DRTRACE -DNICE=4 -c rmain.c
"rmain.c", line 829: warning: argument #2 is incompatible with
prototype:
        prototype: pointer to function(int) returning void :
"/usr/include/iso/signal_iso.h", line 48
        argument : pointer to function(int) returning int
mv rmain.o rtmain.o
-----------------------------

At the end of the compilation some binaries are missing, compare to 
radiance 3.1.8 that I have installed on a linux box.
In the following list, the (-) after the file name referes to files that
are missing after compilation of 3R4 on Solaris 8


total 12138
-rwxr-xr-x   1 esru     staff      26296 Mar 30 10:59 aed5
-rwxr-xr-x   1 esru     staff      24224 Mar 30 10:59 arch2rad
-rwxr-xr-x   1 esru     staff     127352 Mar 30 10:59 bgraph
-rwxr-xr-x   1 esru     staff     108052 Mar 30 11:06 calc
-rwxr-xr-x   1 esru     staff       6216 Mar 30 11:06 cnt
-rwxr-xr-x   1 esru     staff      24576 Mar 26 18:57 colorscale (-)
-rwxr-xr-x   1 esru     staff       1272 Mar 30 11:06 compamb (+)
-rwxr-xr-x   1 esru     staff      22664 Mar 30 10:58 cv
-rwxr-xr-x   1 esru     staff       5277 Mar 30 11:06 dayfact
-rwxr-xr-x   1 esru     staff        986 Mar 30 11:06 debugcal
drwxr-xr-x   2 esru     staff        512 Mar 30 11:05 dev
-rwxr-xr-x   1 esru     staff     106496 Mar 30 10:59 dgraph
-rwxr-xr-x   1 esru     staff      77544 Mar 30 11:06 ev
-rwxr-xr-x   1 esru     staff       3892 Mar 26 18:57 falsecolor (-)
-rwxr-xr-x   1 esru     staff     113580 Mar 30 11:06 findglare
-rwxr-xr-x   1 esru     staff     106692 Mar 30 10:59 gcomp
-rwxr-xr-x   1 esru     staff      35876 Mar 30 11:00 genblinds
-rwxr-xr-x   1 esru     staff       9592 Mar 30 11:00 genbox
-rwxr-xr-x   1 esru     staff      23624 Mar 30 11:00 genclock
-rwxr-xr-x   1 esru     staff     211290 Mar 26 18:58 gendaylit (-)
-rwxr-xr-x   1 esru     staff      29472 Mar 30 11:00 genprism
-rwxr-xr-x   1 esru     staff      91036 Mar 30 11:00 genrev
-rwxr-xr-x   1 esru     staff      62060 Mar 30 11:05 genrhgrid (+)
-rwxr-xr-x   1 esru     staff      54104 Mar 30 11:00 gensky
-rwxr-xr-x   1 esru     staff     104712 Mar 30 11:00 gensurf
-rwxr-xr-x   1 esru     staff      92972 Mar 30 11:00 genworm
-rwxr-xr-x   1 esru     staff     102520 Mar 30 11:00 getbbox
-rwxr-xr-x   1 esru     staff      14092 Mar 30 11:06 getinfo
-rwxr-xr-x   1 esru     staff       5863 Mar 30 11:06 glare
-rwxr-xr-x   1 esru     staff      97940 Mar 30 11:06 glarendx
-rwxr-xr-x   1 esru     staff      40960 Mar 26 18:58 greyscale (-)
-rwxr-xr-x   1 esru     staff     173664 Mar 30 11:06 glrad (+)
-rwxr-xr-x   1 esru     staff       8776 Mar 30 11:06 histo
-rwxr-xr-x   1 esru     staff      58736 Mar 30 10:59 ies2rad
-rwxr-xr-x   1 esru     staff     138700 Mar 30 10:59 igraph
-rwxr-xr-x   1 esru     staff      34760 Mar 30 10:58 imagew
-rwxr-xr-x   1 esru     staff      36252 Mar 30 10:58 impress
-rwxr-xr-x   1 esru     staff       7244 Mar 30 11:06 lam
-rwxr-xr-x   1 esru     staff      27068 Mar 30 10:59 lampcolor
-rwxr-xr-x   1 esru     staff      26448 Mar 30 11:01 lookamb
-rwxr-xr-x   1 esru     staff      65536 Mar 26 18:58 macbethcal (-)
-rwxr-xr-x   1 esru     staff      34284 Mar 30 10:58 meta2tga
-rwxr-xr-x   1 esru     staff     100936 Mar 30 10:59 mgf2inv
-rwxr-xr-x   1 esru     staff     108788 Mar 30 10:59 mgf2meta
-rwxr-xr-x   1 esru     staff     119924 Mar 30 10:59 mgf2rad
-rwxr-xr-x   1 esru     staff      89692 Mar 30 10:59 mgfilt
-rwxr-xr-x   1 esru     staff      91292 Mar 30 11:00 mkillum
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 mt160r  (-)
-rwxr-xr-x   1 esru     staff      34244 Mar 30 10:58 mx80
-rwxr-xr-x   1 esru     staff       7312 Mar 30 11:06 neat
-rwxr-xr-x   1 esru     staff      45552 Mar 30 10:59 nff2rad
-rwxr-xr-x   1 esru     staff       3960 Mar 26 18:58 normpat (-)
-rwxr-xr-x   1 esru     staff      66152 Mar 30 10:59 obj2rad
-rwxr-xr-x   1 esru     staff       1127 Mar 30 11:06 objline
-rwxr-xr-x   1 esru     staff        979 Mar 30 11:06 objpict
-rwxr-xr-x   1 esru     staff       1651 Mar 30 11:06 objview
-rwxr-xr-x   1 esru     staff     122864 Mar 30 11:00 oconv
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 oki20 (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 oki20c (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 paintjet (-)
-rwxr-xr-x   1 esru     staff     114688 Mar 26 18:58 pcomb (-)
-rwxr-xr-x   1 esru     staff      40960 Mar 26 18:58 pcompos (-)
-rwxr-xr-x   1 esru     staff     122880 Mar 26 18:58 pcond (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 pcwarp (-)
-rwxr-xr-x   1 esru     staff        737 Mar 26 18:58 pdfblur (-)
--rwxr-xr-x   1 esru     staff      28936 Mar 30 10:58 pexpand
-rwxr-xr-x   1 esru     staff      32768 Mar 26 18:58 pextrem (-)
-rwxr-xr-x   1 esru     staff     106496 Mar 26 18:58 pfilt (-)
-rwxr-xr-x   1 esru     staff      32768 Mar 26 18:58 pflip (-)
-rwxr-xr-x   1 esru     staff     114688 Mar 26 18:58 pinterp (-)
-rwxr-xr-x   1 esru     staff      21960 Mar 30 10:59 plot4
-rwxr-xr-x   1 esru     staff      37484 Mar 30 10:58 plotin
-rwxr-xr-x   1 esru     staff        691 Mar 26 18:58 pmblur (-)
-rwxr-xr-x   1 esru     staff      32768 Mar 26 18:58 protate (-)
-rwxr-xr-x   1 esru     staff      40960 Mar 26 18:58 psign (-)
-rwxr-xr-x   1 esru     staff      31420 Mar 30 10:58 psmeta
-rwxr-xr-x   1 esru     staff      25496 Mar 30 10:58 psort
-rwxr-xr-x   1 esru     staff      81920 Mar 26 18:58 pvalue (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_avs (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_bn (-)
-rwxr-xr-x   1 esru     staff      65536 Mar 26 18:58 ra_gif (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_pict (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_ppm (-)
-rwxr-xr-x   1 esru     staff      57344 Mar 26 18:58 ra_pr (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_pr24 (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_ps (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_rgbe (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_t16 (-)
-rwxr-xr-x   1 esru     staff      65536 Mar 26 18:58 ra_t8 (-)
-rwxr-xr-x   1 esru     staff     106496 Mar 26 18:58 ra_tiff (-)
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ra_xyze (-)
-rwxr-xr-x   1 esru     staff     109244 Mar 30 11:06 rad
-rwxr-xr-x   1 esru     staff      61812 Mar 30 10:59 rad2mgf
-rwxr-xr-x   1 esru     staff        412 Mar 30 11:06 raddepend
-rwxr-xr-x   1 esru     staff     119020 Mar 30 11:06 ranimate
-rwxr-xr-x   1 esru     staff     116396 Mar 30 11:06 rcalc
-rwxr-xr-x   1 esru     staff      47684 Mar 30 11:00 replmarks
-rwxr-xr-x   1 esru     staff     133528 Mar 30 11:05 rhcopy (+)
-rwxr-xr-x   1 esru     staff      80528 Mar 30 11:05 rhinfo (+)
-rwxr-xr-x   1 esru     staff     169132 Mar 30 11:05 rholo (+)
-rwxr-xr-x   1 esru     staff      84636 Mar 30 11:05 rhoptimize (+)
-rwxr-xr-x   1 esru     staff     142736 Mar 30 11:05 rhpict (+)
-rwxr-xr-x   1 esru     staff        264 Mar 30 11:06 rlux
-rwxr-xr-x   1 esru     staff        298 Mar 30 10:57 rmake
-rwxr-xr-x   1 esru     staff     437632 Mar 30 11:01 rpict
-rwxr-xr-x   1 esru     staff      97108 Mar 30 11:06 rpiece
-rwxr-xr-x   1 esru     staff     426756 Mar 30 11:01 rtrace
-rwxr-xr-x   1 esru     staff     467880 Mar 30 11:01 rview
-rwxr-xr-x   1 esru     staff      44140 Mar 30 10:58 t4014
-rwxr-xr-x   1 esru     staff      14228 Mar 30 11:06 tabfunc
-rwxr-xr-x   1 esru     staff      10160 Mar 30 10:59 thf2rad
-rwxr-xr-x   1 esru     staff      42108 Mar 30 10:59 tmesh2rad
-rwxr-xr-x   1 esru     staff      38572 Mar 30 11:06 total
-rwxr-xr-x   1 esru     staff      49152 Mar 26 18:58 ttyimage (-)
-rwxr-xr-x   1 esru     staff      73520 Mar 30 11:06 vwrays (+)
-rwxr-xr-x   1 esru     staff      69956 Mar 30 11:06 vwright
-rwxr-xr-x   1 esru     staff      33824 Mar 30 10:58 x11meta
-rwxr-xr-x   1 esru     staff      78168 Mar 30 11:00 xform
-rwxr-xr-x   1 esru     staff      76276 Mar 30 11:06 xglaresrc
-rwxr-xr-x   1 esru     staff     131072 Mar 26 18:58 ximage (-)
-rwxr-xr-x   1 esru     staff      65536 Mar 26 18:58 xshowtrace (-)
-rwxr-xr-x   1 esru     staff       1254 Mar 26 18:58 xyzimage (-)

Then I have tried to compile, the version 3.1.8 on Solaris 8. I still
have some warnings, but the list of files is similar to the list
I have on the linux side. Unfortunately, when I run a simulation I got
very often the following message:

rpict: 27851797 rays, 2.95% after 0.300u 0.000s 0.551r hours on pico
rpict: atan2: domain error
rpict: warning - compute error for colorpict "skyfunc"
rpict: 29280188 rays, 3.32% after 0.318u 0.000s 0.583r hours on pico


Thanks in advance for any suggestion.

Kind regards

Stephane Citherlet

From radiance-general@radiance-online.org  Sun Mar 31 18:45:35 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Sun, 31 Mar 2002 09:45:35 -0800
Subject: [Radiance-general] Re: Compilation on Solaris 8
In-Reply-To: <200203311001.g2VA12Q05988@darkside-animation.com>
Message-ID: <1B006C3F-44CF-11D6-8D80-00306540F848@lmi.net>

Hi Stephane,

You should generally ignore warning messages from the Radiance 
compilations -- fatal errors and missing binaries are the real concern.  
In the case of Solaris, there is a problem with the "install" program 
used by the TIFF library, which I have not been able to manage to work 
around.  The reason that none of the picture processing tools got 
installed was because of the failure in the src/px directory to make 
ra_tiff and normtiff, which depend on the TIFF library.

The solution to this problem is to change to the src/px/tiff/libtiff 
directory and run "make install", then manually move the libtiff.a 
program to the ../../lib directory like so:

	mv libtiff.a ../../lib

Then, pop up to the px directory and rerun "rmake install" like so:

	rmake install

That should install the picture filters.  I wish I knew how to fix the 
TIFF library, but the install script is horribly complicated and uses 
the Bourne shell, which is something of a mystery to me....

-Greg


