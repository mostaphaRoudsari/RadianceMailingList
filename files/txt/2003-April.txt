From radiance-general@radiance-online.org  Tue Apr  1 01:17:10 2003
From: radiance-general@radiance-online.org (genevieve lucet)
Date: Mon, 31 Mar 2003 18:17:10 -0600
Subject: [Radiance-general] opengl and mac
In-Reply-To: <20030330100002.20377.37224.Mailman@darkside-animation.com>
Message-ID: <481D3C3C-63D7-11D7-A176-00306541C77E@servidor.unam.mx>

Greg,
I installed without problem the new version of radiance in my mac and 
use it with X11 ver. 1.03
commands like "rad -o x11" work fine but all the commands like "glrad" 
that need opengl are not responding.
As you are a mac user I would like to know if you found a way to 
resolve this problem.
Thanks. genevieve.


From radiance-general@radiance-online.org  Tue Apr  1 06:54:30 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Mon, 31 Mar 2003 21:54:30 -0800
Subject: [Radiance-general] Re: opengl and mac
In-Reply-To: <481D3C3C-63D7-11D7-A176-00306541C77E@servidor.unam.mx>
Message-ID: <67E93532-6406-11D7-A1B4-00306540F848@lmi.net>

Hello Genevieve,

I confess to a certain amount of ignorance regarding the OpenGL 
implementation under Mac OS X.  Are you using the X11 beta server from 
Apple with the precompiled Radiance 3.5 binaries?  What, precisely, are 
you using, on what machine, etc.  I might have a better idea if I know 
the details, and I might not.  Others might if I don't.

-Greg

> From: genevieve lucet <lucet@servidor.unam.mx>
> Date: Mon Mar 31, 2003  4:17:10  PM US/Pacific
> To: radiance-general@radiance-online.org
> Subject: [Radiance-general] opengl and mac
> Reply-To: radiance-general@radiance-online.org
>
> Greg,
> I installed without problem the new version of radiance in my mac and 
> use it with X11 ver. 1.03
> commands like "rad -o x11" work fine but all the commands like "glrad" 
> that need opengl are not responding.
> As you are a mac user I would like to know if you found a way to 
> resolve this problem.
> Thanks. genevieve.


From radiance-general@radiance-online.org  Tue Apr  1 07:35:19 2003
From: radiance-general@radiance-online.org (gurneet)
Date: Tue, 1 Apr 2003 12:05:19 +0530
Subject: [Radiance-general] real-time animation
References: <67E93532-6406-11D7-A1B4-00306540F848@lmi.net>
Message-ID: <00d001c2f818$f17d27d0$190310ac@fundoo>

hi Greg,
thanx for the animation pathh details,i made the animation of my library and
everyone was impressed .
now what i am planning to do is to make that real time i.e. is on the mouse
control or keyboard control a person can move through the library.i want to
know if its possible or not , i mean with review its possible but the
picture quality is not as good as by rpict .
could anyone  help me regarding this
gurneet
----- Original Message -----
From: "Greg Ward" <gward@lmi.net>
To: <radiance-general@radiance-online.org>
Cc: <radiance-general@radiance-online.org>
Sent: Tuesday, April 01, 2003 11:24 AM
Subject: [Radiance-general] Re: opengl and mac


> Hello Genevieve,
>
> I confess to a certain amount of ignorance regarding the OpenGL
> implementation under Mac OS X.  Are you using the X11 beta server from
> Apple with the precompiled Radiance 3.5 binaries?  What, precisely, are
> you using, on what machine, etc.  I might have a better idea if I know
> the details, and I might not.  Others might if I don't.
>
> -Greg
>
> > From: genevieve lucet <lucet@servidor.unam.mx>
> > Date: Mon Mar 31, 2003  4:17:10  PM US/Pacific
> > To: radiance-general@radiance-online.org
> > Subject: [Radiance-general] opengl and mac
> > Reply-To: radiance-general@radiance-online.org
> >
> > Greg,
> > I installed without problem the new version of radiance in my mac and
> > use it with X11 ver. 1.03
> > commands like "rad -o x11" work fine but all the commands like "glrad"
> > that need opengl are not responding.
> > As you are a mac user I would like to know if you found a way to
> > resolve this problem.
> > Thanks. genevieve.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>




From radiance-general@radiance-online.org  Tue Apr  1 15:38:06 2003
From: radiance-general@radiance-online.org (Bernhard Spanlang)
Date: Tue, 1 Apr 2003 15:38:06 +0100
Subject: [Radiance-general] real-time animation
References: <67E93532-6406-11D7-A1B4-00306540F848@lmi.net> <00d001c2f818$f17d27d0$190310ac@fundoo>
Message-ID: <028e01c2f85c$51136360$9c091080@CSVEIVE2>

Hi,


There was a short discussion on Intertactive Radiance on this list recently
with the subject "Radiance and VR".
Basically you have two options:
1. Use the Holodeck rholo tools that come with Radiance 3.4+
Advantage:
you get all the reflectance effects that you would get when rendering a
single image.

Disadvantage:
You can only view the scenes with the rholo tools.
Level of interactivity depends on the preprocessing time.

2. Write your own tool that exports VRML with textures or vertex colours
from Radiance:
I worked on that problem a bit last year and gave a presentation at the
Radiance workshop.
http://www.radiance-online.org/radiance-workshop1/cd/Spanlang/index.html
Basically the  system uses Radiance to create texture maps (lightmaps) for
all surfaces in the scene. The texture maps
are then converted to jpeg to be interactively rendered in a VRML browser.
In its current state it is only usable by me.
If I had time to implement it again I would probably use the rad2mgf and
mgf2inv tools to convert the
geometry from Radiance to VRML (Inventor).
To avoid texture memory problems it may be better to generate vertex colours
instead of texture maps.

Advantage:
You can view it in any VRML browser and convert it to other formats for
interactive viewing.

Disadvantage:
Only works properly with perfectly diffuse reflecting materials.
Will require some development efforts.



Bernhard


From radiance-general@radiance-online.org  Tue Apr  1 15:37:52 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Tue, 01 Apr 2003 09:37:52 -0500
Subject: [Radiance-general] Re: opengl and mac
References: <67E93532-6406-11D7-A1B4-00306540F848@lmi.net>
Message-ID: <3E89A440.80404@rumblestrip.org>

Greg Ward wrote:
> Hello Genevieve,
> 
> I confess to a certain amount of ignorance regarding the OpenGL 
> implementation under Mac OS X.  Are you using the X11 beta server from 
> Apple with the precompiled Radiance 3.5 binaries?  What, precisely, are 
> you using, on what machine, etc.  I might have a better idea if I know 
> the details, and I might not.  Others might if I don't.

I confess to a great deal of ignorance regarding OGL under OS X.  But I 
recall watching Pillo playing with rholo on his iBook at the Workshop. 
Pillo, can you help us all out here?  =8-)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Tue Apr  1 18:19:05 2003
From: radiance-general@radiance-online.org (Jeffrey McGrew)
Date: Tue, 1 Apr 2003 09:19:05 -0800
Subject: [Radiance-general] RE: DEB and RPM Radiance 3R5 packages
Message-ID: <14F4D3C7236B9C42B381D1F66D78C6D9A6569B@hunt-exch-01.huntsmanag.com>

>> The bigger one is this: 
>   the "vim" package also has a "rview" executable:

I ran into this same problem on Mandrake 9.0.

>   On different systems it may not be a problem, for instance on my
>   linux Mandrake 9.0 box rview from the vim package is put 
> inside /bin/,
>   so no overwrite occurs and apparently everything goes smoothly,
>   but the system will always execute the vim rview binary, unless
>   somebody erases or rename it, or changes the PATH variable.

I simply changed the PATH for my user login; so that if I'm logged
in as anything else rview calls VIM. I hope this doesn't raise any
problems, in that my login now paths to Radiance first, and VIM
second. But so far I haven't noticed any problems.

You might want to include in the README of your RPM package
about this issue, so that newbies, like myself, can have a hope
to sort it out.

Jeffrey McGrew


From radiance-general@radiance-online.org  Tue Apr  1 21:28:30 2003
From: radiance-general@radiance-online.org (pillo)
Date: Tue, 1 Apr 2003 22:28:30 +0200
Subject: [Radiance-general] Re: opengl and mac
In-Reply-To: <3E89A440.80404@rumblestrip.org>
Message-ID: <80999ADD-6480-11D7-9A8E-0003930BCBE6@tin.it>

bad news.....
pillo's here....:((((
.... but without any kind of solution (I confess to a great deal of 
ignorance regarding everything under OS X)

1) at the workshop I was running rholo via software rendering (not OGL 
based)
2) I was running rholo at the workshop only because Jack told me how to 
do this (thanks Jack)
3) what about next workshop?

see you!!

On Tuesday, April 1, 2003, at 04:37 PM, Rob Guglielmetti wrote:

> Greg Ward wrote:
>> Hello Genevieve,
>> I confess to a certain amount of ignorance regarding the OpenGL 
>> implementation under Mac OS X.  Are you using the X11 beta server 
>> from Apple with the precompiled Radiance 3.5 binaries?  What, 
>> precisely, are you using, on what machine, etc.  I might have a 
>> better idea if I know the details, and I might not.  Others might if 
>> I don't.
>
> I confess to a great deal of ignorance regarding OGL under OS X.  But 
> I recall watching Pillo playing with rholo on his iBook at the 
> Workshop. Pillo, can you help us all out here?  =8-)
>
> ----
>
>      Rob Guglielmetti
>
> e. rpg@rumblestrip.org
> w. www.rumblestrip.org
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From radiance-general@radiance-online.org  Wed Apr  2 02:00:27 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 1 Apr 2003 17:00:27 -0800
Subject: [Radiance-general] Re: opengl and mac
In-Reply-To: <80999ADD-6480-11D7-9A8E-0003930BCBE6@tin.it>
Message-ID: <7E797B39-64A6-11D7-9240-00306540F848@lmi.net>

Just to put this into context for those of you Mac OS X users who may 
be worried by it...  The distributed binaries work with Jaguar (Mac OS 
X 10.2 and later), and include the necessary drivers for X11 and 
OpenGL.  You need only download the beta release of the X11 server from 
Apple's website to get the whole thing operational.  From my 
experience, hardware support for OpenGL rendering is pretty good with 
the Apple server.

The issues here were raised by someone who needs to recompile 3.5 under 
Mac OS X 10.1, which uses a different set of libraries.  There, it is 
difficult to find the appropriate Xlib library to link to, as Apple 
(stupidly) doesn't include it with their gcc compiler.

-Greg

> From: pillo <pillo.pillo@tin.it>
> Date: Tue Apr 1, 2003  12:28:30  PM US/Pacific
> To: radiance-general@radiance-online.org
> Subject: Re: [Radiance-general] Re: opengl and mac
> Reply-To: radiance-general@radiance-online.org
>
> bad news.....
> pillo's here....:((((
> .... but without any kind of solution (I confess to a great deal of 
> ignorance regarding everything under OS X)
>
> 1) at the workshop I was running rholo via software rendering (not OGL 
> based)
> 2) I was running rholo at the workshop only because Jack told me how 
> to do this (thanks Jack)
> 3) what about next workshop?
>
> see you!!


From radiance-general@radiance-online.org  Wed Apr  2 14:55:13 2003
From: radiance-general@radiance-online.org (genevieve lucet)
Date: Wed, 2 Apr 2003 07:55:13 -0600
Subject: [Radiance-general] Re: opengl and mac
Message-ID: <B9F1ACCA-6512-11D7-A3EB-00306541C77E@servidor.unam.mx>

It looks like X11 needs XGL to run OpenGL and this library is not 
included in the actual distribution of the beta version.
So OpenGl in mac is fine, X11 works but.. I will have to wait for this 
library.
Bye.
genevieve 


From radiance-general@radiance-online.org  Wed Apr  2 15:53:49 2003
From: radiance-general@radiance-online.org (Mark Stock)
Date: Wed, 2 Apr 2003 09:53:49 -0500 (EST)
Subject: [Radiance-general] Question about transdata usage
Message-ID: <Pine.SOL.4.44.0304020929590.4801-100000@timepilot.gpcc.itd.umich.edu>

Hello Radiance users,

I have a question about the transdata material type. It doesn't
seem like I am using it properly, the results always look like
an unmodified "trans" material, no matter what I do with the
data file.

Untimately, I would like to render a smoky cloud by using multiple
planes, each totally transparent except where the smoke exists,
where it is semi-transparent. It seems like "transdata" is the
best way. I have a 3D data field of density values, scaled either
0 to 255 or 0.0 to 1.0. I can also write individual planar data
files, if need be. The density is controlled only by position
in space, not by view vectors, angle, etc. This makes my
funcfile very simple.

Right now, my scene.rad looks like this:

void transdata layer1trans
5 noop layer1.dat translayer.cal pos_u pos_v
0
6 0.5 0.5 0.2  0.0 0.97 0.0
# r g b  rspec trans tspec

layer1trans polygon layer1
0
0
12  0 0.1 1  0 0.1  1 1 0.01  0 1 0.1

[other scene stuff: ground plane, light "source"]

The simplified data file that I am using now is (layer1.dat):

2
0.0 1.0 3
0.0 1.0 3
1 0 1
0 1 0
0 0 1

And the .cal file contains:

pos_u = Px;
pos_v = Py;

What this does is create a brown-ish semi-transparent plane
with no variations across it. I can only change the trans component
of the material, and that works properly. When I make the rspec
or tspec non-zero, I get a "rview: pos_u: undefined function"
error.

So, I have a few questions:

1) do the values in the data file need to be in any particular form?
   (one of my files has integers 0 to 255, others are 0.0 to 1.0;
    I know I can scale them within the .cal file)

2) how do you control rspec, trans, and tspec from the .cal file?
   It seems like I can only return one value from there; I use
   a noop for that one.

3) shouldn't I be seeing *some* variation across the plane here?

I've been trying variations on these files for a few hours. I
don't have the Radiance book here with me to help, but I have
scoured the digests, online archives, and everything in the
distro.

Can someone please tell me what I'm doing wrong? I am very geeked
to make some high-quality renderings of my fluid dynamics research.

Mark Stock
mstock at umich dot edu


From radiance-general@radiance-online.org  Wed Apr  2 19:02:30 2003
From: radiance-general@radiance-online.org (pillo)
Date: Wed, 2 Apr 2003 20:02:30 +0200
Subject: [Radiance-general] Re: opengl and mac
In-Reply-To: <B9F1ACCA-6512-11D7-A3EB-00306541C77E@servidor.unam.mx>
Message-ID: <455E18C5-6535-11D7-A1F5-0003930BCBE6@tin.it>

i just want to add some news: it works!!!!!
my mac: ibook (ati 128 8Mb) + jaguar 10.2.4 + X11beta3
just opened the folder ray/obj/cabin and launched 'make nholo' on the 
terminal
as you can see the make file refers to rholo OGL based.



NB. use x11 terminal or:
type on macosx terminal:
setenv DISPLAY localhost:0 ; setenv DYLD_LIBRARY_PATH
to launch x11 graphics directly (you must start x11 application 
before...)


see you...

On Wednesday, April 2, 2003, at 03:55 PM, genevieve lucet wrote:

> It looks like X11 needs XGL to run OpenGL and this library is not 
> included in the actual distribution of the beta version.
> So OpenGl in mac is fine, X11 works but.. I will have to wait for this 
> library.
> Bye.
> genevieve
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From radiance-general@radiance-online.org  Wed Apr  2 20:55:52 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Wed, 02 Apr 2003 14:55:52 -0500
Subject: [Radiance-general] Re: opengl and mac
References: <455E18C5-6535-11D7-A1F5-0003930BCBE6@tin.it>
Message-ID: <3E8B4048.8080107@rumblestrip.org>

pillo wrote:
> i just want to add some news: it works!!!!!
> my mac: ibook (ati 128 8Mb) + jaguar 10.2.4 + X11beta3
> just opened the folder ray/obj/cabin and launched 'make nholo' on the 
> terminal
> as you can see the make file refers to rholo OGL based.

Thanks Pillo!  I just upgraded to Beta3, and the cabin scene is twirling 
around on my Power Book right now.

It is fascinating to watch the image refine interractively like this. 
It's really instructive; in a way it helps me understand how the whole 
ray tracing process works, much in the same manner as watching 
Lightscape process a radiosity solution helps one understand the 
radiosity method.  For example, it's interesting to see how after you 
zoom in on an already refined area, the diffuse materials get to reuse a 
lot of the samples, whereas the specular ones have to start over. 
Watching the subtle shading effects we have become accustomed to seeing 
in Radiance images slowly bubble up from what is initially a crude, 
pointillistic rendering, is truly fascinating to observe.

Well, I find it interesting. =8-)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Wed Apr  2 23:24:29 2003
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Thu, 3 Apr 2003 00:24:29 +0200 (MEST)
Subject: [Radiance-general] RE: DEB and RPM Radiance 3R5 packages
References: <14F4D3C7236B9C42B381D1F66D78C6D9A6569B@hunt-exch-01.huntsmanag.com>
Message-ID: <12730.1049322269@www60.gmx.net>

Hi! 
 
Therefore it's not always a bad idea to have those programs 
that are not part of the distribution in their own directories 
under /opt/Program-Name. If you install software that is not 
from the distribution, you will NEVER know if there is some 
conflict hidden... so I prefer not to put the app in my 
distribution's paths. I can still set PATH and RAYPATH for 
specific users (e.g. create a radiance user account), or 
use a simple script to do these settings before you start 
rendering. 
 
Ok, to be honest... on my private box, I put all that radiance 
stuff into the standard path (/usr/local/bin here) - but I know 
that I never had problems with that, while a user on a shared 
machine might get into trouble if he NEED vi - and can't 
correct the conflicts. 
 
CU, Lars ;-) 

-- 
+++ GMX - Mail, Messaging & more  http://www.gmx.net +++
Bitte lächeln! Fotogalerie online mit GMX ohne eigene Homepage!


From radiance-general@radiance-online.org  Wed Apr  2 23:42:31 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Wed, 02 Apr 2003 17:42:31 -0500
Subject: [Radiance-general] Compiling 3.5 on RHL8?
Message-ID: <3E8B6757.1050903@rumblestrip.org>

Good news & bad news.

I got rad3R5 to compile on my Mac (that's a first), but when I tried to 
compile on my RedHat Linux 8 box the install script dies when it asks 
for the library path.  All is well until I get to:

Where do you want to install the library files {/usr/local/lib/ray]?

When I press return to accept the default (or even if I type it in), the 
script dies thusly:

if: Expression Syntax.

Ideas?

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Thu Apr  3 00:46:06 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 2 Apr 2003 15:46:06 -0800
Subject: [Radiance-general] Question about transdata usage
In-Reply-To: <Pine.SOL.4.44.0304020929590.4801-100000@timepilot.gpcc.itd.umich.edu>
Message-ID: <45B24394-6565-11D7-9BC2-00306540F848@lmi.net>

Oh, bother these questions that require one to think!

> From: Mark Stock <mstock@umich.edu>
...
> Right now, my scene.rad looks like this:
>
> void transdata layer1trans
> 5 noop layer1.dat translayer.cal pos_u pos_v
> 0
> 6 0.5 0.5 0.2  0.0 0.97 0.0
> # r g b  rspec trans tspec
>
> layer1trans polygon layer1
> 0
> 0
> 12  0 0.1 1  0 0.1  1 1 0.01  0 1 0.1
>
> [other scene stuff: ground plane, light "source"]
>
> The simplified data file that I am using now is (layer1.dat):
>
> 2
> 0.0 1.0 3
> 0.0 1.0 3
> 1 0 1
> 0 1 0
> 0 0 1
>
> And the .cal file contains:
>
> pos_u = Px;
> pos_v = Py;
>
> What this does is create a brown-ish semi-transparent plane
> with no variations across it. I can only change the trans component
> of the material, and that works properly. When I make the rspec
> or tspec non-zero, I get a "rview: pos_u: undefined function"
> error.
>

Your description is suffering from multiple problems.  First off, the 
transdata is not the type you want to be using, as it only varies the 
specular lobe for highlights from sources, where what you want is 
probably something which varies the transmitted component.  For this, 
you should use the basic trans type in conjunction with a brightdata 
modifier.  The brightdata value will act as a multiplier on the 
specular transmission of the trans material.  See the reference manual 
<http://radsite.lbl.gov/radiance/refer/ray.html> for details.  The 
second error, which the first makes irrelevant, is that you need to 
specify functions for the pos_u and pos_v parameters, even if they 
don't use their arguments:

pos_u(dummy) = Px;
pos_v(dummy) = Py;

Otherwise, the interpreter decides these are variables, and you get the 
error you got when you try to use them.  You didn't see any variation 
because you set the rspec and tspec values to zero, turning off the 
whole directional diffuse calculation.  Since transdata uses its 
function only for the directional diffuse component, there ended up 
being no variation in your results.

I hope this is enough to get you back on the right track.
-Greg


From radiance-general@radiance-online.org  Thu Apr  3 10:06:53 2003
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Thu, 3 Apr 2003 11:06:53 +0200 (MEST)
Subject: [Radiance-general] Compiling 3.5 on RHL8?
References: <3E8B6757.1050903@rumblestrip.org>
Message-ID: <4250.1049360813@www1.gmx.net>

Hi! 
 
> if: Expression Syntax. 
 
?? Which shell is installed? Bash? 
 
CU Lars. 

-- 
+++ GMX - Mail, Messaging & more  http://www.gmx.net +++
Bitte lächeln! Fotogalerie online mit GMX ohne eigene Homepage!


From radiance-general@radiance-online.org  Thu Apr  3 16:05:51 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Thu, 03 Apr 2003 10:05:51 -0500
Subject: [Radiance-general] Compiling 3.5 on RHL8?
References: <3E8B6757.1050903@rumblestrip.org> <4250.1049360813@www1.gmx.net>
Message-ID: <3E8C4DCF.9050404@rumblestrip.org>

grobe@gmx.net wrote:
> Hi! 
>  
> 
>>if: Expression Syntax. 
> 
>  
> ?? Which shell is installed? Bash? 

Hi Lars,

Yeah, bash is the default.  I tried sh, and tcsh too.  csh seems to be 
an alias to tcsh.  None of them work, same error with all those shells. 
    Hmmm.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Thu Apr  3 17:52:54 2003
From: radiance-general@radiance-online.org (Mark Stock)
Date: Thu, 3 Apr 2003 11:52:54 -0500 (EST)
Subject: [Radiance-general] Question about transdata usage
In-Reply-To: <45B24394-6565-11D7-9BC2-00306540F848@lmi.net>
Message-ID: <Pine.SOL.4.44.0304022152320.4801-100000@timepilot.gpcc.itd.umich.edu>

On Wed, 2 Apr 2003, Greg Ward wrote:

> Oh, bother these questions that require one to think!
>
> > From: Mark Stock <mstock@umich.edu>
> ...
> > Right now, my scene.rad looks like this:
> >
> > void transdata layer1trans
> > 5 noop layer1.dat translayer.cal pos_u pos_v
> > 0
> > 6 0.5 0.5 0.2  0.0 0.97 0.0
> > # r g b  rspec trans tspec
> >
> > layer1trans polygon layer1
[snip]
> >
> > And the .cal file contains:
> >
> > pos_u = Px;
> > pos_v = Py;
[snip]
>
> Your description is suffering from multiple problems.  First off, the
> transdata is not the type you want to be using, as it only varies the
> specular lobe for highlights from sources, where what you want is
> probably something which varies the transmitted component.  For this,
> you should use the basic trans type in conjunction with a brightdata
> modifier.

Yes, trans and brightdata appear to work much better than transdata.

> The brightdata value will act as a multiplier on the
> specular transmission of the trans material.  See the reference manual
> <http://radsite.lbl.gov/radiance/refer/ray.html> for details.

I assume you meant the opposite, that the data modifies the
transmissivity, not the transmitted specular fraction.

The problem now is that I only get good renderings if the
tspec is 1.0, which creates very dark cloud volumes. I am
looking for more of a high-albedo look. When I reduce the tspec
to anything below 1.0, the entire volume thickens.

I am going to try to use mixdata to mix between a purely
transparent and a semi-transparent and diffusely scattering
material. I think that'll fix the problem.
[time warp]
Okay, I tried that, and it seems to render about 100 times slower,
maybe 1000 times slower. Hmmm.

> The
> second error, which the first makes irrelevant, is that you need to
> specify functions for the pos_u and pos_v parameters, even if they
> don't use their arguments:
>
> pos_u(dummy) = Px;
> pos_v(dummy) = Py;
>
> Otherwise, the interpreter decides these are variables, and you get the
> error you got when you try to use them.

I am using 3.4.1, and if I add the "(dummy)" arguments to "pos_u"
and the others (in a new 3D-capable file), it doesn't even render.
rview does the "1 sampling" then exits with:

rview: pos_w`translayer: undefined variable

Keeping them off allows it to work well, though.

Hmmm, I *did* use a good number of performance-related optimizations
when building the binaries...

> You didn't see any variation
> because you set the rspec and tspec values to zero, turning off the
> whole directional diffuse calculation.  Since transdata uses its
> function only for the directional diffuse component, there ended up
> being no variation in your results.

Thanks for the help, Greg! It's good to see that you're still
very involved in Radiance. BTW: another Radiance-rendered image
of mine will be in the SIGGRAPH Art Gallery this year. I hope
you enjoy it.

Mark



From radiance-general@radiance-online.org  Thu Apr  3 18:06:19 2003
From: radiance-general@radiance-online.org (Mark Stock)
Date: Thu, 3 Apr 2003 12:06:19 -0500 (EST)
Subject: [Radiance-general] Question about transdata usage
In-Reply-To: <Pine.SOL.4.44.0304022152320.4801-100000@timepilot.gpcc.itd.umich.edu>
Message-ID: <Pine.SOL.4.44.0304031202190.26193-100000@millipede.gpcc.itd.umich.edu>

Okay, I think I've figured it out. The ridiculously high
rendering times are from the trans-trans-mixdata simulation
with a tspec of 0.5 on the "issmoke" material. I have the tspec
at 0.1 now, and it seems to render in a much more reasonable
time, *and* the cloud volume self-shadows beautifully.

I'll put some images up as soon as I can the network here
set up a little better (e-mail from Win, real work on Linux).

Thanks for all of your help.

Mark

On Thu, 3 Apr 2003, Mark Stock wrote:
>
> The problem now is that I only get good renderings if the
> tspec is 1.0, which creates very dark cloud volumes. I am
> looking for more of a high-albedo look. When I reduce the tspec
> to anything below 1.0, the entire volume thickens.
>
> I am going to try to use mixdata to mix between a purely
> transparent and a semi-transparent and diffusely scattering
> material. I think that'll fix the problem.
> [time warp]
> Okay, I tried that, and it seems to render about 100 times slower,
> maybe 1000 times slower. Hmmm.
>


From radiance-general@radiance-online.org  Thu Apr  3 18:19:02 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Thu, 3 Apr 2003 12:19:02 -0500 (EST)
Subject: [Radiance-general] Question about transdata usage
In-Reply-To: <Pine.SOL.4.44.0304031202190.26193-100000@millipede.gpcc.itd.umich.edu>
Message-ID: <Pine.BSF.4.44.0304031217040.54599-100000@emancholl.pair.com>

Mark Stock wrote:

> Okay, I think I've figured it out. The ridiculously high
> rendering times are from the trans-trans-mixdata simulation
> with a tspec of 0.5 on the "issmoke" material. I have the tspec
> at 0.1 now, and it seems to render in a much more reasonable
> time, *and* the cloud volume self-shadows beautifully.


Since you apparently are trying to model clouds (resp. smoke)
here, have you looked at the "mist" material? I'm not sure
about the performance implications, but the visual result
would certainly get a lot closer to what you're after.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Thu Apr  3 23:00:27 2003
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Fri, 04 Apr 2003 00:00:27 +0200
Subject: [Radiance-general] Question about transdata usage
In-Reply-To: <Pine.BSF.4.44.0304031217040.54599-100000@emancholl.pair.com>
References: <Pine.BSF.4.44.0304031217040.54599-100000@emancholl.pair.com>
Message-ID: <3E8CAEFB.6030909@pab-opto.de>

Georg Mischler wrote:

>Mark Stock wrote:
>
>  
>
>>Okay, I think I've figured it out. The ridiculously high
>>rendering times are from the trans-trans-mixdata simulation
>>with a tspec of 0.5 on the "issmoke" material. I have the tspec
>>at 0.1 now, and it seems to render in a much more reasonable
>>time, *and* the cloud volume self-shadows beautifully.
>>    
>>
>
>
>Since you apparently are trying to model clouds (resp. smoke)
>here, have you looked at the "mist" material? I'm not sure
>about the performance implications, but the visual result
>would certainly get a lot closer to what you're after.
>
>
>-schorsch
>
>  
>
as far as I recall looking at this some months ago, mist does show light 
cones (by volume scattering), but one convex hull of material 'mist'  
for one cloud doesn't represent the different paths through the cloud 
when viewed from different eye positions. The function file would have 
to depend on position on the hull and view direction at that position. 
That's somewhere in the manual too. - Probably not too difficult to get 
the line integrals right for some "mildly behaved" density distribution 
inside the cloud. Any nice examples much appreciated.
-Peter

-- 
 pab-opto, Freiburg, Germany, www.pab-opto.de



From radiance-general@radiance-online.org  Fri Apr  4 01:55:24 2003
From: radiance-general@radiance-online.org (Jacqueline Snyder)
Date: Thu, 3 Apr 2003 19:55:24 -0500 (EST)
Subject: [Radiance-general] graphics card support in Linux (RedHat 7.2)
Message-ID: <Pine.SUN.4.33.0304031936430.22123-100000@calaf.cns.nyu.edu>

Hi,

I plan to install RADIANCE 3.1 on a Linux (RedHat 7.2) platform on a
laptop (IBM Thinkpad T-series, 2 GHz, 1024 MB).

Does anyone know which graphics cards are compatible with RADIANCE 3.1?
In particular, would I run into any problems with an 16 Mg ATI Mobility
Radeon 7500?

My apologies if this question has already been answered by the group; I
just joined today ;-)

Thank you,
Jacqueline


From radiance-general@radiance-online.org  Fri Apr  4 04:01:14 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Thu, 3 Apr 2003 22:01:14 -0500 (EST)
Subject: [Radiance-general] graphics card support in Linux (RedHat 7.2)
In-Reply-To: <Pine.SUN.4.33.0304031936430.22123-100000@calaf.cns.nyu.edu>
Message-ID: <Pine.BSF.4.44.0304032139520.54599-100000@emancholl.pair.com>

Jacqueline Snyder wrote:

> Hi,
>
> I plan to install RADIANCE 3.1 on a Linux (RedHat 7.2) platform on a
> laptop (IBM Thinkpad T-series, 2 GHz, 1024 MB).
>
> Does anyone know which graphics cards are compatible with RADIANCE 3.1?
> In particular, would I run into any problems with an 16 Mg ATI Mobility
> Radeon 7500?


Radiance as such works with any graphics card, or even without one.
If you plan on using rholo, then hardware OpenGL acceleration may be
desirable. On Linux, this is acheived either through the X11 server
or directly through the mesa library.

The XFree86 driver status page claims that there is accelerated
support for several Rage Mobility varieties in the current version:
  http://www.xfree86.org/current/Status6.html
You'll have to check if your card is among those listed.
If 3d acceleration is not supported with your card, then OpenGL
graphics will be rendered in software mode, which shouldn't be a
problem either.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/



From radiance-general@radiance-online.org  Fri Apr  4 16:43:03 2003
From: radiance-general@radiance-online.org (Francesco Anselmo)
Date: Fri, 4 Apr 2003 17:43:03 +0200
Subject: [Radiance-general] DEB and RPM Radiance linux packages page updated!
In-Reply-To: <200304011319.24406.anselmo@dream.unipa.it>
References: <Pine.BSF.4.44.0303311100170.99569-100000@emancholl.pair.com> <200304011319.24406.anselmo@dream.unipa.it>
Message-ID: <200304041743.03272.anselmo@dream.unipa.it>

My Radiance linux/i386 packages page has been updated:

http://dream.unipa.it/dream/pub/dot/anselmo/radiance/packages/

Here you will find the following versions of Radiance
Radiance 3.5.0
Radiance 3.5.0 static
Radiance 3.4.1 pmap 
(patched with the photon mapping extension by Roland Schregle)

I have decided to prepare 4 kinds of packages: tar.gz, tar.bz2, deb and rpm.

The tar.gz and tar.bz2 packages can be considered add-on packages, so
the suggested installation location is /opt/radiance.

The deb and rpm packages behave this way:

the binaries are installed into -> /usr/lib/radiance/bin
the radiance library is installed into  -> /usr/share/radiance/lib
the examples are installed into -> /usr/share/radiance/obj
the documentation is installed into -> /usr/share/doc/radiance
the man pages are installed into -> /usr/share/man

After the package installation, the user only has to add /usr/lib/radiance/bin
to the PATH environment variable, since I have added /usr/share/radiance/lib
to the default library search path in the source code (src/common/paths.h).

Georg Mischler wrote:
> I'd say ignore the "should"s at will. Nothing a user can do with
> your Radiance package will threaten the integrity of their
> system, not even on Debian.

I finally decided to use these locations because making a debian package
means contributing to the debian distribution, that has his own policy that
must be respected. 
I also tried to use the /opt/radiance path, but the debian packaging system 
didn't behave very well in this case, so I followed the advices that came 
from the Debian side. Of course I ignored the "csh scripts
problem" and resolved the "environment variable problem" by adding  
/usr/share/radiance/lib to the default library search path in the source code 
(src/common/paths.h), as I already said.

The rpm packages are derived from the deb ones using alien.

Here are a few notes about the packages (for more info, just check the page):
1) when compiling the "static version" I had some problems with unresolved 
symbols inside libGL.a and libGLU.a coming from the Mesa distribution. I even 
compiled by myself the Mesa libs, but this didn't solved the problem. 
Unfortunately I don't much have time to go deeper, so the static version has 
no OpenGL related stuff.
2) I never managed in compiling the pmap patched code together with
the holodeck files, so the pmap package has no holodeck executables.
If anybody wants to help me, I can share my stderr.

Many thanks to Georg Mischler and to Peter Apian-Bennewitz for their
help and comments.

I hope that these packages can be useful ...

-- 
ing. Francesco Anselmo
anselmo@dream.unipa.it
--
[ DREAm ] 
Dipartimento di Ricerche 
Energetiche e Ambientali
--
Università di Palermo
--
Viale delle Scienze
90128 Palermo - Italy
--
Tel + 39 091 236 302
Fax + 39 091 484 425
--



From radiance-general@radiance-online.org  Fri Apr  4 17:09:06 2003
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Fri, 04 Apr 2003 18:09:06 +0200
Subject: [Radiance-general] DEB and RPM Radiance linux packages page updated!
References: <Pine.BSF.4.44.0303311100170.99569-100000@emancholl.pair.com> <200304011319.24406.anselmo@dream.unipa.it> <200304041743.03272.anselmo@dream.unipa.it>
Message-ID: <3E8DAE22.EA3B2079@gmx.net>

Francesco Anselmo wrote:
> 
> My Radiance linux/i386 packages page has been updated:
> 
> http://dream.unipa.it/dream/pub/dot/anselmo/radiance/packages/
> 
> Here you will find the following versions of Radiance
> Radiance 3.5.0
> Radiance 3.5.0 static
> Radiance 3.4.1 pmap
> (patched with the photon mapping extension by Roland Schregle)

FYI: pmap for Radiance 3.5 forthcoming in the coming week or two...

--Roland


-- 
END OF LINE. (MCP)

From radiance-general@radiance-online.org  Fri Apr  4 18:18:40 2003
From: radiance-general@radiance-online.org (Reidar Andreas Richardsen)
Date: Fri, 4 Apr 2003 19:18:40 +0200
Subject: [Radiance-general] Display resolution
In-Reply-To: <Pine.BSF.4.44.0304032139520.54599-100000@emancholl.pair.com>
Message-ID: <7AD9C260-66C1-11D7-B528-000A27E367F6@bluezone.no>

Hi all,

I wish there was some way to manually set the size of rview and rholo 
windows. I believe both of these programs scales to fill the monitor, 
wich is just fine on my 768 pixel high Powerbook. However, my 
dual-monitor G4/500 desktop is not very responsive when rholo launches 
a 2500 pixel wide window across both monitors. Similarly, 1200 pixel 
rview windows takes some time to render, and feels "less interactive" 
on the large-screen desktop.

Or is it just me who have overlooked something obvious?

Regards,
ReidarR, 


From radiance-general@radiance-online.org  Fri Apr  4 18:56:28 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Fri, 04 Apr 2003 12:56:28 -0500
Subject: [Radiance-general] Display resolution
References: <7AD9C260-66C1-11D7-B528-000A27E367F6@bluezone.no>
Message-ID: <3E8DC74C.8000901@rumblestrip.org>

Reidar Andreas Richardsen wrote:
> Hi all,
> 
> I wish there was some way to manually set the size of rview and rholo 
> windows...   my
> dual-monitor G4/500 desktop is not very responsive when rholo launches a 
> 2500 pixel wide window across both monitors. 

Well gee, excess screen real estate is a nice problem to have!  =8-)

Seriously tho, I too would like to hear if there's a way to specify the 
rview/rholo windows.  On my Mac, the window is difficult to resize 
sometimes because the dock icons get in the way.

Speaking of rholo, I haven't been able to run rholo on my RHL8 box on 
OpenGL.  I get a "cannot start display process" error when -ogl is used. 
  Tried -glx too. Assuming OpenGL was not installed, I downloaded and 
installed Mesa 5.0.1, and the sample images appear fine, but still no 
joy in rholo-ville.  rholo runs fine with -x11, but I'd like to see it 
fly on OpenGL like it does on my Mac.  Anyone know what I might be doing 
wrong?

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Fri Apr  4 23:58:09 2003
From: radiance-general@radiance-online.org (Jacqueline Snyder)
Date: Fri, 4 Apr 2003 17:58:09 -0500 (EST)
Subject: [Radiance-general] rholo?
In-Reply-To: <20030404100002.6308.78193.Mailman@darkside-animation.com>
Message-ID: <Pine.SUN.4.33.0304041756420.16793-100000@calaf.cns.nyu.edu>

> Radiance as such works with any graphics card, or even without one.
> If you plan on using rholo, then hardware OpenGL acceleration may be
> desirable. On Linux, this is acheived either through the X11 server
> or directly through the mesa library.

what is rholo?

-jacqueline


From radiance-general@radiance-online.org  Sat Apr  5 03:37:25 2003
From: radiance-general@radiance-online.org (Randolph Fritz)
Date: Fri, 4 Apr 2003 18:37:25 -0800
Subject: [Radiance-general] Hey, anyone know the transmittance of shoji screens?
Message-ID: <895AE32A-670F-11D7-903E-0030658EA95E@panix.com>

Or the reflectance of tatami mats?

I suppose I could think about more surface optical properties, but for 
a rough study, I think that would be enough to start with.

Randolph


From radiance-general@radiance-online.org  Mon Apr  7 02:17:38 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Sun, 6 Apr 2003 18:17:38 -0700
Subject: [Radiance-general] Re: Display resolution
In-Reply-To: <7AD9C260-66C1-11D7-B528-000A27E367F6@bluezone.no>
Message-ID: <B88506AB-6896-11D7-BFDF-00306540F848@lmi.net>

> From: Reidar Andreas Richardsen <reidar.richardsen@bluezone.no>
>
> I wish there was some way to manually set the size of rview and rholo 
> windows. I believe both of these programs scales to fill the monitor, 
> wich is just fine on my 768 pixel high Powerbook. However, my 
> dual-monitor G4/500 desktop is not very responsive when rholo launches 
> a 2500 pixel wide window across both monitors. Similarly, 1200 pixel 
> rview windows takes some time to render, and feels "less interactive" 
> on the large-screen desktop.
>
> Or is it just me who have overlooked something obvious?

If you are using Apple's beta X11 server, you will also have access to 
the Quartz window manager, which you can call from your ~/.xinitrc file 
with:

quartz-wm &

This provides a handy "zoom" button, which pressing once causes the 
associated window to take up all of one (not both) screens.  Then, you 
can grab and drag the lower right corner of the window to make it any 
size you like.  This works for both rview and rholo.

-Greg


From radiance-general@radiance-online.org  Mon Apr  7 02:56:20 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Sun, 6 Apr 2003 18:56:20 -0700
Subject: [Radiance-general] Re: DEB and RPM Radiance linux packages page updated!
In-Reply-To: <200304041743.03272.anselmo@dream.unipa.it>
Message-ID: <2103B7BA-689C-11D7-BB90-00306540F848@lmi.net>

I have extracted the binaries from these two packages and made them 
available from the radsite downloads page:

	http://radsite.lbl.gov/radiance/download.html

Thanks for putting this together, Francesco!

-Greg

> From: Francesco Anselmo <anselmo@dream.unipa.it>
> Date: Fri Apr 4, 2003  7:43:03  AM US/Pacific
> To: radiance-dev@radiance-online.org, 
> radiance-general@radiance-online.org
> Subject: [Radiance-dev] DEB and RPM Radiance linux packages page 
> updated!
> Reply-To: radiance-dev@radiance-online.org
>
> My Radiance linux/i386 packages page has been updated:
>
> http://dream.unipa.it/dream/pub/dot/anselmo/radiance/packages/


From radiance-general@radiance-online.org  Mon Apr  7 13:31:35 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Mon, 7 Apr 2003 08:31:35 -0400 (EDT)
Subject: [Radiance-general] rholo?
In-Reply-To: <Pine.SUN.4.33.0304041756420.16793-100000@calaf.cns.nyu.edu>
Message-ID: <Pine.BSF.4.44.0304070829220.17036-100000@emancholl.pair.com>

Jacqueline Snyder wrote:

> > Radiance as such works with any graphics card, or even without one.
> > If you plan on using rholo, then hardware OpenGL acceleration may be
> > desirable. On Linux, this is acheived either through the X11 server
> > or directly through the mesa library.
>
> what is rholo?

rholo is the most interactive rendering program within
Radiance so far:

 http://radsite.lbl.gov/radiance/man_html/rholo.1.html


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Sun Apr  6 19:46:20 2003
From: radiance-general@radiance-online.org (tom)
Date: Sun, 06 Apr 2003 11:46:20 -0700
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
Message-ID: <3E9075FC.2060805@charter.net>

Hi all,

I'm having problems compiling radiance from sources from 
radiance-online cvs. I downloaded the stable tarball and am able to 
compile most of the executables, but it errors in the src/px dir every 
time. It seems that the tiff directory is the cause of the problem. It 
appears that the configure script is borked in some way. I have run the 
script manually and end up with the same results:

It seems to fill the resulting Makefile with random spew

Warning, this file was automatically created by the TIFF configure 
script#Warning, this file was automatically created b
y the TIFF configure script Warning, this file was automatically created 
by the TIFF configure script@Warning, this file
  was automatically created by the TIFF configure scriptWWarning, this 
file was automatically created by the TIFF configu
re scriptAWarning, this file was automatically created by the TIFF 
configure scriptRWarning, this file was automatically
  created by the TIFF configure scriptNWarning, this file was 
automatically created by the TIFF configure scriptIWarning,
  this file was automatically created by the TIFF configure 
scriptNWarning, this file was automatically created by the TI
FF configure scriptGWarning, this file was automatically created by the 
TIFF configure script@Warning, this file was aut
omatically created by the TIFF configure script

is all one line. This behaviour continues in the version, libdirs, 
machine type, and random(?) lines throughout the file. This causes make 
to bomb out with a missing separator error during the compile.

I'm wondering if this is a local toolchain problem, or if anyone else 
has experienced this behaviour. I'm compiling on a linux system 
(gentoo), which has been compiled from scratch using this same toolchain 
- gcc 3.2.1, glibc 2.3.1, and the gnu toolset. I have invoked the 
makeall script from a tcsh shell.

any ideas?

tom


From radiance-general@radiance-online.org  Wed Apr  9 10:07:38 2003
From: radiance-general@radiance-online.org (Augustinus Topor)
Date: Wed, 09 Apr 2003 11:07:38 +0200
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
References: <3E9075FC.2060805@charter.net>
Message-ID: <3E93E2DA.AB33997D@ise.fhg.de>

Hi Tom,
I've had the same problem compiling radiance on SuSE-Linux, Version 8.1.
The trouble was caused by sed version 3.02.xx(in conjunction with the
variable POSIXLY_CORRECT in the configure-script). As far as I know,
when
POSIXLY_CORRECT is set, the sed versions(I tried out version 3.02.51,
3.02.60
and 4.06) insert the replacement string before each character in the
matched
line, e.g. the command    sed "/@VERSION@/s;;v3.4beta037;g"   applied to

# VERSION:      @VERSION@"

will result in

v3.4beta037#v3.4beta037
v3.4beta037Vv3.4beta037Ev3.4beta037Rv3.4beta037Sv3.4beta037Iv3.4beta037Ov3.4beta037Nv3.4beta037:v3.4beta037    
v3.4beta037@v3.4beta037Vv3.4beta037Ev3.4beta037Rv3.4beta037Sv3.4beta037Iv3.4beta037Ov3.4beta037Nv3.4beta037@v3.4beta037

whereas sed 3.02 generates

# VERSION:      v3.4beta037


I handled this problem by reverting back to sed version 3.02.
Maybe you can remove/comment out the line

POSIXLY_CORRECT=1; export POSIXLY_CORRECT	# disable GNU extensions

in ray/src/px/tiff/configure, but I don't know if this leads to any side
effects.

Augustinus







tom wrote:
> 
> Hi all,
> 
> I'm having problems compiling radiance from sources from
> radiance-online cvs. I downloaded the stable tarball and am able to
> compile most of the executables, but it errors in the src/px dir every
> time. It seems that the tiff directory is the cause of the problem. It
> appears that the configure script is borked in some way. I have run the
> script manually and end up with the same results:
> 
> It seems to fill the resulting Makefile with random spew
> 
> Warning, this file was automatically created by the TIFF configure
> script#Warning, this file was automatically created b
> y the TIFF configure script Warning, this file was automatically created
> by the TIFF configure script@Warning, this file
>   was automatically created by the TIFF configure scriptWWarning, this
> file was automatically created by the TIFF configu
> re scriptAWarning, this file was automatically created by the TIFF
> configure scriptRWarning, this file was automatically
>   created by the TIFF configure scriptNWarning, this file was
> automatically created by the TIFF configure scriptIWarning,
>   this file was automatically created by the TIFF configure
> scriptNWarning, this file was automatically created by the TI
> FF configure scriptGWarning, this file was automatically created by the
> TIFF configure script@Warning, this file was aut
> omatically created by the TIFF configure script
> 
> is all one line. This behaviour continues in the version, libdirs,
> machine type, and random(?) lines throughout the file. This causes make
> to bomb out with a missing separator error during the compile.
> 
> I'm wondering if this is a local toolchain problem, or if anyone else
> has experienced this behaviour. I'm compiling on a linux system
> (gentoo), which has been compiled from scratch using this same toolchain
> - gcc 3.2.1, glibc 2.3.1, and the gnu toolset. I have invoked the
> makeall script from a tcsh shell.
> 
> any ideas?
> 
> tom
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From radiance-general@radiance-online.org  Thu Apr 10 04:29:30 2003
From: radiance-general@radiance-online.org (tom)
Date: Wed, 09 Apr 2003 20:29:30 -0700
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
In-Reply-To: <3E93E2DA.AB33997D@ise.fhg.de>
References: <3E9075FC.2060805@charter.net> <3E93E2DA.AB33997D@ise.fhg.de>
Message-ID: <3E94E51A.7010101@charter.net>

Augustinus Topor wrote:
> Hi Tom,
> I've had the same problem compiling radiance on SuSE-Linux

<snip of very good analysis of problem>

> I handled this problem by reverting back to sed version 3.02.
> Maybe you can remove/comment out the line
> 
> POSIXLY_CORRECT=1; export POSIXLY_CORRECT	# disable GNU extensions
> 
> in ray/src/px/tiff/configure, but I don't know if this leads to any side
> effects.


Augustinus,

I am using sed 4.05. I commented out the line in the configure script 
and everything appeared to compile - including ra_tiff and friends. It 
appears that oconv and rpict and rview seem to work, but I'm still left 
with a nonworking ximage. Time to fiddle around a little more :)

Thank you for the help,

tom


From radiance-general@radiance-online.org  Thu Apr 10 14:27:13 2003
From: radiance-general@radiance-online.org (Stein =?iso-8859-1?Q?=C5ge?= Bruvoll)
Date: Thu, 10 Apr 2003 15:27:13 +0200
Subject: [Radiance-general] rview problem with radiance on hp-ux
Message-ID: <5.2.0.9.2.20030410123900.02970d80@pop.ansatt.ntnu.no>

I`m wondering, is rview a part of the radiance package, or is it a 
standalone program not usually shipped with hp-ux?
If its not in radiance, is there an alternate command in hp-ux that makes 
an image from an octtree?



Stein Åge Bruvoll

IT-drift
Fakultet for Arkitektur og Billedkunst
NTNU 



From radiance-general@radiance-online.org  Thu Apr 10 15:17:18 2003
From: radiance-general@radiance-online.org (M BLOJ)
Date: Thu, 10 Apr 2003 15:17:18 +0100 (BST)
Subject: [Radiance-general] Opportunity for PhD studies in Radiance (almost:)
Message-ID: <Pine.GSO.4.33.0304101512150.2717-100000@lithium.cen.brad.ac.uk>

I have funds to pay for an interested person to carry out Doctoral (PhD)
studies over a 3 year full time period.

Closing date for applications: 28 April 2003. Only open to UK, EU
citizens and others classed as Home fees by the UK government.

You will be involved in a project funded by the EPSRC (www.epsrc.ac.uk)
to study how we see colours of real objects compared to computer
simulated ones. We will use Radiance to generate the computer images.
The aim of this project is to establish how good human colour constancy
is in the presence of gradients and to study how it depends on the image
characteristics (real vs simulated, etc) but you can also think of the
project as an attempt to carry out a psychophysical validation of the
images generated by Radiance.

You will be working with me and another experienced post-doctoral
researcher within the Department of Optometry at the University of
Bradford (www.brad.ac.uk). The EPSRC funding covers the construction of
a unique lighting booth in which to carry out the real objects
experiments, other equipment (computers, etc), travel money to attend
conferences and payment of observers. The project has scope for you to
develop your own ideas particularly in the later years of the PhD.

This is an interdisciplinary project combining techniques from colour
science, psychology and computing. It would suit an enthusiastic
candidate with a degree in architecture, engineering, computing, design,
physics, maths or psychology with an interest in human factors and
comfortable with computers (and Radiance :) It will give you an
opportunity to acquire experience in academic research, gain a PhD and
publish in top quality journals.

The University upholds a strong equal opportunity policy and I welcome
enquiries from mature students. Bradford (www.bradford.gov.uk) is
situated in West Yorkshire (in the North of England) among beautiful
countryside including the Yorkshire Dales National Park
(www.yorkshiredales.org.uk) and Bronte Counrtry
(www.bronte-country.com/welcome.html). You will find excellent mountain
and road biking, walking, rock climbing and long boat sailing a short
distance from the University. The city is small and multicultural with
low cost of living, host to the National Film and Photography Museum
(www.nmsi.ac.uk) and the Bradford Bulls (www.bradfordbulls.co.uk). There
are excellent rail links (Leeds 20min, London 2.5 hs, Ilkley 30 min) and
an international airport.

Start date for the PhD is flexible; between August 03 and January 04.
Stipend is at Research council level (currently pounds 9000), as a full
time student you will be exempt from paying tax. There are opportunities
to supplement your income via teaching/demonstrating.

Interested parties should submit a personal statement indicating why
they are interested in the project and their background, a CV and
contact details of 3 referees (by April 28, 2003) to:

Dr Marina Bloj
Department of Optometry, Richmond Building
University of Bradford
BD7 1DP
UK

e-mail applications accepted at m.bloj@brad.ac.uk

Shortlist will be drawn up soon after the closing date and award
decisions will be made in early May.

I am happy to deal with informal enquiries via e-mail m.bloj@brad.ac.uk


---
Marina Bloj PhD, Lecturer
Department of Optometry, Richmond Building
University of Bradford
BD7 1DP
Tel: +44-(0)1274 23 6258 Fax: +44-(0)1274 235570



From radiance-general@radiance-online.org  Thu Apr 10 19:48:59 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Thu, 10 Apr 2003 14:48:59 -0400
Subject: [Radiance-general] rview problem with radiance on hp-ux
References: <5.2.0.9.2.20030410123900.02970d80@pop.ansatt.ntnu.no>
Message-ID: <3E95BC9B.2050206@rumblestrip.org>

Stein Åge Bruvoll wrote:
> I`m wondering, is rview a part of the radiance package, or is it a 
> standalone program not usually shipped with hp-ux?

rivew is part of the Radiance package.  It's the "quick & dirty" 
rendering program, used mainly for checking geometry and setting up 
views, opposed to rpict, which is used for high quality images.

> If its not in radiance, is there an alternate command in hp-ux that 
> makes an image from an octtree?

AFAIK, the only tools available to take an octree and create an image 
are the ones that come with Radiance (rview, rpict, rtrace, etc.).

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Fri Apr 11 16:24:54 2003
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Fri, 11 Apr 2003 17:24:54 +0200
Subject: [Radiance-general] rview problem with radiance on hp-ux
In-Reply-To: <5.2.0.9.2.20030410123900.02970d80@pop.ansatt.ntnu.no>
References: <5.2.0.9.2.20030410123900.02970d80@pop.ansatt.ntnu.no>
Message-ID: <3E96DE46.5070703@pab-opto.de>

Stein Åge Bruvoll wrote:

> I`m wondering, is rview a part of the radiance package, or is it a 
> standalone program not usually shipped with hp-ux?
> If its not in radiance, is there an alternate command in hp-ux that 
> makes an image from an octtree? 

Not that I'd be aware of its existence, even after some years with 
HP-UX.  HP-UX 11.00 manpages don't show it neither. Maybe some (quiet 
old) Starbase (HP's ancient graphic lib) had something with that name.
I've just tried compiling Radiance 3R5 on HP-UX 10.0, that worked except 
an error in 'x11twind.c' . That could probably be fixed if you're really 
interested. On HPUX 11 I don't know.
My personal thought If you have PA-RiSC (HP's "Precision Architektur" 
CPU)  hardware to use, but no compelling reasons to run HP-UX,  Debian 
Linux offers a more standardized system, and it runs fairly well on 
non-Intel CPUs. Although the XFree server is not supported on all models 
and HP graphic cards ( = use PA-RISC for calculation).

regards
Peter

-- 
 pab-opto, Freiburg, Germany, www.pab-opto.de




From radiance-general@radiance-online.org  Wed Apr 16 16:05:26 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 16 Apr 2003 08:05:26 -0700
Subject: [Radiance-general] Re: how i can work with archicad and radiance ?
In-Reply-To: <3E9D63ED.1010001@rumblestrip.org>
Message-ID: <DB32357F-701C-11D7-8A0A-000A956D40C8@lmi.net>

This discussion belongs in radiance-general, not radiance-dev, which is 
for development issues....

-Greg

Begin forwarded message:

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: Wed Apr 16, 2003  7:08:45  AM US/Pacific
> To: radiance-dev@radiance-online.org
> Subject: Re: [Radiance-dev] how i can work with archicad and radiance ?
> Reply-To: radiance-dev@radiance-online.org
>
> Carsten Bauer wrote:
>>>   hi,   I would like to work with archicad and radiance but i 
>>> haven't any
>>> idia if anybody know you can contacte me and we work to guether .    
>>>                                                                     
>>> Tou
>> Yeah, great idea ! But sorry, I have no idea either. But if one day 
>> an idea explodes in my mind, I will contact you !
>
> I'm not sure the level of integration you are seeking Tou, but if all 
> you need is to get an Archicad model into Radiance for 
> rendering/analysis, I'd assume you could save your model as a DXF file 
> and use dxf2rad to convert it into a Radiance scene description.  If 
> you're looking to preserve materials or uv mappings, I'm pretty sure 
> there are other methods that will preserve at least some of that, but 
> that's out of my depth. HTH.
>
> ----
>
>      Rob Guglielmetti


From radiance-general@radiance-online.org  Wed Apr 16 16:41:36 2003
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Wed, 16 Apr 2003 11:41:36 -0400
Subject: [Radiance-general] Re: how i can work with archicad and radiance
 ?
References: <DB32357F-701C-11D7-8A0A-000A956D40C8@lmi.net>
Message-ID: <3E9D79B0.2080206@visarc.com>

A web search for "archicad radiance" produces useful results, including 
the following links:

http://astronomy.swin.edu.au/~pbourke/radiance/archicad2rad/
http://www.schorsch.com/rayfront/manual/archicad2rad.html

It is not clear what the state of this tool is with respect to the most 
current versions of Archicad. But it is a starting point. There are 
probably other possibilities depending on what Archicad can export (eg 
dxf or 3ds).

-Jack

Greg Ward wrote:

> This discussion belongs in radiance-general, not radiance-dev, which 
> is for development issues....
>
> -Greg
>
> Begin forwarded message:
>
>> From: Rob Guglielmetti <rpg@rumblestrip.org>
>> Date: Wed Apr 16, 2003  7:08:45  AM US/Pacific
>> To: radiance-dev@radiance-online.org
>> Subject: Re: [Radiance-dev] how i can work with archicad and radiance ?
>> Reply-To: radiance-dev@radiance-online.org
>>
>> Carsten Bauer wrote:
>>
>>>>   hi,   I would like to work with archicad and radiance but i 
>>>> haven't any
>>>> idia if anybody know you can contacte me and we work to guether 
>>>> .    
>>>>                                                                     
>>>> Tou
>>>
>>> Yeah, great idea ! But sorry, I have no idea either. But if one day 
>>> an idea explodes in my mind, I will contact you !
>>
>>
>> I'm not sure the level of integration you are seeking Tou, but if all 
>> you need is to get an Archicad model into Radiance for 
>> rendering/analysis, I'd assume you could save your model as a DXF 
>> file and use dxf2rad to convert it into a Radiance scene 
>> description.  If you're looking to preserve materials or uv mappings, 
>> I'm pretty sure there are other methods that will preserve at least 
>> some of that, but that's out of my depth. HTH.
>>
>> ----
>>
>>      Rob Guglielmetti
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From radiance-general@radiance-online.org  Wed Apr 16 19:29:10 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Wed, 16 Apr 2003 11:29:10 -0700
Subject: [Radiance-general] Splotchy renders
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF0224A279@corvallis.summit.fiserv.com>

I finally am playing around in Radiance - OS 10.5.1 and getting some o.k.
results.
However, I notice a lot of the renders are really spotty. 
http://www.geocities.com/SoHo/Lofts/5684/images/354_2002.jpg

In rpict, I've tried -ab 200 and -ps 5
Also looked at the list archives and tried compamb, but get these errors

[localhost:~/documents/radiance_stuff/strata2rad] robfitzs% compamb -c -e
354.rad
354.rad: unknown variable: void glow dim
354.rad: unknown variable: void glow dim
rpict: system - cannot expand '@/usr/tmp/ca3355.opt': No such file or
directory
rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on localhost
/usr/tmp/ca3355.amb: file not found
cavg: Subscript out of range.

Thanks
Rob

From radiance-general@radiance-online.org  Wed Apr 16 19:50:06 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Wed, 16 Apr 2003 11:50:06 -0700
Subject: [Radiance-general] Splotchy renders
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF0224A27B@corvallis.summit.fiserv.com>

Sorry for the bad link
http://www.geocities.com/rastermon/splotchy.html


I finally am playing around in Radiance - OS 10.5.1 and getting some
o.k.
results.
However, I notice a lot of the renders are really spotty. 
http://www.geocities.com/SoHo/Lofts/5684/images/354_2002.jpg

In rpict, I've tried -ab 200 and -ps 5
Also looked at the list archives and tried compamb, but get these errors

[localhost:~/documents/radiance_stuff/strata2rad] robfitzs% compamb -c
-e
354.rad
354.rad: unknown variable: void glow dim
354.rad: unknown variable: void glow dim
rpict: system - cannot expand '@/usr/tmp/ca3355.opt': No such file or
directory
rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on localhost
/usr/tmp/ca3355.amb: file not found
cavg: Subscript out of range.

Thanks
Rob
_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From radiance-general@radiance-online.org  Wed Apr 16 23:42:45 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 16 Apr 2003 15:42:45 -0700
Subject: [Radiance-general] Splotchy renders
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF0224A27B@corvallis.summit.fiserv.com>
Message-ID: <BE1D2670-705C-11D7-AB04-000A956D40C8@lmi.net>

Hi Rob,

You need to look into the "rad" program, which will help you to set 
appropriate parameters for your environment.  When you have indirect 
illumination like this and you use the default rendering parameters, 
you get the kind of disappointing results you're seeing.  The rad tool 
will help you avoid these.  Also, the compamb script is probably 
failing because you are giving it your Radiance scene file(s) rather 
than the rad input file (usually .rif) that it expects.

A reasonable introduction to rad is included at the end of the first 
chapter in "Rendering with Radiance," which is distributed as a PDF in 
the file "ray/doc/pdf/RwR01.pdf" included with the 3.5 release.  If you 
don't have that, get it from the Radiance website:

	http://radsite.lbl.gov/radiance/book/ch1/ch1.pdf

-Greg

> From: "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>
>
> Sorry for the bad link
> http://www.geocities.com/rastermon/splotchy.html
>
>
> I finally am playing around in Radiance - OS 10.5.1 and getting some
> o.k.
> results.
> However, I notice a lot of the renders are really spotty.
> http://www.geocities.com/SoHo/Lofts/5684/images/354_2002.jpg
>
> In rpict, I've tried -ab 200 and -ps 5
> Also looked at the list archives and tried compamb, but get these 
> errors
>
> [localhost:~/documents/radiance_stuff/strata2rad] robfitzs% compamb -c
> -e
> 354.rad
> 354.rad: unknown variable: void glow dim
> 354.rad: unknown variable: void glow dim
> rpict: system - cannot expand '@/usr/tmp/ca3355.opt': No such file or
> directory
> rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on localhost
> /usr/tmp/ca3355.amb: file not found
> cavg: Subscript out of range.
>
> Thanks
> Rob


From radiance-general@radiance-online.org  Thu Apr 17 01:35:20 2003
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Thu, 17 Apr 2003 02:35:20 +0200 (MEST)
Subject: [Radiance-general] Re: how i can work with archicad and radiance ?
References: <3E9D79B0.2080206@visarc.com>
Message-ID: <7111.1050539720@www53.gmx.net>

Hi! 
 
As far as I remember you can use 3ds and obj output with Archicad, 
I did this some time ago. The problem with Archicad is that it 
tends to give you VERY detailed models, as every single element 
(a door, a window, ..) consists of lots of geometry. 
 
Maybe you should try it if you have a small project, with 
larger ones, I would try to reduce the scene geometry. 
 
Good luck, CU, Lars. 
 
(BTW: You can export obj and 3ds when you are in the 3d-window...) 

-- 
+++ GMX - Mail, Messaging & more  http://www.gmx.net +++
Bitte lächeln! Fotogalerie online mit GMX ohne eigene Homepage!


From radiance-general@radiance-online.org  Thu Apr 17 09:41:10 2003
From: radiance-general@radiance-online.org (Carsten Bauer)
Date: Thu, 17 Apr 2003 08:41:10 +0000
Subject: [Radiance-general] Splotchy renders
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF0224A27B@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF0224A27B@corvallis.summit.fiserv.com>
Message-ID: <200304170841.10213.cbauer-@t-online.de>

Hi Rob,

an interesting report (application case study) which provides concrete hints 
on Radiance (esp. ambient) rendering parameter settings (amongst other 
valuable info) can be found at:

http://www.pab-opto.de/radiance/render_vergleich/intro.html

(avail. in german and english)

-cb


From radiance-general@radiance-online.org  Thu Apr 17 15:52:48 2003
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Thu, 17 Apr 2003 16:52:48 +0200
Subject: [Radiance-general] Re: how i can work with archicad and radiance ?
In-Reply-To: <3E9D79B0.2080206@visarc.com>
References: <DB32357F-701C-11D7-8A0A-000A956D40C8@lmi.net> <3E9D79B0.2080206@visarc.com>
Message-ID: <200304171456.h3HEubY1021392@darkside-animation.com>

Hi,

I've looked at my old projects... the one I exported from Archicad
was written as 3ds, then converted to mgf and from there to rad. As
you get triangles with 3ds, and as Archicad produces a lot of
geometry (that's because it follows an approach using building
elements, which are predefined with all details and then modified).
I got quite large scene files (my geometry in radiance format .rad
took about 50MB). I am not sure if the detail settings you can do
in Archicad just change the view or also the geometry that is
exported. You might try to import your 3ds into a pure modeller
and reduce details here (I love to use formZ for radiance scenes,
you can even export dxf then and import your simplified scene
as dxf than with dxf2rad).

As you see, you must decide wether you want to do some extra
work and get some "optimized" model into radiance, e.g. if you will
do a lot of rendering later, or if you simply want some nice images
and use the "brute force" method simply importing the geometry
from Archicad, and using a fast machine with lots of memory... I
always do some work on geometry before I import into radiance
just because I have a 128MB laptop here, so maybe all this is
no problem for you.

CU, Lars.


From radiance-general@radiance-online.org  Fri Apr 18 17:09:50 2003
From: radiance-general@radiance-online.org (Krzysztof Wandachowicz)
Date: Fri, 18 Apr 2003 18:09:50 +0200
Subject: [Radiance-general] set overflow in addobject
Message-ID: <001e01c305c4$f2c48480$6a0cfe96@iee.put.poznan.pl>

This is a multi-part message in MIME format.

------=_NextPart_000_001B_01C305D5.B4036480
Content-Type: text/plain;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable

Dear Radiance users,

=20

I have made calculation of luminance and illuminance distribution of =
specular reflectors using Radiance. My parabolic reflector is made with =
15750 very small polygons. All polygons are mirror material. The problem =
is that when I make oconv process I get the following error:

=20

oconv: internal - set overflow in addobject =
(parabola-0-004-R_63E0.6350.1)

=20

6350 is the number of polygon.

=20

The same error I have on different computers and no matter if it is =
Radiance 3.1 under LINUX or Desktop Radiance.

=20

Regards,

Krzysztof Wandachowicz

=20

------------------------------------------------
Krzysztof Wandachowicz
Politechnika Pozna=F1ska, Instytut Elektrotechniki Przemys=B3owej
Zak=B3ad Techniki =A6wietlnej
http://lumen.iee.put.poznan.pl/kw/
-----------------------------------------------

------=_NextPart_000_001B_01C305D5.B4036480
Content-Type: text/html;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-2">
<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT face=3D"Times =
New Roman">Dear=20
Radiance users,<?xml:namespace prefix =3D o ns =3D=20
"urn:schemas-microsoft-com:office:office" =
/><o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New Roman">&nbsp;<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT face=3D"Times =
New Roman">I=20
have made calculation of luminance and illuminance distribution of =
specular=20
reflectors using Radiance. My parabolic reflector is made with 15750 =
very small=20
polygons. All polygons are mirror material. The problem is that when I =
make=20
oconv process I get the following =
error:<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New Roman">&nbsp;<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New Roman">oconv: internal - set overflow in addobject=20
(parabola-0-004-R_63E0.6350.1)<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New Roman">&nbsp;<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT face=3D"Times =
New Roman">6350=20
is the number of polygon.<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New Roman">&nbsp;<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT face=3D"Times =
New Roman">The=20
same error I have on different computers and no matter if it is Radiance =
3.1=20
under LINUX or Desktop Radiance.<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New Roman">&nbsp;<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New Roman">Regards,</FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New Roman">Krzysztof=20
Wandachowicz<o:p></o:p></FONT></FONT></SPAN></P>
<P class=3DMsoNormal style=3D"MARGIN: 0cm 0cm 0pt"><SPAN lang=3DEN-US=20
style=3D"mso-ansi-language: EN-US"><FONT size=3D3><FONT=20
face=3D"Times New =
Roman">&nbsp;<o:p></o:p></FONT></FONT></SPAN></P></FONT></DIV>
<DIV><FONT face=3DArial=20
size=3D2>------------------------------------------------<BR>Krzysztof=20
Wandachowicz<BR>Politechnika Pozna=F1ska, Instytut Elektrotechniki=20
Przemys=B3owej<BR>Zak=B3ad Techniki =A6wietlnej<BR><A=20
href=3D"http://lumen.iee.put.poznan.pl/kw/">http://lumen.iee.put.poznan.p=
l/kw/</A><BR>-----------------------------------------------</FONT></DIV>=
</BODY></HTML>

------=_NextPart_000_001B_01C305D5.B4036480--


From radiance-general@radiance-online.org  Fri Apr 18 17:17:31 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Fri, 18 Apr 2003 09:17:31 -0700
Subject: [Radiance-general] set overflow in addobject
In-Reply-To: <001e01c305c4$f2c48480$6a0cfe96@iee.put.poznan.pl>
Message-ID: <417F5837-71B9-11D7-A100-000A956D40C8@lmi.net>

Dear Krzysztof,

The solution is very simple -- follow the instructions in the oconv man 
page and increase the -r option by powers of two until the problem 
disappears.  In your case, I'd recommend going straight to some large 
value, such as -r 262144.

-Greg


> From: "Krzysztof Wandachowicz" <Krzysztof.Wandachowicz@put.poznan.pl>
>
> Dear Radiance users,
>
> I have made calculation of luminance and illuminance distribution of 
> specular reflectors using Radiance. My parabolic reflector is made 
> with 15750 very small polygons. All polygons are mirror material. The 
> problem is that when I make oconv process I get the following error:
>
> oconv: internal - set overflow in addobject 
> (parabola-0-004-R_63E0.6350.1)
>
> 6350 is the number of polygon.
>
> The same error I have on different computers and no matter if it is 
> Radiance 3.1 under LINUX or Desktop Radiance.
>
> Regards,
>
> Krzysztof Wandachowicz


From radiance-general@radiance-online.org  Sun Apr 20 10:20:41 2003
From: radiance-general@radiance-online.org (Charles Ehrlich)
Date: Sun, 20 Apr 2003 02:20:41 -0700 (PDT)
Subject: [Radiance-general] Re: luminaire modeling Was: set overflow in addobject
In-Reply-To: <20030419100002.26149.19072.Mailman@darkside-animation.com>
Message-ID: <20030420092041.64298.qmail@web80306.mail.yahoo.com>

--0-272775962-1050830441=:62420
Content-Type: text/plain; charset=us-ascii

Hi Krzysztof, I'm interested to learn if you are successful at using Radiance to model parabolic reflectors.  I presume you are trying to get an accurate distribution of the light fixture.  When I have used Radiance to model light tubes such as tubular skylights, the ray-tracing method of Radiance breaks down after about 20 reflections--with only 7 surfaces!  This means that light will not emit from the tubular skylight at angles between 180 degrees from nadir (grazing the ceiling) to 160 degrees. If many of your mirror polygons can "see" each other, then you may have the same problem.  If you limit the number of reflections, then there is a certain amount of error introduced into the calculation for those rays that get "trapped". What is really needed is a forward ray-tracer.  Have you tried the product called "Raydirect" that Georg Mischler and friends is providing?  Georg, would it work for this application?  -Chas
From: "Krzysztof Wandachowicz" 
To: 
Date: Fri, 18 Apr 2003 18:09:50 +0200
Subject: [Radiance-general] set overflow in addobject
Reply-To: radiance-general@radiance-online.org

Dear Radiance users,

I have made calculation of luminance and illuminance distribution of specular reflectors using Radiance. My parabolic reflector is made with 15750 very small polygons. All polygons are mirror material. The problem is that when I make oconv process I get the following error:


oconv: internal - set overflow in addobject 
(parabola-0-004-R_63E0.6350.1)


6350 is the number of polygon.


The same error I have on different computers and no matter if it is Radiance 3.1 under LINUX or Desktop Radiance.


Regards,

Krzysztof Wandachowicz

------------------------------------------------
Krzysztof Wandachowicz
Politechnika Pozna=F1ska, Instytut Elektrotechniki Przemys=B3owej
Zak=B3ad Techniki =A6wietlnej
http://lumen.iee.put.poznan.pl/kw/
-----------------------------------------------

--0-272775962-1050830441=:62420
Content-Type: text/html; charset=us-ascii

<DIV>Hi Krzysztof,</DIV>
<DIV>&nbsp;</DIV>
<DIV>I'm interested to learn if you are successful at using Radiance to model parabolic reflectors.&nbsp; I presume you are trying to get an accurate distribution of the light fixture.&nbsp; When I have used Radiance to model light tubes such as tubular skylights, the ray-tracing method of Radiance breaks down after about 20 reflections--with only 7 surfaces!&nbsp; This means that light will not emit from the tubular skylight at angles between 180 degrees from nadir&nbsp;(grazing the ceiling) to 160 degrees.</DIV>
<DIV>&nbsp;</DIV>
<DIV>If many of your mirror polygons can "see" each other, then you may have the same problem.&nbsp; If you limit the number of reflections, then there is a certain amount of error introduced into the calculation for those rays that get "trapped".</DIV>
<DIV>&nbsp;</DIV>
<DIV>What is really needed is a forward ray-tracer.&nbsp; Have you tried the product called "<A href="http://www.schorsch.com/raydirect/">Raydirect</A>" that Georg Mischler and friends is providing?&nbsp; Georg, would it work&nbsp;for this application?&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>-Chas<BR></DIV>
<BLOCKQUOTE style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #1010ff 2px solid">From: "Krzysztof Wandachowicz" <KRZYSZTOF.WANDACHOWICZ@PUT.POZNAN.PL><BR>To: <RADIANCE-GENERAL@RADIANCE-ONLINE.ORG><BR>Date: Fri, 18 Apr 2003 18:09:50 +0200<BR>Subject: [Radiance-general] set overflow in addobject<BR>Reply-To: radiance-general@radiance-online.org<BR><BR>Dear Radiance users,<BR><BR>I have made calculation of luminance and illuminance distribution of specular reflectors using Radiance. My parabolic reflector is made with 15750 very small polygons. All polygons are mirror material. The problem is that when I make oconv process I get the following error:<BR><BR><BR>oconv: internal - set overflow in addobject <BR>(parabola-0-004-R_63E0.6350.1)<BR><BR><BR>6350 is the number of polygon.<BR><BR><BR>The same error I have on different computers and no matter if it is Radiance 3.1 under LINUX or Desktop Radiance.<BR><BR><BR>Regards,<BR><BR>Krzysztof Wandachowicz<BR><BR>------------------------------------------------<BR>Krzysztof Wandachowicz<BR>Politechnika Pozna=F1ska, Instytut Elektrotechniki Przemys=B3owej<BR>Zak=B3ad Techniki =A6wietlnej<BR>http://lumen.iee.put.poznan.pl/kw/<BR>-----------------------------------------------<BR></BLOCKQUOTE>
--0-272775962-1050830441=:62420--

From radiance-general@radiance-online.org  Mon Apr 21 07:07:11 2003
From: radiance-general@radiance-online.org (Martin Klingler)
Date: Sun, 21 Apr 2003 06:07:11 GMT
Subject: [Radiance-general] AW=?iso-8859-1?Q?=3A?=Re=?iso-8859-1?Q?=3A?= luminaire modeling Was=?iso-8859-1?Q?=3A?= set overflow in addobject (Charles Ehrlich)
References: <20030420100002.28888.19941.Mailman@darkside-animation.com>
Message-ID: <5FEFED25-5448-4BF5-A15BA36B46A05905@Netway>

This is a multi-part message in MIME format.



-----=_NextPart_000_70554751157
MIME-Version: 1.0
Content-Type: text/plain; Charset="iso-8859-1"
Content-Transfer-Encoding: base64
Message-ID: <5FEFED25-5448-4BF5-A15BA36B46A05905@Netway>

SGksDQoNCnRvIG1vZGVsIGFuZCBzaW11bGF0ZSBsdW1pbmFpcmVzIEkganVzdCBjYW4gcmVjb21t
ZW5kIFJvbGFuZLRzIFBob3RvbiBNYXBwaW5nLiBJIGdvdCB2ZXJ5IGdvb2QgcmVzdWx0cywgZXZl
biB3aXRoIHF1aXRlIGRldGFpbGVkIGxhbXBzIGFuZCBhbHNvIHdpdGggbXVsdGlwbGUgcmVmbGVj
dGlvbnMuIEZvciBtZSB0aGUgaW1wb3J0YW50IHRoaW5nIGlzIHRoYXQgdGhlcmUgYXJlIHR3byBz
dXBlcmIgYWR2YW50YWdlcy4gRmlyc3QsIHlvdSBhcmUgbm90IHJlc3RyaWN0ZWQgdG8gcGxhbmFy
IHN1cmZhY2VzIGFuZCBzZWNvbmQgeW91IGFyZSBub3QgcmVzdHJpY3RlZCB0byBhIHBlcmZlY3Qg
bWlycm9yIHN1cmZhY2UuDQpTbywgdGhhdCBpcyB0aGUgcmVhc29uIEkgYW0gd2FpdGluZyBoYXJk
IHRvIHNlZSBSb2xhbmS0cyBwYXRjaCBmb3IgdGhlIDNSNSB2ZXJzaW9uIDstKQ0KDQpCZXN0cyBy
ZWdhcmRzDQpNYXJ0aW4NCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCkxpY2h0dGVjaG5payBNYXJ0aW4gS2xpbmdsZXINClNw
cmFpZHQgNw0KNTI3MSBNb29zYmFjaA0KQVVTVFJJQQ0KVGVsICsrNDMtNzcyNC00NDM4MzMNCkZh
eCArKzQzLTc3MjQtNDQzODM4DQplbWFpbCBtYXJ0aW5AbGljaHR0ZWNobmlrLmNvLmF0DQo=

-----=_NextPart_000_70554751157--



From radiance-general@radiance-online.org  Tue Apr 22 15:21:03 2003
From: radiance-general@radiance-online.org (Krzysztof Wandachowicz)
Date: Tue, 22 Apr 2003 16:21:03 +0200
Subject: [Radiance-general] Re: luminaire modeling Was: set overflow in addobject
References: <20030420092041.64298.qmail@web80306.mail.yahoo.com>
Message-ID: <001201c308da$69e342a0$6a0cfe96@iee.put.poznan.pl>

Hi Chas,
You are right, I try to calculate light distribution of luminaires. I can do
it for diffuse luminaires using Radiance. It works for luminaires with
diffuse reflectors and luminaires with diffusers (thanks Greg fur such
wonderful stuff). You can see Desktop Radiance Tutorial How to Calculate
Luminaires Using Radiance (only in Polish):
http://lumen.iee.put.poznan.pl/kw/oprawy/p-opr.html

This tutorial is for my students. They have exercise at fifth year of study
and make project of luminaire using Radiance. Now three of them try to take
Master of Science and their subjects are connected with calculation of
luminaires using Radiance. One of them try to calculate light distribution
of specular reflectors. It is possible to do it with Radiance. When we want
to use backward ray tracing method we look for Figure of Bright Points at
the surface of reflector. This is area where we can see image of lamp (light
source). This is very simple to calculate but the problem is that when we
use Radiance we have to divide reflector's surface into very small
elementary surfaces. Each of these elementary surfaces should be smaller
than dimension of lamp (light source). This is the reason why I build my
reflector with 15750 pieces.
Parabolic mirror reflector produces parallel beam (with point source placed
at focus) and none of polygons can see each other. Generally most of mirror
reflectors are build in such way.

Unfortunately I can't make my calculation with 15750 polygons. Greg, thanks
for your advise. I can start oconv process only at -r 389376 but after 3
hours I get:

Out of memory in emalloc (when I use Desktop Radiance)

oconv: system - out of octree space (when I use Radiance)

Best regards,
Krzysztof Wandachowicz
------------------------------------------------
Politechnika Poznanska, Instytut Elektrotechniki Przemyslowej
Zaklad Techniki Swietlnej
http://lumen.iee.put.poznan.pl/kw/
-----------------------------------------------

----- Original Message -----
From: Charles Ehrlich
To: radiance-general@radiance-online.org
Sent: Sunday, April 20, 2003 11:20 AM
Subject: [Radiance-general] Re: luminaire modeling Was: set overflow in
addobject


Hi Krzysztof,

I'm interested to learn if you are successful at using Radiance to model
parabolic reflectors.  I presume you are trying to get an accurate
distribution of the light fixture.  When I have used Radiance to model light
tubes such as tubular skylights, the ray-tracing method of Radiance breaks
down after about 20 reflections--with only 7 surfaces!  This means that
light will not emit from the tubular skylight at angles between 180 degrees
from nadir (grazing the ceiling) to 160 degrees.

If many of your mirror polygons can "see" each other, then you may have the
same problem.  If you limit the number of reflections, then there is a
certain amount of error introduced into the calculation for those rays that
get "trapped".

What is really needed is a forward ray-tracer.  Have you tried the product
called "Raydirect" that Georg Mischler and friends is providing?  Georg,
would it work for this application?

-Chas


From radiance-general@radiance-online.org  Tue Apr 22 16:16:26 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 22 Apr 2003 08:16:26 -0700
Subject: [Radiance-general] Re: luminaire modeling Was: set overflow in addobject
In-Reply-To: <001201c308da$69e342a0$6a0cfe96@iee.put.poznan.pl>
Message-ID: <628A7424-74D5-11D7-AE3B-000A956D40C8@lmi.net>

Hi Kryzysztof,

Is it possible that there is some error causing all of your polygons to 
lie on top of each other?  Try viewing them with "objline" -- you can 
use "objline model.rad | meta2tga -x 1024 -y 1024 > model.tga" then 
view the output with an image viewer that recognizes Targa files, or 
convert the Targa image to Radiance with "ra_t8 -r model.tga > 
model.pic".  This will show you what your model looks like without 
having to run it through oconv, first.

-Greg

> From: "Krzysztof Wandachowicz" <Krzysztof.Wandachowicz@put.poznan.pl>
> ...
>
> Unfortunately I can't make my calculation with 15750 polygons. Greg, 
> thanks
> for your advise. I can start oconv process only at -r 389376 but after 
> 3
> hours I get:
>
> Out of memory in emalloc (when I use Desktop Radiance)
>
> oconv: system - out of octree space (when I use Radiance)


From radiance-general@radiance-online.org  Tue Apr 22 17:13:43 2003
From: radiance-general@radiance-online.org (Krzysztof Wandachowicz)
Date: Tue, 22 Apr 2003 18:13:43 +0200
Subject: [Radiance-general] Re: luminaire modeling Was: set overflow in addobject
References: <628A7424-74D5-11D7-AE3B-000A956D40C8@lmi.net>
Message-ID: <000601c308ea$2721c580$6a0cfe96@iee.put.poznan.pl>

Hi Greg,
I have just made everything what you advised me. My model looks well (I
think), see:
http://lumen.iee.put.poznan.pl/pliki/model.gif

I will try to build my reflector once again and maybe with fewer polygons.

Best regards,
Krzysztof Wandachowicz
------------------------------------------------
Politechnika Poznanska, Instytut Elektrotechniki Przemyslowej
Zaklad Techniki Swietlnej
http://lumen.iee.put.poznan.pl/kw/
-----------------------------------------------

> From: "Greg Ward" <gward@lmi.net>
> Hi Kryzysztof,
>
> Is it possible that there is some error causing all of your polygons to
> lie on top of each other?  Try viewing them with "objline" -- you can
> use "objline model.rad | meta2tga -x 1024 -y 1024 > model.tga" then
> view the output with an image viewer that recognizes Targa files, or
> convert the Targa image to Radiance with "ra_t8 -r model.tga >
> model.pic".  This will show you what your model looks like without
> having to run it through oconv, first.
>
> -Greg



From radiance-general@radiance-online.org  Tue Apr 22 17:27:56 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 22 Apr 2003 09:27:56 -0700
Subject: [Radiance-general] Re: luminaire modeling Was: set overflow in addobject
In-Reply-To: <000601c308ea$2721c580$6a0cfe96@iee.put.poznan.pl>
Message-ID: <5F9F4290-74DF-11D7-AE3B-000A956D40C8@lmi.net>

This is informative -- it looks to me like the density of polygons goes 
up dramatically near the center, and I suspect this is why oconv is 
unable to resolve your model.  Oconv has an upper limit to the number 
of polygons it will put in an octree voxel, and you are running into 
this limit with lower values of -r and running out of memory as it 
tries to resolve the mesh with larger values of -r.  The best solution 
would be to reduce the number of polygons you have in the center of 
your reflector, perhaps by going to a more sophisticated grid 
arrangement that what you have, which appears to be a uniform division 
of the polar coordinates.

-Greg

> From: "Krzysztof Wandachowicz" <Krzysztof.Wandachowicz@put.poznan.pl>

> I have just made everything what you advised me. My model looks well (I
> think), see:
> http://lumen.iee.put.poznan.pl/pliki/model.gif
>
> I will try to build my reflector once again and maybe with fewer 
> polygons.


From radiance-general@radiance-online.org  Tue Apr 22 17:38:51 2003
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Tue, 22 Apr 2003 18:38:51 +0200
Subject: [Radiance-general] Re: luminaire modeling Was: set overflow in
 addobject
References: <5F9F4290-74DF-11D7-AE3B-000A956D40C8@lmi.net>
Message-ID: <3EA5701B.824C9629@gmx.net>

> This is informative -- it looks to me like the density of polygons goes
> up dramatically near the center, and I suspect this is why oconv is
> unable to resolve your model.  Oconv has an upper limit to the number
> of polygons it will put in an octree voxel, and you are running into
> this limit with lower values of -r and running out of memory as it
> tries to resolve the mesh with larger values of -r.  The best solution
> would be to reduce the number of polygons you have in the center of
> your reflector, perhaps by going to a more sophisticated grid
> arrangement that what you have, which appears to be a uniform division
> of the polar coordinates.

You might also try a recursive subdivion scheme using spherical
triangles. A dodecahedron is a good starting point. This would solve
your problem, although the number of triangles can explode with the
subdivision level. Of course you'll have to implement this yourself, but
it's actually simpler than it sounds.

--Roland

-- 
END OF LINE. (MCP)

From radiance-general@radiance-online.org  Mon Apr 28 20:25:41 2003
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Mon, 28 Apr 2003 20:25:41 +0100
Subject: [Radiance-general] Transform from 3D to 2D Coordinates
Message-ID: <1051557941.3ead8035593cc@webmail.bris.ac.uk>

Dear Radiance list,

I am currently using radiance to render some pictures which I would like
to apply some post processing to. This will involve pasting an image
onto a specific location in the .pic file i have created. 

In order to do this i need to know the location of certain points. I
know where they are in my 3D scene, but cannot work out a 3D to 2D
coordinate transform. I know that with a traditional pinhole perspective
projection i can work out new 2D coordinates if i know the old
coordinates, the focal point and the focal length. But i cant find any
way of determining what the focal length used by rpict is!

If anyone has, ideally, an equation for transforming 3D radiance
coordinates into 2D .pic coordinates based on an (x,y,z), view point and
view direction i would be incredibly grateful if you could let me know.
And if anyone could even help me determine the focal length i need that
would be a big help

Thanks a lot for your time

Jon Bright

From radiance-general@radiance-online.org  Tue Apr 29 17:28:51 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 29 Apr 2003 09:28:51 -0700
Subject: [Radiance-general] Transform from 3D to 2D Coordinates
In-Reply-To: <1051557941.3ead8035593cc@webmail.bris.ac.uk>
Message-ID: <A95604EE-7A5F-11D7-83AC-000A956D40C8@lmi.net>

Hi Jon,

Focal length is specified with the -vh and -vv options of rpict, which 
also controls the image aspect ratio.  Knowing one from the other 
requires a specific image (film) size and format.  For 35mm film, the 
formula is:

focal_length = 35/2 / tan(vv_angle/2)

Where vv_angle is the vertical view angle for a landscape picture.  The 
horizontal angle is then given by:

hh_angle = 2 * atan(vv_angle/2 * 3/2)

To check your calcs, a 50mm lens in 35mm photography is equivalent to a 
Radiance view specification of:

-vh 49.6 -vv 35.3

(Remember that many trigonometric libraries including those used by 
Radiance's "calc" program deal in radians, and you need to convert this 
using 180/PI.)

I hope the above exercise makes it clear why I didn't choose focal 
length in definining views in rpict -- they don't make a lot of sense.

There are also Radiance library routines you can access from C-code.  
Check out the viewloc() function in src/common/image.c and some of the 
other routines there.

Good luck!
-Greg

> From: jb0001@bristol.ac.uk
> Date: Mon Apr 28, 2003  12:25:41  PM US/Pacific
> To: radiance-general@radiance-online.org
> Subject: [Radiance-general] Transform from 3D to 2D Coordinates
> Reply-To: radiance-general@radiance-online.org
>
> Dear Radiance list,
>
> I am currently using radiance to render some pictures which I would 
> like
> to apply some post processing to. This will involve pasting an image
> onto a specific location in the .pic file i have created.
>
> In order to do this i need to know the location of certain points. I
> know where they are in my 3D scene, but cannot work out a 3D to 2D
> coordinate transform. I know that with a traditional pinhole 
> perspective
> projection i can work out new 2D coordinates if i know the old
> coordinates, the focal point and the focal length. But i cant find any
> way of determining what the focal length used by rpict is!
>
> If anyone has, ideally, an equation for transforming 3D radiance
> coordinates into 2D .pic coordinates based on an (x,y,z), view point 
> and
> view direction i would be incredibly grateful if you could let me know.
> And if anyone could even help me determine the focal length i need that
> would be a big help
>
> Thanks a lot for your time
>
> Jon Bright
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From radiance-general@radiance-online.org  Wed Apr 30 12:04:57 2003
From: radiance-general@radiance-online.org (Krzysztof Wandachowicz)
Date: Wed, 30 Apr 2003 13:04:57 +0200
Subject: [Radiance-general] Re: luminaire modeling Was: set overflow in addobject
References: <5F9F4290-74DF-11D7-AE3B-000A956D40C8@lmi.net>
Message-ID: <000a01c30f08$58392180$6a0cfe96@iee.put.poznan.pl>

Hi Greg,

I've just made oconv process with success. First I tried to reduce number of
polygons without success. There is no way. The most important problem are
polygons in the center of my reflector. There are 360 triangles with common
vertex in optical axis which make a part of sphere with very small diameter
(1 cm). When I delete only these 360 triangles I can make oconv process.

The second notice is that there is no way to make oconv process with -r
bigger than 262144. I tried to make calculation with -r 393216 when I got
"set overflow in addobject" but then I've got "out of memory in emalloc" or
"system out of octree space". I the other words if it was not possible to
make calculation with -r 262144 it would no way to do it at all.

Best regards,

Krzysztof.

--
Krzysztof Wandachowicz
http://lumen.iee.put.poznan.pl/kw/

From: "Greg Ward" <gward@lmi.net>


> This is informative -- it looks to me like the density of polygons goes
> up dramatically near the center, and I suspect this is why oconv is
> unable to resolve your model.  Oconv has an upper limit to the number
> of polygons it will put in an octree voxel, and you are running into
> this limit with lower values of -r and running out of memory as it
> tries to resolve the mesh with larger values of -r.  The best solution
> would be to reduce the number of polygons you have in the center of
> your reflector, perhaps by going to a more sophisticated grid
> arrangement that what you have, which appears to be a uniform division
> of the polar coordinates.
>
> -Greg


From radiance-general@radiance-online.org  Wed Apr 30 14:24:47 2003
From: radiance-general@radiance-online.org (Olsen, Erik)
Date: Wed, 30 Apr 2003 08:24:47 -0500
Subject: [Radiance-general] Call for Case Studies
Message-ID: <B07181CB0073D51180C30002A537E9BF04F96BE2@CHGO-EXCHANGE>

Your firm can provide valuable input to presentations that will be used
across the U.S. to promote the use of building performance simulation in the
design process.

The International Building Performance Simulation Association, USA
affiliate, has contracted OWP/P Engineers and Michael Iversen, Architect, to
prepare presentation materials on the use of building simulation tools.
These presentations are intended for a general audience of architects and
engineers that wish to learn more about incorporating this valuable tool
into the design process.  The presentations will not be highly technical or
academic, but rather provide a comprehensive overview of the different
classes of analysis tools and their application.  These presentations will
be available for use by IBPSA members and other interested parties (with
permission from IBPSA-USA).

We are seeking case studies from U.S. projects to supplement the
presentations.  Case studies should be completed (fully designed) U.S.
projects in which some form of building simulation was used to assist in
making design decisions.  Simulation tools could include, but are not
limited to:  energy simulation, computational fluid dynamics, daylighting
analysis, and multizone network airflow models.  Projects demonstrating
strong synergy between the simulation and the remainder of the design
process are especially encouraged.  Your firm will be credited in the
presentation materials.

To submit your project, prepare an abstract or other descriptive document (1
page maximum) describing the project, what simulation tools were used, how
they fit into the design process, and what effect the simulation had on the
final design.  Submissions can be emailed to:

eolsen@owpp.com
Please give your message the subject line "IBPSA case study abstract."

***** Hurry - abstracts are due by May 12, 2003*****
Please contact me if you are interested in submitting a case study but are
unable to make this deadline.

We look forward to input from the entire design and simulation community on
this exciting project!

Sincerely,


Erik Olsen
OWP/P Engineers
HVAC / Energy Consulting
111 West Washington Street, Suite 2100
Chicago, Illinois 60602-2714
312.960.8313 Direct
312.827.8313 Fax
eolsen@owpp.com



From radiance-general@radiance-online.org  Wed Apr 30 18:58:43 2003
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Wed, 30 Apr 2003 18:58:43 +0100
Subject: [Radiance-general] Transform from 3D to 2D Coordinates
In-Reply-To: <A95604EE-7A5F-11D7-83AC-000A956D40C8@lmi.net>
References: <A95604EE-7A5F-11D7-83AC-000A956D40C8@lmi.net>
Message-ID: <1051725523.3eb00ed348b47@webmail.bris.ac.uk>

Dear Greg,

Thanks a lot for you quick reply to my last question. Im sorry to bother
you again with what is probably another obvious question.

 I have been spending a lot of time trying to use your 'viewloc()'
function in my program. I believe i know what most of the parameters
should be but i was hoping you could confirm (or correct) a few of my
assumptions as I cannot seem to produce any correct output. 

Firstly, viewloc() is passed three variables ip, v and p. p is obviously
the input co-ordinates in the xyz used by the radiance coordinate
system. v is the details of the view. ip therefore must be the output
coordinates - are ip[0] and ip[1] the new x and y coordinates?

the only v setttings that i cannot figure out the origin of is hoff and
voff (the horizontal and vertical offsets). As i do not change many
rendering parameters with rpict (only -vp and -vd) i am assuming these
default to 0 - is this correct? i assume the rest of the v variables
(i.e. hvec, vvec, hn2 etc.) are calculated in the 'setview' function.

Finally, I have been passing ip[0] and ip[1] to the loc2pix function to
convert this location to a pixel coordinate. My resolution is the
default 512X512 and my -vv and -vh are also the default 45. Does this
mean that loc2pix will give me an (x,y) between 0 and 512?

Again sorry to bother you with this - i wouldnt ask unless i really
couldnt sort it out myself

Your help is greatly appreciated

Jon Bright

ps as a matter of interest i hear you are visiting my university
(Bristol) on sunday to meet, among other people, my supervisor (Alan
Chalmers). Small world isnt it!

> Hi Jon,
> 
> Focal length is specified with the -vh and -vv options of rpict,
> which 
> also controls the image aspect ratio.  Knowing one from the other 
> requires a specific image (film) size and format.  For 35mm film, the
> 
> formula is:
> 
> focal_length = 35/2 / tan(vv_angle/2)
> 
> Where vv_angle is the vertical view angle for a landscape picture. 
> The 
> horizontal angle is then given by:
> 
> hh_angle = 2 * atan(vv_angle/2 * 3/2)
> 
> To check your calcs, a 50mm lens in 35mm photography is equivalent to
> a 
> Radiance view specification of:
> 
> -vh 49.6 -vv 35.3
> 
> (Remember that many trigonometric libraries including those used by 
> Radiance's "calc" program deal in radians, and you need to convert
> this 
> using 180/PI.)
> 
> I hope the above exercise makes it clear why I didn't choose focal 
> length in definining views in rpict -- they don't make a lot of
> sense.
> 
> There are also Radiance library routines you can access from C-code. 
> 
> Check out the viewloc() function in src/common/image.c and some of
> the 
> other routines there.
> 
> Good luck!
> -Greg
> 
> > From: jb0001@bristol.ac.uk
> > Date: Mon Apr 28, 2003  12:25:41  PM US/Pacific
> > To: radiance-general@radiance-online.org
> > Subject: [Radiance-general] Transform from 3D to 2D Coordinates
> > Reply-To: radiance-general@radiance-online.org
> >
> > Dear Radiance list,
> >
> > I am currently using radiance to render some pictures which I would
> 
> > like
> > to apply some post processing to. This will involve pasting an
> image
> > onto a specific location in the .pic file i have created.
> >
> > In order to do this i need to know the location of certain points.
> I
> > know where they are in my 3D scene, but cannot work out a 3D to 2D
> > coordinate transform. I know that with a traditional pinhole 
> > perspective
> > projection i can work out new 2D coordinates if i know the old
> > coordinates, the focal point and the focal length. But i cant find
> any
> > way of determining what the focal length used by rpict is!
> >
> > If anyone has, ideally, an equation for transforming 3D radiance
> > coordinates into 2D .pic coordinates based on an (x,y,z), view
> point 
> > and
> > view direction i would be incredibly grateful if you could let me
> know.
> > And if anyone could even help me determine the focal length i need
> that
> > would be a big help
> >
> > Thanks a lot for your time
> >
> > Jon Bright
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From radiance-general@radiance-online.org  Wed Apr 30 21:48:43 2003
From: radiance-general@radiance-online.org (John An)
Date: Wed, 30 Apr 2003 13:48:43 -0700
Subject: [Radiance-general] aiming illums, orthographic projection, and hiding surfaces
Message-ID: <2317552.1051735723293.JavaMail.whollycow@mac.com>

Hi all,

I had previously posted on this list requesting help installing Radiance on Mac OS X Jaguar.  Thanks for all who helped.  I know have it installed, and have started playing around with it.  I have walked through the online tutorial, and have ordered Rendering with Radiance, and am anxious to get it in my hands.  In the meantime (it is currently out of stock), I need to get an analysis completed for a project I am working on, and would appreciate some help.

However, the following problems have occured under Linux (I haven't had a chance to run this on the Mac).
First, when I use rview to preview my scene, everything seems to pop up normally (I get an image).  However, when I use the rpict command, I always get the message
"warning - aiming failure for light source [a]" where a stands for an illum object (the window in the scene).  As of now, I am only analyzing daylighting, so I have no other light sources in the scene.

Second, I'm sure this is covered in "Rendering with Radiance," but is there a way to get orthogonal and orthographic projected views in Radiance?  Moreover, is there a way to make a surface invisible, yet be considered in the lighting calculation?  I would like to look into an interior space in an axonometric view, but look through the ceiling and 1 or 2 walls to see the light distribution throughout a single space.

Thanks.


John An

From radiance-general@radiance-online.org  Wed Apr 30 23:08:52 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Wed, 30 Apr 2003 18:08:52 -0400
Subject: [Radiance-general] aiming illums, orthographic projection, and
 hiding surfaces
References: <2317552.1051735723293.JavaMail.whollycow@mac.com>
Message-ID: <3EB04974.3060802@rumblestrip.org>

John An wrote:
 > Hi all,
 >
 > I had previously posted on this list requesting help installing
 > Radiance on Mac OS X Jaguar.  Thanks for all who helped.  I know have
 > it installed, and have started playing around with it.  I have walked
 > through the online tutorial, and have ordered Rendering with
 > Radiance, and am anxious to get it in my hands.  In the meantime (it
 > is currently out of stock), I need to get an analysis completed for a
 > project I am working on, and would appreciate some help.

Sorry to say, but that book is not out of stock, it's out of print 
(well, OK it's out of stock too, but permanently).  The authors have 
obtained the copyright from Morgan Kaufman, and are looking for a new 
publisher, but so far no joy.  My co-worker tried ordering direct from 
MK and they told him the same "out of stock" thing, but no new copies 
are coming out of MK. A couple of enterprising souls were selling copies 
on Amazon.com for something like $300USD!  =8-(  Hopefully, Greg will 
find a new publisher or some other means of distrubition; it's such a 
valuable piece of the Radiance toolkit.

 > However, the following problems have occured under Linux (I haven't
 > had a chance to run this on the Mac). First, when I use rview to
 > preview my scene, everything seems to pop up normally (I get an
 > image).  However, when I use the rpict command, I always get the
 > message "warning - aiming failure for light source [a]" where a
 > stands for an illum object (the window in the scene).  As of now, I
 > am only analyzing daylighting, so I have no other light sources in
 > the scene.

That happens when you have an irregularly shaped polygon that is defined 
as an illum.  "L-shaped" polys and triangles are the kinds of shapes I'm 
talking about here.  Break it up into more rectillinear forms and you 
should see that problem go away.

 > Second, I'm sure this is covered in "Rendering with Radiance," but is
 > there a way to get orthogonal and orthographic projected views in
 > Radiance?  Moreover, is there a way to make a surface invisible, yet
 > be considered in the lighting calculation?  I would like to look into
 > an interior space in an axonometric view, but look through the
 > ceiling and 1 or 2 walls to see the light distribution throughout a
 > single space.

Check the manpage for rpict, it explains all the view parameters.  The 
way to see "through" a surface is to use clipping planes in your views. 
  This way, the calculation is correct, but at view time you slice 
through the building with the use of these clipping planes.  These are 
also explained in the rtrace manual page.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


