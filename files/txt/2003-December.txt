From radiance-general@radiance-online.org  Tue Dec  2 12:32:20 2003
From: radiance-general@radiance-online.org (R Gillibrand)
Date: Tue, 2 Dec 2003 12:32:20 -0000
Subject: [Radiance-general] Transparent Textures in Radiance
Message-ID: <001401c3b8d0$548470e0$e767de89@MASAMUNE>

This is a multi-part message in MIME format.

------=_NextPart_000_0015_01C3B8D0.548470E0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi All,

Is it possible to have transparent textures in the mesh primitive? I
have a student who wants to map a logo around a beer glass and I can't
find a way to do so but hope to be proved wrong!

Thanks

Rich

 

____________________________

Richard Gillibrand

Department of Computer Science,

University of Bristol,

Tel: 0117 9545256

____________________________

 

 


------=_NextPart_000_0015_01C3B8D0.548470E0
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html>

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">


<meta name=3DGenerator content=3D"Microsoft Word 10 (filtered)">

<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{font-family:Arial;
	color:windowtext;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-GB link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Hi All,</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Is it possible to have transparent textures in the =
mesh
primitive? I have a student who wants to map a logo around a beer glass =
and I
can&#8217;t find a way to do so but hope to be proved =
wrong!</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Thanks</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Rich</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>____________________________</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Richard Gillibrand</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Department of Computer Science,</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
  font-family:Arial'>University</span></font><font size=3D2 =
face=3DArial><span
 style=3D'font-size:10.0pt;font-family:Arial'> of </span></font><font =
size=3D2
  face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>Bristol</span></font><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>,</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Tel: 0117 9545256</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>____________________________</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

</div>

</body>

</html>

------=_NextPart_000_0015_01C3B8D0.548470E0--


From radiance-general@radiance-online.org  Tue Dec  2 13:05:43 2003
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Tue, 02 Dec 2003 14:05:43 +0100
Subject: [Radiance-general] Transparent Textures in Radiance
In-Reply-To: <001401c3b8d0$548470e0$e767de89@MASAMUNE>
References: <001401c3b8d0$548470e0$e767de89@MASAMUNE>
Message-ID: <3FCC8E27.5020507@pab-opto.de>

R Gillibrand wrote:

> Hi All,
>
> Is it possible to have transparent textures in the mesh primitive? I 
> have a student who wants to map a logo around a beer glass and I can’t 
> find a way to do so but hope to be proved wrong!
>
you may find

    void plastic mp1
    0
    0
    5 .01 0.01 0.01 0.35 0.1

    void glass mp2
    0
    0
    ...

    void mixpict mp
    15 mp1 mp2 digital1 sp.pic picture_UV.cal tpic_u tpic_v ...
    0
    0

useful. (or substitute trans for plastic to get translucent writing)

-Peter

-- 
 pab-opto, Freiburg, Germany, www.pab-opto.de




From radiance-general@radiance-online.org  Tue Dec  2 17:46:18 2003
From: radiance-general@radiance-online.org (Reinhart, Christoph)
Date: Tue, 2 Dec 2003 12:46:18 -0500
Subject: [Radiance-general] 5 minutes of your time: Survey on the use of daylight simulation
 tools
Message-ID: <10C94843061E094A98C02EB77CFC328702C3E6DA@nrcmrdex1d.imsb.nrc.ca>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3B8FC.30FD4580
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Please excuse the cross-postings...=20
=20
Dear colleague,<?xml:namespace prefix =3D o ns =3D
"urn:schemas-microsoft-com:office:office" />
=20
This is your opportunity to influence future developments of daylight
simulation tools.
=20
You are invited to participate in an online survey on the current use =
of
daylight simulation tools during building design. The survey is carried =
out
as part of a research project of the International Energy Agency's Task =
31,
Daylighting Buildings in the 21st Century.The survey is administered by =
the
National Research Council Canada and will be active until Tuesday, =
December
23rd 2003. The outcome of the survey will be used to:=20
=B7        identify existing weaknesses of daylighting design software
packages=20
=B7        better understand design practitioners' needs=20
=B7        tailor the output of tools accordingly.=20
=20
We would like you to fill out an online questionnaire about your =
daylighting
design experience. Please respond to all questions as openly and =
honestly as
possible. There are no right or wrong answers; it is only your opinion =
that
is important. All information that we obtain from you through this =
survey
will be kept confidential. Your participation in this research is =
voluntary.
Should you decide to participate in the survey, you still reserve the =
right
to end your participation at any time and for any reason, without =
prejudice.

=20
If you are interested in participating in this survey, please go to
<http://irc.nrc-cnrc.gc.ca/ie/light/survey.html>
http://irc.nrc-cnrc.gc.ca/ie/light/survey.html. Thank you in advance =
for
your participation.
Should you have any questions or suggestions, please contact Dr. =
Christoph
Reinhart at  <mailto:christoph.reinhart@nrc-cnrc.gc.ca>
christoph.reinhart@nrc-cnrc.gc.ca or +1(613)993 9703.
=20
Christoph Reinhart, Ph.D.                        tel: (613) 993-9703=20
Research Officer                                      fax: (613) =
954-3733=20
Institute for Research in Construction      e-mail:
christoph.reinhart@nrc-cnrc.gc.ca=20
National Research Council Canada        1200 Montreal Road M-24, Ottawa =

Ontario K1A 0R6 Canada=20

Daylighting Analysis Software:=20
The Lightswitch Wizard (initial design)   www.buildwiz.com
<http://www.buildwiz.com/lightswitch/index.cfm> =20
DAYSIM (expert software)                       www.daysim.com
<outbind://43/www.daysim.com>   <outbind://43/www.daysim.com>=20


IEA Task 31
http://www.iea-shc.org/task31/ <http://www.iea-shc.org/task31/> =20

=20

------_=_NextPart_001_01C3B8FC.30FD4580
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">


<META content=3D"MSHTML 5.50.4934.1600" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT face=3DArial size=3D2>
<DIV style=3D"TEXT-ALIGN: left" align=3Dleft><SPAN lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: EN-CA">Please excuse =
the=20
cross-postings...<SPAN class=3D363594317-02122003> </SPAN></SPAN></DIV>
<DIV style=3D"TEXT-ALIGN: left" align=3Dleft><SPAN lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: =
EN-CA"></SPAN>&nbsp;</DIV>
<DIV style=3D"TEXT-ALIGN: left" align=3Dleft><SPAN lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: EN-CA">Dear=20
colleague,<?xml:namespace prefix =3D o ns =3D=20
"urn:schemas-microsoft-com:office:office" /><o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN =
lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: =
EN-CA">&nbsp;<o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN=20
style=3D"FONT-FAMILY: Arial; mso-bidi-font-size: 10.0pt">This is your =
opportunity=20
to influence future developments of daylight simulation=20
tools.<o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN =
lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: =
EN-CA">&nbsp;<o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN =
lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: EN-CA">You are invited =
to=20
participate in an <STRONG>online survey</STRONG> on the current use of =
daylight=20
simulation tools during building design. The survey is carried out as =
part of=20
a<SPAN class=3D829274617-01122003> </SPAN>research project of</SPAN> =
the=20
International Energy Agency's Task 31, <EM>Daylighting Buildings in the =

21<SUP>st</SUP> Century<SPAN =
class=3D829274617-01122003>.</SPAN></EM>The survey is=20
administered by the <SPAN lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: EN-CA">National =
Research Council=20
Canada<SPAN class=3D877485820-20112003> and will be active <SPAN=20
class=3D829274617-01122003>until</SPAN>&nbsp;Tuesday, December 23<SPAN=20
class=3D829274617-01122003>rd</SPAN> 2003</SPAN>. </SPAN>The outcome of =
the survey=20
will be used to<SPAN class=3D829274617-01122003>:</SPAN> </DIV>
<DIV class=3DMsoBodyText3=20
style=3D"MARGIN-LEFT: 0.5in; TEXT-INDENT: -0.25in; LINE-HEIGHT: normal; =
tab-stops: list .5in; mso-list: l1 level1 lfo84"><FONT=20
size=3D2><FONT face=3DArial><SPAN style=3D"FONT-FAMILY: =
Symbol">=B7<SPAN=20
style=3D"FONT: 7pt 'Times New =
Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
</SPAN></SPAN>identify existing weaknesses of daylighting design =
software=20
packages </FONT></FONT></DIV>
<DIV class=3DMsoBodyText3=20
style=3D"MARGIN-LEFT: 0.5in; TEXT-INDENT: -0.25in; LINE-HEIGHT: normal; =
tab-stops: list .5in; mso-list: l1 level1 lfo84"><FONT=20
size=3D2><FONT face=3DArial><SPAN style=3D"FONT-FAMILY: =
Symbol">=B7<SPAN=20
style=3D"FONT: 7pt 'Times New =
Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
</SPAN></SPAN>better understand design practitioners' needs <SPAN=20
style=3D"FONT-FAMILY: Arial"><o:p></o:p></SPAN></FONT></FONT></DIV>
<DIV class=3DMsoBodyText3=20
style=3D"MARGIN-LEFT: 0.5in; TEXT-INDENT: -0.25in; LINE-HEIGHT: normal; =
tab-stops: list .5in; mso-list: l1 level1 lfo84"><FONT=20
size=3D2><FONT face=3DArial><SPAN style=3D"FONT-FAMILY: =
Symbol">=B7<SPAN=20
style=3D"FONT: 7pt 'Times New =
Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
</SPAN></SPAN><SPAN style=3D"FONT-FAMILY: Arial">tailor the output of =
tools=20
accordingly. <o:p></o:p></SPAN></FONT></FONT></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN=20
style=3D"FONT-FAMILY: Arial">&nbsp;<o:p></o:p></SPAN></DIV>
<DIV class=3DMsoNormal style=3D"TEXT-ALIGN: justify"><SPAN=20
style=3D"FONT-FAMILY: Arial">We would like you to fill out an online =
questionnaire=20
about your daylighting design experience. Please respond to all =
questions as=20
openly and honestly as possible. There are no right or wrong answers; =
it is only=20
your opinion that&nbsp;<SPAN class=3D829274617-01122003>is</SPAN>=20
important.&nbsp;</SPAN><SPAN style=3D"FONT-FAMILY: =
Arial">All&nbsp;information=20
that we obtain from you through this survey will be kept confidential. =
Your=20
participation in this research is voluntary. Should you decide to =
participate in=20
the survey, you still reserve the right to end your participation at =
any time=20
and for any reason, without prejudice. <o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN=20
style=3D"FONT-FAMILY: Arial">&nbsp;<o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal">If you are =
interested in=20
participating in this survey, please go to <A=20
href=3D"http://irc.nrc-cnrc.gc.ca/ie/light/survey.html"><SPAN=20
style=3D"FONT-FAMILY: Arial"><STRONG><FONT=20
color=3D#0000ff>http://irc.nrc-cnrc.gc.ca/ie/light/<SPAN=20
class=3D877485820-20112003>survey</SPAN>.html</FONT></STRONG></SPAN></A>=
. Thank=20
you in advance for your participation.</DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN=20
style=3D"FONT-SIZE: 12pt; FONT-FAMILY: 'Times New Roman'; =
mso-ansi-language: EN-US; mso-fareast-font-family: 'Times New Roman'; =
mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><FONT=20
face=3DArial size=3D2>Should you have any questions or suggestions, =
please contact=20
Dr. Christoph Reinhart at </FONT><A=20
href=3D"mailto:christoph.reinhart@nrc-cnrc.gc.ca"><SPAN=20
style=3D"FONT-SIZE: 11pt; FONT-FAMILY: Arial; mso-bidi-font-size: =
12.0pt; mso-bidi-font-family: 'Times New Roman'"><FONT=20
color=3D#000000 =
size=3D2>christoph.reinhart@nrc-cnrc.gc.ca</FONT></SPAN></A><FONT=20
face=3DArial size=3D2> or +1(613)993 9703<SPAN=20
class=3D877485820-20112003>.</SPAN></FONT></SPAN></DIV></FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV><FONT =
face=3DArial><FONT=20
size=3D-2>Christoph Reinhart,=20
Ph.D.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =

tel: (613) 993-9703</FONT></FONT> <BR><FONT face=3DArial><FONT =
size=3D-2>Research=20
Officer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;=20
fax: (613) 954-3733</FONT></FONT> <BR><FONT face=3DArial><FONT =
size=3D-2>Institute=20
for Research in Construction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e-mail:=20
christoph.reinhart@nrc-cnrc.gc.ca</FONT></FONT> <BR><FONT =
face=3DArial><FONT=20
size=3D-2>National Research Council=20
Canada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1200 Montreal Road =
M-24,=20
Ottawa</FONT></FONT> <BR><FONT face=3DArial><FONT size=3D-2>Ontario K1A =
0R6=20
Canada</FONT></FONT>=20
<P><U><FONT face=3DArial><FONT size=3D-2>Daylighting Analysis=20
Software:</FONT></FONT></U> <BR><FONT face=3DArial><FONT size=3D-2>The =
Lightswitch=20
Wizard (initial design)&nbsp;&nbsp; <U><FONT color=3D#000000><A=20
href=3D"http://www.buildwiz.com/lightswitch/index.cfm">www.buildwiz.com<=
/A></FONT></U></FONT></FONT>=20
<BR><FONT face=3DArial><FONT size=3D-2>DAYSIM (expert=20
software)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
<U><FONT color=3D#000000><A=20
href=3D"outbind://43/www.daysim.com">www.daysim.com</A></FONT></U></FONT=
></FONT><U><FONT=20
face=3DArial><FONT color=3D#000000><FONT size=3D-2><A=20
href=3D"outbind://43/www.daysim.com"></A></FONT></FONT></FONT></U>=20
<P><FONT face=3DArial><FONT color=3D#000000><FONT size=3D-2>IEA Task=20
31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
<A=20
href=3D"http://www.iea-shc.org/task31/">http://www.iea-shc.org/task31/</=
A></FONT></FONT></FONT>=20
</P>
<DIV>&nbsp;</DIV></BODY></HTML>

------_=_NextPart_001_01C3B8FC.30FD4580--

From radiance-general@radiance-online.org  Wed Dec  3 01:39:20 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Tue, 2 Dec 2003 19:39:20 -0600
Subject: [Radiance-general] mkillum q's
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69228@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3B93E.45E7B5B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I'm trying to use mkillum to render my house.. and I'm having trouble
understanding it.=20
I have broken the elements into various Rad files=20
Nov15.rad - the sky description=20
house_mat_lit.rad=A0 - materials and lights used in the house=20
House6nw.rad - house geometry without window geometry=20
furniture.rad=A0 - the (duh) furniture=20
windows.rad - the window geometry=20

RwR chapter 1 suggests using a .rif with an "illum=3D" line=20
scene=3D nov15.rad=20
scene=3D house_mat_lit.rad=20
scene=3D house6nw.rad=20
scene=3D windows.rad=A0=A0 -- should this be here? or only as illum?=20
scene=3D furniture.rad=20
illum=3D windows.rad=20

# Options for mkillum=20
mkillum=3D -av 8 8 8 -ab 0=20

This is taking a long time to generate the .dat illum files - in fact I =
give
up after a while=20
I 'm thinking all I really need is the sky and the windows?=20
scene=3D nov15.rad=20
illum=3D windows.rad=20

This produces:
robfitzs%  rad window.rif
                  oconv nov15.rad > window.oct
                  oconv -i window.oct windows.rad > window0.oct
                  mkillum window0.oct "<" windows.rad > il000924
                  oconv -f -i window.oct il000924 > window1.oct
                  rm -f il000924

this goes much faster, (creating 10 illum.dat files) but now how do I =
use
the illum data and render with all the rest of the house and furniture
without overwriting the previous simpler octree?

Could I add this to my rif?
octree=3D window1.oct

I also tried using mkillum manually ( for this, I combined the sky and
windows in 1 rad file) But I got an error=20
mkillum -ab 1 -ad 512 -as 256 -ar 16 < windowsSky.rad > winlit.rad=20
rtrace: fatal - command line error at '-ar'=20
mkillum: system - error reading from rtrace process=20

Does this make sense?=20

Rob Fitz=20
=A0=20

------_=_NextPart_001_01C3B93E.45E7B5B0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>mkillum q's</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I'm trying to use mkillum to render my house.. and =
I'm having trouble understanding it. </FONT>
<BR><FONT SIZE=3D2>I have broken the elements into various Rad files =
</FONT>
<BR><FONT SIZE=3D2>Nov15.rad - the sky description </FONT>
<BR><FONT SIZE=3D2>house_mat_lit.rad=A0 - materials and lights used in =
the house </FONT>
<BR><FONT SIZE=3D2>House6nw.rad - house geometry without window =
geometry </FONT>
<BR><FONT SIZE=3D2>furniture.rad=A0 - the (duh) furniture </FONT>
<BR><FONT SIZE=3D2>windows.rad - the window geometry </FONT>
</P>

<P><FONT SIZE=3D2>RwR chapter 1 suggests using a .rif with an =
&quot;illum=3D&quot; line </FONT>
<BR><FONT SIZE=3D2>scene=3D nov15.rad </FONT>
<BR><FONT SIZE=3D2>scene=3D house_mat_lit.rad </FONT>
<BR><FONT SIZE=3D2>scene=3D house6nw.rad </FONT>
<BR><FONT SIZE=3D2>scene=3D windows.rad=A0=A0 -- should this be here? =
or only as illum? </FONT>
<BR><FONT SIZE=3D2>scene=3D furniture.rad </FONT>
<BR><FONT SIZE=3D2>illum=3D windows.rad </FONT>
</P>

<P><FONT SIZE=3D2># Options for mkillum </FONT>
<BR><FONT SIZE=3D2>mkillum=3D -av 8 8 8 -ab 0 </FONT>
</P>

<P><FONT SIZE=3D2>This is taking a long time to generate the .dat illum =
files - in fact I give up after a while </FONT>
<BR><FONT SIZE=3D2>I 'm thinking all I really need is the sky and the =
windows? </FONT>
<BR><FONT SIZE=3D2>scene=3D nov15.rad </FONT>
<BR><FONT SIZE=3D2>illum=3D windows.rad </FONT>
</P>

<P><FONT SIZE=3D2>This produces:</FONT>
<BR><FONT SIZE=3D2>robfitzs%&nbsp; rad window.rif</FONT>
<BR><FONT =
SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oconv nov15.rad &gt; =
window.oct</FONT>
<BR><FONT =
SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oconv -i window.oct windows.rad =
&gt; window0.oct</FONT>
<BR><FONT =
SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mkillum window0.oct =
&quot;&lt;&quot; windows.rad &gt; il000924</FONT>
<BR><FONT =
SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oconv -f -i window.oct il000924 =
&gt; window1.oct</FONT>
<BR><FONT =
SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rm -f il000924</FONT>
</P>

<P><FONT SIZE=3D2>this goes much faster, (creating 10 illum.dat files) =
but now how do I use the illum data and render with all the rest of the =
house and furniture without overwriting the previous simpler =
octree?</FONT></P>

<P><FONT SIZE=3D2>Could I add this to my rif?</FONT>
<BR><FONT SIZE=3D2>octree=3D window1.oct</FONT>
</P>

<P><FONT SIZE=3D2>I also tried using mkillum manually ( for this, I =
combined the sky and windows in 1 rad file) But I got an error </FONT>
<BR><FONT SIZE=3D2>mkillum -ab 1 -ad 512 -as 256 -ar 16 &lt; =
windowsSky.rad &gt; winlit.rad </FONT>
<BR><FONT SIZE=3D2>rtrace: fatal - command line error at '-ar' </FONT>
<BR><FONT SIZE=3D2>mkillum: system - error reading from rtrace process =
</FONT>
</P>

<P><FONT SIZE=3D2>Does this make sense? </FONT>
</P>

<P><FONT SIZE=3D2>Rob Fitz </FONT>
<BR><FONT SIZE=3D2>=A0</FONT>=20
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3B93E.45E7B5B0--

From radiance-general@radiance-online.org  Wed Dec  3 02:12:59 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Tue, 2 Dec 2003 21:12:59 -0500 (EST)
Subject: [Radiance-general] mkillum q's
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D69228@corvallis.summit.fiserv.com>
Message-ID: <Pine.BSF.4.44.0312022111120.70377-100000@emancholl.pair.com>

Fitzsimmons, Rob wrote:

> scene= windows.rad   -- should this be here? or only as illum?

No, the illum line is enough.
This results in a duplication of your window polygons in the
octree, which might result in all kinds of weird effects,
possibly including overly long simulation times.


> illum= windows.rad
>
> # Options for mkillum
> mkillum= -av 8 8 8 -ab 0
>
> This is taking a long time to generate the .dat illum files -
> in fact I give up after a while

With -ab 0, all the other traditional mistakes (having the
polygons oriented the wrong way etc.) won't make much of a
difference, so the duplication is your best bet for the moment.


> I 'm thinking all I really need is the sky and the windows?

If you have any geometry obstructing the sky when viewed from any
of your windows (roof overhangs, trees, neighbouring buildings),
then this will result in an overestimation. As is obvious from
the setup, you're basically determining the light your windows
would receive if they were floating up in the air somewhere.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Wed Dec  3 03:12:20 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Tue, 2 Dec 2003 22:12:20 -0500
Subject: [Radiance-general] mkillum q's
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D69228@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D69228@corvallis.summit.fiserv.com>
Message-ID: <822FC019-253E-11D8-B183-000393824274@rumblestrip.org>

On Dec 2, 2003, at 8:39 PM, Fitzsimmons, Rob wrote:

> I'm trying to use mkillum to render my house.. and I'm having trouble 
> understanding it.

Hi Rob F,

As Georg mentioned, you only need to reference your windows once, in 
the illum= line.  Also, your "illum=" options are a little off, as 
Georg also mentioned.  Greg Ward explained this to me rather well, in 
an email that is either on my office computer or on my PC upstairs, 
because it ain't on the laptop sitting on my lap at the moment (I 
really need to start using IMAP).

Anyway, you basically have to tell mkillum what's going on with your 
model in the illum= line, because all your input with QUALITY=, 
VARIABILITY= and DETAIL= in the .rif file mean absolutely nothing to 
the mkillum process.  This is something that is not well documented, 
IMHO.

Make sure your illum= line includes sufficent -ab, and -ad, and -ar, 
and -as to ensure that the mkillum process is aggressively calculated.  
As Georg said, if you wimp out with the ambient calculation on your 
windows, the effect of the exterior environment will be largely ignored 
in terms of the distribution of the windows' luminance. Bottom line: 
just because you're using rad, that does not exempt you from having to 
be intimate with the various rpict switches for a proper rendering if 
you're using mkillum. (and please don't read this as some guru talking 
down to you; I'm still learning this stuff myself.)

I hope this helps.

Rob Gee.

-:-:-:-:-:-:-:-:-:-:-:-:-:-:-:-:-
   Rob Guglielmetti
rpg@rumblestrip.org
www.rumblestrip.org


From radiance-general@radiance-online.org  Wed Dec  3 17:06:11 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Wed, 03 Dec 2003 12:06:11 -0500
Subject: [Radiance-general] Re-re mkillum q's
Message-ID: <3FCE1803.4000109@rumblestrip.org>

Hi Rob F,

I was cleaning out my inbox here, and read my own post to the list about 
your question.  I should do that more often; I found an error.

Last night I said:
"Make sure your illum= line includes sufficent -ab, and -ad, and -ar,
and -as to ensure that the mkillum process is aggressively calculated."

What I should have said was:
"Make sure your .rif file has -- *in addition to the illum= line* -- a 
mkillum= line, which includes sufficent -ab, and -ad, and -ar,
and -as to ensure that the mkillum process is aggressively calculated."

So, you tell rad which polygons you want to convert to light sources 
with the illum= line, then tell rad to use specific settings 
(independent of the rif file's Q V D settings) for the mkillum process 
with a mkillum= line like so:

scene= window_mullions.rad (etc...)
illum= window_glass.rad
mkillum= -ab 2 -ad 512 -as 256 -aa .1

Sorry for any confusion there...

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Wed Dec  3 19:07:08 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Wed, 3 Dec 2003 13:07:08 -0600
Subject: [Radiance-general] mkillum q's
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF051DE820@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3B9D0.A5B4C6D0
Content-Type: text/plain;
	charset="iso-8859-1"

Thanks guys for your help

Rob - I did put the rtrace options in a mkillum= line, not the illum=
still rendering - we'll see how it turns out

A couple of other things I don't understand

If I use both the scene=sky.rad and  illum=windows.rad
Are they both lighting the scene?
I assume not.. watching the process:

oconv nov15.rad house_mat_lit.rad house6nw.rad chandel_mat.rad furniture.rad
> window.oct
        oconv -i window.oct windows.rad > window0.oct
        mkillum window0.oct "<" windows.rad > il000949
        oconv -f -i window.oct il000949 > window1.oct
        rm -f il000949
        rm -f win.amb

It seems
window.oct is the full scene
window0.oct  is  windows.rad
window1.oct is the full scene with the windows.rad turned into illums?

after mkillum creates the illum1.dat, illum2.dat etc.
How do I then reference that info?
I assume when using rad, it is somewhat automated.
but If I were to manually use mkillum, does it alter the windows.rad file to
use the illum.dat files?

(and please don't read this as some guru talking 
down to you; I'm still learning this stuff myself.)
not at all! I appreciate the help on this list

Rob Eff



------_=_NextPart_001_01C3B9D0.A5B4C6D0
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="MS Exchange Server version 5.5.2653.12">
<TITLE>RE: [Radiance-general] mkillum q's</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=2>Thanks guys for your help</FONT>
</P>

<P><FONT SIZE=2>Rob - I did put the rtrace options in a mkillum= line, not the illum=</FONT>
<BR><FONT SIZE=2>still rendering - we'll see how it turns out</FONT>
</P>

<P><FONT SIZE=2>A couple of other things I don't understand</FONT>
</P>

<P><FONT SIZE=2>If I use both the scene=sky.rad and&nbsp; illum=windows.rad</FONT>
<BR><FONT SIZE=2>Are they both lighting the scene?</FONT>
<BR><FONT SIZE=2>I assume not.. watching the process:</FONT>
</P>

<P><FONT SIZE=2>oconv nov15.rad house_mat_lit.rad house6nw.rad chandel_mat.rad furniture.rad &gt; window.oct</FONT>
<BR><FONT SIZE=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oconv -i window.oct windows.rad &gt; window0.oct</FONT>
<BR><FONT SIZE=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mkillum window0.oct &quot;&lt;&quot; windows.rad &gt; il000949</FONT>
<BR><FONT SIZE=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oconv -f -i window.oct il000949 &gt; window1.oct</FONT>
<BR><FONT SIZE=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rm -f il000949</FONT>
<BR><FONT SIZE=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rm -f win.amb</FONT>
</P>

<P><FONT SIZE=2>It seems</FONT>
<BR><FONT SIZE=2>window.oct is the full scene</FONT>
<BR><FONT SIZE=2>window0.oct&nbsp; is&nbsp; windows.rad</FONT>
<BR><FONT SIZE=2>window1.oct is the full scene with the windows.rad turned into illums?</FONT>
</P>

<P><FONT SIZE=2>after mkillum creates the illum1.dat, illum2.dat etc.</FONT>
<BR><FONT SIZE=2>How do I then reference that info?</FONT>
<BR><FONT SIZE=2>I assume when using rad, it is somewhat automated.</FONT>
<BR><FONT SIZE=2>but If I were to manually use mkillum, does it alter the windows.rad file to use the illum.dat files?</FONT>
</P>

<P><FONT SIZE=2>(and please don't read this as some guru talking </FONT>
<BR><FONT SIZE=2>down to you; I'm still learning this stuff myself.)</FONT>
<BR><FONT SIZE=2>not at all! I appreciate the help on this list</FONT>
</P>

<P><FONT SIZE=2>Rob Eff</FONT>
</P>
<BR>

</BODY>
</HTML>
------_=_NextPart_001_01C3B9D0.A5B4C6D0--

From radiance-general@radiance-online.org  Wed Dec  3 19:37:33 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Wed, 3 Dec 2003 14:37:33 -0500 (EST)
Subject: [Radiance-general] mkillum q's
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF051DE820@corvallis.summit.fiserv.com>
Message-ID: <Pine.BSF.4.44.0312031416570.8397-100000@emancholl.pair.com>

Fitzsimmons, Rob wrote:

> Thanks guys for your help
>
> Rob - I did put the rtrace options in a mkillum= line, not the illum=
> still rendering - we'll see how it turns out
>
> A couple of other things I don't understand
>
> If I use both the scene=sky.rad and  illum=windows.rad
> Are they both lighting the scene?
> I assume not.. watching the process:
>
>  oconv nov15.rad house_mat_lit.rad house6nw.rad chandel_mat.rad furniture.rad
>   > window.oct
>  oconv -i window.oct windows.rad > window0.oct
>  mkillum window0.oct "<" windows.rad > il000949
>  oconv -f -i window.oct il000949 > window1.oct
>  rm -f il000949
>  rm -f win.amb
>
> It seems
> window.oct is the full scene
> window0.oct  is  windows.rad

That's window.oct with windows.rad added to it (the -i option).


> window1.oct is the full scene with the windows.rad turned into illums?

Yes (same principle).


> after mkillum creates the illum1.dat, illum2.dat etc.
> How do I then reference that info?

You shouldn't need to, rad does that.
I'm not sure if you can convince rad *not* to delete "il000949"
again after creating the final octree, because that's where you'd
find how it's done...  It should be a brightfunc referencing
illum.cal, but I don't have an example sitting around either.


> I assume when using rad, it is somewhat automated.
> but If I were to manually use mkillum, does it alter the windows.rad file to
> use the illum.dat files?

The "il000949" (or whatever name it will get on the next run)
is the altered version of windows.rad.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/



From radiance-general@radiance-online.org  Thu Dec  4 05:36:46 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 3 Dec 2003 21:36:46 -0800
Subject: [Radiance-general] Re: Average luminance or illuminance for a irregular shaped space
In-Reply-To: <007b01c3b50b$9edfca40$6400a8c0@Karenswindows>
References: <3FC5074C.2020201@visarc.com> <007b01c3b50b$9edfca40$6400a8c0@Karenswindows>
Message-ID: <D9F23788-261B-11D8-9814-00306540F848@lmi.net>

Hi Karen,

No one ever responded to your query, so I thought I'd offer some 
general ideas, since I've never done this myself.

One thing you could try is creating a mask in Photoshop by drawing into 
a separate alpha layer over the area you want to average and saving the 
layer out as a grayscale TIFF.  (Start in Photoshop from the 
full-resolution original converted to TIFF using ra_tiff.)  Reverse 
this through ra_tiff to get a Radiance picture you can then feed to 
pcomb, like so:

% ra_tiff -r mask.tif mask.pic
% pcomb -e 'lo=li(1)*li(2)' -o orig.pic mask.pic | pvalue -d -b -h -H | 
total

Take this result, which will be a single number, and divide it by the 
sum over the mask:

% pvalue -d -b -h -H mask.pic | total

This is your area average.  I'm assuming that you have made the mask 
white where you want it to average, and black everywhere else.

I hope this makes sense.
-Greg

> From: "Karen Carrier" <karencarrier@cox.net>
> Date: November 27, 2003 9:26:40 AM PST
>
> Hi All,
>
> I recently used ximage for the first time to get average illuminance 
> values
> for a space by dragging a rectangle across the area of interest. This 
> worked
> well for a rectangular room. Does anybody know if there is a way to do 
> this
> for slanted or even completely irregular spaces with curves etc...
>
> Thanks,
> Karen
> _________________________
> Karen Carrier
> M. ARCH student
> UC Berkeley
> karencarrier@cox.net


From radiance-general@radiance-online.org  Sat Dec  6 18:08:46 2003
From: radiance-general@radiance-online.org (=?ISO-8859-1?Q?St=E9phane_Nicloux?=)
Date: Sat, 06 Dec 2003 19:08:46 +0100
Subject: [Radiance-general] Installation problems new newbie
Message-ID: <3FD21B2E.3020505@tele2.fr>

Hello,

I'm now experiencing my first step in Radiance : Installation under 
Windows ...
I just know a few things about MS DOS, DJGPP... so if anyone can tell me 
how to do,
I would enjoy !
Please, I know someone can.

Stephane from France.


From radiance-general@radiance-online.org  Sat Dec  6 18:36:22 2003
From: radiance-general@radiance-online.org (=?ISO-8859-1?Q?St=E9phane_Nicloux?=)
Date: Sat, 06 Dec 2003 19:36:22 +0100
Subject: [Radiance-general] Installation problems new newbie
Message-ID: <3FD221A6.1040509@tele2.fr>

Hello,

I'm now experiencing my first step in Radiance : Installation under 
Windows ...
I just know a few things about MS DOS, DJGPP... so if anyone can tell me 
how to do,
I would enjoy !
Please, I know someone can.

Stephane from France. stephane.nicloux@tele2.fr


From radiance-general@radiance-online.org  Sun Dec  7 10:14:27 2003
From: radiance-general@radiance-online.org (Francesco Anselmo)
Date: Sun, 7 Dec 2003 11:14:27 +0100
Subject: [Radiance-general] Installation problems new newbie
In-Reply-To: <3FD221A6.1040509@tele2.fr>
References: <3FD221A6.1040509@tele2.fr>
Message-ID: <200312071114.27250.pisuke@libero.it>

Hi Stéphane!

> I'm now experiencing my first step in Radiance : Installation under
> Windows ...

This link 

http://www.dream.unipa.it/dream/pub/dot/anselmo/radiance/03.php

can be a good starting point if you want to use Radiance under
window$ using Cygwin.
The Radiance binaries for Cygwin are available for download.

You can also use Desktop Radiance

http://radsite.lbl.gov/

Hope this helps!

-- 
Francesco Anselmo
pisuke@libero.it
anselmo@dream.unipa.it


From radiance-general@radiance-online.org  Sun Dec  7 20:58:26 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Sun, 7 Dec 2003 15:58:26 -0500 (EST)
Subject: [Radiance-general] Testing Framework Available
Message-ID: <Pine.BSF.4.44.0312071546540.9264-100000@emancholl.pair.com>

Hi all,

I just checked a first prototype of the promised testing framework
into CVS, so it should be included in the HEAD dump tomorrow
(monday) morning. For those who don't want to dig it out on their
own, below are the contents of the README file.
Contributed test cases are very much welcome!


-schorsch



Radiance Testing Framework
--------------------------

A toolkit to test all (eventually) components of the Radiance
synthetic image generation system for conformance to their
specification.


Limitations

For the moment, we use PyUnit to run our tests. This means that
we're restricted to test only complete programs, and not actual
units (since PyUnit was designed to test Python units, not C).
A C-level testing framework may be added later.

There's no good way to automatically test GUI programs like
rview. We have to rely on good human testers to check whether
those work correctly or not.


Requirements

You need a working installation of Python 2.1 (or newer) on your
system. The reason for this is that the PyUnit framework isn't
included with earlier versions. If you prefer to use an older
Python (back to 1.5.2), you can get PyUnit here, and install it
somewhere on your PYTHONPATH:
  http://pyunit.sourceforge.net/

Our testing framework currently assumes that the Radiance files
reside in the following local file tree (seen from the "test/"
subdirectory where this file resides):

  executables:    ../bin/*[.exe]
  support files:  ../lib/*
  data files:     ./test data/*

This is the location where the experimental SCons build system
will place everything, so it might be easiest to compile Radiance
using SCons for testing.
The space character in the name of the test data directory is
deliberate, because it is a design requirement that all our
executables can handle path names with spaces.


How to run tests

On unix systems, just type "run_all.py" in this directory to
test everything. If that file doesn't have execute rights, you
can supply it to the python interpreter as its single argument:
"python run_all.py". You can also run individual test suites from
the "py_tests" directory directly: "python test_getinfo.py".

On Windows, this should usually work as well. As an alternative,
use the "winrun.bat" script. WARNING: You need to change the
paths in this script to match your Python installation first.


What gets tested

There are several test groups, each containing a number of test
suites, each containing one or more tests. When running tests,
the name of the test groups and test suites will get printed to
the console, the latter with an "ok" if they succeeded.

If any test fails, there will be diagnostic output about the
nature of the failure, but the remaining tests will continue to
be executed. Note that several utility programs may be used to
access the results of other calculations, so if eg. getinfo is
broken, that may cause a number of seemingly unrelated tests to
fail as well.


How to report failures

If any of the tests fail on your platform, please report your
results (and as much ancilliary information about your system and
Radiance version as possible) to the radiance code development
mailing list on http://www.radiance-online.org/
The developers will then either try to fix the bug, or instruct
you on how to refine your testing to get more information about
what went wrong.


How to contribute test cases

The list of tests run is still very much incomplete, but will
hopefully grow quickly. You can contribute by creating tests too!
Please ask on the code development mailing list first, so that we
can avoid overlaps between the work of different contributors.

There are two classes of tests to be considered:

- Testing individual executables
  This means that an individual program like ev, xfom, or getinfo
  is tested with typical input data, and the output is compared
  against the expected result.

- Testing specific calculations
  This will mainly affect the actual simulation programs rpict
  and rtrace. For example, there should be a test suite for every
  material (and modifier) type, which uses rtrace to shoot a
  series of rays against a surface under varying angles, in order
  to verify material behaviour under different parameters. Tests
  of this kind may require a custom script.

Contributed tests can be of two kinds. In the simplest case, you
can contribute a small(!) set of test data, the command line(s)
used to run your tests on them, and a list of expected results.
Result comparisons are typically done in text form (by line).
If the result is a picture, we'll use ttyimage to pick out a few
scan lines for comparison (the image dimensions must be less than
128 pixels). Other binary data needs to be converted into a
suitable text representation as well. If you're not sure what to
use, the developers can help you about that point. They will then
also wrap your test case into a Python module for integration
with the framework.

Contributors sufficiently familiar with the Python programming
language and the PyUnit test framework can also submit complete
test suites in Python. Please use the existing tests in the
"py_tests" directory as a template, and check out the helper
modules in "py_tests/unit_tools".

In any case, please note that we can't use any shell scripts or
similar tools in our tests. All tests should be able to run on
all supported platforms, where your favourite shell may not be
available. The Python programming language is available for
pretty much any platform, so we decided to use only that.




-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Mon Dec  8 12:08:32 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Mon, 8 Dec 2003 04:08:32 -0800
Subject: [Radiance-general] Renaming "rview"
Message-ID: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>

--Apple-Mail-18-236316046
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

I only had a few responses to my request to run "radcollisions.csh" on 
different machines.  If you missed this message and are still willing 
to help, I have attached the script (slightly modified) to look for 
command name conflicts between Radiance on your machine.  This will 
help me determine what command need renaming for the next release.

It seems certain that we need to rename "rview," and from the responses 
I received, also "gencat," "lam," "neat," and "calc."  Here are my 
suggestions for these others, along with my reasoning:

	"gencat" -> "gencatenary"

This is a little-used, optional generator for catenaries.  I see 
nothing against making the name longer and more explicit.  I don't 
think anyone expected it to generate a feline, but I imagine quite a 
few users wondered what the heck it did generate, as there's no man 
page for it.  (Saba Roufchaie wrote this little gem, and I find it 
invaluable for making certain objects, like hanging chains and ropes.)

	"lam" -> "rlam"

The other Unix program called "lam" fulfills the same function with a 
different syntax, and isn't found on all systems, so we can't rely on 
it as a replacement.  I refer to it in a bunch of my C-shell scripts, 
which of course will be updated with the new release to contain the new 
name.  (FYI, the "rlam" is meant to stand for "record laminator," not 
"Radiance laminator," since it isn't a function specific to the needs 
of Radiance in any way.)

	"calc" -> "icalc"

Calc is a very useful, interactive version of rcalc, and I don't want 
to lose it or make it's name harder to remember or much longer to type. 
  If anyone has a better idea, I'm all ears.

	"neat" -> "neaten"

I also thought to rename it to "tidy," but that seemed a too big change 
for an obscure little utility.  If you've never checked this one out, 
you might give it a look.  I thought it was a cute little program, 
which is how I named it.

This brings us to the biggie, renaming "rview."  This is a tough one, 
because it's a frequently used command, and one of the first commands 
issued by new users as well.  Besides "rad" and "objview," I probably 
type "rview" more than any other Radiance command.  Making it longer 
would be annoying, but not terrible because by the time you've typed in 
a few arguments, the finger-investment in the command name itself drops 
to insignificance.  At the same time, the tendency towards long 
commands makes it that much worse to alter its name, because it means 
that you'll have to start all over again when you end up opening "vim" 
by mistake in the next Radiance release.

I'm thinking we'll want to include a symbolic link from the new name 
back to "rview," for two reasons.  First, old users like me are going 
to have trouble with whatever we name it to because "rview" has become 
so familiar to my fingers that they type it automatically.  Second, 
"Rendering with Radiance" and all the other documentation that's 
floating about has only "rview" in it and will probably never be 
updated with the new command name unless Radiance somehow outlasts us 
all...  I'm not particularly concerned about hiding people's use of 
vim's "rview" link, since they can also type "rvim," "rgvim," or 
"rgview" to get exactly the same behavior, and it's not a behavior most 
users would want, anyway.  (For the lucky users who don't have vim on 
their system, I can tell you that "rvim" is a restricted version 
prohibiting shell escapes for calling scripts and programs that provide 
an editor for untrustworthy users.  As such, it's probably always 
executed by its explicit path as a security measure, so there would 
never have been a conflict if it had been put somewhere else, like 
/usr/etc -- or /dev/null!)  Vim is such a command-name hog -- here are 
the other names linked to it:

        vi
        ex
        view
        gvim gview

The first three are historical and therefore expected.  Why they had to 
add six other links is beyond me, especially when only two of them have 
any different functionality.  Grrrr....

OK, finally to the subject of this message, which is coming up with a 
new name for an old friend.  Below are listed some numbered 
alternatives.  I want you to write back with your favorite (pick just 
one, please) and explain your reasoning.  Consider it a chance to 
contribute to the next release even if you've never written a line of C 
code.  Here are the candidates.

1.	"rvu"

Possibly my favorite, because it's short and unique, and if you say the 
letters, you get back the original.

2.	"radview"

I'm less fond of this one, mostly because it's longer, but also because 
it makes it sound like it's a subcommand of "rad," which it's not.

3.	"rviewer"

This is better, because it stays close to the original meaning of the 
command, which is "ray viewer," and also has the two extra letters 
added at the end rather than the beginning, so you can remember the new 
command name at the last minute, right as your fingers are leaving the 
word and saying, "Hey -- you forgot something!"

4.	"radiance_viewer_86FQ19GZ15"

Guaranteed never to have (Alias to "r" in your ~/.cshrc file.)

5.	"your_name_here"

Your own suggestion if you don't like any of the others.  (Not really 
your personal moniker -- we aren't naming the command after you, 
sorry.)

Well, those are my ideas.  They're all included in the new 
"radcollisions.csh" attached to this message.  If you haven't run it on 
your system yet, please do so and send me the output.  It would be a 
real shame to rename a command to conflict with yet another Unix 
program, so even if you ran the last one, please indulge me again.  (Do 
it quickly, before "vim" takes over the world!)

And thanks!
-Greg


--Apple-Mail-18-236316046
Content-Transfer-Encoding: 7bit
Content-Type: application/octet-stream;
	x-unix-mode=0755;
	name="radcollisions.csh"
Content-Disposition: attachment;
	filename=radcollisions.csh

#!/bin/csh -f
# Determine executable name collisions with Radiance 3.5
# Assume no one else has a program named this:
echo path was \( $path \)
set testp=macbethcal
while (1)
	set mbc=`which $testp`
	if ( $status ) then
		break
	endif
	set radp="$mbc:h"
	set newp=""
	foreach i ($path:q)
		if ("$i" != "$radp") then
			set newp=($newp:q "$i")
		endif
	end
	set path=($newp:q)
end
echo path changed to \( $path \)
echo Conflicting executables on `uname -a`
foreach i ( 3ds2mgf arch2rad bgraph calc cnt compamb cv dayfact \
debugcal dev dgraph dmake ev falsecolor findglare gcomp genbackg \
genblinds genbox gencat genclock genprism genrev genrhgrid gensky \
gensurf genworm getbbox getinfo glare glarendx glaze glrad histo \
ies2rad igraph lam lampcolor lookamb macbethcal markpath meta2tga \
mgf2inv mgf2meta mgf2rad mgfilt mkillum neat nff2rad normpat \
normtiff obj2mesh obj2rad objline objpict objview oconv oki20 \
oki20c pcomb pcompos pcond pcwarp pdelta pdfblur pexpand pextrem \
pfilt pflip phisto pinterp plot4 plotin pmblur protate psign psmeta \
psort pvalue ra_avs ra_bn ra_gif ra_hexbit ra_pict ra_ppm ra_pr \
ra_pr24 ra_ps ra_rgbe ra_t16 ra_t8 ra_tiff ra_xyze rad rad2mgf \
raddepend ranimate ranimove rcalc replmarks rhcopy rhinfo rholo \
rhoptimize rhpict rlux rmake rpict rpiece rtrace rview tabfunc \
thf2rad tmesh2rad total trad ttyimage vinfo vwrays vwright \
x11meta xform xglaresrc ximage xshowtrace xyzimage \
gencatenary rlam icalc neaten rvu radview rviewer)
	set conflict=`which $i`
	if (! $status ) then
		echo $conflict
	endif
end

--Apple-Mail-18-236316046--


From radiance-general@radiance-online.org  Mon Dec  8 13:13:17 2003
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Mon, 08 Dec 2003 14:13:17 +0100
Subject: [Radiance-general] Renaming "rview"
In-Reply-To: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>
References: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>
Message-ID: <3FD478ED.40901@gmx.net>

Greg Ward wrote:

> It seems certain that we need to rename "rview," and from the responses 
> I received, also "gencat," "lam," "neat," and "calc."  Here are my 
> suggestions for these others, along with my reasoning:
> 
>     "gencat" -> "gencatenary"
> 
> This is a little-used, optional generator for catenaries.  I see nothing 
> against making the name longer and more explicit.  I don't think anyone 
> expected it to generate a feline, but I imagine quite a few users 
> wondered what the heck it did generate, as there's no man page for it.  

Actually, a feline generator could come in handy... (along with Rob's 
Pam Anderson generator). Consider it for the next release! :^)

/usr/bin/gencat was the only collision found by your script on my 
Mandrake 9.1 distrib.

>     "neat" -> "neaten"
> 
> I also thought to rename it to "tidy," but that seemed a too big change 
> for an obscure little utility.  If you've never checked this one out, 
> you might give it a look.  I thought it was a cute little program, which 
> is how I named it.

How about "kleen"? :^)

> OK, finally to the subject of this message, which is coming up with a 
> new name for an old friend.  Below are listed some numbered 
> alternatives.  I want you to write back with your favorite (pick just 
> one, please) and explain your reasoning.  Consider it a chance to 
> contribute to the next release even if you've never written a line of C 
> code.  Here are the candidates.
> 
> 1.    "rvu"
> 
> Possibly my favorite, because it's short and unique, and if you say the 
> letters, you get back the original.

I was just gonna suggest that myself.

> 3.    "rviewer"
> 
> This is better, because it stays close to the original meaning of the 
> command, which is "ray viewer," and also has the two extra letters added 
> at the end rather than the beginning, so you can remember the new 
> command name at the last minute, right as your fingers are leaving the 
> word and saying, "Hey -- you forgot something!"

There's always file name completion, Greg. At least when you're running 
a *real* OS. :^)

> 5.    "your_name_here"
> 
> Your own suggestion if you don't like any of the others.  (Not really 
> your personal moniker -- we aren't naming the command after you, sorry.)

(Damn...)

I'd consider "rpreview". Yeah, it's longer, but I imagine a lot of users 
use it specifically just to get an idea of their scene (although you can 
of course do your final renderings with it too).

> Well, those are my ideas.  They're all included in the new 
> "radcollisions.csh" attached to this message.  If you haven't run it on 
> your system yet, please do so and send me the output.  It would be a 
> real shame to rename a command to conflict with yet another Unix 
> program, so even if you ran the last one, please indulge me again.  (Do 
> it quickly, before "vim" takes over the world!)

I think we have a concesus on shoving this editor where the sun don't 
shine. :^)

--Roland

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-general@radiance-online.org  Mon Dec  8 13:44:51 2003
From: radiance-general@radiance-online.org (Rob Shakespeare)
Date: Mon, 8 Dec 2003 08:44:51 -0500
Subject: [Radiance-general] Renaming "rview"
In-Reply-To: <3FD478ED.40901@gmx.net>
Message-ID: <000d01c3bd91$745dd580$72424f81@ads.iu.edu>

I vote for "rvu"

-Rob Shakespeare




From radiance-general@radiance-online.org  Mon Dec  8 14:00:00 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Mon, 8 Dec 2003 09:00:00 -0500 (EST)
Subject: [Radiance-general] Renaming "rview"
In-Reply-To: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>
Message-ID: <Pine.BSF.4.44.0312080855250.84939-100000@emancholl.pair.com>

Greg Ward wrote:

> I only had a few responses to my request to run "radcollisions.csh" on
> different machines.

 Conflicting executables on Linux 2.4.19-4GB
 /usr/bin/gencat


 Conflicting executables on FreeBSD 4.6-STABLE
 /usr/local/bin/calc
 /usr/local/bin/dmake
 /usr/bin/gencat
 /usr/bin/lam
 /usr/local/bin/rview

The only new one here is dmake, which I can't even find anywhere
in Radiance... How did it end up on your list?

    http://www.scri.fsu.edu/~dwyer/dmake.html
	Dmake (Distributed Make) is a generic parallel make utility
	designed to speed up the process of compiling large packages.


>  "gencat" -> "gencatenary"
>  "lam" -> "rlam"
>  "calc" -> "icalc"
>  "neat" -> "neaten"

Am I the only one who had to look up what a catenary is?
Otherwise, they all seem ok to me.


> I'm thinking we'll want to include a symbolic link from the new name
> back to "rview," for two reasons.  First, old users like me are going
> to have trouble with whatever we name it to because "rview" has become
> so familiar to my fingers that they type it automatically.

$> cat /opt/radiance-3.6/bin/rview
#!/bin/sh
echo "$0"
echo "please use 'rviever' instead for previewing Radiance scenes"
echo "or replace this file with a symbolic link to it."
exit 1
$>

If we want to establish a new name, we need to educate our users
about it. I don't think we should install it in a way that basically
hides the fact from people who don't happen to read the release notes.
Those who then deliberately decide to stick to their old habits have
an easy enough way to get what they want.


> 1.      "rvu"
> 2.      "radview"
> 3.      "rviewer"
> 4.      "radiance_viewer_86FQ19GZ15"

1. is cute, but possibly too cute...
3. promises to be easily adopted and remembered. I think that
"rviewer" would have the least practical annoyance factor (in the
times of automatic command line completion and error correction).

A little historical note: "Radview" was an early project name for
Rayfront. I discarded it after I found there is a software
company by that name, selling a load analyzing package for
multi-tiered web application systems.
Although there would have been no trade mark conflict (completely
seperate and independent market segments) I wouldn't want to get
confused with *anyone*. ;)


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Mon Dec  8 15:14:55 2003
From: radiance-general@radiance-online.org (Carsten Bauer)
Date: Mon, 08 Dec 2003 15:14:55 +0000
Subject: [Radiance-general] Renaming "rview"
References: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>
Message-ID: <3FD4956F.3010201@t-online.de>

Greg Ward wrote:

>   Consider it a chance to contribute to the next release even if 
> you've never written a line of C code.  

Yeah, I wanna use this chance 'cause I'll never have the chance to do it 
the C-Style way :-)  :-) , that's why I'm answering so quickly:

>
> 5.    "your_name_here" 

a very spontaneous idea:   "rvw"
 - not easy to pronounce but easy to remember as it is in fact only an 
abbreviation and no extra letters appear

-cb





From radiance-general@radiance-online.org  Mon Dec  8 14:36:33 2003
From: radiance-general@radiance-online.org (Mark Stock)
Date: Mon, 8 Dec 2003 09:36:33 -0500 (EST)
Subject: [Radiance-general] Renaming "rview"
In-Reply-To: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>
References: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>
Message-ID: <Pine.SOL.4.58.0312080931530.28067@asteroids.gpcc.itd.umich.edu>

On my Radiance boxes:

Conflicting executables on Linux localhost 2.4.20-20_29.rh9.at #1 Sat Sep
6 23:58:59 EDT 2003 i686 i686 i386 GNU/Linux
/usr/bin/gencat
/usr/bin/neat
/bin/rview

Although I always put the Radiance path between "." and the rest of
my path anyways, and have never run into these problems.

As for the new names, I like rviewer---I do the filename-completion
thing often, and I use that program often. I like the names you
suggested for the others, though I use them far less frequently.

Mark

On Mon, 8 Dec 2003, Greg Ward wrote:

> I only had a few responses to my request to run "radcollisions.csh" on
> different machines.  If you missed this message and are still willing
> to help, I have attached the script (slightly modified) to look for
> command name conflicts between Radiance on your machine.  This will
> help me determine what command need renaming for the next release.
[cut]

From radiance-general@radiance-online.org  Mon Dec  8 15:18:16 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Mon, 08 Dec 2003 10:18:16 -0500
Subject: [Radiance-general] Renaming "rview"
In-Reply-To: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>
References: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net>
Message-ID: <3FD49638.10101@rumblestrip.org>

Greg Ward wrote:

>     "gencat" -> "gencatenary"
> 
> This is a little-used, optional generator for catenaries.  I see nothing 
> against making the name longer and more explicit.  I don't think anyone 
> expected it to generate a feline, but I imagine quite a few users 
> wondered what the heck it did generate, as there's no man page for it.  
> (Saba Roufchaie wrote this little gem, and I find it invaluable for 
> making certain objects, like hanging chains and ropes.)

Didn't even know that existed, thanks.  There's at least an argument 
listing in the .c file, until you mentioned it I had no idea it was 
there.  Maybe I should kick around in the radiance directories some 
more, see what kind of other trouble I can get myself into.

> Consider it a chance to 
> contribute to the next release even if you've never written a line of C 
> code.  Here are the candidates.
> 
> 1.    "rvu"
> 
> Possibly my favorite, because it's short and unique, and if you say the 
> letters, you get back the original.

rvu.  Like, totally.  Short is good, the letters are perfectly placed on 
the keyboard for my hunt-n-peck style, and as you say, you can still 
pronounce it "rview".  I dig it.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Mon Dec  8 17:29:42 2003
From: radiance-general@radiance-online.org (Reinhart, Christoph)
Date: Mon, 8 Dec 2003 12:29:42 -0500
Subject: [Radiance-general] 5 minutes of your time: Survey on the use of daylight simulation
 tools
Message-ID: <10C94843061E094A98C02EB77CFC328702C3E71E@nrcmrdex1d.imsb.nrc.ca>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3BDB0.DDC38D20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

 Dear RADIANCE users,<?xml:namespace prefix =3D o ns =3D
"urn:schemas-microsoft-com:office:office" />=20
=20
You are invited to participate in an online survey on the current use =
of
daylight simulation tools during building design. The survey is carried =
out
as part of a research project of the International Energy Agency's Task =
31,
Daylighting Buildings in the 21st Century.The survey is administered by =
the
National Research Council Canada and will be active until Tuesday, =
December
23rd 2003. The outcome of the survey will be used to:=20
=B7        identify existing weaknesses of daylighting design software
packages=20
=B7        better understand design practitioners' needs=20
=B7        tailor the output of tools accordingly.=20
=20
We would like you to fill out an online questionnaire about your =
daylighting
design experience. Please respond to all questions as openly and =
honestly as
possible. There are no right or wrong answers; it is only your opinion =
that
is important. All information that we obtain from you through this =
survey
will be kept confidential. Your participation in this research is =
voluntary.
Should you decide to participate in the survey, you still reserve the =
right
to end your participation at any time and for any reason, without =
prejudice.

=20
If you are interested in participating in this survey, please go to
<http://irc.nrc-cnrc.gc.ca/ie/light/survey.html>
http://irc.nrc-cnrc.gc.ca/ie/light/survey.html. Thank you in advance =
for
your participation.
Should you have any questions or suggestions, please contact Dr. =
Christoph
Reinhart at  <mailto:christoph.reinhart@nrc-cnrc.gc.ca>
christoph.reinhart@nrc-cnrc.gc.ca or +1(613)993 9703.
Christoph Reinhart, Ph.D.                        tel: (613) 993-9703=20
Research Officer                                      fax: (613) =
954-3733=20
Institute for Research in Construction      e-mail:
christoph.reinhart@nrc-cnrc.gc.ca=20
National Research Council Canada        1200 Montreal Road M-24, Ottawa =

Ontario K1A 0R6 Canada=20

Daylighting Analysis Software:=20
The Lightswitch Wizard (initial design)   www.buildwiz.com
<http://www.buildwiz.com/lightswitch/index.cfm> =20
DAYSIM (expert software)                       www.daysim.com
<outbind://56/www.daysim.com>   <outbind://56/www.daysim.com>=20


IEA Task 31
http://www.iea-shc.org/task31/ <http://www.iea-shc.org/task31/> =20

=20

------_=_NextPart_001_01C3BDB0.DDC38D20
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">


<META content=3D"MSHTML 5.50.4934.1600" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT face=3DArial size=3D2>&nbsp;<SPAN lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: EN-CA">Dear&nbsp;<SPAN=20
class=3D997032317-08122003>RADIANCE users</SPAN>,<?xml:namespace prefix =
=3D o ns =3D=20
"urn:schemas-microsoft-com:office:office" /><o:p></o:p></SPAN>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN =
lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: =
EN-CA">&nbsp;<o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN =
lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: =
EN-CA"><o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN =
lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: EN-CA">You are invited =
to=20
participate in an <STRONG>online survey</STRONG> on the current use of =
daylight=20
simulation tools during building design. The survey is carried out as =
part of=20
a<SPAN class=3D829274617-01122003> </SPAN>research project of</SPAN> =
the=20
International Energy Agency's Task 31, <EM>Daylighting Buildings in the =

21<SUP>st</SUP> Century<SPAN =
class=3D829274617-01122003>.</SPAN></EM>The survey is=20
administered by the <SPAN lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: EN-CA">National =
Research Council=20
Canada<SPAN class=3D877485820-20112003> and will be active <SPAN=20
class=3D829274617-01122003>until</SPAN>&nbsp;Tuesday, December 23<SPAN=20
class=3D829274617-01122003>rd</SPAN> 2003</SPAN>. </SPAN>The outcome of =
the survey=20
will be used to<SPAN class=3D829274617-01122003>:</SPAN> </DIV>
<DIV class=3DMsoBodyText3=20
style=3D"MARGIN-LEFT: 0.5in; TEXT-INDENT: -0.25in; LINE-HEIGHT: normal; =
tab-stops: list .5in; mso-list: l1 level1 lfo84"><FONT=20
size=3D2><FONT face=3DArial><SPAN style=3D"FONT-FAMILY: =
Symbol">=B7<SPAN=20
style=3D"FONT: 7pt 'Times New =
Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
</SPAN></SPAN>identify existing weaknesses of daylighting design =
software=20
packages </FONT></FONT></DIV>
<DIV class=3DMsoBodyText3=20
style=3D"MARGIN-LEFT: 0.5in; TEXT-INDENT: -0.25in; LINE-HEIGHT: normal; =
tab-stops: list .5in; mso-list: l1 level1 lfo84"><FONT=20
size=3D2><FONT face=3DArial><SPAN style=3D"FONT-FAMILY: =
Symbol">=B7<SPAN=20
style=3D"FONT: 7pt 'Times New =
Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
</SPAN></SPAN>better understand design practitioners' needs <SPAN=20
style=3D"FONT-FAMILY: Arial"><o:p></o:p></SPAN></FONT></FONT></DIV>
<DIV class=3DMsoBodyText3=20
style=3D"MARGIN-LEFT: 0.5in; TEXT-INDENT: -0.25in; LINE-HEIGHT: normal; =
tab-stops: list .5in; mso-list: l1 level1 lfo84"><FONT=20
size=3D2><FONT face=3DArial><SPAN style=3D"FONT-FAMILY: =
Symbol">=B7<SPAN=20
style=3D"FONT: 7pt 'Times New =
Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
</SPAN></SPAN><SPAN style=3D"FONT-FAMILY: Arial">tailor the output of =
tools=20
accordingly. <o:p></o:p></SPAN></FONT></FONT></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN=20
style=3D"FONT-FAMILY: Arial">&nbsp;<o:p></o:p></SPAN></DIV>
<DIV class=3DMsoNormal style=3D"TEXT-ALIGN: justify"><SPAN=20
style=3D"FONT-FAMILY: Arial">We would like you to fill out an online =
questionnaire=20
about your daylighting design experience. Please respond to all =
questions as=20
openly and honestly as possible. There are no right or wrong answers; =
it is only=20
your opinion that&nbsp;<SPAN class=3D829274617-01122003>is</SPAN>=20
important.&nbsp;</SPAN><SPAN style=3D"FONT-FAMILY: =
Arial">All&nbsp;information=20
that we obtain from you through this survey will be kept confidential. =
Your=20
participation in this research is voluntary. Should you decide to =
participate in=20
the survey, you still reserve the right to end your participation at =
any time=20
and for any reason, without prejudice. <o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN=20
style=3D"FONT-FAMILY: Arial">&nbsp;<o:p></o:p></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal">If you are =
interested in=20
participating in this survey, please go to <A=20
href=3D"http://irc.nrc-cnrc.gc.ca/ie/light/survey.html"><SPAN=20
style=3D"FONT-FAMILY: Arial"><STRONG><FONT=20
color=3D#0000ff>http://irc.nrc-cnrc.gc.ca/ie/light/<SPAN=20
class=3D877485820-20112003>survey</SPAN>.html</FONT></STRONG></SPAN></A>=
. Thank=20
you in advance for your participation.</DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN=20
style=3D"FONT-SIZE: 12pt; FONT-FAMILY: 'Times New Roman'; =
mso-fareast-font-family: 'Times New Roman'; mso-ansi-language: EN-US; =
mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><FONT=20
face=3DArial size=3D2>Should you have any questions or suggestions, =
please contact=20
Dr. Christoph Reinhart at </FONT><A=20
href=3D"mailto:christoph.reinhart@nrc-cnrc.gc.ca"><SPAN=20
style=3D"FONT-SIZE: 11pt; FONT-FAMILY: Arial; mso-bidi-font-size: =
12.0pt; mso-bidi-font-family: 'Times New Roman'"><FONT=20
color=3D#000000 =
size=3D2>christoph.reinhart@nrc-cnrc.gc.ca</FONT></SPAN></A><FONT=20
face=3DArial size=3D2> or +1(613)993 9703<SPAN=20
class=3D877485820-20112003>.</SPAN></FONT></SPAN></DIV>
<DIV class=3DMsoBodyText3 style=3D"LINE-HEIGHT: normal"><SPAN =
lang=3DEN-CA=20
style=3D"FONT-FAMILY: Arial; mso-ansi-language: EN-CA"><SPAN=20
class=3D721022717-02122003><SPAN=20
class=3D527275318-02122003></SPAN></SPAN></SPAN><FONT=20
color=3D#0000ff></FONT></DIV></FONT></DIV>
<DIV><FONT face=3DArial size=3D-2>Christoph Reinhart,=20
Ph.D.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =

tel: (613) 993-9703</FONT> <BR><FONT face=3DArial><FONT =
size=3D-2>Research=20
Officer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;=20
fax: (613) 954-3733</FONT></FONT> <BR><FONT face=3DArial><FONT =
size=3D-2>Institute=20
for Research in Construction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e-mail:=20
christoph.reinhart@nrc-cnrc.gc.ca</FONT></FONT> <BR><FONT =
face=3DArial><FONT=20
size=3D-2>National Research Council=20
Canada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1200 Montreal Road =
M-24,=20
Ottawa</FONT></FONT> <BR><FONT face=3DArial><FONT size=3D-2>Ontario K1A =
0R6=20
Canada</FONT></FONT> </DIV>
<P><U><FONT face=3DArial><FONT size=3D-2>Daylighting Analysis=20
Software:</FONT></FONT></U> <BR><FONT face=3DArial><FONT size=3D-2>The =
Lightswitch=20
Wizard (initial design)&nbsp;&nbsp; <U><FONT color=3D#000000><A=20
href=3D"http://www.buildwiz.com/lightswitch/index.cfm">www.buildwiz.com<=
/A></FONT></U></FONT></FONT>=20
<BR><FONT face=3DArial><FONT size=3D-2>DAYSIM (expert=20
software)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
<U><FONT color=3D#000000><A=20
href=3D"outbind://56/www.daysim.com">www.daysim.com</A></FONT></U></FONT=
></FONT><U><FONT=20
face=3DArial><FONT color=3D#000000><FONT size=3D-2><A=20
href=3D"outbind://56/www.daysim.com"></A></FONT></FONT></FONT></U>=20
<P><FONT face=3DArial><FONT color=3D#000000><FONT size=3D-2>IEA Task=20
31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
<A=20
href=3D"http://www.iea-shc.org/task31/">http://www.iea-shc.org/task31/</=
A></FONT></FONT></FONT>=20
</P>
<DIV>&nbsp;</DIV></BODY></HTML>

------_=_NextPart_001_01C3BDB0.DDC38D20--

From radiance-general@radiance-online.org  Mon Dec  8 17:48:26 2003
From: radiance-general@radiance-online.org (Jeffrey McGrew)
Date: Mon, 8 Dec 2003 09:48:26 -0800
Subject: [Radiance-general] RE: Renaming "rview"
Message-ID: <14F4D3C7236B9C42B381D1F66D78C6D9A65A1A@hunt-exch-01.huntsmanag.com>

> This is a little-used, optional generator for catenaries.

Wow! didn't know about this one! I've got some work ahead
of me, this looks cool...

> The first three are historical and therefore expected.  Why they had to 
> add six other links is beyond me, especially when only two of them have 
> any different functionality.  Grrrr....

Especially for those of us that use Emacs j/k

> 1.	"rvu"

This get my tiny vote of little importance. :)

Jeffrey


From radiance-general@radiance-online.org  Mon Dec  8 20:20:10 2003
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Mon, 08 Dec 2003 21:20:10 +0100
Subject: [Radiance-general] Renaming "rview"
In-Reply-To: <3FD49638.10101@rumblestrip.org>
References: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net> <3FD49638.10101@rumblestrip.org>
Message-ID: <3FD4DCFA.90902@gmx.net>

Rob Guglielmetti wrote:

> rvu.  Like, totally.  Short is good, the letters are perfectly placed on 
> the keyboard for my hunt-n-peck style, and as you say, you can still 
> pronounce it "rview".  I dig it.

Like, totally hip 'n' c00l d00d!

Times have changed, and RADIANCE should go with the trendy, like, 
totally rad tripe that people are so into these days. Most people don't 
give a damn about anything unless it's got a totally c00l name. "rvu" is 
first step in that direction. Britney Spears would be proud! :^)



-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-general@radiance-online.org  Mon Dec  8 20:53:57 2003
From: radiance-general@radiance-online.org (pillo)
Date: Mon, 8 Dec 2003 20:53:57 +0000
Subject: [Radiance-general] [Radiance general] MacosX and X11
In-Reply-To: <3FD4DCFA.90902@gmx.net>
References: <3E30EAB4-2977-11D8-AE32-00306540F848@lmi.net> <3FD49638.10101@rumblestrip.org> <3FD4DCFA.90902@gmx.net>
Message-ID: <A40E7BFE-29C0-11D8-9C3E-000A95C607E8@tin.it>

if someone is interested in using x11 as graphical output for the built 
in panther terminal this is what is required:


1) launch x11, launch terminal (keep X11  always open when the terminal 
is open, otherwise it doesn't work!)

2) edit your .bash_profile as follows, just add these lines:

if [ -z "${DISPLAY}" ];then echo -n
export DISPLAY=':0'
fi


3) now open a new terminal window and try  ximage,   
/usr/x11r6/bin/glxgears or others....
should be ok.

cheers,
giulio

I have already posted this stuff, but I forgot to give the most 
important information.....
the point one: open X11 before using it!   ... sorry about that...


From radiance-general@radiance-online.org  Tue Dec  9 03:04:51 2003
From: radiance-general@radiance-online.org (Carsten Bauer)
Date: Tue, 09 Dec 2003 03:04:51 +0000
Subject: [Radiance-general] Renaming "rview"
References: <Pine.BSF.4.44.0312080855250.84939-100000@emancholl.pair.com>
Message-ID: <3FD53BD3.1010305@t-online.de>

Georg Mischler wrote:

>Greg Ward wrote:
>
>  
>
>>I only had a few responses to my request to run "radcollisions.csh" on
>>different machines.
>>    
>>
>
> Conflicting executables on Linux 2.4.19-4GB
> /usr/bin/gencat
>
I've forgotten my radcollisions output, but I have the same OS (Linux 
2.4.19, SuSE 8.1) and consequently got the same result..

-cb


From radiance-general@radiance-online.org  Wed Dec 10 12:49:15 2003
From: radiance-general@radiance-online.org (=?iso-8859-1?q?Carlos=20Ochoa?=)
Date: Wed, 10 Dec 2003 06:49:15 -0600 (CST)
Subject: [Radiance-general] another question about glare
In-Reply-To: <B2910ADC-1AAE-11D8-8EE1-00306540F848@lmi.net>
Message-ID: <20031210124915.29593.qmail@web40501.mail.yahoo.com>

Hi!
 
This is Carlos again. Finally, I got the glare simulations
running, by changing view point, type of view (-vta -vh 360
-vv 360), materials, etc.
 
The view now looks towards the window, which is double
glazing and oriented to the south.

In some cases, however, findglare does not identify a glare
source even after setting a threshold manually or
overriding the absorption of small sources. This results in
DGI indexes of "0" when is obvious they are not such...

The threshold was set using a routine by R. Compagnon
adapted from Hopkinson.

What can be done in those cases?

Carlos Ochoa

_________________________________________________________
Do You Yahoo!?
Información de Estados Unidos y América Latina, en Yahoo! Noticias.
Visítanos en http://noticias.espanol.yahoo.com

From radiance-general@radiance-online.org  Wed Dec 10 19:12:42 2003
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Wed, 10 Dec 2003 20:12:42 +0100
Subject: [Radiance-general] [Radiance general] MacosX and X11
In-Reply-To: <A40E7BFE-29C0-11D8-9C3E-000A95C607E8@tin.it>
Message-ID: <3FC54F5F00012B90@ims4a.cp.tin.it>

fot the people using tcsh (jaguar):

 in:
etc/csh.login

 add this:

setenv DISPLAY localhost:0 ; setenv DYLD_LIBRARY_PATH


open X11 an then use the terminal to lauch graphical stuff

cheers,
giulio



From radiance-general@radiance-online.org  Thu Dec 11 11:04:47 2003
From: radiance-general@radiance-online.org (=?iso-8859-1?q?Carlos=20Ochoa?=)
Date: Thu, 11 Dec 2003 05:04:47 -0600 (CST)
Subject: [Radiance-general] one more question about glare-view angles
In-Reply-To: <B2910ADC-1AAE-11D8-8EE1-00306540F848@lmi.net>
Message-ID: <20031211110447.99764.qmail@web40510.mail.yahoo.com>

Hi Greg,

Another question understanding the findglare routine... 

When using the -ga option, multiple angles can be
specified. Are these angles measured relative to an
absolute system (ie, xyz coordinates of a model), or are
they relative to the view? (For example, in an angular
view, the observer has compressed view planes)

Thanks,
Carlos

_________________________________________________________
Do You Yahoo!?
Información de Estados Unidos y América Latina, en Yahoo! Noticias.
Visítanos en http://noticias.espanol.yahoo.com

From radiance-general@radiance-online.org  Thu Dec 11 23:57:49 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Thu, 11 Dec 2003 15:57:49 -0800
Subject: [Radiance-general] Re: one more question about glare-view angles
In-Reply-To: <20031211110447.99764.qmail@web40510.mail.yahoo.com>
References: <20031211110447.99764.qmail@web40510.mail.yahoo.com>
Message-ID: <D36A48B2-2C35-11D8-A027-000A95BB392A@lmi.net>

They are relative to the current view, with the direction normalized to 
be perpendicular to the view-up vector if it is not already.

> From: Carlos Ochoa <carlosochoam@yahoo.com>
> Date: December 11, 2003 3:04:47 AM PST
>
> Hi Greg,
>
> Another question understanding the findglare routine...
>
> When using the -ga option, multiple angles can be
> specified. Are these angles measured relative to an
> absolute system (ie, xyz coordinates of a model), or are
> they relative to the view? (For example, in an angular
> view, the observer has compressed view planes)
>
> Thanks,
> Carlos


From radiance-general@radiance-online.org  Fri Dec 12 09:17:25 2003
From: radiance-general@radiance-online.org (etsaweb)
Date: Fri, 12 Dec 2003 10:17:25 +0100
Subject: [Radiance-general] work in other units
Message-ID: <001401c3c090$c2133c50$987bed9f@TEDWEB1>

This is a multi-part message in MIME format.

------=_NextPart_000_0011_01C3C099.23B91FD0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

can i work in meters with radiance and get accurate results?, or is it =
limit to feets?

Ignacio Mun=E1rriz
Escuela de Arquitectura, Universidad de Navarra
------=_NextPart_000_0011_01C3C099.23B91FD0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2800.1106" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>can i work in meters with radiance and =
get accurate=20
results?, or is it limit to feets?</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Ignacio Mun=E1rriz</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Escuela de Arquitectura, Universidad de =

Navarra</FONT></DIV></BODY></HTML>

------=_NextPart_000_0011_01C3C099.23B91FD0--


From radiance-general@radiance-online.org  Fri Dec 12 12:57:07 2003
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Fri, 12 Dec 2003 13:57:07 +0100
Subject: [Radiance-general] work in other units
In-Reply-To: <001401c3c090$c2133c50$987bed9f@TEDWEB1>
References: <001401c3c090$c2133c50$987bed9f@TEDWEB1>
Message-ID: <3FD9BB23.1000200@gmx.net>

etsaweb wrote:
> can i work in meters with radiance and get accurate results?, or is it 
> limit to feets?

In principle your units can be arbitrary -- the RADIANCE code isn't 
hardwired to meters or feet. Having said that, it's up to you to make 
sure they're *consistent* with the other data you supply, for instance 
the light source emission. Note that radiometric units like radiance and 
irradiance are defined in terms of meters^2.

--Roland

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-general@radiance-online.org  Fri Dec 12 18:34:18 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Fri, 12 Dec 2003 12:34:18 -0600
Subject: [Radiance-general] Panther Shell questions
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3C0DE.8DA417C0
Content-Type: text/plain

I just installed Panther... woohoo!
I recall Rob G saying bash is the default shell in 10.3
my terminal says tcsh - could that be because I chose to keep  my previous
Users and prefs?

I know you can change the shell in Terminal Preferences, but what's the
difference anyway?

Also, in X11 when I use rad -o x11 nov15.rif, I get 
 rview -vf qtvr.vp -ps 3 -pt .04 -dp 4096 -ar 112 -ms 0.85 -ds .2 -dt .05
 -dc .75 -dr 3 -sj 1 -st .01 -ab 3 -af Nov15.amb -aa .08 -ad 1024 -as 512
-av 0.
5 0.5 0.5 -lr 12 -lw .0005 -av .1 .1 .1 -ad 2048 -as 1024 -ar 105 -aa .05
-ps 1 
-R nov15.rif -o x11 -pe 1 nov15.oct

I get an error:
Unknown option: "-ps"

yet when I run rview directly it works
rview -vf qtvr.vp -ab 2 -ps 2 -af Nov15.amb nov15.oct

I'm a little slow, but I'm asuming this is the conflict with rview and vi?

Greg says to run radcollisions.csh - which is supposed to look for conflicts
with rview?
don't know how... tried
robfitzs% ./radcollisions.csh
tcsh: ./radcollisions.csh: Permission denied.
Ok. so I try
sudo ./radcollisions.csh
Password: *****
sudo: ./radcollisions.csh: command not found

Still a Unix newbie!

Rob F

------_=_NextPart_001_01C3C0DE.8DA417C0
Content-Type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=US-ASCII">
<META NAME="Generator" CONTENT="MS Exchange Server version 5.5.2653.12">
<TITLE>Panther Shell questions</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=2>I just installed Panther... woohoo!</FONT>
<BR><FONT SIZE=2>I recall Rob G saying bash is the default shell in 10.3</FONT>
<BR><FONT SIZE=2>my terminal says tcsh - could that be because I chose to keep&nbsp; my previous Users and prefs?</FONT>
</P>

<P><FONT SIZE=2>I know you can change the shell in Terminal Preferences, but what's the difference anyway?</FONT>
</P>

<P><FONT SIZE=2>Also, in X11 when I use rad -o x11 nov15.rif, I get </FONT>
<BR><FONT SIZE=2>&nbsp;rview -vf qtvr.vp -ps 3 -pt .04 -dp 4096 -ar 112 -ms 0.85 -ds .2 -dt .05</FONT>
<BR><FONT SIZE=2>&nbsp;-dc .75 -dr 3 -sj 1 -st .01 -ab 3 -af Nov15.amb -aa .08 -ad 1024 -as 512 -av 0.</FONT>
<BR><FONT SIZE=2>5 0.5 0.5 -lr 12 -lw .0005 -av .1 .1 .1 -ad 2048 -as 1024 -ar 105 -aa .05 -ps 1 </FONT>
<BR><FONT SIZE=2>-R nov15.rif -o x11 -pe 1 nov15.oct</FONT>
</P>

<P><FONT SIZE=2>I get an error:</FONT>
<BR><FONT SIZE=2>Unknown option: &quot;-ps&quot;</FONT>
</P>

<P><FONT SIZE=2>yet when I run rview directly it works</FONT>
<BR><FONT SIZE=2>rview -vf qtvr.vp -ab 2 -ps 2 -af Nov15.amb nov15.oct</FONT>
</P>

<P><FONT SIZE=2>I'm a little slow, but I'm asuming this is the conflict with rview and vi?</FONT>
</P>

<P><FONT SIZE=2>Greg says to run radcollisions.csh - which is supposed to look for conflicts with rview?</FONT>
<BR><FONT SIZE=2>don't know how... tried</FONT>
<BR><FONT SIZE=2>robfitzs% ./radcollisions.csh</FONT>
<BR><FONT SIZE=2>tcsh: ./radcollisions.csh: Permission denied.</FONT>
<BR><FONT SIZE=2>Ok. so I try</FONT>
<BR><FONT SIZE=2>sudo ./radcollisions.csh</FONT>
<BR><FONT SIZE=2>Password: *****</FONT>
<BR><FONT SIZE=2>sudo: ./radcollisions.csh: command not found</FONT>
</P>

<P><FONT SIZE=2>Still a Unix newbie!</FONT>
</P>

<P><FONT SIZE=2>Rob F</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3C0DE.8DA417C0--

From radiance-general@radiance-online.org  Fri Dec 12 19:00:21 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Fri, 12 Dec 2003 14:00:21 -0500
Subject: [Radiance-general] Panther Shell questions
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com>
Message-ID: <3FDA1045.5070900@rumblestrip.org>

Fitzsimmons, Rob wrote:
> I just installed Panther... woohoo!
> I recall Rob G saying bash is the default shell in 10.3
> my terminal says tcsh - could that be because I chose to keep  my 
> previous Users and prefs?

Yep, exactly.  I believe any *new* user accounts you create will default 
to bash, though.

> I know you can change the shell in Terminal Preferences, but what's the 
> difference anyway?

Lots of little differences between all the various shells, but bash 
seems to have the most useful doodads for interractive use. It's the 
default shell on most Linux distros too.  Here's a nice little summary 
comparing the most popular shells I just found:

http://www.ee.ucla.edu/~brucker/howto/shells.html

> Also, in X11 when I use rad -o x11 nov15.rif, I get
>  rview -vf qtvr.vp -ps 3 -pt .04 -dp 4096 -ar 112 -ms 0.85 -ds .2 -dt .05
>  -dc .75 -dr 3 -sj 1 -st .01 -ab 3 -af Nov15.amb -aa .08 -ad 1024 -as 
> 512 -av 0.
> 5 0.5 0.5 -lr 12 -lw .0005 -av .1 .1 .1 -ad 2048 -as 1024 -ar 105 -aa 
> .05 -ps 1
> -R nov15.rif -o x11 -pe 1 nov15.oct
> 
> I get an error:
> Unknown option: "-ps"
> 
> yet when I run rview directly it works
> rview -vf qtvr.vp -ab 2 -ps 2 -af Nov15.amb nov15.oct
> 
> I'm a little slow, but I'm asuming this is the conflict with rview and vi?

Hmmm.  Dunno.

> Greg says to run radcollisions.csh - which is supposed to look for 
> conflicts with rview?
> don't know how... tried
> robfitzs% ./radcollisions.csh
> tcsh: ./radcollisions.csh: Permission denied.
> Ok. so I try
> sudo ./radcollisions.csh
> Password: *****
> sudo: ./radcollisions.csh: command not found

Try making the file executable, by running chmod on it:
robfitzs% chmod 755 radcollisions.csh

Then you should be able to run it typing:
robfitzs% ./radcollisions.csh

Not sure if this conflict is your problem, though.  Are you saying this 
error started appearing only after you upgraded to Panther?

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Fri Dec 12 19:07:39 2003
From: radiance-general@radiance-online.org (Mark Stock)
Date: Fri, 12 Dec 2003 14:07:39 -0500 (EST)
Subject: [Radiance-general] Panther Shell questions
In-Reply-To: <3FDA1045.5070900@rumblestrip.org>
References: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com>
 <3FDA1045.5070900@rumblestrip.org>
Message-ID: <Pine.SOL.4.58.0312121406280.28742@zektor.gpcc.itd.umich.edu>

On Fri, 12 Dec 2003, Rob Guglielmetti wrote:
> Fitzsimmons, Rob wrote:
> > Greg says to run radcollisions.csh - which is supposed to look for
> > conflicts with rview?
> > don't know how... tried
> > robfitzs% ./radcollisions.csh
> > tcsh: ./radcollisions.csh: Permission denied.
> > Ok. so I try
> > sudo ./radcollisions.csh
> > Password: *****
> > sudo: ./radcollisions.csh: command not found
>
> Try making the file executable, by running chmod on it:
> robfitzs% chmod 755 radcollisions.csh
>
> Then you should be able to run it typing:
> robfitzs% ./radcollisions.csh
>
> Not sure if this conflict is your problem, though.  Are you saying this
> error started appearing only after you upgraded to Panther?

The second time Greg sent the script, it had DOS carriage
returns, and I couldn't run it on Linux. SO, I more'd it and
copied and pasted it into a new file, chmod 755'd it, and
that new one ran.

Mark

From radiance-general@radiance-online.org  Fri Dec 12 19:12:48 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Fri, 12 Dec 2003 14:12:48 -0500
Subject: [Radiance-general] Panther Shell questions
In-Reply-To: <Pine.SOL.4.58.0312121406280.28742@zektor.gpcc.itd.umich.edu>
References: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com> <3FDA1045.5070900@rumblestrip.org> <Pine.SOL.4.58.0312121406280.28742@zektor.gpcc.itd.umich.edu>
Message-ID: <3FDA1330.1050407@rumblestrip.org>

Mark Stock wrote:
> The second time Greg sent the script, it had DOS carriage
> returns, and I couldn't run it on Linux. SO, I more'd it and
> copied and pasted it into a new file, chmod 755'd it, and
> that new one ran.

Hi Mark,

Hey, most Linuxes have a little util called 'dos2unix' installed, which 
removes the returns too.  Usually there's a 'dos2unix' and a 'unix2dos'.

-Rob


From radiance-general@radiance-online.org  Fri Dec 12 19:12:45 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Fri, 12 Dec 2003 14:12:45 -0500 (EST)
Subject: [Radiance-general] Panther Shell questions
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com>
Message-ID: <Pine.BSF.4.44.0312121407330.56220-100000@emancholl.pair.com>

Fitzsimmons, Rob wrote:

> I get an error:
> Unknown option: "-ps"
>
> yet when I run rview directly it works
> rview -vf qtvr.vp -ab 2 -ps 2 -af Nov15.amb nov15.oct
>
> I'm a little slow, but I'm asuming this is the conflict with rview and vi?

Possibly, although it would be strange for rad to call a different
rview binary than you do manually.


> Greg says to run radcollisions.csh - which is supposed to look for conflicts
> with rview?
> don't know how... tried
> robfitzs% ./radcollisions.csh
> tcsh: ./radcollisions.csh: Permission denied.
> Ok. so I try
> sudo ./radcollisions.csh
> Password: *****
> sudo: ./radcollisions.csh: command not found

% tcsh ./radcollisions.csh

Your file doesn't have execute rights. You could use "chmod"
to change that, but feeding it directly to the interpreter
is more straightforward.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Fri Dec 12 19:14:48 2003
From: radiance-general@radiance-online.org (Mark Stock)
Date: Fri, 12 Dec 2003 14:14:48 -0500 (EST)
Subject: [Radiance-general] Panther Shell questions
In-Reply-To: <3FDA1330.1050407@rumblestrip.org>
References: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com>
 <3FDA1045.5070900@rumblestrip.org> <Pine.SOL.4.58.0312121406280.28742@zektor.gpcc.itd.umich.edu>
 <3FDA1330.1050407@rumblestrip.org>
Message-ID: <Pine.SOL.4.58.0312121413520.28742@zektor.gpcc.itd.umich.edu>

Heh, yeah, I forgot what those were called, believe it or not.
Sometimes, I just want the dumb solution,. =0)

Mark

On Fri, 12 Dec 2003, Rob Guglielmetti wrote:

> Mark Stock wrote:
> > The second time Greg sent the script, it had DOS carriage
> > returns, and I couldn't run it on Linux. SO, I more'd it and
> > copied and pasted it into a new file, chmod 755'd it, and
> > that new one ran.
>
> Hi Mark,
>
> Hey, most Linuxes have a little util called 'dos2unix' installed, which
> removes the returns too.  Usually there's a 'dos2unix' and a 'unix2dos'.
>
> -Rob
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

From radiance-general@radiance-online.org  Fri Dec 12 19:21:23 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Fri, 12 Dec 2003 14:21:23 -0500 (EST)
Subject: [Radiance-general] Panther Shell questions
In-Reply-To: <3FDA1330.1050407@rumblestrip.org>
Message-ID: <Pine.BSF.4.44.0312121413270.56220-100000@emancholl.pair.com>

Rob Guglielmetti wrote:

> Mark Stock wrote:
> > The second time Greg sent the script, it had DOS carriage
> > returns, and I couldn't run it on Linux. SO, I more'd it and
> > copied and pasted it into a new file, chmod 755'd it, and
> > that new one ran.
>
> Hi Mark,
>
> Hey, most Linuxes have a little util called 'dos2unix' installed, which
> removes the returns too.  Usually there's a 'dos2unix' and a 'unix2dos'.


Alternatively, ask everybody's favourite enemy to help you:

 % vim -e '+set fileformat=unix' +wq ./radcollisions.csh


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/




From radiance-general@radiance-online.org  Fri Dec 12 19:38:53 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Fri, 12 Dec 2003 13:38:53 -0600
Subject: [Radiance-general] Panther Shell questions
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D6925B@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3C0E7.93228FC0
Content-Type: text/plain;
	charset="iso-8859-1"

 

Lots of little differences between all the various shells, but bash 
seems to have the most useful doodads for interractive use. It's the 
default shell on most Linux distros too.  Here's a nice little summary 
comparing the most popular shells I just found:

http://www.ee.ucla.edu/~brucker/howto/shells.html

Thanks

> Also, in X11 when I use rad -o x11 nov15.rif,  
> I get an error:
> Unknown option: "-ps"
> 
> yet when I run rview directly it works
> rview -vf qtvr.vp -ab 2 -ps 2 -af Nov15.amb nov15.oct
> 
> I'm a little slow, but I'm asuming this is the conflict with rview and
vi?

Georg M says

>Possibly, although it would be strange for rad to call a different 
>rview binary than you do manually. 

that made me wonder too

Hmmm.  Dunno.


Try making the file executable, by running chmod on it:
robfitzs% chmod 755 radcollisions.csh


Thanks Mark and Rob - had to do both chmod and re-do the line breaks

Not sure if this conflict is your problem, though.  Are you saying this 
error started appearing only after you upgraded to Panther?

Yes - had no problem when using rad  in 10.1.5 with the X11 I got from
XFree86 

Rob Fitz

------_=_NextPart_001_01C3C0E7.93228FC0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RE: [Radiance-general] Panther Shell questions</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>&nbsp;</FONT>
</P>

<P><FONT SIZE=3D2>Lots of little differences between all the various =
shells, but bash </FONT>
<BR><FONT SIZE=3D2>seems to have the most useful doodads for =
interractive use. It's the </FONT>
<BR><FONT SIZE=3D2>default shell on most Linux distros too.&nbsp; =
Here's a nice little summary </FONT>
<BR><FONT SIZE=3D2>comparing the most popular shells I just =
found:</FONT>
</P>

<P><FONT SIZE=3D2><A =
HREF=3D"http://www.ee.ucla.edu/~brucker/howto/shells.html" =
TARGET=3D"_blank">http://www.ee.ucla.edu/~brucker/howto/shells.html</A><=
/FONT>
</P>

<P><FONT SIZE=3D2>Thanks</FONT>
</P>

<P><FONT SIZE=3D2>&gt; Also, in X11 when I use rad -o x11 =
nov15.rif,&nbsp; </FONT>
<BR><FONT SIZE=3D2>&gt; I get an error:</FONT>
<BR><FONT SIZE=3D2>&gt; Unknown option: &quot;-ps&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; yet when I run rview directly it works</FONT>
<BR><FONT SIZE=3D2>&gt; rview -vf qtvr.vp -ab 2 -ps 2 -af Nov15.amb =
nov15.oct</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; I'm a little slow, but I'm asuming this is the =
conflict with rview and</FONT>
<BR><FONT SIZE=3D2>vi?</FONT>
</P>

<P><FONT SIZE=3D2>Georg M says</FONT>
</P>

<P><FONT SIZE=3D2>&gt;Possibly, although it would be strange for rad to =
call a different </FONT>
<BR><FONT SIZE=3D2>&gt;rview binary than you do manually. </FONT>
</P>

<P><FONT SIZE=3D2>that made me wonder too</FONT>
</P>

<P><FONT SIZE=3D2>Hmmm.&nbsp; Dunno.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Try making the file executable, by running chmod on =
it:</FONT>
<BR><FONT SIZE=3D2>robfitzs% chmod 755 radcollisions.csh</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Thanks Mark and Rob - had to do both chmod and re-do =
the line breaks</FONT>
</P>

<P><FONT SIZE=3D2>Not sure if this conflict is your problem, =
though.&nbsp; Are you saying this </FONT>
<BR><FONT SIZE=3D2>error started appearing only after you upgraded to =
Panther?</FONT>
</P>

<P><FONT SIZE=3D2>Yes - had no problem when using rad&nbsp; in 10.1.5 =
with the X11 I got from XFree86 </FONT>
</P>

<P><FONT SIZE=3D2>Rob Fitz</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3C0E7.93228FC0--

From radiance-general@radiance-online.org  Sat Dec 13 00:21:29 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Fri, 12 Dec 2003 16:21:29 -0800
Subject: [Radiance-general] Panther Shell questions
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF051DE898@corvallis.summit.fiserv.com>
Message-ID: <4BCF76C2-2D02-11D8-8247-000A95BB392A@lmi.net>

Rob F. and I exchanged a couple of e-mails.  I think his problem is 
that he has rview "aliased" to /usr/local/bin/rview, but does not have 
/usr/local/bin in his path before /usr/bin, where the vim link lives.  
That's why running from rad, which doesn't get aliases, gets 
/usr/bin/rview (i.e., vim) instead of /usr/local/bin/rview.  The 
solution is to put /usr/local/bin in the path before /usr/bin.  Next 
release, we'll rename rview so this won't happen again.

-Greg


> From: "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>
> Date: December 12, 2003 10:34:18 AM PST
>
I just installed Panther... woohoo!
I recall Rob G saying bash is the default shell in 10.3
my terminal says tcsh - could that be because I chose to keep  my 
previous Users and prefs?

I know you can change the shell in Terminal Preferences, but what's the 
difference anyway?

Also, in X11 when I use rad -o x11 nov15.rif, I get
 rview -vf qtvr.vp -ps 3 -pt .04 -dp 4096 -ar 112 -ms 0.85 -ds .2 -dt 
.05
 -dc .75 -dr 3 -sj 1 -st .01 -ab 3 -af Nov15.amb -aa .08 -ad 1024 -as 
512 -av 0.
5 0.5 0.5 -lr 12 -lw .0005 -av .1 .1 .1 -ad 2048 -as 1024 -ar 105 -aa 
.05 -ps 1
-R nov15.rif -o x11 -pe 1 nov15.oct

I get an error:
Unknown option: "-ps"

yet when I run rview directly it works
rview -vf qtvr.vp -ab 2 -ps 2 -af Nov15.amb nov15.oct

I'm a little slow, but I'm asuming this is the conflict with rview and 
vi?

Greg says to run radcollisions.csh - which is supposed to look for 
conflicts with rview?
don't know how... tried
robfitzs% ./radcollisions.csh
tcsh: ./radcollisions.csh: Permission denied.
Ok. so I try
sudo ./radcollisions.csh
Password: *****
sudo: ./radcollisions.csh: command not found

Still a Unix newbie!

Rob F

> From: "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>
> Date: December 12, 2003 3:49:46 PM PST
>
> X11
> robfitzs% which rview
> rview:   aliased to /usr/local/bin/rview
>
> Terminal
> robfitzs% which rview
> rview:   aliased to /usr/local/bin/rview
>
> My Path
> robfitzs% echo $path
> /usr/bin /bin /usr/sbin /sbin /Users/robfitzs /usr/X11R6/bin 
> /usr/X11R6/bin
> /usr/local/bin
>
> Guess I have /usr/X11R6/bin in there twice - a problem?
>
> I have a .tcshrc in my home with this:
> setenv PATH "${PATH}:/usr/X11R6/bin:/usr/local/bin"
> setenv RAYPATH .:${HOME}:/usr/local/lib/ray
> alias myrad 'cd ~/documents/radiance_stuff'
> alias smith 'cd ~/documents/radiance_stuff/smith'
> alias rview '/usr/local/bin/rview'
> setenv DISPLAY localhost:0 ; setenv DYLD_LIBRARY_PATH
>
> I put the alias rview last night thinking it might help
>
>
> When rview is called from rad is the only time I get the error
>
> Thanks again
> Rob
> -----Original Message-----
> From: Greg Ward
> To: Fitzsimmons, Rob
> Sent: 12/12/2003 3:11 PM
> Subject: Re: Panther Shell questions
>
> Hi Rob,
>
> Sounds like truly bizarre behavior.  What do you get when you enter
> "which rview" in X11 versus the Terminal?
>
> -G
>
>> From: "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>
>> Date: December 12, 2003 2:37:18 PM PST
>
>
> thanks
>
> this works ok from the terminal, but not in X11
>
> -----Original Message-----
> From: Greg Ward
> To: Fitzsimmons, Rob
> Sent: 12/12/2003 1:23 PM
> Subject: Re: Panther Shell questions
>
> Hi Rob,
>
> It's hard to tell from something pasted into an e-mail if there was a
> weird character or not, since cut-and-paste as well as e-mail will
> strip clear text of any offending characters.  Send your .rif file in a
> tar'red attachment, instead.
>
> -G
>
>   


From radiance-general@radiance-online.org  Sat Dec 13 19:36:10 2003
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Sat, 13 Dec 2003 13:36:10 -0600 (CST)
Subject: [Radiance-general] Panther Shell questions
Message-ID: <1071344170.3fdb6a2a3f7e5@www.correo.unam.mx>

I am not an expert at all in unix but after turning around for a while to configure radiance in 
panther, I use this configuration that is working fine for tcsh shell. I have radiance bin and lib 
directories into /usr/local/radiance and the manuals in /AppUnix/ray/doc/man.

- I create a .cshrc in my home with:
source /usr/share/tcsh/examples/rc

- and the file ~/Library/init/tcsh/rc.mine with these lines.

setenv MANPATH "/AppUnix/ray/doc/man:${HOME}/man:/usr/local/share/man:/usr/share
/man"
setenv RAYPATH ".:/usr/local/radiance/lib"
setenv PATH "/usr/local/radiance/bin:~/bin:/usr/local/bin:/usr/bin:/bin:/usr/loc
al/sbin:/usr/sbin:/sbin"
setenv DISPLAY localhost:0 ; setenv DYLD_LIBRARY_PATH

- the last line allows the use of xterm within terminal application (Pillo's idea)

genevieve lucet
universidad nacional autonoma de mexico






-------------------------------------------------
Obtén tu correo en www.correo.unam.mx
UNAMonos Comunicándonos


From radiance-general@radiance-online.org  Sun Dec 14 16:00:02 2003
From: radiance-general@radiance-online.org (Marcus Jacobs)
Date: Sun, 14 Dec 2003 16:00:02 +0000
Subject: [Radiance-general] Picture Mapping CAL File
Message-ID: <BAY2-F123snU1UOJqXU0002eed8@hotmail.com>

Dear Group

I remember in the past coming across a CAL file (not picture.cal) for 
mapping 2D images onto 3 and 4 sided polygons. Does anyone know which CAl 
file this is? I have been unable to find it.



Thanks


Marcus

_________________________________________________________________
Cell phone ‘switch’ rules are taking effect — find out more here. 
http://special.msn.com/msnbc/consumeradvocate.armx


From radiance-general@radiance-online.org  Mon Dec 15 14:40:45 2003
From: radiance-general@radiance-online.org (John S. An)
Date: Mon, 15 Dec 2003 09:40:45 -0500
Subject: [Radiance-general] resolution mismatch revisited
Message-ID: <AB0B5292-2F0C-11D8-B281-000A95871DF2@mac.com>

Hi all,

I had followed Andrews discussion on resolution mismatch a few weeks 
back.  However, I seem to be running into a different type of 
resolution mismatch problem right now.

I am venturing into the world of parallel processing on a dual G5 
Macintosh, and my first invocation of rpiece works fine.

rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP 
b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05 -dc 0.10 
-ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01 0.01 -aw 1 
-ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude -x 500 
-y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out b_b_b.oct 
&

However, when I try to start the second process

rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst 
b_b_b.oct &

I get the error message

rpiece: resolution mismatch on file "b_b_b_1_indirect_plan.pic

I tried adjusting the -X -Y and -x -y parameters, but the same thing 
happened.  Just out of curiosity, I also tried adjusting the -av and 
-aw to 0, and the same results.


I am certain that this is not a problem with a limit on the available 
resource.  The machine has 1.5GB of memory.

Any hints as to what could be wrong?


Thanks.

John


From radiance-general@radiance-online.org  Mon Dec 15 15:14:32 2003
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Mon, 15 Dec 2003 10:14:32 -0500
Subject: [Radiance-general] resolution mismatch revisited
References: <AB0B5292-2F0C-11D8-B281-000A95871DF2@mac.com>
Message-ID: <3FDDCFD8.7000900@visarc.com>

--------------060200050003000901050507
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

John,

We use rpiece but probably a little differently in terms of invocation. 
There are a couple of things to look at:

   1. typo - there is a typo in your first command line you have --aa
      which should be -a
   2. invocations - there is a short form for invoking rpiece after the
      initial invocation, which is what you are trying to do here. I
      would check the man page for rpiece carefully to make sure you are
      doing this correctly, it looks like you are leaving out the -x and
      -y image resolution parameters as well as the viewfile -vf  from
      the short version of the invocation. As an alternative to keep
      things more "simple", I would suggest just calling exactly the
      same thing as the initial invocation. This could be coded into a
      simple script or makefile to save yourself some of the headache of
      typing the whole thing our or a potentially incorrect cut and paste.
   3. scene complexity - depending on the simplicity or complexity of
      the scene you are trying to run here there is a another possible
      problem. If the scene is really simple and the image size small
      (500x500 is not that large) then the first rpiece process could
      have completed everything  before the next invocation (I seem to
      recall that this may produce the same kind of message?) Are you
      getting a completed image?

-Jack de Valpine

John S. An wrote:

> Hi all,
>
> I had followed Andrews discussion on resolution mismatch a few weeks 
> back.  However, I seem to be running into a different type of 
> resolution mismatch problem right now.
>
> I am venturing into the world of parallel processing on a dual G5 
> Macintosh, and my first invocation of rpiece works fine.
>
> rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP 
> b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05 -dc 0.10 
> -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01 0.01 -aw 
> 1 -ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude -x 
> 500 -y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out 
> b_b_b.oct &
>
> However, when I try to start the second process
>
> rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst 
> b_b_b.oct &
>
> I get the error message
>
> rpiece: resolution mismatch on file "b_b_b_1_indirect_plan.pic
>
> I tried adjusting the -X -Y and -x -y parameters, but the same thing 
> happened.  Just out of curiosity, I also tried adjusting the -av and 
> -aw to 0, and the same results.
>
>
> I am certain that this is not a problem with a limit on the available 
> resource.  The machine has 1.5GB of memory.
>
> Any hints as to what could be wrong?
>
>
> Thanks.
>
> John
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------060200050003000901050507
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title></title>
</head>
<body>
John,<br>
<br>
We use rpiece but probably a little differently in terms of invocation. There
are a couple of things to look at:<br>
<ol>
  <li>typo - there is a typo in your first command line you have --aa which
should be -a</li>
  <li>invocations - there is a short form for invoking rpiece after the initial
invocation, which is what you are trying to do here. I would check the man
page for rpiece carefully to make sure you are doing this correctly, it looks
like you are leaving out the -x and -y image resolution parameters as well
as the viewfile -vf&nbsp; from the short version of the invocation. As an alternative
to keep things more "simple", I would suggest just calling exactly the same
thing as the initial invocation. This could be coded into a simple script
or makefile to save yourself some of the headache of typing the whole thing
our or a potentially incorrect cut and paste.</li>
  <li>scene complexity - depending on the simplicity or complexity of the
scene you are trying to run here there is a another possible problem. If
the scene is really simple and the image size small (500x500 is not that
large) then the first rpiece process could have completed everything &nbsp;before
the next invocation (I seem to recall that this may produce the same kind
of message?) Are you getting a completed image?</li>
</ol>
-Jack de Valpine<br>
<br>
John S. An wrote:<br>
<blockquote type="cite"
 cite="midAB0B5292-2F0C-11D8-B281-000A95871DF2@mac.com">Hi all, <br>
 <br>
I had followed Andrews discussion on resolution mismatch a few weeks  back.&nbsp;
However, I seem to be running into a different type of  resolution mismatch
problem right now. <br>
 <br>
I am venturing into the world of parallel processing on a dual G5  Macintosh,
and my first invocation of rpiece works fine. <br>
 <br>
rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP  b_b_b.pst
-af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05 -dc 0.10  -ds 0.01 -dj
0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01 0.01 -aw 1  -ab 2 ad 2048
-as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude -x 500  -y 500 -ms 2.7
-lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out b_b_b.oct  &amp; <br>
 <br>
However, when I try to start the second process <br>
 <br>
rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst  b_b_b.oct
&amp; <br>
 <br>
I get the error message <br>
 <br>
rpiece: resolution mismatch on file "b_b_b_1_indirect_plan.pic <br>
 <br>
I tried adjusting the -X -Y and -x -y parameters, but the same thing  happened.&nbsp;
Just out of curiosity, I also tried adjusting the -av and  -aw to 0, and
the same results. <br>
 <br>
 <br>
I am certain that this is not a problem with a limit on the available  resource.&nbsp;
The machine has 1.5GB of memory. <br>
 <br>
Any hints as to what could be wrong? <br>
 <br>
 <br>
Thanks. <br>
 <br>
John <br>
 <br>
_______________________________________________ <br>
Radiance-general mailing list <br>
<a class="moz-txt-link-abbreviated" href="mailto:Radiance-general@radiance-online.org">Radiance-general@radiance-online.org</a> <br>
<a class="moz-txt-link-freetext" href="http://www.radiance-online.org/mailman/listinfo/radiance-general">http://www.radiance-online.org/mailman/listinfo/radiance-general</a> <br>
 <br>
 <br>
</blockquote>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------060200050003000901050507--


From radiance-general@radiance-online.org  Mon Dec 15 11:09:52 2003
From: radiance-general@radiance-online.org (M BLOJ)
Date: Mon, 15 Dec 2003 11:09:52 +0000 (GMT)
Subject: [Radiance-general] [Fwd: spotlight definition]
Message-ID: <Pine.GSO.4.33.0312151108550.20437-100000@lithium.cen.brad.ac.uk>

Subject: spotlight definition
Date: Fri, 12 Dec 2003 17:46:11 +0000
From: Alexa I. Ruppertsberg <a.i.ruppertsberg@bradford.ac.uk>
Organization: University of Bradford
To: radiance-general@radiance-online.org

Hi,

can somebody enlighten me what the 'amplitude' (I think it should be
'length') of the vector for the spotlight-definition does?

Thanks,

Alexa

-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Dr. Alexa I. Ruppertsberg
Department of Optometry
University of Bradford
Bradford
BD7 1DP
UK

email: a.i.ruppertsberg@bradford.ac.uk
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From radiance-general@radiance-online.org  Mon Dec 15 17:15:23 2003
From: radiance-general@radiance-online.org (=?iso-8859-1?q?Faouzi=20Djafi?=)
Date: Mon, 15 Dec 2003 18:15:23 +0100 (CET)
Subject: [Radiance-general] Intentity_of_pixel
Message-ID: <20031215171523.83339.qmail@web20104.mail.yahoo.com>

--0-2066154222-1071508523=:82721
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Dear Group,

 

I have two pictures of a same scene, but they illuminated with two different lights.

I want to post the value of illuminance pixel (intentity of pixel) on the same point in the two pictures.

I tested with the program of ximage and falsecolor, but it is not a recise method, because I cannot select

the same point using the cursor.

can you say to me what's the good way to do this?

 

Thank you, Djafi



---------------------------------
Do You Yahoo!? -- Une adresse @yahoo.fr gratuite et en français !
Testez le nouveau Yahoo! Mail
--0-2066154222-1071508523=:82721
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt">Dear Group,</SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt"><?xml:namespace prefix = o ns = "urn:schemas-microsoft-com:office:office" /><o:p></o:p></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt">I have two pictures of a same scene, but they illuminated with two different lights.<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt">I want to post the value of illuminance pixel (intentity of pixel) on the same point in the two pictures.<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt">I tested with the program of ximage and falsecolor, but it is not a recise method, because I cannot select<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt">the same point using the cursor.<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt">can you say to me what's the good way to do this?</SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt"><o:p></o:p></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 12.0pt">Thank you, Djafi<o:p></o:p></SPAN></P><p><br><hr size=1><font face=arial size=-1>Do You Yahoo!? -- Une adresse @yahoo.fr gratuite et en français !<br>
<a href=http://fr.mail.yahoo.com>Testez le nouveau Yahoo! Mail</a></font>
--0-2066154222-1071508523=:82721--

From radiance-general@radiance-online.org  Mon Dec 15 17:29:17 2003
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Mon, 15 Dec 2003 12:29:17 -0500
Subject: [Radiance-general] Intentity_of_pixel
References: <20031215171523.83339.qmail@web20104.mail.yahoo.com>
Message-ID: <3FDDEF6D.105@visarc.com>

--------------070107040004010206010802
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
X-MIME-Autoconverted: from 8bit to quoted-printable by illustrious.cnchost.com id MAA04167

Hi Djafi,

There are a few ways to do this. Probably what you really want to do is=20
get the illuminance at some point on the work plane. To do this you=20
should check out the "rtrace" command (man rtrace). This enables you to=20
essentially measure at given locations in the scene. The command take=20
some of the same parameters as does rpict, although you will find that=20
you should increase certain ambient parameters (ab, ad, as, ar, aa) in=20
order to obtain more accurate measures. I would also suggest (as would=20
many others on this list I suspect) that you use rtrace to obtain=20
measures for multiple points on the workplane so you have a better sense=20
of how results are working out and comparing between scenarios.

As an alternative to this, if you really want to do image processing (ie=20
pixel comparisons/calculations) then it would be possible to use=20
"pvalue" to get the values at specific pixels in the images.

Just as a side note, you have indicated that you are interested in=20
illuminance values, to obtain illuminance you must be sure to render=20
(rpict) or sample (rtrace) using the -i switch to obtain irradiance value=
s.

-Jack

Faouzi Djafi wrote:

> Dear Group,
>
> =20
>
> I have two pictures of a same scene, but they illuminated with two=20
> different lights.
>
> I want to post the value of illuminance pixel (intentity of pixel) on=20
> the same point in the two pictures.
>
> I tested with the program of ximage and falsecolor, but it is not a=20
> recise method, because I cannot select
>
> the same point using the cursor.
>
> can you say to me what's the good way to do this?
>
> =20
>
> Thank you, Djafi
>
>
> -----------------------------------------------------------------------=
-
> Do You Yahoo!? -- Une adresse @yahoo.fr gratuite et en fran=E7ais !
> Testez le nouveau Yahoo! Mail <http://fr.mail.yahoo.com>=20


--=20
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------070107040004010206010802
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Hi Djafi,<br>
<br>
There are a few ways to do this. Probably what you really want to do is get
the illuminance at some point on the work plane. To do this you should check
out the "rtrace" command (man rtrace). This enables you to essentially measure
at given locations in the scene. The command take some of the same parameters
as does rpict, although you will find that you should increase certain ambient
parameters (ab, ad, as, ar, aa) in order to obtain more accurate measures.
I would also suggest (as would many others on this list I suspect) that you
use rtrace to obtain measures for multiple points on the workplane so you
have a better sense of how results are working out and comparing between
scenarios.<br>
<br>
As an alternative to this, if you really want to do image processing (ie
pixel comparisons/calculations) then it would be possible to use "pvalue"
to get the values at specific pixels in the images.<br>
<br>
Just as a side note, you have indicated that you are interested in illuminance
values, to obtain illuminance you must be sure to render (rpict) or sample
(rtrace) using the -i switch to obtain irradiance values.<br>
<br>
-Jack<br>
<br>
Faouzi Djafi wrote:<br>
<blockquote type="cite"
 cite="mid20031215171523.83339.qmail@web20104.mail.yahoo.com">
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';">Dear Group,</span></p>
 
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';"><o:p></o:p></span>&nbsp;</p>
 
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';">I have two pictures
of a same scene, but they illuminated with two different lights.<o:p></o:p></span></p>
 
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';">I want to post the
value of illuminance pixel (intentity of pixel) on the same point in the
two pictures.<o:p></o:p></span></p>
 
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';">I tested with the program
of ximage and falsecolor, but it is not a recise method, because I cannot
select<o:p></o:p></span></p>
 
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';">the same point using
the cursor.<o:p></o:p></span></p>
 
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';">can you say to me what's
the good way to do this?</span></p>
 
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';"><o:p></o:p></span>&nbsp;</p>
 
  <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span
 style="font-size: 10pt; font-family: 'Courier New';">Thank you, Djafi<o:p></o:p></span></p>
  <p><br>
  </p>
  <hr size="1"><font face="arial" size="-1">Do You Yahoo!? -- Une adresse
@yahoo.fr gratuite et en fran&ccedil;ais !<br>
 <a href="http://fr.mail.yahoo.com">Testez le nouveau Yahoo! Mail</a></font> 
</blockquote>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------070107040004010206010802--


From radiance-general@radiance-online.org  Mon Dec 15 17:49:02 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Mon, 15 Dec 2003 12:49:02 -0500
Subject: [Radiance-general] Intentity_of_pixel
In-Reply-To: <20031215171523.83339.qmail@web20104.mail.yahoo.com>
References: <20031215171523.83339.qmail@web20104.mail.yahoo.com>
Message-ID: <3FDDF40E.2060906@rumblestrip.org>

Faouzi Djafi wrote:

> I want to post the value of illuminance pixel (intentity of pixel) on 
> the same point in the two pictures.

> can you say to me what's the good way to do this?

The program rtrace can compute illuminance at a specific point; this is 
typically what I use when I want to compare scenarios or capture 
daylighting data for a space.  You can feed rtrace a text file with a 
whole series of points (one per line) and it will calculate the 
illuminance for each one in turn.

For example, create a file with lines like this:

0 0 0 0 0 1
0 0 10 0 0 -1

That file describes two "virtual light meters", one on the floor at 
0,0,0 looking up.  The other is located ten units above it, looking 
down, just as an example.  You'd feed these to rtrace like this:

rtrace [options] -I scene.oct < points.txt > values.txt

points.txt is the file with all your points you'd like to evaluate, and 
then rtrace saves the computed illuminance values in values.txt.

Of course, you'd then have to manually paste in some sort of graphic tag 
indicating the illuminance into a completed .pic file, if you wish to 
have an image with the illuminance.  I'm sure there's a way to have 
Radiance do it for you, but in general I use rtrace to spit out a whole 
series of numbers, which I summarize in tabular form.  I'll usually just 
do one image which serves as a reference key to all the calculation 
points.  This method works for me; YMMV.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Mon Dec 15 17:52:47 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Mon, 15 Dec 2003 12:52:47 -0500
Subject: [Radiance-general] Intentity_of_pixel
In-Reply-To: <3FDDEF6D.105@visarc.com>
References: <20031215171523.83339.qmail@web20104.mail.yahoo.com> <3FDDEF6D.105@visarc.com>
Message-ID: <3FDDF4EF.7010206@rumblestrip.org>

Oops, Jack already replied. Thanks Jack!  One minor nit though...

Jack de Valpine wrote:
> Just as a side note, you have indicated that you are interested in 
> illuminance values, to obtain illuminance you must be sure to render 
> (rpict) or sample (rtrace) using the -i switch to obtain irradiance values.

Actually, you use -i in rpict, but -I in rtrace, for illuminance.

-RPG


From radiance-general@radiance-online.org  Mon Dec 15 18:20:55 2003
From: radiance-general@radiance-online.org (John S. An)
Date: Mon, 15 Dec 2003 13:20:55 -0500
Subject: [Radiance-general] Re: resolution mismatch revisited
Message-ID: <6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com>

--Apple-Mail-1-863459001
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

Jack,

Thanks for you advice.

The short invocation was what I had found in the radiance-online 
archives, in which Greg gave a step by step approach.  I did take your 
advice and tried making the -x -y and -vf parameters explicit in the 
second invocation.    I no longer get the resolution mismatch error.  
Also, although my image is only 500 by 500, the settings seem to be 
sufficiently high enough that each piece takes at least a couple 
minutes to render.

However, a few things that I have noticed are:
1) when I use the "top" command, there are 4 rpict processes.  2 seem 
to be active, and 2 are idle.  I had assumed that there should be only 
3 rpict processes (2 active, and one waiting fork).
2) when I look over the output log, both processes are working on frame 
1, then again, both working on frame 2, etc.
3) the final output .pic file only has the center (where the light 
fixture is located) rendered, and the rest of the image is completely 
black.

I'm sure I'm making a dumb newbie mistake, but can't seem to figure out 
what it is.  Could you (or someone) post a detailed printout of which 
commands with what parameters one would use to get a simple rpiece 
process going?

Thanks.

(btw, my initial attempt at the rpiece command was adapted from Greg's 
post a while back)


John

_________________________________
Jack de Valpine wrote:

John,

We use rpiece but probably a little differently in terms of invocation.
There are a couple of things to look at:

    1. typo - there is a typo in your first command line you have --aa
       which should be -a
    2. invocations - there is a short form for invoking rpiece after the
       initial invocation, which is what you are trying to do here. I
       would check the man page for rpiece carefully to make sure you are
       doing this correctly, it looks like you are leaving out the -x and
       -y image resolution parameters as well as the viewfile -vf  from
       the short version of the invocation. As an alternative to keep
       things more "simple", I would suggest just calling exactly the
       same thing as the initial invocation. This could be coded into a
       simple script or makefile to save yourself some of the headache of
       typing the whole thing our or a potentially incorrect cut and 
paste.
    3. scene complexity - depending on the simplicity or complexity of
       the scene you are trying to run here there is a another possible
       problem. If the scene is really simple and the image size small
       (500x500 is not that large) then the first rpiece process could
       have completed everything  before the next invocation (I seem to
       recall that this may produce the same kind of message?) Are you
       getting a completed image?

-Jack de Valpine

John S. An wrote:

 > Hi all,
 >
 > I had followed Andrews discussion on resolution mismatch a few weeks
 > back.  However, I seem to be running into a different type of
 > resolution mismatch problem right now.
 >
 > I am venturing into the world of parallel processing on a dual G5
 > Macintosh, and my first invocation of rpiece works fine.
 >
 > rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP
 > b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05 -dc 0.10
 > -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01 0.01 -aw
 > 1 -ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude -x
 > 500 -y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out
 > b_b_b.oct &
 >
 > However, when I try to start the second process
 >
 > rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst
 > b_b_b.oct &
 >
 > I get the error message
 >
 > rpiece: resolution mismatch on file "b_b_b_1_indirect_plan.pic
 >
 > I tried adjusting the -X -Y and -x -y parameters, but the same thing
 > happened.  Just out of curiosity, I also tried adjusting the -av and
 > -aw to 0, and the same results.
 >
 >
 > I am certain that this is not a problem with a limit on the available
 > resource.  The machine has 1.5GB of memory.
 >
 > Any hints as to what could be wrong?
 >
 >
 > Thanks.
 >
 > John

--Apple-Mail-1-863459001
Content-Transfer-Encoding: 7bit
Content-Type: text/enriched;
	charset=US-ASCII

<fontfamily><param>Courier</param><x-tad-bigger>Jack,


Thanks for you advice.


The short invocation was what I had found in the radiance-online
archives, in which Greg gave a step by step approach.  I did take your
advice and tried making the -x -y and -vf parameters explicit in the
second invocation.    I no longer get the resolution mismatch error. 
Also, although my image is only 500 by 500, the settings seem to be
sufficiently high enough that each piece takes at least a couple
minutes to render.


However, a few things that I have noticed are:

1) when I use the "top" command, there are 4 rpict processes.  2 seem
to be active, and 2 are idle.  I had assumed that there should be only
3 rpict processes (2 active, and one waiting fork).

2) when I look over the output log, both processes are working on
frame 1, then again, both working on frame 2, etc.

3) the final output .pic file only has the center (where the light
fixture is located) rendered, and the rest of the image is completely
black.


I'm sure I'm making a dumb newbie mistake, but can't seem to figure
out what it is.  Could you (or someone) post a detailed printout of
which commands with what parameters one would use to get a simple
rpiece process going?


Thanks.


(btw, my initial attempt at the rpiece command was adapted from Greg's
post a while back)



John


_________________________________

Jack de Valpine wrote:


John,


We use rpiece but probably a little differently in terms of
invocation. 

There are a couple of things to look at:


   1. typo - there is a typo in your first command line you have --aa

      which should be -a

   2. invocations - there is a short form for invoking rpiece after the

      initial invocation, which is what you are trying to do here. I

      would check the man page for rpiece carefully to make sure you
are

      doing this correctly, it looks like you are leaving out the -x
and

      -y image resolution parameters as well as the viewfile -vf  from

      the short version of the invocation. As an alternative to keep

      things more "simple", I would suggest just calling exactly the

      same thing as the initial invocation. This could be coded into a

      simple script or makefile to save yourself some of the headache
of

      typing the whole thing our or a potentially incorrect cut and
paste.

   3. scene complexity - depending on the simplicity or complexity of

      the scene you are trying to run here there is a another possible

      problem. If the scene is really simple and the image size small

      (500x500 is not that large) then the first rpiece process could

      have completed everything  before the next invocation (I seem to

      recall that this may produce the same kind of message?) Are you

      getting a completed image?


-Jack de Valpine


John S. An wrote:


></x-tad-bigger><italic><x-tad-bigger> Hi all,

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
I had followed Andrews discussion on resolution mismatch a few weeks 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
back.  However, I seem to be running into a different type of 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
resolution mismatch problem right now.

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
I am venturing into the world of parallel processing on a dual G5 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
Macintosh, and my first invocation of rpiece works fine.

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05 -dc 0.10 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
-ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01 0.01 -aw 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
1 -ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude -x 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
500 -y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
b_b_b.oct &

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
However, when I try to start the second process

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
b_b_b.oct &

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
I get the error message

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
rpiece: resolution mismatch on file "b_b_b_1_indirect_plan.pic

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
I tried adjusting the -X -Y and -x -y parameters, but the same thing 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
happened.  Just out of curiosity, I also tried adjusting the -av and 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
-aw to 0, and the same results.

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
I am certain that this is not a problem with a limit on the available 

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
resource.  The machine has 1.5GB of memory.

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
Any hints as to what could be wrong?

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
Thanks.

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
John

</x-tad-bigger></italic></fontfamily>
--Apple-Mail-1-863459001--


From radiance-general@radiance-online.org  Mon Dec 15 18:06:43 2003
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Mon, 15 Dec 2003 13:06:43 -0500
Subject: [Radiance-general] Intentity_of_pixel
References: <20031215171523.83339.qmail@web20104.mail.yahoo.com> <3FDDEF6D.105@visarc.com> <3FDDF4EF.7010206@rumblestrip.org>
Message-ID: <3FDDF833.9040901@visarc.com>

Ack. Thanks Rob! I knew I was writing too quickly.

-I is for irradiance at specific sample points
-i would be for irradiance of specific rays

-Jack

Rob Guglielmetti wrote:

> Oops, Jack already replied. Thanks Jack!  One minor nit though...
>
> Jack de Valpine wrote:
>
>> Just as a side note, you have indicated that you are interested in 
>> illuminance values, to obtain illuminance you must be sure to render 
>> (rpict) or sample (rtrace) using the -i switch to obtain irradiance 
>> values.
>
>
> Actually, you use -i in rpict, but -I in rtrace, for illuminance.
>
> -RPG
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> .
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From radiance-general@radiance-online.org  Mon Dec 15 18:48:33 2003
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Mon, 15 Dec 2003 13:48:33 -0500
Subject: [Radiance-general] Re: resolution mismatch revisited
References: <6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com>
Message-ID: <3FDE0201.4050708@visarc.com>

--------------000903090505050406050801
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hey John,

OK, a step in the right direction ;->, some other thought below....

-Jack

John S. An wrote:

> Jack,
>
> Thanks for you advice.
>
> The short invocation was what I had found in the radiance-online 
> archives, in which Greg gave a step by step approach. I did take your 
> advice and tried making the -x -y and -vf parameters explicit in the 
> second invocation. I no longer get the resolution mismatch error. 
> Also, although my image is only 500 by 500, the settings seem to be 
> sufficiently high enough that each piece takes at least a couple 
> minutes to render.
>
> However, a few things that I have noticed are:
> 1) when I use the "top" command, there are 4 rpict processes. 2 seem 
> to be active, and 2 are idle. I had assumed that there should be only 
> 3 rpict processes (2 active, and one waiting fork). 

Hmm. Actually, I think for 2 rpiece processes you should expect the 
following to appear under top:

    * rpiece - 2 instances (minimum), one for each invocation, and you
      may get more as well depending on how radiance was compiled, the
      "extra" ones are around to wait for data to be written out for a
      particular piece before exiting
    * rpict - 5 processes, I think that 1 is a listener that forks off
      processes as needed based on input from rpiece and then a reader
      and writer for each process, perhaps someone else can help clarify.

I suspect that you actually have an old rpict process hanging around. I 
suggest that you check the process table for rpict and rpiece now (when 
there is nothing running) and see if there are any processes reported. 
If so they may be left around from when the second rpiece was dieing and 
reporting its error. You should be able to use the following to check 
quickly for what you want:

ps aux | grep rpict
ps aux | grep rpiece

> 2) when I look over the output log, both processes are working on 
> frame 1, then again, both working on frame 2, etc. 

As far as the log is concerned this is ok. Each rpiece process will 
starting it frame counting at 1.

>
> 3) the final output .pic file only has the center (where the light 
> fixture is located) rendered, and the rest of the image is completely 
> black. 

I think that you should check the process table as indicated, make sure 
everything is cleaned up and start fresh. It is also possible that you 
are looking at an image that is still being rendered.

>
>
> I'm sure I'm making a dumb newbie mistake, but can't seem to figure 
> out what it is. Could you (or someone) post a detailed printout of 
> which commands with what parameters one would use to get a simple 
> rpiece process going?
>
> Thanks.
>
> (btw, my initial attempt at the rpiece command was adapted from Greg's 
> post a while back)
>
>
> John
>
> _________________________________
> Jack de Valpine wrote:
>
> John,
>
> We use rpiece but probably a little differently in terms of invocation.
> There are a couple of things to look at:
>
> 1. typo - there is a typo in your first command line you have --aa
> which should be -a
> 2. invocations - there is a short form for invoking rpiece after the
> initial invocation, which is what you are trying to do here. I
> would check the man page for rpiece carefully to make sure you are
> doing this correctly, it looks like you are leaving out the -x and
> -y image resolution parameters as well as the viewfile -vf from
> the short version of the invocation. As an alternative to keep
> things more "simple", I would suggest just calling exactly the
> same thing as the initial invocation. This could be coded into a
> simple script or makefile to save yourself some of the headache of
> typing the whole thing our or a potentially incorrect cut and paste.
> 3. scene complexity - depending on the simplicity or complexity of
> the scene you are trying to run here there is a another possible
> problem. If the scene is really simple and the image size small
> (500x500 is not that large) then the first rpiece process could
> have completed everything before the next invocation (I seem to
> recall that this may produce the same kind of message?) Are you
> getting a completed image?
>
> -Jack de Valpine
>
> John S. An wrote:
>
> > Hi all,
> >
> > I had followed Andrews discussion on resolution mismatch a few weeks
> > back. However, I seem to be running into a different type of
> > resolution mismatch problem right now.
> >
> > I am venturing into the world of parallel processing on a dual G5
> > Macintosh, and my first invocation of rpiece works fine.
> >
> > rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP
> > b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05 -dc 0.10
> > -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01 0.01 -aw
> > 1 -ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude -x
> > 500 -y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out
> > b_b_b.oct &
> >
> > However, when I try to start the second process
> >
> > rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst
> > b_b_b.oct &
> >
> > I get the error message
> >
> > rpiece: resolution mismatch on file "b_b_b_1_indirect_plan.pic
> >
> > I tried adjusting the -X -Y and -x -y parameters, but the same thing
> > happened. Just out of curiosity, I also tried adjusting the -av and
> > -aw to 0, and the same results.
> >
> >
> > I am certain that this is not a problem with a limit on the available
> > resource. The machine has 1.5GB of memory.
> >
> > Any hints as to what could be wrong?
> >
> >
> > Thanks.
> >
> > John


-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------000903090505050406050801
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Hey John,<br>
<br>
OK, a step in the right direction ;-&gt;, some other thought below....<br>
<br>
-Jack<br>
<br>
John S. An wrote:<br>
<blockquote type="cite"
 cite="mid6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com"><!-- Courier -->Jack, 
  <br>
  <br>
Thanks for you advice. <br>
  <br>
The short invocation was what I had found in the radiance-online archives,
in which Greg gave a step by step approach.  I did take your advice and tried
making the -x -y and -vf parameters explicit in the second invocation.  
 I no longer get the resolution mismatch error.  Also, although my image
is only 500 by 500, the settings seem to be sufficiently high enough that
each piece takes at least a couple minutes to render. <br>
  <br>
However, a few things that I have noticed are: <br>
1) when I use the "top" command, there are 4 rpict processes.  2 seem to
be active, and 2 are idle.  I had assumed that there should be only 3 rpict
processes (2 active, and one waiting fork). </blockquote>
Hmm. Actually, I think for 2 rpiece processes you should expect the following
to appear under top:<br>
<ul>
  <li>rpiece - 2 instances (minimum), one for each invocation, and you may
get more as well depending on how radiance was compiled, the "extra" ones
are around to wait for data to be written out for a particular piece before
exiting</li>
  <li>rpict - 5 processes, I think that 1 is a listener that forks off processes
as needed based on input from rpiece and then a reader and writer for each
process, perhaps someone else can help clarify.</li>
</ul>
I suspect that you actually have an old rpict process hanging around. I suggest
that you check the process table for rpict and rpiece now (when there is
nothing running) and see if there are any processes reported. If so they
may be left around from when the second rpiece was dieing and reporting its
error. You should be able to use the following to check quickly for what
you want:<br>
<br>
ps aux | grep rpict<br>
ps aux | grep rpiece<br>
<blockquote type="cite"
 cite="mid6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com">2) when I look over
the output log, both processes are working on frame 1, then again, both working
on frame 2, etc. </blockquote>
As far as the log is concerned this is ok. Each rpiece process will starting
it frame counting at 1.<br>
<blockquote type="cite"
 cite="mid6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com"><br>
3) the final output .pic file only has the center (where the light fixture
is located) rendered, and the rest of the image is completely black. </blockquote>
I think that you should check the process table as indicated, make sure everything
is cleaned up and start fresh. It is also possible that you are looking at
an image that is still being rendered.<br>
<blockquote type="cite"
 cite="mid6C8583AB-2F2B-11D8-B281-000A95871DF2@mac.com"><br>
  <br>
I'm sure I'm making a dumb newbie mistake, but can't seem to figure out what
it is.  Could you (or someone) post a detailed printout of which commands
with what parameters one would use to get a simple rpiece process going? <br>
  <br>
Thanks. <br>
  <br>
(btw, my initial attempt at the rpiece command was adapted from Greg's post
a while back) <br>
  <br>
  <br>
John <br>
  <br>
_________________________________ <br>
Jack de Valpine wrote: <br>
  <br>
John, <br>
  <br>
We use rpiece but probably a little differently in terms of invocation.  <br>
There are a couple of things to look at: <br>
  <br>
   1. typo - there is a typo in your first command line you have --aa <br>
      which should be -a <br>
   2. invocations - there is a short form for invoking rpiece after the <br>
      initial invocation, which is what you are trying to do here. I <br>
      would check the man page for rpiece carefully to make sure you are <br>
      doing this correctly, it looks like you are leaving out the -x and <br>
      -y image resolution parameters as well as the viewfile -vf  from <br>
      the short version of the invocation. As an alternative to keep <br>
      things more "simple", I would suggest just calling exactly the <br>
      same thing as the initial invocation. This could be coded into a <br>
      simple script or makefile to save yourself some of the headache of <br>
      typing the whole thing our or a potentially incorrect cut and paste. 
  <br>
   3. scene complexity - depending on the simplicity or complexity of <br>
      the scene you are trying to run here there is a another possible <br>
      problem. If the scene is really simple and the image size small <br>
      (500x500 is not that large) then the first rpiece process could <br>
      have completed everything  before the next invocation (I seem to <br>
      recall that this may produce the same kind of message?) Are you <br>
      getting a completed image? <br>
  <br>
-Jack de Valpine <br>
  <br>
John S. An wrote: <br>
  <br>
&gt;<i> Hi all, <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> I had followed Andrews discussion on resolution mismatch a
few weeks  <br>
  </i>&gt;<i> back.  However, I seem to be running into a different type
of  <br>
  </i>&gt;<i> resolution mismatch problem right now. <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> I am venturing into the world of parallel processing on a dual
G5  <br>
  </i>&gt;<i> Macintosh, and my first invocation of rpiece works fine. <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic
-PP  <br>
  </i>&gt;<i> b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05
-dc 0.10  <br>
  </i>&gt;<i> -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01
0.01 -aw  <br>
  </i>&gt;<i> 1 -ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude
-x  <br>
  </i>&gt;<i> 500 -y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out
 <br>
  </i>&gt;<i> b_b_b.oct &amp; <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> However, when I try to start the second process <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst
 <br>
  </i>&gt;<i> b_b_b.oct &amp; <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> I get the error message <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> rpiece: resolution mismatch on file "b_b_b_1_indirect_plan.pic 
  <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> I tried adjusting the -X -Y and -x -y parameters, but the same
thing  <br>
  </i>&gt;<i> happened.  Just out of curiosity, I also tried adjusting the
-av and  <br>
  </i>&gt;<i> -aw to 0, and the same results. <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> I am certain that this is not a problem with a limit on the
available  <br>
  </i>&gt;<i> resource.  The machine has 1.5GB of memory. <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> Any hints as to what could be wrong? <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> Thanks. <br>
  </i>&gt;<i> <br>
  </i>&gt;<i> John <br>
  </i> </blockquote>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------000903090505050406050801--


From radiance-general@radiance-online.org  Tue Dec 16 01:30:02 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Mon, 15 Dec 2003 17:30:02 -0800
Subject: [Radiance-general] Re: Picture Mapping CAL File
In-Reply-To: <BAY2-F123snU1UOJqXU0002eed8@hotmail.com>
References: <BAY2-F123snU1UOJqXU0002eed8@hotmail.com>
Message-ID: <5EB09DAA-2F67-11D8-AF90-000A95BB392A@lmi.net>

Hi Marcus,

I believe what you're looking for is defined in the main initialization 
file, rayinit.cal:

                         { Local (u,v) coordinates for planar surfaces }
crosslen`P = Nx*Nx + Ny*Ny;
                         { U is distance from projected Z-axis }
U = if( crosslen`P - FTINY,
                 (Py*Nx - Px*Ny)/crosslen`P,
                 Px);
                         { V is defined so that N = U x V }
V = if( crosslen`P - FTINY,
                 Pz - Nz*(Px*Nx + Py*Ny)/crosslen`P,
                 Py);

As such, you don't need to specify this file to use the U and V 
variables -- just put "." as a placeholder where the file would 
normally go.

-Greg

> From: "Marcus Jacobs" <marcdevon@hotmail.com>
> Date: December 14, 2003 8:00:02 AM PST
>
> Dear Group
>
> I remember in the past coming across a CAL file (not picture.cal) for 
> mapping 2D images onto 3 and 4 sided polygons. Does anyone know which 
> CAl file this is? I have been unable to find it.
>
>
>
> Thanks
>
>
> Marcus


From radiance-general@radiance-online.org  Tue Dec 16 02:09:59 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Mon, 15 Dec 2003 18:09:59 -0800
Subject: [Radiance-general] Re: [Fwd: spotlight definition]
In-Reply-To: <Pine.GSO.4.33.0312151108550.20437-100000@lithium.cen.brad.ac.uk>
References: <Pine.GSO.4.33.0312151108550.20437-100000@lithium.cen.brad.ac.uk>
Message-ID: <F35F377A-2F6C-11D8-AF90-000A95BB392A@lmi.net>

I know it's a bit strange, but since a spotlight sometimes acts like it 
originates behind its real position due to some magnification in its 
optics, this is a quick way to simulate the effect of a circular 
porthole on a distant source in the virtual focus position of the 
spotlight.  Since it's always preferable to apply an actual photometric 
distribution, this approximation is probably of limited utility.  Just 
use a short vector if you don't know what it means, or avoid the 
spotlight type altogether.

-Greg

> From: M BLOJ <M.Bloj@Bradford.ac.uk>
> Date: December 15, 2003 3:09:52 AM PST
>
> Subject: spotlight definition
> Date: Fri, 12 Dec 2003 17:46:11 +0000
> From: Alexa I. Ruppertsberg <a.i.ruppertsberg@bradford.ac.uk>
> Organization: University of Bradford
> To: radiance-general@radiance-online.org
>
> Hi,
>
> can somebody enlighten me what the 'amplitude' (I think it should be
> 'length') of the vector for the spotlight-definition does?
>
> Thanks,
>
> Alexa
>
> -- 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Dr. Alexa I. Ruppertsberg
> Department of Optometry
> University of Bradford
> Bradford
> BD7 1DP
> UK
>
> email: a.i.ruppertsberg@bradford.ac.uk
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From radiance-general@radiance-online.org  Tue Dec 16 16:35:38 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 16 Dec 2003 08:35:38 -0800
Subject: [Radiance-general] Re: [Fwd: spotlight definition]
In-Reply-To: <Pine.GSO.4.33.0312161515040.25699-100000@lithium.cen.brad.ac.uk>
References: <Pine.GSO.4.33.0312161515040.25699-100000@lithium.cen.brad.ac.uk>
Message-ID: <E1905C3A-2FE5-11D8-A8E1-000A95BB392A@lmi.net>

The weights correspond to the conversion matrix between Radiance's RGB 
color space and CIE XYZ (the Y channel, specifically).  This is not 
very well correlated to the V-lambda curve, because the conversion 
depends so strongly on the exact choice of red, green, and blue 
primaries.  In the case of Radiance and most standard RGB systems, the 
red primary is much closer to the peak of V-lambda than is the blue 
primary.  Thus, the contribution of the blue channel to luminance is 
much reduced.

I hope this explains things for you.
-Greg

> From: M BLOJ <M.Bloj@Bradford.ac.uk>
> Date: December 16, 2003 7:22:23 AM PST
>
> Hello,
> we are trying to get our heads around the weights in the equation for
> computing luminance: L=179*(0.265R+0.67G+0.065B). We do understand
> why one needs different weights for different channels, however we are
> surprised that the red channel has a higher weight than the blue
> channel. This does not correspond to what is known about human vision
> (V-lambda, the luminous efficiency function).
> We welcome any helpful comments about this matter.
>
> Marina & Alexa


From radiance-general@radiance-online.org  Tue Dec 16 19:37:25 2003
From: radiance-general@radiance-online.org (John S. An)
Date: Tue, 16 Dec 2003 14:37:25 -0500
Subject: [Radiance-general] Re: resolution mismatch revisited
In-Reply-To: <20031216110002.7883.14153.Mailman@radiance-on-linux.org>
References: <20031216110002.7883.14153.Mailman@radiance-on-linux.org>
Message-ID: <46CD5E64-2FFF-11D8-9690-000A95871DF2@mac.com>

Jack,

I think it's working now.  Actually, after following your initial 
advice of cleaning up, I think everything was working.

The problem of the black room was that all the surfaces had very low 
reflectances (somewhere in the order of 7% to 14%), and there was only 
one 100w incandescent bulb in the scene.  When I used the human option, 
then the space was visible.

So, I guess the moral of the story is clean up after yourself, and know 
what it is you are doing.

Thanks for you help.


John



On Dec 16, 2003, at 6:00 AM, 
radiance-general-request@radiance-online.org wrote:

> Hey John,
>
> OK, a step in the right direction ;->, some other thought below....
>
> -Jack
>
> John S. An wrote:
>
>> Jack,
>>
>> Thanks for you advice.
>>
>> The short invocation was what I had found in the radiance-online
>> archives, in which Greg gave a step by step approach. I did take your
>> advice and tried making the -x -y and -vf parameters explicit in the
>> second invocation. I no longer get the resolution mismatch error.
>> Also, although my image is only 500 by 500, the settings seem to be
>> sufficiently high enough that each piece takes at least a couple
>> minutes to render.
>>
>> However, a few things that I have noticed are:
>> 1) when I use the "top" command, there are 4 rpict processes. 2 seem
>> to be active, and 2 are idle. I had assumed that there should be only
>> 3 rpict processes (2 active, and one waiting fork).
>
> Hmm. Actually, I think for 2 rpiece processes you should expect the
> following to appear under top:
>
>     * rpiece - 2 instances (minimum), one for each invocation, and you
>       may get more as well depending on how radiance was compiled, the
>       "extra" ones are around to wait for data to be written out for a
>       particular piece before exiting
>     * rpict - 5 processes, I think that 1 is a listener that forks off
>       processes as needed based on input from rpiece and then a reader
>       and writer for each process, perhaps someone else can help 
> clarify.
>
> I suspect that you actually have an old rpict process hanging around. I
> suggest that you check the process table for rpict and rpiece now (when
> there is nothing running) and see if there are any processes reported.
> If so they may be left around from when the second rpiece was dieing 
> and
> reporting its error. You should be able to use the following to check
> quickly for what you want:
>
> ps aux | grep rpict
> ps aux | grep rpiece
>
>> 2) when I look over the output log, both processes are working on
>> frame 1, then again, both working on frame 2, etc.
>
> As far as the log is concerned this is ok. Each rpiece process will
> starting it frame counting at 1.
>
>>
>> 3) the final output .pic file only has the center (where the light
>> fixture is located) rendered, and the rest of the image is completely
>> black.
>
> I think that you should check the process table as indicated, make sure
> everything is cleaned up and start fresh. It is also possible that you
> are looking at an image that is still being rendered.
>
>>
>>
>> I'm sure I'm making a dumb newbie mistake, but can't seem to figure
>> out what it is. Could you (or someone) post a detailed printout of
>> which commands with what parameters one would use to get a simple
>> rpiece process going?
>>
>> Thanks.
>>
>> (btw, my initial attempt at the rpiece command was adapted from Greg's
>> post a while back)
>>
>>
>> John
>>
>> _________________________________
>> Jack de Valpine wrote:
>>
>> John,
>>
>> We use rpiece but probably a little differently in terms of 
>> invocation.
>> There are a couple of things to look at:
>>
>> 1. typo - there is a typo in your first command line you have --aa
>> which should be -a
>> 2. invocations - there is a short form for invoking rpiece after the
>> initial invocation, which is what you are trying to do here. I
>> would check the man page for rpiece carefully to make sure you are
>> doing this correctly, it looks like you are leaving out the -x and
>> -y image resolution parameters as well as the viewfile -vf from
>> the short version of the invocation. As an alternative to keep
>> things more "simple", I would suggest just calling exactly the
>> same thing as the initial invocation. This could be coded into a
>> simple script or makefile to save yourself some of the headache of
>> typing the whole thing our or a potentially incorrect cut and paste.
>> 3. scene complexity - depending on the simplicity or complexity of
>> the scene you are trying to run here there is a another possible
>> problem. If the scene is really simple and the image size small
>> (500x500 is not that large) then the first rpiece process could
>> have completed everything before the next invocation (I seem to
>> recall that this may produce the same kind of message?) Are you
>> getting a completed image?
>>
>> -Jack de Valpine
>>
>> John S. An wrote:
>>
>>> Hi all,
>>>
>>> I had followed Andrews discussion on resolution mismatch a few weeks
>>> back. However, I seem to be running into a different type of
>>> resolution mismatch problem right now.
>>>
>>> I am venturing into the world of parallel processing on a dual G5
>>> Macintosh, and my first invocation of rpiece works fine.
>>>
>>> rpiece -X 5 -Y 5 -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP
>>> b_b_b.pst -af b_b_b.amb -t 600 -vf ../views/plan.vf -dt 0.05 -dc 0.10
>>> -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 -av 0.01 0.01 0.01 -aw
>>> 1 -ab 2 ad 2048 -as 1024 --aa 0.05 -ar 256 -aE ../ambient_exclude -x
>>> 500 -y 500 -ms 2.7 -lr 12 -lw 0.0005 -ps 1 -pt 0.04 -e b_b_b.out
>>> b_b_b.oct &
>>>
>>> However, when I try to start the second process
>>>
>>> rpiece -F b_b_b_sync -o b_b_b_1_indirect_plan.pic -PP b_b_b.pst
>>> b_b_b.oct &
>>>
>>> I get the error message
>>>
>>> rpiece: resolution mismatch on file "b_b_b_1_indirect_plan.pic
>>>
>>> I tried adjusting the -X -Y and -x -y parameters, but the same thing
>>> happened. Just out of curiosity, I also tried adjusting the -av and
>>> -aw to 0, and the same results.
>>>
>>>
>>> I am certain that this is not a problem with a limit on the available
>>> resource. The machine has 1.5GB of memory.
>>>
>>> Any hints as to what could be wrong?
>>>
>>>
>>> Thanks.
>>>
>>> John
>
>
> -- 
> #	John E. de Valpine
> #	president
> #
> #	visarc incorporated
> #	http://www.visarc.com
> #
> #	channeling technology for superior design and construction
>


From radiance-general@radiance-online.org  Tue Dec 16 21:09:17 2003
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Tue, 16 Dec 2003 16:09:17 -0500
Subject: [Radiance-general] Re: resolution mismatch revisited
References: <20031216110002.7883.14153.Mailman@radiance-on-linux.org> <46CD5E64-2FFF-11D8-9690-000A95871DF2@mac.com>
Message-ID: <3FDF747D.6070003@visarc.com>

Hi John,

Great glad it worked out. I think the moral of the story (any radiance 
story), is to wade in, get your hand dirty and see what happens. Good job.

-Jack

John S. An wrote:

> Jack,
>
> I think it's working now.  Actually, after following your initial 
> advice of cleaning up, I think everything was working.
>
> The problem of the black room was that all the surfaces had very low 
> reflectances (somewhere in the order of 7% to 14%), and there was only 
> one 100w incandescent bulb in the scene.  When I used the human 
> option, then the space was visible.
>
> So, I guess the moral of the story is clean up after yourself, and 
> know what it is you are doing.
>
> Thanks for you help.
>
>
> John


-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From radiance-general@radiance-online.org  Tue Dec 16 21:48:13 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Tue, 16 Dec 2003 16:48:13 -0500
Subject: [Radiance-general] Re: resolution mismatch revisited
In-Reply-To: <3FDF747D.6070003@visarc.com>
References: <20031216110002.7883.14153.Mailman@radiance-on-linux.org> <46CD5E64-2FFF-11D8-9690-000A95871DF2@mac.com> <3FDF747D.6070003@visarc.com>
Message-ID: <3FDF7D9D.2030506@rumblestrip.org>

Jack de Valpine wrote:
> Great glad it worked out. I think the moral of the story (any radiance 
> story), is to wade in, get your hand dirty and see what happens.

Hi Jack,

I followed your instructions, here's what happened:
my feet are wet and my hand is dirty. ;)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Tue Dec 16 21:46:53 2003
From: radiance-general@radiance-online.org (genevieve lucet)
Date: Tue, 16 Dec 2003 15:46:53 -0600
Subject: [Radiance-general] macbeth gamut and coordinates
Message-ID: <5CCC0BDC-3011-11D8-9203-000A95D7C672@servidor.unam.mx>

I need to correct the color of mural painting photographs and I am 
trying to do it using macbethcal. I observe that several colors are out 
of gamut  (diagonal lines are visible). When I apply macbethcal to the 
image ¨macbeth_spec.pic¨ that is included with radiance,  the yellow 
square shows the same problem.
Is it only a display problem or does it involve the calculation of the 
colors?

The chart has rounded corner. This is why I would prefer to put the 
coordinates of the color squares instead of the coordinates of the 
chart. Does it matter?

This part is not a radiance problem but if somebody can help, .. I am 
looking for a software to correct the distortion of these images to 
obtain orthophotos of these paintings.

  genevieve lucet



From radiance-general@radiance-online.org  Tue Dec 16 23:23:09 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 16 Dec 2003 15:23:09 -0800
Subject: [Radiance-general] macbeth gamut and coordinates
In-Reply-To: <5CCC0BDC-3011-11D8-9203-000A95D7C672@servidor.unam.mx>
References: <5CCC0BDC-3011-11D8-9203-000A95D7C672@servidor.unam.mx>
Message-ID: <CF868D03-301E-11D8-B13C-000A95BB392A@lmi.net>

> From: genevieve lucet <lucet@servidor.unam.mx>
> Date: December 16, 2003 1:46:53 PM PST
>
> I need to correct the color of mural painting photographs and I am 
> trying to do it using macbethcal. I observe that several colors are 
> out of gamut  (diagonal lines are visible). When I apply macbethcal to 
> the image (macbeth_spec.pic( that is included with radiance,  the 
> yellow square shows the same problem.
> Is it only a display problem or does it involve the calculation of the 
> colors?

When colors are shown as "out of gamut" by macbethcal, it simply means 
that they fell outside of what macbethcal decides is the capture 
systems color gamut.  These colors are then ignored.  If macbethcal 
warns about "moderate colors out of gamut," it may be that the input 
color space is not behaving as expected, and the results may not be 
quite right.

> The chart has rounded corner. This is why I would prefer to put the 
> coordinates of the color squares instead of the coordinates of the 
> chart. Does it matter?

It doesn't matter much, as there is a bit of leeway in selecting the 
patches, but macbethcal expects you to give the corners of the color 
patches rather than the chart itself.

> This part is not a radiance problem but if somebody can help, .. I am 
> looking for a software to correct the distortion of these images to 
> obtain orthophotos of these paintings.

Photoshop has a perspective warp feature that may be used for this.

-Greg


From radiance-general@radiance-online.org  Wed Dec 17 00:48:18 2003
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Tue, 16 Dec 2003 17:48:18 -0700
Subject: [Radiance-general] Radiance animation questions
Message-ID: <3FDFA7D2.2090503@archenergy.com>

Hello group,

I am attempting my first full blown Radiance animation and have several 
related questions.  This link has a rough version of the animation, done 
with -ab 0.

http://www.archenergy.com/downloads/pub/images/Radiance/walkthrough_init3.mov

and yes, i seem to trip up the curb, have several neck spasms, and stare 
at a wall at one point....all have since been fixed but this leads to my 
first question.

1.) What programs do people use to produce animation paths?  I initially 
wanted to use rshow but couldn't get it working on our Suse 8.2.  I 
understand programs like maya, studio vis, form-z?? have the ability to 
generate these animations paths but are too much (expensive) for what I 
need.  It would be nice to be able to just export my spline path from 
autoCAD and then have the ability to adjust frames/sec, slow down 
portions of the path, and adjust the view direction throughout.

2.) There are portions of this path that I want to slow down and I 
wanted to use pinterp to interpolate some extra frames.  How can I 
generate a z-buffer file for a view without recreating the picture?  I 
thought I could just run it at very low settings if nothing else.  And 
yes, I am running ranimate using the windows version (our linux machines 
were filled up with CFD calcs at go time and I was forced to use our NT 
machines - btw: ranimate does not work on XP - error "Windows socket 
operations not supported") and it is giving errors using INTERPOLATE and 
MBLUR which would have created the zbf files automatically.  Hence, I 
was planning on using pinterp afterwards to achieve interpolation but 
now I have no z-buffer files.  which leads to my next questions....

3.) Where is pinterp?  I just installed the HEAD version on our linux 
machines (yes, its been a while since I last dabbled in the linux 
release) and i can't find pinterp.  It shows up in the man pages but not 
in the bin directory.  BTW - pinterp does not seem to work in the 
windows version either.

4.) So, we then tried to install the last official release 3.5 and it 
gave us a bunch of errors.  The error log is here.  Help!

http://www.archenergy.com/downloads/pub/images/Radiance/installLog.txt

5.) Using an ambfile does not seem to be doing much for my animation 
times?  I was expecting a big decrease in calc time the further i got 
into my animation but at about 5/6 through it has not sped up much.  It 
has been building the ambient file the whole time, although it is only 
7MB after roughly 1000 frames, which seems too small (10 panoramic views 
I've been running on a different machine already has an ambient file of 
7MB).  Here is what one of my ranfiles looks like:

DIRECTORY = anim/walkthrough_sect2
VIEWFILE = anim_path2.pts
START = 311
END = 622
OCTREE = octrees/bc.oct
RESOLUTION = 768
render = -av 2.5 2.5 2.5 -ar 46 -aa .1 -ad 4096 -as 2048 -ab 1 -af 
ambfiles/bc.amb
render = -dp 512 -ds .3 -dj 0 -dt 0.2 -dr 1 -dc .5
render = -lr 6 -lw .002 -sj .9 -st 0.01

6.) Any suggestions on the parameters used?  I am no expert on 
optimizing parameters.  These parameters give me a fairly good image 
with about 1/2 hour calc time (which was the speed needed to meet 
deadline).  But there are still a few splotches, the light from my 
electric lights is a little too crisp, and I am not too happy with the 
specular reflections.  You can see the quality I am getting in one of 
the final images here:

http://www.archenergy.com/downloads/pub/images/Radiance/frame741.tif

7.) As can be seen, I have many curved surfaces in this model most of 
which have been faceted.  I would like to use a function to smooth the 
shading on these.  Is there any way to do this given the geometry is 
already built?  Something like the Phong shading -s option in gensurf or 
maybe with the new mesh primitive???  I apologize for my ignorance on 
this topic, I rarely require this much detail.  I'm imagining a modifier 
or something I could give to the polygons I want to smooth over.

8.) I was initially mapping wood grain onto a lot of the interior wood 
surfaces but given the varying distances of the wood I could never get 
it to look very good.  When it looked good up close, it looks like 
particle board far away.  And when it looks good far away (ie larger 
scale) it looks like a zebra up close.  I would like to have the grain 
at the correct scale, but don't want it looking like particle board (i'm 
assuming this is just cause there are limited number of pixels to 
display this detail).  What strategies have others used to get a good 
looking pattern at varying distances?  Also, I would like to map the 
textures better onto these surfaces rather than using xgrain, 
ygrain...etc.  How could this be done?

Sorry for the long e-mail and so many questions clumped into one and the 
various tangents my questions may have took.

Best Regards,
Zack

-- 
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
http://www.archenergy.com



From radiance-general@radiance-online.org  Wed Dec 17 01:23:40 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Tue, 16 Dec 2003 19:23:40 -0600
Subject: [Radiance-general] Radiance animation questions
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69266@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3C43C.673CB720
Content-Type: text/plain;
	charset="iso-8859-1"

I'm going to take a stab at one question - I've been using obj2mesh


7.) As can be seen, I have many curved surfaces in this model most of 
which have been faceted.  I would like to use a function to smooth the 
shading on these.  Is there any way to do this given the geometry is 
already built?  Something like the Phong shading -s option in gensurf or

maybe with the new mesh primitive???  I apologize for my ignorance on 
this topic, I rarely require this much detail.  I'm imagining a modifier

or something I could give to the polygons I want to smooth over.

You can use obj2mesh to get  smooth shading
Isolate the curved surfaces and export them as .obj  run obj2mesh, put the
.rtm into a .rad
here's a big honkin long URL that explains efforts to get phong shading with
textures
http://www.daiservices.btinternet.co.uk/Radiance/Radiance_v3_5_UNIX/Phong_sh
ading_and_bitmap_textures/Phong_shading_and_bitmap_textures.htm
Near the bottom is an obj2mesh example... posted by John Graham  of  Digital
Architectural Illustration Services


The new OBJ2MESH utility is another way of importing a mesh object into
RADIANCE and rendering with both phong smoothing and UV mapping
co-ordinates. Ensure that RADIANCE 3.6A (patched V3.5) or greater is used.


obj2mesh -a Cyl01.mtl -n 15 Cyl01.obj Cyl01.rtm


Once the .RTM and corresponding .RAD files have been created, a material can
be specified to utilise both the UV mapping co-ordinates and smoothing data.
Below is a possible example of an appropriate material definition (note the
dot between the bitmap name and Lu and the necessary second modifier
Mat.Wood):


void colorpict Mat.WoodGrain
7 red green blue ashwood.pic . Lu Lv
0
0

Mat.WoodGrain plastic Mat.Wood
0
0
5 0.75 0.75 0.75 0 0

Mat.Wood mesh CYLIN
1 Cyl01.rtm
0
0

HTH

Rob F



------_=_NextPart_001_01C3C43C.673CB720
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RE: [Radiance-general] Radiance animation questions</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I'm going to take a stab at one question - I've been =
using obj2mesh</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>7.) As can be seen, I have many curved surfaces in =
this model most of </FONT>
<BR><FONT SIZE=3D2>which have been faceted.&nbsp; I would like to use a =
function to smooth the </FONT>
<BR><FONT SIZE=3D2>shading on these.&nbsp; Is there any way to do this =
given the geometry is </FONT>
<BR><FONT SIZE=3D2>already built?&nbsp; Something like the Phong =
shading -s option in gensurf or</FONT>
</P>

<P><FONT SIZE=3D2>maybe with the new mesh primitive???&nbsp; I =
apologize for my ignorance on </FONT>
<BR><FONT SIZE=3D2>this topic, I rarely require this much detail.&nbsp; =
I'm imagining a modifier</FONT>
</P>

<P><FONT SIZE=3D2>or something I could give to the polygons I want to =
smooth over.</FONT>
</P>

<P><FONT SIZE=3D2>You can use obj2mesh to get&nbsp; smooth =
shading</FONT>
<BR><FONT SIZE=3D2>Isolate the curved surfaces and export them as =
.obj&nbsp; run obj2mesh, put the .rtm into a .rad</FONT>
<BR><FONT SIZE=3D2>here's a big honkin long URL that explains efforts =
to get phong shading with textures</FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"http://www.daiservices.btinternet.co.uk/Radiance/Radiance_v3_5_U=
NIX/Phong_shading_and_bitmap_textures/Phong_shading_and_bitmap_textures.=
htm" =
TARGET=3D"_blank">http://www.daiservices.btinternet.co.uk/Radiance/Radia=
nce_v3_5_UNIX/Phong_shading_and_bitmap_textures/Phong_shading_and_bitmap=
_textures.htm</A></FONT></P>

<P><FONT SIZE=3D2>Near the bottom is an obj2mesh example... posted by =
John Graham&nbsp; of&nbsp; Digital Architectural Illustration =
Services</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>The new OBJ2MESH utility is another way of importing =
a mesh object into RADIANCE and rendering with both phong smoothing and =
UV mapping co-ordinates. Ensure that RADIANCE 3.6A (patched V3.5) or =
greater is used.</FONT></P>
<BR>

<P><FONT SIZE=3D2>obj2mesh -a Cyl01.mtl -n 15 Cyl01.obj =
Cyl01.rtm</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Once the .RTM and corresponding .RAD files have been =
created, a material can be specified to utilise both the UV mapping =
co-ordinates and smoothing data. Below is a possible example of an =
appropriate material definition (note the dot between the bitmap name =
and Lu and the necessary second modifier Mat.Wood):</FONT></P>
<BR>

<P><FONT SIZE=3D2>void colorpict Mat.WoodGrain</FONT>
<BR><FONT SIZE=3D2>7 red green blue ashwood.pic . Lu Lv</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
</P>

<P><FONT SIZE=3D2>Mat.WoodGrain plastic Mat.Wood</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>5 0.75 0.75 0.75 0 0</FONT>
</P>

<P><FONT SIZE=3D2>Mat.Wood mesh CYLIN</FONT>
<BR><FONT SIZE=3D2>1 Cyl01.rtm</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
</P>

<P><FONT SIZE=3D2>HTH</FONT>
</P>

<P><FONT SIZE=3D2>Rob F</FONT>
</P>
<BR>

</BODY>
</HTML>
------_=_NextPart_001_01C3C43C.673CB720--

From radiance-general@radiance-online.org  Wed Dec 17 02:42:09 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Tue, 16 Dec 2003 21:42:09 -0500 (EST)
Subject: [Radiance-general] Radiance animation questions
In-Reply-To: <3FDFA7D2.2090503@archenergy.com>
References: <3FDFA7D2.2090503@archenergy.com>
Message-ID: <Pine.BSF.4.58.0312162139000.37309@emancholl.pair.com>

Zack Rogers wrote:

> i seem to trip up the curb, have several neck spasms, and stare
> at a wall at one point....

You may also want to set the exposure to a fixed value, resp. one
for exterior and one for interior shots.


> 2.) There are portions of this path that I want to slow down and I
> wanted to use pinterp to interpolate some extra frames.  How can I
> generate a z-buffer file for a view without recreating the picture?
> I thought I could just run it at very low settings if nothing else.

That's the easiest way I can think of.


> btw: ranimate does not work on XP - error "Windows socket
> operations not supported") and it is giving errors using INTERPOLATE and
> MBLUR which would have created the zbf files automatically.

Ranimate is one of the really hard ones to port to non-posix
platforms, which is probably the reason why the folks doing it
for DR left it at "good enough".


> 3.) Where is pinterp?  I just installed the HEAD version on our linux
> machines (yes, its been a while since I last dabbled in the linux
> release) and i can't find pinterp.

Should be there. Are you sure you installed the additional
support package before building? Because otherwise you're missing
out on the tifflib, which will cause other stuff in the same
directory not to get built (even if it doesn't actually use the
tifflib).


>  BTW - pinterp does not seem to work in the
> windows version either.

Try to make sure that the file paths you feed to pinterp are as
short as possible (ie. use relative paths). This is fixed in
HEAD, but many of the picture manipulation programs used to
suffer from buffer overflows when comand lines got too long.


> 4.) So, we then tried to install the last official release 3.5

Use your HEAD! ;)


> 5.) Using an ambfile does not seem to be doing much for my animation
> times?

I'm not sure about that, but the ambient file may have limited
savings effects with just one ambient bounce. You're also moving
around a lot, so that most of your previous ambient values will
be irrelevant for the part of the scene you're looking at a few
frames later.


> 6.) Any suggestions on the parameters used?

You'll have to bribe Jack to reveal some of his secrets... ;)


> 7.) As can be seen, I have many curved surfaces in this model most of
> which have been faceted.  I would like to use a function to smooth the
> shading on these.  Is there any way to do this given the geometry is
> already built?

Some future versions of Radout and dxf2rad may do this (with the
new mesh primitive), but it's not an urgent issue for me as long
as Rayfront still uses Radiance 3.1/3.2.


> 8.) I was initially mapping wood grain onto a lot of the interior wood
> surfaces but given the varying distances of the wood I could never get
> it to look very good.  When it looked good up close, it looks like
> particle board far away.

You'd need to do oversized renderings and filter them down to
avoid the particle look in distant patterns. On the other hand,
there's no real point in mapping a wood grain pattern to surfaces
that you never look at from up close.


>   Also, I would like to map the
> textures better onto these surfaces rather than using xgrain,
> ygrain...etc.  How could this be done?

There's an "arbmap.cal" included with Rayfront for that (and it
should also be in the archives here somewhere for those who don't
have that).


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From radiance-general@radiance-online.org  Wed Dec 17 03:49:28 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 16 Dec 2003 19:49:28 -0800
Subject: [Radiance-general] Radiance animation questions
In-Reply-To: <3FDFA7D2.2090503@archenergy.com>
References: <3FDFA7D2.2090503@archenergy.com>
Message-ID: <038CC692-3044-11D8-95AE-000A95BB392A@lmi.net>

Hi Zack,

Nice animation, even with the path problems.  This is quite a model.   
I'll address your questions inline...

> From: Zack Rogers <zrogers@archenergy.com>
> Date: December 16, 2003 4:48:18 PM PST
>
> Hello group,
>
> I am attempting my first full blown Radiance animation and have  
> several related questions.  This link has a rough version of the  
> animation, done with -ab 0.
>
> http://www.archenergy.com/downloads/pub/images/Radiance/ 
> walkthrough_init3.mov
>
> and yes, i seem to trip up the curb, have several neck spasms, and  
> stare at a wall at one point....all have since been fixed but this  
> leads to my first question.
>
> 1.) What programs do people use to produce animation paths?  I  
> initially wanted to use rshow but couldn't get it working on our Suse  
> 8.2.  I understand programs like maya, studio vis, form-z?? have the  
> ability to generate these animations paths but are too much  
> (expensive) for what I need.  It would be nice to be able to just  
> export my spline path from autoCAD and then have the ability to adjust  
> frames/sec, slow down portions of the path, and adjust the view  
> direction throughout.

I posted something to the list about a year ago on generating animation  
paths, which I've attached to this message.  Perhaps this can help.

> 2.) There are portions of this path that I want to slow down and I  
> wanted to use pinterp to interpolate some extra frames.  How can I  
> generate a z-buffer file for a view without recreating the picture?  I  
> thought I could just run it at very low settings if nothing else.  And  
> yes, I am running ranimate using the windows version (our linux  
> machines were filled up with CFD calcs at go time and I was forced to  
> use our NT machines - btw: ranimate does not work on XP - error  
> "Windows socket operations not supported") and it is giving errors  
> using INTERPOLATE and MBLUR which would have created the zbf files  
> automatically.  Hence, I was planning on using pinterp afterwards to  
> achieve interpolation but now I have no z-buffer files.  which leads  
> to my next questions....

You can take out all your light sources, and this should give you a  
fast rendering of the z-buffer if that's all you're after.  With one  
source (the sun) and no indirect, there shouldn't be much difference  
from rendering all over, though.  (Also set -st 1 to avoid specular  
sampling -- then it's just like ray casting, really.)

> 3.) Where is pinterp?  I just installed the HEAD version on our linux  
> machines (yes, its been a while since I last dabbled in the linux  
> release) and i can't find pinterp.  It shows up in the man pages but  
> not in the bin directory.  BTW - pinterp does not seem to work in the  
> windows version either.

Beats me.  It should compile OK -- maybe you had a problem with ra_tiff  
or something and the files in src/px weren't installed as a result.  Go  
into src/px and run "rmake -k install" manually to see what happens.

> 4.) So, we then tried to install the last official release 3.5 and it  
> gave us a bunch of errors.  The error log is here.  Help!
>
> http://www.archenergy.com/downloads/pub/images/Radiance/installLog.txt

There's no fixing the 3.5 build on Linux at this point.  You have to  
work from the binaries or the HEAD -- sorry!

> 5.) Using an ambfile does not seem to be doing much for my animation  
> times?  I was expecting a big decrease in calc time the further i got  
> into my animation but at about 5/6 through it has not sped up much.   
> It has been building the ambient file the whole time, although it is  
> only 7MB after roughly 1000 frames, which seems too small (10  
> panoramic views I've been running on a different machine already has  
> an ambient file of 7MB).  Here is what one of my ranfiles looks like:
>
> DIRECTORY = anim/walkthrough_sect2
> VIEWFILE = anim_path2.pts
> START = 311
> END = 622
> OCTREE = octrees/bc.oct
> RESOLUTION = 768
> render = -av 2.5 2.5 2.5 -ar 46 -aa .1 -ad 4096 -as 2048 -ab 1 -af  
> ambfiles/bc.amb
> render = -dp 512 -ds .3 -dj 0 -dt 0.2 -dr 1 -dc .5
> render = -lr 6 -lw .002 -sj .9 -st 0.01

The time reduction after the first frame isn't noticeable as it doesn't  
progress much from there -- each new frame adds incrementally to the  
ambient file.  You are still much better off than not using one (MUCH),  
but don't expect your rendering times to continue decreasing as the  
animation progresses.

> 6.) Any suggestions on the parameters used?  I am no expert on  
> optimizing parameters.  These parameters give me a fairly good image  
> with about 1/2 hour calc time (which was the speed needed to meet  
> deadline).  But there are still a few splotches, the light from my  
> electric lights is a little too crisp, and I am not too happy with the  
> specular reflections.  You can see the quality I am getting in one of  
> the final images here:
>
> http://www.archenergy.com/downloads/pub/images/Radiance/frame741.tif

Looks pretty good to my eyes.  You could improve rendering times by  
removing some of the fussy details from the ambient calcultion with an  
ambient exclude file (-aE mat_excl.txt option).  I would remove the  
window frames in particular.  You might also increase your -ar value,  
as 45 seems very low for a model of this size, especially with all the  
exterior geometry.  I think you're losing resolution on the  
interreflection calculation as a result.  Divide the octree cube size  
(getinfo -d octree) by the length of your arm in your world  
coordinates, and that should give you a reasonable number.

> 7.) As can be seen, I have many curved surfaces in this model most of  
> which have been faceted.  I would like to use a function to smooth the  
> shading on these.  Is there any way to do this given the geometry is  
> already built?  Something like the Phong shading -s option in gensurf  
> or maybe with the new mesh primitive???  I apologize for my ignorance  
> on this topic, I rarely require this much detail.  I'm imagining a  
> modifier or something I could give to the polygons I want to smooth  
> over.

gensurf will take an ordered list of vertices on a grid and interpolate  
normals, but without simple connectivity, there's no general way to do  
this for an arbitrary mesh.  Obj2mesh won't do it either -- normals and  
(u,v) need to be specified on the input if you want them in your  
output.  You can pass the output of the new version of gensurf with the  
-o option to obj2mesh, however.

> 8.) I was initially mapping wood grain onto a lot of the interior wood  
> surfaces but given the varying distances of the wood I could never get  
> it to look very good.  When it looked good up close, it looks like  
> particle board far away.  And when it looks good far away (ie larger  
> scale) it looks like a zebra up close.  I would like to have the grain  
> at the correct scale, but don't want it looking like particle board  
> (i'm assuming this is just cause there are limited number of pixels to  
> display this detail).  What strategies have others used to get a good  
> looking pattern at varying distances?  Also, I would like to map the  
> textures better onto these surfaces rather than using xgrain,  
> ygrain...etc.  How could this be done?

Regarding sampling errors, you can use the fade(near_val,far_val,T)  
function defined in rayinit.cal to use an average value at distances.   
Otherwise, you have to rely on oversampling to clear up these problems,  
which we know is expensive.

Regarding arbitrary mapping onto surfaces, I don't have a good solution  
for woodgrain, which is a solid texture.  You sort of have to decide  
what the general orientation of your object is, or it's not going to  
look right.  The only other option is to get (u,v) coordinates into a  
.OBJ model and export through obj2mesh.

> Sorry for the long e-mail and so many questions clumped into one and  
> the various tangents my questions may have took.
>
> Best Regards,
> Zack
>

---- From radiance-general archives ----

Date: Wed, 27 Nov 2002 10:04:58 -0800
From: Greg Ward <gward@lmi.net>
To: radiance-general@radiance-online.org
Subject: Re: how to specify the animation path

Hi Gurneet,

There really needs to be a FAQ on generating animation paths.  Peter
Apian-Bennewitz wrote a program called rshow that may be used to
interactively walk through a space using OpenGL rendering, and has
options for storing keyframes and generating view sequences, which may
then be rendered in batch mode or using ranimate.

I often choose keyframes myself in rview (or the new rholo program),
utilizing the "view" or 'V' commands to output views at desired points
along the animation path.  These may then be constructed into a path
using a spline generator or the spline.cal program that may be found in
ray/src/cal/cal in the radiance distribution.  You take the views
output by rview or rholo, which look like so (these are not commands --
they are views stored by rview into a file):

rview -vtv -vp 5.46 15.5 4.2 -vd 0.91674 0.347628 -0.196833 -vu 0 0 1  
-vh 60 -vv 49 -vs 0 -vl 0 -t 1
rview -vtv -vp 10.5 15.6 4.2 -vd 0.9896 -0.1408 -0.0294619 -vu 0 0 1  
-vh 60 -vv 49 -vs 0 -vl 0 -t 2
rview -vtv -vp 20.4 13.7 4.2 -vd 0.680414 -0.680414 -0.272166 -vu 0 0 1  
-vh 60 -vv 49 -vs 0 -vl 0 -t 4

The -t options at the end were added manually, indicating the expected
distance (in seconds) between the previous frame and this one.  These
options may be added within rview may appending them to the view
command, like so:

: view key.vf -t 2

Once you have the above file (key.vf), you can create a format file for
rcalc to extract the values you are interested in, and pass these to
the tabfunc program to get them into the form you need for spline.cal.
Create a file called "key.fmt" that contains the following single line:

rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh  
${vh} -vv ${vv} -vs 0 -vl 0 -t ${t}

Then, run the following command to extract the desired values from your
keyframe file and put them into a form that may be passed to rcalc as a
.cal file:

% rcalc -i key.fmt -e
'$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz;$8=vh;$9=vv;$10=t' key.vf  
\
	| tabfunc Px Py Pz Dx Dy Dz H V T > key.cal

This new file, "key.cal", may then be used with rcalc to generate a set
of desired inbetween views, spaced evenly in time.  If your total sum
of times is 30 seconds, for example, and you want to render 10
frames/sec, you might use the following command to generate the
individual frame views for ranimate:

% cnt 300 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/10' \
	-e  
'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)'  
 > anim.vf

In this command, I have used the same "key.fmt" file to generate the
animation views, but you may want to produce something slightly
different, which had only the changing view point and direction, for
example.  The above sequence allows you to vary the view position,
direction, and zoom, but does not permit the up vector to change.  This
is rarely needed, but if you do have a tilting camera, you can always
modify the commands to include this information.

I hope this is enough to get you started.  Another excellent place to
look for tips is Peter's chapter on animation in "Rendering with
Radiance."

-Greg


From radiance-general@radiance-online.org  Wed Dec 17 06:30:56 2003
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Wed, 17 Dec 2003 07:30:56 +0100
Subject: [Radiance-general] Radiance animation questions
In-Reply-To: <3FDFA7D2.2090503@archenergy.com>
References: <3FDFA7D2.2090503@archenergy.com>
Message-ID: <3FDFF820.2020308@pab-opto.de>

Zack Rogers wrote:

> Hello group,
>
> I am attempting my first full blown Radiance animation and have 
> several related questions.  This link has a rough version of the 
> animation, done with -ab 0.
>
> http://www.archenergy.com/downloads/pub/images/Radiance/walkthrough_init3.mov
>
> and yes, i seem to trip up the curb, have several neck spasms, and 
> stare at a wall at one point....all have since been fixed but this 
> leads to my first question.
>
> 1.) What programs do people use to produce animation paths?  I 
> initially wanted to use rshow but couldn't get it working on our Suse 
> 8.2.  I understand programs like maya, studio vis, form-z?? have the 
> ability to generate these animations paths but are too much 
> (expensive) for what I need.  It would be nice to be able to just 
> export my spline path from autoCAD and then have the ability to adjust 
> frames/sec, slow down portions of the path, and adjust the view 
> direction throughout. 

rshow is high on my todo list, but I can't promise any deadlines, - up 
to my neck in other things . The Open-GL version doesn't offer animation 
paths (apart from it not being ported to R3.5- shame!), but will 
(promises....).

> 2.) There are portions of this path that I want to slow down and I 
> wanted to use pinterp to interpolate some extra frames.  How can I 
> generate a z-buffer file for a view without recreating the picture?  I 
> thought I could just run it at very low settings if nothing else.  And 
> yes, I am running ranimate using the windows version (our linux 
> machines were filled up with CFD calcs at go time and I was forced to 
> use our NT machines - btw: ranimate does not work on XP - error 
> "Windows socket operations not supported") and it is giving errors 
> using INTERPOLATE and MBLUR which would have created the zbf files 
> automatically.  Hence, I was planning on using pinterp afterwards to 
> achieve interpolation but now I have no z-buffer files.  which leads 
> to my next questions.... 

pinterp is great, but fails at reflections or refractions (which is 
probably why you thought of using it piecewise anyway)

> 3.) Where is pinterp?  I just installed the HEAD version on our linux 
> machines (yes, its been a while since I last dabbled in the linux 
> release) and i can't find pinterp.  It shows up in the man pages but 
> not in the bin directory.  BTW - pinterp does not seem to work in the 
> windows version either.
>
> 4.) So, we then tried to install the last official release 3.5 and it 
> gave us a bunch of errors.  The error log is here.  Help!
>
> http://www.archenergy.com/downloads/pub/images/Radiance/installLog.txt
>
> 5.) Using an ambfile does not seem to be doing much for my animation 
> times?  I was expecting a big decrease in calc time the further i got 
> into my animation but at about 5/6 through it has not sped up much.  
> It has been building the ambient file the whole time, although it is 
> only 7MB after roughly 1000 frames, which seems too small (10 
> panoramic views I've been running on a different machine already has 
> an ambient file of 7MB).  Here is what one of my ranfiles looks like: 

For the long ISE outside animation, I had to pre-run along the path 
mulitple times at low res to fill up the ambient file. Be sure that it 
is fairly "stable" and has enough ambient points, otherwise it 
"discovers" more light during the main animation, leading to brightness 
jumps or flicker (depends on the sequence of generation of the image 
frames).

> ....
>
> 6.) Any suggestions on the parameters used?  I am no expert on 
> optimizing parameters.

Which you probably will be, after you finished the animation on time ....

> ...
>
> 7.) As can be seen, I have many curved surfaces in this model most of 
> which have been faceted.  I would like to use a function to smooth the 
> shading on these.

Nop - the info is lost. Theoretecally one could fit a spline surface to 
the polygons and approximate the surface normal by this, but the better 
solutions is to export the surface normals from the CAD too. Some CAD 
export VRML format, which may contain normals.

> ...
>
> 8.) I was initially mapping wood grain onto a lot of the interior wood 
> surfaces but given the varying distances of the wood I could never get 
> it to look very good.

RenderMan (and probably others) use different textures/patterns 
depending on distance (more exactly on the solid angle the pixel 
covers).  This angle is not supplied in the function files (at least it 
wasn't when I discussed that with Greg two years ago), so view dependent 
textures are a bit tricky to do. One reason for not making it available 
was that it is known in rvu/rpict, but not rtrace. If we agree (on 
radiance-dev) it would be useful, I'd be happy to see this variable.

>   When it looked good up close, it looks like particle board far away.  

Your spatial resolution has to be very high to avoid aliasing.

> ...


cheers
Peter


-- 
 pab-opto, Freiburg, Germany, www.pab-opto.de



From radiance-general@radiance-online.org  Wed Dec 17 07:08:53 2003
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Wed, 17 Dec 2003 00:08:53 -0700
Subject: [Radiance-general] Radiance animation questions
References: <20031217012501.9268.81987.Mailman@radiance-on-linux.org>
Message-ID: <3FE00105.8060601@archenergy.com>

--------------030304080303080607090905
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi Rob,

Thanks for the input!  I had seen that webpage before, I guess I was 
hoping I didn't have to export to obj or 3ds from my CAD file, although 
that really shouldn't be too difficult.

So, I took one of my objects I wanted to smooth and exported it as a 3ds 
file.  I use AutoCAD 2000 and could not see any way to export as an obj 
file.  Anyways, my 3ds seemed to generate fine.  And so I ran:

3ds2mgf entry_roof.3ds entry_roof.mgf -s40 -om

and got:

3ds2mgf: unexpected EOF

seems like an end-of-file error has to do with a linux vs windows 
problem, but on the webpage John mentioned he also used the DR version 
of 3ds2mgf.  Any ideas whats causing this error?

I would like to the try the obj2mesh approach as well but am not sure 
how to get an obj file from my autoCAD 3d model.

Now stepping back just so I understand, I'm guessing you need to use 
obj2mesh or the 3ds2mgf because these will generate the A2 thru A10 
parameters required by tmesh.cal.  On that website it gives this example 
of .rad data created by 3ds2mgf.

WOOD texfunc T-nor
4 dx dy dz tmesh.cal
0
10 0
-0.00163623 0.00042471 1.21556195
0.00738964 -0.00120012 -0.94298270
0.00000000 0.00000000 -0.00000000

where A2 thru A10 is the surface normal perturbation matrix - I have no 
clue what this is or how to generate it.  Because couldn't I also just 
apply this modifier to the polygons I want to smooth if I could create 
the necessary tmesh.cal matrix.  Do the polygons have to be triangles or 
could I just apply this as a modifier to my .rad file created with 
radout (assuming I have a correct matrix).

....an hour later.....Well, I just saw Peter and Greg's responses.  I'm 
guessing that I can not just apply it to my polygons in my radout rad 
file cause there are no normals...but can't the normal be determined 
fairly easily as the cross product of this sides of the polygon?  Do you 
really need to define each surface normal when the surface vertices are 
defined?  Is it just a more expensive calculation?

I hope my confusion makes sense.
Regards,
Zack

-- 
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
www.archenergy.com



--------------030304080303080607090905
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Hi Rob,<br>
<br>
Thanks for the input! &nbsp;I had seen that webpage before, I guess I was hoping
I didn't have to export to obj or 3ds from my CAD file, although that really
shouldn't be too difficult.<br>
<br>
So, I took one of my objects I wanted to smooth and exported it as a 3ds
file. &nbsp;I use AutoCAD 2000 and could not see any way to export as an obj file.
&nbsp;Anyways, my 3ds seemed to generate fine. &nbsp;And so I ran:<br>
<br>
3ds2mgf entry_roof.3ds entry_roof.mgf -s40 -om<br>
<br>
and got:<br>
<br>
3ds2mgf: unexpected EOF<br>
<br>
seems like an end-of-file error has to do with a linux vs windows problem,
but on the webpage John mentioned he also used the DR version of 3ds2mgf.
&nbsp;Any ideas whats causing this error?<br>
<br>
I would like to the try the obj2mesh approach as well but am not sure how
to get an obj file from my autoCAD 3d model.<br>
<br>
Now stepping back just so I understand, I'm guessing you need to use obj2mesh
or the 3ds2mgf because these will generate the A2 thru A10 parameters required
by tmesh.cal. &nbsp;On that website it gives this example of .rad data created
by 3ds2mgf.<br>
<br>
     <font size="2" face="Arial">WOOD texfunc T-nor<br>
     4 dx dy dz tmesh.cal<br>
     0<br>
     10 0<br>
     -0.00163623 0.00042471 1.21556195<br>
     0.00738964 -0.00120012 -0.94298270<br>
     0.00000000 0.00000000 -0.00000000</font><br>
<br>
where A2 thru A10 is the surface normal perturbation matrix - I have no clue
what this is or how to generate it. &nbsp;Because couldn't I also just apply this
modifier to the polygons I want to smooth if I could create the necessary
tmesh.cal matrix. &nbsp;Do the polygons have to be triangles or could I just apply
this as a modifier to my .rad file created with radout (assuming I have a
correct matrix).<br>
<br>
....an hour later.....Well, I just saw Peter and Greg's responses. &nbsp;I'm guessing
that I can not just apply it to my polygons in my radout rad file cause there
are no normals...but can't the normal be determined fairly easily as the
cross product of this sides of the polygon? &nbsp;Do you really need to define
each surface normal when the surface vertices are defined? &nbsp;Is it just a
more expensive calculation?<br>
<br>
I hope my confusion makes sense.<br>
Regards,<br>
Zack<br>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
<a class="moz-txt-link-abbreviated" href="http://www.archenergy.com">www.archenergy.com</a></pre>
<br>
</body>
</html>

--------------030304080303080607090905--


From radiance-general@radiance-online.org  Wed Dec 17 12:58:03 2003
From: radiance-general@radiance-online.org (Roland Schregle)
Date: Wed, 17 Dec 2003 13:58:03 +0100
Subject: [Radiance-general] Radiance animation questions
In-Reply-To: <3FDFF820.2020308@pab-opto.de>
References: <3FDFA7D2.2090503@archenergy.com> <3FDFF820.2020308@pab-opto.de>
Message-ID: <3FE052DB.3010801@gmx.net>

Peter Apian-Bennewitz wrote:

> RenderMan (and probably others) use different textures/patterns 
> depending on distance (more exactly on the solid angle the pixel 
> covers).  This angle is not supplied in the function files (at least it 
> wasn't when I discussed that with Greg two years ago), so view dependent 
> textures are a bit tricky to do. One reason for not making it available 
> was that it is known in rvu/rpict, but not rtrace. If we agree (on 
> radiance-dev) it would be useful, I'd be happy to see this variable.

Actually, a solid angle in the context of rtrace would be useful in 
general. In situations where you don't need this info, you can simply 
set it to zero, denoting an infinitesimal solid angle.

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-general@radiance-online.org  Wed Dec 17 14:01:16 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Wed, 17 Dec 2003 09:01:16 -0500 (EST)
Subject: [Radiance-general] Radiance animation questions
In-Reply-To: <3FE00105.8060601@archenergy.com>
References: <20031217012501.9268.81987.Mailman@radiance-on-linux.org>
 <3FE00105.8060601@archenergy.com>
Message-ID: <Pine.BSF.4.58.0312170827460.94980@emancholl.pair.com>

Zack Rogers wrote:

> [about inter-polygon smoothing]
> I'm guessing that I can not just apply it to my polygons in my radout rad
> file cause there are no normals...but can't the normal be determined
> fairly easily as the cross product of this sides of the polygon?  Do you
> really need to define each surface normal when the surface vertices are
> defined?  Is it just a more expensive calculation?


Unfortunately, a typical rad file is just a heap of unrelated
triangles. Or worse, other types of polygons, which you then need
to split into triangles first.

If the normal vectors aren't supplied, then you'll have to try
to reconstruct the topology of the surface. Basically you run
through the list of triangles multiple times, searching all the
ones that share vertices. The assumption being that the normal of
each vertex will be the average of all adjoining triangles.
As long as the geometry is topologically simple (no manifolds or
intersections etc.), this can be done, but it isn't very
efficient, and may produce unexpected results in some cases.

If your surface has any discontinuities (eg. edges: triangles
connecting at an angle that shouldn't be smoothed away), then
you need to start guessing threshold angles, which is at best
unreliable. If the normals are supplied, then you can just smooth
each triangle individually, and not worry about connections
because you *know* the result will be correct in any case.

In your animation, the most obvious places where I noticed any
lack of smoothness in supposedly curved surfaces were the
handrails, and possibly the roof of the entrance pavillion. Those
effects *won't* go away with normal vector interpolation, because
it's not primarily the shading that gives them away, but the
segmented outlines. You'll have to make shorter segments for that
to improve. For some entity types (extruded arcs and arc segments
in polylines), you can reduce the angle and distance tolerances
in Radout to improve their appearance.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From radiance-general@radiance-online.org  Wed Dec 17 16:04:56 2003
From: radiance-general@radiance-online.org (Alexa I. Ruppertsberg)
Date: Wed, 17 Dec 2003 16:04:56 +0000
Subject: [Radiance-general] exposure value
In-Reply-To: <20031217012501.9268.81987.Mailman@radiance-on-linux.org>
Message-ID: <3FE07EA8.5000102@bradford.ac.uk>

Hi Greg,

thanks for your explanation about the weights for computing luminance. 
That has helped.

Now, our next problem deals with the exposure value:

If you use rview on the octree, trace returns among other values a 
luminance value. As far as we understand the octree should be free of 
any image processing stuff, like exposure values. So, we regard this 
luminance value as a reflection of the reading of a photometer.

If we then use ximage on the picture, generated from the very same 
octree, we read the very same luminance value as under rview, even 
though getinfo returns an exposure value (Note, we have not set any 
exposure values in rpict and pfilt (apart from the default values).
According to the luminance equation and other notes, one should actually 
divide each radiance value by the exposure value, or divide the 
luminance reading by the exposure value.

So, which luminance reading is the 'right' one in ximage? The one 
returned from the image or the one that one obtains by dividing the 
returned one by the exposure value?

And how do I avoid any exposure setting or correction when producing a 
picture (radiance picture that is)?

THanks for all your help in the hectic pre-christmas time.......

alexa and marina
=dumb and dumber   :-)


> 
> Message: 1
> Cc: <radiance-general@radiance-online.org>,
>    Alexa Ruppertsberg <A.I.Ruppertsberg@Bradford.ac.uk>
> From: Greg Ward <gward@lmi.net>
> Date: Tue, 16 Dec 2003 08:35:38 -0800
> To: M BLOJ <M.Bloj@Bradford.ac.uk>
> 
> The weights correspond to the conversion matrix between Radiance's RGB 
> color space and CIE XYZ (the Y channel, specifically).  This is not 
> very well correlated to the V-lambda curve, because the conversion 
> depends so strongly on the exact choice of red, green, and blue 
> primaries.  In the case of Radiance and most standard RGB systems, the 
> red primary is much closer to the peak of V-lambda than is the blue 
> primary.  Thus, the contribution of the blue channel to luminance is 
> much reduced.
> 
> I hope this explains things for you.
> -Greg
> 
>


From radiance-general@radiance-online.org  Wed Dec 17 16:24:49 2003
From: radiance-general@radiance-online.org (R Gillibrand)
Date: Wed, 17 Dec 2003 16:24:49 -0000
Subject: [Radiance-general] Re: Radiance animation questions
Message-ID: <000e01c3c4ba$4ad833b0$e767de89@MASAMUNE>

This is a multi-part message in MIME format.

------=_NextPart_000_000F_01C3C4BA.4AD833B0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

 

Hi Zack,

Nice animation, I find that having read the replies most of the salient
points have already been covered but I would like to add that this is
why I use Maya for the animation path generation. Since you can see the
graphs for the camera movement these can be tweaked to give a smooth
flow from point to point and by adjusting the gradients of the graphs
the accelerations of the camera can be controlled.

I am not sure if it possible to import obj or other type files into the
"personal learning edition" of Maya but if so this version is a free
download and so could be used to set these paths visually which might
help.

Rich

 

____________________________

Richard Gillibrand

Department of Computer Science,

University of Bristol,

Tel: 0117 9545256

____________________________

 

 


------=_NextPart_000_000F_01C3C4BA.4AD833B0
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html>

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">


<meta name=3DGenerator content=3D"Microsoft Word 10 (filtered)">

<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.emailstyle17
	{font-family:Arial;
	color:windowtext;}
span.EmailStyle18
	{font-family:Arial;
	color:navy;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-GB link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Hi Zack,</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Nice animation, I find that having read the replies =
most of
the salient points have already been covered but I would like to add =
that this
is why I use Maya for the animation path generation. Since you can see =
the graphs
for the camera movement these can be tweaked to give a smooth flow from =
point
to point and by adjusting the gradients of the graphs the accelerations =
of the
camera can be controlled.</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>I am not sure if it possible to import obj or other =
type
files into the &#8220;personal learning edition&#8221; of Maya but if so =
this
version is a free download and so could be used to set these paths =
visually
which might help.</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Rich</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>____________________________</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Richard Gillibrand</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Department of Computer Science,</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
  font-family:Arial'>University</span></font><font size=3D2 =
face=3DArial><span
 style=3D'font-size:10.0pt;font-family:Arial'> of </span></font><font =
size=3D2
  face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>Bristol</span></font><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>,</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Tel: 0117 9545256</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>____________________________</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

</div>

</body>

</html>

------=_NextPart_000_000F_01C3C4BA.4AD833B0--


From radiance-general@radiance-online.org  Wed Dec 17 16:32:07 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 17 Dec 2003 08:32:07 -0800
Subject: [Radiance-general] Re: Radiance animation questions
In-Reply-To: <3FE052DB.3010801@gmx.net>
References: <3FDFA7D2.2090503@archenergy.com> <3FDFF820.2020308@pab-opto.de> <3FE052DB.3010801@gmx.net>
Message-ID: <8E495634-30AE-11D8-AEDE-000A95BB392A@lmi.net>

There's no way to get a solid angle associated with a sample in rtrace, 
because there is no image plane.  That's what Peter was saying.  A 
value of zero would have to be given, which would have to be treated 
specially by the handling .cal file.

Except for perspective view rays, we'd probably always be giving a 
solid angle of zero.  The vast majority of rays in a rendering are 
secondary rays, which have reflected one or more time from various 
surfaces, making solid angle problematic to track, if not impossible.  
What is the solid angle of an ambient ray?  A source ray?  You see what 
I'm driving at.  (Parallel views also cannot have solid angle 
associated with rays.)

Even if we made solid angle available under the rare circumstances 
where it made sense and we knew it, what would you do with it?  It's 
not like you're going to resample your texture on the fly in a .cal 
file.  What would you do?  When I first considered this problem (many 
years ago), I decided that ray distance from the origin was as good a 
measure as any for driving these sorts of approximations, so that's why 
you have access to T.  If you've tried it and it really can't work for 
you, then is the time to start looking at alternatives.

-Greg

> From: Roland Schregle <ganjatron@gmx.net>
> Date: December 17, 2003 4:58:03 AM PST
>
> Peter Apian-Bennewitz wrote:
>
>> RenderMan (and probably others) use different textures/patterns 
>> depending on distance (more exactly on the solid angle the pixel 
>> covers).  This angle is not supplied in the function files (at least 
>> it wasn't when I discussed that with Greg two years ago), so view 
>> dependent textures are a bit tricky to do. One reason for not making 
>> it available was that it is known in rvu/rpict, but not rtrace. If we 
>> agree (on radiance-dev) it would be useful, I'd be happy to see this 
>> variable.
>
> Actually, a solid angle in the context of rtrace would be useful in 
> general. In situations where you don't need this info, you can simply 
> set it to zero, denoting an infinitesimal solid angle.


From radiance-general@radiance-online.org  Wed Dec 17 19:28:46 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 17 Dec 2003 11:28:46 -0800
Subject: [Radiance-general] Re: exposure value
In-Reply-To: <3FE07EA8.5000102@bradford.ac.uk>
References: <3FE07EA8.5000102@bradford.ac.uk>
Message-ID: <3B5FCFB0-30C7-11D8-8C47-000A95BB392A@lmi.net>

Ximage does the division by the exposure value for you when you use the 
'l' command.  If you use the 'c' command, it reports the RGB from the 
file without exposure correction.  The "right" value in terms of 
absolute numbers is the one reported by the 'l' command.  The one 
reported by 'c' is what is actually at that point in the image, which 
has been premultiplied by the value(s) reported by getinfo.

To save an image without changing it's exposure in rview, set 'e =1' 
prior to writing it out.  Rpict never adjusts the exposure of its 
output -- you have to run pfilt yourself for that.

Hope this helps!
-Greg

> From: "Alexa I. Ruppertsberg" <a.i.ruppertsberg@Bradford.ac.uk>
> Date: December 17, 2003 8:04:56 AM PST
>
> Hi Greg,
>
> thanks for your explanation about the weights for computing luminance. 
> That has helped.
>
> Now, our next problem deals with the exposure value:
>
> If you use rview on the octree, trace returns among other values a 
> luminance value. As far as we understand the octree should be free of 
> any image processing stuff, like exposure values. So, we regard this 
> luminance value as a reflection of the reading of a photometer.
>
> If we then use ximage on the picture, generated from the very same 
> octree, we read the very same luminance value as under rview, even 
> though getinfo returns an exposure value (Note, we have not set any 
> exposure values in rpict and pfilt (apart from the default values).
> According to the luminance equation and other notes, one should 
> actually divide each radiance value by the exposure value, or divide 
> the luminance reading by the exposure value.
>
> So, which luminance reading is the 'right' one in ximage? The one 
> returned from the image or the one that one obtains by dividing the 
> returned one by the exposure value?
>
> And how do I avoid any exposure setting or correction when producing a 
> picture (radiance picture that is)?
>
> THanks for all your help in the hectic pre-christmas time.......
>
> alexa and marina
> =dumb and dumber   :-)


From radiance-general@radiance-online.org  Wed Dec 17 23:07:35 2003
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Wed, 17 Dec 2003 16:07:35 -0700
Subject: [Radiance-general] Re: Radiance animation questions
References: <20031217110002.10087.79123.Mailman@radiance-on-linux.org>
Message-ID: <3FE0E1B7.3060803@archenergy.com>

--------------040704070607010508090408
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Georg's response

>You may also want to set the exposure to a fixed value, resp. one
>for exterior and one for interior shots.
>
>  
>
Yeah, I need to work on how I set the exposure or human sensitivity.  I 
compile a pre-final animation for my deadline today and its posted here.

http://www.archenergy.com/downloads/pub/images/Radiance/walkthrough_final.mov

My last frames just finished overnight (they had been running on 4 NT 
machines since thurs. - i way overestimated the efficiencies an ambient 
file would add) and I had to quickly compile them this morning.  Hence, 
I just applied human sensitivity to the frames.  As you can see in the 
animation there are some erratic frames.  I am not sure why this 
happened.  Besides the couple of frames that stick out, the other frames 
seem to flow pretty well.  Some of the erratic frames are just due to 
the instant eye adjustment that the human sensitivity function gives as 
they happen when bright objects come into or out of view.  One of the 
reasons I used human sensitivity rather than just setting an exposure is 
that I have quite a range of brightness, especially in my lobby, and I 
want to be able to see the floor tiles in the direct sun patches rather 
than just a white patch while keeping the darker corners visible.  I'm 
all ears for other ways to approach this. Seems like you need a time 
dependant human sensitivity adjustment for better accuracy, although 
this seems very tough as it depends on frames/sec.   Also, I don't like 
the way human sensitivity sometimes makes my red doors and mullions look 
almost black.  I'm guessing this is due to the mesopic adjustments done 
by human sensitivity.  I thought maybe I should just rerun pcond with 
-a+ -v+ and -s+ instead.  Any other suggestions are certainly welcomed. 
 I offered to run a higher quality simulation over my Christmas break 
and so I will probably have one more pass at this animation.

>Should be there. Are you sure you installed the additional
>support package before building? Because otherwise you're missing
>out on the tifflib, which will cause other stuff in the same
>directory not to get built (even if it doesn't actually use the
>tifflib).
>
>  
>
I did not pass information onto our IT guy very well....we did not 
install the support package first.  Thanks! and we will just use the 
HEAD version.

>> BTW - pinterp does not seem to work in the
>>windows version either.
>>    
>>
>Try to make sure that the file paths you feed to pinterp are as
>short as possible (ie. use relative paths). This is fixed in
>HEAD, but many of the picture manipulation programs used to
>suffer from buffer overflows when comand lines got too long.
>  
>
I tried this again with a very short path (z:\tmp\) and it still gave me 
the same error...or actually "no error" :-).  The output is:
"read: no error"
Once I get our linux Radiance up and running I plan on using linux for 
my next round of simulations anyways.

>Some future versions of Radout and dxf2rad may do this (with the
>new mesh primitive), but it's not an urgent issue for me as long
>as Rayfront still uses Radiance 3.1/3.2.
>
>  
>
This would be great added feature!

>You'd need to do oversized renderings and filter them down to
>avoid the particle look in distant patterns. On the other hand,
>there's no real point in mapping a wood grain pattern to surfaces
>that you never look at from up close.
>
>  
>
Yeah, I ended up taking off the wood grain on most surfaces except the 
handrails.  The problem with an animation is that the distance to these 
surfaces is always changing.  I am planning on exploring the fade 
function approach in rayinit.cal.

>There's an "arbmap.cal" included with Rayfront for that (and it
>should also be in the archives here somewhere for those who don't
>have that).
>
I've tried to use arbmap.cal before and was having some problems - but 
that wouldn't be necessary for a solid texture anyways, correct??  I 
can't remember the errors I was getting, i will try again and report 
back if i have any problems.

Greg's response

>
>I posted something to the list about a year ago on generating animation  
>paths, which I've attached to this message.  Perhaps this can help.

Thanks Greg.  I remember seeing this and had forgotten about the 
spline.cal function.  I was hoping for something more visual, but this 
method would definitly be easier than the way I did it (essentially with 
an exported spline from CAD and a spreadsheet)

>
>The time reduction after the first frame isn't noticeable as it doesn't  
>progress much from there -- each new frame adds incrementally to the  
>ambient file.  You are still much better off than not using one (MUCH),  
>but don't expect your rendering times to continue decreasing as the  
>animation progresses.
>
>  
>
I was thinking that since each frame is so similar (6 inches - 15cm - 
apart) that there would be alot of ambient data that could be shared 
from one frame to the next.  Is it because the incident angle to each 
surface changes enough that the previous ambient data cannot be used.  I 
don't have to great of a grasp on how the ambient file works, so I 
apologize.

>
>Looks pretty good to my eyes.  You could improve rendering times by  
>removing some of the fussy details from the ambient calcultion with an  
>ambient exclude file (-aE mat_excl.txt option).  I would remove the  
>window frames in particular.  
>
I shied away from using an ambient exclude file because I use the same 
material on many objects.  I think for my next pass though I will take 
this advice, and either name the materials differently or use an alias.

>You might also increase your -ar value,  
>as 45 seems very low for a model of this size, especially with all the  
>exterior geometry.  I think you're losing resolution on the  
>interreflection calculation as a result.  Divide the octree cube size  
>(getinfo -d octree) by the length of your arm in your world  
>coordinates, and that should give you a reasonable number.
>
Oops, I had set my -ar value before I added in the the extensive parking 
lot.  Getinfo -d gives me this:

bc.oct: -214.5790355 -249.1505 -170.126913 352.68657

My model is in meters.  I don't quite understand this.  My xmin and ymin 
may be as stated but I know my zmin is not much more than -1 meter.  Am 
I misunderstanding this output.  And so my arm is about a meter so would 
a good -ar setting be 352/1 = 352?  This would make my calculation time 
much longer.  I've been setting this in Rayfront where you input xsize, 
ysize, zsize and octree size (which is longest of the 3 sizes).

This isn't the cause of some the splotches i am still seeing, is it?  I 
have my -ad and -as parameters really high, but perhaps too high??  Here 
is a panoramic animation I also created for this model that is even more 
splotchy:

http://www.archenergy.com/downloads/pub/images/Radiance/panoramic_walkthrough.exe

I had these running on some XP machines (since they couldn't handle 
ranimate) and with a separately generated ambfile.  These were the 
settings from my .rif file

QUALITY     = medium
DETAIL      = high
VARIABILITY = high
INDIRECT    = 1
oconv       = -r 4096
render      = -ad 4096
render      = -st 0.01
render      = -dp 512
render      = -av 2.5 2.5 2.5
render      = -as 2048
render      = -sj 0.1
render      = -dt 0.1
render      = -aa 0.08
render      = -ar 60

There are some pretty significant splotches - I am not sure why these 
are so much worse than my walkthrough - both ambfiles were about 7MB by 
the end.

Peter's response

>
>For the long ISE outside animation, I had to pre-run along the path 
>mulitple times at low res to fill up the ambient file. Be sure that it 
>is fairly "stable" and has enough ambient points, otherwise it 
>"discovers" more light during the main animation, leading to brightness 
>jumps or flicker (depends on the sequence of generation of the image 
>frames).
>  
>
Good suggestion.  I will try this on my next round of simulations.  I 
don't think this is why I had so many flickers in my final animation 
though, is it???  I thought my flicker was more due to pcond issues.

Georgs response 2

>In your animation, the most obvious places where I noticed any
>lack of smoothness in supposedly curved surfaces were the
>handrails, and possibly the roof of the entrance pavillion. Those
>effects *won't* go away with normal vector interpolation, because
>it's not primarily the shading that gives them away, but the
>segmented outlines. You'll have to make shorter segments for that
>to improve. For some entity types (extruded arcs and arc segments
>in polylines), you can reduce the angle and distance tolerances
>in Radout to improve their appearance.
>
I almost did reduce the tolerances but wasn't sure the effect this would 
have on octree size, or more importantly, rendering times.  In general, 
would phong smoothing or increased number of facets be more expensive?

Hey, thanks everyone for all the input.  This group is such an essential 
Radiance resource!  Sorry for such lengthy emails.

Zack

--
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
http://www.archenergy.com




--------------040704070607010508090408
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Georg's response<br>
<blockquote type="cite"
 cite="mid20031217110002.10087.79123.Mailman@radiance-on-linux.org">
  <pre wrap="">You may also want to set the exposure to a fixed value, resp. one
for exterior and one for interior shots.

  </pre>
</blockquote>
Yeah, I need to work on how I set the exposure or human sensitivity. &nbsp;I compile
a pre-final animation for my deadline today and its posted here.<br>
<br>
<a class="moz-txt-link-freetext" href="http://www.archenergy.com/downloads/pub/images/Radiance/walkthrough_final.mov">http://www.archenergy.com/downloads/pub/images/Radiance/walkthrough_final.mov</a><br>
<br>
My last frames just finished overnight (they had been running on 4 NT machines
since thurs. - i way overestimated the efficiencies an ambient file would
add) and I had to quickly compile them this morning. &nbsp;Hence, I just applied
human sensitivity to the frames. &nbsp;As you can see in the animation there are
some erratic frames. &nbsp;I am not sure why this happened. &nbsp;Besides the couple
of frames that stick out, the other frames seem to flow pretty well. &nbsp;Some
of the erratic frames are just due to the instant eye adjustment that the
human sensitivity function gives as they happen when bright objects come
into or out of view. &nbsp;One of the reasons I used human sensitivity rather
than just setting an exposure is that I have quite a range of brightness,
especially in my lobby, and I want to be able to see the floor tiles in the
direct sun patches rather than just a white patch while keeping the darker
corners visible. &nbsp;I'm all ears for other ways to approach this. Seems like
you need a time dependant human sensitivity adjustment for better accuracy,
although this seems very tough as it depends on frames/sec. &nbsp; Also, I don't
like the way human sensitivity sometimes makes my red doors and mullions
look almost black. &nbsp;I'm guessing this is due to the mesopic adjustments done
by human sensitivity. &nbsp;I thought maybe I should just rerun pcond with -a+
-v+ and -s+ instead. &nbsp;Any other suggestions are certainly welcomed. &nbsp;I offered
to run a higher quality simulation over my Christmas break and so I will
probably have one more pass at this animation.
<blockquote type="cite"
 cite="mid20031217110002.10087.79123.Mailman@radiance-on-linux.org">
  <pre wrap="">
Should be there. Are you sure you installed the additional
support package before building? Because otherwise you're missing
out on the tifflib, which will cause other stuff in the same
directory not to get built (even if it doesn't actually use the
tifflib).

  </pre>
</blockquote>
I did not pass information onto our IT guy very well....we did not install
the support package first. &nbsp;Thanks! and we will just use the HEAD version.<br>
<blockquote type="cite"
 cite="mid20031217110002.10087.79123.Mailman@radiance-on-linux.org">
  <blockquote type="cite">
    <pre wrap=""> BTW - pinterp does not seem to work in the
windows version either.
    </pre>
  </blockquote>
  <pre wrap=""><!----></pre>
</blockquote>
<blockquote type="cite"
 cite="mid20031217110002.10087.79123.Mailman@radiance-on-linux.org">
  <pre wrap="">
Try to make sure that the file paths you feed to pinterp are as
short as possible (ie. use relative paths). This is fixed in
HEAD, but many of the picture manipulation programs used to
suffer from buffer overflows when comand lines got too long.
  </pre>
</blockquote>
I tried this again with a very short path (z:\tmp\) and it still gave me
the same error...or actually "no error" :-). &nbsp;The output is:<br>
"read: no error"<br>
Once I get our linux Radiance up and running I plan on using linux for my
next round of simulations anyways.<br>
<blockquote type="cite"
 cite="mid20031217110002.10087.79123.Mailman@radiance-on-linux.org">
  <pre wrap="">
Some future versions of Radout and dxf2rad may do this (with the
new mesh primitive), but it's not an urgent issue for me as long
as Rayfront still uses Radiance 3.1/3.2.

  </pre>
</blockquote>
This would be great added feature!<br>
<blockquote type="cite"
 cite="mid20031217110002.10087.79123.Mailman@radiance-on-linux.org">
  <pre wrap="">
You'd need to do oversized renderings and filter them down to
avoid the particle look in distant patterns. On the other hand,
there's no real point in mapping a wood grain pattern to surfaces
that you never look at from up close.

  </pre>
</blockquote>
Yeah, I ended up taking off the wood grain on most surfaces except the handrails.
&nbsp;The problem with an animation is that the distance to these surfaces is
always changing. &nbsp;I am planning on exploring the fade function approach in
rayinit.cal.<br>
<blockquote type="cite"
 cite="mid20031217110002.10087.79123.Mailman@radiance-on-linux.org">
  <pre wrap="">
There's an "arbmap.cal" included with Rayfront for that (and it
should also be in the archives here somewhere for those who don't
have that).</pre>
</blockquote>
I've tried to use arbmap.cal before and was having some problems - but that
wouldn't be necessary for a solid texture anyways, correct?? &nbsp;I can't remember
the errors I was getting, i will try again and report back if i have any
problems.<br>
<br>
Greg's response<br>
<pre wrap=""><!----><blockquote type="cite"><pre wrap=""><!---->
I posted something to the list about a year ago on generating animation  
paths, which I've attached to this message.  Perhaps this can help.</pre></blockquote></pre>
Thanks Greg. &nbsp;I remember seeing this and had forgotten about the spline.cal
function. &nbsp;I was hoping for something more visual, but this method would
definitly be easier than the way I did it (essentially with an exported spline
from CAD and a spreadsheet)<br>
<br>
<blockquote type="cite">
  <pre wrap=""><!---->
The time reduction after the first frame isn't noticeable as it doesn't  
progress much from there -- each new frame adds incrementally to the  
ambient file.  You are still much better off than not using one (MUCH),  
but don't expect your rendering times to continue decreasing as the  
animation progresses.

  </pre>
</blockquote>
I was thinking that since each frame is so similar (6 inches - 15cm - apart)
that there would be alot of ambient data that could be shared from one frame
to the next. &nbsp;Is it because the incident angle to each surface changes enough
that the previous ambient data cannot be used. &nbsp;I don't have to great of
a grasp on how the ambient file works, so I apologize.<br>
<br>
<blockquote type="cite">
  <pre wrap=""><!---->
Looks pretty good to my eyes.  You could improve rendering times by  
removing some of the fussy details from the ambient calcultion with an  
ambient exclude file (-aE mat_excl.txt option).  I would remove the  
window frames in particular.  </pre>
</blockquote>
I shied away from using an ambient exclude file because I use the same material 
on many objects. &nbsp;I think for my next pass though I will take this advice, 
and either name the materials differently or use an alias.<br>
<blockquote type="cite">
  <pre wrap="">You might also increase your -ar value,  
as 45 seems very low for a model of this size, especially with all the  
exterior geometry.  I think you're losing resolution on the  
interreflection calculation as a result.  Divide the octree cube size  
(getinfo -d octree) by the length of your arm in your world  
coordinates, and that should give you a reasonable number.</pre>
</blockquote>
Oops, I had set my -ar value before I added in the the extensive parking
lot. &nbsp;Getinfo -d gives me this:<br>
<br>
bc.oct: -214.5790355 -249.1505 -170.126913 352.68657<br>
<br>
My model is in meters. &nbsp;I don't quite understand this. &nbsp;My xmin and ymin
may be as stated but I know my zmin is not much more than -1 meter. &nbsp;Am I
misunderstanding this output. &nbsp;And so my arm is about a meter so would a
good -ar setting be 352/1 = 352? &nbsp;This would make my calculation time much
longer. &nbsp;I've been setting this in Rayfront where you input xsize, ysize,
zsize and octree size (which is longest of the 3 sizes).<br>
<br>
This isn't the cause of some the splotches i am still seeing, is it? &nbsp;I have
my -ad and -as parameters really high, but perhaps too high?? &nbsp;Here is a
panoramic animation I also created for this model that is even more splotchy:<br>
<br>
<a class="moz-txt-link-freetext" href="http://www.archenergy.com/downloads/pub/images/Radiance/panoramic_walkthrough.exe">http://www.archenergy.com/downloads/pub/images/Radiance/panoramic_walkthrough.exe</a><br>
<br>
I had these running on some XP machines (since they couldn't handle ranimate)
and with a separately generated ambfile. &nbsp;These were the settings from my
.rif file<br>
<br>
QUALITY&nbsp;&nbsp;&nbsp;&nbsp; = medium<br>
DETAIL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = high<br>
VARIABILITY = high<br>
INDIRECT&nbsp;&nbsp;&nbsp; = 1<br>
oconv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -r 4096<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -ad 4096<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -st 0.01<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -dp 512<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -av 2.5 2.5 2.5<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -as 2048<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -sj 0.1<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -dt 0.1<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -aa 0.08<br>
render&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -ar 60<br>
<br>
There are some pretty significant splotches - I am not sure why these are
so much worse than my walkthrough - both ambfiles were about 7MB by the end.<br>
<br>
Peter's response<br>
<blockquote type="cite">
  <pre wrap=""><!---->
For the long ISE outside animation, I had to pre-run along the path 
mulitple times at low res to fill up the ambient file. Be sure that it 
is fairly "stable" and has enough ambient points, otherwise it 
"discovers" more light during the main animation, leading to brightness 
jumps or flicker (depends on the sequence of generation of the image 
frames).
  </pre>
</blockquote>
Good suggestion. &nbsp;I will try this on my next round of simulations. &nbsp;I don't
think this is why I had so many flickers in my final animation though, is
it??? &nbsp;I thought my flicker was more due to pcond issues.<br>
<br>
Georgs response 2<br>
<blockquote type="cite">
  <pre>In your animation, the most obvious places where I noticed any
lack of smoothness in supposedly curved surfaces were the
handrails, and possibly the roof of the entrance pavillion. Those
effects *won't* go away with normal vector interpolation, because
it's not primarily the shading that gives them away, but the
segmented outlines. You'll have to make shorter segments for that
to improve. For some entity types (extruded arcs and arc segments
in polylines), you can reduce the angle and distance tolerances
in Radout to improve their appearance.</pre>
</blockquote>
I almost did reduce the tolerances but wasn't sure the effect this would
have on octree size, or more importantly, rendering times. &nbsp;In general, would
phong smoothing or increased number of facets be more expensive?<br>
<br>
Hey, thanks everyone for all the input. &nbsp;This group is such an essential
Radiance resource! &nbsp;Sorry for such lengthy emails.<br>
<br>
Zack<br>
<pre class="moz-signature" cols="$mailwrapcol">--
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
<a class="moz-txt-link-freetext" href="http://www.archenergy.com">http://www.archenergy.com</a>
</pre>
<br>
<br>
</body>
</html>

--------------040704070607010508090408--


From radiance-general@radiance-online.org  Wed Dec 17 23:39:40 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 17 Dec 2003 15:39:40 -0800
Subject: [Radiance-general] Re: Radiance animation questions
In-Reply-To: <3FE0E1B7.3060803@archenergy.com>
References: <20031217110002.10087.79123.Mailman@radiance-on-linux.org> <3FE0E1B7.3060803@archenergy.com>
Message-ID: <48743587-30EA-11D8-BE57-000A95BB392A@lmi.net>

Hi Zack,

I'll just respond to a couple of things that caught my eye...

> From: Zack Rogers <zrogers@archenergy.com>
> Date: December 17, 2003 3:07:35 PM PST
>
> Greg's response
>
> The time reduction after the first frame isn't noticeable as it doesn't
> progress much from there -- each new frame adds incrementally to the
> ambient file.  You are still much better off than not using one (MUCH),
> but don't expect your rendering times to continue decreasing as the
> animation progresses.
>
> I was thinking that since each frame is so similar (6 inches - 15cm -  
> apart) that there would be alot of ambient data that could be shared  
> from one frame to the next.  Is it because the incident angle to each  
> surface changes enough that the previous ambient data cannot be used.  
>  I don't have to great of a grasp on how the ambient file works, so I  
> apologize.

The thing is, you are saving a lot of time over not having an ambient  
file and you are sharing a lot of values.  It's just that the time  
doesn't continuously decrease -- it quickly drops to a small fraction  
of what it would have been and stays there as your frames progress.   
You have to think about it I guess, but once you are sharing 95% of the  
values from the previous frame, just calculating the new ones needed  
for whatever small movement you've made, what more can you save?  You  
reach this level of sharing after one or two frames, and your rendering  
times stay constant from there on in a walkthrough.  If you make a  
"jump cut" to another position or rapidly rotate the view, you might  
see a momentary slow-down where it has to add a lot of new ambient  
values, but after that your calculation times will level off again.   
The biggest savings after ambient value sharing in a walkthrough will  
come from view interpolation using pinterp.  Even if you decide you  
can't afford to space your rpict renderings any further apart, you can  
still add inbetween frames with pinterp and improve the smoothness of  
your results at little additional cost.

> You might also increase your -ar value,
> as 45 seems very low for a model of this size, especially with all the
> exterior geometry.  I think you're losing resolution on the
> interreflection calculation as a result.  Divide the octree cube size
> (getinfo -d octree) by the length of your arm in your world
> coordinates, and that should give you a reasonable number.
> Oops, I had set my -ar value before I added in the the extensive  
> parking lot.  Getinfo -d gives me this:
>
> bc.oct: -214.5790355 -249.1505 -170.126913 352.68657
>
> My model is in meters.  I don't quite understand this.  My xmin and  
> ymin may be as stated but I know my zmin is not much more than -1  
> meter.  Am I misunderstanding this output.  And so my arm is about a  
> meter so would a good -ar setting be 352/1 = 352?  This would make my  
> calculation time much longer.  I've been setting this in Rayfront  
> where you input xsize, ysize, zsize and octree size (which is longest  
> of the 3 sizes).

Getinfo reports the minimum x, y, and z coordinates plus the size of  
the bounding cube.  An octree is always a cube, so one or two of the  
dimensions will always be smaller than the actual minimum -- oconv  
centers the cube around your geometry.

> This isn't the cause of some the splotches i am still seeing, is it?  
>  I have my -ad and -as parameters really high, but perhaps too high??  
>  Here is a panoramic animation I also created for this model that is  
> even more splotchy:
>
> http://www.archenergy.com/downloads/pub/images/Radiance/ 
> panoramic_walkthrough.exe

Can't look at an .exe file, I'm afraid.  Increasing -ar to 352 is not a  
bad idea, though you may end up seeing a few more splotches.  The  
too-low value you currently have is causing interreflected (ambient)  
values to be spread around too generously, giving an artificially  
smooth appearance to your rendered frames.

> I had these running on some XP machines (since they couldn't handle  
> ranimate) and with a separately generated ambfile.  These were the  
> settings from my .rif file
>
> QUALITY     = medium
> DETAIL      = high
> VARIABILITY = high
> INDIRECT    = 1
> oconv       = -r 4096
> render      = -ad 4096
> render      = -st 0.01
> render      = -dp 512
> render      = -av 2.5 2.5 2.5
> render      = -as 2048
> render      = -sj 0.1
> render      = -dt 0.1
> render      = -aa 0.08
> render      = -ar 60
>
> There are some pretty significant splotches - I am not sure why these  
> are so much worse than my walkthrough - both ambfiles were about 7MB  
> by the end.

I'd only be guessing without seeing your image, but a frequent cause of  
splotches in a model such as yours is solar reflections off specular  
surfaces, such as glass.

-Greg


From radiance-general@radiance-online.org  Thu Dec 18 00:02:17 2003
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Wed, 17 Dec 2003 19:02:17 -0500 (EST)
Subject: [Radiance-general] Re: Radiance animation questions
In-Reply-To: <3FE0E1B7.3060803@archenergy.com>
References: <20031217110002.10087.79123.Mailman@radiance-on-linux.org>
 <3FE0E1B7.3060803@archenergy.com>
Message-ID: <Pine.BSF.4.58.0312171843100.94980@emancholl.pair.com>

Zack Rogers wrote:

> >There's an "arbmap.cal" included with Rayfront for that (and it
> >should also be in the archives here somewhere for those who don't
> >have that).
> >
> I've tried to use arbmap.cal before and was having some problems - but
> that wouldn't be necessary for a solid texture anyways, correct??

No, this would be in place of picture.cal. I didn't remember
for a moment that the woodgrain functions are fully procedural
solid patterns.


> >I posted something to the list about a year ago on generating animation
> >paths, which I've attached to this message.  Perhaps this can help.
>
> Thanks Greg.  I remember seeing this and had forgotten about the
> spline.cal function.  I was hoping for something more visual, but this
> method would definitly be easier than the way I did it (essentially with
> an exported spline from CAD and a spreadsheet)

If you're exporting them from Autocad anyway, then you might
want to look at the spline fitting functions in tube.lsp:
  http://www.schorsch.com/download/tube/
It's not ideal for this application, as it automatically
selects the point spacing to optimize geometric deviation
against the number of generated points. In other words, it
will generate more points in narrow curves, and speed up
on the straight stretches.


> This isn't the cause of some the splotches i am still seeing, is it?  I
> have my -ad and -as parameters really high, but perhaps too high??

If you want to go for speed and non-splotchy appearance, and
don't mind the resulting luminances to be inaccurate, then
you could reduce -ad and -as, while *increasing* -aa.

Those three need to be "balanced" to get nice renderings.
You can balance them for accuracy or for speed...


> > For some entity types (extruded arcs and arc segments
> >in polylines), you can reduce the angle and distance tolerances
> >in Radout to improve their appearance.
> >
> I almost did reduce the tolerances but wasn't sure the effect this would
> have on octree size, or more importantly, rendering times.

The amount of geometry usually has a surprisingly small effect
on rendering times, so I wouldn't be too shy here. If in doubt,
pick the layers where you expect the visual benefit to be the
highest, and only export those (seperately) with lower tolerances.


> In general,
> would phong smoothing or increased number of facets be more expensive?

A texfunc applied to each polygon will most likely eat more
CPU cycles than a number of additional plain polygons.
Procedural modifiers are quite expensive.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From radiance-general@radiance-online.org  Thu Dec 18 14:25:39 2003
From: radiance-general@radiance-online.org (Giulio Antonutto)
Date: Thu, 18 Dec 2003 14:25:39 -0000
Subject: [Radiance-general] C4D converter
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F9030308B@l-gnts05>

Hi all,
I remember Jean Brange wrote a C4D converter for MacosX, Is it still
available?

Many thanks,
giulio



___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From radiance-general@radiance-online.org  Thu Dec 18 20:53:53 2003
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Thu, 18 Dec 2003 22:53:53 +0200
Subject: [Radiance-general] Radiance animation questions
In-Reply-To: <3FDFA7D2.2090503@archenergy.com>
Message-ID: <4A140A99-319C-11D8-A7CE-000A959DDB22@gmx.net>

Hi!

> 1.) What programs do people use to produce animation paths?  I 
> initially wanted to use rshow but couldn't get it working on our Suse 
> 8.2.  I understand programs like maya, studio vis, form-z??

I have written down some key points and interpolated. There is some 
help on this topic in the archives - I also didn't know how to do so 
;-) I don't know if you can find a way to convert from a vector drawing 
tool to viewfiles, e.g. translating from eps or dxf to radiance view 
point might be possible? You would still have to define both splines... 
So interpolating keyframes is certainly not the worst.

> 5.) Using an ambfile does not seem to be doing much for my animation 
> times?  I was expecting a big decrease in calc time the further i got 
> into my animation but at about 5/6 through it has not sped up much.  
> It has been building the ambient file the whole time, although it is 
> only 7MB after roughly 1000 frames, which seems too small (10 
> panoramic views I've been running on a different machine already has 
> an ambient file of 7MB).  Here is what one of my ranfiles looks like:

I have made an animation with ab3 - and had a lot of time saved by 
reusing ambient data. However, you will need an ouverture-calculation, 
as was mentioned before. It depends on the model and the importance of 
the ambient data, if you need only ab1, you can't save too much with 
this. I am also quite sure that in my case using illums instead of the 
open windows would have allowed some faster settings in the ambient 
calculation, but I didn't try that so far.

> 7.) As can be seen, I have many curved surfaces in this model most of 
> which have been faceted.  I would like to use a function to smooth the 
> shading on these.  Is there any way to do this given the geometry is 
> already built?  Something like the Phong shading -s option in gensurf 
> or maybe with the new mesh primitive???  I apologize for my ignorance 
> on this topic, I rarely require this much detail.  I'm imagining a 
> modifier or something I could give to the polygons I want to smooth 
> over.

I remember that the 3ds-translator did this fine.

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From radiance-general@radiance-online.org  Mon Dec 22 18:21:59 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Mon, 22 Dec 2003 12:21:59 -0600
Subject: [Radiance-general] Multiple images with Human response
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69277@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3C8B8.7D41AE60
Content-Type: text/plain

I'm  working on a cubic QTVR - 6 images - North, South, East, West, Up and
Down
And I would like them to all have the same exposure with a human response

After rendering the images, I've tried using pcond -h (saved to a new pic) -
but each one is treated individually, so they don't match up with I put them
together.

Is there a way to take several images and treat them as one?
perhaps enlarge the "canvas" to use Photoshop terms, and copy/paste them
into one image, pcond then crop them out again?

the only way I could get them to seamlessly blend is to not use human
response - but it doesn't  seems to have enought contrast
http://rastermon.com/Node.htm

Thanks Rob F

------_=_NextPart_001_01C3C8B8.7D41AE60
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>Multiple images with Human response</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I'm&nbsp; working on a cubic QTVR - 6 images - North, =
South, East, West, Up and Down</FONT>
<BR><FONT SIZE=3D2>And I would like them to all have the same exposure =
with a human response</FONT>
</P>

<P><FONT SIZE=3D2>After rendering the images, I've tried using pcond -h =
(saved to a new pic) - but each one is treated individually, so they =
don't match up with I put them together.</FONT></P>

<P><FONT SIZE=3D2>Is there a way to take several images and treat them =
as one?</FONT>
<BR><FONT SIZE=3D2>perhaps enlarge the &quot;canvas&quot; to use =
Photoshop terms, and copy/paste them into one image, pcond then crop =
them out again?</FONT></P>

<P><FONT SIZE=3D2>the only way I could get them to seamlessly blend is =
to not use human response - but it doesn't&nbsp; seems to have enought =
contrast</FONT></P>

<P><FONT SIZE=3D2><A HREF=3D"http://rastermon.com/Node.htm" =
TARGET=3D"_blank">http://rastermon.com/Node.htm</A></FONT>
</P>

<P><FONT SIZE=3D2>Thanks Rob F</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3C8B8.7D41AE60--

From radiance-general@radiance-online.org  Mon Dec 22 18:33:16 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Mon, 22 Dec 2003 13:33:16 -0500
Subject: [Radiance-general] Multiple images with Human response
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D69277@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D69277@corvallis.summit.fiserv.com>
Message-ID: <3FE738EC.9040005@rumblestrip.org>

Fitzsimmons, Rob wrote:

> Is there a way to take several images and treat them as one?

> the only way I could get them to seamlessly blend is to not use human 
> response - but it doesn't  seems to have enought contrast

I think phisto is what you want; there's even an example using pcond -h 
on the manpage:

http://radsite.lbl.gov/radiance/man_html/phisto_1.htm

P.S.
Cool QTVR, BTW.  Excuse my ignorance, but what software do you use to 
create the QTVR?  This looks like yet another thing I could easily waste 
a weekend playing around with.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Mon Dec 22 18:49:22 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Mon, 22 Dec 2003 12:49:22 -0600
Subject: [Radiance-general] Multiple images with Human response
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69278@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3C8BC.505B1860
Content-Type: text/plain;
	charset="iso-8859-1"

Thanks Rob!

I think phisto is what you want; there's even an example using pcond -h 
on the manpage:

http://radsite.lbl.gov/radiance/man_html/phisto_1.htm

P.S.
Cool QTVR, BTW.  Excuse my ignorance, but what software do you use to 
create the QTVR?  This looks like yet another thing I could easily waste

a weekend playing around with.

Rendered 6 90 degree FOV images and
brought them into a very easy to use freeware app from Apple
http://developer.apple.com/quicktime/quicktimeintro/tools/

Go down to the QTVR Tools section -  QTVR Make Cubic

Unfortunately, I think it only runs in Mac OSX

Also check out these links - various QTVR tools on various platforms
http://www.worldserver.com/turk/quicktimevr/QTVRlinks.html

Ken Turkowski worked on Apple's quicktime for many years

Rob F

------_=_NextPart_001_01C3C8BC.505B1860
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RE: [Radiance-general] Multiple images with Human =
response</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Thanks Rob!</FONT>
</P>

<P><FONT SIZE=3D2>I think phisto is what you want; there's even an =
example using pcond -h </FONT>
<BR><FONT SIZE=3D2>on the manpage:</FONT>
</P>

<P><FONT SIZE=3D2><A =
HREF=3D"http://radsite.lbl.gov/radiance/man_html/phisto_1.htm" =
TARGET=3D"_blank">http://radsite.lbl.gov/radiance/man_html/phisto_1.htm<=
/A></FONT>
</P>

<P><FONT SIZE=3D2>P.S.</FONT>
<BR><FONT SIZE=3D2>Cool QTVR, BTW.&nbsp; Excuse my ignorance, but what =
software do you use to </FONT>
<BR><FONT SIZE=3D2>create the QTVR?&nbsp; This looks like yet another =
thing I could easily waste</FONT>
</P>

<P><FONT SIZE=3D2>a weekend playing around with.</FONT>
</P>

<P><FONT SIZE=3D2>Rendered 6 90 degree FOV images and</FONT>
<BR><FONT SIZE=3D2>brought them into a very easy to use freeware app =
from Apple</FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"http://developer.apple.com/quicktime/quicktimeintro/tools/" =
TARGET=3D"_blank">http://developer.apple.com/quicktime/quicktimeintro/to=
ols/</A></FONT>
</P>

<P><FONT SIZE=3D2>Go down to the QTVR Tools section -&nbsp; QTVR Make =
Cubic</FONT>
</P>

<P><FONT SIZE=3D2>Unfortunately, I think it only runs in Mac OSX</FONT>
</P>

<P><FONT SIZE=3D2>Also check out these links - various QTVR tools on =
various platforms</FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"http://www.worldserver.com/turk/quicktimevr/QTVRlinks.html" =
TARGET=3D"_blank">http://www.worldserver.com/turk/quicktimevr/QTVRlinks.=
html</A></FONT>
</P>

<P><FONT SIZE=3D2>Ken Turkowski worked on Apple's quicktime for many =
years</FONT>
</P>

<P><FONT SIZE=3D2>Rob F</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3C8BC.505B1860--

From radiance-general@radiance-online.org  Mon Dec 22 20:37:35 2003
From: radiance-general@radiance-online.org (John S. An)
Date: Mon, 22 Dec 2003 15:37:35 -0500
Subject: [Radiance-general] Mac OS X and nfs
Message-ID: <AC936D94-34BE-11D8-81F7-000A95871DF2@mac.com>

Hi all,

I'm at my wits end trying to get my machines to play nicely when 
parallel processing.  I have a 4 computer setup which I am trying to 
farm together via nfs for some renderings, and I've come to an impass.

Set-up:
2 linux boxes running Mandrake 9.1
2 Macintoshes running Panther (10.3.2)

One of the linux box is set as the nfs server.  I set the /etc/exports 
to give read write access and sync to all machines in my private 
network (192.168.0.0/255.255.255.0).  The server and the other linux 
box have no problems communicating and parallel processing.

On the Macintoshes, I used the shareware program NFSManager to set up 
the mount for the exported folder.  In the Finder, I am able to access, 
read, and copy files from the Macintosh to the server, and to erase 
files that are on the server.  I can also use X11 to run single 
processor renderings on files that are located on the nfs server.  
However, when I try to run the parallel renderings from the Macintosh, 
the process just freezes.  Using the top command, I see that rpict is 
there, but 0% of the computers resources is devoted to the process, and 
it remains in that state indefinitely (5 days).

I doubled checked the UID and GID on all for machines to make sure that 
they all match.

Just to test what was going on, I tried setting up one of my 
Macintoshes as the nfs server.  In this instance, the linux box can 
mount the file system, but the process freezes when it starts the 
rendering, whether it be a single rpict command or an rpiece command.  
The other Macintosh is capable of running and completing the parallel 
rendering process, but only about 10% of the computers resources is 
devoted to the process (this is something that I'll just have to look 
into).

Could somebody please help me figure out what is going on?

Thanks.


From radiance-general@radiance-online.org  Mon Dec 22 21:05:09 2003
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Mon, 22 Dec 2003 16:05:09 -0500
Subject: [Radiance-general] Mac OS X and nfs
References: <AC936D94-34BE-11D8-81F7-000A95871DF2@mac.com>
Message-ID: <3FE75C85.3070705@visarc.com>

Hi John,

I think that one thing to look into in greater depth is what kind of 
control you can exercise on the configuration/setup of NFS on the 
Panther based machines. In particular you need to have both nfsd running 
as well as something called statd (I am assuming these are the names 
used in the apple based systems). The latter is responsible for 
reporting file status for locking requests among other things.

It sounds like you can get a linux to linux nfs setup running ok. I 
think that you need to debug and get a stable apple to apple nfs setup 
running (ie full processor performance). Then you can work on figuring 
out how to get the two to work together. I suspect that there are some 
mount and/or export related switches that may need to be set to make nfs 
work in a heterogenous environment like this. It is difficult enough in 
a homegenous one.

-Jack

John S. An wrote:

> Hi all,
>
> I'm at my wits end trying to get my machines to play nicely when 
> parallel processing.  I have a 4 computer setup which I am trying to 
> farm together via nfs for some renderings, and I've come to an impass.
>
> Set-up:
> 2 linux boxes running Mandrake 9.1
> 2 Macintoshes running Panther (10.3.2)
>
> One of the linux box is set as the nfs server.  I set the /etc/exports 
> to give read write access and sync to all machines in my private 
> network (192.168.0.0/255.255.255.0).  The server and the other linux 
> box have no problems communicating and parallel processing.
>
> On the Macintoshes, I used the shareware program NFSManager to set up 
> the mount for the exported folder.  In the Finder, I am able to 
> access, read, and copy files from the Macintosh to the server, and to 
> erase files that are on the server.  I can also use X11 to run single 
> processor renderings on files that are located on the nfs server.  
> However, when I try to run the parallel renderings from the Macintosh, 
> the process just freezes.  Using the top command, I see that rpict is 
> there, but 0% of the computers resources is devoted to the process, 
> and it remains in that state indefinitely (5 days).
>
> I doubled checked the UID and GID on all for machines to make sure 
> that they all match.
>
> Just to test what was going on, I tried setting up one of my 
> Macintoshes as the nfs server.  In this instance, the linux box can 
> mount the file system, but the process freezes when it starts the 
> rendering, whether it be a single rpict command or an rpiece command.  
> The other Macintosh is capable of running and completing the parallel 
> rendering process, but only about 10% of the computers resources is 
> devoted to the process (this is something that I'll just have to look 
> into).
>
> Could somebody please help me figure out what is going on?
>
> Thanks.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From radiance-general@radiance-online.org  Tue Dec 23 09:36:20 2003
From: radiance-general@radiance-online.org (Giulio Antonutto)
Date: Tue, 23 Dec 2003 09:36:20 -0000
Subject: [Radiance-general] Mac OS X and nfs
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F903030A0@l-gnts05>

Hi,
about homogeneous environment:
some time ago (macosX 10.0) I did some rpiece experiments.... 
It seems to me that I simply employed the Appletalk protocol to share the
ambient file.... 
may be.... 
just macosx to macosx.....
cheers,
giulio

PS however at the end I bought a dual athlon Linux machine.... but now it is
different: G5...


-----Original Message-----
From: Jack de Valpine [mailto:jedev@visarc.com]
Sent: 22 December 2003 21:05
To: radiance-general@radiance-online.org
Subject: Re: [Radiance-general] Mac OS X and nfs


Hi John,

I think that one thing to look into in greater depth is what kind of 
control you can exercise on the configuration/setup of NFS on the 
Panther based machines. In particular you need to have both nfsd running 
as well as something called statd (I am assuming these are the names 
used in the apple based systems). The latter is responsible for 
reporting file status for locking requests among other things.

It sounds like you can get a linux to linux nfs setup running ok. I 
think that you need to debug and get a stable apple to apple nfs setup 
running (ie full processor performance). Then you can work on figuring 
out how to get the two to work together. I suspect that there are some 
mount and/or export related switches that may need to be set to make nfs 
work in a heterogenous environment like this. It is difficult enough in 
a homegenous one.

-Jack

John S. An wrote:

> Hi all,
>
> I'm at my wits end trying to get my machines to play nicely when 
> parallel processing.  I have a 4 computer setup which I am trying to 
> farm together via nfs for some renderings, and I've come to an impass.
>
> Set-up:
> 2 linux boxes running Mandrake 9.1
> 2 Macintoshes running Panther (10.3.2)
>
> One of the linux box is set as the nfs server.  I set the /etc/exports 
> to give read write access and sync to all machines in my private 
> network (192.168.0.0/255.255.255.0).  The server and the other linux 
> box have no problems communicating and parallel processing.
>
> On the Macintoshes, I used the shareware program NFSManager to set up 
> the mount for the exported folder.  In the Finder, I am able to 
> access, read, and copy files from the Macintosh to the server, and to 
> erase files that are on the server.  I can also use X11 to run single 
> processor renderings on files that are located on the nfs server.  
> However, when I try to run the parallel renderings from the Macintosh, 
> the process just freezes.  Using the top command, I see that rpict is 
> there, but 0% of the computers resources is devoted to the process, 
> and it remains in that state indefinitely (5 days).
>
> I doubled checked the UID and GID on all for machines to make sure 
> that they all match.
>
> Just to test what was going on, I tried setting up one of my 
> Macintoshes as the nfs server.  In this instance, the linux box can 
> mount the file system, but the process freezes when it starts the 
> rendering, whether it be a single rpict command or an rpiece command.  
> The other Macintosh is capable of running and completing the parallel 
> rendering process, but only about 10% of the computers resources is 
> devoted to the process (this is something that I'll just have to look 
> into).
>
> Could somebody please help me figure out what is going on?
>
> Thanks.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From radiance-general@radiance-online.org  Tue Dec 23 16:12:54 2003
From: radiance-general@radiance-online.org (John S. An)
Date: Tue, 23 Dec 2003 11:12:54 -0500
Subject: [Radiance-general] Mac OS X and nfs
Message-ID: <DD7EE537-3562-11D8-807C-000A95871DF2@mac.com>

Thanks for your advice Jack.  I don't know how many people on the list 
are interested in the intricacies of making nfs work on Mac OS X, but 
with Apple hardware one of the many hardware options for running 
Radiance, I'll post updates on my experience.  So here goes...

In trying to get a stable Mac OS X only parallel rendering going, I 
switched the server/client relationship.  In other words, the machine 
that was previously the client became the server, and the server became 
the client.  All other settings remained the same, but this time, the 
vast majority (~98%) of the processes were allocated to rpict.  I'm not 
sure why this set up is more stable than the other, but it is.

So then I tried mounting the nfs volume from the Linux machines, and 
tried starting an rpict process with an -af switch, and it also worked. 
  So I thought my problem was solved, but (there's always a but)...

File locking seems to work on the Linux machines, but not on the 
Macintosh client.  When I begin an rpict process on the Macintosh 
client, and then attach another rpict from the Linux client, then the 
output file always shows that the ambient values are corrupt.

So, once I figure out how to make the Macintoshes abide by the 
file-locking protocols, I think all will be well.

One note, for anyone trying make nfs adjustments on the Macintosh, the 
shareware NFS Manager (http://www.bresink.de/osx/NFSManager.html) by 
Marcel Bresink is extremely helpful.  Unlike most UNIX/Linux 
distributions, Mac OS X reserves files such as /etc/fstab and 
/etc/exports for system functions, and thus the settings need to be 
adjusted in the application NetInfo Manager.  NFS Manager puts a 
friendlier GUI interface to dealing with NetInfo Manager.

In response to Guilio's comment about trying to use Appletalk to share 
the ambient file, the problem arises in the file locking.  I don't 
think Radiance knows how to deal with file locking in the Appletalk 
protocol.  I too tried initially to see if I could share files over 
Appletalk, and Radiance always gave me an error message and then quit.  
I did find some discussion in the developers forum on allowing Radiance 
to share files over Samba.  I haven't had a chance to explore this 
option any further, but has the Samba file sharing implementation been 
incorporated into the HEAD version of Radiance?

I hope I'm not boring everyone with this discussion.  If so, just let 
me know, and I'll stop posting any updates.


>
> Message: 5
> Date: Mon, 22 Dec 2003 16:05:09 -0500
> From: Jack de Valpine <jedev@visarc.com>
> To: radiance-general@radiance-online.org
> Subject: Re: [Radiance-general] Mac OS X and nfs
> Reply-To: radiance-general@radiance-online.org
>
> Hi John,
>
> I think that one thing to look into in greater depth is what kind of
> control you can exercise on the configuration/setup of NFS on the
> Panther based machines. In particular you need to have both nfsd 
> running
> as well as something called statd (I am assuming these are the names
> used in the apple based systems). The latter is responsible for
> reporting file status for locking requests among other things.
>
> It sounds like you can get a linux to linux nfs setup running ok. I
> think that you need to debug and get a stable apple to apple nfs setup
> running (ie full processor performance). Then you can work on figuring
> out how to get the two to work together. I suspect that there are some
> mount and/or export related switches that may need to be set to make 
> nfs
> work in a heterogenous environment like this. It is difficult enough in
> a homegenous one.
>
> -Jack
>
> John S. An wrote:
>
>> Hi all,
>>
>> I'm at my wits end trying to get my machines to play nicely when
>> parallel processing.  I have a 4 computer setup which I am trying to
>> farm together via nfs for some renderings, and I've come to an impass.
>>
>> Set-up:
>> 2 linux boxes running Mandrake 9.1
>> 2 Macintoshes running Panther (10.3.2)
>>
>> One of the linux box is set as the nfs server.  I set the /etc/exports
>> to give read write access and sync to all machines in my private
>> network (192.168.0.0/255.255.255.0).  The server and the other linux
>> box have no problems communicating and parallel processing.
>>
>> On the Macintoshes, I used the shareware program NFSManager to set up
>> the mount for the exported folder.  In the Finder, I am able to
>> access, read, and copy files from the Macintosh to the server, and to
>> erase files that are on the server.  I can also use X11 to run single
>> processor renderings on files that are located on the nfs server.
>> However, when I try to run the parallel renderings from the Macintosh,
>> the process just freezes.  Using the top command, I see that rpict is
>> there, but 0% of the computers resources is devoted to the process,
>> and it remains in that state indefinitely (5 days).
>>
>> I doubled checked the UID and GID on all for machines to make sure
>> that they all match.
>>
>> Just to test what was going on, I tried setting up one of my
>> Macintoshes as the nfs server.  In this instance, the linux box can
>> mount the file system, but the process freezes when it starts the
>> rendering, whether it be a single rpict command or an rpiece command.
>> The other Macintosh is capable of running and completing the parallel
>> rendering process, but only about 10% of the computers resources is
>> devoted to the process (this is something that I'll just have to look
>> into).
>>
>> Could somebody please help me figure out what is going on?
>>
>> Thanks.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> -- 
> #	John E. de Valpine
> #	president
> #
> #	visarc incorporated
> #	http://www.visarc.com
> #
> #	channeling technology for superior design and construction
>
>
>
>
> --__--__--
>
> Message: 6
> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> To: "'radiance-general@radiance-online.org'"	 
> <radiance-general@radiance-online.org>
> Subject: RE: [Radiance-general] Mac OS X and nfs
> Date: Tue, 23 Dec 2003 09:36:20 -0000
> Reply-To: radiance-general@radiance-online.org
>
> Hi,
> about homogeneous environment:
> some time ago (macosX 10.0) I did some rpiece experiments....
> It seems to me that I simply employed the Appletalk protocol to share 
> the
> ambient file....
> may be....
> just macosx to macosx.....
> cheers,
> giulio
>
> PS however at the end I bought a dual athlon Linux machine.... but now 
> it is
> different: G5...
>
>
> -----Original Message-----
> From: Jack de Valpine [mailto:jedev@visarc.com]
> Sent: 22 December 2003 21:05
> To: radiance-general@radiance-online.org
> Subject: Re: [Radiance-general] Mac OS X and nfs
>
>
> Hi John,
>
> I think that one thing to look into in greater depth is what kind of
> control you can exercise on the configuration/setup of NFS on the
> Panther based machines. In particular you need to have both nfsd 
> running
> as well as something called statd (I am assuming these are the names
> used in the apple based systems). The latter is responsible for
> reporting file status for locking requests among other things.
>
> It sounds like you can get a linux to linux nfs setup running ok. I
> think that you need to debug and get a stable apple to apple nfs setup
> running (ie full processor performance). Then you can work on figuring
> out how to get the two to work together. I suspect that there are some
> mount and/or export related switches that may need to be set to make 
> nfs
> work in a heterogenous environment like this. It is difficult enough in
> a homegenous one.
>
> -Jack
>
> John S. An wrote:
>
>> Hi all,
>>
>> I'm at my wits end trying to get my machines to play nicely when
>> parallel processing.  I have a 4 computer setup which I am trying to
>> farm together via nfs for some renderings, and I've come to an impass.
>>
>> Set-up:
>> 2 linux boxes running Mandrake 9.1
>> 2 Macintoshes running Panther (10.3.2)
>>
>> One of the linux box is set as the nfs server.  I set the /etc/exports
>> to give read write access and sync to all machines in my private
>> network (192.168.0.0/255.255.255.0).  The server and the other linux
>> box have no problems communicating and parallel processing.
>>
>> On the Macintoshes, I used the shareware program NFSManager to set up
>> the mount for the exported folder.  In the Finder, I am able to
>> access, read, and copy files from the Macintosh to the server, and to
>> erase files that are on the server.  I can also use X11 to run single
>> processor renderings on files that are located on the nfs server.
>> However, when I try to run the parallel renderings from the Macintosh,
>> the process just freezes.  Using the top command, I see that rpict is
>> there, but 0% of the computers resources is devoted to the process,
>> and it remains in that state indefinitely (5 days).
>>
>> I doubled checked the UID and GID on all for machines to make sure
>> that they all match.
>>
>> Just to test what was going on, I tried setting up one of my
>> Macintoshes as the nfs server.  In this instance, the linux box can
>> mount the file system, but the process freezes when it starts the
>> rendering, whether it be a single rpict command or an rpiece command.
>> The other Macintosh is capable of running and completing the parallel
>> rendering process, but only about 10% of the computers resources is
>> devoted to the process (this is something that I'll just have to look
>> into).
>>
>> Could somebody please help me figure out what is going on?
>>
>> Thanks.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> -- 
> #	John E. de Valpine
> #	president
> #
> #	visarc incorporated
> #	http://www.visarc.com
> #
> #	channeling technology for superior design and construction
>
>


From radiance-general@radiance-online.org  Tue Dec 23 16:41:57 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Tue, 23 Dec 2003 11:41:57 -0500
Subject: [Radiance-general] Boredom (was: Mac OS X and nfs)
In-Reply-To: <DD7EE537-3562-11D8-807C-000A95871DF2@mac.com>
References: <DD7EE537-3562-11D8-807C-000A95871DF2@mac.com>
Message-ID: <3FE87055.9010800@rumblestrip.org>

John S. An wrote:

> I hope I'm not boring everyone with this discussion.  If so, just let me 
> know, and I'll stop posting any updates.

No, no, no.  Please continue to share!  I appreciate the effort it takes 
to write up these summaries, but they will live in the 
radiance-online.org archive, fully searchable, for all current and 
future Radiance strugglers.  It's all these discussions that make 
Peter's efforts so worthwhile.

Of course, having four hot rod computers, even it they don't like 
talking to each other, is not such a bad problem to have, John. ;-) 
Maybe someday I'll have me one o' them there dual G5s, and I'll recall 
this thread and really have some fun!  Good luck with this.  Keep us posted.

This is as good a time as any to wish my Radiance family a happy holiday 
season.  So, uh, HAPPY HOLIDAYS, EVERYONE!!  May the coming year be 
filled with populated ambient caches, blotch-free images, and valid 
results.  =8-)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Tue Dec 23 16:48:06 2003
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Tue, 23 Dec 2003 11:48:06 -0500
Subject: [Radiance-general] Mac OS X and nfs
References: <DD7EE537-3562-11D8-807C-000A95871DF2@mac.com>
Message-ID: <3FE871C6.3070707@visarc.com>

Hey John,

Yes, NFS is just a big nasty mess to deal with.

It looks like there was some funny configuration going on on the OS X 
client/server only setup. It would be worth taking another pass at 
trying to identify what is going on in this configuration.

For OS X to linux NFS server, I think that you will need to determine 
how to set which nfs protocol version is used (2 or 3) for each system. 
Additionally you have to have statd running on both the client and 
server for locking to work. Further you will have to determine what 
switches need to be set on the OS X to enforce synchronous read/writes.

-Jack

John S. An wrote:

> Thanks for your advice Jack.  I don't know how many people on the list 
> are interested in the intricacies of making nfs work on Mac OS X, but 
> with Apple hardware one of the many hardware options for running 
> Radiance, I'll post updates on my experience.  So here goes...
>
> In trying to get a stable Mac OS X only parallel rendering going, I 
> switched the server/client relationship.  In other words, the machine 
> that was previously the client became the server, and the server 
> became the client.  All other settings remained the same, but this 
> time, the vast majority (~98%) of the processes were allocated to 
> rpict.  I'm not sure why this set up is more stable than the other, 
> but it is.
>
> So then I tried mounting the nfs volume from the Linux machines, and 
> tried starting an rpict process with an -af switch, and it also 
> worked.  So I thought my problem was solved, but (there's always a 
> but)...
>
> File locking seems to work on the Linux machines, but not on the 
> Macintosh client.  When I begin an rpict process on the Macintosh 
> client, and then attach another rpict from the Linux client, then the 
> output file always shows that the ambient values are corrupt.
>
> So, once I figure out how to make the Macintoshes abide by the 
> file-locking protocols, I think all will be well.
>
> One note, for anyone trying make nfs adjustments on the Macintosh, the 
> shareware NFS Manager (http://www.bresink.de/osx/NFSManager.html) by 
> Marcel Bresink is extremely helpful.  Unlike most UNIX/Linux 
> distributions, Mac OS X reserves files such as /etc/fstab and 
> /etc/exports for system functions, and thus the settings need to be 
> adjusted in the application NetInfo Manager.  NFS Manager puts a 
> friendlier GUI interface to dealing with NetInfo Manager.
>
> In response to Guilio's comment about trying to use Appletalk to share 
> the ambient file, the problem arises in the file locking.  I don't 
> think Radiance knows how to deal with file locking in the Appletalk 
> protocol.  I too tried initially to see if I could share files over 
> Appletalk, and Radiance always gave me an error message and then 
> quit.  I did find some discussion in the developers forum on allowing 
> Radiance to share files over Samba.  I haven't had a chance to explore 
> this option any further, but has the Samba file sharing implementation 
> been incorporated into the HEAD version of Radiance?
>
> I hope I'm not boring everyone with this discussion.  If so, just let 
> me know, and I'll stop posting any updates.
>
>
>>
>> Message: 5
>> Date: Mon, 22 Dec 2003 16:05:09 -0500
>> From: Jack de Valpine <jedev@visarc.com>
>> To: radiance-general@radiance-online.org
>> Subject: Re: [Radiance-general] Mac OS X and nfs
>> Reply-To: radiance-general@radiance-online.org
>>
>> Hi John,
>>
>> I think that one thing to look into in greater depth is what kind of
>> control you can exercise on the configuration/setup of NFS on the
>> Panther based machines. In particular you need to have both nfsd running
>> as well as something called statd (I am assuming these are the names
>> used in the apple based systems). The latter is responsible for
>> reporting file status for locking requests among other things.
>>
>> It sounds like you can get a linux to linux nfs setup running ok. I
>> think that you need to debug and get a stable apple to apple nfs setup
>> running (ie full processor performance). Then you can work on figuring
>> out how to get the two to work together. I suspect that there are some
>> mount and/or export related switches that may need to be set to make nfs
>> work in a heterogenous environment like this. It is difficult enough in
>> a homegenous one.
>>
>> -Jack
>>
>> John S. An wrote:
>>
>>> Hi all,
>>>
>>> I'm at my wits end trying to get my machines to play nicely when
>>> parallel processing.  I have a 4 computer setup which I am trying to
>>> farm together via nfs for some renderings, and I've come to an impass.
>>>
>>> Set-up:
>>> 2 linux boxes running Mandrake 9.1
>>> 2 Macintoshes running Panther (10.3.2)
>>>
>>> One of the linux box is set as the nfs server.  I set the /etc/exports
>>> to give read write access and sync to all machines in my private
>>> network (192.168.0.0/255.255.255.0).  The server and the other linux
>>> box have no problems communicating and parallel processing.
>>>
>>> On the Macintoshes, I used the shareware program NFSManager to set up
>>> the mount for the exported folder.  In the Finder, I am able to
>>> access, read, and copy files from the Macintosh to the server, and to
>>> erase files that are on the server.  I can also use X11 to run single
>>> processor renderings on files that are located on the nfs server.
>>> However, when I try to run the parallel renderings from the Macintosh,
>>> the process just freezes.  Using the top command, I see that rpict is
>>> there, but 0% of the computers resources is devoted to the process,
>>> and it remains in that state indefinitely (5 days).
>>>
>>> I doubled checked the UID and GID on all for machines to make sure
>>> that they all match.
>>>
>>> Just to test what was going on, I tried setting up one of my
>>> Macintoshes as the nfs server.  In this instance, the linux box can
>>> mount the file system, but the process freezes when it starts the
>>> rendering, whether it be a single rpict command or an rpiece command.
>>> The other Macintosh is capable of running and completing the parallel
>>> rendering process, but only about 10% of the computers resources is
>>> devoted to the process (this is something that I'll just have to look
>>> into).
>>>
>>> Could somebody please help me figure out what is going on?
>>>
>>> Thanks.
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> -- 
>> #    John E. de Valpine
>> #    president
>> #
>> #    visarc incorporated
>> #    http://www.visarc.com
>> #
>> #    channeling technology for superior design and construction
>>
>>
>>
>>
>> --__--__--
>>
>> Message: 6
>> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
>> To: "'radiance-general@radiance-online.org'"     
>> <radiance-general@radiance-online.org>
>> Subject: RE: [Radiance-general] Mac OS X and nfs
>> Date: Tue, 23 Dec 2003 09:36:20 -0000
>> Reply-To: radiance-general@radiance-online.org
>>
>> Hi,
>> about homogeneous environment:
>> some time ago (macosX 10.0) I did some rpiece experiments....
>> It seems to me that I simply employed the Appletalk protocol to share 
>> the
>> ambient file....
>> may be....
>> just macosx to macosx.....
>> cheers,
>> giulio
>>
>> PS however at the end I bought a dual athlon Linux machine.... but 
>> now it is
>> different: G5...
>>
>>
>> -----Original Message-----
>> From: Jack de Valpine [mailto:jedev@visarc.com]
>> Sent: 22 December 2003 21:05
>> To: radiance-general@radiance-online.org
>> Subject: Re: [Radiance-general] Mac OS X and nfs
>>
>>
>> Hi John,
>>
>> I think that one thing to look into in greater depth is what kind of
>> control you can exercise on the configuration/setup of NFS on the
>> Panther based machines. In particular you need to have both nfsd running
>> as well as something called statd (I am assuming these are the names
>> used in the apple based systems). The latter is responsible for
>> reporting file status for locking requests among other things.
>>
>> It sounds like you can get a linux to linux nfs setup running ok. I
>> think that you need to debug and get a stable apple to apple nfs setup
>> running (ie full processor performance). Then you can work on figuring
>> out how to get the two to work together. I suspect that there are some
>> mount and/or export related switches that may need to be set to make nfs
>> work in a heterogenous environment like this. It is difficult enough in
>> a homegenous one.
>>
>> -Jack
>>
>> John S. An wrote:
>>
>>> Hi all,
>>>
>>> I'm at my wits end trying to get my machines to play nicely when
>>> parallel processing.  I have a 4 computer setup which I am trying to
>>> farm together via nfs for some renderings, and I've come to an impass.
>>>
>>> Set-up:
>>> 2 linux boxes running Mandrake 9.1
>>> 2 Macintoshes running Panther (10.3.2)
>>>
>>> One of the linux box is set as the nfs server.  I set the /etc/exports
>>> to give read write access and sync to all machines in my private
>>> network (192.168.0.0/255.255.255.0).  The server and the other linux
>>> box have no problems communicating and parallel processing.
>>>
>>> On the Macintoshes, I used the shareware program NFSManager to set up
>>> the mount for the exported folder.  In the Finder, I am able to
>>> access, read, and copy files from the Macintosh to the server, and to
>>> erase files that are on the server.  I can also use X11 to run single
>>> processor renderings on files that are located on the nfs server.
>>> However, when I try to run the parallel renderings from the Macintosh,
>>> the process just freezes.  Using the top command, I see that rpict is
>>> there, but 0% of the computers resources is devoted to the process,
>>> and it remains in that state indefinitely (5 days).
>>>
>>> I doubled checked the UID and GID on all for machines to make sure
>>> that they all match.
>>>
>>> Just to test what was going on, I tried setting up one of my
>>> Macintoshes as the nfs server.  In this instance, the linux box can
>>> mount the file system, but the process freezes when it starts the
>>> rendering, whether it be a single rpict command or an rpiece command.
>>> The other Macintosh is capable of running and completing the parallel
>>> rendering process, but only about 10% of the computers resources is
>>> devoted to the process (this is something that I'll just have to look
>>> into).
>>>
>>> Could somebody please help me figure out what is going on?
>>>
>>> Thanks.
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> -- 
>> #    John E. de Valpine
>> #    president
>> #
>> #    visarc incorporated
>> #    http://www.visarc.com
>> #
>> #    channeling technology for superior design and construction
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From radiance-general@radiance-online.org  Thu Dec 25 19:56:06 2003
From: radiance-general@radiance-online.org (Lars Grobe)
Date: Thu, 25 Dec 2003 20:56:06 +0100 (MET)
Subject: [Radiance-general] Multiple images with Human response
References: <7B2F6EA5E35E214882CB9828962BC3CF04D69278@corvallis.summit.fiserv.com>
Message-ID: <20130.1072382166@www21.gmx.net>

Hi,

just a simple question, why don't you use the panoramic view types of
radiance?

CU Lars.


From radiance-general@radiance-online.org  Thu Dec 25 20:13:39 2003
From: radiance-general@radiance-online.org (Lars Grobe)
Date: Thu, 25 Dec 2003 21:13:39 +0100 (MET)
Subject: [Radiance-general] Mac OS X and nfs
References: <3FE871C6.3070707@visarc.com>
Message-ID: <17552.1072383219@www21.gmx.net>

Hi,

do you use nfs/udp or nfs/tcp? Try tcp, I know from some friends
that they solved some problems with this. OS X amd Linux play
nicely together in general.

CU Lars.


From radiance-general@radiance-online.org  Fri Dec 26 16:50:00 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Fri, 26 Dec 2003 10:50:00 -0600
Subject: [Radiance-general] Multiple images with Human response
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69283@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3CBD0.4D00A5B0
Content-Type: text/plain;
	charset="iso-8859-1"

Because the cylindrical projection seems to limited to 360 x 90 degrees.
when I've tried to go more than 90, the image get distorted.
With a cubic qtvr, you can get 360 x 180

Rob

-----Original Message-----
From: Lars Grobe
To: radiance-general@radiance-online.org
Sent: 12/25/2003 11:56 AM
Subject: RE: [Radiance-general] Multiple images with Human response

Hi,

just a simple question, why don't you use the panoramic view types of
radiance?

CU Lars.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

------_=_NextPart_001_01C3CBD0.4D00A5B0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RE: [Radiance-general] Multiple images with Human =
response</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Because the cylindrical projection seems to limited =
to 360 x 90 degrees. when I've tried to go more than 90, the image get =
distorted.</FONT></P>

<P><FONT SIZE=3D2>With a cubic qtvr, you can get 360 x 180</FONT>
</P>

<P><FONT SIZE=3D2>Rob</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Lars Grobe</FONT>
<BR><FONT SIZE=3D2>To: radiance-general@radiance-online.org</FONT>
<BR><FONT SIZE=3D2>Sent: 12/25/2003 11:56 AM</FONT>
<BR><FONT SIZE=3D2>Subject: RE: [Radiance-general] Multiple images with =
Human response</FONT>
</P>

<P><FONT SIZE=3D2>Hi,</FONT>
</P>

<P><FONT SIZE=3D2>just a simple question, why don't you use the =
panoramic view types of</FONT>
<BR><FONT SIZE=3D2>radiance?</FONT>
</P>

<P><FONT SIZE=3D2>CU Lars.</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Radiance-general mailing list</FONT>
<BR><FONT SIZE=3D2>Radiance-general@radiance-online.org</FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"http://www.radiance-online.org/mailman/listinfo/radiance-general=
" =
TARGET=3D"_blank">http://www.radiance-online.org/mailman/listinfo/radian=
ce-general</A></FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3CBD0.4D00A5B0--

From radiance-general@radiance-online.org  Tue Dec 30 23:08:09 2003
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Tue, 30 Dec 2003 17:08:09 -0600
Subject: [Radiance-general] Gensky and ground brightness
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF051DE92C@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3CF29.CA4BF450
Content-Type: text/plain

Happy holidays to all
another question...
When using gensky, how do I get a realistic level to create a ground glow?
Looking at skybright.cal, I notice A3 might be the value I'm looking for

skybright.cal
{ RCSid: $Id$ }
{
     Sky brightness function for sunny and cloudy skies.

     Additional arguments required for calculation of skybright:

        A1                      - 1 for CIE clear, 2 for CIE overcast,
                                  3 for uniform, 4 for CIE intermediate
        A2                      - zenith brightness
        A3                      - ground plane brightness
        A4                      - normalization factor based on sun
direction
        A5,A6,A7                - sun direction
}

In the following example, would I use 20.1 (the suggested ambient value) or
2.94e+01 (the 3rd attribute)
Or niether?  Am I way off? I'm sure it depends on whether your on a black
sand beach or a ski slope, but is there a general value?

Thanks 
Rob F

# gensky 6 21 12:00PST +s -a 44.47 -o 123.26
# Local solar time: 11.76
# Solar altitude and azimuth: 68.8 -9.2
# Ground ambient level: 20.1

void light solar
0
0
3 7.13e+06 7.13e+06 7.13e+06

solar source sun
0
0
4 0.057775 -0.357455 0.932142 0.5

void brightfunc skyfunc
2 skybr skybright.cal
0
7 1 2.69e+01 2.94e+01 1.26e+00 0.057775 -0.357455 0.932142

skyfunc glow skyglow
0
0
4 .5 .5 .7 0

skyglow source sky
0
0
4 0 0 1 180

skyfunc glow groundglow
0
0
4 .4  .6 .38 0


groundglow source ground
0
0
4 0 0 -1 180

------_=_NextPart_001_01C3CF29.CA4BF450
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>Gensky and ground brightness</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Happy holidays to all</FONT>
<BR><FONT SIZE=3D2>another question...</FONT>
<BR><FONT SIZE=3D2>When using gensky, how do I get a realistic level to =
create a ground glow?</FONT>
<BR><FONT SIZE=3D2>Looking at skybright.cal, I notice A3 might be the =
value I'm looking for</FONT>
</P>

<P><FONT SIZE=3D2>skybright.cal</FONT>
<BR><FONT SIZE=3D2>{ RCSid: $Id$ }</FONT>
<BR><FONT SIZE=3D2>{</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp; Sky brightness function for =
sunny and cloudy skies.</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp; Additional arguments =
required for calculation of skybright:</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
A1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 1 for CIE =
clear, 2 for CIE overcast,</FONT>
<BR><FONT =
SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 for =
uniform, 4 for CIE intermediate</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
A2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - zenith =
brightness</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
A3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - ground plane =
brightness</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
A4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - =
normalization factor based on sun direction</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
A5,A6,A7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp; - sun direction</FONT>
<BR><FONT SIZE=3D2>}</FONT>
</P>

<P><FONT SIZE=3D2>In the following example, would I use 20.1 (the =
suggested ambient value) or&nbsp; 2.94e+01 (the 3rd attribute)</FONT>
<BR><FONT SIZE=3D2>Or niether?&nbsp; Am I way off? I'm sure it depends =
on whether your on a black sand beach or a ski slope, but is there a =
general value?</FONT></P>

<P><FONT SIZE=3D2>Thanks </FONT>
<BR><FONT SIZE=3D2>Rob F</FONT>
</P>

<P><FONT SIZE=3D2># gensky 6 21 12:00PST +s -a 44.47 -o 123.26</FONT>
<BR><FONT SIZE=3D2># Local solar time: 11.76</FONT>
<BR><FONT SIZE=3D2># Solar altitude and azimuth: 68.8 -9.2</FONT>
<BR><FONT SIZE=3D2># Ground ambient level: 20.1</FONT>
</P>

<P><FONT SIZE=3D2>void light solar</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>3 7.13e+06 7.13e+06 7.13e+06</FONT>
</P>

<P><FONT SIZE=3D2>solar source sun</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>4 0.057775 -0.357455 0.932142 0.5</FONT>
</P>

<P><FONT SIZE=3D2>void brightfunc skyfunc</FONT>
<BR><FONT SIZE=3D2>2 skybr skybright.cal</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>7 1 2.69e+01 2.94e+01 1.26e+00 0.057775 -0.357455 =
0.932142</FONT>
</P>

<P><FONT SIZE=3D2>skyfunc glow skyglow</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>4 .5 .5 .7 0</FONT>
</P>

<P><FONT SIZE=3D2>skyglow source sky</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>4 0 0 1 180</FONT>
</P>

<P><FONT SIZE=3D2>skyfunc glow groundglow</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>4 .4&nbsp; .6 .38 0</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>groundglow source ground</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>0</FONT>
<BR><FONT SIZE=3D2>4 0 0 -1 180</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3CF29.CA4BF450--

From radiance-general@radiance-online.org  Wed Dec 31 03:46:42 2003
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Tue, 30 Dec 2003 20:46:42 -0700
Subject: [Radiance-general] horizontal band in large image
Message-ID: <3FF246A2.3050605@archenergy.com>

Hello,

I am getting a strange result in some high quality, high resolution 
renderings.  I have posted one of the images here:

http://www.zrogers.fpcc.net/zrogers/images/node1_test.jpg

They are panoramic images, -vtc -vh 360 -vv 90, and I am running them at 
12288 x 3072 resolution and reducing them by 1/3rd with pfilt.  The top 
2/5ths rendered as I had hoped but the bottom 3/5ths of the image seems 
to have run at very low quality and the color and patterns are off. 
 Prior to running this image I had checked the model with some lower 
resolution rview images and everything seemed ok, I had a nice green 
grass map that is now showing up purplish in the image.  The brick map I 
have on the walls and other textures and patterns render correctly above 
the line and do not show up at all below the line.  I was not able to 
view the original 12288 x 3072 *.unf picture - it just showed up white 
(with exposure adjusted) and I had to pfilt by 1/3 just to get it to 
show up on my screen.  So I'm not sure if this is a problem with the 
original image or with pfilt.  

Any ideas what is wrong?  It seems maybe its just a problem trying to 
run such high resolution since it was rendering ok with rview at lower 
resolutions.  I don't think it was a problem with ram, since the process 
were taking up roughly 500MB and I have 1GB.  This may be similar to the 
horizontal line artifacts discussed in Mark Stock's previous post 
(6-27-03).  I think that problem was solved with the newest HEAD release 
of Radiance.  Could this just a problem with the wonderful Windows 
version I am working with?

It looks as though I may have to rerun these, or atleast some of these. 
 Could I reuse the ambient file or should a new one be created?  Also, I 
could just rerun the bottom 3/5ths of the picture and use pcompos to put 
them together, correct?

Thanks!
Zack

-- 
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
www.archenergy.com



From radiance-general@radiance-online.org  Wed Dec 31 07:42:52 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 30 Dec 2003 23:42:52 -0800
Subject: [Radiance-general] Re: horizontal band in large image
In-Reply-To: <3FF246A2.3050605@archenergy.com>
References: <3FF246A2.3050605@archenergy.com>
Message-ID: <F0984CCA-3B64-11D8-835C-000A95BB392A@lmi.net>

Hi Zack,

No doubt this is the same integer wrapping problem in the source 
testing routines.  You will not be able to reuse the ambient file, and 
you'll have to rerender with the HEAD release to correct the problem.

-Greg

> From: Zack Rogers <zrogers@archenergy.com>
> Date: December 30, 2003 7:46:42 PM PST
>
> Hello,
>
> I am getting a strange result in some high quality, high resolution 
> renderings.  I have posted one of the images here:
>
> http://www.zrogers.fpcc.net/zrogers/images/node1_test.jpg
>
> They are panoramic images, -vtc -vh 360 -vv 90, and I am running them 
> at 12288 x 3072 resolution and reducing them by 1/3rd with pfilt.  The 
> top 2/5ths rendered as I had hoped but the bottom 3/5ths of the image 
> seems to have run at very low quality and the color and patterns are 
> off. Prior to running this image I had checked the model with some 
> lower resolution rview images and everything seemed ok, I had a nice 
> green grass map that is now showing up purplish in the image.  The 
> brick map I have on the walls and other textures and patterns render 
> correctly above the line and do not show up at all below the line.  I 
> was not able to view the original 12288 x 3072 *.unf picture - it just 
> showed up white (with exposure adjusted) and I had to pfilt by 1/3 
> just to get it to show up on my screen.  So I'm not sure if this is a 
> problem with the original image or with pfilt.
> Any ideas what is wrong?  It seems maybe its just a problem trying to 
> run such high resolution since it was rendering ok with rview at lower 
> resolutions.  I don't think it was a problem with ram, since the 
> process were taking up roughly 500MB and I have 1GB.  This may be 
> similar to the horizontal line artifacts discussed in Mark Stock's 
> previous post (6-27-03).  I think that problem was solved with the 
> newest HEAD release of Radiance.  Could this just a problem with the 
> wonderful Windows version I am working with?
>
> It looks as though I may have to rerun these, or atleast some of 
> these. Could I reuse the ambient file or should a new one be created?  
> Also, I could just rerun the bottom 3/5ths of the picture and use 
> pcompos to put them together, correct?
>
> Thanks!
> Zack


From radiance-general@radiance-online.org  Wed Dec 31 20:26:27 2003
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Wed, 31 Dec 2003 15:26:27 -0500
Subject: [Radiance-general] Gensky and ground brightness
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF051DE92C@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF051DE92C@corvallis.summit.fiserv.com>
Message-ID: <9C27466A-3BCF-11D8-9F3B-000393824274@rumblestrip.org>

On Dec 30, 2003, at 6:08 PM, Fitzsimmons, Rob wrote:

> Happy holidays to all

And the same to you.

> another question...
> When using gensky, how do I get a realistic level to create a ground  
> glow?
> Looking at skybright.cal, I notice A3 might be the value I'm looking  
> for....

Here's a link to a discussion that includes your question:
http://www.radiance-online.org/pipermail/radiance-general/2003-October/ 
001056.html

Sadly, I started to write a response to this, and started questioning  
my own writing (it's been a while since I defined a sky believe it or  
not).  Then I looked on radiance-online, and found that I'd already  
answered this question!  So, not only am I forgetting things, I'm  
forgetting I ever even knew them!  Yikes.  I'm pretty sure something's  
happening tonight at midnight, but I can't remember what it is...

P.S.
Rob, the link to that QTVR app you sent me times out.  Any chance you  
could just send me the file?  Thanks.

=================
    Rob Guglielmetti
www.rumblestrip.org


From radiance-general@radiance-online.org  Wed Dec 31 20:50:02 2003
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 31 Dec 2003 12:50:02 -0800
Subject: [Radiance-general] New occlusion testing optimization
Message-ID: <E7CF4D64-3BD2-11D8-A23B-000A95BB392A@lmi.net>

I just checked in a new optimization for light source testing that 
seems to speed renderings up by about a factor of 2, depending on the 
number and arrangement of light sources in the scene.  There is no 
command-line option associated with the algorithm, as it is strictly a 
time vs. memory trade-off, and a pretty good one at that.  Using the 
default cache resolution of 20x20, the memory cost is a little over 4 
Kbytes per light source, so a scene with 100 sources will take an 
additional 400 Kbytes of memory during rendering.  This seems like a 
small price for a doubling in rendering speed, so I decided not to make 
it a runtime option.  (You can add a -DSHADCACHE=0 compile option if 
you really want to switch it off, or use -DSHADCACHE=40 if you want to 
use 4 times as much memory for even faster renderings.)

The way it works is simple:  with each light source, we associate an 
array of SHADCACHExSHADCACHE OBJECT indices listing occluders in each 
direction as seen from the source.  Each time we're about to test for 
shadows, we first check against the cached occluder.  Since it doesn't 
matter where in the path a surface occludes the source, we don't really 
have to trace a ray to find the first blocker -- any blocker will do.  
If the cached occluder does not block the point being tested, but 
another blocker is found for this point, then the new blocker replaces 
the previous one in the cache.  This tends to save the largest 
occluders over time, since they'll have better cache longevity.

This is actually a very old and widely used technique for reducing 
shadow tests, but the way it is implemented in most ray tracers is to 
store just one blocker per source -- the most recent.  This of course 
doesn't work if your test points are randomly distributed in your 
scene, as they are during most Radiance renderings by the indirect 
(ambient) calculation.  My earlier test of this simpler approach many 
years ago showed no improvements in rendering time.  So, the innovation 
here use an array of recent occluders per source, which works for any 
sample ordering provided the shadows in the scene are not caused 
entirely by teeny obstructions.  (Shadows cast by the leaves of a tree 
will not be sped up much by this technique.)

The way I implemented it in Radiance, it tends to improve the accuracy 
of the -dt and -dc settings, even when it does not substantially reduce 
the rendering time.  Also, it allows you to specify -dt 0 without 
incurring nearly as great a cost as it used to for those who need the 
utmost in accuracy.  Since the occlusion cache does not introduce any 
errors (at least none that I've seen), you can get 100% reliable source 
tests at a fraction of the expected cost.

I'm hoping that some of you will download tomorrow's HEAD release and 
give it a try.  I have only experimented with it extensively on one 
(rather complicated) scene, so I'm curious what effect it has on 
others.

Happy New Year everyone!
-Greg

P.S.  Rob's latest post makes it sound like he's taking after me -- 
forgetting what he's said as well as what he knows!


