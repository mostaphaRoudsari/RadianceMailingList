From radiance-general@radiance-online.org  Thu Jan  1 19:48:39 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Thu, 1 Jan 2004 11:48:39 -0800
Subject: [Radiance-general] "rview" has been renamed to "rvu"
Message-ID: <7EB2B22E-3C93-11D8-9997-000A95BB392A@lmi.net>

As we start the new year, it's time to give a new name to an old 
friend.  Rview is now known as "rvu" in the HEAD release.    I included 
a symbolic link from rvu to rview in the src/rt/Rmakefile install 
script, so you won't have to start typing the new name right away 
unless you feel like it.  However, the other commands whose names 
changed do not have links back to their originals, so be careful to 
clean out your executable directory before the build unless you want to 
have the old commands hanging around forever.  The new names are the 
ones we discussed earlier:

	calc -> icalc
	gencat -> gencatenary
	lam -> rlam
	neat -> neaten

I have also updated the man pages accordingly, and rad now executes rvu 
when you give it the -o option.  I'm hoping I didn't forget anything -- 
a lot of files were affected by the change.  I'm hoping I don't have to 
do this again for a looong time!

-Greg


From radiance-general@radiance-online.org  Sun Jan  4 16:38:54 2004
From: radiance-general@radiance-online.org (John S. An)
Date: Sun, 4 Jan 2004 11:38:54 -0500
Subject: [Radiance-general] nfs update (minor)
Message-ID: <7C568881-3ED4-11D8-95C1-000A95871DF2@mac.com>

I haven't gotten too much further in my experimentation with getting my 
Mac and Linux boxes to play nicely using nfs, but I did discover one 
more thing.  As far as I can tell, Mac OS 10.2.8 does NOT support file 
locking natively.  When I try to turn on file locking using NFS 
Manager, the option is greyed out and it says that this version of the 
operating system does not support locking.  Mac OS 10.3.2 DOES support 
locking.

As of now, I have 2 machines that are working together, and 2 that keep 
clobbering the ambient file.

Happy New Year to all!


From radiance-general@radiance-online.org  Sun Jan  4 17:02:18 2004
From: radiance-general@radiance-online.org (John S. An)
Date: Sun, 4 Jan 2004 12:02:18 -0500
Subject: [Radiance-general] illuminance grid revisited
Message-ID: <C104237C-3ED7-11D8-95C1-000A95871DF2@mac.com>

--Apple-Mail-1-439257991
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

I've been away from my dual G5 machine, so could not work on the nfs 
issue (which I have to get back to shortly), but in the meantime, I 
have noticed something in a past discussion that I find puzzling.  It's 
regarding getting illuminance values across a grid using rtrace.

 >On 22 May 2002, at 14:21, Greg Ward wrote:
 > > a better example for a grid
 > > of 15 by 30 points spread in a 10x20 room and 2.5 feet
 >off
 > > the floor with a half foot margin on each side would be:
 > >
 > > % cnt 15 30 | rcalc -e 
'$1=(10-.5)/(15-1)*$1;$2=(20-.5)/(30-1)*$2;$3=2.5' \
 > >  -e '$4=0;$5=0;$6=1' | rtrace -I -h [options] octree \
 > >  | rcalc -e '$1=179*(.265*$1+.670*$2+.065*$3)' >
 >output.dat
 >

I had been using modification of the above to generate the grid and get 
illuminance values.  But recently, I just tried this:
 > > % cnt 6 12 | rcalc -e 
'$1=(162-13.5)/(6-1)*$1;$2=(324-13.5)/(12-1)*$2;$3=36;$4=0;$5=0;$6=1' > 
output.out

This was for a scene modeled in inches, and the room dimensions are 
13'-5" x 27'.  I wanted to divide the room into 27" squares and get 
illuminance readings at their center.  The output I got was

0	0	36	0	0	1
0	28.2272727	36	0	0	1
0	56.4545455	36	0	0	1
0	84.6818182	36	0	0	1
0	112.909091	36	0	0	1
0	141.136364	36	0	0	1
0	169.363636	36	0	0	1
0	197.590909	36	0	0	1
0	225.818182	36	0	0	1
0	254.045455	36	0	0	1
0	282.272727	36	0	0	1
0	310.5	36	0	0	1
29.7	0	36	0	0	1
29.7	28.2272727	36	0	0	1
29.7	56.4545455	36	0	0	1
29.7	84.6818182	36	0	0	1
29.7	112.909091	36	0	0	1
29.7	141.136364	36	0	0	1
29.7	169.363636	36	0	0	1
29.7	197.590909	36	0	0	1
29.7	225.818182	36	0	0	1
29.7	254.045455	36	0	0	1
29.7	282.272727	36	0	0	1
29.7	310.5	36	0	0	1
59.4	0	36	0	0	1
59.4	28.2272727	36	0	0	1
59.4	56.4545455	36	0	0	1
59.4	84.6818182	36	0	0	1
59.4	112.909091	36	0	0	1
59.4	141.136364	36	0	0	1
59.4	169.363636	36	0	0	1
59.4	197.590909	36	0	0	1
59.4	225.818182	36	0	0	1
59.4	254.045455	36	0	0	1
59.4	282.272727	36	0	0	1
59.4	310.5	36	0	0	1
89.1	0	36	0	0	1
89.1	28.2272727	36	0	0	1
89.1	56.4545455	36	0	0	1
89.1	84.6818182	36	0	0	1
89.1	112.909091	36	0	0	1
89.1	141.136364	36	0	0	1
89.1	169.363636	36	0	0	1
89.1	197.590909	36	0	0	1
89.1	225.818182	36	0	0	1
89.1	254.045455	36	0	0	1
89.1	282.272727	36	0	0	1
89.1	310.5	36	0	0	1
118.8	0	36	0	0	1
118.8	28.2272727	36	0	0	1
118.8	56.4545455	36	0	0	1
118.8	84.6818182	36	0	0	1
118.8	112.909091	36	0	0	1
118.8	141.136364	36	0	0	1
118.8	169.363636	36	0	0	1
118.8	197.590909	36	0	0	1
118.8	225.818182	36	0	0	1
118.8	254.045455	36	0	0	1
118.8	282.272727	36	0	0	1
118.8	310.5	36	0	0	1
148.5	0	36	0	0	1
148.5	28.2272727	36	0	0	1
148.5	56.4545455	36	0	0	1
148.5	84.6818182	36	0	0	1
148.5	112.909091	36	0	0	1
148.5	141.136364	36	0	0	1
148.5	169.363636	36	0	0	1
148.5	197.590909	36	0	0	1
148.5	225.818182	36	0	0	1
148.5	254.045455	36	0	0	1
148.5	282.272727	36	0	0	1
148.5	310.5	36	0	0	1

What puzzled me was that this output takes some of the reading at 
points that are in the wall (x values of 0, and y values of 0), and 
that the grid is actually shifted.  If all the values are taken as an 
average, then I doubt this shift has a huge impact.  However, if you 
need to take readings at precise points distributed across the room, it 
seems to me that this grid would be off.

So, I fiddled with what rudimentary mathematics I can handle, tried 
this instead

 > > % cnt 6 12 | rcalc -e 
'$1=(162/6)*$1+13.5;$2=(324/12)*$2+13.5;$3=36;$4=0;$5=0;$6=1' > 
output.out

13.5	13.5	36	0	0	1
13.5	40.5	36	0	0	1
13.5	67.5	36	0	0	1
13.5	94.5	36	0	0	1
13.5	121.5	36	0	0	1
13.5	148.5	36	0	0	1
13.5	175.5	36	0	0	1
13.5	202.5	36	0	0	1
13.5	229.5	36	0	0	1
13.5	256.5	36	0	0	1
13.5	283.5	36	0	0	1
13.5	310.5	36	0	0	1
40.5	13.5	36	0	0	1
40.5	40.5	36	0	0	1
40.5	67.5	36	0	0	1
40.5	94.5	36	0	0	1
40.5	121.5	36	0	0	1
40.5	148.5	36	0	0	1
40.5	175.5	36	0	0	1
40.5	202.5	36	0	0	1
40.5	229.5	36	0	0	1
40.5	256.5	36	0	0	1
40.5	283.5	36	0	0	1
40.5	310.5	36	0	0	1
67.5	13.5	36	0	0	1
67.5	40.5	36	0	0	1
67.5	67.5	36	0	0	1
67.5	94.5	36	0	0	1
67.5	121.5	36	0	0	1
67.5	148.5	36	0	0	1
67.5	175.5	36	0	0	1
67.5	202.5	36	0	0	1
67.5	229.5	36	0	0	1
67.5	256.5	36	0	0	1
67.5	283.5	36	0	0	1
67.5	310.5	36	0	0	1
94.5	13.5	36	0	0	1
94.5	40.5	36	0	0	1
94.5	67.5	36	0	0	1
94.5	94.5	36	0	0	1
94.5	121.5	36	0	0	1
94.5	148.5	36	0	0	1
94.5	175.5	36	0	0	1
94.5	202.5	36	0	0	1
94.5	229.5	36	0	0	1
94.5	256.5	36	0	0	1
94.5	283.5	36	0	0	1
94.5	310.5	36	0	0	1
121.5	13.5	36	0	0	1
121.5	40.5	36	0	0	1
121.5	67.5	36	0	0	1
121.5	94.5	36	0	0	1
121.5	121.5	36	0	0	1
121.5	148.5	36	0	0	1
121.5	175.5	36	0	0	1
121.5	202.5	36	0	0	1
121.5	229.5	36	0	0	1
121.5	256.5	36	0	0	1
121.5	283.5	36	0	0	1
121.5	310.5	36	0	0	1
148.5	13.5	36	0	0	1
148.5	40.5	36	0	0	1
148.5	67.5	36	0	0	1
148.5	94.5	36	0	0	1
148.5	121.5	36	0	0	1
148.5	148.5	36	0	0	1
148.5	175.5	36	0	0	1
148.5	202.5	36	0	0	1
148.5	229.5	36	0	0	1
148.5	256.5	36	0	0	1
148.5	283.5	36	0	0	1
148.5	310.5	36	0	0	1

The important part is that there were no x or y values of 0, and the 
points were not shifted.  I probably got something wrong here, but 
these input positions were the values that I was expecting.

I hope somebody finds this useful.


--Apple-Mail-1-439257991
Content-Transfer-Encoding: 7bit
Content-Type: text/enriched;
	charset=US-ASCII

I've been away from my dual G5 machine, so could not work on the nfs
issue (which I have to get back to shortly), but in the meantime, I
have noticed something in a past discussion that I find puzzling. 
It's regarding getting illuminance values across a grid using rtrace.


<fontfamily><param>Courier</param><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>On
22 May 2002, at 14:21, Greg Ward wrote:

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
> a better example for a grid

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
> of 15 by 30 points spread in a 10x20 room and 2.5 feet

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>off

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
> the floor with a half foot margin on each side would be:

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger> >

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
> % cnt 15 30 | rcalc -e
'$1=(10-.5)/(15-1)*$1;$2=(20-.5)/(30-1)*$2;$3=2.5' \

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
>  -e '$4=0;$5=0;$6=1' | rtrace -I -h [options] octree \

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
>  | rcalc -e '$1=179*(.265*$1+.670*$2+.065*$3)' >

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>output.dat

</x-tad-bigger></italic><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>


</x-tad-bigger></italic></fontfamily>I had been using modification of
the above to generate the grid and get illuminance values.  But
recently, I just tried this:

<fontfamily><param>Courier</param><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
> % cnt 6 12 | rcalc -e
'$1=(162-13.5)/(6-1)*$1;$2=(324-13.5)/(12-1)*$2;$3=36;$4=0;$5=0;$6=1'
> output.out


</x-tad-bigger></italic></fontfamily>This was for a scene modeled in
inches, and the room dimensions are 13'-5" x 27'.  I wanted to divide
the room into 27" squares and get illuminance readings at their
center.  The output I got was


0	0	36	0	0	1

0	28.2272727	36	0	0	1

0	56.4545455	36	0	0	1

0	84.6818182	36	0	0	1

0	112.909091	36	0	0	1

0	141.136364	36	0	0	1

0	169.363636	36	0	0	1

0	197.590909	36	0	0	1

0	225.818182	36	0	0	1

0	254.045455	36	0	0	1

0	282.272727	36	0	0	1

0	310.5	36	0	0	1

29.7	0	36	0	0	1

29.7	28.2272727	36	0	0	1

29.7	56.4545455	36	0	0	1

29.7	84.6818182	36	0	0	1

29.7	112.909091	36	0	0	1

29.7	141.136364	36	0	0	1

29.7	169.363636	36	0	0	1

29.7	197.590909	36	0	0	1

29.7	225.818182	36	0	0	1

29.7	254.045455	36	0	0	1

29.7	282.272727	36	0	0	1

29.7	310.5	36	0	0	1

59.4	0	36	0	0	1

59.4	28.2272727	36	0	0	1

59.4	56.4545455	36	0	0	1

59.4	84.6818182	36	0	0	1

59.4	112.909091	36	0	0	1

59.4	141.136364	36	0	0	1

59.4	169.363636	36	0	0	1

59.4	197.590909	36	0	0	1

59.4	225.818182	36	0	0	1

59.4	254.045455	36	0	0	1

59.4	282.272727	36	0	0	1

59.4	310.5	36	0	0	1

89.1	0	36	0	0	1

89.1	28.2272727	36	0	0	1

89.1	56.4545455	36	0	0	1

89.1	84.6818182	36	0	0	1

89.1	112.909091	36	0	0	1

89.1	141.136364	36	0	0	1

89.1	169.363636	36	0	0	1

89.1	197.590909	36	0	0	1

89.1	225.818182	36	0	0	1

89.1	254.045455	36	0	0	1

89.1	282.272727	36	0	0	1

89.1	310.5	36	0	0	1

118.8	0	36	0	0	1

118.8	28.2272727	36	0	0	1

118.8	56.4545455	36	0	0	1

118.8	84.6818182	36	0	0	1

118.8	112.909091	36	0	0	1

118.8	141.136364	36	0	0	1

118.8	169.363636	36	0	0	1

118.8	197.590909	36	0	0	1

118.8	225.818182	36	0	0	1

118.8	254.045455	36	0	0	1

118.8	282.272727	36	0	0	1

118.8	310.5	36	0	0	1

148.5	0	36	0	0	1

148.5	28.2272727	36	0	0	1

148.5	56.4545455	36	0	0	1

148.5	84.6818182	36	0	0	1

148.5	112.909091	36	0	0	1

148.5	141.136364	36	0	0	1

148.5	169.363636	36	0	0	1

148.5	197.590909	36	0	0	1

148.5	225.818182	36	0	0	1

148.5	254.045455	36	0	0	1

148.5	282.272727	36	0	0	1

148.5	310.5	36	0	0	1

 

What puzzled me was that this output takes some of the reading at
points that are in the wall (x values of 0, and y values of 0), and
that the grid is actually shifted.  If all the values are taken as an
average, then I doubt this shift has a huge impact.  However, if you
need to take readings at precise points distributed across the room,
it seems to me that this grid would be off.


So, I fiddled with what rudimentary mathematics I can handle, tried
this instead


<fontfamily><param>Courier</param><x-tad-bigger>></x-tad-bigger><italic><x-tad-bigger>
> % cnt 6 12 | rcalc -e
'$1=(162/6)*$1+13.5;$2=(324/12)*$2+13.5;$3=36;$4=0;$5=0;$6=1' >
output.out

</x-tad-bigger></italic></fontfamily>

13.5	13.5	36	0	0	1

13.5	40.5	36	0	0	1

13.5	67.5	36	0	0	1

13.5	94.5	36	0	0	1

13.5	121.5	36	0	0	1

13.5	148.5	36	0	0	1

13.5	175.5	36	0	0	1

13.5	202.5	36	0	0	1

13.5	229.5	36	0	0	1

13.5	256.5	36	0	0	1

13.5	283.5	36	0	0	1

13.5	310.5	36	0	0	1

40.5	13.5	36	0	0	1

40.5	40.5	36	0	0	1

40.5	67.5	36	0	0	1

40.5	94.5	36	0	0	1

40.5	121.5	36	0	0	1

40.5	148.5	36	0	0	1

40.5	175.5	36	0	0	1

40.5	202.5	36	0	0	1

40.5	229.5	36	0	0	1

40.5	256.5	36	0	0	1

40.5	283.5	36	0	0	1

40.5	310.5	36	0	0	1

67.5	13.5	36	0	0	1

67.5	40.5	36	0	0	1

67.5	67.5	36	0	0	1

67.5	94.5	36	0	0	1

67.5	121.5	36	0	0	1

67.5	148.5	36	0	0	1

67.5	175.5	36	0	0	1

67.5	202.5	36	0	0	1

67.5	229.5	36	0	0	1

67.5	256.5	36	0	0	1

67.5	283.5	36	0	0	1

67.5	310.5	36	0	0	1

94.5	13.5	36	0	0	1

94.5	40.5	36	0	0	1

94.5	67.5	36	0	0	1

94.5	94.5	36	0	0	1

94.5	121.5	36	0	0	1

94.5	148.5	36	0	0	1

94.5	175.5	36	0	0	1

94.5	202.5	36	0	0	1

94.5	229.5	36	0	0	1

94.5	256.5	36	0	0	1

94.5	283.5	36	0	0	1

94.5	310.5	36	0	0	1

121.5	13.5	36	0	0	1

121.5	40.5	36	0	0	1

121.5	67.5	36	0	0	1

121.5	94.5	36	0	0	1

121.5	121.5	36	0	0	1

121.5	148.5	36	0	0	1

121.5	175.5	36	0	0	1

121.5	202.5	36	0	0	1

121.5	229.5	36	0	0	1

121.5	256.5	36	0	0	1

121.5	283.5	36	0	0	1

121.5	310.5	36	0	0	1

148.5	13.5	36	0	0	1

148.5	40.5	36	0	0	1

148.5	67.5	36	0	0	1

148.5	94.5	36	0	0	1

148.5	121.5	36	0	0	1

148.5	148.5	36	0	0	1

148.5	175.5	36	0	0	1

148.5	202.5	36	0	0	1

148.5	229.5	36	0	0	1

148.5	256.5	36	0	0	1

148.5	283.5	36	0	0	1

148.5	310.5	36	0	0	1


The important part is that there were no x or y values of 0, and the
points were not shifted.  I probably got something wrong here, but
these input positions were the values that I was expecting.


I hope somebody finds this useful. 



--Apple-Mail-1-439257991--


From radiance-general@radiance-online.org  Sun Jan  4 17:25:27 2004
From: radiance-general@radiance-online.org (John S. An)
Date: Sun, 4 Jan 2004 12:25:27 -0500
Subject: [Radiance-general] rendering parameters
Message-ID: <FD127F96-3EDA-11D8-95C1-000A95871DF2@mac.com>

I was wondering if I could get some input from the experienced Radiance 
users out there regarding rendering parameters.  I am currently 
rendering an extremely basic room (13.5'x13.5'x14') with one indirect 
light fixture.  However, accuracy is extremely important.  So I am in 
the process of running test runs to see what would be the optimal 
rendering parameters within the time limit I have.

I had been getting blotchy results, so I have been doubling the -ad 
parameter.  My most recent rendering parameters were:

-i -t 600 -dt 0.04 -dc 1 -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 1 
-av 0 0 0 -aw 0 -ab 3 -ad 4096 -as 2048 -ar 256 -aE ../ambient_exclude 
-ms 2.7 -lr 12 -lw 0.0005 -aa 0.04 -af b_b_m.amb -ps 1 -pt 0.04 -x 512 
-y 512 -pa 0

I did an overture rendering at -x 64 -y 64 prior to creating the image 
at 512x512.

I am, still getting what I feel to be significant blotchiness.  The 
image can be seen at:
http:/homepage.mac.com/jsan

So, my questions are:
Are there any immediate red-flags you see in my rendering parameters 
that seem incorrect?
Do I simply need to keep increasing the -ad to get better results, or 
would lowering the -pt help both the visual and calculation accuracy?
If I pfilt the image with -x /2 -y /2, will that merge the values of 
the pixels enough to make the values at each pixel relatively accurate?

Just as background, this image took about 12 hours to render (with the 
overture calculations) using rpiece on a dual G5 Macintosh with 1.5 GB 
of RAM and a 2.24 P4 with 1 GB of RAM.  I have about 200 similar 
situations to run (more light fixtures, larger room, etc.)  So 
increasing the -ad to 8192 seems to be prohibitively expensive at this 
point.

Thanks.


From radiance-general@radiance-online.org  Sun Jan  4 17:29:57 2004
From: radiance-general@radiance-online.org (John S. An)
Date: Sun, 4 Jan 2004 12:29:57 -0500
Subject: [Radiance-general] Re: rendering parameters
In-Reply-To: <FD127F96-3EDA-11D8-95C1-000A95871DF2@mac.com>
References: <FD127F96-3EDA-11D8-95C1-000A95871DF2@mac.com>
Message-ID: <9DE6AE66-3EDB-11D8-9CEB-000A95871DF2@mac.com>

Sorry, forgot to mention that the view taken of the image is a plan 
view.



On Jan 4, 2004, at 12:25 PM, John S. An wrote:

> I was wondering if I could get some input from the experienced 
> Radiance users out there regarding rendering parameters.  I am 
> currently rendering an extremely basic room (13.5'x13.5'x14') with one 
> indirect light fixture.  However, accuracy is extremely important.  So 
> I am in the process of running test runs to see what would be the 
> optimal rendering parameters within the time limit I have.
>
> I had been getting blotchy results, so I have been doubling the -ad 
> parameter.  My most recent rendering parameters were:
>
> -i -t 600 -dt 0.04 -dc 1 -ds 0.01 -dj 0.6 -dr 3 -dp 4096 -st 0.01 -sj 
> 1 -av 0 0 0 -aw 0 -ab 3 -ad 4096 -as 2048 -ar 256 -aE 
> ../ambient_exclude -ms 2.7 -lr 12 -lw 0.0005 -aa 0.04 -af b_b_m.amb 
> -ps 1 -pt 0.04 -x 512 -y 512 -pa 0
>
> I did an overture rendering at -x 64 -y 64 prior to creating the image 
> at 512x512.
>
> I am, still getting what I feel to be significant blotchiness.  The 
> image can be seen at:
> http:/homepage.mac.com/jsan
>
> So, my questions are:
> Are there any immediate red-flags you see in my rendering parameters 
> that seem incorrect?
> Do I simply need to keep increasing the -ad to get better results, or 
> would lowering the -pt help both the visual and calculation accuracy?
> If I pfilt the image with -x /2 -y /2, will that merge the values of 
> the pixels enough to make the values at each pixel relatively 
> accurate?
>
> Just as background, this image took about 12 hours to render (with the 
> overture calculations) using rpiece on a dual G5 Macintosh with 1.5 GB 
> of RAM and a 2.24 P4 with 1 GB of RAM.  I have about 200 similar 
> situations to run (more light fixtures, larger room, etc.)  So 
> increasing the -ad to 8192 seems to be prohibitively expensive at this 
> point.
>
> Thanks.
>


From radiance-general@radiance-online.org  Mon Jan  5 10:57:38 2004
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Mon, 5 Jan 2004 12:57:38 +0200
Subject: [Radiance-general] mgf2inv vrml experiences?
Message-ID: <F9E5FC35-3F6D-11D8-81BB-000A959DDB22@gmx.net>

Hi!

Is there anybody using the mgf2inv converter? I am not able to import 
the generated vrml into formZ, which is the only tool I have currently 
availabe. Is there any other way known to get from .rad to a cad file 
format?

I wish you all a happy new year!

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


--
Lars O. Grobe, grobe@gmx.net, ++90-212-2458330

Kardesler Apartment, Turnacibasi Sokak 28
Galatasaray - Beyoglu, 34433 Istanbul


From radiance-general@radiance-online.org  Mon Jan  5 22:40:33 2004
From: radiance-general@radiance-online.org (John S. An)
Date: Mon, 5 Jan 2004 17:40:33 -0500
Subject: [Radiance-general] Re: rendering parameters
Message-ID: <2C47511B-3FD0-11D8-A603-000A95871DF2@mac.com>

Regarding the problems I am having with simple room rendering, I have 
zipped and placed all the .rad, .mat, and control files at the same 
address (http://homepage.mac.com/jsan).

Also, I finished rendering another image of a room twice the size of 
the original (13'-6 x 27') and with 18 bare bulbs.  This time, there is 
a weird moiré-like effect in the rendering.  All of the parameters 
were, for the most part, identical to the previous case (the only 
changes were that I upped the -y parameter to 1024 to account for the 
larger room).

Any ideas as to what is going wrong?


John An


From radiance-general@radiance-online.org  Tue Jan  6 19:52:16 2004
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Tue, 6 Jan 2004 13:52:16 -0600
Subject: [Radiance-general] Ambient file Q's
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69297@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3D48E.961B1E30
Content-Type: text/plain

I rendered a series of images with -ad 2048 -as 1024 -ar 52 -af  file.amb
(taking many hours to render)
They came out splotchy, so I increased -ad 4096 -as 2048 -ar  200 -af
file.amb (building upon the same data)
 I expected it to take quite a while to render, but they took ~ 5 to 10
minutes and I saw no real improvement
my question is the nature of the ambient file..
If I start it with a lower quality, can I improve it? Or is it similar to
trying to "upres" a Photoshop from 300 dpi to 600dpi

judging by my results, this seems to be the case

Thanks

Rob F

------_=_NextPart_001_01C3D48E.961B1E30
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>Ambient file Q's</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I rendered a series of images with -ad 2048 -as 1024 =
-ar 52 -af&nbsp; file.amb (taking many hours to render)</FONT>
<BR><FONT SIZE=3D2>They came out splotchy, so I increased -ad 4096 -as =
2048 -ar&nbsp; 200 -af file.amb (building upon the same data)</FONT>
<BR><FONT SIZE=3D2>&nbsp;I expected it to take quite a while to render, =
but they took ~ 5 to 10 minutes and I saw no real improvement</FONT>
<BR><FONT SIZE=3D2>my question is the nature of the ambient =
file..</FONT>
<BR><FONT SIZE=3D2>If I start it with a lower quality, can I improve =
it? Or is it similar to trying to &quot;upres&quot; a Photoshop from =
300 dpi to 600dpi</FONT></P>

<P><FONT SIZE=3D2>judging by my results, this seems to be the =
case</FONT>
</P>

<P><FONT SIZE=3D2>Thanks</FONT>
</P>

<P><FONT SIZE=3D2>Rob F</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3D48E.961B1E30--

From radiance-general@radiance-online.org  Tue Jan  6 20:12:42 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 6 Jan 2004 12:12:42 -0800
Subject: [Radiance-general] Re: rendering parameters
In-Reply-To: <2C47511B-3FD0-11D8-A603-000A95871DF2@mac.com>
References: <2C47511B-3FD0-11D8-A603-000A95871DF2@mac.com>
Message-ID: <AF5F6C6B-4084-11D8-8988-000A95BB392A@lmi.net>

Hi John,

I don't really have time right now to look at your input files, but it 
seems that your problems are associated with the light source sampling. 
  Specifically, the original image with the single fixture seems to have 
some kind of geometry in front of it, which is going to cause 
randomness in the shadows produced.  You should either get rid of this 
bit of geometry (looks like three vanes of a fan) or use an illum 
without such obstructions in front of it.

In the second case where you have many sources, what you are seeing is 
the result of the direct jitter.  If you set -dj 0 these artifacts 
should disappear.

-Greg

> From: "John S. An" <whollycow@mac.com>
> Date: January 5, 2004 2:40:33 PM PST
>
> Regarding the problems I am having with simple room rendering, I have 
> zipped and placed all the .rad, .mat, and control files at the same 
> address (http://homepage.mac.com/jsan).
>
> Also, I finished rendering another image of a room twice the size of 
> the original (13'-6 x 27') and with 18 bare bulbs.  This time, there 
> is a weird moiré-like effect in the rendering.  All of the parameters 
> were, for the most part, identical to the previous case (the only 
> changes were that I upped the -y parameter to 1024 to account for the 
> larger room).
>
> Any ideas as to what is going wrong?
>
> John An



From radiance-general@radiance-online.org  Tue Jan  6 20:35:21 2004
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Tue, 06 Jan 2004 15:35:21 -0500
Subject: [Radiance-general] Ambient file Q's
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D69297@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D69297@corvallis.summit.fiserv.com>
Message-ID: <3FFB1C09.6090802@rumblestrip.org>

Fitzsimmons, Rob wrote:

> I rendered a series of images with -ad 2048 -as 1024 -ar 52 -af  
> file.amb (taking many hours to render)
> They came out splotchy, so I increased -ad 4096 -as 2048 -ar  200 -af 
> file.amb (building upon the same data)
>  I expected it to take quite a while to render, but they took ~ 5 to 10 
> minutes and I saw no real improvement
> my question is the nature of the ambient file..
> If I start it with a lower quality, can I improve it? Or is it similar 
> to trying to "upres" a Photoshop from 300 dpi to 600dpi

Hi Rob,

I'm assuming you used rpict directly, and not rad?  Anytime you change 
the rendering parameters you have to delete the ambient cache.  Rad does 
this for you automatically.  My guess is that you didn't do that, so 
there's the reason for both the speedy rendering and the negligible 
difference in image quality avan after doubling your ambient parameters.

So no, as I understand it, an ambient file seeded under lower quality 
settings will not improve when you re-run with higher settings.  You 
must start over.

As for the splotchies, maybe some more detail about your model would 
help us troubleshoot that, or maybe a sample image?

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Tue Jan  6 20:43:49 2004
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Tue, 06 Jan 2004 15:43:49 -0500
Subject: [Radiance-general] Ambient file Q's
References: <7B2F6EA5E35E214882CB9828962BC3CF04D69297@corvallis.summit.fiserv.com>
Message-ID: <3FFB1E05.5010306@visarc.com>

--------------060705040407050501070500
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi Rob,

I remember having the same thought when I was learning radiance (which I 
am still learning by the way). Unfortunately, you cannot reuse an 
ambient file in this manner where you progressively refine the 
parameters and thus refine the ambient data. Generally, if you change 
the ambient parameters then you need to start off with a fresh ambient 
file. The one note here is that it is possible to "relax" certain of the 
parameters after first doing an overture calculation to fill the ambient 
cache. The -aa, -ad and -as parameters can be reduced after the overture 
calculation. For example, just looking at the ambient parameters:

pass 0 (overture)
-ab 2 -ar 200 -ad 4096 -as 2048 -aa .15

pass 1
-ab 2 -ar 200 -ad 2048 -as 1024 -aa .25

Note that the overture calculation is performed by running rpict on a 
small image size (64x64 for example) and discarding the image output. 
The point is to populate the ambient file with data. Rendering with 
Radiance has further information on this in John Mardaljevic's chapter 
(6) on Daylighting Simulation.

-Jack de Valpine


Fitzsimmons, Rob wrote:

> I rendered a series of images with -ad 2048 -as 1024 -ar 52 -af  
> file.amb (taking many hours to render)
> They came out splotchy, so I increased -ad 4096 -as 2048 -ar  200 -af 
> file.amb (building upon the same data)
>  I expected it to take quite a while to render, but they took ~ 5 to 
> 10 minutes and I saw no real improvement
> my question is the nature of the ambient file..
> If I start it with a lower quality, can I improve it? Or is it similar 
> to trying to "upres" a Photoshop from 300 dpi to 600dpi
>
> judging by my results, this seems to be the case
>
> Thanks
>
> Rob F
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------060705040407050501070500
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Hi Rob,<br>
<br>
I remember having the same thought when I was learning radiance (which I
am still learning by the way). Unfortunately, you cannot reuse an ambient
file in this manner where you progressively refine the parameters and thus
refine the ambient data. Generally, if you change the ambient parameters
then you need to start off with a fresh ambient file. The one note here is
that it is possible to "relax" certain of the parameters after first doing
an overture calculation to fill the ambient cache. The -aa, -ad and -as parameters
can be reduced after the overture calculation. For example, just looking
at the ambient parameters:<br>
<br>
pass 0 (overture)<br>
-ab 2 -ar 200 -ad 4096 -as 2048 -aa .15<br>
<br>
pass 1<br>
-ab 2 -ar 200 -ad 2048 -as 1024 -aa .25<br>
<br>
Note that the overture calculation is performed by running rpict on a small
image size (64x64 for example) and discarding the image output. The point
is to populate the ambient file with data. Rendering with Radiance has further
information on this in John Mardaljevic's chapter (6) on Daylighting Simulation.<br>
<br>
-Jack de Valpine<br>
<br>
<br>
Fitzsimmons, Rob wrote:<br>
<blockquote type="cite"
 cite="mid7B2F6EA5E35E214882CB9828962BC3CF04D69297@corvallis.summit.fiserv.com"> 
  
  <meta http-equiv="Content-Type" content="text/html; ">
 
  <meta name="Generator"
 content="MS Exchange Server version 5.5.2653.12">
  <title>Ambient file Q's</title>
    
  <p><font size="2">I rendered a series of images with -ad 2048 -as 1024
-ar 52 -af&nbsp; file.amb (taking many hours to render)</font> <br>
  <font size="2">They came out splotchy, so I increased -ad 4096 -as 2048
-ar&nbsp; 200 -af file.amb (building upon the same data)</font> <br>
  <font size="2">&nbsp;I expected it to take quite a while to render, but they
took ~ 5 to 10 minutes and I saw no real improvement</font> <br>
  <font size="2">my question is the nature of the ambient file..</font> <br>
  <font size="2">If I start it with a lower quality, can I improve it? Or
is it similar to trying to "upres" a Photoshop from 300 dpi to 600dpi</font></p>
  
  <p><font size="2">judging by my results, this seems to be the case</font> 
  </p>
  
  <p><font size="2">Thanks</font> </p>
  
  <p><font size="2">Rob F</font> </p>
  </blockquote>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------060705040407050501070500--


From radiance-general@radiance-online.org  Tue Jan  6 21:12:29 2004
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Tue, 6 Jan 2004 16:12:29 -0500 (EST)
Subject: [Radiance-general] Ambient file Q's
In-Reply-To: <3FFB1C09.6090802@rumblestrip.org>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D69297@corvallis.summit.fiserv.com>
 <3FFB1C09.6090802@rumblestrip.org>
Message-ID: <Pine.BSF.4.58.0401061608390.10028@emancholl.pair.com>

Rob Guglielmetti wrote:

> So no, as I understand it, an ambient file seeded under lower quality
> settings will not improve when you re-run with higher settings.  You
> must start over.


More precisely, you need a new ambient file after one or
several of the following parameters has been changed:

 -av -ab -aa -ad -as -ar


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From radiance-general@radiance-online.org  Tue Jan  6 22:12:12 2004
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Tue, 6 Jan 2004 16:12:12 -0600
Subject: [Radiance-general] Ambient file Q's
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D6929A@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3D4A2.2274B450
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Thanks=20
That explains it - I'll delete the amb file=20

I'm assuming you used rpict directly, and not rad?=A0 Anytime you =
change=20
the rendering parameters you have to delete the ambient cache.=A0 Rad =
does=20
this for you automatically.=A0 My guess is that you didn't do that, so=20
there's the reason for both the speedy rendering and the negligible=20
difference in image quality avan after doubling your ambient =
parameters.=20

Actually, I did it through rad with Render=3D options=20

So no, as I understand it, an ambient file seeded under lower quality=20
settings will not improve when you re-run with higher settings.=A0 You=20
must start over.=20

As for the splotchies, maybe some more detail about your model would=20
help us troubleshoot that, or maybe a sample image?=20

here it be=20
http://www.geocities.com/rastermon/Sonti7_GR.html=20
=A0=20

-----Original Message-----=20
From: Georg Mischler=20
To: radiance-general@radiance-online.org=20
Sent: 1/6/2004 1:12 PM=20
Subject: Re: [Radiance-general] Ambient file Q's=20



More precisely, you need a new ambient file after one or=20
several of the following parameters has been changed:=20

=A0-av -ab -aa -ad -as -ar=20


-schorsch=20

--=20
Georg Mischler=A0 --=A0 simulations developer=A0 --=A0 schorsch at =
schorsch com=20
+schorsch.com+=A0 --=A0 lighting design tools=A0 --=A0 =
http://www.schorsch.com/=20
_______________________________________________=20
Radiance-general mailing list=20
Radiance-general@radiance-online.org=20
http://www.radiance-online.org/mailman/listinfo/radiance-general=20
=A0=20

------_=_NextPart_001_01C3D4A2.2274B450
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RE: [Radiance-general] Ambient file Q's</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Thanks </FONT>
<BR><FONT SIZE=3D2>That explains it - I'll delete the amb file </FONT>
</P>

<P><FONT SIZE=3D2>I'm assuming you used rpict directly, and not rad?=A0 =
Anytime you change </FONT>
<BR><FONT SIZE=3D2>the rendering parameters you have to delete the =
ambient cache.=A0 Rad does </FONT>
<BR><FONT SIZE=3D2>this for you automatically.=A0 My guess is that you =
didn't do that, so </FONT>
<BR><FONT SIZE=3D2>there's the reason for both the speedy rendering and =
the negligible </FONT>
<BR><FONT SIZE=3D2>difference in image quality avan after doubling your =
ambient parameters. </FONT>
</P>

<P><FONT SIZE=3D2>Actually, I did it through rad with Render=3D options =
</FONT>
</P>

<P><FONT SIZE=3D2>So no, as I understand it, an ambient file seeded =
under lower quality </FONT>
<BR><FONT SIZE=3D2>settings will not improve when you re-run with =
higher settings.=A0 You </FONT>
<BR><FONT SIZE=3D2>must start over. </FONT>
</P>

<P><FONT SIZE=3D2>As for the splotchies, maybe some more detail about =
your model would </FONT>
<BR><FONT SIZE=3D2>help us troubleshoot that, or maybe a sample image? =
</FONT>
</P>

<P><FONT SIZE=3D2>here it be </FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"http://www.geocities.com/rastermon/Sonti7_GR.html" =
TARGET=3D"_blank">http://www.geocities.com/rastermon/Sonti7_GR.html</A> =
</FONT>
<BR><FONT SIZE=3D2>=A0 </FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message----- </FONT>
<BR><FONT SIZE=3D2>From: Georg Mischler </FONT>
<BR><FONT SIZE=3D2>To: radiance-general@radiance-online.org </FONT>
<BR><FONT SIZE=3D2>Sent: 1/6/2004 1:12 PM </FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Radiance-general] Ambient file Q's =
</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>More precisely, you need a new ambient file after one =
or </FONT>
<BR><FONT SIZE=3D2>several of the following parameters has been =
changed: </FONT>
</P>

<P><FONT SIZE=3D2>=A0-av -ab -aa -ad -as -ar </FONT>
</P>
<BR>

<P><FONT SIZE=3D2>-schorsch </FONT>
</P>

<P><FONT SIZE=3D2>-- </FONT>
<BR><FONT SIZE=3D2>Georg Mischler=A0 --=A0 simulations developer=A0 =
--=A0 schorsch at schorsch com </FONT>
<BR><FONT SIZE=3D2>+schorsch.com+=A0 --=A0 lighting design tools=A0 =
--=A0 <A HREF=3D"http://www.schorsch.com/" =
TARGET=3D"_blank">http://www.schorsch.com/</A> </FONT>
<BR><FONT SIZE=3D2>_______________________________________________ =
</FONT>
<BR><FONT SIZE=3D2>Radiance-general mailing list </FONT>
<BR><FONT SIZE=3D2>Radiance-general@radiance-online.org </FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"http://www.radiance-online.org/mailman/listinfo/radiance-general=
" =
TARGET=3D"_blank">http://www.radiance-online.org/mailman/listinfo/radian=
ce-general</A> </FONT>
<BR><FONT SIZE=3D2>=A0</FONT>=20
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3D4A2.2274B450--

From radiance-general@radiance-online.org  Tue Jan  6 23:08:01 2004
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Tue, 06 Jan 2004 18:08:01 -0500
Subject: [Radiance-general] Ambient file Q's
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D6929A@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D6929A@corvallis.summit.fiserv.com>
Message-ID: <3FFB3FD1.2090804@rumblestrip.org>

Fitzsimmons, Rob wrote:

> As for the splotchies, maybe some more detail about your model would
> help us troubleshoot that, or maybe a sample image?
> 
> here it be
> http://www.geocities.com/rastermon/Sonti7_GR.html

What's at the top of that stair?  A skylight?  Window?  Portal into 
another dimension?  If it's one of the first two, I recommend using 
illums for the distribution of your luminous areas.  That will help a 
great deal.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Wed Jan  7 11:56:23 2004
From: radiance-general@radiance-online.org (etsaweb)
Date: Wed, 7 Jan 2004 12:56:23 +0100
Subject: [Radiance-general] real time
Message-ID: <010f01c3d515$45b587a0$987bed9f@TEDWEB1>

This is a multi-part message in MIME format.

------=_NextPart_000_010C_01C3D51D.A76DBAA0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

There are several utilities in radiance to achieve interativity with =
radiance(rview, rholo...) but all of them are based in sofware, so they =
are a bit slow, is there any way in which radiance can make use of =
hardware acceleration? or could be it possible in future? can opengl =
help to it?...


Ignacio Mun=E1rriz,
Escuela de Arquitectura, Universidad de Navarra

Pta:Now i have a "rendering with radiance" ebook version and i am =
happy!!!! , thanks Greg
------=_NextPart_000_010C_01C3D51D.A76DBAA0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2800.1106" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>There are&nbsp;several utilities in =
radiance to=20
achieve interativity with radiance(rview,&nbsp;rholo...) but all of them =
are=20
based in sofware, so they are a bit slow,&nbsp;is there&nbsp;any way in =
which=20
radiance can&nbsp;make use of hardware acceleration? or could be it =
possible in=20
future? can opengl&nbsp;help to it?...</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Ignacio Mun=E1rriz,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Escuela de Arquitectura, Universidad de =

Navarra</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Pta:Now i have a "rendering with =
radiance" ebook=20
version and i am happy!!!! , thanks Greg</FONT></DIV></BODY></HTML>

------=_NextPart_000_010C_01C3D51D.A76DBAA0--


From radiance-general@radiance-online.org  Wed Jan  7 13:54:15 2004
From: radiance-general@radiance-online.org (Bruce Sounes)
Date: Wed, 7 Jan 2004 13:54:15 -0000
Subject: [Radiance-general] RE: Ambient file Q's (Fitzsimmons, Rob)
Message-ID: <E6F767BB30C9274291142832471368900421F8@fileserver.sea.local>

Rob, 

Oh so familiar! Rob's comment on using mkillum is right, I think. It
looks like you have no direct sources - primary or secondary -
contributing to the illumination of surfaces visible in the scene. You
should be able to achieve far better results with lower ad's ab's etc.

Please someone correct me, I'm speculating much of the following: 

The ambient resolution (ar) corresponds to the typical spacing of
calculated ambient values (octree size/ar for their approximate spacing,
and the size of resulting splotches). 

In corners, sploches arise where two adjacent values do not adequately
represent the soft gradation into the corner - hence the too dark/too
light splotches. This suggests upping the ar value. The aa works as a
kind of refinement toggle, forcing additional samples when the
difference between adjacent ambient is greater than a factor of aa. 

Splotches occurring arbitrarily, for instance the one in the foreground
just to the right of the wall, suggest inaccuracies in the ambient
calculation, most likely because of insufficient samples - therefore
more ad's and as's may be necessary. However I think random sampling
falls down without a direct source at least one, maybe two bounces away
from visible surfaces. 

Every project seems to generate a new problem. I'm constantly trying to
figure Radiance out. 
  

Bruce Sounes




From radiance-general@radiance-online.org  Wed Jan  7 18:05:41 2004
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Wed, 7 Jan 2004 12:05:41 -0600
Subject: [Radiance-general] Ambient file Q's
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D6929C@corvallis.summit.fiserv.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3D548.DCB09EF0
Content-Type: text/plain;
	charset="iso-8859-1"


Fitzsimmons, Rob wrote:

> As for the splotchies, maybe some more detail about your model would
> help us troubleshoot that, or maybe a sample image?
> 
> here it be
> http://www.geocities.com/rastermon/Sonti7_GR.html

What's at the top of that stair?  A skylight?  Window?  Portal into 
another dimension?  If it's one of the first two, I recommend using 
illums for the distribution of your luminous areas.  That will help a 
great deal.

There is a second floor with 3 skylights
Here are QTVR's of several places in the house
http://www.geocities.com/rastermon/June21_Overcast.html

I think with the spiral staircase going though the opening would make it
difficult to create an illum polygon at that opening

Rob

------_=_NextPart_001_01C3D548.DCB09EF0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RE: [Radiance-general] Ambient file Q's</TITLE>
</HEAD>
<BODY>
<BR>

<P><FONT SIZE=3D2>Fitzsimmons, Rob wrote:</FONT>
</P>

<P><FONT SIZE=3D2>&gt; As for the splotchies, maybe some more detail =
about your model would</FONT>
<BR><FONT SIZE=3D2>&gt; help us troubleshoot that, or maybe a sample =
image?</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; here it be</FONT>
<BR><FONT SIZE=3D2>&gt; <A =
HREF=3D"http://www.geocities.com/rastermon/Sonti7_GR.html" =
TARGET=3D"_blank">http://www.geocities.com/rastermon/Sonti7_GR.html</A><=
/FONT>
</P>

<P><FONT SIZE=3D2>What's at the top of that stair?&nbsp; A =
skylight?&nbsp; Window?&nbsp; Portal into </FONT>
<BR><FONT SIZE=3D2>another dimension?&nbsp; If it's one of the first =
two, I recommend using </FONT>
<BR><FONT SIZE=3D2>illums for the distribution of your luminous =
areas.&nbsp; That will help a </FONT>
<BR><FONT SIZE=3D2>great deal.</FONT>
</P>

<P><FONT SIZE=3D2>There is a second floor with 3 skylights</FONT>
<BR><FONT SIZE=3D2>Here are QTVR's of several places in the =
house</FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"http://www.geocities.com/rastermon/June21_Overcast.html" =
TARGET=3D"_blank">http://www.geocities.com/rastermon/June21_Overcast.htm=
l</A></FONT>
</P>

<P><FONT SIZE=3D2>I think with the spiral staircase going though the =
opening would make it difficult to create an illum polygon at that =
opening</FONT></P>

<P><FONT SIZE=3D2>Rob</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C3D548.DCB09EF0--

From radiance-general@radiance-online.org  Wed Jan  7 19:26:37 2004
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Wed, 07 Jan 2004 20:26:37 +0100
Subject: [Radiance-general] real time
In-Reply-To: <010f01c3d515$45b587a0$987bed9f@TEDWEB1>
References: <010f01c3d515$45b587a0$987bed9f@TEDWEB1>
Message-ID: <3FFC5D6D.7020203@pab-opto.de>

etsaweb wrote:

> There are several utilities in radiance to achieve interativity with 
> radiance(rview, rholo...) but all of them are based in sofware, so 
> they are a bit slow, is there any way in which radiance can make use 
> of hardware acceleration? or could be it possible in future? can 
> opengl help to it?...

Hi,
Today's hardware acceleration is polygon based. Every geometry is 
tesselated into triangles and feed more or less optimized into a 
"geometry pipeline" that is made up of specialied hardware transforming 
the 3d triangles to 2d screen triangles, removing hidden surfaces and 
painting the triangles (shading and texturing). The interface specs of 
the entry point into the pipeline are defined by OpenGL. Only very 
rudimentary lighting (termed shadow free "local" lighting with a simple 
surface model) is done at the hardware level. It could be useful in the 
Radiance context for either speeding up basic drawing functions or as a 
pure (non-physical lit) geometry display engine.
Open-GL is used by rholo to speed up "painting" of triangles and by 
"rshow" for displaying the geometry. I found the latter one useful for 
interactive display (thats why I wrote it) , but I'm still not donating 
enough time to port it to the new internal libs of R3.5, so a fresh 
version is not yet ready.
There are some ideas around as to map pre-calculated lighting "levels" 
onto polygons and then feed them though the pipeline at interactive 
rates, and there are questions as to whether stick to the geometry 
(rshow like) or a "scene cube" (rholo like) or an intelligent (read 
"fast") mix of the two. Greg had some pretty good ideas about this in 
mind years ago, which never really materialized in projects so far. (as 
far as I'm aware).

-Peter

>  
>  
> Ignacio Munárriz,
> Escuela de Arquitectura, Universidad de Navarra
>  
> Pta:Now i have a "rendering with radiance" ebook version and i am 
> happy!!!! , thanks Greg



-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]




From radiance-general@radiance-online.org  Thu Jan  8 16:42:07 2004
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Thu, 08 Jan 2004 11:42:07 -0500
Subject: [Radiance-general] Ambient file Q's
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D6929C@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D6929C@corvallis.summit.fiserv.com>
Message-ID: <3FFD885F.3010305@rumblestrip.org>

Fitzsimmons, Rob wrote:

> There is a second floor with 3 skylights
> Here are QTVR's of several places in the house
> http://www.geocities.com/rastermon/June21_Overcast.html
> 
> I think with the spiral staircase going though the opening would make it 
> difficult to create an illum polygon at that opening

But even moving the "direct" light sources to a point closer to the 
scene (meaning put the illum impostors at the skylights & windows) 
should help things.  But you will probably also have to increase -ad -ar 
-aa too.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Thu Jan  8 20:29:32 2004
From: radiance-general@radiance-online.org (John S. An)
Date: Thu, 8 Jan 2004 15:29:32 -0500
Subject: [Radiance-general] Re: rendering parameters
In-Reply-To: <AF5F6C6B-4084-11D8-8988-000A95BB392A@lmi.net>
References: <2C47511B-3FD0-11D8-A603-000A95871DF2@mac.com> <AF5F6C6B-4084-11D8-8988-000A95BB392A@lmi.net>
Message-ID: <5E246E92-4219-11D8-AE85-000A95871DF2@mac.com>

Greg,

That did the trick.  The geometry above the luminaire was the cable 
which would suspend it.  I simply removed it, and all seems fine now.  
I feel so stupid, I spent an entire week increasing the -ad parameter 
and not getting anywhere.

For my purposes, it is ok to remove the cables at this point from the 
model.  However, for suspended light fixtures, it doesn't seem possible 
to ever create an illum that would encompass everything including the 
cables without having the illum sphere touch up against the ceiling.  
This would be more for indirect fixtures than for direct fixtures.  If 
I needed to keep the suspension cables in the model, what would be the 
most proper way of defining the light source?


John


On Jan 6, 2004, at 3:12 PM, Greg Ward wrote:

> Hi John,
>
> I don't really have time right now to look at your input files, but it 
> seems that your problems are associated with the light source 
> sampling.  Specifically, the original image with the single fixture 
> seems to have some kind of geometry in front of it, which is going to 
> cause randomness in the shadows produced.  You should either get rid 
> of this bit of geometry (looks like three vanes of a fan) or use an 
> illum without such obstructions in front of it.
>
> In the second case where you have many sources, what you are seeing is 
> the result of the direct jitter.  If you set -dj 0 these artifacts 
> should disappear.
>
> -Greg
>
>> From: "John S. An" <whollycow@mac.com>
>> Date: January 5, 2004 2:40:33 PM PST
>>
>> Regarding the problems I am having with simple room rendering, I have 
>> zipped and placed all the .rad, .mat, and control files at the same 
>> address (http://homepage.mac.com/jsan).
>>
>> Also, I finished rendering another image of a room twice the size of 
>> the original (13'-6 x 27') and with 18 bare bulbs.  This time, there 
>> is a weird moiré-like effect in the rendering.  All of the parameters 
>> were, for the most part, identical to the previous case (the only 
>> changes were that I upped the -y parameter to 1024 to account for the 
>> larger room).
>>
>> Any ideas as to what is going wrong?
>>
>> John An
>



From radiance-general@radiance-online.org  Fri Jan  9 05:41:11 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Thu, 8 Jan 2004 21:41:11 -0800
Subject: [Radiance-general] Re: rendering parameters
In-Reply-To: <5E246E92-4219-11D8-AE85-000A95871DF2@mac.com>
References: <2C47511B-3FD0-11D8-A603-000A95871DF2@mac.com> <AF5F6C6B-4084-11D8-8988-000A95BB392A@lmi.net> <5E246E92-4219-11D8-AE85-000A95871DF2@mac.com>
Message-ID: <6EC1C46A-4266-11D8-B204-000A95BB392A@lmi.net>

Hi John,

I admit to being still a little puzzled by your results.  I'd really 
have to study the input files and run some renderings to figure out 
what's going on with them.  Normally, a little bit of geometry in front 
of the light source shouldn't cause splotches, especially if the -dj 
option is used.

-G

> From: "John S. An" <whollycow@mac.com>
> Date: January 8, 2004 12:29:32 PM PST
>
> Greg,
>
> That did the trick.  The geometry above the luminaire was the cable 
> which would suspend it.  I simply removed it, and all seems fine now.  
> I feel so stupid, I spent an entire week increasing the -ad parameter 
> and not getting anywhere.
>
> For my purposes, it is ok to remove the cables at this point from the 
> model.  However, for suspended light fixtures, it doesn't seem 
> possible to ever create an illum that would encompass everything 
> including the cables without having the illum sphere touch up against 
> the ceiling.  This would be more for indirect fixtures than for direct 
> fixtures.  If I needed to keep the suspension cables in the model, 
> what would be the most proper way of defining the light source?
>
> John


From radiance-general@radiance-online.org  Fri Jan  9 13:15:56 2004
From: radiance-general@radiance-online.org (=?ISO-8859-1?Q?St=E9phane_Nicloux?=)
Date: Fri, 09 Jan 2004 14:15:56 +0100
Subject: [Radiance-general] Desk Rad troubles
Message-ID: <3FFEA98C.3030105@tele2.fr>

Hello,

If anyone could have a magic solution for this :

My radiance installation seems to be wrong :
A clic on the ms dos "__winimg.pif  anwers me that __winimg.bat is
missing,
A clic on the rview.exe  answers me that DRADPATH value is invalid or
missing in registry
and a clic on winimg.exe is asking for an absent key in registry....

Of course I installed it many times, with many differents
decompression softs. All under windows 98 SE, Stand alone installation
( without Autocad ).

Hope someone can help !

Stephane from France.


From radiance-general@radiance-online.org  Fri Jan  9 18:28:51 2004
From: radiance-general@radiance-online.org (Charles Ehrlich)
Date: Fri, 9 Jan 2004 10:28:51 -0800 (PST)
Subject: [Radiance-general] Re: rendering parameters and illum spheres
Message-ID: <20040109182851.32598.qmail@web80307.mail.yahoo.com>

--0-1200146124-1073672931=:30845
Content-Type: text/plain; charset=us-ascii

Greg,
 
Can you confirm that Radiance still does not subdivide illum spheres during its source sampling routines?  If this is still true, then no amount of "-dj" is going to help the situation that John is having.  I have run into this problem where the lack of source subdivisions on spheres cause some nasty side effects.  For example, I used a sphere to enclose the illuminating part of a torchiere.  The reflection on the polished floor appeared as if there was a ball of fire floating a few inches above the torchiere.  Other times, supporting geometry would not be illuminated correctly as it gets close to the illum sphere--similar to the problems John was describing.
 
So obviously, high on my wish list is adding illum spheres to the source sampling subdivision routines.
 
-Chas
 
 

--0-1200146124-1073672931=:30845
Content-Type: text/html; charset=us-ascii

<DIV>Greg,</DIV>
<DIV>&nbsp;</DIV>
<DIV>Can you confirm that Radiance still does not subdivide illum spheres during its source sampling routines?&nbsp; If this is still true, then no amount of "-dj" is going to help the situation that John is having.&nbsp; I have run into this&nbsp;problem where the lack of source subdivisions on spheres cause some nasty side effects.&nbsp; For example, I used a sphere to enclose the illuminating part of a torchiere.&nbsp; The reflection on the polished floor appeared as if there was a ball of fire floating a few inches&nbsp;above the torchiere.&nbsp; Other times, supporting geometry would not be illuminated correctly as it gets close to the illum sphere--similar to the problems John was describing.</DIV>
<DIV>&nbsp;</DIV>
<DIV>So obviously, high on my wish list is adding illum spheres to the source sampling subdivision routines.</DIV>
<DIV>&nbsp;</DIV>
<DIV>-Chas</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
--0-1200146124-1073672931=:30845--

From radiance-general@radiance-online.org  Fri Jan  9 19:27:45 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Fri, 9 Jan 2004 11:27:45 -0800
Subject: [Radiance-general] Re: rendering parameters and illum spheres
In-Reply-To: <20040109182851.32598.qmail@web80307.mail.yahoo.com>
References: <20040109182851.32598.qmail@web80307.mail.yahoo.com>
Message-ID: <E68A72E2-42D9-11D8-97B3-000A95BB392A@lmi.net>

Hi Chas,

It is true that sphere sources aren't subdivided, but sample rays to 
them do get jittered using the -dj option, so the main problem is one 
of noise, not regular artifacts.  Subdividing sphere sources would be 
computationally expensive, and it seemed to me like the circumstances 
when you are so close to a sphere (illum or otherwise) that subdivision 
is required are rare.

-G

> From: Charles Ehrlich <ckehrlich@yahoo.com>
> Date: January 9, 2004 10:28:51 AM PST
>
> Greg,
>  
> Can you confirm that Radiance still does not subdivide illum spheres 
> during its source sampling routines?  If this is still true, then no 
> amount of "-dj" is going to help the situation that John is having.  I 
> have run into this problem where the lack of source subdivisions on 
> spheres cause some nasty side effects.  For example, I used a sphere 
> to enclose the illuminating part of a torchiere.  The reflection on 
> the polished floor appeared as if there was a ball of fire floating a 
> few inches above the torchiere.  Other times, supporting geometry 
> would not be illuminated correctly as it gets close to the illum 
> sphere--similar to the problems John was describing.
>  
> So obviously, high on my wish list is adding illum spheres to the 
> source sampling subdivision routines.
>  
> -Chas
>  
 



From radiance-general@radiance-online.org  Sun Jan 11 20:11:13 2004
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Sun, 11 Jan 2004 21:11:13 +0100
Subject: [Radiance-general] real time
In-Reply-To: <010f01c3d515$45b587a0$987bed9f@TEDWEB1>
References: <010f01c3d515$45b587a0$987bed9f@TEDWEB1>
Message-ID: <4001ADE1.3000100@pab-opto.de>

etsaweb wrote:

> There are several utilities in radiance to achieve interativity with 
> radiance(rview, rholo...) but all of them are based in sofware, so 
> they are a bit slow, is there any way in which radiance can make use 
> of hardware acceleration? or could be it possible in future? can 
> opengl help to it?...

forgot to mention on my first reply:  
http://www.pab-opto.de/progs/rshow/rshow.html  has some links (at the 
end of the page) to papers from 1999 (from my ISE time) describing some 
ideas about rshow in the architectural context.
-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From radiance-general@radiance-online.org  Tue Jan 13 12:49:14 2004
From: radiance-general@radiance-online.org (Daniel LASH(SED))
Date: Tue, 13 Jan 2004 12:49:14 +0000
Subject: [Radiance-general] query about accurately modelling glazing
Message-ID: <fc.005b8ff1019e56e9005b8ff1019e56e9.19e5791@amazon.shu.ac.uk>

Hello Radiance community,

I posted the following query on the Desktop discussion board, though as I don't really use Desktop
anymore I thought it may be more appropriate here;

I am using Ecotect to run Radiance simulations (apologies now for my Unixus ignoramus!), and
changing 
photometric information of glazing using textpad in windows.  Say for example, I 
am modelling clear glazing that admits light monochromatically (I am 
not concerned with colours, only illuminance values on a grid) at a transmittance of 80%
(transmissivity 
0.871538), then the glazing description may look something like this (simple stuff);

# glazing with a transmittance of 80%
void glass window1
0
0
3       0.871538 0.871538 0.871538

I am going to parametrically change the transmittance at say 10% increments from 10% through to
100%, hence I will simply change the rgb transmittance to the appropriate values.

When I open up some of the files in the glazing library included with 
Desktop Radiance, most of them seem to include the BRTDfunc, for 
example, the lbnl clear glass (glass6.rad).  The description looks 
like this;

void  glass       clear6_glass      
0 
0 
3      0.85852      0.97582      0.95237                              
      

void  BRTDfunc      clear6_front      
10      
      0.78802      0.89604      0.87443      
      0.07011      0.0822      0.08231      
      0 0 0 
      .      
0 
9 0 0 0 0 0 0 0 0 0      

void       BRTDfunc      clear6_back      
10      
      0.78802      0.89604      0.87443      
      0.07011      0.0822      0.08231      
      0 0 0 
.      
0 
9 0 0 0 0 0 0 0 0 0      

My question is this.  To what extent will my simplified way of 
describing the transmittance affect the accuracy of my results?  I 
don't completely understand the workings of the BRTDfunc (even after reading the manual page), and
think I 
would have trouble measuring any variable of glazing other than 
transmittance of the specimens I am sampling in the real world (Rendering with Radiance 
talks briefly of measuring glazing transmittance, 
but not things like reflectance.  I have just seen a citation for a paper by Peter Apian-Bennewitz
(1994, Designing an Apparatus for mearuring Bidirectional..., Freiburg) who appears to be a
contributor on here that I am in the process of requesting from my library).

I presume also that transmittance + reflectance (+ absorptance) of 
glazing can never exceed 1.  In Desktop Radiance, the description of 
Generic clear glass lbnl (clear3.rad) states a transmittance of 
89.90% and a reflection of 82.0%.  Is my understanding fundementally 
wrong, or is this a typo?

Many thanks

Daniel

PhD researcher, Sheffield, United Kingdom.


From radiance-general@radiance-online.org  Thu Jan 15 01:11:56 2004
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Wed, 14 Jan 2004 18:11:56 -0700
Subject: [Radiance-general] Re: query about accurately modelling glazing
In-Reply-To: <20040114110002.7784.31190.Mailman@radiance-on-linux.org>
References: <20040114110002.7784.31190.Mailman@radiance-on-linux.org>
Message-ID: <4005E8DC.2040909@archenergy.com>

Hi Daniel,

>My question is this.  To what extent will my simplified way of 
>describing the transmittance affect the accuracy of my results?  
>
Defining glass using the BRTDFunc method just lets you more accurately 
define the front and back reflectance of the glass.  Defining glass with 
just the glass primitive uses a default front and back reflectance.

>I 
>don't completely understand the workings of the BRTDfunc (even after reading the manual page), and
>think I 
>would have trouble measuring any variable of glazing other than 
>transmittance of the specimens I am sampling in the real world (Rendering with Radiance 
>talks briefly of measuring glazing transmittance, 
>but not things like reflectance.  
>
I recommend looking at Optics 5 from LBNL.

http://windows.lbl.gov/materials/optics5/

 It has a very extensive database of just about every type of glass and 
glass compositions available and allows you to build up various double 
pane combinations and save it all as a Radiance input file.  Rather than 
measuring a sample in the real world and defining it in Radiance, you 
could probably find the glazing in this database and use Optics 5 to 
define it.

>
>I presume also that transmittance + reflectance (+ absorptance) of 
>glazing can never exceed 1.  In Desktop Radiance, the description of 
>Generic clear glass lbnl (clear3.rad) states a transmittance of 
>89.90% and a reflection of 82.0%.  Is my understanding fundementally 
>wrong, or is this a typo?
>  
>
I've always been a little confused how desktop radiance defines glass.  
The front RGB reflectance is actually defined with this line under 
"clear3_front"

0.07428    0.08322    0.08556

and the back RGB reflectance is defined with this line under "clear3_back"

0.07567    0.08418    0.08538

So the reflectances are roughly 8% which does obey the rule.

I am not completely clear what the other RGB values are but my guess is 
that they modify the transmittivity defined under clear3_glass somehow.  
Whenever I've manually defined glass I've used this form (from 
"glazing.cal") instead, its just a little clearer to me.

mod BRTDfunc my_glazing
    10    rrho    grho    brho
        rtau    gtau    btau
        0    0    0
        glazing.cal
    0
    18    0    0    0
        0    0    0
        0    0    0
        FRRHO    FGRHO    FBRHO
        BRRHO    BGRHO    BBRHO
        RTAU    GTAU    BTAU

    where:
        FRRHO    FGRHO    FBRHO    is front normal spectral reflectance
        BRRHO    BGRHO    BBRHO    is back normal spectral reflectance
        RTAU    GTAU    BTAU    is normal spectral transmittance

Hope this helps!

Zack

-- 
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
www.archenergy.com




From radiance-general@radiance-online.org  Thu Jan 15 02:11:31 2004
From: radiance-general@radiance-online.org (Phillip Greenup)
Date: Thu, 15 Jan 2004 13:11:31 +1100
Subject: [Radiance-general] Re: query about accurately modelling
 glazing
Message-ID: <s0069221.022@arup.com.au>

Hi Zack, Daniel,

The BRTDfunc definitions delivered by desktop radiance are a bit difficult.  they do allow for different reflectance from front and back faces, but there are some major problems with it.

firstly, to get it to work, you need two glass polygons for each window, one for the front and one for the back.

secondly, what does this do to the transmittance?  physically, the transmittance going one way should be the same as the transmittance going the other way.  should the (rtrns, gtrns, btrns) variables then be the same for both front and back panes?  or does it not matter, as long as the product of their transmittances is equal to that of the combination.

finally, there are no functions built in.  that means that there is no dependence on angle of incidence for either transmittance or reflectance.  this is unrealistic, as transmittance generally reduces and reflectance generally increases with increasing angle of incidence.

so, i never use the BRTDfunc materials delivered by desktop radiance.  if i understand correctly, these definitions are provided by Optics 5 (or 4, or something like that).  is this right?  if it is, then i wouldn't use the Optics output either.

i like the look of Zack's definition using glazing.cal.  might have to give that a burl.  what i have been doing is creating 'glass' primitives and setting the r,g,b components and refractive index to give me the desired normal reflectance and transmittance, and hoping that the resulting angular dependence is about right.  have created a spreadsheet with Greg's equations to determine the (r,g,b,n) parameters.

Phil.

>>> zrogers@archenergy.com 15/01/2004 12:11:56 pm >>>
Hi Daniel,

>My question is this.  To what extent will my simplified way of 
>describing the transmittance affect the accuracy of my results?  
>
Defining glass using the BRTDFunc method just lets you more accurately 
define the front and back reflectance of the glass.  Defining glass with 
just the glass primitive uses a default front and back reflectance.

>I 
>don't completely understand the workings of the BRTDfunc (even after reading the manual page), and
>think I 
>would have trouble measuring any variable of glazing other than 
>transmittance of the specimens I am sampling in the real world (Rendering with Radiance 
>talks briefly of measuring glazing transmittance, 
>but not things like reflectance.  
>
I recommend looking at Optics 5 from LBNL.

http://windows.lbl.gov/materials/optics5/ 

 It has a very extensive database of just about every type of glass and 
glass compositions available and allows you to build up various double 
pane combinations and save it all as a Radiance input file.  Rather than 
measuring a sample in the real world and defining it in Radiance, you 
could probably find the glazing in this database and use Optics 5 to 
define it.

>
>I presume also that transmittance + reflectance (+ absorptance) of 
>glazing can never exceed 1.  In Desktop Radiance, the description of 
>Generic clear glass lbnl (clear3.rad) states a transmittance of 
>89.90% and a reflection of 82.0%.  Is my understanding fundementally 
>wrong, or is this a typo?
>  
>
I've always been a little confused how desktop radiance defines glass.  
The front RGB reflectance is actually defined with this line under 
"clear3_front"

0.07428    0.08322    0.08556

and the back RGB reflectance is defined with this line under "clear3_back"

0.07567    0.08418    0.08538

So the reflectances are roughly 8% which does obey the rule.

I am not completely clear what the other RGB values are but my guess is 
that they modify the transmittivity defined under clear3_glass somehow.  
Whenever I've manually defined glass I've used this form (from 
"glazing.cal") instead, its just a little clearer to me.

mod BRTDfunc my_glazing
    10    rrho    grho    brho
        rtau    gtau    btau
        0    0    0
        glazing.cal
    0
    18    0    0    0
        0    0    0
        0    0    0
        FRRHO    FGRHO    FBRHO
        BRRHO    BGRHO    BBRHO
        RTAU    GTAU    BTAU

    where:
        FRRHO    FGRHO    FBRHO    is front normal spectral reflectance
        BRRHO    BGRHO    BBRHO    is back normal spectral reflectance
        RTAU    GTAU    BTAU    is normal spectral transmittance

Hope this helps!

Zack

-- 
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
www.archenergy.com 



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org 
http://www.radiance-online.org/mailman/listinfo/radiance-general


From radiance-general@radiance-online.org  Thu Jan 15 10:48:22 2004
From: radiance-general@radiance-online.org (Daniel LASH(SED))
Date: Thu, 15 Jan 2004 10:48:22 +0000
Subject: [Radiance-general] Re: query about accurately modelling=?ISO-8859-1?Q?	glazing?=
In-Reply-To: <s0069221.022@arup.com.au>
References: <s0069221.022@arup.com.au>
Message-ID: <fc.005b8ff1019eabb73b9aca00e131c611.19eac9d@amazon.shu.ac.uk>

Hi Zack and Phil.

Thank you very much for your most helpful suggestions.  My experiments are in two parts.  Firstly,
I am attempting to simulate as accurately as possible the lighting conditions under a real atrium
roof canopy, and comparing with illuminance measurements measured directly under the roof.  In
terms of modelling it accurately, I think Optic5 (and associated database) will be a useful way to
derive transmittance information.  I have still not quite decided whether to take the information
(calculated transmittance of multi-layer configurations) from the export and create a simple
'glass' primitive, or to use the BRTDFunc generated.  Perhaps I will experiment and see whether it
makes much of a difference.

The second part involves a systematic varying of the transmittance of the glazing in the
simulation.  Here I believe it would be appropriate to use the simple glass primitive, and vary the
r,g,b,n parameters (though I think n should stay constant at 1.52 (or whatever it is...), and I
think it said in the manual page that having only the r,g,b arguments has Radiance use the default
n, fine for my needs).  I thought that the BRTDFunc may have included some function depending on
angle of incidence that would make it more accurate than the glass primitive, but as it doesn't, I
will stick with the glass (as I am dealing with overcast skies, the 'grazing angle' changes in
transmittance may not be as critical (though still a factor) as if I were looking at direct light).

Once again many thanks

Dan Lash
PhD researcher
Sheffield Hallam University, UK



radiance-general@radiance-online.org writes:
>Hi Zack, Daniel,
>
>The BRTDfunc definitions delivered by desktop radiance are a bit difficult.  they do allow for
>different reflectance from front and back faces, but there are some major problems with it.
>
>firstly, to get it to work, you need two glass polygons for each window, one for the front and one
>for the back.
>
>secondly, what does this do to the transmittance?  physically, the transmittance going one way
>should be the same as the transmittance going the other way.  should the (rtrns, gtrns, btrns)
>variables then be the same for both front and back panes?  or does it not matter, as long as the
>product of their transmittances is equal to that of the combination.
>
>finally, there are no functions built in.  that means that there is no dependence on angle of
>incidence for either transmittance or reflectance.  this is unrealistic, as transmittance
>generally reduces and reflectance generally increases with increasing angle of incidence.
>
>so, i never use the BRTDfunc materials delivered by desktop radiance.  if i understand correctly,
>these definitions are provided by Optics 5 (or 4, or something like that).  is this right?  if it
>is, then i wouldn't use the Optics output either.
>
>i like the look of Zack's definition using glazing.cal.  might have to give that a burl.  what i
>have been doing is creating 'glass' primitives and setting the r,g,b components and refractive
>index to give me the desired normal reflectance and transmittance, and hoping that the resulting
>angular dependence is about right.  have created a spreadsheet with Greg's equations to determine
>the (r,g,b,n) parameters.
>
>Phil.
>
>>>> zrogers@archenergy.com 15/01/2004 12:11:56 pm >>>
>Hi Daniel,
>
>>My question is this.  To what extent will my simplified way of 
>>describing the transmittance affect the accuracy of my results?  
>>
>Defining glass using the BRTDFunc method just lets you more accurately 
>define the front and back reflectance of the glass.  Defining glass with 
>just the glass primitive uses a default front and back reflectance.
>
>>I 
>>don't completely understand the workings of the BRTDfunc (even after reading the manual page), and
>>think I 
>>would have trouble measuring any variable of glazing other than 
>>transmittance of the specimens I am sampling in the real world (Rendering with Radiance 
>>talks briefly of measuring glazing transmittance, 
>>but not things like reflectance.  
>>
>I recommend looking at Optics 5 from LBNL.
>
>http://windows.lbl.gov/materials/optics5/ 
>
> It has a very extensive database of just about every type of glass and 
>glass compositions available and allows you to build up various double 
>pane combinations and save it all as a Radiance input file.  Rather than 
>measuring a sample in the real world and defining it in Radiance, you 
>could probably find the glazing in this database and use Optics 5 to 
>define it.
>
>>
>>I presume also that transmittance + reflectance (+ absorptance) of 
>>glazing can never exceed 1.  In Desktop Radiance, the description of 
>>Generic clear glass lbnl (clear3.rad) states a transmittance of 
>>89.90% and a reflection of 82.0%.  Is my understanding fundementally 
>>wrong, or is this a typo?
>>  
>>
>I've always been a little confused how desktop radiance defines glass.  
>The front RGB reflectance is actually defined with this line under 
>"clear3_front"
>
>0.07428    0.08322    0.08556
>
>and the back RGB reflectance is defined with this line under "clear3_back"
>
>0.07567    0.08418    0.08538
>
>So the reflectances are roughly 8% which does obey the rule.
>
>I am not completely clear what the other RGB values are but my guess is 
>that they modify the transmittivity defined under clear3_glass somehow.  
>Whenever I've manually defined glass I've used this form (from 
>"glazing.cal") instead, its just a little clearer to me.
>
>mod BRTDfunc my_glazing
>    10    rrho    grho    brho
>        rtau    gtau    btau
>        0    0    0
>        glazing.cal
>    0
>    18    0    0    0
>        0    0    0
>        0    0    0
>        FRRHO    FGRHO    FBRHO
>        BRRHO    BGRHO    BBRHO
>        RTAU    GTAU    BTAU
>
>    where:
>        FRRHO    FGRHO    FBRHO    is front normal spectral reflectance
>        BRRHO    BGRHO    BBRHO    is back normal spectral reflectance
>        RTAU    GTAU    BTAU    is normal spectral transmittance
>
>Hope this helps!
>
>Zack
>
>-- 
>Zack Rogers
>Staff Engineer
>Architectural Energy Corporation
>2540 Frontier Avenue, Suite 201
>Boulder, CO 80301 USA
>
>tel (303)444-4149 ext.235
>fax (303)444-4304
>www.archenergy.com 
>
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org 
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From radiance-general@radiance-online.org  Thu Jan 15 16:35:40 2004
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Thu, 15 Jan 2004 09:35:40 -0700
Subject: [Radiance-general] Re: query about accurately modelling glazing
References: <20040115110002.9868.7449.Mailman@radiance-on-linux.org>
Message-ID: <4006C15C.2080701@archenergy.com>

Hello,

>secondly, what does this do to the transmittance?  physically, the transmittance going one way should be the same as the transmittance going the other way.  should the (rtrns, gtrns, btrns) variables then be the same for both front and back panes?  or does it not matter, as long as the product of their transmittances is equal to that of the combination.
>
This is true for a symetric glass composition (ie. single pane no low-e, 
double pane, clear, no low-e) but not true for non-symetric glass which 
is often the case for glass with low-e and glass with one of the panes 
tinted.  I believe the front and back transmittance is always really 
close, (ie. it can't be 10% in one direction and 90% in the other) but 
they can vary slightly.  This is what desktop radiance and optics 5 
definition method allows you to do.

>finally, there are no functions built in.  that means that there is no dependence on angle of incidence for either transmittance or reflectance.  this is unrealistic, as transmittance generally reduces and reflectance generally increases with increasing angle of incidence.
>
I do think Desktop Radiance and Optics 5 both make use of the angular 
transmittance function.  This is part of the glass primitive.  And in my 
example, the BRTDFunc calls glazing.cal which provides the angular 
transmittance function.  Also, from my comparisions a while ago now, the 
two methods gave me identical results.  That is:

void glass      clear3_glass
0
0
3    0.92189    0.98612    0.972
                       
void BRTDfunc    clear3_front
10   
    0.84636    0.90553    0.89251   
    0.07428    0.08322    0.08556   
    0 0 0
    .   
0
9 0 0 0 0 0 0 0 0 0
   
void BRTDfunc    clear3_back   
10
    0.84636    0.90553    0.89251
    0.07567    0.08418    0.08538
    0 0 0
    .   
0
9 0 0 0 0 0 0 0 0 0

is equivalent to:

void BRTDfunc clear3_glass
    10    rrho    grho    brho
          rtau    gtau    btau
          0    0    0
          glazing.cal
    0
    18    0    0    0
          0    0    0
          0    0    0
          0.07428    0.08322    0.08556
          0.07567    0.08418    0.08538
          0.84636    0.90553    0.89251

Also, you might want to check out glass1.cal and glass2.cal which is 
part of the newest HEAD radiance release.  It just distinguishes between 
single pane and double pane which have different angular dependance 
functions.  Also, check out glaze.csh in the latest release, I was just 
informed of this and have not checked it out personally, but I 
understand it helps create these definitions.

So, I think the BRTDFunc methods can provide greater accuracy than the 
glass primitive.

I hope I have not mistated any of this, anyone please correct me if so.

Regards,
Zack




From radiance-general@radiance-online.org  Thu Jan 15 16:51:09 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Thu, 15 Jan 2004 08:51:09 -0800
Subject: [Radiance-general] Re: query about accurately modelling glazing
In-Reply-To: <4006C15C.2080701@archenergy.com>
References: <20040115110002.9868.7449.Mailman@radiance-on-linux.org> <4006C15C.2080701@archenergy.com>
Message-ID: <04E3A39D-477B-11D8-87AE-000A95BB392A@lmi.net>

A minor point.  Unless they changed the laws of physics since I was in 
college, transmittance has to be the same for a surface seen from the 
front as seen from the back.  This is called Helmholtz reciprocity, and 
is one of the basic tenets of reflection theory.  Total (hemispherical) 
transmittance must be the same, and specular (directional) 
transmittance must be the same in every direction.  It has to do with 
the time-reversibility of light, I think.

-Greg

> From: Zack Rogers <zrogers@archenergy.com>
> Date: January 15, 2004 8:35:40 AM PST
>
> Hello,
>
>> secondly, what does this do to the transmittance?  physically, the 
>> transmittance going one way should be the same as the transmittance 
>> going the other way.  should the (rtrns, gtrns, btrns) variables then 
>> be the same for both front and back panes?  or does it not matter, as 
>> long as the product of their transmittances is equal to that of the 
>> combination.
>>
> This is true for a symetric glass composition (ie. single pane no 
> low-e, double pane, clear, no low-e) but not true for non-symetric 
> glass which is often the case for glass with low-e and glass with one 
> of the panes tinted.  I believe the front and back transmittance is 
> always really close, (ie. it can't be 10% in one direction and 90% in 
> the other) but they can vary slightly.  This is what desktop radiance 
> and optics 5 definition method allows you to do.


From radiance-general@radiance-online.org  Thu Jan 15 19:08:25 2004
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Thu, 15 Jan 2004 14:08:25 -0500
Subject: [Radiance-general] Re: query about accurately modelling glazing
References: <20040115110002.9868.7449.Mailman@radiance-on-linux.org> <4006C15C.2080701@archenergy.com>
Message-ID: <4006E529.4070509@visarc.com>

--------------010901070502040602010803
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi All,

Well here are some further things to confuse/clarify the possibilities.

The BRTDfunc is very powerful and has multiple uses. Several things that 
I actually find quite nice about it are:

    * values represent transmittance and reflectance, as one might
      determine from manufacturers data or from Optics 5 (a side note, I
      believe that Optics 5 is actually used to calculate the values
      that manufacturers then report for the measurements, this
      information is incorporated into tools like the Window 4 and 5
      software, some one from the LBL optics group could probably give a
      better summary of the capabilities).
    * allocation of values is clear, that is values are allocated to
      specular and diffuse components of the material definition (the
      problem here if you are trying to simulate a glazing material that
      has diffuse transmittance/reflectance performance is that
      manufacturers are only reporting total reflectance and
      transmittance and not diffuse and specular measures, so then you
      have to measure by hand. I think that Rob G. could give everyone a
      really superb summary on how to setup a measuring environment for
      glazing materials).
    * enables simulation of more complex glazing materials such as those
      that have higher or differing front/back side reflectances than
      accounted for in the typical "glass" material type ( I believe
      that the reflectance for the glass material type is around 7%).

Note that it is possible to use one BRTDfunc definition to define front 
and backside reflectances. Note also that transmittance as I understand 
it must be the same front and back (this is supported by the fact that 
there is only one transmittance that is supplied in manufacturers data 
and software such as Optics 5).

Here is a simple definition for a "simple" glazing material (I am pretty 
confident that I am going to get some corrective feedback on this ;->):

void BRTDfunc gl.test
10
    if(Rdot, .12, .11)    if(Rdot, .12, .11)        if(Rdot, .12, .11)
    0.70                        0.70                        0.70
    0                             0                             0
    .
0
9
    0    0    0    0    0    0    0    0    0

This would define a simple glazing material with a total front side 
reflectance of 12%, a total backside reflectance of 11% and a total 
transmittance of 70%. This material could be applied to a single surface 
and does not need separate front and backside polygons. However what 
this definition does not account for is the impact of the incident angle 
of the incoming ray on the resulting transmittance and reflectance. It 
is not clear to me what kind of error this might actually introduce, 
however, I believe that a definition such as this could easily take the 
place of the two (front and back) BRTDfunc definitions that get exported 
from Optics 5.

I believe that there is some trickiness with normals and BRTDfunc, so I 
hope that I am using Rdot to calculate orientation correctly?

Note that the section in the definition with the 10 arguments relates to 
the specular behavior of the material and the section with 9(+) 
arguments relates to the diffuse behavior of the material. Summing 
between these gives us total reflectance and transmittance. In this case 
the there is no diffuse behavior to the material.

Depending on the application is might be worth checking out glaze.csh in 
the latest release. This calculates models for both single and double 
surface glazing materials. I am not sure how it compares to glazing.cal 
in terms of the accuracy of the underlying model. Note however that 
glaze.csh is built around a handful (5 or 6) sets of reflectance and 
transmittance values as it "database". Some of these were actually 
measure by me and looking back on it, I would prefer to measure the 
"pvb" materials under a more precise protocol than I did originally 
(again Rob G. would be the real resource here). I would think that the 
tool could be extended to account for many things that can be exported 
from Optics 5. Perhaps the Optics 5 group might be interested in having 
Greg develop a more robust solution for what gets exported from Optics 5 
to account for a more sophisticated model of angular dependance and 
other properties?

Well, all in all probably more confusion that clarity.

Best,

-Jack


Zack Rogers wrote:

> Hello,
>
>> secondly, what does this do to the transmittance?  physically, the 
>> transmittance going one way should be the same as the transmittance 
>> going the other way.  should the (rtrns, gtrns, btrns) variables then 
>> be the same for both front and back panes?  or does it not matter, as 
>> long as the product of their transmittances is equal to that of the 
>> combination.
>>
> This is true for a symetric glass composition (ie. single pane no 
> low-e, double pane, clear, no low-e) but not true for non-symetric 
> glass which is often the case for glass with low-e and glass with one 
> of the panes tinted.  I believe the front and back transmittance is 
> always really close, (ie. it can't be 10% in one direction and 90% in 
> the other) but they can vary slightly.  This is what desktop radiance 
> and optics 5 definition method allows you to do.
>
>> finally, there are no functions built in.  that means that there is 
>> no dependence on angle of incidence for either transmittance or 
>> reflectance.  this is unrealistic, as transmittance generally reduces 
>> and reflectance generally increases with increasing angle of incidence.
>>
> I do think Desktop Radiance and Optics 5 both make use of the angular 
> transmittance function.  This is part of the glass primitive.  And in 
> my example, the BRTDFunc calls glazing.cal which provides the angular 
> transmittance function.  Also, from my comparisions a while ago now, 
> the two methods gave me identical results.  That is:
>
> void glass      clear3_glass
> 0
> 0
> 3    0.92189    0.98612    0.972
>                       void BRTDfunc    clear3_front
> 10      0.84636    0.90553    0.89251      0.07428    0.08322    
> 0.08556      0 0 0
>    .   0
> 9 0 0 0 0 0 0 0 0 0
>   void BRTDfunc    clear3_back   10
>    0.84636    0.90553    0.89251
>    0.07567    0.08418    0.08538
>    0 0 0
>    .   0
> 9 0 0 0 0 0 0 0 0 0
>
> is equivalent to:
>
> void BRTDfunc clear3_glass
>    10    rrho    grho    brho
>          rtau    gtau    btau
>          0    0    0
>          glazing.cal
>    0
>    18    0    0    0
>          0    0    0
>          0    0    0
>          0.07428    0.08322    0.08556
>          0.07567    0.08418    0.08538
>          0.84636    0.90553    0.89251
>
> Also, you might want to check out glass1.cal and glass2.cal which is 
> part of the newest HEAD radiance release.  It just distinguishes 
> between single pane and double pane which have different angular 
> dependance functions.  Also, check out glaze.csh in the latest 
> release, I was just informed of this and have not checked it out 
> personally, but I understand it helps create these definitions.
>
> So, I think the BRTDFunc methods can provide greater accuracy than the 
> glass primitive.
>
> I hope I have not mistated any of this, anyone please correct me if so.
>
> Regards,
> Zack
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------010901070502040602010803
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title></title>
</head>
<body>
Hi All,<br>
<br>
Well here are some further things to confuse/clarify the possibilities.<br>
<br>
The BRTDfunc is very powerful and has multiple uses. Several things that
I actually find quite nice about it are:<br>
<ul>
  <li>values represent transmittance and reflectance, as one might determine
from manufacturers data or from Optics 5 (a side note, I believe that Optics
5 is actually used to calculate the values that manufacturers then report
for the measurements, this information is incorporated into tools like the
Window 4 and 5 software, some one from the LBL optics group could probably
give a better summary of the capabilities).</li>
  <li>allocation of values is clear, that is values are allocated to specular
and diffuse components of the material definition (the problem here if you
are trying to simulate a glazing material that has diffuse transmittance/reflectance
performance is that manufacturers are only reporting total reflectance and
transmittance and not diffuse and specular measures, so then you have to
measure by hand. I think that Rob G. could give everyone a really superb
summary on how to setup a measuring environment for glazing materials).</li>
  <li>enables simulation of more complex glazing materials such as those
that have higher or differing front/back side reflectances than accounted
for in the typical "glass" material type ( I believe that the reflectance
for the glass material type is around 7%).</li>
</ul>
Note that it is possible to use one BRTDfunc definition to define front and
backside reflectances. Note also that transmittance as I understand it must
be the same front and back (this is supported by the fact that there is only
one transmittance that is supplied in manufacturers data and software such
as Optics 5). <br>
<br>
Here is a simple definition for a "simple" glazing material (I am pretty
confident that I am going to get some corrective feedback on this ;-&gt;):<br>
<br>
void BRTDfunc gl.test<br>
10<br>
&nbsp;&nbsp;&nbsp; if(Rdot, .12, .11)&nbsp;&nbsp;&nbsp; if(Rdot, .12, .11)&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if(Rdot, .12, .11)<br>
&nbsp;&nbsp;&nbsp; 0.70&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 0.70&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 0.70<br>
&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;0&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;0<br>
&nbsp;&nbsp;&nbsp; .<br>
0<br>
9<br>
&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0<br>
<br>
This would define a simple glazing material with a total front side reflectance
of 12%, a total backside reflectance of 11% and a total transmittance of
70%. This material could be applied to a single surface and does not need
separate front and backside polygons. However what this definition does not
account for is the impact of the incident angle of the incoming ray on the
resulting transmittance and reflectance. It is not clear to me what kind
of error this might actually introduce, however, I believe that a definition
such as this could easily take the place of the two (front and back) BRTDfunc
definitions that get exported from Optics 5. <br>
<br>
I believe that there is some trickiness with normals and BRTDfunc, so I hope
that I am using Rdot to calculate orientation correctly?<br>
<br>
Note that the section in the definition with the 10 arguments relates to
the specular behavior of the material and the section with 9(+) arguments
relates to the diffuse behavior of the material. Summing between these gives
us total reflectance and transmittance. In this case the there is no diffuse
behavior to the material.<br>
<br>
Depending on the application is might be worth checking out glaze.csh in
the latest release. This calculates models for both single and double surface
glazing materials. I am not sure how it compares to glazing.cal in terms
of the accuracy of the underlying model. Note however that glaze.csh is built
around a handful (5 or 6) sets of reflectance and transmittance values as
it "database". Some of these were actually measure by me and looking back
on it, I would prefer to measure the "pvb" materials under a more precise
protocol than I did originally (again Rob G. would be the real resource here).
I would think that the tool could be extended to account for many things
that can be exported from Optics 5. Perhaps the Optics 5 group might be interested
in having Greg develop a more robust solution for what gets exported from
Optics 5 to account for a more sophisticated model of angular dependance
and other properties?<br>
<br>
Well, all in all probably more confusion that clarity.<br>
<br>
Best,<br>
<br>
-Jack<br>
<br>
<br>
Zack Rogers wrote:<br>
<blockquote type="cite" cite="mid4006C15C.2080701@archenergy.com">Hello, <br>
 <br>
  <blockquote type="cite">secondly, what does this do to the transmittance?&nbsp;
physically, the transmittance going one way should be the same as the transmittance
going the other way.&nbsp; should the (rtrns, gtrns, btrns) variables then be
the same for both front and back panes?&nbsp; or does it not matter, as long as
the product of their transmittances is equal to that of the combination. <br>
 <br>
  </blockquote>
This is true for a symetric glass composition (ie. single pane no low-e,
 double pane, clear, no low-e) but not true for non-symetric glass which
 is often the case for glass with low-e and glass with one of the panes  tinted.&nbsp;
I believe the front and back transmittance is always really  close, (ie.
it can't be 10% in one direction and 90% in the other) but  they can vary
slightly.&nbsp; This is what desktop radiance and optics 5  definition method
allows you to do. <br>
 <br>
  <blockquote type="cite">finally, there are no functions built in.&nbsp; that
means that there is no dependence on angle of incidence for either transmittance
or reflectance.&nbsp; this is unrealistic, as transmittance generally reduces
and reflectance generally increases with increasing angle of incidence. <br>
 <br>
  </blockquote>
I do think Desktop Radiance and Optics 5 both make use of the angular  transmittance
function.&nbsp; This is part of the glass primitive.&nbsp; And in my  example, the
BRTDFunc calls glazing.cal which provides the angular  transmittance function.&nbsp;
Also, from my comparisions a while ago now, the  two methods gave me identical
results.&nbsp; That is: <br>
 <br>
void glass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clear3_glass <br>
0 <br>
0 <br>
3&nbsp;&nbsp;&nbsp; 0.92189&nbsp;&nbsp;&nbsp; 0.98612&nbsp;&nbsp;&nbsp; 0.972 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  void BRTDfunc&nbsp;&nbsp;&nbsp; clear3_front <br>
10&nbsp;&nbsp;  &nbsp;&nbsp; 0.84636&nbsp;&nbsp;&nbsp; 0.90553&nbsp;&nbsp;&nbsp; 0.89251&nbsp;&nbsp;  &nbsp;&nbsp; 0.07428&nbsp;&nbsp;&nbsp; 0.08322&nbsp;&nbsp;&nbsp; 0.08556&nbsp;&nbsp;
 &nbsp;&nbsp; 0 0 0 <br>
&nbsp;&nbsp; .&nbsp;&nbsp;  0 <br>
9 0 0 0 0 0 0 0 0 0 <br>
&nbsp;  void BRTDfunc&nbsp;&nbsp;&nbsp; clear3_back&nbsp;&nbsp;  10 <br>
&nbsp;&nbsp; 0.84636&nbsp;&nbsp;&nbsp; 0.90553&nbsp;&nbsp;&nbsp; 0.89251 <br>
&nbsp;&nbsp; 0.07567&nbsp;&nbsp;&nbsp; 0.08418&nbsp;&nbsp;&nbsp; 0.08538 <br>
&nbsp;&nbsp; 0 0 0 <br>
&nbsp;&nbsp; .&nbsp;&nbsp;  0 <br>
9 0 0 0 0 0 0 0 0 0 <br>
 <br>
is equivalent to: <br>
 <br>
void BRTDfunc clear3_glass <br>
&nbsp;&nbsp; 10&nbsp;&nbsp;&nbsp; rrho&nbsp;&nbsp;&nbsp; grho&nbsp;&nbsp;&nbsp; brho <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rtau&nbsp;&nbsp;&nbsp; gtau&nbsp;&nbsp;&nbsp; btau <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glazing.cal <br>
&nbsp;&nbsp; 0 <br>
&nbsp;&nbsp; 18&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.07428&nbsp;&nbsp;&nbsp; 0.08322&nbsp;&nbsp;&nbsp; 0.08556 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.07567&nbsp;&nbsp;&nbsp; 0.08418&nbsp;&nbsp;&nbsp; 0.08538 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.84636&nbsp;&nbsp;&nbsp; 0.90553&nbsp;&nbsp;&nbsp; 0.89251 <br>
 <br>
Also, you might want to check out glass1.cal and glass2.cal which is  part
of the newest HEAD radiance release.&nbsp; It just distinguishes between  single
pane and double pane which have different angular dependance  functions.&nbsp;
Also, check out glaze.csh in the latest release, I was just  informed of
this and have not checked it out personally, but I  understand it helps create
these definitions. <br>
 <br>
So, I think the BRTDFunc methods can provide greater accuracy than the  glass
primitive. <br>
 <br>
I hope I have not mistated any of this, anyone please correct me if so. <br>
 <br>
Regards, <br>
Zack <br>
 <br>
 <br>
 <br>
_______________________________________________ <br>
Radiance-general mailing list <br>
<a class="moz-txt-link-abbreviated" href="mailto:Radiance-general@radiance-online.org">Radiance-general@radiance-online.org</a> <br>
<a class="moz-txt-link-freetext" href="http://www.radiance-online.org/mailman/listinfo/radiance-general">http://www.radiance-online.org/mailman/listinfo/radiance-general</a> <br>
 <br>
 <br>
</blockquote>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------010901070502040602010803--


From radiance-general@radiance-online.org  Thu Jan 15 19:36:49 2004
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Thu, 15 Jan 2004 12:36:49 -0700
Subject: [Radiance-general] Re: query about accurately modelling glazing
Message-ID: <4006EBD1.6040809@archenergy.com>

Hey Greg,

You may be right, I've wrestled with this quite a few times.  That was 
exactly my line of thinking until we got a composite translucent ceiling 
material measured with an integrating sphere and it resulted in a 
significantly different transmittance from the front the the back.  I 
think for a single surface this is exactly true (ie. a low-e film or a 
single pane of glass) but for a composition I think it can vary 
slightly.  Like a one-way mirror?  And using the example of a pane of 
glass with a low-e coating.  It seems like light striking that low-e 
surface from air's index of refraction could behave differently than 
light striking the surface from the glass's index of refraction. 
 Atleast thats how I justify it to myself...."do I lie to myself to be 
happy?"  But it also doesn't have to break the conservation of light 
laws, I don't think.  As an example, say of the light striking the low-e 
side of the composition, 70% transmits, 20% reflects, and 10% absorbs. 
 Then of the light striking the glass side of the composition say 75% 
transmits, 15% reflects, and 10% absorbs.  In both situations 100% of 
light is accounted for.  I am completely unsure on this issue.  Can 
anyone help explain?

Thanks for correcting and/or questioning my response Greg.
Zack

-- 
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
http://www.archenergy.com



From radiance-general@radiance-online.org  Thu Jan 15 21:59:30 2004
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Thu, 15 Jan 2004 14:59:30 -0700
Subject: [Radiance-general] Re: query about accurately modelling glazing
Message-ID: <40070D42.8040605@archenergy.com>

Well this answers my question about one-way mirrors.

http://www.physlink.com/Education/AskExperts/ae293.cfm

Searching the internet I haven't been able to track down good 
information on this Helmholtz reciprocity theorem.  My physics books 
don't discuss it either.  Anyone have a good source for this?

-- 
Zack Rogers
Staff Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA

tel (303)444-4149 ext.235
fax (303)444-4304
http://www.archenergy.com



From radiance-general@radiance-online.org  Thu Jan 15 22:41:36 2004
From: radiance-general@radiance-online.org (Phillip Greenup)
Date: Fri, 16 Jan 2004 09:41:36 +1100
Subject: [Radiance-general] Re: query about accurately modelling
 glazing
Message-ID: <s007b25c.021@arup.com.au>

Hi again,

I'm afraid i don't have on hand a good reference for transmittance being the same either way through a glazing system.  i like the explanation given on that web site.  such a glazing system would probably break the third law of thermodynamics.

about your comparison below...  the desktop radiance glass material file contains definitions of three different materials (clear3_glass, clear3_front, clear3_back).  but, when DR creates the associated geometry files, they refer only to one of these materials (clear3_glass in this example).  so, the created BRTDfunc materials are not used.  that means that you will not get different reflectances from different sides of the materials, and that you will get a normal reflectance that doesn't necessarily match what is measured.  the only way to get both the transmittance and reflectance you are after with the glass primitive is to alter the refractive index.  you still don't get different reflectances for the different sides.  but, normally, you are only concerned with one side of the glass (eg. creating visualisation or predicting illums inside and not outside), so just use the reflectance of that side (eg inside face).

the BRTDfunc you created with the inbuilt functions will likely work better than the glass primitive with an altered refractive index.  the new forms (glass1.cal, glass2.cal and glaze.csh) will probably be better yet.

Phil.

>>> zrogers@archenergy.com 16/01/2004 3:35:40 am >>>
Hello,

>secondly, what does this do to the transmittance?  physically, the transmittance going one way should be the same as the transmittance going the other way.  should the (rtrns, gtrns, btrns) variables then be the same for both front and back panes?  or does it not matter, as long as the product of their transmittances is equal to that of the combination.
>
This is true for a symetric glass composition (ie. single pane no low-e, 
double pane, clear, no low-e) but not true for non-symetric glass which 
is often the case for glass with low-e and glass with one of the panes 
tinted.  I believe the front and back transmittance is always really 
close, (ie. it can't be 10% in one direction and 90% in the other) but 
they can vary slightly.  This is what desktop radiance and optics 5 
definition method allows you to do.

>finally, there are no functions built in.  that means that there is no dependence on angle of incidence for either transmittance or reflectance.  this is unrealistic, as transmittance generally reduces and reflectance generally increases with increasing angle of incidence.
>
I do think Desktop Radiance and Optics 5 both make use of the angular 
transmittance function.  This is part of the glass primitive.  And in my 
example, the BRTDFunc calls glazing.cal which provides the angular 
transmittance function.  Also, from my comparisions a while ago now, the 
two methods gave me identical results.  That is:

void glass      clear3_glass
0
0
3    0.92189    0.98612    0.972
                       
void BRTDfunc    clear3_front
10   
    0.84636    0.90553    0.89251   
    0.07428    0.08322    0.08556   
    0 0 0
    .   
0
9 0 0 0 0 0 0 0 0 0
   
void BRTDfunc    clear3_back   
10
    0.84636    0.90553    0.89251
    0.07567    0.08418    0.08538
    0 0 0
    .   
0
9 0 0 0 0 0 0 0 0 0

is equivalent to:

void BRTDfunc clear3_glass
    10    rrho    grho    brho
          rtau    gtau    btau
          0    0    0
          glazing.cal
    0
    18    0    0    0
          0    0    0
          0    0    0
          0.07428    0.08322    0.08556
          0.07567    0.08418    0.08538
          0.84636    0.90553    0.89251

Also, you might want to check out glass1.cal and glass2.cal which is 
part of the newest HEAD radiance release.  It just distinguishes between 
single pane and double pane which have different angular dependance 
functions.  Also, check out glaze.csh in the latest release, I was just 
informed of this and have not checked it out personally, but I 
understand it helps create these definitions.

So, I think the BRTDFunc methods can provide greater accuracy than the 
glass primitive.

I hope I have not mistated any of this, anyone please correct me if so.

Regards,
Zack



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org 
http://www.radiance-online.org/mailman/listinfo/radiance-general


From radiance-general@radiance-online.org  Thu Jan 15 22:44:54 2004
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Thu, 15 Jan 2004 17:44:54 -0500 (EST)
Subject: [Radiance-general] Re: query about accurately modelling glazing
In-Reply-To: <40070D42.8040605@archenergy.com>
References: <40070D42.8040605@archenergy.com>
Message-ID: <Pine.BSF.4.58.0401151736020.87702@emancholl.pair.com>

Zack Rogers wrote:

> Well this answers my question about one-way mirrors.
>
> http://www.physlink.com/Education/AskExperts/ae293.cfm
>
> Searching the internet I haven't been able to track down good
> information on this Helmholtz reciprocity theorem.  My physics books
> don't discuss it either.  Anyone have a good source for this?


Ah, the wonderful world of entropy... ;)

Maybe Google has something on "perpetuum mobile"?


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From radiance-general@radiance-online.org  Thu Jan 15 23:18:04 2004
From: radiance-general@radiance-online.org (Phillip Greenup)
Date: Fri, 16 Jan 2004 10:18:04 +1100
Subject: [Radiance-general] Re: query about accurately modellingglazing
Message-ID: <s007bacf.084@arup.com.au>

A quick correction to myself....

the second law of thermodynamics, not the third...  entropy, as Georg said.

Phil.

>>> Phillip.Greenup@arup.com.au 16/01/2004 9:41:36 am >>>
Hi again,

I'm afraid i don't have on hand a good reference for transmittance being the same either way through a glazing system.  i like the explanation given on that web site.  such a glazing system would probably break the third law of thermodynamics.

about your comparison below...  the desktop radiance glass material file contains definitions of three different materials (clear3_glass, clear3_front, clear3_back).  but, when DR creates the associated geometry files, they refer only to one of these materials (clear3_glass in this example).  so, the created BRTDfunc materials are not used.  that means that you will not get different reflectances from different sides of the materials, and that you will get a normal reflectance that doesn't necessarily match what is measured.  the only way to get both the transmittance and reflectance you are after with the glass primitive is to alter the refractive index.  you still don't get different reflectances for the different sides.  but, normally, you are only concerned with one side of the glass (eg. creating visualisation or predicting illums inside and not outside), so just use the reflectance of that side (eg inside face).

the BRTDfunc you created with the inbuilt functions will likely work better than the glass primitive with an altered refractive index.  the new forms (glass1.cal, glass2.cal and glaze.csh) will probably be better yet.

Phil.

>>> zrogers@archenergy.com 16/01/2004 3:35:40 am >>>
Hello,

>secondly, what does this do to the transmittance?  physically, the transmittance going one way should be the same as the transmittance going the other way.  should the (rtrns, gtrns, btrns) variables then be the same for both front and back panes?  or does it not matter, as long as the product of their transmittances is equal to that of the combination.
>
This is true for a symetric glass composition (ie. single pane no low-e, 
double pane, clear, no low-e) but not true for non-symetric glass which 
is often the case for glass with low-e and glass with one of the panes 
tinted.  I believe the front and back transmittance is always really 
close, (ie. it can't be 10% in one direction and 90% in the other) but 
they can vary slightly.  This is what desktop radiance and optics 5 
definition method allows you to do.

>finally, there are no functions built in.  that means that there is no dependence on angle of incidence for either transmittance or reflectance.  this is unrealistic, as transmittance generally reduces and reflectance generally increases with increasing angle of incidence.
>
I do think Desktop Radiance and Optics 5 both make use of the angular 
transmittance function.  This is part of the glass primitive.  And in my 
example, the BRTDFunc calls glazing.cal which provides the angular 
transmittance function.  Also, from my comparisions a while ago now, the 
two methods gave me identical results.  That is:

void glass      clear3_glass
0
0
3    0.92189    0.98612    0.972
                       
void BRTDfunc    clear3_front
10   
    0.84636    0.90553    0.89251   
    0.07428    0.08322    0.08556   
    0 0 0
    .   
0
9 0 0 0 0 0 0 0 0 0
   
void BRTDfunc    clear3_back   
10
    0.84636    0.90553    0.89251
    0.07567    0.08418    0.08538
    0 0 0
    .   
0
9 0 0 0 0 0 0 0 0 0

is equivalent to:

void BRTDfunc clear3_glass
    10    rrho    grho    brho
          rtau    gtau    btau
          0    0    0
          glazing.cal
    0
    18    0    0    0
          0    0    0
          0    0    0
          0.07428    0.08322    0.08556
          0.07567    0.08418    0.08538
          0.84636    0.90553    0.89251

Also, you might want to check out glass1.cal and glass2.cal which is 
part of the newest HEAD radiance release.  It just distinguishes between 
single pane and double pane which have different angular dependance 
functions.  Also, check out glaze.csh in the latest release, I was just 
informed of this and have not checked it out personally, but I 
understand it helps create these definitions.

So, I think the BRTDFunc methods can provide greater accuracy than the 
glass primitive.

I hope I have not mistated any of this, anyone please correct me if so.

Regards,
Zack



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org 
http://www.radiance-online.org/mailman/listinfo/radiance-general 

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org 
http://www.radiance-online.org/mailman/listinfo/radiance-general


From radiance-general@radiance-online.org  Fri Jan 16 12:49:37 2004
From: radiance-general@radiance-online.org (alex Summerfield)
Date: Fri, 16 Jan 2004 12:49:37 +0000
Subject: [Radiance-general] Re: query about accurately modelling glazing
In-Reply-To: <4006E529.4070509@visarc.com>
References: <20040115110002.9868.7449.Mailman@radiance-on-linux.org> <4006C15C.2080701@archenergy.com> <4006E529.4070509@visarc.com>
Message-ID: <7186C568-4822-11D8-8F38-003065469002@arch.usyd.edu.au>

--Apple-Mail-1--686586292
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=WINDOWS-1252;
	format=flowed

Hi All,

Thanks everyone for this interesting thread. Since there is a fair bit=20=

of discussion on precise measurement of transmission and reflection=20
properties, this might be a good opportunity to check about Radiance=20
handling of glazing with the greater wisdom out there.

Ok so as my limited understanding has it:

refractive index: in Radiance this is only used for tracing 'view rays'=20=

- (so that we see a view refracted through the glazing) but that the=20
light is transmitted through and cast into the space is unaffected.=20
When tracing a ray back towards a direct source, such as the sun - if=20
it were refracted it would be deflected and might miss a small target=20
source.

(hmmm, might create some surreal situations - suppose we are standing=20
in a space and could just see a refracted sun through the edge of the=20
window but the line on the floor indicates we are standing in shadow.)
Probably the most common example where refraction of direct sources=20
might be visually important would be glass bricks.

I think refractive index also does not apply when tracing rays as part=20=

of the indirect calculation - even though missing a large area source=20
(sky) is not likely to be a problem.

Reflectance - in atria there are likely to be complex and multiple=20
glazing surfaces - eg the roof and then in large areas along the=20
offices lining the edge. The intricate reflections may be visible in=20
the scene, but specular reflections from the glazing (or anything else)=20=

will not contribute to illuminance levels in the atrium - unless=20
specified as secondary sources (ie generate 'virtual' sources). This is=20=

not going to handle anything other than smooth flat surfaces (eg not=20
water).

(Daniel - this may have relevance for your work) it does not include=20
the contribution of indirect sources eg bright overcast skies are not=20
going to be specularly reflected around the atrium. The Radiance=20
indirect calculation essentially deals with diffuse-diffuse pathways=20
only.

Ok so does that mean specs and functions for reflectance changing with=20=

angle of incidence are going to effect the appearance of the scene=20
visible in the glazing, the light transmitted, but not the light=20
reflected?

And what about direct sunlight and diffusing glass? Is the light=20
transmitted - or does the random scattering cause the same problem as=20
refraction about missing the target when tracing the ray backwards?

Anyway synthetic images of what we see in these types of scenes - with=20=

all those glossy hard surfaces and intricate multiple reflection of sky=20=

sources etc. - may be substantially different to what the walls, floor=20=

etc 'see'.

well hope this is right - i await heavy editing/ comments.
cheers
alex

*******************************************************
A. J. Summerfield                 alex@arch.usyd.edu.au
Faculty of Architecture, University of Sydney

Outside of a dog, a book is man's best friend.
Inside a dog, it's too dark to read.       Groucho Marx
*******************************************************


On 15 Jan 2004, at 7:08 pm, Jack de Valpine wrote:

> Hi All,
>
> Well here are some further things to confuse/clarify the =
possibilities.
>
> The BRTDfunc is very powerful and has multiple uses. Several things=20
> that I actually find quite nice about it are:
>
> 	=95 	values represent transmittance and reflectance, as one =
might=20
> determine from manufacturers data or from Optics 5 (a side note, I=20
> believe that Optics 5 is actually used to calculate the values that=20
> manufacturers then report for the measurements, this information is=20
> incorporated into tools like the Window 4 and 5 software, some one=20
> from the LBL optics group could probably give a better summary of the=20=

> capabilities).
> 	=95 	allocation of values is clear, that is values are =
allocated to=20
> specular and diffuse components of the material definition (the=20
> problem here if you are trying to simulate a glazing material that has=20=

> diffuse transmittance/reflectance performance is that manufacturers=20
> are only reporting total reflectance and transmittance and not diffuse=20=

> and specular measures, so then you have to measure by hand. I think=20
> that Rob G. could give everyone a really superb summary on how to=20
> setup a measuring environment for glazing materials).
> 	=95 	enables simulation of more complex glazing materials =
such as those=20
> that have higher or differing front/back side reflectances than=20
> accounted for in the typical "glass" material type ( I believe that=20
> the reflectance for the glass material type is around 7%).
> Note that it is possible to use one BRTDfunc definition to define=20
> front and backside reflectances. Note also that transmittance as I=20
> understand it must be the same front and back (this is supported by=20
> the fact that there is only one transmittance that is supplied in=20
> manufacturers data and software such as Optics 5).
>
> Here is a simple definition for a "simple" glazing material (I am=20
> pretty confident that I am going to get some corrective feedback on=20
> this ;->):
>
> void BRTDfunc gl.test
> 10
> =A0=A0=A0 if(Rdot, .12, .11)=A0=A0=A0 if(Rdot, .12, .11)=A0=A0=A0 =A0=A0=
=A0 if(Rdot, .12, .11)
> =A0=A0=A0 0.70=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0=
 0.70=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 0.70
> =A0=A0=A0 0=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =
=A0=A0=A0 =A00=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =
=A0=A0=A0 =A00
> =A0=A0=A0 .
> 0
> 9
> =A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=
=A0 0=A0=A0=A0 0=A0=A0=A0 0
>
> This would define a simple glazing material with a total front side=20
> reflectance of 12%, a total backside reflectance of 11% and a total=20
> transmittance of 70%. This material could be applied to a single=20
> surface and does not need separate front and backside polygons.=20
> However what this definition does not account for is the impact of the=20=

> incident angle of the incoming ray on the resulting transmittance and=20=

> reflectance. It is not clear to me what kind of error this might=20
> actually introduce, however, I believe that a definition such as this=20=

> could easily take the place of the two (front and back) BRTDfunc=20
> definitions that get exported from Optics 5.
>
> I believe that there is some trickiness with normals and BRTDfunc, so=20=

> I hope that I am using Rdot to calculate orientation correctly?
>
> Note that the section in the definition with the 10 arguments relates=20=

> to the specular behavior of the material and the section with 9(+)=20
> arguments relates to the diffuse behavior of the material. Summing=20
> between these gives us total reflectance and transmittance. In this=20
> case the there is no diffuse behavior to the material.
>
> Depending on the application is might be worth checking out glaze.csh=20=

> in the latest release. This calculates models for both single and=20
> double surface glazing materials. I am not sure how it compares to=20
> glazing.cal in terms of the accuracy of the underlying model. Note=20
> however that glaze.csh is built around a handful (5 or 6) sets of=20
> reflectance and transmittance values as it "database". Some of these=20=

> were actually measure by me and looking back on it, I would prefer to=20=

> measure the "pvb" materials under a more precise protocol than I did=20=

> originally (again Rob G. would be the real resource here). I would=20
> think that the tool could be extended to account for many things that=20=

> can be exported from Optics 5. Perhaps the Optics 5 group might be=20
> interested in having Greg develop a more robust solution for what gets=20=

> exported from Optics 5 to account for a more sophisticated model of=20
> angular dependance and other properties?
>
> Well, all in all probably more confusion that clarity.
>
> Best,
>
> -Jack
>
>
> Zack Rogers wrote:
>
> Hello,
>
>
> secondly, what does this do to the transmittance?=A0 physically, the=20=

> transmittance going one way should be the same as the transmittance=20
> going the other way.=A0 should the (rtrns, gtrns, btrns) variables =
then=20
> be the same for both front and back panes?=A0 or does it not matter, =
as=20
> long as the product of their transmittances is equal to that of the=20
> combination.
>
>
> This is true for a symetric glass composition (ie. single pane no=20
> low-e, double pane, clear, no low-e) but not true for non-symetric=20
> glass which is often the case for glass with low-e and glass with one=20=

> of the panes tinted.=A0 I believe the front and back transmittance is=20=

> always really close, (ie. it can't be 10% in one direction and 90% in=20=

> the other) but they can vary slightly.=A0 This is what desktop =
radiance=20
> and optics 5 definition method allows you to do.
>
>
> finally, there are no functions built in.=A0 that means that there is =
no=20
> dependence on angle of incidence for either transmittance or=20
> reflectance.=A0 this is unrealistic, as transmittance generally =
reduces=20
> and reflectance generally increases with increasing angle of=20
> incidence.
>
>
> I do think Desktop Radiance and Optics 5 both make use of the angular=20=

> transmittance function.=A0 This is part of the glass primitive.=A0 And =
in=20
> my example, the BRTDFunc calls glazing.cal which provides the angular=20=

> transmittance function.=A0 Also, from my comparisions a while ago now,=20=

> the two methods gave me identical results.=A0 That is:
>
> void glass=A0=A0=A0=A0=A0 clear3_glass
> 0
> 0
> 3=A0=A0=A0 0.92189=A0=A0=A0 0.98612=A0=A0=A0 0.972
> =A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0 void =
BRTDfunc=A0=A0=A0 clear3_front
> 10=A0=A0 =A0=A0 0.84636=A0=A0=A0 0.90553=A0=A0=A0 0.89251=A0=A0 =A0=A0 =
0.07428=A0=A0=A0 0.08322=A0=A0=A0=20
> 0.08556=A0=A0 =A0=A0 0 0 0
> =A0=A0 .=A0=A0 0
> 9 0 0 0 0 0 0 0 0 0
> =A0 void BRTDfunc=A0=A0=A0 clear3_back=A0=A0 10
> =A0=A0 0.84636=A0=A0=A0 0.90553=A0=A0=A0 0.89251
> =A0=A0 0.07567=A0=A0=A0 0.08418=A0=A0=A0 0.08538
> =A0=A0 0 0 0
> =A0=A0 .=A0=A0 0
> 9 0 0 0 0 0 0 0 0 0
>
> is equivalent to:
>
> void BRTDfunc clear3_glass
> =A0=A0 10=A0=A0=A0 rrho=A0=A0=A0 grho=A0=A0=A0 brho
> =A0=A0=A0=A0=A0=A0=A0=A0 rtau=A0=A0=A0 gtau=A0=A0=A0 btau
> =A0=A0=A0=A0=A0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0
> =A0=A0=A0=A0=A0=A0=A0=A0 glazing.cal
> =A0=A0 0
> =A0=A0 18=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0
> =A0=A0=A0=A0=A0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0
> =A0=A0=A0=A0=A0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0
> =A0=A0=A0=A0=A0=A0=A0=A0 0.07428=A0=A0=A0 0.08322=A0=A0=A0 0.08556
> =A0=A0=A0=A0=A0=A0=A0=A0 0.07567=A0=A0=A0 0.08418=A0=A0=A0 0.08538
> =A0=A0=A0=A0=A0=A0=A0=A0 0.84636=A0=A0=A0 0.90553=A0=A0=A0 0.89251
>
> Also, you might want to check out glass1.cal and glass2.cal which is=20=

> part of the newest HEAD radiance release.=A0 It just distinguishes=20
> between single pane and double pane which have different angular=20
> dependance functions.=A0 Also, check out glaze.csh in the latest=20
> release, I was just informed of this and have not checked it out=20
> personally, but I understand it helps create these definitions.
>
> So, I think the BRTDFunc methods can provide greater accuracy than the=20=

> glass primitive.
>
> I hope I have not mistated any of this, anyone please correct me if =
so.
>
> Regards,
> Zack
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
>
> --=20
> #       John E. de Valpine
> #       president
> #
> #       visarc incorporated
> #       http://www.visarc.com
> #
> #       channeling technology for superior design and construction
>
>

--Apple-Mail-1--686586292
Content-Transfer-Encoding: quoted-printable
Content-Type: text/enriched;
	charset=WINDOWS-1252

Hi All,


Thanks everyone for this interesting thread. Since there is a fair bit
of discussion on precise measurement of transmission and reflection
properties, this might be a good opportunity to check about Radiance
handling of glazing with the greater wisdom out there.


Ok so as my limited understanding has it:


refractive index: in Radiance this is only used for tracing 'view
rays' - (so that we see a view refracted through the glazing) but that
the light is transmitted through and cast into the space is
unaffected. When tracing a ray back towards a direct source, such as
the sun - if it were refracted it would be deflected and might miss a
small target source.=20


(hmmm, might create some surreal situations - suppose we are standing
in a space and could just see a refracted sun through the edge of the
window but the line on the floor indicates we are standing in shadow.)

Probably the most common example where refraction of direct sources
might be visually important would be glass bricks.


I think refractive index also does not apply when tracing rays as part
of the indirect calculation - even though missing a large area source
(sky) is not likely to be a problem.


Reflectance - in atria there are likely to be complex and multiple
glazing surfaces - eg the roof and then in large areas along the
offices lining the edge. The intricate reflections may be visible in
the scene, but specular reflections from the glazing (or anything
else) will not contribute to illuminance levels in the atrium - unless
specified as secondary sources (ie generate 'virtual' sources). This
is not going to handle anything other than smooth flat surfaces (eg
not water).=20


(Daniel - this may have relevance for your work) it does not include
the contribution of indirect sources eg bright overcast skies are not
going to be specularly reflected around the atrium. The Radiance
indirect calculation essentially deals with diffuse-diffuse pathways
only.


Ok so does that mean specs and functions for reflectance changing with
angle of incidence are going to effect the appearance of the scene
visible in the glazing, the light transmitted, but not the light
reflected?


And what about direct sunlight and diffusing glass? Is the light
transmitted - or does the random scattering cause the same problem as
refraction about missing the target when tracing the ray backwards?


Anyway synthetic images of what we see in these types of scenes - with
all those glossy hard surfaces and intricate multiple reflection of
sky sources etc. - may be substantially different to what the walls,
floor etc 'see'.


well hope this is right - i await heavy editing/ comments.

cheers

alex


*******************************************************

A. J. Summerfield                 alex@arch.usyd.edu.au

Faculty of Architecture, University of Sydney


Outside of a dog, a book is man's best friend.

Inside a dog, it's too dark to read.       Groucho Marx

*******************************************************



On 15 Jan 2004, at 7:08 pm, Jack de Valpine wrote:


<excerpt>Hi All,


Well here are some further things to confuse/clarify the possibilities.


The BRTDfunc is very powerful and has multiple uses. Several things
that I actually find quite nice about it are:


	=95 	values represent transmittance and reflectance, as one =
might
determine from manufacturers data or from Optics 5 (a side note, I
believe that Optics 5 is actually used to calculate the values that
manufacturers then report for the measurements, this information is
incorporated into tools like the Window 4 and 5 software, some one
from the LBL optics group could probably give a better summary of the
capabilities).

	=95 	allocation of values is clear, that is values are =
allocated to
specular and diffuse components of the material definition (the
problem here if you are trying to simulate a glazing material that has
diffuse transmittance/reflectance performance is that manufacturers
are only reporting total reflectance and transmittance and not diffuse
and specular measures, so then you have to measure by hand. I think
that Rob G. could give everyone a really superb summary on how to
setup a measuring environment for glazing materials).

	=95 	enables simulation of more complex glazing materials =
such as those
that have higher or differing front/back side reflectances than
accounted for in the typical "glass" material type ( I believe that
the reflectance for the glass material type is around 7%).

Note that it is possible to use one BRTDfunc definition to define
front and backside reflectances. Note also that transmittance as I
understand it must be the same front and back (this is supported by
the fact that there is only one transmittance that is supplied in
manufacturers data and software such as Optics 5).=20


Here is a simple definition for a "simple" glazing material (I am
pretty confident that I am going to get some corrective feedback on
this ;->):


void BRTDfunc gl.test

10

=A0=A0=A0 if(Rdot, .12, .11)=A0=A0=A0 if(Rdot, .12, .11)=A0=A0=A0 =A0=A0=A0=
 if(Rdot, .12, .11)

=A0=A0=A0 0.70=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =
0.70=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 0.70

=A0=A0=A0 0=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =
=A0=A0=A0 =A00=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =
=A0=A0=A0 =A00

=A0=A0=A0 .

0

9

=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0=
 0=A0=A0=A0 0=A0=A0=A0 0


This would define a simple glazing material with a total front side
reflectance of 12%, a total backside reflectance of 11% and a total
transmittance of 70%. This material could be applied to a single
surface and does not need separate front and backside polygons.
However what this definition does not account for is the impact of the
incident angle of the incoming ray on the resulting transmittance and
reflectance. It is not clear to me what kind of error this might
actually introduce, however, I believe that a definition such as this
could easily take the place of the two (front and back) BRTDfunc
definitions that get exported from Optics 5.=20


I believe that there is some trickiness with normals and BRTDfunc, so
I hope that I am using Rdot to calculate orientation correctly?


Note that the section in the definition with the 10 arguments relates
to the specular behavior of the material and the section with 9(+)
arguments relates to the diffuse behavior of the material. Summing
between these gives us total reflectance and transmittance. In this
case the there is no diffuse behavior to the material.


Depending on the application is might be worth checking out glaze.csh
in the latest release. This calculates models for both single and
double surface glazing materials. I am not sure how it compares to
glazing.cal in terms of the accuracy of the underlying model. Note
however that glaze.csh is built around a handful (5 or 6) sets of
reflectance and transmittance values as it "database". Some of these
were actually measure by me and looking back on it, I would prefer to
measure the "pvb" materials under a more precise protocol than I did
originally (again Rob G. would be the real resource here). I would
think that the tool could be extended to account for many things that
can be exported from Optics 5. Perhaps the Optics 5 group might be
interested in having Greg develop a more robust solution for what gets
exported from Optics 5 to account for a more sophisticated model of
angular dependance and other properties?


Well, all in all probably more confusion that clarity.


Best,


-Jack



Zack Rogers wrote:


Hello,



secondly, what does this do to the transmittance?=A0 physically, the
transmittance going one way should be the same as the transmittance
going the other way.=A0 should the (rtrns, gtrns, btrns) variables then
be the same for both front and back panes?=A0 or does it not matter, as
long as the product of their transmittances is equal to that of the
combination.



This is true for a symetric glass composition (ie. single pane no
low-e, double pane, clear, no low-e) but not true for non-symetric
glass which is often the case for glass with low-e and glass with one
of the panes tinted.=A0 I believe the front and back transmittance is
always really close, (ie. it can't be 10% in one direction and 90% in
the other) but they can vary slightly.=A0 This is what desktop radiance
and optics 5 definition method allows you to do.



finally, there are no functions built in.=A0 that means that there is no
dependence on angle of incidence for either transmittance or
reflectance.=A0 this is unrealistic, as transmittance generally reduces
and reflectance generally increases with increasing angle of incidence.



I do think Desktop Radiance and Optics 5 both make use of the angular
transmittance function.=A0 This is part of the glass primitive.=A0 And =
in
my example, the BRTDFunc calls glazing.cal which provides the angular
transmittance function.=A0 Also, from my comparisions a while ago now,
the two methods gave me identical results.=A0 That is:


void glass=A0=A0=A0=A0=A0 clear3_glass

0

0

3=A0=A0=A0 0.92189=A0=A0=A0 0.98612=A0=A0=A0 0.972

=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0 void =
BRTDfunc=A0=A0=A0 clear3_front

10=A0=A0 =A0=A0 0.84636=A0=A0=A0 0.90553=A0=A0=A0 0.89251=A0=A0 =A0=A0 =
0.07428=A0=A0=A0 0.08322=A0=A0=A0
0.08556=A0=A0 =A0=A0 0 0 0

=A0=A0 .=A0=A0 0

9 0 0 0 0 0 0 0 0 0

=A0 void BRTDfunc=A0=A0=A0 clear3_back=A0=A0 10

=A0=A0 0.84636=A0=A0=A0 0.90553=A0=A0=A0 0.89251

=A0=A0 0.07567=A0=A0=A0 0.08418=A0=A0=A0 0.08538

=A0=A0 0 0 0

=A0=A0 .=A0=A0 0

9 0 0 0 0 0 0 0 0 0


is equivalent to:


void BRTDfunc clear3_glass

=A0=A0 10=A0=A0=A0 rrho=A0=A0=A0 grho=A0=A0=A0 brho

=A0=A0=A0=A0=A0=A0=A0=A0 rtau=A0=A0=A0 gtau=A0=A0=A0 btau

=A0=A0=A0=A0=A0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0

=A0=A0=A0=A0=A0=A0=A0=A0 glazing.cal

=A0=A0 0

=A0=A0 18=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0

=A0=A0=A0=A0=A0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0

=A0=A0=A0=A0=A0=A0=A0=A0 0=A0=A0=A0 0=A0=A0=A0 0

=A0=A0=A0=A0=A0=A0=A0=A0 0.07428=A0=A0=A0 0.08322=A0=A0=A0 0.08556

=A0=A0=A0=A0=A0=A0=A0=A0 0.07567=A0=A0=A0 0.08418=A0=A0=A0 0.08538

=A0=A0=A0=A0=A0=A0=A0=A0 0.84636=A0=A0=A0 0.90553=A0=A0=A0 0.89251


Also, you might want to check out glass1.cal and glass2.cal which is
part of the newest HEAD radiance release.=A0 It just distinguishes
between single pane and double pane which have different angular
dependance functions.=A0 Also, check out glaze.csh in the latest
release, I was just informed of this and have not checked it out
personally, but I understand it helps create these definitions.


So, I think the BRTDFunc methods can provide greater accuracy than the
glass primitive.


I hope I have not mistated any of this, anyone please correct me if so.


Regards,

Zack




_______________________________________________

Radiance-general mailing list

=
<color><param>0000,0000,EEEE</param>Radiance-general@radiance-online.org</=
color>=20

=
<color><param>0000,0000,EEEE</param>http://www.radiance-online.org/mailman=
/listinfo/radiance-general</color>=20






<fixed>--=20

#       John E. de Valpine

#       president

#

#       visarc incorporated

#       =
<color><param>0000,0000,EEEE</param>http://www.visarc.com</color>

#

#       channeling technology for superior design and =
construction</fixed>


=20

</excerpt>=

--Apple-Mail-1--686586292--


From radiance-general@radiance-online.org  Fri Jan 16 19:06:28 2004
From: radiance-general@radiance-online.org (Martin Moeck)
Date: Fri, 16 Jan 2004 14:06:28 -0500
Subject: [Radiance-general] web site Radiance theatre lighting
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C06CF89@ENGRMAIL2.engr.psu.edu>

This is a multi-part message in MIME format.

------_=_NextPart_001_01C3DC63.D834A5B4
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

aHR0cDovL2RvbHBoaW4udXBlbm4uZWR1L35wYWNzaG9wL2xhYi9sYWIuaHRtbCA8aHR0cDovL2Rv
bHBoaW4udXBlbm4uZWR1L35wYWNzaG9wL2xhYi9sYWIuaHRtbD4gDQogDQpNYXJ0aW4gTW9lY2ss
IFBlbm4gU3RhdGUNCiANCg==

------_=_NextPart_001_01C3DC63.D834A5B4
Content-Type: application/ms-tnef;
	name="winmail.dat"
Content-Transfer-Encoding: base64

eJ8+Ih4TAQaQCAAEAAAAAAABAAEAAQeQBgAIAAAA5AQAAAAAAADoAAENgAQAAgAAAAIAAgABBYAD
AA4AAADUBwEAEAAOAAYAHAAFACEBASCAAwAOAAAA1AcBABAADgAGABwABQAhAQEJgAEAIQAAAEQ3
QzMzRUFGQzQzNjQ2NEQ5OUUyNzk5NjQ2RTA0RTJCAEYHAQOQBgCgDAAAOAAAAB8AGgABAAAAEgAA
AEkAUABNAC4ATgBvAHQAZQAAAAAAAwA2AAAAAAAfADcAAQAAAEYAAAB3AGUAYgAgAHMAaQB0AGUA
IABSAGEAZABpAGEAbgBjAGUAIAB0AGgAZQBhAHQAcgBlACAAbABpAGcAaAB0AGkAbgBnAAAAAABA
ADkAtKU02GPcwwEfAD0AAQAAAAIAAAAAAAAAAgFHAAEAAAA6AAAAYz1VUzthPSA7cD1QZW5uIFN0
YXRlIFVuaXZlO2w9RU5HUk1BSUwyLTA0MDExNjE5MDYyOFotODE2AAAAHwBJAAEAAACAAAAAWwBS
AGEAZABpAGEAbgBjAGUALQBnAGUAbgBlAHIAYQBsAF0AIABSAGUAOgAgAHEAdQBlAHIAeQAgAGEA
YgBvAHUAdAAgAGEAYwBjAHUAcgBhAHQAZQBsAHkAIABtAG8AZABlAGwAbABpAG4AZwAgAGcAbABh
AHoAaQBuAGcAAABAAE4AABaLnIXbwwEfAFoAAQAAABgAAABaAGEAYwBrACAAUgBvAGcAZQByAHMA
AAACAVsAAQAAAEAAAAAAAAAAgSsfpL6jEBmdbgDdAQ9UAgAAAABaYWNrIFJvZ2VycwBTTVRQAHpy
b2dlcnNAYXJjaGVuZXJneS5jb20AAgFcAAEAAAAcAAAAU01UUDpaUk9HRVJTQEFSQ0hFTkVSR1ku
Q09NAB8AXQABAAAAGAAAAFoAYQBjAGsAIABSAG8AZwBlAHIAcwAAAAIBXgABAAAAQAAAAAAAAACB
Kx+kvqMQGZ1uAN0BD1QCAAAAAFphY2sgUm9nZXJzAFNNVFAAenJvZ2Vyc0BhcmNoZW5lcmd5LmNv
bQACAV8AAQAAABwAAABTTVRQOlpST0dFUlNAQVJDSEVORVJHWS5DT00AHwBmAAEAAAAKAAAAUwBN
AFQAUAAAAAAAHwBnAAEAAAAuAAAAegByAG8AZwBlAHIAcwBAAGEAcgBjAGgAZQBuAGUAcgBnAHkA
LgBjAG8AbQAAAAAAHwBoAAEAAAAKAAAAUwBNAFQAUAAAAAAAHwBpAAEAAAAuAAAAegByAG8AZwBl
AHIAcwBAAGEAcgBjAGgAZQBuAGUAcgBnAHkALgBjAG8AbQAAAAAAHwBwAAEAAACAAAAAWwBSAGEA
ZABpAGEAbgBjAGUALQBnAGUAbgBlAHIAYQBsAF0AIABSAGUAOgAgAHEAdQBlAHIAeQAgAGEAYgBv
AHUAdAAgAGEAYwBjAHUAcgBhAHQAZQBsAHkAIABtAG8AZABlAGwAbABpAG4AZwAgAGcAbABhAHoA
aQBuAGcAAAACAXEAAQAAABsAAAABw9uFx0z+P50JtY5LIps2Knq+CNHGADd2qlEAHwB0AAEAAABK
AAAAcgBhAGQAaQBhAG4AYwBlAC0AZwBlAG4AZQByAGEAbABAAHIAYQBkAGkAYQBuAGMAZQAtAG8A
bgBsAGkAbgBlAC4AbwByAGcAAAAAAB8AGgwBAAAAGgAAAE0AYQByAHQAaQBuACAATQBvAGUAYwBr
AAAAAAAfAB0OAQAAAEYAAAB3AGUAYgAgAHMAaQB0AGUAIABSAGEAZABpAGEAbgBjAGUAIAB0AGgA
ZQBhAHQAcgBlACAAbABpAGcAaAB0AGkAbgBnAAAAAAACAQkQAQAAAHUDAABxAwAA1wgAAExaRnXO
iOvPAwAKAHJjcGcxMjWCMgNDaHRtbDEDMD8BAwH3CoACpAPjAgBjaMEKwHNldDAgBxMCgP8QAwBQ
BFYIVQeyEdUOUQMB3RDXMgYABsMR1TMERhDZbxLrEeMI7wn3OxjPDjA1vRnqNQBQGZQR4QxgYwBQ
MwsJAWQzNhFgC6U0INkQAipcDrIBkGcU8AqjCxHjHyg0FPA8IURPAENUWVBFIEhUAE1MIFBVQkxJ
AEMgIi0vL1czIkMiwERURCHUMy7CMiLARU4iPiAtH8/5JQExOCEwIeIkTyVfJ9DGMx7AJrBFQUQn
DQ7xFygvKq8mNDYO8DxNRRRUQQewQS2gPSJHUwnwBJBhdAWwIhLQTzROVCQQVC4wBeFFeNEQ8W5n
ZQZSdhMxMIEDAJACICA2LjAuNnEesDkuMSQ+LA8mQzeCNyEwVElUTEUnDkI0DvBbUmFkBzBumGNl
LTAgLnJsXQfwEGU6IHEKUHJ5IG8BoAhgBUAA0GMIcC6gZSZsN7AEYmxsC4BnIFpnC2B6OUElrjUh
MC//NI8yvyeFNdE7ECmPJ98+5AI1EWA8Qk9EWSDpNjByPT8Acj5QPsMAIXMDMEFhZG8A4EFhCrFc
/nEYsEFhEPADMEHFEWA+eyMeMT9/Zzk2ITBESZ5WQZkAAEPXPpk2NEcPrUQvOClRLdBoGNBmLjAx
DrB0cDoiwEKAbHDiaAuALnVwCfBM0AmACHUvfgqwY3Nob9RwLwtgYk4SLg6yLuCLCqMBkHIwIHQ9
XwJglQBwa0b7ZgiQbGQ+koZmUSALgHN0e0ghofJSImBOSyKQTA9NH04t/FxuF+AB8VEgESA/ABgw
XQBBdQMhSe8mNDQmkUYHLxFFRBhDPSMwMDP+M1ngRvtWoD9BVydSv1PP604qJbw1RpEvWNJBmUGn
Px4xYH9hj1dvRnAhIS9B/z5QPpkBwEGnCqJiOAqAJbz+MClRIyBG22N/RM9F30bvD0f/SQ9qP0sj
Jm5ic+ZwAoBBuCdhAUBt/2X//2cPaB9pL3BPa09sX2+Pbn+3e38F0ArAdAuABdBvBZD8aywiIF0B
BgABkDiQc4//dJ91r3a/d89433nvev98D/99H4TPcS9yP3NPgQ+CH4Mvv4Q/hU+GX5QvQEQmkS9A
0r8+X5WvmDE0UT4AJtN9mmAAAAAfADUQAQAAAIAAAAA8ADgANABGADAANQBCAEEAOQAxADEAOABC
AEIARAA0AEEAOABGAEMANgA0ADAAOQA4ADAAOABDAEUAMgA2ADYAQwAwADYAQwBGADgAOQBAAEUA
TgBHAFIATQBBAEkATAAyAC4AZQBuAGcAcgAuAHAAcwB1AC4AZQBkAHUAPgAAAB8ARxABAAAAHgAA
AG0AZQBzAHMAYQBnAGUALwByAGYAYwA4ADIAMgAAAAAACwDyEAEAAAAfAPMQAQAAAE4AAAB3AGUA
YgAgAHMAaQB0AGUAIABSAGEAZABpAGEAbgBjAGUAIAB0AGgAZQBhAHQAcgBlACAAbABpAGcAaAB0
AGkAbgBnAC4ARQBNAEwAAAAAAAsA9hAAAAAAQAAHMNZo9KFj3MMBQAAIMCwvPthj3MMBAwDeP+n9
AAADAPE/CQQAAB8A+D8BAAAAGgAAAE0AYQByAHQAaQBuACAATQBvAGUAYwBrAAAAAAACAfk/AQAA
AGYAAAAAAAAA3KdAyMBCEBq0uQgAKy/hggEAAAAAAAAAL089UEVOTiBTVEFURSBVTklWRVJTSVRZ
IC0gQ09FL09VPVBTVV9FTkdJTkVFUklORy9DTj1SRUNJUElFTlRTL0NOPU1NT0VDSwAAAB8A+j8B
AAAAKgAAAFMAeQBzAHQAZQBtACAAQQBkAG0AaQBuAGkAcwB0AHIAYQB0AG8AcgAAAAAAAgH7PwEA
AAAeAAAAAAAAANynQMjAQhAatLkIACsv4YIBAAAAAAAAAC4AAAADAP0/5AQAAAMAGUAAAAAAAwAa
QAAAAAADAB1AAAAAAAMAHkAAAAAAHwAwQAEAAAAOAAAATQBNAE8ARQBDAEsAAAAAAB8AMUABAAAA
DgAAAE0ATQBPAEUAQwBLAAAAAAAfADJAAQAAAC4AAAB6AHIAbwBnAGUAcgBzAEAAYQByAGMAaABl
AG4AZQByAGcAeQAuAGMAbwBtAAAAAAAfADNAAQAAAC4AAAB6AHIAbwBnAGUAcgBzAEAAYQByAGMA
aABlAG4AZQByAGcAeQAuAGMAbwBtAAAAAAAfADhAAQAAAA4AAABNAE0ATwBFAEMASwAAAAAAHwA5
QAEAAAAEAAAALgAAAAsAKQAAAAAACwAjAAAAAAADAAYQVdpB7QMABxBqAAAAAwAQEAAAAAADABEQ
AAAAAB4ACBABAAAAZQAAAEhUVFA6Ly9ET0xQSElOVVBFTk5FRFUvUEFDU0hPUC9MQUIvTEFCSFRN
TDxIVFRQOi8vRE9MUEhJTlVQRU5ORURVL1BBQ1NIT1AvTEFCL0xBQkhUTUxNQVJUSU5NT0VDSyxQ
RU4AAAAAAgF/AAEAAABAAAAAPDg0RjA1QkE5MTE4QkJENEE4RkM2NDA5ODA4Q0UyNjZDMDZDRjg5
QEVOR1JNQUlMMi5lbmdyLnBzdS5lZHU+AFjJ

------_=_NextPart_001_01C3DC63.D834A5B4--

From radiance-general@radiance-online.org  Sat Jan 17 00:26:49 2004
From: radiance-general@radiance-online.org (etienne canard)
Date: Fri, 16 Jan 2004 19:26:49 -0500
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
Message-ID: <BAY9-F22gQuvYCz7cE90004e016@hotmail.com>

Hi all,
I'm having problems compiling radiance from sources from
radiance-online cvs. I downloaded the stable tarball and a...
compile most of the executables, but it errors in the src/...

Too many errors encountered; the rest of the message is ignored:
time.

I am running Red Hat 9.  I saw Tom had a similar problem back in April.
What I did not see is if he ever got it working and how.

Etienne

_________________________________________________________________
Get a FREE online virus check for your PC here, from McAfee. 
http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963


From radiance-general@radiance-online.org  Sat Jan 17 07:23:09 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Fri, 16 Jan 2004 23:23:09 -0800
Subject: [Radiance-general] Re: query about accurately modelling glazing
In-Reply-To: <7186C568-4822-11D8-8F38-003065469002@arch.usyd.edu.au>
References: <20040115110002.9868.7449.Mailman@radiance-on-linux.org> <4006C15C.2080701@archenergy.com> <4006E529.4070509@visarc.com> <7186C568-4822-11D8-8F38-003065469002@arch.usyd.edu.au>
Message-ID: <009AA286-48BE-11D8-867A-000A95BB392A@lmi.net>

Hi Alex,

> From: alex Summerfield <alex@arch.usyd.edu.au>
> Date: January 16, 2004 4:49:37 AM PST
>
> Hi All,
>
> Thanks everyone for this interesting thread. Since there is a fair bit 
> of discussion on precise measurement of transmission and reflection 
> properties, this might be a good opportunity to check about Radiance 
> handling of glazing with the greater wisdom out there.
>
> Ok so as my limited understanding has it:
>
> refractive index: in Radiance this is only used for tracing 'view 
> rays' - (so that we see a view refracted through the glazing) but that 
> the light is transmitted through and cast into the space is 
> unaffected. When tracing a ray back towards a direct source, such as 
> the sun - if it were refracted it would be deflected and might miss a 
> small target source.
>
> (hmmm, might create some surreal situations - suppose we are standing 
> in a space and could just see a refracted sun through the edge of the 
> window but the line on the floor indicates we are standing in shadow.)
> Probably the most common example where refraction of direct sources 
> might be visually important would be glass bricks.

Actually, refraction is never ignored in Radiance, even when tracing to 
light sources.  The sources will be missed or not depending on how big 
they are and how much refraction goes on.  If a pane of glass is 
modeled using dielectric, so that rays are refracted going through it, 
they get bent back straight so they still head in the same direction, 
albeit shifted, slightly.  Spheres and lenses are a different matter of 
course, and caustics are not modeled correctly for that reason.  You 
need to use the photon map for that!

> I think refractive index also does not apply when tracing rays as part 
> of the indirect calculation - even though missing a large area source 
> (sky) is not likely to be a problem.

I don't know where you heard this, but it's not true.

> Reflectance - in atria there are likely to be complex and multiple 
> glazing surfaces - eg the roof and then in large areas along the 
> offices lining the edge. The intricate reflections may be visible in 
> the scene, but specular reflections from the glazing (or anything 
> else) will not contribute to illuminance levels in the atrium - unless 
> specified as secondary sources (ie generate 'virtual' sources). This 
> is not going to handle anything other than smooth flat surfaces (eg 
> not water).

That's partially true.  Interreflections of the sky and other parts of 
the ambient calculation will consider the multiple reflections going 
on, specular as well as diffuse.  However, you would have to use 
virtual sources to get the pure specular reflections from light 
sources, which can be expensive.  You're better off doing that only 
when it really matters -- like when you have a mirrored building facade 
or something.

> (Daniel - this may have relevance for your work) it does not include 
> the contribution of indirect sources eg bright overcast skies are not 
> going to be specularly reflected around the atrium. The Radiance 
> indirect calculation essentially deals with diffuse-diffuse pathways 
> only.

Again, these are accounted for correctly.

> Ok so does that mean specs and functions for reflectance changing with 
> angle of incidence are going to effect the appearance of the scene 
> visible in the glazing, the light transmitted, but not the light 
> reflected?

They affect both.

> And what about direct sunlight and diffusing glass? Is the light 
> transmitted - or does the random scattering cause the same problem as 
> refraction about missing the target when tracing the ray backwards?

The diffuse or rough specular part of transmission (and reflection) 
gets included in the indirect (ambient) calculation.  If modeled using 
the directional diffuse part of one of the *func or *data material 
types, this gets lumped into the Lambertian component, which admittedly 
is a very crude approximation.  Perhaps this is what you are thinking 
of above -- however, it doesn't apply to the Gaussian materials 
(plastic, metal, trans, plastic2, metal2, trans2).  These all work 
properly, which is why you should use them whenever possible.  Problems 
remain when you get strong caustics from a low roughness surface, 
however.

> Anyway synthetic images of what we see in these types of scenes - with 
> all those glossy hard surfaces and intricate multiple reflection of 
> sky sources etc. - may be substantially different to what the walls, 
> floor etc 'see'.
>
> well hope this is right - i await heavy editing/ comments.
> cheers
> alex
>
> *******************************************************
> A. J. Summerfield                 alex@arch.usyd.edu.au
> Faculty of Architecture, University of Sydney
>
> Outside of a dog, a book is man's best friend.
> Inside a dog, it's too dark to read.       Groucho Marx
> *******************************************************
>
>
> On 15 Jan 2004, at 7:08 pm, Jack de Valpine wrote:
>
>> Hi All,
>>
>> Well here are some further things to confuse/clarify the 
>> possibilities.
>>
>> The BRTDfunc is very powerful and has multiple uses. Several things 
>> that I actually find quite nice about it are:
>>
>> 	 	values represent transmittance and reflectance, as one might 
>> determine from manufacturers data or from Optics 5 (a side note, I 
>> believe that Optics 5 is actually used to calculate the values that 
>> manufacturers then report for the measurements, this information is 
>> incorporated into tools like the Window 4 and 5 software, some one 
>> from the LBL optics group could probably give a better summary of the 
>> capabilities).
>> 	 	allocation of values is clear, that is values are allocated to 
>> specular and diffuse components of the material definition (the 
>> problem here if you are trying to simulate a glazing material that 
>> has diffuse transmittance/reflectance performance is that 
>> manufacturers are only reporting total reflectance and transmittance 
>> and not diffuse and specular measures, so then you have to measure by 
>> hand. I think that Rob G. could give everyone a really superb summary 
>> on how to setup a measuring environment for glazing materials).
>> 	 	enables simulation of more complex glazing materials such as 
>> those that have higher or differing front/back side reflectances than 
>> accounted for in the typical "glass" material type ( I believe that 
>> the reflectance for the glass material type is around 7%).
>> Note that it is possible to use one BRTDfunc definition to define 
>> front and backside reflectances. Note also that transmittance as I 
>> understand it must be the same front and back (this is supported by 
>> the fact that there is only one transmittance that is supplied in 
>> manufacturers data and software such as Optics 5).
>>
>> Here is a simple definition for a "simple" glazing material (I am 
>> pretty confident that I am going to get some corrective feedback on 
>> this ;->):
>>
>> void BRTDfunc gl.test
>> 10
>>     if(Rdot, .12, .11)    if(Rdot, .12, .11)        if(Rdot, .12, .11)
>>     0.70                        0.70                        0.70
>>     0                             0                             0
>>     .
>> 0
>> 9
>>     0    0    0    0    0    0    0    0    0
>>
>> This would define a simple glazing material with a total front side 
>> reflectance of 12%, a total backside reflectance of 11% and a total 
>> transmittance of 70%. This material could be applied to a single 
>> surface and does not need separate front and backside polygons. 
>> However what this definition does not account for is the impact of 
>> the incident angle of the incoming ray on the resulting transmittance 
>> and reflectance. It is not clear to me what kind of error this might 
>> actually introduce, however, I believe that a definition such as this 
>> could easily take the place of the two (front and back) BRTDfunc 
>> definitions that get exported from Optics 5.
>>
>> I believe that there is some trickiness with normals and BRTDfunc, so 
>> I hope that I am using Rdot to calculate orientation correctly?
>>
>> Note that the section in the definition with the 10 arguments relates 
>> to the specular behavior of the material and the section with 9(+) 
>> arguments relates to the diffuse behavior of the material. Summing 
>> between these gives us total reflectance and transmittance. In this 
>> case the there is no diffuse behavior to the material.
>>
>> Depending on the application is might be worth checking out glaze.csh 
>> in the latest release. This calculates models for both single and 
>> double surface glazing materials. I am not sure how it compares to 
>> glazing.cal in terms of the accuracy of the underlying model. Note 
>> however that glaze.csh is built around a handful (5 or 6) sets of 
>> reflectance and transmittance values as it "database". Some of these 
>> were actually measure by me and looking back on it, I would prefer to 
>> measure the "pvb" materials under a more precise protocol than I did 
>> originally (again Rob G. would be the real resource here). I would 
>> think that the tool could be extended to account for many things that 
>> can be exported from Optics 5. Perhaps the Optics 5 group might be 
>> interested in having Greg develop a more robust solution for what 
>> gets exported from Optics 5 to account for a more sophisticated model 
>> of angular dependance and other properties?
>>
>> Well, all in all probably more confusion that clarity.
>>
>> Best,
>>
>> -Jack
>>
>>
>> Zack Rogers wrote:
>>
>> Hello,
>>
>>
>> secondly, what does this do to the transmittance?  physically, the 
>> transmittance going one way should be the same as the transmittance 
>> going the other way.  should the (rtrns, gtrns, btrns) variables then 
>> be the same for both front and back panes?  or does it not matter, as 
>> long as the product of their transmittances is equal to that of the 
>> combination.
>>
>>
>> This is true for a symetric glass composition (ie. single pane no 
>> low-e, double pane, clear, no low-e) but not true for non-symetric 
>> glass which is often the case for glass with low-e and glass with one 
>> of the panes tinted.  I believe the front and back transmittance is 
>> always really close, (ie. it can't be 10% in one direction and 90% in 
>> the other) but they can vary slightly.  This is what desktop radiance 
>> and optics 5 definition method allows you to do.
>>
>>
>> finally, there are no functions built in.  that means that there is 
>> no dependence on angle of incidence for either transmittance or 
>> reflectance.  this is unrealistic, as transmittance generally reduces 
>> and reflectance generally increases with increasing angle of 
>> incidence.
>>
>>
>> I do think Desktop Radiance and Optics 5 both make use of the angular 
>> transmittance function.  This is part of the glass primitive.  And in 
>> my example, the BRTDFunc calls glazing.cal which provides the angular 
>> transmittance function.  Also, from my comparisions a while ago now, 
>> the two methods gave me identical results.  That is:
>>
>> void glass      clear3_glass
>> 0
>> 0
>> 3    0.92189    0.98612    0.972
>>                       void BRTDfunc    clear3_front
>> 10      0.84636    0.90553    0.89251      0.07428    0.08322    
>> 0.08556      0 0 0
>>    .   0
>> 9 0 0 0 0 0 0 0 0 0
>>   void BRTDfunc    clear3_back   10
>>    0.84636    0.90553    0.89251
>>    0.07567    0.08418    0.08538
>>    0 0 0
>>    .   0
>> 9 0 0 0 0 0 0 0 0 0
>>
>> is equivalent to:
>>
>> void BRTDfunc clear3_glass
>>    10    rrho    grho    brho
>>          rtau    gtau    btau
>>          0    0    0
>>          glazing.cal
>>    0
>>    18    0    0    0
>>          0    0    0
>>          0    0    0
>>          0.07428    0.08322    0.08556
>>          0.07567    0.08418    0.08538
>>          0.84636    0.90553    0.89251
>>
>> Also, you might want to check out glass1.cal and glass2.cal which is 
>> part of the newest HEAD radiance release.  It just distinguishes 
>> between single pane and double pane which have different angular 
>> dependance functions.  Also, check out glaze.csh in the latest 
>> release, I was just informed of this and have not checked it out 
>> personally, but I understand it helps create these definitions.
>>
>> So, I think the BRTDFunc methods can provide greater accuracy than 
>> the glass primitive.
>>
>> I hope I have not mistated any of this, anyone please correct me if 
>> so.
>>
>> Regards,
>> Zack
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>>
>> -- 
>> #       John E. de Valpine
>> #       president
>> #
>> #       visarc incorporated
>> #       http://www.visarc.com
>> #
>> #       channeling technology for superior design and construction
>>
>>



From radiance-general@radiance-online.org  Wed Jan 14 00:16:48 2004
From: radiance-general@radiance-online.org (Franz Herbert)
Date: Tue, 13 Jan 2004 16:16:48 -0800
Subject: [Radiance-general] Spectral imaging
Message-ID: <BC29CA70.4871%franz@icscolor.com>

> This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

--Boundary_(ID_lN/n1fPC6VRrqMqpwlEdNw)
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT

Hi Greg,

We are writing a paper for CGIV 2004, and I had a quick question:

Has anybody ever combined spectral imagery (environments) with spectrally
rendered 3D objects? If yes, also in real time?

Thanks a bunch,
Franz


Franz Herbert, Vice President Research & Development

 

Integrated Color Solutions, Inc.

609 South Vulcan Ave, Suite 301, Encinitas, CA 92024

Office 760-753-7650   | Fax 760-753-7643

franz@icscolor.com
 

Integrated Color Solutions, Inc. (ICS) is a technology leader in providing
color management solutions to industries where color is critical.

To learn more visit us at www.icscolor.com
____________________________________________________________________________
____________

This email is confidential and legally privileged. The correspondence and
information herein is intended solely for the addressee/s. Access to this
email or documents attached to this email by anyone else is unauthorized and
illegal.

If you are not the intended recipient, any disclosure, distribution, copying
or any action taken or omitted to be taken in dependence on it, is
prohibited and unlawful.

____________________________________________________________________________
_______________________




--Boundary_(ID_lN/n1fPC6VRrqMqpwlEdNw)
Content-type: text/html; charset=US-ASCII
Content-transfer-encoding: 7BIT

<HTML>
<HEAD>
<TITLE>Spectral imaging</TITLE>
</HEAD>
<BODY>
<FONT FACE="Verdana">Hi Greg,<BR>
<BR>
We are writing a paper for CGIV 2004, and I had a quick question:<BR>
<BR>
Has anybody ever combined spectral imagery (environments) with spectrally rendered 3D objects? If yes, also in real time?<BR>
<BR>
Thanks a bunch,<BR>
Franz<BR>
<BR>
<BR>
<B>Franz Herbert</B>,<FONT SIZE="1"> Vice President Research &amp; Development<BR>
</FONT><BR>
&nbsp;<BR>
<BR>
<H6>Integrated Color Solutions, Inc.<BR>
</H6><BR>
<FONT SIZE="1">609 South</FONT> <FONT SIZE="1">Vulcan Ave, Suite 301, Encinitas, CA 92024<BR>
</FONT><BR>
<FONT SIZE="1">Office 760-753-7650 &nbsp;&nbsp;| Fax 760-753-7643<BR>
</FONT><BR>
<FONT COLOR="#0000FF"><FONT SIZE="1"><U>franz@icscolor.com<BR>
</U></FONT></FONT><FONT SIZE="1"> <BR>
</FONT><BR>
</FONT><FONT FACE="Palatino"><I>Integrated Color Solutions, Inc. (ICS) is a technology leader in providing color management solutions to industries where color is critical. <BR>
</I></FONT><FONT FACE="Verdana"><BR>
</FONT><FONT FACE="Palatino"><I>To learn more visit us at www.icscolor.com<BR>
</I></FONT><FONT SIZE="1"><FONT FACE="Verdana">________________________________________________________________________________________<BR>
</FONT></FONT><FONT FACE="Verdana"><BR>
<FONT SIZE="1">This email is confidential and legally privileged. The correspondence and information herein is intended solely for the addressee/s. Access to this email or documents attached to this email by anyone else is unauthorized and illegal.<BR>
</FONT><BR>
<FONT SIZE="1">If you are not the intended recipient, any disclosure, distribution, copying or any action taken or omitted to be taken in dependence on it, is prohibited and unlawful.<BR>
</FONT><BR>
<FONT SIZE="1">___________________________________________________________________________________________________<BR>
</FONT><BR>
<BR>
</FONT>
</BODY>
</HTML>


--Boundary_(ID_lN/n1fPC6VRrqMqpwlEdNw)--

From radiance-general@radiance-online.org  Sat Jan 17 23:31:15 2004
From: radiance-general@radiance-online.org (Mark de la Fuente)
Date: Sat, 17 Jan 2004 17:31:15 -0600
Subject: [Radiance-general] ConRAD
Message-ID: <s0097180.053@wmtao.com>

** Proprietary **

Hi Everyone,

Does anyone know where I might find this ConRAD program?  The links I
have found do not seem to work.

Thanks!

Mark


From radiance-general@radiance-online.org  Sun Jan 18 12:51:33 2004
From: radiance-general@radiance-online.org (alex Summerfield)
Date: Sun, 18 Jan 2004 12:51:33 +0000
Subject: [Radiance-general] Re: query about accurately modelling glazing
In-Reply-To: <009AA286-48BE-11D8-867A-000A95BB392A@lmi.net>
References: <20040115110002.9868.7449.Mailman@radiance-on-linux.org> <4006C15C.2080701@archenergy.com> <4006E529.4070509@visarc.com> <7186C568-4822-11D8-8F38-003065469002@arch.usyd.edu.au> <009AA286-48BE-11D8-867A-000A95BB392A@lmi.net>
Message-ID: <0B2237DA-49B5-11D8-A54C-003065469002@arch.usyd.edu.au>

Hi Greg
Many thanks for the feedback -
>
> Actually, refraction is never ignored in Radiance, even when tracing 
> to light sources.  The sources will be missed or not depending on how 
> big they are and how much refraction goes on.  If a pane of glass is 
> modeled using dielectric, so that rays are refracted going through it, 
> they get bent back straight so they still head in the same direction, 
> albeit shifted, slightly.

Ok that's interesting - it means that refraction through parallel 
surfaces will never fail for direct sunlight - since they will be 
heading in the right direction to hit the sun source. Great.

Seems that for non-parallel situations refraction treatment in the 
direct calc in Radiance is different to other raytracers in that when 
the ray misses a direct source there is a null result - whereas i think 
the usual treatment is to ignore refraction. I'm thinking of sunlight 
only through a cylindrical glass of water - both packages will show the 
scene through the glass refracted - but in std raytracer the sunlight 
passes through and is cast onto the table simply changed by the 
transmittance of the media.

Radiance will presumably record transmission in places (small 
deflection) and in other parts not so.  (Not a criticism, Greg - just 
good to be aware in some situations, such as a wavey-glass brick wall, 
may transmit less of the sunlight than anticipated by the material 
spec).

> Spheres and lenses are a different matter of course, and caustics are 
> not modeled correctly for that reason.  You need to use the photon map 
> for that!

Indeed -  mind you perhaps the caustics produced will ultimately split 
out just into the three primaries.
  I'm thinking of a virtual Newton conducting his classic prism 
experiment ;-)

>
>> I think refractive index also does not apply when tracing rays as 
>> part of the indirect calculation - even though missing a large area 
>> source (sky) is not likely to be a problem.
>
> I don't know where you heard this, but it's not true.
I guess i got it from the (wrong) idea that refraction only works for 
view rays.

>
>> Reflectance - in atria there are likely to be complex and multiple 
>> glazing surfaces - eg the roof and then in large areas along the 
>> offices lining the edge....

> That's partially true.  Interreflections of the sky and other parts of 
> the ambient calculation will consider the multiple reflections going 
> on, specular as well as diffuse.  However, you would have to use 
> virtual sources to get the pure specular reflections from light 
> sources, which can be expensive.  You're better off doing that only 
> when it really matters -- like when you have a mirrored building 
> facade or something.

Specular contributions are probably neglected more often than they 
should, especially when we are dealing with direct sunlight on polished 
floors or glazing around entrances or in atria.  It may not be 
important overall - but in specific areas it can be highly significant.

The upside is that the source is just the sun and these specular 
surfaces often lie in the same plane so that a single expanse of 
'mirror' will do the job for many windows. By comparison with the 
ambient calculation the creation of one or two extra virtual suns to 
cover these pathways in the direct calculation need not be costly.

>
>> (Daniel - this may have relevance for your work) it does not include 
>> the contribution of indirect sources eg bright overcast skies are not 
>> going to be specularly reflected around the atrium. The Radiance 
>> indirect calculation essentially deals with diffuse-diffuse pathways 
>> only.
>
> Again, these are accounted for correctly.

OK Great! One subsequent question to clarify:
Consider if we have no direct sources and a view ray that hits a 
diffuse floor - we have hemisphere sampling and ambient bounce 1 - if 
any of these rays is incident on a specular surface  then the ray is 
traced back with specular reflection and then, for instance finds the 
sky.

  So would this pathway (where sky illuminates floor via glazing) 
require a setting of  -ab 3 as a minimum as would be expected from a 
purely diffuse pathway (1 ambient bounce - 2 specular reflection - 3 
indirect sky source)?

  If the operator decides to switch to modelling the atrium aperture as 
an illum (switching the indirect sky to a the direct source) - then 
this pathway is no longer included  - again unless the surface is 
identified explicitly as a mirror (modified by the reflection function 
used on the  glazing).

This is useful to be aware of because the notion of changing a source 
requiring a change to the model specs is not necessarily obvious - and 
it may account for some of the differences in results between using an 
illum or relying on the ambient calculation.

>
>> Ok so does that mean specs and functions for reflectance changing 
>> with angle of incidence are going to effect the appearance of the 
>> scene visible in the glazing, the light transmitted, but not the 
>> light reflected?
>
> They affect both.
>
>> And what about direct sunlight and diffusing glass? Is the light 
>> transmitted - or does the random scattering cause the same problem as 
>> refraction about missing the target when tracing the ray backwards?
>
> The diffuse or rough specular part of transmission (and reflection) 
> gets included in the indirect (ambient) calculation.  If modeled using 
> the directional diffuse part of one of the *func or *data material 
> types, this gets lumped into the Lambertian component, which 
> admittedly is a very crude approximation.  Perhaps this is what you 
> are thinking of above -- however, it doesn't apply to the Gaussian 
> materials (plastic, metal, trans, plastic2, metal2, trans2).  These 
> all work properly, which is why you should use them whenever possible. 
>  Problems remain when you get strong caustics from a low roughness 
> surface, however.
>

Still not sure about this - a ray in the direct calc is traced back 
toward the sun - but is incident on some diffusing glass and is 
scattered randomly and presumably misses its target. (?)

I agree about using the Gaussian materials as far as possible 
especially given the role of indirect lighting in daylighting - i'm not 
entirely convinced given the Lambertian diffuse approximation and 
nevertheless good results in most cases -  if going to the trouble of 
measuring and specifying BRTD materials often really make that much 
difference.

The number of times i've seen lighting studies blown away because some 
such thing as people deciding to keep their blinds drawn so they can 
see their computer screens clearly :-)

Many thanks again Greg - very useful to clarify things.
cheers
alex

*******************************************************
A. J. Summerfield                 alex@arch.usyd.edu.au
Faculty of Architecture, University of Sydney

Outside of a dog, a book is man's best friend.
Inside a dog, it's too dark to read.       Groucho Marx
*******************************************************


From radiance-general@radiance-online.org  Sun Jan 18 17:17:33 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Sun, 18 Jan 2004 09:17:33 -0800
Subject: [Radiance-general] Re: query about accurately modelling glazing
In-Reply-To: <0B2237DA-49B5-11D8-A54C-003065469002@arch.usyd.edu.au>
References: <20040115110002.9868.7449.Mailman@radiance-on-linux.org> <4006C15C.2080701@archenergy.com> <4006E529.4070509@visarc.com> <7186C568-4822-11D8-8F38-003065469002@arch.usyd.edu.au> <009AA286-48BE-11D8-867A-000A95BB392A@lmi.net> <0B2237DA-49B5-11D8-A54C-003065469002@arch.usyd.edu.au>
Message-ID: <340C0642-49DA-11D8-806C-000A95BB392A@lmi.net>

Hi Alex,

> From: alex Summerfield <alex@arch.usyd.edu.au>
> Date: January 18, 2004 4:51:33 AM PST
>
> Hi Greg
> Many thanks for the feedback -
>>
>> Actually, refraction is never ignored in Radiance, even when tracing 
>> to light sources.  The sources will be missed or not depending on how 
>> big they are and how much refraction goes on.  If a pane of glass is 
>> modeled using dielectric, so that rays are refracted going through 
>> it, they get bent back straight so they still head in the same 
>> direction, albeit shifted, slightly.
>
> Ok that's interesting - it means that refraction through parallel 
> surfaces will never fail for direct sunlight - since they will be 
> heading in the right direction to hit the sun source. Great.
>
> Seems that for non-parallel situations refraction treatment in the 
> direct calc in Radiance is different to other raytracers in that when 
> the ray misses a direct source there is a null result - whereas i 
> think the usual treatment is to ignore refraction. I'm thinking of 
> sunlight only through a cylindrical glass of water - both packages 
> will show the scene through the glass refracted - but in std raytracer 
> the sunlight passes through and is cast onto the table simply changed 
> by the transmittance of the media.
>
> Radiance will presumably record transmission in places (small 
> deflection) and in other parts not so.  (Not a criticism, Greg - just 
> good to be aware in some situations, such as a wavey-glass brick wall, 
> may transmit less of the sunlight than anticipated by the material 
> spec).

You're absolutely right -- it is good to be aware of these things.  I 
never liked the approximation of "no refraction" in other ray-tracers.  
What I have is also wrong, and perhaps less well-balanced from an 
energy standpoint in the case of direct illumination through curved 
dielectrics, but at least it doesn't look quite so bizarre as light 
streaming unperturbed through a glass of water.  I was making the 
assumption that such objects were generally not as important for 
lighting in most architectural contexts.  This of course is not true if 
you have some kind of light redirecting system involving prisms and the 
like, which is why there are special materials for these sorts of 
surfaces.

>> Spheres and lenses are a different matter of course, and caustics are 
>> not modeled correctly for that reason.  You need to use the photon 
>> map for that!
>
> Indeed -  mind you perhaps the caustics produced will ultimately split 
> out just into the three primaries.
>  I'm thinking of a virtual Newton conducting his classic prism 
> experiment ;-)
>
>>
>>> I think refractive index also does not apply when tracing rays as 
>>> part of the indirect calculation - even though missing a large area 
>>> source (sky) is not likely to be a problem.
>>
>> I don't know where you heard this, but it's not true.
> I guess i got it from the (wrong) idea that refraction only works for 
> view rays.
>
>>
>>> Reflectance - in atria there are likely to be complex and multiple 
>>> glazing surfaces - eg the roof and then in large areas along the 
>>> offices lining the edge....
>
>> That's partially true.  Interreflections of the sky and other parts 
>> of the ambient calculation will consider the multiple reflections 
>> going on, specular as well as diffuse.  However, you would have to 
>> use virtual sources to get the pure specular reflections from light 
>> sources, which can be expensive.  You're better off doing that only 
>> when it really matters -- like when you have a mirrored building 
>> facade or something.
>
> Specular contributions are probably neglected more often than they 
> should, especially when we are dealing with direct sunlight on 
> polished floors or glazing around entrances or in atria.  It may not 
> be important overall - but in specific areas it can be highly 
> significant.
>
> The upside is that the source is just the sun and these specular 
> surfaces often lie in the same plane so that a single expanse of 
> 'mirror' will do the job for many windows. By comparison with the 
> ambient calculation the creation of one or two extra virtual suns to 
> cover these pathways in the direct calculation need not be costly.

That's an excellent point.  I was thinking more in terms of your atrium 
example -- I'd hate to think what adding a mirror for every glazed 
surface in an atrium would give you, though your trick of reducing 
coplanar glazings to single surfaces might help there, too.  There are 
quite a few optimizations in the virtual source calculation to prevent 
potential but impossible interreflections from creating a plethora of 
virtual lights, but these are no guarantee in all situations.

>>> (Daniel - this may have relevance for your work) it does not include 
>>> the contribution of indirect sources eg bright overcast skies are 
>>> not going to be specularly reflected around the atrium. The Radiance 
>>> indirect calculation essentially deals with diffuse-diffuse pathways 
>>> only.
>>
>> Again, these are accounted for correctly.
>
> OK Great! One subsequent question to clarify:
> Consider if we have no direct sources and a view ray that hits a 
> diffuse floor - we have hemisphere sampling and ambient bounce 1 - if 
> any of these rays is incident on a specular surface  then the ray is 
> traced back with specular reflection and then, for instance finds the 
> sky.
>
>  So would this pathway (where sky illuminates floor via glazing) 
> require a setting of  -ab 3 as a minimum as would be expected from a 
> purely diffuse pathway (1 ambient bounce - 2 specular reflection - 3 
> indirect sky source)?

No, it's just a 1-bounce calculation for the -ab parameter.  Remember 
-ab only counts diffuse scattering, and these rays are traced fully, 
wherever they go, including from the diffuse floor to a specular 
surface to the sky.

>  If the operator decides to switch to modelling the atrium aperture as 
> an illum (switching the indirect sky to a the direct source) - then 
> this pathway is no longer included  - again unless the surface is 
> identified explicitly as a mirror (modified by the reflection function 
> used on the  glazing).

This is true.  I actually had to double-check the "source" code to be 
sure of this.  Any ambient ray striking (directly or indirectly) a 
light or illum is discounted in the calculation to avoid over-counting 
of source contributions.  Before the advent of virtual sources, I 
actually used to include ambient rays that then took specular paths, 
but had to remove it again for this reason.

> This is useful to be aware of because the notion of changing a source 
> requiring a change to the model specs is not necessarily obvious - and 
> it may account for some of the differences in results between using an 
> illum or relying on the ambient calculation.

No argument.  This difference could be as little as a few percent to 
something quite a bit larger near grazing angles.

>>> Ok so does that mean specs and functions for reflectance changing 
>>> with angle of incidence are going to effect the appearance of the 
>>> scene visible in the glazing, the light transmitted, but not the 
>>> light reflected?
>>
>> They affect both.
>>
>>> And what about direct sunlight and diffusing glass? Is the light 
>>> transmitted - or does the random scattering cause the same problem 
>>> as refraction about missing the target when tracing the ray 
>>> backwards?
>>
>> The diffuse or rough specular part of transmission (and reflection) 
>> gets included in the indirect (ambient) calculation.  If modeled 
>> using the directional diffuse part of one of the *func or *data 
>> material types, this gets lumped into the Lambertian component, which 
>> admittedly is a very crude approximation.  Perhaps this is what you 
>> are thinking of above -- however, it doesn't apply to the Gaussian 
>> materials (plastic, metal, trans, plastic2, metal2, trans2).  These 
>> all work properly, which is why you should use them whenever 
>> possible.  Problems remain when you get strong caustics from a low 
>> roughness surface, however.
>>
>
> Still not sure about this - a ray in the direct calc is traced back 
> toward the sun - but is incident on some diffusing glass and is 
> scattered randomly and presumably misses its target. (?)

It's all rather complicated, isn't it?  The pure specular (transmitted) 
component of trans, trans2, and glass types is sent straight through to 
light sources.  Surface normal perturbations are ignored for shadow 
rays in this case.  The Lambertian and directional-diffuse portions are 
accounted for in the ambient calculation, if you have one.  Otherwise, 
these contributions (indirect from light sources) are lost.

> I agree about using the Gaussian materials as far as possible 
> especially given the role of indirect lighting in daylighting - i'm 
> not entirely convinced given the Lambertian diffuse approximation and 
> nevertheless good results in most cases -  if going to the trouble of 
> measuring and specifying BRTD materials often really make that much 
> difference.
>
> The number of times i've seen lighting studies blown away because some 
> such thing as people deciding to keep their blinds drawn so they can 
> see their computer screens clearly :-)
>
> Many thanks again Greg - very useful to clarify things.
> cheers
> alex

I guess most people don't really think carefully about these issues -- 
but it's a good idea to know what's going on in the calculation.  When 
I'm uncertain, I go back to the source code, and this is one of the 
benefits of an open source simulation.  The book is also quite useful 
on many of these points, and I'm happy to report that we should have a 
printing service online for that, shortly, thanks to Charles Ehrlich's 
continuing efforts.


From radiance-general@radiance-online.org  Sun Jan 18 21:16:40 2004
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Sun, 18 Jan 2004 16:16:40 -0500 (EST)
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
In-Reply-To: <BAY9-F22gQuvYCz7cE90004e016@hotmail.com>
References: <BAY9-F22gQuvYCz7cE90004e016@hotmail.com>
Message-ID: <Pine.BSF.4.58.0401181610260.7553@emancholl.pair.com>

etienne canard wrote:

> Hi all,
> I'm having problems compiling radiance from sources from
> radiance-online cvs. I downloaded the stable tarball and a...

Actually, the CVS HEAD dump is usually more stable than the
so called "official release"...


> compile most of the executables, but it errors in the src/...
>
> Too many errors encountered; the rest of the message is ignored:
> time.

Most likely you left out step 2. of the installation instructions
as given on the download page:

  2. download the ball of auxiliary files

The contents of this archive are necessary for both releases
to build correctly.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From radiance-general@radiance-online.org  Sun Jan 18 23:54:43 2004
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Sun, 18 Jan 2004 18:54:43 -0500
Subject: [Radiance-general] Measuring materials
Message-ID: <B00B6AA6-4A11-11D8-8938-000393824274@rumblestrip.org>

Recently, Visarc Jack said:

>  I think that Rob G. could give everyone a really superb summary on  
> how to setup a measuring environment for glazing materials.

Then he went on to say:

> Depending on the application is might be worth checking out glaze.csh  
> in the latest release. This calculates models for both single and  
> double surface glazing materials. I am not sure how it compares to  
> glazing.cal in terms of the accuracy of the underlying model. Note  
> however that glaze.csh is built around a handful (5 or 6) sets of  
> reflectance and transmittance values as it "database". Some of these  
> were actually measure by me and looking back on it, I would prefer to  
> measure the "pvb" materials under a more precise protocol than I did  
> originally (again Rob G. would be the real resource here).

Ha.  Well, Greg's the real resource here.  All I did was come up with a  
cockamamie scheme to use a luminance meter and an illuminance meter to  
try and figure out a diffuse glass sample we had; Greg's the one who  
provided the brains to both verify that my scheme would actually work,  
and to implement the procedure.  The materials we measured were also  
mundane enough to be modeled with just a trans; we didn't need to use  
BRTDfunc.  But here's what we did:

I had a couple of glass samples, an ellipsoidal reflector spotlight  
("leko"), a Minolta illuminance meter and a Minolta luminance meter.   
What I did was aim the spotlight at the glass, take an illuminance  
reading incident on the front of the glass, then a luminance reading on  
the back of the glass.  Dividing the luminance by Pi, then by the  
illuminance, gave me a reasonable estimate of transmittance.  We took  
luminance readings at 15 degree intervals from nadir to +- 60 degrees,  
for incident angles of 0-45 (also in 15 degree increments).  There's a  
picture of the measurement rig here:

http://www.rumblestrip.org/stat-img/setup.jpg

The transmissions were then hastily emailed to Greg Ward, who did some  
trial & error with trans parameters, using bgraph to visualize the  
transmission models until the trans definitions matched the measured  
dataset.   Greg sent me a valid trans description, but I of course  
wanted to know how he accomplished this.  Greg's email that explained  
what he did included this shell script:

#!/bin/csh -f
#
# Plot one or more files and display them
#
set dest=/tmp/plot$$
bgraph $* | meta2tga -x 700 -y 700 -o $dest
open -a Preview ${dest}*.tga

... but I could never get this to work on my end.  If you or anyone  
else on the list wants to have a look at this and help me out, I'd  
appreciate it.  When Greg first sent me this stuff, I really didn't get  
it at all.  I just used his trans material definition.  But in  
reviewing it all for this email, I understand it now.  I just lack the  
understanding of bgraph to fully troubleshoot this script on my  
computer.  But it's a very useful technique!  WHat he did was take each  
dataset I sent him and used that for the "Adata", then used a  
mathematical model based on the trans parameters for the second  
dataset, the "B".  He played with the Ts Td and roughness (alpha)  
parameters and used bgraph to see how they matched up.  Here's a sample  
bgraph input file; this is for the 15 degree incident angle (reflected  
in the theta variable) dataset:

include=polar.plt
xmin=-90
xmax=90
Adata=
-60     0.086210394
-45     0.103198913
-30     0.174652116
-15     0.244228975
0       0.363959998
15      0.424915818
30      0.304880523
45      0.201275914
60      0.146151974
;
Acolor=2
Bcolor=4
theta:15*PI/180
sq(x):x*x
Ts:.31
Td:.345
alpha:.62
B(x)=Td/PI+Ts/(PI*sq(alpha)*sqrt(cos(theta)*cos(PI/180*x)))*exp(- 
sq(tan(PI/180*x-theta)/alpha))
Bnpoints=50

Unfortunately, I don't have any copies of the graphs here on my laptop,  
but basically this input file and the script above creates a polar  
transmission plot showing two curves, one for the measured data and one  
for the mathematical plot of the Radiance trans performance, based on  
the input parameters in the input file.  Greg played with the T  
parameters until the curves looked similar.  It's one of those  
applications of the Radiance suite that shows the beauty and power of  
Radiance.  I just wish I could get the script to run on my own  
machines, so I could experiment on my own.

I hope this all makes sense, and sheds some light on what we did.


=================
    Rob Guglielmetti
www.rumblestrip.org


From radiance-general@radiance-online.org  Mon Jan 19 02:47:26 2004
From: radiance-general@radiance-online.org (etienne canard)
Date: Sun, 18 Jan 2004 21:47:26 -0500
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
Message-ID: <BAY9-F7phwFutJLtosJ0005364d@hotmail.com>

I do have both files.  The programs I am left without are ximage,xshowtrace 
and xyzimage. This is the error I am recieving:

cd libtiff ; make install
make[1]: Entering directory 
`/Working/Software/Radiance3.HEAD/ray/src/px/tiff/libtiff'
Makefile:31: *** missing separator.  Stop.
make[1]: Leaving directory 
`/Working/Software/Radiance3.HEAD/ray/src/px/tiff/libtiff'
make: *** [../lib/libtiff.a] Error 2
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib -I/usr/include/
.
.
.
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib -I/usr/include/
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib -I/usr/include/
make: Target `install' not remade because of errors.



>From: Georg Mischler <schorsch@schorsch.com>
>Reply-To: radiance-general@radiance-online.org
>To: radiance-general@radiance-online.org
>Subject: Re: [Radiance-general] rad3R5 from latest stable cvs doesn't 
>compile
>Date: Sun, 18 Jan 2004 16:16:40 -0500 (EST)
>
>etienne canard wrote:
>
> > Hi all,
> > I'm having problems compiling radiance from sources from
> > radiance-online cvs. I downloaded the stable tarball and a...
>
>Actually, the CVS HEAD dump is usually more stable than the
>so called "official release"...
>
>
> > compile most of the executables, but it errors in the src/...
> >
> > Too many errors encountered; the rest of the message is ignored:
> > time.
>
>Most likely you left out step 2. of the installation instructions
>as given on the download page:
>
>   2. download the ball of auxiliary files
>
>The contents of this archive are necessary for both releases
>to build correctly.
>
>
>-schorsch
>
>--
>Georg Mischler  --  simulations developer  --  schorsch at schorsch com
>+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general

_________________________________________________________________
Get a FREE online virus check for your PC here, from McAfee. 
http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963


From radiance-general@radiance-online.org  Mon Jan 19 04:33:56 2004
From: radiance-general@radiance-online.org (tom)
Date: Sun, 18 Jan 2004 20:33:56 -0800
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
In-Reply-To: <BAY9-F7phwFutJLtosJ0005364d@hotmail.com>
References: <BAY9-F7phwFutJLtosJ0005364d@hotmail.com>
Message-ID: <400B5E34.9080803@charter.net>

etienne canard wrote:
> I do have both files.  The programs I am left without are 
> ximage,xshowtrace and xyzimage. This is the error I am recieving:
> 
> cd libtiff ; make install
> make[1]: Entering directory 
> `/Working/Software/Radiance3.HEAD/ray/src/px/tiff/libtiff'
> Makefile:31: *** missing separator.  Stop.

In the followup post to mine in the archives, there is a workaround to 
this same problem. The last time I built the 'official' release (to use 
Roland's pmap addition), I just copied my system libtiff and headers 
into the Radiance source tree and built/linked against these. Everything 
built and seemed to function correctly. The included libtiff configure 
process doesn't seem to like newer versions of GNU sed - or vise versa ;)

tom


From radiance-general@radiance-online.org  Sat Jan 17 17:54:12 2004
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Sat, 17 Jan 2004 19:54:12 +0200
Subject: [Radiance-general] mgf2inv vrml experiences?
In-Reply-To: <F9E5FC35-3F6D-11D8-81BB-000A959DDB22@gmx.net>
Message-ID: <285E3B12-4916-11D8-AA80-000A959DDB22@gmx.net>

Hi!

Some more on the topic... I found that one problem with vrml from 
mgf2inv is that coordinated in the generated vrml file are written in 
exponential writing ( e.g. +1.23456e+1), while formZ doesn't accept 
that. I don't know who is not vrml-1 conform here... There are not many 
browsers able to view vrml-1 in our days, too, so the format itself is 
a problem. I also didn't find open source converters from inventor to 
other cad file formats. So at the moment, the idea to generate cad 
files from radiance models is impossible for me. The only way that 
might still work is renderpark, a renderer able to read mgf (and afaik 
to write vrml), and the xrml library's converters from the same author 
(P. Bekaert). However I was not able to get one of these packages to 
work on my Mac OS X machine, and as I am working together with people 
using Mac OS, Solaris and Linux installations, this is necessary for me.

Do you think developing a vrml-2 output (or maybe an .obj export) for 
mgf would be hard to do, or would it be a smaller task to enhanve the 
mgf2inv converter? Is there anyone else who had to bring radiance 
scenes to a 3d-format?

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From radiance-general@radiance-online.org  Mon Jan 19 10:04:33 2004
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Mon, 19 Jan 2004 11:04:33 +0100
Subject: [Radiance-general] mgf2inv vrml experiences?
In-Reply-To: <285E3B12-4916-11D8-AA80-000A959DDB22@gmx.net>
References: <285E3B12-4916-11D8-AA80-000A959DDB22@gmx.net>
Message-ID: <1074506673.400babb1306dd@www.dream.unipa.it>

Hi Lars!

I've recently managed in exporting rad geometries (polygons)
by convering them to vrml1 (rad2mgf -> mgf2inv -vrml) and
then to vrml2 by using vrml2to2.exe

http://java-house.jp/extra/bit-bessatsu-Java/CD-ROM/chapter6/converter/vrml1to2e.html

Hope it works for you too!

Francesco



-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

From radiance-general@radiance-online.org  Mon Jan 19 10:29:09 2004
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Mon, 19 Jan 2004 12:29:09 +0200
Subject: [Radiance-general] mgf2inv vrml experiences?
In-Reply-To: <1074506673.400babb1306dd@www.dream.unipa.it>
Message-ID: <51413670-4A6A-11D8-ADFD-000A959DDB22@gmx.net>

Hi!

Thank You for the link, but they have only binaries there, and none for 
Mac OS or Linux, so I cannot use it. I wrote them a message asking if 
they will give sources or maybe a java port in future, as this would be 
quite a useful tool. However, your mail gives me the hope that the 
vrml-files generated with mgf2inv are at least readable with some 
vrml-1 tools, so maybe I will find some way ;-)

How nice a vrml-output would fit into the real-time thread, wouldn't 
it...? I mean there are vrml- and x3d-browsers able to use opengl 
hardware for displaying shaded triangles.

CU Lars.
--
Lars O. Grobe, grobe@gmx.net, ++90-212-2458330

Kardesler Apartment, Turnacibasi Sokak 28
Galatasaray - Beyoglu, 34433 Istanbul


From radiance-general@radiance-online.org  Mon Jan 19 13:40:40 2004
From: radiance-general@radiance-online.org (Bernhard Spanlang)
Date: Mon, 19 Jan 2004 13:40:40 -0000
Subject: [Radiance-general] mgf2inv vrml experiences?
In-Reply-To: <51413670-4A6A-11D8-ADFD-000A959DDB22@gmx.net>
Message-ID: <FHEMJILILDKDPADAALOBMEFDCKAA.b.spanlang@cs.ucl.ac.uk>

Hi Lars,

There is a tool for converting inventor files to VRML1 and 2 called
ivToVRML.
On SGIs with inventor this is installed by default.
Fortunately there is a GPL version of Inventor from Systems in Motion
that can be compiled on Macs, Unix and Win32 called Coin which you can
download
in source code from http://www.coin3d.org/
Unfortunately there are no sources for ivToVRML in Coin.
The sources for ivToVRML you can find as part of the example files of
TGS Inventor at
ftp://ftp.tgs.com/OpenInventor/common/oiv25_common.tar.Z
In the directory tree under
OpenInventor2.5\src\tools\ivtovrml
After some minor modifications this can be compiled with the coin library.
ivToVRML supports VRML1 and VRML2 output.
I have successully used it to convert files from rad2mgf|mgf2inv
to VRML1 and VRML2 that can be loaded for example in Cortona.
mgf2inv ignors the new mesh primitiv and more complex materials like BRTDFs
but works
well for basic geometry and materials.


Bernhard



-----Original Message-----
From: radiance-general-admin@radiance-online.org
[mailto:radiance-general-admin@radiance-online.org]On Behalf Of Lars O.
Grobe
Sent: 19 January 2004 10:29
To: radiance-general@radiance-online.org
Subject: Re: [Radiance-general] mgf2inv vrml experiences?


Hi!

Thank You for the link, but they have only binaries there, and none for
Mac OS or Linux, so I cannot use it. I wrote them a message asking if
they will give sources or maybe a java port in future, as this would be
quite a useful tool. However, your mail gives me the hope that the
vrml-files generated with mgf2inv are at least readable with some
vrml-1 tools, so maybe I will find some way ;-)

How nice a vrml-output would fit into the real-time thread, wouldn't
it...? I mean there are vrml- and x3d-browsers able to use opengl
hardware for displaying shaded triangles.

CU Lars.
--
Lars O. Grobe, grobe@gmx.net, ++90-212-2458330

Kardesler Apartment, Turnacibasi Sokak 28
Galatasaray - Beyoglu, 34433 Istanbul

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From radiance-general@radiance-online.org  Mon Jan 19 14:08:57 2004
From: radiance-general@radiance-online.org (Mark Stock)
Date: Mon, 19 Jan 2004 09:08:57 -0500 (EST)
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
In-Reply-To: <400B5E34.9080803@charter.net>
References: <BAY9-F7phwFutJLtosJ0005364d@hotmail.com> <400B5E34.9080803@charter.net>
Message-ID: <Pine.SOL.4.58.0401190906130.101@timepilot.gpcc.itd.umich.edu>

On Sun, 18 Jan 2004, tom wrote:
> etienne canard wrote:
> > I do have both files.  The programs I am left without are
> > ximage,xshowtrace and xyzimage. This is the error I am recieving:
> >
> > cd libtiff ; make install
> > make[1]: Entering directory
> > `/Working/Software/Radiance3.HEAD/ray/src/px/tiff/libtiff'
> > Makefile:31: *** missing separator.  Stop.
>
> In the followup post to mine in the archives, there is a workaround to
> this same problem. The last time I built the 'official' release (to use
> Roland's pmap addition), I just copied my system libtiff and headers
> into the Radiance source tree and built/linked against these. Everything
> built and seemed to function correctly. The included libtiff configure
> process doesn't seem to like newer versions of GNU sed - or vise versa ;)

This sounds very familiar. My solution was to edit the RMakefile
in src/px to link to the existing system libraries. This was as
simple as:

186c186
< ra_tiff:      ra_tiff.o ../lib/libtiff.a
---
> ra_tiff:      ra_tiff.o /usr/lib/libtiff.a
189c189
< ../common/tiff.h ../common/tiffio.h:  ../lib/libtiff.a
---
> ../common/tiff.h ../common/tiffio.h:  /usr/lib/libtiff.a
193c193
< normtiff:     normtiff.o ../lib/libtiff.a
---
> normtiff:     normtiff.o /usr/lib/libtiff.a

Mark

From radiance-general@radiance-online.org  Mon Jan 19 15:50:12 2004
From: radiance-general@radiance-online.org (etienne canard)
Date: Mon, 19 Jan 2004 10:50:12 -0500
Subject: [Radiance-general] rad3R5 from latest stable cvs doesn't compile
Message-ID: <BAY9-F31gz3FB1FxQFM00006988@hotmail.com>

Thanks Tom for sharing your solution. It did the trick.  As you may have 
deduced, I do not have a healthy amount of compiling experience.

>From: tom <listbox@charter.net>
>Reply-To: radiance-general@radiance-online.org
>To: radiance-general@radiance-online.org
>Subject: Re: [Radiance-general] rad3R5 from latest stable cvs doesn't 
>compile
>Date: Sun, 18 Jan 2004 20:33:56 -0800
>
>etienne canard wrote:
>>I do have both files.  The programs I am left without are 
>>ximage,xshowtrace and xyzimage. This is the error I am recieving:
>>
>>cd libtiff ; make install
>>make[1]: Entering directory 
>>`/Working/Software/Radiance3.HEAD/ray/src/px/tiff/libtiff'
>>Makefile:31: *** missing separator.  Stop.
>
>In the followup post to mine in the archives, there is a workaround to this 
>same problem. The last time I built the 'official' release (to use Roland's 
>pmap addition), I just copied my system libtiff and headers into the 
>Radiance source tree and built/linked against these. Everything built and 
>seemed to function correctly. The included libtiff configure process 
>doesn't seem to like newer versions of GNU sed - or vise versa ;)
>
>tom
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general

_________________________________________________________________
Rethink your business approach for the new year with the helpful tips here. 
http://special.msn.com/bcentral/prep04.armx


From radiance-general@radiance-online.org  Mon Jan 19 17:59:28 2004
From: radiance-general@radiance-online.org (Giulio Antonutto)
Date: Mon, 19 Jan 2004 17:59:28 -0000
Subject: [Radiance-general] [Radiance-general]rendering with radiance book
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90303126@l-gnts05>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3DEB5.FB53DD10
Content-Type: text/plain

does anyone have fresher news about the availability of RWR?
thanks a lot!
giulio

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

------_=_NextPart_001_01C3DEB5.FB53DD10
Content-Type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=us-ascii">
<TITLE></TITLE>

<META content="MSHTML 6.00.2800.1226" name=GENERATOR></HEAD>
<BODY>
<DIV><SPAN class=452325417-19012004><FONT face=Arial color=#0000ff size=2>does 
anyone have fresher news about the availability of RWR?</FONT></SPAN></DIV>
<DIV><SPAN class=452325417-19012004><FONT face=Arial color=#0000ff size=2>thanks 
a lot!</FONT></SPAN></DIV>
<DIV><SPAN class=452325417-19012004><FONT face=Arial color=#0000ff 
size=2>giulio</FONT></SPAN></DIV></BODY></HTML>
<BR>

<P><FONT SIZE=2 FACE="Arial">___________________________________________________________________</FONT></P>

<P><FONT SIZE=2 FACE="Arial">Electronic mail messages entering and leaving Arup business</FONT></P>

<P><FONT SIZE=2 FACE="Arial">systems are scanned for acceptability of content and viruses.</FONT></P>

------_=_NextPart_001_01C3DEB5.FB53DD10--

From radiance-general@radiance-online.org  Mon Jan 19 18:11:43 2004
From: radiance-general@radiance-online.org (Jack de Valpine)
Date: Mon, 19 Jan 2004 13:11:43 -0500
Subject: [Radiance-general] [Radiance-general]rendering with radiance
 book
References: <DC0CAEEA090E984C911D3B85B16C3F90303126@l-gnts05>
Message-ID: <400C1DDF.7050505@visarc.com>

--------------090500030703020707070300
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi Guilio,

I think that Greg mentioned in a recent email that they were close to 
having an electronic publishing solution ready. Maybe Greg give give you 
a sense of the time line?

-Jack

Giulio Antonutto wrote:

> does anyone have fresher news about the availability of RWR?
> thanks a lot!
> giulio
>
> ___________________________________________________________________
>
> Electronic mail messages entering and leaving Arup business
>
> systems are scanned for acceptability of content and viruses.
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------090500030703020707070300
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Hi Guilio,<br>
<br>
I think that Greg mentioned in a recent email that they were close to having
an electronic publishing solution ready. Maybe Greg give give you a sense
of the time line?<br>
<br>
-Jack<br>
<br>
Giulio Antonutto wrote:<br>
<blockquote type="cite"
 cite="midDC0CAEEA090E984C911D3B85B16C3F90303126@l-gnts05">  
  <meta http-equiv="Content-Type" content="text/html; ">
  <title></title>
   
  <meta content="MSHTML 6.00.2800.1226" name="GENERATOR">
 
  <div><span class="452325417-19012004"><font face="Arial"
 color="#0000ff" size="2">does  anyone have fresher news about the availability
of RWR?</font></span></div>
 
  <div><span class="452325417-19012004"><font face="Arial"
 color="#0000ff" size="2">thanks  a lot!</font></span></div>
 
  <div><span class="452325417-19012004"><font face="Arial"
 color="#0000ff" size="2">giulio</font></span></div>
  <br>
  
  <p><font size="2" face="Arial">___________________________________________________________________</font></p>
  
  <p><font size="2" face="Arial">Electronic mail messages entering and leaving
Arup business</font></p>
  
  <p><font size="2" face="Arial">systems are scanned for acceptability of
content and viruses.</font></p>
  </blockquote>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------090500030703020707070300--


From radiance-general@radiance-online.org  Mon Jan 19 19:02:36 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Mon, 19 Jan 2004 11:02:36 -0800
Subject: [Radiance-general] [Radiance-general]rendering with radiance book
In-Reply-To: <400C1DDF.7050505@visarc.com>
References: <DC0CAEEA090E984C911D3B85B16C3F90303126@l-gnts05> <400C1DDF.7050505@visarc.com>
Message-ID: <0B7B874F-4AB2-11D8-8F90-000A95BB392A@lmi.net>

As far as I know, there are no plans to distribute RwR in electronic 
form.  We think we have found a print-on-demand service, however, by 
which we will be able to offer a hardback edition (minus color plates) 
for around $60.  This all has to be finalized, and Chas Ehrlich is 
working on it.  Write to him if you have further questions, or maybe 
Chas can give us an update posting.

-Greg

> From: Jack de Valpine <jedev@visarc.com>
> Date: January 19, 2004 10:11:43 AM PST
>
Hi Guilio,

I think that Greg mentioned in a recent email that they were close to 
having an electronic publishing solution ready. Maybe Greg give give 
you a sense of the time line?

-Jack

Giulio Antonutto wrote:

does anyone have fresher news about the availability of RWR?
thanks a lot!
giulio


From radiance-general@radiance-online.org  Tue Jan 20 08:32:22 2004
From: radiance-general@radiance-online.org (etsaweb)
Date: Tue, 20 Jan 2004 09:32:22 +0100
Subject: [Radiance-general] [Radiance-general]rendering with radiance book
References: <DC0CAEEA090E984C911D3B85B16C3F90303126@l-gnts05> <400C1DDF.7050505@visarc.com> <0B7B874F-4AB2-11D8-8F90-000A95BB392A@lmi.net>
Message-ID: <002701c3df2f$ecc2eb40$987bed9f@TEDWEB1>

Ohh, I´ve bought it in a web page in electronic form. I can look the url if
you(greg) are interested,
Ignacio Munárriz

----- Original Message -----
From: "Greg Ward" <gward@lmi.net>
To: <radiance-general@radiance-online.org>
Cc: "Chas Ehrlich" <ehrlich@h-m-g.com>
Sent: Monday, January 19, 2004 8:02 PM
Subject: Re: [Radiance-general] [Radiance-general]rendering with radiance
book


> As far as I know, there are no plans to distribute RwR in electronic
> form.  We think we have found a print-on-demand service, however, by
> which we will be able to offer a hardback edition (minus color plates)
> for around $60.  This all has to be finalized, and Chas Ehrlich is
> working on it.  Write to him if you have further questions, or maybe
> Chas can give us an update posting.
>
> -Greg
>
> > From: Jack de Valpine <jedev@visarc.com>
> > Date: January 19, 2004 10:11:43 AM PST
> >
> Hi Guilio,
>
> I think that Greg mentioned in a recent email that they were close to
> having an electronic publishing solution ready. Maybe Greg give give
> you a sense of the time line?
>
> -Jack
>
> Giulio Antonutto wrote:
>
> does anyone have fresher news about the availability of RWR?
> thanks a lot!
> giulio
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From radiance-general@radiance-online.org  Tue Jan 20 09:27:30 2004
From: radiance-general@radiance-online.org (Giulio Antonutto)
Date: Tue, 20 Jan 2004 09:27:30 -0000
Subject: [Radiance-general] [Radiance-general]rendering with radiance
 book
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90303129@l-gnts05>

I thinks that it "would" be really interesting to know about this
possibility....
so please, let me know.
thanks
giulio


-----Original Message-----
From: radiance-general-admin@radiance-online.org
[mailto:radiance-general-admin@radiance-online.org]On Behalf Of etsaweb
Sent: 20 January 2004 08:32
To: radiance-general@radiance-online.org
Subject: Re: [Radiance-general] [Radiance-general]rendering with
radiance book


Ohh, I´ve bought it in a web page in electronic form. I can look the url if
you(greg) are interested,
Ignacio Munárriz

----- Original Message -----
From: "Greg Ward" <gward@lmi.net>
To: <radiance-general@radiance-online.org>
Cc: "Chas Ehrlich" <ehrlich@h-m-g.com>
Sent: Monday, January 19, 2004 8:02 PM
Subject: Re: [Radiance-general] [Radiance-general]rendering with radiance
book


> As far as I know, there are no plans to distribute RwR in electronic
> form.  We think we have found a print-on-demand service, however, by
> which we will be able to offer a hardback edition (minus color plates)
> for around $60.  This all has to be finalized, and Chas Ehrlich is
> working on it.  Write to him if you have further questions, or maybe
> Chas can give us an update posting.
>
> -Greg
>
> > From: Jack de Valpine <jedev@visarc.com>
> > Date: January 19, 2004 10:11:43 AM PST
> >
> Hi Guilio,
>
> I think that Greg mentioned in a recent email that they were close to
> having an electronic publishing solution ready. Maybe Greg give give
> you a sense of the time line?
>
> -Jack
>
> Giulio Antonutto wrote:
>
> does anyone have fresher news about the availability of RWR?
> thanks a lot!
> giulio
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.


From radiance-general@radiance-online.org  Tue Jan 20 09:54:32 2004
From: radiance-general@radiance-online.org (James Lee)
Date: Tue, 20 Jan 2004 09:54:32 GMT
Subject: [Radiance-general] Solaris binaraies availible at Blastwave
Message-ID: <20040120.9543200.1515284331@landeck.jamesipoos.com>

Hello Solaris users,

I have created binary packages of radiance 3.5 for use on Solaris
Sparc and Intel. At the moment the package are pre-release but I
hope to add them to the main Blastwave listing soon.

Please find the packages here:
    http://www.blastwave.org/~james/#radiance


There are notes about the package on that page. Please can anyone
test and give me some feedback here.

(There are notes about installation at the top of the page. Go to
the main www.blastwave.org page for more information about
Blastwave and the prerequisite packages.)



James Lee.


From radiance-general@radiance-online.org  Tue Jan 20 12:52:12 2004
From: radiance-general@radiance-online.org (Lars Grobe)
Date: Tue, 20 Jan 2004 13:52:12 +0100 (MET)
Subject: [Radiance-general] mgf2inv vrml experiences?
References: <FHEMJILILDKDPADAALOBMEFDCKAA.b.spanlang@cs.ucl.ac.uk>
Message-ID: <28889.1074603132@www47.gmx.net>

> After some minor modifications this can be compiled with the coin library.
> ivToVRML supports VRML1 and VRML2 output.

Thank you! That was just the information I had been searching. I know the
coin project and will try that. I do not use the new mesh features so far
and
will be happy with that now.

CU Lars.


From radiance-general@radiance-online.org  Tue Jan 20 16:11:47 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 20 Jan 2004 08:11:47 -0800
Subject: [Radiance-general] Re: rendering with radiance  book
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90303129@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F90303129@l-gnts05>
Message-ID: <594539CC-4B63-11D8-BB70-000A95BB392A@lmi.net>

Please, as a favor to myself and Rob and the other authors, who spent 
months developing the material for RwR, do not purchase an online copy 
from some third party who has no right to sell it.  You are only 
helping to make thieves richer.  If you desperately need a section from 
the book, I will send it to you.  Otherwise, please wait until the book 
is available again in a month or so.

This time around, we will be splitting the profits from book sales to 
all of the coauthors, so everyone stands to make a little money off it. 
  We expect it to be very little, as there simply isn't that much left 
over after printing and distribution costs, but it will be something.

Thanks.
-Greg

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: January 20, 2004 1:27:30 AM PST
>
> I thinks that it "would" be really interesting to know about this
> possibility....
> so please, let me know.
> thanks
> giulio
>
>
> -----Original Message-----
> From: radiance-general-admin@radiance-online.org
> Subject: Re: [Radiance-general] [Radiance-general]rendering with
> radiance book
>
>
> Ohh, I´ve bought it in a web page in electronic form. I can look the 
> url if
> you(greg) are interested,
> Ignacio Munárriz



From radiance-general@radiance-online.org  Tue Jan 20 16:20:54 2004
From: radiance-general@radiance-online.org (Giulio Antonutto)
Date: Tue, 20 Jan 2004 16:20:54 -0000
Subject: [Radiance-general] Re: rendering with radiance  book
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F9030312F@l-gnts05>

I would like to clearify my position:

I have already one original paper version of the book (also signed by Greg
in Fribourg!!!)

I was just asking information for a friend who needs the book now (=he will
wait).

Thanks again for you work and your help,



giulio (=pillo)



-----Original Message-----
From: Greg Ward [mailto:gward@lmi.net]
Sent: 20 January 2004 16:12
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Re: rendering with radiance book


Please, as a favor to myself and Rob and the other authors, who spent 
months developing the material for RwR, do not purchase an online copy 
from some third party who has no right to sell it.  You are only 
helping to make thieves richer.  If you desperately need a section from 
the book, I will send it to you.  Otherwise, please wait until the book 
is available again in a month or so.

This time around, we will be splitting the profits from book sales to 
all of the coauthors, so everyone stands to make a little money off it. 
  We expect it to be very little, as there simply isn't that much left 
over after printing and distribution costs, but it will be something.

Thanks.
-Greg

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: January 20, 2004 1:27:30 AM PST
>
> I thinks that it "would" be really interesting to know about this
> possibility....
> so please, let me know.
> thanks
> giulio
>
>
> -----Original Message-----
> From: radiance-general-admin@radiance-online.org
> Subject: Re: [Radiance-general] [Radiance-general]rendering with
> radiance book
>
>
> Ohh, I´ve bought it in a web page in electronic form. I can look the 
> url if
> you(greg) are interested,
> Ignacio Munárriz


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.


From radiance-general@radiance-online.org  Tue Jan 20 17:29:08 2004
From: radiance-general@radiance-online.org (etienne canard)
Date: Tue, 20 Jan 2004 12:29:08 -0500
Subject: [Radiance-general] illum causing Segmentation fault with latest HEAD release
Message-ID: <BAY9-F75CNJVEv8vsBt000601de@hotmail.com>

I am running the latest HEAD release and am getting a Segmentation fault 
when I try to use illums.  Without the illums, everything runs fine.  Has 
anyone else experienced this?  In addition, when I run it with the official 
release, the model with the illums run fine.

_________________________________________________________________
Check out the coupons and bargains on MSN Offers! 
http://shopping.msn.com/softcontent/softcontent.aspx?scmId=1418


From radiance-general@radiance-online.org  Tue Jan 20 17:37:52 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 20 Jan 2004 09:37:52 -0800
Subject: [Radiance-general] Re: illum causing Segmentation fault with latest HEAD release
In-Reply-To: <BAY9-F75CNJVEv8vsBt000601de@hotmail.com>
References: <BAY9-F75CNJVEv8vsBt000601de@hotmail.com>
Message-ID: <5F9796B8-4B6F-11D8-BB70-000A95BB392A@lmi.net>

Please package up your Radiance scene files (and any related .cal 
files) and e-mail them to me in a gzip'ped tar file so I can find out 
where it's crashing.  This may be related to the latest source sampling 
changes.

Thanks!
-Greg

> From: "etienne canard" <etiennecanard@hotmail.com>
> Date: January 20, 2004 9:29:08 AM PST
>
> I am running the latest HEAD release and am getting a Segmentation 
> fault when I try to use illums.  Without the illums, everything runs 
> fine.  Has anyone else experienced this?  In addition, when I run it 
> with the official release, the model with the illums run fine.


From radiance-general@radiance-online.org  Thu Jan 22 17:33:41 2004
From: radiance-general@radiance-online.org (toren.com architectuur visualisaties)
Date: Thu, 22 Jan 2004 18:33:41 +0100
Subject: [Radiance-general] Rectangular perforations
Message-ID: <40100975.A6FD72EB@toren.com>

Hello group!

I once found a cal file from Georg Mischler for circular perforations.
Now I wondered how to create rectangular perforations in a similar way.
Who has an idea (Georg?).

Iebele

-------------------------------------------------------------------------------


{
        perforate.cal
        Perforation function for approximately horizontal sufaces,
        for use in a mixfunc. Foreground is solid, background the holes.
        Set background to empty for a true perforation, or to a
different
        material for polka dots.

        Relative hole size is determined by A1.
    Size of single circle is 1 - scale as required (eg. 0.05m).

        x_hole cuts holes in x-direction (through the y-z plane)
        y_hole cuts holes in y-direction (through the x-z plane)
        z_hole cuts holes in z-direction (through the x-y plane)

    Georg Mischler 30. 04. 1993
}

`xn = mod(Px, 1) - 0.5;
`yn = mod(Py, 1) - 0.5;
`zn = mod(Pz, 1) - 0.5;

`outofcirc(x, y, r) = if(sqrt(x*x + y*y) - r, 1, 0);

z_hole = `outofcirc(`xn, `yn, A1);
x_hole = `outofcirc(`yn, `zn, A1);
y_hole = `outofcirc(`zn, `xn, A1);

From radiance-general@radiance-online.org  Sat Jan 24 01:22:52 2004
From: radiance-general@radiance-online.org (Marcus Jacobs)
Date: Sat, 24 Jan 2004 01:22:52 +0000
Subject: [Radiance-general] ConRad
Message-ID: <BAY2-F93wMsI4bTM3m10005b288@hotmail.com>

Mark

ConRad was developed by Ole Lemming. It is an excellent conversion tool that 
was optimized for 3DS export to the Radiance scene format. Ole, the last 
time I heard from him, had stopped offering and developing the software. I 
do have a copy that I can send to you. I do not believe that Ole would not 
mind me sending it to you. Before he closed his site, he had offered it for 
free. Email me if you are interested in it.


Regards

Marcus

_________________________________________________________________
Find high-speed net deals  comparison-shop your local providers here. 
https://broadband.msn.com


From radiance-general@radiance-online.org  Sat Jan 24 20:36:37 2004
From: radiance-general@radiance-online.org (Mark Stock)
Date: Sat, 24 Jan 2004 15:36:37 -0500 (EST)
Subject: [Radiance-general] Help with transfunc
In-Reply-To: <594539CC-4B63-11D8-BB70-000A95BB392A@lmi.net>
References: <DC0CAEEA090E984C911D3B85B16C3F90303129@l-gnts05>
 <594539CC-4B63-11D8-BB70-000A95BB392A@lmi.net>
Message-ID: <Pine.SOL.4.58.0401241458040.3262@tetris.gpcc.itd.umich.edu>

I am confused about the use of the transfunc. Function files took
me a little while to understand anyways, but what I can't figure out
is how to specify only a change in transmittance in a material.

        mod transfunc id
        2+ brtd funcfile transform
        0
        6+ red green blue rspec trans tspec A7 ..

I'd like to render a mesh object in "x-ray" form, but visualizing
its surface and not its volume. I'd like a material that diffuses
and reflects no light, and transmits light based on the "thickness"
of the surface (assuming that the object is a thin shell of fixed
thickness). I'd like the transmittance to be something like
1.0-(const/Rdot), but when I try the following:

        void transfunc meshcolor
        2 1.0-A5/Rdot .
        0
        6 0.5 0.5 0.5  1 0.66667 1

I've tried several different values for the function, and everything
gives me a totally opaque object, or an "undefined function" error.
I'd like to get something like this:

http://mark.technolope.org/vort3d/bd10/run168_first_sphere/burn1/run05/save_0053.jpg

Mark

From radiance-general@radiance-online.org  Sun Jan 25 18:59:55 2004
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Sun, 25 Jan 2004 20:59:55 +0200
Subject: [Radiance-general] converter options for radiance
Message-ID: <A9EF78C3-4F68-11D8-B7FC-000A959DDB22@gmx.net>

Hi!

Some time ago, I asked about the mgf2inv tool, as this is the only 
program I know that is able to export from radiance's scene format to 
other 3d formats. However, as the only way goes through mgf, which 
AFAIK didn't change in the last years, it is e.g. impossible to export 
the image map information from radiance. I wonder if there is really no 
need for that?

I found an interesting project called xrml which is enhancing vrml97 
into so-called PhBvrml, a vrml extension for physically based 
rendering. There are even converters for mgf, so again I can get into 
this format through mgf only.

I think that a similar approach like PhBvrml, simply not based on 
vrml97 but the xml'ed x3d, would be a great solution to keep scenes in 
a more readable format also useable by other tools (e.g. x3d-browsers, 
xml-editors and validation tools). I think that if radiance could use 
something like that, we would make a big step in the integration of the 
simulation with other developments.

So, finally, my question is: is there any interest and chance that we 
will see radiance (directly or with the help of filters, like the 
mgf-support) will be able to handle such a format that can be read by 
other browsers and has the extendibility and validation features of 
xml? Might such a format even be an approach to get into real-time and 
hw-accelerated radiance rendering? If I can output "prerendered" 
triangles with e.g. the ambient calculation done in radiance, I could 
use whatever (accelerated) x3d-browser, couldn't I? So the task to 
display would be given to other, specialised programs, while radiance 
would export into standard formats.

I hope my ideas are not to stupid in the context of radiance's use... 
and on this list. I am just fighting with problems of documentation / 
model integration, converters and loss of information here... ;-)

CU Lars.
--
Lars O. Grobe, grobe@gmx.net, ++90-212-2458330

Kardesler Apartment, Turnacibasi Sokak 28
Galatasaray - Beyoglu, 34433 Istanbul


From radiance-general@radiance-online.org  Tue Jan 27 14:22:45 2004
From: radiance-general@radiance-online.org (Mark de la Fuente)
Date: Tue, 27 Jan 2004 08:22:45 -0600
Subject: [Radiance-general] ranimate
Message-ID: <s0161fea.075@wmtao.com>

** Proprietary **

I apologize if this went through more than once...

Hi Everyone,

I was hoping someone could give me a quick pointer with using ranimate.
 (or perhaps this is a case where I should be using ranimove?)

I have a building where I would like to make an animation of the sun
moving across the space.  It seems that if you have a static scene and a
dynamic view, then you use the OCTREE (say OCTREE= scene.oct) variable
in the ranfile while the view variable and file contains all the
different views (one per frame).  However in my case I would have a
static view and a dynamic octree.

Say I have sky files; sky1.rad sky2.rad ... skyN.rad

Then how would my ANIMATE variable look in the ranfile?  There is no
example in the man page.

ANIMATE= ???

If there is a more appropriate place to ask this type of question,
please let me know.  Thanks in advance if anyone can help out.

Mark de la Fuente
William Tao & Associates
Electrical Project Engineer
349 Marshall Avenue
Suite 200
Webster Groves, MO 63119
v. 314.961.5252
f.  314.961.5258

From radiance-general@radiance-online.org  Tue Jan 27 15:12:55 2004
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Tue, 27 Jan 2004 10:12:55 -0500
Subject: [Radiance-general] ranimate
In-Reply-To: <s0161fea.075@wmtao.com>
References: <s0161fea.075@wmtao.com>
Message-ID: <40167FF7.9020509@rumblestrip.org>

Mark de la Fuente wrote:

> I have a building where I would like to make an animation of the sun
> moving across the space.  It seems that if you have a static scene and a
> dynamic view, then you use the OCTREE (say OCTREE= scene.oct) variable
> in the ranfile while the view variable and file contains all the
> different views (one per frame).  However in my case I would have a
> static view and a dynamic octree.

Hi Mark,

I have no experience with ranimate or ranimove, so I can't say for 
certain that there's no way to do that with those tools.  However, There 
*is* a way to animate your sun, simply using rpict and some shell 
scripting.  John Mardaljevic's script in "Rendering with Radiance" is a 
prime example. The basic idea is that you set up a for-each loop for 
each timeslice you want to render.  John's script plugs the variable 
into the time parameter for gensky.  Alternately you could feed the 
variable to sed to directly modify a sky.rad file.  That way, you could 
use rad to produce the renderings.

Also, if you're primarily concerned with seeing the movement of the sun 
patch, a neat trick (again John M's idea) is to render the stills with 
-ab 0 and assign some decent -av so that you can at least see the rest 
of the space.  By eliminating the ambient calculation, your stills will 
render ultra-quickly; you can be watching the sun path in minutes, 
rather than hours.  As Martha Stewart used to say, that's a Good Thing. 
  (These days, she says "I swear to tell the truth, the whole truth and 
nothing but the truth.")  =8-)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-general@radiance-online.org  Tue Jan 27 16:05:19 2004
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 27 Jan 2004 08:05:19 -0800
Subject: [Radiance-general] Re: Help with transfunc
In-Reply-To: <Pine.SOL.4.58.0401241458040.3262@tetris.gpcc.itd.umich.edu>
References: <DC0CAEEA090E984C911D3B85B16C3F90303129@l-gnts05> <594539CC-4B63-11D8-BB70-000A95BB392A@lmi.net> <Pine.SOL.4.58.0401241458040.3262@tetris.gpcc.itd.umich.edu>
Message-ID: <9AB2A31E-50E2-11D8-B586-00306540F848@lmi.net>

Hi Mark,

This is what you want:

void brightfunc trans_mod
2 1-.6667/Rdot .
0
0

trans_mod trans surf_dens
0
0
7 1 1 1 0 0 1 1

The modifier will alter the specular transmission, and the trans has no  
diffuse component or specular reflection.  The reason transfunc didn't  
work for you was because the specularity you can modify is only used  
for light sources in that material.  You could use BRDTfunc, but the  
above is simpler.

-Greg

> From: Mark Stock <mstock@umich.edu>
> Date: January 24, 2004 12:36:37 PM PST
>
> I am confused about the use of the transfunc. Function files took
> me a little while to understand anyways, but what I can't figure out
> is how to specify only a change in transmittance in a material.
>
>         mod transfunc id
>         2+ brtd funcfile transform
>         0
>         6+ red green blue rspec trans tspec A7 ..
>
> I'd like to render a mesh object in "x-ray" form, but visualizing
> its surface and not its volume. I'd like a material that diffuses
> and reflects no light, and transmits light based on the "thickness"
> of the surface (assuming that the object is a thin shell of fixed
> thickness). I'd like the transmittance to be something like
> 1.0-(const/Rdot), but when I try the following:
>
>         void transfunc meshcolor
>         2 1.0-A5/Rdot .
>         0
>         6 0.5 0.5 0.5  1 0.66667 1
>
> I've tried several different values for the function, and everything
> gives me a totally opaque object, or an "undefined function" error.
> I'd like to get something like this:
>
> http://mark.technolope.org/vort3d/bd10/run168_first_sphere/burn1/ 
> run05/save_0053.jpg
>
> Mark


From radiance-general@radiance-online.org  Wed Jan 28 11:49:05 2004
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Wed, 28 Jan 2004 13:49:05 +0200
Subject: [Radiance-general] defining structured (textured) surfaces in radiance?
Message-ID: <F9B00CF2-5187-11D8-A408-000A959DDB22@gmx.net>

Hi list!

Once again a question about texturing a surface. In radiance, I know 
about two ways putting color modification (pattern) or / and normal 
modification (texture) on a surface to achieve a structured appearance. 
Besides, brdf-modifiers allow to implement the reflection effects of 
more complicated surfaces.

However, if I have surfaces with effects caused by their 
(micro-)structure, I get into difficulties. Radiance does not have 
something like displacement maps, so the effects from geometry can only 
be achieved by modeling the surface. I have been thinking a while about 
how to get the appearance of a mosaic for example, which conists of a 
layer of gold, a piece of glass in front of it, and which has it's 
effect when seen from a distance because of the specular reflections, 
the different layers and the irregularities in the overall surface. 
Another example might be the well-known tennis-ball, which can be 
rendered in radiance only by entering the geometries as instances. 
However, this example hass afaik less complicated reflection 
properties, e.g. the specular reflection is not that important. There 
are other known examples for textures with important geometric details, 
of course, e.g. textiles.

Is there a way now to apply a geometry (in the radiance software 
handled like an instance for memory effectiveness) as a texture? It 
would be much more convenient to apply such a 3d-texture by using the 
tex-modifiers to an existing surface than writing scripts to place 
these instances following an imaginary surface. Did anybody think about 
doing something like that with radiance, or are there reasons why one 
should not even try that?

CU, Lars.
--
Lars O. Grobe
grobe@gmx.net


--
Lars O. Grobe, grobe@gmx.net, ++90-212-2458330

Kardesler Apartment, Turnacibasi Sokak 28
Galatasaray - Beyoglu, 34433 Istanbul


From radiance-general@radiance-online.org  Wed Jan 28 17:47:46 2004
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Wed, 28 Jan 2004 09:47:46 -0800
Subject: [Radiance-general] OT  Spam
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D692F2@corvallis.summit.fiserv.com>

this list (the archives) is one of only 2 only places on the web where my
work email is listed, and I've been getting spam.

Is anyone else having that problem? Or should I be checking the other list
archive?
Perhaps that's the cost of having a searchable list archive - spiders of all
kinds

anyone have some tips?
would it be possible to suppress our email addresses when its put in the
archive?

thanks
Rob F
joeblow@yahoo.com


From radiance-general@radiance-online.org  Wed Jan 28 18:23:21 2004
From: radiance-general@radiance-online.org (Fitzsimmons, Rob)
Date: Wed, 28 Jan 2004 10:23:21 -0800
Subject: [Radiance-general] OT  Spam - Never Mind!
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF051DEA38@corvallis.summit.fiserv.com>

 I think I found my own answer - RTFM!
I went to the mailman admin page and suppressed my email from the subscriber
list...
but then again - I needed a password to get in, so maybe the spam is not
coming from emails found on this list

Rob

-----Original Message-----
From: Fitzsimmons, Rob
To: 'radiance-general@radiance-online.org'
Sent: 1/28/2004 9:47 AM
Subject: [Radiance-general] OT  Spam

this list (the archives) is one of only 2 only places on the web where
my
work email is listed, and I've been getting spam.

Is anyone else having that problem? Or should I be checking the other
list
archive?
Perhaps that's the cost of having a searchable list archive - spiders of
all
kinds

anyone have some tips?
would it be possible to suppress our email addresses when its put in the
archive?

thanks
Rob F
joeblow@yahoo.com

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From radiance-general@radiance-online.org  Thu Jan 29 00:11:18 2004
From: radiance-general@radiance-online.org (Mark de la Fuente)
Date: Wed, 28 Jan 2004 18:11:18 -0600
Subject: [Radiance-general] Conrad / Marcus Jacobs
Message-ID: <s017fb6e.024@wmtao.com>

** Proprietary **

Marcus,

Thank you for the offer.  I'm very interested in trying it out.  Not sure what your e-mail is though...

My e-mail is mdelafuente@wmtao.com.

Thanks!



*----------------------------------------

Mark

ConRad was developed by Ole Lemming. It is an excellent conversion tool that 
was optimized for 3DS export to the Radiance scene format. Ole, the last 
time I heard from him, had stopped offering and developing the software. I 
do have a copy that I can send to you. I do not believe that Ole would not 
mind me sending it to you. Before he closed his site, he had offered it for 
free. Email me if you are interested in it.


Regards

Marcus


Mark de la Fuente
William Tao & Associates
Electrical Project Engineer
349 Marshall Avenue
Suite 200
Webster Groves, MO 63119
v. 314.961.5252
f.  314.961.5258



From radiance-general@radiance-online.org  Thu Jan 29 00:34:59 2004
From: radiance-general@radiance-online.org (Mark de la Fuente)
Date: Wed, 28 Jan 2004 18:34:59 -0600
Subject: [Radiance-general] ranimate
Message-ID: <s01800f9.028@wmtao.com>

** Proprietary **

Rob, thank you.  I actually stumbled upon the script last night as well.  Had I noticed that " ' " is not the same as " ` " I would have gotten it to work much sooner!

But just for anyone who runs into this in the future...  ranimate pipes the output of the ANIMATE variable into rpict just like it would if you were using the OCTREE variable.  Only since our scene is dynamic, a script is needed that will produce an octree but not actually store it in a file.

In my case I was using a file called genoctree.script, so my ranfile included ANIMATE= genoctree.script

As I recall, genoctree.script looked something like this:

frame=$1
time=`ev "6+($frame/2)"`
gensky 1 28 $time > sun.rad
oconv -i scene.oct -f sun.rad
rm sun.rad

Where I'm telling the computer I want to create my sky starting from 6:30 AM and every frame from then on will add = ½ hour.

Now, if anyone can help me figure out a way to get a time stamp on each frame, that would be great!

Mark de la Fuente
mdelafuente@wmtao.com


Mark de la Fuente wrote:

> I have a building where I would like to make an animation of the sun
> moving across the space.  It seems that if you have a static scene and a
> dynamic view, then you use the OCTREE (say OCTREE= scene.oct) variable
> in the ranfile while the view variable and file contains all the
> different views (one per frame).  However in my case I would have a
> static view and a dynamic octree.

Hi Mark,

I have no experience with ranimate or ranimove, so I can't say for 
certain that there's no way to do that with those tools.  However, There 
*is* a way to animate your sun, simply using rpict and some shell 
scripting.  John Mardaljevic's script in "Rendering with Radiance" is a 
prime example. The basic idea is that you set up a for-each loop for 
each timeslice you want to render.  John's script plugs the variable 
into the time parameter for gensky.  Alternately you could feed the 
variable to sed to directly modify a sky.rad file.  That way, you could 
use rad to produce the renderings.

Also, if you're primarily concerned with seeing the movement of the sun 
patch, a neat trick (again John M's idea) is to render the stills with 
-ab 0 and assign some decent -av so that you can at least see the rest 
of the space.  By eliminating the ambient calculation, your stills will 
render ultra-quickly; you can be watching the sun path in minutes, 
rather than hours.  As Martha Stewart used to say, that's a Good Thing. 
  (These days, she says "I swear to tell the truth, the whole truth and 
nothing but the truth.")  =8-)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org 
w. www.rumblestrip.org 






From radiance-general@radiance-online.org  Thu Jan 29 13:16:04 2004
From: radiance-general@radiance-online.org (Daniel LASH(SED))
Date: Thu, 29 Jan 2004 13:16:04 +0000
Subject: [Radiance-general] Silhouette detail from afar
Message-ID: <fc.005b8ff101a09b9e005b8ff101a09b9e.1a09d46@amazon.shu.ac.uk>

Hello

Apologies if this is trivial.  I am attempting to derive an image of the silhouette of atrium roof
structure (fisheye projection) when viewed from afar.  The problem I am encountering is that the
resolution doesnt seem to be high enough, thus much of the small structural detail is lost. 
Presumabley the most obvious thing to do is increase the resolution.  I have tried this using the
-x and -y options (I should add at this stage that  it is an interactive render, invoked by rad
with geometry etc. converted from Ecotect using Radtool).  I get an error message.  Changing the
'RESOLUTION=...' setting in the *.rif file has no effect.  I have set -ps at 1.  Tinkering with the
direct options don't seem fruitful either.  I am running the simulation under a sunny sky acting as
a spotlight (very high zenith) with no ambient calculation (and a constant -av) so rendering is
fast.  I have also tried turning the sky off altogether and using a large rectangular direct source
above my model, and also using just the sky glow.  

Is the reason I can't seem to increase the resolution something to do with using the rad executive
program? Have I reached the limit of my monitor? Am I doing something fundementally wrong?

Many thanks,
Dan Lash
Sheffield Hallam University.

ps as an aside, does anyone have any experience with modelling generic painted white steel
structural members (round or square)?  I'm thinking specifically in terms off specularity and
roughness (for quantitative accuracy).  The rules of thumb in RWR make me intuitively think about
10% spec, 3ish% roughness.  Though perhaps this is one of those how long is a piece of string
moments.


From radiance-general@radiance-online.org  Wed Jan 28 14:47:36 2004
From: radiance-general@radiance-online.org (toren.com architectuur visualisaties)
Date: Wed, 28 Jan 2004 15:47:36 +0100
Subject: [Radiance-general] Rectangular perforations
References: <40100975.A6FD72EB@toren.com>
Message-ID: <4017CB88.D0F33E4B@toren.com>

Hello group,

Here I am again....
Nobody responded on my email, but a friend found the answer.
For those who are interested, here is the .cal file for rectangular perforations.

Iebele

{
        perforate.cal
        Perforation function for approximately horizontal sufaces,
        for use in a mixfunc. Foreground is solid, background the holes.
        Set background to empty for a true perforation, or to a different
        material for polka dots.

        Relative hole size is determined by A1.
        Size of single circle is 1 - scale as required (eg. 0.05m).

        x_hole cuts holes in x-direction (through the y-z plane)
        y_hole cuts holes in y-direction (through the x-z plane)
        z_hole cuts holes in z-direction (through the x-y plane)

       A1 is de schaal
       A2 XY size of hole ( 0.2 is small, 0.5 big )
       A3 YZ size of hole
       A4 XZ size of hole

        Abel Boerema 2004, n.a.v.Georg Mischler 30. 04. 1993
}

`xn = mod(Px, 1) - A2;
`yn = mod(Py, 1) - A3;
`zn = mod(Pz, 1) - A4;

`outofcirc(x, y, r) = if(   (if ( x-r, 0, 1 )) * (if (y-r, 0, 1))  , 0, 1    );

z_hole = `outofcirc(`xn, `yn, A1);
x_hole = `outofcirc(`yn, `zn, A1);
y_hole = `outofcirc(`zn, `xn, A1);


----





"toren.com architectuur visualisaties" wrote:

> Hello group!
>
> I once found a cal file from Georg Mischler for circular perforations.
> Now I wondered how to create rectangular perforations in a similar way.
> Who has an idea (Georg?).
>
> Iebele
>
> -------------------------------------------------------------------------------
>
> {
>         perforate.cal
>         Perforation function for approximately horizontal sufaces,
>         for use in a mixfunc. Foreground is solid, background the holes.
>         Set background to empty for a true perforation, or to a
> different
>         material for polka dots.
>
>         Relative hole size is determined by A1.
>     Size of single circle is 1 - scale as required (eg. 0.05m).
>
>         x_hole cuts holes in x-direction (through the y-z plane)
>         y_hole cuts holes in y-direction (through the x-z plane)
>         z_hole cuts holes in z-direction (through the x-y plane)
>
>     Georg Mischler 30. 04. 1993
> }
>
> `xn = mod(Px, 1) - 0.5;
> `yn = mod(Py, 1) - 0.5;
> `zn = mod(Pz, 1) - 0.5;
>
> `outofcirc(x, y, r) = if(sqrt(x*x + y*y) - r, 1, 0);
>
> z_hole = `outofcirc(`xn, `yn, A1);
> x_hole = `outofcirc(`yn, `zn, A1);
> y_hole = `outofcirc(`zn, `xn, A1);
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From radiance-general@radiance-online.org  Fri Jan 30 23:04:00 2004
From: radiance-general@radiance-online.org (Mark de la Fuente)
Date: Fri, 30 Jan 2004 17:04:00 -0600
Subject: [Radiance-general] Animation Exposure
Message-ID: <s01a8e93.094@wmtao.com>

** Proprietary **

Hi Everyone,

As some of my last posts indicate, I am using ranimate to set up a
series of animations.  Everything seems to be working, however I am
having a hard time getting the exposures to work out.  Because my
interior space is mostly windows, my exposure varies in order to get the
renderings to look normal.  If I set the exposure to one value, then
some frames look great while others are way overexposed.  It seems that
to correct this problem, a file with exposure settings can be
developed.

However, I will have to go frame by frame and try and figure out what
exposure settings might work in order to develop this file.  And if I
make 150 or so  images per animation like I am planning, this will be a
very tedious task to accomplish with rview.  I guess I can interpolate
and guesstimate, but perhaps there is a better way of doing this? 
Anyone run into this issue before?

Mark de la Fuente
mdelafuente@wmtao.com 

From radiance-general@radiance-online.org  Sat Jan 31 14:30:07 2004
From: radiance-general@radiance-online.org (Rob Guglielmetti)
Date: Sat, 31 Jan 2004 09:30:07 -0500
Subject: [Radiance-general] Animation Exposure
In-Reply-To: <s01a8e93.094@wmtao.com>
References: <s01a8e93.094@wmtao.com>
Message-ID: <F7AD7CB2-53F9-11D8-B64F-000393824274@rumblestrip.org>

On Jan 30, 2004, at 6:04 PM, Mark de la Fuente wrote:
> edious task to accomplish with rview.  I guess I can interpolate
> and guesstimate, but perhaps there is a better way of doing this?
> Anyone run into this issue before?

Hi Mark,

Check out phisto 
(http://radsite.lbl.gov/radiance/man_html/phisto_1.htm).

This will help, as will using the -h parameter of pcond (there's an 
example on the phisto manpage).

Cheers.

=================
    Rob Guglielmetti
www.rumblestrip.org


From radiance-general@radiance-online.org  Sat Jan 31 21:18:55 2004
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Sat, 31 Jan 2004 22:18:55 +0100
Subject: [Radiance-general] Animation Exposure
In-Reply-To: <F7AD7CB2-53F9-11D8-B64F-000393824274@rumblestrip.org>
References: <s01a8e93.094@wmtao.com> <F7AD7CB2-53F9-11D8-B64F-000393824274@rumblestrip.org>
Message-ID: <401C1BBF.9070208@pab-opto.de>

Rob Guglielmetti wrote:

>
> On Jan 30, 2004, at 6:04 PM, Mark de la Fuente wrote:
>
>> edious task to accomplish with rview.  I guess I can interpolate
>> and guesstimate, but perhaps there is a better way of doing this?
>> Anyone run into this issue before?
>
>
> Hi Mark,
>
> Check out phisto (http://radsite.lbl.gov/radiance/man_html/phisto_1.htm).
>
> This will help, as will using the -h parameter of pcond (there's an 
> example on the phisto manpage).
>
> Cheers.
>
> =================
>    Rob Guglielmetti
> www.rumblestrip.org
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
phisto seems to be one useful tool in the process, but the interesting 
part may be the semi-automatic, yet smooth, expose "drift". It's 
probably hard to do fully automatic, as a "good" exposure depends on the 
part of the image you are interested in. I had glanced a bit at the 
problem in May 2001 (the http://www.pab-opto.de/pers/animation/hist1.mpg 
animation shows the histogram overlaid on the image), but haven't found 
a generally nice method.
Personally I was surprised that my digital Nikon handles automatic 
exposures quite well, apparently a lot of engineering has gone into an 
intelligent guess as to what is imporant in an image. Similar algorithms 
plus (spline-based ?) interpolation may be very useful for automatic 
exposure settings in Radiance animations.
cheers
Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de




From radiance-general@radiance-online.org  Sat Jan 31 21:29:42 2004
From: radiance-general@radiance-online.org (Thomas Bleicher)
Date: Sat, 31 Jan 2004 22:29:42 +0100
Subject: [Radiance-general] Animation Exposure
In-Reply-To: <s01a8e93.094@wmtao.com>
References: <s01a8e93.094@wmtao.com>
Message-ID: <20040131212942.GB2876@tu-bs.de>

On Fri, Jan 30, 2004 at 05:04:00PM -0600, Mark de la Fuente wrote:
> However, I will have to go frame by frame and try and figure out what
> exposure settings might work in order to develop this file.  And if I
> make 150 or so  images per animation like I am planning, this will be a
> very tedious task to accomplish with rview.  

It's "rvu" now ... ;) 

> I guess I can interpolate
> and guesstimate, but perhaps there is a better way of doing this? 
> Anyone run into this issue before?

If you just want to see everything on your pictures pass them
through pcond(1) using the -h (human visual response) switch.
You can't compare two of them afterwards, of course.

If you want to create compareable pictures you could pcomb(1) a
selection of your images (i. e. 16 scatterd throughout your
animation) and find an average value for the exposure on this
big image. Use this value for all the smaller images.

I could send you an image of one of this combined renderings.
I have no website to make it available to the group, though.

Thomas

From radiance-general@radiance-online.org  Sat Jan 31 21:07:58 2004
From: radiance-general@radiance-online.org (Thomas Bleicher)
Date: Sat, 31 Jan 2004 22:07:58 +0100
Subject: [Radiance-general] ranimate
In-Reply-To: <s01800f9.028@wmtao.com>
References: <s01800f9.028@wmtao.com>
Message-ID: <20040131210758.GA2876@tu-bs.de>

On Wed, Jan 28, 2004 at 06:34:59PM -0600, Mark de la Fuente wrote:
> ** Proprietary **
> 
> Rob, thank you.  I actually stumbled upon the script last night 
> as well.  Had I noticed that " ' " is not the same as " ` " 
> I would have gotten it to work much sooner!
> 
> But just for anyone who runs into this in the future...  
> ranimate pipes the output of the ANIMATE variable into rpict just 
> like it would if you were using the OCTREE variable.  Only since 
> our scene is dynamic, a script is needed that will produce an 
> octree but not actually store it in a file.
> 
> In my case I was using a file called genoctree.script, so my 
> ranfile included ANIMATE= genoctree.script
> 
> As I recall, genoctree.script looked something like this:
> 
> frame=$1
> time=`ev "6+($frame/2)"`
> gensky 1 28 $time > sun.rad
> oconv -i scene.oct -f sun.rad
> rm sun.rad

You should use a different name for the sun.rad file for each
frame. If you have more than one process runing, one might delete
the sun.rad of another (though this may be an unlikely coincidence,
it's still possible).

> Where I'm telling the computer I want to create my sky starting 
> from 6:30 AM and every frame from then on will add = ½ hour.
> 
> Now, if anyone can help me figure out a way to get a time stamp 
> on each frame, that would be great!

Create expressions to rename the file from <basename>frame.pic to
<basename>timestamp.pic and append them to a file you can run as
a script after the rendering.

There might be a built-in solution, but this will work as well:

#! /bin/bash
frame=$1 
time=`ev "6+(${frame}/2)"`
gensky 1 28 ${time} > sun_${frame}.rad
oconv -i scene.oct -f sun_${frame}.rad
rm sun_${frame}.rad
# create rename-cmds
echo "mv /path/to/*_${frame}.pic /path/to/room_at_${time}.pic" >> rename.sh


Thomas


From radiance-general@radiance-online.org  Sat Jan 31 23:59:56 2004
From: radiance-general@radiance-online.org (Mark Stock)
Date: Sat, 31 Jan 2004 18:59:56 -0500 (EST)
Subject: [Radiance-general] Re: Help with transfunc
In-Reply-To: <9AB2A31E-50E2-11D8-B586-00306540F848@lmi.net>
References: <DC0CAEEA090E984C911D3B85B16C3F90303129@l-gnts05>
 <594539CC-4B63-11D8-BB70-000A95BB392A@lmi.net>
 <Pine.SOL.4.58.0401241458040.3262@tetris.gpcc.itd.umich.edu>
 <9AB2A31E-50E2-11D8-B586-00306540F848@lmi.net>
Message-ID: <Pine.SOL.4.58.0401311856260.22950@tetris.gpcc.itd.umich.edu>

I tried what you suggest (and some minor variations of that with
rview from a 3.6a release in December. The window popped up and
I saw a handful of multicolored pixels (there's no color at all
in my scene), and then SegFaulted. I'm going to try it with the
new release, and with rpict, and see what's up with that.

Mark

On Tue, 27 Jan 2004, Greg Ward wrote:

> Hi Mark,
>
> This is what you want:
>
> void brightfunc trans_mod
> 2 1-.6667/Rdot .
> 0
> 0
>
> trans_mod trans surf_dens
> 0
> 0
> 7 1 1 1 0 0 1 1
>
> The modifier will alter the specular transmission, and the trans has no
> diffuse component or specular reflection.  The reason transfunc didn't
> work for you was because the specularity you can modify is only used
> for light sources in that material.  You could use BRDTfunc, but the
> above is simpler.
>
> -Greg
>
> > From: Mark Stock <mstock@umich.edu>
> > Date: January 24, 2004 12:36:37 PM PST
> >
> > I am confused about the use of the transfunc. Function files took
> > me a little while to understand anyways, but what I can't figure out
> > is how to specify only a change in transmittance in a material.
> >
> >         mod transfunc id
> >         2+ brtd funcfile transform
> >         0
> >         6+ red green blue rspec trans tspec A7 ..
> >
> > I'd like to render a mesh object in "x-ray" form, but visualizing
> > its surface and not its volume. I'd like a material that diffuses
> > and reflects no light, and transmits light based on the "thickness"
> > of the surface (assuming that the object is a thin shell of fixed
> > thickness). I'd like the transmittance to be something like
> > 1.0-(const/Rdot), but when I try the following:
> >
> >         void transfunc meshcolor
> >         2 1.0-A5/Rdot .
> >         0
> >         6 0.5 0.5 0.5  1 0.66667 1
> >
> > I've tried several different values for the function, and everything
> > gives me a totally opaque object, or an "undefined function" error.
> > I'd like to get something like this:
> >
> > http://mark.technolope.org/vort3d/bd10/run168_first_sphere/burn1/
> > run05/save_0053.jpg
> >
> > Mark
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

