From cbauer- at t-online.de  Thu Jul  1 01:57:10 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Thu Jul  1 01:06:10 2004
Subject: [Radiance-general] colorpict and materials
References: <E5788A0C-CAB7-11D8-9111-000A959DDB22@gmx.net>
	<40E32EF5.2040600@visarc.com>
Message-ID: <40E35356.6020902@t-online.de>

Hi Jack, Lars

 > I hope this is right and if not some one should jump in and correct me.

Ok, lets jump into the ring :-)
Hmm, maybe Lars want three things at once:
1) get the physics right
2) preserve the average color appearance of the material base
3) add the additional color variation from the map without disturbing 
1+2 in the average..

Maybe this is too much?? Jacks version sounds very solid from a 
scientific point of view, photopic brightness is preserved, and the 
output is understandable, because of the neutral grey base the colors 
come out like in the color map in a predictable way.  But the original 
color appearance of the base material is lost completely.

On the other hand, multiplying a color pattern onto a colored base will 
hardly ever produce anything which one expects at first glance, an 
extreme example: if you have a red base with r/g/b = 0.2 / 0.02 / 0.0 
you can multiply in maps like mad and will never get something blue into 
the picture.

I think that Lars wants some sprinkles and streaks and dots of blue 
added to the base here and there, but so little in covered surface, that 
the average color and thus the brightness of the base does not suffer 
much.

What about the following: (yeah, again one of my weird ideas:-) edit the 
picture (resp. the red parts of it) with some color tool in an image 
manipulation program like Gimp such that the average rgb values for the 
dominating parts of the pic are those of the plastic description, then 
it could be used as colorpict to a new plastic with rgb=1/1/1. This new 
combination will more or less have the same color (in the spatial 
average) as the original base material, but still look like the pattern.

-cb


From Phillip.Greenup at arup.com.au  Thu Jul  1 01:21:30 2004
From: Phillip.Greenup at arup.com.au (Phillip Greenup)
Date: Thu Jul  1 01:21:43 2004
Subject: [Radiance-general] RE: 60Watt bulb comparison
Message-ID: <19AF752127F1A6488F5F1DA963B237C138EF28@SYDEXC01.global.arup.com>

Hi Anthony,

A few references re validation of Radiance under daylight conditions:

Mardaljevic, J. (1995), Validation of a lighting simulation program under real sky conditions, Lighting Res Technol, 27 (4), 181-188.
Mardaljevic, J. (2000), Daylight simulation: validation, sky models and daylight coefficients, PhD thesis, De Montfort University, Leicester.
Jarvis, D. and Donn, M. (1997), Comparison of computer and model simulations of a daylit interior with reality, Building Performance and Simulation Assoc Conf., Prague.
Fontoynont, M., Laforgue, P., Mitanchey, R., Aizlewood, M.E., Butt, J., Carroll, W., Hitchcock, R., Erhorn, H., De Boer, J., Michel, L., Scartezzini, J.-L., Bodart, M., and Roy, G.G. (1999), Validation of daylighting simulation programs, IEA SHC Task 21, Vaulx-en-Velin.

Hopefully you can find some of these.
Cheers,
Phil.

-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Anthony J. Farrell
Sent: Thursday, 1 July 2004 4:47 AM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] RE: 60Watt bulb comparison

John

Thanks for the useful info.

I had to construct a small black box (0.5 cube) for calibrating electronic sensors I am currently using to monitor a full scale light pipe installation, which in turn will be compared with a Radiance model thereof.

Furthermore, Recent research (Maamari et al. 2003) shows that a cube dark box with an opening central to one of the walls is most appropriate for simulation modelling comparison because reflectance values are minimal and easily measured, and modelling complexities and associated anomalies are minimised. Conventional modelling architectural black/white card display board. The reflectance value for black mounting board was measured by Cannon-Brookes (1996) and is quoted at 8.5%. A standard 60W incandescent light bulb was also fitted to the dark box to fit into the recessed aperture, and was made removable for daylight monitoring whereby the recessed aperture acted as a window or sky light (without glass). I take your points though, that scale will influence the final results, and in absence of good data for the GE 60W standard light bulb I am using, its not good scientific comparison.

Anyway, I am more interested in the accuracy of the program with respect to
*daylight* rather than electric lighting. To date, I can only locate your own work to the accuracy of the Radiance accuracy with daylight (as in the RwR manual)...

Just on this point....does anyone know of any other references that have compared daylight measurements with Radiance? would be great to include them in my literature review.

It would be nice to model this simple box I have constructed in two positions = recessed roof light, and recessed side window, facing each orientation on overcast and sunny days. I could then create the model of the box to scale (1=1) in Radiance and compare results with monitored values on the roof of the campus building here in Dublin. What do you think about this? or can you suggest some ways of enhancing the tests?

Kind Regards,


Anthony
Dublin Institute of Technology



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of radiance-general-request@radiance-online.org
Sent: 30 June 2004 18:05
To: radiance-general@radiance-online.org
Subject: Radiance-general Digest, Vol 4, Issue 26


Send Radiance-general mailing list submissions to
	radiance-general@radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request@radiance-online.org

You can reach the person managing the list at
	radiance-general-owner@radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. RE: 60Watt bulb luminaries data (Anthony J. Farrell)
   2. RE: 60Watt bulb luminaries data (John Mardaljevic)
   3. RE: 60Watt bulb luminaries data (Martin Moeck)
   4. Re: colorpict and materials (Lars O. Grobe)


----------------------------------------------------------------------

Message: 1
Date: Wed, 30 Jun 2004 12:42:55 ?
From: "Anthony J. Farrell" <anthony.farrell@dit.ie>
Subject: [Radiance-general] RE: 60Watt bulb luminaries data
To: radiance-general@radiance-online.org
Message-ID: <OJEGILOIGGNAEAODNHIIEEHBCDAA.anthony.farrell@dit.ie>
Content-Type: text/plain; charset=us-ascii

I am currently carrying out basic validation techniques of the Radiance software using a black box and standard 60Watt bulb therein.

I cannot locate a standard incandescent 60W bulb (just bare hung from ceiling, no lamp shade) on the desktop radiance program.

Can anyone help me by way of an add on file for a standard light bulb (even if not 60W!) or refer me to a suitable IESNA file?

Kind regards

Anthony

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of radiance-general-request@radiance-online.org
Sent: 30 June 2004 10:59
To: radiance-general@radiance-online.org
Subject: Radiance-general Digest, Vol 4, Issue 25


Send Radiance-general mailing list submissions to
	radiance-general@radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request@radiance-online.org

You can reach the person managing the list at
	radiance-general-owner@radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: Illuminance calculation on a virtual surface? (gward@lmi.net)
   2. Re: colorpict and materials (Lars O. Grobe)
   3. Re: colorpict and materials (Jack de Valpine)


----------------------------------------------------------------------

Message: 1
Date: Tue, 29 Jun 2004 04:18:48 -0700
From: gward@lmi.net
Subject: Re: [Radiance-general] Illuminance calculation on a virtual
	surface?
To: rpg@rumblestrip.org,	Radiance general discussion
	<radiance-general@radiance-online.org>
Message-ID: <1088507928.40e1501822b7c@webmail.lmi.net>
Content-Type: text/plain; charset=ISO-8859-1

OK, Rob -- you got me.  Your little trick would work.  I don't think he really needs it, though, since he already has a method for generating the grid points for rtrace.  He can simply increase the resolution of the grid he already has (as Raphael suggested) and/or upsample the result using pfilt.  Or your method.  All will work.

-Greg

Quoting Rob Guglielmetti <rpg@rumblestrip.org>:

> Hi Greg, Hi John,
>
> Greg Ward wrote:
>
> > No good.  Trans gets ignored by the rpict -i option.  Just use pfilt 
> > to scale the illuminance map if it's not big enough.  (John M's 
> > suggestion
> > -- he's sitting next to me in Leicester.)
>
> Oh yeah?  =8-p
>
> vwrays -x XRES -y YRES -vf viewfile -fd | rtrace -h -fd -opn octree \
> | rtrace -fdc -I render_options -x XRES -y YRES octree > 
> | illum_picture.pic
>
> Greg, does this look familiar?  A little ditty from a year or so ago?
> You sent me this tip when I asked you how to get illuminance on a 
> building's curtain wall.  The first rtrace computes the intersection 
> point (which is fast) and the second rtrace does the illuminance 
> calculation.  Cool, yes?  Yes.
>
> Now, given this little tip, could he use trans as I described?
>



------------------------------

Message: 2
Date: Tue, 29 Jun 2004 14:34:03 ?
From: Lars O. Grobe <grobe@gmx.net>
Subject: Re: [Radiance-general] colorpict and materials
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <38C05080-C9C0-11D8-ACAF-000A959DDB22@gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed

Hi,

sorry, so again, I try to be clear in asking this time ;-) By the way, have nice holidays (I hope that's the reason for your travel ;-)!

All is about the question how to map pictures onto a surface without corrupting its material properties. I understand that colorpict multiplies the material color components with those of the picture.

If I have a grayscale image processed by normpat (which means that the average gray value is 1.0) and apply it to a material, the overall color and brightness will remain the same. So I get the "pattern" from the image, but the surface still has the correct material properties (color, brightness etc). I used this so far.

Now I want to use a colored picture for mapping. I also apply normpat to it, so, as far as I understand, the average of all R, G and B must be 1.0, right? For example, I use a normpat'ed picture of green marble.
I than apply this using colorpict to a surface, which has a "marble"
material. Will the overall color and brightness still be that of the defined material, as the picture map has the average of 1.0?

The background: I try to use exact data for material definitions, but the image maps can't all be color corrected. So I want the overall color and brightness from defined materials, e.g. from the plastic material, and use the map only for what I would call "local color variation". The reason is that I have e.g. red marble, got its color, brightness and all that defined as plastic marble. But the marble has blue particles which won't appear if I use a grayscale imagemap. So I want to use a normpat'ed (NOT colorcorrected e.g. by macbethcal!) to bring these blue parts onto the surface. The whole surface however must still have the average color of my plastic marble material.

If I understand the man-page of normpat, that's just what it was invented for. However, I am a bit unsure, as all Radiance documentation uses colorpict with a bright white material.

TIA, Lars.
--
Lars O. Grobe
grobe@gmx.net




------------------------------

Message: 3
Date: Tue, 29 Jun 2004 09:38:59 -0400
From: Jack de Valpine <jedev@visarc.com>
Subject: Re: [Radiance-general] colorpict and materials
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <40E170F3.9040504@visarc.com>
Content-Type: text/plain; charset="us-ascii"

Hi Lars,

I believe that what you need to do is take your colorpict modifier and apply it to a material such as a plastic that uses the reflectance of your material sample as the rgb parameters. I believe that you DO want to use macbethcal to callibrate the color values of the image and determine an estimated reflectance. Then using normpat on the image will move the values in image so the average is 1.0.

So steps as follows:

   1. acquire sample material image by photography, scan....
   2. callibrate sample image with macbethcal
   3. use callibrated sample image to estimate average color
   4. calculate reflectance based on average color values, grey(r,g,b)
   5. normpat the callibrated image

Then create material as follows:

void colorpict color.image.pattern
7 red green blue <normpat picture>.pic picture.cal Px Py 0
1 <aspect>

color.image.pattern plastic color.image.material 0 0
5 <grey(r,g,b)> <grey(r,g,b)> <grey(r,g,b)> <s> <r>

Since the colorpict is normalized to an average value of one, it will modify the plastic around the reflectance of the plastic. For example, if colorpict returns 1.1 for red then the red of the plastic will be 10% brighter.

In short I think that there are two main ways to use colorpict

   1. final reflectance set by colorpict image - colorpict is used to
      set final reflectance of material, that is use callibrated image
      colorpict modifier and material with reflectance of  1.0
   2. final reflectance set by base material - colorpict is used to
      modify reflectance set by material, that is normpat image
      colorpict modifier is used to modify reflectance set by material

I hope this is helpful.

Regards,

-Jack

Lars O. Grobe wrote:

> Hi,
>
> sorry, so again, I try to be clear in asking this time ;-) By the way, 
> have nice holidays (I hope that's the reason for your travel ;-)!
>
> All is about the question how to map pictures onto a surface without 
> corrupting its material properties. I understand that colorpict 
> multiplies the material color components with those of the picture.
>
> If I have a grayscale image processed by normpat (which means that the 
> average gray value is 1.0) and apply it to a material, the overall 
> color and brightness will remain the same. So I get the "pattern" from 
> the image, but the surface still has the correct material properties 
> (color, brightness etc). I used this so far.
>
> Now I want to use a colored picture for mapping. I also apply normpat 
> to it, so, as far as I understand, the average of all R, G and B must 
> be 1.0, right? For example, I use a normpat'ed picture of green 
> marble. I than apply this using colorpict to a surface, which has a 
> "marble" material. Will the overall color and brightness still be that 
> of the defined material, as the picture map has the average of 1.0?
>
> The background: I try to use exact data for material definitions, but 
> the image maps can't all be color corrected. So I want the overall 
> color and brightness from defined materials, e.g. from the plastic 
> material, and use the map only for what I would call "local color 
> variation". The reason is that I have e.g. red marble, got its color, 
> brightness and all that defined as plastic marble. But the marble has 
> blue particles which won't appear if I use a grayscale imagemap. So I 
> want to use a normpat'ed (NOT colorcorrected e.g. by macbethcal!) to 
> bring these blue parts onto the surface. The whole surface however 
> must still have the average color of my plastic marble material.
>
> If I understand the man-page of normpat, that's just what it was 
> invented for. However, I am a bit unsure, as all Radiance 
> documentation uses colorpict with a bright white material.
>
> TIA, Lars.
> --
> Lars O. Grobe
> grobe@gmx.net
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

--
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL:
http://radiance-online.org/pipermail/radiance-general/attachments/20040629/d
b72607e/attachment.html

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 4, Issue 25
***********************************************

--
This message has been scanned for content and viruses by the DIT Information Services MailScanner Service, and is believed to be clean.
http://www.dit.ie


--
This message has been scanned for content and viruses by the DIT Information Services MailScanner Service, and is believed to be clean.
http://www.dit.ie




------------------------------

Message: 2
Date: Wed, 30 Jun 2004 14:32:15 ? (BST)
From: John Mardaljevic <jm@dmu.ac.uk>
Subject: [Radiance-general] RE: 60Watt bulb luminaries data
To: radiance-general@radiance-online.org
Message-ID: <E1BffCB-0007OY-00@saturn.dmu.ac.uk>
Content-Type: TEXT/plain; charset=us-ascii

Anthony,

Wait a moment whilst the spots before my eyes subside.  Ah, that's better.

> I am currently carrying out basic validation techniques of the 
> Radiance software using a black box and standard 60Watt bulb therein.
>
> I cannot locate a standard incandescent 60W bulb (just bare hung from 
> ceiling, no lamp shade) on the desktop radiance program.
>
> Can anyone help me by way of an add on file for a standard light bulb
(even
> if not 60W!) or refer me to a suitable IESNA file?

The results you get are likely to depend on the size of the box and the type of lamp, not to mention a few other factors.

You could model the bulb as a luminous sphere.  But you'd have to know what the luminance of the bulb was.  Also, a sphere light source is not subdivided, i.e. it is sampled by a single ray (p511 RwR).  Which may cause problems if the box is small compared to the bulb.  A 'frosted'
or pearl bulb may have a largely isotropic luminous output, provided you don't see too much of the (luminous) shank where it connects to the socket.  Any measured output distribution (say, IENSA) would, I guess, be sensitive to the type of lamp.  And it would assume a 'point source'
distribution, even though you would model it as, say, a disc or polygon.

Squinting at my desk lamp through a pinched-finger aperture (hence the
spots) revealed that the uniform luminance of the pearl bulb was an illusion - much of the output of the bulb is from around the filament.

In sort, I suspect that any comparison between measurement and predictions for your bulb & box will say much about the precision of the photometry, maybe a little bit about the limitations of single ray light source sampling, and not much at all about the intrinsic accuracy of Radiance for realistic architectural scenarios (electric or daylighting).  The direct light source calculation for small angular light sources (e.g. 'spherical' bulb from several feet away with no occlusion) is pretty much a 'no brainer' and Radiance will give a result that is near as dammit to the exact solution.
When you get close up to a non-ideal bulb however, then it's a matter of getting the photometry right.

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development De Montfort University The Gateway Leicester
LE1 9BH, UK
 (0) 116 257 7972
 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm




------------------------------

Message: 3
Date: Wed, 30 Jun 2004 12:07:27 -0400
From: "Martin Moeck" <MMoeck@engr.psu.edu>
Subject: [Radiance-general] RE: 60Watt bulb luminaries data
To: "Radiance general discussion"
	<radiance-general@radiance-online.org>
Message-ID:
	<84F05BA9118BBD4A8FC6409808CE266C113AE1@ENGRMAIL2.engr.psu.edu>
Content-Type: text/plain; charset="utf-8"

Anthony,

You can download an IES photometric file for a PAR 60W incandescent narrow flood from Osram Sylvania at

www.personal.psu.edu/mum13/60PAR30.CAP.NFL25.ies
<http://www.personal.psu.edu/mum13/60PAR30.CAP.NFL25.ies>

Use  "ies2rad 60PAR30.CAP.NFL25.ies"

This will create the file "60PAR30.CAP.NFL25.rad" in metric units (meters).

I never saw photometric files for simple incandescent lamps.

I am currently running a fairly accurate simulation in AGI32 V1.7, which will complete in 3 hours for a simple empty box 3X3X3 meters and one PAR lamp.

Martin Moeck, Penn State



	-----Original Message-----
	From: Anthony J. Farrell [mailto:anthony.farrell@dit.ie]
	Sent: Wed 6/30/2004 7:42 AM
	To: radiance-general@radiance-online.org
	Cc:
	Subject: [Radiance-general] RE: 60Watt bulb luminaries data



	I am currently carrying out basic validation techniques of the Radiance
	software using a black box and standard 60Watt bulb therein.

	I cannot locate a standard incandescent 60W bulb (just bare hung from
	ceiling, no lamp shade) on the desktop radiance program.

	Can anyone help me by way of an add on file for a standard light bulb (even
	if not 60W!) or refer me to a suitable IESNA file?

	Kind regards

	Anthony



-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 5190 bytes
Desc: not available
Url :
http://radiance-online.org/pipermail/radiance-general/attachments/20040630/0
51f97e3/attachment-0001.bin

------------------------------

Message: 4
Date: Wed, 30 Jun 2004 20:06:58 ?
From: Lars O. Grobe <grobe@gmx.net>
Subject: Re: [Radiance-general] colorpict and materials
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <E5788A0C-CAB7-11D8-9111-000A959DDB22@gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed

Hi Jack,

thank You for the reply.

> 2.	final reflectance set by base material - colorpict is used to
> modify reflectance set by material, that is normpat image colorpict 
> modifier is used to modify reflectance set by material

I want to do this, I have the material values, the colorpict is just to add some visual credibility ;-) But I also want to have the final overall (that means the average over the whole surface, like selecting an area in ximage vs. a point) color from the base material.

> So steps as follows:
>
> 1.	acquire sample material image by photography, scan....
> 2.	callibrate sample image with macbethcal
> 3.	use callibrated sample image to estimate average color
> 4.	calculate reflectance based on average color values, grey(r,g,b)
> 5.	normpat the callibrated image

So, if I already have the rgb for the base material (which is plastic), do I really have to calibrate (macbethcal) the picture map?

Maybe I show you an example:
--
# porphyry red 1: values from ximage and macbethcal'ed pic void plastic porphyry_red_1 0 0
5 .09 .06 .05 .02 0

# non-calibrated normpat'ed pic
void colorpict sophia_porphyry_red_1_pattern
13 noop noop noop sophia_porphyry_red_1.pic picture.cal tile_u tile_v -s .2 -rx 90 -rz 90 0 0

# give alias the modifier as output from dxf2rad sophia_porphyry_red_1_pattern alias l_porphyry_red_1 porphyry_red_1
--
Will this be correct?

TIA, CU Lars.
--
Lars O. Grobe
grobe@gmx.net




------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 4, Issue 26
***********************************************

--
This message has been scanned for content and viruses by the DIT Information Services MailScanner Service, and is believed to be clean.
http://www.dit.ie


--
This message has been scanned for content and viruses by the DIT Information Services MailScanner Service, and is believed to be clean.
http://www.dit.ie


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From Krzysztof.Wandachowicz at put.poznan.pl  Thu Jul  1 16:29:19 2004
From: Krzysztof.Wandachowicz at put.poznan.pl (Krzysztof Wandachowicz)
Date: Thu Jul  1 16:29:34 2004
Subject: [Radiance-general] RE: 60Watt bulb luminaries data
References: <OJEGILOIGGNAEAODNHIIEEHBCDAA.anthony.farrell@dit.ie>
Message-ID: <000b01c45f77$cc02d0a0$6d0cfe96@iee.put.poznan.pl>

You can find prepared files for incandescent lamp with clear bulb. The
only thing you should change is luminous flux in klm, because these
files are prepared for 100W lamp. Change the line "3 1.35 1.35 1.35" in
z100p.rad file for "3 0.71 0.71 0.71".

You can find these files at:
http://lumen.iee.put.poznan.pl/kw/oprawy/z100p.rad
http://lumen.iee.put.poznan.pl/kw/oprawy/z100p.dat

Descriptions are in polish because these materials I've prepared are for
my students.
z100p.rad includes all information about lamp, this lamp is assumed as
small sphere 0.01 radius.
z100p.dat includes information about light distribution of 100W
incandescent lamp.

You have to use Radiance instead of Desktop Radiance to prepare
calculation.

Good luck!

Krzysztof.

----- Original Message ----- 
From: "Anthony J. Farrell" <anthony.farrell@dit.ie>
To: <radiance-general@radiance-online.org>
Sent: Wednesday, June 30, 2004 1:42 PM
Subject: [Radiance-general] RE: 60Watt bulb luminaries data


> I am currently carrying out basic validation techniques of the Radiance
> software using a black box and standard 60Watt bulb therein.
>
> I cannot locate a standard incandescent 60W bulb (just bare hung from
> ceiling, no lamp shade) on the desktop radiance program.
>
> Can anyone help me by way of an add on file for a standard light bulb
(even
> if not 60W!) or refer me to a suitable IESNA file?
>
> Kind regards
>
> Anthony
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org]On Behalf Of
> radiance-general-request@radiance-online.org
> Sent: 30 June 2004 10:59
> To: radiance-general@radiance-online.org
> Subject: Radiance-general Digest, Vol 4, Issue 25
>
>
> Send Radiance-general mailing list submissions to
> radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
> radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
> radiance-general-owner@radiance-online.org


From MMoeck at engr.psu.edu  Thu Jul  1 17:46:55 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Thu Jul  1 17:47:20 2004
Subject: [Radiance-general] RE: 60Watt bulb luminaries data
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C113AEB@ENGRMAIL2.engr.psu.edu>

Model comparisons are tricky. All sorts of calibration and measurement error5s occur.  Do not use a 0.5 m box because it is too small (near field photometry problems). In addition, black has a reflectance of 5% unless you have a heavy sand texture, which gets it down to 2%. 
 
A comparison between radiosity code and radiance code is at 
 
www.personal.psu.edu/mum13/agi_rad.pdf
 
 
The reflectance is 50% diffuse.
 
Martin, Penn State
 
P.S. I would have to run point by point values to do a complete error analysis, but either Radiance or AGI32 1.7 draws the PAR beam not right. The Radiance beam looks a little bit too soft. 
 
 
 
 
------------------------------------------------------------
 
Hi Martin,

Thanks for the reference file.

Have you published any comparison or know of any comparison for lamps and
enclosures such as a black box?

I have constructed a simple 0.5 cube with black walls and lamp socket
central to the ceiling. Should I replace my GE lamp with the PAR lamp?

With the par lamp file you sent me, do I simple draw the lamp as per its
actual dimensions, and assign the rad file to it?

Regards, and thanks for the help,

Anthony



	-----Original Message----- 
	From: Krzysztof Wandachowicz [mailto:Krzysztof.Wandachowicz@put.poznan.pl] 
	Sent: Thu 7/1/2004 10:29 AM 
	To: Radiance general discussion 
	Cc: 
	Subject: Re: [Radiance-general] RE: 60Watt bulb luminaries data
	
	

	You can find prepared files for incandescent lamp with clear bulb. The
	only thing you should change is luminous flux in klm, because these
	files are prepared for 100W lamp. Change the line "3 1.35 1.35 1.35" in
	z100p.rad file for "3 0.71 0.71 0.71".
	
	You can find these files at:
	http://lumen.iee.put.poznan.pl/kw/oprawy/z100p.rad
	http://lumen.iee.put.poznan.pl/kw/oprawy/z100p.dat
	
	Descriptions are in polish because these materials I've prepared are for
	my students.
	z100p.rad includes all information about lamp, this lamp is assumed as
	small sphere 0.01 radius.
	z100p.dat includes information about light distribution of 100W
	incandescent lamp.
	
	You have to use Radiance instead of Desktop Radiance to prepare
	calculation.
	
	Good luck!
	
	Krzysztof.
	
	----- Original Message -----
	From: "Anthony J. Farrell" <anthony.farrell@dit.ie>
	To: <radiance-general@radiance-online.org>
	Sent: Wednesday, June 30, 2004 1:42 PM
	Subject: [Radiance-general] RE: 60Watt bulb luminaries data
	
	
	> I am currently carrying out basic validation techniques of the Radiance
	> software using a black box and standard 60Watt bulb therein.
	>
	> I cannot locate a standard incandescent 60W bulb (just bare hung from
	> ceiling, no lamp shade) on the desktop radiance program.
	>
	> Can anyone help me by way of an add on file for a standard light bulb
	(even
	> if not 60W!) or refer me to a suitable IESNA file?
	>
	> Kind regards
	>
	> Anthony
	>
	> -----Original Message-----
	> From: radiance-general-bounces@radiance-online.org
	> [mailto:radiance-general-bounces@radiance-online.org]On Behalf Of
	> radiance-general-request@radiance-online.org
	> Sent: 30 June 2004 10:59
	> To: radiance-general@radiance-online.org
	> Subject: Radiance-general Digest, Vol 4, Issue 25
	>
	>
	> Send Radiance-general mailing list submissions to
	> radiance-general@radiance-online.org
	>
	> To subscribe or unsubscribe via the World Wide Web, visit
	> http://www.radiance-online.org/mailman/listinfo/radiance-general
	> or, via email, send a message with subject or body 'help' to
	> radiance-general-request@radiance-online.org
	>
	> You can reach the person managing the list at
	> radiance-general-owner@radiance-online.org
	
	
	_______________________________________________
	Radiance-general mailing list
	Radiance-general@radiance-online.org
	http://www.radiance-online.org/mailman/listinfo/radiance-general
	

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 8118 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040701/97b5575c/attachment.bin
From grobe at gmx.net  Thu Jul  1 12:50:01 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Jul  1 20:49:14 2004
Subject: [Radiance-general] windows: illum useage?
Message-ID: <66D4238C-CB4C-11D8-8841-000A959DDB22@gmx.net>

Hi list!

Once again I have to ask a rather basic question, still I could not 
find an answer so far.

I have a model of a building which is illuminated solely trough windows 
consisting of a grid of small rectangular glass panes in stone framing, 
the whole window has an arc. So far I didn't model the panes, and the 
light just came in through the frames, which gave not the best results 
in the rendering, but I didn't care so far. Now that I will start 
modeling the panes, I have to think about how to use the illums later. 
As I don't want to keep the artefacts caused by the small openings in 
my final rendering, and as I want to speed up rpict, I need to use 
illums.

- The first question is how to define the illum geometry.

a) I could define one polygonal surface covering the whole window from 
the inside, and using mkillum to "see" the effect of the frame which is 
"outside" than. The pro is, that I have to model just two surfaces per 
window (one for the illum, and one glass pane which could intersect 
with the frame), and I have few light sources in the scene (one per 
window). The negative point is that the mkillum is necessary, although 
I am not really interested in the outside, so I get some overhead. It 
will also be not to easy to define a polygon for the surface, as the 
round outline is already converted into a polygon from the cad, and 
both have to fit exactly. However, this is what I would conclude from 
the advices in Rendering with Radiance (complex fenestration).

b) I could model each pane, place it in its correct location, and than 
simply put the gensky pattern on it. No mkillum needed any more (I 
actually don't want to look through the windows). The drawback is that 
I get a lot of small lightsources (around 40 per window), and I have to 
model lots of panes... don't laugh, modeling a rectangular surface is 
not that difficult, but I have to make sure that the surface normals 
point to the inside, and that is not that easy - I found some problems 
in formZ regarding normals and dxf export.

So which way to go? As I noted, I have also have to think about 
rendering speed and memory - the model is large, and I am supposed to 
produce animations later. And I found the following on the list, which 
makes me tend to the b) way:

 > Illum's, like all light sources in Radiance, are preferred as 
rectangles or (at least)
 > 4 or more sided convex shapes.  Since Radiance samples a rectangle 
with
 > equivalent area to the source shape, triangles are a particularly 
poor choice.
 > I recommend replacing any windows you plan to use as illum's with 
rectangles
 > for that reason. (Greg Ward)

- A second question, would it make sense to remove the gensky output 
except the sun after the illums have been generated if I use procedure 
a)? If all openings are covered with illums, I don't need the diffuse 
sky and ground any more, as they will be blocked by the illums, right? 
Could that give some additional performance? This could also reduce 
errors caused by "leakage" in the model.

TIA+CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From grobe at gmx.net  Thu Jul  1 21:06:35 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Jul  1 21:06:28 2004
Subject: [Radiance-general] colorpict and materials
In-Reply-To: <40E35356.6020902@t-online.de>
Message-ID: <C595A2C1-CB91-11D8-ACA3-000A959DDB22@gmx.net>

Hi!

> Ok, lets jump into the ring :-)
> Hmm, maybe Lars want three things at once:
> 1) get the physics right
> 2) preserve the average color appearance of the material base
> 3) add the additional color variation from the map without disturbing 
> 1+2 in the average..

Yes!!!! That is what I was not able to describe ;-)))

> On the other hand, multiplying a color pattern onto a colored base 
> will hardly ever produce anything which one expects at first glance, 
> an extreme example: if you have a red base with r/g/b = 0.2 / 0.02 / 
> 0.0 you can multiply in maps like mad and will never get something 
> blue into the picture.

Yes, this is true, I was just guessing that it can't be that easy ;-)

> I think that Lars wants some sprinkles and streaks and dots of blue 
> added to the base here and there, but so little in covered surface, 
> that the average color and thus the brightness of the base does not 
> suffer much.

That (the average) is necessary, while the details (e.g. those famous 
sprinkles and streaks and dots would be nice).

> What about the following: (yeah, again one of my weird ideas:-) edit 
> the picture (resp. the red parts of it) with some color tool in an 
> image manipulation program like Gimp such that the average rgb values 
> for the dominating parts of the pic are those of the plastic 
> description, then it could be used as colorpict to a new plastic with 
> rgb=1/1/1. This new combination will more or less have the same color 
> (in the spatial average) as the original base material, but still look 
> like the pattern.

In fact, I hoped that this could be somehow done with the radiance 
tools in a script, I just don't know how. It's similar to what normpat 
is doing, only it doesn't normalize to 1/1/1, but to R/G/B values I 
know as the average material color (->brightness). I think I will have 
to take a look at normpat to find out how it does that in detail - 
would be a nice tool if it could bring pictures to (known) color values.

Thanks, CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From gward at lmi.net  Fri Jul  2 00:24:35 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Jul  2 00:25:13 2004
Subject: [Radiance-general] RE: 60Watt bulb luminaries data
In-Reply-To: <84F05BA9118BBD4A8FC6409808CE266C113AEB@ENGRMAIL2.engr.psu.edu>
References: <84F05BA9118BBD4A8FC6409808CE266C113AEB@ENGRMAIL2.engr.psu.edu>
Message-ID: <6E84EE9F-CBAD-11D8-9B2D-000A95BB392A@lmi.net>

Hi Martin,

It's difficult to compare these results in false color, because the two 
programs do not use the same color scale, exactly.  You really need to 
do the point-by-point comparison.

-Greg

> From: "Martin Moeck" <MMoeck@engr.psu.edu>
> Date: July 1, 2004 8:46:55 AM PDT
>
> Model comparisons are tricky. All sorts of calibration and measurement 
> error5s occur.  Do not use a 0.5 m box because it is too small (near 
> field photometry problems). In addition, black has a reflectance of 5% 
> unless you have a heavy sand texture, which gets it down to 2%.
>
> A comparison between radiosity code and radiance code is at
>
> www.personal.psu.edu/mum13/agi_rad.pdf
>
>
> The reflectance is 50% diffuse.
>
> Martin, Penn State
>
> P.S. I would have to run point by point values to do a complete error 
> analysis, but either Radiance or AGI32 1.7 draws the PAR beam not 
> right. The Radiance beam looks a little bit too soft.


From gward at lmi.net  Fri Jul  2 05:21:26 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Jul  2 05:22:12 2004
Subject: [Radiance-general] windows: illum useage?
In-Reply-To: <66D4238C-CB4C-11D8-8841-000A959DDB22@gmx.net>
References: <66D4238C-CB4C-11D8-8841-000A959DDB22@gmx.net>
Message-ID: <E6D37F2E-CBD6-11D8-BF6D-000A95BB392A@lmi.net>

Hi Lars,

I recommend your "choice a)", and suggest you first try creating a 
rectangle that just covers the opening from the inside, then use 
mkillum to average it's output.  Keep your gensky command in the scene 
(let "rad" automate things for you if you like), whether you want to 
look out the window or not.  The largest source of error from applying 
skyfunc directly to fenestration is the lack of the building shadow on 
the ground plane, leading to overestimation of the upward component 
from the window in cases where the sun is on the other side of the 
building.  Applying mkillum avoids this error, besides accounting for 
the framing of the window panes and the circular shape of the opening.

-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: July 1, 2004 3:50:01 AM PDT
>
> Hi list!
>
> Once again I have to ask a rather basic question, still I could not 
> find an answer so far.
>
> I have a model of a building which is illuminated solely trough 
> windows consisting of a grid of small rectangular glass panes in stone 
> framing, the whole window has an arc. So far I didn't model the panes, 
> and the light just came in through the frames, which gave not the best 
> results in the rendering, but I didn't care so far. Now that I will 
> start modeling the panes, I have to think about how to use the illums 
> later. As I don't want to keep the artefacts caused by the small 
> openings in my final rendering, and as I want to speed up rpict, I 
> need to use illums.
>
> - The first question is how to define the illum geometry.
>
> a) I could define one polygonal surface covering the whole window from 
> the inside, and using mkillum to "see" the effect of the frame which 
> is "outside" than. The pro is, that I have to model just two surfaces 
> per window (one for the illum, and one glass pane which could 
> intersect with the frame), and I have few light sources in the scene 
> (one per window). The negative point is that the mkillum is necessary, 
> although I am not really interested in the outside, so I get some 
> overhead. It will also be not to easy to define a polygon for the 
> surface, as the round outline is already converted into a polygon from 
> the cad, and both have to fit exactly. However, this is what I would 
> conclude from the advices in Rendering with Radiance (complex 
> fenestration).
>
> b) I could model each pane, place it in its correct location, and than 
> simply put the gensky pattern on it. No mkillum needed any more (I 
> actually don't want to look through the windows). The drawback is that 
> I get a lot of small lightsources (around 40 per window), and I have 
> to model lots of panes... don't laugh, modeling a rectangular surface 
> is not that difficult, but I have to make sure that the surface 
> normals point to the inside, and that is not that easy - I found some 
> problems in formZ regarding normals and dxf export.
>
> So which way to go? As I noted, I have also have to think about 
> rendering speed and memory - the model is large, and I am supposed to 
> produce animations later. And I found the following on the list, which 
> makes me tend to the b) way:
>
> > Illum's, like all light sources in Radiance, are preferred as 
> rectangles or (at least)
> > 4 or more sided convex shapes.  Since Radiance samples a rectangle 
> with
> > equivalent area to the source shape, triangles are a particularly 
> poor choice.
> > I recommend replacing any windows you plan to use as illum's with 
> rectangles
> > for that reason. (Greg Ward)
>
> - A second question, would it make sense to remove the gensky output 
> except the sun after the illums have been generated if I use procedure 
> a)? If all openings are covered with illums, I don't need the diffuse 
> sky and ground any more, as they will be blocked by the illums, right? 
> Could that give some additional performance? This could also reduce 
> errors caused by "leakage" in the model.
>
> TIA+CU Lars.
> --
> Lars O. Grobe
> grobe@gmx.net


From jm at dmu.ac.uk  Fri Jul  2 10:38:52 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri Jul  2 10:39:55 2004
Subject: [Radiance-general] RE: 60Watt bulb comparison
Message-ID: <E1BgJZM-0001MY-00@saturn.dmu.ac.uk>

Anthony,
 
> I had to construct a small black box (0.5 cube) for calibrating electronic
> sensors I am currently using to monitor a full scale light pipe
> installation, which in turn will be compared with a Radiance model thereof.

Yep, 0.5 (m) is small compared to the bulb diameter.
 
> Furthermore, Recent research (Maamari et al. 2003) shows that a cube dark
> box with an
> opening central to one of the walls is most appropriate for simulation
> modelling
> comparison because reflectance values are minimal and easily measured, and
> modelling complexities and associated anomalies are minimised.

Actually, I believe this scenario was used becuase it was simple enough
for there to be an exact analytical solution.  It's not really "appropriate"
at all for any real world example.
 
> Anyway, I am more interested in the accuracy of the program with respect to
> *daylight* rather than electric lighting. To date, I can only locate your
> own work to the accuracy of the Radiance accuracy with daylight (as in the
> RwR manual)...

What can I say?  The validation I carried out is reckoned to be the most
rigorous yet for daylight modelling.  Enough people have said so that I'm
inclined to believe them.  Of course, this is largely becuase I had access
to an excellent (still unique?) test dataset from the BRE.  It's described
here in gory detail:

http://www.iesd.dmu.ac.uk/~jm/zxcv-thesis/

There's no question that Radiance is *capable* of high accuracy predictions
provided that it is driven correctly - at least for the great number of plausible
architectural scenarios that are not too dissimilar from the validation scenario.

The tricky part is determining the extent of what I call the "domain of validity"
of the validation scenario.  In other words, how different from the validation scenario
does a scene have to be so that we begin to question the software's capacity to
deliver an accurate result?  (Rather than our own ability to describe the scene
with sufficient precision or drive the simulation correctly.) This and other
validation topics are addressed in the paper:

"Verification of Program Accuracy for Illuminance Modelling: Assumptions, Methodology
and an Examination of Conflicting Findings (2004) Lighting Res. Technol. (in press)

It should be out in a few months.

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From cbauer- at t-online.de  Fri Jul  2 12:17:52 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Fri Jul  2 11:10:06 2004
Subject: [Radiance-general] colorpict and materials
References: <C595A2C1-CB91-11D8-ACA3-000A959DDB22@gmx.net>
Message-ID: <40E53650.9060905@t-online.de>

Lars O. Grobe wrote:

> In fact, I hoped that this could be somehow done with the radiance tools 
> in a script, I just don't know how. It's similar to what normpat is 
> doing, only it doesn't normalize to 1/1/1, but to R/G/B values I know as 
> the average material color (->brightness). I think I will have to take a 
> look at normpat to find out how it does that in detail - would be a nice 
> tool if it could bring pictures to (known) color values.
> 

somehow, it sounds feasable, but this is certainly one of those ideas 
which prove themselves more difficult in implementing them as one thinks 
at the beginning. You probably won't get away without some manual 
interaction, e.g. deciding which color-ranges to convert.

BTW, if it is not so important to use exactly that picture, but just to 
have a marble stone pattern, you might try out the procedural stone 
color patterns I've provided in my 2002 workshop contribution (available 
on the radiance-online site). Here you can set the rgb values of the 
color-map explicitely to the ones you need.

-cb

> Thanks, CU Lars.
> -- 
> Lars O. Grobe
> grobe@gmx.net
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 




From MdelaFuente at wmtao.com  Fri Jul  2 15:39:35 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Fri Jul  2 15:40:18 2004
Subject: [Radiance-general] Re: windows: illum useage?
Message-ID: <s0e51f5e.046@wmtao.com>

I was curious about this too...
 
Is there any advantage to making an illum plane for each of the
windows?  Or will one large rectangle accomplish the same thing?  I was
under the impression there was enough averaging that you would not want
to go the large rectangle route.
 
Mark
 
 
Message: 2
Date: Thu, 1 Jul 2004 20:21:26 -0700
From: Greg Ward <gward@lmi.net>
Subject: Re: [Radiance-general] windows: illum useage?
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <E6D37F2E-CBD6-11D8-BF6D-000A95BB392A@lmi.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
 
Hi Lars,
 
I recommend your "choice a)", and suggest you first try creating a 
rectangle that just covers the opening from the inside, then use 
mkillum to average it's output.  Keep your gensky command in the scene

(let "rad" automate things for you if you like), whether you want to 
look out the window or not.  The largest source of error from applying

skyfunc directly to fenestration is the lack of the building shadow on

the ground plane, leading to overestimation of the upward component 
from the window in cases where the sun is on the other side of the 
building.  Applying mkillum avoids this error, besides accounting for 
the framing of the window panes and the circular shape of the opening.
 
-Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040702/af6b3e35/attachment.html
From gward at lmi.net  Fri Jul  2 16:01:34 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Jul  2 16:02:11 2004
Subject: [Radiance-general] Re: windows: illum useage?
In-Reply-To: <s0e51f5e.046@wmtao.com>
References: <s0e51f5e.046@wmtao.com>
Message-ID: <53BB0638-CC30-11D8-885D-000A95BB392A@lmi.net>

It depends of course on the scene, but I doubt from Lars' description 
that it would be worth the extra cost in terms of rendering time to 
make each pane an illum object, and the problems he'd face with the 
non-rectangular panes at the top would only add to his frustration.

-G

> From: "Mark de la Fuente" <MdelaFuente@wmtao.com>
> Date: July 2, 2004 6:39:35 AM PDT
>
I was curious about this too...
?
Is there any advantage?to making an illum plane for each of the 
windows?? Or will one large rectangle accomplish the same thing?? I was 
under the impression there was enough averaging that you would not want 
to go the large rectangle route.
?
Mark


From anthony.farrell at dit.ie  Fri Jul  2 16:34:15 2004
From: anthony.farrell at dit.ie (Anthony J. Farrell)
Date: Fri Jul  2 16:45:14 2004
Subject: [Radiance-general] RE: creating a new luminaire in Desktop radiance
 from a rad and dat file only
In-Reply-To: <01LBYJSBAS8S8WVZCH@mail.dit.ie>
Message-ID: <OJEGILOIGGNAEAODNHIIAEHLCDAA.anthony.farrell@dit.ie>

Thank you for the information Krzystof.

Can anyone tell me how to synchronise a luminaries in desktop radiance 2?
and how to create an IES file from a .rad and .dat file for a given lamp
using unix radiance?

Best Regards,

Anthony

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of
radiance-general-request@radiance-online.org
Sent: 01 July 2004 20:06
To: radiance-general@radiance-online.org
Subject: Radiance-general Digest, Vol 5, Issue 3


Send Radiance-general mailing list submissions to
	radiance-general@radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request@radiance-online.org

You can reach the person managing the list at
	radiance-general-owner@radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: RE: 60Watt bulb luminaries data (Krzysztof Wandachowicz)
   2. RE: RE: 60Watt bulb luminaries data (Martin Moeck)
   3. windows: illum useage? (Lars O. Grobe)
   4. Re: colorpict and materials (Lars O. Grobe)


----------------------------------------------------------------------

Message: 1
Date: Thu, 1 Jul 2004 16:29:19 +0200
From: "Krzysztof Wandachowicz" <Krzysztof.Wandachowicz@put.poznan.pl>
Subject: Re: [Radiance-general] RE: 60Watt bulb luminaries data
To: "Radiance general discussion"
	<radiance-general@radiance-online.org>
Message-ID: <000b01c45f77$cc02d0a0$6d0cfe96@iee.put.poznan.pl>
Content-Type: text/plain;	charset="ISO-8859-1"

You can find prepared files for incandescent lamp with clear bulb. The
only thing you should change is luminous flux in klm, because these
files are prepared for 100W lamp. Change the line "3 1.35 1.35 1.35" in
z100p.rad file for "3 0.71 0.71 0.71".

You can find these files at:
http://lumen.iee.put.poznan.pl/kw/oprawy/z100p.rad
http://lumen.iee.put.poznan.pl/kw/oprawy/z100p.dat

Descriptions are in polish because these materials I've prepared are for
my students.
z100p.rad includes all information about lamp, this lamp is assumed as
small sphere 0.01 radius.
z100p.dat includes information about light distribution of 100W
incandescent lamp.

You have to use Radiance instead of Desktop Radiance to prepare
calculation.

Good luck!

Krzysztof.

----- Original Message -----
From: "Anthony J. Farrell" <anthony.farrell@dit.ie>
To: <radiance-general@radiance-online.org>
Sent: Wednesday, June 30, 2004 1:42 PM
Subject: [Radiance-general] RE: 60Watt bulb luminaries data


> I am currently carrying out basic validation techniques of the Radiance
> software using a black box and standard 60Watt bulb therein.
>
> I cannot locate a standard incandescent 60W bulb (just bare hung from
> ceiling, no lamp shade) on the desktop radiance program.
>
> Can anyone help me by way of an add on file for a standard light bulb
(even
> if not 60W!) or refer me to a suitable IESNA file?
>
> Kind regards
>
> Anthony
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org]On Behalf Of
> radiance-general-request@radiance-online.org
> Sent: 30 June 2004 10:59
> To: radiance-general@radiance-online.org
> Subject: Radiance-general Digest, Vol 4, Issue 25
>
>
> Send Radiance-general mailing list submissions to
> radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
> radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
> radiance-general-owner@radiance-online.org




------------------------------

Message: 2
Date: Thu, 1 Jul 2004 11:46:55 -0400
From: "Martin Moeck" <MMoeck@engr.psu.edu>
Subject: RE: [Radiance-general] RE: 60Watt bulb luminaries data
To: "Radiance general discussion"
	<radiance-general@radiance-online.org>
Message-ID:
	<84F05BA9118BBD4A8FC6409808CE266C113AEB@ENGRMAIL2.engr.psu.edu>
Content-Type: text/plain; charset="utf-8"

Model comparisons are tricky. All sorts of calibration and measurement
error5s occur.  Do not use a 0.5 m box because it is too small (near field
photometry problems). In addition, black has a reflectance of 5% unless you
have a heavy sand texture, which gets it down to 2%.

A comparison between radiosity code and radiance code is at

www.personal.psu.edu/mum13/agi_rad.pdf


The reflectance is 50% diffuse.

Martin, Penn State

P.S. I would have to run point by point values to do a complete error
analysis, but either Radiance or AGI32 1.7 draws the PAR beam not right. The
Radiance beam looks a little bit too soft.




------------------------------------------------------------

Hi Martin,

Thanks for the reference file.

Have you published any comparison or know of any comparison for lamps and
enclosures such as a black box?

I have constructed a simple 0.5 cube with black walls and lamp socket
central to the ceiling. Should I replace my GE lamp with the PAR lamp?

With the par lamp file you sent me, do I simple draw the lamp as per its
actual dimensions, and assign the rad file to it?

Regards, and thanks for the help,

Anthony



	-----Original Message-----
	From: Krzysztof Wandachowicz [mailto:Krzysztof.Wandachowicz@put.poznan.pl]
	Sent: Thu 7/1/2004 10:29 AM
	To: Radiance general discussion
	Cc:
	Subject: Re: [Radiance-general] RE: 60Watt bulb luminaries data



	You can find prepared files for incandescent lamp with clear bulb. The
	only thing you should change is luminous flux in klm, because these
	files are prepared for 100W lamp. Change the line "3 1.35 1.35 1.35" in
	z100p.rad file for "3 0.71 0.71 0.71".

	You can find these files at:
	http://lumen.iee.put.poznan.pl/kw/oprawy/z100p.rad
	http://lumen.iee.put.poznan.pl/kw/oprawy/z100p.dat

	Descriptions are in polish because these materials I've prepared are for
	my students.
	z100p.rad includes all information about lamp, this lamp is assumed as
	small sphere 0.01 radius.
	z100p.dat includes information about light distribution of 100W
	incandescent lamp.

	You have to use Radiance instead of Desktop Radiance to prepare
	calculation.

	Good luck!

	Krzysztof.

	----- Original Message -----
	From: "Anthony J. Farrell" <anthony.farrell@dit.ie>
	To: <radiance-general@radiance-online.org>
	Sent: Wednesday, June 30, 2004 1:42 PM
	Subject: [Radiance-general] RE: 60Watt bulb luminaries data


	> I am currently carrying out basic validation techniques of the Radiance
	> software using a black box and standard 60Watt bulb therein.
	>
	> I cannot locate a standard incandescent 60W bulb (just bare hung from
	> ceiling, no lamp shade) on the desktop radiance program.
	>
	> Can anyone help me by way of an add on file for a standard light bulb
	(even
	> if not 60W!) or refer me to a suitable IESNA file?
	>
	> Kind regards
	>
	> Anthony
	>
	> -----Original Message-----
	> From: radiance-general-bounces@radiance-online.org
	> [mailto:radiance-general-bounces@radiance-online.org]On Behalf Of
	> radiance-general-request@radiance-online.org
	> Sent: 30 June 2004 10:59
	> To: radiance-general@radiance-online.org
	> Subject: Radiance-general Digest, Vol 4, Issue 25
	>
	>
	> Send Radiance-general mailing list submissions to
	> radiance-general@radiance-online.org
	>
	> To subscribe or unsubscribe via the World Wide Web, visit
	> http://www.radiance-online.org/mailman/listinfo/radiance-general
	> or, via email, send a message with subject or body 'help' to
	> radiance-general-request@radiance-online.org
	>
	> You can reach the person managing the list at
	> radiance-general-owner@radiance-online.org


	_______________________________________________
	Radiance-general mailing list
	Radiance-general@radiance-online.org
	http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 8118 bytes
Desc: not available
Url :
http://radiance-online.org/pipermail/radiance-general/attachments/20040701/9
7b5575c/attachment-0001.bin

------------------------------

Message: 3
Date: Thu, 1 Jul 2004 13:50:01 +0300
From: Lars O. Grobe <grobe@gmx.net>
Subject: [Radiance-general] windows: illum useage?
To: radiance-general@radiance-online.org
Message-ID: <66D4238C-CB4C-11D8-8841-000A959DDB22@gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed

Hi list!

Once again I have to ask a rather basic question, still I could not
find an answer so far.

I have a model of a building which is illuminated solely trough windows
consisting of a grid of small rectangular glass panes in stone framing,
the whole window has an arc. So far I didn't model the panes, and the
light just came in through the frames, which gave not the best results
in the rendering, but I didn't care so far. Now that I will start
modeling the panes, I have to think about how to use the illums later.
As I don't want to keep the artefacts caused by the small openings in
my final rendering, and as I want to speed up rpict, I need to use
illums.

- The first question is how to define the illum geometry.

a) I could define one polygonal surface covering the whole window from
the inside, and using mkillum to "see" the effect of the frame which is
"outside" than. The pro is, that I have to model just two surfaces per
window (one for the illum, and one glass pane which could intersect
with the frame), and I have few light sources in the scene (one per
window). The negative point is that the mkillum is necessary, although
I am not really interested in the outside, so I get some overhead. It
will also be not to easy to define a polygon for the surface, as the
round outline is already converted into a polygon from the cad, and
both have to fit exactly. However, this is what I would conclude from
the advices in Rendering with Radiance (complex fenestration).

b) I could model each pane, place it in its correct location, and than
simply put the gensky pattern on it. No mkillum needed any more (I
actually don't want to look through the windows). The drawback is that
I get a lot of small lightsources (around 40 per window), and I have to
model lots of panes... don't laugh, modeling a rectangular surface is
not that difficult, but I have to make sure that the surface normals
point to the inside, and that is not that easy - I found some problems
in formZ regarding normals and dxf export.

So which way to go? As I noted, I have also have to think about
rendering speed and memory - the model is large, and I am supposed to
produce animations later. And I found the following on the list, which
makes me tend to the b) way:

 > Illum's, like all light sources in Radiance, are preferred as
rectangles or (at least)
 > 4 or more sided convex shapes.  Since Radiance samples a rectangle
with
 > equivalent area to the source shape, triangles are a particularly
poor choice.
 > I recommend replacing any windows you plan to use as illum's with
rectangles
 > for that reason. (Greg Ward)

- A second question, would it make sense to remove the gensky output
except the sun after the illums have been generated if I use procedure
a)? If all openings are covered with illums, I don't need the diffuse
sky and ground any more, as they will be blocked by the illums, right?
Could that give some additional performance? This could also reduce
errors caused by "leakage" in the model.

TIA+CU Lars.
--
Lars O. Grobe
grobe@gmx.net




------------------------------

Message: 4
Date: Thu, 1 Jul 2004 22:06:35 +0300
From: Lars O. Grobe <grobe@gmx.net>
Subject: Re: [Radiance-general] colorpict and materials
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <C595A2C1-CB91-11D8-ACA3-000A959DDB22@gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed

Hi!

> Ok, lets jump into the ring :-)
> Hmm, maybe Lars want three things at once:
> 1) get the physics right
> 2) preserve the average color appearance of the material base
> 3) add the additional color variation from the map without disturbing
> 1+2 in the average..

Yes!!!! That is what I was not able to describe ;-)))

> On the other hand, multiplying a color pattern onto a colored base
> will hardly ever produce anything which one expects at first glance,
> an extreme example: if you have a red base with r/g/b = 0.2 / 0.02 /
> 0.0 you can multiply in maps like mad and will never get something
> blue into the picture.

Yes, this is true, I was just guessing that it can't be that easy ;-)

> I think that Lars wants some sprinkles and streaks and dots of blue
> added to the base here and there, but so little in covered surface,
> that the average color and thus the brightness of the base does not
> suffer much.

That (the average) is necessary, while the details (e.g. those famous
sprinkles and streaks and dots would be nice).

> What about the following: (yeah, again one of my weird ideas:-) edit
> the picture (resp. the red parts of it) with some color tool in an
> image manipulation program like Gimp such that the average rgb values
> for the dominating parts of the pic are those of the plastic
> description, then it could be used as colorpict to a new plastic with
> rgb=1/1/1. This new combination will more or less have the same color
> (in the spatial average) as the original base material, but still look
> like the pattern.

In fact, I hoped that this could be somehow done with the radiance
tools in a script, I just don't know how. It's similar to what normpat
is doing, only it doesn't normalize to 1/1/1, but to R/G/B values I
know as the average material color (->brightness). I think I will have
to take a look at normpat to find out how it does that in detail -
would be a nice tool if it could bring pictures to (known) color values.

Thanks, CU Lars.
--
Lars O. Grobe
grobe@gmx.net




------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 5, Issue 3
**********************************************

--
This message has been scanned for content and
viruses by the DIT Information Services MailScanner
Service, and is believed to be clean.
http://www.dit.ie


-- 
This message has been scanned for content and 
viruses by the DIT Information Services MailScanner 
Service, and is believed to be clean.
http://www.dit.ie


From MMoeck at engr.psu.edu  Fri Jul  2 18:49:59 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Fri Jul  2 18:50:15 2004
Subject: [Radiance-general] lamp photometric files
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C113AFA@ENGRMAIL2.engr.psu.edu>

For lamp photometric files, you can download the software "LightBeams" for directional lamps at 

	http://www.gelighting.com/na/specoem/lightbeams.html
	 
	with data for incandescent R, PAR, MR or ER lamps. 
	 
	Martin, Penn State

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3366 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040702/8f633679/attachment-0001.bin
From grobe at gmx.net  Fri Jul  2 21:30:31 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Jul  2 21:30:36 2004
Subject: [Radiance-general] Re: windows: illum useage?
In-Reply-To: <53BB0638-CC30-11D8-885D-000A95BB392A@lmi.net>
Message-ID: <48535214-CC5E-11D8-B340-000A959DDB22@gmx.net>

>  and the problems he'd face with the non-rectangular panes at the top 
> would only add to his frustration.

Hi Greg,

in fact, that was one of the easier things, as the small panes are 
generally all rectangular (and have the same dimensions). I have put a 
drawing to the net (very small, <20KB): 
http://www1.architektur.tu-darmstadt.de/lars/window.pdf

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From grobe at gmx.net  Mon Jul  5 21:42:16 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon Jul  5 22:01:49 2004
Subject: [Radiance-general] Instances + octrees
Message-ID: <6B5CAC3E-CEBB-11D8-B526-000A959DDB22@gmx.net>

Hi list!

First, I am still using v3.5 - I have a Mac and no X-sources, so it's 
hard to compile Head.

To improve the performance during rendering a very large model, I 
atomized it into LOTS of small parts. These are assembled by replmarks, 
using octrees generated with oconv -f. I thought this was the most 
efficient solution, and I want to save memory. This leads to a model 
which is assembled from hundreds of octrees (instances).

Now, after importing one more (and big) part into the model, I am not 
able to oconv the file which is to assemble all these instances any 
more. Oconv is running without end, I stop it when it takes about 300 
MB memory. When I use xform to insert my elements (the same model, just 
replaced the -i by -x and *.oct by *.rad in the replmarks command 
line), not instances, everything works fine (except of a very large 
octree).

I heard about some "overlapping octree" problems, however, I never 
understood how they appear. May this be one such problem? Actually, the 
geometry is not overlapping, but the small octrees bounding boxes 
certainly are (as they are all cubes, right?). What did you experience 
with such instanced models?

Is the oconv tool in the 3.5 buggy? Any known bugs like that?

Is it my error (should I check my scripts ten more times ;-) ?

I really would like to keep using octree-instances, as the model is 
growing quite fast at the moment, and I won't be able to finally render 
it on my machine without instances. So I am very interested in why this 
problem appears and how to resolve it.

TIA+CU, Lars.
--
Lars O. Grobe
grobe@gmx.net


From grobe at gmx.net  Mon Jul  5 22:43:24 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon Jul  5 22:43:25 2004
Subject: [Radiance-general] Instances + octrees
In-Reply-To: <6B5CAC3E-CEBB-11D8-B526-000A959DDB22@gmx.net>
Message-ID: <F5EB6E4C-CEC3-11D8-85D4-000A959DDB22@gmx.net>

Hi again!

If it is about octrees, to add the question: Should I

a) increase the resolution (-r)?
b) decrease the resolution?
c) change my model's structure (will be hard...)?

TIA+CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From apian at pab-opto.de  Tue Jul  6 10:55:56 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Tue Jul  6 10:56:26 2004
Subject: [Radiance-general] Instances + octrees
In-Reply-To: <6B5CAC3E-CEBB-11D8-B526-000A959DDB22@gmx.net>
References: <6B5CAC3E-CEBB-11D8-B526-000A959DDB22@gmx.net>
Message-ID: <40EA691C.5050708@pab-opto.de>

Lars O. Grobe wrote:

> Hi list!
>
> First, I am still using v3.5 - I have a Mac and no X-sources, so it's 
> hard to compile Head.
>
> To improve the performance during rendering a very large model, I 
> atomized it into LOTS of small parts. These are assembled by 
> replmarks, using octrees generated with oconv -f. I thought this was 
> the most efficient solution, and I want to save memory. This leads to 
> a model which is assembled from hundreds of octrees (instances).
>
> Now, after importing one more (and big) part into the model, I am not 
> able to oconv the file which is to assemble all these instances any 
> more. Oconv is running without end, I stop it when it takes about 300 
> MB memory. When I use xform to insert my elements (the same model, 
> just replaced the -i by -x and *.oct by *.rad in the replmarks command 
> line), not instances, everything works fine (except of a very large 
> octree).
>
> I heard about some "overlapping octree" problems, however, I never 
> understood how they appear. May this be one such problem? Actually, 
> the geometry is not overlapping, but the small octrees bounding boxes 
> certainly are (as they are all cubes, right?). What did you experience 
> with such instanced models?

saving Greg the answer: You're exactly right. non-cubic objects (thin 
rods etc.) generate cubic octrees, which do overlap, whereas the 
geometry does not. The final oconv than tries very hard to seperate the 
small octree cubes again, which it can't if there are more overlapping 
things (small octrees in this case) at any point in space then allowed 
by the -n option. Either allow more objects per (final, large) octree by 
increasing -n at the fnal oconv run (which may slow down the raytracer), 
go back to 'xform' without small octrees or pay Greg to rewrite the code 
so that the sides of octree-cubicles may have different length.

> Is the oconv tool in the 3.5 buggy? Any known bugs like that?

not to my knowledge, although R3.5 is pretty buggy in other respects 
compared with the current release

_Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From grobe at gmx.net  Tue Jul  6 17:13:40 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Jul  6 19:46:53 2004
Subject: [Radiance-general] Instances + octrees
In-Reply-To: <F5EB6E4C-CEC3-11D8-85D4-000A959DDB22@gmx.net>
Message-ID: <0FE3B61C-CF5F-11D8-B853-000A959DDB22@gmx.net>

Hi,

while I am still not sure if I am on a secure path with my model's 
structure, setting oconv's resolution to 256 fixed the problem for 
now...

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From MMoeck at engr.psu.edu  Wed Jul  7 00:38:08 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Wed Jul  7 00:39:27 2004
Subject: [Radiance-general] Radiance accuracy: comparison with AGI32 V1.7
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C113B0F@ENGRMAIL2.engr.psu.edu>

I did a quick comparison between the accuracy of Radiance and AGI32 V1.7 regarding interreflections. See 
 
www.personal.psu.edu/mum13/agi_rad.pdf  (which I posted one week ago)
 
and then the error analysis at
 
www.personal.psu.edu/mum13/comparison_Radiance_AGI32.pdf
 
Calculation parameters for Radiance are
 
rtrace -ab 1/2/3/4/5  -ad 512 -as 256 -ar 5000 -ds .1 octree ...
 
The error drops to around 5 % at 3 ambient bounces. 
 
 
Martin Moeck, Penn State
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 4178 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040706/4724364d/attachment.bin
From ckehrlich at yahoo.com  Wed Jul  7 01:55:35 2004
From: ckehrlich at yahoo.com (Charles Ehrlich)
Date: Wed Jul  7 02:02:22 2004
Subject: [Radiance-general] Re: Instances + octrees
Message-ID: <20040706235535.28298.qmail@web80306.mail.yahoo.com>


Lars O. Grobe wrote:

Hi,

while I am still not sure if I am on a secure path with my model's 
structure, setting oconv's resolution to 256 fixed the problem for 
now...

CU Lars.


A more efficient approach *might* be to create a set of nested instances.  Each super-instance would include eight sub-instances (-n 8), and each of the eight sub-instance further instances until the entire scene is enclosed in one bounding box.  If there are 8 or fewer "objects" per octree (instance) then oconv does not bother to futher subdivide, thereby allowing oconv to do its job. Greg would know how many times you can nest instances, but if I remember correctly, it is not infinite.  An instance counts as a single object, of course.

It is debateable as to whether this approach will result in a "better" octree.  The maxres (-r 256) approach could introduce errors in the intersection calculation in very large scenes with very small pieces, but increasing the object limit (-n >7) slows down the ray-intersection calculation because it has more objects to deal with (a higher-order equation to solve for the zeroes). In my experience, you can double the object limit with only a small increase in rendering time, sometimes not even noticeable.

However, when it comes to render the scene, each ray that goes between one instance and another must go through a ray transformation operation to align it with the "object space" of the next instance. The transformation ops are applied to *every* ray including ambient, shadow, etc.   All other things being equal, the resulting octree will not render as quickly as one generated without instances.  For a given maxres, the optimum solution would be a balance between the object count per instance (-n N) and the total number of sub-instances.

And, be sure the boundaries of each of the instances are world-axis aligned.  If there is any structure to the underlying geometry, be sure to align the octree boundaries with the "structure" of the underlying geometry (the other way around, actually.)  For example, a digital elevation model is made up of a uniform pattern of triangles forming a square when projected onto a plane.  It is much easier to oconv when the "grid" of the DEM is world axis-aligned.  For non-converging scenes it is better to oconv the object and then rotate and transform it into the appropriate location in the scene as an instance rather than the other way around.

The DEM scene also is a good example of carefully selecting the maxobj parameter.  A cubic "chuck" of such a scene can either contain 2, 8, or 32 triangles.  Eight is the best value for -n because it is closest to Radiance's optimum value of 7.

Obviously, if oconv simply will never converge on a solution (so to speak) then you *must* use the nested instance approach.  But, the success of this approach depends upon the modeler's ability to divide up the scene into nice, semi-cubic, non-overlapping chunks.  Some scenes simply do not allow this to happen easily.  In one case, I used something akin to a fancy "sed" script to arbitrarily divide the scene into separate pieces which were then oconv'd, instanced, and assembled into a coherent scene.  With Desktop Radiance, if you create an AutoCAD "block" out of some surfaces and then "insert" it into the drawing, that object will be treated as an instance.  (I had to get a plug in there somewhere.)

I apologize if this is old news.  I do not keep up with this list as much as I'd like.

-Chas

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040706/262e99e8/attachment.htm
From Giulio.Antonutto at arup.com  Wed Jul  7 11:20:35 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed Jul  7 11:20:43 2004
Subject: [Radiance-general] RE: Radiance accuracy: comparison with AGI32 V1.7
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF676@l-gnts05>

Hi Martin,
I have a couple of questions about your study:
When you say that 
"The error drops to around 5 % at 3 ambient bounces. " 
do you mean "difference"  between radiance and agi32?
did you calculate the analytical solution?
If you considered the agi32 solution to be the right one, what about
changing the mesh density or the number of iteration
does the solution converge to a unique value?
 
About the Radiance parameters you used:
"rtrace -ab 1/2/3/4/5  -ad 512 -as 256 -ar 5000 -ds .1 octree ..." 
did you tested the scene while changing -aa and -ad? which is the -aa value
you used?
I personally would increase settings for -ad,-as,-aa and reduce -ar to keep
a balance speed/accuracy.
(-ar seems to me a little too high for your scene, compared to ad)
That's also interesting: time vs accuracy.
 
But at the end of the day: is it your scene particularly general?
I am thinking about what John recently wrote: probably the problem is not to
compare numbers for just one scene, but to understand the general validity
of a method: it's ability to solve a wide spectrum of problems (fabrics,
small windows, high number of interreflections, direct illumination,
penumbras.... more scenarios).
The danger is to (as he said) test our ability to use the program rather the
ability of the program itself to solve the problem.
I am really curious to read his new paper to find out something new in this
area:
 
"Verification of Program Accuracy for Illuminance Modelling: Assumptions,
Methodology and an Examination of Conflicting Findings" (2004) Lighting Res.
Technol. (in press)
 
 
regards,
giulio
 
 

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040707/3805628a/attachment.html
From grobe at gmx.net  Wed Jul  7 16:19:49 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Jul  7 16:19:40 2004
Subject: [Radiance-general] Re: Instances + octrees
In-Reply-To: <20040706235535.28298.qmail@web80306.mail.yahoo.com>
Message-ID: <B4CF19F3-D020-11D8-B621-000A959DDB22@gmx.net>

Hi Charles,

thank You very much for this information. It seams to be a bit like the 
distilled information about oconv, octrees and instances over the years 
;-), and that was just what I need... Maybe one should start a 
Radiance-FAQ on radiance-online.org...

I will try to use the nested-instances method you describes. Is the 
number of sub-instances fixed or just resulting from the -n 8 option? 
Nested instances represent very well the hierarchic structure of my 
model. So far, I used instances for the smaller elements (with 
replmarks)  and xformed whole building blocks containg all the 
instances. If I replace the xform transformations by the useage of 
"super-instances", I arrive at the nested instance model, however, I 
would have about 40 instances in a typical "super-instance". So should 
I change the -n to 40?

So far, I could not see any errors cause by the -r 256 option, I just 
guessed that I could reduce memory needs by reducing -r, as the default 
was much lower in old versions of radiance and I remember quite well 
what happened when I had to increase -r some time ago...

Anyway... in the worst case, I will have to give up instancing and do 
the brute-force method with a lot of geometry, a very large octree and 
high memory needs. I just don't want to as I don't know how much 
geometry will be added in the future, and also the excessive 
application of colorpicts makes me think about memory...

Thanks, CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From MMoeck at engr.psu.edu  Wed Jul  7 17:21:17 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Wed Jul  7 17:21:32 2004
Subject: [Radiance-general] RE: Radiance accuracy: comparison with AGI32
	V1.7
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C113B13@ENGRMAIL2.engr.psu.edu>

Giulio,
 
see below.
 
Martin
 

	-----Original Message----- 
	From: Giulio Antonutto [mailto:Giulio.Antonutto@arup.com] 
	Sent: Wed 7/7/2004 5:20 AM 
	To: 'Radiance general discussion' 
	Cc: 
	Subject: [Radiance-general] RE: Radiance accuracy: comparison with AGI32 V1.7
	
	
	"Hi Martin,
	I have a couple of questions about your study:
	When you say that 
	"The error drops to around 5 % at 3 ambient bounces. " 
	do you mean "difference"  between radiance and agi32?"
	 
	 
	Error  calculation = 100*ABS(AGI_value - Radiance_value)/AGI_value
	 
	 
	"did you calculate the analytical solution?"
	 
	 
	The cube has a reflectance of 0.5. Approximating a cube as a hemisphere, the total reflected flux can be approximated as follows:
	 
	Flux reflected = rho * Flux emitted * (1 + rho + rho^2 + ... + rho^n) =   flux emitted * rho / ( 1 - rho)
	 
	where
	 
	rho = 0.5
	flux emitted = flux of PAR lamp = 860 lumens
	 
	Therefore, the total reflected flux is also 860 lumens. Dividing by the total area of the cube: Illuminance due to reflected flux = 860 / (6*3*3) = 16 Lux. The ceiling illuminance must be a bit higher than this, as the floor opposite of the calculation points (insignificant cosine reduction) contains the bright spot caused by the PAR lamp. We can calculate it more precisely using the ring formula:
	 
	dE = PI D^2 L 2 r dr / ( D^2 + r^2 )^2
	 
	where 
	PI = 3.14159
	D = 3.0 m
	L = Luminance of rings on floor, incl. interreflections (11, 14, 18.5, 25, 33.5, 42.6, 48.6, 51, 53, 56, 58)
	r = ring radius from 1.45 to .45
	dr = .1 m = ring spacing
	 
	 This gives 19.4 Lux, almost in line with the AGI values. 
	 
	 
	"If you considered the agi32 solution to be the right one, what about changing the mesh density or the number of iteration
	does the solution converge to a unique value?"
	 
	 
	Yes, it converges very quickly. No need to change the mesh density to anything higher. I tried it with very small patches, and it gave the same values. 
	 
	 
	 
	"About the Radiance parameters you used:
	"rtrace -ab 1/2/3/4/5  -ad 512 -as 256 -ar 5000 -ds .1 octree ..." 
	did you tested the scene while changing -aa and -ad? which is the -aa value you used?"
	 
	 
	Not necessary. You can estimate what -ad needs to be. The probability that a few of 512 rays will hit the bright PAR spot on the floor is very high, no matter from what point in the cube. If it were Ronchamp by Le Corbusier with small deep windows, even -ad 10000 would not do. How many rays would you need from one secluded corner in that church to hit all or most of the small windows? That is fairly easy to guess. Subdivide the hemisphere surrounding the point in the corner into patches half the size of the windows, and you can derive the number of rays from the number of patches. 
	 
	 
	 
	"I personally would increase settings for -ad,-as,-aa and reduce -ar to keep a balance speed/accuracy.
	(-ar seems to me a little too high for your scene, compared to ad)
	That's also interesting: time vs accuracy."
	 
	 
	Yes, the solution with -ab 5 took about an hour, I think. -ar does not matter too much here. 
	 
	 
	"But at the end of the day: is it your scene particularly general?"
	 
	 
	No. You might want to start with a scene that you can approximate with hand calculations. 
	 
	 
	"I am thinking about what John recently wrote: probably the problem is not to compare numbers for just one scene, but to understand the general validity of a method: it's ability to solve a wide spectrum of problems (fabrics, small windows, high number of interreflections, direct illumination, penumbras.... more scenarios).
	The danger is to (as he said) test our ability to use the program rather the ability of the program itself to solve the problem.
	I am really curious to read his new paper to find out something new in this area:"
	
	 
	 
	 
	Sure. You test the program for a variety of cases and find where it fails. You also have to use the Radiance parameters which, when increased, give the same results as the previous setting. I find them in general to  be -ab 3 -ad 4096 -as 2048 -ar 5000 -ds .1 -dr 3 if new users don't know which values to use. That is for a space with furniture and some small lights. The ambient value -av must be estimated very well, because -ab should be 5 as a general rule. 
	 
	Other than that, our ability to use a program and its output is proportional to our ability to estimate or calculate what the results should be, I think.
	 
	Martin


___________________________________________________________________

Electronic mail messages entering and leaving Arup business

systems are scanned for acceptability of content and viruses.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 13562 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040707/7201730c/attachment-0001.bin
From Giulio.Antonutto at arup.com  Wed Jul  7 18:47:02 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed Jul  7 18:47:21 2004
Subject: [Radiance-general] RE: Radiance accuracy: comparison with AGI
	32 V1.7
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF680@l-gnts05>

Martin,
 
I still think that you speak about differences and not error (even if you
quote the relative error formula): you are comparing Radiance with AGI, not
Radiance with Reality.
In this sense what about translucent fabrics or arbitrary BDTRFs, in future
you should consider also these materials in your comparison to be exhaustive
(**)...
If you think about that, what does it means "accuracy" when you are not able
to model the majority of the real life instances and you are forced to
assume a huge amount of restriction (purely lambertian, omidirectional....)?
You may argue that the differences aren't so big...    but as there are
differences the results are still subject to accuracy.
Do you need  a program that is less precise but more general or a program
that is really precise but very specialized?
 
About the comparison itself: 
I still think that it would be worthy to try others radiance settings, may
be quicker even if not as accurate as yours (you use a very high value of
-ar, while you use the default -aa, not necessarily wrong or bad, just a
little unusual to me).
There is a formula to estimate the -ar value you need depending on the scene
complexity (see RWR), although I am pretty sure that you know it already.
If you do not want to spend a huge amount of time, you can always do the
calcs with rtrace without picture (there is an example in RWR).
These of course are only suggestions, this is your research.
 
I agree with you (**) that an easy start consists in checking a program with
simple scenarios in order to find main limitations and bugs, I just believe
Radiance has gone further than that and it's time to define what does it
mean to validate a program;
Of course this is true only if we want to move to the next step.
 
thanks for your quick reply,
regards,
giulio
 
 

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040707/81a8ad84/attachment.html
From MMoeck at engr.psu.edu  Wed Jul  7 19:20:58 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Wed Jul  7 19:21:15 2004
Subject: [Radiance-general] RE: Radiance accuracy: comparison with AGI32 V1.7
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C113B14@ENGRMAIL2.engr.psu.edu>

Interesting answer - see my response below.
 
Martin

	-----Original Message----- 
	From: Giulio Antonutto [mailto:Giulio.Antonutto@arup.com] 
	Sent: Wed 7/7/2004 12:47 PM 
	To: 'Radiance general discussion' 
	Cc: 
	Subject: RE: [Radiance-general] RE: Radiance accuracy: comparison with AGI32 V1.7
	
	
	Martin,
	 
	I still think that you speak about differences and not error (even if you quote the relative error formula): you are comparing Radiance with AGI, not Radiance with Reality.
	 
	 
	Radiosity for luminous flux transfer for totally diffuse models, as the one modeled here, is "correct", if you are happy with a dense surface mesh. Insofar, AGI32 is correct, since it solves the radiosity matrix (almost), whereas software using Monte Carlo techniques such as Radiance are estimation tools for complex problems. Therefore, Radiance is an excellent tool to help lighting folks estimate the lighting distribution in complex environments, not calculate it. 
	 
	Regarding reality: Try to build a simple model with diffuse surfaces and one diffuse source for verification purposes. You can't do it unless you use an integrating sphere for the source. Try to make a surface black. Again, you can't do it unless you use caves or holes lined with black material. The effort is tremendous. 
	 
	 
	
	In this sense what about translucent fabrics or arbitrary BDTRFs, in future you should consider also these materials in your comparison to be exhaustive (**)... 
	 
	 
	No time, no money. 
	 
	 
	If you think about that, what does it means "accuracy" when you are not able to model the majority of the real life instances and you are forced to assume a huge amount of restriction (purely lambertian, omidirectional....)?
	 
	 
	The majority of real life instances has characteristics that need to be estimated, whereas simple models have characteristics that are mostly known. That makes accurate calculation of real life instances not possible. Otherwise, we could predict the future. 
	 
	 
	You may argue that the differences aren't so big...    but as there are differences the results are still subject to accuracy.
	Do you need  a program that is less precise but more general or a program that is really precise but very specialized?
	 
	 
	 
	You need both, and we have both, and we use them depending on the problem. 
	 
	 
	 
	About the comparison itself: 
	I still think that it would be worthy to try others radiance settings, may be quicker even if not as accurate as yours (you use a very high value of -ar, while you use the default -aa, not necessarily wrong or bad, just a little unusual to me).
	There is a formula to estimate the -ar value you need depending on the scene complexity (see RWR), although I am pretty sure that you know it already.
	If you do not want to spend a huge amount of time, you can always do the calcs with rtrace without picture (there is an example in RWR).
	These of course are only suggestions, this is your research.
	 
	 
	Again, these parameters are not very important for this comparison. The most important parameters for interreflection estimation are the number of ambient bounces, and the ambient density -ad. 
	 
	 
	I agree with you (**) that an easy start consists in checking a program with simple scenarios in order to find main limitations and bugs, I just believe Radiance has gone further than that and it's time to define what does it mean to validate a program;
	 
	 
	Validation is just a comparison to known outcomes or results, isn't it? It does not really matter if they are complex or simple scenarios. However, we cannot validate very complex scenarios since we don't have enough accurate sensors and data. 
	 
	Regards,
	 
	Martin


___________________________________________________________________

Electronic mail messages entering and leaving Arup business

systems are scanned for acceptability of content and viruses.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 10950 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040707/63535a68/attachment-0001.bin
From mail_lists at pfbreton.com  Wed Jul  7 20:29:39 2004
From: mail_lists at pfbreton.com (Pierre-Felix Breton)
Date: Wed Jul  7 20:29:52 2004
Subject: [Radiance-general] RE: Radiance accuracy: comparison with AGI32
	V1.7
References: <84F05BA9118BBD4A8FC6409808CE266C113B14@ENGRMAIL2.engr.psu.edu>
Message-ID: <003401c46450$5ef60800$0101a8c0@eclipse>

Hi Martin,

this is  interesting topic for me..

Id like to make identical scenes in Lightscape and 3ds max (using both
radiosity and mental ray) for the sake of comparisons.

Is it possible for you to send me (privately if you want) the IES file of
the lamp used in your tests?  I am curious to see how theses  products
perform with the same data.

Regards,

Pierre-Felix Breton
Lighting consultant

(and Discreet 3d R&D designer)
----- Original Message ----- 
From: "Martin Moeck" <MMoeck@engr.psu.edu>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Sent: Wednesday, July 07, 2004 1:20 PM
Subject: [Radiance-general] RE: Radiance accuracy: comparison with AGI32
V1.7


> Interesting answer - see my response below.
>
> Martin
>
> -----Original Message----- 
> From: Giulio Antonutto [mailto:Giulio.Antonutto@arup.com]
> Sent: Wed 7/7/2004 12:47 PM
> To: 'Radiance general discussion'
> Cc:
> Subject: RE: [Radiance-general] RE: Radiance accuracy: comparison with
AGI32 V1.7
>
>
> Martin,
>
> I still think that you speak about differences and not error (even if you
quote the relative error formula): you are comparing Radiance with AGI, not
Radiance with Reality.
>
>
> Radiosity for luminous flux transfer for totally diffuse models, as the
one modeled here, is "correct", if you are happy with a dense surface mesh.
Insofar, AGI32 is correct, since it solves the radiosity matrix (almost),
whereas software using Monte Carlo techniques such as Radiance are
estimation tools for complex problems. Therefore, Radiance is an excellent
tool to help lighting folks estimate the lighting distribution in complex
environments, not calculate it.
>
> Regarding reality: Try to build a simple model with diffuse surfaces and
one diffuse source for verification purposes. You can't do it unless you use
an integrating sphere for the source. Try to make a surface black. Again,
you can't do it unless you use caves or holes lined with black material. The
effort is tremendous.
>
>
>
> In this sense what about translucent fabrics or arbitrary BDTRFs, in
future you should consider also these materials in your comparison to be
exhaustive (**)...
>
>
> No time, no money.
>
>
> If you think about that, what does it means "accuracy" when you are not
able to model the majority of the real life instances and you are forced to
assume a huge amount of restriction (purely lambertian, omidirectional....)?
>
>
> The majority of real life instances has characteristics that need to be
estimated, whereas simple models have characteristics that are mostly known.
That makes accurate calculation of real life instances not possible.
Otherwise, we could predict the future.
>
>
> You may argue that the differences aren't so big...    but as there are
differences the results are still subject to accuracy.
> Do you need  a program that is less precise but more general or a program
that is really precise but very specialized?
>
>
>
> You need both, and we have both, and we use them depending on the problem.
>
>
>
> About the comparison itself:
> I still think that it would be worthy to try others radiance settings, may
be quicker even if not as accurate as yours (you use a very high value
of -ar, while you use the default -aa, not necessarily wrong or bad, just a
little unusual to me).
> There is a formula to estimate the -ar value you need depending on the
scene complexity (see RWR), although I am pretty sure that you know it
already.
> If you do not want to spend a huge amount of time, you can always do the
calcs with rtrace without picture (there is an example in RWR).
> These of course are only suggestions, this is your research.
>
>
> Again, these parameters are not very important for this comparison. The
most important parameters for interreflection estimation are the number of
ambient bounces, and the ambient density -ad.
>
>
> I agree with you (**) that an easy start consists in checking a program
with simple scenarios in order to find main limitations and bugs, I just
believe Radiance has gone further than that and it's time to define what
does it mean to validate a program;
>
>
> Validation is just a comparison to known outcomes or results, isn't it? It
does not really matter if they are complex or simple scenarios. However, we
cannot validate very complex scenarios since we don't have enough accurate
sensors and data.
>
> Regards,
>
> Martin
>
>
> ___________________________________________________________________
>
> Electronic mail messages entering and leaving Arup business
>
> systems are scanned for acceptability of content and viruses.
>
>


----------------------------------------------------------------------------
----


> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From Rob.Fitzsimmons at Summit.Fiserv.com  Wed Jul  7 22:08:16 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Wed Jul  7 22:18:52 2004
Subject: [Radiance-general] Radiance Mac GUI?
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69574@corvallis>

What would be involved with creating a simple Radiance GUI with Xcode?
I don't know next to nothing about programming, but Xcode seems to be
reasonably easy to understand. It may be just a matter of linking fileds to
rpict options

What would be usefull is to have a small window (128 x 128 or so) that
renders a simple scene (with rview? or rpict?)
Maybe the scene is a sphere in a cornell box or something

And then several fields that correspond to the options in rifs - quality,
PENUMBRAS,  DETAIL,   VARIABILITY etc
plus advanced rendering options... ad   as  ar  ab   aa  etc.

changing any of these values would re-render the thumbnail with those
settings.

If it could be done, it would be helpful in determining good render
settings.

Or - Ive heard and kind of experienced that each scene has its own quirks
and needs - maybe a simple scene would not give a reasonable idea of what
would be needed for a complex scene.

Any thoughts?

Rob F


From jm at dmu.ac.uk  Wed Jul  7 22:28:07 2004
From: jm at dmu.ac.uk (jm@dmu.ac.uk)
Date: Wed Jul  7 22:31:42 2004
Subject: [Radiance-general] RE: Radiance accuracy: comparison with AGI32
Message-ID: <1089232087.40ec5cd7aa20f@saturn.dmu.ac.uk>

> Id like to make identical scenes in Lightscape and 3ds max (using both
> radiosity and mental ray) for the sake of comparisons.

I can supply the BRE-IDMP validation dataset (and Radiance model of
the test office) to anybody who would like to use this real-world scenario
for validation tests.  The only restriction (at the behest of the BRE) is
that the test is carried out for research purposes only.

I should advise that use of it is no small undertaking.  However, it
remains the 'gold standard' dataset to test predictions of daylight
illuminance.  An overview of the validation procedure is given here:

http://www.iesd.dmu.ac.uk/~jm/pdfs/BRE_IDMP.pdf

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm

From randolph at panix.com  Wed Jul  7 23:04:17 2004
From: randolph at panix.com (Randolph Fritz)
Date: Wed Jul  7 23:04:35 2004
Subject: [Radiance-general] Radiance Mac GUI?
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D69574@corvallis>
Message-ID: <352F6B06-D059-11D8-8FA0-0030658EA95E@panix.com>


On Wednesday, July 7, 2004, at 01:08  PM, Fitzsimmons, Rob wrote:

> What would be involved with creating a simple Radiance GUI with Xcode?
> I don't know next to nothing about programming, but Xcode seems to be
> reasonably easy to understand. It may be just a matter of linking 
> fileds to
> rpict options

AppleScript Studio would support the command-line components of 
Radiance.  The real problem is that Xcode won't support rview, rholo, 
and ximage--those would have to be given a native Mac interface, 
probably a Cocoa interface.  Unfortunately, there's a maintenance issue 
(ANSIfication, which I am told is not quite complete) that the Radiance 
development collective would need to address before a Cocoa interface 
to these apps can be written.

Meanwhile Georg Mischler's Rayfront <http://www.schorsch.com/> 
addresses your issues under X Windows.  I'm not sure he has it running 
on Mac OS X, but it would probably be a simple port.  However, it would 
be a Unix app--not Mac-like at all.

Randolph


From schorsch at schorsch.com  Wed Jul  7 23:22:28 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Wed Jul  7 23:22:33 2004
Subject: [Radiance-general] Radiance Mac GUI?
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D69574@corvallis>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D69574@corvallis>
Message-ID: <Pine.BSF.4.58.0407071720450.51506@emancholl.pair.com>

Fitzsimmons, Rob wrote:

> What would be involved with creating a simple Radiance GUI with Xcode?

Yet another platform dependent render preview GUI?


http://www.python.org/
http://www.wxpython.org/ (http://www.wxwidgets.org/)
http://pyopengl.sourceforge.net/

If we turn libraycalls.a into a Python extension (it's easy),
then a GUI in Python using WxPython/WxWidgets will work on all
platforms that Radiance currently supports.  We have the sources
of Winrview, where we can borrow some of the logic about how to
paint the image and other stuff.

There are several GUI builders around that could be used for
this. The most promising one used to be BoaConstructor, although
development on that one seems to have slowed down.
The UI description files produced by Glade can also be used,
even on those platforms where WxWidgets doesn't use Gtk.

http://boa-constructor.sourceforge.net/ (fetch from CVS)
http://wxglade.sourceforge.net/

There will be a lot of details to solve, but those belong to
the dev-list. Any volunteers? ;)


> Or - Ive heard and kind of experienced that each scene has its own quirks
> and needs - maybe a simple scene would not give a reasonable idea of what
> would be needed for a complex scene.

Yes, that's entirely correct. You need to play with the real thing.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From rpg at rumblestrip.org  Wed Jul  7 23:29:21 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Jul  7 23:27:58 2004
Subject: [Radiance-general] Radiance Mac GUI?
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D69574@corvallis>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D69574@corvallis>
Message-ID: <40EC6B31.5040409@rumblestrip.org>

Fitzsimmons, Rob wrote:

> Or - Ive heard and kind of experienced that each scene has its own quirks
> and needs - maybe a simple scene would not give a reasonable idea of what
> would be needed for a complex scene.

Bingo.  Different scenes present different challenges to Radiance, and 
hence different optimal parameters.  BTW, did you know that you can 
change parameters in rv(ie)u with the 'set' command, and then type 'new' 
to re-render the image?  It's tedious, but it does offer a way to 
experiment with the rendering options.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From schorsch at schorsch.com  Wed Jul  7 23:37:12 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Wed Jul  7 23:37:15 2004
Subject: [Radiance-general] Radiance Mac GUI?
In-Reply-To: <352F6B06-D059-11D8-8FA0-0030658EA95E@panix.com>
References: <352F6B06-D059-11D8-8FA0-0030658EA95E@panix.com>
Message-ID: <Pine.BSF.4.58.0407071736200.51506@emancholl.pair.com>

Randolph Fritz wrote:

>   Unfortunately, there's a maintenance issue
> (ANSIfication, which I am told is not quite complete) that the Radiance
> development collective would need to address before a Cocoa interface
> to these apps can be written.

The ANSIfication ist mostly complete. There are other changes to
the code base that would help more in making this possible, but
aren't going to be finished soon.

If anyone wants to start a GUI project (possibly rolling rview,
rholo, and ximage functionality all into one), I wouldn't see any
fundamental obstacles against beginning with that right away.
The important point is just to define very clear internal APIs
first, on several levels. Once the core codebase gets more
modular and flexible, the seperation between front end and back
end can be moved back and forth as the task requires. It's all a
matter of finding the right abstractions.


> Meanwhile Georg Mischler's Rayfront <http://www.schorsch.com/>
> addresses your issues under X Windows.  I'm not sure he has it running
> on Mac OS X, but it would probably be a simple port.  However, it would
> be a Unix app--not Mac-like at all.

I simply don't have a working mac myself, or I would have ported
Rayfront a long time ago. Donations gladly accepted...

But that might really be a seperate topic. I'm not sure if I
understand Rob correctly, but I think what he wants is primarily
a "better rview". While Rayfront has all the bells and whistles
to set up a project with variations, and to create and assign
materials, it still relies on the old rview on posix platforms.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From jm at dmu.ac.uk  Thu Jul  8 10:38:21 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Thu Jul  8 10:38:36 2004
Subject: [Radiance-general] Radiance Mac GUI?
Message-ID: <E1BiUQ9-0007WP-00@saturn.dmu.ac.uk>

Rob,

> BTW, did you know that you can 
> change parameters in rv(ie)u with the 'set' command, and then type 'new' 
> to re-render the image?

As far as I'm aware, you could only do that once when filling
the ambient cache - say, changing the ab setting from 0 to 1.
Thereafter, rview will continue to re-use the ambient cache as originally
populated first time round.  The calculation may add to it, but it won't
flush it out and start again.  Any further changes to ambient parameters
usually lead to inconsistent and, most likely, misleading results.
The only way to be sure is to kill the session and start again.

Now that certainly used to be the case.  Does anyone know if rview has
been modified to flush out the ambient calc and restart during the
same session?  Actually, there would be very little to gain over
quitting and restarting as the calculation has to begin from er... the
beginning for both.

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From rpg at rumblestrip.org  Thu Jul  8 16:06:28 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Jul  8 16:28:47 2004
Subject: [Radiance-general] Radiance Mac GUI?
In-Reply-To: <E1BiUQ9-0007WP-00@saturn.dmu.ac.uk>
References: <E1BiUQ9-0007WP-00@saturn.dmu.ac.uk>
Message-ID: <40ED54E4.7010903@rumblestrip.org>

John Mardaljevic wrote:
> Rob,
> 
> 
>>BTW, did you know that you can 
>>change parameters in rv(ie)u with the 'set' command, and then type 'new' 
>>to re-render the image?
> 
> 
> As far as I'm aware, you could only do that once when filling
> the ambient cache - say, changing the ab setting from 0 to 1.
> Thereafter, rview will continue to re-use the ambient cache as originally
> populated first time round.  The calculation may add to it, but it won't
> flush it out and start again.  Any further changes to ambient parameters
> usually lead to inconsistent and, most likely, misleading results.

Ack.  I did *not* know that, John.  Honestly, I only change parameters 
that affect a visual change and it's purely for aesthetic reasons. 
Increasing the ambient bounces to see the interior of a daylit space, or 
increasing the direct sampling to see the pattern of a linear 
fluorescent that's close to the ceiling, for example.  But if what you 
say is still the case, surely my tip is useless for analytical work.

Thanks for the heads up, the Robs thank you.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From grobe at gmx.net  Thu Jul  8 16:32:14 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Jul  8 16:32:38 2004
Subject: [Radiance-general] Radiance Mac GUI?
In-Reply-To: <E1BiUQ9-0007WP-00@saturn.dmu.ac.uk>
Message-ID: <9B1C5BAE-D0EB-11D8-BA46-000A959DDB22@gmx.net>

Hi,

just to add... there is a Blender extension for Radiance export in 
development, which will offer a preview, there is rshow (the radiance 
frontend-tools except trad have already been mentioned as well as 
rayfront)... Why not continuing one of the existing projects? And, 
first, define the project's goal...!

- rad-frontend (just like trad)? Setting rendering parameters and 
start? Sounds a bit like the renderpark-design...
- scene-viewer with real-time ability (radiance has rholo...)? Sounds 
like rshow for the Mac, which has (and needs, if you want to set 
view-parameters real-time) OpenGL support...
- project management (like rayfront)?
- frontend just to avoid the command-line (drag the .rif-file onto the 
myradiancerenderer-Icon)?

I personally would only need something like rshow on the Mac, as 
OpenGL-performance with support of textures etc is not available so 
far. Previewing is ok with rview. And one feature is really missing - 
and was afaik available in rshow: camera path generation. The bigger 
approach would be to integrate all the above into one project, like 
rayfront with OpenGL-preview...

BTW, to throw one more into the language-box, many Mac OS X apps use 
Java for the GUI... which would help to keep things portable... and 
there are even 3d-classes for Java... ;-)

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From Rob.Fitzsimmons at Summit.Fiserv.com  Thu Jul  8 19:16:48 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Thu Jul  8 19:47:39 2004
Subject: [Radiance-general] Radiance Mac GUI?
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69577@corvallis>

I have tried the Blender Python export Radiance script (radiance_my227_GUI)
, but never got it to work...
I load the script, make changes to the export path, then export (alt-P) and
get a "Python script error - check console"... the line "import os" is
highlighted

couldn't find an email of the guy who wrote it
http://mywebpages.comcast.net/rayae1/tutorial.htm
Have any of you used it successfully?

And I checked out the Brad  Blender Radiance GUI
http://www.dream.unipa.it/dream/pub/dot/anselmo/radiance/06.php

That looks cool too


Rob

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
To: John Mardaljevic; Radiance general discussion
Sent: 7/8/2004 7:32 AM
Subject: Re: [Radiance-general] Radiance Mac GUI?

Hi,

just to add... there is a Blender extension for Radiance export in 
development, which will offer a preview, there is rshow (the radiance 
frontend-tools except trad have already been mentioned as well as 
rayfront)... Why not continuing one of the existing projects? And, 
first, define the project's goal...!


From ckehrlich at yahoo.com  Thu Jul  8 23:27:28 2004
From: ckehrlich at yahoo.com (Charles Ehrlich)
Date: Thu Jul  8 23:27:35 2004
Subject: [Radiance-general] Re: Instances + octrees
Message-ID: <20040708212728.36182.qmail@web80304.mail.yahoo.com>

Hi Lars,
 
The -n parameter is the maximum allowed number of objects per "voxel".  A voxel in Radiance lingo would be cubic piece of space.  The oconv program sub-divides the scene until all voxels contain no more than -n number of objects--be they spheres, polygons, whatever.   Since an instance counts as one object, the fact that it (the instance) contains sub-instances is irrelevant. So no, keep -n at 8.
 
The number of times that an instance can be recursively instanced inside of super-instances is, I imagine, a fixed number based upon the size of a varriable--of which Greg would be the best to advise.
 
Perhaps the default value for -n should be 8 considering the likelihood that architectural scenes will contain square-ish and cubical entities.  The impact on rendering time should be negligible, I presume.
 
Greg boasted that using sub-instances it is possible to model the entire planet earth down to a resolution of one inch without any loss of geometric precision in the ray-intersection calculation.
 
-Chas
 
Date: Wed, 7 Jul 2004 17:19:49 +0300
From: Lars O. Grobe <grobe@gmx.net>
Subject: Re: [Radiance-general] Re: Instances + octrees
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <B4CF19F3-D020-11D8-B621-000A959DDB22@gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed

Hi Charles,

thank You very much for this information. It seams to be a bit like the 
distilled information about oconv, octrees and instances over the years 
;-), and that was just what I need... Maybe one should start a 
Radiance-FAQ on radiance-online.org...

I will try to use the nested-instances method you describes. Is the 
number of sub-instances fixed or just resulting from the -n 8 option? 
Nested instances represent very well the hierarchic structure of my 
model. So far, I used instances for the smaller elements (with 
replmarks)  and xformed whole building blocks containg all the 
instances. If I replace the xform transformations by the useage of 
"super-instances", I arrive at the nested instance model, however, I 
would have about 40 instances in a typical "super-instance". So should 
I change the -n to 40?

So far, I could not see any errors cause by the -r 256 option, I just 
guessed that I could reduce memory needs by reducing -r, as the default 
was much lower in old versions of radiance and I remember quite well 
what happened when I had to increase -r some time ago...

Anyway... in the worst case, I will have to give up instancing and do 
the brute-force method with a lot of geometry, a very large octree and 
high memory needs. I just don't want to as I don't know how much 
geometry will be added in the future, and also the excessive 
application of colorpicts makes me think about memory...

Thanks, CU Lars.
--
Lars O. Grobe
grobe@gmx.net


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040708/dcc03085/attachment.html
From schorsch at schorsch.com  Fri Jul  9 14:18:36 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Fri Jul  9 14:18:45 2004
Subject: [Radiance-general] Radiance Mac GUI?
In-Reply-To: <9B1C5BAE-D0EB-11D8-BA46-000A959DDB22@gmx.net>
References: <9B1C5BAE-D0EB-11D8-BA46-000A959DDB22@gmx.net>
Message-ID: <Pine.BSF.4.58.0407090815290.58240@emancholl.pair.com>

Lars O. Grobe wrote:

> Why not continuing one of the existing projects?

Most existing projects have one or several disadvantages:
- platform specific
- limited scope of functionality
- obsolete technology (eg. tcl)
- not available for free


> And, first, define the project's goal...!

Obviously, various people may have different goals.

My own goal in this context is very simple: Have a cross-platform
replacement for rview/rholo/ximage. Whether that's one single
application or several is irrelevant (and trivial to have both
ways when the frontend is implemented in Python).

Once the basic functionality is in place, the "nice to have"
features like realtime preview with textures and camera paths for
rview can be added.


> BTW, to throw one more into the language-box, many Mac OS X apps use
> Java for the GUI... which would help to keep things portable...

Write once, debug everywhere?

Opinions vary about this, but I can't see any advantages of Java
over Python. Java is much harder to write and uses a lot more
memory for the same tasks. And while the Java bytecode is in
theory portable like with Python, the Java VMs come in many
subtly incompatible varieties, each with its own bugs that need
to be taken into account. The good ones are usually also closed
source, so that you can't compile them yourself on less popular
platforms.


> and there are even 3d-classes for Java... ;-)

Graphics should be done with OpenGL in either case. Or maybe with
a higher level toolkit like VTK, which again uses OpenGL.

Again, if anyone wants to seriously look into those things, the
details will be more appropriately discussed on the dev-list.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From grobe at gmx.net  Fri Jul  9 14:51:19 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Jul  9 14:51:15 2004
Subject: [Radiance-general] Re: windows: illum useage?
In-Reply-To: <s0e51f5e.046@wmtao.com>
Message-ID: <AC7CF5BE-D1A6-11D8-BAD3-000A959DDB22@gmx.net>

> building.? Applying mkillum avoids this error, besides accounting for
> the framing of the window panes and the circular shape of the opening.
>

Hi,

to recall what this is about, Greg suggested to use one illum surface 
covering the whole of a window made of small panes fixed in stone 
frames (I sent an URL pointing to a mini-pdf showing that in detail).

Now I wonder... afaik the window frames will disappear in the indirect 
calculation, as the average over the whole covering surface is used as 
source, right (of course the frames are counted when calculating this 
average)? So shadowing from these frames will only be visible when 
windows are hit by a dircet source (the sun), while those frames e.g. 
on the north walls won't cast shadows. The only way to change this 
would be to use subdivisioning of the illum surface.

Am I right here? I have to decide that modeling topic now, and I am 
still not really sure about it. If I have to use subdivided illum 
surfaces, I think that manually defining each pane as ONE illum surface 
(so that subdividing would not be necessary any more) is better than 
making a subdivision that doesn't exactly fit the panes.

Thanks+CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From cbauer- at t-online.de  Fri Jul  9 16:37:01 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Fri Jul  9 15:28:55 2004
Subject: [Radiance-general] Re: windows: illum useage?
References: <AC7CF5BE-D1A6-11D8-BAD3-000A959DDB22@gmx.net>
Message-ID: <40EEAD8D.5010407@t-online.de>

Lars O. Grobe wrote:
>> building.  Applying mkillum avoids this error, besides accounting for
>> the framing of the window panes and the circular shape of the opening.
>>
> 
> Hi,
> 
> to recall what this is about, Greg suggested to use one illum surface 
> covering the whole of a window made of small panes fixed in stone frames 
> (I sent an URL pointing to a mini-pdf showing that in detail).
> 
> Now I wonder... afaik the window frames will disappear in the indirect 
> calculation, as the average over the whole covering surface is used as 
> source, right (of course the frames are counted when calculating this 
> average)?

Yepp, right.


> So shadowing from these frames will only be visible when 
> windows are hit by a dircet source (the sun), while those frames e.g. on 
> the north walls won't cast shadows. The only way to change this would be 
> to use subdivisioning of the illum surface.
> 
> Am I right here? I have to decide that modeling topic now, and I am 
> still not really sure about it. If I have to use subdivided illum 
> surfaces, I think that manually defining each pane as ONE illum surface 
> (so that subdividing would not be necessary any more) is better than 
> making a subdivision that doesn't exactly fit the panes.
> 

The other way round, if you do the subdivision manually, what reason 
should there be to deviate from the original window geometry ?

The other question is, if the whole effort pays off. The frames look 
small in comparison to the 'window' openings in your sketch, so if this 
structure is hit by diffuse daylight, you probably won't see any 
distinct shadowing effect from the frames in RealLife(TM) either, but 
rather a bright, blurry diffuse patch on the floor, except perhaps in 
the extreme vicinity of the frames. It might suffice to model the bottom 
row or two rows separately to deliver a bit of the effect a viewer 
expects to see (regardless if it is really there or not..)

-cb

> Thanks+CU Lars.
> -- 
> Lars O. Grobe
> grobe@gmx.net
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 




From ledda at cs.bris.ac.uk  Fri Jul  9 16:42:23 2004
From: ledda at cs.bris.ac.uk (Patrick Ledda)
Date: Fri Jul  9 16:42:37 2004
Subject: [Radiance-general] gensky time
In-Reply-To: <Pine.BSF.4.58.0407090815290.58240@emancholl.pair.com>
Message-ID: <005a01c465c2$f29e54e0$0100a8c0@patrick>

 Hi All,

Just a quick question.  How does time work in gensky? It seems to accept
values which are not realistic. For example

gensky 3 20 14.8 -a 40 -o 98 -m 105 > sky.rad

If I assign the time as 14.8 it produces a sky for that particular time
which of course is not possible. I need to know because I'm writing a
script to produce a sun animation (1 frame = 1 minute) and I need to
know whether values such as above are meaningful or if I should set the
script so that values for minutes are allowed only between 0-60.

The same goes for the hours.. It accepts any value larger than 24!

Cheers,
Patrick



---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.715 / Virus Database: 471 - Release Date: 04/07/2004
 


From rpg at rumblestrip.org  Fri Jul  9 16:58:33 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri Jul  9 16:57:08 2004
Subject: [Radiance-general] gensky time
In-Reply-To: <005a01c465c2$f29e54e0$0100a8c0@patrick>
References: <005a01c465c2$f29e54e0$0100a8c0@patrick>
Message-ID: <40EEB299.9050303@rumblestrip.org>

Patrick Ledda wrote:
> If I assign the time as 14.8 it produces a sky for that particular time
> which of course is not possible.

No, that's perfectly valid.  You can assign time in hours:minutes, or as 
decimal hours, like your example.  14.8 would be 14:48 (2:48PM).

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From ledda at cs.bris.ac.uk  Fri Jul  9 17:04:01 2004
From: ledda at cs.bris.ac.uk (Patrick Ledda)
Date: Fri Jul  9 17:04:16 2004
Subject: [Radiance-general] gensky time
In-Reply-To: <40EEB299.9050303@rumblestrip.org>
Message-ID: <005b01c465c5$f85e2a60$0100a8c0@patrick>

Thanks!

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Rob
Guglielmetti
Sent: 09 July 2004 15:59
To: Radiance general discussion
Subject: Re: [Radiance-general] gensky time

Patrick Ledda wrote:
> If I assign the time as 14.8 it produces a sky for that particular
time
> which of course is not possible.

No, that's perfectly valid.  You can assign time in hours:minutes, or as

decimal hours, like your example.  14.8 would be 14:48 (2:48PM).

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

---
Incoming mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.715 / Virus Database: 471 - Release Date: 04/07/2004
 

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.715 / Virus Database: 471 - Release Date: 04/07/2004
 


From MdelaFuente at wmtao.com  Tue Jul 13 20:50:19 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Tue Jul 13 20:51:15 2004
Subject: [Radiance-general] Electric Lighting Calculations
Message-ID: <s0f3e8bd.024@wmtao.com>

Hi Group,
 
What is the proper way to handle an electric lighting calc (based on an
IES file) in terms of color?  Does color even matter?  What I mean is
most lighting programs don't take color into account but Radiance
does...  which could lead to problems if one were not aware of how color
selection affects numerical results.  I have not tested this, but here
is what I'm thinking (or hoping) that when ies2rad matches the color of
a fluorescent light to that of a cool white lamp or a warm white, or
whatever color, that it will do so in a way that does not change the
calculation results.  (I guess it would do this by scaling the RGB
values accordingly)  So if I were to run three calculations based on one
ies file (using three different color options.. say warm white, pure
white, and some crazy x & y CIE coordinates), I would get the same
numerical results if all other parameters were equal?
 
Any differences between falsecolor and rtrace results assuming one used
the accepted '$1=($1*.265+$2*.67+$3*.065)*179' ?
 
As always, any feedback is greatly appreciated.
 
Thanks!
 
The novice.

 
PS
 
Since lamp.tab does not include some of the more recent fluorescent
colors, I obtained a copy of the x & y CIE coordinates for some
Phillip's lamps from my local Phillips rep.  Not sure if there is any
interest in updating lamp.tab for future Radiance releases or even if
one manufacturer's data would be enough data to do this (perhaps an
average would be more appropriate?), but I would be happy to share the
information for their 800 series lamps (3000K, 3500K, 4100K, & 5000K)
which are the lamps typically specified these days (at least by me
anyway).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040713/2cb2b5d5/attachment.htm
From gward at lmi.net  Wed Jul 14 06:18:52 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Jul 14 06:19:42 2004
Subject: [Radiance-general] Electric Lighting Calculations
In-Reply-To: <s0f3e8bd.024@wmtao.com>
References: <s0f3e8bd.024@wmtao.com>
Message-ID: <E9BEB9A5-D54C-11D8-8294-000A95BB392A@lmi.net>

Although the color information from the lamps won't affect the 
luminance results in a completely gray environment, it will have an 
influence in one where the reflecting surfaces are colored.  This is 
actually what you want, except that you also should perform a "white 
balance" step during final image processing to avoid a nasty color cast 
in your output.  (See the related options of pfilt.)  A better, more 
acurate alternative requires spectral data, and is explained in the 
following paper:

	http://www.anyhere.com/gward/papers/egwr02/

-Greg

> From: "Mark de la Fuente" <MdelaFuente@wmtao.com>
> Date: July 13, 2004 11:50:19 AM PDT
>
Hi Group,
?
What is the proper way to handle an electric lighting calc?(based on an 
IES file) in terms of color?? Does color even matter?? What I mean is 
most lighting programs don't take color into account but Radiance 
does...? which could lead to problems if one were not aware of how 
color selection affects numerical results.??I have not tested this, but 
here is what I'm thinking (or hoping) that?when ies2rad matches the 
color of a fluorescent light to that of a cool white lamp or?a warm 
white, or whatever color, that it will do so in a way that does not 
change the calculation results.? (I guess it would do this by scaling 
the RGB values accordingly) ?So if I were to run three calculations 
based on one ies file (using three?different color options.. say warm 
white, pure white, and some crazy x & y CIE coordinates), I would get 
the same numerical results if all other parameters were equal?
?
Any differences between falsecolor and rtrace results assuming one used 
the accepted '$1=($1*.265+$2*.67+$3*.065)*179' ?
?
As always, any feedback is greatly appreciated.
?
Thanks!
?
The novice.
?
PS
?
Since lamp.tab does not include some of the more recent fluorescent 
colors, I?obtained a copy of the x & y CIE coordinates for?some 
Phillip's lamps from my local Phillips rep.? Not sure if there is any 
interest in updating lamp.tab for future Radiance releases or even if 
one manufacturer's data would be enough data to do this (perhaps an 
average would be more appropriate?),?but I would be happy to share 
the?information?for their 800 series lamps (3000K, 3500K, 4100K, & 
5000K) which are the?lamps typically specified these days (at least by 
me anyway).


From Krzysztof.Wandachowicz at put.poznan.pl  Wed Jul 14 09:51:31 2004
From: Krzysztof.Wandachowicz at put.poznan.pl (Krzysztof Wandachowicz)
Date: Wed Jul 14 09:51:56 2004
Subject: [Radiance-general] Electric Lighting Calculations
References: <s0f3e8bd.024@wmtao.com>
Message-ID: <006101c46977$611669a0$6d0cfe96@iee.put.poznan.pl>

First of all it is important to explain total reflectance term. Total reflectance ( R ) depends on the spectral reflectance ( Rl ) of the material and spectral distribution of radiant flux ( Pl) in [W/m]. There is equation as follows:

R = INTEGRAL( Rl * P1 * Vl * dl) / INTEGRAL( P1 * Vl * dl)

 

Where Vl - is spectral luminous efficiency (simply this is spectral efficiency of our eyes) , dl - is interval of wavelength of electromagnetic radiation. The range of the INTEGRAL is visible radiation (380 nm - 780 nm).

 

The next point is that when we have non gray (coloured) materials and the radiation interreflect many times between surfaces of materials that this interreflection changes its spectral distribution. The simple example: red wall and white light. When the light is reflected in this wall that after reflection light will not be white but will be red. What does it mean? During the second reflection total reflectance ( R ) of the wall is different than during the first reflection because spectral distribution of radiant flux ( Pl) is changed. 

 

The very important question is how it influence on total reflectance ( R ). When we have commonly used decorative materials (not so coloured: reddish but not deep red) and popular white lamps (neutral white, warm white, cool white etc.) this influence is not so important. This is the reason that most popular lighting software use only total reflectance ( R ) but not spectral reflectance ( Rl ). 

 

RADIANCE has its own system of colour representation based on three band R G and B and in most cases it is enough.





Best regards,



Krzysztof Wandachowicz



  ----- Original Message ----- 
  From: Mark de la Fuente 
  To: radiance-general@radiance-online.org 
  Sent: Tuesday, July 13, 2004 8:50 PM
  Subject: [Radiance-general] Electric Lighting Calculations


  Hi Group,

  What is the proper way to handle an electric lighting calc (based on an IES file) in terms of color?  Does color even matter?  What I mean is most lighting programs don't take color into account but Radiance does...  which could lead to problems if one were not aware of how color selection affects numerical results.  I have not tested this, but here is what I'm thinking (or hoping) that when ies2rad matches the color of a fluorescent light to that of a cool white lamp or a warm white, or whatever color, that it will do so in a way that does not change the calculation results.  (I guess it would do this by scaling the RGB values accordingly)  So if I were to run three calculations based on one ies file (using three different color options.. say warm white, pure white, and some crazy x & y CIE coordinates), I would get the same numerical results if all other parameters were equal?

  Any differences between falsecolor and rtrace results assuming one used the accepted '$1=($1*.265+$2*.67+$3*.065)*179' ?

  As always, any feedback is greatly appreciated.

  Thanks!

  The novice.

  PS

  Since lamp.tab does not include some of the more recent fluorescent colors, I obtained a copy of the x & y CIE coordinates for some Phillip's lamps from my local Phillips rep.  Not sure if there is any interest in updating lamp.tab for future Radiance releases or even if one manufacturer's data would be enough data to do this (perhaps an average would be more appropriate?), but I would be happy to share the information for their 800 series lamps (3000K, 3500K, 4100K, & 5000K) which are the lamps typically specified these days (at least by me anyway).


------------------------------------------------------------------------------


  _______________________________________________
  Radiance-general mailing list
  Radiance-general@radiance-online.org
  http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040714/4695656b/attachment.html
From gward at lmi.net  Wed Jul 14 17:35:26 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Jul 14 17:36:16 2004
Subject: [Radiance-general] Urgent request for Workshop registrations
Message-ID: <6DAEC634-D5AB-11D8-B974-000A95BB392A@lmi.net>

Dear All,

Raphael sent out a reminder last week, but we still have not gotten 
enough of a response to inspire confidence.  Enough people replied to 
the initial call for interest that we felt good about going ahead, but 
since then we haven't received as many actual registrations as we were 
expecting.  If we don't get enough registrations by August 17th, we 
will be forced to cancel the workshop.  Raphael has offered a lottery 
discount on registrations to those who send in early -- by the 15th of 
this month in fact, so today could be your lucky day!

The workshop registration page is:

	http://www.eif.ch/~compag/rw2004/

Please write to Raphael Compagnon directly if you have any questions:

	raphael.compagnon@eif.ch

Thanks, and hope to see you in October!

-Greg


From atroccol at cs.columbia.edu  Fri Jul 16 01:56:17 2004
From: atroccol at cs.columbia.edu (Alejandro Troccoli)
Date: Fri Jul 16 01:56:29 2004
Subject: [Radiance-general] Units
Message-ID: <40F719A1.6040208@cs.columbia.edu>

I am in the process of implementing Preetham's "A Practical Analytic 
Model for Daylight" into Radiance. I have some questions regarding 
Radiance units, which I understand are radiometric units.  Here are some 
questions I came up with. My biggest confusion relates to luminous 
efficacy, and when to apply it.

1) If I have a spectral distribution of the sun in wavelength increments 
from 380 to 780, and apply cieresp.cal to obtain the XYZ CIE values, 
what units is Y in? When I convert to RGB using something like 
xyz_rgb.cal, should I divide by the luminous efficacy 179 or not? 
Reading Chapter 5 of Rendering with Radiance (pages 305-307), it seems I 
should just take the RGB values and use them.

2) If I have data in CIE XYZ, with Y in cd/m^2. Should I convert to RGB 
and divide by 179?

3) When using skygen, what units is the solar intensity in? What units 
does skyfunc return?

Thanks a lot for your time,
Alejandro


From gward at lmi.net  Fri Jul 16 07:12:50 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Jul 16 07:13:45 2004
Subject: [Radiance-general] Units
In-Reply-To: <40F719A1.6040208@cs.columbia.edu>
References: <40F719A1.6040208@cs.columbia.edu>
Message-ID: <C8E9500A-D6E6-11D8-8026-000A95BB392A@lmi.net>

Hi Alejandro,

> From: Alejandro Troccoli <atroccol@cs.columbia.edu>
> Date: July 15, 2004 4:56:17 PM PDT
>
> I am in the process of implementing Preetham's "A Practical Analytic 
> Model for Daylight" into Radiance. I have some questions regarding 
> Radiance units, which I understand are radiometric units.  Here are 
> some questions I came up with. My biggest confusion relates to 
> luminous efficacy, and when to apply it.
>
> 1) If I have a spectral distribution of the sun in wavelength 
> increments from 380 to 780, and apply cieresp.cal to obtain the XYZ 
> CIE values, what units is Y in?

It depends on what the spectral distribution represented.  Oftentimes, 
these are only relative values, and you can't expect to get meaningful 
absolute units as a result.  What you will have is a valid color, where 
CIE (x,y) chromaticity is computed by:

	x = X/(X + Y + Z)
	y = Y/(X + Y + Z)

Note that the absolute values drop out of the above formulae.

If on the other had, your units are watts/whatever, your result from 
cieresp.cal will be lumens/whatever.  If you had radiance in 
watts/steradian/meter^2 on input, your Y output will be 
lumens/steradian/meter^2, or "nits."

> When I convert to RGB using something like xyz_rgb.cal, should I 
> divide by the luminous efficacy 179 or not? Reading Chapter 5 of 
> Rendering with Radiance (pages 305-307), it seems I should just take 
> the RGB values and use them.

Yes, you should divide by 179 to get back into RGB radiance color 
values.  The pages 305-307 deal with reflectance, which is unitless and 
therefore has no conversion factor.

> 2) If I have data in CIE XYZ, with Y in cd/m^2. Should I convert to 
> RGB and divide by 179?

Again, yes.

> 3) When using skygen, what units is the solar intensity in? What units 
> does skyfunc return?

Do you mean "gensky?"  If so, the solar radiance is in units of 
watts/sr/m^2 using the standard 179 value for luminous efficacy.  
Unless you know better, it is recommended to simply use this value, so 
it drops out of the calculation when you return to photometric units 
during the analysis phase at the end.

I hope this helps.
-Greg


From ckehrlich at yahoo.com  Fri Jul 16 18:56:39 2004
From: ckehrlich at yahoo.com (Charles Ehrlich)
Date: Fri Jul 16 19:03:25 2004
Subject: [Radiance-general] Re: Units
Message-ID: <20040716165639.16087.qmail@web80306.mail.yahoo.com>

A caution regarding gensky, luminous efficacy factors and spectral conversions.  
 
The physical skydome is strongly blue-colored.  This matters if you are attempting to represent the brightness of objects relative to sources of light with different spectra, and/or relative to room surfaces with different reflectance spectra.  
 
Blue light is more efficacious, i.e., it both has more energy and appears brighter.  The lumens per watt conversion factor of 179 is really only valid for pure white light (I think I've got that right?).  If you look into the source code for gensky, you will see that a different lm/watt factor was used to derive the zenith brightness (203 ??).  But this efficacy is not tied to the color of the skydome as modeled by the user in the input file in the skyfunc "glow" entity below:
 

skyfunc glow sky_glow

0 0

4 0.75 0.9 1.2 0

 

sky_glow source sky

0 0

4 0 0 1 180

 

I do not know your specific application, but if the appearance of the sky is not important for your simulations, you might consider changing the skydome glow color component to be equal R G B factors (1 1 1) so that you do not convolve different efficacy factors and spectral influences on your final result.  Alternatively, you could re-write gensky so that it adjusts the luminance of the skydome (by adjusting the lm/watt factor) in response to the color of the skyglow primitives. 
 
In a quick study of this effect several years ago, we found errors as much as 20%--which is small potatoes for daylight simulation purposes, but troubling nevertheless because it is (arguably) an internal consistency error, not a modeling error.
 
The real problem is that the international unit of luminous flux is defined in terms of a human perceptual factor rather than on a radiometric unit, imho.  This results in skydome brightness measurements in candellas per meter squared (instead of watts/meter squared) whose conversion factor depends upon the color of the light source. 
 
-Chas

radiance-general-request@radiance-online.org wrote:
> 3) When using skygen, what units is the solar intensity in? What units 
> does skyfunc return?

Do you mean "gensky?" If so, the solar radiance is in units of 
watts/sr/m^2 using the standard 179 value for luminous efficacy. 
Unless you know better, it is recommended to simply use this value, so 
it drops out of the calculation when you return to photometric units 
during the analysis phase at the end.

I hope this helps.
-Greg



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040716/db39b7da/attachment.htm
From gward at lmi.net  Fri Jul 16 19:16:37 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Jul 16 19:24:09 2004
Subject: [Radiance-general] Re: Units
In-Reply-To: <20040716165639.16087.qmail@web80306.mail.yahoo.com>
References: <20040716165639.16087.qmail@web80306.mail.yahoo.com>
Message-ID: <E536A67C-D74B-11D8-833F-000A95BB392A@lmi.net>

Beware to those who attempt to read the Radiance source code -- it is 
not meant for human eyes!  I have trouble interpreting it, myself.  The 
best I can say for it is that it compiles well, most of the time....

Though it's true that gensky uses a different efficacy for the sky 
conversion, it only does this when the zenith brightness is being 
computed from turbidity, which is an iffy proposition at best.  If you 
use either the -b or -B options to enter your own zenith radiance or 
irradiance (from TRY data or on-site measurements), it is YOUR 
responsibility to convert from whatever was measured to the right units 
for your simulation.  If you took a luminance measurement on a gray 
sky, then you should divide by 179.  If your sky has some color to it, 
you should take this into account as Chas recommends.

-Greg

> From: Charles Ehrlich <ckehrlich@yahoo.com>
> Date: July 16, 2004 9:56:39 AM PDT
>
A caution regarding gensky, luminous efficacy factors?and spectral 
conversions.?
  ?
The physical skydome is strongly blue-colored.? This matters if you are 
attempting to represent the brightness of objects relative to sources 
of light with different spectra, and/or relative to room surfaces with 
different reflectance spectra.?
  ?
Blue light is more efficacious, i.e., it both has more energy and 
appears brighter.? The lumens per watt conversion factor of 179 is 
really only valid for pure white light (I think I've got that right?).? 
If you look into the source code for gensky, you will see that a 
different lm/watt factor was used to derive the zenith brightness (203 
??).? But this efficacy is not tied to the color of the skydome as 
modeled by the user in the input file in the skyfunc?"glow" entity 
below:

skyfunc glow sky_glow
0 0
4 0.75?0.9 1.2 0

sky_glow source sky
0 0
4 0 0 1 180
?
I do not know your specific application, but if the appearance of the 
sky is not important for your simulations,?you might consider changing 
the skydome glow?color component to be?equal R G B factors (1 1 1) so 
that you do not convolve different efficacy factors and spectral 
influences on your final result.? Alternatively, you could re-write 
gensky so that it adjusts the luminance of the skydome (by adjusting 
the lm/watt factor) in response to the color of the skyglow primitives.
  ?
In a quick study of this effect several years ago, we found errors as 
much as 20%--which is small potatoes for daylight simulation purposes, 
but troubling nevertheless because it is (arguably) an internal 
consistency error, not a modeling error.
?
The real problem is that the international unit of luminous flux is 
defined in terms of a human perceptual factor rather than on a 
radiometric unit, imho.? This results in skydome brightness 
measurements in candellas per meter squared (instead of watts/meter 
squared)?whose conversion factor depends upon the color of the 
light?source.?
?
-Chas


From cbauer- at t-online.de  Mon Jul 19 17:28:58 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Mon Jul 19 16:20:30 2004
Subject: [Radiance-general] radzilla update
Message-ID: <40FBE8BA.6030503@t-online.de>

Hi all,

I finally managed to put together a new RADZILLA release.

This time, it is much more comprehensive, and lots of bugs have been
fixed. (The first prelease from April wasn't really worth the name, 
there were quite a lot of funny errors, but, well, every thing starts 
with a small step...)

The current RADZILLA contains:
- 'almost all' RADIANCE primitives/options,
- a previewer rzvu,
- full Photon Map support, all maps, all gimmicks, e.g. ports, the 
   problems with faulty option parsing should no longer appear.

- new primitives:
1) the 'scene', an enhanced instance which allows to include 
lightsources in a instanced octree and further allows to set separate 
rendering parameters for this subscene
2) the 'ghost' material (a shadowless material type for
markers, background, cheating, whatever)
3) a second mapping mode for the color4pict, allowing to map 
semitransparent images also onto opaque objects,

...and furthermore this or that modification to the classic RADIANCE stuff

Here's the link for the adventurous folks to check it out:
http://www.cb-d.de/radzilla.html

greetings,

-Carsten


From rpg at rumblestrip.org  Mon Jul 19 19:33:17 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Jul 19 19:31:00 2004
Subject: [Radiance-general] Cygwin compilation?
Message-ID: <40FC05DD.3040308@rumblestrip.org>

Hi folks,

So ah, I got this new PC and it's all, like, fast and stuff, so I 
decided to install Cygwin on it and see how fast Radiance runs on it. 
After a few revisits to the mirror site for gcc and a bunch of 
knick-knacks that the Radiance install script needed (uh, like, csh for 
example?!!?), I think I have everything I need, but the compile proces 
keeps spewing errors such as these:

$ cp: `rlam' and `/usr/local/bin/rlam' are the same file
$ cp: `total' and `/usr/local/bin/total' are the same file

It seems as though the sources are compiling, but when make tries to 
copy the binaries to /usr/local/bin it doesn't.  The source is located 
in /rad/install/ray.  Any ideas?  I know a few of you out there are 
running Radiance on Cygwin, but I have just about zero experience with 
it.  Any tips or pointers to FAQs would be most appreciated.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From MMoeck at engr.psu.edu  Mon Jul 19 19:49:18 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon Jul 19 19:49:44 2004
Subject: [Radiance-general] Radiance lighting design tool based on
	constraint satisfaction optimization
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C113B67@ENGRMAIL2.engr.psu.edu>

 

	If you are interested in automated lighting design using Radiance, there is new software for the automatic placement of fixtures. This placement is based on desired lighting effects. Desired lighting effects are the amount of gloss, texture, flat or bumpy appearance with self shadowing effects in materials, etc. Undesired lighting effects can be specified in the same way. Based on those constraints as selected from a user interface, the desired highlights and dark areas in the scene, and the desired view points, the software determines possible and impossible light source locations. Additional constraints can be applied, such as "the luminaire must be on the ceiling only, or the luminaire mist not cause direct glare, or the luminaire mist not cause shadows at xyz". 
	 
	See http://www.personal.psu.edu/mum13/constraints.pdf
	 
	Martin Moeck, Penn State

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 4222 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040719/a7952959/attachment.bin
From MdelaFuente at wmtao.com  Mon Jul 19 20:00:51 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Mon Jul 19 20:01:27 2004
Subject: [Radiance-general] Cygwin
Message-ID: <s0fbc613.091@wmtao.com>

Rob,
 
Check out the pre-compiled version.  Have not had any problems setting
it up.  And keep in mind I'm a Unix dum dum.  :)
 
http://www.dream.unipa.it/dream/pub/dot/anselmo/radiance/03.php
 
Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040719/57d817d2/attachment.htm
From rpg at rumblestrip.org  Mon Jul 19 20:27:39 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Jul 19 20:25:05 2004
Subject: [Radiance-general] Cygwin
In-Reply-To: <s0fbc613.091@wmtao.com>
References: <s0fbc613.091@wmtao.com>
Message-ID: <40FC129B.7010206@rumblestrip.org>

Mark de la Fuente wrote:

> Rob,
>  
> Check out the pre-compiled version.  Have not had any problems setting 
> it up.  And keep in mind I'm a Unix dum dum.  :)
>  
> http://www.dream.unipa.it/dream/pub/dot/anselmo/radiance/03.php

Yeah, I know about those, and Franscesco's binaries are in my back 
pocket.  I just wanted to try and compile, because, well, I don't know 
why.  Just because!  But I guess I'll just punt and go with the 
binaries.  Thanks Mark.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From Christoph.Reinhart at nrc-cnrc.gc.ca  Mon Jul 19 20:51:57 2004
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Mon Jul 19 20:52:19 2004
Subject: [Radiance-general] 3ds2rad
Message-ID: <10C94843061E094A98C02EB77CFC328708102CBD@nrcmrdex1d.imsb.nrc.ca>

Dear colleagues,
 
I've been playing around with John Mardaljevic's great 3ds2rad script that
he send out to the list a few weeks ago. Great information, very useful
John! I have two further going questions which some of you might have
encountered in the past:

*	Is there a way to extract a view point defined in  a 3ds file into
Radiance? 

*	A problem with AutoCAD 14R seems to be that when it exports into 3ds
file format the naming of the layers changes from whatever they are in
AutoCAD into m_GLOBAL_x (x=1,...,n). This is really bothersome as it forces
you to go through the file and identify what GLOBAL_x is. Is anybody aware
of a workaround for this?

 
Christoph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040719/4325238d/attachment.html
From toast at becausewecan.org  Mon Jul 19 22:54:03 2004
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Mon Jul 19 22:54:04 2004
Subject: [Radiance-general] radzilla update
In-Reply-To: <40FBE8BA.6030503@t-online.de>
References: <40FBE8BA.6030503@t-online.de>
Message-ID: <40FC34EB.3030404@becausewecan.org>

Carsten Bauer wrote:
> Hi all,
> 
> I finally managed to put together a new RADZILLA release.

For those of you, like me, on Cygwin, I've been able to get this 
compiled and running. I'm in the process of playing with it now, and 
if I hit any major snags I'll chime in. But so far, so good, and I 
wish I knew C so that I could help out more than just testing. ;-)

Jeffrey McGrew

From grobe at gmx.net  Mon Jul 19 21:02:35 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Jul 20 12:39:42 2004
Subject: [Radiance-general] Transparent Textures in Radiance
In-Reply-To: <3FCC8E27.5020507@pab-opto.de>
Message-ID: <31FD8CD4-D9B6-11D8-9833-000A959DDB22@gmx.net>

Hi,

this thread is rather old, however I just came to the same point. No, 
not to a glass of beer, but to the adventure of using a new modifier 
type:

(12/02/03) Peter Apian-Bennewitz wrote:
> R Gillibrand wrote:
>
>> Hi All,
>>
>> Is it possible to have transparent textures in the mesh primitive? I 
>> have a student who wants to map a logo around a beer glass and I 
>> can?t find a way to do so but hope to be proved wrong!
>>
>
[...]
>    void mixpict mp
>    15 mp1 mp2 digital1 sp.pic picture_UV.cal tpic_u tpic_v ...
>    0
>    0

I understand mp1 and mp2 (the modifiers to mix), digital1 means there 
is 1/0 substitution, where is it defined, or do I have to define this 
function? Than sp.pic as the picture, ok, with white meaning foreground 
mod, black background? Finally picture_UV.cal, I guess you wanted to 
show the need of a beer glass mapping func ;-)?

All I know about mixpict is from ray.pdf, is there any other source?

I have some kind of mosaic that I don't want to model geometrically. It 
consists of three different materials. I have material definitions 
(plastic) of all three. Can I use mixpict to create some kind of "mask" 
in radiance? Is it possible to use a mixpict modifier as a background 
in mixpict (I think I would have to do so if I want to combine three, 
not two)? Finally - is it more adviseable to assemble the mosaic in a 
bitmap editor (gimp, photoshop & co) and apply it by using the 
colorpict modifier?

TIA+CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From gward at lmi.net  Tue Jul 20 18:59:08 2004
From: gward at lmi.net (Greg Ward)
Date: Tue Jul 20 19:00:39 2004
Subject: [Radiance-general] Re: Transparent Textures in Radiance
In-Reply-To: <31FD8CD4-D9B6-11D8-9833-000A959DDB22@gmx.net>
References: <31FD8CD4-D9B6-11D8-9833-000A959DDB22@gmx.net>
Message-ID: <1DAD4A9C-DA6E-11D8-A117-000A95BB392A@lmi.net>

Hi Lars,

Using mixpict to achieve transparency can be done in one of two ways.  
The preferred method is to specify "void" as one of the alternate 
materials, either foreground or background, and where the mixpict 
evaluates to 1 (or 0), the surface will be disregarded.  The other 
alternative is to specify a trans material with the following 
parameters:

void trans passthru
0
0
7 0 0 0 0 0 1 1

If I remember right, this will send the ray straight through without 
any alterations, though it is slightly more expensive than using the 
"void" modifier.  For more information, check out this entry in the old 
Radiance digests:

	http://radsite.lbl.gov/radiance/digests_html/v3n0.html#OPACITY_MAPPING

-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: July 19, 2004 12:02:35 PM PDT
>
> Hi,
>
> this thread is rather old, however I just came to the same point. No, 
> not to a glass of beer, but to the adventure of using a new modifier 
> type:
>
> (12/02/03) Peter Apian-Bennewitz wrote:
>> R Gillibrand wrote:
>>
>>> Hi All,
>>>
>>> Is it possible to have transparent textures in the mesh primitive? I 
>>> have a student who wants to map a logo around a beer glass and I 
>>> can?t find a way to do so but hope to be proved wrong!
>>>
>>
> [...]
>>    void mixpict mp
>>    15 mp1 mp2 digital1 sp.pic picture_UV.cal tpic_u tpic_v ...
>>    0
>>    0
>
> I understand mp1 and mp2 (the modifiers to mix), digital1 means there 
> is 1/0 substitution, where is it defined, or do I have to define this 
> function? Than sp.pic as the picture, ok, with white meaning 
> foreground mod, black background? Finally picture_UV.cal, I guess you 
> wanted to show the need of a beer glass mapping func ;-)?
>
> All I know about mixpict is from ray.pdf, is there any other source?
>
> I have some kind of mosaic that I don't want to model geometrically. 
> It consists of three different materials. I have material definitions 
> (plastic) of all three. Can I use mixpict to create some kind of 
> "mask" in radiance? Is it possible to use a mixpict modifier as a 
> background in mixpict (I think I would have to do so if I want to 
> combine three, not two)? Finally - is it more adviseable to assemble 
> the mosaic in a bitmap editor (gimp, photoshop & co) and apply it by 
> using the colorpict modifier?


From grobe at gmx.net  Tue Jul 20 19:51:52 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Jul 20 19:51:24 2004
Subject: [Radiance-general] mosiac with mixpict? (was: Re: Transparent
	Textures in Radiance)
In-Reply-To: <1DAD4A9C-DA6E-11D8-A117-000A95BB392A@lmi.net>
Message-ID: <7B4F9912-DA75-11D8-A75B-000A959DDB22@gmx.net>

Hi Greg, hi list!

> Using mixpict to achieve transparency can be done in one of two ways.  
> The preferred method is to specify "void" as one of the alternate 
> materials,

Sorry, first thank you for the reply, but I had better changed the 
subject line (I didn't because I wanted to add to the old thread, which 
was about transparency and mixpict, showing mixpict useage by an 
example). I don't want to map on a transparent surface, but an opaque 
one, to describe a mosaic. If I used the void modifier, I think I would 
have to model three surfaces, so that each surface takes one material 
modified by the mixpict "mask" - that doesn't sound very reasonable to 
me. So the question is still if I can use a mixpict-modified material 
as background in a mixpict modifier's definition, some kind of nested 
mixpict modifier.

Thanks+CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From schorsch at schorsch.com  Tue Jul 20 21:01:20 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Tue Jul 20 21:05:08 2004
Subject: [Radiance-general] mosaic with mixpict?
In-Reply-To: <7B4F9912-DA75-11D8-A75B-000A959DDB22@gmx.net>
References: <7B4F9912-DA75-11D8-A75B-000A959DDB22@gmx.net>
Message-ID: <Pine.BSF.4.58.0407201457410.93691@emancholl.pair.com>

Lars O. Grobe wrote:

>  So the question is still if I can use a mixpict-modified material
> as background in a mixpict modifier's definition, some kind of nested
> mixpict modifier.

You can nest mixpicts (and almost anything) recursively as often
as you want. On the other hand, why don't you just use a picture
of your mosaic and map that on the surface as a normal colorpict?


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From tarik.rahman at ed.ac.uk  Wed Jul 21 16:56:10 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Wed Jul 21 16:56:28 2004
Subject: [Radiance-general] is attenuation accounted for
Message-ID: <1090421770.40fe840ad4f65@sms.ed.ac.uk>

Hi
Does anyone know if when I set a light to rgb 100 100 100 radiance takes into
account the attenuation over distance? I'm trying to write a ray-tracer but the
colour values returned for a reflected ray are about 100 times too high.
Thanks

Tarik

--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From gward at lmi.net  Wed Jul 21 17:23:27 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Jul 21 17:29:26 2004
Subject: [Radiance-general] is attenuation accounted for
In-Reply-To: <1090421770.40fe840ad4f65@sms.ed.ac.uk>
References: <1090421770.40fe840ad4f65@sms.ed.ac.uk>
Message-ID: <EA33B8F4-DB29-11D8-A474-000A95BB392A@lmi.net>

Hi Tarik,

Rays reflected off a mirror-like finish (polished glass, mirrors, etc.) 
do not attenuate with distance, but their chances of striking a light 
source are small.  Rays that are part of the "direct" calculation and 
sent to light sources to test for shadows account for the 1/r^2 
fall-off of light by computing the solid angle of the source (or source 
sample region) in their equation.  For details, see Section 4 of the 
following document:

	http://radsite.lbl.gov/radiance/refer/materials.pdf

I'm sure you can find similar advice in books like "An Introduction to 
Ray Tracing," by Glassner.

-Greg

> From: Tarik Rahman <tarik.rahman@ed.ac.uk>
> Date: July 21, 2004 7:56:10 AM PDT
>
> Hi
> Does anyone know if when I set a light to rgb 100 100 100 radiance 
> takes into
> account the attenuation over distance? I'm trying to write a 
> ray-tracer but the
> colour values returned for a reflected ray are about 100 times too 
> high.
> Thanks
>
> Tarik
>
> --
> Tarik Rahman
> PhD student, Institue of Perception, Action and Behaviour
> School of Informatics
> University of Edinburgh


From grobe at gmx.net  Wed Jul 21 20:16:37 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Jul 21 20:16:07 2004
Subject: [Radiance-general] mosaic with mixpict?
In-Reply-To: <Pine.BSF.4.58.0407201457410.93691@emancholl.pair.com>
Message-ID: <1AC10474-DB42-11D8-B415-000A959DDB22@gmx.net>

Hi!

> You can nest mixpicts (and almost anything) recursively as often
> as you want. On the other hand, why don't you just use a picture
> of your mosaic and map that on the surface as a normal colorpict?

Because (again, I had to explain that in a different thread before) I 
have material values for the stones the mosaic is made of, but no 
calibrated picture of the whole that I could simply use as a colorpict. 
However, I can "draw" the mosaic using the known values, than map that 
drawing. However, as I never used the mixpict, which seams to be a 
quite powerful tool, I was quite interested in its limitations, and I 
found very few documentation on it.

So thank you all who answered, I got an idea now what I can do with 
that mod, CU, Lars.
--
Lars O. Grobe
grobe@gmx.net


From cbauer- at t-online.de  Thu Jul 22 15:30:15 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Thu Jul 22 14:21:59 2004
Subject: [Radiance-general] radzilla again
Message-ID: <40FFC167.4010107@t-online.de>

Hi all,

just some short hints:

- stupid, but true :-) :-), in the original release I forgot to remove 
some object modules in the /util directory. I've already fixed this in 
the package. So if you want ot compile radzilla on non-Linux OS es, 
issue a rm *.o in the /util directory first

I've heard rumours mention that then the stuff also compiles and runs on 
MacOSX..

- a bug in the rzvu view input diaologue has been fixed, too

To bother the list no longer, I've set up an update page in the download 
section of the radzilla site, which serves to collect the most recent 
info and bugfixes/updates

Thanx to Jeffey McGrew and Giulio Antonutto for the the first feedback, 
compile tests and bugreports !!

-so long
Carsten


From Giulio.Antonutto at arup.com  Thu Jul 22 16:55:32 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu Jul 22 16:55:40 2004
Subject: [Radiance-general] radzilla again
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF6FB@l-gnts05>

I did a speed check for radzilla.
it appears to be 2.5 times slower that the default radiance 3.6.
I wonder if it depends on the default settings? 
thanks,
giulio

-----Original Message-----
From: cbauer-@t-online.de [mailto:cbauer-@t-online.de]
Sent: 22 July 2004 14:30
To: Radiance general discussion
Subject: [Radiance-general] radzilla again


Hi all,

just some short hints:

- stupid, but true :-) :-), in the original release I forgot to remove 
some object modules in the /util directory. I've already fixed this in 
the package. So if you want ot compile radzilla on non-Linux OS es, 
issue a rm *.o in the /util directory first

I've heard rumours mention that then the stuff also compiles and runs on 
MacOSX..

- a bug in the rzvu view input diaologue has been fixed, too

To bother the list no longer, I've set up an update page in the download 
section of the radzilla site, which serves to collect the most recent 
info and bugfixes/updates

Thanx to Jeffey McGrew and Giulio Antonutto for the the first feedback, 
compile tests and bugreports !!

-so long
Carsten


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From Giulio.Antonutto at arup.com  Thu Jul 22 17:46:34 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu Jul 22 17:46:42 2004
Subject: [Radiance-general] radzilla again
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF6FF@l-gnts05>

I just want to add few things to my last and unlucky email about radzilla:
1 - it works also on macosX
2 - is great to have pmap and all the other new things into radiance!
3 - there are new primitives to explore!
4 - there are new optimizations to explore (direct catching, light
instancing...)!

thanks carsten for your super work!
thanks,
giulio



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of Giulio
Antonutto
Sent: 22 July 2004 15:56
To: 'Radiance general discussion'
Subject: RE: [Radiance-general] radzilla again


I did a speed check for radzilla.
it appears to be 2.5 times slower that the default radiance 3.6.
I wonder if it depends on the default settings? 
thanks,
giulio

-----Original Message-----
From: cbauer-@t-online.de [mailto:cbauer-@t-online.de]
Sent: 22 July 2004 14:30
To: Radiance general discussion
Subject: [Radiance-general] radzilla again


Hi all,

just some short hints:

- stupid, but true :-) :-), in the original release I forgot to remove 
some object modules in the /util directory. I've already fixed this in 
the package. So if you want ot compile radzilla on non-Linux OS es, 
issue a rm *.o in the /util directory first

I've heard rumours mention that then the stuff also compiles and runs on 
MacOSX..

- a bug in the rzvu view input diaologue has been fixed, too

To bother the list no longer, I've set up an update page in the download 
section of the radzilla site, which serves to collect the most recent 
info and bugfixes/updates

Thanx to Jeffey McGrew and Giulio Antonutto for the the first feedback, 
compile tests and bugreports !!

-so long
Carsten


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From grobe at gmx.net  Thu Jul 22 17:49:46 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Jul 22 17:49:15 2004
Subject: [Radiance-general] radzilla again
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90FAF6FF@l-gnts05>
Message-ID: <C178E7B9-DBF6-11D8-9FD6-000A959DDB22@gmx.net>

> 1 - it works also on macosX
> 2 - is great to have pmap and all the other new things into radiance!

This is the magic combination why I want to try it out right now ;-) 
Thanks Lars
--
Lars O. Grobe
grobe@gmx.net


From Rob.Fitzsimmons at Summit.Fiserv.com  Thu Jul 22 21:25:12 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Thu Jul 22 21:25:53 2004
Subject: [Radiance-general] images for mapping
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D695A0@corvallis>

As a rule, should texturemaps have high dynamic ranges?
When I've mapped pics to geomtery, I just take my source tif and ra_tiff -r
to a pic.
Since it started as an 8 bits/channel tiff, the pic would not have any HDR
info. 
Is that the best way to create/use maps? 
I would think taking bracketed photos and creating a HDR texturemap would
include more ambient characteristics then the surface itself, and thus not
be viable for mapping.

Just curious
Rob F


From gward at lmi.net  Thu Jul 22 23:08:30 2004
From: gward at lmi.net (Greg Ward)
Date: Thu Jul 22 23:09:30 2004
Subject: [Radiance-general] images for mapping
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D695A0@corvallis>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D695A0@corvallis>
Message-ID: <486D2685-DC23-11D8-9C6A-000A95BB392A@lmi.net>

Hi Rob,

You raise an interesting question.  Since a modifier generally affects 
the material reflectance or transmittance, values in a pattern above 
1/reflectance (or 1/transmittance) are not physically valid.  However, 
they may be useful when representing an object that includes luminous 
elements, such as a panel display, or one that contains diffuse and 
specular materials, which you are not modeling separately.  In other 
words, the surface may appear to "create light" either due to specular 
reflections, or due to actual emitting elements.  The stickler in me 
says you need to model these as separate materials, but as a practical 
matter, it is usually easier to "cheat" and do it with an HDR pattern.  
The results won't be exactly right, but they'll be better than 
truncating the highlights and pasting the pattern on a diffuse surface.

As for the lower end of the dynamic range, real objects don't get much 
below 1% reflectance, so you don't really need HDR to represent the 
deep blacks.  The standard image range will do.  Of course, you must 
convert this as you say to HDR format for Radiance, but doing so with 
ra_tiff -r from a 24-bit RGB file should work fine.

True HDR patterns are perfectly appropriate for modifying glow sources, 
such as the sky.  Jessi Stumpfel et al. have a paper on HDR capture of 
the sun annd sky, which will be presented at the Afrigraph conference 
this November.  For more info, check Paul Debevec's website:

	http://www.debevec.org/Publications/

I hope this is of use.
-Greg

> From: "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>
> Date: July 22, 2004 12:25:12 PM PDT
>
> As a rule, should texturemaps have high dynamic ranges?
> When I've mapped pics to geomtery, I just take my source tif and 
> ra_tiff -r
> to a pic.
> Since it started as an 8 bits/channel tiff, the pic would not have any 
> HDR
> info.
> Is that the best way to create/use maps?
> I would think taking bracketed photos and creating a HDR texturemap 
> would
> include more ambient characteristics then the surface itself, and thus 
> not
> be viable for mapping.
>
> Just curious
> Rob F


From rpg at rumblestrip.org  Thu Jul 22 23:46:08 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Jul 22 23:44:05 2004
Subject: [Radiance-general] Default window size for rvu?
Message-ID: <410035A0.20304@rumblestrip.org>

Silly question, but I can't figure this out!

Some time ago, all of a sudden, whenever I load a model in rvu, the 
window starts out very small, like 200px square.  I can resize the 
window, but usually I have to type 'new' a couple times and drag the 
window while I'm doing it to "force" the redraw to take up the larger, 
resized window.  The window used to seem to default to around 512px or 
so.  Dunno what I did to make it load differently now, and for the life 
of me I can't figure out where a default like this would be stored.

As they say, what's up with that?

This is happening on a Fedora Core 1 machine, running the xfce window 
manager.  Happens on Gnome & KDE too though.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From cbauer- at t-online.de  Fri Jul 23 16:40:48 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Fri Jul 23 15:32:30 2004
Subject: [Radiance-general] Default window size for rvu?
References: <410035A0.20304@rumblestrip.org>
Message-ID: <41012370.5070604@t-online.de>

Hi Rob,

classic Radiance rvu has to content itself which the values the X server 
is offering to it, so the reason for this effect lies outside of Radiance.

I once made an attempt to find out how the X server handles the window 
startup and determines sizes, but I didn't get far ...

-cb





From MdelaFuente at wmtao.com  Fri Jul 23 15:45:56 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Fri Jul 23 15:46:40 2004
Subject: [Radiance-general] Falsecolor
Message-ID: <s100d05e.035@wmtao.com>

Hi group,  This should be a simple one...
 
When computing a falsecolor image from an irradiance pic...  What is
the image displaying?   :)
 
Illuminance perpendicular to the surface?  Or are these some sort of
averaged illuminances? 
 
Thanks,  Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040723/d1c56cc6/attachment.htm
From rpg at rumblestrip.org  Fri Jul 23 16:00:00 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri Jul 23 15:58:13 2004
Subject: [Radiance-general] Falsecolor
In-Reply-To: <s100d05e.035@wmtao.com>
References: <s100d05e.035@wmtao.com>
Message-ID: <410119E0.9030305@rumblestrip.org>

Mark de la Fuente wrote:

> Hi group,  This should be a simple one...

It is, therefore I can answer it.  (albeit simply, others could 
elaborate...)

> When computing a falsecolor image from an irradiance pic...  What is the 
> image displaying?   :)

Assuming you haven't filtered it or multiplied it in some way, a 
standard irradiance pic is showing illuminance, perpendicular to the 
surface, in lux.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From cbauer- at t-online.de  Fri Jul 23 19:35:05 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Fri Jul 23 18:26:50 2004
Subject: [Radiance-general] radzilla again
References: <DC0CAEEA090E984C911D3B85B16C3F90FAF6FB@l-gnts05>
Message-ID: <41014C49.9090805@t-online.de>

Hi,

some words on the speed issue:

Giulios observation is right in principle, currently radzilla is slower 
  than Radiance-HEAD. I have done some checks, too, not very much, though.
If I didn't use special radzilla features I observed factors somewhat 
between 1.3 and 2 so far, interestingly, the more comprehensive the 
scene, the lesser was the noticed slowdown.

there is one main explanation for it:
I noted this in the introduction, I haven't yet implemented the 
'obstructor cache', which is present in the current Radiance-HEAD and 
can in principle -if I still remember Gregs announcing mail right - 
speed up rendering up to roughly a factor of 2.

I want to rewrite the direct cache which is !! NOT !! yet present in 
radzilla, I might implement both, Gregs obstructor cache and the (not 
100% scientifically exact, but yet quicker) direct cache, and allow 
switching  by a compile time flag or so. Will be coming soon ..

Generally, everything depends a lot on the scene itself, and especially 
for complex scenes this still missing point can already now be 
outweighed by the other features.

There are of course other points which affect the rendering time, 
although on a much lesser scale (i.e the use of pure MonteCarlo random 
numbers instead of the QuasiMC ones, or the C++ vs. C issue)

Now that the stuff is out this all can be checked and then of course 
lead to further optimization (hopefully :-) ..)

-Carsten






From marcdevon at hotmail.com  Sat Jul 24 00:40:06 2004
From: marcdevon at hotmail.com (Marcus Jacobs)
Date: Sat Jul 24 00:40:16 2004
Subject: [Radiance-general] macbethcal eror message
Message-ID: <BAY2-F10wWJv3zOdnjQ00006a41@hotmail.com>

Dear Group

I am in the process of trying to use macbethcal. I try to use it for an 
image map that I have. I do the following:

macbethcal -d debug.pic woodfloor3.pic woodfloor3.cal


As a result, I receive the following error message:

macbethcal: too few colors to match!


Can any explain this error message to me? Also, I would like to know why it 
is advantageous to use this program for images I have converted from file 
formats.



Regards,

Marcus D. Jacobs

_________________________________________________________________
MSN Toolbar provides one-click access to Hotmail from any Web page  FREE 
download! http://toolbar.msn.click-url.com/go/onm00200413ave/direct/01/


From gward at lmi.net  Sat Jul 24 04:39:24 2004
From: gward at lmi.net (Greg Ward)
Date: Sat Jul 24 04:40:28 2004
Subject: [Radiance-general] macbethcal eror message
In-Reply-To: <BAY2-F10wWJv3zOdnjQ00006a41@hotmail.com>
References: <BAY2-F10wWJv3zOdnjQ00006a41@hotmail.com>
Message-ID: <AC7F0C24-DD1A-11D8-ADA2-000A95BB392A@lmi.net>

Hi Marcus,

You need to read the man page for macbethcal more carefully, I think.  
Input to it is a scan or capture of a Macbeth chart.  If you don't have 
a Macbeth chart, then you cannot use this program.  Macbeth 
ColorChecker charts are available from most high-end photography supply 
stores.

The advantage to using macbethcal is that it can improve the color and 
reflectance accuracy of your scanned textures.

-Greg

> From: "Marcus Jacobs" <marcdevon@hotmail.com>
> Date: July 23, 2004 3:40:06 PM PDT
>
> Dear Group
>
> I am in the process of trying to use macbethcal. I try to use it for 
> an image map that I have. I do the following:
>
> macbethcal -d debug.pic woodfloor3.pic woodfloor3.cal
>
>
> As a result, I receive the following error message:
>
> macbethcal: too few colors to match!
>
>
> Can any explain this error message to me? Also, I would like to know 
> why it is advantageous to use this program for images I have converted 
> from file formats.
>
>
>
> Regards,
>
> Marcus D. Jacobs


From MdelaFuente at wmtao.com  Sat Jul 24 17:41:21 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Sat Jul 24 17:42:03 2004
Subject: [Radiance-general] Falsecolor
Message-ID: <s1023ce4.006@wmtao.com>

Thanks Rob.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040724/da0e4297/attachment.html
From s0343631 at sms.ed.ac.uk  Sun Jul 25 16:36:07 2004
From: s0343631 at sms.ed.ac.uk (O Graf)
Date: Sun Jul 25 16:36:14 2004
Subject: [Radiance-general] octree size
Message-ID: <1090766167.4103c557ee08c@sms.ed.ac.uk>

Hello!

I am trying to visualise a point set from a laser scan using rholo command. To
keep the conversion to RADIANCE-format easier i created a .rad-file with small
spheres for each point to represent the original file. But as far as i know i
have to create an octree first, before running the actual rholo command. And
exactly this is my problem. Because I am working on a university computer,
memory used for calculations is restricted and the oconv process gets killed
after a couple of minutes each time I try to run it. The resulting .oct-file is
empty. The original point set is a file with a bit more than 200Mb. If i convert
each point in this file to a sphere, the resulting .rad-file is about 500Mb.
After the octree calculation for this 500Mb file failed, I reduced the number
of spheres by taking only each 3rd, then 10th, then 20th point. At the moment i
have a .rad-file with 31Mb and the oconv process still gets killed. Now I am
wondering how much memory does each sphere need in an octree? Is there any
approximate rule to calculate the required memory for .oct-files? Or may be
there is another possibility to create a holodeck-file out of my spheres?

Thanks in advance!

Best regards,

Olga

From grobe at gmx.net  Sun Jul 25 17:19:07 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Jul 25 17:18:54 2004
Subject: [Radiance-general] octree size
In-Reply-To: <1090766167.4103c557ee08c@sms.ed.ac.uk>
Message-ID: <F90ADA62-DE4D-11D8-8A37-000A959DDB22@gmx.net>

Hi,

might it help to use boxes instead of spheres? Just to reduce the 
number of faces (and make them bigger)... hmmm... does a sphere take 
more memory in radiance than a box? I guess so, at least it is worth 
trying. Reducing the resolution (-r) should also reduce memory needs, 
depending on your scenes, you get errors doing so. AFAIK (r=resolution 
of oconv, dmax_scene, dmin_scene) the resolution has to be r > 
dmax_scene / dmin_scene, and is preset to 16K at the moment.

CU, Lars.

Lars O. Grobe
grobe@gmx.net


From cbauer- at t-online.de  Sun Jul 25 21:43:31 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Sun Jul 25 20:34:01 2004
Subject: [Radiance-general] octree size
References: <1090766167.4103c557ee08c@sms.ed.ac.uk>
Message-ID: <41040D63.5080809@t-online.de>

Hi,

I think it's not  problem with the spheres (in fact a sphere is probably 
the primitive which uses the least amount of memory among all), but with 
the number of objects in general.

oconv - roughly spoken - inflates itself considerably during octree 
generation, to a far bigger size that the actual octree has in the end, 
when the process is finished.

This inflating can be reduced a bit by using a lower resolution, the 
current default is 16 K as Lars pointed out, you might try running oconv 
-r 8192  ..., if it still doesn't work, try 2048 or even 1024 (I think 
the latter was the default a long, long time ago). But this produces 
greater object sets at the leaves and thus slows down the rendering.

A better way is to divide your input file into separate ones, the sets 
of spheres should be disjoint in space, however, then set up a wrapping 
scene file with simply loads these separate octrees as instances. You 
can also nest instances, i.e. use instances which themselves contain 
instances.

-cb


From cbauer- at t-online.de  Mon Jul 26 02:52:43 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Mon Jul 26 01:44:11 2004
Subject: [Radiance-general] radzilla mailing list
Message-ID: <410455DB.6010902@t-online.de>

Hi all,

Peter offered me to run a Radzilla mailing list on radiance-online, many 
thanx for this !!

The interested can subscribe either from the main radzilla page -jump to 
point 5-Mailing List) or directly via

http://www.radiance-online.org/mailman/listinfo/radzilla

greetings

Carsten


From martin at lichttechnik.co.at  Tue Jul 27 21:47:00 2004
From: martin at lichttechnik.co.at (Martin Klingler)
Date: Tue Jul 27 21:47:01 2004
Subject: [Radiance-general] Radiance interface for MAX/VIZ
References: <mailman.0.1090955678.17334.radiance-general@radiance-online.org>
Message-ID: <135FAB79-D551-49C9-AB9C8798AD54D989@UTA-Mail>

Hi,

quite a long time ago I announced on that list our project to develop an interface to Radiance for Autodesk MAX and VIZ. Now we have our first final release and I would like to invent everybody on that list to have a look on the following site www.lichtplaner.com.
Beside that plugin there is also a windows compilation of the Radiance 3.5 source available.
Any comments are very welcome and I am happy to answer any questions about the products.

Best regards
Martin
----------------------------------------------------------------
Lichttechnik Martin Klingler
Spraidt 7
5271 Moosbach
AUSTRIA
Tel ++43-7724-443833
Fax ++43-7724-443838
email martin@lichttechnik.co.at
From gward at lmi.net  Tue Jul 27 22:24:12 2004
From: gward at lmi.net (Greg Ward)
Date: Tue Jul 27 22:24:24 2004
Subject: [Radiance-general] Radiance interface for MAX/VIZ
In-Reply-To: <135FAB79-D551-49C9-AB9C8798AD54D989@UTA-Mail>
References: <mailman.0.1090955678.17334.radiance-general@radiance-online.org>
	<135FAB79-D551-49C9-AB9C8798AD54D989@UTA-Mail>
Message-ID: <EBFAE846-E00A-11D8-B5FD-000A95BB392A@lmi.net>

Hi Martin,

This is very cool.  I hope you or someone from your company can come to  
the Radiance workshop in October to present this work!

-Greg

> From: Martin Klingler <martin@lichttechnik.co.at>
> Date: July 27, 2004 12:47:00 PM PDT
>
> Hi,
>
> quite a long time ago I announced on that list our project to develop  
> an interface to Radiance for Autodesk MAX and VIZ. Now we have our  
> first final release and I would like to invent everybody on that list  
> to have a look on the following site www.lichtplaner.com.
> Beside that plugin there is also a windows compilation of the Radiance  
> 3.5 source available.
> Any comments are very welcome and I am happy to answer any questions  
> about the products.
>
> Best regards
> Martin
> ----------------------------------------------------------------
> Lichttechnik Martin Klingler
> Spraidt 7
> 5271 Moosbach
> AUSTRIA
> Tel ++43-7724-443833
> Fax ++43-7724-443838
> email  
> martin@lichttechnik.co.at______________________________________________ 
> _
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From MdelaFuente at wmtao.com  Thu Jul 29 16:36:40 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Thu Jul 29 16:37:09 2004
Subject: [Radiance-general] Illum rules of thumb
Message-ID: <s108c535.092@wmtao.com>

Hi group.
 
What are good rules of thumb regarding illum creations?  It seems
triangular illums are not good for some reason.  Long polygons are not
good.  (How do you define long?  Aspect ratio not to exceed?)  Large
polygons are not good.  (How "large" is too large?)
 
I'm looking at studying a building with a lot of odd exterior glazing
where I will need to be very creative making my illums.  In this case I
think I will be forced to create my illums outside the building... which
I don't think is ideal since it avoids some issues only to create
others...
 
Well thanks for any information.
 
Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040729/e289ab53/attachment.htm
From grobe at gmx.net  Thu Jul 29 18:28:25 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Jul 29 18:35:03 2004
Subject: [Radiance-general] Illum rules of thumb
In-Reply-To: <s108c535.092@wmtao.com>
Message-ID: <50A4B218-E17C-11D8-9356-000A959DDB22@gmx.net>

> I'm looking at studying a building with a lot of odd exterior glazing 
> where I will need to be very creative making my illums.? In this case 
> I think I will be forced to create my illums outside the building... 
> which I don't think is ideal since it avoids some issues only to 
> create others...
>

Why do you want to create the illums outside?

CU Lars.
--
Lars O. Grobe
grobe@gmx.net

From MdelaFuente at wmtao.com  Fri Jul 30 15:56:24 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Fri Jul 30 15:56:52 2004
Subject: [Radiance-general] Re: Illum rules of thumb
Message-ID: <s10a0d46.037@wmtao.com>

Lars,
 
I wish I could attach images, as perhaps there is another way to do
this.  But the reason for the exterior illums is that the interior
architecture follows the windows, forcing me to use triangular illums at
some point if I am to seal each opening.  (window panes are not
rectangular either)  Or each opening can be sealed from the outside.
 
Mark
 

------------------------------

Message: 2
Date: Thu, 29 Jul 2004 19:28:25 +0300
From: Lars O. Grobe <grobe@gmx.net>
Subject: Re: [Radiance-general] Illum rules of thumb
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <50A4B218-E17C-11D8-9356-000A959DDB22@gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

> I'm looking at studying a building with a lot of odd exterior glazing

> where I will need to be very creative making my illums.  In this case

> I think I will be forced to create my illums outside the building...

> which I don't think is ideal since it avoids some issues only to 
> create others...
>

Why do you want to create the illums outside?

CU Lars.
--
Lars O. Grobe
grobe@gmx.net



------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 5, Issue 26
***********************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040730/69b8d088/attachment.html
From rpg at rumblestrip.org  Fri Jul 30 16:17:44 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri Jul 30 16:15:46 2004
Subject: [Radiance-general] Re: Illum rules of thumb
In-Reply-To: <s10a0d46.037@wmtao.com>
References: <s10a0d46.037@wmtao.com>
Message-ID: <410A5888.9010300@rumblestrip.org>

Mark de la Fuente wrote:
> Lars,
>  
> I wish I could attach images, as perhaps there is another way to do 
> this.  But the reason for the exterior illums is that the interior 
> architecture follows the windows, forcing me to use triangular illums at 
> some point if I am to seal each opening.  (window panes are not 
> rectangular either)  Or each opening can be sealed from the outside.

Hi Mark,

Yeah, triangular polygons are not a good fit with mkillum, because of 
the way source sampling works.  The triangular polygons are usually the 
source of the "aiming failure" errors seen when running mkillum.   The 
best explanation is of course in the Rendering with Radiance text.  Do 
you have a copy?  If so, this problem is addressed on pg 577.

Your building seems a challenge for mkillum.  Are you trying to create 
pretty pictures, or get some illuminance data at points?  If the former, 
it may still be worth the effort to try and seal your opening -- from 
the inside -- with a combination of polygons less likely to generate 
failures.  If the latter, it's probably best to simply crank up the 
ambient calculation parameters, and wait it out.  (This method could 
also be used for pretty picture generation, but now you're talking about 
*really* waiting...

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From MdelaFuente at wmtao.com  Fri Jul 30 22:25:00 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Fri Jul 30 22:26:10 2004
Subject: [Radiance-general] illum rules of thumb
Message-ID: <s10a6877.029@wmtao.com>

I'm after both.  (Renderings and falsecolor images mostly, but rtrace
calcs as well).  Not sure I understand why it's such a bad idea to place
an illum plane on the outside of a window.  (I am not using my glass as
the illum planes).  Guess I'm going to have to try out a few test case
scenarios and see what seems to work better before running the real
thing.
 
Mark
 
 
Mark de la Fuente wrote:
> Lars,
>  
> I wish I could attach images, as perhaps there is another way to do 
> this.  But the reason for the exterior illums is that the interior 
> architecture follows the windows, forcing me to use triangular illums
at 
> some point if I am to seal each opening.  (window panes are not 
> rectangular either)  Or each opening can be sealed from the outside.

Hi Mark,

Yeah, triangular polygons are not a good fit with mkillum, because of 
the way source sampling works.  The triangular polygons are usually the

source of the "aiming failure" errors seen when running mkillum.   The

best explanation is of course in the Rendering with Radiance text.  Do

you have a copy?  If so, this problem is addressed on pg 577.

Your building seems a challenge for mkillum.  Are you trying to create

pretty pictures, or get some illuminance data at points?  If the
former, 
it may still be worth the effort to try and seal your opening -- from 
the inside -- with a combination of polygons less likely to generate 
failures.  If the latter, it's probably best to simply crank up the 
ambient calculation parameters, and wait it out.  (This method could 
also be used for pretty picture generation, but now you're talking
about 
*really* waiting...

----

      Rob Guglielmetti

e. rpg at rumblestrip.org
w. www.rumblestrip.org


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040730/70678203/attachment.htm
From grobe at gmx.net  Sat Jul 31 11:57:57 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat Jul 31 11:57:27 2004
Subject: [Radiance-general] illum rules of thumb
In-Reply-To: <s10a6877.029@wmtao.com>
Message-ID: <1948E384-E2D8-11D8-8307-000A959DDB22@gmx.net>


Am Freitag, 30.07.04 um 23:25 Uhr schrieb Mark de la Fuente:

> I'm after both.? (Renderings and falsecolor images mostly, but rtrace 
> calcs as well).? Not sure I understand why it's such a bad idea to 
> place an illum?plane on the outside of a window.? (I am not using my 
> glass as the illum planes).? Guess I'm going to have to try out a few 
> test case scenarios and see what seems to work better before running 
> the real thing.
> ?
> Mark

Hi Mark,

in short, the illums help you to reduce the errors which are caused 
when the ambient calculation sends out its random samples. If the 
lightsource (or illum) is outside, than the geometry between the source 
(or illum) will still cause errors. You can answer this by either 
setting the ambient paramters higher (so that every detail of your 
geometry is hit, which is very slow) or place the illum on the inside.

You might try to break down your illum panes into smaller surfaces. 
Don't use too much, as this will also slow down calculation, but maybe 
if you divide each face into some smaller faces, you can use rectangles?

As Rob said, if you can take a look at the chapter in "Rendering with 
Radiance", that might explain a lot.

Good luck, Lars.
--
Lars O. Grobe
grobe@gmx.net


--
Lars O. Grobe, grobe@gmx.net, ++90-212-2458330

Kardesler Apartment, Turnacibasi Sokak 28
Galatasaray - Beyoglu, 34433 Istanbul

From schorsch at schorsch.com  Sat Jul 31 13:35:06 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Sat Jul 31 13:35:16 2004
Subject: [Radiance-general] illum rules of thumb
In-Reply-To: <s10a6877.029@wmtao.com>
References: <s10a6877.029@wmtao.com>
Message-ID: <Pine.BSF.4.58.0407310711400.54002@emancholl.pair.com>

Mark de la Fuente wrote:

> I'm after both.  (Renderings and falsecolor images mostly, but rtrace
> calcs as well).  Not sure I understand why it's such a bad idea to place
> an illum plane on the outside of a window.

Neither do I... ;)

If you have windows with lots of subdividing geometry, then in
most cases the optimal solution is to turn each subpane into an
illum. In cases where this would create too many illums, or
illums with very non-rectangular shapes, it may be better to
place a big illum on the inside *or* the outside of the windows.
None of the two positions is inherently better or worse than the
other.

Advantages inside:
- Internal rays will hit the illum directly, which improves speed
  and smoothness of the rendering.
- You can make one or several illums per opening, depending on
  how close it is to any other geometry (the farther away the
  other geometry is, the larger the illum can be)
Disadvantages inside:
- Some of the rays cast by mkillum will hit your window geometry.
  Depending on the number of sampling positions (s=) and the type
  of geometry, this may negatively affect the accuracy (more or
  less rays may hit window geometry than statistically justified).
  Since the sampling positions are determined at random, this
  effect is hard to predict, let alone to correct. The need to go
  through the window geometry will also slow down mkillum to some
  degree.

Advantages outside:
- Since there is no obstruction by the window geometry, the
  values generated by mkillum will be very accurate, and the
  speed of the mkillum runs will only be determined by the
  complexity of your exterior scene.
- You can make one or several illums per opening, depending on
  external obstruction. If one part of an opening is shaded eg.
  by a tree, you can make that part an extra illum, which avoids
  averaging between areas of different illuminance.
Disadvantages outside:
- Direct sampling from the inside will have to get past the
  window geometry to hit the illums. This can affect both
  rendering speed and accuracy. You can improve the accuracy by
  suitable values for -ds and -dj (you should set those anyway
  when using illums). You can also subdivide your illums in a way
  that makes it more likely that their centers will be close to a
  clear part of your window geometry.

Considering all that, I wouldn't hesitate at all to place your
illum surfaces outside in your situation.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From grobe at gmx.net  Sat Jul 31 13:49:11 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat Jul 31 13:50:03 2004
Subject: [Radiance-general] illum rules of thumb
In-Reply-To: <Pine.BSF.4.58.0407310711400.54002@emancholl.pair.com>
Message-ID: <A34E09CC-E2E7-11D8-A4F1-000A959DDB22@gmx.net>

Hi!

> Disadvantages outside:
> - Direct sampling from the inside will have to get past the
>   window geometry to hit the illums. This can affect both
>   rendering speed and accuracy. You can improve the accuracy by
>   suitable values for -ds and -dj (you should set those anyway
>   when using illums). You can also subdivide your illums in a way
>   that makes it more likely that their centers will be close to a
>   clear part of your window geometry.

But what about the indirect calculation? As far as I understood, it is 
one of the main reasons to use illum surfaces at the windows to reduce 
the errors caused by the ambient calculation, which can cause visible 
artifacts. And this problem could still arise if the illum is placed 
outside. Am I wrong here?

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From schorsch at schorsch.com  Sat Jul 31 14:38:28 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Sat Jul 31 14:38:34 2004
Subject: [Radiance-general] illum rules of thumb
In-Reply-To: <A34E09CC-E2E7-11D8-A4F1-000A959DDB22@gmx.net>
References: <A34E09CC-E2E7-11D8-A4F1-000A959DDB22@gmx.net>
Message-ID: <Pine.BSF.4.58.0407310815150.54002@emancholl.pair.com>

Lars O. Grobe wrote:

> Hi!
>
> > Disadvantages outside:
> > - Direct sampling from the inside will have to get past the
> >   window geometry to hit the illums. This can affect both
> >   rendering speed and accuracy. You can improve the accuracy by
> >   suitable values for -ds and -dj (you should set those anyway
> >   when using illums). You can also subdivide your illums in a way
> >   that makes it more likely that their centers will be close to a
> >   clear part of your window geometry.
>
> But what about the indirect calculation? As far as I understood, it is
> one of the main reasons to use illum surfaces at the windows to reduce
> the errors caused by the ambient calculation, which can cause visible
> artifacts. And this problem could still arise if the illum is placed
> outside. Am I wrong here?


The purpose of mkillum is to reduce the calculation required
outside your space. Reducing artifacts is a secondary effect.
It happens because the illum surface averages the large variety
of luminances found outside. Window geometry between the space
and the illum may have some adverse effect, but it should be
minor in comparison to the improvements mkillum gives you in
either case.

As always, need to weight the pros and cons in the context of
your actual scene.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

