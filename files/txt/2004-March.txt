From whollycow at mac.com  Mon Mar  1 02:03:58 2004
From: whollycow at mac.com (John An)
Date: Mon Mar  1 02:03:30 2004
Subject: [Radiance-general] mixfunc for dichroic film?
Message-ID: <52089F62-6B1C-11D8-8BB7-000A95871DF2@mac.com>

Hi all,

I have a somewhat complex problem defining a material.  With the 
introduction of "smart" materials (that are able to exhibit different 
behavior under different conditions) into the architectural context, 
I'd like to experiment with defining such a material.  The mixfunc 
material seems promising in that it allows one surface to display two 
different behaviors.  What I would like to achieve is to use an 
"if-then" condition to determine which of the two material properties 
should be exhibited in the rendering.  More specifically, I'd like to 
define two different behaviors (rgb, reflectance, and transmittance), 
and use mixfunc to determine which one of the two behaviors will be 
used for the rendering (on a each pixel) along the surface depending 
on,
1. the angle of the light ray from the point of view to the surface 
normal; and
2. the angle of the light ray from the light source to the surface 
normal

If this is possible, then would it be possible to eventually define 
more than two behaviors (by modifying a mixfunc with another mixfunc) 
to get a more gradual gradient between the different behaviors?

Thanks.


John An


From jedev at visarc.com  Mon Mar  1 02:54:50 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Mar  1 02:55:07 2004
Subject: [Radiance-general] mixfunc for dichroic film?
In-Reply-To: <52089F62-6B1C-11D8-8BB7-000A95871DF2@mac.com>
References: <52089F62-6B1C-11D8-8BB7-000A95871DF2@mac.com>
Message-ID: <404297EA.5040103@visarc.com>

Hi John,

More likely you will want to look into the BRTDfunc material type which 
would allow for this type of control of material reflectance and 
transmittance. Also, it would be worth searching through the mailing 
list archives for "dicrhoic," I am pretty sure that this has been done 
in radiance before, so rather than starting from scratch it would 
obviously be better to see what has already been implemented.

-Jack

John An wrote:

> Hi all,
>
> I have a somewhat complex problem defining a material.  With the 
> introduction of "smart" materials (that are able to exhibit different 
> behavior under different conditions) into the architectural context, 
> I'd like to experiment with defining such a material.  The mixfunc 
> material seems promising in that it allows one surface to display two 
> different behaviors.  What I would like to achieve is to use an 
> "if-then" condition to determine which of the two material properties 
> should be exhibited in the rendering.  More specifically, I'd like to 
> define two different behaviors (rgb, reflectance, and transmittance), 
> and use mixfunc to determine which one of the two behaviors will be 
> used for the rendering (on a each pixel) along the surface depending on,
> 1. the angle of the light ray from the point of view to the surface 
> normal; and
> 2. the angle of the light ray from the light source to the surface normal
>
> If this is possible, then would it be possible to eventually define 
> more than two behaviors (by modifying a mixfunc with another mixfunc) 
> to get a more gradual gradient between the different behaviors?
>
> Thanks.
>
>
> John An
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From whollycow at mac.com  Mon Mar  1 04:30:50 2004
From: whollycow at mac.com (John An)
Date: Mon Mar  1 04:30:16 2004
Subject: [Radiance-general] mixfunc for dichroic film?
Message-ID: <D62FCF27-6B30-11D8-8BB7-000A95871DF2@mac.com>

Jack,

Just the sound of BRDTfunc scared me off.  I'll have to have a closer 
look at this material type.

I apologize for resurrecting a previously discussed topic.  But my 
search ("dichroic," "multiple material," "materials with multiple 
properties," etc. on radiance-online, as well as "dichroic brtdfunc" on 
google ) resulted in no useful results (that I found).  Do you have 
some suggestions as to other search terms to find this past discussion?

Thanks for always responding so quickly.


John


From jedev at visarc.com  Mon Mar  1 05:29:09 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Mar  1 05:29:25 2004
Subject: [Radiance-general] mixfunc for dichroic film?
In-Reply-To: <D62FCF27-6B30-11D8-8BB7-000A95871DF2@mac.com>
References: <D62FCF27-6B30-11D8-8BB7-000A95871DF2@mac.com>
Message-ID: <4042BC15.2060506@visarc.com>

Hey John,

My apologies, although I seem to remember somebody somewhere talking 
about dichoic glazing in radiance (albeit a long time ago), after having 
followed my own advice to check in the archives, I have not been able to 
find anything. In any event, I think that something like BRTDfunc or 
perhaps transfunc will do what you want. Do you have any performance 
data that you can share so people can get a better sense of the 
performance characteristics of the material.

-Jack

John An wrote:

> Jack,
>
> Just the sound of BRDTfunc scared me off.  I'll have to have a closer 
> look at this material type.
>
> I apologize for resurrecting a previously discussed topic.  But my 
> search ("dichroic," "multiple material," "materials with multiple 
> properties," etc. on radiance-online, as well as "dichroic brtdfunc" 
> on google ) resulted in no useful results (that I found).  Do you have 
> some suggestions as to other search terms to find this past discussion?
>
> Thanks for always responding so quickly.
>
>
> John
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> .
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From gward at lmi.net  Mon Mar  1 18:09:38 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Mar  1 18:10:25 2004
Subject: [Radiance-general] mixfunc for dichroic film?
In-Reply-To: <52089F62-6B1C-11D8-8BB7-000A95871DF2@mac.com>
References: <52089F62-6B1C-11D8-8BB7-000A95871DF2@mac.com>
Message-ID: <388CA808-6BA3-11D8-A844-000A95BB392A@lmi.net>

Hi John,

Another argument for using the BRTDfunc or transfunc types is that they 
don't require new ray evaluations for each new material type, which is 
a penalty you pay when you blend materials with a mixfunc.  Although it 
is tempting, you really should avoid using mixfunc with materials 
unless there really is no other way.  Originally, mixfunc would only 
blend patterns and textures, and this is still its primary purpose.  
However, using mixfunc as a this-or-that switch with materials doesn't 
incur the same penalty as smoothly blending them, because only one or 
the other material is ever evaluated.  If one of the materials is 
"void," you can get a kind of selective absence of a surface, which can 
be useful for screen doors, gratings, etc.

I'm not familiar with dichroic materials in an architectural context.  
Can you be more specific as to the behavior you wish to simulate?

-Greg


From Giulio.Antonutto at arup.com  Mon Mar  1 18:21:32 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Mon Mar  1 18:21:43 2004
Subject: [Radiance-general] mixfunc for dichroic film?
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF291@l-gnts05>

I tried simulating caustics in Radiance classic (3.6a) by using mixfunc
(mirror + plastic with pattern)
I realized that Radiance does not look for virtual sources into mixed
definitions:
could you confirm that?

cheers,

giulio


PS sorry for the slightly different topic, it is just another mix-question
to add...



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of Greg
Ward
Sent: 01 March 2004 17:10
To: Radiance general discussion
Subject: Re: [Radiance-general] mixfunc for dichroic film?


Hi John,

Another argument for using the BRTDfunc or transfunc types is that they 
don't require new ray evaluations for each new material type, which is 
a penalty you pay when you blend materials with a mixfunc.  Although it 
is tempting, you really should avoid using mixfunc with materials 
unless there really is no other way.  Originally, mixfunc would only 
blend patterns and textures, and this is still its primary purpose.  
However, using mixfunc as a this-or-that switch with materials doesn't 
incur the same penalty as smoothly blending them, because only one or 
the other material is ever evaluated.  If one of the materials is 
"void," you can get a kind of selective absence of a surface, which can 
be useful for screen doors, gratings, etc.

I'm not familiar with dichroic materials in an architectural context.  
Can you be more specific as to the behavior you wish to simulate?

-Greg


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From gward at lmi.net  Mon Mar  1 18:52:45 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Mar  1 18:53:31 2004
Subject: [Radiance-general] mixfunc for dichroic film?
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90FAF291@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F90FAF291@l-gnts05>
Message-ID: <3ED6E2D8-6BA9-11D8-A844-000A95BB392A@lmi.net>

Hi Guilio,

That is correct -- Radiance only finds virtual source objects using 
mirror or prism material types directly.  It doesn't even look if you 
have a modifier in front of the material in the chain (e.g., you 
reference a pattern before the material).

I recently made a change that allows Radiance to find ordinary sources 
when the source material is further down the modifier chain or 
alias'ed, but I didn't do this for virtual source materials, whose 
surfaces must still be modified directly.  Actually, I should make the 
change so aliases and intervening modifiers work properly with virtual 
source material types -- there's no reason not to.   This still won't 
work for mixtures, in any case.

Mixtures don't make a lot of sense for sources or virtual source 
materials the way Radiance is designed, in my opinion.

-Greg

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: March 1, 2004 9:21:32 AM PST
>
> I tried simulating caustics in Radiance classic (3.6a) by using mixfunc
> (mirror + plastic with pattern)
> I realized that Radiance does not look for virtual sources into mixed
> definitions:
> could you confirm that?
>
> cheers,
>
> giulio
>
>
> PS sorry for the slightly different topic, it is just another 
> mix-question
> to add...
>


From whollycow at mac.com  Mon Mar  1 20:36:56 2004
From: whollycow at mac.com (John An)
Date: Mon Mar  1 20:36:21 2004
Subject: [Radiance-general] Re: BRTDfunc for dichroic film? (was mixfunc for
	dichroic film?)
In-Reply-To: <200403011101.i21B1AUc005769@mac.com>
References: <200403011101.i21B1AUc005769@mac.com>
Message-ID: <CCFB8B12-6BB7-11D8-B023-000A95871DF2@mac.com>

You can download and view an information sheet describing the 
characteristics of a specifically engineered dichroic film at:
http://www.mmm.com/about3M/technologies/lightmgmt/pdf/dfa-50-88.pdf

Basically, the film is spectrally selective, and only transmits light 
at very specific wavelengths, and reflects all other wavelengths as if 
it were a mirror.  Depending on the incident angle of light in 
relationship to the surface, a different wavelength (within the band 
that the film transmits) is transmitted.  For instance, imagine a white 
piece of paper directly below a light source, and you were holding a 
dichroic film between the light and the paper.  As you incline and 
decline the film, the color transmitted through the film changes (in 
the specific example at the url above, from purple to blue to purple).  
Now imagine that you are looking through the film out a window, holding 
the film perpendicular to the direction of view.  As you rotate the 
film about either the z-axis or the y-axis, the scene shifts from 
purple to blue to purple, AND the greater the angle of rotation, the 
more reflective the material appears, until at a certain angle, the 
film behaves almost like a perfect mirror.

Thus, I was hoping that in Radiance (since it is a ray-tracing 
program), information regarding the direction and angle of the light, 
and direction and angle of view is probably already calculated.  If we 
could use this information to determine if-then switches, then a 
material such as dichroic films which exhibit different behavior under 
different conditions could be modeled.

I hope I've been clear.  Any insight into if this would be possible 
using BRTDfunc or mixfunc or any other func would truly be appreciated.


Thanks.


John

ps. Dichroic films are not yet a commonplace architectural material.  
However, the premise behind trying to model this material is to 
speculate and experiment with how such a material could be used 
(whether for aesthetic and/or energy purposes) in an architectural 
context without the expense and cost (time and money) of a full-scale 
mock-up.  Basically, behavior this material exhibits in a scaled 
physical model is not indicative of how it will behave in a real 
environment, and thus Radiance seems to be the perfect tool to explore 
this material.


> Jack de Valpine wrote:

> Message: 5
> Date: Sun, 29 Feb 2004 23:29:09 -0500
> From: Jack de Valpine <jedev@visarc.com>
> Subject: Re: [Radiance-general] mixfunc for dichroic film?
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <4042BC15.2060506@visarc.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> Hey John,
>
> My apologies, although I seem to remember somebody somewhere talking
> about dichoic glazing in radiance (albeit a long time ago), after 
> having
> followed my own advice to check in the archives, I have not been able 
> to
> find anything. In any event, I think that something like BRTDfunc or
> perhaps transfunc will do what you want. Do you have any performance
> data that you can share so people can get a better sense of the
> performance characteristics of the material.
>
> -Jack
>


From gward at lmi.net  Tue Mar  2 01:59:10 2004
From: gward at lmi.net (Greg Ward)
Date: Tue Mar  2 02:00:07 2004
Subject: [Radiance-general] Re: BRTDfunc for dichroic film? (was mixfunc for
	dichroic film?)
In-Reply-To: <CCFB8B12-6BB7-11D8-B023-000A95871DF2@mac.com>
References: <200403011101.i21B1AUc005769@mac.com>
	<CCFB8B12-6BB7-11D8-B023-000A95871DF2@mac.com>
Message-ID: <D0853C44-6BE4-11D8-9A95-000A95BB392A@lmi.net>

Hi John,

Judging from what you've said and the spec. sheet for dichroic film, 
the BRTDfunc seems to be your best bet.  You can vary reflectance with 
angle and wavelength (RGB color) using any function or data you have.  
Since we're just talking about the mirror and transmitted directions, 
the BRTDfunc gives you complete control and should deliver accurate and 
efficient simulations.

-Greg


From Giulio.Antonutto at arup.com  Tue Mar  2 10:13:30 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Tue Mar  2 10:13:51 2004
Subject: [Radiance-general] mixfunc for dichroic film?
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF295@l-gnts05>

well...
the only reason for this mixtures is to create nice cups of tea:
patterns on the porcelain and caustics on the table  ;-))
although this is not a main issue...

cheers again
giulio

-----Original Message-----
From: Greg Ward [mailto:gward@lmi.net]
Sent: 01 March 2004 17:53
To: Radiance general discussion
Subject: Re: [Radiance-general] mixfunc for dichroic film?


Hi Guilio,

That is correct -- Radiance only finds virtual source objects using 
mirror or prism material types directly.  It doesn't even look if you 
have a modifier in front of the material in the chain (e.g., you 
reference a pattern before the material).

I recently made a change that allows Radiance to find ordinary sources 
when the source material is further down the modifier chain or 
alias'ed, but I didn't do this for virtual source materials, whose 
surfaces must still be modified directly.  Actually, I should make the 
change so aliases and intervening modifiers work properly with virtual 
source material types -- there's no reason not to.   This still won't 
work for mixtures, in any case.

Mixtures don't make a lot of sense for sources or virtual source 
materials the way Radiance is designed, in my opinion.

-Greg

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: March 1, 2004 9:21:32 AM PST
>
> I tried simulating caustics in Radiance classic (3.6a) by using mixfunc
> (mirror + plastic with pattern)
> I realized that Radiance does not look for virtual sources into mixed
> definitions:
> could you confirm that?
>
> cheers,
>
> giulio
>
>
> PS sorry for the slightly different topic, it is just another 
> mix-question
> to add...
>


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From Kevin.Womack at arup.com  Tue Mar  2 13:24:42 2004
From: Kevin.Womack at arup.com (Kevin Womack)
Date: Tue Mar  2 13:24:53 2004
Subject: [Radiance-general] RwR
Message-ID: <4046C90882E31449AA6712850E94D69A8CFF41@edints01.global.arup.com>

I am after a copy of Rendering with Radiance. I've seen before a version of
it may become available for $60. Does anyone know where i can get this?

Cheers, kev.



___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From rpg at rumblestrip.org  Tue Mar  2 15:28:31 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Mar  2 15:25:11 2004
Subject: [Radiance-general] RwR
In-Reply-To: <4046C90882E31449AA6712850E94D69A8CFF41@edints01.global.arup.com>
References: <4046C90882E31449AA6712850E94D69A8CFF41@edints01.global.arup.com>
Message-ID: <40449A0F.2080006@rumblestrip.org>

Kevin Womack wrote:
> I am after a copy of Rendering with Radiance. I've seen before a version of
> it may become available for $60. Does anyone know where i can get this?

I believe that's still being finalized, Kevin.  Greg, Rob & Chas had a 
print-on-demand publisher set up but things fell through at the last 
minute as I recall, and they were looking for another provider.  So, 
hopefully you'll be able to get your mitts on a copy Real Soon Now.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From marcdevon at hotmail.com  Tue Mar  2 20:31:17 2004
From: marcdevon at hotmail.com (Marcus Jacobs)
Date: Tue Mar  2 20:31:26 2004
Subject: [Radiance-general] Major Axis definition
Message-ID: <BAY2-F6EZoxckWBd1lz0001cc65@hotmail.com>

Dear Group

I am looking into using tmesh.cal in order to map patterns onto polygons 
with a Radiance converter that I have written. In tmesh.cal, it defines the 
first argument as :

A1 = Major axis (0==X, 1==Y, 2==Z)


I have no clue to exactly what this is. Could anyone *coughGreg* provide an 
explaination of this.


Thanks


Marcus

_________________________________________________________________
FREE pop-up blocking with the new MSN Toolbar – get it now! 
http://clk.atdmt.com/AVE/go/onm00200415ave/direct/01/


From gward at lmi.net  Wed Mar  3 02:58:40 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar  3 03:08:46 2004
Subject: [Radiance-general] Re: Major Axis definition
In-Reply-To: <BAY2-F6EZoxckWBd1lz0001cc65@hotmail.com>
References: <BAY2-F6EZoxckWBd1lz0001cc65@hotmail.com>
Message-ID: <4B12EF2D-6CB6-11D8-9363-000A95BB392A@lmi.net>

Hi Marcus,

The "major axis" is the dominant component in the surface normal vector 
(the axis with the largest absolute value).  Since barycentric 
coordinates are defined in two dimensions, I throw away the major axis 
direction as it is the one most perpendicular to the plane of the 
triangle, and I just use the other two.  This is no less accurate than 
doing a fancy projection and a whole lot cheaper.

The functions defined in tmesh.h and tmesh.c in src/common/ should help 
you out.

-Greg

> From: "Marcus Jacobs" <marcdevon@hotmail.com>
> Date: March 2, 2004 11:31:17 AM PST
>
> Dear Group
>
> I am looking into using tmesh.cal in order to map patterns onto 
> polygons with a Radiance converter that I have written. In tmesh.cal, 
> it defines the first argument as :
>
> A1 = Major axis (0==X, 1==Y, 2==Z)
>
>
> I have no clue to exactly what this is. Could anyone *coughGreg* 
> provide an explaination of this.
>
>
> Thanks
>
>
> Marcus


From erik.morel at student.denayer.wenk.be  Thu Mar  4 11:12:41 2004
From: erik.morel at student.denayer.wenk.be (erik.morel@student.denayer.wenk.be)
Date: Thu Mar  4 11:12:45 2004
Subject: [Radiance-general] Legend falsecolor?
Message-ID: <1078395161.404701194c0a4@webmail.denayer.wenk.be>

Hi,

We are 2 students structural engineer from Belgium.  
We have a question about falsecolor.  We have to make a simulation of skies.  
Therefore we have to put several skies together (without the legend) to make 
this simulation.  Is there anyway to create a pic-file with falsecolor without 
a legend?

Thanks for your time.

Kind regards

Katrien Smets
Erik Morel

katrien.smets@student.denayer.wenk.be
erik.morel@student.denayer.wenk.be

--------------------------------------------------------------------------
Gestuurd via het webmailsysteem van het De Nayer Instituut: www.denayer.be


From gward at lmi.net  Thu Mar  4 16:15:04 2004
From: gward at lmi.net (Greg Ward)
Date: Thu Mar  4 16:15:52 2004
Subject: [Radiance-general] Legend falsecolor?
In-Reply-To: <1078395161.404701194c0a4@webmail.denayer.wenk.be>
References: <1078395161.404701194c0a4@webmail.denayer.wenk.be>
Message-ID: <B70227BB-6DEE-11D8-808C-000A95BB392A@lmi.net>

I often resort to using pcompos to cut off the legend or convert it to 
TIFF and edit it in Photoshop or the like.

Rob Guglielmetti wrote a vartiation that should go into the next 
release that allows one to alter the dimensions of the legend, and I'll 
make sure that it allows zero dimensions to cut it off.

-Greg

> From: erik.morel@student.denayer.wenk.be
> Date: March 4, 2004 2:12:41 AM PST
>
> Hi,
>
> We are 2 students structural engineer from Belgium.
> We have a question about falsecolor.  We have to make a simulation of 
> skies.
> Therefore we have to put several skies together (without the legend) 
> to make
> this simulation.  Is there anyway to create a pic-file with falsecolor 
> without
> a legend?
>
> Thanks for your time.
>
> Kind regards
>
> Katrien Smets
> Erik Morel


From apian at pab-opto.de  Thu Mar  4 20:59:09 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Thu Mar  4 21:02:08 2004
Subject: [Radiance-general] Legend falsecolor?
In-Reply-To: <1078395161.404701194c0a4@webmail.denayer.wenk.be>
References: <1078395161.404701194c0a4@webmail.denayer.wenk.be>
Message-ID: <40478A8D.1080600@pab-opto.de>

erik.morel@student.denayer.wenk.be wrote:

...
>this simulation.  Is there anyway to create a pic-file with falsecolor without 
>a legend?
...
>
As a quick workaround and since it's a shell script, you may want to change some lines and the legend is gone:
For those so inclined: remove the references to "$td/scol.pic 0 0 -t .2 $td/slab.pic 0 $loff" in the last lines of falsocolor, so that

if ( $?doextrem ) then
         pextrem -o $picture > $td/extrema
         set minpos=`sed 2d $td/extrema | rcalc -e '$2=$2;$1=$1+'"$legwidth"`
         set minval=`rcalc -e '$1=($3*.27+$4*.67+$5*.06)*'"$mult" $td/extrema | sed -e 2d -e 's/\(\.[0-9][0-9][0-9]\)[0-9]*/\1/'`
         set maxpos=`sed 1d $td/extrema | rcalc -e '$2=$2;$1=$1+'"$legwidth"`
         set maxval=`rcalc -e '$1=($3*.27+$4*.67+$5*.06)*'"$mult" $td/extrema | sed -e 1d -e 's/\(\.[0-9][0-9][0-9]\)[0-9]*/\1/'`
         psign -s -.15 -a 2 -h 16 $minval > $td/minv.pic
         psign -s -.15 -a 2 -h 16 $maxval > $td/maxv.pic
         pcomb $pc0args $pc1args $picture $cpict \
                 | pcompos $td/scol.pic 0 0 -t .2 $td/slab.pic 0 $loff \
                   - $legwidth 0 $td/minv.pic $minpos $td/maxv.pic $maxpos
else
         pcomb $pc0args $pc1args $picture $cpict \
                 | pcompos $td/scol.pic 0 0 -t .2 $td/slab.pic 0 $loff - $legwidth 0
endif

looks like

if ( $?doextrem ) then
         pextrem -o $picture > $td/extrema
         set minpos=`sed 2d $td/extrema | rcalc -e '$2=$2;$1=$1+'"$legwidth"`
         set minval=`rcalc -e '$1=($3*.27+$4*.67+$5*.06)*'"$mult" $td/extrema | sed -e 2d -e 's/\(\.[0-9][0-9][0-9]\)[0-9]*/\1/'`
         set maxpos=`sed 1d $td/extrema | rcalc -e '$2=$2;$1=$1+'"$legwidth"`
         set maxval=`rcalc -e '$1=($3*.27+$4*.67+$5*.06)*'"$mult" $td/extrema | sed -e 1d -e 's/\(\.[0-9][0-9][0-9]\)[0-9]*/\1/'`
         psign -s -.15 -a 2 -h 16 $minval > $td/minv.pic
         psign -s -.15 -a 2 -h 16 $maxval > $td/maxv.pic
         pcomb $pc0args $pc1args $picture $cpict \
                 | pcompos  \
                   - 0 0 $td/minv.pic $minpos $td/maxv.pic $maxpos
else
         pcomb $pc0args $pc1args $picture $cpict
endif

slab.pic contains the labels, scol.pic holds the color background of the legend.
works for me, your mileage may vary.

-Peter

-- 
     pab-opto, Freiburg, Germany, http://www.pab-opto.de
     [see web page to check digital email signature]





-------------- next part --------------
*** /usr/local/radiance/bin/falsecolor	Thu Mar  4 12:12:48 2004
--- /usr/local/radiance/bin/falsecolor.noscale	Thu Mar  4 12:12:56 2004
***************
*** 1,5 ****
! #!/bin/csh -fe
! # RCSid: $Id: falsecolor.csh,v 2.8 2003/02/22 02:07:27 greg Exp $
  #
  # Create false color image with legend
  #
--- 1,5 ----
! #!/bin/csh -f
! # SCCSid "@(#)falsecolor.csh 2.7 9/5/96 LBL"
  #
  # Create false color image with legend
  #
***************
*** 165,175 ****
  	psign -s -.15 -a 2 -h 16 $minval > $td/minv.pic
  	psign -s -.15 -a 2 -h 16 $maxval > $td/maxv.pic
  	pcomb $pc0args $pc1args $picture $cpict \
! 		| pcompos $td/scol.pic 0 0 -t .2 $td/slab.pic 0 $loff \
! 		  - $legwidth 0 $td/minv.pic $minpos $td/maxv.pic $maxpos
  else
! 	pcomb $pc0args $pc1args $picture $cpict \
! 		| pcompos $td/scol.pic 0 0 -t .2 $td/slab.pic 0 $loff - $legwidth 0
  endif
  quit:
  rm -rf $td
--- 165,174 ----
  	psign -s -.15 -a 2 -h 16 $minval > $td/minv.pic
  	psign -s -.15 -a 2 -h 16 $maxval > $td/maxv.pic
  	pcomb $pc0args $pc1args $picture $cpict \
! 		| pcompos  \
! 		  - 0 0 $td/minv.pic $minpos $td/maxv.pic $maxpos
  else
! 	pcomb $pc0args $pc1args $picture $cpict 
  endif
  quit:
  rm -rf $td
From rpg at rumblestrip.org  Fri Mar  5 18:23:33 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri Mar  5 18:20:03 2004
Subject: [Radiance-general] Legend falsecolor?
In-Reply-To: <B70227BB-6DEE-11D8-808C-000A95BB392A@lmi.net>
References: <1078395161.404701194c0a4@webmail.denayer.wenk.be>
	<B70227BB-6DEE-11D8-808C-000A95BB392A@lmi.net>
Message-ID: <4048B795.3070202@rumblestrip.org>

Greg Ward wrote:
> I often resort to using pcompos to cut off the legend or convert it to 
> TIFF and edit it in Photoshop or the like.
> 
> Rob Guglielmetti wrote a vartiation that should go into the next release 
> that allows one to alter the dimensions of the legend, and I'll make 
> sure that it allows zero dimensions to cut it off.

At the moment, with my modified falsecolor script, when we try to use a 
legend width and/or height of zero pcomb complains: "illegal output 
resolution".  For added fun, if we use a value of 1-4 pixels we get the 
following: "system - Out of memory in makemap: No such file or directory".

Using values >= 5 for the legend height and/or width works just fine 
though.  But even with just five pixels there's still a little sliver of 
black along the left edge.  For truly legendless falsecolors, Peter's 
modification is the way to go, or of course Greg's original solution 
works too.

It'd be great if my modifications worked all the way down to zero. 
Maybe we could add a switch to make the legend optional.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From mastersb at conwag.com  Mon Mar  8 05:09:42 2004
From: mastersb at conwag.com (Ben Masters)
Date: Mon Mar  8 05:09:45 2004
Subject: [Radiance-general] Accurate definition of trans material
Message-ID: <OFEA7CE97A.C43191D6-ONCC256E51.0017CF33-CC256A09.0016A0C9@conwag.com>

Just a quick one..

How do I use the trans material properly? It asks for both a colour and a 
transmissivity value. I only have the transmissivity value which is 4.4%. 

I am ignoring specularity and roughness at this stage.

Thanks,

Ben 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040308/4d9f5358/attachment.html
From rpg at rumblestrip.org  Mon Mar  8 17:58:29 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Mar  8 17:54:57 2004
Subject: [Radiance-general] Accurate definition of trans material
In-Reply-To: <OFEA7CE97A.C43191D6-ONCC256E51.0017CF33-CC256A09.0016A0C9@conwag.com>
References: <OFEA7CE97A.C43191D6-ONCC256E51.0017CF33-CC256A09.0016A0C9@conwag.com>
Message-ID: <404CA635.9060308@rumblestrip.org>

Ben Masters wrote:
> 
> Just a quick one..
> 
> How do I use the trans material properly? It asks for both a colour and 
> a transmissivity value. I only have the transmissivity value which is 4.4%.

Welcome to trans, where the fun never ends.  Ben, the trans material is 
one of the more confusing ones in the Radiance suite, I'm afraid.  It 
requires seven different parameters, actually.  Do you have the 
"Rendering with Radiance" text?  There are some excellent formulas in 
there for deriving the seven trans parameters.  Here they are, in case 
you don't have the book:

A7=Ts / ( Td+Ts )
A6=( Td+Ts ) / ( Rd+Td+Ts )
A5=Sr
A4=Rs
A3=Cb / ( (1-Rs)*(1-A6) )
A2=Cg / ( (1-Rs)*(1-A6) )
A1=Cr / ( (1-Rs)*(1-A6) )

Where:
The red, green, and blue reflected components are Cr, Cg, and Cb. The 
photopic average of the RGB is Rd.

Rs = Reflected specularity

Rs = surface roughness

Td = Diffuse transmissivity (fraction of light that passes all the way 
through the surface diffusely).

Ts = Transmitted specularity (fraction of light transmitted as a 
beam?that is, the fraction of light not diffusely scattered).

You need to get the reflectance of your material, or guesstimate the 
value, before you can proceed.  For reference, here are trans values for 
a material that is 20% reflective and 4.4% transmissive, all of the 
transmitted component being diffusely scattered:

A1	0.244000
A2	0.244000
A3	0.244000
A4	0.000000
A5	0.000000
A6	0.180328
A7	0.000000

That was based on the following assumptions:

Diffuse reflectance, RED	Cr	0.200
Diffuse reflectance, GRN	Cg	0.200
Diffuse reflectance, BLU	Cb	0.200
Reflected Specularity		Rs	0.000
Surface Roughness		Sr	0.000
Diffuse Transmissivity		Td	0.044
Transmitted Specularity		Ts	0.000
Photopic Average refl.		Rd	0.200

I hope this helps. (?)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From gward at lmi.net  Mon Mar  8 22:41:41 2004
From: gward at lmi.net (Greg Ward)
Date: Tue Mar  9 00:37:44 2004
Subject: [Radiance-general] Re: Legend falsecolor?
In-Reply-To: <4048B795.3070202@rumblestrip.org>
References: <1078395161.404701194c0a4@webmail.denayer.wenk.be>
	<B70227BB-6DEE-11D8-808C-000A95BB392A@lmi.net>
	<4048B795.3070202@rumblestrip.org>
Message-ID: <6332E124-7149-11D8-9FD0-000A95BB392A@lmi.net>

I finally got around to checking in Rob's change that allows the legend 
size to be controlled in falsecolor.  I made it so setting -lw (or -lh) 
to zero turns legend output off.  This is now in the HEAD release, 
which will be available as a dump the day after tomorrow, I guess.

-Greg

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: March 5, 2004 9:23:33 AM PST
>
> Greg Ward wrote:
>> I often resort to using pcompos to cut off the legend or convert it 
>> to TIFF and edit it in Photoshop or the like.
>> Rob Guglielmetti wrote a vartiation that should go into the next 
>> release that allows one to alter the dimensions of the legend, and 
>> I'll make sure that it allows zero dimensions to cut it off.
>
> At the moment, with my modified falsecolor script, when we try to use 
> a legend width and/or height of zero pcomb complains: "illegal output 
> resolution".  For added fun, if we use a value of 1-4 pixels we get 
> the following: "system - Out of memory in makemap: No such file or 
> directory".
>
> Using values >= 5 for the legend height and/or width works just fine 
> though.  But even with just five pixels there's still a little sliver 
> of black along the left edge.  For truly legendless falsecolors, 
> Peter's modification is the way to go, or of course Greg's original 
> solution works too.
>
> It'd be great if my modifications worked all the way down to zero. 
> Maybe we could add a switch to make the legend optional.


From Tim.Hanson at arup.com  Tue Mar  9 15:26:26 2004
From: Tim.Hanson at arup.com (Tim Hanson)
Date: Tue Mar  9 15:26:36 2004
Subject: [Radiance-general] Accurate definition of trans material
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F902D2110@l-gnts05>

Hi Rob - and others,

Please can you clarify the following re- trans material, as myself and my
colleagues have been arguing over whether to use transmission or
transmissivity for diffuse transmission and/or specular transmission when
setting the parameters for the trans material based on radiance tests.

Do you consider transmissivity of the diffuse transmittance only, and use
the pure transmission of specular component?  The reason I ask is that we
set up a small test which measures the luminance of a trans material and the
overall light transmission through a trans material with different settings.
Using a specular transmission (Rs) of 0.5 (50%) - i.e. not converting to
tranmissivity, and NO diffuse transmission/transmissivity, we get exactly
half the source luminance on the side opposite the light source on the trans
material using rtrace.  i.e. tranmissivity not used for specular component.

Working out the diffuse transmission is a little more tricky, but looking at
the maths behind the settings for the trans material, I don't quite
understand whether transmissivity or transmittance should be used - it
depends on how the internal workings of radiance interprets the parameters
and therefore I can't be sure.

(As I understand, transmissivity is the proportion of light that travels
through the medium before inter-reflection within the medium).

So - the question could be written :

Do I use specular transmission with diffuse transmissivity when setting the
trans parameters?

Also - if transmissivity is used for the transmitted light, why is a factor
(such as transmissivity) not applied to the reflected part also (due to
inter-reflections)?

Thanks for any insight - I know there's been many questions and answers on
this subject, but I'm still confused!

Tim




___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From rpg at rumblestrip.org  Tue Mar  9 16:19:18 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Mar  9 16:15:36 2004
Subject: [Radiance-general] Accurate definition of trans material
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F902D2110@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F902D2110@l-gnts05>
Message-ID: <404DE076.5030905@rumblestrip.org>

Tim Hanson wrote:

> Please can you clarify the following re- trans material...

> Do I use specular transmission with diffuse transmissivity when setting the
> trans parameters?

Hi Tim,

To be honest, the one project I've done so far that made heavy use of 
trans was approached in a different manner.   I took front-side 
illuminance & back-side luminance readings of my samples, shining a 
theatrical spotlight at them.  These numbers were sent to Radiance 
Central High Command (Albany, CA) via secret email address 
(gward@lmi.net), and the Radiance Grand Poobah himself derived proper 
values for trans.  He did this by old-fashioned trial & error, trying 
various trans values and plotting the results against my datasets, 
tweaking until the curves more or less matched up.  I summarized this 
process at radiance-online.org recently, even included sample code that 
Greg used to create the plots.  Here's the post:

http://www.radiance-online.org/pipermail/radiance-general/2004-January/001415.html

I never could get that shell script to work, but the bgraph input file 
works if you feed it directly to bgraph.  That input file also contains 
the Rosetta Stone you're looking for, I think: (excuse the wrapping)

B(x)=Td/PI+Ts/(PI*sq(alpha)*sqrt(cos(theta)*cos(PI/180*x)))*exp(-
sq(tan(PI/180*x-theta)/alpha))

That's where Greg mathematically described the Radiance trans behavior, 
to be overlaid with my dataset from the actual sample measurements.  You 
will see the variables Ts and Td in there; those are Ts & Td from trans. 
  I should add that these samples did not have very much of a specular 
transmitted component. I really don't know if this method would work if 
there is a higher amount of specular transmission...

Hmmm, after all that, I didn't even answer your question!  In essence, 
we worked backwards to arrive at a valid description.  To definitively 
answer your speculodiffusetransmissionivity question will require more 
brain power (cue lights; Chas enters stage left, Schorsch from stage 
right, and Greg arrives, deus ex machina-style, in a large winged 
chariot from above).  =8-)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From Phillip.Greenup at arup.com.au  Tue Mar  9 23:57:59 2004
From: Phillip.Greenup at arup.com.au (Phillip Greenup)
Date: Tue Mar  9 23:59:13 2004
Subject: [Radiance-general] Accurate definition of trans material
Message-ID: <s04ee6e1.052@arup.com.au>

Hi Tim,

I think your answer is transmittance all the way.

If you take a look at the reflection equation, there's a term there for the transmitted indirect component, Tau(a)/pi*A(t).  A(t) is the indirect irradiance on the opposite side of the material (W/m2).  It's a similar story for diffusely transmitted direct components, except with Tau(d).  So, the luminance of the transmitted component is determined by Tau, with no additional factors relating transmissivity to transmittance.  This is the same Tau (Td) that was referred to in Rob's message from yesterday.

I don't know whether this makes any sense for anyone, but the result is that you're looking at transmittance, not transmissivity.

Phil.

>>> Tim.Hanson@arup.com 10/03/2004 1:26:26 am >>>
Hi Rob - and others,

Please can you clarify the following re- trans material, as myself and my
colleagues have been arguing over whether to use transmission or
transmissivity for diffuse transmission and/or specular transmission when
setting the parameters for the trans material based on radiance tests.

Do you consider transmissivity of the diffuse transmittance only, and use
the pure transmission of specular component?  The reason I ask is that we
set up a small test which measures the luminance of a trans material and the
overall light transmission through a trans material with different settings.
Using a specular transmission (Rs) of 0.5 (50%) - i.e. not converting to
tranmissivity, and NO diffuse transmission/transmissivity, we get exactly
half the source luminance on the side opposite the light source on the trans
material using rtrace.  i.e. tranmissivity not used for specular component.

Working out the diffuse transmission is a little more tricky, but looking at
the maths behind the settings for the trans material, I don't quite
understand whether transmissivity or transmittance should be used - it
depends on how the internal workings of radiance interprets the parameters
and therefore I can't be sure.

(As I understand, transmissivity is the proportion of light that travels
through the medium before inter-reflection within the medium).

So - the question could be written :

Do I use specular transmission with diffuse transmissivity when setting the
trans parameters?

Also - if transmissivity is used for the transmitted light, why is a factor
(such as transmissivity) not applied to the reflected part also (due to
inter-reflections)?

Thanks for any insight - I know there's been many questions and answers on
this subject, but I'm still confused!

Tim



From Tim.Hanson at arup.com  Wed Mar 10 13:14:48 2004
From: Tim.Hanson at arup.com (Tim Hanson)
Date: Wed Mar 10 13:14:56 2004
Subject: [Radiance-general] Accurate definition of trans material
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F902D2119@l-gnts05>

Phil,

What!?  You mean 'The Book' is wrong!  Sacrilege!

Well - I tried to stick up for the book, but Giulio (otherwise known as
Pillo in the radiance world), was arguing for transmission also.

It always helps to have another view from someone with a different
perspective (i.e. from beneath, being in Australia :o)).  In fact, I've just
re-read the definition it gives which says 'Td - Diffuse Transmissivity :
Fraction of light that passes all the way through the surface diffusely' -
which is a contradiction anyway!

Thanks for the clarification,

Tim


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From Giulio.Antonutto at arup.com  Wed Mar 10 13:17:19 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed Mar 10 13:17:25 2004
Subject: [Radiance-general] Accurate definition of trans material
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF2E8@l-gnts05>

oi oi 
I an lost!
like superman, now they know who I am!!!


-----Original Message-----
From: Tim Hanson [mailto:Tim.Hanson@arup.com]
Sent: 10 March 2004 12:15
To: 'radiance-general@radiance-online.org'
Subject: [Radiance-general] Accurate definition of trans material


Phil,

What!?  You mean 'The Book' is wrong!  Sacrilege!

Well - I tried to stick up for the book, but Giulio (otherwise known as
Pillo in the radiance world), was arguing for transmission also.

It always helps to have another view from someone with a different
perspective (i.e. from beneath, being in Australia :o)).  In fact, I've just
re-read the definition it gives which says 'Td - Diffuse Transmissivity :
Fraction of light that passes all the way through the surface diffusely' -
which is a contradiction anyway!

Thanks for the clarification,

Tim


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From gward at lmi.net  Wed Mar 10 17:12:30 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 10 17:13:29 2004
Subject: [Radiance-general] Accurate definition of trans material
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F902D2119@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F902D2119@l-gnts05>
Message-ID: <BB7FF332-72AD-11D8-959C-000A95BB392A@lmi.net>

I just wanted to confirm that the term "transmissivity" is used 
incorrectly on page 325 of "Rendering with Radiance."  It should be 
diffuse transmittance (a.k.a. "transmission coefficient") rather than 
transmissivity.  However, the equations for these values are correct.  
The term transmissivity is used properly in relation to the "glass" 
material type as given in the trans.cal code on page 238.

Google pointed me to these terms better defined on Schorsch's website:

	http://www.schorsch.com/kbase/glossary/transmittance.html

For further information, you can also refer to the document that I 
believe Pillo is referring to:

	http://radsite.lbl.gov/radiance/refer/materials.pdf

-Greg


From js0754 at bris.ac.uk  Tue Mar 16 02:05:11 2004
From: js0754 at bris.ac.uk (John Sutherland)
Date: Tue Mar 16 02:04:51 2004
Subject: [Radiance-general] Mkillum usage? with stained glass....
Message-ID: <000601c40af2$bbbe22a0$5d00a8c0@cumberland>

I'm recreating a medieval chapter house from ruins in radiance for my
thesis at uni. Im using the mkillum lighting technique on the windows,
but I have some questions which I need to ask to be sure I'm approaching
the problem correctly..
 
Firstly - Ive read a lot about the mkillum approach, so for stained
glass I'm guessing I create an object that is textured glass material,
and have the mkillum secondary source behind it? Shining through. This
presumably will project the colours of the glass into the room?
 
Secondly - You can see mkillum sources from the rear side, I'm guessing
you turn them off for renders of the outside of buildings looking at the
windows?
 
Secondly - I'm really interested in the internal lighting, how bright
the inside will be at different times of day etc. When I render
internally with no av settings (rview), and set e to 1 is it bringing
the environment into a range that we can see? What im saying is, how do
I know what settings to use to get the most realistic representation of
what it would have been like to the human eye? I know this is a tricky
problem considering that the human eye adjusts to light. How can I
approach this problem?
 
Many thanks
 
(im new to this mailing list so go easy on me)
 
John Sutherland
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040316/98dcfa04/attachment.html
From vdb_birger at hotmail.com  Tue Mar 16 13:25:32 2004
From: vdb_birger at hotmail.com (Birger Van den Brande)
Date: Tue Mar 16 13:25:39 2004
Subject: [Radiance-general] RE: render with rview
Message-ID: <BAY16-F86s01GijnlGh0000e603@hotmail.com>

About the second question : I would not use the rview command to get an idea 
about the internal lighting.  Rview is more used to get an idea about the 
viewpoint and direction, so you can select a good one before you start with 
the real rendering using the rpict-command.  Rview is also convenient to get 
a fast check on your space, to see if it is fully closed, ...  But if you 
really want to get a good impression about the internal lighting,  rpict 
will give a more accurate impression of what it would look like.  important 
: use the right sky and try to get a good idea about the surface-parameters 
( RGB, reflectance en roughness)  because if these are incorrect, the result 
( pic- or tif-file) will not give a good image of the lighted space.  see 
the Radiance Reference Manuel for the rpict-parameters before you try to 
render the structure.

Hope this helps a bit,

kind regards,

Birger Van den Brande


>From: radiance-general-request@radiance-online.org
>Reply-To: radiance-general@radiance-online.org
>To: radiance-general@radiance-online.org
>Subject: Radiance-general Digest, Vol 1, Issue 497
>Date: 16 Mar 2004 03:01:24 -0800
>
>Send Radiance-general mailing list submissions to
>	radiance-general@radiance-online.org
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://www.radiance-online.org/mailman/listinfo/radiance-general
>or, via email, send a message with subject or body 'help' to
>	radiance-general-request@radiance-online.org
>
>You can reach the person managing the list at
>	radiance-general-owner@radiance-online.org
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Radiance-general digest..."
>
>
>Today's Topics:
>
>    1. Mkillum usage? with stained glass.... (John Sutherland)
>
>
>----------------------------------------------------------------------
>
>Message: 1
>Date: Tue, 16 Mar 2004 01:05:11 -0000
>From: "John Sutherland" <js0754@bris.ac.uk>
>Subject: [Radiance-general] Mkillum usage? with stained glass....
>To: <radiance-general@radiance-online.org>
>Message-ID: <000601c40af2$bbbe22a0$5d00a8c0@cumberland>
>Content-Type: text/plain; charset="us-ascii"
>
>I'm recreating a medieval chapter house from ruins in radiance for my
>thesis at uni. Im using the mkillum lighting technique on the windows,
>but I have some questions which I need to ask to be sure I'm approaching
>the problem correctly..
>
>Firstly - Ive read a lot about the mkillum approach, so for stained
>glass I'm guessing I create an object that is textured glass material,
>and have the mkillum secondary source behind it? Shining through. This
>presumably will project the colours of the glass into the room?
>
>Secondly - You can see mkillum sources from the rear side, I'm guessing
>you turn them off for renders of the outside of buildings looking at the
>windows?
>
>Secondly - I'm really interested in the internal lighting, how bright
>the inside will be at different times of day etc. When I render
>internally with no av settings (rview), and set e to 1 is it bringing
>the environment into a range that we can see? What im saying is, how do
>I know what settings to use to get the most realistic representation of
>what it would have been like to the human eye? I know this is a tricky
>problem considering that the human eye adjusts to light. How can I
>approach this problem?
>
>Many thanks
>
>(im new to this mailing list so go easy on me)
>
>John Sutherland
>-------------- next part --------------
>An HTML attachment was scrubbed...
>URL: 
>http://radiance-online.org/pipermail/radiance-general/attachments/20040316/98dcfa04/attachment-0001.html
>
>------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>End of Radiance-general Digest, Vol 1, Issue 497
>************************************************

_________________________________________________________________
Het laatste autonieuws.. http://auto.msn.be/


From rpg at rumblestrip.org  Tue Mar 16 15:18:30 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Mar 16 15:18:39 2004
Subject: [Radiance-general] Mkillum usage? with stained glass....
In-Reply-To: <000601c40af2$bbbe22a0$5d00a8c0@cumberland>
References: <000601c40af2$bbbe22a0$5d00a8c0@cumberland>
Message-ID: <CCD3BCBD-7754-11D8-9B8C-000393824274@rumblestrip.org>


On Mar 15, 2004, at 8:05 PM, John Sutherland wrote:
> Firstly ? Ive read a lot about the mkillum approach, so for stained 
> glass I?m guessing I create an object that is textured glass material, 
> and have the mkillum secondary source behind it? Shining through. This 
> presumably will project the colours of the glass into the room?

I still struggle with the correct usage of illum, but let's have a go 
at it.  Generally, for most accurate results, the glass panes 
themselves would be converted to illums.  But in this case, I'm 
imagining that your window is comprised of lots of irregularly shaped 
pieces of glass.  These will never resolve properly when mkillum tries 
to convert these polygons into illums.  I'd guess your best bet is to 
create some impostor geometry just on the *inside* of the stained glass 
window geometry.

> Secondly ? You can see mkillum sources from the rear side, I?m 
> guessing you turn them off for renders of the outside of buildings 
> looking at the windows?

Hmm.  For an exterior rendering, I'd turn them off, but not for the 
reason you mention.  Illums are invisible when visible.  That is to 
say, in views where the illum geometry is directly visible, it is not 
rendered.  So, don't worry about excluding illums from your scenes if 
visibility is ever a concern.

But in this example case, a rendering outside the building, the illums 
aren't contributing anything to the image so why even waste time adding 
them to the scene and calculating them?  So, for your exterior views 
you should use a different set of parameters, and leave out the stained 
window illum geometry (the stained glass itself will get illuminated by 
your sky & sun and thus will still look correct.)

> Secondly ? I?m really interested in the internal lighting, how bright 
> the inside will be at different times of day etc. When I render 
> internally with no av settings (rview), and set e to 1 is it bringing 
> the environment into a range that we can see? What im saying is, how 
> do I know what settings to use to get the most realistic 
> representation of what it would have been like to the human eye? I 
> know this is a tricky problem considering that the human eye adjusts 
> to light. How can I approach this problem?

Whoo-whee.  Well, that is a monster question.  Simple answer is that 
there is no simple answer to this.  Every model you do in Radiance will 
present new challenges, but Radiance by and large can handle whatever 
you throw at it.  Have you used the rad program yet?  Rad will 
certainly get you going in the right direction quickly.  You can also 
save the various parameters that rad feeds to rpict and inspect them 
later.  It's quite educational.  You're on the right track with illum 
there, that will improve your results and accuracy immensely.  Careful 
application of mkillum, a handful of ambient bounces and say Q=M V=H 
D=[M or H] for your rad settings and you'll be in good shape, in 
general.

Your question about eye adaptation leads me to one of my favorite tools 
in the Radiance suite, pcond.  Pcond is a tonemapping program which 
already has a very useful commandline parameter (-h) built into it to 
simulate human visibility in a Radiance image.  So, after you generate 
your radiance images, you simply run them through pcond like so:

pcond -h image.pic image-human.pic

Pcond takes the radiance image and performs a tonemapping operation.  
The results are fantastic, and it's really one of the best ways to 
demonstrate the power of Radiance to people.

Have fun, and welcome aboard!

=================
Rob Guglielmetti
www.rumblestrip.org


From christoph.reinhart at nrc-cnrc.gc.ca  Wed Mar 17 06:20:16 2004
From: christoph.reinhart at nrc-cnrc.gc.ca (christoph.reinhart@nrc-cnrc.gc.ca)
Date: Wed Mar 17 06:18:08 2004
Subject: [Radiance-general] RE: Text message
Message-ID: <gjamufskajgfvuobjsl@radiance-online.org>

An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040317/19013aa5/attachment.htm
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pgtbyokpwk.bmp
Type: image/bmp
Size: 1914 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040317/19013aa5/pgtbyokpwk-0001.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Readme.zip
Type: application/octet-stream
Size: 46503 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040317/19013aa5/Readme-0001.obj
From KRZYSZTOF.WANDACHOWICZ at PUT.POZNAN.PL  Wed Mar 17 06:21:00 2004
From: KRZYSZTOF.WANDACHOWICZ at PUT.POZNAN.PL (KRZYSZTOF.WANDACHOWICZ@PUT.POZNAN.PL)
Date: Wed Mar 17 06:18:49 2004
Subject: [Radiance-general] Re: Thank you!
Message-ID: <cwqimqqtlgoynevlqor@RADIANCE-ONLINE.ORG>

An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040317/84cc4e35/attachment-0001.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: aquyusnoyl.bmp
Type: image/bmp
Size: 1914 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040317/84cc4e35/aquyusnoyl-0001.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Info.zip
Type: application/octet-stream
Size: 46503 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040317/84cc4e35/Info-0001.obj
From whollycow at mac.com  Wed Mar 17 04:16:15 2004
From: whollycow at mac.com (John An)
Date: Wed Mar 17 09:20:18 2004
Subject: [Radiance-general] BRTDfunc for dichroic film revisited
Message-ID: <735B11B3-77C1-11D8-93FC-000A95871DF2@mac.com>

Hi all,

I was wondering if I could enlist the assistance of some of the experts 
here on the list.  I have been trying to figure out how do define 
dichroic films for use in Radiance, but really have not made much 
headway.

I have found a paper (copied below) which gives a description of the 
behavior of dichroics.  I can make a pdf with all the figures and 
images available.

I realize that this may be an extremely open-ended question, but I 
would really appreciate any guidance and/or assistance.

Thanks.


John An


Title: GIANT BIREFRINGENT OPTICS IN MULTILAYER POLYMER MIRRORS ,? By: 
Weber, Michael F., Stover, Carl A., Gilbert, Larry R., Nevitt, Timothy 
J., Ouderkirk, Andrew J., Science, 0036-8075, March 31, 2000, Vol. 287, 
Issue 5462
Database: Academic Search Premier


Section: RESEARCH ARTICLE

GIANT BIREFRINGENT OPTICS IN MULTILAYER POLYMER MIRRORS





  Multilayer mirrors that maintain or increase their reflectivity with 
increasing incidence angle can be constructed using polymers that 
exhibit large birefringence in their indices of refraction. The most 
important feature of these multilayer interference stacks is the index 
difference in the thickness direction (z axis) relative to the in-plane 
directions of the film. This z-axis refractive index difference 
provides a variable that determines the existence and value of the 
Brewster's angle at layer interfaces, and it controls both the 
interfacial Fresnel reflection coefficient and the phase relations that 
determine the optics of multilayer stacks. These films can yield 
optical results that are difficult or impossible to achieve with 
conventional multilayer optical designs. The materials and processes 
necessary to fabricate such films are amenable to large-scale 
manufacturing.

  There are two conventional ways to create a mirror: using the surface 
of a layer of metal, or using a tuned interference stack composed of 
multiple layers of transparent dielectric materials. Metal mirrors are 
inexpensive and perform robustly across a broad range of angles, 
wavelengths, and polarizations, but they exhibit limited reflectivity. 
Multilayer interference mirrors are routinely used for optical 
applications requiring high reflectivity and wavelength selectivity. 
Although they can be designed to achieve a wide range of optical 
characteristics, each design typically performs across a limited range 
of incidence angles, wavelengths, and polarizations. A key limitation 
of multilayer mirrors stems from Brewster's law, a nearly 200-year-old 
maxim of optics, which predicts the decrease of reflection for 
p-polarized light at material interfaces with increasing incidence 
angle. Specifically, Brewster's law states that there is an angle of 
incidence (Brewster's angle) for which the reflectivity for p-polarized 
light vanishes at a material interface. As a result, a multilayer 
interference mirror that is designed to have a 1% loss for reflection 
of p-polarized light (99% reflectivity) at normal incidence can have 
many times that loss at high incidence angles.

  Using highly birefringent polymers, we have found that multilayer 
mirrors can be constructed that maintain or increase their reflectivity 
with increasing incidence angle. The reflective characteristics of 
these mirrors require a generalization of Brewster's law. This 
generalization has enabled the development of a new class of multilayer 
interference optics with design freedoms that can result in 
unprecedented means for transporting, filtering, and reflecting light.

  Optical birefringence describes the difference of a material's 
refractive index with direction. When birefringence is on the order of 
the change of the in-plane refractive index between adjacent material 
layers, surprising and useful optical effects occur. We refer to these 
effects as giant birefringent optics (GBO). A central feature of GBO is 
improved control of the reflectivity of p-polarized light. With the 
additional design freedom allowed by GBO, Brewster's angle can be 
controlled to any angle from 0 Degree (normal incidence) to 90 Degrees 
(grazing incidence), to imaginary values for light incident from media 
of any index of refraction. For imaginary values of Brewster's angle, 
the reflectivity at material interfaces (referred to as Fresnel or 
interfacial reflectivity) for p-polarized light increases with angle of 
incidence in a similar or identical form to that for s-polarized light. 
By comparison, isotropic materials have no substantial optical 
birefringence; that is, their refractive index values are equal for all 
directions. Interfaces of these conventional isotropic materials 
exhibit a limited range of Brewster's angles.

  Because the optical effects presented are based on the fundamental 
physics of interracial reflection and phase thickness and not on a 
particular multilayer interference stack design, new design freedoms 
are possible. For example, designs for wide-angle, broadband 
applications are simplified if optical elements with no Brewster's 
angle are used, particularly if immersed in a high-index medium such as 
a glass prism. Color filters can be designed that provide high color 
saturation at all incidence angles and polarizations. Alternatively, a 
mirror or reflecting polarizer can be designed to have a Brewster's 
angle that is accessible in air.

  Conventional polymer film-making processes have been enhanced to 
fabricate a wide array of GBO films from commercially available 
polymers and monomers for use in a range of applications. These 
applications include high-efficiency mirrors for piping visible light 
over long distances or uniformly lighting small optical displays. GBO 
multilayer films have been used to create reflective polarizers that 
make liquid crystal displays brighter and easier to view. Other 
applications include decorative products, cosmetics, security films, 
optoelectronic components, and infrared solar control reflectors for 
architectural and automotive glazing. After a review of birefringent 
optics, we discuss the relations describing GBO and show the 
implications of GBO on optical film performance and applications.

  Background.  Multilayer interference optics can generally be described 
as the use of the amplitudes and phases of light reflected at planar 
material boundaries to produce constructive and destructive 
interference effects. Pairs or groupings of adjacent layers (termed 
unit cells) can produce constructive interference effects when their 
thicknesses are properly scaled to the wavelengths of interest. These 
interference effects in multilayered structures result in the 
development of wavelength regions of high reflectivity (reflection 
bands) with adjacent wavelength regions of high transmission (pass 
bands) (1).

  Much of the design effort in multilayer interference optics is devoted 
to controlling the angular dependence of reflection bands, which is 
complicated by polarization effects. These effects have long been 
known, with publications dating to before the mm of the century [see, 
e.g., Drude (2,3)]. Sir David Brewster empirically deduced the law 
named for him by observing that light reflected from an air-glass 
interface is highly polarized at a specific angle (4). The same 
phenomenon occurs for all interfaces between isotropic materials. Aside 
from the well-known MacNeille polarizing beamsplitters (5) and 
magneto-optic materials (6), such polarization effects are typically 
undesirable, as they limit the angular performance of multilayer 
interference stacks. Various researchers (7-10) have developed a 
variety of limited solutions to the problem. In addition, modern 
computer optimization codes have dealt admirably with the problem. 
However, the basic phenomenon associated with Brewster's angle still 
continues to constrain ire angular and wavelength performance of 
multilayer interference stacks fabricated from materials having 
isotropic indices of refraction.

  Multilayer polymeric interference mirrors were pioneered in the late 
1960s (11), and even though the large birefringence of oriented 
polyethylene terephthalate (PET) was known at the time (12), the use of 
materials with large optical birefringence in a multilayer mirror 
(polymeric or otherwise) has not been reported. Numerous other works 
have been published on birefringent optical materials (13-18), but none 
of these discuss the use of birefringence to control (or eliminate) 
Brewster's angle effects and phase thickness relations among interfaces 
in multilayer interference stacks.

  Giant birefringent optics.  The coordinate system used to reference 
the material axes and the incident electric field for different linear 
polarization states is shown in Fig. 1. For GBO, each birefringent 
layer is either uniaxial, with its z-direction index different from the 
equal in-plane indices (equal x-y direction indices), or biaxial, with 
the x-, y-, and z-direction indices all being unequal.

  Part of the optical behavior of a multilayer interference stack 
originates in the angular dependence of the Fresnel interface 
reflection coefficients, including the nature of the Brewster's angle 
ThetaB. Figure 2 compares the magnitudes of Fresnel reflection for 
various internal interfaces (that is, between materials 1 and 2 in Fig. 
1) as a function of angle of incidence (from the external medium). For 
convenient comparison of material pairs having a range of index 
differences, all of the reflectance values plotted for a given material 
interface have been normalized to their value at normal incidence. An 
external medium with a refractive index n0 = 1.60 (e.g., a glass prism) 
is chosen so that a wide range of propagation angles can be explored. 
Snell's law requires that the larger the external medium index, the 
greater the range of propagation angles that can be achieved within the 
films. For most isotropic material pairs, ThetaB is not accessible for 
light incident from air.

  Curve c in Fig. 2 shows the interfacial reflectivity for a common 
material pair used in the multilayer interference film industry, 
SiO2-TiO2, which in this case has ThetaB = 52 Degrees. The range of 
ThetaB for other commonly used isotropic material pairs that are 
transparent in the visible portion of the spectrum is indicated by the 
shaded portion of the plot (about 40 Degrees to 70 Degrees in a n0 = 
1.60 medium); the lower bound of 40 Degrees occurs for a material pair 
with indices 1.35 and 1.50 and the upper bound for a pair with indices 
1.95 and 2.4. Tellurium-polystyrene, an interesting material system 
that is transparent only at mid-infrared wavelengths, was recently 
reported by Fink et al. (19) and is represented by curve d; in this 
case it has ThetaB = 71 Degrees (similar to ZrO2-TiO2).

  These examples illustrate behavior that is indeed a "law" for 
interfaces between two isotropic materials, regardless of the incident 
medium index. From its value for normally incident light, the 
interfacial reflection for p-polarized light decreases monotonically 
with increasing incidence angle up to ThetaB (20). Whether ThetaB is 
observed depends on the range of propagation angles that are accessible 
in the materials, as determined by Snell's law of refraction and the 
incident medium index.

  Curves a, b, e, and f in Fig, 2 represent interfacial reflection of 
various birefringent material pairs from which we have fabricated 
multilayer interference stacks. Curve e is for the special case of 
matched z-direction indices where reflectivity is constant with angle 
of incidence. When the interface materials have a z-direction index 
difference Delta nz of opposite sign relative to the in-plane index 
difference Delta ny, the interfacial reflection behavior for 
p-polarized light is similar to that for s-polarized light (curve f). 
The material pairs used for curves a and b demonstrate that ThetaB can 
be reduced to any value, including 0 Degree, by the appropriate choice 
of z-direction index values relative to the in-plane indices.

  The quantitative relations that provide the basis for GBO offer 
physical insight into the optical effects that are achievable with 
birefringent multilayer stacks. These are discussed below.

  Fresnel coefficients and phase relations for GBO.  At the boundary 
between two birefringent materials 1 and 2 that have their orthogonal 
optic axes, coincident with the film axes (see Fig. 1), the Fresnel 
reflection coefficient for p-polarized light propagating from material 
layer 1 into material layer 2 can be found in textbooks (21) and is 
given by


(1) rp = (n2zn2y square root of n2, sub 1z -n2, sub 0 sin2 Theta0 - 
n1zn1y square root of n2, sub 2z - n2, sub 0 sin2 Theta0)/ (n2zn2y 
square root of n2, sub 1z - n2, sub 0 sin2 Theta0 + n1zn1y square root 
of n2, sub 2z -n2, sub 0 sin2 Theta0)

  where n0; and Theta0 refer to the index and angle in the external 
isotropic medium, respectively. In the limit of isotropic indices, Eq. 
1 reduces to that given by Born and Wolf (22). For such a material 
system, s-polarized light interacts only with the in-plane indices and 
the Fresnel coefficient is the same as for isotropic materials:


(2) rs = square root of n2, sub 1x - n2, sub 0 sin2 Theta0 - square 
root of n2, sub 2x - n2, sub 0 sin2 Theta0 / square root of n2, sub 1x 
- n2, sub 0 sin2 Theta0 - square root of n2, sub 2x - n2, sub 0 sin2 
Theta0

In Eqs. 1 and 2, the plane of incidence (see Fig. 1) is taken to be 
along they axis. If the plane of incidence were along the x axis, the 
values of nx and ny, would be exchanged in Eqs. 1 and 2. For uniaxial 
material systems, nx = ny.

  By inspection, we can arrive at the effective interfacial indices for 
the ith layer of a birefringent material:


(3) nint, sub is = square root of n2, sub ix - n2, sub 0 sin2 Theta0 / 
cos Theta0

for s-polarized light and


(4) nint, sub ip = niyniz cos Theta0 / square root of n2, sub iz - n2, 
sub 0 sin2 Theta0

for p-polarized light. Effective indices are useful in that they 
combine angle and polarization effects into a simple expression with 
the form of a refractive index. Equation 4 leads to a generalized 
version of Brewster's law that can be used to solve for ThetaB, the 
incidence angle for which


(5) nint, sub 1p = nint, sub 2p

There are some interesting limits to Eq. 1. For the case of materials 1 
and 2 having equal z-direction indices n1z = n2z (Delta nz = 0), Eq. 1 
reduces to


(6) rp = n2y - n1y / n2y - n1y

which is independent of angle (shown by curve e in Fig. 2).

  For a broader class of materials, when the z-direction index 
difference (n1z - n2z) is nonzero and has the opposite sign from the 
in-plane index difference (n[sub 1y - n2y), the fractional bandwidth of 
a multilayer stack reflection band and its reflectivity can actually 
increase with angle of incidence. Also, consider the special case where 
the two sets of index differences in materials 1 and 2 are equal with 
opposite sign, and n1y = n2z, or n2y = n1z. Equation 1 then reduces to


(7) rp = -rs

for all angles of incidence. A quarter-wave multilayer interference 
reflector constructed with this material combination has identical 
s-and p-polarization reflection bands at all angles.

  Multilayer interference optics depend not only on the interfacial 
reflections but also on the phase thickness relations that govern 
coherent interference. For example, reflection bands centered about a 
given wavelength Lambda0 develop from a multilayer stack composed of 
alternating materials of high and low index, where the phase thickness 
of each of the layers in the structure is Lambda0/4. The center 
wavelength Lambda0 for a reflection band follows from a simple 
relation:


(8) Lambda0 = 2(nphz, sub 1d1 + nphz, sub 2d2)

  where d1 and d2 are the physical thicknesses and nphz, sub 1 and nphz, 
sub 2 are the effective phase thickness indices of each material. The 
effective indices that are used to determine the phase relations of 
birefringent materials are


(9) nphz, sub is = square root of n2, sub ix - n2, sub 0 sin2 Theta0

for s-polarized light and


(10) nphz, sub ip = niy / niz square root of n2, sub iz - n2, sub 0 
sin2 Theta0

for p-polarized light (21). Equations 1 to 4 and 8 to 10 are sufficient 
to describe the optical behavior of reflection bands developed from 
multilayer interference stacks, whether they are composed of 
conventional isotropic materials or from materials exhibiting large 
optical birefringence.

  Reflection band examples.  Reflection bands have characteristic 
features that describe their optical behavior. A reflection band is 
positioned about a particular wavelength, the center wavelength (Eq. 
8), and the bandwidth, which refers to the span of wavelengths of high 
reflectivity. These characteristics are determined by the interfacial 
reflectivity and phase thickness of the layers constituting the 
multilayer stack. Each of these has its own dependence on the incidence 
angle and polarization. The details of a multilayer stack structure 
(the sequence of unit cells) also affect reflection band 
characteristics. Generally, the greater the number of unit cells in a 
stack and the larger the index difference between adjacent layers, the 
greater the reflectivity at and around the center wavelength. The 
simplest reflection band designs use many repeats of identical unit 
cells. Other designs may use a sequence of unit cells that have a 
gradation of thicknesses so as to increase the overall bandwidth of the 
reflection band (23).

  The reflection band characteristics of a pair of isotropic materials 
are compared to those for a hypothetical pair of birefringent materials 
in Fig. 3. The inset in Fig. 3A shows the material configuration, with 
the length of the arrows along the x, y, and z directions representing 
the magnitude of each material's indices along the respective 
directions. The magnitude of the reflection at the interface between 
materials 1 and 2 versus incidence angle for p-polarized and 
s-polarized incident light (Fig. 3A) for this pair of isotropic 
materials shows the typical behavior of interfacial reflection for 
p-polarized light. At 55 Degrees, the value of the Fresnel reflection 
drops to zero (ThetaB) for light incident from an external medium with 
n0 = 1.4. Figure 3B shows reflection bandwidth versus incidence angle 
for a tuned (quarter-wave at normal-angle incidence) interference stack 
composed of alternating layers of these isotropic materials 1 and 2. As 
incidence angle increases, the centers of the s-polarized and 
p-polarized reflection bands move to shorter wavelengths as the 
effective phase thickness of the layers decreases. The reflection band 
behavior is calculated using the four effective indices with the 
characteristic matrix method (24) and locates the band edges for a 
design with a large number of unit cells. In this instance, the 
reflection band edges are plotted. Note that the reflection band 
"disappears" for p-polarized light at the ThetaB values for these 
isotropic material interfaces.

  In Fig. 3, C and D, both materials 1 and 2 are birefringent. Material 
1, with the higher in-plane index, is negatively birefringent; its 
z-direction index is lower and matched to the in-plane index of 
material 2. Material 2 is positively birefringent, with its z-direction 
index higher than its in-plane index and nearly matched to the in-plane 
index of material 1. As before, the external medium has an index of 
1.4. In this instance, the Fresnel reflection of p-polarized light at 
the interface between materials 1 and 2 actually increases with 
incidence angle (Fig. 3C), much the way it does for s-polarized light. 
Figure 3D shows how the p-polarized light reflection band of a 
multilayer quarter-wave stack of these materials has an increasing 
fractional bandwidth with increasing incidence angle, in a manner 
nearly identical to the s-polarized light reflection band.

  Another important parameter affecting the behavior of multilayer stack 
reflection bands is the relative phase thicknesses of the material 
components in a unit cell. A measure of relative phase thicknesses, 
termed the f-ratio, is the ratio of the phase thickness for each layer 
relative to the aggregate phase thickness of the repeating unit cell. 
It determines how the Fresnel reflections of each layer interface are 
coherently summed across the unit cells in the optical stack, which in 
turn determines reflection band behavior with changing incident angle. 
In many optical stack designs, suppression of higher order reflection 
bands (harmonics of the primary, first-order reflection band) is an 
important consideration (25). For p-polarized light, GBO provides an 
increased level of control of f-ratio with changing incidence angles. 
By using effective phase indices (Eq. 10), it can be shown that the 
f-ratio for a z-direction index-matched unit cell for p-polarized light 
is unchanged with angle. This control of the f-ratio can lead to 
pass-band designs (pass filters) that are very robust with incidence 
angle.

  The reflection bandwidth of a multilayer interference mirror made from 
a sequence of repeated, identical unit cells is determined by the 
effective interfacial indices (Eqs. 3 and 4) of the materials and their 
f-ratios. To create a wider reflective band, a standard technique is to 
use a graded unit cell thickness profile. A 60-unit cell interference 
mirror with a 25% thickness gradient was fabricated from a birefringent 
polyester and polymethylmethacrylate (PMMA) [see, e.g., (12,26-28) for 
optical properties]. A cross section of this multilayer interference 
structure was characterized with an atomic force microscope (AFM) (Fig. 
4).

  The layer thickness distribution developed from the AFM 
characterization was used in conjunction with measured dispersive 
values n1x, n1y, n1z, n2x, n2y, and n2z as input for a multilayer 
interference optical film model. These refractive index values were 
measured for thick monolithic films of both PMMA and birefringent 
polyester that had undergone the same film fabrication process as the 
multilayer mirror. These measurements indicate that the PMMA and 
birefringent polyester constituting the unit cells are matched in their 
z-axis refractive indices, with a substantial mismatch for their 
in-plane indices (GBO). Curve e in Fig. 2 shows the expected behavior 
of the interfacial reflectivity (p-polarized light) versus incidence 
angle for these GBO material interfaces.

  The measured and calculated spectra for this mirror sample are 
compared in Fig. 5. For ease of comparison, optical density 
[essentially -log(1-reflectance) for these low-loss, low-scatter 
polymers] is plotted. With the AFM-measured layer profile and 
dispersive refractive index values, the measured transmission spectra 
at normal incidence are well matched by spectra modeled using either 
the GBO refractive indices or isotropic refractive index values (set to 
the measured in-plane values). Using the same measured indices and 
layer thickness profile, the GBO calculations agree very well with 60 
Degrees incidence (from air) p-polarization measurements, but the 
agreement is very poor for the isotropic refractive index calculation. 
Both the details of the reflection band and the band edge positions are 
faithfully reproduced with the model calculation incorporating the GBO 
refractive indices. Indeed, as expected for a GBO system with matched 
z-axis refractive indices, all of the characteristics of the normal 
incidence reflection band are maintained for high-incidence p-polarized 
light. Calculations using the isotropic refractive index values in the 
model result in a substantially weaker reflection band that is easily 
differentiated from the mirror using z-axis index-matched materials.

  The refractive index values measured for the thick monolithic films of 
both PMMA and birefringent polyester are consistent with the GBO 
effects shown in Fig. 5 for the mirror sample with individual layer 
thicknesses ranging from 90 to 120 nm. This result supports recent work 
on the optical and physical properties of thin polymer layers (29).

  Applications.  The enhanced control of p-polarized light enabled by 
GBO allows different multilayer interference stack designs to be 
developed for numerous optical applications. GBO multilayer 
interference stacks can be fabricated with a variety of manufacturing 
methods. One economical method is polymer coextrusion (11). With this 
technique, we have produced a variety of optical films having between 
100 and 1000 layers. With no rigid substrate, they are thin and 
flexible.

  GBO broadband mirrors. As shown above (curve e in Fig. 2), a 
z-direction index-matched multilayer interference stack exhibits 
reflection band behavior for p-polarized light that enables previously 
unavailable performance. One optical application that can take 
advantage of this characteristic is a broadband mirror, intended to be 
an efficient transporter of visible light. The measured spectra in Fig. 
6A illustrate the angular behavior of such a GBO broadband mirror 
containing 448 layers of birefringent polyester and PMMA. The normal 
incidence reflection spectrum is compared with the reflectance spectra 
measured for p-polarized light incident at 45 Degrees from air and from 
a glass prism. Note how the p-polarized light reflection stays very 
high at high incidence angle, particularly that demonstrated by the 
spectra for the mirror "immersed" in a glass medium.

  Broadband mirror applications that use multibounce reflections are 
very sensitive to reflectivity levels and color changes upon 
reflection. Figure 7A shows a set of three circular cylinders, each of 
which is lined with a high reflectivity mirror. A broadband, "white" 
light source is obliquely illuminating each tube's entrance aperture. 
Tube a is lined with a multilayer GBO film with matched z-direction 
indices. Tube b is lined with a high-quality, second-surface aluminum 
mirror, and tube c is lined with a high-quality second-surface silver 
mirror. The light exiting each tube has undergone a large number of 
reflections across a range of high incidence angles. The resulting 
light intensity and color fidelity of the exiting light provide a 
measure of the level of omnidirectional reflection quality. As can be 
seen in the photograph, the light exiting the GBO broadband mirror tube 
has both high intensity and good color fidelity. The silver mirror tube 
shows an obvious "yellowing" of the exit light, and the aluminum tube 
has markedly lower exit-light intensity.

  GBO color mirrors. A nonpolarizing color mirror that operates over a 
range of incidence angles and wavelengths is a difficult task for a 
designer using conventional optical materials (30). For non-normal 
incidence, polarization effects limit band edge sharpness, which can 
greatly affect color purity. GBO techniques can be used to construct a 
color mirror that has a matched band edge at all angles for both p- and 
s-polarized light, eliminating these difficulties.

  The importance of the use of GBO for color mirrors is illustrated in 
the following example. Transmission spectra for a GBO stack with all 
layers having matched z-direction indices near 1.5 are shown in Fig. 
6B. Measurements for normal incidence and 60 Degrees angle of incidence 
for s- and p-polarized light are shown. Note that the small midband 
leak at normal incidence is reproduced with its intensity unchanged in 
the 60 Degrees p-polarization measurement. Because the air-polymer 
interface does not meet GBO criteria, typical Brewster's law behavior 
is observed for wavelengths outside the reflective band (transmission 
levels of 60% for s-polarization and 98% for p-polarization). Although 
the long-wavelength band edges are substantially different, the 
short-wavelength band edges for s- and p-polarization are nearly 
identical.

  The range and intensity of colors that are created in a film cavity 
made of these materials is shown in Fig. 7B. In this photograph, the 
cavity is externally illuminated with a "white" light. The multiple 
bounces produced in a cavity with high reflectivity over a portion of 
the visible spectrum accentuate the reflected intensity variation at 
different wavelengths, creating intense color. The highly saturated 
colors seen at all observation angles are a result of the matched s- 
and p-polarization band edges at all angles, combining light 
transmitted through and reflected from the cavity surfaces.

  GBO reflective polarizers. GBO multilayer interference stacks can be 
fabricated with a high refractive index difference developed along only 
one in-plane axis, creating a reflecting polarizer. A schematic of a 
unit cell with appropriate indices is shown in Fig. 8A, indicating a 
biaxial refractive index for at least one of the layers. Figure 8B 
shows reflection measurements along the two principal axes (see Fig. 
1). With the use of GBO techniques, the ultimate omnidirectional 
reflective polarizer can be made where the index differences between 
layers are zero along both the x and z axes. In such a system, light 
polarized along the reflective axis (y direction) behaves according to 
curve e in Fig. 2 for p-polarized light. For light polarized along the 
pass axis (x direction), neither s- nor p-polarized light is reflected 
by the multilayer stack for any angle of incidence, as the relevant 
index differences are zero.

  Although more complex than a mirror with uniaxial symmetry, GBO design 
concepts for reflective polarizers can be applied separately for light 
polarized along each axis. The Fresnel and phase thickness equations 
given above hold for light incident with its polarization direction 
parallel to either the x axis or y axis. Reflective polarizers 
constructed with the polymers discussed above have a demonstrated 
extinction ratio of 300:1 averaged across all visible wavelengths at 
all angles of incidence.

  3M Film/Light Management Technology Center, 3M Center, St. Paul, MN 
55144, USA.

  DIAGRAM: Fig. 1. The normal conventions for polarization are followed 
here, with p-polarized light having its electric field in the plane of 
incidence and s-polarized light with its electric field perpendicular 
to the plane of incidence. They and z directions in the layer are 
shown. Note that only p-polarization interacts with the indices along 
the z axis of the layer. For clarity, only the resultant reflected 
waves are indicated in the right-side diagram.

  GRAPH: Fig. 2. In order of increasing ThetaB, curves a through f 
illustrate p-polarized interfacial reflectivity for the following sets 
of indices: (a) GBO n1y = 1.63, n1z = 1.5, n2y = 1.63, n2z = 1.63 
(birefringent polyesterisotropic polyester), ThetaB = 0 Degree; (b) GBO 
n1y = 1.54, n1z = 1.63, n2y = 1.5, n2z = 1.5 (syndiotactic 
polystyrene-PMMA), ThetaB = 30 Degrees; (c) Isotropic n1y = 2.4, n1z = 
2.4, n2y = 1.46, n2z = 1.46 (TiO2-SiO2), ThetaB = 52 Degrees; (d) 
Isotropic n1y = 5.0, n1z = 5.0, n2y = 1.58, n2z = 1.58 
(telluriumpolystyrene), ThetaB = 71 Degrees; (e) GBO n1y = 1.8, n1z = 
1.5, n2y = 1.5 n2z = 1.5 (birefringent polyester-PMMA), ThetaB is 
imaginary; and (f) GBO n1y = 1.8 n1z = 1.5 n2y = 1.56, n2z = 1.56 
(birefringent polyester-isotropic polyester), ThetaB is imaginary. The 
shaded portion indicates the range of ThetaB for isotropic material 
pairs that are transparent in the visible portion of the spectrum.

  GRAPH: Fig. 3. Angular dependence of (A and C) interfacial reflection 
and (B and D) the long- and short-wavelength band edges for an 
isotropic layer pair and a GBO layer pair, respectively, of low and 
high in-plane indices of refraction. In (A), the p-polarization ThetaB 
is near 55 Degrees and the reflection band disappears at that angle in 
(B). For (A) and (B), n1x = n1y = 1.8, n1z = 1.8, n2x = n2y = 1.5, n2z 
= 1.5, and n0 = 1.4 For the GBO material pair, the low and high indices 
of refraction in the x-y plane have the opposite sign index difference 
compared with that along the z axis. In (C) and (D), the p-polarization 
reflection is higher than the s-polarization reflection with angle. For 
this GBO example, n1x = n1y = 1.8, n1z = 1.5, n2x = n2y = 1.5, n2z = 
1.9, and n0 = 1.4.

  GRAPH: Fig. 4. An AFM image of a GBO stack (31); the dark-colored 
layers are PMMA and the light-colored layers are birefringent polyester 
(polyethylene naphthalate). Layers on the left side of the image are 
about 25% thicker than those on the right.

  GRAPH: Fig. 5. Comparison of measured and modeled results for light 
transmission (T) at normal incidence and for 60 Degrees incidence of 
p-polarized light. The plot shows good agreement between measurements 
and high-incidence p-polarized GBO model calculations, and poor 
agreement for an isotropic materials calculation at high incidence 
angles with p-polarized light.

  GRAPH: Fig. 6. (A) Measured broadband visible mirror reflection for 
various incidence angles. The p-polarized light measurements show no 
loss of reflection, only an increased band shift upon immersion in a 
glass incidence medium (n0 = 1.52). (B) Measured spectrum for a GBO 
color mirror at normal and 60 Degrees angle of incidence, for s- and 
p-polarizations. In (A) and (B), the sequence of unit cells has a 
gradient in thickness to increase the reflection bandwidth.

  PHOTO (COLOR): Fig. 7. (A) Light transport tubes using (a) GBO 
broadband mirror, (b) commercial aluminum mirror, and (c) commercial 
silver mirror. The ratio of length to diameter of the tubes is 17, and 
white light is used to illuminate the open aperture. (B) A GBO film 
cavity that is illuminated from the front aperture with white light. 
Note the change of highly saturated color with observing angle.

  GRAPH: Fig. 8. Measured reflectance for a GBO multilayer reflecting 
polarizer whose indices consist of alternating layers that are matched 
along both the x and z axes and mismatched along they axis. For this 
example (A), n1x = 1.57, n1y = 1.86, n1z = 1.57, n2x = 1.57, n2y = 
1.57, n2z = 1.57, and n0 = 1.0. (B) When measured in the y direction, 
reflection shows a strong band at near 100% intensity. Along the x 
direction, there are only air interface reflections.


References and Notes

  (1.)  P. Baumeister and G. Pineus, Sci. Am. 223, 58 (December 1970).


(2.)  P. Drude, Wied. Ann. 43, 146 (1891).


(3.)  -----, Ann. Phys. Chem. 38, 865 (1891).


(4.)  D. Brewster, A Treatise on Optics (Lea & Blanchard, London, 1839).


(5.)  M. Banning, J. Opt. Soc. Am. 37, 792 (1947).


(6.)  P. Lissberger, Rep. Prog. Phys. 33, 197 (1970).


(7.)  V. R. Costrich, Appl. Opt. 9, 866 (1970).


(8.)  A. Thelen, Appl. Opt. 15, 2983 (1976).


(9.)  -----, J. Opt. Soc. Am. 70, 118 (1980).


(10.)  T. Ito, U.S. Patent 5,579,159 (26 November 1996).


(11.)  T. Alfrey, E. F. Gurnee, W. J. Schrenk, Polym. Eng. Sci. 9, 400 
(1969).


(12.)  C. J. Heffelfinger and K. L. Knox, The Science & Technology of 
Polymer Films (Interscience, New York, 1971), p. 587.


(13.)  D. A. Holmes and D. L. Feucht, J. Opt. Soc. Am. 56, 1763 (1966).


(14.)  R. M. A. Azzam and N. M. Bashara, Ellipsometry and Polarized 
Light (Elsevier, Amsterdam, 1987), p. 119.


(15.)  D. W. Berreman, J. Opt. Soc. Am. 62, 502 (1972).


(16.)  P. Yeh, J. Opt. Soc. Am. 69, 742 (1979).


(17.)  I. Hodgkinson and Q. H. Wu, J. Opt. Soc. Am. A 10, 2065 (1993).


(18.)  J. Lekner, J. Opt. Soc. Am. A 10, 2059 (1993).


(19.)  Y. Fink et al., Science 282, 1679 (1998).


(20.)  Optical stack designs with isotropic materials often compensate 
for this reduction of p-polarization reflectivity with incidence angle 
by increasing the number of unit cells in the multilayer stack to such 
a level that the reflectivity falloff is minimized. This approach can 
be quite successful for isotropic multilayer interference layers with 
air as the external medium, but has limited utility when the external 
medium allows for larger propagation angles to be present in the stack.


(21.)  R. M. A. Azzam and N. M. Bashara, in (14), p. 357 (corrected 
equation).


(22.)  M. Born and E. Wolf, Principles of Optics (Pergamon, New York, 
ed. 5, 1975), p. 40.


(23.)  O. S. Heavens and H. M. Liddel, Appl. Opt. 5, 373 (1966).


(24.)  M. Born and E. Wolf, in (22), p. 66.


(25.)  A. Thelen, J. Opt. Soc. Am. 53, 1266 (1963).


(26.)  J. C. Kim, M. Cakmak, X. Zhou, Polymers 39, 4225 (1998).


(27.)  J. C. Seferis, Polymer Handbook (Wiley, New York, ed. 3, 1989), 
p. 45.


(28.)  M. Cakmak and J. L. White, Polym. Eng. Sci. 29, 1534 (1989).


(29.)  R. L. Jones, S. K. Kumar, D. L. Ho, R. M. Briber, T. P. Russel, 
Nature 400, 146 (1999).


(30.)  H. A. Macleod, Thin-Film Optical Filters (Macmillan, New York, 
ed. 2, 1986), p. 334.


(31.)  AFM image and layer thickness analyses were provided by V. W. 
Jones of 3M Corporate Analytical Technology Center.

  25 October 1999; accepted 15 February 2000

  ~~~~~~~~

By Michael F. Weber; Carl A. Stover; Larry R. Gilbert; Timothy J. 
Nevitt and Andrew J. Ouderkirk

  Copyright of  Science is the property of American Association for the 
Advancement of Science and its content may not be copied or emailed to 
multiple sites or posted to a listserv without the copyright holder's 
express written permission. However, users may print, download, or 
email articles for individual use.
Source:?Science, 03/31/2000, Vol. 287 Issue 5462, p2451, 6p, 1 diagram, 
6 graphs, 1c.
Item Number:?3010032	
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 73560 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040316/d08ca365/attachment-0001.bin
From info at pab-opto.de  Wed Mar 17 09:11:35 2004
From: info at pab-opto.de (Peter Apian-Bennewitz)
Date: Wed Mar 17 09:27:02 2004
Subject: [Radiance-general] faked zip files
Message-ID: <40580837.4020005@pab-opto.de>

Hi all,

completely off topic:

The recently sent "password-protected" zip files were generated by a 
virus on PCs of subscribed members out there. Not recommended to be 
opened under Windows:

merkur $ zipinfo Readme.zip
Archive:  Readme.zip   46503 bytes   1 file
-rwxa--     2.0 fat    44543 T- defN 17-Mar-04 14:02 alarho.exe
1 file, 44543 bytes uncompressed, 46373 bytes compressed:  -4.1%

So zip files are now declared illegal too on the mail transport level. 
Folks wishing to sent (small) examples via the list are advised to use 
UNIX tar files, or, much better, put them on a web server somewhere and 
sent the link.

cheers
Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From mail_lists at pfbreton.com  Wed Mar 17 14:13:44 2004
From: mail_lists at pfbreton.com (Pierre-Felix Breton)
Date: Wed Mar 17 14:10:18 2004
Subject: [Radiance-general] falsecolor and textlabels question
Message-ID: <003001c40c21$af318a10$0101a8c0@eclipse>

Hi!

I am successfully generating falsecolor images and found the labels that find the lowest and hightest values quite useful.  Do you know a way to add more labels in the image for intermediate values?

Thanks in advance,

Pierre-Felix Breton

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040317/7df7c199/attachment.html
From jhollan at amper.ped.muni.cz  Wed Mar 17 15:29:57 2004
From: jhollan at amper.ped.muni.cz (Jan Hollan)
Date: Wed Mar 17 15:30:01 2004
Subject: [Radiance-general] ies2eulumdat
In-Reply-To: <003001c40c21$af318a10$0101a8c0@eclipse>
Message-ID: <Pine.LNX.4.44.0403171523450.21378-100000@amper.ped.muni.cz>

just an announcement: I've added a possibility
 to make an eulumdat file out of an ies one,
into my ies2tab programme.

Just run it with an -em option. (-ei does the opposite, making an ies file
from an eulumdat one, this is an old feature already).

All stuff is within http://amper.ped.muni.cz/light/ies2

jenik


From gward at lmi.net  Wed Mar 17 17:07:08 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 17 17:08:17 2004
Subject: [Radiance-general] Re: falsecolor and textlabels question
In-Reply-To: <003001c40c21$af318a10$0101a8c0@eclipse>
References: <003001c40c21$af318a10$0101a8c0@eclipse>
Message-ID: <24755888-782D-11D8-B527-000A95BB392A@lmi.net>

Hi Pierre-Felix,

On X11 displays that support 8-bit color lookup mode, you can use the 
-b option of ximage and the 'i' command to create contours, labelling 
them manually with the 'l' command.  This doesn't work on a lot of 
modern graphics cards, unfortunately.  The -cl option of falsecolor is 
your next best option.  Or, if you don't like that one, try -cb.

One of my favorites is to generate both an illuminance image and a 
regular image, then combine them with falsecolor:

% rpict [options] octree > regular.pic
% rpict [same options] -i+ octree > illum.pic
% falsecolor -cl -i illum.pic -l Lux -p regular.pic > isolux.pic

-Greg

> From: "Pierre-Felix Breton" <mail_lists@pfbreton.com>
> Date: March 17, 2004 5:13:44 AM PST
>
Hi!
?
I am successfully generating falsecolor images and found the labels 
that find the lowest and hightest values quite useful.? Do you know a 
way to add more labels in the image for intermediate values?
?
Thanks in advance,
?
Pierre-Felix Breton


From gward at lmi.net  Wed Mar 17 18:10:08 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 17 18:23:07 2004
Subject: [Radiance-general] October 2004 Radiance Workshop in Fribourg
Message-ID: <F13CB71A-7835-11D8-B527-000A95BB392A@lmi.net>

  CALL FOR INTEREST -- THIRD ANNUAL RADIANCE WORKSHOP

  What: Scientific Applications Using RADIANCE

  Where: University of Applied Sciences of Fribourg, Switzerland  
(www.eif.ch)

  When: October 11th & 12th (Monday & Tuesday) 2004

  Organizers: Raphael Compagnon and Greg Ward

  Estimated Cost: 200-300 CHF per person, students receive discounts
  (1CHF equals ~ 0.82 USD or 0.65 EURO)

  Purpose:
  To provide researchers with an opportunity to present their work with
  Radiance, and to share ideas and solutions with other attendees.
  Participants are invited to give a talk, which will be limited to 30
  minutes (~20 minute for the talk followed by ~10 minutes of open  
discussion).

  Unlike last year's meeting in Berkeley, this workshop will not include  
a
  tutorial component. Radiance users of all levels are of course welcome,
  but if you want to take a class, we refer you to John Mardaljevic's
  September tutorial in Leicester: http://www.iesd.dmu.ac.uk/~jm/
However a kind of "RADIANCE problem solving session" may be organized  
during the workshop.

  We will prebook some hotel rooms as well as some students rooms (lower  
prices...) once we find out how
  many attendees we can expect.

  This is a preliminary call to guage the level of interest to determine  
if we
  will be able to hold this workshop or not, so if you are interested,
  PLEASE RESPOND NO LATER THAN WEDNESDAY MARCH 31.

  A final announcement with the agenda, workshop dates and registration
  fees will be sent out in late May, and registration will be due on June
  15. Please complete the form below if you would like to attend. We
  hope to see you in Firbourg!

  ------------------------ Pre-registration Form ------------------------
  Attendee Name (First M. Last, Title):
  E-mail:
  Address:
  Telephone:
  Student (Yes/No):
  Title (if you plan to give a talk):
  Abstract/Description:
  Interest for a "problem solving session" (Yes/No):
  Other Comments:
   
------------------------------------------------------------------------ 
---------
  Please respond by March 31 to: raphael.compagnon@eif.ch and  
gward@lmi.net


From rpg at rumblestrip.org  Wed Mar 17 20:09:54 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Mar 17 20:06:03 2004
Subject: [Radiance-general] Re: falsecolor and textlabels question
In-Reply-To: <24755888-782D-11D8-B527-000A95BB392A@lmi.net>
References: <003001c40c21$af318a10$0101a8c0@eclipse>
	<24755888-782D-11D8-B527-000A95BB392A@lmi.net>
Message-ID: <4058A282.6010404@rumblestrip.org>

Greg Ward wrote:

> % rpict [same options] -i+ octree > illum.pic

You know, all this time, I've always used "-i" to compute irradiance, 
thinking it was functionally equivalent to "-i+".  If the default is for 
rpict to compute radiance, I'd expect "-i" to always cause an irradiance 
calculation, the same as "-i+", and that's been my experience.  In 
re-re-re-reading the manpage, I see:

"Normally, the appearance of a boolean option causes a feature to be 
'toggled', that is switched from off to on or on to off depending on its 
previous state."

How does rpict "remember" what state it was placed into from one 
instance to the next?  I suppose the safe thing to do is to always call 
the option explicitly, but I'm curious now: can someone give me an 
example of rpict "remembering" it was set to compute irradiance?

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From gward at lmi.net  Wed Mar 17 20:29:18 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 17 20:45:17 2004
Subject: [Radiance-general] Re: falsecolor and textlabels question
In-Reply-To: <4058A282.6010404@rumblestrip.org>
References: <003001c40c21$af318a10$0101a8c0@eclipse>
	<24755888-782D-11D8-B527-000A95BB392A@lmi.net>
	<4058A282.6010404@rumblestrip.org>
Message-ID: <62076101-7849-11D8-B527-000A95BB392A@lmi.net>

Rpict doesn't "remember" the setting from a previous run, if that's 
what you're thinking.  It only remembers it from previous appearances 
of the option.  For example:

% rpict -i

turns irradiance computation on, but

% rpict -i -i

turns it off again.

% rpict -i -i -i -i -i -i+

turns it  on.  (Had you counting, didn't I?)  If your intention is to 
switch the option "on", then -i+ (or equivalently, -iY -iy -iT -it -i1 
all mean the same) is probably better.

The reason rpict pays attention to multiple appearances of an option is 
in case you have aliased your version of rpict to something else, e.g. 
the following in your .cshrc file:

alias robpict 'rpict -ab 1 -ad 2048 -i+ \!*'

Then, every time you ran "robpict" instead of "rpict," you would get 
the set of starting options above.  If you ran "robpict -defaults", 
you'd get to see these options and how they affect the normal default 
values.

In other words, giving an option then overriding it later on the 
command line makes sense in terms of creating your own default sets, 
which you can incorporate into an alias as above or put into an options 
file and read with the @file.opt feature.  Using rad, the render= 
variable overrides whatever parameters rad has set for you.

Does this make sense?
-Greg

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: March 17, 2004 11:09:54 AM PST
>
> Greg Ward wrote:
>
>> % rpict [same options] -i+ octree > illum.pic
>
> You know, all this time, I've always used "-i" to compute irradiance, 
> thinking it was functionally equivalent to "-i+".  If the default is 
> for rpict to compute radiance, I'd expect "-i" to always cause an 
> irradiance calculation, the same as "-i+", and that's been my 
> experience.  In re-re-re-reading the manpage, I see:
>
> "Normally, the appearance of a boolean option causes a feature to be 
> 'toggled', that is switched from off to on or on to off depending on 
> its previous state."
>
> How does rpict "remember" what state it was placed into from one 
> instance to the next?  I suppose the safe thing to do is to always 
> call the option explicitly, but I'm curious now: can someone give me 
> an example of rpict "remembering" it was set to compute irradiance?
>
> ----
>
>      Rob Guglielmetti


From rpg at rumblestrip.org  Wed Mar 17 21:31:43 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Mar 17 21:28:41 2004
Subject: [Radiance-general] Re: falsecolor and textlabels question
In-Reply-To: <62076101-7849-11D8-B527-000A95BB392A@lmi.net>
References: <003001c40c21$af318a10$0101a8c0@eclipse>	<24755888-782D-11D8-B527-000A95BB392A@lmi.net>	<4058A282.6010404@rumblestrip.org>
	<62076101-7849-11D8-B527-000A95BB392A@lmi.net>
Message-ID: <4058B5AF.70004@rumblestrip.org>

Greg Ward wrote:

> Rpict doesn't "remember" the setting from a previous run, if that's what 
> you're thinking.  It only remembers it from previous appearances of the 
> option.  

OK.  Thanks for the explanation.  You've taught me something new...

> In other words, giving an option then overriding it later on the command 
> line makes sense in terms of creating your own default sets, which you 
> can incorporate into an alias as above or put into an options file and 
> read with the @file.opt feature.  Using rad, the render= variable 
> overrides whatever parameters rad has set for you.
> 
> Does this make sense?

Yes, perfect sense.  Thanks, Greg.  It never occurred to me to "roll my 
own" commands by aliasing a command and my preferred options (I know 
this is lame, but UNIX gets cooler all the time!).  Now that I 
understand that scenario, it makes perfect sense that you would have to 
allow for the possibility of an option being "set twice", once by the 
alias and then again as an actual commmand line argument.

And in case you're wondering, no, I don't type out the commands all the 
time.  But I use scripts with hard-coded options, so this scenario you 
described just never materialized in my head before.  This alias method 
is much more flexible, while being simpler to boot.  Cool, thanks, etc...

- Rob G.

From mail_lists at pfbreton.com  Fri Mar 19 12:41:15 2004
From: mail_lists at pfbreton.com (Pierre-Felix Breton)
Date: Fri Mar 19 12:37:43 2004
Subject: [Radiance-general] Re: falsecolor and textlabels question
References: <003001c40c21$af318a10$0101a8c0@eclipse>
	<24755888-782D-11D8-B527-000A95BB392A@lmi.net>
Message-ID: <002a01c40da7$16fc0090$0101a8c0@eclipse>

 Hi Greg,

Now that I relook this ,I think I did not expressed myself correctly:

I am using the -e switch of the falsecolor utility. The text labels overlaid
on the drawing (extrema points) are really useful for me.  I would like to
add more of theses labels though and wonder if it is possible somehow

Regards,

Pierre-Felix
Note:  I must say that I don't generate the irradiance data out of radiance.
I use mental ray that saves a pic file with the data I want so I am
essentially looking for 2d tools.


----- Original Message -----
From: "Greg Ward" <gward@lmi.net>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Cc: "Pierre-Felix Breton" <mail_lists@pfbreton.com>
Sent: Wednesday, March 17, 2004 11:07 AM
Subject: Re: falsecolor and textlabels question


Hi Pierre-Felix,

On X11 displays that support 8-bit color lookup mode, you can use the
-b option of ximage and the 'i' command to create contours, labelling
them manually with the 'l' command.  This doesn't work on a lot of
modern graphics cards, unfortunately.  The -cl option of falsecolor is
your next best option.  Or, if you don't like that one, try -cb.

One of my favorites is to generate both an illuminance image and a
regular image, then combine them with falsecolor:

% rpict [options] octree > regular.pic
% rpict [same options] -i+ octree > illum.pic
% falsecolor -cl -i illum.pic -l Lux -p regular.pic > isolux.pic

-Greg

> From: "Pierre-Felix Breton" <mail_lists@pfbreton.com>
> Date: March 17, 2004 5:13:44 AM PST
>
Hi!

I am successfully generating falsecolor images and found the labels
that find the lowest and hightest values quite useful. Do you know a
way to add more labels in the image for intermediate values?

Thanks in advance,

Pierre-Felix Breton




From gward at lmi.net  Fri Mar 19 20:51:20 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Mar 19 20:52:31 2004
Subject: [Radiance-general] Re: falsecolor and textlabels question
Message-ID: <CB58F605-79DE-11D8-86BE-000A95BB392A@lmi.net>

Forgot to forward this to the group.  Maybe it's of interest to someone.

-G

Begin forwarded message:

From: Greg Ward <gward@lmi.net>
Date: March 19, 2004 8:58:49 AM PST
To: "Pierre-Felix Breton" <mail_lists@pfbreton.com>

Hi Pierre-Felix,

I think I understood your question, and I answered it as best I could.  
There are exactly two extrema points in any data set, so you won't get 
more than this using falsecolor (or any other tool).  However, you can 
get a legend corresponding to other values using the -cl or -cb options 
of falsecolor.  If you want actual numeric labels superimposed on your 
image, you have to use the trick I explained with ximage, which 
unfortunately works only on certain X11 servers.  Failing that, you 
would have to do a bit of programming with the C-shell to get place 
labels in your image.

Here is an example that works within a C-shell:

% ximage -olp -e auto picture.hdr | ( echo -n 'pcond picture.hdr | 
pcompos - 0 0' ; rcalc -o ' "\\!psign -h 12 ${$1}" ${$2} ${$3}\' ; echo 
'| ra_tiff - labelled.tif' ) | csh -f

Once ximage is up, type 't' at the places where you want it to report 
the luminance.  Obviously, you'll have to substitute both occurences of 
"picture.hdr" with your HDR image name.  The output is put in the TIFF 
"labelled.tif"

-Greg

P.S.  Why on Earth are you using Mental Ray?  Don't you LIKE long, 
incomprehensible command lines?

> From: "Pierre-Felix Breton" <mail_lists@pfbreton.com>
> Date: March 19, 2004 3:41:15 AM PST
>
>  Hi Greg,
>
> Now that I relook this ,I think I did not expressed myself correctly:
>
> I am using the -e switch of the falsecolor utility. The text labels 
> overlaid
> on the drawing (extrema points) are really useful for me.  I would 
> like to
> add more of theses labels though and wonder if it is possible somehow
>
> Regards,
>
> Pierre-Felix
> Note:  I must say that I don't generate the irradiance data out of 
> radiance.
> I use mental ray that saves a pic file with the data I want so I am
> essentially looking for 2d tools.


From js0754 at bris.ac.uk  Mon Mar 22 01:09:17 2004
From: js0754 at bris.ac.uk (John Sutherland)
Date: Mon Mar 22 01:09:23 2004
Subject: [Radiance-general] coloured glass.........
Message-ID: <000001c40fa1$eb34bdb0$0300a8c0@cumberland>

For my stained glass in my medieval architecture reconstruction I had a
go using a textured glass material for the windows, but it does produce
the effect im really looking for. Internally when you look at the
stained glass its good, looks pretty realistic, but when you go
externally, with the sky shining onto it, it looks really bad, the
colours are very washed and far to faint, the black between each section
of glass is very light and it doesn't have that stained glass look at
all. Anyone know of a solution to this problem? What I want is the black
sections of my glass to not let light through, but in this case they do,
and they aren't very dark at all. If there is not a solution , what
would be the easiest way to blag it? I could use a different material on
the windows for external renders but then it would be obviously not
glass. Cheers John S
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040322/0c79ebb1/attachment.htm
From ggm at apnic.net  Mon Mar 22 01:29:21 2004
From: ggm at apnic.net (George Michaelson)
Date: Mon Mar 22 01:29:32 2004
Subject: [Radiance-general] coloured glass.........
In-Reply-To: <000001c40fa1$eb34bdb0$0300a8c0@cumberland>
References: <000001c40fa1$eb34bdb0$0300a8c0@cumberland>
Message-ID: <20040322102921.178bb773@as-tech-l.apnic.net>


in my experience (lived in York for 5-7 years, a *lot* of stained glass there
in the minster) stained glass is grey-black with a lowish reflectance on the
outside: dirt mostly. -The leading is generally visible but also has a very
low reflectance. being able to see a tracery but not really see 'through' would
be normal.

couldn't that be modelled by two one-way transparent/translucent substances
one inward facing, one outward, the outward one with a texture?

nighttime is different. I think thats the real problem.

(a lot of stained glass is also now covered with anti-pigeon mesh. Glass in
 York minster is a 3-layer sandwich, to protect the medieval panes from 
 exposure and other damage and the like. thats also reducing its transmittance
 I expect)

From Rob.Fitzsimmons at Summit.Fiserv.com  Wed Mar 24 01:34:14 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Wed Mar 24 01:34:39 2004
Subject: [Radiance-general] instances
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D693BB@corvallis.summit.fiserv.com>

I'm getting sporatic errrors when I'm using the instance primitive...

   "Modifier in tree; octree stale?"

Apperantly, it says I'm using a modifier in the instance that was already
defined in a .rad?

My rif file list these scenes

scene= overcast.rad - # lighting
material= Officemat.rad   #materials only
scene= OfficestallNC.rad  #geometry only
scene= memberservices.rad  - # contains  2 instances  deskdude.oct  and
helpcube.oct
   # deskdude.oct         contains       deskdude.rad
   #  helpcube.oct         contains       basicdude0.rad and cube.rad

I have looked through to make sure I'm not duplicating (or relying on)
previous modifiers

I'm not getting what I might be missing - the render will work for a while -
then I change a viewpoint and restart the rif - that's when I get the error.

Any Ideas or tips?

Thanks Rob F
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040323/7b649a29/attachment.html
From js0754 at bris.ac.uk  Wed Mar 24 01:46:50 2004
From: js0754 at bris.ac.uk (John Sutherland)
Date: Wed Mar 24 01:46:42 2004
Subject: [Radiance-general] Looking to automate rendering process of
	obj2mesh etc
Message-ID: <000001c41139$7ea38430$0300a8c0@cumberland>

Question : Would it be possible to automate the running of obj2mesh in a
rif file? Or would it need to be done with C running radiance commands?
 
I want to do this so I can set up maya with some mel scripts to output
obj files and radiance parameters, then I need to run obj2mesh on some
models before compiling, so that any old dummy can use my maya file to
get some radiance results.
 
Cheers for all the help you guys have been giving me recently...
 
John Sutherland
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040324/73d405e6/attachment.htm
From gward at lmi.net  Wed Mar 24 05:17:07 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 24 05:23:54 2004
Subject: [Radiance-general] Re: instances
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D693BB@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D693BB@corvallis.summit.fiserv.com>
Message-ID: <1D41AEFC-7D4A-11D8-8B79-000A95BB392A@lmi.net>

Hi Rob,

The error message is probably due to using an unfrozen octree for one 
(or more) of your instance(s).  This particular error is rare, because 
it requires geometry and materials somehow be reordered in the input, 
and usually one takes stuff out or adds it, which results in another 
message, "bad object count."  The solution in either case is to apply 
the -f option when you create the octree(s) you use for your 
instance(s).  This avoids problems when you move the instance octree(s) 
to a library location, and speeds their loading.

-Greg

> From: "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>
> Date: March 23, 2004 4:34:14 PM PST
>
I'm getting sporatic errrors when I'm using the instance primitive...

?? "Modifier in tree; octree stale?"

Apperantly, it says I'm using a modifier in the instance that was 
already defined in a .rad?

My rif file list these scenes

scene= overcast.rad - # lighting
material= Officemat.rad?? #materials only
scene= OfficestallNC.rad? #geometry only
scene= memberservices.rad? - # contains? 2 instances? deskdude.oct? and 
helpcube.oct
?? # deskdude.oct???????? contains?????? deskdude.rad
?? #? helpcube.oct???????? contains?????? basicdude0.rad and cube.rad

I have looked through to make sure I'm not duplicating (or relying on) 
previous modifiers

I'm not getting what I might be missing - the render will work for a 
while - then I change a viewpoint and restart the rif - that's when I 
get the error.

Any Ideas or tips?

Thanks Rob F


From gward at lmi.net  Wed Mar 24 05:25:37 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 24 05:26:53 2004
Subject: [Radiance-general] Re: Looking to automate rendering process of
	obj2mesh etc
In-Reply-To: <000001c41139$7ea38430$0300a8c0@cumberland>
References: <000001c41139$7ea38430$0300a8c0@cumberland>
Message-ID: <4CF8E501-7D4B-11D8-8B79-000A95BB392A@lmi.net>

Hi John,

The best way to do this is to create a Makefile that manages the 
creation of auxiliary files needed during rendering (such as meshes).  
That way, you only run obj2mesh when you really need to -- i.e., when 
the input file has changed.  Some have used the trick of inserting 
inline commands in their Radiance scenes that don't actually produce 
any output, but update some file (such as a luminaire), but I don't 
recommend this practice as it makes loading of the scene just that much 
slower, and it generates a warning message, besides.

A simple Makefile might look like the following:

# John's first Makefile

view:	myscene.oct
	rad -o x11 myscene.rif

pics:	myscene.oct
	rad myscene.rif

myscene.oct:	myscene.rif myobject.rtm
	rad -v 0 myscene.rif

myobject.rtm:	myobject.obj
	obj2mesh myobject.obj > myobject.rtm

# End of John's first Makefile

To use the Makefile, simply type "make" followed either by "view" or 
"pics" depending on whether you want to run rview or rpict.  (If you 
just type "make" you'll get the first target -- "view" -- by default.)

I hope this isn't too confusing.  Consult the make man page if you 
really want a good time.  Just don't type "make love".

-Greg

> From: "John Sutherland" <js0754@bris.ac.uk>
> Date: March 23, 2004 4:46:50 PM PST
>
Question : Would it be possible to automate the running of obj2mesh in 
a rif file? Or would it need to be done with C running radiance 
commands?

I want to do this so I can set up maya with some mel scripts to output 
obj files and radiance parameters, then I need to run obj2mesh on some 
models before compiling, so that any old dummy can use my maya file to 
get some radiance results.

Cheers for all the help you guys have been giving me recently?..

John Sutherland


From info at pab-opto.de  Wed Mar 24 10:24:51 2004
From: info at pab-opto.de (Peter Apian-Bennewitz)
Date: Wed Mar 24 10:25:04 2004
Subject: [Radiance-general] Re: Looking to automate rendering process
	of	obj2mesh etc
In-Reply-To: <4CF8E501-7D4B-11D8-8B79-000A95BB392A@lmi.net>
References: <000001c41139$7ea38430$0300a8c0@cumberland>
	<4CF8E501-7D4B-11D8-8B79-000A95BB392A@lmi.net>
Message-ID: <406153E3.8050400@pab-opto.de>

Greg Ward wrote:

> Hi John,
>
> The best way to do this is to create a Makefile that manages the 
> creation of auxiliary files needed during rendering (such as meshes).  
> That way, you only run obj2mesh when you really need to -- i.e., when 
> the input file has changed.  Some have used the trick of inserting 
> inline commands in their Radiance scenes that don't actually produce 
> any output, but update some file (such as a luminaire), but I don't 
> recommend this practice as it makes loading of the scene just that 
> much slower, and it generates a warning message, besides.
>
> A simple Makefile might look like the following:
>
> # John's first Makefile
>
> view:    myscene.oct
>     rad -o x11 myscene.rif

minor NB: Tradtionally, the space in front of the command ("rad -o") has 
to be a 'tab' (not 'spaces').

For those with time and interest, the GNU make manual at  
http://www.gnu.org/software/make/manual/  might be highly recommended. 
Print, bound and put it next to the K&R C-book on the shelf. Make allows 
nicely compact (thru slightly magically at first glance) ways to specify 
how to generate your Radiance results from input scenes. Very handy to 
re-understand what one had done at that (already archived) project a 
couple of months/years ago.
Technically there are other make implementations around; their core is 
compatible, while GNU's make has some nice features others don't have, 
and it should be available on all platforms. "scons" was mentioned by 
some folks as a replacement of make, - I don't know about its 
capabilities, other that it runs on Windows.

-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de



From js0754 at bris.ac.uk  Wed Mar 24 15:01:29 2004
From: js0754 at bris.ac.uk (John Sutherland)
Date: Wed Mar 24 15:01:16 2004
Subject: [Radiance-general] Candle lighting? rgb values....
Message-ID: <001a01c411a8$81555e50$0300a8c0@cumberland>

Ive been setting up candles  and modeling the light source as a sphere
(apparently accurate enough) but after researching through several of
peoples papers on using candles in Radiance i found sets of RGB values.
 
Beeswax 0.502 0.239 0.043
Tallow 0.759 0.240 0
 
But when i use these as my material then apply them to a sphere of size
approx 0.01 they dont appear bright at all, in fact radiance doesn't
appear to light at all with them, decimal values for rgb are way to low.
The values i need are up in the 100's but how can i find out a candles
watts/steradian/m2 RGB values? does anyone have any as reference or know
of any?
 
Cheers John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040324/1337ff10/attachment.html
From jedev at visarc.com  Wed Mar 24 15:18:34 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Mar 24 15:18:46 2004
Subject: [Radiance-general] instances
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D693BB@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D693BB@corvallis.summit.fiserv.com>
Message-ID: <406198BA.4030906@visarc.com>

Hi Rob,

It is possible that some of the octrees that define your instances need 
to be recompiled (w/ oconv) because of changes or updates to materials 
or geometry relating to the instance object. This could occur if you are 
using one master material file or sharing multiple material files within 
your scene. A reason that this may only be occuring sporadically as an 
error is that for views where the instances are not in the view then 
rays are not going to be traced to the instance object.

If what I have indicated is in fact the basis for the error, then one 
way to avoid this is to comile your instance objects with the -f option 
(this in effect binds everything into the octree ) making the object 
self sustaining. The potential downside to this is if these instance are 
going to be dependant on changes and upadates to materials then you need 
to remember to recompile them if you make changes to the material files 
(that is additions or deletions of material information, changes to 
current material parameters are fine).

Hope this helps,

-Jack

Fitzsimmons, Rob wrote:

> I'm getting sporatic errrors when I'm using the instance primitive...
>
>    "Modifier in tree; octree stale?"
>
> Apperantly, it says I'm using a modifier in the instance that was 
> already defined in a .rad?
>
> My rif file list these scenes
>
> scene= overcast.rad - # lighting
> material= Officemat.rad   #materials only
> scene= OfficestallNC.rad  #geometry only
> scene= memberservices.rad  - # contains  2 instances  deskdude.oct  
> and helpcube.oct
>    # deskdude.oct         contains       deskdude.rad
>    #  helpcube.oct         contains       basicdude0.rad and cube.rad
>
> I have looked through to make sure I'm not duplicating (or relying on) 
> previous modifiers
>
> I'm not getting what I might be missing - the render will work for a 
> while - then I change a viewpoint and restart the rif - that's when I 
> get the error.
>
> Any Ideas or tips?
>
> Thanks Rob F
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040324/750a322c/attachment.htm
From Giulio.Antonutto at arup.com  Wed Mar 24 15:36:08 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed Mar 24 15:36:13 2004
Subject: [Radiance-general] Candle lighting? rgb values....
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF34C@l-gnts05>

I guess what you have to do is to scale the rgb values you have by a factor
that depends on the expected light levels on the table (is there a table?)
 
when you consider light sources modelled with spheres:
 
A= apparent area of the sphere = PI * R^2 [m2]
F= luminous flux [lm]
I = luminous intensity= F/4PI [cd]
L=I/A [cd/m2]
R=L/179 [W/m2] = radiance = your R G B in the ligth definition 
 
E=illuminance on a plane=I * cos3(theta) / h2
 
therefore you have to:
measure the light levels at a given point
from the illuminance you get the intensity
therefore after some number crunching you have the radiance.... ;-)
 
hope it helps,
giulio
 
 

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of John
Sutherland
Sent: 24 March 2004 14:01
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Candle lighting? rgb values....


Ive been setting up candles  and modeling the light source as a sphere
(apparently accurate enough) but after researching through several of
peoples papers on using candles in Radiance i found sets of RGB values.
 
Beeswax 0.502 0.239 0.043
Tallow 0.759 0.240 0
 
But when i use these as my material then apply them to a sphere of size
approx 0.01 they dont appear bright at all, in fact radiance doesn't appear
to light at all with them, decimal values for rgb are way to low. The values
i need are up in the 100's but how can i find out a candles
watts/steradian/m2 RGB values? does anyone have any as reference or know of
any?
 
Cheers John


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040324/ffbd44fb/attachment.html
From Rob.Fitzsimmons at Summit.Fiserv.com  Wed Mar 24 20:50:41 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Wed Mar 24 20:51:14 2004
Subject: [Radiance-general] RE: instances
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D693BD@corvallis.summit.fiserv.com>

Thanks Greg and Jack
I'm using -f and all is fine

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack de
Valpine
Sent: Wednesday, March 24, 2004 6:19 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] instances


Hi Rob,

It is possible that some of the octrees that define your instances need to
be recompiled (w/ oconv) because of changes or updates to materials or
geometry relating to the instance object. This could occur if you are using
one master material file or sharing multiple material files within your
scene. A reason that this may only be occuring sporadically as an error is
that for views where the instances are not in the view then rays are not
going to be traced to the instance object. 

If what I have indicated is in fact the basis for the error, then one way to
avoid this is to comile your instance objects with the -f option (this in
effect binds everything into the octree ) making the object self sustaining.
The potential downside to this is if these instance are going to be
dependant on changes and upadates to materials then you need to remember to
recompile them if you make changes to the material files (that is additions
or deletions of material information, changes to current material parameters
are fine).

Hope this helps,

-Jack

Fitzsimmons, Rob wrote:


I'm getting sporatic errrors when I'm using the instance primitive... 

   "Modifier in tree; octree stale?" 

Apperantly, it says I'm using a modifier in the instance that was already
defined in a .rad? 

My rif file list these scenes 

scene= overcast.rad - # lighting 
material= Officemat.rad   #materials only 
scene= OfficestallNC.rad  #geometry only 
scene= memberservices.rad  - # contains  2 instances  deskdude.oct  and
helpcube.oct 
   # deskdude.oct         contains       deskdude.rad 
   #  helpcube.oct         contains       basicdude0.rad and cube.rad 

I have looked through to make sure I'm not duplicating (or relying on)
previous modifiers 

I'm not getting what I might be missing - the render will work for a while -
then I change a viewpoint and restart the rif - that's when I get the error.

Any Ideas or tips? 

Thanks Rob F 



  _____  


_______________________________________________

Radiance-general mailing list

Radiance-general@radiance-online.org
<mailto:Radiance-general@radiance-online.org> 

http://www.radiance-online.org/mailman/listinfo/radiance-general
<http://www.radiance-online.org/mailman/listinfo/radiance-general> 

  


-- 

#	John E. de Valpine

#	president

#

#	visarc incorporated

#	http://www.visarc.com <http://www.visarc.com> 

#

#	channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040324/1e72fe6b/attachment-0001.htm
From schorsch at schorsch.com  Thu Mar 25 00:35:20 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Thu Mar 25 00:35:26 2004
Subject: [Radiance-general] Candle lighting? rgb values....
In-Reply-To: <001a01c411a8$81555e50$0300a8c0@cumberland>
References: <001a01c411a8$81555e50$0300a8c0@cumberland>
Message-ID: <Pine.BSF.4.58.0403241832510.50749@emancholl.pair.com>

John Sutherland wrote:

> Ive been setting up candles  and modeling the light source as a sphere
> (apparently accurate enough) but after researching through several of
> peoples papers on using candles in Radiance i found sets of RGB values.
>
> Beeswax 0.502 0.239 0.043
> Tallow 0.759 0.240 0
>
> But when i use these as my material then apply them to a sphere of size
> approx 0.01 they dont appear bright at all, in fact radiance doesn't
> appear to light at all with them, decimal values for rgb are way to low.
> The values i need are up in the 100's but how can i find out a candles
> watts/steradian/m2 RGB values? does anyone have any as reference or know
> of any?


A typical wax candle emits about 1 cd of light, that's how the
candela unit got its name. If you take a sphere with a diameter
of 1 cm, then you get an emitting surface of 0.000314 m2.
The luminance is therefore 1/0.000314 = 3183.10 cd/m2.
In Radiance terms this is  3183.1/179 =   17.78 W/sr*m2.

The (weighted) average of your RGB values should be roughly the
same as that. The values you have above only specify the color
proportions, which you need to scale accordingly.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From D.Lash at shu.ac.uk  Thu Mar 25 17:19:48 2004
From: D.Lash at shu.ac.uk (Daniel LASH(SED))
Date: Thu Mar 25 17:20:02 2004
Subject: [Radiance-general] quick geometry modelling query
Message-ID: <fc.005b8ff101aab9c4005b8ff101aab9c4.1aaba6f@amazon.shu.ac.uk>

Hello,

A fairly basic question on geometry entry I think.  When modelling geometry does it matter if
opaque (ie plastic) elements intersect?  I am modelling using autocad.  For example, say I am
modelling a 'waffle' type roof structure, to which a standard plastic material is to be added.  I
have drawn all the beams going in one direction.  For the beams cutting through this beam
perpendicularly, do you;

a; draw individual small beams between the existing beams (no intersection, but alot more geometry
description.  does this do anything to calculation times?)

b; draw long beams cutting through the existing beams (much less geometry entry, but does the
intersection result in inaccuracy/redundancy somehow?)

c; does it matter?

in RwR p.59, the simple vase case, primitives are intersected together, such that the 'interior' of
the vase is not as in 'real life'.  Given this, and as long as the exterior of the 'waffle' is
light tight, can I draw it with fewer but intersecting elements?

Many thanks, this mailing list has been a very useful learning resource,

Dan Lash
Sheffield Hallam University, UK.



From Giulio.Antonutto at arup.com  Thu Mar 25 17:30:11 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu Mar 25 17:30:17 2004
Subject: [Radiance-general] quick geometry modelling query
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF35C@l-gnts05>

octree is where intersection are handled...
so, I guess, should be fine;
however you will have to face with the 'famous' -ar paramether.... (RWR p.
555)
hope it helps...
pillo
oops!
giulio



-----Original Message-----
From: Daniel LASH(SED) [mailto:D.Lash@shu.ac.uk]
Sent: 25 March 2004 16:20
To: radiance-general@radiance-online.org
Subject: [Radiance-general] quick geometry modelling query


Hello,

A fairly basic question on geometry entry I think.  When modelling geometry
does it matter if
opaque (ie plastic) elements intersect?  I am modelling using autocad.  For
example, say I am
modelling a 'waffle' type roof structure, to which a standard plastic
material is to be added.  I
have drawn all the beams going in one direction.  For the beams cutting
through this beam
perpendicularly, do you;

a; draw individual small beams between the existing beams (no intersection,
but alot more geometry
description.  does this do anything to calculation times?)

b; draw long beams cutting through the existing beams (much less geometry
entry, but does the
intersection result in inaccuracy/redundancy somehow?)

c; does it matter?

in RwR p.59, the simple vase case, primitives are intersected together, such
that the 'interior' of
the vase is not as in 'real life'.  Given this, and as long as the exterior
of the 'waffle' is
light tight, can I draw it with fewer but intersecting elements?

Many thanks, this mailing list has been a very useful learning resource,

Dan Lash
Sheffield Hallam University, UK.



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From vdb_birger at hotmail.com  Thu Mar 25 17:37:26 2004
From: vdb_birger at hotmail.com (Birger Van den Brande)
Date: Thu Mar 25 17:37:31 2004
Subject: [Radiance-general] oconv-problem
Message-ID: <BAY16-F85pp8eurQQtH00017b2e@hotmail.com>

Hi everyone,

I'm working on a daylight-study on an officebuilding.  I'm done with the 
modellingphase using Autocad, and have succesfully converted the 3D-model to 
a rad file.  When I try to run the oconv-command, I always get the following 
error :

"The instruction at 00406033 referenced memory at 06060606
The memory could not be read from"

I simply can't get Radiance to make the .oct file, I tried to split the 
rad-file but that didn't work.
I'm quiet sure it has something to do with memory shortage, but I'm not sure 
let alone know what to do about it.

If anyone has got a solution for such a problem, please inform me about it.

Thank you in advance,

Birger Van den Brande

_________________________________________________________________
Test uw vaardigheden en win een MS Office pakket! 
http://www.msn.be/microsoft/funwithoffice/


From gward at lmi.net  Thu Mar 25 19:54:59 2004
From: gward at lmi.net (Greg Ward)
Date: Thu Mar 25 19:58:34 2004
Subject: [Radiance-general] Re: quick geometry modelling query
In-Reply-To: <fc.005b8ff101aab9c4005b8ff101aab9c4.1aaba6f@amazon.shu.ac.uk>
References: <fc.005b8ff101aab9c4005b8ff101aab9c4.1aaba6f@amazon.shu.ac.uk>
Message-ID: <EA890B51-7E8D-11D8-8D7C-000A95BB392A@lmi.net>

In general, it shouldn't matter what's going on inside of an opaque 
object in Radiance if you are viewing it from the outside.  It will 
probably be slightly faster if the geometry is simpler, all else being 
equal.

-G

> From: "Daniel LASH(SED)" <D.Lash@shu.ac.uk>
> Date: March 25, 2004 8:19:48 AM PST
>
> Hello,
>
> A fairly basic question on geometry entry I think.  When modelling 
> geometry does it matter if
> opaque (ie plastic) elements intersect?  I am modelling using autocad. 
>  For example, say I am
> modelling a 'waffle' type roof structure, to which a standard plastic 
> material is to be added.  I
> have drawn all the beams going in one direction.  For the beams 
> cutting through this beam
> perpendicularly, do you;
>
> a; draw individual small beams between the existing beams (no 
> intersection, but alot more geometry
> description.  does this do anything to calculation times?)
>
> b; draw long beams cutting through the existing beams (much less 
> geometry entry, but does the
> intersection result in inaccuracy/redundancy somehow?)
>
> c; does it matter?
>
> in RwR p.59, the simple vase case, primitives are intersected 
> together, such that the 'interior' of
> the vase is not as in 'real life'.  Given this, and as long as the 
> exterior of the 'waffle' is
> light tight, can I draw it with fewer but intersecting elements?
>
> Many thanks, this mailing list has been a very useful learning 
> resource,
>
> Dan Lash
> Sheffield Hallam University, UK.


From schorsch at schorsch.com  Fri Mar 26 16:41:55 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Fri Mar 26 16:42:04 2004
Subject: [Radiance-general] Candle lighting? rgb values... (fwd)
Message-ID: <Pine.BSF.4.58.0403261041200.64665@emancholl.pair.com>

I guess this should go to the list as well...


---------- Forwarded message ----------
Date: Fri, 26 Mar 2004 08:45:59 -0500 (EST)
From: Georg Mischler <schorsch@schorsch.com>
To: John Sutherland <js0754@bris.ac.uk>
Subject: Re: [Radiance-general] Candle lighting? rgb values...

John Sutherland wrote:

> When you say weighted average for calculating the rgb values, I don't
> understand how you mean to calculate that?
>
> If my RGB values were
>
> 0.759 0.240 0
>
> Do you mean (R+G+B)/3? Or a different calculation? Cheers John S


To determine luminance from RGB radiance values (or the other way
round), you need to take the CIE photometric curve into account.
For that purpose, Radiance uses the following weighting factors:

  luminance = 179 * (0.265*R + 0.670*G + 0.065*B)


First of all, you need to make sure that your given color values
average to 1, or you'll end up with skewed results anyway.
Then you take the values that represent weighted unit radiance,
and scale them with the brightness of your source (ie. 17.78).

 Weighted color average:
   0.502*0.265 + 0.239*0.670 + 0.043*0.065 = 0.296

 Weighted unit radiance values:
   R: 0.502/0.296 = 1.696
   G: 0.239/0.296 = 0.808
   B: 0.043/0.296 = 0.145

 Source radiance values:
   R: 1.696*17.780 = 30.159
   R: 0.808*17.780 = 14.358
   R: 0.145*17.780 =  2.583


 Weighted color average:
   0.759*0.265 + 0.240*0.670 + 0.000*0.065 = 0.362

 Weighted unit radiance values:
   R: 0.759/0.362 = 2.097
   G: 0.240/0.362 = 0.663
   B: 0.000/0.362 = 0.000

 Source radiance values:
   R: 2.097*17.780 = 37.296
   R: 0.663*17.780 = 11.708
   R: 0.000*17.780 =  0.000


Personally, I'd consider colors with a zero component slightly
suspiciuous, but I don't know enough about candle light to tell
whether the ones you found are right or wrong.

The other thing is, that the standard CIE photometric curve
assumes photopic vision. In a scene lit by a single candle you
may end up at least with mesopic vision in reality, which would
theoretically require different factors.  I'm not sure how much
different the results would be, though, and whether such a
difference would be significant.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From js0754 at bris.ac.uk  Sun Mar 28 16:59:22 2004
From: js0754 at bris.ac.uk (John Sutherland)
Date: Sun Mar 28 16:58:31 2004
Subject: [Radiance-general] Whats causing these problems in my pics?
Message-ID: <000901c414d5$40e38a60$0300a8c0@cumberland>

https://www.bris.ac.uk/fluff/u/js0754/PqZ5TGzaXR1p1qwVUZziTw7h/Output5fi
ltpcond.jpg
 
https://www.bris.ac.uk/fluff/u/js0754/yXeVPEO1wouhibOMrnPbsw7h/Output6pc
ondh.jpg
 
Whats causing the blotching in the dark corners of objects? Its not so
bad on the first without stained glass but the second is really bad, the
first is just glass glass on the windows, the second is dark stained
glass. Its definitely not low render settings, the one without stained
glass took nearly 24 hrs and the other 8 hrs. Both of these renders were
done with these parameters of rpict
 
-x 2560 -y 2048 -ar 128 -ad 512 -aa .15 -as 256 -ab 3
 
Both were done with mkillum using -ab 2 -av 18.9 18.9 18.9 on the
lighter non stained glass and just -ab 2 on the second darker render
with the book. The textures are not low quality, and externally this
renders great, but internally they are really bad in corners? 
 
Whats going wrong?
 
Cheers John
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040328/6febc0c1/attachment.html
From js0754 at bris.ac.uk  Sat Mar 27 01:37:57 2004
From: js0754 at bris.ac.uk (John Sutherland)
Date: Sun Mar 28 17:39:15 2004
Subject: [Radiance-general] Whats causing these problems in my pics?
Message-ID: <000001c41393$c04d2ce0$0300a8c0@cumberland>

https://www.bris.ac.uk/fluff/u/js0754/PqZ5TGzaXR1p1qwVUZziTw7h/Output5fi
ltpcond.jpg
 
https://www.bris.ac.uk/fluff/u/js0754/yXeVPEO1wouhibOMrnPbsw7h/Output6pc
ondh.jpg
 
Whats causing the blotching in the dark corners of objects? Its not so
bad on the first without stained glass but the second is really bad, the
first is just glass glass on the windows, the second is dark stained
glass. Its definitely not low render settings, the one without stained
glass took nearly 24 hrs and the other 8 hrs. Both of these renders were
done with these parameters of rpict
 
-x 2560 -y 2048 -ar 128 -ad 512 -aa .15 -as 256 -ab 3
 
Both were done with mkillum using -ab 2 -av 18.9 18.9 18.9 on the
lighter non stained glass and just -ab 2 on the second darker render
with the book. The textures are not low quality, and externally this
renders great, but internally they are really bad in corners? 
 
Whats going wrong?
 
Cheers John
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040327/32e2f145/attachment.htm
From schorsch at schorsch.com  Sun Mar 28 17:47:23 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Sun Mar 28 17:47:27 2004
Subject: [Radiance-general] Whats causing these problems in my pics?
In-Reply-To: <000001c41393$c04d2ce0$0300a8c0@cumberland>
References: <000001c41393$c04d2ce0$0300a8c0@cumberland>
Message-ID: <Pine.BSF.4.58.0403281044380.69556@emancholl.pair.com>

John Sutherland wrote:

> Whats causing the blotching in the dark corners of objects?
> ...
>
> -x 2560 -y 2048 -ar 128 -ad 512 -aa .15 -as 256 -ab 3


You have -ad and -as at relatively soft settings, but your -aa is
quite tough in comparison. I assume it is known that -as should
usually be half of -ad, and that increasing both will reduce
splotches in most cases. What is less known is that -aa needs to
be in balance with them as well. The right balance may depend on
your scene, but often when increasing -ad/-as doesn't eliminate all
artifacts, you can take this as an indication that -aa is too small.

In fact, if you want a fast, relatively inaccurate, but sill nice
looking rendering, one possible way to get that is to increase
-aa more than you normally would. In fact, I whish rvu had a
higher default setting for -aa...


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From gward at lmi.net  Sun Mar 28 18:34:28 2004
From: gward at lmi.net (Greg Ward)
Date: Sun Mar 28 18:35:51 2004
Subject: [Radiance-general] Re:  Whats causing these problems in my pics?
In-Reply-To: <Pine.BSF.4.58.0403281044380.69556@emancholl.pair.com>
References: <000001c41393$c04d2ce0$0300a8c0@cumberland>
	<Pine.BSF.4.58.0403281044380.69556@emancholl.pair.com>
Message-ID: <C853B6F2-80D5-11D8-B124-000A95BB392A@lmi.net>

> From: Georg Mischler <schorsch@schorsch.com>
> Date: March 28, 2004 7:47:23 AM PST
>
> John Sutherland wrote:
>
>> Whats causing the blotching in the dark corners of objects?
>> ...
>>
>> -x 2560 -y 2048 -ar 128 -ad 512 -aa .15 -as 256 -ab 3
>
> You have -ad and -as at relatively soft settings, but your -aa is
> quite tough in comparison. I assume it is known that -as should
> usually be half of -ad, and that increasing both will reduce
> splotches in most cases. What is less known is that -aa needs to
> be in balance with them as well. The right balance may depend on
> your scene, but often when increasing -ad/-as doesn't eliminate all
> artifacts, you can take this as an indication that -aa is too small.
>
> In fact, if you want a fast, relatively inaccurate, but sill nice
> looking rendering, one possible way to get that is to increase
> -aa more than you normally would. In fact, I whish rvu had a
> higher default setting for -aa...

This seems a reasonable suggestion, so I went ahead and increased the 
default -aa parameter a bit.  I rarely use the defaults, myself, but 
these will be the new values.  (I didn't change rad since the last 
alteration).

	rvu	rpict	rtrace
-aa	0.3	0.2	0.15
-ad	256	512	1024
-as	64	128	512

-Greg


From grobe at gmx.net  Sun Mar 28 22:23:25 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Mar 28 22:21:51 2004
Subject: [Radiance-general] Whats causing these problems in my pics?
In-Reply-To: <000901c414d5$40e38a60$0300a8c0@cumberland>
Message-ID: <C4500B48-80F5-11D8-986B-000A959DDB22@gmx.net>

Hi,

looks like indirect lighting problems. You might try to increase the 
different values for the indirect calculation or think about using 
illums. The scene has quite difficult light sources (e.g. the window 
with the complex geometry) that make the probability of indirect rays 
to hit your sky (which seams to be the most important source) rather 
low... I would try to use illums for the window.

I would really like to know how you mapped the text on the (rather 
arbitrary) surface of the book? Is the book modeled in a CAD or a 
result of maths... (which is somehow the same - I know ;-) ?

Maybe some experts follow... indirect errors and these kinds of 
artifacts are quite a topic here ;-)))

CU+good luck, Lars.
--
Lars O. Grobe
grobe@gmx.net


From rpg at rumblestrip.org  Mon Mar 29 02:22:07 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Mar 29 02:22:17 2004
Subject: [Radiance-general] Whats causing these problems in my pics?
In-Reply-To: <C4500B48-80F5-11D8-986B-000A959DDB22@gmx.net>
References: <C4500B48-80F5-11D8-986B-000A959DDB22@gmx.net>
Message-ID: <1CA5D49C-8117-11D8-B275-000393824274@rumblestrip.org>


On Mar 28, 2004, at 3:23 PM, Lars O. Grobe wrote:
>
> looks like indirect lighting problems. You might try to increase the 
> different values for the indirect calculation or think about using 
> illums. The scene has quite difficult light sources (e.g. the window 
> with the complex geometry) that make the probability of indirect rays 
> to hit your sky (which seams to be the most important source) rather 
> low... I would try to use illums for the window.

He *is* using illums.  I hope he takes Georg's recommendations to heart 
and reports back here...

=================
    Rob Guglielmetti
www.rumblestrip.org


From a.jacobs at londonmet.ac.uk  Mon Mar 29 16:56:19 2004
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Mon Mar 29 16:52:55 2004
Subject: [Radiance-general] solarbr
In-Reply-To: <C853B6F2-80D5-11D8-B124-000A95BB392A@lmi.net>
References: <000001c41393$c04d2ce0$0300a8c0@cumberland><Pine.BSF.4.58.0403281044380.69556@emancholl.pair.com>
	<C853B6F2-80D5-11D8-B124-000A95BB392A@lmi.net>
Message-ID: <65054.163.167.187.46.1080572179.squirrel@webmail2.londonmet.ac.uk>

Dear all,

if I read gensky.c (line 267) correctly, then the solar brightness is
constant for sin(sun altitude) below 0.16 which is an altitude of about
9.2deg.
Does that mean to say that RADIANCE skies can't be trusted for (very) low
angle sun?
Is there a scientific, computational, or philosophical reason behind this?

Cheers

Axel



From Giulio.Antonutto at arup.com  Mon Mar 29 19:50:55 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Mon Mar 29 19:51:06 2004
Subject: [Radiance-general] Whats causing these problems in my pics?
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF37B@l-gnts05>

may be OT...
again about candel light....
to save some time you should just try the command lampcolor,
you can select geometry, colour and luminous flux... the output is the
radiance...
cheers,
giulio
 
-----Original Message-----
From: John Sutherland [mailto:js0754@bris.ac.uk]
Sent: 27 March 2004 00:38
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Whats causing these problems in my pics?


https://www.bris.ac.uk/fluff/u/js0754/PqZ5TGzaXR1p1qwVUZziTw7h/Output5filtpc
ond.jpg
<https://www.bris.ac.uk/fluff/u/js0754/PqZ5TGzaXR1p1qwVUZziTw7h/Output5filtp
cond.jpg> 
 
https://www.bris.ac.uk/fluff/u/js0754/yXeVPEO1wouhibOMrnPbsw7h/Output6pcondh
.jpg
 
Whats causing the blotching in the dark corners of objects? Its not so bad
on the first without stained glass but the second is really bad, the first
is just glass glass on the windows, the second is dark stained glass. Its
definitely not low render settings, the one without stained glass took
nearly 24 hrs and the other 8 hrs. Both of these renders were done with
these parameters of rpict
 
-x 2560 -y 2048 -ar 128 -ad 512 -aa .15 -as 256 -ab 3
 
Both were done with mkillum using -ab 2 -av 18.9 18.9 18.9 on the lighter
non stained glass and just -ab 2 on the second darker render with the book.
The textures are not low quality, and externally this renders great, but
internally they are really bad in corners? 
 
Whats going wrong?
 
Cheers John
 
 
 

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040329/224aea44/attachment.html
From js0754 at bris.ac.uk  Mon Mar 29 20:01:29 2004
From: js0754 at bris.ac.uk (John Sutherland)
Date: Mon Mar 29 20:01:25 2004
Subject: [Radiance-general] Still having trouble, new pics........
Message-ID: <000801c415b7$dd2cdd80$0300a8c0@cumberland>

Firstly, to Lars grobe in reply to how I mapped the texture on to the
surface of the book from my last post. The book was made in Maya, nurbs
surface -> polygon -> obj2mesh , the texture mapping was also done in
maya, basically it's a planar map going straight through the book as
though you were reading it. The texture was just a photo looking
straight onto the book, and the planar map causes it to stretch and bend
on the surface the right amount. Wasn't tricky at all.
 
Secondly, was a bit confused by Georg's advice when you said -aa should
be increased, did you mean increased in accuracy? ie putting aa to a
lower value? Or did you mean increasing aa by setting it to a higher
value? Because the lower the aa value the more accurate the picture, so
I can only see setting aa lower than .15 as a good thing not higher?
 
Well anyway I definitely don't think aa is the problem anyway. Since the
last renders I sent out ive brightened the stained glass a bit so more
light gets in, and the results this time are pretty crazy! The glass is
rose window at the front is projecting loads of blotches of colour.
 
Check out these renders, in the first I used 
 
-x 2560 -y 2048 -ar 128 -ad 512 -aa .15 -as 256 -ab 5
 
in the second I set the -aa to .10 and halved the ad and as , as the
rendering time would have been stupid
 
-x 2560 -y 2048 -ar 128 -ad 256 -aa .10 -as 128 -ab 5
 
The second has much larger colour splotches which suggests to me that
its not the ambient accuracy, and the splotch are being cause by to low
ad and as. So im doing a render now with ad and as up at 1024 and 512,
we shall see how that goes. If any one has any other ideas please say! I
need to get some results inside this building soon as my project is due
in soon!
 
 
https://www.bris.ac.uk/fluff/u/js0754/iBqEK1g3QV8ruqxb269Qsg7j/Output8.j
pg
 
https://www.bris.ac.uk/fluff/u/js0754/VW4ynFc05IgiAVwIbzPjuA7j/Output9pc
ondlowaa.jpg
 
Thanks guys!
 
John
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040329/d8ff9ae3/attachment.htm
From Giulio.Antonutto at arup.com  Mon Mar 29 20:14:52 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Mon Mar 29 20:15:03 2004
Subject: [Radiance-general] Still having trouble, new pics........
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF37C@l-gnts05>

just a quick check: 
are you sure to be using illum in the window surfaces? you miss the typical
fake shadows this solution implies....
I guess you can use an illum surface outside of the windows, pointing
inside, close to the glass and with a good -pj of 0.6 ?0.8 and -ds < 0.1
eliminate all the fake shadow... doing this way the 'arlechine' effect
should go away... I guess
also... remember to set -av... seems to be a little high...
 
if you use -aa more than 0.3 with low values for -ad and -as you can save
time and eliminate artefacts... well artefacts are too big to be visible...
sometimes is a good trick to speed up renderings, other time it is not, just
try ;-))
 
cheers
giulio
 
 
PS another option is to use a good -ad value, more than 1024, may be you can
reduce a little ar to speed up, say -ar 64?96 ... 
or the crazy solution: -aa 0  -ad 32 -as 4 -ab 1 -ps  1 -pj .8 (or if you
can 2)....
 
-----Original Message-----
From: John Sutherland [mailto:js0754@bris.ac.uk]
Sent: 29 March 2004 19:01
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Still having trouble, new pics........


Firstly, to Lars grobe in reply to how I mapped the texture on to the
surface of the book from my last post. The book was made in Maya, nurbs
surface -> polygon -> obj2mesh , the texture mapping was also done in maya,
basically it's a planar map going straight through the book as though you
were reading it. The texture was just a photo looking straight onto the
book, and the planar map causes it to stretch and bend on the surface the
right amount. Wasn't tricky at all.
 
Secondly, was a bit confused by Georg's advice when you said -aa should be
increased, did you mean increased in accuracy? ie putting aa to a lower
value? Or did you mean increasing aa by setting it to a higher value?
Because the lower the aa value the more accurate the picture, so I can only
see setting aa lower than .15 as a good thing not higher?
 
Well anyway I definitely don't think aa is the problem anyway. Since the
last renders I sent out ive brightened the stained glass a bit so more light
gets in, and the results this time are pretty crazy! The glass is rose
window at the front is projecting loads of blotches of colour.
 
Check out these renders, in the first I used 
 
-x 2560 -y 2048 -ar 128 -ad 512 -aa .15 -as 256 -ab 5
 
in the second I set the -aa to .10 and halved the ad and as , as the
rendering time would have been stupid
 
-x 2560 -y 2048 -ar 128 -ad 256 -aa .10 -as 128 -ab 5
 
The second has much larger colour splotches which suggests to me that its
not the ambient accuracy, and the splotch are being cause by to low ad and
as. So im doing a render now with ad and as up at 1024 and 512, we shall see
how that goes. If any one has any other ideas please say! I need to get some
results inside this building soon as my project is due in soon!
 
 
https://www.bris.ac.uk/fluff/u/js0754/iBqEK1g3QV8ruqxb269Qsg7j/Output8.jpg
<https://www.bris.ac.uk/fluff/u/js0754/iBqEK1g3QV8ruqxb269Qsg7j/Output8.jpg>

 
https://www.bris.ac.uk/fluff/u/js0754/VW4ynFc05IgiAVwIbzPjuA7j/Output9pcondl
owaa.jpg
<https://www.bris.ac.uk/fluff/u/js0754/VW4ynFc05IgiAVwIbzPjuA7j/Output9pcond
lowaa.jpg> 
 
Thanks guys!
 
John
 
 

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040329/f3a154f3/attachment-0001.html
From schorsch at schorsch.com  Mon Mar 29 20:27:01 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Mon Mar 29 20:27:06 2004
Subject: [Radiance-general] Still having trouble, new pics........
In-Reply-To: <000801c415b7$dd2cdd80$0300a8c0@cumberland>
References: <000801c415b7$dd2cdd80$0300a8c0@cumberland>
Message-ID: <Pine.BSF.4.58.0403291317280.99434@emancholl.pair.com>

John Sutherland wrote:

> Secondly, was a bit confused by Georg's advice when you said -aa should
> be increased, did you mean increased in accuracy? ie putting aa to a
> lower value? Or did you mean increasing aa by setting it to a higher
> value? Because the lower the aa value the more accurate the picture, so
> I can only see setting aa lower than .15 as a good thing not higher?

Increasing a parameter means to give it a higher numeric value.
Increasing -aa will result in lower accuracy. But since you have
-ad and -as at relatively inaccurate settings, that would result
in a better balance. Alternatively, you can increase -ad and -as,
which also results in better balance, with better accuracy
overall, but taking (possibly much) more time to render.
In either direction you will eventually find a combination that
reduces or even eliminates the artifacts.


> Well anyway I definitely don't think aa is the problem anyway.

There's hardly ever a single parameter responsible for specific
artifacts. They all need to play together in the right way.

Your new pictures are a nice demonstration of what happens when
you disturb the balance even more than was first the case.
I actually suspect that the original builders of that space
would have been very happy if they could have produced such
an effect in reality! ;)


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From js0754 at bris.ac.uk  Mon Mar 29 20:50:17 2004
From: js0754 at bris.ac.uk (John Sutherland)
Date: Mon Mar 29 20:50:11 2004
Subject: [Radiance-general] Still having trouble, new pics........
In-Reply-To: <Pine.BSF.4.58.0403291317280.99434@emancholl.pair.com>
Message-ID: <001701c415be$ae1b49d0$0300a8c0@cumberland>

Firstly Guilio,
	Yes im using mkillum , the sources are about the equivalent of a
few cm behind the windows and they are shining in through the glass. Do
you still think there might be something up to do with the mkillum?

Secondly Georg , I was following the rendering parameters suggested by 

http://radsite.lbl.gov/radiance/refer/Notes/rpict_options.html

Which suggests that 512 and 256 for ad and as is accurate? My mistake if
they are not, but im trying double that now anyway. Cheers guys.....
John

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Georg
Mischler
Sent: 29 March 2004 19:27
To: Radiance general discussion
Subject: Re: [Radiance-general] Still having trouble, new pics........

John Sutherland wrote:

> Secondly, was a bit confused by Georg's advice when you said -aa
should
> be increased, did you mean increased in accuracy? ie putting aa to a
> lower value? Or did you mean increasing aa by setting it to a higher
> value? Because the lower the aa value the more accurate the picture,
so
> I can only see setting aa lower than .15 as a good thing not higher?

Increasing a parameter means to give it a higher numeric value.
Increasing -aa will result in lower accuracy. But since you have
-ad and -as at relatively inaccurate settings, that would result
in a better balance. Alternatively, you can increase -ad and -as,
which also results in better balance, with better accuracy
overall, but taking (possibly much) more time to render.
In either direction you will eventually find a combination that
reduces or even eliminates the artifacts.


> Well anyway I definitely don't think aa is the problem anyway.

There's hardly ever a single parameter responsible for specific
artifacts. They all need to play together in the right way.

Your new pictures are a nice demonstration of what happens when
you disturb the balance even more than was first the case.
I actually suspect that the original builders of that space
would have been very happy if they could have produced such
an effect in reality! ;)


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From schorsch at schorsch.com  Mon Mar 29 21:22:46 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Mon Mar 29 21:22:51 2004
Subject: [Radiance-general] Still having trouble, new pics........
In-Reply-To: <001701c415be$ae1b49d0$0300a8c0@cumberland>
References: <001701c415be$ae1b49d0$0300a8c0@cumberland>
Message-ID: <Pine.BSF.4.58.0403291419230.99434@emancholl.pair.com>

John Sutherland wrote:

> I was following the rendering parameters suggested by
>
> http://radsite.lbl.gov/radiance/refer/Notes/rpict_options.html
>
> Which suggests that 512 and 256 for ad and as is accurate? My mistake if
> they are not, but im trying double that now anyway. Cheers guys.....


The optimal parameters strongly depend on the characteristics
of each specific scene.

Any recommended values can only be a starting point, from where
on you need to check in which direction to correct them.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From Giulio.Antonutto at arup.com  Tue Mar 30 10:43:31 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Tue Mar 30 10:43:51 2004
Subject: [Radiance-general] Still having trouble, new pics........
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF37D@l-gnts05>

last idea.... if you want to try,
change the windows material to (it maps the sky luminance to the windows and
use them like a visible light source):

skyfunc brightfunc light_of_the_sky
2 winxmit winxmit.cal
0
0

light_of_the_sky light your_window
0
0
3 .7 .7 .7


have a look to the rendering....
use this settings:
-ab 2 -aa .08 -ad 1024 -as 512 -ar 64 -ps 1 -dj .8 -ds .1
(it takes a while...)
may be just check that the normal are fine before trying....
... I always forgot about this, ?$"*@#{{ !   ;-))



----------------------------------------------------------------------------
----------------------------------------------------------------------------
------
if it is the same splotchy image, stop here; if it is not go further.
----------------------------------------------------------------------------
----------------------------------------------------------------------------
--------
just add this:

void colorpict colour_of_the_glass
.........this is yor texture for the glass


colour_of_the_glass glass the_glass_matherial
0
0
3 .76 .76 .76


skyfunc brightfunc light_of_the_sky
2 winxmit winxmit.cal
0
0

##now the material is illum and not light...

light_of_the_sky illum your_window
1 the_glass_matherial
0
3 .7 .7 .7



hope it helps
cheers
giulio

PS of course you should change .76 and .7 according to your glass
description...


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From Christoph.Reinhart at nrc-cnrc.gc.ca  Tue Mar 30 19:43:36 2004
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Tue Mar 30 19:43:47 2004
Subject: [Radiance-general] survey on the use of daylight simulation tools
Message-ID: <10C94843061E094A98C02EB77CFC328708102A5C@nrcmrdex1d.imsb.nrc.ca>

Dear colleagues,
 
In December 2003 we invited you to participate in an online survey on the
current use of daylight simulation tools during building design. Thanks to
your active participation, we collected 185 valid responses from 27
countries. Key findings were:

*	survey participants worked predominantly on offices and schools 

*	tools' complexity and insufficient documentation are weaknesses of
existing programs 

*	self-training was the most common training method 

*	tool usage is significantly higher during design development than
during schematic design 

*	shading type and control are the most common design aspects
influenced by daylighting analysis 

*	over 50% of selected tools were RADIANCE based 

Should you be interested in the results of the survey, you can download a
PDF file with the main findings from
<http://irc.nrc-cnrc.gc.ca/ie/light/survey.html>
http://irc.nrc-cnrc.gc.ca/ie/light/survey.html.
 
Thanks to all of you who took the time to participate in the survey! 
 
Your thoughts and comments are welcome. Greetings from Ottawa,
 
Christoph
Christoph Reinhart, Ph.D.                        tel: (613) 993-9703 
Research Officer                                      fax: (613) 954-3733 
Institute for Research in Construction      e-mail:
christoph.reinhart@nrc-cnrc.gc.ca 
National Research Council Canada        1200 Montreal Road M-24, Ottawa 
Ontario K1A 0R6 Canada 

Daylighting Analysis Software: 
The Lightswitch Wizard (initial design)   www.buildwiz.com
<http://www.buildwiz.com/lightswitch/index.cfm>  
DAYSIM (expert software)                       www.daysim.com
<outbind://51/www.daysim.com>   <outbind://51/www.daysim.com> 


IEA Task 31
http://www.iea-shc.org/task31/ <http://www.iea-shc.org/task31/>  

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040330/1bc5aaeb/attachment.htm
From Rob.Fitzsimmons at Summit.Fiserv.com  Tue Mar 30 21:18:57 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Tue Mar 30 21:19:44 2004
Subject: [Radiance-general] Camera Path help
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D693CB@corvallis.summit.fiserv.com>

Howdy,

I'm attempting my first walk-through animation.. 

I've looked in the archive for advice and found this 
http://www.radiance-online.org/pipermail/radiance-general/2002-November/0004
96.html 

I have a key.vf file with several keyframes 
rview -vtv -vp -64.7853 -33.2456 12 -vd 0.844167 0.500454 -0.192164 -vu 0 0
1 -vh 50 -vv 50 -vo 0 -va 0 -vs 0 -vl 0 
rview -vtv -vp -29.3975 3.41763 14 -vd 0.844167 0.500454 -0.192164 -vu 0 0 1
-vh 50 -vv 50 -vo 0 -va 0 -vs 0 -vl 0 -t 4 
?.... continued 

Notice I do not have a -t at then end of my first view - correct? or should
it be -t 0 ? 
By adding up the -t #'s at then end of each view, I have a total of 36
seconds. 

I created a key.fmt file with this contents 
rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh}
-vv ${vv} -vs 0 -vl 0 -t ${t} 

Then I type this command - (one line) 
rcalc -i key.fmt -e
'$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz;$8=vh;$9=vv;$10=t' lobby1.vf |
tabfunc Px Py Pz Dx Dy Dz H V T > key.cal

My key.cal looks like this: 
Px(x):select(1,); 
Py(x):select(1,); 
Pz(x):select(1,); 
Dx(x):select(1,); 
Dy(x):select(1,); 
Dz(x):select(1,); 
H(x):select(1,); 
V(x):select(1,); 
T(x):select(1,); 

Is that correct? 

I have a 36 second animation that I want to render at 15 fps 
When I run 
cnt 540 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/15' -e
'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)' >
anim.vf

I get an error: 

key.cal, line 1: 
Px(x):select(1,); 
?????????????? ^ unexpected character 

What am I missing? 

Thanks 
Rob F 
? 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040330/f8312443/attachment.html
From alexkr at iastate.edu  Wed Mar 31 17:08:26 2004
From: alexkr at iastate.edu (Alexandre Kisslinger)
Date: Wed Mar 31 17:08:34 2004
Subject: [Radiance-general] winxmit.cal
Message-ID: <6.0.1.1.2.20040331090451.01b3b208@alexkr.mail.iastate.edu>

Hi,
I'm trying to use gensky as shown on chapter 3.1.3 of the Radiance book.
I have problems because the program can't find winxmit.cal.
Can anyone advice me on where I should keep winxmit.cal?

Thanks,
Alex


From Giulio.Antonutto at arup.com  Wed Mar 31 17:34:42 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed Mar 31 17:34:49 2004
Subject: [Radiance-general] winxmit.cal
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF3A0@l-gnts05>

you should find it on the web site of radiance...
may be the RAYPATH is not set up... or the libraries are missing...

anyway:

winmix.cal is:

--------------------start of file-------------------
{
	winxmit.cal - window transmittance function.

	4/24/86
}

winxmit = 1.018 * Rdot * (1 + (1 - Rdot*Rdot)^1.5);

--------------------end of file------------------------------

after saving the file with the right name you can simply place it in your
scene directory or add the RAYPATH varable to your configuration file that
is used to define the location of radiance libaries
usually such file is

1 - .bash_profile

after a good back up of the file add:

RAYPATH=.:/your/system/path/to/radiance/libraries
export RAYPATH

or

2 - .cshrc

after a good back up of the file add:

setenv RAYPATH .:/your/system/path/to/radiance/libraries:{RAYPATH}


hope it helps,
giulio


PS
different directories can be defined, just separate them with " : "
  " . " stays for current directory.





-----Original Message-----
From: Alexandre Kisslinger [mailto:alexkr@iastate.edu]
Sent: 31 March 2004 16:08
To: radiance-general@radiance-online.org
Subject: [Radiance-general] winxmit.cal


Hi,
I'm trying to use gensky as shown on chapter 3.1.3 of the Radiance book.
I have problems because the program can't find winxmit.cal.
Can anyone advice me on where I should keep winxmit.cal?

Thanks,
Alex


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From gward at lmi.net  Wed Mar 31 18:04:02 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 31 18:05:27 2004
Subject: [Radiance-general] oconv-problem
In-Reply-To: <BAY16-F85pp8eurQQtH00017b2e@hotmail.com>
References: <BAY16-F85pp8eurQQtH00017b2e@hotmail.com>
Message-ID: <07520956-832D-11D8-B70A-000A95BB392A@lmi.net>

Are you running the Unix version or DesktopRadiance?  If you are 
running DR, you should rely on the Yahoo! group for questions related 
specifically to those executables, such as this one.  This is the 
general discussion group, which includes some discussion on 
Unix-specific problems.

Sorry for the slow response, but I was out of town.
-Greg

> From: "Birger Van den Brande" <vdb_birger@hotmail.com>
> Date: March 25, 2004 8:37:26 AM PST
>
> Hi everyone,
>
> I'm working on a daylight-study on an officebuilding.  I'm done with 
> the modellingphase using Autocad, and have succesfully converted the 
> 3D-model to a rad file.  When I try to run the oconv-command, I always 
> get the following error :
>
> "The instruction at 00406033 referenced memory at 06060606
> The memory could not be read from"
>
> I simply can't get Radiance to make the .oct file, I tried to split 
> the rad-file but that didn't work.
> I'm quiet sure it has something to do with memory shortage, but I'm 
> not sure let alone know what to do about it.
>
> If anyone has got a solution for such a problem, please inform me 
> about it.
>
> Thank you in advance,
>
> Birger Van den Brande


From gward at lmi.net  Wed Mar 31 18:33:54 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 31 18:37:07 2004
Subject: [Radiance-general] solarbr
In-Reply-To: <65054.163.167.187.46.1080572179.squirrel@webmail2.londonmet.ac.uk>
References: <000001c41393$c04d2ce0$0300a8c0@cumberland><Pine.BSF.4.58.0403281044380.69556@emancholl.pair.com>
	<C853B6F2-80D5-11D8-B124-000A95BB392A@lmi.net>
	<65054.163.167.187.46.1080572179.squirrel@webmail2.londonmet.ac.uk>
Message-ID: <338EC8E4-8331-11D8-B70A-000A95BB392A@lmi.net>

Hi Axel,

It's probably fair to say that gensky can't be trusted to produce 
accurate absolute luminances for the sun OR the sky at ANY altitude.  
Skylight is simply too variable to be pinned down, even on average, 
without considering the local climate.  In the case of low altitude 
sunlight in particular, there are a lot of highly variable atmospheric 
effects at play, which is why we don't see many reruns of the same 
sunset.  In the code for gensky, I was going by some general ballpark 
values taken from Wyszecki and Stiles (Color Science), and it's a 
really crude estimate.

For accurate values, you'll have to come up with your own "sources" and 
set the -B and -R options accordingly.

-Greg

> From: "Axel Jacobs" <a.jacobs@londonmet.ac.uk>
> Date: March 29, 2004 6:56:19 AM PST
>
> Dear all,
>
> if I read gensky.c (line 267) correctly, then the solar brightness is
> constant for sin(sun altitude) below 0.16 which is an altitude of about
> 9.2deg.
> Does that mean to say that RADIANCE skies can't be trusted for (very) 
> low
> angle sun?
> Is there a scientific, computational, or philosophical reason behind 
> this?
>
> Cheers
>
> Axel


From gward at lmi.net  Wed Mar 31 18:43:26 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 31 18:44:52 2004
Subject: [Radiance-general] Still having trouble, new pics........
In-Reply-To: <000801c415b7$dd2cdd80$0300a8c0@cumberland>
References: <000801c415b7$dd2cdd80$0300a8c0@cumberland>
Message-ID: <8815D21D-8332-11D8-B70A-000A95BB392A@lmi.net>

Hi John,

Firstly, you should move your illum's to just inside the windows, 
rather than having them on the outside.  This should reduce the bizarre 
color artifacts you're seeing.  Secondly, you should increase your -ar 
parameter a bit and simultaneously increase -ad and -as parameter 
values.  This should reduce the splotches you are seeing in corners.  
Decreasting the -aa value might help as well, but I would try that next 
if these suggestions don't solve the problem.

-Greg

> From: "John Sutherland" <js0754@bris.ac.uk>
> Date: March 29, 2004 10:01:29 AM PST
>
Firstly, to Lars grobe in reply to how I mapped the texture on to the 
surface of the book from my last post. The book was made in Maya, nurbs 
surface -> polygon -> obj2mesh , the texture mapping was also done in 
maya, basically it?s a planar map going straight through the book as 
though you were reading it. The texture was just a photo looking 
straight onto the book, and the planar map causes it to stretch and 
bend on the surface the right amount. Wasn?t tricky at all.

Secondly, was a bit confused by Georg?s advice when you said ?aa should 
be increased, did you mean increased in accuracy? ie putting aa to a 
lower value? Or did you mean increasing aa by setting it to a higher 
value? Because the lower the aa value the more accurate the picture, so 
I can only see setting aa lower than .15 as a good thing not higher?

Well anyway I definitely don?t think aa is the problem anyway. Since 
the last renders I sent out ive brightened the stained glass a bit so 
more light gets in, and the results this time are pretty crazy! The 
glass is rose window at the front is projecting loads of blotches of 
colour.

...

From gward at lmi.net  Wed Mar 31 19:16:08 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Mar 31 19:17:34 2004
Subject: [Radiance-general] Re: Camera Path help
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D693CB@corvallis.summit.fiserv.com>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D693CB@corvallis.summit.fiserv.com>
Message-ID: <19D84257-8337-11D8-B70A-000A95BB392A@lmi.net>

Hi Rob,

Again, we need a FAQ for this.  In my original post, I had left out the  
-vo and -va options in the key.fmt file, which is why the whole thing  
didn't work.  See the following correction post:

http://www.radiance-online.org/pipermail/radiance-general/2004- 
February/001469.html

-Greg

> From: "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>
> Date: March 30, 2004 11:18:57 AM PST
>
Howdy,

I'm attempting my first walk-through animation..

  I've looked in the archive for advice and found this
http://www.radiance-online.org/pipermail/radiance-general/2002- 
November/000496.html

I have a key.vf file with several keyframes
rview -vtv -vp -64.7853 -33.2456 12 -vd 0.844167 0.500454 -0.192164 -vu  
0 0 1 -vh 50 -vv 50 -vo 0 -va 0 -vs 0 -vl 0
rview -vtv -vp -29.3975 3.41763 14 -vd 0.844167 0.500454 -0.192164 -vu  
0 0 1 -vh 50 -vv 50 -vo 0 -va 0 -vs 0 -vl 0 -t 4

  ?.... continued

  Notice I do not have a -t at then end of my first view - correct? or  
should it be -t 0 ?
By adding up the -t #'s at then end of each view, I have a total of 36  
seconds.

  I created a key.fmt file with this contents
rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh  
${vh} -vv ${vv} -vs 0 -vl 0 -t ${t}

  Then I type this command - (one line)
rcalc -i key.fmt -e  
'$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz;$8=vh;$9=vv;$10=t'  
lobby1.vf | tabfunc Px Py Pz Dx Dy Dz H V T > key.cal

My key.cal looks like this:
Px(x):select(1,);
  Py(x):select(1,);
  Pz(x):select(1,);
  Dx(x):select(1,);
  Dy(x):select(1,);
  Dz(x):select(1,);
  H(x):select(1,);
V(x):select(1,);
T(x):select(1,);

  Is that correct?


