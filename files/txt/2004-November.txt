From gward at lmi.net  Mon Nov  1 05:58:01 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Nov  1 05:59:15 2004
Subject: [Radiance-general] Off-topic:  PLEASE VOTE!!
Message-ID: <9B8768E2-2BC2-11D9-82E1-000A95BB392A@lmi.net>

I'm not going to tell you just how to vote, but if you are registered 
in the States, please don't forget to visit the polls on Tuesday, 
assuming you haven't already cast your ballot.  I think most of the 
people on this list are not so lucky as to live in the god-blessed U.S. 
of A., the greatest country on the planet (soon to be the only country 
on the planet).  I feel really sorry for you.  All you bystanders can 
do is fret, but there is a website if you're interested in sharing your 
discounted opinion with others:

	http://www.betavote.com

To my fellow Americans, proud and reluctant alike, this is probably the 
most important presidential election of our time, and given how close 
the race is, yours could be the vote that decides the outcome 
(especially if you happen to sit on the Supreme Court).

If you are "on the fence" and wish to discuss it, I'm happy to talk.  
If you just want to know my opinion from curiosity, I'll give you a 
hint:  the environment is my #1 issue.  If you can figure out how to 
run rpict, you should be able to figure this one out.

Proud to be a Californian,
-Greg


From cbauer- at t-online.de  Mon Nov  1 13:45:11 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Mon Nov  1 12:34:44 2004
Subject: [Radiance-general] Off-topic:  PLEASE VOTE!!
References: <9B8768E2-2BC2-11D9-82E1-000A95BB392A@lmi.net>
Message-ID: <41862FD7.2060702@t-online.de>

Hi,

just had a look at that betavote-site. Is there a reason why the pic of 
Bush looks absolutely sharp while that Kerry is obviously a bit blurred, 
or is it just pure accident :-)..

BTW, a recent poll here in Germany gave 73% for Kerry and 17% for Bush, 
a bit differing from the betavote numbers. The funny thing is, that so 
many people who aren't interested in their own countries politics, and 
who probably haven't gone to vote locally since years, now want to 
participate.. .

BTW #2 for me, the question of Bush or Kerry is still a bit boring, but 
if one day Arnold Schwarzenegger runs for president, I wanna vote, too !!!

-cb


From rpg at rumblestrip.org  Mon Nov  1 17:21:37 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Nov  1 17:21:30 2004
Subject: [Radiance-general] Off-topic:  PLEASE VOTE!!
In-Reply-To: <9B8768E2-2BC2-11D9-82E1-000A95BB392A@lmi.net>
References: <9B8768E2-2BC2-11D9-82E1-000A95BB392A@lmi.net>
Message-ID: <41866291.80806@rumblestrip.org>

Greg Ward wrote:
> I think most of the people on
> this list are not so lucky as to live in the god-blessed U.S. of A., the 
> greatest country on the planet (soon to be the only country on the 
> planet).  I feel really sorry for you.  All you bystanders can do is 
> fret.

As I walked to work this morning I passed a huge dump truck belonging to
a demolition company that was parked in front of a construction site.
Painted on the grille were the words "Shock 'n Awe!".  Hmmm...

Yesterday on the road I passed a car with a sticker on the rear
windshield depicting an American flag and the words "Fear This".

I'm fretting, and I *live* here.  It seems that many of my fellow
citizens think life is a football (*not* "soccer") game, or a gang
fight.  They haven't evolved past high school gym class, they can't
pronounce "nuclear", and ironically enough, can't use the word
"hegemony" in a sentence.

I agree Greg.  If you're one of the blessed ones, get out there tomorrow
and try to make a difference:

http://www.rumblestrip.org/weblog/214/youd-better-think

-Rob G.


From w.weidner at cycas.de  Mon Nov  1 18:02:36 2004
From: w.weidner at cycas.de (Wolfgang Weidner)
Date: Mon Nov  1 18:02:35 2004
Subject: [Radiance-general] Off-topic:  PLEASE VOTE!!
In-Reply-To: <9B8768E2-2BC2-11D9-82E1-000A95BB392A@lmi.net>
References: <9B8768E2-2BC2-11D9-82E1-000A95BB392A@lmi.net>
Message-ID: <41866C2C.90205@cycas.de>

Greg Ward wrote:

> I'm not going to tell you just how to vote, but if you are registered 
> in the States, please don't forget to visit the polls on Tuesday, 
> assuming you haven't already cast your ballot.  I think most of the 
> people on this list are not so lucky as to live in the god-blessed 
> U.S. of A., the greatest country on the planet (soon to be the only 
> country on the planet).  I feel really sorry for you.  All you 
> bystanders can do is fret, but there is a website if you're interested 
> in sharing your discounted opinion with others:
>
>     http://www.betavote.com
>
> To my fellow Americans, proud and reluctant alike, this is probably 
> the most important presidential election of our time, and given how 
> close the race is, yours could be the vote that decides the outcome 
> (especially if you happen to sit on the Supreme Court).
>
> If you are "on the fence" and wish to discuss it, I'm happy to talk.  
> If you just want to know my opinion from curiosity, I'll give you a 
> hint:  the environment is my #1 issue.  If you can figure out how to 
> run rpict, you should be able to figure this one out.
>
> Proud to be a Californian,
> -Greg
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
I don't know much about Kerry and what he may do in future, but with the 
deep inside feeling that Bush and his administration
is most dangerous to everyone on this planet, i hope most voters share 
your opinion and that no court can stop counting those
opinions this time.

(but i still have problems with rpict)

Regards,
Wolfgang

From Rob.Fitzsimmons at Summit.Fiserv.com  Mon Nov  1 23:43:41 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Mon Nov  1 23:43:48 2004
Subject: [Radiance-general] Ellipsoidal Spotlight ies file
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF051DF384@corvallis>

I hope I'm doing this correctly.. can anyone give me some advice?
I'm modeling a Source 4 10 degree ellipsoidal spotlight
On the web, I found this pdf which contains photometric data
http://www.productionadvantageonline.com/pdf_files/410.pdf

By looking at the cosine curve on page 2, I gathered these numbers - degrees
vs candela
0           .5          1            1.5         2           2.5         3
3.5         4           4.5         5            5.4   90.00
82000 81000  80000  76000   70000  62000   53000 45000   36000  27000
16000   0      0
I'm not sure if I should double the angles - in that the chart goes from 0
to 5, yet this is a 10 degree light

from the table on the upper right of page 2,
750 Watt lamp -- 21900 lumens (tho I guess eis2rad doesn't use this number?)

So I put it into a eis file like this:
TILT=NONE
1    21900    1    12  1  1  1 -.6 0 0
1 1 750
0     .5     1      1.5     2      2.5     3     3.5     4     4.5     5
5.4   90.00
82000 81000  80000  76000   70000  62000   53000 45000   36000 27000   16000
0     0

I left my RwR book at home, so I don't remember the meaning of all the other
numbers.
Does this seem correct? Since this is the first time I've tried doing this,
I mostly want to know if I'm looking for the right numbers, and using them
correctly

Thanks, Rob Fitzsimmons

From pisuke at blueyonder.co.uk  Tue Nov  2 00:56:04 2004
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Tue Nov  2 00:56:09 2004
Subject: [Radiance-general] Cygwin Radiance
Message-ID: <1099353364.2191.7.camel@leviathan>

Hi!

I've put pre-compiled binaries for Windows/Cygwin of the latest 3R6P1
Radiance version here:

http://www.dream.unipa.it/dream/pub/dot/anselmo/radiance/cygwin/radiance_cygwin_3R6P1.tar.gz

The package also includes 3ds2mgf, gendaylit, a sample bash_profile with
the correct environment variable exports and a README file with
information about how to install the binaries.

I hope that you may find it useful.

-- 
Francesco 



From francesco.anselmo at arup.com  Tue Nov  2 10:40:15 2004
From: francesco.anselmo at arup.com (Francesco Anselmo)
Date: Tue Nov  2 10:40:22 2004
Subject: [Radiance-general] Cygwin Radiance
Message-ID: <EDB5EE732DF718419F0BBADB40C8E96C02061224@l-gnts04.global.arup.com>

Unfortunately the file I've uploaded has the wrong permissions
and I can't access the web server from work. I'll try to fix it tonight.

Sorry for the inconvenience! :(

Francesco


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From a.i.ruppertsberg at Bradford.ac.uk  Tue Nov  2 11:50:14 2004
From: a.i.ruppertsberg at Bradford.ac.uk (Alexa I. Ruppertsberg)
Date: Tue Nov  2 11:50:39 2004
Subject: [Radiance-general] Ellipsoidal Spotlight ies file
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF051DF384@corvallis>
Message-ID: <41876666.1080300@bradford.ac.uk>

Hi Rob,

sounds fine to me. No, you don't need to double the numbers, as your 
numbers correspond to one half of the spotlight cone (0 deg = centre of 
spotlight to 5 deg).
I played around with the lumens number and did not find that it was 
affecting anything.

good luck!

alexa

Fitzsimmons, Rob wrote:

> I hope I'm doing this correctly.. can anyone give me some advice?
> I'm modeling a Source 4 10 degree ellipsoidal spotlight
> On the web, I found this pdf which contains photometric data
> http://www.productionadvantageonline.com/pdf_files/410.pdf
> 
> By looking at the cosine curve on page 2, I gathered these numbers - degrees
> vs candela
> 0           .5          1            1.5         2           2.5         3
> 3.5         4           4.5         5            5.4   90.00
> 82000 81000  80000  76000   70000  62000   53000 45000   36000  27000
> 16000   0      0
> I'm not sure if I should double the angles - in that the chart goes from 0
> to 5, yet this is a 10 degree light
> 
> from the table on the upper right of page 2,
> 750 Watt lamp -- 21900 lumens (tho I guess eis2rad doesn't use this number?)
> 
> So I put it into a eis file like this:
> TILT=NONE
> 1    21900    1    12  1  1  1 -.6 0 0
> 1 1 750
> 0     .5     1      1.5     2      2.5     3     3.5     4     4.5     5
> 5.4   90.00
> 82000 81000  80000  76000   70000  62000   53000 45000   36000 27000   16000
> 0     0
> 
> I left my RwR book at home, so I don't remember the meaning of all the other
> numbers.
> Does this seem correct? Since this is the first time I've tried doing this,
> I mostly want to know if I'm looking for the right numbers, and using them
> correctly
> 
> Thanks, Rob Fitzsimmons
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Dr. Alexa I. Ruppertsberg
Department of Optometry
University of Bradford
Bradford
BD7 1DP
UK

Phone: 	++44 (0) 1274 - 23 53 78
email: 	a.i.ruppertsberg@bradford.ac.uk
web:	www.staff.brad.ac.uk/airupper
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From g_a_chadwick at yahoo.co.uk  Tue Nov  2 12:32:20 2004
From: g_a_chadwick at yahoo.co.uk (George Chadwick)
Date: Tue Nov  2 12:32:26 2004
Subject: [Radiance-general] Approximating the gross daylight flux through
	venetian blinds
Message-ID: <20041102113220.16235.qmail@web25210.mail.ukl.yahoo.com>


John -

 

> ANALYSING RADIATION TRANSPORT THROUGH 

> COMPLEX FENESTRATION SYSTEMS
> N.S. Campbell and J.K. Whittle


Thanks for that.

 

Interestingly the v. helpful C & W paper, although 

expressing sentiments that are bang on target, 

seems to compare one simulation with another, 

but not with real-world empirical data, unless I?m 

missing something. 

 

Maybe up to some point, comparisons of their 

Monte Carlo results with some similar simulation 

in Radiance could be interesting/useful, but surely 

not as useful as comparison with some real-world 

empirical data. 

 

Desperate for any kind of confirmation, my very 

rough lux-meter measurements of office blind 

overall transmission on an overcast London 

day compared tolerably with their simulations. 

 

I?m hoping some better real-world data will 

come to light eventually.

 



> .... just how useful is a daylight factor 

> evaluation for the scenario you describe.  

> Surely, the blinds are there also to control

> direct sunlight?  Perhaps even it is their 

> main purpose.

On the subject of control of direct sunlight by 

blinds; despite having more than a suspicion 

that you know more about daylighting than 

I do, here goes:

 

The reason I said I was ?not interested? in 

direct sunlight in those studies was that for me 

at least, in the UK, the ?overcast sky? is the most 

useful environment to apply in daylight studies 

at the early stages of building design development. 

 

It allows alternative architectural designs to be 

compared for degrees of compliance with 

particular published UK CIBSE and BCO 

criteria so as to merit the alternatives' 

daylighting.

 

I find that the usual objective for these sorts of 

study is to find the daylight factor with ?venetian 

blinds down, slats horizontal, overcast sky?.

 

The control of direct sunlight by the venetian 

blinds need not figure in these early simulations, 

despite that being their major function.

 

Any fixed solar shading does of course have 

to be modelled reasonably well, as do the 

relevant parameters for the solar transmission 

of the fa?ade and glazings; the geometry and 

reflectance of the building model and its context. 

 

Agreed nevertheless that if one could develop 

a function to simulate blinds, then not allowing 

the direct factor to be simulated would be 

somewhat perverse. 

 

Regards, George Chadwick


		
---------------------------------
 ALL-NEW Yahoo! Messenger - all new features - even more fun!  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041102/d3cc3240/attachment.htm
From lucet at servidor.unam.mx  Tue Nov  2 15:18:58 2004
From: lucet at servidor.unam.mx (genevieve lucet)
Date: Tue Nov  2 15:19:26 2004
Subject: [Radiance-general] Off-topic:  PLEASE VOTE!!
Message-ID: <22C5405A-2CDA-11D9-AED9-000D93AF79C2@servidor.unam.mx>

Hi,

To everybody who leaves in EUA, I really wish you the best for today. I 
wish you to have a president who will really represent you, and wont  
be the expresion of a minority.

Good luck.
genevieve lucet


From MLO at Natural-Works.com  Tue Nov  2 16:10:44 2004
From: MLO at Natural-Works.com (Miguel Oliveira)
Date: Tue Nov  2 16:10:58 2004
Subject: [Radiance-general] (no subject)
Message-ID: <mailman.0.1099408258.370.radiance-general@radiance-online.org>

 

MLO@natural-works.com

Miguel Oliveira

NaturalWorks   -  Consultants

Lisbon:351213971816/914310067

 <http://www.natural-works.com/> www.Natural-Works.com

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041102/521b0f32/attachment.html
From MLO at Natural-Works.com  Tue Nov  2 16:15:53 2004
From: MLO at Natural-Works.com (Miguel Oliveira)
Date: Tue Nov  2 16:15:56 2004
Subject: [Radiance-general] trans material
Message-ID: <mailman.1.1099408556.370.radiance-general@radiance-online.org>

 

Just a quick one..
 
Dose anyone now the specular transmission and diffuse transmission
parameters of a real glass example.
 
 
Thanks,

 

Miguel Oliveira

NaturalWorks   -  Consultants

Lisbon:351213971816/914310067

 <http://www.natural-works.com/> www.Natural-Works.com

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041102/42b95861/attachment.htm
From apian at pab-opto.de  Tue Nov  2 16:41:36 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Tue Nov  2 16:41:22 2004
Subject: [Radiance-general] trans material
In-Reply-To: <200411021514.iA2FE9UB032666@light-simulation.com>
References: <200411021514.iA2FE9UB032666@light-simulation.com>
Message-ID: <4187AAB0.60904@pab-opto.de>

Miguel Oliveira wrote:

>  
>
>Just a quick one..
>
> 
>
>Dose anyone now the specular transmission and diffuse transmission parameters of a real glass example.
>
Hi,
Translucent glass comes as structured clear glass, edged, screen 
printed, sandblasted etc. and its forward scattering varies considerably.
Or are you looking for coated glass, which is non-diffuse, but its 
directional transmittance ("transmission"- whatever, with or without 
Fresnel) varies form the rule-of-thumb 10%-reflexion-at-normal-incidence 
too ?

-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From rpg at rumblestrip.org  Tue Nov  2 16:58:04 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Nov  2 16:58:05 2004
Subject: [Radiance-general] Ellipsoidal Spotlight ies file
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF051DF384@corvallis>
References: <7B2F6EA5E35E214882CB9828962BC3CF051DF384@corvallis>
Message-ID: <4187AE8C.3090102@rumblestrip.org>

Hi Rob,

Fitzsimmons, Rob wrote:
> I'm not sure if I should double the angles - in that the chart goes from 0
> to 5, yet this is a 10 degree light

I see Alexa answered this one for ya...

> from the table on the upper right of page 2,
> 750 Watt lamp -- 21900 lumens (tho I guess eis2rad doesn't use this number?)

ies2rad doesn't use the number, but the recommended practice for the 
standard format is to make sure that the lumen value entered there is 
the correct value for the lamp that was in the fixture when it was 
photometered (which in your case is correct at 21,900).  This way you 
can always accurately scale the candela values to account for different 
lamps, color filters, even lamps that aren't on that chart.  Since there 
is sometimes variance in lamp efficacy from manufacturer to manufactuer, 
it's nice to always have that lumen assumption in the file.  I think 
this is more useful in architectural applications, but I just mention it.

I realize this is nitpicking, but it's just a good habit to get into, 
especially  if you plan to use these ies files in some sort of library.

-------------------
    Rob Guglielmetti
www.rumblestrip.org

From Christoph.Reinhart at nrc-cnrc.gc.ca  Tue Nov  2 16:59:15 2004
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Tue Nov  2 16:59:27 2004
Subject: [Radiance-general] Radiance workshop 2005
Message-ID: <10C94843061E094A98C02EB77CFC32870F4372DE@nrcmrdex1d.imsb.nrc.ca>

Dear fellow Radiance users,
 
Greg, John M, and myself had a little offline discussion considering the
date and place of the 2005 Radiance workshop. With this email, we invite you
to share your opinions considering a preferred date and location for the
next workshop.
 
The NRC could host the workshop next August in conjunction with the IBPSA
conference 2005 which will take place in Montreal, Canada
(http://www.ibpsa.ca/bs2005/ <http://www.ibpsa.ca/bs2005/> ) from Monday,
August 15th to Thursday, August 18th. The workshop would take place on the
Thursday and Friday before the conference (August 11th & 12th) at the School
of Architecture at McGill. The school is located in downtown Montreal within
easy walking distance from restaurants and cafes. The benefit of organizing
the workshop in conjunction with a major building simulation conference
might be that some individuals (including myself) have an easier time
internally justifying travel expenses to attend a major conference than an
informal workshop. 
 
John offered to host the 2006 workshop in the UK. Please let us know your
preference for either location. 
 
Best regards,

Christoph

PS: Montreal and surroundings are definitely worth a trip in case you have
not been here before. There are plenty of weekend/ after meeting activities
from Moshe Safdie's Habitat (that would make a nice Radiance model) to
canoeing in the Laurentians.

Christoph Reinhart, Ph.D.                        tel: (613) 993-9703 
Research Officer                                      fax: (613) 954-3733 
Institute for Research in Construction      e-mail:
christoph.reinhart@nrc-cnrc.gc.ca 
National Research Council Canada        1200 Montreal Road M-24, Ottawa 
Ontario K1A 0R6 Canada 

Daylighting Analysis Software: 
The Lightswitch Wizard (initial design)   www.buildwiz.com
<http://www.buildwiz.com/lightswitch/index.cfm>  
DAYSIM (expert software)                       www.daysim.com
<outbind://24/www.daysim.com>  <outbind://24/www.daysim.com>  


IEA Task 31
http://www.iea-shc.org/task31/ <http://www.iea-shc.org/task31/>  

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041102/be217a37/attachment.html
From MLO at Natural-Works.com  Tue Nov  2 17:22:28 2004
From: MLO at Natural-Works.com (Miguel Oliveira)
Date: Tue Nov  2 17:22:32 2004
Subject: [Radiance-general] trans material
In-Reply-To: <4187AAB0.60904@pab-opto.de>
Message-ID: <mailman.2.1099412552.370.radiance-general@radiance-online.org>

Hi,
 I'm looking for diffuse glass used in translucent pyramidal skylights.

Miguel Oliveira

NaturalWorks   -  Consultants

Lisbon:351213971816/914310067

www.Natural-Works.com

-----Original Message-----
From: Peter Apian-Bennewitz [mailto:apian@pab-opto.de] 
Sent: Tuesday, November 02, 2004 3:42 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] trans material

Miguel Oliveira wrote:

>  
>
>Just a quick one..
>
> 
>
>Dose anyone now the specular transmission and diffuse transmission
parameters of a real glass example.
>
Hi,
Translucent glass comes as structured clear glass, edged, screen 
printed, sandblasted etc. and its forward scattering varies considerably.
Or are you looking for coated glass, which is non-diffuse, but its 
directional transmittance ("transmission"- whatever, with or without 
Fresnel) varies form the rule-of-thumb 10%-reflexion-at-normal-incidence 
too ?

-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general





From tarik.rahman at ed.ac.uk  Wed Nov  3 16:53:45 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Wed Nov  3 16:53:51 2004
Subject: [Radiance-general] creating a good animation view file
Message-ID: <1099497225.4188ff09db0f8@sms.ed.ac.uk>


Hi
For creating animation viewfiles such as the massive anim.vf used in Paul
Debevec's Rendering with Natural Light, is there a simple or easy way to come
up with appropriate frame viewpoints and directions for say moving through a
room and looking at different objects in the room? Or should I just stop being
lazy and try work out some nice views?!

Tarik
--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From mail_lists at pfbreton.com  Wed Nov  3 17:05:02 2004
From: mail_lists at pfbreton.com (Pierre-Felix Breton)
Date: Wed Nov  3 17:05:02 2004
Subject: [Radiance-general] Radiance workshop 2005
In-Reply-To: <10C94843061E094A98C02EB77CFC32870F4372DE@nrcmrdex1d.imsb.nrc.ca>
Message-ID: <001301c4c1be$e0f005b0$0164640a@eclipse>

I would definitively  support the Montreal option  (I live here) :).  
 
I would like to point out that the http://www.lichtplaner.com/ software has
been developped to work in the 3ds max software , which is also developped
and designed from Montreal.  Maybe something may be provided by Discreet for
that..  I'll have to ask around.
 
Best regards,
 
Pierre-F?lix Breton
----------------------------------------------------
lighting consultant / consultant en ?clairage
pfbreton@pfbreton.com
www.pfbreton.com <http://www.pfbreton.com/> 
 
(and a designer of the 3ds max software for Discreet)

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Reinhart,
Christoph
Sent: Tuesday, November 02, 2004 10:59 AM
To: 'radiance-general@radiance-online.org'
Subject: [Radiance-general] Radiance workshop 2005


Dear fellow Radiance users,
 
Greg, John M, and myself had a little offline discussion considering the
date and place of the 2005 Radiance workshop. With this email, we invite you
to share your opinions considering a preferred date and location for the
next workshop.
 
The NRC could host the workshop next August in conjunction with the IBPSA
conference 2005 which will take place in Montreal, Canada
(http://www.ibpsa.ca/bs2005/) from Monday, August 15th to Thursday, August
18th. The workshop would take place on the Thursday and Friday before the
conference (August 11th & 12th) at the School of Architecture at McGill. The
school is located in downtown Montreal within easy walking distance from
restaurants and cafes.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041103/6b652bcf/attachment.htm
From Rob.Fitzsimmons at Summit.Fiserv.com  Wed Nov  3 18:34:21 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Wed Nov  3 18:34:36 2004
Subject: [Radiance-general] creating a good animation view file
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D696D7@corvallis>

I use rview to do it...
Start with you initial view, then use a series of move, pivot, aim commands
to go to another view
Then set that view.
 v keys.vf -t 2
move, aim, pivot  to another view
v keys.vf -t 3
the -t  indicates how many seconds after the previous view
You end up with a keys.vf with several keyframes
create a text file called key.fmt
rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 \
-vh ${vh} -vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}
generate a key.cal file
rcalc -i key.fmt -e '$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz; \
$8=vh;$9=vv;$10=t' keys.vf | tabfunc Px Py Pz Dx Dy Dz H V T > key.cal
then add up all your -t numbers from keys.vf and muliply that by your frames
per second (I use an excel spreadsheet)
In this case, I'm animating 15 fps for 36 seconds
cnt 540 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/15' -e \
'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)' >
anim.vf

If I were to animate at 30 fps,
 it'd be
cnt 1080 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/30' -e \
'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)' >
anim.vf

Use anim.vf in a ranimate file

Good luck!
Rob

BTW thanks to Rob G and Alexa for the help with my Source 4 spotlight

-----Original Message-----
From: Tarik Rahman
To: Radiance general discussion
Sent: 11/3/2004 7:53 AM
Subject: [Radiance-general] creating a good animation view file


Hi
For creating animation viewfiles such as the massive anim.vf used in
Paul
Debevec's Rendering with Natural Light, is there a simple or easy way to
come
up with appropriate frame viewpoints and directions for say moving
through a
room and looking at different objects in the room? Or should I just stop
being
lazy and try work out some nice views?!

Tarik
--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From rpg at rumblestrip.org  Wed Nov  3 23:03:17 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Nov  3 23:01:49 2004
Subject: [Radiance-general] Radiance workshop 2005
In-Reply-To: <001301c4c1be$e0f005b0$0164640a@eclipse>
References: <001301c4c1be$e0f005b0$0164640a@eclipse>
Message-ID: <418955A5.6050107@rumblestrip.org>

Pierre-Felix Breton wrote:
> I would definitively  support the Montreal option  (I live here) :). 

I would second Pierre-Felix's motion.  It would be great for me as well 
to have an east coast/North America venue, and I agree with Christoph, 
Montreal is a great city!

Maybe I'll make it a one-way trip.  ~8-\

-------------------
    Rob Guglielmetti
www.rumblestrip.org

From gward at lmi.net  Wed Nov  3 23:44:59 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Nov  3 23:45:22 2004
Subject: [Radiance-general] Radiance workshop 2005
In-Reply-To: <418955A5.6050107@rumblestrip.org>
References: <001301c4c1be$e0f005b0$0164640a@eclipse>
	<418955A5.6050107@rumblestrip.org>
Message-ID: <FDA52D3E-2DE9-11D9-A2E3-00306540F848@lmi.net>

I plan to buy a return ticket myself, to make it look like I'm just 
attending a meeting.

-G

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: November 3, 2004 2:03:17 PM PST
>
> Pierre-Felix Breton wrote:
>> I would definitively  support the Montreal option  (I live here) :).
>
> I would second Pierre-Felix's motion.  It would be great for me as 
> well to have an east coast/North America venue, and I agree with 
> Christoph, Montreal is a great city!
>
> Maybe I'll make it a one-way trip.  ~8-\
>
> -------------------
>    Rob Guglielmetti
> www.rumblestrip.org


From Rob.Fitzsimmons at Summit.Fiserv.com  Fri Nov  5 18:23:13 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Fri Nov  5 19:06:11 2004
Subject: [Radiance-general] creating a good animation view file
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D696E2@corvallis>

Tarik
Sorry, I left out the -vo 0 and -va 0
key.fmt should be  (all on one line)
rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh}
-vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}


the key.cal should look something like this
Px(x):select(x,-64.7853,-50.0121,-9.8244,10.185,10.185,11,
18.1985,67.4101,49.2971,33.793);
Py(x):select(x,-33.2456,4.54799,10.7872,10.5673,10.5673,
16.8863,15.6925,16.8799,-1.30873,-7.31969);
Pz(x):select(x,12,13,9.5,9.5,9.5,9.5,10.5478,10.5,9.59094,
10.1661);
Dx(x):select(x,0.844167,0.897459,0.970004,0.839548,-0.245395,
-0.845484,-0.990763,-0.913368,0.956497,0.800968);
Dy(x):select(x,0.500454,0.404528,0.226646,-0.54133,-0.968567,
-0.531364,-0.0175715,0.0300529,0.28554,0.587995);
Dz(x):select(x,-0.192164,-0.17585,-0.0878825,-0.046062,
-0.0407428,-0.0529912,-0.134459,-0.406025,-0.0598303,-0.112747);
H(x):select(x,50,50,50,50,50,50,50,50,50,50);
V(x):select(x,50,50,50,50,50,50,50,50,50,50);
T(x):select(x,1,3,6,3,2,2,2,5,3,5);

Rob

-----Original Message-----
From: Tarik Rahman
To: Rob.Fitzsimmons@Summit.Fiserv.com
Sent: 11/5/2004 6:46 AM
Subject: RE: [Radiance-general] creating a good animation view file


Hi Rob
Thanks very much for your help.
When I get to
./cnt 435 | ./rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$  1/15'
-e
'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(dy);dz=s(Dz);vh=s(H);vv=s(V)'
>
animate.vf

I get this error

key.cal, line 1:
Px(x):select(1,);
               ^ unexpected character

here is my key.cal as you specified
more key.cal
Px(x):select(1,);
Py(x):select(1,);
Pz(x):select(1,);
Dx(x):select(1,);
Dy(x):select(1,);
Dz(x):select(1,);
H(x):select(1,);
V(x):select(1,);
T(x):select(1,);



Do you know what the problem is?

Thanks

Tarik


Quoting "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>:

> I use rview to do it...
> Start with you initial view, then use a series of move, pivot, aim
commands
> to go to another view
> Then set that view.
>  v keys.vf -t 2
> move, aim, pivot  to another view
> v keys.vf -t 3
> the -t  indicates how many seconds after the previous view
> You end up with a keys.vf with several keyframes
> create a text file called key.fmt
> rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 \
> -vh ${vh} -vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}
> generate a key.cal file
> rcalc -i key.fmt -e '$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz; \
> $8=vh;$9=vv;$10=t' keys.vf | tabfunc Px Py Pz Dx Dy Dz H V T > key.cal
> then add up all your -t numbers from keys.vf and muliply that by your
frames
> per second (I use an excel spreadsheet)
> In this case, I'm animating 15 fps for 36 seconds
> cnt 540 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/15' -e \
>
'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)'
>
> anim.vf
>
> If I were to animate at 30 fps,
>  it'd be
> cnt 1080 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/30' -e \
>
'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)'
>
> anim.vf
>
> Use anim.vf in a ranimate file
>
> Good luck!
> Rob
>
> BTW thanks to Rob G and Alexa for the help with my Source 4 spotlight
>
> -----Original Message-----
> From: Tarik Rahman
> To: Radiance general discussion
> Sent: 11/3/2004 7:53 AM
> Subject: [Radiance-general] creating a good animation view file
>
>
> Hi
> For creating animation viewfiles such as the massive anim.vf used in
> Paul
> Debevec's Rendering with Natural Light, is there a simple or easy way
to
> come
> up with appropriate frame viewpoints and directions for say moving
> through a
> room and looking at different objects in the room? Or should I just
stop
> being
> lazy and try work out some nice views?!
>
> Tarik
> --
> Tarik Rahman
> PhD student, Institue of Perception, Action and Behaviour
> School of Informatics
> University of Edinburgh
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From wxo110 at psu.edu  Fri Nov  5 20:14:17 2004
From: wxo110 at psu.edu (Woogie)
Date: Fri Nov  5 20:14:22 2004
Subject: [Radiance-general] mkillum parameter modify...
Message-ID: <200411051914.OAA15811@webmail12.cac.psu.edu>

I wonder if someone knows how to change Mkillum parameters.
It is said in the manual that parameters can be changged in the input file in
the form

#@mkillum variable=value option switch{+|-}..

I am not sure how I can use this input file and where I have to put it.

I really appreciate any comments.

Thanks!




From gward at lmi.net  Fri Nov  5 20:29:10 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Nov  5 20:30:33 2004
Subject: [Radiance-general] mkillum parameter modify...
In-Reply-To: <200411051914.OAA15811@webmail12.cac.psu.edu>
References: <200411051914.OAA15811@webmail12.cac.psu.edu>
Message-ID: <F782BE4E-2F60-11D9-B531-000A95BB392A@lmi.net>

mkillum takes a Radiance scene file on it's input, and that's where you 
have to put these sorts of options.  The reason I did it that way is so 
you could change parameters between sections of your input files, 
instead of having them all fixed by the mkillum command line.

-Greg

> From: "Woogie" <wxo110@psu.edu>
> Date: November 5, 2004 11:14:17 AM PST
>
> I wonder if someone knows how to change Mkillum parameters.
> It is said in the manual that parameters can be changged in the input 
> file in
> the form
>
> #@mkillum variable=value option switch{+|-}..
>
> I am not sure how I can use this input file and where I have to put it.
>
> I really appreciate any comments.
>
> Thanks!


From tarik.rahman at ed.ac.uk  Fri Nov  5 20:46:05 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Fri Nov  5 20:46:09 2004
Subject: [Radiance-general] creating a good animation view file
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D696E2@corvallis>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D696E2@corvallis>
Message-ID: <1099683965.418bd87dda912@sms.ed.ac.uk>

I think that's what you had before because I have the same error. I have my
keys.vf file but where does that come into when processing the frames because
in all the commands you've written below, none of them use keys.vf. Or am I
just being stupid and missing a simple point here?

Tarik

Quoting "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>:

> Tarik
> Sorry, I left out the -vo 0 and -va 0
> key.fmt should be  (all on one line)
> rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh}
> -vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}
>
>
> the key.cal should look something like this
> Px(x):select(x,-64.7853,-50.0121,-9.8244,10.185,10.185,11,
> 18.1985,67.4101,49.2971,33.793);
> Py(x):select(x,-33.2456,4.54799,10.7872,10.5673,10.5673,
> 16.8863,15.6925,16.8799,-1.30873,-7.31969);
> Pz(x):select(x,12,13,9.5,9.5,9.5,9.5,10.5478,10.5,9.59094,
> 10.1661);
> Dx(x):select(x,0.844167,0.897459,0.970004,0.839548,-0.245395,
> -0.845484,-0.990763,-0.913368,0.956497,0.800968);
> Dy(x):select(x,0.500454,0.404528,0.226646,-0.54133,-0.968567,
> -0.531364,-0.0175715,0.0300529,0.28554,0.587995);
> Dz(x):select(x,-0.192164,-0.17585,-0.0878825,-0.046062,
> -0.0407428,-0.0529912,-0.134459,-0.406025,-0.0598303,-0.112747);
> H(x):select(x,50,50,50,50,50,50,50,50,50,50);
> V(x):select(x,50,50,50,50,50,50,50,50,50,50);
> T(x):select(x,1,3,6,3,2,2,2,5,3,5);
>
> Rob
>
> -----Original Message-----
> From: Tarik Rahman
> To: Rob.Fitzsimmons@Summit.Fiserv.com
> Sent: 11/5/2004 6:46 AM
> Subject: RE: [Radiance-general] creating a good animation view file
>
>
> Hi Rob
> Thanks very much for your help.
> When I get to
> ./cnt 435 | ./rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$  1/15'
> -e
> 'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(dy);dz=s(Dz);vh=s(H);vv=s(V)'
> >
> animate.vf
>
> I get this error
>
> key.cal, line 1:
> Px(x):select(1,);
>                ^ unexpected character
>
> here is my key.cal as you specified
> more key.cal
> Px(x):select(1,);
> Py(x):select(1,);
> Pz(x):select(1,);
> Dx(x):select(1,);
> Dy(x):select(1,);
> Dz(x):select(1,);
> H(x):select(1,);
> V(x):select(1,);
> T(x):select(1,);
>
>
>
> Do you know what the problem is?
>
> Thanks
>
> Tarik
>
>
> Quoting "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>:
>
> > I use rview to do it...
> > Start with you initial view, then use a series of move, pivot, aim
> commands
> > to go to another view
> > Then set that view.
> >  v keys.vf -t 2
> > move, aim, pivot  to another view
> > v keys.vf -t 3
> > the -t  indicates how many seconds after the previous view
> > You end up with a keys.vf with several keyframes
> > create a text file called key.fmt
> > rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 \
> > -vh ${vh} -vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}
> > generate a key.cal file
> > rcalc -i key.fmt -e '$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz; \
> > $8=vh;$9=vv;$10=t' keys.vf | tabfunc Px Py Pz Dx Dy Dz H V T > key.cal
> > then add up all your -t numbers from keys.vf and muliply that by your
> frames
> > per second (I use an excel spreadsheet)
> > In this case, I'm animating 15 fps for 36 seconds
> > cnt 540 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/15' -e \
> >
> 'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)'
> >
> > anim.vf
> >
> > If I were to animate at 30 fps,
> >  it'd be
> > cnt 1080 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/30' -e \
> >
> 'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)'
> >
> > anim.vf
> >
> > Use anim.vf in a ranimate file
> >
> > Good luck!
> > Rob
> >
> > BTW thanks to Rob G and Alexa for the help with my Source 4 spotlight
> >
> > -----Original Message-----
> > From: Tarik Rahman
> > To: Radiance general discussion
> > Sent: 11/3/2004 7:53 AM
> > Subject: [Radiance-general] creating a good animation view file
> >
> >
> > Hi
> > For creating animation viewfiles such as the massive anim.vf used in
> > Paul
> > Debevec's Rendering with Natural Light, is there a simple or easy way
> to
> > come
> > up with appropriate frame viewpoints and directions for say moving
> > through a
> > room and looking at different objects in the room? Or should I just
> stop
> > being
> > lazy and try work out some nice views?!
> >
> > Tarik
> > --
> > Tarik Rahman
> > PhD student, Institue of Perception, Action and Behaviour
> > School of Informatics
> > University of Edinburgh
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
>
>
> --
> Tarik Rahman
> PhD student, Institue of Perception, Action and Behaviour
> School of Informatics
> University of Edinburgh
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From MMoeck at engr.psu.edu  Fri Nov  5 23:08:39 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Fri Nov  5 23:08:47 2004
Subject: [Radiance-general] mkillum parameter modify...
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C233E7D@ENGRMAIL2.engr.psu.edu>

An example:
 
Let's call the file illumvoid.rad : Its very first line is
#@mkillum c=d d=400 s=20 
 
# creates around 1200*20 ray samples for an illum*.dat file, which samples the environment well
 
# first virtual emitter
void polygon t1
0 0 12
.......
 
# second virtual emitter
void polygon t2 
0 0 12
...
 
---------------
 
mkillum -ab 1 -ad 512 -as 256 -ar 5000 -av 14 14 14 octree_exterior <  illumvoid.rad > illum1.rad
oconv all scene files  illum1.rad > octree
rpict ... octree > picture
 
Dr. Moeck
 
 
 

	-----Original Message----- 
	From: Greg Ward [mailto:gward@lmi.net] 
	Sent: Fri 11/5/2004 2:29 PM 
	To: Radiance general discussion 
	Cc: 
	Subject: Re: [Radiance-general] mkillum parameter modify...
	
	

	mkillum takes a Radiance scene file on it's input, and that's where you
	have to put these sorts of options.  The reason I did it that way is so
	you could change parameters between sections of your input files,
	instead of having them all fixed by the mkillum command line.
	
	-Greg
	
	> From: "Woogie" <wxo110@psu.edu>
	> Date: November 5, 2004 11:14:17 AM PST
	>
	> I wonder if someone knows how to change Mkillum parameters.
	> It is said in the manual that parameters can be changged in the input
	> file in
	> the form
	>
	> #@mkillum variable=value option switch{+|-}..
	>
	> I am not sure how I can use this input file and where I have to put it.
	>
	> I really appreciate any comments.
	>
	> Thanks!
	
	
	_______________________________________________
	Radiance-general mailing list
	Radiance-general@radiance-online.org
	http://www.radiance-online.org/mailman/listinfo/radiance-general
	

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 5914 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20041105/375a1b8b/attachment.bin
From tarik.rahman at ed.ac.uk  Mon Nov  8 15:22:55 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Mon Nov  8 15:23:22 2004
Subject: [Radiance-general] problems creating animation viewfile
Message-ID: <1099923775.418f813f0edfa@sms.ed.ac.uk>


Hi,
 I'm having a problem in generating my anim.vf file. I set my views by working
in rview doing
v keys.vf -t 2 etc. every time I change view.

Then I create key.fmt from the command line

./rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh} -vv
${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t} > key.fmt

Then I want to generate the  key.cal file

./rcalc -i key.fmt -e
'$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz;$8=vh;$9=vv;$10=t' keys.vf |
tabfunc Px Py Pz Dx Dy Dz H V T > key.cal

I'm animating 15 fps for 29 seconds so I do
./cnt 435 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/15' -e
'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)' >
anim.vf

This is where I get my error

key.cal, line 1:
Px(x):select(1,);
                ^ unexpected character

 here is my key.cal as you specified
 more key.cal
 Px(x):select(1,);
 Py(x):select(1,);
 Pz(x):select(1,);
 Dx(x):select(1,);
 Dy(x):select(1,);
 Dz(x):select(1,);
 H(x):select(1,);
 V(x):select(1,);
 T(x):select(1,);
I don't know where I'm going wrong but think it has something to do with reading
from keys.vf into key.cal

I then want to use anim.vf in my ranimate file

Thanks for any help

Tarik


--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From jedev at visarc.com  Mon Nov  8 16:46:46 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Nov  8 16:47:06 2004
Subject: [Radiance-general] problems creating animation viewfile
In-Reply-To: <1099923775.418f813f0edfa@sms.ed.ac.uk>
References: <1099923775.418f813f0edfa@sms.ed.ac.uk>
Message-ID: <418F94E6.3000408@visarc.com>

Hi Tarik,

The problem is that keys.cal is not being completely generated. I think 
that there are a couple of things to look at.

First, I do not think that you are doing quite the right thing to create 
key.fmt. "key.fmt" should be a file that contains a format, in this case:

rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh} -vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}

This should all be on one line and should not contain trailing or 
leading white spaces. This is the string that rcalc will match to in 
order to extract your variables.

As far as I can tell, I do not think that this is a valid command:

./rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh} -vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t} > key.fmt

Second, I believe that there may be a problem with the case of the 
variable names used. For example, your key.fmt uses all lower case (such 
as px, py and pz). Whereas in the call to tabfunc and the second call to 
rcalc you use mixed case for the variable names such as (Px, Py and Pz). 
I am not sure what os you are running on, it is possible that cygwin 
ignores case and quite likely that windows does. Unix/Linux/OsX however 
do expect case to match.

-Jack de Valpine

Tarik Rahman wrote:

>Hi,
> I'm having a problem in generating my anim.vf file. I set my views by working
>in rview doing
>v keys.vf -t 2 etc. every time I change view.
>
>Then I create key.fmt from the command line
>
>./rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh} -vv
>${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t} > key.fmt
>
>Then I want to generate the  key.cal file
>
>./rcalc -i key.fmt -e
>'$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz;$8=vh;$9=vv;$10=t' keys.vf |
>tabfunc Px Py Pz Dx Dy Dz H V T > key.cal
>
>I'm animating 15 fps for 29 seconds so I do
>./cnt 435 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/15' -e
>'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)' >
>anim.vf
>
>This is where I get my error
>
>key.cal, line 1:
>Px(x):select(1,);
>                ^ unexpected character
>
> here is my key.cal as you specified
> more key.cal
> Px(x):select(1,);
> Py(x):select(1,);
> Pz(x):select(1,);
> Dx(x):select(1,);
> Dy(x):select(1,);
> Dz(x):select(1,);
> H(x):select(1,);
> V(x):select(1,);
> T(x):select(1,);
>I don't know where I'm going wrong but think it has something to do with reading
>from keys.vf into key.cal
>
>I then want to use anim.vf in my ranimate file
>
>Thanks for any help
>
>Tarik
>
>
>--
>Tarik Rahman
>PhD student, Institue of Perception, Action and Behaviour
>School of Informatics
>University of Edinburgh
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>  
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



From gward at lmi.net  Mon Nov  8 17:47:29 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Nov  8 17:47:35 2004
Subject: [Radiance-general] Re: Rvu window? (moved from Radiance-dev)
In-Reply-To: <000201c4c4c3$628bc350$0100a8c0@mallah>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>
Message-ID: <E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>

Hi Marija,

This came up in July on the general list, and no one seemed to have a  
proper answer...

	http://www.radiance-online.org/pipermail/radiance-general/2004-July/ 
001939.html

The window size is determined by the X11 window manager.  Some window  
managers have preferences you can set for specific X11 clients, but I  
don't know where they live.  Do you know what window manager you are  
using?  (Hint: they are generally platform-specific, so if you tell us  
what machine/OS you are using, this would help.)  Can anyone on the  
list offer suggestions?

-Greg

> From: "Marija" <cveleglg@bankerinter.net>
> Date: November 5, 2004 1:29:35 AM PST
>
> Hello,
> Is there any way to define position and size of rvu window?
>
> Thanks,
> Marija


From apian at pab-opto.de  Mon Nov  8 18:25:20 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Mon Nov  8 18:24:37 2004
Subject: [Radiance-general] Re: Rvu window? (moved from Radiance-dev)
In-Reply-To: <E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>
	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>
Message-ID: <418FAC00.8020003@pab-opto.de>

Greg Ward wrote:

> Hi Marija,
>
> This came up in July on the general list, and no one seemed to have a  
> proper answer...
>
>     http://www.radiance-online.org/pipermail/radiance-general/2004-July/ 
> 001939.html
>
> The window size is determined by the X11 window manager.  Some window  
> managers have preferences you can set for specific X11 clients, but I  
> don't know where they live.  Do you know what window manager you are  
> using?  (Hint: they are generally platform-specific, so if you tell 
> us  what machine/OS you are using, this would help.)  Can anyone on 
> the  list offer suggestions?
>
> -Greg
>
>> From: "Marija" <cveleglg@bankerinter.net>
>> Date: November 5, 2004 1:29:35 AM PST
>>
>> Hello,
>> Is there any way to define position and size of rvu window?
>>
>> Thanks,
>> Marija
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
likely the original question was asking for something like

    rvu -geometry 100x600-0-0 -vf abc.vf -ab 2 .....

"man 7 X" says:

GEOMETRY SPECIFICATIONS
       One of the advantages of using window systems instead of 
hardwired terminals is that applications don't have to be restricted to 
a particular
       size  or  location  on  the screen.  Although the layout of 
windows on a display is controlled by the window manager that the user 
is running
       (described below), most X programs accept a command line argument 
of the form -geometry WIDTHxHEIGHT+XOFF+YOFF (where  WIDTH,  HEIGHT,  XOFF,
       and YOFF are numbers) for specifying a preferred size and 
location for this application's main window.

whereas rvu says:

merkur $ rvu -geometry 800x600 -vf close.vf baugruppen.oct
rvu: fatal - command line error at '-geometry'

-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From jedev at visarc.com  Mon Nov  8 19:25:37 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Nov  8 19:25:50 2004
Subject: [Radiance-general] problems creating animation viewfile
In-Reply-To: <1099937222.418fb5c63c2a0@sms.ed.ac.uk>
References: <1099934728.418fac0823ccc@sms.ed.ac.uk>
	<418FAFCC.8070006@visarc.com>
	<1099937222.418fb5c63c2a0@sms.ed.ac.uk>
Message-ID: <418FBA21.2040204@visarc.com>

Hi Tarik,

I think I have spotted the problem. The first line in the keys.vf  file 
does not have a -t parameter. The first line should always be -t 0 and 
every line needs to have -t parameter assigned.

rcalc is very unforgiving in this regard. Since your first line did not 
match the format it just stopped. It is also very sensitive to trailing 
whitespace, thus if you had "-t 0 " as opposed to "-t 0" this would also 
cause a problem.

Hopefully this will get you past this piece and onto the next.

-Jack

Tarik Rahman wrote:

>OK, here's my files I took out the ./
>
>
>Quoting Jack de Valpine <jedev@visarc.com>:
>
>  
>
>>Hi Tarik,
>>
>>No I do not believe that you should have "./" before rview.  Look in
>>keys.vf, your format string in keys.fmt should correspond to what is in
>>this file. Why don't you send a message including your keys.vf  so we
>>can see what is in there.
>>
>>-Jack
>>
>>Tarik Rahman wrote:
>>
>>    
>>
>>>Hi there
>>>Thanks for your help, I forgot to say that I did actually open my key.fmt
>>>      
>>>
>>file
>>    
>>
>>>and typed in
>>>./rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh}
>>>      
>>>
>>-vv
>>    
>>
>>>${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}
>>>all in one line. I'm supposed to have the ./ before rview right? and also in
>>>      
>>>
>>the
>>    
>>
>>>keys.vf file too?
>>>I still get the same error even if I change the cases of the variables. I'm
>>>using Redhat 9 and also tried it on cygwin on my laptop and get the same
>>>errors. Don't know what the problem is.
>>>
>>>Tarik
>>>
>>>Quoting Jack de Valpine <jedev@visarc.com>:
>>>
>>>
>>>
>>>      
>>>
>>>>Hi Tarik,
>>>>
>>>>The problem is that keys.cal is not being completely generated. I think
>>>>that there are a couple of things to look at.
>>>>
>>>>First, I do not think that you are doing quite the right thing to create
>>>>key.fmt. "key.fmt" should be a file that contains a format, in this case:
>>>>
>>>>rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh ${vh}
>>>>-vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t}
>>>>
>>>>This should all be on one line and should not contain trailing or
>>>>leading white spaces. This is the string that rcalc will match to in
>>>>order to extract your variables.
>>>>
>>>>As far as I can tell, I do not think that this is a valid command:
>>>>
>>>>./rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh
>>>>        
>>>>
>>${vh}
>>    
>>
>>>>-vv ${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t} > key.fmt
>>>>
>>>>Second, I believe that there may be a problem with the case of the
>>>>variable names used. For example, your key.fmt uses all lower case (such
>>>>as px, py and pz). Whereas in the call to tabfunc and the second call to
>>>>rcalc you use mixed case for the variable names such as (Px, Py and Pz).
>>>>I am not sure what os you are running on, it is possible that cygwin
>>>>ignores case and quite likely that windows does. Unix/Linux/OsX however
>>>>do expect case to match.
>>>>
>>>>-Jack de Valpine
>>>>
>>>>Tarik Rahman wrote:
>>>>
>>>>
>>>>
>>>>        
>>>>
>>>>>Hi,
>>>>>I'm having a problem in generating my anim.vf file. I set my views by
>>>>>
>>>>>
>>>>>          
>>>>>
>>>>working
>>>>
>>>>
>>>>        
>>>>
>>>>>in rview doing
>>>>>v keys.vf -t 2 etc. every time I change view.
>>>>>
>>>>>Then I create key.fmt from the command line
>>>>>
>>>>>./rview -vtv -vp ${px} ${py} ${pz} -vd ${dx} ${dy} ${dz} -vu 0 0 1 -vh
>>>>>          
>>>>>
>>${vh}
>>    
>>
>>>>>          
>>>>>
>>>>-vv
>>>>
>>>>
>>>>        
>>>>
>>>>>${vv} -vo 0 -va 0 -vs 0 -vl 0 -t ${t} > key.fmt
>>>>>
>>>>>Then I want to generate the  key.cal file
>>>>>
>>>>>./rcalc -i key.fmt -e
>>>>>'$1=recno;$2=px;$3=py;$4=pz;$5=dx;$6=dy;$7=dz;$8=vh;$9=vv;$10=t' keys.vf |
>>>>>tabfunc Px Py Pz Dx Dy Dz H V T > key.cal
>>>>>
>>>>>I'm animating 15 fps for 29 seconds so I do
>>>>>./cnt 435 | rcalc -o key.fmt -f key.cal -f spline.cal -e 't=$1/15' -e
>>>>>'px=s(Px);py=s(Py);pz=s(Pz);dx=s(Dx);dy=s(Dy);dz=s(Dz);vh=s(H);vv=s(V)' >
>>>>>anim.vf
>>>>>
>>>>>This is where I get my error
>>>>>
>>>>>key.cal, line 1:
>>>>>Px(x):select(1,);
>>>>>              ^ unexpected character
>>>>>
>>>>>here is my key.cal as you specified
>>>>>more key.cal
>>>>>Px(x):select(1,);
>>>>>Py(x):select(1,);
>>>>>Pz(x):select(1,);
>>>>>Dx(x):select(1,);
>>>>>Dy(x):select(1,);
>>>>>Dz(x):select(1,);
>>>>>H(x):select(1,);
>>>>>V(x):select(1,);
>>>>>T(x):select(1,);
>>>>>I don't know where I'm going wrong but think it has something to do with
>>>>>
>>>>>
>>>>>          
>>>>>
>>>>reading
>>>>>from keys.vf into key.cal
>>>>
>>>>
>>>>        
>>>>
>>>>>I then want to use anim.vf in my ranimate file
>>>>>
>>>>>Thanks for any help
>>>>>
>>>>>Tarik
>>>>>
>>>>>
>>>>>--
>>>>>Tarik Rahman
>>>>>PhD student, Institue of Perception, Action and Behaviour
>>>>>School of Informatics
>>>>>University of Edinburgh
>>>>>
>>>>>_______________________________________________
>>>>>Radiance-general mailing list
>>>>>Radiance-general@radiance-online.org
>>>>>http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>          
>>>>>
>>>>--
>>>>#	John E. de Valpine
>>>>#	president
>>>>#
>>>>#	visarc incorporated
>>>>#	http://www.visarc.com
>>>>#
>>>>#	channeling technology for superior design and construction
>>>>
>>>>
>>>>
>>>>_______________________________________________
>>>>Radiance-general mailing list
>>>>Radiance-general@radiance-online.org
>>>>http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>>
>>>>        
>>>>
>>>--
>>>Tarik Rahman
>>>PhD student, Institue of Perception, Action and Behaviour
>>>School of Informatics
>>>University of Edinburgh
>>>--
>>>Tarik Rahman
>>>PhD student, Institue of Perception, Action and Behaviour
>>>School of Informatics
>>>University of Edinburgh
>>>
>>>
>>>
>>>
>>>      
>>>
>>--
>>#	John E. de Valpine
>>#	president
>>#
>>#	visarc incorporated
>>#	http://www.visarc.com
>>#
>>#	channeling technology for superior design and construction
>>
>>
>>    
>>
>
>
>--
>Tarik Rahman
>PhD student, Institue of Perception, Action and Behaviour
>School of Informatics
>University of Edinburgh
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041108/39320960/attachment-0001.html
From cbauer- at t-online.de  Tue Nov  9 12:58:20 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Tue Nov  9 11:49:10 2004
Subject: [Radiance-dev] Re: [Radiance-general] Re: Rvu window? (moved
	from	Radiance-dev)
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>
	<418FAC00.8020003@pab-opto.de>
Message-ID: <4190B0DC.9000300@t-online.de>

Peter Apian-Bennewitz wrote:

>       (described below), most X programs accept a command line argument 
> of the form -geometry WIDTHxHEIGHT+XOFF+YOFF (where  WIDTH,  HEIGHT,  XOFF,
>       and YOFF are numbers) for specifying a preferred size and location 
> for this application's main window.
> 
> whereas rvu says:
> 
> merkur $ rvu -geometry 800x600 -vf close.vf baugruppen.oct
> rvu: fatal - command line error at '-geometry'
> 
> -Peter
> 

the following is evident for the developers, but probably not to 
everyone else:

the problem is (can be ..) a double one. I mean that that setting the 
window size and height by the user might also reflect the wish to set 
the image dimension for the view, this includes the aspect ratio. In 
Radiance, however, the aspect ratio is determined by the vertical and 
horizontal view angle, and even in rpict the width or the height in 
pixels is overriden if the angle aspect ratio doesn't match the pixel 
aspect ratio.

so apart form handing over pixel values to the X-server the question is 
which values should have priority (angles or pixels), this is - as 
always - one of personal preferences (I personally like the latter 
version, this is why 've changed it..)

If you simply set the window sizes in pixels, and the ratio doesn't 
match the angle aspect ratio, you'll end up with a window filled only 
partially by the image in one dimension, which doesn't look very 
professional. That's probably one reason why Radiance doesn't allow the 
user to interfere at this stage.. :-)

-cb







From schorsch at schorsch.com  Tue Nov  9 14:19:53 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Tue Nov  9 14:20:07 2004
Subject: [Radiance-dev] Re: [Radiance-general] Re: Rvu window? (moved
	from Radiance-dev)
In-Reply-To: <4190B0DC.9000300@t-online.de>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>
	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>
	<418FAC00.8020003@pab-opto.de> <4190B0DC.9000300@t-online.de>
Message-ID: <Pine.BSF.4.58.0411090810040.97125@emancholl.pair.com>

Carsten Bauer wrote:

> If you simply set the window sizes in pixels, and the ratio doesn't
> match the angle aspect ratio, you'll end up with a window filled only
> partially by the image in one dimension, which doesn't look very
> professional.

Rpict treats -x and -y as maximum values.  If the opening angles
result in a different image aspect, then it will fit the largest
possible rectangle of that aspect within the given -x/-y hull.

Rview applies the same concept, but uses the screen size as the hull.
It would be simple and straightforward to allow for a -geometry
override to that if someone is willing to volunteer the necessary
changes.

At the same time, it would probably be confusing to have -x and
-y determine the window size, because in a preview we usually
want to see a as much as possible as fast as possible. With rpict
we rather want (more) accurate results and may determine the
picture size based on the time we're willing to wait for them.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From rpg at rumblestrip.org  Tue Nov  9 16:00:11 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Nov  9 16:00:27 2004
Subject: [Radiance-dev] Re: [Radiance-general] Re: Rvu window? (moved
	from Radiance-dev)
In-Reply-To: <4190B0DC.9000300@t-online.de>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>
	<4190B0DC.9000300@t-online.de>
Message-ID: <4190DB7B.4050501@rumblestrip.org>

The original question remains.  Where do the defaults live?  This 
discussion has moved toward reinventing the wheel, if you ask me.  My 
question in July was how does one control default window sizes in X. 
Marija may be looking to specifically override the defaults with rvu 
(that does seem to be the question there), but the fact remains, if we 
can determine where the defaults are stored for some of our common Xen, 
that may be the simpest way. (?)

-------------------
    Rob Guglielmetti
www.rumblestrip.org

From cbauer- at t-online.de  Tue Nov  9 17:57:48 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Tue Nov  9 16:47:16 2004
Subject: [Radiance-dev] Re: [Radiance-general] Re: Rvu window? (moved
	from Radiance-dev)
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>
	<4190B0DC.9000300@t-online.de>
	<Pine.BSF.4.58.0411090810040.97125@emancholl.pair.com>
Message-ID: <4190F70C.6040001@t-online.de>

Georg Mischler wrote:

> At the same time, it would probably be confusing to have -x and
> -y determine the window size, because in a preview we usually
> want to see a as much as possible as fast as possible. With rpict
> we rather want (more) accurate results and may determine the
> picture size based on the time we're willing to wait for them.
> 

OK, for a preview image the exact pixel size is probably not really 
important, as long as it is fast and looks good ..

A rest of confusion, however, will always remain, because either in 
rpict or with a new X-Style geometry specification to rvu, with the 
currently employed hull principle one value will be usually overridden 
(as long as you don't have a table of the tangent function ready when 
typing in the values..), and you're not even shure which one, x or y.

BTW: again only a handful of dudes is discussing this, and the millions 
or billions of Radiance users in the whole wide world remain silent :-) 
Now, come on, let us hear your voice, you had a decent opinion recently 
on Bush vs. Kerry, what about angles vs pixels ???

-cb



From schorsch at schorsch.com  Tue Nov  9 17:25:49 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Tue Nov  9 17:25:56 2004
Subject: [Radiance-general] Rvu window?
In-Reply-To: <4190DB7B.4050501@rumblestrip.org>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>
	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>
	<418FAC00.8020003@pab-opto.de> <4190B0DC.9000300@t-online.de>
	<4190DB7B.4050501@rumblestrip.org>
Message-ID: <Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>

Rob Guglielmetti wrote:

> The original question remains.  Where do the defaults live?  This
> discussion has moved toward reinventing the wheel, if you ask me.  My
> question in July was how does one control default window sizes in X.

For rvu the answer is still the same: You don't.
For software that implements the standard protocol, -geometry
would be the answer.

Rvu makes the window as large as the screen allows. For this,
it relies on what the X server tells it about the screen height
and width. If on your machine the initial window is smaller than
the screen in both directions, then the X server lied to rvu.
Obviously, your X installation is (or was) broken. There's
nothing Radiance can do about that.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From rpg at rumblestrip.org  Tue Nov  9 17:45:02 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Nov  9 17:44:47 2004
Subject: [Radiance-general] Rvu window?
In-Reply-To: <Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>
	<4190B0DC.9000300@t-online.de>	<4190DB7B.4050501@rumblestrip.org>
	<Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>
Message-ID: <4190F40E.8090405@rumblestrip.org>

Georg Mischler wrote:

> Rvu makes the window as large as the screen allows. For this,
> it relies on what the X server tells it about the screen height
> and width. If on your machine the initial window is smaller than
> the screen in both directions, then the X server lied to rvu.
> Obviously, your X installation is (or was) broken. There's
> nothing Radiance can do about that.

I know, that's why I was trying to determine where these dimensions are 
stored in the X server configuration.  I've already said, I'm trying to 
approach this from the X server side, not the radiance side.  I realize 
this is a Radiance list, but I thought I'd tap the list's experience with X.

Maybe it's time to reinstall linux (or at least X) on this machine.  Oh 
well.

-------------------
    Rob Guglielmetti
www.rumblestrip.org

From gward at lmi.net  Tue Nov  9 17:45:46 2004
From: gward at lmi.net (Greg Ward)
Date: Tue Nov  9 17:45:52 2004
Subject: [Radiance-general] Rvu window?
In-Reply-To: <Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>
	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>
	<418FAC00.8020003@pab-opto.de> <4190B0DC.9000300@t-online.de>
	<4190DB7B.4050501@rumblestrip.org>
	<Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>
Message-ID: <CDC070A4-326E-11D9-8894-000A95BB392A@lmi.net>

I think Rob is right.  As I said in my initial reply, many window 
managers under X11 override the client window dimensions, and some can 
even be instructed how to override these dimensions for specific 
programs via a preferences file.  Unfortunately, each window manager 
has its own way of doing this, so we need to ask the X11 gurus out 
there how it might be done.  I don't really know how Gnome handles 
things, for instance.  Under twm, the user can create a ".twmrc" file 
in their home directory, which contains the variable "MaxWindowSize" 
that may be set to control the maximum dimensions for any client 
application.  Related variables are UsePPosition and RandomPlacement.  
I don't have a reference, but I know the Solaris window manager can 
direct individual client placements.

However, I agree that a -geom option would be a nice addition, and I'll 
look into it if there's enough interest.  I'm also curious what people 
have to say in response to Carsten's query about output dimensions 
versus view angles.  I always considered the latter to be more 
important, but I'm willing to be proved wrong democratically.

-Greg

> From: Georg Mischler <schorsch@schorsch.com>
> Date: November 9, 2004 8:25:49 AM PST
>
> Rob Guglielmetti wrote:
>
>> The original question remains.  Where do the defaults live?  This
>> discussion has moved toward reinventing the wheel, if you ask me.  My
>> question in July was how does one control default window sizes in X.
>
> For rvu the answer is still the same: You don't.
> For software that implements the standard protocol, -geometry
> would be the answer.
>
> Rvu makes the window as large as the screen allows. For this,
> it relies on what the X server tells it about the screen height
> and width. If on your machine the initial window is smaller than
> the screen in both directions, then the X server lied to rvu.
> Obviously, your X installation is (or was) broken. There's
> nothing Radiance can do about that.
>
> -schorsch


From apian at pab-opto.de  Tue Nov  9 18:21:45 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Tue Nov  9 18:20:43 2004
Subject: [Radiance-dev] Re: [Radiance-general] Re: Rvu window? (moved
	from Radiance-dev)
In-Reply-To: <4190DB7B.4050501@rumblestrip.org>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>	<4190B0DC.9000300@t-online.de>
	<4190DB7B.4050501@rumblestrip.org>
Message-ID: <4190FCA9.2050908@pab-opto.de>

Rob Guglielmetti wrote:

> The original question remains.  Where do the defaults live?  This 
> discussion has moved toward reinventing the wheel, if you ask me.  My 
> question in July was how does one control default window sizes in X. 
> Marija may be looking to specifically override the defaults with rvu 
> (that does seem to be the question there), but the fact remains, if we 
> can determine where the defaults are stored for some of our common 
> Xen, that may be the simpest way. (?)
>
> ,,,

two more bits to add:

man xrdb says:

       Xrdb  is used to get or set the contents of the RESOURCE_MANAGER 
property on the root window of screen 0, or the SCREEN_RESOURCES property on
       the root window of any or all screens, or everything combined.  
You would normally run this program from your X startup file.

       Most X clients use the RESOURCE_MANAGER and SCREEN_RESOURCES 
properties to get user preferences about color, fonts, and so  on  for  
applica-
       tions.   Having this information in the server (where it is 
available to all clients) instead of on disk, solves the problem in 
previous ver-
       sions of X that required you to maintain defaults files on every 
machine that you might use.  It also allows for dynamic changing of defaults
       without editing files.

so, sticking to the X WIndow System standards, one would put lines like

    radiance.rvu.x:800
    radiance.rvu.y:600

in a file and read that at start up of X. (xrdb -merge .Xdefaults would 
be typically used in a .xinitrc file at startup)

Concerning overriding the aspect ratio given in the view with that of 
pixel dimensions: rshow had (and has) the same problem and being able to 
select the behaviour is nice. To avoid yet another cmdline option in 
rvu, setting one pixel dimension would set the other pixel dimension 
from the aspect ratio given in the view file, whereas two user supplied 
pixel dimensions will fix the view aspect ratio. That'll be backward 
compatible too.

-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From apian at pab-opto.de  Tue Nov  9 18:36:48 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Tue Nov  9 18:35:24 2004
Subject: [Radiance-general] Rvu window?
In-Reply-To: <CDC070A4-326E-11D9-8894-000A95BB392A@lmi.net>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>
	<4190B0DC.9000300@t-online.de>	<4190DB7B.4050501@rumblestrip.org>	<Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>
	<CDC070A4-326E-11D9-8894-000A95BB392A@lmi.net>
Message-ID: <41910030.90006@pab-opto.de>

Greg Ward wrote:

> I think Rob is right.  As I said in my initial reply, many window 
> managers under X11 override the client window dimensions, and some can 
> even be instructed how to override these dimensions for specific 
> programs via a preferences file.  Unfortunately, each window manager 
> has its own way of doing this, so we need to ask the X11 gurus out 
> there how it might be done.  I don't really know how Gnome handles 
> things, for instance.  Under twm, the user can create a ".twmrc" file 
> in their home directory, which contains the variable "MaxWindowSize" 
> that may be set to control the maximum dimensions for any client 
> application.  Related variables are UsePPosition and RandomPlacement.  
> I don't have a reference, but I know the Solaris window manager can 
> direct individual client placements.

now, this topic evolves faster than I can download mails via DSL....

The X client can deny being resized/repositioned by a window manager.

        attri.override_redirect=True;           /* keep uwm silent */
        attri.backing_store=Always;             /* offscreen saved pixels */
        attri.event_mask=ButtonPressMask;
        
XChangeWindowAttributes(display,WID,CWEventMask|CWOverrideRedirect|CWBackingStore,&attri);

that piece of C is somewhat dated, but the  override_redirect  flag 
still lives in recent X, I bet. However, I might not be very up-to-date 
with my bare-metal X hacking.

Anyway- the main idea would be that the X client (rvu) has _some_ wish 
how large and where it wants to be. That much the client may specify and 
maybe (like) even enforce by the attributes, thereby ignoring any window 
manager.
At last, the window manager is just another X-client in the world of X, 
- no super natural powers assigned to it.

-Peter

PS: at least these bits belong on the dev list, mea culpa to those not 
used to an X-programming overdose...

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From cbauer- at t-online.de  Tue Nov  9 20:10:15 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Tue Nov  9 18:59:37 2004
Subject: [Radiance-general] Rvu window?
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>	<4190B0DC.9000300@t-online.de>	<4190DB7B.4050501@rumblestrip.org>	<Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>
	<4190F40E.8090405@rumblestrip.org>
Message-ID: <41911617.2020107@t-online.de>

Rob Guglielmetti wrote:
> I've already said, I'm trying to 
> approach this from the X server side, not the radiance side.  I realize 
> this is a Radiance list, but I thought I'd tap the list's experience 
> with X.

X-Server configuration is not really user-friendly :-), and there's also 
the (already mentioned) intermediate layer of the window manager..

But anyway, it doesn't make much sense looking for X Server settings in 
this case. As the name says it's a server, it serves you if you want 
something from it (it should do so..) X doesn't know anything about the 
app which is asking for a window, so it makes more sense to tell X what 
you want (which e.g is the thinking behind that -geometry option)





From rpg at rumblestrip.org  Tue Nov  9 20:29:14 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Nov  9 20:28:24 2004
Subject: [Radiance-general] Rvu window?
In-Reply-To: <41911617.2020107@t-online.de>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>	<4190B0DC.9000300@t-online.de>	<4190DB7B.4050501@rumblestrip.org>	<Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>	<4190F40E.8090405@rumblestrip.org>
	<41911617.2020107@t-online.de>
Message-ID: <41911A8A.4000707@rumblestrip.org>

Carsten Bauer wrote:
> X-Server configuration is not really user-friendly :-)

No kiddin'!

> But anyway, it doesn't make much sense looking for X Server settings in 
> this case. As the name says it's a server, it serves you if you want 
> something from it (it should do so..) X doesn't know anything about the 
> app which is asking for a window, so it makes more sense to tell X what 
> you want (which e.g is the thinking behind that -geometry option)

OK, sorta makes sense.

P.S.
I tried applying some of Peter A-B's info to this problem.  I created an 
.Xresources file (my xinitrc file seems to check for the presence of 
that and does the "xrdb -merge" thingy if it exists) and placed:

radiance.rvu.x:800
radiance.rvu.y:600

... in that file, but it didn't seem to work.  Of course the number of 
ways I could have screwed up that tip is roughly equal to the number of 
Kerry votes that may have been swallowed by Diebold voting machines a 
week ago.

As usual, I am humbled by the list's collective knowledge of this stuff. 
  I'll watch -- from the sidelines -- the continuing saga about getting 
this done from the application side.  Looking forward to seeing how this 
one pans out.

-------------------
    Rob Guglielmetti
www.rumblestrip.org

From schorsch at schorsch.com  Tue Nov  9 20:53:01 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Tue Nov  9 20:53:05 2004
Subject: [Radiance-general] Rvu window?
In-Reply-To: <41911A8A.4000707@rumblestrip.org>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>
	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>
	<418FAC00.8020003@pab-opto.de> <4190B0DC.9000300@t-online.de>
	<4190DB7B.4050501@rumblestrip.org>
	<Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>
	<4190F40E.8090405@rumblestrip.org> <41911617.2020107@t-online.de>
	<41911A8A.4000707@rumblestrip.org>
Message-ID: <Pine.BSF.4.58.0411091435580.97125@emancholl.pair.com>

Rob Guglielmetti wrote:

> P.S.
> I tried applying some of Peter A-B's info to this problem.  I created an
> .Xresources file (my xinitrc file seems to check for the presence of
> that and does the "xrdb -merge" thingy if it exists) and placed:
>
> radiance.rvu.x:800
> radiance.rvu.y:600
>
> ... in that file, but it didn't seem to work.

As with -geometry, that's something that the application must
actively support. There's lot of really fancy stuff that a
program could do for interacting nicely with the X11 system.
However, the design goal behind rvu was "make it paint a window
on screen with the least effort possible". It's debateable
whether it's worth the effort to change that... And the result of
such a debate would probably be determined by any volunteers.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From apian at pab-opto.de  Tue Nov  9 21:12:27 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Tue Nov  9 21:11:19 2004
Subject: [Radiance-general] Rvu window?
In-Reply-To: <41911A8A.4000707@rumblestrip.org>
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>	<4190B0DC.9000300@t-online.de>	<4190DB7B.4050501@rumblestrip.org>	<Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>	<4190F40E.8090405@rumblestrip.org>	<41911617.2020107@t-online.de>
	<41911A8A.4000707@rumblestrip.org>
Message-ID: <419124AB.4050604@pab-opto.de>

An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041109/e01ddf71/attachment.htm
From cbauer- at t-online.de  Wed Nov 10 00:39:42 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Tue Nov  9 23:30:09 2004
Subject: [Radiance-general] Rvu window?
References: <000201c4c4c3$628bc350$0100a8c0@mallah>	<E0FEFF54-31A5-11D9-998D-000A95BB392A@lmi.net>	<418FAC00.8020003@pab-opto.de>
	<4190B0DC.9000300@t-online.de>	<4190DB7B.4050501@rumblestrip.org>	<Pine.BSF.4.58.0411091110120.97125@emancholl.pair.com>	<4190F40E.8090405@rumblestrip.org>
	<41911617.2020107@t-online.de>	<41911A8A.4000707@rumblestrip.org>
	<Pine.BSF.4.58.0411091435580.97125@emancholl.pair.com>
Message-ID: <4191553E.9070404@t-online.de>

Georg Mischler wrote:

> on screen with the least effort possible". It's debateable
> whether it's worth the effort to change that...>


I don't know half as much as Peter about X, but the X-rvu-connection is not
that complicated, either. Don't ask me about the question of window 
position, but if you provide a width and height, making the rvu window 
start up with these vals can be simply achieved by removing two lines of 
code in rv3.c. Not that much effort, is it?

-cb



From kthibault at biomechanicsinc.com  Wed Nov 10 22:47:40 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Wed Nov 10 22:47:56 2004
Subject: [Radiance-general] Alpha Channel - Z-Buffer Images
Message-ID: <24C0FB38-3362-11D9-BD04-000A956A0F62@biomechanicsinc.com>

Hi folks - I apologize if this is covered in the Rendering with 
Radiance text, I am awaiting the Book Surge printing of it as we speak. 
  Does Radiance store and/or recover the alpha channel or z-buffer 
information for a scene and, if so, can either be output to an image 
for compositing and Depth of Field effects in another app like 
Photoshop?

Thanks,

Kirk


From gward at lmi.net  Wed Nov 10 23:12:17 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Nov 10 23:12:26 2004
Subject: [Radiance-general] Alpha Channel - Z-Buffer Images
In-Reply-To: <24C0FB38-3362-11D9-BD04-000A956A0F62@biomechanicsinc.com>
References: <24C0FB38-3362-11D9-BD04-000A956A0F62@biomechanicsinc.com>
Message-ID: <952D8E1A-3365-11D9-B477-000A95BB392A@lmi.net>

Hi Kirk,

The -z option of rpict, or the "ZFILE" variable in rad input (use 
RAWFILE also) will store the z-buffer for later depth-of-field 
processing.  If you want to use Radiance for that, the pdfblur script 
should come in handy.  Usage is described in the manual pages, which 
are not repeated in the book:

	http://radsite.lbl.gov/radiance/man_html/whatis.html

-Greg

> From: Kirk Thibault <kthibault@biomechanicsinc.com>
> Date: November 10, 2004 1:47:40 PM PST
>
> Hi folks - I apologize if this is covered in the Rendering with 
> Radiance text, I am awaiting the Book Surge printing of it as we 
> speak.  Does Radiance store and/or recover the alpha channel or 
> z-buffer information for a scene and, if so, can either be output to 
> an image for compositing and Depth of Field effects in another app 
> like Photoshop?
>
> Thanks,
>
> Kirk


From mstock at umich.edu  Fri Nov 12 19:43:08 2004
From: mstock at umich.edu (Mark Stock)
Date: Fri Nov 12 19:43:22 2004
Subject: [Radiance-general] Using vwright/rcalc to do -pj
Message-ID: <Pine.SOL.4.58.0411121332260.21958@asteroids.gpcc.itd.umich.edu>

In my toying around with pixel-wise depth-of-field blur, I am
encountering a need for pixel jitter. I want to run

vwrays -fd -vf tempvf -x 740 -y 480 | rcalc -id6
  -e `vwright i < tempvf`
  [expressions to modify $1..$6, the ray origin and direction]
  -od | rtrace -fdc -x 740 -y 480 @opts scene.oct > img.pic

but there is no facility to incorporate pixel jitter, as defined
in rpict(1), save the use of the variables returned by vwright:

------------
       Nt:  view type ('v'==1,'l'==2,'a'==3,'h'==4,'c'==5)
       Npx: view point x value
       Npy: view point y value
       Npz: view point z value
       Ndx: view direction x value (normalized)
       Ndy: view direction y value (normalized)
       Ndz: view direction z value (normalized)
       Nux: view up vector x value (normalized)
       Nuy: view up vector y value (normalized)
       Nuz: view up vector z value (normalized)
       Nh:  view horizontal size
       Nv:  view vertical size
       Ns:  view shift
       Nl:  view lift
       No:  view fore clipping distance
       Na:  view aft clipping distance
       Nhx: derived horizontal image vector x value (normalized)
       Nhy: derived horizontal image vector y value (normalized)
       Nhz: derived horizontal image vector z value (normalized)
       Nhn: derived horizontal image vector multiplier
       Nvx: derived vertical image vector x value (normalized)
       Nvy: derived vertical image vector y value (normalized)
       Nvz: derived vertical image vector z value (normalized)
       Nvn: derived vertical image vector multiplier
------------

My question is: how do I use these variables to incorporate pixel
jitter into these renderings? I do not know how to scale the
Nhx,Nhy,Nhz and Nvx,Nvy,Nvz vectors to jitter over one pixel's
width. Do I multiply by Nh,Nv and divide by 740 and 480,
respectively? Or does it depend on the view type?

Mark

From byoungsooahn at naver.com  Fri Nov 12 22:25:24 2004
From: byoungsooahn at naver.com (Byoungsoo Ahn)
Date: Fri Nov 12 22:25:35 2004
Subject: [Radiance-general] Discrepancy between the simulated DF and
 calculated DF in Desktop RADIANCE 2.0.
Message-ID: <41952A44.000001.04636@nhn528>

Dear All,

I am using Desktop RADIANCE 2.0 with AutoCAD R14.

For the DF, I got different values from the simulated (from the 
simulation manager) and calculated DF (from the illuminance ratio of 
indoor/outdoor sensor). I dont know which one is correct DF. I 
also measured with scale model to compare the DF with DR simulation. 
DF in scale model is very close to the simulated DF (from the 
simulation manager option). Calculated DF from indoor/outdoor 
illuminance is higher than simulated DF.


By checking the batch files in project folder, I noticed the 
difference between the simulated DF and calculated DF is come from 
the outdoor illuminance level. But I could not figure out why I got 
different numbers. 

As shown below, all the numbers are same in batch files.
In the FL_0110.bat file, 26100 looks like outdoor illuminance (see 
the FL_0110.bat file). 
However, outdoor illuminance at that time is 14648.064 lx (see the 
Out_0110_I_out.out file).

Outdoor illuminance level in DF simulation is higher than 
illuminance simulation for outdoor sensor. I think the difference of 
DF is come from the difference of outdoor illuminance level. But I 
still can not understand which one is correct. 


*I run all the simulation at the same conditions. All runs are at 
1:10 pm (CST) in College Station. And all the other parameters are 
also same.




--------------------------------------------------------

Batch Files in Project Folder


Run for DF calculation (FL_0110.bat)

del FL_0110_DF_floor.out
rad -v 0 FL_0110.rif
type Grid_floor.pts | rtrace @FL_0110.opt -faa -h -opv -I -dv- -x 1 
FL_01101.oct | rcalc -e '$1=$1;$2=$2;$3=$3;$4=
($4*47.4482686+$5*119.950519+$6*11.6012125)/26100.000000' >> 
FL_0110_DF_floor.out
@cls


Run for Indoor Illuminance (FL_Illum_0110.bat)

del FL_Illum_0110_I_floor.out
rad -v 0 FL_Illum_0110.rif
type Grid_floor.pts | rtrace @FL_Illum_0110.opt -faa -h -opv -I -dv-
-x 1 FL_Illum_01101.oct | rcalc -
e '$1=$1;$2=$2;$3=$3;$4=$4*47.4482686+$5*119.950519+$6*11.6012125' 
>> FL_Illum_0110_I_floor.out
@cls


Run for Illuminance of Outdoor Sensor (Out_0110.bat)

del Out_0110_I_out.out
rad -v 0 Out_0110.rif
type Point_out.pts | rtrace @Out_0110.opt -faa -h -opv -I -dv- -x 1 
Out_01101.oct | rcalc -
e '$1=$1;$2=$2;$3=$3;$4=$4*47.4482686+$5*119.950519+$6*11.6012125' 
>> Out_0110_I_out.out
@cls


-------------------------------------------------------------

Out Files in Project Folder

Run for DF calculation (FL_0110_DF_floor.out)

3750      4800      275.0001      0.00196749261
7500      4800      275.0001      0.00202036887
11250      4800      275.0001      0.00186442329
3750      3300      275.0001      0.0020485585       Floor_1
7500      3300      275.0001      0.00214985753      Floor_2
11250      3300      275.0001      0.00199673954      Floor_3
3750      1800      275.0001      0.00195969207
7500      1800      275.0001      0.00215063028
11250      1800      275.0001      0.00186199776


Run for Indoor Illuminance (FL_Illum_0110_I_floor.out)

3750      4800      275.0001      52.3787953
7500      4800      275.0001      58.7716727
11250      4800      275.0001      50.8646398
3750      3300      275.0001      53.6415735         Floor_1
7500      3300      275.0001      55.2004445         Floor_2
11250      3300      275.0001      54.263763          Floor_3
3750      1800      275.0001      53.1193063
7500      1800      275.0001      55.2840016
11250      1800      275.0001      52.6013467


Run for Illuminance of Outdoor Sensor (Out_0110_I_out.out)

14250      2900      14120      14648.064

--------------------------------------------------------



Thank you in advance.

Regards,
Byoungsoo Ahn.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041113/7b27f0e6/attachment.htm
From gward at lmi.net  Mon Nov 15 06:43:18 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Nov 15 06:43:50 2004
Subject: [Radiance-general] Using vwright/rcalc to do -pj
In-Reply-To: <Pine.SOL.4.58.0411121332260.21958@asteroids.gpcc.itd.umich.edu>
References: <Pine.SOL.4.58.0411121332260.21958@asteroids.gpcc.itd.umich.edu>
Message-ID: <40B05928-36C9-11D9-8C1F-000A95BB392A@lmi.net>

Hi Mark,

If you use the variable output of vwright,  you actually don't need 
vwrays at all.  Taking the code from the viewray() routine in 
src/common/image.c:

	case VT_PER:			/* perspective view */
		direc[0] = v->vdir[0] + x*v->hvec[0] + y*v->vvec[0];
		direc[1] = v->vdir[1] + x*v->hvec[1] + y*v->vvec[1];
		direc[2] = v->vdir[2] + x*v->hvec[2] + y*v->vvec[2];
		orig[0] = v->vp[0] + v->vfore*direc[0];
		orig[1] = v->vp[1] + v->vfore*direc[1];
		orig[2] = v->vp[2] + v->vfore*direc[2];
		d = normalize(direc);

To reproduce this in an rcalc script, we use the variables output from 
vwright to compute the origin and direction (with jitter) for your view 
using the following file, which we'll call "persp.cal":

						{ Compute horizontal & vertical position on image }
H = (x + rand(.3523*recno-20.2)*jitter)/xres - 0.5;
V = (y + rand(-.1873*recno+400.3)*jitter)/yres - 0.5;
						{ Compute unnormalized view direction }
dirx = idx + ihn*ihx*H + ivn*ivx*V;
diry = idy + ihn*ihy*H + ivn*ivy*V;
dirz = idz + ihn*ihz*H + ivn*ivz*V;
						{ Compute view origin, including fore clipping plane }
orgx = ipx + io*dirx;
orgy = ipy + io*diry;
orgz = ipz + io*dirz;

------------
Here's how you apply it using rcalc:

cnt 480 740 | rcalc -od -i 'x=$2;y=$1' -e 
'xres:740;yres:480;jitter:0.6' \
	-e `vwright i < tempvf` -f persp.cal \
	-e '$1=orgx;$2=orgy;$3=orgz;$4=dirx;$5=diry;$6=dirz' \
	| rtrace -fdc -x 740 -y 480 @opts scene.oct > img.pic

Naturally, you could shorten your rcalc command by sticking the various 
extra settings into persp.cal, but I thought you might like to leave 
that file general.  I arbitrarily chose 0.6 as the jitter amount -- I 
wasn't sure what you wanted for this.  Also, I haven't tested this, so 
I probably screwed up or missed something, which hopefully you'll be 
able to sort out.  Let us know if it works.

-Greg


From gward at lmi.net  Mon Nov 15 19:26:10 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Nov 15 19:26:24 2004
Subject: [Radiance-general] replmarks in 3.6
In-Reply-To: <1604.1099257891@www30.gmx.net>
References: <1604.1099257891@www30.gmx.net>
Message-ID: <D2E0D52D-3733-11D9-B38D-000A95BB392A@lmi.net>

Hi Lars,

Did you ever get this sorted out?  I asked for a reproducible example 
so I could debug the problem, but never heard back.

-Greg

Begin forwarded message:

> From: "Lars Grobe" <grobe@gmx.net>
> Date: October 31, 2004 1:24:51 PM PST
>
> Hi,
>
> has anyone tried the replmarks tool with newer releases (>3.5) of 
> radiance?
> I have 3.6 and a head-release about four weeks old on OS X. I get 'bad
> instance "my_instance"' type errors I never saw before and now I am
> wondering if there have been changes in radiance or if it is my system 
> that
> causes these errors?
>
> I use instances a lot, has anyone tried xform, replmarks and the other 
> tools
> on scenes with lots of instances in current releases? Have there been 
> any
> changes applied to the code in these areas?
>
> TIA+CU Lars.


From kthibault at biomechanicsinc.com  Wed Nov 17 21:26:11 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Wed Nov 17 21:26:21 2004
Subject: [Radiance-general] Alpha channel/object matte 
Message-ID: <EC088663-38D6-11D9-8E12-000A956A0F62@biomechanicsinc.com>

Hi Folks,

Is there a straightforward way to generate alpha channel or object 
matte 8 bit grayscale images in radiance for compositing purposes?

Thanks,

kirk


From wxo110 at psu.edu  Wed Nov 17 22:17:46 2004
From: wxo110 at psu.edu (Woogie)
Date: Wed Nov 17 22:17:53 2004
Subject: [Radiance-general] triangle lit surface......
Message-ID: <200411172117.QAA13137@webmail11.cac.psu.edu>

Hi,

I have in trouble with triangle lit surface by light material.
Greg pointed out before that putting light material on the surface is not usual
scene.
However, it works fine to me as long as the surface is rectangle or trapezoid.

When the surface is triangle, some light seems lost.

My scene rad file is like below.

void light triangle
0
0
3 5 5 5

triangle polygon triangle.1
0
0
9  -25	-50    50
    -1	 35    95
    10	  0    75

I expected 135 lux(illuminance) at the point (0,0,0) with aiming point(0,0,1).
What I got in this scene by running Radiance is 83 lux. 

I assumed that the surface with light material distribute light like lambertian
surface.

In the fallowing website, It can be found out that rectangle surface with light
material works fine.
 
http://www.personal.psu.edu/users/w/x/wxo110/radiance.htm

Any comment will be very helpful to me.

Thanks!

>From Woogie.









From MMoeck at engr.psu.edu  Wed Nov 17 22:35:09 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Wed Nov 17 22:35:39 2004
Subject: [Radiance-general] triangle lit surface......
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C233EE3@ENGRMAIL2.engr.psu.edu>

See the Radiance book on page 510-512. See also p. 577, sentences 2-3. 
 
Martin Moeck

	-----Original Message----- 
	From: Woogie [mailto:wxo110@psu.edu] 
	Sent: Wed 11/17/2004 4:17 PM 
	To: radiance-general@radiance-online.org 
	Cc: 
	Subject: [Radiance-general] triangle lit surface......
	
	

	Hi,
	
	I have in trouble with triangle lit surface by light material.
	Greg pointed out before that putting light material on the surface is not usual
	scene.
	However, it works fine to me as long as the surface is rectangle or trapezoid.
	
	When the surface is triangle, some light seems lost.
	
	My scene rad file is like below.
	
	void light triangle
	0
	0
	3 5 5 5
	
	triangle polygon triangle.1
	0
	0
	9  -25  -50    50
	    -1   35    95
	    10    0    75
	
	I expected 135 lux(illuminance) at the point (0,0,0) with aiming point(0,0,1).
	What I got in this scene by running Radiance is 83 lux.
	
	I assumed that the surface with light material distribute light like lambertian
	surface.
	
	In the fallowing website, It can be found out that rectangle surface with light
	material works fine.
	
	http://www.personal.psu.edu/users/w/x/wxo110/radiance.htm
	
	Any comment will be very helpful to me.
	
	Thanks!
	
	>From Woogie.
	
	
	
	
	
	
	
	
	
	_______________________________________________
	Radiance-general mailing list
	Radiance-general@radiance-online.org
	http://www.radiance-online.org/mailman/listinfo/radiance-general
	

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041117/57ba15e5/attachment.html
From apian at pab-opto.de  Thu Nov 18 12:33:16 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Thu Nov 18 12:38:15 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <EC088663-38D6-11D9-8E12-000A956A0F62@biomechanicsinc.com>
References: <EC088663-38D6-11D9-8E12-000A956A0F62@biomechanicsinc.com>
Message-ID: <419C887C.4020105@pab-opto.de>

Kirk Thibault wrote:

> Hi Folks,
>
> Is there a straightforward way to generate alpha channel or object 
> matte 8 bit grayscale images in radiance for compositing purposes?
>
Hi Kirk,

At least not automatically by rpict itself. rayshade (and likely others 
raytracers too) generate an optional alpha channel, and I nagged Greg to 
add an optional fourth channel to the image format in ( - hang on, a 
quick seach in my mail folders..) June 1993. That never made it, since a 
change of format would have produced various nasty side effects. The 
main reason for my wish was to paste the image into existing (tpically 
outside) scenery easily. With fisheye HDRs being on-vogue now, 
surrounding the model with an HDR source-primitive is a better way to 
solve that merging problem.

So, you'll have to generate a z-file (-z option), use the z-value to 
differentiate between an object hit (alpha opaque) and infinity (alpha 
transparent) and convert that to whatever image format you need. 
Suitable pcomb/pfilt/pvalue scripts are left as an exercise to the 
reader ...

-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From kthibault at biomechanicsinc.com  Fri Nov 19 02:39:45 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Nov 19 11:26:43 2004
Subject: [Radiance-general] ZBuffer-Alpha tricks
Message-ID: <E468633A-39CB-11D9-BFBD-000393868CBC@biomechanicsinc.com>

The book (rendering with radiance) also has a little paragraph on 
making a grayscale image from the ZBuffer using pvalue - pg 263.  Too 
bad I hadn't read to that point yet otherwise I wouldn't have posed the 
question on the list.  Thanks all for your patience with the new guy.

kirk


From kthibault at biomechanicsinc.com  Fri Nov 19 02:37:50 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Nov 19 11:26:47 2004
Subject: [Radiance-general] Alpha channels and such
Message-ID: <9FDB222A-39CB-11D9-BFBD-000393868CBC@biomechanicsinc.com>

Hi Folks - I recently asked a simple question about alpha channel 
formation in Radiance and got a nice answer from Peter.  So, I'm 
looking around and trying to come up with some nifty ideas for pulling 
off such a stunt and, as a very new user to Radiance, I find that 
Radiance has its OWN FUNCTIONAL LANGUAGE.  Well, that makes me feel 
better, because I spent a while figuring out the mechanics of the "if" 
statement in the man page example for pcomb.  Damn if this software 
isn't just the coolest.

Thanks,

kirk


From kthibault at biomechanicsinc.com  Thu Nov 18 18:20:58 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Nov 19 11:28:06 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <419C887C.4020105@pab-opto.de>
References: <EC088663-38D6-11D9-8E12-000A956A0F62@biomechanicsinc.com>
	<419C887C.4020105@pab-opto.de>
Message-ID: <36A46752-3986-11D9-A55C-000A956A0F62@biomechanicsinc.com>

Thanks for the info.   I guess that means I need to know what format 
the "Z" file is and how the information is arranged.  I generated one 
using the -z option of rpict and then just tried to look at it ("less") 
and i was given the message - "This file may be  a binary file - view 
anyway?".  I said yes and got gobbledyguck.

I also tried the strategy of rendering a background only image (this 
renders just the HDR image wrapped around my scene) and then a 
"objects" render that includes the background and the objects.  If you 
use pcomb to take the difference between the two images, you should 
more or less be left with the objects only and presumably you could 
then do another pcomb to make the image 2 bit.  I tried something like:

pcomb -s -1 background_image object_image > diff_image <<<(takes the 
difference between the two images)

then

pcomb -e 'ro=if(ri(1)=0,0,1);go=if(gi(1)=0,0,1;b0=if(bi(1)=0,0,1)' > 
matte_image

the idea being that if the pixel value in the "diff" image was 0 this 
would be a pixel which was the same in the background image and the 
object image (i.e., part of the background) versus anything else, which 
would be an object.  This has limitations, but in general I was trying 
to say "if the pixel in the diff image is black, it is part of the 
background, keep it black, otherwise if it is not black, make it white.

Needless to say, I got a command line error saying that a ')' was 
expected.  I'm guessing that this means i used the "if" function 
incorrectly within the context of pcomb, or in general.  The obvious 
shortcoming of this crude method is that if the diff image contains a 
black pixel value in the object area, it will remain black and thus not 
be part of the object matte.  Definitely not robust.  The Z file info 
sounds like the way to go in this respect so I look forward to an 
explanation of how to tap into it.

Can you tell I'm learning Radiance and Unix  simultaneously?  :)

Thanks folks!

kirk


On Nov 18, 2004, at 6:33 AM, Peter Apian-Bennewitz wrote:

> Kirk Thibault wrote:
>
>> Hi Folks,
>>
>> Is there a straightforward way to generate alpha channel or object 
>> matte 8 bit grayscale images in radiance for compositing purposes?
>>
> Hi Kirk,
>
> At least not automatically by rpict itself. rayshade (and likely 
> others raytracers too) generate an optional alpha channel, and I 
> nagged Greg to add an optional fourth channel to the image format in ( 
> - hang on, a quick seach in my mail folders..) June 1993. That never 
> made it, since a change of format would have produced various nasty 
> side effects. The main reason for my wish was to paste the image into 
> existing (tpically outside) scenery easily. With fisheye HDRs being 
> on-vogue now, surrounding the model with an HDR source-primitive is a 
> better way to solve that merging problem.
>
> So, you'll have to generate a z-file (-z option), use the z-value to 
> differentiate between an object hit (alpha opaque) and infinity (alpha 
> transparent) and convert that to whatever image format you need. 
> Suitable pcomb/pfilt/pvalue scripts are left as an exercise to the 
> reader ...
>
> -Peter
>
> -- 
> pab-opto, Freiburg, Germany, http://www.pab-opto.de
> [see web page to check digital email signature]
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From Giulio.Antonutto at arup.com  Fri Nov 19 11:48:08 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Fri Nov 19 11:50:16 2004
Subject: [Radiance-general] Alpha channel/object matte
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>

Hi,
I am not really sure which is your question... I missed the 1st
emails...sorry ;-)

But if I am right you are trying to create an alpha channel from a rendered
picture,

I would do this way:

1) generate your rendering: image
2) generate a mask: you can just create an image with only the object and
-av 1 1 1,
then use "pcomb -e 'vo=if(li(1),1,0)' object > mask " to create a BW image
with 0 and 1.

3) apply the mask to the 1st image:
pcomb -e 'ro=if(li(2),ri(1),0);go=if(li(2),gi(1),0);bo=if(li(2),bi(1),0)'
image mask > filtered


in general all the functions are defined in rayinit.cal, into the radiance
libs...

hope it helps/works,
giulio


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of Kirk
Thibault
Sent: 18 November 2004 17:21
To: Radiance general discussion
Subject: Re: [Radiance-general] Alpha channel/object matte


Thanks for the info.   I guess that means I need to know what format 
the "Z" file is and how the information is arranged.  I generated one 
using the -z option of rpict and then just tried to look at it ("less") 
and i was given the message - "This file may be  a binary file - view 
anyway?".  I said yes and got gobbledyguck.

I also tried the strategy of rendering a background only image (this 
renders just the HDR image wrapped around my scene) and then a 
"objects" render that includes the background and the objects.  If you 
use pcomb to take the difference between the two images, you should 
more or less be left with the objects only and presumably you could 
then do another pcomb to make the image 2 bit.  I tried something like:

pcomb -s -1 background_image object_image > diff_image <<<(takes the 
difference between the two images)

then

pcomb -e 'ro=if(ri(1)=0,0,1);go=if(gi(1)=0,0,1;b0=if(bi(1)=0,0,1)' > 
matte_image

the idea being that if the pixel value in the "diff" image was 0 this 
would be a pixel which was the same in the background image and the 
object image (i.e., part of the background) versus anything else, which 
would be an object.  This has limitations, but in general I was trying 
to say "if the pixel in the diff image is black, it is part of the 
background, keep it black, otherwise if it is not black, make it white.

Needless to say, I got a command line error saying that a ')' was 
expected.  I'm guessing that this means i used the "if" function 
incorrectly within the context of pcomb, or in general.  The obvious 
shortcoming of this crude method is that if the diff image contains a 
black pixel value in the object area, it will remain black and thus not 
be part of the object matte.  Definitely not robust.  The Z file info 
sounds like the way to go in this respect so I look forward to an 
explanation of how to tap into it.

Can you tell I'm learning Radiance and Unix  simultaneously?  :)

Thanks folks!

kirk


On Nov 18, 2004, at 6:33 AM, Peter Apian-Bennewitz wrote:

> Kirk Thibault wrote:
>
>> Hi Folks,
>>
>> Is there a straightforward way to generate alpha channel or object 
>> matte 8 bit grayscale images in radiance for compositing purposes?
>>
> Hi Kirk,
>
> At least not automatically by rpict itself. rayshade (and likely 
> others raytracers too) generate an optional alpha channel, and I 
> nagged Greg to add an optional fourth channel to the image format in ( 
> - hang on, a quick seach in my mail folders..) June 1993. That never 
> made it, since a change of format would have produced various nasty 
> side effects. The main reason for my wish was to paste the image into 
> existing (tpically outside) scenery easily. With fisheye HDRs being 
> on-vogue now, surrounding the model with an HDR source-primitive is a 
> better way to solve that merging problem.
>
> So, you'll have to generate a z-file (-z option), use the z-value to 
> differentiate between an object hit (alpha opaque) and infinity (alpha 
> transparent) and convert that to whatever image format you need. 
> Suitable pcomb/pfilt/pvalue scripts are left as an exercise to the 
> reader ...
>
> -Peter
>
> -- 
> pab-opto, Freiburg, Germany, http://www.pab-opto.de
> [see web page to check digital email signature]
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From kthibault at biomechanicsinc.com  Fri Nov 19 16:50:18 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Nov 19 16:50:26 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>
Message-ID: <B612C6A4-3A42-11D9-ACC2-000A956A0F62@biomechanicsinc.com>

Excellent.  I'm starting to realize that there are many different ways 
to tackle the problem and I will try your technique. Thanks!

kirk


On Nov 19, 2004, at 5:48 AM, Giulio Antonutto wrote:

> Hi,
> I am not really sure which is your question... I missed the 1st
> emails...sorry ;-)
>
> But if I am right you are trying to create an alpha channel from a 
> rendered
> picture,
>
> I would do this way:
>
> 1) generate your rendering: image
> 2) generate a mask: you can just create an image with only the object 
> and
> -av 1 1 1,
> then use "pcomb -e 'vo=if(li(1),1,0)' object > mask " to create a BW 
> image
> with 0 and 1.
>
> 3) apply the mask to the 1st image:
> pcomb -e 
> 'ro=if(li(2),ri(1),0);go=if(li(2),gi(1),0);bo=if(li(2),bi(1),0)'
> image mask > filtered
>
>
> in general all the functions are defined in rayinit.cal, into the 
> radiance
> libs...
>
> hope it helps/works,
> giulio


From gward at lmi.net  Fri Nov 19 18:17:59 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Nov 19 18:18:51 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <B612C6A4-3A42-11D9-ACC2-000A956A0F62@biomechanicsinc.com>
References: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>
	<B612C6A4-3A42-11D9-ACC2-000A956A0F62@biomechanicsinc.com>
Message-ID: <F626BBD6-3A4E-11D9-962E-000A95BB392A@lmi.net>

Hi Kirk,

Here's my own example of image-based lighting and the commands I used.  
I have two processors to work with, which is why I run two renderings 
at the same time:

#!/bin/csh -fex
#
# Render our image-based lighting example
#
#       Oct 2004        Greg Ward

# Set parameters
set res=(-x 2272 -y 1704)
set vw=(-vf plate.vf -pa 0)
set amb=(-ab 1 -aa 0 -ad 256 -as 0)

# Render synthetic objects
oconv environ.rad railing.rad chess3d.rad \
         | rpict -ps 1 -pj 0 $vw $res $amb \
         > chess3d.hdr &

# Determine foreground objects
oconv chess3d.rad > stencil.oct
vwrays -ff $vw $res \
         | rtrace -fff -oL $res stencil.oct \
         | pvalue -r -df -b \
         | pcomb -e 'lo=if(gi(1)-1e5,0,1)' - \
         > stencil.pic
rm stencil.oct

# Render base for shadows
oconv environ.rad railing.rad \
         | rpict -ps 1 -pj 0 $vw $res $amb \
         > unshadowed.hdr

# Wait for first render
wait

# Composite final image with shadow map and blurred foreground
pcomb -e 'ro=f(ri);go=f(gi);bo=f(bi)' \
         -e 'f(inp)=inp(1)*(gi(3) + (1-gi(3))*inp(2)/inp(4))' \
         '\!pfilt -1 -r 1.35 chess3d.hdr' \
         -o SunrisePlate.hdr \
         '\!pfilt -1 -r 1.35 stencil.pic' \
         '\!pfilt -1 -r 1.35 unshadowed.hdr' \
         > composite.hdr

---------------------
Resulting image (tone-mapped JPEG and gzip'ped input and picture files):

	http://www.anyhere.com/gward/pickup/chess3d_balcony.jpg
	http://www.anyhere.com/gward/pickup/chess2.tar.gz

Pillo's method works as well, but has problems sometimes for 
transparent surfaces.  The -oL output of rtrace is the only truly 
reliable method I've found.  You also need the -ps 1 -pj 0 rendering 
options shown to avoid disagreement between boundary pixels in the 
final composite.  My example includes blurring of the IBL objects to 
simulate depth of field, which you probably don't want in general.  
(The pfilt -1 -r 1.35 commands in the final pcomb can be replaced by 
the straight files.)

-Greg


From kthibault at biomechanicsinc.com  Fri Nov 19 18:35:52 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Nov 19 18:35:58 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <F626BBD6-3A4E-11D9-962E-000A95BB392A@lmi.net>
References: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>
	<B612C6A4-3A42-11D9-ACC2-000A956A0F62@biomechanicsinc.com>
	<F626BBD6-3A4E-11D9-962E-000A95BB392A@lmi.net>
Message-ID: <7574C4A2-3A51-11D9-A9A0-000A956A0F62@biomechanicsinc.com>

Cool - I was having issues dealing with transparent objects as I was 
working through my own crude solutions - will try this one too.  Once 
again - Radiance has its own freakin functional language - nice!  What 
a ton I have to learn!

kirk

On Nov 19, 2004, at 12:17 PM, Greg Ward wrote:

> Hi Kirk,
>
> Here's my own example of image-based lighting and the commands I used. 
>  I have two processors to work with, which is why I run two renderings 
> at the same time:
>
> #!/bin/csh -fex
> #
> # Render our image-based lighting example
> #
> #       Oct 2004        Greg Ward
>
> # Set parameters
> set res=(-x 2272 -y 1704)
> set vw=(-vf plate.vf -pa 0)
> set amb=(-ab 1 -aa 0 -ad 256 -as 0)
>
> # Render synthetic objects
> oconv environ.rad railing.rad chess3d.rad \
>         | rpict -ps 1 -pj 0 $vw $res $amb \
>         > chess3d.hdr &
>
> # Determine foreground objects
> oconv chess3d.rad > stencil.oct
> vwrays -ff $vw $res \
>         | rtrace -fff -oL $res stencil.oct \
>         | pvalue -r -df -b \
>         | pcomb -e 'lo=if(gi(1)-1e5,0,1)' - \
>         > stencil.pic
> rm stencil.oct
>
> # Render base for shadows
> oconv environ.rad railing.rad \
>         | rpict -ps 1 -pj 0 $vw $res $amb \
>         > unshadowed.hdr
>
> # Wait for first render
> wait
>
> # Composite final image with shadow map and blurred foreground
> pcomb -e 'ro=f(ri);go=f(gi);bo=f(bi)' \
>         -e 'f(inp)=inp(1)*(gi(3) + (1-gi(3))*inp(2)/inp(4))' \
>         '\!pfilt -1 -r 1.35 chess3d.hdr' \
>         -o SunrisePlate.hdr \
>         '\!pfilt -1 -r 1.35 stencil.pic' \
>         '\!pfilt -1 -r 1.35 unshadowed.hdr' \
>         > composite.hdr
>
> ---------------------
> Resulting image (tone-mapped JPEG and gzip'ped input and picture 
> files):
>
> 	http://www.anyhere.com/gward/pickup/chess3d_balcony.jpg
> 	http://www.anyhere.com/gward/pickup/chess2.tar.gz
>
> Pillo's method works as well, but has problems sometimes for 
> transparent surfaces.  The -oL output of rtrace is the only truly 
> reliable method I've found.  You also need the -ps 1 -pj 0 rendering 
> options shown to avoid disagreement between boundary pixels in the 
> final composite.  My example includes blurring of the IBL objects to 
> simulate depth of field, which you probably don't want in general.  
> (The pfilt -1 -r 1.35 commands in the final pcomb can be replaced by 
> the straight files.)
>
> -Greg
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From Giulio.Antonutto at arup.com  Fri Nov 19 18:39:12 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Fri Nov 19 18:39:20 2004
Subject: [Radiance-general] Alpha channel/object matte
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F900302C160@l-gnts05>

I am bowing to the Supreme...
;-))

-----Original Message-----
From: Greg Ward [mailto:gward@lmi.net]
Sent: 19 November 2004 17:18
To: Radiance general discussion
Subject: Re: [Radiance-general] Alpha channel/object matte


Hi Kirk,

Here's my own example of image-based lighting and the commands I used.  
I have two processors to work with, which is why I run two renderings 
at the same time:

#!/bin/csh -fex
#
# Render our image-based lighting example
#
#       Oct 2004        Greg Ward

# Set parameters
set res=(-x 2272 -y 1704)
set vw=(-vf plate.vf -pa 0)
set amb=(-ab 1 -aa 0 -ad 256 -as 0)

# Render synthetic objects
oconv environ.rad railing.rad chess3d.rad \
         | rpict -ps 1 -pj 0 $vw $res $amb \
         > chess3d.hdr &

# Determine foreground objects
oconv chess3d.rad > stencil.oct
vwrays -ff $vw $res \
         | rtrace -fff -oL $res stencil.oct \
         | pvalue -r -df -b \
         | pcomb -e 'lo=if(gi(1)-1e5,0,1)' - \
         > stencil.pic
rm stencil.oct

# Render base for shadows
oconv environ.rad railing.rad \
         | rpict -ps 1 -pj 0 $vw $res $amb \
         > unshadowed.hdr

# Wait for first render
wait

# Composite final image with shadow map and blurred foreground
pcomb -e 'ro=f(ri);go=f(gi);bo=f(bi)' \
         -e 'f(inp)=inp(1)*(gi(3) + (1-gi(3))*inp(2)/inp(4))' \
         '\!pfilt -1 -r 1.35 chess3d.hdr' \
         -o SunrisePlate.hdr \
         '\!pfilt -1 -r 1.35 stencil.pic' \
         '\!pfilt -1 -r 1.35 unshadowed.hdr' \
         > composite.hdr

---------------------
Resulting image (tone-mapped JPEG and gzip'ped input and picture files):

	http://www.anyhere.com/gward/pickup/chess3d_balcony.jpg
	http://www.anyhere.com/gward/pickup/chess2.tar.gz

Pillo's method works as well, but has problems sometimes for 
transparent surfaces.  The -oL output of rtrace is the only truly 
reliable method I've found.  You also need the -ps 1 -pj 0 rendering 
options shown to avoid disagreement between boundary pixels in the 
final composite.  My example includes blurring of the IBL objects to 
simulate depth of field, which you probably don't want in general.  
(The pfilt -1 -r 1.35 commands in the final pcomb can be replaced by 
the straight files.)

-Greg


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From gward at lmi.net  Fri Nov 19 18:41:31 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Nov 19 18:41:52 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <7574C4A2-3A51-11D9-A9A0-000A956A0F62@biomechanicsinc.com>
References: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>
	<B612C6A4-3A42-11D9-ACC2-000A956A0F62@biomechanicsinc.com>
	<F626BBD6-3A4E-11D9-962E-000A95BB392A@lmi.net>
	<7574C4A2-3A51-11D9-A9A0-000A956A0F62@biomechanicsinc.com>
Message-ID: <3F8E6196-3A52-11D9-BFCB-000A95BB392A@lmi.net>

The functional language in Radiance probably falls into the 
"write-only" category, because it's so difficult to comprehend what's 
been written.  I probably spend more time trying to figure out what I 
did later than I spent doing things in the first place with it.  Oh, 
well.  At least it was easy to code....

-Greg

> From: Kirk Thibault <kthibault@biomechanicsinc.com>
> Date: November 19, 2004 9:35:52 AM PST
>
> Cool - I was having issues dealing with transparent objects as I was 
> working through my own crude solutions - will try this one too.  Once 
> again - Radiance has its own freakin functional language - nice!  What 
> a ton I have to learn!
>
> kirk


From kthibault at biomechanicsinc.com  Fri Nov 19 19:11:21 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Nov 19 19:11:24 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <3F8E6196-3A52-11D9-BFCB-000A95BB392A@lmi.net>
References: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>
	<B612C6A4-3A42-11D9-ACC2-000A956A0F62@biomechanicsinc.com>
	<F626BBD6-3A4E-11D9-962E-000A95BB392A@lmi.net>
	<7574C4A2-3A51-11D9-A9A0-000A956A0F62@biomechanicsinc.com>
	<3F8E6196-3A52-11D9-BFCB-000A95BB392A@lmi.net>
Message-ID: <6A88948C-3A56-11D9-A9A0-000A956A0F62@biomechanicsinc.com>

It was frustratingly hilarious trying to reverse engineer the "if" 
statement in the pcomb manual example that draws the dot.  I tried 
several times to put a conditional statement in the "if 
"like,'if(ri(1)<0.05,0,1)' and kept getting errors associated with a 
')' expected.  Finally I realized that the condition was an expression 
implicitly compared to 0.  Then i realized that there was a built-in 
functional language and that this was not standard Unix syntax.  Then I 
realized there were whole reference sections devoted to the functional 
language in the book and on the website.  The knowledge base just keeps 
expanding... too bad my little brain can't oftentimes keep up.  
Thankfully this forum is here and I hope I am not testing people's 
patience with my inane questions.  Thanks folks.

kirk

On Nov 19, 2004, at 12:41 PM, Greg Ward wrote:

> The functional language in Radiance probably falls into the 
> "write-only" category, because it's so difficult to comprehend what's 
> been written.  I probably spend more time trying to figure out what I 
> did later than I spent doing things in the first place with it.  Oh, 
> well.  At least it was easy to code....
>
> -Greg
>
>> From: Kirk Thibault <kthibault@biomechanicsinc.com>
>> Date: November 19, 2004 9:35:52 AM PST
>>
>> Cool - I was having issues dealing with transparent objects as I was 
>> working through my own crude solutions - will try this one too.  Once 
>> again - Radiance has its own freakin functional language - nice!  
>> What a ton I have to learn!
>>
>> kirk
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From rpg at rumblestrip.org  Fri Nov 19 19:16:16 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri Nov 19 19:15:55 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <7574C4A2-3A51-11D9-A9A0-000A956A0F62@biomechanicsinc.com>
References: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>	<B612C6A4-3A42-11D9-ACC2-000A956A0F62@biomechanicsinc.com>	<F626BBD6-3A4E-11D9-962E-000A95BB392A@lmi.net>
	<7574C4A2-3A51-11D9-A9A0-000A956A0F62@biomechanicsinc.com>
Message-ID: <419E3870.4050309@rumblestrip.org>

Kirk Thibault wrote:
> again - Radiance has its own freakin functional language - nice!  What a 
> ton I have to learn!

Yup, yup.

Radiance is an amazing collection of tools, and its depth is only 
rivaled by the astonishing scope of generosity, knowledge, creativity 
and intellect of this Radiance user community, led by Radiance's author.

By participating on this list and attending a couple of the Workshops, I 
have achieved a general understanding of how to use this most wondorous 
tool, Radiance.  As an added bonus -- and more importantly -- I have 
also gained some very good friends.

Welcome, have fun, share, etcetera and so forth.

Just out of interest, what brings you to the Radiance world?  Research, 
lighting design, sustainability?  Art?  This list attracts all kinds. 
How did you find us, and what are you doing with Radiance?

-------------------
    Rob Guglielmetti
www.rumblestrip.org

From kthibault at biomechanicsinc.com  Fri Nov 19 20:37:10 2004
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Nov 19 20:37:15 2004
Subject: [Radiance-general] Alpha channel/object matte
In-Reply-To: <419E3870.4050309@rumblestrip.org>
References: <DC0CAEEA090E984C911D3B85B16C3F900302C15D@l-gnts05>	<B612C6A4-3A42-11D9-ACC2-000A956A0F62@biomechanicsinc.com>	<F626BBD6-3A4E-11D9-962E-000A95BB392A@lmi.net>
	<7574C4A2-3A51-11D9-A9A0-000A956A0F62@biomechanicsinc.com>
	<419E3870.4050309@rumblestrip.org>
Message-ID: <67690E9B-3A62-11D9-A9A0-000A956A0F62@biomechanicsinc.com>

Rob-

I'm a biomechanical engineer who, for my job and as a hobby, has been 
into 3d graphics, modeling, etc. for a while.  I primarily use Light 
Wave and started getting into global illumination techniques in Light 
Wave and the use of HDR images about 6 months ago.  I found Paul 
Debevec's site and learned a lot about image-based lighting techniques 
- on his site and in his work he frequently cites and uses Radiance.  
Once I realized the limitations of Light Wave wrt image-based lighting, 
i started looking into Radiance.  Wow.  The differences are obvious, 
even to a new user like me.  Learning Radiance has made me very acutely 
aware of the fact that I wasn't really thinking about the physics and 
quantitative aspects of my modeling and rendering when using LightWave, 
more just concentrating on the rendered output.  With Radiance, 
considering the physical aspects of light and its interaction with 
objects, etc. gives me a while new appreciation for composing a scene, 
rendering it and compositing it.  The fact that the Radiance 
environment is a collection of tools in the Unix setting is a new way 
of problem solving for me, having been used to a single package that 
does it all.  Understanding the tools and the way they interact is 
presenting me with the steepest part of the learning curve currently, 
as I imagine you can appreciate.  However, as I am beginning to find 
out, this system leads to extremely robust and flexible solution 
techniques.  I'm a Mac user, so I really appreciate the fact that now I 
have an excuse to dust off and expand my Unix abilities.

I really am interested in photo-real combinations of synthetic objects 
and "real" photographic environments.  I have been making my own "Light 
Probe" images and rending Radiance scenes with them - mostly just test 
scenes.  Now I am using the context of compositing synthetic objects 
into "real" photographic plates as the basis for expanding my knowledge 
of Radiance.  So, in short, it's more art-related than quantitative 
analysis of lighting, but i am realizing that appreciating the 
quantitative physical aspects of the lighting will give my scenes much 
more realism and robustness.  The first time I emailed Greg he 
suggested that I join the forum - there you have it.

Besides that, I can't think of any other software I've used where I can 
email the author and get answers at all, let alone in a friendly and 
nurturing manner.  That attitude is also evident in this forum's 
community and i really appreciate it.  Thanks to all the folks on the 
list who have helped me already and thanks in advance to those who will 
answer my future questions - believe me, there will be more.  :-)

kirk


On Nov 19, 2004, at 1:16 PM, Rob Guglielmetti wrote:

> Kirk Thibault wrote:
>> again - Radiance has its own freakin functional language - nice!  
>> What a ton I have to learn!
>
> Yup, yup.
>
> Radiance is an amazing collection of tools, and its depth is only 
> rivaled by the astonishing scope of generosity, knowledge, creativity 
> and intellect of this Radiance user community, led by Radiance's 
> author.
>
> By participating on this list and attending a couple of the Workshops, 
> I have achieved a general understanding of how to use this most 
> wondorous tool, Radiance.  As an added bonus -- and more importantly 
> -- I have also gained some very good friends.
>
> Welcome, have fun, share, etcetera and so forth.
>
> Just out of interest, what brings you to the Radiance world?  
> Research, lighting design, sustainability?  Art?  This list attracts 
> all kinds. How did you find us, and what are you doing with Radiance?
>
> -------------------
>    Rob Guglielmetti
> www.rumblestrip.org
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From nickd at xco2.com  Mon Nov 22 18:00:37 2004
From: nickd at xco2.com (Nick Devlin)
Date: Mon Nov 22 18:00:47 2004
Subject: [Radiance-general] Problems with IES2RAD
Message-ID: <000001c4d0b4$ca7a7450$2568a8c0@Nick>

Hey there guys and girls, 
 
I am having trouble with ies2rad I(maybe) . I am using a fitting which
incorporates 2 cfl lamps, each with 1200 lumens output. This is clearly
stated in the .ies file supplied by the manufacturer. Problem is, my
scene looked too dark, and I am not too sure why. 
 
What is the simplest way to reverse-check that the .rad description of
the light includes both lamps?? - ie - is as bright as I would expect???
I am not too clear on all the variables for a light description just
yet.
 
The .rad file reads like this: 


# IES2RAD.EXE
# Dimensions in meters
#<IESNA:LM-63-1995
#<[TEST]      ST5303
#<[MANUFAC]   Zumtobel STAFF
#<[LUMCAT]    60810384
#<[LUMINAIRE] Panos MWW 200 2/18W TC-D VVG
#<[LAMPCAT]
#<[LAMP]      TC-D 18W
# Unknown lamp type (used default)
# 36 watt luminaire, lamp*ballast factor = 1
 
void brightdata St5303_dist
5 cylcorr St5303.dat source.cal src_phi2 src_theta 
0
3 1 0.176 0.0005
 
St5303_dist light St5303_light
0
0
3 1 1 1
 
St5303_light ring St5303.d
0
0
8
            0 0 -0.00025
            0 0 -1
            0 0.088
 
Derived from the following ies file: 
 
IESNA:LM-63-1995
[TEST]      ST5303 
[MANUFAC]   Zumtobel STAFF
[LUMCAT]    60810384
[LUMINAIRE] Panos MWW 200 2/18W TC-D VVG
[LAMPCAT] 
[LAMP]      TC-D 18W
TILT=NONE
2  1200  1.0  19  13  1  2  -0.176  0.000  0.000 
1.0  1.0  36
 
(angles etc omitted for brevity)..
 
Any thoughts would be very gratefully received. 
 
Nick 
 
 

XCO2 


XCO2 conisbee  Ltd
1-5 Offord Street
London N1 1DH
Tel: + 44 (0)20 7700 1000
Fax: + 44 (0)20 7700 4455
Email: nickd@xco2.com
Web: http://www.xco2.com 

engineering sustainability 


---
This e-mail and any attachment contains information which is private and
confidential and is intended for named recipient(s) only. If you are not
named then you are not authorised to read, copy or use this e-mail or
any
attachment. If you have received this e-mail in error, please notify the
sender by return e-mail and then destroy it.
--- 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20041122/55bc45e8/attachment.htm
From Rob.Fitzsimmons at Summit.Fiserv.com  Tue Nov 23 01:18:18 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Tue Nov 23 01:18:34 2004
Subject: [Radiance-general] PAR 64 photometric data
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D69723@corvallis>

I've been searching the web for PAR 64 data
Ideally I'd like to find an IES file, but I could make my own if I found the
right data

Anyone have any tips, links, files?

thanks

Rob Fitz

From shakespe at indiana.edu  Tue Nov 23 02:20:57 2004
From: shakespe at indiana.edu (Shakespeare, Robert A.)
Date: Tue Nov 23 02:21:07 2004
Subject: [Radiance-general] PAR 64 photometric data
Message-ID: <C4DB975B8FB42B44AB8CD12824D239F201DD5332@iu-mssg-mbx07.exchange.iu.edu>

What beam spread are you looking for? VNSP, NS, FL, WFL are typical
designations.  GE has these in their lamp data base. BEGA and other
manufacturers have photometry of the lamp in a fixture fixture. I will
see what I can find unless someone else has the data at hand.

http://www.gelighting.com/na/specoem/lightbeams.html

Lots of PAR lamps in this data base which you can extract and run
through ies2rad. Make sure that the IESNA file aperture value is not set
to 0.

-Rob Shakespeare

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Fitzsimmons, Rob
Sent: Monday, November 22, 2004 7:18 PM
To: 'radiance-general@radiance-online.org'
Subject: [Radiance-general] PAR 64 photometric data

I've been searching the web for PAR 64 data
Ideally I'd like to find an IES file, but I could make my own if I found
the
right data

Anyone have any tips, links, files?

thanks

Rob Fitz

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From mike at cityscape3d.com  Fri Nov 26 11:53:55 2004
From: mike at cityscape3d.com (Michael Kruger)
Date: Fri Nov 26 11:49:59 2004
Subject: [Radiance-general] Baking texture maps
Message-ID: <609D49E78DE2B74FA59A924DC8CFD6A7179F21@mail2.cityscape3d.com>

How should I go about using radiance to create baked texture maps? I've
seen a few posts to the mailing list about this, but I haven't found a
reply that solves the problem.

The problem:
I want to create a simple walkthru of a room using a games engine. I've
already created the model in Lightwave and exported it to radiance (let
me know if anyone is interested in the exporter). From there I want to
use radiance to render separate images for each of the polygons in the
model, and then map those images back onto the polygons. From there it
is a simple process to export the textured model to the game engine.

My approach so far:
I've attempted to use examples of computing illumination across a grid
to crack this one. This boils down to walking over the polygon surface
and using rtrace to find the value at various points, spaced at some
regular interval. This is easy for extremely simple polygons (read
horizontal or vertical quads) but becomes a tad more complex for concave
n-sided polygons.

My questions:
Doesn't rad already do most of what I need as part of the standard
rendering process? Has someone already attempted / solved this problem?
If not, could someone point me to some src documentation so that I can
leverage the existing code libraries to roll my own solution in C?

As a starting point, I'm sure there must be some code for subdividing a
polygon into smaller patches - this would do most of what I want. Any
pointers?


Many thanks,
mike

---------------------------
Michael Kruger

mike@cityscape3d.com


From pisuke at blueyonder.co.uk  Fri Nov 26 12:52:07 2004
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Fri Nov 26 12:52:35 2004
Subject: [Radiance-general] Baking texture maps
In-Reply-To: <609D49E78DE2B74FA59A924DC8CFD6A7179F21@mail2.cityscape3d.com>
References: <609D49E78DE2B74FA59A924DC8CFD6A7179F21@mail2.cityscape3d.com>
Message-ID: <1101469927.2890.20.camel@leviathan>

Hi Mike,

The only reference I know about texture baking with Radiance
is here:

http://www.radiance-online.org/radiance-workshop1/cd/Spanlang/index.html

The idea is to set up an ortographic view for each polygon.

I do something similar with blender, not fully automatic yet,
but usually my models are only made of triangles and a few quads ...

Maybe you can have a look at the glu tessellation functions
(like checking the MESA source code).

I've also put together a doxygen documentation of the radiance source
tree, that you can download from here:

http://www.bozzograo.net/radiance/pub/radiance_doxygen.tar.gz

This really helps me a lot when I'm looking for something
inside the radiance source tree, together with grep ...

Hope this helps ...

Francesco

-- 
Francesco Anselmo <pisuke@blueyonder.co.uk>


From grobe at gmx.net  Fri Nov 26 13:58:28 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Nov 26 15:03:57 2004
Subject: instances' filename length limit (was: Re: [Radiance-general]
	replmarks in 3.6)
In-Reply-To: <D2E0D52D-3733-11D9-B38D-000A95BB392A@lmi.net>
References: <1604.1099257891@www30.gmx.net>
	<D2E0D52D-3733-11D9-B38D-000A95BB392A@lmi.net>
Message-ID: <DDFC1A4C-3FAA-11D9-836F-000A959DDB22@gmx.net>

> Did you ever get this sorted out?  I asked for a reproducible example  
> so I could debug the problem, but never heard back.

Hi,

so it seams that replmarks just produced something oconv can't handle  
here:

void instance l_walloverarcade.0.1
5  
/Users/lars/Documents/projekte/sophia/SophiaCVS/working/radiance/ 
radiance/Sophia/library/model_sophia_aisles_vaults_walloverarcade.oct  
-t -35.000000 58.000000 26.500000
0
0

Is there a limit for the octree path/filename? The instance element is  
the result of replmarks, and oconv gives me the following:

/opt/radiance_3.6/bin/oconv: fatal -  
(model_sophia_aisles_vaults_render.rad): bad arguments for instance  
"l_walloverarcade.0.1"

Now I copied my model's directory tree to a different location, so that  
path names are shorter, and everything is fine. However, this is bad  
for me, as I like to have the model in a cvs sandbox in a project  
directory in my home... not in the root directory ;-)

Thanks, CU Lars.


From tarik.rahman at ed.ac.uk  Fri Nov 26 15:56:16 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Fri Nov 26 15:56:22 2004
Subject: [Radiance-general] repeating previous command in rview
Message-ID: <1101480976.41a744100ee9c@sms.ed.ac.uk>


Hi
Is there a way of repeating the previous command in rview so you don't have to
type it again like  pressing the up arrow when in the shell command line?

Thanks

Tarik
--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From gward at lmi.net  Fri Nov 26 17:23:22 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Nov 26 17:23:41 2004
Subject: instances' filename length limit (was: Re: [Radiance-general]
	replmarks in 3.6)
In-Reply-To: <DDFC1A4C-3FAA-11D9-836F-000A959DDB22@gmx.net>
References: <1604.1099257891@www30.gmx.net>
	<D2E0D52D-3733-11D9-B38D-000A95BB392A@lmi.net>
	<DDFC1A4C-3FAA-11D9-836F-000A959DDB22@gmx.net>
Message-ID: <7DB748E8-3FC7-11D9-8F3F-00306540F848@lmi.net>

Hi Lars,

What you are running up against is the general limit to the length of  
individual words in Radiance scene files.  This is set by the MAXSTR  
macro in src/common/object.h.  You could change this macro value and  
recompile, but it should not be necessary.  The instance type can give  
a filename minus the directory path and it will perform a search of all  
the directories in the RAYPATH environment variable.  You can simply  
add the path(s) you want included to this variable and execute  
replmarks in the directory containing your instance octrees so that it  
produces only the final path component.

Is this the problem you were having with replmarks in 3.6, or is  
something else wrong as well?

-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: November 26, 2004 4:58:28 AM PST
>
>> Did you ever get this sorted out?  I asked for a reproducible example  
>> so I could debug the problem, but never heard back.
>
> Hi,
>
> so it seams that replmarks just produced something oconv can't handle  
> here:
>
> void instance l_walloverarcade.0.1
> 5  
> /Users/lars/Documents/projekte/sophia/SophiaCVS/working/radiance/ 
> radiance/Sophia/library/model_sophia_aisles_vaults_walloverarcade.oct  
> -t -35.000000 58.000000 26.500000
> 0
> 0
>
> Is there a limit for the octree path/filename? The instance element is  
> the result of replmarks, and oconv gives me the following:
>
> /opt/radiance_3.6/bin/oconv: fatal -  
> (model_sophia_aisles_vaults_render.rad): bad arguments for instance  
> "l_walloverarcade.0.1"
>
> Now I copied my model's directory tree to a different location, so  
> that path names are shorter, and everything is fine. However, this is  
> bad for me, as I like to have the model in a cvs sandbox in a project  
> directory in my home... not in the root directory ;-)
>
> Thanks, CU Lars.


From gward at lmi.net  Fri Nov 26 17:25:00 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Nov 26 17:25:18 2004
Subject: [Radiance-general] repeating previous command in rview
In-Reply-To: <1101480976.41a744100ee9c@sms.ed.ac.uk>
References: <1101480976.41a744100ee9c@sms.ed.ac.uk>
Message-ID: <B7F2DD2A-3FC7-11D9-8F3F-00306540F848@lmi.net>

Hi Tarik.

No, there is no facility for repeating commands in rview.  The command 
interpreter is very simple-minded, I'm afraid.  Out of curiosity, what 
command are you trying to repeat?  Most are so short that I would not 
think typing to be a problem.  The more common commands can be 
abbreviated by a single letter.

-Greg

> From: Tarik Rahman <tarik.rahman@ed.ac.uk>
> Date: November 26, 2004 6:56:16 AM PST
>
> Hi
> Is there a way of repeating the previous command in rview so you don't 
> have to
> type it again like  pressing the up arrow when in the shell command 
> line?
>
> Thanks
>
> Tarik
> --
> Tarik Rahman
> PhD student, Institue of Perception, Action and Behaviour
> School of Informatics
> University of Edinburgh


From grobe at gmx.net  Fri Nov 26 17:39:45 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Nov 26 17:38:26 2004
Subject: instances' filename length limit (was: Re: [Radiance-general]
	replmarks in 3.6)
In-Reply-To: <7DB748E8-3FC7-11D9-8F3F-00306540F848@lmi.net>
References: <1604.1099257891@www30.gmx.net>
	<D2E0D52D-3733-11D9-B38D-000A95BB392A@lmi.net>
	<DDFC1A4C-3FAA-11D9-836F-000A959DDB22@gmx.net>
	<7DB748E8-3FC7-11D9-8F3F-00306540F848@lmi.net>
Message-ID: <C7921715-3FC9-11D9-9869-000A959DDB22@gmx.net>

Hi!

> the RAYPATH environment variable.  You can simply add the path(s) you 
> want included to this variable

Ah, of course... stupid me, thank you for that hint!

> Is this the problem you were having with replmarks in 3.6, or is 
> something else wrong as well?

No, I tracked the problem to this, now everything is FINE!

> CU, Lars.


From cbauer- at t-online.de  Fri Nov 26 17:14:19 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Fri Nov 26 19:19:57 2004
Subject: instances' filename length limit (was: Re: [Radiance-general]
	replmarks in 3.6)
References: <1604.1099257891@www30.gmx.net>	<D2E0D52D-3733-11D9-B38D-000A95BB392A@lmi.net>
	<DDFC1A4C-3FAA-11D9-836F-000A959DDB22@gmx.net>
Message-ID: <41A7565B.5050004@t-online.de>

Lars O. Grobe wrote:

> Is there a limit for the octree path/filename? The instance element is  

AFAIK, there is a general limit for stringlengths of 128 characters, 
which is set somewhere by a macro (I think #define MAXSTR 128, try grep 
MAXSTR to find out where it lives, probably increasing just this number 
may help)

-cb





From crispy at cat.nyu.edu  Fri Nov 26 19:56:21 2004
From: crispy at cat.nyu.edu (Chris Poultney)
Date: Fri Nov 26 19:56:27 2004
Subject: [Radiance-general] Radiance and MentalRay
Message-ID: <41A77C55.70907@cat.nyu.edu>

All-

A colleague has given me a few simple Radiance scenes, and I want to try 
rendering them using MentalRay.  Here at the lab, we have Maya and 
MentalRay set up, and I know it's easy to render Maya models in 
MentalRay.  But so far I haven't found any way to convert the .rad files 
to something usable by Maya or MentalRay, and I'm not at all experienced 
with any of these three packages - this is just a small step in a much 
larger project.  I'd be very grateful if someone could point me in the 
right direction.

Thanks much,
-crispy

From victorshuxx at hotmail.com  Sun Nov 28 01:38:50 2004
From: victorshuxx at hotmail.com (=?gb2312?B?yuYgtLrP/g==?=)
Date: Sun Nov 28 01:39:17 2004
Subject: [Radiance-general] Radiance within Mac OSX
Message-ID: <BAY20-F3478D67A5B3AA486C216C3B4BC0@phx.gbl>

hi, all~
i am a beginner to radiance as well as this mailing list. i got a problem 
that radiance cant work in my mac (OSX 10.6).
i have already installed it, and can run some simple command such as, 
ra_tiff. but everytime i run the command "rview", the compiler will 
complain that ""dyld: rview can't open library: 
/usr/X11R6/lib/libX11.6.dylib  (No such  file or directory, errno = 
2)Trace/BPT trap""

but i am sure i have X11 support in my mac. so how can i do to let it 
work???

looking forward to your reply~~~many thanks~~~

P.S>i am sorry about any unconvenient due to my POOR english.

_________________________________________________________________
 MSN Explorer:   http://explorer.msn.com/lccn/  


From grobe at gmx.net  Sun Nov 28 13:12:05 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Nov 28 13:10:45 2004
Subject: [Radiance-general] Radiance within Mac OSX
In-Reply-To: <BAY20-F3478D67A5B3AA486C216C3B4BC0@phx.gbl>
References: <BAY20-F3478D67A5B3AA486C216C3B4BC0@phx.gbl>
Message-ID: <B815F53C-4136-11D9-8C02-000A959DDB22@gmx.net>

Hi!

> radiance cant work in my mac (OSX 10.6).

Are you sure ? AFAIK the latest OS X is 10.3.6, is this the one you 
use? I guess you use the precompiled release? I have 3.6 compiled on 
10.3 here, and everything is fine. Do you want to try my binaries for 
10.3.x?

> but i am sure i have X11 support in my mac. so how can i do to let it 
> work???

Probably, if you use 10.3.x (did you use any other X11-apps in the 
past?).

> P.S>i am sorry about any unconvenient due to my POOR english.

I think I am the one writing the worst English on this list - and you 
didn't have to HEAR me so far ;-)

CU Lars.


From victorshuxx at hotmail.com  Sun Nov 28 20:42:59 2004
From: victorshuxx at hotmail.com (Shu Chunxiao)
Date: Sun Nov 28 20:43:56 2004
Subject: [Radiance-general] Radiance within Mac OSX
In-Reply-To: <B815F53C-4136-11D9-8C02-000A959DDB22@gmx.net>
Message-ID: <BAY20-F31EE8E26BCA632784DD38BB4BC0@phx.gbl>

Thanks for reply.
the OS i used is OSX 10.3.6.
i use the precompiled release just as u said.
i installed the same version on Linux, and it works well.
in fact, i have no idea about the X11, but i installed the X11 support fo=
r=20
mac before install radiance.
i am not quiet sure about wether i put the library file into a correct=20
location.
could u plz send me a copy of your binaries for 10.3.x, and teach me how =
to=20
get it work step by step? PLzzzzz.
if it could work in my loptop, i dont have to go to the lab everyday....:=
-(
>
>>radiance cant work in my mac (OSX 10.6).
>
>Are you sure ? AFAIK the latest OS X is 10.3.6, is this the one you=20
>use? I guess you use the precompiled release? I have 3.6 compiled on=20
>10.3 here, and everything is fine. Do you want to try my binaries=20
>for 10.3.x?
>
>>but i am sure i have X11 support in my mac. so how can i do to let=20
>>it work???
>
>Probably, if you use 10.3.x (did you use any other X11-apps in the=20
>past?).
>
>>P.S>i am sorry about any unconvenient due to my POOR english.
>
>I think I am the one writing the worst English on this list - and=20
>you didn't have to HEAR me so far ;-)
>
>CU Lars.
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general

_________________________________________________________________
=C3=E2=B7=D1=CF=C2=D4=D8 MSN Explorer:   http://explorer.msn.com/lccn/ =20


From matthew at materialintelligence.com  Tue Nov 30 23:24:48 2004
From: matthew at materialintelligence.com (Matthew Schrock)
Date: Tue Nov 30 23:25:19 2004
Subject: [Radiance-general] Radiance within Mac OSX
In-Reply-To: <BAY20-F31EE8E26BCA632784DD38BB4BC0@phx.gbl>
References: <BAY20-F31EE8E26BCA632784DD38BB4BC0@phx.gbl>
Message-ID: <A5029144-431E-11D9-99ED-000393D72B1C@materialintelligence.com>


On Nov 28, 2004, at 2:42 PM, Shu Chunxiao wrote:

> Thanks for reply.
> the OS i used is OSX 10.3.6.
> i use the precompiled release just as u said.
> i installed the same version on Linux, and it works well.
> in fact, i have no idea about the X11, but i installed the X11 support 
> for mac before install radiance.
> i am not quiet sure about wether i put the library file into a correct 
> location.
> could u plz send me a copy of your binaries for 10.3.x, and teach me 
> how to get it work step by step? PLzzzzz.
> if it could work in my loptop, i dont have to go to the lab 
> everyday....:-(
>>
>>> radiance cant work in my mac (OSX 10.6).
>>
>> Are you sure ? AFAIK the latest OS X is 10.3.6, is this the one you 
>> use? I guess you use the precompiled release? I have 3.6 compiled on 
>> 10.3 here, and everything is fine. Do you want to try my binaries for 
>> 10.3.x?
>>
>>> but i am sure i have X11 support in my mac. so how can i do to let 
>>> it work???
>>
>> Probably, if you use 10.3.x (did you use any other X11-apps in the 
>> past?).
>>
>>> P.S>i am sorry about any unconvenient due to my POOR english.
>>
>> I think I am the one writing the worst English on this list - and you 
>> didn't have to HEAR me so far ;-)
>>
>> CU Lars.
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _________________________________________________________________
> ~{Cb7QOBTX~} MSN Explorer:   http://explorer.msn.com/lccn/
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1899 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20041130/25fff95a/attachment.bin
From matthew at materialintelligence.com  Tue Nov 30 23:26:25 2004
From: matthew at materialintelligence.com (Matthew Schrock)
Date: Tue Nov 30 23:26:39 2004
Subject: [Radiance-general] Radiance within Mac OSX
In-Reply-To: <BAY20-F3478D67A5B3AA486C216C3B4BC0@phx.gbl>
References: <BAY20-F3478D67A5B3AA486C216C3B4BC0@phx.gbl>
Message-ID: <DF60AEEE-431E-11D9-99ED-000393D72B1C@materialintelligence.com>

Hello,

Because of a conflict, the command "rview" has been renamed  "rvu"

Try the new name and see if it works.

Matthew


On Nov 27, 2004, at 7:38 PM, ~{Jf~} ~{4:O~~} wrote:

> hi, all~~
> i am a beginner to radiance as well as this mailing list. i got a 
> problem that radiance cant work in my mac (OSX 10.6).
> i have already installed it, and can run some simple command such as, 
> ra_tiff. but everytime i run the command "rview", the compiler will 
> complain that ""dyld: rview can't open library: 
> /usr/X11R6/lib/libX11.6.dylib  (No such  file or directory, errno = 
> 2)Trace/BPT trap""
>
> but i am sure i have X11 support in my mac. so how can i do to let it 
> work???
>
> looking forward to your reply~~~~~~many thanks~~~~~~
>
> P.S>i am sorry about any unconvenient due to my POOR english.
>
> _________________________________________________________________
> ~{Cb7QOBTX~} MSN Explorer:   http://explorer.msn.com/lccn/
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1349 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20041130/3958bb00/attachment.bin
