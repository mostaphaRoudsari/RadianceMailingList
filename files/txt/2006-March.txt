From grobe at gmx.net  Wed Mar  1 00:11:50 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Mar  1 00:13:54 2006
Subject: [Radiance-general] obj2mesh and scaling?
In-Reply-To: <4404D129.70101@visarc.com>
References: <834366a05c288ccb735db1555f55f671@gmx.net>
	<4404D129.70101@visarc.com>
Message-ID: <626a808a8bdac8207415def50b1affe6@gmx.net>

>> I was thinking of writing my mesh primitive in a small file, apply 
>> xform to this and use it than with replmarks -x.

This was basically what Greg proposed in clear text (the 
xform-arguments of the mesh primitive, I just somehow managed to 
describe it 100x more complicated ;-). Jack's ideas are all right, my 
problem is that I have existing files (many) and thus cannot change all 
markers. I also have files containing markers for some instances and 
references that come already scaled (as both obj2rad and dxf2rad 
provide a scale option), with mappings fitting to those. So I cannot 
pipe the output of replmarks. I will add a line to my script to write a 
small rad-file for each mesh, including the scale transformations, and 
use that one with replmarks -x than.

Thanks, CU and good night, Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2134 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060301/26910de9/smime.bin
From rpg at rumblestrip.org  Wed Mar  1 03:04:59 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Mar  1 03:06:51 2006
Subject: [Radiance-general] MacBook Pro Report
In-Reply-To: <ABA2F058-0F36-4B6B-90B9-50D0396ADC12@gmail.com>
References: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>	<64D94A8D-873D-495D-AE92-6400B72171F1@arcor.de>	<44048321.40709@rumblestrip.org>	<A5E1D447-F2E2-48B1-9646-D6C589D06985@gmail.com>
	<A3E1583F-B2B1-4231-B186-C4D1FDECC86D@arcor.de>
	<4404ADD1.8040607@rumblestrip.org>
	<ABA2F058-0F36-4B6B-90B9-50D0396ADC12@gmail.com>
Message-ID: <3D5319E0-A056-4FE3-B832-6CFBD344478C@rumblestrip.org>


On Feb 28, 2006, at 1:30 PM, Greg Ward wrote:
> I don't really know when or why it goes south, but if it looks OK,  
> it probably is OK.  I have seen black images like Thomas mentioned,  
> and other serious problems.  Usually, it's not subtle when there's  
> a problem.

OK, well things seem OK here. I just did the Mark Stock benchmark  
too, and the image was looking pretty clean.  I'll stick with the - 
fast compiled binaries for now.

- Rob

From william.reynolds at oriel.ox.ac.uk  Fri Mar  3 12:55:37 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Fri Mar  3 12:57:23 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>
Message-ID: <44082EB9.4080609@oriel.ox.ac.uk>

Hi there

I've been trawling the internet for a while now looking for ies data 
files (or any other standard fot that matter) for theatrical lighting 
instruments, with out any luck at all.

I've found lots of data architecturial lanterns, and lots for the actual 
bulbs (from ge, osram etc)but these aren't very useful when you're 
trying to light a theatre, with the lanterns that are available there.

The only best photometric data i've found is from ETC:

http://www.etcconnect.com/docs_downloads/datashts/S4_19_Deg_vD.pdf

where they give you a "Candlepower Distribution Curve" as well as field 
and beam angles, but most places dont even give that.

I also have the problem that most of the lanterns i'm interested in are 
focusable, and many are zoomable as well, so i need data at a couple of 
focus/zoom settings (i can then interpolate between these).

Does anyone have any ies (or other useful format, or even radiance 
format) files about any theatrical lanterns? ideally i'm after selecon 
lanterns, but i would be happy with some generic data for the standard 
lantern types:
-profiles (of various angles)
-fresnels
-pc's (less important)
prerferably data at a couple of focus settings, and data for 1kW and 
500W lanterns.

I dont have access to the facilities to make my own measurements, and i 
can't figure out how to use the data provided 
(http://www.seleconlight.com/english/support/english/acclaim%20fresnel.pdf 
for the selcon fresnel i'm particulary interested in) to estimate the 
figures.

So if anyone can come up with any advice, or has any suggestions of 
where I can get hold of this data it would be very much appreciated.
[I will be using the data in part of an undergraduate engineerig degree 
project, and wont use anythign for any commercial purposes if it makes 
any difference to anyone].

Thanks for your help everyone
will

From gregoryjward at gmail.com  Fri Mar  3 13:30:45 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Mar  3 13:32:16 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <44082EB9.4080609@oriel.ox.ac.uk>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>
	<44082EB9.4080609@oriel.ox.ac.uk>
Message-ID: <A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>

Hi WIll,

Funny you should mention this, because here I find myself attending  
Rob Shakespeare's "Virtual Scenography in Live Performance" symposium  
at Indiana University <http://www.indiana.edu/~vslp/>, where a bunch  
of theater types and researchers are gathered talking about lighting,  
simulation, and the like.

I will definitely ask Rob if he has any data, and maybe he'll respond  
with some pointers as well.  Are you planning to input this directly  
into Radiance, or do you have other tools in mind as well?  (I.e., do  
you need IES format data, or can you get by with something not easily  
converted to IES?)

The reason I ask is that I've been toying with HDR imaging as a quick  
and convenient method to get at certain types of photometry, where  
the projection angle is small but the pattern potentially complex --  
i.e., theater lighting instruments.  The method is simple, but there  
are a few details to work out.  Basically, you set your instrument  
and point it at a blank wall or ceiling or some diffuse, white  
surface large enough to encompass the beam.  Then, you take an HDR  
photograph of the beam pattern.  The part I haven't worked out  
completely is using this as input to Radiance, but if you have some  
basic distance and beam size measurements, this should be  
straightforward.

You would of course need a reasonable digital camera -- SLRs are  
generally better due to the better flare characteristics of their  
lenses, and access to the light instrument of interest and a dark  
room to do the measurements.  If this is of interest, I would be  
happy to help you assemble an example photometric distribution as a  
proof of concept.

-Greg

> From: william reynolds <william.reynolds@oriel.ox.ac.uk>
> Date: March 3, 2006 6:55:37 AM EST
>
> Hi there
>
> I've been trawling the internet for a while now looking for ies  
> data files (or any other standard fot that matter) for theatrical  
> lighting instruments, with out any luck at all.
>
> I've found lots of data architecturial lanterns, and lots for the  
> actual bulbs (from ge, osram etc)but these aren't very useful when  
> you're trying to light a theatre, with the lanterns that are  
> available there.
>
> The only best photometric data i've found is from ETC:
>
> http://www.etcconnect.com/docs_downloads/datashts/S4_19_Deg_vD.pdf
>
> where they give you a "Candlepower Distribution Curve" as well as  
> field and beam angles, but most places dont even give that.
>
> I also have the problem that most of the lanterns i'm interested in  
> are focusable, and many are zoomable as well, so i need data at a  
> couple of focus/zoom settings (i can then interpolate between these).
>
> Does anyone have any ies (or other useful format, or even radiance  
> format) files about any theatrical lanterns? ideally i'm after  
> selecon lanterns, but i would be happy with some generic data for  
> the standard lantern types:
> -profiles (of various angles)
> -fresnels
> -pc's (less important)
> prerferably data at a couple of focus settings, and data for 1kW  
> and 500W lanterns.
>
> I dont have access to the facilities to make my own measurements,  
> and i can't figure out how to use the data provided (http:// 
> www.seleconlight.com/english/support/english/acclaim%20fresnel.pdf  
> for the selcon fresnel i'm particulary interested in) to estimate  
> the figures.
>
> So if anyone can come up with any advice, or has any suggestions of  
> where I can get hold of this data it would be very much appreciated.
> [I will be using the data in part of an undergraduate engineerig  
> degree project, and wont use anythign for any commercial purposes  
> if it makes any difference to anyone].
>
> Thanks for your help everyone
> will

From william.reynolds at oriel.ox.ac.uk  Fri Mar  3 14:01:21 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Fri Mar  3 14:03:03 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>
	<A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>
Message-ID: <44083E21.3020304@oriel.ox.ac.uk>

Greg
Good timing 'eh!
I was hoping to find IES data, but I have heard of EULUMDAT -> IES 
converter somewhere, so that would be possible too. failing that, i 
figured anything was better than nothing, and i'd work out how use the 
data once i got it if it was a different format!

the HDR idea sounds really interesting though. unfortunately i know 
nothing about it as yet, but i'll try google as my next step!
Any help you could give me would be really appreciated - this input 
method sounds very helpful as i do have access to the lights, a dark 
room and a camera!

I dont quite understand how you would get the data into radiance though 
- the only idea I can think of at he moment would be to somehow convert 
the pixel brightness information into a .dat file that you then used 
with a source as normal. So I guess you would need to turn the photo 
into .pic file, and then somehow extract the pixel brightness data into 
another file and interpret it, perhaps converting it to ies format? or 
even stright to .dat?

am i wildly out, or somehow along the right lines. i'm thinking on my 
feet, and there my well allready be something with in radiance to do all 
this!

thanks for the suggestion. off to look up HDR now!
will



Gregory J. Ward wrote:
> Hi Will,
> 
> Funny you should mention this, because here I find myself attending  Rob 
> Shakespeare's "Virtual Scenography in Live Performance" symposium  at 
> Indiana University <http://www.indiana.edu/~vslp/>, where a bunch  of 
> theater types and researchers are gathered talking about lighting,  
> simulation, and the like.
> 
> I will definitely ask Rob if he has any data, and maybe he'll respond  
> with some pointers as well.  Are you planning to input this directly  
> into Radiance, or do you have other tools in mind as well?  (I.e., do  
> you need IES format data, or can you get by with something not easily  
> converted to IES?)
> 
> The reason I ask is that I've been toying with HDR imaging as a quick  
> and convenient method to get at certain types of photometry, where  the 
> projection angle is small but the pattern potentially complex --  i.e., 
> theater lighting instruments.  The method is simple, but there  are a 
> few details to work out.  Basically, you set your instrument  and point 
> it at a blank wall or ceiling or some diffuse, white  surface large 
> enough to encompass the beam.  Then, you take an HDR  photograph of the 
> beam pattern.  The part I haven't worked out  completely is using this 
> as input to Radiance, but if you have some  basic distance and beam size 
> measurements, this should be  straightforward.
> 
> You would of course need a reasonable digital camera -- SLRs are  
> generally better due to the better flare characteristics of their  
> lenses, and access to the light instrument of interest and a dark  room 
> to do the measurements.  If this is of interest, I would be  happy to 
> help you assemble an example photometric distribution as a  proof of 
> concept.
> 
> -Greg
> 
>> From: william reynolds <william.reynolds@oriel.ox.ac.uk>
>> Date: March 3, 2006 6:55:37 AM EST
>>
>> Hi there
>>
>> I've been trawling the internet for a while now looking for ies  data 
>> files (or any other standard fot that matter) for theatrical  lighting 
>> instruments, with out any luck at all.
>>
>> I've found lots of data architecturial lanterns, and lots for the  
>> actual bulbs (from ge, osram etc)but these aren't very useful when  
>> you're trying to light a theatre, with the lanterns that are  
>> available there.
>>
>> The only best photometric data i've found is from ETC:
>>
>> http://www.etcconnect.com/docs_downloads/datashts/S4_19_Deg_vD.pdf
>>
>> where they give you a "Candlepower Distribution Curve" as well as  
>> field and beam angles, but most places dont even give that.
>>
>> I also have the problem that most of the lanterns i'm interested in  
>> are focusable, and many are zoomable as well, so i need data at a  
>> couple of focus/zoom settings (i can then interpolate between these).
>>
>> Does anyone have any ies (or other useful format, or even radiance  
>> format) files about any theatrical lanterns? ideally i'm after  
>> selecon lanterns, but i would be happy with some generic data for  the 
>> standard lantern types:
>> -profiles (of various angles)
>> -fresnels
>> -pc's (less important)
>> prerferably data at a couple of focus settings, and data for 1kW  and 
>> 500W lanterns.
>>
>> I dont have access to the facilities to make my own measurements,  and 
>> i can't figure out how to use the data provided (http:// 
>> www.seleconlight.com/english/support/english/acclaim%20fresnel.pdf  
>> for the selcon fresnel i'm particulary interested in) to estimate  the 
>> figures.
>>
>> So if anyone can come up with any advice, or has any suggestions of  
>> where I can get hold of this data it would be very much appreciated.
>> [I will be using the data in part of an undergraduate engineerig  
>> degree project, and wont use anythign for any commercial purposes  if 
>> it makes any difference to anyone].
>>
>> Thanks for your help everyone
>> will
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From gregoryjward at gmail.com  Fri Mar  3 14:15:18 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Mar  3 14:16:48 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <44083E21.3020304@oriel.ox.ac.uk>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>
	<A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>
	<44083E21.3020304@oriel.ox.ac.uk>
Message-ID: <DD6BC913-5162-4DAD-9842-DDDC4E51F422@gmail.com>

> From: william reynolds <william.reynolds@oriel.ox.ac.uk>
> Date: March 3, 2006 8:01:21 AM EST
>
> ...
> I dont quite understand how you would get the data into radiance  
> though - the only idea I can think of at he moment would be to  
> somehow convert the pixel brightness information into a .dat file  
> that you then used with a source as normal. So I guess you would  
> need to turn the photo into .pic file, and then somehow extract the  
> pixel brightness data into another file and interpret it, perhaps  
> converting it to ies format? or even stright to .dat?
>
> am i wildly out, or somehow along the right lines. i'm thinking on  
> my feet, and there my well allready be something with in radiance  
> to do all this!

It's even simpler, since you can use a Radiance .pic file (a.k.a. an  
HDR image) in a colorpict primitive with a simple coordinate mapping  
to get the output distribution directly.  This takes less memory and  
less file space than converting it to a .dat file, with no loss in  
accuracy.

For more info on HDR, check out the HDRI list on www.radiance- 
online.org.

-Greg

From tbleicher at arcor.de  Fri Mar  3 14:51:37 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Fri Mar  3 14:53:28 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <44083E21.3020304@oriel.ox.ac.uk>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>
	<A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>
	<44083E21.3020304@oriel.ox.ac.uk>
Message-ID: <26BB685A-1968-40C7-AA41-097D7E5E8C40@arcor.de>


On 03.03.2006, at 14:01, william reynolds wrote:

> Greg
> Good timing 'eh!
>
> I was hoping to find IES data, but I have heard of EULUMDAT -> IES
> converter somewhere, so that would be possible too.

Good timing indeed! I am working on a luminaire database for
brad and was looking for the converters a few days ago:

One (DOS) is available here (link at the bottom of the page):

http://www.helios32.com/resources.htm#Formats

And Carsten Bauer has another one for Linux/Unix:

http://www.cb-d.de/rzgoodies.html


BTW: Is any one on this list in the situation (read: in possession of
      and allowed to) to share file format specs for the IES 2002 and
      Eulumdat/2 data files? I've only a description of the 1995 version
      of IES and the first Eulumdat version and my database could use  
the
      additional information in the new files.


Thomas



From rpg at rumblestrip.org  Fri Mar  3 20:29:08 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri Mar  3 20:31:02 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <44082EB9.4080609@oriel.ox.ac.uk>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>
	<44082EB9.4080609@oriel.ox.ac.uk>
Message-ID: <DB9DCA71-A6B7-4A8E-8D20-9EA40C2C066D@rumblestrip.org>


On Mar 3, 2006, at 4:55 AM, william reynolds wrote:

> Hi there

Hi William...

>
> I've been trawling the internet for a while now looking for ies  
> data files (or any other standard fot that matter) for theatrical  
> lighting instruments, with out any luck at all.

Yeah, you found the best data already at ETC.  Rob Shakespeare  
definitely has some data but I don't think he's ever distributed it.   
(Greg, see what you can do; that symposium sounds really  
interesting.)  A detailed process for obtaining datasets for  
theatrical fixtures, including sharp & soft focus, is presented  
(again by Rob S.) in the Rendering with Radiance text.  I know you  
said you don't have facility access to make these measurements, but I  
thought you'd find it interesting nonetheless.

If you need color filter info, I have a spreadsheet that lists the  
rgb values for the Roscolux color filter line.  Rob S may have  
something similar.  I got mine from a guy at ETC a few years ago, but  
must admit I have not used it at all (one of many back burner  
projects), and can't vouch for its validity.

Thomas, sorry; the only electronic info I have on the ies format is  
from Ian Ashdown,s great paper "Thinking Photometrically" -- actually  
coursenotes froma lecture he did a number of years ago -- and this  
details the earlier format.  I do own a copy of the latest spec  
(LM-63-02), so if there are any specific questions you had, I may be  
able to answer them.

- Rob

From tbleicher at arcor.de  Fri Mar  3 22:07:48 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Fri Mar  3 22:09:37 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <DB9DCA71-A6B7-4A8E-8D20-9EA40C2C066D@rumblestrip.org>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>
	<44082EB9.4080609@oriel.ox.ac.uk>
	<DB9DCA71-A6B7-4A8E-8D20-9EA40C2C066D@rumblestrip.org>
Message-ID: <777980ED-4BF9-4E99-91EF-235983BD4BFF@arcor.de>


On 03.03.2006, at 20:29, Rob Guglielmetti wrote:

> Thomas, sorry; the only electronic info I have on the ies format
> is from Ian Ashdown,s great paper "Thinking Photometrically" --
> actually coursenotes froma lecture he did a number of years ago
> -- and this details the earlier format.

That's my resource for the old formats, too.

> I do own a copy of the latest spec (LM-63-02), so if there are any
> specific questions you had, I may be able to answer them.

I've found that the definition of shapes has changed from
95 to 2002. Shapes are "encoded" as negative dimensions in
x,y,z. If you could compare how this is done now or how the
shapes are "encoded" in 2002 vs. 95 this would be a great
help. That's the only place where I fear that the new standard
could be interpreted wrong. Everything else is just a more
strict interpretation of old rules AFAIK.

BTW: It's the same for EULUMDAT/2: They just squeeze more
      information into an already existing field. If you don't
      know about it you get funny names for the manufacturer
      and the report; But that's all.

TIA,

Thomas



From ramana.koti at gmail.com  Sun Mar  5 00:11:43 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Sun Mar  5 00:13:29 2006
Subject: [Radiance-general] Radiance on Cygwin: Starting problems
Message-ID: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>

Hello,

I am a graduate student at Arizona State University and I am going to use
Radiance for my thesis. The computer maintenance guy at school here helped
me install Cygwin on my notebook computer and Radiance on top of it. I have
just begun to learn Radiance and when I input a simple room as specified in
the Introduction chapter 1.3.1 of the book "Rendering with Radiance" by Greg
Ward Larson and Rob Shakespeare, I get the following errors:

$ oconv room.rad > test.oct
 oconv: fatal - <room.rad>: unknown type "bright"

$rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
I get a windows pop up error message saying rvu.exe - Unable to locate
component, This application has failed to start because cybX11-6.dll was not
found. Re-installing the application may fix this problem.

I used the NoteTab Light text editor to create the file room.rad.

Any advice on how to proceed will be greatly appreciated. If somebody with
working knowlege of Cygwin/Radiance lives around Tempe/Phoenix/Mesa (Arizona
State), I would like to get my notebook computer to you to make sure
everything needed is installed properly. Please help.

Regards,

Venkata Ramana Koti

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060304/1da8f103/attachment.htm
From jedev at visarc.com  Sun Mar  5 00:24:46 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Sun Mar  5 00:26:40 2006
Subject: [Radiance-general] Radiance on Cygwin: Starting problems
In-Reply-To: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>
References: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>
Message-ID: <440A21BE.1080200@visarc.com>

Hi,

The oconv error probably relates to a problem in the scene definition 
for the room. Unfortunately I do not have the book handy so I cannot 
check description. I would suggest double checking against what is 
indicated in the book.

Since the scene does not compile (oconv: fatal ....) you will not be 
able to rvu it anyway. It also sounds likely that you do not have X 
installed with Cygwin. I would suggest checking to see of X was 
installed as part of the cygwin installation. If not you should be able 
to run through the cygwin setup program to get additional 
programs/software such as X.

-Jack

Ramana Koti wrote:
> Hello,
>
> I am a graduate student at Arizona State University and I am going to 
> use Radiance for my thesis. The computer maintenance guy at school 
> here helped me install Cygwin on my notebook computer and Radiance on 
> top of it. I have just begun to learn Radiance and when I input a 
> simple room as specified in the Introduction chapter 1.3.1 of the book 
> "Rendering with Radiance" by Greg Ward Larson and Rob Shakespeare, I 
> get the following errors:
>
> $ oconv room.rad > test.oct
>  oconv: fatal - <room.rad>: unknown type "bright"
>
> $rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
> I get a windows pop up error message saying rvu.exe - Unable to locate 
> component, This application has failed to start because cybX11-6.dll 
> was not found. Re-installing the application may fix this problem.
>
> I used the NoteTab Light text editor to create the file room.rad.
>
> Any advice on how to proceed will be greatly appreciated. If somebody 
> with working knowlege of Cygwin/Radiance lives around 
> Tempe/Phoenix/Mesa (Arizona State), I would like to get my notebook 
> computer to you to make sure everything needed is installed properly. 
> Please help.
>
> Regards,
>
> Venkata Ramana Koti
>
> MS in Building Design (Energy/Climate)
> School of Architecture and Landscape Architecture
> College of Design
> Arizona State University, Tempe AZ 85287
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060304/0423d5ce/attachment.html
From kthibault at biomechanicsinc.com  Sun Mar  5 00:47:00 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Sun Mar  5 00:48:47 2006
Subject: [Radiance-general] Radiance on Cygwin: Starting problems
In-Reply-To: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>
References: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>
Message-ID: <731D7F61-CEC9-4B86-89F0-4D938D882C10@biomechanicsinc.com>

On page 21 of RwR, the input file <room.rad> specifies a light  
definition of:

************

# this is the material for my light source

void light bright
0
0
3 100 100 100

************

The structure for the definition is

MODIFIER TYPE ID
0
0
3 R G B

i.e.,  "light" is the type and "bright" is the id.

Make sure you did not accidentally type:

"void bright light"  [that is, switched "bright" and "light" by  
accident] on the first line of the definition.

Hope this helps, been there done that!

Kirk

On Mar 4, 2006, at 6:11 PM, Ramana Koti wrote:

> Hello,
>
> I am a graduate student at Arizona State University and I am going  
> to use Radiance for my thesis. The computer maintenance guy at  
> school here helped me install Cygwin on my notebook computer and  
> Radiance on top of it. I have just begun to learn Radiance and when  
> I input a simple room as specified in the Introduction chapter  
> 1.3.1 of the book "Rendering with Radiance" by Greg Ward Larson and  
> Rob Shakespeare, I get the following errors:
>
> $ oconv room.rad > test.oct
>  oconv: fatal - <room.rad>: unknown type "bright"
>
> $rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
> I get a windows pop up error message saying rvu.exe - Unable to  
> locate component, This application has failed to start because  
> cybX11-6.dll was not found. Re-installing the application may fix  
> this problem.
>
> I used the NoteTab Light text editor to create the file room.rad.
>
> Any advice on how to proceed will be greatly appreciated. If  
> somebody with working knowlege of Cygwin/Radiance lives around  
> Tempe/Phoenix/Mesa (Arizona State), I would like to get my notebook  
> computer to you to make sure everything needed is installed  
> properly. Please help.
>
> Regards,
>
> Venkata Ramana Koti
>
> MS in Building Design (Energy/Climate)
> School of Architecture and Landscape Architecture
> College of Design
> Arizona State University, Tempe AZ 85287
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From ramana.koti at gmail.com  Sun Mar  5 01:18:31 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Sun Mar  5 01:20:20 2006
Subject: [Radiance-general] Radiance on Cygwin: Starting problems
In-Reply-To: <731D7F61-CEC9-4B86-89F0-4D938D882C10@biomechanicsinc.com>
References: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>
	<731D7F61-CEC9-4B86-89F0-4D938D882C10@biomechanicsinc.com>
Message-ID: <cdf76d820603041618r3aa27faelf6dd621fee3034ae@mail.gmail.com>

Hey,

Thanks Kirk, I had made the "void bright light" mistake which I corrected to
successfully create the octree file.

Coming to the second error:

$rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
I get a windows pop up error message saying rvu.exe - Unable to locate
component, This application has failed to start because cybX11-6.dll was not
found. Re-installing the application may fix this problem.

My installation folder "C:\radiance_stuff\cygwin\usr\X11R6\bin" contains
only a run.exe file and nothing else. I rerun the setup with X11R6 selected
and the message at the end says "nothing needed to be installed". Does that
mean the file is missing from the installation itself? What can I do to
correct the situation?

Ramana.



On 3/4/06, Kirk Thibault <kthibault@biomechanicsinc.com> wrote:
>
> On page 21 of RwR, the input file <room.rad> specifies a light
> definition of:
>
> ************
>
> # this is the material for my light source
>
> void light bright
> 0
> 0
> 3 100 100 100
>
> ************
>
> The structure for the definition is
>
> MODIFIER TYPE ID
> 0
> 0
> 3 R G B
>
> i.e.,  "light" is the type and "bright" is the id.
>
> Make sure you did not accidentally type:
>
> "void bright light"  [that is, switched "bright" and "light" by
> accident] on the first line of the definition.
>
> Hope this helps, been there done that!
>
> Kirk
>
> On Mar 4, 2006, at 6:11 PM, Ramana Koti wrote:
>
> > Hello,
> >
> > I am a graduate student at Arizona State University and I am going
> > to use Radiance for my thesis. The computer maintenance guy at
> > school here helped me install Cygwin on my notebook computer and
> > Radiance on top of it. I have just begun to learn Radiance and when
> > I input a simple room as specified in the Introduction chapter
> > 1.3.1 of the book "Rendering with Radiance" by Greg Ward Larson and
> > Rob Shakespeare, I get the following errors:
> >
> > $ oconv room.rad > test.oct
> >  oconv: fatal - <room.rad>: unknown type "bright"
> >
> > $rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
> > I get a windows pop up error message saying rvu.exe - Unable to
> > locate component, This application has failed to start because
> > cybX11-6.dll was not found. Re-installing the application may fix
> > this problem.
> >
> > I used the NoteTab Light text editor to create the file room.rad.
> >
> > Any advice on how to proceed will be greatly appreciated. If
> > somebody with working knowlege of Cygwin/Radiance lives around
> > Tempe/Phoenix/Mesa (Arizona State), I would like to get my notebook
> > computer to you to make sure everything needed is installed
> > properly. Please help.
> >
> > Regards,
> >
> > Venkata Ramana Koti
> >
> > MS in Building Design (Energy/Climate)
> > School of Architecture and Landscape Architecture
> > College of Design
> > Arizona State University, Tempe AZ 85287
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



--
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060304/f83df0ad/attachment.htm
From jedev at visarc.com  Sun Mar  5 02:19:43 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Sun Mar  5 02:21:39 2006
Subject: [Radiance-general] Radiance on Cygwin: Starting problems
In-Reply-To: <cdf76d820603041618r3aa27faelf6dd621fee3034ae@mail.gmail.com>
References: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>	<731D7F61-CEC9-4B86-89F0-4D938D882C10@biomechanicsinc.com>
	<cdf76d820603041618r3aa27faelf6dd621fee3034ae@mail.gmail.com>
Message-ID: <440A3CAF.2020907@visarc.com>

Hi Ramana,

Can you confirm if you can get something like an xterm started from 
cygwin? This would be one way to confirm the installation of X.

-Jack

Ramana Koti wrote:
> Hey,
>
> Thanks Kirk, I had made the "void bright light" mistake which I 
> corrected to successfully create the octree file.
>
> Coming to the second error:
>
> $rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
> I get a windows pop up error message saying rvu.exe - Unable to locate 
> component, This application has failed to start because cybX11-6.dll 
> was not found. Re-installing the application may fix this problem.
>
> My installation folder "C:\radiance_stuff\cygwin\usr\X11R6\bin" 
> contains only a run.exe file and nothing else. I rerun the setup with 
> X11R6 selected and the message at the end says "nothing needed to be 
> installed". Does that mean the file is missing from the installation 
> itself? What can I do to correct the situation?
>
> Ramana.
>
>
>
> On 3/4/06, *Kirk Thibault* <kthibault@biomechanicsinc.com 
> <mailto:kthibault@biomechanicsinc.com>> wrote:
>
>     On page 21 of RwR, the input file <room.rad> specifies a light
>     definition of:
>
>     ************
>
>     # this is the material for my light source
>
>     void light bright
>     0
>     0
>     3 100 100 100
>
>     ************
>
>     The structure for the definition is
>
>     MODIFIER TYPE ID
>     0
>     0
>     3 R G B
>
>     i.e.,  "light" is the type and "bright" is the id.
>
>     Make sure you did not accidentally type:
>
>     "void bright light"  [that is, switched "bright" and "light" by
>     accident] on the first line of the definition.
>
>     Hope this helps, been there done that!
>
>     Kirk
>
>     On Mar 4, 2006, at 6:11 PM, Ramana Koti wrote:
>
>     > Hello,
>     >
>     > I am a graduate student at Arizona State University and I am going
>     > to use Radiance for my thesis. The computer maintenance guy at
>     > school here helped me install Cygwin on my notebook computer and
>     > Radiance on top of it. I have just begun to learn Radiance and when
>     > I input a simple room as specified in the Introduction chapter
>     > 1.3.1 of the book "Rendering with Radiance" by Greg Ward Larson and
>     > Rob Shakespeare, I get the following errors:
>     >
>     > $ oconv room.rad > test.oct
>     >  oconv: fatal - <room.rad>: unknown type "bright"
>     >
>     > $rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
>     > I get a windows pop up error message saying rvu.exe - Unable to
>     > locate component, This application has failed to start because
>     > cybX11-6.dll was not found. Re-installing the application may fix
>     > this problem.
>     >
>     > I used the NoteTab Light text editor to create the file room.rad.
>     >
>     > Any advice on how to proceed will be greatly appreciated. If
>     > somebody with working knowlege of Cygwin/Radiance lives around
>     > Tempe/Phoenix/Mesa (Arizona State), I would like to get my notebook
>     > computer to you to make sure everything needed is installed
>     > properly. Please help.
>     >
>     > Regards,
>     >
>     > Venkata Ramana Koti
>     >
>     > MS in Building Design (Energy/Climate)
>     > School of Architecture and Landscape Architecture
>     > College of Design
>     > Arizona State University, Tempe AZ 85287
>     > _______________________________________________
>     > Radiance-general mailing list
>     > Radiance-general@radiance-online.org
>     <mailto:Radiance-general@radiance-online.org>
>     > http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>     _______________________________________________
>     Radiance-general mailing list
>     Radiance-general@radiance-online.org
>     <mailto:Radiance-general@radiance-online.org>
>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> -- 
> Venkata Ramana Koti
> 1137 E Orange St Apt #35
> Tempe AZ 85281 USA
> Tel: 480.326.9275
>
> MS in Building Design (Energy/Climate)
> School of Architecture and Landscape Architecture
> College of Design
> Arizona State University, Tempe AZ 85287
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060304/0c5a62b1/attachment-0001.html
From kthibault at biomechanicsinc.com  Sun Mar  5 04:14:46 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Sun Mar  5 04:16:33 2006
Subject: [Radiance-general] Radiance on Cygwin: Starting problems
In-Reply-To: <cdf76d820603041618r3aa27faelf6dd621fee3034ae@mail.gmail.com>
References: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>
	<731D7F61-CEC9-4B86-89F0-4D938D882C10@biomechanicsinc.com>
	<cdf76d820603041618r3aa27faelf6dd621fee3034ae@mail.gmail.com>
Message-ID: <ADFF54DD-7A6D-4B78-AD8A-9ED1978B502F@biomechanicsinc.com>

Alas, I use a Mac.

Rock on.

kirk


On Mar 4, 2006, at 7:18 PM, Ramana Koti wrote:

> Hey,
>
> Thanks Kirk, I had made the "void bright light" mistake which I  
> corrected to successfully create the octree file.
>
> Coming to the second error:
>
> $rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
> I get a windows pop up error message saying rvu.exe - Unable to  
> locate component, This application has failed to start because  
> cybX11-6.dll was not found. Re-installing the application may fix  
> this problem.
>
> My installation folder "C:\radiance_stuff\cygwin\usr\X11R6\bin"  
> contains only a run.exe file and nothing else. I rerun the setup  
> with X11R6 selected and the message at the end says "nothing needed  
> to be installed". Does that mean the file is missing from the  
> installation itself? What can I do to correct the situation?
>
> Ramana.

From kthibault at biomechanicsinc.com  Sun Mar  5 04:21:03 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Sun Mar  5 04:22:49 2006
Subject: [Radiance-general] Radiance on Cygwin: Starting problems
In-Reply-To: <cdf76d820603041618r3aa27faelf6dd621fee3034ae@mail.gmail.com>
References: <cdf76d820603041511t4c89c87dhd9e334d8784173ac@mail.gmail.com>
	<731D7F61-CEC9-4B86-89F0-4D938D882C10@biomechanicsinc.com>
	<cdf76d820603041618r3aa27faelf6dd621fee3034ae@mail.gmail.com>
Message-ID: <2B54A870-7486-4DB8-A4E5-AF7582900A0D@biomechanicsinc.com>

I'm not sure if this applies to Windows, but is your DISPLAY  
environment variable set to launch X11 when you invoke rvu?  I'm way  
out of my league here, but I know that if I try running rvu from my  
Mac OSX Terminal app without the DISPLAY variable set, no dice.  If I  
run rvu from my X11 app, it works - I assume it is because in X11,  
the default display is X window.

Again, I ain't no Windows person, so I'm shooting from the hip here.

kirk

On Mar 4, 2006, at 7:18 PM, Ramana Koti wrote:

> Hey,
>
> Thanks Kirk, I had made the "void bright light" mistake which I  
> corrected to successfully create the octree file.
>
> Coming to the second error:
>
> $rview -vp 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5 test.oct
> I get a windows pop up error message saying rvu.exe - Unable to  
> locate component, This application has failed to start because  
> cybX11-6.dll was not found. Re-installing the application may fix  
> this problem.
>
> My installation folder "C:\radiance_stuff\cygwin\usr\X11R6\bin"  
> contains only a run.exe file and nothing else. I rerun the setup  
> with X11R6 selected and the message at the end says "nothing needed  
> to be installed". Does that mean the file is missing from the  
> installation itself? What can I do to correct the situation?
>
> Ramana.
>
>
>

From william.reynolds at oriel.ox.ac.uk  Sun Mar  5 14:54:03 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Sun Mar  5 14:55:43 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <DD6BC913-5162-4DAD-9842-DDDC4E51F422@gmail.com>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>	<A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>	<44083E21.3020304@oriel.ox.ac.uk>
	<DD6BC913-5162-4DAD-9842-DDDC4E51F422@gmail.com>
Message-ID: <440AED7B.2080306@oriel.ox.ac.uk>

hi everyone
i've been trying out this hdr stuff, and i've run into a bit of a dead 
end with my understanding!

i've left this on the general list, as it seems a slightly more general 
use of hdr imaging. correct me if im wrong!

i've tried what you suggested greg, using an image i found (its not hdr, 
thoug i converted it to .pic) rather than a photo of the real lantern i 
want to use (hopefully i'll be able to go in and take some photos early 
in the week). but the images i can generate are turning out a bit messy 
- i wasn't sure that its just noise because the patteern seems very 
regular, and there are 2 sorts of "mess" on the image as well. i've put 
my files up at http://users.ox.ac.uk/~orie1226/rad/ if someone wouldn't 
mind having a quick look at what i've done. (files.txt explains what 
everything is).

basically i've used the image to define the output distribution of a 
source, and am then using that to light a room. the likely problems seem 
to me to be either:
-some badly set arguments in my .rif file (i dont feel like i completely 
know what im doing, so this seems quite possible!), or
-a problem with the quality of the image im using to describe the source 
distribution. it's not that good quality, but i didn't think it was that 
bad.

also, all i've been able to find about using hdr images in rendering is 
about using an image showing the light distbution across a whole scene 
so that a entire scene can be lit by a single, large sperhical source 
surrounding it. (at least, i think thats the idea!).
what im trying to do is define the complete output of source as i'm 
trying to model the effect of different combinations of sources on my 
scene. does anyone know of any literature out there that might be 
relevant to this (i think simpler) approach?

thanks for your help.
will



Gregory J. Ward wrote:
>> From: william reynolds <william.reynolds@oriel.ox.ac.uk>
>> Date: March 3, 2006 8:01:21 AM EST
>>
>> ...
>> I dont quite understand how you would get the data into radiance  
>> though - the only idea I can think of at he moment would be to  
>> somehow convert the pixel brightness information into a .dat file  
>> that you then used with a source as normal. So I guess you would  need 
>> to turn the photo into .pic file, and then somehow extract the  pixel 
>> brightness data into another file and interpret it, perhaps  
>> converting it to ies format? or even stright to .dat?
>>
>> am i wildly out, or somehow along the right lines. i'm thinking on  my 
>> feet, and there my well allready be something with in radiance  to do 
>> all this!
> 
> 
> It's even simpler, since you can use a Radiance .pic file (a.k.a. an  
> HDR image) in a colorpict primitive with a simple coordinate mapping  to 
> get the output distribution directly.  This takes less memory and  less 
> file space than converting it to a .dat file, with no loss in  accuracy.
> 
> For more info on HDR, check out the HDRI list on www.radiance- online.org.
> 
> -Greg
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From gregoryjward at gmail.com  Sun Mar  5 19:50:49 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun Mar  5 19:52:42 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <440AED7B.2080306@oriel.ox.ac.uk>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>	<A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>	<44083E21.3020304@oriel.ox.ac.uk>
	<DD6BC913-5162-4DAD-9842-DDDC4E51F422@gmail.com>
	<440AED7B.2080306@oriel.ox.ac.uk>
Message-ID: <8725C1C5-6B6B-42C6-BA2B-1237991C6C40@gmail.com>

Hi Will,

I think your problem is in "source_pic.cal":

mr(r,g,b) = r;
mg(r,g,b) = g;
mb(r,g,b) = b;

myu = Px/128;
myv = Px/128;

First off, you are using Px as indices for both u and v picture  
coordinates, which is bound to be wrong.  Second, you should probably  
be using something based on the ray direction rather than the  
intersection point, which is with the light source surface and  
unrelated to the output distribution.  Something more along the lines  
of:

myu = atan2(-Dx, Dz)/(20*DEGREE) + 0.5;
myv = atan2(Dy, Dz)/(20*DEGREE) + 0.5;

The above assumes that your light is pointed in the negative Z  
direction (as it seems to be) and that your distribution is oriented  
with the horizontal scanlines along the X-axis in world space.  It  
also assumes that the picture is square and covers 20 degrees  
horizontally and vertically.

A paper that covers this idea in great detail, including local  
photometry modelling, is:

	M. Goesele, X. Granier, W. Heidrich, and H.-P. Seidel
	"Accurate Light Source Acquisition and Rendering"
	SIGGRAPH '03
	<http://www.cs.ubc.ca/~heidrich/Papers/Siggraph.03.pdf>

-Greg

> From: william reynolds <william.reynolds@oriel.ox.ac.uk>
> Date: March 5, 2006 5:54:03 AM PST
>
> hi everyone
> i've been trying out this hdr stuff, and i've run into a bit of a  
> dead end with my understanding!
>
> i've left this on the general list, as it seems a slightly more  
> general use of hdr imaging. correct me if im wrong!
>
> i've tried what you suggested greg, using an image i found (its not  
> hdr, thoug i converted it to .pic) rather than a photo of the real  
> lantern i want to use (hopefully i'll be able to go in and take  
> some photos early in the week). but the images i can generate are  
> turning out a bit messy - i wasn't sure that its just noise because  
> the patteern seems very regular, and there are 2 sorts of "mess" on  
> the image as well. i've put my files up at http://users.ox.ac.uk/ 
> ~orie1226/rad/ if someone wouldn't mind having a quick look at what  
> i've done. (files.txt explains what everything is).
>
> basically i've used the image to define the output distribution of  
> a source, and am then using that to light a room. the likely  
> problems seem to me to be either:
> -some badly set arguments in my .rif file (i dont feel like i  
> completely know what im doing, so this seems quite possible!), or
> -a problem with the quality of the image im using to describe the  
> source distribution. it's not that good quality, but i didn't think  
> it was that bad.
>
> also, all i've been able to find about using hdr images in  
> rendering is about using an image showing the light distbution  
> across a whole scene so that a entire scene can be lit by a single,  
> large sperhical source surrounding it. (at least, i think thats the  
> idea!).
> what im trying to do is define the complete output of source as i'm  
> trying to model the effect of different combinations of sources on  
> my scene. does anyone know of any literature out there that might  
> be relevant to this (i think simpler) approach?
>
> thanks for your help.
> will

From ramana.koti at gmail.com  Mon Mar  6 02:10:36 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Mon Mar  6 02:12:28 2006
Subject: [Radiance-general] saving a view from within rview
Message-ID: <cdf76d820603051710s61303f74w15b24ab52cf0a54@mail.gmail.com>

Hi,

Thanks to Jack and Kirk I have Radiance up and running on Cygwin (I
installed X).

How is the command

: view default.vf

used fom within rview to save a particular view?

Thanks,
Ramana.

--
Venkata Ramana Koti
MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060305/2a7d99cb/attachment.htm
From jedev at visarc.com  Mon Mar  6 02:43:07 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Mar  6 02:45:03 2006
Subject: [Radiance-general] saving a view from within rview
In-Reply-To: <cdf76d820603051710s61303f74w15b24ab52cf0a54@mail.gmail.com>
References: <cdf76d820603051710s61303f74w15b24ab52cf0a54@mail.gmail.com>
Message-ID: <440B93AB.1020106@visarc.com>

Hi Ramana,

When you are running rvu/rview there are a range of interactive 
commands. Typing view or v in the window will enter into a "dialog" that 
let you control view parameters. You can try it out and just step 
through the parameters by hitting return, it will not change anything 
unless you type in something. When you get a view set up the way you 
want you can save the setting by typing:

    v my-viewname.vf
    or
    view my-viewname.vf

when you want to use a view that you have saved you would type the 
following:

    l my-viewname.vf
    or
    last my-viewname.vf

Hope this helps it can be a bit confusing early on but it is worth it. 
You may want to learn to check and explore the man pages as well for 
example:

    http://radsite.lbl.gov/radiance/man_html/rvu.1.html


-Jack

Ramana Koti wrote:
> Hi,
>
> Thanks to Jack and Kirk I have Radiance up and running on Cygwin (I 
> installed X).
>
> How is the command
>
> : view default.vf
>
> used fom within rview to save a particular view?
>
> Thanks,
> Ramana.
>
> -- 
> Venkata Ramana Koti
> MS in Building Design (Energy/Climate)
> School of Architecture and Landscape Architecture
> College of Design
> Arizona State University, Tempe AZ 85287
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060305/53e6f2fd/attachment.html
From william.reynolds at oriel.ox.ac.uk  Mon Mar  6 16:01:41 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Mon Mar  6 16:03:22 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <8725C1C5-6B6B-42C6-BA2B-1237991C6C40@gmail.com>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>	<A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>	<44083E21.3020304@oriel.ox.ac.uk>	<DD6BC913-5162-4DAD-9842-DDDC4E51F422@gmail.com>	<440AED7B.2080306@oriel.ox.ac.uk>
	<8725C1C5-6B6B-42C6-BA2B-1237991C6C40@gmail.com>
Message-ID: <440C4ED5.2040709@oriel.ox.ac.uk>

greg
thanks for the suggestion for the mapping.
i'm afraid i dont quite understand it though!

i've put a rendering up at http://users.ox.ac.uk/~orie1226/rad/ again. 
its called lantern_2.2.pic (or .jpg) using your suggestions for the .cal 
file. it seems to go a bit strange though, making a sort of star pattern!

the idea seems right - that the brightness of a ray is dependant on the 
angle to the normal of the source (rather than on the point it leaves 
the source from, as i originally had), but i'm lost with the idea of a 
square picture covering 20 degrees! what does this mean?

please could you also explin the bit of code you gave? particularly the 
divisor, and why there is an offset. also, what does the DEGREE word do? 
i guess its a constant - perhaps to convert deg -> radians?

thanks very much
will



Greg Ward wrote:
> Hi Will,
> 
> I think your problem is in "source_pic.cal":
> 
> mr(r,g,b) = r;
> mg(r,g,b) = g;
> mb(r,g,b) = b;
> 
> myu = Px/128;
> myv = Px/128;
> 
> First off, you are using Px as indices for both u and v picture  
> coordinates, which is bound to be wrong.  Second, you should probably  
> be using something based on the ray direction rather than the  
> intersection point, which is with the light source surface and  
> unrelated to the output distribution.  Something more along the lines  of:
> 
> myu = atan2(-Dx, Dz)/(20*DEGREE) + 0.5;
> myv = atan2(Dy, Dz)/(20*DEGREE) + 0.5;
> 
> The above assumes that your light is pointed in the negative Z  
> direction (as it seems to be) and that your distribution is oriented  
> with the horizontal scanlines along the X-axis in world space.  It  also 
> assumes that the picture is square and covers 20 degrees  horizontally 
> and vertically.
> 
> A paper that covers this idea in great detail, including local  
> photometry modelling, is:
> 
>     M. Goesele, X. Granier, W. Heidrich, and H.-P. Seidel
>     "Accurate Light Source Acquisition and Rendering"
>     SIGGRAPH '03
>     <http://www.cs.ubc.ca/~heidrich/Papers/Siggraph.03.pdf>
> 
> -Greg
> 
>> From: william reynolds <william.reynolds@oriel.ox.ac.uk>
>> Date: March 5, 2006 5:54:03 AM PST
>>
>> hi everyone
>> i've been trying out this hdr stuff, and i've run into a bit of a  
>> dead end with my understanding!
>>
>> i've left this on the general list, as it seems a slightly more  
>> general use of hdr imaging. correct me if im wrong!
>>
>> i've tried what you suggested greg, using an image i found (its not  
>> hdr, thoug i converted it to .pic) rather than a photo of the real  
>> lantern i want to use (hopefully i'll be able to go in and take  some 
>> photos early in the week). but the images i can generate are  turning 
>> out a bit messy - i wasn't sure that its just noise because  the 
>> patteern seems very regular, and there are 2 sorts of "mess" on  the 
>> image as well. i've put my files up at http://users.ox.ac.uk/ 
>> ~orie1226/rad/ if someone wouldn't mind having a quick look at what  
>> i've done. (files.txt explains what everything is).
>>
>> basically i've used the image to define the output distribution of  a 
>> source, and am then using that to light a room. the likely  problems 
>> seem to me to be either:
>> -some badly set arguments in my .rif file (i dont feel like i  
>> completely know what im doing, so this seems quite possible!), or
>> -a problem with the quality of the image im using to describe the  
>> source distribution. it's not that good quality, but i didn't think  
>> it was that bad.
>>
>> also, all i've been able to find about using hdr images in  rendering 
>> is about using an image showing the light distbution  across a whole 
>> scene so that a entire scene can be lit by a single,  large sperhical 
>> source surrounding it. (at least, i think thats the  idea!).
>> what im trying to do is define the complete output of source as i'm  
>> trying to model the effect of different combinations of sources on  my 
>> scene. does anyone know of any literature out there that might  be 
>> relevant to this (i think simpler) approach?
>>
>> thanks for your help.
>> will
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From gregoryjward at gmail.com  Mon Mar  6 18:51:00 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Mar  6 18:52:56 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <440C4ED5.2040709@oriel.ox.ac.uk>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>	<A922809C-2114-4DC9-8A25-941ABDAE4B4B@gmail.com>	<44083E21.3020304@oriel.ox.ac.uk>	<DD6BC913-5162-4DAD-9842-DDDC4E51F422@gmail.com>	<440AED7B.2080306@oriel.ox.ac.uk>
	<8725C1C5-6B6B-42C6-BA2B-1237991C6C40@gmail.com>
	<440C4ED5.2040709@oriel.ox.ac.uk>
Message-ID: <AB9109DA-008B-4E8D-BE97-EBD70C69A574@gmail.com>

Hi Will,

I don't really have time here to offer a complete tutorial on  
Radiance .cal files.  There's Chapter 4 of RwR and some useful  
information in <http://radsite.lbl.gov/radiance/refer/filefmts.pdf>.

Your results are actually OK.  If you reduce the exposure, you'll see  
that your source pattern is coming through.  The odd streaks at the  
edges are due to the fact that you have no cut-off in your fixture,  
but the distribution data is not quite zero at the edges.  Radiance  
is extrapolating the distribution function, which is a bad idea in  
this case.

-Greg

> From: william reynolds <william.reynolds@oriel.ox.ac.uk>
> Date: March 6, 2006 7:01:41 AM PST
>
> greg
> thanks for the suggestion for the mapping.
> i'm afraid i dont quite understand it though!
>
> i've put a rendering up at http://users.ox.ac.uk/~orie1226/rad/  
> again. its called lantern_2.2.pic (or .jpg) using your suggestions  
> for the .cal file. it seems to go a bit strange though, making a  
> sort of star pattern!
>
> the idea seems right - that the brightness of a ray is dependant on  
> the angle to the normal of the source (rather than on the point it  
> leaves the source from, as i originally had), but i'm lost with the  
> idea of a square picture covering 20 degrees! what does this mean?

It covers 20 degrees horizontally and vertically, and proportionally  
more than 20 degrees diagonally.

> please could you also explin the bit of code you gave? particularly  
> the divisor, and why there is an offset. also, what does the DEGREE  
> word do? i guess its a constant - perhaps to convert deg -> radians?

Actually, it's radiance -> degrees.

> thanks very much
> will
>

From jelleferinga at gmail.com  Tue Mar  7 13:30:53 2006
From: jelleferinga at gmail.com (Jelle Feringa / EZCT Architecture & Design Research)
Date: Tue Mar  7 13:33:14 2006
Subject: [Radiance-general] cooperative render in maxwell | rtcontrib
	inspired?
Message-ID: <37fac3b90603070430v19f32ed0x217df8d973366e7d@mail.gmail.com>

Dear Group,

Seems to me Maxwell is leaching from this forum everynow & then ;)
Take a look at the following:
http://www.maxwellrender.com/files/cooperative_and_edition.avi
# requires the techsmith codec:
# http://download.techsmith.com/tscc/tscc.exe

That looks inspired on RTcontrib to me?

Actually, its a useful tool.
There are a few cases where sliders actually can work.
I recall George Schorsch wrote a python/PIL plugin that allows one to read
radiance .pic files.
This would making a similar GUI (well, Greg Ward initiated this idea,
correct me if I'm wrong, I suppose that makes us entitled to it ;)  fairly
straightforward in an  platform independent  manner. True?

-jelle
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060307/300acf30/attachment.htm
From tbleicher at arcor.de  Tue Mar  7 14:26:11 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Tue Mar  7 14:28:11 2006
Subject: [Radiance-general] cooperative render in maxwell | rtcontrib
	inspired?
In-Reply-To: <37fac3b90603070430v19f32ed0x217df8d973366e7d@mail.gmail.com>
References: <37fac3b90603070430v19f32ed0x217df8d973366e7d@mail.gmail.com>
Message-ID: <FE6FB256-A95C-472A-9A04-C16CAD4BEDE0@arcor.de>


On 07.03.2006, at 13:30, Jelle Feringa / EZCT Architecture & Design  
Research wrote:

> I recall George Schorsch wrote a python/PIL plugin that allows one
> to read radiance .pic files.

What? Where? When? How?

That's one of my sore points: having to convert RGBE files before
I can use them in Python.

Schorsch, is that true?


Thomas




From jelleferinga at gmail.com  Tue Mar  7 15:17:15 2006
From: jelleferinga at gmail.com (Jelle Feringa / EZCT Architecture & Design Research)
Date: Tue Mar  7 15:17:24 2006
Subject: [Radiance-general] cooperative render in maxwell | rtcontrib
	inspired?
In-Reply-To: <FE6FB256-A95C-472A-9A04-C16CAD4BEDE0@arcor.de>
References: <37fac3b90603070430v19f32ed0x217df8d973366e7d@mail.gmail.com>
	<FE6FB256-A95C-472A-9A04-C16CAD4BEDE0@arcor.de>
Message-ID: <37fac3b90603070617j46940e5m4d379f54117ee61b@mail.gmail.com>

If I can be so rude to speak before my  turn:
http://www.python.net/crew/schorsch/pilray.html

I think Georg has been perhaps overly modest about the pilray extension and
perhaps by the increasing python moment on this list -thanks Georg-, a good
time to pick up this project?
It'd be awesome!
If only I could code C++
;)

On 3/7/06, Thomas Bleicher <tbleicher@arcor.de> wrote:
>
>
> On 07.03.2006, at 13:30, Jelle Feringa / EZCT Architecture & Design
> Research wrote:
>
> > I recall Georg Schorsch wrote a python/PIL plugin that allows one
> > to read radiance .pic files.
>
> What? Where? When? How?
>
> That's one of my sore points: having to convert RGBE files before
> I can use them in Python.
>
> Schorsch, is that true?
>
>
> Thomas
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060307/31753ad1/attachment.html
From kthibault at biomechanicsinc.com  Tue Mar  7 15:17:17 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Mar  7 15:17:29 2006
Subject: [Radiance-general] cooperative render in maxwell | rtcontrib
	inspired?
In-Reply-To: <37fac3b90603070430v19f32ed0x217df8d973366e7d@mail.gmail.com>
References: <37fac3b90603070430v19f32ed0x217df8d973366e7d@mail.gmail.com>
Message-ID: <B0C275E2-EEEB-4D04-A2E4-DD9E6638A4A1@biomechanicsinc.com>

Jelle - I thought the same thing when the M~R folks released this  
video.  :-)
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Mar 7, 2006, at 7:30 AM, Jelle Feringa / EZCT Architecture &  
Design Research wrote:

> Dear Group,
>
> Seems to me Maxwell is leaching from this forum everynow & then ;)
> Take a look at the following:
> http://www.maxwellrender.com/files/cooperative_and_edition.avi
> # requires the techsmith codec:
> # http://download.techsmith.com/tscc/tscc.exe
>
> That looks inspired on RTcontrib to me?
>
> Actually, its a useful tool.
> There are a few cases where sliders actually can work.
> I recall George Schorsch wrote a python/PIL plugin that allows one  
> to read radiance .pic files.
> This would making a similar GUI (well, Greg Ward initiated this  
> idea, correct me if I'm wrong, I suppose that makes us entitled to  
> it ;)  fairly straightforward in an  platform independent  manner.  
> True?
>
> -jelle
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060307/0a650327/attachment.html
From jm at dmu.ac.uk  Tue Mar  7 17:23:05 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Tue Mar  7 17:23:35 2006
Subject: [Radiance-general] Radiance 2006 Scientific Workshop (7 March
	Update)
Message-ID: <5A73EAE0-7659-460C-9E19-98711B87C460@dmu.ac.uk>

Radiance 2006 Scientific Workshop
11-12 (Mon-Tues) September, Queens Building, De Montfort University,  
Leicester, UK.
http://www.iesd.dmu.ac.uk/~jm/radiance2006work.html

Dear Fellows,

Time marches on, and Greg and I would appreciate firm commitments (or  
at least expressions of interest) from those planning to attend the  
Workshop.

I will post updates/reminders on a regular basis as I start to get  
titles for presentations etc.  Here are the first (we hope that these  
will whet your appetite):

Calculation of circadian illuminance distribution with Radiance --  
Krzysztof Wandachowicz
Tutorial on rtcontrib -- Greg Ward (Provisional title)
Daylight coefficient basics (method used by rtcontrib) -- John  
Mardaljevic (Provisional title)

Please send titles for presentations as soon as you can.

The *maximum* registration fee for the Workshop will be ?140 (approx  
$240US or ?200).  Reduced rate (TBC) for speakers, students and early  
bookings.

Cheerio for now,

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From rpg at rumblestrip.org  Tue Mar  7 18:00:03 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Mar  7 18:00:25 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <777980ED-4BF9-4E99-91EF-235983BD4BFF@arcor.de>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>	<DB9DCA71-A6B7-4A8E-8D20-9EA40C2C066D@rumblestrip.org>
	<777980ED-4BF9-4E99-91EF-235983BD4BFF@arcor.de>
Message-ID: <440DBC13.9080005@rumblestrip.org>

Thomas Bleicher wrote:

> I've found that the definition of shapes has changed from
> 95 to 2002. Shapes are "encoded" as negative dimensions in
> x,y,z. If you could compare how this is done now or how the
> shapes are "encoded" in 2002 vs. 95 this would be a great
> help. That's the only place where I fear that the new standard
> could be interpreted wrong. Everything else is just a more
> strict interpretation of old rules AFAIK.

Hi Thomas,

I believe everything you're looking for is in "annex D" of the new 
LM-63.  I have scanned those two pages and attached them here.  Hope 
these help!

- Rob

From rpg at rumblestrip.org  Tue Mar  7 18:03:51 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Mar  7 18:04:04 2006
Subject: [Radiance-general] lighting fixtures data
In-Reply-To: <440DBC13.9080005@rumblestrip.org>
References: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>	<44082EB9.4080609@oriel.ox.ac.uk>	<DB9DCA71-A6B7-4A8E-8D20-9EA40C2C066D@rumblestrip.org>	<777980ED-4BF9-4E99-91EF-235983BD4BFF@arcor.de>
	<440DBC13.9080005@rumblestrip.org>
Message-ID: <440DBCF7.2060006@rumblestrip.org>

Rob Guglielmetti wrote:

> Hi Thomas,
>
> I believe everything you're looking for is in "annex D" of the new 
> LM-63.  I have scanned those two pages and attached them here.  Hope 
> these help!

OK, I think I need coffee.  (Not only was the email sent to the wrong 
recipient, but the attachments were omitted as well.  Nice.  Sorry, 
list.  Thomas, your attachments are on the way in a separate, off-list 
email.)

From alira at gsd.harvard.edu  Wed Mar  8 20:05:52 2006
From: alira at gsd.harvard.edu (alira@gsd.harvard.edu)
Date: Wed Mar  8 20:06:13 2006
Subject: [Radiance-general] radout plug in for autocad 2004?
In-Reply-To: <494BFAF2-C435-4001-B42A-F92665CFEBA8@gmail.com>
References: <BAY102-F32D589C9A99E79AD0A0A25A4710@phx.gbl>
	<494BFAF2-C435-4001-B42A-F92665CFEBA8@gmail.com>
Message-ID: <1276.128.103.173.204.1141844752.squirrel@mail.gsd.harvard.edu>

>Hi all,

   Do you know if there is a radaout plug in for autocad 2004? I had only
found for autocad 14 and autocad 2000

-adriana


From jedev at visarc.com  Wed Mar  8 20:17:01 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Mar  8 20:17:12 2006
Subject: [Radiance-general] radout plug in for autocad 2004?
In-Reply-To: <1276.128.103.173.204.1141844752.squirrel@mail.gsd.harvard.edu>
References: <BAY102-F32D589C9A99E79AD0A0A25A4710@phx.gbl>	<494BFAF2-C435-4001-B42A-F92665CFEBA8@gmail.com>
	<1276.128.103.173.204.1141844752.squirrel@mail.gsd.harvard.edu>
Message-ID: <440F2DAD.7010505@visarc.com>

Hi Adriana,

No, as far as I know the plugin only works up to 2000. You could try 
contacting the develop Georg Mischler, www.schorsch.com.

-Jack

alira@gsd.harvard.edu wrote:
>> Hi all,
>>     
>
>    Do you know if there is a radaout plug in for autocad 2004? I had only
> found for autocad 14 and autocad 2000
>
> -adriana
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060308/3f555b7c/attachment.htm
From ramana.koti at gmail.com  Thu Mar  9 19:22:47 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Thu Mar  9 19:22:55 2006
Subject: [Radiance-general] rview window size and its text window
	accessibility
Message-ID: <cdf76d820603091022t2b77f10cvd1b074e86318b988@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: radiance_screenshot.jpg
Type: image/jpeg
Size: 55800 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060309/e191180e/radiance_screenshot-0001.jpg
From william.reynolds at oriel.ox.ac.uk  Thu Mar  9 21:25:57 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Thu Mar  9 21:26:00 2006
Subject: [Radiance-general] error message
Message-ID: <44108F55.2080706@oriel.ox.ac.uk>

hi there
i've been using radiance on a debian linux laptop with no probs for a 
bit, but i've also now got it going on my desktop - using cygwin under 
windows.
it seems to work fine, and does the rendering very well - but it always 
seems to produce an error message, heres what it says:

$ rad bt_quick.rif
         oconv bt.mat bt.rad light_2.rad > bt_quick.oct
         rpict -vu 0 1 0 -vtv -vp -285.859 4340.82 1610.38 -vd 0.996043 
-0.0173828 -0.0871583 -vu 0.0871432 -0.00151368 0.996195 -vh 40 -vv 40 
-vs 0 -vl 0 -vo 338.349 -x 200 -y 200 -ps 8 -pt .16 -dp 128 -ar 16 -ds 0 
-dt .2 -dc .25 -dr 0 -sj 0 -st .5 -aa .3 -ad 256 -as 0 -av 0.05 0.05 
0.05 -lr 6 -lw .01 -av 0 0 0 -ad 200 -ab 3 bt_quick.oct > bt_quick_1.unf
         pfilt -1 -e 10 bt_quick_1.unf > bt_quick_1.pic
         rm -f bt_quick_1.unf
Segmentation fault (core dumped)


does any one have any idea what this segmentation fault is? it also 
makes a file rad.exe.stackdump,
which has the contents:

Exception: STATUS_ACCESS_VIOLATION at eip=30203020
eax=00000000 ebx=2D203620 ecx=00000001 edx=00000000 esi=2E20776C 
edi=2D203130
ebp=30207661 esp=0022E9D0 program=C:\cygwin\opt\radiance\bin\rad.exe, 
pid 368, thread main
cs=001B ds=0023 es=0023 fs=003B gs=0000 ss=0023
Stack trace:
Frame     Function  Args
       8 [main] rad 368 handle_exceptions: Error while dumping state 
(probably corrupted stack)

thanks
will

From gregoryjward at gmail.com  Thu Mar  9 21:47:32 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu Mar  9 21:47:15 2006
Subject: [Radiance-general] error message
In-Reply-To: <44108F55.2080706@oriel.ox.ac.uk>
References: <44108F55.2080706@oriel.ox.ac.uk>
Message-ID: <16E4E40C-2AD6-40B5-9C4A-7DFFCA6C31E8@gmail.com>

Hi Will,

You may have run out of stack space or some related problem in  
Cygwin, but I'm afraid neither the error nor the stack trace provide  
any clues as to what's going on.  Cygwin is far from reliable in its  
ability to run long, complicated processes.  (Polite way of saying  
the system is buggy.)  I've had lots of problem reports on this, but  
there's nothing whatever I can do about it.

-Greg

> From: william reynolds <william.reynolds@oriel.ox.ac.uk>
> Date: March 9, 2006 12:25:57 PM PST
>
> hi there
> i've been using radiance on a debian linux laptop with no probs for  
> a bit, but i've also now got it going on my desktop - using cygwin  
> under windows.
> it seems to work fine, and does the rendering very well - but it  
> always seems to produce an error message, heres what it says:
>
> $ rad bt_quick.rif
>         oconv bt.mat bt.rad light_2.rad > bt_quick.oct
>         rpict -vu 0 1 0 -vtv -vp -285.859 4340.82 1610.38 -vd  
> 0.996043 -0.0173828 -0.0871583 -vu 0.0871432 -0.00151368 0.996195 - 
> vh 40 -vv 40 -vs 0 -vl 0 -vo 338.349 -x 200 -y 200 -ps 8 -pt .16 - 
> dp 128 -ar 16 -ds 0 -dt .2 -dc .25 -dr 0 -sj 0 -st .5 -aa .3 -ad  
> 256 -as 0 -av 0.05 0.05 0.05 -lr 6 -lw .01 -av 0 0 0 -ad 200 -ab 3  
> bt_quick.oct > bt_quick_1.unf
>         pfilt -1 -e 10 bt_quick_1.unf > bt_quick_1.pic
>         rm -f bt_quick_1.unf
> Segmentation fault (core dumped)
>
>
> does any one have any idea what this segmentation fault is? it also  
> makes a file rad.exe.stackdump,
> which has the contents:
>
> Exception: STATUS_ACCESS_VIOLATION at eip=30203020
> eax=00000000 ebx=2D203620 ecx=00000001 edx=00000000 esi=2E20776C  
> edi=2D203130
> ebp=30207661 esp=0022E9D0 program=C:\cygwin\opt\radiance\bin 
> \rad.exe, pid 368, thread main
> cs=001B ds=0023 es=0023 fs=003B gs=0000 ss=0023
> Stack trace:
> Frame     Function  Args
>       8 [main] rad 368 handle_exceptions: Error while dumping state  
> (probably corrupted stack)
>
> thanks
> will

From webmaster at audice.com  Thu Mar  9 22:13:18 2006
From: webmaster at audice.com (webmaster@audice.com)
Date: Thu Mar  9 22:13:33 2006
Subject: [Radiance-general] rview window size and its text window
	accessibility
In-Reply-To: <cdf76d820603091022t2b77f10cvd1b074e86318b988@mail.gmail.com>
References: <cdf76d820603091022t2b77f10cvd1b074e86318b988@mail.gmail.com>
Message-ID: <810107773.20060310001318@audice.com>

Hello,

I think this may depend on desktop manager used.
It seems (from the image you've sent) that you're using Gnome?!

I am using Radiance under Cygwin with KDE and everything is ok.

RK> Hi,

RK> The rview window that opens up makes the text window at the
RK> bottom inaccessible (by moving it up as much as I can, I can only
RK> read 2 lines which say 256 sampling...and 512 sampling...)

RK> This is the case even when I resize the window and and stretch it
RK> down vertically apart from the fact that the screen becomes entirely black with no objects.

RK> Can the rview window size be controlled so as to access the text
RK> window at the bottom?. I am using the maximum resolution of 1440 x
RK> 900 possible on my computer. I am attaching a screenshot in a jpg format. (I am using Cygwin)

RK> Thanks,
RK> Ramana.

-- 
Best Regards,
Ilya A. Zimnovich
                          mailto:webmaster@audice.com


From info at aisarquitectura.com  Fri Mar 10 09:13:01 2006
From: info at aisarquitectura.com (=?iso-8859-1?Q?Ignacio_Mun=E1rriz?=)
Date: Fri Mar 10 09:13:47 2006
Subject: [Radiance-general] rview window size and its text
	windowaccessibility
References: <cdf76d820603091022t2b77f10cvd1b074e86318b988@mail.gmail.com>
Message-ID: <004101c6441a$737f7850$0301a8c0@aisxeon>

Hi Ramana, there is a command on cygwin to start xwindows (xwin) probably you have a direct access to it, the parameter to change the screen size is -- screen --

xwin -multiwindow -screen 0 1000 800 &

ignacio

  ----- Original Message ----- 
  From: Ramana Koti 
  To: Radiance general discussion 
  Sent: Thursday, March 09, 2006 7:22 PM
  Subject: [Radiance-general] rview window size and its text windowaccessibility


  Hi,

  The rview window that opens up makes the text window at the bottom inaccessible (by moving it up as much as I can, I can only read 2 lines which say 256 sampling...and 512 sampling...)

  This is the case even when I resize the window and and stretch it down vertically apart from the fact that the screen becomes entirely black with no objects. 

  Can the rview window size be controlled so as to access the text window at the bottom?. I am using the maximum resolution of 1440 x 900 possible on my computer. I am attaching a screenshot in a jpg format. (I am using Cygwin) 

  Thanks,
  Ramana.


  -- 
  Venkata Ramana Koti
  MS in Building Design (Energy/Climate)
  School of Architecture and Landscape Architecture
  College of Design
  Arizona State University, Tempe AZ 85287 


------------------------------------------------------------------------------


  _______________________________________________
  Radiance-general mailing list
  Radiance-general@radiance-online.org
  http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060310/2524ec88/attachment.html
From grobe at gmx.net  Sun Mar 12 13:11:29 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Mar 12 13:11:48 2006
Subject: [Radiance-general] organizing scenes with many light sources
Message-ID: <44140FF1.2000405@gmx.net>

Hi!

I am running in trouble (and into the limits of my cpu ressources) with 
a scene that contains simply too many light sources. It is a huge room 
lid by groups of small light (oil lights), all in all there are 
thousands... Rendering is getting really slow now, and I wonder how to 
get the most of the scene without loosing to much visual accuracy.

So far, I use a radiance sphere with a light modifier and xform these 
spheres to all the positions in my room. I guess, as the sphere is a 
basic and native radiance primitive, it should not make a big difference 
if I use a sphere, a polygon or any other primitive here? I remember 
that this question had been on this list some years ago, but I was not 
able to find any post in my archives. I also believe to remember that 
there has been someone doing renderings of whole star fields with 
thousands or millions of sources, am I dreaming or are there some 
projects out there like that?

When I know how to load the light sources, the next is which settings to 
use rendering them. They are all extremely small compared to the room. I 
was also thinking if it might be worth to wrap them into an illum "box", 
so that for at least the ambient calculation, the groups of "point" (in 
fact sphere) sources would appear as uniform area light sources.

Thank you for sharing ideas and experiences, at the moment I am not able 
to get any result in a reasonable time.

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3485 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060312/c8ca82d4/smime.bin
From gregoryjward at gmail.com  Sun Mar 12 17:34:36 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sun Mar 12 17:35:09 2006
Subject: [Radiance-general] organizing scenes with many light sources
In-Reply-To: <44140FF1.2000405@gmx.net>
References: <44140FF1.2000405@gmx.net>
Message-ID: <C8C696BB-0740-4E4A-97F2-C849E669D800@gmail.com>

Hi Lars,

If you lights are clustered together, you might be able to put them  
in an enclosing sphere and use mkillum to determine their collective  
output distribution, using only as many spherical illum's to light  
your space.  (Spheres are in general faster to use as lights because  
there is only one sphere per source.)

What is the exact configuration of your oil lamps?  Are they all the  
same?  Do you have any close-ups you can post somewhere?

-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: March 12, 2006 4:11:29 AM PST
>
> Hi!
>
> I am running in trouble (and into the limits of my cpu ressources)  
> with a scene that contains simply too many light sources. It is a  
> huge room lid by groups of small light (oil lights), all in all  
> there are thousands... Rendering is getting really slow now, and I  
> wonder how to get the most of the scene without loosing to much  
> visual accuracy.
>
> So far, I use a radiance sphere with a light modifier and xform  
> these spheres to all the positions in my room. I guess, as the  
> sphere is a basic and native radiance primitive, it should not make  
> a big difference if I use a sphere, a polygon or any other  
> primitive here? I remember that this question had been on this list  
> some years ago, but I was not able to find any post in my archives.  
> I also believe to remember that there has been someone doing  
> renderings of whole star fields with thousands or millions of  
> sources, am I dreaming or are there some projects out there like that?
>
> When I know how to load the light sources, the next is which  
> settings to use rendering them. They are all extremely small  
> compared to the room. I was also thinking if it might be worth to  
> wrap them into an illum "box", so that for at least the ambient  
> calculation, the groups of "point" (in fact sphere) sources would  
> appear as uniform area light sources.
>
> Thank you for sharing ideas and experiences, at the moment I am not  
> able to get any result in a reasonable time.
>
> CU Lars.

From grobe at gmx.net  Mon Mar 13 10:30:35 2006
From: grobe at gmx.net (Lars Grobe)
Date: Mon Mar 13 10:30:44 2006
Subject: [Radiance-general] organizing scenes with many light sources
References: <C8C696BB-0740-4E4A-97F2-C849E669D800@gmail.com>
Message-ID: <3744.1142242235@www093.gmx.net>

Hi Greg!

> If you lights are clustered together, you might be able to put them  
> in an enclosing sphere and use mkillum to determine their collective  
> output distribution, using only as many spherical illum's to light  
> your space.  (Spheres are in general faster to use as lights because  
> there is only one sphere per source.)

Good point, so I save 3 faces per cluser.

> What is the exact configuration of your oil lamps?  Are they all the  
> same?  Do you have any close-ups you can post somewhere?

At the moment, one lamp is represented just as one sphere with modifier
light, and all are the same. Maybe I will add some basic geometry later
(using instances), but as the lamps are so small compared to the room, that
is not urgent.

I do the following at the moment:

1) I have a file conataining one lamp (that is only one modifier and one
sphere description at the moment.

2) I build my clusters by !xform statements in one file per cluster. E.g. I
have conical arrangement (a bit like christmas trees), so the corresponding
file has some !xform-arrays to create circular groups of lights in differemt
heigths and radius. I would put the mkillum-sphere in here, too.

3) The clusters are placed by markers and the replmarks tools.

As I wrote this, I found how stupid it is to have the light modifier
definition IN the lamp file (1), as this means that I have some thousand
definitions of my lamp modifier now (after xforming them to arrays)... all
the same. The first I will change tonight!

I think a close-up of a lght sphere is not interesting? ;-) But there have
been nice flames for oil lamps modeled before with radiance. I will post an
url tonight to a paper describing it.

CU Lars.

From grobe at gmx.net  Wed Mar 15 21:27:03 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Mar 15 21:27:20 2006
Subject: [Radiance-general] organizing scenes with many light sources
In-Reply-To: <3744.1142242235@www093.gmx.net>
References: <C8C696BB-0740-4E4A-97F2-C849E669D800@gmail.com>
	<3744.1142242235@www093.gmx.net>
Message-ID: <44187897.2080407@gmx.net>

> I think a close-up of a lght sphere is not interesting? ;-) But there have
> been nice flames for oil lamps modeled before with radiance. I will post an
> url tonight to a paper describing it.

For those interested in the topic (modeling flame light sources, the
promised url as follows:

http://www.cs.bris.ac.uk/Research/Graphics/archaeology/unesco_paper.pdf

I am not sure if these works are already known here or if the authors
(Devlin, Chalmers, Brown) are even subscribers.

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3485 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060315/35fe7c25/smime.bin
From rpg at rumblestrip.org  Wed Mar 15 21:41:51 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Mar 15 21:42:04 2006
Subject: [Radiance-general] organizing scenes with many light sources
In-Reply-To: <44187897.2080407@gmx.net>
References: <C8C696BB-0740-4E4A-97F2-C849E669D800@gmail.com>	<3744.1142242235@www093.gmx.net>
	<44187897.2080407@gmx.net>
Message-ID: <44187C0F.5080606@rumblestrip.org>

hi Lars,

Lars O. Grobe wrote:

>For those interested in the topic (modeling flame light sources, the
>promised url as follows:
>
>http://www.cs.bris.ac.uk/Research/Graphics/archaeology/unesco_paper.pdf
>
>I am not sure if these works are already known here or if the authors
>(Devlin, Chalmers, Brown) are even subscribers.
>  
>

The work that went into that paper was presented at the very first 
Radiance Workshop in 2002.  As I recall, Mr. Chalmers could not attend 
due to a last-minute conflict, and a very nervous Duncan Brown delivered 
the lecture instead, and the material was so engrossing that he blew us 
all away.  He played an animation of the oil lamp flame at the end, and 
then asked if there were any questions. The first question shouted out 
by an audience member was: "could you play that again?"  =8-)  Cool stuff.

Can't believe that was 3.5 years ago; man time flies!

- Rob Guglielmetti
www.rumblestrip.org

From gregoryjward at gmail.com  Wed Mar 15 21:56:48 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed Mar 15 21:56:59 2006
Subject: [Radiance-general] organizing scenes with many light sources
In-Reply-To: <44187C0F.5080606@rumblestrip.org>
References: <C8C696BB-0740-4E4A-97F2-C849E669D800@gmail.com>	<3744.1142242235@www093.gmx.net>
	<44187897.2080407@gmx.net> <44187C0F.5080606@rumblestrip.org>
Message-ID: <2FF829B6-E6C4-47E4-97A5-0A2EEB945549@gmail.com>

Actually, I think it was Patrick Ledda who presented this work at the  
conference.  It doesn't appear to be in the notes, unfortunately.

-Greg

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: March 15, 2006 12:41:51 PM PST
>
> The work that went into that paper was presented at the very first  
> Radiance Workshop in 2002.  As I recall, Mr. Chalmers could not  
> attend due to a last-minute conflict, and a very nervous Duncan  
> Brown delivered the lecture instead, and the material was so  
> engrossing that he blew us all away.  He played an animation of the  
> oil lamp flame at the end, and then asked if there were any  
> questions. The first question shouted out by an audience member  
> was: "could you play that again?"  =8-)  Cool stuff.

From rpg at rumblestrip.org  Wed Mar 15 22:19:42 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Mar 15 22:19:47 2006
Subject: [Radiance-general] organizing scenes with many light sources
In-Reply-To: <2FF829B6-E6C4-47E4-97A5-0A2EEB945549@gmail.com>
References: <C8C696BB-0740-4E4A-97F2-C849E669D800@gmail.com>	<3744.1142242235@www093.gmx.net>	<44187897.2080407@gmx.net>
	<44187C0F.5080606@rumblestrip.org>
	<2FF829B6-E6C4-47E4-97A5-0A2EEB945549@gmail.com>
Message-ID: <441884EE.5030508@rumblestrip.org>

Gregory J. Ward wrote:

> Actually, I think it was Patrick Ledda who presented this work at the  
> conference.  It doesn't appear to be in the notes, unfortunately.

Patrick made a different presentation that year (perception of HDR 
scenes).  It may not have been Duncan Brown who gave the presentation 
I'm thinking of, but it wasn't Patrick either; it was another Bristol 
University student.  Sorry, I can't remember his name!  Cool animation 
though.  Presenter, identify yourself! 

(OK, this is a bit on the obsessive-compulsive side, but I just looked 
at the workshop photos.  Our mystery presenter is in 
http://www.radiance-online.org/radiance-workshop1/radworkshop-images/PA011181.JPG, 
he's the guy behind and to Patrick Ledda's right.)

- Rob

From gregoryjward at gmail.com  Wed Mar 15 22:44:06 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed Mar 15 22:44:14 2006
Subject: [Radiance-general] organizing scenes with many light sources
In-Reply-To: <441884EE.5030508@rumblestrip.org>
References: <C8C696BB-0740-4E4A-97F2-C849E669D800@gmail.com>	<3744.1142242235@www093.gmx.net>	<44187897.2080407@gmx.net>
	<44187C0F.5080606@rumblestrip.org>
	<2FF829B6-E6C4-47E4-97A5-0A2EEB945549@gmail.com>
	<441884EE.5030508@rumblestrip.org>
Message-ID: <47434FE7-588F-4815-9129-E5E650057AB1@gmail.com>

That would be Peter Longhurst, who is now (incidentally) working for  
BrightSide Technologies, in Vancouver.

-G

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: March 15, 2006 1:19:42 PM PST
>
> Gregory J. Ward wrote:
>
>> Actually, I think it was Patrick Ledda who presented this work at  
>> the  conference.  It doesn't appear to be in the notes,  
>> unfortunately.
>
> Patrick made a different presentation that year (perception of HDR  
> scenes).  It may not have been Duncan Brown who gave the  
> presentation I'm thinking of, but it wasn't Patrick either; it was  
> another Bristol University student.  Sorry, I can't remember his  
> name!  Cool animation though.  Presenter, identify yourself!
> (OK, this is a bit on the obsessive-compulsive side, but I just  
> looked at the workshop photos.  Our mystery presenter is in http:// 
> www.radiance-online.org/radiance-workshop1/radworkshop-images/ 
> PA011181.JPG, he's the guy behind and to Patrick Ledda's right.)
>
> - Rob

From grobe at gmx.net  Thu Mar 16 18:59:14 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Mar 16 18:59:29 2006
Subject: [Radiance-general] mkillum useage with large scenes
Message-ID: <4419A772.8020908@gmx.net>

Hi group,

while I have been using mkillum for a while now, I need your advice on
its application again.

I have a large scene, and so far, I had an external file containing only
the illums. So I could use the external file as mkillum's input and run
it with the (large) scene's octree:

mkillum large_scene.oct < only_illum_faces.rad > only_illum_sources.rad

than, later

oconv large_scene.rad only_ilum_sources.rad > full_scene.oct

(eh, I could have used oconv -i large_scene.oct only_illum_sources.rad >
full_scene.oct, right?)

But now I have to change the structure of my scene a bit, and it gets
difficult to keep the illums in an external file. So, given that
large_scene.oct is made of large_scene.rad, could I equally use

mkillum large_scene.oct < large_scene.rad > only_illum_sources.rad

given that I set the right -i=illummodifier at the beginning of
large_scene.rad? Will this use much more ressources? As I understand,
the only difference should be file access, as the full file will be sent
to mkillum instead of only the faces that are to be converted.

If you wonder why I do not simply try, it is because my model is build
by some scripts I have to change, and I wonder if it is worth it and
possible at least.

TIA+CU, Lars.

P.S.: Concering the link I sent, now I know that I REALLY missed what I
should have seen on the workshop :-(

From gregoryjward at gmail.com  Fri Mar 17 00:26:46 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Mar 17 00:26:23 2006
Subject: [Radiance-general] mkillum useage with large scenes
In-Reply-To: <4419A772.8020908@gmx.net>
References: <4419A772.8020908@gmx.net>
Message-ID: <47636FF2-601A-4535-9EB1-C1958FB744A0@gmail.com>

Hi Lars,

> I have a large scene, and so far, I had an external file containing  
> only
> the illums. So I could use the external file as mkillum's input and  
> run
> it with the (large) scene's octree:
>
> mkillum large_scene.oct < only_illum_faces.rad >  
> only_illum_sources.rad
>
> than, later
>
> oconv large_scene.rad only_ilum_sources.rad > full_scene.oct
>
> (eh, I could have used oconv -i large_scene.oct  
> only_illum_sources.rad >
> full_scene.oct, right?)

(Yes.)

> But now I have to change the structure of my scene a bit, and it gets
> difficult to keep the illums in an external file. So, given that
> large_scene.oct is made of large_scene.rad, could I equally use
>
> mkillum large_scene.oct < large_scene.rad > only_illum_sources.rad
>
> given that I set the right -i=illummodifier at the beginning of
> large_scene.rad? Will this use much more ressources? As I understand,
> the only difference should be file access, as the full file will be  
> sent
> to mkillum instead of only the faces that are to be converted.

You would have a line such as:

#@mkillum i=illummodifier

in your file.  However, this would output your entire scene, only  
modifying the surfaces with that modifier.  You could have to take  
the entire output of mkillum in this case as the input to your new  
octree.  There are ways around this using the o= setting, but they're  
complicated.

-Greg

From kthibault at biomechanicsinc.com  Sun Mar 19 00:27:45 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Sun Mar 19 00:27:52 2006
Subject: [Radiance-general] OSX, Rad3R7P2, pmap 4.3.1
Message-ID: <815F7205-3728-4E8D-9531-22359C6A2221@biomechanicsinc.com>

So I recompiled pmap 4.3.1 on Mac OSX 10.4.5 with Radiance 3R7P2.   
When I ran one of the "eggsamples" :-) included with pmap (the "ring"  
example) I get the following output:

**********
[Kirk-Thibaults-Computer:~/Desktop/eggsamples/ring] kirkt% ./render.sh
Integrating flux from source s (60000 partitions)...
PREPASS on source s (60000 partitions)...
1 emitted, 0 global, 0 caustic, 0.01% after 0.000u 0.000s 0.000r  
hours on Kirk-Thibaults-Computer.local
MAIN PASS on source s (60000 partitions)...
1833515 emitted, 1264 global, 614 caustic, 17.99% after 0.003u 0.000s  
0.003r hours on Kirk-Thibaults-Computer.local
3280870 emitted, 2082 global, 616 caustic, 32.19% after 0.006u 0.000s  
0.006r hours on Kirk-Thibaults-Computer.local
4270840 emitted, 12930 global, 118889 caustic, 41.90% after 0.008u  
0.000s 0.008r hours on Kirk-Thibaults-Computer.local
5232619 emitted, 25509 global, 245706 caustic, 51.34% after 0.011u  
0.000s 0.011r hours on Kirk-Thibaults-Computer.local
6127496 emitted, 41824 global, 429003 caustic, 60.11% after 0.014u  
0.000s 0.014r hours on Kirk-Thibaults-Computer.local
7365147 emitted, 46838 global, 501094 caustic, 72.26% after 0.017u  
0.000s 0.017r hours on Kirk-Thibaults-Computer.local
9160226 emitted, 46838 global, 501094 caustic, 89.87% after 0.019u  
0.000s 0.019r hours on Kirk-Thibaults-Computer.local

Building global photon heap...
Precomputing irradiance for 11709 global photons...
Rebuilding global photon heap...

Building caustic photon heap...
Saving ring.gpm (11709 photons)...
Saving ring.cpm (501094 photons)...
rpict: fatal - command line error at '-app'
rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on Kirk- 
Thibaults-Computer.local
rpict: fatal - command line error at '-app'
rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on Kirk- 
Thibaults-Computer.local
rpict: fatal - command line error at '-app'
rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on Kirk- 
Thibaults-Computer.local
************

It appears that mkpmap runs, but rpict is not happy.  I also ran the  
example script in the pmap "test" folder and got a similar fatal  
failure, this time at the "-apd" option on the rpict command line.

So, what seems to be the problem?  is pmap not playing nice with  
Radiance upon recompile?  Any other OSX users compile pmap?  I am on  
PowerPC architecture, not Intel.

Hmmm.


Thanks folks!

kirk

From grobe at gmx.net  Sun Mar 19 17:29:32 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Mar 19 17:31:01 2006
Subject: [Radiance-general] mkillum useage with large scenes
In-Reply-To: <47636FF2-601A-4535-9EB1-C1958FB744A0@gmail.com>
References: <4419A772.8020908@gmx.net>
	<47636FF2-601A-4535-9EB1-C1958FB744A0@gmail.com>
Message-ID: <441D86EC.3030104@gmx.net>

Hi!

Thank you for the help, mkillum is somehow still one of the radiance
secrets.

Ok, I am trying that now. I am curious about the "complicated way" using
-o settings for mkillum. Still, now I want it to work first ;-)

One question arised now. I had been filtering my scene for the
mkillum-faces' modifier, replacing it by void, and than run mkillum with
-i=void. I would prefer not to filter, but still, I need a modifier that
will actually never be used to define my mkillum-faces. Can I define an
alias to void for that? E.g. void alias mkillum_faces void? So that
before I run mkillum, these faces just are not visible, but I can still
run oconv on the scene? Or should I better use a dummy material for them
(e.g. a glass with 100% transmittance? So far I like to be able to run
rvu on the scene before using mkillum, so I prefer not to have some
thousand of these faces with a dummy modifier, but I guess that alias to
void could cause problems?

Thank You, CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3485 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060319/96f16bbd/smime.bin
From gregoryjward at gmail.com  Mon Mar 20 06:59:26 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon Mar 20 06:59:09 2006
Subject: [Radiance-general] mkillum useage with large scenes
In-Reply-To: <441D86EC.3030104@gmx.net>
References: <4419A772.8020908@gmx.net>
	<47636FF2-601A-4535-9EB1-C1958FB744A0@gmail.com>
	<441D86EC.3030104@gmx.net>
Message-ID: <179F7EB6-8004-49AF-9363-970B6920CBDF@gmail.com>

Hi Lars,

The alias type demands a valid (previously defined) identifier, and  
will not accept "void" in the current version.

You are introducing too many artificial constraints, such as  
requiring your scene files to have everything intermingled, with  
illum surfaces visible beforehand then invisible afterwards, etc.,  
etc.  Separating the surfaces you want to render and treat  
differently in separate files is by far the easiest way to go.  You  
are making life unnecessarily difficult by bundling it all together  
in one stream.

-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: March 19, 2006 8:29:32 AM PST
>
> Hi!
>
> Thank you for the help, mkillum is somehow still one of the radiance
> secrets.
>
> Ok, I am trying that now. I am curious about the "complicated way"  
> using
> -o settings for mkillum. Still, now I want it to work first ;-)
>
> One question arised now. I had been filtering my scene for the
> mkillum-faces' modifier, replacing it by void, and than run mkillum  
> with
> -i=void. I would prefer not to filter, but still, I need a modifier  
> that
> will actually never be used to define my mkillum-faces. Can I  
> define an
> alias to void for that? E.g. void alias mkillum_faces void? So that
> before I run mkillum, these faces just are not visible, but I can  
> still
> run oconv on the scene? Or should I better use a dummy material for  
> them
> (e.g. a glass with 100% transmittance? So far I like to be able to run
> rvu on the scene before using mkillum, so I prefer not to have some
> thousand of these faces with a dummy modifier, but I guess that  
> alias to
> void could cause problems?
>
> Thank You, CU Lars.

From yjy101 at psu.edu  Wed Mar 22 18:04:39 2006
From: yjy101 at psu.edu (Younju Yoon)
Date: Wed Mar 22 18:06:15 2006
Subject: [Radiance-general] Modeling of CIE General 15 sky types
Message-ID: <003601c64dd2$b5cf2400$41d4cb82@arche.psu.edu>

Dear Radiance users,

 

Has anyone have modeled the CIE General 15 sky types in Radiance?

Can anyone give me some advice on how to model the CIE General Sky types?

 

Thanks for you help in advance,

Younju

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060322/203cab0b/attachment.htm
From maino at psu.edu  Wed Mar 22 19:09:13 2006
From: maino at psu.edu (J. David Maino)
Date: Wed Mar 22 19:10:41 2006
Subject: [Radiance-general] rtrace seg fault
Message-ID: <442192C9.4090703@psu.edu>

Hello all,

rtrace has been  giving me some trouble lately, but it doesn't seem to 
be consistent. I get the following error from time to time:

rtrace: signal - Broken pipe
Segmentation Fault

It usually happens while running rtcontrib, but not always. Sometimes it 
will run fine with no problems, but then the same geometry with the same 
command produces and error and it is not always at the same point. 
Sometimes it is right away, sometimes a few minutes into it, and 
sometimes a few hours into it. Is this more a memory/hardware issue, or 
could it be a problem with the way I arrange my files? Any help you 
could offer would be greatly appreciated.

Thanks,

Dave

From gregoryjward at gmail.com  Wed Mar 22 20:09:44 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed Mar 22 20:09:58 2006
Subject: [Radiance-general] rtrace seg fault
In-Reply-To: <442192C9.4090703@psu.edu>
References: <442192C9.4090703@psu.edu>
Message-ID: <C7831008-FA13-4D96-A8A2-DB018032FAE7@gmail.com>

Hi Dave,

It sounds like rtcontrib is bombing, not rtrace.  Are you on the  
latest HEAD release?  We had some problems with the official release  
of rtcontrib under Linux, I know.  I don't remember any seg faults,  
but the Cygwin binaries seem to be prone to those if you're under  
Cygwin.

-Greg

> From: "J. David Maino" <maino@psu.edu>
> Date: March 22, 2006 10:09:13 AM PST
>
> Hello all,
>
> rtrace has been  giving me some trouble lately, but it doesn't seem  
> to be consistent. I get the following error from time to time:
>
> rtrace: signal - Broken pipe
> Segmentation Fault
>
> It usually happens while running rtcontrib, but not always.  
> Sometimes it will run fine with no problems, but then the same  
> geometry with the same command produces and error and it is not  
> always at the same point. Sometimes it is right away, sometimes a  
> few minutes into it, and sometimes a few hours into it. Is this  
> more a memory/hardware issue, or could it be a problem with the way  
> I arrange my files? Any help you could offer would be greatly  
> appreciated.
>
> Thanks,
>
> Dave

From grobe at gmx.net  Wed Mar 22 20:20:03 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Mar 22 20:20:20 2006
Subject: [Radiance-general] Modeling of CIE General 15 sky types
In-Reply-To: <003601c64dd2$b5cf2400$41d4cb82@arche.psu.edu>
References: <003601c64dd2$b5cf2400$41d4cb82@arche.psu.edu>
Message-ID: <4421A363.1010903@gmx.net>

Take a look at Philip Greenup's SSLD package:
http://www.radiance-online.org/3rd_packets.html

He is also on this list. CU and good luck, Lars.


P.S.: Peter, the 3rd-party software is difficult to find on
radiance-online, could it make a top level link on the left? Or am I
just not able to find it?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3485 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060322/64308d34/smime.bin
From gregoryjward at gmail.com  Thu Mar 23 23:12:00 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu Mar 23 23:11:35 2006
Subject: [Radiance-general] HDR Animation Contest
Message-ID: <61EE97B5-9997-4BF7-BCBF-581A08DD2E93@gmail.com>

Gentlemen (and women), start your rendering engines!

BrightSide Technologies is having an HDR animation contest for all  
those who are interested in participating:

	http://www.brightsidetech.com/HDRContest/HDRContest.php

Since Radiance naturally produces HDR output, perhaps someone has a  
nice walk-through or other animation they would like to submit?  I  
created one using the SFO air traffic control tower, but it wasn't a  
serious entry.  The field is wide open as near as I can tell.

-Greg

From ian at testers.homelinux.net  Fri Mar 24 03:01:17 2006
From: ian at testers.homelinux.net (Ian Tester)
Date: Fri Mar 24 03:01:38 2006
Subject: [Radiance-general] HDR Animation Contest
In-Reply-To: <61EE97B5-9997-4BF7-BCBF-581A08DD2E93@gmail.com>
References: <61EE97B5-9997-4BF7-BCBF-581A08DD2E93@gmail.com>
Message-ID: <20060324130117.2cd71db9@saavik.ian.testers.net.au>

On Thu, 23 Mar 2006 14:12:00 -0800
"Gregory J. Ward" <gregoryjward@gmail.com> wrote:

> Gentlemen (and women), start your rendering engines!
> 
> BrightSide Technologies is having an HDR animation contest for all  
> those who are interested in participating:
> 
> 	http://www.brightsidetech.com/HDRContest/HDRContest.php

Sounds interesting. But what a shame their MPEG-HDR encoder only runs
under Windows XP. That leaves out us Linux, BSD, and OS X users. Oh well.

Out of interest, what platforms do people here use? I presume it's mostly
Unix and Unix-like.

bye

From gregoryjward at gmail.com  Fri Mar 24 05:44:41 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Mar 24 05:44:14 2006
Subject: [Radiance-general] HDR Animation Contest
In-Reply-To: <20060324130117.2cd71db9@saavik.ian.testers.net.au>
References: <61EE97B5-9997-4BF7-BCBF-581A08DD2E93@gmail.com>
	<20060324130117.2cd71db9@saavik.ian.testers.net.au>
Message-ID: <D173D55D-94AB-40E6-A690-3B8486F7EAE8@gmail.com>

Hi Ian,

I didn't realize they only had a Windows version -- they should have  
at least have a Linux edition, since that was where it was developed  
(as I understand it).  Hopefully, they will add MPEG-HDR encoder  
libraries for Linux and OS X in the near future.  Don't let this stop  
you, though.  You can always generate a sequence of HDR frames and  
figure it out later.

-Greg

> From: Ian Tester <ian@testers.homelinux.net>
> Date: March 23, 2006 6:01:17 PM PST
>
> On Thu, 23 Mar 2006 14:12:00 -0800
> "Gregory J. Ward" <gregoryjward@gmail.com> wrote:
>
>> Gentlemen (and women), start your rendering engines!
>>
>> BrightSide Technologies is having an HDR animation contest for all
>> those who are interested in participating:
>>
>> 	http://www.brightsidetech.com/HDRContest/HDRContest.php
>
> Sounds interesting. But what a shame their MPEG-HDR encoder only runs
> under Windows XP. That leaves out us Linux, BSD, and OS X users. Oh  
> well.
>
> Out of interest, what platforms do people here use? I presume it's  
> mostly
> Unix and Unix-like.
>
> bye

From grobe at gmx.net  Fri Mar 24 10:10:32 2006
From: grobe at gmx.net (Lars Grobe)
Date: Fri Mar 24 10:10:39 2006
Subject: [Radiance-general] Environments,
	platforms in use for Radiance (was: HDR Animation Contest)
References: <20060324130117.2cd71db9@saavik.ian.testers.net.au>
Message-ID: <1213.1143191432@www074.gmx.net>

> Out of interest, what platforms do people here use? I presume it's mostly
> Unix and Unix-like.

Hi,

before this gets flooded with replys - if there is interest in this issue,
we could have a poll about radiance useage (again). This could include
application (visualization / research / daylight / lighting planning) as
well as technical stuff ( machine(s) / os / radiance release including
frontends like rayfront or derivates like radzilla) and general environment
(research / company / freelancer / ...).

This MAY be interesting and cetainly much more informative than if some
people post their os now...

Is there need for that?

CU Lars.

From apian at pab-opto.de  Fri Mar 24 13:02:05 2006
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Fri Mar 24 13:02:23 2006
Subject: [Radiance-general] Re: platforms in use for Radiance
In-Reply-To: <cmu-lmtpd-11995-1143198204-0@pa1>
References: <cmu-lmtpd-11995-1143198204-0@pa1>
Message-ID: <4423DFBD.2090102@pab-opto.de>


>Hi,
>
>before this gets flooded with replys - if there is interest in this issue,
>we could have a poll about radiance useage (again). This could include
>application (visualization / research / daylight / lighting planning) as
>well as technical stuff ( machine(s) / os / radiance release including
>frontends like rayfront or derivates like radzilla) and general environment
>(research / company / freelancer / ...).
>  
>
Hi Lars, hi others,

http://www.radiance-online.org/survey1/survinput.html has been there
since Jan 2005, but presumably remained largely unknown.
Maybe I should split "package type" into MacOS, Linux (IMHO splitting it
into dists won't generate much insight) and Unix-other.

cheers
-Peter

-- 
pab-opto, Freiburg, Germany, http://www.pab-opto.de
[see web page to check digital email signature]




From maino at psu.edu  Fri Mar 24 15:31:06 2006
From: maino at psu.edu (J. David Maino)
Date: Fri Mar 24 15:32:36 2006
Subject: [Radiance-general] rtrace seg fault
In-Reply-To: <C7831008-FA13-4D96-A8A2-DB018032FAE7@gmail.com>
References: <442192C9.4090703@psu.edu>
	<C7831008-FA13-4D96-A8A2-DB018032FAE7@gmail.com>
Message-ID: <442402AA.5030402@psu.edu>

Greg,

After upgrading to the latest HEAD release I've been running several 
different runs over the past day and it seems that the seg fault is 
gone, but now there is another message that I am getting:

*** glibc detected *** realloc(): invalid next size: 0x08060248
Aborted
rtrace: signal - Broken pipe

It seems to work OK when I split my sensor input file up into smaller 
segments (of 100-200 calculation points) but when I try the whole file 
(around 2000 points) is when it has problems now. I'm running the latest 
HEAD release on Ubuntu Linux (Breezy Badger) just for reference. For 
now, I'm fine with using the "split" command as a workaround and 
calculating the contributions in segments, but I was wondering if there 
is again perhaps something that I'm doing wrong?

Thanks,

Dave

Gregory J. Ward wrote:
> Hi Dave,
>
> It sounds like rtcontrib is bombing, not rtrace.  Are you on the 
> latest HEAD release?  We had some problems with the official release 
> of rtcontrib under Linux, I know.  I don't remember any seg faults, 
> but the Cygwin binaries seem to be prone to those if you're under Cygwin.
>
> -Greg
>
>> From: "J. David Maino" <maino@psu.edu>
>> Date: March 22, 2006 10:09:13 AM PST
>>
>> Hello all,
>>
>> rtrace has been  giving me some trouble lately, but it doesn't seem 
>> to be consistent. I get the following error from time to time:
>>
>> rtrace: signal - Broken pipe
>> Segmentation Fault
>>
>> It usually happens while running rtcontrib, but not always. Sometimes 
>> it will run fine with no problems, but then the same geometry with 
>> the same command produces and error and it is not always at the same 
>> point. Sometimes it is right away, sometimes a few minutes into it, 
>> and sometimes a few hours into it. Is this more a memory/hardware 
>> issue, or could it be a problem with the way I arrange my files? Any 
>> help you could offer would be greatly appreciated.
>>
>> Thanks,
>>
>> Dave
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

From MMoeck at engr.psu.edu  Fri Mar 24 15:42:36 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Fri Mar 24 15:44:07 2006
Subject: [Radiance-general] rtrace seg fault
References: <442192C9.4090703@psu.edu><C7831008-FA13-4D96-A8A2-DB018032FAE7@gmail.com>
	<442402AA.5030402@psu.edu>
Message-ID: <354E21276D166C4FB5EBBF9457DA20780886B0@ENGRMAIL1.engr.psu.edu>

Actually, I had the same problem with rtcontrib. It can easily be invoked by setting -ad higher than 26000.
 
Martin Moeck, Penn state

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of J. David Maino
Sent: Fri 3/24/2006 9:31 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] rtrace seg fault



Greg,

After upgrading to the latest HEAD release I've been running several
different runs over the past day and it seems that the seg fault is
gone, but now there is another message that I am getting:

*** glibc detected *** realloc(): invalid next size: 0x08060248
Aborted
rtrace: signal - Broken pipe

It seems to work OK when I split my sensor input file up into smaller
segments (of 100-200 calculation points) but when I try the whole file
(around 2000 points) is when it has problems now. I'm running the latest
HEAD release on Ubuntu Linux (Breezy Badger) just for reference. For
now, I'm fine with using the "split" command as a workaround and
calculating the contributions in segments, but I was wondering if there
is again perhaps something that I'm doing wrong?

Thanks,

Dave

Gregory J. Ward wrote:
> Hi Dave,
>
> It sounds like rtcontrib is bombing, not rtrace.  Are you on the
> latest HEAD release?  We had some problems with the official release
> of rtcontrib under Linux, I know.  I don't remember any seg faults,
> but the Cygwin binaries seem to be prone to those if you're under Cygwin.
>
> -Greg
>
>> From: "J. David Maino" <maino@psu.edu>
>> Date: March 22, 2006 10:09:13 AM PST
>>
>> Hello all,
>>
>> rtrace has been  giving me some trouble lately, but it doesn't seem
>> to be consistent. I get the following error from time to time:
>>
>> rtrace: signal - Broken pipe
>> Segmentation Fault
>>
>> It usually happens while running rtcontrib, but not always. Sometimes
>> it will run fine with no problems, but then the same geometry with
>> the same command produces and error and it is not always at the same
>> point. Sometimes it is right away, sometimes a few minutes into it,
>> and sometimes a few hours into it. Is this more a memory/hardware
>> issue, or could it be a problem with the way I arrange my files? Any
>> help you could offer would be greatly appreciated.
>>
>> Thanks,
>>
>> Dave
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 6012 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060324/5426a23c/attachment.bin
From gregoryjward at gmail.com  Fri Mar 24 17:33:15 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Mar 24 17:32:51 2006
Subject: [Radiance-general] Environments,
	platforms in use for Radiance (was: HDR Animation Contest)
In-Reply-To: <1213.1143191432@www074.gmx.net>
References: <20060324130117.2cd71db9@saavik.ian.testers.net.au>
	<1213.1143191432@www074.gmx.net>
Message-ID: <37786F0B-FDD5-4F18-BDBE-E959F17A464A@gmail.com>

Hi Lars,

How many users have not yet been to Peter's page on radiance-online  
to fill out his survey:

	http://www.radiance-online.org/survey1/

It's pretty quick to get through, and you can see the results others  
have posted (about 100 or so samples as of today).

-Greg

> From: "Lars Grobe" <grobe@gmx.net>
> Date: March 24, 2006 1:10:32 AM PST
>
>> Out of interest, what platforms do people here use? I presume it's  
>> mostly
>> Unix and Unix-like.
>
> Hi,
>
> before this gets flooded with replys - if there is interest in this  
> issue,
> we could have a poll about radiance useage (again). This could include
> application (visualization / research / daylight / lighting  
> planning) as
> well as technical stuff ( machine(s) / os / radiance release including
> frontends like rayfront or derivates like radzilla) and general  
> environment
> (research / company / freelancer / ...).
>
> This MAY be interesting and cetainly much more informative than if  
> some
> people post their os now...
>
> Is there need for that?
>
> CU Lars.
>

From grobe at gmx.net  Fri Mar 24 17:42:08 2006
From: grobe at gmx.net (Lars Grobe)
Date: Fri Mar 24 17:42:11 2006
Subject: [Radiance-general] Re: platforms in use for Radiance
References: <4423DFBD.2090102@pab-opto.de>
Message-ID: <3239.1143218528@www074.gmx.net>

Hi Peter!

> http://www.radiance-online.org/survey1/survinput.html has been there
> since Jan 2005, but presumably remained largely unknown.

I knew it (my "again" was for that ;-), but I did not know that is is still
going on. 

> Maybe I should split "package type" into MacOS, Linux (IMHO splitting it
> into dists won't generate much insight) and Unix-other.

And the Windows guys that are brave enough to visit radiance-online... :-)

One problem I see with this type of ongoing polls is that the results do not
reflect a certain time. E.g. I guess I entered using Linux and being in an
academic environment at the time. This both changed, but I cannot edit,
while the poll is going on and there are still new entries added. So I
prefer a time-limited poll to reflect the community at one certain time or
something more dynamic (editable and thus correctable) to reflect always the
most recent state. This is quite a bit of work of course, the Linux Counter
Project is an example for such an approach.

On the other hand, the most interesting ressource for these issues is the
mailing list, the questions and contributions posted show a lot of the
useage, maybe more then a poll will ever show.

CU Lars.

From gregoryjward at gmail.com  Fri Mar 24 19:18:49 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Mar 24 19:18:28 2006
Subject: [Radiance-general] rtrace seg fault
In-Reply-To: <442402AA.5030402@psu.edu>
References: <442192C9.4090703@psu.edu>
	<C7831008-FA13-4D96-A8A2-DB018032FAE7@gmail.com>
	<442402AA.5030402@psu.edu>
Message-ID: <5A7877DD-1C7A-46F9-82D1-D4811EB8F321@gmail.com>

Hi Dave,

This appears to be a glibc internal error (consistency check), which  
indicates a bug in the malloc library on your system.  I don't think  
there's much I can do about it if that's the case.  If someone has a  
copy of the malloc.c module from glibc, I can take a look to see  
exactly where this check is happening, but that still doesn't give me  
much chance of fixing the problem if I can't reproduce it on my  
system.  There's nothing particularly funny or strange about my use  
of realloc() in rtcontrib.

The only possibility I can think of is that I'm passing an invalid  
pointer to realloc(), which is somehow generating this error rather  
than the expected one.  I checked my code, though, and I can't see  
how this could happen.

-Greg

> From: "J. David Maino" <maino@psu.edu>
> Date: March 24, 2006 6:31:06 AM PST
>
> Greg,
>
> After upgrading to the latest HEAD release I've been running  
> several different runs over the past day and it seems that the seg  
> fault is gone, but now there is another message that I am getting:
>
> *** glibc detected *** realloc(): invalid next size: 0x08060248
> Aborted
> rtrace: signal - Broken pipe
>
> It seems to work OK when I split my sensor input file up into  
> smaller segments (of 100-200 calculation points) but when I try the  
> whole file (around 2000 points) is when it has problems now. I'm  
> running the latest HEAD release on Ubuntu Linux (Breezy Badger)  
> just for reference. For now, I'm fine with using the "split"  
> command as a workaround and calculating the contributions in  
> segments, but I was wondering if there is again perhaps something  
> that I'm doing wrong?
>
> Thanks,
>
> Dave

From apian at pab-opto.de  Fri Mar 24 20:03:59 2006
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Fri Mar 24 20:04:20 2006
Subject: [Radiance-general] Re: platforms in use for Radiance
Message-ID: <4424429F.4040006@pab-opto.de>

Hi Lars,

the date of entry is one column in the database, so the display of
answers could be filtered to show a time interval (last days, all in
2005, etc).
The interface is intended to run for a longer time, excactly to show
changes in user pattern. The data is there, I just haven't done a more 
detailed web interface.
90 entries over time and lack of an "officially blessed state" for the 
survey had put it on low priority.

-Peter

-- 
pab-opto, Freiburg, Germany, http://www.pab-opto.de
[see web page to check digital email signature]




From kthibault at biomechanicsinc.com  Fri Mar 24 20:13:48 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Mar 24 20:13:58 2006
Subject: [Radiance-general] OSX, Rad3R7P2, pmap 4.3.1
In-Reply-To: <815F7205-3728-4E8D-9531-22359C6A2221@biomechanicsinc.com>
References: <815F7205-3728-4E8D-9531-22359C6A2221@biomechanicsinc.com>
Message-ID: <DE3777D6-D6AD-4AB4-ADEF-9AC1DDCA2AB0@biomechanicsinc.com>

I compiled successfully  - I must have made an error folding the pmap  
source files into the radiance "ray" source.  I am a moron, what can  
I say?  Not the first time.... :-)
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Mar 18, 2006, at 6:27 PM, Kirk Thibault wrote:

> So I recompiled pmap 4.3.1 on Mac OSX 10.4.5 with Radiance 3R7P2.   
> When I ran one of the "eggsamples" :-) included with pmap (the  
> "ring" example) I get the following output:
>
> ...
>
> It appears that mkpmap runs, but rpict is not happy.  I also ran  
> the example script in the pmap "test" folder and got a similar  
> fatal failure, this time at the "-apd" option on the rpict command  
> line.
>
> So, what seems to be the problem?  is pmap not playing nice with  
> Radiance upon recompile?  Any other OSX users compile pmap?  I am  
> on PowerPC architecture, not Intel.
>
> Hmmm.
>
>
> Thanks folks!
>
> kirk
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From ramana.koti at gmail.com  Sun Mar 26 03:39:45 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Sun Mar 26 03:40:05 2006
Subject: [Radiance-general] modeling hourly daylight illuminance/daylight
	factor values for a year
Message-ID: <cdf76d820603251739u771a36ccq64ae518feef28813@mail.gmail.com>

Hi all,

I ask this question with a very basic knowledge of radiance's functioning so
excuse me if the question is not framed well.

Is it possible to program/loop radiance modeling to produce daylight
illuminance or daylight factor values at various points on a work surface of
a space for each hour through the year? (24x365 = 8760 values for a point on
a work plane)

If any, what are the constraints to such a process and how can they be
overcome so as not to model each hour individually?

I am using Radiance on Cygwin.

Thanks in advance,
Ramana.


--
Venkata Ramana Koti
MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060325/aa00606b/attachment.html
From jm at dmu.ac.uk  Sun Mar 26 11:56:39 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Sun Mar 26 11:56:45 2006
Subject: [Radiance-general] modeling hourly daylight illuminance/daylight
	factor values for a year
Message-ID: <D87087D5-5FC8-4591-A64E-11FC29A51903@dmu.ac.uk>

Ramana,

A brute-force approach (i.e. a new simulation for every hour) can be  
done, but it is computationally very inefficient.  A better approach  
is to use daylight coefficients.  Background, theory and  
implementation are described in chapter 6 here:
http://www.iesd.dmu.ac.uk/~jm/zxcv-thesis/
[Web pages seem to be down at the moment - try again later/tomorrow]

An end-user DC version called DAYSIM is available from here:
http://irc.nrc-cnrc.gc.ca/ie/lighting/daylight/daysim_e.html
DAYSIM is different in detail from the description noted above, but  
does more or less the same thing.

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From william.reynolds at oriel.ox.ac.uk  Mon Mar 27 05:16:23 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Mon Mar 27 05:16:30 2006
Subject: [Radiance-general] specifying sources
Message-ID: <44275907.1060204@oriel.ox.ac.uk>

hi there
i'm after a bit more advice about light sources than i can find in th 
edocumentation, and i was wondering if anyone had any suggestions...

firstly, i want to specify the brightness of my light sources 
accurately. i am using photos (hdr images assembled from several photos) 
to specify the output distribution of the source (theatre spotlights) 
and i know the "light output in lux" at various distances from the lens 
(from here: 
http://www.seleconlight.com/english/support/english/acclaim%20pc.pdf  ) 
and i assume that they give the figure for the centre of the beam, 
rather than the average over the whole field.
what i'm stuck on is what figures i should use for the (rgb) brightness 
in the rad file description of the "light" material.

i need the light output of these sources to be physically accurate, 
because i want to compare them to models using ies-data described 
distributions.
i would like to be able to colour correct these sources (i believe the 
ies2rad will do this automatically) given the colour temperature of the 
bulb.


secondly i want to colour my lights, as though they had colour filters 
in front of the lense, and i dont really understand the colour space 
that radiance uses. can anyone point me towards any resources on this?
i want to model the colours of commercially available filters (such as 
this one:  http://www.leefilters.com/LPFD.asp?PageID=248  ) but i cant 
find any RGB transmission data for them. is it possible to convert the 
XYZ values given on the data sheet to RGB?


thanks for your help again
will

From gregoryjward at gmail.com  Mon Mar 27 07:19:05 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon Mar 27 07:18:35 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <44275907.1060204@oriel.ox.ac.uk>
References: <44275907.1060204@oriel.ox.ac.uk>
Message-ID: <1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>

Hi Will,

> firstly, i want to specify the brightness of my light sources  
> accurately. i am using photos (hdr images assembled from several  
> photos) to specify the output distribution of the source (theatre  
> spotlights) and i know the "light output in lux" at various  
> distances from the lens (from here: http://www.seleconlight.com/ 
> english/support/english/acclaim%20pc.pdf  ) and i assume that they  
> give the figure for the centre of the beam, rather than the average  
> over the whole field.
> what i'm stuck on is what figures i should use for the (rgb)  
> brightness in the rad file description of the "light" material.

I don't have a ready example to offer, but the basic idea is to apply  
the HDR capture as a pattern to your light source, indexing the image  
a perspective projection:

void colorpict spot_dist
7 red green blue capture.hdr .
		(-Dx/Dz)/A1+.5  (Dy/Dz)/A1+.5
0
1 0.404026

spot_dist light spot_output
0
0
3 3881 3881 3881

The value given in the colorpict's first argument (A1) is the tangent  
of the subtended horizontal angle.  The image (capture.hdr) is  
assumed to be square.

To get the right output value for your lamp, you can create as scene  
to match the lux measurement you have and render it in rvu with the - 
i option, having it report on the illuminance for a surface at the  
same distance with the 'trace' command.  Then, apply a correction  
equal to the ratio between this value and the measured one to your  
light color (3881 in the example above).

> i need the light output of these sources to be physically accurate,  
> because i want to compare them to models using ies-data described  
> distributions.
> i would like to be able to colour correct these sources (i believe  
> the ies2rad will do this automatically) given the colour  
> temperature of the bulb.

Rendering with an RGB color isn't very accurate and won't look right  
unless you apply a more sophisticated spectral technique, such as the  
one described in the paper:

	http://www.anyhere.com/gward/papers/egwr02/

> secondly i want to colour my lights, as though they had colour  
> filters in front of the lense, and i dont really understand the  
> colour space that radiance uses. can anyone point me towards any  
> resources on this?
> i want to model the colours of commercially available filters (such  
> as this one:  http://www.leefilters.com/LPFD.asp?PageID=248  ) but  
> i cant find any RGB transmission data for them. is it possible to  
> convert the XYZ values given on the data sheet to RGB?

The following command will take XYZ values on its input (triplets)  
and produce Radiance RGB values on its output:

	rcalc -f ray/src/cal/xyz_rgb.cal -e '$1=R($1,$2,$3);$2=G($1,$2,$3); 
$3=B($1,$2,$3);'

Expect to be disappointed by the results if you don't apply white- 
balancing afterwards.

-Greg

From william.reynolds at oriel.ox.ac.uk  Mon Mar 27 18:47:58 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Mon Mar 27 18:47:54 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>
References: <44275907.1060204@oriel.ox.ac.uk>
	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>
Message-ID: <4428173E.4050909@oriel.ox.ac.uk>

Hi
thanks for your suggestions greg, though i'm afraid i'm still having a 
bit of trouble getting to grips with this one!

I have my hdr capture sources working fine, and now i've got them scaled 
to emit a physically correct brightness.

but i'm still struggling with the colour rendering.
i have converted my CIE XYZ values to radiance RGB primaries, and 
rendered a test scene. the colour is a bit out for what the filter 
should be, but not wildly i dont think.
i have read your paper though, and i would like to try the rendering in 
a diferent colour space, for the sake of comparision, and also to 
correct the white point.

converting to sharp RGB:
-i think i can just change some constants in the xyz_rgb.cal file, 
(values for sharp RGB are given in Sharp.cal) to change the clour space.
-i assume that all colours (ie of materials as well as sources) have to 
be converted?
-the rendered picture will then be in th sharp RGB colour space, which 
ximage does not use, so every pixel in the image then has to be 
converted to back to the radiance RGB primaries. is this right? if so, 
is there a utility to apply the transformation to a .pic file or do i 
need to write a script?

white point adjustment:
-presumably the white point that radiance uses is the same as most 
monitors (D65 i think) so i need to transform from the white point of 
the XYZ colour space to that of the sharp RGB (or radiance RGB) colour 
space, but only because of this change in colour space.
-can anyone start me off with how to apply the white point 
transformation? i assume it uses the vonKries.cal file, and that the 
inputs (initial and final white point cramaticities) are standard values 
for the colour spaces in question, but how is it used!?
-the XYZ data (and the xy coordinates) i have are given for both a C 
source (the CIE standard?) and for a tungsten lamp with colout temp 
3200K, so i presume i should use the tungsten readings (as my lamps are 
tungsten).
-the sources i am modelling are tungsten, but i want an accurate 
representation of what the colour will look like, so presumably i need 
some sort of white point transformatin to correct their slight 
orangeness, as the eye is quite good at correcting this, i believe. how 
should i specify this? i know the lamps' colour temperature (about 3200K).



and finally, how should i apply the colour to my sources?
-i have XYZ tristimulus and xy cromaticity coordinate data for the 
filters i want to use, but i'm not sure of the best way to apply it.
(data comes from eg.  http://www.leefilters.com/LPFD.asp?PageID=248  )
-i could either the calculated RGB values to scale the output from my 
source primative (though would i have to take the Y value 
(reflectance/transmission depending on the context i believe) into 
account, or is this done automatically in the conversion?). This is what 
i did for my first test run earlier (converting XYZ values to radiance 
RGB primaries, and then not using the Y value again), and the result 
seemed to bright for the filter i was using (i had 2 sources in the 
scene, one coloured, the other not, and they were both of similar 
brigtness).
-or i could use the RGB values to define the transmission of a thin 
piece of glass, and place this in front of the source (as a real filter is).


i'm sorry to keep asking long questions, but thanks once again for the 
help, its proved invaluable in building up my understanding Radiance, 
but its also really kindled my interest in the whole area!
will




Gregory J. Ward wrote:
> Hi Will,
> 
>> firstly, i want to specify the brightness of my light sources  
>> accurately. i am using photos (hdr images assembled from several  
>> photos) to specify the output distribution of the source (theatre  
>> spotlights) and i know the "light output in lux" at various  distances 
>> from the lens (from here: http://www.seleconlight.com/ 
>> english/support/english/acclaim%20pc.pdf  ) and i assume that they  
>> give the figure for the centre of the beam, rather than the average  
>> over the whole field.
>> what i'm stuck on is what figures i should use for the (rgb)  
>> brightness in the rad file description of the "light" material.
> 
> 
> I don't have a ready example to offer, but the basic idea is to apply  
> the HDR capture as a pattern to your light source, indexing the image  a 
> perspective projection:
> 
> void colorpict spot_dist
> 7 red green blue capture.hdr .
>         (-Dx/Dz)/A1+.5  (Dy/Dz)/A1+.5
> 0
> 1 0.404026
> 
> spot_dist light spot_output
> 0
> 0
> 3 3881 3881 3881
> 
> The value given in the colorpict's first argument (A1) is the tangent  
> of the subtended horizontal angle.  The image (capture.hdr) is  assumed 
> to be square.
> 
> To get the right output value for your lamp, you can create as scene  to 
> match the lux measurement you have and render it in rvu with the - i 
> option, having it report on the illuminance for a surface at the  same 
> distance with the 'trace' command.  Then, apply a correction  equal to 
> the ratio between this value and the measured one to your  light color 
> (3881 in the example above).
> 
>> i need the light output of these sources to be physically accurate,  
>> because i want to compare them to models using ies-data described  
>> distributions.
>> i would like to be able to colour correct these sources (i believe  
>> the ies2rad will do this automatically) given the colour  temperature 
>> of the bulb.
> 
> 
> Rendering with an RGB color isn't very accurate and won't look right  
> unless you apply a more sophisticated spectral technique, such as the  
> one described in the paper:
> 
>     http://www.anyhere.com/gward/papers/egwr02/
> 
>> secondly i want to colour my lights, as though they had colour  
>> filters in front of the lense, and i dont really understand the  
>> colour space that radiance uses. can anyone point me towards any  
>> resources on this?
>> i want to model the colours of commercially available filters (such  
>> as this one:  http://www.leefilters.com/LPFD.asp?PageID=248  ) but  i 
>> cant find any RGB transmission data for them. is it possible to  
>> convert the XYZ values given on the data sheet to RGB?
> 
> 
> The following command will take XYZ values on its input (triplets)  and 
> produce Radiance RGB values on its output:
> 
>     rcalc -f ray/src/cal/xyz_rgb.cal -e '$1=R($1,$2,$3);$2=G($1,$2,$3); 
> $3=B($1,$2,$3);'
> 
> Expect to be disappointed by the results if you don't apply white- 
> balancing afterwards.
> 
> -Greg
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From ramana.koti at gmail.com  Mon Mar 27 19:03:21 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Mon Mar 27 19:03:34 2006
Subject: FW: [Radiance-general] modeling hourly daylight
	illuminance/daylightfactor values for a year
In-Reply-To: <5910A0754536EA4AAD411AE8221C3962018CBCC6@nrccenexb1.nrc.ca>
References: <AcZQu758m2zgadw9S+qJSRk0lP9UAgA4rq6Q>
	<5910A0754536EA4AAD411AE8221C3962018CBCC6@nrccenexb1.nrc.ca>
Message-ID: <cdf76d820603270903j3e088cf9uc6532925cc9f04c9@mail.gmail.com>

Hi,

Thanks for the pointers John and Christoph.

I did manage to install DAYSIM and model an office space. When I ran the
simulation I got the 'uncommented lines in the dc file' error which I looked
up in the tutorial and fixed the PATH and RAYPATH environmental variables. I
am using Windows XP on my notebook (the tutorial points these fixes for
Windows 2000, I tried them nevertheless).

I encountered the same error even then. I was trying to fix it and in the
process uninstalled and installed the program 2 to 3 times. Now the program
doesn't start after installation. I can't get it to start despite some
effort. It would help my thesis a lot if I can make it work.

Need your help.

Thanks again,
Ramana.


On 3/27/06, Reinhart, Christoph <Christoph.Reinhart@nrc-cnrc.gc.ca> wrote:
>
> Hi Ramana,
>
> To further convince you that Daylight Coefficients are 'the way to go',
> you can have a look at the attached paper.
>
> Christoph
> Christoph Reinhart, Ph.D.
> Associate Research Officer              National Research Council Canada
> Institute for Research in Construction
> Adjunct Professor                       McGill University
> School of Architecture
> 1200 Montreal Road M-24, Ottawa         Ontario K1A 0R6, Canada
> tel: (613) 993-9703                     fax: (613) 954 3733
> Lightswitch Wizard (initial design)           www.buildwiz.com
> DAYSIM (expert software)                        www.daysim.com
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of John
> Mardaljevic
> Sent: Sunday, March 26, 2006 4:57 AM
> To: radiance-general@radiance-online.org
> Subject: [Radiance-general] modeling hourly daylight
> illuminance/daylightfactor values for a year
>
> Ramana,
>
> A brute-force approach (i.e. a new simulation for every hour) can be
> done, but it is computationally very inefficient.  A better approach is
> to use daylight coefficients.  Background, theory and implementation are
> described in chapter 6 here:
> http://www.iesd.dmu.ac.uk/~jm/zxcv-thesis/
> [Web pages seem to be down at the moment - try again later/tomorrow]
>
> An end-user DC version called DAYSIM is available from here:
> http://irc.nrc-cnrc.gc.ca/ie/lighting/daylight/daysim_e.html
> DAYSIM is different in detail from the description noted above, but does
> more or less the same thing.
>
> -John
>
> -----------------------------------------------
> Dr. John Mardaljevic
> Senior Research Fellow
> Institute of Energy and Sustainable Development De Montfort University
> The Gateway Leicester
> LE1 9BH, UK
> +44 (0) 116 257 7972
> +44 (0) 116 257 7981 (fax)
>
> jm@dmu.ac.uk
> http://www.iesd.dmu.ac.uk/~jm
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>


--
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060327/c7c9157a/attachment.htm
From gregoryjward at gmail.com  Mon Mar 27 20:02:11 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon Mar 27 20:01:42 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <4428173E.4050909@oriel.ox.ac.uk>
References: <44275907.1060204@oriel.ox.ac.uk>
	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>
	<4428173E.4050909@oriel.ox.ac.uk>
Message-ID: <D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>

Hi Will,

> converting to sharp RGB:
> -i think i can just change some constants in the xyz_rgb.cal file,  
> (values for sharp RGB are given in Sharp.cal) to change the clour  
> space.

You can actually run the same command, inserting -f Sharp.cal after - 
f xyz_rgb.cal (putting it before would do nothing).

> -i assume that all colours (ie of materials as well as sources)  
> have to be converted?

Yes, in fact to get the full benefit of the method, you should start  
with spectral data and premultiply the spectral power and reflectance  
of each surface material if it's available.

> -the rendered picture will then be in th sharp RGB colour space,  
> which ximage does not use, so every pixel in the image then has to  
> be converted to back to the radiance RGB primaries. is this right?  
> if so, is there a utility to apply the transformation to a .pic  
> file or do i need to write a script?

Here is one of the missing bits in the process.  Radiance doesn't  
care what color space it renders in, but the default of downstream  
picture tools is to use the standard primaries defined in color.h if  
none are specified in the picture file.  Therefore, it is best if you  
specify the correct color primaries following your rendering using a  
script like so:

#!/bin/csh -f
# Add Sharp color primaries to Radiance picture header
foreach f ($*)
	getinfo < $f > tf$$
	ed - tf$$ << '_EOF_'
/^PRIMARIES=/d
/^FORMAT=/i
PRIMARIES= .6898 .3206 .0736 .9003 .1166 .0374 .3333 .3333
.
w
q
'_EOF_'
	getinfo - < $f >> tf$$
	mv tf$$ $f
end

You can accomplish the same thing manually using the "vinfo" script  
that comes with Radiance, but the above lets you convert a set of  
pictures more quickly and conveniently.  I would call it addSharp or  
something like that.

Once your Radiance picture has the right primaries installed in its  
header, some but not all of the Radiance tools will know what to do  
with them.  To convert the image back to the standard Radiance color  
space, you can use:

	ra_xyze -r sharp.pic standard.pic

Obviously, this would also work with an XYZE input picture.  The  
converters pcond, ra_bmp, and ra_tiff also understand the PRIMARIES=  
header line, as does Photosphere, which will display the images  
correctly without preconversion.

> white point adjustment:
> -presumably the white point that radiance uses is the same as most  
> monitors (D65 i think) so i need to transform from the white point  
> of the XYZ colour space to that of the sharp RGB (or radiance RGB)  
> colour space, but only because of this change in colour space.

Radiance uses an equal-energy white (x,y)=(1/3,1/3) by default, and  
this is the default for the Sharp color space and XYZ as well, so no  
need to convert the white point for Radiance.

> -can anyone start me off with how to apply the white point  
> transformation? i assume it uses the vonKries.cal file, and that  
> the inputs (initial and final white point cramaticities) are  
> standard values for the colour spaces in question, but how is it  
> used!?

Thankfully, ra_xyze and the other tools do a vonKries-style white  
point conversion for you, so you needn't worry about this bit.

> -the XYZ data (and the xy coordinates) i have are given for both a  
> C source (the CIE standard?) and for a tungsten lamp with colout  
> temp 3200K, so i presume i should use the tungsten readings (as my  
> lamps are tungsten).

Yes, indeed.

> -the sources i am modelling are tungsten, but i want an accurate  
> representation of what the colour will look like, so presumably i  
> need some sort of white point transformatin to correct their slight  
> orangeness, as the eye is quite good at correcting this, i believe.  
> how should i specify this? i know the lamps' colour temperature  
> (about 3200K).

The CIE (x,y) chromaticity for a 3200K black body is  
(0.4234,0.3990).  You can use the formula in blackbody.cal to convert  
color temperature to spectral power, and then the CIE standard  
observers to get to XYZ.

> and finally, how should i apply the colour to my sources?

You can premultiply the illuminant and reflectance values (using  
Sharp RGB) and put neutral light sources for your dominant source  
(tungsten 3200K).  This is spelled out towards the end of section 2  
in the EGWR paper.

> -i have XYZ tristimulus and xy cromaticity coordinate data for the  
> filters i want to use, but i'm not sure of the best way to apply it.
> (data comes from eg.  http://www.leefilters.com/LPFD.asp?PageID=248  )

Convert to Sharp RGB and multiply this value if you don't have  
spectral data.  If you have spectral data for the filters, you are  
better off using that.  (I see they have a plot on their website, so  
maybe they'll give you data as well.)

> -i could either the calculated RGB values to scale the output from  
> my source primative (though would i have to take the Y value  
> (reflectance/transmission depending on the context i believe) into  
> account, or is this done automatically in the conversion?). This is  
> what i did for my first test run earlier (converting XYZ values to  
> radiance RGB primaries, and then not using the Y value again), and  
> the result seemed to bright for the filter i was using (i had 2  
> sources in the scene, one coloured, the other not, and they were  
> both of similar brigtness).

Luminance should pass through the conversion with minimal changes,  
but this is only really guaranteed if you use properly normalized  
spectra rather than RGB multiplication.

> -or i could use the RGB values to define the transmission of a thin  
> piece of glass, and place this in front of the source (as a real  
> filter is).

The net result would be (nearly) the same, but the glass would be  
more expensive to compute.

-Greg

From william.reynolds at oriel.ox.ac.uk  Mon Mar 27 21:35:30 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Mon Mar 27 21:35:27 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>
References: <44275907.1060204@oriel.ox.ac.uk>	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>	<4428173E.4050909@oriel.ox.ac.uk>
	<D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>
Message-ID: <44283E82.1020102@oriel.ox.ac.uk>

greg - forgive me if im being a bit slow with this, but i've a few more 
questions!

so i think i understand the conversion to sharp RGB now. though i was 
under the impression that the sharp RGB colour space used the D65 white 
point, not the equal energy 1/3, 1/3 point (which is D50 i think?). 
guess i was wrong!

where i'm getting stuck is with specifying the sources.

1. using blackbody.cal:
-should i use this to calculate the emitted power for a selection of 
lambda values (presumeably using a separate script to input the lamda 
values)? if so, how do i then go about converting the results into XYZ 
values, so that i can then convert to the sharp rgb colour space? 
(presumably illumcal.csh uses the power vs. lamda data and CIE standard 
observers, but i dont follow how to use it! also, does it produce RGB or 
XYZ values?)
-or should i use it to calculate the cromaticity (x,y) coordinates? if 
so, can i  then simply use rgb.cal (if this is what its equations do!) 
to convert the (x,y) cromaticity results to RGB values, ignoring the Y, 
"brightness", value?
-currently (ie before i apply any colour filters) my sources are simply 
white, i have ignored their colour temperature. when i applied the 
colour filteers i was going to use the XYZ data given for a 3200K 
source, rather than that measured with the C source. i was hoping that 
this would mean i do not have to add the effect of the colour of the 
source as well, is that correct? if not, then how do i model both the 
effect of the lamps colour temperature and the colour filter in my scene 
file, while maintaining the correct physical light output of the 
fixture? do i simply multiply the 3 (corrected intensity) output values 
by the colour temperature values, and then again by the colour filter 
values? and should i just worry about the R:G:B ratio for each of these, 
  or do i need to multiply by the actual, calculated values?
would it be better to use several primitives (ie one for the colour 
temperature, one for the colour filter) to modify the colour of the 
source, rather than doing lots of multiplications before hand?

2.using neutral light sources
-i think i understand the principles of what you said in your paper, but 
i dont really follow how to implement this!
my scene has only one source in it, so this is what i understand i 
should do:
once i have calculated the sharp RGB values of the output of my source i 
should divide every material colour by the source colour (individually 
for r, g, b) and replace the source with a white one. should this white 
source be normalised to a value of 1 1 1, and the intensity of the 
source be taken into account in the premultiplication above, or should 
the intensity of the source left out of these premultiplications?
how do i then regain the colour information after the rendering? is it 
as simple as postmultiplying every pixel in the pixel by the inverse of 
the appropriate r, g or b value used in the pre-multiplication?

thanks again, and sorry for the barrage of questions!
will




Gregory J. Ward wrote:
> Hi Will,
> 
>> converting to sharp RGB:
>> -i think i can just change some constants in the xyz_rgb.cal file,  
>> (values for sharp RGB are given in Sharp.cal) to change the clour  space.
> 
> 
> You can actually run the same command, inserting -f Sharp.cal after - f 
> xyz_rgb.cal (putting it before would do nothing).
> 
>> -i assume that all colours (ie of materials as well as sources)  have 
>> to be converted?
> 
> 
> Yes, in fact to get the full benefit of the method, you should start  
> with spectral data and premultiply the spectral power and reflectance  
> of each surface material if it's available.
> 
>> -the rendered picture will then be in th sharp RGB colour space,  
>> which ximage does not use, so every pixel in the image then has to  be 
>> converted to back to the radiance RGB primaries. is this right?  if 
>> so, is there a utility to apply the transformation to a .pic  file or 
>> do i need to write a script?
> 
> 
> Here is one of the missing bits in the process.  Radiance doesn't  care 
> what color space it renders in, but the default of downstream  picture 
> tools is to use the standard primaries defined in color.h if  none are 
> specified in the picture file.  Therefore, it is best if you  specify 
> the correct color primaries following your rendering using a  script 
> like so:
> 
> #!/bin/csh -f
> # Add Sharp color primaries to Radiance picture header
> foreach f ($*)
>     getinfo < $f > tf$$
>     ed - tf$$ << '_EOF_'
> /^PRIMARIES=/d
> /^FORMAT=/i
> PRIMARIES= .6898 .3206 .0736 .9003 .1166 .0374 .3333 .3333
> .
> w
> q
> '_EOF_'
>     getinfo - < $f >> tf$$
>     mv tf$$ $f
> end
> 
> You can accomplish the same thing manually using the "vinfo" script  
> that comes with Radiance, but the above lets you convert a set of  
> pictures more quickly and conveniently.  I would call it addSharp or  
> something like that.
> 
> Once your Radiance picture has the right primaries installed in its  
> header, some but not all of the Radiance tools will know what to do  
> with them.  To convert the image back to the standard Radiance color  
> space, you can use:
> 
>     ra_xyze -r sharp.pic standard.pic
> 
> Obviously, this would also work with an XYZE input picture.  The  
> converters pcond, ra_bmp, and ra_tiff also understand the PRIMARIES=  
> header line, as does Photosphere, which will display the images  
> correctly without preconversion.
> 
>> white point adjustment:
>> -presumably the white point that radiance uses is the same as most  
>> monitors (D65 i think) so i need to transform from the white point  of 
>> the XYZ colour space to that of the sharp RGB (or radiance RGB)  
>> colour space, but only because of this change in colour space.
> 
> 
> Radiance uses an equal-energy white (x,y)=(1/3,1/3) by default, and  
> this is the default for the Sharp color space and XYZ as well, so no  
> need to convert the white point for Radiance.
> 
>> -can anyone start me off with how to apply the white point  
>> transformation? i assume it uses the vonKries.cal file, and that  the 
>> inputs (initial and final white point cramaticities) are  standard 
>> values for the colour spaces in question, but how is it  used!?
> 
> 
> Thankfully, ra_xyze and the other tools do a vonKries-style white  point 
> conversion for you, so you needn't worry about this bit.
> 
>> -the XYZ data (and the xy coordinates) i have are given for both a  C 
>> source (the CIE standard?) and for a tungsten lamp with colout  temp 
>> 3200K, so i presume i should use the tungsten readings (as my  lamps 
>> are tungsten).
> 
> 
> Yes, indeed.
> 
>> -the sources i am modelling are tungsten, but i want an accurate  
>> representation of what the colour will look like, so presumably i  
>> need some sort of white point transformatin to correct their slight  
>> orangeness, as the eye is quite good at correcting this, i believe.  
>> how should i specify this? i know the lamps' colour temperature  
>> (about 3200K).
> 
> 
> The CIE (x,y) chromaticity for a 3200K black body is  (0.4234,0.3990).  
> You can use the formula in blackbody.cal to convert  color temperature 
> to spectral power, and then the CIE standard  observers to get to XYZ.
> 
>> and finally, how should i apply the colour to my sources?
> 
> 
> You can premultiply the illuminant and reflectance values (using  Sharp 
> RGB) and put neutral light sources for your dominant source  (tungsten 
> 3200K).  This is spelled out towards the end of section 2  in the EGWR 
> paper.
> 
>> -i have XYZ tristimulus and xy cromaticity coordinate data for the  
>> filters i want to use, but i'm not sure of the best way to apply it.
>> (data comes from eg.  http://www.leefilters.com/LPFD.asp?PageID=248  )
> 
> 
> Convert to Sharp RGB and multiply this value if you don't have  spectral 
> data.  If you have spectral data for the filters, you are  better off 
> using that.  (I see they have a plot on their website, so  maybe they'll 
> give you data as well.)
> 
>> -i could either the calculated RGB values to scale the output from  my 
>> source primative (though would i have to take the Y value  
>> (reflectance/transmission depending on the context i believe) into  
>> account, or is this done automatically in the conversion?). This is  
>> what i did for my first test run earlier (converting XYZ values to  
>> radiance RGB primaries, and then not using the Y value again), and  
>> the result seemed to bright for the filter i was using (i had 2  
>> sources in the scene, one coloured, the other not, and they were  both 
>> of similar brigtness).
> 
> 
> Luminance should pass through the conversion with minimal changes,  but 
> this is only really guaranteed if you use properly normalized  spectra 
> rather than RGB multiplication.
> 
>> -or i could use the RGB values to define the transmission of a thin  
>> piece of glass, and place this in front of the source (as a real  
>> filter is).
> 
> 
> The net result would be (nearly) the same, but the glass would be  more 
> expensive to compute.
> 
> -Greg
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From gregoryjward at gmail.com  Mon Mar 27 23:02:10 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon Mar 27 23:01:42 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <44283E82.1020102@oriel.ox.ac.uk>
References: <44275907.1060204@oriel.ox.ac.uk>	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>	<4428173E.4050909@oriel.ox.ac.uk>
	<D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>
	<44283E82.1020102@oriel.ox.ac.uk>
Message-ID: <BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>

Hi Will,

> 1. using blackbody.cal:
> -should i use this to calculate the emitted power for a selection  
> of lambda values (presumeably using a separate script to input the  
> lamda values)? if so, how do i then go about converting the results  
> into XYZ values, so that i can then convert to the sharp rgb colour  
> space? (presumably illumcal.csh uses the power vs. lamda data and  
> CIE standard observers, but i dont follow how to use it! also, does  
> it produce RGB or XYZ values?)

I gave you the result for a 3200K black body.  To compute the same  
for other temperatures, illumcal.csh should work.  I get weird  
results for the correlated color temperature, and I think there is  
something wrong with that part of the calculation, but the CIE (x,y)  
values seem OK.  If I run:

( echo '# Black Body at 3200K' ; cnt 100 | rcalc -e 'lambda=(780-350)/ 
99*$1+350' -f blackbody.cal
-e temp:3200 -e '$1=lambda;$2=u(lambda,temp)' ) > bb3200.dat
csh -f illumcal.csh bb3200.dat

I get nearly the same results as before.

> -or should i use it to calculate the cromaticity (x,y) coordinates?  
> if so, can i  then simply use rgb.cal (if this is what its  
> equations do!) to convert the (x,y) cromaticity results to RGB  
> values, ignoring the Y, "brightness", value?

CIE (x,y) chromaticity coordinates can be converted to CIE XYZ if you  
have a Y value using:

X = x/y*Y;
Z = (1-x-y)/y*Y;

Similarly, you can get CIE (x,y) from XYZ using:

x = X/(X+Y+Z);
y = Y/(X+Y+Z);

> -currently (ie before i apply any colour filters) my sources are  
> simply white, i have ignored their colour temperature. when i  
> applied the colour filteers i was going to use the XYZ data given  
> for a 3200K source, rather than that measured with the C source. i  
> was hoping that this would mean i do not have to add the effect of  
> the colour of the source as well, is that correct?

Yes, that is correct.  It also means that they should have done you  
the favor of premultiplying the source and filter spectra, so you  
don't have to.

> 2.using neutral light sources
> -i think i understand the principles of what you said in your  
> paper, but i dont really follow how to implement this!
> my scene has only one source in it, so this is what i understand i  
> should do:
> once i have calculated the sharp RGB values of the output of my  
> source i should divide every material colour by the source colour  
> (individually for r, g, b) and replace the source with a white one.  
> should this white source be normalised to a value of 1 1 1, and the  
> intensity of the source be taken into account in the  
> premultiplication above, or should the intensity of the source left  
> out of these premultiplications?

You should premultiply, not divide, your source and scene colors, and  
preferably do this over each wavelength of the visible spectrum.  If  
you don't have spectral data, then yes, you will just be multiplying  
the (Sharp) RGB values.  The intensity of the source should not be  
taken into the scene colors, so that you don't have reflectances  
greater than 1, which would be a disaster.

> how do i then regain the colour information after the rendering? is  
> it as simple as postmultiplying every pixel in the pixel by the  
> inverse of the appropriate r, g or b value used in the pre- 
> multiplication?

You don't need to "regain" the color information, as you have  
effectively accomplished a vonKries white balance during rendering.

-Greg

From william.reynolds at oriel.ox.ac.uk  Tue Mar 28 02:16:37 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Tue Mar 28 02:23:41 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>
References: <44275907.1060204@oriel.ox.ac.uk>	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>	<4428173E.4050909@oriel.ox.ac.uk>	<D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>	<44283E82.1020102@oriel.ox.ac.uk>
	<BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>
Message-ID: <44288065.5030108@oriel.ox.ac.uk>

greg
i think i'm starting to follow you now!
just a couple more things...

-converting radiance RGB to sharp RGB (all my material reflectances are 
in RGB, eg from the materials file in lib/) and i'm not sure how to 
convert them to sharp rgb. i thought i could use xyz_rgb.cal, by 
converting RGB to XYZ, then the XYZ values to sharp RGB. but i thought 
i'd check my idea by converting RGB to XYZ, and then converting it back 
again, thinking it should be the same, and its not.

-you say that a white popint adjustment is effectively made during the 
rendering. is this just the shift needed to account for the different 
viewing conditions (ie being in the room, and looking at the monitor)?

-premultiplying surface reflectances. the RGB values i am geting for the 
XYZ data i have for the filters are much bigger than 1, so 
premultiplying will give reflectances much bigger than 1.
for example:

the RGB values for a certain red filter = 55, -3.6, -0.7 (from 
X,Y,Z=21.3, 9.1, 0) [i thought the range for these values was (o:inf)?]

the RGB reflectance for a white painted wall = 0.9, 0.8, 0.8

so the compensated RGB reflectances would be 49.5, -10.08, -0.56 (ie. 
55*0.9 etc) But these should all be between 0 and 1 shouldn't they?

should i simply normalise the filter's RGB values to sum to 1, or am i 
missing something more important here?

thanks again
will





Gregory J. Ward wrote:
> Hi Will,
> 
>> 1. using blackbody.cal:
>> -should i use this to calculate the emitted power for a selection  of 
>> lambda values (presumeably using a separate script to input the  lamda 
>> values)? if so, how do i then go about converting the results  into 
>> XYZ values, so that i can then convert to the sharp rgb colour  space? 
>> (presumably illumcal.csh uses the power vs. lamda data and  CIE 
>> standard observers, but i dont follow how to use it! also, does  it 
>> produce RGB or XYZ values?)
> 
> 
> I gave you the result for a 3200K black body.  To compute the same  for 
> other temperatures, illumcal.csh should work.  I get weird  results for 
> the correlated color temperature, and I think there is  something wrong 
> with that part of the calculation, but the CIE (x,y)  values seem OK.  
> If I run:
> 
> ( echo '# Black Body at 3200K' ; cnt 100 | rcalc -e 'lambda=(780-350)/ 
> 99*$1+350' -f blackbody.cal
> -e temp:3200 -e '$1=lambda;$2=u(lambda,temp)' ) > bb3200.dat
> csh -f illumcal.csh bb3200.dat
> 
> I get nearly the same results as before.
> 
>> -or should i use it to calculate the cromaticity (x,y) coordinates?  
>> if so, can i  then simply use rgb.cal (if this is what its  equations 
>> do!) to convert the (x,y) cromaticity results to RGB  values, ignoring 
>> the Y, "brightness", value?
> 
> 
> CIE (x,y) chromaticity coordinates can be converted to CIE XYZ if you  
> have a Y value using:
> 
> X = x/y*Y;
> Z = (1-x-y)/y*Y;
> 
> Similarly, you can get CIE (x,y) from XYZ using:
> 
> x = X/(X+Y+Z);
> y = Y/(X+Y+Z);
> 
>> -currently (ie before i apply any colour filters) my sources are  
>> simply white, i have ignored their colour temperature. when i  applied 
>> the colour filteers i was going to use the XYZ data given  for a 3200K 
>> source, rather than that measured with the C source. i  was hoping 
>> that this would mean i do not have to add the effect of  the colour of 
>> the source as well, is that correct?
> 
> 
> Yes, that is correct.  It also means that they should have done you  the 
> favor of premultiplying the source and filter spectra, so you  don't 
> have to.
> 
>> 2.using neutral light sources
>> -i think i understand the principles of what you said in your  paper, 
>> but i dont really follow how to implement this!
>> my scene has only one source in it, so this is what i understand i  
>> should do:
>> once i have calculated the sharp RGB values of the output of my  
>> source i should divide every material colour by the source colour  
>> (individually for r, g, b) and replace the source with a white one.  
>> should this white source be normalised to a value of 1 1 1, and the  
>> intensity of the source be taken into account in the  
>> premultiplication above, or should the intensity of the source left  
>> out of these premultiplications?
> 
> 
> You should premultiply, not divide, your source and scene colors, and  
> preferably do this over each wavelength of the visible spectrum.  If  
> you don't have spectral data, then yes, you will just be multiplying  
> the (Sharp) RGB values.  The intensity of the source should not be  
> taken into the scene colors, so that you don't have reflectances  
> greater than 1, which would be a disaster.
> 
>> how do i then regain the colour information after the rendering? is  
>> it as simple as postmultiplying every pixel in the pixel by the  
>> inverse of the appropriate r, g or b value used in the pre- 
>> multiplication?
> 
> 
> You don't need to "regain" the color information, as you have  
> effectively accomplished a vonKries white balance during rendering.
> 
> -Greg
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From alira at gsd.harvard.edu  Tue Mar 28 03:03:07 2006
From: alira at gsd.harvard.edu (alira@gsd.harvard.edu)
Date: Tue Mar 28 03:03:29 2006
Subject: [Radiance-general] Pvalue units
In-Reply-To: <44288065.5030108@oriel.ox.ac.uk>
References: <44275907.1060204@oriel.ox.ac.uk>	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>	<4428173E.4050909@oriel.ox.ac.uk>	<D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>	<44283E82.1020102@oriel.ox.ac.uk>
	<BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>
	<44288065.5030108@oriel.ox.ac.uk>
Message-ID: <1512.128.103.173.204.1143507787.squirrel@mail.gsd.harvard.edu>


Hi all,

When using the pvalue command, and using the -b option to obtain the
brightness, what are the resulting units for each pixel if I'm working in
radiance units?

Thanks in advance!
adriana


From william.reynolds at oriel.ox.ac.uk  Tue Mar 28 03:21:05 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Tue Mar 28 03:21:00 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>
References: <44275907.1060204@oriel.ox.ac.uk>	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>	<4428173E.4050909@oriel.ox.ac.uk>	<D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>	<44283E82.1020102@oriel.ox.ac.uk>
	<BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>
Message-ID: <44288F81.6010108@oriel.ox.ac.uk>

Greg
i have been thinking a bit more about this idea of rendering with 
cloured light sources, and i've realised i'm still a bit confused!

where i get lost is why we should get better accuracy by using a white 
source, and modelling the colour we want the source to have into the 
reflection calculation from the surfaces in the scene.

in your paper you say this avoids a colour cast in the rendered image, 
but why is this? presumably it wouldn't be that difficult to apply a 
white-point shift to the rendered image to correct this colour cast?

but as well as this colour cast, your results show quite a dramatic 
difference in accuracy between the naive and premultiplied renderings.
i appreciate that you probably don't have time to go into a detailed 
physics lesson by email, but can you point me towards anywhere i can 
read up on why this is?

i want to render lots of images of the same scene, but to change the 
single light source each time. so far i have written a script which does 
this quite nicely (it turned out simpler than using rtcontrib, because 
of the way i wanted to structure the scene description), but i have only 
used white sources.
i want to be able to use colour filters with my sources, but if i do all 
the premultiplicaton i will have to do it for every different colour 
filter i want to use, which will complicate the autamation of the 
preoccess immensely, so i'm trying to think of simpler ways to do it!
i guess i might have to do without, and just accept a less slightly 
accurate image.

thanks
will






Gregory J. Ward wrote:
> Hi Will,
> 
>> 1. using blackbody.cal:
>> -should i use this to calculate the emitted power for a selection  of 
>> lambda values (presumeably using a separate script to input the  lamda 
>> values)? if so, how do i then go about converting the results  into 
>> XYZ values, so that i can then convert to the sharp rgb colour  space? 
>> (presumably illumcal.csh uses the power vs. lamda data and  CIE 
>> standard observers, but i dont follow how to use it! also, does  it 
>> produce RGB or XYZ values?)
> 
> 
> I gave you the result for a 3200K black body.  To compute the same  for 
> other temperatures, illumcal.csh should work.  I get weird  results for 
> the correlated color temperature, and I think there is  something wrong 
> with that part of the calculation, but the CIE (x,y)  values seem OK.  
> If I run:
> 
> ( echo '# Black Body at 3200K' ; cnt 100 | rcalc -e 'lambda=(780-350)/ 
> 99*$1+350' -f blackbody.cal
> -e temp:3200 -e '$1=lambda;$2=u(lambda,temp)' ) > bb3200.dat
> csh -f illumcal.csh bb3200.dat
> 
> I get nearly the same results as before.
> 
>> -or should i use it to calculate the cromaticity (x,y) coordinates?  
>> if so, can i  then simply use rgb.cal (if this is what its  equations 
>> do!) to convert the (x,y) cromaticity results to RGB  values, ignoring 
>> the Y, "brightness", value?
> 
> 
> CIE (x,y) chromaticity coordinates can be converted to CIE XYZ if you  
> have a Y value using:
> 
> X = x/y*Y;
> Z = (1-x-y)/y*Y;
> 
> Similarly, you can get CIE (x,y) from XYZ using:
> 
> x = X/(X+Y+Z);
> y = Y/(X+Y+Z);
> 
>> -currently (ie before i apply any colour filters) my sources are  
>> simply white, i have ignored their colour temperature. when i  applied 
>> the colour filteers i was going to use the XYZ data given  for a 3200K 
>> source, rather than that measured with the C source. i  was hoping 
>> that this would mean i do not have to add the effect of  the colour of 
>> the source as well, is that correct?
> 
> 
> Yes, that is correct.  It also means that they should have done you  the 
> favor of premultiplying the source and filter spectra, so you  don't 
> have to.
> 
>> 2.using neutral light sources
>> -i think i understand the principles of what you said in your  paper, 
>> but i dont really follow how to implement this!
>> my scene has only one source in it, so this is what i understand i  
>> should do:
>> once i have calculated the sharp RGB values of the output of my  
>> source i should divide every material colour by the source colour  
>> (individually for r, g, b) and replace the source with a white one.  
>> should this white source be normalised to a value of 1 1 1, and the  
>> intensity of the source be taken into account in the  
>> premultiplication above, or should the intensity of the source left  
>> out of these premultiplications?
> 
> 
> You should premultiply, not divide, your source and scene colors, and  
> preferably do this over each wavelength of the visible spectrum.  If  
> you don't have spectral data, then yes, you will just be multiplying  
> the (Sharp) RGB values.  The intensity of the source should not be  
> taken into the scene colors, so that you don't have reflectances  
> greater than 1, which would be a disaster.
> 
>> how do i then regain the colour information after the rendering? is  
>> it as simple as postmultiplying every pixel in the pixel by the  
>> inverse of the appropriate r, g or b value used in the pre- 
>> multiplication?
> 
> 
> You don't need to "regain" the color information, as you have  
> effectively accomplished a vonKries white balance during rendering.
> 
> -Greg
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 

From gregoryjward at gmail.com  Tue Mar 28 03:35:12 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue Mar 28 03:34:44 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <44288065.5030108@oriel.ox.ac.uk>
References: <44275907.1060204@oriel.ox.ac.uk>	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>	<4428173E.4050909@oriel.ox.ac.uk>	<D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>	<44283E82.1020102@oriel.ox.ac.uk>
	<BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>
	<44288065.5030108@oriel.ox.ac.uk>
Message-ID: <2CE14865-D4C4-4D0F-9AD8-D08DFF3570C2@gmail.com>

Hi Will,

> -converting radiance RGB to sharp RGB (all my material reflectances  
> are in RGB, eg from the materials file in lib/) and i'm not sure  
> how to convert them to sharp rgb. i thought i could use  
> xyz_rgb.cal, by converting RGB to XYZ, then the XYZ values to sharp  
> RGB. but i thought i'd check my idea by converting RGB to XYZ, and  
> then converting it back again, thinking it should be the same, and  
> its not.

This is the correct method.  Converting to and from works for me:

% icalc xyz_rgb.cal
X(.351,.918,.015)
$1=0.480220278
Y(.351,.918,.015)
$2=0.709181111
Z(.351,.918,.015)
$3=0.134033796
R($1,$2,$3)
$4=0.351
G($1,$2,$3)
$5=0.918
B($1,$2,$3)
$6=0.015

You could have a problem if you go from XYZ through RGB to XYZ again,  
since RGB gets truncated to zero, where negative values do in fact  
exist for some visible XYZ colors.

> -you say that a white popint adjustment is effectively made during  
> the rendering. is this just the shift needed to account for the  
> different viewing conditions (ie being in the room, and looking at  
> the monitor)?

No, it really assumes that you are viewing under the same tungsten  
illuminant.  To complete the white point conversion to some other  
adaptation, you need to apply the final matrix equation in Section 2  
of the paper.  This can be done using ra_xyze and the -p option if  
you happen to know your display's primaries, e.g.:

	% ra_xyze -r -p .603 .352 .289 .590 .146 .066 .319 .348 sharp.pic  
display.pic

This does not account for the surround condition, but I don't know  
what to do for that, either.

> -premultiplying surface reflectances. the RGB values i am geting  
> for the XYZ data i have for the filters are much bigger than 1, so  
> premultiplying will give reflectances much bigger than 1.
> for example:
>
> the RGB values for a certain red filter = 55, -3.6, -0.7 (from  
> X,Y,Z=21.3, 9.1, 0) [i thought the range for these values was  
> (o:inf)?]

Nope, they should all be between 0 and 1.  Since they are not, you  
should assume these are percentages and divide them by 100.  This  
still yields a negative value for green, but I get a Sharp RGB of  
(0.2614, -0.0143, 0.0035).  I'm not sure how you got your values --  
are they not Sharp RGB?  The xyz_rgb.cal file should truncate the  
green value to zero.  Your XYZ value seems to be right on the edge of  
the visible boundary.  A Z value of 0 is highly unusual.

> the RGB reflectance for a white painted wall = 0.9, 0.8, 0.8
>
> so the compensated RGB reflectances would be 49.5, -10.08, -0.56  
> (ie. 55*0.9 etc) But these should all be between 0 and 1 shouldn't  
> they?

Yes, or nearly.  Actually, you can have values slightly greater than  
1 in some cases, but negative values won't even be storable in a  
Radiance picture unless you use some fancy means to render with  
rtrace and convert from RGB to XYZ prior to storing the picture.

> should i simply normalise the filter's RGB values to sum to 1, or  
> am i missing something more important here?

No, don't do that.

-Greg

From gregoryjward at gmail.com  Tue Mar 28 03:46:24 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue Mar 28 03:45:52 2006
Subject: [Radiance-general] specifying sources
In-Reply-To: <44288F81.6010108@oriel.ox.ac.uk>
References: <44275907.1060204@oriel.ox.ac.uk>	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>	<4428173E.4050909@oriel.ox.ac.uk>	<D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>	<44283E82.1020102@oriel.ox.ac.uk>
	<BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>
	<44288F81.6010108@oriel.ox.ac.uk>
Message-ID: <A6A99FF5-6B73-4D67-A1CE-4305A5309D67@gmail.com>

> where i get lost is why we should get better accuracy by using a  
> white source, and modelling the colour we want the source to have  
> into the reflection calculation from the surfaces in the scene.

It only gives you better accuracy if you premultiply the spectra.  If  
you don't have spectral data, then it's the same as using the Sharp  
RGB color space, which will at least be an improvement over standard  
RGB (or XYZ, which is the worst).

> in your paper you say this avoids a colour cast in the rendered  
> image, but why is this? presumably it wouldn't be that difficult to  
> apply a white-point shift to the rendered image to correct this  
> colour cast?

That's what a white point correction does, but it does it in such a  
way that the colors still have close to the correct appearance.  A  
naive normalization to some average gray does the wrong thing, and in  
some cases it is very wrong, indeed.

> but as well as this colour cast, your results show quite a dramatic  
> difference in accuracy between the naive and premultiplied renderings.
> i appreciate that you probably don't have time to go into a  
> detailed physics lesson by email, but can you point me towards  
> anywhere i can read up on why this is?

Simply put, spectral peaks and troughs in the source and reflection  
spectra require more than the three dimensions of a standard color  
space to resolve.  You only need three primaries to present (nearly)  
any color to the eye, since the eye only has three spectral  
sensitivity curves that it uses for color vision.  (The rods  
represent a fourth sensitivity curve, but this does not seem to take  
part in distinguishing colors.)  However, you theoretically need an  
infinite number of spectral samples to exactly simulate light  
interreflection.  You also need an infinite number of rays, and we  
get by with fewer.  As a practical matter, most rendering systems use  
only three colors, and the paper we've been discussing shows how to  
best leverage this machinery.

For a detailed description of color in computer graphics, Andrew  
Glassner's "Principle of Digital Image Synthesis" is an excellent  
reference.  Roy Hall has a classic text on the subject as well, but I  
believe it's out of print.

> i want to render lots of images of the same scene, but to change  
> the single light source each time. so far i have written a script  
> which does this quite nicely (it turned out simpler than using  
> rtcontrib, because of the way i wanted to structure the scene  
> description), but i have only used white sources.
> i want to be able to use colour filters with my sources, but if i  
> do all the premultiplicaton i will have to do it for every  
> different colour filter i want to use, which will complicate the  
> autamation of the preoccess immensely, so i'm trying to think of  
> simpler ways to do it!
> i guess i might have to do without, and just accept a less slightly  
> accurate image.

As I said, it makes no difference to the result if you don't have  
spectral data whether you incorporate your source color into your  
surfaces or not.  The result will be the same, so you might as well  
script it if you don't have spectra.

-Greg

From gregoryjward at gmail.com  Tue Mar 28 03:48:54 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue Mar 28 03:48:23 2006
Subject: [Radiance-general] Pvalue units
In-Reply-To: <1512.128.103.173.204.1143507787.squirrel@mail.gsd.harvard.edu>
References: <44275907.1060204@oriel.ox.ac.uk>	<1F9D2A0E-480A-419C-B8DD-C69445718C6E@gmail.com>	<4428173E.4050909@oriel.ox.ac.uk>	<D10F8691-3A5F-4142-A92D-F3B454AF5CEC@gmail.com>	<44283E82.1020102@oriel.ox.ac.uk>
	<BB7EBF9F-50CA-417D-9286-8C90CF482682@gmail.com>
	<44288065.5030108@oriel.ox.ac.uk>
	<1512.128.103.173.204.1143507787.squirrel@mail.gsd.harvard.edu>
Message-ID: <64B6BCE0-E21E-4111-A60B-CD45BC11FF07@gmail.com>

Hi Adriana,

If you use the -o option of pvalue, then the output of the -b option  
is watts/steradian/meter^2 and should be multiplied by the standard  
conversion factor of 179 lumens/watt to get to candelas/meter^2 (or  
nits).  A candela is a lumen/steradian.

-Greg

> From: alira@gsd.harvard.edu
> Date: March 27, 2006 5:03:07 PM PST
>
> Hi all,
>
> When using the pvalue command, and using the -b option to obtain the
> brightness, what are the resulting units for each pixel if I'm  
> working in
> radiance units?
>
> Thanks in advance!
> adriana

From christian_fusenig at gmx.de  Wed Mar 29 12:02:35 2006
From: christian_fusenig at gmx.de (Christian Fusenig)
Date: Wed Mar 29 12:02:49 2006
Subject: [Radiance-general] which basis for xy to RGB conversion in lamp.tab?
Message-ID: <442A5B3B.1020307@gmx.de>

Hi there,

again a color question, by the way @ Will and Greg, your discussion is 
really helping me, because i am at the same topic of integrating correct 
materials and lamps in a scene.
If i use ies2rad with the '-t' option referring to a specified lamp, how 
are the x,y values in 'lamp.tab' transfered into RGB? Is the basis 
'color.h'?  If i change the white point of color.h into D65 nothing 
changes within the RGB values.
On the other hand, if i calculate the RGB (D65)  values on my own, 
assuming Y=1, i get not the right illuminance value after applying 
rtrace and rcalc with the correct factors. e.g. $ echo "0 0 0 0 0 1" 
|rtrace -I -h lux_test.oct | rcalc -e 
'$1=179*(.22200431*$1+.70665477*$2+.07134092*$3)'
Thanks so far,

Christian

-- 
Christian Fusenig
Diplomand, Medientechnik
Undergraduate, Media Technology
Hamburg University Of Applied Sciences
http://www.mt.haw-hamburg.de

address: Beim Schlump 27/07
              20144 Hamburg

email:    christian_fusenig@gmx.de

mobile:  ++49 179 5975845







From gregoryjward at gmail.com  Wed Mar 29 20:22:10 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed Mar 29 20:28:44 2006
Subject: [Radiance-general] which basis for xy to RGB conversion in
	lamp.tab?
In-Reply-To: <442A5B3B.1020307@gmx.de>
References: <442A5B3B.1020307@gmx.de>
Message-ID: <319D2398-919E-4C79-8A02-A1D8257A179B@gmail.com>

Hi Christian,

> If i use ies2rad with the '-t' option referring to a specified  
> lamp, how are the x,y values in 'lamp.tab' transfered into RGB? Is  
> the basis 'color.h'?  If i change the white point of color.h into  
> D65 nothing changes within the RGB values.

The ies2rad program should convert the xyY value in the lamp.tab file  
to a Radiance RGB multiplier for the source.  The Y value in lamp.tab  
is the lumen depreciation factor.

Changing the white point in the _second_ set of primaries in color.h  
(not the first set, which is only used if NTSC is defined), should  
definitely affect the output of ies2rad, but you would have to rerun  
"rmake install" in the src/common directory, then remove ies2rad and  
run "rmake install" in the src/cv directory (in that order).

> On the other hand, if i calculate the RGB (D65)  values on my own,  
> assuming Y=1, i get not the right illuminance value after applying  
> rtrace and rcalc with the correct factors. e.g. $ echo "0 0 0 0 0  
> 1" |rtrace -I -h lux_test.oct | rcalc -e '$1=179*(.22200431*$1+. 
> 70665477*$2+.07134092*$3)'

It should work.  You would have to give more details about how your  
value was unexpected, or your scene files.

-Greg

