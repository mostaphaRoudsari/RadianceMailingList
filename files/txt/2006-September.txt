From cristiano at lightonweb.com  Fri Sep  1 01:13:06 2006
From: cristiano at lightonweb.com (Dr. Cristiano Guarnaschelli)
Date: Fri Sep  1 01:13:40 2006
Subject: [Radiance-general] Carsten Bauer marble cal file
Message-ID: <MIEGJHPGNNLIEIOJNMMAKEKECEAA.cristiano@lightonweb.com>


Hello all
Time ago I've downloaded from RadZilla Project web pages marvellous Radiance
Materials wrote by Cartsen Bauer
(patterns and cal files).
Only now I've found the time to check and test them, and even if they are
all incredibles,
I think that marbles are...almost real.
I'm trying to study them to find the way to manage them to have different
colors etc,
and I post this 2 questions hope that someone could help me to understand:

1- changing colors in marbles.
    I've understand that the main color of the "dark brown marble" (For
example) is managed  by

    void colorfunc marble2up
    4 red grn blu c-stone3tilxy.cal
    0
    42  0.5  0.16 0.05 0.03
    0.6   0.19 0.08 0.06
    0.65   0.15 0.085 0.045
    0.9   0.155 0.043 0.025
          0.165 0.09  0.05
    0.2 0.25 0.15
    0.2   4.2 7.3 11.6
          1.0 1.0 1.0
    0.11 0.46 4
    2 1.8 0.13
    -0.1 0.12 1
    90.0 0.5 0.5 0.25

    where the 42 parameters are the 42 ones of the c-stone3tilxy.cal file:

       arg(1)  arg(2)  arg(3)  arg(4)     color at  0<  x <arg(1)
      arg(5)  arg(6)  arg(7)  arg(8)     color at  arg(1)< x <arg(5)
      arg(9)  arg(10) arg(11) arg(12)    color at  arg(5)< x <arg(9)
      arg(13) arg(14) arg(15) arg(16)    color at  arg(9)< x <arg(13)
          arg(17) arg(18) arg(19)    color at  arg(13)<x <1
      arg(20)        turbulence
      arg(21)        turb scale
      arg(22)        unsharp borders

      arg(23) arg(24) arg(25) arg(26)  crack color at arg(23)
      arg(27) arg(28) arg(29)  crack color at border

      arg(30)  crack left border  {( < arg(23) )}
      arg(31)  crack right border {( > arg(23) )}
      arg(32)  crack  period

      arg(33)  crack  noise-func selector (1- perl. 2- fract. 3- rand.
4-perl*rand)
      arg(34)  crack  turb  intensity
      arg(35)  crack scale

      arg(36)  crack occurrence threshhold (-1 < arg(36) < 1)
      arg(37)    " scale
      arg(38) -

      arg(39)  tiling rot. angle (degrees)
      arg(40)  tiling xstep
      arg(41)  tiling ystep
      arg(42)  tiling xoffset

     First 19 parmeters are related to the marble color.
     My question is: is there a way to "calculate/Define" those 19 paremters
for the desired color?
     they are not "triple values" (r g b), they are 4 values for each "row",
and what means "color at  arg(1)< x <arg(5)"


    2- marble tiles.
      Marble tiles are defined with args 39-40-41-42 or also in the marble
mat file?
      Is it possible to use the marble pattern without tiles?

      Any help is welcome

        Cristiano

      Here the dark brown marble mat file and calc files.

 ################################################################
    #################  dark brown marble, white cracks #############
################################################################

#
#  x y plane, tiles x 0.5 y 0.5 (args 40 & 41)
#

void colorfunc marble2up
4 red grn blu c-stone3tilxy.cal
0
42  0.5  0.16 0.05 0.03
    0.6   0.19 0.08 0.06
    0.65   0.15 0.085 0.045
    0.9   0.155 0.043 0.025
          0.165 0.09  0.05
    0.2 0.25 0.15
    0.2   4.2 7.3 11.6
          1.0 1.0 1.0
    0.11 0.46 4
    2 1.8 0.13
    -0.1 0.12 1
    90.0 0.5 0.5 0.25


void plastic marble2base
0
0
5  0.17 0.065 0.04 0 0.03

void colorfunc grouts2
4 red grn blu c-1c.cal
0
3 0.51 0.505 0.5


void texfunc fugen
6 xpert ypert zpert t-brickptxz.cal -rx -90
0
14 0.5 0.5 0.25 1
   0.01 0.01 1
   0.28 0.15 0.32
   1 0 1 1


fugen mixfunc marble2tex
6 marble2up grouts2 fore m-brickptxz.cal -rx -90
0
14  0.5 0.5  0.25
    1 0.006 0.006 1
    0.002 0.002 1
    1 0.0 20 20

marble2tex plastic marble2
1 marble2base
0
5  1  1  1  0.3  0.03

 ################################################################


################################################################
    #################  c-stone3tilxy.cal #############
################################################################

{ (c)-20.08.2002-C.Bauer(Berlin)

  c-stone3tilxy.cal

  5 color fractal noise (softened) crack x tiling xy

  output: red, grn, blu (names to list as colorfunc string args)


  42 parameters:

  arg(1)  arg(2)  arg(3)  arg(4)     color at  0<  x <arg(1)
  arg(5)  arg(6)  arg(7)  arg(8)     color at  arg(1)< x <arg(5)
  arg(9)  arg(10) arg(11) arg(12)    color at  arg(5)< x <arg(9)
  arg(13) arg(14) arg(15) arg(16)    color at  arg(9)< x <arg(13)
      arg(17) arg(18) arg(19)    color at  arg(13)<x <1
  arg(20)        turbulence
  arg(21)        turb scale
  arg(22)        unsharp borders

  arg(23) arg(24) arg(25) arg(26)  crack color at arg(23)
      arg(27) arg(28) arg(29)  crack color at border

  arg(30)  crack left border  {( < arg(23) )}
  arg(31)  crack right border {( > arg(23) )}
  arg(32)  crack  period

  arg(33)  crack  noise-func selector (1- perl. 2- fract. 3- rand.
4-perl*rand)
  arg(34)  crack  turb  intensity
  arg(35)  crack scale

  arg(36)  crack occurrence threshhold (-1 < arg(36) < 1)
  arg(37)    " scale
  arg(38) -

  arg(39)  tiling rot. angle (degrees)
  arg(40)  tiling xstep
  arg(41)  tiling ystep
  arg(42)  tiling xoffset

}

shifty = floor(Py/arg(41));
shiftx = floor((Px-shifty*arg(42))/arg(40));

rotang = DEGREE*arg(39)*(shiftx+shifty);

PPx = Px*cos(rotang) + Py*sin(rotang);
PPy = Py*cos(rotang) - Px*sin(rotang);
PPz = Pz;

dist = arg(20)*fnoise3(PPx,PPy,PPz);

xev = (PPx + dist)/arg(21);
yev = (PPy + dist)/arg(21);
zev = (PPz + dist)/arg(21);

selector = if(arg(22), 0.5*(1-fnoise3(xev,
yev,zev))+arg(22)*(0.5-rand((PPx+PPy+PPz)/3)),
                              0.5*(1-fnoise3(xev, yev, zev)));

delfa13 = selector-arg(13);
delfa9  = selector-arg(9);
delfa5  = selector-arg(5);
delfa1  = selector-arg(1);

fnorm = if(delfa13, delfa13/(1-arg(13)), if(delfa9, delfa9/(arg(13)-arg(9)),
       if(delfa5, delfa5/(arg(9)-arg(5)), if(delfa1, delfa1/(arg(5)-arg(1)),
selector/arg(1)))));


basenoise = select(floor(arg(33)), arg(34)*noise3(PPx,PPy,PPz),
arg(34)*fnoise3(PPx,PPy,PPz),

arg(34)*rand((PPx+PPy+PPz)/3),arg(34)*(noise3(PPx,PPy,PPz)*rand((PPx+PPy+PPz
)/3)));

xfilt = (PPx+basenoise)/arg(35);

fildec = mod(floor(xfilt), arg(32));

fdl = frac(xfilt);

filfa = if(fildec, 0, if(fdl-arg(31), 0 , if(fdl-arg(30), if(fdl-arg(23),
1 - (fdl-arg(23))/(arg(31)-arg(23)),
                                                              1-
(arg(23)-fdl)/(arg(23)-arg(30))), 0)));
filfa2 = if(noise3(PPx/arg(37),PPy/arg(37),PPz/arg(37))-arg(36), filfa, 0);

fred = arg(27) + filfa2*(arg(24)-arg(27));
fgrn = arg(28) + filfa2*(arg(25)-arg(28));
fblu = arg(29) + filfa2*(arg(26)-arg(29));


Rl = if(delfa13, arg(14), if(delfa9, arg(10), if(delfa5, arg(6), if(delfa1,
arg(2), arg(17)))));
Gl = if(delfa13, arg(15), if(delfa9, arg(11), if(delfa5, arg(7), if(delfa1,
arg(3), arg(18)))));
Bl = if(delfa13, arg(16), if(delfa9, arg(12), if(delfa5, arg(8), if(delfa1,
arg(4), arg(19)))));

Ru = if(delfa13, arg(17), if(delfa9, arg(14), if(delfa5, arg(10), if(delfa1,
arg(6), arg(2)))));
Gu = if(delfa13, arg(18), if(delfa9, arg(15), if(delfa5, arg(11), if(delfa1,
arg(7), arg(3)))));
Bu = if(delfa13, arg(19), if(delfa9, arg(16), if(delfa5, arg(12), if(delfa1,
arg(8), arg(4)))));


red = (Rl+(Ru-Rl)*fnorm)*fred;
grn = (Gl+(Gu-Gl)*fnorm)*fgrn;
blu = (Bl+(Bu-Bl)*fnorm)*fblu;
################################################################

################################################################
    #################  c-1c.cal #############
################################################################

{ (c)-20.08.2002-C.Bauer(Berlin)

  c-1c.cal

  1 color cal file (workaround for mixing)

  output red, grn, blu

  arg(1) = red color val
  arg(2) = green  "
  arg(3) = blue   "
}

red = arg(1);
grn = arg(2);
blu = arg(3);

################################################################


################################################################
    #################  t-brickptxz.cal #############
################################################################
{ (c)-20.08.2002-C.Bauer(Berlin)

   t-brickptxz.cal

    brick normal-pattern xz-plane, x-offset

  output: xpert, ypert, zpert (texfunc-string args)

  14 parameters

  arg(1)   zstep
  arg(2)   xstep
  arg(3)   xoffset
  arg(4)   -
  arg(5)   grout size z
  arg(6)   grout size x
  arg(7)   -
  arg(8)   grout effect ampl.
  arg(9)   -
  arg(10)  -
  arg(11)  noise-func selector (1 - perlin, 2 - fractal)
  arg(12)  turb. amplitude
  arg(13)  turb. scale x
  arg(14)  turb. scale z
}
PPz = Pz +  arg(12)*select(arg(11),
noise3(Px/arg(13),Py/arg(13),Pz/arg(14)), fnoise3(Px/arg(13), Py/arg(13),
Pz/arg(14)));

PPx = Px +  arg(12)*select(arg(11),
noise3(Px/arg(13),Py/arg(13),Pz/arg(14)), fnoise3(Px/arg(13), Py/arg(13),
Pz/arg(14)));

pr = PPz/arg(1);

evpt = frac(pr)*arg(1);               {eval points}

stp = floor(pr);
evx = arg(2)*frac((PPx-stp*arg(3))/arg(2));
delmfal = evx-arg(3);
delmfau = evx-(arg(3)+arg(6));
delmf6 = if(delmfal, if(delmfau,0,1),0);
delfa5 = evpt-arg(5);
delfa5h = evpt-(arg(5)/2);
delfa6  = evx-arg(6);
delfa6h = evx - (arg(6)/2);
xpert = if(delfa5,if(delfa6,0,if(delfa6h, -arg(8), arg(8))),0);
ypert = 0;
zpert =  if(delfa5, 0 , if(delfa5h, if(delfa6,-arg(8),0), if(delmf6, 0,
arg(8))));

################################################################


################################################################
    #################  t-brickptxz.cal #############
################################################################
{ (c)-20.08.2002-C.Bauer(Berlin)

  m-brickptxz.cal

  brick mix pattern, foreground = brick-material, background = grout
material
  output: fore

  14 parameters

  arg(1)   zstep
  arg(2)   xstep
  arg(3)   xoffset
  arg(4)   -
  arg(5)   grout size z
  arg(6)   grout size x
  arg(7)   -
  arg(8)   z-trans
  arg(9)   x-trans
  arg(10)  -
   arg(11)  noise-func selector (1 - perlin, 2 - fractal)
  arg(12)  turb. amplitude
  arg(13)  turb. scale x
  arg(14)  turb. scale z

}

Ptx = Px-arg(8);
Ptz = Pz-arg(9);

PPz = Ptz +  arg(12)*select(arg(11),
noise3(Ptx/arg(13),Py/arg(13),Ptz/arg(14)), fnoise3(Ptx/arg(13), Py/arg(13),
Ptz/arg(14)));
PPx = Ptx +  arg(12)*select(arg(11),
noise3(Ptx/arg(13),Py/arg(13),Ptz/arg(14)), fnoise3(Ptx/arg(13), Py/arg(13),
Ptz/arg(14)));

pr = PPz/arg(1);
evpt = frac(pr)*arg(1);               {eval points}
stp = floor(pr);

evx = arg(2)*frac((PPx-stp*arg(3))/arg(2));

delfa5 = evpt-arg(5);

delfa6  = evx-arg(6);

fore = if(delfa5, if(delfa6, 1,0),0);

################################################################
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060901/5fea5136/attachment-0001.html
From jm at dmu.ac.uk  Fri Sep  1 13:05:00 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri Sep  1 13:05:17 2006
Subject: [Radiance-general] Radiance 2006 Workshop -- September update
Message-ID: <6D55B9BE-FDCE-453C-8E10-39878C4CF88B@dmu.ac.uk>

Radiance 2006 Scientific Workshop
13-14 (Wed-Thu) September, Queens Building, De Montfort University,  
Leicester, UK.
http://www.iesd.dmu.ac.uk/~jm/radiance2006work.html

In addition to all the great presentations that we come to expect at  
the annual Radiance Scientific Workshop, we hope to have a BrightSide  
DR37-P HDR viewer on show (courtesy of Alan Chalmers and co.).  Find  
out more about the display here:
http://www.brightsidetech.com/
A not to be missed opportunity!  A few places are still available.   
Contact Margaret Barton to arrange booking:
MBarton@dmu.ac.uk
She will e-mail you the booking form etc.

The programme is very nearly finalised -- a listing is given below.   
There may be space to sneak in another one or two presentations --  
contact me (John Mardaljevic) asap if you would like to make a last- 
minute contribution.

Introduction
========
Registration & Welcome
John Mardaljevic

Recent changes and developments
Greg Ward

Tracing forward, bouncing back.
Axel Jacobs

Rendering
======
MOAR: The Mother of All Renderers or Radiance in Real-Time
Alan Chalmers and Kurt Debattista

Rendering with Radiance on the GRID
Kurt Debattista

Radiance on Mobile Devices
Matt Aranha

Accelerating Radiance using Novel Hardware
David Coulthurst

Human factors, validation & materials
=======================
Measurement of Light Spectrum and Intensity Variation by Changing  
Wall Texture: A work in the frame of circadian cycles consideration
Adriana Lira-Oliver

Calculation of circadian illuminance distribution with Radiance
Krzysztof Wandachowicz

Comparing Real and Virtual Scenes
Timo Kunkel

Update on BRTF measurements
Peter Apian-Bennewitz

HDR
===
New Photosphere features, e.g. panoramic HDR stitcher
Greg Ward

WebHDR
Luisa Brotas

High Dynamic Range Imaging as a Means to Quantify Luminous Flux
John Mardaljevic, Birgit Krausse and Marilyne Andersen

HDR Display Demonstration
Alan Chalmers (& Greg Ward?)

Rtcontrib: theory and application
====================
Daylight coefficients: theory and implementation
John Mardaljevic

Rtcontrib Tutorial
Greg Ward

Night Lighting Simulation: Design Evaluation Using Radiance's  
Rtcontrib and Mksource Programs
Jack de Valpine

Design case studies
============
Radiance in Lighting Design
Thomas Bleicher

Crystal Palace Lighting Simulation
Chris Jessee

Experiments with a digital 'light-flow-meter' in daylit art museum  
buildings
Merete Madsen & Michael Donn

Daylighting design with climate
Francesco Anselmo

Advancing Daylighting Design with Radiance
Philip Greenup

Design optimisation with Radiance
Giulio Antonutto

Daylight metric discussion (still to confirm)
Zack Rogers

Radiance in ?end-user packages?
====================
"Integrating Radiance in the IES <Virtual Environment>"
Don Stearn

Radiance in ECOTECT
Andrew Marsh

Coda
===
Problem solving session
Greg Ward / all

Open discussion
Workshop end

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From zrogers at archenergy.com  Fri Sep  1 18:20:03 2006
From: zrogers at archenergy.com (Zack Rogers)
Date: Fri Sep  1 18:20:59 2006
Subject: [Radiance-general] Radiance 2006 Workshop -- September update
In-Reply-To: <6D55B9BE-FDCE-453C-8E10-39878C4CF88B@dmu.ac.uk>
Message-ID: <H000009600612294.1157127602.babel.archenergy.com@MHS>

John,

Unfortunately, I will not be able to make it out to the workshop this year.  Hopefully, AEC will be back in full force for the next one.  Hope all goes well!

Regards,
Zack 


Zack Rogers, P.E., IESNA, LEED AP
Daylighting Analysis Group Leader
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA
 
tel (303)444-4149 ext. 435
fax (303)444-4304
http://www.archenergy.com
 

-----Original Message-----
From: John Mardaljevic [mailto:jm@dmu.ac.uk] 
Sent: Friday, September 01, 2006 5:05 AM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Radiance 2006 Workshop -- September update

Radiance 2006 Scientific Workshop
13-14 (Wed-Thu) September, Queens Building, De Montfort University, Leicester, UK.
http://www.iesd.dmu.ac.uk/~jm/radiance2006work.html

In addition to all the great presentations that we come to expect at the annual Radiance Scientific Workshop, we hope to have a BrightSide DR37-P HDR viewer on show (courtesy of Alan Chalmers and co.).  Find out more about the display here:
http://www.brightsidetech.com/
A not to be missed opportunity!  A few places are still available.   
Contact Margaret Barton to arrange booking:
MBarton@dmu.ac.uk
She will e-mail you the booking form etc.

The programme is very nearly finalised -- a listing is given below.   
There may be space to sneak in another one or two presentations -- contact me (John Mardaljevic) asap if you would like to make a last- minute contribution.

Introduction
========
Registration & Welcome
John Mardaljevic

Recent changes and developments
Greg Ward

Tracing forward, bouncing back.
Axel Jacobs

Rendering
======
MOAR: The Mother of All Renderers or Radiance in Real-Time Alan Chalmers and Kurt Debattista

Rendering with Radiance on the GRID
Kurt Debattista

Radiance on Mobile Devices
Matt Aranha

Accelerating Radiance using Novel Hardware David Coulthurst

Human factors, validation & materials
=======================
Measurement of Light Spectrum and Intensity Variation by Changing Wall Texture: A work in the frame of circadian cycles consideration Adriana Lira-Oliver

Calculation of circadian illuminance distribution with Radiance Krzysztof Wandachowicz

Comparing Real and Virtual Scenes
Timo Kunkel

Update on BRTF measurements
Peter Apian-Bennewitz

HDR
===
New Photosphere features, e.g. panoramic HDR stitcher Greg Ward

WebHDR
Luisa Brotas

High Dynamic Range Imaging as a Means to Quantify Luminous Flux John Mardaljevic, Birgit Krausse and Marilyne Andersen

HDR Display Demonstration
Alan Chalmers (& Greg Ward?)

Rtcontrib: theory and application
====================
Daylight coefficients: theory and implementation John Mardaljevic

Rtcontrib Tutorial
Greg Ward

Night Lighting Simulation: Design Evaluation Using Radiance's Rtcontrib and Mksource Programs Jack de Valpine

Design case studies
============
Radiance in Lighting Design
Thomas Bleicher

Crystal Palace Lighting Simulation
Chris Jessee

Experiments with a digital 'light-flow-meter' in daylit art museum buildings Merete Madsen & Michael Donn

Daylighting design with climate
Francesco Anselmo

Advancing Daylighting Design with Radiance Philip Greenup

Design optimisation with Radiance
Giulio Antonutto

Daylight metric discussion (still to confirm) Zack Rogers

Radiance in ?end-user packages?
====================
"Integrating Radiance in the IES <Virtual Environment>"
Don Stearn

Radiance in ECOTECT
Andrew Marsh

Coda
===
Problem solving session
Greg Ward / all

Open discussion
Workshop end

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development De Montfort University The Gateway Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From Francesco.Anselmo at arup.com  Fri Sep  1 19:32:13 2006
From: Francesco.Anselmo at arup.com (Francesco Anselmo)
Date: Fri Sep  1 19:32:19 2006
Subject: [Radiance-general] NFS and rpiece
Message-ID: <2C0020B9EB71CE4281B292F0E16A6DDE016A2384@ldcexc02.global.arup.com>

Hello everybody,

I'm really sorry to raise this topic again, but I've been doing
some tests recently with a cluster, and got into this strange problem.

Not using OpenMosix this time, just redhat (after nearly 7 years of 
debian), nfs mounts and pdsh distributing rpiece through ssh.

I launch the big script, wait, got the image done, looks good, 
the ambient file is good too but ...

... but some of the picture tiles, randomly, got rendered twice, 
three times, four times, so I loose quite a bit of processing power. 
Just to explain better, the syncronisation file, after the picture
is completed, looks something like this:

   1   12
   0    0

   0   11
   0   10
   0    9
   0    9
   0    8
   0    8
   0    8
   0    8
   0    8
   0    8
   0    8
   0    8
   0    0
   0    7
   0    1
   0    6
   0    4
   0    5
   0    2
   0    3

So tile 0.9 has been done twice, and tile 0.8 has even been done 8
times!!!

I haven't found an explanation, yet. Has anybody come across a similar
issue?

I've tried as well directly with ssh, but still the same problem.

Thanks in advance for any input on this.

Have a nice week-end.

--
Francesco 
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From jedev at visarc.com  Fri Sep  1 20:05:39 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Sep  1 20:06:17 2006
Subject: [Radiance-general] NFS and rpiece
In-Reply-To: <2C0020B9EB71CE4281B292F0E16A6DDE016A2384@ldcexc02.global.arup.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE016A2384@ldcexc02.global.arup.com>
Message-ID: <44F87673.60808@visarc.com>

Hi Anselmo,

Can you tell us how you have nfs configured, that is what options on the 
server and what options on the clients?

-Jack

Francesco Anselmo wrote:
> Hello everybody,
>
> I'm really sorry to raise this topic again, but I've been doing
> some tests recently with a cluster, and got into this strange problem.
>
> Not using OpenMosix this time, just redhat (after nearly 7 years of 
> debian), nfs mounts and pdsh distributing rpiece through ssh.
>
> I launch the big script, wait, got the image done, looks good, 
> the ambient file is good too but ...
>
> ... but some of the picture tiles, randomly, got rendered twice, 
> three times, four times, so I loose quite a bit of processing power. 
> Just to explain better, the syncronisation file, after the picture
> is completed, looks something like this:
>
>    1   12
>    0    0
>
>    0   11
>    0   10
>    0    9
>    0    9
>    0    8
>    0    8
>    0    8
>    0    8
>    0    8
>    0    8
>    0    8
>    0    8
>    0    0
>    0    7
>    0    1
>    0    6
>    0    4
>    0    5
>    0    2
>    0    3
>
> So tile 0.9 has been done twice, and tile 0.8 has even been done 8
> times!!!
>
> I haven't found an explanation, yet. Has anybody come across a similar
> issue?
>
> I've tried as well directly with ssh, but still the same problem.
>
> Thanks in advance for any input on this.
>
> Have a nice week-end.
>
> --
> Francesco 
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From jedev at visarc.com  Fri Sep  1 20:08:39 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Sep  1 20:09:08 2006
Subject: [Radiance-general] NFS and rpiece
In-Reply-To: <44F87673.60808@visarc.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE016A2384@ldcexc02.global.arup.com>
	<44F87673.60808@visarc.com>
Message-ID: <44F87727.8010605@visarc.com>

Sorry, I meant to says Hi Francesco!!!

Jack de Valpine wrote:
> Hi Anselmo,
>
> Can you tell us how you have nfs configured, that is what options on 
> the server and what options on the clients?
>
> -Jack
>
> Francesco Anselmo wrote:
>> Hello everybody,
>>
>> I'm really sorry to raise this topic again, but I've been doing
>> some tests recently with a cluster, and got into this strange problem.
>>
>> Not using OpenMosix this time, just redhat (after nearly 7 years of 
>> debian), nfs mounts and pdsh distributing rpiece through ssh.
>>
>> I launch the big script, wait, got the image done, looks good, the 
>> ambient file is good too but ...
>>
>> ... but some of the picture tiles, randomly, got rendered twice, 
>> three times, four times, so I loose quite a bit of processing power. 
>> Just to explain better, the syncronisation file, after the picture
>> is completed, looks something like this:
>>
>>    1   12
>>    0    0
>>
>>    0   11
>>    0   10
>>    0    9
>>    0    9
>>    0    8
>>    0    8
>>    0    8
>>    0    8
>>    0    8
>>    0    8
>>    0    8
>>    0    8
>>    0    0
>>    0    7
>>    0    1
>>    0    6
>>    0    4
>>    0    5
>>    0    2
>>    0    3
>>
>> So tile 0.9 has been done twice, and tile 0.8 has even been done 8
>> times!!!
>>
>> I haven't found an explanation, yet. Has anybody come across a similar
>> issue?
>>
>> I've tried as well directly with ssh, but still the same problem.
>>
>> Thanks in advance for any input on this.
>>
>> Have a nice week-end.
>>
>> -- 
>> Francesco ____________________________________________________________
>> Electronic mail messages entering and leaving Arup  business
>> systems are scanned for acceptability of content and viruses
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>   
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From captainb at cb-d.de  Fri Sep  1 09:50:57 2006
From: captainb at cb-d.de (Carsten Bauer)
Date: Fri Sep  1 22:02:01 2006
Subject: [Radiance-general] Carsten Bauer marble cal file
In-Reply-To: <MIEGJHPGNNLIEIOJNMMAKEKECEAA.cristiano@lightonweb.com>
References: <MIEGJHPGNNLIEIOJNMMAKEKECEAA.cristiano@lightonweb.com>
Message-ID: <44F7E661.9050600@cb-d.de>

Hi Christiano,

its interesting to read that there is at least one person out there who
actually uses some of the stuff I've published on my site :-)

Concerning the pattern files, I think I cannot repeat it often enough
that they where made in an 'experimental' phase, when I started to get
aquainted with the radiance functional language.
So they are everything else but well worked out (this applies
unfortunately also to editing and handling), and they are not supported
by me in this form anymore.

To answer your two questions:

color:
In many pattern files (not only in marble) the color pattern is produced
with a 'color map' and random noise functions. Means, a random noise
function gives you a value between 0 and 1 (or -1 and 1),and dependent
on that a color is drawn / interpolated from a handful of values.

Often I use 5 color-maps, so you have 4 'division' values, between 0 and
1 (the fifth is always 1.0, so it is left out), and of course a color
rgb tripel for each division)
Changing the color of a pattern thus means the tedious job of changing
all the 5 color values. As a first start, simply leave the division
values as the are (i.e. arg 1,5,9,13) and just change the color tripels.
As an additional awkwardness, some patterns are set up as a mixture of
two layers, so you have to do this color-editing twice, once for each
layer..

tiles:
The problem with the whole pattern file business is that you need lots
of calculations files for each different pattern or variant of a it,
and, well, that small collection I've produced covers only a few cases.
In the tiles/no tiles case, however, there is a trick:
just make the tile x and y step (arg(40) and arg(41) for the marble
pattern) very large, larger than the object made out of that material,
(and maybe use a translation transformation also),
so that no tile grouts appear on your object.

Hope this helps
-Carsten




-- 
---------------------------------------------------------

"Der Deckel mu? zugehen."    (P.K?lsch)

---------------------------------------------------------

From pisuke at blueyonder.co.uk  Fri Sep  1 23:29:26 2006
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Fri Sep  1 23:29:43 2006
Subject: [Radiance-general] NFS and rpiece
In-Reply-To: <44F87727.8010605@visarc.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE016A2384@ldcexc02.global.arup.com>
	<44F87673.60808@visarc.com>  <44F87727.8010605@visarc.com>
Message-ID: <1157146167.10829.16.camel@localhost.localdomain>

Hi Jack,

> Sorry, I meant to says Hi Francesco!!!

No problem for the name swap, I'm quite used to it :)
I've been called Anselmo for at least 13 years at school (!)

> > Can you tell us how you have nfs configured, that is what options on 
> > the server and what options on the clients?

Details of the Redhat 9 NFS system are here:
http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/ch-nfs.html

NFSv3 is the default, so I guess it is the one used (I'm not the
administrator of the cluster), but it is also possible to use NFSv2.

I need to check what's in the /etc/exports file, now that I think about
it. Changing sync/async and wdelay/no_wdelay could have some effect.

>From the client side, initially the options were 
rw,soft,bg
I think now they are more like  
rsize=8192, wsize=8192, auto, user, rw

Thanks,

Francesco




From pisuke at blueyonder.co.uk  Fri Sep  1 23:34:06 2006
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Fri Sep  1 23:34:14 2006
Subject: [Radiance-general] Carsten Bauer marble cal file
In-Reply-To: <44F7E661.9050600@cb-d.de>
References: <MIEGJHPGNNLIEIOJNMMAKEKECEAA.cristiano@lightonweb.com>
	<44F7E661.9050600@cb-d.de>
Message-ID: <1157146446.10829.20.camel@localhost.localdomain>

Hi Carsten,

> its interesting to read that there is at least one person out there who
> actually uses some of the stuff I've published on my site :-)

Well, at least two, I'd say ;-)

Ciao ciao,

Francesco





From jedev at visarc.com  Sat Sep  2 02:33:37 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Sat Sep  2 02:34:12 2006
Subject: [Radiance-general] NFS and rpiece
In-Reply-To: <1157146167.10829.16.camel@localhost.localdomain>
References: <2C0020B9EB71CE4281B292F0E16A6DDE016A2384@ldcexc02.global.arup.com>	<44F87673.60808@visarc.com>
	<44F87727.8010605@visarc.com>
	<1157146167.10829.16.camel@localhost.localdomain>
Message-ID: <44F8D161.7030608@visarc.com>

Hi Francesco,

> Details of the Redhat 9 NFS system are here:
> http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/ch-nfs.html
>
> NFSv3 is the default, so I guess it is the one used (I'm not the
> administrator of the cluster), but it is also possible to use NFSv2.
>   
I am quite sure that you must use NFSv3.
> I need to check what's in the /etc/exports file, now that I think about
> it. Changing sync/async and wdelay/no_wdelay could have some effect.
>   
I have struggled with NFS based file locking (on Linux) on and off for 
quite some time. Most of our work usually uses smp nodes so this is 
normally not an issue.
But I have been looking back into this more recently for some cluster 
based rendering. I would seriously suggest taking a look at:

    http://nfs.sourceforge.net/

Which has a fairly extensive set of information on NFS.

For locking to work correctly I am pretty sure that you need to specify 
the (sync) option on the server and/or the client side. However NFSv3 is 
supposed to do sync by default as apposed to v2 which did aysnc. The 
latter is faster however leads to a wide variety of issues. It is quite 
likely that you also need to specify the (noac) option, which means that 
the client is not caching file status information instead it always goes 
to the server to check the file status. Both of these options together 
make things slow... To improve performance I believe that you can do a 
couple of things: 1) increase number of nfsd processes available to 
handle requests and 2) specify larger rsize and wsize (assuming a fast 
network transport).
> >From the client side, initially the options were 
> rw,soft,bg
> I think now they are more like  
> rsize=8192, wsize=8192, auto, user, rw
>
>   
I read somewhere, that (hard,intr) is preferable but I will have to look 
this up.

Please note that I have been trying to read up on this as well as other 
shared filesystems, I have not had a chance to test a lot of this out. I 
would be interested to hear what you learn.

-Jack
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060901/e3b9651a/attachment.htm
From pisuke at blueyonder.co.uk  Sat Sep  2 15:19:20 2006
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Sat Sep  2 15:19:38 2006
Subject: [Radiance-general] NFS and rpiece
In-Reply-To: <44F8D161.7030608@visarc.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE016A2384@ldcexc02.global.arup.com>
	<44F87673.60808@visarc.com> <44F87727.8010605@visarc.com>
	<1157146167.10829.16.camel@localhost.localdomain>
	<44F8D161.7030608@visarc.com>
Message-ID: <1157203161.5465.18.camel@localhost.localdomain>

Hi Jack,

Thanks for your extremely useful input on this topic.

> I have struggled with NFS based file locking (on Linux) on and off for
> quite some time. Most of our work usually uses smp nodes so this is
> normally not an issue. 
> But I have been looking back into this more recently for some cluster
> based rendering. I would seriously suggest taking a look at:
>         http://nfs.sourceforge.net/
> Which has a fairly extensive set of information on NFS.

Thanks for pointing me to this URL, I should have checked it before.
Effectively it is the single most useful resource about NFS on linux :)
so much better than the man pages.

> For locking to work correctly I am pretty sure that you need to
> specify the (sync) option on the server and/or the client side.
> However NFSv3 is supposed to do sync by default as apposed to v2 which
> did aysnc. The latter is faster however leads to a wide variety of
> issues. It is quite likely that you also need to specify the (noac)
> option, which means that the client is not caching file status
> information instead it always goes to the server to check the file
> status. Both of these options together make things slow... To improve
> performance I believe that you can do a couple of things: 1) increase
> number of nfsd processes available to handle requests and 2) specify
> larger rsize and wsize (assuming a fast network transport).

I will ask to change the configuration next Monday, and hopefully
things should improve.

> Please note that I have been trying to read up on this as well as
> other shared filesystems, I have not had a chance to test a lot of
> this out. I would be interested to hear what you learn.

Yes, I'll keep you updated on my trials&errors.

I have been using OpenMosix with oMFS so far, and it has been working
properly, especially after the DFSA has been introduced.
(for more info about oMFS and DFSA there is a short section in
http://howto.x-tend.be/openMosixWiki/index.php/FAQ)

I understand that the OpenMosix development is moving towards using
GFS (Global File System) now:
http://www.redhat.com/whitepapers/rha/gfs/GFS_INS0032US.pdf

Thanks again, and have a nice week-end.

Francesco





From jedev at visarc.com  Sat Sep  2 22:44:20 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Sat Sep  2 22:44:53 2006
Subject: [Radiance-general] NFS and rpiece
In-Reply-To: <1157203161.5465.18.camel@localhost.localdomain>
References: <2C0020B9EB71CE4281B292F0E16A6DDE016A2384@ldcexc02.global.arup.com>	<44F87673.60808@visarc.com>
	<44F87727.8010605@visarc.com>	<1157146167.10829.16.camel@localhost.localdomain>	<44F8D161.7030608@visarc.com>
	<1157203161.5465.18.camel@localhost.localdomain>
Message-ID: <44F9ED24.3080606@visarc.com>

Hi Francesco,



Francesco Anselmo wrote:
> Hi Jack,
>
> Thanks for your extremely useful input on this topic.
>
>   
Well let's reserve judgment and see how things work out... ;->
>> I have struggled with NFS based file locking (on Linux) on and off for
>> quite some time. Most of our work usually uses smp nodes so this is
>> normally not an issue. 
>> But I have been looking back into this more recently for some cluster
>> based rendering. I would seriously suggest taking a look at:
>>         http://nfs.sourceforge.net/
>> Which has a fairly extensive set of information on NFS.
>>     
>
> Thanks for pointing me to this URL, I should have checked it before.
> Effectively it is the single most useful resource about NFS on linux :)
> so much better than the man pages.
>
>   
Yes, but I am not sure that it make it that much easier to figure out 
how to do what we need to do.
>> For locking to work correctly I am pretty sure that you need to
>> specify the (sync) option on the server and/or the client side.
>> However NFSv3 is supposed to do sync by default as apposed to v2 which
>> did aysnc. The latter is faster however leads to a wide variety of
>> issues. It is quite likely that you also need to specify the (noac)
>> option, which means that the client is not caching file status
>> information instead it always goes to the server to check the file
>> status. Both of these options together make things slow... To improve
>> performance I believe that you can do a couple of things: 1) increase
>> number of nfsd processes available to handle requests and 2) specify
>> larger rsize and wsize (assuming a fast network transport).
>>     
>
> I will ask to change the configuration next Monday, and hopefully
> things should improve.
>
>   
>> Please note that I have been trying to read up on this as well as
>> other shared filesystems, I have not had a chance to test a lot of
>> this out. I would be interested to hear what you learn.
>>     
>
> Yes, I'll keep you updated on my trials&errors.
>
> I have been using OpenMosix with oMFS so far, and it has been working
> properly, especially after the DFSA has been introduced.
> (for more info about oMFS and DFSA there is a short section in
> http://howto.x-tend.be/openMosixWiki/index.php/FAQ)
>
> I understand that the OpenMosix development is moving towards using
> GFS (Global File System) now:
> http://www.redhat.com/whitepapers/rha/gfs/GFS_INS0032US.pdf
>
>   
I have experimented with OpenMosix (3 or 4 years ago it seems). I have 
had some reasonable success with another  cluster system called OpenSSi 
(www.openssi.org), which has a cluster wide filesystem called cfs. I am 
currently looking at something called warewulf (www.warewulf.org) and 
thinking about running diskless clients. I have had some discussions 
with the people on the list there and some of the things that have been 
suggested are: lustre (www.lustre.org) and pvfs2 (www.pvfs.org). These 
are cluster oriented distributed filesystems, though I do not no how 
they manage file locking and cache coherence across all nodes. People on 
this group have also suggested that NFS might be ok on a small cluster 
assuming a well configured server.

When you are using OpenMosix and Radiance are you letting OpenMosix 
migrate automatically or are you specify which node you want a given job 
to run on. Do you find it distributes rpiece jobs correctly?

> Thanks again, and have a nice week-end.
>
> Francesco
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060902/8ea4f5e7/attachment.html
From grobe at gmx.net  Mon Sep  4 08:39:15 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon Sep  4 08:39:27 2006
Subject: [Radiance-general] Radiance 2006 Workshop -- September update
In-Reply-To: <H000009600612294.1157127602.babel.archenergy.com@MHS>
References: <H000009600612294.1157127602.babel.archenergy.com@MHS>
Message-ID: <44FBCA13.5040404@gmx.net>

> Unfortunately, I will not be able to make it out to the workshop

Yes, me too, no free days from work. So enjoy and develop some good 
ideas that we *all* will be happy to read about later ;-)

Lars.


From jm at dmu.ac.uk  Mon Sep  4 17:36:15 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Mon Sep  4 17:36:24 2006
Subject: [Radiance-general] Radiance 2006 Workshop - Programme finalised
Message-ID: <54C9B07B-0C81-4BEA-9D1F-EE1A42F4EA76@dmu.ac.uk>

Programme updated (4 September) and, in all probability, finalised:

http://www.iesd.dmu.ac.uk/~jm/2006_Radiance_Workshop/index.html

The sharp-eyed will notice an addition: "Visualization of Radiance  
Results with OpenDX & Generating Design Options using String Testing"  
given by Andrew McNeil

I don't think that we can squeeze in any more presentations into the  
programme, but there are a few spaces left for interested parties.   
Contact Margaret Barton to arrange booking:
MBarton@dmu.ac.uk
She will e-mail you the booking form etc. (please cc. to me).

-John Mardaljevic

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From MMoeck at engr.psu.edu  Mon Sep  4 19:52:34 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon Sep  4 19:52:26 2006
Subject: [Radiance-general] Translating a grid into an acad file
References: <54C9B07B-0C81-4BEA-9D1F-EE1A42F4EA76@dmu.ac.uk>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F304@ENGRMAIL1.engr.psu.edu>

Hello,

I would like to translate a grid with dimensions m X n consisting of equally spaced cartesian coordinates in x and y, but varying heights in z, into a 3D acad file or 3D acad readable format. The file format is as follows:

x1 y1 z 
x1 y2 z
x1 y3 z
...
x1 yn z
x2 y1 z
x2 y2 z
x2 y3 z
...
x2 yn z
...
xm y1 z
xm y2 z
xm y3 z
..
xm yn z

where z is a variable with different real positve values indicating variable different heights. This set could come from a radiance mesh primitive, but this is not important here. It is just topography, such as the geometry of a landscape. How would you approach this problem? Intermediate steps using the obj or other formats might possibly help. 

Thanks

Martin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 2913 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060904/236ba75e/attachment.bin
From MMoeck at engr.psu.edu  Mon Sep  4 22:02:15 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon Sep  4 22:02:05 2006
Subject: [Radiance-general] HDR question pano orig howto
References: <54C9B07B-0C81-4BEA-9D1F-EE1A42F4EA76@dmu.ac.uk>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F305@ENGRMAIL1.engr.psu.edu>

Hello,

I can't find pano orig under the apply button. It only lists crop, spotmeter. Sometimes it lists two more options (redeye, calibration), but none of them is pano orig. I am using the latest Photosphere 1.6U. Can somebody outline the steps, please? I have a series of HDR images in the catalog and would like to turn them into one panorama image. The images have common features/an overlap.

Regards,

Martin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 2677 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060904/b17f85b3/attachment.bin
From kthibault at biomechanicsinc.com  Mon Sep  4 22:31:08 2006
From: kthibault at biomechanicsinc.com (kthibault@biomechanicsinc.com)
Date: Mon Sep  4 22:32:32 2006
Subject: [Radiance-general] Re: HDR question pano orig howto
In-Reply-To: <A1751205CFFEB548B3E78F10333DCF8805F305@ENGRMAIL1.engr.psu.edu>
References: <A1751205CFFEB548B3E78F10333DCF8805F305@ENGRMAIL1.engr.psu.edu>
Message-ID: <1840012104-1157401947-cardhu_blackberry.rim.net-879859669-@bxe026-cell01.bisx.prod.on.blackberry>

Martin,

You must first select a small region of the "orig" image - then the pano orig option will be available.  Select "pano orig" then go to the next image in your sequence snd find that point.  Select it and choose "pano dest" to complete the pairing.  Lather, rinse, repeat.

Kirk
Sent via BlackBerry from T-Mobile  

-----Original Message-----
From: Martin Moeck <MMoeck@engr.psu.edu>
Date: Mon, 4 Sep 2006 16:02:15 
To:Radiance general discussion <radiance-general@radiance-online.org>
Subject: HDR question pano orig howto

Hello,

I can't find pano orig under the apply button. It only lists crop,
spotmeter. Sometimes it lists two more options (redeye, calibration),
but none of them is pano orig. I am using the latest Photosphere 1.6U.
Can somebody outline the steps, please? I have a series of HDR images in
the catalog and would like to turn them into one panorama image. The
images have common features/an overlap.

Regards,

Martin




From MMoeck at engr.psu.edu  Mon Sep  4 23:30:16 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon Sep  4 23:31:10 2006
Subject: [Radiance-general] Re: HDR question pano orig howto
References: <A1751205CFFEB548B3E78F10333DCF8805F305@ENGRMAIL1.engr.psu.edu>
	<1840012104-1157401947-cardhu_blackberry.rim.net-879859669-@bxe026-cell01.bisx.prod.on.blackberry>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F306@ENGRMAIL1.engr.psu.edu>

Thank you! Selecting a SMALL region did the trick. My region was too large initially.

Martin


-----Original Message-----
From: radiance-general-bounces@radiance-online.org on behalf of kthibault@biomechanicsinc.com
Sent: Mon 9/4/2006 4:31 PM
To: Radiance general discussion
Subject: [Radiance-general] Re: HDR question pano orig howto
 
Martin,

You must first select a small region of the "orig" image - then the pano orig option will be available.  Select "pano orig" then go to the next image in your sequence snd find that point.  Select it and choose "pano dest" to complete the pairing.  Lather, rinse, repeat.

Kirk
Sent via BlackBerry from T-Mobile  

-----Original Message-----
From: Martin Moeck <MMoeck@engr.psu.edu>
Date: Mon, 4 Sep 2006 16:02:15 
To:Radiance general discussion <radiance-general@radiance-online.org>
Subject: HDR question pano orig howto

Hello,

I can't find pano orig under the apply button. It only lists crop,
spotmeter. Sometimes it lists two more options (redeye, calibration),
but none of them is pano orig. I am using the latest Photosphere 1.6U.
Can somebody outline the steps, please? I have a series of HDR images in
the catalog and would like to turn them into one panorama image. The
images have common features/an overlap.

Regards,

Martin




_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3656 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060904/3bcaf0f2/attachment.bin
From T-Bleicher at bdp.co.uk  Tue Sep  5 10:54:21 2006
From: T-Bleicher at bdp.co.uk (Bleicher, Thomas)
Date: Tue Sep  5 10:54:37 2006
Subject: [Radiance-general] RE: Translating a grid into an acad file
Message-ID: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>


Martin.

Creating a DXF file from scratch might be tricky.
The reference states that an application can savely
skip anything (or nearly anything) it doesn't know
about but I guess that's not true for applications
that write DXF.

If you realy want to use DXF I'd crate a small file
with two 3DFace triangles and look at the DXF file
that produces. It should be possible to copy the
lines of the 3DFace definition and change the values
of the x,y and z coordinates. There are some binary
issues you have to be aware of, though.

You can find DXF specs here:

http://usa.autodesk.com/adsk/servlet/item?siteID=123112&id=5129239

You might have more luck creating an *.obj file
(which has been discussed in the last months at least
once) or a *.3ds/*.vrml/*.whatever _simple_ format and
check if your ACAD installation has an importer for it.


Thomas


> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org 
> [mailto:radiance-general-bounces@radiance-online.org] On 
> Behalf Of Martin Moeck
> Sent: 04 September 2006 18:53
> To: Radiance general discussion
> Subject: Translating a grid into an acad file
> 
> Hello,
> 
> I would like to translate a grid with dimensions m X n 
> consisting of equally spaced cartesian coordinates in x and 
> y, but varying heights in z, into a 3D acad file or 3D acad 
> readable format. The file format is as follows:
> 
> x1 y1 z
> x1 y2 z
> x1 y3 z
> ...
> x1 yn z
> x2 y1 z
> x2 y2 z
> x2 y3 z
> ...
> x2 yn z
> ...
> xm y1 z
> xm y2 z
> xm y3 z
> ..
> xm yn z
> 
> where z is a variable with different real positve values 
> indicating variable different heights. This set could come 
> from a radiance mesh primitive, but this is not important 
> here. It is just topography, such as the geometry of a 
> landscape. How would you approach this problem? Intermediate 
> steps using the obj or other formats might possibly help. 
> 
> Thanks
> 
> Martin
> 

***********************************************************************************
This e-mail, (and any attachments) is confidential and may be privileged.  It may be read, copied and used by the intended addressee only.  If you have received this in error please contact BDP immediately. 

If you have any queries, please contact the sender.
***********************************************************************************
Building Design Partnership
Registered in England No 2207415:
Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
***********************************************************************************

From randolph at panix.com  Tue Sep  5 15:43:45 2006
From: randolph at panix.com (Randolph Fritz)
Date: Tue Sep  5 15:43:58 2006
Subject: [Radiance-general] RE: Translating a grid into an acad file
In-Reply-To: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>
Message-ID: <44FD7F11.1080705@panix.com>

It seems to me that AutoCAD has an MxN mesh operation (3dmesh?) that 
might be useful here; you could simply create a .scr file and feed it to 
AutoCAD. If that doesn't work, the "sdxf.py" 
<http://www.stani.be/python/sdxf> script Python library might be of some 
use.

Randolph

Bleicher, Thomas wrote:
> Martin.
>
> Creating a DXF file from scratch might be tricky.
> The reference states that an application can savely
> skip anything (or nearly anything) it doesn't know
> about but I guess that's not true for applications
> that write DXF.
>
> If you realy want to use DXF I'd crate a small file
> with two 3DFace triangles and look at the DXF file
> that produces. It should be possible to copy the
> lines of the 3DFace definition and change the values
> of the x,y and z coordinates. There are some binary
> issues you have to be aware of, though.
>
> You can find DXF specs here:
>
> http://usa.autodesk.com/adsk/servlet/item?siteID=123112&id=5129239
>
> You might have more luck creating an *.obj file
> (which has been discussed in the last months at least
> once) or a *.3ds/*.vrml/*.whatever _simple_ format and
> check if your ACAD installation has an importer for it.
>
>
> Thomas
>
>
>   
>> -----Original Message-----
>> From: radiance-general-bounces@radiance-online.org 
>> [mailto:radiance-general-bounces@radiance-online.org] On 
>> Behalf Of Martin Moeck
>> Sent: 04 September 2006 18:53
>> To: Radiance general discussion
>> Subject: Translating a grid into an acad file
>>
>> Hello,
>>
>> I would like to translate a grid with dimensions m X n 
>> consisting of equally spaced cartesian coordinates in x and 
>> y, but varying heights in z, into a 3D acad file or 3D acad 
>> readable format. The file format is as follows:
>>
>> x1 y1 z
>> x1 y2 z
>> x1 y3 z
>> ...
>> x1 yn z
>> x2 y1 z
>> x2 y2 z
>> x2 y3 z
>> ...
>> x2 yn z
>> ...
>> xm y1 z
>> xm y2 z
>> xm y3 z
>> ..
>> xm yn z
>>
>> where z is a variable with different real positve values 
>> indicating variable different heights. This set could come 
>> from a radiance mesh primitive, but this is not important 
>> here. It is just topography, such as the geometry of a 
>> landscape. How would you approach this problem? Intermediate 
>> steps using the obj or other formats might possibly help. 
>>
>> Thanks
>>
>> Martin
>>
>>     
>
> ***********************************************************************************
> This e-mail, (and any attachments) is confidential and may be privileged.  It may be read, copied and used by the intended addressee only.  If you have received this in error please contact BDP immediately. 
>
> If you have any queries, please contact the sender.
> ***********************************************************************************
> Building Design Partnership
> Registered in England No 2207415:
> Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
> ***********************************************************************************
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>   


From jedev at visarc.com  Tue Sep  5 19:51:46 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Sep  5 19:52:18 2006
Subject: [Radiance-general] RE: Translating a grid into an acad file
In-Reply-To: <44FD7F11.1080705@panix.com>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>
	<44FD7F11.1080705@panix.com>
Message-ID: <44FDB932.3050303@visarc.com>

Given a well formated data file such as Martin originally posted, one 
could write an autolisp routine to read in the data file and do 
something with it in Autocad. This could be simple such as calling the 
"3dmesh" command and feeding it points as part of a script. The lisp 
routine could ask for the MxN resolution of the mesh and feed this to 
3dmesh (or these could be written in as the first lines to the data 
file). Then the data file could be opened and successive calls to get 
coordinates to pass to the running 3dmesh command. Alternatively, with a 
little poking about you could determine the underlying format for the 
mesh data structure in Autocad and just build it directly...

-Jack

Randolph Fritz wrote:
> It seems to me that AutoCAD has an MxN mesh operation (3dmesh?) that 
> might be useful here; you could simply create a .scr file and feed it 
> to AutoCAD. If that doesn't work, the "sdxf.py" 
> <http://www.stani.be/python/sdxf> script Python library might be of 
> some use.
>
> Randolph
>
> Bleicher, Thomas wrote:
>> Martin.
>>
>> Creating a DXF file from scratch might be tricky.
>> The reference states that an application can savely
>> skip anything (or nearly anything) it doesn't know
>> about but I guess that's not true for applications
>> that write DXF.
>>
>> If you realy want to use DXF I'd crate a small file
>> with two 3DFace triangles and look at the DXF file
>> that produces. It should be possible to copy the
>> lines of the 3DFace definition and change the values
>> of the x,y and z coordinates. There are some binary
>> issues you have to be aware of, though.
>>
>> You can find DXF specs here:
>>
>> http://usa.autodesk.com/adsk/servlet/item?siteID=123112&id=5129239
>>
>> You might have more luck creating an *.obj file
>> (which has been discussed in the last months at least
>> once) or a *.3ds/*.vrml/*.whatever _simple_ format and
>> check if your ACAD installation has an importer for it.
>>
>>
>> Thomas
>>
>>
>>  
>>> -----Original Message-----
>>> From: radiance-general-bounces@radiance-online.org 
>>> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of 
>>> Martin Moeck
>>> Sent: 04 September 2006 18:53
>>> To: Radiance general discussion
>>> Subject: Translating a grid into an acad file
>>>
>>> Hello,
>>>
>>> I would like to translate a grid with dimensions m X n consisting of 
>>> equally spaced cartesian coordinates in x and y, but varying heights 
>>> in z, into a 3D acad file or 3D acad readable format. The file 
>>> format is as follows:
>>>
>>> x1 y1 z
>>> x1 y2 z
>>> x1 y3 z
>>> ...
>>> x1 yn z
>>> x2 y1 z
>>> x2 y2 z
>>> x2 y3 z
>>> ...
>>> x2 yn z
>>> ...
>>> xm y1 z
>>> xm y2 z
>>> xm y3 z
>>> ..
>>> xm yn z
>>>
>>> where z is a variable with different real positve values indicating 
>>> variable different heights. This set could come from a radiance mesh 
>>> primitive, but this is not important here. It is just topography, 
>>> such as the geometry of a landscape. How would you approach this 
>>> problem? Intermediate steps using the obj or other formats might 
>>> possibly help.
>>> Thanks
>>>
>>> Martin
>>>
>>>     
>>
>> *********************************************************************************** 
>>
>> This e-mail, (and any attachments) is confidential and may be 
>> privileged.  It may be read, copied and used by the intended 
>> addressee only.  If you have received this in error please contact 
>> BDP immediately.
>> If you have any queries, please contact the sender.
>> *********************************************************************************** 
>>
>> Building Design Partnership
>> Registered in England No 2207415:
>> Registered Office: Building Design Partnership Ltd, Sunlight House, 
>> PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
>> *********************************************************************************** 
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>   
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From randolph at panix.com  Tue Sep  5 20:06:03 2006
From: randolph at panix.com (Randolph Fritz)
Date: Tue Sep  5 20:06:11 2006
Subject: [Radiance-general] RE: Translating a grid into an acad file
In-Reply-To: <44FDB932.3050303@visarc.com>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>
	<44FD7F11.1080705@panix.com> <44FDB932.3050303@visarc.com>
Message-ID: <20060905180603.GA3627@panix.com>

On Tue, Sep 05, 2006 at 01:51:46PM -0400, Jack de Valpine wrote:
> Given a well formated data file such as Martin originally posted, one 
> could write an autolisp routine to read in the data file and do 
> something with it in Autocad. This could be simple such as calling the 
> "3dmesh" command and feeding it points as part of a script. 

You don't need AutoLISP; a bit of reformatting will do.  Just create a
text file that looks like this:

3dmesh
<m> <n>
<vertex 1,1>
<vertex 1,2>
...
<vertex 1,n>
<vertex 2,1>
<vertex 2,2>
...
...
...
<vertex m,n>

Name the file mesh.scr, use the "script" command to read it in, and
Bob's your uncle.

Of course, this assumes you have a copy of AutoCAD.  If you don't, I
think it would be fairly simple to hack sdxf.py to generate the
appropriate DXF.

Randolph

From jedev at visarc.com  Tue Sep  5 20:58:23 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Sep  5 20:58:55 2006
Subject: [Radiance-general] RE: Translating a grid into an acad file
In-Reply-To: <20060905180603.GA3627@panix.com>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>
	<44FDB932.3050303@visarc.com> <20060905180603.GA3627@panix.com>
Message-ID: <44FDC8CF.9050808@visarc.com>

Well, Bob's my Uncle, that would be a lot easier wouldn't it!

Randolph Fritz wrote:
> On Tue, Sep 05, 2006 at 01:51:46PM -0400, Jack de Valpine wrote:
>   
>> Given a well formated data file such as Martin originally posted, one 
>> could write an autolisp routine to read in the data file and do 
>> something with it in Autocad. This could be simple such as calling the 
>> "3dmesh" command and feeding it points as part of a script. 
>>     
>
> You don't need AutoLISP; a bit of reformatting will do.  Just create a
> text file that looks like this:
>
> 3dmesh
> <m> <n>
> <vertex 1,1>
> <vertex 1,2>
> ...
> <vertex 1,n>
> <vertex 2,1>
> <vertex 2,2>
> ...
> ...
> ...
> <vertex m,n>
>
> Name the file mesh.scr, use the "script" command to read it in, and
> Bob's your uncle.
>
> Of course, this assumes you have a copy of AutoCAD.  If you don't, I
> think it would be fairly simple to hack sdxf.py to generate the
> appropriate DXF.
>
> Randolph
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060905/d782c40e/attachment.html
From MMoeck at engr.psu.edu  Thu Sep  7 00:40:50 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Thu Sep  7 00:41:09 2006
Subject: [Radiance-general] RE: Translating a grid into an acad file
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>
	<44FDB932.3050303@visarc.com> <20060905180603.GA3627@panix.com>
	<44FDC8CF.9050808@visarc.com>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>

Thanks to everybody for your help!

Martin


-----Original Message-----
From: radiance-general-bounces@radiance-online.org on behalf of Jack de Valpine
Sent: Tue 9/5/2006 2:58 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] RE: Translating a grid into an acad file
 
Well, Bob's my Uncle, that would be a lot easier wouldn't it!

Randolph Fritz wrote:
> On Tue, Sep 05, 2006 at 01:51:46PM -0400, Jack de Valpine wrote:
>   
>> Given a well formated data file such as Martin originally posted, one 
>> could write an autolisp routine to read in the data file and do 
>> something with it in Autocad. This could be simple such as calling the 
>> "3dmesh" command and feeding it points as part of a script. 
>>     
>
> You don't need AutoLISP; a bit of reformatting will do.  Just create a
> text file that looks like this:
>
> 3dmesh
> <m> <n>
> <vertex 1,1>
> <vertex 1,2>
> ...
> <vertex 1,n>
> <vertex 2,1>
> <vertex 2,2>
> ...
> ...
> ...
> <vertex m,n>
>
> Name the file mesh.scr, use the "script" command to read it in, and
> Bob's your uncle.
>
> Of course, this assumes you have a copy of AutoCAD.  If you don't, I
> think it would be fairly simple to hack sdxf.py to generate the
> appropriate DXF.
>
> Randolph
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3716 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060906/fed88439/attachment.bin
From info at iebele.nl  Thu Sep  7 11:40:21 2006
From: info at iebele.nl (iebele)
Date: Thu Sep  7 11:38:45 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>	<44FDB932.3050303@visarc.com>
	<20060905180603.GA3627@panix.com>	<44FDC8CF.9050808@visarc.com>
	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>
Message-ID: <44FFE905.4070600@iebele.nl>

Hi ,

I render for PAL anamorphic ( 16:9 - 720x576 ) video.
I use option -pa 1.42  in both rpict and pfilt for setting the proper 
aspect ratio. The output resolution is 720x576.
The resulting image indicates (using getinfo) an aspect ratio 1.42 as 
expected.
But  the result of a radiance image converted using ra_tiff  seems to be 
a tiff file with square pixels (aspect ration 1:1).

When I import such a tiff image into a video editing program (final cut 
pro) I get a black borders left and right of the image (the image does 
not fill the entire video screen).
What am I doing wrong here ??

-Iebele




From grobe at gmx.net  Thu Sep  7 12:56:36 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Sep  7 12:56:52 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <44FFE905.4070600@iebele.nl>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>	<44FDB932.3050303@visarc.com>	<20060905180603.GA3627@panix.com>	<44FDC8CF.9050808@visarc.com>	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>
	<44FFE905.4070600@iebele.nl>
Message-ID: <44FFFAE4.6000704@gmx.net>

> I render for PAL anamorphic ( 16:9 - 720x576 ) video.
> I use option -pa 1.42  in both rpict and pfilt for setting the proper 
> aspect ratio. The output resolution is 720x576.
> The resulting image indicates (using getinfo) an aspect ratio 1.42 as 
> expected.
> But  the result of a radiance image converted using ra_tiff  seems to be 
> a tiff file with square pixels (aspect ration 1:1).

I think you should not use -pa at all (or at zero). You can use it if 
one pixel is not like a "square", to correct. But in your case, the 
pixels have an aspect ratio of about 1/1, so the -pa setting results in 
a picture stretched just as far as to get a square picture. In other 
words: the aspect ratio of the image is determined by vv and vh (or the 
resolution), the pa setting is for the pixel aspect ratio. That is at 
least how I understood -pa....

CU Lars.


From info at iebele.nl  Thu Sep  7 14:45:54 2006
From: info at iebele.nl (iebele)
Date: Thu Sep  7 14:44:18 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <44FFFAE4.6000704@gmx.net>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>	<44FDB932.3050303@visarc.com>	<20060905180603.GA3627@panix.com>	<44FDC8CF.9050808@visarc.com>	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>	<44FFE905.4070600@iebele.nl>
	<44FFFAE4.6000704@gmx.net>
Message-ID: <45001482.9040206@iebele.nl>

Hi Lars,

Thanks for your suggestion using image aspect ratios instead of pixel 
aspect ratios.

Anamorpic Pal is (as I understood) a 720x576 image stretched to 1024x576 
by the displaying device.
This suggests a pixel of which width is 1.42 taller as its height.

I tried your suggestion and rendered my image at 1024x576 square pixel 
with a the vv value calcualted like this:
vv = vh / 1.42  (where 1.42 is 1024/720 )

Rendering square pixels at 1024x576 works fine, at least the image fits 
the videoframe.
But I really wonder if the way I calculated the vv value is correct.

-Iebele


Lars O. Grobe wrote:

>> I render for PAL anamorphic ( 16:9 - 720x576 ) video.
>> I use option -pa 1.42  in both rpict and pfilt for setting the proper 
>> aspect ratio. The output resolution is 720x576.
>> The resulting image indicates (using getinfo) an aspect ratio 1.42 as 
>> expected.
>> But  the result of a radiance image converted using ra_tiff  seems to 
>> be a tiff file with square pixels (aspect ration 1:1).
>
>
> I think you should not use -pa at all (or at zero). You can use it if 
> one pixel is not like a "square", to correct. But in your case, the 
> pixels have an aspect ratio of about 1/1, so the -pa setting results 
> in a picture stretched just as far as to get a square picture. In 
> other words: the aspect ratio of the image is determined by vv and vh 
> (or the resolution), the pa setting is for the pixel aspect ratio. 
> That is at least how I understood -pa....
>
> CU Lars.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


From MdelaFuente at wmtao.com  Thu Sep  7 15:48:21 2006
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Thu Sep  7 15:49:15 2006
Subject: [Radiance-general] Acad2004 Exporters?
Message-ID: <44FFDCD4.B450.0049.0@wmtao.com>

What is everyone using to export from CAD to Radiance?  (Perhaps some
don't do this at all?)  With AutoCAD constantly updating, We are losing
our ability to export from AutoCAD into Radiance.
 
We may end up just writing a tool that does this, but before embarking
on such a task, I though I'd see what is available, maybe what is new,
and what's coming up.
 
Any thoughts or comments would be appreciated.
 
Mark de la Fuente
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060907/3b78b757/attachment.html
From Giulio.Antonutto at arup.com  Thu Sep  7 16:05:28 2006
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu Sep  7 16:05:44 2006
Subject: [Radiance-general] Acad2004 Exporters?
Message-ID: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>

either use 3ds or save as dxf and use dxf2rad.

if you are lucky to have also a 3d application you may find much simpler
to export into obj.

ciao

G.

 

 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Mark
de la Fuente
Sent: 07 September 2006 14:48
To: Radiance
Subject: [Radiance-general] Acad2004 Exporters?

 

What is everyone using to export from CAD to Radiance?  (Perhaps some
don't do this at all?)  With AutoCAD constantly updating, We are losing
our ability to export from AutoCAD into Radiance.

 

We may end up just writing a tool that does this, but before embarking
on such a task, I though I'd see what is available, maybe what is new,
and what's coming up.

 

Any thoughts or comments would be appreciated.

 

Mark de la Fuente

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060907/0b8a63c4/attachment.htm
From captainb at cb-d.de  Thu Sep  7 03:13:09 2006
From: captainb at cb-d.de (Carsten Bauer)
Date: Thu Sep  7 16:42:22 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <45001482.9040206@iebele.nl>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>	<44FDB932.3050303@visarc.com>	<20060905180603.GA3627@panix.com>	<44FDC8CF.9050808@visarc.com>	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>	<44FFE905.4070600@iebele.nl>	<44FFFAE4.6000704@gmx.net>
	<45001482.9040206@iebele.nl>
Message-ID: <44FF7225.8030706@cb-d.de>

iebele wrote:
> Hi Lars,
> 
> Thanks for your suggestion using image aspect ratios instead of pixel
> aspect ratios.
> 
> Anamorpic Pal is (as I understood) a 720x576 image stretched to 1024x576
> by the displaying device.
> This suggests a pixel of which width is 1.42 taller as its height.
> 
> I tried your suggestion and rendered my image at 1024x576 square pixel
> with a the vv value calcualted like this:
> vv = vh / 1.42  (where 1.42 is 1024/720 )
> 
> Rendering square pixels at 1024x576 works fine, at least the image fits
> the videoframe.
> But I really wonder if the way I calculated the vv value is correct.
> 
> -Iebele

vv and vh are view angles. To fit them to a given image aspect ratio
(height over width) make sure that the quotient of the tangents of the
angles fit the image aspect, i.e. tan(vv)/tan(vh) = 576/1024 in your
example.
This gives you undistorted square pixels at the given resolution, I
don't know however if this is what you need, 'cause I don't know how
that stretching in anamorphic pal is done..

-cb

From info at iebele.nl  Thu Sep  7 17:09:56 2006
From: info at iebele.nl (iebele)
Date: Thu Sep  7 17:08:18 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <44FF7225.8030706@cb-d.de>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>	<44FDB932.3050303@visarc.com>	<20060905180603.GA3627@panix.com>	<44FDC8CF.9050808@visarc.com>	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>	<44FFE905.4070600@iebele.nl>	<44FFFAE4.6000704@gmx.net>	<45001482.9040206@iebele.nl>
	<44FF7225.8030706@cb-d.de>
Message-ID: <45003644.4040507@iebele.nl>

Hi Carsten,

I have a real problem in understanding goniometry :(

Do you know how to solve your equotation when the horizontal view angle 
is known?
In other words, how do I get the value of vv when:

tan(vv) / tan ( 84 degrees ) = 576/1024

Thanks a lot!


>iebele wrote:
>  
>
>>Hi Lars,
>>
>>Thanks for your suggestion using image aspect ratios instead of pixel
>>aspect ratios.
>>
>>Anamorpic Pal is (as I understood) a 720x576 image stretched to 1024x576
>>by the displaying device.
>>This suggests a pixel of which width is 1.42 taller as its height.
>>
>>I tried your suggestion and rendered my image at 1024x576 square pixel
>>with a the vv value calcualted like this:
>>vv = vh / 1.42  (where 1.42 is 1024/720 )
>>
>>Rendering square pixels at 1024x576 works fine, at least the image fits
>>the videoframe.
>>But I really wonder if the way I calculated the vv value is correct.
>>
>>-Iebele
>>    
>>
>
>vv and vh are view angles. To fit them to a given image aspect ratio
>(height over width) make sure that the quotient of the tangents of the
>angles fit the image aspect, i.e. tan(vv)/tan(vh) = 576/1024 in your
>example.
>This gives you undistorted square pixels at the given resolution, I
>don't know however if this is what you need, 'cause I don't know how
>that stretching in anamorphic pal is done..
>
>-cb
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>  
>


From jedev at visarc.com  Thu Sep  7 17:08:45 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep  7 17:09:19 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>
Message-ID: <450035FD.7020506@visarc.com>

Hi Giulio and Mark,

I think that this is an excellent question! Although we do have 
Acad2000, I have been using 2004 and this has required changes in 
workflow, not all of them ideal. I am not sure what the development path 
is for Rayfront and thus radout as these seem to still be at Acad 2000, 
perhaps Georg can provide some input. As an alternative, I purchased 
Polytrans from Okino (www.okino.com). The nice thing about this is that 
we can read in a dwg and write out an obj file. The dwg import seems to 
be fine for surface type primitives. I have had some issues though with 
acis solid models. One of the nice things about radout was the ability 
to leverage the other primitive types available such as cylinders and 
polygons with vertices > 3!

I am not sure how many Autocad users there are in the Radiance community 
(perhaps we could get some number on this through a survey?) But it 
would be nice to come up with a geometry translation mechanism that 
would be easier to grow along with successive releases of Autocad. My 
concern with 3dsout is the limitation on geometry/objects and control of 
geometry tessalations. I have been meaning to sit down and look at this 
a bit more.

It seems to me that the best solutions would be to have a smooth method 
for going from .dwg to .obj directly from Autocad.... and that can work 
in successive releases of the Autocad. There is a application called OBJ 
Export from www.fpsols.com for $200US, this might be worth looking into.

-Jack

Giulio Antonutto wrote:
>
> either use 3ds or save as dxf and use dxf2rad.
>
> if you are lucky to have also a 3d application you may find much 
> simpler to export into obj.
>
> ciao
>
> G.
>
>  
>
>  
>
> ------------------------------------------------------------------------
>
> *From:* radiance-general-bounces@radiance-online.org 
> [mailto:radiance-general-bounces@radiance-online.org] *On Behalf Of 
> *Mark de la Fuente
> *Sent:* 07 September 2006 14:48
> *To:* Radiance
> *Subject:* [Radiance-general] Acad2004 Exporters?
>
>  
>
> What is everyone using to export from CAD to Radiance?  (Perhaps some 
> don't do this at all?)  With AutoCAD constantly updating, We are 
> losing our ability to export from AutoCAD into Radiance.
>
>  
>
> We may end up just writing a tool that does this, but before embarking 
> on such a task, I though I'd see what is available, maybe what is new, 
> and what's coming up.
>
>  
>
> Any thoughts or comments would be appreciated.
>
>  
>
> Mark de la Fuente
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060907/33701935/attachment-0001.html
From gregoryjward at gmail.com  Thu Sep  7 17:12:06 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu Sep  7 17:12:15 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <45001482.9040206@iebele.nl>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>	<44FDB932.3050303@visarc.com>	<20060905180603.GA3627@panix.com>	<44FDC8CF.9050808@visarc.com>	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>	<44FFE905.4070600@iebele.nl>
	<44FFFAE4.6000704@gmx.net> <45001482.9040206@iebele.nl>
Message-ID: <434A3323-9A8C-4FA0-AFF8-1A7633B7E1F5@gmail.com>

Hi Iebele,

If you have a specific pixel aspect ratio, ra_tiff preserves this  
information in it's horizontal/vertical density tags.  If your  
application doesn't understand or interpret these tags, your image  
won't be displayed correctly.  Oddly enough, Photoshop doesn't  
correct the aspect ratio on display.  Photosphere does, as does  
Preview.  I don't know what tool you are using when you say that the  
aspect ratio is lost in the TIFF.

-Greg

> From: iebele <info@iebele.nl>
> Date: September 7, 2006 5:45:54 AM PDT
>
> Hi Lars,
>
> Thanks for your suggestion using image aspect ratios instead of  
> pixel aspect ratios.
>
> Anamorpic Pal is (as I understood) a 720x576 image stretched to  
> 1024x576 by the displaying device.
> This suggests a pixel of which width is 1.42 taller as its height.
>
> I tried your suggestion and rendered my image at 1024x576 square  
> pixel with a the vv value calcualted like this:
> vv = vh / 1.42  (where 1.42 is 1024/720 )
>
> Rendering square pixels at 1024x576 works fine, at least the image  
> fits the videoframe.
> But I really wonder if the way I calculated the vv value is correct.
>
> -Iebele
>

From chris.foster at npl.co.uk  Thu Sep  7 17:14:54 2006
From: chris.foster at npl.co.uk (Chris Foster)
Date: Thu Sep  7 17:14:58 2006
Subject: [Radiance-general] aspect ratio problem
Message-ID: <2C2E01334A940D4792B3E115F95B722631A588@exchsvr1.npl.ad.local>

Hi iebele.

i think i may for the first time be able to offer assitance on a radiance post!

from

tan(vv) / tan ( 84 degrees ) = 576/1024

rearrange to

tan(vv) = (576/1024)*(tan(84))

then too

vv = tan-1 [(576/1024)*(tan(84))]

stick that in a calculator and u should get an answer.

chris

p.s. the -1 is meant to be superscript as it represents tan to the power of -1 (inverse tan).

-------------------------------------------------------------------
This e-mail and any attachments may contain confidential and/or
privileged material; it is for the intended addressee(s) only.
If you are not a named addressee, you must not use, retain or
disclose such information.

NPL Management Ltd cannot guarantee that the e-mail or any
attachments are free from viruses.

NPL Management Ltd. Registered in England and Wales. No: 2937881
Registered Office: Serco House, 16 Bartley Wood Business Park,
                   Hook, Hampshire, United Kingdom  RG27 9UY
-------------------------------------------------------------------

From ndoylend at battlemccarthy.com  Thu Sep  7 17:15:18 2006
From: ndoylend at battlemccarthy.com (Nick Doylend)
Date: Thu Sep  7 17:15:29 2006
Subject: [Radiance-general] rview for windows
Message-ID: <6DEC377FFC82574CA8D35173808330BC01099246@bart.battlemccarthy.com>

Is there a more recent version of the rview program than the rather flaky
one included with Desktop Radiance?

Nick


From gregoryjward at gmail.com  Thu Sep  7 17:16:32 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu Sep  7 17:16:42 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <45003644.4040507@iebele.nl>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>	<44FDB932.3050303@visarc.com>	<20060905180603.GA3627@panix.com>	<44FDC8CF.9050808@visarc.com>	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>	<44FFE905.4070600@iebele.nl>	<44FFFAE4.6000704@gmx.net>	<45001482.9040206@iebele.nl>
	<44FF7225.8030706@cb-d.de> <45003644.4040507@iebele.nl>
Message-ID: <71AF168D-8C01-4038-8D71-C8021250FBC8@gmail.com>

If you have "Rendering with Radiance," look up "aspect ratio" in the  
index.

-G

> From: iebele <info@iebele.nl>
> Date: September 7, 2006 8:09:56 AM PDT
>
> Hi Carsten,
>
> I have a real problem in understanding goniometry :(
>
> Do you know how to solve your equotation when the horizontal view  
> angle is known?
> In other words, how do I get the value of vv when:
>
> tan(vv) / tan ( 84 degrees ) = 576/1024
>
> Thanks a lot!

From debatin_2 at relux.ch  Thu Sep  7 17:20:40 2006
From: debatin_2 at relux.ch (Siegbert Debatin)
Date: Thu Sep  7 17:20:49 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <45003644.4040507@iebele.nl>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>
	<44FD7F11.1080705@panix.com> <44FDB932.3050303@visarc.com>
	<20060905180603.GA3627@panix.com> <44FDC8CF.9050808@visarc.com>
	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>
	<44FFE905.4070600@iebele.nl> <44FFFAE4.6000704@gmx.net>
	<45001482.9040206@iebele.nl> <44FF7225.8030706@cb-d.de>
	<45003644.4040507@iebele.nl>
Message-ID: <op.tfikwqa0fr3f5b@mail.relux.ch>

> I have a real problem in understanding goniometry :(
>
> Do you know how to solve your equotation when the horizontal view angle  
> is known?
> In other words, how do I get the value of vv when:
>
> tan(vv) / tan ( 84 degrees ) = 576/1024

In 2 steps:
tan(vv) = tan( 84 degrees ) * 576 / 1024
vv = atan( tan( 84 degrees ) * 576 / 1024 )
which gives vv = 79.4 degrees.

Siegbert
-- 
Dr.-Ing. Siegbert Debatin
Development
Relux Informatik AG      Dornacherstr. 377       CH-4053 Basel
Tel. ++41 61 333 07 70   Fax: ++41 61 333 07 72

From T-Bleicher at bdp.co.uk  Thu Sep  7 17:45:20 2006
From: T-Bleicher at bdp.co.uk (Bleicher, Thomas)
Date: Thu Sep  7 17:51:55 2006
Subject: [Radiance-general] aspect ratio problem
Message-ID: <FCCB55B3313F2341AB3C91810FE1166B013E51C9@ln-s3xch1.bdp.holdings.network>

Hi Iebele and others:

> -----Original Message-----
> Subject: Re: [Radiance-general] aspect ratio problem
> 
> Hi Carsten,
> 
> I have a real problem in understanding goniometry :(
> 
> Do you know how to solve your equotation when the horizontal 
> view angle is known?
> In other words, how do I get the value of vv when:
> 
> tan(vv) / tan ( 84 degrees ) = 576/1024
> 
> Thanks a lot!

I'm not repeating the other add ons to this equation
just one thing everyone seems to miss (and which is
a bit of nitpicking):

tan(2*a) != 2*tan(a)

therefore the correct equation is

tan(vv/2) / tan(hv/2) = 576 / 1024


Might make the amazing difference of 2 pixels for
an image of that size!


Thomas


***********************************************************************************
This e-mail, (and any attachments) is confidential and may be privileged.  It may be read, copied and used by the intended addressee only.  If you have received this in error please contact BDP immediately. 

If you have any queries, please contact the sender.
***********************************************************************************
Building Design Partnership
Registered in England No 2207415:
Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
***********************************************************************************

From jedev at visarc.com  Thu Sep  7 17:51:18 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep  7 17:52:01 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <op.tfikwqa0fr3f5b@mail.relux.ch>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>
	<44FDB932.3050303@visarc.com>	<20060905180603.GA3627@panix.com>
	<44FDC8CF.9050808@visarc.com>	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>	<44FFE905.4070600@iebele.nl>
	<44FFFAE4.6000704@gmx.net>	<45001482.9040206@iebele.nl>
	<44FF7225.8030706@cb-d.de>	<45003644.4040507@iebele.nl>
	<op.tfikwqa0fr3f5b@mail.relux.ch>
Message-ID: <45003FF6.3070003@visarc.com>

Hi,

Thinking about the geometry, I believe that you actually need the following:

    tan(vv/2) / tan(hh/2) = (height/2) / (width /2)

    ==

    tan(vv/2) / tan(hh/2)  =  height  / width

solving for vv:

    vv = 2* atan( height / width  * tan(hh/2))

given:

    hh = 84
    height  = 576
    width = 1024

    vv = 53.7224 degrees

-Jack

Siegbert Debatin wrote:
>> I have a real problem in understanding goniometry :(
>>
>> Do you know how to solve your equotation when the horizontal view 
>> angle is known?
>> In other words, how do I get the value of vv when:
>>
>> tan(vv) / tan ( 84 degrees ) = 576/1024
>
> In 2 steps:
> tan(vv) = tan( 84 degrees ) * 576 / 1024
> vv = atan( tan( 84 degrees ) * 576 / 1024 )
> which gives vv = 79.4 degrees.
>
> Siegbert
> --Dr.-Ing. Siegbert Debatin
> Development
> Relux Informatik AG      Dornacherstr. 377       CH-4053 Basel
> Tel. ++41 61 333 07 70   Fax: ++41 61 333 07 72
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060907/f80f727d/attachment.htm
From T-Bleicher at bdp.co.uk  Thu Sep  7 17:57:28 2006
From: T-Bleicher at bdp.co.uk (Bleicher, Thomas)
Date: Thu Sep  7 18:02:11 2006
Subject: [Radiance-general] Acad2004 Exporters?
Message-ID: <FCCB55B3313F2341AB3C91810FE1166B013E51CA@ln-s3xch1.bdp.holdings.network>

Hello.
 
My name's Thomas and I'm an ACAD user ...
 
My way to Radiance usually involves Blender which has another set of
limitations (it can't read 3ds 4.x files). So my workflow is
 
1) export from ACAD 2004 to 3ds ('3dsout')
    this does all the tesselation and expansion of solids
 
2) import into a new ACAD file
 
3) export new file to DXF 2000 format
 
4) read DXF into Blender
 
5) export to Radiance
 
Not the best way but it works and we do not need to do it often.
 
I asked a Relux rep about the ability to export geometry from
Autocad and he said there are no problems or limitations with
Autocad 2006. I don't know how Relux Vision (which is the
Radiance part of Relux) manages it's files but for someone who
has a licence it might be worth a try.
 
Finally I started to write a DXF to Radiance converter for a special
project. It should work with every version of DXF because it simply
ignores entities it does not know anything about. Currently it knows
about polylines and lines. 3Dfaces might follow soon but I have not
yet looked at solids and might not do so for a while. 
 
Thomas

***********************************************************************************
This e-mail, (and any attachments) is confidential and may be privileged.  It may be read, copied and used by the intended addressee only.  If you have received this in error please contact BDP immediately. 

If you have any queries, please contact the sender.
***********************************************************************************
Building Design Partnership
Registered in England No 2207415:
Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
***********************************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060907/51277150/attachment-0001.html
From rpg at rumblestrip.org  Thu Sep  7 18:02:01 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Sep  7 18:02:17 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <450035FD.7020506@visarc.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>
	<450035FD.7020506@visarc.com>
Message-ID: <45004279.5060708@rumblestrip.org>

Jack de Valpine wrote:

Hi Jack, Hi List:
My name is Rob, and I'm an AutoCAD User.  (Hi Rob!)

Jack, you posted some good info there, glad to hear Polytrans is working 
(sort of) for you.  I'm looking for a DWG --> OBJ translator myself, as 
I'm building an object library here and would like to start using the 
mesh primitive for more drapey surfaces like sofa cushions and the like. 

I've been using AutoCAD for 13 years now, and I love it, but I hate the 
forced upgrades and the extra translation hoops we have to go through, 
especially as the smaller developers cannot keep up with the changes.  
Rayfront is in this unfortunate situation now.  We still have a couple 
of licenses for ACAD2000 (the most recent version that Rayfront and 
radout work with), but the daylighting team has grown in size here and 
so now we are forced to compete for licenses as we try to get our models 
into Rayfront.  Maybe we'll look at some of the programs you've 
mentioned as alternatives.  Thanks, Jack!

- Rob


From grobe at gmx.net  Thu Sep  7 18:03:53 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Sep  7 18:03:58 2006
Subject: [Radiance-general] rview for windows
In-Reply-To: <6DEC377FFC82574CA8D35173808330BC01099246@bart.battlemccarthy.com>
References: <6DEC377FFC82574CA8D35173808330BC01099246@bart.battlemccarthy.com>
Message-ID: <450042E9.4020007@gmx.net>

> Is there a more recent version of the rview program than the rather flaky
> one included with Desktop Radiance?

Try nrv: http://www.aisarquitectura.com/nrv/ which is a contribution by 
Ignacio. It is a previewer for Radiance scenes on Windows.

CU Lars.


From rpg at rumblestrip.org  Thu Sep  7 17:51:38 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Sep  7 18:18:25 2006
Subject: [Radiance-general] rview for windows
In-Reply-To: <6DEC377FFC82574CA8D35173808330BC01099246@bart.battlemccarthy.com>
References: <6DEC377FFC82574CA8D35173808330BC01099246@bart.battlemccarthy.com>
Message-ID: <4500400A.9070005@rumblestrip.org>

Nick Doylend wrote:

>Is there a more recent version of the rview program than the rather flaky
>one included with Desktop Radiance?
>  
>

I'm fairly sure that Georg updated that one for the version he includes 
in his Rayfront package.  The one that comes with Rayfront is quite 
nice, as it includes some handy view manipulation sliders.  Funny you 
should ask this question now, as I have been wondering about 
alternatives myself.  We use Rayfront here at my office, but the 
binaries have not been updated in some time so I like to *start* in 
Rayfront/Windows, but ultimately take my scene and .rif files and play 
with them on a Linux farm. The problem is all my library objects are 
compiled on the newer radiance and so I cannot view them with that older 
rview that comes with Rayfront.  AFAIK, the only other Windows-based 
alternative is the somewhat recently posted "nrv" program that Ignacio 
Munarriz created.  I used it a little bit, and it shows great promise, 
but in the short term I found it to be very slow and somewhat buggy.  In 
Ignacio's defense, he said he was tired of playing with the code and 
said he was posting it with known bugs but still in hopes that it was 
useful to some people.  I certainly hope he continues work on it.  
(search the archives for the link.)

- Rob


From jedev at visarc.com  Thu Sep  7 18:35:39 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep  7 18:36:12 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <45004279.5060708@rumblestrip.org>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>	<450035FD.7020506@visarc.com>
	<45004279.5060708@rumblestrip.org>
Message-ID: <45004A5B.2030808@visarc.com>

Hi Rob,

To elaborate on Polytrans a bit. A problem with the dwg import is that 
it is based on OpenDWG, which is perfectly fine for non-solid entities. 
However ACIS is proprietary, so the reverse engineering in the dwg 
import option is far from perfect in my trials. I have corresponded with 
Robert Landsdale at Okino, he is of the mind that the "right" way to do 
conversion of solid geometry is by exporting ACIS data from Autocad and 
then importing with one of their special modules (additional cost), one 
of which is reverse engineered and the other uses a fully licensed ACIS 
library. I have no clue though whether surface geometry would get 
exported via the acis option in Autocad. And further I do not have a 
sense for what resulting geometry grouping/organization would be. I know 
that we depend on Autocad layering as a material/organizational strategy.

Some additional food for thought. The folks who sell OBJ Export have a 
whole slew of cad geometry import export tools. They are based out of 
India and I believe are quite able to develop custom applications if 
needed....

-Jack

Rob Guglielmetti wrote:
> Jack de Valpine wrote:
>
> Hi Jack, Hi List:
> My name is Rob, and I'm an AutoCAD User.  (Hi Rob!)
>
> Jack, you posted some good info there, glad to hear Polytrans is 
> working (sort of) for you.  I'm looking for a DWG --> OBJ translator 
> myself, as I'm building an object library here and would like to start 
> using the mesh primitive for more drapey surfaces like sofa cushions 
> and the like.
> I've been using AutoCAD for 13 years now, and I love it, but I hate 
> the forced upgrades and the extra translation hoops we have to go 
> through, especially as the smaller developers cannot keep up with the 
> changes.  Rayfront is in this unfortunate situation now.  We still 
> have a couple of licenses for ACAD2000 (the most recent version that 
> Rayfront and radout work with), but the daylighting team has grown in 
> size here and so now we are forced to compete for licenses as we try 
> to get our models into Rayfront.  Maybe we'll look at some of the 
> programs you've mentioned as alternatives.  Thanks, Jack!
>
> - Rob
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From MdelaFuente at wmtao.com  Thu Sep  7 19:04:36 2006
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Thu Sep  7 19:05:15 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <9ADFFF44.776@wmtao.com>
References: <9ADFFF44.776@wmtao.com>
Message-ID: <45000AD4.B450.0049.0@wmtao.com>

We've had similar work flows.  They are a little cumbersome when many
small tweaks are made and re-exports are required.  Especially since you
may end up with many files.  I always seem to.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060907/54078a6a/attachment.htm
From jedev at visarc.com  Thu Sep  7 19:21:33 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep  7 19:22:08 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <45000AD4.B450.0049.0@wmtao.com>
References: <9ADFFF44.776@wmtao.com> <45000AD4.B450.0049.0@wmtao.com>
Message-ID: <4500551D.60502@visarc.com>

Hi Mark,

Yeah, it is certainly best to keep the number of intermediate steps down.

-Jack

Mark de la Fuente wrote:
> We've had similar work flows.  They are a little cumbersome when many 
> small tweaks are made and re-exports are required.  Especially since 
> you may end up with many files.  I always seem to.
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060907/8bca0e01/attachment.html
From info at iebele.nl  Thu Sep  7 19:50:25 2006
From: info at iebele.nl (iebele)
Date: Thu Sep  7 19:48:50 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <45003FF6.3070003@visarc.com>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51BD@ln-s3xch1.bdp.holdings.network>	<44FD7F11.1080705@panix.com>	<44FDB932.3050303@visarc.com>	<20060905180603.GA3627@panix.com>	<44FDC8CF.9050808@visarc.com>	<A1751205CFFEB548B3E78F10333DCF8805F309@ENGRMAIL1.engr.psu.edu>	<44FFE905.4070600@iebele.nl>	<44FFFAE4.6000704@gmx.net>	<45001482.9040206@iebele.nl>	<44FF7225.8030706@cb-d.de>	<45003644.4040507@iebele.nl>	<op.tfikwqa0fr3f5b@mail.relux.ch>
	<45003FF6.3070003@visarc.com>
Message-ID: <45005BE1.5030001@iebele.nl>

Hi Folks,

I love you all.

Jack has given the right answer as far I can judge now:
vh 84 vv 53.7224 renders an image of exactly 1024x576 pixels.

Thanks a  LOT.

And Greg, the application that does not interpret the 
horizontal/vertical density tags of the tif file is Final Cut Pro (Apple).
I tried ra_t16 also, same thing.

-Iebele

> Hi,
>
> Thinking about the geometry, I believe that you actually need the 
> following:
>
>     tan(vv/2) / tan(hh/2) = (height/2) / (width /2)
>
>     ==
>
>     tan(vv/2) / tan(hh/2)  =  height  / width
>
> solving for vv:
>
>     vv = 2* atan( height / width  * tan(hh/2))
>
> given:
>
>     hh = 84
>     height  = 576
>     width = 1024
>
>     vv = 53.7224 degrees
>
> -Jack
>
> Siegbert Debatin wrote:
>
>>> I have a real problem in understanding goniometry :(
>>>
>>> Do you know how to solve your equotation when the horizontal view 
>>> angle is known?
>>> In other words, how do I get the value of vv when:
>>>
>>> tan(vv) / tan ( 84 degrees ) = 576/1024
>>
>>
>> In 2 steps:
>> tan(vv) = tan( 84 degrees ) * 576 / 1024
>> vv = atan( tan( 84 degrees ) * 576 / 1024 )
>> which gives vv = 79.4 degrees.
>>
>> Siegbert
>> --Dr.-Ing. Siegbert Debatin
>> Development
>> Relux Informatik AG      Dornacherstr. 377       CH-4053 Basel
>> Tel. ++41 61 333 07 70   Fax: ++41 61 333 07 72
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>-- 
># Jack de Valpine
># president
>#
># visarc incorporated
># http://www.visarc.com
>#
># channeling technology for superior design and construction
>  
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>


From webmaster at audice.com  Thu Sep  7 21:20:27 2006
From: webmaster at audice.com (webmaster@audice.com)
Date: Thu Sep  7 21:24:31 2006
Subject: [Radiance-general] BRDF material description
In-Reply-To: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>
Message-ID: <1223049047.20060907232027@audice.com>

Hello!

Does anyone have a BRDF-based radiance material descriptions for
spray-painted plaster, white plaster, white water paint, linoleum,
parquet?

The other question:
How can I make use of some measured reflectance data (like this -
http://www.graphics.cornell.edu/online/measurements/reflectance/index.html) in Radiance?
Is there any way to reproduce such materials in Radiance?

Radiance uses RGB components instead of wavelengths. It's tricky, but
we can turn to RGBs from wavelengths. At least we can use only 550nm
measured data for specific tasks. But for every incident ray we'll get
a whole hemispherical distribution, while in Radiance material
descriptions like plasdata, metdata it seems we do not have any means
to describe this distribution. There is only an incident light and
corresponding RGB reflectance (specular I suppose?). Is it right?! 

But where is diffuse component to declare?

I searched thru the mailing list archives, looked in the digest and
didn't find any answer related to my question.

-- 
Best Regards,
Ilya Zimnovich                          mailto:webmaster@audice.com


From captainb at cb-d.de  Thu Sep  7 10:30:08 2006
From: captainb at cb-d.de (Carsten Bauer)
Date: Thu Sep  7 23:59:11 2006
Subject: [Radiance-general] aspect ratio problem
In-Reply-To: <FCCB55B3313F2341AB3C91810FE1166B013E51C9@ln-s3xch1.bdp.holdings.network>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51C9@ln-s3xch1.bdp.holdings.network>
Message-ID: <44FFD890.2020506@cb-d.de>

Bleicher, Thomas wrote:


> I'm not repeating the other add ons to this equation
> just one thing everyone seems to miss (and which is
> a bit of nitpicking):
> 
> tan(2*a) != 2*tan(a)
> 
> therefore the correct equation is
> 
> tan(vv/2) / tan(hv/2) = 576 / 1024

sorry, yepp, I've forgotten about that (funny enough, as I've
implemented exactly the above equation long ago..)
Its not nitpicking, it's simply correct..
-cb

> ***********************************************************************************
> Building Design Partnership
> Registered in England No 2207415:
> Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
> ***********************************************************************************
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 


-- 
---------------------------------------------------------

"Der Deckel mu? zugehen."    (P.K?lsch)

---------------------------------------------------------

From debatin_2 at relux.ch  Fri Sep  8 11:26:40 2006
From: debatin_2 at relux.ch (Siegbert Debatin)
Date: Fri Sep  8 11:26:57 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <FCCB55B3313F2341AB3C91810FE1166B013E51CA@ln-s3xch1.bdp.holdings.network>
References: <FCCB55B3313F2341AB3C91810FE1166B013E51CA@ln-s3xch1.bdp.holdings.network>
Message-ID: <op.tfjy6qlvfr3f5b@mail.relux.ch>

> I asked a Relux rep about the ability to export geometry from
> Autocad and he said there are no problems or limitations with
> Autocad 2006. I don't know how Relux Vision (which is the
> Radiance part of Relux) manages it's files but for someone who
> has a licence it might be worth a try.

Hello

To export geometry from Autocad to Radiance with Relux you will need the  
ReluxCAD (plugin for Autocad). All geometry which Autocad can read can be  
exported to Relux and then to Radiance.

But there is another more direct way, the current version of Relux can  
also read 3DS (no textures), DXF (3d faces) and VRML directly. We are  
working on the limitations, esp. the texture import for 3DS. This  
geometries can then be exported to Radiance without having a licence.

Siegbert
-- 
Dr.-Ing. Siegbert Debatin
Development
Relux Informatik AG      Dornacherstr. 377       CH-4053 Basel
Tel. ++41 61 333 07 70   Fax: ++41 61 333 07 72

From chris.foster at npl.co.uk  Wed Sep 13 13:49:52 2006
From: chris.foster at npl.co.uk (Chris Foster)
Date: Wed Sep 13 17:21:50 2006
Subject: [Radiance-general] thankyou
Message-ID: <2C2E01334A940D4792B3E115F95B722631A58F@exchsvr1.npl.ad.local>


Hi all,

My thesis is coming to and end and i am in the process of writing it up, so this is just a quick email to say thankyou to everyone that has helped me over the past 6 months with any of my questoins. I wont name names at the risk of missing anyone out, but you know who you are. Of course Big thanks to Greg for being the Creator!
Much appreciated

Chris Foster

p.s. fishing. anyone know of any opportunities for a MSc student who is experienced in Radiance and Displays???


-------------------------------------------------------------------
This e-mail and any attachments may contain confidential and/or
privileged material; it is for the intended addressee(s) only.
If you are not a named addressee, you must not use, retain or
disclose such information.

NPL Management Ltd cannot guarantee that the e-mail or any
attachments are free from viruses.

NPL Management Ltd. Registered in England and Wales. No: 2937881
Registered Office: Serco House, 16 Bartley Wood Business Park,
                   Hook, Hampshire, United Kingdom  RG27 9UY
-------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060913/e38b36a5/attachment.html
From grobe at gmx.net  Tue Sep 12 14:20:47 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Sep 13 18:47:37 2006
Subject: [Radiance-general] ambient resolution and memory
Message-ID: <4506A61F.4000305@gmx.net>

Hi,

I hope these messages will arrive one day when radiance-online.org is 
back again...

I am getting into trouble with rendering a large detailed model. If I am 
setting ar as usually (ar=scene boundary/detail dimensions, I get 
something like -ar 2000. That leads to slow processing with huge memory 
useage (around 1.6 GB).

I wonder if there is a way to reduce the general resolution in such 
cases and increase accuracy in detailed regions only by ad, as and aa.

I also wonder if there is at least some performance to win by changing / 
releasing ambient parameters for high-res pictures after the ouverture 
produced some values. While people did such things for a while, later 
posts suggested that this is not safe. Is this true for ALL ambient 
parameters?

Finally, I am using mkillum to cut one step from the ambient daylight 
calculation, illums are covering all windows. Does this influence the 
simple formula used to calculate ar, or is ar only determined by scene 
geometry?

I am a bit desperate, as the ambient paramters needed to produce clean 
images lead to rendering times about two weeks per 1200x1200 picture at 
the moment here, on a 3.2GHz P4... so I hope to optimize a bit by 
tweaking ambient calculation. I am already using mkillum and ambient 
exclude lists to accelerate things a bit. The scene will become even 
"worse" when I switch on my artificial light sources...

CU Lars.


From jedev at visarc.com  Wed Sep 13 19:40:26 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Sep 13 19:40:58 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <4506A61F.4000305@gmx.net>
References: <4506A61F.4000305@gmx.net>
Message-ID: <4508428A.2000203@visarc.com>

Hi Lars,

Wow, 2 weeks. That seems pretty extreme. What is your scene? Are you 
running on your OpenMosix cluster?

Below are some answers and thoughts....

-Jack

Lars O. Grobe wrote:
> Hi,
>
> I hope these messages will arrive one day when radiance-online.org is 
> back again...
>
> I am getting into trouble with rendering a large detailed model. If I 
> am setting ar as usually (ar=scene boundary/detail dimensions, I get 
> something like -ar 2000. That leads to slow processing with huge 
> memory useage (around 1.6 GB).
>
> I wonder if there is a way to reduce the general resolution in such 
> cases and increase accuracy in detailed regions only by ad, as and aa.
>
> I also wonder if there is at least some performance to win by changing 
> / releasing ambient parameters for high-res pictures after the 
> ouverture produced some values. While people did such things for a 
> while, later posts suggested that this is not safe. Is this true for 
> ALL ambient parameters?
>
Yes, you can do this but NOT for all ambient parameters.  You should be 
able to make some adjustments to  aa, ad and as, for example:

overture calc: -aa .15 -ad 1024 -as 512
image:            -aa .25 -ad 512 -as 256

where ad and as are getting halved and aa increased by some amount.

How many ambient bounces are you using? I think for an interior scene 
with illums at the window openings you should be able to set -ab 1....
> Finally, I am using mkillum to cut one step from the ambient daylight 
> calculation, illums are covering all windows. Does this influence the 
> simple formula used to calculate ar, or is ar only determined by scene 
> geometry?
>
> I am a bit desperate, as the ambient paramters needed to produce clean 
> images lead to rendering times about two weeks per 1200x1200 picture 
> at the moment here, on a 3.2GHz P4... so I hope to optimize a bit by 
> tweaking ambient calculation. I am already using mkillum and ambient 
> exclude lists to accelerate things a bit. The scene will become even 
> "worse" when I switch on my artificial light sources...
>
It may be worth it (at 2 weeks running time) to do some pretty serious 
experiments with ambient parameters. You might also want to consider if 
there is geometry that could be excluded from the ambient calculation 
(-ae or -aE), some examples might be very small geometry and/or geometry 
that has very dark materials applied. Lastly, if you have not even got 
your artifical lights on then you might want to consider if some of 
these could be managed with a glow material with a radius of influence 
instead of illum/light. Also worth considering is whether there are any 
optimizations that you might be able to do to the scene geometry...

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From grobe at gmx.net  Mon Sep 11 09:20:21 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Sep 13 20:07:15 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <45004A5B.2030808@visarc.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>	<450035FD.7020506@visarc.com>	<45004279.5060708@rumblestrip.org>
	<45004A5B.2030808@visarc.com>
Message-ID: <45050E35.5020508@gmx.net>

Some thoughts of someone not using AutoCAD for modeling so much.

Instead of buying obj-exporters, having an iges-export would allow you 
to export your models' geometry to an independent format without loosing 
much information, adding the ability to import e.g. into other cad's if 
needed. From iges, you can create obj's with brlcad, which gives you 
control over meshing etc.

Lars.


From jedev at visarc.com  Wed Sep 13 20:25:51 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Sep 13 20:26:27 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <45050E35.5020508@gmx.net>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>	<450035FD.7020506@visarc.com>	<45004279.5060708@rumblestrip.org>	<45004A5B.2030808@visarc.com>
	<45050E35.5020508@gmx.net>
Message-ID: <45084D2F.2060008@visarc.com>

Hi Lars,

I do not think that Autocad has a way to export iges at least not in 
r2004. And this would still require an intermediate conversion program, 
whereas at least a direct obj exporter then can use obj2rad or obj2mesh.

-Jack

Lars O. Grobe wrote:
> Some thoughts of someone not using AutoCAD for modeling so much.
>
> Instead of buying obj-exporters, having an iges-export would allow you 
> to export your models' geometry to an independent format without 
> loosing much information, adding the ability to import e.g. into other 
> cad's if needed. From iges, you can create obj's with brlcad, which 
> gives you control over meshing etc.
>
> Lars.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From MdelaFuente at wmtao.com  Thu Sep 14 15:58:54 2006
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Thu Sep 14 15:59:41 2006
Subject: [Radiance-general] Acad2004 Exporters?
Message-ID: <450919CD.B450.0049.0@wmtao.com>

How do you get to obj format from cad.  And then once you have a model in obj, do you need a certain program to properly export to radiance?  Or is obj2rad just going to translate everything in the file?
 
We are looking at Torad.  It still works under 2004.  Looks like there are a couple of bugs that needed fixing including allowing the interface to run.
 
Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060914/69e80548/attachment.html
From jedev at visarc.com  Thu Sep 14 16:14:59 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 14 16:15:30 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <450919CD.B450.0049.0@wmtao.com>
References: <450919CD.B450.0049.0@wmtao.com>
Message-ID: <450963E3.90703@visarc.com>

Hi Mark,

There are a few ways to get obj from cad. I presume that you are 
probably using Autocad.

   1. use an intermediate package such as polytrans from www.okino.com -
      we have used this and it works fine for surface models, though the
      workflow is different
   2. consider a obj exporter such as from www.fpsols.com - I have only
      looked into this a bit. I am not sure how the export organizes
      data, that is are objects determined based on layer/color
      organization or what.

The two radiance obj converter (obj2rad and obj2mesh) seem to work just 
fine. So once you have an obj format file then I guess this should be 
ok. Obviously one issue centers around correct normal orientation. This 
is probably where a full bore translation package such as polytrans can 
help out by providing capability to manage the geometry.

I guess I had not thought about Torad for quite some time. How are you 
finding the speed of the export process with Torad? I guess the nice 
things about this, is that there is probably a group of users who might 
be able to support this since we can actually see the source code.

Nevertheless, I would also like to find a good way to deal with ACIS 
based solids.

-Jack

Mark de la Fuente wrote:
> How do you get to obj format from cad.  And then once you have a model 
> in obj, do you need a certain program to properly export to radiance?  
> Or is obj2rad just going to translate everything in the file?
>  
> We are looking at Torad.  It still works under 2004.  Looks like there 
> are a couple of bugs that needed fixing including allowing the 
> interface to run.
>  
> Mark
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060914/5fc1132a/attachment.htm
From chris.jessee at kingmill.com  Thu Sep 14 21:21:04 2006
From: chris.jessee at kingmill.com (Chris Jessee)
Date: Thu Sep 14 16:21:16 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <450919CD.B450.0049.0@wmtao.com>
References: <450919CD.B450.0049.0@wmtao.com>
Message-ID: <64AC0C77-A72E-43B1-8C31-BE9C10DA8886@kingmill.com>

You made a intermediary software such as FormZ.

DWG > FormZ > OBJ>RAD

I would be happy to convert your dwg to obj so you can evaluate the  
process.

Take care,

Chris Jessee
chris.jessee@kingmill.com




On Sep 14, 2006, at 9:58 AM, Mark de la Fuente wrote:

> How do you get to obj format from cad.  And then once you have a  
> model in obj, do you need a certain program to properly export to  
> radiance?  Or is obj2rad just going to translate everything in the  
> file?
>
> We are looking at Torad.  It still works under 2004.  Looks like  
> there are a couple of bugs that needed fixing including allowing  
> the interface to run.
>
> Mark
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From jedev at visarc.com  Thu Sep 14 17:13:42 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 14 17:14:13 2006
Subject: *** Spam ***  Re: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <64AC0C77-A72E-43B1-8C31-BE9C10DA8886@kingmill.com>
References: <450919CD.B450.0049.0@wmtao.com>
	<64AC0C77-A72E-43B1-8C31-BE9C10DA8886@kingmill.com>
Message-ID: <450971A6.2090601@visarc.com>

Hi Chris,

Well, I think that the ideal solution is in fact not to introduce 
another package (whether Form Z or Polytrans). However, that being said 
I think that if another package needs to be introduced then cost is a 
big big issue. Polytrans with the CadPak is ~$540 I think. As Form Z is 
a full blown cad/modeling application, I expect it costs ~$2000?

I guess if I was using Autocad and wanted/needed to introduce another 
package I might look at Rhino which does stuff that Autocad is not very 
good at.

-Jack

Chris Jessee wrote:
> You made a intermediary software such as FormZ.
>
> DWG > FormZ > OBJ>RAD
>
> I would be happy to convert your dwg to obj so you can evaluate the 
> process.
>
> Take care,
>
> Chris Jessee
> chris.jessee@kingmill.com
>
>
>
>
> On Sep 14, 2006, at 9:58 AM, Mark de la Fuente wrote:
>
>> How do you get to obj format from cad.  And then once you have a 
>> model in obj, do you need a certain program to properly export to 
>> radiance?  Or is obj2rad just going to translate everything in the file?
>>
>> We are looking at Torad.  It still works under 2004.  Looks like 
>> there are a couple of bugs that needed fixing including allowing the 
>> interface to run.
>>
>> Mark
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From chris.jessee at kingmill.com  Thu Sep 14 23:36:43 2006
From: chris.jessee at kingmill.com (Chris Jessee)
Date: Thu Sep 14 18:37:01 2006
Subject: *** Spam ***  Re: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <450971A6.2090601@visarc.com>
References: <450919CD.B450.0049.0@wmtao.com>
	<64AC0C77-A72E-43B1-8C31-BE9C10DA8886@kingmill.com>
	<450971A6.2090601@visarc.com>
Message-ID: <A2692354-3580-4FBC-B5EE-1CF452664629@kingmill.com>

Hi Jack,

My apologies as my last email wasn't clear. Although expensive,  
($1200) FormZ has proven over time to be a solid tool for repairing  
troublesome geometry files from AutoCad and other CAD packages.   
Rhino may also be a good choice but I have no knowledge of it.

To meet your immediate need I offer to process your dwg file through  
FormZ so you might evaluate it's usefulness prior to spending any money.

Thank you,

Chris Jessee




On Sep 14, 2006, at 11:13 AM, Jack de Valpine wrote:

> Hi Chris,
>
> Well, I think that the ideal solution is in fact not to introduce  
> another package (whether Form Z or Polytrans). However, that being  
> said I think that if another package needs to be introduced then  
> cost is a big big issue. Polytrans with the CadPak is ~$540 I  
> think. As Form Z is a full blown cad/modeling application, I expect  
> it costs ~$2000?
>
> I guess if I was using Autocad and wanted/needed to introduce  
> another package I might look at Rhino which does stuff that Autocad  
> is not very good at.
>
> -Jack
>
> Chris Jessee wrote:
>> You made a intermediary software such as FormZ.
>>
>> DWG > FormZ > OBJ>RAD
>>
>> I would be happy to convert your dwg to obj so you can evaluate  
>> the process.
>>
>> Take care,
>>
>> Chris Jessee
>> chris.jessee@kingmill.com
>>
>>
>>
>>
>> On Sep 14, 2006, at 9:58 AM, Mark de la Fuente wrote:
>>
>>> How do you get to obj format from cad.  And then once you have a  
>>> model in obj, do you need a certain program to properly export to  
>>> radiance?  Or is obj2rad just going to translate everything in  
>>> the file?
>>>
>>> We are looking at Torad.  It still works under 2004.  Looks like  
>>> there are a couple of bugs that needed fixing including allowing  
>>> the interface to run.
>>>
>>> Mark
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From jedev at visarc.com  Thu Sep 14 19:16:08 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 14 19:16:43 2006
Subject: *** Spam ***  Re: *** Spam ***  Re: [Radiance-general] Acad2004
	Exporters?
In-Reply-To: <A2692354-3580-4FBC-B5EE-1CF452664629@kingmill.com>
References: <450919CD.B450.0049.0@wmtao.com>	<64AC0C77-A72E-43B1-8C31-BE9C10DA8886@kingmill.com>	<450971A6.2090601@visarc.com>
	<A2692354-3580-4FBC-B5EE-1CF452664629@kingmill.com>
Message-ID: <45098E58.7060104@visarc.com>

Hi Chris,

Thanks for the offer. I am just trying to contribute to the general 
discussion of Autocad geometry translation.

Thanks,

-Jack

Chris Jessee wrote:
> Hi Jack,
>
> My apologies as my last email wasn't clear. Although expensive, 
> ($1200) FormZ has proven over time to be a solid tool for repairing 
> troublesome geometry files from AutoCad and other CAD packages.  Rhino 
> may also be a good choice but I have no knowledge of it.
>
> To meet your immediate need I offer to process your dwg file through 
> FormZ so you might evaluate it's usefulness prior to spending any money.
>
> Thank you,
>
> Chris Jessee
>
>
>
>
> On Sep 14, 2006, at 11:13 AM, Jack de Valpine wrote:
>
>> Hi Chris,
>>
>> Well, I think that the ideal solution is in fact not to introduce 
>> another package (whether Form Z or Polytrans). However, that being 
>> said I think that if another package needs to be introduced then cost 
>> is a big big issue. Polytrans with the CadPak is ~$540 I think. As 
>> Form Z is a full blown cad/modeling application, I expect it costs 
>> ~$2000?
>>
>> I guess if I was using Autocad and wanted/needed to introduce another 
>> package I might look at Rhino which does stuff that Autocad is not 
>> very good at.
>>
>> -Jack
>>
>> Chris Jessee wrote:
>>> You made a intermediary software such as FormZ.
>>>
>>> DWG > FormZ > OBJ>RAD
>>>
>>> I would be happy to convert your dwg to obj so you can evaluate the 
>>> process.
>>>
>>> Take care,
>>>
>>> Chris Jessee
>>> chris.jessee@kingmill.com
>>>
>>>
>>>
>>>
>>> On Sep 14, 2006, at 9:58 AM, Mark de la Fuente wrote:
>>>
>>>> How do you get to obj format from cad.  And then once you have a 
>>>> model in obj, do you need a certain program to properly export to 
>>>> radiance?  Or is obj2rad just going to translate everything in the 
>>>> file?
>>>>
>>>> We are looking at Torad.  It still works under 2004.  Looks like 
>>>> there are a couple of bugs that needed fixing including allowing 
>>>> the interface to run.
>>>>
>>>> Mark
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general@radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> --# Jack de Valpine
>> # president
>> #
>> # visarc incorporated
>> # http://www.visarc.com
>> #
>> # channeling technology for superior design and construction
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From jedev at visarc.com  Thu Sep 14 21:57:24 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 14 21:57:57 2006
Subject: [Radiance-general] Hardware/CPUS
Message-ID: <4509B424.10007@visarc.com>

Hi All,

Does anyone have any Intel Core 2 Duo systems up and running? Any 
comments on performance? Thoughts on motherboards and configurations?

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From grobe at gmx.net  Fri Sep 15 08:46:25 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Sep 15 08:46:36 2006
Subject: [Radiance-general] Acad2004 Exporters?
In-Reply-To: <45084D2F.2060008@visarc.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>	<450035FD.7020506@visarc.com>	<45004279.5060708@rumblestrip.org>	<45004A5B.2030808@visarc.com>	<45050E35.5020508@gmx.net>
	<45084D2F.2060008@visarc.com>
Message-ID: <450A4C41.9010609@gmx.net>

> I do not think that Autocad has a way to export iges at least not in 
> r2004. And this would still require an intermediate conversion program, 
> whereas at least a direct obj exporter then can use obj2rad or obj2mesh.

I had been looking at it because I wanted a format for my models that

- can be exported from CAD
- preserves CAD geometry, e.g. no meshing
- can be imported into radiance and other formats using scripts
- is independent from any company / product

That way, I can directly access my CAD models from the scripts that set 
up the rendering, and do not have to export at all. Of course, if there 
is no iges-interface as in native AutoCAD, this has to be purchased.

I still use obj in the chain (scripts). If you have a defined workflow 
and are only editing in Autodesk software, then buying an obj-exporter 
may still be fine of course.

CU Lars.


From grobe at gmx.net  Fri Sep 15 09:12:54 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Sep 15 09:13:10 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <4508428A.2000203@visarc.com>
References: <4506A61F.4000305@gmx.net> <4508428A.2000203@visarc.com>
Message-ID: <450A5276.8010201@gmx.net>

Hi Jack!

It is a highly detailed model of an antique church with awful materials. 
  The rendering is done on the cluster, but the rendering time of 2 
weeks is per cpu.

> Yes, you can do this but NOT for all ambient parameters.  You should be 
> able to make some adjustments to  aa, ad and as, for example:
> 
> overture calc: -aa .15 -ad 1024 -as 512
> image:            -aa .25 -ad 512 -as 256

That was what I wanted to do, as it will save a lot of time (I have 70 
images to render, and if only the ouverture needs high ambient settings, 
following images will render much faster.

> How many ambient bounces are you using? I think for an interior scene 
> with illums at the window openings you should be able to set -ab 1....

Yes, I am playing with 2 bounces at the moment, but then it is 
impossible to get results. I used -ab 1 before. I already have exlde 
lists for the ambient calculation. The glow for illumination is a nice 
idea, if I just want to see the position of light sources. But if they 
are to illuminate the scene?

I was thinking of making even heavier use of mkillum. First, bundling 
the light sources, so that there will be hundreds, not thousand, at 
least in the indirect calculation. Than it may make sense to divide the 
interior with illum panes, so that e.g. the light contributed from the 
galleries to the main room is precomputed by mkillum. Finally I may end 
by dividing the whole scene in virtual rooms seperated by illum panes?

Is there a patch for current radiance that allows an alternative 
modifier (like void) for the indirect calculation? That is available in 
Radzilla and might be very helpful, as I have colorpict maps on most 
surfaces.

Thanks & CU Lars.


From gregoryjward at gmail.com  Fri Sep 15 11:18:20 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Sep 15 11:18:18 2006
Subject: [Radiance-general] BRDF material description
In-Reply-To: <1223049047.20060907232027@audice.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>
	<1223049047.20060907232027@audice.com>
Message-ID: <49844AE8-4E50-4B13-A97A-296105671E3D@gmail.com>

Looks like no one replied to this one...

> From: webmaster@audice.com
> Date: September 7, 2006 8:20:27 PM BDT
>
> Hello!
>
> Does anyone have a BRDF-based radiance material descriptions for
> spray-painted plaster, white plaster, white water paint, linoleum,
> parquet?

Some measured and fitted data sets may be found on Wojceich Matusik's  
pages at MERL:

	http://people.csail.mit.edu/wojciech/BRDFAnalysis/

Go to the "Supplemental Material" PDF to find a set of isotropic  
BRDFs with Ward reflectance model parameters.  Use thew Ward-Duer  
fits if you have the latest version of Radiance with Duer's  
corrections (vers. 3.6 and later).

> The other question:
> How can I make use of some measured reflectance data (like this -
> http://www.graphics.cornell.edu/online/measurements/reflectance/ 
> index.html) in Radiance?
> Is there any way to reproduce such materials in Radiance?

The best way is to fit the data to the existing reflectance model in  
Radiance.  This way, you will avoid problems with sampling errors and  
get the full BRDF behavior.  If the measured data does not fit the  
existing isotropic or anisotropic models, then you will have to enter  
it as (preferably smoothed) data or create your own model.  In either  
case, you will get the correct behavior only for reflections from  
light sources, and reflections from other (non-source) objects will  
be approximated as diffuse.

> Radiance uses RGB components instead of wavelengths. It's tricky, but
> we can turn to RGBs from wavelengths. At least we can use only 550nm
> measured data for specific tasks. But for every incident ray we'll get
> a whole hemispherical distribution, while in Radiance material
> descriptions like plasdata, metdata it seems we do not have any means
> to describe this distribution. There is only an incident light and
> corresponding RGB reflectance (specular I suppose?). Is it right?!

The "plasdata" type has a white specular component and "metdata" has  
a specular component that matches the RGB color given.  These will be  
very close to real materials -- in general it's one or the other.   
Variations between would arise if you mixed two such materials, like  
a metallic car paint with a clear coat.  In such cases, you could  
employ a mixfunc to obtain the desired behavior, or go whole-hog with  
the BRTDfunc type, though this would be rather more work as you would  
need to incorporate your data into the associated *.cal file using  
nested select() functions (not fun).

Ignoring color, both "plastdata" and "metdata" both provide the means  
to specify a full BRDF, since the indices to the N-dimensional data  
are actually functions of the incident light direction vector.  For  
example, you could give:

void plasdata bad_example
7 noop bad.dat brdfang.cal inc_alt inc_azi refl_alt refl_azi
0
4 0.5 0.7 0.3 0.05

Where "brdfang.cal" is something like:

{ Compute incident and reflected altitude and azimuth angles in  
degrees }
inc_alt(sx,sy,sz) = asin(sz) / DEGREE;
inc_azi(sx,sy,sz) = atan2(sy,sx) / DEGREE;
refl_alt(sx,sy,sz) = asin(Dz) / DEGREE;
refl_azi(sx,sy,sz) = atan2(Dy,Dx) / DEGREE;

These variables then would serve as indices to your 4-dimensional  
data in "bad.dat":

# BRDF measurements, incident altitude and azimuth first, then  
reflected alt & azi
4
-90 90  22
-180 180  44
-90 90  15
-180 180  30
# 22 * 44 * 15 * 30 == 435,600 data points
...

Perhaps at this point you are beginning to see why no examples of  
plasdata and metdata have appeared on the mailing list.

> But where is diffuse component to declare?

The diffuse component would the minimum value of your BRDF, which you  
would subtract from every point as a constant Lambertian component.   
Since the BRDF of a diffuse surface is everywhere rho/pi, you would  
multiply this constant by pi and specify it as your diffuse  
reflectance.  For proper normalization, you would further divide your  
remaining directional BRDF by the specular component value, since it  
will be remultiplied by the specularity in plasdata and metdata.

> I searched thru the mailing list archives, looked in the digest and
> didn't find any answer related to my question.

I'm not sure this question has been properly answered before.  I'm  
not sure it has now, either.

-Greg

From gregoryjward at gmail.com  Fri Sep 15 11:53:00 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Sep 15 11:52:57 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <450A5276.8010201@gmx.net>
References: <4506A61F.4000305@gmx.net> <4508428A.2000203@visarc.com>
	<450A5276.8010201@gmx.net>
Message-ID: <766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>

Hi Lars,

Just finished with the Radiance workshop, so catching up on e-mails.   
This is an interesting thread...

>> How many ambient bounces are you using? I think for an interior  
>> scene with illums at the window openings you should be able to set  
>> -ab 1....
>
> Yes, I am playing with 2 bounces at the moment, but then it is  
> impossible to get results. I used -ab 1 before. I already have  
> exlde lists for the ambient calculation. The glow for illumination  
> is a nice idea, if I just want to see the position of light  
> sources. But if they are to illuminate the scene?

The "glow" type with an effective radius still illuminates the scene  
correctly.  Base your radius on the distance over which you expect  
your sources to be important.  Past that distance, they will be  
considered as "indirect" sources.  One important caveat:  the smaller  
and brighter they are, the more artifacts you will see from them if  
your radius is too small.

Another tip to reduce calculation time if you are using a recent  
version of Radiance (3.6 or later) is that large surfaces in the main  
octree will be tracked in the shadow cache.  Neither instances nor  
meshes will work as obstructors, so if you must instantiate geometry,  
leave at least some large occluders in the main octree to help in the  
shadow cache.

> I was thinking of making even heavier use of mkillum. First,  
> bundling the light sources, so that there will be hundreds, not  
> thousand, at least in the indirect calculation. Than it may make  
> sense to divide the interior with illum panes, so that e.g. the  
> light contributed from the galleries to the main room is  
> precomputed by mkillum. Finally I may end by dividing the whole  
> scene in virtual rooms seperated by illum panes?

It's a curious idea.  I'm not sure whether or not it will help, but  
I'd love to see the results.

> Is there a patch for current radiance that allows an alternative  
> modifier (like void) for the indirect calculation? That is  
> available in Radzilla and might be very helpful, as I have  
> colorpict maps on most surfaces.

There is no such hack.  It's not really physical, is the problem.

One other note -- you might try setting -ar 0 in your case.  If you  
have really large and small geometry that require enormous -ar  
settings, you may be better off without it.  Alternatively, you can  
try excluding your ground plane from the indirect calculation with a - 
ae option.  You can have a close-up ground plane that you include to  
catch the indirect from the building, then forget it outside a  
certain distance.  This will avoid the placement of excess indirect  
values where nothing really is going on.

-Greg

From grobe at gmx.net  Fri Sep 15 13:24:58 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Sep 15 13:25:05 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>
References: <4506A61F.4000305@gmx.net>
	<4508428A.2000203@visarc.com>	<450A5276.8010201@gmx.net>
	<766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>
Message-ID: <450A8D8A.3010800@gmx.net>

Hi Greg!

> Just finished with the Radiance workshop, so catching up on e-mails.

I am curious to hear about it, will there be a documentation cd 
available again? Hope ou had a nice time.

> The "glow" type with an effective radius still illuminates the scene 
> correctly.  Base your radius on the distance over which you expect your 
> sources to be important.  Past that distance, they will be considered as 
> "indirect" sources.  One important caveat:  the smaller and brighter 
> they are, the more artifacts you will see from them if your radius is 
> too small.

I will hide it behind an illum. The configuration is as follows: I group 
my (artificial) light sources and define one illum sphere per groups of 
sources. That way, first I will have much less sources in the indirect 
calculation, and second avoid these artefacts. Actually I was not aware 
about the advantage of using glow instead of light modified sources. The 
actual sources are small oil lamps, which I expect to be effective only 
indirect a groups - the room is too large compared to the lamps.

> Another tip to reduce calculation time if you are using a recent version 
> of Radiance (3.6 or later) is that large surfaces in the main octree 
> will be tracked in the shadow cache.  Neither instances nor meshes will 
> work as obstructors, so if you must instantiate geometry, leave at least 
> some large occluders in the main octree to help in the shadow cache.

;-) Do you know my model that well? Thank you, this may help a lot. My 
model is build up in a hierarchic way, with the top elements often being 
instances. Maybe I should even accept overlaps just to get some 
occluders without changing the model too much. If I keep the visible 
geometry in instances, but have some large faces in the main octree a 
approximations to these main elements, which are invisible because 
completely covered by the instances' geometry, should I expect some 
performance gain from the shadow cache?

> It's a curious idea.  I'm not sure whether or not it will help, but I'd 
> love to see the results.

I will try it. I think it highly depends on the point of view related to 
the scene, but in my case it may help (important viewpoints all in 
central hall-like room, window openings mainly in adjacent 
aisles/galleries etc).

> There is no such hack.  It's not really physical, is the problem.

Yes, but it is useful to exclude patterns and textures from the ambient 
and stay with the base modifier.

> One other note -- you might try setting -ar 0 in your case.  If you have 
> really large and small geometry that require enormous -ar settings, you 
> may be better off without it.

I was at around 2000, I will try 0 now.

> ground plane from the indirect calculation with a -ae option.

There is none. I use the sky/ground-sphere only. It is the building's 
dimensions related to its details.

Thank you for your help! CU Lars.


From captainb at cb-d.de  Fri Sep 15 14:53:33 2006
From: captainb at cb-d.de (Carsten Bauer)
Date: Fri Sep 15 14:53:40 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>
References: <4506A61F.4000305@gmx.net>
	<4508428A.2000203@visarc.com>	<450A5276.8010201@gmx.net>
	<766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>
Message-ID: <450AA24D.1090301@cb-d.de>

Gregory J. Ward wrote:

> 
>> Is there a patch for current radiance that allows an alternative
>> modifier (like void) for the indirect calculation? That is available
>> in Radzilla and might be very helpful, as I have colorpict maps on
>> most surfaces.
> 
> There is no such hack.  It's not really physical, is the problem.
> 

Hi Greg,

Since a long time already I have come to the conclusion that its better
to stay out of the discussion. I simply do some work based on and
inspired by the enourmous power and flexibility offered by Radiance,
including of course the fact that it is Open Source, and  quite
evidently this also means moving away form the original path, having a
different focus in mind, probably adressing a different group of users,
whatever.
So, to repeat myself, I normally avoid bothering the Radiance community
with my thoughts.

But being misunderstood is not a very nice feeling, so for an
exceptional case I dare to make a comment on this small example.
Please everyone don't feel offended :-) :-)

In the current example you have
a) a surface made out of a material with a complicated pattern, produced
either by a function or by mapping a photo. Its an architecture scene,
so the pattern is a common building material, marble, stone, wood,
whatever, showing a fine grain color modulation in the rage of some
millimeters or centimeters

b) you have a scene with bounding cube of some 10 meters to probably 100
meters, and an -ad setting of e.g. 1000. So ambient rays send out from
one point e.g. at the floor hit walls and other objects in the big room
at points maybe several 10 centimeters apart. How much of that fine
grain resolution of the applied pattern can really be sampled by this
'few' (1000 ambient rays *are* still few in a general sense) rays?

If you now specify an average color for that material, with correctly
determined values, I dare to state that this will be equally physical
correct in the limitations of the applied algorithm and general range of
accuracy the whole stochastic ray tracing method can provide.

I of course do not mean to set a blue paint as alternative ambient
material for a red painted wall. :-)

regards
-Carsten

PS: a lot of words for just one example, but this shows quite good how
difficult it is to avoid getting misunderstood.

PPS: unfortunately, experience has shown that the performace increase by
circumventing complicated pattern evaluations for the ambient rays is
only noticable for high ambient settings and scenes with lots of
pattern-modified surfaces (especially patterns which make heavy use of
the time consuming noise functions), then it can reach 10-15%, for low
ambient settings it is sometimes not noticable at all, so one really
cannot expect too much from this hack in this respect.

PPS: but there are other cases in which the alternative ambient material
can be useful, e.g. the topic of color bleeding (see the work of Marcus
Jacobs). Here it is a crude means to simulate the white balance adaption
occuring in the human visual system within the machine by simply
reducing the amount of color bleeding 'forwarded' by the ambient
calculation.
But this is a pure image generation issue, not a scientific one, so it
doesn't belong here in this list. Also, it is only an 'intuitive'
approach (probably there is even a way of performing this based on some
physio-psycho-physical model, but evidently I have by no means at all
the resources to pursue such an approach)

From gregoryjward at gmail.com  Fri Sep 15 15:10:17 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Sep 15 15:10:14 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <450A8D8A.3010800@gmx.net>
References: <4506A61F.4000305@gmx.net>
	<4508428A.2000203@visarc.com>	<450A5276.8010201@gmx.net>
	<766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>
	<450A8D8A.3010800@gmx.net>
Message-ID: <39E360E1-F9A4-45EE-AB5F-357C6F2FC928@gmail.com>

Hi Lars,

>> Just finished with the Radiance workshop, so catching up on e-mails.
>
> I am curious to hear about it, will there be a documentation cd  
> available again? Hope ou had a nice time.

Yes, John plans to assemble people's talks into a CD to share at  
radiance-online.  I'm sure he'll announce it when it's available.

>> The "glow" type with an effective radius still illuminates the  
>> scene correctly.  Base your radius on the distance over which you  
>> expect your sources to be important.  Past that distance, they  
>> will be considered as "indirect" sources.  One important caveat:   
>> the smaller and brighter they are, the more artifacts you will see  
>> from them if your radius is too small.
>
> I will hide it behind an illum. The configuration is as follows: I  
> group my (artificial) light sources and define one illum sphere per  
> groups of sources. That way, first I will have much less sources in  
> the indirect calculation, and second avoid these artefacts.  
> Actually I was not aware about the advantage of using glow instead  
> of light modified sources. The actual sources are small oil lamps,  
> which I expect to be effective only indirect a groups - the room is  
> too large compared to the lamps.

This should work fine.  You should set your glow radius to the  
diameter of your illum sphere -- assuming you are using a sphere to  
enclose them.  Radiance will ignore all glows inside an illum, as  
this is a recommended optimization for light sources.

>> Another tip to reduce calculation time if you are using a recent  
>> version of Radiance (3.6 or later) is that large surfaces in the  
>> main octree will be tracked in the shadow cache.  Neither  
>> instances nor meshes will work as obstructors, so if you must  
>> instantiate geometry, leave at least some large occluders in the  
>> main octree to help in the shadow cache.
>
> ;-) Do you know my model that well? Thank you, this may help a lot.  
> My model is build up in a hierarchic way, with the top elements  
> often being instances. Maybe I should even accept overlaps just to  
> get some occluders without changing the model too much. If I keep  
> the visible geometry in instances, but have some large faces in the  
> main octree a approximations to these main elements, which are  
> invisible because completely covered by the instances' geometry,  
> should I expect some performance gain from the shadow cache?

You should.  I coded the shadow cache to look for just such "hidden"  
occluders.

>> There is no such hack.  It's not really physical, is the problem.
>
> Yes, but it is useful to exclude patterns and textures from the  
> ambient and stay with the base modifier.

Apologies to Carsten for my careless remark.  Of course, it is  
possible to do this correctly so that it is physical.  Likewise,  
there are many non-physical things you can do in Radiance "classic"  
and care is required always if you are using any simulation as a  
predictive tool.  As Carsten pointed out in his e-mail, this only  
saves substantial time when the texture/pattern evaluation is  
expensive, as it is for complicated procedural descriptions.

Regarding Radzilla, I'll reiterate my previous position that I am  
delighted about this branch, and I see it as a great service to our  
little corner of the Open Source world.  It takes the burden off me  
when people ask for "artistic" additions to Radiance, which have a  
much better place now in Radzilla.  Thanks, Carsten!

-Greg

From MdelaFuente at wmtao.com  Fri Sep 15 16:25:02 2006
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Fri Sep 15 16:25:28 2006
Subject: [Radiance-general] Acad2004 Exporters?
Message-ID: <450A716D.B450.0049.0@wmtao.com>

Jack,
 
Actually, I have not tried to export any very large models with Torad.  However, exporting less then 100 polygons is pretty instantaneous.  I find that when 3D models are overly complex, they were drawn for architectural renderings and I end up re-drawing parts of them anyway.
 
"I guess I had not thought about Torad for quite some time. How are you 
finding the speed of the export process with Torad? I guess the nice 
things about this, is that there is probably a group of users who might 
be able to support this since we can actually see the source code."
 
As far as updating and maintaining, are there any legal issues with updating and/or modifying Torad?
 
Chris,
 
Thank you for your offer.  I may send you a simple model just to go through the process.
 
Mark
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060915/9cacb7ac/attachment.html
From captainb at cb-d.de  Sat Sep 16 02:33:23 2006
From: captainb at cb-d.de (Carsten Bauer)
Date: Sat Sep 16 02:33:28 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <39E360E1-F9A4-45EE-AB5F-357C6F2FC928@gmail.com>
References: <4506A61F.4000305@gmx.net>	<4508428A.2000203@visarc.com>	<450A5276.8010201@gmx.net>	<766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>	<450A8D8A.3010800@gmx.net>
	<39E360E1-F9A4-45EE-AB5F-357C6F2FC928@gmail.com>
Message-ID: <450B4653.5030302@cb-d.de>

Hi Greg,

no problem, it's allright with me :-) (I caught that phrase once in a
Phillip Marlowe movie ..)

The whole Radiance suite is simply too inspiring not only in terms of
application, but also in terms of experimenting with the code base and
with modifications and addons, as to leave all these paths untreaded.
But I couldn't agree more that all this must not have an influence on
the reliability and validation of the original code base.

And the whole point of physically realistic simulation definitely is not
an easy one, I don't mean the technical/software part right now, but the
expectations it can generate on the users side. Ok, everyone knows the
phrase 'garbage in, garbage out', but in reality life isn't that simple.
There are a lot of different steps between 100% rubbish and 100%
accurate, and accuracy itself is a relative term, accurate with respect
to which criteria? And sometimes it occurs to me like a two sided medal,
what makes Radiance so unique and useful in many fields of application,
makes it also unnecessarily difficult and restraint in other cases,
especially for those applications it wasn't made for originally :-),
regardless of the fact that it is nevertheless used for them. And that's
the interesting point then, stepping further or in different directions
without losing the contact to the roots.


many greetings
-Carsten

PS: Thank you for appreciating the radzilla branch. I mean, without your
work this would not be possible :-). The latter is evident of course,
but still worth to be mentioned.


-- 
---------------------------------------------------------

"Der Deckel mu? zugehen."    (P.K?lsch)

---------------------------------------------------------

From jedev at visarc.com  Sat Sep 16 15:03:50 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Sat Sep 16 15:04:31 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <450A8D8A.3010800@gmx.net>
References: <4506A61F.4000305@gmx.net>	<4508428A.2000203@visarc.com>	<450A5276.8010201@gmx.net>	<766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>
	<450A8D8A.3010800@gmx.net>
Message-ID: <450BF636.2010301@visarc.com>

Hi Lars, Greg, and Carsten,

First off. Carsten, it is always great to get you input and thoughts on 
Radiance related topics! So please please let us know your thoughts any 
time.

On the thread at hand. I just wanted to pass along to Lars. That after 
Greg's comments regarding the source occluder caching and 
instancing/meshes, I decided that I needed to do an experiment. Like 
you, we make heavy use of instancing to manage assembly of complex 
scenes from component parts. This is so much so that whole buildings 
will end up being an instance (even if though there is only one). From 
the standpoint of scene management this has been quite helpful. However 
after Greg's comments, I went back and recompiled a current scene making 
it "flat" (eg, no instances). All, I can say is WOW! The computation 
time was reduced significantly! So, now I am looking at the best way to 
add an option to produce flat scenes and make more sparing use of 
instancing in our scene management tool.

-Jack

Lars O. Grobe wrote:
> Hi Greg!
>
>> Just finished with the Radiance workshop, so catching up on e-mails.
>
> I am curious to hear about it, will there be a documentation cd 
> available again? Hope ou had a nice time.
>
>> The "glow" type with an effective radius still illuminates the scene 
>> correctly.  Base your radius on the distance over which you expect 
>> your sources to be important.  Past that distance, they will be 
>> considered as "indirect" sources.  One important caveat:  the smaller 
>> and brighter they are, the more artifacts you will see from them if 
>> your radius is too small.
>
> I will hide it behind an illum. The configuration is as follows: I 
> group my (artificial) light sources and define one illum sphere per 
> groups of sources. That way, first I will have much less sources in 
> the indirect calculation, and second avoid these artefacts. Actually I 
> was not aware about the advantage of using glow instead of light 
> modified sources. The actual sources are small oil lamps, which I 
> expect to be effective only indirect a groups - the room is too large 
> compared to the lamps.
>
>> Another tip to reduce calculation time if you are using a recent 
>> version of Radiance (3.6 or later) is that large surfaces in the main 
>> octree will be tracked in the shadow cache.  Neither instances nor 
>> meshes will work as obstructors, so if you must instantiate geometry, 
>> leave at least some large occluders in the main octree to help in the 
>> shadow cache.
>
> ;-) Do you know my model that well? Thank you, this may help a lot. My 
> model is build up in a hierarchic way, with the top elements often 
> being instances. Maybe I should even accept overlaps just to get some 
> occluders without changing the model too much. If I keep the visible 
> geometry in instances, but have some large faces in the main octree a 
> approximations to these main elements, which are invisible because 
> completely covered by the instances' geometry, should I expect some 
> performance gain from the shadow cache?
>
>> It's a curious idea.  I'm not sure whether or not it will help, but 
>> I'd love to see the results.
>
> I will try it. I think it highly depends on the point of view related 
> to the scene, but in my case it may help (important viewpoints all in 
> central hall-like room, window openings mainly in adjacent 
> aisles/galleries etc).
>
>> There is no such hack.  It's not really physical, is the problem.
>
> Yes, but it is useful to exclude patterns and textures from the 
> ambient and stay with the base modifier.
>
>> One other note -- you might try setting -ar 0 in your case.  If you 
>> have really large and small geometry that require enormous -ar 
>> settings, you may be better off without it.
>
> I was at around 2000, I will try 0 now.
>
>> ground plane from the indirect calculation with a -ae option.
>
> There is none. I use the sky/ground-sphere only. It is the building's 
> dimensions related to its details.
>
> Thank you for your help! CU Lars.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


From rpg at rumblestrip.org  Sun Sep 17 02:30:52 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sun Sep 17 02:32:12 2006
Subject: [Radiance-general] ambient resolution and memory
In-Reply-To: <450B4653.5030302@cb-d.de>
References: <4506A61F.4000305@gmx.net>	<4508428A.2000203@visarc.com>	<450A5276.8010201@gmx.net>	<766CA576-5B55-4012-8E33-AB76EE85106A@gmail.com>	<450A8D8A.3010800@gmx.net>
	<39E360E1-F9A4-45EE-AB5F-357C6F2FC928@gmail.com>
	<450B4653.5030302@cb-d.de>
Message-ID: <C36C078C-15EB-4BFE-A460-8AD05650F6DC@rumblestrip.org>

On Sep 15, 2006, at 6:33 PM, Carsten Bauer wrote:
> The whole Radiance suite is simply too inspiring...
>
> And the whole point of physically realistic simulation definitely  
> is not
> an easy one...

Brother, you said a mouthful there!

I just wanna say, Radiance, Radzilla and this great group of people  
who use these wonderful tools are all great.  No, I haven't been  
drinking, I just was caught by Carsten's quotes there.  Yesterday I  
submitted an application to speak at LIghtfair; they actually  
specifically want to host a seminar on Radiance this year.  As I was  
writing up the submittal, I was forced to think back through my whole  
learning process with Radiance and I have to say, the last five years  
have been great.  My discussions with Visarc Jack and Georg Mischler  
go back even farther than that (and all I can say is, all hail OS X,  
as it gives normal people access to a unix command line without the  
headaches of linux).

Anyway, I guess this is just a Saturday afternoon shoutout to the  
global Radiance community; keep up the good work!

From yunxian.ho at nyu.edu  Tue Sep 19 12:30:53 2006
From: yunxian.ho at nyu.edu (Yun-Xian Ho)
Date: Tue Sep 19 12:31:16 2006
Subject: [Radiance-general] Radiance and VRML
Message-ID: <d539de7c149db.450fe2fd@mail.nyu.edu>

Hi all,

Does anyone know of an easy way to convert radiance files to VRML 
files?

--xian

____________________________________________
yun-xian ho
e: yunxian.ho@nyu.edu
c: 917.374.7598 



From jedev at visarc.com  Tue Sep 19 14:57:22 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Sep 19 14:58:01 2006
Subject: [Radiance-general] Radiance and VRML
In-Reply-To: <d539de7c149db.450fe2fd@mail.nyu.edu>
References: <d539de7c149db.450fe2fd@mail.nyu.edu>
Message-ID: <450FE932.6030107@visarc.com>

Hi Xian,

One option is to convert to mgf and then to to inventor/vrml:

    rad2mgf -df myscene.rad > myscene.mgf
    (converts to mgf format with units in feet)
    mgf2inv -vrml mscene.mgf > myscene.vrml
    (converts to vrml 1.0)

mgf2inv converts to vrml 1.0, inventor 1.0 and inventor 2.0

More about mfg can be found at:

    http://radsite.lbl.gov/mgf/mgfhtml/intro.html

-Jack

Yun-Xian Ho wrote:
> Hi all,
>
> Does anyone know of an easy way to convert radiance files to VRML 
> files?
>
> --xian
>
> ____________________________________________
> yun-xian ho
> e: yunxian.ho@nyu.edu
> c: 917.374.7598 
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060919/b31e8a58/attachment.htm
From webmaster at audice.com  Wed Sep 20 09:34:46 2006
From: webmaster at audice.com (webmaster@audice.com)
Date: Wed Sep 20 09:39:05 2006
Subject: [Radiance-general] BRDF material description
In-Reply-To: <49844AE8-4E50-4B13-A97A-296105671E3D@gmail.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>
	<1223049047.20060907232027@audice.com>
	<49844AE8-4E50-4B13-A97A-296105671E3D@gmail.com>
Message-ID: <56953764.20060920113446@audice.com>

Dear Greg,

Thank you very much for your highly detailed answer to my question!
Unfortunately, I'd like to ask you another (this time Ward model
related).

Where can I enter these Ward-Duer fits in Radiance? I have not
found any Ward model associated .cal scripts in Radiance. There is
only He-Torrence (He.cal, He3.cal) model.

The Radiance materials themself are based on a Ward model I suppose?!
But where can I enter these values? BRTDfunc material description
needs a corresponding .cal script file to work?! Other material types,
like anisotrophic version of plastic, do not have enough parameters to
specify associated data.

I use Radiance v3.7.2 (cygwin/X build).

I'm sorry for taking your time!

GJW> Looks like no one replied to this one...

>> From: webmaster@audice.com
>> Date: September 7, 2006 8:20:27 PM BDT
>>
>> Hello!
>>
>> Does anyone have a BRDF-based radiance material descriptions for
>> spray-painted plaster, white plaster, white water paint, linoleum,
>> parquet?

GJW> Some measured and fitted data sets may be found on Wojceich Matusik's
GJW> pages at MERL:

GJW>         http://people.csail.mit.edu/wojciech/BRDFAnalysis/

GJW> Go to the "Supplemental Material" PDF to find a set of isotropic  
GJW> BRDFs with Ward reflectance model parameters.  Use thew Ward-Duer  
GJW> fits if you have the latest version of Radiance with Duer's  
GJW> corrections (vers. 3.6 and later).

>> The other question:
>> How can I make use of some measured reflectance data (like this -
>> http://www.graphics.cornell.edu/online/measurements/reflectance/ 
>> index.html) in Radiance?
>> Is there any way to reproduce such materials in Radiance?

GJW> The best way is to fit the data to the existing reflectance model in  
GJW> Radiance.  This way, you will avoid problems with sampling errors and
GJW> get the full BRDF behavior.  If the measured data does not fit the  
GJW> existing isotropic or anisotropic models, then you will have to enter
GJW> it as (preferably smoothed) data or create your own model.  In either
GJW> case, you will get the correct behavior only for reflections from  
GJW> light sources, and reflections from other (non-source) objects will  
GJW> be approximated as diffuse.

>> Radiance uses RGB components instead of wavelengths. It's tricky, but
>> we can turn to RGBs from wavelengths. At least we can use only 550nm
>> measured data for specific tasks. But for every incident ray we'll get
>> a whole hemispherical distribution, while in Radiance material
>> descriptions like plasdata, metdata it seems we do not have any means
>> to describe this distribution. There is only an incident light and
>> corresponding RGB reflectance (specular I suppose?). Is it right?!

GJW> The "plasdata" type has a white specular component and "metdata" has  
GJW> a specular component that matches the RGB color given.  These will be
GJW> very close to real materials -- in general it's one or the other.   
GJW> Variations between would arise if you mixed two such materials, like  
GJW> a metallic car paint with a clear coat.  In such cases, you could  
GJW> employ a mixfunc to obtain the desired behavior, or go whole-hog with
GJW> the BRTDfunc type, though this would be rather more work as you would
GJW> need to incorporate your data into the associated *.cal file using  
GJW> nested select() functions (not fun).

GJW> Ignoring color, both "plastdata" and "metdata" both provide the means
GJW> to specify a full BRDF, since the indices to the N-dimensional data  
GJW> are actually functions of the incident light direction vector.  For  
GJW> example, you could give:

GJW> void plasdata bad_example
GJW> 7 noop bad.dat brdfang.cal inc_alt inc_azi refl_alt refl_azi
GJW> 0
GJW> 4 0.5 0.7 0.3 0.05

GJW> Where "brdfang.cal" is something like:

GJW> { Compute incident and reflected altitude and azimuth angles in  
GJW> degrees }
GJW> inc_alt(sx,sy,sz) = asin(sz) / DEGREE;
GJW> inc_azi(sx,sy,sz) = atan2(sy,sx) / DEGREE;
GJW> refl_alt(sx,sy,sz) = asin(Dz) / DEGREE;
GJW> refl_azi(sx,sy,sz) = atan2(Dy,Dx) / DEGREE;

GJW> These variables then would serve as indices to your 4-dimensional  
GJW> data in "bad.dat":

GJW> # BRDF measurements, incident altitude and azimuth first, then  
GJW> reflected alt & azi
GJW> 4
GJW> -90 90  22
GJW> -180 180  44
GJW> -90 90  15
GJW> -180 180  30
GJW> # 22 * 44 * 15 * 30 == 435,600 data points
GJW> ...

GJW> Perhaps at this point you are beginning to see why no examples of  
GJW> plasdata and metdata have appeared on the mailing list.

>> But where is diffuse component to declare?

GJW> The diffuse component would the minimum value of your BRDF, which you
GJW> would subtract from every point as a constant Lambertian component.   
GJW> Since the BRDF of a diffuse surface is everywhere rho/pi, you would  
GJW> multiply this constant by pi and specify it as your diffuse  
GJW> reflectance.  For proper normalization, you would further divide your
GJW> remaining directional BRDF by the specular component value, since it  
GJW> will be remultiplied by the specularity in plasdata and metdata.

>> I searched thru the mailing list archives, looked in the digest and
>> didn't find any answer related to my question.

GJW> I'm not sure this question has been properly answered before.  I'm  
GJW> not sure it has now, either.

GJW> -Greg

-- 
Best Regards,
Ilya A. Zimnovich                          mailto:webmaster@audice.com


From jedev at visarc.com  Wed Sep 20 16:28:03 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Sep 20 16:28:50 2006
Subject: [Radiance-general] Re: rad to wrl
In-Reply-To: <d4f6bfc45ad4.451159aa@mail.nyu.edu>
References: <d4f6bfc45ad4.451159aa@mail.nyu.edu>
Message-ID: <45114FF3.9040701@visarc.com>

Hi Xian,

I really do not know that much about vrml. I just happened to know the 
possible translation pipeline.... I guess am not surprised that the file 
is large. How large is the corresponding radiance data? Are you also 
translating the materials? You will most likely need to have materials 
defined in vrml and perhaps even some lighting for proper display. I 
have posted this back to the list. Perhaps someone else has some insights?

-Jack

Yun-Xian Ho wrote:
> Hi Jack,
>
> I tried your suggested method of converting my rad file into vrml
> format. However, I encountered two problems: (1) the wrl file is HUGE
> (over 20mb) and one file can hardly be worth that much and (2) the wrl
> file will does not seem to be properly displayed by my browser which
> currently has cortona installed (including the VRML 1.0 converter).
> Links to to the .wrl file and the .ppm file can be found at the
> following links, respectively:
>
> http://homepages.nyu.edu/~yxh201/bumps_030.wrl
> http://homepages.nyu.edu/~yxh201/bumps_030.ppm
>
> Any suggestions?
>
> --xian
>
> ____________________________________________
> yun-xian ho
> e: yunxian.ho@nyu.edu
> c: 917.374.7598 
> -----------------------------
> Hi Xian,
>
> One option is to convert to mgf and then to to inventor/vrml:
>
>     rad2mgf -df myscene.rad > myscene.mgf
>     (converts to mgf format with units in feet)
>     mgf2inv -vrml mscene.mgf > myscene.vrml
>     (converts to vrml 1.0)
>
> mgf2inv converts to vrml 1.0, inventor 1.0 and inventor 2.0
>
> More about mfg can be found at:
>
>     http://radsite.lbl.gov/mgf/mgfhtml/intro.html
>
> -Jack
>
> ---------------------------
>
> Hi all,
>
> Does anyone know of an easy way to convert radiance files to VRML
> files?
>
> --xian
>
> ____________________________________________
> yun-xian ho
> e: yunxian.ho@nyu.edu
> c: 917.374.7598 
>
>
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From gregoryjward at gmail.com  Wed Sep 20 16:55:55 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed Sep 20 16:55:49 2006
Subject: [Radiance-general] BRDF material description
In-Reply-To: <56953764.20060920113446@audice.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5018C43A9@ldcexc02.global.arup.com>
	<1223049047.20060907232027@audice.com>
	<49844AE8-4E50-4B13-A97A-296105671E3D@gmail.com>
	<56953764.20060920113446@audice.com>
Message-ID: <A2AF028E-BDCA-4E0E-B81A-288A9C8A0EE8@gmail.com>

Hello Ilya,

I don't have a very fast network connection, and can't remember  
exactly what parameters are given in Ngan et al's supplement.  You  
basically have to ignore the color of the specular component for the  
plastic and metal materials, which use the Ward-Duer reflection  
model.  Is that what's worrying you?

-Greg

> From: webmaster@audice.com
> Date: September 20, 2006 8:34:46 AM BDT
>
> Dear Greg,
>
> Thank you very much for your highly detailed answer to my question!
> Unfortunately, I'd like to ask you another (this time Ward model
> related).
>
> Where can I enter these Ward-Duer fits in Radiance? I have not
> found any Ward model associated .cal scripts in Radiance. There is
> only He-Torrence (He.cal, He3.cal) model.
>
> The Radiance materials themself are based on a Ward model I suppose?!
> But where can I enter these values? BRTDfunc material description
> needs a corresponding .cal script file to work?! Other material types,
> like anisotrophic version of plastic, do not have enough parameters to
> specify associated data.
>
> I use Radiance v3.7.2 (cygwin/X build).
>
> I'm sorry for taking your time!
> -- 
> Best Regards,
> Ilya A. Zimnovich                          mailto:webmaster@audice.com

From yunxian.ho at gmail.com  Wed Sep 20 23:26:55 2006
From: yunxian.ho at gmail.com (Yun-Xian Ho)
Date: Wed Sep 20 23:27:05 2006
Subject: [Radiance-general] Re: rad to wrl
In-Reply-To: <45114FF3.9040701@visarc.com>
References: <d4f6bfc45ad4.451159aa@mail.nyu.edu> <45114FF3.9040701@visarc.com>
Message-ID: <4511B21F.4060401@gmail.com>

Hi Jack,

The radiance data is 50kb. Not very large at all. And I am translating 
the materials and light as well in one line with rad2mgf. It seems that 
the output in the vrml file contains many of the following lines 
repeated with different values:

# Unsupported RADIANCE primitive:
# gray_plastic texfunc Phong
# 4 surf_dx surf_dy surf_dz surf.cal
# 0
# 13 2 0303123 ...

Clues?

--xian

Jack de Valpine wrote:
> Hi Xian,
>
> I really do not know that much about vrml. I just happened to know the 
> possible translation pipeline.... I guess am not surprised that the 
> file is large. How large is the corresponding radiance data? Are you 
> also translating the materials? You will most likely need to have 
> materials defined in vrml and perhaps even some lighting for proper 
> display. I have posted this back to the list. Perhaps someone else has 
> some insights?
>
> -Jack
>
> Yun-Xian Ho wrote:
>> Hi Jack,
>>
>> I tried your suggested method of converting my rad file into vrml
>> format. However, I encountered two problems: (1) the wrl file is HUGE
>> (over 20mb) and one file can hardly be worth that much and (2) the wrl
>> file will does not seem to be properly displayed by my browser which
>> currently has cortona installed (including the VRML 1.0 converter).
>> Links to to the .wrl file and the .ppm file can be found at the
>> following links, respectively:
>>
>> http://homepages.nyu.edu/~yxh201/bumps_030.wrl
>> http://homepages.nyu.edu/~yxh201/bumps_030.ppm
>>
>> Any suggestions?
>>
>> --xian
>>
>> ____________________________________________
>> yun-xian ho
>> e: yunxian.ho@nyu.edu
>> c: 917.374.7598 -----------------------------
>> Hi Xian,
>>
>> One option is to convert to mgf and then to to inventor/vrml:
>>
>>     rad2mgf -df myscene.rad > myscene.mgf
>>     (converts to mgf format with units in feet)
>>     mgf2inv -vrml mscene.mgf > myscene.vrml
>>     (converts to vrml 1.0)
>>
>> mgf2inv converts to vrml 1.0, inventor 1.0 and inventor 2.0
>>
>> More about mfg can be found at:
>>
>>     http://radsite.lbl.gov/mgf/mgfhtml/intro.html
>>
>> -Jack
>>
>> ---------------------------
>>
>> Hi all,
>>
>> Does anyone know of an easy way to convert radiance files to VRML
>> files?
>>
>> --xian
>>
>> ____________________________________________
>> yun-xian ho
>> e: yunxian.ho@nyu.edu
>> c: 917.374.7598
>>
>>
>>
>>   
>


-- 
yunxian.ho@gmail.com
http://homepages.nyu.edu/~yxh201
somewhere in deutscheland (sept 01 - nov 16)


From jedev at visarc.com  Thu Sep 21 01:21:08 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 21 01:21:47 2006
Subject: [Radiance-general] Re: rad to wrl
In-Reply-To: <4511B21F.4060401@gmail.com>
References: <d4f6bfc45ad4.451159aa@mail.nyu.edu> <45114FF3.9040701@visarc.com>
	<4511B21F.4060401@gmail.com>
Message-ID: <4511CCE4.6000503@visarc.com>

Hi Xian,

OK, well 20M from 50K probably means something is not quite right. I am 
pretty sure that you are not going to be able to translate Radiance 
modifiers such as "texfunc" to vrml. I expect you will only be able to 
translate basic materials such as plastic, metal or glass. Probably the 
first the to do is define some simple geometry with a basic material 
applied and see if you can get that to work. If this works then for your 
geometry you probably need to define an alternate set of materials using 
just the base material types.

-Jack

Yun-Xian Ho wrote:
> Hi Jack,
>
> The radiance data is 50kb. Not very large at all. And I am translating 
> the materials and light as well in one line with rad2mgf. It seems 
> that the output in the vrml file contains many of the following lines 
> repeated with different values:
>
> # Unsupported RADIANCE primitive:
> # gray_plastic texfunc Phong
> # 4 surf_dx surf_dy surf_dz surf.cal
> # 0
> # 13 2 0303123 ...
>
> Clues?
>
> --xian
>
> Jack de Valpine wrote:
>> Hi Xian,
>>
>> I really do not know that much about vrml. I just happened to know 
>> the possible translation pipeline.... I guess am not surprised that 
>> the file is large. How large is the corresponding radiance data? Are 
>> you also translating the materials? You will most likely need to have 
>> materials defined in vrml and perhaps even some lighting for proper 
>> display. I have posted this back to the list. Perhaps someone else 
>> has some insights?
>>
>> -Jack
>>
>> Yun-Xian Ho wrote:
>>> Hi Jack,
>>>
>>> I tried your suggested method of converting my rad file into vrml
>>> format. However, I encountered two problems: (1) the wrl file is HUGE
>>> (over 20mb) and one file can hardly be worth that much and (2) the wrl
>>> file will does not seem to be properly displayed by my browser which
>>> currently has cortona installed (including the VRML 1.0 converter).
>>> Links to to the .wrl file and the .ppm file can be found at the
>>> following links, respectively:
>>>
>>> http://homepages.nyu.edu/~yxh201/bumps_030.wrl
>>> http://homepages.nyu.edu/~yxh201/bumps_030.ppm
>>>
>>> Any suggestions?
>>>
>>> --xian
>>>
>>> ____________________________________________
>>> yun-xian ho
>>> e: yunxian.ho@nyu.edu
>>> c: 917.374.7598 -----------------------------
>>> Hi Xian,
>>>
>>> One option is to convert to mgf and then to to inventor/vrml:
>>>
>>>     rad2mgf -df myscene.rad > myscene.mgf
>>>     (converts to mgf format with units in feet)
>>>     mgf2inv -vrml mscene.mgf > myscene.vrml
>>>     (converts to vrml 1.0)
>>>
>>> mgf2inv converts to vrml 1.0, inventor 1.0 and inventor 2.0
>>>
>>> More about mfg can be found at:
>>>
>>>     http://radsite.lbl.gov/mgf/mgfhtml/intro.html
>>>
>>> -Jack
>>>
>>> ---------------------------
>>>
>>> Hi all,
>>>
>>> Does anyone know of an easy way to convert radiance files to VRML
>>> files?
>>>
>>> --xian
>>>
>>> ____________________________________________
>>> yun-xian ho
>>> e: yunxian.ho@nyu.edu
>>> c: 917.374.7598
>>>
>>>
>>>
>>>   
>>
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From sanyogitamanu at gmail.com  Thu Sep 21 07:44:30 2006
From: sanyogitamanu at gmail.com (Sanyogita Manu)
Date: Thu Sep 21 07:44:35 2006
Subject: [Radiance-general] simulation problems
Message-ID: <6ccb54910609202244j547dd4eci4c817fea58a05e26@mail.gmail.com>

hi...

i've recently started using radiance so the query i have might sound very
basic. i'm using radiance with acad 14. when i try to start the simulation a
windows system window at dos prompt opens up and mentions a missing file
function. i dont know if it is an installation problem. kindly help in this
regard as i'm unable to go any further....

also please let me know from where i can learn about using radiance with
ecotect (i already have it).

thanks
sanyogita
india
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060921/295b8c87/attachment.html
From grobe at gmx.net  Thu Sep 21 07:54:23 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Sep 21 07:54:27 2006
Subject: [Radiance-general] simulation problems
In-Reply-To: <6ccb54910609202244j547dd4eci4c817fea58a05e26@mail.gmail.com>
References: <6ccb54910609202244j547dd4eci4c817fea58a05e26@mail.gmail.com>
Message-ID: <4512290F.7030201@gmx.net>

> missing file function.

Hi!

I guess it doesn't find a required function file (something ending with 
.cal). If this is the case, you should set the RAYPATH environment 
variable. It must include the path where the files ending .cal have been 
installed on your computer, often this is a directory called lib or 
library in your radiance installation.

I do not know how to set the variable, as this changes with every 
version of windows and I am not an experienced user of that system at 
all. If you do not know, find it in the documentation or ask some 
windows admin.

Good luck!

Lars.


From grobe at gmx.net  Thu Sep 21 08:36:03 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Sep 21 08:36:07 2006
Subject: [Radiance-general] Re: rad to wrl
In-Reply-To: <4511CCE4.6000503@visarc.com>
References: <d4f6bfc45ad4.451159aa@mail.nyu.edu>
	<45114FF3.9040701@visarc.com>	<4511B21F.4060401@gmail.com>
	<4511CCE4.6000503@visarc.com>
Message-ID: <451232D3.6050504@gmx.net>

Hi,

a note, vrml1 is tricky today. Also, there might be an alternative. If 
you manage to get Renderpark to run, it can load mgf and write 
precalculated (radiosity) vrml. Modifying mgf2inv to write vrml2 or x3d 
would also be great.

You can use grep to filter out all lines starting with #. That will 
reduce files size and should give working scenes.

Lars.


From gurneet.singh at gmail.com  Thu Sep 21 11:21:28 2006
From: gurneet.singh at gmail.com (G.S.Monga)
Date: Thu Sep 21 11:21:50 2006
Subject: [Radiance-general] simulation problems
References: <6ccb54910609202244j547dd4eci4c817fea58a05e26@mail.gmail.com>
Message-ID: <009801c6dd5f$56e70490$6700a8c0@gurneet>

>>also please let me know from where i can learn about using radiance with ecotect (i already have it). 

there is one very simple example/tutorial in ecotect wherein it described how to export to radinace from ecotect.

Regards

Gurneet Singh
Energy Analyst/Architect
  ----- Original Message ----- 
  From: Sanyogita Manu 
  To: radiance-general@radiance-online.org 
  Sent: Thursday, September 21, 2006 11:14 AM
  Subject: [Radiance-general] simulation problems


  hi...

  i've recently started using radiance so the query i have might sound very basic. i'm using radiance with acad 14. when i try to start the simulation a windows system window at dos prompt opens up and mentions a missing file function. i dont know if it is an installation problem. kindly help in this regard as i'm unable to go any further.... 

  also please let me know from where i can learn about using radiance with ecotect (i already have it).

  thanks
  sanyogita
  india


------------------------------------------------------------------------------


  _______________________________________________
  Radiance-general mailing list
  Radiance-general@radiance-online.org
  http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060921/62bdc01f/attachment.htm
From ndoylend at battlemccarthy.com  Fri Sep 22 13:41:05 2006
From: ndoylend at battlemccarthy.com (Nick Doylend)
Date: Fri Sep 22 13:41:20 2006
Subject: [Radiance-general] BRE Vertical Sky Component Calculations
Message-ID: <6DEC377FFC82574CA8D35173808330BC01099284@bart.battlemccarthy.com>

Hello,  I've been looking at VSC calculations using Ecotect but have little
confidence in the results.  I wonder if I can get some guidance on using
Radiance for this kind of calculation.  I'm thinking perhaps I can set up a
CIE overcast sky and turn off the effect of all reflected light.  Then I
could compare the amount of light falling first on an unobstructed
horizontal plane, then on an unobstructed vertical surface, and finally on
the centre points of all the windows on the building, taking into account
the shading provided by the surrounding buildings.  Can anyone advise me on
the best way of doing this?

Thanks for your help,

Nick Doylend



From T-Bleicher at bdp.co.uk  Fri Sep 22 15:00:35 2006
From: T-Bleicher at bdp.co.uk (Bleicher, Thomas)
Date: Fri Sep 22 15:02:26 2006
Subject: [Radiance-general] BRE Vertical Sky Component Calculations
Message-ID: <FCCB55B3313F2341AB3C91810FE1166B013E520E@ln-s3xch1.bdp.holdings.network>


Nick.

I've done that a evaluation of that sort of calculation
a while ago.

If you use rtrace you will get a reference value from
the horizontal plane calculation. You don't need to create
a new model for that, just select a point higher than the
scene geometry. This reference value is your 100% VSC.
You have to normalise the results of your window calculations
to that value.

You can also specify a sky with a nice diffuse illumination
(say 10000 lux, gensky option '-B 55.866') and use the
results of the following rtrace calculations directly.

For the model setup:
a) use a 0% reflectance for the geometry in your scene
   no ground glow or a black ground plane

or b) use only one bounce (-ab 1) for the rtrace
   calculation (you need that one bounce because rtrace
   creates a virtual plane at the sample point and
   calculates the light falling on that plane)
   You still have to eliminate the ground glow.

Because you have a low '-ab' you can increase '-ad'
quite a bit to suit your geometry details. 

If you want to verify your methods, you can calculate
the geometric obstruction of a simple setup (like a
straight wall) according to established methods and
compare that to your Radiance calculations.

You still have to create an input file for rtrace
that contains all the centre points of the windows
(outside wall surface). Getting those will be the
most time consuming task.

HTH,
Thomas
   

> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org 
> [mailto:radiance-general-bounces@radiance-online.org] On 
> Behalf Of Nick Doylend
> Sent: 22 September 2006 12:41
> To: 'radiance-general@radiance-online.org'
> Subject: [Radiance-general] BRE Vertical Sky Component Calculations
> 
> Hello,  I've been looking at VSC calculations using Ecotect 
> but have little confidence in the results.  I wonder if I can 
> get some guidance on using Radiance for this kind of 
> calculation.  I'm thinking perhaps I can set up a CIE 
> overcast sky and turn off the effect of all reflected light.  
> Then I could compare the amount of light falling first on an 
> unobstructed horizontal plane, then on an unobstructed 
> vertical surface, and finally on the centre points of all the 
> windows on the building, taking into account the shading 
> provided by the surrounding buildings.  Can anyone advise me 
> on the best way of doing this?
> 
> Thanks for your help,
> 
> Nick Doylend
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 

***********************************************************************************
This e-mail, (and any attachments) is confidential and may be privileged.  It may be read, copied and used by the intended addressee only.  If you have received this in error please contact BDP immediately. 

If you have any queries, please contact the sender.
***********************************************************************************
Building Design Partnership
Registered in England No 2207415:
Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
***********************************************************************************

From jelle.feringa at ezct.net  Mon Sep 25 21:48:49 2006
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Mon Sep 25 21:46:31 2006
Subject: [Radiance-general] instance primitive & xform
Message-ID: <005c01c6e0db$a09e0cd0$c000a8c0@JELLE>

Hi!

 

I just tried to use the powerful 'instance' primitive, which is working fine
unless I try to use a repeated (array) transform:

 

void instance 001

8 ./Oct/s_enn.oct  -a -t 0 0 0.0064 -i 200

0

0

 

Results in:

 

oconv: fatal - bad transform for instance "001"

 

So clearly I'm doing something wrong here.

As far as I understand I do need the -a flag to repeat transform, right?

 

I'm testing a scene with very, very dense louvers, which is a perfectly
suitable case for instances I reckon.

For this scene I'm required to use the pmap/radzilla fork of Radiance.

Am I assuming correctly that the 'instance' primitive is supported in
(either?) of these versions?

 

Cheers,

 

-jelle

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060925/3922a0e8/attachment.html
From Giulio.Antonutto at arup.com  Mon Sep 25 22:14:39 2006
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Mon Sep 25 22:14:45 2006
Subject: [Radiance-general] instance primitive & xform
Message-ID: <CC0B19F4C6132F4D9FDDEBF194200FB5019F2EE2@ldcexc02.global.arup.com>

I guess this is the trouble,

-a 1 -t..... -i 200

a missing 1

:-)

ciao

G.

 

 

 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jelle
Feringa / EZCT Architecture & Design Research
Sent: 25 September 2006 20:49
To: radiance-general@radiance-online.org
Subject: [Radiance-general] instance primitive & xform

 

Hi!

 

I just tried to use the powerful 'instance' primitive, which is working
fine unless I try to use a repeated (array) transform:

 

void instance 001

8 ./Oct/s_enn.oct  -a -t 0 0 0.0064 -i 200

0

0

 

Results in:

 

oconv: fatal - bad transform for instance "001"

 

So clearly I'm doing something wrong here...

As far as I understand I do need the -a flag to repeat transform, right?

 

I'm testing a scene with very, very dense louvers, which is a perfectly
suitable case for instances I reckon.

For this scene I'm required to use the pmap/radzilla fork of Radiance.

Am I assuming correctly that the 'instance' primitive is supported in
(either?) of these versions?

 

Cheers,

 

-jelle

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060925/8052f751/attachment.htm
From Giulio.Antonutto at arup.com  Mon Sep 25 22:20:59 2006
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Mon Sep 25 22:21:19 2006
Subject: [Radiance-general] instance primitive & xform
Message-ID: <CC0B19F4C6132F4D9FDDEBF194200FB5019F2EE5@ldcexc02.global.arup.com>

btw,

if the louvers shape is not well fit inside of a cube you may think of
grouping more louvers in a 'meta' instance to help radiance...

now rushing home,

ciao

G.

 

 

 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Giulio Antonutto
Sent: 25 September 2006 21:15
To: Radiance general discussion
Subject: RE: [Radiance-general] instance primitive & xform

 

I guess this is the trouble,

-a 1 -t..... -i 200

a missing 1

:-)

ciao

G.

 

 

 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jelle
Feringa / EZCT Architecture & Design Research
Sent: 25 September 2006 20:49
To: radiance-general@radiance-online.org
Subject: [Radiance-general] instance primitive & xform

 

Hi!

 

I just tried to use the powerful 'instance' primitive, which is working
fine unless I try to use a repeated (array) transform:

 

void instance 001

8 ./Oct/s_enn.oct  -a -t 0 0 0.0064 -i 200

0

0

 

Results in:

 

oconv: fatal - bad transform for instance "001"

 

So clearly I'm doing something wrong here...

As far as I understand I do need the -a flag to repeat transform, right?

 

I'm testing a scene with very, very dense louvers, which is a perfectly
suitable case for instances I reckon.

For this scene I'm required to use the pmap/radzilla fork of Radiance.

Am I assuming correctly that the 'instance' primitive is supported in
(either?) of these versions?

 

Cheers,

 

-jelle

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060925/aa48b9e3/attachment.html
From gregoryjward at gmail.com  Mon Sep 25 22:34:38 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon Sep 25 22:34:28 2006
Subject: [Radiance-general] instance primitive & xform
In-Reply-To: <005c01c6e0db$a09e0cd0$c000a8c0@JELLE>
References: <005c01c6e0db$a09e0cd0$c000a8c0@JELLE>
Message-ID: <B4D71A09-DAC5-46B2-B494-7C2485F83EAA@gmail.com>

Hi Jelle,

The -a option is supported by xform, only.  When it is applied, xform  
replaces a single file with many copies, each using the -i option to  
indicate how many times to apply each transform.  In short, you need  
to create a file with a single instance in it and call it using ! 
xform with the -a option to get multiple copies.

Be sure to pay attention to the tips in the reference manual <http:// 
radsite.lbl.gov/radiance/refer/ray.html#Surfaces> about when and how  
to use instances.  In particular, instances work best with cubicle  
volumes (ideal) or at least square-ish pieces to avoid too many  
overlapping instance boundaries, which are always cubes.

-Greg

> From: "Jelle Feringa / EZCT Architecture & Design Research"  
> <jelle.feringa@ezct.net>
> Date: September 25, 2006 8:48:49 PM BDT
> Hi!
>
> I just tried to use the powerful ?instance? primitive, which is  
> working fine unless I try to use a repeated (array) transform:
>
> void instance 001
>
> 8 ./Oct/s_enn.oct  -a -t 0 0 0.0064 -i 200
>
> 0
>
> 0
>
> Results in:
>
>
>
> oconv: fatal - bad transform for instance "001"
>
>
>
> So clearly I?m doing something wrong here?
>
> As far as I understand I do need the ?a flag to repeat transform,  
> right?
>
>
>
> I?m testing a scene with very, very dense louvers, which is a  
> perfectly suitable case for instances I reckon.
>
> For this scene I?m required to use the pmap/radzilla fork of Radiance.
>
> Am I assuming correctly that the ?instance? primitive is supported  
> in (either?) of these versions?
>
>
>
> Cheers,
>
>
>
> -jelle
>

From jedev at visarc.com  Mon Sep 25 22:40:04 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Sep 25 22:40:37 2006
Subject: [Radiance-general] instance primitive & xform
In-Reply-To: <005c01c6e0db$a09e0cd0$c000a8c0@JELLE>
References: <005c01c6e0db$a09e0cd0$c000a8c0@JELLE>
Message-ID: <45183EA4.7080508@visarc.com>

Hi Jelle and Giulio,

I may be about to learn something here, but as far as I understand I do 
not think you can do this the way you are trying to. I know for certain 
what will work is the following:

step 1: define your instance such as inst.rad

void instance test
1 some-instance.oct
0
0

step 2: to deploy your instance in an array use a call to xform perhaps 
in its own file (or in some scene description) such as array.rad

!xform -a 10 -t 10 0 0 inst.rad

this will make an array in X of inst.rad repeated 10 time at unit 
intervals of 10.

-Jack

Jelle Feringa / EZCT Architecture & Design Research wrote:
>
> Hi!
>
>  
>
> I just tried to use the powerful 'instance' primitive, which is 
> working fine unless I try to use a repeated (array) transform:
>
>  
>
> void instance 001
>
> 8 ./Oct/s_enn.oct  -a -t 0 0 0.0064 -i 200
>
> 0
>
> 0
>
>  
>
> Results in:
>
>  
>
> oconv: fatal - bad transform for instance "001"
>
>  
>
> So clearly I'm doing something wrong here...
>
> As far as I understand I do need the --a flag to repeat transform, right?
>
>  
>
> I'm testing a scene with very, very dense louvers, which is a 
> perfectly suitable case for instances I reckon.
>
> For this scene I'm required to use the pmap/radzilla fork of Radiance.
>
> Am I assuming correctly that the 'instance' primitive is supported in 
> (either?) of these versions?
>
>  
>
> Cheers,
>
>  
>
> -jelle
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060925/e408c34c/attachment.htm
From jelle.feringa at ezct.net  Tue Sep 26 10:16:16 2006
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Tue Sep 26 10:12:00 2006
Subject: [Radiance-general] instances
Message-ID: <003801c6e144$0a915440$c000a8c0@JELLE>


	Hi Giulio,

	Many thanks for your reply, though I haven't been able to use:

	void instance 001
	9 ./Oct/s_enn.oct  -a 1 -t 0 0 0.0064 -i 200
	0
	0

	Also, still a bit in the dark concering your meta suggestion.
	Meta isn't a primitive in Radiance, or is it?
	Actually I know it only as a graphics format in Radiance?
	Hopefully I'm seriously overlooking something here?

	Cheers,

	-jelle


I guess this is the trouble,

-a 1 -t..... -i 200

a missing 1

:-)

ciao

G.

 



From Giulio.Antonutto at arup.com  Tue Sep 26 10:27:26 2006
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Tue Sep 26 10:27:34 2006
Subject: [Radiance-general] instances
Message-ID: <CC0B19F4C6132F4D9FDDEBF194200FB5019F2F87@ldcexc02.global.arup.com>

apologies for my 1st answer, it was wrong indeed :-(
see the reply from greg and jack... as a guidance on how to do it
properly
:-)

when I said 'meta' I was trying to say that you may group few louvers
together, may be a full high module and replicate this instead of
replicating the single louvers... nothing rocket science...

let me know if you manage.
ciao
G.


PS alternatively when the mesh is really big I use a mesh primitive...
but I guess you know already about.




-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jelle
Feringa / EZCT Architecture & Design Research
Sent: 26 September 2006 09:16
To: radiance-general@radiance-online.org
Subject: [Radiance-general] instances


	Hi Giulio,

	Many thanks for your reply, though I haven't been able to use:

	void instance 001
	9 ./Oct/s_enn.oct  -a 1 -t 0 0 0.0064 -i 200
	0
	0

	Also, still a bit in the dark concering your meta suggestion.
	Meta isn't a primitive in Radiance, or is it?
	Actually I know it only as a graphics format in Radiance?
	Hopefully I'm seriously overlooking something here?

	Cheers,

	-jelle


I guess this is the trouble,

-a 1 -t..... -i 200

a missing 1

:-)

ciao

G.

 



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From jelle.feringa at ezct.net  Tue Sep 26 12:27:30 2006
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Tue Sep 26 12:23:57 2006
Subject: [Radiance-general] instances
Message-ID: <004701c6e156$615b0570$c000a8c0@JELLE>



Dear Greg, Jack, Giulio,

Many thanks for all your responses!
Thanks, Greg for pointing out the error I made.
Thank you Jack for showing the right implementation!
This list should be added to Radiance' feature list!


Cheers,

jelle


From jelle.feringa at ezct.net  Tue Sep 26 12:30:13 2006
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Tue Sep 26 12:26:35 2006
Subject: [Radiance-general] instances
Message-ID: <004801c6e156$c09c8cc0$c000a8c0@JELLE>



Actually I've been using the 'mesh' primitive for not a long time, since
Radiance on win32 was quite crippled until Francesco's Mingw compiled
version. Since rview wasn't part of this version of Radiance its cool to see
that NRV supports it nicely.

-jelle

	----
	PS alternatively when the mesh is really big I use a mesh
primitive...
	but I guess you know already about.
	----





From grobe at gmx.net  Tue Sep 26 13:14:29 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Sep 26 13:14:37 2006
Subject: [Radiance-general] instances
In-Reply-To: <004801c6e156$c09c8cc0$c000a8c0@JELLE>
References: <004801c6e156$c09c8cc0$c000a8c0@JELLE>
Message-ID: <45190B95.3090204@gmx.net>

Just if someone is not aware of it yet, there is a nice tool called 
replmarks in radiance distributions, that replaces triangles by meshes, 
instances or xform'ed geometry.

Very useful for controlling instances from CAD. The only limitation is 
that you cannot specify mirror transformations using it. And I do not 
know a converter that writes out instances/references/blocks/symbols in 
CAD files as their corresponding triangle markers, so you have to care 
about it yourself. In formZ, use the symbol detail level (e.g. detail 
level containing geometry, level 2 triangle) and you get the whole thing 
nicely integrated into your CAD/modeler.

CU Lars.


From jelle.feringa at ezct.net  Thu Sep 28 19:28:58 2006
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Thu Sep 28 19:24:54 2006
Subject: [Radiance-general] ambient setting for very large scenes
Message-ID: <00c101c6e323$95ac37d0$c000a8c0@JELLE>

Hi,

 

I'm struggling a little with setting my ambient parameters.

Thing is that my scene is far larger (~10000m) than my area of interest
(~90m), which is an interior scene.

If I follow the logic of 'setting radiance ambient parameters' part of Lash'
thesis, setting -ar should follow this formula:

 

minimum_distance_between_samples = (aa/max_scene_dimension) / ar

 

Which in my scene would lead to a -ar setting of ~5000. Which seems absurd
to me.

So what would be the appropriate thing to do here?

 

Many thanks,

 

-jelle

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060928/44a28084/attachment.htm
From rpg at rumblestrip.org  Thu Sep 28 20:00:34 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Sep 28 20:00:40 2006
Subject: [Radiance-general] ambient setting for very large scenes
In-Reply-To: <00c101c6e323$95ac37d0$c000a8c0@JELLE>
References: <00c101c6e323$95ac37d0$c000a8c0@JELLE>
Message-ID: <451C0DC2.7060400@rumblestrip.org>

Jelle Feringa / EZCT Architecture & Design Research wrote:
>
> I?m struggling a little with setting my ambient parameters.
>

Join the club! =8-)

> Which in my scene would lead to a ?ar setting of ~5000. Which seems 
> absurd to me.
>
> So what would be the appropriate thing to do here?
>

Absurd it is. This is a problem when you have a scene like yours. You 
want some distant object or scenery to be visible out the window, for 
example, so you put it in your model and then the images seem really 
flat or have light leaks because the -ar isn't high enough. One thing 
you could do is cheat, and place the objects closer to your area of 
interest than they really are, scaling them up a bit. This works for 
treelines and things like that, anyway. Another would be to exclude the 
distant objects from the ambient calculation with the -ae option, the 
problem there (and maybe some folks here have input on this) is that 
your objects are outside, your area of interest is inside, so your -av 
is likely to be too low for the exterior objects (which is how all the 
indirectly lit surfaces derive their radiance information when their 
materials are on the -ae list).

-ar 5000 would take forever to render!

Good luck, Jelle.

- Rob


From jedev at visarc.com  Thu Sep 28 20:33:39 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 28 20:34:22 2006
Subject: [Radiance-general] ambient setting for very large scenes
In-Reply-To: <451C0DC2.7060400@rumblestrip.org>
References: <00c101c6e323$95ac37d0$c000a8c0@JELLE>
	<451C0DC2.7060400@rumblestrip.org>
Message-ID: <451C1583.1080504@visarc.com>

Hi Rob and Jelle,

Although I have not tried this, what about rendering a light probe of 
the exterior environment (using parameters suitable for an exterior 
scene) and then using the light probe to supply the background for the 
interior scene?

-Jack

Rob Guglielmetti wrote:
> Jelle Feringa / EZCT Architecture & Design Research wrote:
>>
>> I?m struggling a little with setting my ambient parameters.
>>
>
> Join the club! =8-)
>
>> Which in my scene would lead to a ?ar setting of ~5000. Which seems 
>> absurd to me.
>>
>> So what would be the appropriate thing to do here?
>>
>
> Absurd it is. This is a problem when you have a scene like yours. You 
> want some distant object or scenery to be visible out the window, for 
> example, so you put it in your model and then the images seem really 
> flat or have light leaks because the -ar isn't high enough. One thing 
> you could do is cheat, and place the objects closer to your area of 
> interest than they really are, scaling them up a bit. This works for 
> treelines and things like that, anyway. Another would be to exclude 
> the distant objects from the ambient calculation with the -ae option, 
> the problem there (and maybe some folks here have input on this) is 
> that your objects are outside, your area of interest is inside, so 
> your -av is likely to be too low for the exterior objects (which is 
> how all the indirectly lit surfaces derive their radiance information 
> when their materials are on the -ae list).
>
> -ar 5000 would take forever to render!
>
> Good luck, Jelle.
>
> - Rob
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From rpg at rumblestrip.org  Thu Sep 28 21:00:20 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Sep 28 21:00:25 2006
Subject: [Radiance-general] ambient setting for very large scenes
In-Reply-To: <451C1583.1080504@visarc.com>
References: <00c101c6e323$95ac37d0$c000a8c0@JELLE>	<451C0DC2.7060400@rumblestrip.org>
	<451C1583.1080504@visarc.com>
Message-ID: <451C1BC4.7040505@rumblestrip.org>

Jack de Valpine wrote:
> Hi Rob and Jelle,
>
> Although I have not tried this, what about rendering a light probe of 
> the exterior environment (using parameters suitable for an exterior 
> scene) and then using the light probe to supply the background for the 
> interior scene?

Hiya Jack,

This was discussed at length on this list a couple years ago, I started 
the thread and I think my feeble understanding of lightprobes caused the 
discussion to get a bit scattered.  Bottom line: there are issues with 
this approach, especially if you are going for numeric accuracy, but I 
also think that Greg's mksource addition may have solved some of that 
(as I understand it, mksource is sorta like a "mkillum for lightprobes").

I still do not have a fisheye lens so my lightprobe experiments... have 
not begun.  Jack, I was really impressed with your presentation at the 
Workshop (actually, I was impressed with all of the ones I've read so 
far!), it renewed my interest in playing around with that stuff.  
Sliding off the topic a bit, has everyone seen the new Canon PowerShot 
G7 that's coming out next month?  It looks really nice, with film 
emulation up to ASA1600, and the all-important autobracket for us HDR 
heads, in a compact size (and a separate film speed dial!).  With a 10mp 
sensor, I'm really curious to see how well the ASA1600 pics come out, 
but even a low-noise 800 would make me really happy.  Guess I'll wait 
'till the folks at www.dpreview.com put it through its paces...

Anyhoo, the thread I mentioned way back in the first paragraph of this 
reply begins here:
http://www.radiance-online.org/pipermail/radiance-general/2003-May/000818.html

The discussion spills over into June, so look for those too.  For some 
reason the posts don't appear continuously even when sorted by thread.

- Rob

From jedev at visarc.com  Thu Sep 28 21:40:52 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 28 21:41:25 2006
Subject: [Radiance-general] ambient setting for very large scenes
In-Reply-To: <451C1BC4.7040505@rumblestrip.org>
References: <00c101c6e323$95ac37d0$c000a8c0@JELLE>	<451C0DC2.7060400@rumblestrip.org>	<451C1583.1080504@visarc.com>
	<451C1BC4.7040505@rumblestrip.org>
Message-ID: <451C2544.3020400@visarc.com>

Hey Rob,

Rob Guglielmetti wrote:
> Jack de Valpine wrote:
>> Hi Rob and Jelle,
>>
>> Although I have not tried this, what about rendering a light probe of 
>> the exterior environment (using parameters suitable for an exterior 
>> scene) and then using the light probe to supply the background for 
>> the interior scene?
>
> Hiya Jack,
>
> This was discussed at length on this list a couple years ago, I 
> started the thread and I think my feeble understanding of lightprobes 
> caused the discussion to get a bit scattered.  Bottom line: there are 
> issues with this approach, especially if you are going for numeric 
> accuracy, but I also think that Greg's mksource addition may have 
> solved some of that (as I understand it, mksource is sorta like a 
> "mkillum for lightprobes").
>
Well there you go. However, we do not what exactly Jelle's objectives 
are with respect to numeric accuracy. I would suggest to anyone 
interested to go back and read both May and June threads as Rob points 
out below. It is very interesting and suggests the method of mapping 
directly to the interior window surfaces to get both the environment 
mapping as well as the distribution output. I had been thinking of 
mapping to a source.
> I still do not have a fisheye lens so my lightprobe experiments... 
> have not begun.  Jack, I was really impressed with your presentation 
> at the Workshop (actually, I was impressed with all of the ones I've 
> read so far!), it renewed my interest in playing around with that stuff.  
Thanks! We are working on another night lighting project now where I 
hope to use similar techniques. One thing that is intriguing from a 
design standpoint, is when the architect says the want to try out some 
different things, the possibility is to actually run rtcontrib with all 
the needed sources (including optional ones and "what if") and then 
generating various images shows the possible scenarios as a result.
> Sliding off the topic a bit, has everyone seen the new Canon PowerShot 
> G7 that's coming out next month?  It looks really nice, with film 
> emulation up to ASA1600, and the all-important autobracket for us HDR 
> heads, in a compact size (and a separate film speed dial!).  With a 
> 10mp sensor, I'm really curious to see how well the ASA1600 pics come 
> out, but even a low-noise 800 would make me really happy.  Guess I'll 
> wait 'till the folks at www.dpreview.com put it through its paces...
>
> Anyhoo, the thread I mentioned way back in the first paragraph of this 
> reply begins here:
> http://www.radiance-online.org/pipermail/radiance-general/2003-May/000818.html 
>
>
This is a great thread, I recommend it....
> The discussion spills over into June, so look for those too.  For some 
> reason the posts don't appear continuously even when sorted by thread.
>
> - Rob
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From grobe at gmx.net  Fri Sep 29 08:58:05 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Sep 29 08:58:12 2006
Subject: [Radiance-general] ambient setting for very large scenes
In-Reply-To: <451C2544.3020400@visarc.com>
References: <00c101c6e323$95ac37d0$c000a8c0@JELLE>	<451C0DC2.7060400@rumblestrip.org>	<451C1583.1080504@visarc.com>	<451C1BC4.7040505@rumblestrip.org>
	<451C2544.3020400@visarc.com>
Message-ID: <451CC3FD.2080805@gmx.net>

Hi,

I just have to quote Greg, as he replied on a similar question I had 
posted some days ago in great detail:

 > One other note -- you might try setting -ar 0 in your case.
 > If you have really large and small geometry that require
 > enormous -ar settings, you may be better off without it.

I have a scene which would also require an incredible high ar here, and 
got processes close to 2GB (which will always lead to slow rendering on 
today's machines).

Good luck! Lars.


From jelle.feringa at ezct.net  Fri Sep 29 12:26:19 2006
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Fri Sep 29 12:23:00 2006
Subject: [Radiance-general] RE: Radiance-general Digest, Vol 31, Issue 23
Message-ID: <013701c6e3b1$b5bc4950$c000a8c0@JELLE>

 

Hi!

 

Thanks so much for the overwhelming replies!

 

Absurd it is. This is a problem when you have a scene like yours. You 

want some distant object or scenery to be visible out the window, for 

example, so you put it in your model and then the images seem really 

flat or have light leaks because the -ar isn't high enough. One thing 

you could do is cheat, and place the objects closer to your area of 

interest than they really are, scaling them up a bit. This works for 

treelines and things like that, anyway. Another would be to exclude the 

distant objects from the ambient calculation with the -ae option, the 

problem there (and maybe some folks here have input on this) is that 

your objects are outside, your area of interest is inside, so your -av 

is likely to be too low for the exterior objects (which is how all the 

indirectly lit surfaces derive their radiance information when their 

materials are on the -ae list).

 

-ar 5000 would take forever to render!

 

Actually, it wasn't *that* bad! An hour and a half (fairly lo-res, but good
enough for its purpose) wasn't that dramatic, so I suppose that the
algorithm for getting a reasonable -ar setting really is quite ok! Still I'm
sure that there are more intelligent strategies rather than brute-force
computing power. 

I'm interested to get fairly optimal ambient settings since I'm producing a
sun path study, so I need to render quite a quantity of imagery here. 

//if fellow pythoniasts on the list are interested in my script, let me
know, it would be interesting the have a 

//a solid python script for sun-path that runs beautifully cross-platform &
on multi-core machines. 

 

Good luck, Jelle.

 

Thanks Rob! 

 

 

Hi Rob and Jelle,

 

Although I have not tried this, what about rendering a light probe of 

the exterior environment (using parameters suitable for an exterior 

scene) and then using the light probe to supply the background for the 

interior scene?

 

-Jack

 

Hey Jack!

 

That's an interesting suggestion!

Although since I'm producing a sun path study, HDR isn't really the way to
go, it be fairly work-intensive ;')

Interesting idea though, did you apply this technique perhaps in some of the
work shown on your site?

 

 

Well there you go. However, we do not what exactly Jelle's objectives 

are with respect to numeric accuracy.

 

It's in-between; my goal is to give architects accurate feedback about the
lighting conditions on the project they're working on. Their interest is a
more visual interest than numerical. Missing a couple of lux isn't too
problematic, the idea is to be able to communicate the lighting conditions
in the building in a visual & fairly accurate manner.

 

 

 

Hi Lars!

 

I just have to quote Greg, as he replied on a similar question I had 

posted some days ago in great detail:

 

 > One other note -- you might try setting -ar 0 in your case.

 > If you have really large and small geometry that require

 > enormous -ar settings, you may be better off without it.

 

I have a scene which would also require an incredible high ar here, and 

got processes close to 2GB (which will always lead to slow rendering on 

today's machines).

 

That's a very interesting suggestion!

Will try that right away!

Cheers, 

 

-jelle

 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060929/fb09b8b9/attachment.html
From jedev at visarc.com  Fri Sep 29 15:40:11 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Sep 29 15:40:59 2006
Subject: [Radiance-general] Re: ambient setting for very large scenes
In-Reply-To: <013701c6e3b1$b5bc4950$c000a8c0@JELLE>
References: <013701c6e3b1$b5bc4950$c000a8c0@JELLE>
Message-ID: <451D223B.1040405@visarc.com>

Hi Jelle,

Well here is a question. I am not sure how large the interior spaces are 
that you are trying to show but wouldn't using illums (mkillum) at the 
openings enable one to get a reasonable (for the purposes of this study) 
approximation of ambient light while using a lower set of overall 
ambient terms?

-Jack

Jelle Feringa / EZCT Architecture & Design Research wrote:
>
>  
>
> Hi!
>
>  
>
> Thanks so much for the overwhelming replies!
>
>  
>
> Absurd it is. This is a problem when you have a scene like yours. You
>
> want some distant object or scenery to be visible out the window, for
>
> example, so you put it in your model and then the images seem really
>
> flat or have light leaks because the -ar isn't high enough. One thing
>
> you could do is cheat, and place the objects closer to your area of
>
> interest than they really are, scaling them up a bit. This works for
>
> treelines and things like that, anyway. Another would be to exclude the
>
> distant objects from the ambient calculation with the -ae option, the
>
> problem there (and maybe some folks here have input on this) is that
>
> your objects are outside, your area of interest is inside, so your -av
>
> is likely to be too low for the exterior objects (which is how all the
>
> indirectly lit surfaces derive their radiance information when their
>
> materials are on the -ae list).
>
>  
>
> -ar 5000 would take forever to render!
>
>  
>
> Actually, it wasn't *that* bad! An hour and a half (fairly lo-res, but 
> good enough for its purpose) wasn't that dramatic, so I suppose that 
> the algorithm for getting a reasonable --ar setting really is quite 
> ok! Still I'm sure that there are more intelligent strategies rather 
> than brute-force computing power...
>
> I'm interested to get fairly optimal ambient settings since I'm 
> producing a sun path study, so I need to render quite a quantity of 
> imagery here...
>
> //if fellow pythoniasts on the list are interested in my script, let 
> me know, it would be interesting the have a
>
> //a solid python script for sun-path that runs beautifully 
> cross-platform & on multi-core machines...
>
>  
>
> Good luck, Jelle.
>
>  
>
> Thanks Rob!
>
>  
>
>  
>
> Hi Rob and Jelle,
>
>  
>
> Although I have not tried this, what about rendering a light probe of
>
> the exterior environment (using parameters suitable for an exterior
>
> scene) and then using the light probe to supply the background for the
>
> interior scene?
>
>  
>
> -Jack
>
>  
>
> Hey Jack!
>
>  
>
> That's an interesting suggestion!
>
> Although since I'm producing a sun path study, HDR isn't really the 
> way to go, it be fairly work-intensive ;')
>
> Interesting idea though, did you apply this technique perhaps in some 
> of the work shown on your site?
>
>  
>
>  
>
> Well there you go. However, we do not what exactly Jelle's objectives
>
> are with respect to numeric accuracy.
>
>  
>
> It's in-between; my goal is to give architects accurate feedback about 
> the lighting conditions on the project they're working on. Their 
> interest is a more visual interest than numerical. Missing a couple of 
> lux isn't too problematic, the idea is to be able to communicate the 
> lighting conditions in the building in a visual & fairly accurate manner.
>
>  
>
>  
>
>  
>
> Hi Lars!
>
>  
>
> I just have to quote Greg, as he replied on a similar question I had
>
> posted some days ago in great detail:
>
>  
>
>  > One other note -- you might try setting -ar 0 in your case.
>
>  > If you have really large and small geometry that require
>
>  > enormous -ar settings, you may be better off without it.
>
>  
>
> I have a scene which would also require an incredible high ar here, and
>
> got processes close to 2GB (which will always lead to slow rendering on
>
> today's machines).
>
>  
>
> That's a very interesting suggestion!
>
> Will try that right away!
>
> Cheers,
>
>  
>
> -jelle
>
>  
>
>  
>
>  
>
>  
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060929/9a87cc2f/attachment.htm
From gregoryjward at gmail.com  Fri Sep 29 19:52:35 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Sep 29 19:52:45 2006
Subject: [Radiance-general] Re: ambient setting for very large scenes
In-Reply-To: <451D223B.1040405@visarc.com>
References: <013701c6e3b1$b5bc4950$c000a8c0@JELLE>
	<451D223B.1040405@visarc.com>
Message-ID: <EC9E9D59-4040-4503-A855-28CD23DFB2C9@gmail.com>

Jack suggests a good trick.  I've often resorted to mkillum with  
challenging exteriors setting -aa 0 for the mkillum process, then  
switching the cache back on for the interior renderings (as needed).   
This is what we did on the New York Times model (sponsored by NYSERDA).

-Greg

> From: Jack de Valpine <jedev@visarc.com>
> Date: September 29, 2006 6:40:11 AM PDT
>
> Hi Jelle,
>
> Well here is a question. I am not sure how large the interior  
> spaces are that you are trying to show but wouldn't using illums  
> (mkillum) at the openings enable one to get a reasonable (for the  
> purposes of this study) approximation of ambient light while using  
> a lower set of overall ambient terms?
>
> -Jack

