From deepak.gv at ufl.edu  Tue Dec  2 22:39:18 2008
From: deepak.gv at ufl.edu (G V DEEPAK)
Date: Tue Dec  2 22:39:32 2008
Subject: [Radiance-general] Glare Index script
Message-ID: <2090602932.185381228286358250.JavaMail.osg@osgjas02.cns.ufl.edu>



-------------- next part --------------
Skipped content of type multipart/mixed
From citykam at yahoo.com  Wed Dec  3 02:38:34 2008
From: citykam at yahoo.com (Kam Shing Leung)
Date: Wed Dec  3 02:38:38 2008
Subject: [Radiance-general] Setting ambient accuracy (-aa) to 0
Message-ID: <252592.35663.qm@web90505.mail.mud.yahoo.com>

Dear all,
?
I intend to model the amount of solar radiation falling onto different parts of a building facade.? To do this, RTRACE is used.? An array of measurement points at 1-unit interval is assigned on the facade.
?
To model it properly, I am currently deciding on the ambient settings.? My understanding is that, by setting -aa to 0, there will be no interpolation of irradiance values, and so all the backward ray-tracing will be conducted exactly at the measurement points.? But I also read an advice aganist turning -aa to 0 for the purpose of evaluating irradiance value in a space (see the thread?below).
?
Could anyone advise whether it is appropriate to set -aa to 0 in this situation?? Corrections on any misconception of mine are also appreciated.? Thanks!
?
Cheers, 
Kam
? 
?
Gregory J. Ward gregoryjward at gmail.com 
Thu Dec 28 22:04:38 CET 2006 


Previous message: [Radiance-general] ambient accuracy parameter 
Next message: [Radiance-general] Modeling reflective glazing and glazing with ceramic frit 
Messages sorted by: [ date ] [ thread ] [ subject ] [ author ] 

Just wanted to chime in on this thread.  The -aa 0 setting is  
appropriate when you have a lot of small geometry that isn't safe to  
leave out of the ambient calculation (using the -ae or -aE options),  
or for special applications such as mkillum or rtcontrib.  Turning  
off the ambient cache is NOT a good idea when what you care about is  
individual ray accuracy, such as when you are using rtrace to  
evaluate radiance or irradiance values in a space.  It can be done  
with -aa 0, but you have to pay close attention to your other  
parameter settings (such as -ad, -as, -lw, and -lr) and alter them  
appropriately.  The -ar setting has no effect with -aa 0.  Ditto for - 
aw.

-Greg



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081203/c5017ef3/attachment.html
From npearson at halsall.com  Wed Dec  3 07:46:52 2008
From: npearson at halsall.com (Pearson, Nastassja)
Date: Wed Dec  3 07:48:32 2008
Subject: [Radiance-general] Quantifying Glare Sources
Message-ID: <3EC944427F87D84793DBBC4137A2B5AD4CD874@to1exc02wp.halsall.com>

Hi all,

 

This may be a trivial question, but I can't get my head around it....

 

When I have my glare sources identified (by the red circles) what does
the value in the circle represent?

-          Is it a weighted average of all the brightness values within
the circle?

-          Are steradians involved?

-          What is the resulting unit... cd/m2 or just cd? 

 

Thanks!

 

Nastassja 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081203/57135bc2/attachment.htm
From mintsheng at gmail.com  Wed Dec  3 08:46:41 2008
From: mintsheng at gmail.com (Sheng Yu)
Date: Wed Dec  3 08:53:21 2008
Subject: [Radiance-general] Questions about image size
Message-ID: <396328780812030846o5a6e817fu3310f29a6de0f8d6@mail.gmail.com>

Hello everyone,


I'm trying to generate a rendering from the following command:
rpict -x 786 -y 576 -ab 4 -ad 1024 -vtv -vp 14.636 -5.376 4.226 -vd
-14.504 13.433 -4.304 -vu 0 0 1 -vh 35.0 -vv 35.0 -vo 0 -va 0 -vs 0
-vl 0 -bv-

However, the pic file generated is in size 576x576. Could anyone tell
why Radiance did this? Thanks.


Yu Sheng

From a.bissell at cundall.com  Wed Dec  3 08:53:07 2008
From: a.bissell at cundall.com (Bissell, Andrew)
Date: Wed Dec  3 08:57:27 2008
Subject: [Radiance-general] Questions about image size
In-Reply-To: <396328780812030846o5a6e817fu3310f29a6de0f8d6@mail.gmail.com>
References: <396328780812030846o5a6e817fu3310f29a6de0f8d6@mail.gmail.com>
Message-ID: <9C59B39CBDAE8A42AC6F2500AB54504E0105EC20@cjpnemail.cjp.co.uk>

Hi,

You have a rectangle image description when specifying your -x and -y
values but your -vh and -vv values describe a square image.  I think you
just need to delete your -y variable and you should then get a square
image.  If you want a rectangle image then find the ratio between your
-x and -y value and apply the same ratio between your -vh and -vv
values.

I hope that makes sense.

Andrew
__________________________
Andrew Bissell
B.Eng(Hons) C.Eng MSLL MCIBSE MIET
Associate Lighting Designer
Cundall Light4
Direct: 0161 200 1235
Mobile: 07899 907 978
Office: 0161 244 5660
P Please consider the environment before printing this e-mail

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Sheng
Yu
Sent: 03 December 2008 16:47
To: Radiance-general@radiance-online.org
Subject: [Radiance-general] Questions about image size

Hello everyone,


I'm trying to generate a rendering from the following command:
rpict -x 786 -y 576 -ab 4 -ad 1024 -vtv -vp 14.636 -5.376 4.226 -vd
-14.504 13.433 -4.304 -vu 0 0 1 -vh 35.0 -vv 35.0 -vo 0 -va 0 -vs 0
-vl 0 -bv-

However, the pic file generated is in size 576x576. Could anyone tell
why Radiance did this? Thanks.


Yu Sheng

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Wed Dec  3 09:13:59 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Dec  3 09:14:06 2008
Subject: [Radiance-general] Quantifying Glare Sources
In-Reply-To: <3EC944427F87D84793DBBC4137A2B5AD4CD874@to1exc02wp.halsall.com>
References: <3EC944427F87D84793DBBC4137A2B5AD4CD874@to1exc02wp.halsall.com>
Message-ID: <2AD1D381-D509-4B63-AADD-E92C48562177@lmi.net>

Hi Nastassja,

The identified glare sources are shown with their average luminance  
in cd/m^2.  The shape shown does not correspond necessarily to the  
actual shape of the sources.  The shape shown is the centroid of the  
actual source with the estimated source solid angle drawn as a circle  
(which may appear as an ellipse depending on the view projection used).

Does this clear up your confusion?
-Greg

> From: "Pearson, Nastassja" <npearson@halsall.com>
> Date: December 3, 2008 7:46:52 AM PST
>
> Hi all,
>
>  This may be a trivial question, but I can?t get my head around it?.
>
>  When I have my glare sources identified (by the red circles) what  
> does the value in the circle represent?
>
> -          Is it a weighted average of all the brightness values  
> within the circle?
>
> -          Are steradians involved?
>
> -          What is the resulting unit? cd/m2 or just cd?
>
>  Thanks!
>
>  Nastassja

From gregoryjward at gmail.com  Wed Dec  3 09:16:18 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Dec  3 09:16:24 2008
Subject: [Radiance-general] Questions about image size
In-Reply-To: <9C59B39CBDAE8A42AC6F2500AB54504E0105EC20@cjpnemail.cjp.co.uk>
References: <396328780812030846o5a6e817fu3310f29a6de0f8d6@mail.gmail.com>
	<9C59B39CBDAE8A42AC6F2500AB54504E0105EC20@cjpnemail.cjp.co.uk>
Message-ID: <F2CAC966-1B6D-4116-A29D-98C49F5B5D88@lmi.net>

Good start, but the formula is just a little more complicated for  
perspective (-vtv) views.  See:

	http://radsite.lbl.gov/radiance/digests_html/v2n7.html#VIEW_ANGLES

-Greg

> From: "Bissell, Andrew" <a.bissell@cundall.com>
> Date: December 3, 2008 8:53:07 AM PST
>
> Hi,
>
> You have a rectangle image description when specifying your -x and -y
> values but your -vh and -vv values describe a square image.  I  
> think you
> just need to delete your -y variable and you should then get a square
> image.  If you want a rectangle image then find the ratio between your
> -x and -y value and apply the same ratio between your -vh and -vv
> values.
>
> I hope that makes sense.
>
> Andrew
>
> -----Original Message-----
> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of  
> Sheng
> Yu
> Sent: 03 December 2008 16:47
>
> Hello everyone,
>
>
> I'm trying to generate a rendering from the following command:
> rpict -x 786 -y 576 -ab 4 -ad 1024 -vtv -vp 14.636 -5.376 4.226 -vd
> -14.504 13.433 -4.304 -vu 0 0 1 -vh 35.0 -vv 35.0 -vo 0 -va 0 -vs 0
> -vl 0 -bv-
>
> However, the pic file generated is in size 576x576. Could anyone tell
> why Radiance did this? Thanks.
>
>
> Yu Sheng

From gregoryjward at gmail.com  Wed Dec  3 11:21:10 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Dec  3 11:21:17 2008
Subject: [Radiance-general] Setting ambient accuracy (-aa) to 0
In-Reply-To: <252592.35663.qm@web90505.mail.mud.yahoo.com>
References: <252592.35663.qm@web90505.mail.mud.yahoo.com>
Message-ID: <A5366357-AA94-4E33-A42D-4D202E7C6EE1@lmi.net>

Hi Kam,

If you use -ab 1, there is no significant penalty for setting -aa 0  
in a point-by-point rtrace calculation for a small number of  
positions.  With -ab 2 and greater, setting -aa 0 may take a very  
long time, or require reducing the -ad and -as parameters, which will  
negatively impact the accuracy of your result.

-Greg

> From: Kam Shing Leung <citykam@yahoo.com>
> Date: December 3, 2008 2:38:34 AM PST
>
> Dear all,
>
> I intend to model the amount of solar radiation falling onto  
> different parts of a building facade.  To do this, RTRACE is used.   
> An array of measurement points at 1-unit interval is assigned on  
> the facade.
>
> To model it properly, I am currently deciding on the ambient  
> settings.  My understanding is that, by setting -aa to 0, there  
> will be no interpolation of irradiance values, and so all the  
> backward ray-tracing will be conducted exactly at the measurement  
> points.  But I also read an advice aganist turning -aa to 0 for the  
> purpose of evaluating irradiance value in a space (see the thread  
> below).
>
> Could anyone advise whether it is appropriate to set -aa to 0 in  
> this situation?  Corrections on any misconception of mine are also  
> appreciated.  Thanks!
>
> Cheers,
> Kam
>
>  --------
> Gregory J. Ward gregoryjward at gmail.com
> Thu Dec 28 22:04:38 CET 2006

> Just wanted to chime in on this thread. The -aa 0 setting is  
> appropriate when you have a lot of small geometry that isn't safe  
> to leave out of the ambient calculation (using the -ae or -aE  
> options), or for special applications such as mkillum or rtcontrib.  
> Turning off the ambient cache is NOT a good idea when what you care  
> about is individual ray accuracy, such as when you are using rtrace  
> to evaluate radiance or irradiance values in a space. It can be  
> done with -aa 0, but you have to pay close attention to your other  
> parameter settings (such as -ad, -as, -lw, and -lr) and alter them  
> appropriately. The -ar setting has no effect with -aa 0. Ditto for  
> - aw. -Greg
>

From grobe at gmx.net  Thu Dec  4 00:00:58 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Dec  4 00:01:01 2008
Subject: [Radiance-general] experiences with the photon map
Message-ID: <49378E3A.8050803@gmx.net>

Hi list!

While I am trying this on Radzilla now (as there is no photon-mapping
available in Radiance-3.9 at the time of this writing), I am pretty sure
that the effects I get are not related to Radzilla but on the way I use
the pmap-System.

I am trying to model a simple, highly specular horizontal light duct,
with a rectangular cross-section (yes I know that in THIS case I could
use the mirror material and Radiance, but I will go for non-planar
surfaces later).

Now either I get very splotchy luminance images in the inside, or,
increasing the `bandwith` to rather high values, have a blurry result
with - and this is the problem - light leaving the geometry even though
it is closed (the duct has a 45 degree mirror at its end that should
actually close it, but the sides extend besides the mirror and appear
illuminated even behind it).

I am working with an initial photon count for both global and caustic
photons of 2.000.000 and a bandwith value of 2000 at the moment.

Is it possible to get such systems rendered in a way that I have both a
smooth luminance and no light escaping the geometry?

Is there any source for a starting point in what way rtcontrib could be
used for modeling such systems? I know the qt-movie from the workshop,
but I did not get it - and it seams that I know noone except Greg who
got it so far ;-)

Thank You & CU, Lars.


From info at iebele.nl  Thu Dec  4 01:06:11 2008
From: info at iebele.nl (iebele)
Date: Thu Dec  4 01:00:13 2008
Subject: [Radiance-general] Questions about image size
In-Reply-To: <396328780812030846o5a6e817fu3310f29a6de0f8d6@mail.gmail.com>
References: <396328780812030846o5a6e817fu3310f29a6de0f8d6@mail.gmail.com>
Message-ID: <49379D83.8050303@iebele.nl>

Hi Yu Sheng,

As Andrew pointed out,  you need to calculate the correct -vh and -vv 
values for your "camera" as well. Calculating the ratio of the image 
dimensions and simply apply these on the -vv and -vh values is not the 
best solution, however. There has been a discussion about this topic on 
radiance-online.org. Please also have a look at the attachment, which 
"implements" this discussion in a little tool that will calculate the 
correct vertical view angle, when a horizontal view angle and the image 
dimensions are given.  I hope this makes sense to you.

-Iebele



Sheng Yu wrote:

>Hello everyone,
>
>
>I'm trying to generate a rendering from the following command:
>rpict -x 786 -y 576 -ab 4 -ad 1024 -vtv -vp 14.636 -5.376 4.226 -vd
>-14.504 13.433 -4.304 -vu 0 0 1 -vh 35.0 -vv 35.0 -vo 0 -va 0 -vs 0
>-vl 0 -bv-
>
>However, the pic file generated is in size 576x576. Could anyone tell
>why Radiance did this? Thanks.
>
>
>Yu Sheng
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>  
>

-------------- next part --------------
#include <stdio.h>
#include <math.h>

#define PI         3.141592653589793

#define TORAD(a)   ( (a)*PI/180.0 )             /* Convert degrees to radians */
#define TODEG(a)   ( (a)*180.0/PI )             /* Convert radians to degrees */


main( int argc, char *argv[] )
{

float viewx, viewy ;
float sizex, sizey ;


// info
fprintf(stderr, "\n viewsize, utility to calculate camera view angle \n" );
	
// get size:
	fprintf ( stderr, " Enter resolution [720x576]          : ");
	scanf("%fx%f" , &sizex , &sizey );
// get angle:
	fprintf ( stderr, " Enter horizontal viewing angle      : " );
	scanf("%f" , &viewx );

// calculate vertical angle
viewy = TODEG ( 2* atan( sizey  / sizex  * tan( TORAD(viewx)/2 ) ) );
fprintf ( stderr, " %fx%f , horizontal view is %f degrees\n" , sizex, sizey, viewx );
fprintf ( stderr, " Vertical view angle is  : %.03f \n" , viewy );

}
From Christopher.Rush at arup.com  Thu Dec  4 08:55:37 2008
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu Dec  4 08:55:42 2008
Subject: [Radiance-general] Questions about image size
In-Reply-To: <F2CAC966-1B6D-4116-A29D-98C49F5B5D88@lmi.net>
References: <396328780812030846o5a6e817fu3310f29a6de0f8d6@mail.gmail.com><9C59B39CBDAE8A42AC6F2500AB54504E0105EC20@cjpnemail.cjp.co.uk>
	<F2CAC966-1B6D-4116-A29D-98C49F5B5D88@lmi.net>
Message-ID: <EB124710ADB8554C930FADF760BB2BE70443B73C@n-yexc01.global.arup.com>

Also keep in mind that you should be able to let rpict size your image
according to the view to fit within the x and y dimensions given. If you
know that you want an image 786 pixels wide, with any arbitrary
horizontal and vertical view angles, you could use options like:

-x 786 -y 10000 -vh [anglex] -vv [angley]

where the values in brackets are whatever view angles you want. This
will fit the image to the horizontal and allow the image to be whatever
vertical size it takes to meet your view angle parameters (in this case
with a cap of 10000 pixels). This works based on the default pixel
aspect of -pa 1. This way if the vh and vv are equal, it generates a
square, otherwise it will make an appropriately sized rectangular image.

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Greg
Ward
Sent: Wednesday, December 03, 2008 12:16 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Questions about image size

Good start, but the formula is just a little more complicated for
perspective (-vtv) views.  See:

	
http://radsite.lbl.gov/radiance/digests_html/v2n7.html#VIEW_ANGLES

-Greg

> From: "Bissell, Andrew" <a.bissell@cundall.com>
> Date: December 3, 2008 8:53:07 AM PST
>
> Hi,
>
> You have a rectangle image description when specifying your -x and -y 
> values but your -vh and -vv values describe a square image.  I think 
> you just need to delete your -y variable and you should then get a 
> square image.  If you want a rectangle image then find the ratio 
> between your -x and -y value and apply the same ratio between your -vh

> and -vv values.
>
> I hope that makes sense.
>
> Andrew
>
> -----Original Message-----
> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of 
> Sheng Yu
> Sent: 03 December 2008 16:47
>
> Hello everyone,
>
>
> I'm trying to generate a rendering from the following command:
> rpict -x 786 -y 576 -ab 4 -ad 1024 -vtv -vp 14.636 -5.376 4.226 -vd
> -14.504 13.433 -4.304 -vu 0 0 1 -vh 35.0 -vv 35.0 -vo 0 -va 0 -vs 0 
> -vl 0 -bv-
>
> However, the pic file generated is in size 576x576. Could anyone tell 
> why Radiance did this? Thanks.
>
>
> Yu Sheng

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From jan.wienold at ise.fraunhofer.de  Thu Dec  4 23:42:14 2008
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Thu Dec  4 23:42:21 2008
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <49378E3A.8050803@gmx.net>
References: <49378E3A.8050803@gmx.net>
Message-ID: <4938DB56.7070208@ise.fraunhofer.de>

Hi Lars,

I'm pretty sure its a question how you modeled the end of your "light-pipe".
Photon mapping is doing an density estimate to calculate the radiance
and is searching for photons in the nearby.
Unfortunately the algorithm is doing this also for surfaces , which are
"leaving" a closed space. For example, if you have a closed box and you
add a surface to the scene, which is half inside and half outside the
box, you will get light into the box.
You can avoid this phenomena, if you really "close" your pipe (I assume
so  ;-)  ).

The question of photons and how many of them should be collected within
the density estimate cannot be answered without knowing more about the
scene. Its similar to "pure Radiance", the parameter setting is depending
on the scene and materials.....  ;-)  .  Anyhow, 2000 for the "collecting"= bandwidth seems to be high for me.
Have you also tested the bias compensation (-apcb) in order to reduce the splotches? 

By the way, we will probably update photon-mapping for the 3.9 version
(or the 4.0) version within the next half year, fixing also some bugs.
This depends on a new project probably launched in January.

Cheers,

Jan

Lars O. Grobe wrote:

> > Hi list!
> >
> > While I am trying this on Radzilla now (as there is no photon-mapping
> > available in Radiance-3.9 at the time of this writing), I am pretty sure
> > that the effects I get are not related to Radzilla but on the way I use
> > the pmap-System.
> >
> > I am trying to model a simple, highly specular horizontal light duct,
> > with a rectangular cross-section (yes I know that in THIS case I could
> > use the mirror material and Radiance, but I will go for non-planar
> > surfaces later).
> >
> > Now either I get very splotchy luminance images in the inside, or,
> > increasing the `bandwith` to rather high values, have a blurry result
> > with - and this is the problem - light leaving the geometry even though
> > it is closed (the duct has a 45 degree mirror at its end that should
> > actually close it, but the sides extend besides the mirror and appear
> > illuminated even behind it).
> >
> > I am working with an initial photon count for both global and caustic
> > photons of 2.000.000 and a bandwith value of 2000 at the moment.
> >
> > Is it possible to get such systems rendered in a way that I have both a
> > smooth luminance and no light escaping the geometry?
> >
> > Is there any source for a starting point in what way rtcontrib could be
> > used for modeling such systems? I know the qt-movie from the workshop,
> > but I did not get it - and it seams that I know noone except Greg who
> > got it so far  ;-) 
> >
> > Thank You & CU, Lars.
> >
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
Dipl.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081205/65a1c294/attachment.html
From grobe at gmx.net  Thu Dec  4 23:58:25 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Dec  4 23:58:32 2008
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <4938DB56.7070208@ise.fraunhofer.de>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
Message-ID: <4938DF21.5000804@gmx.net>

Hi Jan!
> I'm pretty sure its a question how you modeled the end of your "light-pipe".
> Photon mapping is doing an density estimate to calculate the radiance
> and is searching for photons in the nearby.
> Unfortunately the algorithm is doing this also for surfaces , which are
> "leaving" a closed space. For example, if you have a closed box and you
> add a surface to the scene, which is half inside and half outside the
> box, you will get light into the box.
> You can avoid this phenomena, if you really "close" your pipe (I assume
> so  ;-)  ).
>   

Well the pipe is closed by the 45 degree mirror, but I guess that I must 
not have geometry extend from the end (so that a part of it is inside 
the system and a part is outside). This is really important for 
modelling and was not clear to me so far! So the viewer in the sketch 
below will see the surfaces A and B lid even though light is not able to 
reach those, because the photons hitting the surface are counted even 
though not visible from the viewer position, right?

Surface A
___________________________
                          |
light source      |    viewer
________________|___________

Surface B

> By the way, we will probably update photon-mapping for the 3.9 version
> (or the 4.0) version within the next half year, fixing also some bugs.
> This depends on a new project probably launched in January.
>   
This is good news for all Radiance users! Will it be possible to use 
BRTDfunc modifiers with the photon map than? At the moment we have a 
strange situation - most Radiance users most probably use the software 
for advanced daylighting simulation. But they cannot model the advanced 
systems with the core distribution (pmap is not integrated), and even if 
they patch Radiance to support photon mapping, they cannot use the 
galzing definitions as given e.g. by the glaze script because of a lack 
of support for BRTDfunc in the pmap extension. I wonder how one can 
model a daylight set-up with light redirection systems in Radiance at 
all at the moment.

How are experiences with the pmap for Radiance 3.8? I could use that one 
for now (I cannot really wait for half a year, so I must use what is 
available) if it is found to have been relieable. Or should I stay with 3.7?

Again thanks to you and the other Fraunhofer folks making this important 
extension available to us - is there any hope that pmap could become 
part of the Radiance distribution itself one day?

CU, Lars.

From deepak.gv at ufl.edu  Fri Dec  5 00:58:47 2008
From: deepak.gv at ufl.edu (G V DEEPAK)
Date: Fri Dec  5 00:58:51 2008
Subject: [Radiance-general] Glare Index calculation
Message-ID: <713382199.81541228467527682.JavaMail.osg@osgjas02.cns.ufl.edu>

Hello everyone,

I am involved in the simulations of interior Venetian blinds in a 
10' wide, 18' long and 10' high
office room with one 6 ' by 6 ' window placed on the south 
oriented wall. The window sill height is 3'.
I am calculating Glare index at 4 reference points inside the 
room.

There seems to be problem with glare Index. I am attaching the 
script for Illuminance calculations and glare Index calculations. 
newglares.csh is the file name for the glare script and  
finalmultiplesim1.csh is the shell script used for illuminance 
calculations.

I just want to make sure that the scripts used are correct .. ?

Thank you

G V DEEPAK
Graduate student and Research Assistant
M.E. Rinker, Sr. School of Building Construction.
University Of Florida.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: newglares.csh
Type: application/octet-stream
Size: 265 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20081205/a038bd04/newglares.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: finalmultiplesim1.csh
Type: application/octet-stream
Size: 527 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20081205/a038bd04/finalmultiplesim1.obj
From jan.wienold at ise.fraunhofer.de  Fri Dec  5 01:50:17 2008
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Fri Dec  5 01:50:22 2008
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <4938DF21.5000804@gmx.net>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
	<4938DF21.5000804@gmx.net>
Message-ID: <4938F959.6040208@ise.fraunhofer.de>

Hi Lars,


Lars O. Grobe wrote:
> Hi Jan!
>> I'm pretty sure its a question how you modeled the end of your
>> "light-pipe".
>> Photon mapping is doing an density estimate to calculate the radiance
>> and is searching for photons in the nearby.
>> Unfortunately the algorithm is doing this also for surfaces , which are
>> "leaving" a closed space. For example, if you have a closed box and you
>> add a surface to the scene, which is half inside and half outside the
>> box, you will get light into the box.
>> You can avoid this phenomena, if you really "close" your pipe (I assume
>> so  ;-)  ).
>>   
>
> Well the pipe is closed by the 45 degree mirror, but I guess that I
> must not have geometry extend from the end (so that a part of it is
> inside the system and a part is outside). This is really important for
> modelling and was not clear to me so far! So the viewer in the sketch
> below will see the surfaces A and B lid even though light is not able
> to reach those, because the photons hitting the surface are counted
> even though not visible from the viewer position, right?
>
> Surface A
> ___________________________
>                          |
> light source      |    viewer
> ________________|___________
>
> Surface B
>
Yes! And the higher the bandwidth is the more will be transferred in the
the "dark" space. But its only a problem, if the "outside" is very dark
and no photons are stored there. Then, the density estimate searches for
nearby photons and collects the "wrong" ones.



>> By the way, we will probably update photon-mapping for the 3.9 version
>> (or the 4.0) version within the next half year, fixing also some bugs.
>> This depends on a new project probably launched in January.
>>   
> This is good news for all Radiance users! Will it be possible to use
> BRTDfunc modifiers with the photon map than? At the moment we have a
> strange situation - most Radiance users most probably use the software
> for advanced daylighting simulation. But they cannot model the
> advanced systems with the core distribution (pmap is not integrated),
> and even if they patch Radiance to support photon mapping, they cannot
> use the galzing definitions as given e.g. by the glaze script because
> of a lack of support for BRTDfunc in the pmap extension. I wonder how
> one can model a daylight set-up with light redirection systems in
> Radiance at all at the moment.
We will probably include BRTDfunc into pmap, but this is not clear now.

A remark from me: I never use BRTF in RADIANCE now, since all the
angular information you put into your model is lost for the glow
material. That means, if you model a specific sky luminance distribution
and you are using BTDF-func, no angular information of your BTDF-model
is used! It is treated lambertian ! And this is especially hard, if you
want to model a system, which is intended to redirect the bright zenith sky.
 If I model advanced glazings, I use either standard glass and modify it
by brightfunc or for high reflective materials I use a mixfunc of glass
(+brightfunc) and metal. I always check the angular transmission and
reflection of the model by a virtual measuement - and I also test, if it
still works for the sky.

But Greg  presented at the workshop the BTDF implementation into mkillum
- this seems to me a very good approach to calculate the advanced window
systems! So this can probably solve your problem now. But I don't know,
how it treats the sky and if the angular information is also "lost".
This is also new to me - I haven't tested it yet.
>
> How are experiences with the pmap for Radiance 3.8? I could use that
> one for now (I cannot really wait for half a year, so I must use what
> is available) if it is found to have been relieable. Or should I stay
> with 3.7?
I have to admit, that we work here still with the 3.7 version (RADIANCE
and pmap). No experience with 3.8.
If you are using pmap, don't use the -I option for rtrace - it is giving
you wrong values. This is one of the bugs we will solve in the near
future. If you want to calculate the illuminance, you should calculate a
180 degree fish-eye-picture at  your calculation points and integrate
the picture  (you can use findglare or evalglare to calc an illuminance
from a picture)
>
> Again thanks to you and the other Fraunhofer folks making this
> important extension available to us - is there any hope that pmap
> could become part of the Radiance distribution itself one day?

Well, this is not so easy to answer. It is also a problem of maintenance
- we can maintain only, if we have funding. And we are still looking for
a volunteer  for that.....

Cheers,

Jan


>
> CU, Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dipl.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30


From tbleicher at arcor.de  Fri Dec  5 05:26:38 2008
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Fri Dec  5 05:26:46 2008
Subject: [Radiance-general] Glare Index calculation
In-Reply-To: <713382199.81541228467527682.JavaMail.osg@osgjas02.cns.ufl.edu>
References: <713382199.81541228467527682.JavaMail.osg@osgjas02.cns.ufl.edu>
Message-ID: <98D079D4-5579-4BC6-BBC4-08C1A1D069D5@arcor.de>

Hello again.

 From a quick look at the scripts I would change the following:

finalmultiplesim1.csh:

You have very low quality settings for the rtrace command
(basically left at the defaults). I would at least increase '-ad'
and add '-as' unless you know it's not going to change the
results.

newglares.csh:

You calculate a picture for findglare with default view settings
(-vtv and -vv 60 -vh 60). The findglare man page recommends
to use a fisheye (-vta) and 180 degrees for the view angles. With
your images findglare has a lot to compute from the octree.

The rpict options are left at the defaults (including ab=0!). I don't
think that's your intention.

findglare itself could do with more options as well. Best thing
to do is to set the rpict/rtrace options in  a variable and use
this on the command line for all of the commands (rtrace, rpict
and findglare).

You also should look at the way how findglare works. The
default threshold to identify glare is 7 times above the average.
Given that you're looking at a bright window (very large
source) you may never find a glare source unless you're
looking directly into the sun. If that's all you need, fine, otherwise
you have to work out a reasonable threshold for your scene.


Regards,
Thomas



From deepak.gv at ufl.edu  Fri Dec  5 08:19:54 2008
From: deepak.gv at ufl.edu (G V DEEPAK)
Date: Fri Dec  5 08:19:58 2008
Subject: [Radiance-general] Glare Index calculation
Message-ID: <739449134.97961228493994521.JavaMail.osg@osgjas02.cns.ufl.edu>


Thanks a lot  Mr Bleicher, I would try these options out and see 
if they work out.

Thanks again.

 On Fri Dec 05 08:26:38 EST 2008, Thomas Bleicher 
<tbleicher@arcor.de> wrote:

> Hello again.
> 
>  From a quick look at the scripts I would change the following:
> 
> finalmultiplesim1.csh:
> 
> You have very low quality settings for the rtrace command
> (basically left at the defaults). I would at least increase '-ad'
> and add '-as' unless you know it's not going to change the
> results.
> 
> newglares.csh:
> 
> You calculate a picture for findglare with default view settings
> (-vtv and -vv 60 -vh 60). The findglare man page recommends
> to use a fisheye (-vta) and 180 degrees for the view angles. With
> your images findglare has a lot to compute from the octree.
> 
> The rpict options are left at the defaults (including ab=0!). I 
> don't
> think that's your intention.
> 
> findglare itself could do with more options as well. Best thing
> to do is to set the rpict/rtrace options in  a variable and use
> this on the command line for all of the commands (rtrace, rpict
> and findglare).
> 
> You also should look at the way how findglare works. The
> default threshold to identify glare is 7 times above the average.
> Given that you're looking at a bright window (very large
> source) you may never find a glare source unless you're
> looking directly into the sun. If that's all you need, fine, 
> otherwise
> you have to work out a reasonable threshold for your scene.
> 
> 
> Regards,
> Thomas
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 



G V DEEPAK
Graduate student and Research Assistant
M.E. Rinker, Sr. School of Building Construction.
University Of Florida.


From gregoryjward at gmail.com  Fri Dec  5 08:50:55 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Dec  5 08:51:00 2008
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <4938DF21.5000804@gmx.net>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
	<4938DF21.5000804@gmx.net>
Message-ID: <07F2446D-4883-4AB6-B5C8-A81A430F2754@lmi.net>

> Again thanks to you and the other Fraunhofer folks making this  
> important extension available to us - is there any hope that pmap  
> could become part of the Radiance distribution itself one day?

I have looked at this in the past, but not recently, I admit.  The  
chief problem as I see it is that the photon map is implemented as an  
either/or strategy that's decided at compile time.  If it were  
implemented as a separate module, there would be no question of  
including it in the distribution.  However, since the implementation  
is intimately entangled in the main rendering code, there are  
maintenance issues that I cannot resolve.  When I go to change or add  
something, I don't understand the pmap add-on well enough to know  
what I'm doing won't break it.  In other words, including the pmap  
module as written means I would have to be done developing Radiance,  
essentially.

In my opinion, the best solution would be to create a separate tool  
using the photon map to replace mkillum in certain circumstances.  I  
am starting to head this direction with my rtcontrib developments,  
though I also need to add support for BRTDfunc and other material  
types for this to be complete.  Such a solution would do well for  
daylighting systems, but wouldn't achieve the caustics that many  
consider the most valuable contribution of the photon mapping method.

-Greg

From gregoryjward at gmail.com  Fri Dec  5 08:55:35 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Dec  5 08:55:41 2008
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <4938F959.6040208@ise.fraunhofer.de>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
	<4938DF21.5000804@gmx.net> <4938F959.6040208@ise.fraunhofer.de>
Message-ID: <B56500CB-0A01-4D87-9C3C-84A20C68B3EA@lmi.net>

Jan's comment:

> But Greg  presented at the workshop the BTDF implementation into  
> mkillum
> - this seems to me a very good approach to calculate the advanced  
> window
> systems! So this can probably solve your problem now. But I don't  
> know,
> how it treats the sky and if the angular information is also "lost".
> This is also new to me - I haven't tested it yet.

This should be working for the angular distribution of the sky,  
though mkillum with the BTDF input hasn't been fully validated at  
this point.  Any help in that direction will be greatly appreciated.

The BSDF types in Radiance only work for "highlights" currently --  
indirect components default to diffuse, as you point out.  I am  
looking at ways to correct this in future releases, now that BSDF  
data is becoming more available, thanks in large part to Peter A-B  
and his continuing efforts to improve the measurement side of things.

Best,
-Greg

From rfritz at u.washington.edu  Sat Dec  6 20:00:32 2008
From: rfritz at u.washington.edu (R Fritz)
Date: Sat Dec  6 20:00:40 2008
Subject: [Radiance-general] IES photometry file formats
Message-ID: <41B9A1EA-63B7-4636-AE2C-50B5AEFE4E7D@u.washington.edu>

Which versions are people seeing?  There's 1986, 1991, 1995, and 2002  
standards.  What are fixture and lamp vendors actually providing?

Randolph


From tbleicher at arcor.de  Sun Dec  7 03:16:30 2008
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sun Dec  7 03:16:37 2008
Subject: [Radiance-general] IES photometry file formats
In-Reply-To: <41B9A1EA-63B7-4636-AE2C-50B5AEFE4E7D@u.washington.edu>
References: <41B9A1EA-63B7-4636-AE2C-50B5AEFE4E7D@u.washington.edu>
Message-ID: <FD281383-B658-40F7-9B09-889C8A2847B2@arcor.de>


I think in Real Live(TM) you will find everything.

The good thing about IES is that you can read the essential
bits from a 95 file with knowledge of the 86 specs. IIRC most
changes where in the area of required key-words and allowed
formats. So - if anything - the variations got limited by the later
versions (not sure about 2002, though).

I haven't seen a lot of 2002 files. One reason is certainly, that
I stopped looking at IES files. The other is that the manufacturers
don't re-release their files in a newer version just because
there is a new spec available. The design of most fittings on
the market predates most of the specs so it's only a matter of
when the manufacturers finally got their products measured
which defines the format of their files.

I think that's why you will find more 1995 files than anything
else. It was just the right time for the industry to go digital.

In Europe IES gets a bit side lined by Eulumdat and
the various proprietary plugins for Dialux etc. Although, I
think that Relux and AGI32 are based on the IES format
and just package some other information with it.


Regards,
Thomas

From rfritz at u.washington.edu  Mon Dec  8 14:25:43 2008
From: rfritz at u.washington.edu (R Fritz)
Date: Mon Dec  8 14:25:46 2008
Subject: [Radiance-general] IES photometry file formats
In-Reply-To: <FD281383-B658-40F7-9B09-889C8A2847B2@arcor.de>
References: <41B9A1EA-63B7-4636-AE2C-50B5AEFE4E7D@u.washington.edu>
	<FD281383-B658-40F7-9B09-889C8A2847B2@arcor.de>
Message-ID: <99C95DB6-861A-40C4-8BBD-3BDCC4D42F9B@u.washington.edu>

That sounds about right.  I did a quick informal survey of the data  
available from four manufacturers which distribute in the USA.  Here's  
what I found:

   Corelite		linear		  	IES 1995 (one file checked)
   Lightolier		broad line		IES 1995, 2002 (two files checked)
   Lucifer Lighting  	cutting edge	  	IES 2002 (one file checked)
   SIMKAR		inexpensive linear	IES 1986 (426 files)
						IES 1995 (18 files)

SIMKAR seems to have licensed a number of older designs, and this  
probably accounts for the large number of 1986-format files.  The  
newer Lightolier file I checked was 2002 format; the older was 1995.

Randolph

On Dec 7, 2008, at 3:16 AM, Thomas Bleicher wrote:

>
> I think in Real Live(TM) you will find everything.
>
> The good thing about IES is that you can read the essential
> bits from a 95 file with knowledge of the 86 specs. IIRC most
> changes where in the area of required key-words and allowed
> formats. So - if anything - the variations got limited by the later
> versions (not sure about 2002, though).
>
> I haven't seen a lot of 2002 files. One reason is certainly, that
> I stopped looking at IES files. The other is that the manufacturers
> don't re-release their files in a newer version just because
> there is a new spec available. The design of most fittings on
> the market predates most of the specs so it's only a matter of
> when the manufacturers finally got their products measured
> which defines the format of their files.
>
> I think that's why you will find more 1995 files than anything
> else. It was just the right time for the industry to go digital.
>
> In Europe IES gets a bit side lined by Eulumdat and
> the various proprietary plugins for Dialux etc. Although, I
> think that Relux and AGI32 are based on the IES format
> and just package some other information with it.
>
>
> Regards,
> Thomas
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From citykam at yahoo.com  Tue Dec  9 12:13:31 2008
From: citykam at yahoo.com (Kam Shing Leung)
Date: Tue Dec  9 12:20:25 2008
Subject: [Radiance-general] Irradiance values under multiple LIGHT sources
Message-ID: <175658.26724.qm@web90503.mail.mud.yahoo.com>

Dear all, 
?
I am currently trying to obtain the irradiance value on a horizontal surface (0 0 0 0 0 1) under 10 direct light sources (-ab 0).? Light sources are created by mapping 10 LIGHT materials on 10 SOURCE surfaces.? Each SOURCE subtends an angle of 0.5 deg, and they are at least 3.75 deg apart.
?
When the 10 light sources are?applied simultaneously in the simulation, it gives an irradiance value of approx. 0.5% less than the mathematically-derived value.? When the light sources are simulated separately and then the 10 irradiance values are added together, the value is (almost) identical to the derived value.
?
Could anyone advise how the discrepancy occurs and how it can be avoided?? Thanks a lot. 
?
Kam
?


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081209/ef86a230/attachment.htm
From gregoryjward at gmail.com  Tue Dec  9 16:11:19 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Dec  9 16:11:16 2008
Subject: [Radiance-general] Irradiance values under multiple LIGHT sources
In-Reply-To: <175658.26724.qm@web90503.mail.mud.yahoo.com>
References: <175658.26724.qm@web90503.mail.mud.yahoo.com>
Message-ID: <C29BEB49-D544-499E-BFCB-CE5001DD07E0@lmi.net>

The discrepancy is likely caused by the adaptive source sampling.   
Set -dt 0 to switch this off.

-Greg

> From: Kam Shing Leung <citykam@yahoo.com>
> Date: December 9, 2008 12:13:31 PM PST
>
> Dear all,
>
> I am currently trying to obtain the irradiance value on a  
> horizontal surface (0 0 0 0 0 1) under 10 direct light sources (-ab  
> 0).  Light sources are created by mapping 10 LIGHT materials on 10  
> SOURCE surfaces.  Each SOURCE subtends an angle of 0.5 deg, and  
> they are at least 3.75 deg apart.
>
> When the 10 light sources are applied simultaneously in the  
> simulation, it gives an irradiance value of approx. 0.5% less than  
> the mathematically-derived value.  When the light sources are  
> simulated separately and then the 10 irradiance values are added  
> together, the value is (almost) identical to the derived value.
>
> Could anyone advise how the discrepancy occurs and how it can be  
> avoided?  Thanks a lot.
>
> Kam
>

From grobe at gmx.net  Wed Dec 10 01:56:38 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Dec 10 01:56:46 2008
Subject: [Radiance-general] Reference reflectances for office space surfaces?
Message-ID: <493F9256.1080807@gmx.net>

I have seen the assumption of 80%, 50%, 20% neutral grey levels for 
office spaces quite a lot, but I wonder if there is anything like a 
standard for a "generic" office environment anywhere. Does anyone have a 
link to a recommendation what to use when doing studies on an office 
space whose surface properties are not known yet?

Thank you, Lars.

From grobe at gmx.net  Wed Dec 10 03:43:00 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Dec 10 03:43:10 2008
Subject: [Radiance-general] BRTF for glazing (was: experiences with the
	photon map)
In-Reply-To: <4938F959.6040208@ise.fraunhofer.de>
References: <49378E3A.8050803@gmx.net>
	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>
	<4938F959.6040208@ise.fraunhofer.de>
Message-ID: <493FAB44.2050805@gmx.net>


> A remark from me: I never use BRTF in RADIANCE now, since all the
> angular information you put into your model is lost for the glow
> material. That means, if you model a specific sky luminance distribution
> and you are using BTDF-func, no angular information of your BTDF-model
> is used! It is treated lambertian ! And this is especially hard, if you
> want to model a system, which is intended to redirect the bright zenith sky.
>  If I model advanced glazings, I use either standard glass and modify it
> by brightfunc or for high reflective materials I use a mixfunc of glass
> (+brightfunc) and metal. I always check the angular transmission and
> reflection of the model by a virtual measuement - and I also test, if it
> still works for the sky.
Hi Jan, hi list,

one more late reply to this. At the moment I am setting up the materials 
for a model with known specifications for the glazing, but I do not have 
samples to measure. So if I want to get a material description e.g. for 
a double-glazing including coating and such, I use the script glaze to 
have some reasonable values that I could not produce else (and I can 
write this down as a reproduceable routine for the docs). I could use 
Optics and access the glazing database, but for some strange reason it 
requires administrator access to a Windows maching that I do not have at 
the moment (did anyone manage to open the database file using something 
like Openoffice?) - but also Optics would give me brtf modifiers.

Did anyone try to model such glazings in radiance, using dielectric and 
interface? What are you using for defining glass panes if no samples to 
measure are available? Ah, and one more question (which leads me back to 
the idea of modeling glazing), what about glazings that consist of 
laminated glass panes + non-uniform laminate (such as printed screens 
for sun protection or advertising), would it be possible to model these 
using dielectric&interface, having one (very) thin layer for the 
laminate modified by a pattern and two dielectric layers of glass on 
both sides? Is it complete nonsense to try modeling such layers 
geometrically (there will be a limit as the thinnest layers surfaces may 
get too close to each other)? Or is all this trouble about considering 
the coatings and such only introducing error, and a simple clear glass 
definition ignoring the coating would still be "better" to use?

TIA&CU... Lars.

From maricanis at gmail.com  Wed Dec 10 04:08:26 2008
From: maricanis at gmail.com (Marija Velickovic)
Date: Wed Dec 10 04:08:30 2008
Subject: [Radiance-general] BRTF for glazing (was: experiences with the
	photon map)
In-Reply-To: <493FAB44.2050805@gmx.net>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
	<4938DF21.5000804@gmx.net> <4938F959.6040208@ise.fraunhofer.de>
	<493FAB44.2050805@gmx.net>
Message-ID: <124b40400812100408l388276b3w31d513b80fa2f693@mail.gmail.com>

Hi,

For glazing definition we always use BRTDfunc material, which we define
partly automatically partly manually.
We export each glazing layer from Optics5 (I don't have idea what you can do
whan you don't have access as administrator), and then combine them in BRTD
func. If no data in Optics5 database, we use some estimated values for
transmittance and reflectance.

For transmittance/reflectance functions of each layer we use functions used
in glaze output. For coated glazing also. I think glaze.csh has some
functions for laminated glass too, but not sure.

Marija.


Hi Jan, hi list,
>
> one more late reply to this. At the moment I am setting up the materials
> for a model with known specifications for the glazing, but I do not have
> samples to measure. So if I want to get a material description e.g. for a
> double-glazing including coating and such, I use the script glaze to have
> some reasonable values that I could not produce else (and I can write this
> down as a reproduceable routine for the docs). I could use Optics and access
> the glazing database, but for some strange reason it requires administrator
> access to a Windows maching that I do not have at the moment (did anyone
> manage to open the database file using something like Openoffice?) - but
> also Optics would give me brtf modifiers.
>
> Did anyone try to model such glazings in radiance, using dielectric and
> interface? What are you using for defining glass panes if no samples to
> measure are available? Ah, and one more question (which leads me back to the
> idea of modeling glazing), what about glazings that consist of laminated
> glass panes + non-uniform laminate (such as printed screens for sun
> protection or advertising), would it be possible to model these using
> dielectric&interface, having one (very) thin layer for the laminate modified
> by a pattern and two dielectric layers of glass on both sides? Is it
> complete nonsense to try modeling such layers geometrically (there will be a
> limit as the thinnest layers surfaces may get too close to each other)? Or
> is all this trouble about considering the coatings and such only introducing
> error, and a simple clear glass definition ignoring the coating would still
> be "better" to use?
>
> TIA&CU... Lars.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081210/4860580f/attachment.html
From C.Esmeijer at mook.peutz.nl  Wed Dec 10 04:41:25 2008
From: C.Esmeijer at mook.peutz.nl (Casper Esmeijer)
Date: Wed Dec 10 04:41:32 2008
Subject: [Radiance-general] Reference reflectances for office space
	surfaces?
In-Reply-To: <493F9256.1080807@gmx.net>
Message-ID: <LAEELIFELGJCEOKFMDAAKEHNCIAA.C.Esmeijer@mook.peutz.nl>



Lars,

It won't be of much help to you probably, but EN 12464-1:2002 (paragraph
4.2) gives you a range of reflectances for interior surfaces:
? ceiling: 0,6 to 0,9
? walls: 0,3 to 0,8
? working planes: 0,2 to 0,6
? floor: 0,1 to 0,5

For similar lighting evaluations we normally use: ceiling 70%, walls 50% and
floor 10% or 20%.

Casper Esmeijer


...
I have seen the assumption of 80%, 50%, 20% neutral grey levels for
office spaces quite a lot, but I wonder if there is anything like a
standard for a "generic" office environment anywhere. Does anyone have a
link to a recommendation what to use when doing studies on an office
space whose surface properties are not known yet?

Thank you, Lars.




From grobe at gmx.net  Wed Dec 10 04:55:31 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Dec 10 04:55:58 2008
Subject: [Radiance-general] Reference reflectances for office
	space	surfaces?
In-Reply-To: <LAEELIFELGJCEOKFMDAAKEHNCIAA.C.Esmeijer@mook.peutz.nl>
References: <LAEELIFELGJCEOKFMDAAKEHNCIAA.C.Esmeijer@mook.peutz.nl>
Message-ID: <493FBC43.10309@gmx.net>

> It won't be of much help to you probably, but EN 12464-1:2002 (paragraph
> 4.2) gives you a range of reflectances for interior surfaces:
> ? ceiling: 0,6 to 0,9
> ? walls: 0,3 to 0,8
> ? working planes: 0,2 to 0,6
> ? floor: 0,1 to 0,5

Thank you, it is of help, as I need a quoteable source when setting up
my yet unknown materials!

CU Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3617 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20081210/86efbca2/smime-0001.bin
From grobe at gmx.net  Wed Dec 10 07:28:12 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Dec 10 07:28:27 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <124b40400812100408l388276b3w31d513b80fa2f693@mail.gmail.com>
References: <49378E3A.8050803@gmx.net>
	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>
	<4938F959.6040208@ise.fraunhofer.de>	<493FAB44.2050805@gmx.net>
	<124b40400812100408l388276b3w31d513b80fa2f693@mail.gmail.com>
Message-ID: <493FE00C.2050304@gmx.net>

> For glazing definition we always use BRTDfunc material, which we define
> partly automatically partly manually.
> We export each glazing layer from Optics5 (I don't have idea what you
> can do whan you don't have access as administrator), and then combine
> them in BRTD func. If no data in Optics5 database, we use some estimated
> values for transmittance and reflectance.
> 
> For transmittance/reflectance functions of each layer we use functions
> used in glaze output. For coated glazing also. I think glaze.csh has
> some functions for laminated glass too, but not sure.

Well, than the problem still persists concerning the limitations for
redirecting systems, but actually, if I did not get completely confused
by now (hopefully not) for the definition of the glass panes, the
lambertian model should be fine, right? So modelling a glazing with
integrated blinds, anything acting like a prisma etc. as brtf would not
make too much sense, while for glass and most homogenous materials there
should not arise any problems...?

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3617 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20081210/9af90b89/smime.bin
From maricanis at gmail.com  Wed Dec 10 07:54:47 2008
From: maricanis at gmail.com (Marija Velickovic)
Date: Wed Dec 10 07:54:59 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <493FE00C.2050304@gmx.net>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
	<4938DF21.5000804@gmx.net> <4938F959.6040208@ise.fraunhofer.de>
	<493FAB44.2050805@gmx.net>
	<124b40400812100408l388276b3w31d513b80fa2f693@mail.gmail.com>
	<493FE00C.2050304@gmx.net>
Message-ID: <124b40400812100754y2901bda7ua02a61dc60a71a78@mail.gmail.com>

Hi Lars,

I don't know about redirecting systems (we haven't worked on them yet :)
For now we simulated various glazings, usually double, with various
reflection/transmission values. For coated glazings we use functions from
glaze, as I already said. Note that double coated glazings usually are
created from one clear glass layer and one coated!

Other experiences?

Marija

2008/12/10 Lars O. Grobe <grobe@gmx.net>

> > For glazing definition we always use BRTDfunc material, which we define
> > partly automatically partly manually.
> > We export each glazing layer from Optics5 (I don't have idea what you
> > can do whan you don't have access as administrator), and then combine
> > them in BRTD func. If no data in Optics5 database, we use some estimated
> > values for transmittance and reflectance.
> >
> > For transmittance/reflectance functions of each layer we use functions
> > used in glaze output. For coated glazing also. I think glaze.csh has
> > some functions for laminated glass too, but not sure.
>
> Well, than the problem still persists concerning the limitations for
> redirecting systems, but actually, if I did not get completely confused
> by now (hopefully not) for the definition of the glass panes, the
> lambertian model should be fine, right? So modelling a glazing with
> integrated blinds, anything acting like a prisma etc. as brtf would not
> make too much sense, while for glass and most homogenous materials there
> should not arise any problems...?
>
> CU Lars.
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081210/8a3ba03a/attachment.htm
From grobe at gmx.net  Wed Dec 10 08:02:20 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Dec 10 08:02:31 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <124b40400812100754y2901bda7ua02a61dc60a71a78@mail.gmail.com>
References: <49378E3A.8050803@gmx.net>
	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>
	<4938F959.6040208@ise.fraunhofer.de>	<493FAB44.2050805@gmx.net>	<124b40400812100408l388276b3w31d513b80fa2f693@mail.gmail.com>	<493FE00C.2050304@gmx.net>
	<124b40400812100754y2901bda7ua02a61dc60a71a78@mail.gmail.com>
Message-ID: <493FE80C.1010807@gmx.net>

> Other experiences?

No, for me the result of this that for my current applications, modeling
 the glass panes as brtf (as I also did, mostly using the glaze script &
Co.) should be fine - and for future applications, which will involve
measured data of more complicated redirecting structures, a different
solution will have to be found.

Thank you for sharing your experiences, CU, Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3617 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20081211/a4281ce0/smime.bin
From rfritz at u.washington.edu  Wed Dec 10 08:09:58 2008
From: rfritz at u.washington.edu (R Fritz)
Date: Wed Dec 10 08:10:03 2008
Subject: [Radiance-general] Reference reflectances for office space
	surfaces?
In-Reply-To: <493F9256.1080807@gmx.net>
References: <493F9256.1080807@gmx.net>
Message-ID: <A90799AE-FA82-499F-9FED-C0EDA2C7B576@u.washington.edu>

Sure, try the IESNA Lighting Handbook.  Some of that information, I  
think, is also included in *Mechanical and Electrical Systems for  
Buildings*.

Randolph Fritz
   design machine group
   architecture department
   university of washington
rfritz@u.washington.edu

On Dec 10, 2008, at 1:56 AM, Lars O. Grobe wrote:

> I have seen the assumption of 80%, 50%, 20% neutral grey levels for  
> office spaces quite a lot, but I wonder if there is anything like a  
> standard for a "generic" office environment anywhere. Does anyone  
> have a link to a recommendation what to use when doing studies on an  
> office space whose surface properties are not known yet?


From maricanis at gmail.com  Wed Dec 10 08:20:30 2008
From: maricanis at gmail.com (Marija Velickovic)
Date: Wed Dec 10 08:20:31 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <493FE80C.1010807@gmx.net>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
	<4938DF21.5000804@gmx.net> <4938F959.6040208@ise.fraunhofer.de>
	<493FAB44.2050805@gmx.net>
	<124b40400812100408l388276b3w31d513b80fa2f693@mail.gmail.com>
	<493FE00C.2050304@gmx.net>
	<124b40400812100754y2901bda7ua02a61dc60a71a78@mail.gmail.com>
	<493FE80C.1010807@gmx.net>
Message-ID: <124b40400812100820q5a4d2f52k99a2a545864e176c@mail.gmail.com>

Hi,

One more idea.
On Daysim site you can find very nice Reinhart paper about simulation of
translucent glazings (+ he added few translucent materials to materials
database in Daysim, and you can also use them in Radiance)
Also Reinhart has a paper about complex fenestration systems, maybe there is
something interesting there (I haven't read the paper )

CU, Marija.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081210/3c409131/attachment-0001.htm
From smichel_designer at hotmail.com  Wed Dec 10 17:50:11 2008
From: smichel_designer at hotmail.com (steve michel)
Date: Wed Dec 10 17:50:14 2008
Subject: [Radiance-general] Reference reflectances for office space
	surfaces?
In-Reply-To: <493F9256.1080807@gmx.net>
References: <493F9256.1080807@gmx.net>
Message-ID: <BAY143-W411791249FA01A2C30CE6DE0F80@phx.gbl>


IESNA recommends 80% ceiling reflectance and 60% forwindow wall reflectances and 30-70% for windowless walls.  see NRC C.O.P.E. research for further infohttp://irc.nrc-cnrc.gc.ca/ie/cope/04-3-Lighting_Design_e.html#_Elementshope that helpssteve> Date: Wed, 10 Dec 2008 17:56:38 +0800> From: grobe@gmx.net> To: radiance-general@radiance-online.org> Subject: [Radiance-general] Reference reflectances for office space surfaces?> > I have seen the assumption of 80%, 50%, 20% neutral grey levels for > office spaces quite a lot, but I wonder if there is anything like a > standard for a "generic" office environment anywhere. Does anyone have a > link to a recommendation what to use when doing studies on an office > space whose surface properties are not known yet?> > Thank you, Lars.> > _______________________________________________> Radiance-general mailing list> Radiance-general@radiance-online.org> http://www.radiance-online.org/mailman/listinfo/radiance-general
_________________________________________________________________

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081210/3934b3eb/attachment.html
From encase at encaseindia.com  Wed Dec 10 21:14:03 2008
From: encase at encaseindia.com (EncaseIndia)
Date: Wed Dec 10 21:07:28 2008
Subject: [Radiance-general] Installating Radiance in Ubuntu 7.10
Message-ID: <00ac01c95b4f$4ad7a400$3b00a8c0@Jiten>

Dear All,

Is there a step by step installation guide for installing Radiance in Ubuntu 7.10?

I did the following:

1) Tried downloading using Synaptic Manager and apt-get. Radiance does not show in list of available packages.

2) Downloaded source from Radiance Home page.

3) Installed tcsh and ran the script as follows:
    tcsh makeall install

4) Radiance was installed, but some errors were shown in config.log.
    Trad was not installed. Some libtiff was not installed/ working.

5) Googled the error codes. There was a suggestion to download g++4.1 and tcl 8.5. Installed same using Synaptic, but was not able to overcome the error.

6) My system config:
    Compaq Presario - Intel CPU, Celeron 2.5 Ghz and 512MB ram 

Kindly help as I don't know what else to do.

Regards,
JP
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081211/c5e6f841/attachment.htm
From grobe at gmx.net  Wed Dec 10 22:05:08 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Dec 10 22:05:16 2008
Subject: [Radiance-general] Installating Radiance in Ubuntu 7.10
In-Reply-To: <00ac01c95b4f$4ad7a400$3b00a8c0@Jiten>
References: <00ac01c95b4f$4ad7a400$3b00a8c0@Jiten>
Message-ID: <4940AD94.4080609@gmx.net>

Radiance is part of current ubuntu installation. I would strongly advice 
users using the packages, if you do not have very clear reasons not to 
do so (e.g. using modified code, extensions, special compile parameters, 
a certain release).

As you are using a very old ubuntu release, I would suggest that you 
have a look at the backports-server. Only if you do not find packages 
there, try to compile on your own.

Good luck, Lars.

From encase at encaseindia.com  Wed Dec 10 23:27:35 2008
From: encase at encaseindia.com (EncaseIndia)
Date: Wed Dec 10 23:23:00 2008
Subject: [Radiance-general] Installating Radiance in Ubuntu 7.10
References: <00ac01c95b4f$4ad7a400$3b00a8c0@Jiten> <4940AD94.4080609@gmx.net>
Message-ID: <000601c95b62$173a7740$3b00a8c0@Jiten>

Hi Lars,

Thanks for the advise. I have customised Ubuntu 7.10 for my needs and also 
have a very old PC. So, I did not upgrade to the latest version of Ubuntu.

I tried the back-ports server from Ubuntu 7.10 but Synaptic as well as 
apt-get did not report Radiance as available.

Will now upgrade to Ubuntu 8.10 as per your recommendations.

Regards,
Jiten


----- Original Message ----- 
From: "Lars O. Grobe" <grobe@gmx.net>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Sent: Thursday, December 11, 2008 11:35 AM
Subject: Re: [Radiance-general] Installating Radiance in Ubuntu 7.10


> Radiance is part of current ubuntu installation. I would strongly advice 
> users using the packages, if you do not have very clear reasons not to do 
> so (e.g. using modified code, extensions, special compile parameters, a 
> certain release).
>
> As you are using a very old ubuntu release, I would suggest that you have 
> a look at the backports-server. Only if you do not find packages there, 
> try to compile on your own.
>
> Good luck, Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> 


From jan.wienold at ise.fraunhofer.de  Wed Dec 10 13:32:41 2008
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Thu Dec 11 06:53:57 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <493FAB44.2050805@gmx.net>
References: <49378E3A.8050803@gmx.net>	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>	<4938F959.6040208@ise.fraunhofer.de>
	<493FAB44.2050805@gmx.net>
Message-ID: <49403579.7040704@ise.fraunhofer.de>

Hi Lars and Marija,


the mentioned restriction occur also for glazings, which are defined as
BRTDfunc!

That means, the angular information of the BRTD is lost for the glow
material (= sky distribution). This means for example, the the
circumsolar range of a sun with high altitude will contribute in the
same way as other parts of the sky with lower angles of incidence. And
all the contributions from glow will be distributed lambertian from the
inner pane. So whenever you use a sky distribution (e.g. with gendaylit
or within DAYSIM), the  occurred  difference may be significant.
This modeling may be sufficient for many applications, but you must be
aware of loosing the angular information as soon as the ambient
calculation hits BRTDfunc.
My way is to use other standard material which do not show those
restriction and to mix them together according to the
transmission/reflection properties (which I get either from the
manufacturer or I generate them with window  or WIS. The "mix-func-fix
takes me 10 min and then I'll get a model which works for (hopefully ;-)
) all situations.

The other comments are below:

Lars O. Grobe wrote:
>
>> A remark from me: I never use BRTF in RADIANCE now, since all the
>> angular information you put into your model is lost for the glow
>> material. That means, if you model a specific sky luminance distribution
>> and you are using BTDF-func, no angular information of your BTDF-model
>> is used! It is treated lambertian ! And this is especially hard, if you
>> want to model a system, which is intended to redirect the bright
>> zenith sky.
>>  If I model advanced glazings, I use either standard glass and modify it
>> by brightfunc or for high reflective materials I use a mixfunc of glass
>> (+brightfunc) and metal. I always check the angular transmission and
>> reflection of the model by a virtual measuement - and I also test, if it
>> still works for the sky.
> Hi Jan, hi list,
>
> one more late reply to this. At the moment I am setting up the
> materials for a model with known specifications for the glazing, but I
> do not have samples to measure. So if I want to get a material
> description e.g. for a double-glazing including coating and such, I
> use the script glaze to have some reasonable values that I could not
> produce else (and I can write this down as a reproduceable routine for
> the docs). I could use Optics and access the glazing database, but for
> some strange reason it requires administrator access to a Windows
> maching that I do not have at the moment (did anyone manage to open
> the database file using something like Openoffice?) - but also Optics
> would give me brtf modifiers.
>
> Did anyone try to model such glazings in radiance, using dielectric
> and interface? What are you using for defining glass panes if no
> samples to measure are available? Ah, and one more question (which
> leads me back to the idea of modeling glazing), what about glazings
> that consist of laminated glass panes + non-uniform laminate (such as
> printed screens for sun protection or advertising), would it be
> possible to model these using dielectric&interface, having one (very)
> thin layer for the laminate modified by a pattern and two dielectric
> layers of glass on both sides? Is it complete nonsense to try modeling
> such layers geometrically (there will be a limit as the thinnest
> layers surfaces may get too close to each other)? Or is all this
> trouble about considering the coatings and such only introducing
> error, and a simple clear glass definition ignoring the coating would
> still be "better" to use?
A colleague of mine -Francesco Frontini - is currently just doing this
(=geometric modeling), even extending your ideas having printings at
very specific positions and having three layers (directed laminated
using interface, printings modeled with plastic or trans).  In principle
it is possible to model it like that, but it is a rather hard job to get
a reliable model. My colleague is working on that issue for months and
is trying to get close to the laboratory measurements. As far as we are
now, we cannot get a potential contribution of multi-internal
reflections within the glass for the sun as light source (the plastic
stripes reflect the light and there should be a certain light transport
to the inner side). The ambient calculation will not find the sun - even
if the parameters for ad is increased radically. But this is as I
expected before. But the direct light transport and the sun blocking for
certain angles (that's the purpose of the system) works more or less
like in theory.

Cheers,

Jan

>
> TIA&CU... Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dipl.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30



From grobe at gmx.net  Thu Dec 11 07:44:59 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Dec 11 07:45:14 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <49403579.7040704@ise.fraunhofer.de>
References: <49378E3A.8050803@gmx.net>	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>	<4938F959.6040208@ise.fraunhofer.de>	<493FAB44.2050805@gmx.net>
	<49403579.7040704@ise.fraunhofer.de>
Message-ID: <4941357B.6000500@gmx.net>

> the mentioned restriction occur also for glazings, which are defined as
> BRTDfunc!

Thank you for the clarification Jan, I had completely misunderstood this!

> My way is to use other standard material which do not show those
> restriction and to mix them together according to the
> transmission/reflection properties (which I get either from the
> manufacturer or I generate them with window  or WIS. The "mix-func-fix
> takes me 10 min and then I'll get a model which works for (hopefully ;-)
> ) all situations.

By standard material you mean glass (or trans or dielectric)? And you
use mix-func to describe the reflected component? Has this been
published somewhere? I never came across it so far...

> is trying to get close to the laboratory measurements. As far as we are
> now, we cannot get a potential contribution of multi-internal
> reflections within the glass for the sun as light source (the plastic
> stripes reflect the light and there should be a certain light transport
> to the inner side). The ambient calculation will not find the sun - even
> if the parameters for ad is increased radically.

Hm, is this something that could be better modeled using the pmap
extension? Or is the number of interreflections between the surfaces
(with their little distance) simply too high? I guess that you mean the
interreflections under low angles, right?

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3617 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20081211/be0288e4/smime-0001.bin
From gregoryjward at gmail.com  Thu Dec 11 08:52:16 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Dec 11 08:52:12 2008
Subject: [Radiance-general] Re: BRTF for glazing
In-Reply-To: <49403579.7040704@ise.fraunhofer.de>
References: <49378E3A.8050803@gmx.net>	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>	<4938F959.6040208@ise.fraunhofer.de>
	<493FAB44.2050805@gmx.net> <49403579.7040704@ise.fraunhofer.de>
Message-ID: <4E8957AD-1A8F-44C1-B2C9-8973B26F869D@lmi.net>

Hi Jan, Lars:

It's important when discussing these material types to be aware of  
what works and what doesn't.  While I concede that the BRTDfunc type  
does not account for the sky correctly in it's "directional-diffuse"  
component, the diffuse and specular components are done properly.  In  
the case of a glazing system that has a mixture of specular peaks  
(reflected and transmitted) and diffuse (e.g., scattering from frit),  
the BRTDfunc does a perfectly adequate job.  This is why it is  
employed in the glaze script and other places to represent glazings.   
You'll notice that the directional-diffuse part of the glaze output  
materials are zero.

Cheers,
-Greg

From grobe at gmx.net  Sun Dec 14 19:44:58 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Dec 14 19:45:08 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <493FAB44.2050805@gmx.net>
References: <49378E3A.8050803@gmx.net>	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>	<4938F959.6040208@ise.fraunhofer.de>
	<493FAB44.2050805@gmx.net>
Message-ID: <4945D2BA.7000206@gmx.net>

Hi List!
> I could use Optics and access the glazing database, but for some 
> strange reason it requires administrator access to a Windows maching 
> that I do not have at the moment (did anyone manage to open the 
> database file using something like Openoffice?) - but also Optics 
> would give me brtf modifiers. 

Just a note, the database files are MS Access file and can be opened 
e.g. using gmdb2 (GNOME MDB Viewer)...

CU Lars.

From encase at encaseindia.com  Mon Dec 15 02:38:43 2008
From: encase at encaseindia.com (EncaseIndia)
Date: Mon Dec 15 02:32:17 2008
Subject: [Radiance-general] Installing Radiance in Ubuntu 7.10 -
	Step-by-Step guide
Message-ID: <009401c95ea1$51dd1a00$3b00a8c0@Jiten>

Dear All,

I have spent a lot of time and was finally able to install a working copy of Radiance. Below is a small guide to compile and install Radiance in Ubuntu 7.10 Gutsy Gibbon. I hope that someone finds it useful.

Regards,
JP

Install Radiance R3.9 in Ubuntu (7.10) Gutsy Gibbon
====================================================

A step-by-step guide (1st Draft)
--------------------------------

Dec 15, 2008

First, I am a relatively new user of Radiance and Ubuntu. I would like to help newbies like me to get Radiance working on Ubuntu Gutsy Gibbon with as little
pain as possible.

Why?
a) For using Radiance on older machines.
b) I find Ubuntu 7.10 perfect for my needs and am reluctant to upgrade to Ubuntu 8.10.

There may be others like me, so this small guide is intended for them.

We will install Radiance from source, but there are alternatives though like:

1) change your distro or upgrade to Ubuntu 8.10
2) try intrepid (Ubuntu 8.10) packages by using backports

 Binary files for Ubuntu 8.10 are available for download
        at the following site:

 https://launchpad.net/ubuntu/+source/radiance/3R9+20080530-4

3) get live CD, learnix-2008-1_beta.iso (which uses Ubuntu 8.10) from: 

       ftp://luminance.londonmet.ac.uk/pub/learnix/learnix-2008-1_beta.iso


OK, let's start the process to compile radiance from source package:


First Step:
-----------

We need to download the required packages and their dependencies to compile using synaptic package manager:

 -   tcsh
 -   libtiff
 -   g++
 -   g++4.1
 -   tcl8.5
 -   tk8.4
 -   libc6-dev
 -   libx11-dev

or type following in terminal:
# sudo apt-get install tcsh libtiff g++ g++4.1 tcl8.5 tk8.4 libc6-dev libx11-dev

Depending on your internet connection and your machine this may take some time.


Second Step:
------------

Prepare the Radiance for compiling
Create a directory in your HOME directory:
# mkdir build

Change the working directory to it:
# cd build

Download Radiance sources:
# wget http://radsite.lbl.gov/radiance/download/rad3R9all.tar.gz

Unpack it:
# tar -xvf rad3R9all.tar.gz

Change the working directory to the source directory:
# cd ray


Third Step:
-----------
Compiling it:
This generates the necessary files and checks your system:

#sudo tcsh makeall install

Give following answers to the queries generated by the install script:
Q1. Default editor [vi]?
Ans: y

Q2. Install to location usr/local/bin:
Ans. y

Q3. Read the license agreement ...
Ans. Scroll down using space bar. At the end it will ask:
   q. Do you agree [n]:
   ans. y

Q4. Type of install? Choose from Sun, Sparc, Linux, etc. 
    Linux is listed at number 6
Ans. 6

Q5. Copy library files to 'usr/local/lib/ray'?
Ans. y

Q6. Install library files now?
Ans. y

Q7. Current rmake command is 
    #!bin/sh
    ....
    Do you want to change it?
Ans. n


The programs and libraries are copied to usr/local/bin and 
usr/local/lib/ray respectively.

The environment variable Raypath is automatically set.

If all goes well you will have a working installation of Radiance. 


Note
----
1) In my case, the installation ended with the message 
   "there were some errors"
   As far as I was able to make out, this was because: 

   - libtiff was not compiled due to some compiler sanity check

   - However, since latest libtiff was already downloaded and installed in
     first Step in Ubuntu, this did not cause a problem.

2) Some binary files from installation directory:

     i.e. /build/ray/src/px

     like macbethcal, pcomb, pfilt, ra-bmp, ... ttyimage, etc.
     were not automatically copied to the /usr/local/bin directory.

     - So I manually copied the files using the nautilus file manager
       as root by using the following command:
  
       sudo nautilus

    Note: copy the files whose icons are a rotated square with gears
          to the /usr/local/bin directory

3)  For more details about the errors please refer to a file
    named as config.log. You can search for this file from the desktop
    menu:
        Places--->
                Search for files (with magnifying glass icon)

    The config.log file in my case was located at:
        ubuntu/build/ray/src/px/tiff/config.log 


Conclusion:
-----------

I hope that this guide is helpful. It has been written with the best of intentions. There may be errors, so I request advanced users to kindly review it and update the same.
 
Wishing you all the best.
Jiten


References:
-----------

http://www.radiance-online.org/pipermail/radiance-general/2008-February/004779.html

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081215/751dfcbd/attachment.htm
From rdmitchell at lbl.gov  Mon Dec 15 11:57:54 2008
From: rdmitchell at lbl.gov (Robin Mitchell)
Date: Mon Dec 15 11:57:55 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <4945D2BA.7000206@gmx.net>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
	<4938DF21.5000804@gmx.net> <4938F959.6040208@ise.fraunhofer.de>
	<493FAB44.2050805@gmx.net> <4945D2BA.7000206@gmx.net>
Message-ID: <73EEFCBB6AA54494A20C5C684AFE46DD@lbl.gov>

The Optics5 IGDB database (glazing.mdb) is password protected, in order to
keep general users from changing the data.

If you want to get the spectral data information for records in the
glazing.mdb file, I would recommend getting it from the WINDOW 5 / 6 program
database -- the WINDOW Glass Library allows importing of records from the
glazing.mdb file, and all the spectral data information is copied into the
WINDOW database, which is not password protected (the default WINDOW
database is W5.mdb or W6.mdb, an MS Access database).

However, if you need the BRTF information, I suggest that you use the
function in Optics5 that writes a Radiance file (File menu / Export Radiance
file). Optics5 calculates the BRTF functions from the spectral data, so
getting the raw spectral data (directly from the databases) may not result
in information that is useful to Radiance.

Both Optics and WINDOW are available for download (no charge, courtesy of
the US Department of Energy) on our website:

http://windows.lbl.gov/software/


Robin
******
Robin Mitchell
Windows & Daylighting Group
Lawrence Berkeley National Laboratory

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Lars O.
Grobe
Sent: Sunday, December 14, 2008 7:45 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BRTF for glazing

Hi List!
> I could use Optics and access the glazing database, but for some 
> strange reason it requires administrator access to a Windows maching 
> that I do not have at the moment (did anyone manage to open the 
> database file using something like Openoffice?) - but also Optics 
> would give me brtf modifiers. 

Just a note, the database files are MS Access file and can be opened 
e.g. using gmdb2 (GNOME MDB Viewer)...

CU Lars.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Mon Dec 15 12:05:25 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Dec 15 12:05:16 2008
Subject: [Radiance-general] BRTF for glazing
In-Reply-To: <73EEFCBB6AA54494A20C5C684AFE46DD@lbl.gov>
References: <49378E3A.8050803@gmx.net> <4938DB56.7070208@ise.fraunhofer.de>
	<4938DF21.5000804@gmx.net> <4938F959.6040208@ise.fraunhofer.de>
	<493FAB44.2050805@gmx.net> <4945D2BA.7000206@gmx.net>
	<73EEFCBB6AA54494A20C5C684AFE46DD@lbl.gov>
Message-ID: <7CDF26BD-074D-4F98-8031-E9F5FE98205A@lmi.net>

Thanks, Robin.

Just wanted to add a reminder to folks using Optics output that the  
Radiance "optics2rad" program fixes some compatibility issues and  
should be used to mediate the exported Optics description.

-Greg

> From: "Robin Mitchell" <rdmitchell@lbl.gov>
> Date: December 15, 2008 11:57:54 AM PST
>
> The Optics5 IGDB database (glazing.mdb) is password protected, in  
> order to
> keep general users from changing the data.
>
> If you want to get the spectral data information for records in the
> glazing.mdb file, I would recommend getting it from the WINDOW 5 /  
> 6 program
> database -- the WINDOW Glass Library allows importing of records  
> from the
> glazing.mdb file, and all the spectral data information is copied  
> into the
> WINDOW database, which is not password protected (the default WINDOW
> database is W5.mdb or W6.mdb, an MS Access database).
>
> However, if you need the BRTF information, I suggest that you use the
> function in Optics5 that writes a Radiance file (File menu / Export  
> Radiance
> file). Optics5 calculates the BRTF functions from the spectral  
> data, so
> getting the raw spectral data (directly from the databases) may not  
> result
> in information that is useful to Radiance.
>
> Both Optics and WINDOW are available for download (no charge,  
> courtesy of
> the US Department of Energy) on our website:
>
> http://windows.lbl.gov/software/
>
> Robin

From ltbrugman70 at hotmail.com  Mon Dec 15 16:23:12 2008
From: ltbrugman70 at hotmail.com (M. Brugman)
Date: Mon Dec 15 16:23:38 2008
Subject: [Radiance-general] Finding the difference between illuminance at
	two points in a .pic
Message-ID: <BAY125-W49AF2AE0D0703C677A87DDB0F50@phx.gbl>


Hello Radiance users!

I have an interesting dilemma. I want to find the total difference in illuminance values between two .pic files, summed for each point in the .pic. 

Basically, this would allow me to take two .pic files and fingure out the total difference in illuminance between the two scenes. Of course, the two .pic files are the same view of the same scene, only the source and reflectance characteristics are changing.

It should be noted that I'm looking for a way to calculate a single value for the whole .pic, not a difference image or something of that sort.

Thanks for any help you can offer!

 - Matt Brugman

_________________________________________________________________
Send e-mail anywhere. No map, no compass.
http://windowslive.com/Explore/hotmail?ocid=TXT_TAGLM_WL_hotmail_acq_anywhere_122008
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081215/15ace3fb/attachment.html
From gregoryjward at gmail.com  Mon Dec 15 16:48:05 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Dec 15 16:48:08 2008
Subject: [Radiance-general] Finding the difference between illuminance at
	two points in a .pic
In-Reply-To: <BAY125-W49AF2AE0D0703C677A87DDB0F50@phx.gbl>
References: <BAY125-W49AF2AE0D0703C677A87DDB0F50@phx.gbl>
Message-ID: <071395E1-8367-4B8D-9145-FD6FB2830510@lmi.net>

Hi Matt,

Try this:

	rlam -if '!pvalue -h -H -b -df input1.pic' '!pvalue -h -H -b -df  
input2.pic' \
		| rcalc -if2 -of '$1=$1-$2' | total -if -m

This should work with any recent Radiance release.  Older releases  
don't support the binary options, so you'll need the slower version:

	rlam '!pvalue -h -H -b -d input1.pic' '!pvalue -h -H -b -d  
input2.pic' \
		| rcalc '$1=$1-$2' | total -m

You may need to escape the '!' in the above commands if you use the C- 
shell, which claims this as its history character.

Note I've added the -m option to each of the total commands.  This  
computes the "average difference" between pixels, rather than the  
sum.  I don't know what the sum would mean, which is why I added -m.

-Greg

> From: "M. Brugman" <ltbrugman70@hotmail.com>
> Date: December 15, 2008 4:23:12 PM PST
>
> Hello Radiance users!
>
> I have an interesting dilemma. I want to find the total difference  
> in illuminance values between two .pic files, summed for each point  
> in the .pic.
>
> Basically, this would allow me to take two .pic files and fingure  
> out the total difference in illuminance between the two scenes. Of  
> course, the two .pic files are the same view of the same scene,  
> only the source and reflectance characteristics are changing.
>
> It should be noted that I'm looking for a way to calculate a single  
> value for the whole .pic, not a difference image or something of  
> that sort.
>
> Thanks for any help you can offer!
>
>  - Matt Brugman

From grobe at gmx.net  Tue Dec 16 02:13:53 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Dec 16 02:14:04 2008
Subject: [Radiance-general] PVB laminated single glazing & glaze
Message-ID: <49477F61.8090401@gmx.net>

Hi,

I ran into a strange problem. I want to model a PVB single glazing pane 
(which means two glass panes with interlayer). Still, as their is no 
space between the panes, I choose number of panes=1, and I am pretty 
sure that this is the right way to do this - am I wrong? Next, I have to 
either define the outer and inner surfaces (s1, s2). I choosed s1=clear 
glass and s2=laminated pvb, according to the rule that all glass 
materials are defined from the viewer's side. Still this is not really 
clear, so I would like to ask if I am doing something completely wrong 
here or if I understood the script right?

TIA, CU Lars.

From oscar at arisbv.nl  Tue Dec 16 02:39:19 2008
From: oscar at arisbv.nl (Oscar)
Date: Tue Dec 16 02:39:26 2008
Subject: [Radiance-general] (no subject)
Message-ID: <49478557.6070507@arisbv.nl>




From dbs176 at gmail.com  Tue Dec 16 10:59:17 2008
From: dbs176 at gmail.com (dbs176@gmail.com)
Date: Tue Dec 16 10:59:20 2008
Subject: [Radiance-general] Oconv and IES photometrics
Message-ID: <001636164aa76ebe4d045e2e8e07@google.com>

Hi all,

I'd like to create a library of packaged luminaire geometry and photometric  
(.IES) data that I can drop into my scenes. However, it seems as though the  
photometric data will only last through one oconv command. It's the same  
behavior if the octree is frozen or not, and all of the files remain in the  
same directory. The geometry itself works just fine. Should I just stick to  
xform-ing RAD files (I was under the impression that OCT instances saved  
memory) or is there something I'm overlooking?

Thanks in advance.

Cheers,
--Dave



Here's an example that (I think) should have two light sources:

#[test.rad]
void plastic mat 0 0 5 .4 .4 .4 0 0
!genbox mat box 250 250 1
void instance lightsource 5 light.oct -t 100 100 100 0 0
!xform -t 200 200 100 light.rad
#[/test.rad]

Commands:
ies2rad -dm/1000 light.ies
oconv -f light.rad > light.oct
objview test.rad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081216/7cc8a8b9/attachment.htm
From rpg at rumblestrip.org  Tue Dec 16 11:06:41 2008
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Dec 16 11:06:42 2008
Subject: [Radiance-general] Oconv and IES photometrics
In-Reply-To: <001636164aa76ebe4d045e2e8e07@google.com>
References: <001636164aa76ebe4d045e2e8e07@google.com>
Message-ID: <4947FC41.3010106@rumblestrip.org>

dbs176@gmail.com wrote:
> Hi all,
>
> I'd like to create a library of packaged luminaire geometry and 
> photometric (.IES) data that I can drop into my scenes. However, it 
> seems as though the photometric data will only last through one oconv 
> command. It's the same behavior if the octree is frozen or not, and 
> all of the files remain in the same directory. The geometry itself 
> works just fine. Should I just stick to xform-ing RAD files (I was 
> under the impression that OCT instances saved memory) or is there 
> something I'm overlooking?

Hi Dave,

This thread will prove enlightening:
http://www.radiance-online.org/pipermail/radiance-general/2003-August/000946.html

Basically, no, you cannot instance light sources. 
--------------------------------------------
Rob Guglielmetti
www.rumblestrip.org



From gregoryjward at gmail.com  Tue Dec 16 10:32:47 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Dec 16 11:13:58 2008
Subject: [Radiance-general] PVB laminated single glazing & glaze
In-Reply-To: <49477F61.8090401@gmx.net>
References: <49477F61.8090401@gmx.net>
Message-ID: <847BFCBE-634F-4EDA-9C6A-85532591BDC9@lmi.net>

Hi Lars,

This may be the best you can achieve with the existing script.   
Without an air gap, you won't get as much internal reflection in the  
system, but there may still be some caused by the PVB interlayer.  It  
depends on its structure and index of refraction.  The glaze script  
was not really designed to model such systems, but I can't point you  
in a better direction at the moment.

Best,
-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: December 16, 2008 2:13:53 AM PST
>
> Hi,
>
> I ran into a strange problem. I want to model a PVB single glazing  
> pane (which means two glass panes with interlayer). Still, as their  
> is no space between the panes, I choose number of panes=1, and I am  
> pretty sure that this is the right way to do this - am I wrong?  
> Next, I have to either define the outer and inner surfaces (s1,  
> s2). I choosed s1=clear glass and s2=laminated pvb, according to  
> the rule that all glass materials are defined from the viewer's  
> side. Still this is not really clear, so I would like to ask if I  
> am doing something completely wrong here or if I understood the  
> script right?
>
> TIA, CU Lars.

From jedev at visarc.com  Tue Dec 16 11:16:36 2008
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Dec 16 11:16:58 2008
Subject: [Radiance-general] Oconv and IES photometrics
In-Reply-To: <001636164aa76ebe4d045e2e8e07@google.com>
References: <001636164aa76ebe4d045e2e8e07@google.com>
Message-ID: <4947FE94.7040107@visarc.com>

Hi Dave,

Lights cannot be included in instances or octrees that are then compiled 
into a higher level scene. One way to do things is as follows:

   1. compile all non light source fixture geometry (not geometry with
      light, illum or glow materials applied) into an instance object
      (eg a frozen octree)
   2. define your light source elements, such as ies photometry and
      possible glow sources to represent glowing sources (highly
      dependent on what you are trying to accomplish)

Then these two sets of data can be deployed via replmarks or xform (item 
one then needs to be incorporated into a radiance "instance" 
definition). Another added step could be to merge these two together as 
a radiance scene description referencing the instance (1) and sources (2).

Hope this helps.

-Jack

dbs176@gmail.com wrote:
> Hi all,
>
> I'd like to create a library of packaged luminaire geometry and 
> photometric (.IES) data that I can drop into my scenes. However, it 
> seems as though the photometric data will only last through one oconv 
> command. It's the same behavior if the octree is frozen or not, and 
> all of the files remain in the same directory. The geometry itself 
> works just fine. Should I just stick to xform-ing RAD files (I was 
> under the impression that OCT instances saved memory) or is there 
> something I'm overlooking?
>
> Thanks in advance.
>
> Cheers,
> --Dave
>
>
>
> Here's an example that (I think) should have two light sources:
>
> #[test.rad]
> void plastic mat 0 0 5 .4 .4 .4 0 0
> !genbox mat box 250 250 1
> void instance lightsource 5 light.oct -t 100 100 100 0 0
> !xform -t 200 200 100 light.rad
> #[/test.rad]
>
> Commands:
> ies2rad -dm/1000 light.ies
> oconv -f light.rad > light.oct
> objview test.rad
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081216/0e2374df/attachment.html
From jedev at visarc.com  Tue Dec 16 11:21:43 2008
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Dec 16 11:22:02 2008
Subject: [Radiance-general] PVB laminated single glazing & glaze
In-Reply-To: <847BFCBE-634F-4EDA-9C6A-85532591BDC9@lmi.net>
References: <49477F61.8090401@gmx.net>
	<847BFCBE-634F-4EDA-9C6A-85532591BDC9@lmi.net>
Message-ID: <4947FFC7.8010005@visarc.com>

Hi Lars and Greg,

I believe in optics that you can define a glazing unit that includes a 
PVB interlayer (eg two monolithic glass materials sandwiched together 
with a pvb interlayer, for example). Would it be reasonable to export 
this as a radiance description and then convert with the optics2rad script?

-Jack

Greg Ward wrote:
> Hi Lars,
>
> This may be the best you can achieve with the existing script.  
> Without an air gap, you won't get as much internal reflection in the 
> system, but there may still be some caused by the PVB interlayer.  It 
> depends on its structure and index of refraction.  The glaze script 
> was not really designed to model such systems, but I can't point you 
> in a better direction at the moment.
>
> Best,
> -Greg
>
>> From: "Lars O. Grobe" <grobe@gmx.net>
>> Date: December 16, 2008 2:13:53 AM PST
>>
>> Hi,
>>
>> I ran into a strange problem. I want to model a PVB single glazing 
>> pane (which means two glass panes with interlayer). Still, as their 
>> is no space between the panes, I choose number of panes=1, and I am 
>> pretty sure that this is the right way to do this - am I wrong? Next, 
>> I have to either define the outer and inner surfaces (s1, s2). I 
>> choosed s1=clear glass and s2=laminated pvb, according to the rule 
>> that all glass materials are defined from the viewer's side. Still 
>> this is not really clear, so I would like to ask if I am doing 
>> something completely wrong here or if I understood the script right?
>>
>> TIA, CU Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

From gregoryjward at gmail.com  Tue Dec 16 12:01:49 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Dec 16 12:01:52 2008
Subject: [Radiance-general] PVB laminated single glazing & glaze
In-Reply-To: <4947FFC7.8010005@visarc.com>
References: <49477F61.8090401@gmx.net>
	<847BFCBE-634F-4EDA-9C6A-85532591BDC9@lmi.net>
	<4947FFC7.8010005@visarc.com>
Message-ID: <B9D80F82-E752-4EBC-B65C-3D5F0EAD93C5@lmi.net>

I don't know Optics, but it sounds good to me!

-Greg

> From: Jack de Valpine <jedev@visarc.com>
> Date: December 16, 2008 11:21:43 AM PST
>
> Hi Lars and Greg,
>
> I believe in optics that you can define a glazing unit that  
> includes a PVB interlayer (eg two monolithic glass materials  
> sandwiched together with a pvb interlayer, for example). Would it  
> be reasonable to export this as a radiance description and then  
> convert with the optics2rad script?
>
> -Jack
>

From rdmitchell at lbl.gov  Tue Dec 16 12:02:48 2008
From: rdmitchell at lbl.gov (Robin Mitchell)
Date: Tue Dec 16 12:02:46 2008
Subject: [Radiance-general] PVB laminated single glazing & glaze
In-Reply-To: <847BFCBE-634F-4EDA-9C6A-85532591BDC9@lmi.net>
References: <49477F61.8090401@gmx.net>
	<847BFCBE-634F-4EDA-9C6A-85532591BDC9@lmi.net>
Message-ID: <98721F56AFBD4A1A89E8A0B3F0072BCE@lbl.gov>

Lars -

I'm not sure if this is helpful, but it is possible to model laminated
glazing system such as you are describing in the Optics5 program, and then
you can generate a Radiance file from Optics5. 

Optics5 is available (at no charge, courtesy of the US Department of Energy)
on our website:

http://windows.lbl.gov/software/

And here is a detailed description of how to make laminates in Optics
(accessed from the Optics5 Knowledge Base).

http://windows.lbl.gov/software/NFRC/Training/LaminateProcedure-Final.pdf

Robin
******
Robin Mitchell
Windows & Daylighting Group
Lawrence Berkeley National Laboratory


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Greg Ward
Sent: Tuesday, December 16, 2008 10:33 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] PVB laminated single glazing & glaze

Hi Lars,

This may be the best you can achieve with the existing script.   
Without an air gap, you won't get as much internal reflection in the  
system, but there may still be some caused by the PVB interlayer.  It  
depends on its structure and index of refraction.  The glaze script  
was not really designed to model such systems, but I can't point you  
in a better direction at the moment.

Best,
-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: December 16, 2008 2:13:53 AM PST
>
> Hi,
>
> I ran into a strange problem. I want to model a PVB single glazing  
> pane (which means two glass panes with interlayer). Still, as their  
> is no space between the panes, I choose number of panes=1, and I am  
> pretty sure that this is the right way to do this - am I wrong?  
> Next, I have to either define the outer and inner surfaces (s1,  
> s2). I choosed s1=clear glass and s2=laminated pvb, according to  
> the rule that all glass materials are defined from the viewer's  
> side. Still this is not really clear, so I would like to ask if I  
> am doing something completely wrong here or if I understood the  
> script right?
>
> TIA, CU Lars.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From grobe at gmx.net  Tue Dec 16 19:52:41 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Dec 16 20:00:01 2008
Subject: [Radiance-general] Oconv and IES photometrics
In-Reply-To: <4947FE94.7040107@visarc.com>
References: <001636164aa76ebe4d045e2e8e07@google.com>
	<4947FE94.7040107@visarc.com>
Message-ID: <49487789.9010900@gmx.net>

Note: afaik Radzilla supports light sources in instances.

CU Lars.

From grobe at gmx.net  Tue Dec 16 19:54:15 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Dec 16 20:00:07 2008
Subject: [Radiance-general] PVB laminated single glazing & glaze
In-Reply-To: <98721F56AFBD4A1A89E8A0B3F0072BCE@lbl.gov>
References: <49477F61.8090401@gmx.net>	<847BFCBE-634F-4EDA-9C6A-85532591BDC9@lmi.net>
	<98721F56AFBD4A1A89E8A0B3F0072BCE@lbl.gov>
Message-ID: <494877E7.6050301@gmx.net>


> And here is a detailed description of how to make laminates in Optics
> (accessed from the Optics5 Knowledge Base).
>
> http://windows.lbl.gov/software/NFRC/Training/LaminateProcedure-Final.pdf
Thank you! I have just set up a Virtualbox Windows-VM for Optics, so I 
can have a look at that now :-)

CU Lars.

From grobe at gmx.net  Tue Dec 16 20:00:39 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Dec 16 20:00:43 2008
Subject: [Radiance-general] Probably a FAQ: Any .cal tutorials available?
Message-ID: <49487967.2080606@gmx.net>

Hi,

I guess many have asked this before, but is there an introduction into 
writing .cal-files available anywhere? I just know the "advanced topics" 
section of the Radiance user manual so far, and the topic is covered 
there by one short example only.

Thank you... Lars.

From gregoryjward at gmail.com  Tue Dec 16 20:26:51 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Dec 16 20:27:02 2008
Subject: [Radiance-general] Probably a FAQ: Any .cal tutorials available?
In-Reply-To: <49487967.2080606@gmx.net>
References: <49487967.2080606@gmx.net>
Message-ID: <5ECF1A22-146E-4EF7-83D0-AA1D478C1DDD@lmi.net>

Hi Lars,

Chapter 4 in RwR as well as Rob's Chapter 3 look at a few different  
examples of .cal file usage.  Others may know of additional resources  
worth mentioning.

-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: December 16, 2008 8:00:39 PM PST
>
> Hi,
>
> I guess many have asked this before, but is there an introduction  
> into writing .cal-files available anywhere? I just know the  
> "advanced topics" section of the Radiance user manual so far, and  
> the topic is covered there by one short example only.
>
> Thank you... Lars.
>

From grobe at gmx.net  Wed Dec 17 19:04:45 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Dec 17 19:04:50 2008
Subject: [Radiance-general] Probably a FAQ: Any .cal tutorials available?
In-Reply-To: <5ECF1A22-146E-4EF7-83D0-AA1D478C1DDD@lmi.net>
References: <49487967.2080606@gmx.net>
	<5ECF1A22-146E-4EF7-83D0-AA1D478C1DDD@lmi.net>
Message-ID: <4949BDCD.8060400@gmx.net>


> Chapter 4 in RwR as well as Rob's Chapter 3 look at a few different 
> examples of .cal file usage.  Others may know of additional resources 
> worth mentioning.
Thank You Greg,

yes, usually this is what I do, take an existing cal-file and modify it. 
But - I have to admit that in most cases, this is trial-and-error, I 
never really know what I am doing, and that is why I have been looking 
for an introduction really explaining step by step what is happening.

Guess  I will have to find out and write it myself once I understand it ;-)

CU Lars.

From tbleicher at arcor.de  Thu Dec 18 04:02:14 2008
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Dec 18 04:02:21 2008
Subject: [Radiance-general] Probably a FAQ: Any .cal tutorials available?
In-Reply-To: <49487967.2080606@gmx.net>
References: <49487967.2080606@gmx.net>
Message-ID: <85A1F0EF-CFAB-41F4-BF47-DE74905F2E24@arcor.de>


On 17 Dec 2008, at 04:00, Lars O. Grobe wrote:

> Hi,
>
> I guess many have asked this before, but is there an introduction  
> into writing .cal-files available anywhere?


I'd start with the rayinit.cal file where all the
variables are functions are defined and commented.
The function definitions there can also be seen as
mini examples for the syntax.

Regards,
Thomas


From grobe at gmx.net  Thu Dec 18 19:16:31 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Dec 18 19:20:06 2008
Subject: [Radiance-general] pmap & photon ports
Message-ID: <494B120F.2020200@gmx.net>

Hi,

I am having a question regarding pmap again. On p. 9 the manual says:

"The incident flux from distant sources is evaluated at each port
and the sources are checked for occlusion. However, no interreflection 
calculation
is made; ports differ from illums in this respect. Photons are scattered 
by the port
upon emission as if they had passed through it."

The general approach rendering a typical architectural scene would be to 
use surfaces at the windows as photon ports. To account for any kind of 
shading devices, I would have to place the photon port surface outside 
these devices.

Still, almost every architectural simulation includes obstruction from 
nearby building, trees etc. Now, as far as I understand the manual, 
these obstructions would only influence my scene following a visibility 
test (so either blocking light or not), but e.g. the surface 
characteristics of geometry such as reflectance would be neglected. Is 
this the case?

Thank you, CU Lars.

From captainb at cb-d.de  Fri Dec 19 02:47:01 2008
From: captainb at cb-d.de (Carsten Bauer)
Date: Fri Dec 19 02:47:04 2008
Subject: [Radiance-general] pmap &amp; photon ports
Message-ID: <200812191047.mBJAl1kB029475@post.webmailer.de>


-

> Still, almost every architectural simulation includes obstruction from 
> nearby building, trees etc. Now, as far as I understand the manual, 
> these obstructions would only influence my scene following a visibility 
> test (so either blocking light or not), but e.g. the surface 
> characteristics of geometry such as reflectance would be neglected. Is 
> this the case?

Hi Lars,

yes, this is the sad thruth. Considering reflections and what else may happen in the exterior area would in fact mean performing an extra photon distribution run to determine those photons which finally hit the port, no matter which way they took to get there. 

One way to circumvent this problem would be performing a classic mkillum-run for the daylight opening surface to consider all external interreflections, and then use this mkillum generated source as photon emitter (in this case, the redirection system should be located on the 'inside' of the mkillum source, i.e. not included in the mkillum distribution..)

-cb



From lam.way at pbworld.com  Fri Dec 19 20:54:29 2008
From: lam.way at pbworld.com (Lam, Way Ching-Wa)
Date: Fri Dec 19 20:54:38 2008
Subject: [Radiance-general] Radiance 3.1.8 Download
Message-ID: <C38124266F42B641B25F3668477B873A0C95FE@hkgm1.corp.pbwan.net>


Dear all, 

 

Due to some reasons I need to re-work on a daylight project where the
previous daylight analysis was done with Radiance 3.1.8 in 3 years ago

 

I intend to do the daylight analysis again with Radiance 3.1.8 but I
cannot find it from Radiance's official site, please kindly advise if
Radiance 3.1.8 is obsolete, or I can get it from other locations. 

 

Many thanks.

 

Regards, 

 

Way

 



___________________________
NOTICE: This communication and any attachments ("this message") may contain confidential information for 
the sole use of the intended recipient(s). Any unauthorized use, disclosure, viewing, copying, alteration, 
dissemination or distribution of, or reliance on this message is strictly prohibited. If you have received this
message in error, or you are not an authorized recipient, please notify the sender immediately by replying to 
this message, delete this message and all copies from your e-mail system and destroy any printed copies.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081220/321c9ff3/attachment.html
From grobe at gmx.net  Fri Dec 19 23:43:42 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Dec 19 23:50:27 2008
Subject: [Radiance-general] Radiance 3.1.8 Download
In-Reply-To: <C38124266F42B641B25F3668477B873A0C95FE@hkgm1.corp.pbwan.net>
References: <C38124266F42B641B25F3668477B873A0C95FE@hkgm1.corp.pbwan.net>
Message-ID: <494CA22E.103@gmx.net>

Hi,

it is archived on radsite:

http://radsite.lbl.gov/radiance/pub/old/

But I wonder why you were using that release three years ago (when 3.6
was available), and why you want to use it now. Re-running your
simulations using the latest release of Radiance should be easy, except
the name changes (rvu & Co) that you would have to solve - looks like
five minutes work compared to the trouble of getting that old release
set-up...

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3617 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20081220/9dc91eeb/smime.bin
From tbleicher at arcor.de  Sat Dec 20 09:23:20 2008
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sat Dec 20 09:31:23 2008
Subject: [Radiance-general] feeling guinea piggish?
Message-ID: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de>


< ting-a-ling, ting-a-ling, ting-a-ling-ting-ting >

Ho, ho, ho!

Just in time for the season of slow afternoons and
old TV show reruns I have compiled a preview of my
upcoming Sketchup exporter. This is a test version
and must not be used in a production environment!

Unfortunately it does not work with Internet Explorer
yet so Windows users will find little joy in installing
it. My apologies.

Mac OS X users are advised to upgrade to Sketchup 7 and
grab the zip file from the google code project page:

http://su2rad.googlecode.com/files/su2rad_Xmas_special_2008.zip

I have set up a web page with screen shots and some
comments here:

http://sites.google.com/site/tbleicher/su2rad/xmas-special-2008

I will be available on Monday for feedback or help, then
I'll leave for the holidays where I will most likely not
have internet available. I will resume support on the 2nd
of January next year.

So I hope it works for you (and if it doesn't ask yourself
'Have you been naughty ...?' ;)


Happy winter solstice celebrations,

Thomas








From akilog at nus.edu.sg  Sun Dec 21 20:28:09 2008
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Sun Dec 21 20:28:15 2008
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <4938F959.6040208@ise.fraunhofer.de>
References: <49378E3A.8050803@gmx.net>
	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>
	<4938F959.6040208@ise.fraunhofer.de>
Message-ID: <494F1759.9080707@nus.edu.sg>

Jan Wienold wrote:
>
> I have to admit, that we work here still with the 3.7 version (RADIANCE
> and pmap). No experience with 3.8.
> If you are using pmap, don't use the -I option for rtrace - it is giving
> you wrong values. This is one of the bugs we will solve in the near
> future. If you want to calculate the illuminance, you should calculate a
> 180 degree fish-eye-picture at  your calculation points and integrate
> the picture  (you can use findglare or evalglare to calc an illuminance
> from a picture)
>   

Hello again...

I have been thinking about what you wrote here, and I took a look at 
what findglare would give me from a picture (as I understood that 
findglare on an octree would also just call rtace -I thus give a wrong 
result). The manpage of findglare says:

"By default, findglare only computes glare sources and indirect vertical 
illuminance for the given view [...]"

So I would get only the indirect irradiance, while, to calculate the 
illuminance, I would need the total irradiance including direct 
irradiance e.g. from light sources visible from the point of view - 
right? So I cannot automate this using an existing tool but must write a 
script to integrate fish-eye projected pictures over the whole 
hemisphere, right?

Thank you for your support on all that pmap-related stuff!!!

Lars.

From jan.wienold at ise.fraunhofer.de  Mon Dec 22 01:04:01 2008
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Mon Dec 22 01:04:24 2008
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <494F1759.9080707@nus.edu.sg>
References: <49378E3A.8050803@gmx.net>	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>	<4938F959.6040208@ise.fraunhofer.de>
	<494F1759.9080707@nus.edu.sg>
Message-ID: <494F5801.3070902@ise.fraunhofer.de>

Hi Lars,

I think you are right. Anyhow, I'm not sure, if Roland implemented the
correct pmap conform rpict-call within findglare - I'm pretty sure he
never worked on that. Therefore there is no other way as rendering the
whole hemisphere and than evaluating the picture.
If you also plan to use evalglare (last week Stephen visited us and he
mentioned that), you have to do that anyhow.

Merry Christmas and best wishes for the 2009!

Jan


Lars O. Grobe wrote:
> Jan Wienold wrote:
>>
>> I have to admit, that we work here still with the 3.7 version (RADIANCE
>> and pmap). No experience with 3.8.
>> If you are using pmap, don't use the -I option for rtrace - it is giving
>> you wrong values. This is one of the bugs we will solve in the near
>> future. If you want to calculate the illuminance, you should calculate a
>> 180 degree fish-eye-picture at  your calculation points and integrate
>> the picture  (you can use findglare or evalglare to calc an illuminance
>> from a picture)
>>   
>
> Hello again...
>
> I have been thinking about what you wrote here, and I took a look at
> what findglare would give me from a picture (as I understood that
> findglare on an octree would also just call rtace -I thus give a wrong
> result). The manpage of findglare says:
>
> "By default, findglare only computes glare sources and indirect
> vertical illuminance for the given view [...]"
>
> So I would get only the indirect irradiance, while, to calculate the
> illuminance, I would need the total irradiance including direct
> irradiance e.g. from light sources visible from the point of view -
> right? So I cannot automate this using an existing tool but must write
> a script to integrate fish-eye projected pictures over the whole
> hemisphere, right?
>
> Thank you for your support on all that pmap-related stuff!!!
>
> Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dipl.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30


From maricanis at gmail.com  Mon Dec 22 04:56:42 2008
From: maricanis at gmail.com (Marija Velickovic)
Date: Mon Dec 22 04:56:44 2008
Subject: [Radiance-general] rtrace parallelization
Message-ID: <124b40400812220456w7ac39da8s62f33b2fd2cb99b4@mail.gmail.com>

Hi,

I need to perform some rtrace calculations for big number of points and
rather high calculation parameters, so I'm trying to use the full potential
of dual core machines.
I saw that for example rvu or rad programs have option -n or -N to define
number of parallel processes to be started. Is similar parallelization
possible in rtrace program?
I've found "-PP pfile" option but I'm not sure how to use it. I supposed
that "pfile" should be empty so program can write into it some control
variables. When I started rtrace with -PP option 2 processes are created:
one for my  rtrace and one child rtrace process with the same parameters.
When I tried to explore running processes it seems that only the first one
is really running, while the second one is sleeping - so I don't have real
paralellization here.

I suppose I haven't understood something well, so if someone has the
experience with rtace running on multiprocessor machines, please send me
some ideas/hints.

Happy holidays to all list members and their families,
Marija
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081222/5e5f9c37/attachment.html
From akilog at nus.edu.sg  Mon Dec 22 05:06:57 2008
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Mon Dec 22 05:07:01 2008
Subject: [Radiance-general] rtrace parallelization
In-Reply-To: <124b40400812220456w7ac39da8s62f33b2fd2cb99b4@mail.gmail.com>
References: <124b40400812220456w7ac39da8s62f33b2fd2cb99b4@mail.gmail.com>
Message-ID: <494F90F1.1070106@nus.edu.sg>

Hi!
>
> I've found "-PP pfile" option but I'm not sure how to use it. I 
> supposed that "pfile" should be empty so program can write into it 
> some control variables. When I started rtrace with -PP option 2 
> processes are created: one for my  rtrace and one child rtrace process 
> with the same parameters. When I tried to explore running processes it 
> seems that only the first one is really running, while the second one 
> is sleeping - so I don't have real paralellization here.

You can attach more processes by starting them with the same -PP-option. 
Sp if you had "rtrace (other rtrace-options) -PP control.pfile" started, 
just start one more "rtrace -PP control.file", but leave the other 
rtrace options empty as the second (or third or forth) process will use 
the same as the first one. Hopes that works, as it is a while since I 
did that and I have no example to start here.

CU Lars.

From maricanis at gmail.com  Mon Dec 22 06:33:55 2008
From: maricanis at gmail.com (Marija Velickovic)
Date: Mon Dec 22 06:34:26 2008
Subject: [Radiance-general] rtrace parallelization
In-Reply-To: <494F90F1.1070106@nus.edu.sg>
References: <124b40400812220456w7ac39da8s62f33b2fd2cb99b4@mail.gmail.com>
	<494F90F1.1070106@nus.edu.sg>
Message-ID: <124b40400812220633k38dd9798v94b1a9346174e513@mail.gmail.com>

Hi Lars,

I followed your advice but still first rtrace is running and other rtrace
processes are sleeping.

When I run two separate rtrace processes without -PP option and with
different input data they both run in parallel without a problem.
I suppose I'm doing something wrong, so other ideas are welcome!

Marija

On Mon, Dec 22, 2008 at 2:06 PM, Lars O. Grobe <akilog@nus.edu.sg> wrote:

> Hi!
>
>>
>> I've found "-PP pfile" option but I'm not sure how to use it. I supposed
>> that "pfile" should be empty so program can write into it some control
>> variables. When I started rtrace with -PP option 2 processes are created:
>> one for my  rtrace and one child rtrace process with the same parameters.
>> When I tried to explore running processes it seems that only the first one
>> is really running, while the second one is sleeping - so I don't have real
>> paralellization here.
>>
>
> You can attach more processes by starting them with the same -PP-option. Sp
> if you had "rtrace (other rtrace-options) -PP control.pfile" started, just
> start one more "rtrace -PP control.file", but leave the other rtrace options
> empty as the second (or third or forth) process will use the same as the
> first one. Hopes that works, as it is a while since I did that and I have no
> example to start here.
>
> CU Lars.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081222/dc393abb/attachment.htm
From erika at contempora.com.br  Mon Dec 22 07:28:59 2008
From: erika at contempora.com.br (Erika Figueiredo)
Date: Mon Dec 22 07:15:15 2008
Subject: [Radiance-general] Radiance Course
Message-ID: <60617.201.81.20.252.1229959739.squirrel@www.contempora.com.br>

Hello all.

  I'd like to know about Radiance Courses. Does anybody know about it?

  I am from S?o Paulo, Brazil, and I'm sure there isn't here. Does it have
at Berkeley University?

  Thank you.

-- 
Erika Figueiredo

CONTEMPORA
Lighting-Arquitetura-Design
www.contempora.com.br




From jedev at visarc.com  Mon Dec 22 07:29:45 2008
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Dec 22 07:29:56 2008
Subject: [Radiance-general] rtrace parallelization
In-Reply-To: <124b40400812220633k38dd9798v94b1a9346174e513@mail.gmail.com>
References: <124b40400812220456w7ac39da8s62f33b2fd2cb99b4@mail.gmail.com>	<494F90F1.1070106@nus.edu.sg>
	<124b40400812220633k38dd9798v94b1a9346174e513@mail.gmail.com>
Message-ID: <494FB269.4010602@visarc.com>

Hi Marija,

The -PP option only allows for memory to be shared between processes on 
a multi-core machine, however this is not at all essential for 
parallelization for radiance jobs. The -PP option does not distribute 
the rays to be traced between multiple processes. That is whys currently 
you see only one process actually doing any work.

I think that there are probably a few different ways to distribute rays 
to multiple rtrace processes (using memory sharing or not). The basic 
idea is to take the view or grid points that you want to calculate and 
subdivide. This subdivision could be in terms of the number of cores and 
or machines available. So lets assume that you have 2 machines with 2 
cores available, thus 4 cores. So if you divide your grid 2x2, then you 
could do something like the following (lots of ways to run rtrace so 
there are other approaches):

FROM A SHARED NFS DIRECTORY on Machine 1 and 2 AND using memory sharing:

On Machine 1:

    rtrace [parameters] -PP m1.pp scene.oct  < points.1.1 >
    points.1.1.output
    rtrace [parameters] -PP m1.pp scene.oct  < points.1.2 >
    points.1.2.output

On Machine 2:

    rtrace [parameters] -PP m2.pp scene.oct  < points.2.1 >
    points.2.1.output
    rtrace [parameters] -PP m2.pp scene.oct  < points.2.2 >
    points.2.2.output

When all the jobs are complete then you will need to use other radiance 
tools to recombine your output into one file. Since you know the indices 
of each subset of points this should not be too difficult.

I think that this approach should work. We typically do something 
similar when distributing jobs using rpiece. I hope this helps.

-Jack

Marija Velickovic wrote:
> Hi Lars,
>
> I followed your advice but still first rtrace is running and other 
> rtrace processes are sleeping.
>
> When I run two separate rtrace processes without -PP option and with 
> different input data they both run in parallel without a problem.
> I suppose I'm doing something wrong, so other ideas are welcome!
>
> Marija
>
> On Mon, Dec 22, 2008 at 2:06 PM, Lars O. Grobe <akilog@nus.edu.sg 
> <mailto:akilog@nus.edu.sg>> wrote:
>
>     Hi!
>
>
>         I've found "-PP pfile" option but I'm not sure how to use it.
>         I supposed that "pfile" should be empty so program can write
>         into it some control variables. When I started rtrace with -PP
>         option 2 processes are created: one for my  rtrace and one
>         child rtrace process with the same parameters. When I tried to
>         explore running processes it seems that only the first one is
>         really running, while the second one is sleeping - so I don't
>         have real paralellization here.
>
>
>     You can attach more processes by starting them with the same
>     -PP-option. Sp if you had "rtrace (other rtrace-options) -PP
>     control.pfile" started, just start one more "rtrace -PP
>     control.file", but leave the other rtrace options empty as the
>     second (or third or forth) process will use the same as the first
>     one. Hopes that works, as it is a while since I did that and I
>     have no example to start here.
>
>     CU Lars.
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081222/3bd5008b/attachment.html
From rpg at rumblestrip.org  Mon Dec 22 08:03:11 2008
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Dec 22 08:03:20 2008
Subject: [Radiance-general] Radiance Course
In-Reply-To: <60617.201.81.20.252.1229959739.squirrel@www.contempora.com.br>
References: <60617.201.81.20.252.1229959739.squirrel@www.contempora.com.br>
Message-ID: <494FBA3F.3000404@rumblestrip.org>

Erika Figueiredo wrote:
> Hello all.
> 
>   I'd like to know about Radiance Courses. Does anybody know about it?

hi Erika,

There are no formal courses, but several folks on this mailing list use 
Radiance in their teaching.  The annual Radiance Workshop is an 
excellent place to meet the minds of the Radiance community, but there 
is not always a formal tutorial component to those.  There was one in 
2003 in Berkeley, and also in 2005 I believe at De Montfort Uni in the 
U.K., both taught by John Mardaljevic.

I would say the best place to start is with the tutorials in the 
Rendering with Radiance textbook, and trolling the archives of this 
mailing list.  Axel Jacobs also has two fantastic tutorials in pdf 
format but I can't locate the links to those right now.  Axel?  A little 
help?  =8-)

Good luck!

- Rob Guglielmetti
www.rumblestrip.org

From tbleicher at arcor.de  Mon Dec 22 08:18:55 2008
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Dec 22 08:19:32 2008
Subject: [Radiance-general] Radiance Course
In-Reply-To: <494FBA3F.3000404@rumblestrip.org>
References: <60617.201.81.20.252.1229959739.squirrel@www.contempora.com.br>
	<494FBA3F.3000404@rumblestrip.org>
Message-ID: <5BACF112-BC89-4FE7-BE1B-C240F13B2596@arcor.de>


On 22 Dec 2008, at 16:03, Rob Guglielmetti wrote:

> Erika Figueiredo wrote:
>> Hello all.
>>   I'd like to know about Radiance Courses. Does anybody know about  
>> it?
>
> Axel Jacobs also has two fantastic tutorials in pdf format but I  
> can't locate the links to those right now.  Axel?  A little help?   
> =8-)

Start here:

http://luminance.londonmet.ac.uk/learnix/docs.shtml

They might also be able to assist you in Portuguese ...

Regards,
Thomas


From antonutto at yahoo.it  Mon Dec 22 13:00:18 2008
From: antonutto at yahoo.it (giulio)
Date: Mon Dec 22 13:00:23 2008
Subject: [Radiance-general] rtrace parallelization
In-Reply-To: <124b40400812220456w7ac39da8s62f33b2fd2cb99b4@mail.gmail.com>
References: <124b40400812220456w7ac39da8s62f33b2fd2cb99b4@mail.gmail.com>
Message-ID: <3229A45B-0F0C-432C-A4B4-F7D7017DBD68@yahoo.it>

There are a couple of very basic example here:
http://web.mac.com/geotrupes/iWeb/Main%20site/RadBlog/RadBlog.html
The idea is to subdivide larger grids into smaller grids and use bash  
or xgrid if you have an apple to run all in parallel. I think you'll  
find three posts about this. Good luck!

I just take the opportunity a little earlier than is supposed to  
be... but nevertheless...
Merry Christmas and Happy New Year to all the Radiance friends!
G/


On 22 Dec 2008, at 12:56, Marija Velickovic wrote:

> Hi,
>
> I need to perform some rtrace calculations for big number of points  
> and rather high calculation parameters, so I'm trying to use the  
> full potential of dual core machines.
> I saw that for example rvu or rad programs have option -n or -N to  
> define number of parallel processes to be started. Is similar  
> parallelization possible in rtrace program?
> I've found "-PP pfile" option but I'm not sure how to use it. I  
> supposed that "pfile" should be empty so program can write into it  
> some control variables. When I started rtrace with -PP option 2  
> processes are created: one for my  rtrace and one child rtrace  
> process with the same parameters. When I tried to explore running  
> processes it seems that only the first one is really running, while  
> the second one is sleeping - so I don't have real paralellization  
> here.
>
> I suppose I haven't understood something well, so if someone has  
> the experience with rtace running on multiprocessor machines,  
> please send me some ideas/hints.
>
> Happy holidays to all list members and their families,
> Marija
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

Chiacchiera con i tuoi amici in tempo reale! 
 http://it.yahoo.com/mail_it/foot/*http://it.messenger.yahoo.com 


From neha.cosmos at gmail.com  Tue Dec 23 03:10:20 2008
From: neha.cosmos at gmail.com (NEHA SINGHAL)
Date: Tue Dec 23 03:10:22 2008
Subject: [Radiance-general] About Radiance file of Light pipe
Message-ID: <7b883ed90812230310o64e0139ercd2f45eaa7797b3f@mail.gmail.com>

Hello guys,  I am new to this Radiance Achiever. I am doing my thesis
in daylighting devices. The aim is "To determine appropriate passive
Daylighting devices for harnessing daylight in the interior spaces". The
devices which i will consider is Light shelve, light pipes, and anidolic
ceilings.

In this respect i want Radiance file syntax of Light pipe and Anidolic
Ceilings. Please if anyone has the syntax please help me out for this as
soon as possible.

Thanks Neha singhal

-- 
With Regards
Neha Singhal
CEPT University
Ahmedabad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081223/8c6bdd51/attachment.htm
From grobe at gmx.net  Tue Dec 23 06:47:57 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Dec 23 06:48:12 2008
Subject: [Radiance-general] About Radiance file of Light pipe
In-Reply-To: <7b883ed90812230310o64e0139ercd2f45eaa7797b3f@mail.gmail.com>
References: <7b883ed90812230310o64e0139ercd2f45eaa7797b3f@mail.gmail.com>
Message-ID: <4950FA1D.6030506@gmx.net>

Hi Neha,

welcome to the world of neverending challenges.... You have chosen quite
a difficult topic, and I am struggling a lot with these question myself,
but to give you a hint - Radiance itself, without extensions such as the
photon-mapping extension pmap or other tools (that I do not really
understand yet) such as rtcontrib won't be able to model highly
specular, non-planar light redirecting systems. Look out for photon map,
pmap, light redirecting systems, light shelf, light pipe in

- the archives of this mailing list
- in the links at radiance-online.org
- in the hundreds of publications that are available
- among those, the papers from the annual conferences as archived on
radiance-online.org

This should give you a lot of input and information about these systems,
the difficulties to model them as well as techniques that can be used
for such calculations.

CU Lars.

From reichj at skyhibroadband.net  Tue Dec 23 10:17:19 2008
From: reichj at skyhibroadband.net (reichj@skyhibroadband.net)
Date: Tue Dec 23 10:17:21 2008
Subject: [Radiance-general] Lighting result discrepancies between Ecotect
	and Radiance
Message-ID: <W561903178397191230056239@webmail5>

I am modeling (in Ecotect v5.6) a light pipe in a very simplistic manor, just as simple light with a profile of 1.0 for angles 0 to 50deg and 0.0 for all others (60deg to 180).

The radius is 10" and a spec defines the luminous flux at 15000.

So I calculated the luminous intensity as 5681 candela, and plugged all the numbers into Ecotect:

5681 cd
15000 total lumens
10" radius
and defined the profile (candela polar plot) as 1.0 (0 to 50deg) 0.0 (60 to 180deg)

Problem #1
The first problem is that Ecotect does not seem to produce the same RGB radiance values as the 'lampcolor' program. When I export from Ecotect to Radiance with the above values the Radiance 'light' object has RGB values of 1416.6, but lampcolor produces 131.6 (for a ring of .254m radius (10") and 15000 lm).

So I have to 'fake' out Radiance by entering a much lower value for total lumens in Ecotect so it will generate the correct (131.6 RGB values), a value of 1400 lumens in Ecotect gets close (132 RGB value).

There is the first question, why do I have to use 1400 lumens when it should be 15000?

Problem #2
Then, the second problem, even using 1400 lm I still get lux values in Radiance which are about 3 times greater than the electric light simulations in Ecotect!

So, what am I doing wrong?

thank you in advanced for any feedback.




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081223/2449b99c/attachment.html
From rpg at rumblestrip.org  Wed Dec 24 13:26:55 2008
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Dec 24 13:26:57 2008
Subject: [Radiance-general] feeling guinea piggish?
In-Reply-To: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de>
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de>
Message-ID: <4952A91F.1010808@rumblestrip.org>

Thomas Bleicher wrote:
> 
> < ting-a-ling, ting-a-ling, ting-a-ling-ting-ting >
> 
> Ho, ho, ho!
> 
> Just in time for the season of slow afternoons and
> old TV show reruns I have compiled a preview of my
> upcoming Sketchup exporter. This is a test version
> and must not be used in a production environment!
> 
> Unfortunately it does not work with Internet Explorer
> yet so Windows users will find little joy in installing
> it. My apologies.

I was able to run it in Firefox on WinXP, fwiw.  I didn't have much time 
to play with it Thomas, but the basics seem to work!  thanks Thomas!

From neha.cosmos at gmail.com  Fri Dec 26 02:08:59 2008
From: neha.cosmos at gmail.com (NEHA SINGHAL)
Date: Fri Dec 26 02:09:03 2008
Subject: [Radiance-general] About Radinace - Lens material
Message-ID: <7b883ed90812260208j5189febbh424e7fcbbc245666@mail.gmail.com>

Hello All,
I would like to know how to make/model lens in radiance. So, Does anybody
know about how to make Lens material in Radiance. Please if some one knows
about it then let me know as soon as possible.
Thanks
Bye

-- 
With Regards
Neha Singhal
CEPT University
Ahmedabad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20081226/fbd967ab/attachment.htm
From gregoryjward at gmail.com  Sat Dec 27 08:35:03 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat Dec 27 08:35:05 2008
Subject: [Radiance-general] About Radinace - Lens material
In-Reply-To: <7b883ed90812260208j5189febbh424e7fcbbc245666@mail.gmail.com>
References: <7b883ed90812260208j5189febbh424e7fcbbc245666@mail.gmail.com>
Message-ID: <21854D2F-B7D4-401E-84A7-A1937A2D4134@lmi.net>

Dear Neha,

Radiance uses ray-tracing to perform lighting calculations in  
buildings.  It is not configured for optical ray-tracing.  For such a  
purpose, you are better off with any of the number of commercial  
packages available (TracePro, Optics Lab, ORA LightTools, etc.)   
While it is *possible* to use Radiance for optical design, it is not  
geared for it, and you won't find many people who have applied it to  
this task.  I am just starting to work with it myself, but even the  
accurate definition of a lens given the lack of bicubic patches is  
problematic.

Best,
-Greg

> From: "NEHA SINGHAL" <neha.cosmos@gmail.com>
> Date: December 26, 2008 2:08:59 AM PST
>
> Hello All,
>
> I would like to know how to make/model lens in radiance. So, Does  
> anybody know about how to make Lens material in Radiance. Please if  
> some one knows about it then let me know as soon as possible.
> Thanks
> Bye
>
> -- 
> With Regards
> Neha Singhal
> CEPT University
> Ahmedabad

From bernd at bzed.de  Sat Dec 27 11:49:05 2008
From: bernd at bzed.de (Bernd Zeimetz)
Date: Sat Dec 27 11:47:37 2008
Subject: [Radiance-general] Installing Radiance in Ubuntu 7.10
	-	Step-by-Step guide
In-Reply-To: <009401c95ea1$51dd1a00$3b00a8c0@Jiten>
References: <009401c95ea1$51dd1a00$3b00a8c0@Jiten>
Message-ID: <495686B1.6010806@bzed.de>

Hi,

you've spent a lot of work for something that would be much more simple by
doing a backport of the package. Have a look into
Message-ID: <48D24F05.4090102@bzed.de>
as posted by me on Thu, 18 Sep 2008 14:52:21 +0200

Cheers,

Bernd

-- 
 Bernd Zeimetz                           Debian GNU/Linux Developer
 GPG Fingerprint: 06C8 C9A2 EAAD E37E 5B2C BE93 067A AD04 C93B FF79

From encase at encaseindia.com  Sun Dec 28 21:42:46 2008
From: encase at encaseindia.com (EncaseIndia)
Date: Sun Dec 28 21:37:25 2008
Subject: [Radiance-general] Installing Radiance in Ubuntu
	7.10-	Step-by-Step guide - 2nd Draft
References: <009401c95ea1$51dd1a00$3b00a8c0@Jiten> <495686B1.6010806@bzed.de>
Message-ID: <002101c96978$6f8d8f30$3b00a8c0@Jiten>

Hi Bernd,

Thanks for your input. I have updated the guide with your recommended 
procedure and a few more references. Kindly let me know if its OK.

Thanks and regards,
Jiten

Install Radiance R3.9 in Ubuntu (7.10) Gutsy Gibbon
====================================================

A step-by-step guide (2nd Draft)
--------------------------------
Rev.1 : Included Bernd's routine for installation as recommended procedure.
        Added references as to why errors occuring. Given link to Greg's
        message suggesting workaround for the same.

Dec 29, 2008

First, I am a relatively new user of Radiance and Ubuntu. I would like to 
help

newbies like me to get Radiance working on Ubuntu Gutsy Gibbon with as 
little
pain as possible.

Why?
a) For using Radiance on older machines.
b) I find Ubuntu 7.10 perfect for my needs and am reluctant to upgrade to 
Ubuntu 8.10.

There may be others like me, so this small guide is intended for them.

We will install Radiance from source, but there are alternatives though 
like:

1) change your distro or upgrade to Ubuntu 8.10
2) try intrepid (Ubuntu 8.10) packages by using backports

 Binary files for Ubuntu 8.10 are available for download at the following 
site:

 https://launchpad.net/ubuntu/+source/radiance/3R9+20080530-4

3) get live CD, learnix-2008-1_beta.iso (which uses Ubuntu 8.10) from:

       ftp://luminance.londonmet.ac.uk/pub/learnix/learnix-2008-1_beta.iso

4) Bernd Zeimetz (Debian GNU/Linux Developer) has recommended a faster way 
to
   compile Radiance. Try this first as it is given by a power user. I am
   reproducing his message with the installation routine from the archives
   at the end of this file [1].


If that fails then try what I did:


OK, let's start the process to compile radiance from source package:


First Step:
-----------

We need to download the required packages and their dependencies to compile 
using

synaptic package manager [2]:

 -   tcsh
 -   libtiff
 -   g++
 -   g++4.1
 -   tcl8.5
 -   tk8.4
 -   libc6-dev
 -   libx11-dev

or type following in terminal:
# sudo apt-get install tcsh libtiff g++ g++4.1 tcl8.5 tk8.4 libc6-dev 
libx11-dev

Depending on your internet connection and your machine this may take some 
time.


Second Step:
------------

Prepare the Radiance for compiling
Create a directory in your HOME directory:
# mkdir build

Change the working directory to it:
# cd build

Download Radiance sources:
# wget http://radsite.lbl.gov/radiance/download/rad3R9all.tar.gz

Unpack it:
# tar -xvf rad3R9all.tar.gz

Change the working directory to the source directory:
# cd ray


Third Step:
-----------
Compiling it:
This generates the necessary files and checks your system:

#sudo tcsh makeall install

Give following answers to the queries generated by the install script:
Q1. Default editor [vi]?
Ans: y

Q2. Install to location usr/local/bin:
Ans. y

Q3. Read the license agreement ...
Ans. Scroll down using space bar. At the end it will ask:
   q. Do you agree [n]:
   ans. y

Q4. Type of install? Choose from Sun, Sparc, Linux, etc.
    Linux is listed at number 6
Ans. 6

Q5. Copy library files to 'usr/local/lib/ray'?
Ans. y

Q6. Install library files now?
Ans. y

Q7. Current rmake command is
    #!bin/sh
    ....
    Do you want to change it?
Ans. n


The programs and libraries are copied to usr/local/bin and
usr/local/lib/ray respectively.

The environment variable Raypath is automatically set.

If all goes well you will have a working installation of Radiance.


Note
----
1) In my case, the installation ended with the message
   "there were some errors"
   As far as I was able to make out, this was because:

   - libtiff was not compiled due to some compiler sanity check [3]

   - However, since latest libtiff was already downloaded and installed in
     first Step in Ubuntu, this did not cause a problem.

2) Some binary files from installation directory:

     i.e. /build/ray/src/px

     like macbethcal, pcomb, pfilt, ra-bmp, ... ttyimage, etc.
     were not automatically copied to the /usr/local/bin directory.

     - So I manually copied the files using the nautilus file manager
       as root by using the following command:

       sudo nautilus

    Note: copy the files whose icons are a rotated square with gears
          to the /usr/local/bin directory

3) The developers of Radiance are aware of the above problem.
   Greg has suggested an alternative to remove the error [4]

4)  For more details about the errors please refer to a file
    named as config.log. You can search for this file from the desktop
    menu:
        Places--->
                Search for files (with magnifying glass icon)

    The config.log file in my case was located at:
        ubuntu/build/ray/src/px/tiff/config.log


Conclusion:
-----------

I hope that this guide is helpful. It has been written with the best of 
intentions.

There may be errors, so I request advanced users to kindly review it and 
update the

same.

Wishing you all the best.
Jiten


Bernds' Installation Routine
----------------------------

Type the following steps as given by Bernd in Terminal to make a backport of 
radiance
packages from Debian's Lenny/testing or Hardy (or upgrade to Hardy). Its not 
tested but
hopefully should work:

############################
sudo apt-get install devscripts fakeroot build-essential
sudo apt-get install debhelper libtiff4-dev libx11-dev libglu1-mesa-dev \
                          libxext-dev quilt tcsh docbook-to-man ed tk8.4

dget -x \
http://ftp.debian.org/debian/pool/main/r/radiance/radiance_3R9+20080530-4.dsc

cd radiance-3R9+20080530
dpkg-buildpackage -uc -us -rfakeroot
cd ..
sudo dpkg -i radiance*.deb
#############################

------------------------------------------------------------------------


References:
-----------

1. 
http://radiance-online.org/pipermail/radiance-general/2008-September/005380.html
2. 
http://www.radiance-online.org/pipermail/radiance-general/2008-February/004779.html
3. 
http://radiance-online.org/pipermail/radiance-general/2008-September/005379.html
4. 
http://radiance-online.org/pipermail/radiance-general/2008-September/005381.html


----- Original Message ----- 
From: "Bernd Zeimetz" <bernd@bzed.de>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Sent: Sunday, December 28, 2008 1:19 AM
Subject: Re: [Radiance-general] Installing Radiance in Ubuntu 7.10- 
Step-by-Step guide


> Hi,
>
> you've spent a lot of work for something that would be much more simple by
> doing a backport of the package. Have a look into
> Message-ID: <48D24F05.4090102@bzed.de>
> as posted by me on Thu, 18 Sep 2008 14:52:21 +0200
>
> Cheers,
>
> Bernd
>
> -- 
> Bernd Zeimetz                           Debian GNU/Linux Developer
> GPG Fingerprint: 06C8 C9A2 EAAD E37E 5B2C BE93 067A AD04 C93B FF79
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> 


From akilog at nus.edu.sg  Mon Dec 29 00:58:02 2008
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Mon Dec 29 00:58:06 2008
Subject: [Radiance-general] Doing manually what mkillum does...
Message-ID: <4958911A.3000205@nus.edu.sg>

Dear Radiance users,

I hope you all had a nice christmas and are happy playing with your 
brand-new radiance number crunchers already (time to have a look at the 
christmas peak at Mark's benchmark site again ;-) )...

I am having a question which may be basic for those here doing the 
calculation-and-formula stuff on a regular basis, but appears confusing 
to me. To simplify a model, where direct sunlight is not important and 
daylight can be considered as a hemispherical light source (uniform 
sky), I would like to do manually what mkillum does when producing a 
light modifier (not the default illum modifier). The surface to be 
modified is a horizontal flat rectangular face of, say, 1sqm. If I would 
normalize the sky source in a way that I would get a horizontal 
illuminance of, lets say, 1000 lux, ignoring obstructions, how would I 
calculate the 1 sqm light source's modifier that would replace the sky 
in my scene? Is mkillum basically calcultating an iradiance image here?

Lars.

From akilog at nus.edu.sg  Mon Dec 29 01:19:43 2008
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Mon Dec 29 01:20:06 2008
Subject: [Radiance-general] About Radinace - Lens material
In-Reply-To: <21854D2F-B7D4-401E-84A7-A1937A2D4134@lmi.net>
References: <7b883ed90812260208j5189febbh424e7fcbbc245666@mail.gmail.com>
	<21854D2F-B7D4-401E-84A7-A1937A2D4134@lmi.net>
Message-ID: <4958962F.5000601@nus.edu.sg>

There are even some open source and free packages available for such 
systems, but I do not know anything about all this :-) I have attached 
some info, but again, I do not really understand what I am posting here! 
Tell us if it is useful for you! Again, if you want to model some basic 
effects of what happens in lenses, you may try the pmap-extension for 
radiance or Carsten's rewrite "radzilla", which allow e.g. caustic 
effects. Besides that you should read everything concerning glass, 
dielectric, trans and interface modifiers in radiance several hundred 
times ;-) You can also have a look at renderpark, a tool that has not 
been developed for a while, but has some radiance compatibility (it 
understands the mgf format) and implements several forward-raytracing 
engines. This software has always been considered as experimental, so it 
may be great to experiment, not to sell...

CU Lars.

--

- Tessa (install using apt-get install tessa on debian or other, 
debian-based distributions):

 From Tessa's README (available e.g. from recent Ubuntu's):
"This is Tessa 3D-FDTD. This software is designed to study optical
structures at the wavelength scale using the finite-differences
time-domain method. The Tessa home-page is located at:
http://alioth.debian.org/projects/tessa/
You can always find the latest version here.

This software is free software, and as such comes with ABSOLUTELY NO
WARRANTY, to the extent permitted by applicable law.


Tessa was developed by:
Josselin Mouette
Laboratoire d'?lectronique, opto?lectronique et microsyst?mes (UMR 5512)
?cole centrale de Lyon, France"

- Opus

 From the website (http://www.maxreason.com/software/optics/opus.html):

opus is a software application for designing and evaluating optical 
systems. The first release of this opus software application was created 
by greatly cleaning and simplifying the application the author had 
enhanced and extended over decades on an as-needed basis.  This was done 
purposely to create a reasonably clean, simple, straightforward code 
base suitable for enhancement and extension by other programmers.  Some 
capabilities were removed in this process - to be re-implemented more 
cleanly and efficiently.opus computes AKA "traces" the path of light 
"rays" from an "entrance-aperture" or "object-plane", through a series 
of "optical surfaces" (lens-surfaces, mirror-surfaces, vignette-stops) 
to a focal surface, where opus computes image error "aberrations" at 
several "field-angles" and colors AKA "wavelengths".

From gregoryjward at gmail.com  Mon Dec 29 11:37:10 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Dec 29 11:37:13 2008
Subject: [Radiance-general] Doing manually what mkillum does...
In-Reply-To: <4958911A.3000205@nus.edu.sg>
References: <4958911A.3000205@nus.edu.sg>
Message-ID: <594D1F3D-D31E-4E95-BB81-5A0361C4D723@lmi.net>

Hi Lars,

Merry Christmas -- I hope you didn't get the virus I caught that  
brought my whole system down for two days on the 24th.  I'm still  
feeling a bit weak, so apologies if none of this makes sense...

Setting d=0 in one of the #@mkillum comments in your scene file will  
create a diffuse source, which is what you want in this case.  (And  
yes, it will be computing irradiance in effect.)  Since it takes  
almost no time to compute such a source, you may as well use mkillum  
if you're comfortable with it.  If you want to create the source by  
hand, then simply divide your external irradiance by PI to get the  
radiance of the source, whatever size it may be (doesn't matter),  
multiplying of course by the transmission as well.

Cheers,
-Greg

> From: "Lars O. Grobe" <akilog@nus.edu.sg>
> Date: December 29, 2008 12:58:02 AM PST
>
> Dear Radiance users,
>
> I hope you all had a nice christmas and are happy playing with your  
> brand-new radiance number crunchers already (time to have a look at  
> the christmas peak at Mark's benchmark site again ;-) )...
>
> I am having a question which may be basic for those here doing the  
> calculation-and-formula stuff on a regular basis, but appears  
> confusing to me. To simplify a model, where direct sunlight is not  
> important and daylight can be considered as a hemispherical light  
> source (uniform sky), I would like to do manually what mkillum does  
> when producing a light modifier (not the default illum modifier).  
> The surface to be modified is a horizontal flat rectangular face  
> of, say, 1sqm. If I would normalize the sky source in a way that I  
> would get a horizontal illuminance of, lets say, 1000 lux, ignoring  
> obstructions, how would I calculate the 1 sqm light source's  
> modifier that would replace the sky in my scene? Is mkillum  
> basically calcultating an iradiance image here?
>
> Lars.

From akilog at nus.edu.sg  Mon Dec 29 22:45:30 2008
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Mon Dec 29 22:45:38 2008
Subject: [Radiance-general] defining an uniform sky,
	rgb weighted light sources
Message-ID: <4959C38A.2010300@nus.edu.sg>

Hi Radiance-users,

I am having problems to understand the definition of a sky source either 
using glow or light modifiers.

I want to model a uniform 10.000lx (horizontal) illuminance sky. To do 
so, I can either define a hemispherical light source with luminance = 
10.000/pi, or use the gensky command. Modifying the source with either 
light or glow, plus the gensky command, give me three alternatives to 
define the environment. Still, the only way that gives me the expected 
results (10.000lx when measuring in the origin) is using the 
light-modified source. Both glow skies (defined manually or generated 
using gensky) give me 5235lx, setting ab to 1. If I am not applying the 
multipliers for the primaries to the set the rgb values of my glow 
material, I get very close to the expected 10.000lx, but I do not 
understand why there is a difference in the rgb values for glow and 
light. Also, the gensky example does not work as expected. So I am 
pretty sure that there is an obvious mistake, most probably related to 
my understanding of the light and source modifiers.

Luminance for the source = 10.000 / pi = 3183
Radiance corresponding to that: 3183 / 179 = 17.78

1) light modifier, source
    to define the light modifier's rgb radiance triplet, I multiply the 
luminance 17.78
    by .265, .67, .065 for its rgb components and get:

   void light sky_light
   0
   0
   3 4.7117 11.9126 1.1557

   applying this to a source, I can get the expected readings from rtrace:

   #echo "0 0 .01 0 0 1" | rtrace -h -x 1 -I -ab 4 sky.oct  | \
   rcalc -e '$1=47.4*$1+120*$2+11.6*$3'
   10469.3751

2) glow modifier, source
   to define the glow, I simply take the radiance of 17.8 for r, g, b 
without applying the multipliers and get
   the expected value from rtrace with ab 1:

   #echo "0 0 .01 0 0 1" | rtrace -h -x 1 -I -ab 1 sky.oct  | \
   rcalc -e '$1=47.4*$1+120*$2+11.6*$3'
   rtrace: warning - no light sources found
   9998.45491

   BUT when using the weighted rgb radiance as in the light source 
definition (4.7117, 11.9126, 1.1557),
   I get this:

   #echo "0 0 .01 0 0 1" | rtrace -h -x 1 -I -ab 1 sky.oct  | \
   rcalc -e '$1=47.4*$1+120*$2+11.6*$3'
   rtrace: warning - no light sources found
   5234.70623

   So obviously this is not the way to go.

3) So I try what happens if I call gensky with the -B option, to use a 
given horizontal illuminance

   !gensky 4 21 +10:00 -u -B 55.87 -r 0

   (55.87 is simply 10.000lx/179)

   As all luminances are equal in the uniform sky, this should work. 
BTW, even for an uniform sky with given
   brightness, I have to give a time - which does not make sense, as the 
time is ignored.

   Using this sky, a rtrace call gives me, again, a much lower 
horizontal illuminance then expected:

   #echo "0 0 .01 0 0 1" | rtrace -h -x 1 -I -ab 1 sky.oct  | \
   rcalc -e '$1=47.4*$1+120*$2+11.6*$3'
   rtrace: warning - no light sources found
   5225.65173

So it is evident that I misunderstand something related to the 
rgb-weighted radiance, still I do not understand what is wrong. 
Especially the 3rd alternative seams to be close to the standard useage 
szenario, but as I have never used the -B option of gensky before, 
chances are that I got it wrong. So if anyone having more routine in 
these calculations could give me a hint, I might have the opportunity to 
get some more insight into the secrets of radiance before the year ends ;-)

Thank you, and have a nice new year celebration wherever you are,

Lars.

From akilog at nus.edu.sg  Mon Dec 29 22:58:02 2008
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Mon Dec 29 22:58:06 2008
Subject: [Radiance-general] Doing manually what mkillum does...
In-Reply-To: <594D1F3D-D31E-4E95-BB81-5A0361C4D723@lmi.net>
References: <4958911A.3000205@nus.edu.sg>
	<594D1F3D-D31E-4E95-BB81-5A0361C4D723@lmi.net>
Message-ID: <4959C67A.60006@nus.edu.sg>

Hi Greg,

get better befor new year! I am pretty safe from flue and cold, sitting 
just some meters from the equator in nice and warm Singapore...

Thank you for your reply!  It made me think once more about what I am 
asking for, and essentially the funny thing is that in my case, having a 
uniform sky, this led me to the (late) insight that I can simply use the 
luminance of the sky source (in this case 1000/pi) to modify a surface 
on the entrance of the system - nothing else I do when applying the 
gensky-created description to a window pane. So the luminance of my 
replacement-source is the same as the luminance of my uniform sky source 
(as long as I ignore the transmission properties). It just took me a 
while to get it that, when looking through a perfectly transparent 
window, I see the sky luminance and not the window glass. Maybe a sign 
that I have been working in a window-less office space for too much time 
now...

I wish you all a happy new year and a nice celebration, those in cold 
climates beware of the flue,

Lars.

From akilog at nus.edu.sg  Tue Dec 30 01:24:20 2008
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Tue Dec 30 01:24:25 2008
Subject: [Radiance-general] Solved: defining an uniform sky,
	rgb weighted light sources
In-Reply-To: <4959C38A.2010300@nus.edu.sg>
References: <4959C38A.2010300@nus.edu.sg>
Message-ID: <4959E8C4.9020704@nus.edu.sg>

Sorry,

I think I messed up a lot here, following some random results of rtrace 
runs. First, the results of rtrace illuminance with a sky dome defined 
as light are more or less random. So the fact that I got a result close 
to what I expected only led me to the wrong direction.

Defining glow, there is no need for multiplying anything for the 
colorimetric balance, as I assume a neutral white light source. The 
multiplication only has to be done when getting from radiance (which is 
in RGB channels) to illuminance. So I have either to use a glow with RGB 
1 1 1 and modify it with the brightfunc from gensky (as is usually done) 
or directly use the (neutral white) radiance calculated dividing 
luminance by 179 for the glow material in case of an uniform sky (RGB 
17.8 17.8 17.8).

Results are fine (9998.5 for the simple glow and 9987.6 for the skyfunc 
sky), I forget about my light-modified source, and hope that noone else 
spent time on my rather silly question...

CU Lars.

From akilog at nus.edu.sg  Tue Dec 30 02:21:59 2008
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Tue Dec 30 02:22:04 2008
Subject: [Radiance-general] bug in bgraph
Message-ID: <4959F647.1090709@nus.edu.sg>

Hi,

i found that using polar plots without ymin, I can create a mess on my 
screen plotting the following through x11meta:

title = "A circle"
A(x) = 100
xmin = 0
xmax = 360
#ymin = 0
#ymax = 250
Anpoints = 180
period = 360

Uncommenting the ymin line, everything is fine.

I do not know if there are many users of this tool, but for some simple 
tasks it is a nice replacement of other packages such as gnuplot and - 
it is available on all radiance installations :-)

CU Lars.

From gregoryjward at gmail.com  Tue Dec 30 14:19:04 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Dec 30 14:19:02 2008
Subject: [Radiance-general] bug in bgraph
In-Reply-To: <4959F647.1090709@nus.edu.sg>
References: <4959F647.1090709@nus.edu.sg>
Message-ID: <E1183FF5-A6D4-4D2F-BBEA-EEF9FADD2252@lmi.net>

Hi Lars,

This is a very low-priority bug.  Anything but a circle plots  
correctly, and why would you want to plot a circle?  Don't you know  
what one looks like?

-Greg

> From: "Lars O. Grobe" <akilog@nus.edu.sg>
> Date: December 30, 2008 2:21:59 AM PST
>
> Hi,
>
> i found that using polar plots without ymin, I can create a mess on  
> my screen plotting the following through x11meta:
>
> title = "A circle"
> A(x) = 100
> xmin = 0
> xmax = 360
> #ymin = 0
> #ymax = 250
> Anpoints = 180
> period = 360
>
> Uncommenting the ymin line, everything is fine.
>
> I do not know if there are many users of this tool, but for some  
> simple tasks it is a nice replacement of other packages such as  
> gnuplot and - it is available on all radiance installations :-)
>
> CU Lars.

From grobe at gmx.net  Tue Dec 30 23:23:32 2008
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Dec 30 23:23:49 2008
Subject: [Radiance-general] bug in bgraph
In-Reply-To: <E1183FF5-A6D4-4D2F-BBEA-EEF9FADD2252@lmi.net>
References: <4959F647.1090709@nus.edu.sg>
	<E1183FF5-A6D4-4D2F-BBEA-EEF9FADD2252@lmi.net>
Message-ID: <495B1DF4.9060300@gmx.net>

> This is a very low-priority bug.

I do not want to claim it is high-priority, but not reporting it seamed
to be wrong, too. I could not find anything else affected by this, the
reasin I wanted to plot the circle was not cause I never saw one, but to
be able to draw some kind of a grid.

Happy new year!!!

Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3617 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20081231/be5e16bb/smime.bin
From bernd at bzed.de  Wed Dec 31 08:11:18 2008
From: bernd at bzed.de (Bernd Zeimetz)
Date: Wed Dec 31 08:10:24 2008
Subject: [Radiance-general] Installing Radiance in
	Ubuntu	7.10-	Step-by-Step guide - 2nd Draft
In-Reply-To: <002101c96978$6f8d8f30$3b00a8c0@Jiten>
References: <009401c95ea1$51dd1a00$3b00a8c0@Jiten> <495686B1.6010806@bzed.de>
	<002101c96978$6f8d8f30$3b00a8c0@Jiten>
Message-ID: <495B99A6.9070905@bzed.de>

Hi,

> Thanks for your input. I have updated the guide with your recommended
> procedure and a few more references. Kindly let me know if its OK.

There's a small thing to fix:


> Bernds' Installation Routine
> ----------------------------
> 
> Type the following steps as given by Bernd in Terminal to make a
> backport of radiance
> packages from Debian's Lenny/testing or Hardy (or upgrade to Hardy). Its
> not tested but
> hopefully should work:
> 
> ############################
> sudo apt-get install devscripts fakeroot build-essential
> sudo apt-get install debhelper libtiff4-dev libx11-dev libglu1-mesa-dev \
>                          libxext-dev quilt tcsh docbook-to-man ed tk8.4
> 
> dget -x \
> http://ftp.debian.org/debian/pool/main/r/radiance/radiance_3R9+20080530-4.dsc

that source version is outdated, so you have to do the following steps:
- open http://ftp.debian.org/debian/pool/main/r/radiance/ in a browser, search
for the .dsc file with the highest version number, copy its url.
- use dget -x <url>, where <url> is the location of the .dsc file you've just
copied. In case dget complains about unknown signatures, use dget -xu - the
option is new and not available in old versions of dget.

> cd radiance-3R9+20080530

Thats would become
cd radiance-<version>
(replace <version> by the version of the downloaded source - ls -l will show
you the right directory name)

> dpkg-buildpackage -uc -us -rfakeroot
> cd ..
> sudo dpkg -i radiance*.deb
> #############################

otherwise it should be fine.


Cheers,

Bernd


-- 
 Bernd Zeimetz                           Debian GNU/Linux Developer
 GPG Fingerprint: 06C8 C9A2 EAAD E37E 5B2C BE93 067A AD04 C93B FF79

From gregoryjward at gmail.com  Wed Dec 31 09:27:14 2008
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Dec 31 09:27:14 2008
Subject: [Radiance-general] bug in bgraph
In-Reply-To: <495B1DF4.9060300@gmx.net>
References: <4959F647.1090709@nus.edu.sg>
	<E1183FF5-A6D4-4D2F-BBEA-EEF9FADD2252@lmi.net>
	<495B1DF4.9060300@gmx.net>
Message-ID: <62831BD1-9226-4682-BDA0-2A07EA037362@lmi.net>

Hi Lars,

I appreciate the report, really.  The polar plot type sets grid=1 by  
default, but you may want to have your own grid lines, which you can  
add like this.  If you have any other data with it, the plots should  
come out fine.

Best,
-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: December 30, 2008 11:23:32 PM PST
>
>> This is a very low-priority bug.
>
> I do not want to claim it is high-priority, but not reporting it  
> seamed
> to be wrong, too. I could not find anything else affected by this, the
> reasin I wanted to plot the circle was not cause I never saw one,  
> but to
> be able to draw some kind of a grid.
>
> Happy new year!!!
>
> Lars.
>

From a.bissell at cundall.com  Thu Dec  4 02:13:25 2008
From: a.bissell at cundall.com (Bissell, Andrew)
Date: Thu, 04 Dec 2008 10:13:25 -0000
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <49378E3A.8050803@gmx.net>
References: <49378E3A.8050803@gmx.net>
Message-ID: <9C59B39CBDAE8A42AC6F2500AB54504E0105EE26@cjpnemail.cjp.co.uk>

Shortly after PMAP was released I messed about with it to try and
understand what the numbers all meant and to see what you had to do to
get accurate results.  I have cut down a presentation I created to
provide 4 slides of the process I went through to get appropriate images
and numbers.  Not very scientific to be honest but perhaps a starting
point for further study.

I will go and have another look at the same model with alternative
suggestions for the three variables if you have any.  Although I may
already have the results as only some of them are included here.

Regards

Andrew
__________________________
Andrew Bissell
B.Eng(Hons) C.Eng MSLL MCIBSE MIET
Associate Lighting Designer
Cundall Light4
Direct: 0161 200 1235
Mobile: 07899 907 978
Office: 0161 244 5660
P Please consider the environment before printing this e-mail
-----Original Message-----
From: radiance-general-bounces at radiance-online.org
[mailto:radiance-general-bounces at radiance-online.org] On Behalf Of Lars
O. Grobe
Sent: 04 December 2008 08:01
To: radiance-general at radiance-online.org
Subject: [Radiance-general] experiences with the photon map

Hi list!

While I am trying this on Radzilla now (as there is no photon-mapping
available in Radiance-3.9 at the time of this writing), I am pretty sure
that the effects I get are not related to Radzilla but on the way I use
the pmap-System.

I am trying to model a simple, highly specular horizontal light duct,
with a rectangular cross-section (yes I know that in THIS case I could
use the mirror material and Radiance, but I will go for non-planar
surfaces later).

Now either I get very splotchy luminance images in the inside, or,
increasing the `bandwith` to rather high values, have a blurry result
with - and this is the problem - light leaving the geometry even though
it is closed (the duct has a 45 degree mirror at its end that should
actually close it, but the sides extend besides the mirror and appear
illuminated even behind it).

I am working with an initial photon count for both global and caustic
photons of 2.000.000 and a bandwith value of 2000 at the moment.

Is it possible to get such systems rendered in a way that I have both a
smooth luminance and no light escaping the geometry?

Is there any source for a starting point in what way rtcontrib could be
used for modeling such systems? I know the qt-movie from the workshop,
but I did not get it - and it seams that I know noone except Greg who
got it so far ;-)

Thank You & CU, Lars.


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
A non-text attachment was scrubbed...
Name: 20071204_apb_LightpipeStudy_Part_rev04.pdf
Type: application/octet-stream
Size: 337904 bytes
Desc: 20071204_apb_LightpipeStudy_Part_rev04.pdf
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20081204/8e492a18/attachment-0001.obj>

