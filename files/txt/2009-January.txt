From akilog at nus.edu.sg  Fri Jan  2 02:16:32 2009
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Fri Jan  2 02:16:42 2009
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <494F5801.3070902@ise.fraunhofer.de>
References: <49378E3A.8050803@gmx.net>	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>	<4938F959.6040208@ise.fraunhofer.de>	<494F1759.9080707@nus.edu.sg>
	<494F5801.3070902@ise.fraunhofer.de>
Message-ID: <495DE980.3010902@nus.edu.sg>


> I think you are right. Anyhow, I'm not sure, if Roland implemented the
> correct pmap conform rpict-call within findglare - I'm pretty sure he
> never worked on that. Therefore there is no other way as rendering the
> whole hemisphere and than evaluating the picture.
Help!!! I do not get it... to get the illuminance from a 180 degree 
fisheye picture (no matter if taken by a camera or rendered by rpict), I 
have to integrate the luminance values over the circular surface of the 
projected hemisphere. This means that I somehow have to sum-up the pixel 
values. Still I do not really know the maths to do it, can anyone give 
me a hint, please? Is it the average of the pixel values multiplied by 
the surface area, the  pixel values being weighted according to the 
solid angles they cover?

CU Lars.

From gregoryjward at gmail.com  Fri Jan  2 09:42:53 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Jan  2 09:42:55 2009
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <495DE980.3010902@nus.edu.sg>
References: <49378E3A.8050803@gmx.net>	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>	<4938F959.6040208@ise.fraunhofer.de>	<494F1759.9080707@nus.edu.sg>
	<494F5801.3070902@ise.fraunhofer.de> <495DE980.3010902@nus.edu.sg>
Message-ID: <A2D9379A-F566-455D-83AC-A0B761F21BCD@lmi.net>

Hi Lars,

If you use the hemispherical fisheye type (-vth), you just need the  
straight average of the circular area times pi to get the irradiance  
(times 179 for illuminance).  For angular fisheye perspectives, as  
you might get from a camera or the -vta option, you need a solid  
angle correction equal to the cosine of the angle times the sine of  
the angle divided by the angle itself (in radians) and additional  
normalization .  It's a strange correction term, but here it is in a  
pcomb command for a 190-degree fisheye lens:

	pcomb -e 'sq(x):x*x' \
	 -e 'ar=190/2*PI/180*sqrt(sq(2/xmax*x-1)+sq(2/ymax*y-1))' \
	-e 'cf=WE*sq(190*PI/180*2/(xmax+ymax))*if(ar-PI/2,0,if(ar-.01,cos(ar) 
*sin(ar)/ar,1))' \
	-e 'lo=cf*li(1)'  input.hdr > corrected.hdr

I believe this is correct.
-Greg

> From: "Lars O. Grobe" <akilog@nus.edu.sg>
> Date: January 2, 2009 2:16:32 AM PST
>
>> I think you are right. Anyhow, I'm not sure, if Roland implemented  
>> the
>> correct pmap conform rpict-call within findglare - I'm pretty sure he
>> never worked on that. Therefore there is no other way as rendering  
>> the
>> whole hemisphere and than evaluating the picture.
> Help!!! I do not get it... to get the illuminance from a 180 degree  
> fisheye picture (no matter if taken by a camera or rendered by  
> rpict), I have to integrate the luminance values over the circular  
> surface of the projected hemisphere. This means that I somehow have  
> to sum-up the pixel values. Still I do not really know the maths to  
> do it, can anyone give me a hint, please? Is it the average of the  
> pixel values multiplied by the surface area, the  pixel values  
> being weighted according to the solid angles they cover?
>
> CU Lars.

From kkyte at robsonwoese.com  Fri Jan  2 13:25:21 2009
From: kkyte at robsonwoese.com (Kevin Kyte)
Date: Fri Jan  2 13:25:25 2009
Subject: [Radiance-general] Mac osx install errors
Message-ID: <223151A8B431374CA2AB2EE28D59261A486AD7DC77@EXVMBX018-11.exch018.msoutlookonline.net>

Greetings!  Straight Noob here, attempting to revitalize an old ibook with os jaguar.  I have been enjoying the past couple days learning some fundamental commands.
I seem to have a similar problem that which this thread was started on.  Coming across something like this in the terminal after several errors.

Add /usr/local/bin to the beginning of your execution path:
For C-shell users, put the following into ~/.cshrc
        set path=( /usr/local/bin $path )
For Bourne shell users, put the following into $HOME/.profile
        PATH=/usr/local/bin:$PATH
        export PATH

I do not get anything for raypath or tshcrc.  I am unfamiliar with setenv or alias.  Admittedly, I have little idea of what I am doing up until this point and no idea what to do beyond this point.
Your help is appreciated.

Kevin


________________________________
"This message is for the designated recipient only and may contain privileged, proprietary, or otherwise private information. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or the taking of any action in reliance on the contents of this information is strictly prohibited. If you have received this transmission in error, please notify the sender immediately by e-mail and delete the original message."
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090102/d38a1731/attachment.htm
From rfritz at u.washington.edu  Fri Jan  2 14:15:50 2009
From: rfritz at u.washington.edu (R Fritz)
Date: Fri Jan  2 14:20:55 2009
Subject: [Radiance-general] Mac osx install errors
In-Reply-To: <223151A8B431374CA2AB2EE28D59261A486AD7DC77@EXVMBX018-11.exch018.msoutlookonline.net>
References: <223151A8B431374CA2AB2EE28D59261A486AD7DC77@EXVMBX018-11.exch018.msoutlookonline.net>
Message-ID: <941C2C44-B33B-414F-B43D-5EA9603B8391@u.washington.edu>

The Jaguar default shell is tcsh; you can put the C-shell commands  
in .tcshrc or .cshrc.  If you upgrade to Panther, use the Bourne shell  
commands.

Randolph

On Jan 2, 2009, at 1:25 PM, Kevin Kyte wrote:

> Greetings!  Straight Noob here, attempting to revitalize an old  
> ibook with os jaguar.  I have been enjoying the past couple days  
> learning some fundamental commands.
> I seem to have a similar problem that which this thread was started  
> on.  Coming across something like this in the terminal after several  
> errors.
>
> Add /usr/local/bin to the beginning of your execution path:
> For C-shell users, put the following into ~/.cshrc
>         set path=( /usr/local/bin $path )
> For Bourne shell users, put the following into $HOME/.profile
>         PATH=/usr/local/bin:$PATH
>         export PATH
>
> I do not get anything for raypath or tshcrc.  I am unfamiliar with  
> setenv or alias.  Admittedly, I have little idea of what I am doing  
> up until this point and no idea what to do beyond this point.
> Your help is appreciated.
>
> Kevin
>
>
> "This message is for the designated recipient only and may contain  
> privileged, proprietary, or otherwise private information. If you  
> are not the intended recipient, you are hereby notified that any  
> disclosure, copying, distribution, or the taking of any action in  
> reliance on the contents of this information is strictly prohibited.  
> If you have received this transmission in error, please notify the  
> sender immediately by e-mail and delete the original message.?
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From tbleicher at arcor.de  Sat Jan  3 08:32:18 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sat Jan  3 08:32:29 2009
Subject: [Radiance-general] feeling guinea piggish?
In-Reply-To: <4952A91F.1010808@rumblestrip.org>
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de>
	<4952A91F.1010808@rumblestrip.org>
Message-ID: <B93D983D-06E4-4056-9C37-A628B2CDD29A@arcor.de>

Thanks for testing, Rob.

On 24 Dec 2008, at 21:26, Rob Guglielmetti wrote:

> I was able to run it in Firefox on WinXP, fwiw.  I didn't have much  
> time to play with it Thomas, but the basics seem to work!

As they say in programming:
It does work - for very small values of 'work'.

But I'm on it! Don't you worry, Windows folks.

And a happy new year, too.

Thomas


From akilog at nus.edu.sg  Mon Jan  5 01:27:32 2009
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Mon Jan  5 01:27:40 2009
Subject: [Radiance-general] experiences with the photon map
In-Reply-To: <A2D9379A-F566-455D-83AC-A0B761F21BCD@lmi.net>
References: <49378E3A.8050803@gmx.net>	<4938DB56.7070208@ise.fraunhofer.de>	<4938DF21.5000804@gmx.net>	<4938F959.6040208@ise.fraunhofer.de>	<494F1759.9080707@nus.edu.sg>	<494F5801.3070902@ise.fraunhofer.de>
	<495DE980.3010902@nus.edu.sg>
	<A2D9379A-F566-455D-83AC-A0B761F21BCD@lmi.net>
Message-ID: <4961D284.4050401@nus.edu.sg>

Hi Greg,

thank you, great, I think that means I got it right, even if I would not 
have figured out that pcomb-line in a life-time ;-)

Lars.

From germain.augsburger at epfl.ch  Mon Jan  5 10:33:30 2009
From: germain.augsburger at epfl.ch (Germain Augsburger)
Date: Mon Jan  5 10:33:37 2009
Subject: [Radiance-general] rtrace vs. rview, mirror vs. metal or BRTD
Message-ID: <4962527A.1010808@epfl.ch>

Hi, I wish you a happy New Year! Starting with a radiance-issue...lol

In my Radiance scene I replaced my "mirror" materials with "metal" (or even "BRTD"), and although rview obviously "sees" the new material, rtrace doesn't "see" anything (irradiance measurement -I). I tried to set the rview and rtrace options as similar as possible (for instance -dr, -aa, -ar, -ad, -as) but so far without success. Is there a way of getting "metal" or "BRTD" work in a similar way to "mirror" with rtrace?

My 3 scenes (field of mirrors reflecting the sun towards a central receiver, 3 times: with "mirror", "metal", and "BRTD") are available if needed (too big in a general radiance mail); and here are some of my command lines (first "cd HelFiSim"):

------------------------------------------
Mirror:

rview -vp 0 0 100.5 -vd 0 3 -1.3 -u+ -dt .03 -dc .75 -ds .2 -dr 2 -dp 512 -st .15 -ab 2 -aa .15 -ar 256 -ad 1024 -as 512 -lr -10 -lw 2e-3 PS10Hel/D81H12F1x1E0Mirror/field.oct

rtrace -ab 2 -I+ -ov -h PS10Hel/D81H12F1x1E0Mirror/field.oct  < PS10Hel/D81H12F1x1E0Mirror/cavcylmeshgrid1.dat | rcalc -e '$1=(0.265*$1+0.670*$2+0.065*$3);'  >> PS10Hel/D81H12F1x1E0Mirror/heatfluxD81H12F1x1E0Mirrortow1.dat
(Warning: change the name of "heatfluxD81H12F1x1E0Mirrortow1.dat" otherwise it will append the results to the already existing file)

( oconv PS10Hel/D81H12F1x1E0Mirror/sun.rad PS10Hel/D81H12F1x1E0Mirror/aperture.rad PS10Hel/D81H12F1x1E0Mirror/field.rad > PS10Hel/D81H12F1x1E0Mirror/field.oct )
------------------------------------------
Metal:

rview -vp 0 0 100.5 -vd 0 3 -1.3 -u+ -dt .03 -dc .75 -ds .2 -dr 2 -dp 512 -st .15 -ab 2 -aa .15 -ar 256 -ad 1024 -as 512 -lr -10 -lw 2e-3 PS10Hel/D81H12F1x1E0Metal/field.oct

rtrace -ab 2 -I+ -ov -h PS10Hel/D81H12F1x1E0Metal/field.oct < PS10Hel/D81H12F1x1E0Metal/cavcylmeshgrid1.dat | rcalc -e '$1=(0.265*$1+0.670*$2+0.065*$3);'  >> PS10Hel/D81H12F1x1E0Metal/heatfluxD81H12F1x1E0Metaltow1.dat
(Warning: change the name of "heatfluxD81H12F1x1E0Mirrortow1.dat" otherwise it will append the results to the already existing file)

( oconv PS10Hel/D81H12F1x1E0Metal/sun.rad PS10Hel/D81H12F1x1E0Metal/aperture.rad PS10Hel/D81H12F1x1E0Metal/field.rad > PS10Hel/D81H12F1x1E0Metal/field.oct )
------------------------------------------
BRTD:

rview -vp 0 0 100.5 -vd 0 3 -1.3 -u+ -dt .03 -dc .75 -ds .2 -dr 2 -dp 512 -st .15 -ab 2 -aa .15 -ar 256 -ad 1024 -as 512 -lr -10 -lw 2e-3 PS10Hel/D81H12F1x1E0BRTD/field.oct

rtrace -ab 2 -I+ -ov -h PS10Hel/D81H12F1x1E0BRTD/field.oct < PS10Hel/D81H12F1x1E0BRTD/cavcylmeshgrid1.dat | rcalc -e '$1=(0.265*$1+0.670*$2+0.065*$3);' >> PS10Hel/D81H12F1x1E0BRTD/heatfluxD81H12F1x1E0BRTDtow1.dat
(Warning: change the name of "heatfluxD81H12F1x1E0Mirrortow1.dat" otherwise it will append the results to the already existing file)

( oconv PS10Hel/D81H12F1x1E0BRTD/sun.rad PS10Hel/D81H12F1x1E0BRTD/aperture.rad PS10Hel/D81H12F1x1E0BRTD/field.rad > PS10Hel/D81H12F1x1E0BRTD/field.oct )
------------------------------------------


Many thanks for your help!

Best,

Germain

----------------------------------------------------------------------
Germain Augsburger

At EPFL:
Room ME A2 391
Tel.: (+41) 21 693 59 68 

Physical addresses:
ch. du Carroz 5                |  17, ch. de la Ruaz
Chez St?phane Carrupt          |  Chez St?phane & Catherine Augsburger
CH-1020 Renens (Switzerland)   |  FR-74140 Yvoire (France) 
(Tel.: (+41) 21 634 61 60      |  Tel.: (+33) 4 50 72 85 29
 - matter of urgency)          |

Internet adresses:
MSN Messenger: germain.augsburger@epfl.ch
Skype pseudonym: germainaugsburger
----------------------------------------------------------------------


From gregoryjward at gmail.com  Mon Jan  5 10:51:18 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Jan  5 10:51:19 2009
Subject: [Radiance-general] rtrace vs. rview, mirror vs. metal or BRTD
In-Reply-To: <4962527A.1010808@epfl.ch>
References: <4962527A.1010808@epfl.ch>
Message-ID: <682A58BE-515C-49EF-A4CE-5A5A9C541238@lmi.net>

Hi Germain,

The "mirror" type allows Radiance to find a small source like the sun  
by creating a "virtual source" behind the mirrored surface.  The same  
is not true for the other types you tried, which is why your -I  
calculation came up empty.

With many mirrors in your scene, especially if they are not perfect  
mirrors, you will probably need to use rtcontrib to send rays from  
the direction of the sun and track them onto your object, estimating  
the flux density by ray counting.  I think I mentioned this  
possibility to you at the workshop.  Unfortunately, I don't have a  
simple example to offer you showing how it's done, and it's not what  
I would characterize as straightforward.

Essentially, you need to create a ray flux generator corresponding to  
the solar beam radiation striking your mirror array.  You send these  
rays into rtcontrib, specifying one or more materials to record ray  
strikes on the heliostat receiver.  These get counted up and the  
ratio of ray strikes to rays sent tells you the transfer efficiency.

Does this make sense?

-Greg

> From: Germain Augsburger <germain.augsburger@epfl.ch>
> Date: January 5, 2009 10:33:30 AM PST
>
> Hi, I wish you a happy New Year! Starting with a radiance-issue...lol
>
> In my Radiance scene I replaced my "mirror" materials with  
> "metal" (or even "BRTD"), and although rview obviously "sees" the  
> new material, rtrace doesn't "see" anything (irradiance measurement  
> -I). I tried to set the rview and rtrace options as similar as  
> possible (for instance -dr, -aa, -ar, -ad, -as) but so far without  
> success. Is there a way of getting "metal" or "BRTD" work in a  
> similar way to "mirror" with rtrace?
>
> My 3 scenes (field of mirrors reflecting the sun towards a central  
> receiver, 3 times: with "mirror", "metal", and "BRTD") are  
> available if needed (too big in a general radiance mail); and here  
> are some of my command lines (first "cd HelFiSim"):

From rob.fitzsimmons at Summit.Fiserv.com  Mon Jan  5 16:03:34 2009
From: rob.fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Mon Jan  5 16:03:40 2009
Subject: [Radiance-general] feeling guinea piggish?
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de><4952A91F.1010808@rumblestrip.org>
	<B93D983D-06E4-4056-9C37-A628B2CDD29A@arcor.de>
Message-ID: <B564F6CD0114A44E816C0D68AE8C6E6903BA8500@MKEXCHVS2.Mail.Fiserv.net>

I installed SU 7 and put the surad.pl and the su2radlib folder in /Library/Application Support/Google Sketchup 7/Plugins folder.
However, I don't see it in my plugins menu - just Cost > Assign Estimate to Material  etc.
I do have it working in SU 5 and SU 6

I also put them in my account  Users/robfitzs/Library/Application Support/Google Sketchup 7/Plugins

Could my multiple versions be causing a problem? 
OS 10.4.11

Thanks
Rob


-----Original Message-----
From: radiance-general-bounces@radiance-online.org on behalf of Thomas Bleicher
Sent: Sat 1/3/2009 8:32 AM
To: rpg@rumblestrip.org; Radiance general discussion
Subject: Re: [Radiance-general] feeling guinea piggish?
 
Thanks for testing, Rob.

On 24 Dec 2008, at 21:26, Rob Guglielmetti wrote:

> I was able to run it in Firefox on WinXP, fwiw.  I didn't have much  
> time to play with it Thomas, but the basics seem to work!

As they say in programming:
It does work - for very small values of 'work'.

But I'm on it! Don't you worry, Windows folks.

And a happy new year, too.

Thomas


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090105/f2de51f6/attachment.html
From tbleicher at arcor.de  Tue Jan  6 01:50:54 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Tue Jan  6 01:51:02 2009
Subject: [Radiance-general] feeling guinea piggish?
In-Reply-To: <B564F6CD0114A44E816C0D68AE8C6E6903BA8500@MKEXCHVS2.Mail.Fiserv.net>
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de><4952A91F.1010808@rumblestrip.org>
	<B93D983D-06E4-4056-9C37-A628B2CDD29A@arcor.de>
	<B564F6CD0114A44E816C0D68AE8C6E6903BA8500@MKEXCHVS2.Mail.Fiserv.net>
Message-ID: <E26D2524-33B8-4450-BF2B-00CBDCC4459D@arcor.de>

Hi Rob.

On 6 Jan 2009, at 00:03, Fitzsimmons, Rob wrote:

> I installed SU 7 and put the surad.pl and the su2radlib folder in / 
> Library/Application Support/Google Sketchup 7/Plugins folder.
>
That should be a su2rad.rb. Can you check that it
really has the *.rb extension, please. Sketchup will
only load *.rb files. My version of SU7 now came with
are lower case 'plugins' folder. Did you create your
own?

If this is not the problem, open the Ruby console
(menu Window - Ruby console) and type at the prompt

load 'su2rad.rb'

That should, at least, create an error message that
can tell us something. If it returns 'true' it should
be fine.
> However, I don't see it in my plugins menu - just Cost > Assign  
> Estimate to Material  etc.
> I do have it working in SU 5 and SU 6
>
> I also put them in my account  Users/robfitzs/Library/Application  
> Support/Google Sketchup 7/Plugins
>
I don't know is Sketchup uses a private directory.
I'll try that; sounds like a good idea.
> Could my multiple versions be causing a problem?
> OS 10.4.11
>
Same here. I have no problem with multiple version of
SU. But you can only have one version of 'su2rad.rb' and
'su2radlib' in the 'plugins' folder.

How do you identify your SU versions? I modified
the colors of my appicon to see which is SU7 and SU6.


PS: Good news for the Windows folks: I found the
     show stopper bug on IE. Expect an update shortly.


Regards,
Thomas



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090106/60e85d28/attachment.htm
From rob.fitzsimmons at Summit.Fiserv.com  Tue Jan  6 12:21:16 2009
From: rob.fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Tue Jan  6 12:21:30 2009
Subject: [Radiance-general] feeling guinea piggish?
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de><4952A91F.1010808@rumblestrip.org><B93D983D-06E4-4056-9C37-A628B2CDD29A@arcor.de><B564F6CD0114A44E816C0D68AE8C6E6903BA8500@MKEXCHVS2.Mail.Fiserv.net>
	<E26D2524-33B8-4450-BF2B-00CBDCC4459D@arcor.de>
Message-ID: <B564F6CD0114A44E816C0D68AE8C6E6903BA8505@MKEXCHVS2.Mail.Fiserv.net>

Thomas, 
My typo - it is su2rad.rb - not .pl

I did as you said load `su2rad.rb`
is that a single quote, ' or a back-tic ` (on same key as tilda) ~ ?

I used back-tic ` and got this error

> load `su2rad.rb`
Error: #<Errno::EISDIR: /Library/Application Support/Google SketchUp 7/SketchUp/Plugins/: Is a directory - /Library/Application Support/Google SketchUp 7/SketchUp/Plugins/>
/Library/Application Support/Google SketchUp 7/SketchUp/Plugins/
(eval):0:in `load'
(eval):0

Thanks
Rob


-----Original Message-----
From: radiance-general-bounces@radiance-online.org on behalf of Thomas Bleicher
Sent: Tue 1/6/2009 1:50 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] feeling guinea piggish?
 
Hi Rob.

On 6 Jan 2009, at 00:03, Fitzsimmons, Rob wrote:

> I installed SU 7 and put the surad.pl and the su2radlib folder in / 
> Library/Application Support/Google Sketchup 7/Plugins folder.
>
That should be a su2rad.rb. Can you check that it
really has the *.rb extension, please. Sketchup will
only load *.rb files. My version of SU7 now came with
are lower case 'plugins' folder. Did you create your
own?

If this is not the problem, open the Ruby console
(menu Window - Ruby console) and type at the prompt

load 'su2rad.rb'

That should, at least, create an error message that
can tell us something. If it returns 'true' it should
be fine.




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090106/a76cf9f7/attachment.html
From akilog at nus.edu.sg  Tue Jan  6 18:51:10 2009
From: akilog at nus.edu.sg (Lars Oliver Grobe)
Date: Tue Jan  6 18:51:17 2009
Subject: [Radiance-general] feeling guinea piggish?
In-Reply-To: <B564F6CD0114A44E816C0D68AE8C6E6903BA8505@MKEXCHVS2.Mail.Fiserv.net>
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de><4952A91F.1010808@rumblestrip.org><B93D983D-06E4-4056-9C37-A628B2CDD29A@arcor.de><B564F6CD0114A44E816C0D68AE8C6E6903BA8500@MKEXCHVS2.Mail.Fiserv.net><E26D2524-33B8-4450-BF2B-00CBDCC4459D@arcor.de>
	<B564F6CD0114A44E816C0D68AE8C6E6903BA8505@MKEXCHVS2.Mail.Fiserv.net>
Message-ID: <BFC10A1E97E4FF4D96B41D896D5A0BC706120BF7@MBX02.stf.nus.edu.sg>

Hi Rob!

> I did as you said load `su2rad.rb`
> is that a single quote, ' or a back-tic ` (on same key as tilda) ~ ?

Use a single quote, the back-tick on unix systems expands the command
just in a way as it is done in radiance world by adding a ! to the
beginning of an term, so `su2rad.rb` would be replaced by the shell to
the output of the command su2rad.rb - which is the error you got (the
result of that command was 0, so sketchup tried to load a file named 0).

CU Lars.

From chris at coolshadow.com  Wed Jan  7 08:31:31 2009
From: chris at coolshadow.com (Christian Humann)
Date: Wed Jan  7 08:40:58 2009
Subject: [Radiance-general] Re: Tregenza Sky and Daylight Coefficients 
In-Reply-To: <BFC10A1E97E4FF4D96B41D896D5A0BC706120BF7@MBX02.stf.nus.edu.sg>
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de><4952A91F.1010808@rumblestrip.org><B93D983D-06E4-4056-9C37-A628B2CDD29A@arcor.de><B564F6CD0114A44E816C0D68AE8C6E6903BA8500@MKEXCHVS2.Mail.Fiserv.net><E26D2524-33B8-4450-BF2B-00CBDCC4459D@arcor.de>
	<B564F6CD0114A44E816C0D68AE8C6E6903BA8505@MKEXCHVS2.Mail.Fiserv.net>
	<BFC10A1E97E4FF4D96B41D896D5A0BC706120BF7@MBX02.stf.nus.edu.sg>
Message-ID: <C28EF45E-16E6-42C4-A9B7-48BE741CD54E@coolshadow.com>

Greetings and Happy New Year to all!

Can anyone point me in the right direction for finding examples and  
related papers on using / creating a Tregenza sky for calculating  
Daylight Coefficients?  I've been using Daysim and am trying to  
scratch my head around what exactly it's doing in the background.  My  
understanding so far is that Daysim uses a modified Rtrace routine,  
and I'm interested in how the more recent Rtcontrib can be used in its  
place. Thanks.

Chris H
Berkeley, CA USA

From tbleicher at arcor.de  Wed Jan  7 12:13:00 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Wed Jan  7 12:13:08 2009
Subject: [Radiance-general] Re: Tregenza Sky and Daylight Coefficients 
In-Reply-To: <C28EF45E-16E6-42C4-A9B7-48BE741CD54E@coolshadow.com>
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de><4952A91F.1010808@rumblestrip.org><B93D983D-06E4-4056-9C37-A628B2CDD29A@arcor.de><B564F6CD0114A44E816C0D68AE8C6E6903BA8500@MKEXCHVS2.Mail.Fiserv.net><E26D2524-33B8-4450-BF2B-00CBDCC4459D@arcor.de>
	<B564F6CD0114A44E816C0D68AE8C6E6903BA8505@MKEXCHVS2.Mail.Fiserv.net>
	<BFC10A1E97E4FF4D96B41D896D5A0BC706120BF7@MBX02.stf.nus.edu.sg>
	<C28EF45E-16E6-42C4-A9B7-48BE741CD54E@coolshadow.com>
Message-ID: <EEEE287A-DEBD-4D65-9B1A-5D1FA709F65E@arcor.de>


On 7 Jan 2009, at 16:31, Christian Humann wrote:

> Greetings and Happy New Year to all!
>
> Can anyone point me in the right direction for finding examples and  
> related papers on using / creating a Tregenza sky for calculating  
> Daylight Coefficients?

John Mardaljevic recently made a study using dynamic
daylighting. The report describes the methods, too.

links are here: http://www.iesd.dmu.ac.uk/~jm/velux.html

A bit older but more detailed is his PhD thesis:

http://www.iesd.dmu.ac.uk/~jm/zxcv-thesis/

Here is a PDF describing a 'standard model' (also check
the reference section!) by D. Bourgeois, C.F. Reinhart
and G. Ward.

http://lightswitch.irc.nrc.ca/website/Publications/ 
DDS_SumissionToBRI.pdf

> I've been using Daysim and am trying to scratch my head around what  
> exactly it's doing in the background.  My understanding so far is  
> that Daysim uses a modified Rtrace routine, and I'm interested in  
> how the more recent Rtcontrib can be used in its place.

Look at the Radiance Workshop 2006 presentations
by John and Greg:

http://www.radiance-online.org/radiance- 
workshop5/2006_Radiance_Workshop/index.html

Regards,
Thomas

From gregoryjward at gmail.com  Thu Jan  8 10:47:59 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Jan  8 10:47:57 2009
Subject: [Radiance-general] Re: Tregenza Sky and Daylight Coefficients 
In-Reply-To: <C28EF45E-16E6-42C4-A9B7-48BE741CD54E@coolshadow.com>
References: <3EAB3260-A152-454D-A2B8-971A6259EC24@arcor.de><4952A91F.1010808@rumblestrip.org><B93D983D-06E4-4056-9C37-A628B2CDD29A@arcor.de><B564F6CD0114A44E816C0D68AE8C6E6903BA8500@MKEXCHVS2.Mail.Fiserv.net><E26D2524-33B8-4450-BF2B-00CBDCC4459D@arcor.de>
	<B564F6CD0114A44E816C0D68AE8C6E6903BA8505@MKEXCHVS2.Mail.Fiserv.net>
	<BFC10A1E97E4FF4D96B41D896D5A0BC706120BF7@MBX02.stf.nus.edu.sg>
	<C28EF45E-16E6-42C4-A9B7-48BE741CD54E@coolshadow.com>
Message-ID: <7AEC6C3D-CF5A-4DAF-ABFB-01C6740BB81F@lmi.net>

Hi Chris,

I keep hoping I'll get around to making this more automatic.  The  
current distribution of Radiance has a file called "tregenza.cal"  
included in the ray/src/cal/cal/ directory, which converts a sky  
direction into a Tregenza bin number for rtcontrib.  There is another  
file called "tregsrc.cal" in the same directory that is used to  
generate Tregenza solar and sky positions, and a file called  
"tregsamp.dat" in the ray/lib directory that has 64 randomly  
distributed samples over each Tregenza patch, plus 64 randomly  
distributed samples over the ground (negative altitude angles).  This  
file is useful in combination with rtrace to determine the patch  
contributions for a particular sky/ground model.

I have some scripts as well for using these files, but they are  
complicated and specific to projects I've done in the past, and not  
generally usable or understandable.  I wish I could provide you with  
more, but that's all I have at the moment.

Best,
-Greg

> From: Christian Humann <chris@coolshadow.com>
> Date: January 7, 2009 8:31:31 AM PST
>
> Greetings and Happy New Year to all!
>
> Can anyone point me in the right direction for finding examples and  
> related papers on using / creating a Tregenza sky for calculating  
> Daylight Coefficients?  I've been using Daysim and am trying to  
> scratch my head around what exactly it's doing in the background.   
> My understanding so far is that Daysim uses a modified Rtrace  
> routine, and I'm interested in how the more recent Rtcontrib can be  
> used in its place. Thanks.
>
> Chris H
> Berkeley, CA USA

From akilog at nus.edu.sg  Tue Jan 13 21:41:37 2009
From: akilog at nus.edu.sg (Lars Oliver Grobe)
Date: Tue Jan 13 21:41:46 2009
Subject: [Radiance-general] glass modifier under different angles
Message-ID: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C00@MBX02.stf.nus.edu.sg>

Hi,

I have one question about the glass modifier.

Transmittance depends on both the materials properties and the distance
that light is traveling through the material. This distance depends on
the angle under which the ray hits the surface, and will be shortest if
hit perpendicular. Is this correctly modeled by the glass modifier,
which does not know the thickness (but the refraction of the material)?
Or do I need a 'solid' glass body to model this, with dielectric?

CU Lars.

From tbleicher at arcor.de  Wed Jan 14 01:11:00 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Wed Jan 14 01:11:07 2009
Subject: [Radiance-general] glass modifier under different angles
In-Reply-To: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C00@MBX02.stf.nus.edu.sg>
References: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C00@MBX02.stf.nus.edu.sg>
Message-ID: <248CF5CF-93FA-4CCB-BA87-1B8A9ACF92D5@arcor.de>

I remember from some documents (maybe even RwR) that
'glass' is optimised to model the effects of a thin
sheet of glass in one single polygon rather than
two parallel 'interface' polygons. The thickness of
glass panes in buildings is rather standard (4 or 6
mm) so there should be minimal errors due to this
optimisation.

If you want to model exactly how a solid body of
glass would behave you should use other primitives
like 'dielectric' (see the whale sculpture and
anti-matter examples in RwR). Arguably, the Radiance
approach is not the best algorithm for this.


Regards,
Thomas



On 14 Jan 2009, at 05:41, Lars Oliver Grobe wrote:

> Hi,
>
> I have one question about the glass modifier.
>
> Transmittance depends on both the materials properties and the  
> distance
> that light is traveling through the material. This distance depends on
> the angle under which the ray hits the surface, and will be  
> shortest if
> hit perpendicular. Is this correctly modeled by the glass modifier,
> which does not know the thickness (but the refraction of the  
> material)?
> Or do I need a 'solid' glass body to model this, with dielectric?
>
> CU Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From akilog at nus.edu.sg  Wed Jan 14 02:17:40 2009
From: akilog at nus.edu.sg (Lars Oliver Grobe)
Date: Wed Jan 14 02:17:47 2009
Subject: [Radiance-general] glass modifier under different angles
In-Reply-To: <248CF5CF-93FA-4CCB-BA87-1B8A9ACF92D5@arcor.de>
References: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C00@MBX02.stf.nus.edu.sg>
	<248CF5CF-93FA-4CCB-BA87-1B8A9ACF92D5@arcor.de>
Message-ID: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C03@MBX02.stf.nus.edu.sg>

Hi Thomas, thank you for the reply!

Yes, I know that it is an optimization. Still it would be possible to
account for the angular dependent distance given a single polygon if you
rely on that average of about 6mm. But the internal calculation should
include the angular dependency than, and that is what I am wondering. So
is the fact that a ray entering a glass face at 0 degree (perpendicular)
would travel a much shorter distance through the material then one
hitting it at 45 degree considered in the glass modifier code?

BTW yes I think this is explained in RwR, though I do not know if this
question is answered there. Unfortunately my book is 10.000km from my
current location and the one we ordered weeks ago seems to be not
available.

CU Lars.

From gregoryjward at gmail.com  Wed Jan 14 08:59:41 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Jan 14 08:59:33 2009
Subject: [Radiance-general] glass modifier under different angles
In-Reply-To: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C03@MBX02.stf.nus.edu.sg>
References: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C00@MBX02.stf.nus.edu.sg>
	<248CF5CF-93FA-4CCB-BA87-1B8A9ACF92D5@arcor.de>
	<BFC10A1E97E4FF4D96B41D896D5A0BC706120C03@MBX02.stf.nus.edu.sg>
Message-ID: <F58C7458-AF73-407F-8509-6DFC81E9CB2E@lmi.net>

Hi Lars,

The 'glass' type correctly computes the angular transmittance and  
reflectance of any sheet of glass, since the actual thickness drops  
out of the equation.  The only thing it won't do for you is show  
double- and triple- reflections that are offset by the glazing  
thickness, as one might notice in a thick pane of glass.

-Greg

> From: "Lars Oliver Grobe" <akilog@nus.edu.sg>
> Date: January 14, 2009 2:17:40 AM PST
>
> Hi Thomas, thank you for the reply!
>
> Yes, I know that it is an optimization. Still it would be possible to
> account for the angular dependent distance given a single polygon  
> if you
> rely on that average of about 6mm. But the internal calculation should
> include the angular dependency than, and that is what I am  
> wondering. So
> is the fact that a ray entering a glass face at 0 degree  
> (perpendicular)
> would travel a much shorter distance through the material then one
> hitting it at 45 degree considered in the glass modifier code?
>
> BTW yes I think this is explained in RwR, though I do not know if this
> question is answered there. Unfortunately my book is 10.000km from my
> current location and the one we ordered weeks ago seems to be not
> available.
>
> CU Lars.

From Galen.Burrell at arup.com.au  Wed Jan 14 14:39:40 2009
From: Galen.Burrell at arup.com.au (Galen Burrell)
Date: Wed Jan 14 14:39:47 2009
Subject: [Radiance-general] Glazing transparency/reflectivity study
Message-ID: <A1A14AD0D93971429BCB2E82636833C071B372A345@AUEXC01.global.arup.com>

I'm considering doing a study comparing the transparency (as viewed from outside) of two glazing types on a building modeled in radiance.  The study would render several viewpoints (and view angles looking up the facade) for the multiple glass types under a variety of sky conditions (sunny, cloudy, etc).  The primary goal of the study would be to as follows:

1. Demonstrate how exterior transparency changes with different glass types (with different coatings and exterior reflectances)
2. Demonstrate how exterior transparency changes with angle of incidence
3. Demonstrate how exterior transparency changes based on ratio of interior to exterior illuminance (or more accurately, luminances).

I'm only interested in this as a comparative study: does glass type A look clearer than glass type B when viewed at X angle and under Y sky condition, and Z interior/exterior illuminance ratio.

My question to the list is:
1. Comments on the usefulness of this study?
2. Advantage of using Optics 5 rad file (BRTDfunc) over glass primitive?  My understanding is it more accurately captures the color of the glass and reflectivity... anything else?

Thanks,
Galen
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090115/0d0404ac/attachment.htm
From gregoryjward at gmail.com  Wed Jan 14 14:57:50 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Jan 14 14:57:44 2009
Subject: [Radiance-general] Glazing transparency/reflectivity study
In-Reply-To: <A1A14AD0D93971429BCB2E82636833C071B372A345@AUEXC01.global.arup.com>
References: <A1A14AD0D93971429BCB2E82636833C071B372A345@AUEXC01.global.arup.com>
Message-ID: <068220D8-FB37-43BB-A5C2-BE41D08A8F6B@lmi.net>

Hi Galen,

I won't comment on the usefulness of your proposed study, other than  
to say it sounds interesting to me...  I do have a couple of  
suggestions, however.

The output of Optics5 should not be used directly, but should be  
passed through the "optics2rad" script to get the desired angular  
behavior from the selected glazing.  In the case of multi-layer  
glazing systems, you may be better off using the "glaze" script to  
define your material.  This script does a much better job modeling  
the multiple reflections that occur in a double-glazed system.

Best,
-Greg

> From: Galen Burrell <Galen.Burrell@arup.com.au>
> Date: January 14, 2009 2:39:40 PM PST
>
> I'm considering doing a study comparing the transparency (as viewed  
> from outside) of two glazing types on a building modeled in  
> radiance.  The study would render several viewpoints (and view  
> angles looking up the facade) for the multiple glass types under a  
> variety of sky conditions (sunny, cloudy, etc).  The primary goal  
> of the study would be to as follows:
>
> 1. Demonstrate how exterior transparency changes with different  
> glass types (with different coatings and exterior reflectances)
> 2. Demonstrate how exterior transparency changes with angle of  
> incidence
> 3. Demonstrate how exterior transparency changes based on ratio of  
> interior to exterior illuminance (or more accurately, luminances).
>
> I'm only interested in this as a comparative study: does glass type  
> A look clearer than glass type B when viewed at X angle and under Y  
> sky condition, and Z interior/exterior illuminance ratio.
>
> My question to the list is:
> 1. Comments on the usefulness of this study?
> 2. Advantage of using Optics 5 rad file (BRTDfunc) over glass  
> primitive?  My understanding is it more accurately captures the  
> color of the glass and reflectivity... anything else?
>
>
> Thanks,
> Galen

From jedev at visarc.com  Wed Jan 14 15:08:02 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Jan 14 15:08:07 2009
Subject: [Radiance-general] Glazing transparency/reflectivity study
In-Reply-To: <A1A14AD0D93971429BCB2E82636833C071B372A345@AUEXC01.global.arup.com>
References: <A1A14AD0D93971429BCB2E82636833C071B372A345@AUEXC01.global.arup.com>
Message-ID: <496E7052.9020408@visarc.com>

Hi Galen,

You should probably consider the glaze script to produce a material 
description for your glazing. I think that this will you get the most 
sophisticated description for a glass material. You can incorporate data 
that is output from Optics for single monolithic glass types to build up 
double pane insulating units if needed. A coating can be applied to a 
selected layer of the make-up. Note, that using the simple BRTDfunc 
description output from Optics (unless this has been updated in the past 
few years) does not account for variation due to incident angle. There 
is actually a way to set up the glaze script so it accepts a file of 
glass types as input rather than using the rather minimal inputs that 
come with script.

Let me know if you have any questions and I will do the best I can to 
help out.

-Jack

Galen Burrell wrote:
>
> I'm considering doing a study comparing the transparency (as viewed 
> from outside) of two glazing types on a building modeled in 
> radiance.  The study would render several viewpoints (and view angles 
> looking up the facade) for the multiple glass types under a variety of 
> sky conditions (sunny, cloudy, etc).  The primary goal of the study 
> would be to as follows:
>
> 1. Demonstrate how exterior transparency changes with different glass 
> types (with different coatings and exterior reflectances)
> 2. Demonstrate how exterior transparency changes with angle of incidence
> 3. Demonstrate how exterior transparency changes based on ratio of 
> interior to exterior illuminance (or more accurately, luminances).
>
> I'm only interested in this as a comparative study: does glass type A 
> look clearer than glass type B when viewed at X angle and under Y sky 
> condition, and Z interior/exterior illuminance ratio.
>
> My question to the list is:
> 1. Comments on the usefulness of this study?
> 2. Advantage of using Optics 5 rad file (BRTDfunc) over glass 
> primitive?  My understanding is it more accurately captures the color 
> of the glass and reflectivity... anything else?
>
>
> Thanks,
> Galen
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090114/1769d356/attachment.html
From jedev at visarc.com  Thu Jan 15 18:07:06 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Jan 15 18:07:19 2009
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 59, Issue 8
In-Reply-To: <A1A14AD0D93971429BCB2E82636833C071B372A7C9@AUEXC01.global.arup.com>
References: <GLONTS21TZ14eBa1kg300014bbe@glonts21.global.arup.com>
	<A1A14AD0D93971429BCB2E82636833C071B372A7C9@AUEXC01.global.arup.com>
Message-ID: <496FEBCA.70906@visarc.com>

Hi Galen,

No problem.

Regarding the header

    * Rc<r,g,b> - these are the rgb components for the reflectance on
      the "coated" side of the monolithic glass
    * Rg<r,g,b> - these are the rgb components for the reflectance on
      the non-coated side of the monolithic glass
    * T<r,g,b> - these are the rgb components for the transmittance for
      the monolithic glass
    * Part - this is a boolean value
          o 0 means this is a regular glass
          o 1 means this is a frit - if this is the case the "coated"
            side reflectance needs to represent the reflectance of the
            frit at 100% coverage which should be possible to extract
            from the glazing manufacturer

The RGB values are extracted from the file generated for a "radiance" 
export from Optics. This should be for a single pane monolithic glass 
description (not a multi-layer make-up). The file will have three 
Radiance material definitions, the two BRDTfunc definitions are the ones 
to pay attention to. The makeup is something like the following:

    void BRTDfunc some.glass.front
    10

        Rfr Rfg Rfb
        Tr Tg Tb
        0   0   0
        .

    9 0 0 0 0 0 0 0 0 0

    void BRTDfunc some.glass.back
    10

        Rbr Rbg Rbb
        Tr Tg Tb
        0   0   0
        .

    9 0 0 0 0 0 0 0 0 0

So you need to take the two rgb triples for reflectance and one for 
transmittance. So an entry in the data file could look like this (you 
will need to figure which represents the coated side if needed):

    Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
    <name>  Tr	Tg	Tb	Rfr	Rfg	Rfb	Rbr	Rbg	Rbb	0
      


A file for a double pane insulating unit might look like the following:

    Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
    green-lowe  Tr	Tg	Tb	Rfr	Rfg	Rfb	Rbr	Rbg	Rbb	0
      

The glaze script contains a default "clear" glass. I seem to recall that 
this is required for the script to output a material description (eg it 
must have a "clear" glass description"). If this is not suitable the 
script requires some modification, which I think I can offer some 
guidance on so that you can include your own "clear" glass description.

I would suggest before you do anything else you should test out the 
script as is with the built in values. This will let you see how it 
works. You will assign different materials to different layers to build 
up the composite unit.

Try it out and let me know if you have more questions.

-Jack

Galen Burrell wrote:
> Jack,
> Thanks for the input and offer to answer a few questions.  Much appreciated.
> I see the header information the glaze script is looking for the following when importing a data file:
>
> Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
>
>
> Questions:
> 1. Are the RGB values for T, Rc, Rg easily found in Optics 5?  I selected 'Color - Transmittance' under Tools>Select Spectrum, and tried all the different wavelength functions, but I'm not seeing RGB anywhere.
> Am I missing something?
> 2. Between Rc and Rg, which one refers to outside surface?
> 3. What does 'Part' refer to in the header above?
> 4. For a double pane IGU with a low-e coating on green glass (surface 2), would the data file look something like this?
>
> Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
> 1       Trgb, Rrgb, Part information for green glass
> 2       Trgb, Rrgb, Part information for green glass + LowE coating (or would it be just the LowE coating?)
> 3       Trgb, Rrgb, Part information for clear glass
> 4       Trgb, Rrgb, Part information for clear glass
>
> Thanks for your time and assistance - much appreciated.
>
> Galen
>
> Message: 3
> Date: Wed, 14 Jan 2009 18:08:02 -0500
> From: Jack de Valpine <jedev@visarc.com>
> Subject: Re: [Radiance-general] Glazing transparency/reflectivity
>         study
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <496E7052.9020408@visarc.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi Galen,
>
> You should probably consider the glaze script to produce a material
> description for your glazing. I think that this will you get the most
> sophisticated description for a glass material. You can incorporate data
> that is output from Optics for single monolithic glass types to build up
> double pane insulating units if needed. A coating can be applied to a
> selected layer of the make-up. Note, that using the simple BRTDfunc
> description output from Optics (unless this has been updated in the past
> few years) does not account for variation due to incident angle. There
> is actually a way to set up the glaze script so it accepts a file of
> glass types as input rather than using the rather minimal inputs that
> come with script.
>
> Let me know if you have any questions and I will do the best I can to
> help out.
>
> -Jack
>
> Galen Burrell wrote:
>   
>> I'm considering doing a study comparing the transparency (as viewed
>> from outside) of two glazing types on a building modeled in
>> radiance.  The study would render several viewpoints (and view angles
>> looking up the facade) for the multiple glass types under a variety of
>> sky conditions (sunny, cloudy, etc).  The primary goal of the study
>> would be to as follows:
>>
>> 1. Demonstrate how exterior transparency changes with different glass
>> types (with different coatings and exterior reflectances)
>> 2. Demonstrate how exterior transparency changes with angle of incidence
>> 3. Demonstrate how exterior transparency changes based on ratio of
>> interior to exterior illuminance (or more accurately, luminances).
>>
>> I'm only interested in this as a comparative study: does glass type A
>> look clearer than glass type B when viewed at X angle and under Y sky
>> condition, and Z interior/exterior illuminance ratio.
>>
>> My question to the list is:
>> 1. Comments on the usefulness of this study?
>> 2. Advantage of using Optics 5 rad file (BRTDfunc) over glass
>> primitive?  My understanding is it more accurately captures the color
>> of the glass and reflectivity... anything else?
>>
>>
>> Thanks,
>> Galen
>>
>> ____________________________________________________________
>> Electronic mail messages entering and leaving Arup  business
>> systems are scanned for acceptability of content and viruses
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>     
>
> --
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090114/1769d356/attachment-0001.html
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 59, Issue 8
> ***********************************************
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090115/a7f9ce06/attachment.htm
From jedev at visarc.com  Thu Jan 15 18:15:47 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Jan 15 18:16:38 2009
Subject: [Radiance-general] Glazing transparency/reflectivity study
In-Reply-To: <496FEBCA.70906@visarc.com>
References: <GLONTS21TZ14eBa1kg300014bbe@glonts21.global.arup.com>	<A1A14AD0D93971429BCB2E82636833C071B372A7C9@AUEXC01.global.arup.com>
	<496FEBCA.70906@visarc.com>
Message-ID: <496FEDD3.2050208@visarc.com>

Hi Galen,

A couple of subtleties to watch out for.

   1. the normals for glass geometry must be uniformly oriented and
      point to the interior of the space
   2. the header spacing if very specific and relies on tabs only as I
      recall
   3. I think that you will also find that the appearance in the images
      will be sensitive to the ambient parameters that are used

-Jack

Jack de Valpine wrote:
> Hi Galen,
>
> No problem.
>
> Regarding the header
>
>     * Rc<r,g,b> - these are the rgb components for the reflectance on
>       the "coated" side of the monolithic glass
>     * Rg<r,g,b> - these are the rgb components for the reflectance on
>       the non-coated side of the monolithic glass
>     * T<r,g,b> - these are the rgb components for the transmittance
>       for the monolithic glass
>     * Part - this is a boolean value
>           o 0 means this is a regular glass
>           o 1 means this is a frit - if this is the case the "coated"
>             side reflectance needs to represent the reflectance of the
>             frit at 100% coverage which should be possible to extract
>             from the glazing manufacturer
>
> The RGB values are extracted from the file generated for a "radiance" 
> export from Optics. This should be for a single pane monolithic glass 
> description (not a multi-layer make-up). The file will have three 
> Radiance material definitions, the two BRDTfunc definitions are the 
> ones to pay attention to. The makeup is something like the following:
>
>     void BRTDfunc some.glass.front
>     10
>
>         Rfr Rfg Rfb
>         Tr Tg Tb
>         0   0   0
>         .
>
>     9 0 0 0 0 0 0 0 0 0
>
>     void BRTDfunc some.glass.back
>     10
>
>         Rbr Rbg Rbb
>         Tr Tg Tb
>         0   0   0
>         .
>
>     9 0 0 0 0 0 0 0 0 0
>
> So you need to take the two rgb triples for reflectance and one for 
> transmittance. So an entry in the data file could look like this (you 
> will need to figure which represents the coated side if needed):
>
>     Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
>     <name>  Tr	Tg	Tb	Rfr	Rfg	Rfb	Rbr	Rbg	Rbb	0
>       
>
>
> A file for a double pane insulating unit might look like the following:
>
>     Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
>     green-lowe  Tr	Tg	Tb	Rfr	Rfg	Rfb	Rbr	Rbg	Rbb	0
>       
>
> The glaze script contains a default "clear" glass. I seem to recall 
> that this is required for the script to output a material description 
> (eg it must have a "clear" glass description"). If this is not 
> suitable the script requires some modification, which I think I can 
> offer some guidance on so that you can include your own "clear" glass 
> description.
>
> I would suggest before you do anything else you should test out the 
> script as is with the built in values. This will let you see how it 
> works. You will assign different materials to different layers to 
> build up the composite unit.
>
> Try it out and let me know if you have more questions.
>
> -Jack
>
> Galen Burrell wrote:
>> Jack,
>> Thanks for the input and offer to answer a few questions.  Much appreciated.
>> I see the header information the glaze script is looking for the following when importing a data file:
>>
>> Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
>>
>>
>> Questions:
>> 1. Are the RGB values for T, Rc, Rg easily found in Optics 5?  I selected 'Color - Transmittance' under Tools>Select Spectrum, and tried all the different wavelength functions, but I'm not seeing RGB anywhere.
>> Am I missing something?
>> 2. Between Rc and Rg, which one refers to outside surface?
>> 3. What does 'Part' refer to in the header above?
>> 4. For a double pane IGU with a low-e coating on green glass (surface 2), would the data file look something like this?
>>
>> Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
>> 1       Trgb, Rrgb, Part information for green glass
>> 2       Trgb, Rrgb, Part information for green glass + LowE coating (or would it be just the LowE coating?)
>> 3       Trgb, Rrgb, Part information for clear glass
>> 4       Trgb, Rrgb, Part information for clear glass
>>
>> Thanks for your time and assistance - much appreciated.
>>
>> Galen
>>
>> Message: 3
>> Date: Wed, 14 Jan 2009 18:08:02 -0500
>> From: Jack de Valpine <jedev@visarc.com>
>> Subject: Re: [Radiance-general] Glazing transparency/reflectivity
>>         study
>> To: Radiance general discussion <radiance-general@radiance-online.org>
>> Message-ID: <496E7052.9020408@visarc.com>
>> Content-Type: text/plain; charset="iso-8859-1"
>>
>> Hi Galen,
>>
>> You should probably consider the glaze script to produce a material
>> description for your glazing. I think that this will you get the most
>> sophisticated description for a glass material. You can incorporate data
>> that is output from Optics for single monolithic glass types to build up
>> double pane insulating units if needed. A coating can be applied to a
>> selected layer of the make-up. Note, that using the simple BRTDfunc
>> description output from Optics (unless this has been updated in the past
>> few years) does not account for variation due to incident angle. There
>> is actually a way to set up the glaze script so it accepts a file of
>> glass types as input rather than using the rather minimal inputs that
>> come with script.
>>
>> Let me know if you have any questions and I will do the best I can to
>> help out.
>>
>> -Jack
>>
>> Galen Burrell wrote:
>>   
>>> I'm considering doing a study comparing the transparency (as viewed
>>> from outside) of two glazing types on a building modeled in
>>> radiance.  The study would render several viewpoints (and view angles
>>> looking up the facade) for the multiple glass types under a variety of
>>> sky conditions (sunny, cloudy, etc).  The primary goal of the study
>>> would be to as follows:
>>>
>>> 1. Demonstrate how exterior transparency changes with different glass
>>> types (with different coatings and exterior reflectances)
>>> 2. Demonstrate how exterior transparency changes with angle of incidence
>>> 3. Demonstrate how exterior transparency changes based on ratio of
>>> interior to exterior illuminance (or more accurately, luminances).
>>>
>>> I'm only interested in this as a comparative study: does glass type A
>>> look clearer than glass type B when viewed at X angle and under Y sky
>>> condition, and Z interior/exterior illuminance ratio.
>>>
>>> My question to the list is:
>>> 1. Comments on the usefulness of this study?
>>> 2. Advantage of using Optics 5 rad file (BRTDfunc) over glass
>>> primitive?  My understanding is it more accurately captures the color
>>> of the glass and reflectivity... anything else?
>>>
>>>
>>> Thanks,
>>> Galen
>>>
>>> ____________________________________________________________
>>> Electronic mail messages entering and leaving Arup  business
>>> systems are scanned for acceptability of content and viruses
>>>
>>> ------------------------------------------------------------------------
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>     
>>
>> --
>> # Jack de Valpine
>> # president
>> #
>> # visarc incorporated
>> # http://www.visarc.com
>> #
>> # channeling technology for superior design and construction
>>
>> -------------- next part --------------
>> An HTML attachment was scrubbed...
>> URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090114/1769d356/attachment-0001.html
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 59, Issue 8
>> ***********************************************
>>
>>   
>
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090115/00ca904c/attachment.html
From Galen.Burrell at arup.com.au  Thu Jan 15 19:54:09 2009
From: Galen.Burrell at arup.com.au (Galen Burrell)
Date: Thu Jan 15 19:54:22 2009
Subject: [Radiance-general] Re: Glazing transparency/reflectivity study 
In-Reply-To: <SYDEXC02D7Fjm0fwYdk000035c5@sydexc02.global.arup.com>
References: <SYDEXC02D7Fjm0fwYdk000035c5@sydexc02.global.arup.com>
Message-ID: <A1A14AD0D93971429BCB2E82636833C071B372AA28@AUEXC01.global.arup.com>

Thanks Jack.

All seems clear and I've got some results that I'm pretty happy with.  One thing I'm still a little unclear about is how you would apply a low-e film to a non-clear glass (i.e. tinted green, blue, etc) if the script requires one surface to be "clear" for each pane.

For example:
VE2-2M (http://www.viracon.com/makeupsheet.php?id=3840) has the VE-2M coating applied to Evergreen glass on the #2 surface.  As it is now, I would input:
Surface 1 - Clear
Surface 2 - VE2-2M on evergreen (from optics 5 data)
Surface 3 - Clear
Surface 4 - Clear

Is there an easy hack to make Surface 1 evergreen instead of clear?

Thanks,
Galen


-----Original Message-----
Date: Thu, 15 Jan 2009 21:07:06 -0500
From: Jack de Valpine <jedev@visarc.com>
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 59, Issue
        8
To: Galen Burrell <Galen.Burrell@arup.com.au>
Cc: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <496FEBCA.70906@visarc.com>
Content-Type: text/plain; charset="iso-8859-1"

Hi Galen,

No problem.

Regarding the header

    * Rc<r,g,b> - these are the rgb components for the reflectance on
      the "coated" side of the monolithic glass
    * Rg<r,g,b> - these are the rgb components for the reflectance on
      the non-coated side of the monolithic glass
    * T<r,g,b> - these are the rgb components for the transmittance for
      the monolithic glass
    * Part - this is a boolean value
          o 0 means this is a regular glass
          o 1 means this is a frit - if this is the case the "coated"
            side reflectance needs to represent the reflectance of the
            frit at 100% coverage which should be possible to extract
            from the glazing manufacturer

The RGB values are extracted from the file generated for a "radiance"
export from Optics. This should be for a single pane monolithic glass
description (not a multi-layer make-up). The file will have three
Radiance material definitions, the two BRDTfunc definitions are the ones
to pay attention to. The makeup is something like the following:

    void BRTDfunc some.glass.front
    10

        Rfr Rfg Rfb
        Tr Tg Tb
        0   0   0
        .

    9 0 0 0 0 0 0 0 0 0

    void BRTDfunc some.glass.back
    10

        Rbr Rbg Rbb
        Tr Tg Tb
        0   0   0
        .

    9 0 0 0 0 0 0 0 0 0

So you need to take the two rgb triples for reflectance and one for
transmittance. So an entry in the data file could look like this (you
will need to figure which represents the coated side if needed):

    Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
    <name>  Tr  Tg      Tb      Rfr     Rfg     Rfb     Rbr     Rbg     Rbb     0



A file for a double pane insulating unit might look like the following:

    Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
    green-lowe  Tr      Tg      Tb      Rfr     Rfg     Rfb     Rbr     Rbg     Rbb     0


The glaze script contains a default "clear" glass. I seem to recall that
this is required for the script to output a material description (eg it
must have a "clear" glass description"). If this is not suitable the
script requires some modification, which I think I can offer some
guidance on so that you can include your own "clear" glass description.

I would suggest before you do anything else you should test out the
script as is with the built in values. This will let you see how it
works. You will assign different materials to different layers to build
up the composite unit.

Try it out and let me know if you have more questions.

-Jack


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From biro0013 at umn.edu  Thu Jan 15 20:55:59 2009
From: biro0013 at umn.edu (biro0013@umn.edu)
Date: Thu Jan 15 20:55:59 2009
Subject: [Radiance-general] Fritted glass script for Radiance
Message-ID: <Prayer.1.0.16.0901152255590.8119@vs-a.tc.umn.edu>

Dear Galen,

I have been following your discussion regarding modeling of glazing types 
and was hoping you might be able to point me in the right direction. Your 
discussion so far seems rather relevant to the issue with which I am 
concerned. I have little familiarity with Radiance or writing scripts for 
Radiance, however.

I am doing a comparative study of glazing types for illuminance levels on 
the interior of a large atrium space lighted by a barrel vaulted skylight. 
I am using Ecotect and exporting to Radiance, allowing Radiance to render 
the image and then re-importing the point data back into Ecotect for 
graphic representation and interpretation. The specific glass types I am 
trying to model are Viracon's VE340, VE340 with 30% grey frit and VE340 
with 50% grey frit. Viracon provided the .rad files from Optics, but the 
results I am obtaining don't seem to correlate. I suspect it has something 
to do with the Optics output and how it deals with a frit. I have attached 
the files and was hoping you could provide some insight.

Sincerely,

Ted Biro 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: VE340-NFRC 6057+Clear-NFRC 103_glass.rad
Type: application/octet-stream
Size: 714 bytes
Desc: VE340-NFRC 6057+Clear-NFRC 103_glass.rad
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20090115/ee6285ce/VE340-NFRC6057Clear-NFRC103_glass.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: VE340-30%V175+Clear-NFRC 103.rad
Type: application/octet-stream
Size: 708 bytes
Desc: VE340-30%V175+Clear-NFRC 103.rad
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20090115/ee6285ce/VE340-30V175Clear-NFRC103.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: VE340-50%V175+Clear-NFRC 103.rad
Type: application/octet-stream
Size: 708 bytes
Desc: VE340-50%V175+Clear-NFRC 103.rad
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20090115/ee6285ce/VE340-50V175Clear-NFRC103.obj
From gregoryjward at gmail.com  Thu Jan 15 21:01:12 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Jan 15 21:01:06 2009
Subject: [Radiance-general] Re: Glazing transparency/reflectivity study
In-Reply-To: <A1A14AD0D93971429BCB2E82636833C071B372AA28@AUEXC01.global.arup.com>
References: <SYDEXC02D7Fjm0fwYdk000035c5@sydexc02.global.arup.com>
	<A1A14AD0D93971429BCB2E82636833C071B372AA28@AUEXC01.global.arup.com>
Message-ID: <D30C604F-7189-41AA-A973-0826278CBF85@lmi.net>

I think you just specify surface 1 as evergreen and surface 2 as  
VE2-2M.  The effect is the same as making them the same surface, I  
think.

-Greg

> From: Galen Burrell <Galen.Burrell@arup.com.au>
> Date: January 15, 2009 7:54:09 PM PST
>
> Thanks Jack.
>
> All seems clear and I've got some results that I'm pretty happy  
> with.  One thing I'm still a little unclear about is how you would  
> apply a low-e film to a non-clear glass (i.e. tinted green, blue,  
> etc) if the script requires one surface to be "clear" for each pane.
>
> For example:
> VE2-2M (http://www.viracon.com/makeupsheet.php?id=3840) has the  
> VE-2M coating applied to Evergreen glass on the #2 surface.  As it  
> is now, I would input:
> Surface 1 - Clear
> Surface 2 - VE2-2M on evergreen (from optics 5 data)
> Surface 3 - Clear
> Surface 4 - Clear
>
> Is there an easy hack to make Surface 1 evergreen instead of clear?
>
> Thanks,
> Galen

From gregoryjward at gmail.com  Thu Jan 15 21:18:51 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Jan 15 21:18:43 2009
Subject: [Radiance-general] Fritted glass script for Radiance
In-Reply-To: <Prayer.1.0.16.0901152255590.8119@vs-a.tc.umn.edu>
References: <Prayer.1.0.16.0901152255590.8119@vs-a.tc.umn.edu>
Message-ID: <680C7781-5B31-4D8C-A79E-8D8369A60162@lmi.net>

Hi Ted,

If you've been following the discussion, you'll know that you cannot  
use the output of Optics5 directly in Radiance and expect to get good  
results. You need to use optics2rad or the glaze script to arrive at  
a good model of your glazing system.

Best,
-Greg

> From: biro0013@umn.edu
> Date: January 15, 2009 8:55:59 PM PST
>
> Dear Galen,
>
> I have been following your discussion regarding modeling of glazing  
> types and was hoping you might be able to point me in the right  
> direction. Your discussion so far seems rather relevant to the  
> issue with which I am concerned. I have little familiarity with  
> Radiance or writing scripts for Radiance, however.
>
> I am doing a comparative study of glazing types for illuminance  
> levels on the interior of a large atrium space lighted by a barrel  
> vaulted skylight. I am using Ecotect and exporting to Radiance,  
> allowing Radiance to render the image and then re-importing the  
> point data back into Ecotect for graphic representation and  
> interpretation. The specific glass types I am trying to model are  
> Viracon's VE340, VE340 with 30% grey frit and VE340 with 50% grey  
> frit. Viracon provided the .rad files from Optics, but the results  
> I am obtaining don't seem to correlate. I suspect it has something  
> to do with the Optics output and how it deals with a frit. I have  
> attached the files and was hoping you could provide some insight.
>
> Sincerely,
>
> Ted Biro

From akilog at nus.edu.sg  Fri Jan 16 01:05:18 2009
From: akilog at nus.edu.sg (Lars Oliver Grobe)
Date: Fri Jan 16 01:05:23 2009
Subject: [Radiance-general] Probably a FAQ, but is there an answer?
Message-ID: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C09@MBX02.stf.nus.edu.sg>

Hi,

We are trying to get RwR for a while. At amazon it was possible to place
an order, but after months of waiting, the reply arrived today:

"Hello from Amazon.com.

We're sorry to report that we have cancelled the item from the order you
placed on (...):

Greg Ward Larson, Rob Shakespeare "Rendering With Radiance: The Art And
Science Of Lighting Visualization"

We cancelled this item from your order because we did not receive your
approval for the delay we experienced in fulfilling your order.
Although we strive to make our shipping and delivery estimates as
accurate as possible, in this case we were unable to ship within those
estimates.  We apologize for the inconvenience."

So amazon cannot get the book any more. Is there any place where one can
order the book from?

CU Lars.

From dbs176 at gmail.com  Fri Jan 16 06:31:20 2009
From: dbs176 at gmail.com (David Smith)
Date: Fri Jan 16 06:31:45 2009
Subject: [Radiance-general] Probably a FAQ, but is there an answer?
Message-ID: <694e132c0901160631y653110faoe9737b4ea59d0b57@mail.gmail.com>

> Is there any place where one can order the book from?


Lars,

Apparently it's "available" (your mileage may vary), but only at
extortion-level prices:

http://isbn.nu/0974538108

--Dave

From jedev at visarc.com  Fri Jan 16 06:51:56 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Jan 16 06:52:07 2009
Subject: [Radiance-general] Re: Glazing transparency/reflectivity study
In-Reply-To: <A1A14AD0D93971429BCB2E82636833C071B372AA28@AUEXC01.global.arup.com>
References: <SYDEXC02D7Fjm0fwYdk000035c5@sydexc02.global.arup.com>
	<A1A14AD0D93971429BCB2E82636833C071B372AA28@AUEXC01.global.arup.com>
Message-ID: <49709F0C.9050801@visarc.com>

Hi Galen,

It has been a while, but I think that the color/tint comes from the rgb 
values for the coated glass. So the color would be conveyed by "VE2-2M 
on Evergreen" monolithic export from Optics 5. So this should account 
for the color of the coated glass. However, I think that I have to defer 
to Greg on this for confirmation.

Note for Viracon:

    <type><color>-<transmittance>

    so
    type = VE = Low-E
    color = 2 = Green
    transmittance = 2M = ~70%

    if you want "Evergreen" you need to look at color 8.... so VE8-2M


One way to sanity check is to run a single layer output from glaze and 
specify s1 as clear and s2 as VE2-2M on evergreen. The last three lines 
of the material description should give you:

    Rext_r Rext_g Rext_b
    Rint_r Rint_g Rint_b
    Tr Tg Tb

The rgb components should be the same as those exported from Optics5 
(even though you are specifying "clear" for one layer).

Hope this helps.

-Jack



Galen Burrell wrote:
> Thanks Jack.
>
> All seems clear and I've got some results that I'm pretty happy with.  One thing I'm still a little unclear about is how you would apply a low-e film to a non-clear glass (i.e. tinted green, blue, etc) if the script requires one surface to be "clear" for each pane.
>
> For example:
> VE2-2M (http://www.viracon.com/makeupsheet.php?id=3840) has the VE-2M coating applied to Evergreen glass on the #2 surface.  As it is now, I would input:
> Surface 1 - Clear
> Surface 2 - VE2-2M on evergreen (from optics 5 data)
> Surface 3 - Clear
> Surface 4 - Clear
>
> Is there an easy hack to make Surface 1 evergreen instead of clear?
>
> Thanks,
> Galen
>
>
> -----Original Message-----
> Date: Thu, 15 Jan 2009 21:07:06 -0500
> From: Jack de Valpine <jedev@visarc.com>
> Subject: [Radiance-general] Re: Radiance-general Digest, Vol 59, Issue
>         8
> To: Galen Burrell <Galen.Burrell@arup.com.au>
> Cc: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <496FEBCA.70906@visarc.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi Galen,
>
> No problem.
>
> Regarding the header
>
>     * Rc<r,g,b> - these are the rgb components for the reflectance on
>       the "coated" side of the monolithic glass
>     * Rg<r,g,b> - these are the rgb components for the reflectance on
>       the non-coated side of the monolithic glass
>     * T<r,g,b> - these are the rgb components for the transmittance for
>       the monolithic glass
>     * Part - this is a boolean value
>           o 0 means this is a regular glass
>           o 1 means this is a frit - if this is the case the "coated"
>             side reflectance needs to represent the reflectance of the
>             frit at 100% coverage which should be possible to extract
>             from the glazing manufacturer
>
> The RGB values are extracted from the file generated for a "radiance"
> export from Optics. This should be for a single pane monolithic glass
> description (not a multi-layer make-up). The file will have three
> Radiance material definitions, the two BRDTfunc definitions are the ones
> to pay attention to. The makeup is something like the following:
>
>     void BRTDfunc some.glass.front
>     10
>
>         Rfr Rfg Rfb
>         Tr Tg Tb
>         0   0   0
>         .
>
>     9 0 0 0 0 0 0 0 0 0
>
>     void BRTDfunc some.glass.back
>     10
>
>         Rbr Rbg Rbb
>         Tr Tg Tb
>         0   0   0
>         .
>
>     9 0 0 0 0 0 0 0 0 0
>
> So you need to take the two rgb triples for reflectance and one for
> transmittance. So an entry in the data file could look like this (you
> will need to figure which represents the coated side if needed):
>
>     Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
>     <name>  Tr  Tg      Tb      Rfr     Rfg     Rfb     Rbr     Rbg     Rbb     0
>
>
>
> A file for a double pane insulating unit might look like the following:
>
>     Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
>     green-lowe  Tr      Tg      Tb      Rfr     Rfg     Rfb     Rbr     Rbg     Rbb     0
>
>
> The glaze script contains a default "clear" glass. I seem to recall that
> this is required for the script to output a material description (eg it
> must have a "clear" glass description"). If this is not suitable the
> script requires some modification, which I think I can offer some
> guidance on so that you can include your own "clear" glass description.
>
> I would suggest before you do anything else you should test out the
> script as is with the built in values. This will let you see how it
> works. You will assign different materials to different layers to build
> up the composite unit.
>
> Try it out and let me know if you have more questions.
>
> -Jack
>
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090116/5a0893dc/attachment.html
From gregoryjward at gmail.com  Fri Jan 16 08:36:04 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Jan 16 08:36:05 2009
Subject: [Radiance-general] Re: Glazing transparency/reflectivity study
In-Reply-To: <49709F0C.9050801@visarc.com>
References: <SYDEXC02D7Fjm0fwYdk000035c5@sydexc02.global.arup.com>
	<A1A14AD0D93971429BCB2E82636833C071B372AA28@AUEXC01.global.arup.com>
	<49709F0C.9050801@visarc.com>
Message-ID: <D93C8B19-F766-469C-8A63-C61D52AD3878@lmi.net>

Yes, well, unfortunately Greg doesn't know what he's talking about,  
because Galen was right when he said that the glaze script demands  
one surface be clear glass.  Your suggestion is better, and should  
work, since the glaze script only uses the transmittance and  
reflectance values for it's models.

Creating a model that properly accounts for the deepening hue  
experienced at off-angle transmission through colored glazing would  
require hand-modeling, since the glaze script only considers a  
surface coating.  I don't know the construction of the Evergreen  
glass, so I'm not sure what's appropriate.

-Greg

> From: Jack de Valpine <jedev@visarc.com>
> Date: January 16, 2009 6:51:56 AM PST
>
> Hi Galen,
>
> It has been a while, but I think that the color/tint comes from the  
> rgb values for the coated glass. So the color would be conveyed by  
> "VE2-2M on Evergreen" monolithic export from Optics 5. So this  
> should account for the color of the coated glass. However, I think  
> that I have to defer to Greg on this for confirmation.
>
> Note for Viracon:
> <type><color>-<transmittance>
>
> so
> type = VE = Low-E
> color = 2 = Green
> transmittance = 2M = ~70%
>
> if you want "Evergreen" you need to look at color 8.... so VE8-2M
>
> One way to sanity check is to run a single layer output from glaze  
> and specify s1 as clear and s2 as VE2-2M on evergreen. The last  
> three lines of the material description should give you:
> Rext_r Rext_g Rext_b
> Rint_r Rint_g Rint_b
> Tr Tg Tb
> The rgb components should be the same as those exported from  
> Optics5 (even though you are specifying "clear" for one layer).
>
> Hope this helps.
>
> -Jack

From rfritz at u.washington.edu  Fri Jan 16 08:50:59 2009
From: rfritz at u.washington.edu (R Fritz)
Date: Fri Jan 16 08:50:59 2009
Subject: [Radiance-general] Probably a FAQ, but is there an answer?
In-Reply-To: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C09@MBX02.stf.nus.edu.sg>
References: <BFC10A1E97E4FF4D96B41D896D5A0BC706120C09@MBX02.stf.nus.edu.sg>
Message-ID: <D1ECEC6B-CB44-4035-AA51-3EB5AE297CE0@u.washington.edu>

It's supposed to be printed on demand, but the notoriously sloppy  
print-on-demand publisher Booksurge (an Amazon subsidiary) seems to  
have dropped it from their catalog, for some reason.  So hang on--I  
think it'll be available again.

Perhaps a different printer is called for?  Lulu.com has a good  
reputation.

Randolph

On Jan 16, 2009, at 1:05 AM, Lars Oliver Grobe wrote:

> Hi,
>
> We are trying to get RwR for a while. At amazon it was possible to  
> place
> an order, but after months of waiting, the reply arrived today:
>
> "Hello from Amazon.com.
>
> We're sorry to report that we have cancelled the item from the order  
> you
> placed on (...):
>
> Greg Ward Larson, Rob Shakespeare "Rendering With Radiance: The Art  
> And
> Science Of Lighting Visualization"
>
> We cancelled this item from your order because we did not receive your
> approval for the delay we experienced in fulfilling your order.
> Although we strive to make our shipping and delivery estimates as
> accurate as possible, in this case we were unable to ship within those
> estimates.  We apologize for the inconvenience."
>
> So amazon cannot get the book any more. Is there any place where one  
> can
> order the book from?
>
> CU Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From tbleicher at arcor.de  Sun Jan 18 06:44:44 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sun Jan 18 06:44:52 2009
Subject: [Radiance-general] su2rad - v1.0 alpha release announcement
Message-ID: <AD457A01-253C-43FA-9802-3981A43A2A74@arcor.de>

Hi all (including Windows users!).

I have released yet another preview of my SketchUp
exporter script. This is still a test version
and should not be used in a production environment!

The big news: It works on Windows, too!

Other changes:

     * (nearly) feature complete interface
     * material assignment via drag'n'drop (in JavaScript!)
     * advanced view settings like fisheye projections
     * materials from Radiance scene files can be used

I hope you will provide me with feedback on the usability
or usefulness of the features so far.

I have only tested it on SketchUp 7 so you are advised to
upgrade. The script works on the free version ('Google Sketchup')
so there is no need to buy new licenses. Note that SU7 files do
not open in SU6!


Download and Installation
=========================

Please read the introduction and comments on

http://sites.google.com/site/tbleicher/su2rad/1-0-alpha


The download for the zip file is:

http://su2rad.googlecode.com/files/su2rad_1.0.alpha.zip


As always, extract the zip file, copy 'su2rad.rb' and
'su2radlib' into the SketchUp 'plugins' folder and you're
good to go.


Don't forget to come back with comments.

Regards,
Thomas


From brajeshlal at yahoo.com  Tue Jan 20 02:47:26 2009
From: brajeshlal at yahoo.com (Brajesh Lal)
Date: Tue Jan 20 02:47:26 2009
Subject: [Radiance-general] rayinit.cal problem
Message-ID: <110565.573.qm@web51901.mail.re2.yahoo.com>

Hi all,

I am new to radiance.? i have installed cygwin and radiance version "cygwin-radiance_dist-3R9"?and i have started learning through tutorials. 

this is regarding the tutorial - Scene 0
I was using?rpict command to render into HDR image ( Whicg i used to view later in HDRshop) and able to render the first part of the tutorial.
later part which is about " adding window"

i made?sky.rad, outside.rad, ?window.rad and room.rad

now i run 
?% oconv sky.rad? outside.rad? window.rad? room.rad? > test1.oct

?but when i use rpict

rpict -vp? 2.25 .375 1 -vd -.25 .125 -.125 -av .5 .5 .5? test1.oct??>? image1.hdr
it gives me error
rpict : fatal - cannot find fucntion file "rayinit.cal"
rpict : 19929 rays, 18.75% after 0.000u 0.000s 0.000r hours on hp

my .bash_profile was

?# System-wide .bashrc file
# change the directories if necessary
PATH=.:/opt/radiance/bin:$PATH
RAYPATH=.:/opt/radiance/lib
MANPATH=/opt/radiance/doc/man:$MANPATH
export PATH RAYPATH MANPATH
?
later i found the "rayinit.cal" file path (C:\cygwin\home\abc\opt\radiance\cygwin-radiance_dist-3R9\lib)
?
then i changed the RAYPATH
?
# System-wide .bashrc file
# change the directories if necessary
PATH=.:/opt/radiance/bin:$PATH
#RAYPATH=.:/opt/radiance/lib
RAYPATH=.:/opt/radiance/cygwin-radiance_dist-3R9/lib
MANPATH=/opt/radiance/doc/man:$MANPATH
export PATH RAYPATH MANPATH
?
still i am getting the same error. How do i fix it to view the rendered image ?
?
?
And how do i use rview - for viewing the image ? any other software is required ?
?
?
?
Best Regards, 
Brajesh Lal


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090120/0f518319/attachment.html
From akilog at nus.edu.sg  Tue Jan 20 03:12:55 2009
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Tue Jan 20 03:13:00 2009
Subject: [Radiance-general] rayinit.cal problem
In-Reply-To: <110565.573.qm@web51901.mail.re2.yahoo.com>
References: <110565.573.qm@web51901.mail.re2.yahoo.com>
Message-ID: <4975B1B7.8080303@nus.edu.sg>

Hi,

I have never used radiance on windows and do not know about windows 
neither. Still there is something strange in what you describe:
 
> now i run
>  % oconv sky.rad  outside.rad  window.rad  room.rad  > test1.oct
>  
> (...)
>  
> my .bash_profile was
>
>  # System-wide .bashrc file
> # change the directories if necessary
> PATH=.:/opt/radiance/bin:$PATH
> RAYPATH=.:/opt/radiance/lib
> MANPATH=/opt/radiance/doc/man:$MANPATH
> export PATH RAYPATH MANPATH
>
> (...) 
>
> later i found the "rayinit.cal" file path 
> (C:\cygwin\home\abc\opt\radiance\cygwin-radiance_dist-3R9\lib)
>

You found rayinit.cal in a subdirectory called 
cygwin-radiance_dist-3R9\lib, so I guess your binaries are in 
cygwin-radiance_dist-3R9\bin, right? Still your PATH points to 
/opt/radiance/bin, and you are able to call oconv. So something is 
wrong. Is it possible that the settings in this .bash_profile are 
overwritten somewhere?

CU Lars.

From tbleicher at arcor.de  Tue Jan 20 04:15:15 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Tue Jan 20 04:15:19 2009
Subject: [Radiance-general] rayinit.cal problem
In-Reply-To: <110565.573.qm@web51901.mail.re2.yahoo.com>
References: <110565.573.qm@web51901.mail.re2.yahoo.com>
Message-ID: <77F8075E-A343-4A9A-867D-A4F15D7CC1BE@arcor.de>


On 20 Jan 2009, at 10:47, Brajesh Lal wrote:

> # System-wide .bashrc file
> # change the directories if necessary
> PATH=.:/opt/radiance/bin:$PATH
> #RAYPATH=.:/opt/radiance/lib
> RAYPATH=.:/opt/radiance/cygwin-radiance_dist-3R9/lib
>
> MANPATH=/opt/radiance/doc/man:$MANPATH
>
> export PATH RAYPATH MANPATH
>
> still i am getting the same error. How do i fix it to view the  
> rendered image ?
>
Did you reload ('.' aka 'source') the config file after
you made the changes?

As an immediate help copy the rayinit.cal file into your
project directory (where you execute the rpict command).

Long term fix: As Lars wrote, there is something unclear with
your PATH. First you need to find out whether your settings
take effect or if they are taken from somewhere else. I'm
always puzzled by the variety of bash configuration files
and need to consult the man page to work out what .bash_profile
.bash_login and .bashrc are doing exactly.

To find out if your settings are effective, you should 'log off'
from the cygwin environment and start a new session. This will
reinitialise your environment. Then type

echo $PATH
echo $RAYPATH

at the command prompt and see if the output is what you expect.

If you don't get your settings read the bash man page regarding
the startup sequence and the Cygwin documentation about the
location of configuration files and the environment paths.

That should give you an idea how the path should look like
and where it should go.

>  And how do i use rview - for viewing the image ? any other  
> software is required ?

For image viewing you use 'ximage'.

The 'rview' program has been renamed to 'rvu' (the tutorial
does not reflect that). It provides an interactive preview of
a scene, not an image. You can use it to control your view
settings before you start a long running rpict calculation
with high quality settings.

I don't know if ximage or rvu work on cygwin but you will need
a running X server if you want to use either. Again, check the
Cygwin documentation on this topic (eg. http://x.cygwin.com).

Regards,
Thomas


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090120/f52d76f7/attachment.htm
From brajeshlal at yahoo.com  Tue Jan 20 05:32:17 2009
From: brajeshlal at yahoo.com (Brajesh Lal)
Date: Tue Jan 20 05:32:19 2009
Subject: [Radiance-general] rayinit.cal problem
References: <110565.573.qm@web51901.mail.re2.yahoo.com>
	<77F8075E-A343-4A9A-867D-A4F15D7CC1BE@arcor.de>
Message-ID: <979697.21996.qm@web51909.mail.re2.yahoo.com>

Thanks Lars and Thomas,

It is working !!
I copied the rayinit.cal and skybright.cal into project folder.?Now "rpict: command is working. Image is rendered and i am able to see in HDR shop.

Well i am not a expert unix guy....?just started with cygwin..... to install radiance ....i refered?" install.txt" 
Radiance 3R9 for Cygwin 2005-08-03
HOW TO INSTALL IT QUICKLY ...
1. Launch the Cygwin console (double-click on the Cygwin desktop icon)? 2. Change to root directory (don't type the dollar sign):??? $ cd /
3. Create the "opt" directory:???? $ mkdir /opt?? 4. Create the "radiance" directory inside /opt:???? $ cd /opt ,?? $ mkdir radiance
5. Copy the radiance_cygwin_3R9.tar.gz inside C:\cygwin\opt\radiance 6. Extract the archive: $ cd radiance .....?? used win rar instead of? ..$ tar zxvf radiance_cygwin_3R9.tar.gz? 7. Copy the bash_profile file to your home directory:???? $ cp bash_profile >> ~/.bash_profile? ( Instead i did copy paste in windows)??8. Close the Cygwin console.? 9. Re-launch the Cygwin console. 10. Enjoy!

Now i really want to fix the problem of PATH for future. Therefore i am explaining my directory structure.
Under cygwin\home\abc directory? ..... i have folder? "opt" and files .bashrc , .inputrc, bash_profile, BASH_HISTORY

bash_profile?changed content is given below 

# System-wide .bashrc file
# change the directories if necessary
PATH=.:/opt/radiance/cygwin-radiance_dist-3R9/bin:$PATH
RAYPATH=.:/opt/radiance/cygwin-radiance_dist-3R9/lib:$RAYPATH
MANPATH=/opt/radiance/cygwin-radiance_dist-3R9/doc/man:$MANPATH
export PATH RAYPATH MANPATH

then under?? cygwin\home\abc\opt\radiance\cygwin-radiance_dist-3R9
?i have "bin", "doc", "lib" and "obj" folders. and my source files ( now it includes rayinit.cal and skybright.cal)?are also into?? - "cygwin\home\abc\opt\radiance\cygwin-radiance_dist-3R9"

When i relaunch the cygwin console and??execute?$PATH .... i get the following info on the console
bash:?usr/local/bin: /usr/bin: /bin : /usr/X11R6/bin : /cygdrive/c/Program: No such file or directory.

and when i do $RAYPATH then no message or info?comes on the console.

for execution of source file - once i am inside the "cygwin\home\abc\opt\radiance\cygwin-radiance_dist-3R9" ditectory
I do
1. export PATH=$HOME/opt/radiance/cygwin-radiance_dist-3R9/bin/:$PATH ( Without this command i am "oconv" commoand is not executed)
2. oconv command......... 
3. rpict command ............

I suppose?my path is set to bin? and it does not point on lib folder? How i can set the path(s) such that i do not use export command

Best Regards, 
Brajesh Lal




________________________________
From: Thomas Bleicher <tbleicher@arcor.de>
To: Radiance general discussion <radiance-general@radiance-online.org>
Sent: Tuesday, January 20, 2009 1:15:15 PM
Subject: Re: [Radiance-general] rayinit.cal problem



On 20 Jan 2009, at 10:47, Brajesh Lal wrote:

# System-wide .bashrc file
# change the directories if necessary
PATH=.:/opt/radiance/bin:$PATH
#RAYPATH=.:/opt/radiance/lib
RAYPATH=.:/opt/radiance/cygwin-radiance_dist-3R9/lib
MANPATH=/opt/radiance/doc/man:$MANPATH
export PATH RAYPATH MANPATH?
still i am getting the same error. How do i fix it to view the rendered image ?
Did you reload ('.' aka 'source') the config file after
you made the changes?

As an immediate help copy the rayinit.cal file into your
project directory (where you execute the rpict command).

Long term fix: As Lars wrote, there is something unclear with
your PATH. First you need to find out whether your settings
take effect or if they are taken from somewhere else. I'm
always puzzled by the variety of bash configuration files
and need to consult the man page to work out what .bash_profile
.bash_login and .bashrc are doing exactly.

To find out if your settings are effective, you should 'log off'
from the cygwin environment and start a new session. This will
reinitialise your environment. Then type

echo $PATH
echo $RAYPATH

at the command prompt and see if the output is what you expect.

If you don't get your settings read the bash man page regarding
the startup sequence and the Cygwin documentation about the
location of configuration files and the environment paths.

That should give you an idea how the path should look like
and where it should go.

?And how do i use rview - for viewing the image ? any other software is required ?

For image viewing you use 'ximage'.?

The 'rview' program has been?renamed to 'rvu' (the tutorial
does not reflect that). It provides an interactive preview of
a scene, not an image. You can use it to control your view
settings before you start a long running rpict calculation
with high quality settings.?

I don't know if ximage or rvu work on cygwin but?you will need
a running X server if you want to use either. Again, check?the
Cygwin documentation on this topic (eg. http://x.cygwin.com).

Regards,
Thomas?


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090120/6f993b13/attachment.html
From tbleicher at arcor.de  Tue Jan 20 07:34:14 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Tue Jan 20 10:44:25 2009
Subject: [Radiance-general] rayinit.cal problem
In-Reply-To: <979697.21996.qm@web51909.mail.re2.yahoo.com>
References: <110565.573.qm@web51901.mail.re2.yahoo.com>
	<77F8075E-A343-4A9A-867D-A4F15D7CC1BE@arcor.de>
	<979697.21996.qm@web51909.mail.re2.yahoo.com>
Message-ID: <B0A950DE-530E-4BE8-99D7-238C620E7C54@arcor.de>


On 20 Jan 2009, at 13:32, Brajesh Lal wrote:

> Thanks Lars and Thomas,
>
> It is working !!
> I copied the rayinit.cal and skybright.cal into project folder. Now  
> "rpict: command is working. Image is rendered and i am able to see  
> in HDR shop.

Definitively a PATH problem, then.

> Well i am not a expert unix guy.... just started with cygwin.....

Be told that you will suffer more than necessary for using cygwin. If  
you have the resources I recommend installing Linux on an old  
computer or setting up a virtual machine with Linux. It will make it  
easier for you to understand Unix.

> Now i really want to fix the problem of PATH for future. Therefore  
> i am explaining my directory structure.
> Under cygwin\home\abc directory  ..... i have folder  "opt" and  
> files .bashrc , .inputrc, bash_profile, BASH_HISTORY

First: According to this you are user 'abc' on your Windows machine.  
Is this correct or did you set this up intentionally? You can verify  
by typing

whoami
pwd

in the console window. The first should give you 'abc' the second '/ 
home/abc'


Second: This 'opt' is not were it is intended to be. That might be  
the problem.

Cygwin creates its own file system 'root' in its installation  
directory (typically "C:\cygwin"). Every command you enter in a  
Cygwin shell will use this as the start for the file system tree. An  
absolute file path in Unix starts with '/' (no dot!). So if you see a  
Unix path '/home/abc' this translates to "C:\cygwin\home\abc".

Following this logic '/opt/radiance/cygwin-radiance_dist-3R9/bin'  
should be found as
"C:\cygwin\opt\radiance\cygwin-radiance_dist-3R9\bin". Just keep the  
files as they are and move the cygwin-radiance_dist-3R9 folder to the  
right location.

You should not mix your project files with files in the distribution.  
You might accidentally destroy essential files.

> bash_profile changed content is given below

Note that there should be a '.' in front of the file name:  
'.bash_profile'. The '.' hides the name for the user so this file is  
somewhat protected. It is still part of the file name and without it  
the file will not be recognised. This may be why you don't have the  
$RAYPATH set correctly.

> # System-wide .bashrc file
> # change the directories if necessary
> PATH=.:/opt/radiance/cygwin-radiance_dist-3R9/bin:$PATH
> RAYPATH=.:/opt/radiance/cygwin-radiance_dist-3R9/lib:$RAYPATH
> MANPATH=/opt/radiance/cygwin-radiance_dist-3R9/doc/man:$MANPATH
> export PATH RAYPATH MANPATH

If you follow the renaming as above these settings should work now.


> then under   cygwin\home\abc\opt\radiance\cygwin-radiance_dist-3R9
>  i have "bin", "doc", "lib" and "obj" folders. and my source files  
> ( now it includes rayinit.cal and skybright.cal) are also into   -  
> "cygwin\home\abc\opt\radiance\cygwin-radiance_dist-3R9"

Move your source files to a folder in your HOME directory ('/home/abc/ 
project1' for example). Keep your Radiance installation clear!

> When i relaunch the cygwin console and  execute $PATH .... i get  
> the following info on the console
> bash: usr/local/bin: /usr/bin: /bin : /usr/X11R6/bin : /cygdrive/c/ 
> Program: No such file or directory.
>
> and when i do $RAYPATH then no message or info comes on the console.

See above. IF you are user 'abc' AND the file is called  
'.bash_profile' it should work.

> for execution of source file - once i am inside the "cygwin\home\abc 
> \opt\radiance\cygwin-radiance_dist-3R9" ditectory
> I do
> 1. export PATH=$HOME/opt/radiance/cygwin-radiance_dist-3R9/bin/:$PATH

What you do here is what should happen in the config file. You only  
did change the PATH setting, but did not create a RAYPATH. Therefore  
you could use oconv and rpict but the search for 'rayinit.cal' failed.


One last thing: If you copy-and-past from Windows to Linux you should  
change the line end characters. Windows will create a '\r\n' at the  
end of a text file while Unix only uses '\n'. The bash configuration  
files should not be affected, but other programs might have problems  
with that.

Regards,
Thomas







From valeriadegiuli at gmail.com  Wed Jan 21 03:14:48 2009
From: valeriadegiuli at gmail.com (Valeria De Giuli)
Date: Wed Jan 21 03:14:49 2009
Subject: [Radiance-general] sky luminance calculation
Message-ID: <527f2f7a0901210314v113468abt191cb3b9e4583e7c@mail.gmail.com>

Hi all,
I have a curiosity about how gensky works. Does anyone know how gensky
calculate sky luminance values for different latitudes? For example,
where it takes the zenith luminance?
Thank you in advance,
Valeria

From tbleicher at arcor.de  Wed Jan 21 04:19:49 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Wed Jan 21 04:19:53 2009
Subject: [Radiance-general] sky luminance calculation
In-Reply-To: <527f2f7a0901210314v113468abt191cb3b9e4583e7c@mail.gmail.com>
References: <527f2f7a0901210314v113468abt191cb3b9e4583e7c@mail.gmail.com>
Message-ID: <F9EF3C66-09BD-40F3-A694-0EE89C908390@arcor.de>


On 21 Jan 2009, at 11:14, Valeria De Giuli wrote:

> Hi all,
> I have a curiosity about how gensky works. Does anyone know how gensky
> calculate sky luminance values for different latitudes?

Gensky creates CIE sky descriptions. These do not dependent
on the latitude directly, but the sky brightness is defined
via sun angle (zenith) that obviously does depend on the
location.

> For example, where it takes the zenith luminance?

In terms of absolute values there are some hard coded in the
gensky.c source file. However, if you don't specify values
for horizontal or solar radiance (-b/-B or -r/-R) the absolute
value is meaningless.

You can find the sky distribution functions in the file
skybright.cal and a description in various CIE publications.


Regards,
Thomas


From chandrayeeee at gmail.com  Wed Jan 21 05:15:10 2009
From: chandrayeeee at gmail.com (Chandrayee Basu)
Date: Wed Jan 21 05:15:08 2009
Subject: [Radiance-general] installation of Radiance in lenny
Message-ID: <a3b82cc90901210515r68233a30oe7530719f2c18dff@mail.gmail.com>

Hello

I have recently installed the lenny package with radiance and
installed the 4 radiance packages through synaptic package manager.

 I am not sure if any RAYPATH has to be set separately to run the
command "rad" or any command exclusively associated with radiance.

Now what's happening is when I try to execute the rad or ranimate or
ranimove executables from /usr/bin, nothing is happening. Even when I
run command "rad", it does not give any message that this commend not
found or something, simply nothing happens.

Further I tried to run the examples files .rad using rad program, it
did not run.

Can I expect some help?

Thank you
Regards
Chandrayee


-- 
Chandrayee Basu (M.Tech)
Schr?felhofstra?e 12, WG 07/02
81375 M?nchen
+49-89-289-22403

From grobe at gmx.net  Wed Jan 21 06:05:31 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Jan 21 06:05:23 2009
Subject: [Radiance-general] installation of Radiance in lenny
In-Reply-To: <a3b82cc90901210515r68233a30oe7530719f2c18dff@mail.gmail.com>
References: <a3b82cc90901210515r68233a30oe7530719f2c18dff@mail.gmail.com>
Message-ID: <49772BAB.7060005@gmx.net>


> Now what's happening is when I try to execute the rad or ranimate or
> ranimove executables from /usr/bin, nothing is happening.

What do you mean by "nothing"? Do you get an error saying the command
was not found? Else - if you start the command without input, nothing
can happen... So what is the complete command you typed and what is the
exact output you got? And did you see the tutorial (look at doc/pdf)?

Lars.

From chandrayeeee at gmail.com  Wed Jan 21 06:30:45 2009
From: chandrayeeee at gmail.com (Chandrayee Basu)
Date: Wed Jan 21 06:30:44 2009
Subject: [Radiance-general] installation of Radiance in lenny
In-Reply-To: <49772BAB.7060005@gmx.net>
References: <a3b82cc90901210515r68233a30oe7530719f2c18dff@mail.gmail.com>
	<49772BAB.7060005@gmx.net>
Message-ID: <a3b82cc90901210630u58a26abcw25fe0ab9f1e75485@mail.gmail.com>

Hello

Well I am not getting any message at all...I just went to run command
and gave 'rad'. But once again I am telling that 'nothing' is
happening. Basically my problem is after installing it in lenny I am
not able to start the interface of radiance from anywhere. Moreover it
is not included in the applications under lenny.

Thanks

On Wed, Jan 21, 2009 at 3:05 PM, Lars O. Grobe <grobe@gmx.net> wrote:
>
>> Now what's happening is when I try to execute the rad or ranimate or
>> ranimove executables from /usr/bin, nothing is happening.
>
> What do you mean by "nothing"? Do you get an error saying the command
> was not found? Else - if you start the command without input, nothing
> can happen... So what is the complete command you typed and what is the
> exact output you got? And did you see the tutorial (look at doc/pdf)?
>
> Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
Chandrayee Basu (M.Tech)
Schr?felhofstra?e 12, WG 07/02
81375 M?nchen
+49-89-289-22403

From grobe at gmx.net  Wed Jan 21 07:46:11 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Jan 21 07:46:06 2009
Subject: [Radiance-general] installation of Radiance in lenny
In-Reply-To: <a3b82cc90901210630u58a26abcw25fe0ab9f1e75485@mail.gmail.com>
References: <a3b82cc90901210515r68233a30oe7530719f2c18dff@mail.gmail.com>	<49772BAB.7060005@gmx.net>
	<a3b82cc90901210630u58a26abcw25fe0ab9f1e75485@mail.gmail.com>
Message-ID: <49774343.4050105@gmx.net>


> Well I am not getting any message at all...I just went to run command
> and gave 'rad'. But once again I am telling that 'nothing' is
> happening. Basically my problem is after installing it in lenny I am
> not able to start the interface of radiance from anywhere. Moreover it
> is not included in the applications under lenny.
>
>   
rad is a control program that renders views of a scene. You call it in
its most basic form

rad <rif-file>

It is nothing like a GUI or such. The only thing that ressembles a GUI
in radiance would be trad, and also that alone does not do much. There
are interfaces for blender and sketchup that allow you integration of
radiance into these tools, as well as the (commercial) rayfront from
www.schorsch.com, which is a more general GUI and Autocad integration
(free demo available).

Still, starting at the GUI is not reasonable, as 99% of the job in a
simulation is the model...

What are you planning to do with radiance?

And (again) did you look at the tutorial? It is a step by step introduction.

CU Lars.

From chandrayeeee at gmail.com  Wed Jan 21 08:34:54 2009
From: chandrayeeee at gmail.com (Chandrayee Basu)
Date: Wed Jan 21 08:34:55 2009
Subject: [Radiance-general] installation of Radiance in lenny
In-Reply-To: <49774343.4050105@gmx.net>
References: <a3b82cc90901210515r68233a30oe7530719f2c18dff@mail.gmail.com>
	<49772BAB.7060005@gmx.net>
	<a3b82cc90901210630u58a26abcw25fe0ab9f1e75485@mail.gmail.com>
	<49774343.4050105@gmx.net>
Message-ID: <a3b82cc90901210834m7381875cid71364f734dc401e@mail.gmail.com>

Hello

I must study the system properly. I want to connect esp-r to radiance
make daylight simulation.

Thank you

On Wed, Jan 21, 2009 at 4:46 PM, Lars O. Grobe <grobe@gmx.net> wrote:
>
>> Well I am not getting any message at all...I just went to run command
>> and gave 'rad'. But once again I am telling that 'nothing' is
>> happening. Basically my problem is after installing it in lenny I am
>> not able to start the interface of radiance from anywhere. Moreover it
>> is not included in the applications under lenny.
>>
>>
> rad is a control program that renders views of a scene. You call it in
> its most basic form
>
> rad <rif-file>
>
> It is nothing like a GUI or such. The only thing that ressembles a GUI
> in radiance would be trad, and also that alone does not do much. There
> are interfaces for blender and sketchup that allow you integration of
> radiance into these tools, as well as the (commercial) rayfront from
> www.schorsch.com, which is a more general GUI and Autocad integration
> (free demo available).
>
> Still, starting at the GUI is not reasonable, as 99% of the job in a
> simulation is the model...
>
> What are you planning to do with radiance?
>
> And (again) did you look at the tutorial? It is a step by step introduction.
>
> CU Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
Chandrayee Basu (M.Tech)
Schr?felhofstra?e 12, WG 07/02
81375 M?nchen
+49-89-289-22403

From grobe at gmx.net  Wed Jan 21 09:21:45 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Jan 21 09:21:42 2009
Subject: [Radiance-general] installation of Radiance in lenny
In-Reply-To: <a3b82cc90901210834m7381875cid71364f734dc401e@mail.gmail.com>
References: <a3b82cc90901210515r68233a30oe7530719f2c18dff@mail.gmail.com><49	772BAB.7060005@gmx.net><a3b82cc90901210630u58a26abcw25fe0ab9f1e75485@mail.gmail.com><49774343.4050105@gmx.net>
	<a3b82cc90901210834m7381875cid71364f734dc401e@mail.gmail.com>
Message-ID: <497759A9.1030204@gmx.net>


> I must study the system properly. I want to connect esp-r to radiance
> make daylight simulation.
>
> Thank you
>   

ESP-R can call the Radiance tools without further intervention from your
side, if you do not want to manually tune it. So now that you have
installed Radiance, your GUI is ESP-r. I do not know if you must tell
ESP-r where to find the binaries, I guess if the PATH is set, everything
should be fine.

CU Lars.

From rfritz at u.washington.edu  Wed Jan 21 09:37:27 2009
From: rfritz at u.washington.edu (R Fritz)
Date: Wed Jan 21 09:37:29 2009
Subject: [Radiance-general] IES file viewer
Message-ID: <1D6BC716-E732-4D02-873C-A16A945F7CD4@u.washington.edu>

On the way to a bigger project, I've written a little 3-D interactive  
IES file viewer.  Is anyone interested in a look at it?  Is it useful  
for anyone's work?

Randolph


From rpg at rumblestrip.org  Wed Jan 21 09:48:48 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Jan 21 09:48:47 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <1D6BC716-E732-4D02-873C-A16A945F7CD4@u.washington.edu>
References: <1D6BC716-E732-4D02-873C-A16A945F7CD4@u.washington.edu>
Message-ID: <4B8D3AAA-DB48-4F30-A0D6-4249E7C02158@rumblestrip.org>

Uh, yeah!  Bring it on!

On Jan 21, 2009, at 10:37 AM, R Fritz wrote:

> On the way to a bigger project, I've written a little 3-D  
> interactive IES file viewer.  Is anyone interested in a look at it?   
> Is it useful for anyone's work?
>
> Randolph
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From MdelaFuente at wmtao.com  Wed Jan 21 12:36:50 2009
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Wed Jan 21 12:37:38 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <AAA27794.460@wmtao.com>
References: <AAA27794.460@wmtao.com>
Message-ID: <49773301.B450.0049.0@wmtao.com>

I second Rob's comment.  I usually have to use AGI to check an IES file's orientation prior to bringing the file into Radiance.  Especially when dealing with asymmetric distributions.
 
Mark

Message: 1
Date: Wed, 21 Jan 2009 10:48:48 -0700
From: Rob Guglielmetti <rpg@rumblestrip.org>
Subject: Re: [Radiance-general] IES file viewer
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <4B8D3AAA-DB48-4F30-A0D6-4249E7C02158@rumblestrip.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes

Uh, yeah!  Bring it on!

On Jan 21, 2009, at 10:37 AM, R Fritz wrote:

> On the way to a bigger project, I've written a little 3-D  
> interactive IES file viewer.  Is anyone interested in a look at it?   
> Is it useful for anyone's work?
>
> Randolph
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org 
> http://www.radiance-online.org/mailman/listinfo/radiance-general 




------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org 
http://www.radiance-online.org/mailman/listinfo/radiance-general 


End of Radiance-general Digest, Vol 59, Issue 16
************************************************

[{--Wm. Tao & Associates, Inc.--}] This message and content is privileged, intended only for recipients named and/or addressed.  If the receiver/reader is not a representative of the intended recipient, any review, forwarding, dissemination or copying of this message or its content, in part or in whole, is prohibited. If you have received this message in error, please notify the sender immediately by Reply email, and Delete the original message and attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090121/67107a4a/attachment.htm
From gregoryjward at gmail.com  Wed Jan 21 13:12:18 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Jan 21 13:12:22 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <49773301.B450.0049.0@wmtao.com>
References: <AAA27794.460@wmtao.com> <49773301.B450.0049.0@wmtao.com>
Message-ID: <BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>

Hi Randolph,

What are the system requirements for your interactive viewer?  Would  
people like to have something that generates falsecolor plots?  I  
don't think it would be terribly difficult to create a script for that.

-Greg

> From: "Mark de la Fuente" <MdelaFuente@wmtao.com>
> Date: January 21, 2009 12:36:50 PM PST
>
> I second Rob's comment.  I usually have to use AGI to check an IES  
> file's orientation prior to bringing the file into Radiance.   
> Especially when dealing with asymmetric distributions.
>
> Mark
>
> Message: 1
> Date: Wed, 21 Jan 2009 10:48:48 -0700
> From: Rob Guglielmetti <rpg@rumblestrip.org>
>
> Uh, yeah!  Bring it on!
>
> On Jan 21, 2009, at 10:37 AM, R Fritz wrote:
>
> > On the way to a bigger project, I've written a little 3-D
> > interactive IES file viewer.  Is anyone interested in a look at it?
> > Is it useful for anyone's work?
> >
> > Randolph

From rpg at rumblestrip.org  Wed Jan 21 13:18:53 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Jan 21 13:18:54 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <49773301.B450.0049.0@wmtao.com>
References: <AAA27794.460@wmtao.com> <49773301.B450.0049.0@wmtao.com>
Message-ID: <14FAF0BE-EEA2-422B-B82E-C6B0CCD91B41@rumblestrip.org>


On Jan 21, 2009, at 1:36 PM, Mark de la Fuente wrote:

> I second Rob's comment.  I usually have to use AGI to check an IES  
> file's orientation prior to bringing the file into Radiance.   
> Especially when dealing with asymmetric distributions.
>

I wrote ltview many years ago, as another ies file viewer  
(particularly for asymmetric distributions), too.  You can download a  
copy at:

http://www.rumblestrip.org/downloads/files/ltview.tgz

ltview is just a modification of the objview utility that ships with  
Radiance, and places a light fixture distribution (converted with the  
ies2rad utility) centered in a box with some parameters crucial to the  
proper rendering of a photometric distribution preset.  The  
distribution is centered in the box and the view is preset looking  
along the positive y axis.  It's configured for inches as the default  
units, so if dealing with metric, use "-bs  .62" to scale the "box  
size" to a more proper size.

But I am also interested in seeing this new 3D viewer!!

More info on ltview is located here:

http://www.rumblestrip.org/2004/05/10/ltview-a-radiance-utility/

- Rob Guglielmetti


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090121/939bddc4/attachment.html
From rfritz at u.washington.edu  Wed Jan 21 15:45:32 2009
From: rfritz at u.washington.edu (Randolph Fritz)
Date: Wed Jan 21 15:45:26 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <1D6BC716-E732-4D02-873C-A16A945F7CD4@u.washington.edu>
References: <1D6BC716-E732-4D02-873C-A16A945F7CD4@u.washington.edu>
Message-ID: <4977B39C.90705@u.washington.edu>

Oh, my! That's a lot of response. OK, I'll pack it up & get it out.

What I've got plots the photometry diagrams in 3-D like, I believe, the 
AGI photometry mechanic does. It's a very simple viewer. Unlike the AGI, 
I don't have an editing capability. There's a text HTML summary facility 
which "almost" works. I'm not sure where that fits in people's ideas of 
such things, but it sounds like it's worth bundling up & distributing.

System requirements: I have a Mac application which one can just run on 
10.5, or you need python, wxpython, and pyopengl. It works on Mac, 
sort-of works on Windows.

-- 
Randolph Fritz
  design machine group
  architecture department
  university of washington
rfritz@u.washington.edu


From rfritz at u.washington.edu  Wed Jan 21 16:03:42 2009
From: rfritz at u.washington.edu (Randolph Fritz)
Date: Wed Jan 21 16:03:33 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <4977B39C.90705@u.washington.edu>
References: <1D6BC716-E732-4D02-873C-A16A945F7CD4@u.washington.edu>
	<4977B39C.90705@u.washington.edu>
Message-ID: <4977B7DE.7000600@u.washington.edu>

Oh, yes! Probably works on any Linux or Unix system that supports 
OpenGL, but I haven't tested it.

-- 
Randolph Fritz
  design machine group
  architecture department
  university of washington
rfritz@u.washington.edu


From akilog at nus.edu.sg  Wed Jan 21 17:52:21 2009
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Wed Jan 21 17:52:17 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
References: <AAA27794.460@wmtao.com> <49773301.B450.0049.0@wmtao.com>
	<BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
Message-ID: <4977D155.9090309@nus.edu.sg>

Hi Greg!
>
> What are the system requirements for your interactive viewer?  Would 
> people like to have something that generates falsecolor plots?  I 
> don't think it would be terribly difficult to create a script for that.
I have been looking in that, too. I think a great solution would be a 
tool that converts IES into

a) .rad: "wireframe" geometry, a bit like what genworm does, normalizing 
the dimensions so that one scale it according to luminous output and 
place it in a scene to explain light sources' qualities.

b) .meta: polar line plots like the common diagrams we get, which is 
what we are used to look at. This would
provide an easy way to compare the data we get in our IES with the data 
the manufacturer published in print.

I think both is doeable even using nothing but shell scripts, genworm 
and the various plotting utilities coming with radiance. The problem I 
was facing was the IES format, with all its variations. To create a 
parser that really handles all IES luminaire distribution formats seems 
to be not that easy, especially if you want to extract metadata, too 
(which would be nice to have included in the plot in case b) and as 
comment lines in the scene in case a).

Maybe these two could also be just options for ies2rad...

CU Lars.

From zrogers at ideasi.com  Wed Jan 21 20:58:54 2009
From: zrogers at ideasi.com (Zack Rogers)
Date: Wed Jan 21 20:59:18 2009
Subject: [Radiance-general] IES file viewer
References: <AAA27794.460@wmtao.com>
	<49773301.B450.0049.0@wmtao.com><BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
	<4977D155.9090309@nus.edu.sg>
Message-ID: <24A618F8B54C4348B54C8684C918963BD41D92@BUGS.ideasi.com>

Hello, I would definitely like to see some more photometric friendly
features with in Radiance.  As it is, I typically go to other programs
when dealing with photometric files.  FYI, they are:

1) There is a free version of the Photometric Toolbox available here,
http://www.cooperlighting.com/content/design/etools.cfm 
I believe this is just an older version of the software created by AGI
but provided for free by cooper.  I do not think it has all the features
that the new Lighting Technologies Photometric Toolbox has but it
definitely has some nice features, including a nice 3d photometric web
and 2d plot options for comparison with published data.
2) Visual 2.6 also has some nice photometric features including a
photometric web.  I believe this is available in the free "Basic"
version, it is definitely available in the "Pro" version.

I have heard of some efforts to link softwares with online photometric
databases to help avoid the cumbersome and mistake prone process of
finding the correct IES file for the luminaire (w/ options) that is
being modeled.  For example, Visual comes with all Acuity brand
photometrics already in the database - not sure if it can be updated
easily.  There is also a new xml format being developed by IESNA for the
transfer of Luminaire Component Data, separate from photometric data.
Part of the intent with this format is to link it more directly to
manufacturers.  Just thought I'd throw that out there as we discuss any
new photometric tools for Radiance.

Regards,
Zack

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Lars
O. Grobe
Sent: Wednesday, January 21, 2009 6:52 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] IES file viewer

Hi Greg!
>
> What are the system requirements for your interactive viewer?  Would 
> people like to have something that generates falsecolor plots?  I 
> don't think it would be terribly difficult to create a script for
that.
I have been looking in that, too. I think a great solution would be a
tool that converts IES into

a) .rad: "wireframe" geometry, a bit like what genworm does, normalizing
the dimensions so that one scale it according to luminous output and
place it in a scene to explain light sources' qualities.

b) .meta: polar line plots like the common diagrams we get, which is
what we are used to look at. This would provide an easy way to compare
the data we get in our IES with the data the manufacturer published in
print.

I think both is doeable even using nothing but shell scripts, genworm
and the various plotting utilities coming with radiance. The problem I
was facing was the IES format, with all its variations. To create a
parser that really handles all IES luminaire distribution formats seems
to be not that easy, especially if you want to extract metadata, too
(which would be nice to have included in the plot in case b) and as
comment lines in the scene in case a).

Maybe these two could also be just options for ies2rad...

CU Lars.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From rfritz at u.washington.edu  Wed Jan 21 23:23:26 2009
From: rfritz at u.washington.edu (R Fritz)
Date: Wed Jan 21 23:23:27 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <24A618F8B54C4348B54C8684C918963BD41D92@BUGS.ideasi.com>
References: <AAA27794.460@wmtao.com>
	<49773301.B450.0049.0@wmtao.com><BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
	<4977D155.9090309@nus.edu.sg>
	<24A618F8B54C4348B54C8684C918963BD41D92@BUGS.ideasi.com>
Message-ID: <82100A6A-80E4-4ACE-984A-C1270A98457C@u.washington.edu>

By popular demand, PhotomView 0.2 may be downloaded from:

   http://students.washington.edu/rfritz/photom_view/

user/password = phoview/radiance

There are three files there:
   pvsrc.zip (16KB) contains the sources; as far as I know they'll  
work on any system that has a fairly recent python and supports wxpy  
and Python OpenGL.
   PhotomView.zip (15MB, no, that's not a typo--it's big).  A zipped  
Mac OS application bundle; I expect it to work on any current Leopard  
Mac--just unzip it and double-click on the app.  As far as I know it's  
complete in itself.
   ies_files.zip (29KB)

Operation, I hope, is simple: select the "file>open" menu item and  
pick an IES file; if it's type C photometry, you'll see a wireframe  
picture of the photometry (types A and B aren't yet supported).  Hold  
down the first mouse button and drag--you can rotate it.  The XY plane  
is the blue one.  If you select the "Window>Show Photometric Data"  
menu item it shows the photometric data as formatted text.  That's the  
whole functionality.

It's alpha.  The biggest limitation, of course, is that it only  
supports type C photometry.  It would be, as we say, A Small Matter of  
Programming to support types A and B but I'm frying other fish (and  
being graded on them!) at the moment.

The best thing, I think, in the sources is the iesphotom.py module,  
which is a general-purpose IES photometry parser.  I think it's pretty  
complete, though some of the odd corners of the 1995 spec may not  
work.  ([BLOCK] keyword, anyone?  I did make an effort, but I've no  
idea if it's complete.  And no MGF support--sorry, Greg.)   
Iesphotom.py uses the public domain markup.py module, which I've  
included, to generate HTML-formatted photometry output.  If you invoke  
it as "python iesphotom.py file.ies" it will send an HTML-formatted  
version of the photometry to the standard output.

If you want to work with the PhotomView.py graphical file, you will  
need Python (2.3.5 or higher) and the wxPython, numpy, and PyOpenGL  
packages; wxPython is bundled with MacOS 10.5.  It has problems on  
Windows, but does operate with Python 2.5.
(There is no numpy on Windows Python 2.6 yet.)  If you try it on *nix,  
let me know if it works.

Have fun!  Let me know about the changes.

Randolph


From maricanis at gmail.com  Thu Jan 22 03:13:15 2009
From: maricanis at gmail.com (Marija Velickovic)
Date: Thu Jan 22 03:13:15 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <82100A6A-80E4-4ACE-984A-C1270A98457C@u.washington.edu>
References: <AAA27794.460@wmtao.com> <49773301.B450.0049.0@wmtao.com>
	<BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
	<4977D155.9090309@nus.edu.sg>
	<24A618F8B54C4348B54C8684C918963BD41D92@BUGS.ideasi.com>
	<82100A6A-80E4-4ACE-984A-C1270A98457C@u.washington.edu>
Message-ID: <124b40400901220313n45357644tdb4e8ffee6673e37@mail.gmail.com>

Hi Randolph,

Interesting little tool!
I tried it in Kubuntu and it works perfectly (I have python, wxpython and
pyopengl aready installed).

Few remarks:
-No About dialog (I saw you haven't put event handler for it). It would be
nice to put some short text.
-Maybe some legend about planes colors should be aded. Maybe in About dialog
or some tool-tip when we are on image.

Otherwise, I think it can be very useful for fast IES files exploration.

Marija

On Thu, Jan 22, 2009 at 8:23 AM, R Fritz <rfritz@u.washington.edu> wrote:

> By popular demand, PhotomView 0.2 may be downloaded from:
>
>  http://students.washington.edu/rfritz/photom_view/
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090122/fc8e5948/attachment.htm
From gregoryjward at gmail.com  Thu Jan 22 08:17:31 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Jan 22 08:17:28 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <4977D155.9090309@nus.edu.sg>
References: <AAA27794.460@wmtao.com> <49773301.B450.0049.0@wmtao.com>
	<BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
	<4977D155.9090309@nus.edu.sg>
Message-ID: <43A4FB1C-A069-4911-BBBA-D8DA7E771ECC@lmi.net>

Yes, well I was thinking much more along the lines of what Rob has  
already done, that is provide a means to graphically confirm a  
luminaire's output distribution in a Radiance context.  I.e., it  
should take ies2rad output, not reinterpret the IES file, as Zack and  
others have noted that ies2rad itself is occasionally suspect.  Also,  
having the Radiance coordinates as a final check of placement in the  
scene is often useful.

I don't use IES files that often myself, which is probably why I have  
never spent much time on this.  I just thought a false color fisheye  
image might be an interesting way to confirm the IES file was being  
loaded and interpreted and placed correctly.  Sounds like there are  
enough tools out there already, though.

-Greg

> From: "Lars O. Grobe" <akilog@nus.edu.sg>
> Date: January 21, 2009 5:52:21 PM PST
>
> Hi Greg!
>>
>> What are the system requirements for your interactive viewer?   
>> Would people like to have something that generates falsecolor  
>> plots?  I don't think it would be terribly difficult to create a  
>> script for that.
> I have been looking in that, too. I think a great solution would be  
> a tool that converts IES into
>
> a) .rad: "wireframe" geometry, a bit like what genworm does,  
> normalizing the dimensions so that one scale it according to  
> luminous output and place it in a scene to explain light sources'  
> qualities.
>
> b) .meta: polar line plots like the common diagrams we get, which  
> is what we are used to look at. This would
> provide an easy way to compare the data we get in our IES with the  
> data the manufacturer published in print.
>
> I think both is doeable even using nothing but shell scripts,  
> genworm and the various plotting utilities coming with radiance.  
> The problem I was facing was the IES format, with all its  
> variations. To create a parser that really handles all IES  
> luminaire distribution formats seems to be not that easy,  
> especially if you want to extract metadata, too (which would be  
> nice to have included in the plot in case b) and as comment lines  
> in the scene in case a).
>
> Maybe these two could also be just options for ies2rad...
>
> CU Lars.

From rpg at rumblestrip.org  Thu Jan 22 08:29:05 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Jan 22 08:29:05 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <43A4FB1C-A069-4911-BBBA-D8DA7E771ECC@lmi.net>
References: <AAA27794.460@wmtao.com> <49773301.B450.0049.0@wmtao.com>
	<BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
	<4977D155.9090309@nus.edu.sg>
	<43A4FB1C-A069-4911-BBBA-D8DA7E771ECC@lmi.net>
Message-ID: <8E9EA9D5-EC0C-4BFE-8165-F6F81C213014@rumblestrip.org>


On Jan 22, 2009, at 9:17 AM, Greg Ward wrote:

> Yes, well I was thinking much more along the lines of what Rob has  
> already done, that is provide a means to graphically confirm a  
> luminaire's output distribution in a Radiance context.  I.e., it  
> should take ies2rad output, not reinterpret the IES file, as Zack  
> and others have noted that ies2rad itself is occasionally suspect.   
> Also, having the Radiance coordinates as a final check of placement  
> in the scene is often useful.

I agree, it might be nice to simply add a grid to the planes in ltview  
with some labels on it.  As long as the user knows the default view  
it's self-explanatory, but having labeled grids in the view would  
allow one to create rendering/snapshots of the distributions for  
documentation.  And yes, that is exactly why I made ltview, is to  
confirm the ies2rad output.  I wanted to see exactly what radiance was  
going to "see".

>
> I don't use IES files that often myself, which is probably why I  
> have never spent much time on this.  I just thought a false color  
> fisheye image might be an interesting way to confirm the IES file  
> was being loaded and interpreted and placed correctly.  Sounds like  
> there are enough tools out there already, though.

Another cool thing would be to create a 3D mesh from the  
distribution.  Several years Erco Lighting did a project where they  
created volume models of their light fixtures' distributions and then  
rendered them in Lightscape.  It was very cool.  I'd assume vwrays  
could somehow be used to do something similar, but I don't know.   
Falsecolor fisheye could be useful though, too.

- Rob

From MdelaFuente at wmtao.com  Thu Jan 22 08:55:59 2009
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Thu Jan 22 08:56:33 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <C39A7794.226@wmtao.com>
References: <C39A7794.226@wmtao.com>
Message-ID: <497850BE.B450.0049.0@wmtao.com>

Having the ability to look at a 3d web interactively (ie rotate the web or orbit around it) really helps to understand it.  On my old version of AGI, (they have probably updated this) I can bring up the 3d web but can't orbit around it.  In the render view, where you can orbit around the fixture, the web is not shown.  So the only way to look at different parts of the web is to change the view to one of the preset isometric or orthogonal views.  This is OK, but not as good as being able to rotate it (or rotate around it).
 
I seem to remember Lightscape having the ability to display the 3d web of a light fixture.  This made it very simple to aim the light properly.

[{--Wm. Tao & Associates, Inc.--}] This message and content is privileged, intended only for recipients named and/or addressed.  If the receiver/reader is not a representative of the intended recipient, any review, forwarding, dissemination or copying of this message or its content, in part or in whole, is prohibited. If you have received this message in error, please notify the sender immediately by Reply email, and Delete the original message and attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090122/932a424b/attachment.html
From rfritz at u.washington.edu  Thu Jan 22 11:47:35 2009
From: rfritz at u.washington.edu (Randolph Fritz)
Date: Thu Jan 22 11:47:26 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <124b40400901220313n45357644tdb4e8ffee6673e37@mail.gmail.com>
References: <AAA27794.460@wmtao.com>
	<49773301.B450.0049.0@wmtao.com>	<BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>	<4977D155.9090309@nus.edu.sg>	<24A618F8B54C4348B54C8684C918963BD41D92@BUGS.ideasi.com>	<82100A6A-80E4-4ACE-984A-C1270A98457C@u.washington.edu>
	<124b40400901220313n45357644tdb4e8ffee6673e37@mail.gmail.com>
Message-ID: <4978CD57.30601@u.washington.edu>

Thank you--I'm glad to hear it works on Linux. I'll get back to these, 
but it may be a while.

Randolph

Marija Velickovic wrote:
> Hi Randolph,
>
> Interesting little tool!
> I tried it in Kubuntu and it works perfectly (I have python, wxpython 
> and pyopengl aready installed).
>
> Few remarks:
> -No About dialog (I saw you haven't put event handler for it). It 
> would be nice to put some short text.
> -Maybe some legend about planes colors should be aded. Maybe in About 
> dialog or some tool-tip when we are on image.
>
> Otherwise, I think it can be very useful for fast IES files exploration.
>
> Marija
>
> On Thu, Jan 22, 2009 at 8:23 AM, R Fritz <rfritz@u.washington.edu 
> <mailto:rfritz@u.washington.edu>> wrote:
>
>     By popular demand, PhotomView 0.2 may be downloaded from:
>
>      http://students.washington.edu/rfritz/photom_view/
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
Randolph Fritz
  design machine group
  architecture department
  university of washington
rfritz@u.washington.edu


From rfritz at u.washington.edu  Thu Jan 22 11:55:45 2009
From: rfritz at u.washington.edu (Randolph Fritz)
Date: Thu Jan 22 11:55:33 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <8E9EA9D5-EC0C-4BFE-8165-F6F81C213014@rumblestrip.org>
References: <AAA27794.460@wmtao.com>
	<49773301.B450.0049.0@wmtao.com>	<BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>	<4977D155.9090309@nus.edu.sg>	<43A4FB1C-A069-4911-BBBA-D8DA7E771ECC@lmi.net>
	<8E9EA9D5-EC0C-4BFE-8165-F6F81C213014@rumblestrip.org>
Message-ID: <4978CF41.5080801@u.washington.edu>

More Radiance-specific stuff is on the way; this is part of a larger 
project.

Randolph

From rfritz at u.washington.edu  Thu Jan 22 11:56:46 2009
From: rfritz at u.washington.edu (Randolph Fritz)
Date: Thu Jan 22 11:57:04 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
References: <AAA27794.460@wmtao.com> <49773301.B450.0049.0@wmtao.com>
	<BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net>
Message-ID: <4978CF7E.8080209@u.washington.edu>

Greg, when I get a bit further along, and have a place to integrate 
these, I'd love to see them!

Greg Ward wrote:
> Hi Randolph,
>
> What are the system requirements for your interactive viewer?  Would 
> people like to have something that generates falsecolor plots?  I 
> don't think it would be terribly difficult to create a script for that.
>
> -Greg
>
>> From: "Mark de la Fuente" <MdelaFuente@wmtao.com>
>> Date: January 21, 2009 12:36:50 PM PST
>>
>> I second Rob's comment.  I usually have to use AGI to check an IES 
>> file's orientation prior to bringing the file into Radiance.  
>> Especially when dealing with asymmetric distributions.
>>
>> Mark
>>
>> Message: 1
>> Date: Wed, 21 Jan 2009 10:48:48 -0700
>> From: Rob Guglielmetti <rpg@rumblestrip.org>
>>
>> Uh, yeah!  Bring it on!
>>
>> On Jan 21, 2009, at 10:37 AM, R Fritz wrote:
>>
>> > On the way to a bigger project, I've written a little 3-D
>> > interactive IES file viewer.  Is anyone interested in a look at it?
>> > Is it useful for anyone's work?
>> >
>> > Randolph
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Randolph Fritz
  design machine group
  architecture department
  university of washington
rfritz@u.washington.edu


From Christopher.Rush at arup.com  Thu Jan 22 12:13:49 2009
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu Jan 22 12:13:52 2009
Subject: [Radiance-general] IES file viewer
In-Reply-To: <124b40400901220313n45357644tdb4e8ffee6673e37@mail.gmail.com>
References: <AAA27794.460@wmtao.com>
	<49773301.B450.0049.0@wmtao.com><BDB941EB-B68F-4ED8-9DD9-D898CF30786D@lmi.net><4977D155.9090309@nus.edu.sg><24A618F8B54C4348B54C8684C918963BD41D92@BUGS.ideasi.com><82100A6A-80E4-4ACE-984A-C1270A98457C@u.washington.edu>
	<124b40400901220313n45357644tdb4e8ffee6673e37@mail.gmail.com>
Message-ID: <EB124710ADB8554C930FADF760BB2BE704889282@n-yexc01.global.arup.com>

I agree with Marija's comment, it is easy to lose your bearings after
rotating the fixture a bit and forget which axis is which. Might be
difficult to do with actual text labels for X Y and Z in a 3D view, but
Sketchup and AutoCAD seem to agree on a red X axis, green Y axis, and
blue Z axis. In sketchup the positive axes are a bolder color than the
negative axes for clarity (of course it's easy to recommend additions to
other peoples work ;)
 
Another handy feature would be just to display the maximum candela value
of the distribution, to be able to judge the total output quickly
without going to the "Show Photometric Data" window.
 
that being said ... it's a great tool, Thanks!
 
>Maybe some legend about planes colors should be aded. Maybe in About
dialog or some tool-tip when we are on image.
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090122/09c4d247/attachment.htm
From mstock at umich.edu  Fri Jan 23 16:28:09 2009
From: mstock at umich.edu (Mark Stock)
Date: Fri Jan 23 16:28:10 2009
Subject: [Radiance-general] Solargraph pinhole photos (real)
Message-ID: <Pine.LNX.4.64.0901231924450.9932@defender.gpcc.itd.umich.edu>

For all you fans of daylighting, and annual solar data junkies 
(like me), I offer you:

http://forum.skyscraperpage.com/showthread.php?t=163623

"Explanation: If every picture tells a story, this one might make 
a novel. The six month long exposure compresses the time from 
December 17, 2007 to June 21, 2008 into a single point of view. 
Dubbed a solargraph, the remarkable image was recorded with a 
simple pinhole camera made from a drink can lined with a piece of 
photographic paper. The Clifton Suspension Bridge over the Avon 
River Gorge in Bristol, UK emerges from the foreground, but 
rising and setting each day the Sun arcs overhead, tracing a 
glowing path through the sky. Cloud cover causes dark gaps in the 
daily Sun trails. In December, the Sun trails begin lower down 
and are short, corresponding to a time near the northern 
hemisphere's winter solstice date. They grow longer and climb 
higher in the sky as the June 21st summer solstice approaches.

Photo by Justin Quinnell."

And here are some more:

http://www.solargraphy.com/

Mark

From rfritz at u.washington.edu  Mon Jan 26 16:08:03 2009
From: rfritz at u.washington.edu (R Fritz)
Date: Mon Jan 26 16:08:02 2009
Subject: [Radiance-general] Has Booksurge lost RwR?
Message-ID: <6EBECB5C-EF64-4975-82AF-4186943BD40A@u.washington.edu>

It's not showing in their catalog, and Amazon is listing the BookSurge  
edition as out-of-print.  Anyone checked back with them, lately?

Randolph


From gregoryjward at gmail.com  Mon Jan 26 16:31:59 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Jan 26 16:31:51 2009
Subject: [Radiance-general] Has Booksurge lost RwR?
In-Reply-To: <6EBECB5C-EF64-4975-82AF-4186943BD40A@u.washington.edu>
References: <6EBECB5C-EF64-4975-82AF-4186943BD40A@u.washington.edu>
Message-ID: <03B2FE6C-F0C4-47BE-8B97-693C843254FE@lmi.net>

I heard the following from Charles Ehrlich...

Begin forwarded message:

> From: Charles Ehrlich <ckehrlich@gmail.com>
> Date: January 23, 2009 2:04:49 PM PST
> To: Greg Ward <gregoryjward@gmail.com>
> Subject: Re: [Radiance-general] Probably a FAQ, but is there an  
> answer?
>
> Greg,
>
> I was promised that RwR would be re-listed on Amazon.  It was there  
> for a while, then dropped.  Thaks for the heads-up.  I will enquire  
> and get back to you and the list.
>
> Meanwhile, I was asked to provide 2 copies of the book to "Notable  
> Book Reviews" at the request of a customer.  Once the review is  
> published it could increase orders for the book...presuming one can  
> place orders for it!
>
> -Chas
>
> On Fri, Jan 16, 2009 at 9:08 AM, Greg Ward <gregoryjward@gmail.com>  
> wrote:
> Happy new year, Chas.  I hope you and your family are doing well.
>
> Do you know anything about the BookSurge situation?  Have you been  
> following this thread at all?
>
> Best,
> -Greg
> -----------


> From: R Fritz <rfritz@u.washington.edu>
> Date: January 26, 2009 4:08:03 PM PST
>
> It's not showing in their catalog, and Amazon is listing the  
> BookSurge edition as out-of-print.  Anyone checked back with them,  
> lately?
>
> Randolph


From rfritz at u.washington.edu  Mon Jan 26 18:46:11 2009
From: rfritz at u.washington.edu (R Fritz)
Date: Mon Jan 26 18:46:30 2009
Subject: [Radiance-general] Has Booksurge lost RwR?
In-Reply-To: <03B2FE6C-F0C4-47BE-8B97-693C843254FE@lmi.net>
References: <6EBECB5C-EF64-4975-82AF-4186943BD40A@u.washington.edu>
	<03B2FE6C-F0C4-47BE-8B97-693C843254FE@lmi.net>
Message-ID: <0904908D-63DA-4F6B-87E7-CB07962B5889@u.washington.edu>

Thanks, Greg.

Randolph

On Jan 26, 2009, at 4:31 PM, Greg Ward wrote:

> "Notable Book Reviews"


From akilog at nus.edu.sg  Tue Jan 27 19:36:13 2009
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Tue Jan 27 19:36:36 2009
Subject: [Radiance-general] Getting number of pixels for fisheye view
Message-ID: <497FD2AD.1030506@nus.edu.sg>

Hi list,

to be able to integrate the luminance values of a fisheye view, I need 
the number of pixels in the image that are part of the view. I can take 
all pixels which have not a value of exactly 0 (as this should never 
exist for a valid material), but this seams to be not very accurate. I 
know that I can test if a pixel is inside the field of view using pcomb, 
which defines S(n) as zero for pixels outside the view, but I do not 
know how to access this value to count pixels inside the view. At the 
moment, the easiest way for me would be to render a fisheye pointing 
towards a 180 degree source without any geometry and count all 
none-black pixels, but I am sure that there must be a better way to test 
for the pixels' validity.

CU Lars.

From gregoryjward at gmail.com  Tue Jan 27 20:40:25 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Jan 27 20:40:15 2009
Subject: [Radiance-general] Getting number of pixels for fisheye view
In-Reply-To: <497FD2AD.1030506@nus.edu.sg>
References: <497FD2AD.1030506@nus.edu.sg>
Message-ID: <1B56BB3F-6AFF-4614-88E4-5C39CC52EB7D@lmi.net>

Hi Lars,

If you just want a pixel count, you can use:

	pcomb -e 'lo=if(S(1)-1e-30,1,0)' input.pic | pvalue -h -H -pG -df |  
total -if

Beware that this will count all pixels for anything but -vth or -vta  
with very large -vv or -vh settings (>300 degrees or so).

-Greg

> From: "Lars O. Grobe" <akilog@nus.edu.sg>
> Date: January 27, 2009 7:36:13 PM PST
>
> Hi list,
>
> to be able to integrate the luminance values of a fisheye view, I  
> need the number of pixels in the image that are part of the view. I  
> can take all pixels which have not a value of exactly 0 (as this  
> should never exist for a valid material), but this seams to be not  
> very accurate. I know that I can test if a pixel is inside the  
> field of view using pcomb, which defines S(n) as zero for pixels  
> outside the view, but I do not know how to access this value to  
> count pixels inside the view. At the moment, the easiest way for me  
> would be to render a fisheye pointing towards a 180 degree source  
> without any geometry and count all none-black pixels, but I am sure  
> that there must be a better way to test for the pixels' validity.
>
> CU Lars.

From akilog at nus.edu.sg  Wed Jan 28 05:03:00 2009
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Wed Jan 28 05:03:04 2009
Subject: [Radiance-general] Getting number of pixels for fisheye view
In-Reply-To: <1B56BB3F-6AFF-4614-88E4-5C39CC52EB7D@lmi.net>
References: <497FD2AD.1030506@nus.edu.sg>
	<1B56BB3F-6AFF-4614-88E4-5C39CC52EB7D@lmi.net>
Message-ID: <49805784.9000606@nus.edu.sg>

Hi Greg!
> If you just want a pixel count, you can use:
>
>     pcomb -e 'lo=if(S(1)-1e-30,1,0)' input.pic | pvalue -h -H -pG -df 
> | total -if
Hm, thank You for this, now I am trying to figure out how it works. So 
you set the brightness to 1 if S(1) is greater then the very low 
treshold, else set it to 0, and sum up the pixel values (which are 
either 1 or 0, thus resulting in the n of pixels > 0)? This is very 
similar to what I did with grep, removing all values that have zero 
luminance, and counting the lines than. I was just not sure if it is 
really safe to rely on that pixels with zero luminance must be out of 
the view... But most probably they are, if I do not have a perfect 
absorber in my scene.

CU Lars.

From tbleicher at arcor.de  Wed Jan 28 08:30:01 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Wed Jan 28 08:30:07 2009
Subject: [Radiance-general] Getting number of pixels for fisheye view
In-Reply-To: <49805784.9000606@nus.edu.sg>
References: <497FD2AD.1030506@nus.edu.sg>
	<1B56BB3F-6AFF-4614-88E4-5C39CC52EB7D@lmi.net>
	<49805784.9000606@nus.edu.sg>
Message-ID: <8713175A-2913-4F5A-8985-08C9B9F1C0B0@arcor.de>


On 28 Jan 2009, at 13:03, Lars O. Grobe wrote:

> This is very similar to what I did with grep, removing all values  
> that have zero luminance, and counting the lines than. I was just  
> not sure if it is really safe to rely on that pixels with zero  
> luminance must be out of the view... But most probably they are, if  
> I do not have a perfect absorber in my scene.

Dump question: can't you work out which pixels are
outside the view area by calculating the vv and vh
of the pixel and comparing that with the value stored
in the image header?

Regards,
Thomas


From grobe at gmx.net  Wed Jan 28 08:42:52 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Jan 28 08:42:41 2009
Subject: [Radiance-general] Getting number of pixels for fisheye view
In-Reply-To: <8713175A-2913-4F5A-8985-08C9B9F1C0B0@arcor.de>
References: <497FD2AD.1030506@nus.edu.sg><1B56BB3F-6AFF-4614-88E4-5C39CC52EB7D@lmi.net><49805784.9000606@nus.edu.sg>
	<8713175A-2913-4F5A-8985-08C9B9F1C0B0@arcor.de>
Message-ID: <49808B0C.6000408@gmx.net>


> can't you work out which pixels are
> outside the view area by calculating the vv and vh
> of the pixel and comparing that with the value stored
> in the image header?
Well, I was thinking about doing that, but it is quite difficult to do
it. A pixel that sits "on the edge" is hard to count in this case, while
the pixel value, especially when used with a threshold, is easy to
extract and compare.

CU Lars.

From gregoryjward at gmail.com  Wed Jan 28 08:54:47 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Jan 28 08:54:37 2009
Subject: [Radiance-general] Getting number of pixels for fisheye view
In-Reply-To: <49805784.9000606@nus.edu.sg>
References: <497FD2AD.1030506@nus.edu.sg>
	<1B56BB3F-6AFF-4614-88E4-5C39CC52EB7D@lmi.net>
	<49805784.9000606@nus.edu.sg>
Message-ID: <B90A790C-0014-4E88-8CF7-42D21A17FE9F@lmi.net>

Hi Lars,

Seems to me you have a pretty good grasp of what's going on with this  
calculation.  You didn't really leave me anything else to explain...   
Since S(1) returns exactly 0 for off-view pixels, the 1e-30 threshold  
is set to allow for *very* small pixels, as you might have in a very  
high-resolution image.

Just beware that because the Radiance RGBE encoding doesn't have an  
exact representation of 1.0, that the actual count will be off (by  
-0.5% if I remember right).

-Greg

> From: "Lars O. Grobe" <akilog@nus.edu.sg>
> Date: January 28, 2009 5:03:00 AM PST
>
> Hi Greg!
>> If you just want a pixel count, you can use:
>>
>>     pcomb -e 'lo=if(S(1)-1e-30,1,0)' input.pic | pvalue -h -H -pG - 
>> df | total -if
> Hm, thank You for this, now I am trying to figure out how it works.  
> So you set the brightness to 1 if S(1) is greater then the very low  
> treshold, else set it to 0, and sum up the pixel values (which are  
> either 1 or 0, thus resulting in the n of pixels > 0)? This is very  
> similar to what I did with grep, removing all values that have zero  
> luminance, and counting the lines than. I was just not sure if it  
> is really safe to rely on that pixels with zero luminance must be  
> out of the view... But most probably they are, if I do not have a  
> perfect absorber in my scene.
>
> CU Lars.

From mintsheng at gmail.com  Wed Jan 28 23:32:26 2009
From: mintsheng at gmail.com (Sheng Yu)
Date: Wed Jan 28 23:32:25 2009
Subject: [Radiance-general] Question about rtrace
Message-ID: <396328780901282332y1d66e7dcxc2ad8db521c214ae@mail.gmail.com>

Hi,

I am confused with what rtrace does. Does it just sample one ray at
the input point <xorg yorg zorg> in the direction <xdir ydir zdir> and
calculate the light gained from that direction, or it will sample many
rays through the hemisphere and calculate all the light that reaches
the hemisphere? In the second case, the input direction <xdir ydir
zdir> is the normal at point <xorg yorg zorg>.

Thanks in advance!

Yu

From akilog at nus.edu.sg  Wed Jan 28 23:59:05 2009
From: akilog at nus.edu.sg (Lars O. Grobe)
Date: Wed Jan 28 23:59:08 2009
Subject: [Radiance-general] Question about rtrace
In-Reply-To: <396328780901282332y1d66e7dcxc2ad8db521c214ae@mail.gmail.com>
References: <396328780901282332y1d66e7dcxc2ad8db521c214ae@mail.gmail.com>
Message-ID: <498161C9.2050707@nus.edu.sg>

Do you want to calculate luminance or illuminance?

CU Lars.

From tbleicher at arcor.de  Thu Jan 29 02:36:42 2009
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Jan 29 02:36:51 2009
Subject: [Radiance-general] Question about rtrace
In-Reply-To: <396328780901282332y1d66e7dcxc2ad8db521c214ae@mail.gmail.com>
References: <396328780901282332y1d66e7dcxc2ad8db521c214ae@mail.gmail.com>
Message-ID: <9E81267D-ABEC-4385-B0F9-B22871F75CE2@arcor.de>


On 29 Jan 2009, at 07:32, Sheng Yu wrote:

> Hi,
>
> I am confused with what rtrace does. Does it just sample one ray at
> the input point <xorg yorg zorg> in the direction <xdir ydir zdir> and
> calculate the light gained from that direction, or it will sample many
> rays through the hemisphere and calculate all the light that reaches
> the hemisphere? In the second case, the input direction <xdir ydir
> zdir> is the normal at point <xorg yorg zorg>.

See the man page, '-I' (uppercase 'i') option:

-I 	Boolean switch to compute irradiance  rather  than  radiance,
         with  the  input  origin and direction interpreted instead as
         measurement point and orientation.


Regards,
Thomas

From mintsheng at gmail.com  Thu Jan 29 11:24:32 2009
From: mintsheng at gmail.com (Sheng Yu)
Date: Thu Jan 29 11:24:38 2009
Subject: [Radiance-general] Question about rtrace
In-Reply-To: <9E81267D-ABEC-4385-B0F9-B22871F75CE2@arcor.de>
References: <396328780901282332y1d66e7dcxc2ad8db521c214ae@mail.gmail.com>
	<9E81267D-ABEC-4385-B0F9-B22871F75CE2@arcor.de>
Message-ID: <396328780901291124u7e4e302dtcc9d00cced00c26d@mail.gmail.com>

On Thu, Jan 29, 2009 at 5:36 AM, Thomas Bleicher <tbleicher@arcor.de> wrote:
>
> On 29 Jan 2009, at 07:32, Sheng Yu wrote:
>
>> Hi,
>>
>> I am confused with what rtrace does. Does it just sample one ray at
>> the input point <xorg yorg zorg> in the direction <xdir ydir zdir> and
>> calculate the light gained from that direction, or it will sample many
>> rays through the hemisphere and calculate all the light that reaches
>> the hemisphere? In the second case, the input direction <xdir ydir
>> zdir> is the normal at point <xorg yorg zorg>.
>
> See the man page, '-I' (uppercase 'i') option:
>
> -I      Boolean switch to compute irradiance  rather  than  radiance,
>        with  the  input  origin and direction interpreted instead as
>        measurement point and orientation.
>
>
> Regards,
> Thomas
>
Thanks a lot, this is exactly what I want.

From jm at dmu.ac.uk  Fri Jan 30 06:10:43 2009
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri Jan 30 06:10:50 2009
Subject: [Radiance-general] Solargraph pinhole photos (real)
Message-ID: <35BE4096-55E2-4059-B59C-7575C69A36D1@dmu.ac.uk>

Mark,

Thanks for that -- I can't wait to either try it myself or suggest it  
to a class. Similar, but rather more immediate, is the CD spectrometer:

http://www.cs.cmu.edu/~zhuxj/astro/html/spectrometer.html

For me, these tactile experiments are a compliment to the lessons I  
give on lighting simulation (so, not entirely OT then).

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From dbs176 at gmail.com  Fri Jan 30 06:42:43 2009
From: dbs176 at gmail.com (dbs176@gmail.com)
Date: Fri Jan 30 06:42:44 2009
Subject: [Radiance-general] Image from text
Message-ID: <0016361e7d94b88d030461b4376f@google.com>

Hi all,

I wanted to take the some of the -o outputs of rtrace and feed it to a  
couple of scripts that would modify the output based on a the rtrace  
parameters. However, I don't have a good method of turning that ASCII text  
back into an image (aside from PIL, ImageMagick, and the ra_* commands). Is  
there a way to take a series of numbers/values and convert it to a Radiance  
picture, like rpict with the ability to input data instead of a scene? If  
so, which values would I need?

Thanks in advance,

--Dave
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090130/24f88445/attachment.html
From grobe at gmx.net  Fri Jan 30 06:54:48 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Jan 30 06:54:23 2009
Subject: [Radiance-general] Image from text
In-Reply-To: <0016361e7d94b88d030461b4376f@google.com>
References: <0016361e7d94b88d030461b4376f@google.com>
Message-ID: <498314B8.10504@gmx.net>

Hi,

take a look at pvalue, especially the -r option. Pvalue allows you to
convert from radiance pictures to ascii or binary representations of the
pixel values - or vice verse, what is what you need here.

Besides that, ppm greyscale files can be written easily ;-) They are
ascii....

CU Lars.

From dbs176 at gmail.com  Fri Jan 30 07:49:39 2009
From: dbs176 at gmail.com (dbs176@gmail.com)
Date: Fri Jan 30 07:49:40 2009
Subject: [Radiance-general] Image from text
Message-ID: <0016361e7d941c003b0461b5273c@google.com>

Ah, thanks, pvalue does the trick.

Two things of note though which I don't think are documented: It looks like  
pvalue needs the ASCII input to have a Radiance header - at  
least "#?RADIANCE" on the first line followed by a blank line. In the  
command "pvalue -h image.hdr | pvalue -r > image2.hdr" the second pvalue  
will not know what to do with the output from the first pvalue.

Also, the -d switch on pvalue works on the reverse operation as well. If  
you do something like "pvalue -d image.hdr | pvalue -r > image2.hdr", the  
second pvalue will use the header to determine the dimensions but ignore  
the red and green columns (assuming they were supposed to be x and y), so  
you'll get only the blue channel in image2.hdr. However, "pvalue -d  
image.hdr | pvalue -r -d > image2.hdr" will reproduce the original image.  
This behavior is noted in the Bugs section but not in the description for  
the -d option.

--Dave
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090130/afcfc230/attachment.htm
From gregoryjward at gmail.com  Fri Jan 30 08:07:53 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Jan 30 08:07:45 2009
Subject: [Radiance-general] Image from text
In-Reply-To: <0016361e7d941c003b0461b5273c@google.com>
References: <0016361e7d941c003b0461b5273c@google.com>
Message-ID: <68BD760E-3835-498C-AA12-C2A3C71A5147@lmi.net>

Hi Dave,

You need to read the pvalue man page a little more closely.  You can  
feed it an ASCII file with no header by employing the -h option  
together with -H to say there is no resolution string, but then you  
need to use -y YRES +x XRES options to specify the image resolution  
and scanline ordering.

Best,
-Greg

> From: dbs176@gmail.com
> Date: January 30, 2009 7:49:39 AM PST
>
> Ah, thanks, pvalue does the trick.
>
> Two things of note though which I don't think are documented: It  
> looks like pvalue needs the ASCII input to have a Radiance header -  
> at least "#?RADIANCE" on the first line followed by a blank line.  
> In the command "pvalue -h image.hdr | pvalue -r > image2.hdr" the  
> second pvalue will not know what to do with the output from the  
> first pvalue.
>
> Also, the -d switch on pvalue works on the reverse operation as  
> well. If you do something like "pvalue -d image.hdr | pvalue -r >  
> image2.hdr", the second pvalue will use the header to determine the  
> dimensions but ignore the red and green columns (assuming they were  
> supposed to be x and y), so you'll get only the blue channel in  
> image2.hdr. However, "pvalue -d image.hdr | pvalue -r -d >  
> image2.hdr" will reproduce the original image. This behavior is  
> noted in the Bugs section but not in the description for the -d  
> option.
>
> --Dave

