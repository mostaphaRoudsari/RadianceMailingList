From jcalixihan at cladding.com  Mon Oct  5 00:20:43 2009
From: jcalixihan at cladding.com (Edilberto Calixihan)
Date: Mon Oct  5 00:18:58 2009
Subject: [Radiance-general] Help on BRTDfunc
Message-ID: <005601ca458c$5cb7fc60$1627f520$@com>

Hello!
 
I'm new to Desktop Radiance and use Ecotect to create and run the
simulations.  I need advise on using BRTDfunc.  Below is the .rad file from
Optics 5 for the clear glass that I need:
 
void  glass       01_Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    01_Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
When I insert it into the my scene file (replace the default glass command
lines) I get an "unidentified modifier "Clear"" error.  Which means the
polygons referencing "Clear" cannot find the glass description, right?  I
would modify the glass description to various id combinations like the one
below but I get a "bad arguments for "Clear"" error.
 
void  glass   Clear   Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc  Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc  Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
How can I properly run BRTDfunc and the glass reflection numbers from Optics
5?
 
The one that seems to run ok is below but not sure if I got it right..
Also, we don't have a Unix pc at work but I'm interested in the newer
versions of Radiance.  Shall I start to learn Cygwin or MinGW to access
advance glass functions?  Any advice would be very helpful.
 
void  glass   Clear
0
0
3     0.934     0.974     0.955
 
 
void  BRTDfunc    Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
 
Thanks so much!
Jun
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091005/329fbcc2/attachment-0001.html
From Erik.Moore at arup.com  Mon Oct  5 01:46:47 2009
From: Erik.Moore at arup.com (Erik Moore)
Date: Mon Oct  5 01:46:59 2009
Subject: [Radiance-general] Help on BRTDfunc
In-Reply-To: <005601ca458c$5cb7fc60$1627f520$@com>
References: <005601ca458c$5cb7fc60$1627f520$@com>
Message-ID: <F65C1ECF836F09418EBE88D3E33A8D2D054AEEBA@eurxmb06.global.arup.com>

Hi there Jun,
 
I'm not an expert and I'm sure that someone might correct me but.... you
need to apply the modifier that you are using to the glass description.
the term 'void' means that you are not applying a modifier. Also, you
will need to change the name of the modifier (or the name of the
polygons) as I think that your polygons have been named 'clear'.
 
Try this:
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
01_Clear_8_front  glass   clear
0
0
3     0.934     0.974     0.955
 
Please note the order.... Radiance will need to read what the modifier
is BEFORE it can be applied to anything. I have never used this sort of
modifier before, so I'm not too sure on what the arguments are (and
hence can't comment on them..??) and I'm not too sure why you have two
of them (front and back) which are identical?
 
hope this helps. Anyone else who can correct me on anything please but
in!
 
Erik
 
 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Edilberto Calixihan
Sent: 05 October 2009 08:21
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Help on BRTDfunc


Hello!
 
I'm new to Desktop Radiance and use Ecotect to create and run the
simulations.  I need advise on using BRTDfunc.  Below is the .rad file
from Optics 5 for the clear glass that I need:
 
void  glass       01_Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    01_Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
When I insert it into the my scene file (replace the default glass
command lines) I get an "unidentified modifier "Clear"" error.  Which
means the polygons referencing "Clear" cannot find the glass
description, right?  I would modify the glass description to various id
combinations like the one below but I get a "bad arguments for "Clear""
error.
 
void  glass   Clear   Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc  Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc  Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
How can I properly run BRTDfunc and the glass reflection numbers from
Optics 5?
 
The one that seems to run ok is below but not sure if I got it right..
Also, we don't have a Unix pc at work but I'm interested in the newer
versions of Radiance.  Shall I start to learn Cygwin or MinGW to access
advance glass functions?  Any advice would be very helpful.
 
void  glass   Clear
0
0
3     0.934     0.974     0.955
 
 
void  BRTDfunc    Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
 
Thanks so much!
Jun
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091005/9ef7c407/attachment-0001.htm
From jcalixihan at cladding.com  Mon Oct  5 03:15:35 2009
From: jcalixihan at cladding.com (Edilberto Calixihan)
Date: Mon Oct  5 03:13:45 2009
Subject: [Radiance-general] Help on BRTDfunc
In-Reply-To: <F65C1ECF836F09418EBE88D3E33A8D2D054AEEBA@eurxmb06.global.arup.com>
References: <005601ca458c$5cb7fc60$1627f520$@com>
	<F65C1ECF836F09418EBE88D3E33A8D2D054AEEBA@eurxmb06.global.arup.com>
Message-ID: <006901ca45a4$c91d1580$5b574080$@com>

Hi Erik,
 
Thanks for giving some ideas on this and pointing in the right direction. I
was already stuck.
 
It seems BRTDfunc is already a material and we may not need the glass
material definition anymore (pls. correct me here).  
 
Also it may seem that we may need to add the use of glazing.cal as mentioned
in http://finance.dir.groups.yahoo.com/group/DesktopRadiance/message/14.  I
tried the below definition and it worked.  Although I'm still not sure if
this is the correct way.  Any additional clues is highly welcome.
 
void  BRTDfunc    Clear
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      glazing.cal
0
9 0 0 0 0 0 0 0 0 0
 
 
You're right on the same numbers of front and back reflectance from Optics 5
.rad file and will need to check the glass.  I think Optics 5 may have a bug
on Radiance export but will verify:
http://www.radiance-online.org/radiance-workshop5/2006_Radiance_Workshop/Pre
sentations/Ward_RadianceFeatures.pdf
 
Thanks and best regards,
Jun
 
 
From: Erik Moore [mailto:Erik.Moore@arup.com] 
Sent: Monday, October 05, 2009 4:47 PM
To: jcalixihan@cladding.com; Radiance general discussion
Subject: RE: [Radiance-general] Help on BRTDfunc
 
Hi there Jun,
 
I'm not an expert and I'm sure that someone might correct me but.... you
need to apply the modifier that you are using to the glass description. the
term 'void' means that you are not applying a modifier. Also, you will need
to change the name of the modifier (or the name of the polygons) as I think
that your polygons have been named 'clear'.
 
Try this:
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
01_Clear_8_front  glass   clear
0
0
3     0.934     0.974     0.955
 
Please note the order.... Radiance will need to read what the modifier is
BEFORE it can be applied to anything. I have never used this sort of
modifier before, so I'm not too sure on what the arguments are (and hence
can't comment on them..??) and I'm not too sure why you have two of them
(front and back) which are identical?
 
hope this helps. Anyone else who can correct me on anything please but in!
 
Erik
 
 
 
  _____  

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Edilberto
Calixihan
Sent: 05 October 2009 08:21
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Help on BRTDfunc
Hello!
 
I'm new to Desktop Radiance and use Ecotect to create and run the
simulations.  I need advise on using BRTDfunc.  Below is the .rad file from
Optics 5 for the clear glass that I need:
 
void  glass       01_Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    01_Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
When I insert it into the my scene file (replace the default glass command
lines) I get an "unidentified modifier "Clear"" error.  Which means the
polygons referencing "Clear" cannot find the glass description, right?  I
would modify the glass description to various id combinations like the one
below but I get a "bad arguments for "Clear"" error.
 
void  glass   Clear   Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc  Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc  Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
How can I properly run BRTDfunc and the glass reflection numbers from Optics
5?
 
The one that seems to run ok is below but not sure if I got it right..
Also, we don't have a Unix pc at work but I'm interested in the newer
versions of Radiance.  Shall I start to learn Cygwin or MinGW to access
advance glass functions?  Any advice would be very helpful.
 
void  glass   Clear
0
0
3     0.934     0.974     0.955
 
 
void  BRTDfunc    Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
 
Thanks so much!
Jun
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091005/b28f7d5e/attachment-0001.html
From Erik.Moore at arup.com  Mon Oct  5 03:36:03 2009
From: Erik.Moore at arup.com (Erik Moore)
Date: Mon Oct  5 03:36:38 2009
Subject: [Radiance-general] Help on BRTDfunc
In-Reply-To: <006901ca45a4$c91d1580$5b574080$@com>
References: <005601ca458c$5cb7fc60$1627f520$@com><F65C1ECF836F09418EBE88D3E33A8D2D054AEEBA@eurxmb06.global.arup.com>
	<006901ca45a4$c91d1580$5b574080$@com>
Message-ID: <F65C1ECF836F09418EBE88D3E33A8D2D054AF014@eurxmb06.global.arup.com>

yeup, your correct. I should have had a bit more of a look before my
responce. As I previously said, I've never used the BRTDfunc material
type so I'm afraid I'm not any help with the use of the funcfile??
 
Anyone else?

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Edilberto Calixihan
Sent: 05 October 2009 11:16
To: 'Radiance general discussion'
Subject: RE: [Radiance-general] Help on BRTDfunc


Hi Erik,
 
Thanks for giving some ideas on this and pointing in the right
direction. I was already stuck.
 
It seems BRTDfunc is already a material and we may not need the glass
material definition anymore (pls. correct me here).  
 
Also it may seem that we may need to add the use of glazing.cal as
mentioned in
http://finance.dir.groups.yahoo.com/group/DesktopRadiance/message/14.  I
tried the below definition and it worked.  Although I'm still not sure
if this is the correct way.  Any additional clues is highly welcome.
 
void  BRTDfunc    Clear
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      glazing.cal
0
9 0 0 0 0 0 0 0 0 0
 
 
You're right on the same numbers of front and back reflectance from
Optics 5 .rad file and will need to check the glass.  I think Optics 5
may have a bug on Radiance export but will verify:
http://www.radiance-online.org/radiance-workshop5/2006_Radiance_Workshop
/Presentations/Ward_RadianceFeatures.pdf
 
Thanks and best regards,
Jun
 
 
From: Erik Moore [mailto:Erik.Moore@arup.com] 
Sent: Monday, October 05, 2009 4:47 PM
To: jcalixihan@cladding.com; Radiance general discussion
Subject: RE: [Radiance-general] Help on BRTDfunc
 
Hi there Jun,
 
I'm not an expert and I'm sure that someone might correct me but.... you
need to apply the modifier that you are using to the glass description.
the term 'void' means that you are not applying a modifier. Also, you
will need to change the name of the modifier (or the name of the
polygons) as I think that your polygons have been named 'clear'.
 
Try this:
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
01_Clear_8_front  glass   clear
0
0
3     0.934     0.974     0.955
 
Please note the order.... Radiance will need to read what the modifier
is BEFORE it can be applied to anything. I have never used this sort of
modifier before, so I'm not too sure on what the arguments are (and
hence can't comment on them..??) and I'm not too sure why you have two
of them (front and back) which are identical?
 
hope this helps. Anyone else who can correct me on anything please but
in!
 
Erik
 
 
 
________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Edilberto Calixihan
Sent: 05 October 2009 08:21
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Help on BRTDfunc
Hello!
 
I'm new to Desktop Radiance and use Ecotect to create and run the
simulations.  I need advise on using BRTDfunc.  Below is the .rad file
from Optics 5 for the clear glass that I need:
 
void  glass       01_Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    01_Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
When I insert it into the my scene file (replace the default glass
command lines) I get an "unidentified modifier "Clear"" error.  Which
means the polygons referencing "Clear" cannot find the glass
description, right?  I would modify the glass description to various id
combinations like the one below but I get a "bad arguments for "Clear""
error.
 
void  glass   Clear   Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc  Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc  Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
How can I properly run BRTDfunc and the glass reflection numbers from
Optics 5?
 
The one that seems to run ok is below but not sure if I got it right..
Also, we don't have a Unix pc at work but I'm interested in the newer
versions of Radiance.  Shall I start to learn Cygwin or MinGW to access
advance glass functions?  Any advice would be very helpful.
 
void  glass   Clear
0
0
3     0.934     0.974     0.955
 
 
void  BRTDfunc    Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
 
Thanks so much!
Jun
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091005/66db9eb8/attachment-0001.htm
From jcalixihan at cladding.com  Mon Oct  5 04:10:17 2009
From: jcalixihan at cladding.com (Edilberto Calixihan)
Date: Mon Oct  5 04:08:25 2009
Subject: [Radiance-general] Help on BRTDfunc
In-Reply-To: <F65C1ECF836F09418EBE88D3E33A8D2D054AF014@eurxmb06.global.arup.com>
References: <005601ca458c$5cb7fc60$1627f520$@com><F65C1ECF836F09418EBE88D3E33A8D2D054AEEBA@eurxmb06.global.arup.com>
	<006901ca45a4$c91d1580$5b574080$@com>
	<F65C1ECF836F09418EBE88D3E33A8D2D054AF014@eurxmb06.global.arup.com>
Message-ID: <007901ca45ac$6cfe7f70$46fb7e50$@com>

Hello Erik,
 
Actually your reply was very helpful.  It pointed me to where else to look
and think that BRTDfunc may be enough of a description.  
 
My rendered picture looks the same as using the "glass" material though, and
it looks like I did not capture the glass reflectivity well.  Anymore help
is very very welcome.
 
Cheers!
 
Best regards,
Jun
 
From: Erik Moore [mailto:Erik.Moore@arup.com] 
Sent: Monday, October 05, 2009 6:36 PM
To: jcalixihan@cladding.com; Radiance general discussion
Subject: RE: [Radiance-general] Help on BRTDfunc
 
yeup, your correct. I should have had a bit more of a look before my
responce. As I previously said, I've never used the BRTDfunc material type
so I'm afraid I'm not any help with the use of the funcfile??
 
Anyone else?
 
  _____  

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Edilberto
Calixihan
Sent: 05 October 2009 11:16
To: 'Radiance general discussion'
Subject: RE: [Radiance-general] Help on BRTDfunc
Hi Erik,
 
Thanks for giving some ideas on this and pointing in the right direction. I
was already stuck.
 
It seems BRTDfunc is already a material and we may not need the glass
material definition anymore (pls. correct me here).  
 
Also it may seem that we may need to add the use of glazing.cal as mentioned
in http://finance.dir.groups.yahoo.com/group/DesktopRadiance/message/14.  I
tried the below definition and it worked.  Although I'm still not sure if
this is the correct way.  Any additional clues is highly welcome.
 
void  BRTDfunc    Clear
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      glazing.cal
0
9 0 0 0 0 0 0 0 0 0
 
 
You're right on the same numbers of front and back reflectance from Optics 5
.rad file and will need to check the glass.  I think Optics 5 may have a bug
on Radiance export but will verify:
http://www.radiance-online.org/radiance-workshop5/2006_Radiance_Workshop/Pre
sentations/Ward_RadianceFeatures.pdf
 
Thanks and best regards,
Jun
 
 
From: Erik Moore [mailto:Erik.Moore@arup.com] 
Sent: Monday, October 05, 2009 4:47 PM
To: jcalixihan@cladding.com; Radiance general discussion
Subject: RE: [Radiance-general] Help on BRTDfunc
 
Hi there Jun,
 
I'm not an expert and I'm sure that someone might correct me but.... you
need to apply the modifier that you are using to the glass description. the
term 'void' means that you are not applying a modifier. Also, you will need
to change the name of the modifier (or the name of the polygons) as I think
that your polygons have been named 'clear'.
 
Try this:
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
01_Clear_8_front  glass   clear
0
0
3     0.934     0.974     0.955
 
Please note the order.... Radiance will need to read what the modifier is
BEFORE it can be applied to anything. I have never used this sort of
modifier before, so I'm not too sure on what the arguments are (and hence
can't comment on them..??) and I'm not too sure why you have two of them
(front and back) which are identical?
 
hope this helps. Anyone else who can correct me on anything please but in!
 
Erik
 
 
 
  _____  

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Edilberto
Calixihan
Sent: 05 October 2009 08:21
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Help on BRTDfunc
Hello!
 
I'm new to Desktop Radiance and use Ecotect to create and run the
simulations.  I need advise on using BRTDfunc.  Below is the .rad file from
Optics 5 for the clear glass that I need:
 
void  glass       01_Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    01_Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
When I insert it into the my scene file (replace the default glass command
lines) I get an "unidentified modifier "Clear"" error.  Which means the
polygons referencing "Clear" cannot find the glass description, right?  I
would modify the glass description to various id combinations like the one
below but I get a "bad arguments for "Clear"" error.
 
void  glass   Clear   Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc  Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc  Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
How can I properly run BRTDfunc and the glass reflection numbers from Optics
5?
 
The one that seems to run ok is below but not sure if I got it right..
Also, we don't have a Unix pc at work but I'm interested in the newer
versions of Radiance.  Shall I start to learn Cygwin or MinGW to access
advance glass functions?  Any advice would be very helpful.
 
void  glass   Clear
0
0
3     0.934     0.974     0.955
 
 
void  BRTDfunc    Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
 
Thanks so much!
Jun
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091005/69c5c12f/attachment-0001.html
From jedev at visarc.com  Mon Oct  5 05:50:50 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Oct  5 05:51:41 2009
Subject: [Radiance-general] Help on BRTDfunc
In-Reply-To: <007901ca45ac$6cfe7f70$46fb7e50$@com>
References: <005601ca458c$5cb7fc60$1627f520$@com><F65C1ECF836F09418EBE88D3E33A8D2D054AEEBA@eurxmb06.global.arup.com>	<006901ca45a4$c91d1580$5b574080$@com>	<F65C1ECF836F09418EBE88D3E33A8D2D054AF014@eurxmb06.global.arup.com>
	<007901ca45ac$6cfe7f70$46fb7e50$@com>
Message-ID: <4AC9EBAA.2060704@visarc.com>

Hi Jun and Erik,

To clarify a bit. The radiance material descriptions exported from 
Optics 5 are as follows:

    * front side as BRTDfunc
    * back side as BRTDfunc
    * glass

The front and back descriptions use a simple version of BRTDfunc, simple 
in that they do not call any functions for additional calculations that 
would help account for angular dependencies for transmittance and 
reflectance. However they do start to capture higher reflectance 
qualities of certain types of glass. The glass material will account for 
the transmittance (transmissivity) of the material but will not account 
for higher reflectances and differing front and backside reflectances.

BRTDfunc is a full material in Radiance, thus like a glass, plastic, 
metal, etc material type, it can be applied directly to geometry. The 
downside of the BRTDfunc descriptions exported from Optics is that they 
do not account for angular dependencies found in glazing materials for 
reflectance and transmittance, to do this you need to do a bit more 
conversion. To have a material description that integrates both front 
and back side characteristics as well as accounts for angular 
dependencies, there are two ways to go:

   1. optics2rad - converts the radiance format file output from optics
      to a more robust BRTDfunc material description.
   2. glaze - look at the glaze script for building up material
      descriptions for different types of glass. Note that this can be
      modified to include data for other glass types that you may export
      from Optics (these must be exported as single layers, not composites).

Hope this helps.

-Jack de Valpine



Edilberto Calixihan wrote:
>
> Hello Erik,
>
>  
>
> Actually your reply was very helpful.  It pointed me to where else to 
> look and think that BRTDfunc may be enough of a description. 
>
>  
>
> My rendered picture looks the same as using the "glass" material 
> though, and it looks like I did not capture the glass reflectivity 
> well.  Anymore help is very very welcome.
>
>  
>
> Cheers!
>
>  
>
> Best regards,
>
> Jun
>
>  
>
> *From:* Erik Moore [mailto:Erik.Moore@arup.com]
> *Sent:* Monday, October 05, 2009 6:36 PM
> *To:* jcalixihan@cladding.com; Radiance general discussion
> *Subject:* RE: [Radiance-general] Help on BRTDfunc
>
>  
>
> yeup, your correct. I should have had a bit more of a look before my 
> responce. As I previously said, I've never used the BRTDfunc material 
> type so I'm afraid I'm not any help with the use of the funcfile??
>
>  
>
> Anyone else?
>
>  
>
> ------------------------------------------------------------------------
>
> *From:* radiance-general-bounces@radiance-online.org 
> [mailto:radiance-general-bounces@radiance-online.org] *On Behalf Of 
> *Edilberto Calixihan
> *Sent:* 05 October 2009 11:16
> *To:* 'Radiance general discussion'
> *Subject:* RE: [Radiance-general] Help on BRTDfunc
>
> Hi Erik,
>
>  
>
> Thanks for giving some ideas on this and pointing in the right 
> direction. I was already stuck.
>
>  
>
> It seems BRTDfunc is already a material and we may not need the glass 
> material definition anymore (pls. correct me here). 
>
>  
>
> Also it may seem that we may need to add the use of glazing.cal as 
> mentioned in 
> http://finance.dir.groups.yahoo.com/group/DesktopRadiance/message/14.  
> I tried the below definition and it worked.  Although I'm still not 
> sure if this is the correct way.  Any additional clues is highly welcome.
>
>  
>
> void  BRTDfunc    Clear
>
> 10
>
>       0.077     0.082     0.082
>
>       0.857     0.894     0.877
>
>       0 0 0
>
>       glazing.cal
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
>  
>
>  
>
> You're right on the same numbers of front and back reflectance from 
> Optics 5 .rad file and will need to check the glass.  I think Optics 5 
> may have a bug on Radiance export but will verify: 
> http://www.radiance-online.org/radiance-workshop5/2006_Radiance_Workshop/Presentations/Ward_RadianceFeatures.pdf
>
>  
>
> Thanks and best regards,
>
> Jun
>
>  
>
>  
>
> *From:* Erik Moore [mailto:Erik.Moore@arup.com]
> *Sent:* Monday, October 05, 2009 4:47 PM
> *To:* jcalixihan@cladding.com; Radiance general discussion
> *Subject:* RE: [Radiance-general] Help on BRTDfunc
>
>  
>
> Hi there Jun,
>
>  
>
> I'm not an expert and I'm sure that someone might correct me but.... 
> you need to apply the modifier that you are using to the glass 
> description. the term 'void' means that you are not applying a 
> modifier. Also, you will need to change the name of the modifier (or 
> the name of the polygons) as I think that your polygons have been 
> named 'clear'.
>
>  
>
> Try this:
>
>  
>
> void  BRTDfunc    01_Clear_8_front
>
> 10
>
>       0.077     0.082     0.082
>
>       0.857     0.894     0.877
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
>  
>
> 01_Clear_8_front  glass   clear
>
> 0
>
> 0
>
> 3     0.934     0.974     0.955
>
>  
>
> Please note the order.... Radiance will need to read what the modifier 
> is BEFORE it can be applied to anything. I have never used this sort 
> of modifier before, so I'm not too sure on what the arguments are (and 
> hence can't comment on them..??) and I'm not too sure why you have two 
> of them (front and back) which are identical?
>
>  
>
> hope this helps. Anyone else who can correct me on anything please but in!
>
>  
>
> Erik
>
>  
>
>  
>
>  
>
> ------------------------------------------------------------------------
>
> *From:* radiance-general-bounces@radiance-online.org 
> [mailto:radiance-general-bounces@radiance-online.org] *On Behalf Of 
> *Edilberto Calixihan
> *Sent:* 05 October 2009 08:21
> *To:* radiance-general@radiance-online.org
> *Subject:* [Radiance-general] Help on BRTDfunc
>
> Hello!
>
>  
>
> I'm new to Desktop Radiance and use Ecotect to create and run the 
> simulations.  I need advise on using BRTDfunc.  Below is the .rad file 
> from Optics 5 for the clear glass that I need:
>
>  
>
> void  glass       01_Clear_8_glass
>
> 0
>
> 0
>
> 3     0.934     0.974     0.955
>
>  
>
> void  BRTDfunc    01_Clear_8_front
>
> 10
>
>       0.077     0.082     0.082
>
>       0.857     0.894     0.877
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
>  
>
> void  BRTDfunc    01_Clear_8_back
>
> 10
>
>       0.077     0.082     0.082
>
>       0.857     0.894     0.877
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
>  
>
>  
>
> When I insert it into the my scene file (replace the default glass 
> command lines) I get an "unidentified modifier "Clear"" error.  Which 
> means the polygons referencing "Clear" cannot find the glass 
> description, right?  I would modify the glass description to various 
> id combinations like the one below but I get a "bad arguments for 
> "Clear"" error.
>
>  
>
> void  glass   Clear   Clear_8_glass
>
> 0
>
> 0
>
> 3     0.934     0.974     0.955
>
>  
>
> void  BRTDfunc  Clear_8_front
>
> 10
>
>       0.077     0.082     0.082
>
>       0.857     0.894     0.877
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
>  
>
> void  BRTDfunc  Clear_8_back
>
> 10
>
>       0.077     0.082     0.082
>
>       0.857     0.894     0.877
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
>  
>
>  
>
> How can I properly run BRTDfunc and the glass reflection numbers from 
> Optics 5?
>
>  
>
> The one that seems to run ok is below but not sure if I got it 
> right..  Also, we don't have a Unix pc at work but I'm interested in 
> the newer versions of Radiance.  Shall I start to learn Cygwin or 
> MinGW to access advance glass functions?  Any advice would be very 
> helpful.
>
>  
>
> void  glass   Clear
>
> 0
>
> 0
>
> 3     0.934     0.974     0.955
>
>  
>
>  
>
> void  BRTDfunc    Clear_8_front
>
> 10
>
>       0.077     0.082     0.082
>
>       0.857     0.894     0.877
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
>  
>
> void  BRTDfunc    Clear_8_back
>
> 10
>
>       0.077     0.082     0.082
>
>       0.857     0.894     0.877
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
>  
>
>  
>
>  
>
> Thanks so much!
>
> Jun
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091005/6daa5e83/attachment-0001.htm
From jcalixihan at cladding.com  Tue Oct  6 04:03:10 2009
From: jcalixihan at cladding.com (Edilberto Calixihan)
Date: Tue Oct  6 04:01:25 2009
Subject: [Radiance-general] Help on BRTDfunc
In-Reply-To: <4AC9EBAA.2060704@visarc.com>
References: <005601ca458c$5cb7fc60$1627f520$@com><F65C1ECF836F09418EBE88D3E33A8D2D054AEEBA@eurxmb06.global.arup.com>	<006901ca45a4$c91d1580$5b574080$@com>	<F65C1ECF836F09418EBE88D3E33A8D2D054AF014@eurxmb06.global.arup.com>
	<007901ca45ac$6cfe7f70$46fb7e50$@com> <4AC9EBAA.2060704@visarc.com>
Message-ID: <001301ca4674$9cedc7e0$d6c957a0$@com>

Thanks Jack and Erick,
 
I got BRTDfunc to work on double glazing with glaze2.cal following the
previous post from Marija that:
 
void BRTDfunc double_glazing
10
if(Rdot,cr(fr(rf1_r),ft(t1_r),fr(rf2_r)),cr(fr(rb2_r),ft(t2_r),fr(rb1_r)))
if(Rdot,cr(fr(rf1_g),ft(t1_g),fr(rf2_g)),cr(fr(rb2_g),ft(t2_g),fr(rb1_g)))
if(Rdot,cr(fr(rf1_b),ft(t1_b),fr(rf2_b)),cr(fr(rb2_b),ft(t2_b),fr(rb1_b)))
ft(t1_r)*ft(t2_r)
ft(t1_g)*ft(t2_g)
ft(t1_b)*ft(t2_b)
        0 0 0
        glaze2.cal

0
9
        0 0 0
        0 0 0
        0 0 0
 
 
Currently trying out glaze1.cal and hope that I get it right.  Thanks for
the clues.  I also reversed the window surface normal to point to the room
interior where my camera is.  I may be able to modify the BRTDfunc and glaze
parameters thanks to your clues.
 
I was trying out various glass reflectance to see if it would affect the
rendered image and it did.
 
Thanks very much!
 
Best regards,
Jun
 
 
From: Jack de Valpine [mailto:jedev@visarc.com] 
Sent: Monday, October 05, 2009 8:51 PM
To: jcalixihan@cladding.com; Radiance general discussion;
Erik.Moore@arup.com
Subject: Re: [Radiance-general] Help on BRTDfunc
 
Hi Jun and Erik,

To clarify a bit. The radiance material descriptions exported from Optics 5
are as follows:
*	front side as BRTDfunc
*	back side as BRTDfunc
*	glass
The front and back descriptions use a simple version of BRTDfunc, simple in
that they do not call any functions for additional calculations that would
help account for angular dependencies for transmittance and reflectance.
However they do start to capture higher reflectance qualities of certain
types of glass. The glass material will account for the transmittance
(transmissivity) of the material but will not account for higher
reflectances and differing front and backside reflectances.

BRTDfunc is a full material in Radiance, thus like a glass, plastic, metal,
etc material type, it can be applied directly to geometry. The downside of
the BRTDfunc descriptions exported from Optics is that they do not account
for angular dependencies found in glazing materials for reflectance and
transmittance, to do this you need to do a bit more conversion. To have a
material description that integrates both front and back side
characteristics as well as accounts for angular dependencies, there are two
ways to go:
1.	optics2rad - converts the radiance format file output from optics to
a more robust BRTDfunc material description.
2.	glaze - look at the glaze script for building up material
descriptions for different types of glass. Note that this can be modified to
include data for other glass types that you may export from Optics (these
must be exported as single layers, not composites).
Hope this helps.

-Jack de Valpine



Edilberto Calixihan wrote: 
Hello Erik,
 
Actually your reply was very helpful.  It pointed me to where else to look
and think that BRTDfunc may be enough of a description.  
 
My rendered picture looks the same as using the "glass" material though, and
it looks like I did not capture the glass reflectivity well.  Anymore help
is very very welcome.
 
Cheers!
 
Best regards,
Jun
 
From: Erik Moore [mailto:Erik.Moore@arup.com] 
Sent: Monday, October 05, 2009 6:36 PM
To: jcalixihan@cladding.com; Radiance general discussion
Subject: RE: [Radiance-general] Help on BRTDfunc
 
yeup, your correct. I should have had a bit more of a look before my
responce. As I previously said, I've never used the BRTDfunc material type
so I'm afraid I'm not any help with the use of the funcfile??
 
Anyone else?
 
  _____  

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Edilberto
Calixihan
Sent: 05 October 2009 11:16
To: 'Radiance general discussion'
Subject: RE: [Radiance-general] Help on BRTDfunc
Hi Erik,
 
Thanks for giving some ideas on this and pointing in the right direction. I
was already stuck.
 
It seems BRTDfunc is already a material and we may not need the glass
material definition anymore (pls. correct me here).  
 
Also it may seem that we may need to add the use of glazing.cal as mentioned
in http://finance.dir.groups.yahoo.com/group/DesktopRadiance/message/14.  I
tried the below definition and it worked.  Although I'm still not sure if
this is the correct way.  Any additional clues is highly welcome.
 
void  BRTDfunc    Clear
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      glazing.cal
0
9 0 0 0 0 0 0 0 0 0
 
 
You're right on the same numbers of front and back reflectance from Optics 5
.rad file and will need to check the glass.  I think Optics 5 may have a bug
on Radiance export but will verify:
http://www.radiance-online.org/radiance-workshop5/2006_Radiance_Workshop/Pre
sentations/Ward_RadianceFeatures.pdf
 
Thanks and best regards,
Jun
 
 
From: Erik Moore [mailto:Erik.Moore@arup.com] 
Sent: Monday, October 05, 2009 4:47 PM
To: jcalixihan@cladding.com; Radiance general discussion
Subject: RE: [Radiance-general] Help on BRTDfunc
 
Hi there Jun,
 
I'm not an expert and I'm sure that someone might correct me but.... you
need to apply the modifier that you are using to the glass description. the
term 'void' means that you are not applying a modifier. Also, you will need
to change the name of the modifier (or the name of the polygons) as I think
that your polygons have been named 'clear'.
 
Try this:
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
01_Clear_8_front  glass   clear
0
0
3     0.934     0.974     0.955
 
Please note the order.... Radiance will need to read what the modifier is
BEFORE it can be applied to anything. I have never used this sort of
modifier before, so I'm not too sure on what the arguments are (and hence
can't comment on them..??) and I'm not too sure why you have two of them
(front and back) which are identical?
 
hope this helps. Anyone else who can correct me on anything please but in!
 
Erik
 
 
 
  _____  

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Edilberto
Calixihan
Sent: 05 October 2009 08:21
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Help on BRTDfunc
Hello!
 
I'm new to Desktop Radiance and use Ecotect to create and run the
simulations.  I need advise on using BRTDfunc.  Below is the .rad file from
Optics 5 for the clear glass that I need:
 
void  glass       01_Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc    01_Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    01_Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
When I insert it into the my scene file (replace the default glass command
lines) I get an "unidentified modifier "Clear"" error.  Which means the
polygons referencing "Clear" cannot find the glass description, right?  I
would modify the glass description to various id combinations like the one
below but I get a "bad arguments for "Clear"" error.
 
void  glass   Clear   Clear_8_glass
0
0
3     0.934     0.974     0.955
 
void  BRTDfunc  Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc  Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
How can I properly run BRTDfunc and the glass reflection numbers from Optics
5?
 
The one that seems to run ok is below but not sure if I got it right..
Also, we don't have a Unix pc at work but I'm interested in the newer
versions of Radiance.  Shall I start to learn Cygwin or MinGW to access
advance glass functions?  Any advice would be very helpful.
 
void  glass   Clear
0
0
3     0.934     0.974     0.955
 
 
void  BRTDfunc    Clear_8_front
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    Clear_8_back
10
      0.077     0.082     0.082
      0.857     0.894     0.877
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
 
 
Thanks so much!
Jun
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
 



  _____  



 
_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
  




-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091006/1cd0e36a/attachment-0001.html
From grobe at gmx.net  Wed Oct  7 01:07:19 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Oct  7 01:07:48 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
Message-ID: <4ACC4C37.9030607@gmx.net>

Hi,

I am trying to get the irradiance [W/m2] on an object surface by a HMI 
source with a known cd-distribution which I was able to get from a plot 
(I read the values [cd] from the polar plot, made a IES-formatted 
luminaire description of it and converted this using ies2rad). I had put 
"metal halide" into the [LAMP]-line of the ies, in the hope that 
radiance would match the HMI-type then.

Now I am wondering how to interpret the results. In general, I would 
assume the results of a Radiance simulation to be in W/m2, and the 
conversion to happen at the beginning, so in the lamp.tab-look-up by 
ies2rad in my case. So am I correct using the results without further 
conversion, and having -m 1 -l W/m2 as falsecolor's parameters?

Thank you, cheers

Lars.

From info at aisarquitectura.com  Wed Oct  7 02:39:28 2009
From: info at aisarquitectura.com (Ignacio Munarriz)
Date: Wed Oct  7 02:39:30 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
In-Reply-To: <4ACC4C37.9030607@gmx.net>
References: <4ACC4C37.9030607@gmx.net>
Message-ID: <4ACC61D0.5050907@aisarquitectura.com>

Lars,
falsecolor default output are nits 1 cd/m2 or lux lm/m2 if you have used 
-i in rpict , so if you use -l W/m2   only change the legend, imo, you 
would use -s 1 to change the default multiplier from 179, or use "Lux" 
as legend, although you've introduced the data as cd, radiance makes the 
conversion in ies2rad to W and then again to cd or lm in falsecolor, 
anyway i would use lux rather than irradiance as output, because with 
W/m2 you are considering a Luminous efficacy conversion

regards,
Ignacio

Lars O. Grobe escribi?:
> Hi,
>
> I am trying to get the irradiance [W/m2] on an object surface by a HMI 
> source with a known cd-distribution which I was able to get from a 
> plot (I read the values [cd] from the polar plot, made a IES-formatted 
> luminaire description of it and converted this using ies2rad). I had 
> put "metal halide" into the [LAMP]-line of the ies, in the hope that 
> radiance would match the HMI-type then.
>
> Now I am wondering how to interpret the results. In general, I would 
> assume the results of a Radiance simulation to be in W/m2, and the 
> conversion to happen at the beginning, so in the lamp.tab-look-up by 
> ies2rad in my case. So am I correct using the results without further 
> conversion, and having -m 1 -l W/m2 as falsecolor's parameters?
>
> Thank you, cheers
>
> Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From grobe at gmx.net  Wed Oct  7 02:59:51 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Oct  7 03:00:00 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
In-Reply-To: <4ACC61D0.5050907@aisarquitectura.com>
References: <4ACC4C37.9030607@gmx.net> <4ACC61D0.5050907@aisarquitectura.com>
Message-ID: <4ACC6697.8070708@gmx.net>

Hi Ignacio!

Thanks for the quick reply! Just to avoid misunderstandings, the -s 
parameter in falsecolor does not change the radiometric values but the 
scale that is applied to them in the resulting image (as this is a 
one-way, this does not reallt matter). So with -s, you define the range 
of pixel values that will mapped to the color scale. The multiplier is 
given following -m, and the default (to get from radiometric to 
photometric according to the internal efficacy of 153 lm/W that is used 
by Radiance) is -m 153. So that is why I was wondering whether giving -m 
1 would be enough.

My main concern is at the moment whether the HMI-source photometry is 
correctly transfered into radiometry by only using ies2rad with the 
lamptab (unfortunately I do not have more detailed information on the 
emission spectrum and luminous efficacy).

Cheers, Lars.

From info at aisarquitectura.com  Wed Oct  7 03:51:48 2009
From: info at aisarquitectura.com (Ignacio Munarriz)
Date: Wed Oct  7 03:51:48 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
In-Reply-To: <4ACC6697.8070708@gmx.net>
References: <4ACC4C37.9030607@gmx.net> <4ACC61D0.5050907@aisarquitectura.com>
	<4ACC6697.8070708@gmx.net>
Message-ID: <4ACC72C4.4030301@aisarquitectura.com>

Oh Sorry!!, i had mixed the -s and -m parameter in the falsecolor man 
page, the lamp color conversion from cie to rgb will affect the radiance 
output (scaled by the color) , but I don't know how that can be interpreted,
regards, ignacio

Lars O. Grobe escribi?:
> Hi Ignacio!
>
> Thanks for the quick reply! Just to avoid misunderstandings, the -s 
> parameter in falsecolor does not change the radiometric values but the 
> scale that is applied to them in the resulting image (as this is a 
> one-way, this does not reallt matter). So with -s, you define the 
> range of pixel values that will mapped to the color scale. The 
> multiplier is given following -m, and the default (to get from 
> radiometric to photometric according to the internal efficacy of 153 
> lm/W that is used by Radiance) is -m 153. So that is why I was 
> wondering whether giving -m 1 would be enough.
>
> My main concern is at the moment whether the HMI-source photometry is 
> correctly transfered into radiometry by only using ies2rad with the 
> lamptab (unfortunately I do not have more detailed information on the 
> emission spectrum and luminous efficacy).
>
> Cheers, Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From jedev at visarc.com  Wed Oct  7 05:20:14 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Oct  7 05:20:24 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
In-Reply-To: <4ACC72C4.4030301@aisarquitectura.com>
References: <4ACC4C37.9030607@gmx.net>
	<4ACC61D0.5050907@aisarquitectura.com>	<4ACC6697.8070708@gmx.net>
	<4ACC72C4.4030301@aisarquitectura.com>
Message-ID: <4ACC877E.4070408@visarc.com>

Isn't the internal efficacy 179?

-Jack

Ignacio Munarriz wrote:
> Oh Sorry!!, i had mixed the -s and -m parameter in the falsecolor man 
> page, the lamp color conversion from cie to rgb will affect the 
> radiance output (scaled by the color) , but I don't know how that can 
> be interpreted,
> regards, ignacio
>
> Lars O. Grobe escribi?:
>> Hi Ignacio!
>>
>> Thanks for the quick reply! Just to avoid misunderstandings, the -s 
>> parameter in falsecolor does not change the radiometric values but 
>> the scale that is applied to them in the resulting image (as this is 
>> a one-way, this does not reallt matter). So with -s, you define the 
>> range of pixel values that will mapped to the color scale. The 
>> multiplier is given following -m, and the default (to get from 
>> radiometric to photometric according to the internal efficacy of 153 
>> lm/W that is used by Radiance) is -m 153. So that is why I was 
>> wondering whether giving -m 1 would be enough.
>>
>> My main concern is at the moment whether the HMI-source photometry is 
>> correctly transfered into radiometry by only using ies2rad with the 
>> lamptab (unfortunately I do not have more detailed information on the 
>> emission spectrum and luminous efficacy).
>>
>> Cheers, Lars.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


From lars.grobe at nus.edu.sg  Wed Oct  7 05:34:25 2009
From: lars.grobe at nus.edu.sg (Lars O. Grobe)
Date: Wed Oct  7 05:34:29 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
In-Reply-To: <4ACC877E.4070408@visarc.com>
References: <4ACC4C37.9030607@gmx.net>	<4ACC61D0.5050907@aisarquitectura.com>	<4ACC6697.8070708@gmx.net>	<4ACC72C4.4030301@aisarquitectura.com>
	<4ACC877E.4070408@visarc.com>
Message-ID: <4ACC8AD1.6040401@nus.edu.sg>


> Isn't the internal efficacy 179?
Errrrrrr yes, but the rising energy prices - was it me talking about
avoiding misunderstandings? ;-))) Sorry...

Cheers Lars.

From jedev at visarc.com  Wed Oct  7 06:04:12 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Oct  7 06:04:25 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
In-Reply-To: <4ACC8AD1.6040401@nus.edu.sg>
References: <4ACC4C37.9030607@gmx.net>	<4ACC61D0.5050907@aisarquitectura.com>	<4ACC6697.8070708@gmx.net>	<4ACC72C4.4030301@aisarquitectura.com>	<4ACC877E.4070408@visarc.com>
	<4ACC8AD1.6040401@nus.edu.sg>
Message-ID: <4ACC91CC.6060201@visarc.com>

No problem! I just wanted to make sure that I had not missed some 
critical change somewhere along the way....

Best,

-Jack

Lars O. Grobe wrote:
>> Isn't the internal efficacy 179?
>>     
> Errrrrrr yes, but the rising energy prices - was it me talking about
> avoiding misunderstandings? ;-))) Sorry...
>
> Cheers Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091007/adea0d71/attachment.htm
From grobe at gmx.net  Thu Oct  8 04:52:00 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Oct  8 04:52:09 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
In-Reply-To: <4ACC91CC.6060201@visarc.com>
References: <4ACC4C37.9030607@gmx.net>	<4ACC61D0.5050907@aisarquitectura.com>	<4ACC6697.8070708@gmx.net>	<4ACC72C4.4030301@aisarquitectura.com>	<4ACC877E.4070408@visarc.com>	<4ACC8AD1.6040401@nus.edu.sg>
	<4ACC91CC.6060201@visarc.com>
Message-ID: <4ACDD260.2060100@gmx.net>

Jack de Valpine wrote:
> No problem! I just wanted to make sure that I had not missed some 
> critical change somewhere along the way....
I hope not ;-) Still, I am not really sure whether I am doing right... 
Does anyone know whether the lamp,tab-lookup done by ies2rad also 
accounts for the luminous efficacy of a source? This would be required 
to get correct radiance values for rgb from the candela-distribution of 
a source. I would e.g. assume an efficacy of 100lm/W for my source, and 
if ies2rad would use 179 instead, the radiance values in my simulation 
would be by far too low...

Cheers, Lars.

From perhaugaard at yahoo.dk  Thu Oct  8 05:03:55 2009
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Thu Oct  8 05:03:58 2009
Subject: [Radiance-general] Strange filetype naming when redering with
	radiance
Message-ID: <336198.48355.qm@web26604.mail.ukl.yahoo.com>

Dear users,

I hope this is the correct forum to post this question.

I have run stumble upon a strange problem rendering images with radiance. 

I have made a simple file containing the different commands to be executed to render the images/data needed. When I execute this file (source xxx.cal) All the output files have a (?) added to the file type (e.g. grid.xyz? instead of grid.xyz). Furthermore I cannot use \ as line separation in my file anymore.

Does anyone have any experience with these types of errors?


Best regards

Per Haugaard



      Find din nye laptop p? kelkoo.dk. Se de gode tilbud her - http://dk.yahoo.com/r/pat/mm
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091008/b85f7efa/attachment.html
From grobe at gmx.net  Thu Oct  8 05:47:09 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Oct  8 05:47:51 2009
Subject: [Radiance-general] Strange filetype naming when redering with
	radiance
In-Reply-To: <336198.48355.qm@web26604.mail.ukl.yahoo.com>
References: <336198.48355.qm@web26604.mail.ukl.yahoo.com>
Message-ID: <4ACDDF4D.7060308@gmx.net>

Hi!

> I hope this is the correct forum to post this question.

I am not sure yet ;-)

> I have made a simple file containing the different commands to be
> executed to render the images/data needed. When I execute this file
> (source xxx.cal) All the output files have a (?) added to the file type
> (e.g. grid.xyz? instead of grid.xyz). Furthermore I cannot use \ as line
> separation in my file anymore.

You seam to have some interesting naming convention... usually in
Radiance-world, files with the extension .cal contain the mathematical
description language used in Radiance e.g. by rcalc or to do
transformations of textures. These are interpreted only by Radiance
tools. However, it seems that you use this extension for scripting? What
shell do you use? This question is most probably a shell-related one,
not a Radiance-related one.

I am just not sure because of the file-extension...

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20091008/eb5e39ca/smime.bin
From jedev at visarc.com  Thu Oct  8 06:17:35 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Oct  8 06:17:52 2009
Subject: [Radiance-general] Strange filetype naming when redering with
	radiance
In-Reply-To: <336198.48355.qm@web26604.mail.ukl.yahoo.com>
References: <336198.48355.qm@web26604.mail.ukl.yahoo.com>
Message-ID: <4ACDE66F.3020309@visarc.com>

Hi Per,

Can you post the contents of your shell script? That way people might be 
able to provide more input.

Regards,

-Jack de Valpine

Per Haugaard wrote:
> Dear users,
>
> I hope this is the correct forum to post this question.
>
> I have run stumble upon a strange problem rendering images with radiance.
>
> I have made a simple file containing the different commands to be 
> executed to render the images/data needed. When I execute this file 
> (source xxx.cal) All the output files have a (?) added to the file 
> type (e.g. grid.xyz? instead of grid.xyz). Furthermore I cannot use \ 
> as line separation in my file anymore.
>
> Does anyone have any experience with these types of errors?
>
>
> Best regards
>
> Per Haugaard
>
>
> ------------------------------------------------------------------------
>
> F? en billig laptop. Se Kelkoos gode tilbud her 
> <http://dk.yahoo.com/r/pat/mm>!
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091008/da239afe/attachment.html
From Christopher.Rush at arup.com  Thu Oct  8 06:27:32 2009
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu Oct  8 06:27:44 2009
Subject: [Radiance-general] Strange filetype naming when redering
	withradiance
In-Reply-To: <336198.48355.qm@web26604.mail.ukl.yahoo.com>
References: <336198.48355.qm@web26604.mail.ukl.yahoo.com>
Message-ID: <EB124710ADB8554C930FADF760BB2BE7062C6E3C@n-yexc01.global.arup.com>

If you have any tendency to share files between platforms check that you
haven't saved your file in a Windows format, where the line ending
characters are saved differently than a Unix type environment where you
may be running your script. If you work on scripts under windows at all
some good programming text editors like Notepad++ have an explicit menu
option to convert between Win/Mac/Unix formats.

 

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Per
Haugaard
Sent: Thursday, October 08, 2009 8:04 AM
To: Radiance Radiance
Subject: [Radiance-general] Strange filetype naming when redering
withradiance

 

Dear users,

I hope this is the correct forum to post this question.

I have run stumble upon a strange problem rendering images with
radiance. 

I have made a simple file containing the different commands to be
executed to render the images/data needed. When I execute this file
(source xxx.cal) All the output files have a (?) added to the file type
(e.g. grid.xyz? instead of grid.xyz). Furthermore I cannot use \ as line
separation in my file anymore.

Does anyone have any experience with these types of errors?


Best regards

Per Haugaard

 

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091008/2e0cecc3/attachment.htm
From perhaugaard at yahoo.dk  Thu Oct  8 06:55:39 2009
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Thu Oct  8 06:55:45 2009
Subject: [Radiance-general] Strange filetype naming when redering with
	radiance
In-Reply-To: <4ACDE66F.3020309@visarc.com>
Message-ID: <687843.45824.qm@web26606.mail.ukl.yahoo.com>

Dear Lars, Jack and users,

I use the bash shell in Ubuntu.

Here is my simple scripting:

## Level 4
## make an illuminumce picture of the plane
cat grids/level_4.xyz | rtrace -I -ab 4 -aa 0.05 -ar 128 -ad 512 -as 256 -x 759 -y 1160 -af ambfiles/df.amb -fac octrees/sav55_DF_LT70-60.oct > images/grid2illum_level_4.pic

## Decrease the size of the picture
pfilt -1 -x /10 -y /10 images/grid2illum_level_4.pic > images/grid2illum_level_4_resized.pic

## calculate the daylight factor for the picture grid2illum_resized.pic
pcomb -e 'lo=li(1)/le(1)/10000*100' images/grid2illum_level_4_resized.pic > images/grid2illum_level_4_resized_df.pic

## falsecolor for the daylight factor picture grid2illum_resized_df.pic
falsecolor -i images/grid2illum_level_4_resized_df.pic -s 11 -n 5.5 -l "DF %" > images/grid2illum_level_4_resized_df_falsecolor.pic

## rm -f images/grid2illum_level_4.pic images/grid2illum_level_4_resized.pic

As mentioned in my prior mail the output of the first command is grid2illum_level_4.pic?

Any ideas? This does not happen when I enter other similar projects.


Best regards

Per

--- Den tors 8/10/09 skrev Jack de Valpine <jedev@visarc.com>:

Fra: Jack de Valpine <jedev@visarc.com>
Emne: Re: [Radiance-general] Strange filetype naming when redering with radiance
Til: perhaugaard@yahoo.dk, "Radiance general discussion" <radiance-general@radiance-online.org>
Dato: torsdag 8. oktober 2009 15.17




  
  
Hi Per,



Can you post the contents of your shell script? That way people might
be able to provide more input.



Regards,



-Jack de Valpine



Per Haugaard wrote:

  
    
      
        Dear users,

        

I hope this is the correct forum to post this question.

        

I have run stumble upon a strange problem rendering images with
radiance. 

        

I have made a simple file containing the different commands to be
executed to render the images/data needed. When I execute this file
(source xxx.cal) All the output files have a (?) added to the file type
(e.g. grid..xyz? instead of grid.xyz). Furthermore I cannot use \ as
line separation in my file anymore.

        

Does anyone have any experience with these types of errors?

        

        

Best regards

        

Per Haugaard

        
      
    
  
  

  

  
    
      
         F? en billig laptop. Se Kelkoos gode tilbud her!
      
    
  
  
_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
  





-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

 



      Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD TV! Se her http://dk.yahoo.com/r/pat/lcd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091008/def3d081/attachment.html
From jedev at visarc.com  Thu Oct  8 07:19:41 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Oct  8 07:19:38 2009
Subject: [Radiance-general] Strange filetype naming when redering with
	radiance
In-Reply-To: <687843.45824.qm@web26606.mail.ukl.yahoo.com>
References: <687843.45824.qm@web26606.mail.ukl.yahoo.com>
Message-ID: <4ACDF4FD.9060301@visarc.com>

Hi Per,

I think that this is probably an issue relating to the scripting and not 
Radiance. I think that first thing to check is if there are carriage 
returns in the file (appearing as ^M), if so these need to be removed. 
What program are you using to create/edit your script? You should make 
sure that the editor is saving the files appropriately for Unix/Linux 
not DOS. You should be able to use the \ to continue a command to the 
next line without any problems....

Also you might want to add:

#!/bin/bash

to the head of your script. Then if you set the script file to be 
executable:

chmod u+x /scriptfilename/

you can run the script simply by typing its name at the command line 
rather than sourcing it.

-Jack


Per Haugaard wrote:
> Dear Lars, Jack and users,
>
> I use the bash shell in Ubuntu.
>
> Here is my simple scripting:
>
> ## Level 4
> ## make an illuminumce picture of the plane
> cat grids/level_4.xyz | rtrace -I -ab 4 -aa 0.05 -ar 128 -ad 512 -as 
> 256 -x 759 -y 1160 -af ambfiles/df.amb -fac 
> octrees/sav55_DF_LT70-60.oct > images/grid2illum_level_4.pic
>
> ## Decrease the size of the picture
> pfilt -1 -x /10 -y /10 images/grid2illum_level_4.pic > 
> images/grid2illum_level_4_resized.pic
>
> ## calculate the daylight factor for the picture grid2illum_resized.pic
> pcomb -e 'lo=li(1)/le(1)/10000*100' 
> images/grid2illum_level_4_resized.pic > 
> images/grid2illum_level_4_resized_df.pic
>
> ## falsecolor for the daylight factor picture grid2illum_resized_df.pic
> falsecolor -i images/grid2illum_level_4_resized_df.pic -s 11 -n 5.5 -l 
> "DF %" > images/grid2illum_level_4_resized_df_falsecolor.pic
>
> ## rm -f images/grid2illum_level_4.pic 
> images/grid2illum_level_4_resized.pic
>
> As mentioned in my prior mail the output of the first command is 
> grid2illum_level_4.pic?
>
> Any ideas? This does not happen when I enter other similar projects.
>
>
> Best regards
>
> Per
>
> --- Den *tors 8/10/09 skrev Jack de Valpine /<jedev@visarc.com>/*:
>
>
>     Fra: Jack de Valpine <jedev@visarc.com>
>     Emne: Re: [Radiance-general] Strange filetype naming when redering
>     with radiance
>     Til: perhaugaard@yahoo.dk, "Radiance general discussion"
>     <radiance-general@radiance-online.org>
>     Dato: torsdag 8. oktober 2009 15.17
>
>     Hi Per,
>
>     Can you post the contents of your shell script? That way people
>     might be able to provide more input.
>
>     Regards,
>
>     -Jack de Valpine
>
>     Per Haugaard wrote:
>>     Dear users,
>>
>>     I hope this is the correct forum to post this question.
>>
>>     I have run stumble upon a strange problem rendering images with
>>     radiance.
>>
>>     I have made a simple file containing the different commands to be
>>     executed to render the images/data needed. When I execute this
>>     file (source xxx.cal) All the output files have a (?) added to
>>     the file type (e.g. grid.xyz? instead of grid.xyz). Furthermore I
>>     cannot use \ as line separation in my file anymore.
>>
>>     Does anyone have any experience with these types of errors?
>>
>>
>>     Best regards
>>
>>     Per Haugaard
>>
>>
>>     ------------------------------------------------------------------------
>>
>>     F? en billig laptop. Se Kelkoos gode tilbud her
>>     <http://dk.yahoo.com/r/pat/mm>!
>>
>>     ------------------------------------------------------------------------
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general@radiance-online.org
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>       
>
>
>     -- 
>     # Jack de Valpine
>     # president
>     #
>     # visarc incorporated
>     # http://www.visarc.com
>     #
>     # channeling technology for superior design and construction
>               
>
>
> ------------------------------------------------------------------------
>
> F? en billig laptop. Se Kelkoos gode tilbud her 
> <http://dk.yahoo.com/r/pat/mm>!
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


From Robert.Guglielmetti at nrel.gov  Thu Oct  8 10:38:57 2009
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu Oct  8 10:38:59 2009
Subject: [Radiance-general] getting irradiance from source defined in
	photometric units
In-Reply-To: <4ACDD260.2060100@gmx.net>
Message-ID: <C6F37FD1.D66%robert.guglielmetti@nrel.gov>

Hi Lars,

lamp.tab provides information to adjust the lamp chromaticity and apply a lamp lumen depreciation factor based on the source type. Up until now, I always thought using -t white for all sources in the scene was safer (OK, easier) because I like to roll in my lamp lumen depreciation factor with all the other things that go into a total light loss factor (LLF). I consider lamp lumen depreciation, luminaire dirt depreciation and room surface dirt depreciation, maintenance factor, and the product of all those is the LLF, which I apply all at once with the -m option of ies2rad. This was my main rationale for using -t white for all sources, but also the distinct coloration of the different sources was a problem. I forgot that you could white balance the image after the fact with pfilt, though, which leads me to my next rabbit hole:

Given that one can do a final white balancing after the fact, it does seem that we should be striving for maximum accuracy with our electric light source descriptions and specifying the lamp type/color. Just playing with the lampcolor script, I get some different luminances by changing the lamp type. I used white, incandescent, and fluorescent, and spread 200 lumens over a 1 meter polygon, and ended up with 63.7, 60.5, and 54.1 cd/m^2 respectively. Since lampcolor uses the same lamp.tab data file as ies2rad does, we can expect similar variation in light sources created using ies2rad and using different lamp types. Seems like a potential for error to me, but then again obtaining accurate CIExy data and lumen maintenance values for all the new lamps coming out seems a bit daunting too. Is this splitting hairs? I'm curious what others in the community are doing in this regard.

--
Robert Guglielmetti  IES, LEED AP
Building Energy Efficiency Engineer
National Renewable Energy Laboratory (NREL)
1617 Cole Blvd, MS-5202
Golden, CO 80401
robert.guglielmetti@nrel.gov
303.275.4319

________________________________
From: "Lars O. Grobe" <grobe@gmx.net>
Reply-To: Radiance general discussion <radiance-general@radiance-online.org>
Date: Thu, 8 Oct 2009 05:52:00 -0600
To: Radiance general discussion <radiance-general@radiance-online.org>
Subject: Re: [Radiance-general] getting irradiance from source defined in photometric units

Jack de Valpine wrote:
> No problem! I just wanted to make sure that I had not missed some
> critical change somewhere along the way....
I hope not ;-) Still, I am not really sure whether I am doing right...
Does anyone know whether the lamp,tab-lookup done by ies2rad also
accounts for the luminous efficacy of a source? This would be required
to get correct radiance values for rgb from the candela-distribution of
a source. I would e.g. assume an efficacy of 100lm/W for my source, and
if ies2rad would use 179 instead, the radiance values in my simulation
would be by far too low...

Cheers, Lars.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From Christopher.Rush at arup.com  Thu Oct  8 11:33:32 2009
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu Oct  8 11:36:18 2009
Subject: [Radiance-general] getting irradiance from source defined
	inphotometric units
In-Reply-To: <C6F37FD1.D66%robert.guglielmetti@nrel.gov>
References: <4ACDD260.2060100@gmx.net>
	<C6F37FD1.D66%robert.guglielmetti@nrel.gov>
Message-ID: <EB124710ADB8554C930FADF760BB2BE7062C715B@n-yexc01.global.arup.com>

Someone please speak up if my understanding is flawed, but ...


> I would e.g. assume an efficacy of 100lm/W for my source, and if
ies2rad
> would use 179 instead, the radiance values in my simulation would be
by
> far too low...

If you're using IES files via ies2rad, the IES files are measured in
candela, and the physically measured values already account for
efficiency of the source from electrical power in - through to the
lighting power out. The factor of 179 is just a conversion from W/m2 to
lumens/m2, as a unit conversion, not an efficiency factor. The source
efficiency is already incorporated into the physical measurements
documented in the IES file.


> I used white, incandescent, and fluorescent, and spread 200 lumens
over
> a 1 meter polygon, and ended up with 63.7, 60.5, and 54.1 cd/m^2
> respectively.

I had understood the factors lamp.tab are mainly intended to account for
lumen depreciation, and just happen to have some color offset included
as part of this. In Rob's tests the decreasing values roughly correspond
to sources with more lumens lost over their life. I think if you test
again with metal halide or mercury you'll find those a little lower
still.

If accurate results are the goal, I would typically use the approach of
specifying everything as white, with my own -m multiplier calculated
from lamp manufacturer maintained lumen data.

> obtaining accurate CIExy data and lumen maintenance values for all the
new
> lamps coming out seems a bit daunting too.

Regarding accuracy of factors in lamp.tab, the values for metal halide
and high pressure sodium seem higher than real world lumen depreciation,
and halogen is defined with a factor of 1, but should still have some
depreciation over time. Considering that these factors vary so much,
particularly between different types of metal halide, this could be
difficult to keep accurate as part of the distribution.

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From tbleicher at googlemail.com  Thu Oct  8 12:25:21 2009
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu Oct  8 12:25:26 2009
Subject: [Radiance-general] Strange filetype naming when redering with 
	radiance
In-Reply-To: <687843.45824.qm@web26606.mail.ukl.yahoo.com>
References: <4ACDE66F.3020309@visarc.com>
	<687843.45824.qm@web26606.mail.ukl.yahoo.com>
Message-ID: <89355c0f0910081225k2b212cebh4e72a80ef6c1ab81@mail.gmail.com>

As others already wrote, this is most likely a problem of the bash in
general not Radiance in particular.
I found this post related to "bash and question mark at end of file name":

http://unix.derkeiler.com/Newsgroups/comp.unix.shell/2006-05/msg00342.html



BTW: According to your script you are calculating a grid of approx. 800000
points to create an image. This image is then filtered down to 1/10 of it's
size (8000 pixels). Couldn't save time and only render every 10th point in
every 10th row in the first place?

Regards,
Thomas



On Thu, Oct 8, 2009 at 2:55 PM, Per Haugaard <perhaugaard@yahoo.dk> wrote:

> Dear Lars, Jack and users,
>
> I use the bash shell in Ubuntu.
>
> Here is my simple scripting:
>
> ## Level 4
> ## make an illuminumce picture of the plane
> cat grids/level_4.xyz | rtrace -I -ab 4 -aa 0.05 -ar 128 -ad 512 -as 256 -x
> 759 -y 1160 -af ambfiles/df.amb -fac octrees/sav55_DF_LT70-60.oct >
> images/grid2illum_level_4.pic
>
> ## Decrease the size of the picture
> pfilt -1 -x /10 -y /10 images/grid2illum_level_4.pic >
> images/grid2illum_level_4_resized.pic
>
> ## calculate the daylight factor for the picture grid2illum_resized.pic
> pcomb -e 'lo=li(1)/le(1)/10000*100' images/grid2illum_level_4_resized.pic >
> images/grid2illum_level_4_resized_df.pic
>
> ## falsecolor for the daylight factor picture grid2illum_resized_df.pic
> falsecolor -i images/grid2illum_level_4_resized_df.pic -s 11 -n 5.5 -l "DF
> %" > images/grid2illum_level_4_resized_df_falsecolor.pic
>
> ## rm -f images/grid2illum_level_4.pic
> images/grid2illum_level_4_resized.pic
>
> As mentioned in my prior mail the output of the first command is
> grid2illum_level_4.pic?
>
> Any ideas? This does not happen when I enter other similar projects.
>
>
> Best regards
>
> Per
>
> --- Den *tors 8/10/09 skrev Jack de Valpine <jedev@visarc.com>*:
>
>
> Fra: Jack de Valpine <jedev@visarc.com>
> Emne: Re: [Radiance-general] Strange filetype naming when redering with
> radiance
> Til: perhaugaard@yahoo.dk, "Radiance general discussion" <
> radiance-general@radiance-online.org>
> Dato: torsdag 8. oktober 2009 15.17
>
> Hi Per,
>
> Can you post the contents of your shell script? That way people might be
> able to provide more input.
>
> Regards,
>
> -Jack de Valpine
>
> Per Haugaard wrote:
>
>   Dear users,
>
> I hope this is the correct forum to post this question.
>
> I have run stumble upon a strange problem rendering images with radiance.
>
> I have made a simple file containing the different commands to be executed
> to render the images/data needed. When I execute this file (source xxx.cal)
> All the output files have a (?) added to the file type (e.g. grid.xyz?
> instead of grid.xyz). Furthermore I cannot use \ as line separation in my
> file anymore.
>
> Does anyone have any experience with these types of errors?
>
>
> Best regards
>
> Per Haugaard
>
> ------------------------------
>
>   F? en billig laptop. Se Kelkoos gode tilbud her<http://dk.yahoo.com/r/pat/mm>
> !
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org <http://mc/compose?to=Radiance-general@radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> --
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
> ------------------------------
>
> F? en billig laptop. Se Kelkoos gode tilbud her<http://dk.yahoo.com/r/pat/mm>
> !
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091008/e946e26c/attachment.htm
From Robert.Guglielmetti at nrel.gov  Thu Oct  8 14:49:42 2009
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu Oct  8 14:49:43 2009
Subject: [Radiance-general] getting irradiance from source defined
	inphotometric units
In-Reply-To: <EB124710ADB8554C930FADF760BB2BE7062C715B@n-yexc01.global.arup.com>
Message-ID: <C6F3BA96.D80%robert.guglielmetti@nrel.gov>

Thanks Chris,

You are right-on, the reductions in luminance I was seeing were directly attributable to the lumen depreciation factors used for each light source. The color shifts are not having a net impact on the photometric values. I looked at five different light sources with lampcolor, converted the rgb radiance to luminance values, and the differences all correlated to the lamp lumen depreciation being applied. Phew.

I will continue using white as a default light source color (and remind myself once again that that lumen depreciation is being applied if I do stray from white!).

- Rob

________________________________
From: Christopher Rush <Christopher.Rush@arup.com>
Reply-To: Radiance general discussion <radiance-general@radiance-online.org>
Date: Thu, 8 Oct 2009 12:33:32 -0600
To: Radiance general discussion <radiance-general@radiance-online.org>
Subject: RE: [Radiance-general] getting irradiance from source defined inphotometric units

Someone please speak up if my understanding is flawed, but ...


> I would e.g. assume an efficacy of 100lm/W for my source, and if
ies2rad
> would use 179 instead, the radiance values in my simulation would be
by
> far too low...

If you're using IES files via ies2rad, the IES files are measured in
candela, and the physically measured values already account for
efficiency of the source from electrical power in - through to the
lighting power out. The factor of 179 is just a conversion from W/m2 to
lumens/m2, as a unit conversion, not an efficiency factor. The source
efficiency is already incorporated into the physical measurements
documented in the IES file.


> I used white, incandescent, and fluorescent, and spread 200 lumens
over
> a 1 meter polygon, and ended up with 63.7, 60.5, and 54.1 cd/m^2
> respectively.

I had understood the factors lamp.tab are mainly intended to account for
lumen depreciation, and just happen to have some color offset included
as part of this. In Rob's tests the decreasing values roughly correspond
to sources with more lumens lost over their life. I think if you test
again with metal halide or mercury you'll find those a little lower
still.

If accurate results are the goal, I would typically use the approach of
specifying everything as white, with my own -m multiplier calculated
from lamp manufacturer maintained lumen data.

> obtaining accurate CIExy data and lumen maintenance values for all the
new
> lamps coming out seems a bit daunting too.

Regarding accuracy of factors in lamp.tab, the values for metal halide
and high pressure sodium seem higher than real world lumen depreciation,
and halogen is defined with a factor of 1, but should still have some
depreciation over time. Considering that these factors vary so much,
particularly between different types of metal halide, this could be
difficult to keep accurate as part of the distribution.

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From rganesh at bluestarindia.com  Fri Oct  9 05:51:08 2009
From: rganesh at bluestarindia.com (Ganesh)
Date: Fri Oct  9 05:53:10 2009
Subject: [Radiance-general] Using dayfact Script
Message-ID: <1255092668.30189.11.camel@rganesh-laptop>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: InputFiles.tar.gz
Type: application/x-compressed-tar
Size: 855 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20091009/1afaef76/InputFiles.tar.bin
From gregoryjward at gmail.com  Fri Oct  9 08:48:04 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Oct  9 08:48:13 2009
Subject: [Radiance-general] Using dayfact Script
In-Reply-To: <1255092668.30189.11.camel@rganesh-laptop>
References: <1255092668.30189.11.camel@rganesh-laptop>
Message-ID: <DD4D9B79-392E-497B-9EE6-8ECE7ABBFE68@lmi.net>

Hi Ganesh,

The key to your problem is written in the last line of the script  
output -- apparently, your version of Unix lacks a "mail" command, so  
you didn't get any notification.  I expect your results are sitting in  
the file you named in the working directory.  Did you check?  The  
ximage command may be used to display it.

Cheers,
-Greg

> From: Ganesh <rganesh@bluestarindia.com>
> Date: October 9, 2009 5:51:08 AM PDT
>
> Dear Radiance Users,
>
> I am beginner in radiance am I am trying to use dayfact script to  
> create illuminance plot for a simple room. When I run the dayfact  
> script with the inputs given below  no contour plots were created  
> and no error message was shown. I request to guide me in getting the  
> plots.
>
> Input for dayfact script is below and the room description is  
> attached with the mail.
>
> DAYLIGHT FACTOR CALCULATION
>
> This script calculates daylight factors, illuminance levels, and/or
> energy savings due to daylight on a rectangular workplane and produces
> a contour plot from the result.  The input is a Radiance scene  
> description
> (and octree) and the output is one or more color Radiance pictures.
>
> Have you already calculated an illuminance picture using dayfact?
> Enter illumpic [none]:
> Enter octree [none]: room.oct
> Is the z-axis your zenith direction? y
> What is the origin (smallest x y z coordinates) of the workplane?
> Enter wporig [0 0 0]: 0 0 1
> What is the x and y size (width and length) of the workplane?
> Enter wpsize [1 1]: 3 3
> What calculation options do you want to give to rtrace?
> (It is very important to set the -a* options correctly.)
> Enter rtargs [-ab 1 -ad 256 -as 128 -aa .15 -av .3 .3 .3 -ar 13]:
> Do you want to save the illuminance picture for later runs?
> Enter illumpic [none]: RoomIlPic.pic
> In what scene file is the gensky command located?
> Enter genskyf [none]: skies/sky_overcast.mat
> # gensky 11 21 12:00 -a 51 -o 0 -m 0 -c
> # gensky 11 21 12:00 -a 51 -o 0 -m 0 -c
> Illuminance contour picture if you want one
> Enter ilpict [none]: RmIlCont.pic
> Daylight factor contour picture if you want one
> Enter dfpict [none]: RmDF.pic
> Energy savings contour picture if you want one
> Enter dspict [none]: RmES.pic
> Workplane design level (lux)
> Enter designlvl [500]:
> Title for output picture
> Enter title [room 11 21 12]: Rmouptput.pic
> [1] 30406 30411
> Your job is started in the background.
> You will be notified by mail when it is done.
> mail: Command not found.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091009/956b40f1/attachment.htm
From rganesh at bluestarindia.com  Fri Oct  9 23:33:36 2009
From: rganesh at bluestarindia.com (R Ganesh)
Date: Fri Oct  9 23:36:10 2009
Subject: [Radiance-general] Using dayfact Script
References: <1255092668.30189.11.camel@rganesh-laptop>
	<DD4D9B79-392E-497B-9EE6-8ECE7ABBFE68@lmi.net>
Message-ID: <80DDCC80211A7A41B4B36F4C6737497F0134EE2C@BANMailSrv.bluestarindia.com>

Hi Greg,

 

I checked in the working directory there was no plots created. The file
name which was given for illumination plot was present in the directory
but its size was 0 bytes no other picture files were present in the
directory. Is there any other way to check dayfact script in my
computer.

I use default shell in ubuntu 8.1 i.e. bash for running the script. I am
currently running binaries radiance V3.9 distributed with ubuntu 8.1.

 

Regards

Ganesh.

 

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Greg
Ward
Sent: Friday, October 09, 2009 9:18 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Using dayfact Script

 

Hi Ganesh,

 

The key to your problem is written in the last line of the script output
-- apparently, your version of Unix lacks a "mail" command, so you
didn't get any notification.  I expect your results are sitting in the
file you named in the working directory.  Did you check?  The ximage
command may be used to display it.

 

Cheers,

-Greg





From: Ganesh <rganesh@bluestarindia.com>

Date: October 9, 2009 5:51:08 AM PDT

 

	Dear Radiance Users,
	
	I am beginner in radiance am I am trying to use dayfact script
to create illuminance plot for a simple room. When I run the dayfact
script with the inputs given below  no contour plots were created and no
error message was shown. I request to guide me in getting the plots.
	
	Input for dayfact script is below and the room description is
attached with the mail.
	
	DAYLIGHT FACTOR CALCULATION
	
	This script calculates daylight factors, illuminance levels,
and/or
	energy savings due to daylight on a rectangular workplane and
produces
	a contour plot from the result.  The input is a Radiance scene
description
	(and octree) and the output is one or more color Radiance
pictures.
	
	Have you already calculated an illuminance picture using
dayfact?
	Enter illumpic [none]: 
	Enter octree [none]: room.oct
	Is the z-axis your zenith direction? y
	What is the origin (smallest x y z coordinates) of the
workplane?
	Enter wporig [0 0 0]: 0 0 1
	What is the x and y size (width and length) of the workplane?
	Enter wpsize [1 1]: 3 3
	What calculation options do you want to give to rtrace?
	(It is very important to set the -a* options correctly.)
	Enter rtargs [-ab 1 -ad 256 -as 128 -aa .15 -av .3 .3 .3 -ar
13]: 
	Do you want to save the illuminance picture for later runs?
	Enter illumpic [none]: RoomIlPic.pic
	In what scene file is the gensky command located?
	Enter genskyf [none]: skies/sky_overcast.mat
	# gensky 11 21 12:00 -a 51 -o 0 -m 0 -c
	# gensky 11 21 12:00 -a 51 -o 0 -m 0 -c
	Illuminance contour picture if you want one
	Enter ilpict [none]: RmIlCont.pic
	Daylight factor contour picture if you want one
	Enter dfpict [none]: RmDF.pic
	Energy savings contour picture if you want one
	Enter dspict [none]: RmES.pic
	Workplane design level (lux)
	Enter designlvl [500]: 
	Title for output picture
	Enter title [room 11 21 12]: Rmouptput.pic
	[1] 30406 30411
	Your job is started in the background.
	You will be notified by mail when it is done.
	mail: Command not found. 

	 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091010/d71e34b7/attachment.html
From grobe at gmx.net  Sat Oct 10 09:01:48 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat Oct 10 09:02:09 2009
Subject: [Radiance-general] getting irradiance from source
	defined	inphotometric units
In-Reply-To: <C6F3BA96.D80%robert.guglielmetti@nrel.gov>
References: <C6F3BA96.D80%robert.guglielmetti@nrel.gov>
Message-ID: <4AD0AFEC.4080409@gmx.net>

Hi!

> I will continue using white as a default light source color

Hm, would that reflect the photometry to radiometry conversion in the
case of a source with line spectrum? I would have usually done the same,
and used a WHITE keyword in my IES. However, I am not sure about the
conversion of a source with a non continous spectrum to radiometric
units (which is what I need). I had been hoping that the lamp-lookup in
ies2rad might care about this.

Cheers, Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20091011/6398b5e4/smime.bin
From gregoryjward at gmail.com  Sat Oct 10 11:55:25 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat Oct 10 11:55:27 2009
Subject: [Radiance-general] Using dayfact Script
In-Reply-To: <80DDCC80211A7A41B4B36F4C6737497F0134EE2C@BANMailSrv.bluestarindia.com>
References: <1255092668.30189.11.camel@rganesh-laptop>
	<DD4D9B79-392E-497B-9EE6-8ECE7ABBFE68@lmi.net>
	<80DDCC80211A7A41B4B36F4C6737497F0134EE2C@BANMailSrv.bluestarindia.com>
Message-ID: <1EEC38D8-68EB-4A30-B7E0-6A053843C5AC@lmi.net>

Hi Ganesh,

That must mean that the job died because "mail" couldn't be found.   
So, just alter the last lines of the script by replacing the lines  
after "echo 'rm -r $td' >> $sctemp" in dayfact to:

source sctemp

It will then run the job in the foreground and you'll get the prompt  
back when it's done.

-Greg

> From: "R Ganesh" <rganesh@bluestarindia.com>
> Date: October 9, 2009 11:33:36 PM PDT
>
> Hi Greg,
>
> I checked in the working directory there was no plots created. The  
> file name which was given for illumination plot was present in the  
> directory but its size was 0 bytes no other picture files were  
> present in the directory. Is there any other way to check dayfact  
> script in my computer.
>
> I use default shell in ubuntu 8.1 i.e. bash for running the script.  
> I am currently running binaries radiance V3.9 distributed with  
> ubuntu 8.1.
>
> Regards
>
> Ganesh.
>
>

From gregoryjward at gmail.com  Sat Oct 10 12:04:01 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat Oct 10 12:04:01 2009
Subject: [Radiance-general] Using dayfact Script
In-Reply-To: <1EEC38D8-68EB-4A30-B7E0-6A053843C5AC@lmi.net>
References: <1255092668.30189.11.camel@rganesh-laptop>
	<DD4D9B79-392E-497B-9EE6-8ECE7ABBFE68@lmi.net>
	<80DDCC80211A7A41B4B36F4C6737497F0134EE2C@BANMailSrv.bluestarindia.com>
	<1EEC38D8-68EB-4A30-B7E0-6A053843C5AC@lmi.net>
Message-ID: <1563E820-E4F1-4AFF-87DF-83988006CEAE@lmi.net>

Somehow, I lost the dollar sign on $srctemp in my single line of code,  
bringing up the old Unix fortune:

"Every program has at least one bug and can be shortened by at least  
one instruction -- from which, by induction, one can deduce that every  
program can be reduced to one instruction which doesn't work." (Author  
Unknown)

-Greg

> From: Greg Ward <gregoryjward@gmail.com>
> Date: October 10, 2009 11:55:25 AM PDT
>
> Hi Ganesh,
>
> That must mean that the job died because "mail" couldn't be found.   
> So, just alter the last lines of the script by replacing the lines  
> after "echo 'rm -r $td' >> $sctemp" in dayfact to:
>
> source sctemp
>
> It will then run the job in the foreground and you'll get the prompt  
> back when it's done.
>
> -Greg

From Robert.Guglielmetti at nrel.gov  Sun Oct 11 11:15:50 2009
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Sun Oct 11 12:04:58 2009
Subject: [Radiance-general] getting irradiance from source	defined
	inphotometric units
In-Reply-To: <4AD0AFEC.4080409@gmx.net>
References: <C6F3BA96.D80%robert.guglielmetti@nrel.gov>,
	<4AD0AFEC.4080409@gmx.net>
Message-ID: <DF4A9C5A0CC2DF438AC1834530C59EE008269E0FD5@MAILBOX1.nrel.gov>

Hi Lars,

I'm a little hazy on a couple of your questions. When you say "used a WHITE keyword in your IES", do you mean using the "-t white" option in your ies2rad command, or actually adding a keyword to the ies file? Because ies2rad ignores the keywords in the ies file (as well as # of lamps and lumens/lamp entries); it simply reads the luminous distribution and intensity and makes an appropriate .rad and .dat file set for use in Radiance. 

Now, what do you mean by "line spectrum"? Christopher gave a good summary of the issues with using ies data to create valid radiometric light source descriptions with ies2rad. In short, source efficacy was already taken care of when the luminaire was photometered, since the measured data is in photometric units (cd). ies2rad merely translates the candela values from the ies file to correct rgb radiance values for use in Radiance. As I mentioned, I did a quick test with different sources from lamp.tab, and the radiance values spit out by lampcolor, when weighted by V lambda, were different, but the differences exactly matched the lumen depreciation factor applied for that particular light source (as defined in lamp.tab).

I guess I'm mainly concerned with photometric quantities so I may be misunderstanding your concern. What exactly are you trying to model?

- Rob

________________________________________
From: radiance-general-bounces@radiance-online.org [radiance-general-bounces@radiance-online.org] On Behalf Of Lars O. Grobe [grobe@gmx.net]
Sent: Saturday, October 10, 2009 10:01 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] getting irradiance from source  defined inphotometric units

Hi!

> I will continue using white as a default light source color

Hm, would that reflect the photometry to radiometry conversion in the
case of a source with line spectrum? I would have usually done the same,
and used a WHITE keyword in my IES. However, I am not sure about the
conversion of a source with a non continous spectrum to radiometric
units (which is what I need). I had been hoping that the lamp-lookup in
ies2rad might care about this.

Cheers, Lars.

From jacobs.axel at gmail.com  Sun Oct 11 15:37:02 2009
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Sun Oct 11 15:31:01 2009
Subject: [Radiance-general] rsensor file format
Message-ID: <4AD25E0E.10900@gmail.com>

I have just measured the spatial response of some of our photocells and 
discovered some rather serious deviations from the standard cosine response.

I am looking at the new rsensor tool to model this response, so I can 
estimate the errors compared to a proper cosine-corrected cell for 
certain configurations. However, the sensor format is not entirely clear 
to me.

a) What are the units in the sensor file? Is it normalised to anything? 
An IES data file, for instance is normalised to 1000lm.

b) What would the sensor file for a normal, cosine corrected illuminance 
meter look like? Does it need to have its maximum at 1.0 for an angle of 
(0,0)?

c) Suppose I wanted to model an illuminance meter that has a correct 
cosine response, but gives a reading twice as high as is should be. 
Would I need to multiply the values from b) by the cube root of 2? Cube 
root because the overall response appears to be proportional to the 
volume contained within the 3d shape of the curves.

d) After a bit of googling around, I found this page:
http://www.lightingresearch.org/programs/nlpip/publicationdetails.asp?ID=916&type=1

Which appears to be the photosensor report referred to on the SPOT web 
site. The NLPIP don't seem to make suggestions about the actual file 
format for electronically transmitting the spacial response (or any 
other photocell characteristics for that matter). I am therefore 
wondering why the rsensor data file is what it is. It seems that the 
standard Radiance data file would have been sufficient to describe the 
sensor's characteristics. What is the advantage of using the SPOT 
format? Why not have a spot2rad (similar to ies2rad) import filter instead?

Example:

The example from the rsensor man page:
degrees   0    90   180  270
0    .02  .04  .02  .04
45   .01  .02  .01  .02
90   .001 .002 .001 .002

As a Radiance dat file, this would look like (I think):
2
0 270 4
0 90 3
.02 .04 .02 .04
.01 .02 .01 .02
.001 .002 .001 .002

Many thanks for sharing your thoughts

Axel

From tbleicher at googlemail.com  Mon Oct 12 01:36:48 2009
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Mon Oct 12 01:36:52 2009
Subject: [Radiance-general] getting irradiance from source defined 
	inphotometric units
In-Reply-To: <DF4A9C5A0CC2DF438AC1834530C59EE008269E0FD5@MAILBOX1.nrel.gov>
References: <C6F3BA96.D80%robert.guglielmetti@nrel.gov>
	<4AD0AFEC.4080409@gmx.net>
	<DF4A9C5A0CC2DF438AC1834530C59EE008269E0FD5@MAILBOX1.nrel.gov>
Message-ID: <89355c0f0910120136o456776c7o630bd12f16734f79@mail.gmail.com>

Hi Rob.

On Sun, Oct 11, 2009 at 7:15 PM, Guglielmetti, Robert
<Robert.Guglielmetti@nrel.gov> wrote:
> Hi Lars,
>
> I'm a little hazy on a couple of your questions. When you say "used a WHITE keyword in your IES", do you mean using the "-t white" option in your ies2rad command, or actually adding a keyword to the ies file? Because ies2rad ignores the keywords in the ies file

That's not quite correct. ies2rad looks at the [LAMP] entry and
tries to match an entry in lamp.tab to the string found. Mostly
that doesn't work because there is no standard in naming lamp
sources. The few matches I remember were accidental.

It's better to specify the lamp type on the command line even
if you're not actually interested in the light color. I even thought
about patching ies2rad to make the WHITE type the default and
skip the lookup altogether. That would garantee a predictable
conversion.

Regards,
Thomas

From Robert.Guglielmetti at nrel.gov  Mon Oct 12 08:15:50 2009
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon Oct 12 08:15:51 2009
Subject: [Radiance-general] getting irradiance from source defined
	inphotometric units
In-Reply-To: <89355c0f0910120136o456776c7o630bd12f16734f79@mail.gmail.com>
Message-ID: <C6F8A446.DD6%robert.guglielmetti@nrel.gov>

Hi Thomas,

Two words: "my bad". You are absolutely correct; if left to its own devices, ies2rad will scan the header lines for a lamp type and look for a match in the lamp.tab. Sorry about that! I guess I forgot about that option because it seemed so random I never understood why anyone would want to leave it up to such a potentially unreliable method, and have defaulted to using the -t option to explicitly specify my lamp types. Indeed, Greg notes in the manpage, regarding the whole [LAMP] header:

"This method of assigning colors to fixtures is less than perfect, and the IES would do  well to  include  explicit  spectral information somehow in their specification."

In any event, I apologize for the mis-information. If you ask me, I feel like this is one more reason to always use the -t option.


________________________________
From: Thomas Bleicher <tbleicher@googlemail.com>
Reply-To: Radiance general discussion <radiance-general@radiance-online.org>
Date: Mon, 12 Oct 2009 02:36:48 -0600
To: Radiance general discussion <radiance-general@radiance-online.org>
Subject: Re: [Radiance-general] getting irradiance from source defined  inphotometric units

Hi Rob.

On Sun, Oct 11, 2009 at 7:15 PM, Guglielmetti, Robert
<Robert.Guglielmetti@nrel.gov> wrote:
> Hi Lars,
>
> I'm a little hazy on a couple of your questions. When you say "used a WHITE keyword in your IES", do you mean using the "-t white" option in your ies2rad command, or actually adding a keyword to the ies file? Because ies2rad ignores the keywords in the ies file

That's not quite correct. ies2rad looks at the [LAMP] entry and
tries to match an entry in lamp.tab to the string found. Mostly
that doesn't work because there is no standard in naming lamp
sources. The few matches I remember were accidental.

It's better to specify the lamp type on the command line even
if you're not actually interested in the light color. I even thought
about patching ies2rad to make the WHITE type the default and
skip the lookup altogether. That would garantee a predictable
conversion.

Regards,
Thomas

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From Jennifer.Scheib at nrel.gov  Mon Oct 12 12:37:01 2009
From: Jennifer.Scheib at nrel.gov (Scheib, Jennifer)
Date: Mon Oct 12 12:37:04 2009
Subject: [Radiance-general] rsensor file format
In-Reply-To: <4AD25E0E.10900@gmail.com>
References: <4AD25E0E.10900@gmail.com>
Message-ID: <91E51F7F4028B54D81D0032C591A222235EFD707F4@MAILBOX1.nrel.gov>

Hi Axel,

This is a timely question. Zack and I are going to give a review of rsensor at the Radiance Workshop and I need to refresh on these issues anyway. SPOT includes spatial sensitivity files for the sensors tested in the NLPIP report you referenced, so you can download the program and take a look at the files and implementation - if you haven't already. 

Answers to your specific questions:

a) and b) For the comparison you want to do, the values would be relative sensitivity - relative to a cosine response with maximum of 1 as you described. This would allow the result with a cosine distribution to be computed as illuminance depending on parameters and the result with any other file to be "signal" relative to illuminance. For the NLPIP report, the zero azimuthal direction (view up vector) coincides with a prominent feature on the photocell housing, such as an arrow. This is probably not clear for all sensors tested.

c)I might be misunderstanding the question but you should just multiply the sensitivity values by 2 if you want double the signal. This will increase the volume by 2^3 but is not used to scale the sensitivity file. 

remainder) Good point about file format. I think the answer is that Greg developed rsensor for AEC/SPOT and AEC received the sensitivity files from the LRC in the format shown in the manpage. So it is not really a SPOT format as much as it is testing output. Ian Ashdown is proposing an extension to IESNA LM-74-05 to give a formal definition for photosensor test reporting. I am unsure of the status of this right now. Assuming this gets published then maybe a parallel or extension to ies2rad makes sense. Other comments, Zack or Greg? 


I hope this is helpful,

Jennifer

-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Axel Jacobs
Sent: Sunday, October 11, 2009 4:37 PM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] rsensor file format

I have just measured the spatial response of some of our photocells and 
discovered some rather serious deviations from the standard cosine response.

I am looking at the new rsensor tool to model this response, so I can 
estimate the errors compared to a proper cosine-corrected cell for 
certain configurations. However, the sensor format is not entirely clear 
to me.

a) What are the units in the sensor file? Is it normalised to anything? 
An IES data file, for instance is normalised to 1000lm.

b) What would the sensor file for a normal, cosine corrected illuminance 
meter look like? Does it need to have its maximum at 1.0 for an angle of 
(0,0)?

c) Suppose I wanted to model an illuminance meter that has a correct 
cosine response, but gives a reading twice as high as is should be. 
Would I need to multiply the values from b) by the cube root of 2? Cube 
root because the overall response appears to be proportional to the 
volume contained within the 3d shape of the curves.

d) After a bit of googling around, I found this page:
http://www.lightingresearch.org/programs/nlpip/publicationdetails.asp?ID=916&type=1

Which appears to be the photosensor report referred to on the SPOT web 
site. The NLPIP don't seem to make suggestions about the actual file 
format for electronically transmitting the spacial response (or any 
other photocell characteristics for that matter). I am therefore 
wondering why the rsensor data file is what it is. It seems that the 
standard Radiance data file would have been sufficient to describe the 
sensor's characteristics. What is the advantage of using the SPOT 
format? Why not have a spot2rad (similar to ies2rad) import filter instead?

Example:

The example from the rsensor man page:
degrees   0    90   180  270
0    .02  .04  .02  .04
45   .01  .02  .01  .02
90   .001 .002 .001 .002

As a Radiance dat file, this would look like (I think):
2
0 270 4
0 90 3
.02 .04 .02 .04
.01 .02 .01 .02
.001 .002 .001 .002

Many thanks for sharing your thoughts

Axel

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From gregoryjward at gmail.com  Mon Oct 12 10:24:19 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Oct 12 14:53:38 2009
Subject: [Radiance-general] rsensor file format
In-Reply-To: <4AD25E0E.10900@gmail.com>
References: <4AD25E0E.10900@gmail.com>
Message-ID: <B17C2AD6-6B10-4E58-A077-1BFFDC0DFFCC@lmi.net>

Hi Axel,

Good questions about rsensor.  I'll answer as I'm able inline...

> I am looking at the new rsensor tool to model this response, so I  
> can estimate the errors compared to a proper cosine-corrected cell  
> for certain configurations. However, the sensor format is not  
> entirely clear to me.
>
> a) What are the units in the sensor file? Is it normalised to  
> anything? An IES data file, for instance is normalised to 1000lm.

The sensor file is normalized to 1.0 in arbitrary "response" units.   
Think of it as a multiplier on the incoming radiance value in each  
direction.

> b) What would the sensor file for a normal, cosine corrected  
> illuminance meter look like? Does it need to have its maximum at 1.0  
> for an angle of (0,0)?

Yes to the second question, with 90 degrees being the maximum polar  
angle, whose value is zero at all azimuths.  For this distribution,  
rsensor will produce horizontal irradiance in watts/m^2, which  
converts to lux using the standard 179 multiplier.  A uniform sky of  
100 watts/sr/m^2 would produce a value of 314.16 watts/m^2, or 56235  
lux, for example.

> c) Suppose I wanted to model an illuminance meter that has a correct  
> cosine response, but gives a reading twice as high as is should be.  
> Would I need to multiply the values from b) by the cube root of 2?  
> Cube root because the overall response appears to be proportional to  
> the volume contained within the 3d shape of the curves.

It should be a simple proportion, so multiplying all values by 2.0  
should give you what you expect.  I just confirmed that it works that  
way.

> d) After a bit of googling around, I found this page:
> http://www.lightingresearch.org/programs/nlpip/publicationdetails.asp?ID=916&type=1
>
> Which appears to be the photosensor report referred to on the SPOT  
> web site. The NLPIP don't seem to make suggestions about the actual  
> file format for electronically transmitting the spacial response (or  
> any other photocell characteristics for that matter). I am therefore  
> wondering why the rsensor data file is what it is. It seems that the  
> standard Radiance data file would have been sufficient to describe  
> the sensor's characteristics. What is the advantage of using the  
> SPOT format? Why not have a spot2rad (similar to ies2rad) import  
> filter instead?

As I understand it, SPOT is an Excel-based program, so putting the  
data in a format that isn't Excel-friendly didn't really suit Zack  
Rogers and the other developers.  Charles Ehrlich had written an  
earlier equivalent to rsensor that already used this data format, and  
since ArchEnergy hired me to develop a more efficient approach, they  
had the prerogative to specify the input and output.

I hope this helps!
-Greg

From jacobs.axel at gmail.com  Mon Oct 12 16:34:45 2009
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Mon Oct 12 16:28:42 2009
Subject: [Radiance-general] Re: rsensor file format
In-Reply-To: <4ad37ce7.180bca0a.779e.171dSMTPIN_ADDED@mx.google.com>
References: <4ad37ce7.180bca0a.779e.171dSMTPIN_ADDED@mx.google.com>
Message-ID: <4AD3BD15.9070203@gmail.com>

Dear Greg, Jennifer,

 > The sensor file is normalized to 1.0 in arbitrary "response" units.
 > Think of it as a multiplier on the incoming radiance value in each
 > direction.

So I shouldn't think of it as an 'inverse' IES file, then. I've just run 
some simple examples with an ideal cosine data file, and the results do 
match the one I get from rtrace. Multiplying each value in the matrix 
with 2.0 gives me twice the illuminance.

I guess that the real question should be 'what do these sensors actually 
measure?'. It's not lux, because for this they would have to be cosine 
and v(lamda) corrected, which one could expect from a 500 Pound lux 
meter, but not from a 5 Pound sensor. I guess it all boils down to the 
commissioning of the sensors. The only thing we can say with certainty 
is that they measure 'some sort of radiation thing', which is different 
in different directions.

So is it correct to assume that SPOT only uses the relative response 
from the photocells, and not absolute W/m2 or lux values?

 >> b) What would the sensor file for a normal, cosine corrected
 >> illuminance meter look like? Does it need to have its maximum
 >> at 1.0 for an angle of (0,0)?

 > Yes to the second question, with 90 degrees being the maximum polar
 > angle, whose value is zero at all azimuths.  For this distribution,
 > rsensor will produce horizontal irradiance in watts/m^2, which
 > converts to lux using the standard 179 multiplier.  A uniform sky of
 > 100 watts/sr/m^2 would produce a value of 314.16 watts/m^2, or 56235
 > lux, for example.

Here is my own cunningly crafted cosine response. Just one column of 
azimuth values at zero degrees wouldn't work:

degrees	0	90	180	270
0	1.0000	1.0000	1.0000	1.0000
10	0.9848	0.9848	0.9848	0.9848
20	0.9397	0.9397	0.9397	0.9397
30	0.8660	0.8660	0.8660	0.8660
40	0.7660	0.7660	0.7660	0.7660
50	0.6428	0.6428	0.6428	0.6428
60	0.5000	0.5000	0.5000	0.5000
70	0.3420	0.3420	0.3420	0.3420
80	0.1736	0.1736	0.1736	0.1736
90	0.0000	0.0000	0.0000	0.0000

Does rsensor use a linear interpolation to fill in in-between rows?

 >> c) Suppose I wanted to model an illuminance meter that has
 >> a correct cosine response, but gives a reading twice as high as
 >> is should be.
 >> Would I need to multiply the values from b) by the cube root of 2?
 >> Cube root because the overall response appears to be proportional
 >> to the volume contained within the 3d shape of the curves.

 > It should be a simple proportion, so multiplying all values by 2.0
 > should give you what you expect.  I just confirmed that it works
 > that way.

I am still puzzled that the response is not proportional to the volume 
of the shape, or at least the area of the curve. Guess that's just the 
way it is, and there isn't really any strict photometric or radiometric 
reason behind this...

 >> It seems that the
 >> standard Radiance data file would have been sufficient to describe
 >> the sensor's characteristics. What is the advantage of using the
 >> SPOT format? Why not have a spot2rad (similar to ies2rad) import
 >> filter instead?

 > As I understand it, SPOT is an Excel-based program, so putting the
 > data in a format that isn't Excel-friendly didn't really suit Zack
 > Rogers and the other developers.  Charles Ehrlich had written an
 > earlier equivalent to rsensor that already used this data format,
 > and since ArchEnergy hired me to develop a more efficient approach,
 > they had the prerogative to specify the input and output.

This makes perfect sense now.

----------------

 > so you can download the program and take a look at the files
 > and implementation - if you haven't already.

It requires Windows and Excel, and while I have access to a Windows 
machine, I don't have Excel. Do you plan on making it cross-platform and 
OpenOffice compatible?

 > c)I might be misunderstanding the question but you should just
 > multiply the sensitivity values by 2 if you want double the signal.
 > This will increase the volume by 2^3 but is not used to scale the
 > sensitivity file.

Greg explained this, thanks. I understand it's all relative.

Thank you

Axel

From victorpermanent at gmail.com  Mon Oct 12 18:55:54 2009
From: victorpermanent at gmail.com (Victor Li)
Date: Mon Oct 12 18:55:55 2009
Subject: [Radiance-general] glass diffuser?
Message-ID: <be3956780910121855p569a7dd7i2a520846a6ccb051@mail.gmail.com>

Hello everyone:

I am wondering that is there a kind of glass which can allow more light
transmit into internal space and can diffuse the transmitted light,
especially sunlight, to avoid glare?

By the way, How can i difine the property of this glass in Radiance?

Is any one can help me?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091013/ed086dc3/attachment.html
From grobe at gmx.net  Mon Oct 12 19:06:18 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon Oct 12 19:06:25 2009
Subject: [Radiance-general] glass diffuser?
In-Reply-To: <be3956780910121855p569a7dd7i2a520846a6ccb051@mail.gmail.com>
References: <be3956780910121855p569a7dd7i2a520846a6ccb051@mail.gmail.com>
Message-ID: <4AD3E09A.6060108@gmx.net>

Hi Victor!

> I am wondering that is there a kind of glass which can allow more light 
> transmit into internal space and can diffuse the transmitted light, 
> especially sunlight, to avoid glare?

There are lots of such products. What you describe would lead to frosted 
glass, which can be describes in Radiance using the trans modifier. In 
most cases, one would use clear glass, acrylic, polycarbonat with a 
structure to scatter or redirect light. This has the advantage that 
unlike diffuse materials, which also reflect back light to the outside, 
with clear geometry you can still make sure that the light enters your room.

Cheers

Lars.

From victorpermanent at gmail.com  Mon Oct 12 19:33:29 2009
From: victorpermanent at gmail.com (Victor Li)
Date: Mon Oct 12 19:33:31 2009
Subject: [Radiance-general] glass diffuser?
In-Reply-To: <4AD3E09A.6060108@gmx.net>
References: <be3956780910121855p569a7dd7i2a520846a6ccb051@mail.gmail.com>
	<4AD3E09A.6060108@gmx.net>
Message-ID: <be3956780910121933r35aad336j4f344dd89fe44770@mail.gmail.com>

Thank you very much!

frosted glass can scatter sunlight to avoid glare buy it would  have lower
transmittance.

You just mentioned a structure with clear glass, acrylic, polycarbonat. I am
wondering what kind of structure it is and is any product in the market?

i am using Desktop Radiance. How can i difine this kind of property in
Desktop radiance?

By the way i am wondering, Radiance for UNIX and Desktop Radiance which one
is more popular and more people use?





2009/10/13 Lars O. Grobe <grobe@gmx.net>

> Hi Victor!
>
>  I am wondering that is there a kind of glass which can allow more light
>> transmit into internal space and can diffuse the transmitted light,
>> especially sunlight, to avoid glare?
>>
>
> There are lots of such products. What you describe would lead to frosted
> glass, which can be describes in Radiance using the trans modifier. In most
> cases, one would use clear glass, acrylic, polycarbonat with a structure to
> scatter or redirect light. This has the advantage that unlike diffuse
> materials, which also reflect back light to the outside, with clear geometry
> you can still make sure that the light enters your room.
>
> Cheers
>
> Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091013/4c8afd50/attachment.htm
From Jennifer.Scheib at nrel.gov  Mon Oct 12 19:39:59 2009
From: Jennifer.Scheib at nrel.gov (Scheib, Jennifer)
Date: Mon Oct 12 19:40:01 2009
Subject: [Radiance-general] Re: rsensor file format
In-Reply-To: <4AD3BD15.9070203@gmail.com>
References: <4ad37ce7.180bca0a.779e.171dSMTPIN_ADDED@mx.google.com>
	<4AD3BD15.9070203@gmail.com>
Message-ID: <91E51F7F4028B54D81D0032C591A222235EFD707FF@MAILBOX1.nrel.gov>

Hello again,

Yes, what the sensor measures is an interesting question, especially since many manufacturers state that their product reads illuminance when it clearly does not. I do not know if this is a big deal for annual energy simulation or commissioning as long as there is a setpoint that allows the photosensor to track workplane illuminance throughout the year. I think it is usually hard to find such a setpoint though, whether it is a cosine response or 'some sort of radiation' signal.  

SPOT does allow you to assess the situation (photosensor spatial response, location, etc.) in the design stage by relating signal setpoint (user input) to signal received (rsensor results) and showing the resulting annual workplane illuminance. Illuminance at the sensor, instead of sensor signal, is used to give a commissioning report at the end of a SPOT project. The report assumes a diffuse lighting condition can be created in the space where commissioning will take place.  This is because the ratio of illuminance to signal is taken from rtrace and rsensor calcs with just a CIE overcast sky. Oh, and another photocell characteristic to consider is wavelength sensitivity - SPOT does not do this but could cause a larger impact than the spatial distribution in some cases.

I don't know about making SPOT cross-platform, Zack Rogers might be able to answer that. There are some cross-platform python scripts with the download that you might find useful. 

It seems to me that rsensor uses a step function to determine which sensitivity value to use but maybe Greg can straighten me out on this too or explain more. 

Also, I apologize for the repetitive post earlier. I did not see Greg's until later. Thanks! Jennifer

-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Axel Jacobs
Sent: Monday, October 12, 2009 5:35 PM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Re: rsensor file format

Dear Greg, Jennifer,

 > The sensor file is normalized to 1.0 in arbitrary "response" units.
 > Think of it as a multiplier on the incoming radiance value in each
 > direction.

So I shouldn't think of it as an 'inverse' IES file, then. I've just run 
some simple examples with an ideal cosine data file, and the results do 
match the one I get from rtrace. Multiplying each value in the matrix 
with 2.0 gives me twice the illuminance.

I guess that the real question should be 'what do these sensors actually 
measure?'. It's not lux, because for this they would have to be cosine 
and v(lamda) corrected, which one could expect from a 500 Pound lux 
meter, but not from a 5 Pound sensor. I guess it all boils down to the 
commissioning of the sensors. The only thing we can say with certainty 
is that they measure 'some sort of radiation thing', which is different 
in different directions.

So is it correct to assume that SPOT only uses the relative response 
from the photocells, and not absolute W/m2 or lux values?

 >> b) What would the sensor file for a normal, cosine corrected
 >> illuminance meter look like? Does it need to have its maximum
 >> at 1.0 for an angle of (0,0)?

 > Yes to the second question, with 90 degrees being the maximum polar
 > angle, whose value is zero at all azimuths.  For this distribution,
 > rsensor will produce horizontal irradiance in watts/m^2, which
 > converts to lux using the standard 179 multiplier.  A uniform sky of
 > 100 watts/sr/m^2 would produce a value of 314.16 watts/m^2, or 56235
 > lux, for example.

Here is my own cunningly crafted cosine response. Just one column of 
azimuth values at zero degrees wouldn't work:

degrees	0	90	180	270
0	1.0000	1.0000	1.0000	1.0000
10	0.9848	0.9848	0.9848	0.9848
20	0.9397	0.9397	0.9397	0.9397
30	0.8660	0.8660	0.8660	0.8660
40	0.7660	0.7660	0.7660	0.7660
50	0.6428	0.6428	0.6428	0.6428
60	0.5000	0.5000	0.5000	0.5000
70	0.3420	0.3420	0.3420	0.3420
80	0.1736	0.1736	0.1736	0.1736
90	0.0000	0.0000	0.0000	0.0000

Does rsensor use a linear interpolation to fill in in-between rows?

 >> c) Suppose I wanted to model an illuminance meter that has
 >> a correct cosine response, but gives a reading twice as high as
 >> is should be.
 >> Would I need to multiply the values from b) by the cube root of 2?
 >> Cube root because the overall response appears to be proportional
 >> to the volume contained within the 3d shape of the curves.

 > It should be a simple proportion, so multiplying all values by 2.0
 > should give you what you expect.  I just confirmed that it works
 > that way.

I am still puzzled that the response is not proportional to the volume 
of the shape, or at least the area of the curve. Guess that's just the 
way it is, and there isn't really any strict photometric or radiometric 
reason behind this...

 >> It seems that the
 >> standard Radiance data file would have been sufficient to describe
 >> the sensor's characteristics. What is the advantage of using the
 >> SPOT format? Why not have a spot2rad (similar to ies2rad) import
 >> filter instead?

 > As I understand it, SPOT is an Excel-based program, so putting the
 > data in a format that isn't Excel-friendly didn't really suit Zack
 > Rogers and the other developers.  Charles Ehrlich had written an
 > earlier equivalent to rsensor that already used this data format,
 > and since ArchEnergy hired me to develop a more efficient approach,
 > they had the prerogative to specify the input and output.

This makes perfect sense now.

----------------

 > so you can download the program and take a look at the files
 > and implementation - if you haven't already.

It requires Windows and Excel, and while I have access to a Windows 
machine, I don't have Excel. Do you plan on making it cross-platform and 
OpenOffice compatible?

 > c)I might be misunderstanding the question but you should just
 > multiply the sensitivity values by 2 if you want double the signal.
 > This will increase the volume by 2^3 but is not used to scale the
 > sensitivity file.

Greg explained this, thanks. I understand it's all relative.

Thank you

Axel

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From grobe at gmx.net  Mon Oct 12 19:53:40 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon Oct 12 19:53:47 2009
Subject: [Radiance-general] glass diffuser?
In-Reply-To: <be3956780910121933r35aad336j4f344dd89fe44770@mail.gmail.com>
References: <be3956780910121855p569a7dd7i2a520846a6ccb051@mail.gmail.com>	<4AD3E09A.6060108@gmx.net>
	<be3956780910121933r35aad336j4f344dd89fe44770@mail.gmail.com>
Message-ID: <4AD3EBB4.5020603@gmx.net>

Hi Victor!

> frosted glass can scatter sunlight to avoid glare buy it would  have 
> lower transmittance.

Yes, as the scattering results in some of the light being reflected 
back, the transmittance has to be lower.

> You just mentioned a structure with clear glass, acrylic, polycarbonat. 
> I am wondering what kind of structure it is and is any product in the 
> market?

There are lots of products, if you look at what companies are offering 
for "advanced daylighting", "daylight redirecting", you will find many 
options. It all depends on your application. Most systems either use 
refraction or total reflection to have a dielectric surface redirect 
light. Sometimes this works like with lenses, sometimes it is simply 
reflecting light from selected directions into another direction.

> i am using Desktop Radiance. How can i difine this kind of property in 
> Desktop radiance?

In general - not at all. Most of these systems can be modeled using the 
photon map, which is an addition to Radiance but not part of Desktop 
Radiance. There is also rtcontrib which may be used, but this is a 
rather new tool, while Desktop Radiance, as far as I know, is based on 
very old code. It is possible to model redirecting materials as long as 
they do not concentrate light (so most planar surfaces) using prism.

> By the way i am wondering, Radiance for UNIX and Desktop Radiance which 
> one is more popular and more people use?

I was not aware of anyone using Desktop Radiance any more. As far as I 
know, all updates during the recent years were in Radiance only, I do 
not know whether anyone is working on Desktop Radiance. Folks on windows 
systems in general use one of the windows distributions of Radiance, 
people who need integration into a GUI have options like brad or the 
Sketchup-extension, there are tools such as Rayfront. I do not know 
anyone using Desktop Radiance these days.

Cheers, Lars.

From doers003 at umn.edu  Tue Oct 13 01:03:12 2009
From: doers003 at umn.edu (Katja Doerschner)
Date: Tue Oct 13 01:03:17 2009
Subject: [Radiance-general] BRDF in .cal under illumination maps?
Message-ID: <C7AECB07-8FA1-4744-A87E-886E4601A96C@umn.edu>

(Very sorry for the double posting - I forgot to send from my  
subscribed email account)


Dear Group,

I want to use a parametric BRDF (defined in a .cal file and used in  
conjunction with plasfunc - see below) together with an hdr  
illumination map.

However doing that seems to switch off my BRDF calculation and the  
object looks Lambertian (and not velvety, as it is supposed to).

Does any one have an idea how to solve this problem?

Thanks a lot!

Katja

Here a link to the velvety object under point light source  
illumination.: http://www.bilkent.edu.tr/~katja/velvet.tiff


----------------------------------------------------------

void plasfunc mirror
2 refl surf_lobe.cal
0
9 1 1 1 1 .1 -1 0 0 1
# x y z area param Vx Vy Vz
#(to obtain the view direction)


{code extracted from surf_lobe.cal:}
Vx = -(arg(6) - Px);
Vy = -(arg(7) - Py);
Vz = -(arg(8) - Pz);

{3.4 Surface lobe - equation from Pont & tePas 2006}
refl(x,y,z,area)=(1/PI) * (A5/ ( A5+ (x*Nx+y*Ny+z*Nz)*(Vx*Nx+Vy*Ny 
+Vz*Nz) ))*A9;


Katja Doerschner,
Assistant Professor,
Department of Psychology, IISBF, 344
Bilkent University,
06800 Ankara, Turkey

+90 (312) 290 1153 / 3004
bilkent.edu.tr/~katja
vision.bilkent.edu.tr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091013/6153bbc9/attachment.html
From antonutto at yahoo.it  Tue Oct 13 11:57:05 2009
From: antonutto at yahoo.it (giulio)
Date: Tue Oct 13 11:57:37 2009
Subject: [Radiance-general] BRDF in .cal under illumination maps?
In-Reply-To: <C7AECB07-8FA1-4744-A87E-886E4601A96C@umn.edu>
References: <C7AECB07-8FA1-4744-A87E-886E4601A96C@umn.edu>
Message-ID: <79AE70B8-6F77-4B16-9C87-C20008657DCA@yahoo.it>

I think plastdata works only with light sources (direct light  
calculation).
you do not get reflections of objects and diffuse light.
a trick to overcome this, highly inaccurate, is to bake the diffuse  
light component into objects and use light instead of the actual  
materials....
if you have a dome you may need to use mksource to convert it to a set  
of light sources.
hope it is correct and helps...
G

On 13 Oct 2009, at 09:03, Katja Doerschner wrote:

> (Very sorry for the double posting - I forgot to send from my  
> subscribed email account)
>
>
> Dear Group,
>
> I want to use a parametric BRDF (defined in a .cal file and used in  
> conjunction with plasfunc - see below) together with an hdr  
> illumination map.
>
> However doing that seems to switch off my BRDF calculation and the  
> object looks Lambertian (and not velvety, as it is supposed to).
>
> Does any one have an idea how to solve this problem?
>
> Thanks a lot!
>
> Katja
>
> Here a link to the velvety object under point light source  
> illumination.: http://www.bilkent.edu.tr/~katja/velvet.tiff
>
>
> ----------------------------------------------------------
>
> void plasfunc mirror
> 2 refl surf_lobe.cal
> 0
> 9 1 1 1 1 .1 -1 0 0 1
> # x y z area param Vx Vy Vz
> #(to obtain the view direction)
>
>
> {code extracted from surf_lobe.cal:}
> Vx = -(arg(6) - Px);
> Vy = -(arg(7) - Py);
> Vz = -(arg(8) - Pz);
>
> {3.4 Surface lobe - equation from Pont & tePas 2006}
> refl(x,y,z,area)=(1/PI) * (A5/ ( A5+ (x*Nx+y*Ny+z*Nz)*(Vx*Nx+Vy*Ny 
> +Vz*Nz) ))*A9;
>
>
> Katja Doerschner,
> Assistant Professor,
> Department of Psychology, IISBF, 344
> Bilkent University,
> 06800 Ankara, Turkey
>
> +90 (312) 290 1153 / 3004
> bilkent.edu.tr/~katja
> vision.bilkent.edu.tr
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091013/d29eb097/attachment.htm
From gregoryjward at gmail.com  Tue Oct 13 13:41:59 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Oct 13 13:41:52 2009
Subject: [Radiance-general] Re: rsensor file format
In-Reply-To: <4AD3BD15.9070203@gmail.com>
References: <4ad37ce7.180bca0a.779e.171dSMTPIN_ADDED@mx.google.com>
	<4AD3BD15.9070203@gmail.com>
Message-ID: <3A50AB32-E8B6-4DA4-AD4C-8F1DFFB4481B@lmi.net>

Hi Axel,

I'll try not to duplicate what Jennifer said too much -- who, by the  
way, could not have read my response first (nor I hers) because it was  
composed on the plane and not sent until later...

> > The sensor file is normalized to 1.0 in arbitrary "response" units.
> > Think of it as a multiplier on the incoming radiance value in each  
> direction.
>
> So I shouldn't think of it as an 'inverse' IES file, then. I've just  
> run some simple examples with an ideal cosine data file, and the  
> results do match the one I get from rtrace. Multiplying each value  
> in the matrix with 2.0 gives me twice the illuminance.

Yes, it's not really comparable to luminaire data.

> I guess that the real question should be 'what do these sensors  
> actually measure?'. It's not lux, because for this they would have  
> to be cosine and v(lamda) corrected, which one could expect from a  
> 500 Pound lux meter, but not from a 5 Pound sensor. I guess it all  
> boils down to the commissioning of the sensors. The only thing we  
> can say with certainty is that they measure 'some sort of radiation  
> thing', which is different in different directions.

Yes -- the spectral response is unknown, and may or may not be  
important to the sensor output.  The rsensor program reports the  
sensor-weighted sum of RGB radiance values over the hemisphere, and if  
you have an idea of how to multiply the RGB results based on the  
spectral sensitivity, you can get a more accurate output.

> So is it correct to assume that SPOT only uses the relative response  
> from the photocells, and not absolute W/m2 or lux values?

I think Jennifer answered this pretty well, and she knows more about  
it than I do.

> Here is my own cunningly crafted cosine response. Just one column of  
> azimuth values at zero degrees wouldn't work:
>
> degrees	0	90	180	270
> 0	1.0000	1.0000	1.0000	1.0000
> 10	0.9848	0.9848	0.9848	0.9848
> 20	0.9397	0.9397	0.9397	0.9397
> 30	0.8660	0.8660	0.8660	0.8660
> 40	0.7660	0.7660	0.7660	0.7660
> 50	0.6428	0.6428	0.6428	0.6428
> 60	0.5000	0.5000	0.5000	0.5000
> 70	0.3420	0.3420	0.3420	0.3420
> 80	0.1736	0.1736	0.1736	0.1736
> 90	0.0000	0.0000	0.0000	0.0000
>
> Does rsensor use a linear interpolation to fill in in-between rows?

Yes, effectively.  The rsensor program actually inverts the sensor  
distribution to derive Monte Carlo ray samples, so it's a bit tricky,  
but amounts to the same.

> I am still puzzled that the response is not proportional to the  
> volume of the shape, or at least the area of the curve. Guess that's  
> just the way it is, and there isn't really any strict photometric or  
> radiometric reason behind this...

Radiation as we use it normally is not a volumetric quantity.  It can  
be area-based, but since we report things as a proportion of area  
(e.g., watts/meter^2), this factors out again.  I'm not really sure  
where you're confused, since there are so many things that are  
confusing about lighting units.  I spent months in the beginning  
trying to get my head around them.

Cheers,
-Greg

From perhaugaard at yahoo.dk  Wed Oct 14 00:12:10 2009
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Wed Oct 14 00:12:14 2009
Subject: [Radiance-general] illumination mismatch
Message-ID: <327761.22346.qm@web26601.mail.ukl.yahoo.com>

Dear usergroup,

After extruding a floorplan in Google sketch-up i inserted windows for all orientations, exported the scene to radiance and started illuminance and hence DF calculations. Except from one orientation the results look valid. But the illuminination entering from the north facing window is over estimated. I get a DF above 10 up til 15 m from the facade. It looks like north wall is not taken into account in the calculation. There are no problems when I excluce the north window.

Here is data extrated from my geometry file:

# north wall
white_paint polygon t_2_0
0
0
36
??? 115.981526? 75.891011? 0.000000
??? 115.981526? 75.891011? 28.000000
??? 0.000000? 75.891011? 28.000000
??? 0.000000? 75.891011? 12.800000
??? 17.292543? 75.891011? 12.800000
??? 0.528300? 75.891011? 18.200000
??? 115.477026? 75.891011? 18.200000
??? 115.477026? 75.891011? 19.850000
??? 0.528300? 75.891011? 19.850000
??? 0.528300? 75.891011? 18.200000
??? 17.292543? 75.891011? 12.800000
??? 17.292543? 75.891011? 0.000000

# North window
LT70 t_33_0
0
0
12
??? 115.477026? 75.891011? 19.850000
??? 0.528300? 75.891011? 19.850000
??? 0.528300? 75.891011? 18.200000
??? 115.477026? 75.891011? 18.200000

I have debugged the geometry and calculation procedure and found no mismatch. Have anybody experienced the same illumination mismatch before? 

Any help is appreciated.


/Per


      Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD TV! Se her http://dk.yahoo.com/r/pat/lcd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091014/a9ec5707/attachment.html
From tbleicher at googlemail.com  Wed Oct 14 01:52:13 2009
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed Oct 14 01:52:16 2009
Subject: [Radiance-general] illumination mismatch
In-Reply-To: <327761.22346.qm@web26601.mail.ukl.yahoo.com>
References: <327761.22346.qm@web26601.mail.ukl.yahoo.com>
Message-ID: <89355c0f0910140152t215bf33dx43386f8f65c2d15c@mail.gmail.com>

On Wed, Oct 14, 2009 at 8:12 AM, Per Haugaard <perhaugaard@yahoo.dk> wrote:

> # North window
> LT70 t_33_0
> 0
> 0
> 12
> ??? 115.477026? 75.891011? 19.850000
> ??? 0.528300? 75.891011? 19.850000
> ??? 0.528300? 75.891011? 18.200000
> ??? 115.477026? 75.891011? 18.200000

How is the material of the window defined. In the above code the
"polygon" keyword is lost. I think that's a copy-and-paste issue.

Thomas

From doers003 at umn.edu  Wed Oct 14 01:55:39 2009
From: doers003 at umn.edu (Katja Doerschner)
Date: Wed Oct 14 01:55:46 2009
Subject: [Radiance-general] BRDF in .cal under illumination maps?
In-Reply-To: <79AE70B8-6F77-4B16-9C87-C20008657DCA@yahoo.it>
References: <C7AECB07-8FA1-4744-A87E-886E4601A96C@umn.edu>
	<79AE70B8-6F77-4B16-9C87-C20008657DCA@yahoo.it>
Message-ID: <9B2F908A-AFB3-4274-ADDF-C66C5670D93F@umn.edu>

Thank you very much for the suggestion. I will muddle a bit with it.

Best,
katja
On Oct 13, 2009, at 9:57 PM, giulio wrote:

> I think plastdata works only with light sources (direct light  
> calculation).
> you do not get reflections of objects and diffuse light.
> a trick to overcome this, highly inaccurate, is to bake the diffuse  
> light component into objects and use light instead of the actual  
> materials....
> if you have a dome you may need to use mksource to convert it to a  
> set of light sources.
> hope it is correct and helps...
> G
>
> On 13 Oct 2009, at 09:03, Katja Doerschner wrote:
>
>> (Very sorry for the double posting - I forgot to send from my  
>> subscribed email account)
>>
>>
>> Dear Group,
>>
>> I want to use a parametric BRDF (defined in a .cal file and used in  
>> conjunction with plasfunc - see below) together with an hdr  
>> illumination map.
>>
>> However doing that seems to switch off my BRDF calculation and the  
>> object looks Lambertian (and not velvety, as it is supposed to).
>>
>> Does any one have an idea how to solve this problem?
>>
>> Thanks a lot!
>>
>> Katja
>>
>> Here a link to the velvety object under point light source  
>> illumination.: http://www.bilkent.edu.tr/~katja/velvet.tiff
>>
>>
>> ----------------------------------------------------------
>>
>> void plasfunc mirror
>> 2 refl surf_lobe.cal
>> 0
>> 9 1 1 1 1 .1 -1 0 0 1
>> # x y z area param Vx Vy Vz
>> #(to obtain the view direction)
>>
>>
>> {code extracted from surf_lobe.cal:}
>> Vx = -(arg(6) - Px);
>> Vy = -(arg(7) - Py);
>> Vz = -(arg(8) - Pz);
>>
>> {3.4 Surface lobe - equation from Pont & tePas 2006}
>> refl(x,y,z,area)=(1/PI) * (A5/ ( A5+ (x*Nx+y*Ny+z*Nz)*(Vx*Nx+Vy*Ny 
>> +Vz*Nz) ))*A9;
>>
>>
>> Katja Doerschner,
>> Assistant Professor,
>> Department of Psychology, IISBF, 344
>> Bilkent University,
>> 06800 Ankara, Turkey
>>
>> +90 (312) 290 1153 / 3004
>> bilkent.edu.tr/~katja
>> vision.bilkent.edu.tr
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091014/a0d6df50/attachment.htm
From perhaugaard at yahoo.dk  Wed Oct 14 02:11:30 2009
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Wed Oct 14 02:11:36 2009
Subject: [Radiance-general] illumination mismatch
In-Reply-To: <89355c0f0910140152t215bf33dx43386f8f65c2d15c@mail.gmail.com>
Message-ID: <302007.92309.qm@web26603.mail.ukl.yahoo.com>

Hi group,

That is a copy paste issue. The window is defined as:

 # North window
LT70 polygon t_33_0
0
0
12
??? 115.477026? 75.891011? 19.850000
??? 0.528300? 75.891011? 19.850000
 ??? 0.528300? 75.891011? 18.200000
 ??? 115.477026? 75.891011? 18.200000

The Material LT70 is defined as:

void glass LT70
0
0
3 0.76 0.76 0.76


/Per

--- Den ons 14/10/09 skrev Thomas Bleicher <tbleicher@googlemail.com>:

Fra: Thomas Bleicher <tbleicher@googlemail.com>
Emne: Re: [Radiance-general] illumination mismatch
Til: perhaugaard@yahoo.dk, "Radiance general discussion" <radiance-general@radiance-online.org>
Dato: onsdag 14. oktober 2009 10.52

On Wed, Oct 14, 2009 at 8:12 AM, Per Haugaard <perhaugaard@yahoo.dk> wrote:

> # North window
> LT70 t_33_0
> 0
> 0
> 12
> ??? 115.477026? 75.891011? 19.850000
> ??? 0.528300? 75.891011? 19.850000
> ??? 0.528300? 75.891011? 18.200000
> ??? 115.477026? 75.891011? 18.200000

How is the material of the window defined. In the above code the
"polygon" keyword is lost. I think that's a copy-and-paste issue.

Thomas



      Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD TV! Se her http://dk.yahoo.com/r/pat/lcd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091014/752e7edf/attachment.html
From jacobs.axel at gmail.com  Wed Oct 14 06:01:16 2009
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Wed Oct 14 05:55:05 2009
Subject: [Radiance-general] Re: rsensor file format
In-Reply-To: <4ad595de.4844f10a.2890.2c92SMTPIN_ADDED@mx.google.com>
References: <4ad595de.4844f10a.2890.2c92SMTPIN_ADDED@mx.google.com>
Message-ID: <4AD5CB9C.3090105@gmail.com>

Greg,

> Radiation as we use it normally is not a volumetric quantity.  It can
> be area-based, but since we report things as a proportion of area
> (e.g., watts/meter^2), this factors out again.  I'm not really sure
> where you're confused, since there are so many things that are
> confusing about lighting units.  I spent months in the beginning
> trying to get my head around them.

By 'volume' I mean the solid of revolution described by the intensity 
values. However, I've just read up on this in Walsh: "Photometry", 1958:

"It might at first be thought that the total luminous flux given by a 
source could be found from the area of the polar curve, or the volume of 
its solid of revolution about the 0-180 deg axis. But a moment's 
consideration will show that this is not the case."

This is where I was coming from. After a lot longer than just one 
moment's consideration, I stand corrected.

Let theta be the altitude (zenith, nadir) angle, and phi be the azimuth 
angle. I is the intensity.

The total flux, assuming rotational symmetry of the 3d curve around the 
nadir-zenith axis (I(theta) is not a function of phi), is

integral(zero, 2pi) integral(zero, pi) I(theta) sin(theta) d theta d phi,

which is

2pi integral I(theta) sin(theta) d theta,

in other words, there is a simple linear relation between flux F and 
I(theta):

F is proportional to I(theta).

So much to light emitters (IES data), and receivers are identical but 
the other way 'round. Simple, really...

q.e.d.

Other than to myself, I hope I didn't cause too much confusion.

Cheers

Axel

From andrew.mcneil at arup.com  Thu Oct 15 12:17:02 2009
From: andrew.mcneil at arup.com (Andrew McNeil)
Date: Thu Oct 15 12:17:14 2009
Subject: [Radiance-general] Annual simulations + BSDF
Message-ID: <C6FCC33E.D842%andrew.mcneil@arup.com>

Hi Everyone,

I?m trying to figure out how to incorporate clearshade from panelite (
http://www.e-panelite.com/downloads/Panelite_IGU_Oct08.pdf ) into an annual
daylight simulation.

I?m considering the three-phase method Greg described on slide 11 of in his
workshop #6 talk:
http://www.radiance-online.org/radiance-workshop6/GregWard/WardUsingBTDF_tal
k.pdf

Which in theory seems pretty straight forward:
1 ? determine daylight coefficients incident on the glazing
2 ? use a BSDF to define the relationship between incident light directions
and exiting light distribution for the glazing.
3 ? determine the relationship between exiting light directions and
illuminance in the space.
4 ? multiply results by many other results to produce an annual illuminance
profile.

However I face a couple of challenges for which I seek advice:

Challenge 1 ? I don?t have BSDF data from panelite, they are looking into
having a sample measured but that won?t help me right now.  I was thinking
that I could build a radiance model of panelite and use rtconrib to generate
a BSDF of sorts.  Is this a terrible idea?

Challenge 2 ? Writing a rtcontrib expression to separate contributions
according to exiting direction from the portal.  Can I use directions from
treganza.cal?  Is there some reason that this isn?t a good idea?  Klems
directions has been mentioned.  I have no knowledge of klems directions.  Is
that a better alternative?

And I guess the overall questions:  Are there more challenges I have yet to
discover?  Is anyone who has done this willing to share experiences?  Would
I be better off creating a model with thousands of cylinders between glass
panes and using rtcontrib + brute force?  Is there an even better method
that I haven?t discovered trolling through archives?

Thanks,
Andy

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091015/d7b589e1/attachment.htm
From ery.mailinglist at gmail.com  Thu Oct 15 13:13:21 2009
From: ery.mailinglist at gmail.com (Ery Djunaedy)
Date: Thu Oct 15 13:13:39 2009
Subject: [Radiance-general] running rtrace in parallel?
Message-ID: <20091015201321.GD3622@localhost>

All,

Is there a way to run rtrace in parallel? Or any tricks to speed up
the process.

I am running rtrace to create illumminance level on a plane. The
ambient file is already created from the previous runs, but still it
takes almost an hour to finish the whole plane.

Thanks,

Ery

From Robert.Guglielmetti at nrel.gov  Thu Oct 15 13:19:23 2009
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu Oct 15 13:19:24 2009
Subject: [Radiance-general] running rtrace in parallel?
In-Reply-To: <20091015201321.GD3622@localhost>
Message-ID: <C6FCDFEB.EAB%robert.guglielmetti@nrel.gov>

On 10/15/09 2:13 PM, "Ery Djunaedy" <ery.mailinglist@gmail.com> wrote:

> All,
> 
> Is there a way to run rtrace in parallel? Or any tricks to speed up
> the process.

You could break your grid into smaller pieces, and then start multiple
rtrace processes on different machines or cores, then merge the data back
into one "grid"...
-- 
Robert Guglielmetti  IES, LEED AP
Building Energy Efficiency Engineer
National Renewable Energy Laboratory (NREL)
1617 Cole Blvd, MS-5202
Golden, CO 80401
robert.guglielmetti@nrel.gov
303.275.4319


From gregoryjward at gmail.com  Thu Oct 15 13:32:31 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Oct 15 13:32:16 2009
Subject: [Radiance-general] running rtrace in parallel?
In-Reply-To: <C6FCDFEB.EAB%robert.guglielmetti@nrel.gov>
References: <C6FCDFEB.EAB%robert.guglielmetti@nrel.gov>
Message-ID: <DF17CA02-7881-463F-A3DB-5F0F00B46F6A@lmi.net>

Rob's suggestion is the best one at the moment.  It is possible to  
make rtrace run things in parallel, but it hasn't really risen on my  
priority list as it would involve some major code modifications and  
there hasn't been a lot of demand for it.

Cheers,
-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti@nrel.gov>
> Date: October 15, 2009 1:19:23 PM PDT
>
> On 10/15/09 2:13 PM, "Ery Djunaedy" <ery.mailinglist@gmail.com> wrote:
>
>> All,
>>
>> Is there a way to run rtrace in parallel? Or any tricks to speed up
>> the process.
>
> You could break your grid into smaller pieces, and then start multiple
> rtrace processes on different machines or cores, then merge the data  
> back
> into one "grid"...
> -- 
> Robert Guglielmetti  IES, LEED AP

From gregoryjward at gmail.com  Thu Oct 15 13:37:51 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Oct 15 13:37:53 2009
Subject: [Radiance-general] Annual simulations + BSDF
In-Reply-To: <C6FCC33E.D842%andrew.mcneil@arup.com>
References: <C6FCC33E.D842%andrew.mcneil@arup.com>
Message-ID: <380AE063-87C1-41A8-BA41-F19D28D0D24D@lmi.net>

Hi Andrew,

With funding from Southern California Edison through the Heschong- 
Mahone Group and separate funding from LBNL, I've been working on the  
3-phase method described.  We have a few tools in the HEAD version of  
Radiance now, which I'll be talking about next week at the Radiance  
workshop.  Unfortunately, I haven't prepared any presentation  
materials yet, but if you make it to Boston, I will have something by  
then and we can have a nice conversation.

The lack of BTDF data is a serious issue, and could be addressed with  
appropriate modeling.  I don't know how well rtcontrib would work for  
this, as I've never tried it, but it's an interesting suggestion.  The  
folks in the Windows group at LBNL have been using TracePro to  
generate their BTDFs when they aren't taking measurements.

It's an ambitious project you have, and not something you're going to  
sort out in an afternoon.  What's your deadline?

Cheers,
-Greg

> From: Andrew McNeil <andrew.mcneil@arup.com>
> Date: October 15, 2009 12:17:02 PM PDT
>
> Hi Everyone,
>
> I?m trying to figure out how to incorporate clearshade from panelite  
> ( http://www.e-panelite.com/downloads/Panelite_IGU_Oct08.pdf ) into  
> an annual daylight simulation.
>
> I?m considering the three-phase method Greg described on slide 11 of  
> in his workshop #6 talk:
> http://www.radiance-online.org/radiance-workshop6/GregWard/WardUsingBTDF_talk.pdf
>
> Which in theory seems pretty straight forward:
> 1 ? determine daylight coefficients incident on the glazing
> 2 ? use a BSDF to define the relationship between incident light  
> directions and exiting light distribution for the glazing.
> 3 ? determine the relationship between exiting light directions and  
> illuminance in the space.
> 4 ? multiply results by many other results to produce an annual  
> illuminance profile.
>
> However I face a couple of challenges for which I seek advice:
>
> Challenge 1 ? I don?t have BSDF data from panelite, they are looking  
> into having a sample measured but that won?t help me right now.  I  
> was thinking that I could build a radiance model of panelite and use  
> rtconrib to generate a BSDF of sorts.  Is this a terrible idea?
>
> Challenge 2 ? Writing a rtcontrib expression to separate  
> contributions according to exiting direction from the portal.  Can I  
> use directions from treganza.cal?  Is there some reason that this  
> isn?t a good idea?  Klems directions has been mentioned.  I have no  
> knowledge of klems directions.  Is that a better alternative?
>
> And I guess the overall questions:  Are there more challenges I have  
> yet to discover?  Is anyone who has done this willing to share  
> experiences?  Would I be better off creating a model with thousands  
> of cylinders between glass panes and using rtcontrib + brute force?   
> Is there an even better method that I haven?t discovered trolling  
> through archives?
>
> Thanks,
> Andy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091015/704dd83b/attachment.html
From dbs176 at gmail.com  Thu Oct 15 14:20:47 2009
From: dbs176 at gmail.com (David Smith)
Date: Thu Oct 15 14:20:52 2009
Subject: [Radiance-general] running rtrace in parallel?
Message-ID: <694e132c0910151420l14cb2fb8v4a4742c8f1feca0e@mail.gmail.com>

Ery,

> Is there a way to run rtrace in parallel? Or any tricks to speed up the process.

You might want to take a look at Ilya's multithreaded / multiprocessor
scripts if you're running on a Linux/Unix/OSX system. There's a
multithreaded rpict and rtrace, called rpictmt and rtracemt. The
scripts split a task into smaller chunks, one per CPU core, then
stitch everything (pictures or points) back together.

http://www.bakharev.org/index.php?option=com_content&task=view&id=23&Itemid=40

--Dave

From germain.augsburger at epfl.ch  Thu Oct 15 23:41:19 2009
From: germain.augsburger at epfl.ch (Germain Augsburger)
Date: Thu Oct 15 23:41:23 2009
Subject: [Radiance-general] kml to rad
Message-ID: <4AD8158F.5090906@epfl.ch>

Hi,

Does anyone know of a kml to rad application? I've looked throughout the 
archives, but found no clue.

Best,

Germain

-- 
----------------------------------------------------------------------
Germain Augsburger

PhD Student & Teaching Assistant

Industrial Energy Systems Laboratory (LENI)
http://leni.epfl.ch
Swiss Federal Institute of Technology, Lausanne (EPFL)
http://www.epfl.ch

EPFL - LENI-IGM-STI
Room ME A2 391
B?t. ME A2
Station 9
CH - 1015 Lausanne

Tel.: +41 (0)21-693-5968 
Fax.: +41 (0)21-693-3502 
----------------------------------------------------------------------


From tbleicher at googlemail.com  Fri Oct 16 01:35:19 2009
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Fri Oct 16 01:35:23 2009
Subject: [Radiance-general] kml to rad
In-Reply-To: <4AD8158F.5090906@epfl.ch>
References: <4AD8158F.5090906@epfl.ch>
Message-ID: <89355c0f0910160135k14900146k72c007d2c5a6b2bd@mail.gmail.com>

Sketchup should do it1. At least the new version 7.1 can import KMZ
(which is kompressed KML). I don't know much about the Google Earth
format but it would seem logical to have good support in SU.

Once you're in SU you can use su2rad
(http://code.google.com/p/su2rad/) for Radiance or export to another
format you have a workflow for.

Thomas


On Fri, Oct 16, 2009 at 7:41 AM, Germain Augsburger
<germain.augsburger@epfl.ch> wrote:
> Hi,
>
> Does anyone know of a kml to rad application? I've looked throughout the
> archives, but found no clue.

From tbleicher at googlemail.com  Fri Oct 16 02:01:56 2009
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Fri Oct 16 02:09:22 2009
Subject: [Radiance-general] running rtrace in parallel?
In-Reply-To: <C6FCDFEB.EAB%robert.guglielmetti@nrel.gov>
References: <20091015201321.GD3622@localhost>
	<C6FCDFEB.EAB%robert.guglielmetti@nrel.gov>
Message-ID: <89355c0f0910160201j3d289b8ev780f8ab612a6a1a9@mail.gmail.com>

Hi Ery.

On Thu, Oct 15, 2009 at 9:19 PM, Guglielmetti, Robert
<Robert.Guglielmetti@nrel.gov> wrote:
> On 10/15/09 2:13 PM, "Ery Djunaedy" <ery.mailinglist@gmail.com> wrote:
>
>> All,
>>
>> Is there a way to run rtrace in parallel? Or any tricks to speed up
>> the process.
>
> You could break your grid into smaller pieces, and then start multiple
> rtrace processes on different machines or cores, then merge the data back
> into one "grid"...

Just did the very same thing yesterday. On Unix "split" and "cat" will
chop the file for you and reassemble it in the right order.

This is the script I used (with a few untested improvements):

#!/bin/bash

## optional: create your octree here
oconv -w sky.rad scene.rad > scene.oct

## scene.pts is the file with all the grid points
lines=`wc -l scene.pts | awk '{print $1}'`
## we have 8 CPUs and don't care about responsiveness of the system
lines_per_file=`echo "($lines / 8)+1" | bc`
mkdir -p parts
rm -f parts/*
mkdir -p parts_out
rm -f parts_out/*
split -l ${lines_per_file} scene.pts parts/part_

OPTS="-ab 6 -aa .1 -ar 2048 -ad 4096 -as 256 -av 0 0 0"

for pts in `find parts -type f`
do
    echo "starting '${pts}' ..."
    ## obviously you can add rcalc to the command if you want
    cat ${pts} | rtrace -I -w -h $OPTS  scene.oct > parts_out/${pts}.dat &
done
wait

## compile everything to one file
cat parts_out/*.dat > scene.dat

## end of script


Regards,
Thomas

From andrew.mcneil at arup.com  Fri Oct 16 09:34:13 2009
From: andrew.mcneil at arup.com (Andrew McNeil)
Date: Fri Oct 16 09:34:41 2009
Subject: [Radiance-general] Annual simulations + BSDF
In-Reply-To: <380AE063-87C1-41A8-BA41-F19D28D0D24D@lmi.net>
Message-ID: <C6FDEE95.D870%andrew.mcneil@arup.com>

Hi Greg,

Thanks for your reply.  Unfortunately I?m not going to Boston.  Now I have
yet another reason to wish I was going.

I?m glad you?ve been able to further develop the 3-phase method.  I see
increasing demand for this type of analysis for complex fa?ade shading
systems.  This is the fourth time I?ve started down this route ? the other
three times stopped abruptly for various reasons.  Twice before with
panelite products and once with an engineered scattering window film.  The
email I sent yesterday was a  partially complete left in my drafts folder
from two months ago - the last time this I was looking into this approach.

I don?t have a hard deadline yet.  The goal for now is to develop a working
model and then focus on accuracy later.  Ideally I?d have something that
works in the next 2 weeks.

Hopefully Panelite will have measured BTDF data in a few months that we slot
into the analysis.  If measured BTDF data doesn't become available then
we?ll focus on improving the accuracy of the simulated BTDF.

So I guess my first step is approximating a BTDF with Radiance.  I was
thinking I could a uniform sky above the panelite model as input and a
hemisphere of points below as sensors.  With rtcontrib I could determine the
light output in a direction for each input direction.  The input directions
could be tregenza sky divisions (?).  The output could be phi/lambda
directions (?).  I imagine the key to a decent BTDF is lots of samples for
each output direction.  Maybe I create a grid of 1000(00?) points in a plane
just below the panelite and use a script to create a hemisphere of sensor
points centered at each grid point.

I know very little about BTDF?s and even less about creating them so I could
use any tips, tricks, guidance, watch its, how are you going to account
for?s and examples that anyone is willing to offer.

Thanks,
Andy




On 10/15/09 1:37 PM, "Greg Ward" <gregoryjward@gmail.com> wrote:

> Hi Andrew,
> 
> With funding from Southern California Edison through the Heschong-Mahone Group
> and separate funding from LBNL, I've been working on the 3-phase method
> described.  We have a few tools in the HEAD version of Radiance now, which
> I'll be talking about next week at the Radiance workshop.  Unfortunately, I
> haven't prepared any presentation materials yet, but if you make it to Boston,
> I will have something by then and we can have a nice conversation.
> 
> The lack of BTDF data is a serious issue, and could be addressed with
> appropriate modeling.  I don't know how well rtcontrib would work for this, as
> I've never tried it, but it's an interesting suggestion.  The folks in the
> Windows group at LBNL have been using TracePro to generate their BTDFs when
> they aren't taking measurements.
> 
> It's an ambitious project you have, and not something you're going to sort out
> in an afternoon.  What's your deadline?
> 
> Cheers,
> -Greg
> 
>> From: Andrew McNeil <andrew.mcneil@arup.com>
>>  
>> 
>> Date: October 15, 2009 12:17:02 PM PDT
>>  
>> 
>> 
>>  
>>>  Hi Everyone,
>>>  
>>>  I?m trying to figure out how to incorporate clearshade from panelite (
>>> http://www.e-panelite.com/downloads/Panelite_IGU_Oct08.pdf ) into an annual
>>> daylight simulation.
>>>  
>>>  I?m considering the three-phase method Greg described on slide 11 of in his
>>> workshop #6 talk:
>>>  
>>> http://www.radiance-online.org/radiance-workshop6/GregWard/WardUsingBTDF_tal
>>> k.pdf
>>>  
>>>  Which in theory seems pretty straight forward:
>>>  1 ? determine daylight coefficients incident on the glazing
>>>  2 ? use a BSDF to define the relationship between incident light directions
>>> and exiting light distribution for the glazing.
>>>  3 ? determine the relationship between exiting light directions and
>>> illuminance in the space.
>>>  4 ? multiply results by many other results to produce an annual illuminance
>>> profile.
>>>  
>>>  However I face a couple of challenges for which I seek advice:
>>>  
>>>  Challenge 1 ? I don?t have BSDF data from panelite, they are looking into
>>> having a sample measured but that won?t help me right now.  I was thinking
>>> that I could build a radiance model of panelite and use rtconrib to generate
>>> a BSDF of sorts.  Is this a terrible idea?
>>>  
>>>  Challenge 2 ? Writing a rtcontrib expression to separate contributions
>>> according to exiting direction from the portal.  Can I use directions from
>>> treganza.cal?  Is there some reason that this isn?t a good idea?  Klems
>>> directions has been mentioned.  I have no knowledge of klems directions.  Is
>>> that a better alternative?
>>>  
>>>  And I guess the overall questions:  Are there more challenges I have yet to
>>> discover?  Is anyone who has done this willing to share experiences?  Would
>>> I be better off creating a model with thousands of cylinders between glass
>>> panes and using rtcontrib + brute force?  Is there an even better method
>>> that I haven?t discovered trolling through archives?
>>>  
>>>  Thanks,
>>>  Andy
>>> 
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091016/4519f832/attachment.htm
From antonutto at yahoo.it  Fri Oct 16 10:24:40 2009
From: antonutto at yahoo.it (giulio)
Date: Fri Oct 16 10:24:46 2009
Subject: [Radiance-general] running rtrace in parallel?
In-Reply-To: <89355c0f0910160201j3d289b8ev780f8ab612a6a1a9@mail.gmail.com>
References: <20091015201321.GD3622@localhost>
	<C6FCDFEB.EAB%robert.guglielmetti@nrel.gov>
	<89355c0f0910160201j3d289b8ev780f8ab612a6a1a9@mail.gmail.com>
Message-ID: <32CE3804-BCED-4534-999B-F7333C1159EF@yahoo.it>

among other things, please also see my attempts:
http://web.mac.com/geotrupes/iWeb/Main%20site/RadBlog/94A6934D-32E4-4557-8DCF-E5FE51C3FE1E.html
and
http://web.mac.com/geotrupes/iWeb/Main%20site/RadBlog/E549E7F4-6DA2-4D78-8F91-74A4691ED86A.html
good luck!
G


On 16 Oct 2009, at 10:01, Thomas Bleicher wrote:

> Hi Ery.
>
> On Thu, Oct 15, 2009 at 9:19 PM, Guglielmetti, Robert
> <Robert.Guglielmetti@nrel.gov> wrote:
>> On 10/15/09 2:13 PM, "Ery Djunaedy" <ery.mailinglist@gmail.com>  
>> wrote:
>>
>>> All,
>>>
>>> Is there a way to run rtrace in parallel? Or any tricks to speed up
>>> the process.
>>
>> You could break your grid into smaller pieces, and then start  
>> multiple
>> rtrace processes on different machines or cores, then merge the  
>> data back
>> into one "grid"...
>
> Just did the very same thing yesterday. On Unix "split" and "cat" will
> chop the file for you and reassemble it in the right order.
>
> This is the script I used (with a few untested improvements):
>
> #!/bin/bash
>
> ## optional: create your octree here
> oconv -w sky.rad scene.rad > scene.oct
>
> ## scene.pts is the file with all the grid points
> lines=`wc -l scene.pts | awk '{print $1}'`
> ## we have 8 CPUs and don't care about responsiveness of the system
> lines_per_file=`echo "($lines / 8)+1" | bc`
> mkdir -p parts
> rm -f parts/*
> mkdir -p parts_out
> rm -f parts_out/*
> split -l ${lines_per_file} scene.pts parts/part_
>
> OPTS="-ab 6 -aa .1 -ar 2048 -ad 4096 -as 256 -av 0 0 0"
>
> for pts in `find parts -type f`
> do
>    echo "starting '${pts}' ..."
>    ## obviously you can add rcalc to the command if you want
>    cat ${pts} | rtrace -I -w -h $OPTS  scene.oct > parts_out/$ 
> {pts}.dat &
> done
> wait
>
> ## compile everything to one file
> cat parts_out/*.dat > scene.dat
>
> ## end of script
>
>
> Regards,
> Thomas
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Sun Oct 18 11:26:21 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun Oct 18 11:26:28 2009
Subject: [Radiance-general] Annual simulations + BSDF
In-Reply-To: <C6FDEE95.D870%andrew.mcneil@arup.com>
References: <C6FDEE95.D870%andrew.mcneil@arup.com>
Message-ID: <405CBA64-94CF-4D4B-ABF0-E53463AE0360@lmi.net>

Hi Andrew,

I guess I should write a program or script to create a BTDF file for  
an arbitrary shading system.  It's not particularly difficult to do  
this using rtcontrib, but I need to find time to do it.  The next  
couple of weeks are crazy between the workshop and the HDR Imaging  
book deadline, so I don't think I'll get to it before then.  I won't  
be much help with your deadline, unfortunately.

-Greg

> From: Andrew McNeil <andrew.mcneil@arup.com>
> Date: October 16, 2009 9:34:13 AM PDT
>
> Hi Greg,
>
> Thanks for your reply.  Unfortunately I?m not going to Boston.  Now  
> I have yet another reason to wish I was going.
>
> I?m glad you?ve been able to further develop the 3-phase method.  I  
> see increasing demand for this type of analysis for complex fa?ade  
> shading systems.  This is the fourth time I?ve started down this  
> route ? the other three times stopped abruptly for various reasons.   
> Twice before with panelite products and once with an engineered  
> scattering window film.  The email I sent yesterday was a  partially  
> complete left in my drafts folder from two months ago - the last  
> time this I was looking into this approach.
>
> I don?t have a hard deadline yet.  The goal for now is to develop a  
> working model and then focus on accuracy later.  Ideally I?d have  
> something that works in the next 2 weeks.
>
> Hopefully Panelite will have measured BTDF data in a few months that  
> we slot into the analysis.  If measured BTDF data doesn't become  
> available then we?ll focus on improving the accuracy of the  
> simulated BTDF.
>
> So I guess my first step is approximating a BTDF with Radiance.  I  
> was thinking I could a uniform sky above the panelite model as input  
> and a hemisphere of points below as sensors.  With rtcontrib I could  
> determine the light output in a direction for each input direction.   
> The input directions could be tregenza sky divisions (?).  The  
> output could be phi/lambda directions (?).  I imagine the key to a  
> decent BTDF is lots of samples for each output direction.  Maybe I  
> create a grid of 1000(00?) points in a plane just below the panelite  
> and use a script to create a hemisphere of sensor points centered at  
> each grid point.
>
> I know very little about BTDF?s and even less about creating them so  
> I could use any tips, tricks, guidance, watch its, how are you going  
> to account for?s and examples that anyone is willing to offer.
>
> Thanks,
> Andy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091018/de068307/attachment.html
From Tai.Hollingsbee at ghd.com  Sun Oct 18 12:02:07 2009
From: Tai.Hollingsbee at ghd.com (Tai.Hollingsbee@ghd.com)
Date: Sun Oct 18 12:06:50 2009
Subject: [Radiance-general] Tai Hollingsbee is out of the office.
Message-ID: <OF953B569C.0F600E00-ONCA257653.00689074-CA257653.00689074@ghd.com.au>


I will be out of the office starting  19/10/2009 and will not return until
02/11/2009.

I will respond to your message when I return. Please forward any queries to
kassie.anderson@ghd.com.au

Thank you


_____________________ 
This email and all attachments are confidential. For further important information about emails sent to or from GHD or if you have received this email in error, please refer to http://www.ghd.com/emaildisclaimer.html
_____________________ 
This e-mail has been scanned for viruses by MessageLabs.

From andrew.mcneil at arup.com  Sun Oct 18 17:22:31 2009
From: andrew.mcneil at arup.com (Andrew McNeil)
Date: Sun Oct 18 17:22:52 2009
Subject: [Radiance-general] Annual simulations + BSDF
In-Reply-To: <405CBA64-94CF-4D4B-ABF0-E53463AE0360@lmi.net>
Message-ID: <C700FF57.D88D%andrew.mcneil@arup.com>

Hi Greg, 

I?ve written a script that does this, it?s been running over the weekend.
I?ll share the script if the results are consistent with expectations ( I
give it a 40% chance ).

I decided to use both phi/theta input and output directions, because that?s
consistent with the window 6 BSDF specification that mkillum uses.

I look forward to seeing your presentation slides for the conference next
week.

Andy




On 10/18/09 11:26 AM, "Greg Ward" <gregoryjward@gmail.com> wrote:

> Hi Andrew,
> 
> I guess I should write a program or script to create a BTDF file for an
> arbitrary shading system.  It's not particularly difficult to do this using
> rtcontrib, but I need to find time to do it.  The next couple of weeks are
> crazy between the workshop and the HDR Imaging book deadline, so I don't think
> I'll get to it before then.  I won't be much help with your deadline,
> unfortunately.
> 
> -Greg
> 
>> From: Andrew McNeil <andrew.mcneil@arup.com>
>>  
>> 
>> Date: October 16, 2009 9:34:13 AM PDT
>>  
>> 
>> 
>>  
>>>  Hi Greg,
>>>  
>>>  Thanks for your reply.  Unfortunately I?m not going to Boston.  Now I have
>>> yet another reason to wish I was going.
>>>  
>>>  I?m glad you?ve been able to further develop the 3-phase method.  I see
>>> increasing demand for this type of analysis for complex fa?ade shading
>>> systems.  This is the fourth time I?ve started down this route ? the other
>>> three times stopped abruptly for various reasons.  Twice before with
>>> panelite products and once with an engineered scattering window film.  The
>>> email I sent yesterday was a  partially complete left in my drafts folder
>>> from two months ago - the last time this I was looking into this approach.
>>>  
>>>  I don?t have a hard deadline yet.  The goal for now is to develop a working
>>> model and then focus on accuracy later.  Ideally I?d have something that
>>> works in the next 2 weeks.
>>>  
>>>  Hopefully Panelite will have measured BTDF data in a few months that we
>>> slot into the analysis.  If measured BTDF data doesn't become available then
>>> we?ll focus on improving the accuracy of the simulated BTDF.
>>>  
>>>  So I guess my first step is approximating a BTDF with Radiance.  I was
>>> thinking I could a uniform sky above the panelite model as input and a
>>> hemisphere of points below as sensors.  With rtcontrib I could determine the
>>> light output in a direction for each input direction.  The input directions
>>> could be tregenza sky divisions (?).  The output could be phi/lambda
>>> directions (?).  I imagine the key to a decent BTDF is lots of samples for
>>> each output direction.  Maybe I create a grid of 1000(00?) points in a plane
>>> just below the panelite and use a script to create a hemisphere of sensor
>>> points centered at each grid point.
>>>  
>>>  I know very little about BTDF?s and even less about creating them so I
>>> could use any tips, tricks, guidance, watch its, how are you going to
>>> account for?s and examples that anyone is willing to offer.
>>>  
>>>  Thanks,
>>>  Andy
>> 
>> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091018/cfa4dc99/attachment.htm
From rmarchant at Beeryrio.com  Thu Oct 22 08:05:16 2009
From: rmarchant at Beeryrio.com (Richard Marchant)
Date: Thu Oct 22 08:06:27 2009
Subject: [Radiance-general] Compiling rad3R9 on CYGWIN
Message-ID: <3C3C124D6715E24EBB3099D9DD9F4679020D5B2A@MAIL-SERVER.Beeryrio.com>

I've install the latest version of CYGWIN-X with the following packages:

xorg-server

xinit

xorg-docs

X-start-menu-icons

tcsh

nano

tiff

wget

twm

xclock

make

 

I then downloaded the source code to compile using the CYGWIN option,
but I get the following errors while compiling:

 

gcc -Dfreebsd -L/usr/lib -L/usr/X11R6/lib -I/usr/include/sys
-I/usr/include/X11 -I/usr/X11R6/include -DNOSTEREO -02  -c -o
unix_process.o unix_process.c

unix_process.c:14:22: sys/wait.h: No such file or directory

unix_process.c: In function 'open_process':

unix_process.c:49: warning passing arg 2 of 'execv' from incompatible
pointer type

unix_process.c:64: error: 'F_SETFD' undeclared (first use in this
function)

unix_process.c:64: error: (Each undeclared identifier is reported only
once for each function it appears in.)

unix_process.c:64: error: 'FD_CLOEXEC' undeclared (first use in this
function)

make: *** [unix_process.o] Error 1

 

 

I've checked /usr/include/sys for wait.h and it does exist, so I'm not
sure why I am getting this error.  Any thoughts?

 

Thanks,

 

Richard

rmarchant@beeryrio.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091022/09256395/attachment.html
From maricanis at gmail.com  Mon Oct 26 06:23:57 2009
From: maricanis at gmail.com (Marija Velickovic)
Date: Mon Oct 26 06:24:22 2009
Subject: [Radiance-general] gendaylit problems
In-Reply-To: <124b40400910260606w71909179lece14d3672f51f25@mail.gmail.com>
References: <124b40400910260606w71909179lece14d3672f51f25@mail.gmail.com>
Message-ID: <124b40400910260623g29a6eaf8r937da99d3a8a8b0f@mail.gmail.com>

Hi,

We are working on calculation of annual illuminance profile for indoor
luminances, and we use Perez sky model (based on gendaylit program) for sky
luminance distribution. Input data used for sky definition are based on TRY
file.

During the tests, we've found out that for some time moments we get negative
ground luminance, which leads to incorrect final illuminace results.

Here is the example of sky generated by gendaylit:
# ./gendaylit 6 1 16 -s -a 44.05 -o -5.05 -m -15 -g 0.2 -W 76 16
#gendaylit : the actual zenith radiance(W/m^2/sr) or luminance(cd/m^2) is :
-11
# Ground ambient level: -13.3

void brightfunc skyfunc
2 skybright perezlum.cal
0
10 7.339e+01 -2.651e+00 -1.278262 -0.168132 13.163915 -3.484597 0.260157
-0.717104 -0.140157 0.682729

You can see that negative zenith radiance, leads to negative ambient level
and ground brightness (2nd parameter in the skyfunc definition above), which
then leads to incorrect final results.
When sky with this luminance distribution is visualized in rvu, it looks
like there is "a black hole" in the middle of the sky surface.

Note that gendaylit doesn't raise any error or warnings, for this kind of
problem.

John Mardaljevic wrote about this problem for some combination of input
values in his thesis, and also there is a post on this list:
http://www.radiance-online.org/pipermail/radiance-general/2002-June/000312.html

Does someone has information if they were some changes in original Perez
model, to avoid such problems (or maybe if it is an error in gendaylit code
- although I couldn't find it)?

####
For our TRY (Carpentes, France) file this kind of problem appears for 409
time moments (1 year period, 1h step irradiance data), so it is approx 10%
of total number of daylit hours, so I don't think we can underestimate this
problem.
If not possible to change sky model calculation and make it "more correct",
I'm wondering what solution would give the lowest errors in final
illuminance results?


Any ideas?

Thanks,
Marija, De Luminae.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091026/43ba41a9/attachment.htm
From perhaugaard at yahoo.dk  Tue Oct 27 04:00:33 2009
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Tue Oct 27 04:00:35 2009
Subject: [Radiance-general] Daylight passing between two rooms?
Message-ID: <213494.13982.qm@web26601.mail.ukl.yahoo.com>

Dear users,

In a current project studies need to be done for an interior room with glazed partition walls. The sunlight is passing to the room through glazed partitions both from an 'atrium' and from the facade. 

This is the first time I am doing this types of studies. I know sunlight passing between zones in ESP-r/Radiance is treated as a diffuse source. How is this treated in Radiance?

I am in particular interested in hearing if there is any special parameters that I have to include when using rtrace, rcalc and rpict for this type of studies. 

Any input is appreciated :)


Best regards

Per












      Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD TV! Se her http://dk.yahoo.com/r/pat/lcd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091027/16b8a144/attachment.html
From jm at dmu.ac.uk  Tue Oct 27 05:10:33 2009
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Tue Oct 27 05:10:42 2009
Subject: [Radiance-general] gendaylit problems
Message-ID: <68951B46-6D07-48EC-BCFA-8EDE609D1A4D@dmu.ac.uk>

Hi (Zdravo) Marija,

As far as I could tell, the fix given by Perez in the erratum (link  
below) is in the code:

	/* correction de modele de Perez solar energy ...*/
	if ( (epsilon > 1.065) && (epsilon < 2.8) )

http://www.asrc.cestm.albany.edu/perez/publications/Solar%20Resource%20Assessment%20and%20Modeling/More%20Papers%20on%20Resource%20Assessment%20and%20Satellites/erratum-93.pdf

Note that the AW model was based *only* on data from Berkeley.  This  
is perhaps why the overcast conditions in the AW model are different  
to CIE overcast (which has been validated as a reliable overcast model  
for many European sites).  See:
J. Mardaljevic. Sky model blends for predicting internal illuminance:  
a comparison founded on the BRE-IDMP dataset. Journal of Building  
Performance Simulation, 1(3):163?173, 2008.

E-mail me if you can't get access to this journal.

-John

-----------------------------------------------
Dr. John Mardaljevic
Reader in Daylight Modelling
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm




From grobe at gmx.net  Tue Oct 27 06:33:46 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Oct 27 06:34:00 2009
Subject: [Radiance-general] Daylight passing between two rooms?
In-Reply-To: <213494.13982.qm@web26601.mail.ukl.yahoo.com>
References: <213494.13982.qm@web26601.mail.ukl.yahoo.com>
Message-ID: <4AE6F6BA.5090808@gmx.net>

Hi Per,

welcome! Radiance is a simulation based on physics. Thus, if you model a
geometry with an opening or transparent interfaces, light will pass
through. If the transparent surfaces cause scattering, this will
influence the transmission just as you would observe it. There is no
need for special parameters as this is just what light does...

I do not know whether things are different when using ESP-r, but that
would be related to the export filters, not to Radiance.

Cheers, Lars.

From jm at dmu.ac.uk  Thu Oct 29 14:58:01 2009
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Thu Oct 29 14:58:08 2009
Subject: [Radiance-general] Presentations from the 2009 Workshop?
Message-ID: <1521D6C3-F76C-4DBE-B339-1F5AD66D1C1A@dmu.ac.uk>

Any idea when the presentations from the 2009 Workshop will be posted?

-John

PS. Surely I'm not the only person salivating at the prospect of a  
demystification of the 3-phase annual simulations + BSDF method?

-----------------------------------------------
Dr. John Mardaljevic
Reader In Daylight Modelling
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm




From rpg at rumblestrip.org  Thu Oct 29 15:39:33 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Oct 29 15:39:34 2009
Subject: [Radiance-general] Blast from the Past
Message-ID: <C036180B-2E61-435C-AC61-8F08FD7488B2@rumblestrip.org>

Hi folks,

Freshly inspired from the Radiance Workshop, and cooped up under 22  
inches of snow here in Boulder, I took an old web page I created and  
integrated it into my blog/website. A summary of my first foray into  
the use of illums on a project, this page dates back to 2003 (right  
before meeting many of you at that year's workshop in Berkeley, in  
fact). I've been told it's helpful, so I thought I'd get it back  
online with all my other crap. Here's the link, which begs to be cut &  
pasted:

http://www.rumblestrip.org/interests/light/using-the-illum-material-for-smoother-renderings-in-radiance/

I hope to add more stuff soon, but right now my dog & I are gonna go  
play in the snow!

- Rob Guglielmetti

From caria.roberto at tiscali.it  Fri Oct 30 02:43:15 2009
From: caria.roberto at tiscali.it (caria.roberto@tiscali.it)
Date: Fri Oct 30 02:43:23 2009
Subject: [Radiance-general] Mirror, Illum
Message-ID: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost>

Dear users,
I have some problem about mirror (light shelf) and illum.
I create my scene by Rhino be careful to surface normal (normal 
glass 
inward) and properties of mirror surface:
some object are:

void glass float
0
0
3 0.958 0.958 0.958 

float polygon object_1.1 (I have a few object as poligon that 
represent glass surfaces)
0
0
9
     67.7750015259      0.52999997139                7.5
                67      0.52999997139                7.5
                67      0.52999997139      8.10000038147

light shelf:

void metal aluminium
0
0
5 0.88 0.88 0.88 0.8 0.02

void mirror light_shelf
1 aluminium
0
3 0.704 0.704 0.704

ceiling:

void plastic material1
0
0
5 0.5 0.5 0.5 0.02 0.05

void mirror ceiling
1 material1
0
3 0.01 0.01 0.01 

sky:

!gensky 09 21 16 -a 44.30 -o 11.21 -m -15 -c -B 0.5587 

skyfunc glow skyglow
0
0
4 1 1 1 0

skyglow source sky
0
0
4 0 0 1 180

skyfunc glow groundglow
0
0
4 1 1 1 0

rpict:

rpict -vf view1.vf -i -ab 3 -aa 0.30 -ar 512 -ad 1024 -as 512 -dr 2 
-
x 2400 -y 1800 -t 30 scene/scene1.oct | pfilt -1 
-x /3 -y /3 > picture/view1.pic

falsecolor:
falsecolor -i picture/view1.pic -log 2 -s 7 -n 10 -l DF > 
picture/view1_df.pic

ra_tiff:
ra_tiff picture/view1_df.pic tif/view1_df.tif



Questions are:  
why are there some different color splotches on the bottom of the 
wall (view1_without ls) and a poor picture in general?
why the DF value on the floor is worse than simple scene if I use a 
light shelf? I get the same result with sun.     
using a clear sky with sun the windows on the other side of the sun 
provides a low light (maybe is there a problem with a diffuse 
illumination of sky?)       
I tried to use illum function but when I use rpict I get the 
following message:

warning - aiming failure for light source "object_270.270".

I created illum with following comands:

void glass float
0
0
3 0.958 0.958 0.958 

skyfunc brightfunc window_dist
2 winxmit winxmit.cal
0
0  

window_dist illum float2
1 float
0
3 .88 .88 .88

float2 polygon object_1.1 (more objects created by Rhino)
0
0
9
     67.7750015259      0.52999997139                7.5
                67      0.52999997139                7.5
                67      0.52999997139      8.10000038147


Thanks in advance
Roberto















Passa a Tiscali Tutto Incluso Light: telefono + adsl 8 Mb senza limiti a soli 9,95 euro al mese fino al 01/04/2010. Gratis la Sim Tiscali Mobile con 25 euro di traffico.L?offerta ? valida solo se attivi entro il 29/10/09 http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
-------------- next part --------------
A non-text attachment was scrubbed...
Name: view1.pdf
Type: application/pdf
Size: 56460 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20091030/42bd4d12/view1-0001.pdf
From Christopher.Rush at arup.com  Fri Oct 30 06:40:39 2009
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri Oct 30 06:40:58 2009
Subject: [Radiance-general] Mirror, Illum
In-Reply-To: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost>
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost>
Message-ID: <EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>

In your first image it looks like you may have light leaks at the right hand side where your floor meets the wall, possibly due to rounding error in your geometry export/conversion. Try building your walls with thickness and stopping your floor surface exactly at the inner wall surface if they're not already (i.e. inner and outer surface) to help keep stray rays out.

The aiming failure is because your surfaces appear to be triangulated, so the direct sampling routine anticipates a rectangular source, but some samples miss because the surface is only half a rectangle. Try checking that all your surfaces are precisely planar and exporting with a method that doesn't triangulate. If you're using obj2rad see the -f option.

If you have an oversized ground plane or full city modeled outside the building, your -ar value may not be high enough. Increasing ar should smooth out the interior ambient calculation.



-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of caria.roberto@tiscali.it
Sent: Friday, October 30, 2009 5:43 AM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Mirror, Illum

Dear users,
I have some problem about mirror (light shelf) and illum.
I create my scene by Rhino be careful to surface normal (normal glass
inward) and properties of mirror surface:
some object are:

void glass float
0
0
3 0.958 0.958 0.958 

float polygon object_1.1 (I have a few object as poligon that represent glass surfaces) 0 0
9
     67.7750015259      0.52999997139                7.5
                67      0.52999997139                7.5
                67      0.52999997139      8.10000038147

light shelf:

void metal aluminium
0
0
5 0.88 0.88 0.88 0.8 0.02

void mirror light_shelf
1 aluminium
0
3 0.704 0.704 0.704

ceiling:

void plastic material1
0
0
5 0.5 0.5 0.5 0.02 0.05

void mirror ceiling
1 material1
0
3 0.01 0.01 0.01 

sky:

!gensky 09 21 16 -a 44.30 -o 11.21 -m -15 -c -B 0.5587 

skyfunc glow skyglow
0
0
4 1 1 1 0

skyglow source sky
0
0
4 0 0 1 180

skyfunc glow groundglow
0
0
4 1 1 1 0

rpict:

rpict -vf view1.vf -i -ab 3 -aa 0.30 -ar 512 -ad 1024 -as 512 -dr 2
-
x 2400 -y 1800 -t 30 scene/scene1.oct | pfilt -1 -x /3 -y /3 > picture/view1.pic

falsecolor:
falsecolor -i picture/view1.pic -log 2 -s 7 -n 10 -l DF > picture/view1_df.pic

ra_tiff:
ra_tiff picture/view1_df.pic tif/view1_df.tif



Questions are:  
why are there some different color splotches on the bottom of the wall (view1_without ls) and a poor picture in general?
why the DF value on the floor is worse than simple scene if I use a 
light shelf? I get the same result with sun.     
using a clear sky with sun the windows on the other side of the sun provides a low light (maybe is there a problem with a diffuse 
illumination of sky?)       
I tried to use illum function but when I use rpict I get the following message:

warning - aiming failure for light source "object_270.270".

I created illum with following comands:

void glass float
0
0
3 0.958 0.958 0.958 

skyfunc brightfunc window_dist
2 winxmit winxmit.cal
0
0  

window_dist illum float2
1 float
0
3 .88 .88 .88

float2 polygon object_1.1 (more objects created by Rhino) 0 0
9
     67.7750015259      0.52999997139                7.5
                67      0.52999997139                7.5
                67      0.52999997139      8.10000038147


Thanks in advance
Roberto















Passa a Tiscali Tutto Incluso Light: telefono + adsl 8 Mb senza limiti a soli 9,95 euro al mese fino al 01/04/2010. Gratis la Sim Tiscali Mobile con 25 euro di traffico.L?offerta ? valida solo se attivi entro il 29/10/09 http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
From gbetti at fosterandpartners.com  Fri Oct 30 09:40:22 2009
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Fri Oct 30 09:40:29 2009
Subject: [Radiance-general] Antimatter
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost>
	<EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>


Dear All,

It has been a real pleasure to have the chance to be at the radiance
workshop in Cambridge and to meet all the great guys there and to listen
to so many inspiring presentations (btw, really looking forward to see
them on line!)

Now back to the office and again fighting with day to day issues. I am
trying to model a series of openings in a screen using antimatter and I
am getting really confused.
The screen is modelled as a single surface intersected by a number of
cubes. As in the antimatter description I read:
"The viewpoint must be outside all volumes concerned for a correct
rendering." I assume that means that the camera should not be inside one
of the cubes and that (I guess) the cube normals should point outward. 
Done that, I am able to see through the cubes but I do not see the
pattern of light coming through the antimatter holes, I just have a big
solid shadow...

Is that how it is supposed to behave? Does anybody have any clue about
what I am doing wrong?

Thanks in advance,
Best,

Giovanni

From gregoryjward at gmail.com  Fri Oct 30 10:10:59 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Oct 30 10:10:58 2009
Subject: [Radiance-general] Antimatter
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost>
	<EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>
	<6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <D6D42991-BF30-4850-BF9C-FBAACD7BBE11@lmi.net>

Hi Giovanni,

Which version of Radiance are you using?  There was a bug in 3.8  
relating to antimatter and shadows, which was (hopefully) fixed in  
version 3.9.

-Greg

> From: "Giovanni Betti" <gbetti@fosterandpartners.com>
> Date: October 30, 2009 9:40:22 AM PDT
>
> Dear All,
>
> It has been a real pleasure to have the chance to be at the radiance
> workshop in Cambridge and to meet all the great guys there and to  
> listen
> to so many inspiring presentations (btw, really looking forward to see
> them on line!)
>
> Now back to the office and again fighting with day to day issues. I am
> trying to model a series of openings in a screen using antimatter  
> and I
> am getting really confused.
> The screen is modelled as a single surface intersected by a number of
> cubes. As in the antimatter description I read:
> "The viewpoint must be outside all volumes concerned for a correct
> rendering." I assume that means that the camera should not be inside  
> one
> of the cubes and that (I guess) the cube normals should point outward.
> Done that, I am able to see through the cubes but I do not see the
> pattern of light coming through the antimatter holes, I just have a  
> big
> solid shadow...
>
> Is that how it is supposed to behave? Does anybody have any clue about
> what I am doing wrong?
>
> Thanks in advance,
> Best,
>
> Giovanni

From jedev at visarc.com  Fri Oct 30 10:24:35 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Oct 30 10:25:50 2009
Subject: [Radiance-general] Antimatter
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost>	<EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>
	<6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <4AEB2153.7090801@visarc.com>

Hi Giovanni,

It was great to meet you at the workshop. Thanks for making the trip 
over to the states!

It has been awhile since I did anything with antimatter but here is an 
example that should work:

void plastic white
0
0
5 1 1 1 0 0

void plastic red
0
0
5 1 0 0 0 0

void antimatter am
2 red white
0
0

!genbox white wall 10 .1 10

!genbox am holes 1 1 1 | xform -t -.5 -.5 -.5 -t 1 0 5 -a 5 -t 2 0 0

This will make five holes in the "wall" geometry, where the holes are 
cut will be red.

The main trick here is understanding the antimatter material definition

void antimatter <name>
2 <mod1> <mod2>
0
0

where I think of it as "make a hole using material <mod1> in material 
<mod2>." If you do not want there to be any material where the hole is 
cut then mod1 can be void.

At first I was thinking that this only works on "volumes" rather than 
surfaces. But a quick test shows that it does work on surfaces as well:

white polygon wall
0
0
12
0   0   0
10   0   0
10    0   10
0   0   10

!genbox am holes 1 1 1 | xform -t -.5 -.5 -.5 -t 1 0 5 -a 5 -t 2 0 0

NOTE however that if you want to punch holes in planar surfaces then 
<mod1> needs to be "void" in the antimatter definition.

Hope this helps,

-Jack de Valpine

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



Giovanni Betti wrote:
> Dear All,
>
> It has been a real pleasure to have the chance to be at the radiance
> workshop in Cambridge and to meet all the great guys there and to listen
> to so many inspiring presentations (btw, really looking forward to see
> them on line!)
>
> Now back to the office and again fighting with day to day issues. I am
> trying to model a series of openings in a screen using antimatter and I
> am getting really confused.
> The screen is modelled as a single surface intersected by a number of
> cubes. As in the antimatter description I read:
> "The viewpoint must be outside all volumes concerned for a correct
> rendering." I assume that means that the camera should not be inside one
> of the cubes and that (I guess) the cube normals should point outward. 
> Done that, I am able to see through the cubes but I do not see the
> pattern of light coming through the antimatter holes, I just have a big
> solid shadow...
>
> Is that how it is supposed to behave? Does anybody have any clue about
> what I am doing wrong?
>
> Thanks in advance,
> Best,
>
> Giovanni
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   



From rob.fitzsimmons at Fiserv.com  Fri Oct 30 10:23:51 2009
From: rob.fitzsimmons at Fiserv.com (Fitzsimmons, Rob)
Date: Fri Oct 30 10:28:16 2009
Subject: [Radiance-general] Antimatter
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost><EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>
	<6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <B564F6CD0114A44E816C0D68AE8C6E69062A24A3@MKEXCHVS2.Mail.Fiserv.net>

As a test, I did this in sketchup, and got curious results...
The light goes through, but only on the edge. All the grey boxes are antimatter, cutting through the wall.

http://rastermon.com/images/antimatter.jpg
http://rastermon.com/images/antisketchup.gif

my materials:
## material conversion from Sketchup rgb color
void plastic sketchup_default_material
0
0
5 0.1400 0.3400 0.3400 0.000 0.000

void antimatter cutter
2 void sketchup_default_material
0
0


Rob Fitz


-----Original Message-----
From: radiance-general-bounces@radiance-online.org on behalf of Giovanni Betti
Sent: Fri 10/30/2009 9:40 AM
To: Radiance general discussion
Subject: [Radiance-general] Antimatter
 

Dear All,

It has been a real pleasure to have the chance to be at the radiance
workshop in Cambridge and to meet all the great guys there and to listen
to so many inspiring presentations (btw, really looking forward to see
them on line!)

Now back to the office and again fighting with day to day issues. I am
trying to model a series of openings in a screen using antimatter and I
am getting really confused.
The screen is modelled as a single surface intersected by a number of
cubes. As in the antimatter description I read:
"The viewpoint must be outside all volumes concerned for a correct
rendering." I assume that means that the camera should not be inside one
of the cubes and that (I guess) the cube normals should point outward. 
Done that, I am able to see through the cubes but I do not see the
pattern of light coming through the antimatter holes, I just have a big
solid shadow...

Is that how it is supposed to behave? Does anybody have any clue about
what I am doing wrong?

Thanks in advance,
Best,

Giovanni

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091030/e520feb1/attachment-0001.html
From jedev at visarc.com  Fri Oct 30 10:31:15 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Oct 30 10:31:23 2009
Subject: [Radiance-general] Antimatter
In-Reply-To: <B564F6CD0114A44E816C0D68AE8C6E69062A24A3@MKEXCHVS2.Mail.Fiserv.net>
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost><EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>	<6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>
	<B564F6CD0114A44E816C0D68AE8C6E69062A24A3@MKEXCHVS2.Mail.Fiserv.net>
Message-ID: <4AEB22E3.4040203@visarc.com>

Hi Rob,

If you do the following it should work with a material at the cut:

void antimatter cutter
2 sketchup_default_material sketchup_default_material
0
0

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


Fitzsimmons, Rob wrote:
>
> As a test, I did this in sketchup, and got curious results...
> The light goes through, but only on the edge. All the grey boxes are 
> antimatter, cutting through the wall.
>
> http://rastermon.com/images/antimatter.jpg
> http://rastermon.com/images/antisketchup.gif
>
> my materials:
> ## material conversion from Sketchup rgb color
> void plastic sketchup_default_material
> 0
> 0
> 5 0.1400 0.3400 0.3400 0.000 0.000
>
> void antimatter cutter
> 2 void sketchup_default_material
> 0
> 0
>
>
> Rob Fitz
>
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org on behalf of 
> Giovanni Betti
> Sent: Fri 10/30/2009 9:40 AM
> To: Radiance general discussion
> Subject: [Radiance-general] Antimatter
>
>
> Dear All,
>
> It has been a real pleasure to have the chance to be at the radiance
> workshop in Cambridge and to meet all the great guys there and to listen
> to so many inspiring presentations (btw, really looking forward to see
> them on line!)
>
> Now back to the office and again fighting with day to day issues. I am
> trying to model a series of openings in a screen using antimatter and I
> am getting really confused.
> The screen is modelled as a single surface intersected by a number of
> cubes. As in the antimatter description I read:
> "The viewpoint must be outside all volumes concerned for a correct
> rendering." I assume that means that the camera should not be inside one
> of the cubes and that (I guess) the cube normals should point outward.
> Done that, I am able to see through the cubes but I do not see the
> pattern of light coming through the antimatter holes, I just have a big
> solid shadow...
>
> Is that how it is supposed to behave? Does anybody have any clue about
> what I am doing wrong?
>
> Thanks in advance,
> Best,
>
> Giovanni
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091030/ff8318ed/attachment.htm
From jedev at visarc.com  Fri Oct 30 10:38:11 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Oct 30 10:38:19 2009
Subject: [Radiance-general] Antimatter
In-Reply-To: <4AEB22E3.4040203@visarc.com>
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost><EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>	<6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>	<B564F6CD0114A44E816C0D68AE8C6E69062A24A3@MKEXCHVS2.Mail.Fiserv.net>
	<4AEB22E3.4040203@visarc.com>
Message-ID: <4AEB2483.4060302@visarc.com>

Hi Rob,

Looks like I missed the point of the question. I see what you mean about 
the shadow.....

-Jack

Jack de Valpine wrote:
> Hi Rob,
>
> If you do the following it should work with a material at the cut:
>
> void antimatter cutter
> 2 sketchup_default_material sketchup_default_material
> 0
> 0
>
> -Jack
>
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
> Fitzsimmons, Rob wrote:
>>
>> As a test, I did this in sketchup, and got curious results...
>> The light goes through, but only on the edge. All the grey boxes are 
>> antimatter, cutting through the wall.
>>
>> http://rastermon.com/images/antimatter.jpg
>> http://rastermon.com/images/antisketchup.gif
>>
>> my materials:
>> ## material conversion from Sketchup rgb color
>> void plastic sketchup_default_material
>> 0
>> 0
>> 5 0.1400 0.3400 0.3400 0.000 0.000
>>
>> void antimatter cutter
>> 2 void sketchup_default_material
>> 0
>> 0
>>
>>
>> Rob Fitz
>>
>>
>> -----Original Message-----
>> From: radiance-general-bounces@radiance-online.org on behalf of 
>> Giovanni Betti
>> Sent: Fri 10/30/2009 9:40 AM
>> To: Radiance general discussion
>> Subject: [Radiance-general] Antimatter
>>
>>
>> Dear All,
>>
>> It has been a real pleasure to have the chance to be at the radiance
>> workshop in Cambridge and to meet all the great guys there and to listen
>> to so many inspiring presentations (btw, really looking forward to see
>> them on line!)
>>
>> Now back to the office and again fighting with day to day issues. I am
>> trying to model a series of openings in a screen using antimatter and I
>> am getting really confused.
>> The screen is modelled as a single surface intersected by a number of
>> cubes. As in the antimatter description I read:
>> "The viewpoint must be outside all volumes concerned for a correct
>> rendering." I assume that means that the camera should not be inside one
>> of the cubes and that (I guess) the cube normals should point outward.
>> Done that, I am able to see through the cubes but I do not see the
>> pattern of light coming through the antimatter holes, I just have a big
>> solid shadow...
>>
>> Is that how it is supposed to behave? Does anybody have any clue about
>> what I am doing wrong?
>>
>> Thanks in advance,
>> Best,
>>
>> Giovanni
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>   
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091030/b647c5c2/attachment.html
From gbetti at fosterandpartners.com  Fri Oct 30 10:44:27 2009
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Fri Oct 30 10:44:37 2009
Subject: [Radiance-general] Antimatter
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost><EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>	<6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>	<B564F6CD0114A44E816C0D68AE8C6E69062A24A3@MKEXCHVS2.Mail.Fiserv.net><4AEB22E3.4040203@visarc.com>
	<4AEB2483.4060302@visarc.com>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C3039DDB56@corp3005.CORPORATE.FOSTER.NETWORK>

Thanks All,

 

I think it might be because of the version a(I definitely use an older
version of Radiance)

I have pretty much the same results as Rob.

I'll try on a new version on Monday, I guess...

 

Best,

 

Giovanni

 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
de Valpine
Sent: 30 October 2009 17:38
To: Radiance general discussion
Subject: Re: [Radiance-general] Antimatter

 

Hi Rob,

Looks like I missed the point of the question. I see what you mean about
the shadow.....

-Jack

Jack de Valpine wrote: 

Hi Rob,

If you do the following it should work with a material at the cut:

void antimatter cutter
2 sketchup_default_material sketchup_default_material
0
0

-Jack




-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


Fitzsimmons, Rob wrote: 

As a test, I did this in sketchup, and got curious results...
The light goes through, but only on the edge. All the grey boxes are
antimatter, cutting through the wall.

http://rastermon.com/images/antimatter.jpg
http://rastermon.com/images/antisketchup.gif

my materials:
## material conversion from Sketchup rgb color
void plastic sketchup_default_material
0
0
5 0.1400 0.3400 0.3400 0.000 0.000

void antimatter cutter
2 void sketchup_default_material
0
0


Rob Fitz


-----Original Message-----
From: radiance-general-bounces@radiance-online.org on behalf of Giovanni
Betti
Sent: Fri 10/30/2009 9:40 AM
To: Radiance general discussion
Subject: [Radiance-general] Antimatter


Dear All,

It has been a real pleasure to have the chance to be at the radiance
workshop in Cambridge and to meet all the great guys there and to listen
to so many inspiring presentations (btw, really looking forward to see
them on line!)

Now back to the office and again fighting with day to day issues. I am
trying to model a series of openings in a screen using antimatter and I
am getting really confused.
The screen is modelled as a single surface intersected by a number of
cubes. As in the antimatter description I read:
"The viewpoint must be outside all volumes concerned for a correct
rendering." I assume that means that the camera should not be inside one
of the cubes and that (I guess) the cube normals should point outward.
Done that, I am able to see through the cubes but I do not see the
pattern of light coming through the antimatter holes, I just have a big
solid shadow...

Is that how it is supposed to behave? Does anybody have any clue about
what I am doing wrong?

Thanks in advance,
Best,

Giovanni

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general




________________________________



 
_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
  






 



________________________________



 
_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
  






-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091030/3c00d8ec/attachment-0001.htm
From gregoryjward at gmail.com  Fri Oct 30 10:46:48 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Oct 30 10:47:30 2009
Subject: [Radiance-general] Antimatter
In-Reply-To: <B564F6CD0114A44E816C0D68AE8C6E69062A24A3@MKEXCHVS2.Mail.Fiserv.net>
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost><EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>
	<6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>
	<B564F6CD0114A44E816C0D68AE8C6E69062A24A3@MKEXCHVS2.Mail.Fiserv.net>
Message-ID: <505048F9-06CD-4D1B-8C23-7C4385022C3D@lmi.net>

Hi Rob,

I'm not able to reproduce this error with the latest version of  
Radiance.  What version are you running?  Is anyone getting my e-mails?

Jack's example runs fine, and if you add a floor:

void plastic gray
0
0
5 .2 .2 .2 0 0

!genbox gray floor 10 10 .1 | xform -t 0 0 -.1001

...you get to see the shadows through the windows.  I also tried using  
"void" instead of "red" as the first antimatter modifier and that  
works, as does making the wall infinitely thin (single surface), so I  
think you must be running version 3.8 or your cut-out surfaces are  
coincident or something...

The thing that doesn't work is using a non-void material as the first  
antimatter argument to cut a hole in a single-surface wall.

Cheers,
-Greg

> From: "Fitzsimmons, Rob" <rob.fitzsimmons@Fiserv.com>
> Date: October 30, 2009 10:23:51 AM PDT
>
> As a test, I did this in sketchup, and got curious results...
> The light goes through, but only on the edge. All the grey boxes are  
> antimatter, cutting through the wall.
>
> http://rastermon.com/images/antimatter.jpg
> http://rastermon.com/images/antisketchup.gif
>
> my materials:
> ## material conversion from Sketchup rgb color
> void plastic sketchup_default_material
> 0
> 0
> 5 0.1400 0.3400 0.3400 0.000 0.000
>
> void antimatter cutter
> 2 void sketchup_default_material
> 0
> 0
>
>
> Rob Fitz
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091030/2beb9fa1/attachment.html
From jedev at visarc.com  Fri Oct 30 10:54:13 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Oct 30 10:54:22 2009
Subject: [Radiance-general] Antimatter
In-Reply-To: <505048F9-06CD-4D1B-8C23-7C4385022C3D@lmi.net>
References: <23576815.1099391256895795957.JavaMail.defaultUser@defaultHost><EB124710ADB8554C930FADF760BB2BE7064F94B8@n-yexc01.global.arup.com>	<6F5225D6E15F954BB4E58EC25F6736C3039DDB4F@corp3005.CORPORATE.FOSTER.NETWORK>	<B564F6CD0114A44E816C0D68AE8C6E69062A24A3@MKEXCHVS2.Mail.Fiserv.net>
	<505048F9-06CD-4D1B-8C23-7C4385022C3D@lmi.net>
Message-ID: <4AEB2845.5060005@visarc.com>

Hi Greg,

Your emails are coming through.

A floor does help doesn't it.....

For reference, I am running 3.9

-Jack

Greg Ward wrote:
> Hi Rob,
>
> I'm not able to reproduce this error with the latest version of 
> Radiance.  What version are you running?  Is anyone getting my e-mails?
>
> Jack's example runs fine, and if you add a floor:
>
> void plastic gray
> 0
> 0
> 5 .2 .2 .2 0 0
>
> !genbox gray floor 10 10 .1 | xform -t 0 0 -.1001
>
> ...you get to see the shadows through the windows.  I also tried using 
> "void" instead of "red" as the first antimatter modifier and that 
> works, as does making the wall infinitely thin (single surface), so I 
> think you must be running version 3.8 or your cut-out surfaces are 
> coincident or something...
>
> The thing that doesn't work is using a non-void material as the first 
> antimatter argument to cut a hole in a single-surface wall.
>
> Cheers,
> -Greg
>
>> *From: *"Fitzsimmons, Rob" <rob.fitzsimmons@Fiserv.com 
>> <mailto:rob.fitzsimmons@Fiserv.com>>
>>
>> *Date: *October 30, 2009 10:23:51 AM PDT
>>
>> *
>> *
>>
>> As a test, I did this in sketchup, and got curious results...
>> The light goes through, but only on the edge. All the grey boxes are 
>> antimatter, cutting through the wall.
>>
>> http://rastermon.com/images/antimatter.jpg
>> http://rastermon.com/images/antisketchup.gif
>>
>> my materials:
>> ## material conversion from Sketchup rgb color
>> void plastic sketchup_default_material
>> 0
>> 0
>> 5 0.1400 0.3400 0.3400 0.000 0.000
>>
>> void antimatter cutter
>> 2 void sketchup_default_material
>> 0
>> 0
>>
>>
>> Rob Fitz
>>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091030/5dc599b5/attachment.htm
From rfritz333 at gmail.com  Fri Oct 30 12:56:28 2009
From: rfritz333 at gmail.com (Randolph Fritz)
Date: Fri Oct 30 13:00:11 2009
Subject: [Radiance-general] Re: Blast from the Past
References: <C036180B-2E61-435C-AC61-8F08FD7488B2@rumblestrip.org>
Message-ID: <slrnhemh7c.18dp.rfritz333@D-128-95-103-236.dhcp4.washington.edu>

On 2009-10-29, Rob Guglielmetti <rpg@rumblestrip.org> wrote:
> [...]

Great stuff--thanks!

-- 
Randolph Fritz
  design machine group, architecture department, university of washington
rfritz@u.washington.edu -or- rfritz333@gmail.com


From d.appelfeld at gmail.com  Sat Oct 31 09:23:05 2009
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Sat Oct 31 09:23:07 2009
Subject: [Radiance-general] Radiance installation on Mac OS X 10.5.6
Message-ID: <e3330ba60910310923s272d5798t8f1913da30ffb79@mail.gmail.com>

Dear users,
first of all I would like to thank you all for Radiance workshop in
Cambridge. It was big pleasure to meet you all there and see what is going
on and what is possible to do. It gave me lots of inspiration and big
motivation to further work.

My question is about how to install Radiance on my Mac. Since now I have
been using Radiance on my Windows machine, running on Learnix distibution of
Ubuntu under VirtualBox. I am very inexpedience user in these things . I
have tried to search in the threats here at mailing list as well as on
Internet, but still I was not able to finish an installation successfully. I
am probably doing some simply mistake, since I guess the installation should
be fairly easy.
What I did so far:
I downloaded main distribution of Radiance from
http://radsite.lbl.gov/radiance/framed.html as well as binaries for Mac,
then unpack them and copied the binaries to /usr/local/bin and libraries
from ray/lib to /usr/local/lib/ray. Then I was not sure what to do next so I
tried to run command "./makeall install". But then there were some errors,
as follows (copied from terminal):

*Making programs...
/usr/local/lib/ray/src/common /usr/local/lib/ray/src
In directory common...
/usr/local/bin/rmake: line 2: exec: make: not found
/usr/local/lib/ray/src
/usr/local/lib/ray/src/rt /usr/local/lib/ray/src
.
.
.
In directory cal...
/usr/local/bin/rmake: line 2: exec: make: not found
/usr/local/lib/ray/src
There were some errors.*

I am quit stack at the moment and don't know what I am doing wrong. Could
anyone help me with this? I would like to know what I should copy where and
which commands I should run to install Radiance, etc.
I have already copy some files into usr folder etc.  and I am little bit
worry to erase any of the files there since it could be very dangerous,
therefore I would like to also know if it is now problem that I did what I
have described above.

Thank you in advance, I will very appreciate any help

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091031/133d010c/attachment.html
From mstock at umich.edu  Sat Oct 31 09:37:28 2009
From: mstock at umich.edu (Mark Stock)
Date: Sat Oct 31 09:37:34 2009
Subject: [Radiance-general] Radiance installation on Mac OS X 10.5.6
In-Reply-To: <e3330ba60910310923s272d5798t8f1913da30ffb79@mail.gmail.com>
References: <e3330ba60910310923s272d5798t8f1913da30ffb79@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.0910311227540.23684@punchout.gpcc.itd.umich.edu>

David,

If you installed the Mac binaries in /usr/local/bin and the 
libraries in /usr/local/lib/ray, then you don't have to run 
any "makeall" commands, and you are almost all the way there. You 
may also want to copy the man pages from ray/doc/man 
into /usr/local/man.

All you should need to do is set up your environment. If you are 
using the bash shell (check with "env | grep SHELL") then add the 
following lines to your ~/.bashrc file:

export PATH=.:/usr/local/bin:${PATH}
export LD_LIBRARY_PATH=/usr/local/lib:${LD_LIBRARY_PATH}
export MANPATH=/usr/local/man:${MANPATH}

And then re-source that file with "source ~/.bashrc" and you 
should be good to go. That's an effective installation path, as 
far as I know.


Another way to install Radiance on a Mac (or Linux machine) is to 
unzip everything in the /usr/local directory, change to the 
newly-created /usr/local/ray directory, then in there type 
"./makeall install". That's also how I build for my Mac and Linux 
machines. It helps because I can just move /usr/local/ray to 
/usr/local/ray_old when a new version comes out.

I hope this helps! If you keep having problems, please post the 
error messages, as you've already done. Among all the folks on 
this list, we've seen them all.

Mark

On Sat, 31 Oct 2009, David Appelfeld wrote:

> Dear users,
> first of all I would like to thank you all for Radiance workshop in
> Cambridge. It was big pleasure to meet you all there and see what is going
> on and what is possible to do. It gave me lots of inspiration and big
> motivation to further work.
>
> My question is about how to install Radiance on my Mac. Since now I have
> been using Radiance on my Windows machine, running on Learnix distibution of
> Ubuntu under VirtualBox. I am very inexpedience user in these things . I
> have tried to search in the threats here at mailing list as well as on
> Internet, but still I was not able to finish an installation successfully. I
> am probably doing some simply mistake, since I guess the installation should
> be fairly easy.
> What I did so far:
> I downloaded main distribution of Radiance from
> http://radsite.lbl.gov/radiance/framed.html as well as binaries for Mac,
> then unpack them and copied the binaries to /usr/local/bin and libraries
> from ray/lib to /usr/local/lib/ray. Then I was not sure what to do next so I
> tried to run command "./makeall install". But then there were some errors,
> as follows (copied from terminal):
>
> *Making programs...
> /usr/local/lib/ray/src/common /usr/local/lib/ray/src
> In directory common...
> /usr/local/bin/rmake: line 2: exec: make: not found
> /usr/local/lib/ray/src
> /usr/local/lib/ray/src/rt /usr/local/lib/ray/src
> ..
> ..
> ..
> In directory cal...
> /usr/local/bin/rmake: line 2: exec: make: not found
> /usr/local/lib/ray/src
> There were some errors.*
>
> I am quit stack at the moment and don't know what I am doing wrong. Could
> anyone help me with this? I would like to know what I should copy where and
> which commands I should run to install Radiance, etc.
> I have already copy some files into usr folder etc.  and I am little bit
> worry to erase any of the files there since it could be very dangerous,
> therefore I would like to also know if it is now problem that I did what I
> have described above.
>
> Thank you in advance, I will very appreciate any help
>
> David
>

From rpg at rumblestrip.org  Sat Oct 31 09:44:59 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sat Oct 31 09:45:00 2009
Subject: [Radiance-general] Radiance installation on Mac OS X 10.5.6
In-Reply-To: <e3330ba60910310923s272d5798t8f1913da30ffb79@mail.gmail.com>
References: <e3330ba60910310923s272d5798t8f1913da30ffb79@mail.gmail.com>
Message-ID: <7667FBDF-8D5D-431B-80B4-0021F3853F79@rumblestrip.org>

Hi David...

On Oct 31, 2009, at 10:23 AM, David Appelfeld wrote:

> Dear users,
> first of all I would like to thank you all for Radiance workshop in  
> Cambridge. It was big pleasure to meet you all there and see what is  
> going on and what is possible to do. It gave me lots of inspiration  
> and big motivation to further work.

Inspiring is the word I feel always best sums up these Workshop  
experiences.

> My question is about how to install Radiance on my Mac. ...

> What I did so far:
> I downloaded main distribution of Radiance from http://radsite.lbl.gov/radiance/framed.html 
>  as well as binaries for Mac, then unpack them and copied the  
> binaries to /usr/local/bin and libraries from ray/lib to /usr/local/ 
> lib/ray.

OK, you actually did double work there. If you downloaded the binaries  
and put them in the proper place(s), and added those places to your  
environment, you should already have a working installation of  
Radiance. You ALSO downloaded the source code and did this:

> Then I was not sure what to do next so I tried to run command "./ 
> makeall install".

Here, you are actually trying to compile the source code -- in  
essence, making your own copies of the binaries you already  
downloaded. THe reason this didn't work (errors below) is because you  
don't have a couple of the necessary utilities needed to compile  
source. I recommend you DO learn to compile from source, since it's  
fairly easy on the Mac and this gives you access to the latest- 
greatest features of Radiance, some of which were demoed at the  
Workshop. So, read on...

> But then there were some errors, as follows (copied from terminal):
> Making programs...
> /usr/local/lib/ray/src/common /usr/local/lib/ray/src
> In directory common...
> /usr/local/bin/rmake: line 2: exec: make: not found
> /usr/local/lib/ray/src
> /usr/local/lib/ray/src/rt /usr/local/lib/ray/src
> .
> In directory cal...
> /usr/local/bin/rmake: line 2: exec: make: not found
> /usr/local/lib/ray/src
> There were some errors.

OK, see the error "make: not found"? This is telling you that the make  
program, which is essential to the entire compilation/installation  
process, is not installed on your computer. What you need to do is  
download and install the developer tools from Apple's website. It's  
called XCode, and it's free, just a hefty download. Head here and grab  
it:

http://developer.apple.com/TOOLS/Xcode/

Once that's installed (and you may need to register on the Apple  
developer website before you can download it, I can't remember), you  
should make sure you have the latest HEAD release along with the  
support files and that they've been unpacked to one "ray" directory  
structure. The instructions and download links for these two files are  
located here:

http://www.radiance-online.org/software/

Scroll down to the section called "Download newer CVS snapshots from  
this server", and grab radiance-HEAD.tgz, and rad3R9supp.tar.gz. Save  
them in the same directory, and unpack them according to the  
instructions on that page. Then change to that ray folder, and type  
"sudo ./makeall install", give the admin password, and you're off to  
the races. This process will compile the latest source and install  
everything to the correct locations, overwriting the older binaries  
you already put in there.

Next step is to --

(Mark Stock just posted the next step (the path stuff); I love this  
list.)

BTW, I usually put the environment variables in my .profile, but the  
default shell on OS X is BASH, so Mark's suggestion will work fine  
too. As Mark said, post any other errors or issues here and we'll get  
you going!

- Rob Guglielmetti






-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091031/5639956e/attachment.htm
From rpg at rumblestrip.org  Sat Oct 31 09:49:11 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sat Oct 31 09:49:10 2009
Subject: [Radiance-general] genutahsky
Message-ID: <F7676C1B-93DC-480B-9ACC-7B88EC5CF34C@rumblestrip.org>

Hey Mark,

Any chance you could post a short summary/manpage for genutahsky? I  
got it compiled here, but dunno how to play with it beyond changing  
site and time parameters. Should I read the Pretham Shirley paper,  
your C source, or what? WHAT?

- Rob

From mstock at umich.edu  Sat Oct 31 10:06:07 2009
From: mstock at umich.edu (Mark Stock)
Date: Sat Oct 31 10:06:09 2009
Subject: [Radiance-general] genutahsky
In-Reply-To: <F7676C1B-93DC-480B-9ACC-7B88EC5CF34C@rumblestrip.org>
References: <F7676C1B-93DC-480B-9ACC-7B88EC5CF34C@rumblestrip.org>
Message-ID: <Pine.LNX.4.64.0910311253000.23684@punchout.gpcc.itd.umich.edu>

Rob,

The command-line options that work are basically just those: the 
mandatory time arguments (with a new year argument "-y 2009"), 
the optional location (-a -o and -m), and turbidity (-t).

The program writes a complete sky description that should 
probably be redirected to a file. For example:

genutahsky 10 31 13EDT -y 2009 -a 42.36 -o 71.06 -t 3 > sky.rad

generates the sky above me right now. Then you can generate your 
octree as normal:

oconv sky.rad scene.rad > scene.oct

Make sure that all of the ancilliary files (stardome.rad, 
TychoSkymap...hdr, *.cal) are put into either the current working 
directory or wherever the library files are.

Mark

On Sat, 31 Oct 2009, Rob Guglielmetti wrote:

> Hey Mark,
>
> Any chance you could post a short summary/manpage for genutahsky? I got it 
> compiled here, but dunno how to play with it beyond changing site and time 
> parameters. Should I read the Pretham Shirley paper, your C source, or what? 
> WHAT?
>
> - Rob
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

From rpg at rumblestrip.org  Sat Oct 31 10:20:20 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sat Oct 31 10:20:19 2009
Subject: [Radiance-general] genutahsky
In-Reply-To: <Pine.LNX.4.64.0910311253000.23684@punchout.gpcc.itd.umich.edu>
References: <F7676C1B-93DC-480B-9ACC-7B88EC5CF34C@rumblestrip.org>
	<Pine.LNX.4.64.0910311253000.23684@punchout.gpcc.itd.umich.edu>
Message-ID: <4437DCF7-58AF-4D60-AA76-8B55C3F19638@rumblestrip.org>


On Oct 31, 2009, at 11:06 AM, Mark Stock wrote:

> Rob,
>
> The command-line options that work are basically just those: the  
> mandatory time arguments (with a new year argument "-y 2009"), the  
> optional location (-a -o and -m), and turbidity (-t).

OK, cool. THe only one I hadn't played with was turbidity. So, it's  
pretty much plug-and-play then? Cool! I did some skies with the sun  
really low and the sky dome color shifted but not as dramatically as I  
had expected. I'll play some more. Very cool Mark, thanks! 

From jelleferinga at gmail.com  Sat Oct 31 12:15:22 2009
From: jelleferinga at gmail.com (Jelle Feringa)
Date: Sat Oct 31 12:15:36 2009
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 68, Issue 31
In-Reply-To: <4aec894a.0702d00a.030d.ffffcd6fSMTPIN_ADDED@mx.google.com>
References: <4aec894a.0702d00a.030d.ffffcd6fSMTPIN_ADDED@mx.google.com>
Message-ID: <E38CB5C0-EB96-4FC6-AD2F-E3EDF604BA68@gmail.com>

I'm really curious what is genutahsky, Mark could you enlighten me?
It doesn't show up on google yet...
( Very curious to see the '09 workshop slides ;')

Cheers,

-jelle

From d.appelfeld at gmail.com  Sat Oct 31 15:01:08 2009
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Sat Oct 31 15:01:09 2009
Subject: [Radiance-general] Radiance installation on Mac OS X 10.5.6
Message-ID: <e3330ba60910311501l1f296b84k471dbdc1b914b7c3@mail.gmail.com>

Hi All,

thank you Mark and Rob, it helps and I got further but I am still not
successful and after few hours with that I decided to write another post.

What I did so far.

Install Xcode and downloaded radiance-HEAD.tgz, and rad3R9supp.tar.gz. Then
unpack them inside ray folder according to the instructions on
http://www.radiance-online.org/software/ .
Then place ray folder to usr/local/lib/ray and run sudo ./makeall install.

It started to install, but it ended again with message "There were some
errors."

Here is part of the text from terminal with errors:
....
*lipo: can't open input file: /var/tmp//cc7tPgdL.out (No such file or
directory)
make: *** [rpict] Error 1
cc -I../common -L../lib -O2 -arch ppc -arch i386 -DBSD -DNOSTEREO -Dfreebsd
-I/usr/X11R6/include -L/usr/X11R6/lib -isysroot
/Developer/SDKs/MacOSX10.4u.sdk -o ./rvu rvmain.o rview.o rv2.o rv3.o
devtable.o devcomm.o editline.o x11.o x11twind.o colortab.o
../lib/libradiance.a -lrtrad -lm -lX11
ld: library not found for -lcrt1.10.5.o
collect2: ld returned 1 exit status
ld: library not found for -lcrt1.10.5.o
collect2: ld returned 1 exit status
lipo: can't open input file: /var/tmp//cczmztgf.out (No such file or
directory)
make: *** [rvu] Error 1
cc -I../common -L../lib -O2 -arch ppc -arch i386 -DBSD -DNOSTEREO -Dfreebsd
-I/usr/X11R6/include -L/usr/X11R6/lib -isysroot
/Developer/SDKs/MacOSX10.4u.sdk -o ./lookamb lookamb.o ambio.o -lrtrad -lm
ld: library not found for -lcrt1.10.5.o
ld:collect2:  library notld returned 1 exit status
 found for -lcrt1.10.5.o
collect2: ld returned 1 exit status
lipo: can't open input file: /var/tmp//ccXciAPr.out (No such file or
directory)
make: *** [lookamb] Error 1*
....

I guess it is something with wrong path or environment, I am not sure.
I also did as Mark suggested:

>All you should need to do is set up your environment. If you are
>using the bash shell (check with "env | grep SHELL") then add the
>following lines to your ~/.bashrc file:
>
>export PATH=.:/usr/local/bin:${PATH}
>export LD_LIBRARY_PATH=/usr/local/lib:${LD_LIBRARY_PATH}
>export MANPATH=/usr/local/man:${MANPATH}

>And then re-source that file with "source ~/.bashrc" and you
>should be good to go. That's an effective installation path, as
>far as I know.


I wrote that to the end of file "bashrc" at /etc/bashrc. I was not sure how
to re-source that file so I just write "source ~/.bashrc" to the beginning
of file "profile" at /etc/profile, but this probably dost not work.


Thank you again

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091031/060984b1/attachment.html
From gregoryjward at gmail.com  Sat Oct 31 15:25:53 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat Oct 31 15:25:43 2009
Subject: [Radiance-general] Radiance installation on Mac OS X 10.5.6
In-Reply-To: <e3330ba60910311501l1f296b84k471dbdc1b914b7c3@mail.gmail.com>
References: <e3330ba60910311501l1f296b84k471dbdc1b914b7c3@mail.gmail.com>
Message-ID: <BCE65BA2-111E-43C3-9471-6C820EBFF702@lmi.net>

Hi David,

I suspect there is a problem with the rmake command you picked up with  
the OS X binaries.  Try removing "rmake" from your install location  
and rerunning "makeall install" to see if that fixes things.

-Greg

> From: David Appelfeld <d.appelfeld@gmail.com>
> Date: October 31, 2009 3:01:08 PM PDT
>
> Hi All,
>
> thank you Mark and Rob, it helps and I got further but I am still  
> not successful and after few hours with that I decided to write  
> another post.
>
> What I did so far.
>
> Install Xcode and downloaded radiance-HEAD.tgz, and  
> rad3R9supp.tar.gz. Then unpack them inside ray folder according to  
> the instructions on  http://www.radiance-online.org/software/ .
> Then place ray folder to usr/local/lib/ray and run sudo ./makeall  
> install.
>
> It started to install, but it ended again with message "There were  
> some errors."
>
> Here is part of the text from terminal with errors:
> ....
> lipo: can't open input file: /var/tmp//cc7tPgdL.out (No such file or  
> directory)
> make: *** [rpict] Error 1
> cc -I../common -L../lib -O2 -arch ppc -arch i386 -DBSD -DNOSTEREO - 
> Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib -isysroot /Developer/ 
> SDKs/MacOSX10.4u.sdk -o ./rvu rvmain.o rview.o rv2.o rv3.o  
> devtable.o devcomm.o editline.o x11.o x11twind.o colortab.o ../lib/ 
> libradiance.a -lrtrad -lm -lX11
> ld: library not found for -lcrt1.10.5.o
> collect2: ld returned 1 exit status
> ld: library not found for -lcrt1.10.5.o
> collect2: ld returned 1 exit status
> lipo: can't open input file: /var/tmp//cczmztgf.out (No such file or  
> directory)
> make: *** [rvu] Error 1
> cc -I../common -L../lib -O2 -arch ppc -arch i386 -DBSD -DNOSTEREO - 
> Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib -isysroot /Developer/ 
> SDKs/MacOSX10.4u.sdk -o ./lookamb lookamb.o ambio.o -lrtrad -lm
> ld: library not found for -lcrt1.10.5.o
> ld:collect2:  library notld returned 1 exit status
>  found for -lcrt1.10.5.o
> collect2: ld returned 1 exit status
> lipo: can't open input file: /var/tmp//ccXciAPr.out (No such file or  
> directory)
> make: *** [lookamb] Error 1
> ....
>
> I guess it is something with wrong path or environment, I am not sure.
> I also did as Mark suggested:
>
> >All you should need to do is set up your environment. If you are
> >using the bash shell (check with "env | grep SHELL") then add the
> >following lines to your ~/.bashrc file:
> >
> >export PATH=.:/usr/local/bin:${PATH}
> >export LD_LIBRARY_PATH=/usr/local/lib:${LD_LIBRARY_PATH}
> >export MANPATH=/usr/local/man:${MANPATH}
>
> >And then re-source that file with "source ~/.bashrc" and you
> >should be good to go. That's an effective installation path, as
> >far as I know.
>
>
> I wrote that to the end of file "bashrc" at /etc/bashrc. I was not  
> sure how to re-source that file so I just write "source ~/.bashrc"  
> to the beginning of file "profile" at /etc/profile, but this  
> probably dost not work.
>
>
> Thank you again
>
> David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20091031/1cbe0b81/attachment.htm
From rpg at rumblestrip.org  Sat Oct 31 15:46:27 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sat Oct 31 15:46:29 2009
Subject: [Radiance-general] Radiance installation on Mac OS X 10.5.6
In-Reply-To: <BCE65BA2-111E-43C3-9471-6C820EBFF702@lmi.net>
References: <e3330ba60910311501l1f296b84k471dbdc1b914b7c3@mail.gmail.com>
	<BCE65BA2-111E-43C3-9471-6C820EBFF702@lmi.net>
Message-ID: <2D3409C8-4E14-4508-9AEE-B23F9BD3763B@rumblestrip.org>

On Oct 31, 2009, at 4:25 PM, Greg Ward wrote:

> Hi David,
>
> I suspect there is a problem with the rmake command you picked up  
> with the OS X binaries.  Try removing "rmake" from your install  
> location and rerunning "makeall install" to see if that fixes things.

Also, there is no need to move the ray source code folder to /usr/ 
local/lib/ray. In fact, that may confuse things a bit. I recommend you  
leave the unpacked ray source folder someplace in your user directory.  
What I do is just have a  radiance folder, and inside there an  
"install" folder, where I download the head release archive (and keep  
a copy of the auxiliary files). I always unpack the HEAD release from  
there, so that the ray directory always has the latest source code  
from which I can compile and install. I also add an entry in my  
MANPATH variable to point to the ./doc/man folder inside my ray  
folder; this way whenever I call up a manpage for a radiance program  
man is pulling it up from the latest HEAD release.

- Rob

From rpg at rumblestrip.org  Sat Oct 31 15:59:05 2009
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sat Oct 31 15:59:05 2009
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 68, Issue 31
In-Reply-To: <E38CB5C0-EB96-4FC6-AD2F-E3EDF604BA68@gmail.com>
References: <4aec894a.0702d00a.030d.ffffcd6fSMTPIN_ADDED@mx.google.com>
	<E38CB5C0-EB96-4FC6-AD2F-E3EDF604BA68@gmail.com>
Message-ID: <45C2EC65-64E8-4FE0-A7D7-68C75E2931E9@rumblestrip.org>

On Oct 31, 2009, at 1:15 PM, Jelle Feringa wrote:

> I'm really curious what is genutahsky, Mark could you enlighten me?

genutahsky is Mark's latest gem. It's an implementation of the so- 
called Utah sky model in Radiance. Works like gensky, but uses the  
"practical analytic model for daylight" as proposed by Pretham,  
Shirley and Smits in a paper from 1999. Also incorporates nighttime  
skies. Very fun stuff!



From reinhart at gsd.harvard.edu  Sat Oct 31 17:53:59 2009
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Sat Oct 31 17:54:09 2009
Subject: [Radiance-general] Radiance Workshop 2009 Slides
In-Reply-To: <Pine.LNX.4.64.0910311227540.23684@punchout.gpcc.itd.umich.edu>
References: <e3330ba60910310923s272d5798t8f1913da30ffb79@mail.gmail.com>
	<Pine.LNX.4.64.0910311227540.23684@punchout.gpcc.itd.umich.edu>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF054FC382@ENTWEXMB0000000.university.harvard.edu>

Dear all: 

Most of the 2009 Radiance Workshop presentations can now be downloaded
from
http://www.gsd.harvard.edu/research/gsdsquare/RadianceWorkshop2009.html.
We will get the missing slides, podcasts and some photos online over the
coming week or two.

Enjoy,

Christoph and Kera


From a.jacobs at londonmet.ac.uk  Sun Oct 11 06:36:32 2009
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Sun, 11 Oct 2009 13:36:32 -0000
Subject: [Radiance-general] rsensor file format
Message-ID: <4AD1DFC3.7000705@londonmet.ac.uk>

I have just measured the spatial response of some of our photocells and 
discovered some rather serious deviations from the standard cosine response.

I am looking at the new rsensor tool to model this response, so I can 
estimate the errors compared to a proper cosine-corrected cell for 
certain configurations. However, the sensor format is not entirely clear 
to me.

a) What are the units in the sensor file? Is it normalised to anything? 
An IES data file, for instance is normalised to 1000lm.

b) What would the sensor file for a normal, cosine corrected illuminance 
meter look like? Does it need to have its maximum at 1.0 for an angle of 
(0,0)?

c) Suppose I wanted to model an illuminance meter that has a correct 
cosine response, but gives a reading twice as high as is should be. 
Would I need to multiply the values from b) by the cube root of 2? Cube 
root because the overall response appears to be proportional to the 
volume contained within the 3d shape of the curve.

d) After a bit of googling around, I found this page:
http://www.lightingresearch.org/programs/nlpip/publicationdetails.asp?ID=916&type=1

Which appears to be the photosensor report referred to on the SPOT web 
site. The NLPIP don't seem to make suggestions about the actual file 
format for electronically transmitting the spacial response (or any 
other photocell characteristics for that matter). I am therefore 
wondering why the rsensor data file is what it is. It seems that the 
standard Radiance data file would have been sufficient to describe the 
sensor's characteristics. What is the advantage of using the SPOT 
format? Why not have a spot2rad (similar to ies2rad) import filter instead?

Example:

The example from the rsensor man page:
degrees   0    90   180  270
0    .02  .04  .02  .04
45   .01  .02  .01  .02
90   .001 .002 .001 .002

As a Radiance dat file, this would look like (I think):
2
0 270 4
0 90 3
.02 .04 .02 .04
.01 .02 .01 .02
.001 .002 .001 .002

Many thanks for sharing your thoughts

Axel


Companies Act 2006 : http://www.londonmet.ac.uk/companyinfo




