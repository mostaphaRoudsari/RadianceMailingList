From ramana.koti at gmail.com  Tue Sep  1 15:05:12 2009
From: ramana.koti at gmail.com (Ramana Koti)
Date: Tue Sep  1 15:05:20 2009
Subject: [Radiance-general] geometry checker
Message-ID: <cdf76d820909011505w778116fep1eb0ffc76170317b@mail.gmail.com>

Dear all,

Is there a way/software to open a radiance geometry file in *.RAD format and
visually check the geometry for accuracy? Especially on Windows OS when I do
not have any form of Radiance installed?

Thanks,
Ramana.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090901/f76fa1cb/attachment.html
From ramana.koti at gmail.com  Tue Sep  1 15:25:13 2009
From: ramana.koti at gmail.com (Ramana Koti)
Date: Tue Sep  1 15:25:21 2009
Subject: [Radiance-general] Re: geometry checker
In-Reply-To: <cdf76d820909011505w778116fep1eb0ffc76170317b@mail.gmail.com>
References: <cdf76d820909011505w778116fep1eb0ffc76170317b@mail.gmail.com>
Message-ID: <cdf76d820909011525s41d3e69cn9262d56d787e8747@mail.gmail.com>

or just a geometry viewer...

On Tue, Sep 1, 2009 at 3:05 PM, Ramana Koti <ramana.koti@gmail.com> wrote:

> Dear all,
>
> Is there a way/software to open a radiance geometry file in *.RAD format
> and visually check the geometry for accuracy? Especially on Windows OS when
> I do not have any form of Radiance installed?
>
> Thanks,
> Ramana.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090901/9f28bd78/attachment.html
From grobe at gmx.net  Tue Sep  1 18:19:37 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Sep  1 18:19:48 2009
Subject: [Radiance-general] Re: geometry checker
In-Reply-To: <cdf76d820909011525s41d3e69cn9262d56d787e8747@mail.gmail.com>
References: <cdf76d820909011505w778116fep1eb0ffc76170317b@mail.gmail.com>
	<cdf76d820909011525s41d3e69cn9262d56d787e8747@mail.gmail.com>
Message-ID: <4A9DC829.7030302@gmx.net>

Hi!

>     Is there a way/software to open a radiance geometry file in *.RAD
>     format and visually check the geometry for accuracy? Especially on
>     Windows OS when I do not have any form of Radiance installed?

Well, besides installing Radiance and using it to check geometry, you 
can export your scenes to vrml(-1) and OpenInventor via the mgf-format, 
all necessary filters are part of Radiance. There is also a converter 
from Radiance into Wavefront OBJ, but it is limited to polygon objects 
(works well for my scenes coming from CAD, but will not work with more 
sophisticated geometry). For checking the resulting meshes, Meshlab may 
be a good choice, as it allows to apply lots of filter to support you 
finding errors in the mesh. It can read the mesh formats (as far as I 
remember all three of them - obj, vrml-1, openinventor) exported from 
Radiance and its filters.

Cheers, Lars.

From reinhart at gsd.harvard.edu  Wed Sep  2 20:16:23 2009
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Wed Sep  2 20:16:31 2009
Subject: [Radiance-general] Radiance Workshop
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF04C1A4AC@ENTWEXMB0000000.university.harvard.edu>

Dear colleagues and friends:

 

The next annual Radiance workshop, which will take place in Boston on
October 22-23 (http://projects.gsd.harvard.edu/radiance2009/index.html),
is approaching and I have previously gotten emails from a number of you
indicating that you intend to participate and present. It would be
helpful if you started sending us your 100 word abstracts and
registering for the workshop to make the planning easier for us. I am
looking forward to welcoming you to Boston next month.

 

All the best,

 

Christoph

Christoph Reinhart, Dr. Ing. 

Associate Professor of Architectural Technology

Graduate School of Design - Harvard University

Gund Hall 331, 48 Quincy Street, Cambridge, MA 02138, USA

t: 617 384 7269, f: 617 495 8916, reinhart@gsd.harvard.edu
<mailto:reinhart@gsd.harvard.edu> 

Daylighting Design: Rules of Thumb
<http://www.gsd.harvard.edu/people/faculty/reinhart/documents/DiffuseDay
lightingDesignSequenceTutorial.pdf> , Simulation
<http://www.daysim.com/> , 2009 International Radiance Workshop
<http://projects.gsd.harvard.edu/radiance2009/index.html> 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090902/102145bd/attachment.html
From gregoryjward at gmail.com  Thu Sep  3 13:36:18 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Sep  3 13:36:09 2009
Subject: [Radiance-general] Radiance Workshop
In-Reply-To: <C5E1527F129BF545A250B5AD0B0C26EF04C1A4AC@ENTWEXMB0000000.university.harvard.edu>
References: <C5E1527F129BF545A250B5AD0B0C26EF04C1A4AC@ENTWEXMB0000000.university.harvard.edu>
Message-ID: <9C5212AC-4286-4E07-8AF0-8B82B28834CC@lmi.net>

Hi Christoph,

I just registered, though I didn't pay the $420 I owe...  I was hoping  
for special treatment.  I do have something to present on the annual  
calculations, but need to throw together an abstract for that.  I'd  
also like to attend the pre-workshop event, and was wondering about  
the format for that and if there's anything I can do to help out.

Best,
-Greg

> From: "Reinhart, Christoph" <reinhart@gsd.harvard.edu>
> Date: September 2, 2009 8:16:23 PM PDT
> Dear colleagues and friends:
>
>  The next annual Radiance workshop, which will take place in Boston  
> on October 22-23 (http://projects.gsd.harvard.edu/radiance2009/index.html 
> ), is approaching and I have previously gotten emails from a number  
> of you indicating that you intend to participate and present. It  
> would be helpful if you started sending us your 100 word abstracts  
> and registering for the workshop to make the planning easier for us.  
> I am looking forward to welcoming you to Boston next month.
>
> All the best,
>
> Christoph
>
> Christoph Reinhart, Dr. Ing.
>
> Associate Professor of Architectural Technology
>
> Graduate School of Design - Harvard University
>
> Gund Hall 331, 48 Quincy Street, Cambridge, MA 02138, USA
>
> t: 617 384 7269, f: 617 495 8916, reinhart@gsd.harvard.edu
>
> Daylighting Design: Rules of Thumb, Simulation, 2009 International  
> Radiance Workshop
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090903/8195a94b/attachment.htm
From tbleicher at googlemail.com  Thu Sep  3 13:43:40 2009
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu Sep  3 13:43:48 2009
Subject: [Radiance-general] geometry checker
In-Reply-To: <cdf76d820909011505w778116fep1eb0ffc76170317b@mail.gmail.com>
References: <cdf76d820909011505w778116fep1eb0ffc76170317b@mail.gmail.com>
Message-ID: <89355c0f0909031343s530cd429hff6b1e0f3ec17b1d@mail.gmail.com>

Not an immediate solution but I plan to add Radiance scene file import to
Sketchup at some point.

Thomas

On Tue, Sep 1, 2009 at 11:05 PM, Ramana Koti <ramana.koti@gmail.com> wrote:

> Dear all,
>
> Is there a way/software to open a radiance geometry file in *.RAD format
> and visually check the geometry for accuracy? Especially on Windows OS when
> I do not have any form of Radiance installed?
>
> Thanks,
> Ramana.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090903/5049ca2f/attachment.html
From grobe at gmx.net  Tue Sep  8 03:36:44 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Sep  8 03:36:55 2009
Subject: [Radiance-general] radiance-related vacancies
Message-ID: <4AA633BC.7050801@gmx.net>

Hi,

I want to draw your attention to the position as published under this link:

http://www.seris.sg/site/servlet/segment/main/Download/2870/pdf_research_scientist_seeb.html

I know that strictly speaking this may be slightly off-topic on a list 
discussing the application of radiance, but we had little traffic 
recently, and there are not that many positions for people which are in 
light simulation. The job is mostly on measurements and data modeling, 
but you can get the details from the description, and as it is written 
there, radiance plays some role. Ah, and it is in always-summer-land 
Singapore ;-)

Cheers Lars.

From gbetti at fosterandpartners.com  Tue Sep  8 10:48:34 2009
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Tue Sep  8 10:49:05 2009
Subject: [Radiance-general] sky mapping
References: <49B0A199.7000208@u.washington.edu><58E15A7AECA742499E0D566C95B03BD20913EB30@ex-be01.burohappold.com>
	<35D34984-2FCC-4C21-ACA6-C280D3DA81EC@u.washington.edu> 
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C3033C1D32@corp3005.CORPORATE.FOSTER.NETWORK>

Dear All,

 

I am trying to remap accurately an angular fisheye view of the sky using
the proj_pict_fisheye.cal developed by Peter Apian-Bennewitz, ISE, on
July 96 (as it is reported on the copyright header in the .cal file) to
subsequently use it as light source for a diffuse sky simulation.

 

It seems to work fairly well (the error at the centre is about 1% of the
original image) but

1) a bright circle forms along the horizon 

2) the remapped image is constantly less bright than the original one

 

If anybody has any idea about the reason behind this behaviour it would
be very helpful

 

Thanks in advance,

Best Regards,

 

Giovanni

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090908/6f4aea82/attachment.htm
From grobe at gmx.net  Tue Sep  8 11:02:53 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Sep  8 11:03:04 2009
Subject: [Radiance-general] sky mapping
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C3033C1D32@corp3005.CORPORATE.FOSTER.NETWORK>
References: <49B0A199.7000208@u.washington.edu><58E15A7AECA742499E0D566C95B03BD20913EB30@ex-be01.burohappold.com>	<35D34984-2FCC-4C21-ACA6-C280D3DA81EC@u.washington.edu>
	<6F5225D6E15F954BB4E58EC25F6736C3033C1D32@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <4AA69C4D.4020406@gmx.net>

Hi!
>
> It seems to work fairly well (the error at the centre is about 1% of
> the original image) but
>
> 1) a bright circle forms along the horizon
>
> 2) the remapped image is constantly less bright than the original one
>
It would be nice if you could share the scene as well as the resulting
image by e.g. uploading it to a web oder ftp server. Please not by
posting any attachments.. If you have a bright ring in the result - do
you have a bright ring in your source image, e.g. at the edge of the
image circle? How did you prepare the image, do you crop it? Does the
cal-file expect a 180 fov. and does your image provide that?

Under 2) you write that the image is less bright then the original, but
at the centre you have only an error of 1% - do you have a constant
error of 1%?

Are you sure that the fisheye projection assumed by the script assumes
your camera/lens projection?

Does the source image include direct sun (visible)?

Cheers, Lars.

From gbetti at fosterandpartners.com  Tue Sep  8 11:17:44 2009
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Tue Sep  8 11:17:51 2009
Subject: [Radiance-general] sky mapping
References: <49B0A199.7000208@u.washington.edu><58E15A7AECA742499E0D566C95B03BD20913EB30@ex-be01.burohappold.com>	<35D34984-2FCC-4C21-ACA6-C280D3DA81EC@u.washington.edu><6F5225D6E15F954BB4E58EC25F6736C3033C1D32@corp3005.CORPORATE.FOSTER.NETWORK>
	<4AA69C4D.4020406@gmx.net>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C3033C1D33@corp3005.CORPORATE.FOSTER.NETWORK>

Hi Lars, thanks for your reply, I've attached my scene description.
Sorry but I do not have an ftp where to upload them although thwy are
very very small files...

To reply your questions:
I do not have any bright ring in the source image which is an angular
fisheye view (180 fov) generated in radiance of a CIE sunny sky using
the option -s (I do not expect this technique to be of any use for
direct sunlight, only for the diffuse component) the image is uncropped
and the cal file says: Projection of 2d image fisheye picture to source,
applies to angular fisheye like Nikon 180 deg.
Although I cannot find any geometrical distortion, it's only the value
nearby the horizon that goes up.
For point 2, I have the error of 1% nearby the centre (really where the
"sun" should be) and then it goes up as it approaches the horizon...

Thanks,

Giovanni

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Lars
O. Grobe
Sent: 08 September 2009 19:03
To: Radiance general discussion
Subject: Re: [Radiance-general] sky mapping

Hi!
>
> It seems to work fairly well (the error at the centre is about 1% of
> the original image) but
>
> 1) a bright circle forms along the horizon
>
> 2) the remapped image is constantly less bright than the original one
>
It would be nice if you could share the scene as well as the resulting
image by e.g. uploading it to a web oder ftp server. Please not by
posting any attachments.. If you have a bright ring in the result - do
you have a bright ring in your source image, e.g. at the edge of the
image circle? How did you prepare the image, do you crop it? Does the
cal-file expect a 180 fov. and does your image provide that?

Under 2) you write that the image is less bright then the original, but
at the centre you have only an error of 1% - do you have a constant
error of 1%?

Are you sure that the fisheye projection assumed by the script assumes
your camera/lens projection?

Does the source image include direct sun (visible)?

Cheers, Lars.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test00_sky.rad
Type: application/octet-stream
Size: 279 bytes
Desc: test00_sky.rad
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20090908/ff6b8814/test00_sky.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test00.rif
Type: application/octet-stream
Size: 494 bytes
Desc: test00.rif
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20090908/ff6b8814/test00.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test00.rad
Type: application/octet-stream
Size: 109 bytes
Desc: test00.rad
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20090908/ff6b8814/test00-0001.obj
From lars.grobe at nus.edu.sg  Tue Sep  8 18:43:49 2009
From: lars.grobe at nus.edu.sg (Lars O. Grobe)
Date: Tue Sep  8 18:43:59 2009
Subject: [Radiance-general] sky mapping
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C3033C1D33@corp3005.CORPORATE.FOSTER.NETWORK>
References: <49B0A199.7000208@u.washington.edu>
	<58E15A7AECA742499E0D566C95B03BD20913EB30@ex-be01.burohappold.com>
	<35D34984-2FCC-4C21-ACA6-C280D3DA81EC@u.washington.edu>
	<6F5225D6E15F954BB4E58EC25F6736C3033C1D32@corp3005.CORPORATE.FOSTER.NETWORK>
	<4AA69C4D.4020406@gmx.net>
	<6F5225D6E15F954BB4E58EC25F6736C3033C1D33@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <1252460629.6199.12.camel@Optiplex755>

Hi Giovanni,

I have used fisheye.cal, which comes with radiance. I also used the
angular fisheye with the vta-view, as you did. The only important point
was to translate the mapping, as fisheye.cal expected the image center
to be +y (north in most models), while for sky capturing you point up.

The mapping for me is

void colorpict skyhdrmapping
11 red green blue sky.hdr fisheye.cal fish_u fish_v -rx -90 -rz 180
0
0

And sky.hdr has the north on the top when seen as a 2d image.

I am not sure whether Peter's cal-file does any more advanced stuff
related to his fisheye - it could be that he is correcting for some
vignetting stuff that does not exist in you synthetic image. That would
explain the higher pixel values close to the edge.

Cheers,

Lars.


From gbetti at fosterandpartners.com  Wed Sep  9 03:04:05 2009
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Wed Sep  9 03:04:22 2009
Subject: [Radiance-general] sky mapping
References: <49B0A199.7000208@u.washington.edu><58E15A7AECA742499E0D566C95B03BD20913EB30@ex-be01.burohappold.com><35D34984-2FCC-4C21-ACA6-C280D3DA81EC@u.washington.edu><6F5225D6E15F954BB4E58EC25F6736C3033C1D32@corp3005.CORPORATE.FOSTER.NETWORK><4AA69C4D.4020406@gmx.net><6F5225D6E15F954BB4E58EC25F6736C3033C1D33@corp3005.CORPORATE.FOSTER.NETWORK>
	<1252460629.6199.12.camel@Optiplex755>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C3033C1D42@corp3005.CORPORATE.FOSTER.NETWORK>


Lars,
Thanks a lot for this,
It seems to work although in a slightly modified version (rx +90)
The results are much closer in the central part of the image (I assume
the difference is only because of interpolation or anti aliasing
effects...)And the brightest band at the horizon has almost disappeared
(although not entirely... again is the anti aliasing to blame?)
I've also noticed that for this process to work it is crucial that the
original sky image has a normalized exposure (1) otherwise all the
values are scaled down...

Thanks again,

Giovanni

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Lars
O. Grobe
Sent: 09 September 2009 02:44
To: Radiance general discussion
Subject: RE: [Radiance-general] sky mapping

Hi Giovanni,

I have used fisheye.cal, which comes with radiance. I also used the
angular fisheye with the vta-view, as you did. The only important point
was to translate the mapping, as fisheye.cal expected the image center
to be +y (north in most models), while for sky capturing you point up.

The mapping for me is

void colorpict skyhdrmapping
11 red green blue sky.hdr fisheye.cal fish_u fish_v -rx -90 -rz 180
0
0

And sky.hdr has the north on the top when seen as a 2d image.

I am not sure whether Peter's cal-file does any more advanced stuff
related to his fisheye - it could be that he is correcting for some
vignetting stuff that does not exist in you synthetic image. That would
explain the higher pixel values close to the edge.

Cheers,

Lars.


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From zrogers at ideasi.com  Wed Sep  9 16:08:09 2009
From: zrogers at ideasi.com (Zack Rogers)
Date: Wed Sep  9 16:07:31 2009
Subject: [Radiance-general] Antimatter and windows
Message-ID: <24A618F8B54C4348B54C8684C918963B0104C19C@BUGS.ideasi.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 4145 bytes
Desc: idalogo.jpg
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20090909/ada1d638/attachment.jpe
From grobe at gmx.net  Wed Sep  9 17:19:33 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Sep  9 17:19:44 2009
Subject: [Radiance-general] Antimatter and windows
In-Reply-To: <24A618F8B54C4348B54C8684C918963B0104C19C@BUGS.ideasi.com>
References: <24A618F8B54C4348B54C8684C918963B0104C19C@BUGS.ideasi.com>
Message-ID: <4AA84615.6060308@gmx.net>

Hi Zack,

the problem you experience appears any time when you have coplanar
surfaces with different modifiers. A ray hitting such a surface sees
either material, and as they are coplanar this results in a random noise
/ mixture of both.

To use antimatter, place a box in you wall, so that the front side of it
is in front of the wall (you would see it from your position) while the
back one is behind. Make sure that there is no other geometry in the
volume of this box.

Now what happens is that a ray hitting the antimatter material with the
surface facing it will become blind, go on traveling the same direction
(or modify it according to what you give in the second line of the
antimatter modifier's definition), and start seeing geomertry only once
he passed thru the back of an antimatter surface again. In other words,
it is like if the ray jumps between the antimatter surfaces ignoring
everything in between.

Hope this is correct, but that was the result of looking at that part of
the code once ;-)

Cheers, Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20090910/7e6b843d/smime.bin
From zrogers at ideasi.com  Wed Sep  9 21:29:42 2009
From: zrogers at ideasi.com (Zack Rogers)
Date: Wed Sep  9 21:29:03 2009
Subject: [Radiance-general] Antimatter and windows
References: <24A618F8B54C4348B54C8684C918963B0104C19C@BUGS.ideasi.com>
	<4AA84615.6060308@gmx.net>
Message-ID: <24A618F8B54C4348B54C8684C918963B0104C1BB@BUGS.ideasi.com>

Thanks for the insight Lars,

I had originally tried the box approach and moved onto the co-planar
surface approach as I felt like I was getting further.

Back to the box approach, I've been testing this out now on just a very
simple wall model and am seeing strange behavior.  From all viewing
directions, the shadow from my hole in the wall looks correct.  However,
when viewing the wall from one side it seems like I am seeing the inside
surfaces of my antimatter box as grey_0.60 but not the front surface.
At some view angles from the front side, the side of my antimatter box
disappear and I do get a glimpse through the wall.  From the other side
(shadow side), everything looks as I would expect.

http://docs.google.com/Doc?docid=0AcMF73k-1deIZGdkNmhja3BfOTdnejRjbTloaw
&hl=en
http://docs.google.com/Doc?docid=0AcMF73k-1deIZGdkNmhja3BfOTVjamR4YnZkMw
&hl=en
http://docs.google.com/Doc?docid=0AcMF73k-1deIZGdkNmhja3BfOTNmOHF6N2docA
&hl=en

The box was created with genbox and I double checked that all surface
normals are pointing outward.  I also tested other modifiers in my
antimatter definition and "void" and anything other than the wall
material did not do anything (disregard my earlier statement/question
about materials).

So several of my questions have been answered but there is still the
obvious artifacts in the rendering and I am still wondering about the
validity of this approach using rtrace.  Will it see random errors?

The file I am running for this test is:

void plastic grey_0.25
0
0
5            0.25          0.25          0.25
                0             0

void plastic grey_0.60
0
0
5             0.6           0.6           0.6
                0             0

void antimatter opening
1 grey_0.60
0
0

grey_0.60 polygon Space.10_Wall.38
0
0
12
    0.00    0.00    10.00
    0.00    0.00    0.00
    30.00    0.00    0.00
    30.00    0.00    10.00

!genbox opening hole 10 1 6 | xform -t 10 -.5 2

grey_0.25 polygon ground
0
0
12    -100    -100    -0.5
    100    -100    -0.5
    100    100    -0.5
    -100    100    -0.5

!gensky 3 20 10.5 -a 42.8326 -o 106.329 -m 105.0 +s | xform -rz 0.0

skyfunc glow skyglow
0
0
4 0.9 0.9 1.0 0

skyglow source sky
0
0
4 0.0 0.0 1.0 180

skyfunc glow groundglow
0
0
4 1.0 0.8 0.5 0

groundglow source ground
0
0
4 0.0 0.0 -1.0 180


________________________________

  ZACK ROGERS, P.E., LEED AP, IESNA 
 
INTEGRATED DESIGN ASSOCIATES, INC
437 Main Street
Longmont, CO 80501
tel: 303.848.8299, fax: 303.848.8290 
www.ideasi.com 

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Lars
O. Grobe
Sent: Wednesday, September 09, 2009 6:20 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Antimatter and windows

Hi Zack,

the problem you experience appears any time when you have coplanar
surfaces with different modifiers. A ray hitting such a surface sees
either material, and as they are coplanar this results in a random noise
/ mixture of both.

To use antimatter, place a box in you wall, so that the front side of it
is in front of the wall (you would see it from your position) while the
back one is behind. Make sure that there is no other geometry in the
volume of this box.

Now what happens is that a ray hitting the antimatter material with the
surface facing it will become blind, go on traveling the same direction
(or modify it according to what you give in the second line of the
antimatter modifier's definition), and start seeing geomertry only once
he passed thru the back of an antimatter surface again. In other words,
it is like if the ray jumps between the antimatter surfaces ignoring
everything in between.

Hope this is correct, but that was the result of looking at that part of
the code once ;-)

Cheers, Lars.

From lars.grobe at nus.edu.sg  Wed Sep  9 21:40:29 2009
From: lars.grobe at nus.edu.sg (Lars O. Grobe)
Date: Wed Sep  9 21:40:34 2009
Subject: [Radiance-general] Antimatter and windows
In-Reply-To: <24A618F8B54C4348B54C8684C918963B0104C1BB@BUGS.ideasi.com>
References: <24A618F8B54C4348B54C8684C918963B0104C19C@BUGS.ideasi.com>
	<4AA84615.6060308@gmx.net>
	<24A618F8B54C4348B54C8684C918963B0104C1BB@BUGS.ideasi.com>
Message-ID: <1252557629.7452.13.camel@Optiplex755>

Hi Zack!

> void antimatter opening
> 1 grey_0.60
> 0
> 0

This will make the backface of your antimatter appear grey.

void antimatter opening
1 void
0
0

Will have invisible backside faces, I think this is what you want.

Cheers, Lars.


From zrogers at ideasi.com  Wed Sep  9 22:12:46 2009
From: zrogers at ideasi.com (Zack Rogers)
Date: Wed Sep  9 22:12:06 2009
Subject: [Radiance-general] Antimatter and windows
References: <24A618F8B54C4348B54C8684C918963B0104C19C@BUGS.ideasi.com><4AA84615.6060308@gmx.net><24A618F8B54C4348B54C8684C918963B0104C1BB@BUGS.ideasi.com>
	<1252557629.7452.13.camel@Optiplex755>
Message-ID: <24A618F8B54C4348B54C8684C918963B0104C1BC@BUGS.ideasi.com>

Hi Lars, I tried "void" as the modifier and did not get any hole in my
wall from either side.  Also, if the first definition makes the backside
of the surfaces grey, then it would have been seen that way from both
sides of the wall.  The shadow side looks correct.  It seems like
inconsistent behaviour.

Zack


________________________________

  ZACK ROGERS, P.E., LEED AP, IESNA 
 
INTEGRATED DESIGN ASSOCIATES, INC
437 Main Street
Longmont, CO 80501
tel: 303.848.8299, fax: 303.848.8290 
www.ideasi.com 

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Lars
O. Grobe
Sent: Wednesday, September 09, 2009 10:40 PM
To: Radiance general discussion
Subject: RE: [Radiance-general] Antimatter and windows

Hi Zack!

> void antimatter opening
> 1 grey_0.60
> 0
> 0

This will make the backface of your antimatter appear grey.

void antimatter opening
1 void
0
0

Will have invisible backside faces, I think this is what you want.

Cheers, Lars.


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From zrogers at ideasi.com  Wed Sep  9 22:39:02 2009
From: zrogers at ideasi.com (Zack Rogers)
Date: Wed Sep  9 22:38:23 2009
Subject: [Radiance-general] Antimatter and windows
References: <24A618F8B54C4348B54C8684C918963B0104C19C@BUGS.ideasi.com>
	<4AA84615.6060308@gmx.net>
Message-ID: <24A618F8B54C4348B54C8684C918963B0104C1BD@BUGS.ideasi.com>

 
I think I figured it out.  If I use a box for the wall instead of just a
plane, the antimatter box seems to work correctly from all sides.  Here
are pictures of my working wall, with glass now placed in the opening:

http://docs.google.com/Doc?docid=0AcMF73k-1deIZGdkNmhja3BfMTAxYzIydGd2aD
c&hl=en
http://docs.google.com/Doc?docid=0AcMF73k-1deIZGdkNmhja3BfOTlnNDRmcThnYw
&hl=en

And here is the file that generated it:

void plastic grey_0.25
0
0
5            0.25          0.25          0.25
                0             0

void plastic grey_0.60
0
0
5             0.6           0.6           0.6
                0             0

void antimatter opening
1 grey_0.60
0
0

void	glass	glass_050	
0			
0			
3	0.5	0.5	0.5

!genbox grey_0.60 wall 30 .8 10 | xform -t 0 -.4 0

#grey_0.60 polygon Space.10_Wall.38
#0
#0
#12
#	0.00	0.00	10.00
#	0.00	0.00	0.00
#	30.00	0.00	0.00
#	30.00	0.00	10.00

!genbox opening hole 10 1 6 | xform -t 10 -.5 2

glass_050 polygon window
0
0
12	10	0	2
	10	0	8
	20	0	8
	20	0	2

grey_0.25 polygon ground
0
0
12	-100	-100	-0.5
	100	-100	-0.5
	100	100	-0.5
	-100	100	-0.5

!gensky 3 20 10.5 -a 42.8326 -o 106.329 -m 105.0 +s | xform -rz 0.0

skyfunc glow skyglow
0
0
4 0.9 0.9 1.0 0

skyglow source sky
0
0
4 0.0 0.0 1.0 180

skyfunc glow groundglow
0
0
4 1.0 0.8 0.5 0

groundglow source ground
0
0
4 0.0 0.0 -1.0 180

________________________________

  ZACK ROGERS, P.E., LEED AP, IESNA 
 
INTEGRATED DESIGN ASSOCIATES, INC
437 Main Street
Longmont, CO 80501
tel: 303.848.8299, fax: 303.848.8290 
www.ideasi.com 


From info at aisarquitectura.com  Thu Sep 10 03:27:07 2009
From: info at aisarquitectura.com (Ignacio Munarriz)
Date: Thu Sep 10 03:27:17 2009
Subject: [Radiance-general] Radiance Workshop
In-Reply-To: <C5E1527F129BF545A250B5AD0B0C26EF04C1A4AC@ENTWEXMB0000000.university.harvard.edu>
References: <C5E1527F129BF545A250B5AD0B0C26EF04C1A4AC@ENTWEXMB0000000.university.harvard.edu>
Message-ID: <4AA8D47B.8090009@aisarquitectura.com>

Dear Christoph,

I think it would be interesting a presentation of wglrad, an interactive 
raytrace-opengl windows viewer for radiance, it will replace nrv, and 
has additional features as:

- alow opengl mode
- multiprocessor and multi machine parallel calculation
- open rif files
- calculation parameters pane
- region render
- interactive navegation tools
- refine difusse reflections parameter
- client-server mode calculation

you can take a look of it  @  
http://www.aisarquitectura.com/software/research.htm , i told you some 
time ago about Z5 that is the standalone web viewer of wglrad, there is 
an example of it @ 
http://www.youtube.com/watch?v=z9j2Ga2A_bI&feature=related
please tell me if there is space for it in the workshop

Thanks & Regards,
Ignacio


Reinhart, Christoph escribi?:
> Dear colleagues and friends:
>
>  
>
> The next annual Radiance workshop, which will take place in Boston on
> October 22-23 (http://projects.gsd.harvard.edu/radiance2009/index.html),
> is approaching and I have previously gotten emails from a number of you
> indicating that you intend to participate and present. It would be
> helpful if you started sending us your 100 word abstracts and
> registering for the workshop to make the planning easier for us. I am
> looking forward to welcoming you to Boston next month.
>
>  
>
> All the best,
>
>  
>
> Christoph
>
> Christoph Reinhart, Dr. Ing. 
>
> Associate Professor of Architectural Technology
>
> Graduate School of Design - Harvard University
>
> Gund Hall 331, 48 Quincy Street, Cambridge, MA 02138, USA
>
> t: 617 384 7269, f: 617 495 8916, reinhart@gsd.harvard.edu
> <mailto:reinhart@gsd.harvard.edu> 
>
> Daylighting Design: Rules of Thumb
> <http://www.gsd.harvard.edu/people/faculty/reinhart/documents/DiffuseDay
> lightingDesignSequenceTutorial.pdf> , Simulation
> <http://www.daysim.com/> , 2009 International Radiance Workshop
> <http://projects.gsd.harvard.edu/radiance2009/index.html> 
>
>  
>
>  
>
>  
>
>
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


From reinhart at gsd.harvard.edu  Thu Sep 10 06:17:16 2009
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Thu Sep 10 06:17:21 2009
Subject: [Radiance-general] Radiance Workshop
In-Reply-To: <4AA8D47B.8090009@aisarquitectura.com>
References: <C5E1527F129BF545A250B5AD0B0C26EF04C1A4AC@ENTWEXMB0000000.university.harvard.edu>
	<4AA8D47B.8090009@aisarquitectura.com>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF04D3B6E5@ENTWEXMB0000000.university.harvard.edu>

Dear Igancio,

We have quite a few 3ds Max users at the school as well so I would welcome an abstract on wlgrad.Pleasse submit a 100 word abstract and (if you have not done so already) pleased register for the event.

All the best,

Christoph

-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Ignacio Munarriz
Sent: Thursday, September 10, 2009 6:27 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] Radiance Workshop

Dear Christoph,

I think it would be interesting a presentation of wglrad, an interactive 
raytrace-opengl windows viewer for radiance, it will replace nrv, and 
has additional features as:

- alow opengl mode
- multiprocessor and multi machine parallel calculation
- open rif files
- calculation parameters pane
- region render
- interactive navegation tools
- refine difusse reflections parameter
- client-server mode calculation

you can take a look of it  @  
http://www.aisarquitectura.com/software/research.htm , i told you some 
time ago about Z5 that is the standalone web viewer of wglrad, there is 
an example of it @ 
http://www.youtube.com/watch?v=z9j2Ga2A_bI&feature=related
please tell me if there is space for it in the workshop

Thanks & Regards,
Ignacio


Reinhart, Christoph escribi?:
> Dear colleagues and friends:
>
>  
>
> The next annual Radiance workshop, which will take place in Boston on
> October 22-23 (http://projects.gsd.harvard.edu/radiance2009/index.html),
> is approaching and I have previously gotten emails from a number of you
> indicating that you intend to participate and present. It would be
> helpful if you started sending us your 100 word abstracts and
> registering for the workshop to make the planning easier for us. I am
> looking forward to welcoming you to Boston next month.
>
>  
>
> All the best,
>
>  
>
> Christoph
>
> Christoph Reinhart, Dr. Ing. 
>
> Associate Professor of Architectural Technology
>
> Graduate School of Design - Harvard University
>
> Gund Hall 331, 48 Quincy Street, Cambridge, MA 02138, USA
>
> t: 617 384 7269, f: 617 495 8916, reinhart@gsd.harvard.edu
> <mailto:reinhart@gsd.harvard.edu> 
>
> Daylighting Design: Rules of Thumb
> <http://www.gsd.harvard.edu/people/faculty/reinhart/documents/DiffuseDay
> lightingDesignSequenceTutorial.pdf> , Simulation
> <http://www.daysim.com/> , 2009 International Radiance Workshop
> <http://projects.gsd.harvard.edu/radiance2009/index.html> 
>
>  
>
>  
>
>  
>
>
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From mstock at umich.edu  Mon Sep 14 13:15:45 2009
From: mstock at umich.edu (Mark Stock)
Date: Mon Sep 14 13:15:50 2009
Subject: [Radiance-general] Multiple spherical glow sources?
Message-ID: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>

Hello,

I am working on a star map for use with night renderings, and it 
seems like it should be decomposed into two layers: one is a 
high-resolution imagemap showing the stars themselves, the other 
is a low-resolution "light map" that should be used to actually 
illuminate the scene.

The problem is that I want the "light map" layer to do the 
illumination, but I don't want it to be visible. I want the image 
map to appear in the sky in the final rendering.

I know that I can use maxrad=-1 in the image map glow source to 
prevent it from contributing to scene illumination, and maxrad=0 
to allow the light map to illuminate. But mixfunc must be placed 
between the colorpict and the glow source, forcing me to either 
allow both to illuminate, or neither. But when the imagemap 
contributes to illumination, the result is very noisy 
(obviously).

This wouldn't be a problem if I could use two sky-dome sized glow 
sources in the same scene: "skyglow source skydome 0 0 4 0 0 1 
360". But Radiance only sees the last one to be defined.

And I can't make the light map into an "illum" because it then 
gets treated as a point source at the zenith of my "source" 
description (ignoring the 180-degree size of the source disc).

Do I need to add transparency to the imagemap before making it 
into a rad=-1 glow source, so that when a ray is traced between 
the stars, it hits the illuminating light map rad=0 glow source? 
I am reluctant to include another circa-gigabyte imagemap to the 
scene just for that.

Am I missing something else or is this impossible?

Mark

PS. Shouldn't the file size limit for colorpict images be raised? 
I get a warning for using even a 134MB picture file. I intend to 
go much larger.

From jedev at visarc.com  Mon Sep 14 13:51:14 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Sep 14 13:51:25 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
Message-ID: <4AAEACC2.9070004@visarc.com>

Hi Mark,

Is your high-res image an hdr? If so would it be worth looking into 
mksource to recover broad areas of the sky (clusters of star) as illum 
sources? Then your high res image can be mapped onto a glow source with 
the lighting provided by a set of illum sources (multiple ones with 
varying solid angles), derived from the hdr.

-Jack de Valpine


Mark Stock wrote:
> Hello,
>
> I am working on a star map for use with night renderings, and it seems 
> like it should be decomposed into two layers: one is a high-resolution 
> imagemap showing the stars themselves, the other is a low-resolution 
> "light map" that should be used to actually illuminate the scene.
>
> The problem is that I want the "light map" layer to do the 
> illumination, but I don't want it to be visible. I want the image map 
> to appear in the sky in the final rendering.
>
> I know that I can use maxrad=-1 in the image map glow source to 
> prevent it from contributing to scene illumination, and maxrad=0 to 
> allow the light map to illuminate. But mixfunc must be placed between 
> the colorpict and the glow source, forcing me to either allow both to 
> illuminate, or neither. But when the imagemap contributes to 
> illumination, the result is very noisy (obviously).
>
> This wouldn't be a problem if I could use two sky-dome sized glow 
> sources in the same scene: "skyglow source skydome 0 0 4 0 0 1 360". 
> But Radiance only sees the last one to be defined.
>
> And I can't make the light map into an "illum" because it then gets 
> treated as a point source at the zenith of my "source" description 
> (ignoring the 180-degree size of the source disc).
>
> Do I need to add transparency to the imagemap before making it into a 
> rad=-1 glow source, so that when a ray is traced between the stars, it 
> hits the illuminating light map rad=0 glow source? I am reluctant to 
> include another circa-gigabyte imagemap to the scene just for that.
>
> Am I missing something else or is this impossible?
>
> Mark
>
> PS. Shouldn't the file size limit for colorpict images be raised? I 
> get a warning for using even a 134MB picture file. I intend to go much 
> larger.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


From gregoryjward at gmail.com  Mon Sep 14 14:13:02 2009
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Sep 14 14:12:16 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <4AAEACC2.9070004@visarc.com>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
	<4AAEACC2.9070004@visarc.com>
Message-ID: <303902ED-A06E-4232-9818-E1752CE1DF1D@lmi.net>

Jack is right -- try mksource to see if that will work.  Otherwise,  
you can try creating several smaller illum sources and scatter them  
around your sky, with the glow behind.

-Greg

> From: Jack de Valpine <jedev@visarc.com>
> Date: September 14, 2009 1:51:14 PM PDT
>
> Hi Mark,
>
> Is your high-res image an hdr? If so would it be worth looking into  
> mksource to recover broad areas of the sky (clusters of star) as  
> illum sources? Then your high res image can be mapped onto a glow  
> source with the lighting provided by a set of illum sources  
> (multiple ones with varying solid angles), derived from the hdr.
>
> -Jack de Valpine

From Christopher.Rush at arup.com  Mon Sep 14 14:28:05 2009
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Mon Sep 14 14:28:11 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <303902ED-A06E-4232-9818-E1752CE1DF1D@lmi.net>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu><4AAEACC2.9070004@visarc.com>
	<303902ED-A06E-4232-9818-E1752CE1DF1D@lmi.net>
Message-ID: <EB124710ADB8554C930FADF760BB2BE70605C927@n-yexc01.global.arup.com>

Would a 5 sided inverted illum box encompassing your whole scene work?
I'm not sure if chamfering the edges would help shadow testing or
anything of the sort. It probably depends on how "low" the resolution of
your light map can be and if it's important to get the angles of the
dome image map to match up with the angles of the box light map.

Anyone think of a downside to this?

> ...Otherwise, you can try creating several smaller illum sources and
scatter them around your sky, with the glow behind...

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From mstock at umich.edu  Mon Sep 14 16:12:55 2009
From: mstock at umich.edu (Mark Stock)
Date: Mon Sep 14 16:12:59 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <4AAEACC2.9070004@visarc.com>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
	<4AAEACC2.9070004@visarc.com>
Message-ID: <Pine.LNX.4.64.0909141902510.7060@punchout.gpcc.itd.umich.edu>

The star map that I have now is LDR, but I intend to create a new 
HDR version using the raw star data from Tycho-2. Unfortunately, 
there are stars everywhere, so I'd need illums to cover pretty 
much the whole hemisphere. Since that'll wind up being 50-200 of 
them, it will cost a lot in render-time, and add some complexity 
to the preprocessing. This is disappointing because a single glow 
source would have sufficed, and accomplished almost the same 
thing.

Do "illum" surfaces respond to "rpict -ds" ? I'll want smooth 
penumbras. If so, I can get by with fewer illums.

Mark

On Mon, 14 Sep 2009, Jack de Valpine wrote:

> Hi Mark,
>
> Is your high-res image an hdr? If so would it be worth looking into mksource 
> to recover broad areas of the sky (clusters of star) as illum sources? Then 
> your high res image can be mapped onto a glow source with the lighting 
> provided by a set of illum sources (multiple ones with varying solid angles), 
> derived from the hdr.
>
> -Jack de Valpine
>
>
> Mark Stock wrote:
>> Hello,
>> 
>> I am working on a star map for use with night renderings, and it seems like 
>> it should be decomposed into two layers: one is a high-resolution imagemap 
>> showing the stars themselves, the other is a low-resolution "light map" 
>> that should be used to actually illuminate the scene.
>> 
>> The problem is that I want the "light map" layer to do the illumination, 
>> but I don't want it to be visible. I want the image map to appear in the 
>> sky in the final rendering.
>> 
>> I know that I can use maxrad=-1 in the image map glow source to prevent it 
>> from contributing to scene illumination, and maxrad=0 to allow the light 
>> map to illuminate. But mixfunc must be placed between the colorpict and the 
>> glow source, forcing me to either allow both to illuminate, or neither. But 
>> when the imagemap contributes to illumination, the result is very noisy 
>> (obviously).
>> 
>> This wouldn't be a problem if I could use two sky-dome sized glow sources 
>> in the same scene: "skyglow source skydome 0 0 4 0 0 1 360". But Radiance 
>> only sees the last one to be defined.
>> 
>> And I can't make the light map into an "illum" because it then gets treated 
>> as a point source at the zenith of my "source" description (ignoring the 
>> 180-degree size of the source disc).
>> 
>> Do I need to add transparency to the imagemap before making it into a 
>> rad=-1 glow source, so that when a ray is traced between the stars, it hits 
>> the illuminating light map rad=0 glow source? I am reluctant to include 
>> another circa-gigabyte imagemap to the scene just for that.
>> 
>> Am I missing something else or is this impossible?
>> 
>> Mark
>> 
>> PS. Shouldn't the file size limit for colorpict images be raised? I get a 
>> warning for using even a 134MB picture file. I intend to go much larger.
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>

From grobe at gmx.net  Mon Sep 14 18:06:08 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon Sep 14 18:06:17 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
Message-ID: <4AAEE880.8000308@gmx.net>

Hi Mark,

I have never looked into night skies, but from what I observed, they 
show little angular variance, as finally you have starts everywhere over 
the dome. Maybe I am ignoring something important here, but can't you 
assume a gradient for the illuminance to be totally fine to light your 
scene? I would assume that towards the horizon you get much higher 
levels due to "light pollution", but I cannot imagine that for the 
illumination of an object under the sky different "densities" of stars 
under different angles really show up.

By the way, do you know the paper on night sky modeling by Henrik Wann 
Jensen and others "A Physically-Based Night Sky Model"?

Cheers Lars.

From mstock at umich.edu  Mon Sep 14 18:24:55 2009
From: mstock at umich.edu (Mark Stock)
Date: Mon Sep 14 18:24:58 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <4AAEE880.8000308@gmx.net>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
	<4AAEE880.8000308@gmx.net>
Message-ID: <Pine.LNX.4.64.0909142122541.17070@punchout.gpcc.itd.umich.edu>

Lars,

Yes, I have that paper. I aim to include the atmospheric horizon 
glow in another step (mixfunc with the stars), and not even 
include the stars when their influence is negligible. The 
illumination from the stars will also only be effective when 
there is no moon (or a new moon).

Mark

On Tue, 15 Sep 2009, Lars O. Grobe wrote:

> Hi Mark,
>
> I have never looked into night skies, but from what I observed, they show 
> little angular variance, as finally you have starts everywhere over the dome. 
> Maybe I am ignoring something important here, but can't you assume a gradient 
> for the illuminance to be totally fine to light your scene? I would assume 
> that towards the horizon you get much higher levels due to "light pollution", 
> but I cannot imagine that for the illumination of an object under the sky 
> different "densities" of stars under different angles really show up.
>
> By the way, do you know the paper on night sky modeling by Henrik Wann Jensen 
> and others "A Physically-Based Night Sky Model"?
>
> Cheers Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>

From jedev at visarc.com  Tue Sep 15 09:21:01 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Sep 15 09:21:30 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <Pine.LNX.4.64.0909141902510.7060@punchout.gpcc.itd.umich.edu>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>	<4AAEACC2.9070004@visarc.com>
	<Pine.LNX.4.64.0909141902510.7060@punchout.gpcc.itd.umich.edu>
Message-ID: <4AAFBEED.7040806@visarc.com>

Hi Mark,

There are a few ways to run mksource in order to control the number of 
sources produced. I believe that there is a switch for a radiance 
threshold as well as the diameter of the resulting sources. With these 
you should be able to control how the hdr is sampled and thus the 
resulting number of sources produced, so perhaps you could sample things 
in order to end up with just a handful of sources covering the 
hemisphere.... which would be similar to using a low res version of the 
image to "smear" the light distribution.

I believe source sampling is affected by -ds (this is an issue relating 
to the geometry primitive such as source, polygon, ring rather than the 
material type such as light, illum or glow). You will also probably need 
to set -dj to something useful and perhaps most importantly use -u for 
uncorrelated monte carlo. This last will require greater sampling (eg 
larger image) in order to reduce noise in image by downsampling. Not 
sure but you might have a sampling related problem anyway if you were 
able to find a solution with simple glow source hemisphere.

I am trying to thing if there is some interesting trick with 
mixfunc/mixpict that could be applied, but nothing comes to mind at the 
moment.

-Jack

Mark Stock wrote:
> The star map that I have now is LDR, but I intend to create a new HDR 
> version using the raw star data from Tycho-2. Unfortunately, there are 
> stars everywhere, so I'd need illums to cover pretty much the whole 
> hemisphere. Since that'll wind up being 50-200 of them, it will cost a 
> lot in render-time, and add some complexity to the preprocessing. This 
> is disappointing because a single glow source would have sufficed, and 
> accomplished almost the same thing.
>
> Do "illum" surfaces respond to "rpict -ds" ? I'll want smooth 
> penumbras. If so, I can get by with fewer illums.
>
> Mark
>
> On Mon, 14 Sep 2009, Jack de Valpine wrote:
>
>> Hi Mark,
>>
>> Is your high-res image an hdr? If so would it be worth looking into 
>> mksource to recover broad areas of the sky (clusters of star) as 
>> illum sources? Then your high res image can be mapped onto a glow 
>> source with the lighting provided by a set of illum sources (multiple 
>> ones with varying solid angles), derived from the hdr.
>>
>> -Jack de Valpine
>>
>>
>> Mark Stock wrote:
>>> Hello,
>>>
>>> I am working on a star map for use with night renderings, and it 
>>> seems like it should be decomposed into two layers: one is a 
>>> high-resolution imagemap showing the stars themselves, the other is 
>>> a low-resolution "light map" that should be used to actually 
>>> illuminate the scene.
>>>
>>> The problem is that I want the "light map" layer to do the 
>>> illumination, but I don't want it to be visible. I want the image 
>>> map to appear in the sky in the final rendering.
>>>
>>> I know that I can use maxrad=-1 in the image map glow source to 
>>> prevent it from contributing to scene illumination, and maxrad=0 to 
>>> allow the light map to illuminate. But mixfunc must be placed 
>>> between the colorpict and the glow source, forcing me to either 
>>> allow both to illuminate, or neither. But when the imagemap 
>>> contributes to illumination, the result is very noisy (obviously).
>>>
>>> This wouldn't be a problem if I could use two sky-dome sized glow 
>>> sources in the same scene: "skyglow source skydome 0 0 4 0 0 1 360". 
>>> But Radiance only sees the last one to be defined.
>>>
>>> And I can't make the light map into an "illum" because it then gets 
>>> treated as a point source at the zenith of my "source" description 
>>> (ignoring the 180-degree size of the source disc).
>>>
>>> Do I need to add transparency to the imagemap before making it into 
>>> a rad=-1 glow source, so that when a ray is traced between the 
>>> stars, it hits the illuminating light map rad=0 glow source? I am 
>>> reluctant to include another circa-gigabyte imagemap to the scene 
>>> just for that.
>>>
>>> Am I missing something else or is this impossible?
>>>
>>> Mark
>>>
>>> PS. Shouldn't the file size limit for colorpict images be raised? I 
>>> get a warning for using even a 134MB picture file. I intend to go 
>>> much larger.
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> -- 
>> # Jack de Valpine
>> # president
>> #
>> # visarc incorporated
>> # http://www.visarc.com
>> #
>> # channeling technology for superior design and construction
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


From grobe at gmx.net  Tue Sep 15 18:40:13 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Sep 15 18:40:53 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <Pine.LNX.4.64.0909142122541.17070@punchout.gpcc.itd.umich.edu>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>	<4AAEE880.8000308@gmx.net>
	<Pine.LNX.4.64.0909142122541.17070@punchout.gpcc.itd.umich.edu>
Message-ID: <4AB041FD.3070203@gmx.net>

Hi Mark!
> Yes, I have that paper. I aim to include the atmospheric horizon glow 
> in another step (mixfunc with the stars), and not even include the 
> stars when their influence is negligible. The illumination from the 
> stars will also only be effective when there is no moon (or a new moon).

So would you expect any difference when using stars clustered into 
groups by mksource and just averaging all the stars contribution over 
the whole hemisphere?

One way would be to use mkillum on a facetted hemisphere. The resolution 
of this hemisphere could be adjusted (use gensurf) until you see no 
further improvements by increasing the resolution. I guess running 
mksource would create more or less the same result, as there will not be 
very concentrated regions on the night sky that mksource could optimize 
for. Maybe you would use the 145-patch sky dome for mkillum.

One other way you could go (please do not beat me for this Greg, I know 
that I tend to do funny things with Radiance :-) ) is to create such a 
simplified but correct sky dome, and using the photon map extension 
create a global photon map for your scene that will account for the 
ambient calculation (the one which gets noisy with the high-res image 
map). Then you replace the simplified sky dome by the one showing all 
detail, but keeping the old global pmap render our image. This should 
give a good result, as for the direct calculation having the high-res 
image map does not cause problems. To help distributing the photons in 
the first step, creating a big photon-port box around the area that will 
be visible in your image would be very helpful of course.

I am not sure whether it is possible to force radiance to reuse an 
ambient file without doing further refinement on it (ok, no it gets 
evil...). I would guess that you could do the trick I tried with the 
photon map by rendering the image first with the simplified glow sky, 
filling up your ambient file (without the noise that you would get from 
the high-res light probe). If you would re-use this ambient file in a 
second step with the high-res map, even if new values are written to it 
there should be much less noise, and in my understanding the result 
should still be correct. But - I have not tried it... ;-) Any comments 
on this?

Cheers,

Lars.

From grobe at gmx.net  Tue Sep 15 19:11:56 2009
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Sep 15 19:12:05 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <4AB041FD.3070203@gmx.net>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>	<4AAEE880.8000308@gmx.net>	<Pine.LNX.4.64.0909142122541.17070@punchout.gpcc.itd.umich.edu>
	<4AB041FD.3070203@gmx.net>
Message-ID: <4AB0496C.8020104@gmx.net>

Hi again...
> I am not sure whether it is possible to force radiance to reuse an 
> ambient file without doing further refinement on it (...)
Thinking about this again... the fool-proof way would be to use the 
simplified map for a first rendering run, derive ambient values from it 
and use these as -av values with -ab 0 and the high-res map in later 
runs. This should give you very fast and noise-free results...

Cheers, Lars.

From info at aisarquitectura.com  Wed Sep 16 04:53:32 2009
From: info at aisarquitectura.com (Ignacio Munarriz)
Date: Wed Sep 16 05:34:19 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
References: <Pine.LNX.4.64.0909141559540.17070@punchout.gpcc.itd.umich.edu>
Message-ID: <4AB0D1BC.60502@aisarquitectura.com>

Hi mark, maybe this trick -->>

Create a sphere (bubble) with the imagemap mapped to it but as a mixfunc 
with half transparency but double intensity (to compensate transparency)
void glow glw 0 0 4 1 1 0 -1
void mixfunc pepe 4 void glw .5 picture.cal 0 0
pepe bubble ball 0 0 4 0 0 0 1000

Create a source whith the light map
void glow pop 0 0 4 0 1 1 0
pop source pipo 0 0 4 0 0 1 180

An element to see the result
void plastic white 0 0 5 .5 .6 .8 0 0
white sphere ball 0 0 4 5 5 5 1

A view with an aft plane to discard the light map in view but not in 
calculation
rpict -va 3000 -vp 0 0 0 -vd 0 1 1 -vh 110 -vv 110

Rpict command
rpict -vf vi.vf -ab 1 pi.oct>pi.hdr

I dont know if i've miss something...

regards, ignacio

Mark Stock escribi?:
> Hello,
>
> I am working on a star map for use with night renderings, and it seems 
> like it should be decomposed into two layers: one is a high-resolution 
> imagemap showing the stars themselves, the other is a low-resolution 
> "light map" that should be used to actually illuminate the scene.
>
> The problem is that I want the "light map" layer to do the 
> illumination, but I don't want it to be visible. I want the image map 
> to appear in the sky in the final rendering.
>
> I know that I can use maxrad=-1 in the image map glow source to 
> prevent it from contributing to scene illumination, and maxrad=0 to 
> allow the light map to illuminate. But mixfunc must be placed between 
> the colorpict and the glow source, forcing me to either allow both to 
> illuminate, or neither. But when the imagemap contributes to 
> illumination, the result is very noisy (obviously).
>
> This wouldn't be a problem if I could use two sky-dome sized glow 
> sources in the same scene: "skyglow source skydome 0 0 4 0 0 1 360". 
> But Radiance only sees the last one to be defined.
>
> And I can't make the light map into an "illum" because it then gets 
> treated as a point source at the zenith of my "source" description 
> (ignoring the 180-degree size of the source disc).
>
> Do I need to add transparency to the imagemap before making it into a 
> rad=-1 glow source, so that when a ray is traced between the stars, it 
> hits the illuminating light map rad=0 glow source? I am reluctant to 
> include another circa-gigabyte imagemap to the scene just for that.
>
> Am I missing something else or is this impossible?
>
> Mark
>
> PS. Shouldn't the file size limit for colorpict images be raised? I 
> get a warning for using even a 134MB picture file. I intend to go much 
> larger.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From kodongh at iit.edu  Thu Sep 17 13:09:09 2009
From: kodongh at iit.edu (Dong Hwan Ko)
Date: Thu Sep 17 13:09:09 2009
Subject: [Radiance-general] ECOTECT Seminar at IIT, Chicago, Oct 12-13
Message-ID: <fb15bfd529316.4ab29765@iit.edu>

Dear All,

IIT-Chicago will be offering the 5th seminar using ECOTECT from Monday to
Tuesday morning October 12 to 13, 2009.

Please see attached 'IIT Ecotect Seminar Announcement & Program' file

I hope this seminar will be great opportunity for your green building &
environmental design analysis.

Thank you.

Sincerely,

Dong H. Ko
PhD, LEED AP
Research Associate
College of Architecture
Illinois Institute of Technology

 ---------------------------------------------------------------------------------------------------------------
                  IIT ECOTECT Seminar

(AUTODESK? ECOTECT  ANALYSIS 2010)

October 12-13, 2009 (One and half day seminar)

Day 1: Monday, October 12, 8:30am ? 4:30pm
Morning:           Introduction of ECOTECT & 3D modeling (import file)
Afternoon:        Weather Tool, Solar Tool & Shadow, Sun path, and Shading Analysis
                          - Solar Access Analysis, Daylight level, Shading,
Solar radiation
Day 2: Tuesday, October 13, 8:30am ? Noon
Morning:           Evaluation of various building performances using ECOTECT
                    (Building Analysis, Lighting, RADIANCE & Green Building Studio)


In this seminar, you will learn

? How to use ECOTECT programs that will help you make better design decisions
? The purpose and benefits of ECOTECT modeling
? How to interpret and report their results
? When to use ECOTECT for improving green & sustainable design
? To understand the techniques and design principles for low energy buildings
and the review of energy-efficient design strategies
? To understand the interdependence of design, location, weather, and scientific
factors in developing energy-efficient buildings
? To acquire the simulation skills to research weather and contexts in the
schematic design process and run simulation programs to analyze building energy
performance


PROGRAM

Day 1: Monday, October 12

Lecture-1 (08:30-09:00): Registration and Opening Remarks
Lecture-2 (09:00-09:30): Introduction ? Program Install, Setup
Lecture-3 (09:30-10:15): 3D Modeling (Ecotect & import file)
	
	(Coffee Break)

Lecture-4 (10:30-11:15): Weather Tool - Weather data, Climate zone
Lecture-5 (11:15-12:00): Sun-Path Diagram, Sun position, Shadow Analysis
	
	(Lunch)

Lecture-6 (13:00-13:45): Solar Tool and Shading
Lecture-7 (13:45-14:45): Solar Radiation
	
	(Coffee Break)

Lecture-8 (15:00-15:45): Solar Radiation (Solar Panel, Occupant Comfort, Glare)
Lecture-9 (15:45-16:30): Solar Radiation (BIPV, Location, Angle, Shading)


Day 2: Tuesday, October 13

Lecture-10 (08:30-09:00): Daylight Requirements (Daylight Factor, Daylight 
			Autonomy, and LEED 2.2 and 2009 (V3) Requirements)
Lecture-11 (09:00-10:15): Lighting Analysis (Indoor illuminance, FC and DF)
			     & RADIANCE (Analysis of all Daylight Performance)
	
(Coffee Break)

Lecture-12 (10:30-11:15): Green Building Studio 1
Lecture-13 (11:15-12:00): Green Building Studio 2

* Every Lecture contain ?15 minutes individual practice? and ?Q&A session?.


Questions
If you want to register ?IIT Ecotect Seminar? or need more information, please
contact;
- D.H. Ko, PhD, LEED AP, kodongh@iit.edu.
- Payam Bahrami, PhD Administrative Assistant, 312.567.3930 or arch_phd@iit.edu


From andrew.mcneil at arup.com  Fri Sep 18 10:37:06 2009
From: andrew.mcneil at arup.com (Andrew McNeil)
Date: Fri Sep 18 10:37:12 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <4AB0496C.8020104@gmx.net>
Message-ID: <C6D91352.CF29%andrew.mcneil@arup.com>

Hi,

Lars - why not use the relevant pixels from the first run in the final
image?

Model 1 - low res radiance map
Model 2 - uniform white sky
Model 3 - high res star map

rpict -ab 5 mod1.oct > pic1.hdr //high quality rendering
rpict -ab 0 mod2.oct > mask.hdr //image mask - black and white pixels
rpict -ab 0 mod3.oct > pic3.hdr //direct only rendering, starry sky

Use the mask to replace sky pixels with pixels of the starry sky:

pcomb -e 'Ro=if(Ri(2),Ri(3),Ri(1) etc...'  \
       pic1.hdr mask.hdr pic3.hdr > final.hdr


This was my initial thought when I saw Mark's query, but I thought an all
encompassing model (ala Jack's mksource suggestion) would probably fit
better.  I'm not sure how practical three images and pcomb is with M. Stock
sized pre-filtered renderings.  But given the complexity of the subsequent
responses, maybe a dumber solution is more practical?

Andy  



On 9/15/09 7:11 PM, "Lars O. Grobe" <grobe@gmx.net> wrote:

> Hi again...
>> I am not sure whether it is possible to force radiance to reuse an
>> ambient file without doing further refinement on it (...)
> Thinking about this again... the fool-proof way would be to use the
> simplified map for a first rendering run, derive ambient values from it
> and use these as -av values with -ab 0 and the high-res map in later
> runs. This should give you very fast and noise-free results...
> 
> Cheers, Lars.
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From jedev at visarc.com  Mon Sep 21 06:16:13 2009
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Sep 21 06:16:20 2009
Subject: [Radiance-general] Multiple spherical glow sources?
In-Reply-To: <C6D91352.CF29%andrew.mcneil@arup.com>
References: <C6D91352.CF29%andrew.mcneil@arup.com>
Message-ID: <4AB77C9D.9030404@visarc.com>

Hi Mark,

One additional thought that occurred to me this weekend. To simplify 
processing your star map through mksource (if this is the way you go), 
it might make sense to downsample (significantly) the super large hdr 
image and then sample it back up to some manageable size. This should 
smear out the values. Feeding this to mksource might then be easier.

-Jack

Andrew McNeil wrote:
> Hi,
>
> Lars - why not use the relevant pixels from the first run in the final
> image?
>
> Model 1 - low res radiance map
> Model 2 - uniform white sky
> Model 3 - high res star map
>
> rpict -ab 5 mod1.oct > pic1.hdr //high quality rendering
> rpict -ab 0 mod2.oct > mask.hdr //image mask - black and white pixels
> rpict -ab 0 mod3.oct > pic3.hdr //direct only rendering, starry sky
>
> Use the mask to replace sky pixels with pixels of the starry sky:
>
> pcomb -e 'Ro=if(Ri(2),Ri(3),Ri(1) etc...'  \
>        pic1.hdr mask.hdr pic3.hdr > final.hdr
>
>
> This was my initial thought when I saw Mark's query, but I thought an all
> encompassing model (ala Jack's mksource suggestion) would probably fit
> better.  I'm not sure how practical three images and pcomb is with M. Stock
> sized pre-filtered renderings.  But given the complexity of the subsequent
> responses, maybe a dumber solution is more practical?
>
> Andy  
>
>
>
> On 9/15/09 7:11 PM, "Lars O. Grobe" <grobe@gmx.net> wrote:
>
>   
>> Hi again...
>>     
>>> I am not sure whether it is possible to force radiance to reuse an
>>> ambient file without doing further refinement on it (...)
>>>       
>> Thinking about this again... the fool-proof way would be to use the
>> simplified map for a first rendering run, derive ambient values from it
>> and use these as -av values with -ab 0 and the high-res map in later
>> runs. This should give you very fast and noise-free results...
>>
>> Cheers, Lars.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>     
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20090921/0eaf18a7/attachment.htm
From rfritz at u.washington.edu  Tue Sep 22 13:29:08 2009
From: rfritz at u.washington.edu (R Fritz)
Date: Tue Sep 22 13:29:12 2009
Subject: [Radiance-general] gmane?
Message-ID: <A70D456E-6802-41B4-AB2D-88A362A47F67@u.washington.edu>

I think it would be cool to have the Radiance and HDR discussion lists  
available through Gmane, <http://gmane.org/>.  How do you-all feel  
about it?

Randolph


From rfritz at u.washington.edu  Mon Sep 28 11:10:32 2009
From: rfritz at u.washington.edu (R Fritz)
Date: Mon Sep 28 11:10:40 2009
Subject: [Radiance-general] gmane?
In-Reply-To: <A70D456E-6802-41B4-AB2D-88A362A47F67@u.washington.edu>
References: <A70D456E-6802-41B4-AB2D-88A362A47F67@u.washington.edu>
Message-ID: <FD654093-75A4-4A86-B18B-C13F431FBB79@u.washington.edu>

Since there have been no violent objections, I am going to go ahead  
and suggest this list to gmane.org.

Randolph

On Sep 22, 2009, at 1:29 PM, R Fritz wrote:

> I think it would be cool to have the Radiance and HDR discussion  
> lists available through Gmane, <http://gmane.org/>.  How do you-all  
> feel about it?


