From hope.zh at gmail.com  Mon Aug  2 22:30:12 2010
From: hope.zh at gmail.com (Ji Zhang)
Date: Mon Aug  2 22:30:12 2010
Subject: [Radiance-general] result of rtrace calculation is different for
	Radiance in Unix and Windows
Message-ID: <AANLkTimziSyS+Nwoow_j2JqiGJuP=7O1_2uHXVhQmRki@mail.gmail.com>

Dear Radiance experts,

We're using rtrace to calculate daylight factor. The scene file, sensor
file, rtrace command parameters are all the same.

However, the result seems to be different when run the same rtrace command
in Unix and Windows, although the difference is not that much (0.11 to 0.13
in terms of daylight factor).

I've already used a "-u-" option for rtrace.

The Radiance in Unix is version 3.9 (installed via Ubuntu software centre)

The Radiance in Windows is version 3.7 (downloaded from
http://www.arch.mcgill.ca/prof/reinhart/software/)

May I ask whether it's the Radiance version difference that caused the
different results?

Thanks!

Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100803/e6cfe920/attachment.html
From grobe at gmx.net  Tue Aug  3 00:32:18 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Aug  3 00:32:32 2010
Subject: [Radiance-general] result of rtrace calculation is different for
	Radiance in Unix and Windows
In-Reply-To: <AANLkTimziSyS+Nwoow_j2JqiGJuP=7O1_2uHXVhQmRki@mail.gmail.com>
References: <AANLkTimziSyS+Nwoow_j2JqiGJuP=7O1_2uHXVhQmRki@mail.gmail.com>
Message-ID: <CC847DE5-7027-4FFB-9DB4-8755079A19EC@gmx.net>

Hi Ji,

it should be the same, but of course development continued after 3.7  
and maybe some fixed bug or other change in the code led to different  
results. My first guess however would be a change in the default  
parameters. That would mean that you may be running rtrace with  
different settings without even knowing it. Please do a quick check by  
running "rtrace -defaults" on both platforms and check for differences  
in the output.

Cheers, Lars.
--
Dipl.-Ing. Architect Lars O. Grobe

> However, the result seems to be different when run the same rtrace  
> command in Unix and Windows, although the difference is not that  
> much (0.11 to 0.13 in terms of daylight factor).

From tbleicher at googlemail.com  Tue Aug  3 00:56:42 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Tue Aug  3 00:56:37 2010
Subject: [Radiance-general] result of rtrace calculation is different for 
	Radiance in Unix and Windows
In-Reply-To: <AANLkTimziSyS+Nwoow_j2JqiGJuP=7O1_2uHXVhQmRki@mail.gmail.com>
References: <AANLkTimziSyS+Nwoow_j2JqiGJuP=7O1_2uHXVhQmRki@mail.gmail.com>
Message-ID: <AANLkTimNVjD9LbodyETkO6j=iMTjbH8syAz_03gOdVp0@mail.gmail.com>

Ji.

On Tue, Aug 3, 2010 at 6:30 AM, Ji Zhang <hope.zh@gmail.com> wrote:
> We're using rtrace to calculate daylight factor. The scene file, sensor
> file, rtrace command parameters are all the same.
>
> However, the result seems to be different when run the same rtrace command
> in Unix and Windows, although the difference is not that much (0.11 to 0.13
> in terms of daylight factor).

0.11 vs 0.13 DF means you have an error of around 2 per mil which is
quite accurate for daylight calculations.

Do you get the same results for two simulations on the same platform?
If not then your rtrace parameters might just not be high enough.

Regards,
Thomas

From crh at alectia.com  Tue Aug  3 12:22:39 2010
From: crh at alectia.com (Christian Anker Hviid)
Date: Tue Aug  3 12:24:45 2010
Subject: [Radiance-general] Christian Anker Hviid/B-K is out of the office.
Message-ID: <OF77B6D440.51788C5B-ONC1257774.006A71F0-C1257774.006A71F2@alectia.com>


I will be out of the office starting  2010-08-02 and will not return until
2010-08-23.

I will respond to your message when I return or you can call me at my
private number +4540879749


From reinhart at gsd.harvard.edu  Tue Aug  3 19:31:18 2010
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Tue Aug  3 19:31:18 2010
Subject: [Radiance-general] DIVA-for-Rhino 
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF077CA129@ENTWEXMB0000000.university.harvard.edu>

Dear colleagues,

 

Some of you might be interested in a new Radiance/Daysim plug-in that we
have developed for the Rhinoceros - NURBS modeling for Windows
application. The plug-in, called DIVA-for-Rhino, supports a series of
performance evaluations including:

 

- Physically-based scene visualizations (Radiance)

- Annual radiation maps (Radiance/GenCumulativeSky)

- Climate-based daylighting metrics (Daysim)

- Glare analysis (Evalglare)

- LEED IEQ Credit 8.1 compliance (Radiance)

 

The plug-in offers a highly optimized simulation workflow within
Rhinoceros and can be combined with parametric Grasshopper scripting in
order to generate animated Radiance/Daysim simulations.   

More information can be found at
www.gsd.harvard.edu/research/gsdsquare/ABPS.html. You can download the
plug-in from www.diva-for-rhino.com.

 

Happy simulations!

 

Christoph Reinhart, Alstan Jakubiec, Kera Lagios and Jeff Niemasz

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100803/07c40f7f/attachment.htm
From cbm at create.aau.dk  Wed Aug  4 01:44:12 2010
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Wed Aug  4 01:43:29 2010
Subject: [Radiance-general] Computing irradiances for glow materials
Message-ID: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>





Dear Radiance list,

I have a problem with using glow for backprojecting an image onto the geometry of the scene. I have compiled a small .html page with some images to support my question:

http://www.cvmt.dk/~cbm/tmp/radianceglowproblem/glowproblem.html


In short: I have acquired an image of a scene for which I also have a 3D model. The camera is calibrated to the scene, and therefore I am able to backproject the image pixels onto the geometry. Now I want to use the rpict -i option to compute the irradiances in the scene, where the backprojected image should be the only illumination in the scene. I.e., the backprojected image should be treated as emitted radiance from diffusely emitting surfaces, and I want to render the irradiance received at all locations in the scene. But when I do that, the only thing which shows up in the render are the glow materials, not the irradiances.

I am hoping my will be clear if someone finds time to look at the images on the above link.


Best,
Claus



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100804/d50a12d6/attachment.html
From tbleicher at googlemail.com  Wed Aug  4 02:39:39 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed Aug  4 02:39:54 2010
Subject: [Radiance-general] Computing irradiances for glow materials
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
Message-ID: <AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>

Morning.

My comments are below to keep the context of the question.

2010/8/4 Claus Br?ndgaard Madsen <cbm@create.aau.dk>:
> http://www.cvmt.dk/~cbm/tmp/radianceglowproblem/glowproblem.html

As a side note: You can get rid of light sources with the "-dv" switch
of rpict. However, sky domes are usually made out of the "glow"
primitive which is treated differently than a proper "source".

In any case, to eliminate the sky dome in your second image just set a
"-va" clipping plane just behind your geometry.

> In short: I have acquired an image of a scene for which I also have a 3D
> model. The camera is calibrated to the scene, and therefore I am able to
> backproject the image pixels onto the geometry. Now I want to use the rpict
> ?i option to compute the irradiances in the scene, where the backprojected
> image should be the only illumination in the scene. I.e., the backprojected
> image should be treated as emitted radiance from diffusely emitting
> surfaces, and I want to render the irradiance received at all locations in
> the scene. But when I do that, the only thing which shows up in the render
> are the glow materials, not the irradiances.

If I understand correctly, you want to use the projected texture as
HDR light source. Your problem now is that you can not show irridiance
values because your scene is made up of glow materials for which rpict
does not show irridiance values (that's why it's called "glow").

One idea would be to split the texture image in two or more parts and
define only the surfaces covered by a partial image as glow. The rest
is an ordinary plastic material which will show irridiance values. You
then create separate images and add up all the irridiance values to
create the final image. You probably have to use "-dv" as well to keep
the glow surfaces out of the partial image (although I don't really
know if that affects "glow").

When you split the image you have to check which surfaces can
illuminate others. For example the roof can illuminate the chimney but
not the walls. This also shows a problem of  your method of projecting
the image from a single camera view point: The lantern on top of the
building is partially hidden by the chimney so it's texture will not
cover the full geometry. However, the roof could receive light from
the whole structure but because there is no texture there the hidden
part will not contribute to the irridiance on the roof. Of course
that's only a problem if you only do have a single camera view point.

Another more complex solution to your problem would be the following:

1) You create the view point and direction of each image pixel with vwrays.
2) Along each ray you check for an intersection with the geometry.
3) At the intersection point you calculate the irridiance value with
"rtrace -I" using the intersection point and surface normal as origin
and direction. The calculated value gives you the RGB values for this
pixel.
4) You compile a new image pixel by pixel out of individual irridiance values.

Although that sounds complicated it is possible to do this in Radiance
with a single (long) command line. You can find an introduction to the
various tools and their command options here:

http://sites.google.com/site/tbleicher/radiance/stencil


Happy reading,
Thomas

From grobe at gmx.net  Wed Aug  4 12:46:57 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Aug  4 12:47:18 2010
Subject: [Radiance-general] Computing irradiances for glow materials
In-Reply-To: <AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
Message-ID: <4C59C3B1.9080602@gmx.net>

Just an idea... if you assume all materials to be lambertian, you just 
need the reflectance of any visible surface to be able to calculate the 
irradiance it receives...?

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100804/dd694af6/smime.bin
From hdirani at eegroup.info  Thu Aug  5 02:32:21 2010
From: hdirani at eegroup.info (Hind Dirani)
Date: Thu Aug  5 02:26:55 2010
Subject: [Radiance-general] Radout
In-Reply-To: <4C59C3B1.9080602@gmx.net>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
	<4C59C3B1.9080602@gmx.net>
Message-ID: <53712E7580A846E28012D3BAF84D288D@mmgsal.com>


 Dear All
 
I'm learning Daysim, and I read that we can convert from AutoCAD to Radiance
using Radout.
 
Can anyone provide me with available link to download Radout or send it by
email if possible.

Thanks,
Hind
 



From tbleicher at googlemail.com  Thu Aug  5 03:10:39 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu Aug  5 03:10:37 2010
Subject: [Radiance-general] Radout
In-Reply-To: <53712E7580A846E28012D3BAF84D288D@mmgsal.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
	<4C59C3B1.9080602@gmx.net>
	<53712E7580A846E28012D3BAF84D288D@mmgsal.com>
Message-ID: <AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com>

Hind.

You can find links and information on this page:

http://www.bozzograo.net/radiancewiki/doku.php?id=converting_models_from_autocad_to_radiance

However, all the AutoCAD scripts are rather out of date now and will
probably not work with newer versions of AutoCAD. Radiance has its own
support for OBJ files (via obj2rad or obj2mesh) so if you can convert
your CAD geometry to obj that might be a way for you.

You also can use SketchUp to load DWG files. If you don't have the Pro
version of SU you need to download a separately available plugin for
DWG/DXF support. Then you can use my own script to export to Radiance
format or directly to Daysim:

http://su2rad.googlecode.com/files/su2rad_daysim_r03.zip

And finally, if you have Rhino available there is a new tool for Rhino
that provides (among others) Daysim support:

http://www.gsd.harvard.edu/research/gsdsquare/ABPS.html
download: http://www.diva-for-rhino.com/

Regards,
Thomas


On Thu, Aug 5, 2010 at 10:32 AM, Hind Dirani <hdirani@eegroup.info> wrote:
>
> ?Dear All
>
> I'm learning Daysim, and I read that we can convert from AutoCAD to Radiance
> using Radout.
>
> Can anyone provide me with available link to download Radout or send it by
> email if possible.
>
> Thanks,
> Hind
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

From hdirani at eegroup.info  Thu Aug  5 03:48:31 2010
From: hdirani at eegroup.info (Hind Dirani)
Date: Thu Aug  5 03:43:04 2010
Subject: [Radiance-general] Radout
In-Reply-To: <AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com>
	<AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com>
Message-ID: <BA215A87697445D184DF6485C9693577@mmgsal.com>


Thomas, 

I haven?t used all these programs before, what is the best & easier method
(program) to build a 3D model that can be use in Daysin.

Thanks a lot Thomas,
 
Hind


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Thomas
Bleicher
Sent: Thursday, August 05, 2010 1:11 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Radout

Hind.

You can find links and information on this page:

http://www.bozzograo.net/radiancewiki/doku.php?id=converting_models_from_aut
ocad_to_radiance

However, all the AutoCAD scripts are rather out of date now and will
probably not work with newer versions of AutoCAD. Radiance has its own
support for OBJ files (via obj2rad or obj2mesh) so if you can convert
your CAD geometry to obj that might be a way for you.

You also can use SketchUp to load DWG files. If you don't have the Pro
version of SU you need to download a separately available plugin for
DWG/DXF support. Then you can use my own script to export to Radiance
format or directly to Daysim:

http://su2rad.googlecode.com/files/su2rad_daysim_r03.zip

And finally, if you have Rhino available there is a new tool for Rhino
that provides (among others) Daysim support:

http://www.gsd.harvard.edu/research/gsdsquare/ABPS.html
download: http://www.diva-for-rhino.com/

Regards,
Thomas


On Thu, Aug 5, 2010 at 10:32 AM, Hind Dirani <hdirani@eegroup.info> wrote:
>
> ?Dear All
>
> I'm learning Daysim, and I read that we can convert from AutoCAD to
Radiance
> using Radout.
>
> Can anyone provide me with available link to download Radout or send it by
> email if possible.
>
> Thanks,
> Hind
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From tbleicher at googlemail.com  Thu Aug  5 04:01:42 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu Aug  5 04:01:40 2010
Subject: [Radiance-general] Radout
In-Reply-To: <BA215A87697445D184DF6485C9693577@mmgsal.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
	<4C59C3B1.9080602@gmx.net>
	<53712E7580A846E28012D3BAF84D288D@mmgsal.com>
	<AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com>
	<BA215A87697445D184DF6485C9693577@mmgsal.com>
Message-ID: <AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>

On Thu, Aug 5, 2010 at 11:48 AM, Hind Dirani <hdirani@eegroup.info> wrote:
> I haven?t used all these programs before, what is the best & easier method
> (program) to build a 3D model that can be use in Daysin.

That depends on your skills with AutoCAD and which software you have available.
If you are comfortable in AutoCAD then use that to build your geometry
and find a tool that helps you to convert the geometry to OBJ. 3D Max
or Rhino can do that and it doesn't take a lot of skill to import a
file and export it in another format.

If you're new to 3D modeling anyway you can try SketchUp. Compared to
all the other 3D apps out there it is easy and intuitive to use. The
models for DAYSIM will not be too complex either so should be able to
do all your modeling in SketchUp.

Regards,
Thomas

From cbm at create.aau.dk  Thu Aug  5 05:44:59 2010
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu Aug  5 05:44:15 2010
Subject: [Radiance-general] Computing irradiances for glow materials
In-Reply-To: <AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
Message-ID: <E35477F1A321144D897D44CCAAFF202C048D146E2F@AD-MAILBOX01.aau.dk>


Hi Thomas,

Thanks for your swift reply ... sorry I couldn't reply yesterday.

You're right, the "-dv" option does not disable direct view of glow materials. The far clip plane tip is great, though. Thanks.

You understood my question perfectly. Yes, I wish to use the image as an HDR light source. Your idea of carving the process into separate steps is viable, but messy and cannot really be automated.

I think I'm gonna go with the excellent idea of computing the irradiance on a per-pixel basis ... I have looked at your stencil "tutorial" and think I can re-create something that would suit my purpose. Allow me to return to you if I run into severe problems, though :-)

Best
Claus


-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Thomas Bleicher
Sent: 4. august 2010 11:40
To: Radiance general discussion
Subject: Re: [Radiance-general] Computing irradiances for glow materials

Morning.

My comments are below to keep the context of the question.

2010/8/4 Claus Br?ndgaard Madsen <cbm@create.aau.dk>:
> http://www.cvmt.dk/~cbm/tmp/radianceglowproblem/glowproblem.html

As a side note: You can get rid of light sources with the "-dv" switch
of rpict. However, sky domes are usually made out of the "glow"
primitive which is treated differently than a proper "source".

In any case, to eliminate the sky dome in your second image just set a
"-va" clipping plane just behind your geometry.

> In short: I have acquired an image of a scene for which I also have a 3D
> model. The camera is calibrated to the scene, and therefore I am able to
> backproject the image pixels onto the geometry. Now I want to use the rpict
> -i option to compute the irradiances in the scene, where the backprojected
> image should be the only illumination in the scene. I.e., the backprojected
> image should be treated as emitted radiance from diffusely emitting
> surfaces, and I want to render the irradiance received at all locations in
> the scene. But when I do that, the only thing which shows up in the render
> are the glow materials, not the irradiances.

If I understand correctly, you want to use the projected texture as
HDR light source. Your problem now is that you can not show irridiance
values because your scene is made up of glow materials for which rpict
does not show irridiance values (that's why it's called "glow").

One idea would be to split the texture image in two or more parts and
define only the surfaces covered by a partial image as glow. The rest
is an ordinary plastic material which will show irridiance values. You
then create separate images and add up all the irridiance values to
create the final image. You probably have to use "-dv" as well to keep
the glow surfaces out of the partial image (although I don't really
know if that affects "glow").

When you split the image you have to check which surfaces can
illuminate others. For example the roof can illuminate the chimney but
not the walls. This also shows a problem of  your method of projecting
the image from a single camera view point: The lantern on top of the
building is partially hidden by the chimney so it's texture will not
cover the full geometry. However, the roof could receive light from
the whole structure but because there is no texture there the hidden
part will not contribute to the irridiance on the roof. Of course
that's only a problem if you only do have a single camera view point.

Another more complex solution to your problem would be the following:

1) You create the view point and direction of each image pixel with vwrays.
2) Along each ray you check for an intersection with the geometry.
3) At the intersection point you calculate the irridiance value with
"rtrace -I" using the intersection point and surface normal as origin
and direction. The calculated value gives you the RGB values for this
pixel.
4) You compile a new image pixel by pixel out of individual irridiance values.

Although that sounds complicated it is possible to do this in Radiance
with a single (long) command line. You can find an introduction to the
various tools and their command options here:

http://sites.google.com/site/tbleicher/radiance/stencil


Happy reading,
Thomas

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 9.0.851 / Virus Database: 271.1.1/3049 - Release Date: 08/03/10 16:22:00

From cbm at create.aau.dk  Thu Aug  5 05:48:59 2010
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu Aug  5 05:48:11 2010
Subject: [Radiance-general] Computing irradiances for glow materials
In-Reply-To: <4C59C3B1.9080602@gmx.net>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
	<4C59C3B1.9080602@gmx.net>
Message-ID: <E35477F1A321144D897D44CCAAFF202C048D146E30@AD-MAILBOX01.aau.dk>



Hi Lars,

I'm sorry. I don't understand what you mean by this. I am assuming that all materials are diffuse, but, as Thomas said, I wish to treat the image as a emitted radiance in an image-based illumination scheme, and I wish to compute the irradiance for every point in the scene under the condition that the backprojected HDR image is the only energy in the scene.

Best,
Claus


-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Lars O. Grobe
Sent: 4. august 2010 21:47
To: Radiance general discussion
Subject: Re: [Radiance-general] Computing irradiances for glow materials

Just an idea... if you assume all materials to be lambertian, you just need the reflectance of any visible surface to be able to calculate the irradiance it receives...?

Cheers, Lars.


No virus found in this incoming message.
Checked by AVG - www.avg.com
Version: 9.0.851 / Virus Database: 271.1.1/3050 - Release Date: 08/04/10 06:45:00

From Christopher.Rush at arup.com  Thu Aug  5 06:10:06 2010
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu Aug  5 06:12:45 2010
Subject: [Radiance-general] Computing irradiances for glow materials
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C048D146E30@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
	<4C59C3B1.9080602@gmx.net>
	<E35477F1A321144D897D44CCAAFF202C048D146E30@AD-MAILBOX01.aau.dk>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B048630FEFC2@AMXEXC01.global.arup.com>

I think Lars is saying you can calculate irradiance based only on the radiance values of your back-projected image, without any ray-tracing. Important to note that this - and most of this discussion - assumes your back-projected image is captured in a calibrated way such as what Photosphere/hdrgen can do (there's a separate forum for HDR images if you're unsure).

Radiance = Irradiance * Reflectance / Pi




> Just an idea... if you assume all materials to be lambertian, you just need the reflectance of any visible surface to be able to calculate the irradiance it receives...?

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From MdelaFuente at wmtao.com  Thu Aug  5 07:02:15 2010
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Thu Aug  5 07:03:26 2010
Subject: [Radiance-general] Radout
In-Reply-To: <73C6A5C4.797@mail.wmtao.com>
References: <73C6A5C4.797@mail.wmtao.com>
Message-ID: <4C5A7E1702000049000126EA@mail.wmtao.com>

Hind,
 
I still use the old torad program when going from AutoCAD to Radiance. (From what I remember it is slower than radout) Unfortunately there was an autocad version check that kept it from working right on newer AutoCADs.  We fixed a layer bug and changed the autocad version to work on 2007.  If you are running 2010, you will have to find the comments we added and change from version 17 to whatever version 2010 is (18?).
 
Below are the contents of torad.lsp.  You will have to replace the contents of your file with the following text. Sorry this is long, but I don't think you can attach files.
 
I believe torad is available from the official radiance website.
 
Hope that helps.
 
Mark de la Fuente
 
 
;;; ***************************************************************************
;;;        torad.lsp
;;;        export RADIANCE scene description files from Autocad.
;;;
;;;        Copyright (C) 1993 by Georg Mischler / Lehrstuhl
;;;                              fuer Bauphysik ETH Zurich.
;;; 
;;;        Permission to use, copy, modify, and distribute this software
;;;        for any purpose and without fee is hereby granted, provided
;;;        that the above copyright notice appears in all copies and that
;;;        both that copyright notice and this permission notice appear in
;;;        all supporting documentation.
;;;
;;;        THIS SOFTWARE IS PROVIDED "AS IS" WITHOUT EXPRESS OR IMPLIED
;;;        WARRANTY.  ALL IMPLIED WARRANTIES OF FITNESS FOR ANY PARTICULAR
;;;        PURPOSE AND OF MERCHANTABILITY ARE HEREBY DISCLAIMED.
;;;
;;;        Acknowlegdements: 
;;;        Final developement of this program has been sponsored by Prof. Dr. 
;;;        B. Keller, Building Physics, Dep. for Architekture ETH Zurich. 
;;;        The developement environment has been provided by Prof. Dr.
;;;        G. Schmitt, Architecture & CAAD ETH Zurich. 
;;;
;;; Edited by AKS on 9/12/06 to get it to work right. Some errors and
;;; updating were required.
;;;
;;; ***************************************************************************
 
;;; general environment setup.
;;; load compiled files if possible or else sources.
 
(progn
  (setq *torad_preverr* *error*
  *error* '((msg)
      (setq *error* *torad_preverr*)
      (prompt "Load failed for torad.lsp!\n")
      (if (null BD4A)
    (prompt "Extended Lisp compiler not supported on this platform!\n"))
      (princ) ) )
  (if (null *col*) (setq *col* 10))
  (if (null  *toradtypelist*) (setq *toradtypelist*
 '("3DFACE""TRACE""SOLID""LINE""PLINE""WPLINE""CIRCLE""ARC""PMESH""PFACE")) )
  (if (null *exportsmode*) (setq *exportsmode* "Color" ))
  (if (null *exportnsegs*) (setq *exportnsegs*  16     ))
  (if (null *toraddlgpos*) (setq *toraddlgpos* '(-1 -1)))
  (cond ( (null (or (and BD4A (load "esample.bi4" NIL)) (load "esample" NIL)))
    (prompt "Can't load sampling functions from \"esample.lsp\"!\007\n")
    (exit) )
  (T NIL) )
  (cond ( (null (or (and BD4A (load "vector.bi4"  NIL)) (load "vector"  NIL)))
    (prompt "Can't load vector functions from \"vector.lsp\"!\007\n")
    (exit) )
  (T NIL) )
  )
 

;;; ***************************************************************************
 
(defun *torad_error* (msg)
  ;; error handling for torad.lsp.
  (cond ( (and (/= "console break" msg)
               (/= "Function cancelled" msg))
          (terpri)
          (princ msg) ))
  (torad_reset) )
 

(defun torad_setup ()
  ;; global setup for torad.lsp.
  (regapp "MKVOL_LSP_01")
  (setq *Exportentlist* NIL
        *exportblocklist* NIL
        *FILE* NIL
        *torad_preverr* *error*
        *error* *torad_error*
))
 
(defun torad_reset ()
  ;; global reset for torad.lsp.
  (if *FILE* (close *FILE*))
  (setq *error* *torad_preverr*
        *error* *torad_preverr*
        *FILE* NIL
        *exportentlist* NIL
        *exportblocklist* NIL
        *valuablepolylist* NIL )
  (princ) )
 

;;; ***************************************************************************
(defun c:torad (/ stat fname selset blocklevel home dwg
       filelist matlist erot sun view)
  ;; main control. 
  (torad_setup)
  (setq *exporttruelays* (vislaylist)) ; collect names of visible layers.
 
  ; It is here where the original torad.lsp was loading the dialog only
  ; if the version was 12.
  ;  original was (if (and (wcmatch (getvar "acadver") "12*")
  ; This changes it to 16.
  ; Changed the 16 to 17 for ACAD 2007. 
  (if (and (wcmatch (getvar "acadver") "17*")
    (findfile "torad.dcl") )
   (setq stat (torad_dlg)
   filelist *toradfilelist* )
   (setq stat -1) )
  (if (> 0 stat)
   (setq filelist (setradparams)
   *toradfilelist* filelist
   stat 1) )
  (cond ( (< 0 stat)
    (setq  blocklevel 1)
    (setq fname (strcase (cdr (assoc "prefix" filelist)) T))
    (cond ( (and (assoc "files" filelist)
        (setq selset (ssget)) )
      (makeentlist )
      (setq *valuablepolylist* *toradtypelist*)
      (sampleents selset )
      (while *exportblocklist*
       (sampleblocks blocklevel )
       (setq blocklevel (1+ blocklevel)) )
      (setq matlist (writerad fname))
      (if (assoc "mat" filelist)
       (writeradmatlist fname matlist) )
      (if (setq erot (cdr (assoc "master" filelist)))
       (writeradtot fname erot matlist) )
      (if (assoc "make" filelist)
       (writeradmake fname matlist) ) )
    (T NIL) )
    (if (setq view (cdr (assoc "view" filelist)))
     (writeradview fname view) )
    (if (setq sun (cdr (assoc "light" filelist)))
     (writeradsun fname sun) )
    )
  (T NIL) )
  (torad_reset ) )
 
 
 
;;; GENERAL SETUP **********************************************************
 
;;; currently supported entity types for torad.
(setq *toradetypes* '(
                ("3DFACE"   "\n    Planarized faces of 3DFACEs" )
                ("TRACE"    "\n       Extruded and flat TRACEs" )
                ("SOLID"    "\n       Extruded and flat SOLIDs" )
                ("CIRCLE"   "\n      Extruded and flat CIRCLEs" )
                ("ARC"      "\n         Extruded faces of ARCs" )
                ("LINE"     "\n        Extruded faces of LINEs" )
                ("PLINE"    "\n    Extruded faces of 2D-PLINEs" )
                ("WPLINE"   "\n    Constant width of 2D-PLINES" )
                ("POLYGON"  "\nClosed 2d-polylines as POLYGONs" )
                ("PMESH"    "\n             Faces of 3D-MESHes" )
                ("PFACE"    "\n             Faces if POLYFACEs" )
                ("POINT"    "\n   Points as SPHEREs or BUBBLEs" )
                ))
 
 
 
(defun setradparams (/ filelist typelist types wcsrot dwg home fname)
  ;; setup on older versions than 12.
  (toradshowitems nil)
  (prompt                 "\n\n       Entity data collected by:  ")
  (princ *exportsmode*)
  (prompt                   "\n Number of segments for circles:  ")
  (princ *exportnsegs*)
  (initget "Yes No")
  (cond ( (= "Yes"
    (getkword "\n\n        Do you want to change anything? <No>: "))
    (terpri)
    (foreach item *toradetypes*
       (toradsetitem (car item) nil))
  ;; It is here where the original torad.lsp was using the wrong proceedure names
  ;; for setradsamplemode and setradnumsegs. The "rad" was left out of the names
  ;; as if there had been a last min. edit to change names. AKS 9/12/06
    (setradsamplemode nil)
    (setradnumsegs nil)
    )
  ( T NIL) )
  (initget "Yes No")
  (cond ( (/= "No" (getkword   "\n       Write geometry data to file <Yes>?: "))
    (setq filelist '(("files")))
    (initget "Yes No")
    (cond ( (= "Yes"
      (getkword "\n      Write organizing control-file <No>?: "))
      (setq wcsrot
       (getreal "\n WCS rotation from East to X <0.0>: ")
       filelist (cons (cons "master" (if wcsrot wcsrot 0.0))
          filelist) )
      (initget "Yes No")
      (if (= "Yes"
      (getkword "\n  Write execution rules to makefile <No>?: "))
       (setq filelist (cons '("make") filelist)) ) ) )
    (initget "Yes No")
    (if (= "Yes"
     (getkword "\n Write materials (all same) to file <No>?: "))
     (setq filelist (cons '("mat") filelist)) ) )
  (T NIL) )
  (initget "Yes No")
  (if (= "Yes"
   (getkword "\n            Write view to view-file <No>?: "))
   (setq filelist (cons (cons "view" (askview)) filelist)) )
  (initget "Yes No")
  (if (= "Yes"
   (getkword "\n       Write sun definition to file <No>?: "))
   (setq filelist (cons (cons "light" (asksun)) filelist)) )
  (setq dwg (getvar "DWGNAME")
  fname (getstring
      (strcat "\n\nprefix for output-file <" dwg ">: ")))
  (if (= 0 (strlen fname)) (setq fname dwg))
  (if (and (= "~" (substr fname 1 1))
     (setq home (getenv "HOME")) )
   (setq fname (strcat home (substr fname 2) )) )
  (cons (cons "prefix" fname) filelist) )
 
 
 
(defun toradshowitems (stdalone / types typelist)
  ;; display setting of sampled entity types.
  (textpage)
  (if stdalone (torad_setup))
  (setq types *toradetypes*
  typelist *toradtypelist* )
          (prompt         "\n\n           TORAD sampling modes:")
  (prompt                   "\n -------------------------------")
      (prompt "\n\n             Collected entities:\n")
  (foreach item  types
           (princ (strcat (cadr item) ":  "))
           (princ (if (member (car item) typelist) "Y" "N")) )
  (if stdalone (torad_reset)) )
 
 
 
(defun toradsetitem (item stdalone / types old new tstr oldl newl)
  ;; set sampled entity types.
  (if stdalone (torad_setup))
  (initget "Yes No")
  (setq oldl *toradtypelist*
        types *toradetypes*
        tstr (assoc item types)
        old (if (member (car tstr) oldl) "Y" "N")
        new (getkword (strcat (cadr tstr) " <" old ">: ")) )
  (cond ( (and new (/= 0 (strlen new))
               (/= old (setq new (substr new 1 1))))
          (setq newl (if (= New "Y")
                         (cons item oldl)
                         (append (cdr (member item oldl))
                                 (cdr (member item (reverse oldl))) ) ) )
    (setq *toradtypelist* newl) )              
        (T NIL) )        
  (if stdalone (torad_reset)) )
 

(defun askview (/ vlist num view res)
  ;; set view number to export.
  (setq vlist (list (cons 0 "Current"))
  num 0
  res -1)
  (while (setq view (tblnext "VIEW" (not view)))
   (setq num (1+ num)
      vlist (cons (cons num (cdr (assoc 2 view))) vlist) ) )
  (prompt "\nNUMBER  VIEW")
  (prompt "\n------------\n")
  (foreach item (reverse vlist)
     (princ (car item))(princ (strcat "    " (cdr item) "\n")) )
  (while (and res (or (> 0 res)(< num res)))
   (setq res (getint "\n View Number <0>: ")) )
  (if res res 0) )
 

(defun asksun (/ vlist val)
  ;; set lighting parameters.
  (foreach item '(("\n     Hour <16.5>: " 16.5 T   )
      ("\n      Day   <01>: " 01   NIL )
      ("\n    Month   <08>: " 08   NIL )
      ("\n Timezone   <-1>: " -1   NIL )
      ("\n Latitude <47.5>: " 47.5 T   )
      ("\nLongitude <-8.5>: " -8.5 T   ) )
     (if (null (setq val (if (last item)
           (getreal (car item))
           (getint (car item)) )))
      (setq val (cadr item)) )
     (setq vlist (cons (if (last item)(rtos val)(itoa val)) vlist)) )
  vlist )
 

;;; SAMPLING SETUP ***********************************************************
 
(defun setradsamplemode (stdalone / samplemode)
  ;; set sorting criteria.
  (if stdalone (torad_setup))
  (initget "Layer Toplayer Color")
  (setq samplemode *exportsmode*
        samplemode (getkword (strcat "\n\ncollect data by Color/Layer/Toplayer <"                                     samplemode ">: ") ) )
  (if samplemode (setq *exportsmode* samplemode))
  (if stdalone (torad_reset)) )
 
 
 
(defun setradnumsegs (stdalone / numsegs)
  ;; set arc smoothing.
  (if stdalone (torad_setup))
  (setq numsegs *exportnsegs*
        numsegs (getint (strcat "\nNumber of segments for circles (arcs) <"
                                     (itoa numsegs) ">: ") ) )
  (if numsegs (setq *exportnsegs* numsegs))
  (if stdalone (torad_reset)) )
 

;;; DIALOG BOX CALL FOR TORAD *************************************************
 
(defun torad_dlg (/ dcl_id typelist dwgname dwgprefix num view viewlist stat)
  ;; dialog box control for Autocad 12 and later (?).
  (setq dwgname (getvar "dwgname")
  dwgprefix (strcat (getvar "dwgprefix") "*")
  num 0 )
  (if (wcmatch dwgname dwgprefix)
   (setq dwgname (strcat "./" (substr dwgname (strlen dwgprefix)))) )
  ;; load and execute dialog if possible.
  (setq dcl_id (load_dialog "torad.dcl"))
  (cond ( (> 0 dcl_id)
    (alert "\nCouldn't load dialog!")
    (setq stat -1))
  ( (not (new_dialog "radiance" dcl_id "" *toraddlgpos*))
    (alert "\nCouldn't open dialog!")
    (setq stat -1) )
  (T
   ;; setup view list.
   (start_list "viewlist" 3)
   (add_list "current")
   (while (setq view (tblnext "VIEW" (not view)))
    (setq viewlist (cons (cons num view) viewlist)
       num (1+ num) )
    (add_list (cdadr view)) )
   (end_list)
   ;; setup entity types
   (mapcar '(lambda (item)
        (set_tile (car item)
         (if (member (car item) *toradtypelist*)
          "1" "0" ) ) )
     *toradetypes*)
   ;; setup filetypes section.
   (mode_tile "viewlist"    1)
   (mode_tile "sunvals"     1)
   (mode_tile "masterblock" 1)
   (mode_tile "prefix"      2)
   ;; setup default values.
   (set_tile "prefix"  dwgname)
   (set_tile "make"    "1")
   (set_tile "nsegs"   (itoa *exportnsegs*))
   (set_tile "sample"  *exportsmode*)
   ;; initialize callback functions.
   (action_tile "files"  "(toggle_files)")
   (action_tile "master" "(toggle_master)")
   (action_tile "light"  "(toggle_light)")
   (action_tile "view"   "(toggle_view)")
   (action_tile "prefix" "(torad_enddlg)")
   (action_tile "accept" "(torad_enddlg)")
   (action_tile "cancel" "(torad_candlg)")
   ;; go for it.
   (setq stat (start_dialog))
   (unload_dialog dcl_id)
   ))
  stat )
 
 
 
(defun toggle_light ()
  ;; callback for sunlight toggle.
  (cond ( (= "1" (get_tile "light"))
    (mode_tile "sunvals" 0)
    (mode_tile "long" 2) )
  (T  (mode_tile "sunvals" 1)
   (mode_tile "prefix" 2) ) ) )
 
 
 
(defun toggle_master ()
  ;; calback for masterfile toggle.
  (if (= "1" (get_tile "master"))
   (mode_tile "masterblock" 0)
   (mode_tile "masterblock" 1) ) )
 
 
 
(defun toggle_view ()
  ;; callback for viewfile toggle.
  (if (= "1" (get_tile "view"))
   (mode_tile "viewlist" 0)
   (mode_tile "viewlist" 1) ) )
 
 
 
(defun toggle_files ()
  ;; callback for geometry files toggle.
  (cond ( (= "1" (get_tile "files"))
    (mode_tile "filelist" 0)
    (mode_tile "modes" 0)
    (mode_tile "auxf" 0)
    (toggle_master) )
  (T
   (mode_tile "filelist" 1)
   (mode_tile "modes" 1)
   (mode_tile "auxf" 1) ) ) )
 
 
 
(defun torad_enddlg ()
  ;; callback for accepting dialog.
  ;; accepted if 'ok' or return in prefix field.
  (cond ( (= 2 $reason) nil)
  ( T (getraddlgvalues)) ) )
 
 
 
(defun getraddlgvalues (/ home filelist lightlist typelist nmodl samplebase
     prefix errval make lightval radtypelist samplemode east numsegs)
  ;; extract data if possible and close dialog box.
  ;; else give alert and stay.
  (cond ( (= "1" (get_tile "files"))
    (setq typelist *toradetypes*)
    (mapcar '(lambda (item)
         (if (= "1" (get_tile (car item)))
          (setq nmodl (cons (car item) nmodl)) ) )
      typelist )
    (setq radtypelist nmodl
    samplemode (get_tile "sample")
    numsegs (read (get_tile "nsegs"))
    filelist '(("files"))
    samplebase '(("mat")("master")("make")("view")("light") ) ) )
  (T (setq samplebase '(("view")("light"))) ) )
  (mapcar '(lambda (item)
       (if (= "1" (get_tile (car item)))
        (setq filelist (cons item filelist)) ) )
    samplebase )
  (cond ( (assoc "master" filelist)
    (setq east (read (get_tile "WCS rotation")))
    (if (numberp east)
     (setq filelist (subst (cons "master" east) '("master") filelist))
     (setq errval "WCS rotation") ) )
  (T (if (setq make (member '("make") filelist))
      (setq filelist (append (cdr make)
           (cdr (member '("make")
               (reverse filelist))))) ) ) )
  (cond ( (assoc "light" filelist)
    (mapcar '(lambda (item)
         (setq lightval (read (get_tile item)))
         (if (numberp lightval)
          (setq lightlist (cons (get_tile item) lightlist))
          (setq errval item) ) )
      '("Hour""Day""Month""TZ""Latitude""Longitude") )
    (setq filelist (subst (cons "light" lightlist) '("light") filelist)) )
  (T NIL) )
  (if (assoc "view" filelist)
   (setq filelist (subst (cons "view" (read (get_tile "viewlist")))
       '("view") filelist) ) )
  (setq prefix (get_tile "prefix"))
  (if (and (= "~" (substr prefix 1 1))
     (setq home (getenv "HOME")) )
   (setq prefix (strcat home (substr prefix 2))) )
  (setq filelist (cons (cons "prefix" prefix) filelist))
  (cond ( (and numsegs (not (numberp numsegs)))
    (mode_tile "nsegs" 2)
    (mode_tile "nsegs" 3)
    (alert "Please enter a NUMBER for \"Number of Segments\" !") )
  ( errval
   (mode_tile errval 2)
   (mode_tile errval 3)
   (alert (strcat "Please enter a NUMBER for \"" errval "\" !")) )
  (T (if numsegs (setq *exportnsegs*  numsegs))
     (if samplemode (setq *exportsmode* samplemode))
     (if filelist (setq *toradfilelist* filelist))
     (if radtypelist (setq *toradtypelist* radtypelist))
     (setq *toraddlgpos* (done_dialog 1)) ) ) )
 
 
 
(defun torad_candlg ()
  ;; cancel button selected.
  (setq *toraddlgpos* (done_dialog 0)) )
 
 
 
;;; WRITES ******************************************************************
 
(defun writerad (fname / lplist lay radname radfname radfile ename matlist)
  ;; open files for radiance geometry description.
  (prompt "\nwriting out radiance-files:\n")
  (foreach lplist *exportentlist*
           (cond ( (cdr lplist)
               (setq lay (strcase (strcat (if (= "Color" *exportsmode*)
                                     "c_" "l_") (regulatename (car lplist)) ) T )
                     radname (strcat (noprefix fname) "_" lay)
                     radfname (strcat fname "_" lay ".rad") )
               (cond ( (setq radfile (setq *FILE* (open radfname "w")))
                       (writeradlist fname lplist lay radname radfname radfile)
                       (setq matlist (cons (list lay radname radfname) matlist))
                       (close radfile)
                       (setq *FILE* NIL) )
                     ( T (prompt "\nCan't open file \"" radfname
                                 "\" for write! ") ) ) )
                 (T NIL) ) )
  matlist )
 
 
 
(defun writeradlist (fname lplist lay radname radfname radfile
                           / ename contele num numstep numtot polylist)
  ;; write radiance geometry description.
  (princ (strcat "### Radiance scene-file:  " radfname) radfile)
  (princ (strcat "\n### Created: " (datestring)) radfile)
  (princ "\n### TORAD.LSP  by Georg Mischler\n\n" radfile)
  (princ "### make sure material " radfile) (princ radname radfile)
  (princ " is defined in a previous file!\n" radfile)
  (princ "\n### polygons for object " radfile)
  (princ  radname radfile) (princ "\n" radfile)
  (setq num 0
        numtot (length lplist)
        numstep 0 )
  (while (> numtot numstep)
         (prompt (strcat "  file: " radfname "   "
                         (itoa numstep) "/" (itoa numtot) " \r"))
         (setq numstep (min (+ numstep 10) numtot))
         (while (< num  numstep)
                (setq lplist (cdr lplist)
                      ename (car lplist)
                      num (1+ num) )
                (if (listp ename)
                    (setq contele (reverse (cdr ename))
                          ename (car ename))
                    (setq contele nil) )
                (writeradents ename contele radfile radname num) ) )
  (prompt (strcat "  file: " radfname "   " (itoa numstep) "       \n")) )
 
 
 
(defun writeradents (ename conte rfile radname num / typ data)
  ;; dispatch entities to extraction and write functions.
  (if ename (setq data (entget ename)
                  TYP (getetype data) ))
  (cond ( (valuablepoly typ)
          (cond ( (equal typ    "LINE")
                  (writeradpoly conte rfile radname num (linetopoly data)) )
                ( (equal typ   "PLINE")
                  (writeradpoly conte rfile radname num
        (plinetopoly data 1 *exportnsegs*)) )
                ( (equal typ "POLYGON")
                  (writeradpoly conte rfile radname num
        (plinetopoly data 2 *exportnsegs*)) )
                ( (equal typ  "WPLINE")
                  (writeradpoly conte rfile radname num
        (plinetopoly data 3 *exportnsegs*)) )
                ( (equal typ   "PMESH")
                  (writeradpoly conte rfile radname num (meshtopoly data)) )
                ( (equal typ   "PFACE")
                  (writeradpoly conte rfile radname num (pfacetopoly data)) )
                ( (equal typ  "3DFACE")
                  (writeradpoly conte rfile radname num (facetopoly  data)) )
                ( (equal typ   "TRACE")
                  (writeradpoly conte rfile radname num (tracetopoly data)) )
                ( (equal typ   "SOLID")
                  (writeradpoly conte rfile radname num (tracetopoly data)) )
                ( (equal typ  "CIRCLE")
                  (writeradcircle conte rfile radname num (circletorad data)) )
                ( (equal typ     "ARC")
                  (writeradpoly conte rfile radname num
        (arctopoly data *exportnsegs*)) )
                ( (equal typ   "POINT")
                  (writeradpoint conte rfile radname num (pointtorad data)) )
                (T NIL) ) )
        ( T NIL) ) )
 
 
 
(defun writeradpoly (contele radfile radname num polylist / len polnum)
  ;; write polygon lists to file.
  (if contele (setq polylist (trans_back polylist contele)))
  ;(showpolylist polylist) ; visual debugging.
  (setq polnum 0)
  (foreach poly polylist
           (cond ( (and poly (< 2 (setq len (length poly))))
                   (setq polnum (1+ polnum))
                   (princ (strcat "\n" radname " polygon " radname "."
                                  (itoa num) "." (itoa polnum)) radfile )
                   (princ "\n0\n0\n" radfile)
                   (princ (* len 3) radfile)
                   (foreach pt poly (printradpoint pt radfile))
                   (princ "\n" radfile) )
                 (T nil) ) ) )
 
 
 
(defun writeradcircle (contele radfile radname num polylist / len rad typ xname)
  ;; write circles as rings cylinders or tubes.
  (setq len (car polylist)
        rad (cadr polylist)
        xname (strcat radname "." (itoa num))
        polylist (if contele (car (trans_back (caddr polylist) contele))
                     (caaddr polylist) ) )
  (cond ( (= 0.0 len)
          (princ (strcat "\n" radname " ring " xname "\n0\n0\n8") radfile)
          (printradpoint (car polylist) radfile)
          (printradpoint (vector (car polylist)(cadr polylist)) radfile)
          (princ (strcat "     0     " (rtos rad) "\n" ) radfile) )
        ( T
         (cond ( (> 0.0 len) (setq typ "tube"))
               ( T (setq typ "cylinder")) )
         (princ (strcat "\n" radname " " typ " " xname ".1\n0\n0\n7") radfile)
          (printradpoint (car polylist) radfile)
          (printradpoint (cadr polylist) radfile)
          (princ (strcat "     " (rtos rad) "\n") radfile)
          (princ (strcat "\n" radname " ring " xname ".2\n0\n0\n8") radfile)
          (printradpoint (cadr polylist) radfile)
          (printradpoint (vector (car polylist)(cadr polylist)) radfile)
          (princ (strcat "     0     " (rtos rad) "\n" ) radfile)
          (princ (strcat "\n" radname " ring " xname ".3\n0\n0\n8") radfile)
          (printradpoint (car polylist) radfile)
          (printradpoint (vector (cadr polylist)(car polylist)) radfile)
          (princ (strcat "     0     " (rtos rad) "\n" ) radfile) ) ) )
 
 
 
(defun writeradpoint (conte rfile rname num polylist / center radius typ xname)
  ;; write point entities to file as spheres or bubbles.
  (setq radius (car polylist))
  (if (= 0.0 radius) (setq radius (getvar "PDSIZE")))
  (cond ( (= 0.0 radius) NIL)
        ( (< 0.0 radius) (setq typ "sphere"))
        ( (> 0.0 radius) (setq typ "bubble")) )
  (cond ( typ
         (setq xname (strcat rname "." (itoa num))
               center (caar (if conte
                                (trans_back (cadr polylist) conte)
                                (cadr polylist) ))
               )
         (princ (strcat "\n" rname " " typ " " xname "\n0\n0\n4") rfile)
         (printradpoint center rfile)
         (princ (strcat "     " (rtos radius) "\n") rfile) ) ) )
 
 
 
(defun printradpoint (point radfile)
  ;; write a single vertex to file.
  (foreach number point
           (princ "     " radfile)
           (princ (shortnumstr number 11) radfile) )
           (princ "\n" radfile) )
 
 
 
;;; WRITE ADDITIONAL CONTROL INFORMATION ************************************
 
(defun writeradsun (fname sun / sunfname sfname sunfile)
  ;; write a file containing a description of natural lighting.
  ;; generate a call to gensky and the source for the sky for time and place.
  (setq sunfname (strcat fname ".sun")
  sfname (noprefix sunfname) )
  (cond ( (setq sunfile (setq *FILE* (open sunfname "w")))
    (princ (strcat "\nCreating sun-file: " sunfname))
    (princ (strcat "### Radiance Sun-definition-file: " sfname) sunfile)
    (princ (strcat "\n### Created: " (datestring)) sunfile)
    (princ "\n### TORAD.LSP  by Georg Mischler\n" sunfile)
    (princ "\n### Sun and sky definition at:" sunfile)
    (princ (strcat "\n###     Longitude: " (nth 0 sun)) sunfile)
    (princ (strcat "\n###      Latitude: " (nth 1 sun)) sunfile)
    (princ (strcat "\n###      Timezone: " (nth 2 sun)) sunfile)
    (princ (strcat "\n###         Month: " (nth 3 sun)) sunfile)
    (princ (strcat "\n###           Day: " (nth 4 sun)) sunfile)
    (princ (strcat "\n###          Hour: " (nth 5 sun)) sunfile)
    (princ "\n\n!gensky " sunfile)
    (princ (strcat (nth 3 sun) " " (nth 4 sun) " " (nth 5 sun)) sunfile)
    (princ (strcat " -o " (car sun) " -a " (cadr sun)) sunfile)
    (princ (strcat " -m " (rtos (* 15 (read (caddr sun)))) "\n") sunfile)
          (princ "\nskyfunc glow skyglow\n0\n0\n4 0.9 0.9 1 0\n" sunfile)
          (princ "\nskyglow source sky\n0\n0\n4 0 0 1 180\n" sunfile) )
  (T (princ (strcat "\nCan't open material-file " sunfname
        " for write."))) ) )
 
 
 
(defun writeradmatlist (fname matlist / matfname matfile sfname)
  ;; write a list of materials from the used modifier names.
  ;; materials are all plastic of a constant grey.
  (setq matfname (strcat fname ".mat")
        sfname (noprefix fname) )
  (cond ( (setq matfile (setq *FILE* (open matfname "w")))
          (princ (strcat "\nCreating material-file: " matfname))
          (princ (strcat "### Radiance material-file:  " sfname ".mat") matfile)
          (princ (strcat "\n### Created: " (datestring)) matfile)
          (princ "\n### TORAD.LSP  by Georg Mischler\n\n" matfile)
 
          (foreach mat matlist
                   (princ (strcat "\nvoid plastic " (cadr mat)) matfile)
                   (princ "\n0\n0\n5 0.65 0.65 0.65 0.0 0.0\n" matfile)
          )
          (close matfile)
          (setq *FILE* NIL) )
        (T (princ (strcat "\nCan't open material-file " matfname
        " for write." ))) ) )
 
 
 
(defun writeradtot (fname erot matlist / totfname totfile sfname infunc)
  ;; write a controlling master file to combine all the written data
  ;; into a complete RADIANCE scene description.
  (setq totfname (strcat fname ".rad")
        sfname (noprefix fname)
  infunc (if (/= 0.0 erot)
       (strcat "\n!xform -rz " (rtos erot) " ")
       "\n!cat " ) )
  (cond ( (setq totfile (setq *FILE* (open totfname "w")))
          (princ (strcat "\nCreating Master-file: " totfname))
          (princ (strcat "### Radiance Master-file: " sfname ".rad") totfile)
          (princ (strcat "\n### Created: " (datestring)) totfile)
          (princ "\n### TORAD.LSP  by Georg Mischler\n\n" totfile)
    (if (assoc "light" *toradfilelist*)
     (princ (strcat infunc sfname ".sun\n\n") totfile) )
    (if (assoc "mat" *toradfilelist*)
     (princ (strcat "!cat " sfname ".mat\n\n") totfile) )
          (foreach mat matlist
                   (princ (strcat "!cat " (cadr mat) ".rad\n" ) totfile) )
          (close totfile)
          (setq *FILE* NIL) )
        (T (princ (strcat "\nCan't open Master-file "
                          totfname " for write.") )) ) )
 
 
 
(defun writeradview (fname viewnum / viewfname vdir vpoint vmode target
         lensl twist zvect vsize vlist viewfile)
  ;; write a RADIANCE viewfile either from the current view or
  ;; from a named view from the view table.
  (setq viewfname (strcat fname ".view"))
  (cond ( (= 0 viewnum)
    (setq vdir (trans (getvar "VIEWDIR") 1 0 T)
    vmode (getvar "VIEWMODE")
    target (if (= 0 vmode)(getvar "VIEWCTR")(getvar "TARGET"))
    vpoint (transl-p (trans target 1 0 T)  vdir 1.0)
    lensl (getvar "LENSLENGTH")
    twist (getvar "VIEWTWIST")
    zvect (trans '(0.0 1.0 0.0) 2 0 T) ) )
  (T
   (repeat viewnum (setq vlist (tblnext "VIEW" (not vlist))) )
   (setq vdir (cdr (assoc 11 vlist))
      vmode (cdr (assoc 71 vlist))
      target (cdr (if (= 0 vmode) ; keep it simple...
          (append (mapcar '+ (assoc 10 vlist)
            (assoc 12 vlist) )'(0.0))
          (assoc 12 vlist) ))
      vpoint (transl-p target vdir 1.0)
      lensl (cdr (assoc 42 vlist))
      twist (cdr (assoc 50 vlist))
      zvect (vect-prod '(0.0 0.0 1.0) vdir)
      zvect (if (equal '(0.0 0.0 0.0) zvect 0.0000001)
       '(0.0 0.1 0.0)
       (vect-prod vdir zvect) ) ) ) )
  (if (= 0 vmode)
   (setq vsize (rtos (getvar "VIEWSIZE")))
   (setq vsize (rtos (/ (* 360 (atan (/ 12.0 lensl))) pi))) )
  (setq vdir (mapcar '- vdir))
  (if (and (< 0 viewnum) (/= 0.0 twist))
   (setq zvect (transf-p zvect (rot-3d-matrix (normalize vdir) twist))) )
  (if (and (< 0.7 (caddr zvect))(= 0.0 twist))
   (setq zvect '(0.0 0.0 1.0)) )
  (cond ( (setq viewfile (setq *FILE* (open viewfname "w")))
          (princ (strcat "\nCreating View-file: " fname ".view"))
          (princ "rview -vt" viewfile)
          (princ (if (= 1 vmode) "v -vp " "l -vp ") viewfile)
          (mapcar '(lambda (pt) (princ (strcat (rtos pt) " ") viewfile)) vpoint )
    (princ " -vd " viewfile)
          (mapcar '(lambda (pt) (princ (strcat (rtos pt) " ") viewfile)) vdir)
          (princ " -vu " viewfile)
          (mapcar '(lambda (pt) (princ (strcat (rtos pt) " ") viewfile)) zvect )
    (princ (strcat " -vh " vsize " -vv " vsize " -vs 0 -vl 0\n") viewfile)
          (close viewfile)
          (setq *FILE* NIL) )
        (T (princ (strcat "\nCan't open view-file "
                                    viewfname " for write." ))) ) )
 
 
 
(defun writeradmake (fname matlist / makefname makefile sfname)
  ;; write a makefile for the UNIX utility make containing rules for
  ;; octree conversion, previewing with rview and batch rendering with rpict.
  (setq sfname (noprefix fname)
  makefname (strcat (substr fname 1 (- (strlen fname)
                                             (strlen sfname))) "makefile" ) )
  (cond ( (setq makefile (setq *FILE* (open makefname "w")))
          (princ (strcat "\nCreating makefile: " makefname))
          (princ (strcat "### makefile for Radiance-file: "sfname".rad")makefile)          (princ (strcat "\n### Created: " (datestring)) makefile)
          (princ "\n### TORAD.LSP  by Georg Mischler\n\n" makefile)
    (princ "\nall:\n\t@echo \"  make what?\"" makefile)
    (princ "\n\t@echo \"  enter \\\"make view\\\" or \\\"make pict\\\"\"\n" makefile)
          (princ (strcat "\nview:" sfname ".oct") makefile)
          (princ (strcat "\n\trview -ab 2 -vf " sfname".view "
                         sfname".oct &\n")makefile)
          (princ (strcat "\npict:" sfname ".oct") makefile)
          (princ (strcat "\n\trpict -ab 2 -vf " sfname".view "
                         sfname".oct > " sfname ".pic &\n")makefile)
          (princ (strcat "\n" sfname ".oct: ") makefile)
          (princ (strcat " \\\n         " sfname ".rad ") makefile)
          (foreach mat matlist
                   (princ (strcat " \\\n         " (cadr mat) ".rad") makefile))
          (princ (strcat "\n\toconv "sfname".rad > "sfname".oct\n") makefile)
          (princ (strcat "\nclean:\n\t @rm " sfname".oct\n") makefile)
          (close makefile)
          (setq *FILE* NIL) )
        (T (princ (strcat "\nCan't open makefile "
                          makefname " for write." ))) ) )
 

;;; ***************************************************************************
(defun regulatename (name / pos char)
  ;; eliminate illegal characters in filenames.
  (setq pos 1)
  (repeat (strlen name)
    (setq char (substr name pos 1))
    (if (or (= char "|")(= char "$"))
     (setq name (strcat (substr name 1 (1- pos))
         "_"
         (substr name (1+ pos)))))
    (setq pos (1+ pos)) )
  name )
 

;;;-----------------------------------------------------------------------------
(defun circletorad (data / center1 center2 radius dist plist)
  ;; extract a description of a circle for 'writeradcircle'.
  (setq center1 (cdr (assoc 10 data))
        radius (cdr (assoc 40 data))
        dist (cdr (assoc 39 data))
        center2 (list (car center1)(cadr center1)
                      (+ (caddr center1) (if dist dist 1.0)) )
        plist (trans_back (list (List center2 center1))
                          (list (cdr (assoc -1 data)))) )
  (list (if dist dist 0.0) radius plist) )
 
 
;;;-----------------------------------------------------------------------------
(defun pointtorad (data / center rad)
  ;; extract a description of a point for 'writeradpoint'.
  (setq center (cdr (assoc 10 data))
        rad (cdr (assoc 39 data))
        rad (if (and rad (/= 0.0 rad)) rad 0.0) )
  (list rad (list (list center))) )
 

;;; ***************************************************************************
 
(progn
  (prompt   "\n-- TORAD.LSP  -  1993 by Georg Mischler --\n")
  (prompt   "\n Enter \"TORAD\" for writing Radiance files.")
  (torad_reset) )
 
;;; ***************************************************************************
;;; end of torad.lsp.
;;; ***************************************************************************


[{--Wm. Tao & Associates, Inc.--}] This message and content is privileged, intended only for recipients named and/or addressed.  If the receiver/reader is not a representative of the intended recipient, any review, forwarding, dissemination or copying of this message or its content, in part or in whole, is prohibited. If you have received this message in error, please notify the sender immediately by Reply email, and Delete the original message and attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100805/1c1586ff/attachment-0001.html
From grobe at gmx.net  Thu Aug  5 07:12:01 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Aug  5 07:11:58 2010
Subject: [Radiance-general] Radout
In-Reply-To: <AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>	<4C59C3B1.9080602@gmx.net>	<53712E7580A846E28012D3BAF84D288D@mmgsal.com>	<AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com>	<BA215A87697445D184DF6485C9693577@mmgsal.com>
	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
Message-ID: <4C5AC6B1.70202@gmx.net>

One other hint... for anyone who is entering the world of building 
models, I can recommend formZ. It combines CAD and modelling features 
and supports a broad range of 2d and 3d formats. We have used it with 
success to create models for Radiance via dxf (and then Schorsch's 
dxf2rad) and obj, and I have also verified that you could even use 
brlcad as a converter to keep all CAD data in IGES and convert 
iges-obj-Radiance (that would mean a neutral CAD standard linked to 
Radiance).

However the most important is to learn modeling for simulation is 
different from producing architectural drawings. And... I usually use a 
text editor for that reason, no CAD.

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100805/6a7ebe21/smime.bin
From grobe at gmx.net  Thu Aug  5 07:16:45 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Aug  5 07:16:42 2010
Subject: [Radiance-general] Computing irradiances for glow materials
In-Reply-To: <28285BAEA8C0814DBF1B199C876EC5B048630FEFC2@AMXEXC01.global.arup.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>	<4C59C3B1.9080602@gmx.net>	<E35477F1A321144D897D44CCAAFF202C048D146E30@AD-MAILBOX01.aau.dk>
	<28285BAEA8C0814DBF1B199C876EC5B048630FEFC2@AMXEXC01.global.arup.com>
Message-ID: <4C5AC7CD.4040704@gmx.net>

Hi!

> Radiance = Irradiance * Reflectance / Pi

That was the idea, yes, assuming that the ultimate goal is to get 
irradiance.

As Christopher mentioned, using some raw exposure will probably not 
allow you to get any approximation of pixel Radiance. You can try 
multiple exposures to widen the dynamic range, but in any case you need 
calibration. I would recommend spending some time with an integrating 
sphere to calibrate the response and to validate the results over the 
dynamic range you expect to cover.

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100805/19e326f7/smime.bin
From Robert.Guglielmetti at nrel.gov  Thu Aug  5 07:17:27 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu Aug  5 07:17:22 2010
Subject: [Radiance-general] Radout
In-Reply-To: <4C5AC6B1.70202@gmx.net>
Message-ID: <C8802417.56FA%robert.guglielmetti@nrel.gov>

I thought Greg and John were the only maniacs who used vi to build 3D
models. Wow. In all seriousness, I have used text editors for some
models/layouts too, but only simple stuff. It definitely has its advantages,
but whenever I need to model any really complex geometry I get brain damage
trying to work out all the points.

- Rob

On 8/5/10 8:12 AM, "Lars O. Grobe" <grobe@gmx.net> wrote:
 
> However the most important is to learn modeling for simulation is
> different from producing architectural drawings. And... I usually use a
> text editor for that reason, no CAD.
> 
> Cheers, Lars.
> 


From tbleicher at googlemail.com  Thu Aug  5 07:32:04 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu Aug  5 07:31:59 2010
Subject: [Radiance-general] Radout
In-Reply-To: <C8802417.56FA%robert.guglielmetti@nrel.gov>
References: <4C5AC6B1.70202@gmx.net>
	<C8802417.56FA%robert.guglielmetti@nrel.gov>
Message-ID: <AANLkTi=YEdFYDCuBdJ6U15U3JRo2MGRFJ9gzct+U4EB-@mail.gmail.com>

On Thu, Aug 5, 2010 at 3:17 PM, Guglielmetti, Robert
<Robert.Guglielmetti@nrel.gov> wrote:

> but whenever I need to model any really complex geometry I get brain damage
> trying to work out all the points.

What version of BRAIN are you running? There might be a patch for it ...

;)

Thomas

From Robert.Guglielmetti at nrel.gov  Thu Aug  5 08:46:16 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu Aug  5 08:46:13 2010
Subject: [Radiance-general] Radout
In-Reply-To: <AANLkTi=YEdFYDCuBdJ6U15U3JRo2MGRFJ9gzct+U4EB-@mail.gmail.com>
Message-ID: <C88038E8.5702%robert.guglielmetti@nrel.gov>

It's a beta. (get it?)

On 8/5/10 8:32 AM, "Thomas Bleicher" <tbleicher@googlemail.com> wrote:

> On Thu, Aug 5, 2010 at 3:17 PM, Guglielmetti, Robert
> <Robert.Guglielmetti@nrel.gov> wrote:
> 
>> but whenever I need to model any really complex geometry I get brain damage
>> trying to work out all the points.
> 
> What version of BRAIN are you running? There might be a patch for it ...
> 
> ;)
> 
> Thomas
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From grobe at gmx.net  Thu Aug  5 10:18:20 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Aug  5 10:18:20 2010
Subject: [Radiance-general] Re: Cubical sky maps?
In-Reply-To: <F0FBD5A5-9A24-48E8-9A2E-70378265947C@dmu.ac.uk>
References: <F0FBD5A5-9A24-48E8-9A2E-70378265947C@dmu.ac.uk>
Message-ID: <4C5AF25C.9040501@gmx.net>

On 14.06.2010 17:22, John Mardaljevic wrote:
> Randolph's query reminded me that I had a search for cheap domes a while
> ago. This is what I found:

Hi, to complete an old thread on this and to avoid disappointment for 
anyone arriving from a search machine, there are acrylic domes available 
at Edmund Optics (not cheap but affordable):

http://www.edmundoptics.com/onlinecatalog/displayproduct.cfm?productID=1395

as well as glass domes (not cheap but expensive):

http://www.edmundoptics.com/onlinecatalog/displayproduct.cfm?productID=3147

Just in case someone wants to build some hemispherical capturing device 
or such...

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100805/24815a77/smime-0001.bin
From hdirani at eegroup.info  Fri Aug  6 07:17:48 2010
From: hdirani at eegroup.info (Hind Dirani)
Date: Fri Aug  6 07:12:21 2010
Subject: [Radiance-general] Radout
In-Reply-To: <4C5AC6B1.70202@gmx.net>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>	<4C59C3B1.9080602@gmx.net>	<53712E7580A846E28012D3BAF84D288D@mmgsal.com>	<AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com>	<BA215A87697445D184DF6485C9693577@mmgsal.com><AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
	<4C5AC6B1.70202@gmx.net>
Message-ID: <7E614DB9200849DB80876B2B9C2838A1@mmgsal.com>


Thanks All for your support.

Please Lars can you explain more about Brlcad and IGES? What Is the best
method for a beginner to start making 3D modeling to use in Daysim?



 
-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Lars O.
Grobe
Sent: Thursday, August 05, 2010 5:12 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Radout

One other hint... for anyone who is entering the world of building 
models, I can recommend formZ. It combines CAD and modelling features 
and supports a broad range of 2d and 3d formats. We have used it with 
success to create models for Radiance via dxf (and then Schorsch's 
dxf2rad) and obj, and I have also verified that you could even use 
brlcad as a converter to keep all CAD data in IGES and convert 
iges-obj-Radiance (that would mean a neutral CAD standard linked to 
Radiance).

However the most important is to learn modeling for simulation is 
different from producing architectural drawings. And... I usually use a 
text editor for that reason, no CAD.

Cheers, Lars.



From hdirani at eegroup.info  Fri Aug  6 07:18:36 2010
From: hdirani at eegroup.info (Hind Dirani)
Date: Fri Aug  6 07:13:04 2010
Subject: [Radiance-general] Radout
In-Reply-To: <AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com><AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com><BA215A87697445D184DF6485C9693577@mmgsal.com>
	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
Message-ID: <3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>




I check this link that doesn't work:

http://www.schorsch.com/download/radout/

Is there any other address?



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Thomas
Bleicher
Sent: Thursday, August 05, 2010 2:02 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Radout

On Thu, Aug 5, 2010 at 11:48 AM, Hind Dirani <hdirani@eegroup.info> wrote:
> I haven't used all these programs before, what is the best & easier method
> (program) to build a 3D model that can be use in Daysin.

That depends on your skills with AutoCAD and which software you have
available.
If you are comfortable in AutoCAD then use that to build your geometry
and find a tool that helps you to convert the geometry to OBJ. 3D Max
or Rhino can do that and it doesn't take a lot of skill to import a
file and export it in another format.

If you're new to 3D modeling anyway you can try SketchUp. Compared to
all the other 3D apps out there it is easy and intuitive to use. The
models for DAYSIM will not be too complex either so should be able to
do all your modeling in SketchUp.

Regards,
Thomas

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From jedev at visarc.com  Fri Aug  6 07:20:40 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Aug  6 07:21:07 2010
Subject: [Radiance-general] Radout
In-Reply-To: <3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com><AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com><BA215A87697445D184DF6485C9693577@mmgsal.com>	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
	<3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>
Message-ID: <4C5C1A38.9010106@visarc.com>

Hi Hind,

I think that Schorsch's site has been down for awhile now. Radout has 
not really been actively maintained for quite some time.

Maybe if you can give us an idea of what modeling tools you have 
available or would like to use we can help answer relative to those....

Regards,

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



Hind Dirani wrote:
>
> I check this link that doesn't work:
>
> http://www.schorsch.com/download/radout/
>
> Is there any other address?
>
>
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Thomas
> Bleicher
> Sent: Thursday, August 05, 2010 2:02 PM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] Radout
>
> On Thu, Aug 5, 2010 at 11:48 AM, Hind Dirani <hdirani@eegroup.info> wrote:
>   
>> I haven't used all these programs before, what is the best & easier method
>> (program) to build a 3D model that can be use in Daysin.
>>     
>
> That depends on your skills with AutoCAD and which software you have
> available.
> If you are comfortable in AutoCAD then use that to build your geometry
> and find a tool that helps you to convert the geometry to OBJ. 3D Max
> or Rhino can do that and it doesn't take a lot of skill to import a
> file and export it in another format.
>
> If you're new to 3D modeling anyway you can try SketchUp. Compared to
> all the other 3D apps out there it is easy and intuitive to use. The
> models for DAYSIM will not be too complex either so should be able to
> do all your modeling in SketchUp.
>
> Regards,
> Thomas
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

From hdirani at eegroup.info  Fri Aug  6 12:55:15 2010
From: hdirani at eegroup.info (Hind Dirani)
Date: Fri Aug  6 12:55:22 2010
Subject: [Radiance-general] Radout
In-Reply-To: <4C5C1A38.9010106@visarc.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com><AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com><BA215A87697445D184DF6485C9693577@mmgsal.com>
	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
	<3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>
	<4C5C1A38.9010106@visarc.com>
Message-ID: <bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>

Hi Jack,

I have only AutoCAD 2008 and 2010. I've downloaded from internet 3dsout
file, I knew how to use it from their site, I took an AutoCAD example from
Daysim files and I generate a file .3ds but this file .3ds didn?t work in
Daysim!
What is your suggestion?

Thanks a lot


> Hi Hind,
>
> I think that Schorsch's site has been down for awhile now. Radout has
> not really been actively maintained for quite some time.
>
> Maybe if you can give us an idea of what modeling tools you have
> available or would like to use we can help answer relative to those....
>
> Regards,
>
> -Jack
>
> --
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
>
> Hind Dirani wrote:
>>
>> I check this link that doesn't work:
>>
>> http://www.schorsch.com/download/radout/
>>
>> Is there any other address?
>>
>>
>>
>> -----Original Message-----
>> From: radiance-general-bounces@radiance-online.org
>> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
>> Thomas
>> Bleicher
>> Sent: Thursday, August 05, 2010 2:02 PM
>> To: Radiance general discussion
>> Subject: Re: [Radiance-general] Radout
>>
>> On Thu, Aug 5, 2010 at 11:48 AM, Hind Dirani <hdirani@eegroup.info>
>> wrote:
>>
>>> I haven't used all these programs before, what is the best & easier
>>> method
>>> (program) to build a 3D model that can be use in Daysin.
>>>
>>
>> That depends on your skills with AutoCAD and which software you have
>> available.
>> If you are comfortable in AutoCAD then use that to build your geometry
>> and find a tool that helps you to convert the geometry to OBJ. 3D Max
>> or Rhino can do that and it doesn't take a lot of skill to import a
>> file and export it in another format.
>>
>> If you're new to 3D modeling anyway you can try SketchUp. Compared to
>> all the other 3D apps out there it is easy and intuitive to use. The
>> models for DAYSIM will not be too complex either so should be able to
>> do all your modeling in SketchUp.
>>
>> Regards,
>> Thomas
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From Christopher.Rush at arup.com  Fri Aug  6 13:30:05 2010
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri Aug  6 13:31:33 2010
Subject: [Radiance-general] Radout
In-Reply-To: <bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com><AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com><BA215A87697445D184DF6485C9693577@mmgsal.com>
	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
	<3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>	<4C5C1A38.9010106@visarc.com>
	<bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B048631FDE02@AMXEXC01.global.arup.com>

If you want to stick with AutoCAD, have you tried TORAD.lsp that has been posted (with modification as required for your version)?

My 2 cents on other options...

I would comment that Rhino and Sketchup both produce good OBJ files that can be converted with obj2rad. You will have to start paying attention to material assignments (instead of or in addition to layers that you would have been used to in AutoCAD). Rhino is probably more expensive, but handles curved geometry much better, and has a more flexible command line interface similar to AutoCAD. Sketchup focuses on being more intuitive, but can be limited in some ways like coordinate entry. Sketchup has the su2rad plugin, and Rhino now has DIVA for additional options to get models into Radiance based simulations.

Lars has suggested FormZ, which seems comparable to Rhino but maybe less popular.

There is also Blender, which is an open source software similar to 3DSMax. It claims to export to OBJ, so may be a good try for a free test before putting money into another modeling package.
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From jedev at visarc.com  Fri Aug  6 13:50:23 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Aug  6 13:51:03 2010
Subject: [Radiance-general] Radout
In-Reply-To: <bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com><AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com><BA215A87697445D184DF6485C9693577@mmgsal.com>	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>	<3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>	<4C5C1A38.9010106@visarc.com>
	<bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>
Message-ID: <4C5C758F.3010105@visarc.com>

Hi Hind,

Are you using Daysim under linux or windows?

One option would be to obtain SketchUp (the free version should be fine) 
and see if you can import the 3ds file output from Autocad. If so you 
should be able to use either the su2rad or su2ds applets:

    http://www.daysim.com/sketchup.html

This would be one way to get something into Daysim.

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



Hind Dirani wrote:
> Hi Jack,
>
> I have only AutoCAD 2008 and 2010. I've downloaded from internet 3dsout
> file, I knew how to use it from their site, I took an AutoCAD example from
> Daysim files and I generate a file .3ds but this file .3ds didn?t work in
> Daysim!
> What is your suggestion?
>
> Thanks a lot
>
>
>   
>> Hi Hind,
>>
>> I think that Schorsch's site has been down for awhile now. Radout has
>> not really been actively maintained for quite some time.
>>
>> Maybe if you can give us an idea of what modeling tools you have
>> available or would like to use we can help answer relative to those....
>>
>> Regards,
>>
>> -Jack
>>
>> --
>> # Jack de Valpine
>> # president
>> #
>> # visarc incorporated
>> # http://www.visarc.com
>> #
>> # channeling technology for superior design and construction
>>
>>
>>
>> Hind Dirani wrote:
>>     
>>> I check this link that doesn't work:
>>>
>>> http://www.schorsch.com/download/radout/
>>>
>>> Is there any other address?
>>>
>>>
>>>
>>> -----Original Message-----
>>> From: radiance-general-bounces@radiance-online.org
>>> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
>>> Thomas
>>> Bleicher
>>> Sent: Thursday, August 05, 2010 2:02 PM
>>> To: Radiance general discussion
>>> Subject: Re: [Radiance-general] Radout
>>>
>>> On Thu, Aug 5, 2010 at 11:48 AM, Hind Dirani <hdirani@eegroup.info>
>>> wrote:
>>>
>>>       
>>>> I haven't used all these programs before, what is the best & easier
>>>> method
>>>> (program) to build a 3D model that can be use in Daysin.
>>>>
>>>>         
>>> That depends on your skills with AutoCAD and which software you have
>>> available.
>>> If you are comfortable in AutoCAD then use that to build your geometry
>>> and find a tool that helps you to convert the geometry to OBJ. 3D Max
>>> or Rhino can do that and it doesn't take a lot of skill to import a
>>> file and export it in another format.
>>>
>>> If you're new to 3D modeling anyway you can try SketchUp. Compared to
>>> all the other 3D apps out there it is easy and intuitive to use. The
>>> models for DAYSIM will not be too complex either so should be able to
>>> do all your modeling in SketchUp.
>>>
>>> Regards,
>>> Thomas
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>       
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>     
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

From jedev at visarc.com  Fri Aug  6 14:21:26 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Aug  6 14:22:07 2010
Subject: [Radiance-general] Radout
In-Reply-To: <28285BAEA8C0814DBF1B199C876EC5B048631FDE02@AMXEXC01.global.arup.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com><AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com><BA215A87697445D184DF6485C9693577@mmgsal.com>	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>	<3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>	<4C5C1A38.9010106@visarc.com>	<bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>
	<28285BAEA8C0814DBF1B199C876EC5B048631FDE02@AMXEXC01.global.arup.com>
Message-ID: <4C5C7CD6.4030506@visarc.com>

Hi,

I would agree with Christopher on Rhino and Sketchup. Blender does 
export obj also and does seem to be a robust application, although my 
main experience with it has been testing it to process obj geometry.

I think the challenge is figuring out a suitable workflow for those who 
need to use Autocad for whatever reason.... However the traditional 
options (TORAD and RADOUT) are pretty ancient at this point and have the 
following problems:

    * TORAD - if I recall correctly this still only deals with surface
      geometry which is fine if you know how to model this way...
    * RADOUT - same issue as TORAD with respect to geometry and the last
      version of Autocad that it could run in was Autocad 2000

For me I think that the most suitable intermediate geometry format is 
OBJ. It is open and there are lots of applications that can read and 
write the format. The challenge is figuring out how to get from Autocad 
to OBJ.

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



Christopher Rush wrote:
> If you want to stick with AutoCAD, have you tried TORAD.lsp that has been posted (with modification as required for your version)?
>
> My 2 cents on other options...
>
> I would comment that Rhino and Sketchup both produce good OBJ files that can be converted with obj2rad. You will have to start paying attention to material assignments (instead of or in addition to layers that you would have been used to in AutoCAD). Rhino is probably more expensive, but handles curved geometry much better, and has a more flexible command line interface similar to AutoCAD. Sketchup focuses on being more intuitive, but can be limited in some ways like coordinate entry. Sketchup has the su2rad plugin, and Rhino now has DIVA for additional options to get models into Radiance based simulations.
>
> Lars has suggested FormZ, which seems comparable to Rhino but maybe less popular.
>
> There is also Blender, which is an open source software similar to 3DSMax. It claims to export to OBJ, so may be a good try for a free test before putting money into another modeling package.
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

From hujia06 at gmail.com  Fri Aug  6 17:13:03 2010
From: hujia06 at gmail.com (Jia Hu)
Date: Fri Aug  6 17:13:00 2010
Subject: [Radiance-general] Radout
In-Reply-To: <4C5C7CD6.4030506@visarc.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk>
	<AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com>
	<4C59C3B1.9080602@gmx.net>
	<53712E7580A846E28012D3BAF84D288D@mmgsal.com>
	<AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com>
	<BA215A87697445D184DF6485C9693577@mmgsal.com>
	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
	<3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>
	<4C5C1A38.9010106@visarc.com>
	<bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>
	<28285BAEA8C0814DBF1B199C876EC5B048631FDE02@AMXEXC01.global.arup.com>
	<4C5C7CD6.4030506@visarc.com>
Message-ID: <AANLkTiksbt6Y=8FZGucxFWFxdSVkXD0VU3nMy28wYN11@mail.gmail.com>

Hello:

Currently, I mainly use Revit and Rhino to convert fbx to obj, following
Jack's advice. It works well. If you stick to AutoCAD, besides using torad
or dxf2rad or radout, you may also consider the following approaches.

     (1) export dxf/dwg from AutoCAD
     (2) import dxf to Ecotect (free of charge for student version) OR
import dwg to REVIT (free of charge for student version)
     (3) export rad from Ecotect OR export fbx from Revit.
        (3.1) if you get fbx file, you should use FBX converter provided by
autodesk (free) to get an older obj file and then use Rhino or others (not
sure) to rebuild surface normal because there is likely someting wrong with
the obj file directly exported by revit.
        (3.2) if you export rad directly from Ecotect, you should assign
materials in Ecotect to get .mat file.

Cheers,
Jia


On Fri, Aug 6, 2010 at 5:21 PM, Jack de Valpine <jedev@visarc.com> wrote:

> Hi,
>
> I would agree with Christopher on Rhino and Sketchup. Blender does export
> obj also and does seem to be a robust application, although my main
> experience with it has been testing it to process obj geometry.
>
> I think the challenge is figuring out a suitable workflow for those who
> need to use Autocad for whatever reason.... However the traditional options
> (TORAD and RADOUT) are pretty ancient at this point and have the following
> problems:
>
>   * TORAD - if I recall correctly this still only deals with surface
>     geometry which is fine if you know how to model this way...
>   * RADOUT - same issue as TORAD with respect to geometry and the last
>     version of Autocad that it could run in was Autocad 2000
>
> For me I think that the most suitable intermediate geometry format is OBJ.
> It is open and there are lots of applications that can read and write the
> format. The challenge is figuring out how to get from Autocad to OBJ.
>
>
> -Jack
>
> --
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
>
>  Christopher Rush wrote:
>
>> If you want to stick with AutoCAD, have you tried TORAD.lsp that has been
>> posted (with modification as required for your version)?
>>
>> My 2 cents on other options...
>>
>> I would comment that Rhino and Sketchup both produce good OBJ files that
>> can be converted with obj2rad. You will have to start paying attention to
>> material assignments (instead of or in addition to layers that you would
>> have been used to in AutoCAD). Rhino is probably more expensive, but handles
>> curved geometry much better, and has a more flexible command line interface
>> similar to AutoCAD. Sketchup focuses on being more intuitive, but can be
>> limited in some ways like coordinate entry. Sketchup has the su2rad plugin,
>> and Rhino now has DIVA for additional options to get models into Radiance
>> based simulations.
>>
>> Lars has suggested FormZ, which seems comparable to Rhino but maybe less
>> popular.
>>
>> There is also Blender, which is an open source software similar to 3DSMax.
>> It claims to export to OBJ, so may be a good try for a free test before
>> putting money into another modeling package.
>> ____________________________________________________________
>> Electronic mail messages entering and leaving Arup  business
>> systems are scanned for acceptability of content and viruses
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100806/4b1e0c80/attachment-0001.html
From grobe at gmx.net  Sat Aug  7 00:53:05 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat Aug  7 00:53:18 2010
Subject: [Radiance-general] Radout
In-Reply-To: <4C5C7CD6.4030506@visarc.com>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com><AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com><BA215A87697445D184DF6485C9693577@mmgsal.com>	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>	<3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>	<4C5C1A38.9010106@visarc.com>	<bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>
	<28285BAEA8C0814DBF1B199C876EC5B048631FDE02@AMXEXC01.global.arup.com>
	<4C5C7CD6.4030506@visarc.com>
Message-ID: <60398AEE-2E6D-4911-8EDA-53824A3E85D4@gmx.net>

Hi!

First, I would recommend dxf2rad, not torad or radout.

Second, modelers ar great, but often lack precision you need for  
building models. You do not need nurbs for most architectural  
simulation, but good precision. That is why I mentioned formz, maybe  
Rhino offers the same. Blender is not made for this (but good for  
conversion and such, as it supports quite a lot of formats and  
geometry functions).

I had mentioned the option to use brlcad for one simple reason.  
Autocad is popular, but a horror for people who want to keep their  
project data in standard formats. They change format support from  
version to version and keep the dwg format closed and it's development  
unpredictable. Keeping only the geometry (obj) is not a good solution.  
So I have been looking for options to link Radiance to open and  
standardized formats. IGES is one, STEP another. A lot of Cad software  
supports these. And as brlcad can convert them into obj on the command- 
line, it is possible to keep all geometry in such Cad formats and  
convert on the fly. I think for people who want to access their  
projects 10 years later a great advantage, and the only reason I  
mention it here.

About texteditors, it depends on the project. A lot of simulation  
models require little detail, but high precision. And using genbox and  
Co not only avoids leaks, but makes sure that you control surface  
normal orientation. But it all depends on needed complexity of  
geometry and on what you want to do with yor model.

Cheers, Lars.

--
Dipl.-Ing. Architect Lars O. Grobe

On Aug 6, 2010, at 23:21, Jack de Valpine <jedev@visarc.com> wrote:

> Hi,
>
> I would agree with Christopher on Rhino and Sketchup. Blender does  
> export obj also and does seem to be a robust application, although  
> my main experience with it has been testing it to process obj  
> geometry.
>
> I think the challenge is figuring out a suitable workflow for those  
> who need to use Autocad for whatever reason.... However the  
> traditional options (TORAD and RADOUT) are pretty ancient at this  
> point and have the following problems:
>
>   * TORAD - if I recall correctly this still only deals with surface
>     geometry which is fine if you know how to model this way...
>   * RADOUT - same issue as TORAD with respect to geometry and the last
>     version of Autocad that it could run in was Autocad 2000
>
> For me I think that the most suitable intermediate geometry format  
> is OBJ. It is open and there are lots of applications that can read  
> and write the format. The challenge is figuring out how to get from  
> Autocad to OBJ.
>
> -Jack
>
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
>
> Christopher Rush wrote:
>> If you want to stick with AutoCAD, have you tried TORAD.lsp that  
>> has been posted (with modification as required for your version)?
>>
>> My 2 cents on other options...
>>
>> I would comment that Rhino and Sketchup both produce good OBJ files  
>> that can be converted with obj2rad. You will have to start paying  
>> attention to material assignments (instead of or in addition to  
>> layers that you would have been used to in AutoCAD). Rhino is  
>> probably more expensive, but handles curved geometry much better,  
>> and has a more flexible command line interface similar to AutoCAD.  
>> Sketchup focuses on being more intuitive, but can be limited in  
>> some ways like coordinate entry. Sketchup has the su2rad plugin,  
>> and Rhino now has DIVA for additional options to get models into  
>> Radiance based simulations.
>>
>> Lars has suggested FormZ, which seems comparable to Rhino but maybe  
>> less popular.
>>
>> There is also Blender, which is an open source software similar to  
>> 3DSMax. It claims to export to OBJ, so may be a good try for a free  
>> test before putting money into another modeling package.
>> ____________________________________________________________
>> Electronic mail messages entering and leaving Arup  business
>> systems are scanned for acceptability of content and viruses
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From hdirani at eegroup.info  Sat Aug  7 14:11:57 2010
From: hdirani at eegroup.info (Hind Dirani)
Date: Sat Aug  7 14:12:06 2010
Subject: [Radiance-general] Radout
In-Reply-To: <60398AEE-2E6D-4911-8EDA-53824A3E85D4@gmx.net>
References: <E35477F1A321144D897D44CCAAFF202C048D146D6B@AD-MAILBOX01.aau.dk><AANLkTin0NaiaR0vJ+781uQGPx+jBtYzXiSxTU+DsKNYb@mail.gmail.com><4C59C3B1.9080602@gmx.net><53712E7580A846E28012D3BAF84D288D@mmgsal.com><AANLkTim8MXA1x0NTcWzm-X6bG+9Z4HLCo+7SO6S-01mf@mail.gmail.com><BA215A87697445D184DF6485C9693577@mmgsal.com>
	<AANLkTin-X_YsmiTDd+ZGyk73CYdiDyZjMbwt0OyKXFdK@mail.gmail.com>
	<3CB2191A006D4424A22300C12B2D95C3@mmgsal.com>
	<4C5C1A38.9010106@visarc.com>
	<bad2a9c420a855683ead8109a30eb859.squirrel@www.eegroup.info>
	<28285BAEA8C0814DBF1B199C876EC5B048631FDE02@AMXEXC01.global.arup.com>
	<4C5C7CD6.4030506@visarc.com>
	<60398AEE-2E6D-4911-8EDA-53824A3E85D4@gmx.net>
Message-ID: <baf6ae6741b69017be3cd305191a4d7e.squirrel@www.eegroup.info>


Thanks for all who helped me!

Cheers :)
Hind





> Hi!
>
> First, I would recommend dxf2rad, not torad or radout.
>
> Second, modelers ar great, but often lack precision you need for
> building models. You do not need nurbs for most architectural
> simulation, but good precision. That is why I mentioned formz, maybe
> Rhino offers the same. Blender is not made for this (but good for
> conversion and such, as it supports quite a lot of formats and
> geometry functions).
>
> I had mentioned the option to use brlcad for one simple reason.
> Autocad is popular, but a horror for people who want to keep their
> project data in standard formats. They change format support from
> version to version and keep the dwg format closed and it's development
> unpredictable. Keeping only the geometry (obj) is not a good solution.
> So I have been looking for options to link Radiance to open and
> standardized formats. IGES is one, STEP another. A lot of Cad software
> supports these. And as brlcad can convert them into obj on the command-
> line, it is possible to keep all geometry in such Cad formats and
> convert on the fly. I think for people who want to access their
> projects 10 years later a great advantage, and the only reason I
> mention it here.
>
> About texteditors, it depends on the project. A lot of simulation
> models require little detail, but high precision. And using genbox and
> Co not only avoids leaks, but makes sure that you control surface
> normal orientation. But it all depends on needed complexity of
> geometry and on what you want to do with yor model.
>
> Cheers, Lars.
>
> --
> Dipl.-Ing. Architect Lars O. Grobe
>
> On Aug 6, 2010, at 23:21, Jack de Valpine <jedev@visarc.com> wrote:
>
>> Hi,
>>
>> I would agree with Christopher on Rhino and Sketchup. Blender does
>> export obj also and does seem to be a robust application, although
>> my main experience with it has been testing it to process obj
>> geometry.
>>
>> I think the challenge is figuring out a suitable workflow for those
>> who need to use Autocad for whatever reason.... However the
>> traditional options (TORAD and RADOUT) are pretty ancient at this
>> point and have the following problems:
>>
>>   * TORAD - if I recall correctly this still only deals with surface
>>     geometry which is fine if you know how to model this way...
>>   * RADOUT - same issue as TORAD with respect to geometry and the last
>>     version of Autocad that it could run in was Autocad 2000
>>
>> For me I think that the most suitable intermediate geometry format
>> is OBJ. It is open and there are lots of applications that can read
>> and write the format. The challenge is figuring out how to get from
>> Autocad to OBJ.
>>
>> -Jack
>>
>> --
>> # Jack de Valpine
>> # president
>> #
>> # visarc incorporated
>> # http://www.visarc.com
>> #
>> # channeling technology for superior design and construction
>>
>>
>>
>> Christopher Rush wrote:
>>> If you want to stick with AutoCAD, have you tried TORAD.lsp that
>>> has been posted (with modification as required for your version)?
>>>
>>> My 2 cents on other options...
>>>
>>> I would comment that Rhino and Sketchup both produce good OBJ files
>>> that can be converted with obj2rad. You will have to start paying
>>> attention to material assignments (instead of or in addition to
>>> layers that you would have been used to in AutoCAD). Rhino is
>>> probably more expensive, but handles curved geometry much better,
>>> and has a more flexible command line interface similar to AutoCAD.
>>> Sketchup focuses on being more intuitive, but can be limited in
>>> some ways like coordinate entry. Sketchup has the su2rad plugin,
>>> and Rhino now has DIVA for additional options to get models into
>>> Radiance based simulations.
>>>
>>> Lars has suggested FormZ, which seems comparable to Rhino but maybe
>>> less popular.
>>>
>>> There is also Blender, which is an open source software similar to
>>> 3DSMax. It claims to export to OBJ, so may be a good try for a free
>>> test before putting money into another modeling package.
>>> ____________________________________________________________
>>> Electronic mail messages entering and leaving Arup  business
>>> systems are scanned for acceptability of content and viruses
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From mamand at gmail.com  Mon Aug  9 03:32:07 2010
From: mamand at gmail.com (Maria Mandalaki)
Date: Mon Aug  9 03:32:05 2010
Subject: [Radiance-general] DIVA-for-Rhino
In-Reply-To: <C5E1527F129BF545A250B5AD0B0C26EF077CA129@ENTWEXMB0000000.university.harvard.edu>
References: <C5E1527F129BF545A250B5AD0B0C26EF077CA129@ENTWEXMB0000000.university.harvard.edu>
Message-ID: <AANLkTimcz0iw=AP+Kb5fqiO11Knayj0=XtomR9ie=4A8@mail.gmail.com>

I would like to ask if there is a version of Diva for Rhino for a 64-bit PC.
Where can I find it?

Regards,
MAriaMAndalaki

On Wed, Aug 4, 2010 at 5:31 AM, Reinhart, Christoph <
reinhart@gsd.harvard.edu> wrote:

>  Dear colleagues,
>
>
>
> Some of you might be interested in a new Radiance/Daysim plug-in that we
> have developed for the Rhinoceros - NURBS modeling for Windows application.
> The plug-in, called DIVA-for-Rhino, supports a series of performance
> evaluations including:
>
>
>
> - Physically-based scene visualizations (Radiance)
>
> - Annual radiation maps (Radiance/GenCumulativeSky)
>
> - Climate-based daylighting metrics (Daysim)
>
> - Glare analysis (Evalglare)
>
> - LEED IEQ Credit 8.1 compliance (Radiance)
>
>
>
> The plug-in offers a highly optimized simulation workflow within Rhinoceros
> and can be combined with parametric Grasshopper scripting in order to
> generate animated Radiance/Daysim simulations.
>
> More information can be found at
> www.gsd.harvard.edu/research/gsdsquare/ABPS.html. You can download the
> plug-in from www.diva-for-rhino.com.
>
>
>
> Happy simulations!
>
>
>
> Christoph Reinhart, Alstan Jakubiec, Kera Lagios and Jeff Niemasz
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100809/9bd65f96/attachment.htm
From reinhart at gsd.harvard.edu  Mon Aug  9 06:26:06 2010
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Mon Aug  9 06:26:10 2010
Subject: [Radiance-general] DIVA-for-Rhino
In-Reply-To: <AANLkTimcz0iw=AP+Kb5fqiO11Knayj0=XtomR9ie=4A8@mail.gmail.com>
References: <C5E1527F129BF545A250B5AD0B0C26EF077CA129@ENTWEXMB0000000.university.harvard.edu>
	<AANLkTimcz0iw=AP+Kb5fqiO11Knayj0=XtomR9ie=4A8@mail.gmail.com>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF0782953D@ENTWEXMB0000000.university.harvard.edu>

Dear Maria,

 

We have not generated at 64 bit version of DIVA-for-Rhino. For the Rhino
scripting this would probably not be a big deal but I am not even aware
if there is a Radiance 64-bit version. Maybe somebody else on this list
knows?

 

Christoph

 

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Maria
Mandalaki
Sent: Monday, August 09, 2010 6:32 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] DIVA-for-Rhino

 

I would like to ask if there is a version of Diva for Rhino for a 64-bit
PC. Where can I find it?

Regards,
MAriaMAndalaki

On Wed, Aug 4, 2010 at 5:31 AM, Reinhart, Christoph
<reinhart@gsd.harvard.edu> wrote:

Dear colleagues,

 

Some of you might be interested in a new Radiance/Daysim plug-in that we
have developed for the Rhinoceros - NURBS modeling for Windows
application. The plug-in, called DIVA-for-Rhino, supports a series of
performance evaluations including:

 

- Physically-based scene visualizations (Radiance)

- Annual radiation maps (Radiance/GenCumulativeSky)

- Climate-based daylighting metrics (Daysim)

- Glare analysis (Evalglare)

- LEED IEQ Credit 8.1 compliance (Radiance)

 

The plug-in offers a highly optimized simulation workflow within
Rhinoceros and can be combined with parametric Grasshopper scripting in
order to generate animated Radiance/Daysim simulations.   

More information can be found at
www.gsd.harvard.edu/research/gsdsquare/ABPS.html. You can download the
plug-in from www.diva-for-rhino.com.

 

Happy simulations!

 

Christoph Reinhart, Alstan Jakubiec, Kera Lagios and Jeff Niemasz

 


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100809/246a0942/attachment.html
From randolph+LD at panix.com  Mon Aug  9 09:35:41 2010
From: randolph+LD at panix.com (Randolph M. Fritz (i))
Date: Mon Aug  9 09:36:26 2010
Subject: [Radiance-general] Re: DIVA-for-Rhino
References: <AANLkTimcz0iw=AP+Kb5fqiO11Knayj0=XtomR9ie=4A8@mail.gmail.com>
Message-ID: <i3paot$2vs$1@dough.gmane.org>

On 2010-08-09 03:32:07 -0700, Maria Mandalaki said:

> I would like to ask if there is a version of Diva for Rhino for a 
> 64-bit PC. Where can I find it?

I expect that the 32-bit versions of Rhino and Radiance work fine on 
64-bit Windows systems. There is no final 64-bit version of Rhino in 
any case, and little advantage in a 64-bit version Radiance components.
-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs



From Christoph.Begert at sbe.com.au  Tue Aug 10 19:36:21 2010
From: Christoph.Begert at sbe.com.au (Christoph Begert - SBE)
Date: Tue Aug 10 19:30:30 2010
Subject: [Radiance-general] modelling reflections from surrounding buildings
Message-ID: <83C0527DB301124DA259186C7039281204472982@ptamel05>

Hi

 

I'm doing a simple glare analysis to check the performance requirements
for blinds.

 

I'd like to include reflections from surrounding buildings in a worst
case scenario. Because I don't have a reliable city model, I was
thinking of creating a 'second sun', i.e. reflection, in the sky and
link the intensity of the second sun to the actual sun and reflection
properties of a window. I would locate the sun within the view through
the window.

 

I was thinking of adding another line into my sky file, however am not
totally sure how to exactly do this and was hoping that someone here
could help me with this.

 

Thanks

Chris

 

Kind regards,

 

Christoph Begert
Associate

sbe 

sustainable built environments 

Innovative ideas, collaborative design, practical solutions

 

Melbourne
Level 2, 525 Flinders St
Melbourne Victoria 3000
Australia
T:   +61 3 9923 2345
F:   +61 3 9923 2346
E:  christoph.begert@sbe.com.au
W:  www.sbe.com.au <http://www.sbe.com.au/>   

 

Sydney
Level 6, 61 Market Street
Sydney NSW 2000
Australia
T:   +61 2 8289 5720
F:   +61 2 9286 3745 

Perth Agent  Encycle
Level 10, 200 St Georges Terrace
PO Box 7620
Cloisters Square
Perth WA 6000
Australia
T:   +61 8 9321 8760
F:   +61 8 9485 0575

 

 

 

 

 

SBE - Winners of:

 

Australian Institute of Architects (Tasmanian Chapter) - 2010

Sustainable Architecture Award for the design of University of Tasmania
School of Furniture Design as Architects in collaboration with Six
Degrees.

 

Australian Institute of Architects (Tasmanian Chapter) - 2010

Public Architecture Award  for the design of University of Tasmania
School of Furniture Design as Architects in collaboration with Six
Degrees.

 

Australian Institute of Architects (Victorian Chapter) - 2010

Public Architecture Award. Provision of ESD Advice for Whitehorse
Sportslink, designed by Williams Ross Architects.

 

Australian Institute of Architects (South Australian Chapter) - 2010

Sustainable Architecture Award. Provision of ESD Advice and Green Star
Professional Services for UniSA Mawson Institute Building V, designed by
Guida Moseley Brown Architects and Russell & Yelland Architects in
Association.

 

National Australian Women in Construction - 2009

Winners of the Crystal Vision Award for advancing the interests of women
in the construction industry.

 

National Australian Women in Construction - 2009

Winners  of The Building Commission Award for outstanding achievement as
a business woman.

 

 

The contents of this email and its attachments are confidential and
privileged. Any unauthorised use of the contents is expressly
prohibited. If you receive this email in error, please contact us, then
delete the email. Before opening or using attachments, check them for
viruses and defects. The contents of this email and its attachments may
become scrambled, truncated or altered in transmission. Please notify us
of any anomalies.

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100811/3ee4998b/attachment.htm
From tbleicher at googlemail.com  Wed Aug 11 01:30:40 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed Aug 11 01:30:38 2010
Subject: [Radiance-general] modelling reflections from surrounding 
	buildings
In-Reply-To: <83C0527DB301124DA259186C7039281204472982@ptamel05>
References: <83C0527DB301124DA259186C7039281204472982@ptamel05>
Message-ID: <AANLkTikDGVYggiW6Kzoh9fyF75MLNyzWuqRiYsz2OB8S@mail.gmail.com>

Hello Christoph.

I don't quite understand how you want to create a "reflected" sun without
knowing the position and orientation of the reflecting window. And if you do
know that why don't you just use a "mirror" material for this window which
will create the reflected sun for you?

Anyway, back to creating a second sun:

On Wed, Aug 11, 2010 at 3:36 AM, Christoph Begert - SBE <
Christoph.Begert@sbe.com.au> wrote:

I was thinking of adding another line into my sky file, however am not
> totally sure how to exactly do this and was hoping that someone here could
> help me with this.
>

If you look at the output of a gensky command for skies with sun ("+i" or
"+s" option) you will find the definition for the sun; something like this:

void light solar
0
0
3 6.92e+06 6.92e+06 6.92e+06

solar source sun
0
0
4 0.067845 -0.617210 0.783868 0.5

The definition of "solar" defines the intensity of the sun which you have to
modify according to the reflection of the glazing.

The second block creates the actual sun with the first 3 parameters as
direction vector. This vector needs to be modified by "reflecting" it on the
plan of the reflecting window. You should be able to find the math for the
that on the internet.

The fourth parameter is the size of the sun (in degrees) and can probably
stay unchanged.


Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100811/6072a903/attachment-0001.html
From grobe at gmx.net  Wed Aug 11 02:39:32 2010
From: grobe at gmx.net (Lars Grobe)
Date: Wed Aug 11 02:39:32 2010
Subject: [Radiance-general] modelling reflections from surrounding 
	buildings
In-Reply-To: <AANLkTikDGVYggiW6Kzoh9fyF75MLNyzWuqRiYsz2OB8S@mail.gmail.com>
References: <83C0527DB301124DA259186C7039281204472982@ptamel05>
	<AANLkTikDGVYggiW6Kzoh9fyF75MLNyzWuqRiYsz2OB8S@mail.gmail.com>
Message-ID: <20100811093932.323850@gmx.net>

Hi!

> The second block creates the actual sun with the first 3 parameters as
> direction vector. This vector needs to be modified by "reflecting" it on
> the plan of the reflecting window. You should be able to find the math
> for the that on the internet.

You can add a line

!gensky [genskyoptions] | xform [xformoption]

To your scene file.

xform will do the translations then. Check the manpage for it, it allows you to perform all necessary rotation, mirror and translation operations.

Just as Thomas, I still do not get want you really want to achieve and why not to use mirror modifiers and real geometry.

Cheers, Lars.

From jedev at visarc.com  Wed Aug 11 06:35:39 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Aug 11 06:36:31 2010
Subject: [Radiance-general] modelling reflections from surrounding
	buildings
In-Reply-To: <20100811093932.323850@gmx.net>
References: <83C0527DB301124DA259186C7039281204472982@ptamel05>	<AANLkTikDGVYggiW6Kzoh9fyF75MLNyzWuqRiYsz2OB8S@mail.gmail.com>
	<20100811093932.323850@gmx.net>
Message-ID: <4C62A72B.4080508@visarc.com>

Hi,

Just as an aside here. Note that if you do this (ie add an additional 
gensky call) it will also generate a skyfunc. This could be a problem 
depending on which order the gensky calls are made.... For example:

   1. gensky with actual sun position
   2. gensky with "reflected" sun position

The second skyfunc for the second gensky is the one that would get 
applied to the "sky."

Regarding, the original question, I tend to agree with Thomas that the 
thing to do would be to actually model some simple surfaces to 
approximate the surrounding conditions.

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



Lars Grobe wrote:
> Hi!
>
>   
>> The second block creates the actual sun with the first 3 parameters as
>> direction vector. This vector needs to be modified by "reflecting" it on
>> the plan of the reflecting window. You should be able to find the math
>> for the that on the internet.
>>     
>
> You can add a line
>
> !gensky [genskyoptions] | xform [xformoption]
>
> To your scene file.
>
> xform will do the translations then. Check the manpage for it, it allows you to perform all necessary rotation, mirror and translation operations.
>
> Just as Thomas, I still do not get want you really want to achieve and why not to use mirror modifiers and real geometry.
>
> Cheers, Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

From Christoph.Begert at sbe.com.au  Wed Aug 11 17:03:04 2010
From: Christoph.Begert at sbe.com.au (Christoph Begert - SBE)
Date: Wed Aug 11 16:57:16 2010
Subject: [Radiance-general] modelling reflections from surrounding
	buildings
In-Reply-To: <AANLkTikDGVYggiW6Kzoh9fyF75MLNyzWuqRiYsz2OB8S@mail.gmail.com>
References: <83C0527DB301124DA259186C7039281204472982@ptamel05>
	<AANLkTikDGVYggiW6Kzoh9fyF75MLNyzWuqRiYsz2OB8S@mail.gmail.com>
Message-ID: <83C0527DB301124DA259186C7039281204472988@ptamel05>

Hi Thomas, Lars and Jack

 

Thanks for your answers. 

 

The aim is to determine what performance the blinds need for protection.
So I identified a few critical cases, one includes reflection from
surrounding buildings towards the west. These have very reflective
facades, which means that they get some glare on this side during the
mornings. Since it is a rather simple model and because I lack detailed
geometry data of the surroundings, I thought adding a sun in the view
for the as a reflection is a bit quicker than placing a mirror.

 

Anyway, thanks again.

 

Greetings from Melbourne

Chris

 

 

 

Kind regards,

 

Christoph Begert

Associate

sbe 

sustainable built environments 

Innovative ideas, collaborative design, practical solutions

 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Thomas Bleicher
Sent: Wednesday, 11 August 2010 6:31 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] modelling reflections from surrounding
buildings

 

Hello Christoph.

 

I don't quite understand how you want to create a "reflected" sun
without knowing the position and orientation of the reflecting window.
And if you do know that why don't you just use a "mirror" material for
this window which will create the reflected sun for you?

 

Anyway, back to creating a second sun: 

On Wed, Aug 11, 2010 at 3:36 AM, Christoph Begert - SBE
<Christoph.Begert@sbe.com.au> wrote:

	 

	I was thinking of adding another line into my sky file, however
am not totally sure how to exactly do this and was hoping that someone
here could help me with this.

 

If you look at the output of a gensky command for skies with sun ("+i"
or "+s" option) you will find the definition for the sun; something like
this:

 

void light solar

0

0

3 6.92e+06 6.92e+06 6.92e+06

 

solar source sun

0

0

4 0.067845 -0.617210 0.783868 0.5

 

The definition of "solar" defines the intensity of the sun which you
have to modify according to the reflection of the glazing.

 

The second block creates the actual sun with the first 3 parameters as
direction vector. This vector needs to be modified by "reflecting" it on
the plan of the reflecting window. You should be able to find the math
for the that on the internet.

 

The fourth parameter is the size of the sun (in degrees) and can
probably stay unchanged.

 

 

Regards,

Thomas

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100812/875e9447/attachment.htm
From Christopher.Rush at arup.com  Thu Aug 12 06:12:45 2010
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu Aug 12 06:12:54 2010
Subject: [Radiance-general] modelling reflections from surrounding
	buildings
In-Reply-To: <83C0527DB301124DA259186C7039281204472988@ptamel05>
References: <83C0527DB301124DA259186C7039281204472982@ptamel05>
	<AANLkTikDGVYggiW6Kzoh9fyF75MLNyzWuqRiYsz2OB8S@mail.gmail.com>
	<83C0527DB301124DA259186C7039281204472988@ptamel05>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B048660AB5C6@AMXEXC01.global.arup.com>

Another comment is that adding a sun instead of a mirror assumes an infinitely large reflective facade. Depending on the angle of the sun and maximum height of surrounding buildings there may be times that the sun doesn't actually reflect onto your area of interest. Or there may be situations where your building shadows the reflective fa?ade and reduces the reflection.

Also, the adjacent building would block some portion of the sky contribution to your site - but with the sun definition it adds the reflection without blocking any sky.
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100812/4c60f37d/attachment.html
From jan.wienold at ise.fraunhofer.de  Thu Aug 12 10:55:15 2010
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Thu Aug 12 10:55:24 2010
Subject: [Fwd: [Radiance-general] 9th International Radiance Workshop -
	Web-Site online]
Message-ID: <4C643583.1080108@ise.fraunhofer.de>

Skipped content of type multipart/alternative-------------- next part --------------
_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From nhubof at gmail.com  Thu Aug 12 15:31:31 2010
From: nhubof at gmail.com (Nick Hubof)
Date: Thu Aug 12 15:32:02 2010
Subject: [Radiance-general] Single pane vs Double pane geometry
In-Reply-To: <000601cb39b4$0d676ed0$28364c70$@com>
References: <000601cb39b4$0d676ed0$28364c70$@com>
Message-ID: <000001cb3a6e$1e2d9b30$5a88d190$@com>

All,

 

Since I started using radiance I have always modeled a single plane to
represent a window pane (single or double). The RAD material of course would
give the plane the correct VLT. 

However, when I model two planes the light is decreased because the first
pane lets in X% (vlt) and then the second pane further reduces it by X%
again. 

I would like a material that takes into account that there are two planes
physically modeled. Reason being I am importing a significant amount of
windows from a revit model consuming of many family objects all containing
windows with physically two planes of geometry glazing.

I don't know all the tricks to writing material definitions, so I ask is
there a material function that will take into account the extra plane of
geometry and still give me the correct VLT? Or is it just a simple
mathematical formula that will equal the VLT I need. (e.g. 85% + 85% =
72.25%).

Thank you in advance.

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100812/50b0ef56/attachment.html
From v.paupelin-huchard at elioth.fr  Fri Aug 13 11:02:40 2010
From: v.paupelin-huchard at elioth.fr (PAUPELIN-HUCHARD Valere)
Date: Fri Aug 13 11:04:11 2010
Subject: [Radiance-general] rcalc output file  format
Message-ID: <10FF47769858457D995E58C85875040B@micr817p>

Hi,
 
Here is the rcalc cmd line I use:
rcalc -e "$1=$1;$2=$2;$3=$3;$4=(0.265*$7+0.67*$8+0.065*$9)*179/10000"
numeric/plan_de_travail.irr>numeric/plan_de_travail.flj
 
I would like to have my output file numeric fields separated by another
character than tab. How is it possible?
 
Thanks.
 
Cordialement,
----------
Val?re Paupelin-Huchard
Iosis Concept // ing?nieur Elioth


 <http://www.iosigroup.fr/> www.elioth.fr <http://www.elioth.fr/> 
fa?ade / structure / environnement / r&d 
 

Iosis Concept // Elioth 
4, rue Dolor?s Ibarruri
TSA 80006
F 93188 Montreuil Cedex
t (+33) 1.78.42.73.91
f (+33) 1.78.42.73.95

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100813/7dfb7858/attachment.htm
From amcneil at lbl.gov  Fri Aug 13 12:09:09 2010
From: amcneil at lbl.gov (Andy McNeil)
Date: Fri Aug 13 12:09:09 2010
Subject: [Radiance-general] rcalc output file  format
In-Reply-To: <10FF47769858457D995E58C85875040B@micr817p>
References: <10FF47769858457D995E58C85875040B@micr817p>
Message-ID: <4545D6E7-74B0-479B-80C7-1975EDB03873@lbl.gov>

Hi Val?re,

You can use the -o option to specify output format.  For example to use a double colon as a separator:
rcalc -e 'v1=$1;v2=$2;v3=$3;v4=(0.265*$7+0.67*$8+0.065*$9)*179/10000' -o '${v1}::${v2}::${v3}::${v4}' numeric/plan_de_travail.irr>numeric/plan_de_travail.flj

you can also put the format string in a file and use -o to specify the file like so:
rcalc -e 'v1=$1;v2=$2;v3=$3;v4=(0.265*$7+0.67*$8+0.065*$9)*179/10000' -o output.fmt numeric/plan_de_travail.irr>numeric/plan_de_travail.flj

Best,
Andy



On Aug 13, 2010, at 11:02 AM, PAUPELIN-HUCHARD Valere wrote:

> Hi,
>  
> Here is the rcalc cmd line I use:
> rcalc -e "$1=$1;$2=$2;$3=$3;$4=(0.265*$7+0.67*$8+0.065*$9)*179/10000" numeric/plan_de_travail.irr>numeric/plan_de_travail.flj
>  
> I would like to have my output file numeric fields separated by another character than tab. How is it possible?
>  
> Thanks.
>  
> Cordialement,
> ----------
> Val?re Paupelin-Huchard
> Iosis Concept // ing?nieur Elioth
> 
> www.elioth.fr
> fa?ade / structure / environnement / r&d 
>  
> 
> Iosis Concept // Elioth 
> 4, rue Dolor?s Ibarruri
> TSA 80006
> F 93188 Montreuil Cedex
> t (+33) 1.78.42.73.91
> f (+33) 1.78.42.73.95
> 
>  
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100813/0c5e871c/attachment.html
From johnford at bb3.net.au  Sun Aug 15 19:34:22 2010
From: johnford at bb3.net.au (John Ford)
Date: Sun Aug 15 19:34:23 2010
Subject: [Radiance-general] illuminance measurement
Message-ID: <D98B6025-7BB1-416F-965B-76C13E4F836E@bb3.net.au>

Hi,

I'm trying to confirm illuminance calculations but getting conflicting  
results. A falsecolor image generated from an irradiance image (-i  
option to rpict: rif file has line 'render= -i') gives an illuminance  
of around 400 lux in the middle of the room. Using rtrace I get an  
illuminance of about 210 lux in the middle of the room. (I'm using an  
irradiance image for the -i option in falsecolor and a radiance image  
for the -p option).

The rtrace I'm using is as per Axel Jacobs tutorial: echo "61.292  
27.490 0 0 0 1' | rtrace -I -h -ov octrees/south.oct | rcalc -e  
'$1=179*$1' This should work with the octree- same as what I generated  
the image from-  should it not?

John.




JOHN FORD

BLUEBOTTLE
FORTY THREE STAWELL STREET
NORTH MELBOURNE 3051
PHONE  03 9329 0709
FAX 03 9329 1780

WWW.BB3.NET.AU
JOHNFORD@BB3.NET.AU
MOBILE 0411 519 738




-------------- next part --------------
Skipped content of type multipart/related
From gregoryjward at gmail.com  Mon Aug 16 00:12:53 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Aug 16 00:12:41 2010
Subject: [Radiance-general] illuminance measurement
In-Reply-To: <D98B6025-7BB1-416F-965B-76C13E4F836E@bb3.net.au>
References: <D98B6025-7BB1-416F-965B-76C13E4F836E@bb3.net.au>
Message-ID: <38673122-32DC-4236-A5ED-B35350B8E04E@lmi.net>

Hi John,

I suppose this belongs in a FAQ.  If you read the fine print on the -i option, you'll see that it differs in an important way from -I.  In the -i case, rays are traced to surfaces, where irradiance is then computed.  Using -I, rtrace computes irradiance from input interpreted as measurement points and orientations.  Thus, you don't need to have actual surfaces where you measure using -I.

In short, your two calculations are measuring different values, probably at different positions in the scene as well as in different directions.

Best,
-Greg


> From: John Ford <johnford@bb3.net.au>
> Date: August 16, 2010 3:34:22 AM GMT+01:00
> 
> Hi, 
> 
> I'm trying to confirm illuminance calculations but getting conflicting results. A falsecolor image generated from an irradiance image (-i option to rpict: rif file has line 'render= -i') gives an illuminance of around 400 lux in the middle of the room. Using rtrace I get an illuminance of about 210 lux in the middle of the room. (I'm using an irradiance image for the -i option in falsecolor and a radiance image for the -p option).
> 
> The rtrace I'm using is as per Axel Jacobs tutorial: echo "61.292 27.490 0 0 0 1' | rtrace -I -h -ov octrees/south.oct | rcalc -e '$1=179*$1' This should work with the octree- same as what I generated the image from-  should it not? 
> 
> John. 
> 
> 
> 
> JOHN FORD
> 
> BLUEBOTTLE
> FORTY THREE STAWELL STREET
> NORTH MELBOURNE 3051
> PHONE  03 9329 0709
> FAX 03 9329 1780
> 
> WWW.BB3.NET.AU
> JOHNFORD@BB3.NET.AU
> MOBILE 0411 519 738
> 

From jelleferinga at gmail.com  Wed Aug 18 04:07:52 2010
From: jelleferinga at gmail.com (jelle feringa)
Date: Wed Aug 18 04:07:52 2010
Subject: [Radiance-general] convert camera exposure to radiance 
Message-ID: <7F52B9A6-B6FE-4A9D-BA2E-9E439CC4093C@gmail.com>

Hi,

On page 330 of RwR there is a nice .cal formula that let's you mimic a camera exposure to a .hdr file.
I'd like to do the inverse, and use my camera as an approximate radiance / lux / candela measuring device.
I realize this is pretty approximate, but that will do for now.
Actually, it could have some general usefulness; let's say you visited a beautiful building some time ago took some shots and would like to know the approx. lighting levels there.
Such a tool would be a nice aid.

To go all out on this would be to use the exif data from an image, rather than setting these options manually I suppose.
(That would be pretty easy to do actually)

However, it seems to me that E is returning an exposure setting ( for use with pfilt -e ? ) rather than a Radiance value ( candela, lux conversion could be handy ).
How could I retrieve the approximate radiance value?

Thanks in advance,

-jelle


from __future__ import division
import optparse, math, sys

parser = optparse.OptionParser()
parser.add_option('-e', '--exposure-time',  action="store", type=float, help="exposure time")
parser.add_option('-s', '--iso',            action="store", type=int, help="film speed (iso/asa)")
parser.add_option('-f', '--f-stop',         action="store", type=float, help="camera f-stop")
options, remainder = parser.parse_args()

for i in ['exposure_time', 'f_stop', 'iso']:
    if getattr(options, i) is None:
        print 'the option %s was not set, but is required' % (i)
        sys.exit()

# honestly stolen from Rendering with Radiance page 330
# relationship between Radiance exposure and film exposure

K = 179*(math.pi/200)
# C allows you to ^ on floats and python does not?
E = int( K * options.exposure_time * options.iso / options.f_stop )  ^ 2
sys.stdout.write('E -> ' + str(E) + '\n')
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100818/a12971b0/attachment.htm
From c.esmeijer at mook.peutz.nl  Wed Aug 18 06:32:36 2010
From: c.esmeijer at mook.peutz.nl (Casper Esmeijer)
Date: Wed Aug 18 06:34:44 2010
Subject: [Radiance-general] convert camera exposure to radiance
In-Reply-To: <7F52B9A6-B6FE-4A9D-BA2E-9E439CC4093C@gmail.com>
References: <7F52B9A6-B6FE-4A9D-BA2E-9E439CC4093C@gmail.com>
Message-ID: <4C6BE0F4.80601@mook.peutz.nl>

An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100818/b47ace8f/attachment.html
From gregoryjward at gmail.com  Wed Aug 18 06:54:45 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Aug 18 06:54:42 2010
Subject: [Radiance-general] convert camera exposure to radiance
In-Reply-To: <4C6BE0F4.80601@mook.peutz.nl>
References: <7F52B9A6-B6FE-4A9D-BA2E-9E439CC4093C@gmail.com>
	<4C6BE0F4.80601@mook.peutz.nl>
Message-ID: <E2E8A3B2-5438-4412-82D7-F4B7F709296A@lmi.net>

Hi Jelle,

If you have access to a Mac, you can download Photosphere to do this for you:

	http://www.anyhere.com

Mehlika Inanici has done some work validating the software:

	http://faculty.washington.edu/inanici/MI-RESEARCH.html

You can subscribe to the hdri mailing list or look at older postings for more information.

Cheers,
-Greg

> From: Casper Esmeijer <c.esmeijer@mook.peutz.nl>
> Date: August 18, 2010 6:32:36 AM PDT
> 
> Hi Jelle,
> 
> There's a lot of information available on this topic. You'll have to go through different steps to calibrate your camera, define and convert to the right color space and you'll need the same picture with several different exposure times to cover the dynamic range sufficiently (depending on what you want to use it for). Check out the following:
> - Paul E. Debevec, Jitendra Malik. ?Recovering High Dynamic Range Radiance Maps from Photographs?, Proceedings of SIGGRAPH 97, Computer Graphics Proceedings, Annual Conference Series, pp. 369-378 (August 1997, Los Angeles, California). Addison Wesley. Edited by Turner Whitted. ISBN 0-89791-896-7.
> - D. Wueller, H. Gabele,?The Useage of Digital Cameras as Luminance Meters?, SPIE ? IS&T Electronic Imaging Conference 2007. 
> - Karel Fliegel, Josef Havlin, ?Imaging photometer with a non-professional digital camera?, Proc. SPIE, Volume 7443, 74431Q, 2009. 
> 
> This doesn't mean the answer is simple though. 
> 
> good luck, Casper Esmeijer
> 
> jelle feringa schreef:
>> Hi,
>> 
>> On page 330 of RwR there is a nice .cal formula that let's you mimic a camera exposure to a .hdr file.
>> I'd like to do the inverse, and use my camera as an approximate radiance / lux / candela measuring device.
>> I realize this is pretty approximate, but that will do for now.
>> Actually, it could have some general usefulness; let's say you visited a beautiful building some time ago took some shots and would like to know the approx. lighting levels there.
>> Such a tool would be a nice aid.
>> 
>> To go all out on this would be to use the exif data from an image, rather than setting these options manually I suppose.
>> (That would be pretty easy to do actually)
>> 
>> However, it seems to me that E is returning an exposure setting ( for use with pfilt -e ? ) rather than a Radiance value ( candela, lux conversion could be handy ).
>> How could I retrieve the approximate radiance value?
>> 
>> Thanks in advance,
>> 
>> -jelle
>> 
>> 
>> from __future__ import division
>> import optparse, math, sys
>> 
>> parser = optparse.OptionParser()
>> parser.add_option('-e', '--exposure-time',  action="store", type=float, help="exposure time")
>> parser.add_option('-s', '--iso',            action="store", type=int, help="film speed (iso/asa)")
>> parser.add_option('-f', '--f-stop',         action="store", type=float, help="camera f-stop")
>> options, remainder = parser.parse_args()
>> 
>> for i in ['exposure_time', 'f_stop', 'iso']:
>>     if getattr(options, i) is None:
>>         print 'the option %s was not set, but is required' % (i)
>>         sys.exit()
>> 
>> # honestly stolen from Rendering with Radiance page 330
>> # relationship between Radiance exposure and film exposure
>> 
>> K = 179*(math.pi/200)
>> # C allows you to ^ on floats and python does not?
>> E = int( K * options.exposure_time * options.iso / options.f_stop )  ^ 2
>> sys.stdout.write('E -> ' + str(E) + '\n')

From jelleferinga at gmail.com  Wed Aug 18 07:44:00 2010
From: jelleferinga at gmail.com (jelle feringa)
Date: Wed Aug 18 07:44:01 2010
Subject: [Radiance-general] (no subject)
Message-ID: <64B16658-D24E-4818-8C00-66B0DE60E9C6@gmail.com>

Thanks Greg, Casper!

Really excited seeing cd/m2 values coming from an .jpg image.
I'm interested in finding out what the value of my backlight is (600 cd/m2 photosphere tells me).
Does that seem reasonable? Isn't that perhaps a little low of 4* 18 watt tube lights ( they're old? )?
I just read in the HDRI book that your hdr viewer has 5000 cd/m2? Pretty impressive..

Cheers,

-jelle


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100818/48880a00/attachment.htm
From Christopher.Rush at arup.com  Wed Aug 18 07:58:23 2010
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Wed Aug 18 07:58:35 2010
Subject: [Radiance-general] (no subject)
In-Reply-To: <64B16658-D24E-4818-8C00-66B0DE60E9C6@gmail.com>
References: <64B16658-D24E-4818-8C00-66B0DE60E9C6@gmail.com>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B048665AF8BF@AMXEXC01.global.arup.com>

Could be reasonable. In a diffuse transmission situation I think it should be Luminance (cd/m2) = Back Face Incident Flux (lm/m2) * Diffuse Transmission (%) / Pi...   if your 18W CFL have degraded to 1000 lumens each then 4 * 1000 / 1 m2 * 50% / Pi = 636 cd/m2. Maybe your light box is smaller than 1 m2 but the diffusing surface is probably less than 50% transmission.

Ideally you should try to find a luminance meter you can use to verify your camera calibration in photosphere.

 > I'm interested in finding out what the value of my backlight is (600 cd/m2 photosphere tells me<http://jelleferinga.com/files/P1040667.jpg>).
> Does that seem reasonable? Isn't that perhaps a little low of 4* 18 watt tube lights ( they're old... )?

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100818/7b1b8c66/attachment.html
From mamand at gmail.com  Wed Aug 18 09:12:24 2010
From: mamand at gmail.com (Maria Mandalaki)
Date: Wed Aug 18 09:12:19 2010
Subject: [Radiance-general] Diva for Rhino problem
Message-ID: <AANLkTinp=z2k2DEZVWvkChVRs-fevDwLxLHH=Ug63C2s@mail.gmail.com>

I have installed Diva For Rhino in my Rhino but when I try to run a
simulation I have the following message:

Source: Microsoft VBScript runtime error
Error: Invalid use of null
Line: 10
Char: 1
Code:

Do you have any idea why this is happening?

Thank you in advance,
MariaM
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100818/26e55938/attachment.htm
From jelleferinga at gmail.com  Wed Aug 18 14:04:13 2010
From: jelleferinga at gmail.com (Jelle Feringa)
Date: Wed Aug 18 14:04:08 2010
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 78, Issue 19
In-Reply-To: <4c6c2dd3.2436640a.5d67.ffff8c5bSMTPIN_ADDED@mx.google.com>
References: <4c6c2dd3.2436640a.5d67.ffff8c5bSMTPIN_ADDED@mx.google.com>
Message-ID: <4A90C13E-3F3C-4572-8329-35D4D8767DEE@gmail.com>

> Could be reasonable. In a diffuse transmission situation I think it should be Luminance (cd/m2) = Back Face Incident Flux (lm/m2) * Diffuse Transmission (%) / Pi...   if your 18W CFL have degraded to 1000 lumens each then 4 * 1000 / 1 m2 * 50% / Pi = 636 cd/m2. Maybe your light box is smaller than 1 m2 but the diffusing surface is probably less than 50% transmission.
> 
> Ideally you should try to find a luminance meter you can use to verify your camera calibration in photosphere.

Thanks Christopher!
That really helps; its confidence inspiring if you can post-rationalize data "manually".

 I will do that, the idea of my camera being able to capture cd/m2 is just awe inspiring ;)

Thanks again,

-jelle
From RFritz at lbl.gov  Wed Aug 18 14:04:23 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed Aug 18 14:04:32 2010
Subject: [Radiance-general] Re: convert camera exposure to radiance
References: <7F52B9A6-B6FE-4A9D-BA2E-9E439CC4093C@gmail.com>
Message-ID: <i4hhsn$nfb$1@dough.gmane.org>

On 2010-08-18 04:07:52 -0700, jelle feringa said:

> I'd like to do the inverse, and use my camera as an approximate 
> radiance / lux / candela measuring device.
> I realize this is pretty approximate, but that will do for now.

See Kodak's "Estimating Luminance and Illuminance With Reflection-Type 
Exposure Meters and an 18% Neutral Test Card" at 
<http://www.kodak.com/cluster/global/en/consumer/products/techInfo/am105/am105kic.pdf>

Since 

modern digital cameras record their exposures, the gray card is 
unnecessary, and the calculation can be automated, as Greg has done in 
Photosphere. One thing to keep in mind is that a camera exposure 
calculation may use different spectral weights than a luminance meter.

Randolph



From Robert.Guglielmetti at nrel.gov  Wed Aug 18 14:45:39 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed Aug 18 14:45:34 2010
Subject: [Radiance-general] Rtcontrib inside of script
Message-ID: <C891B0A3.5A1B%robert.guglielmetti@nrel.gov>

Greetings from inside the octree.

I'm trying to make a script that will as one of its steps call rtcontrib and
compute a set of daylight coefficient images, based on Axel Jacobs'
tutorial. 

>From a BASH prompt, if I set up some view options (in $vw) and render
options (in a file called rtc.opt), the following command...

vwrays -ff $vw | rtcontrib @rtc.opt -fo -ffc $(vwrays -d $vw) -f
tregenza.cal -b tbin -o images/patches/treg%03d.hdr -m sky_glow model_dc.oct

...works. I get treg[000-145].hdr in my images/patches directory. This is
good. 

But if I try to put the same construct into a Ruby script (note slightly
different variable names), the following command...

vwrays -ff #{vw} | rtcontrib #{rtc} -n 15 -ffc $(vwrays -d #{vw}) -fo -f
tregenza.cal -b tbin -o #{Dir.pwd}/output/dc/test/treg%03d.hdr -m sky_glow
model_dc.oct"

...does not work. Fail. Boo. What I end up with is just a single
treg000.hdr. Any ideas why? I have a feeling the system doesn't like the
vwrays call inside of the rtcontrib call. Anyone know how to pass this
through from Ruby without a problem?


From grobe at gmx.net  Thu Aug 19 03:24:56 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Aug 19 03:24:58 2010
Subject: [Radiance-general] Rtcontrib inside of script
In-Reply-To: <C891B0A3.5A1B%robert.guglielmetti@nrel.gov>
References: <C891B0A3.5A1B%robert.guglielmetti@nrel.gov>
Message-ID: <4C6D0678.2080404@gmx.net>

Hi Rob!

> ...does not work. Fail. Boo. What I end up with is just a single
> treg000.hdr. Any ideas why? I have a feeling the system doesn't like the
> vwrays call inside of the rtcontrib call. Anyone know how to pass this
> through from Ruby without a problem?

I am calling rtcontrib from inside bash-scripts, and it works fine. 
Probably this is some Ruby-specific problem. I tend to insert a 
print-command right in front of the command call to see whether all 
variable names and such get resolved as expected. In my experience, 
quoting and typos are the worst origins of errors in interpreted scripts 
(and the reason people like compiled languages doing much more checks).

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100819/5c7edc22/smime.bin
From grobe at gmx.net  Thu Aug 19 03:28:06 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Aug 19 03:28:02 2010
Subject: [Radiance-general] convert camera exposure to radiance
In-Reply-To: <E2E8A3B2-5438-4412-82D7-F4B7F709296A@lmi.net>
References: <7F52B9A6-B6FE-4A9D-BA2E-9E439CC4093C@gmail.com>	<4C6BE0F4.80601@mook.peutz.nl>
	<E2E8A3B2-5438-4412-82D7-F4B7F709296A@lmi.net>
Message-ID: <4C6D0736.7070402@gmx.net>

Just as a note, I would always recommend to

1) Get your hands on some known light source for calibration (knowing 
someone with an integrating sphere may be an advantage).

2) Find out how to lock everything in your camera - it is annoying to 
find out about all these automatic features that affect the jpgs which 
end up on a memory card. Do not forget white balance and all that.

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100819/6e309074/smime.bin
From Robert.Guglielmetti at nrel.gov  Thu Aug 19 07:30:07 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu Aug 19 07:30:04 2010
Subject: [Radiance-general] Rtcontrib inside of script
In-Reply-To: <4C6D0678.2080404@gmx.net>
Message-ID: <C8929C0F.5A3A%robert.guglielmetti@nrel.gov>

Hi Lars,

Yeah, I have a similar check in my script right now to debug this, and the
variables are all being expanded correctly. I think the error lies further
up the chain now. I'll let ya know what I find out!

- Rob

On 8/19/10 4:24 AM, "Lars O. Grobe" <grobe@gmx.net> wrote:

> Hi Rob!
> 
>> ...does not work. Fail. Boo. What I end up with is just a single
>> treg000.hdr. Any ideas why? I have a feeling the system doesn't like the
>> vwrays call inside of the rtcontrib call. Anyone know how to pass this
>> through from Ruby without a problem?
> 
> I am calling rtcontrib from inside bash-scripts, and it works fine.
> Probably this is some Ruby-specific problem. I tend to insert a
> print-command right in front of the command call to see whether all
> variable names and such get resolved as expected. In my experience,
> quoting and typos are the worst origins of errors in interpreted scripts
> (and the reason people like compiled languages doing much more checks).
> 
> Cheers, Lars.
> 


From Robert.Guglielmetti at nrel.gov  Thu Aug 19 07:33:12 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu Aug 19 07:33:05 2010
Subject: [Radiance-general] convert camera exposure to radiance
In-Reply-To: <4C6D0736.7070402@gmx.net>
Message-ID: <C8929CC8.5A3D%robert.guglielmetti@nrel.gov>

Even the automatic features like image enhancement and the like won't ruin
your HDR efforts as long as you keep things consistent. You want to fix
everything you can:

Aperture
White balance
ISO, etc.

Jelle, definitely check out the HDR mailing list hosted on this site for
loads of good info.

On 8/19/10 4:28 AM, "Lars O. Grobe" <grobe@gmx.net> wrote:

> Just as a note, I would always recommend to
> 
> 1) Get your hands on some known light source for calibration (knowing
> someone with an integrating sphere may be an advantage).
> 
> 2) Find out how to lock everything in your camera - it is annoying to
> find out about all these automatic features that affect the jpgs which
> end up on a memory card. Do not forget white balance and all that.
> 
> Cheers, Lars.
> 


From RFritz at lbl.gov  Thu Aug 19 09:09:30 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Thu Aug 19 09:09:38 2010
Subject: [Radiance-general] Re: Rtcontrib inside of script
References: <C891B0A3.5A1B%robert.guglielmetti@nrel.gov>
Message-ID: <i4jkvq$o4u$1@dough.gmane.org>

It's probably a quoting problem. Does Ruby perhaps process "%03d" 
itself? You may need to quote the '%'.

Randolph

On 2010-08-18 14:45:39 -0700, Guglielmetti, Robert said:

> Greetings from inside the octree.
> 
> I'm trying to make a script that will as one of its steps call rtcontrib and
> compute a set of daylight coefficient images, based on Axel Jacobs'
> tutorial.
> 
>> From a BASH prompt, if I set up some view options (in $vw) and render
> options (in a file called rtc.opt), the following command...
> 
> vwrays -ff $vw | rtcontrib @rtc.opt -fo -ffc $(vwrays -d $vw) -f
> tregenza.cal -b tbin -o images/patches/treg%03d.hdr -m sky_glow model_dc.oct
> 
> ...works. I get treg[000-145].hdr in my images/patches directory. This is
> good.
> 
> But if I try to put the same construct into a Ruby script (note slightly
> different variable names), the following command...
> 
> vwrays -ff #{vw} | rtcontrib #{rtc} -n 15 -ffc $(vwrays -d #{vw}) -fo -f
> tregenza.cal -b tbin -o #{Dir.pwd}/output/dc/test/treg%03d.hdr -m sky_glow
> model_dc.oct"
> 
> ...does not work. Fail. Boo. What I end up with is just a single
> treg000.hdr. Any ideas why? I have a feeling the system doesn't like the
> vwrays call inside of the rtcontrib call. Anyone know how to pass this
> through from Ruby without a problem?


-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs



From jelleferinga at gmail.com  Thu Aug 19 12:52:28 2010
From: jelleferinga at gmail.com (Jelle Feringa)
Date: Thu Aug 19 12:52:27 2010
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 78, Issue 21
In-Reply-To: <4c6d7f58.01ea960a.3c30.ffffd3b2SMTPIN_ADDED@mx.google.com>
References: <4c6d7f58.01ea960a.3c30.ffffd3b2SMTPIN_ADDED@mx.google.com>
Message-ID: <344C43BB-6D55-45CD-BF58-395638EABA62@gmail.com>

Hi Robert, Randolph, Lars,

This is why I love the radiance list; a naive question gets slingshot into practical advice, thanks so much for the advice guys!
I've validated the measurements from Photosphere, this is just _awesome_! 
Thanks again,

-jelle
From grobe at gmx.net  Sun Aug 22 14:39:38 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Aug 22 14:39:38 2010
Subject: [Radiance-general] behaviour of multiple source objects in one scene
Message-ID: <4C71991A.8000606@gmx.net>

Hi folks,

after how many gensky-calls I start to wonder - what does it mean to 
have to source objects (sky & sun) in one scene?

Having one source is easy to get - it takes the bounding box of the 
scene and catches all rays that leave it. Having two....? Is it that the 
order the source objects are defined determine their "diameter"? The 
typical example is the sky and sun combination, both of type source. 
Usually I have the gensky-output first including the sun disk, and the 
hemispheres for sky and ground after that (and added by hand). Does this 
mean that, because of their order in the scene description, the sun 
source is "inside" the sky source? And does it make a difference whether 
the source objects are modified by light or by glow? So if I could 
handle the sun as glow, would it still "override" the sky background 
because of the order of its definition?

Sorry for not finding this out myself now in the source code, maybe 
someone can shed some light on this?

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100822/294da879/smime.bin
From gregoryjward at gmail.com  Sun Aug 22 15:06:58 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun Aug 22 15:06:57 2010
Subject: [Radiance-general] behaviour of multiple source objects in one
	scene
In-Reply-To: <4C71991A.8000606@gmx.net>
References: <4C71991A.8000606@gmx.net>
Message-ID: <3CE3039B-AAA4-44B3-814B-FF95DBE1E8E5@lmi.net>

Hi Lars,

The test in "sourcehit()" in src/rt/source.c works with the following priority for overlapping sources:

1) Distant source modified by "light" or "illum" with an alternate material type.

2) Distant source modified by "illum" with no alternate material type.

3) Distant source modified by "glow" type.

If there are two or more sources, the first one found (in scene file order) is used.

Hope this clears things up!
-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: August 22, 2010 2:39:38 PM PDT
> 
> Hi folks,
> 
> after how many gensky-calls I start to wonder - what does it mean to have to source objects (sky & sun) in one scene?
> 
> Having one source is easy to get - it takes the bounding box of the scene and catches all rays that leave it. Having two....? Is it that the order the source objects are defined determine their "diameter"? The typical example is the sky and sun combination, both of type source. Usually I have the gensky-output first including the sun disk, and the hemispheres for sky and ground after that (and added by hand). Does this mean that, because of their order in the scene description, the sun source is "inside" the sky source? And does it make a difference whether the source objects are modified by light or by glow? So if I could handle the sun as glow, would it still "override" the sky background because of the order of its definition?
> 
> Sorry for not finding this out myself now in the source code, maybe someone can shed some light on this?
> 
> Cheers, Lars.

From RFritz at lbl.gov  Mon Aug 23 16:38:12 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Mon Aug 23 16:38:22 2010
Subject: [Radiance-general] Simulating Real Skies
Message-ID: <i4v0p4$ud0$1@dough.gmane.org>

Anyone know of work done on generating physically realistic HDR images 
of real skies?
-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs



From inanici at u.washington.edu  Mon Aug 23 18:42:46 2010
From: inanici at u.washington.edu (Mehlika Inanici)
Date: Mon Aug 23 18:43:56 2010
Subject: [Radiance-general] Simulating Real Skies
In-Reply-To: <i4v0p4$ud0$1@dough.gmane.org>
Message-ID: <alpine.LRH.2.01.1008231842460.5409@hymn31.u.washington.edu>



Hi Randolph,

I have been recording HDR sky images in Seattle in the past 2 years... A publicaton about the procedures and their evaluation is in review.

Mehlika

On Mon, 23 Aug 2010, Randolph M. Fritz wrote:

> Anyone know of work done on generating physically realistic HDR images of 
> real skies?
> -- 
> Randolph M. Fritz ? RFritz@lbl.gov
> Environmental Energy Technologies Division ? Lawrence Berkeley Labs
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
From gregoryjward at gmail.com  Mon Aug 23 21:17:12 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Aug 23 21:17:16 2010
Subject: [Radiance-general] Simulating Real Skies
In-Reply-To: <alpine.LRH.2.01.1008231842460.5409@hymn31.u.washington.edu>
References: <alpine.LRH.2.01.1008231842460.5409@hymn31.u.washington.edu>
Message-ID: <57B3AF6A-BB02-468F-B352-F3F6BB611C88@lmi.net>

Hi Randolph,

Here is a useful sky modeling reference:

	http://gl.ict.usc.edu/skyprobes/

And for night skies:

	http://portal.acm.org/citation.cfm?id=383259.383306

Cheers,
-Greg



> From: Mehlika Inanici <inanici@u.washington.edu>
> Date: August 23, 2010 6:42:46 PM PDT
> 
> 
> Hi Randolph,
> 
> I have been recording HDR sky images in Seattle in the past 2 years... A publicaton about the procedures and their evaluation is in review.
> 
> Mehlika
> 
> On Mon, 23 Aug 2010, Randolph M. Fritz wrote:
> 
>> Anyone know of work done on generating physically realistic HDR images of real skies?
>> -- 
>> Randolph M. Fritz ? RFritz@lbl.gov
>> Environmental Energy Technologies Division ? Lawrence Berkeley Labs
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From grobe at gmx.net  Tue Aug 24 01:24:26 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Aug 24 01:24:27 2010
Subject: [Radiance-general] Simulating Real Skies
In-Reply-To: <i4v0p4$ud0$1@dough.gmane.org>
References: <i4v0p4$ud0$1@dough.gmane.org>
Message-ID: <84BDB98C-59F2-451C-974F-8ADEA2996530@gmx.net>

Hi,

There are lots of references. In my opinion, the first question you will have to answer yourself is whether you need to capture sunny skies. This is not possible without some modifications of the hardware, e.g. filters. Skies without sun can be captured with consumer-grade cameras if you have useful equipment and do some calibration.

Cheers, Lars.

--
Dipl.-Ing. Architect Lars O. Grobe

On Aug 24, 2010, at 1:38, "Randolph M. Fritz" <RFritz@lbl.gov> wrote:

> Anyone know of work done on generating physically realistic HDR images of real skies?
> -- 
> Randolph M. Fritz ? RFritz@lbl.gov
> Environmental Energy Technologies Division ? Lawrence Berkeley Labs
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From RFritz at lbl.gov  Tue Aug 24 09:03:49 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Tue Aug 24 09:04:00 2010
Subject: [Radiance-general] Re: Simulating Real Skies
References: <i4v0p4$ud0$1@dough.gmane.org>
	<57B3AF6A-BB02-468F-B352-F3F6BB611C88@lmi.net>
Message-ID: <i50qh5$iv2$1@dough.gmane.org>

Thank you. The night sky model is exceptionally cool.

On 2010-08-23 21:17:12 -0700, Greg Ward said:

> Hi Randolph,
> 
> Here is a useful sky modeling reference:
> 
> 	http://gl.ict.usc.edu/skyprobes/
> 
> And for night skies:
> 
> 	http://portal.acm.org/citation.cfm?id=383259.383306
> 
> Cheers,
> -Greg
> 
> 
> 
>> From: Mehlika Inanici <inanici@u.washington.edu>
>> Date: August 23, 2010 6:42:46 PM PDT
>> 
>> 
>> Hi Randolph,
>> 
>> I have been recording HDR sky images in Seattle in the past 2 years...A 
>> publicaton about the procedures and their evaluation is in review.
>> 
>> Mehlika
>> 
>> On Mon, 23 Aug 2010, Randolph M. Fritz wrote:
>> 
>>> Anyone know of work done on generating physically realistic HDRimages 
>>> of real skies?
>>> --
>>> Randolph M. Fritz ? RFritz@lbl.gov
>>> Environmental Energy Technologies Division ? Lawrence Berkeley Labs
>> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs



From mstock at umich.edu  Tue Aug 24 10:18:50 2010
From: mstock at umich.edu (Mark Stock)
Date: Tue Aug 24 10:18:44 2010
Subject: [Radiance-general] Re: Simulating Real Skies
In-Reply-To: <i50qh5$iv2$1@dough.gmane.org>
References: <i4v0p4$ud0$1@dough.gmane.org>
	<57B3AF6A-BB02-468F-B352-F3F6BB611C88@lmi.net>
	<i50qh5$iv2$1@dough.gmane.org>
Message-ID: <Pine.LNX.4.64.1008241307550.16976@punchout.gpcc.itd.umich.edu>

I don't know if this is directly useful, but I implemented some 
of the Preetham, Shirley, Smits model for sky color and radiance 
as a .cal file and gensky replacement. In addition (using the 
libnova library) the sun, moon, bright planets, and starfield can 
be placed properly (though the brightness of the starfield isn't 
yet perfectly accurate).

See the 2nd entry down on:
http://markjstock.org/radiance/

Mark

On Tue, 24 Aug 2010, Randolph M. Fritz wrote:

> Thank you. The night sky model is exceptionally cool.
>
> On 2010-08-23 21:17:12 -0700, Greg Ward said:
>
>> Hi Randolph,
>> 
>> Here is a useful sky modeling reference:
>>
>> 	http://gl.ict.usc.edu/skyprobes/
>> 
>> And for night skies:
>>
>> 	http://portal.acm.org/citation.cfm?id=383259.383306
>> 
>> Cheers,
>> -Greg
>> 
>> 
>> 
>>> From: Mehlika Inanici <inanici@u.washington.edu>
>>> Date: August 23, 2010 6:42:46 PM PDT
>>> 
>>> 
>>> Hi Randolph,
>>> 
>>> I have been recording HDR sky images in Seattle in the past 2 years...A 
>>> publicaton about the procedures and their evaluation is in review.
>>> 
>>> Mehlika
>>> 
>>> On Mon, 23 Aug 2010, Randolph M. Fritz wrote:
>>> 
>>>> Anyone know of work done on generating physically realistic HDRimages of 
>>>> real skies?
>>>> --
>>>> Randolph M. Fritz ? RFritz@lbl.gov
>>>> Environmental Energy Technologies Division ? Lawrence Berkeley Labs
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> -- 
> Randolph M. Fritz ? RFritz@lbl.gov
> Environmental Energy Technologies Division ? Lawrence Berkeley Labs
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
From RFritz at lbl.gov  Tue Aug 24 11:29:30 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Tue Aug 24 11:29:39 2010
Subject: [Radiance-general] Re: Simulating Real Skies
References: <i4v0p4$ud0$1@dough.gmane.org>
	<84BDB98C-59F2-451C-974F-8ADEA2996530@gmx.net>
Message-ID: <i51329$ose$1@dough.gmane.org>

On 2010-08-24 01:24:26 -0700, Lars O. Grobe said:

> There are lots of references. In my opinion, the first question you 
> will have to answer yourself is whether you need to capture sunny 
> skies. This is not possible without some modifications of the hardware, 
> e.g. filters. Skies without sun can be captured with consumer-grade 
> cameras if you have useful equipment and do some calibration.

thanks.

I was thinking about a generator program, rather than capturing HDR 
images, but it seems that no-one has heard of one, and it sounds like 
there's a really interesting research project in developing one and 
validating it.

We might be dangerous, if we had the funding...

-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs





From grobe at gmx.net  Tue Aug 24 11:57:25 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Aug 24 11:57:23 2010
Subject: [Radiance-general] Re: Simulating Real Skies
In-Reply-To: <i51329$ose$1@dough.gmane.org>
References: <i4v0p4$ud0$1@dough.gmane.org>	<84BDB98C-59F2-451C-974F-8ADEA2996530@gmx.net>
	<i51329$ose$1@dough.gmane.org>
Message-ID: <4C741615.4070106@gmx.net>

Hi Randolph!

> I was thinking about a generator program, rather than capturing HDR
> images, but it seems that no-one has heard of one, and it sounds like
> there's a really interesting research project in developing one and
> validating it.

Ok, complete misunderstanding from my side. Hm, of course we have the 
choice between various sky models and related generators, Mark's work 
being the latest addition. What is it that you are missing? Cloud 
patterns? Spectral distribution? Or the uber-gensky creating a 
distribution from a simulation of athmosphere, sources etc itself so 
that we could finally do light simulations on Mars' trabants?

> We might be dangerous, if we had the funding...

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100824/7e8ed17d/smime-0001.bin
From carlosochoam at yahoo.com  Fri Aug 27 02:11:32 2010
From: carlosochoam at yahoo.com (Carlos Ochoa)
Date: Fri Aug 27 02:11:30 2010
Subject: [Radiance-general] update on Daysim?
Message-ID: <258938.65969.qm@web36503.mail.mud.yahoo.com>

Hi,

I would like to know, is there a date for the?final release of Daysim V3.0?

Thanks,

Carlos


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100827/e0714416/attachment.html
From reinhart at gsd.harvard.edu  Mon Aug 30 07:18:57 2010
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Mon Aug 30 07:19:51 2010
Subject: [Radiance-general] update on Daysim?
In-Reply-To: <258938.65969.qm@web36503.mail.mud.yahoo.com>
References: <258938.65969.qm@web36503.mail.mud.yahoo.com>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF07A1AFBF@ENTWEXMB0000000.university.harvard.edu>

Dear Carlos,

 

I am still waiting for a new program called gen_DGP_profile that will
generate annual daylight glare probability profiles based on Radiance
scene views that are to be stored in the View Point File. Jan Wienold
has developed the program and is currently testing it. Once available,
we will officially release Daysim 3.0.

 

Christoph

 

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Carlos Ochoa
Sent: Friday, August 27, 2010 5:12 AM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] update on Daysim?

 

Hi,

 

I would like to know, is there a date for the final release of Daysim
V3.0?

 

Thanks,

 

Carlos

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100830/303e1dd6/attachment.htm
From hujia06 at gmail.com  Mon Aug 30 18:11:21 2010
From: hujia06 at gmail.com (Jia Hu)
Date: Mon Aug 30 18:11:15 2010
Subject: [Radiance-general] Reduce rtrace runtime
Message-ID: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>

Hello experts:

I hope to calculate illuminance at 4 points in a office under four 100 sky
conditions (each condition will generate four illuminance values). I run
rtrace in a  computer with 4 processors and use: rtrace -w -h -I -ab 7 -n 4
-af cachingFile.ca -ad 2048 -as 512 -aa 0.10 office.oct < points.inp | rcalc
-e '$1=47.4*$1+ 120*$2+11.6*$3'>> output.out.

I tried to run it but it took long time. My question is that whether there
are ways of improving the rtrace command to reduce the runtime?

Cheers,
Jia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100830/87e2e333/attachment.html
From gregoryjward at gmail.com  Mon Aug 30 18:55:29 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Aug 30 18:55:24 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
Message-ID: <9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>

Computing seven bounces (-ab 7) is very expensive, even for a small number of points.  You end up filling the indirect irradiance cache, which takes some time even on 4 processors.  I would recommend either reducing the number of bounces, or taking advantage of a path tracing approach like so:

	rtrace -w -h -I -ab 7 -n 4  -ad 2048 -as 0 -aa 0 -lw 1e-5 -lr -10 -u+ office.oct < points.inp

Setting -aa 0 and -lw 1e-4 limits the number of paths to roughly 100,000 per point, which should run pretty quickly while maintaining accuracy.

Best,
-Greg


> From: Jia Hu <hujia06@gmail.com>
> Date: August 30, 2010 6:11:21 PM PDT
> 
> Hello experts:
>  
> I hope to calculate illuminance at 4 points in a office under four 100 sky conditions (each condition will generate four illuminance values). I run rtrace in a  computer with 4 processors and use: rtrace -w -h -I -ab 7 -n 4  -af cachingFile.ca -ad 2048 -as 512 -aa 0.10 office.oct < points.inp | rcalc -e '$1=47.4*$1+ 120*$2+11.6*$3'>> output.out.  
>  
> I tried to run it but it took long time. My question is that whether there are ways of improving the rtrace command to reduce the runtime?
>  
> Cheers,
> Jia

From hujia06 at gmail.com  Mon Aug 30 19:36:34 2010
From: hujia06 at gmail.com (Jia Hu)
Date: Mon Aug 30 19:36:28 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
Message-ID: <AANLkTim29UGnWdiAZZ_B9atdMabd+qRdGHYsf1aZ+Kmd@mail.gmail.com>

Hello Greg:

Because there are blinds in the office and the rays are only from the
outside sky (no light source in the office), is your approach still accurate
enough in this case? I am not familiar with this approach. Does your book,
Rendering with Radiance, have some introductions to such options as "lr"
"lw". I checked the last several chapters and did not find "lr" and "lw".
Thanks,
Jia
On Mon, Aug 30, 2010 at 9:55 PM, Greg Ward <gregoryjward@gmail.com> wrote:

> Computing seven bounces (-ab 7) is very expensive, even for a small number
> of points.  You end up filling the indirect irradiance cache, which takes
> some time even on 4 processors.  I would recommend either reducing the
> number of bounces, or taking advantage of a path tracing approach like so:
>
>        rtrace -w -h -I -ab 7 -n 4  -ad 2048 -as 0 -aa 0 -lw 1e-5 -lr -10
> -u+ office.oct < points.inp
>
> Setting -aa 0 and -lw 1e-4 limits the number of paths to roughly 100,000
> per point, which should run pretty quickly while maintaining accuracy.
>
> Best,
> -Greg
>
>
> > From: Jia Hu <hujia06@gmail.com>
> > Date: August 30, 2010 6:11:21 PM PDT
>  >
> > Hello experts:
> >
> > I hope to calculate illuminance at 4 points in a office under four 100
> sky conditions (each condition will generate four illuminance values). I run
> rtrace in a  computer with 4 processors and use: rtrace -w -h -I -ab 7 -n 4
>  -af cachingFile.ca -ad 2048 -as 512 -aa 0.10 office.oct < points.inp |
> rcalc -e '$1=47.4*$1+ 120*$2+11.6*$3'>> output.out.
> >
> > I tried to run it but it took long time. My question is that whether
> there are ways of improving the rtrace command to reduce the runtime?
> >
> > Cheers,
> > Jia
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100830/354ea476/attachment.htm
From gregoryjward at gmail.com  Mon Aug 30 20:34:16 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Aug 30 20:34:12 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <AANLkTim29UGnWdiAZZ_B9atdMabd+qRdGHYsf1aZ+Kmd@mail.gmail.com>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
	<AANLkTim29UGnWdiAZZ_B9atdMabd+qRdGHYsf1aZ+Kmd@mail.gmail.com>
Message-ID: <8CE948FD-D9A9-4F1E-9A06-28B43B4BA62B@lmi.net>

The options I am recommending are more recent than RwR, which was current as of 1998.  Path tracing is faster for computing just a few points like this, especially in the presence of venetian blinds.  The negative value for the -lr option is discussed in my presentation from the 2005 Radiance workshop, I discussed these options as they were added to release 3.7:

	http://www.radiance-online.org/radiance-workshop4/cd/website/PDF/Ward_talk1.pdf

Best,
-Greg

> From: Jia Hu <hujia06@gmail.com>
> Date: August 30, 2010 7:36:34 PM PDT
> 
> Hello Greg:
>  
> Because there are blinds in the office and the rays are only from the outside sky (no light source in the office), is your approach still accurate enough in this case? I am not familiar with this approach. Does your book, Rendering with Radiance, have some introductions to such options as "lr" "lw". I checked the last several chapters and did not find "lr" and "lw".
> Thanks,
> Jia
> On Mon, Aug 30, 2010 at 9:55 PM, Greg Ward <gregoryjward@gmail.com> wrote:
> Computing seven bounces (-ab 7) is very expensive, even for a small number of points.  You end up filling the indirect irradiance cache, which takes some time even on 4 processors.  I would recommend either reducing the number of bounces, or taking advantage of a path tracing approach like so:
> 
>        rtrace -w -h -I -ab 7 -n 4  -ad 2048 -as 0 -aa 0 -lw 1e-5 -lr -10 -u+ office.oct < points.inp
> 
> Setting -aa 0 and -lw 1e-4 limits the number of paths to roughly 100,000 per point, which should run pretty quickly while maintaining accuracy.
> 
> Best,
> -Greg
> 
> 

From hujia06 at gmail.com  Mon Aug 30 20:36:29 2010
From: hujia06 at gmail.com (Jia Hu)
Date: Mon Aug 30 20:36:24 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <8CE948FD-D9A9-4F1E-9A06-28B43B4BA62B@lmi.net>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
	<AANLkTim29UGnWdiAZZ_B9atdMabd+qRdGHYsf1aZ+Kmd@mail.gmail.com>
	<8CE948FD-D9A9-4F1E-9A06-28B43B4BA62B@lmi.net>
Message-ID: <AANLkTimr=0_ReS5FkvOrrO9vDHRXSKZDJNEjsKaSX9qh@mail.gmail.com>

Thank you. I really appreciate your help.

Jia

On Mon, Aug 30, 2010 at 11:34 PM, Greg Ward <gregoryjward@gmail.com> wrote:

> The options I am recommending are more recent than RwR, which was current
> as of 1998.  Path tracing is faster for computing just a few points like
> this, especially in the presence of venetian blinds.  The negative value for
> the -lr option is discussed in my presentation from the 2005 Radiance
> workshop, I discussed these options as they were added to release 3.7:
>
>
> http://www.radiance-online.org/radiance-workshop4/cd/website/PDF/Ward_talk1.pdf
>
> Best,
> -Greg
>
> > From: Jia Hu <hujia06@gmail.com>
> > Date: August 30, 2010 7:36:34 PM PDT
> >
> > Hello Greg:
> >
> > Because there are blinds in the office and the rays are only from the
> outside sky (no light source in the office), is your approach still accurate
> enough in this case? I am not familiar with this approach. Does your book,
> Rendering with Radiance, have some introductions to such options as "lr"
> "lw". I checked the last several chapters and did not find "lr" and "lw".
> > Thanks,
> > Jia
> > On Mon, Aug 30, 2010 at 9:55 PM, Greg Ward <gregoryjward@gmail.com>
> wrote:
> > Computing seven bounces (-ab 7) is very expensive, even for a small
> number of points.  You end up filling the indirect irradiance cache, which
> takes some time even on 4 processors.  I would recommend either reducing the
> number of bounces, or taking advantage of a path tracing approach like so:
> >
> >        rtrace -w -h -I -ab 7 -n 4  -ad 2048 -as 0 -aa 0 -lw 1e-5 -lr -10
> -u+ office.oct < points.inp
> >
> > Setting -aa 0 and -lw 1e-4 limits the number of paths to roughly 100,000
> per point, which should run pretty quickly while maintaining accuracy.
> >
> > Best,
> > -Greg
> >
> >
>
>  _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100830/21eeb056/attachment.html
From hujia06 at gmail.com  Mon Aug 30 22:42:45 2010
From: hujia06 at gmail.com (Jia Hu)
Date: Mon Aug 30 22:42:39 2010
Subject: [Radiance-general] ab and lr
Message-ID: <AANLkTimKzJ4z2bV_suMAryVbp+sMUPE5eiLfoQt0w-Z5@mail.gmail.com>

Hello:

Radiance works by calculating three parts, direct, specular and indirect.
ab determines the number of ambient bounces (indirect part). But ab has a
similar meaning with "lr". What is the difference between them?  Is that
right lr (positive) should be larger than ab?

As always, thank you,
Jia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100831/853df2ee/attachment.htm
From carlosochoam at yahoo.com  Tue Aug 31 03:08:44 2010
From: carlosochoam at yahoo.com (Carlos Ochoa)
Date: Tue Aug 31 03:08:40 2010
Subject: [Radiance-general] update on Daysim?
Message-ID: <46591.88613.qm@web36506.mail.mud.yahoo.com>

Thanks Christoph!

Looking forward to it.

Carlos


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100831/a5266bee/attachment.html
From hujia06 at gmail.com  Tue Aug 31 07:01:25 2010
From: hujia06 at gmail.com (Jia Hu)
Date: Tue Aug 31 07:16:45 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
Message-ID: <AANLkTimFWvStyBFNoXNR3BUVkQCKcd+B5GQ7e625vin-@mail.gmail.com>

Hello Greg:

The speed is pretty fast. But I found there was a 10% difference sometimes
even if I use the following command (ab=8 and ad = 4096). Should I further
decrease lw to reduce the variance between each run?

rtrace -w -h -I -ab 8 -n 4  -ad 4096 -as 0 -aa 0 -lw 1e-5 -lr -10 -u+
office.oct < points.inp

Thanks,
Jia

On Mon, Aug 30, 2010 at 9:55 PM, Greg Ward <gregoryjward@gmail.com> wrote:

> Computing seven bounces (-ab 7) is very expensive, even for a small number
> of points.  You end up filling the indirect irradiance cache, which takes
> some time even on 4 processors.  I would recommend either reducing the
> number of bounces, or taking advantage of a path tracing approach like so:
>
>        rtrace -w -h -I -ab 7 -n 4  -ad 2048 -as 0 -aa 0 -lw 1e-5 -lr -10
> -u+ office.oct < points.inp
>
> Setting -aa 0 and -lw 1e-4 limits the number of paths to roughly 100,000
> per point, which should run pretty quickly while maintaining accuracy.
>
> Best,
> -Greg
>
>
> > From: Jia Hu <hujia06@gmail.com>
> > Date: August 30, 2010 6:11:21 PM PDT
>  >
> > Hello experts:
> >
> > I hope to calculate illuminance at 4 points in a office under four 100
> sky conditions (each condition will generate four illuminance values). I run
> rtrace in a  computer with 4 processors and use: rtrace -w -h -I -ab 7 -n 4
>  -af cachingFile.ca -ad 2048 -as 512 -aa 0.10 office.oct < points.inp |
> rcalc -e '$1=47.4*$1+ 120*$2+11.6*$3'>> output.out.
> >
> > I tried to run it but it took long time. My question is that whether
> there are ways of improving the rtrace command to reduce the runtime?
> >
> > Cheers,
> > Jia
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100831/9ecfd84f/attachment.htm
From gregoryjward at gmail.com  Tue Aug 31 08:28:14 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Aug 31 08:28:11 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <AANLkTimFWvStyBFNoXNR3BUVkQCKcd+B5GQ7e625vin-@mail.gmail.com>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
	<AANLkTimFWvStyBFNoXNR3BUVkQCKcd+B5GQ7e625vin-@mail.gmail.com>
Message-ID: <9C041DFB-CA49-4841-9392-9C8A93AC619C@lmi.net>

You don't say which way the differences go.  Are they consistently higher or lower?  If higher, then you may be getting a more accurate result from the path tracing method due to Russian-roulette termination.  If the path tracing results are lower, then you may need to decrease the -aw value further.

To answer your earlier quesiton, the -lr setting should be greater (in absolute value) than the -ab setting.  They are similar.  The reason a separate -ab setting is provided is because indirect irradiance is much more expensive to compute than other types of reflection, such as specular rays that do not create multiple branches in the ray tree.

Best,
-Greg

> From: Jia Hu <hujia06@gmail.com>
> Date: August 31, 2010 7:01:25 AM PDT
> 
> Hello Greg:
>  
> The speed is pretty fast. But I found there was a 10% difference sometimes even if I use the following command (ab=8 and ad = 4096). Should I further decrease lw to reduce the variance between each run?
>  
> rtrace -w -h -I -ab 8 -n 4  -ad 4096 -as 0 -aa 0 -lw 1e-5 -lr -10 -u+ office.oct < points.inp 
>  
> Thanks,
> Jia

---------
> From: Jia Hu <hujia06@gmail.com>
> Date: August 30, 2010 10:42:45 PM PDT
> 
> Hello:
>  
> Radiance works by calculating three parts, direct, specular and indirect. ab determines the number of ambient bounces (indirect part). But ab has a similar meaning with "lr". What is the difference between them?  Is that right lr (positive) should be larger than ab?
>  
> As always, thank you,
> Jia

From hujia06 at gmail.com  Tue Aug 31 08:47:50 2010
From: hujia06 at gmail.com (Jia Hu)
Date: Tue Aug 31 08:47:45 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <9C041DFB-CA49-4841-9392-9C8A93AC619C@lmi.net>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
	<AANLkTimFWvStyBFNoXNR3BUVkQCKcd+B5GQ7e625vin-@mail.gmail.com>
	<9C041DFB-CA49-4841-9392-9C8A93AC619C@lmi.net>
Message-ID: <AANLkTimQijuSvcShbDPV0ctkOqAd2T-AyVTjZb3eja8B@mail.gmail.com>

Hello Greg:

For example, for the sky same conditions, I run twice and the results are as
follows (each means illuminance of a point). The sky luminance distribution
is generated by the gendaylit program.

MM:1-DD:2-Hour:9-Angle:0
802.381766
614.023063
395.616407
319.185386
MM:1-DD:2-Hour:9-Angle:0
907.889248 (larger than 802)
614.848339
393.397623
294.201388 (smaller than 319)

Cheers,
Jia



On Tue, Aug 31, 2010 at 11:28 AM, Greg Ward <gregoryjward@gmail.com> wrote:

> You don't say which way the differences go.  Are they consistently higher
> or lower?  If higher, then you may be getting a more accurate result from
> the path tracing method due to Russian-roulette termination.  If the path
> tracing results are lower, then you may need to decrease the -aw value
> further.
>
> To answer your earlier quesiton, the -lr setting should be greater (in
> absolute value) than the -ab setting.  They are similar.  The reason a
> separate -ab setting is provided is because indirect irradiance is much more
> expensive to compute than other types of reflection, such as specular rays
> that do not create multiple branches in the ray tree.
>
> Best,
> -Greg
>
> > From: Jia Hu <hujia06@gmail.com>
> > Date: August 31, 2010 7:01:25 AM PDT
> >
> > Hello Greg:
> >
> > The speed is pretty fast. But I found there was a 10% difference
> sometimes even if I use the following command (ab=8 and ad = 4096). Should I
> further decrease lw to reduce the variance between each run?
> >
> > rtrace -w -h -I -ab 8 -n 4  -ad 4096 -as 0 -aa 0 -lw 1e-5 -lr -10 -u+
> office.oct < points.inp
> >
> > Thanks,
> > Jia
>
> ---------
> > From: Jia Hu <hujia06@gmail.com>
> > Date: August 30, 2010 10:42:45 PM PDT
> >
> > Hello:
> >
> > Radiance works by calculating three parts, direct, specular and indirect.
> ab determines the number of ambient bounces (indirect part). But ab has a
> similar meaning with "lr". What is the difference between them?  Is that
> right lr (positive) should be larger than ab?
> >
> > As always, thank you,
>  > Jia
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100831/fa0f4596/attachment.html
From gregoryjward at gmail.com  Tue Aug 31 09:11:38 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Aug 31 09:11:32 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <AANLkTimQijuSvcShbDPV0ctkOqAd2T-AyVTjZb3eja8B@mail.gmail.com>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
	<AANLkTimFWvStyBFNoXNR3BUVkQCKcd+B5GQ7e625vin-@mail.gmail.com>
	<9C041DFB-CA49-4841-9392-9C8A93AC619C@lmi.net>
	<AANLkTimQijuSvcShbDPV0ctkOqAd2T-AyVTjZb3eja8B@mail.gmail.com>
Message-ID: <234EC553-7D12-4888-A8BF-A7754DAFB2DF@lmi.net>

OK, you are talking about run-to-run consistency.  We need to be clear on these things.

Try decreasing the -lw setting as I recommended to see how this affects run-to-run differences.  There will always be some random variation, especially using the -u+ setting, but on average these should decrease with increasing calculation times.

Best,
-Greg

> From: Jia Hu <hujia06@gmail.com>
> Date: August 31, 2010 8:47:50 AM PDT
> 
> Hello Greg:
>  
> For example, for the sky same conditions, I run twice and the results are as follows (each means illuminance of a point). The sky luminance distribution is generated by the gendaylit program.
>  
> MM:1-DD:2-Hour:9-Angle:0 
> 802.381766
> 614.023063
> 395.616407
> 319.185386
> MM:1-DD:2-Hour:9-Angle:0 
> 907.889248 (larger than 802)
> 614.848339
> 393.397623
> 294.201388 (smaller than 319)
>  
> Cheers,
> Jia

From hujia06 at gmail.com  Tue Aug 31 10:39:08 2010
From: hujia06 at gmail.com (Jia Hu)
Date: Tue Aug 31 10:39:02 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <234EC553-7D12-4888-A8BF-A7754DAFB2DF@lmi.net>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
	<AANLkTimFWvStyBFNoXNR3BUVkQCKcd+B5GQ7e625vin-@mail.gmail.com>
	<9C041DFB-CA49-4841-9392-9C8A93AC619C@lmi.net>
	<AANLkTimQijuSvcShbDPV0ctkOqAd2T-AyVTjZb3eja8B@mail.gmail.com>
	<234EC553-7D12-4888-A8BF-A7754DAFB2DF@lmi.net>
Message-ID: <AANLkTikhbDYqg-8uJMb=5u1aG+ed-ubYtmC_-23xpidj@mail.gmail.com>

Hello:

I report the progress. I decrease -lw to 1e-6 and -lr to -12. The results
seem consistent enough. If I only change lr to -15 or only -lw to 1e-6, the
consistence still exists. So, should I change both?

Thanks,

Jia

On Tue, Aug 31, 2010 at 12:11 PM, Greg Ward <gregoryjward@gmail.com> wrote:

> OK, you are talking about run-to-run consistency.  We need to be clear on
> these things.
>
> Try decreasing the -lw setting as I recommended to see how this affects
> run-to-run differences.  There will always be some random variation,
> especially using the -u+ setting, but on average these should decrease with
> increasing calculation times.
>
> Best,
> -Greg
>
> > From: Jia Hu <hujia06@gmail.com>
> > Date: August 31, 2010 8:47:50 AM PDT
> >
> > Hello Greg:
> >
> > For example, for the sky same conditions, I run twice and the results are
> as follows (each means illuminance of a point). The sky luminance
> distribution is generated by the gendaylit program.
> >
> > MM:1-DD:2-Hour:9-Angle:0
> > 802.381766
> > 614.023063
> > 395.616407
> > 319.185386
> > MM:1-DD:2-Hour:9-Angle:0
> > 907.889248 (larger than 802)
> > 614.848339
> > 393.397623
> > 294.201388 (smaller than 319)
> >
> > Cheers,
> > Jia
>
>  _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100831/8d349cd0/attachment.htm
From gregoryjward at gmail.com  Tue Aug 31 10:50:38 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Aug 31 10:50:35 2010
Subject: [Radiance-general] Reduce rtrace runtime
In-Reply-To: <AANLkTikhbDYqg-8uJMb=5u1aG+ed-ubYtmC_-23xpidj@mail.gmail.com>
References: <AANLkTikz6bGAFyeaYQ6KM2568H-7tG2ekFugZPk+fXFo@mail.gmail.com>
	<9ABD0CB5-5AE0-4F76-96CA-FD9E50D55878@lmi.net>
	<AANLkTimFWvStyBFNoXNR3BUVkQCKcd+B5GQ7e625vin-@mail.gmail.com>
	<9C041DFB-CA49-4841-9392-9C8A93AC619C@lmi.net>
	<AANLkTimQijuSvcShbDPV0ctkOqAd2T-AyVTjZb3eja8B@mail.gmail.com>
	<234EC553-7D12-4888-A8BF-A7754DAFB2DF@lmi.net>
	<AANLkTikhbDYqg-8uJMb=5u1aG+ed-ubYtmC_-23xpidj@mail.gmail.com>
Message-ID: <E67F62F7-60A4-4DD6-B8E7-263904229B3A@lmi.net>

Hi Jia,

You are now experimenting beyond my own experience, so try both and see if it increases your calculation time.  I don't think -lr should affect how long it takes, so there's little harm in increasing its magnitude.

Best,
-Greg

> From: Jia Hu <hujia06@gmail.com>
> Date: August 31, 2010 10:39:08 AM PDT
> 
> Hello:
>  
> I report the progress. I decrease -lw to 1e-6 and -lr to -12. The results seem consistent enough. If I only change lr to -15 or only -lw to 1e-6, the consistence still exists. So, should I change both?  
>  
> Thanks,
>  
> Jia 
> 
> On Tue, Aug 31, 2010 at 12:11 PM, Greg Ward <gregoryjward@gmail.com> wrote:
> OK, you are talking about run-to-run consistency.  We need to be clear on these things.
> 
> Try decreasing the -lw setting as I recommended to see how this affects run-to-run differences.  There will always be some random variation, especially using the -u+ setting, but on average these should decrease with increasing calculation times.
> 
> Best,
> -Greg

From Robert.Guglielmetti at nrel.gov  Tue Aug 31 13:59:44 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue Aug 31 13:59:37 2010
Subject: [Radiance-general] Rtcontrib question
Message-ID: <C8A2C960.5D27%robert.guglielmetti@nrel.gov>

Soooo, my previous question has been answered. You may recall I was asking
why my Ruby script was not parsing the rtcontrib command to write out the
146 tregenza patch images. All the variables were being passed and expanded
out correctly. Problem was the view file I was handing it was bogus, and
*this* error message does not make it back to the STDERR. Lesson learned.

That resolved, I am testing further, and am finding that for a given
rtcontrib run, I don't always get 146 image files. Some views yield 142,
some 144. Any ideas on that?


From amcneil at lbl.gov  Tue Aug 31 15:19:36 2010
From: amcneil at lbl.gov (Andy McNeil)
Date: Tue Aug 31 15:19:31 2010
Subject: [Radiance-general] Rtcontrib question
In-Reply-To: <C8A2C960.5D27%robert.guglielmetti@nrel.gov>
References: <C8A2C960.5D27%robert.guglielmetti@nrel.gov>
Message-ID: <BAA2459C-2C62-4DBF-960D-328F5F0C2303@lbl.gov>

Hi Rob,

Glad you found the error in your script.

rtcontrib outputs an image or value for each bin starting at 0 up to the last bin that has a value.   So it could be that a the last few bins don't contribute to your scene so no image is created.  You can force rtcontrib to write all images/values using the -bn option.  Try setting -bn 146  if you're using tregenza.cal or -bn Nrbins if you're using reinhart.cal

Also, for the next step you may want the new (since July 1) version  of dctimestep.  It allows you to combine daylight coefficient images like so:

gendaylit [options]    |  genskyvec -m 1   |   dctimestep myimage_%03d.hdr > output.hdr

where the "myimage" bit matches the -o output specification used in rtcontrib.

Best,
Andy


On Aug 31, 2010, at 1:59 PM, Guglielmetti, Robert wrote:

> Soooo, my previous question has been answered. You may recall I was asking
> why my Ruby script was not parsing the rtcontrib command to write out the
> 146 tregenza patch images. All the variables were being passed and expanded
> out correctly. Problem was the view file I was handing it was bogus, and
> *this* error message does not make it back to the STDERR. Lesson learned.
> 
> That resolved, I am testing further, and am finding that for a given
> rtcontrib run, I don't always get 146 image files. Some views yield 142,
> some 144. Any ideas on that?
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From Robert.Guglielmetti at nrel.gov  Tue Aug 31 15:28:49 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue Aug 31 15:28:45 2010
Subject: [Radiance-general] Rtcontrib question
In-Reply-To: <BAA2459C-2C62-4DBF-960D-328F5F0C2303@lbl.gov>
Message-ID: <C8A2DE41.5D39%robert.guglielmetti@nrel.gov>

Hi Andy,

Yeah, for some reason, that "no view in file" error was never making it to
the command line when called from within a script.

Thanks very much for these tips! I initially thought that it was that there
no values found so no images were created for certain patches, but there are
definitely some "black" images being created, so I ruled that out. Good to
know about the -bn option. Thank you.

This new option to dctimestep is awesome!!! Definitely makes quick work of
what I'm currently trying to do in bash and it's giving me a headache. I'll
check it out now. Thanks to you and Greg I assume?

=8-)

Did I say thank you?

- Rob

P.S. Thank you. A beer for you and a root beer for Greg.

On 8/31/10 4:19 PM, "Andy McNeil" <amcneil@lbl.gov> wrote:

> Hi Rob,
> 
> Glad you found the error in your script.
> 
> rtcontrib outputs an image or value for each bin starting at 0 up to the last
> bin that has a value.   So it could be that a the last few bins don't
> contribute to your scene so no image is created.  You can force rtcontrib to
> write all images/values using the -bn option.  Try setting -bn 146  if you're
> using tregenza.cal or -bn Nrbins if you're using reinhart.cal
> 
> Also, for the next step you may want the new (since July 1) version  of
> dctimestep.  It allows you to combine daylight coefficient images like so:
> 
> gendaylit [options]    |  genskyvec -m 1   |   dctimestep myimage_%03d.hdr >
> output.hdr
> 
> where the "myimage" bit matches the -o output specification used in rtcontrib.
> 
> Best,
> Andy
> 
> 
> On Aug 31, 2010, at 1:59 PM, Guglielmetti, Robert wrote:
> 
>> Soooo, my previous question has been answered. You may recall I was asking
>> why my Ruby script was not parsing the rtcontrib command to write out the
>> 146 tregenza patch images. All the variables were being passed and expanded
>> out correctly. Problem was the view file I was handing it was bogus, and
>> *this* error message does not make it back to the STDERR. Lesson learned.
>> 
>> That resolved, I am testing further, and am finding that for a given
>> rtcontrib run, I don't always get 146 image files. Some views yield 142,
>> some 144. Any ideas on that?
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From Robert.Guglielmetti at nrel.gov  Tue Aug 31 16:04:00 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue Aug 31 16:03:53 2010
Subject: [Radiance-general] Rtcontrib question
In-Reply-To: <BAA2459C-2C62-4DBF-960D-328F5F0C2303@lbl.gov>
Message-ID: <C8A2E680.5D40%robert.guglielmetti@nrel.gov>

Hmmm, grabbed the HEAD release, compiled, and tried:

gensky 03 21 12 +s -a 40 -o 115 -m 115 | genskyvec -m 1 | dctimestep
./filename%03d.hdr > combined.hdr

But it just prints the usage/help line and produces a zero byte image. The
files exist, and there are noe 146 of them (-bn 146). Not sure what's wrong.
?

- Rob

On 8/31/10 4:19 PM, "Andy McNeil" <amcneil@lbl.gov> wrote:

> Hi Rob,
> 
> Glad you found the error in your script.
> 
> rtcontrib outputs an image or value for each bin starting at 0 up to the last
> bin that has a value.   So it could be that a the last few bins don't
> contribute to your scene so no image is created.  You can force rtcontrib to
> write all images/values using the -bn option.  Try setting -bn 146  if you're
> using tregenza.cal or -bn Nrbins if you're using reinhart.cal
> 
> Also, for the next step you may want the new (since July 1) version  of
> dctimestep.  It allows you to combine daylight coefficient images like so:
> 
> gendaylit [options]    |  genskyvec -m 1   |   dctimestep myimage_%03d.hdr >
> output.hdr
> 
> where the "myimage" bit matches the -o output specification used in rtcontrib.
> 
> Best,
> Andy
> 
> 
> On Aug 31, 2010, at 1:59 PM, Guglielmetti, Robert wrote:
> 
>> Soooo, my previous question has been answered. You may recall I was asking
>> why my Ruby script was not parsing the rtcontrib command to write out the
>> 146 tregenza patch images. All the variables were being passed and expanded
>> out correctly. Problem was the view file I was handing it was bogus, and
>> *this* error message does not make it back to the STDERR. Lesson learned.
>> 
>> That resolved, I am testing further, and am finding that for a given
>> rtcontrib run, I don't always get 146 image files. Some views yield 142,
>> some 144. Any ideas on that?
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From amcneil at lbl.gov  Tue Aug 31 16:42:32 2010
From: amcneil at lbl.gov (Andy McNeil)
Date: Tue Aug 31 16:42:48 2010
Subject: [Radiance-general] Rtcontrib question
In-Reply-To: <C8A2E680.5D40%robert.guglielmetti@nrel.gov>
References: <C8A2E680.5D40%robert.guglielmetti@nrel.gov>
Message-ID: <3F0AEA8C-7601-46D2-B218-5E93E00264C2@lbl.gov>

Hi Rob,

does the usage say this:

Usage: dctimestep DCspec [tregvec]
   or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]

or just this:

Usage: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]

Could the problem be that dctimestep didn't get installed properly?

Andy


On Aug 31, 2010, at 4:04 PM, Guglielmetti, Robert wrote:

> Hmmm, grabbed the HEAD release, compiled, and tried:
> 
> gensky 03 21 12 +s -a 40 -o 115 -m 115 | genskyvec -m 1 | dctimestep
> ./filename%03d.hdr > combined.hdr
> 
> But it just prints the usage/help line and produces a zero byte image. The
> files exist, and there are noe 146 of them (-bn 146). Not sure what's wrong.
> ?
> 
> - Rob
> 
> On 8/31/10 4:19 PM, "Andy McNeil" <amcneil@lbl.gov> wrote:
> 
>> Hi Rob,
>> 
>> Glad you found the error in your script.
>> 
>> rtcontrib outputs an image or value for each bin starting at 0 up to the last
>> bin that has a value.   So it could be that a the last few bins don't
>> contribute to your scene so no image is created.  You can force rtcontrib to
>> write all images/values using the -bn option.  Try setting -bn 146  if you're
>> using tregenza.cal or -bn Nrbins if you're using reinhart.cal
>> 
>> Also, for the next step you may want the new (since July 1) version  of
>> dctimestep.  It allows you to combine daylight coefficient images like so:
>> 
>> gendaylit [options]    |  genskyvec -m 1   |   dctimestep myimage_%03d.hdr >
>> output.hdr
>> 
>> where the "myimage" bit matches the -o output specification used in rtcontrib.
>> 
>> Best,
>> Andy
>> 
>> 
>> On Aug 31, 2010, at 1:59 PM, Guglielmetti, Robert wrote:
>> 
>>> Soooo, my previous question has been answered. You may recall I was asking
>>> why my Ruby script was not parsing the rtcontrib command to write out the
>>> 146 tregenza patch images. All the variables were being passed and expanded
>>> out correctly. Problem was the view file I was handing it was bogus, and
>>> *this* error message does not make it back to the STDERR. Lesson learned.
>>> 
>>> That resolved, I am testing further, and am finding that for a given
>>> rtcontrib run, I don't always get 146 image files. Some views yield 142,
>>> some 144. Any ideas on that?
>>> 
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From Robert.Guglielmetti at nrel.gov  Tue Aug 31 19:03:03 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue Aug 31 19:03:02 2010
Subject: [Radiance-general] Rtcontrib question
In-Reply-To: <3F0AEA8C-7601-46D2-B218-5E93E00264C2@lbl.gov>
Message-ID: <C8A31078.2663%robert.guglielmetti@nrel.gov>

You guessed it Andy, I compiled the new code to the wrong directory, in my haste. Now it works. (!)  Big thanks.

- Rob


On 8/31/10 5:42 PM, "Andy McNeil" <amcneil@lbl.gov> wrote:

Hi Rob,

does the usage say this:

Usage: dctimestep DCspec [tregvec]
   or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]

or just this:

Usage: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]

Could the problem be that dctimestep didn't get installed properly?

Andy


On Aug 31, 2010, at 4:04 PM, Guglielmetti, Robert wrote:

> Hmmm, grabbed the HEAD release, compiled, and tried:
>
> gensky 03 21 12 +s -a 40 -o 115 -m 115 | genskyvec -m 1 | dctimestep
> ./filename%03d.hdr > combined.hdr
>
> But it just prints the usage/help line and produces a zero byte image. The
> files exist, and there are noe 146 of them (-bn 146). Not sure what's wrong.
> ?
>
> - Rob
>
> On 8/31/10 4:19 PM, "Andy McNeil" <amcneil@lbl.gov> wrote:
>
>> Hi Rob,
>>
>> Glad you found the error in your script.
>>
>> rtcontrib outputs an image or value for each bin starting at 0 up to the last
>> bin that has a value.   So it could be that a the last few bins don't
>> contribute to your scene so no image is created.  You can force rtcontrib to
>> write all images/values using the -bn option.  Try setting -bn 146  if you're
>> using tregenza.cal or -bn Nrbins if you're using reinhart.cal
>>
>> Also, for the next step you may want the new (since July 1) version  of
>> dctimestep.  It allows you to combine daylight coefficient images like so:
>>
>> gendaylit [options]    |  genskyvec -m 1   |   dctimestep myimage_%03d.hdr >
>> output.hdr
>>
>> where the "myimage" bit matches the -o output specification used in rtcontrib.
>>
>> Best,
>> Andy
>>
>>
>> On Aug 31, 2010, at 1:59 PM, Guglielmetti, Robert wrote:
>>
>>> Soooo, my previous question has been answered. You may recall I was asking
>>> why my Ruby script was not parsing the rtcontrib command to write out the
>>> 146 tregenza patch images. All the variables were being passed and expanded
>>> out correctly. Problem was the view file I was handing it was bogus, and
>>> *this* error message does not make it back to the STDERR. Lesson learned.
>>>
>>> That resolved, I am testing further, and am finding that for a given
>>> rtcontrib run, I don't always get 146 image files. Some views yield 142,
>>> some 144. Any ideas on that?
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Tue Aug 31 22:23:51 2010
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue Aug 31 22:23:58 2010
Subject: [Radiance-general] AutoCAD back on the Mac?
Message-ID: <FD4F7B94-FE07-4973-A3F6-549D9631B142@gmail.com>

Just thought this was interesting:

Date: Tue, 31 Aug 2010 07:06:05 -0400
From: Craig Birkmaier <craig@pcube.com>
Subject: [opendtv] News: Autodesk Will Reintroduce Its AutoCAD Design Software 

For nearly two decades, if you wanted to run AutoCAD you have had to 
use a PC. Today Autodesk is announcing that they are reintroducing 
AutoCAD for the Mac and will be introducing free apps that will read 
AutoCAD files for the iPAD and iPhone.

There are many engineers in the TV business who rely on AutoCAD for 
plant engineering tasks. It will be nice to have access to all your 
drawings on an iPAD...

Regards
Craig

http://www.nytimes.com/2010/08/31/technology/31autodesk.html?_r=1&th&emc=th

Autodesk Will Reintroduce Its AutoCAD Design Software for Macs
By MIGUEL HELFT
Published: August 30, 2010

SAN FRANCISCO - When it comes to Apple products, the iPad and the 
iPhone get all the headlines.

But in recent years, the company's Macintosh line of computers has 
enjoyed a remarkable revival that has been vital to Apple's emergence 
as the most valued technology company on Wall Street.
In the latest sign of that comeback, Autodesk plans to announce on 
Tuesday that it is bringing its flagship AutoCAD design and 
engineering software to the Mac for the first time in nearly two 
decades.

The return of AutoCAD to the Mac could help Apple sustain its 
momentum in the competitive market for personal computers, especially 
with business customers, where Apple has made significant inroads 
recently. Autodesk estimates that 10 million people use the AutoCAD 
software around the world, and the company said that its customers 
had been asking for a Mac version with growing frequency.

"This is an endorsement from our side that design and engineering 
customers are taking the Macintosh seriously again," said Amar 
Hanspal, senior vice president for platform solutions at Autodesk.

The Mac was once a popular platform for AutoCAD. But Apple's share of 
the personal computer market dwindled in the early 1990s, so Autodesk 
made its last version of AutoCAD for the Mac in 1992, and stopped 
supporting it in 1994. The company continued to make other products 
for the Mac, including software used in the entertainment industry.

Autodesk could no longer ignore Mac's comeback, Mr. Hanspal said.

The Mac accounted for nearly 10 percent of all PCs sold around the 
world in the first quarter, according to Gartner, or more than double 
its share just a few years ago. In the most recent quarter, Apple 
sold nearly 3.5 million Mac computers, a 33 percent increase from the 
same quarter a year earlier. That rate of growth far exceeded the 
overall PC market.

In a news release, Philip Schiller, Apple's senior vice president for 
worldwide product marketing, said his company was thrilled that 
Autodesk was bringing AutoCAD back to the Mac. "We think it's the 
perfect combination for millions of design and engineering 
professionals," he said.

The Mac version will cost $3,995, the same as the PC version, and 
will be released in October. AutoDesk will soon introduce a free 
mobile version of the software that will run on the iPad, iPhone and 
iPod Touch. That version has more limited capabilities, Mr. Hanspal 
said. But with it, an engineer, for example, could bring drawings to 
a job site on an iPad, rather than on a big roll of paper, and make 
annotations on them.

The mobile version will be able to read any AutoCAD files, whether 
they were created on a PC or a Macintosh.

Mr. Hanspal said AutoDesk was considering making mobile versions of 
the design software for other tablets on the market.


From hope.zh at gmail.com  Tue Aug 31 23:24:34 2010
From: hope.zh at gmail.com (Ji Zhang)
Date: Tue Aug 31 23:24:27 2010
Subject: [Radiance-general] the vector of sensor in SVF calculation
Message-ID: <AANLkTik1us_dVGjtfLTw0NWuqDQXNc9yrML5v47JvUYD@mail.gmail.com>

Dear Radiance experts,

According to the paper "Compagnon, R. (2004). Solar and daylight
availability in the urban fabric. Energy and Buildings, 36(4), 321-328", we
can use Radiance to calculate Sky View Factor by "using a uniform sky model
of arbitrary luminance L and by computing the illuminance Ei without taking
into account the contribution of interreflections to ensure the integration
is performed over the unobstructed part of the sky vault only".

The formula is: SVF = Ei / (PI * L).

We use the following to define the uniform sky with a horizontal diffuse
irradiation of 100 w/m^2:
#########################################################
!gensky 6 20 +15.0  -a 1.0 -o 103.0 -m 105 -u -B 100.0 -g 0.0

skyfunc glow sky_glow 0 0 4 1.0 1.0 1.0 0

skyfunc glow ground_glow 0 0 4 1.0 1.0 1.0 0

sky_glow source sky 0 0 4 0 0 1 180

ground_glow source ground 0 0 4 0 0 -1 180
#########################################################

We use the following specification for rtrace to calculate the irradiation
of a sensor point:
aa=0.1, ab=1, ad=4096, ar=512, as=1024

We then divide the irradiation value of the sensor point as obtained by 100
(the unobstructed horizontal diffuse irradiation as specified for the "-B"
option of gensky) and this will give us the SVF of that sensor point.


According to the way of calculating SVF as introduced by Compagnon (2004),
my question is:
Should the vector of the sensor point being measured always point upward to
the zenith (in other words, the xyz vector for the sensor is 0 0 1) no
matter how the normal of that sensor point might oriented to?

For example, if we try to calculate the SVF of the centroid of a tilted
polygon (a non-horizontal and non-vertical plane), should we specify the
vector of the sensor as 0 0 1 or as the xyz vector values of the actual
normal of that polygon?


Thanks!

Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100901/b79558e1/attachment.html
From grobe at gmx.net  Tue Aug 31 23:56:43 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Aug 31 23:56:41 2010
Subject: [Radiance-general] the vector of sensor in SVF calculation
In-Reply-To: <AANLkTik1us_dVGjtfLTw0NWuqDQXNc9yrML5v47JvUYD@mail.gmail.com>
References: <AANLkTik1us_dVGjtfLTw0NWuqDQXNc9yrML5v47JvUYD@mail.gmail.com>
Message-ID: <4C7DF92B.80804@gmx.net>

Hi Ji!

> Should the vector of the sensor point being measured always point upward
> to the zenith (in other words, the xyz vector for the sensor is 0 0 1)
> no matter how the normal of that sensor point might oriented to?
>
> For example, if we try to calculate the SVF of the centroid of a tilted
> polygon (a non-horizontal and non-vertical plane), should we specify the
> vector of the sensor as 0 0 1 or as the xyz vector values of the actual
> normal of that polygon?

 From my understanding: You want to calculate the sky view factor. The 
sky is the hemisphere above the horizon, and the sky view factor is the 
fraction of it visible from a given point. As the horizon does not 
change with the tilt angle of the surface your point is located on, the 
normal should still point up. If you would rotate the normal, the result 
would not be the fraction of the sky visible, but include the ground. 
And as the ground is nothing but a given obstruction of the sky if you 
do not consider indirect / reflected light, it should not be counted.

I am not sure why the sky is not defined to produce 1 W/m2 in the first 
step so that you could read out the SVF without any further division, 
but this is the easiest part of the calculation.

I hope my understanding of the sky view factor is correct..?

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100901/81eb6311/smime.bin
