From a.bissell at cundall.com  Sat Oct  2 13:07:53 2010
From: a.bissell at cundall.com (Bissell, Andrew)
Date: Sat Oct  2 13:07:01 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance
Message-ID: <5B472090ED0BC64EA8F81B330169D3D4F74DA0@CLOEXM1.cjp.co.uk>

Sorry for what must be obvious questions.  I have just compiled
evalglare for Linux and I have run a few test images albeit the images
were very low res.  I have read various papers and posts on the net and
seen the images referred to as luminance images and illuminance images.
So which is it?  Part of me says luminance as brightness is more
relative to glare, on the other hand my understanding of DGP is that it
measures illuminance at the eye.  Which led to me confusing myself over
the type of image required.  Certainly if you try both, the results are
different, however the images I am using are crude with just 1 bounce so
that could easily explain the difference.

 

Also I read the luxeuropa2005.pdf on the evaluation method etc.  However
I was still at a loss as to what the DGP results really meant.  E.g. if
the DGP result is 0.4756 what does that mean.  The document talked about
levels below 0.2 not being reliable.  

 

The other evalglare posts were useful wrt -vth and -vta, also the
picture header.  Thank you.

 

Regards

 

Andrew

__________________________
Andrew Bissell

B.Eng(Hons) C.Eng MSLL MCIBSE MIET
Associate Lighting Designer

Cundall Light4
Direct: 0161 200 1235
Mobile: 07899 907 978

Office: 0161 244 5660

P Please consider the environment before printing this e-mail

 

Cundall Johnston & Partners LLP is a limited liability partnership registered in England and Wales.Registered number OC300389.  
Registered office: Horsley House, Regent Centre, Gosforth, Newcastle upon Tyne, NE3 3LU
Privilege and Confidentiality Notice: Use of this email and any attachments is subject to the terms on our Website at http://www.cundall.com/email.htm 
If you cannot access these terms, please email terms@cundall.com with SEND TERMS in the subject heading or telephone +44 (0191) 213 1515 and we will send you a copy. 
--------------------------------------------------------------------------------
This email message has been scanned for viruses by Mimecast. For more information please visit http://www.mimecast.com 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101002/c1bacac1/attachment.htm
From gregoryjward at gmail.com  Sat Oct  2 14:12:05 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat Oct  2 14:11:32 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance
In-Reply-To: <5B472090ED0BC64EA8F81B330169D3D4F74DA0@CLOEXM1.cjp.co.uk>
References: <5B472090ED0BC64EA8F81B330169D3D4F74DA0@CLOEXM1.cjp.co.uk>
Message-ID: <1BADA4DA-CA2D-40C8-9FE8-F64C0B860D4C@lmi.net>

Hi Andrew,

You definitely want a luminance image -- using -i would give you wrong results.  Evalglare should add up luminances with the appropriate weighting to get vertical illuminance at the eye.

Cheers,
-Greg

> From: "Bissell, Andrew" <a.bissell@cundall.com>
> Date: October 2, 2010 1:07:53 PM PDT
> 
> Sorry for what must be obvious questions.  I have just compiled evalglare for Linux and I have run a few test images albeit the images were very low res.  I have read various papers and posts on the net and seen the images referred to as luminance images and illuminance images.  So which is it?  Part of me says luminance as brightness is more relative to glare, on the other hand my understanding of DGP is that it measures illuminance at the eye.  Which led to me confusing myself over the type of image required.  Certainly if you try both, the results are different, however the images I am using are crude with just 1 bounce so that could easily explain the difference.
> 
>  
> 
> Also I read the luxeuropa2005.pdf on the evaluation method etc.  However I was still at a loss as to what the DGP results really meant.  E.g. if the DGP result is 0.4756 what does that mean.  The document talked about levels below 0.2 not being reliable. 
> 
>  
> 
> The other evalglare posts were useful wrt ?vth and ?vta, also the picture header.  Thank you.
> 
>  
> 
> Regards
> 
>  
> 
> Andrew
> 

From a.bissell at cundall.com  Sat Oct  2 14:15:17 2010
From: a.bissell at cundall.com (Bissell, Andrew)
Date: Sat Oct  2 14:14:15 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance
In-Reply-To: <1BADA4DA-CA2D-40C8-9FE8-F64C0B860D4C@lmi.net>
References: <5B472090ED0BC64EA8F81B330169D3D4F74DA0@CLOEXM1.cjp.co.uk>
	<1BADA4DA-CA2D-40C8-9FE8-F64C0B860D4C@lmi.net>
Message-ID: <5B472090ED0BC64EA8F81B330169D3D4F74DA1@CLOEXM1.cjp.co.uk>

Thanks Greg, very much appreciated.

Regards

Andrew
__________________________
Andrew Bissell
B.Eng(Hons) C.Eng MSLL MCIBSE MIET
Associate Lighting Designer
Cundall Light4
Direct: 0161 200 1235
Mobile: 07899 907 978
Office: 0161 244 5660
? Please consider the environment before printing this e-mail

-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Greg Ward
Sent: 02 October 2010 22:12
To: Radiance general discussion
Subject: Re: [Radiance-general] Evalglare - Luminance or Illuminance

Hi Andrew,

You definitely want a luminance image -- using -i would give you wrong results.  Evalglare should add up luminances with the appropriate weighting to get vertical illuminance at the eye.

Cheers,
-Greg

> From: "Bissell, Andrew" <a.bissell@cundall.com>
> Date: October 2, 2010 1:07:53 PM PDT
> 
> Sorry for what must be obvious questions.  I have just compiled evalglare for Linux and I have run a few test images albeit the images were very low res.  I have read various papers and posts on the net and seen the images referred to as luminance images and illuminance images.  So which is it?  Part of me says luminance as brightness is more relative to glare, on the other hand my understanding of DGP is that it measures illuminance at the eye.  Which led to me confusing myself over the type of image required.  Certainly if you try both, the results are different, however the images I am using are crude with just 1 bounce so that could easily explain the difference.
> 
>  
> 
> Also I read the luxeuropa2005.pdf on the evaluation method etc.  However I was still at a loss as to what the DGP results really meant.  E.g. if the DGP result is 0.4756 what does that mean.  The document talked about levels below 0.2 not being reliable. 
> 
>  
> 
> The other evalglare posts were useful wrt ?vth and ?vta, also the picture header.  Thank you.
> 
>  
> 
> Regards
> 
>  
> 
> Andrew
> 

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

Cundall Johnston & Partners LLP is a limited liability partnership registered in England and Wales.Registered number OC300389.  
Registered office: Horsley House, Regent Centre, Gosforth, Newcastle upon Tyne, NE3 3LU
Privilege and Confidentiality Notice: Use of this email and any attachments is subject to the terms on our Website at http://www.cundall.com/email.htm 
If you cannot access these terms, please email terms@cundall.com with SEND TERMS in the subject heading or telephone +44 (0191) 213 1515 and we will send you a copy. 
--------------------------------------------------------------------------------
This email message has been scanned for viruses by Mimecast. For more information please visit http://www.mimecast.com 
From RFritz at lbl.gov  Sun Oct  3 15:48:16 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Sun Oct  3 15:48:21 2010
Subject: [Radiance-general] rsensor and LICOR LI-210 photometric sensors
Message-ID: <i8b17g$kub$1@dough.gmane.org>

Has anyone simulated these in rsensor?  Would you care to share your 
sensor files?

&, if not, any suggestions as to how to write one?  What resolution 
would be appropriate.  LI-COR's data informs me that these are 
"cosine-corrected" sensors, up to 80? off-axis, after which the LI-COR 
is vague about the response, which seems to falls to zero in some 
unspecified way.

-- 
Randolph



From jan.wienold at ise.fraunhofer.de  Mon Oct  4 09:23:20 2010
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Mon Oct  4 09:22:58 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance
In-Reply-To: <1BADA4DA-CA2D-40C8-9FE8-F64C0B860D4C@lmi.net>
References: <5B472090ED0BC64EA8F81B330169D3D4F74DA0@CLOEXM1.cjp.co.uk>
	<1BADA4DA-CA2D-40C8-9FE8-F64C0B860D4C@lmi.net>
Message-ID: <4CA9FF78.5080608@ise.fraunhofer.de>

Hi Andrew,

yes, evalglare needs a 180? fish-eye(-vta)- LUMINANCE image. Internally
it calculates the vertical illuminance as Greg mentioned before.

A value of 0.4756 is a rather high value (-> 48% are disturbed by glare).

At the last building simulation conference, I suggested some "glare
classes" based on user assessments, which may help to interpret the DGP
values.
(table 5 in http://www.ibpsa.org/proceedings/BS2009/BS09_0944_951.pdf ).
Further details can be found also in my dissertation "Daylight Glare in
Offices", which will be available in some days as pdf on our web-site.


Cheers,

Jan


Greg Ward wrote:
> Hi Andrew,
>
> You definitely want a luminance image -- using -i would give you wrong results.  Evalglare should add up luminances with the appropriate weighting to get vertical illuminance at the eye.
>
> Cheers,
> -Greg
>
>   
>> From: "Bissell, Andrew" <a.bissell@cundall.com>
>> Date: October 2, 2010 1:07:53 PM PDT
>>
>> Sorry for what must be obvious questions.  I have just compiled evalglare for Linux and I have run a few test images albeit the images were very low res.  I have read various papers and posts on the net and seen the images referred to as luminance images and illuminance images.  So which is it?  Part of me says luminance as brightness is more relative to glare, on the other hand my understanding of DGP is that it measures illuminance at the eye.  Which led to me confusing myself over the type of image required.  Certainly if you try both, the results are different, however the images I am using are crude with just 1 bounce so that could easily explain the difference.
>>
>>  
>>
>> Also I read the luxeuropa2005.pdf on the evaluation method etc.  However I was still at a loss as to what the DGP results really meant.  E.g. if the DGP result is 0.4756 what does that mean.  The document talked about levels below 0.2 not being reliable. 
>>
>>  
>>
>> The other evalglare posts were useful wrt ?vth and ?vta, also the picture header.  Thank you.
>>
>>  
>>
>> Regards
>>
>>  
>>
>> Andrew
>>
>>     
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
Dipl.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101004/21bb958d/attachment.html
From marion.kerl.ext at siemens.com  Wed Oct  6 07:04:46 2010
From: marion.kerl.ext at siemens.com (Kerl, Marion (SCR US EXT))
Date: Wed Oct  6 07:05:35 2010
Subject: [Radiance-general] gensky and gendaylit
Message-ID: <1F994EE20CC4154DBB59DDE3100F906B0474BAF9@USNWK102MSX.ww017.siemens.net>

Hi everyone,

I have questions regarding the commands gensky and gendaylit: 

1.	I generate with   'gensky 2 5 15 -a 37.42 -o 122.4 -m 120' this
file:

				# gensky 2 5 15 -a 37.42 -o 122.4 -m 120
				# Local solar time: 14.61
				# Solar altitude and azimuth: 24.9 41.9
				# Ground ambient level: 11.7

				void light solar
				0
				0
				3 5.75e+06 5.75e+06 5.75e+06

				solar source sun
				0
				0
				4 -0.605853 -0.675230 0.420723 0.5

				void brightfunc skyfunc
				2 skybr skybright.cal
				0
				7 1 5.44e+00 1.16e+01 3.62e-01 -0.605853
-0.675230 0.420723


				Now I have some questions about the
generated parameters: 
				What is the ground ambient level?
				How is the Solar altitude generated?
				What is the '2 skybr skybright.cal' in
the third part 'void brightfunc skyfunc' meaning?
				And why is the third line in every part
0??

2.	When I want to call this command 'gendaylit 2 5 15 -a 37.42 -o
122.4 -m 120 -W 280 280 -g .1' I will get this error:

	C:\cygwin\opt\radiance\bin\gendaylit.exe 2 5 15 -a 37.42 -o
122.4 -m 120 -W 280 280 -g .1
			file coeff_perez.dat cannot be opened
			lect_coeff_perez does not work

			Does everyone of you know why I get this error?
Because the file gendaylit.exe is already in the folder
C:\cygwin\opt\radiance\bin\.


Thank you very much in advance.

Regards,
Marion
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101006/3deb986b/attachment.htm
From tbleicher at googlemail.com  Wed Oct  6 07:32:40 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed Oct  6 07:32:32 2010
Subject: [Radiance-general] gensky and gendaylit
In-Reply-To: <1F994EE20CC4154DBB59DDE3100F906B0474BAF9@USNWK102MSX.ww017.siemens.net>
References: <ActlX26E4Tk6V3+iTcKlaQQJi4mONw==>
	<1F994EE20CC4154DBB59DDE3100F906B0474BAF9@USNWK102MSX.ww017.siemens.net>
Message-ID: <AANLkTi=wzsdmXzrMTOwLa_xQd8ms__OAC1FtAv6LGGWc@mail.gmail.com>

Morning.

On Wed, Oct 6, 2010 at 9:04 AM, Kerl, Marion (SCR US EXT)
<marion.kerl.ext@siemens.com> wrote:
> Hi everyone,
>
> I have questions regarding the commands gensky and gendaylit:
>
> 1. I generate with?? ?gensky 2 5 15 -a 37.42 -o 122.4 -m 120? this file:
>
> # gensky 2 5 15 -a 37.42 -o 122.4 -m 120
> # Local solar time: 14.61
> # Solar altitude and azimuth: 24.9 41.9
> # Ground ambient level: 11.7
> [ ... ]

> Now I have some questions about the generated parameters:
>
> What is the ground ambient level?

An indication for the values of the '-av' option of rpict and rtrace.
If you wanted to use '-av' to represent the ambient light level of an
exterior scene you would set the values to something in the range of
11.7.

> How is the Solar altitude generated?

The first three parameters of your gensky line are month, day and
time. You further specify the location's latitude and longitude with
'-a' and '-o'. The sun position and altitude are calculated from these
values.

> What is the ?2 skybr skybright.cal? in the third part ?void brightfunc
> skyfunc? meaning?

The output of gensky is basically a brightness distribution definition
for a sky dome. The brightness is defined by a function in the file
'skybright.cal'.

> And why is the third line in every part 0??

That's the standard notation for Radiance materials (and other
objects). You have a base definition (like in 'solar' above) which
does not need any advanced options or parameters. Then there is
advanced definition of 'skyfunc' which adds two parameters on the
second line - that's why it starts with a '2'. I don't know if the
third line is used at all in Radiance but I expect they had plans for
it back in the days when it was defined. For now it just says '0' to
indicate that there are no further arguments on this line.

> 2.????? When I want to call this command ?gendaylit 2 5 15 -a 37.42 -o 122.4
> -m 120 -W 280 280 -g .1? I will get this error:
>
> C:\cygwin\opt\radiance\bin\gendaylit.exe 2 5 15 -a 37.42 -o 122.4 -m 120 -W 280 280 -g .1
>
> file coeff_perez.dat cannot be opened
> lect_coeff_perez does not work
>
> Does everyone of you know why I get this error? Because the file
> gendaylit.exe is already in the folder C:\cygwin\opt\radiance\bin\.

Do you have a file called 'C:\cygwin\opt\radiance\lib\coeff_perez.dat' ?
Do you have an environment variable called 'RAYPATH' in your Cygwin environment?
Which version of Radiance are you using?

Thomas

From marion.kerl.ext at siemens.com  Wed Oct  6 12:25:15 2010
From: marion.kerl.ext at siemens.com (Kerl, Marion (SCR US EXT))
Date: Wed Oct  6 12:25:12 2010
Subject: [Radiance-general] RE: Radiance-general Digest, Vol 80, Issue 3
In-Reply-To: <20101006190056.2AFB1E28064@hylas.siemens.com>
References: <20101006190056.2AFB1E28064@hylas.siemens.com>
Message-ID: <1F994EE20CC4154DBB59DDE3100F906B0474BEDB@USNWK102MSX.ww017.siemens.net>

Hi Thomas,

Thank you very much for your helpful response.

Regarding the gendaylit, I use the Radiance 3R9 for CYGwin. My environment variable RAYPATH is .:/opt/radiance/lib.
Do you mean I have to change the direction of the RAYPATH to execute the gendaylit command successfully?

Also I'm not sure which parameter I have to use for the -W parameter. I used -W 280 280, but maybe this is my mistake.
Can you explain me what is the meaning of these two values?

Thank you very much in advance.

Marion




-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of radiance-general-request@radiance-online.org
Sent: Wednesday, October 06, 2010 3:01 PM
To: radiance-general@radiance-online.org
Subject: Radiance-general Digest, Vol 80, Issue 3

Send Radiance-general mailing list submissions to
	radiance-general@radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request@radiance-online.org

You can reach the person managing the list at
	radiance-general-owner@radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. gensky and gendaylit (Kerl, Marion (SCR US EXT))
   2. Re: gensky and gendaylit (Thomas Bleicher)


----------------------------------------------------------------------

Message: 1
Date: Wed, 6 Oct 2010 07:04:46 -0700
From: "Kerl, Marion (SCR US EXT)" <marion.kerl.ext@siemens.com>
Subject: [Radiance-general] gensky and gendaylit
To: <radiance-general@radiance-online.org>
Message-ID:
	<1F994EE20CC4154DBB59DDE3100F906B0474BAF9@USNWK102MSX.ww017.siemens.net>
	
Content-Type: text/plain; charset="us-ascii"

Hi everyone,

I have questions regarding the commands gensky and gendaylit: 

1.	I generate with   'gensky 2 5 15 -a 37.42 -o 122.4 -m 120' this
file:

				# gensky 2 5 15 -a 37.42 -o 122.4 -m 120
				# Local solar time: 14.61
				# Solar altitude and azimuth: 24.9 41.9
				# Ground ambient level: 11.7

				void light solar
				0
				0
				3 5.75e+06 5.75e+06 5.75e+06

				solar source sun
				0
				0
				4 -0.605853 -0.675230 0.420723 0.5

				void brightfunc skyfunc
				2 skybr skybright.cal
				0
				7 1 5.44e+00 1.16e+01 3.62e-01 -0.605853 -0.675230 0.420723


				Now I have some questions about the
generated parameters: 
				What is the ground ambient level?
				How is the Solar altitude generated?
				What is the '2 skybr skybright.cal' in the third part 'void brightfunc skyfunc' meaning?
				And why is the third line in every part 0??

2.	When I want to call this command 'gendaylit 2 5 15 -a 37.42 -o
122.4 -m 120 -W 280 280 -g .1' I will get this error:

	C:\cygwin\opt\radiance\bin\gendaylit.exe 2 5 15 -a 37.42 -o
122.4 -m 120 -W 280 280 -g .1
			file coeff_perez.dat cannot be opened
			lect_coeff_perez does not work

			Does everyone of you know why I get this error?
Because the file gendaylit.exe is already in the folder C:\cygwin\opt\radiance\bin\.


Thank you very much in advance.

Regards,
Marion
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101006/3deb986b/attachment.html

------------------------------

Message: 2
Date: Wed, 6 Oct 2010 09:32:40 -0500
From: Thomas Bleicher <tbleicher@googlemail.com>
Subject: Re: [Radiance-general] gensky and gendaylit
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID:
	<AANLkTi=wzsdmXzrMTOwLa_xQd8ms__OAC1FtAv6LGGWc@mail.gmail.com>
Content-Type: text/plain; charset=windows-1252

Morning.

On Wed, Oct 6, 2010 at 9:04 AM, Kerl, Marion (SCR US EXT) <marion.kerl.ext@siemens.com> wrote:
> Hi everyone,
>
> I have questions regarding the commands gensky and gendaylit:
>
> 1. I generate with?? 'gensky 2 5 15 -a 37.42 -o 122.4 -m 120' this file:
>
> # gensky 2 5 15 -a 37.42 -o 122.4 -m 120 # Local solar time: 14.61 # 
> Solar altitude and azimuth: 24.9 41.9 # Ground ambient level: 11.7 [ 
> ... ]

> Now I have some questions about the generated parameters:
>
> What is the ground ambient level?

An indication for the values of the '-av' option of rpict and rtrace.
If you wanted to use '-av' to represent the ambient light level of an exterior scene you would set the values to something in the range of 11.7.

> How is the Solar altitude generated?

The first three parameters of your gensky line are month, day and time. You further specify the location's latitude and longitude with '-a' and '-o'. The sun position and altitude are calculated from these values.

> What is the '2 skybr skybright.cal' in the third part 'void brightfunc 
> skyfunc' meaning?

The output of gensky is basically a brightness distribution definition for a sky dome. The brightness is defined by a function in the file 'skybright.cal'.

> And why is the third line in every part 0??

That's the standard notation for Radiance materials (and other objects). You have a base definition (like in 'solar' above) which does not need any advanced options or parameters. Then there is advanced definition of 'skyfunc' which adds two parameters on the second line - that's why it starts with a '2'. I don't know if the third line is used at all in Radiance but I expect they had plans for it back in the days when it was defined. For now it just says '0' to indicate that there are no further arguments on this line.

> 2.????? When I want to call this command 'gendaylit 2 5 15 -a 37.42 -o 
> 122.4 -m 120 -W 280 280 -g .1' I will get this error:
>
> C:\cygwin\opt\radiance\bin\gendaylit.exe 2 5 15 -a 37.42 -o 122.4 -m 
> 120 -W 280 280 -g .1
>
> file coeff_perez.dat cannot be opened
> lect_coeff_perez does not work
>
> Does everyone of you know why I get this error? Because the file 
> gendaylit.exe is already in the folder C:\cygwin\opt\radiance\bin\.

Do you have a file called 'C:\cygwin\opt\radiance\lib\coeff_perez.dat' ?
Do you have an environment variable called 'RAYPATH' in your Cygwin environment?
Which version of Radiance are you using?

Thomas



------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 80, Issue 3
***********************************************

From tbleicher at googlemail.com  Wed Oct  6 13:20:38 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed Oct  6 13:20:29 2010
Subject: [Radiance-general] RE: Radiance-general Digest, Vol 80, Issue 3
In-Reply-To: <1F994EE20CC4154DBB59DDE3100F906B0474BEDB@USNWK102MSX.ww017.siemens.net>
References: <20101006190056.2AFB1E28064@hylas.siemens.com>
	<1F994EE20CC4154DBB59DDE3100F906B0474BEDB@USNWK102MSX.ww017.siemens.net>
Message-ID: <AANLkTin2SiiUBwzES-gP84ZZ+vtni5fzwxGtxUk8ziFX@mail.gmail.com>

Hello Marion.

On Wed, Oct 6, 2010 at 2:25 PM, Kerl, Marion (SCR US EXT)
<marion.kerl.ext@siemens.com> wrote:
> Hi Thomas,
>
> Thank you very much for your helpful response.
>
> Regarding the gendaylit, I use the Radiance 3R9 for CYGwin.
> My environment variable RAYPATH is .:/opt/radiance/lib.
> Do you mean I have to change the direction of the RAYPATH
> to execute the gendaylit command successfully?

Yes. RAYPATH should point to the directory which contains the
supporting files for Radiance (*.cal and *.dat files and possibly
others).

Given the location of your gendaylit binary
(C:\cygwin\opt\radiance\bin\gendaylit.exe) I would expect that all
your supporting files are installed in C:\cygwin\opt\radiance\lib. I
don't know how Cygwin works and if you have to add the leading
'C:\cygwin' to RAYPATH or not but the coeff_perez.cal file should be
in this directory.

> Also I'm not sure which parameter I have to use for the -W parameter.
> I used -W 280 280, but maybe this is my mistake.
> Can you explain me what is the meaning of these two values?

The values as such are fine. I get a results on my system with the
same command line. However, gendaylit is know to produce errors for
certain combination of parameters. So you have to be careful with the
output of gendaylit and check if is useable or not.

The -W option tells gendaylit to produce a sky based on direct-normal
and diffuse-horizontal irradiance which are commonly given in climate
data files. For more details read the man page of gendaylit.

Thomas

From RFritz at lbl.gov  Fri Oct  8 11:26:11 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Fri Oct  8 11:26:25 2010
Subject: [Radiance-general] ...how many processors?
Message-ID: <i8nno4$rik$1@dough.gmane.org>

The following possibly-useful fragments ask most Unix systems (I've 
tried it on BSD and Mac) how many processors there are.

(t)csh:
  set nproc = `sysctl -n hw.ncpu`

bash/ksh:
  nproc=`sysctl -n hw.ncpu`

Python:
> from subprocess import Popen
> def getnproc():
>     GETN = 'sysctl -n hw.ncpu'
>     nproc = 1
>     sysc = Popen(GETN.split(), stdout=PIPE)
>     (out,junk) = sysc.communicate()
>     if sysc.returncode == 0:
>         nproc = int(out)
>     return nproc

-- 
Randolph



From rob.guglielmetti at gmail.com  Fri Oct  8 13:11:03 2010
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Fri Oct  8 13:10:55 2010
Subject: [Radiance-general] ...how many processors?
In-Reply-To: <i8nno4$rik$1@dough.gmane.org>
References: <i8nno4$rik$1@dough.gmane.org>
Message-ID: <AANLkTinzxS+hb9M8s34TXFb1yhk2dcRQTQ5aZnovDzS1@mail.gmail.com>

What a nice little Friday afternoon gift. Thanks Randolph!

On Fri, Oct 8, 2010 at 12:26 PM, Randolph M. Fritz <RFritz@lbl.gov> wrote:

> The following possibly-useful fragments ask most Unix systems (I've tried
> it on BSD and Mac) how many processors there are.
>
> (t)csh:
>  set nproc = `sysctl -n hw.ncpu`
>
> bash/ksh:
>  nproc=`sysctl -n hw.ncpu`
>
> Python:
>
>> from subprocess import Popen
>> def getnproc():
>>    GETN = 'sysctl -n hw.ncpu'
>>    nproc = 1
>>    sysc = Popen(GETN.split(), stdout=PIPE)
>>    (out,junk) = sysc.communicate()
>>    if sysc.returncode == 0:
>>        nproc = int(out)
>>    return nproc
>>
>
> --
> Randolph
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
===============
Rob Guglielmetti
www.rumblestrip.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101008/c057f5bf/attachment.htm
From jilldalglish at yahoo.com  Fri Oct  8 15:17:12 2010
From: jilldalglish at yahoo.com (Jill Dalglish)
Date: Fri Oct  8 15:17:04 2010
Subject: [Radiance-general] Survey: your radiance computing power
Message-ID: <295330.34991.qm@web56005.mail.re3.yahoo.com>

I'm taking an informal survey: 

What type of system are you running Radiance on and how much computing power do you require/use/have for your Radiance workflow? 

Thank you, 



Jill Dalglish, LEED AP 
Dalglish Daylighting, LLC 
jilldalglish@yahoo.com 
303-955-4945 




      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101008/e9879e39/attachment.html
From RFritz at lbl.gov  Fri Oct  8 16:28:42 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Fri Oct  8 16:28:43 2010
Subject: [Radiance-general] Re: ...how many processors?
References: <i8nno4$rik$1@dough.gmane.org>
Message-ID: <i8o9fa$m1u$1@dough.gmane.org>

Unfortunately, this doesn't work on Linux, bah!

On Linux, the following shell command will do it:
  grep 'processor' /proc/cpuinfo |wc -l

I wonder what works on Solaris...
-- 
Randolph



From list at oxdrove.co.uk  Sat Oct  9 02:41:04 2010
From: list at oxdrove.co.uk (James Lee)
Date: Sat Oct  9 02:40:57 2010
Subject: [Radiance-general] ...how many processors?
In-Reply-To: <i8nno4$rik$1@dough.gmane.org>
References: <i8nno4$rik$1@dough.gmane.org>
Message-ID: <20101009.9410400.941311548@gyor.oxdrove.co.uk>

On 08/10/10, 19:26:11, Randolph "M." Fritz <RFritz@lbl.gov> wrote regarding
[Radiance-general] ...how many processors?:

> The following possibly-useful fragments ask most Unix systems (I've
> tried it on BSD and Mac) how many processors there are.

> (t)csh:
>   set nproc = `sysctl -n hw.ncpu`

> bash/ksh:
>   nproc=`sysctl -n hw.ncpu`


sysctl is not available on Solaris.  For Solaris I use:

$ psrinfo | wc -l
       4

It's more rigourous to look for on-line processors (but I don't ever off
line mine):

# psrinfo | grep -c on-line
4
# psradm -f 2
# psrinfo | grep -c on-line
3




That gives the number of virtual processors which usually is good enough,
to get more detail use (Solaris 9+):

$ psrinfo -vp
The physical processor has 2 virtual processors (0 1)
  x86 (chipid 0x0 AuthenticAMD family 15 model 65 step 3 clock 2613 MHz)
        Dual-Core AMD Opteron(tm) Processor 2218 HE
The physical processor has 2 virtual processors (2 3)
  x86 (chipid 0x1 AuthenticAMD family 15 model 65 step 3 clock 2613 MHz)
        Dual-Core AMD Opteron(tm) Processor 2218 HE


or for even more system detail:

$ prtdiag
System Configuration: Sun Microsystems Sun Fire X2200 M2
BIOS Configuration: Sun Microsystems S39_3B25 11/15/2007
BMC Configuration: IPMI 1.5 (KCS: Keyboard Controller Style)

==== Processor Sockets ====================================

Version                          Location Tag
-------------------------------- --------------------------
Dual-Core AMD Opteron(tm) Processor 2218 HE U
Dual-Core AMD Opteron(tm) Processor 2218 HE U


...etc...




James.


From jelleferinga at gmail.com  Sat Oct  9 13:42:06 2010
From: jelleferinga at gmail.com (jelle feringa)
Date: Sat Oct  9 13:42:14 2010
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 80, Issue 6
In-Reply-To: <4cb0bbdf.1a49960a.3d89.76a0SMTPIN_ADDED@mx.google.com>
References: <4cb0bbdf.1a49960a.3d89.76a0SMTPIN_ADDED@mx.google.com>
Message-ID: <AANLkTikbwAywLJq8GRzTvWqLW5o248B7nFG_Sv0eS238@mail.gmail.com>

a pythonic, platform independent way to get the number of cores:
import multiprocessing
n_cpu = multiprocessing.cpu_count()

I use:
pool  = multiprocessing.Pool( 8 )
pool.map( run_rtrace, rtrace_job_list )
all the time, works wonders
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101009/128dcaeb/attachment.htm
From RFritz at lbl.gov  Sun Oct 10 11:20:05 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Sun Oct 10 11:20:18 2010
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 80, Issue 6
References: <AANLkTikbwAywLJq8GRzTvWqLW5o248B7nFG_Sv0eS238@mail.gmail.com>
Message-ID: <i8t04l$amq$1@dough.gmane.org>

On 2010-10-09 13:42:06 -0700, jelle feringa said:

> a pythonic, platform?independent?way to get the number of cores:
> import multiprocessing
> n_cpu = multiprocessing.cpu_count()
> 
> I use:
> pool ?= multiprocessing.Pool( 8 )?
> pool.map( run_rtrace, rtrace_job_list )
> all the time, works wonders

I like that very much, however it requires Python 2.6 or newer.  Sigh...

-- 
Randolph



From apiparn.borisuit at epfl.ch  Mon Oct 11 01:52:24 2010
From: apiparn.borisuit at epfl.ch (Borisuit Apiparn)
Date: Mon Oct 11 01:52:29 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance 
Message-ID: <FF2819A4F073884F9B73CA6DC27F21B4B24C@REXM2.intranet.epfl.ch>

Hi Jan,


According to your previous reply about the needed view (180? fisheye -vta) for EVALGLARE, why can't we use 120? to 140?, due to the human field of view?

Sorry if it is a redundant question. I 'm just new in the list.



Cheers,

Apiparn



Jan wrote:


Hi Andrew,



yes, evalglare needs a 180? fish-eye(-vta)- LUMINANCE image. Internally

it calculates the vertical illuminance as Greg mentioned before.



A value of 0.4756 is a rather high value (-> 48% are disturbed by glare).



At the last building simulation conference, I suggested some "glare

classes" based on user assessments, which may help to interpret the DGP

values.

(table 5 in http://www.ibpsa.org/proceedings/BS2009/BS09_0944_951.pdf ).

Further details can be found also in my dissertation "Daylight Glare in

Offices", which will be available in some days as pdf on our web-site.





Cheers,



Jan


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101011/df074c92/attachment.html
From jan.wienold at ise.fraunhofer.de  Mon Oct 11 02:17:53 2010
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Mon Oct 11 02:17:49 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance
In-Reply-To: <FF2819A4F073884F9B73CA6DC27F21B4B24C@REXM2.intranet.epfl.ch>
References: <FF2819A4F073884F9B73CA6DC27F21B4B24C@REXM2.intranet.epfl.ch>
Message-ID: <4CB2D641.7010004@ise.fraunhofer.de>

Hi Apiparn,

the main thing is, that for the DGP the vertical illuminance at eye
level is needed. Evalglare calculates this value from the given image
and needs therefore the full 180?!

In case you are using a camera, which does not cover the full 180?, you
can also measure the vertical illuminance and feed this illuminance
value by using the -i option. In case you are using a non-fish-eye lens
and evalglare is blocking another view than -vta, I could send you
another version until the next release will be put online. Within the
next release, all view types will be allowed.

Cheers,

Jan


Borisuit Apiparn wrote:
>
> Hi Jan,
>
>  
>
> According to your previous reply about the needed view (180? fisheye --vta) for EVALGLARE, why can't we use 120? to 140?, due to the human field of view? 
> Sorry if it is a redundant question. I 'm just new in the list. 
>  
> Cheers,  
>
>  
>
> Apiparn
>
>  
>
>  
>
> Jan wrote:
>
>  
>
> Hi Andrew,
>  
> yes, evalglare needs a 180? fish-eye(-vta)- LUMINANCE image. Internally
> it calculates the vertical illuminance as Greg mentioned before.
>  
> A value of 0.4756 is a rather high value (-> 48% are disturbed by glare).
>  
> At the last building simulation conference, I suggested some "glare
> classes" based on user assessments, which may help to interpret the DGP
> values.
> (table 5 in http://www.ibpsa.org/proceedings/BS2009/BS09_0944_951.pdf ).
> Further details can be found also in my dissertation "Daylight Glare in
> Offices", which will be available in some days as pdf on our web-site.
>  
>  
> Cheers,
>  
> Jan
>
>  
>
>  
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
Dr.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101011/46419b57/attachment.htm
From apiparn.borisuit at epfl.ch  Mon Oct 11 02:38:57 2010
From: apiparn.borisuit at epfl.ch (Borisuit Apiparn)
Date: Mon Oct 11 02:38:51 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance
In-Reply-To: <4CB2D641.7010004@ise.fraunhofer.de>
References: <FF2819A4F073884F9B73CA6DC27F21B4B24C@REXM2.intranet.epfl.ch>
	<4CB2D641.7010004@ise.fraunhofer.de>
Message-ID: <FF2819A4F073884F9B73CA6DC27F21B4B671@REXM2.intranet.epfl.ch>

Hi Jan,

Thanks a lot for your quick reply.
If I use the -i option (~120? -with fisheye lens), will the vertical illuminance be much different with the image of 180? view?
Moreover , for calculating DGI or UGR by Evalglare, we don't need the full 180? ?

Cheers,
Apiparn Borisuit

EPFL ENAC ICARE LESO-PB
LE  001 (B?timent LE)
Station 18
CH-1015 Lausanne
T?l?phone   +4121 69 36265<callto:+41216936265>
Fax                +4121 69 32722

From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jan Wienold
Sent: lundi, 11. octobre 2010 11:18
To: Radiance general discussion
Subject: Re: [Radiance-general] Evalglare - Luminance or Illuminance

Hi Apiparn,

the main thing is, that for the DGP the vertical illuminance at eye level is needed. Evalglare calculates this value from the given image and needs therefore the full 180?!

In case you are using a camera, which does not cover the full 180?, you can also measure the vertical illuminance and feed this illuminance value by using the -i option. In case you are using a non-fish-eye lens and evalglare is blocking another view than -vta, I could send you another version until the next release will be put online. Within the next release, all view types will be allowed.

Cheers,

Jan


Borisuit Apiparn wrote:
Hi Jan,


According to your previous reply about the needed view (180? fisheye -vta) for EVALGLARE, why can't we use 120? to 140?, due to the human field of view?

Sorry if it is a redundant question. I 'm just new in the list.



Cheers,

Apiparn



Jan wrote:


Hi Andrew,



yes, evalglare needs a 180? fish-eye(-vta)- LUMINANCE image. Internally

it calculates the vertical illuminance as Greg mentioned before.



A value of 0.4756 is a rather high value (-> 48% are disturbed by glare).



At the last building simulation conference, I suggested some "glare

classes" based on user assessments, which may help to interpret the DGP

values.

(table 5 in http://www.ibpsa.org/proceedings/BS2009/BS09_0944_951.pdf ).

Further details can be found also in my dissertation "Daylight Glare in

Offices", which will be available in some days as pdf on our web-site.





Cheers,



Jan








________________________________






_______________________________________________

Radiance-general mailing list

Radiance-general@radiance-online.org<mailto:Radiance-general@radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general






--

Dr.-Ing. Jan Wienold

Project Manager

Fraunhofer-Institut f?r Solare Energiesysteme

Thermal Systems and Buildings, Lighting and Daylighting

Heidenhofstr. 2, 79110 Freiburg, Germany

Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133

jan.wienold@ise.fraunhofer.de<mailto:jan.wienold@ise.fraunhofer.de>

http://www.ise.fraunhofer.de



In office:

Mo,Tue: 8:30-18:00

We,Thu: 8:30-16:00

Fr:  8:30-15:30
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101011/29a0fda1/attachment-0001.html
From jan.wienold at ise.fraunhofer.de  Mon Oct 11 03:23:26 2010
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Mon Oct 11 03:22:51 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance
In-Reply-To: <FF2819A4F073884F9B73CA6DC27F21B4B671@REXM2.intranet.epfl.ch>
References: <FF2819A4F073884F9B73CA6DC27F21B4B24C@REXM2.intranet.epfl.ch>	<4CB2D641.7010004@ise.fraunhofer.de>
	<FF2819A4F073884F9B73CA6DC27F21B4B671@REXM2.intranet.epfl.ch>
Message-ID: <4CB2E59E.40505@ise.fraunhofer.de>

Hi Apiparn,

if you use the -i option, you need to measure the vertical illuminance
and you should do that as close to the lense as possible ! In that case,
evalglare will use the value provided by -i as vertical illuminance.

if you don't use the -i option and provide an image smaller than 180?,
then the vertical illuminance will be less than the real value and this
might have an significant influence, depending on the situation!

The detection of the glare sources and the calculation of the
contribution of the glare sources to the DGP are only  influenced minor
when you use a smaller view angle than 180?.

In case of DGI and UGR you don't need a 180? image. Be careful when
trying to evaluate these glare metrics  - especially that the parameters
for the detection of the glare sources fit  to your scenes and that this
fits also to the validity ranges of the equations! (e.g. DGI is only
defined for a window as glare source and the UGR is valid only for
medium sized solid angles of the artifical glare source). Always check
by using -c option, if the "correct" glare sources are detected, when
using other glare metric than DGP! The DGP is very robust concerning the
detection parameters since the main contribution comes from the vertical
eye illuminance (except you have the sun or a specular reflection of it
in the field of view).

Cheers,

Jan




Borisuit Apiparn wrote:
>
> Hi Jan,
>
>  
>
> Thanks a lot for your quick reply.
>
> If I use the --i option (~120? -with fisheye lens), will the vertical
> illuminance be much different with the image of 180? view?
>
> Moreover , for calculating DGI or UGR by Evalglare, we don't need the
> full 180? ?
>
>  
>
> Cheers,
>
> Apiparn Borisuit
>
>  
>
> EPFL ENAC ICARE LESO-PB
> LE  001 (B?timent LE)
> Station 18
> CH-1015 Lausanne
>
> T?l?phone   +4121 69 36265 <callto:+41216936265>
>
> Fax                +4121 69 32722
>
>  
>
> *From:* radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org] *On Behalf Of
> *Jan Wienold
> *Sent:* lundi, 11. octobre 2010 11:18
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] Evalglare - Luminance or Illuminance
>
>  
>
> Hi Apiparn,
>
> the main thing is, that for the DGP the vertical illuminance at eye
> level is needed. Evalglare calculates this value from the given image
> and needs therefore the full 180?!
>
> In case you are using a camera, which does not cover the full 180?,
> you can also measure the vertical illuminance and feed this
> illuminance value by using the -i option. In case you are using a
> non-fish-eye lens and evalglare is blocking another view than -vta, I
> could send you another version until the next release will be put
> online. Within the next release, all view types will be allowed.
>
> Cheers,
>
> Jan
>
>
> Borisuit Apiparn wrote:
>
> Hi Jan,
>
>  
>
> According to your previous reply about the needed view (180? fisheye --vta) for EVALGLARE, why can't we use 120? to 140?, due to the human field of view? 
> Sorry if it is a redundant question. I 'm just new in the list. 
>  
> Cheers,  
>
>  
>
> Apiparn
>
>  
>
>  
>
> Jan wrote:
>
>  
>
> Hi Andrew,
>  
> yes, evalglare needs a 180? fish-eye(-vta)- LUMINANCE image. Internally
> it calculates the vertical illuminance as Greg mentioned before.
>  
> A value of 0.4756 is a rather high value (-> 48% are disturbed by glare).
>  
> At the last building simulation conference, I suggested some "glare
> classes" based on user assessments, which may help to interpret the DGP
> values.
> (table 5 in http://www.ibpsa.org/proceedings/BS2009/BS09_0944_951.pdf ).
> Further details can be found also in my dissertation "Daylight Glare in
> Offices", which will be available in some days as pdf on our web-site.
>  
>  
> Cheers,
>  
> Jan
>
>  
>
>  
>
>  
> ------------------------------------------------------------------------
>
>
>   
>  
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org <mailto:Radiance-general@radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   
>
>
>
>
> -- 
> Dr.-Ing. Jan Wienold
> Project Manager
> Fraunhofer-Institut f?r Solare Energiesysteme
> Thermal Systems and Buildings, Lighting and Daylighting
> Heidenhofstr. 2, 79110 Freiburg, Germany
> Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
> jan.wienold@ise.fraunhofer.de <mailto:jan.wienold@ise.fraunhofer.de>
> http://www.ise.fraunhofer.de
>  
> In office: 
> Mo,Tue: 8:30-18:00
> We,Thu: 8:30-16:00
> Fr:  8:30-15:30
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
Dr.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101011/c5464041/attachment.htm
From apiparn.borisuit at epfl.ch  Mon Oct 11 03:28:28 2010
From: apiparn.borisuit at epfl.ch (Borisuit Apiparn)
Date: Mon Oct 11 03:28:21 2010
Subject: [Radiance-general] Evalglare - Luminance or Illuminance
In-Reply-To: <4CB2E59E.40505@ise.fraunhofer.de>
References: <FF2819A4F073884F9B73CA6DC27F21B4B24C@REXM2.intranet.epfl.ch>
	<4CB2D641.7010004@ise.fraunhofer.de>
	<FF2819A4F073884F9B73CA6DC27F21B4B671@REXM2.intranet.epfl.ch>
	<4CB2E59E.40505@ise.fraunhofer.de>
Message-ID: <FF2819A4F073884F9B73CA6DC27F21B4B69D@REXM2.intranet.epfl.ch>

Thank you very much, Jan.
It is very clear.

Cheers,
Apiparn Borisuit

EPFL ENAC ICARE LESO-PB
LE  001 (B?timent LE)
Station 18
CH-1015 Lausanne
T?l?phone   +4121 69 36265<callto:+41216936265>
Fax                +4121 69 32722

From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jan Wienold
Sent: lundi, 11. octobre 2010 12:23
To: Radiance general discussion
Subject: Re: [Radiance-general] Evalglare - Luminance or Illuminance

Hi Apiparn,

if you use the -i option, you need to measure the vertical illuminance and you should do that as close to the lense as possible ! In that case, evalglare will use the value provided by -i as vertical illuminance.

if you don't use the -i option and provide an image smaller than 180?, then the vertical illuminance will be less than the real value and this might have an significant influence, depending on the situation!

The detection of the glare sources and the calculation of the contribution of the glare sources to the DGP are only  influenced minor when you use a smaller view angle than 180?.

In case of DGI and UGR you don't need a 180? image. Be careful when trying to evaluate these glare metrics  - especially that the parameters for the detection of the glare sources fit  to your scenes and that this fits also to the validity ranges of the equations! (e.g. DGI is only defined for a window as glare source and the UGR is valid only for medium sized solid angles of the artifical glare source). Always check by using -c option, if the "correct" glare sources are detected, when using other glare metric than DGP! The DGP is very robust concerning the detection parameters since the main contribution comes from the vertical eye illuminance (except you have the sun or a specular reflection of it in the field of view).

Cheers,

Jan




Borisuit Apiparn wrote:
Hi Jan,

Thanks a lot for your quick reply.
If I use the -i option (~120? -with fisheye lens), will the vertical illuminance be much different with the image of 180? view?
Moreover , for calculating DGI or UGR by Evalglare, we don't need the full 180? ?

Cheers,
Apiparn Borisuit

EPFL ENAC ICARE LESO-PB
LE  001 (B?timent LE)
Station 18
CH-1015 Lausanne
T?l?phone   +4121 69 36265<callto:+41216936265>
Fax                +4121 69 32722

From: radiance-general-bounces@radiance-online.org<mailto:radiance-general-bounces@radiance-online.org> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jan Wienold
Sent: lundi, 11. octobre 2010 11:18
To: Radiance general discussion
Subject: Re: [Radiance-general] Evalglare - Luminance or Illuminance

Hi Apiparn,

the main thing is, that for the DGP the vertical illuminance at eye level is needed. Evalglare calculates this value from the given image and needs therefore the full 180?!

In case you are using a camera, which does not cover the full 180?, you can also measure the vertical illuminance and feed this illuminance value by using the -i option. In case you are using a non-fish-eye lens and evalglare is blocking another view than -vta, I could send you another version until the next release will be put online. Within the next release, all view types will be allowed.

Cheers,

Jan


Borisuit Apiparn wrote:
Hi Jan,


According to your previous reply about the needed view (180? fisheye -vta) for EVALGLARE, why can't we use 120? to 140?, due to the human field of view?

Sorry if it is a redundant question. I 'm just new in the list.



Cheers,

Apiparn



Jan wrote:


Hi Andrew,



yes, evalglare needs a 180? fish-eye(-vta)- LUMINANCE image. Internally

it calculates the vertical illuminance as Greg mentioned before.



A value of 0.4756 is a rather high value (-> 48% are disturbed by glare).



At the last building simulation conference, I suggested some "glare

classes" based on user assessments, which may help to interpret the DGP

values.

(table 5 in http://www.ibpsa.org/proceedings/BS2009/BS09_0944_951.pdf ).

Further details can be found also in my dissertation "Daylight Glare in

Offices", which will be available in some days as pdf on our web-site.





Cheers,



Jan










________________________________












_______________________________________________

Radiance-general mailing list

Radiance-general@radiance-online.org<mailto:Radiance-general@radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general







--

Dr.-Ing. Jan Wienold

Project Manager

Fraunhofer-Institut f?r Solare Energiesysteme

Thermal Systems and Buildings, Lighting and Daylighting

Heidenhofstr. 2, 79110 Freiburg, Germany

Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133

jan.wienold@ise.fraunhofer.de<mailto:jan.wienold@ise.fraunhofer.de>

http://www.ise.fraunhofer.de



In office:

Mo,Tue: 8:30-18:00

We,Thu: 8:30-16:00

Fr:  8:30-15:30






________________________________






_______________________________________________

Radiance-general mailing list

Radiance-general@radiance-online.org<mailto:Radiance-general@radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general






--

Dr.-Ing. Jan Wienold

Project Manager

Fraunhofer-Institut f?r Solare Energiesysteme

Thermal Systems and Buildings, Lighting and Daylighting

Heidenhofstr. 2, 79110 Freiburg, Germany

Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133

jan.wienold@ise.fraunhofer.de<mailto:jan.wienold@ise.fraunhofer.de>

http://www.ise.fraunhofer.de



In office:

Mo,Tue: 8:30-18:00

We,Thu: 8:30-16:00

Fr:  8:30-15:30
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101011/475e5a94/attachment-0001.html
From RFritz at lbl.gov  Tue Oct 12 17:46:49 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Tue Oct 12 17:46:58 2010
Subject: [Radiance-general] Ambient file corrupted?
Message-ID: <i92vhp$6mr$1@dough.gmane.org>

I'm seeing 'warning - ambient file "sens.amb" corrupted near character 
229' on rsensor runs.  Stock 4.0 Radiance, FreeBSD 7.3, AMD Operton.  
Do I need to worry about this?  Any idea what's causing it?

-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs



From gregoryjward at gmail.com  Tue Oct 12 17:54:10 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Oct 12 17:53:58 2010
Subject: [Radiance-general] Ambient file corrupted?
In-Reply-To: <i92vhp$6mr$1@dough.gmane.org>
References: <i92vhp$6mr$1@dough.gmane.org>
Message-ID: <04C8C97C-5CEE-4A39-8F6C-ED5DEC0488ED@lmi.net>

Yes, you should worry about it.  An ambient file can be corrupted by poor synchronization between processes that are sharing it.  If your file is corrupted at character 229, that's right near the beginning of the file, which means the whole thing is probably trashed and should be removed.

-Greg

> From: "Randolph M. Fritz" <RFritz@lbl.gov>
> Date: October 12, 2010 5:46:49 PM PDT
> 
> I'm seeing 'warning - ambient file "sens.amb" corrupted near character 229' on rsensor runs.  Stock 4.0 Radiance, FreeBSD 7.3, AMD Operton.  Do I need to worry about this?  Any idea what's causing it?
> 
> -- 
> Randolph M. Fritz ? RFritz@lbl.gov

From maricanis at gmail.com  Wed Oct 13 05:21:52 2010
From: maricanis at gmail.com (Marija Velickovic)
Date: Wed Oct 13 05:23:06 2010
Subject: [Radiance-general] Create image with rtrace -n option?
Message-ID: <AANLkTi=jj0dXdorKDW4TtiQQPdRH5JQEbDn8Xw2LTq6w@mail.gmail.com>

Hi,

I was experimenting with rtrace -n option and I would like to create
irradiance image of the building workplane for DF analysis.

As Greg mentioned on Workshop, rtrace -n doesn't work well with -x option,
because after every line values are flushed.
It means that output image would have lines-like patterns (because no
cashing between lines, for various rtrace processes).

So question is for Greg, but I think answer can be interesting for list
users:
Is there some other way to get proper image with rtrace running in multiple
processes.

For the moment I'm using command line like this:
rtrace *-n 4 *-ab 5 -ad 1024 -as 512 -aa 0.1 -av 0 0 0 -ar 300  -h+ -I+ -ov
-fac  *-x 1024 *-y 448  octree.oct < points.txt > image.hdr

and resulting image has lines-like artifacts.

Thanks in advance,
Marija.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101013/b42e8945/attachment.htm
From tbleicher at googlemail.com  Wed Oct 13 07:54:24 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed Oct 13 07:54:14 2010
Subject: [Radiance-general] Create image with rtrace -n option?
In-Reply-To: <AANLkTi=jj0dXdorKDW4TtiQQPdRH5JQEbDn8Xw2LTq6w@mail.gmail.com>
References: <AANLkTi=jj0dXdorKDW4TtiQQPdRH5JQEbDn8Xw2LTq6w@mail.gmail.com>
Message-ID: <AANLkTinCXNM6tmZ66aio6Hz09vSX_CMP5YJ+9N_6Aef0@mail.gmail.com>

Hi Marija.

I haven't tried this but you should be able to specify four separate
rtrace processes where each renders a subimage of your workplane.

If you want a perspective view you can use the "-vs" and "-vl"
options to get a continuous perspective.

Regards,
Thomas


On Wed, Oct 13, 2010 at 7:21 AM, Marija Velickovic <maricanis@gmail.com> wrote:
> Hi,
>
> I was experimenting with rtrace -n option and I would like to create
> irradiance image of the building workplane for DF analysis.
>
> As Greg mentioned on Workshop, rtrace -n doesn't work well with -x option,
> because after every line values are flushed.
> It means that output image would have lines-like patterns (because no
> cashing between lines, for various rtrace processes).
>
> So question is for Greg, but I think answer can be interesting for list
> users:
> Is there some other way to get proper image with rtrace running in multiple
> processes.
>
> For the moment I'm using command line like this:
> rtrace -n 4 -ab 5 -ad 1024 -as 512 -aa 0.1 -av 0 0 0 -ar 300? -h+ -I+ -ov
> -fac? -x 1024 -y 448? octree.oct < points.txt > image.hdr
>
> and resulting image has lines-like artifacts.
>
> Thanks in advance,
> Marija.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

From gregoryjward at gmail.com  Wed Oct 13 08:33:59 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Oct 13 08:33:51 2010
Subject: [Radiance-general] Create image with rtrace -n option?
In-Reply-To: <AANLkTi=jj0dXdorKDW4TtiQQPdRH5JQEbDn8Xw2LTq6w@mail.gmail.com>
References: <AANLkTi=jj0dXdorKDW4TtiQQPdRH5JQEbDn8Xw2LTq6w@mail.gmail.com>
Message-ID: <833D27FA-A79B-44CC-907C-4778AB2E193F@lmi.net>

Hi Marija,

In the latest HEAD, I have changed the behavior of rtrace so if -x is anything but 1 and -y is non-zero as well, ray flushing does not take place.  It was really a performance issue rather than an issue with artifacts, however.  You should get acceptable results with the 4.0 release.

I can only suppose that you are seeing lines in  your example because you are not sharing the irradiance cache between processes.  I recommend you add a -af option to do so.  Also, it may indicate that your -ad parameter needs to be a little larger.

I hope this helps.

Best,
-Greg

> From: Marija Velickovic <maricanis@gmail.com>
> Date: October 13, 2010 5:21:52 AM PDT
> 
> Hi,
> 
> I was experimenting with rtrace -n option and I would like to create irradiance image of the building workplane for DF analysis.
> 
> As Greg mentioned on Workshop, rtrace -n doesn't work well with -x option, because after every line values are flushed.
> It means that output image would have lines-like patterns (because no cashing between lines, for various rtrace processes).
> 
> So question is for Greg, but I think answer can be interesting for list users:
> Is there some other way to get proper image with rtrace running in multiple processes.
> 
> For the moment I'm using command line like this:
> rtrace -n 4 -ab 5 -ad 1024 -as 512 -aa 0.1 -av 0 0 0 -ar 300  -h+ -I+ -ov -fac  -x 1024 -y 448  octree.oct < points.txt > image.hdr
> 
> and resulting image has lines-like artifacts.
> 
> Thanks in advance,
> Marija.

From RFritz at lbl.gov  Wed Oct 13 10:09:10 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed Oct 13 10:09:17 2010
Subject: [Radiance-general] Re: Ambient file corrupted?
References: <i92vhp$6mr$1@dough.gmane.org>
	<04C8C97C-5CEE-4A39-8F6C-ED5DEC0488ED@lmi.net>
Message-ID: <i94p3m$i7r$1@dough.gmane.org>

Thanks, Greg.  Is there any way to debug this further?

Randolph

On 2010-10-12 17:54:10 -0700, Greg Ward said:

> Yes, you should worry about it.  An ambient file can be corrupted by 
> poor synchronization between processes that are sharing it.  If your 
> file is corrupted at character 229, that's right near the beginning of 
> the file, which means the whole thing is probably trashed and should be 
> removed.
> 
> -Greg
> 
>> From: "Randolph M. Fritz" <RFritz@lbl.gov>
>> Date: October 12, 2010 5:46:49 PM PDT
>> 
>> I'm seeing 'warning - ambient file "sens.amb" corrupted near character 
>> 229' on rsensor runs.  Stock 4.0 Radiance, FreeBSD 7.3, AMD Operton.  
>> Do I need to worry about this?  Any idea what's causing it?
>> 
>> -- 
>> Randolph M. Fritz ? RFritz@lbl.gov



From gregoryjward at gmail.com  Wed Oct 13 10:57:32 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Oct 13 10:57:22 2010
Subject: [Radiance-general] Re: Ambient file corrupted?
In-Reply-To: <i94p3m$i7r$1@dough.gmane.org>
References: <i92vhp$6mr$1@dough.gmane.org>
	<04C8C97C-5CEE-4A39-8F6C-ED5DEC0488ED@lmi.net>
	<i94p3m$i7r$1@dough.gmane.org>
Message-ID: <9A13BC91-7105-4696-AD4A-59C2336F457D@lmi.net>

Hi Randolph,

You can look at what's in the corrupted file using the lookamb utility.  You really need to figure out what corrupted it, though, which means repeating the operations/runs you did on this file and seeing if it happens again.

-Greg

> From: "Randolph M. Fritz" <RFritz@lbl.gov>
> Date: October 13, 2010 10:09:10 AM PDT
> 
> Thanks, Greg.  Is there any way to debug this further?
> 
> Randolph
> 
> On 2010-10-12 17:54:10 -0700, Greg Ward said:
> 
>> Yes, you should worry about it.  An ambient file can be corrupted by poor synchronization between processes that are sharing it.  If your file is corrupted at character 229, that's right near the beginning of the file, which means the whole thing is probably trashed and should be removed.
>> -Greg
>>> From: "Randolph M. Fritz" <RFritz@lbl.gov>
>>> Date: October 12, 2010 5:46:49 PM PDT
>>> I'm seeing 'warning - ambient file "sens.amb" corrupted near character 229' on rsensor runs.  Stock 4.0 Radiance, FreeBSD 7.3, AMD Operton.  Do I need to worry about this?  Any idea what's causing it?
>>> -- 
>>> Randolph M. Fritz ? RFritz@lbl.gov

From RFritz at lbl.gov  Wed Oct 13 16:49:14 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed Oct 13 16:49:16 2010
Subject: [Radiance-general] Re: Ambient file corrupted?
References: <i92vhp$6mr$1@dough.gmane.org>
	<04C8C97C-5CEE-4A39-8F6C-ED5DEC0488ED@lmi.net>
	<i94p3m$i7r$1@dough.gmane.org>
	<9A13BC91-7105-4696-AD4A-59C2336F457D@lmi.net>
Message-ID: <i95ghq$ri4$1@dough.gmane.org>

Thanks; that makes sense.  The problem seems to occur consistently with 
rsensor.  Is rsensor just not supposed to use ambient files?  Or would 
you like me to look further?

Randolph

On 2010-10-13 10:57:32 -0700, Greg Ward said:

> Hi Randolph,
> 
> You can look at what's in the corrupted file using the lookamb utility. 
>  You really need to figure out what corrupted it, though, which means 
> repeating the operations/runs you did on this file and seeing if it 
> happens again.
> 
> -Greg
> 
>> From: "Randolph M. Fritz" <RFritz@lbl.gov>
>> Date: October 13, 2010 10:09:10 AM PDT
>> 
>> Thanks, Greg.  Is there any way to debug this further?
>> 
>> Randolph
>> 
>> On 2010-10-12 17:54:10 -0700, Greg Ward said:
>> 
>>> Yes, you should worry about it.  An ambient file can be corrupted by 
>>> poor synchronization between processes that are sharing it.  If your 
>>> file is corrupted at character 229, that's right near the beginning of 
>>> the file, which means the whole thing is probably trashed and should be 
>>> removed.
>>> -Greg
>>>> From: "Randolph M. Fritz" <RFritz@lbl.gov>
>>>> Date: October 12, 2010 5:46:49 PM PDT
>>>> I'm seeing 'warning - ambient file "sens.amb" corrupted near character 
>>>> 229' on rsensor runs.  Stock 4.0 Radiance, FreeBSD 7.3, AMD Operton.  
>>>> Do I need to worry about this?  Any idea what's causing it?
>>>> --
>>>> Randolph M. Fritz ? RFritz@lbl.gov


-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs



From RFritz at lbl.gov  Thu Oct 14 11:46:25 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Thu Oct 14 11:46:34 2010
Subject: [Radiance-general] Radiance/FreeBSD ambient bug found and fixed
Message-ID: <i97j61$h6a$1@dough.gmane.org>

According to Greg, there is

> a long-standing bug in the ambient file synchronization, which for some 
> odd reason only shows up under FreeBSD. ?The fixed version of 
> ray/src/rt/ambient.c is now checked into HEAD, and is recommended for 
> anyone running Radiance and using ambient files under FreeBSD.

The fix is in today's CVS snapshot.  It might also be of value to 
non-BSD users who have been seeing intermittent ambient file corruption.
-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs



From defuller at lbl.gov  Thu Oct 14 13:11:26 2010
From: defuller at lbl.gov (Daniel Fuller)
Date: Thu Oct 14 13:11:16 2010
Subject: [Radiance-general] Radiance/FreeBSD ambient bug found and fixed
In-Reply-To: <i97j61$h6a$1@dough.gmane.org>
References: <i97j61$h6a$1@dough.gmane.org>
Message-ID: <AANLkTimLWtet4MBK_U73ez3BVh4j8o7F7_BXafc80MTR@mail.gmail.com>

Hi Randolph - I updated the ambient.c file in /usr/local/ray/src/rt/
and re-ran rmake in that same directory.

The previous ambient.c got renamed to ambient.c- and affected rpict
rtrace and rview binaries got replaced with the previous ones in
/usr/local/ray/bin/previous

perhaps you could test...

-Dan

On Thu, Oct 14, 2010 at 11:46 AM, Randolph M. Fritz <RFritz@lbl.gov> wrote:
> According to Greg, there is
>
>> a long-standing bug in the ambient file synchronization, which for some
>> odd reason only shows up under FreeBSD. ?The fixed version of
>> ray/src/rt/ambient.c is now checked into HEAD, and is recommended for anyone
>> running Radiance and using ambient files under FreeBSD.
>
> The fix is in today's CVS snapshot. ?It might also be of value to non-BSD
> users who have been seeing intermittent ambient file corruption.
> --
> Randolph M. Fritz ? RFritz@lbl.gov
> Environmental Energy Technologies Division ? Lawrence Berkeley Labs
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

From cbm at create.aau.dk  Thu Oct 14 13:17:07 2010
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu Oct 14 13:27:48 2010
Subject: [Radiance-general] Problems compiling 
Message-ID: <E35477F1A321144D897D44CCAAFF202C091D9501F2@AD-MAILBOX01.aau.dk>



Dear list,

I downloaded rad4R0all, unzipped and untar'ed, then ran makeall install (on a Windows 7 machine with Cygwin installed).

I got a lot of error messages (below the first dozens of lines of a redirect of stderr to a textfile). Any chance of an easy fix? :)

Best
Claus


================================== stderr =============================================

ezxml.c: In function 'ezxml_parse_fd':

ezxml.c:643: error: 'MADV_SEQUENTIAL' undeclared (first use in this function)

ezxml.c:643: error: (Each undeclared identifier is reported only once

ezxml.c:643: error: for each function it appears in.)

ezxml.c:645: error: 'MADV_NORMAL' undeclared (first use in this function)

make: *** [ezxml.o] Error 1

make: Target `install' not remade because of errors.

persist.c:42: error: conflicting types for 'sighandler_t'
/usr/include/signal.h:11: error: previous declaration of 'sighandler_t' was here

make: *** [persist.o] Error 1

rpict.c: In function 'rpict':

rpict.c:280: warning: call to 'mktemp' declared with attribute warning: the use of `mktemp' is dangerous; use `mkstemp' instead

/usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad

collect2: ld returned 1 exit status

make: *** [rvu] Error 1

/usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad

collect2: ld returned 1 exit status

make: *** [lookamb] Error 1

make: Target `install' not remade because of errors.

/usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad

collect2: ld returned 1 exit status

make: *** [meta2tga] Error 1

/usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad

collect2: ld returned 1 exit status

make: *** [pexpand] Error 1

/usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad

collect2: ld returned 1 exit status

make: *** [psort] Error 1

/usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad

collect2: ld returned 1 exit status

make: *** [cv] Error 1

/usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad

collect2: ld returned 1 exit status
lrtrad
collect2: ld returned 1 exit status

make: *** [tabfunc] Error 1

make: Target `install' not remade because of errors.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101014/e0f4cd13/attachment.html
From amcneil at lbl.gov  Tue Oct 19 11:09:19 2010
From: amcneil at lbl.gov (Andy McNeil)
Date: Tue Oct 19 11:09:55 2010
Subject: [Radiance-general] Tutorial - Three phase method
Message-ID: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>

Hi Everyone,

For those that are interested in using the new Radiance tools to perform annual simulations for complex or dynamic fenestration systems, I've prepared a tutorial.  For now it's hosted on a google site:  
https://sites.google.com/a/lbl.gov/andy-radiance/

Comments are welcome (of course).

Best,
Andy



From ltbrugman70 at hotmail.com  Tue Oct 19 11:15:50 2010
From: ltbrugman70 at hotmail.com (M. B.)
Date: Tue Oct 19 11:15:39 2010
Subject: [Radiance-general] Tutorial - Three phase method
In-Reply-To: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
References: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
Message-ID: <BAY125-W178BCCFC0E92F81427C64AB05B0@phx.gbl>


Thanks Andy!

Matthew Brugman





> From: amcneil@lbl.gov
> Date: Tue, 19 Oct 2010 11:09:19 -0700
> To: radiance-general@radiance-online.org
> Subject: [Radiance-general] Tutorial - Three phase method
> 
> Hi Everyone,
> 
> For those that are interested in using the new Radiance tools to perform annual simulations for complex or dynamic fenestration systems, I've prepared a tutorial.  For now it's hosted on a google site:  
> https://sites.google.com/a/lbl.gov/andy-radiance/
> 
> Comments are welcome (of course).
> 
> Best,
> Andy
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101019/3f1584af/attachment.htm
From chris at coolshadow.com  Tue Oct 19 11:37:11 2010
From: chris at coolshadow.com (Chris Humann)
Date: Tue Oct 19 11:37:07 2010
Subject: [Radiance-general] Pcomb color assignments
In-Reply-To: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
References: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
Message-ID: <C0649FEB-E90A-4949-9149-384570C32804@coolshadow.com>

Hello all,

I found this handy script of Gregs on the archives for mapping a  
single color to a defined range of values in an image:
	pcomb -e 'incontr=eq(we*li(1),16.5,0.25)' \
		-e 'ro=if(incontr,0,ri(1)' \
		-e 'go=if(incontr,1,gi(1)' \
		-e 'bo=if(incontr,0,bi(1)' \
		-e 'and(a,b):if(a,b,a)' \
		-e 'eq(a,b,eps):and(a-b+eps,b-a+eps)' \
		-o input.pic > contoured.pic

Is anyone versed in these function calls to know how to modify this  
script so as to define three ranges of values and assign one of three  
colors to each?

As always, thanks!

Chris


Christian Humann ~ Associate
LOISOS + UBBELOHDE
- - - - - - - - - - - - - - - - - - - - - - - - - - -
1917 Clement Avenue  Building 10A
Alameda, CA  94501 USA
- - - - - - - - - - - - - - - - - - - - - - - - - - -
510 521 3800 VOICE
510 521 3820 FAX
- - - - - - - - - - - - - - - - - - - - - - - - - - -
www.coolshadow.com



On Oct 19, 2010, at 11:09 AM, Andy McNeil wrote:

> Hi Everyone,
>
> For those that are interested in using the new Radiance tools to  
> perform annual simulations for complex or dynamic fenestration  
> systems, I've prepared a tutorial.  For now it's hosted on a google  
> site:
> https://sites.google.com/a/lbl.gov/andy-radiance/
>
> Comments are welcome (of course).
>
> Best,
> Andy
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101019/04aae77a/attachment.html
From jedev at visarc.com  Tue Oct 19 11:39:12 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Oct 19 11:39:05 2010
Subject: [Radiance-general] Tutorial - Three phase method
In-Reply-To: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
References: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
Message-ID: <4CBDE5D0.6010704@visarc.com>

  Hey Andy,

This is great. Many thanks!

Best,

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 10/19/2010 2:09 PM, Andy McNeil wrote:
> Hi Everyone,
>
> For those that are interested in using the new Radiance tools to perform annual simulations for complex or dynamic fenestration systems, I've prepared a tutorial.  For now it's hosted on a google site:
> https://sites.google.com/a/lbl.gov/andy-radiance/
>
> Comments are welcome (of course).
>
> Best,
> Andy
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From gregoryjward at gmail.com  Tue Oct 19 12:04:00 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Oct 19 12:03:54 2010
Subject: [Radiance-general] Re: Pcomb color assignments
In-Reply-To: <C0649FEB-E90A-4949-9149-384570C32804@coolshadow.com>
References: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
	<C0649FEB-E90A-4949-9149-384570C32804@coolshadow.com>
Message-ID: <67A2B17E-61EE-48CE-92CF-529263ED4A56@lmi.net>

Hi Chris,

Try:

	pcomb -e 'reds(i)=select(i+1,ri(1),0.1,0.5,0.7);greens(i)=select(i+1,gi(1),0.3,0.9,0.1);blues(i)=select(i+1,bi(1),0.9,0.1,0.3)' \
		-e 'vals(i)=select(i,1000,2000,3000);eps:200' \
		-e 'and(a,b):if(a,b,a);eq(a,b):and(a-b+eps,b-a+eps)' \
		-e 'match(v,av,n)=if(n-.5,if(eq(v,av(n)),n,match(v,av,n-1)),0)' \
		-e 'index=match(WE*li(1),vals,vals(0))' \
		-e 'ro=reds(index);go=greens(index);bo=blues(index)' -o input.hdr > output.hdr

Naturally, you'll want to change reds(), greens(), and blues() along with vals() and eps to suit your image and preferences.

-Greg


> From: Chris Humann <chris@coolshadow.com>
> Date: October 19, 2010 11:37:11 AM PDT
> 
> Hello all,
> 
> I found this handy script of Gregs on the archives for mapping a single color to a defined range of values in an image:
> 	pcomb -e 'incontr=eq(we*li(1),16.5,0.25)' \
> 		-e 'ro=if(incontr,0,ri(1)' \
> 		-e 'go=if(incontr,1,gi(1)' \
> 		-e 'bo=if(incontr,0,bi(1)' \
> 		-e 'and(a,b):if(a,b,a)' \
> 		-e 'eq(a,b,eps):and(a-b+eps,b-a+eps)' \
> 		-o input.pic > contoured.pic
> 
> Is anyone versed in these function calls to know how to modify this script so as to define three ranges of values and assign one of three colors to each?
> 
> As always, thanks!
> 
> Chris

From reinhart at gsd.harvard.edu  Tue Oct 19 18:31:28 2010
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Tue Oct 19 18:31:37 2010
Subject: [Radiance-general] Tutorial - Three phase method
In-Reply-To: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
References: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF07F27C1C@ENTWEXMB0000000.university.harvard.edu>

Excellent Andy. I will build a lecture around this tutorial in my
daylighting class in the Spring.

Christoph

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Andy
McNeil
Sent: Tuesday, October 19, 2010 2:09 PM
To: Radiance general discussion
Subject: [Radiance-general] Tutorial - Three phase method

Hi Everyone,

For those that are interested in using the new Radiance tools to perform
annual simulations for complex or dynamic fenestration systems, I've
prepared a tutorial.  For now it's hosted on a google site:  
https://sites.google.com/a/lbl.gov/andy-radiance/

Comments are welcome (of course).

Best,
Andy



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From apian at pab-opto.de  Tue Oct 19 21:56:53 2010
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Tue Oct 19 22:00:51 2010
Subject: [Radiance-general] BRTF measurements & some thoughts
Message-ID: <201010200500.o9K50x3S014561@mta2.lbl.gov>

Hi all,

since the Radiance 2010 workshop CD, in which it was planned to be 
added, seems still in the making, and in light of Andy McNeil's nicely 
done and informative three-phase tutorial, it might be worthwhile to 
mention that the workshop talk on 
bidirectional-reflection-transmission-data (BRTF, BSDF, BTDF, etc) 
basics, measurement and modelling had already been put at 
http://www.pab-opto.de/radiance/pab-brtf-talk.web.pdf . It gives some 
compact summary from solid angle to BRTF, some basics on measurements 
and some thoughts based on previous experience with Radiance BRTF models.

For those who are primarily concerned about how to get measured BRTF 
into Radiance at all, LBL's newly introduced, matrix based approach is 
certainly a big step forward, that is vital to handle measured BRTF + 
Radiance in a general, project oriented, way.

For folks who endeavour to explore the BRTF world closer, and without 
going into too much detail here, there still seems good reason to 
consider a matrix based approach as not quite optimal for many of the 
most interesting materials. For the entertainment of the curious, 
reasons are given in the last 10 pages or so of the talk. Funny bit to 
mention: Both views are based on the same data generating measurement 
gonio-photometer (http://www.brtf.info/?d=/gonio-photometer).
Whether or not this will influence any further and/or additional ways of 
getting BRTF data into the Radiance simulation program in an adaptive 
and sleek way, with less  steps on the user-side, is to be seen. 
Technically, there are one or two fairly major programming tweaks to 
this, and both are inside the current rendering core code.

happy rendering,
feedback appreciated

Peter

PS: cross-posted to radiance-dev, in case of further technical threads

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]


From hope.zh at gmail.com  Wed Oct 20 06:06:11 2010
From: hope.zh at gmail.com (Ji Zhang)
Date: Wed Oct 20 06:06:00 2010
Subject: [Radiance-general] why sensor inside a closed box still got
	irradiance reading?
Message-ID: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>

Dear Radiance Experts,

I found that the sensor located at the center of a simple closed box still
got irradiance reading, though very small.


The enviornment file used is:
!gensky 6 20 +15.0  -a 1.0 -o 103.0 -m 105 -c -b 22.8600006104 -g
0.20000000298
skyfunc glow sky_glow
0 0 4 1.0 1.0 1.0 0
sky_glow source sky
0 0 4 0 0 1 180
skyfunc glow ground_glow
0 0 4 1.0 1.0 1.0 0
ground_glow source ground
0 0 4 0 0 -1 180


The rtrace command used is:
rtrace -I -aa 0.15 -ab 5 -ad 2048 -ar 128 -as 256 -h -w -oov -u- scene.oct <
sensors.txt > results_ir_RGB.txt


There should be no radiation falling on a point inside a closed space,
right?

can you help to advize me why Radiance still produce non-zero results in
this situation?


Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101020/ceb53e80/attachment.htm
From tbleicher at googlemail.com  Wed Oct 20 07:04:29 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed Oct 20 07:05:25 2010
Subject: [Radiance-general] why sensor inside a closed box still got
	irradiance reading?
In-Reply-To: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>
References: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>
Message-ID: <AANLkTi=zeYGNK=qeVhZzZb9epYe-x99szbZdER9G-yit@mail.gmail.com>

Hello Ji.

On Wed, Oct 20, 2010 at 8:06 AM, Ji Zhang <hope.zh@gmail.com> wrote:
> Dear Radiance Experts,
>
> I found that the sensor located at the center of a simple closed box still
> got irradiance reading, though very small.
>
[...]
>
> The rtrace command used is:
> rtrace -I -aa 0.15 -ab 5 -ad 2048 -ar 128 -as 256 -h -w -oov -u- scene.oct <
> sensors.txt > results_ir_RGB.txt

I'm wondering why you use '-ab 5' if the box is closed and has no
openings. But if you can spare the time for the calculation there is
no harm in it.

> There should be no radiation falling on a point inside a closed space,
> right?

Right. But the box is only a geometrical box and not a physical one.
If your box has only a single polygon layer as "wall" then you might
see the result of interpolation along the edges here. Try to enclose
your box in another larger box and do your tests again.

When you model a real test scene try to model the inside and outside
of a wall separately. That should avoid errors due to interpolation in
your results.

Regards,
Thomas

From gregoryjward at gmail.com  Wed Oct 20 09:41:04 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Oct 20 09:42:31 2010
Subject: [Radiance-general] why sensor inside a closed box still got
	irradiance reading?
In-Reply-To: <AANLkTi=zeYGNK=qeVhZzZb9epYe-x99szbZdER9G-yit@mail.gmail.com>
References: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>
	<AANLkTi=zeYGNK=qeVhZzZb9epYe-x99szbZdER9G-yit@mail.gmail.com>
Message-ID: <48117FB3-8A0A-4C1C-9A15-F3CF9BB2419D@lmi.net>

Hi Ji,

Thomas is essentially correct.  The lack of thickness to your walls means that the occasional ray can "escape" out the corners of your box, permitting light to leak in during your calculation.  Using a sphere rather than a box, you'll find your value goes to zero.  Or, adding a second box to enclose your first one also fixes the problem.

These kinds of errors are inherent to floating point calculations, and people have written entire Ph.D. theses addressing the problem.

Best,
-Greg

> From: Thomas Bleicher <tbleicher@googlemail.com>
> Date: October 20, 2010 7:04:29 AM PDT
> 
> Hello Ji.
> 
> On Wed, Oct 20, 2010 at 8:06 AM, Ji Zhang <hope.zh@gmail.com> wrote:
>> Dear Radiance Experts,
>> 
>> I found that the sensor located at the center of a simple closed box still
>> got irradiance reading, though very small.
>> 
> [...]
>> 
>> The rtrace command used is:
>> rtrace -I -aa 0.15 -ab 5 -ad 2048 -ar 128 -as 256 -h -w -oov -u- scene.oct <
>> sensors.txt > results_ir_RGB.txt
> 
> I'm wondering why you use '-ab 5' if the box is closed and has no
> openings. But if you can spare the time for the calculation there is
> no harm in it.
> 
>> There should be no radiation falling on a point inside a closed space,
>> right?
> 
> Right. But the box is only a geometrical box and not a physical one.
> If your box has only a single polygon layer as "wall" then you might
> see the result of interpolation along the edges here. Try to enclose
> your box in another larger box and do your tests again.
> 
> When you model a real test scene try to model the inside and outside
> of a wall separately. That should avoid errors due to interpolation in
> your results.
> 
> Regards,
> Thomas

From RFritz at lbl.gov  Wed Oct 20 10:09:04 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed Oct 20 10:09:09 2010
Subject: [Radiance-general] Re: why sensor inside a closed box still got
	irradiance reading?
References: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>
	<AANLkTi=zeYGNK=qeVhZzZb9epYe-x99szbZdER9G-yit@mail.gmail.com>
	<48117FB3-8A0A-4C1C-9A15-F3CF9BB2419D@lmi.net>
Message-ID: <i9n7ng$7eg$1@dough.gmane.org>

On 2010-10-20 09:41:04 -0700, Greg Ward said:

> Thomas is essentially correct.  The lack of thickness to your walls 
> means that the occasional ray can "escape" out the corners of your box, 
> permitting light to leak in during your calculation.  Using a sphere 
> rather than a box, you'll find your value goes to zero.  Or, adding a 
> second box to enclose your first one also fixes the problem.

Does this imply that best practice in general, if one is measuring 
levels and perhaps even in general, is to give walls actual thickness?  
I've been chasing rsensor problems lately, and I wonder if that would 
help.

-- 
Randolph M. Fritz ? RFritz@lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs



From gregoryjward at gmail.com  Wed Oct 20 10:13:07 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Oct 20 10:12:57 2010
Subject: [Radiance-general] Re: why sensor inside a closed box still got
	irradiance reading?
In-Reply-To: <i9n7ng$7eg$1@dough.gmane.org>
References: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>
	<AANLkTi=zeYGNK=qeVhZzZb9epYe-x99szbZdER9G-yit@mail.gmail.com>
	<48117FB3-8A0A-4C1C-9A15-F3CF9BB2419D@lmi.net>
	<i9n7ng$7eg$1@dough.gmane.org>
Message-ID: <E05E6F47-77BF-4331-8ACB-8634D142BAAF@lmi.net>

Yes, walls should have thickness.  They do in real life, and it definitely helps avoid light leaks of all sorts.

-Greg

> From: "Randolph M. Fritz" <RFritz@lbl.gov>
> Date: October 20, 2010 10:09:04 AM PDT
> 
> On 2010-10-20 09:41:04 -0700, Greg Ward said:
> 
>> Thomas is essentially correct.  The lack of thickness to your walls means that the occasional ray can "escape" out the corners of your box, permitting light to leak in during your calculation.  Using a sphere rather than a box, you'll find your value goes to zero.  Or, adding a second box to enclose your first one also fixes the problem.
> 
> Does this imply that best practice in general, if one is measuring levels and perhaps even in general, is to give walls actual thickness?  I've been chasing rsensor problems lately, and I wonder if that would help.

From RFritz at lbl.gov  Wed Oct 20 11:21:30 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed Oct 20 11:21:36 2010
Subject: [Radiance-general] Re: why sensor inside a closed box still got
	irradiance reading?
References: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>
	<i9n7ng$7eg$1@dough.gmane.org>
	<E05E6F47-77BF-4331-8ACB-8634D142BAAF@lmi.net>
Message-ID: <i9nbva$tmv$1@dough.gmane.org>

On 2010-10-20 10:13:07 -0700, Greg Ward said:

> Yes, walls should have thickness.  They do in real life, and it 
> definitely helps avoid light leaks of all sorts.

Whoa, back to the drawing board, or at least the modeling program.  Oh, 
well.  Prof. Ganter at UW has a really-doesn't-like-surface-models 
rant, and every now & again I find myself thinking he has a point.

Randolph



From eslee at lbl.gov  Wed Oct 20 13:30:54 2010
From: eslee at lbl.gov (Eleanor Lee)
Date: Wed Oct 20 13:30:46 2010
Subject: [Radiance-general] Tutorial - Three phase method
In-Reply-To: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
References: <5061FD96-3F8A-4A3C-9259-1F5CF88F5462@lbl.gov>
Message-ID: <C562617F-FBA6-4584-82D2-BB4D1AEB71F5@lbl.gov>

this looks great andy. 
where does this stuff end up?  
does any of this go over bsdf resolution issues -- would like to retain that material if possible for future paper...
you should reference iesna paper/ leukos paper and maybe any other relevant papers (but preferably not HMG's paper ACEEE or IBPSA papers).  
el.


On Oct 19, 2010, at 11:09 AM, Andy McNeil wrote:

> Hi Everyone,
> 
> For those that are interested in using the new Radiance tools to perform annual simulations for complex or dynamic fenestration systems, I've prepared a tutorial.  For now it's hosted on a google site:  
> https://sites.google.com/a/lbl.gov/andy-radiance/
> 
> Comments are welcome (of course).
> 
> Best,
> Andy
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From njlander at yahoo.com.au  Wed Oct 20 23:02:55 2010
From: njlander at yahoo.com.au (Nicholas Lander)
Date: Wed Oct 20 23:02:46 2010
Subject: [Radiance-general] RwR book availability (again)
Message-ID: <319716.27592.qm@web111501.mail.gq1.yahoo.com>

Hi all,
Any news on the availability of RwR yet? I see the archives show that Greg was 
thinking of releasing the PDFs in the summer (not ideal for the authors, I 
know). I have a new graduate in a different office and I would like to get a 
copy to her and I need mine myself!

Actually, at the risk of being cheeky, any chance of rewriting the section on 
trans?

Thanks
Nick


      

From gregoryjward at gmail.com  Thu Oct 21 08:38:19 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Oct 21 08:38:15 2010
Subject: [Radiance-general] RwR book availability (again)
In-Reply-To: <319716.27592.qm@web111501.mail.gq1.yahoo.com>
References: <319716.27592.qm@web111501.mail.gq1.yahoo.com>
Message-ID: <2D9917A9-7064-4DF7-8A40-4FAFA02FFA33@lmi.net>

Hi Nick,

Randolph Fritz is looking into an on-demand printer and is making some headway.

Little hope of rewriting sections due to the lack of source materials.  We have only the PDF the publisher gave back to us -- the source was put together by the editors using Frame, and the files were lost at some point.

Cheers,
-Greg

> From: Nicholas Lander <njlander@yahoo.com.au>
> Date: October 20, 2010 11:02:55 PM PDT
> 
> Hi all,
> Any news on the availability of RwR yet? I see the archives show that Greg was 
> thinking of releasing the PDFs in the summer (not ideal for the authors, I 
> know). I have a new graduate in a different office and I would like to get a 
> copy to her and I need mine myself!
> 
> Actually, at the risk of being cheeky, any chance of rewriting the section on 
> trans?
> 
> Thanks
> Nick

From grobe at gmx.net  Thu Oct 21 11:53:57 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Oct 21 11:53:50 2010
Subject: [Radiance-general] BRTF measurements & some thoughts
In-Reply-To: <201010200500.o9K50x3S014561@mta2.lbl.gov>
References: <201010200500.o9K50x3S014561@mta2.lbl.gov>
Message-ID: <4CC08C45.8040503@gmx.net>

> since the Radiance 2010 workshop CD, in which it was planned to be
> added, seems still in the making, and in light of Andy McNeil's nicely
> done and informative three-phase tutorial, it might be worthwhile to
> mention that the workshop talk on
> bidirectional-reflection-transmission-data (BRTF, BSDF, BTDF, etc)
> basics, measurement and modelling had already been put at
> http://www.pab-opto.de/radiance/pab-brtf-talk.web.pdf . It gives some
> compact summary from solid angle to BRTF, some basics on measurements
> and some thoughts based on previous experience with Radiance BRTF models.

Hi Peter, hi list...

First - thank you for putting your presentation online! I felt it was 
certainly one of the great moments of the workshop. Radiance (or lets 
say Greg) has done a lot of progress in supporting certain applications 
by adding the matrix-based toolchain. Still, fast progress usually needs 
a critical review. And that is where you stepped in on the workshop - it 
is really important that people know what it means to reduce angular 
resolution, where it is useful and where it has to fail. As well as to 
understand the limitations of other approaches, such as functional 
descriptions, in Radiance's current implementation. I somehow feel that 
such a discussion on the limitations and implications of the approach 
may be even a valueable addition to the (great!) tutorial Andy wrote for us.

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20101021/5e016fe4/smime.bin
From cbm at create.aau.dk  Thu Oct 21 12:04:22 2010
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu Oct 21 12:03:17 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
Message-ID: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk>

Skipped content of type multipart/related-------------- next part --------------
A non-text attachment was scrubbed...
Name: =?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen.vcf?=
Type: text/x-vcard
Size: 6218 bytes
Desc: =?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen.vcf?=
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20101021/53bb57b1/iso-8859-1QClaus_BrF8ndgaard_Madsen-0001.vcf
From amcneil at lbl.gov  Thu Oct 21 12:50:29 2010
From: amcneil at lbl.gov (Andy McNeil)
Date: Thu Oct 21 12:50:24 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk>
Message-ID: <09089BEE-74FA-4DBD-8921-9DA9D7D01C90@lbl.gov>

Hi Claus,

The errors for ezxml are preventing librtrad.a from being made.  Missing librtrad causes all the subsequent errors (ld missing -lrtrad).  

The part of ezxml_parse_fd that uses MADV_SEQUENTIAL is supposed to be left out when compiled on CYGWIN.

From ezxml.h:
/* disable MMAP on CYGWIN, seems to cause problems... */
#ifdef CYGWIN
#define EZXML_NOMMAP
#endif
I'd suggest changing those lines in ezxml.h to:
/* disable MMAP on CYGWIN, seems to cause problems... */
#define EZXML_NOMMAP
So that EZXML_NOMMAP is defined.  ezxml.h can be found in ray/src/common/

I can't test this myself, so no promises that it'll work.

Andy






On Oct 21, 2010, at 12:04 PM, Claus Br?ndgaard Madsen wrote:

>  
>  
>  
> Dear RADIANCE list,
>  
> It is not nice to re-post a list post, but I am desperate and got no response the first time around. Can anyone spot a potential reason that I have run into problems with compiling RADIANCE:
>  
>  
>  
> I downloaded rad4R0all, unzipped and untar?ed, then ran makeall install (on a Windows 7 machine with Cygwin installed).
>  
> I got a lot of error messages (below the first dozens of lines of a redirect of stderr to a textfile). Any chance of an easy fix? J
>  
> Best
> Claus
>  
>  
> ================================== stderr =============================================
>  
> ezxml.c: In function ?ezxml_parse_fd?:
>  
> ezxml.c:643: error: ?MADV_SEQUENTIAL? undeclared (first use in this function)
>  
> ezxml.c:643: error: (Each undeclared identifier is reported only once
>  
> ezxml.c:643: error: for each function it appears in.)
>  
> ezxml.c:645: error: ?MADV_NORMAL? undeclared (first use in this function)
>  
> make: *** [ezxml.o] Error 1
>  
> make: Target `install' not remade because of errors.
>  
> persist.c:42: error: conflicting types for ?sighandler_t?
> /usr/include/signal.h:11: error: previous declaration of ?sighandler_t? was here
>  
> make: *** [persist.o] Error 1
>  
> rpict.c: In function ?rpict?:
>  
> rpict.c:280: warning: call to ?mktemp? declared with attribute warning: the use of `mktemp' is dangerous; use `mkstemp' instead
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [rvu] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [lookamb] Error 1
>  
> make: Target `install' not remade because of errors.
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [meta2tga] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [pexpand] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [psort] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [cv] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
> lrtrad
> collect2: ld returned 1 exit status
>  
> make: *** [tabfunc] Error 1
>  
> make: Target `install' not remade because of errors.
>  
>  
> <image001.jpg>
>  
> <Claus Br?ndgaard Madsen.vcf>_______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101021/e0617ca0/attachment-0001.html
From tbleicher at googlemail.com  Thu Oct 21 12:52:09 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu Oct 21 12:51:59 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk>
Message-ID: <AANLkTik_Kub2pjKk5i5fE_QXMhdJeESvLL1OHF1Led7N@mail.gmail.com>

Hi Claus

You can find the same error report for the 3R9 release here:

http://www.radiance-online.org/pipermail/radiance-dev/2008-June/000870.html

Grep posted a solution back then as a reply to the email which is also in
the archive:

Try adding "-DEZXML_NOMMAP" to the rmake script and rerunning
"makeall install" in the main directory or "rmake install" in the src/
gen directory.  Th ezxml.c module is new with this release and was
provided by a third party, so I'm not well familiar with its
portability issues.  So far, it seems quite robust.


Cygwin is not very popular since precompiled MinGW binaries are available or
the Cygwin users a quiet bunch here on the list.


Regards,
Thomas

2010/10/21 Claus Br?ndgaard Madsen <cbm@create.aau.dk>

>
>
>
>
>
>
> Dear RADIANCE list,
>
>
>
> It is not nice to re-post a list post, but I am desperate and got no
> response the first time around. Can anyone spot a potential reason that I
> have run into problems with compiling RADIANCE:
>
>
>
>
>
>
>
> I downloaded rad4R0all, unzipped and untar?ed, then ran makeall install (on
> a Windows 7 machine with Cygwin installed).
>
>
>
> I got a lot of error messages (below the first dozens of lines of a
> redirect of stderr to a textfile). Any chance of an easy fix? J
>
>
>
> Best
>
> Claus
>
>
>
>
>
> ================================== stderr
> =============================================
>
>
>
> ezxml.c: In function ?ezxml_parse_fd?:
>
>
>
> ezxml.c:643: error: ?MADV_SEQUENTIAL? undeclared (first use in this
> function)
>
>
>
> ezxml.c:643: error: (Each undeclared identifier is reported only once
>
>
>
> ezxml.c:643: error: for each function it appears in.)
>
>
>
> ezxml.c:645: error: ?MADV_NORMAL? undeclared (first use in this function)
>
>
>
> make: *** [ezxml.o] Error 1
>
>
>
> make: Target `install' not remade because of errors.
>
>
>
> persist.c:42: error: conflicting types for ?sighandler_t?
>
> /usr/include/signal.h:11: error: previous declaration of ?sighandler_t? was
> here
>
>
>
> make: *** [persist.o] Error 1
>
>
>
> rpict.c: In function ?rpict?:
>
>
>
> rpict.c:280: warning: call to ?mktemp? declared with attribute warning: the
> use of `mktemp' is dangerous; use `mkstemp' instead
>
>
>
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot
> find -lrtrad
>
>
>
> collect2: ld returned 1 exit status
>
>
>
> make: *** [rvu] Error 1
>
>
>
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot
> find -lrtrad
>
>
>
> collect2: ld returned 1 exit status
>
>
>
> make: *** [lookamb] Error 1
>
>
>
> make: Target `install' not remade because of errors.
>
>
>
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot
> find -lrtrad
>
>
>
> collect2: ld returned 1 exit status
>
>
>
> make: *** [meta2tga] Error 1
>
>
>
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot
> find -lrtrad
>
>
>
> collect2: ld returned 1 exit status
>
>
>
> make: *** [pexpand] Error 1
>
>
>
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot
> find -lrtrad
>
>
>
> collect2: ld returned 1 exit status
>
>
>
> make: *** [psort] Error 1
>
>
>
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot
> find -lrtrad
>
>
>
> collect2: ld returned 1 exit status
>
>
>
> make: *** [cv] Error 1
>
>
>
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot
> find -lrtrad
>
>
>
> collect2: ld returned 1 exit status
>
> lrtrad
>
> collect2: ld returned 1 exit status
>
>
>
> make: *** [tabfunc] Error 1
>
>
>
> make: Target `install' not remade because of errors.
>
>
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101021/2890d5e1/attachment.htm
From cbm at create.aau.dk  Thu Oct 21 13:23:22 2010
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu Oct 21 13:22:14 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
In-Reply-To: <09089BEE-74FA-4DBD-8921-9DA9D7D01C90@lbl.gov>
References: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk>
	<09089BEE-74FA-4DBD-8921-9DA9D7D01C90@lbl.gov>
Message-ID: <E35477F1A321144D897D44CCAAFF202C091DA3336A@AD-MAILBOX01.aau.dk>

Skipped content of type multipart/related-------------- next part --------------
A non-text attachment was scrubbed...
Name: =?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen2.vcf?=
Type: text/x-vcard
Size: 6218 bytes
Desc: =?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen2.vcf?=
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20101021/e3e753fc/iso-8859-1QClaus_BrF8ndgaard_Madsen2-0001.vcf
From reinhart at gsd.harvard.edu  Thu Oct 21 13:35:46 2010
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Thu Oct 21 13:36:50 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C091DA3336A@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk><09089BEE-74FA-4DBD-8921-9DA9D7D01C90@lbl.gov>
	<E35477F1A321144D897D44CCAAFF202C091DA3336A@AD-MAILBOX01.aau.dk>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF07F28619@ENTWEXMB0000000.university.harvard.edu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 12406 bytes
Desc: image001.jpg
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20101021/46bb0a58/attachment-0001.jpe
From cbm at create.aau.dk  Thu Oct 21 13:58:22 2010
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu Oct 21 13:57:38 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C091DA3336A@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk>
	<09089BEE-74FA-4DBD-8921-9DA9D7D01C90@lbl.gov>
	<E35477F1A321144D897D44CCAAFF202C091DA3336A@AD-MAILBOX01.aau.dk>
Message-ID: <E35477F1A321144D897D44CCAAFF202C091DA33370@AD-MAILBOX01.aau.dk>

Skipped content of type multipart/related-------------- next part --------------
A non-text attachment was scrubbed...
Name: =?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen3.vcf?=
Type: text/x-vcard
Size: 6218 bytes
Desc: =?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen3.vcf?=
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20101021/907be4a7/iso-8859-1QClaus_BrF8ndgaard_Madsen3-0001.vcf
From amcneil at lbl.gov  Thu Oct 21 14:11:43 2010
From: amcneil at lbl.gov (Andy McNeil)
Date: Thu Oct 21 14:11:45 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
In-Reply-To: <C5E1527F129BF545A250B5AD0B0C26EF07F28619@ENTWEXMB0000000.university.harvard.edu>
References: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk><09089BEE-74FA-4DBD-8921-9DA9D7D01C90@lbl.gov>
	<E35477F1A321144D897D44CCAAFF202C091DA3336A@AD-MAILBOX01.aau.dk>
	<C5E1527F129BF545A250B5AD0B0C26EF07F28619@ENTWEXMB0000000.university.harvard.edu>
Message-ID: <6D70C21D-901F-4979-A29B-0D43E395E59E@lbl.gov>

Greg checked in a bunch of changes to the SCons script for compiling on MinGW back in June (see radiance-dev for details).  If you use the HEAD it should compile.  Haven't tried it myself though.

Andy





On Oct 21, 2010, at 1:35 PM, Reinhart, Christoph wrote:

> While we are at it. Are there any instructions of how to compile Radiance under MinGW?
>  
> Christoph
>  
>  
> From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Claus Br?ndgaard Madsen
> Sent: Thursday, October 21, 2010 4:23 PM
> To: Radiance general discussion
> Subject: RE: [Radiance-general] Problems compiling latest release under Cygwin
>  
>  
>  
> Thanks Andy,
>  
>  
> Super help, super fast. Easy fix that resulted in easy, almost troublefree compilation.
>  
> I guess the real problem is that the CYGWIN variable is undefined, and I cannot find out where that define was supposed to be made. Anyway, I did as you suggested and almost everything compiled. There was only one compile error:
>  
> persist.c:42: error: conflicting types for ?sighandler_t?
> /usr/include/signal.h:11: error: previous declaration of ?sighandler_t? was here
> make: *** [persist.o] Error 1
> make: Target `install' not remade because of errors.
>  
> Best,
> Claus
>  
> <image001.jpg>
>  
> From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Andy McNeil
> Sent: 21. oktober 2010 21:50
> To: Radiance general discussion
> Subject: Re: [Radiance-general] Problems compiling latest release under Cygwin
>  
> Hi Claus,
>  
> The errors for ezxml are preventing librtrad.a from being made.  Missing librtrad causes all the subsequent errors (ld missing -lrtrad).  
>  
> The part of ezxml_parse_fd that uses MADV_SEQUENTIAL is supposed to be left out when compiled on CYGWIN.
>  
> From ezxml.h:
> /* disable MMAP on CYGWIN, seems to cause problems... */
> #ifdef CYGWIN
> #define EZXML_NOMMAP
> #endif
> I'd suggest changing those lines in ezxml.h to:
> /* disable MMAP on CYGWIN, seems to cause problems... */
> #define EZXML_NOMMAP
> So that EZXML_NOMMAP is defined.  ezxml.h can be found in ray/src/common/
>  
> I can't test this myself, so no promises that it'll work.
>  
> Andy
>  
>  
>  
>  
>  
>  
> On Oct 21, 2010, at 12:04 PM, Claus Br?ndgaard Madsen wrote:
>  
> 
>  
>  
>  
> Dear RADIANCE list,
>  
> It is not nice to re-post a list post, but I am desperate and got no response the first time around. Can anyone spot a potential reason that I have run into problems with compiling RADIANCE:
>  
>  
>  
> I downloaded rad4R0all, unzipped and untar?ed, then ran makeall install (on a Windows 7 machine with Cygwin installed).
>  
> I got a lot of error messages (below the first dozens of lines of a redirect of stderr to a textfile). Any chance of an easy fix? J
>  
> Best
> Claus
>  
>  
> ================================== stderr =============================================
>  
> ezxml.c: In function ?ezxml_parse_fd?:
>  
> ezxml.c:643: error: ?MADV_SEQUENTIAL? undeclared (first use in this function)
>  
> ezxml.c:643: error: (Each undeclared identifier is reported only once
>  
> ezxml.c:643: error: for each function it appears in.)
>  
> ezxml.c:645: error: ?MADV_NORMAL? undeclared (first use in this function)
>  
> make: *** [ezxml.o] Error 1
>  
> make: Target `install' not remade because of errors.
>  
> persist.c:42: error: conflicting types for ?sighandler_t?
> /usr/include/signal.h:11: error: previous declaration of ?sighandler_t? was here
>  
> make: *** [persist.o] Error 1
>  
> rpict.c: In function ?rpict?:
>  
> rpict.c:280: warning: call to ?mktemp? declared with attribute warning: the use of `mktemp' is dangerous; use `mkstemp' instead
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [rvu] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [lookamb] Error 1
>  
> make: Target `install' not remade because of errors.
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [meta2tga] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [pexpand] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [psort] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
>  
> make: *** [cv] Error 1
>  
> /usr/lib/gcc/i686-pc-cygwin/4.3.4/../../../../i686-pc-cygwin/bin/ld: cannot find -lrtrad
>  
> collect2: ld returned 1 exit status
> lrtrad
> collect2: ld returned 1 exit status
>  
> make: *** [tabfunc] Error 1
>  
> make: Target `install' not remade because of errors.
>  
>  
> <image001.jpg>
>  
> <Claus Br?ndgaard Madsen.vcf>_______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101021/d7ed3c32/attachment-0001.html
From guy.vaessen at gmail.com  Thu Oct 21 14:49:26 2010
From: guy.vaessen at gmail.com (Guy Vaessen)
Date: Thu Oct 21 14:49:16 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
Message-ID: <AANLkTimNU7qa0VcrL4cgv7gQoKO6jTF4w-xxv2L2iZF_@mail.gmail.com>

For Compiling Radiance under Windows using MinGw, the instructions & tools
can be found at this site:

<http://www.bozzograo.net/radiancewiki/doku.php?id=how_to_compile_radiance_using_the_mingw_tools_and_scons>

In order to compile the latest HEAD release I also had to make the
changes to Scons listed at:
http://www.radiance-online.org/pipermail/radiance-dev/2010-October/001051.html
http://www.radiance-online.org/pipermail/radiance-dev/2010-October/001053.html
http://www.radiance-online.org/pipermail/radiance-dev/2010-October/001055.html
http://www.radiance-online.org/pipermail/radiance-dev/2010-October/001056.html
http://www.radiance-online.org/pipermail/radiance-dev/2010-October/001057.html

Don't forget to update your PATH environment variable on Windows.

Regards,

Guy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101021/cb93d0d7/attachment.htm
From sdave at mit.edu  Thu Oct 21 14:54:10 2010
From: sdave at mit.edu (Shreya)
Date: Thu Oct 21 14:54:59 2010
Subject: [Radiance-general] using rtcontrib in a script (Linux)
Message-ID: <loom.20101021T234849-696@post.gmane.org>

Hi all,
I am having a problem where consolidating rtcontrib into a script file results
in the error Illegal Variable Name.  Is there a reason for this, or is it an
issue of syntax in the script?  I am currently working on a modification of Axel
Jacob's suggestions that works great when entered into the terminal line by
line...!

The contents of my script, as they currently stand, is:  

#!/bin/csh

gendaylit 9 7 12 -a 51 -o 0 -m 0 -P 6.3 0.12 \
|genskyvec -m 1 > tmp/skydist.dat

set vw="-x 600 -y 600 -vf views/window_basic.vf"

oconv materials/room.mat materials/window_basic.mat room.rad \
window_basic.rad skies/sky_white.rad > room_clear.oct

vwrays -ff $vw | rtcontrib @rtc.opt -ffc $(vwrays -d $vw) -e MF:2 \
-f reinhart.cal -b rbin -o images/patches/p%03d.hdr \
-m sky_glow -w room_clear.oct

pcomb -h $(bash apply_tregsamp.bash) > images/testscript.hdr

Can anyone help with this problem?  
Thanks!
shreya


From gregoryjward at gmail.com  Thu Oct 21 14:58:46 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Oct 21 14:58:37 2010
Subject: [Radiance-general] using rtcontrib in a script (Linux)
In-Reply-To: <loom.20101021T234849-696@post.gmane.org>
References: <loom.20101021T234849-696@post.gmane.org>
Message-ID: <4AF3F360-16A0-4672-8B9B-159B832BBF34@lmi.net>

Hi Shreya,

I don't think you can put a variable in parentheses in a C-shell script:

	$(vwrays -d $vw)

The correct syntax is to use backwards single-quotes, a la:

	`vwrays -d $vw`

-Greg

> From: Shreya  <sdave@mit.edu>
> Date: October 21, 2010 2:54:10 PM PDT
> 
> Hi all,
> I am having a problem where consolidating rtcontrib into a script file results
> in the error Illegal Variable Name.  Is there a reason for this, or is it an
> issue of syntax in the script?  I am currently working on a modification of Axel
> Jacob's suggestions that works great when entered into the terminal line by
> line...!
> 
> The contents of my script, as they currently stand, is:  
> 
> #!/bin/csh
> 
> gendaylit 9 7 12 -a 51 -o 0 -m 0 -P 6.3 0.12 \
> |genskyvec -m 1 > tmp/skydist.dat
> 
> set vw="-x 600 -y 600 -vf views/window_basic.vf"
> 
> oconv materials/room.mat materials/window_basic.mat room.rad \
> window_basic.rad skies/sky_white.rad > room_clear.oct
> 
> vwrays -ff $vw | rtcontrib @rtc.opt -ffc $(vwrays -d $vw) -e MF:2 \
> -f reinhart.cal -b rbin -o images/patches/p%03d.hdr \
> -m sky_glow -w room_clear.oct
> 
> pcomb -h $(bash apply_tregsamp.bash) > images/testscript.hdr
> 
> Can anyone help with this problem?  
> Thanks!
> shreya

From maricanis at gmail.com  Fri Oct 22 00:18:05 2010
From: maricanis at gmail.com (Marija Velickovic)
Date: Fri Oct 22 00:18:14 2010
Subject: [Radiance-general] Problems compiling latest release under Cygwin
In-Reply-To: <C5E1527F129BF545A250B5AD0B0C26EF07F28619@ENTWEXMB0000000.university.harvard.edu>
References: <E35477F1A321144D897D44CCAAFF202C091DA33364@AD-MAILBOX01.aau.dk>
	<09089BEE-74FA-4DBD-8921-9DA9D7D01C90@lbl.gov>
	<E35477F1A321144D897D44CCAAFF202C091DA3336A@AD-MAILBOX01.aau.dk>
	<C5E1527F129BF545A250B5AD0B0C26EF07F28619@ENTWEXMB0000000.university.harvard.edu>
Message-ID: <AANLkTin0sk9F7G=Ut-P8yP6FAJ0fB3xsh5FKhc_76H9i@mail.gmail.com>

Hi,

I've managed to compile Radiance in Windows 7 with MinGW.
Check this thread:
http://radiance-online.org/pipermail/radiance-dev/2010-October/001051.html


Marija
-----------

On Oct 21, 2010, at 1:35 PM, Reinhart, Christoph wrote:

While we are at it. Are there any instructions of how to compile Radiance
under MinGW?

Christoph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101022/aca82fe0/attachment.html
From sdave at mit.edu  Sat Oct 23 13:11:21 2010
From: sdave at mit.edu (Shreya)
Date: Sat Oct 23 13:11:26 2010
Subject: [Radiance-general] Re: using rtcontrib in a script (Linux)
References: <loom.20101021T234849-696@post.gmane.org>
	<4AF3F360-16A0-4672-8B9B-159B832BBF34@lmi.net>
Message-ID: <loom.20101023T221045-222@post.gmane.org>

Thank you so much, that solved the problem immediately!




From a.bissell at cundall.com  Sun Oct 24 00:17:38 2010
From: a.bissell at cundall.com (Bissell, Andrew)
Date: Sun Oct 24 00:17:24 2010
Subject: [Radiance-general] LBNL Window6 & dctimestep
Message-ID: <5B472090ED0BC64EA8F81B330169D3D40100F380@CLOEXM1.cjp.co.uk>

Hi all,

 

Andy, thanks for a great tutorial, very easy to follow along with Axel's
excellent diary of trials and errors.  I have a quick question, I have
no doubt it is a lack of linux knowledge on my behalf but would welcome
any help.

 

I have got so far as to generate the vmx, dmx and skv files.  I have
also generated a simple window detail in window6 and copied the xml and
csv across to the linux box.  When I run the dctimestep script I get the
error 'warning cannot find the BSDF 3mmClear.xml' file.  It is there in
the correct folder, I have checked and checked again that the script
uppercase / lowercase matches the filename, I have checked that I am
searching the correct folder and I have checked in the xml file that the
filename is the same.  I am now at a loss.  

 

Thanks in advance.

 

Regards

 

Andrew

__________________________
Andrew Bissell

B.Eng(Hons) C.Eng MSLL MCIBSE MIET
Associate Lighting Designer

Cundall Light4
Direct: 0161 200 1235
Mobile: 07899 907 978

Office: 0161 244 5660

P Please consider the environment before printing this e-mail

 

Cundall Johnston & Partners LLP is a limited liability partnership registered in England and Wales.Registered number OC300389.  
Registered office: Horsley House, Regent Centre, Gosforth, Newcastle upon Tyne, NE3 3LU
Privilege and Confidentiality Notice: Use of this email and any attachments is subject to the terms on our Website at http://www.cundall.com/email.htm 
If you cannot access these terms, please email terms@cundall.com with SEND TERMS in the subject heading or telephone +44 (0191) 213 1515 and we will send you a copy. 
--------------------------------------------------------------------------------
This email message has been scanned for viruses by Mimecast. For more information please visit http://www.mimecast.com 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101024/6922246c/attachment.htm
From tbleicher at googlemail.com  Sun Oct 24 06:31:50 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Sun Oct 24 06:31:40 2010
Subject: [Radiance-general] LBNL Window6 & dctimestep
In-Reply-To: <5B472090ED0BC64EA8F81B330169D3D40100F380@CLOEXM1.cjp.co.uk>
References: <5B472090ED0BC64EA8F81B330169D3D40100F380@CLOEXM1.cjp.co.uk>
Message-ID: <AANLkTim34RTNbEwT3sxMEsHzkqC7jU0AvgvPvEuYSYcG@mail.gmail.com>

Andrew

I haven't used dctimestep yet but have you checked the usual things:

1) is there a space in the file name ("BSDF 3mmClear.xml")? If so
remove it. That can make many scripts happy.

2) Do you have RAYPATH set and does it include the current directory
(single dot as in RAYPATH=".;/usr/local/lib/ray")

3) Have you tried to specify the file name with a leading "./"
("./3mmClear.xml")?

Just a few ideas.

Thomas

On Sun, Oct 24, 2010 at 2:17 AM, Bissell, Andrew <a.bissell@cundall.com> wrote:

> I have got so far as to generate the vmx, dmx and skv files.? I have also
> generated a simple window detail in window6 and copied the xml and csv
> across to the linux box.? When I run the dctimestep script I get the error
> ?warning cannot find the BSDF 3mmClear.xml? file.? It is there in the
> correct folder, I have checked and checked again that the script uppercase /
> lowercase matches the filename, I have checked that I am searching the
> correct folder and I have checked in the xml file that the filename is the
> same.? I am now at a loss.

From a.bissell at cundall.com  Sun Oct 24 06:48:04 2010
From: a.bissell at cundall.com (Bissell, Andrew)
Date: Sun Oct 24 06:47:45 2010
Subject: [Radiance-general] LBNL Window6 & dctimestep
In-Reply-To: <AANLkTim34RTNbEwT3sxMEsHzkqC7jU0AvgvPvEuYSYcG@mail.gmail.com>
References: <5B472090ED0BC64EA8F81B330169D3D40100F380@CLOEXM1.cjp.co.uk>
	<AANLkTim34RTNbEwT3sxMEsHzkqC7jU0AvgvPvEuYSYcG@mail.gmail.com>
Message-ID: <5B472090ED0BC64EA8F81B330169D3D40100F387@CLOEXM1.cjp.co.uk>

Thanks Thomas,

I was missing the .; and now it finds the 3mmClear.xml file.  Sorry about such a basic error, and to think I have fallen over with that one before.  It now can't find reinhart.cal, I will dig around and sort out exactly how my .profile RAYPATH should be written, It clearly must be the way I have written that.

Thanks again.

Regards

Andrew
__________________________
Andrew Bissell
B.Eng(Hons) C.Eng MSLL MCIBSE MIET
Associate Lighting Designer
Cundall Light4
Direct: 0161 200 1235
Mobile: 07899 907 978
Office: 0161 244 5660
? Please consider the environment before printing this e-mail


-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Thomas Bleicher
Sent: 24 October 2010 14:32
To: Radiance general discussion
Subject: Re: [Radiance-general] LBNL Window6 & dctimestep

Andrew

I haven't used dctimestep yet but have you checked the usual things:

1) is there a space in the file name ("BSDF 3mmClear.xml")? If so
remove it. That can make many scripts happy.

2) Do you have RAYPATH set and does it include the current directory
(single dot as in RAYPATH=".;/usr/local/lib/ray")

3) Have you tried to specify the file name with a leading "./"
("./3mmClear.xml")?

Just a few ideas.

Thomas

On Sun, Oct 24, 2010 at 2:17 AM, Bissell, Andrew <a.bissell@cundall.com> wrote:

> I have got so far as to generate the vmx, dmx and skv files.? I have also
> generated a simple window detail in window6 and copied the xml and csv
> across to the linux box.? When I run the dctimestep script I get the error
> ?warning cannot find the BSDF 3mmClear.xml? file.? It is there in the
> correct folder, I have checked and checked again that the script uppercase /
> lowercase matches the filename, I have checked that I am searching the
> correct folder and I have checked in the xml file that the filename is the
> same.? I am now at a loss.

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

Cundall Johnston & Partners LLP is a limited liability partnership registered in England and Wales.Registered number OC300389.  
Registered office: Horsley House, Regent Centre, Gosforth, Newcastle upon Tyne, NE3 3LU
Privilege and Confidentiality Notice: Use of this email and any attachments is subject to the terms on our Website at http://www.cundall.com/email.htm 
If you cannot access these terms, please email terms@cundall.com with SEND TERMS in the subject heading or telephone +44 (0191) 213 1515 and we will send you a copy. 
--------------------------------------------------------------------------------
This email message has been scanned for viruses by Mimecast. For more information please visit http://www.mimecast.com 
From tbleicher at googlemail.com  Sun Oct 24 07:00:33 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Sun Oct 24 07:00:23 2010
Subject: [Radiance-general] LBNL Window6 & dctimestep
In-Reply-To: <5B472090ED0BC64EA8F81B330169D3D40100F387@CLOEXM1.cjp.co.uk>
References: <5B472090ED0BC64EA8F81B330169D3D40100F380@CLOEXM1.cjp.co.uk>
	<AANLkTim34RTNbEwT3sxMEsHzkqC7jU0AvgvPvEuYSYcG@mail.gmail.com>
	<5B472090ED0BC64EA8F81B330169D3D40100F387@CLOEXM1.cjp.co.uk>
Message-ID: <AANLkTikPfPcPq1G9iEW-u6p7y8BPww5y1htZmvmUD4SX@mail.gmail.com>

Andrew

If you're not sure about the RAYPATH variabel just copy-and-paste the
line in an email so that we can look at it.

Basically you just list each directory separated by a ":" (not ";" as
in my example above!).

If you have spaces in a path you have to enclose the whole thing in
quotes (RAYPATH="...") otherwise it's not essential but good style.

Depending on where you define it you can add the contents of a
previously set RAYPATH by exanding the variable in the list:

RAYPATH=".:/home/andrew/ray:${RAYPATH}"

If you add ${RAYPATH} at the end the content of directories listed
before will replace files found in the standard locations. This is
only important if you write your own *.cal files.

Thomas


On Sun, Oct 24, 2010 at 8:48 AM, Bissell, Andrew <a.bissell@cundall.com> wrote:
> Thanks Thomas,
>
> I was missing the .; and now it finds the 3mmClear.xml file. ?Sorry about such a basic error, and to think I have fallen over with that one before. ?It now can't find reinhart.cal, I will dig around and sort out exactly how my .profile RAYPATH should be written, It clearly must be the way I have written that.
>
> Thanks again.
>
> Regards
>
> Andrew
> __________________________
> Andrew Bissell
> B.Eng(Hons) C.Eng MSLL MCIBSE MIET
> Associate Lighting Designer
> Cundall Light4
> Direct: 0161 200 1235
> Mobile: 07899 907 978
> Office: 0161 244 5660
> ? Please consider the environment before printing this e-mail
>
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Thomas Bleicher
> Sent: 24 October 2010 14:32
> To: Radiance general discussion
> Subject: Re: [Radiance-general] LBNL Window6 & dctimestep
>
> Andrew
>
> I haven't used dctimestep yet but have you checked the usual things:
>
> 1) is there a space in the file name ("BSDF 3mmClear.xml")? If so
> remove it. That can make many scripts happy.
>
> 2) Do you have RAYPATH set and does it include the current directory
> (single dot as in RAYPATH=".;/usr/local/lib/ray")
>
> 3) Have you tried to specify the file name with a leading "./"
> ("./3mmClear.xml")?
>
> Just a few ideas.
>
> Thomas
>
> On Sun, Oct 24, 2010 at 2:17 AM, Bissell, Andrew <a.bissell@cundall.com> wrote:
>
>> I have got so far as to generate the vmx, dmx and skv files.? I have also
>> generated a simple window detail in window6 and copied the xml and csv
>> across to the linux box.? When I run the dctimestep script I get the error
>> ?warning cannot find the BSDF 3mmClear.xml? file.? It is there in the
>> correct folder, I have checked and checked again that the script uppercase /
>> lowercase matches the filename, I have checked that I am searching the
>> correct folder and I have checked in the xml file that the filename is the
>> same.? I am now at a loss.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> Cundall Johnston & Partners LLP is a limited liability partnership registered in England and Wales.Registered number OC300389.
> Registered office: Horsley House, Regent Centre, Gosforth, Newcastle upon Tyne, NE3 3LU
> Privilege and Confidentiality Notice: Use of this email and any attachments is subject to the terms on our Website at http://www.cundall.com/email.htm
> If you cannot access these terms, please email terms@cundall.com with SEND TERMS in the subject heading or telephone +44 (0191) 213 1515 and we will send you a copy.
> --------------------------------------------------------------------------------
> This email message has been scanned for viruses by Mimecast. For more information please visit http://www.mimecast.com
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

From a.bissell at cundall.com  Sun Oct 24 07:05:36 2010
From: a.bissell at cundall.com (Bissell, Andrew)
Date: Sun Oct 24 07:05:13 2010
Subject: [Radiance-general] LBNL Window6 & dctimestep
In-Reply-To: <AANLkTikPfPcPq1G9iEW-u6p7y8BPww5y1htZmvmUD4SX@mail.gmail.com>
References: <5B472090ED0BC64EA8F81B330169D3D40100F380@CLOEXM1.cjp.co.uk><AANLkTim34RTNbEwT3sxMEsHzkqC7jU0AvgvPvEuYSYcG@mail.gmail.com><5B472090ED0BC64EA8F81B330169D3D40100F387@CLOEXM1.cjp.co.uk>
	<AANLkTikPfPcPq1G9iEW-u6p7y8BPww5y1htZmvmUD4SX@mail.gmail.com>
Message-ID: <5B472090ED0BC64EA8F81B330169D3D40100F388@CLOEXM1.cjp.co.uk>

Thanks Thomas, Just noticed the ; should be : when reading a previous radiance online post.  All is now well here. 

Regards

Andrew
__________________________
Andrew Bissell
B.Eng(Hons) C.Eng MSLL MCIBSE MIET
Associate Lighting Designer
Cundall Light4
Direct: 0161 200 1235
Mobile: 07899 907 978
Office: 0161 244 5660
? Please consider the environment before printing this e-mail


-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Thomas Bleicher
Sent: 24 October 2010 15:01
To: Radiance general discussion
Subject: Re: [Radiance-general] LBNL Window6 & dctimestep

Andrew

If you're not sure about the RAYPATH variabel just copy-and-paste the
line in an email so that we can look at it.

Basically you just list each directory separated by a ":" (not ";" as
in my example above!).

If you have spaces in a path you have to enclose the whole thing in
quotes (RAYPATH="...") otherwise it's not essential but good style.

Depending on where you define it you can add the contents of a
previously set RAYPATH by exanding the variable in the list:

RAYPATH=".:/home/andrew/ray:${RAYPATH}"

If you add ${RAYPATH} at the end the content of directories listed
before will replace files found in the standard locations. This is
only important if you write your own *.cal files.

Thomas


On Sun, Oct 24, 2010 at 8:48 AM, Bissell, Andrew <a.bissell@cundall.com> wrote:
> Thanks Thomas,
>
> I was missing the .; and now it finds the 3mmClear.xml file. ?Sorry about such a basic error, and to think I have fallen over with that one before. ?It now can't find reinhart.cal, I will dig around and sort out exactly how my .profile RAYPATH should be written, It clearly must be the way I have written that.
>
> Thanks again.
>
> Regards
>
> Andrew
> __________________________
> Andrew Bissell
> B.Eng(Hons) C.Eng MSLL MCIBSE MIET
> Associate Lighting Designer
> Cundall Light4
> Direct: 0161 200 1235
> Mobile: 07899 907 978
> Office: 0161 244 5660
> ? Please consider the environment before printing this e-mail
>
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Thomas Bleicher
> Sent: 24 October 2010 14:32
> To: Radiance general discussion
> Subject: Re: [Radiance-general] LBNL Window6 & dctimestep
>
> Andrew
>
> I haven't used dctimestep yet but have you checked the usual things:
>
> 1) is there a space in the file name ("BSDF 3mmClear.xml")? If so
> remove it. That can make many scripts happy.
>
> 2) Do you have RAYPATH set and does it include the current directory
> (single dot as in RAYPATH=".;/usr/local/lib/ray")
>
> 3) Have you tried to specify the file name with a leading "./"
> ("./3mmClear.xml")?
>
> Just a few ideas.
>
> Thomas
>
> On Sun, Oct 24, 2010 at 2:17 AM, Bissell, Andrew <a.bissell@cundall.com> wrote:
>
>> I have got so far as to generate the vmx, dmx and skv files.? I have also
>> generated a simple window detail in window6 and copied the xml and csv
>> across to the linux box.? When I run the dctimestep script I get the error
>> ?warning cannot find the BSDF 3mmClear.xml? file.? It is there in the
>> correct folder, I have checked and checked again that the script uppercase /
>> lowercase matches the filename, I have checked that I am searching the
>> correct folder and I have checked in the xml file that the filename is the
>> same.? I am now at a loss.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> Cundall Johnston & Partners LLP is a limited liability partnership registered in England and Wales.Registered number OC300389.
> Registered office: Horsley House, Regent Centre, Gosforth, Newcastle upon Tyne, NE3 3LU
> Privilege and Confidentiality Notice: Use of this email and any attachments is subject to the terms on our Website at http://www.cundall.com/email.htm
> If you cannot access these terms, please email terms@cundall.com with SEND TERMS in the subject heading or telephone +44 (0191) 213 1515 and we will send you a copy.
> --------------------------------------------------------------------------------
> This email message has been scanned for viruses by Mimecast. For more information please visit http://www.mimecast.com
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From hope.zh at gmail.com  Sun Oct 24 08:18:16 2010
From: hope.zh at gmail.com (Ji Zhang)
Date: Sun Oct 24 08:18:07 2010
Subject: [Radiance-general] Re: why sensor inside a closed box still got
	irradiance reading?
In-Reply-To: <E05E6F47-77BF-4331-8ACB-8634D142BAAF@lmi.net>
References: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>
	<AANLkTi=zeYGNK=qeVhZzZb9epYe-x99szbZdER9G-yit@mail.gmail.com>
	<48117FB3-8A0A-4C1C-9A15-F3CF9BB2419D@lmi.net>
	<i9n7ng$7eg$1@dough.gmane.org>
	<E05E6F47-77BF-4331-8ACB-8634D142BAAF@lmi.net>
Message-ID: <AANLkTi=5Uby0TmeMRrFJ1D0eXRqS4ToHja8W=Fq4=UHD@mail.gmail.com>

Thank you, Greg, Thomas, and Randolph!

We've tried according to your suggestion by using a box with "thickness",
i.e. the walls of the box are composed of two layers of polygons, with the
normal of the external layer pointing outward, and the nomal of the internal
layer pointing inward.

However, it seems the irradiance reading of the center of this box still
varies depending on the thickness of the wall, or the distance between the
two layers of polygons.

The variation seems irragular as well, i.e. we got zero reading for the
centre for one thickness, but we then got non-zero reading when the
thickness is reduced or increased.

Is it still related to the float point calculation matter?

Or, should we simply ignore this issue because the non-zero reading is still
fairly small and can be rounded to zero if the precision required is not
that high?
(e.g. for an overcast sky which will produce a horrizontal illuminance of
10,000lx the illuminance reading of the center of the box is 0.00249131lx)

Thanks!

Ji



On Thu, Oct 21, 2010 at 1:13 AM, Greg Ward <gregoryjward@gmail.com> wrote:

> Yes, walls should have thickness.  They do in real life, and it definitely
> helps avoid light leaks of all sorts.
>
> -Greg
>
> > From: "Randolph M. Fritz" <RFritz@lbl.gov>
> > Date: October 20, 2010 10:09:04 AM PDT
> >
> > On 2010-10-20 09:41:04 -0700, Greg Ward said:
> >
> >> Thomas is essentially correct.  The lack of thickness to your walls
> means that the occasional ray can "escape" out the corners of your box,
> permitting light to leak in during your calculation.  Using a sphere rather
> than a box, you'll find your value goes to zero.  Or, adding a second box to
> enclose your first one also fixes the problem.
> >
> > Does this imply that best practice in general, if one is measuring levels
> and perhaps even in general, is to give walls actual thickness?  I've been
> chasing rsensor problems lately, and I wonder if that would help.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101024/54e6fd24/attachment.html
From tbleicher at googlemail.com  Sun Oct 24 08:39:35 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Sun Oct 24 08:39:24 2010
Subject: [Radiance-general] Re: why sensor inside a closed box still got
	irradiance reading?
In-Reply-To: <AANLkTi=5Uby0TmeMRrFJ1D0eXRqS4ToHja8W=Fq4=UHD@mail.gmail.com>
References: <AANLkTikNAavzdGXyWqyKMW5h0Gd-WBhQDyonJRJW9Kin@mail.gmail.com>
	<AANLkTi=zeYGNK=qeVhZzZb9epYe-x99szbZdER9G-yit@mail.gmail.com>
	<48117FB3-8A0A-4C1C-9A15-F3CF9BB2419D@lmi.net>
	<i9n7ng$7eg$1@dough.gmane.org>
	<E05E6F47-77BF-4331-8ACB-8634D142BAAF@lmi.net>
	<AANLkTi=5Uby0TmeMRrFJ1D0eXRqS4ToHja8W=Fq4=UHD@mail.gmail.com>
Message-ID: <AANLkTimu5f9voEzP_x5UeMJJuhLoQdUsbaA3W9vh4Fv9@mail.gmail.com>

Ji.

Have you tried Greg's suggestion to enclose the scene in a sphere already?

For practical purposes you can ignore the small error introduces by
the interpolation. Any reasonably lit space will show illuminance
values which are several magnitudes above that. However, you should
still verify that it is indeed the interpolation that causes your
readings.

If you get zero values with an enclosing sphere that's a good
indicator for it. You can also render a hemispherical image towards
the ceiling and the floor. Interpolation errors should show as bright
spots along the edges.

Regards,
Thomas

On Sun, Oct 24, 2010 at 10:18 AM, Ji Zhang <hope.zh@gmail.com> wrote:
> Thank you, Greg, Thomas, and Randolph!
>
> We've tried according to your suggestion by using a box with "thickness",
> i.e. the walls of the box are composed of two layers of polygons, with the
> normal of the external layer pointing outward, and the nomal of the internal
> layer pointing inward.
>
> However, it seems the irradiance reading of the center of this box still
> varies depending on the thickness of the wall, or the distance between the
> two layers of polygons.
>
> The variation seems irragular as well, i.e. we got zero reading for the
> centre for one thickness, but we then got non-zero reading when the
> thickness is reduced or increased.
>
> Is it still related to the float point calculation matter?
>
> Or, should we simply ignore this issue because the non-zero reading is still
> fairly small and can be rounded to zero if the precision required is not
> that high?
> (e.g. for an overcast sky which will produce a horrizontal illuminance of
> 10,000lx the illuminance reading of the center of the box is 0.00249131lx)
>
> Thanks!
>
> Ji
>
>
>
> On Thu, Oct 21, 2010 at 1:13 AM, Greg Ward <gregoryjward@gmail.com> wrote:
>>
>> Yes, walls should have thickness. ?They do in real life, and it definitely
>> helps avoid light leaks of all sorts.
>>
>> -Greg
>>
>> > From: "Randolph M. Fritz" <RFritz@lbl.gov>
>> > Date: October 20, 2010 10:09:04 AM PDT
>> >
>> > On 2010-10-20 09:41:04 -0700, Greg Ward said:
>> >
>> >> Thomas is essentially correct. ?The lack of thickness to your walls
>> >> means that the occasional ray can "escape" out the corners of your box,
>> >> permitting light to leak in during your calculation. ?Using a sphere rather
>> >> than a box, you'll find your value goes to zero. ?Or, adding a second box to
>> >> enclose your first one also fixes the problem.
>> >
>> > Does this imply that best practice in general, if one is measuring
>> > levels and perhaps even in general, is to give walls actual thickness? ?I've
>> > been chasing rsensor problems lately, and I wonder if that would help.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

From guy.vaessen at gmail.com  Wed Oct 27 04:59:04 2010
From: guy.vaessen at gmail.com (Guy Vaessen)
Date: Wed Oct 27 04:58:56 2010
Subject: [Radiance-general] Compile ra_tiff and normtiff for Windows using
	MinGW + MSYS
Message-ID: <AANLkTinumejfPnSZfYy+PpwxVavB_HsYSGk9Lk5bsGw6@mail.gmail.com>

For those of you interested in compiling ra_tiff and normtiff for Windows,
below are the instructions on how it could be done.

Tools:
Get tiff-3.9.4.zip from ftp://ftp.remotesensing.org/pub/libtiff/
Get MinGW + MSYS shell from http://www.mingw.org/

To open a MSYS shell: Go to C:\msys\1.0\msys.bat (or where you installed
MSYS)

Original instructions from:
http://www.gaia-gis.it/spatialite-2.4.0/mingw_how_to.html#libtiff
Only step 5 should be enough to compile libtiff (since we do not use libz
nor libjpeg)
To make it work with Radiance I had to modify the procedure a bit:

    download the latest sources: tiff-3.9.4.zip
    uncompress this zip-file
    then open an MSYS shell

cd tiff-3.9.4
./configure --enable-static --enable-logluv --disable-shared --disable-cxx
--disable-jpeg --disable-zlib --disable-pixarlog
make
make install-strip

Copy the file libtiff.a from C:\msys\1.0\local\lib to C:\..\..\ray\src\lib
(where ..\..\ points to where you extracted the Radiance source files)

To build ra_tiff add these lines to ray\src\px\SConscript:

ra_tiff = env.Program(target=radbin('ra_tiff'), source=['ra_tiff.c'],
    LIBS=['libtiff','rtpic','rtio','rtmem'] + mlib)
progs.append(ra_tiff)


In a similar way normtiff can be build:

Add this line to \ray\src\common\SConscript after the section # build
libraries:

rtall = env.StaticLibrary(target=radlib('rtall'), source=ALL)

To build normtiff add these lines to ray\src\px\SConscript:

normtiff = env.Program(target=radbin('normtiff'),source=['normtiff.c'],
    LIBS=['libtiff','rtall'] + mlib)
progs.append(normtiff)

Then proceed with building Radiance with scons.

Best Regards,

Guy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101027/855adb06/attachment.htm
From caria.roberto at tiscali.it  Wed Oct 27 06:29:48 2010
From: caria.roberto at tiscali.it (caria.roberto@tiscali.it)
Date: Wed Oct 27 06:29:41 2010
Subject: [Radiance-general] Rhino cameras
Message-ID: <8320932.30551288186188649.JavaMail.defaultUser@defaultHost>

Hi all,
is there a way to import to Radiance cameras set on Rhino?

Thanks

Roberto





Supera i limiti: raddoppia la velocit? da 10 a 20 Mega! Risparmia con Tutto Incluso: telefono + adsl 20 mega a soli 26,60 ? al mese per un anno!SCONTO DI 160 EURO!http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso/?WT.mc_id=01fw

From alstan at jakubiec.net  Wed Oct 27 06:58:48 2010
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Wed Oct 27 06:58:47 2010
Subject: [Radiance-general] Rhino cameras
In-Reply-To: <8320932.30551288186188649.JavaMail.defaultUser@defaultHost>
References: <8320932.30551288186188649.JavaMail.defaultUser@defaultHost>
Message-ID: <op.vk8mf601c8ew1p@pda-jakubiec.hsd1.ma.comcast.net>

> Hi all,
> is there a way to import to Radiance cameras set on Rhino?

Hi Roberto,

The ViewportProperties command in Rhino will show you XYZ values for the  
current camera location and target location. The camera location XYZ  
values can be used directly for the -vp parameter in rpict. The -vd  
parameter should be derived by subtracting the camera location values from  
the camera target values, constructing a vector relative to the camera  
location.

If you're using DIVA for Rhino, this is automatically done when exporting  
one or multiple camera views.

Alstan

From alstan at jakubiec.net  Wed Oct 27 07:18:36 2010
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Wed Oct 27 07:18:32 2010
Subject: [Radiance-general] Rhino cameras
In-Reply-To: <op.vk8mf601c8ew1p@pda-jakubiec.hsd1.ma.comcast.net>
References: <8320932.30551288186188649.JavaMail.defaultUser@defaultHost>
	<op.vk8mf601c8ew1p@pda-jakubiec.hsd1.ma.comcast.net>
Message-ID: <op.vk8ndazic8ew1p@pda-jakubiec.hsd1.ma.comcast.net>

Sorry to double-post, but I almost forgot, the vh and vv horizontal and  
vertical angle parameters can be roughly determined based on the viewport  
lens length, since Rhino uses a 35mm camera. If you're always using a the  
same length camera lens, this only needs to be done once.

VH = 2.75*(180/pi) * atan[(36 / (2 * lenslength))]
VV = 2.75*(180/pi) * atan[(24 / (2 * lenslength))]

The 2.75 is a correction factor that I found from experience approximates  
the rhino viewport quite closely. Its probably also good practice to take  
the floor of these values.

Alstan


>> Hi all,
>> is there a way to import to Radiance cameras set on Rhino?
>
> Hi Roberto,
>
> The ViewportProperties command in Rhino will show you XYZ values for the  
> current camera location and target location. The camera location XYZ  
> values can be used directly for the -vp parameter in rpict. The -vd  
> parameter should be derived by subtracting the camera location values  
> from the camera target values, constructing a vector relative to the  
> camera location.
>
> If you're using DIVA for Rhino, this is automatically done when  
> exporting one or multiple camera views.
>
> Alstan

From jacobs.axel at gmail.com  Wed Oct 27 13:06:52 2010
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Wed Oct 27 13:01:21 2010
Subject: [Radiance-general] Re: Rhino cameras
In-Reply-To: <4cc876f5.0d1d640a.7378.2bc2SMTPIN_ADDED@mx.google.com>
References: <4cc876f5.0d1d640a.7378.2bc2SMTPIN_ADDED@mx.google.com>
Message-ID: <4CC8865C.7080908@gmail.com>


Hi Roberto,

> The ViewportProperties command in Rhino will show you XYZ values for the
> current camera location and target location. The camera location XYZ
> values can be used directly for the -vp parameter in rpict. The -vd
> parameter should be derived by subtracting the camera location values from
> the camera target values, constructing a vector relative to the camera
> location.

> Sorry to double-post, but I almost forgot, the vh and vv horizontal and
> vertical angle parameters can be roughly determined based on the viewport
> lens length, since Rhino uses a 35mm camera. If you're always using a the
> same length camera lens, this only needs to be done once.
>
> VH = 2.75*(180/pi) * atan[(36 / (2 * lenslength))]
> VV = 2.75*(180/pi) * atan[(24 / (2 * lenslength))]
>
> The 2.75 is a correction factor that I found from experience approximates
> the rhino viewport quite closely. Its probably also good practice to take
> the floor of these values.

>>> is there a way to import to Radiance cameras set on Rhino?

I messed around with this some time ago. I've put up my little Rhino 
script for you to try:

http://luminance.londonmet.ac.uk/pickup/ExportRadianceView.rvb.gz

I find myself hardly ever using it, but maybe it works for you, or at 
least, you can use it as a starting point for your own Rhino hacking.

There are three obvious bugs (or missing features) which I should 
mention, so you won't be disappointed:

a) The view angle you get in Radiance doesn't quite match the Rhino one. 
Maybe Alstan's formulae will get you closer match;

b) I have not found a way of getting the view extends for parallel views 
in world coordinates. Rhino seems to insist of returning them in pixels;

c) Rhino's view up vector is at 90 degrees to the view direction. This 
is not incorrect as such, but when you load the Radiance view file in 
rvu, you'll find that rotating around the z-axis (pivot or rotate 
commands) yields unexpected results. The fix would be to always define 
the view vector as 0 0 1, and ignore Rhino's values.

Hope you find the script useful. Please share any improvements you make.

Happy hacking

Axel

From gbetti at fosterandpartners.com  Thu Oct 28 04:49:50 2010
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Thu Oct 28 04:49:41 2010
Subject: [Radiance-general] Diffusive laminated material and fritting
In-Reply-To: <4CC8865C.7080908@gmail.com>
References: <4cc876f5.0d1d640a.7378.2bc2SMTPIN_ADDED@mx.google.com>
	<4CC8865C.7080908@gmail.com>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C305DD20DE@corp3005.CORPORATE.FOSTER.NETWORK>


Dear List,

I am currently trying to simulate a laminated build up with diffusive
interlayer. To get accurate results I turned to Optics5 to build the
laminate. I would expect that the right kind of material definition
would be a trans or transdata, but Optics keep on returning glass and 2
BRTDfunc (front face and back face). As per my understanding the
BRTDfunc will only affect the front and back reflectance, and contains
no information about diffusion.
As I am interested in assessing the effects of different levels of
diffusion in the interlayer, I was wondering if any of you could suggest
what would be the most reliable approach.

Also I was wondering how people go about simulating fritting; if the
glass is far enough to make the fritting not visible, is it common
practice reducing the transmissivity by the percentage cover of the
fritting or there are more sophisticated (and accurate) approaches?

Thanks in advance for the help,

Giovanni


////////////////////////////////////////////////
Giovanni Betti
Environmental Design Analyst 


From jedev at visarc.com  Thu Oct 28 06:09:50 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Oct 28 06:09:40 2010
Subject: [Radiance-general] Diffusive laminated material and fritting
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C305DD20DE@corp3005.CORPORATE.FOSTER.NETWORK>
References: <4cc876f5.0d1d640a.7378.2bc2SMTPIN_ADDED@mx.google.com>	<4CC8865C.7080908@gmail.com>
	<6F5225D6E15F954BB4E58EC25F6736C305DD20DE@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <4CC9761E.6070500@visarc.com>

Hi Giovanni,

I will give a short answer and then try to follow-up later with a longer 
explanation. Regarding the diffusing interlayer, as I recall Optics 5 is 
not really set up to deal with diffusing materials (unless this has 
changed recently). Regardless, any material definition exported to 
Radiance format will be in the form of three materials: a glass 
definition and a front and back side BRTDfunc. Note however that the 
BRTDfunc (unless this has been changed) is a very simplified material 
definition that is not set up to account for angular variation. There 
are a couple of options to convert Radiance output from Optics 5 to 
something more useful: A) optics2rad or B) glaze. These are both scripts 
that come with the standard Radiance distribution.

I am not sure what to suggest for how to manage the diffuse component. 
This can probably be incorporated into a BRTDfunc definition. Regarding 
the fritting, I agree with your presumption that if you are any 
reasonable distance from the building then the individual makeup (lines, 
dots, whatever), will disappear in most cases. It is possible to build 
up frit glass definitions (based on percent coverage) using the glaze 
script.

Regards,

-Jack de Valpine

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 10/28/2010 7:49 AM, Giovanni Betti wrote:
> Dear List,
>
> I am currently trying to simulate a laminated build up with diffusive
> interlayer. To get accurate results I turned to Optics5 to build the
> laminate. I would expect that the right kind of material definition
> would be a trans or transdata, but Optics keep on returning glass and 2
> BRTDfunc (front face and back face). As per my understanding the
> BRTDfunc will only affect the front and back reflectance, and contains
> no information about diffusion.
> As I am interested in assessing the effects of different levels of
> diffusion in the interlayer, I was wondering if any of you could suggest
> what would be the most reliable approach.
>
> Also I was wondering how people go about simulating fritting; if the
> glass is far enough to make the fritting not visible, is it common
> practice reducing the transmissivity by the percentage cover of the
> fritting or there are more sophisticated (and accurate) approaches?
>
> Thanks in advance for the help,
>
> Giovanni
>
>
> ////////////////////////////////////////////////
> Giovanni Betti
> Environmental Design Analyst
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From gbetti at fosterandpartners.com  Thu Oct 28 06:44:50 2010
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Thu Oct 28 06:44:41 2010
Subject: [Radiance-general] Diffusive laminated material and fritting
In-Reply-To: <4CC9761E.6070500@visarc.com>
References: <4cc876f5.0d1d640a.7378.2bc2SMTPIN_ADDED@mx.google.com>	<4CC8865C.7080908@gmail.com><6F5225D6E15F954BB4E58EC25F6736C305DD20DE@corp3005.CORPORATE.FOSTER.NETWORK>
	<4CC9761E.6070500@visarc.com>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C305DD20F8@corp3005.CORPORATE.FOSTER.NETWORK>

Thanks Jack,

I have done some more reading on the mailing list and found a few useful
posts describing opt2rad and glaze.
Both seem really useful, although glaze seems likely the most
interesting option because (if I understand correctly) allows for frit
and angular dependencies in transmission/reflection.

Unfortunately I am using radiance on windows using the Ming-w compiled
version and I do not find the files in my bin or lib folder (but I find
glaze2.cal). Is there a version of these available for windows?

Also Glaze supports only two glass panes with an interlayer or can cope
with three-ply build ups?

Thanks again,

G


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
de Valpine
Sent: 28 October 2010 14:10
To: Radiance general discussion
Subject: Re: [Radiance-general] Diffusive laminated material and
fritting

Hi Giovanni,

I will give a short answer and then try to follow-up later with a longer

explanation. Regarding the diffusing interlayer, as I recall Optics 5 is

not really set up to deal with diffusing materials (unless this has 
changed recently). Regardless, any material definition exported to 
Radiance format will be in the form of three materials: a glass 
definition and a front and back side BRTDfunc. Note however that the 
BRTDfunc (unless this has been changed) is a very simplified material 
definition that is not set up to account for angular variation. There 
are a couple of options to convert Radiance output from Optics 5 to 
something more useful: A) optics2rad or B) glaze. These are both scripts

that come with the standard Radiance distribution.

I am not sure what to suggest for how to manage the diffuse component. 
This can probably be incorporated into a BRTDfunc definition. Regarding 
the fritting, I agree with your presumption that if you are any 
reasonable distance from the building then the individual makeup (lines,

dots, whatever), will disappear in most cases. It is possible to build 
up frit glass definitions (based on percent coverage) using the glaze 
script.

Regards,

-Jack de Valpine

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 10/28/2010 7:49 AM, Giovanni Betti wrote:
> Dear List,
>
> I am currently trying to simulate a laminated build up with diffusive
> interlayer. To get accurate results I turned to Optics5 to build the
> laminate. I would expect that the right kind of material definition
> would be a trans or transdata, but Optics keep on returning glass and
2
> BRTDfunc (front face and back face). As per my understanding the
> BRTDfunc will only affect the front and back reflectance, and contains
> no information about diffusion.
> As I am interested in assessing the effects of different levels of
> diffusion in the interlayer, I was wondering if any of you could
suggest
> what would be the most reliable approach.
>
> Also I was wondering how people go about simulating fritting; if the
> glass is far enough to make the fritting not visible, is it common
> practice reducing the transmissivity by the percentage cover of the
> fritting or there are more sophisticated (and accurate) approaches?
>
> Thanks in advance for the help,
>
> Giovanni
>
>
> ////////////////////////////////////////////////
> Giovanni Betti
> Environmental Design Analyst
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From jedev at visarc.com  Thu Oct 28 09:09:46 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Oct 28 09:09:37 2010
Subject: [Radiance-general] Diffusive laminated material and fritting
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C305DD20F8@corp3005.CORPORATE.FOSTER.NETWORK>
References: <4cc876f5.0d1d640a.7378.2bc2SMTPIN_ADDED@mx.google.com>	<4CC8865C.7080908@gmail.com><6F5225D6E15F954BB4E58EC25F6736C305DD20DE@corp3005.CORPORATE.FOSTER.NETWORK>	<4CC9761E.6070500@visarc.com>
	<6F5225D6E15F954BB4E58EC25F6736C305DD20F8@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <4CC9A04A.8080702@visarc.com>

Hi Giovanni,

The glaze script supports an IGU with (2) glass layers only. As I 
understand from Greg who developed this for us originally, the math 
starts to get a lot more complicated with a 3rd glass layer. This does 
not mean that it cannot be done but it would need to be implemented. I 
guess there are a few things to understand with the glaze script. What 
you want to get out of Optics 5 is Radiance material exports NOT for the 
full IGU makeup but instead for each layer of the makeup. Then you can 
use the transmittance and reflectance data for the exported materials to 
build material definitions for 2 layer glazing makeups where a coating 
can be allocated to one surface and a frit to another (note you cannot 
have both frit and coating applied to the same surface because we do not 
know how to characterized that). Regarding the interlayer, I think what 
I would suggest is that (assuming a clear interlayer) is to make up the 
composite in Optics 5 (eg 2 glass materials with an interlayer) and then 
export this as a glass layer.

Regarding Ming-w, I am sorry that I am not really familiar with 
compiling or running Radiance in this way, so I do not really know why 
things might not be found. Note that glaze is a shell script like 
falsecolor for example, so if you have falsecolor then glaze "should" be 
available and work...

-Jack

PS: you could also take a look at my talk at the 2009(?) Radiance 
Workshop at Harvard, which talks a bit about glaze and some other tools.

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 10/28/2010 9:44 AM, Giovanni Betti wrote:
> Thanks Jack,
>
> I have done some more reading on the mailing list and found a few useful
> posts describing opt2rad and glaze.
> Both seem really useful, although glaze seems likely the most
> interesting option because (if I understand correctly) allows for frit
> and angular dependencies in transmission/reflection.
>
> Unfortunately I am using radiance on windows using the Ming-w compiled
> version and I do not find the files in my bin or lib folder (but I find
> glaze2.cal). Is there a version of these available for windows?
>
> Also Glaze supports only two glass panes with an interlayer or can cope
> with three-ply build ups?
>
> Thanks again,
>
> G
>
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
> de Valpine
> Sent: 28 October 2010 14:10
> To: Radiance general discussion
> Subject: Re: [Radiance-general] Diffusive laminated material and
> fritting
>
> Hi Giovanni,
>
> I will give a short answer and then try to follow-up later with a longer
>
> explanation. Regarding the diffusing interlayer, as I recall Optics 5 is
>
> not really set up to deal with diffusing materials (unless this has
> changed recently). Regardless, any material definition exported to
> Radiance format will be in the form of three materials: a glass
> definition and a front and back side BRTDfunc. Note however that the
> BRTDfunc (unless this has been changed) is a very simplified material
> definition that is not set up to account for angular variation. There
> are a couple of options to convert Radiance output from Optics 5 to
> something more useful: A) optics2rad or B) glaze. These are both scripts
>
> that come with the standard Radiance distribution.
>
> I am not sure what to suggest for how to manage the diffuse component.
> This can probably be incorporated into a BRTDfunc definition. Regarding
> the fritting, I agree with your presumption that if you are any
> reasonable distance from the building then the individual makeup (lines,
>
> dots, whatever), will disappear in most cases. It is possible to build
> up frit glass definitions (based on percent coverage) using the glaze
> script.
>
> Regards,
>
> -Jack de Valpine
>

From jedev at visarc.com  Thu Oct 28 09:14:07 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Oct 28 09:13:55 2010
Subject: [Radiance-general] Diffusive laminated material and fritting
In-Reply-To: <4CC9A04A.8080702@visarc.com>
References: <4cc876f5.0d1d640a.7378.2bc2SMTPIN_ADDED@mx.google.com>	<4CC8865C.7080908@gmail.com><6F5225D6E15F954BB4E58EC25F6736C305DD20DE@corp3005.CORPORATE.FOSTER.NETWORK>	<4CC9761E.6070500@visarc.com>	<6F5225D6E15F954BB4E58EC25F6736C305DD20F8@corp3005.CORPORATE.FOSTER.NETWORK>
	<4CC9A04A.8080702@visarc.com>
Message-ID: <4CC9A14F.1040806@visarc.com>

One other item to note here. Just to be clear although we are talking 
about real glazing systems with multiple physical layers in their 
makeups, for simulation purposes the behavior is managed through the 
material definition as applied to ONE layer of geometry representing the 
glazing (eg glazing is represented as a surface).

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 10/28/2010 12:09 PM, Jack de Valpine wrote:
> Hi Giovanni,
>
> The glaze script supports an IGU with (2) glass layers only. As I 
> understand from Greg who developed this for us originally, the math 
> starts to get a lot more complicated with a 3rd glass layer. This does 
> not mean that it cannot be done but it would need to be implemented. I 
> guess there are a few things to understand with the glaze script. What 
> you want to get out of Optics 5 is Radiance material exports NOT for 
> the full IGU makeup but instead for each layer of the makeup. Then you 
> can use the transmittance and reflectance data for the exported 
> materials to build material definitions for 2 layer glazing makeups 
> where a coating can be allocated to one surface and a frit to another 
> (note you cannot have both frit and coating applied to the same 
> surface because we do not know how to characterized that). Regarding 
> the interlayer, I think what I would suggest is that (assuming a clear 
> interlayer) is to make up the composite in Optics 5 (eg 2 glass 
> materials with an interlayer) and then export this as a glass layer.
>
> Regarding Ming-w, I am sorry that I am not really familiar with 
> compiling or running Radiance in this way, so I do not really know why 
> things might not be found. Note that glaze is a shell script like 
> falsecolor for example, so if you have falsecolor then glaze "should" 
> be available and work...
>
> -Jack
>
> PS: you could also take a look at my talk at the 2009(?) Radiance 
> Workshop at Harvard, which talks a bit about glaze and some other tools.
>

