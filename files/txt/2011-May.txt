From david.moroder at gmail.com  Mon May  2 02:41:44 2011
From: david.moroder at gmail.com (David Geisler-Moroder)
Date: Mon, 2 May 2011 11:41:44 +0200
Subject: [Radiance-general] Three-Phase Method - subdivision of window
 with sensor located close to the window
In-Reply-To: <BANLkTimtdywSK3JX4QxS04+zqZZ_pzCXTg@mail.gmail.com>
References: <BANLkTi=JxchTz8s2gM9qBD9BkkHsKEh+2A@mail.gmail.com>
	<BANLkTimQq7WLGha-cJGJuX5tuT2KJW581Q@mail.gmail.com>
	<BANLkTimtdywSK3JX4QxS04+zqZZ_pzCXTg@mail.gmail.com>
Message-ID: <BANLkTi=tG6Ndz-tKXk=_e49raaxwLaeJAA@mail.gmail.com>

Hi Anne,

another thing that came to my mind...

You are calling rtcontrib for the VMX using rsensor in your script like
that:
    rsensor -h -rd 1000 -vf views/luxstat.vf sensors/WattStopper_LS-290C.dat
. |\
       rtcontrib -c 1000 -f klems_int.cal -bn Nkbins -fo -o
results/"$vmxname"_%s.vmx \
       -b kbinS -m windowlight -b kbinS -m windowlightsens \
       -I+ -ab 3 -ad 2000 -ds .15 -lw 1e-4 model_vmx.oct

Do you want to obtain the sensor signal split up into the Klems bins?
If yes, I'm not sure if it works like that...

You are using rsensor to generate 1000 rays (i.e. origin and direction)
according to the sensor-file.
These points and directions are then given to rtcontrib, where you use -c
1000 to accumulate all
1000 results and -I+ to switch to irradiances.
However, this means that rtcontrib calculates irradiances for 1000 pairs of
points and directions as
if it was e.g. a grid for illuminance calculations. So you do not obtain the
sensor signal, but a mean
of the 1000 calculated irradiances.

I hope I'm not missing anything...

Cheers,
David



2011/4/30 Anne Iversen <iversen.anne at gmail.com>

> Hi,
> Maybe I was a bit fast concluding that I'll use glow. Comparing the glow
> material to the light material reveals a lower sensor signal when the direct
> irradiation is low and the opposite when direct irradiation is high. Do you
> know why I get this? Due to the ?subsampling? problem of window lights as
> David mentioned because of my sensor location very close to the window?? And
> therefore I should stick to glow?
>
> I have included the results from the glow simulations in the document:
> http://dl.dropbox.com/u/9713279/ThreePhaseMethod_Subdivision.pdf
> (the non-readable legends and axes must be a mac thing...the same happens
> when I open the documet on my mac, I can read the graphs nicely in the pdf
> on my pc. ...have included some text in the captions, if you want to know
> what you are looking at ;-))
>
> And to your question about my sensor, Andy. The sensor is located on the
> window head, just behind the glass. The major detection area is to the
> outside through the window. The sensor used right now comes along with the
> SPOT distribution, and is the WattStopper LD290C - the spatial distribution
> can be seen from the image linked to below. I wouldn't call it a
> narrow/peaky/tight sensitivity distribution:
> http://dl.dropbox.com/u/9713279/SensorSpatialResponse.png
> and I have placed the .dat file here:
> http://dl.dropbox.com/u/9713279/WattStopper_LS-290C.dat
> Why do you believe that using glow probably won't make much difference -
> unless my sensor has a tight and/or peaky sensitivity distribution?
>
>
> Enjoy the weekend. It is pre-summer in Denmark; we've had blue sky for the
> last 14 days, 20C and sun ....who said I miss California?? ;-)
>
> Best,
> Anne
>
>
> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Fri, 29 Apr 2011 09:30:48 -0700
>> From: Andy McNeil <amcneil at lbl.gov>
>>
>> To: Radiance general discussion <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] Three-Phase Method - subdivision of
>>        window  with sensor located close to the window
>> Message-ID: <1DB1235F-E7F9-4392-90E3-444D2661F794 at lbl.gov>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi Anne,
>> Just curious, how do the glow results compare to the light sources?  Could
>> you update the graph with the sensor signals using the glow material?
>> Andy
>>
>>
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110502/964c69d2/attachment.html>

From gregoryjward at gmail.com  Mon May  2 09:14:35 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 2 May 2011 09:14:35 -0700
Subject: [Radiance-general] Three-Phase Method - subdivision of window
	with sensor located close to the window
In-Reply-To: <BANLkTi=tG6Ndz-tKXk=_e49raaxwLaeJAA@mail.gmail.com>
References: <BANLkTi=JxchTz8s2gM9qBD9BkkHsKEh+2A@mail.gmail.com>
	<BANLkTimQq7WLGha-cJGJuX5tuT2KJW581Q@mail.gmail.com>
	<BANLkTimtdywSK3JX4QxS04+zqZZ_pzCXTg@mail.gmail.com>
	<BANLkTi=tG6Ndz-tKXk=_e49raaxwLaeJAA@mail.gmail.com>
Message-ID: <CDF2C1A4-D5B1-42E2-AAF6-604AB5EFAB5D@lmi.net>

Hi Anne,

I believe David is correct.  I should have looked at your command more closely.  The -I+ switch does not belong.  If you remove it (or set -I-), then the computed radiance values will be accumulated according to the distributed rays out of rsensor, then split again into Klems direction bins by rtcontrib.  The *.vmx files will each contain a single row of 145 RGB coefficients, which processed through dctimestep with the window's BTDF file will ultimately yield a single sensor value at each time step.

I hope this makes sense.  I find it a bit confusing, myself!

Best,
-Greg

> From: David Geisler-Moroder <david.moroder at gmail.com>
> Date: May 2, 2011 2:41:44 AM PDT
> 
> Hi Anne,
> 
> another thing that came to my mind...
> 
> You are calling rtcontrib for the VMX using rsensor in your script like that:
>     rsensor -h -rd 1000 -vf views/luxstat.vf sensors/WattStopper_LS-290C.dat . |\
>        rtcontrib -c 1000 -f klems_int.cal -bn Nkbins -fo -o results/"$vmxname"_%s.vmx \
>        -b kbinS -m windowlight -b kbinS -m windowlightsens \
>        -I+ -ab 3 -ad 2000 -ds .15 -lw 1e-4 model_vmx.oct
> 
> Do you want to obtain the sensor signal split up into the Klems bins?
> If yes, I'm not sure if it works like that...
> 
> You are using rsensor to generate 1000 rays (i.e. origin and direction) according to the sensor-file. 
> These points and directions are then given to rtcontrib, where you use -c 1000 to accumulate all 
> 1000 results and -I+ to switch to irradiances.
> However, this means that rtcontrib calculates irradiances for 1000 pairs of points and directions as
> if it was e.g. a grid for illuminance calculations. So you do not obtain the sensor signal, but a mean 
> of the 1000 calculated irradiances. 
> 
> I hope I'm not missing anything...
> 
> Cheers,
> David


From amcneil at lbl.gov  Mon May  2 10:07:55 2011
From: amcneil at lbl.gov (Andy McNeil)
Date: Mon, 2 May 2011 10:07:55 -0700
Subject: [Radiance-general] Three-Phase Method - subdivision of window
	with sensor located close to the window
In-Reply-To: <BANLkTimtdywSK3JX4QxS04+zqZZ_pzCXTg@mail.gmail.com>
References: <BANLkTi=JxchTz8s2gM9qBD9BkkHsKEh+2A@mail.gmail.com>
	<BANLkTimQq7WLGha-cJGJuX5tuT2KJW581Q@mail.gmail.com>
	<BANLkTimtdywSK3JX4QxS04+zqZZ_pzCXTg@mail.gmail.com>
Message-ID: <D7FA3DC1-A078-4A04-9615-AC057B36843E@lbl.gov>


On Apr 30, 2011, at 6:11 AM, Anne Iversen wrote:

> Why do you believe that using glow probably won't make much difference - unless my sensor has a tight and/or peaky sensitivity distribution?


Low resolution sampling of the outgoing window directions will only affect calculations on surfaces near the window.  And they should just cause noise that is a fraction of the values from the direct sampling of the window by rsensor.  So the only way I can think that glow vs. light would make a sizable difference is if your sensor is somewhat shielded from the window (by sensitivity or by placement) and/or most of the rsensor samples a sent to surfaces near the window ( ie focused sensitivity).  Neither of these seem to be the cause though using -I+ would have had the effect of masking the direct contribution from the window in a similar way because rsensor rays that hit the window don't return a direct value but instead start an iluminance calculation on the window. 

I'd suggest that while you are running everything again without -I that you also simulate using classic Radiance techniques (ie not the three-phase method). 

Andy



From sotos.enveng at gmail.com  Wed May  4 13:47:16 2011
From: sotos.enveng at gmail.com (=?ISO-8859-7?B?0/n03vHn8iDQ4fDh7fT57d/v9Q==?=)
Date: Wed, 4 May 2011 23:47:16 +0300
Subject: [Radiance-general] Gendaylit command
In-Reply-To: <AANLkTi=34MVYB_Rn2obvk_O16O3TNmaZ0EiL5kSfpA2_@mail.gmail.com>
References: <AANLkTimgV9x3tQ-vpF5WWNqf3KYM5KRDPb+w9UbjX7BN@mail.gmail.com>
	<C5E1527F129BF545A250B5AD0B0C26EF08AC8C6A@ENTWEXMB0000000.university.harvard.edu>
	<AANLkTi=34MVYB_Rn2obvk_O16O3TNmaZ0EiL5kSfpA2_@mail.gmail.com>
Message-ID: <BANLkTimP=Z51E4KiUJXBYqEWfMX=k32mkg@mail.gmail.com>

Hello everyone,

i am trying to use command gendaylit by i receive the following message:

# gendaylit 3 2 15 -a 42 -o 108 -W 100 100
file coeff_perez.dat cannot be opened
lect_coeff_perez does not work

file: "coeff_perez.dat" is not in the computer. Can you please give me
any solution??

Thank you very much

Sotiris

2011/3/18 Krystyna Zelenay <kzelenay at berkeley.edu>:
> Hi,
>
> Thank you very much for your input.
>
> I am considering using horizontal (direct and diffuse) irradiance data
> since this is the required DIVA input. However, now I am wondering if
> I can actually use TMY3 data since I think these may be hourly
> averages calculated for the 60-minute period preceding the timestamp.
> While I could subtract 30 minutes from the timestamp, this would only
> be an approximation at best.
>
> I wonder if anyone knows of any sources of instantaneous GH direct and
> GH diffuse irradiance data (required input for DIVA) or a way I could
> use the TMY3 hourly averages?
>
> Krystyna
>
>
>
>
> On Thu, Mar 17, 2011 at 11:01 AM, Reinhart, Christoph
> <reinhart at gsd.harvard.edu> wrote:
>> Dear Krystyna,
>>
>> The DIAV-for-Rhino input for gendaylit is not ideal right now but we are
>> working on it. If you have measured global solar radiation that you want
>> to use to generate a Perez sky using gendaylit, you can - for example -
>> use a little program called 'gen_reindl' that comes with Daysim. Just
>> open a DOS command and type 'gen_reindl' and you will get a description
>> of the required input and resulting output file formats. The output
>> direct and diffuse irradiance are what you have to enter into the DIVA
>> dialogue box. As the name suggests, the program uses the 'Reindl model'
>> to generate direct and diffuse irradiances for global irradiances
>> (http://www.sciencedirect.com/science?_ob=ArticleURL&_udi=B6V50-497TD1G-
>> 1GR&_user=10&_coverDate=12%2F31%2F1990&_alid=1682991794&_rdoc=3&_fmt=hig
>> h&_orig=search&_origin=search&_zone=rslt_list_item&_cdi=5772&_sort=r&_st
>> =13&_docanchor=&view=c&_ct=5&_acct=C000050221&_version=1&_urlVersion=0&_
>> userid=10&md5=40baa0c089e7bf9f8f3a02f4581aafbe&searchtype=a) . The model
>> is not necessarily the 'best' model available any more. But, when I
>> wrote the program about eight years ago and it did a convincing job for
>> a site in Ottawa.
>>
>> I hope that this helps.
>>
>> All the best,
>>
>> Christoph
>>
>> -----Original Message-----
>> From: Krystyna Zelenay [mailto:kzelenay at berkeley.edu]
>> Sent: Wednesday, March 16, 2011 3:12 AM
>> To: Radiance general discussion
>> Subject: [Radiance-general] Gendaylit command
>>
>> Hi,
>>
>> I am trying to define a clear and overcast sky for a particular
>> location using gendaylit. I have collected global horizontal exterior
>> illuminance data, but no diffuse illum. or irradiance data, so I would
>> thus like to use TMY3 data. I am using DIVA-for-Rhino which requires
>> an input in W/m2 for gendaylit, so I have two options:
>>
>> a) use the direct and diffuse horizontal irradiance values from the TMY3
>> file
>> b) divide the direct and diffuse horizontal illuminances by 179 lm/W
>> to obtain the irradiances
>>
>> Which of these is the correct input for gendaylit?
>>
>> What is the significance of the luminous efficacy used in Radiance
>> (179 lm/W)? The book "Rendering with Radiance" states that luminous
>> efficacy can vary from 50 to 150 lm/W depending on the type of sky or
>> light considered (p357). And indeed when I divide for example, diffuse
>> horizontal illum. data by 179, the irradiances I get are quite
>> different from those in the TMY3 file.
>>
>> Does this mean that I should use the irradiance data from the TMY3 file?
>>
>> Thanks,
>>
>> Krystyna Zelenay
>>
>>
>>
>>
>> from the site (but not irradiance data).The default DIVA input is in
>> terms of
>> direct horizontal irradiance (W/m^2) and
>> diffuse horizontalirradiance (W/m^2)
>>
>> Is there a way to change the default input to
>>
>> NORMAL horizontal ILLUMINANCE (lm/m^2) and
>> diffuse horizontal ILLUMINANCE (lm/m^2)
>> (i.e. similar to the -L option in the gendaylit command)
>>
>> Alternatively, does anyone know how to go about converting illuminance
>> to irradiance data?
>>
>> Thank you,
>>
>> Krystyna
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From tbleicher at googlemail.com  Wed May  4 15:04:29 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed, 4 May 2011 17:04:29 -0500
Subject: [Radiance-general] error message "file coeff_perez.dat cannot
	be opened"
Message-ID: <BANLkTi=zgBdp2XkN1-R5=UJq_ypvq_fJkA@mail.gmail.com>

Hi Sotiris.

How did you install Radiance/gendaylit?

If you are on Linux and used a recent Debian package then see here:

http://www.radiance-online.org/pipermail/radiance-dev/2011-January/001093.html

The package maintainer forgot to include the file in the package. You can
try to install an older package or use the source from the official website
(see below).

If you use another system (OS X or Windows) you should check that your
RAYPATH environment variable is set. Then check that the file is not in the
folders listed in RAYPATH.

If you are sure that you don't have the file grab the Radiance source code
from here:

http://www.radiance-online.org/software/rad4R0all.tar.gz

Extract the archive, search for the file and place it in one of the folders
listed in your RAYPATH. That should do it.

Regards,
Thomas



2011/5/4 ??????? ??????????? <sotos.enveng at gmail.com>

> Hello everyone,
>
> i am trying to use command gendaylit by i receive the following message:
>
> # gendaylit 3 2 15 -a 42 -o 108 -W 100 100
> file coeff_perez.dat cannot be opened
> lect_coeff_perez does not work
>
> file: "coeff_perez.dat" is not in the computer. Can you please give me
> any solution??
>
> Thank you very much
>
> Sotiris
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110504/50f013c1/attachment.html>

From d.appelfeld at gmail.com  Thu May  5 16:56:01 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Thu, 5 May 2011 16:56:01 -0700
Subject: [Radiance-general] using turbidity in gensky
Message-ID: <BANLkTi=KJb=0pjf_8bomOFz3pmLgQDJ_jQ@mail.gmail.com>

Hello Radiance users,

I am trying to generate sky distribution during sunny day for my model to
compare the results with the measured data of illuminance. It seems that the
day when the measurements were obtained was very clear and I would like to
decrease the turbidity in gensky to get higher global and vertical
illuminance.
When I decreased the turbidity from the default of 2.45 to 1 then the
illuminance decrease, while when I increase -t option then the illuminance
increase too. I would actually expect opposite, and that the illuminance
will increase with lower turbidity since the turbidity should scattered
light more and thus block the direct contribution and increase the diffuse
contribution form the sky.

Here is the gensky command I am using:
gensky 9 5 $(printf "%02d:%02d" $h $m)CEST -a 55.964875 -o -12.4934 -m -15
+s -t 1

Does someone have had this problem before? Or is this as gensky should
works?

Thank you
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110505/cf4bf749/attachment.html>

From gregoryjward at gmail.com  Thu May  5 17:02:59 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 5 May 2011 17:02:59 -0700
Subject: [Radiance-general] using turbidity in gensky
In-Reply-To: <BANLkTi=KJb=0pjf_8bomOFz3pmLgQDJ_jQ@mail.gmail.com>
References: <BANLkTi=KJb=0pjf_8bomOFz3pmLgQDJ_jQ@mail.gmail.com>
Message-ID: <FE1995B9-658C-4B73-8213-7F2AE8F1FB29@lmi.net>

Hi David,

It may seem counterintuitive, but the way gensky works is that the solar intensity is unaffected by turbidity.  Decreasing turbidity actually reduces the sky zenith brightness using a simple model, which makes sense since no atmosphere would look like a night sky even in the daytime.  Thus, since we don't properly account for the loss in solar intensity as turbidity is reduced, the total illuminance goes up.

Generally speaking, you shouldn't bother with the turbidity setting at all.  Since it only affects the default sky brightness and not the sky distribution, it makes more sense to control these values directly using any of the -b, -B, -r, or -R options for setting radiance or irradiance.

Best,
-Greg

> From: David Appelfeld <d.appelfeld at gmail.com>
> Date: May 5, 2011 4:56:01 PM PDT
> 
> Hello Radiance users,
> 
> I am trying to generate sky distribution during sunny day for my model to compare the results with the measured data of illuminance. It seems that the day when the measurements were obtained was very clear and I would like to decrease the turbidity in gensky to get higher global and vertical illuminance.
> When I decreased the turbidity from the default of 2.45 to 1 then the illuminance decrease, while when I increase -t option then the illuminance increase too. I would actually expect opposite, and that the illuminance will increase with lower turbidity since the turbidity should scattered light more and thus block the direct contribution and increase the diffuse contribution form the sky.
> 
> Here is the gensky command I am using:
> gensky 9 5 $(printf "%02d:%02d" $h $m)CEST -a 55.964875 -o -12.4934 -m -15 +s -t 1 
> 
> Does someone have had this problem before? Or is this as gensky should works? 
> 
> Thank you 
> David


From tbleicher at googlemail.com  Thu May  5 17:07:20 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu, 5 May 2011 19:07:20 -0500
Subject: [Radiance-general] using turbidity in gensky
In-Reply-To: <BANLkTi=KJb=0pjf_8bomOFz3pmLgQDJ_jQ@mail.gmail.com>
References: <BANLkTi=KJb=0pjf_8bomOFz3pmLgQDJ_jQ@mail.gmail.com>
Message-ID: <BANLkTikt6dj2CfdC5T6SRSCtDM2Ka-Z8OQ@mail.gmail.com>

David

If you want to match measured values you should use the -R or -B options.
See the man page for details.

Regards,
Thomas

On Thu, May 5, 2011 at 6:56 PM, David Appelfeld <d.appelfeld at gmail.com>wrote:

> Hello Radiance users,
>
> I am trying to generate sky distribution during sunny day for my model to
> compare the results with the measured data of illuminance. It seems that the
> day when the measurements were obtained was very clear and I would like to
> decrease the turbidity in gensky to get higher global and vertical
> illuminance.
> When I decreased the turbidity from the default of 2.45 to 1 then the
> illuminance decrease, while when I increase -t option then the illuminance
> increase too. I would actually expect opposite, and that the illuminance
> will increase with lower turbidity since the turbidity should scattered
> light more and thus block the direct contribution and increase the diffuse
> contribution form the sky.
>
> Here is the gensky command I am using:
> gensky 9 5 $(printf "%02d:%02d" $h $m)CEST -a 55.964875 -o -12.4934 -m -15
> +s -t 1
>
> Does someone have had this problem before? Or is this as gensky should
> works?
>
> Thank you
> David
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110505/4706244f/attachment.html>

From d.appelfeld at gmail.com  Thu May  5 17:25:26 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Thu, 5 May 2011 17:25:26 -0700
Subject: [Radiance-general] using turbidity in gensky
In-Reply-To: <FE1995B9-658C-4B73-8213-7F2AE8F1FB29@lmi.net>
References: <BANLkTi=KJb=0pjf_8bomOFz3pmLgQDJ_jQ@mail.gmail.com>
	<FE1995B9-658C-4B73-8213-7F2AE8F1FB29@lmi.net>
Message-ID: <BANLkTikZHAfQK7H7_N50aSNZBV5uy+Pfdw@mail.gmail.com>

Hi Greg and Thomas,

thank you for the answer. I was not sure if I can use -R option, because I
have available only global horizontal irradiation and illuminance and it
seems from gensky manual that I need to have direct irradiance measured
horizontally without the diffuse contribution.
In the case I can use -R option, will the gensky looks simple like this
gensky 9 5 12:30CEST -a 55.964875 -o -12.4934 -m -15 +s -R 600

thank you
David

On 5 May 2011 17:02, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi David,
>
> It may seem counterintuitive, but the way gensky works is that the solar
> intensity is unaffected by turbidity.  Decreasing turbidity actually reduces
> the sky zenith brightness using a simple model, which makes sense since no
> atmosphere would look like a night sky even in the daytime.  Thus, since we
> don't properly account for the loss in solar intensity as turbidity is
> reduced, the total illuminance goes up.
>
> Generally speaking, you shouldn't bother with the turbidity setting at all.
>  Since it only affects the default sky brightness and not the sky
> distribution, it makes more sense to control these values directly using any
> of the -b, -B, -r, or -R options for setting radiance or irradiance.
>
> Best,
> -Greg
>
> > From: David Appelfeld <d.appelfeld at gmail.com>
> > Date: May 5, 2011 4:56:01 PM PDT
> >
> > Hello Radiance users,
> >
> > I am trying to generate sky distribution during sunny day for my model to
> compare the results with the measured data of illuminance. It seems that the
> day when the measurements were obtained was very clear and I would like to
> decrease the turbidity in gensky to get higher global and vertical
> illuminance.
> > When I decreased the turbidity from the default of 2.45 to 1 then the
> illuminance decrease, while when I increase -t option then the illuminance
> increase too. I would actually expect opposite, and that the illuminance
> will increase with lower turbidity since the turbidity should scattered
> light more and thus block the direct contribution and increase the diffuse
> contribution form the sky.
> >
> > Here is the gensky command I am using:
> > gensky 9 5 $(printf "%02d:%02d" $h $m)CEST -a 55.964875 -o -12.4934 -m
> -15 +s -t 1
> >
> > Does someone have had this problem before? Or is this as gensky should
> works?
> >
> > Thank you
> > David
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110505/072aebcd/attachment.html>

From Christopher.Rush at arup.com  Fri May  6 06:24:32 2011
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 6 May 2011 09:24:32 -0400
Subject: [Radiance-general] using turbidity in gensky
In-Reply-To: <BANLkTikZHAfQK7H7_N50aSNZBV5uy+Pfdw@mail.gmail.com>
References: <BANLkTi=KJb=0pjf_8bomOFz3pmLgQDJ_jQ@mail.gmail.com>
	<FE1995B9-658C-4B73-8213-7F2AE8F1FB29@lmi.net>
	<BANLkTikZHAfQK7H7_N50aSNZBV5uy+Pfdw@mail.gmail.com>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B04A795595D1@AMXEXC01.global.arup.com>

E(global-h) = E(diffuse-h) + E(direct-h)

or

E(global-h) = (-B value) + (-R value)


Note that this is different than the values used for gendaylit -W or -L which require direct *normal* and diffuse horizontal. But for gensky it seems the horizontal value is used for both diffuse and direct components, so take advantage of the additive nature of light.


From: David Appelfeld [mailto:d.appelfeld at gmail.com]
Sent: Thursday, May 05, 2011 8:25 PM


I was not sure if I can use -R option, because I have available only global horizontal irradiation and illuminance and it seems from gensky manual that I need to have direct irradiance measured horizontally without the diffuse contribution.

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110506/d522e488/attachment-0001.html>

From iversen.anne at gmail.com  Sat May  7 11:04:14 2011
From: iversen.anne at gmail.com (Anne Iversen)
Date: Sat, 7 May 2011 20:04:14 +0200
Subject: [Radiance-general] Three-Phase Method - subdivision of window
 with sensor located close to the window
Message-ID: <BANLkTikm_JiPEmqt4pr6=d9nv52y2ewtKA@mail.gmail.com>

Hi David, Greg and Andy,
Have been in Lausanne for a great Daylight Symposium, so it's first now I
find the time to look at your comments.

My bummer! You're right, the -I does not belong. Thanks for noticing the
mistake and explain the reason why :-) :-). This is no excuse, but I did
find it myself when comparing rsensor 'cosine distribution' (from SPOT
distribution) to a simulation with a standard sensor point, and have been
wondering why??

And yep - Andy, I'll run it all again. Both three phase method and standard
Radiance technique. I'll let you know how it works out.

THANKS :-)
Best,
Anne

On Mon, May 2, 2011 at 9:00 PM, <
radiance-general-request at radiance-online.org> wrote:

> Send Radiance-general mailing list submissions to
>        radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>        radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>        radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>   1. Re: Three-Phase Method - subdivision of window with sensor
>      located close to the window (David Geisler-Moroder)
>   2. Re: Three-Phase Method - subdivision of window    with sensor
>      located close to the window (Greg Ward)
>   3. Re: Three-Phase Method - subdivision of window    with sensor
>      located close to the window (Andy McNeil)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 2 May 2011 11:41:44 +0200
> From: David Geisler-Moroder <david.moroder at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Three-Phase Method - subdivision of
>        window with sensor located close to the window
> Message-ID: <BANLkTi=tG6Ndz-tKXk=_e49raaxwLaeJAA at mail.gmail.com>
> Content-Type: text/plain; charset="windows-1252"
>
> Hi Anne,
>
> another thing that came to my mind...
>
> You are calling rtcontrib for the VMX using rsensor in your script like
> that:
>    rsensor -h -rd 1000 -vf views/luxstat.vf sensors/WattStopper_LS-290C.dat
> . |\
>       rtcontrib -c 1000 -f klems_int.cal -bn Nkbins -fo -o
> results/"$vmxname"_%s.vmx \
>       -b kbinS -m windowlight -b kbinS -m windowlightsens \
>       -I+ -ab 3 -ad 2000 -ds .15 -lw 1e-4 model_vmx.oct
>
> Do you want to obtain the sensor signal split up into the Klems bins?
> If yes, I'm not sure if it works like that...
>
> You are using rsensor to generate 1000 rays (i.e. origin and direction)
> according to the sensor-file.
> These points and directions are then given to rtcontrib, where you use -c
> 1000 to accumulate all
> 1000 results and -I+ to switch to irradiances.
> However, this means that rtcontrib calculates irradiances for 1000 pairs of
> points and directions as
> if it was e.g. a grid for illuminance calculations. So you do not obtain
> the
> sensor signal, but a mean
> of the 1000 calculated irradiances.
>
> I hope I'm not missing anything...
>
> Cheers,
> David
>
>
>
> 2011/4/30 Anne Iversen <iversen.anne at gmail.com>
>
> > Hi,
> > Maybe I was a bit fast concluding that I'll use glow. Comparing the glow
> > material to the light material reveals a lower sensor signal when the
> direct
> > irradiation is low and the opposite when direct irradiation is high. Do
> you
> > know why I get this? Due to the ?subsampling? problem of window lights as
> > David mentioned because of my sensor location very close to the window??
> And
> > therefore I should stick to glow?
> >
> > I have included the results from the glow simulations in the document:
> > http://dl.dropbox.com/u/9713279/ThreePhaseMethod_Subdivision.pdf
> > (the non-readable legends and axes must be a mac thing...the same happens
> > when I open the documet on my mac, I can read the graphs nicely in the
> pdf
> > on my pc. ...have included some text in the captions, if you want to know
> > what you are looking at ;-))
> >
> > And to your question about my sensor, Andy. The sensor is located on the
> > window head, just behind the glass. The major detection area is to the
> > outside through the window. The sensor used right now comes along with
> the
> > SPOT distribution, and is the WattStopper LD290C - the spatial
> distribution
> > can be seen from the image linked to below. I wouldn't call it a
> > narrow/peaky/tight sensitivity distribution:
> > http://dl.dropbox.com/u/9713279/SensorSpatialResponse.png
> > and I have placed the .dat file here:
> > http://dl.dropbox.com/u/9713279/WattStopper_LS-290C.dat
> > Why do you believe that using glow probably won't make much difference -
> > unless my sensor has a tight and/or peaky sensitivity distribution?
> >
> >
> > Enjoy the weekend. It is pre-summer in Denmark; we've had blue sky for
> the
> > last 14 days, 20C and sun ....who said I miss California?? ;-)
> >
> > Best,
> > Anne
> >
> >
> > ----------------------------------------------------------------------
> >>
> >> Message: 1
> >> Date: Fri, 29 Apr 2011 09:30:48 -0700
> >> From: Andy McNeil <amcneil at lbl.gov>
> >>
> >> To: Radiance general discussion <radiance-general at radiance-online.org>
> >> Subject: Re: [Radiance-general] Three-Phase Method - subdivision of
> >>        window  with sensor located close to the window
> >> Message-ID: <1DB1235F-E7F9-4392-90E3-444D2661F794 at lbl.gov>
> >>
> >> Content-Type: text/plain; charset="us-ascii"
> >>
> >> Hi Anne,
> >> Just curious, how do the glow results compare to the light sources?
>  Could
> >> you update the graph with the sensor signals using the glow material?
> >> Andy
> >>
> >>
> >>
> >>
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> >
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/20110502/964c69d2/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 2
> Date: Mon, 2 May 2011 09:14:35 -0700
> From: Greg Ward <gregoryjward at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Three-Phase Method - subdivision of
>        window  with sensor located close to the window
> Message-ID: <CDF2C1A4-D5B1-42E2-AAF6-604AB5EFAB5D at lmi.net>
> Content-Type: text/plain; charset=us-ascii
>
> Hi Anne,
>
> I believe David is correct.  I should have looked at your command more
> closely.  The -I+ switch does not belong.  If you remove it (or set -I-),
> then the computed radiance values will be accumulated according to the
> distributed rays out of rsensor, then split again into Klems direction bins
> by rtcontrib.  The *.vmx files will each contain a single row of 145 RGB
> coefficients, which processed through dctimestep with the window's BTDF file
> will ultimately yield a single sensor value at each time step.
>
> I hope this makes sense.  I find it a bit confusing, myself!
>
> Best,
> -Greg
>
> > From: David Geisler-Moroder <david.moroder at gmail.com>
> > Date: May 2, 2011 2:41:44 AM PDT
> >
> > Hi Anne,
> >
> > another thing that came to my mind...
> >
> > You are calling rtcontrib for the VMX using rsensor in your script like
> that:
> >     rsensor -h -rd 1000 -vf views/luxstat.vf
> sensors/WattStopper_LS-290C.dat . |\
> >        rtcontrib -c 1000 -f klems_int.cal -bn Nkbins -fo -o
> results/"$vmxname"_%s.vmx \
> >        -b kbinS -m windowlight -b kbinS -m windowlightsens \
> >        -I+ -ab 3 -ad 2000 -ds .15 -lw 1e-4 model_vmx.oct
> >
> > Do you want to obtain the sensor signal split up into the Klems bins?
> > If yes, I'm not sure if it works like that...
> >
> > You are using rsensor to generate 1000 rays (i.e. origin and direction)
> according to the sensor-file.
> > These points and directions are then given to rtcontrib, where you use -c
> 1000 to accumulate all
> > 1000 results and -I+ to switch to irradiances.
> > However, this means that rtcontrib calculates irradiances for 1000 pairs
> of points and directions as
> > if it was e.g. a grid for illuminance calculations. So you do not obtain
> the sensor signal, but a mean
> > of the 1000 calculated irradiances.
> >
> > I hope I'm not missing anything...
> >
> > Cheers,
> > David
>
>
>
> ------------------------------
>
> Message: 3
> Date: Mon, 2 May 2011 10:07:55 -0700
> From: Andy McNeil <amcneil at lbl.gov>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Three-Phase Method - subdivision of
>        window  with sensor located close to the window
> Message-ID: <D7FA3DC1-A078-4A04-9615-AC057B36843E at lbl.gov>
> Content-Type: text/plain; charset=us-ascii
>
>
> On Apr 30, 2011, at 6:11 AM, Anne Iversen wrote:
>
> > Why do you believe that using glow probably won't make much difference -
> unless my sensor has a tight and/or peaky sensitivity distribution?
>
>
> Low resolution sampling of the outgoing window directions will only affect
> calculations on surfaces near the window.  And they should just cause noise
> that is a fraction of the values from the direct sampling of the window by
> rsensor.  So the only way I can think that glow vs. light would make a
> sizable difference is if your sensor is somewhat shielded from the window
> (by sensitivity or by placement) and/or most of the rsensor samples a sent
> to surfaces near the window ( ie focused sensitivity).  Neither of these
> seem to be the cause though using -I+ would have had the effect of masking
> the direct contribution from the window in a similar way because rsensor
> rays that hit the window don't return a direct value but instead start an
> iluminance calculation on the window.
>
> I'd suggest that while you are running everything again without -I that you
> also simulate using classic Radiance techniques (ie not the three-phase
> method).
>
> Andy
>
>
>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 87, Issue 1
> ***********************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110507/dfedd98c/attachment.html>

From cbm at create.aau.dk  Tue May 10 13:13:29 2011
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Tue, 10 May 2011 22:13:29 +0200
Subject: [Radiance-general] Compiling RADIANCE under Cygwin with no X11
	support
Message-ID: <E35477F1A321144D897D44CCAAFF202C0E2C11E28F@AD-MAILBOX01.aau.dk>



Hi,

I wish to compile the HEAD version of RADIANCE under Cygwin. To save disk space (I have a solid state disk) I have opted not to install X11 for Cygwin, since I will not need ximage or any other X related feature.

I am going through the noX11.help file and applying the "fixes". Ran into problems (the noX11.help is not quite up to date with the actual line numbers of the Rmakefiles etc. but I can abstract from that) ... concerning the fix I need to apply to src/rt/devtable.c

I need to make minor modifications to the code, but I do know what to write instead of "x11" when I do not have a Sun nor an SGI machine.

Best
Claus




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110510/77728d9a/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Claus Br?ndgaard Madsen.vcf
Type: text/x-vcard
Size: 6224 bytes
Desc: Claus Br?ndgaard Madsen.vcf
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110510/77728d9a/attachment.vcf>

From gregoryjward at gmail.com  Tue May 10 16:19:16 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 10 May 2011 16:19:16 -0700
Subject: [Radiance-general] Compiling RADIANCE under Cygwin with no X11
	support
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C0E2C11E28F@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C0E2C11E28F@AD-MAILBOX01.aau.dk>
Message-ID: <B3E74B59-5C5E-400A-A395-70E1FF1DA09D@lmi.net>

This post really belongs on the developer's list, so I'm cross-posting.  Please subscribe to that if you haven't already and respond there.

You should not compile rvu if you have no output device to use with it.  You can take it out of the dependencies in the src/rt/Rmakefile, and avoid the problem that way.

Cheers,
-Greg

> From: Claus Br?ndgaard Madsen <cbm at create.aau.dk>
> Date: May 10, 2011 1:13:29 PM PDT 
>  
> 
> Hi,
> 
>  
> 
> I wish to compile the HEAD version of RADIANCE under Cygwin. To save disk space (I have a solid state disk) I have opted not to install X11 for Cygwin, since I will not need ximage or any other X related feature.
> 
>  
> 
> I am going through the noX11.help file and applying the ?fixes?. Ran into problems (the noX11.help is not quite up to date with the actual line numbers of the Rmakefiles etc. but I can abstract from that) ? concerning the fix I need to apply to src/rt/devtable.c
> 
>  
> 
> I need to make minor modifications to the code, but I do know what to write instead of ?x11? when I do not have a Sun nor an SGI machine.
> 
>  
> 
> Best
> 
> Claus
> 


From sotos.enveng at gmail.com  Wed May 11 10:53:20 2011
From: sotos.enveng at gmail.com (Sotiris Papantoniou)
Date: Wed, 11 May 2011 20:53:20 +0300
Subject: [Radiance-general] error message "file coeff_perez.dat
	cannot	be opened"
In-Reply-To: <BANLkTi=zgBdp2XkN1-R5=UJq_ypvq_fJkA@mail.gmail.com>
References: <BANLkTi=zgBdp2XkN1-R5=UJq_ypvq_fJkA@mail.gmail.com>
Message-ID: <4dcacd1f.5003cc0a.34c8.1b7b@mx.google.com>

Hi Thomas,

 

I am running Ubuntu 11.04 and I installed Radiance through Synaptic package
manager

 

I copied the "coeff_perez.dat" file but gendaylit again did not work because
it could not access "defangle.dat"

 

I have now download the source code from the site but when I copy the file
to /usr/share/radiance the file has an "X" on the top  right of its image.

 

Any new suggestions?

 

Sotiris 

 

From: Thomas Bleicher [mailto:tbleicher at googlemail.com] 
Sent: Thursday, May 05, 2011 1:04 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] error message "file coeff_perez.dat cannot
be opened"

 

Hi Sotiris.

 

How did you install Radiance/gendaylit?

 

If you are on Linux and used a recent Debian package then see here:

 

http://www.radiance-online.org/pipermail/radiance-dev/2011-January/001093.ht
ml

 

The package maintainer forgot to include the file in the package. You can
try to install an older package or use the source from the official website
(see below).

 

If you use another system (OS X or Windows) you should check that your
RAYPATH environment variable is set. Then check that the file is not in the
folders listed in RAYPATH.

 

If you are sure that you don't have the file grab the Radiance source code
from here:

 

http://www.radiance-online.org/software/rad4R0all.tar.gz

 

Extract the archive, search for the file and place it in one of the folders
listed in your RAYPATH. That should do it.

 

Regards,

Thomas     

 

 

 

2011/5/4 ??????? ??????????? <sotos.enveng at gmail.com>

Hello everyone,

i am trying to use command gendaylit by i receive the following message:

# gendaylit 3 2 15 -a 42 -o 108 -W 100 100
file coeff_perez.dat cannot be opened
lect_coeff_perez does not work

file: "coeff_perez.dat" is not in the computer. Can you please give me
any solution??

Thank you very much

Sotiris

  _____  

No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1325 / Virus Database: 1500/3614 - Release Date: 05/04/11

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110511/42ca6ab6/attachment-0001.html>

From tbleicher at googlemail.com  Wed May 11 11:21:33 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed, 11 May 2011 13:21:33 -0500
Subject: [Radiance-general] error message "file coeff_perez.dat cannot
	be opened"
In-Reply-To: <4dcacd1f.5003cc0a.34c8.1b7b@mx.google.com>
References: <BANLkTi=zgBdp2XkN1-R5=UJq_ypvq_fJkA@mail.gmail.com>
	<4dcacd1f.5003cc0a.34c8.1b7b@mx.google.com>
Message-ID: <BANLkTikEudPyhty3=BpVOG75bz3RZp9OgA@mail.gmail.com>

2011/5/11 Sotiris Papantoniou <sotos.enveng at gmail.com>

> Hi Thomas,
>
>
>
> I am running Ubuntu 11.04 and I installed Radiance through Synaptic package
> manager
>

So I suspect that you have installed the incomplete package.


> I copied the ?coeff_perez.dat? file but gendaylit again did not work
> because it could not access ?defangle.dat?
>

Yes. That too was mentioned in the post I pointed you to.

I have now download the source code from the site but when I copy the file
> to /usr/share/radiance the file has an ?X? on the top  right of its image.
>

Can you be more specific, please. I assume you are neither familiar with a
Unix/Linux system nor the command line. I also assume that you have unpacked
the source package and copied the two files "coeff_perez.dat" and
"defangle.dat" to /usr/share/radiance.

Now, if you still get errors it might be related to the permissions of those
two files (which might be indicated by the "X" you are referring to). Open a
console window and type the commands

sudo chmod 644 /usr/share/radiance/coeff_perez.dat
/usr/share/radiance/defangle.dat
sudo chown root:root /usr/share/radiance/coeff_perez.dat
/usr/share/radiance/defangle.dat

After the first command you will have to provide your password to get the
required privileges.

With this your Radiance installation should be complete.

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110511/ea5b31fe/attachment.html>

From Chris.Coulter at smithgroup.com  Wed May 11 12:16:24 2011
From: Chris.Coulter at smithgroup.com (Chris Coulter)
Date: Wed, 11 May 2011 15:16:24 -0400
Subject: [Radiance-general] mirror specular reflections
Message-ID: <6025C928C785944983BD457EB996C1360CE7505B12@SG-EXCHMB1>

Good day list.
I'm trying to test various materials for use in a light shelf. Currently, I'm testing a simple box (genbox wall room 10 10 10 -i) with south wall removed and the floor's material set to a "mirror" or variations of "metal". My gensky definition is: gensky 03 21 9 +s -a 39.7 -o 105.2 -m 105, which places direct sun on both the floor and west wall.
When viewing the octree in rvu, there is no specular reflection from the floor with either mirror or metal (with 0 roughness). However, a metal with small roughness has some scattered reflection. I've tried changing parameters on many of the rpict options to try to solve the issue, but have had no luck.
I'm currently running a HEAD distro from early January this year. About 15 months ago, I was able to get specular reflections from a mirror (similar study) from the 4R0.

Any help/advice would be greatly appreciated.

Chris M. Coulter, LC, IESNA, LEED AP
Associate
Lighting Designer
President, Detroit Section of the Illuminating Engineering Society
............................................................

SmithGroup
500 Griswold, Suite 1700
Detroit, MI 48226

t 313.983.3600

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110511/bc9ffb5a/attachment.html>

From tbleicher at googlemail.com  Wed May 11 12:36:03 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed, 11 May 2011 14:36:03 -0500
Subject: [Radiance-general] mirror specular reflections
In-Reply-To: <6025C928C785944983BD457EB996C1360CE7505B12@SG-EXCHMB1>
References: <6025C928C785944983BD457EB996C1360CE7505B12@SG-EXCHMB1>
Message-ID: <BANLkTimYWMk9tX5=KZ9fKp5Azue6WrbBEA@mail.gmail.com>

Chris

The main options should be -ab (for at least 1 bounce) and -dr (for "direct
relay" which is what the mirror material creates). Have you incremented both
of these parameters?

Regards,
Thomas

On Wed, May 11, 2011 at 2:16 PM, Chris Coulter <Chris.Coulter at smithgroup.com
> wrote:

> Good day list.
>
> I?m trying to test various materials for use in a light shelf. Currently,
> I?m testing a simple box (genbox wall room 10 10 10 ?i) with south wall
> removed and the floor?s material set to a ?mirror? or variations of ?metal?.
> My gensky definition is: gensky 03 21 9 +s -a 39.7 -o 105.2 -m 105, which
> places direct sun on both the floor and west wall.
>
> When viewing the octree in rvu, there is no specular reflection from the
> floor with either mirror or metal (with 0 roughness). However, a metal with
> small roughness has some scattered reflection. I?ve tried changing
> parameters on many of the rpict options to try to solve the issue, but have
> had no luck.
>
> I?m currently running a HEAD distro from early January this year. About 15
> months ago, I was able to get specular reflections from a mirror (similar
> study) from the 4R0.
>
>
>
> Any help/advice would be greatly appreciated.
>
>
>
> *Chris M. Coulter, LC, IESNA, LEED AP*
> Associate
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110511/e31658a9/attachment.html>

From jedev at visarc.com  Wed May 11 12:41:53 2011
From: jedev at visarc.com (Jack de Valpine)
Date: Wed, 11 May 2011 15:41:53 -0400
Subject: [Radiance-general] mirror specular reflections
In-Reply-To: <6025C928C785944983BD457EB996C1360CE7505B12@SG-EXCHMB1>
References: <6025C928C785944983BD457EB996C1360CE7505B12@SG-EXCHMB1>
Message-ID: <4DCAE681.6090401@visarc.com>

Hi Chris,

You may have to adjust the specular threshold / jittering options: -st 
and -sj. Also you may need to set -dr to something other than 0. What 
kind of effect are you expecting to see?

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 5/11/2011 3:16 PM, Chris Coulter wrote:
>
> Good day list.
>
> I'm trying to test various materials for use in a light shelf. 
> Currently, I'm testing a simple box (genbox wall room 10 10 10 --i) 
> with south wall removed and the floor's material set to a "mirror" or 
> variations of "metal". My gensky definition is: gensky 03 21 9 +s -a 
> 39.7 -o 105.2 -m 105, which places direct sun on both the floor and 
> west wall.
>
> When viewing the octree in rvu, there is no specular reflection from 
> the floor with either mirror or metal (with 0 roughness). However, a 
> metal with small roughness has some scattered reflection. I've tried 
> changing parameters on many of the rpict options to try to solve the 
> issue, but have had no luck.
>
> I'm currently running a HEAD distro from early January this year. 
> About 15 months ago, I was able to get specular reflections from a 
> mirror (similar study) from the 4R0.
>
> Any help/advice would be greatly appreciated.
>
> *Chris M. Coulter, LC, IESNA, LEED AP*
> Associate
>
> Lighting Designer
>
> President, Detroit Section of the Illuminating Engineering Society
> ............................................................
>
> *SmithGroup*
> 500 Griswold, Suite 1700
> Detroit, MI 48226
> *
> **t*313.983.3600
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110511/5c1c2a9f/attachment.html>

From sotos.enveng at gmail.com  Wed May 11 17:03:28 2011
From: sotos.enveng at gmail.com (Sotiris Papantoniou)
Date: Thu, 12 May 2011 03:03:28 +0300
Subject: [Radiance-general] error message "file coeff_perez.dat
	cannot	be opened"
In-Reply-To: <BANLkTikEudPyhty3=BpVOG75bz3RZp9OgA@mail.gmail.com>
References: <BANLkTi=zgBdp2XkN1-R5=UJq_ypvq_fJkA@mail.gmail.com>	<4dcacd1f.5003cc0a.34c8.1b7b@mx.google.com>
	<BANLkTikEudPyhty3=BpVOG75bz3RZp9OgA@mail.gmail.com>
Message-ID: <4dcb23f0.8109cc0a.680d.26db@mx.google.com>

Hi again Thomas,

 

I used your commands and it seems to be working excellent now. Thank you
very much. 

 

While I was trying to figure this out by myself I found that if I run
"gendaylit" command from the folder I have extracted the 2 files before
copying them to radiance folder the command works properly. 

 

"Strange machines."

 

Have a good night from Greece and thank you once again.

 

Sotiris

 

From: Thomas Bleicher [mailto:tbleicher at googlemail.com] 
Sent: Wednesday, May 11, 2011 9:22 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] error message "file coeff_perez.dat cannot
be opened"

 

2011/5/11 Sotiris Papantoniou <sotos.enveng at gmail.com>

Hi Thomas,

 

I am running Ubuntu 11.04 and I installed Radiance through Synaptic package
manager

 

So I suspect that you have installed the incomplete package.

 

I copied the "coeff_perez.dat" file but gendaylit again did not work because
it could not access "defangle.dat"

 

Yes. That too was mentioned in the post I pointed you to.  

 

I have now download the source code from the site but when I copy the file
to /usr/share/radiance the file has an "X" on the top  right of its image.

 

Can you be more specific, please. I assume you are neither familiar with a
Unix/Linux system nor the command line. I also assume that you have unpacked
the source package and copied the two files "coeff_perez.dat" and
"defangle.dat" to /usr/share/radiance.

 

Now, if you still get errors it might be related to the permissions of those
two files (which might be indicated by the "X" you are referring to). Open a
console window and type the commands

 

sudo chmod 644 /usr/share/radiance/coeff_perez.dat
/usr/share/radiance/defangle.dat 

sudo chown root:root /usr/share/radiance/coeff_perez.dat
/usr/share/radiance/defangle.dat   

 

After the first command you will have to provide your password to get the
required privileges.

 

With this your Radiance installation should be complete.

 

Regards,

Thomas

 

 

  _____  

No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1325 / Virus Database: 1500/3630 - Release Date: 05/11/11

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110512/ce59ed3a/attachment-0001.html>

From tbleicher at googlemail.com  Wed May 11 17:45:00 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed, 11 May 2011 19:45:00 -0500
Subject: [Radiance-general] error message "file coeff_perez.dat cannot
	be opened"
In-Reply-To: <4dcb23f0.8109cc0a.680d.26db@mx.google.com>
References: <BANLkTi=zgBdp2XkN1-R5=UJq_ypvq_fJkA@mail.gmail.com>
	<4dcacd1f.5003cc0a.34c8.1b7b@mx.google.com>
	<BANLkTikEudPyhty3=BpVOG75bz3RZp9OgA@mail.gmail.com>
	<4dcb23f0.8109cc0a.680d.26db@mx.google.com>
Message-ID: <BANLkTin=tNBqfjPqS=N+5KLMOcmw8CjxMg@mail.gmail.com>

On Wed, May 11, 2011 at 7:03 PM, Sotiris Papantoniou <sotos.enveng at gmail.com
> wrote:

> While I was trying to figure this out by myself I found that if I run
> ?gendaylit? command from the folder I have extracted the 2 files before
> copying them to radiance folder the command works properly.
>
>
>
> ?Strange machines??
>

Not at all. This is how it is supposed to work.

Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110511/fccb31aa/attachment.html>

From CHarriman at gb-eng.com  Wed May 11 22:27:33 2011
From: CHarriman at gb-eng.com (Chien Si Harriman)
Date: Wed, 11 May 2011 22:27:33 -0700
Subject: [Radiance-general] Modeling glare from light fixtures
Message-ID: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>

Hi-

 

A question to the radiance community.  I've been tasked with modeling a
T5 light fixture in its housing.  This is new for me as a project in
Radiance, as I've largely used it to model natural daylight only, with
the use of imported .IES files when needed.  I believe that I have to
model the light fixture and its associated housing because, for this
high-end conference room, the client for whom I am working is concerned
about glare emanating from the fixture during video conferencing.  The
.IES files just don't have that type of information, as they are really
(at least in this case) files that really just describe the flux as a
mathematical model, and does not physically model the interactions of
the light bulb in its housing.  As a result, I can't really show glare
emanating from the fixture at all!  (these are all things I'm sure you
are already aware of)

 

I am wondering a couple of things, and am looking for some advice,
reactions, precautionary tales, etc. based on the information that I
currently have at hand.  I'm willing to take harsh criticism so lay it
on me.

 

It seems my most accurate option is to model a T5 fixture as a glow
object, giving off the appropriate luminous flux inside of a reflective
housing.  I would likely have to take some guesses as to the geometry of
the fixture just because, at least at this time, I don't have a physical
sample of the fixture, nor do I have any sort of exploded orthgraphic
projection showing the inner details of the fixture.  I'd likely take
just a section of the fixture (found on the cut sheet) and extrude it
the appropriate length.  My biggest concern is in regard to modeling
such a high intensity of light in such a small confined space with so
many bounces of light.  I am not sure if there are "standards" in terms
of simulation settings, or other helpful pointers, that would normally
be applied to simulate the fixture in this way.

 

The other option, far simpler though possibly just as effective (and
this is a huge possibly in my mind), is to simply place a square
luminous glow object over the fixture where the light would normally
exit the fixture.  I suppose I could build up my own mathematical
representation of how the glow object should distribute its light (in
effect build my own .IES file (of sorts).  Though, I truly have never
done this before and I would assume there is a chance of error.  Any
guidance for how to go about this would be appreciated, perhaps a
reading supplement to the Ward & Shakespeare book to ground my thinking,
at the very least.

 

 

As always, your help is appreciated.  

 

 

 

 

Chien Si Harriman   LEED AP

Senior Building Performance Engineer

(P) 415.655.4005 

GUTTMANN & BLAEVOET Consulting Engineers

San Francisco | Sacramento | Santa Rosa <http://gb-eng.com/page/Contact>
| Walnut Creek <http://gb-eng.com/page/Contact>  | Website
<http://www.gb-eng.com/> 

Certified Green Business <http://www.greenbiz.ca.gov/AboutUs.html>
committed to the 2030 Challenge <http://www.2030challenge.com/> 

HVAC, Plumbing, Fire Protection, Electrical, Lighting,
Telecom/Technology <http://gb-eng.com/page/services> 

New and Existing Building Commissioning, Energy & Building Performance
Modeling <http://gb-eng.com/page/services> 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110511/d6e15605/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 1953 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110511/d6e15605/attachment.jpg>

From david.moroder at gmail.com  Thu May 12 00:02:08 2011
From: david.moroder at gmail.com (David Geisler-Moroder)
Date: Thu, 12 May 2011 09:02:08 +0200
Subject: [Radiance-general] mirror specular reflections
In-Reply-To: <4DCAE681.6090401@visarc.com>
References: <6025C928C785944983BD457EB996C1360CE7505B12@SG-EXCHMB1>
	<4DCAE681.6090401@visarc.com>
Message-ID: <BANLkTiknQBTwfgF6yKFz9MX_2Bf5jc5n6g@mail.gmail.com>

Hi,

something about the specular jittering:
The option -sj was replaced by -ss (specular sampling). The behaviour of -ss
is the same as it was for -sj if the parameter is less or equal to 1. If
it's n (greater than 1), n specular rays are generated instead of only 1.
(See also:
http://www.radiance-online.org/pipermail/radiance-dev/2010-November/001066.html
)

Best,
David

2011/5/11 Jack de Valpine <jedev at visarc.com>

>  Hi Chris,
>
> You may have to adjust the specular threshold / jittering options: -st and
> -sj. Also you may need to set -dr to something other than 0. What kind of
> effect are you expecting to see?
>
> -Jack
>
> --
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
> On 5/11/2011 3:16 PM, Chris Coulter wrote:
>
>  Good day list.
>
> I?m trying to test various materials for use in a light shelf. Currently,
> I?m testing a simple box (genbox wall room 10 10 10 ?i) with south wall
> removed and the floor?s material set to a ?mirror? or variations of ?metal?.
> My gensky definition is: gensky 03 21 9 +s -a 39.7 -o 105.2 -m 105, which
> places direct sun on both the floor and west wall.
>
> When viewing the octree in rvu, there is no specular reflection from the
> floor with either mirror or metal (with 0 roughness). However, a metal with
> small roughness has some scattered reflection. I?ve tried changing
> parameters on many of the rpict options to try to solve the issue, but have
> had no luck.
>
> I?m currently running a HEAD distro from early January this year. About 15
> months ago, I was able to get specular reflections from a mirror (similar
> study) from the 4R0.
>
>
>
> Any help/advice would be greatly appreciated.
>
>
>
> *Chris M. Coulter, LC, IESNA, LEED AP*
> Associate
>
> Lighting Designer
>
> President, Detroit Section of the Illuminating Engineering Society
> ????????????????????
>
> *SmithGroup*
> 500 Griswold, Suite 1700
> Detroit, MI 48226
> *
> **t* 313.983.3600
>
>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110512/4dccb672/attachment-0001.html>

From hope.zh at gmail.com  Thu May 12 05:05:54 2011
From: hope.zh at gmail.com (Ji Zhang)
Date: Thu, 12 May 2011 20:05:54 +0800
Subject: [Radiance-general] Radiance 4 can't be installed correctly on Mac
	OS X
Message-ID: <BANLkTimcWhiKiquZedPVsORmV+jCYxqZKg@mail.gmail.com>

Dear Radiance experts,

I can't install radiance 4 correctly on a Macbook Pro (OS X 10.6.7):

I downloaded Radiance 4 from:
http://radsite.lbl.gov/radiance/dist/rad4R0all.tar.gz

I unzip the file as a folder "ray".

I use the following command to install:
sudo mkdir /usr/local/lib
sudo mkdir /usr/local/lib/ray
cd ~/ray
sudo ./makeall install clean


However, I got the following errors during installation:


        RADIANCE 4.0 INSTALLATION

This script rebuilds all of the Radiance programs and installs
them on your system.  You should read the file README before running
this script.  You can type ^C (followed by return) at any time to abort.

You must first answer the following questions.

What is your preferred editor [vi]?
Where do you want the executables [/usr/local/bin]?
Do you understand and accept the terms of this agreement [n]? y

Please select your system type from the following list:

    1)    Sun Solaris
    2)    Linux
    3)    MacOS X
    4)    FreeBSD
    5)    Cygwin
    6)    Other

Choice? 3
Where do you want the library files [/usr/local/lib/ray]?
Install library files now [n]? y
Copying library files to /usr/local/lib/ray... Done.
Current rmake command is:
#!/bin/sh
exec make "SPECIAL=ogl" \
    "OPT=-O2" \
    "MACH=-DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib"
\
    ARCH=Intel "COMPAT=" \
    INSTDIR=/usr/local/bin \
    LIBDIR=/usr/local/lib/ray \
    ESUFFIX= \
    CC=cc CONFIGURE_ARCH=i386 "$@" -f Rmakefile
Do you want to change it? n
New rmake command -- running "makeall clean"...
~/ray/src/common ~/ray/src
In directory common...
make: Command not found.
~/ray/src
~/ray/src/rt ~/ray/src
In directory rt...
make: Command not found.
~/ray/src
~/ray/src/meta ~/ray/src
In directory meta...
make: Command not found.
~/ray/src
~/ray/src/cv ~/ray/src
In directory cv...
make: Command not found.
~/ray/src
~/ray/src/gen ~/ray/src
In directory gen...
make: Command not found.
~/ray/src
~/ray/src/ot ~/ray/src
In directory ot...
make: Command not found.
~/ray/src
~/ray/src/px ~/ray/src
In directory px...
make: Command not found.
~/ray/src
~/ray/src/hd ~/ray/src
In directory hd...
make: Command not found.
~/ray/src
~/ray/src/util ~/ray/src
In directory util...
make: Command not found.
~/ray/src
~/ray/src/cal ~/ray/src
In directory cal...
make: Command not found.
~/ray/src
Removing library archives...
rm: No match.
Done.
Making programs...
~/ray/src/common ~/ray/src
In directory common...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/rt ~/ray/src
In directory rt...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/meta ~/ray/src
In directory meta...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/cv ~/ray/src
In directory cv...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/gen ~/ray/src
In directory gen...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/ot ~/ray/src
In directory ot...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/px ~/ray/src
In directory px...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/hd ~/ray/src
In directory hd...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/util ~/ray/src
In directory util...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
~/ray/src/cal ~/ray/src
In directory cal...
/usr/local/bin/rmake: line 2: exec: make: not found
~/ray/src
There were some errors.


It seems no Radiance commands are installed in /usr/local/lib, and I have to
use sudo cp * /usr/bin to manually copy the precompiled Radiance executables
(downloaded from http://radsite.lbl.gov/radiance/dist/rad4R0_macosx.tar.gz)
into /usr/bin.


Can anyone kindly point out why Radiance is not installed correctly in this
case and suggest a solution?

Thank you!
Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110512/36d9b0f7/attachment.html>

From jm at dmu.ac.uk  Thu May 12 05:46:54 2011
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Thu, 12 May 2011 13:46:54 +0100
Subject: [Radiance-general] Radiance 4 can't be installed correctly on
	Mac OS X
Message-ID: <58E20754-1D8F-4591-9BE0-278F133902EA@dmu.ac.uk>

Hi Ji,

Have you installed Xcode?  You need this to compile source code.

http://en.wikipedia.org/wiki/Xcode

John

-----------------------------------------------
Dr. John Mardaljevic                
Reader in Daylight Modelling
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm at dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm





From tbleicher at googlemail.com  Thu May 12 06:59:52 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu, 12 May 2011 08:59:52 -0500
Subject: [Radiance-general] Radiance 4 can't be installed correctly on
 Mac OS X
In-Reply-To: <BANLkTimcWhiKiquZedPVsORmV+jCYxqZKg@mail.gmail.com>
References: <BANLkTimcWhiKiquZedPVsORmV+jCYxqZKg@mail.gmail.com>
Message-ID: <BANLkTimPurUKsvn77i=FAw3BOVJcwXA8Lw@mail.gmail.com>

Ji

First of all if you don't have a compelling reason to install Radiance from
source I wouldn't do it. Greg provides binaries for OS X which work just
fine and don't require you to fiddle with compilers.

On Thu, May 12, 2011 at 7:05 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Dear Radiance experts,
> I can't install radiance 4 correctly on a Macbook Pro (OS X 10.6.7):
> I downloaded Radiance 4 from:
> http://radsite.lbl.gov/radiance/dist/rad4R0all.tar.gz
> I unzip the file as a folder "ray".
>
> I use the following command to install:
> sudo mkdir /usr/local/lib
> sudo mkdir /usr/local/lib/ray
> cd ~/ray
> sudo ./makeall install clean
>

You should also create a folder "/usr/local/bin" for the binaries if you go
with the defaults. That's where the script would try to copy the binaries to
after the build.

However, I got the following errors during installation:
>
>
>         RADIANCE 4.0 INSTALLATION
>
> This script rebuilds all of the Radiance programs and installs
> them on your system.  You should read the file README before running
> this script.  You can type ^C (followed by return) at any time to abort.
>
> You must first answer the following questions.
>
> What is your preferred editor [vi]?
> Where do you want the executables [/usr/local/bin]?
>

If you wanted a non-standard path for your installation you can specify it
here. I. e. you could use a folder in your home directory.


> [...]



> Where do you want the library files [/usr/local/lib/ray]?

Install library files now [n]? y
> Copying library files to /usr/local/lib/ray... Done.
>
> [...]
>
> New rmake command -- running "makeall clean"...
> ~/ray/src/common ~/ray/src
> In directory common...
> make: Command not found.
>

As John wrote you're missing the developer tools from the Xcode bundle. You
can install these from the CD or download from Apple.


> [...]
> /usr/local/bin/rmake: line 2: exec: make: not found
> ~/ray/src
> There were some errors.
>
>
> It seems no Radiance commands are installed in /usr/local/lib, and I have
> to use sudo cp * /usr/bin to manually copy the precompiled Radiance
> executables (downloaded from
> http://radsite.lbl.gov/radiance/dist/rad4R0_macosx.tar.gz) into /usr/bin.


You can keep the Radiance tools in "/usr/bin" but it seems a bit messy to
mix them up with all the OS X system binaries. I prefer to use
"/usr/local/bin"

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110512/a758dbfd/attachment.html>

From RFritz at lbl.gov  Thu May 12 11:38:22 2011
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Thu, 12 May 2011 11:38:22 -0700
Subject: [Radiance-general] Modeling glare from light fixtures
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
Message-ID: <iqh9eu$e8a$1@dough.gmane.org>

On 2011-05-11 22:27:33 -0700, Chien Si Harriman said:

> A question to the radiance community.? I've been tasked with modeling a 
> T5 light fixture in its housing.? This is new for me as a project in 
> Radiance, as I've largely used it to model natural daylight only, with 
> the use of imported .IES files when needed.? I believe that I have to 
> model the light fixture and its associated housing because, for this 
> high-end conference room, the client for whom I am working is concerned 
> about glare emanating from the fixture during video conferencing.? The 
> .IES files just don't have that type of information, as they are really 
> (at least in this case) files that really just describe the flux as a 
> mathematical model, and does not physically model the interactions of 
> the light bulb in its housing.? As a result, I can't really show glare 
> emanating from the fixture at all!? (these are all things I'm sure you 
> are already aware of)

If the IES file is accurate and of sufficient resolution and you use 
the Radiance glare tools, the IES file will be sufficient to find 
sources of glare, even though the lamps and internal elements of the 
fixture will not be rendered correctly.

Radiance does not model rays emitted from a light source, and will not 
reliably compute the internal reflections of a fixture, even if the 
details of its materials and geometry are available.

For presentation, however, you may want to model the lamp and luminaire 
itself, as well as the IES file.  This will not be physically accurate, 
but is helpful in visualizing the glare.  To do this, you wrap the 
luminaire geometry in an illum (for fluorescents this is usually a long 
narrow box), to which you attach the IES data.  This is called an 
"impostor surface," because it is an impostor for the actual luminaire. 
 You then use glows within the illum to provide a visual representation 
of light within the luminaire.  Light from a glow does not pass through 
an illum and hence does not affect the lighting of the scene geometry 
or the glare calculation.

I wrote a program to do some of this work as part of my thesis.  It's 
not very finished and I haven't open-sourced it, but take a look at the 
thesis; the issues involved are covered there.  See:
  http://dmg.caup.washington.edu/pdfs/Thesis.RandolphFritz.2010.pdf
Be very careful, going through this process, to check your modeled 
luminaire against the IES data.  It is very easy to incorrectly place 
the IES data or fail to relate it correctly to the luminaire geometry, 
and this must be carefully checked.  I describe my procedures for this 
on pp. 53-57 of my thesis.

I also have a Python script which reads IES files that might be helpful 
in working with this; I've been meaning to put it out for a while.  If 
you think it might be helpful, drop me a note.

-- 
Randolph M. Fritz ? RFritz at lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs




From d.appelfeld at gmail.com  Thu May 12 20:50:22 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Thu, 12 May 2011 20:50:22 -0700
Subject: [Radiance-general] strange error massage from genBSDF
Message-ID: <BANLkTim0xB_7GzUtE01hmc4t0biANTUX9w@mail.gmail.com>

Hello list,

I have just recompiled Radiance because I was getting little bit strange
results when using Three-phase method, and I was not sure if I am using most
updated version.

I have downloaded fresh version and when I recompiled Radaince and run the
scripts again I have got this error when running genBSDF command.

xform: cannot find file "geometry/BSDF_old_open.rad"
Could not load Radiance input


command is:

genBSDF -c 1000 -r '-st 0.0001' +forward -backward -geom -dim 0 1.98 0 1.13
-0.01 0 geometry/BSDF_old_open.rad> results/xml/BSDF_old_open_down.xml


The file and folder are there and it was running correctly before.

Does anyone has any suggestions how to solve this?

Thank you very much for your help.
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110512/a820bdca/attachment.html>

From gregoryjward at gmail.com  Thu May 12 21:02:45 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 12 May 2011 21:02:45 -0700
Subject: [Radiance-general] strange error massage from genBSDF
In-Reply-To: <BANLkTim0xB_7GzUtE01hmc4t0biANTUX9w@mail.gmail.com>
References: <BANLkTim0xB_7GzUtE01hmc4t0biANTUX9w@mail.gmail.com>
Message-ID: <4B97BE3C-1D97-48A9-9BBE-4CBC6C13AD1A@lmi.net>

Hi David,

I assume you've done the obvious and made sure the file "geometry/BSDF_old_open.rad" exists and is readable.  Try issuing the command with "./geometry/BSDF_old_open.rad" instead and see if that works.  If it does, that means that your RAYPATH environment variable doesn't include the current working directory ('.') as part of the search.  This normally goes in front, e.g., "RAYPATH=.:/usr/local/lib/ray".

The xform command is special in that it searches the RAYPATH directories rather than taking file names you give it literally.  This simplifies creating a library of often-used objects, but can be confusing in other contexts.

Best,
-Greg

> From: David Appelfeld <d.appelfeld at gmail.com>
> Date: May 12, 2011 8:50:22 PM PDT
> 
> Hello list, 
> 
> I have just recompiled Radiance because I was getting little bit strange results when using Three-phase method, and I was not sure if I am using most updated version. 
> 
> I have downloaded fresh version and when I recompiled Radaince and run the scripts again I have got this error when running genBSDF command.
> 
> xform: cannot find file "geometry/BSDF_old_open.rad"
> Could not load Radiance input
> 
> 
> command is:
> 
> genBSDF -c 1000 -r '-st 0.0001' +forward -backward -geom -dim 0 1.98 0 1.13 -0.01 0 geometry/BSDF_old_open.rad> results/xml/BSDF_old_open_down.xml
> 
> 
> The file and folder are there and it was running correctly before. 
> 
> Does anyone has any suggestions how to solve this?
> 
> Thank you very much for your help.
> David


From d.appelfeld at gmail.com  Thu May 12 22:51:24 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Thu, 12 May 2011 22:51:24 -0700
Subject: [Radiance-general] strange error massage from genBSDF
In-Reply-To: <4B97BE3C-1D97-48A9-9BBE-4CBC6C13AD1A@lmi.net>
References: <BANLkTim0xB_7GzUtE01hmc4t0biANTUX9w@mail.gmail.com>
	<4B97BE3C-1D97-48A9-9BBE-4CBC6C13AD1A@lmi.net>
Message-ID: <BANLkTikZuAH+qL2e3v3FoPkFmkep0bZ0Ng@mail.gmail.com>

Hello Grag,
thank you, it is working now. You were right all usual.
David

On 12 May 2011 21:02, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi David,
>
> I assume you've done the obvious and made sure the file
> "geometry/BSDF_old_open.rad" exists and is readable.  Try issuing the
> command with "./geometry/BSDF_old_open.rad" instead and see if that works.
>  If it does, that means that your RAYPATH environment variable doesn't
> include the current working directory ('.') as part of the search.  This
> normally goes in front, e.g., "RAYPATH=.:/usr/local/lib/ray".
>
> The xform command is special in that it searches the RAYPATH directories
> rather than taking file names you give it literally.  This simplifies
> creating a library of often-used objects, but can be confusing in other
> contexts.
>
> Best,
> -Greg
>
> > From: David Appelfeld <d.appelfeld at gmail.com>
> > Date: May 12, 2011 8:50:22 PM PDT
> >
> > Hello list,
> >
> > I have just recompiled Radiance because I was getting little bit strange
> results when using Three-phase method, and I was not sure if I am using most
> updated version.
> >
> > I have downloaded fresh version and when I recompiled Radaince and run
> the scripts again I have got this error when running genBSDF command.
> >
> > xform: cannot find file "geometry/BSDF_old_open.rad"
> > Could not load Radiance input
> >
> >
> > command is:
> >
> > genBSDF -c 1000 -r '-st 0.0001' +forward -backward -geom -dim 0 1.98 0
> 1.13 -0.01 0 geometry/BSDF_old_open.rad> results/xml/BSDF_old_open_down.xml
> >
> >
> > The file and folder are there and it was running correctly before.
> >
> > Does anyone has any suggestions how to solve this?
> >
> > Thank you very much for your help.
> > David
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110512/2ea90509/attachment.html>

From hope.zh at gmail.com  Thu May 12 23:08:55 2011
From: hope.zh at gmail.com (Ji Zhang)
Date: Fri, 13 May 2011 14:08:55 +0800
Subject: [Radiance-general] Radiance 4 can't be installed correctly on
 Mac OS X
In-Reply-To: <BANLkTimPurUKsvn77i=FAw3BOVJcwXA8Lw@mail.gmail.com>
References: <BANLkTimcWhiKiquZedPVsORmV+jCYxqZKg@mail.gmail.com>
	<BANLkTimPurUKsvn77i=FAw3BOVJcwXA8Lw@mail.gmail.com>
Message-ID: <BANLkTimxA_fXhpLMvVhjNcZqbV3OCGv_pA@mail.gmail.com>

Dear Thomas and John, Thank you very much for your detailed advises! I think
this is a rookie mistake.

Ji



On Thu, May 12, 2011 at 9:59 PM, Thomas Bleicher
<tbleicher at googlemail.com>wrote:

> Ji
>
> First of all if you don't have a compelling reason to install Radiance from
> source I wouldn't do it. Greg provides binaries for OS X which work just
> fine and don't require you to fiddle with compilers.
>
>  On Thu, May 12, 2011 at 7:05 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Dear Radiance experts,
>> I can't install radiance 4 correctly on a Macbook Pro (OS X 10.6.7):
>> I downloaded Radiance 4 from:
>> http://radsite.lbl.gov/radiance/dist/rad4R0all.tar.gz
>> I unzip the file as a folder "ray".
>>
>> I use the following command to install:
>> sudo mkdir /usr/local/lib
>> sudo mkdir /usr/local/lib/ray
>> cd ~/ray
>> sudo ./makeall install clean
>>
>
> You should also create a folder "/usr/local/bin" for the binaries if you go
> with the defaults. That's where the script would try to copy the binaries to
> after the build.
>
> However, I got the following errors during installation:
>>
>>
>>         RADIANCE 4.0 INSTALLATION
>>
>> This script rebuilds all of the Radiance programs and installs
>> them on your system.  You should read the file README before running
>> this script.  You can type ^C (followed by return) at any time to abort.
>>
>> You must first answer the following questions.
>>
>> What is your preferred editor [vi]?
>> Where do you want the executables [/usr/local/bin]?
>>
>
> If you wanted a non-standard path for your installation you can specify it
> here. I. e. you could use a folder in your home directory.
>
>
>> [...]
>
>
>
>> Where do you want the library files [/usr/local/lib/ray]?
>
>  Install library files now [n]? y
>> Copying library files to /usr/local/lib/ray... Done.
>>
>> [...]
>>
>>
>> New rmake command -- running "makeall clean"...
>> ~/ray/src/common ~/ray/src
>> In directory common...
>> make: Command not found.
>>
>
> As John wrote you're missing the developer tools from the Xcode bundle. You
> can install these from the CD or download from Apple.
>
>
>> [...]
>>
>> /usr/local/bin/rmake: line 2: exec: make: not found
>> ~/ray/src
>> There were some errors.
>>
>>
>> It seems no Radiance commands are installed in
>> /usr/local/lib, and I have to use sudo cp * /usr/bin to manually copy the
>> precompiled Radiance executables (downloaded from
>> http://radsite.lbl.gov/radiance/dist/rad4R0_macosx.tar.gz) into /usr/bin.
>
>
> You can keep the Radiance tools in "/usr/bin" but it seems a bit messy to
> mix them up with all the OS X system binaries. I prefer to use
> "/usr/local/bin"
>
> Regards,
> Thomas
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110513/fa580357/attachment-0001.html>

From tbleicher at googlemail.com  Fri May 13 09:02:12 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Fri, 13 May 2011 11:02:12 -0500
Subject: [Radiance-general] Modeling glare from light fixtures
In-Reply-To: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
Message-ID: <BANLkTin1soYjaqiv8hK70+qh3Mwe11TY2Q@mail.gmail.com>

On Thu, May 12, 2011 at 12:27 AM, Chien Si Harriman <CHarriman at gb-eng.com>wrote:

> I believe that I have to model the light fixture and its associated housing
> because, for this high-end conference room, the client for whom I am working
> is concerned about glare emanating from the fixture during video
> conferencing.
>

Radiance is not the right tool to simulate the internal reflections of the
fitting. You could do it with a lot of rendering time and high accuracy
values. However due to inaccuracies in your material descriptions etc I
expect that the final result would not be more accurate than the IES data
you already have.

Since you're focused on video conferencing you also have to model the video
screens accurately. You can look at the various workshop presentations on
this topic.

Also keep in mind that you may be able to "prove" that there is no glare
caused by the light fittings but your client will still be disappointed by
the reflections of the fitting. Glare is a subjective experience and all you
can do with Radiance is to show that you meet some existing standard.

As a lighting designer I would recommend to reduce the potential for glare
as far a possible (different fitting, louvre accessories, different layout
and fitting type etc). If your clients don't want to spend money on good
lighting they have to live with the consequences.


> The .IES files just don't have that type of information, as they are really
> (at least in this case) files that really just describe the flux as a
> mathematical model, and does not physically model the interactions of the
> light bulb in its housing.  As a result, I can't really show glare emanating
> from the fixture at all!  (these are all things I'm sure you are already
> aware of)
>

IES data (and LDT) does indeed not reflect the physical characteristics of
certain light fittings very well. If the light source is small and directly
visible (think LEDs, halogen or discharge lamps) you will almost certainly
experience glare when you look directly into the lamp. The intensity of a T5
lamp can also be perceived as disturbing. However, if that is an issue here
you should look into diffusers etc. to cover the light source from direct
views.

Glare that results from the average intensity of the fitting is accurately
represented in the IES file and its geometry (disc, rectangle or box). Some
lighting design apps can generate a UGR diagram from the IES file. If you
use the IES file in Radiance I think you will also loose some angular
resolution because the conversion to a Radiance *.dat file has a fixed
number of vertical angles (although I'm not sure about this).


> It seems my most accurate option is to model a T5 fixture as a glow object,
> giving off the appropriate luminous flux inside of a reflective housing.  I
> would likely have to take some guesses as to the geometry of the fixture
> just because, at least at this time, I don't have a physical sample of the
> fixture, nor do I have any sort of exploded orthgraphic projection showing
> the inner details of the fixture.  I'd likely take just a section of the
> fixture (found on the cut sheet) and extrude it the appropriate length.
>

If you are only interested in the source visibility you can use an extruded
cross section to simulate the fitting. If you want to use a mirror material
for the extrusion you have to change the "glow" to a "light" or you won't
get any secondary light sources. You can also reduce the ambient bounces a
lot because you only want to simulate the visibility of the light source.
This should speed up your calculation but it requires that you have a good
representation of the reflector geometry.


> My biggest concern is in regard to modeling such a high intensity of light
> in such a small confined space with so many bounces of light.  I am not sure
> if there are "standards" in terms of simulation settings, or other helpful
> pointers, that would normally be applied to simulate the fixture in this
> way.
>

There is no limit for the intensity you can define. Keep in mind that a
glare analysis is done without depreciation of the lamp and fitting (new
lamp and no dirt).

You are also less interested in ambient bounces than source reflections
("direct relays"). The bounces are only necessary if you want to show the
fitting within the conference room ambience. For your video conferencing
situation it should be enough to produce a reflection of the light source on
the video screen.


> The other option, far simpler though possibly just as effective (and this
> is a huge possibly in my mind), is to simply place a square luminous glow
> object over the fixture where the light would normally exit the fixture.
>

This is exactly what ies2rad does.


> I suppose I could build up my own mathematical representation of how the
> glow object should distribute its light (in effect build my own .IES file
> (of sorts).  Though, I truly have never done this before and I would assume
> there is a chance of error.
>

Exactly. You will not only introduce some errors due to inaccurate
information but you also have hardly a way to verify your model. If
something is wrong with your calculation results you will have a hard time
to prove it wasn't your hand made distribution. That's hardly worth it.

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110513/36a9edbd/attachment.html>

From grobe at gmx.net  Sat May 14 15:27:17 2011
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun, 15 May 2011 01:27:17 +0300
Subject: [Radiance-general] Modeling glare from light fixtures
In-Reply-To: <BANLkTin1soYjaqiv8hK70+qh3Mwe11TY2Q@mail.gmail.com>
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
	<BANLkTin1soYjaqiv8hK70+qh3Mwe11TY2Q@mail.gmail.com>
Message-ID: <3F10A05D-8ECA-4827-8645-886176898DD3@gmx.net>

Hi!
> I suppose I could build up my own mathematical representation of how the glow object should distribute its light (in effect build my own .IES file (of sorts).  Though, I truly have never done this before and I would assume there is a chance of error.
> 
> 
> Exactly. You will not only introduce some errors due to inaccurate information but you also have hardly a way to verify your model. If something is wrong with your calculation results you will have a hard time to prove it wasn't your hand made distribution. That's hardly worth it.

Maybe my view is a bit too simplifying, but, imho: I think basically, for glare, there are two cases:

1) luminaire designed without thinking about glare. Lamp directly visible. IES data does not reflect well the spatially non-uniform distribution, which is averaged over aperture area. Will probably make your client unhappy anyways in your usecase.

2) luminaire optimized to reduce glare. No direct visibility of the lamp, thus little nonuniformity over the aperture. Should be matched not all that bad by IES data.

If you really model the reflector and source, you may actually try to validate it by sampling at the directions of you IES file. Unless the data is not wrong at all, you would get the same averaged values if your model is ok. By the way, is your IES data based on measurements, or is it also the result of a simulation?

Cheers, Lars.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110515/79e74ecd/attachment.html>

From Christopher.Rush at arup.com  Mon May 16 06:32:41 2011
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Mon, 16 May 2011 09:32:41 -0400
Subject: [Radiance-general] Modeling glare from light fixtures
In-Reply-To: <iqh9eu$e8a$1@dough.gmane.org>
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
	<iqh9eu$e8a$1@dough.gmane.org>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B04A79922421@AMXEXC01.global.arup.com>

If you model estimated geometry surrounded by the "impostor surfaces," would this impact your results depending on how you are estimating glare? If you use luminance for glare evaluation, do you get the luminance value of the faux luminaire geometry behind the illum "impostor surface" or do you get the luminance value of the IES illum?

If you get the value of the IES file then the detailed geometry is just for show in any renderings. If you get the value of the detailed geometry then you're back to the question of if it's accurate.


-----Original Message-----
From: Randolph M. Fritz [mailto:RFritz at lbl.gov] 

For presentation, however, you may want to model the lamp and luminaire itself, as well as the IES file.  This will not be physically accurate, but is helpful in visualizing the glare.  To do this, you wrap the luminaire geometry in an illum (for fluorescents this is usually a long narrow box), to which you attach the IES data.  This is called an "impostor surface," because it is an impostor for the actual luminaire. 
 You then use glows within the illum to provide a visual representation of light within the luminaire.  Light from a glow does not pass through an illum and hence does not affect the lighting of the scene geometry or the glare calculation.
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From RFritz at lbl.gov  Mon May 16 08:24:53 2011
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Mon, 16 May 2011 08:24:53 -0700
Subject: [Radiance-general] Modeling glare from light fixtures
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
	<iqh9eu$e8a$1@dough.gmane.org>
	<28285BAEA8C0814DBF1B199C876EC5B04A79922421@AMXEXC01.global.arup.com>
Message-ID: <iqrfk4$i0p$1@dough.gmane.org>

On 2011-05-16 06:32:41 -0700, Christopher Rush said:

> If you model estimated geometry surrounded by the "impostor surfaces," 
> would this impact your results depending on how you are estimating 
> glare? If you use luminance for glare evaluation, do you get the 
> luminance value of the faux luminaire geometry behind the illum 
> "impostor surface" or do you get the luminance value of the IES illum?

Right.  Since what the rendering shows is the false luminaire geometry, 
that's what a direct view of the luminaire will show.  So you would 
have to use a straight "light," not an "illum," to get a calculation of 
glare looking into the luminaire.  This will not produce a realistic 
image, but I expect that, for a T5 fluorescent, it would produce a 
useful glare calcuation.  As Lars points out, it probably won't be as 
useful for LEDs fixture that allows for a direct view of many small 
points of light.

I wonder if HDR images of an LED fixture would provide a useful basis 
for glare calculation.  I suppose one could, if one had the resources, 
move the camera around the luminaire, the way a photometer does, and 
create multiple images which, if we had a way of getting those images 
into Radiance, might provide a fairly accurate basis for glare 
computation.

Randolph




From rob.guglielmetti at gmail.com  Mon May 16 09:23:50 2011
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Mon, 16 May 2011 10:23:50 -0600
Subject: [Radiance-general] Modeling glare from light fixtures
In-Reply-To: <iqrfk4$i0p$1@dough.gmane.org>
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
	<iqh9eu$e8a$1@dough.gmane.org>
	<28285BAEA8C0814DBF1B199C876EC5B04A79922421@AMXEXC01.global.arup.com>
	<iqrfk4$i0p$1@dough.gmane.org>
Message-ID: <3DC33647-AC4D-4C77-B690-C871F4B158AA@gmail.com>


On May 16, 2011, at 9:24 AM, Randolph M. Fritz wrote:
> I wonder if HDR images of an LED fixture would provide a useful basis for glare calculation.  I suppose one could, if one had the resources, move the camera around the luminaire, the way a photometer does, and create multiple images which, if we had a way of getting those images into Radiance, might provide a fairly accurate basis for glare computation.

They do, in the crude sense of just looking at contrast ratios. Never tried with a fisheye lens and running evalglare, but I actually have a slide showing an LDR image alongside a HDR image that was tonemapped with pcond -h that suggests the discomfort of looking at an LED striplight, that I am presenting at Lightfair in (yikes) less than two hours. Gotta go!

- Rob

From tbleicher at googlemail.com  Mon May 16 09:49:38 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Mon, 16 May 2011 11:49:38 -0500
Subject: [Radiance-general] Modeling glare from light fixtures
In-Reply-To: <iqrfk4$i0p$1@dough.gmane.org>
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
	<iqh9eu$e8a$1@dough.gmane.org>
	<28285BAEA8C0814DBF1B199C876EC5B04A79922421@AMXEXC01.global.arup.com>
	<iqrfk4$i0p$1@dough.gmane.org>
Message-ID: <BANLkTin1zhswcVfvtvOVOBpvb3HzPZxaSg@mail.gmail.com>

On Mon, May 16, 2011 at 10:24 AM, Randolph M. Fritz <RFritz at lbl.gov> wrote:

> I wonder if HDR images of an LED fixture would provide a useful basis for
> glare calculation.
>

If you have a simple fitting where the LEDs have individual lenses and no
common reflector you can approximate the appearance with the data from the
IES file: Instead of one (box-shaped) luminaire you model each LED as a disc
(size of lens) and apply the IES file to each LED. Then you have to increase
the output of the LEDs to compensate for the loss in area of the luminous
opening (large rectangle vs small discs). This can be a fairly good
approximation for the high intensity of LEDs.

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110516/ae1c513f/attachment.html>

From amcneil at lbl.gov  Mon May 16 09:58:55 2011
From: amcneil at lbl.gov (Andy McNeil)
Date: Mon, 16 May 2011 09:58:55 -0700
Subject: [Radiance-general] 2011 International Radiance Workshop
Message-ID: <39E82ED1-BCF3-41F6-BFB9-1D795B6F1713@lbl.gov>

Announcing the 2011 International Radiance Workshop

We are still working on the details, and to get a website up for registration.   In the meantime, I want to share what details we have so everyone can start to arrange travel.  I will send another notification when the registration website is ready to accept registration & payment.

Dates 
Wednesday, August 24 - Seminar day 
Thursday, August 25 - Workshop Day 1
Friday, August 26 - Workshop Day 2

We're still planning the seminar day, though I can fill you in on some specifics.  John Mardaljevic will present a crash course on the Radiance ambient calculation.  We will also have a few presentations covering measurement and simulation of complex fenestration from Greg Ward, Jacob Jonsson and Peter Apian-Bennewitz.  Someone from LBNL will present a preview of the complex glazing database (database for optical properties of non-specular fenestration).  There will also be a presentation covering a new Radiance material primitive!

Call for Presenters 
As always, we rely on attendees to present their own work during the two-day workshop.  We are now officially opening the call for presenters.  Please email presentation abstracts to Andy McNeil (amcneil at lbl.gov) by Wednesday August 3.  

Registration Fee  
We are working to get prices for everything.  In the meantime, I can tell you that the fee will be less than $300 for all three days.  Presenters will receive a small discount.  We'll announce the official cost probably when the registration website is launched.

Housing
We've reserved a small block of rooms at the Berkeley Lab Guest House (http://www.berkeleylabguesthouse.berkeley.edu/).  The guest house is located on the lab property and is conveniently located for the workshop.  However it is a bit removed from restaurants and nightlife of Berkeley.  The lab provides a shuttle bus to downtown Berkeley during normal lab hours.  A taxi service is available after lab hours. 

We also recommend the following two hotels:
 - Hotel Shattuck Plaza - 1 block from the BART and 3 blocks away from the shuttle up to the lab, a short walk to the restaurants of gourmet ghetto.  http://www.hotelshattuckplaza.com/index.cfm
 - Hotel Durant - a 20 minute a walk from BART.  A 12 minute walk across UC campus to the LBL shuttle bus.    http://www.jdvhotels.com/hotels/sanfranciscoeastbay/durant

We look forward to hosting everyone here in Berkeley!

Andy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110516/a16dc779/attachment.html>

From grobe at gmx.net  Mon May 16 11:19:36 2011
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 16 May 2011 21:19:36 +0300
Subject: [Radiance-general] Modeling glare from light fixtures
In-Reply-To: <iqrfk4$i0p$1@dough.gmane.org>
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
	<iqh9eu$e8a$1@dough.gmane.org>
	<28285BAEA8C0814DBF1B199C876EC5B04A79922421@AMXEXC01.global.arup.com>
	<iqrfk4$i0p$1@dough.gmane.org>
Message-ID: <BFC58986-0581-4057-8FA6-DB662A572BA5@gmx.net>

Hi!

On May 16, 2011, at 18:24, "Randolph M. Fritz" <RFritz at lbl.gov> wrote:

> I wonder if HDR images of an LED fixture would provide a useful basis for glare calculation.  I suppose one could, if one had the resources, move the camera around the luminaire, the way a photometer does, and create multiple images which, if we had a way of getting those images into Radiance, might provide a fairly accurate basis for glare computation.

I think we hit near field photometry here. HDR images may be a useful input. Anyone who did this in Radiance so far?

Basically you need to end up with Radiance(position,direction) as a function. If you have enough HDR images, where you can relate pixel positions to location at luminous surfaces under known directions, this should be doable using Radiance tools.

Cheers, Lars.

From RFritz at lbl.gov  Mon May 16 11:41:20 2011
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Mon, 16 May 2011 11:41:20 -0700
Subject: [Radiance-general] Modeling glare from light fixtures
References: <AE3526189BB78143B795EF9C45CB8CBB02ED6D83@gbsbs.GB-Eng.local>
	<iqh9eu$e8a$1@dough.gmane.org>
	<28285BAEA8C0814DBF1B199C876EC5B04A79922421@AMXEXC01.global.arup.com>
	<iqrfk4$i0p$1@dough.gmane.org>
	<3DC33647-AC4D-4C77-B690-C871F4B158AA@gmail.com>
Message-ID: <iqrr4g$qsh$1@dough.gmane.org>

Sigh.  Everyone except me seems to be at Lightfair.

> They do, in the crude sense of just looking at contrast ratios. Never 
> tried with a fisheye lens and running evalglare, but I actually have a 
> slide showing an LDR image alongside a HDR image that was tonemapped 
> with pcond -h that suggests the discomfort of looking at an LED 
> striplight, that I am presenting at Lightfair in (yikes) less than two 
> hours. Gotta go!

Seattle put in an LED street light head just down the block.  The point 
sources are so bright it's hard to look at.  And yet the old luminaires 
(mercury vapor?), which probably have similar photometry, are perfectly 
acceptable.

PS: Check out the Lighting Sciences Group/Google home automation demo.

-- 
Randolph M. Fritz ? RFritz at lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs




From sotos.enveng at gmail.com  Wed May 18 01:11:40 2011
From: sotos.enveng at gmail.com (Sotiris Papantoniou)
Date: Wed, 18 May 2011 11:11:40 +0300
Subject: [Radiance-general] Running multiple rpict commands for different
	scenes
Message-ID: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>

Hello list again,

 

I have a new issue concerning multiple simulations. I would run the same
command (rpict, rtrace, rad) many times but for different scenes.oct. Do you
know if this is possible?

 

Thank you in advance

 

Sotiris

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110518/124fd274/attachment.html>

From grobe at gmx.net  Wed May 18 02:14:10 2011
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 18 May 2011 12:14:10 +0300
Subject: [Radiance-general] Running multiple rpict commands for
	different scenes
In-Reply-To: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>
References: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>
Message-ID: <A5763843-F697-4B6C-B016-7D652BC852C4@gmx.net>

What exactly is your question? Of course you can start multiple rtrace or whatever processes, they will not care about each other. If you run more processes then CPUs, they will slow down, same is true (even worse) if you exceed available memory. If you have lots of scenes, you can write a script to automate the handling. You may also like batch processing queues if you have a lot of processes to distribute. Still, it is impossible to answer your question if it is that general.

Cheers, Lars.

--
Dipl.-Ing. Architect Lars O. Grobe

On May 18, 2011, at 11:11, "Sotiris Papantoniou" <sotos.enveng at gmail.com> wrote:

> Hello list again,
> 
>  
> 
> I have a new issue concerning multiple simulations. I would run the same command (rpict, rtrace, rad) many times but for different scenes.oct. Do you know if this is possible?
> 
>  
> 
> Thank you in advance
> 
>  
> 
> Sotiris
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110518/f7aa8f24/attachment.html>

From Christopher.Rush at arup.com  Wed May 18 02:11:16 2011
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Wed, 18 May 2011 05:11:16 -0400
Subject: [Radiance-general] Running multiple rpict commands for
 different	scenes
In-Reply-To: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>
References: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B04A79A80BBB@AMXEXC01.global.arup.com>

What OS are you using Radiance with? And what software or other methods do you use to create the scenes?

From: Sotiris Papantoniou [mailto:sotos.enveng at gmail.com]


Hello list again,

I have a new issue concerning multiple simulations. I would run the same command (rpict, rtrace, rad) many times but for different scenes.oct. Do you know if this is possible?

Thank you in advance

Sotiris
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110518/b4a000b5/attachment.html>

From sotos.enveng at gmail.com  Wed May 18 03:29:50 2011
From: sotos.enveng at gmail.com (Sotiris Papantoniou)
Date: Wed, 18 May 2011 13:29:50 +0300
Subject: [Radiance-general] Running multiple rpict commands for
	different scenes
In-Reply-To: <A5763843-F697-4B6C-B016-7D652BC852C4@gmx.net>
References: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>
	<A5763843-F697-4B6C-B016-7D652BC852C4@gmx.net>
Message-ID: <4dd39f9d.d94fcc0a.43c5.5c8c@mx.google.com>

Hello Lars and Christopher,

 

My idea is to run many simulations, for now up to 1200, in order to create data for a fuzzy system.  I have many simulations because I have a glass part of a building which has 4 sets of blinds which are autonomously controlled. If I am thinking correctly when the angle of each blind changes we have a new scene, which is separately simulated. For each scene I am running a new rpict command to see the result. I found out that in the University we have a grid-computer which is working on Linux. From the grid-computer web-site I read the following: 

 

Translators

*	C (gcc 4.1.2 <http://gcc.gnu.org/onlinedocs/gcc-3.4.6/gcc/>   gcc44  4.4.0)
*	Fortran77  <http://www.ibiblio.org/pub/languages/fortran/> & 98 (gfortran 4.1.2 gfortan44 4.4.0)
*	C++ <http://gcc.gnu.org/onlinedocs/gcc-3.4.6/gcc/>   (g++  4.1.2  g++44 4.4.0)
*	Java <http://java.sun.com/>   (jdk 1.6.0  gcj   4.1.2)
*	Python <http://www.python.org/>   2.4.3

Data bases

*	MySQL 5.0.77 <http://dev.mysql.com/doc/> 

Computational Systems

*	Matlab 7.9.0 <http://www.mathworks.com/products/matlab/> 
*	Octave 3.0.5 <http://www.gnu.org/software/octave/about.html> 
*	R-2.12.2 <http://www.r-project.org/> 

*	Management systems and grid operations
*	TORQUE 2.3.6 <http://www.clusterresources.com/products/torque-resource-manager.php> 
*	openMPI 1.4.1 <http://www.open-mpi.org/> 
*	maui 3.2 <http://www.clusterresources.com/products/maui/> 

This is the software of the grid. So I was thinking, to install Radiance on the grid and run the commands from it. So my main question is if I can use radiance on a grid-computer, and If I use the advantage of the grid by running in parallel the same command. 

 

For now, since I was in a hurry to get some results, I am creating the combinations in Matlab and I am running rpict from DOS. I know it is old but I for now I have in the University only an Win OS computer. 

 

I hope I managed to give you some details. If not please tell me so, in order to reply again.

 

Thank you in advance for your time

 

Sotiris

 

From: Lars O. Grobe [mailto:grobe at gmx.net] 
Sent: Wednesday, May 18, 2011 12:14 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Running multiple rpict commands for different scenes

 

What exactly is your question? Of course you can start multiple rtrace or whatever processes, they will not care about each other. If you run more processes then CPUs, they will slow down, same is true (even worse) if you exceed available memory. If you have lots of scenes, you can write a script to automate the handling. You may also like batch processing queues if you have a lot of processes to distribute. Still, it is impossible to answer your question if it is that general.

 

Cheers, Lars.

--

Dipl.-Ing. Architect Lars O. Grobe


On May 18, 2011, at 11:11, "Sotiris Papantoniou" <sotos.enveng at gmail.com> wrote:

Hello list again,

 

I have a new issue concerning multiple simulations. I would run the same command (rpict, rtrace, rad) many times but for different scenes.oct. Do you know if this is possible?

 

Thank you in advance

 

Sotiris

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

  _____  

No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1375 / Virus Database: 1509/3644 - Release Date: 05/17/11

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110518/926b5daf/attachment-0001.html>

From grobe at gmx.net  Wed May 18 04:05:34 2011
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 18 May 2011 13:05:34 +0200
Subject: [Radiance-general] Running multiple rpict commands
 for	different scenes
In-Reply-To: <4dd39f9d.d94fcc0a.43c5.5c8c@mx.google.com>
References: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>	<A5763843-F697-4B6C-B016-7D652BC852C4@gmx.net>
	<4dd39f9d.d94fcc0a.43c5.5c8c@mx.google.com>
Message-ID: <4DD3A7FE.6090400@gmx.net>

Hi!

> My idea is to run many simulations, for now up to 1200, in order to
> create data for a fuzzy system.  I have many simulations because I have
> a glass part of a building which has 4 sets of blinds which are
> autonomously controlled. If I am thinking correctly when the angle of
> each blind changes we have a new scene, which is separately simulated.
> For each scene I am running a new rpict command to see the result. I
> found out that in the University we have a grid-computer which is
> working on Linux. From the grid-computer web-site I read the following:

Two options:

A) Create your scene octrees, name them according to your parameters. 
Create a rif-file with the settings you use. In this rif-file, you use 
dummies names for the critical parameters that should not be shared 
(e.g. all file names including the ambient file). Write a script that 
loops through all the possible names (and thus setups), replaces the 
dummy by the current scene name, runs rad on the rif file. sed is a very 
useful command for doing so.

B) Create one rif file, and replace the varying parts of your scene (can 
be material definitions, geometry, ...) by shell commands (preceded by 
!) that produce the output. In the simplest way, this command can just 
return the value of an environment variable that is altered by your 
script. E.g. in your script, you set the variable myVariableMat="void 
plastic thisTimeItsWhite 0 0 5 1 1 1 0 0", and in your material 
definition file, you reference it by adding a line !echo $myVariableMat.

Hope this helps.

Cheers, Lars.


From jedev at visarc.com  Wed May 18 05:15:08 2011
From: jedev at visarc.com (Jack de Valpine)
Date: Wed, 18 May 2011 08:15:08 -0400
Subject: [Radiance-general] Running multiple rpict commands
 for	different scenes
In-Reply-To: <4dd39f9d.d94fcc0a.43c5.5c8c@mx.google.com>
References: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>	<A5763843-F697-4B6C-B016-7D652BC852C4@gmx.net>
	<4dd39f9d.d94fcc0a.43c5.5c8c@mx.google.com>
Message-ID: <4DD3B84C.7090507@visarc.com>

Hi Sotiris,

There are several things that you are going to have to figure out in 
order to take advantage of the compute resources available at your 
university. Hopefully there is some administrative support that can 
provide some basic advice. But I think that you will need to figure out 
the following, and this is likely not going to be an fast learning curve 
unless you are accustomed to working with this type of system and the 
scripting that will likely be involved. It will take some trial and 
error, but once you get it figured out it will probably be well worth 
the effort to have such a resource available.

   1. You will need to figure out how you need to install your
      application (Radiance) to make it accessible to the cluster.
   2. You will need to figure out how to script radiance to to make the
      scene changes that are needed. This might involve some selection
      of: make, csh, perl, python or whatever other scripting language
      you enjoy. I think that it may also be possible to control through
      Matlab/Octave (see
      http://web.mac.com/geotrupes/iWeb/Main%20site/RadBlog/E549E7F4-6DA2-4D78-8F91-74A4691ED86A.html
      at Giulio Antonutto's site). If the only variation in your scene
      is going to be the orientation of the individual blind slats, then
      there are a number of ways to script this and one option might be
      to consider looking at the radiance program ranimate with the
      ANIMATE variable set to a script to rotates the slat geometry by a
      given increment or parameter, with this you could also change
      other scene conditions such as the position of the sun/sky
      condition. But this could also be done with the other scripting
      methods I indicate.
   3. Lastly you will need to figure out how to submit your radiance
      rendering job to the grid. Based on the information that you
      provide it is most likely that this would be done via "qsub" which
      is a job submital routine for Torque, which looks to be the
      queuing system for the cluster (Maui takes care of how the
      resources are actually allocated). Unfortunately this (job
      submittal with qsub) also requires some scripting, however there
      should be "howto" resources available from the system
      administrators of the cluster. Such a script will have parameters
      indicating what resources (nodes, cpus, cores and time are needed
      for the job) as well as what the job comprises. In this case you
      would probably want to script something that actually generates
      1200 separate "jobs" that can then be submitted individually to
      the cluster as resources become available. If you "owned" the
      cluster you would be able to do things more simply using ranimate
      to distribute the job over selected cluster nodes.


Regards,

-Jack de Valpine

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 5/18/2011 6:29 AM, Sotiris Papantoniou wrote:
>
> Hello Lars and Christopher,
>
> My idea is to run many simulations, for now up to 1200, in order to 
> create data for a fuzzy system.  I have many simulations because I 
> have a glass part of a building which has 4 sets of blinds which are 
> autonomously controlled. If I am thinking correctly when the angle of 
> each blind changes we have a new scene, which is separately simulated. 
> For each scene I am running a new rpict command to see the result. I 
> found out that in the University we have a grid-computer which is 
> working on Linux. From the grid-computer web-site I read the following:
>
> *Translators***
>
>     * C (gcc 4.1.2  gcc44  4.4.0)
>       <http://gcc.gnu.org/onlinedocs/gcc-3.4.6/gcc/>
>     * Fortran77 & 98 (gfortran 4.1.2 gfortan44 4.4.0)
>       <http://www.ibiblio.org/pub/languages/fortran/>
>     * C++  (g++  4.1.2  g++44 4.4.0)
>       <http://gcc.gnu.org/onlinedocs/gcc-3.4.6/gcc/>
>     * Java  (jdk 1.6.0  gcj   4.1.2) <http://java.sun.com/>
>     * Python  2.4.3 <http://www.python.org/>
>
> *Data bases*
>
>     * MySQL 5.0.77 <http://dev.mysql.com/doc/>
>
> *Computational****Systems***
>
>     * Matlab 7.9.0 <http://www.mathworks.com/products/matlab/>
>     * Octave 3.0.5 <http://www.gnu.org/software/octave/about.html>
>     * R-2.12.2 <http://www.r-project.org/>
>
>     * *Management systems****and****grid****operations***
>     * TORQUE 2.3.6
>       <http://www.clusterresources.com/products/torque-resource-manager.php>
>     * openMPI 1.4.1 <http://www.open-mpi.org/>
>     * maui 3.2 <http://www.clusterresources.com/products/maui/>
>
> This is the software of the grid. So I was thinking, to install 
> Radiance on the grid and run the commands from it. So my main question 
> is if I can use radiance on a grid-computer, and If I use the 
> advantage of the grid by running in parallel the same command.
>
> For now, since I was in a hurry to get some results, I am creating the 
> combinations in Matlab and I am running rpict from DOS. I know it is 
> old but I for now I have in the University only an Win OS computer.
>
> I hope I managed to give you some details. If not please tell me so, 
> in order to reply again.
>
> Thank you in advance for your time
>
> Sotiris
>
> *From:*Lars O. Grobe [mailto:grobe at gmx.net]
> *Sent:* Wednesday, May 18, 2011 12:14 PM
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] Running multiple rpict commands for 
> different scenes
>
> What exactly is your question? Of course you can start multiple rtrace 
> or whatever processes, they will not care about each other. If you run 
> more processes then CPUs, they will slow down, same is true (even 
> worse) if you exceed available memory. If you have lots of scenes, you 
> can write a script to automate the handling. You may also like batch 
> processing queues if you have a lot of processes to distribute. Still, 
> it is impossible to answer your question if it is that general.
>
> Cheers, Lars.
>
> --
>
> Dipl.-Ing. Architect Lars O. Grobe
>
>
> On May 18, 2011, at 11:11, "Sotiris Papantoniou" 
> <sotos.enveng at gmail.com <mailto:sotos.enveng at gmail.com>> wrote:
>
>     Hello list again,
>
>     I have a new issue concerning multiple simulations. I would run
>     the same command (rpict, rtrace, rad) many times but for different
>     scenes.oct. Do you know if this is possible?
>
>     Thank you in advance
>
>     Sotiris
>
>     _______________________________________________
>     Radiance-general mailing list
>     Radiance-general at radiance-online.org
>     <mailto:Radiance-general at radiance-online.org>
>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> ------------------------------------------------------------------------
>
> No virus found in this message.
> Checked by AVG - www.avg.com <http://www.avg.com>
> Version: 10.0.1375 / Virus Database: 1509/3644 - Release Date: 05/17/11
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110518/93cc8249/attachment-0001.html>

From sotos.enveng at gmail.com  Wed May 18 06:04:12 2011
From: sotos.enveng at gmail.com (Sotiris Papantoniou)
Date: Wed, 18 May 2011 16:04:12 +0300
Subject: [Radiance-general] Running multiple rpict commands
	for	different scenes
In-Reply-To: <4DD3A7FE.6090400@gmx.net>
References: <4dd37f3a.d94fcc0a.6514.5074@mx.google.com>	<A5763843-F697-4B6C-B016-7D652BC852C4@gmx.net>	<4dd39f9d.d94fcc0a.43c5.5c8c@mx.google.com>
	<4DD3A7FE.6090400@gmx.net>
Message-ID: <4dd3c3ca.ca97cc0a.64e2.6659@mx.google.com>

Hello again Lars,

I have a script already working and giving results but, it is slow, taking
under consideration that is using only 1 core. The script, made in Matlab,
works in the following way

1) 5 embedded for (degrees of each blind and sun position)
2) creates a new folder
3) copying necessary 5 files to make the combination (1 of 1280)
4) copies the standard files (materials, geometry, view)
5) Oconv the files
6) rpict is creating the image and stores it to a standard folder with all
the results
7) go to number (1)

This is in general my script. It works but 7 minutes per simulation for 1280
simulation, equals...  90 hours. 

This is why I need the grid, and apart from that since I can run the
simulations in parallel (thank you for the info), I can save some time until
Radiance is installed, setup and test for many simulations.

Once again thank you for your time

Sotiris

-----Original Message-----
From: Lars O. Grobe [mailto:grobe at gmx.net] 
Sent: Wednesday, May 18, 2011 2:06 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Running multiple rpict commands for
different scenes

Hi!

> My idea is to run many simulations, for now up to 1200, in order to
> create data for a fuzzy system.  I have many simulations because I have
> a glass part of a building which has 4 sets of blinds which are
> autonomously controlled. If I am thinking correctly when the angle of
> each blind changes we have a new scene, which is separately simulated.
> For each scene I am running a new rpict command to see the result. I
> found out that in the University we have a grid-computer which is
> working on Linux. From the grid-computer web-site I read the following:

Two options:

A) Create your scene octrees, name them according to your parameters. 
Create a rif-file with the settings you use. In this rif-file, you use 
dummies names for the critical parameters that should not be shared 
(e.g. all file names including the ambient file). Write a script that 
loops through all the possible names (and thus setups), replaces the 
dummy by the current scene name, runs rad on the rif file. sed is a very 
useful command for doing so.

B) Create one rif file, and replace the varying parts of your scene (can 
be material definitions, geometry, ...) by shell commands (preceded by 
!) that produce the output. In the simplest way, this command can just 
return the value of an environment variable that is altered by your 
script. E.g. in your script, you set the variable myVariableMat="void 
plastic thisTimeItsWhite 0 0 5 1 1 1 0 0", and in your material 
definition file, you reference it by adding a line !echo $myVariableMat.

Hope this helps.

Cheers, Lars.

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-----
No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1375 / Virus Database: 1509/3644 - Release Date: 05/17/11



From dharmesh.124 at gmail.com  Wed May 18 11:47:10 2011
From: dharmesh.124 at gmail.com (dharam)
Date: Thu, 19 May 2011 00:17:10 +0530
Subject: [Radiance-general] Rendered illuminance image on task plane (at a
	certain height)
Message-ID: <BANLkTikRXs+XhcSfPH+vpCdd8Y2X_UsAFA@mail.gmail.com>

Hello,

I am using Ecotect export to Radiance. In Ecotect, I placed camera to get
illuminance image, but it seems that the output image shows lux levels on
ground level. It doesn't give lux contours on a task plane (at any level).
Can anyone help me out in getting lux levels on a certain height.

Thanks!
Dharam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/26bd2a26/attachment.html>

From tbleicher at googlemail.com  Wed May 18 12:01:26 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed, 18 May 2011 14:01:26 -0500
Subject: [Radiance-general] Rendered illuminance image on task plane (at
 a certain height)
In-Reply-To: <BANLkTikRXs+XhcSfPH+vpCdd8Y2X_UsAFA@mail.gmail.com>
References: <BANLkTikRXs+XhcSfPH+vpCdd8Y2X_UsAFA@mail.gmail.com>
Message-ID: <BANLkTik4uzEwFWOyX4cF6JOy4S6P4D9Fvw@mail.gmail.com>

If you're bound to Ecotect you have to create a grid for the room at the
correct height and export it as a list of coordinates which are then fed to
rtrace. I think Ecotect creates a *.bat file for you with all the necessary
commands. When the calculation is done you load the results back into
Ecotect and visualise the grid.

A Radiance only approach is explained in Axel's Radiance tutorials

http://www.jaloxa.eu/resources/radiance/documentation/index.shtml

and here:

http://sites.google.com/site/tbleicher/radiance/stencil

Regards,
Thomas


On Wed, May 18, 2011 at 1:47 PM, dharam <dharmesh.124 at gmail.com> wrote:

> Hello,
>
> I am using Ecotect export to Radiance. In Ecotect, I placed camera to get
> illuminance image, but it seems that the output image shows lux levels on
> ground level. It doesn't give lux contours on a task plane (at any level).
> Can anyone help me out in getting lux levels on a certain height.
>
> Thanks!
> Dharam
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110518/8823034e/attachment.html>

From dharmesh.124 at gmail.com  Thu May 19 10:21:39 2011
From: dharmesh.124 at gmail.com (dharam)
Date: Thu, 19 May 2011 22:51:39 +0530
Subject: [Radiance-general] task plane illuminance
Message-ID: <BANLkTik6g4GwwJpg-UFDdLvH2s_ka1QGJQ@mail.gmail.com>

Hello,

1. I am using Ecotect export to Radiance. In Ecotect, I placed camera to get
illuminance image, but it seems that the output image shows lux levels on
ground level. It doesn't give lux contours on a task plane (at any level).
Can anyone help me out in getting lux levels on a certain height.

2. does autocad2009 have radout command for radiance export. can anyone hel
p me know about it. thanks. and if any other way where i do modelling in
autocad and export option to radiance?

Thanks!
Dharam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/ede85de0/attachment.html>

From tbleicher at googlemail.com  Thu May 19 11:48:17 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu, 19 May 2011 13:48:17 -0500
Subject: [Radiance-general] task plane illuminance
In-Reply-To: <BANLkTik6g4GwwJpg-UFDdLvH2s_ka1QGJQ@mail.gmail.com>
References: <BANLkTik6g4GwwJpg-UFDdLvH2s_ka1QGJQ@mail.gmail.com>
Message-ID: <BANLkTiktERLNDFrQAeFg5GJMxU45NVKxVQ@mail.gmail.com>

On Thu, May 19, 2011 at 12:21 PM, dharam <dharmesh.124 at gmail.com> wrote:

> Hello,
>
> 1. I am using Ecotect export to Radiance. In Ecotect, I placed camera to
> get illuminance image, but it seems that the output image shows lux levels
> on ground level. It doesn't give lux contours on a task plane (at any
> level). Can anyone help me out in getting lux levels on a certain height.
>

Once again:

1) create a grid for the room
2) set the height for the grid to your work plane height
3) export to Radiance and make sure to set the option to export the grid as
well
4) execute the *.bat file created by Ecotect
5) load the *.dat file that created by the *.bat file
6) use the Ecotect features to visualise the results

If you need help with Ecotect please contact Autodesk for support.


> 2. does autocad2009 have radout command for radiance export. can anyone hel
> p me know about it. thanks. and if any other way where i do modelling in
> autocad and export option to radiance?
>

Radout is not part of Autocad. You have to download and install it. You can
find information on radout on Georg Mischler's page:

http://www.schorsch.com/en/download/radout/

I don't know if the offered versions still work on Autocad 2009.

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/4c2a5d0d/attachment.html>

From dharmesh.124 at gmail.com  Thu May 19 12:10:13 2011
From: dharmesh.124 at gmail.com (dharam)
Date: Fri, 20 May 2011 00:40:13 +0530
Subject: [Radiance-general] modelling software
Message-ID: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>

hi

which software is more preferable to create geometry and then export
to radiance for results.

thanks
dhaRam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110520/78582c56/attachment.html>

From shouck at brummitt.com  Thu May 19 12:18:11 2011
From: shouck at brummitt.com (Sandy Houck)
Date: Thu, 19 May 2011 12:18:11 -0700
Subject: [Radiance-general] 2011 International Radiance Workshop
In-Reply-To: <39E82ED1-BCF3-41F6-BFB9-1D795B6F1713@lbl.gov>
References: <39E82ED1-BCF3-41F6-BFB9-1D795B6F1713@lbl.gov>
Message-ID: <2BC45EBFC3EB9F45BF5F860C7751088D115A615B32@VA3DIAXVS551.RED001.local>

Is there any chance that there will be beginner level classes/workshops available?

Regards,

Sandy Houck   LEED AP BD+C, LC
Brummitt Energy Associates Inc
2171 India Street, Suite B
San Diego, CA  92101
619-531-1126 phone,  619-531-1101 fax
shouck at brummitt.com<http://www.brummitt.com/>
www.brummitt.com<http://www.brummitt.com/>

From: Andy McNeil [mailto:amcneil at lbl.gov]
Sent: Monday, May 16, 2011 9:59 AM
To: Radiance general discussion
Cc: Dane Lay
Subject: [Radiance-general] 2011 International Radiance Workshop

Announcing the 2011 International Radiance Workshop

We are still working on the details, and to get a website up for registration.   In the meantime, I want to share what details we have so everyone can start to arrange travel.  I will send another notification when the registration website is ready to accept registration & payment.

Dates
Wednesday, August 24 - Seminar day
Thursday, August 25 - Workshop Day 1
Friday, August 26 - Workshop Day 2

We're still planning the seminar day, though I can fill you in on some specifics.  John Mardaljevic will present a crash course on the Radiance ambient calculation.  We will also have a few presentations covering measurement and simulation of complex fenestration from Greg Ward, Jacob Jonsson and Peter Apian-Bennewitz.  Someone from LBNL will present a preview of the complex glazing database (database for optical properties of non-specular fenestration).  There will also be a presentation covering a new Radiance material primitive!

Call for Presenters
As always, we rely on attendees to present their own work during the two-day workshop.  We are now officially opening the call for presenters.  Please email presentation abstracts to Andy McNeil (amcneil at lbl.gov<mailto:amcneil at lbl.gov>) by Wednesday August 3.

Registration Fee
We are working to get prices for everything.  In the meantime, I can tell you that the fee will be less than $300 for all three days.  Presenters will receive a small discount.  We'll announce the official cost probably when the registration website is launched.

Housing
We've reserved a small block of rooms at the Berkeley Lab Guest House (http://www.berkeleylabguesthouse.berkeley.edu/).  The guest house is located on the lab property and is conveniently located for the workshop.  However it is a bit removed from restaurants and nightlife of Berkeley.  The lab provides a shuttle bus to downtown Berkeley during normal lab hours.  A taxi service is available after lab hours.

We also recommend the following two hotels:
 - Hotel Shattuck Plaza - 1 block from the BART and 3 blocks away from the shuttle up to the lab, a short walk to the restaurants of gourmet ghetto.  http://www.hotelshattuckplaza.com/index.cfm
 - Hotel Durant - a 20 minute a walk from BART.  A 12 minute walk across UC campus to the LBL shuttle bus.    http://www.jdvhotels.com/hotels/sanfranciscoeastbay/durant

We look forward to hosting everyone here in Berkeley!

Andy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/87bac6ef/attachment.html>

From dharmesh.124 at gmail.com  Thu May 19 12:33:51 2011
From: dharmesh.124 at gmail.com (dharam)
Date: Fri, 20 May 2011 01:03:51 +0530
Subject: [Radiance-general] VIEWER
Message-ID: <BANLkTimF+U69n5zD-JFfKicqYcoJAey3Mg@mail.gmail.com>

hi again

i want to know about the various Viewers for Radiance output such as *.oct
etc so as to map down values and without showing any garbage.

or which is best viewer for radiance output to compare results or which
gives out values without any garbage

thanks
dhaRam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110520/aaa4edfb/attachment.html>

From grobe at gmx.net  Thu May 19 12:44:56 2011
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu, 19 May 2011 21:44:56 +0200
Subject: [Radiance-general] modelling and scene viewers
In-Reply-To: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>
References: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>
Message-ID: <4DD57338.4080608@gmx.net>

Hi Dharam!

1) I think it would be useful for you to browse the archives of the 
email list. There are lots of options to create geometry for use with 
Radiance. Autocad is one, if you e.g. export dxf and use one of the 
available converters (see radiance-online.org, strongly recommended!). 
There are lots of modelers with great support for Radiance, e.g. Blender 
or Sketchup. And anything that exports obj can be used, too.

2) For viewers, if you want to view Radiance scenes (octrees), the 
commonly used tool is rvu (rview). The great thing is that it also 
understands all parameters rpict knows. An alternative tool is Peter's 
rshow, but you need to install it first. It should also be listed on 
radiance-online.org. When viewing rendered luminance or illuminance maps 
(aka images), there is a bunch of tools available supporting Radiance's 
rgbe format, which is kind of a standard for high dynamic range imaging 
(HDRI).

3) Ecotect: is another (commercial) software. Maybe it used Radiance, 
but that does not mean that all Radiance users use Ecotect. As you paid 
for an Ecotect license, you should expect the provider of that tool to 
support it, not the community of another, open-source software.

Cheers, Lars.


From antonutto at yahoo.it  Thu May 19 13:25:35 2011
From: antonutto at yahoo.it (Giugi)
Date: Thu, 19 May 2011 21:25:35 +0100
Subject: [Radiance-general] VIEWER
In-Reply-To: <BANLkTimF+U69n5zD-JFfKicqYcoJAey3Mg@mail.gmail.com>
References: <BANLkTimF+U69n5zD-JFfKicqYcoJAey3Mg@mail.gmail.com>
Message-ID: <4E36FFAC-F255-4566-AA69-7B8AA86DAEEE@yahoo.it>

garbage is good.
be ready to type a lot of garbage when you are learning!
rvu is a good start
good luck

On 19 May 2011, at 20:33, dharam wrote:

> hi again
> 
> i want to know about the various Viewers for Radiance output such as *.oct etc so as to map down values and without showing any garbage.
> 
> or which is best viewer for radiance output to compare results or which gives out values without any garbage
> 
> thanks
> dhaRam
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From antonutto at yahoo.it  Thu May 19 13:26:11 2011
From: antonutto at yahoo.it (Giugi)
Date: Thu, 19 May 2011 21:26:11 +0100
Subject: [Radiance-general] modelling software
In-Reply-To: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>
References: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>
Message-ID: <0AFCB07B-CFC7-4177-A554-97D618FC0F66@yahoo.it>

any 3d software you are fluent with that can write obj files
obj2rad is your friend
good luck

On 19 May 2011, at 20:10, dharam wrote:

> hi
> 
> which software is more preferable to create geometry and then export to radiance for results.
> 
> thanks
> dhaRam
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From antonutto at yahoo.it  Thu May 19 13:31:39 2011
From: antonutto at yahoo.it (Giugi)
Date: Thu, 19 May 2011 21:31:39 +0100
Subject: [Radiance-general] task plane illuminance
In-Reply-To: <BANLkTik6g4GwwJpg-UFDdLvH2s_ka1QGJQ@mail.gmail.com>
References: <BANLkTik6g4GwwJpg-UFDdLvH2s_ka1QGJQ@mail.gmail.com>
Message-ID: <4BABB348-AB1B-41C5-B1B2-9F31C2AC90F3@yahoo.it>

I'd say, go the purist way, use radiance on unix
learn the meaning of rtrace.
you can create text files filled with point locations and sensor normals, then with rtrace measure you preferred metrics.
file like
x y z nx ny nz
and then 
rtrace -all_the_settings_you_like model.oct < your_grid_of_points > results.out
I am fairly sure that you will find some more guidance here in the old emails or on the internet in form of tutorials.
I may suggest to look a little here, slightly out of date but still very useful:
RADIANCE Tutorial
good luck




On 19 May 2011, at 18:21, dharam wrote:

> Hello, 
> 
> 1. I am using Ecotect export to Radiance. In Ecotect, I placed camera to get illuminance image, but it seems that the output image shows lux levels on ground level. It doesn't give lux contours on a task plane (at any level). Can anyone help me out in getting lux levels on a certain height.
> 
> 2. does autocad2009 have radout command for radiance export. can anyone hel p me know about it. thanks. and if any other way where i do modelling in autocad and export option to radiance?
> 
> Thanks!
> Dharam  
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/a65d516f/attachment.html>

From guy.vaessen at gmail.com  Thu May 19 14:05:06 2011
From: guy.vaessen at gmail.com (Guy Vaessen)
Date: Thu, 19 May 2011 23:05:06 +0200
Subject: [Radiance-general] Various (beginners) Radiance Guides and tools
Message-ID: <BANLkTimotkUbKGxkJ2cVBoH1bWM_YWqpPA@mail.gmail.com>

For people that are looking for a (beginner) guide to Radiance, I think the
following info can be usefull:

Basic Radiance Cource:
http://sts.bwk.tue.nl/7S630/lecture%20sheets/.%5CLighting_simulation_software_Radiance_wk7_2010.pdf

How to install Radiance in a Virtual Machine:
http://sts.bwk.tue.nl/7S630/Simulatie/_overlay/HowtoinstallRadianceonyourcomputer_def.pdf

Radiance Tutorials from Learnix (lots of usefull stuff, both beginner and
advanced):
http://www.jaloxa.eu/resources/radiance/documentation/index.shtml

General info about lighting technology:
http://sts.bwk.tue.nl/7S630/lecture%20sheets/.%5CLighting_Technology_introduction2010.pdf

Another Radiance tutorial (for MAC OS):
http://web.mac.com/geotrupes/iWeb/Site/Tutorials_files/Basic%20tutorial%20-%20Radiance-1.pdf

Radiance Wiki, (also has tools and MinGW and Cygwin Radiance):
http://www.bozzograo.net/radiancewiki/doku.php?id=start

Installation of Desktop Radiance (Windows):
http://wiki.naturalfrequency.com/wiki/Installing_Radiance_Tutorial

The book Rendering with Radiance:
http://radsite.lbl.gov/radiance/book/
First Chapter: http://radsite.lbl.gov/radiance/book/ch1/ch1.pdf (rview has
been changed to rvu).

Tools:

A Radiance viewer (on Windows) for finished Radiance pictures:
http://deluminaelab.com/download/raddisplay/RadDisplay_1.1.1_Setup.exe

A Radiance exporter for Sketchup:
http://su2rad.googlecode.com/files/su2rad_daysim_r03.zip

A falsecolor viewer for Radiance pictures in Windows:
http://pyrat.googlecode.com/files/wxfalsecolor.exe

I hope this helps

Guy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/112783c8/attachment.html>

From amcneil at lbl.gov  Thu May 19 14:06:08 2011
From: amcneil at lbl.gov (Andy McNeil)
Date: Thu, 19 May 2011 14:06:08 -0700
Subject: [Radiance-general] 2011 International Radiance Workshop
In-Reply-To: <2BC45EBFC3EB9F45BF5F860C7751088D115A615B32@VA3DIAXVS551.RED001.local>
References: <39E82ED1-BCF3-41F6-BFB9-1D795B6F1713@lbl.gov>
	<2BC45EBFC3EB9F45BF5F860C7751088D115A615B32@VA3DIAXVS551.RED001.local>
Message-ID: <C66715D2-10DA-4FDA-9EEA-F9E2066D80C5@lbl.gov>

Hi Sandy,

I'll start by saying that we are very welcoming of beginners at the workshop.  We haven't planned a beginners tutorial during the seminars but  beginners will probably find John's seminar presentation on the ambient calculation parameters (-ab -ad -ar -aa etc) to be helpful.

The presentations during the workshop are given by attendees.  At this point there is no way to know what they will be.  Presentations at past workshops have cover a range of topics.  

When I was a beginner I found the workshop to be inspiring.  While much of the detail was beyond my capability, conceptually it was all very interesting.  I also found the time between presentations, (coffee breaks, lunch and workshop dinner) when I had the opportunity to talk with more experienced users to be particularly valuable for beg.  The workshops provided the motivation I needed persevere. 

If you are a complete beginner I'd suggest working through tutorials before the workshop.  But if your using Radiance now, you're probably know enough to find value in the workshop.

Best,
Andy

PS - Here's a great presentation from Rob at his second workshop (after attending the workshop a year before as self-described newbie).   http://www.radiance-online.org/radiance-workshop2/cd/Guglielmetti/abstract.html  Hopefully well have some presentations from relatively new users this year too. 





On May 19, 2011, at 12:18 PM, Sandy Houck wrote:

> Is there any chance that there will be beginner level classes/workshops available?
>  
> Regards,
>  
> Sandy Houck   LEED AP BD+C, LC
> Brummitt Energy Associates Inc
> 2171 India Street, Suite B
> San Diego, CA  92101
> 619-531-1126 phone,  619-531-1101 fax
> shouck at brummitt.com
> www.brummitt.com
>  
> From: Andy McNeil [mailto:amcneil at lbl.gov] 
> Sent: Monday, May 16, 2011 9:59 AM
> To: Radiance general discussion
> Cc: Dane Lay
> Subject: [Radiance-general] 2011 International Radiance Workshop
>  
> Announcing the 2011 International Radiance Workshop
> 
> We are still working on the details, and to get a website up for registration.   In the meantime, I want to share what details we have so everyone can start to arrange travel.  I will send another notification when the registration website is ready to accept registration & payment.
> 
> Dates 
> Wednesday, August 24 - Seminar day 
> Thursday, August 25 - Workshop Day 1
> Friday, August 26 - Workshop Day 2
> 
> We're still planning the seminar day, though I can fill you in on some specifics.  John Mardaljevic will present a crash course on the Radiance ambient calculation.  We will also have a few presentations covering measurement and simulation of complex fenestration from Greg Ward, Jacob Jonsson and Peter Apian-Bennewitz.  Someone from LBNL will present a preview of the complex glazing database (database for optical properties of non-specular fenestration).  There will also be a presentation covering a new Radiance material primitive!
> 
> Call for Presenters 
> As always, we rely on attendees to present their own work during the two-day workshop.  We are now officially opening the call for presenters.  Please email presentation abstracts to Andy McNeil (amcneil at lbl.gov) by Wednesday August 3.  
> 
> Registration Fee  
> We are working to get prices for everything.  In the meantime, I can tell you that the fee will be less than $300 for all three days.  Presenters will receive a small discount.  We'll announce the official cost probably when the registration website is launched.
> 
> Housing
> We've reserved a small block of rooms at the Berkeley Lab Guest House (http://www.berkeleylabguesthouse.berkeley.edu/).  The guest house is located on the lab property and is conveniently located for the workshop.  However it is a bit removed from restaurants and nightlife of Berkeley.  The lab provides a shuttle bus to downtown Berkeley during normal lab hours.  A taxi service is available after lab hours. 
> 
> We also recommend the following two hotels:
>  - Hotel Shattuck Plaza - 1 block from the BART and 3 blocks away from the shuttle up to the lab, a short walk to the restaurants of gourmet ghetto.  http://www.hotelshattuckplaza.com/index.cfm
>  - Hotel Durant - a 20 minute a walk from BART.  A 12 minute walk across UC campus to the LBL shuttle bus.    http://www.jdvhotels.com/hotels/sanfranciscoeastbay/durant
> 
> We look forward to hosting everyone here in Berkeley!
> 
> Andy
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/f85a1c7f/attachment-0001.html>

From CHarriman at gb-eng.com  Thu May 19 14:09:08 2011
From: CHarriman at gb-eng.com (Chien Si Harriman)
Date: Thu, 19 May 2011 14:09:08 -0700
Subject: [Radiance-general] Problems with impostor surface creation
In-Reply-To: <mailman.1.1305572400.71143.radiance-general@radiance-online.org>
References: <mailman.1.1305572400.71143.radiance-general@radiance-online.org>
Message-ID: <AE3526189BB78143B795EF9C45CB8CBB02F1C7FC@gbsbs.GB-Eng.local>

Hi all-

Thanks for all your help with the problem I'm having modeling glare from
light fixtures.  I have a very simple problem that I can't seem to
solve, as I'm trying to create the impostor surface.  I'm following the
example given in Chapter 5 of the Radiance Bible.  Pg 319 describes the
use of ies2rad.  I cannot get ies2rad to work!  I've tried everything I
can think of...I've tried putting my IES file in my installation folder,
I've tried copying ies2rad into a local temporary file and then copied
my IES files into the same directory, and running ies2rad.  Everytime, I
get an error

I'm running windows 7.  At the command prompt, I am typing:

ies2rad -t white -i .56419 LLM154T5.ies

the program always responds:
<null> No such file or directory

I believe ies2rad is working.  If I type in ies2rad I get the following
response:
ies2rad: missing output file specification


I know this is a basic question, but new to me.  Any help would be
appreciated!





From d.appelfeld at gmail.com  Thu May 19 15:27:04 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Thu, 19 May 2011 15:27:04 -0700
Subject: [Radiance-general] Error: rtcontrib: fatal - incomplete ray value
	from rtrace
Message-ID: <BANLkTinV=7tVgV061N_9WPdNNNOqWxM+Ew@mail.gmail.com>

Dear Radiance users,

I am running calculation of grid of illuminance sensors and recently I have
got several times this error message:

rtcontrib: fatal - incomplete ray value from rtrace

Does anyone have had this before or do you have any suggestion where I
should look for mistakes, I guess there could be several reason for this
error, but I don't know where to start. The rtcontrib command is as
following. I have run this several times because I split the grid and run
more simulations, and it was without problems even running several parallel
simulations in same time using same octree. I am submitting calculations on
our cluster which operating on Sun machines and using GridEngine.

rtcontrib @parameters/vmx_illum.opt -f klems_int.cal -bn Nkbins -fo -o
results/vmx_test_grid_illum/%s.vmx \
-b kbinW @parameters/west.modifier -b kbinS @parameters/south.modifier -I+
oct/model_vmx.oct < sensors/grid/vmx_grid_test_illum.pts

Thank you for any suggestions
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/98fe1cbc/attachment.html>

From gregoryjward at gmail.com  Thu May 19 16:17:49 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 19 May 2011 16:17:49 -0700
Subject: [Radiance-general] Error: rtcontrib: fatal - incomplete ray
	value from rtrace
In-Reply-To: <BANLkTinV=7tVgV061N_9WPdNNNOqWxM+Ew@mail.gmail.com>
References: <BANLkTinV=7tVgV061N_9WPdNNNOqWxM+Ew@mail.gmail.com>
Message-ID: <7333FB90-408B-4A10-8219-5C09E4A76CCE@lmi.net>

Hi David,

I've never encountered this error before.  It sounds like your rtrace process might be dying, but it would normally report an error message if that were the case.  The only case when rtrace doesn't report an error is when the system kills it with signal 9.  Does the calculation proceed for some time before the error occurs, or does it bail right away?

You say you ran the command successfully before.  What, exactly, did you do differently when you got this error?  Are you running it on a different machine, which might have data or file size limits in place?

-Greg

> From: David Appelfeld <d.appelfeld at gmail.com>
> Date: May 19, 2011 3:27:04 PM PDT
> 
> Dear Radiance users, 
> 
> I am running calculation of grid of illuminance sensors and recently I have got several times this error message:
> 
> rtcontrib: fatal - incomplete ray value from rtrace
> 
> Does anyone have had this before or do you have any suggestion where I should look for mistakes, I guess there could be several reason for this error, but I don't know where to start. The rtcontrib command is as following. I have run this several times because I split the grid and run more simulations, and it was without problems even running several parallel simulations in same time using same octree. I am submitting calculations on our cluster which operating on Sun machines and using GridEngine.
> 
> rtcontrib @parameters/vmx_illum.opt -f klems_int.cal -bn Nkbins -fo -o results/vmx_test_grid_illum/%s.vmx \
> -b kbinW @parameters/west.modifier -b kbinS @parameters/south.modifier -I+ oct/model_vmx.oct < sensors/grid/vmx_grid_test_illum.pts
> 
> Thank you for any suggestions
> David


From d.appelfeld at gmail.com  Thu May 19 16:41:33 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Thu, 19 May 2011 16:41:33 -0700
Subject: [Radiance-general] Error: rtcontrib: fatal - incomplete ray
 value from rtrace
In-Reply-To: <7333FB90-408B-4A10-8219-5C09E4A76CCE@lmi.net>
References: <BANLkTinV=7tVgV061N_9WPdNNNOqWxM+Ew@mail.gmail.com>
	<7333FB90-408B-4A10-8219-5C09E4A76CCE@lmi.net>
Message-ID: <BANLkTik7a6+Y8_E_WONSpXgKDh8HV3NTzg@mail.gmail.com>

Hello Greg,
I am suspecting the machine little bit, because it stop after different
time, sometime it got calculation for 4points sometime for 10, etc.

In the beginning I had only one script for whole grid and run it on 8cores
on one node which was the maximum. But there was probably not enough memory
and it gave me error message that there is not enough allocated memory and
it went to waiting process but it never restarted. It stopped even though I
could still see that the the job which I submited to run the script was
active. Unfortunately I don't remember the whole error message correctly.
Then I have split the calculation up to more scripts with less cores used to
save some time and to avoid previous problem. I have run several scripts
without a problem. Then I have got this message and I have deleted the job
and resubmitted it again without doing any  changes. Some of the jobs run
successfully but some just gave this error message and stopped. Again I
could see that the job was still active but nothing was coming out from
calculations.
As I am writing this I am thinking that the server is getting overloaded and
pause the calculation and then rtrace can not finish the process.
I don't know if this make any sense, but I can try to submit it again and
hope that it will finish.

Could you please say more about signal 9 and if I can do anything with it.

Thank you
David


On 19 May 2011 16:17, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi David,
>
> I've never encountered this error before.  It sounds like your rtrace
> process might be dying, but it would normally report an error message if
> that were the case.  The only case when rtrace doesn't report an error is
> when the system kills it with signal 9.  Does the calculation proceed for
> some time before the error occurs, or does it bail right away?
>
> You say you ran the command successfully before.  What, exactly, did you do
> differently when you got this error?  Are you running it on a different
> machine, which might have data or file size limits in place?
>
> -Greg
>
> > From: David Appelfeld <d.appelfeld at gmail.com>
> > Date: May 19, 2011 3:27:04 PM PDT
> >
> > Dear Radiance users,
> >
> > I am running calculation of grid of illuminance sensors and recently I
> have got several times this error message:
> >
> > rtcontrib: fatal - incomplete ray value from rtrace
> >
> > Does anyone have had this before or do you have any suggestion where I
> should look for mistakes, I guess there could be several reason for this
> error, but I don't know where to start. The rtcontrib command is as
> following. I have run this several times because I split the grid and run
> more simulations, and it was without problems even running several parallel
> simulations in same time using same octree. I am submitting calculations on
> our cluster which operating on Sun machines and using GridEngine.
> >
> > rtcontrib @parameters/vmx_illum.opt -f klems_int.cal -bn Nkbins -fo -o
> results/vmx_test_grid_illum/%s.vmx \
> > -b kbinW @parameters/west.modifier -b kbinS @parameters/south.modifier
> -I+ oct/model_vmx.oct < sensors/grid/vmx_grid_test_illum.pts
> >
> > Thank you for any suggestions
> > David
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/7152541b/attachment.html>

From shouck at brummitt.com  Thu May 19 16:57:39 2011
From: shouck at brummitt.com (Sandy Houck)
Date: Thu, 19 May 2011 16:57:39 -0700
Subject: [Radiance-general] 2011 International Radiance Workshop
In-Reply-To: <C66715D2-10DA-4FDA-9EEA-F9E2066D80C5@lbl.gov>
References: <39E82ED1-BCF3-41F6-BFB9-1D795B6F1713@lbl.gov>
	<2BC45EBFC3EB9F45BF5F860C7751088D115A615B32@VA3DIAXVS551.RED001.local>
	<C66715D2-10DA-4FDA-9EEA-F9E2066D80C5@lbl.gov>
Message-ID: <2BC45EBFC3EB9F45BF5F860C7751088D115A615DBC@VA3DIAXVS551.RED001.local>

Thank you - that is good to know!

Regards,

Sandy Houck   LEED AP BD+C, LC
Brummitt Energy Associates Inc
2171 India Street, Suite B
San Diego, CA  92101
619-531-1126 phone,  619-531-1101 fax
shouck at brummitt.com<http://www.brummitt.com/>
www.brummitt.com<http://www.brummitt.com/>

From: Andy McNeil [mailto:amcneil at lbl.gov]
Sent: Thursday, May 19, 2011 2:06 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] 2011 International Radiance Workshop

Hi Sandy,

I'll start by saying that we are very welcoming of beginners at the workshop.  We haven't planned a beginners tutorial during the seminars but  beginners will probably find John's seminar presentation on the ambient calculation parameters (-ab -ad -ar -aa etc) to be helpful.

The presentations during the workshop are given by attendees.  At this point there is no way to know what they will be.  Presentations at past workshops have cover a range of topics.

When I was a beginner I found the workshop to be inspiring.  While much of the detail was beyond my capability, conceptually it was all very interesting.  I also found the time between presentations, (coffee breaks, lunch and workshop dinner) when I had the opportunity to talk with more experienced users to be particularly valuable for beg.  The workshops provided the motivation I needed persevere.

If you are a complete beginner I'd suggest working through tutorials before the workshop.  But if your using Radiance now, you're probably know enough to find value in the workshop.

Best,
Andy

PS - Here's a great presentation from Rob at his second workshop (after attending the workshop a year before as self-described newbie).   http://www.radiance-online.org/radiance-workshop2/cd/Guglielmetti/abstract.html  Hopefully well have some presentations from relatively new users this year too.





On May 19, 2011, at 12:18 PM, Sandy Houck wrote:


Is there any chance that there will be beginner level classes/workshops available?

Regards,

Sandy Houck   LEED AP BD+C, LC
Brummitt Energy Associates Inc
2171 India Street, Suite B
San Diego, CA  92101
619-531-1126 phone,  619-531-1101 fax
shouck at brummitt.com<http://www.brummitt.com/>
www.brummitt.com<http://www.brummitt.com/>

From: Andy McNeil [mailto:amcneil at lbl.gov]
Sent: Monday, May 16, 2011 9:59 AM
To: Radiance general discussion
Cc: Dane Lay
Subject: [Radiance-general] 2011 International Radiance Workshop

Announcing the 2011 International Radiance Workshop

We are still working on the details, and to get a website up for registration.   In the meantime, I want to share what details we have so everyone can start to arrange travel.  I will send another notification when the registration website is ready to accept registration & payment.

Dates
Wednesday, August 24 - Seminar day
Thursday, August 25 - Workshop Day 1
Friday, August 26 - Workshop Day 2

We're still planning the seminar day, though I can fill you in on some specifics.  John Mardaljevic will present a crash course on the Radiance ambient calculation.  We will also have a few presentations covering measurement and simulation of complex fenestration from Greg Ward, Jacob Jonsson and Peter Apian-Bennewitz.  Someone from LBNL will present a preview of the complex glazing database (database for optical properties of non-specular fenestration).  There will also be a presentation covering a new Radiance material primitive!

Call for Presenters
As always, we rely on attendees to present their own work during the two-day workshop.  We are now officially opening the call for presenters.  Please email presentation abstracts to Andy McNeil (amcneil at lbl.gov<mailto:amcneil at lbl.gov>) by Wednesday August 3.

Registration Fee
We are working to get prices for everything.  In the meantime, I can tell you that the fee will be less than $300 for all three days.  Presenters will receive a small discount.  We'll announce the official cost probably when the registration website is launched.

Housing
We've reserved a small block of rooms at the Berkeley Lab Guest House (http://www.berkeleylabguesthouse.berkeley.edu/).  The guest house is located on the lab property and is conveniently located for the workshop.  However it is a bit removed from restaurants and nightlife of Berkeley.  The lab provides a shuttle bus to downtown Berkeley during normal lab hours.  A taxi service is available after lab hours.

We also recommend the following two hotels:
 - Hotel Shattuck Plaza - 1 block from the BART and 3 blocks away from the shuttle up to the lab, a short walk to the restaurants of gourmet ghetto.  http://www.hotelshattuckplaza.com/index.cfm
 - Hotel Durant - a 20 minute a walk from BART.  A 12 minute walk across UC campus to the LBL shuttle bus.    http://www.jdvhotels.com/hotels/sanfranciscoeastbay/durant

We look forward to hosting everyone here in Berkeley!

Andy
_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/1af945d7/attachment-0001.html>

From gregoryjward at gmail.com  Thu May 19 17:15:54 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 19 May 2011 17:15:54 -0700
Subject: [Radiance-general] Error: rtcontrib: fatal - incomplete ray
	value from rtrace
In-Reply-To: <BANLkTik7a6+Y8_E_WONSpXgKDh8HV3NTzg@mail.gmail.com>
References: <BANLkTinV=7tVgV061N_9WPdNNNOqWxM+Ew@mail.gmail.com>
	<7333FB90-408B-4A10-8219-5C09E4A76CCE@lmi.net>
	<BANLkTik7a6+Y8_E_WONSpXgKDh8HV3NTzg@mail.gmail.com>
Message-ID: <7B80B5E8-C780-4A48-8894-7F9455CC705C@lmi.net>

Hi David,

Andrew McNeil recently found a problem with rtcontrib running in 64-bit mode on a 32-bit operating system, where very complex ray trees would cause the process to hang.  It sounds a bit like what you're experiencing, so if you like you can download the latest HEAD release from www.radiance-online.org, and either recompile everything or (simpler) grab src/util/rtcontrib.c from the unpacked HEAD and substitute that for the copy in your existing source tree, recompiling just rtcontrib.  The code for rtrace hasn't changed in any important way, and this should fix it if your problem is the same.

Regarding signal 9, some Unix implementations use this uncatchable signal to terminate processes that have exceeded their resource limits.  Other systems send a specialized signal saying what went wrong, and rtrace would catch this and report the problem (e.g., "file size limit exceeded").  If your system is just killing the process with signal 9, there's no way to really know what's going wrong.  All you can do is check that your resource limits are ample to your task.

By the way, Andy only ran into this error when he was using many bounces and some rather high parameters in rtcontrib, which caused the ray trees to occasionally exceed 2 GBytes in size -- from a single ray!  It's difficult to say if this is happening in your case without seeing your parameter settings, but it's worth trying to patch rtcontrib in any case as a first step.

Best,
-Greg

> From: David Appelfeld <d.appelfeld at gmail.com>
> Date: May 19, 2011 4:41:33 PM PDT
> 
> Hello Greg, 
> I am suspecting the machine little bit, because it stop after different time, sometime it got calculation for 4points sometime for 10, etc.
> 
> In the beginning I had only one script for whole grid and run it on 8cores on one node which was the maximum. But there was probably not enough memory and it gave me error message that there is not enough allocated memory and it went to waiting process but it never restarted. It stopped even though I could still see that the the job which I submited to run the script was active. Unfortunately I don't remember the whole error message correctly.
> Then I have split the calculation up to more scripts with less cores used to save some time and to avoid previous problem. I have run several scripts without a problem. Then I have got this message and I have deleted the job and resubmitted it again without doing any  changes. Some of the jobs run successfully but some just gave this error message and stopped. Again I could see that the job was still active but nothing was coming out from calculations. 
> As I am writing this I am thinking that the server is getting overloaded and pause the calculation and then rtrace can not finish the process. 
> I don't know if this make any sense, but I can try to submit it again and hope that it will finish. 
> 
> Could you please say more about signal 9 and if I can do anything with it. 
> 
> Thank you
> David


From d.appelfeld at gmail.com  Thu May 19 17:44:25 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Thu, 19 May 2011 17:44:25 -0700
Subject: [Radiance-general] Error: rtcontrib: fatal - incomplete ray
 value from rtrace
In-Reply-To: <7B80B5E8-C780-4A48-8894-7F9455CC705C@lmi.net>
References: <BANLkTinV=7tVgV061N_9WPdNNNOqWxM+Ew@mail.gmail.com>
	<7333FB90-408B-4A10-8219-5C09E4A76CCE@lmi.net>
	<BANLkTik7a6+Y8_E_WONSpXgKDh8HV3NTzg@mail.gmail.com>
	<7B80B5E8-C780-4A48-8894-7F9455CC705C@lmi.net>
Message-ID: <BANLkTikR6MfQdK5G-QZgUH3hQ=LO+eN57w@mail.gmail.com>

Hi Greg again,

I have just reinstalled Radiance completely last week, because when I
generated rendering with three-phase method I have got light coming somehow
from wrong side and Andy suggested to reinstalled it.

I guess you may be right with the system limits. Because I have exceeded
number of opened files before and there could be maybe some other limit
which I am exceeding. Unfortunately I can not change the limits, I have
contacted the servers support but they cannot change it.

The parameters are quite high. I may reduce some but then I have to run
whole simulation again, also for the sensors which I have got results for.


-ab 5
-ad 2048
-as 0
-aa 0
-lw 1.00E-12
-ds 0.1
-dj 0.9
-dt 0
-dc 0.75
-n 4

I have started to run the simulation again and I will see how it goes. My
further step will be probably reduce the parameters.

Thank you for your advices.
David

On 19 May 2011 17:15, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi David,
>
> Andrew McNeil recently found a problem with rtcontrib running in 64-bit
> mode on a 32-bit operating system, where very complex ray trees would cause
> the process to hang.  It sounds a bit like what you're experiencing, so if
> you like you can download the latest HEAD release from
> www.radiance-online.org, and either recompile everything or (simpler) grab
> src/util/rtcontrib.c from the unpacked HEAD and substitute that for the copy
> in your existing source tree, recompiling just rtcontrib.  The code for
> rtrace hasn't changed in any important way, and this should fix it if your
> problem is the same.
>
> Regarding signal 9, some Unix implementations use this uncatchable signal
> to terminate processes that have exceeded their resource limits.  Other
> systems send a specialized signal saying what went wrong, and rtrace would
> catch this and report the problem (e.g., "file size limit exceeded").  If
> your system is just killing the process with signal 9, there's no way to
> really know what's going wrong.  All you can do is check that your resource
> limits are ample to your task.
>
> By the way, Andy only ran into this error when he was using many bounces
> and some rather high parameters in rtcontrib, which caused the ray trees to
> occasionally exceed 2 GBytes in size -- from a single ray!  It's difficult
> to say if this is happening in your case without seeing your parameter
> settings, but it's worth trying to patch rtcontrib in any case as a first
> step.
>
> Best,
> -Greg
>
> > From: David Appelfeld <d.appelfeld at gmail.com>
> > Date: May 19, 2011 4:41:33 PM PDT
> >
> > Hello Greg,
> > I am suspecting the machine little bit, because it stop after different
> time, sometime it got calculation for 4points sometime for 10, etc.
> >
> > In the beginning I had only one script for whole grid and run it on
> 8cores on one node which was the maximum. But there was probably not enough
> memory and it gave me error message that there is not enough allocated
> memory and it went to waiting process but it never restarted. It stopped
> even though I could still see that the the job which I submited to run the
> script was active. Unfortunately I don't remember the whole error message
> correctly.
> > Then I have split the calculation up to more scripts with less cores used
> to save some time and to avoid previous problem. I have run several scripts
> without a problem. Then I have got this message and I have deleted the job
> and resubmitted it again without doing any  changes. Some of the jobs run
> successfully but some just gave this error message and stopped. Again I
> could see that the job was still active but nothing was coming out from
> calculations.
> > As I am writing this I am thinking that the server is getting overloaded
> and pause the calculation and then rtrace can not finish the process.
> > I don't know if this make any sense, but I can try to submit it again and
> hope that it will finish.
> >
> > Could you please say more about signal 9 and if I can do anything with
> it.
> >
> > Thank you
> > David
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/1f04e302/attachment.html>

From gregoryjward at gmail.com  Thu May 19 19:32:06 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 19 May 2011 19:32:06 -0700
Subject: [Radiance-general] Error: rtcontrib: fatal - incomplete ray
	value from rtrace
In-Reply-To: <BANLkTikR6MfQdK5G-QZgUH3hQ=LO+eN57w@mail.gmail.com>
References: <BANLkTinV=7tVgV061N_9WPdNNNOqWxM+Ew@mail.gmail.com>
	<7333FB90-408B-4A10-8219-5C09E4A76CCE@lmi.net>
	<BANLkTik7a6+Y8_E_WONSpXgKDh8HV3NTzg@mail.gmail.com>
	<7B80B5E8-C780-4A48-8894-7F9455CC705C@lmi.net>
	<BANLkTikR6MfQdK5G-QZgUH3hQ=LO+eN57w@mail.gmail.com>
Message-ID: <B3A4D25E-C699-46CE-9E70-58DCBA6BAE92@lmi.net>

Yeah, your parameters are set really high.  Setting -lw 1e-12 means that in the limit, you will trace a trillion rays for every input ray, and these trillion rays will have to be summed up by rtcontrib.  You're probably running out of RAM in your rtcontrib process.  I wouldn't bother with the -n 4 -- it won't speed things up and it makes your memory problem worse.  Try using -n 1 and -lw 1e-9 or greater.

-Greg

> From: David Appelfeld <d.appelfeld at gmail.com>
> Date: May 19, 2011 5:44:25 PM PDT
> 
> Hi Greg again, 
> 
> I have just reinstalled Radiance completely last week, because when I generated rendering with three-phase method I have got light coming somehow from wrong side and Andy suggested to reinstalled it. 
> 
> I guess you may be right with the system limits. Because I have exceeded number of opened files before and there could be maybe some other limit which I am exceeding. Unfortunately I can not change the limits, I have contacted the servers support but they cannot change it.
> 
> The parameters are quite high. I may reduce some but then I have to run whole simulation again, also for the sensors which I have got results for. 
> 
> -ab 5
> -ad 2048
> -as 0
> -aa 0
> -lw 1.00E-12
> -ds 0.1
> -dj 0.9
> -dt 0
> -dc 0.75
> -n 4
> 
> I have started to run the simulation again and I will see how it goes. My further step will be probably reduce the parameters. 
> 
> Thank you for your advices. 
> David
> 
> On 19 May 2011 17:15, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi David,
> 
> Andrew McNeil recently found a problem with rtcontrib running in 64-bit mode on a 32-bit operating system, where very complex ray trees would cause the process to hang.  It sounds a bit like what you're experiencing, so if you like you can download the latest HEAD release from www.radiance-online.org, and either recompile everything or (simpler) grab src/util/rtcontrib.c from the unpacked HEAD and substitute that for the copy in your existing source tree, recompiling just rtcontrib.  The code for rtrace hasn't changed in any important way, and this should fix it if your problem is the same.
> 
> Regarding signal 9, some Unix implementations use this uncatchable signal to terminate processes that have exceeded their resource limits.  Other systems send a specialized signal saying what went wrong, and rtrace would catch this and report the problem (e.g., "file size limit exceeded").  If your system is just killing the process with signal 9, there's no way to really know what's going wrong.  All you can do is check that your resource limits are ample to your task.
> 
> By the way, Andy only ran into this error when he was using many bounces and some rather high parameters in rtcontrib, which caused the ray trees to occasionally exceed 2 GBytes in size -- from a single ray!  It's difficult to say if this is happening in your case without seeing your parameter settings, but it's worth trying to patch rtcontrib in any case as a first step.
> 
> Best,
> -Greg
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110519/1ecdedf1/attachment-0001.html>

From gregoryjward at gmail.com  Thu May 19 22:24:55 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 19 May 2011 22:24:55 -0700
Subject: [Radiance-general] Problems with impostor surface creation
In-Reply-To: <AE3526189BB78143B795EF9C45CB8CBB02F1C7FC@gbsbs.GB-Eng.local>
References: <mailman.1.1305572400.71143.radiance-general@radiance-online.org>
	<AE3526189BB78143B795EF9C45CB8CBB02F1C7FC@gbsbs.GB-Eng.local>
Message-ID: <75B01EC4-6777-443B-B7EC-283A262966D6@lmi.net>

Strange error.  Out of curiosity, what happens if you use "-t default" instead of "-t white"?  Also try giving the file as "./LLM154T5.ies" instead.

Unfortunately, the error message doesn't give much clue about where it's happening or why.  It could even be an error in the IES file.  If there's a tilt data file that's missing or contains a nul byte, that might cause it as well.  You could try e-mailing me your file off-list as an attachment.

-Greg

> From: "Chien Si Harriman" <CHarriman at gb-eng.com>
> Date: May 19, 2011 2:09:08 PM PDT
> 
> Hi all-
> 
> Thanks for all your help with the problem I'm having modeling glare from
> light fixtures.  I have a very simple problem that I can't seem to
> solve, as I'm trying to create the impostor surface.  I'm following the
> example given in Chapter 5 of the Radiance Bible.  Pg 319 describes the
> use of ies2rad.  I cannot get ies2rad to work!  I've tried everything I
> can think of...I've tried putting my IES file in my installation folder,
> I've tried copying ies2rad into a local temporary file and then copied
> my IES files into the same directory, and running ies2rad.  Everytime, I
> get an error
> 
> I'm running windows 7.  At the command prompt, I am typing:
> 
> ies2rad -t white -i .56419 LLM154T5.ies
> 
> the program always responds:
> <null> No such file or directory
> 
> I believe ies2rad is working.  If I type in ies2rad I get the following
> response:
> ies2rad: missing output file specification
> 
> 
> I know this is a basic question, but new to me.  Any help would be
> appreciated!


From maricanis at gmail.com  Fri May 20 00:02:47 2011
From: maricanis at gmail.com (Marija Velickovic)
Date: Fri, 20 May 2011 09:02:47 +0200
Subject: [Radiance-general] modelling software
In-Reply-To: <0AFCB07B-CFC7-4177-A554-97D618FC0F66@yahoo.it>
References: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>
	<0AFCB07B-CFC7-4177-A554-97D618FC0F66@yahoo.it>
Message-ID: <BANLkTi=UpSg+JWBgogG9pohVQzF05-Zfkg@mail.gmail.com>

Hi,

You can also use Sketchup and su2rad.
CAD files can be imported to SketchUp and then exported to Radiance.

Marija

On Thu, May 19, 2011 at 10:26 PM, Giugi <antonutto at yahoo.it> wrote:

> any 3d software you are fluent with that can write obj files
> obj2rad is your friend
> good luck
>
> On 19 May 2011, at 20:10, dharam wrote:
>
> > hi
> >
> > which software is more preferable to create geometry and then export to
> radiance for results.
> >
> > thanks
> > dhaRam
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110520/134b0109/attachment.html>

From RFritz at lbl.gov  Fri May 20 09:15:42 2011
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Fri, 20 May 2011 09:15:42 -0700
Subject: [Radiance-general] modelling software
References: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>
Message-ID: <ir643e$jn0$1@dough.gmane.org>

> which software is more?preferable to create geometry?and then export 
> to?radiance?for results.

Depends a lot on your goals and budget, as well as personal 
preferences.  As Guigi says, obj2rad is your friend.  If you are 
primarily an architectural designer and already have a preferred 
modeling tool, I would say stick with it if at all possible.  If your 
interest is simulation design and you have a budget I'd pick up 
Autodesk Ecotect, which has some nice tools for setting up simulations 
and processing the results, but is a rather difficult modeling tool.

If you're starting out and have a modest budget, try Rhino.  If you're 
starting out and have no budget, try SketchUp.

Other tools: Free - Blender, but the UI is 20 years old and it takes a 
long time to learn.  AutoCAD is widely used in architectural practice, 
but the full version is expensive, the 3D modeling capabilities are 
cranky, and the student versions are limited in ways that may interfere 
with simulation work.  Still, if you have it, you might give it a try.

Anyone used Revit, Microstation, or Bentley with Radiance?

-- 
Randolph M. Fritz ? RFritz at lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs

Links:
http://usa.autodesk.com/autocad/
http://www.blender.org/
http://usa.autodesk.com/adsk/servlet/pc/index?id=12602821&siteID=123112 
(Ecotect)
http://www.rhino3d.com/
http://sketchup.google.com/




From grobe at gmx.net  Fri May 20 12:58:26 2011
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri, 20 May 2011 21:58:26 +0200
Subject: [Radiance-general] modelling software
In-Reply-To: <ir643e$jn0$1@dough.gmane.org>
References: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>
	<ir643e$jn0$1@dough.gmane.org>
Message-ID: <4DD6C7E2.9060805@gmx.net>

Hi...

it is slightly off-topic if we start to list all software able to export 
obj, dxf, 3ds, or any of the formats supported by Radiance ;-)

> Other tools: Free - Blender, but the UI is 20 years old and it takes a
> long time to learn.

Takes a while to learn, but the UI is just brandnew...

> AutoCAD is widely used in architectural practice,
> but the full version is expensive, the 3D modeling capabilities are
> cranky, and the student versions are limited in ways that may interfere
> with simulation work. Still, if you have it, you might give it a try.

IMHO the main problem of most Autodesk products is that the company 
distributing these spends more time in locking export features then 
developing new ones. I remember the days when obj, 3ds, ... export was 
standard in Autocad. Today, you cannot export anything except propietary 
formats as far as I know.

> Anyone used Revit, Microstation, or Bentley with Radiance?

Microstation (which is by Bentley) a long time ago. My favourite for a 
long time has been formZ, as it combines CAD and modelling capabilities 
plus is strong in export. Besides, of course, you can use Maya, Houdini, 
Archicad, Vectorworks, any tool out there offering just the most basic 
export features for 3d.

Cheers, Lars.


From t.mcminn at curtin.edu.au  Fri May 20 20:58:05 2011
From: t.mcminn at curtin.edu.au (Terrance Mc Minn)
Date: Sat, 21 May 2011 11:58:05 +0800
Subject: [Radiance-general] Problems with impostor surface
In-Reply-To: <mailman.1.1305918000.70553.radiance-general@radiance-online.org>
References: <mailman.1.1305918000.70553.radiance-general@radiance-online.org>
Message-ID: <4DD7384D.6030909@curtin.edu.au>

Try adding a -o light.rad to the ies2rad command line to generate the 
lights.rad and lights.dat files e.g.
ies2rad -t white -i .56419 -o lights LLM154T5.ies


*Terrance Mc Minn
***

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110521/311a0b9a/attachment.html>

From chris.malcolm.yates at gmail.com  Sat May 21 00:14:37 2011
From: chris.malcolm.yates at gmail.com (Chris Yates)
Date: Sat, 21 May 2011 08:14:37 +0100
Subject: [Radiance-general] modelling software
In-Reply-To: <ir643e$jn0$1@dough.gmane.org>
References: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>
	<ir643e$jn0$1@dough.gmane.org>
Message-ID: <4DD7665D.1030304@gmail.com>

Designbuilder (a modelling system for E+) can export its geometry to 
Radiance. I last used it about a year ago so they may have extended its 
export capabilities. It exports double thickness walls by default.
http://www.designbuildersoftware.com/

On 20/05/2011 17:15, Randolph M. Fritz wrote:
>> which software is more preferable to create geometry and then export 
>> to radiance for results.
>
> Depends a lot on your goals and budget, as well as personal 
> preferences.  As Guigi says, obj2rad is your friend.  If you are 
> primarily an architectural designer and already have a preferred 
> modeling tool, I would say stick with it if at all possible.  If your 
> interest is simulation design and you have a budget I'd pick up 
> Autodesk Ecotect, which has some nice tools for setting up simulations 
> and processing the results, but is a rather difficult modeling tool.
>
> If you're starting out and have a modest budget, try Rhino.  If you're 
> starting out and have no budget, try SketchUp.
>
> Other tools: Free - Blender, but the UI is 20 years old and it takes a 
> long time to learn.  AutoCAD is widely used in architectural practice, 
> but the full version is expensive, the 3D modeling capabilities are 
> cranky, and the student versions are limited in ways that may 
> interfere with simulation work.  Still, if you have it, you might give 
> it a try.
>
> Anyone used Revit, Microstation, or Bentley with Radiance?
>

-- 

Chris Yates C Eng MCIBSE

/Building Physics Consultant/

Tel:+447960731576

Email: chris.malcolm.yates at gmail.com

Skype: christopher.m.yates

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110521/99a682c1/attachment.html>

From Robert.Guglielmetti at nrel.gov  Sun May 22 07:45:34 2011
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Sun, 22 May 2011 08:45:34 -0600
Subject: [Radiance-general] modelling software
In-Reply-To: <ir643e$jn0$1@dough.gmane.org>
References: <BANLkTikECzBtrnLWO3=92rsJ1Or_h-Zr2g@mail.gmail.com>,
	<ir643e$jn0$1@dough.gmane.org>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA32212D9B1CFB@MAILBOX2.nrel.gov>

Speaking of free, and SketchUp, NERL has been hard at work for the last year on an entirely new version of OpenStudio. OpenStudio was originally just a SketchUp plugin for the creation of EnergyPlus models, but we have rebuilt it from the ground up as an "analysis platform" for doing parametric analysis of whole building energy models. 

For more information visit http://openstudio.nrel.gov, and for Radiance-specific info see this post:

https://openstudio.nrel.gov/forums/openstudio-plug-google-sketchup/help-desk/it-possible-connect-radiance-open-studio-if-it-yes-

It's very much in alpha phase at this point, but we are planning to get more of the Radiance functionality wired up in the coming months. 

- Rob

________________________________________
From: Randolph M. Fritz [RFritz at lbl.gov]
Sent: Friday, May 20, 2011 10:15 AM
To: radiance-general at radiance-online.org
Subject: Re: [Radiance-general] modelling software

> which software is more preferable to create geometry and then export
> to radiance for results.

Depends a lot on your goals and budget, as well as personal
preferences.  As Guigi says, obj2rad is your friend.  If you are
primarily an architectural designer and already have a preferred
modeling tool, I would say stick with it if at all possible.  If your
interest is simulation design and you have a budget I'd pick up
Autodesk Ecotect, which has some nice tools for setting up simulations
and processing the results, but is a rather difficult modeling tool.

If you're starting out and have a modest budget, try Rhino.  If you're
starting out and have no budget, try SketchUp.

Other tools: Free - Blender, but the UI is 20 years old and it takes a
long time to learn.  AutoCAD is widely used in architectural practice,
but the full version is expensive, the 3D modeling capabilities are
cranky, and the student versions are limited in ways that may interfere
with simulation work.  Still, if you have it, you might give it a try.

Anyone used Revit, Microstation, or Bentley with Radiance?

--
Randolph M. Fritz ? RFritz at lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs

Links:
http://usa.autodesk.com/autocad/
http://www.blender.org/
http://usa.autodesk.com/adsk/servlet/pc/index?id=12602821&siteID=123112
(Ecotect)
http://www.rhino3d.com/
http://sketchup.google.com/



_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From dharmesh.124 at gmail.com  Mon May 23 03:31:47 2011
From: dharmesh.124 at gmail.com (dharam)
Date: Mon, 23 May 2011 16:01:47 +0530
Subject: [Radiance-general] OUTPUT-TABULAR FORM
Message-ID: <BANLkTinF-kfS8O3-Hf+W9SBtYA90gb=tdQ@mail.gmail.com>

hi.

can anyone please help me in taking out output results from radiance images
in the form of TEXT. (numericals) so that i can use for analysis.-IM USING
ECOTECT AS A INTERFACE.

for ex: luminance images -  the output in number form ..how can i get those
results. OR is there a direct way for output in numerical form.

thanks

regards
dhaRam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110523/7437ce87/attachment.html>

From grobe at gmx.net  Mon May 23 05:18:26 2011
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 23 May 2011 14:18:26 +0200
Subject: [Radiance-general] OUTPUT-TABULAR FORM
In-Reply-To: <BANLkTinF-kfS8O3-Hf+W9SBtYA90gb=tdQ@mail.gmail.com>
References: <BANLkTinF-kfS8O3-Hf+W9SBtYA90gb=tdQ@mail.gmail.com>
Message-ID: <4DDA5092.6090707@gmx.net>

Hi Dharam!

I think people (including me) already tried to hide some hint in 
previous replies that this is not an Ecotect mailing list, that Ecotect 
is a package sold by a company that should be able to provide support 
for their software which you paid for, but that we happily answer 
Radiance-related questions here. I short terms: please do not continue 
to bother people with questions about Ecotect. We do not know, we do not 
want to know, or we do not want to discuss it here. Seriously.

> can anyone please help me in taking out output results from radiance
> images in the form of TEXT. (numericals) so that i can use for
> analysis.-IM USING ECOTECT AS A INTERFACE.
>
> for ex: luminance images -  the output in number form ..how can i get
> those results. OR is there a direct way for output in numerical form.

I think the answer to the Radiance part of the question is obvious. Type 
man pvalue, read the manpage of pvalue online, or read the tutorials 
(e.g. Axel Jacob's great work). As it documented, all Radiance tools 
starting with p are performing pixel operations. Images are 2d maps of 
pixels, and pvalue extracts these. In general, all non-binary data 
leaving Radiance is text. There are lots of tools in Radiance to process 
the text output, my favourites are rlam, rcalc,... read the 
documentation and you will find everything you need.

Cheers, Lars.


From d.appelfeld at gmail.com  Mon May 23 07:51:13 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Mon, 23 May 2011 07:51:13 -0700
Subject: [Radiance-general] warning - outgoing BSDF direction 142 collects
	107.4% of light
Message-ID: <BANLkTimLsTy=jnc48jTfAQ9OGMXCRbAmRg@mail.gmail.com>

Dear Radiance users,
I am getting warning message

warning - outgoing BSDF direction 142 collects 107.4% of light

when multiplying matrixes by dctimestep. I generated BSDF matrix by genBSDF.
I guess that I can still use it but is this message saying that it could be
wrong or is it more just like a statement that there is literally more light
coming to direction 142.
I generated more of BSDF matrexis and I kept same geometry and changed only
one material which has higher reflectance. I guess that it can be reason but
I would like to be sure that the BSDF matrix is still reliable.

Here is the material description for OLD and NEW (with warning message when
used)
NEW material is generated by "optics2rad"
OLD material is generated by script "glaze" and "optics2glazedb"

Thank you very much I very appreciate your help
David


void BRTDfunc OLD
10
    sr_frit_r sr_frit_g sr_frit_b
    st_frit_r st_frit_g st_frit_b
    0 0 0
    glaze1.cal
0
11
0.0564
0.0492
0.051
0.126
0.126
0.126
0.054
0.054
0.054
    1    .6


void BRTDfunc NEW
10
    rR_clear rG_clear rB_clear
    0.678*tR_clear   0.655*tG_clear   0.576*tB_clear
     0 0 0
     window.cal
0
15 0 0 0 0 0 0 0 0 0
    0.267       0.321    0.395
    0.24        0.306    0.368
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110523/0242e272/attachment.html>

From gregoryjward at gmail.com  Mon May 23 08:32:59 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 23 May 2011 08:32:59 -0700
Subject: [Radiance-general] warning - outgoing BSDF direction 142
	collects 107.4% of light
In-Reply-To: <BANLkTimLsTy=jnc48jTfAQ9OGMXCRbAmRg@mail.gmail.com>
References: <BANLkTimLsTy=jnc48jTfAQ9OGMXCRbAmRg@mail.gmail.com>
Message-ID: <079065AA-B009-47E1-8173-BBA61294EA50@lmi.net>

Hi David,

If I understand your e-mail correctly, you are seeing this error using the NEW material, not the OLD one.

I cannot reproduce your error.  I assume from your earlier e-mails that you are using the latest HEAD of Radiance.  You should make sure that everything is up-to-date and try it again.  In particular, we fixed some problems last December in the normalization of results.  The dctimestep program has also been improved and corrected.

-Greg

> From: David Appelfeld <d.appelfeld at gmail.com>
> Date: May 23, 2011 7:51:13 AM PDT
> 
> Dear Radiance users,
> I am getting warning message 
> 
> warning - outgoing BSDF direction 142 collects 107.4% of light
> 
> when multiplying matrixes by dctimestep. I generated BSDF matrix by genBSDF.
> I guess that I can still use it but is this message saying that it could be wrong or is it more just like a statement that there is literally more light coming to direction 142. 
> I generated more of BSDF matrexis and I kept same geometry and changed only one material which has higher reflectance. I guess that it can be reason but I would like to be sure that the BSDF matrix is still reliable. 
> 
> Here is the material description for OLD and NEW (with warning message when used)
> NEW material is generated by "optics2rad"
> OLD material is generated by script "glaze" and "optics2glazedb"
> 
> Thank you very much I very appreciate your help
> David
> 
> 
> void BRTDfunc OLD
> 10
>     sr_frit_r sr_frit_g sr_frit_b
>     st_frit_r st_frit_g st_frit_b
>     0 0 0
>     glaze1.cal
> 0
> 11
> 0.0564
> 0.0492
> 0.051
> 0.126
> 0.126
> 0.126
> 0.054
> 0.054
> 0.054
>     1    .6
> 
> 
> void BRTDfunc NEW
> 10
>     rR_clear rG_clear rB_clear
>     0.678*tR_clear   0.655*tG_clear   0.576*tB_clear
>      0 0 0
>      window.cal
> 0
> 15 0 0 0 0 0 0 0 0 0
>     0.267       0.321    0.395
>     0.24        0.306    0.368
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110523/154923c2/attachment.html>

From d.appelfeld at gmail.com  Mon May 23 08:53:33 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Mon, 23 May 2011 08:53:33 -0700
Subject: [Radiance-general] warning - outgoing BSDF direction 142
 collects 107.4% of light
In-Reply-To: <079065AA-B009-47E1-8173-BBA61294EA50@lmi.net>
References: <BANLkTimLsTy=jnc48jTfAQ9OGMXCRbAmRg@mail.gmail.com>
	<079065AA-B009-47E1-8173-BBA61294EA50@lmi.net>
Message-ID: <BANLkTik-b5OKBYSOvM4Okfv8rG08D+9=PQ@mail.gmail.com>

Hi Greg,

Yes, you understand my email correctly.
I have just find that the material is probably not only the reason. I have
the window split into parts parts and only BSDF for bottom part (down)
generate this warning. Here is the command for both parts of window, and
only difference is the bounding box, which I assume is correct.

### this one produce the warning
genBSDF -c 1000 -n 8 -r @BSDFparameters.opt +forward -backward -geom -dim 0
1.98 0 1.13 -0.01 0 \
geometry/materialNew.mat geometry/30_geometry.rad >
results/BSDFdown_30_new.xml

genBSDF -c 1000 -n 8 -r @BSDFparameters.opt +forward -backward -geom -dim 0
1.98 1.13 2.26 -0.01 0 \
geometry/materialNew.mat geometry/30_geometry.rad >
results/BSDFup_30_new.xml



I am actually using dctimestepcpu instead of dctimestep because it is much
faster, but I guess it is updated too.

I have got this message before but with dctimestep and not dctimestepcpu. I
fixed that in that time but I am not sure what was wrong, I guess it was
something with wrong geometry and there were many more dirrection which
collected higher %.

My question could be also understand as: Would this error also appear when
there is light concentration in one spot after it is reflected?

Thank you
David


On 23 May 2011 08:32, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi David,
>
> If I understand your e-mail correctly, you are seeing this error using the
> NEW material, not the OLD one.
>
> I cannot reproduce your error.  I assume from your earlier e-mails that you
> are using the latest HEAD of Radiance.  You should make sure that everything
> is up-to-date and try it again.  In particular, we fixed some problems last
> December in the normalization of results.  The dctimestep program has also
> been improved and corrected.
>
> -Greg
>
> *From: *David Appelfeld <d.appelfeld at gmail.com>
>
> *Date: *May 23, 2011 7:51:13 AM PDT
>
> *
> *
>
> Dear Radiance users,
> I am getting warning message
>
> warning - outgoing BSDF direction 142 collects 107.4% of light
>
> when multiplying matrixes by dctimestep. I generated BSDF matrix by
> genBSDF.
> I guess that I can still use it but is this message saying that it could be
> wrong or is it more just like a statement that there is literally more light
> coming to direction 142.
> I generated more of BSDF matrexis and I kept same geometry and changed only
> one material which has higher reflectance. I guess that it can be reason but
> I would like to be sure that the BSDF matrix is still reliable.
>
> Here is the material description for OLD and NEW (with warning message when
> used)
> NEW material is generated by "optics2rad"
> OLD material is generated by script "glaze" and "optics2glazedb"
>
> Thank you very much I very appreciate your help
> David
>
>
> void BRTDfunc OLD
> 10
>     sr_frit_r sr_frit_g sr_frit_b
>     st_frit_r st_frit_g st_frit_b
>     0 0 0
>     glaze1.cal
> 0
> 11
> 0.0564
> 0.0492
> 0.051
> 0.126
> 0.126
> 0.126
> 0.054
> 0.054
> 0.054
>     1    .6
>
>
> void BRTDfunc NEW
> 10
>     rR_clear rG_clear rB_clear
>     0.678*tR_clear   0.655*tG_clear   0.576*tB_clear
>      0 0 0
>      window.cal
> 0
> 15 0 0 0 0 0 0 0 0 0
>     0.267       0.321    0.395
>     0.24        0.306    0.368
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110523/3ce86190/attachment-0001.html>

From gregoryjward at gmail.com  Mon May 23 09:35:50 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 23 May 2011 09:35:50 -0700
Subject: [Radiance-general] warning - outgoing BSDF direction 142
	collects 107.4% of light
In-Reply-To: <BANLkTik-b5OKBYSOvM4Okfv8rG08D+9=PQ@mail.gmail.com>
References: <BANLkTimLsTy=jnc48jTfAQ9OGMXCRbAmRg@mail.gmail.com>
	<079065AA-B009-47E1-8173-BBA61294EA50@lmi.net>
	<BANLkTik-b5OKBYSOvM4Okfv8rG08D+9=PQ@mail.gmail.com>
Message-ID: <3FAB7027-71D6-48E3-9063-CC583A8334B7@lmi.net>

Hi David,

I don't really know the source of this warning.  Concentration of light shouldn't affect genBSDF, as it measures everything at infinity.  Why don't you e-mail me your problem XML file in an off-list message, and I'll see if I can spot anything.

-Greg

> From: David Appelfeld <d.appelfeld at gmail.com>
> Date: May 23, 2011 8:53:33 AM PDT
> 
> Hi Greg, 
> 
> Yes, you understand my email correctly. 
> I have just find that the material is probably not only the reason. I have the window split into parts parts and only BSDF for bottom part (down) generate this warning. Here is the command for both parts of window, and only difference is the bounding box, which I assume is correct. 
> 
> ### this one produce the warning
> genBSDF -c 1000 -n 8 -r @BSDFparameters.opt +forward -backward -geom -dim 0 1.98 0 1.13 -0.01 0 \
> geometry/materialNew.mat geometry/30_geometry.rad > results/BSDFdown_30_new.xml
> 
> genBSDF -c 1000 -n 8 -r @BSDFparameters.opt +forward -backward -geom -dim 0 1.98 1.13 2.26 -0.01 0 \
> geometry/materialNew.mat geometry/30_geometry.rad > results/BSDFup_30_new.xml
> 
> 
> 
> I am actually using dctimestepcpu instead of dctimestep because it is much faster, but I guess it is updated too. 
> 
> I have got this message before but with dctimestep and not dctimestepcpu. I fixed that in that time but I am not sure what was wrong, I guess it was something with wrong geometry and there were many more dirrection which collected higher %.
> 
> My question could be also understand as: Would this error also appear when there is light concentration in one spot after it is reflected?
> 
> Thank you
> David
> 
> 
> On 23 May 2011 08:32, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi David,
> 
> If I understand your e-mail correctly, you are seeing this error using the NEW material, not the OLD one.
> 
> I cannot reproduce your error.  I assume from your earlier e-mails that you are using the latest HEAD of Radiance.  You should make sure that everything is up-to-date and try it again.  In particular, we fixed some problems last December in the normalization of results.  The dctimestep program has also been improved and corrected.
> 
> -Greg


From gregoryjward at gmail.com  Mon May 23 10:08:24 2011
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon, 23 May 2011 10:08:24 -0700
Subject: [Radiance-general] warning - outgoing BSDF direction 142
	collects 107.4% of light
In-Reply-To: <BANLkTi=KafrYf_fPnZ+OTH77dVBo8DeHvQ@mail.gmail.com>
References: <BANLkTimLsTy=jnc48jTfAQ9OGMXCRbAmRg@mail.gmail.com>
	<079065AA-B009-47E1-8173-BBA61294EA50@lmi.net>
	<BANLkTik-b5OKBYSOvM4Okfv8rG08D+9=PQ@mail.gmail.com>
	<3FAB7027-71D6-48E3-9063-CC583A8334B7@lmi.net>
	<BANLkTi=KafrYf_fPnZ+OTH77dVBo8DeHvQ@mail.gmail.com>
Message-ID: <63D48AD9-E8E5-4C55-97CB-D69FADAF3B97@gmail.com>

Hi David,

I don't get the warning using your XML file.  I suspect there is something amiss with dctimestepcpu, which I don't know anything about.  Maybe it was derived from earlier code that summed up the BSDF improperly?

Cheers,
-Greg

> From: David Appelfeld <d.appelfeld at gmail.com>
> Date: May 23, 2011 9:50:43 AM PDT
> 
> Hi Greg 
> 
> here is the file. This matrix is only the difference compare to other calculations. 
> 
> I really appreciate your help with my problems with Radiance. 
> 
> Thank you
> David
> 
> On 23 May 2011 09:35, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi David,
> 
> I don't really know the source of this warning.  Concentration of light shouldn't affect genBSDF, as it measures everything at infinity.  Why don't you e-mail me your problem XML file in an off-list message, and I'll see if I can spot anything.
> 
> -Greg
> 
> > From: David Appelfeld <d.appelfeld at gmail.com>
> > Date: May 23, 2011 8:53:33 AM PDT
> >
> > Hi Greg,
> >
> > Yes, you understand my email correctly.
> > I have just find that the material is probably not only the reason. I have the window split into parts parts and only BSDF for bottom part (down) generate this warning. Here is the command for both parts of window, and only difference is the bounding box, which I assume is correct.
> >
> > ### this one produce the warning
> > genBSDF -c 1000 -n 8 -r @BSDFparameters.opt +forward -backward -geom -dim 0 1.98 0 1.13 -0.01 0 \
> > geometry/materialNew.mat geometry/30_geometry.rad > results/BSDFdown_30_new.xml
> >
> > genBSDF -c 1000 -n 8 -r @BSDFparameters.opt +forward -backward -geom -dim 0 1.98 1.13 2.26 -0.01 0 \
> > geometry/materialNew.mat geometry/30_geometry.rad > results/BSDFup_30_new.xml
> >
> >
> >
> > I am actually using dctimestepcpu instead of dctimestep because it is much faster, but I guess it is updated too.
> >
> > I have got this message before but with dctimestep and not dctimestepcpu. I fixed that in that time but I am not sure what was wrong, I guess it was something with wrong geometry and there were many more dirrection which collected higher %.
> >
> > My question could be also understand as: Would this error also appear when there is light concentration in one spot after it is reflected?
> >
> > Thank you
> > David
> >
> >
> > On 23 May 2011 08:32, Greg Ward <gregoryjward at gmail.com> wrote:
> > Hi David,
> >
> > If I understand your e-mail correctly, you are seeing this error using the NEW material, not the OLD one.
> >
> > I cannot reproduce your error.  I assume from your earlier e-mails that you are using the latest HEAD of Radiance.  You should make sure that everything is up-to-date and try it again.  In particular, we fixed some problems last December in the normalization of results.  The dctimestep program has also been improved and corrected.
> >
> > -Greg
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110523/8d723f46/attachment.html>

From d.appelfeld at gmail.com  Mon May 23 10:18:23 2011
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Mon, 23 May 2011 10:18:23 -0700
Subject: [Radiance-general] warning - outgoing BSDF direction 142
 collects 107.4% of light
In-Reply-To: <63D48AD9-E8E5-4C55-97CB-D69FADAF3B97@gmail.com>
References: <BANLkTimLsTy=jnc48jTfAQ9OGMXCRbAmRg@mail.gmail.com>
	<079065AA-B009-47E1-8173-BBA61294EA50@lmi.net>
	<BANLkTik-b5OKBYSOvM4Okfv8rG08D+9=PQ@mail.gmail.com>
	<3FAB7027-71D6-48E3-9063-CC583A8334B7@lmi.net>
	<BANLkTi=KafrYf_fPnZ+OTH77dVBo8DeHvQ@mail.gmail.com>
	<63D48AD9-E8E5-4C55-97CB-D69FADAF3B97@gmail.com>
Message-ID: <BANLkTi=g8J5FKRbF77PTz68bx86E8O7yZQ@mail.gmail.com>

Hi Greg,

I will try to run the multiplication again with dctimestep and I will
compare them.

Thank you
David

On 23 May 2011 10:08, Gregory J. Ward <gregoryjward at gmail.com> wrote:

> Hi David,
>
> I don't get the warning using your XML file.  I suspect there is something
> amiss with dctimestepcpu, which I don't know anything about.  Maybe it was
> derived from earlier code that summed up the BSDF improperly?
>
> Cheers,
> -Greg
>
> *From: *David Appelfeld <d.appelfeld at gmail.com>
>
> *Date: *May 23, 2011 9:50:43 AM PDT
>
> *
> *
>
> Hi Greg
>
> here is the file. This matrix is only the difference compare to other
> calculations.
>
> I really appreciate your help with my problems with Radiance.
>
> Thank you
> David
>
> On 23 May 2011 09:35, Greg Ward <gregoryjward at gmail.com> wrote:
>
>> Hi David,
>>
>> I don't really know the source of this warning.  Concentration of light
>> shouldn't affect genBSDF, as it measures everything at infinity.  Why don't
>> you e-mail me your problem XML file in an off-list message, and I'll see if
>> I can spot anything.
>>
>> -Greg
>>
>> > From: David Appelfeld <d.appelfeld at gmail.com>
>> > Date: May 23, 2011 8:53:33 AM PDT
>> >
>> > Hi Greg,
>> >
>> > Yes, you understand my email correctly.
>> > I have just find that the material is probably not only the reason. I
>> have the window split into parts parts and only BSDF for bottom part (down)
>> generate this warning. Here is the command for both parts of window, and
>> only difference is the bounding box, which I assume is correct.
>> >
>> > ### this one produce the warning
>> > genBSDF -c 1000 -n 8 -r @BSDFparameters.opt +forward -backward -geom
>> -dim 0 1.98 0 1.13 -0.01 0 \
>> > geometry/materialNew.mat geometry/30_geometry.rad >
>> results/BSDFdown_30_new.xml
>> >
>> > genBSDF -c 1000 -n 8 -r @BSDFparameters.opt +forward -backward -geom
>> -dim 0 1.98 1.13 2.26 -0.01 0 \
>> > geometry/materialNew.mat geometry/30_geometry.rad >
>> results/BSDFup_30_new.xml
>> >
>> >
>> >
>> > I am actually using dctimestepcpu instead of dctimestep because it is
>> much faster, but I guess it is updated too.
>> >
>> > I have got this message before but with dctimestep and not
>> dctimestepcpu. I fixed that in that time but I am not sure what was wrong, I
>> guess it was something with wrong geometry and there were many more
>> dirrection which collected higher %.
>> >
>> > My question could be also understand as: Would this error also appear
>> when there is light concentration in one spot after it is reflected?
>> >
>> > Thank you
>> > David
>> >
>> >
>> > On 23 May 2011 08:32, Greg Ward <gregoryjward at gmail.com> wrote:
>> > Hi David,
>> >
>> > If I understand your e-mail correctly, you are seeing this error using
>> the NEW material, not the OLD one.
>> >
>> > I cannot reproduce your error.  I assume from your earlier e-mails that
>> you are using the latest HEAD of Radiance.  You should make sure that
>> everything is up-to-date and try it again.  In particular, we fixed some
>> problems last December in the normalization of results.  The dctimestep
>> program has also been improved and corrected.
>> >
>> > -Greg
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110523/1dc45fac/attachment.html>

From CHarriman at gb-eng.com  Mon May 23 23:38:10 2011
From: CHarriman at gb-eng.com (Chien Si Harriman)
Date: Mon, 23 May 2011 23:38:10 -0700
Subject: [Radiance-general] Problems with impostor surface creation
Message-ID: <AE3526189BB78143B795EF9C45CB8CBB02F643B1@gbsbs.GB-Eng.local>

No joy on this.  I also tried the other recommendation by McMinn to
include -o as well.  I wonder if there is something different about my
installation?

 

 

Chien Si Harriman   LEED AP

Senior Building Performance Engineer

(P) 415.655.4005 

GUTTMANN & BLAEVOET Consulting Engineers

San Francisco | Sacramento | Santa Rosa <http://gb-eng.com/page/Contact>
| Walnut Creek <http://gb-eng.com/page/Contact>  | Website
<http://www.gb-eng.com/> 

Certified Green Business <http://www.greenbiz.ca.gov/AboutUs.html>
committed to the 2030 Challenge <http://www.2030challenge.com/> 

HVAC, Plumbing, Fire Protection, Electrical, Lighting,
Telecom/Technology <http://gb-eng.com/page/services> 

New and Existing Building Commissioning, Energy & Building Performance
Modeling <http://gb-eng.com/page/services> 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110523/b5abb885/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 1953 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110523/b5abb885/attachment.jpg>

From tbleicher at googlemail.com  Tue May 24 06:59:41 2011
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Tue, 24 May 2011 08:59:41 -0500
Subject: [Radiance-general] Problems with impostor surface creation
In-Reply-To: <AE3526189BB78143B795EF9C45CB8CBB02F643B1@gbsbs.GB-Eng.local>
References: <AE3526189BB78143B795EF9C45CB8CBB02F643B1@gbsbs.GB-Eng.local>
Message-ID: <BANLkTingN+BZ_za7K2AGH2uRDpA=HmuKcA@mail.gmail.com>

On Tue, May 24, 2011 at 1:38 AM, Chien Si Harriman <CHarriman at gb-eng.com>wrote:

> No joy on this.  I also tried the other recommendation by McMinn to include
> -o as well.  I wonder if there is something different about my installation?
>

Have you tried a different IES file to rule out problems with the file
itself?

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20110524/41e78ae5/attachment.html>

From gregoryjward at gmail.com  Tue May 24 07:20:27 2011
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 24 May 2011 07:20:27 -0700
Subject: [Radiance-general] Problems with impostor surface creation
In-Reply-To: <AE3526189BB78143B795EF9C45CB8CBB02F643B1@gbsbs.GB-Eng.local>
References: <AE3526189BB78143B795EF9C45CB8CBB02F643B1@gbsbs.GB-Eng.local>
Message-ID: <BCDE79D0-26A3-4128-9D1D-4E3FEA5833A5@lmi.net>

Hi Chien,

I think you are correct, and there is something wrong with your installation.  I can convert your IES file with any set of options and no complaints.  Perhaps you have a file or folder permissions problem.  What machine are you running on and how was Radiance installed on it?

-Greg

> From: "Chien Si Harriman" <CHarriman at gb-eng.com>
> Date: May 23, 2011 11:38:10 PM PDT
> 
> No joy on this.  I also tried the other recommendation by McMinn to include -o as well.  I wonder if there is something different about my installation?
> 
>  


From RFritz at lbl.gov  Wed May 25 09:55:52 2011
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed, 25 May 2011 09:55:52 -0700
Subject: [Radiance-general] Problems with impostor surface creation
References: <AE3526189BB78143B795EF9C45CB8CBB02F1C7FC@gbsbs.GB-Eng.local>
Message-ID: <irjcao$m5l$1@dough.gmane.org>

Chien, which Radiance build did you install?  Was it one of the ones at 
bozzograo?

Randolph


On 2011-05-19 14:09:08 -0700, Chien Si Harriman said:

> Hi all-
> 
> Thanks for all your help with the problem I'm having modeling glare from
> light fixtures.  I have a very simple problem that I can't seem to
> solve, as I'm trying to create the impostor surface.  I'm following the
> example given in Chapter 5 of the Radiance Bible.  Pg 319 describes the
> use of ies2rad.  I cannot get ies2rad to work!  I've tried everything I
> can think of...I've tried putting my IES file in my installation folder,
> I've tried copying ies2rad into a local temporary file and then copied
> my IES files into the same directory, and running ies2rad.  Everytime, I
> get an error
> 
> I'm running windows 7.  At the command prompt, I am typing:
> 
> ies2rad -t white -i .56419 LLM154T5.ies
> 
> the program always responds:
> <null> No such file or directory
> 
> I believe ies2rad is working.  If I type in ies2rad I get the following
> response:
> ies2rad: missing output file specification
> 
> 
> I know this is a basic question, but new to me.  Any help would be
> appreciated!




From RFritz at lbl.gov  Wed May 25 09:59:04 2011
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed, 25 May 2011 09:59:04 -0700
Subject: [Radiance-general] Problems with impostor surface creation
References: <AE3526189BB78143B795EF9C45CB8CBB02F1C7FC@gbsbs.GB-Eng.local>
Message-ID: <irjcgo$ng4$1@dough.gmane.org>

Also, what is the current drive and what directory is "cmd" in?  What 
drive letter shows in the prompt?  What do you see if you type "cd" at 
the command line and hit return?

Randolph

On 2011-05-19 14:09:08 -0700, Chien Si Harriman said:

> Hi all-
> 
> Thanks for all your help with the problem I'm having modeling glare from
> light fixtures.  I have a very simple problem that I can't seem to
> solve, as I'm trying to create the impostor surface.  I'm following the
> example given in Chapter 5 of the Radiance Bible.  Pg 319 describes the
> use of ies2rad.  I cannot get ies2rad to work!  I've tried everything I
> can think of...I've tried putting my IES file in my installation folder,
> I've tried copying ies2rad into a local temporary file and then copied
> my IES files into the same directory, and running ies2rad.  Everytime, I
> get an error
> 
> I'm running windows 7.  At the command prompt, I am typing:
> 
> ies2rad -t white -i .56419 LLM154T5.ies
> 
> the program always responds:
> <null> No such file or directory
> 
> I believe ies2rad is working.  If I type in ies2rad I get the following
> response:
> ies2rad: missing output file specification
> 
> 
> I know this is a basic question, but new to me.  Any help would be
> appreciated!


-- 
Randolph M. Fritz ? RFritz at lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs




