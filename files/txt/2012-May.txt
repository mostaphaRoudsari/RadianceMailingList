From hope.zh at gmail.com  Tue May  1 08:09:34 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Tue, 1 May 2012 23:09:34 +0800
Subject: [Radiance-general] visualize position index
In-Reply-To: <4F9E73AC.8050903@ise.fraunhofer.de>
References: <CAD83LVK3XBki1DBfsyCBwgRqQ_UcsytqPC9BFPULBWjxwFQtxQ@mail.gmail.com>
	<4F9E73AC.8050903@ise.fraunhofer.de>
Message-ID: <CAD83LVLoqw4j=7HnMCz9yYOr_kf480amJyDW8Z45bcoozguh7Q@mail.gmail.com>

Dear Dr Wienold, Thank you very much for the advise! will try it later.

- Ji

On Mon, Apr 30, 2012 at 7:12 PM, Jan Wienold
<jan.wienold at ise.fraunhofer.de>wrote:

> Dear Ji,
>
> there is an undocumented option in evalglare (-p), which replaces the
> luminance values to the position-index values. So you can directly generate
> an image just with the position index with just one command line...
> You have to use evalglare in the normal manner (-> feed in image and
> specify output image. The content of the input image doesn't matter, just
> the header options must be correct.)
>
> example: evalglare -p -c position_index.hdr  inputimage.hdr
>
> Good luck,
>
> Jan
>
>
>
> On 04/29/2012 08:15 PM, Ji Zhang wrote:
>
>> Dear Radiance experts,
>>
>> Learning glare related analysis, I write a .cal file to define the
>> position index for every point on the sky in relation to a given view
>> vector based on the position index formula. I also prepared a batch
>> file to visualize it.
>>
>> However, the image I got is not a circular fisheye one and the upper
>> half of the pattern doesn't seem to resemble what appeared on page 753
>> in Dr Wienold and Dr Christoffersen's paper:
>> Wienold, J., & Christoffersen, J. (2006). Evaluation methods and
>> development of a new glare prediction model for daylight environments
>> with the use of CCD cameras. Energy and Buildings, 38(7), 743-757.
>>
>> Images are shown here:
>> http://episode-hopezh.**blogspot.com/2012/04/viz-**position-index.html<http://episode-hopezh.blogspot.com/2012/04/viz-position-index.html>
>>
>> The .cal and batch files can be downloaded from:
>> https://sites.google.com/site/**episodehopezh/files/viz_sg.**
>> rar?attredirects=0&d=1<https://sites.google.com/site/episodehopezh/files/viz_sg.rar?attredirects=0&d=1>
>> <https://sites.google.com/**site/episodehopezh/files/viz_**
>> sg.rar?attredirects=0&d=1<https://sites.google.com/site/episodehopezh/files/viz_sg.rar?attredirects=0&d=1>
>> >
>>
>> Two folders are included, one for visualizing the position index and
>> the other one for visualizing the inverted position index.
>>
>> The view is a horizontal one towards due south. The image extracted
>> from Dr Wienold and Dr Christoffersen's paper is also included as a
>> reference.
>>
>> Can you kindly take a look of the .cal and batch file and advise me on:
>> 1) why I can't get a circular fisheye image (I assume there's simple
>> rookie error in the script...)?
>> 2) whether the position index pattern as visualized is correct?
>> 3) how to convert the image into one using position index value as
>> color legend?
>>
>>
>> Would greatly appreciate if Dr Wienold can kindly provide some
>> suggestions!
>>
>> Thank you very much in advance!
>>
>> - Ji
>>
>>
>>
>>
>>
>
> --
> Dr.-Ing. Jan Wienold
> Head of Team Passive Systems and Daylighting
> Fraunhofer-Institut f?r Solare Energiesysteme
> Thermal Systems and Buildings
> Heidenhofstr. 2, 79110 Freiburg, Germany
> Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
> jan.wienold at ise.fraunhofer.de
> http://www.ise.fraunhofer.de
>
> In office:
> Mo,Tue: 8:30-18:00
> We,Thu: 8:30-16:00
> Fr:  8:30-15:30
>
>
> ______________________________**_________________
> Radiance-general mailing list
> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120501/44f8f829/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue May  1 09:23:43 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 1 May 2012 10:23:43 -0600
Subject: [Radiance-general] Cross Platform Radiance Installers Now Available
Message-ID: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>

Greetings simulationists (and apologies for the cross postings),

NREL has completed a project aimed at making Radiance more accessible to
building simulationists, regardless of what platform they are using. This
will benefit users of the OpenStudio SDK and applications, as well as
anyone interested in using the powerful raytracing software but reluctant
to learn how to compile code.

Working with Greg Ward and Kitware, we have modified the Radiance source
tree to allow us to build Radiance easily for Windows, Mac, and Linux. We
Offer installers of the latest (HEAD) release, and we will update these
every
two weeks. These installers also include a GUI version of rvu (that also
runs on Windows!). Instructions for downloading and installing these
packages 
can be found at the following page:

openstudio.nrel.gov/getting-started-developer/getting-started-radiance


We hope these prove useful for many in the Radiance and general building
simulation communities.

We will add instructions for using the CMake build system on your own
systems soon. 

Happy raytracing!

- Rob


Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov





From kkonis at pdx.edu  Tue May  1 09:31:06 2012
From: kkonis at pdx.edu (Prof Konis)
Date: Tue, 1 May 2012 09:31:06 -0700
Subject: [Radiance-general] Cross Platform Radiance Installers Now
	Available
In-Reply-To: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
References: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
Message-ID: <1DFC3081-5D6E-45B6-9EC6-065144FE96A0@pdx.edu>

cool. this will no doubt save many new radiance users hours of time!

Sent from my iPhone

On May 1, 2012, at 9:23 AM, "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov> wrote:

> Greetings simulationists (and apologies for the cross postings),
> 
> NREL has completed a project aimed at making Radiance more accessible to
> building simulationists, regardless of what platform they are using. This
> will benefit users of the OpenStudio SDK and applications, as well as
> anyone interested in using the powerful raytracing software but reluctant
> to learn how to compile code.
> 
> Working with Greg Ward and Kitware, we have modified the Radiance source
> tree to allow us to build Radiance easily for Windows, Mac, and Linux. We
> Offer installers of the latest (HEAD) release, and we will update these
> every
> two weeks. These installers also include a GUI version of rvu (that also
> runs on Windows!). Instructions for downloading and installing these
> packages 
> can be found at the following page:
> 
> openstudio.nrel.gov/getting-started-developer/getting-started-radiance
> 
> 
> We hope these prove useful for many in the Radiance and general building
> simulation communities.
> 
> We will add instructions for using the CMake build system on your own
> systems soon. 
> 
> Happy raytracing!
> 
> - Rob
> 
> 
> Rob Guglielmetti  IESNA, LEED AP
> Commercial Buildings Research Group
> National Renewable Energy Laboratory
> 15013 Denver West Parkway MS:RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
> 
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From kkonis at pdx.edu  Tue May  1 09:32:50 2012
From: kkonis at pdx.edu (Prof Konis)
Date: Tue, 1 May 2012 09:32:50 -0700
Subject: [Radiance-general] Cross Platform Radiance Installers Now
	Available
In-Reply-To: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
References: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
Message-ID: <E33EA1F8-5338-4B9A-B5B6-590FD4B3AD01@pdx.edu>

oops. i thought i was just replying to Rob there. classic mistake. -kk

On May 1, 2012, at 9:23 AM, "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov> wrote:

> Greetings simulationists (and apologies for the cross postings),
> 
> NREL has completed a project aimed at making Radiance more accessible to
> building simulationists, regardless of what platform they are using. This
> will benefit users of the OpenStudio SDK and applications, as well as
> anyone interested in using the powerful raytracing software but reluctant
> to learn how to compile code.
> 
> Working with Greg Ward and Kitware, we have modified the Radiance source
> tree to allow us to build Radiance easily for Windows, Mac, and Linux. We
> Offer installers of the latest (HEAD) release, and we will update these
> every
> two weeks. These installers also include a GUI version of rvu (that also
> runs on Windows!). Instructions for downloading and installing these
> packages 
> can be found at the following page:
> 
> openstudio.nrel.gov/getting-started-developer/getting-started-radiance
> 
> 
> We hope these prove useful for many in the Radiance and general building
> simulation communities.
> 
> We will add instructions for using the CMake build system on your own
> systems soon. 
> 
> Happy raytracing!
> 
> - Rob
> 
> 
> Rob Guglielmetti  IESNA, LEED AP
> Commercial Buildings Research Group
> National Renewable Energy Laboratory
> 15013 Denver West Parkway MS:RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
> 
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From RFritz at lbl.gov  Tue May  1 10:04:55 2012
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Tue, 1 May 2012 10:04:55 -0700
Subject: [Radiance-general] Cross Platform Radiance Installers Now
	Available
References: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
Message-ID: <jnp53l$m32$1@dough.gmane.org>

This is great news!

Thanks so much!

Randolph

On 2012-05-01 16:23:43 +0000, Guglielmetti, Robert said:

> Greetings simulationists (and apologies for the cross postings),
> 
> NREL has completed a project aimed at making Radiance more accessible to
> building simulationists, regardless of what platform they are using. This
> will benefit users of the OpenStudio SDK and applications, as well as
> anyone interested in using the powerful raytracing software but reluctant
> to learn how to compile code.
> 
> Working with Greg Ward and Kitware, we have modified the Radiance source
> tree to allow us to build Radiance easily for Windows, Mac, and Linux. We
> Offer installers of the latest (HEAD) release, and we will update these
> every
> two weeks. These installers also include a GUI version of rvu (that also
> runs on Windows!). Instructions for downloading and installing these
> packages
> can be found at the following page:
> 
> openstudio.nrel.gov/getting-started-developer/getting-started-radiance
> 
> 
> We hope these prove useful for many in the Radiance and general building
> simulation communities.
> 
> We will add instructions for using the CMake build system on your own
> systems soon.
> 
> Happy raytracing!
> 
> - Rob
> 
> 
> Rob Guglielmetti  IESNA, LEED AP
> Commercial Buildings Research Group
> National Renewable Energy Laboratory
> 15013 Denver West Parkway MS:RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov


-- 
Randolph M. Fritz




From Christoph.Begert at sbe.com.au  Tue May  1 19:07:07 2012
From: Christoph.Begert at sbe.com.au (Christoph Begert - SBE Syd)
Date: Wed, 2 May 2012 02:07:07 +0000
Subject: [Radiance-general] rendering with radiance
Message-ID: <5C911B5357F2B24F922EB065208D9D0C429E009D@PTAMEL01.pta.com.au>

Hi

A while ago there was some mentioning that the book Rendering with Radiance will be released as a pdf.

I was just wondering whether this is still planned and if so, approximately when it would be released.

Greetings from Melbourne
Chris


Regards,

Christoph Begert | Senior Associate
Green Star Accredited Professional

Sustainable Built Environments

E     christoph.begert at sbe.com.au<mailto:christoph.bergert at sbe.com.au>
D      + 61 2 8289 5706
T      + 61 2 8289 5720
F      + 61 2 9286 3745
W:   www.sbe.com.au<http://www.sbe.com.au/>
[cid:image001.jpg at 01CB6090.A6457CC0]
Melbourne
Level 2, 525 Flinders St
Melbourne VIC 3000, Australia
+61 3 9923 2345

Sydney
Level 6, 61 Market St
Sydney NSW 2000, Australia
+61 2 8289 5720

Perth Agent
Level 10, 200 St Georges Tce
Perth WA 6000, Australia
+61 8 9321 8760


Thank you for considering the environmental impact of printing emails

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120502/ff395fde/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3464 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120502/ff395fde/attachment.jpg>

From maricanis at gmail.com  Thu May  3 00:53:26 2012
From: maricanis at gmail.com (Marija Velickovic)
Date: Thu, 3 May 2012 09:53:26 +0200
Subject: [Radiance-general] Cross Platform Radiance Installers Now
	Available
In-Reply-To: <jnp53l$m32$1@dough.gmane.org>
References: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
	<jnp53l$m32$1@dough.gmane.org>
Message-ID: <CAAZQWqihTvVBeFSBnE85RQdAGB_kPh6hf4PK6Fa2Ngn1ZmAujA@mail.gmail.com>

Hi Rob,

Very nice to have current Radiance version on Windows.

I've installed binary setup file in Windows and set PATH and RAYPATH
environment variables as suggested on web page.
I have few other Radiance installations in Windows (inside Daysim for
example), so I've experimented with PATH and RAYPATH variable, and put path
to new Radiance installation as first in both variables and I get next
message when I try to run any program:

*The application has failed to start because its side-by-side configuration
is incorrect. Please see the application event log or use the command-line
sxstrace.exe tool for more detail.*

I also tried to remove all paths related to other Radiance installations
from PATH and RAYPATH varialbes, but still getting the same error message.

Any ideas how to solve this?

Thanks in advance,
Marija
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120503/e099fd77/attachment.html>

From pally.sandher at iesve.com  Thu May  3 02:30:44 2012
From: pally.sandher at iesve.com (Pally Sandher)
Date: Thu, 3 May 2012 09:30:44 +0000
Subject: [Radiance-general] Cross Platform Radiance Installers
	Now	Available
In-Reply-To: <CAAZQWqihTvVBeFSBnE85RQdAGB_kPh6hf4PK6Fa2Ngn1ZmAujA@mail.gmail.com>
References: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
	<jnp53l$m32$1@dough.gmane.org>
	<CAAZQWqihTvVBeFSBnE85RQdAGB_kPh6hf4PK6Fa2Ngn1ZmAujA@mail.gmail.com>
Message-ID: <A7E25FADF831E94DBBD5904D7E5848650DF741@GL-EXC-01.iesve.com>

The 4.2.a release appears to contain debug binaries which will only work on a system with Visual Studio 2008 installed (has a dependency on MSVCR90D.DLL which is the debug version of the VC++ 9.0 runtimes). I checked both the zip archive & the NSIS installer. I can't even run them myself as I have VS 2010 not VS 2008.

You'll either need to build from source or wait for a release build to be made available.

[Description: IES]<http://www.iesve.com/>

Palbinder Sandher
Software Platform Engineer

T:

+44 (0) 141 945 8500

F:

+44 (0) 141 945 8501

http://www.iesve.com<http://www.iesve.com/>


**Design, Simulate + Innovate with the <Virtual Environment>**

Integrated Environmental Solutions Limited. Registered in Scotland No. SC151456
Registered Office - Helix Building, West Of Scotland Science Park, Glasgow G20 0SP

Email Disclaimer<http://www.iesve.com/disclaimer.html>



From: Marija Velickovic [mailto:maricanis at gmail.com]
Sent: 03 May 2012 08:58
To: Radiance general discussion
Subject: Re: [Radiance-general] Cross Platform Radiance Installers Now Available

Hi Rob,

Very nice to have current Radiance version on Windows.

I've installed binary setup file in Windows and set PATH and RAYPATH environment variables as suggested on web page.
I have few other Radiance installations in Windows (inside Daysim for example), so I've experimented with PATH and RAYPATH variable, and put path to new Radiance installation as first in both variables and I get next message when I try to run any program:

The application has failed to start because its side-by-side configuration is incorrect. Please see the application event log or use the command-line sxstrace.exe tool for more detail.

I also tried to remove all paths related to other Radiance installations from PATH and RAYPATH varialbes, but still getting the same error message.

Any ideas how to solve this?

Thanks in advance,
Marija


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120503/22c17650/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 2684 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120503/22c17650/attachment-0001.jpg>

From list at oxdrove.co.uk  Thu May  3 06:15:15 2012
From: list at oxdrove.co.uk (James Lee)
Date: Thu, 03 May 2012 13:15:15 GMT
Subject: [Radiance-general] Cross Platform Radiance Installers Now
 Available
In-Reply-To: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
References: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
Message-ID: <20120503.13151500.1336365412@gyor.oxdrove.co.uk>

On 01/05/12, 17:23:43, "Guglielmetti," Robert 
<Robert.Guglielmetti at nrel.gov> wrote regarding [Radiance-general] Cross 
Platform Radiance Installers Now Available:

> NREL has completed a project aimed at making Radiance more accessible to
> building simulationists, regardless of what platform they are using. This
> will benefit users of the OpenStudio SDK and applications, as well as
> anyone interested in using the powerful raytracing software but reluctant
> to learn how to compile code.

> Working with Greg Ward and Kitware, we have modified the Radiance source
> tree to allow us to build Radiance easily for Windows, Mac, and Linux.

...but harder for Solaris.  cmake building fails when making Version.c:

...
[ 62%] Generating /src/rt/Version.c
CMake Error: Error processing file:/src/rt/create_version.cmake
*** Error code 1
The following command caused the error:
cd /work/build/radiance/32/rt && /opt/XXXX/bin/cmake 
-DVERSION_OUT_FILE="/src/rt/Version.c" 
-DVERSION_IN_FILE="/src/rt/VERSION" -DVERSION_GOLD="/src/rt/Version.c" -P 
/src/rt/create_version.cmake
dmake: Fatal error: Command failed for target `/src/rt/Version.c'
Current working directory /work/build/radiance/32
*** Error code 1
The following command caused the error:
dmake -f rt/CMakeFiles/radiance.dir/build.make 
rt/CMakeFiles/radiance.dir/depend
dmake: Fatal error: Command failed for target 
`rt/CMakeFiles/radiance.dir/all'
Current working directory /work/build/radiance/32
*** Error code 1
The following command caused the error:
cd /work/build/radiance/32 && dmake -f CMakeFiles/Makefile2 rt/all
dmake: Fatal error: Command failed for target `all'



It looks like it's lost "radiance_SOURCE_DIR".




James.






From gregoryjward at gmail.com  Thu May  3 08:18:42 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 3 May 2012 08:18:42 -0700
Subject: [Radiance-general] Cross Platform Radiance Installers Now
	Available
In-Reply-To: <20120503.13151500.1336365412@gyor.oxdrove.co.uk>
References: <CBBF0508.FFCA%robert.guglielmetti@nrel.gov>
	<20120503.13151500.1336365412@gyor.oxdrove.co.uk>
Message-ID: <7779311B-332F-4FCE-92D5-0835FE02EAA0@lmi.net>

Let's move this thread to the radiance-dev list.  You should subscribe there if you want to respond to code/compile issues.

All help is appreciated in sorting these issues out.

Thanks!
-Greg

> From: James Lee <list at oxdrove.co.uk>
> Date: May 3, 2012 6:15:15 AM PDT
> 
> On 01/05/12, 17:23:43, "Guglielmetti," Robert 
> <Robert.Guglielmetti at nrel.gov> wrote regarding [Radiance-general] Cross 
> Platform Radiance Installers Now Available:
> 
>> NREL has completed a project aimed at making Radiance more accessible to
>> building simulationists, regardless of what platform they are using. This
>> will benefit users of the OpenStudio SDK and applications, as well as
>> anyone interested in using the powerful raytracing software but reluctant
>> to learn how to compile code.
> 
>> Working with Greg Ward and Kitware, we have modified the Radiance source
>> tree to allow us to build Radiance easily for Windows, Mac, and Linux.
> 
> ...but harder for Solaris.  cmake building fails when making Version.c:
> 
> ...
> [ 62%] Generating /src/rt/Version.c
> CMake Error: Error processing file:/src/rt/create_version.cmake
> *** Error code 1
> The following command caused the error:
> cd /work/build/radiance/32/rt && /opt/XXXX/bin/cmake 
> -DVERSION_OUT_FILE="/src/rt/Version.c" 
> -DVERSION_IN_FILE="/src/rt/VERSION" -DVERSION_GOLD="/src/rt/Version.c" -P 
> /src/rt/create_version.cmake
> dmake: Fatal error: Command failed for target `/src/rt/Version.c'
> Current working directory /work/build/radiance/32
> *** Error code 1
> The following command caused the error:
> dmake -f rt/CMakeFiles/radiance.dir/build.make 
> rt/CMakeFiles/radiance.dir/depend
> dmake: Fatal error: Command failed for target 
> `rt/CMakeFiles/radiance.dir/all'
> Current working directory /work/build/radiance/32
> *** Error code 1
> The following command caused the error:
> cd /work/build/radiance/32 && dmake -f CMakeFiles/Makefile2 rt/all
> dmake: Fatal error: Command failed for target `all'
> 
> 
> 
> It looks like it's lost "radiance_SOURCE_DIR".
> 
> 
> 
> 
> James.


From gregoryjward at gmail.com  Thu May  3 08:26:15 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 3 May 2012 08:26:15 -0700
Subject: [Radiance-general] rendering with radiance
In-Reply-To: <5C911B5357F2B24F922EB065208D9D0C429E009D@PTAMEL01.pta.com.au>
References: <5C911B5357F2B24F922EB065208D9D0C429E009D@PTAMEL01.pta.com.au>
Message-ID: <34AE569C-7D34-454E-B8C1-F89057081675@lmi.net>

Hi Chris,

We've made no decisions or announcements regarding distributing the PDF for "Rendering with Radiance."  Meanwhile, the book is available at near-cost from Randolph Fritz, and he will mail to overseas addresses.

We'll try to figure it out and announce a date at the upcoming workshop this September in Copenhagen.

Cheers,
-Greg

> From: Christoph Begert - SBE Syd <Christoph.Begert at sbe.com.au>
> Date: May 1, 2012 7:07:07 PM PDT
> 
> Hi
>  
> A while ago there was some mentioning that the book Rendering with Radiance will be released as a pdf.
>  
> I was just wondering whether this is still planned and if so, approximately when it would be released.
>  
> Greetings from Melbourne
> Chris
>  
>  
> Regards,
>  
> Christoph Begert | Senior Associate
> Green Star Accredited Professional
>  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120503/c3211802/attachment.html>

From Robert.Guglielmetti at nrel.gov  Thu May  3 08:49:15 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 3 May 2012 09:49:15 -0600
Subject: [Radiance-general] Cross Platform Radiance Installers Now
 Available
In-Reply-To: <A7E25FADF831E94DBBD5904D7E5848650DF741@GL-EXC-01.iesve.com>
Message-ID: <CBC8045C.107DF%robert.guglielmetti@nrel.gov>

Hi Pally and Marija,

Sorry about the debug build. I have created a release Windows package this morning; I just need the website admin to post it and I'll let y'all know when it's up. Following that announcement, we should definitely move all discussion about this project to the dev list.

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov


On 5/3/12 3:30 AM, "Pally Sandher" <pally.sandher at iesve.com<mailto:pally.sandher at iesve.com>> wrote:

The 4.2.a release appears to contain debug binaries which will only work on a system with Visual Studio 2008 installed (has a dependency on MSVCR90D.DLL which is the debug version of the VC++ 9.0 runtimes). I checked both the zip archive & the NSIS installer. I can?t even run them myself as I have VS 2010 not VS 2008.

You?ll either need to build from source or wait for a release build to be made available.

[cid:image001.jpg at 01CD2915.EDB72FF0]<http://www.iesve.com/>

Palbinder Sandher
Software Platform Engineer

T:

+44 (0) 141 945 8500

F:

+44 (0) 141 945 8501

http://www.iesve.com<http://www.iesve.com/>


**Design, Simulate + Innovate with the <Virtual Environment>**

Integrated Environmental Solutions Limited. Registered in Scotland No. SC151456
Registered Office - Helix Building, West Of Scotland Science Park, Glasgow G20 0SP

Email Disclaimer<http://www.iesve.com/disclaimer.html>



From: Marija Velickovic [mailto:maricanis at gmail.com]
Sent: 03 May 2012 08:58
To: Radiance general discussion
Subject: Re: [Radiance-general] Cross Platform Radiance Installers Now Available

Hi Rob,

Very nice to have current Radiance version on Windows.

I've installed binary setup file in Windows and set PATH and RAYPATH environment variables as suggested on web page.
I have few other Radiance installations in Windows (inside Daysim for example), so I've experimented with PATH and RAYPATH variable, and put path to new Radiance installation as first in both variables and I get next message when I try to run any program:

The application has failed to start because its side-by-side configuration is incorrect. Please see the application event log or use the command-line sxstrace.exe tool for more detail.

I also tried to remove all paths related to other Radiance installations from PATH and RAYPATH varialbes, but still getting the same error message.

Any ideas how to solve this?

Thanks in advance,
Marija


-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 2684 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120503/52892c66/attachment.jpg>

From Robert.Guglielmetti at nrel.gov  Thu May  3 10:11:08 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 3 May 2012 11:11:08 -0600
Subject: [Radiance-general] Cross Platform Radiance Installers Now
 Available
In-Reply-To: <CAAZQWqihTvVBeFSBnE85RQdAGB_kPh6hf4PK6Fa2Ngn1ZmAujA@mail.gmail.com>
Message-ID: <CBC81798.10814%robert.guglielmetti@nrel.gov>

OK, an updated Windows installer with release binaries is now available on the site. Sorry for the goof.

We appreciate all the help with testing and reporting issues! Form here on out, let's move discussion of issues with these NREL offerings or CMake build issues to the ?dev list.

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov


On 5/3/12 1:53 AM, "Marija Velickovic" <maricanis at gmail.com<mailto:maricanis at gmail.com>> wrote:

Hi Rob,

Very nice to have current Radiance version on Windows.

I've installed binary setup file in Windows and set PATH and RAYPATH environment variables as suggested on web page.
I have few other Radiance installations in Windows (inside Daysim for example), so I've experimented with PATH and RAYPATH variable, and put path to new Radiance installation as first in both variables and I get next message when I try to run any program:

The application has failed to start because its side-by-side configuration is incorrect. Please see the application event log or use the command-line sxstrace.exe tool for more detail.

I also tried to remove all paths related to other Radiance installations from PATH and RAYPATH varialbes, but still getting the same error message.

Any ideas how to solve this?

Thanks in advance,
Marija





From Jdrouet at lightswitch.net  Thu May  3 10:11:56 2012
From: Jdrouet at lightswitch.net (Janelle Drouet)
Date: Thu, 03 May 2012 10:11:56 -0700
Subject: [Radiance-general] Radiance-general Digest, Vol 99, Issue 4
In-Reply-To: <mailman.48.1336065078.2089.radiance-general@radiance-online.org>
Message-ID: <CBC80A6C.BD4F%Jdrouet@lightswitch.net>

I am out of the office traveling with limited internet access, and no phone
access, from Thursday May 3rd and Friday May 4th.

If you need immediate assistance, please contact Lu Huang 415.332.7284 x208.

I will return time sensative emails within a 24 hour peroid.

Thank you for your patience,
Janelle




From Jdrouet at lightswitch.net  Thu May  3 12:01:57 2012
From: Jdrouet at lightswitch.net (Janelle Drouet)
Date: Thu, 03 May 2012 12:01:57 -0700
Subject: [Radiance-general] Radiance-general Digest, Vol 99, Issue 5
In-Reply-To: <mailman.3.1336071600.18946.radiance-general@radiance-online.org>
Message-ID: <CBC82435.BD69%Jdrouet@lightswitch.net>

I am out of the office traveling with limited internet access, and no phone
access, from Thursday May 3rd and Friday May 4th.

If you need immediate assistance, please contact Lu Huang 415.332.7284 x208.

I will return time sensative emails within a 24 hour peroid.

Thank you for your patience,
Janelle




From grobe at gmx.net  Fri May  4 07:30:47 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri, 4 May 2012 16:30:47 +0200
Subject: [Radiance-general] accessing environment variables from within
	cal-files
Message-ID: <BDB1027B-6F83-4264-A8D7-CE852719E36C@gmx.net>

Hi all,

is there a way to access environment variables from within a cal-file? I would like to use a brightfunc with a cal-file that returns a value depending on an environment variable set by a script. I want the evaluation based on that variable to happen at render time, so I cannot use sed to modify my files directly. I tried to use command expansion (third line of my brightdata as ! echo "1 $ALPHA"), but that does not work. I could generate the whole modifier definition by an echo command (!echo "void brightdata myBDModifier ? 1 $ALPHA), but that would become an ugly scene file?

Cheers, Lars.

From Jdrouet at lightswitch.net  Fri May  4 12:01:58 2012
From: Jdrouet at lightswitch.net (Janelle Drouet)
Date: Fri, 04 May 2012 12:01:58 -0700
Subject: [Radiance-general] Radiance-general Digest, Vol 99, Issue 6
In-Reply-To: <mailman.3.1336158000.85595.radiance-general@radiance-online.org>
Message-ID: <CBC975B6.BDCD%Jdrouet@lightswitch.net>

I am out of the office traveling with limited internet access, and no phone
access, from Thursday May 3rd and Friday May 4th.

If you need immediate assistance, please contact Lu Huang 415.332.7284 x208.

I will return time sensative emails within a 24 hour peroid.

Thank you for your patience,
Janelle




From smoret at ucdavis.edu  Fri May  4 12:36:22 2012
From: smoret at ucdavis.edu (Stefano Moret)
Date: Fri, 4 May 2012 19:36:22 +0000
Subject: [Radiance-general] Radiance and BCVTB
Message-ID: <04B072E0E3317A4486513BB18D6579C00727D257@exmbx10.ex.ad3.ucdavis.edu>

Dear all,

I'm playing around with BCVTB (http://simulationresearch.lbl.gov/bcvtb) to couple some different simulating programs and run them in parallel.
I'm finding some difficulties in integrating Radiance though, due to some errors I get in output, probably due to configurations or environment variables.

It seems to me a very powerful tool for simulations, and therefore I was wondering if any of you had ever used it before and might help out with some basic troubleshooting.

Cheers,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ad3.ucdavis.edu>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120504/b6d80fa0/attachment.html>

From gregoryjward at gmail.com  Mon May  7 14:09:15 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 7 May 2012 14:09:15 -0700
Subject: [Radiance-general] accessing environment variables from within
	cal-files
In-Reply-To: <BDB1027B-6F83-4264-A8D7-CE852719E36C@gmx.net>
References: <BDB1027B-6F83-4264-A8D7-CE852719E36C@gmx.net>
Message-ID: <F8393C8B-3ED2-4B7F-B7D7-49760FBEDED6@lmi.net>

Hi Lars,

I'd go with your "ugly" solution.  It's not so bad in the scheme of things -- I've used echo myself more than once in a scene file....

Cheers,
-Greg

> From: "Lars O. Grobe" <grobe at gmx.net>
> Date: May 4, 2012 7:30:47 AM PDT
> 
> Hi all,
> 
> is there a way to access environment variables from within a cal-file? I would like to use a brightfunc with a cal-file that returns a value depending on an environment variable set by a script. I want the evaluation based on that variable to happen at render time, so I cannot use sed to modify my files directly. I tried to use command expansion (third line of my brightdata as ! echo "1 $ALPHA"), but that does not work. I could generate the whole modifier definition by an echo command (!echo "void brightdata myBDModifier ? 1 $ALPHA), but that would become an ugly scene file?
> 
> Cheers, Lars.


From gbetti at fosterandpartners.com  Tue May  8 04:42:03 2012
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Tue, 8 May 2012 12:42:03 +0100
Subject: [Radiance-general] integral of radiation in one point
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK>

Dear list,

 

I have question that I hope you'll help get my head around.

I want to calculate the overall illuminance on a point in space that is,
regardless of directionality. 

I have made some simplified 2d sketches for clarity.

As I understand a radiance sensor point in rtrace will have cosine
related sensitivity (image01)

If I am to place two coincident with opposing normals (image2) I'll miss
on contributions from the sides.

Rotating the normals by 90 degrees at a time (figure 3) and summing
contributions might not work either because will overestimate diagonal
contributions (figure 4 ).

So I'm not getting too much closer to the solution...

 

Is there something that I am missing here?

Any light on this will be appreciated,

 

Best,

Giovanni Betti

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120508/71db8f7d/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sensors.png
Type: image/png
Size: 7999 bytes
Desc: sensors.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120508/71db8f7d/attachment.png>

From m.moeck at osram.com  Tue May  8 04:51:58 2012
From: m.moeck at osram.com (Moeck, Dr. Martin)
Date: Tue, 8 May 2012 13:51:58 +0200
Subject: [Radiance-general] integral of radiation in one point -
	spherical illuminance
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <F26DB3928A041843B352BA7F4307A46141B555CDA5@EXC-MCHVS12.mch.osram.de>

Hi Giovanni,

that is called spherical illuminance. As an approximation, you could calculate 6 illuminance values (up, down, East, West, North, South) and average them. Christopher Cuttle wrote a few papers on spherical illuminance.

Regards

Martin Moeck
OSRAM



________________________________
From: Giovanni Betti [mailto:gbetti at fosterandpartners.com]
Sent: Tuesday, May 08, 2012 1:42 PM
To: Radiance general discussion
Subject: [Radiance-general] integral of radiation in one point

Dear list,

I have question that I hope you'll help get my head around.
I want to calculate the overall illuminance on a point in space that is, regardless of directionality.
I have made some simplified 2d sketches for clarity.
As I understand a radiance sensor point in rtrace will have cosine related sensitivity (image01)
If I am to place two coincident with opposing normals (image2) I'll miss on contributions from the sides.
Rotating the normals by 90 degrees at a time (figure 3) and summing contributions might not work either because will overestimate diagonal contributions (figure 4 ).
So I'm not getting too much closer to the solution...

Is there something that I am missing here?
Any light on this will be appreciated,

Best,
Giovanni Betti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120508/1267d76f/attachment-0001.html>

From minki.sung at gmail.com  Tue May  8 05:22:50 2012
From: minki.sung at gmail.com (Minki Sung)
Date: Tue, 8 May 2012 21:22:50 +0900
Subject: [Radiance-general] integral of radiation in one point
Message-ID: <CANi9k9Q9HS5_e+Dq4V+xn+oz26A_GfodKgjau626u4NU6sMi0A@mail.gmail.com>

Hi Betti,

I think you can refer to Greg's answer to my question "Spherical sensor."
in Vol 94, Issue 11.
Good luck!

Minki


Date: Tue, 8 May 2012 12:42:03 +0100
From: "Giovanni Betti" <gbetti at fosterandpartners.com>
To: "Radiance general discussion"
       <radiance-general at radiance-online.org>
Subject: [Radiance-general] integral of radiation in one point
Message-ID:
       <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D at corp3005.CORPORATE.
FOSTER.NETWORK>

Content-Type: text/plain; charset="us-ascii"

Dear list,



I have question that I hope you'll help get my head around.

I want to calculate the overall illuminance on a point in space that is,
regardless of directionality.

I have made some simplified 2d sketches for clarity.

As I understand a radiance sensor point in rtrace will have cosine
related sensitivity (image01)

If I am to place two coincident with opposing normals (image2) I'll miss
on contributions from the sides.

Rotating the normals by 90 degrees at a time (figure 3) and summing
contributions might not work either because will overestimate diagonal
contributions (figure 4 ).

So I'm not getting too much closer to the solution...



Is there something that I am missing here?

Any light on this will be appreciated,



Best,

Giovanni Betti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120508/33eccb32/attachment.html>

From gbetti at fosterandpartners.com  Tue May  8 06:16:33 2012
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Tue, 8 May 2012 14:16:33 +0100
Subject: [Radiance-general] integral of radiation in one point
	-spherical illuminance
In-Reply-To: <F26DB3928A041843B352BA7F4307A46141B555CDA5@EXC-MCHVS12.mch.osram.de>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK>
	<F26DB3928A041843B352BA7F4307A46141B555CDA5@EXC-MCHVS12.mch.osram.de>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C308CFCE96@corp3005.CORPORATE.FOSTER.NETWORK>

Dear Martin, Minki,

 

Thanks for the replies, I guess what I was trying to calculate (and to
whom dr. Martin refers to) is better called cubical illuminance; the
script Greg shared with Minki (thanks as always, Greg!) allows to sample
a full sphere in one go.

 

I think I have my ideas a lot clearer now, I'll just need to implement
either one of the approaches.

 

Thanks,

 

Giovanni

 

 

 

From: Moeck, Dr. Martin [mailto:m.moeck at osram.com] 
Sent: 08 May 2012 12:52
To: 'Radiance general discussion'
Subject: Re: [Radiance-general] integral of radiation in one point
-spherical illuminance

 

Hi Giovanni,

 

that is called spherical illuminance. As an approximation, you could
calculate 6 illuminance values (up, down, East, West, North, South) and
average them. Christopher Cuttle wrote a few papers on spherical
illuminance. 

 

Regards

 

Martin Moeck

OSRAM

 

 

 

________________________________

From: Giovanni Betti [mailto:gbetti at fosterandpartners.com] 
Sent: Tuesday, May 08, 2012 1:42 PM
To: Radiance general discussion
Subject: [Radiance-general] integral of radiation in one point

 

Dear list,

 

I have question that I hope you'll help get my head around.

I want to calculate the overall illuminance on a point in space that is,
regardless of directionality. 

I have made some simplified 2d sketches for clarity.

As I understand a radiance sensor point in rtrace will have cosine
related sensitivity (image01)

If I am to place two coincident with opposing normals (image2) I'll miss
on contributions from the sides.

Rotating the normals by 90 degrees at a time (figure 3) and summing
contributions might not work either because will overestimate diagonal
contributions (figure 4 ).

So I'm not getting too much closer to the solution...

 

Is there something that I am missing here?

Any light on this will be appreciated,

 

Best,

Giovanni Betti

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120508/239877b5/attachment.html>

From antonutto at yahoo.it  Wed May  9 00:55:27 2012
From: antonutto at yahoo.it (giulio antonutto)
Date: Wed, 9 May 2012 08:55:27 +0100
Subject: [Radiance-general] integral of radiation in one point
	-spherical illuminance
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C308CFCE96@corp3005.CORPORATE.FOSTER.NETWORK>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK>
	<F26DB3928A041843B352BA7F4307A46141B555CDA5@EXC-MCHVS12.mch.osram.de>
	<6F5225D6E15F954BB4E58EC25F6736C308CFCE96@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <03A34276-0F18-4CF4-8BE6-30D0B11F9BB3@yahoo.it>

Giovanni,

I think there is another way, which requires some more fiddling, but that can give you a lot more flexibility.
Especially with visualisations.
I would start by taking n. 6 x  90? wide angular images of luminance from the observer position.
You could use vwrays to work with rtrace.
Then derive the illuminance at the view point, as you know the solid angle of each pixel / direction and the luminance of it.
See the IESNA book for details. You could write a little script with rcalc, python or octave.
I guess Andy or Greg would do all in one line with sed / awk :-)
 
Once done you could have polar maps of your illuminance component, directionality of lighting in the space, etc etc.

To start playing with the idea you could do as Mark is suggesting, 6 illuminance values are  good as you could easily plot the vector illumiannce to visualise the directionality of lighting.
This is an useful metrics for museums.

Either way, have fun!
G


On 8 May 2012, at 14:16, Giovanni Betti wrote:

> Dear Martin, Minki,
>  
> Thanks for the replies, I guess what I was trying to calculate (and to whom dr. Martin refers to) is better called cubical illuminance; the script Greg shared with Minki (thanks as always, Greg!) allows to sample a full sphere in one go.
>  
> I think I have my ideas a lot clearer now, I?ll just need to implement either one of the approaches.
>  
> Thanks,
>  
> Giovanni
>  
>  
>  
> From: Moeck, Dr. Martin [mailto:m.moeck at osram.com] 
> Sent: 08 May 2012 12:52
> To: 'Radiance general discussion'
> Subject: Re: [Radiance-general] integral of radiation in one point -spherical illuminance
>  
> Hi Giovanni,
>  
> that is called spherical illuminance. As an approximation, you could calculate 6 illuminance values (up, down, East, West, North, South) and average them. Christopher Cuttle wrote a few papers on spherical illuminance.
>  
> Regards
>  
> Martin Moeck
> OSRAM
>  
>  
>  
> From: Giovanni Betti [mailto:gbetti at fosterandpartners.com] 
> Sent: Tuesday, May 08, 2012 1:42 PM
> To: Radiance general discussion
> Subject: [Radiance-general] integral of radiation in one point
>  
> Dear list,
>  
> I have question that I hope you?ll help get my head around.
> I want to calculate the overall illuminance on a point in space that is, regardless of directionality.
> I have made some simplified 2d sketches for clarity.
> As I understand a radiance sensor point in rtrace will have cosine related sensitivity (image01)
> If I am to place two coincident with opposing normals (image2) I?ll miss on contributions from the sides.
> Rotating the normals by 90 degrees at a time (figure 3) and summing contributions might not work either because will overestimate diagonal contributions (figure 4 ).
> So I?m not getting too much closer to the solution?
>  
> Is there something that I am missing here?
> Any light on this will be appreciated,
>  
> Best,
> Giovanni Betti
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120509/be24f161/attachment.html>

From gbetti at fosterandpartners.com  Wed May  9 01:57:38 2012
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Wed, 9 May 2012 09:57:38 +0100
Subject: [Radiance-general] integral of radiation in one point-spherical
	illuminance
In-Reply-To: <03A34276-0F18-4CF4-8BE6-30D0B11F9BB3@yahoo.it>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK><F26DB3928A041843B352BA7F4307A46141B555CDA5@EXC-MCHVS12.mch.osram.de><6F5225D6E15F954BB4E58EC25F6736C308CFCE96@corp3005.CORPORATE.FOSTER.NETWORK>
	<03A34276-0F18-4CF4-8BE6-30D0B11F9BB3@yahoo.it>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C308CFCF1D@corp3005.CORPORATE.FOSTER.NETWORK>

Thanks Giulio,

 

It's an interesting thought; I am interested in values rather than images though. 

The spherical sensor approach seems the best for what I am trying to achieve, so I'll see if I manage to implement that, otherwise the composite cubical sensor is the short and dirty road...

 

My initial confusion was because I initially thought that 6 right angle sensors would have given me a perfectly spherical sampling of the space, now I understand that's not the case and how to go about this.

 

Thanks everybody for the ideas and guidance,

 

Best,

 

G

 

 

From: giulio antonutto [mailto:antonutto at yahoo.it] 
Sent: 09 May 2012 08:55
To: Radiance general discussion
Subject: Re: [Radiance-general] integral of radiation in one point-spherical illuminance

 

Giovanni,

 

I think there is another way, which requires some more fiddling, but that can give you a lot more flexibility.

Especially with visualisations.

I would start by taking n. 6 x  90? wide angular images of luminance from the observer position.

You could use vwrays to work with rtrace.

Then derive the illuminance at the view point, as you know the solid angle of each pixel / direction and the luminance of it.

See the IESNA book for details. You could write a little script with rcalc, python or octave.

I guess Andy or Greg would do all in one line with sed / awk :-)

 

Once done you could have polar maps of your illuminance component, directionality of lighting in the space, etc etc.

 

To start playing with the idea you could do as Mark is suggesting, 6 illuminance values are  good as you could easily plot the vector illumiannce to visualise the directionality of lighting.

This is an useful metrics for museums.

 

Either way, have fun!

G

 

 

On 8 May 2012, at 14:16, Giovanni Betti wrote:





Dear Martin, Minki,

 

Thanks for the replies, I guess what I was trying to calculate (and to whom dr. Martin refers to) is better called cubical illuminance; the script Greg shared with Minki (thanks as always, Greg!) allows to sample a full sphere in one go.

 

I think I have my ideas a lot clearer now, I'll just need to implement either one of the approaches.

 

Thanks,

 

Giovanni

 

 

 

From: Moeck, Dr. Martin [mailto:m.moeck at osram.com] 
Sent: 08 May 2012 12:52
To: 'Radiance general discussion'
Subject: Re: [Radiance-general] integral of radiation in one point -spherical illuminance

 

Hi Giovanni,

 

that is called spherical illuminance. As an approximation, you could calculate 6 illuminance values (up, down, East, West, North, South) and average them. Christopher Cuttle wrote a few papers on spherical illuminance.

 

Regards

 

Martin Moeck

OSRAM

 

 

 

________________________________

From: Giovanni Betti [mailto:gbetti at fosterandpartners.com] 
Sent: Tuesday, May 08, 2012 1:42 PM
To: Radiance general discussion
Subject: [Radiance-general] integral of radiation in one point

 

Dear list,

 

I have question that I hope you'll help get my head around.

I want to calculate the overall illuminance on a point in space that is, regardless of directionality.

I have made some simplified 2d sketches for clarity.

As I understand a radiance sensor point in rtrace will have cosine related sensitivity (image01)

If I am to place two coincident with opposing normals (image2) I'll miss on contributions from the sides.

Rotating the normals by 90 degrees at a time (figure 3) and summing contributions might not work either because will overestimate diagonal contributions (figure 4 ).

So I'm not getting too much closer to the solution...

 

Is there something that I am missing here?

Any light on this will be appreciated,

 

Best,

Giovanni Betti

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120509/d44d9e50/attachment-0001.html>

From david.moroder at gmail.com  Wed May  9 02:23:17 2012
From: david.moroder at gmail.com (David Geisler-Moroder)
Date: Wed, 9 May 2012 11:23:17 +0200
Subject: [Radiance-general] integral of radiation in one point
	-spherical illuminance
In-Reply-To: <03A34276-0F18-4CF4-8BE6-30D0B11F9BB3@yahoo.it>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK>
	<F26DB3928A041843B352BA7F4307A46141B555CDA5@EXC-MCHVS12.mch.osram.de>
	<6F5225D6E15F954BB4E58EC25F6736C308CFCE96@corp3005.CORPORATE.FOSTER.NETWORK>
	<03A34276-0F18-4CF4-8BE6-30D0B11F9BB3@yahoo.it>
Message-ID: <CAL-bo5EbXVcHMRAutUQc9VUYCuFkZAsiuD4r_zU2fdLKnK0o_Q@mail.gmail.com>

Hi Giovanni,

did you try using rsensor?
Using a simple sensor file with all sensor values equal to 1 such as
*
degrees 0 90 180 270
0       1  1   1   1
120     1  1   1   1
*
should do the work.

Best,
David



2012/5/9 giulio antonutto <antonutto at yahoo.it>

> Giovanni,
>
> I think there is another way, which requires some more fiddling, but that
> can give you a lot more flexibility.
> Especially with visualisations.
> I would start by taking n. 6 x  90? wide angular images of luminance from
> the observer position.
> You could use vwrays to work with rtrace.
> Then derive the illuminance at the view point, as you know the solid angle
> of each pixel / direction and the luminance of it.
> See the IESNA book for details. You could write a little script with
> rcalc, python or octave.
> I guess Andy or Greg would do all in one line with sed / awk :-)
>
> Once done you could have polar maps of your illuminance component,
> directionality of lighting in the space, etc etc.
>
> To start playing with the idea you could do as Mark is suggesting, 6
> illuminance values are  good as you could easily plot the vector
> illumiannce to visualise the directionality of lighting.
> This is an useful metrics for museums.
>
> Either way, have fun!
> G
>
>
> On 8 May 2012, at 14:16, Giovanni Betti wrote:
>
>  Dear Martin, Minki,****
> ** **
> Thanks for the replies, I guess what I was trying to calculate (and to
> whom dr. Martin refers to) is better called cubical illuminance; the script
> Greg shared with Minki (thanks as always, Greg!) allows to sample a full
> sphere in one go.****
> ** **
> I think I have my ideas a lot clearer now, I?ll just need to implement
> either one of the approaches.****
> ** **
> Thanks,****
> ** **
> Giovanni****
> ** **
> ** **
>  * *
> *From:* Moeck, Dr. Martin [mailto:m.moeck at osram.com]
> *Sent:* 08 May 2012 12:52
> *To:* 'Radiance general discussion'
> *Subject:* Re: [Radiance-general] integral of radiation in one point
> -spherical illuminance****
> ** **
> Hi Giovanni,****
>  ****
> that is called spherical illuminance. As an approximation, you could
> calculate 6 illuminance values (up, down, East, West, North, South) and
> average them. Christopher Cuttle wrote a few papers on spherical
> illuminance.****
>  ****
> Regards****
>  ****
> Martin Moeck****
> OSRAM****
>  ****
>  ****
>  ****
> ------------------------------
> *From:* Giovanni Betti [mailto:gbetti at fosterandpartners.com<gbetti at fosterandpartners.com>
> ]
> *Sent:* Tuesday, May 08, 2012 1:42 PM
> *To:* Radiance general discussion
> *Subject:* [Radiance-general] integral of radiation in one point****
>  ****
> Dear list,****
>  ****
> I have question that I hope you?ll help get my head around.****
> I want to calculate the overall illuminance on a point in space that is,
> regardless of directionality.****
> I have made some simplified 2d sketches for clarity.****
> As I understand a radiance sensor point in rtrace will have cosine related
> sensitivity (image01)****
> If I am to place two coincident with opposing normals (image2) I?ll miss
> on contributions from the sides.****
> Rotating the normals by 90 degrees at a time (figure 3) and summing
> contributions might not work either because will overestimate diagonal
> contributions (figure 4 ).****
> So I?m not getting too much closer to the solution?****
>  ****
> Is there something that I am missing here?****
> Any light on this will be appreciated,****
>  ****
> Best,****
> Giovanni Betti****
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120509/105bbbe9/attachment.html>

From gregoryjward at gmail.com  Wed May  9 08:58:30 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 9 May 2012 08:58:30 -0700
Subject: [Radiance-general] integral of radiation in one point
	-spherical illuminance
In-Reply-To: <CAL-bo5EbXVcHMRAutUQc9VUYCuFkZAsiuD4r_zU2fdLKnK0o_Q@mail.gmail.com>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK>
	<F26DB3928A041843B352BA7F4307A46141B555CDA5@EXC-MCHVS12.mch.osram.de>
	<6F5225D6E15F954BB4E58EC25F6736C308CFCE96@corp3005.CORPORATE.FOSTER.NETWORK>
	<03A34276-0F18-4CF4-8BE6-30D0B11F9BB3@yahoo.it>
	<CAL-bo5EbXVcHMRAutUQc9VUYCuFkZAsiuD4r_zU2fdLKnK0o_Q@mail.gmail.com>
Message-ID: <98D8010A-C6A0-46F0-BDF9-B09CA8F295BC@lmi.net>

That's a really smart suggestion, David.  This didn't even occur to me, and it avoids the issue with source sampling Lars referred to earlier (April 20 post).  Guilio's idea would also work, although it might take longer to achieve similar accuracy.

Cheers,
-Greg

> From: David Geisler-Moroder <david.moroder at gmail.com>
> Date: May 9, 2012 2:23:17 AM PDT
> 
> Hi Giovanni,
> 
> did you try using rsensor?
> Using a simple sensor file with all sensor values equal to 1 such as
> 
> degrees 0 90 180 270
> 0       1  1   1   1
> 120     1  1   1   1
> 
> should do the work.
> 
> Best,
> David
> 
>  
> 
> 2012/5/9 giulio antonutto <antonutto at yahoo.it>
> Giovanni,
> 
> I think there is another way, which requires some more fiddling, but that can give you a lot more flexibility.
> Especially with visualisations.
> I would start by taking n. 6 x  90? wide angular images of luminance from the observer position.
> You could use vwrays to work with rtrace.
> Then derive the illuminance at the view point, as you know the solid angle of each pixel / direction and the luminance of it.
> See the IESNA book for details. You could write a little script with rcalc, python or octave.
> I guess Andy or Greg would do all in one line with sed / awk :-)
>  
> Once done you could have polar maps of your illuminance component, directionality of lighting in the space, etc etc.
> 
> To start playing with the idea you could do as Mark is suggesting, 6 illuminance values are  good as you could easily plot the vector illumiannce to visualise the directionality of lighting.
> This is an useful metrics for museums.
> 
> Either way, have fun!
> G
> 
> 
> On 8 May 2012, at 14:16, Giovanni Betti wrote:
> 
>> Dear Martin, Minki,
>>  
>> Thanks for the replies, I guess what I was trying to calculate (and to whom dr. Martin refers to) is better called cubical illuminance; the script Greg shared with Minki (thanks as always, Greg!) allows to sample a full sphere in one go.
>>  
>> I think I have my ideas a lot clearer now, I?ll just need to implement either one of the approaches.
>>  
>> Thanks,
>>  
>> Giovanni
>>  
>>  
>>  
>> From: Moeck, Dr. Martin [mailto:m.moeck at osram.com] 
>> Sent: 08 May 2012 12:52
>> To: 'Radiance general discussion'
>> Subject: Re: [Radiance-general] integral of radiation in one point -spherical illuminance
>>  
>> Hi Giovanni,
>>  
>> that is called spherical illuminance. As an approximation, you could calculate 6 illuminance values (up, down, East, West, North, South) and average them. Christopher Cuttle wrote a few papers on spherical illuminance.
>>  
>> Regards
>>  
>> Martin Moeck
>> OSRAM
>>  
>>  
>>  
>> From: Giovanni Betti [mailto:gbetti at fosterandpartners.com] 
>> Sent: Tuesday, May 08, 2012 1:42 PM
>> To: Radiance general discussion
>> Subject: [Radiance-general] integral of radiation in one point
>>  
>> Dear list,
>>  
>> I have question that I hope you?ll help get my head around.
>> I want to calculate the overall illuminance on a point in space that is, regardless of directionality.
>> I have made some simplified 2d sketches for clarity.
>> As I understand a radiance sensor point in rtrace will have cosine related sensitivity (image01)
>> If I am to place two coincident with opposing normals (image2) I?ll miss on contributions from the sides.
>> Rotating the normals by 90 degrees at a time (figure 3) and summing contributions might not work either because will overestimate diagonal contributions (figure 4 ).
>> So I?m not getting too much closer to the solution?
>>  
>> Is there something that I am missing here?
>> Any light on this will be appreciated,
>>  
>> Best,
>> Giovanni Betti
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120509/467327d3/attachment-0001.html>

From antonutto at yahoo.it  Wed May  9 13:32:03 2012
From: antonutto at yahoo.it (giulio antonutto)
Date: Wed, 9 May 2012 21:32:03 +0100
Subject: [Radiance-general] integral of radiation in one point-spherical
	illuminance
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C308CFCF1D@corp3005.CORPORATE.FOSTER.NETWORK>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFCE7D@corp3005.CORPORATE.FOSTER.NETWORK><F26DB3928A041843B352BA7F4307A46141B555CDA5@EXC-MCHVS12.mch.osram.de><6F5225D6E15F954BB4E58EC25F6736C308CFCE96@corp3005.CORPORATE.FOSTER.NETWORK>
	<03A34276-0F18-4CF4-8BE6-30D0B11F9BB3@yahoo.it>
	<6F5225D6E15F954BB4E58EC25F6736C308CFCF1D@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <0826FD2A-FD45-41C5-AC63-513525FEF640@yahoo.it>

Just a quick note about the images, with vwrays you can get directions and origin of picture vectors so you can use a view file and create a grid.
And then, as usual, with rtrace and a grid you can get values.
The power of using vwrays it is that it would allow you to sample the space around in all directions so to have a spherical projection of the illuminance contribution to your position.
Imagine now plotting all the values on a spherical surface and scaling the mesh according to the values.
You would get some weird looking solid which embeds directionality of light. A light signature of a space/point couple.
But there is a lot to fiddle around for probably just a cool visualisation.
Ah those were the times?.
If I just had the time now :-)
G


On 9 May 2012, at 09:57, Giovanni Betti wrote:

> Thanks Giulio,
>  
> It?s an interesting thought; I am interested in values rather than images though.
> The spherical sensor approach seems the best for what I am trying to achieve, so I?ll see if I manage to implement that, otherwise the composite cubical sensor is the short and dirty road?
>  
> My initial confusion was because I initially thought that 6 right angle sensors would have given me a perfectly spherical sampling of the space, now I understand that?s not the case and how to go about this.
>  
> Thanks everybody for the ideas and guidance,
>  
> Best,
>  
> G
>  
>  
> From: giulio antonutto [mailto:antonutto at yahoo.it] 
> Sent: 09 May 2012 08:55
> To: Radiance general discussion
> Subject: Re: [Radiance-general] integral of radiation in one point-spherical illuminance
>  
> Giovanni,
>  
> I think there is another way, which requires some more fiddling, but that can give you a lot more flexibility.
> Especially with visualisations.
> I would start by taking n. 6 x  90? wide angular images of luminance from the observer position.
> You could use vwrays to work with rtrace.
> Then derive the illuminance at the view point, as you know the solid angle of each pixel / direction and the luminance of it.
> See the IESNA book for details. You could write a little script with rcalc, python or octave.
> I guess Andy or Greg would do all in one line with sed / awk :-)
>  
> Once done you could have polar maps of your illuminance component, directionality of lighting in the space, etc etc.
>  
> To start playing with the idea you could do as Mark is suggesting, 6 illuminance values are  good as you could easily plot the vector illumiannce to visualise the directionality of lighting.
> This is an useful metrics for museums.
>  
> Either way, have fun!
> G
>  
>  
> On 8 May 2012, at 14:16, Giovanni Betti wrote:
> 
> 
> Dear Martin, Minki,
>  
> Thanks for the replies, I guess what I was trying to calculate (and to whom dr. Martin refers to) is better called cubical illuminance; the script Greg shared with Minki (thanks as always, Greg!) allows to sample a full sphere in one go.
>  
> I think I have my ideas a lot clearer now, I?ll just need to implement either one of the approaches.
>  
> Thanks,
>  
> Giovanni
>  
>  
>  
> From: Moeck, Dr. Martin [mailto:m.moeck at osram.com] 
> Sent: 08 May 2012 12:52
> To: 'Radiance general discussion'
> Subject: Re: [Radiance-general] integral of radiation in one point -spherical illuminance
>  
> Hi Giovanni,
>  
> that is called spherical illuminance. As an approximation, you could calculate 6 illuminance values (up, down, East, West, North, South) and average them. Christopher Cuttle wrote a few papers on spherical illuminance.
>  
> Regards
>  
> Martin Moeck
> OSRAM
>  
>  
>  
> From: Giovanni Betti [mailto:gbetti at fosterandpartners.com] 
> Sent: Tuesday, May 08, 2012 1:42 PM
> To: Radiance general discussion
> Subject: [Radiance-general] integral of radiation in one point
>  
> Dear list,
>  
> I have question that I hope you?ll help get my head around.
> I want to calculate the overall illuminance on a point in space that is, regardless of directionality.
> I have made some simplified 2d sketches for clarity.
> As I understand a radiance sensor point in rtrace will have cosine related sensitivity (image01)
> If I am to place two coincident with opposing normals (image2) I?ll miss on contributions from the sides.
> Rotating the normals by 90 degrees at a time (figure 3) and summing contributions might not work either because will overestimate diagonal contributions (figure 4 ).
> So I?m not getting too much closer to the solution?
>  
> Is there something that I am missing here?
> Any light on this will be appreciated,
>  
> Best,
> Giovanni Betti
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120509/bbeab790/attachment-0001.html>

From smoret at ucdavis.edu  Mon May 14 17:47:04 2012
From: smoret at ucdavis.edu (Stefano Moret)
Date: Tue, 15 May 2012 00:47:04 +0000
Subject: [Radiance-general] rvu exposure setting
Message-ID: <04B072E0E3317A4486513BB18D6579C00728D83D@exmbx10.ex.ad3.ucdavis.edu>

Hi,

I've a basic question which I haven't really succeeded to get answer to from the different tutorials. When I visualize an octree with rvu I usually set -av and -ab as first parameters.
As far as I understand, the "ambient value" should set the brightness of the scene, but I don't see any change by setting it to different values, and to get a nice image I usually use the -pe option to set the exposure.
Could you please enlighten me on the usage of "ambient vale" option to get a good exposure in my images?

Thanks,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ad3.ucdavis.edu>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120515/ecc9ca76/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon May 14 18:47:44 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 14 May 2012 19:47:44 -0600
Subject: [Radiance-general] rvu exposure setting
In-Reply-To: <04B072E0E3317A4486513BB18D6579C00728D83D@exmbx10.ex.ad3.ucdavis.edu>
References: <04B072E0E3317A4486513BB18D6579C00728D83D@exmbx10.ex.ad3.ucdavis.edu>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA32233EE1AB44@MAILBOX2.nrel.gov>

Hi Stefano,

The ambient value is used as a proxy estimate for the interreflected light, to be used for pixels when the other ambient investigation methods have been exhausted (ab, as, ad, lw, etc). It's a "value of last resort", if you will. So in one sense, if you drive the simulation with aggressive ambient parameters, the av setting becomes fairly irrelevant because a "good" av will be derived deterministically. Of course in keeping with the "there's no such thing as a free lunch" theme, cranking up the other ambient parameters results in long simulation times. There are some rules of thumb regarding "good" av settings for indoor and outdoor scenes that you can start with (consultation of the "rad" manual page will reveal these), but for a good image or numeric result you should be asking Radiance to do some raytracing to tease these values out for all the little corners of your space. 

As far as using rvu for a testbed, this is an excellent way to interactively see the effects of the various parameters on appearance and render time. If you change a setting though, you need to redraw the image with the "new" command, or by clicking "redraw" on the new Qt-based rvu that comes with the NREL installers, to see the effect. Speaking of the NREL Radiance installers, we are posting updated packages tomorrow that address the missing .cal files issue that is present in the current installers. 

- Rob
 
________________________________________
From: Stefano Moret [smoret at ucdavis.edu]
Sent: Monday, May 14, 2012 6:47 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] rvu exposure setting

Hi,

I?ve a basic question which I haven?t really succeeded to get answer to from the different tutorials. When I visualize an octree with rvu I usually set ?av and ?ab as first parameters.
As far as I understand, the ?ambient value? should set the brightness of the scene, but I don?t see any change by setting it to different values, and to get a nice image I usually use the ?pe option to set the exposure.
Could you please enlighten me on the usage of ?ambient vale? option to get a good exposure in my images?

Thanks,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ad3.ucdavis.edu>



From smoret at ucdavis.edu  Tue May 15 12:49:32 2012
From: smoret at ucdavis.edu (Stefano Moret)
Date: Tue, 15 May 2012 19:49:32 +0000
Subject: [Radiance-general] rvu exposure setting
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA32233EE1AB44@MAILBOX2.nrel.gov>
References: <04B072E0E3317A4486513BB18D6579C00728D83D@exmbx10.ex.ad3.ucdavis.edu>
	<FFF56A6D37A3A54F91A03601AC22DA32233EE1AB44@MAILBOX2.nrel.gov>
Message-ID: <E4347ABE-01A2-4D26-AE77-DDC9A10C6503@ucdavis.edu>

Dear Rob,

Thanks for clarifying this. So which would be the best way of getting a good image with a "correct" exposure if I want, for example, to automate the images production process with a script?
My question ultimately ends up referring to the Ruby script Daylightsim.rb for Openstudio exported models (which was probably written by you?) which is giving me in output very dark/bad quality .hdr images.

Thanks,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>

On 14/mag/2012, at 18.47, Guglielmetti, Robert wrote:

Hi Stefano,

The ambient value is used as a proxy estimate for the interreflected light, to be used for pixels when the other ambient investigation methods have been exhausted (ab, as, ad, lw, etc). It's a "value of last resort", if you will. So in one sense, if you drive the simulation with aggressive ambient parameters, the av setting becomes fairly irrelevant because a "good" av will be derived deterministically. Of course in keeping with the "there's no such thing as a free lunch" theme, cranking up the other ambient parameters results in long simulation times. There are some rules of thumb regarding "good" av settings for indoor and outdoor scenes that you can start with (consultation of the "rad" manual page will reveal these), but for a good image or numeric result you should be asking Radiance to do some raytracing to tease these values out for all the little corners of your space.

As far as using rvu for a testbed, this is an excellent way to interactively see the effects of the various parameters on appearance and render time. If you change a setting though, you need to redraw the image with the "new" command, or by clicking "redraw" on the new Qt-based rvu that comes with the NREL installers, to see the effect. Speaking of the NREL Radiance installers, we are posting updated packages tomorrow that address the missing .cal files issue that is present in the current installers.

- Rob

________________________________________
From: Stefano Moret [smoret at ucdavis.edu]
Sent: Monday, May 14, 2012 6:47 PM
To: radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>
Subject: [Radiance-general] rvu exposure setting

Hi,

I?ve a basic question which I haven?t really succeeded to get answer to from the different tutorials. When I visualize an octree with rvu I usually set ?av and ?ab as first parameters.
As far as I understand, the ?ambient value? should set the brightness of the scene, but I don?t see any change by setting it to different values, and to get a nice image I usually use the ?pe option to set the exposure.
Could you please enlighten me on the usage of ?ambient vale? option to get a good exposure in my images?

Thanks,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ad3.ucdavis.edu>


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120515/6ba24af9/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue May 15 13:06:33 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 15 May 2012 14:06:33 -0600
Subject: [Radiance-general] rvu exposure setting
In-Reply-To: <E4347ABE-01A2-4D26-AE77-DDC9A10C6503@ucdavis.edu>
Message-ID: <CBD81263.10A55%robert.guglielmetti@nrel.gov>

Hi Stefano,

The short answer is that it's unnecessary as long as you run the simulation with reasonable parameters. The fact that you are getting lousy images is probably because you don't have a proper view set up for DaylightSim, and the error handling for that is lousy/non-existent, because, yes, I did write it. =8-/

We have also focused on numeric grids since the implementation of the 3-phase method, and it may be that something is simply broken. Can you do me a favor and repost this question on the OpenStudio forum and we can hash out the script issues over there, since this isn't really a Radiance problem? Thanks!

- Rob

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov


On 5/15/12 1:49 PM, "Stefano Moret" <smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>> wrote:

Dear Rob,

Thanks for clarifying this. So which would be the best way of getting a good image with a "correct" exposure if I want, for example, to automate the images production process with a script?
My question ultimately ends up referring to the Ruby script Daylightsim.rb for Openstudio exported models (which was probably written by you?) which is giving me in output very dark/bad quality .hdr images.

Thanks,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>

On 14/mag/2012, at 18.47, Guglielmetti, Robert wrote:

Hi Stefano,

The ambient value is used as a proxy estimate for the interreflected light, to be used for pixels when the other ambient investigation methods have been exhausted (ab, as, ad, lw, etc). It's a "value of last resort", if you will. So in one sense, if you drive the simulation with aggressive ambient parameters, the av setting becomes fairly irrelevant because a "good" av will be derived deterministically. Of course in keeping with the "there's no such thing as a free lunch" theme, cranking up the other ambient parameters results in long simulation times. There are some rules of thumb regarding "good" av settings for indoor and outdoor scenes that you can start with (consultation of the "rad" manual page will reveal these), but for a good image or numeric result you should be asking Radiance to do some raytracing to tease these values out for all the little corners of your space.

As far as using rvu for a testbed, this is an excellent way to interactively see the effects of the various parameters on appearance and render time. If you change a setting though, you need to redraw the image with the "new" command, or by clicking "redraw" on the new Qt-based rvu that comes with the NREL installers, to see the effect. Speaking of the NREL Radiance installers, we are posting updated packages tomorrow that address the missing .cal files issue that is present in the current installers.

- Rob

________________________________________
From: Stefano Moret [smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>]
Sent: Monday, May 14, 2012 6:47 PM
To: radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>
Subject: [Radiance-general] rvu exposure setting

Hi,

I?ve a basic question which I haven?t really succeeded to get answer to from the different tutorials. When I visualize an octree with rvu I usually set ?av and ?ab as first parameters.
As far as I understand, the ?ambient value? should set the brightness of the scene, but I don?t see any change by setting it to different values, and to get a nice image I usually use the ?pe option to set the exposure.
Could you please enlighten me on the usage of ?ambient vale? option to get a good exposure in my images?

Thanks,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu><mailto:smoret at ad3.ucdavis.edu>


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general



From amcneil at lbl.gov  Tue May 15 14:04:07 2012
From: amcneil at lbl.gov (Andy McNeil)
Date: Tue, 15 May 2012 14:04:07 -0700
Subject: [Radiance-general] rvu exposure setting
In-Reply-To: <E4347ABE-01A2-4D26-AE77-DDC9A10C6503@ucdavis.edu>
References: <04B072E0E3317A4486513BB18D6579C00728D83D@exmbx10.ex.ad3.ucdavis.edu>
	<FFF56A6D37A3A54F91A03601AC22DA32233EE1AB44@MAILBOX2.nrel.gov>
	<E4347ABE-01A2-4D26-AE77-DDC9A10C6503@ucdavis.edu>
Message-ID: <F23FCD4D-6083-4059-B526-0A2F737CD7FA@lbl.gov>

Hi Stefano,

It sounds to me that you think exposure needs to be set before rendering.  It doesn't.  The image format used by Radiance contains more data than typical image formats allowing you to adjust exposure after rendering.  With rvu you can type "e", then enter then click on any pixel to adjust the overall image exposure to the value of that pixel. Or you can type "e 1" to adjust to the exposure to the image average (" e 2 " is twice the image average).  Or "e -1" to reduce exposure by one f-stop (+1 to increase).  You can adjust exposure as much as you like in rvu.

For a rendered hdr image you can adjust exposure after rendering with pfilt.

Andy


On May 15, 2012, at 12:49 PM, Stefano Moret wrote:

> Dear Rob,
> 
> Thanks for clarifying this. So which would be the best way of getting a good image with a "correct" exposure if I want, for example, to automate the images production process with a script? 
> My question ultimately ends up referring to the Ruby script Daylightsim.rb for Openstudio exported models (which was probably written by you?) which is giving me in output very dark/bad quality .hdr images.
> 
> Thanks,
> Stefano
> 
> --
> 
> Stefano Moret
> California Lighting Technology Center
> University of California, Davis
> 633 Pena Drive
> Davis, CA 95618
>  
> 530-747-3846
> smoret at ucdavis.edu
> 
> On 14/mag/2012, at 18.47, Guglielmetti, Robert wrote:
> 
>> Hi Stefano,
>> 
>> The ambient value is used as a proxy estimate for the interreflected light, to be used for pixels when the other ambient investigation methods have been exhausted (ab, as, ad, lw, etc). It's a "value of last resort", if you will. So in one sense, if you drive the simulation with aggressive ambient parameters, the av setting becomes fairly irrelevant because a "good" av will be derived deterministically. Of course in keeping with the "there's no such thing as a free lunch" theme, cranking up the other ambient parameters results in long simulation times. There are some rules of thumb regarding "good" av settings for indoor and outdoor scenes that you can start with (consultation of the "rad" manual page will reveal these), but for a good image or numeric result you should be asking Radiance to do some raytracing to tease these values out for all the little corners of your space. 
>> 
>> As far as using rvu for a testbed, this is an excellent way to interactively see the effects of the various parameters on appearance and render time. If you change a setting though, you need to redraw the image with the "new" command, or by clicking "redraw" on the new Qt-based rvu that comes with the NREL installers, to see the effect. Speaking of the NREL Radiance installers, we are posting updated packages tomorrow that address the missing .cal files issue that is present in the current installers. 
>> 
>> - Rob
>> 
>> ________________________________________
>> From: Stefano Moret [smoret at ucdavis.edu]
>> Sent: Monday, May 14, 2012 6:47 PM
>> To: radiance-general at radiance-online.org
>> Subject: [Radiance-general] rvu exposure setting
>> 
>> Hi,
>> 
>> I?ve a basic question which I haven?t really succeeded to get answer to from the different tutorials. When I visualize an octree with rvu I usually set ?av and ?ab as first parameters.
>> As far as I understand, the ?ambient value? should set the brightness of the scene, but I don?t see any change by setting it to different values, and to get a nice image I usually use the ?pe option to set the exposure.
>> Could you please enlighten me on the usage of ?ambient vale? option to get a good exposure in my images?
>> 
>> Thanks,
>> Stefano
>> 
>> --
>> 
>> Stefano Moret
>> California Lighting Technology Center<http://cltc.ucdavis.edu/>
>> University of California, Davis
>> 633 Pena Drive
>> Davis, CA 95618
>> 
>> 530-747-3846
>> smoret at ucdavis.edu<mailto:smoret at ad3.ucdavis.edu>
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120515/8a8c9c74/attachment-0001.html>

From amcneil at lbl.gov  Tue May 15 14:14:56 2012
From: amcneil at lbl.gov (Andy McNeil)
Date: Tue, 15 May 2012 14:14:56 -0700
Subject: [Radiance-general] Radiance and BCVTB
In-Reply-To: <04B072E0E3317A4486513BB18D6579C00727D257@exmbx10.ex.ad3.ucdavis.edu>
References: <04B072E0E3317A4486513BB18D6579C00727D257@exmbx10.ex.ad3.ucdavis.edu>
Message-ID: <A0B0A9B6-074C-4DD2-BED5-593E9019DF6D@lbl.gov>

This issue was solved on the BCVTB google group:
http://groups.google.com/group/bcvtb/browse_thread/thread/6835913317d715bd

It appears there are two PATH entries in the BCVTB systemVariables-linux.properties file, one for energy plus and one for Radiance.  They need to be combined into a single PATH entry.

Andy

On May 4, 2012, at 12:36 PM, Stefano Moret wrote:

> Dear all,
>  
> I?m playing around with BCVTB (http://simulationresearch.lbl.gov/bcvtb) to couple some different simulating programs and run them in parallel.
> I?m finding some difficulties in integrating Radiance though, due to some errors I get in output, probably due to configurations or environment variables.
>  
> It seems to me a very powerful tool for simulations, and therefore I was wondering if any of you had ever used it before and might help out with some basic troubleshooting.
>  
> Cheers,
> Stefano
>  
> --
>  
> Stefano Moret
> California Lighting Technology Center
> University of California, Davis
> 633 Pena Drive
> Davis, CA 95618
> 
> 530-747-3846
> smoret at ucdavis.edu
>  
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120515/d0155cc1/attachment.html>

From smoret at ucdavis.edu  Tue May 15 16:07:50 2012
From: smoret at ucdavis.edu (Stefano Moret)
Date: Tue, 15 May 2012 23:07:50 +0000
Subject: [Radiance-general] rvu exposure setting
In-Reply-To: <F23FCD4D-6083-4059-B526-0A2F737CD7FA@lbl.gov>
References: <04B072E0E3317A4486513BB18D6579C00728D83D@exmbx10.ex.ad3.ucdavis.edu>
	<FFF56A6D37A3A54F91A03601AC22DA32233EE1AB44@MAILBOX2.nrel.gov>
	<E4347ABE-01A2-4D26-AE77-DDC9A10C6503@ucdavis.edu>
	<F23FCD4D-6083-4059-B526-0A2F737CD7FA@lbl.gov>
Message-ID: <91CF3598-81CB-4CD8-90AD-07E22A79CE44@ucdavis.edu>

Thanks for your replies.

@Andy: I'm aware of that thing, but I was wondering how to get good exposures in cases in which I couldn't interactively set it, like when I'm using scripts to automate the images creation process;
@Rob: ok, I'm posting it on Openstudio forum.

Cheers,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>

On 15/mag/2012, at 14.04, Andy McNeil wrote:

Hi Stefano,

It sounds to me that you think exposure needs to be set before rendering.  It doesn't.  The image format used by Radiance contains more data than typical image formats allowing you to adjust exposure after rendering.  With rvu you can type "e", then enter then click on any pixel to adjust the overall image exposure to the value of that pixel. Or you can type "e 1" to adjust to the exposure to the image average (" e 2 " is twice the image average).  Or "e -1" to reduce exposure by one f-stop (+1 to increase).  You can adjust exposure as much as you like in rvu.

For a rendered hdr image you can adjust exposure after rendering with pfilt.

Andy


On May 15, 2012, at 12:49 PM, Stefano Moret wrote:

Dear Rob,

Thanks for clarifying this. So which would be the best way of getting a good image with a "correct" exposure if I want, for example, to automate the images production process with a script?
My question ultimately ends up referring to the Ruby script Daylightsim.rb for Openstudio exported models (which was probably written by you?) which is giving me in output very dark/bad quality .hdr images.

Thanks,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>

On 14/mag/2012, at 18.47, Guglielmetti, Robert wrote:

Hi Stefano,

The ambient value is used as a proxy estimate for the interreflected light, to be used for pixels when the other ambient investigation methods have been exhausted (ab, as, ad, lw, etc). It's a "value of last resort", if you will. So in one sense, if you drive the simulation with aggressive ambient parameters, the av setting becomes fairly irrelevant because a "good" av will be derived deterministically. Of course in keeping with the "there's no such thing as a free lunch" theme, cranking up the other ambient parameters results in long simulation times. There are some rules of thumb regarding "good" av settings for indoor and outdoor scenes that you can start with (consultation of the "rad" manual page will reveal these), but for a good image or numeric result you should be asking Radiance to do some raytracing to tease these values out for all the little corners of your space.

As far as using rvu for a testbed, this is an excellent way to interactively see the effects of the various parameters on appearance and render time. If you change a setting though, you need to redraw the image with the "new" command, or by clicking "redraw" on the new Qt-based rvu that comes with the NREL installers, to see the effect. Speaking of the NREL Radiance installers, we are posting updated packages tomorrow that address the missing .cal files issue that is present in the current installers.

- Rob

________________________________________
From: Stefano Moret [smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>]
Sent: Monday, May 14, 2012 6:47 PM
To: radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>
Subject: [Radiance-general] rvu exposure setting

Hi,

I?ve a basic question which I haven?t really succeeded to get answer to from the different tutorials. When I visualize an octree with rvu I usually set ?av and ?ab as first parameters.
As far as I understand, the ?ambient value? should set the brightness of the scene, but I don?t see any change by setting it to different values, and to get a nice image I usually use the ?pe option to set the exposure.
Could you please enlighten me on the usage of ?ambient vale? option to get a good exposure in my images?

Thanks,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu><mailto:smoret at ad3.ucdavis.edu>


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120515/0de3e403/attachment-0001.html>

From amcneil at lbl.gov  Tue May 15 16:32:06 2012
From: amcneil at lbl.gov (Andy McNeil)
Date: Tue, 15 May 2012 16:32:06 -0700
Subject: [Radiance-general] rvu exposure setting
In-Reply-To: <91CF3598-81CB-4CD8-90AD-07E22A79CE44@ucdavis.edu>
References: <04B072E0E3317A4486513BB18D6579C00728D83D@exmbx10.ex.ad3.ucdavis.edu>
	<FFF56A6D37A3A54F91A03601AC22DA32233EE1AB44@MAILBOX2.nrel.gov>
	<E4347ABE-01A2-4D26-AE77-DDC9A10C6503@ucdavis.edu>
	<F23FCD4D-6083-4059-B526-0A2F737CD7FA@lbl.gov>
	<91CF3598-81CB-4CD8-90AD-07E22A79CE44@ucdavis.edu>
Message-ID: <0F0300F1-C7C8-492E-B73F-3D09C9D180FB@lbl.gov>

Hi Stefano,

Sorry, I thought maybe you were coming from one of the other rendering tools where you need to set exposure as a rendering parameter.  get it wrong and you wasted valuable computation time.

There are two options for automated post-processing in Radiance: pfilt sets the exposure to the image average and pcond mimics human visual response.  You could just run your images through one of those tools and they would select a good exposure for each image.  

rpict -ab ... mymodel.oct > image.hdr
pfilt image.hdr > exposureadjusted_image.hdr
or 
pcond image.hdr > humanvision_image.hdr

If you want all your images to use the same exposure, you can use pfilt with a single pass (-1) and set exposure with "-e".  In this case, I'd suggest having separate render and post process scripts so you can easily change the exposure - it might require a bit of fiddling to find a single exposure that gives decent results for all images.

Andy




On May 15, 2012, at 4:07 PM, Stefano Moret wrote:

> Thanks for your replies.
> 
> @Andy: I'm aware of that thing, but I was wondering how to get good exposures in cases in which I couldn't interactively set it, like when I'm using scripts to automate the images creation process;
> @Rob: ok, I'm posting it on Openstudio forum.
> 
> Cheers,
> Stefano
> 
> --
> 
> Stefano Moret
> California Lighting Technology Center
> University of California, Davis
> 633 Pena Drive
> Davis, CA 95618
>  
> 530-747-3846
> smoret at ucdavis.edu
> 
> On 15/mag/2012, at 14.04, Andy McNeil wrote:
> 
>> Hi Stefano,
>> 
>> It sounds to me that you think exposure needs to be set before rendering.  It doesn't.  The image format used by Radiance contains more data than typical image formats allowing you to adjust exposure after rendering.  With rvu you can type "e", then enter then click on any pixel to adjust the overall image exposure to the value of that pixel. Or you can type "e 1" to adjust to the exposure to the image average (" e 2 " is twice the image average).  Or "e -1" to reduce exposure by one f-stop (+1 to increase).  You can adjust exposure as much as you like in rvu.
>> 
>> For a rendered hdr image you can adjust exposure after rendering with pfilt.
>> 
>> Andy
>> 
>> 
>> On May 15, 2012, at 12:49 PM, Stefano Moret wrote:
>> 
>>> Dear Rob,
>>> 
>>> Thanks for clarifying this. So which would be the best way of getting a good image with a "correct" exposure if I want, for example, to automate the images production process with a script? 
>>> My question ultimately ends up referring to the Ruby script Daylightsim.rb for Openstudio exported models (which was probably written by you?) which is giving me in output very dark/bad quality .hdr images.
>>> 
>>> Thanks,
>>> Stefano
>>> 
>>> --
>>> 
>>> Stefano Moret
>>> California Lighting Technology Center
>>> University of California, Davis
>>> 633 Pena Drive
>>> Davis, CA 95618
>>>  
>>> 530-747-3846
>>> smoret at ucdavis.edu
>>> 
>>> On 14/mag/2012, at 18.47, Guglielmetti, Robert wrote:
>>> 
>>>> Hi Stefano,
>>>> 
>>>> The ambient value is used as a proxy estimate for the interreflected light, to be used for pixels when the other ambient investigation methods have been exhausted (ab, as, ad, lw, etc). It's a "value of last resort", if you will. So in one sense, if you drive the simulation with aggressive ambient parameters, the av setting becomes fairly irrelevant because a "good" av will be derived deterministically. Of course in keeping with the "there's no such thing as a free lunch" theme, cranking up the other ambient parameters results in long simulation times. There are some rules of thumb regarding "good" av settings for indoor and outdoor scenes that you can start with (consultation of the "rad" manual page will reveal these), but for a good image or numeric result you should be asking Radiance to do some raytracing to tease these values out for all the little corners of your space. 
>>>> 
>>>> As far as using rvu for a testbed, this is an excellent way to interactively see the effects of the various parameters on appearance and render time. If you change a setting though, you need to redraw the image with the "new" command, or by clicking "redraw" on the new Qt-based rvu that comes with the NREL installers, to see the effect. Speaking of the NREL Radiance installers, we are posting updated packages tomorrow that address the missing .cal files issue that is present in the current installers. 
>>>> 
>>>> - Rob
>>>> 
>>>> ________________________________________
>>>> From: Stefano Moret [smoret at ucdavis.edu]
>>>> Sent: Monday, May 14, 2012 6:47 PM
>>>> To: radiance-general at radiance-online.org
>>>> Subject: [Radiance-general] rvu exposure setting
>>>> 
>>>> Hi,
>>>> 
>>>> I?ve a basic question which I haven?t really succeeded to get answer to from the different tutorials. When I visualize an octree with rvu I usually set ?av and ?ab as first parameters.
>>>> As far as I understand, the ?ambient value? should set the brightness of the scene, but I don?t see any change by setting it to different values, and to get a nice image I usually use the ?pe option to set the exposure.
>>>> Could you please enlighten me on the usage of ?ambient vale? option to get a good exposure in my images?
>>>> 
>>>> Thanks,
>>>> Stefano
>>>> 
>>>> --
>>>> 
>>>> Stefano Moret
>>>> California Lighting Technology Center<http://cltc.ucdavis.edu/>
>>>> University of California, Davis
>>>> 633 Pena Drive
>>>> Davis, CA 95618
>>>> 
>>>> 530-747-3846
>>>> smoret at ucdavis.edu<mailto:smoret at ad3.ucdavis.edu>
>>>> 
>>>> 
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120515/4437c841/attachment.html>

From tim.v2.0 at gmail.com  Tue May 15 16:40:52 2012
From: tim.v2.0 at gmail.com (Tim Perry)
Date: Tue, 15 May 2012 16:40:52 -0700
Subject: [Radiance-general] rvu exposure setting
In-Reply-To: <0F0300F1-C7C8-492E-B73F-3D09C9D180FB@lbl.gov>
References: <04B072E0E3317A4486513BB18D6579C00728D83D@exmbx10.ex.ad3.ucdavis.edu>
	<FFF56A6D37A3A54F91A03601AC22DA32233EE1AB44@MAILBOX2.nrel.gov>
	<E4347ABE-01A2-4D26-AE77-DDC9A10C6503@ucdavis.edu>
	<F23FCD4D-6083-4059-B526-0A2F737CD7FA@lbl.gov>
	<91CF3598-81CB-4CD8-90AD-07E22A79CE44@ucdavis.edu>
	<0F0300F1-C7C8-492E-B73F-3D09C9D180FB@lbl.gov>
Message-ID: <CAFVgASV0tCg2-2eddQUPGWWJEQPjkMw=fEj6yqmH8+DUvTnrPg@mail.gmail.com>

Dear Stefano, et al,

My rendering pipeline often contains a call to pfilt to set the exposure as
if the picture was taken with a particular fstop and exposure. Look at this
reference:
http://radsite.lbl.gov/radiance/refer/Notes/filmspeed.html

Here is the example from that site. You can see the "1/60" and "4" in the
call to ev. Very handy.

So, if you were trying to produce an image as it would appear shot at 1/60
sec. on ASA 100 (ISO 21) film at f-4, you would apply pfilt thusly:

	pfilt -1 -e `ev "2.81*1/60*21/4^2"` raw.pic > fin.pic


Hope that helps,
Tim

PS: here it is in action. Note I do not save the original file and direct
standard error to /dev/null. Both of these are probably a bad idea.

 rpict $VIEWPOINT \
                       -ps 1 -pt 0.15 -pj 0.6 \
                       -dj 0.7 -ds 0.5 -dt -0.5 -dc 0.75 -dr 1 -dp 256 \
                       -ss 0.3 -st 0.02 \
                       -ab 3  -aa 0.05 -ar 64 -ad 2048 -as 1024 \
                       -lr 4 -lw 0.0001 \
                       -x 2500 -y 2500 \
                       clock.oct 2> /dev/null \
                           | pfilt -1 -e `ev "2.81*1/60*21/4^2"` -x /4 -y
/4 -r 0.6 > $filtFile


On Tue, May 15, 2012 at 4:32 PM, Andy McNeil <amcneil at lbl.gov> wrote:

> Hi Stefano,
>
> Sorry, I thought maybe you were coming from one of the other rendering
> tools where you need to set exposure as a rendering parameter.  get it
> wrong and you wasted valuable computation time.
>
> There are two options for automated post-processing in Radiance: pfilt
> sets the exposure to the image average and pcond mimics human visual
> response.  You could just run your images through one of those tools and
> they would select a good exposure for each image.
>
> rpict -ab ... mymodel.oct > image.hdr
> pfilt image.hdr > exposureadjusted_image.hdr
> or
> pcond image.hdr > humanvision_image.hdr
>
> If you want all your images to use the same exposure, you can use pfilt
> with a single pass (-1) and set exposure with "-e".  In this case, I'd
> suggest having separate render and post process scripts so you can easily
> change the exposure - it might require a bit of fiddling to find a single
> exposure that gives decent results for all images.
>
> Andy
>
>
>
>
> On May 15, 2012, at 4:07 PM, Stefano Moret wrote:
>
>  Thanks for your replies.
>
>  @Andy: I'm aware of that thing, but I was wondering how to get good
> exposures in cases in which I couldn't interactively set it, like when I'm
> using scripts to automate the images creation process;
> @Rob: ok, I'm posting it on Openstudio forum.
>
>  Cheers,
> Stefano
>
>     --
>
>  Stefano Moret
> California Lighting Technology Center <http://cltc.ucdavis.edu/>
> University of California, Davis
> 633 Pena Drive
> Davis, CA 95618
>
> 530-747-3846
> smoret at ucdavis.edu
>
>  On 15/mag/2012, at 14.04, Andy McNeil wrote:
>
>  Hi Stefano,
>
>  It sounds to me that you think exposure needs to be set before
> rendering.  It doesn't.  The image format used by Radiance contains more
> data than typical image formats allowing you to adjust exposure after
> rendering.  With rvu you can type "e", then enter then click on any pixel
> to adjust the overall image exposure to the value of that pixel. Or you can
> type "e 1" to adjust to the exposure to the image average (" e 2 " is twice
> the image average).  Or "e -1" to reduce exposure by one f-stop (+1 to
> increase).  You can adjust exposure as much as you like in rvu.
>
>  For a rendered hdr image you can adjust exposure after rendering with
> pfilt.
>
>  Andy
>
>
>  On May 15, 2012, at 12:49 PM, Stefano Moret wrote:
>
>  Dear Rob,
>
>  Thanks for clarifying this. So which would be the best way of getting a
> good image with a "correct" exposure if I want, for example, to automate
> the images production process with a script?
> My question ultimately ends up referring to the Ruby script Daylightsim.rb
> for Openstudio exported models (which was probably written by you?) which
> is giving me in output very dark/bad quality .hdr images.
>
>  Thanks,
> Stefano
>
>     --
>
>  Stefano Moret
> California Lighting Technology Center <http://cltc.ucdavis.edu/>
> University of California, Davis
> 633 Pena Drive
> Davis, CA 95618
>
> 530-747-3846
> smoret at ucdavis.edu
>
>  On 14/mag/2012, at 18.47, Guglielmetti, Robert wrote:
>
>  Hi Stefano,
>
> The ambient value is used as a proxy estimate for the interreflected
> light, to be used for pixels when the other ambient investigation methods
> have been exhausted (ab, as, ad, lw, etc). It's a "value of last resort",
> if you will. So in one sense, if you drive the simulation with aggressive
> ambient parameters, the av setting becomes fairly irrelevant because a
> "good" av will be derived deterministically. Of course in keeping with the
> "there's no such thing as a free lunch" theme, cranking up the other
> ambient parameters results in long simulation times. There are some rules
> of thumb regarding "good" av settings for indoor and outdoor scenes that
> you can start with (consultation of the "rad" manual page will reveal
> these), but for a good image or numeric result you should be asking
> Radiance to do some raytracing to tease these values out for all the little
> corners of your space.
>
> As far as using rvu for a testbed, this is an excellent way to
> interactively see the effects of the various parameters on appearance and
> render time. If you change a setting though, you need to redraw the image
> with the "new" command, or by clicking "redraw" on the new Qt-based rvu
> that comes with the NREL installers, to see the effect. Speaking of the
> NREL Radiance installers, we are posting updated packages tomorrow that
> address the missing .cal files issue that is present in the current
> installers.
>
> - Rob
>
> ________________________________________
> From: Stefano Moret [smoret at ucdavis.edu]
> Sent: Monday, May 14, 2012 6:47 PM
> To: radiance-general at radiance-online.org
> Subject: [Radiance-general] rvu exposure setting
>
> Hi,
>
> I?ve a basic question which I haven?t really succeeded to get answer to
> from the different tutorials. When I visualize an octree with rvu I usually
> set ?av and ?ab as first parameters.
> As far as I understand, the ?ambient value? should set the brightness of
> the scene, but I don?t see any change by setting it to different values,
> and to get a nice image I usually use the ?pe option to set the exposure.
> Could you please enlighten me on the usage of ?ambient vale? option to get
> a good exposure in my images?
>
> Thanks,
> Stefano
>
> --
>
> Stefano Moret
> California Lighting Technology Center<http://cltc.ucdavis.edu/>
> University of California, Davis
> 633 Pena Drive
> Davis, CA 95618
>
> 530-747-3846
> smoret at ucdavis.edu<mailto:smoret at ad3.ucdavis.edu <smoret at ad3.ucdavis.edu>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>  _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>  _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>  _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120515/3307d475/attachment-0001.html>

From maricanis at gmail.com  Wed May 16 06:38:01 2012
From: maricanis at gmail.com (Marija Velickovic)
Date: Wed, 16 May 2012 15:38:01 +0200
Subject: [Radiance-general] ra_gif: out of memory error
Message-ID: <CAAZQWqgy0taUNcysa7Pv0mVoLNL3PM8xOvr_NybM5GGzZt0gWw@mail.gmail.com>

Hi,

I'm trying to convert radiance image to gif and getting strange error.
command: *ra_gif -n 20 input.hdr output.gif*
error: *ra_gif: out of memory
*output image: *invalid image with size 0

*If I try the same command without -n option no error *
*command: *ra_gif  input.hdr output.gif**
*output image: *expected output image*

Other info that may be of use in error source determination

   - Original Radiance image resolution is quite unusual  -Y 500 +X 7
   - I've tried to change values of -n option, and for this image options
   n<=5 don't produce error and options n>5 give the same error
   - ra_gif works without problems with any -n option, if I use other image
   with more 'normal' aspect ratio
   - I've tried few ra_gif executables, in Windows and Linux and all give
   the same result.

For -n option in manual there is a description:
"The *-n* option specifies a sampling factor for neural network color
quantization. This value should be between 1 and 80, where 1 takes the
longest and produces the best results in small areas of the image."
So I've chosen 20, as some optimal value to get good gif images and not too
long time.
I thought that lower -n values would require more memory, but in this case
they give correct results, and higher values give memory error.

Not sure what can be the source of the problem.

Any ideas?
Marija
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120516/eedcaded/attachment.html>

From gregoryjward at gmail.com  Wed May 16 10:59:39 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 16 May 2012 10:59:39 -0700
Subject: [Radiance-general] ra_gif: out of memory error
In-Reply-To: <CAAZQWqgy0taUNcysa7Pv0mVoLNL3PM8xOvr_NybM5GGzZt0gWw@mail.gmail.com>
References: <CAAZQWqgy0taUNcysa7Pv0mVoLNL3PM8xOvr_NybM5GGzZt0gWw@mail.gmail.com>
Message-ID: <CEDF9B3E-89E4-416F-A8F4-32121E942AD1@lmi.net>

The -n option of ra_gif is just to save time on large images by subsampling the input pixels.  For small images, setting -n 1 should produce the best results, so there's no reason to set the option higher.  If you don't have enough samples, the neural network color quantizer doesn't have enough information and I guess it loses its mind...

-Greg

> From: Marija Velickovic <maricanis at gmail.com>
> Date: May 16, 2012 6:38:01 AM PDT
> 
> Hi,
> 
> I'm trying to convert radiance image to gif and getting strange error.
> command: ra_gif -n 20 input.hdr output.gif
> error: ra_gif: out of memory
> output image: invalid image with size 0
> 
> If I try the same command without -n option no error 
> command: ra_gif  input.hdr output.gif
> output image: expected output image
> 
> Other info that may be of use in error source determination
> Original Radiance image resolution is quite unusual  -Y 500 +X 7
> I've tried to change values of -n option, and for this image options n<=5 don't produce error and options n>5 give the same error
> ra_gif works without problems with any -n option, if I use other image with more 'normal' aspect ratio
> I've tried few ra_gif executables, in Windows and Linux and all give the same result.
> For -n option in manual there is a description:
> "The ?n option specifies a sampling factor for neural network color quantization. This value should be between 1 and 80, where 1 takes the longest and produces the best results in small areas of the image."
> So I've chosen 20, as some optimal value to get good gif images and not too long time.
> I thought that lower -n values would require more memory, but in this case they give correct results, and higher values give memory error.
> 
> Not sure what can be the source of the problem.
> 
> Any ideas?
> Marija
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120516/28c57f07/attachment.html>

From Robert.Guglielmetti at nrel.gov  Wed May 16 13:19:53 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 16 May 2012 14:19:53 -0600
Subject: [Radiance-general] Updated Radiance Installers Available
Message-ID: <CBD96809.10B86%robert.guglielmetti@nrel.gov>

Hi all,

Just a quick note, NREL recently updated all the installation packages for
Radiance, and these are available on the OpenStudio website. A user
pointed out to us that the essential files in ray/src/cal/cal were not
making it into the installation directory -- apologies all around. Greg
Ward also made a recent change to one of the MGF converters, so that code
change is reflected in all of the packages as well. You can find all of
NREL's Radiance package offerings at:

https://openstudio.nrel.gov/getting-started-developer/getting-started-radia
nce

Trace on, people. 


Rob Guglielmetti
Commercial Buildings Research Group - Tools Section
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov





From maricanis at gmail.com  Thu May 17 01:26:01 2012
From: maricanis at gmail.com (Marija Velickovic)
Date: Thu, 17 May 2012 10:26:01 +0200
Subject: [Radiance-general] ra_gif: out of memory error
In-Reply-To: <CEDF9B3E-89E4-416F-A8F4-32121E942AD1@lmi.net>
References: <CAAZQWqgy0taUNcysa7Pv0mVoLNL3PM8xOvr_NybM5GGzZt0gWw@mail.gmail.com>
	<CEDF9B3E-89E4-416F-A8F4-32121E942AD1@lmi.net>
Message-ID: <CAAZQWqj+5Fnxr-EC=KKrP+jopsR21QKgWQh65G4+W61G54s7RA@mail.gmail.com>

Thanks Greg,

In fact for input Radiance model I generate automatically big number of
images in my program, and can't say in advance what would be the size of
any image.
-n 1 is definitely the safest solution (although in my case also
calculation time is important - since numerous images).

Thanks for answer anyway, because it is now clear why I get error messages.

Marija

On Wed, May 16, 2012 at 7:59 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> The -n option of ra_gif is just to save time on large images by
> subsampling the input pixels.  For small images, setting -n 1 should
> produce the best results, so there's no reason to set the option higher.
>  If you don't have enough samples, the neural network color quantizer
> doesn't have enough information and I guess it loses its mind...
>
> -Greg
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120517/d201d308/attachment.html>

From gregoryjward at gmail.com  Thu May 17 08:24:56 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 17 May 2012 08:24:56 -0700
Subject: [Radiance-general] ra_gif: out of memory error
In-Reply-To: <CAAZQWqj+5Fnxr-EC=KKrP+jopsR21QKgWQh65G4+W61G54s7RA@mail.gmail.com>
References: <CAAZQWqgy0taUNcysa7Pv0mVoLNL3PM8xOvr_NybM5GGzZt0gWw@mail.gmail.com>
	<CEDF9B3E-89E4-416F-A8F4-32121E942AD1@lmi.net>
	<CAAZQWqj+5Fnxr-EC=KKrP+jopsR21QKgWQh65G4+W61G54s7RA@mail.gmail.com>
Message-ID: <ECDC4F4B-17B0-42FB-B7BF-A1CB8F76507C@lmi.net>

Well, I think the neural network needs at least 300 pixel samples to do its work, meaning that the total number of pixels divided by the -n option must be at least 300.  Even with -n 1, it can fail if you only give it an image that's a couple of hundred pixels in size.  I don't think the other converters are so constrained.  You could use ra_bmp which does tone-mapping also, or ra_t8 if you really want an 8-bit image.

Best,
-Greg

> From: Marija Velickovic <maricanis at gmail.com>
> Date: May 17, 2012 1:26:01 AM PDT
> 
> Thanks Greg,
> 
> In fact for input Radiance model I generate automatically big number of images in my program, and can't say in advance what would be the size of any image.
> -n 1 is definitely the safest solution (although in my case also calculation time is important - since numerous images).
> 
> Thanks for answer anyway, because it is now clear why I get error messages.
> 
> Marija
> 
> On Wed, May 16, 2012 at 7:59 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> The -n option of ra_gif is just to save time on large images by subsampling the input pixels.  For small images, setting -n 1 should produce the best results, so there's no reason to set the option higher.  If you don't have enough samples, the neural network color quantizer doesn't have enough information and I guess it loses its mind...
> 
> -Greg
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120517/367f0761/attachment.html>

From hope.zh at gmail.com  Thu May 17 09:33:44 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Fri, 18 May 2012 00:33:44 +0800
Subject: [Radiance-general] how to pipe the output of pcompos as input for
	pflip
Message-ID: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>

Dear list,

I can use two separate commands to crop and flip an .hdr image:

pcompos -x 800 -y 800 ./sky.hdr -100 0 > ./sky_clipped.hdr
pflip -h ./sky_clipped.hdr > ./sky_flipped.hdr


However, I don't seem to be able to "pipe" the output of pcompos as input
for pflip using the following script:
pcompos -x 800 -y 800 ./sky.hdr -100 0 | pflip -h > ./sky_flipped.hdr

I'm sure I missed something here, so please kindly advise!

Thanks a lot!

- Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120518/8e92a180/attachment.html>

From gregoryjward at gmail.com  Thu May 17 11:03:29 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 17 May 2012 11:03:29 -0700
Subject: [Radiance-general] how to pipe the output of pcompos as input
	for pflip
In-Reply-To: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>
References: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>
Message-ID: <C5CE38F3-FF52-4ACB-8ED0-73642F8B3C3B@lmi.net>

You should get a usage error.  The 4.1 version of pflip needs the input file on the command line, so it can seek on it for the -v option.  While technically not necessary for the -h option by itself, this is how I wrote it figuring it was not worth the effort for the corner case of someone wanting on pflip -h to read from stdin.

I have modified the code and uploaded a new version that works in your scenario.  I will e-mail you the C file separately.

Cheers,
-Greg


> From: Ji Zhang <hope.zh at gmail.com>
> Date: May 17, 2012 9:33:44 AM PDT
> 
> Dear list, 
> 
> I can use two separate commands to crop and flip an .hdr image:
> 
> pcompos -x 800 -y 800 ./sky.hdr -100 0 > ./sky_clipped.hdr
> pflip -h ./sky_clipped.hdr > ./sky_flipped.hdr
> 
> 
> However, I don't seem to be able to "pipe" the output of pcompos as input for pflip using the following script:
> pcompos -x 800 -y 800 ./sky.hdr -100 0 | pflip -h > ./sky_flipped.hdr
> 
> I'm sure I missed something here, so please kindly advise!
> 
> Thanks a lot!
> 
> - Ji


From hope.zh at gmail.com  Thu May 17 12:13:35 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Fri, 18 May 2012 03:13:35 +0800
Subject: [Radiance-general] how to pipe the output of pcompos as input
	for pflip
In-Reply-To: <C5CE38F3-FF52-4ACB-8ED0-73642F8B3C3B@lmi.net>
References: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>
	<C5CE38F3-FF52-4ACB-8ED0-73642F8B3C3B@lmi.net>
Message-ID: <CAD83LVLQdCStVviEexVdo1YCwVA4z1iyT0r-Tmmo9AyF0BmnjA@mail.gmail.com>

Dear Greg, thank you very much!

I've got the C file you sent. However, I have no experience in C
programming. So, can you kindly advise me how should I "compile" or "do
with" it?

What I want to do is to get a falsecolor sky radiance fisheye image and map
it back to a virtual sky dome. See the link below:
http://diva4rhino.com/forum/topics/gendaylit-in-diva-2-0-seriously-underesitmates-total-irradiation

Since the falsecolor image I generated from falsecolor2.exe is one with
East and West switched, I need to crop it to get ride of the color legend
and flip horizontally it so that East and West are correctly visualized.

Thanks again!

- Ji



On Fri, May 18, 2012 at 2:03 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> You should get a usage error.  The 4.1 version of pflip needs the input
> file on the command line, so it can seek on it for the -v option.  While
> technically not necessary for the -h option by itself, this is how I wrote
> it figuring it was not worth the effort for the corner case of someone
> wanting on pflip -h to read from stdin.
>
> I have modified the code and uploaded a new version that works in your
> scenario.  I will e-mail you the C file separately.
>
> Cheers,
> -Greg
>
>
> > From: Ji Zhang <hope.zh at gmail.com>
> > Date: May 17, 2012 9:33:44 AM PDT
> >
> > Dear list,
> >
> > I can use two separate commands to crop and flip an .hdr image:
> >
> > pcompos -x 800 -y 800 ./sky.hdr -100 0 > ./sky_clipped.hdr
> > pflip -h ./sky_clipped.hdr > ./sky_flipped.hdr
> >
> >
> > However, I don't seem to be able to "pipe" the output of pcompos as
> input for pflip using the following script:
> > pcompos -x 800 -y 800 ./sky.hdr -100 0 | pflip -h > ./sky_flipped.hdr
> >
> > I'm sure I missed something here, so please kindly advise!
> >
> > Thanks a lot!
> >
> > - Ji
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120518/d8934220/attachment.html>

From tim.v2.0 at gmail.com  Thu May 17 12:59:48 2012
From: tim.v2.0 at gmail.com (Tim Perry)
Date: Thu, 17 May 2012 12:59:48 -0700
Subject: [Radiance-general] how to pipe the output of pcompos as input
	for pflip
In-Reply-To: <CAD83LVLQdCStVviEexVdo1YCwVA4z1iyT0r-Tmmo9AyF0BmnjA@mail.gmail.com>
References: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>
	<C5CE38F3-FF52-4ACB-8ED0-73642F8B3C3B@lmi.net>
	<CAD83LVLQdCStVviEexVdo1YCwVA4z1iyT0r-Tmmo9AyF0BmnjA@mail.gmail.com>
Message-ID: <CAFVgASVWEkSeYRgL5GdfrdZ9r8=tt_m7fzO_5T2_Qb=nTbfs6g@mail.gmail.com>

Ji,

what if you just reverse the order of the two operations?

Tim


On Thu, May 17, 2012 at 12:13 PM, Ji Zhang <hope.zh at gmail.com> wrote:

> Dear Greg, thank you very much!
>
> I've got the C file you sent. However, I have no experience in C
> programming. So, can you kindly advise me how should I "compile" or "do
> with" it?
>
> What I want to do is to get a falsecolor sky radiance fisheye image and
> map it back to a virtual sky dome. See the link below:
>
> http://diva4rhino.com/forum/topics/gendaylit-in-diva-2-0-seriously-underesitmates-total-irradiation
>
> Since the falsecolor image I generated from falsecolor2.exe is one with
> East and West switched, I need to crop it to get ride of the color legend
> and flip horizontally it so that East and West are correctly visualized.
>
> Thanks again!
>
> - Ji
>
>
>
>
> On Fri, May 18, 2012 at 2:03 AM, Greg Ward <gregoryjward at gmail.com> wrote:
>
>> You should get a usage error.  The 4.1 version of pflip needs the input
>> file on the command line, so it can seek on it for the -v option.  While
>> technically not necessary for the -h option by itself, this is how I wrote
>> it figuring it was not worth the effort for the corner case of someone
>> wanting on pflip -h to read from stdin.
>>
>> I have modified the code and uploaded a new version that works in your
>> scenario.  I will e-mail you the C file separately.
>>
>> Cheers,
>> -Greg
>>
>>
>> > From: Ji Zhang <hope.zh at gmail.com>
>> > Date: May 17, 2012 9:33:44 AM PDT
>> >
>> > Dear list,
>> >
>> > I can use two separate commands to crop and flip an .hdr image:
>> >
>> > pcompos -x 800 -y 800 ./sky.hdr -100 0 > ./sky_clipped.hdr
>> > pflip -h ./sky_clipped.hdr > ./sky_flipped.hdr
>> >
>> >
>> > However, I don't seem to be able to "pipe" the output of pcompos as
>> input for pflip using the following script:
>> > pcompos -x 800 -y 800 ./sky.hdr -100 0 | pflip -h > ./sky_flipped.hdr
>> >
>> > I'm sure I missed something here, so please kindly advise!
>> >
>> > Thanks a lot!
>> >
>> > - Ji
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120517/5d09e0a7/attachment.html>

From gregoryjward at gmail.com  Thu May 17 14:14:18 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 17 May 2012 14:14:18 -0700
Subject: [Radiance-general] how to pipe the output of pcompos as input
	for pflip
In-Reply-To: <CAFVgASVWEkSeYRgL5GdfrdZ9r8=tt_m7fzO_5T2_Qb=nTbfs6g@mail.gmail.com>
References: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>
	<C5CE38F3-FF52-4ACB-8ED0-73642F8B3C3B@lmi.net>
	<CAD83LVLQdCStVviEexVdo1YCwVA4z1iyT0r-Tmmo9AyF0BmnjA@mail.gmail.com>
	<CAFVgASVWEkSeYRgL5GdfrdZ9r8=tt_m7fzO_5T2_Qb=nTbfs6g@mail.gmail.com>
Message-ID: <5074AAE7-3EA7-42EA-86FE-87C727E57579@lmi.net>

The C file goes in src/px -- if you didn't compile Radiance, though, it won't do you much good.

Tim's idea of reversing the order of operations should work, since falsecolor can read from a pipe.  Or, you could create a temporary file and use the version of pflip you have.

-Greg


> From: Tim Perry <tim.v2.0 at gmail.com>
> Date: May 17, 2012 12:59:48 PM PDT
> 
> Ji,
> 
> what if you just reverse the order of the two operations?
> 
> Tim
> 
> 
> On Thu, May 17, 2012 at 12:13 PM, Ji Zhang <hope.zh at gmail.com> wrote:
> Dear Greg, thank you very much! 
> 
> I've got the C file you sent. However, I have no experience in C programming. So, can you kindly advise me how should I "compile" or "do with" it? 
> 
> What I want to do is to get a falsecolor sky radiance fisheye image and map it back to a virtual sky dome. See the link below:
> http://diva4rhino.com/forum/topics/gendaylit-in-diva-2-0-seriously-underesitmates-total-irradiation
> 
> Since the falsecolor image I generated from falsecolor2.exe is one with East and West switched, I need to crop it to get ride of the color legend and flip horizontally it so that East and West are correctly visualized. 
> 
> Thanks again!
> 
> - Ji
> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120517/d44dddcf/attachment.html>

From hope.zh at gmail.com  Fri May 18 13:41:31 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Sat, 19 May 2012 04:41:31 +0800
Subject: [Radiance-general] how to pipe the output of pcompos as input
	for pflip
In-Reply-To: <5074AAE7-3EA7-42EA-86FE-87C727E57579@lmi.net>
References: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>
	<C5CE38F3-FF52-4ACB-8ED0-73642F8B3C3B@lmi.net>
	<CAD83LVLQdCStVviEexVdo1YCwVA4z1iyT0r-Tmmo9AyF0BmnjA@mail.gmail.com>
	<CAFVgASVWEkSeYRgL5GdfrdZ9r8=tt_m7fzO_5T2_Qb=nTbfs6g@mail.gmail.com>
	<5074AAE7-3EA7-42EA-86FE-87C727E57579@lmi.net>
Message-ID: <CAD83LVKhwpoLd-x+w8zo8xqTyC3hEcNGgPHFSn6A=f2DQ+wkeA@mail.gmail.com>

Thanks, Greg and Tim!

Can you kindly explain the "reversing the order of operation" approach? Do
you mean flipping the image first before cropping it?

BTW, it seems that the horizontally flipped .hdr image created by pflip
cannot be correctly displayed in PhotosphereU application on Mac system.
What is shown in PhotosphereU is still the original one before flipping.
However, the flipped image can be correctly displayed in Photoshop. I'm not
sure if there's something wrong with my Mac system because the flipped .hdr
image can't be properly previewed either...

Please kindly advise!

The original hdr image:
https://sites.google.com/site/episodehopezh/files/original.hdr?attredirects=0&d=1

The flipped hdr image:
https://sites.google.com/site/episodehopezh/files/flipped.hdr?attredirects=0&d=1


- Cheers, Ji



On Fri, May 18, 2012 at 5:14 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> The C file goes in src/px -- if you didn't compile Radiance, though, it
> won't do you much good.
>
> Tim's idea of reversing the order of operations should work, since
> falsecolor can read from a pipe.  Or, you could create a temporary file and
> use the version of pflip you have.
>
> -Greg
>
>
> *From: *Tim Perry <tim.v2.0 at gmail.com>
>
> *Date: *May 17, 2012 12:59:48 PM PDT
>
> *
> *
>
> Ji,
>
> what if you just reverse the order of the two operations?
>
> Tim
>
>
> On Thu, May 17, 2012 at 12:13 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Dear Greg, thank you very much!
>>
>> I've got the C file you sent. However, I have no experience in C
>> programming. So, can you kindly advise me how should I "compile" or "do
>> with" it?
>>
>> What I want to do is to get a falsecolor sky radiance fisheye image and
>> map it back to a virtual sky dome. See the link below:
>>
>> http://diva4rhino.com/forum/topics/gendaylit-in-diva-2-0-seriously-underesitmates-total-irradiation
>>
>> Since the falsecolor image I generated from falsecolor2.exe is one with
>> East and West switched, I need to crop it to get ride of the color legend
>> and flip horizontally it so that East and West are correctly visualized.
>>
>> Thanks again!
>>
>> - Ji
>>
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120519/c549a396/attachment.html>

From gregoryjward at gmail.com  Fri May 18 15:43:56 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 18 May 2012 15:43:56 -0700
Subject: [Radiance-general] how to pipe the output of pcompos as input
	for pflip
In-Reply-To: <CAD83LVKhwpoLd-x+w8zo8xqTyC3hEcNGgPHFSn6A=f2DQ+wkeA@mail.gmail.com>
References: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>
	<C5CE38F3-FF52-4ACB-8ED0-73642F8B3C3B@lmi.net>
	<CAD83LVLQdCStVviEexVdo1YCwVA4z1iyT0r-Tmmo9AyF0BmnjA@mail.gmail.com>
	<CAFVgASVWEkSeYRgL5GdfrdZ9r8=tt_m7fzO_5T2_Qb=nTbfs6g@mail.gmail.com>
	<5074AAE7-3EA7-42EA-86FE-87C727E57579@lmi.net>
	<CAD83LVKhwpoLd-x+w8zo8xqTyC3hEcNGgPHFSn6A=f2DQ+wkeA@mail.gmail.com>
Message-ID: <E017553E-ECD3-4E4F-8F7E-CF36435C1D3C@lmi.net>

Yes, we meant flipping the image horizontally before running falsecolor.  This should also fix the issue with Photosphere.

I made the design decision to correct image orientations in Photosphere based on the input.  Use the -c option of pflip if you don't want this to occur.

Best,
-Greg

> From: Ji Zhang <hope.zh at gmail.com>
> Date: May 18, 2012 1:41:31 PM PDT
> 
> Thanks, Greg and Tim! 
> 
> Can you kindly explain the "reversing the order of operation" approach? Do you mean flipping the image first before cropping it?
> 
> BTW, it seems that the horizontally flipped .hdr image created by pflip cannot be correctly displayed in PhotosphereU application on Mac system. What is shown in PhotosphereU is still the original one before flipping. However, the flipped image can be correctly displayed in Photoshop. I'm not sure if there's something wrong with my Mac system because the flipped .hdr image can't be properly previewed either... 
> 
> Please kindly advise!
> 
> The original hdr image:
> https://sites.google.com/site/episodehopezh/files/original.hdr?attredirects=0&d=1
> 
> The flipped hdr image:
> https://sites.google.com/site/episodehopezh/files/flipped.hdr?attredirects=0&d=1
> 
> 
> - Cheers, Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120518/4f54ec37/attachment.html>

From hope.zh at gmail.com  Fri May 18 20:57:53 2012
From: hope.zh at gmail.com (Ji ZHANG)
Date: Sat, 19 May 2012 11:57:53 +0800
Subject: [Radiance-general] how to pipe the output of pcompos as input
	for pflip
In-Reply-To: <E017553E-ECD3-4E4F-8F7E-CF36435C1D3C@lmi.net>
References: <CAD83LVJ1id5WafNoGzw1p+LhjkYLqHhem84U9mpOBeyfoFF8fw@mail.gmail.com>
	<C5CE38F3-FF52-4ACB-8ED0-73642F8B3C3B@lmi.net>
	<CAD83LVLQdCStVviEexVdo1YCwVA4z1iyT0r-Tmmo9AyF0BmnjA@mail.gmail.com>
	<CAFVgASVWEkSeYRgL5GdfrdZ9r8=tt_m7fzO_5T2_Qb=nTbfs6g@mail.gmail.com>
	<5074AAE7-3EA7-42EA-86FE-87C727E57579@lmi.net>
	<CAD83LVKhwpoLd-x+w8zo8xqTyC3hEcNGgPHFSn6A=f2DQ+wkeA@mail.gmail.com>
	<E017553E-ECD3-4E4F-8F7E-CF36435C1D3C@lmi.net>
Message-ID: <109FDB8C-C70D-4829-B14B-7243B7C218E2@gmail.com>

Noted with thanks, Greg! Will try accordingly later. - Cheers, Ji



On 19 May, 2012, at 6:43 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Yes, we meant flipping the image horizontally before running falsecolor.  This should also fix the issue with Photosphere.
> 
> I made the design decision to correct image orientations in Photosphere based on the input.  Use the -c option of pflip if you don't want this to occur.
> 
> Best,
> -Greg
> 
>> From: Ji Zhang <hope.zh at gmail.com>
>> Date: May 18, 2012 1:41:31 PM PDT
>> 
>> Thanks, Greg and Tim! 
>> 
>> Can you kindly explain the "reversing the order of operation" approach? Do you mean flipping the image first before cropping it?
>> 
>> BTW, it seems that the horizontally flipped .hdr image created by pflip cannot be correctly displayed in PhotosphereU application on Mac system. What is shown in PhotosphereU is still the original one before flipping. However, the flipped image can be correctly displayed in Photoshop. I'm not sure if there's something wrong with my Mac system because the flipped .hdr image can't be properly previewed either... 
>> 
>> Please kindly advise!
>> 
>> The original hdr image:
>> https://sites.google.com/site/episodehopezh/files/original.hdr?attredirects=0&d=1
>> 
>> The flipped hdr image:
>> https://sites.google.com/site/episodehopezh/files/flipped.hdr?attredirects=0&d=1
>> 
>> 
>> - Cheers, Ji
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120519/bd5b7ecb/attachment.html>

From paupelinhuchard at gmail.com  Sat May 19 15:24:43 2012
From: paupelinhuchard at gmail.com (paupelinhuchard at gmail.com)
Date: Sat, 19 May 2012 22:24:43 +0000
Subject: [Radiance-general] RE : Radiance-general Digest, Vol 99, Issue 20
Message-ID: <4fb81dac.04cae00a.13fb.3270@mx.google.com>

Merci de me tenir au courant.

----------
Valere PAUPELIN-HUCHARD

------Message original------
De : <radiance-general-request at radiance-online.org>
To: <radiance-general at radiance-online.org>
Date: samedi 19 mai 2012 12:00:00 GMT-0700
Subject: Radiance-general Digest, Vol 99, Issue 20

Send Radiance-general mailing list submissions to
	radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request at radiance-online.org

You can reach the person managing the list at
	radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: how to pipe the output of pcompos as input	for pflip
      (Ji Zhang)
   2. Re: how to pipe the output of pcompos as input	for pflip
      (Greg Ward)
   3. Re: how to pipe the output of pcompos as input	for pflip
      (Ji ZHANG)


----------------------------------------------------------------------

Message: 1
Date: Sat, 19 May 2012 04:41:31 +0800
From: Ji Zhang <hope.zh at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] how to pipe the output of pcompos as
	input	for pflip
Message-ID:
	<CAD83LVKhwpoLd-x+w8zo8xqTyC3hEcNGgPHFSn6A=f2DQ+wkeA at mail.gmail.com>
Content-Type: text/plain; charset="iso-8859-1"

Thanks, Greg and Tim!

Can you kindly explain the "reversing the order of operation" approach? Do
you mean flipping the image first before cropping it?

BTW, it seems that the horizontally flipped .hdr image created by pflip
cannot be correctly displayed in PhotosphereU application on Mac system.
What is shown in PhotosphereU is still the original one before flipping.
However, the flipped image can be correctly displayed in Photoshop. I'm not
sure if there's something wrong with my Mac system because the flipped .hdr
image can't be properly previewed either...

Please kindly advise!

The original hdr image:
https://sites.google.com/site/episodehopezh/files/original.hdr?attredirects=0&d=1

The flipped hdr image:
https://sites.google.com/site/episodehopezh/files/flipped.hdr?attredirects=0&d=1


- Cheers, Ji



On Fri, May 18, 2012 at 5:14 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> The C file goes in src/px -- if you didn't compile Radiance, though, it
> won't do you much good.
>
> Tim's idea of reversing the order of operations should work, since
> falsecolor can read from a pipe.  Or, you could create a temporary file and
> use the version of pflip you have.
>
> -Greg
>
>
> *From: *Tim Perry <tim.v2.0 at gmail.com>
>
> *Date: *May 17, 2012 12:59:48 PM PDT
>
> *
> *
>
> Ji,
>
> what if you just reverse the order of the two operations?
>
> Tim
>
>
> On Thu, May 17, 2012 at 12:13 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Dear Greg, thank you very much!
>>
>> I've got the C file you sent. However, I have no experience in C
>> programming. So, can you kindly advise me how should I "compile" or "do
>> with" it?
>>
>> What I want to do is to get a falsecolor sky radiance fisheye image and
>> map it back to a virtual sky dome. See the link below:
>>
>> http://diva4rhino.com/forum/topics/gendaylit-in-diva-2-0-seriously-underesitmates-total-irradiation
>>
>> Since the falsecolor image I generated from falsecolor2.exe is one with
>> East and West switched, I need to crop it to get ride of the color legend
>> and flip horizontally it so that East and West are correctly visualized.
>>
>> Thanks again!
>>
>> - Ji
>>
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120519/c549a396/attachment-0001.html>

------------------------------

Message: 2
Date: Fri, 18 May 2012 15:43:56 -0700
From: Greg Ward <gregoryjward at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] how to pipe the output of pcompos as
	input	for pflip
Message-ID: <E017553E-ECD3-4E4F-8F7E-CF36435C1D3C at lmi.net>
Content-Type: text/plain; charset="us-ascii"

Yes, we meant flipping the image horizontally before running falsecolor.  This should also fix the issue with Photosphere.

I made the design decision to correct image orientations in Photosphere based on the input.  Use the -c option of pflip if you don't want this to occur.

Best,
-Greg

> From: Ji Zhang <hope.zh at gmail.com>
> Date: May 18, 2012 1:41:31 PM PDT
> 
> Thanks, Greg and Tim! 
> 
> Can you kindly explain the "reversing the order of operation" approach? Do you mean flipping the image first before cropping it?
> 
> BTW, it seems that the horizontally flipped .hdr image created by pflip cannot be correctly displayed in PhotosphereU application on Mac system. What is shown in PhotosphereU is still the original one before flipping. However, the flipped image can be correctly displayed in Photoshop. I'm not sure if there's something wrong with my Mac system because the flipped .hdr image can't be properly previewed either... 
> 
> Please kindly advise!
> 
> The original hdr image:
> https://sites.google.com/site/episodehopezh/files/original.hdr?attredirects=0&d=1
> 
> The flipped hdr image:
> https://sites.google.com/site/episodehopezh/files/flipped.hdr?attredirects=0&d=1
> 
> 
> - Cheers, Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120518/4f54ec37/attachment-0001.html>

------------------------------

Message: 3
Date: Sat, 19 May 2012 11:57:53 +0800
From: Ji ZHANG <hope.zh at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] how to pipe the output of pcompos as
	input	for pflip
Message-ID: <109FDB8C-C70D-4829-B14B-7243B7C218E2 at gmail.com>
Content-Type: text/plain; charset="us-ascii"

Noted with thanks, Greg! Will try accordingly later. - Cheers, Ji



On 19 May, 2012, at 6:43 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Yes, we meant flipping the image horizontally before running falsecolor.  This should also fix the issue with Photosphere.
> 
> I made the design decision to correct image orientations in Photosphere based on the input.  Use the -c option of pflip if you don't want this to occur.
> 
> Best,
> -Greg
> 
>> From: Ji Zhang <hope.zh at gmail.com>
>> Date: May 18, 2012 1:41:31 PM PDT
>> 
>> Thanks, Greg and Tim! 
>> 
>> Can you kindly explain the "reversing the order of operation" approach? Do you mean flipping the image first before cropping it?
>> 
>> BTW, it seems that the horizontally flipped .hdr image created by pflip cannot be correctly displayed in PhotosphereU application on Mac system. What is shown in PhotosphereU is still the original one before flipping. However, the flipped image can be correctly displayed in Photoshop. I'm not sure if there's something wrong with my Mac system because the flipped .hdr image can't be properly previewed either... 
>> 
>> Please kindly advise!
>> 
>> The original hdr image:
>> https://sites.google.com/site/episodehopezh/files/original.hdr?attredirects=0&d=1
>> 
>> The flipped hdr image:
>> https://sites.google.com/site/episodehopezh/files/flipped.hdr?attredirects=0&d=1
>> 
>> 
>> - Cheers, Ji
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120519/bd5b7ecb/attachment-0001.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 99, Issue 20
************************************************



From hope.zh at gmail.com  Sun May 20 03:43:50 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Sun, 20 May 2012 18:43:50 +0800
Subject: [Radiance-general] can we refer to two sky description files in
	oconv?
Message-ID: <CAD83LVL3HwWgeEwkgHEubB7cHV_bvKQh--LgHOSRPGsbtqY+YA@mail.gmail.com>

Hi, list,

May I ask if we can merge two skies through one oconv command?

The irradiance value for an unobstructed upward sensor I get from referring
2 sky files in oconv is different from the sum of the two irradiance
values, each of them obtained by referring to just one sky file at a time
...


The problem is described below:

1). I have the following two sky description files:

"sky_12.sky":
# gendaylit 6 22 12 -a 51.15 -o 0.18 -m 0 -W 248.0 427.0 -O 1
# Ground ambient level: 129.0
void light solar
0
0
3 3.649e+06 3.649e+06 3.649e+06
solar source sun
0
0
4 0.009337 -0.464787 0.885373 0.533000
void brightfunc skyfunc
2 skybright perezlum.cal
0
10 6.250e+01 3.978e+01 -0.842096 -1.184194 10.982493 -3.062295 0.268820
0.009337 -0.464787 0.885373
skyfunc glow sky_glow
0
0
4 1 1 1 0
sky_glow source sky
0
0
4 0 0 1 180

"sky_13.sky":
# gendaylit 6 22 13 -a 51.15 -o 0.18 -m 0 -W 250.0 428.0 -O 1
# Ground ambient level: 129.7
void light solar
0
0
3 3.678e+06 3.678e+06 3.678e+06
solar source sun
0
0
4 -0.228410 -0.442326 0.867281 0.533000
void brightfunc skyfunc
2 skybright perezlum.cal
0
10 6.393e+01 3.975e+01 -0.856480 -1.207987 10.711184 -3.050613 0.255098
-0.228410 -0.442326 0.867281
skyfunc glow sky_glow
0
0
4 1 1 1 0
sky_glow source sky
0
0
4 0 0 1 180

2). I run the following shell script and get a irradiance value of  *859.8564
(Wh/m^2)*

"autorun.sh":
oconv ./sky_12.sky ./sky_13.sky > ./sky_12_13.oct
echo '0 0 0 0 0 1' | rtrace -w -h -I+ -ab 1 ./sky_12_13.oct | rcalc -e
'$1=$1*0.265+$2*0.670+$3*0.065' > ./results_12_13.txt

Windows version of the script autorun.bat is:
oconv ./sky_12.sky ./sky_13.sky > ./sky_12_13.oct
echo 0 0 0 0 0 1 | rtrace -w -h -I+ -ab 1 ./sky_12_13.oct | rcalc -e
"$1=$1*0.265+$2*0.670+$3*0.065" > ./results_12_13.txt

3). However, if I do the same by using one sky file at a time I get  *
640.1146* and *640.1624* (Wh/m^2) for sky_12 and sky_13, respectively, and
they're close to the global horizontal radiance in London's weather file
for 22 Jun 12pm and 13pm. The sum of the these two values, which is
around *1280
(Wh/m^2)*, is not equal to the one mentioned above that is obtained by
using the two sky files together in oconv...


Dose this mean that only one sky description is allowed in oconv?  If
that's the case then why the value shown in 2) is not close to either of
the values shown in 3)?

Advises are appreciated!

- Cheers, Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120520/ffb1a1bf/attachment.html>

From antonutto at yahoo.it  Sun May 20 04:22:51 2012
From: antonutto at yahoo.it (giulio antonutto)
Date: Sun, 20 May 2012 12:22:51 +0100
Subject: [Radiance-general] can we refer to two sky description files in
	oconv?
In-Reply-To: <CAD83LVL3HwWgeEwkgHEubB7cHV_bvKQh--LgHOSRPGsbtqY+YA@mail.gmail.com>
References: <CAD83LVL3HwWgeEwkgHEubB7cHV_bvKQh--LgHOSRPGsbtqY+YA@mail.gmail.com>
Message-ID: <625ABAF9-583E-4A5A-9018-272A7B0FAE4B@yahoo.it>

I think you get two suns but one sky. Not sure which one of the two. Suspect the one listed last in the octree.
if you want to cumulate sky contributions you need to add images of each sky together and map them back in a new scene with brightfunc and glow.
The process may look something like this:

rpict -w- -x 256 -y 256 -vta -vh 180 -vv 180 -vd 0 0 1 -vu 0 1 0 -ps 1 model1.oct  > yoursky1.pic
rpict -w- -x 256 -y 256 -vta -vh 180 -vv 180 -vd 0 0 1 -vu 0 1 0 -ps 1 model2.oct  > yoursky2.pic
pcomb yoursky1.pic yoursky2.pic > yoursky.pic

and then back in a new radiance scene, like this

void colorpict dist 
11 noop noop noop yoursky.pic fisheye.cal fish_u fish_v -rx 90 -rz 90 
0                     
0                     
dist glow skyglow     
0                     
0                     
4 1 1 1 0             
skyglow source sky    
0                     
0                     
4 0 0 1 180           

Please check it works and debug as appropriate.
It has been some time I have run this? and I do not recall why rx and ry, but probably has to do with the fisheye.cal. 
Not sure.

Nowadays I would suggest using rtcontrib as it does the same and much more...
Good luck,
G



On 20 May 2012, at 11:43, Ji Zhang wrote:

> Hi, list,
> 
> May I ask if we can merge two skies through one oconv command? 
> 
> The irradiance value for an unobstructed upward sensor I get from referring 2 sky files in oconv is different from the sum of the two irradiance values, each of them obtained by referring to just one sky file at a time ... 
> 
> 
> The problem is described below:
> 
> 1). I have the following two sky description files:
> 
> "sky_12.sky":
> # gendaylit 6 22 12 -a 51.15 -o 0.18 -m 0 -W 248.0 427.0 -O 1
> # Ground ambient level: 129.0
> void light solar
> 0
> 0
> 3 3.649e+06 3.649e+06 3.649e+06
> solar source sun
> 0
> 0
> 4 0.009337 -0.464787 0.885373 0.533000
> void brightfunc skyfunc
> 2 skybright perezlum.cal
> 0
> 10 6.250e+01 3.978e+01 -0.842096 -1.184194 10.982493 -3.062295 0.268820 0.009337 -0.464787 0.885373 
> skyfunc glow sky_glow
> 0
> 0
> 4 1 1 1 0
> sky_glow source sky
> 0
> 0
> 4 0 0 1 180
> 
> "sky_13.sky":
> # gendaylit 6 22 13 -a 51.15 -o 0.18 -m 0 -W 250.0 428.0 -O 1
> # Ground ambient level: 129.7
> void light solar
> 0
> 0
> 3 3.678e+06 3.678e+06 3.678e+06
> solar source sun
> 0
> 0
> 4 -0.228410 -0.442326 0.867281 0.533000
> void brightfunc skyfunc
> 2 skybright perezlum.cal
> 0
> 10 6.393e+01 3.975e+01 -0.856480 -1.207987 10.711184 -3.050613 0.255098 -0.228410 -0.442326 0.867281 
> skyfunc glow sky_glow
> 0
> 0
> 4 1 1 1 0
> sky_glow source sky
> 0
> 0
> 4 0 0 1 180
> 
> 2). I run the following shell script and get a irradiance value of  859.8564 (Wh/m^2)
> 
> "autorun.sh": 
> oconv ./sky_12.sky ./sky_13.sky > ./sky_12_13.oct
> echo '0 0 0 0 0 1' | rtrace -w -h -I+ -ab 1 ./sky_12_13.oct | rcalc -e '$1=$1*0.265+$2*0.670+$3*0.065' > ./results_12_13.txt
> 
> Windows version of the script autorun.bat is:
> oconv ./sky_12.sky ./sky_13.sky > ./sky_12_13.oct
> echo 0 0 0 0 0 1 | rtrace -w -h -I+ -ab 1 ./sky_12_13.oct | rcalc -e "$1=$1*0.265+$2*0.670+$3*0.065" > ./results_12_13.txt
> 
> 3). However, if I do the same by using one sky file at a time I get  640.1146 and 640.1624 (Wh/m^2) for sky_12 and sky_13, respectively, and they're close to the global horizontal radiance in London's weather file for 22 Jun 12pm and 13pm. The sum of the these two values, which is around 1280 (Wh/m^2), is not equal to the one mentioned above that is obtained by using the two sky files together in oconv... 
> 
> 
> Dose this mean that only one sky description is allowed in oconv?  If that's the case then why the value shown in 2) is not close to either of the values shown in 3)? 
> 
> Advises are appreciated! 
> 
> - Cheers, Ji
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120520/35c79c17/attachment-0001.html>

From kirankumar.devs at gmail.com  Mon May 21 23:59:07 2012
From: kirankumar.devs at gmail.com (kiran kumar)
Date: Tue, 22 May 2012 12:29:07 +0530
Subject: [Radiance-general] Daylight Autonomy
Message-ID: <CADqHanXYrk5vqH+hGoGtt28Y3ft_Nn0F6kGrJLpzE2Ho3N7h3w@mail.gmail.com>

Dear All,

Could anyone please let me know how to calculate Daylight Autonomy (DA)
after modelling in Autodesk Ecotect Analysis tool?

Thanks in advance,
-- 
D E V S Kiran Kumar
Research Associate
Sustainable Habitat Division
The Energy and Resources Institute (TERI)
Mobile: +91 9886228116
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/7cca476a/attachment.html>

From nynassif at gmail.com  Tue May 22 01:55:16 2012
From: nynassif at gmail.com (nassif nassif)
Date: Tue, 22 May 2012 10:55:16 +0200
Subject: [Radiance-general] rtcontrib works with trans materials?
Message-ID: <CAOQvQdmXS8n5Fw_qLv2E5rVXOGfSBEefz8N1whM-cZe99Vj7Tg@mail.gmail.com>

Hallo there,

Ok, as the others, I am not professional yet using radiance and now I am
facing problems running dds
command. The problem arises using trans materials. I was trying to solve my
problems using a simple
room with one window as trans.

rtcontrib works seemingly fine with glass material, but with trans material
shows not convincing results.
even if I change the trans parameters, and I am ending up with same results
with different material
parameters.

i am using -ad 8192 -lw 2e-12.

Kindly advise,

nass

-- 
*N.Nassif

Lighting Designer***
*PLDA Member

Neue Str. 55
21073, Hamburg
Deutschland

+49 162 6050060
nynassif at gmail.com*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/b1e7765d/attachment.html>

From sadeghipour at gmail.com  Tue May 22 06:07:38 2012
From: sadeghipour at gmail.com (Mostapha Sadeghipour)
Date: Tue, 22 May 2012 08:07:38 -0500
Subject: [Radiance-general] Daylight Autonomy
In-Reply-To: <CADqHanXYrk5vqH+hGoGtt28Y3ft_Nn0F6kGrJLpzE2Ho3N7h3w@mail.gmail.com>
References: <CADqHanXYrk5vqH+hGoGtt28Y3ft_Nn0F6kGrJLpzE2Ho3N7h3w@mail.gmail.com>
Message-ID: <CAAd_PgRy-Psn9=ww8YN=kRbsN6MXe5_3wg4GRj9SF+JBiJAn=Q@mail.gmail.com>

Kiran,

Did you read "Daylighting Analysis in Ecotect/Radiance/Daysim" tutorial in
this page http://www.gsd.harvard.edu/research/gsdsquare/tutorials.html?

It describes how you can run your study in Daysim from Ecotect and read the
result back.

Regards,
Mostapha


On Tue, May 22, 2012 at 1:59 AM, kiran kumar <kirankumar.devs at gmail.com>wrote:

> Dear All,
>
> Could anyone please let me know how to calculate Daylight Autonomy (DA)
> after modelling in Autodesk Ecotect Analysis tool?
>
> Thanks in advance,
> --
> D E V S Kiran Kumar
> Research Associate
> Sustainable Habitat Division
> The Energy and Resources Institute (TERI)
> Mobile: +91 9886228116
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/0aa6c302/attachment.html>

From tbleicher at googlemail.com  Tue May 22 06:45:59 2012
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Tue, 22 May 2012 08:45:59 -0500
Subject: [Radiance-general] rtcontrib works with trans materials?
In-Reply-To: <CAOQvQdmXS8n5Fw_qLv2E5rVXOGfSBEefz8N1whM-cZe99Vj7Tg@mail.gmail.com>
References: <CAOQvQdmXS8n5Fw_qLv2E5rVXOGfSBEefz8N1whM-cZe99Vj7Tg@mail.gmail.com>
Message-ID: <CAKGV-k2pwUPpa7kfnPpOC7HSursKSax=5EsF2_cCckWvNAitpA@mail.gmail.com>

With trans materials you have to increase the -ab value beyond the default
which is not necessary for glass. You can start with -ab 1 to get the same
starting point as with the glass scene but I expect you should increase
that depending on your scene complexity.

Thomas

On Tue, May 22, 2012 at 3:55 AM, nassif nassif <nynassif at gmail.com> wrote:

> Hallo there,
>
> Ok, as the others, I am not professional yet using radiance and now I am
> facing problems running dds
> command. The problem arises using trans materials. I was trying to solve
> my problems using a simple
> room with one window as trans.
>
> rtcontrib works seemingly fine with glass material, but with trans
> material shows not convincing results.
> even if I change the trans parameters, and I am ending up with same
> results with different material
> parameters.
>
> i am using -ad 8192 -lw 2e-12.
>
> Kindly advise,
>
> nass
>
> --
> *N.Nassif
>
> Lighting Designer***
> *PLDA Member
>
> Neue Str. 55
> 21073, Hamburg
> Deutschland
>
> +49 162 6050060
> nynassif at gmail.com*
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/231e3dcf/attachment.html>

From nagtive at 163.com  Tue May 22 06:50:09 2012
From: nagtive at 163.com (yaojian)
Date: Tue, 22 May 2012 21:50:09 +0800 (CST)
Subject: [Radiance-general] DGP dgi and ugr are "-1.#IND00"
Message-ID: <25f19ec0.304e6.13774cfdebe.Coremail.nagtive@163.com>

Dear Radiance experts,
    I used evalglare to calculate GP dgi and ugr. However, the output results are "-1.#IND00". 
   Does anyone know what's the problem. Thank you very much in advance.

Jian



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/09005ac8/attachment.html>

From jan.wienold at ise.fraunhofer.de  Tue May 22 07:01:47 2012
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Tue, 22 May 2012 16:01:47 +0200
Subject: [Radiance-general] DGP dgi and ugr are "-1.#IND00"
In-Reply-To: <25f19ec0.304e6.13774cfdebe.Coremail.nagtive@163.com>
References: <25f19ec0.304e6.13774cfdebe.Coremail.nagtive@163.com>
Message-ID: <4FBB9C4B.2070403@ise.fraunhofer.de>

Dear Jian,

there could be many reasons, you should post a little bit more details 
(use evalglare with "-c testfile"  and then afterwards "getinfo 
testfile" and post the header).
be sure that you use the latest evalglare version (1.04), the were some 
memory errors in the previous version 1.0.
you can check your version by evalglare -v.

Jan

On 05/22/2012 03:50 PM, yaojian wrote:
> /Dear Radiance experts,
>      I used evalglare to calculate//GP dgi and ugr. However, the//output results are "-1.#IND00".
>     Does anyone know what's the problem. Thank you very much in advance.
>
> Jian
> /
>
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office:
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/8a6d09b9/attachment-0001.html>

From nagtive at 163.com  Tue May 22 07:20:44 2012
From: nagtive at 163.com (yaojian)
Date: Tue, 22 May 2012 22:20:44 +0800 (CST)
Subject: [Radiance-general] DGP dgi and ugr are "-1.#IND00"
In-Reply-To: <4FBB9C4B.2070403@ise.fraunhofer.de>
References: <25f19ec0.304e6.13774cfdebe.Coremail.nagtive@163.com>
	<4FBB9C4B.2070403@ise.fraunhofer.de>
Message-ID: <1fa15f01.30d11.13774ebe004.Coremail.nagtive@163.com>

Dear Jan,

the header is:
test2-14.pic:
#?RADIANCE
CAPDATE= 2012:05:19 23:15:40
evalglare evalglare -c -c test2-14.pic test2-14.pic -T -T 400 400 280 280 0.2 0.2 rcp_c1-14.pic rcp_c1-14.pic
evalglare 1.04 release 23.04.2012 by Fraunhofer ISE, J.Wienold
VIEW= -vth -vp 1.1 2.8 1.1 -vd -0.707107 -0.707107 0 -vu 0 0 1 -vh 180 -vv 180 -vo 0 -va 0 -vs 0 -vl 0
FORMAT=32-bit_rle_rgbe


and the output result is:
dgp,dgi,ugr,vcp,cgi,Lveil: -1.#IND00 -1.#IND00 -1.#IND00 -1.#IND00 -1.#IND00 -1.
#IND00


The above  rcp_c1-14.pic is generated by Radiance. 
Thank you.


Jian


At 2012-05-22 22:01:47,"Jan Wienold" <jan.wienold at ise.fraunhofer.de> wrote:
Dear Jian,

there could be many reasons, you should post a little bit more details (use evalglare with "-c testfile"  and then afterwards "getinfo testfile" and post the header).
be sure that you use the latest evalglare version (1.04), the were some memory errors in the previous version 1.0.
you can check your version by evalglare -v.

Jan

On 05/22/2012 03:50 PM, yaojian wrote:
Dear Radiance experts,
    I used evalglare to calculate GP dgi and ugr. However, the output results are "-1.#IND00". 
   Does anyone know what's the problem. Thank you very much in advance.

Jian









_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general



-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.dehttp://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/93287f7c/attachment.html>

From jan.wienold at ise.fraunhofer.de  Tue May 22 07:43:57 2012
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Tue, 22 May 2012 16:43:57 +0200
Subject: [Radiance-general] DGP dgi and ugr are "-1.#IND00"
In-Reply-To: <1fa15f01.30d11.13774ebe004.Coremail.nagtive@163.com>
References: <25f19ec0.304e6.13774cfdebe.Coremail.nagtive@163.com>
	<4FBB9C4B.2070403@ise.fraunhofer.de>
	<1fa15f01.30d11.13774ebe004.Coremail.nagtive@163.com>
Message-ID: <4FBBA62D.3040306@ise.fraunhofer.de>

Dear Jian,

I never had this before, but the command line expression in the header 
looks a little strange. But difficult to say without knowing the image.

Could you send me the image-file (or another one with the same behavior) 
directly to my email address jan.wienold at ise.fraunhofer.de - then I can 
make some tests and will post the results again on the list.

Jan

p.s. from tomorrow I will bike in the alps, I have no access to email 
(or only limited)

On 05/22/2012 04:20 PM, yaojian wrote:
> Dear Jan,
> the header is:
> test2-14.pic:
> #?RADIANCE
> CAPDATE= 2012:05:19 23:15:40
> evalglare evalglare -c -c test2-14.pic test2-14.pic -T -T 400 400 280 
> 280 0.2 0.2 rcp_c1-14.pic rcp_c1-14.pic
> evalglare 1.04 release 23.04.2012 by Fraunhofer ISE, J.Wienold
> VIEW= -vth -vp 1.1 2.8 1.1 -vd -0.707107 -0.707107 0 -vu 0 0 1 -vh 180 
> -vv 180 -vo 0 -va 0 -vs 0 -vl 0
> FORMAT=32-bit_rle_rgbe
>
> and the output result is:
> dgp,dgi,ugr,vcp,cgi,Lveil: -1.#IND00 -1.#IND00 -1.#IND00 -1.#IND00 
> -1.#IND00 -1.
> #IND00
>
> The above  rcp_c1-14.pic is generated by Radiance.
> Thank you.
>
> Jian
>
> At 2012-05-22 22:01:47,"Jan Wienold" <jan.wienold at ise.fraunhofer.de> 
> wrote:
>
>     Dear Jian,
>
>     there could be many reasons, you should post a little bit more
>     details (use evalglare with "-c testfile"  and then afterwards
>     "getinfo testfile" and post the header).
>     be sure that you use the latest evalglare version (1.04), the were
>     some memory errors in the previous version 1.0.
>     you can check your version by evalglare -v.
>
>     Jan
>
>     On 05/22/2012 03:50 PM, yaojian wrote:
>>     /Dear Radiance experts,
>>          I used evalglare to calculate//GP dgi and ugr. However, the//output results are "-1.#IND00".
>>         Does anyone know what's the problem. Thank you very much in advance.
>>
>>     Jian
>>     /
>>
>>
>>
>>
>>
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>     -- 
>     Dr.-Ing. Jan Wienold
>     Head of Team Passive Systems and Daylighting
>     Fraunhofer-Institut f?r Solare Energiesysteme
>     Thermal Systems and Buildings
>     Heidenhofstr. 2, 79110 Freiburg, Germany
>     Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
>     jan.wienold at ise.fraunhofer.de
>     http://www.ise.fraunhofer.de
>
>     In office:
>     Mo,Tue: 8:30-18:00
>     We,Thu: 8:30-16:00
>     Fr:  8:30-15:30
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office:
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/89e705ca/attachment.html>

From jan.wienold at ise.fraunhofer.de  Tue May 22 09:28:49 2012
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Tue, 22 May 2012 18:28:49 +0200
Subject: [Radiance-general] DGP dgi and ugr are "-1.#IND00"
In-Reply-To: <1fa15f01.30d11.13774ebe004.Coremail.nagtive@163.com>
References: <25f19ec0.304e6.13774cfdebe.Coremail.nagtive@163.com>
	<4FBB9C4B.2070403@ise.fraunhofer.de>
	<1fa15f01.30d11.13774ebe004.Coremail.nagtive@163.com>
Message-ID: <4FBBBEC1.6070701@ise.fraunhofer.de>

Dear Jian,

it seems that the luminance values are very high (Ev>33000lux)  and that 
there are some overflows of variables internally. I found no solution 
quickly, the only thing I found was using the old 0.9f version + vta 
doesn't show this behaviour.
I will have a look at this next week when I'm back in office.

Jan


On 05/22/2012 04:20 PM, yaojian wrote:
> Dear Jan,
> the header is:
> test2-14.pic:
> #?RADIANCE
> CAPDATE= 2012:05:19 23:15:40
> evalglare evalglare -c -c test2-14.pic test2-14.pic -T -T 400 400 280 
> 280 0.2 0.2 rcp_c1-14.pic rcp_c1-14.pic
> evalglare 1.04 release 23.04.2012 by Fraunhofer ISE, J.Wienold
> VIEW= -vth -vp 1.1 2.8 1.1 -vd -0.707107 -0.707107 0 -vu 0 0 1 -vh 180 
> -vv 180 -vo 0 -va 0 -vs 0 -vl 0
> FORMAT=32-bit_rle_rgbe
>
> and the output result is:
> dgp,dgi,ugr,vcp,cgi,Lveil: -1.#IND00 -1.#IND00 -1.#IND00 -1.#IND00 
> -1.#IND00 -1.
> #IND00
>
> The above  rcp_c1-14.pic is generated by Radiance.
> Thank you.
>
> Jian
>
> At 2012-05-22 22:01:47,"Jan Wienold" <jan.wienold at ise.fraunhofer.de> 
> wrote:
>
>     Dear Jian,
>
>     there could be many reasons, you should post a little bit more
>     details (use evalglare with "-c testfile"  and then afterwards
>     "getinfo testfile" and post the header).
>     be sure that you use the latest evalglare version (1.04), the were
>     some memory errors in the previous version 1.0.
>     you can check your version by evalglare -v.
>
>     Jan
>
>     On 05/22/2012 03:50 PM, yaojian wrote:
>>     /Dear Radiance experts,
>>          I used evalglare to calculate//GP dgi and ugr. However, the//output results are "-1.#IND00".
>>         Does anyone know what's the problem. Thank you very much in advance.
>>
>>     Jian
>>     /
>>
>>
>>
>>
>>
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>     -- 
>     Dr.-Ing. Jan Wienold
>     Head of Team Passive Systems and Daylighting
>     Fraunhofer-Institut f?r Solare Energiesysteme
>     Thermal Systems and Buildings
>     Heidenhofstr. 2, 79110 Freiburg, Germany
>     Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
>     jan.wienold at ise.fraunhofer.de
>     http://www.ise.fraunhofer.de
>
>     In office:
>     Mo,Tue: 8:30-18:00
>     We,Thu: 8:30-16:00
>     Fr:  8:30-15:30
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office:
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120522/663664c5/attachment-0001.html>

From nagtive at 163.com  Wed May 23 05:08:19 2012
From: nagtive at 163.com (yaojian)
Date: Wed, 23 May 2012 20:08:19 +0800 (CST)
Subject: [Radiance-general] DGP dgi and ugr are "-1.#IND00"
In-Reply-To: <4FBBBEC1.6070701@ise.fraunhofer.de>
References: <25f19ec0.304e6.13774cfdebe.Coremail.nagtive@163.com>
	<4FBB9C4B.2070403@ise.fraunhofer.de>
	<1fa15f01.30d11.13774ebe004.Coremail.nagtive@163.com>
	<4FBBBEC1.6070701@ise.fraunhofer.de>
Message-ID: <4241a70d.ddd3.13779990108.Coremail.nagtive@163.com>

Dear Jan,

Would you please send me a copy of the old 0.9f version. Thank you.


Jian




At 2012-05-23 00:28:49,"Jan Wienold" <jan.wienold at ise.fraunhofer.de> wrote:
Dear Jian,

it seems that the luminance values are very high (Ev>33000lux)  and that there are some overflows of variables internally. I found no solution quickly, the only thing I found was using the old 0.9f version + vta doesn't show this behaviour.
I will have a look at this next week when I'm back in office.

Jan


On 05/22/2012 04:20 PM, yaojian wrote:
Dear Jan,

the header is:
test2-14.pic:
#?RADIANCE
CAPDATE= 2012:05:19 23:15:40
evalglare evalglare -c -c test2-14.pic test2-14.pic -T -T 400 400 280 280 0.2 0.2 rcp_c1-14.pic rcp_c1-14.pic
evalglare 1.04 release 23.04.2012 by Fraunhofer ISE, J.Wienold
VIEW= -vth -vp 1.1 2.8 1.1 -vd -0.707107 -0.707107 0 -vu 0 0 1 -vh 180 -vv 180 -vo 0 -va 0 -vs 0 -vl 0
FORMAT=32-bit_rle_rgbe


and the output result is:
dgp,dgi,ugr,vcp,cgi,Lveil: -1.#IND00 -1.#IND00 -1.#IND00 -1.#IND00 -1.#IND00 -1.
#IND00


The above  rcp_c1-14.pic is generated by Radiance. 
Thank you.


Jian


At 2012-05-22 22:01:47,"Jan Wienold" <jan.wienold at ise.fraunhofer.de> wrote:
Dear Jian,

there could be many reasons, you should post a little bit more details (use evalglare with "-c testfile"  and then afterwards "getinfo testfile" and post the header).
be sure that you use the latest evalglare version (1.04), the were some memory errors in the previous version 1.0.
you can check your version by evalglare -v.

Jan

On 05/22/2012 03:50 PM, yaojian wrote:
Dear Radiance experts,
    I used evalglare to calculate GP dgi and ugr. However, the output results are "-1.#IND00". 
   Does anyone know what's the problem. Thank you very much in advance.

Jian









_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general



-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.dehttp://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30






_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general



-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.dehttp://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120523/a9db5cea/attachment.html>

From gbetti at fosterandpartners.com  Wed May 23 08:50:40 2012
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Wed, 23 May 2012 16:50:40 +0100
Subject: [Radiance-general] running radiance on multiple cores
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>

Dear List,

 

I am running into some issues while running radiance on multiple cores.

I have radiance running on a Linux virtual machine and I am using the
rad -N option.

Sometimes though, I happen to notice in the final image tiles of varying
brightness or even misplaced tiles.

I thought it had to do with poor synchronization because of reading and
writing on the network, but it seem to happen also when I have all the
files on my local drive.

Has anyone run into a similar problem and/or knows a solution for it?

 

Thanks in advance,

 

Giovanni

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120523/d7666841/attachment.html>

From gregoryjward at gmail.com  Wed May 23 09:15:36 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 23 May 2012 09:15:36 -0700
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>

Some people have complained about misplaced or incomplete tiles using rpiece, but I haven't been able to reproduce or find the problem.

As for varying tile brightness, this is usually caused by forgetting to specify an ambient file (rad AMBFILE variable), causing redundant and wasteful as well as inconsistent calculations.

-Greg

> From: "Giovanni Betti" <gbetti at fosterandpartners.com>
> Date: May 23, 2012 8:50:40 AM PDT
> 
> Dear List,
>  
> I am running into some issues while running radiance on multiple cores.
> I have radiance running on a Linux virtual machine and I am using the rad ?N option.
> Sometimes though, I happen to notice in the final image tiles of varying brightness or even misplaced tiles.
> I thought it had to do with poor synchronization because of reading and writing on the network, but it seem to happen also when I have all the files on my local drive.
> Has anyone run into a similar problem and/or knows a solution for it?
>  
> Thanks in advance,
>  
> Giovanni


From antonutto at yahoo.it  Wed May 23 13:38:29 2012
From: antonutto at yahoo.it (giulio antonutto)
Date: Wed, 23 May 2012 21:38:29 +0100
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <64571A3C-B602-43AE-AF2D-E69E56B2C5F7@yahoo.it>

See this before, many times.
It seems to be related to the machine being under pressure and not able to cope with the synch.
So my suggestion is not to run too many things at the same time and modulate the machine workload.
Alternatively you should look into splitting rpict with vwrays. You should be able to easily split images in tiles and render them and assemble in the end.
This would avoid synch issue as you would be doing the synch in the end manually.

One of the tricks that I have been using, unless you have -aa 0, is to render the same thing with an ambient file in many processes at the same time.
It seems (and it has been proven with practise) to help the rendering to come out faster.
So nothing difficult, you need just to launch the same rendering over each core, share the ambient file and retain just 1 image and trash the others.
Simple and effective.
:-)

G


On 23 May 2012, at 16:50, Giovanni Betti wrote:

> happen

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120523/63e142ee/attachment.html>

From jedev at visarc.com  Wed May 23 13:47:36 2012
From: jedev at visarc.com (Jack de Valpine)
Date: Wed, 23 May 2012 16:47:36 -0400
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <64571A3C-B602-43AE-AF2D-E69E56B2C5F7@yahoo.it>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
	<64571A3C-B602-43AE-AF2D-E69E56B2C5F7@yahoo.it>
Message-ID: <4FBD4CE8.4000503@visarc.com>

I have had this problem (tiles getting written to the wrong xy image 
location) as well and tried to track down the issue to little avail. I 
think the easiest thing to do is render separate tiles and assemble as a 
post process. I think that this is also actually preferable at least 
from the standpoint of file locking over a network. Probably a variety 
of ways to do this.

I have not tried Giulio's trick with the populating the ambient cache, I 
would like to give it a try if I get a chance. Typically I have run one 
process to populate the ambient cache before distributing the tiles.

-Jack

See this before, many times.
> It seems to be related to the machine being under pressure and not 
> able to cope with the synch.
> So my suggestion is not to run too many things at the same time and 
> modulate the machine workload.
> Alternatively you should look into splitting rpict with vwrays. You 
> should be able to easily split images in tiles and render them and 
> assemble in the end.
> This would avoid synch issue as you would be doing the synch in the 
> end manually.
>
> One of the tricks that I have been using, unless you have -aa 0, is to 
> render the same thing with an ambient file in many processes at the 
> same time.
> It seems (and it has been proven with practise) to help the rendering 
> to come out faster.
> So nothing difficult, you need just to launch the same rendering over 
> each core, share the ambient file and retain just 1 image and trash 
> the others.
> Simple and effective.
> :-)
>
> G
>
>
> On 23 May 2012, at 16:50, Giovanni Betti wrote:
>
>> happen
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120523/c6f2930a/attachment.html>

From RFritz at lbl.gov  Wed May 23 13:54:22 2012
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed, 23 May 2012 13:54:22 -0700
Subject: [Radiance-general] running radiance on multiple cores
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
Message-ID: <jpjipu$bqr$1@dough.gmane.org>

On 2012-05-23 16:15:36 +0000, Greg Ward said:

> Some people have complained about misplaced or incomplete tiles using 
> rpiece, but I haven't been able to reproduce or find the problem.

The problem seems--I say cautiously--to occur on Linux systems and not 
BSD systems.  I think I'm going to run a test.

Randolph

> As for varying tile brightness, this is usually caused by forgetting to 
> specify an ambient file (rad AMBFILE variable), causing redundant and 
> wasteful as well as inconsistent calculations.
> 
> -Greg
> 
>> From: "Giovanni Betti" 
>> <gbetti at fosterandpartners.com>
>> Date: May 23, 2012 8:50:40 AM PDT
>> 
>> Dear List,
>> 
>> I am running into some issues while running radiance on multiple cores.
>> I have radiance running on a Linux virtual machine and I am using the 
>> rad ?N option.
>> Sometimes though, I happen to notice in the final image tiles of 
>> varying brightness or even misplaced tiles.
>> I thought it had to do with poor synchronization because of reading and 
>> writing on the network, but it seem to happen also when I have all the 
>> files on my local drive.
>> Has anyone run into a similar problem and/or knows a solution for it?
>> 
>> Thanks in advance,
>> 
>> Giovanni


-- 
Randolph M. Fritz




From jedev at visarc.com  Wed May 23 14:01:30 2012
From: jedev at visarc.com (Jack de Valpine)
Date: Wed, 23 May 2012 17:01:30 -0400
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <jpjipu$bqr$1@dough.gmane.org>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
	<jpjipu$bqr$1@dough.gmane.org>
Message-ID: <db25c79a-1ded-4bd6-a7d3-28b379057696@blur>

Unfortunately, I suspect you are correct...

Sent from my Verizon Wireless 4G LTE DROID

-----Original message-----
From: "Randolph M. Fritz" <RFritz at lbl.gov>
To: radiance-general at radiance-online.org
Sent: Wed, May 23, 2012 16:57:02 EDT
Subject: Re: [Radiance-general] running radiance on multiple cores

On 2012-05-23 16:15:36 +0000, Greg Ward said:

> Some people have complained about misplaced or incomplete tiles using 
> rpiece, but I haven't been able to reproduce or find the problem.

The problem seems--I say cautiously--to occur on Linux systems and not 
BSD systems.  I think I'm going to run a test.

Randolph

> As for varying tile brightness, this is usually caused by forgetting to 
> specify an ambient file (rad AMBFILE variable), causing redundant and 
> wasteful as well as inconsistent calculations.
> 
> -Greg
> 
>> From: "Giovanni Betti" 
>> <gbetti at fosterandpartners.com>
>> Date: May 23, 2012 8:50:40 AM PDT
>> 
>> Dear List,
>> 
>> I am running into some issues while running radiance on multiple cores.
>> I have radiance running on a Linux virtual machine and I am using the 
>> rad ?N option.
>> Sometimes though, I happen to notice in the final image tiles of 
>> varying brightness or even misplaced tiles.
>> I thought it had to do with poor synchronization because of reading and 
>> writing on the network, but it seem to happen also when I have all the 
>> files on my local drive.
>> Has anyone run into a similar problem and/or knows a solution for it?
>> 
>> Thanks in advance,
>> 
>> Giovanni


-- 
Randolph M. Fritz



_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120523/abd14b40/attachment.html>

From gregoryjward at gmail.com  Wed May 23 14:16:41 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 23 May 2012 14:16:41 -0700
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <db25c79a-1ded-4bd6-a7d3-28b379057696@blur>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
	<jpjipu$bqr$1@dough.gmane.org>
	<db25c79a-1ded-4bd6-a7d3-28b379057696@blur>
Message-ID: <98DC2369-3B2A-475A-804E-9826BB225725@lmi.net>

Another workaround is to use vwrays and rtrace instead of rpiece, like so:

	set vargs=`rad -s -n -V -v $vw $rif OPTF=render.opt`
	vwrays -ff -x $xr -y $yr $vargs | rtrace -n $nprocs -ffc `vwrays -d -x $xr -y $yr $vargs` @render.opt $octree > render.hdr

The first command sets the view and puts rendering options in a file for rtrace.  The side-effect is that every pixel gets rendered, and of course you will want to run pfilt on the output in most cases.  (You can of course add it to the command with "| pfilt -1 -x /3 -y /3 -r .6" after rtrace.)

-Greg

> From: "Jack de Valpine"<jedev at visarc.com>
> Date: May 23, 2012 2:01:30 PM PDT
> 
> Unfortunately, I suspect you are correct...
> 
> Sent from my Verizon Wireless 4G LTE DROID
> 
> 
> -----Original message-----
> From: "Randolph M. Fritz" <RFritz at lbl.gov>
> To: radiance-general at radiance-online.org
> 
> 
> On 2012-05-23 16:15:36 +0000, Greg Ward said:
> 
> > Some people have complained about misplaced or incomplete tiles using 
> > rpiece, but I haven't been able to reproduce or find the problem.
> 
> The problem seems--I say cautiously--to occur on Linux systems and not 
> BSD systems. I think I'm going to run a test.
> 
> Randolph
> 
> > As for varying tile brightness, this is usually caused by forgetting to 
> > specify an ambient file (rad AMBFILE variable), causing redundant and 
> > wasteful as well as inconsistent calculations.
> > 
> > -Greg
> > 
> >> From: "Giovanni Betti" 
> >> 
> >> Date: May 23, 2012 8:50:40 AM PDT
> >> 
> >> Dear List,
> >> 
> >> I am running into some issues while running radiance on multiple cores.
> >> I have radiance running on a Linux virtual machine and I am using the 
> >> rad ?N option.
> >> Sometimes though, I happen to notice in the final image tiles of 
> >> varying brightness or even misplaced tiles.
> >> I thought it had to do with poor synchronization because of reading and 
> >> writing on the network, but it seem to happen also when I have all the 
> >> files on my local drive.
> >> Has anyone run into a similar problem and/or knows a solution for it?
> >> 
> >> Thanks in advance,
> >> 
> >> Giovanni
> 
> 
> -- 
> Randolph M. Fritz
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120523/68cc2eb1/attachment-0001.html>

From RFritz at lbl.gov  Wed May 23 15:02:46 2012
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed, 23 May 2012 15:02:46 -0700
Subject: [Radiance-general] running radiance on multiple cores
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
	<jpjipu$bqr$1@dough.gmane.org>
	<db25c79a-1ded-4bd6-a7d3-28b379057696@blur>
Message-ID: <jpjmq6$bmd$1@dough.gmane.org>

So much for that hypothesis.

I've just managed to produce versions of the problem on a Linux, a 
FreeBSD, and a Mac OS system. :-(

Same Radiance model and scripts; probably three slightly different 
versions of Radiance.

Randolph

On 2012-05-23 21:01:30 +0000, Jack de Valpine said:

> Unfortunately, I suspect you are correct...
> 
> Sent from my Verizon Wireless 4G LTE DROID
> 
> 
> -----Original message-----
> From: "Randolph M. Fritz" <RFritz at lbl.gov>
> To: radiance-general at radiance-online.org
> Sent: Wed, May 23, 2012 16:57:02 EDT
> Subject: Re: [Radiance-general] running radiance on multiple cores
> 
> On 2012-05-23 16:15:36 +0000, Greg Ward said:
> 
> > Some people have complained about misplaced or incomplete tiles using
> > rpiece, but I haven't been able to reproduce or find the problem.
> 
> The problem seems--I say cautiously--to occur on Linux systems and not
> BSD systems. I think I'm going to run a test.
> 
> Randolph
> 
> > As for varying tile brightness, this is usually caused by forgetting to
> > specify an ambient file (rad AMBFILE variable), causing redundant and
> > wasteful as well as inconsistent calculations.
> >
> > -Greg
> >
> >> From: "Giovanni Betti"
> >>
> >> Date: May 23, 2012 8:50:40 AM PDT
> >>
> >> Dear List,
> >>
> >> I am running into some issues while running radiance on multiple cores.
> >> I have radiance running on a Linux virtual machine and I am using the
> >> rad ?N option.
> >> Sometimes though, I happen to notice in the final image tiles of
> >> varying brightness or even misplaced tiles.
> >> I thought it had to do with poor synchronization because of reading and
> >> writing on the network, but it seem to happen also when I have all the
> >> files on my local drive.
> >> Has anyone run into a similar problem and/or knows a solution for it?
> >>
> >> Thanks in advance,
> >>
> >> Giovanni
> 
> 
> --
> Randolph M. Fritz
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Randolph M. Fritz




From gregoryjward at gmail.com  Wed May 23 21:26:01 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 23 May 2012 21:26:01 -0700
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <jpjmq6$bmd$1@dough.gmane.org>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
	<jpjipu$bqr$1@dough.gmane.org>
	<db25c79a-1ded-4bd6-a7d3-28b379057696@blur>
	<jpjmq6$bmd$1@dough.gmane.org>
Message-ID: <9EFC36A6-9F33-46FA-BC67-3DAE3B45F7CF@lmi.net>

Hi Randolph,

Actually, having a repeatable test case is great!  Maybe you can get this to me off-list and I'll look at it when I have some time.

Thanks!
-Greg

> From: "Randolph M. Fritz" <RFritz at lbl.gov>
> Date: May 23, 2012 3:02:46 PM PDT
> 
> So much for that hypothesis.
> 
> I've just managed to produce versions of the problem on a Linux, a FreeBSD, and a Mac OS system. :-(
> 
> Same Radiance model and scripts; probably three slightly different versions of Radiance.
> 
> Randolph
> 
> On 2012-05-23 21:01:30 +0000, Jack de Valpine said:
> 
>> Unfortunately, I suspect you are correct...
>> Sent from my Verizon Wireless 4G LTE DROID
>> -----Original message-----
>> From: "Randolph M. Fritz" <RFritz at lbl.gov>
>> To: radiance-general at radiance-online.org
>> Sent: Wed, May 23, 2012 16:57:02 EDT
>> Subject: Re: [Radiance-general] running radiance on multiple cores
>> 


From t.mcminn at curtin.edu.au  Wed May 23 21:28:34 2012
From: t.mcminn at curtin.edu.au (Terrance Mc Minn)
Date: Thu, 24 May 2012 12:28:34 +0800
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
Message-ID: <4FBDB8F2.3010205@curtin.edu.au>

I can verify that missing sections of images happens on both Linux and 
MAC computers when an ambient file is used though not consistantly.

Often I have suspected/verified that the number of -N specified is 
greater than the actual number of cores available. For example a i7 
Macbook that a student had in my office 10 minutes ago shows only 4 
cores hence -N 4 would seem appropriate. Some images would complete 
while others left black patches. All I did was to delete the offending 
hdr image and re-issue the rad command exactly to have the image rebuilt 
- much faster as the ambient file has already been populated.

I suspect that the -N number should generally be kept to at least 1 
below the max cores available.

Questions for the Development List :
1) Can multi-core processing be added to trad  (-n for rvu and -N rad)? 
While it is possible to add a -n 4 in the trad options line for rvu, you 
cannot use a -N in the option line for rad.
2) Can the image size resolution for single core processing be the same 
as multi-core to allow further processing with falsecolor. When rad -N 
processing uses rpiece the image size can be modified/rationalised. This 
does not happen in single core processing, hence falsecolor would fail 
when mixing images due to image size mismatch.

Terrance Mc Minn
Lecturer
School of Built Environment
Curtin University of Technology
**
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120524/25c62021/attachment.html>

From gregoryjward at gmail.com  Wed May 23 21:45:49 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 23 May 2012 21:45:49 -0700
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <4FBDB8F2.3010205@curtin.edu.au>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
	<4FBDB8F2.3010205@curtin.edu.au>
Message-ID: <A24822C7-1159-4B5B-9248-1E6C3B245613@lmi.net>

Yes to #1, no to #2.  This was discussed before, and I added a warning from rpiece when the resolution changes, but I can't keep it from changing.  Rpiece (rpict really) needs the tiles to be of equal size, which means both dimensions must be multiples of the respective number of tile divisions.

You can work around the problem with some difficulty by noting what rpiece changes the resolution to and making sure you set -x and -y to this with -pa 0 on any other runs you do.  Unfortunately, the actual resolution will change with different -N settings because rad will make a different number of tiles to optimize processor loads.

Regarding #1, I haven't changed trad in ages, so it may take a while to remember enough Tcl/Tk to add this.

Best,
-Greg

> From: Terrance Mc Minn <t.mcminn at curtin.edu.au>
> Date: May 23, 2012 9:28:34 PM PDT
> 
> I can verify that missing sections of images happens on both Linux and MAC computers when an ambient file is used though not consistantly.
> 
> Often I have suspected/verified that the number of -N specified is greater than the actual number of cores available. For example a i7 Macbook that a student had in my office 10 minutes ago shows only 4 cores hence -N 4 would seem appropriate. Some images would complete while others left black patches. All I did was to delete the offending hdr image and re-issue the rad command exactly to have the image rebuilt - much faster as the ambient file has already been populated.
> 
> I suspect that the -N number should generally be kept to at least 1 below the max cores available.
> 
> Questions for the Development List :
> 1) Can multi-core processing be added to trad  (-n for rvu and -N rad)? While it is possible to add a -n 4 in the trad options line for rvu, you cannot use a -N in the option line for rad.
> 2) Can the image size resolution for single core processing be the same as multi-core to allow further processing with falsecolor. When rad -N processing uses rpiece the image size can be modified/rationalised. This does not happen in single core processing, hence falsecolor would fail when mixing images due to image size mismatch.
> 
> Terrance Mc Minn


From gbetti at fosterandpartners.com  Thu May 24 07:10:52 2012
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Thu, 24 May 2012 15:10:52 +0100
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <98DC2369-3B2A-475A-804E-9826BB225725@lmi.net>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net><jpjipu$bqr$1@dough.gmane.org><db25c79a-1ded-4bd6-a7d3-28b379057696@blur>
	<98DC2369-3B2A-475A-804E-9826BB225725@lmi.net>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C308CFDA82@corp3005.CORPORATE.FOSTER.NETWORK>

Thanks everybody for the many replies.

 

Contrary to what Greg suggests, the error (varying brightness) happens
with an ambient file specified.

When I am trying different -av values, a triplet of 0s seems to give the
best results.

I haven't tried yet the combination of vwrays and rtrace suggested
below, will let you know how it goes on with that,

 

Thanks,

 

Giovanni

 

 

From: Greg Ward [mailto:gregoryjward at gmail.com] 
Sent: 23 May 2012 22:17
To: Radiance general discussion
Subject: Re: [Radiance-general] running radiance on multiple cores

 

Another workaround is to use vwrays and rtrace instead of rpiece, like
so:

 

set vargs=`rad -s -n -V -v $vw $rif OPTF=render.opt`

vwrays -ff -x $xr -y $yr $vargs | rtrace -n $nprocs -ffc `vwrays -d -x
$xr -y $yr $vargs` @render.opt $octree > render.hdr

 

The first command sets the view and puts rendering options in a file for
rtrace.  The side-effect is that every pixel gets rendered, and of
course you will want to run pfilt on the output in most cases.  (You can
of course add it to the command with "| pfilt -1 -x /3 -y /3 -r .6"
after rtrace.)

 

-Greg





From: "Jack de Valpine"<jedev at visarc.com>

Date: May 23, 2012 2:01:30 PM PDT

 

	Unfortunately, I suspect you are correct...
	
	Sent from my Verizon Wireless 4G LTE DROID

	
	
	-----Original message-----
	
	

	From: "Randolph M. Fritz" <RFritz at lbl.gov>
	To: radiance-general at radiance-online.org
	
	

	On 2012-05-23 16:15:36 +0000, Greg Ward said:
	
	> Some people have complained about misplaced or incomplete
tiles using 
	> rpiece, but I haven't been able to reproduce or find the
problem.
	
	The problem seems--I say cautiously--to occur on Linux systems
and not 
	BSD systems. I think I'm going to run a test.
	
	Randolph
	
	> As for varying tile brightness, this is usually caused by
forgetting to 
	> specify an ambient file (rad AMBFILE variable), causing
redundant and 
	> wasteful as well as inconsistent calculations.
	> 
	> -Greg
	> 
	>> From: "Giovanni Betti" 
	>> 
	>> Date: May 23, 2012 8:50:40 AM PDT
	>> 
	>> Dear List,
	>> 
	>> I am running into some issues while running radiance on
multiple cores.
	>> I have radiance running on a Linux virtual machine and I am
using the 
	>> rad -N option.
	>> Sometimes though, I happen to notice in the final image tiles
of 
	>> varying brightness or even misplaced tiles.
	>> I thought it had to do with poor synchronization because of
reading and 
	>> writing on the network, but it seem to happen also when I
have all the 
	>> files on my local drive.
	>> Has anyone run into a similar problem and/or knows a solution
for it?
	>> 
	>> Thanks in advance,
	>> 
	>> Giovanni
	
	
	-- 
	Randolph M. Fritz
	
	
	

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120524/fce503fb/attachment-0001.html>

From gregoryjward at gmail.com  Thu May 24 07:54:53 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 24 May 2012 07:54:53 -0700
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C308CFDA82@corp3005.CORPORATE.FOSTER.NETWORK>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net><jpjipu$bqr$1@dough.gmane.org><db25c79a-1ded-4bd6-a7d3-28b379057696@blur>
	<98DC2369-3B2A-475A-804E-9826BB225725@lmi.net>
	<6F5225D6E15F954BB4E58EC25F6736C308CFDA82@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <49B3F81E-56EA-4C18-9A44-2E73C300BC1D@lmi.net>

You need to tell us more about your scene and rendering parameters.  Sometimes, the direct calculation can cause variances.  Try setting -dt 0.

-Greg

> From: "Giovanni Betti" <gbetti at fosterandpartners.com>
> Date: May 24, 2012 7:10:52 AM PDT
> 
> Thanks everybody for the many replies.
>  
> Contrary to what Greg suggests, the error (varying brightness) happens with an ambient file specified.
> When I am trying different ?av values, a triplet of 0s seems to give the best results.
> I haven?t tried yet the combination of vwrays and rtrace suggested below, will let you know how it goes on with that,
>  
> Thanks,
>  
> Giovanni
>  
>  
> From: Greg Ward [mailto:gregoryjward at gmail.com] 
> Sent: 23 May 2012 22:17
> To: Radiance general discussion
> Subject: Re: [Radiance-general] running radiance on multiple cores
>  
> Another workaround is to use vwrays and rtrace instead of rpiece, like so:
>  
> set vargs=`rad -s -n -V -v $vw $rif OPTF=render.opt`
> vwrays -ff -x $xr -y $yr $vargs | rtrace -n $nprocs -ffc `vwrays -d -x $xr -y $yr $vargs` @render.opt $octree > render.hdr
>  
> The first command sets the view and puts rendering options in a file for rtrace.  The side-effect is that every pixel gets rendered, and of course you will want to run pfilt on the output in most cases.  (You can of course add it to the command with "| pfilt -1 -x /3 -y /3 -r .6" after rtrace.)
>  
> -Greg
> 
> 
> From: "Jack de Valpine"<jedev at visarc.com>
> 
> Date: May 23, 2012 2:01:30 PM PDT
> 
>  
> 
> Unfortunately, I suspect you are correct...
> 
> Sent from my Verizon Wireless 4G LTE DROID
> 
> 
> -----Original message-----
> 
> From: "Randolph M. Fritz" <RFritz at lbl.gov>
> To: radiance-general at radiance-online.org
> 
> 
> On 2012-05-23 16:15:36 +0000, Greg Ward said:
> 
> > Some people have complained about misplaced or incomplete tiles using 
> > rpiece, but I haven't been able to reproduce or find the problem.
> 
> The problem seems--I say cautiously--to occur on Linux systems and not 
> BSD systems. I think I'm going to run a test.
> 
> Randolph
> 
> > As for varying tile brightness, this is usually caused by forgetting to 
> > specify an ambient file (rad AMBFILE variable), causing redundant and 
> > wasteful as well as inconsistent calculations.
> > 
> > -Greg
> > 
> >> From: "Giovanni Betti" 
> >> 
> >> Date: May 23, 2012 8:50:40 AM PDT
> >> 
> >> Dear List,
> >> 
> >> I am running into some issues while running radiance on multiple cores.
> >> I have radiance running on a Linux virtual machine and I am using the 
> >> rad ?N option.
> >> Sometimes though, I happen to notice in the final image tiles of 
> >> varying brightness or even misplaced tiles.
> >> I thought it had to do with poor synchronization because of reading and 
> >> writing on the network, but it seem to happen also when I have all the 
> >> files on my local drive.
> >> Has anyone run into a similar problem and/or knows a solution for it?
> >> 
> >> Thanks in advance,
> >> 
> >> Giovanni
> 
> 
> -- 
> Randolph M. Fritz
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120524/991ea6a1/attachment.html>

From gbetti at fosterandpartners.com  Fri May 25 09:09:26 2012
From: gbetti at fosterandpartners.com (Giovanni Betti)
Date: Fri, 25 May 2012 17:09:26 +0100
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <49B3F81E-56EA-4C18-9A44-2E73C300BC1D@lmi.net>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net><jpjipu$bqr$1@dough.gmane.org><db25c79a-1ded-4bd6-a7d3-28b379057696@blur><98DC2369-3B2A-475A-804E-9826BB225725@lmi.net><6F5225D6E15F954BB4E58EC25F6736C308CFDA82@corp3005.CORPORATE.FOSTER.NETWORK>
	<49B3F81E-56EA-4C18-9A44-2E73C300BC1D@lmi.net>
Message-ID: <6F5225D6E15F954BB4E58EC25F6736C308CFDB5F@corp3005.CORPORATE.FOSTER.NETWORK>

Hi Greg,

 

Thanks for the tip, and sorry for the late reply.

 

Setting -dt to 0 actually sorted the issue (although, as expected,
rendering time went up a lot!)

 

The scene I am rendering is an interior scene with a lot of artificial
lights, no sun or sky (yet).

 

The rif file looks something like:

 

scene=  Materials.rad  Geometry.rad

 

AMBFILE= test.amb 

OCTREE= test.oct 

 

RESOLUTION= 1195 761 

DETAIL= MEDIUM

VARIABILITY = MEDIUM 

QUALITY= LOW

 

INDIRECT= 2 

REPORT=2

 

render=   -ad 2048   -as 1024 -dt 0.05 -dc 0.15 -ds 0.02 -dj 0 -av 0 0 0

 

view= View10 -vtv -vp -220.898262 490.000427 9.770000 -vd -0.310859
2636.535561 0.000000 -vu 0 0 1 -vh 71 -vv 51 -vs 0 -vl 0 -vo 0 -va 0

 

 

Best,

 

Giovanni

 

From: Greg Ward [mailto:gregoryjward at gmail.com] 
Sent: 24 May 2012 15:55
To: Radiance general discussion
Subject: Re: [Radiance-general] running radiance on multiple cores

 

You need to tell us more about your scene and rendering parameters.
Sometimes, the direct calculation can cause variances.  Try setting -dt
0.

 

-Greg





From: "Giovanni Betti" <gbetti at fosterandpartners.com>

Date: May 24, 2012 7:10:52 AM PDT

 

	Thanks everybody for the many replies.

	 

	Contrary to what Greg suggests, the error (varying brightness)
happens with an ambient file specified.

	When I am trying different -av values, a triplet of 0s seems to
give the best results.

	I haven't tried yet the combination of vwrays and rtrace
suggested below, will let you know how it goes on with that,

	 

	Thanks,

	 

	Giovanni

	 

	 

	From: Greg Ward [mailto:gregoryjward at gmail.com] 
	Sent: 23 May 2012 22:17
	To: Radiance general discussion
	Subject: Re: [Radiance-general] running radiance on multiple
cores

	 

	Another workaround is to use vwrays and rtrace instead of
rpiece, like so:

	 

	set vargs=`rad -s -n -V -v $vw $rif OPTF=render.opt`

	vwrays -ff -x $xr -y $yr $vargs | rtrace -n $nprocs -ffc `vwrays
-d -x $xr -y $yr $vargs` @render.opt $octree > render.hdr

	 

	The first command sets the view and puts rendering options in a
file for rtrace.  The side-effect is that every pixel gets rendered, and
of course you will want to run pfilt on the output in most cases.  (You
can of course add it to the command with "| pfilt -1 -x /3 -y /3 -r .6"
after rtrace.)

	 

	-Greg

	
	
	
	

	From: "Jack de Valpine"<jedev at visarc.com>

	Date: May 23, 2012 2:01:30 PM PDT

	 

		Unfortunately, I suspect you are correct...
		
		Sent from my Verizon Wireless 4G LTE DROID

		
		
		-----Original message-----
		
		
		

		From: "Randolph M. Fritz" <RFritz at lbl.gov>
		To: radiance-general at radiance-online.org
		
		
		

		On 2012-05-23 16:15:36 +0000, Greg Ward said:
		
		> Some people have complained about misplaced or
incomplete tiles using 
		> rpiece, but I haven't been able to reproduce or find
the problem.
		
		The problem seems--I say cautiously--to occur on Linux
systems and not 
		BSD systems. I think I'm going to run a test.
		
		Randolph
		
		> As for varying tile brightness, this is usually caused
by forgetting to 
		> specify an ambient file (rad AMBFILE variable),
causing redundant and 
		> wasteful as well as inconsistent calculations.
		> 
		> -Greg
		> 
		>> From: "Giovanni Betti" 
		>> 
		>> Date: May 23, 2012 8:50:40 AM PDT
		>> 
		>> Dear List,
		>> 
		>> I am running into some issues while running radiance
on multiple cores.
		>> I have radiance running on a Linux virtual machine
and I am using the 
		>> rad -N option.
		>> Sometimes though, I happen to notice in the final
image tiles of 
		>> varying brightness or even misplaced tiles.
		>> I thought it had to do with poor synchronization
because of reading and 
		>> writing on the network, but it seem to happen also
when I have all the 
		>> files on my local drive.
		>> Has anyone run into a similar problem and/or knows a
solution for it?
		>> 
		>> Thanks in advance,
		>> 
		>> Giovanni
		
		
		-- 
		Randolph M. Fritz
		
		
		
		

	_______________________________________________
	Radiance-general mailing list
	Radiance-general at radiance-online.org
	http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120525/2d69db28/attachment.html>

From gregoryjward at gmail.com  Fri May 25 09:16:40 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 25 May 2012 09:16:40 -0700
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <6F5225D6E15F954BB4E58EC25F6736C308CFDB5F@corp3005.CORPORATE.FOSTER.NETWORK>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net><jpjipu$bqr$1@dough.gmane.org><db25c79a-1ded-4bd6-a7d3-28b379057696@blur><98DC2369-3B2A-475A-804E-9826BB225725@lmi.net><6F5225D6E15F954BB4E58EC25F6736C308CFDA82@corp3005.CORPORATE.FOSTER.NETWORK>
	<49B3F81E-56EA-4C18-9A44-2E73C300BC1D@lmi.net>
	<6F5225D6E15F954BB4E58EC25F6736C308CFDB5F@corp3005.CORPORATE.FOSTER.NETWORK>
Message-ID: <9707C777-1A7C-4479-B2DD-BFDE31E74A1B@lmi.net>

OK, at least we found the issue with the tile variances.  A less expensive parameter change that might work as well is "-dt .03 -dc 1".  This will turn off the effect of statistics gathered by the individual rpict processes on the results.

-Greg

> From: "Giovanni Betti" <gbetti at fosterandpartners.com>
> Date: May 25, 2012 9:09:26 AM PDT
> 
> Hi Greg,
>  
> Thanks for the tip, and sorry for the late reply.
>  
> Setting ?dt to 0 actually sorted the issue (although, as expected, rendering time went up a lot!)
>  
> The scene I am rendering is an interior scene with a lot of artificial lights, no sun or sky (yet).
>  
> The rif file looks something like:
>  
> scene=  Materials.rad  Geometry.rad
>  
> AMBFILE= test.amb
> OCTREE= test.oct
>  
> RESOLUTION= 1195 761
> DETAIL= MEDIUM
> VARIABILITY = MEDIUM
> QUALITY= LOW
>  
> INDIRECT= 2
> REPORT=2
>  
> render=   -ad 2048   -as 1024 -dt 0.05 -dc 0.15 -ds 0.02 -dj 0 -av 0 0 0
>  
> view= View10 -vtv -vp -220.898262 490.000427 9.770000 -vd -0.310859 2636.535561 0.000000 -vu 0 0 1 -vh 71 -vv 51 -vs 0 -vl 0 -vo 0 -va 0
>  
>  
> Best,
>  
> Giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120525/f1a4a9f9/attachment-0001.html>

From RFritz at lbl.gov  Fri May 25 15:22:31 2012
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Fri, 25 May 2012 15:22:31 -0700
Subject: [Radiance-general] OT: A study of LCD display luminance
Message-ID: <jpp0n6$f8r$1@dough.gmane.org>

For a simulation, I wanted to include some LCD displays.  Problem was, 
I didn't know how bright they actually were.  So I did an HDR 
photographic study of mine.  I thought some of you might be interested, 
so I've put it up online.  If you are interested, you can see the 
results here:
  http://elad.lbl.gov/index.php/Interior_Applications/Display_Luminance/L226W

-- 
Randolph M. Fritz




From mceddysantosa at gmail.com  Fri May 25 15:56:48 2012
From: mceddysantosa at gmail.com (Eddy Santosa)
Date: Fri, 25 May 2012 15:56:48 -0700
Subject: [Radiance-general] OT: A study of LCD display luminance
In-Reply-To: <jpp0n6$f8r$1@dough.gmane.org>
References: <jpp0n6$f8r$1@dough.gmane.org>
Message-ID: <CAEiV_Q3ZsrSh9VLcrh9vLqWESyJuSGd3JVK77FYJFV_DyQpO2g@mail.gmail.com>

Randolph,

Thank you very much for sharing nice study. It's interesting results. Last
time, I relied on the LCD manufacturer brightness specs or nit number to
model and I was not sure whether it was a correct method.
Additionally, in your first image, may i know how you set the brightness
setting in your computer? was it in maximum/100% brightness setting?

Thank you,


Eddy Santosa




On Fri, May 25, 2012 at 3:22 PM, Randolph M. Fritz <RFritz at lbl.gov> wrote:

> For a simulation, I wanted to include some LCD displays.  Problem was, I
> didn't know how bright they actually were.  So I did an HDR photographic
> study of mine.  I thought some of you might be interested, so I've put it
> up online.  If you are interested, you can see the results here:
>  http://elad.lbl.gov/index.php/**Interior_Applications/Display_**
> Luminance/L226W<http://elad.lbl.gov/index.php/Interior_Applications/Display_Luminance/L226W>
>
> --
> Randolph M. Fritz
>
>
>
> ______________________________**_________________
> Radiance-general mailing list
> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120525/aba85772/attachment.html>

From hope.zh at gmail.com  Tue May 29 01:10:45 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Tue, 29 May 2012 16:10:45 +0800
Subject: [Radiance-general] the solar position algorithm used in Radiance
Message-ID: <CAD83LVKUeWHeoLxb=jroMRA5mvqe_fUM8ofLoUyp+aZjpaOtnQ@mail.gmail.com>

Dear list,

May I ask what is the exact algorithm used by gensky and gendaylit to
calculate sun position in Radiance?

i.e. given the latitude, longitude, standard meridian, month, day, hour,
what's the formula used in Radiance to produce solar altitude and azimuth
angles?

Thanks!

- Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120529/517a1f31/attachment.html>

From pally.sandher at iesve.com  Tue May 29 03:53:34 2012
From: pally.sandher at iesve.com (Pally Sandher)
Date: Tue, 29 May 2012 10:53:34 +0000
Subject: [Radiance-general] the solar position algorithm used in Radiance
In-Reply-To: <CAD83LVKUeWHeoLxb=jroMRA5mvqe_fUM8ofLoUyp+aZjpaOtnQ@mail.gmail.com>
References: <CAD83LVKUeWHeoLxb=jroMRA5mvqe_fUM8ofLoUyp+aZjpaOtnQ@mail.gmail.com>
Message-ID: <A7E25FADF831E94DBBD5904D7E584865102F2D@GL-EXC-01.iesve.com>

Download the sources & take a look for yourself -> http://radsite.lbl.gov/radiance/framed.html

[Description: IES]<http://www.iesve.com/>

Palbinder Sandher
Software Platform Engineer

T:

+44 (0) 141 945 8500

F:

+44 (0) 141 945 8501

http://www.iesve.com<http://www.iesve.com/>


**Design, Simulate + Innovate with the <Virtual Environment>**

Integrated Environmental Solutions Limited. Registered in Scotland No. SC151456
Registered Office - Helix Building, West Of Scotland Science Park, Glasgow G20 0SP

Email Disclaimer<http://www.iesve.com/disclaimer.html>



From: Ji Zhang [mailto:hope.zh at gmail.com]
Sent: 29 May 2012 09:15
To: Radiance general discussion
Subject: [Radiance-general] the solar position algorithm used in Radiance

Dear list,

May I ask what is the exact algorithm used by gensky and gendaylit to calculate sun position in Radiance?

i.e. given the latitude, longitude, standard meridian, month, day, hour, what's the formula used in Radiance to produce solar altitude and azimuth angles?

Thanks!

- Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120529/a462df97/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 2684 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120529/a462df97/attachment-0001.jpg>

From mstock at umich.edu  Tue May 29 06:58:41 2012
From: mstock at umich.edu (Mark Stock)
Date: Tue, 29 May 2012 09:58:41 -0400 (EDT)
Subject: [Radiance-general] the solar position algorithm used in Radiance
In-Reply-To: <CAD83LVKUeWHeoLxb=jroMRA5mvqe_fUM8ofLoUyp+aZjpaOtnQ@mail.gmail.com>
References: <CAD83LVKUeWHeoLxb=jroMRA5mvqe_fUM8ofLoUyp+aZjpaOtnQ@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.1205290953500.18198@goldenaxe.gpcc.itd.umich.edu>

Ji,

If you are interested in this in a more general sense, you should 
consult the libnova library for astronomical calculations from 
Girdwood and Kubanek:

http://libnova.sourceforge.net/

I used this library to compute sun, moon, and planet positions 
for my "genutahsky" program, which implements most of the 
features of gensky and additionally outputs a colored sky, 
the moon and bright planets, and a star field.

http://markjstock.org/radiance/

Mark

On Tue, 29 May 2012, Ji Zhang wrote:

> Dear list,
>
> May I ask what is the exact algorithm used by gensky and gendaylit to
> calculate sun position in Radiance?
>
> i.e. given the latitude, longitude, standard meridian, month, day, hour,
> what's the formula used in Radiance to produce solar altitude and azimuth
> angles?
>
> Thanks!
>
> - Ji
>
-------------- next part --------------
_______________________________________________

Radiance-general mailing list

Radiance-general at radiance-online.org

http://www.radiance-online.org/mailman/listinfo/radiance-general


From hope.zh at gmail.com  Tue May 29 07:57:12 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Tue, 29 May 2012 22:57:12 +0800
Subject: [Radiance-general] the solar position algorithm used in Radiance
In-Reply-To: <Pine.LNX.4.64.1205290953500.18198@goldenaxe.gpcc.itd.umich.edu>
References: <CAD83LVKUeWHeoLxb=jroMRA5mvqe_fUM8ofLoUyp+aZjpaOtnQ@mail.gmail.com>
	<Pine.LNX.4.64.1205290953500.18198@goldenaxe.gpcc.itd.umich.edu>
Message-ID: <CAD83LVKq59K7kgAs_BNvLvs1xspApjG+aENk1ZRZFufrinhW1Q@mail.gmail.com>

Thanks for the advice, Mark and Pally, I'll take a look! It seems there's a
sun.cal file in Radiance library. I'll try to figure it out how it works.

- Cheers, Ji


On Tue, May 29, 2012 at 9:58 PM, Mark Stock <mstock at umich.edu> wrote:

> Ji,
>
> If you are interested in this in a more general sense, you should consult
> the libnova library for astronomical calculations from Girdwood and Kubanek:
>
> http://libnova.sourceforge.**net/ <http://libnova.sourceforge.net/>
>
> I used this library to compute sun, moon, and planet positions for my
> "genutahsky" program, which implements most of the features of gensky and
> additionally outputs a colored sky, the moon and bright planets, and a star
> field.
>
> http://markjstock.org/**radiance/ <http://markjstock.org/radiance/>
>
> Mark
>
>
> On Tue, 29 May 2012, Ji Zhang wrote:
>
>  Dear list,
>>
>> May I ask what is the exact algorithm used by gensky and gendaylit to
>> calculate sun position in Radiance?
>>
>> i.e. given the latitude, longitude, standard meridian, month, day, hour,
>> what's the formula used in Radiance to produce solar altitude and azimuth
>> angles?
>>
>> Thanks!
>>
>> - Ji
>>
>
> _______________________________________________
>
> Radiance-general mailing list
>
> Radiance-general at radiance-online.org
>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120529/17dad965/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue May 29 15:49:14 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 29 May 2012 16:49:14 -0600
Subject: [Radiance-general] OT: A study of LCD display luminance
In-Reply-To: <CAEiV_Q3ZsrSh9VLcrh9vLqWESyJuSGd3JVK77FYJFV_DyQpO2g@mail.gmail.com>
References: <jpp0n6$f8r$1@dough.gmane.org>,
	<CAEiV_Q3ZsrSh9VLcrh9vLqWESyJuSGd3JVK77FYJFV_DyQpO2g@mail.gmail.com>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3224CCFED87F@MAILBOX2.nrel.gov>

Yeah Randolph, this is very cool, and a nice application of HDRI in the real world. Might be worth posting a link to this on the HDRI list as well. 
________________________________________
From: Eddy Santosa [mceddysantosa at gmail.com]
Sent: Friday, May 25, 2012 4:56 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] OT: A study of LCD display luminance

Randolph,

Thank you very much for sharing nice study. It's interesting results. Last time, I relied on the LCD manufacturer brightness specs or nit number to model and I was not sure whether it was a correct method.
Additionally, in your first image, may i know how you set the brightness setting in your computer? was it in maximum/100% brightness setting?

Thank you,


Eddy Santosa




On Fri, May 25, 2012 at 3:22 PM, Randolph M. Fritz <RFritz at lbl.gov<mailto:RFritz at lbl.gov>> wrote:
For a simulation, I wanted to include some LCD displays.  Problem was, I didn't know how bright they actually were.  So I did an HDR photographic study of mine.  I thought some of you might be interested, so I've put it up online.  If you are interested, you can see the results here:
 http://elad.lbl.gov/index.php/Interior_Applications/Display_Luminance/L226W

--
Randolph M. Fritz



_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general



From RFritz at lbl.gov  Tue May 29 16:56:51 2012
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Tue, 29 May 2012 16:56:51 -0700
Subject: [Radiance-general] OT: A study of LCD display luminance
References: <jpp0n6$f8r$1@dough.gmane.org>
	<CAEiV_Q3ZsrSh9VLcrh9vLqWESyJuSGd3JVK77FYJFV_DyQpO2g@mail.gmail.com>
Message-ID: <jq3no1$483$1@dough.gmane.org>

On 2012-05-25 22:56:48 +0000, Eddy Santosa said:

> Randolph,
> ?
> Thank you very much for sharing nice study. It's interesting results. 
> Last time, I relied on the LCD manufacturer brightness specs or nit 
> number?to model and I was not sure whether it was a correct method.

You're welcome!

> Additionally, in your first image, may i know how you set the 
> brightness setting in your computer? was it in maximum/100% brightness 
> setting?

I believe I set it to full contrast and left the brightness at my usual 
comfortable level.  (My notes are incomplete.  Woe, woe!)

The display is about three years old, and the fluorescent tubes in it 
are dimmer than the were when it was new.  So a new one would be 
somewhat brighter.

Randolph

> ?
> Thank you,
> ?
> ?
> Eddy Santosa
> ?
> ?
> 
> ?
> On Fri, May 25, 2012 at 3:22 PM, Randolph M. Fritz 
> <RFritz at lbl.gov> wrote:
> For a simulation, I wanted to include some LCD displays. ?Problem was, 
> I didn't know how bright they actually were. ?So I did an HDR 
> photographic study of mine. ?I thought some of you might be interested, 
> so I've put it up online. ?If you are interested, you can see the 
> results here:
> ?http://elad.lbl.gov/index.php/Interior_Applications/Display_Luminance/L226W
> 
> -- 
> Randolph M. Fritz
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Randolph M. Fritz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120529/323839c6/attachment.html>

From chris at coolshadow.com  Wed May 30 12:08:11 2012
From: chris at coolshadow.com (Humann Chris)
Date: Wed, 30 May 2012 12:08:11 -0700
Subject: [Radiance-general] Rcalc if(cond,then,else)
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA3224CCFED87F@MAILBOX2.nrel.gov>
References: <jpp0n6$f8r$1@dough.gmane.org>,
	<CAEiV_Q3ZsrSh9VLcrh9vLqWESyJuSGd3JVK77FYJFV_DyQpO2g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3224CCFED87F@MAILBOX2.nrel.gov>
Message-ID: <D285C272-0A9D-4D5A-B169-57C7A0A17DB5@coolshadow.com>

Dear list,

I'd like to use Pvalue to pipe an image in to Rcalc and divide each  
pixel's Red value by its Blue value.  If the latter ratio is greater/ 
equal to .6 then I'd like make the given pixel white and if not then  
black.  I'm using the following Pvalue command:
pvalue -o -h -H image.hdr

The if(cond,then,else) function is eluding me

Thanks as always.

Chris

Christian Humann ~ Associate
LOISOS + UBBELOHDE
- - - - - - - - - - - - - - - - - - - - - - - - - - -
1917 Clement Avenue  Building 10A
Alameda, CA  94501 USA
- - - - - - - - - - - - - - - - - - - - - - - - - - -
510 521 3800 VOICE
510 521 3820 FAX
- - - - - - - - - - - - - - - - - - - - - - - - - - -
www.coolshadow.com



On May 29, 2012, at 3:49 PM, Guglielmetti, Robert wrote:

> Yeah Randolph, this is very cool, and a nice application of HDRI in  
> the real world. Might be worth posting a link to this on the HDRI  
> list as well.
> ________________________________________
> From: Eddy Santosa [mceddysantosa at gmail.com]
> Sent: Friday, May 25, 2012 4:56 PM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] OT: A study of LCD display luminance
>
> Randolph,
>
> Thank you very much for sharing nice study. It's interesting  
> results. Last time, I relied on the LCD manufacturer brightness  
> specs or nit number to model and I was not sure whether it was a  
> correct method.
> Additionally, in your first image, may i know how you set the  
> brightness setting in your computer? was it in maximum/100%  
> brightness setting?
>
> Thank you,
>
>
> Eddy Santosa
>
>
>
>
> On Fri, May 25, 2012 at 3:22 PM, Randolph M. Fritz <RFritz at lbl.gov<mailto:RFritz at lbl.gov 
> >> wrote:
> For a simulation, I wanted to include some LCD displays.  Problem  
> was, I didn't know how bright they actually were.  So I did an HDR  
> photographic study of mine.  I thought some of you might be  
> interested, so I've put it up online.  If you are interested, you  
> can see the results here:
> http://elad.lbl.gov/index.php/Interior_Applications/Display_Luminance/L226W
>
> --
> Randolph M. Fritz
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org 
> >
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120530/f10d9ea3/attachment.html>

From gregoryjward at gmail.com  Wed May 30 13:37:02 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 30 May 2012 13:37:02 -0700
Subject: [Radiance-general] Rcalc if(cond,then,else)
In-Reply-To: <D285C272-0A9D-4D5A-B169-57C7A0A17DB5@coolshadow.com>
References: <jpp0n6$f8r$1@dough.gmane.org>,
	<CAEiV_Q3ZsrSh9VLcrh9vLqWESyJuSGd3JVK77FYJFV_DyQpO2g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3224CCFED87F@MAILBOX2.nrel.gov>
	<D285C272-0A9D-4D5A-B169-57C7A0A17DB5@coolshadow.com>
Message-ID: <C9C18ED8-BF4B-4206-8DA2-1672931D01EB@lmi.net>

Hi Chris,

The "pcomb" program was built for this kind of thing.  Try:

	pcomb -e 'lo=if(0.6*bi(1)-ri(1),0,1)' input.hdr | ra_tiff -b - black_white.tif

I didn't use a ratio so as to avoid divid-by-zero errors, and converted the (monocrhome) output to TIFF.

-Greg

> From: Humann Chris <chris at coolshadow.com>
> Date: May 30, 2012 12:08:11 PM PDT
> 
> Dear list,
> 
> I'd like to use Pvalue to pipe an image in to Rcalc and divide each pixel's Red value by its Blue value.  If the latter ratio is greater/equal to .6 then I'd like make the given pixel white and if not then black.  I'm using the following Pvalue command:
> pvalue -o -h -H image.hdr
> 
> The if(cond,then,else) function is eluding me
> 
> Thanks as always.
> 
> Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120530/a470052b/attachment.html>

From smoret at ucdavis.edu  Thu May 31 17:40:06 2012
From: smoret at ucdavis.edu (Stefano Moret)
Date: Fri, 1 Jun 2012 00:40:06 +0000
Subject: [Radiance-general] evalglare installation on mac
Message-ID: <0BF41788-A111-4652-9172-D259C5109E7D@ucdavis.edu>

Hi,

I've downloaded the v.1.04 version of evalglare on my mac os 10.6.8.
I added to the flags the -fnested-functions to the CFLAGS as indicated in the previous emails, unpacked the folder into /radiance/evalgare, and ran "make" from the command line.
It doesn't seem to install properly though, basically what I see in output is:

MacBook-di-Stefano-Moret:evalglare Cinese$ make
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/color.o common/color.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/resolu.o common/resolu.c -I. -Igeometry
common/resolu.c: In function ?str2resolu?:
common/resolu.c:98: warning: implicit declaration of function ?atoi?
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/header.o common/header.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/image.o common/image.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/fvect.o common/fvect.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/badarg.o common/badarg.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/words.o common/words.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/fputword.o common/fputword.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/expandarg.o common/expandarg.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/wordfile.o common/wordfile.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/bmalloc.o common/bmalloc.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/mat4.o common/mat4.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o pictool.o pictool.c -I. -Igeometry
pictool.c:98: warning: ?read_exposure? defined but not used
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3vector.o geometry/g3vector.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/gbasic.o geometry/gbasic.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3affine.o geometry/g3affine.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3sphere.o geometry/g3sphere.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3flist.o geometry/g3flist.c -I. -Igeometry
gcc -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -DEVALGLARE -o evalglare  evalglare.c pictool.o geometry/g3vector.o geometry/gbasic.o geometry/g3affine.o geometry/g3sphere.o geometry/g3flist.o \
-I. -Igeometry common/color.o common/resolu.o common/header.o common/image.o common/fvect.o common/badarg.o common/words.o common/fputword.o common/expandarg.o common/wordfile.o common/bmalloc.o common/mat4.o  -lm

It does something, but I don't think it's properly installed: for example, it can't find the command evalglare if I'm in another folder, and even in that folder it doesn't run the glare analysis on the picture.
Could anyone enlighten me on what I'm doing wrong?

Many thanks,
Best Regards,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120601/a6ee7ec7/attachment.html>

From Robert.Guglielmetti at nrel.gov  Thu May 31 19:22:56 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 31 May 2012 20:22:56 -0600
Subject: [Radiance-general] evalglare installation on mac
In-Reply-To: <0BF41788-A111-4652-9172-D259C5109E7D@ucdavis.edu>
References: <0BF41788-A111-4652-9172-D259C5109E7D@ucdavis.edu>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3224CCFED8B4@MAILBOX2.nrel.gov>

It seems like you're getting it to compile. I would recommend you place it in the same directory as all your Radiance binaries, so that evalglare will be in a search path target. Also make sure it's been set to be executable. You may need admin privileges to do both of these things. For example, if Radiance is in /usr/local/bin, and you are currently in the directory where you compiled evalglare:

sudo cp evalglare /usr/local/bin (you will be prompted for the admin password)
sudo chmod 755 /usr/local/bin/evalglare

Give that a whirl, and if you still have problems, maybe some more detail about what happens when you try to run evalglare will be needed. 

- Rob
________________________________________
From: Stefano Moret [smoret at ucdavis.edu]
Sent: Thursday, May 31, 2012 6:40 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] evalglare installation on mac

Hi,

I've downloaded the v.1.04 version of evalglare on my mac os 10.6.8.
I added to the flags the -fnested-functions to the CFLAGS as indicated in the previous emails, unpacked the folder into /radiance/evalgare, and ran "make" from the command line.
It doesn't seem to install properly though, basically what I see in output is:

MacBook-di-Stefano-Moret:evalglare Cinese$ make
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/color.o common/color.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/resolu.o common/resolu.c -I. -Igeometry
common/resolu.c: In function ?str2resolu?:
common/resolu.c:98: warning: implicit declaration of function ?atoi?
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/header.o common/header.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/image.o common/image.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/fvect.o common/fvect.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/badarg.o common/badarg.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/words.o common/words.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/fputword.o common/fputword.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/expandarg.o common/expandarg.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/wordfile.o common/wordfile.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/bmalloc.o common/bmalloc.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/mat4.o common/mat4.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o pictool.o pictool.c -I. -Igeometry
pictool.c:98: warning: ?read_exposure? defined but not used
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3vector.o geometry/g3vector.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/gbasic.o geometry/gbasic.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3affine.o geometry/g3affine.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3sphere.o geometry/g3sphere.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3flist.o geometry/g3flist.c -I. -Igeometry
gcc -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -DEVALGLARE -o evalglare  evalglare.c pictool.o geometry/g3vector.o geometry/gbasic.o geometry/g3affine.o geometry/g3sphere.o geometry/g3flist.o \
-I. -Igeometry common/color.o common/resolu.o common/header.o common/image.o common/fvect.o common/badarg.o common/words.o common/fputword.o common/expandarg.o common/wordfile.o common/bmalloc.o common/mat4.o  -lm

It does something, but I don't think it's properly installed: for example, it can't find the command evalglare if I'm in another folder, and even in that folder it doesn't run the glare analysis on the picture.
Could anyone enlighten me on what I'm doing wrong?

Many thanks,
Best Regards,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>



