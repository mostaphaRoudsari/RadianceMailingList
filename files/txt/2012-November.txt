From sh.zareiy at gmail.com  Sat Nov  3 14:50:44 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Sun, 4 Nov 2012 01:20:44 +0330
Subject: [Radiance-general] different results
In-Reply-To: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
References: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
Message-ID: <CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>

hello.i am trying to simulate a lightshelf in the radiance.but radiance
gives differnt results each time i redraw my simulation zone. i should
mention that i draw the zone in the ecotect and export it to radiance. i
attached two files that everything is the same in them,but the illuminance
levels that radiance gives me are different. i would be grateful if you
could help me to resolve this problem
sincerely
Shailan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121104/f66f04fc/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 1a.zip
Type: application/zip
Size: 14694 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121104/f66f04fc/attachment-0002.zip>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 1.zip
Type: application/zip
Size: 14513 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121104/f66f04fc/attachment-0003.zip>

From hope.zh at gmail.com  Sat Nov  3 20:36:08 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Sun, 4 Nov 2012 11:36:08 +0800
Subject: [Radiance-general] different results
In-Reply-To: <CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
References: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
	<CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
Message-ID: <CAD83LVL=TTa=7E4WmUkmwranT86fYbvhWXJ0bORSduneL0M-WA@mail.gmail.com>

Hi, Shailan, can u read on the "-u" option of the rtrace program menu? Not
sure if you should try the "-u+" specification ...

- Ji

? 2012?11?4?????shailan zareiy ???

>
>
>
>
> hello.i am trying to simulate a lightshelf in the radiance.but radiance
> gives differnt results each time i redraw my simulation zone. i should
> mention that i draw the zone in the ecotect and export it to radiance. i
> attached two files that everything is the same in them,but the illuminance
> levels that radiance gives me are different. i would be grateful if you
> could help me to resolve this problem
> sincerely
> Shailan
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121104/07a29054/attachment.html>

From sh.zareiy at gmail.com  Sun Nov  4 06:55:32 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Sun, 4 Nov 2012 18:25:32 +0330
Subject: [Radiance-general] different results
In-Reply-To: <CAD83LVL=TTa=7E4WmUkmwranT86fYbvhWXJ0bORSduneL0M-WA@mail.gmail.com>
References: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
	<CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
	<CAD83LVL=TTa=7E4WmUkmwranT86fYbvhWXJ0bORSduneL0M-WA@mail.gmail.com>
Message-ID: <CABNGNZJ6dbJjY=DRLGP30a+tRPg4RuWpfeNbTrcF0YwpNuuErg@mail.gmail.com>

thank you Ji, but unfortunately  changing the -u option didn't change the
result

On Sun, Nov 4, 2012 at 7:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Hi, Shailan, can u read on the "-u" option of the rtrace program menu? Not
> sure if you should try the "-u+" specification ...
>
> - Ji
>
> ? 2012?11?4?????shailan zareiy ???
>
>
>>
>>
>>
>> hello.i am trying to simulate a lightshelf in the radiance.but radiance
>> gives differnt results each time i redraw my simulation zone. i should
>> mention that i draw the zone in the ecotect and export it to radiance. i
>> attached two files that everything is the same in them,but the illuminance
>> levels that radiance gives me are different. i would be grateful if you
>> could help me to resolve this problem
>> sincerely
>> Shailan
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121104/7136a6e2/attachment.html>

From grobe at gmx.net  Sun Nov  4 06:56:35 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun, 04 Nov 2012 15:56:35 +0100
Subject: [Radiance-general] different results
In-Reply-To: <CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
References: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
	<CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
Message-ID: <50968223.8020503@gmx.net>

Dear Shailan,

it will be difficult to help you with this:

1) We do not really know the problem. What means different results - are 
we talking about 1000%, 10%, 0.1%?

2) We do not know the scene (model) and simulation paramaters. Do you 
use a mirror (secondary light source), is direct sun considered, are you 
modeling the sun (if it is existing in the model) by a small light 
source or as contribution to Tregenza patches...? You attached some 
.eco-files, which probably can be opened in Ecotec, but as a Radiance 
user I cannot even open those.

So my advice: Give a really clear description of the problem, and 
provide us with information to reproduce it. E.g. a Radiance scene 
description together with the parameters you are using.

Cheers, Lars.


From gregoryjward at gmail.com  Sun Nov  4 08:18:34 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun, 4 Nov 2012 08:18:34 -0800
Subject: [Radiance-general] different results
In-Reply-To: <50968223.8020503@gmx.net>
References: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
	<CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
	<50968223.8020503@gmx.net>
Message-ID: <485E1988-260C-40DB-ABAF-FBB534244106@lmi.net>

Just a side-note to this:  It is good etiquette to post your scene and related files at a website rather than attaching them to your e-mail.  Most e-mail programs will strip attachments, and we need to be considerate of those who pay for storage or have slow connections.

Best,
-Greg

> From: "Lars O. Grobe" <grobe at gmx.net>
> Date: November 4, 2012 6:56:35 AM PST
> 
> Dear Shailan,
> 
> it will be difficult to help you with this:
> 
> 1) We do not really know the problem. What means different results - are we talking about 1000%, 10%, 0.1%?
> 
> 2) We do not know the scene (model) and simulation paramaters. Do you use a mirror (secondary light source), is direct sun considered, are you modeling the sun (if it is existing in the model) by a small light source or as contribution to Tregenza patches...? You attached some .eco-files, which probably can be opened in Ecotec, but as a Radiance user I cannot even open those.
> 
> So my advice: Give a really clear description of the problem, and provide us with information to reproduce it. E.g. a Radiance scene description together with the parameters you are using.
> 
> Cheers, Lars.
> 


From sh.zareiy at gmail.com  Sun Nov  4 09:08:11 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Sun, 4 Nov 2012 20:38:11 +0330
Subject: [Radiance-general] different results
In-Reply-To: <CABNGNZJinjHgy9RBjP+fpkv5wQ3iE7T7LO0Kg9tNsR_2Du6+gg@mail.gmail.com>
References: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
	<CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
	<50968223.8020503@gmx.net>
	<CABNGNZJinjHgy9RBjP+fpkv5wQ3iE7T7LO0Kg9tNsR_2Du6+gg@mail.gmail.com>
Message-ID: <CABNGNZKR4HTJFJW7zYGV_y9hmvnNOBD6froTan==k+CddEiuOQ@mail.gmail.com>

---------- Forwarded message ----------
From: shailan zareiy <sh.zareiy at gmail.com>
Date: Sun, Nov 4, 2012 at 8:13 PM
Subject: Re: [Radiance-general] different results
To: Radiance general discussion <radiance-general at radiance-online.org>


thank you for your response,I attached two radiance files, unfortunately i
couldn't find where i can send my files from the site.
the difference is 100% or some times more,i attached radiance files,the
light shelf i use has 90% reflectance that should cause increase of
illuminance in the back of the room, but it in rad1 file it is decreased,
and in the rad 2 file it is increased.
I hope these discription would be enough

On Sun, Nov 4, 2012 at 6:26 PM, Lars O. Grobe <grobe at gmx.net> wrote:

> Dear Shailan,
>
> it will be difficult to help you with this:
>
> 1) We do not really know the problem. What means different results - are
> we talking about 1000%, 10%, 0.1%?
>
> 2) We do not know the scene (model) and simulation paramaters. Do you use
> a mirror (secondary light source), is direct sun considered, are you
> modeling the sun (if it is existing in the model) by a small light source
> or as contribution to Tregenza patches...? You attached some .eco-files,
> which probably can be opened in Ecotec, but as a Radiance user I cannot
> even open those.
>
> So my advice: Give a really clear description of the problem, and provide
> us with information to reproduce it. E.g. a Radiance scene description
> together with the parameters you are using.
>
> Cheers, Lars.
>
>
> ______________________________**_________________
> Radiance-general mailing list
> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121104/2a21261c/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rad2.zip
Type: application/zip
Size: 576 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121104/2a21261c/attachment.zip>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rad1.zip
Type: application/zip
Size: 479 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121104/2a21261c/attachment-0001.zip>

From grobe at gmx.net  Mon Nov  5 01:47:57 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 05 Nov 2012 10:47:57 +0100
Subject: [Radiance-general] different results
In-Reply-To: <CABNGNZKR4HTJFJW7zYGV_y9hmvnNOBD6froTan==k+CddEiuOQ@mail.gmail.com>
References: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
	<CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
	<50968223.8020503@gmx.net>
	<CABNGNZJinjHgy9RBjP+fpkv5wQ3iE7T7LO0Kg9tNsR_2Du6+gg@mail.gmail.com>
	<CABNGNZKR4HTJFJW7zYGV_y9hmvnNOBD6froTan==k+CddEiuOQ@mail.gmail.com>
Message-ID: <50978B4D.1080603@gmx.net>

Hi Shailan,

you did not make the model available, so this is all guess-work. By the 
way, as Greg mentioned, we do not attach files on this email list, 
instead use some web- or ftp-space and embed a link into your mail, please.

What you had sent were the parameters used processing the model using 
Radiance tools (collected in rif-files for rad, the control program for 
scene processing). The only interesting difference I found in there was 
the scene extent. While I cannot find out whether my assumption is true 
or not, as I do not have access to the model, a different scene extent 
(geometry) could point us to a difference in the model geometry. I have 
no idea how the two rif-files were created, but if the software doing so 
did a good job, then one model starts at x=1 while the other starts at 
x=2. Not exactly identical models.

Maybe you find a way to put your model onto a ftp or website so that 
others can have a look at it. Aside, you could use objline or objview or 
any kind of scene previewer, rotate a bit, and check that there are no 
obstructions in front of one model's facade or any unwanted differences. 
You can also use getbbox on both radfiles - the bounding box for two 
identical geometries should be the same...

Cheers, Lars.


From grobe at gmx.net  Mon Nov  5 01:56:26 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 05 Nov 2012 10:56:26 +0100
Subject: [Radiance-general] different results
In-Reply-To: <50978B4D.1080603@gmx.net>
References: <CABNGNZJinV+=XcrMVDhmJOA5u66dhnsrDXmWLYMHP75scbjwwg@mail.gmail.com>
	<CABNGNZ+zK-L7frYfSwSG1zi66oXrH+Nf=Vk5JWbABRpY8GTNTw@mail.gmail.com>
	<50968223.8020503@gmx.net>
	<CABNGNZJinjHgy9RBjP+fpkv5wQ3iE7T7LO0Kg9tNsR_2Du6+gg@mail.gmail.com>
	<CABNGNZKR4HTJFJW7zYGV_y9hmvnNOBD6froTan==k+CddEiuOQ@mail.gmail.com>
	<50978B4D.1080603@gmx.net>
Message-ID: <50978D4A.3070005@gmx.net>

By the way, while your ZONE extends from z=0 to z=4, the view point for 
the plan views (c1) is at z=6. Again I wonder why. I hope you are not 
above the ceiling with your plan views...

Cheers, Lars.


From mamand at gmail.com  Tue Nov  6 04:00:12 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Tue, 6 Nov 2012 14:00:12 +0200
Subject: [Radiance-general] question concerning daylight autonomy
Message-ID: <CALMqCJVJuNj+62iMiTiXkpF8Jb7FE3xeny7bDb4L5-2i8cS0jw@mail.gmail.com>

Dear List,
I am using Radiance through Ecotect. I hope this the correct list for my
question.

Can I calculate daylight autonomy with radiance through Ecotect, for an
office unit that I have modeled in Ecotect? I have done it with Eoctect
already, but i want a more accurate result.

If yes, how can I do this?

Thank you in advance,
MariaM
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121106/83534bd9/attachment.html>

From tito_ at mit.edu  Tue Nov  6 04:40:41 2012
From: tito_ at mit.edu (Christoph Reinhart)
Date: Tue, 6 Nov 2012 12:40:41 +0000
Subject: [Radiance-general] question concerning daylight autonomy
In-Reply-To: <CALMqCJVJuNj+62iMiTiXkpF8Jb7FE3xeny7bDb4L5-2i8cS0jw@mail.gmail.com>
References: <CALMqCJVJuNj+62iMiTiXkpF8Jb7FE3xeny7bDb4L5-2i8cS0jw@mail.gmail.com>
Message-ID: <1B23446CBF250648A2FC775DE3FE7E801C9AAD@OC11expo28.exchange.mit.edu>

Dear Maria,

You will find a tutorial on Using Ecotect in combination with Radiance and Daysim under http://mit.edu/SustainableDesignLab/teaching_resources.html.

Best,

Christoph


From: Maria Mandalaki [mailto:mamand at gmail.com]
Sent: Tuesday, November 06, 2012 7:00 AM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] question concerning daylight autonomy

Dear List,
I am using Radiance through Ecotect. I hope this the correct list for my question.

Can I calculate daylight autonomy with radiance through Ecotect, for an office unit that I have modeled in Ecotect? I have done it with Eoctect already, but i want a more accurate result.

If yes, how can I do this?

Thank you in advance,
MariaM



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121106/1b286204/attachment.html>

From mamand at gmail.com  Tue Nov  6 05:00:13 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Tue, 6 Nov 2012 15:00:13 +0200
Subject: [Radiance-general] question concerning daylight autonomy
In-Reply-To: <1B23446CBF250648A2FC775DE3FE7E801C9AAD@OC11expo28.exchange.mit.edu>
References: <CALMqCJVJuNj+62iMiTiXkpF8Jb7FE3xeny7bDb4L5-2i8cS0jw@mail.gmail.com>
	<1B23446CBF250648A2FC775DE3FE7E801C9AAD@OC11expo28.exchange.mit.edu>
Message-ID: <CALMqCJUYbgQKiXpWh8HNb5SExy=TvrVFCMe+6SB9ocTmKCB=BA@mail.gmail.com>

Thank you!
I hope i will find there what I am searching for!

MariaM

On Tue, Nov 6, 2012 at 2:40 PM, Christoph Reinhart <tito_ at mit.edu> wrote:

>  Dear Maria,****
>
> ** **
>
> You will find a tutorial on Using Ecotect in combination with Radiance and
> Daysim under http://mit.edu/SustainableDesignLab/teaching_resources.html.*
> ***
>
> ** **
>
> Best,****
>
> ** **
>
> Christoph****
>
> ** **
>
> ** **
>
> *From:* Maria Mandalaki [mailto:mamand at gmail.com]
> *Sent:* Tuesday, November 06, 2012 7:00 AM
> *To:* radiance-general at radiance-online.org
> *Subject:* [Radiance-general] question concerning daylight autonomy****
>
> ** **
>
> Dear List,
> I am using Radiance through Ecotect. I hope this the correct list for my
> question.
>
> Can I calculate daylight autonomy with radiance through Ecotect, for an
> office unit that I have modeled in Ecotect? I have done it with Eoctect
> already, but i want a more accurate result.
>
> If yes, how can I do this?
>
> Thank you in advance,
> MariaM
>
>
>
> ****
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121106/2e73387e/attachment.html>

From sh.zareiy at gmail.com  Mon Nov 12 09:08:36 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Mon, 12 Nov 2012 20:38:36 +0330
Subject: [Radiance-general] reflector size
Message-ID: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>

hi every body.i am creating a lightshelf in radiance. i have a
question.what is the minimum size that radiance considers for a reflector.
my simulations shows some mistakes when the lightshelf is less than 0.5
meter
Thank you
Sincerely
Shailan zareiy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121112/1b82f8a1/attachment.html>

From gregoryjward at gmail.com  Mon Nov 12 09:38:49 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 12 Nov 2012 09:38:49 -0800
Subject: [Radiance-general] reflector size
In-Reply-To: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>
References: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>
Message-ID: <D5D611C2-FF8D-44CD-A012-D65073DD9D68@lmi.net>

Hi Shailan,

You need to give more details.  Is this a mirrored light shelf, and what material does it use?

There is no "minimum size" for sampling in Radiance.  However, depending on your scene and your rendering parameters, errors may increase as a bright, important surface gets relatively smaller and it may be necessary to adjust some parameters to compensate.

Without an image or any other information about your scene, it is impossible to be of help.

Best,
-Greg

> From: shailan zareiy <sh.zareiy at gmail.com>
> Date: November 12, 2012 9:08:36 AM PST
> 
> hi every body.i am creating a lightshelf in radiance. i have a question.what is the minimum size that radiance considers for a reflector. my simulations shows some mistakes when the lightshelf is less than 0.5 meter
> Thank you
> Sincerely
> Shailan zareiy


From sh.zareiy at gmail.com  Mon Nov 12 09:52:39 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Mon, 12 Nov 2012 21:22:39 +0330
Subject: [Radiance-general] reflector size
In-Reply-To: <D5D611C2-FF8D-44CD-A012-D65073DD9D68@lmi.net>
References: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>
	<D5D611C2-FF8D-44CD-A012-D65073DD9D68@lmi.net>
Message-ID: <CABNGNZJGfGwL8TPtydLX2mYM_9=nKKhCg3gO7WHm1t+8drAtKg@mail.gmail.com>

Thank you Greg for your quick answer.
yes, the light shelf i simulate is a mirrored shelf.The material that i
assign to it is
void mirror Mirror3
0
0
3   .91 .91 .91
and the parameters of rendering are :
-dp=2048
-ar=32
-ms=0.063
-ds=.2
-dt=.05
-dc=.75
-dr=3
-sj=1
-st=.01
-ab=3
-aa=.1
-ad=512
-as=256
-av=0.01 0.01 0.01
-lr=12
-lw=.0005
I hope that these information is efficient

On Mon, Nov 12, 2012 at 9:08 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Shailan,
>
> You need to give more details.  Is this a mirrored light shelf, and what
> material does it use?
>
> There is no "minimum size" for sampling in Radiance.  However, depending
> on your scene and your rendering parameters, errors may increase as a
> bright, important surface gets relatively smaller and it may be necessary
> to adjust some parameters to compensate.
>
> Without an image or any other information about your scene, it is
> impossible to be of help.
>
> Best,
> -Greg
>
> > From: shailan zareiy <sh.zareiy at gmail.com>
> > Date: November 12, 2012 9:08:36 AM PST
> >
> > hi every body.i am creating a lightshelf in radiance. i have a
> question.what is the minimum size that radiance considers for a reflector.
> my simulations shows some mistakes when the lightshelf is less than 0.5
> meter
> > Thank you
> > Sincerely
> > Shailan zareiy
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121112/48ae344e/attachment.html>

From gregoryjward at gmail.com  Mon Nov 12 10:08:43 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 12 Nov 2012 10:08:43 -0800
Subject: [Radiance-general] reflector size
In-Reply-To: <CABNGNZJGfGwL8TPtydLX2mYM_9=nKKhCg3gO7WHm1t+8drAtKg@mail.gmail.com>
References: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>
	<D5D611C2-FF8D-44CD-A012-D65073DD9D68@lmi.net>
	<CABNGNZJGfGwL8TPtydLX2mYM_9=nKKhCg3gO7WHm1t+8drAtKg@mail.gmail.com>
Message-ID: <FCE54982-7CB5-4CB9-ABC0-4F18BF59565A@lmi.net>

Have you rendered an image?  It helps a lot to tell what the source of errors might be.  My first suggestion would be to increase the -ad and -as settings.  Try doubling them to start.

-Greg

> From: shailan zareiy <sh.zareiy at gmail.com>
> Date: November 12, 2012 9:52:39 AM PST
> 
> Thank you Greg for your quick answer. 
> yes, the light shelf i simulate is a mirrored shelf.The material that i assign to it is  
> void mirror Mirror3
> 0
> 0
> 3   .91 .91 .91
> and the parameters of rendering are :
> -dp=2048
> -ar=32
> -ms=0.063
> -ds=.2
> -dt=.05
> -dc=.75
> -dr=3
> -sj=1
> -st=.01
> -ab=3
> -aa=.1
> -ad=512
> -as=256
> -av=0.01 0.01 0.01
> -lr=12
> -lw=.0005
> I hope that these information is efficient
> 
> On Mon, Nov 12, 2012 at 9:08 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi Shailan,
> 
> You need to give more details.  Is this a mirrored light shelf, and what material does it use?
> 
> There is no "minimum size" for sampling in Radiance.  However, depending on your scene and your rendering parameters, errors may increase as a bright, important surface gets relatively smaller and it may be necessary to adjust some parameters to compensate.
> 
> Without an image or any other information about your scene, it is impossible to be of help.
> 
> Best,
> -Greg
> 
> > From: shailan zareiy <sh.zareiy at gmail.com>
> > Date: November 12, 2012 9:08:36 AM PST
> >
> > hi every body.i am creating a lightshelf in radiance. i have a question.what is the minimum size that radiance considers for a reflector. my simulations shows some mistakes when the lightshelf is less than 0.5 meter
> > Thank you
> > Sincerely
> > Shailan zareiy
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121112/cd53f553/attachment.html>

From Christopher.Rush at arup.com  Mon Nov 12 10:20:29 2012
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Mon, 12 Nov 2012 13:20:29 -0500
Subject: [Radiance-general] reflector size
In-Reply-To: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>
References: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B051B89744A3@AMXEXC01.global.arup.com>

What types of mistakes are there? Are you expecting to see direct reflection of the sun that is missing? Are you expecting higher overall values? Are you seeing a direct reflection when you were expecting it to be scattered?

You mention the error occurs when the light shelf is less than 0.5m. Is it 0.5m square? Or is it 0.5m by some longer length? Also, what are the dimensions of the room it's in? And is there a lot of additional geometry outside of the room, like the rest of a building, or even surrounding buildings? How large is everything outside the room?

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121112/794b16d2/attachment-0001.html>

From sh.zareiy at gmail.com  Mon Nov 12 12:10:52 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Mon, 12 Nov 2012 23:40:52 +0330
Subject: [Radiance-general] reflector size
In-Reply-To: <28285BAEA8C0814DBF1B199C876EC5B051B89744A3@AMXEXC01.global.arup.com>
References: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>
	<28285BAEA8C0814DBF1B199C876EC5B051B89744A3@AMXEXC01.global.arup.com>
Message-ID: <CABNGNZJeEr=ZNX6deuPc7eJshAaGYBs3aHC4Asg0Q_7Y51rULA@mail.gmail.com>

Dear Christopher and Greg
The problem i told is that ,for example a light shelf with width of 0.2m
increases the illumination of the zone more than a shelf with the width of
0.5 or more. but it seems that it is solved when i increase the resolution
,with increasing ad and as.thank you for your help.
i have another question that is how can i make a diffuse reflection from a
mirror material as a secondary light source
Thanks
Shailan

On Mon, Nov 12, 2012 at 9:50 PM, Christopher Rush <Christopher.Rush at arup.com
> wrote:

> What types of mistakes are there? Are you expecting to see direct
> reflection of the sun that is missing? Are you expecting higher overall
> values? Are you seeing a direct reflection when you were expecting it to be
> scattered?****
>
> ** **
>
> You mention the error occurs when the light shelf is less than 0.5m. Is it
> 0.5m square? Or is it 0.5m by some longer length? Also, what are the
> dimensions of the room it?s in? And is there a lot of additional geometry
> outside of the room, like the rest of a building, or even surrounding
> buildings? How large is everything outside the room?****
>
> ** **
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121112/2603ef44/attachment.html>

From gregoryjward at gmail.com  Mon Nov 12 12:32:52 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 12 Nov 2012 12:32:52 -0800
Subject: [Radiance-general] reflector size
In-Reply-To: <CABNGNZJeEr=ZNX6deuPc7eJshAaGYBs3aHC4Asg0Q_7Y51rULA@mail.gmail.com>
References: <CABNGNZ+h_DROWEFET6Onh6vpKJU-9x_cU3f6_vw72rig8n9Rgg@mail.gmail.com>
	<28285BAEA8C0814DBF1B199C876EC5B051B89744A3@AMXEXC01.global.arup.com>
	<CABNGNZJeEr=ZNX6deuPc7eJshAaGYBs3aHC4Asg0Q_7Y51rULA@mail.gmail.com>
Message-ID: <7D83F2E7-4538-4086-8205-886416FA0E10@lmi.net>

An example of how this is done is given in the ray/obj/virtual directory included with the Radiance auxiliary file distribution.  Unfortunately, I don't have time to answer further questions on this.  You'll just have to figure it out yourself.

-Greg

> From: shailan zareiy <sh.zareiy at gmail.com>
> Date: November 12, 2012 12:10:52 PM PST
> 
> Dear Christopher and Greg
> The problem i told is that ,for example a light shelf with width of 0.2m increases the illumination of the zone more than a shelf with the width of 0.5 or more. but it seems that it is solved when i increase the resolution ,with increasing ad and as.thank you for your help.
> i have another question that is how can i make a diffuse reflection from a mirror material as a secondary light source
> Thanks
> Shailan
> 
> On Mon, Nov 12, 2012 at 9:50 PM, Christopher Rush <Christopher.Rush at arup.com> wrote:
> What types of mistakes are there? Are you expecting to see direct reflection of the sun that is missing? Are you expecting higher overall values? Are you seeing a direct reflection when you were expecting it to be scattered?
> 
>  
> 
> You mention the error occurs when the light shelf is less than 0.5m. Is it 0.5m square? Or is it 0.5m by some longer length? Also, what are the dimensions of the room it?s in? And is there a lot of additional geometry outside of the room, like the rest of a building, or even surrounding buildings? How large is everything outside the room?
> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121112/caa87f8b/attachment.html>

From mamand at gmail.com  Mon Nov 12 23:58:12 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Tue, 13 Nov 2012 09:58:12 +0200
Subject: [Radiance-general] Calculate DGI with Radiance through Ecotect
Message-ID: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>

I hope this is the correct list for users of Radiance through Ecotect.

I am trying to calculate DGI for a specific camera view - position.
I calculate the luminance using Radiance through Ecotect. Then the
generated pic file I copy it in the command prompt starting file. There I
copy the following command that is the ulim
that is: fl2cd(v)=3.426*v;cd2fl(v)=0.292*v;ulim(La)=fl2cd(10^(5.731+(log10(cd2fl(La))+5)*(0.3376+(log10(cd2fl(La))+5)*0.0189)-6));

Then I Type the following in the command prompt for my file that is called
(ex2)

findglare -p ex2_c1.pic -t 100000|glarendx -h -t vert_ill|rcalc -f
ulim.cal -e '$1=ulim($2/PI)'

Then I get the following message:
findglare: picture read error
'$1=ulim($2/PI)'
^ illegal variable name

Do you have any idea why this is happening?

Thank you in advance

MAria
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/a16c906b/attachment.html>

From Raphael.Compagnon at hefr.ch  Tue Nov 13 01:50:57 2012
From: Raphael.Compagnon at hefr.ch (=?iso-8859-1?Q?Compagnon_Rapha=EBl?=)
Date: Tue, 13 Nov 2012 09:50:57 +0000
Subject: [Radiance-general] RE : Calculate DGI with Radiance through Ecotect
In-Reply-To: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
References: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
Message-ID: <A6691D7EACBAC74589C1134EB0758B7F02EDF27C@HEFRMBX01.sofr.hefr.lan>

Hi

It seems findglare complains because the picture file ex2_c1.pic either is corrupted or is an unfisnished picture.

Raphael


From mamand at gmail.com  Tue Nov 13 02:44:08 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Tue, 13 Nov 2012 12:44:08 +0200
Subject: [Radiance-general] RE : Calculate DGI with Radiance through
	Ecotect
In-Reply-To: <A6691D7EACBAC74589C1134EB0758B7F02EDF27C@HEFRMBX01.sofr.hefr.lan>
References: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF27C@HEFRMBX01.sofr.hefr.lan>
Message-ID: <CALMqCJU4QaRRzSBxZ_+S+5Sywa4d=br66meE4iheSB1CLJFb0g@mail.gmail.com>

Thank you very much Raphael!
But why is this happening? I can open the image, i can see it and it looks
fine!

maria

On Tue, Nov 13, 2012 at 11:50 AM, Compagnon Rapha?l <
Raphael.Compagnon at hefr.ch> wrote:

> Hi
>
> It seems findglare complains because the picture file ex2_c1.pic either is
> corrupted or is an unfisnished picture.
>
> Raphael
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/f454c9e2/attachment.html>

From Raphael.Compagnon at hefr.ch  Tue Nov 13 03:10:56 2012
From: Raphael.Compagnon at hefr.ch (=?iso-8859-1?Q?Compagnon_Rapha=EBl?=)
Date: Tue, 13 Nov 2012 11:10:56 +0000
Subject: [Radiance-general] RE : RE : Calculate DGI with Radiance
	through	Ecotect
In-Reply-To: <CALMqCJU4QaRRzSBxZ_+S+5Sywa4d=br66meE4iheSB1CLJFb0g@mail.gmail.com>
References: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF27C@HEFRMBX01.sofr.hefr.lan>,
	<CALMqCJU4QaRRzSBxZ_+S+5Sywa4d=br66meE4iheSB1CLJFb0g@mail.gmail.com>
Message-ID: <A6691D7EACBAC74589C1134EB0758B7F02EDF2B0@HEFRMBX01.sofr.hefr.lan>

then send your picture file...

From mamand at gmail.com  Tue Nov 13 07:02:39 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Tue, 13 Nov 2012 17:02:39 +0200
Subject: [Radiance-general] RE : RE : The picture
In-Reply-To: <A6691D7EACBAC74589C1134EB0758B7F02EDF2F5@HEFRMBX01.sofr.hefr.lan>
References: <CALMqCJXSAcjJKJRS+YMDDhP+K+vJt+_RrRHhYuEr5-A6XwXeNw@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2E3@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJXe2ZO86hJgNSYddsJ+H6Z2YUz7BLPBK7921U7Pn9-L2A@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2F5@HEFRMBX01.sofr.hefr.lan>
Message-ID: <CALMqCJVDzPxOdwDOEUeYeYEKCozFFwnJxV5EHC+GNnHySmUD4w@mail.gmail.com>

That should be exactly the problem! Thank you a lot Raphael!
Yes I use radiance on windows.
Where can I find the Desktop Radiance 4.1? There is only the 2.0 beta
version on the web site.
Can I simply  update my version (2.0 Beta version)?

Maria

On Tue, Nov 13, 2012 at 3:01 PM, Compagnon Rapha?l <
Raphael.Compagnon at hefr.ch> wrote:

> Hi
>
> Apparently your are using RADIANCE on a Windows system. I have just found
> this sentence in the latest Radiance release note (version 4.1)
> http://radsite.lbl.gov/radiance/refer/Notes/ReleaseNotes.html#Version%204.1
>
> Fixed bug in findglare for reading picture files under Windows.
>
> I think the bug you are experiencing is exacly this one! Then you should
> update your Radiance software with the latest release... or start using
> Radiance on a Linux system.
>
> Hope this will help you.
>
> Rapha?l
>
> ________________________________
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/9cbd3990/attachment.html>

From alstan at jakubiec.net  Tue Nov 13 07:27:28 2012
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Tue, 13 Nov 2012 10:27:28 -0500
Subject: [Radiance-general] RE : RE : The picture
In-Reply-To: <CALMqCJVDzPxOdwDOEUeYeYEKCozFFwnJxV5EHC+GNnHySmUD4w@mail.gmail.com>
References: <CALMqCJXSAcjJKJRS+YMDDhP+K+vJt+_RrRHhYuEr5-A6XwXeNw@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2E3@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJXe2ZO86hJgNSYddsJ+H6Z2YUz7BLPBK7921U7Pn9-L2A@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2F5@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJVDzPxOdwDOEUeYeYEKCozFFwnJxV5EHC+GNnHySmUD4w@mail.gmail.com>
Message-ID: <op.wnpw72gcc8ew1p@jakubiec.hsd1.ma.comcast.net>

Hi Maria,

Unfortunately obtaining Windows binaries for Radiance is a bit of a  
circuitous path. The NREL OpenStudio team maintains a nice collection  
however which can be downloaded below,
https://openstudio.nrel.gov/getting-started-developer/getting-started-radiance

Best,
Alstan


On Tue, 13 Nov 2012 10:02:39 -0500, Maria Mandalaki <mamand at gmail.com>  
wrote:

> That should be exactly the problem! Thank you a lot Raphael!
> Yes I use radiance on windows.
> Where can I find the Desktop Radiance 4.1? There is only the 2.0 beta
> version on the web site.
> Can I simply  update my version (2.0 Beta version)?
>
> Maria
>
> On Tue, Nov 13, 2012 at 3:01 PM, Compagnon Rapha?l <
> Raphael.Compagnon at hefr.ch> wrote:
>
>> Hi
>>
>> Apparently your are using RADIANCE on a Windows system. I have just  
>> found
>> this sentence in the latest Radiance release note (version 4.1)
>> http://radsite.lbl.gov/radiance/refer/Notes/ReleaseNotes.html#Version%204.1
>>
>> Fixed bug in findglare for reading picture files under Windows.
>>
>> I think the bug you are experiencing is exacly this one! Then you should
>> update your Radiance software with the latest release... or start using
>> Radiance on a Linux system.
>>
>> Hope this will help you.
>>
>> Rapha?l
>>
>> ________________________________


From mamand at gmail.com  Tue Nov 13 07:55:42 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Tue, 13 Nov 2012 17:55:42 +0200
Subject: [Radiance-general] RE : RE : The picture
In-Reply-To: <op.wnpw72gcc8ew1p@jakubiec.hsd1.ma.comcast.net>
References: <CALMqCJXSAcjJKJRS+YMDDhP+K+vJt+_RrRHhYuEr5-A6XwXeNw@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2E3@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJXe2ZO86hJgNSYddsJ+H6Z2YUz7BLPBK7921U7Pn9-L2A@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2F5@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJVDzPxOdwDOEUeYeYEKCozFFwnJxV5EHC+GNnHySmUD4w@mail.gmail.com>
	<op.wnpw72gcc8ew1p@jakubiec.hsd1.ma.comcast.net>
Message-ID: <CALMqCJVehfWHNEOhQuRytC3kFsQE26QrZ9zSqs7Gg+yK5s5drA@mail.gmail.com>

Thanks Alstan, I will check it!
But I hope to find an easier way to just run findglare!


Regards,
Maria

On Tue, Nov 13, 2012 at 5:27 PM, J. Alstan Jakubiec <alstan at jakubiec.net>wrote:

> Hi Maria,
>
> Unfortunately obtaining Windows binaries for Radiance is a bit of a
> circuitous path. The NREL OpenStudio team maintains a nice collection
> however which can be downloaded below,
> https://openstudio.nrel.gov/**getting-started-developer/**
> getting-started-radiance<https://openstudio.nrel.gov/getting-started-developer/getting-started-radiance>
>
> Best,
> Alstan
>
>
>
> On Tue, 13 Nov 2012 10:02:39 -0500, Maria Mandalaki <mamand at gmail.com>
> wrote:
>
>  That should be exactly the problem! Thank you a lot Raphael!
>> Yes I use radiance on windows.
>> Where can I find the Desktop Radiance 4.1? There is only the 2.0 beta
>> version on the web site.
>> Can I simply  update my version (2.0 Beta version)?
>>
>> Maria
>>
>> On Tue, Nov 13, 2012 at 3:01 PM, Compagnon Rapha?l <
>> Raphael.Compagnon at hefr.ch> wrote:
>>
>>  Hi
>>>
>>> Apparently your are using RADIANCE on a Windows system. I have just found
>>> this sentence in the latest Radiance release note (version 4.1)
>>> http://radsite.lbl.gov/**radiance/refer/Notes/**
>>> ReleaseNotes.html#Version%204.**1<http://radsite.lbl.gov/radiance/refer/Notes/ReleaseNotes.html#Version%204.1>
>>>
>>> Fixed bug in findglare for reading picture files under Windows.
>>>
>>> I think the bug you are experiencing is exacly this one! Then you should
>>> update your Radiance software with the latest release... or start using
>>> Radiance on a Linux system.
>>>
>>> Hope this will help you.
>>>
>>> Rapha?l
>>>
>>> ______________________________**__
>>>
>>
> ______________________________**_________________
> Radiance-general mailing list
> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/5f2710fc/attachment.html>

From gregoryjward at gmail.com  Tue Nov 13 07:57:48 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 13 Nov 2012 07:57:48 -0800
Subject: [Radiance-general] RE : Calculate DGI with Radiance through
	Ecotect
In-Reply-To: <CALMqCJU4QaRRzSBxZ_+S+5Sywa4d=br66meE4iheSB1CLJFb0g@mail.gmail.com>
References: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF27C@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJU4QaRRzSBxZ_+S+5Sywa4d=br66meE4iheSB1CLJFb0g@mail.gmail.com>
Message-ID: <7D94AE28-6D44-4838-A161-72FDE935D6AB@lmi.net>

There was a memory issue with findglare that surfaced about a month ago and is fixed in the latest HEAD.  I'm not sure which binaries you are working from, but this is likely the culprit.

Best,
-Greg

> From: Maria Mandalaki <mamand at gmail.com>
> Date: November 13, 2012 2:44:08 AM PST
> 
> Thank you very much Raphael!
> But why is this happening? I can open the image, i can see it and it looks fine!
> 
> maria
> 
> On Tue, Nov 13, 2012 at 11:50 AM, Compagnon Rapha?l <Raphael.Compagnon at hefr.ch> wrote:
> Hi
> 
> It seems findglare complains because the picture file ex2_c1.pic either is corrupted or is an unfisnished picture.
> 
> Raphael
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/050ff6a9/attachment.html>

From mamand at gmail.com  Tue Nov 13 08:00:30 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Tue, 13 Nov 2012 18:00:30 +0200
Subject: [Radiance-general] RE : RE : The picture
In-Reply-To: <CALMqCJVehfWHNEOhQuRytC3kFsQE26QrZ9zSqs7Gg+yK5s5drA@mail.gmail.com>
References: <CALMqCJXSAcjJKJRS+YMDDhP+K+vJt+_RrRHhYuEr5-A6XwXeNw@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2E3@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJXe2ZO86hJgNSYddsJ+H6Z2YUz7BLPBK7921U7Pn9-L2A@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2F5@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJVDzPxOdwDOEUeYeYEKCozFFwnJxV5EHC+GNnHySmUD4w@mail.gmail.com>
	<op.wnpw72gcc8ew1p@jakubiec.hsd1.ma.comcast.net>
	<CALMqCJVehfWHNEOhQuRytC3kFsQE26QrZ9zSqs7Gg+yK5s5drA@mail.gmail.com>
Message-ID: <CALMqCJWQND68SdMjAY-D_t-Hvu2RktTrmQL05m9nSk44rZk5Jg@mail.gmail.com>

Thanks Raphael!
But I am not ready for that!

Maria

On Tue, Nov 13, 2012 at 5:55 PM, Maria Mandalaki <mamand at gmail.com> wrote:

> Thanks Alstan, I will check it!
> But I hope to find an easier way to just run findglare!
>
>
> Regards,
> Maria
>
>
> On Tue, Nov 13, 2012 at 5:27 PM, J. Alstan Jakubiec <alstan at jakubiec.net>wrote:
>
>> Hi Maria,
>>
>> Unfortunately obtaining Windows binaries for Radiance is a bit of a
>> circuitous path. The NREL OpenStudio team maintains a nice collection
>> however which can be downloaded below,
>> https://openstudio.nrel.gov/**getting-started-developer/**
>> getting-started-radiance<https://openstudio.nrel.gov/getting-started-developer/getting-started-radiance>
>>
>> Best,
>> Alstan
>>
>>
>>
>> On Tue, 13 Nov 2012 10:02:39 -0500, Maria Mandalaki <mamand at gmail.com>
>> wrote:
>>
>>  That should be exactly the problem! Thank you a lot Raphael!
>>> Yes I use radiance on windows.
>>> Where can I find the Desktop Radiance 4.1? There is only the 2.0 beta
>>> version on the web site.
>>> Can I simply  update my version (2.0 Beta version)?
>>>
>>> Maria
>>>
>>> On Tue, Nov 13, 2012 at 3:01 PM, Compagnon Rapha?l <
>>> Raphael.Compagnon at hefr.ch> wrote:
>>>
>>>  Hi
>>>>
>>>> Apparently your are using RADIANCE on a Windows system. I have just
>>>> found
>>>> this sentence in the latest Radiance release note (version 4.1)
>>>> http://radsite.lbl.gov/**radiance/refer/Notes/**
>>>> ReleaseNotes.html#Version%204.**1<http://radsite.lbl.gov/radiance/refer/Notes/ReleaseNotes.html#Version%204.1>
>>>>
>>>> Fixed bug in findglare for reading picture files under Windows.
>>>>
>>>> I think the bug you are experiencing is exacly this one! Then you should
>>>> update your Radiance software with the latest release... or start using
>>>> Radiance on a Linux system.
>>>>
>>>> Hope this will help you.
>>>>
>>>> Rapha?l
>>>>
>>>> ______________________________**__
>>>>
>>>
>> ______________________________**_________________
>> Radiance-general mailing list
>> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
>> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/1760dc40/attachment-0001.html>

From mamand at gmail.com  Tue Nov 13 08:06:43 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Tue, 13 Nov 2012 18:06:43 +0200
Subject: [Radiance-general] RE : Calculate DGI with Radiance through
	Ecotect
In-Reply-To: <7D94AE28-6D44-4838-A161-72FDE935D6AB@lmi.net>
References: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF27C@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJU4QaRRzSBxZ_+S+5Sywa4d=br66meE4iheSB1CLJFb0g@mail.gmail.com>
	<7D94AE28-6D44-4838-A161-72FDE935D6AB@lmi.net>
Message-ID: <CALMqCJX7RTD+tEqokorGRmsqimM8ig1LBz68iShLyB6nom7LuA@mail.gmail.com>

Thanks Greg! Where can I find this HEAD?

Maria

On Tue, Nov 13, 2012 at 5:57 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> There was a memory issue with findglare that surfaced about a month ago
> and is fixed in the latest HEAD.  I'm not sure which binaries you are
> working from, but this is likely the culprit.
>
> Best,
> -Greg
>
> *From: *Maria Mandalaki <mamand at gmail.com>
>
> *Date: *November 13, 2012 2:44:08 AM PST
>
> *
> *
>
> Thank you very much Raphael!
> But why is this happening? I can open the image, i can see it and it looks
> fine!
>
> maria
>
> On Tue, Nov 13, 2012 at 11:50 AM, Compagnon Rapha?l <
> Raphael.Compagnon at hefr.ch> wrote:
>
>> Hi
>>
>> It seems findglare complains because the picture file ex2_c1.pic either
>> is corrupted or is an unfisnished picture.
>>
>> Raphael
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/a61a7abd/attachment.html>

From jan.wienold at ise.fraunhofer.de  Tue Nov 13 08:23:06 2012
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Tue, 13 Nov 2012 17:23:06 +0100
Subject: [Radiance-general] Calculate DGI with Radiance through Ecotect
In-Reply-To: <CALMqCJWQND68SdMjAY-D_t-Hvu2RktTrmQL05m9nSk44rZk5Jg@mail.gmail.com>
References: <CALMqCJXSAcjJKJRS+YMDDhP+K+vJt+_RrRHhYuEr5-A6XwXeNw@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2E3@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJXe2ZO86hJgNSYddsJ+H6Z2YUz7BLPBK7921U7Pn9-L2A@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F02EDF2F5@HEFRMBX01.sofr.hefr.lan>
	<CALMqCJVDzPxOdwDOEUeYeYEKCozFFwnJxV5EHC+GNnHySmUD4w@mail.gmail.com>
	<op.wnpw72gcc8ew1p@jakubiec.hsd1.ma.comcast.net>
	<CALMqCJVehfWHNEOhQuRytC3kFsQE26QrZ9zSqs7Gg+yK5s5drA@mail.gmail.com>
	<CALMqCJWQND68SdMjAY-D_t-Hvu2RktTrmQL05m9nSk44rZk5Jg@mail.gmail.com>
Message-ID: <50A273EA.5050909@ise.fraunhofer.de>

Hi Maria,

you can also use evalglare to evaluate glare within (fish-eye) images.
Besides DGI, it calculates also the Daylight Glare Probability DGP, 
which might be a more reliable glare evaluation method than the DGI.

If you have non-fish-eye images only, it is from my point of view very 
difficult to get a reliable glare evaluation since you miss parts of the 
field of view.

You can download evalglare here - a short description is within the zip 
file:

http://www.ise.fraunhofer.de/radiance

Jan

On 11/13/2012 05:00 PM, Maria Mandalaki wrote:
> Thanks Raphael!
> But I am not ready for that!
>
> Maria
>
> On Tue, Nov 13, 2012 at 5:55 PM, Maria Mandalaki <mamand at gmail.com 
> <mailto:mamand at gmail.com>> wrote:
>
>     Thanks Alstan, I will check it!
>     But I hope to find an easier way to just run findglare!
>
>
>     Regards,
>     Maria
>
>
>     On Tue, Nov 13, 2012 at 5:27 PM, J. Alstan Jakubiec
>     <alstan at jakubiec.net <mailto:alstan at jakubiec.net>> wrote:
>
>         Hi Maria,
>
>         Unfortunately obtaining Windows binaries for Radiance is a bit
>         of a circuitous path. The NREL OpenStudio team maintains a
>         nice collection however which can be downloaded below,
>         https://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>
>         Best,
>         Alstan
>
>
>
>         On Tue, 13 Nov 2012 10:02:39 -0500, Maria Mandalaki
>         <mamand at gmail.com <mailto:mamand at gmail.com>> wrote:
>
>             That should be exactly the problem! Thank you a lot Raphael!
>             Yes I use radiance on windows.
>             Where can I find the Desktop Radiance 4.1? There is only
>             the 2.0 beta
>             version on the web site.
>             Can I simply  update my version (2.0 Beta version)?
>
>             Maria
>
>             On Tue, Nov 13, 2012 at 3:01 PM, Compagnon Rapha?l <
>             Raphael.Compagnon at hefr.ch
>             <mailto:Raphael.Compagnon at hefr.ch>> wrote:
>
>                 Hi
>
>                 Apparently your are using RADIANCE on a Windows
>                 system. I have just found
>                 this sentence in the latest Radiance release note
>                 (version 4.1)
>                 http://radsite.lbl.gov/radiance/refer/Notes/ReleaseNotes.html#Version%204.1
>
>                 Fixed bug in findglare for reading picture files under
>                 Windows.
>
>                 I think the bug you are experiencing is exacly this
>                 one! Then you should
>                 update your Radiance software with the latest
>                 release... or start using
>                 Radiance on a Linux system.
>
>                 Hope this will help you.
>
>                 Rapha?l
>
>                 ________________________________
>
>
>         _______________________________________________
>         Radiance-general mailing list
>         Radiance-general at radiance-online.org
>         <mailto:Radiance-general at radiance-online.org>
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office:
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/4559ba1b/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Nov 13 08:31:34 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 13 Nov 2012 09:31:34 -0700
Subject: [Radiance-general] RE : RE : The picture
In-Reply-To: <op.wnpw72gcc8ew1p@jakubiec.hsd1.ma.comcast.net>
Message-ID: <CCC7C38E.16DB6%robert.guglielmetti@nrel.gov>

Thanks Alstan,

Just FYI, we are a bit behind the HEAD code in the binaries on the NREL
site. We usually update every month or so, and are probably due for
another freshening up. I post update announcements on the
radiance-openstudio list here.
 

Rob Guglielmetti
National Renewable Energy Laboratory (NREL)
Commercial Buildings Research Group
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov






On 11/13/12 8:27 AM, "J. Alstan Jakubiec" <alstan at jakubiec.net> wrote:

>Hi Maria,
>
>Unfortunately obtaining Windows binaries for Radiance is a bit of a
>circuitous path. The NREL OpenStudio team maintains a nice collection
>however which can be downloaded below,
>https://openstudio.nrel.gov/getting-started-developer/getting-started-radi
>ance
>
>Best,
>Alstan
>
>
>On Tue, 13 Nov 2012 10:02:39 -0500, Maria Mandalaki <mamand at gmail.com>
>wrote:
>
>> That should be exactly the problem! Thank you a lot Raphael!
>> Yes I use radiance on windows.
>> Where can I find the Desktop Radiance 4.1? There is only the 2.0 beta
>> version on the web site.
>> Can I simply  update my version (2.0 Beta version)?
>>
>> Maria
>>
>> On Tue, Nov 13, 2012 at 3:01 PM, Compagnon Rapha?l <
>> Raphael.Compagnon at hefr.ch> wrote:
>>
>>> Hi
>>>
>>> Apparently your are using RADIANCE on a Windows system. I have just
>>> found
>>> this sentence in the latest Radiance release note (version 4.1)
>>> 
>>>http://radsite.lbl.gov/radiance/refer/Notes/ReleaseNotes.html#Version%20
>>>4.1
>>>
>>> Fixed bug in findglare for reading picture files under Windows.
>>>
>>> I think the bug you are experiencing is exacly this one! Then you
>>>should
>>> update your Radiance software with the latest release... or start using
>>> Radiance on a Linux system.
>>>
>>> Hope this will help you.
>>>
>>> Rapha?l
>>>
>>> ________________________________
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From amcneil at lbl.gov  Tue Nov 13 12:04:07 2012
From: amcneil at lbl.gov (Andrew McNeil)
Date: Tue, 13 Nov 2012 12:04:07 -0800
Subject: [Radiance-general] Calculate DGI with Radiance through Ecotect
In-Reply-To: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
References: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
Message-ID: <CAOG+NiyJA3Jh9Z7NXTwviPC8pMK6GXpz1BhB+3wxY0kqzfP7fA@mail.gmail.com>

One other comment -
If you doing this in DOS on windows then you probably need to use double
quotes in the rcalc command like this:
 ... | rcalc -f ulim.cal -e "$1=ulim($2/PI)"


On Mon, Nov 12, 2012 at 11:58 PM, Maria Mandalaki <mamand at gmail.com> wrote:

> I hope this is the correct list for users of Radiance through Ecotect.
>
> I am trying to calculate DGI for a specific camera view - position.
> I calculate the luminance using Radiance through Ecotect. Then the
> generated pic file I copy it in the command prompt starting file. There I
> copy the following command that is the ulim
> that is: fl2cd(v)=3.426*v;cd2fl(v)=0.292*v;ulim(La)=fl2cd(10^(5.731+(log10(cd2fl(La))+5)*(0.3376+(log10(cd2fl(La))+5)*0.0189)-6));
>
> Then I Type the following in the command prompt for my file that is called
> (ex2)
>
> findglare -p ex2_c1.pic -t 100000|glarendx -h -t vert_ill|rcalc -f ulim.cal -e '$1=ulim($2/PI)'
>
>
> Then I get the following message:
>
> findglare: picture read error
> '$1=ulim($2/PI)'
> ^ illegal variable name
>
> Do you have any idea why this is happening?
>
>
> Thank you in advance
>
> MAria
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121113/3cd1176c/attachment.html>

From mamand at gmail.com  Wed Nov 14 03:53:18 2012
From: mamand at gmail.com (Maria Mandalaki)
Date: Wed, 14 Nov 2012 13:53:18 +0200
Subject: [Radiance-general] Calculate DGI with Radiance through Ecotect
In-Reply-To: <CAOG+NiyJA3Jh9Z7NXTwviPC8pMK6GXpz1BhB+3wxY0kqzfP7fA@mail.gmail.com>
References: <CALMqCJUKu_PzYrXuj15YrwbMg1W5xJp6BeH+dSpMXEA5XyZ20w@mail.gmail.com>
	<CAOG+NiyJA3Jh9Z7NXTwviPC8pMK6GXpz1BhB+3wxY0kqzfP7fA@mail.gmail.com>
Message-ID: <CALMqCJW9n7PN=J1N5BjGNiWtYVap=yer8PnHze80L5dPk8KVxw@mail.gmail.com>

Thanks to all,
I will try this as well!

MM

On Tue, Nov 13, 2012 at 10:04 PM, Andrew McNeil <amcneil at lbl.gov> wrote:

> One other comment -
> If you doing this in DOS on windows then you probably need to use double
> quotes in the rcalc command like this:
>  ... | rcalc -f ulim.cal -e "$1=ulim($2/PI)"
>
>
> On Mon, Nov 12, 2012 at 11:58 PM, Maria Mandalaki <mamand at gmail.com>wrote:
>
>> I hope this is the correct list for users of Radiance through Ecotect.
>>
>> I am trying to calculate DGI for a specific camera view - position.
>> I calculate the luminance using Radiance through Ecotect. Then the
>> generated pic file I copy it in the command prompt starting file. There I
>> copy the following command that is the ulim
>> that is: fl2cd(v)=3.426*v;cd2fl(v)=0.292*v;ulim(La)=fl2cd(10^(5.731+(log10(cd2fl(La))+5)*(0.3376+(log10(cd2fl(La))+5)*0.0189)-6));
>>
>> Then I Type the following in the command prompt for my file that is
>> called (ex2)
>>
>> findglare -p ex2_c1.pic -t 100000|glarendx -h -t vert_ill|rcalc -f ulim.cal -e '$1=ulim($2/PI)'
>>
>>
>>
>> Then I get the following message:
>>
>>
>> findglare: picture read error
>> '$1=ulim($2/PI)'
>> ^ illegal variable name
>>
>> Do you have any idea why this is happening?
>>
>>
>>
>> Thank you in advance
>>
>> MAria
>>
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121114/bf4f6337/attachment.html>

From sh.zareiy at gmail.com  Thu Nov 15 22:18:45 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Fri, 16 Nov 2012 09:48:45 +0330
Subject: [Radiance-general] night time analysis
Message-ID: <CABNGNZKV2uQwCt3CDeyyFK3NumSbMGLuyfHzir8AJY4EFfu6mw@mail.gmail.com>

dear all
hello, do you know what causes the my radiance analysis show illumination
higher than 50 lux when I simulate a night time,although in the analysis
process it is written that warning no light source found?  i have a zone
with a window in the south wall, with no electrical light.materials are
plastic
thank you
Shailan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121116/2c80be39/attachment.html>

From grobe at gmx.net  Fri Nov 16 02:59:18 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri, 16 Nov 2012 11:59:18 +0100
Subject: [Radiance-general] night time analysis
In-Reply-To: <CABNGNZKV2uQwCt3CDeyyFK3NumSbMGLuyfHzir8AJY4EFfu6mw@mail.gmail.com>
References: <CABNGNZKV2uQwCt3CDeyyFK3NumSbMGLuyfHzir8AJY4EFfu6mw@mail.gmail.com>
Message-ID: <19E7C9EE-2AE2-48AD-AEB2-0E1AB307C214@gmx.net>

Hi Shailan!

> hello, do you know what causes the my radiance analysis show illumination higher than 50 lux when I simulate a night time,although in the analysis process it is written that warning no light source found?

Did you define any sources? The warning is just about sources of type "light". Do you have sources of type "glow" in your scene? If you have no sources, what would you analyze?

Cheers, Lars.



From jedev at visarc.com  Fri Nov 16 05:58:08 2012
From: jedev at visarc.com (Jack de Valpine)
Date: Fri, 16 Nov 2012 08:58:08 -0500
Subject: [Radiance-general] night time analysis
In-Reply-To: <19E7C9EE-2AE2-48AD-AEB2-0E1AB307C214@gmx.net>
References: <CABNGNZKV2uQwCt3CDeyyFK3NumSbMGLuyfHzir8AJY4EFfu6mw@mail.gmail.com>
	<19E7C9EE-2AE2-48AD-AEB2-0E1AB307C214@gmx.net>
Message-ID: <50A64670.2080004@visarc.com>

Also to consider would be what ambient value (-av) you are setting....

-Jack

-- 
Jack de Valpine
President

Visarc Incorporated
www.visarc.com

channeling technology for superior design and construction

On 11/16/2012 5:59 AM, Lars O. Grobe wrote:
> Hi Shailan!
>
>> hello, do you know what causes the my radiance analysis show illumination higher than 50 lux when I simulate a night time,although in the analysis process it is written that warning no light source found?
> Did you define any sources? The warning is just about sources of type "light". Do you have sources of type "glow" in your scene? If you have no sources, what would you analyze?
>
> Cheers, Lars.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From Robert.Guglielmetti at nrel.gov  Fri Nov 16 09:01:51 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 16 Nov 2012 10:01:51 -0700
Subject: [Radiance-general] 2013 Radiance Workshop - Let's pick some dates!
Message-ID: <CCCBBF8F.170B8%robert.guglielmetti@nrel.gov>

Greetings Simulationists,

I am thrilled and proud to announce that the 2013 Radiance International
Workshop will be held right here at NREL, in sunny Colorado, USA. I'm
delighted to be able to pay back all the other fine institutions who have
hosted this event over the years, and I look forward to showing off my
beautiful adopted home state, and the great things we have going on here
at NREL.

I've been advised by my co-workers to book conference rooms early around
here, hence the somewhat early inquiry about setting a date for the event.
Greg has pointed out that we should try to have the event prior to the
start of the US academic year, which is nominally August 20th 2013.
Backing up a week from there, we have a typical workshop schedule that
looks like this:

Mon, Aug 12 2013 - Tutorial Day
Tue, Aug 13 2013 - Presentation Day
Wed, Aug 14 2013 - Presentation Day

Moving the workshop to the end of that week (Aug 14-16) is problematic. We
could have it earlier I suppose, or later, but we thought we'd see if Aug
12-14 works for most folks. You guys are all pretty good at calling out
conflicts fairly quickly, so I thought I'd throw this out to the list and
see what y'all come back with.


A short drive from Denver, NREL is located right against the foothills of
the Rocky Mountains in Golden, CO. We have several new buildings on campus
that we can tour, including a couple of net-zero energy buildings as well
as a unique grid-scale experiment laboratory -- that will also be home to
a petascale supercomputer. For planning reference, Denver International
(KDEN) is the closest major airport, and the lab is about 30 minutes away.

But, that's all details. For now, we're just looking to set a date, and
we're hoping the proposed calendar above works for most of you. Let us
know!

- Rob


Rob Guglielmetti
National Renewable Energy Laboratory (NREL)
Commercial Buildings Research Group
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov






From sh.zareiy at gmail.com  Fri Nov 16 09:06:53 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Fri, 16 Nov 2012 20:36:53 +0330
Subject: [Radiance-general] night time analysis
In-Reply-To: <50A64670.2080004@visarc.com>
References: <CABNGNZKV2uQwCt3CDeyyFK3NumSbMGLuyfHzir8AJY4EFfu6mw@mail.gmail.com>
	<19E7C9EE-2AE2-48AD-AEB2-0E1AB307C214@gmx.net>
	<50A64670.2080004@visarc.com>
Message-ID: <CABNGNZ+Vq9VjcNnvQ0b3LALyM4MwmY4nC=2+0nDjmVuDkrm1kA@mail.gmail.com>

Dear Jack and Lars
thank you for your quick answer. i don't intend to analyse night time. but
i set the time of my analyse in the ecotect for 1am by accident, i should
mention that i draw my model in the ecotect and then export it to radiance.
i saw in my render that the illumination is like that it is morning. so as
i understood from what you told, it is not a problem from my modelling.am I
right?

On Fri, Nov 16, 2012 at 5:28 PM, Jack de Valpine <jedev at visarc.com> wrote:

> Also to consider would be what ambient value (-av) you are setting....
>
> -Jack
>
> --
> Jack de Valpine
> President
>
> Visarc Incorporated
> www.visarc.com
>
> channeling technology for superior design and construction
>
>
> On 11/16/2012 5:59 AM, Lars O. Grobe wrote:
>
>> Hi Shailan!
>>
>>  hello, do you know what causes the my radiance analysis show
>>> illumination higher than 50 lux when I simulate a night time,although in
>>> the analysis process it is written that warning no light source found?
>>>
>> Did you define any sources? The warning is just about sources of type
>> "light". Do you have sources of type "glow" in your scene? If you have no
>> sources, what would you analyze?
>>
>> Cheers, Lars.
>>
>>
>> ______________________________**_________________
>> Radiance-general mailing list
>> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
>> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>
>
>
> ______________________________**_________________
> Radiance-general mailing list
> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121116/e21c8b3f/attachment.html>

From sh.zareiy at gmail.com  Sun Nov 18 23:59:33 2012
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Mon, 19 Nov 2012 12:29:33 +0430
Subject: [Radiance-general] lightshelf simulation
Message-ID: <CABNGNZ+Q6N2xcsXX-TmszJCbV0=HH=8x3e0Zw6Csn8hKv7TCqQ@mail.gmail.com>

Dear all
I am analyzing light shelf with different dimensions for my thesis. I want
to compare a model with light shelf with a model without shelf. I wonder If
I should change the ambient bounces parameter in the no shelf model,
because the  reflections decreases, or not,? The ab parameter that used for
the models with shelf is 3.
Thanks in advance
Sincerely
Shailan Zareiy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121119/7ba6aec8/attachment.html>

From Christopher.Rush at arup.com  Mon Nov 19 06:16:53 2012
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Mon, 19 Nov 2012 09:16:53 -0500
Subject: [Radiance-general] lightshelf simulation
In-Reply-To: <CABNGNZ+Q6N2xcsXX-TmszJCbV0=HH=8x3e0Zw6Csn8hKv7TCqQ@mail.gmail.com>
References: <CABNGNZ+Q6N2xcsXX-TmszJCbV0=HH=8x3e0Zw6Csn8hKv7TCqQ@mail.gmail.com>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B051B8C240D6@AMXEXC01.global.arup.com>

It could depend on your measurement point and the rest of the model. Does raising to a higher ab value for both models increase calculation time too much? Maybe you could increase to 5 or more bounces for both models and relax other parameters but maintain reliable results. If you repeat the simulation multiple times or increase calculation parameters and get results within a reasonable margin of error, then you're probably as accurate as possible for the model inputs.

From: shailan zareiy [mailto:sh.zareiy at gmail.com]
Sent: Monday, November 19, 2012 3:00 AM
To: Radiance general discussion
Subject: [Radiance-general] lightshelf simulation

Dear all
I am analyzing light shelf with different dimensions for my thesis. I want to compare a model with light shelf with a model without shelf. I wonder If I should change the ambient bounces parameter in the no shelf model, because the  reflections decreases, or not,? The ab parameter that used for the models with shelf is 3.
Thanks in advance
Sincerely
Shailan Zareiy
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121119/9975886d/attachment.html>

From jedev at visarc.com  Mon Nov 19 06:29:24 2012
From: jedev at visarc.com (Jack de Valpine)
Date: Mon, 19 Nov 2012 09:29:24 -0500
Subject: [Radiance-general] lightshelf simulation
In-Reply-To: <28285BAEA8C0814DBF1B199C876EC5B051B8C240D6@AMXEXC01.global.arup.com>
References: <CABNGNZ+Q6N2xcsXX-TmszJCbV0=HH=8x3e0Zw6Csn8hKv7TCqQ@mail.gmail.com>
	<28285BAEA8C0814DBF1B199C876EC5B051B8C240D6@AMXEXC01.global.arup.com>
Message-ID: <50AA4244.4000307@visarc.com>

I think that it is important to understand that one really has to 
consider more than just ambient bounces (-ab). Certainly this is 
important, but ambient resolution (-ar) can have a significant impact on 
results followed by the other ambient related parameters (-ad, -as, -av).

I note that in an earlier post of yours regarding "reflector size" you 
show parameters with -ar 32. Although I have no idea of the size of your 
space, this seems low to me.

I think if you are doing a design comparison and looking at performance, 
you need change as few variables as possible between design scenarios. 
Ideally, in this case, the only "variable" that should change between 
simulation runs is light shelf or no light shelf. That way your 
comparison is not undermined by questions of other varying parameter 
settings.

-Jack

-- 
Jack de Valpine
President

Visarc Incorporated
www.visarc.com

channeling technology for superior design and construction

On 11/19/2012 9:16 AM, Christopher Rush wrote:
>
> It could depend on your measurement point and the rest of the model. 
> Does raising to a higher ab value for both models increase calculation 
> time too much? Maybe you could increase to 5 or more bounces for both 
> models and relax other parameters but maintain reliable results. If 
> you repeat the simulation multiple times or increase calculation 
> parameters and get results within a reasonable margin of error, then 
> you're probably as accurate as possible for the model inputs.
>
> *From:*shailan zareiy [mailto:sh.zareiy at gmail.com]
> *Sent:* Monday, November 19, 2012 3:00 AM
> *To:* Radiance general discussion
> *Subject:* [Radiance-general] lightshelf simulation
>
> Dear all
>
> I am analyzing light shelf with different dimensions for my thesis. I 
> want to compare a model with light shelf with a model without shelf. I 
> wonder If I should change the ambient bounces parameter in the no 
> shelf model, because the  reflections decreases, or not,? The ab 
> parameter that used for the models with shelf is 3.
>
> Thanks in advance
>
> Sincerely
>
> Shailan Zareiy
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121119/7fc29917/attachment.html>

From grobe at gmx.net  Wed Nov 21 08:09:21 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 21 Nov 2012 17:09:21 +0100
Subject: [Radiance-general] compile problems due to src/rt/Version.c
Message-ID: <BF26E2FE-FE02-4F60-9786-ADE75D6C9647@gmx.net>

Hi all,

I had experienced that problem several times (don't know how many) before. I fixed it manually all the time by editing Version.c (which should be aut-generated by the makefile). As it just happened again to me, I wanted to share that the reason for the incomplete Version.c when installing on a standard Debian.

Radiance depends on the editor "ed" to create it using a template file. If you install it, make install will hopefully pass without errors. So in case you expect such problems, type apt-get install ed (as superuser)...

Cheers, Lars.

From kskonis at gmail.com  Fri Nov 23 16:19:25 2012
From: kskonis at gmail.com (Kyle Konis)
Date: Fri, 23 Nov 2012 16:19:25 -0800
Subject: [Radiance-general] Obtaining proper luminance values in scene image
 generated using HDR sky-probe luminance data
Message-ID: <CAAzVHq25fk5pcpZYBEAPNDqZiGgrh=fRfKVM-mLKkkht3xsyMg@mail.gmail.com>

Dear list,

I am exploring image-based lighting in Radiance and have encountered
several issues with the luminance values in the scene images i am
generating. I am starting with a hemispherical fisheye image of the
sky which must be cropped to a square format via pcompos.

This process leads to a header which puts the EXPOSURE=5.953331e-03 in
a location which creates a problem in that the pixel values, as viewed
in Photosphere or when rendered via rpict to a test image (looking up
from the origin at the sky), are much lower than the original HDR
image.

#?RADIANCE
CAPDATE= 2012:10:21 17:05:24
GMT= 2012:10:22 00:05:24
20111019_cloudy/201110191248.hdr:
        CAMERA= Canon Canon PowerShot A570 IS version v.0
        EXPOSURE=5.953331e-03
        VIEW= -vtv -vh 52.456387 -vv 40.558973
        CAPDATE= 2011:10:19 12:48:08
        hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
        PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
pcompos -x 1280 -y 1280 20111019_cloudy/201110191248.hdr -340 -100
pfilt -1 -x 600 -y 600
pflip -v -c
pflip -h -c
FORMAT=32-bit_rle_rgbe
protate -r -c

-Y 600 +X 600


 In other words, when the EXPOSURE=5.953331e-03 line is in its
original position, e.g.:


#?RADIANCE
CAMERA= Canon Canon PowerShot A570 IS version v.0
EXPOSURE=5.953331e-03
VIEW= -vtv -vh 52.456387 -vv 40.558973
CAPDATE= 2011:10:19 12:48:08
hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
FORMAT=32-bit_rle_rgbe

-Y 1536 +X 2048

...... all is well, and the image displays the correct luminance
values for the sky in Photosphere.  Because i need to crop this image
to a square format to use it as a light probe, i cannot confirm that a
test image (again, looking up from the origin) would render with the
proper luminance values, but my guess is that it would.


I am using the following text to describe an image-based lighting
environment consisting of a hemispherical fish-eye image of the sky.

# Image-Based Lighting Environment
void colorpict hdr_probe_image
7 red green blue sky_image/HDR_sky_temp.hdr angmap_sky.cal u v
0
0

# specify a "glow" material that will use this image
hdr_probe_image glow light_probe
0
0
4 1 1 1 0

light_probe source ibl_environment
0
0
4 0 0 1 180



I have tried a number of scripts to manipulate the header text to
return the EXPOSURE=5.953331e-03 line to a location where it is again
utilized.  In this example (below), which just sticks the line up at
the top, Photosphere reads the image and scales the pixels by the
exposure value. However, when a scene is rendered using the image as a
light probe, the test image again has very low sky luminance values.


#?RADIANCE
EXPOSURE=5.953331e-03
#?RADIANCE
CAPDATE= 2012:10:21 17:05:24
GMT= 2012:10:22 00:05:24
20111019_cloudy/201110191248.hdr:
        CAMERA= Canon Canon PowerShot A570 IS version v.0
        EXPOSURE=5.953331e-03
        VIEW= -vtv -vh 52.456387 -vv 40.558973
        CAPDATE= 2011:10:19 12:48:08
        hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
        PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
pcompos -x 1280 -y 1280 20111019_cloudy/201110191248.hdr -340 -100
pfilt -1 -x 600 -y 600
pflip -v -c
pflip -h -c
FORMAT=32-bit_rle_rgbe
protate -r -c

-Y 600 +X 600


My questions to the list, ultimately are:

1) Does the colorpict pattern type, or image-based lighting process in
general, have any relationship to the EXPOSURE value of the HDR image?
 If not, i suppose the solution is to scale all the pixel values in
the image and forget about where the EXPOSURE line is in the header.

2) If the EXPOSURE line in the header is relevant, can anyone
recommend a scripting technique to cook up the proper header text and
then attach the binary image data from the manipulated (e.g. pcompos,
pflip, pfilt) HDR images? For example, i have used "getinfo" to grab
the header from the original image and "grep" to grab the EXPOSURE
line, i write these to a new file (with #?RADIANCE) as the first line.
 I then cat the manipulated image file to this new file. This results
in an inelegant header for the new file, works in Photosphere, but, as
mentioned above, does not lead to a proper sky luminance results when
used to generate scene images in radiance.

Any suggestions would be appreciated!


-Kyle


From inanici at u.washington.edu  Fri Nov 23 18:18:27 2012
From: inanici at u.washington.edu (Mehlika Inanici)
Date: Fri, 23 Nov 2012 18:18:27 -0800 (PST)
Subject: [Radiance-general] Obtaining proper luminance values in scene
 image generated using HDR sky-probe luminance data
In-Reply-To: <CAAzVHq25fk5pcpZYBEAPNDqZiGgrh=fRfKVM-mLKkkht3xsyMg@mail.gmail.com>
Message-ID: <alpine.LRH.2.01.1211231818270.16610@hymn02.u.washington.edu>



Kyle,

You can set the exposure to 1 (pfilt)  to prevent the problems you are experiencing with the probe.


Mehlika

On Fri, 23 Nov 2012, Kyle Konis wrote:

> Dear list,
>
> I am exploring image-based lighting in Radiance and have encountered
> several issues with the luminance values in the scene images i am
> generating. I am starting with a hemispherical fisheye image of the
> sky which must be cropped to a square format via pcompos.
>
> This process leads to a header which puts the EXPOSURE=5.953331e-03 in
> a location which creates a problem in that the pixel values, as viewed
> in Photosphere or when rendered via rpict to a test image (looking up
> from the origin at the sky), are much lower than the original HDR
> image.
>
> #?RADIANCE
> CAPDATE= 2012:10:21 17:05:24
> GMT= 2012:10:22 00:05:24
> 20111019_cloudy/201110191248.hdr:
>        CAMERA= Canon Canon PowerShot A570 IS version v.0
>        EXPOSURE=5.953331e-03
>        VIEW= -vtv -vh 52.456387 -vv 40.558973
>        CAPDATE= 2011:10:19 12:48:08
>        hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
> 'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
>        PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
> pcompos -x 1280 -y 1280 20111019_cloudy/201110191248.hdr -340 -100
> pfilt -1 -x 600 -y 600
> pflip -v -c
> pflip -h -c
> FORMAT=32-bit_rle_rgbe
> protate -r -c
>
> -Y 600 +X 600
>
>
> In other words, when the EXPOSURE=5.953331e-03 line is in its
> original position, e.g.:
>
>
> #?RADIANCE
> CAMERA= Canon Canon PowerShot A570 IS version v.0
> EXPOSURE=5.953331e-03
> VIEW= -vtv -vh 52.456387 -vv 40.558973
> CAPDATE= 2011:10:19 12:48:08
> hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
> 'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
> PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
> FORMAT=32-bit_rle_rgbe
>
> -Y 1536 +X 2048
>
> ...... all is well, and the image displays the correct luminance
> values for the sky in Photosphere.  Because i need to crop this image
> to a square format to use it as a light probe, i cannot confirm that a
> test image (again, looking up from the origin) would render with the
> proper luminance values, but my guess is that it would.
>
>
> I am using the following text to describe an image-based lighting
> environment consisting of a hemispherical fish-eye image of the sky.
>
> # Image-Based Lighting Environment
> void colorpict hdr_probe_image
> 7 red green blue sky_image/HDR_sky_temp.hdr angmap_sky.cal u v
> 0
> 0
>
> # specify a "glow" material that will use this image
> hdr_probe_image glow light_probe
> 0
> 0
> 4 1 1 1 0
>
> light_probe source ibl_environment
> 0
> 0
> 4 0 0 1 180
>
>
>
> I have tried a number of scripts to manipulate the header text to
> return the EXPOSURE=5.953331e-03 line to a location where it is again
> utilized.  In this example (below), which just sticks the line up at
> the top, Photosphere reads the image and scales the pixels by the
> exposure value. However, when a scene is rendered using the image as a
> light probe, the test image again has very low sky luminance values.
>
>
> #?RADIANCE
> EXPOSURE=5.953331e-03
> #?RADIANCE
> CAPDATE= 2012:10:21 17:05:24
> GMT= 2012:10:22 00:05:24
> 20111019_cloudy/201110191248.hdr:
>        CAMERA= Canon Canon PowerShot A570 IS version v.0
>        EXPOSURE=5.953331e-03
>        VIEW= -vtv -vh 52.456387 -vv 40.558973
>        CAPDATE= 2011:10:19 12:48:08
>        hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
> 'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
>        PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
> pcompos -x 1280 -y 1280 20111019_cloudy/201110191248.hdr -340 -100
> pfilt -1 -x 600 -y 600
> pflip -v -c
> pflip -h -c
> FORMAT=32-bit_rle_rgbe
> protate -r -c
>
> -Y 600 +X 600
>
>
> My questions to the list, ultimately are:
>
> 1) Does the colorpict pattern type, or image-based lighting process in
> general, have any relationship to the EXPOSURE value of the HDR image?
> If not, i suppose the solution is to scale all the pixel values in
> the image and forget about where the EXPOSURE line is in the header.
>
> 2) If the EXPOSURE line in the header is relevant, can anyone
> recommend a scripting technique to cook up the proper header text and
> then attach the binary image data from the manipulated (e.g. pcompos,
> pflip, pfilt) HDR images? For example, i have used "getinfo" to grab
> the header from the original image and "grep" to grab the EXPOSURE
> line, i write these to a new file (with #?RADIANCE) as the first line.
> I then cat the manipulated image file to this new file. This results
> in an inelegant header for the new file, works in Photosphere, but, as
> mentioned above, does not lead to a proper sky luminance results when
> used to generate scene images in radiance.
>
> Any suggestions would be appreciated!
>
>
> -Kyle
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



From gward at lmi.net  Fri Nov 23 20:15:08 2012
From: gward at lmi.net (Greg Ward)
Date: Fri, 23 Nov 2012 20:15:08 -0800
Subject: [Radiance-general] Obtaining proper luminance values in scene
	image generated using HDR sky-probe luminance data
In-Reply-To: <alpine.LRH.2.01.1211231818270.16610@hymn02.u.washington.edu>
References: <alpine.LRH.2.01.1211231818270.16610@hymn02.u.washington.edu>
Message-ID: <03EA3EF4-9B8A-44FB-B29E-9247D2FCCEF8@lmi.net>

Actually, you want to use:

ra_xyze -r -o orig.hdr | pcompos ...

-Greg

On Nov 23, 2012, at 6:18 PM, Mehlika Inanici <inanici at u.washington.edu> wrote:

> 
> 
> Kyle,
> 
> You can set the exposure to 1 (pfilt)  to prevent the problems you are experiencing with the probe.
> 
> 
> Mehlika
> 
> On Fri, 23 Nov 2012, Kyle Konis wrote:
> 
>> Dear list,
>> 
>> I am exploring image-based lighting in Radiance and have encountered
>> several issues with the luminance values in the scene images i am
>> generating. I am starting with a hemispherical fisheye image of the
>> sky which must be cropped to a square format via pcompos.
>> 
>> This process leads to a header which puts the EXPOSURE=5.953331e-03 in
>> a location which creates a problem in that the pixel values, as viewed
>> in Photosphere or when rendered via rpict to a test image (looking up
>> from the origin at the sky), are much lower than the original HDR
>> image.
>> 
>> #?RADIANCE
>> CAPDATE= 2012:10:21 17:05:24
>> GMT= 2012:10:22 00:05:24
>> 20111019_cloudy/201110191248.hdr:
>>       CAMERA= Canon Canon PowerShot A570 IS version v.0
>>       EXPOSURE=5.953331e-03
>>       VIEW= -vtv -vh 52.456387 -vv 40.558973
>>       CAPDATE= 2011:10:19 12:48:08
>>       hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
>> 'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
>>       PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
>> pcompos -x 1280 -y 1280 20111019_cloudy/201110191248.hdr -340 -100
>> pfilt -1 -x 600 -y 600
>> pflip -v -c
>> pflip -h -c
>> FORMAT=32-bit_rle_rgbe


From grobe at gmx.net  Sat Nov 24 00:05:10 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat, 24 Nov 2012 09:05:10 +0100
Subject: [Radiance-general] Obtaining proper luminance values in scene
	image generated using HDR sky-probe luminance data
In-Reply-To: <03EA3EF4-9B8A-44FB-B29E-9247D2FCCEF8@lmi.net>
References: <alpine.LRH.2.01.1211231818270.16610@hymn02.u.washington.edu>
	<03EA3EF4-9B8A-44FB-B29E-9247D2FCCEF8@lmi.net>
Message-ID: <37BBDD5C-712C-48AC-895B-D079BD2B5DED@gmx.net>

I pipe any image data I get from files through 'pcomb -o -' before further using it. Just to make sure I use the original values.

Well, not always, sometimes I forget... sigh ;)

Cheers, Lars.

From chris at coolshadow.com  Sat Nov 24 16:09:08 2012
From: chris at coolshadow.com (Christian Humann)
Date: Sat, 24 Nov 2012 16:09:08 -0800
Subject: [Radiance-general] Obtaining proper luminance values in scene
	image generated using HDR sky-probe luminance data
In-Reply-To: <alpine.LRH.2.01.1211231818270.16610@hymn02.u.washington.edu>
References: <alpine.LRH.2.01.1211231818270.16610@hymn02.u.washington.edu>
Message-ID: <644171CC-D263-4ABC-8A86-4FAF21A20B7C@coolshadow.com>

Hi Kyle,

Another option is to multiply the first three values in the fourth line of:

hdr_probe_image glow light_probe
0
0
4 1 1 1 0

by the inverse of the exposure eg. (1 / 5.953331e-03 ).

Chris

On Nov 23, 2012, at 6:18 PM, Mehlika Inanici <inanici at u.washington.edu> wrote:

> 
> 
> Kyle,
> 
> You can set the exposure to 1 (pfilt)  to prevent the problems you are experiencing with the probe.
> 
> 
> Mehlika
> 
> On Fri, 23 Nov 2012, Kyle Konis wrote:
> 
>> Dear list,
>> 
>> I am exploring image-based lighting in Radiance and have encountered
>> several issues with the luminance values in the scene images i am
>> generating. I am starting with a hemispherical fisheye image of the
>> sky which must be cropped to a square format via pcompos.
>> 
>> This process leads to a header which puts the EXPOSURE=5.953331e-03 in
>> a location which creates a problem in that the pixel values, as viewed
>> in Photosphere or when rendered via rpict to a test image (looking up
>> from the origin at the sky), are much lower than the original HDR
>> image.
>> 
>> #?RADIANCE
>> CAPDATE= 2012:10:21 17:05:24
>> GMT= 2012:10:22 00:05:24
>> 20111019_cloudy/201110191248.hdr:
>>      CAMERA= Canon Canon PowerShot A570 IS version v.0
>>      EXPOSURE=5.953331e-03
>>      VIEW= -vtv -vh 52.456387 -vv 40.558973
>>      CAPDATE= 2011:10:19 12:48:08
>>      hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
>> 'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
>>      PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
>> pcompos -x 1280 -y 1280 20111019_cloudy/201110191248.hdr -340 -100
>> pfilt -1 -x 600 -y 600
>> pflip -v -c
>> pflip -h -c
>> FORMAT=32-bit_rle_rgbe
>> protate -r -c
>> 
>> -Y 600 +X 600
>> 
>> 
>> In other words, when the EXPOSURE=5.953331e-03 line is in its
>> original position, e.g.:
>> 
>> 
>> #?RADIANCE
>> CAMERA= Canon Canon PowerShot A570 IS version v.0
>> EXPOSURE=5.953331e-03
>> VIEW= -vtv -vh 52.456387 -vv 40.558973
>> CAPDATE= 2011:10:19 12:48:08
>> hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
>> 'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
>> PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
>> FORMAT=32-bit_rle_rgbe
>> 
>> -Y 1536 +X 2048
>> 
>> ...... all is well, and the image displays the correct luminance
>> values for the sky in Photosphere.  Because i need to crop this image
>> to a square format to use it as a light probe, i cannot confirm that a
>> test image (again, looking up from the origin) would render with the
>> proper luminance values, but my guess is that it would.
>> 
>> 
>> I am using the following text to describe an image-based lighting
>> environment consisting of a hemispherical fish-eye image of the sky.
>> 
>> # Image-Based Lighting Environment
>> void colorpict hdr_probe_image
>> 7 red green blue sky_image/HDR_sky_temp.hdr angmap_sky.cal u v
>> 0
>> 0
>> 
>> # specify a "glow" material that will use this image
>> hdr_probe_image glow light_probe
>> 0
>> 0
>> 4 1 1 1 0
>> 
>> light_probe source ibl_environment
>> 0
>> 0
>> 4 0 0 1 180
>> 
>> 
>> 
>> I have tried a number of scripts to manipulate the header text to
>> return the EXPOSURE=5.953331e-03 line to a location where it is again
>> utilized.  In this example (below), which just sticks the line up at
>> the top, Photosphere reads the image and scales the pixels by the
>> exposure value. However, when a scene is rendered using the image as a
>> light probe, the test image again has very low sky luminance values.
>> 
>> 
>> #?RADIANCE
>> EXPOSURE=5.953331e-03
>> #?RADIANCE
>> CAPDATE= 2012:10:21 17:05:24
>> GMT= 2012:10:22 00:05:24
>> 20111019_cloudy/201110191248.hdr:
>>      CAMERA= Canon Canon PowerShot A570 IS version v.0
>>      EXPOSURE=5.953331e-03
>>      VIEW= -vtv -vh 52.456387 -vv 40.558973
>>      CAPDATE= 2011:10:19 12:48:08
>>      hdrgen created HDR image from 'IMG_0685.JPG' 'IMG_0684.JPG'
>> 'IMG_0683.JPG' 'IMG_0682.JPG' 'IMG_0681.JPG'
>>      PRIMARIES= 0.6400 0.3300 0.3000 0.6000 0.1500 0.0600 0.3127 0.3290
>> pcompos -x 1280 -y 1280 20111019_cloudy/201110191248.hdr -340 -100
>> pfilt -1 -x 600 -y 600
>> pflip -v -c
>> pflip -h -c
>> FORMAT=32-bit_rle_rgbe
>> protate -r -c
>> 
>> -Y 600 +X 600
>> 
>> 
>> My questions to the list, ultimately are:
>> 
>> 1) Does the colorpict pattern type, or image-based lighting process in
>> general, have any relationship to the EXPOSURE value of the HDR image?
>> If not, i suppose the solution is to scale all the pixel values in
>> the image and forget about where the EXPOSURE line is in the header.
>> 
>> 2) If the EXPOSURE line in the header is relevant, can anyone
>> recommend a scripting technique to cook up the proper header text and
>> then attach the binary image data from the manipulated (e.g. pcompos,
>> pflip, pfilt) HDR images? For example, i have used "getinfo" to grab
>> the header from the original image and "grep" to grab the EXPOSURE
>> line, i write these to a new file (with #?RADIANCE) as the first line.
>> I then cat the manipulated image file to this new file. This results
>> in an inelegant header for the new file, works in Photosphere, but, as
>> mentioned above, does not lead to a proper sky luminance results when
>> used to generate scene images in radiance.
>> 
>> Any suggestions would be appreciated!
>> 
>> 
>> -Kyle
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From d.appelfeld at gmail.com  Sun Nov 25 11:48:37 2012
From: d.appelfeld at gmail.com (David Appelfeld)
Date: Sun, 25 Nov 2012 20:48:37 +0100
Subject: [Radiance-general] comparison of light pipes
Message-ID: <CACxOu53UiwVu4Kd0tuXQcWW+T=9qYLBDxfuf6ZDQ7MB8xiOH_A@mail.gmail.com>

Dear list,

I am trying to find out more about evaluation of light transmittance of
light pipes. On the mailing list I could find some information on how to
model light pipes. However, I would like to know, if there is any standard,
similar to "EN 410 -  Glass in building - Determination of luminous and
solar characteristics of glazing" for definition of light transmittance of
light pipes, which can be used for comparison of several light pipes. It
does not have to be EN standard, actually any method which define how to
compare light transmittance of light pipes, by simulations or measurements,
would be good.

Thank you for all advices and comments.
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121125/c80c430e/attachment.html>

From kskonis at gmail.com  Sun Nov 25 12:23:24 2012
From: kskonis at gmail.com (Kyle Konis)
Date: Sun, 25 Nov 2012 12:23:24 -0800
Subject: [Radiance-general] Obtaining proper luminance values in scene
 image generated using HDR sky-probe luminance data
In-Reply-To: <644171CC-D263-4ABC-8A86-4FAF21A20B7C@coolshadow.com>
References: <alpine.LRH.2.01.1211231818270.16610@hymn02.u.washington.edu>
	<644171CC-D263-4ABC-8A86-4FAF21A20B7C@coolshadow.com>
Message-ID: <CAAzVHq0CjQEkwt3GniP=cbCbpd6NwJH1Lqd9RrEMB1fpit_X0Q@mail.gmail.com>

Thanks for the responses, i used :

ra_xyze -r -o | pcompos .....

Which solved the issue that i was having

-Kyle


From gmolina1 at uc.cl  Tue Nov 27 11:24:19 2012
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Tue, 27 Nov 2012 16:24:19 -0300
Subject: [Radiance-general] Fwd: Problems computing Daylight Matrix for the
	Three Phase Method
In-Reply-To: <CAF-iH4Jmi_DHwJc_Ts7B9=xAto68iUc0CDV7RHCRAmKWFYY7EQ@mail.gmail.com>
References: <CAF-iH4Jmi_DHwJc_Ts7B9=xAto68iUc0CDV7RHCRAmKWFYY7EQ@mail.gmail.com>
Message-ID: <CAF-iH4+SaXwPmj0vWQ0W2mFqouCbyDmPVy145E6oEQ1OXO7AWA@mail.gmail.com>

---------- Forwarded message ----------
From: Germ?n Molina Larrain <germolinal at gmail.com>
Date: 2012/11/27
Subject: Problems computing Daylight Matrix for the Three Phase Method
To: radiance-general at radiance-online.org


Hi everyone,

I have been trying to use the Three Phase Method, guided by the Andy
McNeil's tutorial; but I am having some trouble. The script I wrote is:

*oconv materials/* building/* sky/* > D_octree.oct*
**
*genklemsamp -vd 0 -1 0 windows/glass_window.rad | rtcontrib -c 1000 -e
MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -faf D_octree.oct*
**
*rm D_octree.oct*

and the contents of the directories are:
*
building: building.rad

materials: building_materials.mat

sensors: sensors.pts (generated with gendaylit)

sky: perez.rad

windows: glass_window.rad light_window.rad window_T.rad*

The results thrown on the console is the header, and three weird symbols...
I am using Ubuntu and RVUing the model actually works

Help will be very appreciated here!

THANKS VERY MUCH

Germ?n Molina
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121127/ee0f786f/attachment.html>

From gmolina1 at uc.cl  Tue Nov 27 11:28:30 2012
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Tue, 27 Nov 2012 16:28:30 -0300
Subject: [Radiance-general] Problems computing Daylight Matrix for the Three
	Phase Method
In-Reply-To: <CAF-iH4+SaXwPmj0vWQ0W2mFqouCbyDmPVy145E6oEQ1OXO7AWA@mail.gmail.com>
References: <CAF-iH4Jmi_DHwJc_Ts7B9=xAto68iUc0CDV7RHCRAmKWFYY7EQ@mail.gmail.com>
	<CAF-iH4+SaXwPmj0vWQ0W2mFqouCbyDmPVy145E6oEQ1OXO7AWA@mail.gmail.com>
Message-ID: <CAF-iH4+povavqEsoHGuz++s7Qw_NDE-FVL8sTq7f_nR4QbEtwQ@mail.gmail.com>

Sorry everyone for sending this twice... I sent this as a "forwarded" mail
before, and thought some of you would recieve it as inside-Spam.


Hi everyone,

I have been trying to use the Three Phase Method, guided by the Andy
McNeil's tutorial; but I am having some trouble. The script I wrote is:

*oconv materials/* building/* sky/* > D_octree.oct*
**
*genklemsamp -vd 0 -1 0 windows/glass_window.rad | rtcontrib -c 1000 -e
MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -faf D_octree.oct*
**
*rm D_octree.oct*

and the contents of the directories are:
*
building: building.rad

materials: building_materials.mat

sensors: sensors.pts (generated with gendaylit)

sky: perez.rad

windows: glass_window.rad light_window.rad window_T.rad*

The results thrown on the console is the header, and three weird symbols...
I am using Ubuntu and RVUing the model actually works

Help will be very appreciated here!

THANKS VERY MUCH

Germ?n Molina
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121127/aae8b82b/attachment.html>

From gregoryjward at gmail.com  Tue Nov 27 11:58:14 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 27 Nov 2012 09:58:14 -1000
Subject: [Radiance-general] Problems computing Daylight Matrix for the
	Three Phase Method
In-Reply-To: <CAF-iH4+povavqEsoHGuz++s7Qw_NDE-FVL8sTq7f_nR4QbEtwQ@mail.gmail.com>
References: <CAF-iH4Jmi_DHwJc_Ts7B9=xAto68iUc0CDV7RHCRAmKWFYY7EQ@mail.gmail.com>
	<CAF-iH4+SaXwPmj0vWQ0W2mFqouCbyDmPVy145E6oEQ1OXO7AWA@mail.gmail.com>
	<CAF-iH4+povavqEsoHGuz++s7Qw_NDE-FVL8sTq7f_nR4QbEtwQ@mail.gmail.com>
Message-ID: <CFF2CE3D-84F6-49D5-9D9E-05978F61B7F9@lmi.net>

The rtcontrib command needs a -o option or it will send everything to stdout, which is why you are getting garbage on your console.

-Greg

> From: Germ?n Molina Larrain <gmolina1 at uc.cl>
> Date: November 27, 2012 9:28:30 AM HST
> 
> Sorry everyone for sending this twice... I sent this as a "forwarded" mail before, and thought some of you would recieve it as inside-Spam. 
> 
> 
> Hi everyone, 
> 
> I have been trying to use the Three Phase Method, guided by the Andy McNeil's tutorial; but I am having some trouble. The script I wrote is:
> 
> oconv materials/* building/* sky/* > D_octree.oct
> 
> genklemsamp -vd 0 -1 0 windows/glass_window.rad | rtcontrib -c 1000 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -faf D_octree.oct
> 
> rm D_octree.oct
> 
> and the contents of the directories are:
> 
> building: building.rad
> 
> materials: building_materials.mat
> 
> sensors: sensors.pts (generated with gendaylit)
> 
> sky: perez.rad
> 
> windows: glass_window.rad light_window.rad window_T.rad
> 
> The results thrown on the console is the header, and three weird symbols... I am using Ubuntu and RVUing the model actually works
> 
> Help will be very appreciated here!
> 
> THANKS VERY MUCH
> 
> Germ?n Molina _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121127/ce753e4d/attachment.html>

From gmolina1 at uc.cl  Tue Nov 27 12:19:26 2012
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Tue, 27 Nov 2012 16:19:26 -0400
Subject: [Radiance-general] Problems computing Daylight Matrix for the
 Three Phase Method
In-Reply-To: <CFF2CE3D-84F6-49D5-9D9E-05978F61B7F9@lmi.net>
References: <CAF-iH4Jmi_DHwJc_Ts7B9=xAto68iUc0CDV7RHCRAmKWFYY7EQ@mail.gmail.com>
	<CAF-iH4+SaXwPmj0vWQ0W2mFqouCbyDmPVy145E6oEQ1OXO7AWA@mail.gmail.com>
	<CAF-iH4+povavqEsoHGuz++s7Qw_NDE-FVL8sTq7f_nR4QbEtwQ@mail.gmail.com>
	<CFF2CE3D-84F6-49D5-9D9E-05978F61B7F9@lmi.net>
Message-ID: <CAF-iH4J3AAdVeTGo=XEvgAnbYNt1rJoQ6tu8hxdqniTDNUFAdg@mail.gmail.com>

Thanks for the quick response!

just to be sure... is it an error on the Tutorial?

THANKS

2012/11/27 Greg Ward <gregoryjward at gmail.com>

> The rtcontrib command needs a -o option or it will send everything to
> stdout, which is why you are getting garbage on your console.
>
> -Greg
>
> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>
> *Date: *November 27, 2012 9:28:30 AM HST
>
> *
> *
>
> Sorry everyone for sending this twice... I sent this as a "forwarded" mail
> before, and thought some of you would recieve it as inside-Spam.
>
>
> Hi everyone,
>
> I have been trying to use the Three Phase Method, guided by the Andy
> McNeil's tutorial; but I am having some trouble. The script I wrote is:
>
> *oconv materials/* building/* sky/* > D_octree.oct*
> **
> *genklemsamp -vd 0 -1 0 windows/glass_window.rad | rtcontrib -c 1000 -e
> MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -faf D_octree.oct*
> **
> *rm D_octree.oct*
>
> and the contents of the directories are:
> *
> building: building.rad
>
> materials: building_materials.mat
>
> sensors: sensors.pts (generated with gendaylit)
>
> sky: perez.rad
>
> windows: glass_window.rad light_window.rad window_T.rad*
>
> The results thrown on the console is the header, and three weird
> symbols... I am using Ubuntu and RVUing the model actually works
>
> Help will be very appreciated here!
>
> THANKS VERY MUCH
>
>
> Germ?n Molina _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121127/ca4c6147/attachment.html>

From gmolina1 at uc.cl  Wed Nov 28 11:26:19 2012
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Wed, 28 Nov 2012 16:26:19 -0300
Subject: [Radiance-general] Radiance's optics
Message-ID: <CAF-iH4+ZRgssd_L7sTJH=mvoVmV-DNrFHJ7UA-Fdc2A1kvt-fg@mail.gmail.com>

Hello Radiancers,

I am a new Radiance user/developer, and I am working on the calculation of
Solar Heat Gain through complex fenestration systems. I started learning
Radiance some time ago, and just an hour ago, a pretty obvious doubt came
to my mind:

If RADIANCE uses the RGB optical properties (that is, visible spectrum, I
suppose); how comes that it calculates the Radiance instead of Illuminance?
If the materials change the spectrum of the radiation in every bounce, how
is it possible to just use the classic "179*(0,265*R+0,67*G+0,065*B)" to
compute the illuminance?

THANKS VERY MUCH

Germ?n Molina

PS: Sorry to bother with rookie questions, but I am the only person in my
University using RADIANCE.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121128/ae8c6b17/attachment.html>

From Robert.Guglielmetti at nrel.gov  Wed Nov 28 11:42:03 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 28 Nov 2012 12:42:03 -0700
Subject: [Radiance-general] Radiance's optics
In-Reply-To: <CAF-iH4+ZRgssd_L7sTJH=mvoVmV-DNrFHJ7UA-Fdc2A1kvt-fg@mail.gmail.com>
Message-ID: <CCDBB569.172B9%robert.guglielmetti@nrel.gov>

Hi Germ?n,

Radiance (the software) does indeed work in radiometric values at its core, and the 179*(blah blah blah) is a valid conversion to illuminance. If you have very saturated colors in your model, I suppose they could throw off the calculation, but I think it'd take a lot to affect the accuracy. That said, this is why I do all of my modeling in greyscale, and use the "white" light source color for all electric lights.

There are a bunch of posts in the archives about this topic, and doing a higher resolution spectral rendering, and the validity of the 179 multiplier (which is somewhat arbitrary, but as long as you use that same multiplier going in each direction, you should be good to go.

Rob Guglielmetti
National Renewable Energy Laboratory (NREL)
Commercial Buildings Research Group
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov



On 11/28/12 12:26 PM, "Germ?n Molina Larrain" <gmolina1 at uc.cl<mailto:gmolina1 at uc.cl>> wrote:

Hello Radiancers,

I am a new Radiance user/developer, and I am working on the calculation of Solar Heat Gain through complex fenestration systems. I started learning Radiance some time ago, and just an hour ago, a pretty obvious doubt came to my mind:

If RADIANCE uses the RGB optical properties (that is, visible spectrum, I suppose); how comes that it calculates the Radiance instead of Illuminance? If the materials change the spectrum of the radiation in every bounce, how is it possible to just use the classic "179*(0,265*R+0,67*G+0,065*B)" to compute the illuminance?

THANKS VERY MUCH

Germ?n Molina

PS: Sorry to bother with rookie questions, but I am the only person in my University using RADIANCE.


From gmolina1 at uc.cl  Wed Nov 28 12:26:40 2012
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Wed, 28 Nov 2012 16:26:40 -0400
Subject: [Radiance-general] Radiance's optics
In-Reply-To: <CCDBB569.172B9%robert.guglielmetti@nrel.gov>
References: <CAF-iH4+ZRgssd_L7sTJH=mvoVmV-DNrFHJ7UA-Fdc2A1kvt-fg@mail.gmail.com>
	<CCDBB569.172B9%robert.guglielmetti@nrel.gov>
Message-ID: <CAF-iH4KAZ73-YewSszaABR2qnT4k03SkJD1oBiXGwuy=zjxnqw@mail.gmail.com>

Thanks for the quick response Bob!

It is a little bit clearer now, But. the radiance considered by the
software is, then, only the visible part of  the sun's radiance? If I
wanted to compute the total solar radiation (including IR and UV). Should I
compute (,265*R+.67*...)/vf ; where "vf" is the visible fraction of the
solar spectrum?


Thanks Very much!



2012/11/28 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>

> Hi Germ?n,
>
> Radiance (the software) does indeed work in radiometric values at its
> core, and the 179*(blah blah blah) is a valid conversion to illuminance. If
> you have very saturated colors in your model, I suppose they could throw
> off the calculation, but I think it'd take a lot to affect the accuracy.
> That said, this is why I do all of my modeling in greyscale, and use the
> "white" light source color for all electric lights.
>
> There are a bunch of posts in the archives about this topic, and doing a
> higher resolution spectral rendering, and the validity of the 179
> multiplier (which is somewhat arbitrary, but as long as you use that same
> multiplier going in each direction, you should be good to go.
>
> Rob Guglielmetti
> National Renewable Energy Laboratory (NREL)
> Commercial Buildings Research Group
> 15013 Denver West Parkway MS:RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
>
>
>
> On 11/28/12 12:26 PM, "Germ?n Molina Larrain" <gmolina1 at uc.cl<mailto:
> gmolina1 at uc.cl>> wrote:
>
> Hello Radiancers,
>
> I am a new Radiance user/developer, and I am working on the calculation of
> Solar Heat Gain through complex fenestration systems. I started learning
> Radiance some time ago, and just an hour ago, a pretty obvious doubt came
> to my mind:
>
> If RADIANCE uses the RGB optical properties (that is, visible spectrum, I
> suppose); how comes that it calculates the Radiance instead of Illuminance?
> If the materials change the spectrum of the radiation in every bounce, how
> is it possible to just use the classic "179*(0,265*R+0,67*G+0,065*B)" to
> compute the illuminance?
>
> THANKS VERY MUCH
>
> Germ?n Molina
>
> PS: Sorry to bother with rookie questions, but I am the only person in my
> University using RADIANCE.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121128/7f41d74e/attachment.html>

From gmolina1 at uc.cl  Wed Nov 28 12:27:21 2012
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Wed, 28 Nov 2012 16:27:21 -0400
Subject: [Radiance-general] Problems computing Daylight Matrix for the
 Three Phase Method
In-Reply-To: <CAF-iH4J3AAdVeTGo=XEvgAnbYNt1rJoQ6tu8hxdqniTDNUFAdg@mail.gmail.com>
References: <CAF-iH4Jmi_DHwJc_Ts7B9=xAto68iUc0CDV7RHCRAmKWFYY7EQ@mail.gmail.com>
	<CAF-iH4+SaXwPmj0vWQ0W2mFqouCbyDmPVy145E6oEQ1OXO7AWA@mail.gmail.com>
	<CAF-iH4+povavqEsoHGuz++s7Qw_NDE-FVL8sTq7f_nR4QbEtwQ@mail.gmail.com>
	<CFF2CE3D-84F6-49D5-9D9E-05978F61B7F9@lmi.net>
	<CAF-iH4J3AAdVeTGo=XEvgAnbYNt1rJoQ6tu8hxdqniTDNUFAdg@mail.gmail.com>
Message-ID: <CAF-iH4KD97-adVvjYam0cSJs4CC_DKOK+jOX+mDwCEEtr29sbw@mail.gmail.com>

Thanks Greg,

It worked on Windows, at least... I am having trouble with my Linux
partition.

Germ?n Molina

2012/11/27 Germ?n Molina Larrain <gmolina1 at uc.cl>

> Thanks for the quick response!
>
> just to be sure... is it an error on the Tutorial?
>
> THANKS
>
>
> 2012/11/27 Greg Ward <gregoryjward at gmail.com>
>
>> The rtcontrib command needs a -o option or it will send everything to
>> stdout, which is why you are getting garbage on your console.
>>
>> -Greg
>>
>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>
>> *Date: *November 27, 2012 9:28:30 AM HST
>>
>> *
>> *
>>
>> Sorry everyone for sending this twice... I sent this as a "forwarded"
>> mail before, and thought some of you would recieve it as inside-Spam.
>>
>>
>> Hi everyone,
>>
>> I have been trying to use the Three Phase Method, guided by the Andy
>> McNeil's tutorial; but I am having some trouble. The script I wrote is:
>>
>> *oconv materials/* building/* sky/* > D_octree.oct*
>> **
>> *genklemsamp -vd 0 -1 0 windows/glass_window.rad | rtcontrib -c 1000 -e
>> MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -faf D_octree.oct*
>> **
>> *rm D_octree.oct*
>>
>> and the contents of the directories are:
>> *
>> building: building.rad
>>
>> materials: building_materials.mat
>>
>> sensors: sensors.pts (generated with gendaylit)
>>
>> sky: perez.rad
>>
>> windows: glass_window.rad light_window.rad window_T.rad*
>>
>> The results thrown on the console is the header, and three weird
>> symbols... I am using Ubuntu and RVUing the model actually works
>>
>> Help will be very appreciated here!
>>
>> THANKS VERY MUCH
>>
>>
>> Germ?n Molina _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121128/c3e9d557/attachment.html>

From Robert.Guglielmetti at nrel.gov  Wed Nov 28 20:54:52 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 28 Nov 2012 21:54:52 -0700
Subject: [Radiance-general] Radiance's optics
In-Reply-To: <CAF-iH4KAZ73-YewSszaABR2qnT4k03SkJD1oBiXGwuy=zjxnqw@mail.gmail.com>
References: <CAF-iH4+ZRgssd_L7sTJH=mvoVmV-DNrFHJ7UA-Fdc2A1kvt-fg@mail.gmail.com>
	<CCDBB569.172B9%robert.guglielmetti@nrel.gov>,
	<CAF-iH4KAZ73-YewSszaABR2qnT4k03SkJD1oBiXGwuy=zjxnqw@mail.gmail.com>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3225FDC07EAC@MAILBOX2.nrel.gov>

Hi Germ?n,

When the software is left to its own devices, it is considering beyond the visible range. You can get radiance and irradiance, and this is the default output. Radiance (the software) is often used for estimating solar resource for PV; applying V-lambda is always a second step that is available, in order to weight the radiometric values to photometric values (luminance or illuminance). I don't do much with radiometric values, but we would like to do more of that in OpenStudio. 

Perhaps some others can weigh on with their experience looking beyond visual range. 

- Rob

________________________________________
From: Germ?n Molina Larrain [gmolina1 at uc.cl]
Sent: Wednesday, November 28, 2012 1:26 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Radiance's optics

Thanks for the quick response Bob!

It is a little bit clearer now, But. the radiance considered by the software is, then, only the visible part of  the sun's radiance? If I wanted to compute the total solar radiation (including IR and UV). Should I compute (,265*R+.67*...)/vf ; where "vf" is the visible fraction of the solar spectrum?


Thanks Very much!



2012/11/28 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>>
Hi Germ?n,

Radiance (the software) does indeed work in radiometric values at its core, and the 179*(blah blah blah) is a valid conversion to illuminance. If you have very saturated colors in your model, I suppose they could throw off the calculation, but I think it'd take a lot to affect the accuracy. That said, this is why I do all of my modeling in greyscale, and use the "white" light source color for all electric lights.

There are a bunch of posts in the archives about this topic, and doing a higher resolution spectral rendering, and the validity of the 179 multiplier (which is somewhat arbitrary, but as long as you use that same multiplier going in each direction, you should be good to go.

Rob Guglielmetti
National Renewable Energy Laboratory (NREL)
Commercial Buildings Research Group
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319<tel:303.275.4319>
robert.guglielmetti at nrel.gov<mailto:robert.guglielmetti at nrel.gov>



On 11/28/12 12:26 PM, "Germ?n Molina Larrain" <gmolina1 at uc.cl<mailto:gmolina1 at uc.cl><mailto:gmolina1 at uc.cl<mailto:gmolina1 at uc.cl>>> wrote:

Hello Radiancers,

I am a new Radiance user/developer, and I am working on the calculation of Solar Heat Gain through complex fenestration systems. I started learning Radiance some time ago, and just an hour ago, a pretty obvious doubt came to my mind:

If RADIANCE uses the RGB optical properties (that is, visible spectrum, I suppose); how comes that it calculates the Radiance instead of Illuminance? If the materials change the spectrum of the radiation in every bounce, how is it possible to just use the classic "179*(0,265*R+0,67*G+0,065*B)" to compute the illuminance?

THANKS VERY MUCH

Germ?n Molina

PS: Sorry to bother with rookie questions, but I am the only person in my University using RADIANCE.

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Wed Nov 28 21:13:02 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 28 Nov 2012 19:13:02 -1000
Subject: [Radiance-general] Radiance's optics
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA3225FDC07EAC@MAILBOX2.nrel.gov>
References: <CAF-iH4+ZRgssd_L7sTJH=mvoVmV-DNrFHJ7UA-Fdc2A1kvt-fg@mail.gmail.com>
	<CCDBB569.172B9%robert.guglielmetti@nrel.gov>,
	<CAF-iH4KAZ73-YewSszaABR2qnT4k03SkJD1oBiXGwuy=zjxnqw@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3225FDC07EAC@MAILBOX2.nrel.gov>
Message-ID: <498C6829-6E6F-4A53-A0D9-7F3B5FFB2B8F@lmi.net>

The RGB channels in Radiance can be interpreted however you like.  By default, they are interpreted as visible components, but if you change the emissions, reflectances, etc. to stand for different channels, that's what you'll get.  Math is math.

-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Date: November 28, 2012 6:54:52 PM HST
> 
> Hi Germ?n,
> 
> When the software is left to its own devices, it is considering beyond the visible range. You can get radiance and irradiance, and this is the default output. Radiance (the software) is often used for estimating solar resource for PV; applying V-lambda is always a second step that is available, in order to weight the radiometric values to photometric values (luminance or illuminance). I don't do much with radiometric values, but we would like to do more of that in OpenStudio. 
> 
> Perhaps some others can weigh on with their experience looking beyond visual range. 
> 
> - Rob
> 
> ________________________________________
> From: Germ?n Molina Larrain [gmolina1 at uc.cl]
> Sent: Wednesday, November 28, 2012 1:26 PM
> 
> Thanks for the quick response Bob!
> 
> It is a little bit clearer now, But. the radiance considered by the software is, then, only the visible part of  the sun's radiance? If I wanted to compute the total solar radiation (including IR and UV). Should I compute (,265*R+.67*...)/vf ; where "vf" is the visible fraction of the solar spectrum?
> 
> 
> Thanks Very much!


From Robert.Guglielmetti at nrel.gov  Wed Nov 28 21:13:20 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 28 Nov 2012 22:13:20 -0700
Subject: [Radiance-general] 2013 Radiance International Workshop
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3225FDC07EAF@MAILBOX2.nrel.gov>

Hey folks,

I recently sent out a feeler to the group to see what dates might work for next year's Radiance Workshop. We threw out a preference for this schedule:

Mon, Aug 12 2013 - Tutorial Day
Tue, Aug 13 2013 - Presentation Day
Wed, Aug 14 2013 - Presentation Day

I have not heard of any known conflicts with this schedule, so I'd like to proceed as if. Can you all take one more look at your calendars and make sure that all will be able to make it?

I'm really excited about NREL hosting the event, and I'd like to get the dates nailed down so I can start planning. Yes, I know that August is a ways out, but the larger conference rooms book up fast. Also, we have a rather draconian process for approving foreign national access to campus, especially if you're on the so-called "Hostile Countries List". These include Iran, Syria, Cuba (man we really need to get over that one), and one other I'm forgetting at the moment. I'm told it can take as long as six months to get those approvals(!)*, so I'm trying to nail this down soon. 

Thanks for your help, and I hope to see lots of you in sunny Colorado in August! Hey, we'll go for a hike. 

- Rob

* If you're not part of the axis of evil**, the approvals usually only take about 5 days. 

** kidding, Mostapha!

From hope.zh at gmail.com  Fri Nov 30 02:50:56 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Fri, 30 Nov 2012 18:50:56 +0800
Subject: [Radiance-general] sky visibility
In-Reply-To: <CAD83LV+zPYd4NFgBgyvR3hnb8dngve9ZzeVfMf8JhHwDhzabow@mail.gmail.com>
References: <CAMxTbri9-2+CYCjBe0O80GN9NDWvhnsWT=TTheAKi96faYM-uA@mail.gmail.com>
	<50825B2F.7040505@gmx.net>
	<CAD83LVKQ97JZoyCnB=jvPqJUyENxdhtUhxV7UWSbv6yjCrkJww@mail.gmail.com>
	<508407FC.8040408@gmx.net>
	<CAD83LVLba8_qYttjoM2f=2E6SJBhx5o4CJXqePuH6nozhfkJkQ@mail.gmail.com>
	<845F404E-414E-49AC-BD4E-BF707FF4AFE7@gmx.net>
	<CAD83LV+wVgcY-bg_z-g4-LDbqVZJbpYKq-VdNm0xgz28L76O3Q@mail.gmail.com>
	<682DD22B-D108-4D5C-8C05-A99EFB2265E3@gmx.net>
	<CAD83LV+zPYd4NFgBgyvR3hnb8dngve9ZzeVfMf8JhHwDhzabow@mail.gmail.com>
Message-ID: <CAD83LVJdYF1GwKqpr7g3J-=KL_YEuRvojOxFxVtcNVN=YgOxVQ@mail.gmail.com>

Dear list,

I'd like to ask if the Radiance way to calculate sky exposure as explained
below can be further optimized.

This method is quite accurate, but it is just not fast enough for us (0.2
second per sensor).

It seems the Radiance programs used in this approach, such as rpict, pcomb,
pvalue, etc. are not applicable to harvest the power of parallel
processing, such as what the "-n" option does for rtrace.

Maybe I'm just too greedy, but is there a way to further enhance the
efficiency of the individual Radiance command in this method?

Thanks in advance!

- Ji


On Fri, Oct 26, 2012 at 2:11 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Hi, Lars, Thanks for your detailed explanation!
>
> The following bash script is put up according to the suggestions from all
> previous replies to this post. This method is view type independent.
> Anyway, I'd appreciate further advices from the list to make it more
> succinct and efficient, or point out the loopholes if there are any.
>
> # start__________________________
> # calculate Sky Exposure Factor
> # which is defined as the ratio between
> # the solid angle subtended by visible sky patch/patches
> # and that of the unobstructed sky hemisphere (which is 2*PI)
> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
> rpict -av 1 1 1 -vf ./view_vts.vf -x 1000 -y 1000 ./SkyEF_scene.oct |
> pcomb -e 'solidAngle=S(1);ro=if(ri(1),0,solidAngle);
> go=if(gi(1),0,solidAngle); bo=if(bi(1),0,solidAngle)' -o - | pvalue -h -H |
> rcalc -e '$1=$3' | total | rcalc -e '$1=$1/2/PI' > ./SkyEF_results.txt
> # end__________________________
>
> The contents of "view_vts.vf" (note that the location of the view point is
> slightly away from the surface of the scene geometry):
> rvu -vts -vp 0 0 0.001 -vd 0 0 1 -vu 0 1 0 -vh 180 -vv 180 -vo 0 -va 0 -vs
> 0 -vl 0
>
>
> The following step-by-step break down of the commands might be useful for
> debugging purpose.
>
> # start__________________________
> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
>
> rpict -av 1 1 1 -vf ./view_vts.vf -x 800 -y 800 ./SkyEF_scene.oct >
> ./SkyEF_vts.hdr
>
> cat ./SkyEF_vts.hdr | pcomb -e 'omega=S(1);ro=if(ri(1),0,omega);
> go=if(gi(1),0,omega); bo=if(bi(1),0,omega)' -o - > ./SkyEF_solidAngle.hdr
>
> cat ./SkyEF_solidAngle.hdr | pvalue -h -H >
> ./SkyEF_xpos_ypos_solidAngleVal.txt
>
> cat ./SkyEF_xpos_ypos_solidAngleVal.txt | rcalc -e '$1=$3' | total >
> ./SkyEF_total_solidAngle_of_visible_sky.txt
>
> cat ./SkyEF_total_solidAngle_of_visible_sky.txt | rcalc -e '$1=$1/2/PI' >
> ./SkyEF_results.txt
> # end__________________________
>
>
> Thanks again for the help from all of you!
> - Ji
>
>
>
> On Thu, Oct 25, 2012 at 4:20 PM, Lars O. Grobe <grobe at gmx.net> wrote:
>
>> Hi Ji!
>>
>> The functions S(n) and T(n) are available in pcomb. To make an image
>> "solid_angles.hdr" with pixel values (r=g=b) being equal to the solid angle
>> of the pixel in sr, you would do the following:
>>
>> cat image.hdr |  pcomb -e 'omega=S(1); ro=omega; go=omega; bo=omega' -o -
>> > solid_angles.hdr
>>
>> So S(n) gives, for each pixel of the n'th input image, its solid angle.
>> To take a look, use falsecolor -m 1 -s .000008 -ip solidangle.hdr | ximage
>> - good way to think about projections...
>>
>> Cheers, Lars.
>>
>>
>> > Hi, Lars, thanks a lot for your advices!
>> >
>> > May I ask the references on the S and T function as you suggested to
>> look up? (I didn't find any relevant infor via Radiance forum search...)
>> >
>> > May I also ask what the "n" in the "S(n)" denotes?
>> >
>> > Thanks again!
>> >
>> > - Cheers, Ji
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121130/5d6d4a60/attachment.html>

From iabel at iebele.nl  Fri Nov 30 08:51:48 2012
From: iabel at iebele.nl (Iebele)
Date: Fri, 30 Nov 2012 18:51:48 +0200
Subject: [Radiance-general] sky visibility
In-Reply-To: <CAD83LVJdYF1GwKqpr7g3J-=KL_YEuRvojOxFxVtcNVN=YgOxVQ@mail.gmail.com>
References: <CAMxTbri9-2+CYCjBe0O80GN9NDWvhnsWT=TTheAKi96faYM-uA@mail.gmail.com>
	<50825B2F.7040505@gmx.net>
	<CAD83LVKQ97JZoyCnB=jvPqJUyENxdhtUhxV7UWSbv6yjCrkJww@mail.gmail.com>
	<508407FC.8040408@gmx.net>
	<CAD83LVLba8_qYttjoM2f=2E6SJBhx5o4CJXqePuH6nozhfkJkQ@mail.gmail.com>
	<845F404E-414E-49AC-BD4E-BF707FF4AFE7@gmx.net>
	<CAD83LV+wVgcY-bg_z-g4-LDbqVZJbpYKq-VdNm0xgz28L76O3Q@mail.gmail.com>
	<682DD22B-D108-4D5C-8C05-A99EFB2265E3@gmx.net>
	<CAD83LV+zPYd4NFgBgyvR3hnb8dngve9ZzeVfMf8JhHwDhzabow@mail.gmail.com>
	<CAD83LVJdYF1GwKqpr7g3J-=KL_YEuRvojOxFxVtcNVN=YgOxVQ@mail.gmail.com>
Message-ID: <D42E97FA-49FC-42FA-9A1B-FFCC2718D852@iebele.nl>

Hi Ji, 

Concerning the rpict part of your problem, you might consider an approach that divides the solution into series of scanlines equal to the number of nodes/processors you have available in your parallel system. Use piece instead of rpict, in such case. 

- iebele



Op 30 nov. 2012, om 12:50 heeft Ji Zhang het volgende geschreven:

> Dear list, 
> 
> I'd like to ask if the Radiance way to calculate sky exposure as explained below can be further optimized. 
> 
> This method is quite accurate, but it is just not fast enough for us (0.2 second per sensor). 
> 
> It seems the Radiance programs used in this approach, such as rpict, pcomb, pvalue, etc. are not applicable to harvest the power of parallel processing, such as what the "-n" option does for rtrace. 
> 
> Maybe I'm just too greedy, but is there a way to further enhance the efficiency of the individual Radiance command in this method? 
> 
> Thanks in advance!
> 
> - Ji
> 
> 
> On Fri, Oct 26, 2012 at 2:11 AM, Ji Zhang <hope.zh at gmail.com> wrote:
> Hi, Lars, Thanks for your detailed explanation! 
> 
> The following bash script is put up according to the suggestions from all previous replies to this post. This method is view type independent. Anyway, I'd appreciate further advices from the list to make it more succinct and efficient, or point out the loopholes if there are any. 
> 
> # start__________________________
> # calculate Sky Exposure Factor
> # which is defined as the ratio between 
> # the solid angle subtended by visible sky patch/patches
> # and that of the unobstructed sky hemisphere (which is 2*PI)
> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
> rpict -av 1 1 1 -vf ./view_vts.vf -x 1000 -y 1000 ./SkyEF_scene.oct | pcomb -e 'solidAngle=S(1);ro=if(ri(1),0,solidAngle); go=if(gi(1),0,solidAngle); bo=if(bi(1),0,solidAngle)' -o - | pvalue -h -H | rcalc -e '$1=$3' | total | rcalc -e '$1=$1/2/PI' > ./SkyEF_results.txt
> # end__________________________
> 
> The contents of "view_vts.vf" (note that the location of the view point is slightly away from the surface of the scene geometry):
> rvu -vts -vp 0 0 0.001 -vd 0 0 1 -vu 0 1 0 -vh 180 -vv 180 -vo 0 -va 0 -vs 0 -vl 0 
> 
> 
> The following step-by-step break down of the commands might be useful for debugging purpose.
> 
> # start__________________________
> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
> 
> rpict -av 1 1 1 -vf ./view_vts.vf -x 800 -y 800 ./SkyEF_scene.oct > ./SkyEF_vts.hdr
> 
> cat ./SkyEF_vts.hdr | pcomb -e 'omega=S(1);ro=if(ri(1),0,omega); go=if(gi(1),0,omega); bo=if(bi(1),0,omega)' -o - > ./SkyEF_solidAngle.hdr
> 
> cat ./SkyEF_solidAngle.hdr | pvalue -h -H > ./SkyEF_xpos_ypos_solidAngleVal.txt
> 
> cat ./SkyEF_xpos_ypos_solidAngleVal.txt | rcalc -e '$1=$3' | total > ./SkyEF_total_solidAngle_of_visible_sky.txt
> 
> cat ./SkyEF_total_solidAngle_of_visible_sky.txt | rcalc -e '$1=$1/2/PI' > ./SkyEF_results.txt
> # end__________________________
> 
> 
> Thanks again for the help from all of you!
> - Ji
> 
> 
> 
> On Thu, Oct 25, 2012 at 4:20 PM, Lars O. Grobe <grobe at gmx.net> wrote:
> Hi Ji!
> 
> The functions S(n) and T(n) are available in pcomb. To make an image "solid_angles.hdr" with pixel values (r=g=b) being equal to the solid angle of the pixel in sr, you would do the following:
> 
> cat image.hdr |  pcomb -e 'omega=S(1); ro=omega; go=omega; bo=omega' -o - > solid_angles.hdr
> 
> So S(n) gives, for each pixel of the n'th input image, its solid angle. To take a look, use falsecolor -m 1 -s .000008 -ip solidangle.hdr | ximage - good way to think about projections...
> 
> Cheers, Lars.
> 
> 
> > Hi, Lars, thanks a lot for your advices!
> >
> > May I ask the references on the S and T function as you suggested to look up? (I didn't find any relevant infor via Radiance forum search...)
> >
> > May I also ask what the "n" in the "S(n)" denotes?
> >
> > Thanks again!
> >
> > - Cheers, Ji
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121130/c4194dfc/attachment.html>

From amcneil at lbl.gov  Fri Nov 30 09:37:08 2012
From: amcneil at lbl.gov (Andrew McNeil)
Date: Fri, 30 Nov 2012 09:37:08 -0800
Subject: [Radiance-general] sky visibility
In-Reply-To: <D42E97FA-49FC-42FA-9A1B-FFCC2718D852@iebele.nl>
References: <CAMxTbri9-2+CYCjBe0O80GN9NDWvhnsWT=TTheAKi96faYM-uA@mail.gmail.com>
	<50825B2F.7040505@gmx.net>
	<CAD83LVKQ97JZoyCnB=jvPqJUyENxdhtUhxV7UWSbv6yjCrkJww@mail.gmail.com>
	<508407FC.8040408@gmx.net>
	<CAD83LVLba8_qYttjoM2f=2E6SJBhx5o4CJXqePuH6nozhfkJkQ@mail.gmail.com>
	<845F404E-414E-49AC-BD4E-BF707FF4AFE7@gmx.net>
	<CAD83LV+wVgcY-bg_z-g4-LDbqVZJbpYKq-VdNm0xgz28L76O3Q@mail.gmail.com>
	<682DD22B-D108-4D5C-8C05-A99EFB2265E3@gmx.net>
	<CAD83LV+zPYd4NFgBgyvR3hnb8dngve9ZzeVfMf8JhHwDhzabow@mail.gmail.com>
	<CAD83LVJdYF1GwKqpr7g3J-=KL_YEuRvojOxFxVtcNVN=YgOxVQ@mail.gmail.com>
	<D42E97FA-49FC-42FA-9A1B-FFCC2718D852@iebele.nl>
Message-ID: <CAOG+Niyda2hTM9QVo6RuqeBARJRS0oi2c=eyV=Op8aNxZNwgZA@mail.gmail.com>

You could use vwrays with rtrace instead of rpict.
Andy


On Fri, Nov 30, 2012 at 8:51 AM, Iebele <iabel at iebele.nl> wrote:

> Hi Ji,
>
> Concerning the rpict part of your problem, you might consider an approach
> that divides the solution into series of scanlines equal to the number of
> nodes/processors you have available in your parallel system. Use piece
> instead of rpict, in such case.
>
> - iebele
>
>
>
> Op 30 nov. 2012, om 12:50 heeft Ji Zhang het volgende geschreven:
>
> Dear list,
>
> I'd like to ask if the Radiance way to calculate sky exposure as explained
> below can be further optimized.
>
> This method is quite accurate, but it is just not fast enough for us (0.2
> second per sensor).
>
> It seems the Radiance programs used in this approach, such as rpict,
> pcomb, pvalue, etc. are not applicable to harvest the power of parallel
> processing, such as what the "-n" option does for rtrace.
>
> Maybe I'm just too greedy, but is there a way to further enhance the
> efficiency of the individual Radiance command in this method?
>
> Thanks in advance!
>
> - Ji
>
>
> On Fri, Oct 26, 2012 at 2:11 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Hi, Lars, Thanks for your detailed explanation!
>>
>> The following bash script is put up according to the suggestions from all
>> previous replies to this post. This method is view type independent.
>> Anyway, I'd appreciate further advices from the list to make it more
>> succinct and efficient, or point out the loopholes if there are any.
>>
>> # start__________________________
>> # calculate Sky Exposure Factor
>> # which is defined as the ratio between
>> # the solid angle subtended by visible sky patch/patches
>> # and that of the unobstructed sky hemisphere (which is 2*PI)
>> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
>> rpict -av 1 1 1 -vf ./view_vts.vf -x 1000 -y 1000 ./SkyEF_scene.oct |
>> pcomb -e 'solidAngle=S(1);ro=if(ri(1),0,solidAngle);
>> go=if(gi(1),0,solidAngle); bo=if(bi(1),0,solidAngle)' -o - | pvalue -h -H |
>> rcalc -e '$1=$3' | total | rcalc -e '$1=$1/2/PI' > ./SkyEF_results.txt
>> # end__________________________
>>
>> The contents of "view_vts.vf" (note that the location of the view point
>> is slightly away from the surface of the scene geometry):
>> rvu -vts -vp 0 0 0.001 -vd 0 0 1 -vu 0 1 0 -vh 180 -vv 180 -vo 0 -va 0
>> -vs 0 -vl 0
>>
>>
>> The following step-by-step break down of the commands might be useful for
>> debugging purpose.
>>
>> # start__________________________
>> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
>>
>> rpict -av 1 1 1 -vf ./view_vts.vf -x 800 -y 800 ./SkyEF_scene.oct >
>> ./SkyEF_vts.hdr
>>
>> cat ./SkyEF_vts.hdr | pcomb -e 'omega=S(1);ro=if(ri(1),0,omega);
>> go=if(gi(1),0,omega); bo=if(bi(1),0,omega)' -o - > ./SkyEF_solidAngle.hdr
>>
>> cat ./SkyEF_solidAngle.hdr | pvalue -h -H >
>> ./SkyEF_xpos_ypos_solidAngleVal.txt
>>
>> cat ./SkyEF_xpos_ypos_solidAngleVal.txt | rcalc -e '$1=$3' | total >
>> ./SkyEF_total_solidAngle_of_visible_sky.txt
>>
>> cat ./SkyEF_total_solidAngle_of_visible_sky.txt | rcalc -e '$1=$1/2/PI' >
>> ./SkyEF_results.txt
>> # end__________________________
>>
>>
>> Thanks again for the help from all of you!
>> - Ji
>>
>>
>>
>> On Thu, Oct 25, 2012 at 4:20 PM, Lars O. Grobe <grobe at gmx.net> wrote:
>>
>>> Hi Ji!
>>>
>>> The functions S(n) and T(n) are available in pcomb. To make an image
>>> "solid_angles.hdr" with pixel values (r=g=b) being equal to the solid angle
>>> of the pixel in sr, you would do the following:
>>>
>>> cat image.hdr |  pcomb -e 'omega=S(1); ro=omega; go=omega; bo=omega' -o
>>> - > solid_angles.hdr
>>>
>>> So S(n) gives, for each pixel of the n'th input image, its solid angle.
>>> To take a look, use falsecolor -m 1 -s .000008 -ip solidangle.hdr | ximage
>>> - good way to think about projections...
>>>
>>> Cheers, Lars.
>>>
>>>
>>> > Hi, Lars, thanks a lot for your advices!
>>> >
>>> > May I ask the references on the S and T function as you suggested to
>>> look up? (I didn't find any relevant infor via Radiance forum search...)
>>> >
>>> > May I also ask what the "n" in the "S(n)" denotes?
>>> >
>>> > Thanks again!
>>> >
>>> > - Cheers, Ji
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121130/6d40fd4b/attachment-0001.html>

From hope.zh at gmail.com  Fri Nov 30 23:52:20 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Sat, 1 Dec 2012 15:52:20 +0800
Subject: [Radiance-general] sky visibility
In-Reply-To: <CAOG+Niyda2hTM9QVo6RuqeBARJRS0oi2c=eyV=Op8aNxZNwgZA@mail.gmail.com>
References: <CAMxTbri9-2+CYCjBe0O80GN9NDWvhnsWT=TTheAKi96faYM-uA@mail.gmail.com>
	<50825B2F.7040505@gmx.net>
	<CAD83LVKQ97JZoyCnB=jvPqJUyENxdhtUhxV7UWSbv6yjCrkJww@mail.gmail.com>
	<508407FC.8040408@gmx.net>
	<CAD83LVLba8_qYttjoM2f=2E6SJBhx5o4CJXqePuH6nozhfkJkQ@mail.gmail.com>
	<845F404E-414E-49AC-BD4E-BF707FF4AFE7@gmx.net>
	<CAD83LV+wVgcY-bg_z-g4-LDbqVZJbpYKq-VdNm0xgz28L76O3Q@mail.gmail.com>
	<682DD22B-D108-4D5C-8C05-A99EFB2265E3@gmx.net>
	<CAD83LV+zPYd4NFgBgyvR3hnb8dngve9ZzeVfMf8JhHwDhzabow@mail.gmail.com>
	<CAD83LVJdYF1GwKqpr7g3J-=KL_YEuRvojOxFxVtcNVN=YgOxVQ@mail.gmail.com>
	<D42E97FA-49FC-42FA-9A1B-FFCC2718D852@iebele.nl>
	<CAOG+Niyda2hTM9QVo6RuqeBARJRS0oi2c=eyV=Op8aNxZNwgZA@mail.gmail.com>
Message-ID: <CAD83LVJWnanPOOh_Lk9o4K6HwUgs_btJOddVWbkwQ-haDUp-sg@mail.gmail.com>

Dear Andy, thanks!

I did a simple test and it seems that using vwrays+"rtrace with the -n
option" to replace rpict didn't improve the speed. Instead, the simulation
time increased quite a lot (a difference btw 2second and 11second), and the
size of the same hdr file generated is larger than the one generated by
rpict (a difference btw 1M and 28KB).

1) the script for the "rpict" way is:
*oconv ./mat.rad ./geom.rad ./sky.rad > ./scene.oct
rpict -ab 1 -vf ./view.vf -x 500 -y 500 ./scene.oct > ./SkyEF-vta_ab1.hdr*

2) the script for the vwrays+"rtrace with the -n option" way is:
*oconv ./mat.rad ./geom.rad ./sky.rad > ./scene.oct
vwrays -ff -vf ./view.vf -x 500 -y 500 | rtrace -ab 1 `vwrays -d -vf
./view.vf -x 500 -y 500` -ffc -n 2 -af ./amb_f.amb ./scene.oct >
./SkyEF-vta_ab1.hdr*

(tested on an iMac with DuoCore CPU)

Would appreciate if you can further advice on these issues!

- Ji



On Sat, Dec 1, 2012 at 1:37 AM, Andrew McNeil <amcneil at lbl.gov> wrote:

> You could use vwrays with rtrace instead of rpict.
> Andy
>
>
> On Fri, Nov 30, 2012 at 8:51 AM, Iebele <iabel at iebele.nl> wrote:
>
>> Hi Ji,
>>
>> Concerning the rpict part of your problem, you might consider an approach
>> that divides the solution into series of scanlines equal to the number of
>> nodes/processors you have available in your parallel system. Use piece
>> instead of rpict, in such case.
>>
>> - iebele
>>
>>
>>
>> Op 30 nov. 2012, om 12:50 heeft Ji Zhang het volgende geschreven:
>>
>> Dear list,
>>
>> I'd like to ask if the Radiance way to calculate sky exposure as
>> explained below can be further optimized.
>>
>> This method is quite accurate, but it is just not fast enough for us (0.2
>> second per sensor).
>>
>> It seems the Radiance programs used in this approach, such as rpict,
>> pcomb, pvalue, etc. are not applicable to harvest the power of parallel
>> processing, such as what the "-n" option does for rtrace.
>>
>> Maybe I'm just too greedy, but is there a way to further enhance the
>> efficiency of the individual Radiance command in this method?
>>
>> Thanks in advance!
>>
>> - Ji
>>
>>
>> On Fri, Oct 26, 2012 at 2:11 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>>
>>> Hi, Lars, Thanks for your detailed explanation!
>>>
>>> The following bash script is put up according to the suggestions from
>>> all previous replies to this post. This method is view type independent.
>>> Anyway, I'd appreciate further advices from the list to make it more
>>> succinct and efficient, or point out the loopholes if there are any.
>>>
>>> # start__________________________
>>> # calculate Sky Exposure Factor
>>> # which is defined as the ratio between
>>> # the solid angle subtended by visible sky patch/patches
>>> # and that of the unobstructed sky hemisphere (which is 2*PI)
>>> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
>>> rpict -av 1 1 1 -vf ./view_vts.vf -x 1000 -y 1000 ./SkyEF_scene.oct |
>>> pcomb -e 'solidAngle=S(1);ro=if(ri(1),0,solidAngle);
>>> go=if(gi(1),0,solidAngle); bo=if(bi(1),0,solidAngle)' -o - | pvalue -h -H |
>>> rcalc -e '$1=$3' | total | rcalc -e '$1=$1/2/PI' > ./SkyEF_results.txt
>>> # end__________________________
>>>
>>> The contents of "view_vts.vf" (note that the location of the view point
>>> is slightly away from the surface of the scene geometry):
>>> rvu -vts -vp 0 0 0.001 -vd 0 0 1 -vu 0 1 0 -vh 180 -vv 180 -vo 0 -va 0
>>> -vs 0 -vl 0
>>>
>>>
>>> The following step-by-step break down of the commands might be useful
>>> for debugging purpose.
>>>
>>> # start__________________________
>>> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
>>>
>>> rpict -av 1 1 1 -vf ./view_vts.vf -x 800 -y 800 ./SkyEF_scene.oct >
>>> ./SkyEF_vts.hdr
>>>
>>> cat ./SkyEF_vts.hdr | pcomb -e 'omega=S(1);ro=if(ri(1),0,omega);
>>> go=if(gi(1),0,omega); bo=if(bi(1),0,omega)' -o - > ./SkyEF_solidAngle.hdr
>>>
>>> cat ./SkyEF_solidAngle.hdr | pvalue -h -H >
>>> ./SkyEF_xpos_ypos_solidAngleVal.txt
>>>
>>> cat ./SkyEF_xpos_ypos_solidAngleVal.txt | rcalc -e '$1=$3' | total >
>>> ./SkyEF_total_solidAngle_of_visible_sky.txt
>>>
>>> cat ./SkyEF_total_solidAngle_of_visible_sky.txt | rcalc -e '$1=$1/2/PI'
>>> > ./SkyEF_results.txt
>>> # end__________________________
>>>
>>>
>>> Thanks again for the help from all of you!
>>> - Ji
>>>
>>>
>>>
>>> On Thu, Oct 25, 2012 at 4:20 PM, Lars O. Grobe <grobe at gmx.net> wrote:
>>>
>>>> Hi Ji!
>>>>
>>>> The functions S(n) and T(n) are available in pcomb. To make an image
>>>> "solid_angles.hdr" with pixel values (r=g=b) being equal to the solid angle
>>>> of the pixel in sr, you would do the following:
>>>>
>>>> cat image.hdr |  pcomb -e 'omega=S(1); ro=omega; go=omega; bo=omega' -o
>>>> - > solid_angles.hdr
>>>>
>>>> So S(n) gives, for each pixel of the n'th input image, its solid angle.
>>>> To take a look, use falsecolor -m 1 -s .000008 -ip solidangle.hdr | ximage
>>>> - good way to think about projections...
>>>>
>>>> Cheers, Lars.
>>>>
>>>>
>>>> > Hi, Lars, thanks a lot for your advices!
>>>> >
>>>> > May I ask the references on the S and T function as you suggested to
>>>> look up? (I didn't find any relevant infor via Radiance forum search...)
>>>> >
>>>> > May I also ask what the "n" in the "S(n)" denotes?
>>>> >
>>>> > Thanks again!
>>>> >
>>>> > - Cheers, Ji
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121201/67fe162e/attachment.html>

From hope.zh at gmail.com  Fri Nov 30 23:55:49 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Sat, 1 Dec 2012 15:55:49 +0800
Subject: [Radiance-general] sky visibility
In-Reply-To: <D42E97FA-49FC-42FA-9A1B-FFCC2718D852@iebele.nl>
References: <CAMxTbri9-2+CYCjBe0O80GN9NDWvhnsWT=TTheAKi96faYM-uA@mail.gmail.com>
	<50825B2F.7040505@gmx.net>
	<CAD83LVKQ97JZoyCnB=jvPqJUyENxdhtUhxV7UWSbv6yjCrkJww@mail.gmail.com>
	<508407FC.8040408@gmx.net>
	<CAD83LVLba8_qYttjoM2f=2E6SJBhx5o4CJXqePuH6nozhfkJkQ@mail.gmail.com>
	<845F404E-414E-49AC-BD4E-BF707FF4AFE7@gmx.net>
	<CAD83LV+wVgcY-bg_z-g4-LDbqVZJbpYKq-VdNm0xgz28L76O3Q@mail.gmail.com>
	<682DD22B-D108-4D5C-8C05-A99EFB2265E3@gmx.net>
	<CAD83LV+zPYd4NFgBgyvR3hnb8dngve9ZzeVfMf8JhHwDhzabow@mail.gmail.com>
	<CAD83LVJdYF1GwKqpr7g3J-=KL_YEuRvojOxFxVtcNVN=YgOxVQ@mail.gmail.com>
	<D42E97FA-49FC-42FA-9A1B-FFCC2718D852@iebele.nl>
Message-ID: <CAD83LVKq_1nvx0nmuR2FVF=TefV+_qPBqZ5v=NhMcD=82sWkag@mail.gmail.com>

Thanks, iebele, I may need to read on rpiece's function later and do some
test accordingly ...

- Ji


On Sat, Dec 1, 2012 at 12:51 AM, Iebele <iabel at iebele.nl> wrote:

> Hi Ji,
>
> Concerning the rpict part of your problem, you might consider an approach
> that divides the solution into series of scanlines equal to the number of
> nodes/processors you have available in your parallel system. Use piece
> instead of rpict, in such case.
>
> - iebele
>
>
>
> Op 30 nov. 2012, om 12:50 heeft Ji Zhang het volgende geschreven:
>
> Dear list,
>
> I'd like to ask if the Radiance way to calculate sky exposure as explained
> below can be further optimized.
>
> This method is quite accurate, but it is just not fast enough for us (0.2
> second per sensor).
>
> It seems the Radiance programs used in this approach, such as rpict,
> pcomb, pvalue, etc. are not applicable to harvest the power of parallel
> processing, such as what the "-n" option does for rtrace.
>
> Maybe I'm just too greedy, but is there a way to further enhance the
> efficiency of the individual Radiance command in this method?
>
> Thanks in advance!
>
> - Ji
>
>
> On Fri, Oct 26, 2012 at 2:11 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Hi, Lars, Thanks for your detailed explanation!
>>
>> The following bash script is put up according to the suggestions from all
>> previous replies to this post. This method is view type independent.
>> Anyway, I'd appreciate further advices from the list to make it more
>> succinct and efficient, or point out the loopholes if there are any.
>>
>> # start__________________________
>> # calculate Sky Exposure Factor
>> # which is defined as the ratio between
>> # the solid angle subtended by visible sky patch/patches
>> # and that of the unobstructed sky hemisphere (which is 2*PI)
>> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
>> rpict -av 1 1 1 -vf ./view_vts.vf -x 1000 -y 1000 ./SkyEF_scene.oct |
>> pcomb -e 'solidAngle=S(1);ro=if(ri(1),0,solidAngle);
>> go=if(gi(1),0,solidAngle); bo=if(bi(1),0,solidAngle)' -o - | pvalue -h -H |
>> rcalc -e '$1=$3' | total | rcalc -e '$1=$1/2/PI' > ./SkyEF_results.txt
>> # end__________________________
>>
>> The contents of "view_vts.vf" (note that the location of the view point
>> is slightly away from the surface of the scene geometry):
>> rvu -vts -vp 0 0 0.001 -vd 0 0 1 -vu 0 1 0 -vh 180 -vv 180 -vo 0 -va 0
>> -vs 0 -vl 0
>>
>>
>> The following step-by-step break down of the commands might be useful for
>> debugging purpose.
>>
>> # start__________________________
>> oconv ./plastic_mat.rad ./geom.rad > ./SkyEF_scene.oct
>>
>> rpict -av 1 1 1 -vf ./view_vts.vf -x 800 -y 800 ./SkyEF_scene.oct >
>> ./SkyEF_vts.hdr
>>
>> cat ./SkyEF_vts.hdr | pcomb -e 'omega=S(1);ro=if(ri(1),0,omega);
>> go=if(gi(1),0,omega); bo=if(bi(1),0,omega)' -o - > ./SkyEF_solidAngle.hdr
>>
>> cat ./SkyEF_solidAngle.hdr | pvalue -h -H >
>> ./SkyEF_xpos_ypos_solidAngleVal.txt
>>
>> cat ./SkyEF_xpos_ypos_solidAngleVal.txt | rcalc -e '$1=$3' | total >
>> ./SkyEF_total_solidAngle_of_visible_sky.txt
>>
>> cat ./SkyEF_total_solidAngle_of_visible_sky.txt | rcalc -e '$1=$1/2/PI' >
>> ./SkyEF_results.txt
>> # end__________________________
>>
>>
>> Thanks again for the help from all of you!
>> - Ji
>>
>>
>>
>> On Thu, Oct 25, 2012 at 4:20 PM, Lars O. Grobe <grobe at gmx.net> wrote:
>>
>>> Hi Ji!
>>>
>>> The functions S(n) and T(n) are available in pcomb. To make an image
>>> "solid_angles.hdr" with pixel values (r=g=b) being equal to the solid angle
>>> of the pixel in sr, you would do the following:
>>>
>>> cat image.hdr |  pcomb -e 'omega=S(1); ro=omega; go=omega; bo=omega' -o
>>> - > solid_angles.hdr
>>>
>>> So S(n) gives, for each pixel of the n'th input image, its solid angle.
>>> To take a look, use falsecolor -m 1 -s .000008 -ip solidangle.hdr | ximage
>>> - good way to think about projections...
>>>
>>> Cheers, Lars.
>>>
>>>
>>> > Hi, Lars, thanks a lot for your advices!
>>> >
>>> > May I ask the references on the S and T function as you suggested to
>>> look up? (I didn't find any relevant infor via Radiance forum search...)
>>> >
>>> > May I also ask what the "n" in the "S(n)" denotes?
>>> >
>>> > Thanks again!
>>> >
>>> > - Cheers, Ji
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20121201/2b5af492/attachment-0001.html>

From geotrupes at me.com  Sat Nov 24 00:30:34 2012
From: geotrupes at me.com (giulioandrea antonutto foi)
Date: Sat, 24 Nov 2012 08:30:34 -0000
Subject: [Radiance-general] Obtaining proper luminance values in scene
 image generated using HDR sky-probe luminance data
In-Reply-To: <37BBDD5C-712C-48AC-895B-D079BD2B5DED@gmx.net>
References: <alpine.LRH.2.01.1211231818270.16610@hymn02.u.washington.edu>
	<03EA3EF4-9B8A-44FB-B29E-9247D2FCCEF8@lmi.net>
	<37BBDD5C-712C-48AC-895B-D079BD2B5DED@gmx.net>
Message-ID: <3E283AB0-9AFD-41E7-80B8-C6B655B7F42D@me.com>

something that Greg and Santiago discussed a while ago (and wrote for us):

#!/bin/csh -fe # Undo any exposure to one or more Radiance pictures 
foreach i ($*) 
set expos=`sed -n -e 's/^EXPOSURE=//p' -e '/^$/q' $i | total -p` 
pfilt -1 -e `ev 1/$expos` $i > $i.$$ 
mv $i.$$ $i 
end

may be of help
G






On 24 Nov 2012, at 08:05, Lars O. Grobe <grobe at gmx.net> wrote:

> I pipe any image data I get from files through 'pcomb -o -' before further using it. Just to make sure I use the original values.
> 
> Well, not always, sometimes I forget... sigh ;)
> 
> Cheers, Lars.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



