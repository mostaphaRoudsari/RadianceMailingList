From S.Tilma at lbpsight.nl  Wed Dec  4 08:00:44 2013
From: S.Tilma at lbpsight.nl (Sierd Tilma)
Date: Wed, 4 Dec 2013 17:00:44 +0100
Subject: [Radiance-general] question transmission an reflection glass
Message-ID: <DEDD0469611DBA43B5A212C1473FDC2A50C1BEDA17@es02>

Dear members,

I have a question about glass.
Is it possible, and if the answer is yes, how can I make a glass definition with transmission en reflection properties

Now I make only glas whit transmission properties as below

void glass glasname
0
0
3             0.596 0.654 0.654

Kind regards,
Sierd Tilma

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131204/d33aef30/attachment.html>

From grobe at gmx.net  Wed Dec  4 12:19:41 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 04 Dec 2013 21:19:41 +0100
Subject: [Radiance-general] question transmission an reflection glass
In-Reply-To: <DEDD0469611DBA43B5A212C1473FDC2A50C1BEDA17@es02>
References: <DEDD0469611DBA43B5A212C1473FDC2A50C1BEDA17@es02>
Message-ID: <529F8E5D.5010000@gmx.net>

Hi Sierd!

> I have a question about glass.
> 
> Is it possible, and if the answer is yes, how can I make a glass
> definition with transmission en reflection properties
> Now I make only glas whit transmission properties as below

The glass material is an optimization for thin, clear glass panes.
Transmission through such glass, which depends on the material, is
expected when you define a glass material in Radiance, can be measured.
Reflection is - for an ideal, flat glass - a property of only the angle
between surface normal and ray and the transmission (as a fraction of
light is reflected from the second surface, which means it has to travel
2 times through the material).

So for all use cases that the glass model in Radiance was implemented
for, you would not need the reflection to be defined.

Cheers, Lars.


From gregoryjward at gmail.com  Wed Dec  4 12:29:10 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 4 Dec 2013 12:29:10 -0800
Subject: [Radiance-general] question transmission an reflection glass
In-Reply-To: <DEDD0469611DBA43B5A212C1473FDC2A50C1BEDA17@es02>
References: <DEDD0469611DBA43B5A212C1473FDC2A50C1BEDA17@es02>
Message-ID: <123550DF-4A71-4A52-8682-004704BFD007@lmi.net>

The glass material assumes an uncoated dielectric material, thus its reflectance and transmittance as a function of incident angle are precisely determined by physics from the normal transmissivity (which you specify) and the index of refraction (which you can also give but defaults to 1.52).

If you want finer control over reflectance separate from transmittance, you should use the "trans" material type, although accounting for the angular dependence is more difficult with this type.  Try the "glaze" script if you have a multi-pane system you wish to model.

Best,
-Greg

> From: Sierd Tilma <S.Tilma at lbpsight.nl>
> Date: December 4, 2013 8:00:44 AM PST
> 
> Dear members,
>  
> I have a question about glass.
> Is it possible, and if the answer is yes, how can I make a glass definition with transmission en reflection properties
>  
> Now I make only glas whit transmission properties as below
>  
> void glass glasname
> 0
> 0
> 3             0.596 0.654 0.654
>  
> Kind regards,
> Sierd Tilma
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131204/d75b681c/attachment.html>

From tilma.sierd at gmail.com  Thu Dec  5 00:38:33 2013
From: tilma.sierd at gmail.com (Sierd Tilma)
Date: Thu, 5 Dec 2013 09:38:33 +0100
Subject: [Radiance-general] question transmission an reflection glass
Message-ID: <52a03b8b.01dc0e0a.0ec0.65fe@mx.google.com>

Dear members,

 

I have a question about glass.

Is it possible, and if the answer is yes, how can I make a glass definition
with transmission en reflection properties

 

Now I make only glas whit transmission properties as below

 

void glass glasname

0

0

3             0.596 0.654 0.654

 

Kind regards,

Sierd Tilma

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131205/753d6974/attachment.html>

From weiss at stahl-sonnenenergie.de  Thu Dec  5 12:10:15 2013
From: weiss at stahl-sonnenenergie.de (weiss at stahl-sonnenenergie.de)
Date: Thu, 5 Dec 2013 20:10:15 +0000
Subject: [Radiance-general] AUTOREPLY Radiance-general Digest, Vol 118,
	Issue 1
Message-ID: <0001EA10.52A0EBAC@smtprelaypool.ispgateway.de>


Sehr geehrte Damen und Herren,

vielen Dank fr Ihre Nachricht.
Ich bin von 28.11.2013 bis 25.01.2014 in Elternzeit.
Ihre Mail wird nicht automatisch weiter geleitet oder gelesen. 
Bitte wenden Sie sich mit ihrem Anliegen an unsere Zentrale per Telefon unter 0761/38909-30  oder senden sie ihre Nachricht an info at stahl-weiss.de. Meine Kollegen helfen ihnen gerne weiter.

Mit freundlichen Gren

Volker Wei

Stahl+Wei
Bro fr SonnenEnergie

Basler Strae 55
D-79100 Freiburg

Tel.   +49-(0)761-38909-30
Durchwahl                -32
Fax.  +49-(0)761-38909-39

weiss at stahl-weiss.de
www.stahl-weiss.de
Send Radiance-general mailing list submissions to
	radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request at radiance-online.org

You can reach the person managing the list at
	radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. question transmission an reflection glass (Sierd Tilma)
   2. Re: question transmission an reflection glass (Lars O. Grobe)
   3. Re: question transmission an reflection glass (Greg Ward)
   4. question transmission an reflection glass (Sierd Tilma)


----------------------------------------------------------------------

Message: 1
Date: Wed, 4 Dec 2013 17:00:44 +0100
From: Sierd Tilma <S.Tilma at lbpsight.nl>
To: "radiance-general at radiance-online.org"
	<radiance-general at radiance-online.org>
Subject: [Radiance-general] question transmission an reflection glass
Message-ID: <DEDD0469611DBA43B5A212C1473FDC2A50C1BEDA17 at es02>
Content-Type: text/plain; charset="us-ascii"

Dear members,

I have a question about glass.
Is it possible, and if the answer is yes, how can I make a glass definition with transmission en reflection properties

Now I make only glas whit transmission properties as below

void glass glasname
0
0
3             0.596 0.654 0.654

Kind regards,
Sierd Tilma

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131204/d33aef30/attachment-0001.html>

------------------------------

Message: 2
Date: Wed, 04 Dec 2013 21:19:41 +0100
From: "Lars O. Grobe" <grobe at gmx.net>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] question transmission an reflection
	glass
Message-ID: <529F8E5D.5010000 at gmx.net>
Content-Type: text/plain; charset=ISO-8859-1

Hi Sierd!

> I have a question about glass.
> 
> Is it possible, and if the answer is yes, how can I make a glass
> definition with transmission en reflection properties
> Now I make only glas whit transmission properties as below

The glass material is an optimization for thin, clear glass panes.
Transmission through such glass, which depends on the material, is
expected when you define a glass material in Radiance, can be measured.
Reflection is - for an ideal, flat glass - a property of only the angle
between surface normal and ray and the transmission (as a fraction of
light is reflected from the second surface, which means it has to travel
2 times through the material).

So for all use cases that the glass model in Radiance was implemented
for, you would not need the reflection to be defined.

Cheers, Lars.



------------------------------

Message: 3
Date: Wed, 4 Dec 2013 12:29:10 -0800
From: Greg Ward <gregoryjward at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] question transmission an reflection
	glass
Message-ID: <123550DF-4A71-4A52-8682-004704BFD007 at lmi.net>
Content-Type: text/plain; charset="us-ascii"

The glass material assumes an uncoated dielectric material, thus its reflectance and transmittance as a function of incident angle are precisely determined by physics from the normal transmissivity (which you specify) and the index of refraction (which you can also give but defaults to 1.52).

If you want finer control over reflectance separate from transmittance, you should use the "trans" material type, although accounting for the angular dependence is more difficult with this type.  Try the "glaze" script if you have a multi-pane system you wish to model.

Best,
-Greg

> From: Sierd Tilma <S.Tilma at lbpsight.nl>
> Date: December 4, 2013 8:00:44 AM PST
> 
> Dear members,
>  
> I have a question about glass.
> Is it possible, and if the answer is yes, how can I make a glass definition with transmission en reflection properties
>  
> Now I make only glas whit transmission properties as below
>  
> void glass glasname
> 0
> 0
> 3             0.596 0.654 0.654
>  
> Kind regards,
> Sierd Tilma
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131204/d75b681c/attachment-0001.html>

------------------------------

Message: 4
Date: Thu, 5 Dec 2013 09:38:33 +0100
From: "Sierd Tilma" <tilma.sierd at gmail.com>
To: <radiance-general at radiance-online.org>
Subject: [Radiance-general] question transmission an reflection glass
Message-ID: <52a03b8b.01dc0e0a.0ec0.65fe at mx.google.com>
Content-Type: text/plain; charset="us-ascii"

Dear members,

 

I have a question about glass.

Is it possible, and if the answer is yes, how can I make a glass definition
with transmission en reflection properties

 

Now I make only glas whit transmission properties as below

 

void glass glasname

0

0

3             0.596 0.654 0.654

 

Kind regards,

Sierd Tilma

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131205/753d6974/attachment-0001.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 118, Issue 1
************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131205/58dca016/attachment.html>

From hujia06 at gmail.com  Mon Dec  9 08:16:19 2013
From: hujia06 at gmail.com (Jia Hu)
Date: Mon, 9 Dec 2013 11:16:19 -0500
Subject: [Radiance-general] Rotate luminaire ies
Message-ID: <CABzgtwrUqbVh0-ywV7Qq_kSqb6gquXKXK=WqUHigw9yupzH-aA@mail.gmail.com>

Hello,

I am using ies2rad to convert ies file.  I use xform to move the luminaire
to the correct locations. However, how can I rotate the luminaire by 90
degs?

xform -t 0.9 1.2 2.775  luminaire.rad > light_0.rad


Thanks,

jia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131209/b4b629d1/attachment.html>

From rob.guglielmetti at gmail.com  Mon Dec  9 08:34:10 2013
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Mon, 9 Dec 2013 09:34:10 -0700
Subject: [Radiance-general] Rotate luminaire ies
In-Reply-To: <CABzgtwrUqbVh0-ywV7Qq_kSqb6gquXKXK=WqUHigw9yupzH-aA@mail.gmail.com>
References: <CABzgtwrUqbVh0-ywV7Qq_kSqb6gquXKXK=WqUHigw9yupzH-aA@mail.gmail.com>
Message-ID: <8E2E6865-9AA1-43B5-96B5-79A78663FAE3@gmail.com>

Hi Jia,

To rotate, use the -r option like so:

xform -rz 90 luminaire.rad > light_90.rad



On Dec 9, 2013, at 9:16 AM, Jia Hu <hujia06 at gmail.com> wrote:

> Hello,
> 
> I am using ies2rad to convert ies file.  I use xform to move the luminaire to the correct locations. However, how can I rotate the luminaire by 90 degs?  
> 
> xform -t 0.9 1.2 2.775  luminaire.rad > light_0.rad  
> 
> 
> Thanks,
> 
> jia
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From vaibhavjain.co at gmail.com  Tue Dec 10 17:06:35 2013
From: vaibhavjain.co at gmail.com (Vaib)
Date: Wed, 11 Dec 2013 02:06:35 +0100
Subject: [Radiance-general] Insert text in Radiance images at specific
	location (x y z)
Message-ID: <CAD7gt0XvXjdLP50W5bvVK3dGsgWjFsZDnNd+zRgB-cCXzo88QA@mail.gmail.com>

Hello everyone,

I wish to show illuminance values at specific locations at world
coordinates (x y z) in an image. I mean, to show the illuminance values (in
an orthographic image of a plan created by a camera with parallel lens) at
the real position of the illuminance sensors (Rtrace/Rsensor).

The only way I could find is to use Psign to produce text's image, and then
position the produced text in the plan image by using Pcompos. Something
like this: psign 100 Lux | pcompos inp.hdr 0 0 +t .5 - 200 200 >
out.hdr. However,
Pcompos takes input of the location of a pixel and places the text there.
This is not what I intend to achieve.

Are there other ways to do this? Thank you in anticipation.

Best regards,
Vaibhav Jain
www.vaibhavjain.co
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131211/31ac9268/attachment.html>

From gregoryjward at gmail.com  Tue Dec 10 21:44:38 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 10 Dec 2013 21:44:38 -0800
Subject: [Radiance-general] Insert text in Radiance images at specific
	location (x y z)
In-Reply-To: <CAD7gt0XvXjdLP50W5bvVK3dGsgWjFsZDnNd+zRgB-cCXzo88QA@mail.gmail.com>
References: <CAD7gt0XvXjdLP50W5bvVK3dGsgWjFsZDnNd+zRgB-cCXzo88QA@mail.gmail.com>
Message-ID: <4FEF9234-7F64-43BA-B665-567C5CCD5492@lmi.net>

Hi Vaibhav,

This is probably in the archives, somewhere, but I wouldn't want the task of trying to find it myself, so I won't insist you look, either.

If you have a list of (x,y) pixel coordinates (where x is horizontal position from the left and y is vertical position from the bottom), you can use vwrays to generate rays and compute illuminance values to composite into your image.  You can generate such a list using the 't' command in ximage:

	ximage -tp myrendering.hdr > positions.txt

Just move the cursor over each place you want to compute illuminance and type 't'.  Don't expect a beep or anything, and don't hold down the 't' or you'll get a whole list of identical values when it repeats.  (If you prefer, you can click the middle mouse button instead of typing 't'.)

The list of positions can then be used in the following manner to generate illuminance values and output them via psign and pcompos:

	$ echo pcompos myrendering.hdr 0 0 \\ > pcom.sh
	$ vwrays -i myrendering.hdr < positions.txt \
		| rtrace -h [rendering options] -i+ myscene.oct \
		| rlam positions.txt - \
		| rcalc -e 'lux=47*$3+120*$4+12*$5' -o '=00 "!psign -h 25 -s -.1 ${lux}" ${$1} ${$2} \' >> pcom.sh
	$ sh pcom.sh > myluxvalues.hdr
	$ rm pcom.sh

If the text is too large or too small, adjust the psign -h value downwards or upwards as desired.

I haven't fully tested this, so I hope I didn't make any goofs.  Of course, it assumes you are using Unix.  Otherwise, you'll have more difficulty getting the quotes to work properly since Windows only allows double-quotes....

Best,
-Greg

> From: Vaib <vaibhavjain.co at gmail.com>
> Date: December 10, 2013 5:06:35 PM PST
> 
> Hello everyone, 
> 
> I wish to show illuminance values at specific locations at world coordinates (x y z) in an image. I mean, to show the illuminance values (in an orthographic image of a plan created by a camera with parallel lens) at the real position of the illuminance sensors (Rtrace/Rsensor). 
> 
> The only way I could find is to use Psign to produce text's image, and then position the produced text in the plan image by using Pcompos. Something like this: psign 100 Lux | pcompos inp.hdr 0 0 +t .5 - 200 200 > out.hdr. However, Pcompos takes input of the location of a pixel and places the text there. This is not what I intend to achieve. 
> 
> Are there other ways to do this? Thank you in anticipation. 
> 
> Best regards,
> Vaibhav Jain
> www.vaibhavjain.co


From T.Charles at maxfordham.com  Wed Dec 11 07:59:57 2013
From: T.Charles at maxfordham.com (T.Charles at maxfordham.com)
Date: Wed, 11 Dec 2013 15:59:57 +0000
Subject: [Radiance-general] Subsurface scattering in Radiance
Message-ID: <OFF2AF8F0E.CCD48E15-ON80257C3E.00579E82-80257C3E.0057E2F1@LocalDomain>

Dear all,
Has anyone come across subsurface scattering in Radiance ? Is it possible, 
under consideration ?
Any relevant documentation ?
Thanks a lot,
Regards,
Thibault



42-43 Gloucester Crescent
London
NW1 7PE
T +44 (0) 20 7267 5161
F +44 (0) 20 7482 0329
maxfordham.com

Max Fordham LLP is a Limited Liability Partnership. Registered in England 
and Wales Number OC300026
Registered office 42-43 Gloucester Crescent, London, NW1 7PE


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131211/de6010df/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 25055 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131211/de6010df/attachment-0001.jpe>

From rob.guglielmetti at gmail.com  Wed Dec 11 09:11:40 2013
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Wed, 11 Dec 2013 10:11:40 -0700
Subject: [Radiance-general] Subsurface scattering in Radiance
In-Reply-To: <OFF2AF8F0E.CCD48E15-ON80257C3E.00579E82-80257C3E.0057E2F1@LocalDomain>
References: <OFF2AF8F0E.CCD48E15-ON80257C3E.00579E82-80257C3E.0057E2F1@LocalDomain>
Message-ID: <39547BCB-45F2-4DFC-AAE0-426F7283A0C3@gmail.com>

I think you're gonna want to dig into the archives on the photon map module that Roland Schregele wrote. 

- Rob

On Dec 11, 2013, at 8:59 AM, T.Charles at maxfordham.com wrote:

> Dear all,
> Has anyone come across subsurface scattering in Radiance ? Is it possible, under consideration ?
> Any relevant documentation ?
> Thanks a lot,
> Regards,
> Thibault
> 
> 
> <Mail Attachment.jpeg>
> 42-43 Gloucester Crescent
> London
> NW1 7PE
> T +44 (0) 20 7267 5161
> F +44 (0) 20 7482 0329
> maxfordham.com
> 
> Max Fordham LLP is a Limited Liability Partnership. Registered in England and Wales Number OC300026
> Registered office 42-43 Gloucester Crescent, London, NW1 7PE
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Wed Dec 11 09:15:56 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 11 Dec 2013 09:15:56 -0800
Subject: [Radiance-general] Subsurface scattering in Radiance
In-Reply-To: <39547BCB-45F2-4DFC-AAE0-426F7283A0C3@gmail.com>
References: <OFF2AF8F0E.CCD48E15-ON80257C3E.00579E82-80257C3E.0057E2F1@LocalDomain>
	<39547BCB-45F2-4DFC-AAE0-426F7283A0C3@gmail.com>
Message-ID: <C077E0BD-44CA-42F0-9030-083BD839D292@lmi.net>

I don't think photon mapping will handle this, either.  It's really outside the scope of an architectural rendering package.  Subsurface scattering needs to be implemented at a fundamental materials level, and involves gathering contributions from nearby a hit point in a geometry-aware fashion.  Not to say that it couldn't be done, but there's no real motivation to add it to Radiance.

Cheers,
-Greg

> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
> Date: December 11, 2013 9:11:40 AM PST
> 
> I think you're gonna want to dig into the archives on the photon map module that Roland Schregele wrote. 
> 
> - Rob
> 
> On Dec 11, 2013, at 8:59 AM, T.Charles at maxfordham.com wrote:
> 
>> Dear all,
>> Has anyone come across subsurface scattering in Radiance ? Is it possible, under consideration ?
>> Any relevant documentation ?
>> Thanks a lot,
>> Regards,
>> Thibault
>> 
>> 
>> <Mail Attachment.jpeg>
>> 42-43 Gloucester Crescent
>> London
>> NW1 7PE
>> T +44 (0) 20 7267 5161
>> F +44 (0) 20 7482 0329
>> maxfordham.com


From T.Charles at maxfordham.com  Wed Dec 11 09:38:35 2013
From: T.Charles at maxfordham.com (T.Charles at maxfordham.com)
Date: Wed, 11 Dec 2013 17:38:35 +0000
Subject: [Radiance-general] Subsurface scattering in Radiance
In-Reply-To: <C077E0BD-44CA-42F0-9030-083BD839D292@lmi.net>
References: <C077E0BD-44CA-42F0-9030-083BD839D292@lmi.net>,
	<OFF2AF8F0E.CCD48E15-ON80257C3E.00579E82-80257C3E.0057E2F1@LocalDomain><39547BCB-45F2-4DFC-AAE0-426F7283A0C3@gmail.com>
Message-ID: <OFC781B842.17C4DAEE-ON80257C3E.0060EAA7-80257C3E.0060EAAC@LocalDomain>

Thank you Greg,
It is really useful to work with slightly translucent materials like marble.
I was wondering if it could be modeled via an XML file as the BSDF is. It would be an additional dimension to the tensor tree representation and an additional material parameter (maybe 1 per dimension actually) to quantify the diffusion of light.
Any thought ?
Cheers,
Thibault

PS: Is this photon map module included in the latest Radiance release ? If not, what is the best way to approach caustics ?



-----Greg Ward <gregoryjward at gmail.com> a ?crit : -----
A : Radiance general discussion <radiance-general at radiance-online.org>
De : Greg Ward <gregoryjward at gmail.com>
Date : 11/12/2013 17:17
Objet : Re: [Radiance-general] Subsurface scattering in Radiance

I don't think photon mapping will handle this, either. ?It's really outside the scope of an architectural rendering package. ?Subsurface scattering needs to be implemented at a fundamental materials level, and involves gathering contributions from nearby a hit point in a geometry-aware fashion. ?Not to say that it couldn't be done, but there's no real motivation to add it to Radiance.

Cheers,
-Greg

> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
> Date: December 11, 2013 9:11:40 AM PST
> 
> I think you're gonna want to dig into the archives on the photon map module that Roland Schregele wrote.
> 
> - Rob
> 
> On Dec 11, 2013, at 8:59 AM, T.Charles at maxfordham.com wrote:
> 
>> Dear all,
>> Has anyone come across subsurface scattering in Radiance ? Is it possible, under consideration ?
>> Any relevant documentation ?
>> Thanks a lot,
>> Regards,
>> Thibault
>> 
>> 
>> <Mail Attachment.jpeg>
>> 42-43 Gloucester Crescent
>> London
>> NW1 7PE
>> T +44 (0) 20 7267 5161
>> F +44 (0) 20 7482 0329
>> maxfordham.com

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131211/7374a8fe/attachment.html>

From gregoryjward at gmail.com  Wed Dec 11 09:52:45 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 11 Dec 2013 09:52:45 -0800
Subject: [Radiance-general] Subsurface scattering in Radiance
In-Reply-To: <OFC781B842.17C4DAEE-ON80257C3E.0060EAA7-80257C3E.0060EAAC@LocalDomain>
References: <C077E0BD-44CA-42F0-9030-083BD839D292@lmi.net>,
	<OFF2AF8F0E.CCD48E15-ON80257C3E.00579E82-80257C3E.0057E2F1@LocalDomain><39547BCB-45F2-4DFC-AAE0-426F7283A0C3@gmail.com>
	<OFC781B842.17C4DAEE-ON80257C3E.0060EAA7-80257C3E.0060EAAC@LocalDomain>
Message-ID: <BE8B9E59-B574-4EC2-BD0F-AE0595AA16A1@lmi.net>

I'm not saying it couldn't be done.  I'm saying there is no one to do it or support such an addition given our current focus.  Some things are simply out of scope based on our application area, whatever users may want.  You are of course welcome to make such extensions yourself, though I might recommend working with Radzilla or (easier still) utilizing another free renderer that already has such capabilities.

I don't know the current status of the photon mapping add-on for certain.  Someone else will have to answer that.

Cheers,
-Greg

> From: T.Charles at maxfordham.com
> Date: December 11, 2013 9:38:35 AM PST
> 
> Thank you Greg,
> It is really useful to work with slightly translucent materials like marble.
> I was wondering if it could be modeled via an XML file as the BSDF is. It would be an additional dimension to the tensor tree representation and an additional material parameter (maybe 1 per dimension actually) to quantify the diffusion of light.
> Any thought ?
> Cheers,
> Thibault
> 
> PS: Is this photon map module included in the latest Radiance release ? If not, what is the best way to approach caustics ?
> 
> 
> 
> -----Greg Ward <gregoryjward at gmail.com> a ?crit : -----
> A : Radiance general discussion <radiance-general at radiance-online.org>
> De : Greg Ward <gregoryjward at gmail.com>
> Date : 11/12/2013 17:17
> Objet : Re: [Radiance-general] Subsurface scattering in Radiance
> 
> I don't think photon mapping will handle this, either.  It's really outside the scope of an architectural rendering package.  Subsurface scattering needs to be implemented at a fundamental materials level, and involves gathering contributions from nearby a hit point in a geometry-aware fashion.  Not to say that it couldn't be done, but there's no real motivation to add it to Radiance.
> 
> Cheers,
> -Greg
> 
> > From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
> > Date: December 11, 2013 9:11:40 AM PST
> > 
> > I think you're gonna want to dig into the archives on the photon map module that Roland Schregele wrote. 
> > 
> > - Rob
> > 
> > On Dec 11, 2013, at 8:59 AM, T.Charles at maxfordham.com wrote:
> > 
> >> Dear all,
> >> Has anyone come across subsurface scattering in Radiance ? Is it possible, under consideration ?
> >> Any relevant documentation ?
> >> Thanks a lot,
> >> Regards,
> >> Thibault
> >> 
> >> 
> >> <Mail Attachment.jpeg>
> >> 42-43 Gloucester Crescent
> >> London
> >> NW1 7PE
> >> T +44 (0) 20 7267 5161
> >> F +44 (0) 20 7482 0329
> >> maxfordham.com
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131211/ce3c3b7e/attachment.html>

From roland.schregle at hslu.ch  Wed Dec 11 09:58:22 2013
From: roland.schregle at hslu.ch (Schregle Roland HSLU T&A)
Date: Wed, 11 Dec 2013 18:58:22 +0100
Subject: [Radiance-general] Subsurface scattering in Radiance
In-Reply-To: <C077E0BD-44CA-42F0-9030-083BD839D292@lmi.net>
References: <OFF2AF8F0E.CCD48E15-ON80257C3E.00579E82-80257C3E.0057E2F1@LocalDomain>
	<39547BCB-45F2-4DFC-AAE0-426F7283A0C3@gmail.com>
	<C077E0BD-44CA-42F0-9030-083BD839D292@lmi.net>
Message-ID: <op.w7xv7kefgbjfop@ccmse-sim>

On Wed, 11 Dec 2013 18:15:56 +0100, Greg Ward <gregoryjward at gmail.com>
wrote:

> I don't think photon mapping will handle this, either.  It's really  
> outside the scope of an architectural rendering package.  Subsurface  
> scattering needs to be implemented at a fundamental materials level, and  
> involves gathering contributions from nearby a hit point in a  
> geometry-aware fashion.  Not to say that it couldn't be done, but  
> there's no real motivation to add it to Radiance.

Hi all,

funny this discussion should come up, because the issue of subsurface
scattering was recently raised in our department precisely within an
architectural context. Lars Grobe conducted some tests with the "mist"
primitive, but the results weren't convincing.

Wann Jensen has proposed a BSSRDF and a photon mapping approach to model
subsurface scattering, so it is doable, but not with the current photon
map implementation; it would require adding the BSSRDF itself plus the
appropriate photon scattering routines. The flux carried within the
material would then be obtained from volume photons, which are already
built in.

Having said that, while we're planning a few (overdue) extensions to the
photon map, subsurface scattering currently doesn't have a high priority.

See ya,

--Roland


-- 
Dr. Roland Schregle
Senior Research Associate

T direct: +41 41 349 39 77
roland.schregle at hslu.ch

Lucerne University of Applied Sciences and Arts
School of Engineering and Architecture
CC Envelopes and Solar Energy (EASE)
Technikumstrasse 21, CH-6048 Horw
T +41 41 349 33 11, F +41 41 349 39 60
www.hslu.ch/ccease


From vaibhavjain.co at gmail.com  Wed Dec 11 10:37:02 2013
From: vaibhavjain.co at gmail.com (Vaib)
Date: Wed, 11 Dec 2013 19:37:02 +0100
Subject: [Radiance-general] Insert text in Radiance images at specific
 location (x y z)
In-Reply-To: <4FEF9234-7F64-43BA-B665-567C5CCD5492@lmi.net>
References: <CAD7gt0XvXjdLP50W5bvVK3dGsgWjFsZDnNd+zRgB-cCXzo88QA@mail.gmail.com>
	<4FEF9234-7F64-43BA-B665-567C5CCD5492@lmi.net>
Message-ID: <CAD7gt0UWp8YKxd4+DL_aNirF-i4EWWvrT39_9Nh=3f_=vOWC4Q@mail.gmail.com>

Thank you Dr.Greg. I also suspected that since Pcompos deals with images
(and not Radiance objects) therefore it will only take pixel
coordinates (and not world coordinates) as input arguments. Your idea of
recording pixel coordinates through ('t' or middle mouse button) will
absolutely work but ideally I was looking for a fully automated process.

Still I think there could be one solution, if I write an algorithm to
convert the (x,y) world coordinates of the sensors into (x,y) pixel
coordinates by taking into account the actual room size and pixel counts of
the image. If I give -vv and -vh options equal to the room size in parallel
camera, and the resolution of the image produced is known than I think
somehow this can be done. This is just a thought process yet. I hope this
could happen. I will be glad to know your views on it. Excuse me if I
confused. Thank you again!

Best regards,
Vaib


-
Vaibhav Jain
www.vaibhavjain.co


On 11 December 2013 06:44, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Vaibhav,
>
> This is probably in the archives, somewhere, but I wouldn't want the task
> of trying to find it myself, so I won't insist you look, either.
>
> If you have a list of (x,y) pixel coordinates (where x is horizontal
> position from the left and y is vertical position from the bottom), you can
> use vwrays to generate rays and compute illuminance values to composite
> into your image.  You can generate such a list using the 't' command in
> ximage:
>
>         ximage -tp myrendering.hdr > positions.txt
>
> Just move the cursor over each place you want to compute illuminance and
> type 't'.  Don't expect a beep or anything, and don't hold down the 't' or
> you'll get a whole list of identical values when it repeats.  (If you
> prefer, you can click the middle mouse button instead of typing 't'.)
>
> The list of positions can then be used in the following manner to generate
> illuminance values and output them via psign and pcompos:
>
>         $ echo pcompos myrendering.hdr 0 0 \\ > pcom.sh
>         $ vwrays -i myrendering.hdr < positions.txt \
>                 | rtrace -h [rendering options] -i+ myscene.oct \
>                 | rlam positions.txt - \
>                 | rcalc -e 'lux=47*$3+120*$4+12*$5' -o '=00 "!psign -h 25
> -s -.1 ${lux}" ${$1} ${$2} \' >> pcom.sh
>         $ sh pcom.sh > myluxvalues.hdr
>         $ rm pcom.sh
>
> If the text is too large or too small, adjust the psign -h value downwards
> or upwards as desired.
>
> I haven't fully tested this, so I hope I didn't make any goofs.  Of
> course, it assumes you are using Unix.  Otherwise, you'll have more
> difficulty getting the quotes to work properly since Windows only allows
> double-quotes....
>
> Best,
> -Greg
>
> > From: Vaib <vaibhavjain.co at gmail.com>
> > Date: December 10, 2013 5:06:35 PM PST
> >
> > Hello everyone,
> >
> > I wish to show illuminance values at specific locations at world
> coordinates (x y z) in an image. I mean, to show the illuminance values (in
> an orthographic image of a plan created by a camera with parallel lens) at
> the real position of the illuminance sensors (Rtrace/Rsensor).
> >
> > The only way I could find is to use Psign to produce text's image, and
> then position the produced text in the plan image by using Pcompos.
> Something like this: psign 100 Lux | pcompos inp.hdr 0 0 +t .5 - 200 200 >
> out.hdr. However, Pcompos takes input of the location of a pixel and places
> the text there. This is not what I intend to achieve.
> >
> > Are there other ways to do this? Thank you in anticipation.
> >
> > Best regards,
> > Vaibhav Jain
> > www.vaibhavjain.co
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131211/853c5d50/attachment.html>

From gregoryjward at gmail.com  Wed Dec 11 11:10:52 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 11 Dec 2013 11:10:52 -0800
Subject: [Radiance-general] Insert text in Radiance images at specific
	location (x y z)
In-Reply-To: <CAD7gt0UWp8YKxd4+DL_aNirF-i4EWWvrT39_9Nh=3f_=vOWC4Q@mail.gmail.com>
References: <CAD7gt0XvXjdLP50W5bvVK3dGsgWjFsZDnNd+zRgB-cCXzo88QA@mail.gmail.com>
	<4FEF9234-7F64-43BA-B665-567C5CCD5492@lmi.net>
	<CAD7gt0UWp8YKxd4+DL_aNirF-i4EWWvrT39_9Nh=3f_=vOWC4Q@mail.gmail.com>
Message-ID: <4C5D9E08-8271-44F1-AADA-BAD0FBE4F4C9@lmi.net>

Hi Vaib,

You could certainly base a Perl script on some variant of the command sequence I suggested, or develop your own.  For parallel views, it's not difficult to compute the world coordinates from picture position, but the other view types are more challenging.

I should have also mentioned what people more typically do is generate two images, an "irradiance" image and a regular one, then use falsecolor to combine the two into a contour plot with legend.  This isn't quite what you asked for, but contains essentially the same information.  I.e.:

	$ rpict [rendering options] -vf myview.vf -x [xres] -y [yres] scene.oct > myrender.hdr
	$ rpict [rendering options] -vf myview.vf -x [xres] -y [yres] -i+ scene.oct > myirradiance.hdr
	$ falsecolor -i myirradiance.hdr -p myrender.hdr -cl -s auto -l Lux > mycontour.hdr

Give it a try.
-Greg

> From: Vaib <vaibhavjain.co at gmail.com>
> Date: December 11, 2013 10:37:02 AM PST
> 
> Thank you Dr.Greg. I also suspected that since Pcompos deals with images (and not Radiance objects) therefore it will only take pixel coordinates (and not world coordinates) as input arguments. Your idea of recording pixel coordinates through ('t' or middle mouse button) will absolutely work but ideally I was looking for a fully automated process. 
> 
> Still I think there could be one solution, if I write an algorithm to convert the (x,y) world coordinates of the sensors into (x,y) pixel coordinates by taking into account the actual room size and pixel counts of the image. If I give -vv and -vh options equal to the room size in parallel camera, and the resolution of the image produced is known than I think somehow this can be done. This is just a thought process yet. I hope this could happen. I will be glad to know your views on it. Excuse me if I confused. Thank you again! 
> 
> Best regards,
> Vaib
> 
> 
> On 11 December 2013 06:44, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi Vaibhav,
> 
> This is probably in the archives, somewhere, but I wouldn't want the task of trying to find it myself, so I won't insist you look, either.
> 
> If you have a list of (x,y) pixel coordinates (where x is horizontal position from the left and y is vertical position from the bottom), you can use vwrays to generate rays and compute illuminance values to composite into your image.  You can generate such a list using the 't' command in ximage:
> 
>         ximage -tp myrendering.hdr > positions.txt
> 
> Just move the cursor over each place you want to compute illuminance and type 't'.  Don't expect a beep or anything, and don't hold down the 't' or you'll get a whole list of identical values when it repeats.  (If you prefer, you can click the middle mouse button instead of typing 't'.)
> 
> The list of positions can then be used in the following manner to generate illuminance values and output them via psign and pcompos:
> 
>         $ echo pcompos myrendering.hdr 0 0 \\ > pcom.sh
>         $ vwrays -i myrendering.hdr < positions.txt \
>                 | rtrace -h [rendering options] -i+ myscene.oct \
>                 | rlam positions.txt - \
>                 | rcalc -e 'lux=47*$3+120*$4+12*$5' -o '=00 "!psign -h 25 -s -.1 ${lux}" ${$1} ${$2} \' >> pcom.sh
>         $ sh pcom.sh > myluxvalues.hdr
>         $ rm pcom.sh
> 
> If the text is too large or too small, adjust the psign -h value downwards or upwards as desired.
> 
> I haven't fully tested this, so I hope I didn't make any goofs.  Of course, it assumes you are using Unix.  Otherwise, you'll have more difficulty getting the quotes to work properly since Windows only allows double-quotes....
> 
> Best,
> -Greg
> 
> > From: Vaib <vaibhavjain.co at gmail.com>
> > Date: December 10, 2013 5:06:35 PM PST
> >
> > Hello everyone,
> >
> > I wish to show illuminance values at specific locations at world coordinates (x y z) in an image. I mean, to show the illuminance values (in an orthographic image of a plan created by a camera with parallel lens) at the real position of the illuminance sensors (Rtrace/Rsensor).
> >
> > The only way I could find is to use Psign to produce text's image, and then position the produced text in the plan image by using Pcompos. Something like this: psign 100 Lux | pcompos inp.hdr 0 0 +t .5 - 200 200 > out.hdr. However, Pcompos takes input of the location of a pixel and places the text there. This is not what I intend to achieve.
> >
> > Are there other ways to do this? Thank you in anticipation.
> >
> > Best regards,
> > Vaibhav Jain
> > www.vaibhavjain.co
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131211/c77a24a8/attachment.html>

From T.Charles at maxfordham.com  Thu Dec 12 00:12:07 2013
From: T.Charles at maxfordham.com (T.Charles at maxfordham.com)
Date: Thu, 12 Dec 2013 08:12:07 +0000
Subject: [Radiance-general] Subsurface scattering in Radiance
In-Reply-To: <op.w7xv7kefgbjfop@ccmse-sim>
References: <OFF2AF8F0E.CCD48E15-ON80257C3E.00579E82-80257C3E.0057E2F1@LocalDomain><39547BCB-45F2-4DFC-AAE0-426F7283A0C3@gmail.com><C077E0BD-44CA-42F0-9030-083BD839D292@lmi.net>
	<op.w7xv7kefgbjfop@ccmse-sim>
Message-ID: <OF0298AEB1.F0BCBDB3-ON80257C3F.002CA928-80257C3F.002D0DEF@LocalDomain>

Hi Roland,
Thanks for this perspective, good to know the subject is of interest and 
thanks for your work on the photon map module.
Thanks Greg for your response. I was not asking anyone to do it, just 
wanted to collect the community views on the feasibility and see whether a 
collaborative development could interest some of you. I might investigate 
this further.
Regards,
Thibault





42-43 Gloucester Crescent
London
NW1 7PE
T +44 (0) 20 7267 5161
F +44 (0) 20 7482 0329
maxfordham.com

Max Fordham LLP is a Limited Liability Partnership. Registered in England 
and Wales Number OC300026
Registered office 42-43 Gloucester Crescent, London, NW1 7PE




From:   Schregle Roland HSLU T&A <roland.schregle at hslu.ch>
To:     Radiance general discussion 
<radiance-general at radiance-online.org>, 
Date:   11/12/2013 17:59
Subject:        Re: [Radiance-general] Subsurface scattering in Radiance



On Wed, 11 Dec 2013 18:15:56 +0100, Greg Ward <gregoryjward at gmail.com>
wrote:

> I don't think photon mapping will handle this, either.  It's really 
> outside the scope of an architectural rendering package.  Subsurface 
> scattering needs to be implemented at a fundamental materials level, and 
 
> involves gathering contributions from nearby a hit point in a 
> geometry-aware fashion.  Not to say that it couldn't be done, but 
> there's no real motivation to add it to Radiance.

Hi all,

funny this discussion should come up, because the issue of subsurface
scattering was recently raised in our department precisely within an
architectural context. Lars Grobe conducted some tests with the "mist"
primitive, but the results weren't convincing.

Wann Jensen has proposed a BSSRDF and a photon mapping approach to model
subsurface scattering, so it is doable, but not with the current photon
map implementation; it would require adding the BSSRDF itself plus the
appropriate photon scattering routines. The flux carried within the
material would then be obtained from volume photons, which are already
built in.

Having said that, while we're planning a few (overdue) extensions to the
photon map, subsurface scattering currently doesn't have a high priority.

See ya,

--Roland


-- 
Dr. Roland Schregle
Senior Research Associate

T direct: +41 41 349 39 77
roland.schregle at hslu.ch

Lucerne University of Applied Sciences and Arts
School of Engineering and Architecture
CC Envelopes and Solar Energy (EASE)
Technikumstrasse 21, CH-6048 Horw
T +41 41 349 33 11, F +41 41 349 39 60
www.hslu.ch/ccease

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131212/6fb65ddd/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 25055 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131212/6fb65ddd/attachment-0001.jpe>

From saab.hani at gmail.com  Mon Dec 16 09:56:00 2013
From: saab.hani at gmail.com (Hani Saab)
Date: Mon, 16 Dec 2013 18:56:00 +0100
Subject: [Radiance-general] Relative path
Message-ID: <CANDRcs9n+BPoMgvCrGgLa01u2-445_s6Hz3YGpBA97hwgkcnAw@mail.gmail.com>

Hi,

Does Radiance recognizes the use of "../" to indicate an upper-level
directory when referencing a file?

Thanks a lot
Hani
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131216/62ee3998/attachment.html>

From tbleicher at gmail.com  Mon Dec 16 10:46:07 2013
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Mon, 16 Dec 2013 13:46:07 -0500
Subject: [Radiance-general] Relative path
In-Reply-To: <CANDRcs9n+BPoMgvCrGgLa01u2-445_s6Hz3YGpBA97hwgkcnAw@mail.gmail.com>
References: <CANDRcs9n+BPoMgvCrGgLa01u2-445_s6Hz3YGpBA97hwgkcnAw@mail.gmail.com>
Message-ID: <CAKGV-k3W_05WAOD64YtKdw7kiuafY3H3bm4LssmyY_2qv9eC8g@mail.gmail.com>

Hani

I think it does but you still need the leading "." in your RAYPATH
environment variable or the ".." will not be relative to your current
directory. Can't test right now, though.

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131216/384a37e1/attachment.html>

From gregoryjward at gmail.com  Mon Dec 16 10:56:07 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 16 Dec 2013 10:56:07 -0800
Subject: [Radiance-general] Relative path
In-Reply-To: <CAKGV-k3W_05WAOD64YtKdw7kiuafY3H3bm4LssmyY_2qv9eC8g@mail.gmail.com>
References: <CANDRcs9n+BPoMgvCrGgLa01u2-445_s6Hz3YGpBA97hwgkcnAw@mail.gmail.com>
	<CAKGV-k3W_05WAOD64YtKdw7kiuafY3H3bm4LssmyY_2qv9eC8g@mail.gmail.com>
Message-ID: <A0E99DD6-56C6-4821-A248-7ED9EB3AB36B@lmi.net>

Actually, an path beginning with '.' or '/' is taken as explicit, so no need for '.' in your RAYPATH search variable.

-Greg

> From: Thomas Bleicher <tbleicher at gmail.com>
> Date: December 16, 2013 10:46:07 AM PST
> 
> Hani
> 
> I think it does but you still need the leading "." in your RAYPATH environment variable or the ".." will not be relative to your current directory. Can't test right now, though.
> 
> Regards,
> Thomas

------

> From: Hani Saab <saab.hani at gmail.com>
> Date: December 16, 2013 9:56:00 AM PST
> 
> Hi,
> 
> Does Radiance recognizes the use of "../" to indicate an upper-level directory when referencing a file?
> 
> Thanks a lot
> Hani
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131216/c6a1664d/attachment.html>

From brianakarr at yahoo.com  Sat Dec 21 16:42:10 2013
From: brianakarr at yahoo.com (Brian A Karr)
Date: Sat, 21 Dec 2013 16:42:10 -0800 (PST)
Subject: [Radiance-general] Conversion of obj files
Message-ID: <1387672930.91705.YahooMailNeo@web141105.mail.bf1.yahoo.com>

Hello all,

I am a new user of Radiance and have been working through the manual, examples, list-server...

I am working to convert a .obj and .obj.mtl file created in CATIA for use in Radiance.
?

My understanding is as follows...

Convert the .obj file to .rad using OBJ2RAD, using a map file that can be created with the help of the -n qualifier. Its not clear to me that I really need the .map file, ?based on this comment "The material names for the surfaces will assigned based on the mapping rules file given in the??m?option. If no mapping file is given, the identifiers given by the "usemtl" statements will be used as the material names." ?Looking at the .obj file, it uses usemtl statements, which is why I don't necessarily think I need the .map? Sample from the .obj is below:

mtllib light.obj.mtl
s off
v -0.279400 -0.006350 0.076200
v -0.279400 -0.006350 0.003175
v 0.482600 -0.006350 0.076200
v 0.482600 -0.006350 0.003175
vn 0.000000 -1.000000 -0.000000
vn 0.000000 -1.000000 -0.000000
usemtl appearance0
g default
f 1//1 2//1 3//1
f 3//2 2//2 4//2


Next I believe I need to convert the .obj.mtl file to a material .rad file. I found this comment?
http://www.radiance-online.org/pipermail/radiance-general/2003-May/000727.html

indicating there is not a direct translator. So, I believe I need to do this manually? Here is an example from the .obj.mtl file:

newmtl appearance0
Ka 0.793125 0.793125 0.793125
Kd 0.793125 0.793125 0.793125
Ks 0.119 0.119 0.119
Ns 119.04
d 1
illum 2

If this is the case, my next step would be to dig into both material descriptions. Any past experience would be appreciated!

One other question, is there a better output format than .obj that incorporates the material properties, or maybe I should be asking, has a more direct correlation between the material properties? I have a feeling its not that easy!

Thank you,

Brian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131221/ab968acf/attachment.html>

From gregoryjward at gmail.com  Sat Dec 21 20:35:53 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 21 Dec 2013 20:35:53 -0800
Subject: [Radiance-general] Conversion of obj files
In-Reply-To: <1387672930.91705.YahooMailNeo@web141105.mail.bf1.yahoo.com>
References: <1387672930.91705.YahooMailNeo@web141105.mail.bf1.yahoo.com>
Message-ID: <F23CA79C-D6C1-4C6B-8AB4-AAEFF4887168@lmi.net>

Hi Brian,

Good research!  The materials do not translate very well, so you'll just have to do the best you can with those.  If your object(s) have mapped textures, you may be better off using obj2mesh instead of obj2rad, since a Radiance triangle mesh supports mapped textures.  You'll still need to translate the texture image file(s), however.

Best,
-Greg

> From: Brian A Karr <brianakarr at yahoo.com>
> Date: December 21, 2013 4:42:10 PM PST
> 
> Hello all,
> 
> I am a new user of Radiance and have been working through the manual, examples, list-server...
> 
> I am working to convert a .obj and .obj.mtl file created in CATIA for use in Radiance.
>  
> 
> My understanding is as follows...
> 
> Convert the .obj file to .rad using OBJ2RAD, using a map file that can be created with the help of the -n qualifier. Its not clear to me that I really need the .map file,  based on this comment "The material names for the surfaces will assigned based on the mapping rules file given in the ?m option. If no mapping file is given, the identifiers given by the "usemtl" statements will be used as the material names."  Looking at the .obj file, it uses usemtl statements, which is why I don't necessarily think I need the .map? Sample from the .obj is below:
> 
> mtllib light.obj.mtl
> s off
> v -0.279400 -0.006350 0.076200
> v -0.279400 -0.006350 0.003175
> v 0.482600 -0.006350 0.076200
> v 0.482600 -0.006350 0.003175
> vn 0.000000 -1.000000 -0.000000
> vn 0.000000 -1.000000 -0.000000
> usemtl appearance0
> g default
> f 1//1 2//1 3//1
> f 3//2 2//2 4//2
> 
> 
> Next I believe I need to convert the .obj.mtl file to a material .rad file. I found this comment 
> http://www.radiance-online.org/pipermail/radiance-general/2003-May/000727.html
> 
> indicating there is not a direct translator. So, I believe I need to do this manually? Here is an example from the .obj.mtl file:
> 
> newmtl appearance0
> Ka 0.793125 0.793125 0.793125
> Kd 0.793125 0.793125 0.793125
> Ks 0.119 0.119 0.119
> Ns 119.04
> d 1
> illum 2
> 
> If this is the case, my next step would be to dig into both material descriptions. Any past experience would be appreciated!
> 
> One other question, is there a better output format than .obj that incorporates the material properties, or maybe I should be asking, has a more direct correlation between the material properties? I have a feeling its not that easy!
> 
> Thank you,
> 
> Brian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131221/abe763ef/attachment-0001.html>

From t.mcminn at iinet.net.au  Sun Dec 22 23:44:09 2013
From: t.mcminn at iinet.net.au (Terrance McMinn)
Date: Mon, 23 Dec 2013 15:44:09 +0800
Subject: [Radiance-general] Conversion of obj files
In-Reply-To: <1387672930.91705.YahooMailNeo@web141105.mail.bf1.yahoo.com>
References: <1387672930.91705.YahooMailNeo@web141105.mail.bf1.yahoo.com>
Message-ID: <52B7E9C9.4000407@iinet.net.au>

Hello Brian,

A quick check of http://www.fileformat.info/format/material provides 
some information on the file format which could be used as a guide.

Using your {mtl} file:
newmtl appearance0
Ka 0.793125 0.793125 0.793125
Kd 0.793125 0.793125 0.793125
Ks 0.119 0.119 0.119
Ns 119.04
d 1
illum 2

To list all materials in the mtl file listing all line containing the 
newmtl string:
     grep newmtl {mtl}

     In your case the first materials name is appearance0
     According to http://www.fileformat.info/format/material:
         The Ka statement specifies the ambient reflectivity using RGB 
values.

"r g b" are the values for the red, green, and blue components of the 
color. The g and b arguments are optional. If only r is specified, then 
g, and b are assumed to be equal to r. The r g b values are normally in 
the range of 0.0 to 1.0. Values outside this range increase or decrease 
the reflectivity accordingly.

         The Kd statement specifies the diffuse reflectivity using RGB 
values.
         The Ks statement specifies the specular reflectivity using RGB 
values.

Therefore a simple material definition for your appearance0 might be:
void plastic appearance0
0
0
5 0.793125 0.793125 0.793125 .1 .1

The last two parameters (.1 and .1) are the specularity and roughness. 
Specularity fractions greater than 0.1 and roughness values greater than 
0.2 are not very realistic.


*Terrance McMinn
***
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131223/03fc4945/attachment.html>

From brianakarr at yahoo.com  Mon Dec 23 18:37:53 2013
From: brianakarr at yahoo.com (Brian Karr)
Date: Mon, 23 Dec 2013 21:37:53 -0500
Subject: [Radiance-general] Conversion of obj files
In-Reply-To: <52B7E9C9.4000407@iinet.net.au>
References: <1387672930.91705.YahooMailNeo@web141105.mail.bf1.yahoo.com>
	<52B7E9C9.4000407@iinet.net.au>
Message-ID: <000001cf0051$26d3a7f0$747af7d0$@yahoo.com>

Thanks all. Ill spend some time looking at the material format versus the
radiance definitions. For now Terrance's suggestion will work. I created a
materials.rad file with the definitions. 

 

I had some trouble with missing source auxiliary files, but have added them
in. I must have made a mistake during the installation. 

 

So I have inserted my sample Catia object with materials.rad description
into the red ball/light example. 

 

Brian 

 

 

From: Terrance McMinn [mailto:t.mcminn at iinet.net.au] 
Sent: Monday, December 23, 2013 2:44 AM
To: Brian A Karr; Radiance general discussion
Subject: Re: [Radiance-general] Conversion of obj files

 

Hello Brian,

A quick check of http://www.fileformat.info/format/material provides some
information on the file format which could be used as a guide.

Using your {mtl} file:
newmtl appearance0
Ka 0.793125 0.793125 0.793125
Kd 0.793125 0.793125 0.793125
Ks 0.119 0.119 0.119
Ns 119.04
d 1
illum 2

To list all materials in the mtl file listing all line containing the newmtl
string:
    grep newmtl {mtl}
    
    In your case the first materials name is appearance0
    According to http://www.fileformat.info/format/material:
        The Ka statement specifies the ambient reflectivity using RGB
values.

"r g b" are the values for the red, green, and blue components of the color.
The g and b arguments are optional. If only r is specified, then g, and b
are assumed to be equal to r. The r g b values are normally in the range of
0.0 to 1.0. Values outside this range increase or decrease the reflectivity
accordingly.

        The Kd statement specifies the diffuse reflectivity using RGB
values.
        The Ks statement specifies the specular reflectivity using RGB
values.

Therefore a simple material definition for your appearance0 might be:
void plastic appearance0
0
0 
5 0.793125 0.793125 0.793125 .1 .1

The last two parameters (.1 and .1) are the specularity and roughness.
Specularity fractions greater than 0.1 and roughness values greater than 0.2
are not very realistic.

 

Terrance McMinn



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131223/039b6fc4/attachment.html>

From hope.zh at gmail.com  Sat Dec 28 08:04:44 2013
From: hope.zh at gmail.com (Ji Zhang)
Date: Sun, 29 Dec 2013 00:04:44 +0800
Subject: [Radiance-general] What does "ray coefficient" mean?
Message-ID: <CAD83LVLfdmHLOT5PTQB4awAZf-Fm6V9fkiCfWJZMmHAkE-DxHg@mail.gmail.com>

Dear List,

May I ask what the "ray coefficient" means in the RCONTRIB man page?

I'm going back to Axel Jacobs' tutorial on "rtcontrib(rcontrib now)":
http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf

and I tried the following with the *-ffa* option for rcontrib to see what
is the output in ascii format:




*vwrays -ff -x 600 -y 600 -vf ./views/back.vf \| rcontrib -ab 3 -ad 1024
-ar 256 -aa .1 -ffa \`vwrays -d -x 600 -y 600 -vf ./views/back.vf` -m
sky_glow -n 2 -V+ \./testroom_overcast.oct > ./tmp/rcontrib-ffa.txt*

The output contains the following:











*#?RADIANCEoconv materials/testroom.mat objects/testroom.rad
skies/sky_overcast.mat skies/sky.radrcontrib -ab 3 -ad 1024 -ar 256 -aa .1
-ffa -x 600 -y 430 -ld- -m sky_glow -n 2 -V+SOFTWARE= RADIANCE 4.2a lastmod
Sat Jun 23 22:34:17 SGT 2012 by root on oats-iMac.localCAPDATE= 2013:12:28
23:54:10GMT= 2013:12:28 15:54:10FORMAT=ascii-Y 430 +X 6001.359378e-02
1.359378e-02    1.359378e-02    1.359378e-02    1.359378e-02
1.359378e-02   *

*...*
*(this continues for 258000 rows in total)*

May I ask:
1. what the 3 values in each row represents for each pixel?
2. How is this function of rcontrib related to the calculation of daylight
coefficient?


*Thanks you all for your kind help and wish you all a happy new year!*

- Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131229/89a80a45/attachment.html>

From hope.zh at gmail.com  Mon Dec 30 04:50:57 2013
From: hope.zh at gmail.com (Ji Zhang)
Date: Mon, 30 Dec 2013 20:50:57 +0800
Subject: [Radiance-general] can the sun material identifier "solar" be
	specified in rcontrib?
Message-ID: <CAD83LVJTTx6_FcRx1aFPh92oCDu0QJsBJ4vXfca125hjdZTH1A@mail.gmail.com>

Dear list,

Following Axel Jacobs' Rtcontrib tutorial (up to pp.19 so far), I used a
sky created by gendaylit rather than an overcast/uniform sky used in the
tutorial.

The hdr image i got by combining the 145 sky patch hdr images shows a dark
spot around the sun position. I assume this might be because only the "-m
sky_glow" argument is specified in rcontrib, thus the image generated
doesn't include the contribution from the sun spot.

However, when I include an additional "-m solar" argument (the material
identifier for the sun geometry) to the rcontrib command I only got strange
sky patch images.

May I ask why this approach is not correct? and how to visualize the
contribution from the sun spot?

Thanks!
Ji



The shell script (without sun material identifier):
##############################
# create a sky description using gendaylit

gendaylit  1 1 9 -a 1.37 -o -103.98 -m -120 -W 70.0 130.0 -O 1 >
./skies/sky_gendaylit.rad

# copy all lines in the original sky.rad and past in the newly generated
sky_gendaylit.rad above

oconv ./materials/testroom.mat ./objects/testroom.rad
./skies/sky_gendaylit.rad > testroom_gendaylit.oct

# viz the contribution from each of the 145 patches in the gendaylit sky
from the fisheye viewpoint

DIMS=600

vw="-x $DIMS -y $DIMS -vf ./views/sky.vf"

vwrays -ff $vw | rcontrib -bn 146 @./rtc.opt -ffc \
`vwrays -d $vw` -V+ -f tregenza.cal -b tbin \
-o ./images/patches_gendaylit_skyview/p%03d.hdr \
-m sky_glow ./testroom_gendaylit.oct

# use Andy McNeil's approach to merge the 145 hdr images

pcomb $(for i in {001..145}; do \
echo "./images/patches_gendaylit_skyview/p$(printf "%03d" $i).hdr"; done) \
> ./images/sky_pcomb_gendaylit_skyview.hdr

falsecolor -ip ./images/sky_pcomb_gendaylit_skyview.hdr -s 10000 -l cd/m2
-n 10 \
> ./images/sky_pcomb_gendaylit_skyview_fc.hdr
##############################



The shell script of rcontrib with the sun material identifier included:
##############################
vwrays -ff $vw | rcontrib -bn 146 @./rtc.opt -ffc \
`vwrays -d $vw` -V+ -f tregenza.cal -b tbin \
-o ./images/patches_gendaylit_backview_withSun/p%03d.hdr \
-m sky_glow -m solar ./testroom_gendaylit.oct
##############################
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131230/37ce0f8c/attachment.html>

From jedev at visarc.com  Mon Dec 30 06:20:55 2013
From: jedev at visarc.com (Jack de Valpine)
Date: Mon, 30 Dec 2013 09:20:55 -0500
Subject: [Radiance-general] can the sun material identifier "solar" be
 specified in rcontrib?
In-Reply-To: <CAD83LVJTTx6_FcRx1aFPh92oCDu0QJsBJ4vXfca125hjdZTH1A@mail.gmail.com>
References: <CAD83LVJTTx6_FcRx1aFPh92oCDu0QJsBJ4vXfca125hjdZTH1A@mail.gmail.com>
Message-ID: <52C18147.9030008@visarc.com>

Hi Ji,

If you keep working through Axel's tutorial, you will see that the 
distribution for a given sky condition is applied as a separate step 
using output from gensky or gendaylit piped into genskyvec. Rtcontrib is 
being used to calculate the skypatches for a unit/uniform distribution. 
These unit results are then multiplied by the output from the genskyvec 
command. So the actual output/distribution for a given sun/sky is not 
part of the rtcontrib calculation.

Hope this helps,

-Jack

-- 
Jack de Valpine
President

Visarc Incorporated
www.visarc.com

channeling technology for superior design and construction

On 12/30/2013 7:50 AM, Ji Zhang wrote:
> Dear list,
>
> Following Axel Jacobs' Rtcontrib tutorial (up to pp.19 so far), I used 
> a sky created by gendaylit rather than an overcast/uniform sky used in 
> the tutorial.
>
> The hdr image i got by combining the 145 sky patch hdr images shows a 
> dark spot around the sun position. I assume this might be because only 
> the "-m sky_glow" argument is specified in rcontrib, thus the image 
> generated doesn't include the contribution from the sun spot.
>
> However, when I include an additional "-m solar" argument (the 
> material identifier for the sun geometry) to the rcontrib command I 
> only got strange sky patch images.
>
> May I ask why this approach is not correct? and how to visualize the 
> contribution from the sun spot?
>
> Thanks!
> Ji
>
>
>
> The shell script (without sun material identifier):
> ##############################
> # create a sky description using gendaylit
>
> gendaylit  1 1 9 -a 1.37 -o -103.98 -m -120 -W 70.0 130.0 -O 1 > 
> ./skies/sky_gendaylit.rad
>
> # copy all lines in the original sky.rad and past in the newly 
> generated sky_gendaylit.rad above
>
> oconv ./materials/testroom.mat ./objects/testroom.rad 
> ./skies/sky_gendaylit.rad > testroom_gendaylit.oct
>
> # viz the contribution from each of the 145 patches in the gendaylit 
> sky from the fisheye viewpoint
>
> DIMS=600
>
> vw="-x $DIMS -y $DIMS -vf ./views/sky.vf"
>
> vwrays -ff $vw | rcontrib -bn 146 @./rtc.opt -ffc \
> `vwrays -d $vw` -V+ -f tregenza.cal -b tbin \
> -o ./images/patches_gendaylit_skyview/p%03d.hdr \
> -m sky_glow ./testroom_gendaylit.oct
>
> # use Andy McNeil's approach to merge the 145 hdr images
>
> pcomb $(for i in {001..145}; do \
> echo "./images/patches_gendaylit_skyview/p$(printf "%03d" $i).hdr"; 
> done) \
> > ./images/sky_pcomb_gendaylit_skyview.hdr
>
> falsecolor -ip ./images/sky_pcomb_gendaylit_skyview.hdr -s 10000 -l 
> cd/m2 -n 10 \
> > ./images/sky_pcomb_gendaylit_skyview_fc.hdr
> ##############################
>
>
>
> The shell script of rcontrib with the sun material identifier included:
> ##############################
> vwrays -ff $vw | rcontrib -bn 146 @./rtc.opt -ffc \
> `vwrays -d $vw` -V+ -f tregenza.cal -b tbin \
> -o ./images/patches_gendaylit_backview_withSun/p%03d.hdr \
> -m sky_glow -m solar ./testroom_gendaylit.oct
> ##############################
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131230/e5240843/attachment.html>

From hope.zh at gmail.com  Mon Dec 30 07:19:48 2013
From: hope.zh at gmail.com (Ji Zhang)
Date: Mon, 30 Dec 2013 23:19:48 +0800
Subject: [Radiance-general] can the sun material identifier "solar" be
 specified in rcontrib?
In-Reply-To: <52C18147.9030008@visarc.com>
References: <CAD83LVJTTx6_FcRx1aFPh92oCDu0QJsBJ4vXfca125hjdZTH1A@mail.gmail.com>
	<52C18147.9030008@visarc.com>
Message-ID: <CAD83LVLteGVBi9rgc34Fui1KEGonwm+6ogg8FEfcjH8k5m=dgA@mail.gmail.com>

Thanks, Jack! seems I need to working on the tutorial a bit more before I
raise the question ...


On Mon, Dec 30, 2013 at 10:20 PM, Jack de Valpine <jedev at visarc.com> wrote:

>  Hi Ji,
>
> If you keep working through Axel's tutorial, you will see that the
> distribution for a given sky condition is applied as a separate step using
> output from gensky or gendaylit piped into genskyvec. Rtcontrib is being
> used to calculate the skypatches for a unit/uniform distribution. These
> unit results are then multiplied by the output from the genskyvec command.
> So the actual output/distribution for a given sun/sky is not part of the
> rtcontrib calculation.
>
> Hope this helps,
>
> -Jack
>
> --
> Jack de Valpine
> President
>
> Visarc Incorporatedwww.visarc.com
>
> channeling technology for superior design and construction
>
> On 12/30/2013 7:50 AM, Ji Zhang wrote:
>
>  Dear list,
>
> Following Axel Jacobs' Rtcontrib tutorial (up to pp.19 so far), I used a
> sky created by gendaylit rather than an overcast/uniform sky used in the
> tutorial.
>
>  The hdr image i got by combining the 145 sky patch hdr images shows a
> dark spot around the sun position. I assume this might be because only the
> "-m sky_glow" argument is specified in rcontrib, thus the image generated
> doesn't include the contribution from the sun spot.
>
>  However, when I include an additional "-m solar" argument (the material
> identifier for the sun geometry) to the rcontrib command I only got strange
> sky patch images.
>
>  May I ask why this approach is not correct? and how to visualize the
> contribution from the sun spot?
>
>  Thanks!
>  Ji
>
>
>
>  The shell script (without sun material identifier):
> ##############################
>  # create a sky description using gendaylit
>
>  gendaylit  1 1 9 -a 1.37 -o -103.98 -m -120 -W 70.0 130.0 -O 1 >
> ./skies/sky_gendaylit.rad
>
> # copy all lines in the original sky.rad and past in the newly generated
> sky_gendaylit.rad above
>
> oconv ./materials/testroom.mat ./objects/testroom.rad
> ./skies/sky_gendaylit.rad > testroom_gendaylit.oct
>
> # viz the contribution from each of the 145 patches in the gendaylit sky
> from the fisheye viewpoint
>
> DIMS=600
>
> vw="-x $DIMS -y $DIMS -vf ./views/sky.vf"
>
> vwrays -ff $vw | rcontrib -bn 146 @./rtc.opt -ffc \
> `vwrays -d $vw` -V+ -f tregenza.cal -b tbin \
> -o ./images/patches_gendaylit_skyview/p%03d.hdr \
> -m sky_glow ./testroom_gendaylit.oct
>
> # use Andy McNeil's approach to merge the 145 hdr images
>
> pcomb $(for i in {001..145}; do \
> echo "./images/patches_gendaylit_skyview/p$(printf "%03d" $i).hdr"; done) \
> > ./images/sky_pcomb_gendaylit_skyview.hdr
>
> falsecolor -ip ./images/sky_pcomb_gendaylit_skyview.hdr -s 10000 -l cd/m2
> -n 10 \
> > ./images/sky_pcomb_gendaylit_skyview_fc.hdr
> ##############################
>
>
>
> The shell script of rcontrib with the sun material identifier included:
> ##############################
> vwrays -ff $vw | rcontrib -bn 146 @./rtc.opt -ffc \
> `vwrays -d $vw` -V+ -f tregenza.cal -b tbin \
> -o ./images/patches_gendaylit_backview_withSun/p%03d.hdr \
> -m sky_glow -m solar ./testroom_gendaylit.oct
> ##############################
>
>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20131230/8581fb45/attachment-0001.html>

