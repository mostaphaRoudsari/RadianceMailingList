From gmolina1 at uc.cl  Fri Feb  1 05:34:46 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Fri, 1 Feb 2013 08:34:46 -0500
Subject: [Radiance-general] Optics glazing in Radiance
In-Reply-To: <398CFD8C-7EBA-47F0-9B46-10A016118B31@lmi.net>
References: <CAF-iH4J8L1Srm3sr5mwpHOkURrzMtjq=B+rpMRYs+RbruJW2fw@mail.gmail.com>
	<398CFD8C-7EBA-47F0-9B46-10A016118B31@lmi.net>
Message-ID: <CAF-iH4JOisB6dGY0OGPMY1-pgUW3HL=mz3TvM=8-4QFgnKQ+eg@mail.gmail.com>

I forgot about it... heard of if a couple of months ago.

Thanks again Greg!



2013/1/31 Greg Ward <gregoryjward at gmail.com>

> Did you try the optics2rad script I wrote for this purpose?
>
> -Greg
>
> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>
> *Date: *January 31, 2013 7:01:53 AM PST
>
> *
> *
>
> People,
>
> As Greg said, the HEAD compiled correctly this time... maybe it was just
> the version I tried.
>
> Lars,
>
> What I am trying to do is to actually compare the BSDF given in Klems
> basis by WINDOW, and the one generated in the same basis by genBSDF; based
> on the materials from Optics. Since I am not comparing the lighting levels;
> I understand that the resolution should not be a problem, right?
>
> Now thinking that *"there are not many cases where both the BRTDfunc and
> the glass model as given by Optics make sense, but Optics will not take the
> decision"*, is there any documentation about modeling "modern glazing
> systems"?; for example, I understand that BRTDfunc are oriented to one
> side... How can one deal with the inter-reflections between two glazings?
>
> THANKS VERY MUCH
>
> 2013/1/30 Lars O. Grobe <grobe at gmx.net>
>
>> Hi German,
>>
>> if you model clear glass, (almost) all transmission is direct. This works
>> very efficient for the glass material type, but in theory requires infinite
>> resolution for a BSDF if you want the models to match. I think there are
>> not many cases where both the BRTDfunc and the glass model as given by
>> Optics make sense, but Optics will not take the decision.
>>
>> So for anything that you do not have any scatter defined, I'd use glass
>> (dielectric if not thin and to be approximated as one surface).
>>
>> BRTDfunc output is fine for anything scattering with the limitations of
>> BRTDfunc in the ambient calculation. That is where Window6 comes into play,
>> exporting the BSDF model which is really fully supported by Radiance -
>> though it has a limited resolution.
>>
>> Cheers, Lars.
>>
>> > In the other hand; I am trying to see the difference between the BSDF
>> generated when modeling a glazing using the "glass" primitive given by
>> Optics; and the BRTDfunc given by the same program. For now everything
>> suggest that the second one will need much more rays to converge... am I
>> right?
>> >
>> > I am expecting to see difference in the reflecting part, not in the
>> transmitted part.
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130201/583f877b/attachment-0001.html>

From Wendelin.Sprenger at ise.fraunhofer.de  Fri Feb  1 07:03:52 2013
From: Wendelin.Sprenger at ise.fraunhofer.de (Wendelin.Sprenger at ise.fraunhofer.de)
Date: Fri, 1 Feb 2013 16:03:52 +0100
Subject: [Radiance-general] Gendaylit- bad sky description (John Ford)
In-Reply-To: <mailman.370.1359726400.2200.radiance-general@radiance-online.org>
References: <mailman.370.1359726400.2200.radiance-general@radiance-online.org>
Message-ID: <OF469D82FE.DA367236-ONC1257B05.0050EBC4-C1257B05.0052C0A0@ise.fhg.de>

Dear John,

to my knowledge, the Perez model only works in a limited range for the sky 
clearness and brightness; at least gendaylit does. In the new version of 
gendaylit that has been announced yesterday, the sky clearness and 
brightness values are set to the border values in your case, and the 
output is still calculated. Therefore, the octree can still be created and 
used for this time step, without the bash script being aborted ("bad sky 
description"). The warning messages are still directed to stdout as long 
as the -w option is not set. 

My guess is a wrong combination of high direct-normal irradiance values 
and the defined point of time. Do you apply hourly irradiance values? Does 
the problem still exist if you change the calculation to 10-minute values? 
Maybe you can recalculate your weather files with the Skartveit-Olseth 
method (Meteonorm, for example, provides this option.) 

Cheers,
Wendelin


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130201/9f2cafac/attachment.html>

From boutillier at estia.ch  Fri Feb  1 03:16:04 2013
From: boutillier at estia.ch (Julien Boutillier)
Date: Fri, 1 Feb 2013 12:16:04 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
Message-ID: <439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>

Hi Lars, 

I don't forget to apply the skyfunc to a glow modifier. Here  is 2 files which describe my sky. Did I make something wrong? 

-----------------------------
sky.rad
-----------------------------
# gendaylit 6 21 12:00GMT -a 46.517402 -o -6.562417 -m -15 -G 500 200
# Ground ambient level: 39.2

void light solar
0
0
3 4.510e+06 4.510e+06 4.510e+06

solar source sun
0
0
4 0.140166 -0.384035 0.912617 0.533000

void brightfunc skyfunc
2 skybright perezlum.cal
0
10 4.182e+01 2.566e+01 -0.905314 -0.339010 12.922843 -3.513900 0.118111 0.140166 -0.384035 0.912617 

------------------------------
skyglow.rad
------------------------------
skyfunc glow sky_glow
0
0
4 1 1 1 0

sky_glow source sky
0
0
4 0 0 1 180

skyfunc glow ground_glow
0
0
4 1 1 1 0

ground_glow source ground
0
0
4 0 0 -1 180

--------------------------------

I use rtrace to calculate the irradiance in a point high in the sky (100meter). -ab parameter is equal to 0, I don't need interreflexion for this case, is it wrong?

Thanks for your help.

Cheers, 

Julien

Le 31 janv. 2013 ? 15:01, Lars O. Grobe a ?crit :

> Hi Julien,
> 
> you did not forget to apply the skyfunc generated by gendaylit to a glow modifier and use that with a source object? How do you calculate the irradiance in Radiance? -ab is greater than 0?
> 
> Cheers, Lars.
> 
>> Hi everyone, 
>> 
>> I 'm using gendaylit function to generate sky with visible spectrum only. I introduce horizontal direct irradiance and horizontal diffuse irradiance (-G parameter) which are computed from horizontal global irradiance (meteo data : full spectrum).
>> 
>> I don't understand why sky irrandiance in Radiance is approximatively 60% of horizontal global irradiance. In my mind, the visible spectrum is approximatively 40-45% of full spectrum, is it wrong?
>> 
>> Example gendaylit command : 
>> 
>>   gendaylit 6 21 12:00GMT -a 46.51 -o -6.56 -m -15 -G 500 200
>> 
>> Thanks for your answer.
>> 
>> Cheers
>> Julien
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From boutillier at estia.ch  Fri Feb  1 03:16:03 2013
From: boutillier at estia.ch (Julien Boutillier)
Date: Fri, 1 Feb 2013 12:16:03 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <510A7946.1070205@ise.fraunhofer.de>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<510A7946.1070205@ise.fraunhofer.de>
Message-ID: <55AF1DE4-872E-4119-9432-17B167B9509E@estia.ch>

Hi Jan, 

Thanks for the explanation.

I'll test this gendaylit update. 

Cheers, 

Julien
Le 31 janv. 2013 ? 15:01, Jan Wienold a ?crit :

> Hi Julien,
> 
> Using  the default option (-O 0 ) gendaylit "transfers" the solar radiation into visible radiation, using a luminance efficacy model.
> Therefore the "sky irradiation" (=equals visible irradiation) differs also from situation to situation. The luminance efficacy of the sun is much lower than for the sky and this is taken into account by the model.
> 
> So for your case
> 
> gendaylit 6 21 12:00GMT -a 46.51 -o -6.56 -m -15 -G 500 200
> 
> you get
> 425 W/m? visible radiation
> 
> if you use
> 
> gendaylit 6 21 12:00GMT -a 46.51 -o -6.56 -m -15 -O 1 -G 500 200
> you get
> 695 W/m? solar radiation  which is +- the input radiation of 500+200=700W/m?
> 
> So the results are as expected.
> 
> The included luiminance efficacy model works properly within gendaylit - at least a recently internal performed validation study on measured data showed this.
> 
> By the way, my colleague will announce later today a major update of gendaylit, which have some significant improvements included.
> 
> Cheers,
> 
> Jan
> 
> 
> 
> On 01/31/2013 11:56 AM, Julien Boutillier wrote:
>> Hi everyone,
>> 
>> I 'm using gendaylit function to generate sky with visible spectrum only. I introduce horizontal direct irradiance and horizontal diffuse irradiance (-G parameter) which are computed from horizontal global irradiance (meteo data : full spectrum).
>> 
>> I don't understand why sky irrandiance in Radiance is approximatively 60% of horizontal global irradiance. In my mind, the visible spectrum is approximatively 40-45% of full spectrum, is it wrong?
>> 
>> Example gendaylit command :
>> 	
>> 	gendaylit 6 21 12:00GMT -a 46.51 -o -6.56 -m -15 -G 500 200
>> 
>> Thanks for your answer.
>> 
>> Cheers
>> Julien
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> -- 
> Dr.-Ing. Jan Wienold
> Head of Team Passive Systems and Daylighting
> Fraunhofer-Institut f?r Solare Energiesysteme
> Thermal Systems and Buildings
> Heidenhofstr. 2, 79110 Freiburg, Germany
> Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
> jan.wienold at ise.fraunhofer.de
> http://www.ise.fraunhofer.de
> 
> In office:
> Mo,Tue: 8:30-18:00
> We,Thu: 8:30-16:00
> Fr:  8:30-15:30
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From john at relume.com.au  Fri Feb  1 00:36:37 2013
From: john at relume.com.au (John Ford)
Date: Fri, 1 Feb 2013 19:36:37 +1100
Subject: [Radiance-general] Gendaylit- bad sky description
Message-ID: <3556A74C-94C4-440C-BEC5-E7CABC71C545@relume.com.au>

Hi, 

Apologies for sending this again, if anyone received it, but I got a "could not send message for past 4 hours" message from the lbl.gov mail server. Hopefully this will get through.


I've run gen_yearvec.bash on an epw file which is throwing up over 500 errors, most of which seem to relate to high direct normal values. I'm getting low overall illuminance values out of dctimestep so I'm not convinced the results are truly representative of the combination of model and weather data. 

Here's an example of data I've pulled out from the err file generated by gen_yearvec.bash, tested in gendaylit.

gendaylit 2 1 8.5 -a -20.27 -o -148.73 -m -150 -W 1031 44 | genskyvec -c 1 1 1 -m 1 |cut -f1 |tr '\n' ' ' >> testAirlie.vec
sky clearness or sky brightness out of range 13.563423	 0.052832
Bad sky description!

Can anyone explain how these values are out of range? I know it seems like a very high direct normal and very low diffuse horizontal, but we're in tropical north Queensland, Australia, here, under sunny skies in summer. (Well, I'm not, but the project in question is). 

Thanks, 

John Ford.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130201/f102c888/attachment.html>

From jdunn at uidaho.edu  Fri Feb  1 16:34:21 2013
From: jdunn at uidaho.edu (Jacob Dunn)
Date: Fri, 1 Feb 2013 17:34:21 -0700
Subject: [Radiance-general] University of Idaho EnergyPlus and Radiance
	Training
Message-ID: <CALPn_+atp-zirDGVO0Xi_PCPdN5pS70x54KOLAnu=xBw6n5pHg@mail.gmail.com>

Radiance-folk!-

We are less than a month away from the University of Idaho Integrated
Design Lab's week long EnergyPlus and Radiance Workshop: Modeling Energy
Efficient Buildings.  There are slots still available for the full training
and half day options.  We will be closing registration post February 15th
at 5.00pm MST, and reserve the right to cancel the training on or before
this date due to insufficient enrollment.

This is a great opportunity for beginners just learning how to use
OpenStudio, EnergyPlus, and Radiance for whole building energy and daylight
simulation.  Additionally, intermediate users will gain new, valuable
skills and insights into the workflow used by the University of Idaho
Integrated Design Lab on consulting and research projects.  Everything from
geometry creation, night flush ventilation, daylight rendering/simulation,
and advanced HVAC system definition will be covered!  Advanced users are
welcome to attend the training and hone their existing modeling skill
sets while hopefully learning something new.

The City of Boise is also boasts a pedestrian-friendly urban environment
that is packed full of diverse amenities including: abundant local
restaurants and craft breweries, beautiful desert wilderness adjacent to
the city, and a charming, walkable downtown.

Please email jdunn at uidaho.edu with any inquiries and questions!

Check out the full flyer here:
http://www.idlboise.com/pdf/uiidl_eplus_radiance_training.pdf

Check out a full description of the workshop, its sessions, and pricing
options here: http://idlboise.com/energyplus-radiance-workshop-2013

Hope you can make it!


*Jacob Dunn - LEED AP
*Architectural Simulation Specialist
University of Idaho Integrated Design Lab

p_208.401.0645
a_306 S 6th Street, Boise ID 83702
*
"Building services today are essentially mechanical compensations for the
fact that buildings are bad for what they are designed for--human life"  -
Bjarke Ingels*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130201/75f54f45/attachment.html>

From grobe at gmx.net  Fri Feb  1 22:12:37 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat, 2 Feb 2013 14:12:37 +0800
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
	<439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
Message-ID: <14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>

Hi Julien!

> I don't forget to apply the skyfunc to a glow modifier. Here  is 2 files which describe my sky. Did I make something wrong? 

Seams to be ok in there.

> I use rtrace to calculate the irradiance in a point high in the sky (100meter). -ab parameter is equal to 0, I don't need interreflexion for this case (...)

Could you please try with -ab 1? Your glow is effective only in the indirect calculation. rtrace calculates irradiance on a virtual diffuse surface, so the glow is hit over at least one bounce.

I have to admit that I tend to forget the exact behavior of rtrace here and cannot test it. The -I may internally increase -ab, but I would not expect it.

Cheers, Lars.

From john at relume.com.au  Sun Feb  3 02:12:02 2013
From: john at relume.com.au (John Ford)
Date: Sun, 3 Feb 2013 21:12:02 +1100
Subject: [Radiance-general] Gendaylit- bad sky description (John Ford)
In-Reply-To: <OF469D82FE.DA367236-ONC1257B05.0050EBC4-C1257B05.0052C0A0@ise.fhg.de>
References: <mailman.370.1359726400.2200.radiance-general@radiance-online.org>
	<OF469D82FE.DA367236-ONC1257B05.0050EBC4-C1257B05.0052C0A0@ise.fhg.de>
Message-ID: <9A891CB1-FA74-4B32-B81C-29FAFE7F34DB@relume.com.au>

Wendelin, 

Thanks for your response. I've tried the new gendaylit and am getting the same results, below.

$ gendaylit 2 1 8.5 -a -20.27 -o -148.73 -m -150 -W 1031 44
# gendaylit 2 1 8.5 -a -20.27 -o -148.73 -m -150 -W 1031 44
sky clearness or sky brightness out of range 13.563423	 0.052832

john at relume.com.au
0411 519 738
Relume Consulting



On 02/02/2013, at 2:03 AM, Wendelin.Sprenger at ise.fraunhofer.de wrote:

> Dear John, 
> 
> to my knowledge, the Perez model only works in a limited range for the sky clearness and brightness; at least gendaylit does. In the new version of gendaylit that has been announced yesterday, the sky clearness and brightness values are set to the border values in your case, and the output is still calculated. Therefore, the octree can still be created and used for this time step, without the bash script being aborted ("bad sky description"). The warning messages are still directed to stdout as long as the -w option is not set. 
> 
> My guess is a wrong combination of high direct-normal irradiance values and the defined point of time. Do you apply hourly irradiance values? Does the problem still exist if you change the calculation to 10-minute values? Maybe you can recalculate your weather files with the Skartveit-Olseth method (Meteonorm, for example, provides this option.) 
> 
> Cheers, 
> Wendelin 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130203/94ac51d4/attachment.html>

From jan.wienold at ise.fraunhofer.de  Sun Feb  3 02:38:25 2013
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Sun, 03 Feb 2013 11:38:25 +0100
Subject: [Radiance-general] Gendaylit- bad sky description (John Ford)
In-Reply-To: <9A891CB1-FA74-4B32-B81C-29FAFE7F34DB@relume.com.au>
References: <mailman.370.1359726400.2200.radiance-general@radiance-online.org>
	<OF469D82FE.DA367236-ONC1257B05.0050EBC4-C1257B05.0052C0A0@ise.fhg.de>
	<9A891CB1-FA74-4B32-B81C-29FAFE7F34DB@relume.com.au>
Message-ID: <510E3E21.9040004@ise.fraunhofer.de>

Hi John,

are you sure you are using the updated version (2.0)? I've just tried it 
and it gives the result below, which is different from yours. Of course 
it is still beyond the Perez parameters, but it delivers a result.

Maybe you still have an old version in your PATH.
You can find out the version number by just typing gendaylit, then you 
should get following output - in the last line it gives you the version 
number:
gendaylit
Usage: gendaylit month day hour [-P|-W|-L|-G] direct_value diffuse_value 
[options]
or:    gendaylit -ang altitude azimuth [-P|-W|-L|-G] direct_value 
diffuse_value [options]
         -P epsilon delta  (these are the Perez parameters)
         -W direct-normal-irradiance diffuse-horizontal-irradiance (W/m^2)
         -L direct-normal-illuminance diffuse-horizontal-illuminance (lux)
         -G direct-horizontal-irradiance diffuse-horizontal-irradiance 
(W/m^2)
         -O [0|1|2]  (0=output in W/m^2/sr visible, 1=output in W/m^2/sr 
solar, 2=output in candela/m^2), default is 0
         gendaylit version 2.00 (2013/01/28)

Cheers,

Jan

here is the output of gendaylit 2.0 using your input data:

gendaylit 2 1 8.5 -a -20.27 -o -148.73 -m -150 -W 1031 44
# gendaylit 2 1 8.5 -a -20.27 -o -148.73 -m -150 -W 1031 44
Range warning: sky clearness too high (12.000000)

void light solar
0
0
3 8.668e+06 8.668e+06 8.668e+06

solar source sun
0
0
4 0.801290 -0.101186 0.589658 0.533000

void brightfunc skyfunc
2 skybright perezlum.cal
0
10 2.241e+01 2.418e+01 -0.982491 -0.175085 17.744335 -6.114169 1.021923 
0.801290 -0.101186 0.589658
gendaylit 2 1 8.5 -a -20.27 -o -148.73 -m -150 -W 1031 44




On 02/03/2013 11:12 AM, John Ford wrote:
> Wendelin,
>
> Thanks for your response. I've tried the new gendaylit and am getting 
> the same results, below.
>
>     $ gendaylit 2 1 8.5 -a -20.27 -o -148.73 -m -150 -W 1031 44
>     # gendaylit 2 1 8.5 -a -20.27 -o -148.73 -m -150 -W 1031 44
>     sky clearness or sky brightness out of range 13.5634230.052832
>
>
> john at relume.com.au <mailto:john at relume.com.au>
> 0411 519 738
> Relume Consulting
>
>
>
> On 02/02/2013, at 2:03 AM, Wendelin.Sprenger at ise.fraunhofer.de 
> <mailto:Wendelin.Sprenger at ise.fraunhofer.de> wrote:
>
>> Dear John,
>>
>> to my knowledge, the Perez model only works in a limited range for 
>> the sky clearness and brightness; at least gendaylit does. In the new 
>> version of gendaylit that has been announced yesterday, the sky 
>> clearness and brightness values are set to the border values in your 
>> case, and the output is still calculated. Therefore, the octree can 
>> still be created and used for this time step, without the bash script 
>> being aborted ("bad sky description"). The warning messages are still 
>> directed to stdout as long as the -w option is not set.
>>
>> My guess is a wrong combination of high direct-normal irradiance 
>> values and the defined point of time. Do you apply hourly irradiance 
>> values? Does the problem still exist if you change the calculation to 
>> 10-minute values? Maybe you can recalculate your weather files with 
>> the Skartveit-Olseth method (Meteonorm, for example, provides this 
>> option.)
>>
>> Cheers,
>> Wendelin
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org 
>> <mailto:Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office:
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130203/4af88b6d/attachment.html>

From boutillier at estia.ch  Mon Feb  4 03:00:45 2013
From: boutillier at estia.ch (Julien Boutillier)
Date: Mon, 4 Feb 2013 12:00:45 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
	<439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
	<14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>
Message-ID: <A3CB6380-10D8-402D-BF89-0191A1E1879F@estia.ch>

Hi Lars, 

I have try with -ab 1 and the result is the same.

I search information about Perey algorithm which is used in gendaylit, and I understand my result now! 

Thanks for your help, 

Julien

Le 2 f?vr. 2013 ? 07:12, Lars O. Grobe a ?crit :

> Hi Julien!
> 
>> I don't forget to apply the skyfunc to a glow modifier. Here  is 2 files which describe my sky. Did I make something wrong? 
> 
> Seams to be ok in there.
> 
>> I use rtrace to calculate the irradiance in a point high in the sky (100meter). -ab parameter is equal to 0, I don't need interreflexion for this case (...)
> 
> Could you please try with -ab 1? Your glow is effective only in the indirect calculation. rtrace calculates irradiance on a virtual diffuse surface, so the glow is hit over at least one bounce.
> 
> I have to admit that I tend to forget the exact behavior of rtrace here and cannot test it. The -I may internally increase -ab, but I would not expect it.
> 
> Cheers, Lars.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From grobe at gmx.net  Mon Feb  4 12:49:10 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 4 Feb 2013 21:49:10 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <A3CB6380-10D8-402D-BF89-0191A1E1879F@estia.ch>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
	<439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
	<14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>
	<A3CB6380-10D8-402D-BF89-0191A1E1879F@estia.ch>
Message-ID: <7DB088E7-84F3-40FB-8502-D90AB2DB4638@gmx.net>

Hi Julien,

whatever result you get there, something is wrong with the scene which is not about the Perez sky model or its parameters.

If you do an irradiance calculation using rtrace -I+ -ab 0, glow sources do not contribute at all to the result. That means that whatever sky distribution you generated, it will not be considered in your calculation. If you really got the same results for your sky with -ab 0 and -ab 1, that means that you did not have any diffuse sky component in your scene. Maybe the input was out of the valid range of the Perez sky, and only the sun (which is modeled as light, not glow), was written to the sky description.

Try it out yourself - create a scene with a 180 degrees source, modified by a glow definition of RGB 1, 1, 1. This should lead to an irradiance of RGB pi. With -ab 0, you will get zero irradiance, with -ab 1 and anything higher you get the expected 3.1416.... W/m2.

> I have try with -ab 1 and the result is the same.

Cheers, Lars.

From boutillier at estia.ch  Tue Feb  5 01:13:24 2013
From: boutillier at estia.ch (Julien Boutillier)
Date: Tue, 5 Feb 2013 10:13:24 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <7DB088E7-84F3-40FB-8502-D90AB2DB4638@gmx.net>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
	<439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
	<14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>
	<A3CB6380-10D8-402D-BF89-0191A1E1879F@estia.ch>
	<7DB088E7-84F3-40FB-8502-D90AB2DB4638@gmx.net>
Message-ID: <EFCD604E-58D8-4DD6-BABA-29BDBE3EF63F@estia.ch>

Hi Lars, 

Thanks for this explanation.

I tried again to put -ab 0 and effectively I only have sun contribution. I don't know what I have done last time (I thought I had tried this case already).

With 500 W/m2 for direct irradiance and 200 W/m2 for diffus irradiance I obtain 280 W/m2 with -ab 0 and 425 W/m2 with -ab 1 or higher.

With 0 W/m2 for direct irradiance and 200 W/m2 for diffus irradiance I obtain 0 W/m2 with -ab 0 and 136 W/m2 with -ab 1 or higher.

I am not sure to understand why the diffus contribution is not the same (425-280 = 145 W/m2 not equal to 136 W/m2). I  saw Perez parameters are not the same, so I think the created sky is a bit different, and this is why??

Cheers, 

Julien

Le 4 f?vr. 2013 ? 21:49, Lars O. Grobe a ?crit :

> Hi Julien,
> 
> whatever result you get there, something is wrong with the scene which is not about the Perez sky model or its parameters.
> 
> If you do an irradiance calculation using rtrace -I+ -ab 0, glow sources do not contribute at all to the result. That means that whatever sky distribution you generated, it will not be considered in your calculation. If you really got the same results for your sky with -ab 0 and -ab 1, that means that you did not have any diffuse sky component in your scene. Maybe the input was out of the valid range of the Perez sky, and only the sun (which is modeled as light, not glow), was written to the sky description.
> 
> Try it out yourself - create a scene with a 180 degrees source, modified by a glow definition of RGB 1, 1, 1. This should lead to an irradiance of RGB pi. With -ab 0, you will get zero irradiance, with -ab 1 and anything higher you get the expected 3.1416.... W/m2.
> 
>> I have try with -ab 1 and the result is the same.
> 
> Cheers, Lars.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From grobe at gmx.net  Tue Feb  5 09:40:21 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 5 Feb 2013 18:40:21 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <EFCD604E-58D8-4DD6-BABA-29BDBE3EF63F@estia.ch>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
	<439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
	<14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>
	<A3CB6380-10D8-402D-BF89-0191A1E1879F@estia.ch>
	<7DB088E7-84F3-40FB-8502-D90AB2DB4638@gmx.net>
	<EFCD604E-58D8-4DD6-BABA-29BDBE3EF63F@estia.ch>
Message-ID: <BA60537E-264C-4ADE-8653-313A261DD29B@gmx.net>

Hi Julien,

as Jan explained before, the inputs of gendaylit can be "visual irradiance" (which is probably achieved by dividing illuminance by Radiance internal luminous efficacy 179), irradiance (which is W/m2 as measured by a pyranometer without any weighing), or illuminance. You select according to your data using the -O option. If you use -O 0, gendaylit assumes that you have a typical data set as recorded by a pyranometer, which includes e.g. infrared. It will assume a luminous efficacy for sun and sky, and reduce the irradiance accordingly.

If you want to verify your method first, start simple. E.g. go with a simple model, where you assume that photo metric measurements were available. Create a basic sky with 1000lx beam (normal) direct illuminance and 1000lx diffuse horizontal. Use this with rtrace -I+ -ab 0, and you should get 1000/179 * cos(pi-sun altitude) W/m2. Render with -ab 1, and you should get this direct horizontal irradiance + 1000/179 W/m2.

The next step is to look into whether you have measured photo metric readings, or whether you need to use radio metric readings. In this case, you can let gendaylit reduce these using its luminous efficacy models.

Cheers, Lars.

Dipl.-Ing. Lars O. Grobe

Am 05.02.2013 um 10:13 schrieb Julien Boutillier <boutillier at estia.ch>:

> Hi Lars, 
> 
> Thanks for this explanation.
> 
> I tried again to put -ab 0 and effectively I only have sun contribution. I don't know what I have done last time (I thought I had tried this case already).
> 
> With 500 W/m2 for direct irradiance and 200 W/m2 for diffus irradiance I obtain 280 W/m2 with -ab 0 and 425 W/m2 with -ab 1 or higher.
> 
> With 0 W/m2 for direct irradiance and 200 W/m2 for diffus irradiance I obtain 0 W/m2 with -ab 0 and 136 W/m2 with -ab 1 or higher.
> 
> I am not sure to understand why the diffus contribution is not the same (425-280 = 145 W/m2 not equal to 136 W/m2). I  saw Perez parameters are not the same, so I think the created sky is a bit different, and this is why??
> 
> Cheers, 
> 
> Julien
> 
> Le 4 f?vr. 2013 ? 21:49, Lars O. Grobe a ?crit :
> 
>> Hi Julien,
>> 
>> whatever result you get there, something is wrong with the scene which is not about the Perez sky model or its parameters.
>> 
>> If you do an irradiance calculation using rtrace -I+ -ab 0, glow sources do not contribute at all to the result. That means that whatever sky distribution you generated, it will not be considered in your calculation. If you really got the same results for your sky with -ab 0 and -ab 1, that means that you did not have any diffuse sky component in your scene. Maybe the input was out of the valid range of the Perez sky, and only the sun (which is modeled as light, not glow), was written to the sky description.
>> 
>> Try it out yourself - create a scene with a 180 degrees source, modified by a glow definition of RGB 1, 1, 1. This should lead to an irradiance of RGB pi. With -ab 0, you will get zero irradiance, with -ab 1 and anything higher you get the expected 3.1416.... W/m2.
>> 
>>> I have try with -ab 1 and the result is the same.
>> 
>> Cheers, Lars.
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From jan.wienold at ise.fraunhofer.de  Tue Feb  5 09:57:03 2013
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Tue, 05 Feb 2013 18:57:03 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <BA60537E-264C-4ADE-8653-313A261DD29B@gmx.net>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
	<439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
	<14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>
	<A3CB6380-10D8-402D-BF89-0191A1E1879F@estia.ch>
	<7DB088E7-84F3-40FB-8502-D90AB2DB4638@gmx.net>
	<EFCD604E-58D8-4DD6-BABA-29BDBE3EF63F@estia.ch>
	<BA60537E-264C-4ADE-8653-313A261DD29B@gmx.net>
Message-ID: <511147EF.9030206@ise.fraunhofer.de>

Hi Lars and Julien,

just to avoid some confusion about input and/or output:

The -O option does specify the output of gendaylit, not the input!
-O 0 -> output in visible radiation (-> visible spectrum)
-O 1 -> output in solar radiation (-> solar spectrum)
-O 2 -> output in candela/m? (-> visible spectrum)

The Input is specified by
         -P epsilon delta  (these are the Perez parameters, rarely used)
         -W direct-normal-irradiance diffuse-horizontal-irradiance 
(W/m?) -> solar irradiance
         -L direct-normal-illuminance diffuse-horizontal-illuminance 
(lux)    - >illuminance (visual spectrum)
         -G direct-horizontal-irradiance diffuse-horizontal-irradiance 
(W/m?) -> solar irradiance

Cheers,
Jan

On 02/05/2013 06:40 PM, Lars O. Grobe wrote:
> Hi Julien,
>
> as Jan explained before, the inputs of gendaylit can be "visual irradiance" (which is probably achieved by dividing illuminance by Radiance internal luminous efficacy 179), irradiance (which is W/m2 as measured by a pyranometer without any weighing), or illuminance. You select according to your data using the -O option. If you use -O 0, gendaylit assumes that you have a typical data set as recorded by a pyranometer, which includes e.g. infrared. It will assume a luminous efficacy for sun and sky, and reduce the irradiance accordingly.
>
> If you want to verify your method first, start simple. E.g. go with a simple model, where you assume that photo metric measurements were available. Create a basic sky with 1000lx beam (normal) direct illuminance and 1000lx diffuse horizontal. Use this with rtrace -I+ -ab 0, and you should get 1000/179 * cos(pi-sun altitude) W/m2. Render with -ab 1, and you should get this direct horizontal irradiance + 1000/179 W/m2.
>
> The next step is to look into whether you have measured photo metric readings, or whether you need to use radio metric readings. In this case, you can let gendaylit reduce these using its luminous efficacy models.
>
> Cheers, Lars.
>
> Dipl.-Ing. Lars O. Grobe
>
> Am 05.02.2013 um 10:13 schrieb Julien Boutillier <boutillier at estia.ch>:
>
>> Hi Lars,
>>
>> Thanks for this explanation.
>>
>> I tried again to put -ab 0 and effectively I only have sun contribution. I don't know what I have done last time (I thought I had tried this case already).
>>
>> With 500 W/m2 for direct irradiance and 200 W/m2 for diffus irradiance I obtain 280 W/m2 with -ab 0 and 425 W/m2 with -ab 1 or higher.
>>
>> With 0 W/m2 for direct irradiance and 200 W/m2 for diffus irradiance I obtain 0 W/m2 with -ab 0 and 136 W/m2 with -ab 1 or higher.
>>
>> I am not sure to understand why the diffus contribution is not the same (425-280 = 145 W/m2 not equal to 136 W/m2). I  saw Perez parameters are not the same, so I think the created sky is a bit different, and this is why??
>>
>> Cheers,
>>
>> Julien
>>
>> Le 4 f?vr. 2013 ? 21:49, Lars O. Grobe a ?crit :
>>
>>> Hi Julien,
>>>
>>> whatever result you get there, something is wrong with the scene which is not about the Perez sky model or its parameters.
>>>
>>> If you do an irradiance calculation using rtrace -I+ -ab 0, glow sources do not contribute at all to the result. That means that whatever sky distribution you generated, it will not be considered in your calculation. If you really got the same results for your sky with -ab 0 and -ab 1, that means that you did not have any diffuse sky component in your scene. Maybe the input was out of the valid range of the Perez sky, and only the sun (which is modeled as light, not glow), was written to the sky description.
>>>
>>> Try it out yourself - create a scene with a 180 degrees source, modified by a glow definition of RGB 1, 1, 1. This should lead to an irradiance of RGB pi. With -ab 0, you will get zero irradiance, with -ab 1 and anything higher you get the expected 3.1416.... W/m2.
>>>
>>>> I have try with -ab 1 and the result is the same.
>>> Cheers, Lars.
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office:
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30



From amcneil at lbl.gov  Tue Feb  5 10:52:21 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Tue, 5 Feb 2013 10:52:21 -0800
Subject: [Radiance-general] Automated head install script
Message-ID: <CAOG+NiwbxMLx=FAB7rEZ_WaFGHZooKxa4fKPgTvs4BwMKiOPrg@mail.gmail.com>

Hi Everyone,

Since I download and compile the HEAD a lot, I wrote a script that
automates it for me.  It might not work for everyone as is, but it should
be easy to modify the script to do what you want.

The script copied below does the following:
 - creates a directory in /Applications/Radiance/  with yesterday's date.
 - downloads the head and support files from radiance-online using wget
 - creates a bin directory in ray/ for the binaries
 - compiles the head using expect to answer prompts
 - copies cal files to the library directory
 - updates a symlink (current) to point to the new ray directory

I keep the following in my .bash_profile:
PATH=$PATH:/Applications/Radiance/current/bin
RAYPATH=/Applications/Radiance/current/lib
MANPATH=$MANPATH:/Applications/Radiance/current/doc/man
export PATH RAYPATH MANPATH

While this is a not the standard installation location for binaries and
libraries, I like it because I can keep previous HEAD releases and go back
to them if necessary and I can update the symlink to point to new binaries
without having to restart the shell.

I keep this script in a directory on my PATH so i just need to issue the
command "sudo installhead.bsh" and get a new working head!

Best,
Andy

######### installhead.bsh #############################

#!/bin/bash

dir=`date -v -1d "+/Applications/Radiance/%Y-%m-%d_HEAD"`

mkdir $dir
cd $dir

wget http://www.radiance-online.org/software/snapshots/radiance-HEAD.tgz
wget http://www.radiance-online.org/software/non-cvs/rad4R0supp.tar.gz

rm -r ray

tar -xf radiance-HEAD.tgz
tar -xf rad4R0supp.tar.gz

cd ray
mkdir bin


expect <<- FIN
set timeout -1
 spawn ./makeall install
expect "What is your preferred editor*"
 send "\n"
expect "Where do you want the executable*"
send "${dir}/ray/bin\n"
 expect "The Radiance Software License*"
send " "
expect "*Do you understand and accept the terms of this agreement*"
 send "y\n"
expect "*Please select your system*"
send "3\n"
 expect "*Where do you want the library files*"
send "${dir}/ray/lib\n"
 expect "*Do you want to change it?*"
send "n\n"
expect "*export PATH*"
 send "\n"
FIN

cp src/cal/cal/* lib/.
cd ../../
rm current
ln -s ${dir}/ray/ current

######## end of installhead.bsh ###########################
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130205/acb1ad1b/attachment-0001.html>

From grobe at gmx.net  Tue Feb  5 11:31:33 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 05 Feb 2013 20:31:33 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <511147EF.9030206@ise.fraunhofer.de>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
	<439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
	<14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>
	<A3CB6380-10D8-402D-BF89-0191A1E1879F@estia.ch>
	<7DB088E7-84F3-40FB-8502-D90AB2DB4638@gmx.net>
	<EFCD604E-58D8-4DD6-BABA-29BDBE3EF63F@estia.ch>
	<BA60537E-264C-4ADE-8653-313A261DD29B@gmx.net>
	<511147EF.9030206@ise.fraunhofer.de>
Message-ID: <51115E15.2020805@gmx.net>

Hi Jan!
> just to avoid some confusion about input and/or output:
Thank you for the clearification, I was writing my latest message from 
what I remembered on a phone...

So far, whenever possible, I have avoided the whole conversion and its 
implied assumptions by using illuminance for input and -O 0, which 
allows me to stay with the conversion by a luminous factor of 179 lm / W 
as I use it everywhere else in Radiance. The weather data I use has a 
column with photometric units, and as I am interested in luminance and 
illuminance as the result of my simulations, I try to avoid introducing 
any additional conversion. One should however be aware that fields in 
weather data may actually be derived from models of luminous efficacy, 
too, as not every station measures both irradiance and illuminance...

Cheers, Lars.


From boutillier at estia.ch  Wed Feb  6 06:20:14 2013
From: boutillier at estia.ch (Julien Boutillier)
Date: Wed, 6 Feb 2013 15:20:14 +0100
Subject: [Radiance-general] Gendaylit Visible radiation
In-Reply-To: <51115E15.2020805@gmx.net>
References: <0BEE2D9C-DDBB-43E7-BE82-C3CACC20F5A2@estia.ch>
	<A33A49B2-FEE2-464C-B244-3852BFE12FA2@gmx.net>
	<439AC2E7-4DC9-4DCB-B654-DD727806AEFF@estia.ch>
	<14165066-0E90-4AD0-9FF2-70E09BE444D1@gmx.net>
	<A3CB6380-10D8-402D-BF89-0191A1E1879F@estia.ch>
	<7DB088E7-84F3-40FB-8502-D90AB2DB4638@gmx.net>
	<EFCD604E-58D8-4DD6-BABA-29BDBE3EF63F@estia.ch>
	<BA60537E-264C-4ADE-8653-313A261DD29B@gmx.net>
	<511147EF.9030206@ise.fraunhofer.de> <51115E15.2020805@gmx.net>
Message-ID: <080BF4D7-448E-408E-BD30-1D9F0D95D407@estia.ch>

Hi Jan and Lars, 

Thanks for your explanation.

I understand well now.

Cheers

Julien

Le 5 f?vr. 2013 ? 20:31, Lars O. Grobe a ?crit :

> Hi Jan!
>> just to avoid some confusion about input and/or output:
> Thank you for the clearification, I was writing my latest message from what I remembered on a phone...
> 
> So far, whenever possible, I have avoided the whole conversion and its implied assumptions by using illuminance for input and -O 0, which allows me to stay with the conversion by a luminous factor of 179 lm / W as I use it everywhere else in Radiance. The weather data I use has a column with photometric units, and as I am interested in luminance and illuminance as the result of my simulations, I try to avoid introducing any additional conversion. One should however be aware that fields in weather data may actually be derived from models of luminous efficacy, too, as not every station measures both irradiance and illuminance...
> 
> Cheers, Lars.
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From arch.hatim at gmail.com  Tue Feb 12 13:52:11 2013
From: arch.hatim at gmail.com (Hatim Azzouz)
Date: Tue, 12 Feb 2013 16:52:11 -0500
Subject: [Radiance-general] Radiance Question
In-Reply-To: <CAEYZ0sDFA6MZi0O9dR3YMAm_W8bx6vaukG_MjOi4rs2GykdGUA@mail.gmail.com>
References: <CAEYZ0sBQOSKzmDf5hLGbrOw085=C19Yyhj0KVCCPmoX3+-C_Hg@mail.gmail.com>
	<CAEYZ0sBbpzDjy0wJm7SWO43fh1g_st15tgKVkOQ7CCCsx6e66Q@mail.gmail.com>
	<CAEYZ0sDFA6MZi0O9dR3YMAm_W8bx6vaukG_MjOi4rs2GykdGUA@mail.gmail.com>
Message-ID: <CAEYZ0sAhiiQn7o_tdfyjrht7xVMcDi76y5cmdhmWvRYH+x0WHQ@mail.gmail.com>

Dear,
I download Desktop Radiance 2.0 Beta (For educational purpose) to use it as
a plugin for Autodesk Ecotect 2011
I faced a difficulty in installation, it asked me which software that i'm
going to use it for (there was no option for ecotect), I wasnt sure what to
pick so I picked Autocad 2000 (is this the right selection?). ),I installed
it and located RAD.exe, and I started the radiance calculation on a small
room.

The problem now I got a Window with a black background that says:
Eco2rad: Deleting Ambient and Octree Files...
Eco2rad: Running radiance to generate views...
Eco2rad: Setting up environment Variables...
Eco2rad: Deleting Ambient and Octree Files...
Eco2rad: Running radiance to generate views...
Eco2rad: Setting up environment Variables...
Eco2rad: Deleting Ambient and Octree Files...
Eco2rad: Running radiance to generate views...
Eco2rad: Setting up environment Variables...
Eco2rad: Deleting Ambient and Octree Files...
Eco2rad: Running radiance to generate views...
Eco2rad: Setting up environment Variables...

And it keeps running, does this process usually take a long time (2 hours
until now), or there is a problem with the installation??
I tried to Uninstall Desktop radiance and re-install it again, but it wont
uninstall.

Can you please assist me with that?

Regards,
Hatim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130212/40ea03d4/attachment.html>

From gregoryjward at gmail.com  Tue Feb 12 14:42:16 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 12 Feb 2013 14:42:16 -0800
Subject: [Radiance-general] Radiance Question
In-Reply-To: <CAEYZ0sAhiiQn7o_tdfyjrht7xVMcDi76y5cmdhmWvRYH+x0WHQ@mail.gmail.com>
References: <CAEYZ0sBQOSKzmDf5hLGbrOw085=C19Yyhj0KVCCPmoX3+-C_Hg@mail.gmail.com>
	<CAEYZ0sBbpzDjy0wJm7SWO43fh1g_st15tgKVkOQ7CCCsx6e66Q@mail.gmail.com>
	<CAEYZ0sDFA6MZi0O9dR3YMAm_W8bx6vaukG_MjOi4rs2GykdGUA@mail.gmail.com>
	<CAEYZ0sAhiiQn7o_tdfyjrht7xVMcDi76y5cmdhmWvRYH+x0WHQ@mail.gmail.com>
Message-ID: <2113FBBF-75FA-4B79-980D-987EF29FBBE5@lmi.net>

This software is no longer supported as far as I know.  The site should probably be taken down....

-Greg

> From: Hatim Azzouz <arch.hatim at gmail.com>
> Date: February 12, 2013 1:52:11 PM PST
> 
> Dear,
> I download Desktop Radiance 2.0 Beta (For educational purpose) to use it as a plugin for Autodesk Ecotect 2011
> I faced a difficulty in installation, it asked me which software that i'm going to use it for (there was no option for ecotect), I wasnt sure what to pick so I picked Autocad 2000 (is this the right selection?). ),I installed it and located RAD.exe, and I started the radiance calculation on a small room.
> 
> The problem now I got a Window with a black background that says:
> Eco2rad: Deleting Ambient and Octree Files...
> Eco2rad: Running radiance to generate views...
> Eco2rad: Setting up environment Variables...
> Eco2rad: Deleting Ambient and Octree Files...
> Eco2rad: Running radiance to generate views...
> Eco2rad: Setting up environment Variables...
> Eco2rad: Deleting Ambient and Octree Files...
> Eco2rad: Running radiance to generate views...
> Eco2rad: Setting up environment Variables...
> Eco2rad: Deleting Ambient and Octree Files...
> Eco2rad: Running radiance to generate views...
> Eco2rad: Setting up environment Variables...
> 
> And it keeps running, does this process usually take a long time (2 hours until now), or there is a problem with the installation?? 
> I tried to Uninstall Desktop radiance and re-install it again, but it wont uninstall.
> 
> Can you please assist me with that?
> 
> Regards,
> Hatim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130212/f3b1c7e4/attachment.html>

From maricanis at gmail.com  Wed Feb 13 00:43:47 2013
From: maricanis at gmail.com (Marija Velickovic)
Date: Wed, 13 Feb 2013 09:43:47 +0100
Subject: [Radiance-general] Pixel to solid angle transformation
Message-ID: <CAAZQWqh4mJ4Cwc+4ciRqbHcW=umXkh_9xdsf7F7z4u_K0bQaxg@mail.gmail.com>

Hi,

I was exploring Jan's evalgalre tool, and found out that size of each pixel
is represented in calculations as its solid angle 'omega'.
I understand the concept of that, but couldn't find exact equations for
transformation from pixel x,y coordinates into omega.

I searched evalglare code, found appropriate functions, but it is not easy
to extract exact formulas from them. As I understand transformations used
are part of code Radiance code too.
My search on Internet was also futile (maybe wrong search keywords :)

Can someone please point me to some site with such transformations or give
some equations here?

Thanks in advance,
Marija
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130213/79666e85/attachment.html>

From Raphael.Compagnon at hefr.ch  Wed Feb 13 07:43:37 2013
From: Raphael.Compagnon at hefr.ch (=?iso-8859-1?Q?Compagnon_Rapha=EBl?=)
Date: Wed, 13 Feb 2013 15:43:37 +0000
Subject: [Radiance-general] RE :  Pixel to solid angle transformation
In-Reply-To: <CAAZQWqh4mJ4Cwc+4ciRqbHcW=umXkh_9xdsf7F7z4u_K0bQaxg@mail.gmail.com>
References: <CAAZQWqh4mJ4Cwc+4ciRqbHcW=umXkh_9xdsf7F7z4u_K0bQaxg@mail.gmail.com>
Message-ID: <A6691D7EACBAC74589C1134EB0758B7F2BD5F447@HEFRMBX01.sofr.hefr.lan>

Maybe this can help you:

you can use the pcomb program to obtain the solid angle of each pixel of a picture!

for instance this will translate a radiance picture (origin.pic)  into a "solid angle" picture (solid_angle.pic) where each pixel has a brightness value that matches the solid angle of the same pixel in the original picture:

pcomb -e 'lo=S(1)' origin.pic >solid_angle.pic



From hope.zh at gmail.com  Wed Feb 13 23:13:39 2013
From: hope.zh at gmail.com (Ji Zhang)
Date: Thu, 14 Feb 2013 15:13:39 +0800
Subject: [Radiance-general] RE : Pixel to solid angle transformation
In-Reply-To: <A6691D7EACBAC74589C1134EB0758B7F2BD5F447@HEFRMBX01.sofr.hefr.lan>
References: <CAAZQWqh4mJ4Cwc+4ciRqbHcW=umXkh_9xdsf7F7z4u_K0bQaxg@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F2BD5F447@HEFRMBX01.sofr.hefr.lan>
Message-ID: <CAD83LV+dmv5wKXMtBCbR7CnPt9zZOKXp3-zxDzZtTzxsuu6Wzw@mail.gmail.com>

Hi, Marija, some recent discussions on "*solid angle as represented by each
pixel* in an image produced by Radiance" from Lars and Giulio in the
following thread may also be helpful:

http://radiance-online.org/pipermail/radiance-general/2012-October/008984.html

- Ji


On Wed, Feb 13, 2013 at 11:43 PM, Compagnon Rapha?l <
Raphael.Compagnon at hefr.ch> wrote:

> Maybe this can help you:
>
> you can use the pcomb program to obtain the solid angle of each pixel of a
> picture!
>
> for instance this will translate a radiance picture (origin.pic)  into a
> "solid angle" picture (solid_angle.pic) where each pixel has a brightness
> value that matches the solid angle of the same pixel in the original
> picture:
>
> pcomb -e 'lo=S(1)' origin.pic >solid_angle.pic
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130214/dec3fed4/attachment.html>

From maricanis at gmail.com  Thu Feb 14 05:41:19 2013
From: maricanis at gmail.com (Marija Velickovic)
Date: Thu, 14 Feb 2013 14:41:19 +0100
Subject: [Radiance-general] RE : Pixel to solid angle transformation
In-Reply-To: <CAD83LV+dmv5wKXMtBCbR7CnPt9zZOKXp3-zxDzZtTzxsuu6Wzw@mail.gmail.com>
References: <CAAZQWqh4mJ4Cwc+4ciRqbHcW=umXkh_9xdsf7F7z4u_K0bQaxg@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F2BD5F447@HEFRMBX01.sofr.hefr.lan>
	<CAD83LV+dmv5wKXMtBCbR7CnPt9zZOKXp3-zxDzZtTzxsuu6Wzw@mail.gmail.com>
Message-ID: <CAAZQWqiMzNFRh67J2hThRQ5Wn_taYnQbYSRpnd4rc5bw+L+2qQ@mail.gmail.com>

Hi,

Thanks Raphael and Ji.

S(n) function is definitely what I needed.

Now I 'just' need to analyze C code to see how calculation is exactly done.

Thanks again,
Marija.

On Thu, Feb 14, 2013 at 8:13 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Hi, Marija, some recent discussions on "*solid angle as represented by
> each pixel* in an image produced by Radiance" from Lars and Giulio in the
> following thread may also be helpful:
>
>
> http://radiance-online.org/pipermail/radiance-general/2012-October/008984.html
>
> - Ji
>
>
>
> On Wed, Feb 13, 2013 at 11:43 PM, Compagnon Rapha?l <
> Raphael.Compagnon at hefr.ch> wrote:
>
>> Maybe this can help you:
>>
>> you can use the pcomb program to obtain the solid angle of each pixel of
>> a picture!
>>
>> for instance this will translate a radiance picture (origin.pic)  into a
>> "solid angle" picture (solid_angle.pic) where each pixel has a brightness
>> value that matches the solid angle of the same pixel in the original
>> picture:
>>
>> pcomb -e 'lo=S(1)' origin.pic >solid_angle.pic
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130214/507fa206/attachment.html>

From grobe at gmx.net  Thu Feb 14 09:02:44 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu, 14 Feb 2013 18:02:44 +0100
Subject: [Radiance-general] Pixel to solid angle transformation
In-Reply-To: <CAD83LV+dmv5wKXMtBCbR7CnPt9zZOKXp3-zxDzZtTzxsuu6Wzw@mail.gmail.com>
References: <CAAZQWqh4mJ4Cwc+4ciRqbHcW=umXkh_9xdsf7F7z4u_K0bQaxg@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F2BD5F447@HEFRMBX01.sofr.hefr.lan>
	<CAD83LV+dmv5wKXMtBCbR7CnPt9zZOKXp3-zxDzZtTzxsuu6Wzw@mail.gmail.com>
Message-ID: <B9DA8B6F-1DAE-4543-B691-F421C95B26B0@gmx.net>

Hi,

I think Marja wanted to know the math behind, not the tools available to query a pixel's solid angle. Unfortunately, the calculation depends on the projection, and there are several projections included in Radiance now. One simplification may be to reproject anything to e.g. an equisolid fisheye, where the solid angles of all pixels should be equal and could be calculated as the solid angle of the image divided by the amount of pixels.

Cheers, Lars.

From jdunn at uidaho.edu  Thu Feb 14 13:23:40 2013
From: jdunn at uidaho.edu (Jacob Dunn)
Date: Thu, 14 Feb 2013 14:23:40 -0700
Subject: [Radiance-general] University of Idaho EnergyPlus and Radiance
	Training - Guaranteed to Happen!
Message-ID: <CALPn_+aHCP7LSKH5edCjPQQ3W4TXFNGS=qafO_q2rpgxxw6xoA@mail.gmail.com>

Radiancers -

The University of Idaho Integrated Design Lab is excited to announce that
we have received enough registrants to deliver our week-long EnergyPlus and
Radiance workshop this month!! (February 25-March 1)

We still have a few slots available in case anybody is still considering
registration. We will allow registrants up until the day before the
workshop or until we meet the maximum number of participants.

Check out the full flyer at:
http://www.idlboise.com/pdf/uiidl_eplus_radiance_training.pdf

Visit the following website for more information on the workshop, including
prices and course topics: https://www.sites.uidaho.edu/uirsvp/

Cheers and thanks!


*Jacob Dunn - LEED AP
*Architectural Simulation Specialist
University of Idaho Integrated Design Lab

p_208.401.0652
a_306 S 6th Street, Boise ID 83702
*
"Building services today are essentially mechanical compensations for the
fact that buildings are bad for what they are designed for--human life"  -
Bjarke Ingels*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130214/1a47417a/attachment.html>

From maricanis at gmail.com  Fri Feb 15 02:15:37 2013
From: maricanis at gmail.com (Marija Velickovic)
Date: Fri, 15 Feb 2013 11:15:37 +0100
Subject: [Radiance-general] Pixel to solid angle transformation
In-Reply-To: <B9DA8B6F-1DAE-4543-B691-F421C95B26B0@gmx.net>
References: <CAAZQWqh4mJ4Cwc+4ciRqbHcW=umXkh_9xdsf7F7z4u_K0bQaxg@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F2BD5F447@HEFRMBX01.sofr.hefr.lan>
	<CAD83LV+dmv5wKXMtBCbR7CnPt9zZOKXp3-zxDzZtTzxsuu6Wzw@mail.gmail.com>
	<B9DA8B6F-1DAE-4543-B691-F421C95B26B0@gmx.net>
Message-ID: <CAAZQWqiXqCCrawYLE0N3-5ZGF9nL1cHf2XZORE+-383Mz2fO8g@mail.gmail.com>

Hi Lars,

You are right the math behind is what interests me.
I know that it depends on projection. For the moment I'm interested in
angular fisheye view used for evalglare input images. I thought that is
gives equal solid angle for every pixel, but it seems that angles vary
slightly (increasing towards image corners), and that's what is puzzling me.

Marija

On Thursday, February 14, 2013, Lars O. Grobe wrote:

> Hi,
>
> I think Marja wanted to know the math behind, not the tools available to
> query a pixel's solid angle. Unfortunately, the calculation depends on the
> projection, and there are several projections included in Radiance now. One
> simplification may be to reproject anything to e.g. an equisolid fisheye,
> where the solid angles of all pixels should be equal and could be
> calculated as the solid angle of the image divided by the amount of pixels.
>
> Cheers, Lars.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org <javascript:;>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130215/7670c007/attachment.html>

From gregoryjward at gmail.com  Fri Feb 15 08:01:14 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 15 Feb 2013 08:01:14 -0800
Subject: [Radiance-general] Pixel to solid angle transformation
In-Reply-To: <CAAZQWqiXqCCrawYLE0N3-5ZGF9nL1cHf2XZORE+-383Mz2fO8g@mail.gmail.com>
References: <CAAZQWqh4mJ4Cwc+4ciRqbHcW=umXkh_9xdsf7F7z4u_K0bQaxg@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F2BD5F447@HEFRMBX01.sofr.hefr.lan>
	<CAD83LV+dmv5wKXMtBCbR7CnPt9zZOKXp3-zxDzZtTzxsuu6Wzw@mail.gmail.com>
	<B9DA8B6F-1DAE-4543-B691-F421C95B26B0@gmx.net>
	<CAAZQWqiXqCCrawYLE0N3-5ZGF9nL1cHf2XZORE+-383Mz2fO8g@mail.gmail.com>
Message-ID: <ED3050B7-E0A6-449A-88EE-046D77BF76DB@lmi.net>

Yes, although an equisolid-angle fisheye has been requested by users, since it matches commonly found lenses, it is pretty low on my priority list.  All of the existing view types in Radiance vary solid angle somewhat with image position.  The means used to calculate solid angle in pcomb involves taking the area contained by each pixel as its rays are projected onto a unit sphere, thus leveraging the existing image-position-to-ray calculations already present in the code.  These latter routines are rather difficult to get right, which is why adding new view types is a bit painful.  (It took over a year before all the bugs were worked out in the latest -vts addition.)

Best,
-Greg

> From: Marija Velickovic <maricanis at gmail.com>
> Date: February 15, 2013 2:15:37 AM PST
> 
> Hi Lars,
> 
> You are right the math behind is what interests me.
> I know that it depends on projection. For the moment I'm interested in angular fisheye view used for evalglare input images. I thought that is gives equal solid angle for every pixel, but it seems that angles vary slightly (increasing towards image corners), and that's what is puzzling me.
> 
> Marija
> 
> On Thursday, February 14, 2013, Lars O. Grobe wrote:
> Hi,
> 
> I think Marja wanted to know the math behind, not the tools available to query a pixel's solid angle. Unfortunately, the calculation depends on the projection, and there are several projections included in Radiance now. One simplification may be to reproject anything to e.g. an equisolid fisheye, where the solid angles of all pixels should be equal and could be calculated as the solid angle of the image divided by the amount of pixels.
> 
> Cheers, Lars.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130215/9f172cb2/attachment.html>

From gmolina1 at uc.cl  Sat Feb 16 07:06:26 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Sat, 16 Feb 2013 10:06:26 -0500
Subject: [Radiance-general] better results on genBSDF
Message-ID: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>

Dear list,

I am using genBSDF to get the BTDF of a shading system, comparing it to an
analytical model using the radiosity method. No surprise, the calculations
seem to be really good, nevertheless, there are some important differences
on directly transmitted (specular) calculations. I am using the following
parameters:

genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
material.mat geometry.rad > ../TMX/file.xml

I tried modifying the -c option, but it did not show any improvements, so I
stayed on 4000. Any suggestions from gurus?

THANKS

German
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130216/777b45b0/attachment.html>

From grobe at gmx.net  Sat Feb 16 11:27:32 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat, 16 Feb 2013 20:27:32 +0100
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
Message-ID: <511FDDA4.1070000@gmx.net>

Hi German!

> I am using genBSDF to get the BTDF of a shading system, comparing it to
> an analytical model using the radiosity method. No surprise, the
> calculations seem to be really good, nevertheless, there are some
> important differences on directly transmitted (specular) calculations. I

Why do you think that "an analytical model using the radiosity method"
results in "better" results than raytracing does for specular transmission?

Cheers, Lars.


From gmolina1 at uc.cl  Sat Feb 16 11:49:09 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Sat, 16 Feb 2013 14:49:09 -0500
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <511FDDA4.1070000@gmx.net>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
Message-ID: <CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>

Hi Lars,

considering that the specular transmission is that light that does not
touch any surface, the analytical solution would be the exact one (am I
right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
those results were compared agains TracePro, and the results of the forward
ray-tracing gave, basically, the same results as the model I am using.

THANKS

German

2013/2/16 Lars O. Grobe <grobe at gmx.net>

> Hi German!
>
> > I am using genBSDF to get the BTDF of a shading system, comparing it to
> > an analytical model using the radiosity method. No surprise, the
> > calculations seem to be really good, nevertheless, there are some
> > important differences on directly transmitted (specular) calculations. I
>
> Why do you think that "an analytical model using the radiosity method"
> results in "better" results than raytracing does for specular transmission?
>
> Cheers, Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130216/81601d48/attachment.html>

From gregoryjward at gmail.com  Sat Feb 16 12:07:02 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 16 Feb 2013 12:07:02 -0800
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
Message-ID: <5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>

The genBSDF program produces a limited resolution matrix representation using the options you've given.  This is appropriate if you want to use it with WINDOW (although I think some modifications to the output are still required) or if your material is fairly diffusing.  It will not resolve the direct peak to anything finer than 10 degrees, which is the resolution of the full Klems matrix basis.  Some spreading of the direct is unavoidable.

You can improve upon this using the tensor tree formulation by setting the -t3 or -t4 option.  If your system produces an isotropic distribution (i.e., you can rotate the system about its center with no change to the output), you can try "genBSDF -t3 6" or so.  In the more general case, you can use "genBSDF -t4 6", which will resolve the direct component to within a few degrees.  You can increase to "-t4 7" to get twice the resolution, but you'll have to increase the -c parameter as well, and I can't predict when the calculation will finish.

The real solution is to incorporate and employ the actual system geometry using the proxy method described near slide 7 in my 2011 workshop presentation:

	http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf

Cheers,
-Greg

> From: Germ?n Molina Larrain <gmolina1 at uc.cl>
> Date: February 16, 2013 11:49:09 AM PST
> 
> Hi Lars, 
> 
> considering that the specular transmission is that light that does not touch any surface, the analytical solution would be the exact one (am I right?). Also, HERE, those results were compared agains TracePro, and the results of the forward ray-tracing gave, basically, the same results as the model I am using.
> 
> THANKS
> 
> German 
> 
> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
> Hi German!
> 
> > I am using genBSDF to get the BTDF of a shading system, comparing it to
> > an analytical model using the radiosity method. No surprise, the
> > calculations seem to be really good, nevertheless, there are some
> > important differences on directly transmitted (specular) calculations. I
> 
> Why do you think that "an analytical model using the radiosity method"
> results in "better" results than raytracing does for specular transmission?
> 
> Cheers, Lars.
> 

---------------------------
> From: Germ?n Molina Larrain <gmolina1 at uc.cl>
> Date: February 16, 2013 7:06:26 AM PST
> 
> Dear list, 
> 
> I am using genBSDF to get the BTDF of a shading system, comparing it to an analytical model using the radiosity method. No surprise, the calculations seem to be really good, nevertheless, there are some important differences on directly transmitted (specular) calculations. I am using the following parameters:
> 
> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0' material.mat geometry.rad > ../TMX/file.xml
> 
> I tried modifying the -c option, but it did not show any improvements, so I stayed on 4000. Any suggestions from gurus?
> 
> THANKS
> 
> German
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130216/aef1d801/attachment.html>

From gmolina1 at uc.cl  Sat Feb 16 12:27:02 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Sat, 16 Feb 2013 15:27:02 -0500
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
Message-ID: <CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>

Thanks Greg and Lars!

I intend to use these BSDFs for annual simulations (three-phase method). Is
it possible to use the Tensor-tree implementation on that? I think I can
live with the claimed error anyway...

THANKS AGAIN

Germ?n

2013/2/16 Greg Ward <gregoryjward at gmail.com>

> The genBSDF program produces a limited resolution matrix representation
> using the options you've given.  This is appropriate if you want to use it
> with WINDOW (although I think some modifications to the output are still
> required) or if your material is fairly diffusing.  It will not resolve the
> direct peak to anything finer than 10 degrees, which is the resolution of
> the full Klems matrix basis.  Some spreading of the direct is unavoidable.
>
> You can improve upon this using the tensor tree formulation by setting the
> -t3 or -t4 option.  If your system produces an isotropic distribution
> (i.e., you can rotate the system about its center with no change to the
> output), you can try "genBSDF -t3 6" or so.  In the more general case, you
> can use "genBSDF -t4 6", which will resolve the direct component to within
> a few degrees.  You can increase to "-t4 7" to get twice the resolution,
> but you'll have to increase the -c parameter as well, and I can't predict
> when the calculation will finish.
>
> The real solution is to incorporate and employ the actual system geometry
> using the proxy method described near slide 7 in my 2011 workshop
> presentation:
>
>
> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>
> Cheers,
> -Greg
>
> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>
> *Date: *February 16, 2013 11:49:09 AM PST
>
> *
> *
>
> Hi Lars,
>
> considering that the specular transmission is that light that does not
> touch any surface, the analytical solution would be the exact one (am I
> right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
> those results were compared agains TracePro, and the results of the forward
> ray-tracing gave, basically, the same results as the model I am using.
>
> THANKS
>
> German
>
> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>
>> Hi German!
>>
>> > I am using genBSDF to get the BTDF of a shading system, comparing it to
>> > an analytical model using the radiosity method. No surprise, the
>> > calculations seem to be really good, nevertheless, there are some
>> > important differences on directly transmitted (specular) calculations. I
>>
>> Why do you think that "an analytical model using the radiosity method"
>> results in "better" results than raytracing does for specular
>> transmission?
>>
>> Cheers, Lars.
>>
>>
> ---------------------------
>
> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>
> *Date: *February 16, 2013 7:06:26 AM PST
>
> *
> *
>
> Dear list,
>
> I am using genBSDF to get the BTDF of a shading system, comparing it to an
> analytical model using the radiosity method. No surprise, the calculations
> seem to be really good, nevertheless, there are some important differences
> on directly transmitted (specular) calculations. I am using the following
> parameters:
>
> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
> material.mat geometry.rad > ../TMX/file.xml
>
> I tried modifying the -c option, but it did not show any improvements, so
> I stayed on 4000. Any suggestions from gurus?
>
> THANKS
>
> German
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130216/43b482d3/attachment.html>

From gregoryjward at gmail.com  Sat Feb 16 12:49:28 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 16 Feb 2013 12:49:28 -0800
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
	<CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
Message-ID: <188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>

The 3-phase method is restricted to matrix (Klems) BSDFs for the time being.  A more sophisticated method is in the works, but won't be ready for several months.

Cheers,
-Greg

> From: Germ?n Molina Larrain <gmolina1 at uc.cl>
> Date: February 16, 2013 12:27:02 PM PST
> 
> Thanks Greg and Lars!
> 
> I intend to use these BSDFs for annual simulations (three-phase method). Is it possible to use the Tensor-tree implementation on that? I think I can live with the claimed error anyway... 
> 
> THANKS AGAIN
> 
> Germ?n
> 
> 2013/2/16 Greg Ward <gregoryjward at gmail.com>
> The genBSDF program produces a limited resolution matrix representation using the options you've given.  This is appropriate if you want to use it with WINDOW (although I think some modifications to the output are still required) or if your material is fairly diffusing.  It will not resolve the direct peak to anything finer than 10 degrees, which is the resolution of the full Klems matrix basis.  Some spreading of the direct is unavoidable.
> 
> You can improve upon this using the tensor tree formulation by setting the -t3 or -t4 option.  If your system produces an isotropic distribution (i.e., you can rotate the system about its center with no change to the output), you can try "genBSDF -t3 6" or so.  In the more general case, you can use "genBSDF -t4 6", which will resolve the direct component to within a few degrees.  You can increase to "-t4 7" to get twice the resolution, but you'll have to increase the -c parameter as well, and I can't predict when the calculation will finish.
> 
> The real solution is to incorporate and employ the actual system geometry using the proxy method described near slide 7 in my 2011 workshop presentation:
> 
> 	http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
> 
> Cheers,
> -Greg
> 
>> From: Germ?n Molina Larrain <gmolina1 at uc.cl>
>> Date: February 16, 2013 11:49:09 AM PST
>> 
>> Hi Lars, 
>> 
>> considering that the specular transmission is that light that does not touch any surface, the analytical solution would be the exact one (am I right?). Also, HERE, those results were compared agains TracePro, and the results of the forward ray-tracing gave, basically, the same results as the model I am using.
>> 
>> THANKS
>> 
>> German 
>> 
>> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>> Hi German!
>> 
>> > I am using genBSDF to get the BTDF of a shading system, comparing it to
>> > an analytical model using the radiosity method. No surprise, the
>> > calculations seem to be really good, nevertheless, there are some
>> > important differences on directly transmitted (specular) calculations. I
>> 
>> Why do you think that "an analytical model using the radiosity method"
>> results in "better" results than raytracing does for specular transmission?
>> 
>> Cheers, Lars.
>> 
> 
> ---------------------------
>> From: Germ?n Molina Larrain <gmolina1 at uc.cl>
>> Date: February 16, 2013 7:06:26 AM PST
>> 
>> Dear list, 
>> 
>> I am using genBSDF to get the BTDF of a shading system, comparing it to an analytical model using the radiosity method. No surprise, the calculations seem to be really good, nevertheless, there are some important differences on directly transmitted (specular) calculations. I am using the following parameters:
>> 
>> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0' material.mat geometry.rad > ../TMX/file.xml
>> 
>> I tried modifying the -c option, but it did not show any improvements, so I stayed on 4000. Any suggestions from gurus?
>> 
>> THANKS
>> 
>> German
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130216/3f608fe8/attachment-0001.html>

From J.Mardaljevic at lboro.ac.uk  Mon Feb 18 09:17:44 2013
From: J.Mardaljevic at lboro.ac.uk (John Mardaljevic)
Date: Mon, 18 Feb 2013 17:17:44 +0000
Subject: [Radiance-general] Pixel to solid angle transformation
Message-ID: <AE2C06A5D4A79244AA0AB930A5BFD04B147E771F@ITSMBX-3.lunet.lboro.ac.uk>

Just to round this out.

Me:  For a hemispherical fish-eye view the total should of course be 2pi.  Now I expected a little shortfall as things get 'wonky' towards the horizon, but not quite as big as this -

pcomb -e 'lo=S(1)' del.hdr | pvalue -H -h -o -b -d | total

on various size images gives:

256 sq	5.73709888
512 sq	5.90116727
1024 sq	6.01635629
4096 sq	6.14755086

Greg: The solid angle calculation in pcomb relies on being able to compute the neighboring pixel ray directions.  For one side of the hemispherical view, these pixels fall off the image and so the returned solid angle is zero when it should not be.  On the other side of the view, the solid angle is non-zero but still underestimated as the area isn't taken around the pixel center as it should be.

For normal views, this isn't a big deal, but since so much solid angle is packed into the rim of a hemispherical fisheye, the errors really add up!  The accuracy anywhere away from the rim is probably fine.

----

Marija, I was mindful of your comment "to see how calculation is exactly done".  As Greg indicates, solid angle in these instances is really, really hard to get right.  Expect similar errors with hemispherical images depending on the image size.

Cheers
John 

John Mardaljevic PhD FSLL
Professor of Building Daylight Modelling
School of Civil & Building Engineering
Loughborough University
Loughborough
Leicestershire
LE11 3TU, UK

Tel: +44 1509 222630 (Direct)
Tel: +44 1509 228529 (Pam Allen, secretary)

j.mardaljevic at lboro.ac.uk
http://www.lboro.ac.uk/departments/cv/staff/profile/367.html

Personal daylighting website:
http://climate-based-daylighting.com



From Robert.Guglielmetti at nrel.gov  Tue Feb 19 09:04:00 2013
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 19 Feb 2013 10:04:00 -0700
Subject: [Radiance-general] Updated Radiance Installers Available
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D43@MAILBOX2.nrel.gov>

Hi folks,

Just a quick note to let you all know that the Radiance installers have been updated, and are available for download at the NREL OpenStudio site. These packages include the brand new 'gendaymtx' utility that greatly speeds up the annual calculation when using the daylight coefficient tools in Radiance.

We hope to add gendaymtx into the OpenStudio tool chain and workflow in the coming weeks, but in the meantime, I'm sure Greg would appreciate any feedback from users willing to try it out on their own, especially those Windows users out there. There's a man page explaining its use, and it's pretty straightforward.

Grab yours here:

http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance

Ok, bye.

-Rob Gee

Rob Guglielmetti
Commercial Buildings Research Group
National Renewable Energy Laboratory (NREL)
15013 Denver West Parkway MS: RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov

From gmolina1 at uc.cl  Tue Feb 19 11:24:20 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Tue, 19 Feb 2013 14:24:20 -0500
Subject: [Radiance-general] Updated Radiance Installers Available
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D43@MAILBOX2.nrel.gov>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D43@MAILBOX2.nrel.gov>
Message-ID: <CAF-iH4Lf=fy-UCHD=8ehJLgw3zX55UJVkBgr4nW-MmOKbufNKQ@mail.gmail.com>

Good to know!

Is gendaymtx available in the HEAD version of Radiance? Is the GPU version
of dctimestep needed for using that?

THANKS VERY MUCH

German

2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>

> Hi folks,
>
> Just a quick note to let you all know that the Radiance installers have
> been updated, and are available for download at the NREL OpenStudio site.
> These packages include the brand new 'gendaymtx' utility that greatly
> speeds up the annual calculation when using the daylight coefficient tools
> in Radiance.
>
> We hope to add gendaymtx into the OpenStudio tool chain and workflow in
> the coming weeks, but in the meantime, I'm sure Greg would appreciate any
> feedback from users willing to try it out on their own, especially those
> Windows users out there. There's a man page explaining its use, and it's
> pretty straightforward.
>
> Grab yours here:
>
>
> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>
> Ok, bye.
>
> -Rob Gee
>
> Rob Guglielmetti
> Commercial Buildings Research Group
> National Renewable Energy Laboratory (NREL)
> 15013 Denver West Parkway MS: RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/669ed53b/attachment.html>

From gmolina1 at uc.cl  Tue Feb 19 11:25:04 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Tue, 19 Feb 2013 14:25:04 -0500
Subject: [Radiance-general] Updated Radiance Installers Available
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D43@MAILBOX2.nrel.gov>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D43@MAILBOX2.nrel.gov>
Message-ID: <CAF-iH4L3zb94PSQ5NiEjx3yKRUBwVoSD7+9ULMATvC8dOM+nuA@mail.gmail.com>

Good to know!

Is gendaymtx available in the HEAD version of Radiance? Is the GPU version
of dctimestep needed for using that?

THANKS VERY MUCH

German

2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>

> Hi folks,
>
> Just a quick note to let you all know that the Radiance installers have
> been updated, and are available for download at the NREL OpenStudio site.
> These packages include the brand new 'gendaymtx' utility that greatly
> speeds up the annual calculation when using the daylight coefficient tools
> in Radiance.
>
> We hope to add gendaymtx into the OpenStudio tool chain and workflow in
> the coming weeks, but in the meantime, I'm sure Greg would appreciate any
> feedback from users willing to try it out on their own, especially those
> Windows users out there. There's a man page explaining its use, and it's
> pretty straightforward.
>
> Grab yours here:
>
>
> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>
> Ok, bye.
>
> -Rob Gee
>
> Rob Guglielmetti
> Commercial Buildings Research Group
> National Renewable Energy Laboratory (NREL)
> 15013 Denver West Parkway MS: RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/35688008/attachment.html>

From gregoryjward at gmail.com  Tue Feb 19 11:34:07 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 19 Feb 2013 11:34:07 -0800
Subject: [Radiance-general] Updated Radiance Installers Available
In-Reply-To: <CAF-iH4L3zb94PSQ5NiEjx3yKRUBwVoSD7+9ULMATvC8dOM+nuA@mail.gmail.com>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D43@MAILBOX2.nrel.gov>
	<CAF-iH4L3zb94PSQ5NiEjx3yKRUBwVoSD7+9ULMATvC8dOM+nuA@mail.gmail.com>
Message-ID: <DF4DC163-5935-4621-93E7-97D9098D6C17@lmi.net>

Yes, gendaymtx is in the HEAD version, and dctimestep has been updated as well to handle its output.  It does not use GPU (or even CPU) acceleration, but it's still very fast compared to running one step at a time.  (My test runs took a couple of minutes for a typical 8760-step weather tape.)  It will even produce a series of images, though that takes longer due to the i/o requirements.

Best,
-Greg

> From: Germ?n Molina Larrain <gmolina1 at uc.cl>
> Date: February 19, 2013 11:25:04 AM PST
> 
> Good to know! 
> 
> Is gendaymtx available in the HEAD version of Radiance? Is the GPU version of dctimestep needed for using that?
> 
> THANKS VERY MUCH
> 
> German
> 
> 2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
> Hi folks,
> 
> Just a quick note to let you all know that the Radiance installers have been updated, and are available for download at the NREL OpenStudio site. These packages include the brand new 'gendaymtx' utility that greatly speeds up the annual calculation when using the daylight coefficient tools in Radiance.
> 
> We hope to add gendaymtx into the OpenStudio tool chain and workflow in the coming weeks, but in the meantime, I'm sure Greg would appreciate any feedback from users willing to try it out on their own, especially those Windows users out there. There's a man page explaining its use, and it's pretty straightforward.
> 
> Grab yours here:
> 
> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
> 
> Ok, bye.
> 
> -Rob Gee
> 
> Rob Guglielmetti
> Commercial Buildings Research Group
> National Renewable Energy Laboratory (NREL)
> 15013 Denver West Parkway MS: RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/5938d412/attachment.html>

From amcneil at lbl.gov  Tue Feb 19 12:11:03 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Tue, 19 Feb 2013 12:11:03 -0800
Subject: [Radiance-general] Updated Radiance Installers Available
In-Reply-To: <CAF-iH4L3zb94PSQ5NiEjx3yKRUBwVoSD7+9ULMATvC8dOM+nuA@mail.gmail.com>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D43@MAILBOX2.nrel.gov>
	<CAF-iH4L3zb94PSQ5NiEjx3yKRUBwVoSD7+9ULMATvC8dOM+nuA@mail.gmail.com>
Message-ID: <CAOG+Nixa_SOTXUYe4Kx2N0Jgkn7QskY9daS07ESdLEH_gzBxPA@mail.gmail.com>

German,

dctimestep has been updated to allow to use the sky matrix file from
gendaymtx.  Look at the -n option in the dctimestep manpage.  This update
to dctimestep replaces the need for the gpu version of dctimestep
(dctimestepgpu / dctimestepcpu) that some users may have received directly
from me.

Andy



On Tue, Feb 19, 2013 at 11:25 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:

> Good to know!
>
> Is gendaymtx available in the HEAD version of Radiance? Is the GPU version
> of dctimestep needed for using that?
>
> THANKS VERY MUCH
>
> German
>
> 2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>
>> Hi folks,
>>
>>
>> Just a quick note to let you all know that the Radiance installers have
>> been updated, and are available for download at the NREL OpenStudio site.
>> These packages include the brand new 'gendaymtx' utility that greatly
>> speeds up the annual calculation when using the daylight coefficient tools
>> in Radiance.
>>
>> We hope to add gendaymtx into the OpenStudio tool chain and workflow in
>> the coming weeks, but in the meantime, I'm sure Greg would appreciate any
>> feedback from users willing to try it out on their own, especially those
>> Windows users out there. There's a man page explaining its use, and it's
>> pretty straightforward.
>>
>> Grab yours here:
>>
>>
>> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>>
>> Ok, bye.
>>
>> -Rob Gee
>>
>> Rob Guglielmetti
>> Commercial Buildings Research Group
>> National Renewable Energy Laboratory (NREL)
>> 15013 Denver West Parkway MS: RSF202
>> Golden, CO 80401
>> 303.275.4319
>> robert.guglielmetti at nrel.gov
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/eaf86ded/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Feb 19 12:16:31 2013
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 19 Feb 2013 13:16:31 -0700
Subject: [Radiance-general] Updated Radiance Installers Available
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D45@MAILBOX2.nrel.gov>

Hi German,

Yes, gendaymtx is in the HEAD, the installers in the NREL site are based on the HEAD as of Thursday of last week, I believe. And no, the GPU dctimestep is not needed for this to work (nor is that version of dctimestep in HEAD). Nope, gendaymtx works with all the standard Radiance tools. You simply need a weather file formatted the way it wants, which is the same format as a DAYSIM weather file. Andy McNeil notes that DAYSIM has a tool to convert the EnergyPlus weather file format (.epw) to the DAYSIM format. OpenStudio will be modified to automatically provide gendaymtx with the epw data in the format it expects. I noticed that gendaymtx also accepts weather data from STDIN, and that there is an option to feed it less than a full year (8760) of data. We will leverage this ability in OpenStudio for sure, as well.

Exciting times!

- Rob



Rob Guglielmetti
Commercial Buildings Research Group
National Renewable Energy Laboratory (NREL)
15013 Denver West Parkway MS: RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov

-----Original Message-----
From: Germ?n Molina Larrain [gmolina1 at uc.cl<mailto:gmolina1 at uc.cl>]
Sent: Tuesday, February 19, 2013 12:25 PM Mountain Standard Time
To: Radiance general discussion
Cc: bldg-sim; radiance-openstudio
Subject: Re: [Radiance-general] Updated Radiance Installers Available

Good to know!

Is gendaymtx available in the HEAD version of Radiance? Is the GPU version of dctimestep needed for using that?

THANKS VERY MUCH

German

2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>>
Hi folks,

Just a quick note to let you all know that the Radiance installers have been updated, and are available for download at the NREL OpenStudio site. These packages include the brand new 'gendaymtx' utility that greatly speeds up the annual calculation when using the daylight coefficient tools in Radiance.

We hope to add gendaymtx into the OpenStudio tool chain and workflow in the coming weeks, but in the meantime, I'm sure Greg would appreciate any feedback from users willing to try it out on their own, especially those Windows users out there. There's a man page explaining its use, and it's pretty straightforward.

Grab yours here:

http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance

Ok, bye.

-Rob Gee

Rob Guglielmetti
Commercial Buildings Research Group
National Renewable Energy Laboratory (NREL)
15013 Denver West Parkway MS: RSF202
Golden, CO 80401
303.275.4319<tel:303.275.4319>
robert.guglielmetti at nrel.gov<mailto:robert.guglielmetti at nrel.gov>
_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/51b3c677/attachment-0001.html>

From gmolina1 at uc.cl  Tue Feb 19 14:02:57 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Tue, 19 Feb 2013 17:02:57 -0500
Subject: [Radiance-general] Updated Radiance Installers Available
In-Reply-To: <CAOG+Nixa_SOTXUYe4Kx2N0Jgkn7QskY9daS07ESdLEH_gzBxPA@mail.gmail.com>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D43@MAILBOX2.nrel.gov>
	<CAF-iH4L3zb94PSQ5NiEjx3yKRUBwVoSD7+9ULMATvC8dOM+nuA@mail.gmail.com>
	<CAOG+Nixa_SOTXUYe4Kx2N0Jgkn7QskY9daS07ESdLEH_gzBxPA@mail.gmail.com>
Message-ID: <CAF-iH4K0D8XrOEsrQOtQ2oSAPM5wqoNYX1916EZZnYX0W+vPmg@mail.gmail.com>

Good to know all that! thanks!

German

2013/2/19 Andrew McNeil <amcneil at lbl.gov>

> German,
>
> dctimestep has been updated to allow to use the sky matrix file from
> gendaymtx.  Look at the -n option in the dctimestep manpage.  This update
> to dctimestep replaces the need for the gpu version of dctimestep
> (dctimestepgpu / dctimestepcpu) that some users may have received directly
> from me.
>
> Andy
>
>
>
> On Tue, Feb 19, 2013 at 11:25 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:
>
>> Good to know!
>>
>> Is gendaymtx available in the HEAD version of Radiance? Is the GPU
>> version of dctimestep needed for using that?
>>
>> THANKS VERY MUCH
>>
>> German
>>
>> 2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>>
>>> Hi folks,
>>>
>>>
>>> Just a quick note to let you all know that the Radiance installers have
>>> been updated, and are available for download at the NREL OpenStudio site.
>>> These packages include the brand new 'gendaymtx' utility that greatly
>>> speeds up the annual calculation when using the daylight coefficient tools
>>> in Radiance.
>>>
>>> We hope to add gendaymtx into the OpenStudio tool chain and workflow in
>>> the coming weeks, but in the meantime, I'm sure Greg would appreciate any
>>> feedback from users willing to try it out on their own, especially those
>>> Windows users out there. There's a man page explaining its use, and it's
>>> pretty straightforward.
>>>
>>> Grab yours here:
>>>
>>>
>>> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>>>
>>> Ok, bye.
>>>
>>> -Rob Gee
>>>
>>> Rob Guglielmetti
>>> Commercial Buildings Research Group
>>> National Renewable Energy Laboratory (NREL)
>>> 15013 Denver West Parkway MS: RSF202
>>> Golden, CO 80401
>>> 303.275.4319
>>> robert.guglielmetti at nrel.gov
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/e282862c/attachment.html>

From amcneil at lbl.gov  Tue Feb 19 14:07:50 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Tue, 19 Feb 2013 14:07:50 -0800
Subject: [Radiance-general] [Radiance-openstudio] Updated Radiance
 Installers Available
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D45@MAILBOX2.nrel.gov>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D45@MAILBOX2.nrel.gov>
Message-ID: <CAOG+Niw1B1ZRFONH4QuxRRizME2Q8Zr1JOfEhOeyAgqyYDW3yA@mail.gmail.com>

Just to clarify, you do need the newest head version of dctimestep to use
the skymatrix generated by gendaymtx in a three-phase calc.

it goes like this:
gendaylit Chicago.wea > Chicago.smx
dctimestep -n 8760 sensors.vmx fenestration.xml exterior.dmx Chicago.smx >
illuminance.txt

(where -n is the number of time steps in your sky matrix file)

You can use epw2wea from daysim to convert epw to wea format (
http://daysim.ning.com/subprogram/epw2wea).

Andy


On Tue, Feb 19, 2013 at 12:16 PM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

>  Hi German,
>
> Yes, gendaymtx is in the HEAD, the installers in the NREL site are based
> on the HEAD as of Thursday of last week, I believe. And no, the GPU
> dctimestep is not needed for this to work (nor is that version of
> dctimestep in HEAD). Nope, gendaymtx works with all the standard Radiance
> tools. You simply need a weather file formatted the way it wants, which is
> the same format as a DAYSIM weather file. Andy McNeil notes that DAYSIM has
> a tool to convert the EnergyPlus weather file format (.epw) to the DAYSIM
> format. OpenStudio will be modified to automatically provide gendaymtx with
> the epw data in the format it expects. I noticed that gendaymtx also
> accepts weather data from STDIN, and that there is an option to feed it
> less than a full year (8760) of data. We will leverage this ability in
> OpenStudio for sure, as well.
>
> Exciting times!
>
> - Rob
>
>
>
>
> Rob Guglielmetti
> Commercial Buildings Research Group
> National Renewable Energy Laboratory (NREL)
> 15013 Denver West Parkway MS: RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
>
> -----Original Message-----
> *From: *Germ?n Molina Larrain [gmolina1 at uc.cl]
> *Sent: *Tuesday, February 19, 2013 12:25 PM Mountain Standard Time
> *To: *Radiance general discussion
> *Cc: *bldg-sim; radiance-openstudio
> *Subject: *Re: [Radiance-general] Updated Radiance Installers Available
>
> Good to know!
>
> Is gendaymtx available in the HEAD version of Radiance? Is the GPU version
> of dctimestep needed for using that?
>
> THANKS VERY MUCH
>
> German
>
> 2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>
>> Hi folks,
>>
>> Just a quick note to let you all know that the Radiance installers have
>> been updated, and are available for download at the NREL OpenStudio site.
>> These packages include the brand new 'gendaymtx' utility that greatly
>> speeds up the annual calculation when using the daylight coefficient tools
>> in Radiance.
>>
>> We hope to add gendaymtx into the OpenStudio tool chain and workflow in
>> the coming weeks, but in the meantime, I'm sure Greg would appreciate any
>> feedback from users willing to try it out on their own, especially those
>> Windows users out there. There's a man page explaining its use, and it's
>> pretty straightforward.
>>
>> Grab yours here:
>>
>>
>> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>>
>> Ok, bye.
>>
>> -Rob Gee
>>
>> Rob Guglielmetti
>> Commercial Buildings Research Group
>> National Renewable Energy Laboratory (NREL)
>> 15013 Denver West Parkway MS: RSF202
>> Golden, CO 80401
>> 303.275.4319
>> robert.guglielmetti at nrel.gov
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-openstudio mailing list
> Radiance-openstudio at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-openstudio
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/39182f4e/attachment.html>

From amcneil at lbl.gov  Tue Feb 19 12:22:23 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Tue, 19 Feb 2013 12:22:23 -0800
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
	<CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
	<188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>
Message-ID: <CAOG+NiytOS3XdXgP3em0eGnFam3oi1D5RNWeCP8U9hoozEhJeQ@mail.gmail.com>

German,
Did you consider that genBSDF integrates over the incident Klems patch
while radiosity method used in window 6 just uses the center of the patch
for incident energy?
It is easy to modify genBSDF to use the ceter of the Klems patch by
removing a couple of the random variables in incident ray generation.

Andy


On Sat, Feb 16, 2013 at 12:49 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> The 3-phase method is restricted to matrix (Klems) BSDFs for the time
> being.  A more sophisticated method is in the works, but won't be ready for
> several months.
>
> Cheers,
> -Greg
>
> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>
> *Date: *February 16, 2013 12:27:02 PM PST
>
> *
> *
>
> Thanks Greg and Lars!
>
> I intend to use these BSDFs for annual simulations (three-phase method).
> Is it possible to use the Tensor-tree implementation on that? I think I can
> live with the claimed error anyway...
>
> THANKS AGAIN
>
> Germ?n
>
> 2013/2/16 Greg Ward <gregoryjward at gmail.com>
>
>> The genBSDF program produces a limited resolution matrix representation
>> using the options you've given.  This is appropriate if you want to use it
>> with WINDOW (although I think some modifications to the output are still
>> required) or if your material is fairly diffusing.  It will not resolve the
>> direct peak to anything finer than 10 degrees, which is the resolution of
>> the full Klems matrix basis.  Some spreading of the direct is unavoidable.
>>
>> You can improve upon this using the tensor tree formulation by setting
>> the -t3 or -t4 option.  If your system produces an isotropic distribution
>> (i.e., you can rotate the system about its center with no change to the
>> output), you can try "genBSDF -t3 6" or so.  In the more general case, you
>> can use "genBSDF -t4 6", which will resolve the direct component to within
>> a few degrees.  You can increase to "-t4 7" to get twice the resolution,
>> but you'll have to increase the -c parameter as well, and I can't predict
>> when the calculation will finish.
>>
>> The real solution is to incorporate and employ the actual system geometry
>> using the proxy method described near slide 7 in my 2011 workshop
>> presentation:
>>
>>
>> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>>
>> Cheers,
>> -Greg
>>
>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>
>> *Date: *February 16, 2013 11:49:09 AM PST
>>
>> *
>> *
>>
>> Hi Lars,
>>
>> considering that the specular transmission is that light that does not
>> touch any surface, the analytical solution would be the exact one (am I
>> right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
>> those results were compared agains TracePro, and the results of the forward
>> ray-tracing gave, basically, the same results as the model I am using.
>>
>> THANKS
>>
>> German
>>
>> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>>
>>> Hi German!
>>>
>>> > I am using genBSDF to get the BTDF of a shading system, comparing it to
>>> > an analytical model using the radiosity method. No surprise, the
>>> > calculations seem to be really good, nevertheless, there are some
>>> > important differences on directly transmitted (specular) calculations.
>>> I
>>>
>>> Why do you think that "an analytical model using the radiosity method"
>>> results in "better" results than raytracing does for specular
>>> transmission?
>>>
>>> Cheers, Lars.
>>>
>>>
>> ---------------------------
>>
>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>
>> *Date: *February 16, 2013 7:06:26 AM PST
>>
>> *
>> *
>>
>> Dear list,
>>
>> I am using genBSDF to get the BTDF of a shading system, comparing it to
>> an analytical model using the radiosity method. No surprise, the
>> calculations seem to be really good, nevertheless, there are some important
>> differences on directly transmitted (specular) calculations. I am using the
>> following parameters:
>>
>> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
>> material.mat geometry.rad > ../TMX/file.xml
>>
>> I tried modifying the -c option, but it did not show any improvements, so
>> I stayed on 4000. Any suggestions from gurus?
>>
>> THANKS
>>
>> German
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/66dab365/attachment-0001.html>

From gmolina1 at uc.cl  Tue Feb 19 14:47:54 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Tue, 19 Feb 2013 17:47:54 -0500
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAOG+NiytOS3XdXgP3em0eGnFam3oi1D5RNWeCP8U9hoozEhJeQ@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
	<CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
	<188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>
	<CAOG+NiytOS3XdXgP3em0eGnFam3oi1D5RNWeCP8U9hoozEhJeQ@mail.gmail.com>
Message-ID: <CAF-iH4+jqGtLVkSBECLKkmqNjUayoMbgj8oNfedvOPtgWNHTdg@mail.gmail.com>

Andy, indeed I did not do that; probably that is what causes the problem...

Could you explain me how to do that?

THANKS

2013/2/19 Andrew McNeil <amcneil at lbl.gov>

> German,
> Did you consider that genBSDF integrates over the incident Klems patch
> while radiosity method used in window 6 just uses the center of the patch
> for incident energy?
> It is easy to modify genBSDF to use the ceter of the Klems patch by
> removing a couple of the random variables in incident ray generation.
>
> Andy
>
>
> On Sat, Feb 16, 2013 at 12:49 PM, Greg Ward <gregoryjward at gmail.com>wrote:
>
>> The 3-phase method is restricted to matrix (Klems) BSDFs for the time
>> being.  A more sophisticated method is in the works, but won't be ready for
>> several months.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>
>> *Date: *February 16, 2013 12:27:02 PM PST
>>
>> *
>> *
>>
>> Thanks Greg and Lars!
>>
>> I intend to use these BSDFs for annual simulations (three-phase method).
>> Is it possible to use the Tensor-tree implementation on that? I think I can
>> live with the claimed error anyway...
>>
>> THANKS AGAIN
>>
>> Germ?n
>>
>> 2013/2/16 Greg Ward <gregoryjward at gmail.com>
>>
>>> The genBSDF program produces a limited resolution matrix representation
>>> using the options you've given.  This is appropriate if you want to use it
>>> with WINDOW (although I think some modifications to the output are still
>>> required) or if your material is fairly diffusing.  It will not resolve the
>>> direct peak to anything finer than 10 degrees, which is the resolution of
>>> the full Klems matrix basis.  Some spreading of the direct is unavoidable.
>>>
>>> You can improve upon this using the tensor tree formulation by setting
>>> the -t3 or -t4 option.  If your system produces an isotropic distribution
>>> (i.e., you can rotate the system about its center with no change to the
>>> output), you can try "genBSDF -t3 6" or so.  In the more general case, you
>>> can use "genBSDF -t4 6", which will resolve the direct component to within
>>> a few degrees.  You can increase to "-t4 7" to get twice the resolution,
>>> but you'll have to increase the -c parameter as well, and I can't predict
>>> when the calculation will finish.
>>>
>>> The real solution is to incorporate and employ the actual system
>>> geometry using the proxy method described near slide 7 in my 2011 workshop
>>> presentation:
>>>
>>>
>>> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>>>
>>> Cheers,
>>> -Greg
>>>
>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>
>>> *Date: *February 16, 2013 11:49:09 AM PST
>>>
>>> *
>>> *
>>>
>>> Hi Lars,
>>>
>>> considering that the specular transmission is that light that does not
>>> touch any surface, the analytical solution would be the exact one (am I
>>> right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
>>> those results were compared agains TracePro, and the results of the forward
>>> ray-tracing gave, basically, the same results as the model I am using.
>>>
>>> THANKS
>>>
>>> German
>>>
>>> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>>>
>>>> Hi German!
>>>>
>>>> > I am using genBSDF to get the BTDF of a shading system, comparing it
>>>> to
>>>> > an analytical model using the radiosity method. No surprise, the
>>>> > calculations seem to be really good, nevertheless, there are some
>>>> > important differences on directly transmitted (specular)
>>>> calculations. I
>>>>
>>>> Why do you think that "an analytical model using the radiosity method"
>>>> results in "better" results than raytracing does for specular
>>>> transmission?
>>>>
>>>> Cheers, Lars.
>>>>
>>>>
>>> ---------------------------
>>>
>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>
>>> *Date: *February 16, 2013 7:06:26 AM PST
>>>
>>> *
>>> *
>>>
>>> Dear list,
>>>
>>> I am using genBSDF to get the BTDF of a shading system, comparing it to
>>> an analytical model using the radiosity method. No surprise, the
>>> calculations seem to be really good, nevertheless, there are some important
>>> differences on directly transmitted (specular) calculations. I am using the
>>> following parameters:
>>>
>>> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
>>> material.mat geometry.rad > ../TMX/file.xml
>>>
>>> I tried modifying the -c option, but it did not show any improvements,
>>> so I stayed on 4000. Any suggestions from gurus?
>>>
>>> THANKS
>>>
>>> German
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/54303ea9/attachment.html>

From oga6ya at yahoo.co.jp  Tue Feb 19 17:50:56 2013
From: oga6ya at yahoo.co.jp (oga6ya at yahoo.co.jp)
Date: Wed, 20 Feb 2013 10:50:56 +0900 (JST)
Subject: [Radiance-general] three-phase method
Message-ID: <522091.90512.qm@web100707.mail.kks.yahoo.co.jp>

hi all

i am trying three-phase method with three-phase method tutorial.
i have error with example 1.
i finished to make directory by using mkdir...
but i have error with following command.

vwrays -ff -vf views/back.vf -x 600 -y 600 |\
?rtcontrib 'vwrays -vf views/back.vf -x 600 -y 600 -d' -ffc \
?-fo -o images/vmx/window_%03d.hdr\
?-f klems_int.cal -b kbinS -bn Nkbins -m windowlight \
?-ab 2 -ad 1000 -ds .15 -lw le-4 model_vmx.oct

error message
rtrace: fatal - command line error at 'vwrays -vf views/back.vf -x 600 -y 600 -d'

anyone who knows the solution?

ogata
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130220/09b470e6/attachment.html>

From gregoryjward at gmail.com  Tue Feb 19 18:05:58 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 19 Feb 2013 18:05:58 -0800
Subject: [Radiance-general] three-phase method
In-Reply-To: <522091.90512.qm@web100707.mail.kks.yahoo.co.jp>
References: <522091.90512.qm@web100707.mail.kks.yahoo.co.jp>
Message-ID: <6A316912-D07F-4B75-917C-ED7DE139A5DE@lmi.net>

Hi Ogata,

You need to use the backwards single-quote in that part of the command line (ASCII code 96).  Or, you can substitute the output of the command at that point in the command line, instead.

-Greg

> From: oga6ya at yahoo.co.jp
> Date: February 19, 2013 5:50:56 PM PST
> 
> hi all
> 
> i am trying three-phase method with three-phase method tutorial.
> i have error with example 1.
> i finished to make directory by using mkdir...
> but i have error with following command.
> 
> vwrays -ff -vf views/back.vf -x 600 -y 600 |\
>  rtcontrib 'vwrays -vf views/back.vf -x 600 -y 600 -d' -ffc \
>  -fo -o images/vmx/window_%03d.hdr\
>  -f klems_int.cal -b kbinS -bn Nkbins -m windowlight \
>  -ab 2 -ad 1000 -ds .15 -lw le-4 model_vmx.oct
> 
> error message
> rtrace: fatal - command line error at 'vwrays -vf views/back.vf -x 600 -y 600 -d'
> 
> anyone who knows the solution?
> 
> ogata
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130219/c1393924/attachment-0001.html>

From gmolina1 at uc.cl  Wed Feb 20 05:44:55 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Wed, 20 Feb 2013 08:44:55 -0500
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAF-iH4+jqGtLVkSBECLKkmqNjUayoMbgj8oNfedvOPtgWNHTdg@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
	<CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
	<188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>
	<CAOG+NiytOS3XdXgP3em0eGnFam3oi1D5RNWeCP8U9hoozEhJeQ@mail.gmail.com>
	<CAF-iH4+jqGtLVkSBECLKkmqNjUayoMbgj8oNfedvOPtgWNHTdg@mail.gmail.com>
Message-ID: <CAF-iH4KnE+nP94QXjCKu01wY16=Lh-UKNdvrBM7JBRC+h7oRvw@mail.gmail.com>

actually, now that you mention it, I think that the errors I thought were
caused by the borders can be explained by what you say.


2013/2/19 Germ?n Molina Larrain <gmolina1 at uc.cl>

> Andy, indeed I did not do that; probably that is what causes the problem...
>
> Could you explain me how to do that?
>
> THANKS
>
>
> 2013/2/19 Andrew McNeil <amcneil at lbl.gov>
>
>> German,
>> Did you consider that genBSDF integrates over the incident Klems patch
>> while radiosity method used in window 6 just uses the center of the patch
>> for incident energy?
>> It is easy to modify genBSDF to use the ceter of the Klems patch by
>> removing a couple of the random variables in incident ray generation.
>>
>> Andy
>>
>>
>> On Sat, Feb 16, 2013 at 12:49 PM, Greg Ward <gregoryjward at gmail.com>wrote:
>>
>>> The 3-phase method is restricted to matrix (Klems) BSDFs for the time
>>> being.  A more sophisticated method is in the works, but won't be ready for
>>> several months.
>>>
>>> Cheers,
>>> -Greg
>>>
>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>
>>> *Date: *February 16, 2013 12:27:02 PM PST
>>>
>>> *
>>> *
>>>
>>> Thanks Greg and Lars!
>>>
>>> I intend to use these BSDFs for annual simulations (three-phase method).
>>> Is it possible to use the Tensor-tree implementation on that? I think I can
>>> live with the claimed error anyway...
>>>
>>> THANKS AGAIN
>>>
>>> Germ?n
>>>
>>> 2013/2/16 Greg Ward <gregoryjward at gmail.com>
>>>
>>>> The genBSDF program produces a limited resolution matrix representation
>>>> using the options you've given.  This is appropriate if you want to use it
>>>> with WINDOW (although I think some modifications to the output are still
>>>> required) or if your material is fairly diffusing.  It will not resolve the
>>>> direct peak to anything finer than 10 degrees, which is the resolution of
>>>> the full Klems matrix basis.  Some spreading of the direct is unavoidable.
>>>>
>>>> You can improve upon this using the tensor tree formulation by setting
>>>> the -t3 or -t4 option.  If your system produces an isotropic distribution
>>>> (i.e., you can rotate the system about its center with no change to the
>>>> output), you can try "genBSDF -t3 6" or so.  In the more general case, you
>>>> can use "genBSDF -t4 6", which will resolve the direct component to within
>>>> a few degrees.  You can increase to "-t4 7" to get twice the resolution,
>>>> but you'll have to increase the -c parameter as well, and I can't predict
>>>> when the calculation will finish.
>>>>
>>>> The real solution is to incorporate and employ the actual system
>>>> geometry using the proxy method described near slide 7 in my 2011 workshop
>>>> presentation:
>>>>
>>>>
>>>> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>>>>
>>>> Cheers,
>>>> -Greg
>>>>
>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>
>>>> *Date: *February 16, 2013 11:49:09 AM PST
>>>>
>>>> *
>>>> *
>>>>
>>>> Hi Lars,
>>>>
>>>> considering that the specular transmission is that light that does not
>>>> touch any surface, the analytical solution would be the exact one (am I
>>>> right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
>>>> those results were compared agains TracePro, and the results of the forward
>>>> ray-tracing gave, basically, the same results as the model I am using.
>>>>
>>>> THANKS
>>>>
>>>> German
>>>>
>>>> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>>>>
>>>>> Hi German!
>>>>>
>>>>> > I am using genBSDF to get the BTDF of a shading system, comparing it
>>>>> to
>>>>> > an analytical model using the radiosity method. No surprise, the
>>>>> > calculations seem to be really good, nevertheless, there are some
>>>>> > important differences on directly transmitted (specular)
>>>>> calculations. I
>>>>>
>>>>> Why do you think that "an analytical model using the radiosity method"
>>>>> results in "better" results than raytracing does for specular
>>>>> transmission?
>>>>>
>>>>> Cheers, Lars.
>>>>>
>>>>>
>>>> ---------------------------
>>>>
>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>
>>>> *Date: *February 16, 2013 7:06:26 AM PST
>>>>
>>>> *
>>>> *
>>>>
>>>> Dear list,
>>>>
>>>> I am using genBSDF to get the BTDF of a shading system, comparing it to
>>>> an analytical model using the radiosity method. No surprise, the
>>>> calculations seem to be really good, nevertheless, there are some important
>>>> differences on directly transmitted (specular) calculations. I am using the
>>>> following parameters:
>>>>
>>>> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
>>>> material.mat geometry.rad > ../TMX/file.xml
>>>>
>>>> I tried modifying the -c option, but it did not show any improvements,
>>>> so I stayed on 4000. Any suggestions from gurus?
>>>>
>>>> THANKS
>>>>
>>>> German
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130220/f09ae125/attachment.html>

From amcneil at lbl.gov  Wed Feb 20 11:36:48 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Wed, 20 Feb 2013 11:36:48 -0800
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAF-iH4KnE+nP94QXjCKu01wY16=Lh-UKNdvrBM7JBRC+h7oRvw@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
	<CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
	<188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>
	<CAOG+NiytOS3XdXgP3em0eGnFam3oi1D5RNWeCP8U9hoozEhJeQ@mail.gmail.com>
	<CAF-iH4+jqGtLVkSBECLKkmqNjUayoMbgj8oNfedvOPtgWNHTdg@mail.gmail.com>
	<CAF-iH4KnE+nP94QXjCKu01wY16=Lh-UKNdvrBM7JBRC+h7oRvw@mail.gmail.com>
Message-ID: <CAOG+NiyEQneZcQLdtccHvz+0chTKfx_DzFbkchdR3XpdmSMp0w@mail.gmail.com>

I think all you need to do is change  lines 350 and 351 of genBSDF.pl so
they look like this:

Kazi = 360*DEGREE * Kcol / Knaz(Krow);
Kpol = DEGREE * (0.5*Kpola(Krow) + 0.5*Kpola(Krow-1));

(this only changes it for Klems BSDF generation)

Andy


On Wed, Feb 20, 2013 at 5:44 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:

> actually, now that you mention it, I think that the errors I thought were
> caused by the borders can be explained by what you say.
>
>
> 2013/2/19 Germ?n Molina Larrain <gmolina1 at uc.cl>
>
>> Andy, indeed I did not do that; probably that is what causes the
>> problem...
>>
>> Could you explain me how to do that?
>>
>> THANKS
>>
>>
>> 2013/2/19 Andrew McNeil <amcneil at lbl.gov>
>>
>>> German,
>>> Did you consider that genBSDF integrates over the incident Klems patch
>>> while radiosity method used in window 6 just uses the center of the patch
>>> for incident energy?
>>> It is easy to modify genBSDF to use the ceter of the Klems patch by
>>> removing a couple of the random variables in incident ray generation.
>>>
>>> Andy
>>>
>>>
>>> On Sat, Feb 16, 2013 at 12:49 PM, Greg Ward <gregoryjward at gmail.com>wrote:
>>>
>>>> The 3-phase method is restricted to matrix (Klems) BSDFs for the time
>>>> being.  A more sophisticated method is in the works, but won't be ready for
>>>> several months.
>>>>
>>>> Cheers,
>>>> -Greg
>>>>
>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>
>>>> *Date: *February 16, 2013 12:27:02 PM PST
>>>>
>>>> *
>>>> *
>>>>
>>>> Thanks Greg and Lars!
>>>>
>>>> I intend to use these BSDFs for annual simulations (three-phase
>>>> method). Is it possible to use the Tensor-tree implementation on that? I
>>>> think I can live with the claimed error anyway...
>>>>
>>>> THANKS AGAIN
>>>>
>>>> Germ?n
>>>>
>>>> 2013/2/16 Greg Ward <gregoryjward at gmail.com>
>>>>
>>>>> The genBSDF program produces a limited resolution matrix
>>>>> representation using the options you've given.  This is appropriate if you
>>>>> want to use it with WINDOW (although I think some modifications to the
>>>>> output are still required) or if your material is fairly diffusing.  It
>>>>> will not resolve the direct peak to anything finer than 10 degrees, which
>>>>> is the resolution of the full Klems matrix basis.  Some spreading of the
>>>>> direct is unavoidable.
>>>>>
>>>>> You can improve upon this using the tensor tree formulation by setting
>>>>> the -t3 or -t4 option.  If your system produces an isotropic distribution
>>>>> (i.e., you can rotate the system about its center with no change to the
>>>>> output), you can try "genBSDF -t3 6" or so.  In the more general case, you
>>>>> can use "genBSDF -t4 6", which will resolve the direct component to within
>>>>> a few degrees.  You can increase to "-t4 7" to get twice the resolution,
>>>>> but you'll have to increase the -c parameter as well, and I can't predict
>>>>> when the calculation will finish.
>>>>>
>>>>> The real solution is to incorporate and employ the actual system
>>>>> geometry using the proxy method described near slide 7 in my 2011 workshop
>>>>> presentation:
>>>>>
>>>>>
>>>>> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>>>>>
>>>>> Cheers,
>>>>> -Greg
>>>>>
>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>
>>>>> *Date: *February 16, 2013 11:49:09 AM PST
>>>>>
>>>>> *
>>>>> *
>>>>>
>>>>> Hi Lars,
>>>>>
>>>>> considering that the specular transmission is that light that does not
>>>>> touch any surface, the analytical solution would be the exact one (am I
>>>>> right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
>>>>> those results were compared agains TracePro, and the results of the forward
>>>>> ray-tracing gave, basically, the same results as the model I am using.
>>>>>
>>>>> THANKS
>>>>>
>>>>> German
>>>>>
>>>>> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>>>>>
>>>>>> Hi German!
>>>>>>
>>>>>> > I am using genBSDF to get the BTDF of a shading system, comparing
>>>>>> it to
>>>>>> > an analytical model using the radiosity method. No surprise, the
>>>>>> > calculations seem to be really good, nevertheless, there are some
>>>>>> > important differences on directly transmitted (specular)
>>>>>> calculations. I
>>>>>>
>>>>>> Why do you think that "an analytical model using the radiosity method"
>>>>>> results in "better" results than raytracing does for specular
>>>>>> transmission?
>>>>>>
>>>>>> Cheers, Lars.
>>>>>>
>>>>>>
>>>>> ---------------------------
>>>>>
>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>
>>>>> *Date: *February 16, 2013 7:06:26 AM PST
>>>>>
>>>>> *
>>>>> *
>>>>>
>>>>> Dear list,
>>>>>
>>>>> I am using genBSDF to get the BTDF of a shading system, comparing it
>>>>> to an analytical model using the radiosity method. No surprise, the
>>>>> calculations seem to be really good, nevertheless, there are some important
>>>>> differences on directly transmitted (specular) calculations. I am using the
>>>>> following parameters:
>>>>>
>>>>> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
>>>>> material.mat geometry.rad > ../TMX/file.xml
>>>>>
>>>>> I tried modifying the -c option, but it did not show any improvements,
>>>>> so I stayed on 4000. Any suggestions from gurus?
>>>>>
>>>>> THANKS
>>>>>
>>>>> German
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130220/6fd9e09c/attachment-0001.html>

From gmolina1 at uc.cl  Wed Feb 20 11:56:30 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Wed, 20 Feb 2013 14:56:30 -0500
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAOG+NiyEQneZcQLdtccHvz+0chTKfx_DzFbkchdR3XpdmSMp0w@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
	<CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
	<188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>
	<CAOG+NiytOS3XdXgP3em0eGnFam3oi1D5RNWeCP8U9hoozEhJeQ@mail.gmail.com>
	<CAF-iH4+jqGtLVkSBECLKkmqNjUayoMbgj8oNfedvOPtgWNHTdg@mail.gmail.com>
	<CAF-iH4KnE+nP94QXjCKu01wY16=Lh-UKNdvrBM7JBRC+h7oRvw@mail.gmail.com>
	<CAOG+NiyEQneZcQLdtccHvz+0chTKfx_DzFbkchdR3XpdmSMp0w@mail.gmail.com>
Message-ID: <CAF-iH4KDXimYcrSkX5-RXgbxbjXHujTkR_SaWp3491D2RZPiWw@mail.gmail.com>

Ok, I will try those changes, and let you know my results.

THANKS ANDY!

2013/2/20 Andrew McNeil <amcneil at lbl.gov>

> I think all you need to do is change  lines 350 and 351 of genBSDF.pl so
> they look like this:
>
> Kazi = 360*DEGREE * Kcol / Knaz(Krow);
> Kpol = DEGREE * (0.5*Kpola(Krow) + 0.5*Kpola(Krow-1));
>
> (this only changes it for Klems BSDF generation)
>
> Andy
>
>
> On Wed, Feb 20, 2013 at 5:44 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:
>
>> actually, now that you mention it, I think that the errors I thought were
>> caused by the borders can be explained by what you say.
>>
>>
>> 2013/2/19 Germ?n Molina Larrain <gmolina1 at uc.cl>
>>
>>> Andy, indeed I did not do that; probably that is what causes the
>>> problem...
>>>
>>> Could you explain me how to do that?
>>>
>>> THANKS
>>>
>>>
>>> 2013/2/19 Andrew McNeil <amcneil at lbl.gov>
>>>
>>>> German,
>>>> Did you consider that genBSDF integrates over the incident Klems patch
>>>> while radiosity method used in window 6 just uses the center of the patch
>>>> for incident energy?
>>>> It is easy to modify genBSDF to use the ceter of the Klems patch by
>>>> removing a couple of the random variables in incident ray generation.
>>>>
>>>> Andy
>>>>
>>>>
>>>> On Sat, Feb 16, 2013 at 12:49 PM, Greg Ward <gregoryjward at gmail.com>wrote:
>>>>
>>>>> The 3-phase method is restricted to matrix (Klems) BSDFs for the time
>>>>> being.  A more sophisticated method is in the works, but won't be ready for
>>>>> several months.
>>>>>
>>>>> Cheers,
>>>>> -Greg
>>>>>
>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>
>>>>> *Date: *February 16, 2013 12:27:02 PM PST
>>>>>
>>>>> *
>>>>> *
>>>>>
>>>>> Thanks Greg and Lars!
>>>>>
>>>>> I intend to use these BSDFs for annual simulations (three-phase
>>>>> method). Is it possible to use the Tensor-tree implementation on that? I
>>>>> think I can live with the claimed error anyway...
>>>>>
>>>>> THANKS AGAIN
>>>>>
>>>>> Germ?n
>>>>>
>>>>> 2013/2/16 Greg Ward <gregoryjward at gmail.com>
>>>>>
>>>>>> The genBSDF program produces a limited resolution matrix
>>>>>> representation using the options you've given.  This is appropriate if you
>>>>>> want to use it with WINDOW (although I think some modifications to the
>>>>>> output are still required) or if your material is fairly diffusing.  It
>>>>>> will not resolve the direct peak to anything finer than 10 degrees, which
>>>>>> is the resolution of the full Klems matrix basis.  Some spreading of the
>>>>>> direct is unavoidable.
>>>>>>
>>>>>> You can improve upon this using the tensor tree formulation by
>>>>>> setting the -t3 or -t4 option.  If your system produces an isotropic
>>>>>> distribution (i.e., you can rotate the system about its center with no
>>>>>> change to the output), you can try "genBSDF -t3 6" or so.  In the more
>>>>>> general case, you can use "genBSDF -t4 6", which will resolve the direct
>>>>>> component to within a few degrees.  You can increase to "-t4 7" to get
>>>>>> twice the resolution, but you'll have to increase the -c parameter as well,
>>>>>> and I can't predict when the calculation will finish.
>>>>>>
>>>>>> The real solution is to incorporate and employ the actual system
>>>>>> geometry using the proxy method described near slide 7 in my 2011 workshop
>>>>>> presentation:
>>>>>>
>>>>>>
>>>>>> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>>>>>>
>>>>>> Cheers,
>>>>>> -Greg
>>>>>>
>>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>>
>>>>>> *Date: *February 16, 2013 11:49:09 AM PST
>>>>>>
>>>>>> *
>>>>>> *
>>>>>>
>>>>>> Hi Lars,
>>>>>>
>>>>>> considering that the specular transmission is that light that does
>>>>>> not touch any surface, the analytical solution would be the exact one (am I
>>>>>> right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
>>>>>> those results were compared agains TracePro, and the results of the forward
>>>>>> ray-tracing gave, basically, the same results as the model I am using.
>>>>>>
>>>>>> THANKS
>>>>>>
>>>>>> German
>>>>>>
>>>>>> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>>>>>>
>>>>>>> Hi German!
>>>>>>>
>>>>>>> > I am using genBSDF to get the BTDF of a shading system, comparing
>>>>>>> it to
>>>>>>> > an analytical model using the radiosity method. No surprise, the
>>>>>>> > calculations seem to be really good, nevertheless, there are some
>>>>>>> > important differences on directly transmitted (specular)
>>>>>>> calculations. I
>>>>>>>
>>>>>>> Why do you think that "an analytical model using the radiosity
>>>>>>> method"
>>>>>>> results in "better" results than raytracing does for specular
>>>>>>> transmission?
>>>>>>>
>>>>>>> Cheers, Lars.
>>>>>>>
>>>>>>>
>>>>>> ---------------------------
>>>>>>
>>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>>
>>>>>> *Date: *February 16, 2013 7:06:26 AM PST
>>>>>>
>>>>>> *
>>>>>> *
>>>>>>
>>>>>> Dear list,
>>>>>>
>>>>>> I am using genBSDF to get the BTDF of a shading system, comparing it
>>>>>> to an analytical model using the radiosity method. No surprise, the
>>>>>> calculations seem to be really good, nevertheless, there are some important
>>>>>> differences on directly transmitted (specular) calculations. I am using the
>>>>>> following parameters:
>>>>>>
>>>>>> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
>>>>>> material.mat geometry.rad > ../TMX/file.xml
>>>>>>
>>>>>> I tried modifying the -c option, but it did not show any
>>>>>> improvements, so I stayed on 4000. Any suggestions from gurus?
>>>>>>
>>>>>> THANKS
>>>>>>
>>>>>> German
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130220/0967d458/attachment.html>

From gmolina1 at uc.cl  Thu Feb 21 10:48:04 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Thu, 21 Feb 2013 13:48:04 -0500
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAF-iH4KDXimYcrSkX5-RXgbxbjXHujTkR_SaWp3491D2RZPiWw@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
	<CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
	<188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>
	<CAOG+NiytOS3XdXgP3em0eGnFam3oi1D5RNWeCP8U9hoozEhJeQ@mail.gmail.com>
	<CAF-iH4+jqGtLVkSBECLKkmqNjUayoMbgj8oNfedvOPtgWNHTdg@mail.gmail.com>
	<CAF-iH4KnE+nP94QXjCKu01wY16=Lh-UKNdvrBM7JBRC+h7oRvw@mail.gmail.com>
	<CAOG+NiyEQneZcQLdtccHvz+0chTKfx_DzFbkchdR3XpdmSMp0w@mail.gmail.com>
	<CAF-iH4KDXimYcrSkX5-RXgbxbjXHujTkR_SaWp3491D2RZPiWw@mail.gmail.com>
Message-ID: <CAF-iH4KA0zrmq8QrJKniFFoett5HJYsENwOfF6aQwDzEOQSfEw@mail.gmail.com>

Andy,

your suggestion worked perfectly.

THANKS

2013/2/20 Germ?n Molina Larrain <gmolina1 at uc.cl>

> Ok, I will try those changes, and let you know my results.
>
> THANKS ANDY!
>
>
> 2013/2/20 Andrew McNeil <amcneil at lbl.gov>
>
>> I think all you need to do is change  lines 350 and 351 of genBSDF.pl so
>> they look like this:
>>
>> Kazi = 360*DEGREE * Kcol / Knaz(Krow);
>> Kpol = DEGREE * (0.5*Kpola(Krow) + 0.5*Kpola(Krow-1));
>>
>> (this only changes it for Klems BSDF generation)
>>
>> Andy
>>
>>
>> On Wed, Feb 20, 2013 at 5:44 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:
>>
>>> actually, now that you mention it, I think that the errors I thought
>>> were caused by the borders can be explained by what you say.
>>>
>>>
>>> 2013/2/19 Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>
>>>> Andy, indeed I did not do that; probably that is what causes the
>>>> problem...
>>>>
>>>> Could you explain me how to do that?
>>>>
>>>> THANKS
>>>>
>>>>
>>>> 2013/2/19 Andrew McNeil <amcneil at lbl.gov>
>>>>
>>>>> German,
>>>>> Did you consider that genBSDF integrates over the incident Klems patch
>>>>> while radiosity method used in window 6 just uses the center of the patch
>>>>> for incident energy?
>>>>> It is easy to modify genBSDF to use the ceter of the Klems patch by
>>>>> removing a couple of the random variables in incident ray generation.
>>>>>
>>>>> Andy
>>>>>
>>>>>
>>>>> On Sat, Feb 16, 2013 at 12:49 PM, Greg Ward <gregoryjward at gmail.com>wrote:
>>>>>
>>>>>> The 3-phase method is restricted to matrix (Klems) BSDFs for the time
>>>>>> being.  A more sophisticated method is in the works, but won't be ready for
>>>>>> several months.
>>>>>>
>>>>>> Cheers,
>>>>>> -Greg
>>>>>>
>>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>>
>>>>>> *Date: *February 16, 2013 12:27:02 PM PST
>>>>>>
>>>>>> *
>>>>>> *
>>>>>>
>>>>>> Thanks Greg and Lars!
>>>>>>
>>>>>> I intend to use these BSDFs for annual simulations (three-phase
>>>>>> method). Is it possible to use the Tensor-tree implementation on that? I
>>>>>> think I can live with the claimed error anyway...
>>>>>>
>>>>>> THANKS AGAIN
>>>>>>
>>>>>> Germ?n
>>>>>>
>>>>>> 2013/2/16 Greg Ward <gregoryjward at gmail.com>
>>>>>>
>>>>>>> The genBSDF program produces a limited resolution matrix
>>>>>>> representation using the options you've given.  This is appropriate if you
>>>>>>> want to use it with WINDOW (although I think some modifications to the
>>>>>>> output are still required) or if your material is fairly diffusing.  It
>>>>>>> will not resolve the direct peak to anything finer than 10 degrees, which
>>>>>>> is the resolution of the full Klems matrix basis.  Some spreading of the
>>>>>>> direct is unavoidable.
>>>>>>>
>>>>>>> You can improve upon this using the tensor tree formulation by
>>>>>>> setting the -t3 or -t4 option.  If your system produces an isotropic
>>>>>>> distribution (i.e., you can rotate the system about its center with no
>>>>>>> change to the output), you can try "genBSDF -t3 6" or so.  In the more
>>>>>>> general case, you can use "genBSDF -t4 6", which will resolve the direct
>>>>>>> component to within a few degrees.  You can increase to "-t4 7" to get
>>>>>>> twice the resolution, but you'll have to increase the -c parameter as well,
>>>>>>> and I can't predict when the calculation will finish.
>>>>>>>
>>>>>>> The real solution is to incorporate and employ the actual system
>>>>>>> geometry using the proxy method described near slide 7 in my 2011 workshop
>>>>>>> presentation:
>>>>>>>
>>>>>>>
>>>>>>> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>>>>>>>
>>>>>>> Cheers,
>>>>>>> -Greg
>>>>>>>
>>>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>>>
>>>>>>> *Date: *February 16, 2013 11:49:09 AM PST
>>>>>>>
>>>>>>> *
>>>>>>> *
>>>>>>>
>>>>>>> Hi Lars,
>>>>>>>
>>>>>>> considering that the specular transmission is that light that does
>>>>>>> not touch any surface, the analytical solution would be the exact one (am I
>>>>>>> right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
>>>>>>> those results were compared agains TracePro, and the results of the forward
>>>>>>> ray-tracing gave, basically, the same results as the model I am using.
>>>>>>>
>>>>>>> THANKS
>>>>>>>
>>>>>>> German
>>>>>>>
>>>>>>> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>>>>>>>
>>>>>>>> Hi German!
>>>>>>>>
>>>>>>>> > I am using genBSDF to get the BTDF of a shading system, comparing
>>>>>>>> it to
>>>>>>>> > an analytical model using the radiosity method. No surprise, the
>>>>>>>> > calculations seem to be really good, nevertheless, there are some
>>>>>>>> > important differences on directly transmitted (specular)
>>>>>>>> calculations. I
>>>>>>>>
>>>>>>>> Why do you think that "an analytical model using the radiosity
>>>>>>>> method"
>>>>>>>> results in "better" results than raytracing does for specular
>>>>>>>> transmission?
>>>>>>>>
>>>>>>>> Cheers, Lars.
>>>>>>>>
>>>>>>>>
>>>>>>> ---------------------------
>>>>>>>
>>>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>>>
>>>>>>> *Date: *February 16, 2013 7:06:26 AM PST
>>>>>>>
>>>>>>> *
>>>>>>> *
>>>>>>>
>>>>>>> Dear list,
>>>>>>>
>>>>>>> I am using genBSDF to get the BTDF of a shading system, comparing it
>>>>>>> to an analytical model using the radiosity method. No surprise, the
>>>>>>> calculations seem to be really good, nevertheless, there are some important
>>>>>>> differences on directly transmitted (specular) calculations. I am using the
>>>>>>> following parameters:
>>>>>>>
>>>>>>> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
>>>>>>> material.mat geometry.rad > ../TMX/file.xml
>>>>>>>
>>>>>>> I tried modifying the -c option, but it did not show any
>>>>>>> improvements, so I stayed on 4000. Any suggestions from gurus?
>>>>>>>
>>>>>>> THANKS
>>>>>>>
>>>>>>> German
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Radiance-general mailing list
>>>>>>> Radiance-general at radiance-online.org
>>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>>
>>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130221/e53aea3b/attachment.html>

From alpanadongre at gmail.com  Thu Feb 21 19:27:34 2013
From: alpanadongre at gmail.com (Alpana Dongre)
Date: Fri, 22 Feb 2013 08:57:34 +0530
Subject: [Radiance-general] Run the radiance program after installation
Message-ID: <DC48C8A1-5D54-4158-9780-1C103DF6EB0C@gmail.com>

Dear sir

I have downloaded radiance from
http://www.radiance-online.org/download-install/installation-information/mac-osx-1
ON IMAC
OPTION 1 Using the NREL radiance installer for Mac (recommended)
OPTION 2 Using pre-compiled binaries from the most recent official release

the installer prompted successful installation in option 1 as well as
successful results in Verify installation in the second option.

However I am not able to run the program. kindly help


Regards
Alpana


Sent from my iPad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130222/9ed96cb9/attachment.html>

From catarinaba7 at gmail.com  Fri Feb 22 05:26:50 2013
From: catarinaba7 at gmail.com (=?ISO-8859-1?Q?Catarina_Ara=FAjo?=)
Date: Fri, 22 Feb 2013 13:26:50 +0000
Subject: [Radiance-general] Strange results
Message-ID: <CAC4Zz-KCqoByAbNfi2bBYL4-Djx9djUNWwb=6SFGkiraqWs=3w@mail.gmail.com>

Hi,

My name is Catarina and I am trying to perform a lightning simulation with
Desktop Radiance.

I think I followed all the necessary steps to insert my model:
- Design the geometry (its a simple cube, with the dimensions 5*5*2.8, and
a window);
- Attach materials to the surfaces;
- Insert the luminaire;
- Define a gride (I am using the reference grid simualation);
- Define the orientation.

After that, I perform the simulation but the results are very high (I
obtain values for illuminance around 14000 or higher). Additionally, the
lightning distribution around the room does not make sense. I have low
values in some points and very high value in other.

I am performing the analysis in a windows 7 (32bits) operative system. I
don't know if the operative system interfere with the results?

I read something in your site about the optics 5 software. I have already
install it and uninstall and the results remain awkward.

Can you please tell me if I am doing something wrong?

Thank you very much,
Catarina
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130222/6cb5a7c1/attachment.html>

From gregoryjward at gmail.com  Fri Feb 22 07:29:26 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 22 Feb 2013 07:29:26 -0800
Subject: [Radiance-general] Run the radiance program after installation
In-Reply-To: <DC48C8A1-5D54-4158-9780-1C103DF6EB0C@gmail.com>
References: <DC48C8A1-5D54-4158-9780-1C103DF6EB0C@gmail.com>
Message-ID: <8D3F420B-116F-45F9-AC82-234CA07B8CD5@lmi.net>

This question was already posted (and answered by Andy) on the development list.  It really belongs here (or in a FAQ).

-Greg

> From: Alpana Dongre <alpanadongre at gmail.com>
> Date: February 21, 2013 7:27:34 PM PST
> 
> Dear sir
> 
> I have downloaded radiance from
> http://www.radiance-online.org/download-install/installation-information/mac-osx-1
> ON IMAC
> OPTION 1 Using the NREL radiance installer for Mac (recommended)
> OPTION 2 Using pre-compiled binaries from the most recent official release
> 
> the installer prompted successful installation in option 1 as well as
> successful results in Verify installation in the second option.
> 
> However I am not able to run the program. kindly help
> 
> 
> Regards
> Alpana
> 

Begin forwarded message:

> From: Andrew McNeil <amcneil at lbl.gov>
> Date: February 21, 2013 9:43:36 AM PST
> 
> Alpana,
> 
> Unfortunately, Radiance isn't the kind of program that you run by clicking the icon. Everything is done via the terminal and/or with scripting.
> The tutorials under the learn tab should help you get started:
> http://www.radiance-online.org/learning/tutorials
> 
> Best,
> Andy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130222/3ffd3cc1/attachment-0001.html>

From gmolina1 at uc.cl  Fri Feb 22 06:57:10 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Fri, 22 Feb 2013 09:57:10 -0500
Subject: [Radiance-general] [Radiance-openstudio] Updated Radiance
 Installers Available
In-Reply-To: <CAOG+Niw1B1ZRFONH4QuxRRizME2Q8Zr1JOfEhOeyAgqyYDW3yA@mail.gmail.com>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D45@MAILBOX2.nrel.gov>
	<CAOG+Niw1B1ZRFONH4QuxRRizME2Q8Zr1JOfEhOeyAgqyYDW3yA@mail.gmail.com>
Message-ID: <CAF-iH4JGEXn2UQGZq0+MRiCndJYvN+pJLXgoG+Y6WGmHxx=OwQ@mail.gmail.com>

Sorry for taking this topic back alive but I have two questions.

1.- (I do not know much about programming) Why are dctimestepCPU(GPU) no
longer needed? is this new version as fast as GPU calculation? was there ay
disadvantage?

2.- It seems that I can not download the epw2wea program. Do I have to
download the entire DAYSIM package?

THANKS

German

2013/2/19 Andrew McNeil <amcneil at lbl.gov>

> Just to clarify, you do need the newest head version of dctimestep to use
> the skymatrix generated by gendaymtx in a three-phase calc.
>
> it goes like this:
> gendaylit Chicago.wea > Chicago.smx
> dctimestep -n 8760 sensors.vmx fenestration.xml exterior.dmx Chicago.smx >
> illuminance.txt
>
> (where -n is the number of time steps in your sky matrix file)
>
> You can use epw2wea from daysim to convert epw to wea format (
> http://daysim.ning.com/subprogram/epw2wea).
>
> Andy
>
>
> On Tue, Feb 19, 2013 at 12:16 PM, Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov> wrote:
>
>>  Hi German,
>>
>> Yes, gendaymtx is in the HEAD, the installers in the NREL site are based
>> on the HEAD as of Thursday of last week, I believe. And no, the GPU
>> dctimestep is not needed for this to work (nor is that version of
>> dctimestep in HEAD). Nope, gendaymtx works with all the standard Radiance
>> tools. You simply need a weather file formatted the way it wants, which is
>> the same format as a DAYSIM weather file. Andy McNeil notes that DAYSIM has
>> a tool to convert the EnergyPlus weather file format (.epw) to the DAYSIM
>> format. OpenStudio will be modified to automatically provide gendaymtx with
>> the epw data in the format it expects. I noticed that gendaymtx also
>> accepts weather data from STDIN, and that there is an option to feed it
>> less than a full year (8760) of data. We will leverage this ability in
>> OpenStudio for sure, as well.
>>
>> Exciting times!
>>
>> - Rob
>>
>>
>>
>>
>> Rob Guglielmetti
>> Commercial Buildings Research Group
>> National Renewable Energy Laboratory (NREL)
>> 15013 Denver West Parkway MS: RSF202
>> Golden, CO 80401
>> 303.275.4319
>> robert.guglielmetti at nrel.gov
>>
>> -----Original Message-----
>> *From: *Germ?n Molina Larrain [gmolina1 at uc.cl]
>> *Sent: *Tuesday, February 19, 2013 12:25 PM Mountain Standard Time
>> *To: *Radiance general discussion
>> *Cc: *bldg-sim; radiance-openstudio
>> *Subject: *Re: [Radiance-general] Updated Radiance Installers Available
>>
>> Good to know!
>>
>> Is gendaymtx available in the HEAD version of Radiance? Is the GPU
>> version of dctimestep needed for using that?
>>
>> THANKS VERY MUCH
>>
>> German
>>
>> 2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>>
>>> Hi folks,
>>>
>>> Just a quick note to let you all know that the Radiance installers have
>>> been updated, and are available for download at the NREL OpenStudio site.
>>> These packages include the brand new 'gendaymtx' utility that greatly
>>> speeds up the annual calculation when using the daylight coefficient tools
>>> in Radiance.
>>>
>>> We hope to add gendaymtx into the OpenStudio tool chain and workflow in
>>> the coming weeks, but in the meantime, I'm sure Greg would appreciate any
>>> feedback from users willing to try it out on their own, especially those
>>> Windows users out there. There's a man page explaining its use, and it's
>>> pretty straightforward.
>>>
>>> Grab yours here:
>>>
>>>
>>> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>>>
>>> Ok, bye.
>>>
>>> -Rob Gee
>>>
>>> Rob Guglielmetti
>>> Commercial Buildings Research Group
>>> National Renewable Energy Laboratory (NREL)
>>> 15013 Denver West Parkway MS: RSF202
>>> Golden, CO 80401
>>> 303.275.4319
>>> robert.guglielmetti at nrel.gov
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
>> _______________________________________________
>> Radiance-openstudio mailing list
>> Radiance-openstudio at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-openstudio
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130222/fb01566c/attachment-0001.html>

From grobe at gmx.net  Fri Feb 22 08:15:59 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri, 22 Feb 2013 17:15:59 +0100
Subject: [Radiance-general] Strange results
In-Reply-To: <CAC4Zz-KCqoByAbNfi2bBYL4-Djx9djUNWwb=6SFGkiraqWs=3w@mail.gmail.com>
References: <CAC4Zz-KCqoByAbNfi2bBYL4-Djx9djUNWwb=6SFGkiraqWs=3w@mail.gmail.com>
Message-ID: <512799BF.2000400@gmx.net>

Hi Catarina!
> My name is Catarina and I am trying to perform a lightning simulation 
> with Desktop Radiance.
As far as I know, Desktop Radiance has not been supported for several 
year. This list is on Radiance, which shares some underlying code with 
the old Desktop Radiance, but has seen continous development over the 
years. I suggest that you stop using Desktop Radiance and either go with 
"pure" Radiance (which means to get into touch with the command-line 
tools Radiance is made of) or one of the various frontends. Daysim, 
Relux, the Blender-Integration as well as several integrations in more 
general building simulation systems are among the options in the latter 
case.
> I think I followed all the necessary steps to insert my model:
> - Design the geometry (its a simple cube, with the dimensions 5*5*2.8, 
> and a window);
> - Attach materials to the surfaces;
> - Insert the luminaire;
> - Define a gride (I am using the reference grid simualation);
> - Define the orientation.
>
> After that, I perform the simulation but the results are very high (I 
> obtain values for illuminance around 14000 or higher). Additionally, 
> the lightning distribution around the room does not make sense. I have 
> low values in some points and very high value in other.
It is almost impossible to give any useful comment here, as we do not 
know the model (geometry), the material properties or the luminaire, 
plus we have unsupported code. From what you wrote, you do not have any 
daylight in your scene - still, the values you observe could indicate 
that you have a sky model that you are not aware of, and measure 
illuminance where your sensor gets hit by direct sunlight.

Still, a very generic hint - if you observe funny results in your 
illuminance simulation, take a "look" using a more "natural" camera 
setting with a luminance calculation. This helps to identify problems in 
the model (missing ceilings, coordinate systems where one would not 
expect them to be located related to the camera, funny overlaps of 
surfaces, ...). Still - Desktop Radiance is for historical interest but 
not for simulation work any more.
> I read something in your site about the optics 5 software. I have 
> already install it and uninstall and the results remain awkward.
Optics 5 is a tool to find transmission properties of multi-layer 
glazings. You can import these into Radiance - but Optics does not 
somehow interfere with Radiance, and is a separate software.

Cheers, Lars.


From alstan at jakubiec.net  Fri Feb 22 08:00:25 2013
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Fri, 22 Feb 2013 11:00:25 -0500
Subject: [Radiance-general] [Radiance-openstudio] Updated Radiance
 Installers Available
In-Reply-To: <CAF-iH4JGEXn2UQGZq0+MRiCndJYvN+pJLXgoG+Y6WGmHxx=OwQ@mail.gmail.com>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D45@MAILBOX2.nrel.gov>
	<CAOG+Niw1B1ZRFONH4QuxRRizME2Q8Zr1JOfEhOeyAgqyYDW3yA@mail.gmail.com>
	<CAF-iH4JGEXn2UQGZq0+MRiCndJYvN+pJLXgoG+Y6WGmHxx=OwQ@mail.gmail.com>
Message-ID: <op.wswz2zcoc8ew1p@jakubiec.mit.edu>

Hi German,

While I can't speak to #1, with regards to #2 the epw2wea program comes  
along with DAYSIM, so you do need to download the entire package from  
http://daysim.ning.com/page/download. If you are using Linux, the windows  
download includes source which can be compiled on Linux.

Best,
Alstan

On Fri, 22 Feb 2013 09:57:10 -0500, Germ?n Molina Larrain <gmolina1 at uc.cl>  
wrote:

> Sorry for taking this topic back alive but I have two questions.
>
> 1.- (I do not know much about programming) Why are dctimestepCPU(GPU) no
> longer needed? is this new version as fast as GPU calculation? was there  
> ay
> disadvantage?
>
> 2.- It seems that I can not download the epw2wea program. Do I have to
> download the entire DAYSIM package?
>
> THANKS
>
> German
>
> 2013/2/19 Andrew McNeil <amcneil at lbl.gov>
>
>> Just to clarify, you do need the newest head version of dctimestep to  
>> use
>> the skymatrix generated by gendaymtx in a three-phase calc.
>>
>> it goes like this:
>> gendaylit Chicago.wea > Chicago.smx
>> dctimestep -n 8760 sensors.vmx fenestration.xml exterior.dmx  
>> Chicago.smx >
>> illuminance.txt
>>
>> (where -n is the number of time steps in your sky matrix file)
>>
>> You can use epw2wea from daysim to convert epw to wea format (
>> http://daysim.ning.com/subprogram/epw2wea).
>>
>> Andy
>>
>>
>> On Tue, Feb 19, 2013 at 12:16 PM, Guglielmetti, Robert <
>> Robert.Guglielmetti at nrel.gov> wrote:
>>
>>>  Hi German,
>>>
>>> Yes, gendaymtx is in the HEAD, the installers in the NREL site are  
>>> based
>>> on the HEAD as of Thursday of last week, I believe. And no, the GPU
>>> dctimestep is not needed for this to work (nor is that version of
>>> dctimestep in HEAD). Nope, gendaymtx works with all the standard  
>>> Radiance
>>> tools. You simply need a weather file formatted the way it wants,  
>>> which is
>>> the same format as a DAYSIM weather file. Andy McNeil notes that  
>>> DAYSIM has
>>> a tool to convert the EnergyPlus weather file format (.epw) to the  
>>> DAYSIM
>>> format. OpenStudio will be modified to automatically provide gendaymtx  
>>> with
>>> the epw data in the format it expects. I noticed that gendaymtx also
>>> accepts weather data from STDIN, and that there is an option to feed it
>>> less than a full year (8760) of data. We will leverage this ability in
>>> OpenStudio for sure, as well.
>>>
>>> Exciting times!
>>>
>>> - Rob
>>>
>>>
>>>
>>>
>>> Rob Guglielmetti
>>> Commercial Buildings Research Group
>>> National Renewable Energy Laboratory (NREL)
>>> 15013 Denver West Parkway MS: RSF202
>>> Golden, CO 80401
>>> 303.275.4319
>>> robert.guglielmetti at nrel.gov
>>>
>>> -----Original Message-----
>>> *From: *Germ?n Molina Larrain [gmolina1 at uc.cl]
>>> *Sent: *Tuesday, February 19, 2013 12:25 PM Mountain Standard Time
>>> *To: *Radiance general discussion
>>> *Cc: *bldg-sim; radiance-openstudio
>>> *Subject: *Re: [Radiance-general] Updated Radiance Installers Available
>>>
>>> Good to know!
>>>
>>> Is gendaymtx available in the HEAD version of Radiance? Is the GPU
>>> version of dctimestep needed for using that?
>>>
>>> THANKS VERY MUCH
>>>
>>> German
>>>
>>> 2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>>>
>>>> Hi folks,
>>>>
>>>> Just a quick note to let you all know that the Radiance installers  
>>>> have
>>>> been updated, and are available for download at the NREL OpenStudio  
>>>> site.
>>>> These packages include the brand new 'gendaymtx' utility that greatly
>>>> speeds up the annual calculation when using the daylight coefficient  
>>>> tools
>>>> in Radiance.
>>>>
>>>> We hope to add gendaymtx into the OpenStudio tool chain and workflow  
>>>> in
>>>> the coming weeks, but in the meantime, I'm sure Greg would appreciate  
>>>> any
>>>> feedback from users willing to try it out on their own, especially  
>>>> those
>>>> Windows users out there. There's a man page explaining its use, and  
>>>> it's
>>>> pretty straightforward.
>>>>
>>>> Grab yours here:
>>>>
>>>>
>>>> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>>>>
>>>> Ok, bye.
>>>>
>>>> -Rob Gee
>>>>
>>>> Rob Guglielmetti
>>>> Commercial Buildings Research Group
>>>> National Renewable Energy Laboratory (NREL)
>>>> 15013 Denver West Parkway MS: RSF202
>>>> Golden, CO 80401
>>>> 303.275.4319
>>>> robert.guglielmetti at nrel.gov
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general


From catarinaba7 at gmail.com  Fri Feb 22 08:53:35 2013
From: catarinaba7 at gmail.com (=?ISO-8859-1?Q?Catarina_Ara=FAjo?=)
Date: Fri, 22 Feb 2013 16:53:35 +0000
Subject: [Radiance-general] Strange results
In-Reply-To: <512799BF.2000400@gmx.net>
References: <CAC4Zz-KCqoByAbNfi2bBYL4-Djx9djUNWwb=6SFGkiraqWs=3w@mail.gmail.com>
	<512799BF.2000400@gmx.net>
Message-ID: <CAC4Zz-KmbJ81rfvdp6p14vpcqwtb86ZPQaQMy8B3DsTewRGB5A@mail.gmail.com>

Hi Lars,

Thank you very much.
Yes, after analyzing my results I also think that I have a problem with the
skylight but I can not understand where...

I have already think to use the Radiance. Daysim is not good for me because
I also want to simulate artificial light. I read somewhere that I can
insert my model in use Autodesk Ecotect Analysis software and the export it
and simulate with the Radiance. Is this right?

However I am not sure if it is free?
Where can I download it?

Best regards,
Catarina

2013/2/22 Lars O. Grobe <grobe at gmx.net>

> Hi Catarina!
>
>  My name is Catarina and I am trying to perform a lightning simulation
>> with Desktop Radiance.
>>
> As far as I know, Desktop Radiance has not been supported for several
> year. This list is on Radiance, which shares some underlying code with the
> old Desktop Radiance, but has seen continous development over the years. I
> suggest that you stop using Desktop Radiance and either go with "pure"
> Radiance (which means to get into touch with the command-line tools
> Radiance is made of) or one of the various frontends. Daysim, Relux, the
> Blender-Integration as well as several integrations in more general
> building simulation systems are among the options in the latter case.
>
>  I think I followed all the necessary steps to insert my model:
>> - Design the geometry (its a simple cube, with the dimensions 5*5*2.8,
>> and a window);
>> - Attach materials to the surfaces;
>> - Insert the luminaire;
>> - Define a gride (I am using the reference grid simualation);
>> - Define the orientation.
>>
>> After that, I perform the simulation but the results are very high (I
>> obtain values for illuminance around 14000 or higher). Additionally, the
>> lightning distribution around the room does not make sense. I have low
>> values in some points and very high value in other.
>>
> It is almost impossible to give any useful comment here, as we do not know
> the model (geometry), the material properties or the luminaire, plus we
> have unsupported code. From what you wrote, you do not have any daylight in
> your scene - still, the values you observe could indicate that you have a
> sky model that you are not aware of, and measure illuminance where your
> sensor gets hit by direct sunlight.
>
> Still, a very generic hint - if you observe funny results in your
> illuminance simulation, take a "look" using a more "natural" camera setting
> with a luminance calculation. This helps to identify problems in the model
> (missing ceilings, coordinate systems where one would not expect them to be
> located related to the camera, funny overlaps of surfaces, ...). Still -
> Desktop Radiance is for historical interest but not for simulation work any
> more.
>
>  I read something in your site about the optics 5 software. I have already
>> install it and uninstall and the results remain awkward.
>>
> Optics 5 is a tool to find transmission properties of multi-layer
> glazings. You can import these into Radiance - but Optics does not somehow
> interfere with Radiance, and is a separate software.
>
> Cheers, Lars.
>
> ______________________________**_________________
> Radiance-general mailing list
> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>



-- 
Catarina Ara?jo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130222/1b4a8494/attachment.html>

From akrickx at integralgroup.com  Fri Feb 22 09:04:30 2013
From: akrickx at integralgroup.com (Alex Krickx)
Date: Fri, 22 Feb 2013 09:04:30 -0800
Subject: [Radiance-general] Strange results
In-Reply-To: <CAC4Zz-KmbJ81rfvdp6p14vpcqwtb86ZPQaQMy8B3DsTewRGB5A@mail.gmail.com>
References: <CAC4Zz-KCqoByAbNfi2bBYL4-Djx9djUNWwb=6SFGkiraqWs=3w@mail.gmail.com>
	<512799BF.2000400@gmx.net>
	<CAC4Zz-KmbJ81rfvdp6p14vpcqwtb86ZPQaQMy8B3DsTewRGB5A@mail.gmail.com>
Message-ID: <CAJhox8TgmDc0FZzVKF1L=vVDNrWCV7BrFpPoz3WibWdUv9Fgag@mail.gmail.com>

Hi Catarina,

Ecotect works, but is not free.

I've found the best way to install/access Radiance on Windows machines is
the OpenStudio installer - it's free and updated.
https://openstudio.nrel.gov/getting-started-developer/getting-started-radiance

Good luck!
Alex

*Alex Krickx* | LEED AP
Project Engineer
*Integral Group *| 427 13th Street | Oakland CA USA 94612
T 510.663.2070 x 247
integralgroup.com <http://www.integralgroup.com/> | *
akrickx at integralgroup.com*

***Trust* | *Nurture** *| *Inspire*


Please consider the environment before printing this email.


On Fri, Feb 22, 2013 at 8:53 AM, Catarina Ara?jo <catarinaba7 at gmail.com>wrote:

> Hi Lars,
>
> Thank you very much.
> Yes, after analyzing my results I also think that I have a problem with
> the skylight but I can not understand where...
>
> I have already think to use the Radiance. Daysim is not good for me
> because I also want to simulate artificial light. I read somewhere that I
> can insert my model in use Autodesk Ecotect Analysis software and the
> export it and simulate with the Radiance. Is this right?
>
> However I am not sure if it is free?
> Where can I download it?
>
> Best regards,
> Catarina
>
> 2013/2/22 Lars O. Grobe <grobe at gmx.net>
>
> Hi Catarina!
>>
>>  My name is Catarina and I am trying to perform a lightning simulation
>>> with Desktop Radiance.
>>>
>> As far as I know, Desktop Radiance has not been supported for several
>> year. This list is on Radiance, which shares some underlying code with the
>> old Desktop Radiance, but has seen continous development over the years. I
>> suggest that you stop using Desktop Radiance and either go with "pure"
>> Radiance (which means to get into touch with the command-line tools
>> Radiance is made of) or one of the various frontends. Daysim, Relux, the
>> Blender-Integration as well as several integrations in more general
>> building simulation systems are among the options in the latter case.
>>
>>  I think I followed all the necessary steps to insert my model:
>>> - Design the geometry (its a simple cube, with the dimensions 5*5*2.8,
>>> and a window);
>>> - Attach materials to the surfaces;
>>> - Insert the luminaire;
>>> - Define a gride (I am using the reference grid simualation);
>>> - Define the orientation.
>>>
>>> After that, I perform the simulation but the results are very high (I
>>> obtain values for illuminance around 14000 or higher). Additionally, the
>>> lightning distribution around the room does not make sense. I have low
>>> values in some points and very high value in other.
>>>
>> It is almost impossible to give any useful comment here, as we do not
>> know the model (geometry), the material properties or the luminaire, plus
>> we have unsupported code. From what you wrote, you do not have any daylight
>> in your scene - still, the values you observe could indicate that you have
>> a sky model that you are not aware of, and measure illuminance where your
>> sensor gets hit by direct sunlight.
>>
>> Still, a very generic hint - if you observe funny results in your
>> illuminance simulation, take a "look" using a more "natural" camera setting
>> with a luminance calculation. This helps to identify problems in the model
>> (missing ceilings, coordinate systems where one would not expect them to be
>> located related to the camera, funny overlaps of surfaces, ...). Still -
>> Desktop Radiance is for historical interest but not for simulation work any
>> more.
>>
>>  I read something in your site about the optics 5 software. I have
>>> already install it and uninstall and the results remain awkward.
>>>
>> Optics 5 is a tool to find transmission properties of multi-layer
>> glazings. You can import these into Radiance - but Optics does not somehow
>> interfere with Radiance, and is a separate software.
>>
>> Cheers, Lars.
>>
>> ______________________________**_________________
>> Radiance-general mailing list
>> Radiance-general at radiance-**online.org<Radiance-general at radiance-online.org>
>> http://www.radiance-online.**org/mailman/listinfo/radiance-**general<http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>
>
>
>
> --
> Catarina Ara?jo
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130222/64bfcd5c/attachment-0001.html>

From amcneil at lbl.gov  Fri Feb 22 09:31:41 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Fri, 22 Feb 2013 09:31:41 -0800
Subject: [Radiance-general] [Radiance-openstudio] Updated Radiance
 Installers Available
In-Reply-To: <CAF-iH4JGEXn2UQGZq0+MRiCndJYvN+pJLXgoG+Y6WGmHxx=OwQ@mail.gmail.com>
References: <FFF56A6D37A3A54F91A03601AC22DA322608AB1D45@MAILBOX2.nrel.gov>
	<CAOG+Niw1B1ZRFONH4QuxRRizME2Q8Zr1JOfEhOeyAgqyYDW3yA@mail.gmail.com>
	<CAF-iH4JGEXn2UQGZq0+MRiCndJYvN+pJLXgoG+Y6WGmHxx=OwQ@mail.gmail.com>
Message-ID: <CAOG+Nix9hh=+WzXToe0-=SG+197t2OiJPq2MhizEDvqJ3cLXbA@mail.gmail.com>

Hi German,
The GPU code didn't provide any acceleration over CPU code  for a single
annual run,  It only helps for dozens or more parametric annual runs (many
BSDF's many view matrices, many climates ...)  and even then it was only
marginally better.

The bulk of the acceleration in the dctimestep?pu code comes from loading
the data once and multiplying everything once. The old way of doing
dctimestep for a single time step and looping requires the V, T &
D matrices to be loaded and multiplied for each time step - clearly this
isn't efficient for an annual run since the matrices don't change.

The updated version of dctimestep performs as well as the dctimestep?pu, is
more robust than dctimestep?pu (no segfaults when matrix dimensions don't
match) and can handle rendered view matrices.

Yes, you gan give dctimestep a rendered view matrix and have hourly annual
renderings after about 2 hours.

Hope that helps,
Andy


On Fri, Feb 22, 2013 at 6:57 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:

> Sorry for taking this topic back alive but I have two questions.
>
> 1.- (I do not know much about programming) Why are dctimestepCPU(GPU) no
> longer needed? is this new version as fast as GPU calculation? was there ay
> disadvantage?
>
> 2.- It seems that I can not download the epw2wea program. Do I have to
> download the entire DAYSIM package?
>
> THANKS
>
> German
>
>
> 2013/2/19 Andrew McNeil <amcneil at lbl.gov>
>
>> Just to clarify, you do need the newest head version of dctimestep to use
>> the skymatrix generated by gendaymtx in a three-phase calc.
>>
>> it goes like this:
>> gendaylit Chicago.wea > Chicago.smx
>> dctimestep -n 8760 sensors.vmx fenestration.xml exterior.dmx Chicago.smx
>> > illuminance.txt
>>
>> (where -n is the number of time steps in your sky matrix file)
>>
>> You can use epw2wea from daysim to convert epw to wea format (
>> http://daysim.ning.com/subprogram/epw2wea).
>>
>> Andy
>>
>>
>> On Tue, Feb 19, 2013 at 12:16 PM, Guglielmetti, Robert <
>> Robert.Guglielmetti at nrel.gov> wrote:
>>
>>>  Hi German,
>>>
>>> Yes, gendaymtx is in the HEAD, the installers in the NREL site are based
>>> on the HEAD as of Thursday of last week, I believe. And no, the GPU
>>> dctimestep is not needed for this to work (nor is that version of
>>> dctimestep in HEAD). Nope, gendaymtx works with all the standard Radiance
>>> tools. You simply need a weather file formatted the way it wants, which is
>>> the same format as a DAYSIM weather file. Andy McNeil notes that DAYSIM has
>>> a tool to convert the EnergyPlus weather file format (.epw) to the DAYSIM
>>> format. OpenStudio will be modified to automatically provide gendaymtx with
>>> the epw data in the format it expects. I noticed that gendaymtx also
>>> accepts weather data from STDIN, and that there is an option to feed it
>>> less than a full year (8760) of data. We will leverage this ability in
>>> OpenStudio for sure, as well.
>>>
>>> Exciting times!
>>>
>>> - Rob
>>>
>>>
>>>
>>>
>>> Rob Guglielmetti
>>> Commercial Buildings Research Group
>>> National Renewable Energy Laboratory (NREL)
>>> 15013 Denver West Parkway MS: RSF202
>>> Golden, CO 80401
>>> 303.275.4319
>>> robert.guglielmetti at nrel.gov
>>>
>>> -----Original Message-----
>>> *From: *Germ?n Molina Larrain [gmolina1 at uc.cl]
>>> *Sent: *Tuesday, February 19, 2013 12:25 PM Mountain Standard Time
>>> *To: *Radiance general discussion
>>> *Cc: *bldg-sim; radiance-openstudio
>>> *Subject: *Re: [Radiance-general] Updated Radiance Installers Available
>>>
>>> Good to know!
>>>
>>> Is gendaymtx available in the HEAD version of Radiance? Is the GPU
>>> version of dctimestep needed for using that?
>>>
>>> THANKS VERY MUCH
>>>
>>> German
>>>
>>> 2013/2/19 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>>>
>>>> Hi folks,
>>>>
>>>> Just a quick note to let you all know that the Radiance installers have
>>>> been updated, and are available for download at the NREL OpenStudio site.
>>>> These packages include the brand new 'gendaymtx' utility that greatly
>>>> speeds up the annual calculation when using the daylight coefficient tools
>>>> in Radiance.
>>>>
>>>> We hope to add gendaymtx into the OpenStudio tool chain and workflow in
>>>> the coming weeks, but in the meantime, I'm sure Greg would appreciate any
>>>> feedback from users willing to try it out on their own, especially those
>>>> Windows users out there. There's a man page explaining its use, and it's
>>>> pretty straightforward.
>>>>
>>>> Grab yours here:
>>>>
>>>>
>>>> http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>>>>
>>>> Ok, bye.
>>>>
>>>> -Rob Gee
>>>>
>>>> Rob Guglielmetti
>>>> Commercial Buildings Research Group
>>>> National Renewable Energy Laboratory (NREL)
>>>> 15013 Denver West Parkway MS: RSF202
>>>> Golden, CO 80401
>>>> 303.275.4319
>>>> robert.guglielmetti at nrel.gov
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-openstudio mailing list
>>> Radiance-openstudio at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-openstudio
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130222/e31d42ee/attachment.html>

From amcneil at lbl.gov  Fri Feb 22 09:19:31 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Fri, 22 Feb 2013 09:19:31 -0800
Subject: [Radiance-general] better results on genBSDF
In-Reply-To: <CAF-iH4KA0zrmq8QrJKniFFoett5HJYsENwOfF6aQwDzEOQSfEw@mail.gmail.com>
References: <CAF-iH4+TvX4AkHctaYfaaDYpgdSBWMNasddO7HAHXMxys-Q5Tw@mail.gmail.com>
	<511FDDA4.1070000@gmx.net>
	<CAF-iH4Lm=nQjCTKOK-f6enWhNRozXmX=tRxv+REuJCP6yDXOwg@mail.gmail.com>
	<5332036B-F8B6-4108-B508-E1F0428A195E@lmi.net>
	<CAF-iH4J8nya9PnRsEbNQL6RDthC-74LiRPF9sX28+Odg_CWtqg@mail.gmail.com>
	<188281E3-C388-4C57-9589-96C4D6596FDD@lmi.net>
	<CAOG+NiytOS3XdXgP3em0eGnFam3oi1D5RNWeCP8U9hoozEhJeQ@mail.gmail.com>
	<CAF-iH4+jqGtLVkSBECLKkmqNjUayoMbgj8oNfedvOPtgWNHTdg@mail.gmail.com>
	<CAF-iH4KnE+nP94QXjCKu01wY16=Lh-UKNdvrBM7JBRC+h7oRvw@mail.gmail.com>
	<CAOG+NiyEQneZcQLdtccHvz+0chTKfx_DzFbkchdR3XpdmSMp0w@mail.gmail.com>
	<CAF-iH4KDXimYcrSkX5-RXgbxbjXHujTkR_SaWp3491D2RZPiWw@mail.gmail.com>
	<CAF-iH4KA0zrmq8QrJKniFFoett5HJYsENwOfF6aQwDzEOQSfEw@mail.gmail.com>
Message-ID: <CAOG+NixDAnVOjKDzHWqCq3+0oL0ENJtgiWjXbyusYV7A9wEpWQ@mail.gmail.com>

Great! Glad it all works out.

On Thu, Feb 21, 2013 at 10:48 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:

> Andy,
>
> your suggestion worked perfectly.
>
> THANKS
>
>
> 2013/2/20 Germ?n Molina Larrain <gmolina1 at uc.cl>
>
>> Ok, I will try those changes, and let you know my results.
>>
>> THANKS ANDY!
>>
>>
>> 2013/2/20 Andrew McNeil <amcneil at lbl.gov>
>>
>>> I think all you need to do is change  lines 350 and 351 of genBSDF.pl so
>>> they look like this:
>>>
>>> Kazi = 360*DEGREE * Kcol / Knaz(Krow);
>>> Kpol = DEGREE * (0.5*Kpola(Krow) + 0.5*Kpola(Krow-1));
>>>
>>> (this only changes it for Klems BSDF generation)
>>>
>>> Andy
>>>
>>>
>>> On Wed, Feb 20, 2013 at 5:44 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:
>>>
>>>> actually, now that you mention it, I think that the errors I thought
>>>> were caused by the borders can be explained by what you say.
>>>>
>>>>
>>>> 2013/2/19 Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>
>>>>> Andy, indeed I did not do that; probably that is what causes the
>>>>> problem...
>>>>>
>>>>> Could you explain me how to do that?
>>>>>
>>>>> THANKS
>>>>>
>>>>>
>>>>> 2013/2/19 Andrew McNeil <amcneil at lbl.gov>
>>>>>
>>>>>> German,
>>>>>> Did you consider that genBSDF integrates over the incident Klems
>>>>>> patch while radiosity method used in window 6 just uses the center of the
>>>>>> patch for incident energy?
>>>>>> It is easy to modify genBSDF to use the ceter of the Klems patch by
>>>>>> removing a couple of the random variables in incident ray generation.
>>>>>>
>>>>>> Andy
>>>>>>
>>>>>>
>>>>>> On Sat, Feb 16, 2013 at 12:49 PM, Greg Ward <gregoryjward at gmail.com>wrote:
>>>>>>
>>>>>>> The 3-phase method is restricted to matrix (Klems) BSDFs for the
>>>>>>> time being.  A more sophisticated method is in the works, but won't be
>>>>>>> ready for several months.
>>>>>>>
>>>>>>> Cheers,
>>>>>>> -Greg
>>>>>>>
>>>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>>>
>>>>>>> *Date: *February 16, 2013 12:27:02 PM PST
>>>>>>>
>>>>>>> *
>>>>>>> *
>>>>>>>
>>>>>>> Thanks Greg and Lars!
>>>>>>>
>>>>>>> I intend to use these BSDFs for annual simulations (three-phase
>>>>>>> method). Is it possible to use the Tensor-tree implementation on that? I
>>>>>>> think I can live with the claimed error anyway...
>>>>>>>
>>>>>>> THANKS AGAIN
>>>>>>>
>>>>>>> Germ?n
>>>>>>>
>>>>>>> 2013/2/16 Greg Ward <gregoryjward at gmail.com>
>>>>>>>
>>>>>>>> The genBSDF program produces a limited resolution matrix
>>>>>>>> representation using the options you've given.  This is appropriate if you
>>>>>>>> want to use it with WINDOW (although I think some modifications to the
>>>>>>>> output are still required) or if your material is fairly diffusing.  It
>>>>>>>> will not resolve the direct peak to anything finer than 10 degrees, which
>>>>>>>> is the resolution of the full Klems matrix basis.  Some spreading of the
>>>>>>>> direct is unavoidable.
>>>>>>>>
>>>>>>>> You can improve upon this using the tensor tree formulation by
>>>>>>>> setting the -t3 or -t4 option.  If your system produces an isotropic
>>>>>>>> distribution (i.e., you can rotate the system about its center with no
>>>>>>>> change to the output), you can try "genBSDF -t3 6" or so.  In the more
>>>>>>>> general case, you can use "genBSDF -t4 6", which will resolve the direct
>>>>>>>> component to within a few degrees.  You can increase to "-t4 7" to get
>>>>>>>> twice the resolution, but you'll have to increase the -c parameter as well,
>>>>>>>> and I can't predict when the calculation will finish.
>>>>>>>>
>>>>>>>> The real solution is to incorporate and employ the actual system
>>>>>>>> geometry using the proxy method described near slide 7 in my 2011 workshop
>>>>>>>> presentation:
>>>>>>>>
>>>>>>>>
>>>>>>>> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>>>>>>>>
>>>>>>>> Cheers,
>>>>>>>> -Greg
>>>>>>>>
>>>>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>>>>
>>>>>>>> *Date: *February 16, 2013 11:49:09 AM PST
>>>>>>>>
>>>>>>>> *
>>>>>>>> *
>>>>>>>>
>>>>>>>> Hi Lars,
>>>>>>>>
>>>>>>>> considering that the specular transmission is that light that does
>>>>>>>> not touch any surface, the analytical solution would be the exact one (am I
>>>>>>>> right?). Also, HERE<http://windows.lbl.gov/materials/optics/Bidirectional%20Properties%20of%20Slat%20Shading.pdf>,
>>>>>>>> those results were compared agains TracePro, and the results of the forward
>>>>>>>> ray-tracing gave, basically, the same results as the model I am using.
>>>>>>>>
>>>>>>>> THANKS
>>>>>>>>
>>>>>>>> German
>>>>>>>>
>>>>>>>> 2013/2/16 Lars O. Grobe <grobe at gmx.net>
>>>>>>>>
>>>>>>>>> Hi German!
>>>>>>>>>
>>>>>>>>> > I am using genBSDF to get the BTDF of a shading system,
>>>>>>>>> comparing it to
>>>>>>>>> > an analytical model using the radiosity method. No surprise, the
>>>>>>>>> > calculations seem to be really good, nevertheless, there are some
>>>>>>>>> > important differences on directly transmitted (specular)
>>>>>>>>> calculations. I
>>>>>>>>>
>>>>>>>>> Why do you think that "an analytical model using the radiosity
>>>>>>>>> method"
>>>>>>>>> results in "better" results than raytracing does for specular
>>>>>>>>> transmission?
>>>>>>>>>
>>>>>>>>> Cheers, Lars.
>>>>>>>>>
>>>>>>>>>
>>>>>>>> ---------------------------
>>>>>>>>
>>>>>>>> *From: *Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>>>>>>
>>>>>>>> *Date: *February 16, 2013 7:06:26 AM PST
>>>>>>>>
>>>>>>>> *
>>>>>>>> *
>>>>>>>>
>>>>>>>> Dear list,
>>>>>>>>
>>>>>>>> I am using genBSDF to get the BTDF of a shading system, comparing
>>>>>>>> it to an analytical model using the radiosity method. No surprise, the
>>>>>>>> calculations seem to be really good, nevertheless, there are some important
>>>>>>>> differences on directly transmitted (specular) calculations. I am using the
>>>>>>>> following parameters:
>>>>>>>>
>>>>>>>> genBSDF -n 4 -c 4000 -r '-ab 4 -ad 512 -as 0 -aa 0 -ds 0.01 -dj 0'
>>>>>>>> material.mat geometry.rad > ../TMX/file.xml
>>>>>>>>
>>>>>>>> I tried modifying the -c option, but it did not show any
>>>>>>>> improvements, so I stayed on 4000. Any suggestions from gurus?
>>>>>>>>
>>>>>>>> THANKS
>>>>>>>>
>>>>>>>> German
>>>>>>>>
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> Radiance-general mailing list
>>>>>>>> Radiance-general at radiance-online.org
>>>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>>>
>>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Radiance-general mailing list
>>>>>>> Radiance-general at radiance-online.org
>>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Radiance-general mailing list
>>>>>>> Radiance-general at radiance-online.org
>>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>>
>>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130222/cf29b275/attachment-0001.html>

From grobe at gmx.net  Sat Feb 23 04:56:27 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat, 23 Feb 2013 13:56:27 +0100
Subject: [Radiance-general] Strange results
In-Reply-To: <CAC4Zz-KmbJ81rfvdp6p14vpcqwtb86ZPQaQMy8B3DsTewRGB5A@mail.gmail.com>
References: <CAC4Zz-KCqoByAbNfi2bBYL4-Djx9djUNWwb=6SFGkiraqWs=3w@mail.gmail.com>
	<512799BF.2000400@gmx.net>
	<CAC4Zz-KmbJ81rfvdp6p14vpcqwtb86ZPQaQMy8B3DsTewRGB5A@mail.gmail.com>
Message-ID: <5128BC7B.7090202@gmx.net>

Hi Catarina!

I would count Ecotect as one of the building simulation systems 
including an interface to Radiance. It is not a free one (unlike others, 
e.g. Openstudio, Esp-r, ...).

You may want to have a look at Livi, which is a Radiance interface for 
Blender. It looks pretty cool... Artificial lighting is handled by 
adding an IES candela distribution data block to Blender's lamp object.

http://arts.brighton.ac.uk/research/office-for-spatial-research/projects2/livi

Besides that it is a good idea to at least once "understand" Radiance 
without an user interface. The frontends are all nice and polished, and 
give the impression that things are easier than using text files and 
commands. But they also hide critical aspects, setting some defaults or 
making assumptions that one should at least be aware of. Take a look at 
the tutorial section at www.radiance-online.org, especially the two 
tutorials by Axel are a perfect start!

Cheers, Lars.
> I have already think to use the Radiance. Daysim is not good for me 
> because I also want to simulate artificial light. I read somewhere 
> that I can insert my model in use Autodesk Ecotect Analysis software 
> and the export it and simulate with the Radiance. Is this right?


From m.v.laarhoven at student.tue.nl  Mon Feb 25 05:09:29 2013
From: m.v.laarhoven at student.tue.nl (Laarhoven, M. van)
Date: Mon, 25 Feb 2013 13:09:29 +0000
Subject: [Radiance-general] Standard monitor file from Radiance website;
	how to use it?
Message-ID: <DE46D9B5CE328142B74007B522D5E6FA1C1CE765@XSERVER22B.campus.tue.nl>

Hello,

I want to create a simple basic office room with a table and a computer screen in the middle. I found a standard file of a flat screen monitor on the radiance website: http://www.radiance-online.org/pipermail/radiance-general/2007-March/004241.html
With the 6 files:
VDThead.rad

VDTon.rad

VDTscreen_on.rad

VDToff.rad

VDTscreen_off.rad

VDT.mat

(and also here: http://www.radiance-online.org/pipermail/radiance-general/2006-July/003845.html)

Unfortunately, it doesn't seem to work..
When I enter: " oconv VDToff.rad VDT.mat VDTscreen_off.rad > test.oct  "

I get the following result:
" oconv: fatal - (!xform -rx -10 -t 0 0 12 VDThead.rad VDTscreen_off.rad): undefined modifier "VDT_plastic" "

Does anybody know what am I doing wrong here?

Thank you in advance!

Kind regards, Mirjam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130225/8858e374/attachment.html>

From Raphael.Compagnon at hefr.ch  Mon Feb 25 05:43:35 2013
From: Raphael.Compagnon at hefr.ch (=?iso-8859-1?Q?Compagnon_Rapha=EBl?=)
Date: Mon, 25 Feb 2013 13:43:35 +0000
Subject: [Radiance-general] RE : Standard monitor file from Radiance website;
 how to use it?
In-Reply-To: <DE46D9B5CE328142B74007B522D5E6FA1C1CE765@XSERVER22B.campus.tue.nl>
References: <DE46D9B5CE328142B74007B522D5E6FA1C1CE765@XSERVER22B.campus.tue.nl>
Message-ID: <A6691D7EACBAC74589C1134EB0758B7F2EF2C375@HEFRMBX01.sofr.hefr.lan>

Hi

I don't know these files but according to their names it seems that you should reorder the file names in your oconv command so that all materials definitions (apparently contained in the VDT.mat file) appear before the geometry files.

This means that you should simply change:
oconv VDToff.rad VDT.mat VDTscreen_off.rad > test.oct
into:
oconv VDT.mat VDToff.rad VDTscreen_off.rad > test.oct

Hope this will help you

Rapha?l


From aitorleceta at gmail.com  Tue Feb 26 15:49:38 2013
From: aitorleceta at gmail.com (leceta)
Date: Wed, 27 Feb 2013 00:49:38 +0100
Subject: [Radiance-general] Problem with rtrace in Windows/Dos
Message-ID: <CAOhSWL753eQEj0BeMKE95ME1QCdvTqgEf=Kcuaj0EUTL4OMy8g@mail.gmail.com>

Hi all,

i?am using radiance package installed via Diva for rhino 1.9 (i guess) in
windows7 64 professional

I want to make some simple calculations like those i?ll describe via Dos
command line

1- set the working directory where all my files are (obj, rad, oct, ies,
dat, pts)
2- obj2rad works fine
3- ies2rad also fine
4- oconv also

but a simplified rtrace calculation like this

5- rtrace filename.oct<filename.pts>filename.dat

gives me as result a file with just the header but no irradiance values for
the points in filename.pts

anyone knows what i?m doing wrong.

It?s because i?m not using cygwin, i mean, is the problem with my radiance
for window distribution? it woldn?t be the case as long as Diva is using
rtrace for its calculations without problems. At least it use to...

any hint or advice would be much apreciated

thanks
aitor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/4a965238/attachment.html>

From aitorleceta at gmail.com  Tue Feb 26 16:09:51 2013
From: aitorleceta at gmail.com (leceta)
Date: Wed, 27 Feb 2013 01:09:51 +0100
Subject: [Radiance-general] RE : Standard monitor file from Radiance website;
	how to use it?
Message-ID: <CAOhSWL5Rzo25_uiDXT5w-r+BUyy5c6wEXBTZMJtuKWCTuu3OWw@mail.gmail.com>

you need to input the material file (i guess it is VTD.mat)  before the
geometry files

try in this way, it should work...


oconv VDT.mat VDToff.rad VDTscreen_off.rad > test.oct
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/9cf30207/attachment.html>

From Allison.Bygott at megroup.com  Tue Feb 26 16:31:27 2013
From: Allison.Bygott at megroup.com (Allison Bygott)
Date: Wed, 27 Feb 2013 00:31:27 +0000
Subject: [Radiance-general] Randance and different sky descriptions
Message-ID: <56E12CDDB5240046AE58C03053BBF162389F63AE@Exchange-oma.meg.local>

Hello.

I have been evaluating a couple of different software programs that interface with Radiance. Unfortunately, my "standard" test models aren't producing the same results in each software; the results are different by at least a factor of 2. I'm trying to understand how each software is separately using Radiance to come up with daylight results. I believe this requires an understanding of how the sky files are generated. I spent some time today poking around the Radiance-online mailing lists, looking for sky file content clues, but I suspect that some of these concepts are above me. I did review the gensky document dated 4/24/98 and I found it informative. I'm hoping that the community might provide some insight on the content of two "comparable" sky files; please see below:

Software 1:

!gensky 3 21 12.01 +s -a 40.03 -o 105.28 -m 105.00

skyfunc glow skyglow
0
0
4  0.7  0.8  1.0 0

skyglow source sky
0
0
4 0 0 1 180

skyfunc glow grndglow
0
0
4 0.05 0.1 0.07 0

grndglow source ground
0
0
4 0 0 -1 180



Software 2:

void light solar
0
0
3 11009526.873677 11009526.873677 11009526.873677

solar source sun
0
0
4 0.039983 -0.647611 0.760921 0.5

void brightfunc skyfunc
2 skybr IES_skybright.cal
0
7 1 15.092265 18.041592 0.649859 0.039983 -0.647611 0.760921

skyfunc glow skyglow
0
0
4 0.989 0.989 1.159 0

skyglow source sky
0
0
4 0.0 0.0 1.0 180

skyfunc glow groundglow
0
0
4 1.0 1.0 1.0 0

groundglow source ground
0
0
4 0.0 0.0 -1.0 180


Thank you. I appreciate any thoughts on the matter.


[Element Logo 4-27-12.png]<http://www.megroup.com/>

ALLISON BYGOTT, PE, LC, LEED-AP

ENGINEER

t: 303.382.1920 x4132

www.megroup.com<http://www.megroup.com>

[Signature Twitter]<https://twitter.com/#!/megroup>  [Signature LinkedIn Logo] <http://www.linkedin.com/company/m-e-group>





________________________________

CONFIDENTIALITY NOTICE: This e-mail and any attached file(s) are intended only for the use of the individual or entity to whom or to which it is addressed and may contain information that is privileged, confidential, proprietary, and trade secret. If the reader of this message is not the intended recipient or an employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any dissemination, distribution, or reproduction of this communication is strictly prohibited. If you have received this communication in error, please notify us immediately and discard the original message and any attachment(s).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/0bb70bc8/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 3575 bytes
Desc: image002.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/0bb70bc8/attachment-0001.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.jpg
Type: image/jpeg
Size: 752 bytes
Desc: image004.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/0bb70bc8/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.jpg
Type: image/jpeg
Size: 784 bytes
Desc: image006.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/0bb70bc8/attachment-0003.jpg>

From rob.guglielmetti at gmail.com  Tue Feb 26 17:56:59 2013
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Tue, 26 Feb 2013 18:56:59 -0700
Subject: [Radiance-general] Randance and different sky descriptions
In-Reply-To: <56E12CDDB5240046AE58C03053BBF162389F63AE@Exchange-oma.meg.local>
References: <56E12CDDB5240046AE58C03053BBF162389F63AE@Exchange-oma.meg.local>
Message-ID: <3834D500-2676-4C9C-B6D1-589B0C0889E8@gmail.com>

Hi Allison,

Nice to see you on the list! So what you have here is two different ways of specifying the sky. The first form ("Software 1"), the gensky command is given inline (hence the '!' that precedes the gensky command), and the STDOUT (which contains the skyfunc and the sun source description) are then passed on to the celestial hemisphere sky and ground primitives. In the second form, that STDOUT is explicitly listed in the sky description. If you simply try the "Software 1" sky description's gensky command at the command line, you get:

command:
gensky 3 21 12.01 +s -a 40.03 -o 105.28 -m 105.00

output (STDOUT):
# gensky 3 21 12.01 +s -a 40.03 -o 105.28 -m 105.00
# Local solar time: 11.87
# Solar altitude and azimuth: 49.5 -3.1
# Ground ambient level: 15.0

void light solar
0
0
3 6.88e+06 6.88e+06 6.88e+06

solar source sun
0
0
4 0.034560 -0.648139 0.760737 0.5

void brightfunc skyfunc
2 skybr skybright.cal
0
7 1 1.09e+01 2.30e+01 6.50e-01 0.034560 -0.648139 0.760737


You can see that these sections bear a resemblance to the first sections in your "Software 2" sky description in format, but not in value(s). Again, these are the bits that define the luminous sky and ground hemispheres, as well as the position and intensity of the sun. So clearly the Software 2 gensky input is different from the Software 1 gensky input. I can't back out what Software 2's gensky input must have looked like, although I'm sure a few people on this list may be able to. THe bigger issue is we need to know some more details about your test case, and the relative differences in the reported values from one software tool to the next. It would also be helpful to know what tools you are using, and how you are using them, rather than just trying to reverse engineer the inputs. 

- Rob



 

On Feb 26, 2013, at 5:31 PM, Allison Bygott <Allison.Bygott at megroup.com> wrote:

> Hello.
>  
> I have been evaluating a couple of different software programs that interface with Radiance. Unfortunately, my "standard" test models aren't producing the same results in each software; the results are different by at least a factor of 2. I'm trying to understand how each software is separately using Radiance to come up with daylight results. I believe this requires an understanding of how the sky files are generated. I spent some time today poking around the Radiance-online mailing lists, looking for sky file content clues, but I suspect that some of these concepts are above me. I did review the gensky document dated 4/24/98 and I found it informative. I'm hoping that the community might provide some insight on the content of two "comparable" sky files; please see below:
>  
> Software 1:
>  
> !gensky 3 21 12.01 +s -a 40.03 -o 105.28 -m 105.00
>  
> skyfunc glow skyglow
> 0
> 0
> 4  0.7  0.8  1.0 0
>  
> skyglow source sky
> 0
> 0
> 4 0 0 1 180
>  
> skyfunc glow grndglow
> 0
> 0
> 4 0.05 0.1 0.07 0
>  
> grndglow source ground
> 0
> 0
> 4 0 0 -1 180
>  
>  
>  
> Software 2:
>  
> void light solar
> 0
> 0
> 3 11009526.873677 11009526.873677 11009526.873677
>  
> solar source sun
> 0
> 0
> 4 0.039983 -0.647611 0.760921 0.5
>  
> void brightfunc skyfunc
> 2 skybr IES_skybright.cal
> 0
> 7 1 15.092265 18.041592 0.649859 0.039983 -0.647611 0.760921
>  
> skyfunc glow skyglow
> 0
> 0
> 4 0.989 0.989 1.159 0
>  
> skyglow source sky
> 0
> 0
> 4 0.0 0.0 1.0 180
>  
> skyfunc glow groundglow
> 0
> 0
> 4 1.0 1.0 1.0 0
>  
> groundglow source ground
> 0
> 0
> 4 0.0 0.0 -1.0 180
>  
>  
> Thank you. I appreciate any thoughts on the matter.
>  
> <image002.png>
> 
> ALLISON BYGOTT, PE, LC, LEED-AP
> ENGINEER
> t: 303.382.1920 x4132
> www.megroup.com
> <image004.jpg><image006.jpg>
>  
>  
> 
> 
> CONFIDENTIALITY NOTICE: This e-mail and any attached file(s) are intended only for the use of the individual or entity to whom or to which it is addressed and may contain information that is privileged, confidential, proprietary, and trade secret. If the reader of this message is not the intended recipient or an employee or agent responsible for delivering the message to the intended recipient, you are hereby notified that any dissemination, distribution, or reproduction of this communication is strictly prohibited. If you have received this communication in error, please notify us immediately and discard the original message and any attachment(s).
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Tue Feb 26 18:58:58 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 26 Feb 2013 18:58:58 -0800
Subject: [Radiance-general] Randance and different sky descriptions
In-Reply-To: <3834D500-2676-4C9C-B6D1-589B0C0889E8@gmail.com>
References: <56E12CDDB5240046AE58C03053BBF162389F63AE@Exchange-oma.meg.local>
	<3834D500-2676-4C9C-B6D1-589B0C0889E8@gmail.com>
Message-ID: <495A50F5-C6D8-463F-96A2-6E8EFEAA5B28@lmi.net>

Does "Software 2" still have the "# gensky ..." line in it?  That would tell you what parameters generated the output.

-Greg


> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
> Date: February 26, 2013 5:56:59 PM PST
> 
> Hi Allison,
> 
> Nice to see you on the list! So what you have here is two different ways of specifying the sky. The first form ("Software 1"), the gensky command is given inline (hence the '!' that precedes the gensky command), and the STDOUT (which contains the skyfunc and the sun source description) are then passed on to the celestial hemisphere sky and ground primitives. In the second form, that STDOUT is explicitly listed in the sky description. If you simply try the "Software 1" sky description's gensky command at the command line, you get:
> 
> command:
> gensky 3 21 12.01 +s -a 40.03 -o 105.28 -m 105.00
> 
> output (STDOUT):
> # gensky 3 21 12.01 +s -a 40.03 -o 105.28 -m 105.00
> # Local solar time: 11.87
> # Solar altitude and azimuth: 49.5 -3.1
> # Ground ambient level: 15.0
> 
> void light solar
> 0
> 0
> 3 6.88e+06 6.88e+06 6.88e+06
> 
> solar source sun
> 0
> 0
> 4 0.034560 -0.648139 0.760737 0.5
> 
> void brightfunc skyfunc
> 2 skybr skybright.cal
> 0
> 7 1 1.09e+01 2.30e+01 6.50e-01 0.034560 -0.648139 0.760737
> 
> 
> You can see that these sections bear a resemblance to the first sections in your "Software 2" sky description in format, but not in value(s). Again, these are the bits that define the luminous sky and ground hemispheres, as well as the position and intensity of the sun. So clearly the Software 2 gensky input is different from the Software 1 gensky input. I can't back out what Software 2's gensky input must have looked like, although I'm sure a few people on this list may be able to. THe bigger issue is we need to know some more details about your test case, and the relative differences in the reported values from one software tool to the next. It would also be helpful to know what tools you are using, and how you are using them, rather than just trying to reverse engineer the inputs. 
> 
> - Rob
> 
> 
> 
> 
> 
> On Feb 26, 2013, at 5:31 PM, Allison Bygott <Allison.Bygott at megroup.com> wrote:
> 
>> Hello.
>> 
>> I have been evaluating a couple of different software programs that interface with Radiance. Unfortunately, my "standard" test models aren't producing the same results in each software; the results are different by at least a factor of 2. I'm trying to understand how each software is separately using Radiance to come up with daylight results. I believe this requires an understanding of how the sky files are generated. I spent some time today poking around the Radiance-online mailing lists, looking for sky file content clues, but I suspect that some of these concepts are above me. I did review the gensky document dated 4/24/98 and I found it informative. I'm hoping that the community might provide some insight on the content of two "comparable" sky files; please see below:
>> 
>> Software 1:
>> 
>> !gensky 3 21 12.01 +s -a 40.03 -o 105.28 -m 105.00
>> 
>> skyfunc glow skyglow
>> 0
>> 0
>> 4  0.7  0.8  1.0 0
>> 
>> skyglow source sky
>> 0
>> 0
>> 4 0 0 1 180
>> 
>> skyfunc glow grndglow
>> 0
>> 0
>> 4 0.05 0.1 0.07 0
>> 
>> grndglow source ground
>> 0
>> 0
>> 4 0 0 -1 180
>> 
>> 
>> 
>> Software 2:
>> 
>> void light solar
>> 0
>> 0
>> 3 11009526.873677 11009526.873677 11009526.873677
>> 
>> solar source sun
>> 0
>> 0
>> 4 0.039983 -0.647611 0.760921 0.5
>> 
>> void brightfunc skyfunc
>> 2 skybr IES_skybright.cal
>> 0
>> 7 1 15.092265 18.041592 0.649859 0.039983 -0.647611 0.760921
>> 
>> skyfunc glow skyglow
>> 0
>> 0
>> 4 0.989 0.989 1.159 0
>> 
>> skyglow source sky
>> 0
>> 0
>> 4 0.0 0.0 1.0 180
>> 
>> skyfunc glow groundglow
>> 0
>> 0
>> 4 1.0 1.0 1.0 0
>> 
>> groundglow source ground
>> 0
>> 0
>> 4 0.0 0.0 -1.0 180
>> 
>> 
>> Thank you. I appreciate any thoughts on the matter.
>> 
>> <image002.png>
>> 
>> ALLISON BYGOTT, PE, LC, LEED-AP
>> ENGINEER
>> t: 303.382.1920 x4132
>> www.megroup.com
>> <image004.jpg><image006.jpg>


From J.Mardaljevic at lboro.ac.uk  Wed Feb 27 01:18:53 2013
From: J.Mardaljevic at lboro.ac.uk (John Mardaljevic)
Date: Wed, 27 Feb 2013 09:18:53 +0000
Subject: [Radiance-general] Randance and different sky descriptions
Message-ID: <AE2C06A5D4A79244AA0AB930A5BFD04B147FB3D3@ITSMBX-3.lunet.lboro.ac.uk>

Hi Allison,

Are these tests related to using lighting simulation for compliance purposes, e.g. LEED 'clear sky', ASHRAE?  If so, caution is advised -- see sections on LEED & ASHRAE here:

http://climate-based-daylighting.com/doku.php?id=academic:daylight-compliance

Best
John

John Mardaljevic PhD FSLL
Professor of Building Daylight Modelling
School of Civil & Building Engineering
Loughborough University
Loughborough
Leicestershire
LE11 3TU, UK

Tel: +44 1509 222630 (Direct)
Tel: +44 1509 228529 (Pam Allen, secretary)

j.mardaljevic at lboro.ac.uk
http://www.lboro.ac.uk/departments/cv/staff/profile/367.html

Personal daylighting website:
http://climate-based-daylighting.com



From anniesim at surbana.com  Wed Feb 27 01:25:43 2013
From: anniesim at surbana.com (Sim Swee Ling Annie)
Date: Wed, 27 Feb 2013 17:25:43 +0800
Subject: [Radiance-general] Desktop radiance Glare Analysis: Pcond
Message-ID: <OF391D99AF.38999B60-ON48257B1F.00308605-48257B1F.0033A66E@surbana.com>

Hi all,

I was trying to run glare analysis via Desktop Radiance for glazing with 2 
different VLT:

a) VLT = 30
b) VLT = 60

The type used for these glazing are kept as default --> "glass".

1) For the first analysis, I have adjusted the exposure for both images in 
order to reflect more accurate visual view showing the differences between 
clear and darker glass.

The glare index via UGR shows:

a) VLT 30 = 36
b) VLT 60 = 44

2) For the second analysis, on top adjusting the exposure, I have also 
used "pcond -h" on the images.

The glare index via UGR shows:

a) VLT 30 = 0
b) VLT 60 = 0

Looking at the comparison of the results above, I am not sure whether 
"pcond -h" should be used prior to glare analysis. Should the glare 
analysis be done on raw images without "pcond -h"? ......although it was 
stated that "pcond -h" will create a view that mimic human responses.

Would really appreciate any sharing or help on this!

Thanks in advance!

Cheers,

Ann
If you are not the email's intended recipient, kindly inform the sender 
and delete it. 
The email may contain confidential information which should not be 
retained, nor disclosed to another individual. 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/da4ab0b9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 29720 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/da4ab0b9/attachment-0001.gif>

From grobe at gmx.net  Wed Feb 27 02:11:57 2013
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 27 Feb 2013 11:11:57 +0100
Subject: [Radiance-general] Desktop radiance Glare Analysis: Pcond
In-Reply-To: <OF391D99AF.38999B60-ON48257B1F.00308605-48257B1F.0033A66E@surbana.com>
References: <OF391D99AF.38999B60-ON48257B1F.00308605-48257B1F.0033A66E@surbana.com>
Message-ID: <512DDBED.2030208@gmx.net>

Hi Ann,

first, Desktop Radiance is unsupported and has not been updated for 
ages. Avoid using it, there are better, supported software around based 
on current versions of Radiance.

Second, glare analysis is based on the pixel values. Thus I would not 
adjust anything in images that are supposed to be used for analysis. To 
make sure that you are working with original pixel values, use pcomb -o 
: pcomb -o filtered.hdr > raw.hdr and use raw.hdr as input for all your 
analysis.

But: Images generated by pcond -h can NOT be used for such analysis, and 
as far as I know, there is no way to revert the changes made to the 
pixel values. The idea behind pcond -h is to give a visual impression 
what an scene would be perceived like by a human observer, which 
requires changes to the pixel values beyond exposure settings.

Cheers, Lars.


From Christopher.Rush at arup.com  Wed Feb 27 06:31:58 2013
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Wed, 27 Feb 2013 09:31:58 -0500
Subject: [Radiance-general] Desktop radiance Glare Analysis: Pcond
In-Reply-To: <512DDBED.2030208@gmx.net>
References: <OF391D99AF.38999B60-ON48257B1F.00308605-48257B1F.0033A66E@surbana.com>
	<512DDBED.2030208@gmx.net>
Message-ID: <28285BAEA8C0814DBF1B199C876EC5B052BD821F34@AMXEXC01.global.arup.com>

I would suggest it is good practice when using pcond -h to save the image as a low dynamic range file rather than .pic or .hdr, since pcond is meant to create nice looking pictures, not useful data.
e.g.
pcond -h image.hdr | ra_ppm | convert ppm:- image.jpg

That way you never mix up .pic or .hdr files that contain adjusted and incorrect data values.

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses



From rob.guglielmetti at gmail.com  Wed Feb 27 07:20:28 2013
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Wed, 27 Feb 2013 08:20:28 -0700
Subject: [Radiance-general] Desktop radiance Glare Analysis: Pcond
In-Reply-To: <28285BAEA8C0814DBF1B199C876EC5B052BD821F34@AMXEXC01.global.arup.com>
References: <OF391D99AF.38999B60-ON48257B1F.00308605-48257B1F.0033A66E@surbana.com>
	<512DDBED.2030208@gmx.net>
	<28285BAEA8C0814DBF1B199C876EC5B052BD821F34@AMXEXC01.global.arup.com>
Message-ID: <195BD997-411F-43E6-A8F8-2D0902C30408@gmail.com>

THat's a good idea, Chris. I usually make it a habit to name my tone mapped .hdr files with a suffix that indicates to me that it's been run through the pixel wringer, and of course the header will also indicate that the image is the product of pond, but your method eliminates the middle man. =)

- Rob

On Feb 27, 2013, at 7:31 AM, Christopher Rush <Christopher.Rush at arup.com> wrote:

> I would suggest it is good practice when using pcond -h to save the image as a low dynamic range file rather than .pic or .hdr, since pcond is meant to create nice looking pictures, not useful data.
> e.g.
> pcond -h image.hdr | ra_ppm | convert ppm:- image.jpg
> 
> That way you never mix up .pic or .hdr files that contain adjusted and incorrect data values.
> 
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Wed Feb 27 08:54:31 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 27 Feb 2013 08:54:31 -0800
Subject: [Radiance-general] Desktop radiance Glare Analysis: Pcond
In-Reply-To: <28285BAEA8C0814DBF1B199C876EC5B052BD821F34@AMXEXC01.global.arup.com>
References: <OF391D99AF.38999B60-ON48257B1F.00308605-48257B1F.0033A66E@surbana.com>
	<512DDBED.2030208@gmx.net>
	<28285BAEA8C0814DBF1B199C876EC5B052BD821F34@AMXEXC01.global.arup.com>
Message-ID: <0B7E4D77-C725-42D3-87A8-4D043193DBF9@lmi.net>

That's a good practice, and one I follow as well.  Since pcond output is meant to be sent to a printer or low dynamic-range display device, converting it to a lower bit-depth at the same time makes perfect sense.  Some of the programs that convert to such formats have built-in tone-mappers that are similar to pcond but less sophisticated and faster.  See the ra_bmp '-e' option and the normtiff command.

-Greg

> From: Christopher Rush <Christopher.Rush at arup.com>
> Date: February 27, 2013 6:31:58 AM PST
> 
> I would suggest it is good practice when using pcond -h to save the image as a low dynamic range file rather than .pic or .hdr, since pcond is meant to create nice looking pictures, not useful data.
> e.g.
> pcond -h image.hdr | ra_ppm | convert ppm:- image.jpg
> 
> That way you never mix up .pic or .hdr files that contain adjusted and incorrect data values.
> 
----------
> From: "Sim Swee Ling Annie" <anniesim at surbana.com>
> Date: February 27, 2013 1:25:43 AM PST
> Hi all, 
> 
> I was trying to run glare analysis via Desktop Radiance for glazing with 2 different VLT: 
> 
> a) VLT = 30 
> b) VLT = 60 
> 
> The type used for these glazing are kept as default --> "glass". 
> 
> 1) For the first analysis, I have adjusted the exposure for both images in order to reflect more accurate visual view showing the differences between clear and darker glass. 
> 
> The glare index via UGR shows: 
> 
> a) VLT 30 = 36 
> b) VLT 60 = 44 
> 
> 2) For the second analysis, on top adjusting the exposure, I have also used "pcond -h" on the images. 
> 
> The glare index via UGR shows: 
> 
> a) VLT 30 = 0 
> b) VLT 60 = 0 
> 
> Looking at the comparison of the results above, I am not sure whether "pcond -h" should be used prior to glare analysis. Should the glare analysis be done on raw images without "pcond -h"? ......although it was stated that "pcond -h" will create a view that mimic human responses. 
> 
> Would really appreciate any sharing or help on this! 
> 
> Thanks in advance! 
> 
> Cheers, 
> 
> Ann


From aitorleceta at gmail.com  Wed Feb 27 09:54:24 2013
From: aitorleceta at gmail.com (leceta)
Date: Wed, 27 Feb 2013 18:54:24 +0100
Subject: [Radiance-general] Fwd: Problem with rtrace in Windows/Dos
In-Reply-To: <CAOhSWL753eQEj0BeMKE95ME1QCdvTqgEf=Kcuaj0EUTL4OMy8g@mail.gmail.com>
References: <CAOhSWL753eQEj0BeMKE95ME1QCdvTqgEf=Kcuaj0EUTL4OMy8g@mail.gmail.com>
Message-ID: <CAOhSWL4YQxFnjhY5P=weZGcYVNAabAxi25_X_kcrQsPiY006Mw@mail.gmail.com>

solved,

was my bad, pts file was incorrect (comma separated values)  : S

it takes me 4 days to catch this silly problem!

cheers
aitor leceta

---------- Forwarded message ----------
From: leceta <aitorleceta at gmail.com>
Date: 2013/2/27
Subject: Problem with rtrace in Windows/Dos
To: radiance-general at radiance-online.org


Hi all,

i?am using radiance package installed via Diva for rhino 1.9 (i guess) in
windows7 64 professional

I want to make some simple calculations like those i?ll describe via Dos
command line

1- set the working directory where all my files are (obj, rad, oct, ies,
dat, pts)
2- obj2rad works fine
3- ies2rad also fine
4- oconv also

but a simplified rtrace calculation like this

5- rtrace filename.oct<filename.pts>filename.dat

gives me as result a file with just the header but no irradiance values for
the points in filename.pts

anyone knows what i?m doing wrong.

It?s because i?m not using cygwin, i mean, is the problem with my radiance
for window distribution? it woldn?t be the case as long as Diva is using
rtrace for its calculations without problems. At least it use to...

any hint or advice would be much apreciated

thanks
aitor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/7f092d10/attachment.html>

From aitorleceta at gmail.com  Wed Feb 27 09:56:35 2013
From: aitorleceta at gmail.com (leceta)
Date: Wed, 27 Feb 2013 18:56:35 +0100
Subject: [Radiance-general] Problem with rtrace in Windows/Dos
In-Reply-To: <CAOhSWL4YQxFnjhY5P=weZGcYVNAabAxi25_X_kcrQsPiY006Mw@mail.gmail.com>
References: <CAOhSWL753eQEj0BeMKE95ME1QCdvTqgEf=Kcuaj0EUTL4OMy8g@mail.gmail.com>
	<CAOhSWL4YQxFnjhY5P=weZGcYVNAabAxi25_X_kcrQsPiY006Mw@mail.gmail.com>
Message-ID: <CAOhSWL6zhhHEj0+vzoKSeeuUQQZWPB0wix2Ec7bBPcBHAuk9Ww@mail.gmail.com>

I wonder why rtrace?s stderr was not giving me any information.

is this normal?


2013/2/27 leceta <aitorleceta at gmail.com>

> solved,
>
> was my bad, pts file was incorrect (comma separated values)  : S
>
> it takes me 4 days to catch this silly problem!
>
> cheers
> aitor leceta
>
>
> ---------- Forwarded message ----------
> From: leceta <aitorleceta at gmail.com>
> Date: 2013/2/27
> Subject: Problem with rtrace in Windows/Dos
> To: radiance-general at radiance-online.org
>
>
> Hi all,
>
> i?am using radiance package installed via Diva for rhino 1.9 (i guess) in
> windows7 64 professional
>
> I want to make some simple calculations like those i?ll describe via Dos
> command line
>
> 1- set the working directory where all my files are (obj, rad, oct, ies,
> dat, pts)
> 2- obj2rad works fine
> 3- ies2rad also fine
> 4- oconv also
>
> but a simplified rtrace calculation like this
>
> 5- rtrace filename.oct<filename.pts>filename.dat
>
> gives me as result a file with just the header but no irradiance values
> for the points in filename.pts
>
> anyone knows what i?m doing wrong.
>
> It?s because i?m not using cygwin, i mean, is the problem with my radiance
> for window distribution? it woldn?t be the case as long as Diva is using
> rtrace for its calculations without problems. At least it use to...
>
> any hint or advice would be much apreciated
>
> thanks
> aitor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/8a6fa84c/attachment-0001.html>

From gregoryjward at gmail.com  Wed Feb 27 10:07:27 2013
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 27 Feb 2013 10:07:27 -0800
Subject: [Radiance-general] Problem with rtrace in Windows/Dos
In-Reply-To: <CAOhSWL6zhhHEj0+vzoKSeeuUQQZWPB0wix2Ec7bBPcBHAuk9Ww@mail.gmail.com>
References: <CAOhSWL753eQEj0BeMKE95ME1QCdvTqgEf=Kcuaj0EUTL4OMy8g@mail.gmail.com>
	<CAOhSWL4YQxFnjhY5P=weZGcYVNAabAxi25_X_kcrQsPiY006Mw@mail.gmail.com>
	<CAOhSWL6zhhHEj0+vzoKSeeuUQQZWPB0wix2Ec7bBPcBHAuk9Ww@mail.gmail.com>
Message-ID: <AB184C6D-29D5-4BDB-8FFD-12ECF32E665D@lmi.net>

Hi Aitor,

There probably should be a special message when the input doesn't match what's expected in rtrace.  No one has really complained about it before, though I'm sure it's not the first time it has come up.

-Greg

> From: leceta <aitorleceta at gmail.com>
> Date: February 27, 2013 9:56:35 AM PST
> 
> I wonder why rtrace?s stderr was not giving me any information.
> 
> is this normal?
> 
> 
> 2013/2/27 leceta <aitorleceta at gmail.com>
> solved, 
> 
> was my bad, pts file was incorrect (comma separated values)  : S
> 
> it takes me 4 days to catch this silly problem! 
> 
> cheers
> aitor leceta
> 
> 
> ---------- Forwarded message ----------
> From: leceta <aitorleceta at gmail.com>
> Date: 2013/2/27
> Subject: Problem with rtrace in Windows/Dos
> To: radiance-general at radiance-online.org
> 
> 
> Hi all, 
> 
> i?am using radiance package installed via Diva for rhino 1.9 (i guess) in windows7 64 professional
> 
> I want to make some simple calculations like those i?ll describe via Dos command line
> 
> 1- set the working directory where all my files are (obj, rad, oct, ies, dat, pts)
> 2- obj2rad works fine
> 3- ies2rad also fine
> 4- oconv also
> 
> but a simplified rtrace calculation like this
> 
> 5- rtrace filename.oct<filename.pts>filename.dat
> 
> gives me as result a file with just the header but no irradiance values for the points in filename.pts
> 
> anyone knows what i?m doing wrong.
> 
> It?s because i?m not using cygwin, i mean, is the problem with my radiance for window distribution? it woldn?t be the case as long as Diva is using rtrace for its calculations without problems. At least it use to...
> 
> any hint or advice would be much apreciated
> 
> thanks
> aitor
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/eb59445d/attachment.html>

From anniesim at surbana.com  Wed Feb 27 22:32:42 2013
From: anniesim at surbana.com (Sim Swee Ling Annie)
Date: Thu, 28 Feb 2013 14:32:42 +0800
Subject: [Radiance-general] Radiance-general Digest, Vol 108, Issue 29
In-Reply-To: <mailman.48.1361987818.2068.radiance-general@radiance-online.org>
References: <mailman.48.1361987818.2068.radiance-general@radiance-online.org>
Message-ID: <OF4ED19DB9.25BFE730-ON48257B20.00084313-48257B20.0023CCE4@surbana.com>

Thanks all for the advise & help!

Understand now that pcond -h is mainly for visual purpose. Hence, does 
that also meant the exposure settings should not be adjusted (for 
comparison of clear and darker glass)? 

I am currently using the Desktop Radiance via Ecotect plug-in. Is there a 
recommendation to which free tool available I can use that still allow me 
to do glare analysis for an Ecotect model with better accuracy? 

Have downloaded "radiance-4.2.a-win32.exe" but not too sure where to 
start... What is the application difference with the Ecotect desktop 
radiance plug-in I am using now. Am I supposed to generate an image via 
Ecotect and use command prompt to run the analysis or there is another 
tool I would need to download?

Cheers,
Ann




 
 Your Ref


 Our Ref 



Classification :

radiance-general-request at radiance-online.org
28/02/2013 01:56 AM
Please respond to radiance-general

To
radiance-general at radiance-online.org
cc

Subject
Radiance-general Digest, Vol 108, Issue 29


Send Radiance-general mailing list submissions to
                 radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
                 
http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
                 radiance-general-request at radiance-online.org

You can reach the person managing the list at
                 radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: Desktop radiance Glare Analysis: Pcond (Lars O. Grobe)
   2. Re: Desktop radiance Glare Analysis: Pcond (Christopher Rush)
   3. Re: Desktop radiance Glare Analysis: Pcond (Rob Guglielmetti)
   4. Re: Desktop radiance Glare Analysis: Pcond (Greg Ward)
   5. Fwd: Problem with rtrace in Windows/Dos (leceta)
   6. Re: Problem with rtrace in Windows/Dos (leceta)


----------------------------------------------------------------------

Message: 1
Date: Wed, 27 Feb 2013 11:11:57 +0100
From: "Lars O. Grobe" <grobe at gmx.net>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Desktop radiance Glare Analysis: Pcond
Message-ID: <512DDBED.2030208 at gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Hi Ann,

first, Desktop Radiance is unsupported and has not been updated for 
ages. Avoid using it, there are better, supported software around based 
on current versions of Radiance.

Second, glare analysis is based on the pixel values. Thus I would not 
adjust anything in images that are supposed to be used for analysis. To 
make sure that you are working with original pixel values, use pcomb -o 
: pcomb -o filtered.hdr > raw.hdr and use raw.hdr as input for all your 
analysis.

But: Images generated by pcond -h can NOT be used for such analysis, and 
as far as I know, there is no way to revert the changes made to the 
pixel values. The idea behind pcond -h is to give a visual impression 
what an scene would be perceived like by a human observer, which 
requires changes to the pixel values beyond exposure settings.

Cheers, Lars.



------------------------------

Message: 2
Date: Wed, 27 Feb 2013 09:31:58 -0500
From: Christopher Rush <Christopher.Rush at arup.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Desktop radiance Glare Analysis: Pcond
Message-ID:
 <28285BAEA8C0814DBF1B199C876EC5B052BD821F34 at AMXEXC01.global.arup.com>
Content-Type: text/plain; charset="us-ascii"

I would suggest it is good practice when using pcond -h to save the image 
as a low dynamic range file rather than .pic or .hdr, since pcond is meant 
to create nice looking pictures, not useful data.
e.g.
pcond -h image.hdr | ra_ppm | convert ppm:- image.jpg

That way you never mix up .pic or .hdr files that contain adjusted and 
incorrect data values.

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses




------------------------------

Message: 3
Date: Wed, 27 Feb 2013 08:20:28 -0700
From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Desktop radiance Glare Analysis: Pcond
Message-ID: <195BD997-411F-43E6-A8F8-2D0902C30408 at gmail.com>
Content-Type: text/plain; charset=us-ascii

THat's a good idea, Chris. I usually make it a habit to name my tone 
mapped .hdr files with a suffix that indicates to me that it's been run 
through the pixel wringer, and of course the header will also indicate 
that the image is the product of pond, but your method eliminates the 
middle man. =)

- Rob

On Feb 27, 2013, at 7:31 AM, Christopher Rush <Christopher.Rush at arup.com> 
wrote:

> I would suggest it is good practice when using pcond -h to save the 
image as a low dynamic range file rather than .pic or .hdr, since pcond is 
meant to create nice looking pictures, not useful data.
> e.g.
> pcond -h image.hdr | ra_ppm | convert ppm:- image.jpg
> 
> That way you never mix up .pic or .hdr files that contain adjusted and 
incorrect data values.
> 
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general




------------------------------

Message: 4
Date: Wed, 27 Feb 2013 08:54:31 -0800
From: Greg Ward <gregoryjward at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Desktop radiance Glare Analysis: Pcond
Message-ID: <0B7E4D77-C725-42D3-87A8-4D043193DBF9 at lmi.net>
Content-Type: text/plain; charset=us-ascii

That's a good practice, and one I follow as well.  Since pcond output is 
meant to be sent to a printer or low dynamic-range display device, 
converting it to a lower bit-depth at the same time makes perfect sense. 
Some of the programs that convert to such formats have built-in 
tone-mappers that are similar to pcond but less sophisticated and faster. 
See the ra_bmp '-e' option and the normtiff command.

-Greg

> From: Christopher Rush <Christopher.Rush at arup.com>
> Date: February 27, 2013 6:31:58 AM PST
> 
> I would suggest it is good practice when using pcond -h to save the 
image as a low dynamic range file rather than .pic or .hdr, since pcond is 
meant to create nice looking pictures, not useful data.
> e.g.
> pcond -h image.hdr | ra_ppm | convert ppm:- image.jpg
> 
> That way you never mix up .pic or .hdr files that contain adjusted and 
incorrect data values.
> 
----------
> From: "Sim Swee Ling Annie" <anniesim at surbana.com>
> Date: February 27, 2013 1:25:43 AM PST
> Hi all, 
> 
> I was trying to run glare analysis via Desktop Radiance for glazing with 
2 different VLT: 
> 
> a) VLT = 30 
> b) VLT = 60 
> 
> The type used for these glazing are kept as default --> "glass". 
> 
> 1) For the first analysis, I have adjusted the exposure for both images 
in order to reflect more accurate visual view showing the differences 
between clear and darker glass. 
> 
> The glare index via UGR shows: 
> 
> a) VLT 30 = 36 
> b) VLT 60 = 44 
> 
> 2) For the second analysis, on top adjusting the exposure, I have also 
used "pcond -h" on the images. 
> 
> The glare index via UGR shows: 
> 
> a) VLT 30 = 0 
> b) VLT 60 = 0 
> 
> Looking at the comparison of the results above, I am not sure whether 
"pcond -h" should be used prior to glare analysis. Should the glare 
analysis be done on raw images without "pcond -h"? ......although it was 
stated that "pcond -h" will create a view that mimic human responses. 
> 
> Would really appreciate any sharing or help on this! 
> 
> Thanks in advance! 
> 
> Cheers, 
> 
> Ann



------------------------------

Message: 5
Date: Wed, 27 Feb 2013 18:54:24 +0100
From: leceta <aitorleceta at gmail.com>
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Fwd: Problem with rtrace in Windows/Dos
Message-ID:
 <CAOhSWL4YQxFnjhY5P=weZGcYVNAabAxi25_X_kcrQsPiY006Mw at mail.gmail.com>
Content-Type: text/plain; charset="iso-8859-1"

solved,

was my bad, pts file was incorrect (comma separated values)  : S

it takes me 4 days to catch this silly problem!

cheers
aitor leceta

---------- Forwarded message ----------
From: leceta <aitorleceta at gmail.com>
Date: 2013/2/27
Subject: Problem with rtrace in Windows/Dos
To: radiance-general at radiance-online.org


Hi all,

i?am using radiance package installed via Diva for rhino 1.9 (i guess) in
windows7 64 professional

I want to make some simple calculations like those i?ll describe via Dos
command line

1- set the working directory where all my files are (obj, rad, oct, ies,
dat, pts)
2- obj2rad works fine
3- ies2rad also fine
4- oconv also

but a simplified rtrace calculation like this

5- rtrace filename.oct<filename.pts>filename.dat

gives me as result a file with just the header but no irradiance values 
for
the points in filename.pts

anyone knows what i?m doing wrong.

It?s because i?m not using cygwin, i mean, is the problem with my radiance
for window distribution? it woldn?t be the case as long as Diva is using
rtrace for its calculations without problems. At least it use to...

any hint or advice would be much apreciated

thanks
aitor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <
http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/7f092d10/attachment-0001.html
>

------------------------------

Message: 6
Date: Wed, 27 Feb 2013 18:56:35 +0100
From: leceta <aitorleceta at gmail.com>
To: radiance-general at radiance-online.org
Subject: Re: [Radiance-general] Problem with rtrace in Windows/Dos
Message-ID:
 <CAOhSWL6zhhHEj0+vzoKSeeuUQQZWPB0wix2Ec7bBPcBHAuk9Ww at mail.gmail.com>
Content-Type: text/plain; charset="iso-8859-1"

I wonder why rtrace?s stderr was not giving me any information.

is this normal?


2013/2/27 leceta <aitorleceta at gmail.com>

> solved,
>
> was my bad, pts file was incorrect (comma separated values)  : S
>
> it takes me 4 days to catch this silly problem!
>
> cheers
> aitor leceta
>
>
> ---------- Forwarded message ----------
> From: leceta <aitorleceta at gmail.com>
> Date: 2013/2/27
> Subject: Problem with rtrace in Windows/Dos
> To: radiance-general at radiance-online.org
>
>
> Hi all,
>
> i?am using radiance package installed via Diva for rhino 1.9 (i guess) 
in
> windows7 64 professional
>
> I want to make some simple calculations like those i?ll describe via Dos
> command line
>
> 1- set the working directory where all my files are (obj, rad, oct, ies,
> dat, pts)
> 2- obj2rad works fine
> 3- ies2rad also fine
> 4- oconv also
>
> but a simplified rtrace calculation like this
>
> 5- rtrace filename.oct<filename.pts>filename.dat
>
> gives me as result a file with just the header but no irradiance values
> for the points in filename.pts
>
> anyone knows what i?m doing wrong.
>
> It?s because i?m not using cygwin, i mean, is the problem with my 
radiance
> for window distribution? it woldn?t be the case as long as Diva is using
> rtrace for its calculations without problems. At least it use to...
>
> any hint or advice would be much apreciated
>
> thanks
> aitor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <
http://www.radiance-online.org/pipermail/radiance-general/attachments/20130227/8a6fa84c/attachment.html
>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 108, Issue 29
*************************************************

If you are not the email's intended recipient, kindly inform the sender 
and delete it. 
The email may contain confidential information which should not be 
retained, nor disclosed to another individual. 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/cfb63864/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 29720 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/cfb63864/attachment-0001.gif>

From anniesim at surbana.com  Wed Feb 27 22:39:18 2013
From: anniesim at surbana.com (Sim Swee Ling Annie)
Date: Thu, 28 Feb 2013 14:39:18 +0800
Subject: [Radiance-general]  Desktop radiance Glare Analysis: Pcond
Message-ID: <OFBB114093.A1231466-ON48257B20.00246EB5-48257B20.0024674E@surbana.com>

Thanks all for the advise & help!

Understand now that pcond -h is mainly for visual purpose. Hence, does 
that also meant the exposure settings should not be adjusted (for 
comparison of clear and darker glass)? 

I am currently using the Desktop Radiance via Ecotect plug-in. Is there a 
recommendation to which free tool available I can use that still allow me 
to do glare analysis for an Ecotect model with better accuracy? 

Have downloaded "radiance-4.2.a-win32.exe" but not too sure where to 
start... What is the application difference with the Ecotect desktop 
radiance plug-in I am using now. Am I supposed to generate an image via 
Ecotect and use command prompt to run the analysis or there is another 
tool I would need to download?

Cheers,
Ann


If you are not the email's intended recipient, kindly inform the sender 
and delete it. 
The email may contain confidential information which should not be 
retained, nor disclosed to another individual. 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/f5dd7fb4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 29720 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/f5dd7fb4/attachment-0001.gif>

From zrogers at daylightinginnovations.com  Thu Feb 28 12:58:22 2013
From: zrogers at daylightinginnovations.com (Zack Rogers)
Date: Thu, 28 Feb 2013 13:58:22 -0700
Subject: [Radiance-general] Randance and different sky descriptions
In-Reply-To: <56E12CDDB5240046AE58C03053BBF162389F63AE@Exchange-oma.meg.local>
References: <56E12CDDB5240046AE58C03053BBF162389F63AE@Exchange-oma.meg.local>
Message-ID: <CAAP856xUx1L7EAg9MTNDB5iMsPrO53P0vqi7f9zySSL-zyCo+A@mail.gmail.com>

Hi Allison,

I have been doing some comparisons of some of these new daylight simulation
approaches recently as well.  What we are seeing here is really why I
created an IES_gensky.py module that comes with SPOT and creates a clear,
pt cldy, and cldy skies according to IESNA recommendations (pre handbook
10, not sure if there were any changes).  Software 2 (SPOT) uses
IES_gensky.py (and IES_skybright.cal) for it's "design day" calculations
and we are seeing the output from that.  It then uses weather data to
adjust for its annual or specific day calculations.  In creating SPOT we
felt these "design day" skies were still good to review as it can give a
better idea of the extremes a space might see.  Relying solely on Perez
skies and weather data skies might not yield a perfectly sunny winter
solstice and while this may certainly be representative of a given climate
(Seattle ;-) one cannot claim a sunny winter equinox will never exist.  Now
the town might be outside celebrating if this ever happens, making it all a
moot point, but I digress...

Here are the numbers I get for a Boulder, CO equinox clear and sunny sky at
noon from TMY2 weather data, IES_gensky, and gensky
Weather data = 7,893fc
IES_gensky (5,000elev) = 9,416fc
IES_gensky (0) = 8212fc
gensky = 5823fc

Your current SPOT sky is almost 2x that of gensky which should explain much
of your interior discrepancies.  This sky did have an elevation adjustment
for 5,000ft.  I would recommend taking that out and just using 0 elevation
which results in exact IES recommendations.  The elevation factor was
derived from a weather study for higher elevation locations, and while I
think it works ok for really high elevations and high sun angles (it
matches our high mountain Colorado skies fairly well during the summer
months) it does not seem to help the Boulder sky.  I guess there is too
much smoke in the air ;-)

I also looked at the difference in distribution and found none - which is
good as they both should be using the CIE recommended clear sky
distributions, just not the same magnitude.  I put the sky definitions into
files and ran:
oconv 3_21_12.01_1.sky >  SPOTsky.oct
rpict @calc.opt -vta -vp 0 0 0 -vd 0 0 1 -vu 0 1 0 -vv 180 -vh 180 -x 1250
-y 1250  SPOTsky.oct >  SPOTsky.hdr
oconv e12pm_gensky.sky >  Gensky.oct
rpict @calc.opt -vta -vp 0 0 0 -vd 0 0 1 -vu 0 1 0 -vv 180 -vh 180 -x 1250
-y 1250  Gensky.oct >  Gensky.hdr
pcomb -e "ro=ri(1)/ri(2);go=gi(1)/gi(2);bo=bi(1)/bi(2)" SPOTsky.hdr
Gensky.hdr > SPOTgen_ratio.hdr (single back quotes on linux)

you can compare resulting illuminance (in fc) from these skies for global
and all orientations like so:
echo 0 0 0 0 0 1 | rtrace @calc.opt -h -I -faa -ov  SPOTsky.oct | rcalc -e
"$1=$1*4.40805+$2*11.1436+$3*1.07777" >  SPOTsky.dat
echo 0 0 0 1 0 0 | rtrace @calc.opt -h -I -faa -ov  SPOTsky.oct | rcalc -e
"$1=$1*4.40805+$2*11.1436+$3*1.07777" >  SPOTskyE.dat
echo 0 0 0 0 -1 0 | rtrace @calc.opt -h -I -faa -ov  SPOTsky.oct | rcalc -e
"$1=$1*4.40805+$2*11.1436+$3*1.07777" >  SPOTskyS.dat
echo 0 0 0 -1 0 0 | rtrace @calc.opt -h -I -faa -ov  SPOTsky.oct | rcalc -e
"$1=$1*4.40805+$2*11.1436+$3*1.07777" >  SPOTskyW.dat
echo 0 0 0 0 1 0 | rtrace @calc.opt -h -I -faa -ov  SPOTsky.oct | rcalc -e
"$1=$1*4.40805+$2*11.1436+$3*1.07777" >  SPOTskyN.dat

I hope this helps.

Regards,
Zack


On Tue, Feb 26, 2013 at 5:31 PM, Allison Bygott
<Allison.Bygott at megroup.com>wrote:

>  Hello.
>
>
>
> I have been evaluating a couple of different software programs that
> interface with Radiance. Unfortunately, my "standard" test models aren't
> producing the same results in each software; the results are different by
> at least a factor of 2. I'm trying to understand how each software is
> separately using Radiance to come up with daylight results. I believe this
> requires an understanding of how the sky files are generated. I spent some
> time today poking around the Radiance-online mailing lists, looking for sky
> file content clues, but I suspect that some of these concepts are above me.
> I did review the gensky document dated 4/24/98 and I found it informative.
> I'm hoping that the community might provide some insight on the content of
> two "comparable" sky files; please see below:
>
>
>
> Software 1:
>
>
>
> !gensky 3 21 12.01 +s -a 40.03 -o 105.28 -m 105.00
>
>
>
> skyfunc glow skyglow
>
> 0
>
> 0
>
> 4  0.7  0.8  1.0 0
>
>
>
> skyglow source sky
>
> 0
>
> 0
>
> 4 0 0 1 180
>
>
>
> skyfunc glow grndglow
>
> 0
>
> 0
>
> 4 0.05 0.1 0.07 0
>
>
>
> grndglow source ground
>
> 0
>
> 0
>
> 4 0 0 -1 180
>
>
>
>
>
>
>
> Software 2:
>
>
>
> void light solar
>
> 0
>
> 0
>
> 3 11009526.873677 11009526.873677 11009526.873677
>
>
>
> solar source sun
>
> 0
>
> 0
>
> 4 0.039983 -0.647611 0.760921 0.5
>
>
>
> void brightfunc skyfunc
>
> 2 skybr IES_skybright.cal
>
> 0
>
> 7 1 15.092265 18.041592 0.649859 0.039983 -0.647611 0.760921
>
>
>
> skyfunc glow skyglow
>
> 0
>
> 0
>
> 4 0.989 0.989 1.159 0
>
>
>
> skyglow source sky
>
> 0
>
> 0
>
> 4 0.0 0.0 1.0 180
>
>
>
> skyfunc glow groundglow
>
> 0
>
> 0
>
> 4 1.0 1.0 1.0 0
>
>
>
> groundglow source ground
>
> 0
>
> 0
>
> 4 0.0 0.0 -1.0 180
>
>
>
>
>
> Thank you. I appreciate any thoughts on the matter.
>
>
>
> [image: Element Logo 4-27-12.png] <http://www.megroup.com/>
>
> ALLISON BYGOTT, PE, LC, LEED-AP
>
> ENGINEER
>
> t: 303.382.1920 x4132
>
> www.megroup.com
>
> [image: Signature Twitter] <https://twitter.com/#!/megroup>  [image:
> Signature LinkedIn Logo] <http://www.linkedin.com/company/m-e-group>
>
>
>
>
>
> ------------------------------
>
> CONFIDENTIALITY NOTICE: This e-mail and any attached file(s) are intended
> only for the use of the individual or entity to whom or to which it is
> addressed and may contain information that is privileged, confidential,
> proprietary, and trade secret. If the reader of this message is not the
> intended recipient or an employee or agent responsible for delivering the
> message to the intended recipient, you are hereby notified that any
> dissemination, distribution, or reproduction of this communication is
> strictly prohibited. If you have received this communication in error,
> please notify us immediately and discard the original message and any
> attachment(s).
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
Zack Rogers, P.E., LEED AP BD+C
Daylighting Innovations, LLC
211 North Public Road, Suite 220
Lafayette, CO 80026
(303)946-2310
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/8e776718/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 3575 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/8e776718/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.jpg
Type: image/jpeg
Size: 784 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/8e776718/attachment.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.jpg
Type: image/jpeg
Size: 752 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/8e776718/attachment-0001.jpg>

From zrogers at daylightinginnovations.com  Thu Feb 28 13:10:45 2013
From: zrogers at daylightinginnovations.com (Zack Rogers)
Date: Thu, 28 Feb 2013 14:10:45 -0700
Subject: [Radiance-general] Randance and different sky descriptions
In-Reply-To: <AE2C06A5D4A79244AA0AB930A5BFD04B147FB3D3@ITSMBX-3.lunet.lboro.ac.uk>
References: <AE2C06A5D4A79244AA0AB930A5BFD04B147FB3D3@ITSMBX-3.lunet.lboro.ac.uk>
Message-ID: <CAAP856wnkJu06JZai12dbRjhXZbpWcCFf1nkQEOa9XrrUddSZQ@mail.gmail.com>

Hi John, a quick comment on this study.  While I agree it is not written up
very clearly, I do believe LEED intended a "clear sky" to be an IESNA
defined clear sky that would have a solar disc included and would use the
IES standardized formulas for deriving the diffuse (via a zenith luminance)
and direct illuminances.  LEED v4.0 (yet to be released) has this new
sDA/ASE thing, have you had a chance to give that a spin?  The challenge
seems to be in simulating blind control.

Cheers,
Zack


On Wed, Feb 27, 2013 at 2:18 AM, John Mardaljevic <J.Mardaljevic at lboro.ac.uk
> wrote:

> Hi Allison,
>
> Are these tests related to using lighting simulation for compliance
> purposes, e.g. LEED 'clear sky', ASHRAE?  If so, caution is advised -- see
> sections on LEED & ASHRAE here:
>
>
> http://climate-based-daylighting.com/doku.php?id=academic:daylight-compliance
>
> Best
> John
>
> John Mardaljevic PhD FSLL
> Professor of Building Daylight Modelling
> School of Civil & Building Engineering
> Loughborough University
> Loughborough
> Leicestershire
> LE11 3TU, UK
>
> Tel: +44 1509 222630 (Direct)
> Tel: +44 1509 228529 (Pam Allen, secretary)
>
> j.mardaljevic at lboro.ac.uk
> http://www.lboro.ac.uk/departments/cv/staff/profile/367.html
>
> Personal daylighting website:
> http://climate-based-daylighting.com
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
Zack Rogers, P.E., LEED AP BD+C
Daylighting Innovations, LLC
211 North Public Road, Suite 220
Lafayette, CO 80026
(303)946-2310
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/c45bc642/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Thu Feb 28 14:13:17 2013
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 28 Feb 2013 15:13:17 -0700
Subject: [Radiance-general] Randance and different sky descriptions
In-Reply-To: <CAAP856xUx1L7EAg9MTNDB5iMsPrO53P0vqi7f9zySSL-zyCo+A@mail.gmail.com>
Message-ID: <CD551C1A.1AE8E%robert.guglielmetti@nrel.gov>

Wow, thanks for this investigation, Zack! Replies below.

On 2/28/13 1:58 PM, "Zack Rogers" <zrogers at daylightinginnovations.com<mailto:zrogers at daylightinginnovations.com>> wrote:

Here are the numbers I get for a Boulder, CO equinox clear and sunny sky at noon from TMY2 weather data, IES_gensky, and gensky
Weather data = 7,893fc
IES_gensky (5,000elev) = 9,416fc
IES_gensky (0) = 8212fc
gensky = 5823fc

Wow, that's quite a spread. Might be interesting to throw in an "ideally clear" day using the Perez model and see where that ends up on this continuum -- and then go from there, because clearly this should be discussed further.

You should be able to find an ideally clear direct normal/diffuse horizontal pair of values hovering around the Equinox for Boulder in the TMY/EPW set. When you see something like a 10:1 ratio between the direct normal and the diffuse horizontal irradiance, you can bet you're looking at a cloudless sky ? certainly an unobscured sun, and vice-versa for a Portland/Seattle (er, overcast) sky.  See this link for example:

https://www.dropbox.com/s/ri505ka29rr6knq/perez_skies.pdf

This is for Summer Solstice, but you get the idea. Somewhere near the Equinox there should be a day where this 10:1 ratio is evident, and you could use that day and value pair with gensky, IES_gensky, and gendaylit and see what you get. Since gensky can also take these values as input (and presumably so can IES_gensky but I'm not certain), this might give us more of an "apples to apples" comparison. Also when using direct input of irradiance, you obviously don't want to use the cool elevation correction in IES_gensky, since the actual elevation of the instrumentation handles this for you. =)

- Rob




From J.Mardaljevic at lboro.ac.uk  Thu Feb 28 14:40:19 2013
From: J.Mardaljevic at lboro.ac.uk (John Mardaljevic)
Date: Thu, 28 Feb 2013 22:40:19 +0000
Subject: [Radiance-general] Randance and different sky descriptions
Message-ID: <AE2C06A5D4A79244AA0AB930A5BFD04B147FDCC6@ITSMBX-3.lunet.lboro.ac.uk>

Hi Zack,

I was completely bemused by the original LEED 2.2 'clear sky' option when I first read it.  Whatever may have been intended, since no supplementary data were given, prospective users have had to guess what the formulators of the option had in mind.  I believe that one or more commercial software packages do indeed predict for a clear sky without sun when the 'clear sky' option is selected.  To my mind, the ASHRAE option, which allows the user to select either clear or overcast skies, makes matters worse rather than better.  The draft LEED v4.0 is definitely a step in the right direction -- or, at least, the part where the evaluation is founded on a full year.  However, you are right to flag that simulating blind control is a big (think: really HUGE) issue since so much of the outcome depends on the initial assumptions.  The accurate evaluation of blinds is doubly confounded: once by the uncertainty regarding when users lower blinds and by how much; and, secondly by the huge sensitivity of blind photometric properties (BSDF) to relatively subtle (and largely unpredictable) users tweaks of, say, the slat-tilt.

I believe we also share the concern that the draft formulation might do little, if anything, to encourage the selection of an effective static shading design over a floor-to-ceiling glass box with blinds.

Radiance-general might no be the most appropriate place to have these issues aired/debated, but I'm not aware that it's happening anywhere else.  Also, Radiance, or rather gensky, seems to be being replied upon to perform a task for which it was never designed, i.e. generating 'snap-shot' sky conditions for compliance purposes.

Cheerio
John

John Mardaljevic PhD FSLL
Professor of Building Daylight Modelling
School of Civil & Building Engineering
Loughborough University
Loughborough
Leicestershire
LE11 3TU, UK

Tel: +44 1509 222630 (Direct)
Tel: +44 1509 228529 (Pam Allen, secretary)

j.mardaljevic at lboro.ac.uk<mailto:j.mardaljevic at lboro.ac.uk>
http://www.lboro.ac.uk/departments/cv/staff/profile/367.html<http://www.lboro.ac.uk/departments/cv/>

Personal daylighting website:
http://climate-based-daylighting.com<http://climate-based-daylighting.com/>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/6831959a/attachment.html>

From zrogers at daylightinginnovations.com  Thu Feb 28 16:07:04 2013
From: zrogers at daylightinginnovations.com (Zack Rogers)
Date: Thu, 28 Feb 2013 17:07:04 -0700
Subject: [Radiance-general] Randance and different sky descriptions
In-Reply-To: <CD551C1A.1AE8E%robert.guglielmetti@nrel.gov>
References: <CAAP856xUx1L7EAg9MTNDB5iMsPrO53P0vqi7f9zySSL-zyCo+A@mail.gmail.com>
	<CD551C1A.1AE8E%robert.guglielmetti@nrel.gov>
Message-ID: <CAAP856y005XD4ShZqpoxB=+vArVzS7YSDmQLfCbvRCP=M6dPdA@mail.gmail.com>

Hey Rob,

So, as expected, Perez returns roughly the same illuminance fed to it.  I
used the clearest noon I could find around equinox, with a 9.76:1 (dir
nor/diff) ratio (3-19 at 12pm in the Boulder TMY2 file).  I get 8360fc
where the global illum is listed as 8259fc, which I'd say is equivalent.
 Looking at the percent difference between the resulting Perez sky and
IESNA recommendation is interesting.  The perez sky has the north horizon
roughly 1.2x brighter, the south horizon about .9X as bright, and the
circumsolar reqion about ~1.3x brighter.  The ratio image is here:
https://dl.dropbox.com/u/14937994/perezdivSPOT_fls.png  (this is the perez
sky divided by the IESNA sky for a sunny equinox at noon in Boulder, CO)

Cheers,
Zack

On Thu, Feb 28, 2013 at 3:13 PM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> Wow, thanks for this investigation, Zack! Replies below.
>
> On 2/28/13 1:58 PM, "Zack Rogers" <zrogers at daylightinginnovations.com
> <mailto:zrogers at daylightinginnovations.com>> wrote:
>
> Here are the numbers I get for a Boulder, CO equinox clear and sunny sky
> at noon from TMY2 weather data, IES_gensky, and gensky
> Weather data = 7,893fc
> IES_gensky (5,000elev) = 9,416fc
> IES_gensky (0) = 8212fc
> gensky = 5823fc
>
> Wow, that's quite a spread. Might be interesting to throw in an "ideally
> clear" day using the Perez model and see where that ends up on this
> continuum -- and then go from there, because clearly this should be
> discussed further.
>
> You should be able to find an ideally clear direct normal/diffuse
> horizontal pair of values hovering around the Equinox for Boulder in the
> TMY/EPW set. When you see something like a 10:1 ratio between the direct
> normal and the diffuse horizontal irradiance, you can bet you're looking at
> a cloudless sky ? certainly an unobscured sun, and vice-versa for a
> Portland/Seattle (er, overcast) sky.  See this link for example:
>
> https://www.dropbox.com/s/ri505ka29rr6knq/perez_skies.pdf
>
> This is for Summer Solstice, but you get the idea. Somewhere near the
> Equinox there should be a day where this 10:1 ratio is evident, and you
> could use that day and value pair with gensky, IES_gensky, and gendaylit
> and see what you get. Since gensky can also take these values as input (and
> presumably so can IES_gensky but I'm not certain), this might give us more
> of an "apples to apples" comparison. Also when using direct input of
> irradiance, you obviously don't want to use the cool elevation correction
> in IES_gensky, since the actual elevation of the instrumentation handles
> this for you. =)
>
> - Rob
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
Zack Rogers, P.E., LEED AP BD+C
Daylighting Innovations, LLC
211 North Public Road, Suite 220
Lafayette, CO 80026
(303)946-2310
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130228/95b9c9c2/attachment.html>

From tito_ at mit.edu  Mon Feb  4 08:15:09 2013
From: tito_ at mit.edu (Christoph Reinhart)
Date: Mon, 04 Feb 2013 16:15:09 -0000
Subject: [Radiance-general] DAYSIM 4.0 plus new web site
Message-ID: <1B23446CBF250648A2FC775DE3FE7E800FDFA8E5@OC11expo28.exchange.mit.edu>

Dear colleagues:

In Short


?         We have new DAYSIM version (4.0) plus web site. Check it out at http://daysim.ning.com/.

?         Andy McNeil from LBNL kindly added a new DAYSIM discussion list to Radiance Online at http://www.radiance-online.org/community/mailing-lists/archives/radiance-daysim.


For those interested in the details

Apart from offering a download link for the latest DAYSIM version, the new site also offers an interactive API documentation that describe all DAYSIM subprograms and header file keywords<http://daysim.ning.com/page/daysim-header-file>. Focus users of the site are Daysim expert users who want to go beyond the capabilities of the various DAYSIM GUIs (see below) as well as third party GUI developers who want to implement DAYSIM into their programs. The development of the site was supported by the US Department of Energy Energy-Efficiency HUB<http://www.eebhub.org/about-eebhub>. (Thank you to all US tax payers among you.) The current DAYSIM development team includes MIT, the Fraunhofer Institute for Solar Energy Systems (ISE) and Penn State University (PSU). With the new version come a few  changes and new features.

DAYSIM GUIs
Given the rising number of DAYSIM GUIs, we decided to phase out the old, rather unattractive JAVA GUI that came with the old Daysim and instead rely on third parties to develop plug-ins. In case you are still interested in using the old GUI, you can still  download Daysim 3.1e from the new web site. DAYSIM GUIs that I am aware are listed below. If your GUI is missing or if the table below misrepresents a software, please let me know.


Table 1. Overview of DAYSIM Plug-in Capabilities

Feature


DAYSIM JAVA GUI


PENN STATE JAVA GUI#


SU2RAD<http://code.google.com/p/su2rad/>


SU2DS<http://code.google.com/p/su2ds/>


AUTODESK ECOTECT<http://usa.autodesk.com/ecotect-analysis/>


DIVA-FOR-RHINO<http://diva4rhino.com/>


Climate-based Illuminance Metrics


?


?


?


?


?


?


Annual Glare Analysis


?














?


Electric Lighting Control


?


?








?


Electric lighting Systems (IES files)





?














Photo Sensor Placement





?














#Modified JAVA GUI developed by Rick Mistrick at Penn State.


Annual Glare Analysis
Daysim 4.0 includes and improved, more robust version of gen_dgp_profile<http://daysim.ning.com/subprogramgendgpprofile> written by Jan Wienold (ISE). The program calculates annual daylight glare probabilities profiles at selected view points within a scene based on a Radiance scene file, a Radiance View File and an epw weather file.


DYNAMIC SHADING MODULE
With support from SAGE Electrochromic we implemented the capability to model show shading groups independently in Daysim. This allows users to model a variety of rather complicated dynamic facades<http://daysim.ning.com/page/daysim-header-file-keyword-advanced-dynamic-shading>.


Electric Lighting
The shading module can be integrated with various electric lighting controls. Rick Mistrick (PSU) is currently expanding the list of supported controls. PSU is also working on a new DAYSIM program that allows to explicitly model and control electric light sources using IES files. There will also be a module that supports the placement of photo sensors within a scene. We expect these new programs to make their way into DAYSIM later this year.


Happy Daylight Simulations,

Christoph
Christoph Reinhart
Associate Professor
Department of Architecture
Massachusetts Institute of Technology
77 Massachusetts Ave, Rm 5-418, Cambridge, MA 02139, USA
t: 617 253 7714, f: 617 253 6152, creinhart at mit.edu<mailto:creinhart at mit.edu>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20130204/0ecc15dd/attachment-0001.html>

