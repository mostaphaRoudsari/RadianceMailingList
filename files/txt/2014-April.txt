From roland.schregle at hslu.ch  Tue Apr  1 10:12:54 2014
From: roland.schregle at hslu.ch (Schregle Roland HSLU T&A)
Date: Tue, 1 Apr 2014 19:12:54 +0200
Subject: [Radiance-general] Position as Research Associate - Envelopes and
	Solar Energy
Message-ID: <op.xdnd3sc4gbjfop@ccmse-sim>

Dear colleagues,

feel free to forward the following announcement to whoever may be  
interested.

https://recruitingapp-2678.umantis.com/Vacancies/691/Description/1

Thanks & best regards,

--Roland


-- 
Dr. Roland Schregle
Senior Research Associate

T direct: +41 41 349 39 77
roland.schregle at hslu.ch

Lucerne University of Applied Sciences and Arts
School of Engineering and Architecture
CC Envelopes and Solar Energy (EASE)
Technikumstrasse 21, CH-6048 Horw
T +41 41 349 33 11, F +41 41 349 39 60
www.hslu.ch/ccease


From vaibhavjain.co at gmail.com  Wed Apr  2 06:07:11 2014
From: vaibhavjain.co at gmail.com (Vaib)
Date: Wed, 2 Apr 2014 15:07:11 +0200
Subject: [Radiance-general] Ambient parameters optimization/tweaking
Message-ID: <CAD7gt0XsN2Gc5cJykUj0PmOi218pRrMgn0S_okSUcGFocXKzMg@mail.gmail.com>

Hello Everyone!

For my master thesis project, I have conducted an experiment to measure
daylighting/lighting illuminance on the last Equinox days in Vienna. The
room is a small hall (7mx9m), has white walls/ceilings, and only North
facing windows. I have measured reflectivity of all the surface to come
closer to the reality.

Now I have to calibrate my simulation model to match its illuminance output
with the measured illuminance, for both daylight and artificial light
condition.

For daylight, gendaylit sky model is used (listed below), and all
artificials lights are off. For this case, I have tried a number of ambient
parameter combinations (listed below), but since all windows are facing
North, the simulation model only results in 0 illuminance. When I rotated
the North offset, to face windows towards South then I get some
illuminance. From this it seems that windows North orientation is the
reason behind 0 illuminance. In measurements, these values are approx. 1500
lux.

My question is: What ambient parameters should be tweaked so that the model
behaves reasonably (especially for daylight)?

I am following Dr.John Mardaljevic's PhD for ambient parameters
combination. But I don't have much time to do an extensive parametric
analysis of these parameters.

Global, and Diffuse irradiance (for gendaylit) are taken from weather
station in place.

I have tried only rtrace. May be I shall use rsensor now ??

Thank you for your time.

Best regards,
Vaib

*Ambient parameter combinations:*
1. rtrace -w -as 512 -ar 512 -aa 0.15 -ab 2 -I -h foo.oct | rcalc -e
'$1=($1*.265+$2*.67+$3*.065)*179'

2. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -as 32 -I -h foo.oct | rcalc
-e '$1=($1*.265+$2*.67+$3*.065)*179'

3. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -ar 2 -aa 0.10 -as 32 -I -h
foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'

4. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -ar 64 -aa 0.15 -as 512 -I -h
foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'

*Gendaylit model for (12:00 time):*
# xform -rz 30
# gendaylit 03 22 12:00 -a 48.198724 -o -16.369458 -m -15.00 -W 967.3 187.2
# Ground ambient level: 33.9

void light solar
0
0
3            7791000            7791000            7791000

solar source sun
0
0
4     0.378842567554    -0.642038575073           0.666532
 0.533

void brightfunc skyfunc
6 skybright perezlum.cal -i 1 -rz 30
0
10              38.97              29.25          -0.878528
 -0.366494          12.997644           -3.44062           0.249106
  0.007068
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140402/743d5cf9/attachment.html>

From grobe at gmx.net  Wed Apr  2 06:29:29 2014
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 2 Apr 2014 15:29:29 +0200
Subject: [Radiance-general] Ambient parameters optimization/tweaking
In-Reply-To: <CAD7gt0XsN2Gc5cJykUj0PmOi218pRrMgn0S_okSUcGFocXKzMg@mail.gmail.com>
References: <CAD7gt0XsN2Gc5cJykUj0PmOi218pRrMgn0S_okSUcGFocXKzMg@mail.gmail.com>
Message-ID: <0136900C-72A1-4D68-83D0-38B0E25E6201@gmx.net>

Hi Vaib,

I highly recommend the well-known "Rendering with Radiance" which describes the way the calculations are implemented as well as crucial parameters. For the ambient calculation, all parameters beginning with the letter "a" are of importance. Runnning any Radiance command with the option "-defaults" will show the default values applied unless you override them with setting command-line parameters.

For a Nort-facing room on the Northern hemisphere (Vienna), direct sun will never be observed in the inside. The (diffuse) starts to contribute only if you set the number of bounces for the ambient calculation to at least 1 (which will consider the contribution from the sky to interior surfaces with sky visibility). To enable interreflection of the room-surfaces, the -ab setting must be higher. Try -ab 1 to -ab 6 and see at which setting your illuminance readings stabilize.

Unless you follow a very specific rendering strategy, in most cases "rad" will find rather well-tuned parameters according to the scene and the settings you configure in a "rif"-file. I would start from here, with reasonable values for indirect, detail and quality. If you want to try out the effect of a specific command line parameter, you can specify those in the "rif"-file as well using the "render" keyword. Please see the manpage and above mentioned book for details.

The setting for "-ar" seam to be low in your examples. "-ad" is high at 2048 - by pure guesswork I would have started with -ad 256 -as 128 -aa .1 -ar 64 for a room with simple windows, but this is not a good recommendation without knowing the scene. The settings for "-aa", "-ad", "-as" are interrelated and depend on the detail in the illuminance distribution that would be expected to affect your results. Again, see the book for details.

Cheers, Lars.

From amcneil at lbl.gov  Wed Apr  2 10:24:46 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Wed, 2 Apr 2014 10:24:46 -0700
Subject: [Radiance-general] Ambient parameters optimization/tweaking
In-Reply-To: <CAD7gt0XsN2Gc5cJykUj0PmOi218pRrMgn0S_okSUcGFocXKzMg@mail.gmail.com>
References: <CAD7gt0XsN2Gc5cJykUj0PmOi218pRrMgn0S_okSUcGFocXKzMg@mail.gmail.com>
Message-ID: <CAOG+NiwEFM=o1cwXtSaTKXXr7uwFdrsj+15kDFtN_Coox3GiWw@mail.gmail.com>

Hi Vaib,

I believe you have a more fundamental error in your model. gendaylit and
gensky do not create the sky source, you have to manually add a sky
material and source to your model. If you append the text at the end of
this email to your sky description I believe you will have non zero
illuminance for the north facing window. Though you will still need to
adjust ambient parameters to suit your model as Lars describes.

Best,
Andy

### Add the following to the end your sky sky description:
skyfunc glow skymat
0
0
4 1 1 1 0

skymat source skyball
0
0
4 0 0 1 360




On Wed, Apr 2, 2014 at 6:07 AM, Vaib <vaibhavjain.co at gmail.com> wrote:

> Hello Everyone!
>
> For my master thesis project, I have conducted an experiment to measure
> daylighting/lighting illuminance on the last Equinox days in Vienna. The
> room is a small hall (7mx9m), has white walls/ceilings, and only North
> facing windows. I have measured reflectivity of all the surface to come
> closer to the reality.
>
> Now I have to calibrate my simulation model to match its illuminance
> output with the measured illuminance, for both daylight and artificial
> light condition.
>
> For daylight, gendaylit sky model is used (listed below), and all
> artificials lights are off. For this case, I have tried a number of ambient
> parameter combinations (listed below), but since all windows are facing
> North, the simulation model only results in 0 illuminance. When I rotated
> the North offset, to face windows towards South then I get some
> illuminance. From this it seems that windows North orientation is the
> reason behind 0 illuminance. In measurements, these values are approx. 1500
> lux.
>
> My question is: What ambient parameters should be tweaked so that the
> model behaves reasonably (especially for daylight)?
>
> I am following Dr.John Mardaljevic's PhD for ambient parameters
> combination. But I don't have much time to do an extensive parametric
> analysis of these parameters.
>
> Global, and Diffuse irradiance (for gendaylit) are taken from weather
> station in place.
>
> I have tried only rtrace. May be I shall use rsensor now ??
>
> Thank you for your time.
>
> Best regards,
> Vaib
>
> *Ambient parameter combinations:*
> 1. rtrace -w -as 512 -ar 512 -aa 0.15 -ab 2 -I -h foo.oct | rcalc -e
> '$1=($1*.265+$2*.67+$3*.065)*179'
>
> 2. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -as 32 -I -h foo.oct | rcalc
> -e '$1=($1*.265+$2*.67+$3*.065)*179'
>
> 3. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -ar 2 -aa 0.10 -as 32 -I -h
> foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'
>
> 4. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -ar 64 -aa 0.15 -as 512 -I
> -h foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'
>
> *Gendaylit model for (12:00 time):*
> # xform -rz 30
> # gendaylit 03 22 12:00 -a 48.198724 -o -16.369458 -m -15.00 -W 967.3 187.2
> # Ground ambient level: 33.9
>
> void light solar
> 0
> 0
> 3            7791000            7791000            7791000
>
> solar source sun
> 0
> 0
> 4     0.378842567554    -0.642038575073           0.666532
>  0.533
>
> void brightfunc skyfunc
> 6 skybright perezlum.cal -i 1 -rz 30
> 0
> 10              38.97              29.25          -0.878528
>  -0.366494          12.997644           -3.44062           0.249106
>   0.007068
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140402/9357178b/attachment.html>

From Robert.Guglielmetti at nrel.gov  Wed Apr  2 10:47:49 2014
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 2 Apr 2014 11:47:49 -0600
Subject: [Radiance-general] Ambient parameters optimization/tweaking
In-Reply-To: <CAOG+NiwEFM=o1cwXtSaTKXXr7uwFdrsj+15kDFtN_Coox3GiWw@mail.gmail.com>
References: <CAD7gt0XsN2Gc5cJykUj0PmOi218pRrMgn0S_okSUcGFocXKzMg@mail.gmail.com>
	<CAOG+NiwEFM=o1cwXtSaTKXXr7uwFdrsj+15kDFtN_Coox3GiWw@mail.gmail.com>
Message-ID: <CF61A6F7.5321%robert.guglielmetti@nrel.gov>

A short add to Andy's post, you will notice Andy is defining the sky and ground hemispheres as a single 360-degree source, called "skyball".  This works because skyfunc will automatically use the ground ambient value (adjusted with the ?g option to gensky) when the ray direction vector has a negative zed value.

This is, in a word, cool.

Some more words: this means Radiance will automatically derate the "sky" luminance when a traced ray hits below the horizon, knowing that it's actually hitting the "ground", and not the sky. The default for ?g is 0.20, for a 20% reflectance ground "plane". Reasonable enough, but be advised you should really also have actual geometry to define the local exterior environment ? this includes the ground as well as neighboring buildings, so that your local ground is shaded by your building and its neighbors.

- Rob

On 4/2/14, 11:24 AM, "Andrew McNeil" <amcneil at lbl.gov<mailto:amcneil at lbl.gov>> wrote:

Hi Vaib,

I believe you have a more fundamental error in your model. gendaylit and gensky do not create the sky source, you have to manually add a sky material and source to your model. If you append the text at the end of this email to your sky description I believe you will have non zero illuminance for the north facing window. Though you will still need to adjust ambient parameters to suit your model as Lars describes.

Best,
Andy

### Add the following to the end your sky sky description:
skyfunc glow skymat
0
0
4 1 1 1 0

skymat source skyball
0
0
4 0 0 1 360




On Wed, Apr 2, 2014 at 6:07 AM, Vaib <vaibhavjain.co at gmail.com<mailto:vaibhavjain.co at gmail.com>> wrote:
Hello Everyone!

For my master thesis project, I have conducted an experiment to measure daylighting/lighting illuminance on the last Equinox days in Vienna. The room is a small hall (7mx9m), has white walls/ceilings, and only North facing windows. I have measured reflectivity of all the surface to come closer to the reality.

Now I have to calibrate my simulation model to match its illuminance output with the measured illuminance, for both daylight and artificial light condition.

For daylight, gendaylit sky model is used (listed below), and all artificials lights are off. For this case, I have tried a number of ambient parameter combinations (listed below), but since all windows are facing North, the simulation model only results in 0 illuminance. When I rotated the North offset, to face windows towards South then I get some illuminance. From this it seems that windows North orientation is the reason behind 0 illuminance. In measurements, these values are approx. 1500 lux.

My question is: What ambient parameters should be tweaked so that the model behaves reasonably (especially for daylight)?

I am following Dr.John Mardaljevic's PhD for ambient parameters combination. But I don't have much time to do an extensive parametric analysis of these parameters.

Global, and Diffuse irradiance (for gendaylit) are taken from weather station in place.

I have tried only rtrace. May be I shall use rsensor now ??

Thank you for your time.

Best regards,
Vaib

Ambient parameter combinations:
1. rtrace -w -as 512 -ar 512 -aa 0.15 -ab 2 -I -h foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'

2. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -as 32 -I -h foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'

3. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -ar 2 -aa 0.10 -as 32 -I -h foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'

4. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -ar 64 -aa 0.15 -as 512 -I -h foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'

Gendaylit model for (12:00 time):
# xform -rz 30
# gendaylit 03 22 12:00 -a 48.198724 -o -16.369458 -m -15.00 -W 967.3 187.2
# Ground ambient level: 33.9

void light solar
0
0
3            7791000            7791000            7791000

solar source sun
0
0
4     0.378842567554    -0.642038575073           0.666532              0.533

void brightfunc skyfunc
6 skybright perezlum.cal -i 1 -rz 30
0
10              38.97              29.25          -0.878528          -0.366494          12.997644           -3.44062           0.249106           0.007068

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general




From vaibhavjain.co at gmail.com  Thu Apr  3 09:15:53 2014
From: vaibhavjain.co at gmail.com (Vaib)
Date: Thu, 3 Apr 2014 18:15:53 +0200
Subject: [Radiance-general] Ambient parameters optimization/tweaking
In-Reply-To: <CF61A6F7.5321%robert.guglielmetti@nrel.gov>
References: <CAD7gt0XsN2Gc5cJykUj0PmOi218pRrMgn0S_okSUcGFocXKzMg@mail.gmail.com>
	<CAOG+NiwEFM=o1cwXtSaTKXXr7uwFdrsj+15kDFtN_Coox3GiWw@mail.gmail.com>
	<CF61A6F7.5321%robert.guglielmetti@nrel.gov>
Message-ID: <CAD7gt0VEu8_L5piR0rZwPN6CnvKa95nC2vw3cCU5jFBJsYMQRQ@mail.gmail.com>

Thank you Lars, Andrew, Rob..

After including the sky glow and source, the issue of 'no illuminance' is
solved.. That make sense..
I am now trying different ambient options based on Lars suggestion, and the
results are getting closer.. Thank you all again..

Best regards,
Vaib


On 2 April 2014 19:47, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>wrote:

> A short add to Andy's post, you will notice Andy is defining the sky and
> ground hemispheres as a single 360-degree source, called "skyball".  This
> works because skyfunc will automatically use the ground ambient value
> (adjusted with the -g option to gensky) when the ray direction vector has a
> negative zed value.
>
> This is, in a word, cool.
>
> Some more words: this means Radiance will automatically derate the "sky"
> luminance when a traced ray hits below the horizon, knowing that it's
> actually hitting the "ground", and not the sky. The default for -g is 0.20,
> for a 20% reflectance ground "plane". Reasonable enough, but be advised you
> should really also have actual geometry to define the local exterior
> environment -- this includes the ground as well as neighboring buildings, so
> that your local ground is shaded by your building and its neighbors.
>
> - Rob
>
> On 4/2/14, 11:24 AM, "Andrew McNeil" <amcneil at lbl.gov<mailto:
> amcneil at lbl.gov>> wrote:
>
> Hi Vaib,
>
> I believe you have a more fundamental error in your model. gendaylit and
> gensky do not create the sky source, you have to manually add a sky
> material and source to your model. If you append the text at the end of
> this email to your sky description I believe you will have non zero
> illuminance for the north facing window. Though you will still need to
> adjust ambient parameters to suit your model as Lars describes.
>
> Best,
> Andy
>
> ### Add the following to the end your sky sky description:
> skyfunc glow skymat
> 0
> 0
> 4 1 1 1 0
>
> skymat source skyball
> 0
> 0
> 4 0 0 1 360
>
>
>
>
> On Wed, Apr 2, 2014 at 6:07 AM, Vaib <vaibhavjain.co at gmail.com<mailto:
> vaibhavjain.co at gmail.com>> wrote:
> Hello Everyone!
>
> For my master thesis project, I have conducted an experiment to measure
> daylighting/lighting illuminance on the last Equinox days in Vienna. The
> room is a small hall (7mx9m), has white walls/ceilings, and only North
> facing windows. I have measured reflectivity of all the surface to come
> closer to the reality.
>
> Now I have to calibrate my simulation model to match its illuminance
> output with the measured illuminance, for both daylight and artificial
> light condition.
>
> For daylight, gendaylit sky model is used (listed below), and all
> artificials lights are off. For this case, I have tried a number of ambient
> parameter combinations (listed below), but since all windows are facing
> North, the simulation model only results in 0 illuminance. When I rotated
> the North offset, to face windows towards South then I get some
> illuminance. From this it seems that windows North orientation is the
> reason behind 0 illuminance. In measurements, these values are approx. 1500
> lux.
>
> My question is: What ambient parameters should be tweaked so that the
> model behaves reasonably (especially for daylight)?
>
> I am following Dr.John Mardaljevic's PhD for ambient parameters
> combination. But I don't have much time to do an extensive parametric
> analysis of these parameters.
>
> Global, and Diffuse irradiance (for gendaylit) are taken from weather
> station in place.
>
> I have tried only rtrace. May be I shall use rsensor now ??
>
> Thank you for your time.
>
> Best regards,
> Vaib
>
> Ambient parameter combinations:
> 1. rtrace -w -as 512 -ar 512 -aa 0.15 -ab 2 -I -h foo.oct | rcalc -e
> '$1=($1*.265+$2*.67+$3*.065)*179'
>
> 2. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -as 32 -I -h foo.oct | rcalc
> -e '$1=($1*.265+$2*.67+$3*.065)*179'
>
> 3. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -ar 2 -aa 0.10 -as 32 -I -h
> foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'
>
> 4. cat allSens.txt | rtrace -w -ab 7 -ad 2048 -ar 64 -aa 0.15 -as 512 -I
> -h foo.oct | rcalc -e '$1=($1*.265+$2*.67+$3*.065)*179'
>
> Gendaylit model for (12:00 time):
> # xform -rz 30
> # gendaylit 03 22 12:00 -a 48.198724 -o -16.369458 -m -15.00 -W 967.3 187.2
> # Ground ambient level: 33.9
>
> void light solar
> 0
> 0
> 3            7791000            7791000            7791000
>
> solar source sun
> 0
> 0
> 4     0.378842567554    -0.642038575073           0.666532
>  0.533
>
> void brightfunc skyfunc
> 6 skybright perezlum.cal -i 1 -rz 30
> 0
> 10              38.97              29.25          -0.878528
>  -0.366494          12.997644           -3.44062           0.249106
>   0.007068
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org<mailto:
> Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140403/f2a2afa7/attachment.html>

From sadeghipour at gmail.com  Fri Apr  4 10:33:46 2014
From: sadeghipour at gmail.com (Mostapha Sadeghipour)
Date: Fri, 4 Apr 2014 13:33:46 -0400
Subject: [Radiance-general] Honeybee Daylight Analysis Webinar - April 6
Message-ID: <CAAd_PgSAZ6_iVnDTW=qzH7UvZ04vJb_i5zMWvG37LeqJRWthGg@mail.gmail.com>

Dear Radiance Community,

As probably some of you remember I showed Honeybee as a work in progress
during the last Radiance Workshop: (
https://docs.google.com/presentation/d/1wexas-XWMWaQdEVpOmPP8oVTR3D2xRhNtLAw7M-UzsA/edit#slide=id.ge3cf2cba_673
).

We released daylighting components last month and obviously from that day I
wanted to send an email and ask for your help and feedback. It never
happened as I never get the chance to capture an illustrative video.

This Sunday (April 6) I will be teaching a workshop to cover the essential
workflows for conducting effective daylighting analysis with Honeybee.

We will stream the workshop live. It should be a good place to get started
until I capture a number of short videos.

Here is a video that shows what current version of Honeybee does (
https://www.youtube.com/watch?v=o5WNxkgL0hc).

In case you are interested check this link to find more information about
the workshop:
http://www.mebd-penndesign.info/Honeybee-MEBD-Workshop-PennDesign

Let me know if you have any questions.

Cheers,
Mostapha

PS: In case you haven't heard of Ladybug and Honeybee and you haven't click
on any of the links above here is a short description:
Honeybee is an open-source plugin for Grasshopper3D that connects
Grasshopper/Rhino to Radiance, Daysim, EnergyPlus and OpenStudio. Currently
components for Radiance and Daysim are released to the public. You can read
more about Honeybee here (
http://core.thorntontomasetti.com/honeybee-is-out-and-flying/) and check
the source code on github (https://github.com/mostaphaRoudsari/Honeybee/).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140404/be3ccf5d/attachment.html>

From em.vazifeh at gmail.com  Sun Apr  6 10:24:09 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Sun, 6 Apr 2014 19:24:09 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
Message-ID: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>

Dear All,

I try to model sky and daylight using measured data from sky scanner.

I want to know is it possible to convert radiance or luminance of each
patch to rgb and use 145 primitive of type source to model the sky? or my
assumptions are wrong?

Cheers,
Ehsan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140406/1b1617df/attachment.html>

From vaibhavjain.co at gmail.com  Sun Apr  6 10:39:33 2014
From: vaibhavjain.co at gmail.com (Vaib)
Date: Sun, 6 Apr 2014 19:39:33 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>
References: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>
Message-ID: <CAD7gt0WKO7YD8EGhaNqiu6KTg_Pv6nn++KVNTLtsP0s1qJdmZw@mail.gmail.com>

Hi Ehsan,

Dr.John Mardaljevic in his PhD study have used Sky Scanner, and I guess
also the RGB way.
The study can be found here:
http://climate-based-daylighting.com/doku.php?id=resources:thesis

Vaib


On 6 April 2014 19:24, Ehsan M.Vazifeh <em.vazifeh at gmail.com> wrote:

> Dear All,
>
> I try to model sky and daylight using measured data from sky scanner.
>
> I want to know is it possible to convert radiance or luminance of each
> patch to rgb and use 145 primitive of type source to model the sky? or my
> assumptions are wrong?
>
> Cheers,
> Ehsan
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140406/b8f88492/attachment.html>

From grobe at gmx.net  Mon Apr  7 02:05:50 2014
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 07 Apr 2014 11:05:50 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>
References: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>
Message-ID: <53426A6E.4030209@gmx.net>

Hi Ehsan,

as far as I understand the scan pattern used by the scanner is close 
enough to the Tregenza patches to use it with dctimestep and daylight 
coefficients. To get an idea of the format expected by that tool, have a 
look at the output of gendaylit.

Be aware that the sun is excluded in the measurements, so you will have 
to find a way to get the direct sun contribution. As there are no "color 
channels" in the measurement, you would use the luminance readings and 
apply them to all three channels in Radiance equally (R=G=B).

Cheers, Lars.

> Dear All,
>
> I try to model sky and daylight using measured data from sky scanner.
>
> I want to know is it possible to convert radiance or luminance of each 
> patch to rgb and use 145 primitive of type source to model the sky? or 
> my assumptions are wrong?
>
> Cheers,
> Ehsan


From em.vazifeh at gmail.com  Mon Apr  7 10:03:58 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Mon, 7 Apr 2014 19:03:58 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <53426A6E.4030209@gmx.net>
References: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>
	<53426A6E.4030209@gmx.net>
Message-ID: <CAJeoGJ7dighRusPGQQDvibGvYpS_ovCRNB3T-X7amzDYO1A3wg@mail.gmail.com>

Dear Lars,

As I understood correctly I have just distribution of diffuse using sky
scanner. So I need to include the sun separately. Now I have two questions:
1) what is 10 real arguments in the sky scene generated by gendaylit (below
you will find the example)

void    brightfunc    skyfunc
2    skybright    perezlum.cal
0
10    3.114e+01    2.426e+01    -0.989445    -0.210729    22.988    -5.9264
   1.398847    -0.010398    -0.415479    0.909543



2) why when we generate a sky for instance with sun description, we should
always include the sky scene as a glowing source otherwise the illuminance
values will be zero.

I guess I have some fundamental misunderstanding about the sky scene
description. It would be real help if I can get some explanation why this
happens.

CHeers,
Ehsan






On Mon, Apr 7, 2014 at 11:05 AM, Lars O. Grobe <grobe at gmx.net> wrote:

> Hi Ehsan,
>
> as far as I understand the scan pattern used by the scanner is close
> enough to the Tregenza patches to use it with dctimestep and daylight
> coefficients. To get an idea of the format expected by that tool, have a
> look at the output of gendaylit.
>
> Be aware that the sun is excluded in the measurements, so you will have to
> find a way to get the direct sun contribution. As there are no "color
> channels" in the measurement, you would use the luminance readings and
> apply them to all three channels in Radiance equally (R=G=B).
>
> Cheers, Lars.
>
>
>  Dear All,
>>
>> I try to model sky and daylight using measured data from sky scanner.
>>
>> I want to know is it possible to convert radiance or luminance of each
>> patch to rgb and use 145 primitive of type source to model the sky? or my
>> assumptions are wrong?
>>
>> Cheers,
>> Ehsan
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140407/c9ee777c/attachment.html>

From gmolina at hdlao.com  Mon Apr  7 10:17:43 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Mon, 7 Apr 2014 14:17:43 -0300
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CAJeoGJ7dighRusPGQQDvibGvYpS_ovCRNB3T-X7amzDYO1A3wg@mail.gmail.com>
References: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>
	<53426A6E.4030209@gmx.net>
	<CAJeoGJ7dighRusPGQQDvibGvYpS_ovCRNB3T-X7amzDYO1A3wg@mail.gmail.com>
Message-ID: <CAK+g53Cc-+FFJNqMs1ZHs2sfbOsP2R-MRexjAYL7a=9Opfd5vQ@mail.gmail.com>

Ehsan,

If you check the "perezlum.cal" file, you will see what the 10 values are:

*     All-weather Angular Sky Luminance Distribution .*

*     Additional arguments required for calculation of skybright:*

* A1 - diffus normalization*
* A2 - ground brightness*
* A3,A4,A5,A6,A7 - coefficients for the Perez model*
* A8,A9,A10 - sun direction*



Regarding your second question about why do we need to add the glow source;
that is because the material created by "gendaylit" or "gensky" is actually
a modifier. That modifier is what gives the sky semi-hemisphere and the
ground semi-hemisphere the correct luminance for each angle, representing
different sky models.

Why does not the program just write the Glow Source as well? No idea...

I hope it helps!

German


2014-04-07 14:03 GMT-03:00 Ehsan M.Vazifeh <em.vazifeh at gmail.com>:

> Dear Lars,
>
> As I understood correctly I have just distribution of diffuse using sky
> scanner. So I need to include the sun separately. Now I have two questions:
> 1) what is 10 real arguments in the sky scene generated by gendaylit
> (below you will find the example)
>
> void    brightfunc    skyfunc
> 2    skybright    perezlum.cal
> 0
> 10    3.114e+01    2.426e+01    -0.989445    -0.210729    22.988
>  -5.9264    1.398847    -0.010398    -0.415479    0.909543
>
>
>
> 2) why when we generate a sky for instance with sun description, we should
> always include the sky scene as a glowing source otherwise the illuminance
> values will be zero.
>
> I guess I have some fundamental misunderstanding about the sky scene
> description. It would be real help if I can get some explanation why this
> happens.
>
> CHeers,
> Ehsan
>
>
>
>
>
>
> On Mon, Apr 7, 2014 at 11:05 AM, Lars O. Grobe <grobe at gmx.net> wrote:
>
>> Hi Ehsan,
>>
>> as far as I understand the scan pattern used by the scanner is close
>> enough to the Tregenza patches to use it with dctimestep and daylight
>> coefficients. To get an idea of the format expected by that tool, have a
>> look at the output of gendaylit.
>>
>> Be aware that the sun is excluded in the measurements, so you will have
>> to find a way to get the direct sun contribution. As there are no "color
>> channels" in the measurement, you would use the luminance readings and
>> apply them to all three channels in Radiance equally (R=G=B).
>>
>> Cheers, Lars.
>>
>>
>>  Dear All,
>>>
>>> I try to model sky and daylight using measured data from sky scanner.
>>>
>>> I want to know is it possible to convert radiance or luminance of each
>>> patch to rgb and use 145 primitive of type source to model the sky? or my
>>> assumptions are wrong?
>>>
>>> Cheers,
>>> Ehsan
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140407/423e9417/attachment.html>

From grobe at gmx.net  Tue Apr  8 02:56:49 2014
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 08 Apr 2014 11:56:49 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CAJeoGJ7dighRusPGQQDvibGvYpS_ovCRNB3T-X7amzDYO1A3wg@mail.gmail.com>
References: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>	<53426A6E.4030209@gmx.net>
	<CAJeoGJ7dighRusPGQQDvibGvYpS_ovCRNB3T-X7amzDYO1A3wg@mail.gmail.com>
Message-ID: <5343C7E1.9020006@gmx.net>

--------
WARNING: At least one of the links in the message below goes to an .exe file, 
which could be malicious. To learn how to protect yourself, please go here:
https://commons.lbl.gov/x/_591B
--------

Hi Ehsan,
German already gave the answers, I just want to add some.
> 1) what is 10 real arguments in the sky scene generated by gendaylit 
> (below you will find the example)
For a description of the Perez sky model, see page 175 of John's thesis:

http://www.iesd.dmu.ac.uk/~jm/lib/exe/fetch.php?media=resources:mardaljevic_chap5.pdf

The ten arguments are explained in perezlum.cal:

A1 - diffus normalization
9 	A2 - ground brightness
10 	A3,A4,A5,A6,A7 - coefficients for the Perez model
11 	A8,A9,A10 - sun direction


> 2) why when we generate a sky for instance with sun description, we 
> should always include the sky scene as a glowing source otherwise the 
> illuminance values will be zero.
The sky generators in Radiance output modifiers, just as German 
mentioned. This modifiers "scale" the brightness of whatever you apply 
them to.

In most cases, you will scale a glow applied to a hemisphere (modeled as 
a distant source) of brightness 1, as the generator will give you 
brightness in absolute values by default. In this case, the result of 
the generator would directly match the sky brightness in your scene.

However, if you want color, you would first define the brightness of a 
glow material in a way that your normalize the desired color to 1, and 
than apply the modifier to this colored glow material. The modified glow 
material would keep the color you wanted, but scale this according to 
the sky model.

In other cases, if you have no geometry outside the space you are 
interested in, you can even apply the modifier to a glow of uniform 
brightness of one applied to the window-plane.

So there are many ways you can make use of the distribution, and 
including any kind of geometry into the output of the sky generator 
would just limit its applications.

Cheers, Lars.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140408/055972ff/attachment.html>

From jss5237 at gmail.com  Tue Apr  8 08:36:18 2014
From: jss5237 at gmail.com (Justin Shultz)
Date: Tue, 08 Apr 2014 11:36:18 -0400
Subject: [Radiance-general] Using Radiance to Generate Lighting and Solar
 Surface Heat Gain Schedules for EnergyPlus
Message-ID: <53441772.6030802@gmail.com>

Hello Radiance community,

My work partner and I are attempting to run EnergyPlus simulations with 
integrated daylight and solar heat gain for a dynamic CFS. After some 
previous discussions it was believed that we would use Radiance for the 
daylight simulation and then use EnergyPlus' built in 
Construction:ComplexFenestrationState module to input the BSDF. The 
daylight would be plugged into the EnergyPlus building model through the 
lighting load schedule. And the ComplexFenestrationState would be 
dynamically changed (using the same control logic) with the EnergyPlus' 
energy management system (EMS).

Recently we found the presentation from the 2011 International Radiance 
Workshop by Andy McNeil, "Using Radiance to Generate Lighting and Solar 
Surface Heat Gain Schedules for EnergyPlus". The presentation appears to 
use a different method that is more integrated with Radiance but we're 
not sure how this is done.

genBSDF "change wavelength tag from visible to NIR":
How would one go about running genBSDF for NIR? I read somewhere that 
the material properties should be changed for NIR, but we're not sure 
how to do that. Is there a hidden function that can be added to genBSDF 
to run for NIR? Should the two XMLs be integrated or kept separate?

Creating Surface Heat Gain Schedule:
How would the radiance results be used to calculate the heat gain on 
each surface? How could this be used to generate a schedule that can be 
applied to EnergyPlus?

Using Schedules in EnergyPlus:
"EnergyPls code modified to allow schedule of surface heat gains" 
(modification by Thierry Nouidui and Brian Coffey). I was wondering if 
this has be implemented, if so how? I saw in the EnergyPlus EMS manual 
that the EMS system can be used to control exterior building variable, 
is this the same system?

Sorry for the question overload, I always try to keep it short but there 
is just so much I want to learn.

Thank you for your time,
Justin



From em.vazifeh at gmail.com  Tue Apr  8 09:19:33 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Tue, 8 Apr 2014 18:19:33 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <5343C7E1.9020006@gmx.net>
References: <CAJeoGJ5qp8R62mVq6zfRk2aXjg8GjGdhW1QsksR+GOggn+qOQw@mail.gmail.com>
	<53426A6E.4030209@gmx.net>
	<CAJeoGJ7dighRusPGQQDvibGvYpS_ovCRNB3T-X7amzDYO1A3wg@mail.gmail.com>
	<5343C7E1.9020006@gmx.net>
Message-ID: <CAJeoGJ4u-8WtdjgFGv0atKL=S9QTjDf-wwQMP7pHF0eEmjingQ@mail.gmail.com>

Dear Lars and German,

It was a really a comprehensive explanation. I was always concerned about
sky model why its like that. Thank you for the quite useful and important
information you gave to me.

Cheers,
Ehsan


On Tue, Apr 8, 2014 at 11:56 AM, Lars O. Grobe <grobe at gmx.net> wrote:

> --------
> WARNING: At least one of the links in the message below goes to an .exe
> file,
> which could be malicious. To learn how to protect yourself, please go here:
> https://commons.lbl.gov/x/_591B
> --------
> Hi Ehsan,
> German already gave the answers, I just want to add some.
>
> 1) what is 10 real arguments in the sky scene generated by gendaylit
> (below you will find the example)
>
> For a description of the Perez sky model, see page 175 of John's thesis:
>
>
> http://www.iesd.dmu.ac.uk/~jm/lib/exe/fetch.php?media=resources:mardaljevic_chap5.pdf
>
> The ten arguments are explained in perezlum.cal:
>
>   A1 - diffus normalization  9 A2 - ground brightness  10 A3,A4,A5,A6,A7 -
> coefficients for the Perez model  11 A8,A9,A10 - sun direction
>
> 2) why when we generate a sky for instance with sun description, we should
> always include the sky scene as a glowing source otherwise the illuminance
> values will be zero.
>
> The sky generators in Radiance output modifiers, just as German mentioned.
> This modifiers "scale" the brightness of whatever you apply them to.
>
> In most cases, you will scale a glow applied to a hemisphere (modeled as a
> distant source) of brightness 1, as the generator will give you brightness
> in absolute values by default. In this case, the result of the generator
> would directly match the sky brightness in your scene.
>
> However, if you want color, you would first define the brightness of a
> glow material in a way that your normalize the desired color to 1, and than
> apply the modifier to this colored glow material. The modified glow
> material would keep the color you wanted, but scale this according to the
> sky model.
>
> In other cases, if you have no geometry outside the space you are
> interested in, you can even apply the modifier to a glow of uniform
> brightness of one applied to the window-plane.
>
> So there are many ways you can make use of the distribution, and including
> any kind of geometry into the output of the sky generator would just limit
> its applications.
>
> Cheers, Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140408/d38d08f3/attachment.html>

From grobe at gmx.net  Tue Apr  8 13:47:47 2014
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 8 Apr 2014 22:47:47 +0200
Subject: [Radiance-general] Using Radiance to Generate Lighting and
	Solar Surface Heat Gain Schedules for EnergyPlus
In-Reply-To: <53441772.6030802@gmail.com>
References: <53441772.6030802@gmail.com>
Message-ID: <13ED6899-A406-4CC7-B846-E26108261883@gmx.net>

Hi Justin!

> genBSDF "change wavelength tag from visible to NIR":
> How would one go about running genBSDF for NIR? I read somewhere that the material properties should be changed for NIR, but we're not sure how to do that. Is there a hidden function that can be added to genBSDF to run for NIR?

genBSDF as Radiance offer three channels. Usually we fill those with data for three bands in the visible light range and call them RGB. However you can assign them NIR if you need to. In this case, make R=G=B=NIR, meaning that you need to first define you NIR band and than use reflection / transmission measured for this band when setting up you model. Run genBSDF and the resulting output will be the BSDF in the NIR-band as you defined it. The tag mentioned is in the XML-file, open it with a text editor to change it.

Did anyone get a similar approach working with ESP-r?

Cheers, Lars.

From amcneil at lbl.gov  Tue Apr  8 14:50:40 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Tue, 8 Apr 2014 14:50:40 -0700
Subject: [Radiance-general] Using Radiance to Generate Lighting and
 Solar Surface Heat Gain Schedules for EnergyPlus
In-Reply-To: <13ED6899-A406-4CC7-B846-E26108261883@gmx.net>
References: <53441772.6030802@gmail.com>
	<13ED6899-A406-4CC7-B846-E26108261883@gmx.net>
Message-ID: <CAOG+Niymiv2ijj=j4nOxhLg2Uohss83GuLp_Y4x2niyG9cctxw@mail.gmail.com>

Justin,

genBSDF "change wavelength tag from visible to NIR":

Since that presentation the tag used by Window has been changed from NIR to
solar, so you should use solar.

Creating Surface Heat Gain Schedule:

We created a pseudo view matrix by tracing rays from the window into the
space and binning rays based on the intersection location and material
modifier. You can use genklemsamp, but have to flip the sign on the z
component of the vector.

Using Schedules in EnergyPlus:
> "EnergyPls code modified to allow schedule of surface heat gains"
> (modification by Thierry Nouidui and Brian Coffey). I was wondering if this
> has be implemented, if so how? I saw in the EnergyPlus EMS manual that the
> EMS system can be used to control exterior building variable, is this the
> same system?

The ability to schedule internal surface heat gains has been incorporated
into the trunk of EnergyPlus starting with version 8.1. The relevant
objects are:

SurfaceProperty:SolarIncidentInside
ComplexFenestrationProperty:SolarAbsorbedLayers

The built in BSDF module gives identical results as using Radiance to
determine solar absorption in the CFS layers.  However using Radiance
offers some improvement in the interior distribution of energy (though it
might not be worth using Radiance for this now that EnergyPlus has built in
BSDF capabilities).

That is the extent of my knowledge of EnergyPlus. I don't want to be
mistaken for someone who knows things about EnergyPlus.

Andy



On Tue, Apr 8, 2014 at 1:47 PM, Lars O. Grobe <grobe at gmx.net> wrote:

> Hi Justin!
>
> > genBSDF "change wavelength tag from visible to NIR":
> > How would one go about running genBSDF for NIR? I read somewhere that
> the material properties should be changed for NIR, but we're not sure how
> to do that. Is there a hidden function that can be added to genBSDF to run
> for NIR?
>
> genBSDF as Radiance offer three channels. Usually we fill those with data
> for three bands in the visible light range and call them RGB. However you
> can assign them NIR if you need to. In this case, make R=G=B=NIR, meaning
> that you need to first define you NIR band and than use reflection /
> transmission measured for this band when setting up you model. Run genBSDF
> and the resulting output will be the BSDF in the NIR-band as you defined
> it. The tag mentioned is in the XML-file, open it with a text editor to
> change it.
>
> Did anyone get a similar approach working with ESP-r?
>
> Cheers, Lars.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140408/e0aadec3/attachment.html>

From Chris.Coulter at BuroHappold.com  Tue Apr  8 14:54:21 2014
From: Chris.Coulter at BuroHappold.com (Chris Coulter)
Date: Tue, 8 Apr 2014 21:54:21 +0000
Subject: [Radiance-general] compiling bsdf2rad help
Message-ID: <CBDA7B0F3FC5354F986B71977E204BEC212D53CA@EX-MBX01.burohappold.com>

Is there any trick to compiling/using bsdf2rad? I?ve compiled from the HEAD as recent as 3/18 and it did not get compiled and/or copied over.
From my build, all make did was copy the following files from the ray/src/cv directory: ies2rad nff2rad lampcolor tmesh2rad obj2rad mgf2rad rad2mgf mgf2meta mgfilt mgfinv 3ds2mgf pabopto2bsdf bsdf2ttree bsdf2klems pkgBSDF epw2wea
I see that bsdf2rad is listed in the Rmakefile under ray/src/cv, but not included in the ?PROGS? listing (the files above are). Does this need to get edited to properly install bsdf2rad?


What is the usage of bsdf2rad? I don?t see any man page online and didn?t find one with the typical documentation in the build.


Any help/suggestions are greatly appreciated.

Chris

Chris Coulter
Senior Lighting Designer
Buro Happold Consulting Engineers
100 Broadway, 23rd Floor
New York, NY 10005
Tel: 212.334.2025
Direct: 212.616.0254
Email: chris.coulter at burohappold.com
Website: www.burohappold.com


This transmission is confidential and intended solely for the person or organization to whom it is correctly addressed. If you are not the intended recipient of this transmission, you should not take any action in reliance on it. Further, this transmission may contain confidential design and other information owned by Buro Happold LtdConsulting Engineers, P.C. (?Buro Happold?). You should not copy, distribute, use, offer for sale or hire such information or in any way infringe the design and intellectual property rights of Buro Happold Ltd. It is intended that communication by email from Buro Happold .Ltd or its employees is limited to communications connected to the services provided by Buro Happold Ltd. Buro Happold Ltd accepts no liability for any communications not connected to the services it provides. Computer viruses may be transmitted or downloaded onto your computer system via email communication. It is the recipient?s responsibility to take any action necessary to prevent computer viruses being transmitted in this way. Accordingly, Buro Happold Ltd disclaims all responsibility which arises directly or indirectly from such transmission of computer viruses. Buro Happold Consulting Engineers, P.C.Ltd.. Registered in England: 2049511 New York State, USA. Registered Office: 100 Broadway 23rd Floor, New York, NY 10005. If you receive this message in error, please notify the sender by return e-mail immediately and delete this message, any attachments and all copies from your system.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140408/d940534c/attachment-0001.html>

From gregoryjward at gmail.com  Tue Apr  8 15:05:09 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 8 Apr 2014 15:05:09 -0700
Subject: [Radiance-general] compiling bsdf2rad help
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC212D53CA@EX-MBX01.burohappold.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC212D53CA@EX-MBX01.burohappold.com>
Message-ID: <F77AD5AF-25C7-43BB-A828-129461D15FA7@lmi.net>

It's a debugging tool, hence not built automatically.  To build the optional tools in src/cv/, run:

	rmake bsdf2rad pabopto2rad bsdfquery

If there's a real demand for these, I'll put them into the standard distribution, but I wasn't thinking anyone outside a select group would use them....

Cheers,
-Greg

> From: Chris Coulter <Chris.Coulter at BuroHappold.com>
> Subject: [Radiance-general] compiling bsdf2rad help
> Date: April 8, 2014 2:54:21 PM PDT
> 
> Is there any trick to compiling/using bsdf2rad? I?ve compiled from the HEAD as recent as 3/18 and it did not get compiled and/or copied over.
> From my build, all make did was copy the following files from the ray/src/cv directory: ies2rad nff2rad lampcolor tmesh2rad obj2rad mgf2rad rad2mgf mgf2meta mgfilt mgfinv 3ds2mgf pabopto2bsdf bsdf2ttree bsdf2klems pkgBSDF epw2wea
> I see that bsdf2rad is listed in the Rmakefile under ray/src/cv, but not included in the ?PROGS? listing (the files above are). Does this need to get edited to properly install bsdf2rad?
>  
>  
> What is the usage of bsdf2rad? I don?t see any man page online and didn?t find one with the typical documentation in the build.
>  
>  
> Any help/suggestions are greatly appreciated.
>  
> Chris
>  
> Chris Coulter
> Senior Lighting Designer
> Buro Happold Consulting Engineers
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140408/a7849699/attachment.html>

From gmolina at hdlao.com  Tue Apr  8 15:12:18 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Tue, 8 Apr 2014 19:12:18 -0300
Subject: [Radiance-general] Using Radiance to Generate Lighting and
 Solar Surface Heat Gain Schedules for EnergyPlus
In-Reply-To: <CAOG+Niymiv2ijj=j4nOxhLg2Uohss83GuLp_Y4x2niyG9cctxw@mail.gmail.com>
References: <53441772.6030802@gmail.com>
	<13ED6899-A406-4CC7-B846-E26108261883@gmx.net>
	<CAOG+Niymiv2ijj=j4nOxhLg2Uohss83GuLp_Y4x2niyG9cctxw@mail.gmail.com>
Message-ID: <CAK+g53DSS7QG_9-O0AM=VE2Ysewi05F8k=yfpy+dU37APQxCXg@mail.gmail.com>

Justin,

I understand there is something called "Scheduled Surface Gains" that you
can use for "importing" solar gains in surfaces. However, I am not sure if
this is advisable because of the difficulties in calculating the solar
gains on each surface. Also, if I remember correctly, Andy's method did not
calculate solar inter-reflection on interior surfaces, so I believe that
the "standard" EnergyPlus CFS calculation should do...? it will
re-distribute the beam radiation just as Radiance would... the diffuse,
though, I believe is averaged.

Using Andy's method, I believe, would be justified in cases with complex
interior and exterior geometries, where Radiance's ray-tracing works better.

That is my opinion... not sure what others may think.

Bye


2014-04-08 18:50 GMT-03:00 Andrew McNeil <amcneil at lbl.gov>:

> Justin,
>
> genBSDF "change wavelength tag from visible to NIR":
>
> Since that presentation the tag used by Window has been changed from NIR
> to solar, so you should use solar.
>
> Creating Surface Heat Gain Schedule:
>
> We created a pseudo view matrix by tracing rays from the window into the
> space and binning rays based on the intersection location and material
> modifier. You can use genklemsamp, but have to flip the sign on the z
> component of the vector.
>
> Using Schedules in EnergyPlus:
>> "EnergyPls code modified to allow schedule of surface heat gains"
>> (modification by Thierry Nouidui and Brian Coffey). I was wondering if this
>> has be implemented, if so how? I saw in the EnergyPlus EMS manual that the
>> EMS system can be used to control exterior building variable, is this the
>> same system?
>
> The ability to schedule internal surface heat gains has been incorporated
> into the trunk of EnergyPlus starting with version 8.1. The relevant
> objects are:
>
> SurfaceProperty:SolarIncidentInside
> ComplexFenestrationProperty:SolarAbsorbedLayers
>
> The built in BSDF module gives identical results as using Radiance to
> determine solar absorption in the CFS layers.  However using Radiance
> offers some improvement in the interior distribution of energy (though it
> might not be worth using Radiance for this now that EnergyPlus has built in
> BSDF capabilities).
>
> That is the extent of my knowledge of EnergyPlus. I don't want to be
> mistaken for someone who knows things about EnergyPlus.
>
> Andy
>
>
>
> On Tue, Apr 8, 2014 at 1:47 PM, Lars O. Grobe <grobe at gmx.net> wrote:
>
>> Hi Justin!
>>
>> > genBSDF "change wavelength tag from visible to NIR":
>> > How would one go about running genBSDF for NIR? I read somewhere that
>> the material properties should be changed for NIR, but we're not sure how
>> to do that. Is there a hidden function that can be added to genBSDF to run
>> for NIR?
>>
>> genBSDF as Radiance offer three channels. Usually we fill those with data
>> for three bands in the visible light range and call them RGB. However you
>> can assign them NIR if you need to. In this case, make R=G=B=NIR, meaning
>> that you need to first define you NIR band and than use reflection /
>> transmission measured for this band when setting up you model. Run genBSDF
>> and the resulting output will be the BSDF in the NIR-band as you defined
>> it. The tag mentioned is in the XML-file, open it with a text editor to
>> change it.
>>
>> Did anyone get a similar approach working with ESP-r?
>>
>> Cheers, Lars.
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140408/4519029f/attachment.html>

From amcneil at lbl.gov  Tue Apr  8 16:24:49 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Tue, 8 Apr 2014 16:24:49 -0700
Subject: [Radiance-general] Using Radiance to Generate Lighting and
 Solar Surface Heat Gain Schedules for EnergyPlus
In-Reply-To: <CAK+g53DSS7QG_9-O0AM=VE2Ysewi05F8k=yfpy+dU37APQxCXg@mail.gmail.com>
References: <53441772.6030802@gmail.com>
	<13ED6899-A406-4CC7-B846-E26108261883@gmx.net>
	<CAOG+Niymiv2ijj=j4nOxhLg2Uohss83GuLp_Y4x2niyG9cctxw@mail.gmail.com>
	<CAK+g53DSS7QG_9-O0AM=VE2Ysewi05F8k=yfpy+dU37APQxCXg@mail.gmail.com>
Message-ID: <CAOG+NiyRrj9GJV1tP4pmu8k88ueE-Lr6FmW-Hh4xS6+sq74s-g@mail.gmail.com>

Actually, when you use the scheduled surface heat gains, energy plus
redistributes energy to account for inter-reflection. It's not as accurate
as computing inter-reflection in Radiance.

But generally, I agree with German that the standard EnergyPlus CFS method
is simpler to implement. We wouldn't have developed our Radiance method if
EnergyPlus supported CFS at the time.

Andy



On Tue, Apr 8, 2014 at 3:12 PM, CHI-German Molina <gmolina at hdlao.com> wrote:

> Justin,
>
> I understand there is something called "Scheduled Surface Gains" that you
> can use for "importing" solar gains in surfaces. However, I am not sure if
> this is advisable because of the difficulties in calculating the solar
> gains on each surface. Also, if I remember correctly, Andy's method did not
> calculate solar inter-reflection on interior surfaces, so I believe that
> the "standard" EnergyPlus CFS calculation should do...? it will
> re-distribute the beam radiation just as Radiance would... the diffuse,
> though, I believe is averaged.
>
> Using Andy's method, I believe, would be justified in cases with complex
> interior and exterior geometries, where Radiance's ray-tracing works better.
>
> That is my opinion... not sure what others may think.
>
> Bye
>
>
> 2014-04-08 18:50 GMT-03:00 Andrew McNeil <amcneil at lbl.gov>:
>
> Justin,
>>
>>  genBSDF "change wavelength tag from visible to NIR":
>>
>> Since that presentation the tag used by Window has been changed from NIR
>> to solar, so you should use solar.
>>
>> Creating Surface Heat Gain Schedule:
>>
>> We created a pseudo view matrix by tracing rays from the window into the
>> space and binning rays based on the intersection location and material
>> modifier. You can use genklemsamp, but have to flip the sign on the z
>> component of the vector.
>>
>> Using Schedules in EnergyPlus:
>>> "EnergyPls code modified to allow schedule of surface heat gains"
>>> (modification by Thierry Nouidui and Brian Coffey). I was wondering if this
>>> has be implemented, if so how? I saw in the EnergyPlus EMS manual that the
>>> EMS system can be used to control exterior building variable, is this the
>>> same system?
>>
>> The ability to schedule internal surface heat gains has been incorporated
>> into the trunk of EnergyPlus starting with version 8.1. The relevant
>> objects are:
>>
>> SurfaceProperty:SolarIncidentInside
>> ComplexFenestrationProperty:SolarAbsorbedLayers
>>
>> The built in BSDF module gives identical results as using Radiance to
>> determine solar absorption in the CFS layers.  However using Radiance
>> offers some improvement in the interior distribution of energy (though it
>> might not be worth using Radiance for this now that EnergyPlus has built in
>> BSDF capabilities).
>>
>> That is the extent of my knowledge of EnergyPlus. I don't want to be
>> mistaken for someone who knows things about EnergyPlus.
>>
>> Andy
>>
>>
>>
>> On Tue, Apr 8, 2014 at 1:47 PM, Lars O. Grobe <grobe at gmx.net> wrote:
>>
>>> Hi Justin!
>>>
>>> > genBSDF "change wavelength tag from visible to NIR":
>>> > How would one go about running genBSDF for NIR? I read somewhere that
>>> the material properties should be changed for NIR, but we're not sure how
>>> to do that. Is there a hidden function that can be added to genBSDF to run
>>> for NIR?
>>>
>>> genBSDF as Radiance offer three channels. Usually we fill those with
>>> data for three bands in the visible light range and call them RGB. However
>>> you can assign them NIR if you need to. In this case, make R=G=B=NIR,
>>> meaning that you need to first define you NIR band and than use reflection
>>> / transmission measured for this band when setting up you model. Run
>>> genBSDF and the resulting output will be the BSDF in the NIR-band as you
>>> defined it. The tag mentioned is in the XML-file, open it with a text
>>> editor to change it.
>>>
>>> Did anyone get a similar approach working with ESP-r?
>>>
>>> Cheers, Lars.
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
> son confidenciales y pueden contener informacion privilegiada protegida por
> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
> electronicos son susceptibles de ser cambiados, infectados o adulterados
> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
> cambios o sus consecuencias. Usted debe estar informado que la compania
> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
> gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only for
> the person or entity to which it is addressed. If you are neither the
> intended recipient nor the employee or agent responsible for delivering
> this message to the intended recipient, you are hereby notified that you
> may not review, retransmit, convert to hard copy, copy, use or distribute
> this email message or any attachments to it. If you have received this
> email in error, please contact the sender immediately and delete this
> message from any computer or other data bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
> antiv?rus antes de qualquer uso.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140408/b6e4d59d/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Wed Apr  9 07:35:08 2014
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 9 Apr 2014 08:35:08 -0600
Subject: [Radiance-general] compiling bsdf2rad help
Message-ID: <CF6AB5B3.5925%robert.guglielmetti@nrel.gov>

P.S.
bsdf2rad is built automatically when you use the CMake build system, and is included in the installers we make at NREL. Package updates are LONG overdue, I know, but the current HEAD has all the changes to CMake to build and install bsdf2rad. I suppose another thing that's long overdue is a HOWTO on how to use the CMake build files in the Radiance cvs. :-/

- Rob

On 4/8/14, 3:54 PM, "Chris Coulter" <Chris.Coulter at BuroHappold.com<mailto:Chris.Coulter at BuroHappold.com>> wrote:

Is there any trick to compiling/using bsdf2rad? I?ve compiled from the HEAD as recent as 3/18 and it did not get compiled and/or copied over.
>From my build, all make did was copy the following files from the ray/src/cv directory: ies2rad nff2rad lampcolor tmesh2rad obj2rad mgf2rad rad2mgf mgf2meta mgfilt mgfinv 3ds2mgf pabopto2bsdf bsdf2ttree bsdf2klems pkgBSDF epw2wea
I see that bsdf2rad is listed in the Rmakefile under ray/src/cv, but not included in the ?PROGS? listing (the files above are). Does this need to get edited to properly install bsdf2rad?


What is the usage of bsdf2rad? I don?t see any man page online and didn?t find one with the typical documentation in the build.


Any help/suggestions are greatly appreciated.

Chris

Chris Coulter
Senior Lighting Designer
Buro Happold Consulting Engineers
100 Broadway, 23rd Floor
New York, NY 10005
Tel: 212.334.2025
Direct: 212.616.0254
Email: chris.coulter at burohappold.com<mailto:chris.coulter at burohappold.com>
Website: www.burohappold.com


This transmission is confidential and intended solely for the person or organization to whom it is correctly addressed. If you are not the intended recipient of this transmission, you should not take any action in reliance on it. Further, this transmission may contain confidential design and other information owned by Buro Happold LtdConsulting Engineers, P.C. (?Buro Happold?). You should not copy, distribute, use, offer for sale or hire such information or in any way infringe the design and intellectual property rights of Buro Happold Ltd. It is intended that communication by email from Buro Happold .Ltd or its employees is limited to communications connected to the services provided by Buro Happold Ltd. Buro Happold Ltd accepts no liability for any communications not connected to the services it provides. Computer viruses may be transmitted or downloaded onto your computer system via email communication. It is the recipient?s responsibility to take any action necessary to prevent computer viruses being transmitted in this way. Accordingly, Buro Happold Ltd disclaims all responsibility which arises directly or indirectly from such transmission of computer viruses. Buro Happold Consulting Engineers, P.C.Ltd.. Registered in England: 2049511 New York State, USA. Registered Office: 100 Broadway 23rd Floor, New York, NY 10005. If you receive this message in error, please notify the sender by return e-mail immediately and delete this message, any attachments and all copies from your system.


From jss5237 at gmail.com  Wed Apr  9 08:38:05 2014
From: jss5237 at gmail.com (Justin Shultz)
Date: Wed, 9 Apr 2014 11:38:05 -0400
Subject: [Radiance-general] Using Radiance to Generate Lighting and
 Solar Surface Heat Gain Schedules for EnergyPlus
In-Reply-To: <CAOG+NiyRrj9GJV1tP4pmu8k88ueE-Lr6FmW-Hh4xS6+sq74s-g@mail.gmail.com>
References: <53441772.6030802@gmail.com>
	<13ED6899-A406-4CC7-B846-E26108261883@gmx.net>
	<CAOG+Niymiv2ijj=j4nOxhLg2Uohss83GuLp_Y4x2niyG9cctxw@mail.gmail.com>
	<CAK+g53DSS7QG_9-O0AM=VE2Ysewi05F8k=yfpy+dU37APQxCXg@mail.gmail.com>
	<CAOG+NiyRrj9GJV1tP4pmu8k88ueE-Lr6FmW-Hh4xS6+sq74s-g@mail.gmail.com>
Message-ID: <CAEcELMgEY_K-P4CofuJ==yycQ2x8tyHA+u-rmEoW0p4aTDeQdw@mail.gmail.com>

Hello Everyone,

Thank you for the thorough responses. It appears as though the suggestions
are towards using EnergyPlus' integrated CFS functionally with WINDOW
generated solar XMLs. This is good news and confirms what we were already
in the process of doing.

Thank you for your time,
Justin


On Tue, Apr 8, 2014 at 7:24 PM, Andrew McNeil <amcneil at lbl.gov> wrote:

> Actually, when you use the scheduled surface heat gains, energy plus
> redistributes energy to account for inter-reflection. It's not as accurate
> as computing inter-reflection in Radiance.
>
> But generally, I agree with German that the standard EnergyPlus CFS method
> is simpler to implement. We wouldn't have developed our Radiance method if
> EnergyPlus supported CFS at the time.
>
> Andy
>
>
>
> On Tue, Apr 8, 2014 at 3:12 PM, CHI-German Molina <gmolina at hdlao.com>wrote:
>
>> Justin,
>>
>> I understand there is something called "Scheduled Surface Gains" that you
>> can use for "importing" solar gains in surfaces. However, I am not sure if
>> this is advisable because of the difficulties in calculating the solar
>> gains on each surface. Also, if I remember correctly, Andy's method did not
>> calculate solar inter-reflection on interior surfaces, so I believe that
>> the "standard" EnergyPlus CFS calculation should do...? it will
>> re-distribute the beam radiation just as Radiance would... the diffuse,
>> though, I believe is averaged.
>>
>> Using Andy's method, I believe, would be justified in cases with complex
>> interior and exterior geometries, where Radiance's ray-tracing works better.
>>
>> That is my opinion... not sure what others may think.
>>
>> Bye
>>
>>
>> 2014-04-08 18:50 GMT-03:00 Andrew McNeil <amcneil at lbl.gov>:
>>
>> Justin,
>>>
>>>  genBSDF "change wavelength tag from visible to NIR":
>>>
>>> Since that presentation the tag used by Window has been changed from NIR
>>> to solar, so you should use solar.
>>>
>>> Creating Surface Heat Gain Schedule:
>>>
>>> We created a pseudo view matrix by tracing rays from the window into the
>>> space and binning rays based on the intersection location and material
>>> modifier. You can use genklemsamp, but have to flip the sign on the z
>>> component of the vector.
>>>
>>> Using Schedules in EnergyPlus:
>>>> "EnergyPls code modified to allow schedule of surface heat gains"
>>>> (modification by Thierry Nouidui and Brian Coffey). I was wondering if this
>>>> has be implemented, if so how? I saw in the EnergyPlus EMS manual that the
>>>> EMS system can be used to control exterior building variable, is this the
>>>> same system?
>>>
>>> The ability to schedule internal surface heat gains has been
>>> incorporated into the trunk of EnergyPlus starting with version 8.1. The
>>> relevant objects are:
>>>
>>> SurfaceProperty:SolarIncidentInside
>>> ComplexFenestrationProperty:SolarAbsorbedLayers
>>>
>>> The built in BSDF module gives identical results as using Radiance to
>>> determine solar absorption in the CFS layers.  However using Radiance
>>> offers some improvement in the interior distribution of energy (though it
>>> might not be worth using Radiance for this now that EnergyPlus has built in
>>> BSDF capabilities).
>>>
>>> That is the extent of my knowledge of EnergyPlus. I don't want to be
>>> mistaken for someone who knows things about EnergyPlus.
>>>
>>> Andy
>>>
>>>
>>>
>>> On Tue, Apr 8, 2014 at 1:47 PM, Lars O. Grobe <grobe at gmx.net> wrote:
>>>
>>>> Hi Justin!
>>>>
>>>> > genBSDF "change wavelength tag from visible to NIR":
>>>> > How would one go about running genBSDF for NIR? I read somewhere that
>>>> the material properties should be changed for NIR, but we're not sure how
>>>> to do that. Is there a hidden function that can be added to genBSDF to run
>>>> for NIR?
>>>>
>>>> genBSDF as Radiance offer three channels. Usually we fill those with
>>>> data for three bands in the visible light range and call them RGB. However
>>>> you can assign them NIR if you need to. In this case, make R=G=B=NIR,
>>>> meaning that you need to first define you NIR band and than use reflection
>>>> / transmission measured for this band when setting up you model. Run
>>>> genBSDF and the resulting output will be the BSDF in the NIR-band as you
>>>> defined it. The tag mentioned is in the XML-file, open it with a text
>>>> editor to change it.
>>>>
>>>> Did anyone get a similar approach working with ESP-r?
>>>>
>>>> Cheers, Lars.
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>>
>> --
>> *Germ?n Molina L.*
>> Ingeniero Trainee
>> Hunter Douglas Chile S.A.
>> Celular +569 89224445
>>
>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
>> son confidenciales y pueden contener informacion privilegiada protegida por
>> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
>> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
>> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
>> electronicos son susceptibles de ser cambiados, infectados o adulterados
>> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
>> cambios o sus consecuencias. Usted debe estar informado que la compania
>> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
>> gracias.
>>
>> *Confidentiality Notice:* The information contained in this email
>> message, including any attachment, is confidential and is intended only for
>> the person or entity to which it is addressed. If you are neither the
>> intended recipient nor the employee or agent responsible for delivering
>> this message to the intended recipient, you are hereby notified that you
>> may not review, retransmit, convert to hard copy, copy, use or distribute
>> this email message or any attachments to it. If you have received this
>> email in error, please contact the sender immediately and delete this
>> message from any computer or other data bank, Thank you.
>>
>> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
>> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
>> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
>> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>> antiv?rus antes de qualquer uso.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140409/3ad043f0/attachment-0001.html>

From kskonis at gmail.com  Wed Apr  9 17:08:21 2014
From: kskonis at gmail.com (Kyle Konis)
Date: Wed, 9 Apr 2014 17:08:21 -0700
Subject: [Radiance-general] Experience implementing gendaylit with physical
 inputs (-G: direct - horizontal irradiance and diffuse - horizontal
 irradiance)
Message-ID: <CAAzVHq1ZU7wy_iwQAFfCxtM_ekoPvOFHaG9QuHfSVZ+8dDQ2EQ@mail.gmail.com>

I am curious if anyone has experience to share regarding the generation of
skies with gendaylit using physical sensor data as input.

I would like to monitor sky conditions at a building rooftop site and plan
to collect direct - horizontal irradiance and diffuse - horizontal
irradiance using Licor pyranometers.

Both sensors will be oriented horizontally. The first will be unshaded and
record global horizontal irradiance.

The second will have a shadow band applied and will serve to record diffuse
horizontal irradiance.

I will then subtract the diffuse-horizontal contribution from the global
horizontal value to obtain an estimate of direct-horizontal irradiance.

I wanted to confirm that this is an appropriate approach, as well as to see
if anyone has an alternative (better) idea, that does not involve a
pyrheliometer.

Best,

-Kyle

-----------------------------------------------
Kyle Konis, AIA, Ph.D
Assistant Professor
School of Architecture, WAH 204
University of Southern California
Los Angeles, CA 90089-0291
http://arch.usc.edu/faculty/kkonis
-----------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140409/04d1dfe8/attachment.html>

From tito_ at MIT.EDU  Wed Apr  9 17:29:01 2014
From: tito_ at MIT.EDU (Christoph Reinhart)
Date: Thu, 10 Apr 2014 00:29:01 +0000
Subject: [Radiance-general] Experience implementing gendaylit with
 physical inputs (-G: direct - horizontal irradiance and diffuse -
 horizontal irradiance)
In-Reply-To: <CAAzVHq1ZU7wy_iwQAFfCxtM_ekoPvOFHaG9QuHfSVZ+8dDQ2EQ@mail.gmail.com>
References: <CAAzVHq1ZU7wy_iwQAFfCxtM_ekoPvOFHaG9QuHfSVZ+8dDQ2EQ@mail.gmail.com>
Message-ID: <1B23446CBF250648A2FC775DE3FE7E80551BB7BE@OC11expo28.exchange.mit.edu>

Hi Kyle,

Your approach is valid. Depending on what your plan to do with the data, you can also use just global horizontal irradiance and use the Reindl (or another separation model) to model direct and diffuse components. I have used Reindl extensively in the past with satisfactory results. For validation work using two sensors is of course preferable. You can use the gen_reindl.exe command in Daysim to convert a time series of
month day hour global-irradiance

into a Daysim weather file.

Best,

Christoph

From: Kyle Konis [mailto:kskonis at gmail.com]
Sent: Wednesday, April 9, 2014 8:08 PM
To: Radiance general discussion
Subject: [Radiance-general] Experience implementing gendaylit with physical inputs (-G: direct - horizontal irradiance and diffuse - horizontal irradiance)

I am curious if anyone has experience to share regarding the generation of skies with gendaylit using physical sensor data as input.

I would like to monitor sky conditions at a building rooftop site and plan to collect direct - horizontal irradiance and diffuse - horizontal irradiance using Licor pyranometers.
Both sensors will be oriented horizontally. The first will be unshaded and record global horizontal irradiance.
The second will have a shadow band applied and will serve to record diffuse horizontal irradiance.
I will then subtract the diffuse-horizontal contribution from the global horizontal value to obtain an estimate of direct-horizontal irradiance.
I wanted to confirm that this is an appropriate approach, as well as to see if anyone has an alternative (better) idea, that does not involve a pyrheliometer.
Best,
-Kyle
-----------------------------------------------
Kyle Konis, AIA, Ph.D
Assistant Professor
School of Architecture, WAH 204
University of Southern California
Los Angeles, CA 90089-0291
http://arch.usc.edu/faculty/kkonis
-----------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140410/97211dd6/attachment.html>

From jacobs.axel at gmail.com  Thu Apr 10 00:10:53 2014
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Thu, 10 Apr 2014 08:10:53 +0100
Subject: [Radiance-general] Experience implementing gendaylit with
 physical inputs (-G: direct - horizontal irradiance and diffuse -
 horizontal irradiance)
In-Reply-To: <1B23446CBF250648A2FC775DE3FE7E80551BB7BE@OC11expo28.exchange.mit.edu>
References: <CAAzVHq1ZU7wy_iwQAFfCxtM_ekoPvOFHaG9QuHfSVZ+8dDQ2EQ@mail.gmail.com>
	<1B23446CBF250648A2FC775DE3FE7E80551BB7BE@OC11expo28.exchange.mit.edu>
Message-ID: <534643FD.2020107@gmail.com>

Hi Kyle,

check out the SPN1 and BF5 from Delta-T:

http://www.delta-t.co.uk/product-category.asp?div=Meteorology%20and%20Solar

Very neat, but I have not used them myself.

If you prefer to use two instruments and shading ring instead, you'll 
need to correct for the shading ring:

Rawlins F, Readings CJ (1986) The shade ring correction for measurements 
of diffuse irradiance under clear skies. Solar Energy 37:407?416

Steven MD, Unsworth MH (1980) Shade-ring corrections for pyranometer 
measurements of diffuse solar radiation from cloudless skies. Quart J 
Royal Meteorol Soc 106:865?872

Painter HE (1981) The shade ring correction factor for diffuse 
irradiance measurements. Solar Energy 26:361?363

Regards

Axel

On 10/04/14 01:29, Christoph Reinhart wrote:
> Hi Kyle,
>
> Your approach is valid. Depending on what your plan to do with the data,
> you can also use just global horizontal irradiance and use the Reindl
> (or another separation model) to model direct and diffuse components. I
> have used Reindl extensively in the past with satisfactory results. For
> validation work using two sensors is of course preferable. You can use
> the gen_reindl.exe command in Daysim to convert a time series of
>
> month day hour global-irradiance
>
> into a Daysim weather file.
>
> Best,
>
> Christoph
>
> *From:*Kyle Konis [mailto:kskonis at gmail.com]
> *Sent:* Wednesday, April 9, 2014 8:08 PM
> *To:* Radiance general discussion
> *Subject:* [Radiance-general] Experience implementing gendaylit with
> physical inputs (-G: direct - horizontal irradiance and diffuse -
> horizontal irradiance)
>
> I am curious if anyone has experience to share regarding the generation
> of skies with gendaylit using physical sensor data as input.
>
> I would like to monitor sky conditions at a building rooftop site and
> plan to collect direct - horizontal irradiance and diffuse - horizontal
> irradiance using Licor pyranometers.
>
> Both sensors will be oriented horizontally. The first will be unshaded
> and record global horizontal irradiance.
>
> The second will have a shadow band applied and will serve to record
> diffuse horizontal irradiance.
>
> I will then subtract the diffuse-horizontal contribution from the global
> horizontal value to obtain an estimate of direct-horizontal irradiance.
>
> I wanted to confirm that this is an appropriate approach, as well as to
> see if anyone has an alternative (better) idea, that does not involve a
> pyrheliometer.
>
> Best,
>
> -Kyle
>
> -----------------------------------------------
>
> Kyle Konis, AIA, Ph.D
> Assistant Professor
> School of Architecture, WAH 204
> University of Southern California
> Los Angeles, CA 90089-0291
> http://arch.usc.edu/faculty/kkonis
> -----------------------------------------------
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



From em.vazifeh at gmail.com  Thu Apr 10 00:57:52 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Thu, 10 Apr 2014 09:57:52 +0200
Subject: [Radiance-general] Experience implementing gendaylit with
 physical inputs (-G: direct - horizontal irradiance and diffuse -
 horizontal irradiance)
In-Reply-To: <534643FD.2020107@gmail.com>
References: <CAAzVHq1ZU7wy_iwQAFfCxtM_ekoPvOFHaG9QuHfSVZ+8dDQ2EQ@mail.gmail.com>
	<1B23446CBF250648A2FC775DE3FE7E80551BB7BE@OC11expo28.exchange.mit.edu>
	<534643FD.2020107@gmail.com>
Message-ID: <CAJeoGJ4+=u3vdR+P4_6xDn1Tu4UNR5sP=aAo2UdSsVdiS=n29A@mail.gmail.com>

HI Kyle,

If you are using a shadow ring to get the diffuse horizontal irradiance you
have to adjust the sliding bar manually around 1 or two times a week
regarding to the documentation. below you will find the link to the Manual
for the shadow ring of Kipp & Zonen.

http://www.kippzonen.com/Download/46/CM-121-B-C-Shadow-Ring-Manual?ShowInfo=true

also, to calculate the direct simply use this formula:

Direct normal irradiance=((Global horizontal irradiance)-(Diffuse
horizontal irradiance))/sin(sun altitude)

Cheers,
Ehsan


On Thu, Apr 10, 2014 at 9:10 AM, Axel Jacobs <jacobs.axel at gmail.com> wrote:

> Hi Kyle,
>
> check out the SPN1 and BF5 from Delta-T:
>
> http://www.delta-t.co.uk/product-category.asp?div=
> Meteorology%20and%20Solar
>
> Very neat, but I have not used them myself.
>
> If you prefer to use two instruments and shading ring instead, you'll need
> to correct for the shading ring:
>
> Rawlins F, Readings CJ (1986) The shade ring correction for measurements
> of diffuse irradiance under clear skies. Solar Energy 37:407-416
>
> Steven MD, Unsworth MH (1980) Shade-ring corrections for pyranometer
> measurements of diffuse solar radiation from cloudless skies. Quart J Royal
> Meteorol Soc 106:865-872
>
> Painter HE (1981) The shade ring correction factor for diffuse irradiance
> measurements. Solar Energy 26:361-363
>
> Regards
>
> Axel
>
>
> On 10/04/14 01:29, Christoph Reinhart wrote:
>
>> Hi Kyle,
>>
>> Your approach is valid. Depending on what your plan to do with the data,
>> you can also use just global horizontal irradiance and use the Reindl
>> (or another separation model) to model direct and diffuse components. I
>> have used Reindl extensively in the past with satisfactory results. For
>> validation work using two sensors is of course preferable. You can use
>> the gen_reindl.exe command in Daysim to convert a time series of
>>
>> month day hour global-irradiance
>>
>> into a Daysim weather file.
>>
>> Best,
>>
>> Christoph
>>
>> *From:*Kyle Konis [mailto:kskonis at gmail.com]
>> *Sent:* Wednesday, April 9, 2014 8:08 PM
>> *To:* Radiance general discussion
>> *Subject:* [Radiance-general] Experience implementing gendaylit with
>>
>> physical inputs (-G: direct - horizontal irradiance and diffuse -
>> horizontal irradiance)
>>
>> I am curious if anyone has experience to share regarding the generation
>> of skies with gendaylit using physical sensor data as input.
>>
>> I would like to monitor sky conditions at a building rooftop site and
>> plan to collect direct - horizontal irradiance and diffuse - horizontal
>> irradiance using Licor pyranometers.
>>
>> Both sensors will be oriented horizontally. The first will be unshaded
>> and record global horizontal irradiance.
>>
>> The second will have a shadow band applied and will serve to record
>> diffuse horizontal irradiance.
>>
>> I will then subtract the diffuse-horizontal contribution from the global
>> horizontal value to obtain an estimate of direct-horizontal irradiance.
>>
>> I wanted to confirm that this is an appropriate approach, as well as to
>> see if anyone has an alternative (better) idea, that does not involve a
>> pyrheliometer.
>>
>> Best,
>>
>> -Kyle
>>
>> -----------------------------------------------
>>
>> Kyle Konis, AIA, Ph.D
>> Assistant Professor
>> School of Architecture, WAH 204
>> University of Southern California
>> Los Angeles, CA 90089-0291
>> http://arch.usc.edu/faculty/kkonis
>> -----------------------------------------------
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140410/321e1325/attachment-0001.html>

From maricanis at gmail.com  Thu Apr 10 02:10:08 2014
From: maricanis at gmail.com (Marija Velickovic)
Date: Thu, 10 Apr 2014 11:10:08 +0200
Subject: [Radiance-general] Radiance Workshop 2014?
Message-ID: <CAAZQWqjs8i5bo12kiUMeSy9tO+t=D2mZZ5VShrJNLzCtTXzgWA@mail.gmail.com>

Hi,

Is there any info about Workshop this year?
Greg mentioned earlier that it will be in London, but not any detailed info
on it.

Marija
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140410/47400893/attachment.html>

From jan.wienold at ise.fraunhofer.de  Thu Apr 10 05:46:31 2014
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Thu, 10 Apr 2014 14:46:31 +0200
Subject: [Radiance-general] Experience implementing gendaylit with
 physical inputs (-G: direct - horizontal irradiance and diffuse -
 horizontal irradiance)
In-Reply-To: <534643FD.2020107@gmail.com>
References: <CAAzVHq1ZU7wy_iwQAFfCxtM_ekoPvOFHaG9QuHfSVZ+8dDQ2EQ@mail.gmail.com>	<1B23446CBF250648A2FC775DE3FE7E80551BB7BE@OC11expo28.exchange.mit.edu>
	<534643FD.2020107@gmail.com>
Message-ID: <534692A7.4060506@ise.fraunhofer.de>

Hi Kyle,

I can confirm, that the delta-T sensor delivers very good and accurate 
values. Problematic is just sun-rise and sun-set.

In case you have only the global horizontal iilluminance, the Erbs model 
is the most accurate one (but still the error could be huge). This model 
is implemented in the current version of gendaylit (-E option). you 
could also see the error and spread of the data in our presentation at 
the last radiance workshop:
http://www.radiance-online.org/community/workshops/2013-golden-co/sprenger_wienold_gendaylit.pdf

If you can afford the sensor, I would go for the delta-T. We used it in 
several projects and also did comparisons with a tracking pyrheliometer.

Jan



On 04/10/2014 09:10 AM, Axel Jacobs wrote:
> Hi Kyle,
>
> check out the SPN1 and BF5 from Delta-T:
>
> http://www.delta-t.co.uk/product-category.asp?div=Meteorology%20and%20Solar 
>
>
> Very neat, but I have not used them myself.
>
> If you prefer to use two instruments and shading ring instead, you'll 
> need to correct for the shading ring:
>
> Rawlins F, Readings CJ (1986) The shade ring correction for 
> measurements of diffuse irradiance under clear skies. Solar Energy 
> 37:407?416
>
> Steven MD, Unsworth MH (1980) Shade-ring corrections for pyranometer 
> measurements of diffuse solar radiation from cloudless skies. Quart J 
> Royal Meteorol Soc 106:865?872
>
> Painter HE (1981) The shade ring correction factor for diffuse 
> irradiance measurements. Solar Energy 26:361?363
>
> Regards
>
> Axel
>
> On 10/04/14 01:29, Christoph Reinhart wrote:
>> Hi Kyle,
>>
>> Your approach is valid. Depending on what your plan to do with the data,
>> you can also use just global horizontal irradiance and use the Reindl
>> (or another separation model) to model direct and diffuse components. I
>> have used Reindl extensively in the past with satisfactory results. For
>> validation work using two sensors is of course preferable. You can use
>> the gen_reindl.exe command in Daysim to convert a time series of
>>
>> month day hour global-irradiance
>>
>> into a Daysim weather file.
>>
>> Best,
>>
>> Christoph
>>
>> *From:*Kyle Konis [mailto:kskonis at gmail.com]
>> *Sent:* Wednesday, April 9, 2014 8:08 PM
>> *To:* Radiance general discussion
>> *Subject:* [Radiance-general] Experience implementing gendaylit with
>> physical inputs (-G: direct - horizontal irradiance and diffuse -
>> horizontal irradiance)
>>
>> I am curious if anyone has experience to share regarding the generation
>> of skies with gendaylit using physical sensor data as input.
>>
>> I would like to monitor sky conditions at a building rooftop site and
>> plan to collect direct - horizontal irradiance and diffuse - horizontal
>> irradiance using Licor pyranometers.
>>
>> Both sensors will be oriented horizontally. The first will be unshaded
>> and record global horizontal irradiance.
>>
>> The second will have a shadow band applied and will serve to record
>> diffuse horizontal irradiance.
>>
>> I will then subtract the diffuse-horizontal contribution from the global
>> horizontal value to obtain an estimate of direct-horizontal irradiance.
>>
>> I wanted to confirm that this is an appropriate approach, as well as to
>> see if anyone has an alternative (better) idea, that does not involve a
>> pyrheliometer.
>>
>> Best,
>>
>> -Kyle
>>
>> -----------------------------------------------
>>
>> Kyle Konis, AIA, Ph.D
>> Assistant Professor
>> School of Architecture, WAH 204
>> University of Southern California
>> Los Angeles, CA 90089-0291
>> http://arch.usc.edu/faculty/kkonis
>> -----------------------------------------------
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office:
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30



From Robert.Guglielmetti at nrel.gov  Thu Apr 10 08:32:58 2014
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 10 Apr 2014 09:32:58 -0600
Subject: [Radiance-general] Radiance Workshop 2014?
In-Reply-To: <CAAZQWqjs8i5bo12kiUMeSy9tO+t=D2mZZ5VShrJNLzCtTXzgWA@mail.gmail.com>
References: <CAAZQWqjs8i5bo12kiUMeSy9tO+t=D2mZZ5VShrJNLzCtTXzgWA@mail.gmail.com>
Message-ID: <CF6C14FD.59FA%robert.guglielmetti@nrel.gov>

Hi Marija,

It's my understanding that the agreed upon dates are Tuesday Aug 26 ? Thursday Aug 28. London Metropolitan University ? Luisa Brotas (LMU) and Francesco Anselmo (Arup) ? will be our hosts.  I don't believe there is a website for registering quite yet.

- Rob

On 4/10/14, 3:10 AM, "Marija Velickovic" <maricanis at gmail.com<mailto:maricanis at gmail.com>> wrote:

Hi,

Is there any info about Workshop this year?
Greg mentioned earlier that it will be in London, but not any detailed info on it.

Marija


From gregoryjward at gmail.com  Thu Apr 10 08:41:25 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 10 Apr 2014 08:41:25 -0700
Subject: [Radiance-general] Radiance Workshop 2014?
In-Reply-To: <CF6C14FD.59FA%robert.guglielmetti@nrel.gov>
References: <CAAZQWqjs8i5bo12kiUMeSy9tO+t=D2mZZ5VShrJNLzCtTXzgWA@mail.gmail.com>
	<CF6C14FD.59FA%robert.guglielmetti@nrel.gov>
Message-ID: <8267E2EB-B61E-447B-B8C4-DC6924D1C0E6@lmi.net>

Confirming that Rob is correct about the dates and location -- putting together an announcement is on my "to do" list for this week!

-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Subject: Re: [Radiance-general] Radiance Workshop 2014?
> Date: April 10, 2014 8:32:58 AM PDT
> 
> Hi Marija,
> 
> It's my understanding that the agreed upon dates are Tuesday Aug 26 ? Thursday Aug 28. London Metropolitan University ? Luisa Brotas (LMU) and Francesco Anselmo (Arup) ? will be our hosts.  I don't believe there is a website for registering quite yet.
> 
> - Rob
> 
> On 4/10/14, 3:10 AM, "Marija Velickovic" <maricanis at gmail.com<mailto:maricanis at gmail.com>> wrote:
> 
> Hi,
> 
> Is there any info about Workshop this year?
> Greg mentioned earlier that it will be in London, but not any detailed info on it.
> 
> Marija


From J.Mardaljevic at lboro.ac.uk  Sat Apr 12 04:41:04 2014
From: J.Mardaljevic at lboro.ac.uk (John Mardaljevic)
Date: Sat, 12 Apr 2014 11:41:04 +0000
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
Message-ID: <81662B63-23A5-4ECB-A7FF-7FB99EE68A89@lboro.ac.uk>

Hi Ehsan,

Perhaps it's been mentioned already, but if you go for the 145 source angles remember to correct for the missing solid angle by scaling the patch radiance values accordingly.

Cheers
John

John Mardaljevic
Professor of Building Daylight Modelling
School of Civil & Building Engineering
Loughborough University
Loughborough
Leicestershire
LE11 3TU, UK

Tel: +44 1509 222630 (Direct)
Tel: +44 1509 228529 (Pam Allen, secretary)

j.mardaljevic at lboro.ac.uk<mailto:j.mardaljevic at lboro.ac.uk>

http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn/

Personal daylighting website:
http://climate-based-daylighting.com<http://climate-based-daylighting.com/>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140412/b75e02df/attachment.html>

From em.vazifeh at gmail.com  Mon Apr 14 05:23:32 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Mon, 14 Apr 2014 14:23:32 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <81662B63-23A5-4ECB-A7FF-7FB99EE68A89@lboro.ac.uk>
References: <81662B63-23A5-4ECB-A7FF-7FB99EE68A89@lboro.ac.uk>
Message-ID: <CAJeoGJ4dOmcZFih6+aaENZwN6GdniV_pK4ynnsVoPhpwUhpBPA@mail.gmail.com>

Dear Professor Mardaljevic,

As I understood, to use the source method for modeling the 145 patches of
Tregenza. First of all, I have to calculate the ratio of (disk area of the
patch divided by real area of each patch), then multiply it by radiance of
each patch. is it right?
Second, in this case, I will have some dark points between the disks which
look like diamonds. Unfortunately, by now I didn't find the time to
implement a code to create these disks.
Thank you for the consideration and support.

Best Regards,
Ehsan

On Sat, Apr 12, 2014 at 1:41 PM, John Mardaljevic <J.Mardaljevic at lboro.ac.uk
> wrote:

>  Hi Ehsan,
>
>  Perhaps it's been mentioned already, but if you go for the 145 source
> angles remember to correct for the missing solid angle by scaling the patch
> radiance values accordingly.
>
>  Cheers
> John
>
>     John Mardaljevic
> Professor of Building Daylight Modelling
> School of Civil & Building Engineering
> Loughborough University
> Loughborough
> Leicestershire
> LE11 3TU, UK
>
> Tel: +44 1509 222630 (Direct)
> Tel: +44 1509 228529 (Pam Allen, secretary)
>
> j.mardaljevic at lboro.ac.uk
>
>  http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn/
>
>  Personal daylighting website:
> http://climate-based-daylighting.com
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140414/7edcea5c/attachment.html>

From J.Mardaljevic at lboro.ac.uk  Mon Apr 14 06:13:00 2014
From: J.Mardaljevic at lboro.ac.uk (John Mardaljevic)
Date: Mon, 14 Apr 2014 13:13:00 +0000
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
Message-ID: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>

Hi Ehsan,

Yes, that's right -- you simply scale the measured (circular patch) luminance or radiance values by the ratio of the 'rectangular' patch solid angle to the circular source solid angle, i.e. some factor > 1.  Your sky will of course not be continuous, but at least the total luminous output will be realistic.  See table 3-7, p70 in Chapter 3 here:

http://climate-based-daylighting.com/doku.php?id=resources:thesis

Another way is to use the measured data to create a 'brightdata' representation of the sky, which will be continuous.  How that is done is also described in Chapter 3.

Cheers
John

John Mardaljevic PhD FSLL
Professor of Building Daylight Modelling
School of Civil & Building Engineering
Loughborough University
Loughborough
Leicestershire
LE11 3TU, UK

Tel: +44 1509 222630 (Direct)
Tel: +44 1509 228529 (Pam Allen, secretary)

j.mardaljevic at lboro.ac.uk

http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn

Personal daylighting website:
http://climate-based-daylighting.com



From em.vazifeh at gmail.com  Mon Apr 14 07:37:44 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Mon, 14 Apr 2014 16:37:44 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>
References: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>
Message-ID: <CAJeoGJ6ru-Yd-jL7t1y+YjisUPqjA+KbdzR++pNKf4XjGXtp=w@mail.gmail.com>

Thank you very much! I will try to use both methods.

Cheers,
Ehsan


On Mon, Apr 14, 2014 at 3:13 PM, John Mardaljevic <J.Mardaljevic at lboro.ac.uk
> wrote:

> Hi Ehsan,
>
> Yes, that's right -- you simply scale the measured (circular patch)
> luminance or radiance values by the ratio of the 'rectangular' patch solid
> angle to the circular source solid angle, i.e. some factor > 1.  Your sky
> will of course not be continuous, but at least the total luminous output
> will be realistic.  See table 3-7, p70 in Chapter 3 here:
>
> http://climate-based-daylighting.com/doku.php?id=resources:thesis
>
> Another way is to use the measured data to create a 'brightdata'
> representation of the sky, which will be continuous.  How that is done is
> also described in Chapter 3.
>
> Cheers
> John
>
> John Mardaljevic PhD FSLL
> Professor of Building Daylight Modelling
> School of Civil & Building Engineering
> Loughborough University
> Loughborough
> Leicestershire
> LE11 3TU, UK
>
> Tel: +44 1509 222630 (Direct)
> Tel: +44 1509 228529 (Pam Allen, secretary)
>
> j.mardaljevic at lboro.ac.uk
>
> http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn
>
> Personal daylighting website:
> http://climate-based-daylighting.com
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
Dipl. Ing. Ehsan, M. Vazifeh
Project Assistant
Department of Building Physics and Building Ecology
Vienna University of Technology
Karlsplatz 13, A-1040 Vienna, Austria
Tel +43 1 58801 27003
Fax +43 1 58801 27093
Ehsan.mahmoudzadehvazifeh at tuwien.ac.at
www.bpi.tuwien.ac.at
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140414/e78a3c30/attachment.html>

From tilma.sierd at gmail.com  Tue Apr 15 01:30:54 2014
From: tilma.sierd at gmail.com (Sierd Tilma)
Date: Tue, 15 Apr 2014 10:30:54 +0200
Subject: [Radiance-general] Sun hour calculation
Message-ID: <534cee40.c2220f0a.7d36.3940@mx.google.com>

Dear members,

 

I have make daylight simulation for a school with appartments above. I have
calculat the daylight factor for diferent rooms. My question is if it's
possible to calculate how many sun hours every point on the grid recieve.

 

Thanks Sierd

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/345ec429/attachment.html>

From em.vazifeh at gmail.com  Tue Apr 15 06:10:56 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Tue, 15 Apr 2014 15:10:56 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CAJeoGJ6ru-Yd-jL7t1y+YjisUPqjA+KbdzR++pNKf4XjGXtp=w@mail.gmail.com>
References: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>
	<CAJeoGJ6ru-Yd-jL7t1y+YjisUPqjA+KbdzR++pNKf4XjGXtp=w@mail.gmail.com>
Message-ID: <CAJeoGJ7uLUjx+i34pFyTy37uPU4jjDkowrFv0ANiZ5GhhnxV6A@mail.gmail.com>

Dear All,

I am calculating now the RGB Luminance for each patch of Tregenza. If lets
say I have a radiance of 200 W/(sr.m^2) then the luminance for red will be
200*0.265*179, green will be 200*0.67*179, and blue will be 200*0.065*179
?!!
or I should simply say R=G=B=200/3*179??

Thanks a lot.
Ehsan

On Mon, Apr 14, 2014 at 4:37 PM, Ehsan M.Vazifeh <em.vazifeh at gmail.com>wrote:

> Thank you very much! I will try to use both methods.
>
> Cheers,
> Ehsan
>
>
> On Mon, Apr 14, 2014 at 3:13 PM, John Mardaljevic <
> J.Mardaljevic at lboro.ac.uk> wrote:
>
>> Hi Ehsan,
>>
>> Yes, that's right -- you simply scale the measured (circular patch)
>> luminance or radiance values by the ratio of the 'rectangular' patch solid
>> angle to the circular source solid angle, i.e. some factor > 1.  Your sky
>> will of course not be continuous, but at least the total luminous output
>> will be realistic.  See table 3-7, p70 in Chapter 3 here:
>>
>> http://climate-based-daylighting.com/doku.php?id=resources:thesis
>>
>> Another way is to use the measured data to create a 'brightdata'
>> representation of the sky, which will be continuous.  How that is done is
>> also described in Chapter 3.
>>
>> Cheers
>> John
>>
>> John Mardaljevic PhD FSLL
>> Professor of Building Daylight Modelling
>> School of Civil & Building Engineering
>> Loughborough University
>> Loughborough
>> Leicestershire
>> LE11 3TU, UK
>>
>> Tel: +44 1509 222630 (Direct)
>> Tel: +44 1509 228529 (Pam Allen, secretary)
>>
>> j.mardaljevic at lboro.ac.uk
>>
>> http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn
>>
>> Personal daylighting website:
>> http://climate-based-daylighting.com
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/293e8187/attachment.html>

From gmolina at hdlao.com  Tue Apr 15 06:20:11 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Tue, 15 Apr 2014 10:20:11 -0300
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CAJeoGJ7uLUjx+i34pFyTy37uPU4jjDkowrFv0ANiZ5GhhnxV6A@mail.gmail.com>
References: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>
	<CAJeoGJ6ru-Yd-jL7t1y+YjisUPqjA+KbdzR++pNKf4XjGXtp=w@mail.gmail.com>
	<CAJeoGJ7uLUjx+i34pFyTy37uPU4jjDkowrFv0ANiZ5GhhnxV6A@mail.gmail.com>
Message-ID: <CAK+g53AVdHixbgRs-WF72QoOjHF4RVigfxBt7nJ0sFNKupKhaQ@mail.gmail.com>

Ehsan,

I understand you can't find the R,G and B values from the total luminance
values (i.e. finding R, G and B from the equation
"L=179*(0.265*R+0.67*G+0.065*B)" is not mathematically possible).

You can use a "gray" sky by assigning R=G=B=L/179, which solve your
equation.

There might be a way of using a Colored sky, but I do not know it.

Bye!

Germ?n




2014-04-15 10:10 GMT-03:00 Ehsan M.Vazifeh <em.vazifeh at gmail.com>:

> Dear All,
>
> I am calculating now the RGB Luminance for each patch of Tregenza. If lets
> say I have a radiance of 200 W/(sr.m^2) then the luminance for red will be
> 200*0.265*179, green will be 200*0.67*179, and blue will be 200*0.065*179
> ?!!
> or I should simply say R=G=B=200/3*179??
>
> Thanks a lot.
> Ehsan
>
> On Mon, Apr 14, 2014 at 4:37 PM, Ehsan M.Vazifeh <em.vazifeh at gmail.com>wrote:
>
>> Thank you very much! I will try to use both methods.
>>
>> Cheers,
>> Ehsan
>>
>>
>> On Mon, Apr 14, 2014 at 3:13 PM, John Mardaljevic <
>> J.Mardaljevic at lboro.ac.uk> wrote:
>>
>>> Hi Ehsan,
>>>
>>> Yes, that's right -- you simply scale the measured (circular patch)
>>> luminance or radiance values by the ratio of the 'rectangular' patch solid
>>> angle to the circular source solid angle, i.e. some factor > 1.  Your sky
>>> will of course not be continuous, but at least the total luminous output
>>> will be realistic.  See table 3-7, p70 in Chapter 3 here:
>>>
>>> http://climate-based-daylighting.com/doku.php?id=resources:thesis
>>>
>>> Another way is to use the measured data to create a 'brightdata'
>>> representation of the sky, which will be continuous.  How that is done is
>>> also described in Chapter 3.
>>>
>>> Cheers
>>> John
>>>
>>> John Mardaljevic PhD FSLL
>>> Professor of Building Daylight Modelling
>>> School of Civil & Building Engineering
>>> Loughborough University
>>> Loughborough
>>> Leicestershire
>>> LE11 3TU, UK
>>>
>>> Tel: +44 1509 222630 (Direct)
>>> Tel: +44 1509 228529 (Pam Allen, secretary)
>>>
>>> j.mardaljevic at lboro.ac.uk
>>>
>>> http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn
>>>
>>> Personal daylighting website:
>>> http://climate-based-daylighting.com
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/79e016b5/attachment-0001.html>

From solomoncw76 at gmail.com  Tue Apr 15 06:25:53 2014
From: solomoncw76 at gmail.com (chang cw)
Date: Tue, 15 Apr 2014 21:25:53 +0800
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CAK+g53AVdHixbgRs-WF72QoOjHF4RVigfxBt7nJ0sFNKupKhaQ@mail.gmail.com>
References: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>
	<CAJeoGJ6ru-Yd-jL7t1y+YjisUPqjA+KbdzR++pNKf4XjGXtp=w@mail.gmail.com>
	<CAJeoGJ7uLUjx+i34pFyTy37uPU4jjDkowrFv0ANiZ5GhhnxV6A@mail.gmail.com>
	<CAK+g53AVdHixbgRs-WF72QoOjHF4RVigfxBt7nJ0sFNKupKhaQ@mail.gmail.com>
Message-ID: <CA+B4f5NCYRjkHmg29X-LXAfgN_VgxkrD__sX-LYdPTJ1P6eMjw@mail.gmail.com>

hi guys, been out of touch of this topic for a long time :0).

You cannot use the L from the sky scanner to get those RGB. But you can
actually put filter with known bandpass over the sky scanners to make
isolated measurements at different radiances

CW


On Tue, Apr 15, 2014 at 9:20 PM, CHI-German Molina <gmolina at hdlao.com>wrote:

> Ehsan,
>
> I understand you can't find the R,G and B values from the total luminance
> values (i.e. finding R, G and B from the equation
> "L=179*(0.265*R+0.67*G+0.065*B)" is not mathematically possible).
>
> You can use a "gray" sky by assigning R=G=B=L/179, which solve your
> equation.
>
> There might be a way of using a Colored sky, but I do not know it.
>
> Bye!
>
> Germ?n
>
>
>
>
> 2014-04-15 10:10 GMT-03:00 Ehsan M.Vazifeh <em.vazifeh at gmail.com>:
>
> Dear All,
>>
>> I am calculating now the RGB Luminance for each patch of Tregenza. If
>> lets say I have a radiance of 200 W/(sr.m^2) then the luminance for red
>> will be 200*0.265*179, green will be 200*0.67*179, and blue will be
>> 200*0.065*179 ?!!
>> or I should simply say R=G=B=200/3*179??
>>
>> Thanks a lot.
>> Ehsan
>>
>> On Mon, Apr 14, 2014 at 4:37 PM, Ehsan M.Vazifeh <em.vazifeh at gmail.com>wrote:
>>
>>> Thank you very much! I will try to use both methods.
>>>
>>> Cheers,
>>> Ehsan
>>>
>>>
>>> On Mon, Apr 14, 2014 at 3:13 PM, John Mardaljevic <
>>> J.Mardaljevic at lboro.ac.uk> wrote:
>>>
>>>> Hi Ehsan,
>>>>
>>>> Yes, that's right -- you simply scale the measured (circular patch)
>>>> luminance or radiance values by the ratio of the 'rectangular' patch solid
>>>> angle to the circular source solid angle, i.e. some factor > 1.  Your sky
>>>> will of course not be continuous, but at least the total luminous output
>>>> will be realistic.  See table 3-7, p70 in Chapter 3 here:
>>>>
>>>> http://climate-based-daylighting.com/doku.php?id=resources:thesis
>>>>
>>>> Another way is to use the measured data to create a 'brightdata'
>>>> representation of the sky, which will be continuous.  How that is done is
>>>> also described in Chapter 3.
>>>>
>>>> Cheers
>>>> John
>>>>
>>>> John Mardaljevic PhD FSLL
>>>> Professor of Building Daylight Modelling
>>>> School of Civil & Building Engineering
>>>> Loughborough University
>>>> Loughborough
>>>> Leicestershire
>>>> LE11 3TU, UK
>>>>
>>>> Tel: +44 1509 222630 (Direct)
>>>> Tel: +44 1509 228529 (Pam Allen, secretary)
>>>>
>>>> j.mardaljevic at lboro.ac.uk
>>>>
>>>> http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn
>>>>
>>>> Personal daylighting website:
>>>> http://climate-based-daylighting.com
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>
>>>
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
> son confidenciales y pueden contener informacion privilegiada protegida por
> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
> electronicos son susceptibles de ser cambiados, infectados o adulterados
> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
> cambios o sus consecuencias. Usted debe estar informado que la compania
> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
> gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only for
> the person or entity to which it is addressed. If you are neither the
> intended recipient nor the employee or agent responsible for delivering
> this message to the intended recipient, you are hereby notified that you
> may not review, retransmit, convert to hard copy, copy, use or distribute
> this email message or any attachments to it. If you have received this
> email in error, please contact the sender immediately and delete this
> message from any computer or other data bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
> antiv?rus antes de qualquer uso.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/6ed82993/attachment.html>

From em.vazifeh at gmail.com  Tue Apr 15 06:53:14 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Tue, 15 Apr 2014 15:53:14 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CA+B4f5NCYRjkHmg29X-LXAfgN_VgxkrD__sX-LYdPTJ1P6eMjw@mail.gmail.com>
References: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>
	<CAJeoGJ6ru-Yd-jL7t1y+YjisUPqjA+KbdzR++pNKf4XjGXtp=w@mail.gmail.com>
	<CAJeoGJ7uLUjx+i34pFyTy37uPU4jjDkowrFv0ANiZ5GhhnxV6A@mail.gmail.com>
	<CAK+g53AVdHixbgRs-WF72QoOjHF4RVigfxBt7nJ0sFNKupKhaQ@mail.gmail.com>
	<CA+B4f5NCYRjkHmg29X-LXAfgN_VgxkrD__sX-LYdPTJ1P6eMjw@mail.gmail.com>
Message-ID: <CAJeoGJ75VaScJwc8pMEqWjp6cj8kuuZaXcryWCHeFncpTH+QOA@mail.gmail.com>

Hi Chang,

As I understand you correctly, you mean to filter each color, therefore, I
need three sky scanner? :s

Cheers,
Ehsan


On Tue, Apr 15, 2014 at 3:25 PM, chang cw <solomoncw76 at gmail.com> wrote:

> hi guys, been out of touch of this topic for a long time :0).
>
> You cannot use the L from the sky scanner to get those RGB. But you can
> actually put filter with known bandpass over the sky scanners to make
> isolated measurements at different radiances
>
> CW
>
>
> On Tue, Apr 15, 2014 at 9:20 PM, CHI-German Molina <gmolina at hdlao.com>wrote:
>
>> Ehsan,
>>
>> I understand you can't find the R,G and B values from the total luminance
>> values (i.e. finding R, G and B from the equation
>> "L=179*(0.265*R+0.67*G+0.065*B)" is not mathematically possible).
>>
>> You can use a "gray" sky by assigning R=G=B=L/179, which solve your
>> equation.
>>
>> There might be a way of using a Colored sky, but I do not know it.
>>
>>  Bye!
>>
>> Germ?n
>>
>>
>>
>>
>> 2014-04-15 10:10 GMT-03:00 Ehsan M.Vazifeh <em.vazifeh at gmail.com>:
>>
>> Dear All,
>>>
>>> I am calculating now the RGB Luminance for each patch of Tregenza. If
>>> lets say I have a radiance of 200 W/(sr.m^2) then the luminance for red
>>> will be 200*0.265*179, green will be 200*0.67*179, and blue will be
>>> 200*0.065*179 ?!!
>>> or I should simply say R=G=B=200/3*179??
>>>
>>> Thanks a lot.
>>> Ehsan
>>>
>>> On Mon, Apr 14, 2014 at 4:37 PM, Ehsan M.Vazifeh <em.vazifeh at gmail.com>wrote:
>>>
>>>> Thank you very much! I will try to use both methods.
>>>>
>>>> Cheers,
>>>> Ehsan
>>>>
>>>>
>>>> On Mon, Apr 14, 2014 at 3:13 PM, John Mardaljevic <
>>>> J.Mardaljevic at lboro.ac.uk> wrote:
>>>>
>>>>> Hi Ehsan,
>>>>>
>>>>> Yes, that's right -- you simply scale the measured (circular patch)
>>>>> luminance or radiance values by the ratio of the 'rectangular' patch solid
>>>>> angle to the circular source solid angle, i.e. some factor > 1.  Your sky
>>>>> will of course not be continuous, but at least the total luminous output
>>>>> will be realistic.  See table 3-7, p70 in Chapter 3 here:
>>>>>
>>>>> http://climate-based-daylighting.com/doku.php?id=resources:thesis
>>>>>
>>>>> Another way is to use the measured data to create a 'brightdata'
>>>>> representation of the sky, which will be continuous.  How that is done is
>>>>> also described in Chapter 3.
>>>>>
>>>>> Cheers
>>>>> John
>>>>>
>>>>> John Mardaljevic PhD FSLL
>>>>> Professor of Building Daylight Modelling
>>>>> School of Civil & Building Engineering
>>>>> Loughborough University
>>>>> Loughborough
>>>>> Leicestershire
>>>>> LE11 3TU, UK
>>>>>
>>>>> Tel: +44 1509 222630 (Direct)
>>>>> Tel: +44 1509 228529 (Pam Allen, secretary)
>>>>>
>>>>> j.mardaljevic at lboro.ac.uk
>>>>>
>>>>> http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn
>>>>>
>>>>> Personal daylighting website:
>>>>> http://climate-based-daylighting.com
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>>
>> --
>> *Germ?n Molina L.*
>> Ingeniero Trainee
>> Hunter Douglas Chile S.A.
>> Celular +569 89224445
>>
>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
>> son confidenciales y pueden contener informacion privilegiada protegida por
>> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
>> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
>> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
>> electronicos son susceptibles de ser cambiados, infectados o adulterados
>> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
>> cambios o sus consecuencias. Usted debe estar informado que la compania
>> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
>> gracias.
>>
>> *Confidentiality Notice:* The information contained in this email
>> message, including any attachment, is confidential and is intended only for
>> the person or entity to which it is addressed. If you are neither the
>> intended recipient nor the employee or agent responsible for delivering
>> this message to the intended recipient, you are hereby notified that you
>> may not review, retransmit, convert to hard copy, copy, use or distribute
>> this email message or any attachments to it. If you have received this
>> email in error, please contact the sender immediately and delete this
>> message from any computer or other data bank, Thank you.
>>
>> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
>> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
>> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
>> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>> antiv?rus antes de qualquer uso.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
Dipl. Ing. Ehsan, M. Vazifeh
Project Assistant
Department of Building Physics and Building Ecology
Vienna University of Technology
Karlsplatz 13, A-1040 Vienna, Austria
Tel +43 1 58801 27003
Fax +43 1 58801 27093
Ehsan.mahmoudzadehvazifeh at tuwien.ac.at
www.bpi.tuwien.ac.at
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/1fe9acff/attachment-0001.html>

From solomoncw76 at gmail.com  Tue Apr 15 07:00:08 2014
From: solomoncw76 at gmail.com (chang cw)
Date: Tue, 15 Apr 2014 22:00:08 +0800
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CAJeoGJ75VaScJwc8pMEqWjp6cj8kuuZaXcryWCHeFncpTH+QOA@mail.gmail.com>
References: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>
	<CAJeoGJ6ru-Yd-jL7t1y+YjisUPqjA+KbdzR++pNKf4XjGXtp=w@mail.gmail.com>
	<CAJeoGJ7uLUjx+i34pFyTy37uPU4jjDkowrFv0ANiZ5GhhnxV6A@mail.gmail.com>
	<CAK+g53AVdHixbgRs-WF72QoOjHF4RVigfxBt7nJ0sFNKupKhaQ@mail.gmail.com>
	<CA+B4f5NCYRjkHmg29X-LXAfgN_VgxkrD__sX-LYdPTJ1P6eMjw@mail.gmail.com>
	<CAJeoGJ75VaScJwc8pMEqWjp6cj8kuuZaXcryWCHeFncpTH+QOA@mail.gmail.com>
Message-ID: <CA+B4f5MV9MzRCiwKB53MXYoVLp7YC5tU4Mq_8YsECZuZ2gUSqg@mail.gmail.com>

Yes or you can make measurements at 1 min interval.

If you are willing to try new stuff check out sun photometers at
http://aeronet.gsfc.nasa.gov

though the do not cover the whole sky dome, i think with measurements that
they make,  you can easily construct the scattering properties of the
atmosphere from the phase function and that cover quite a few discrete
wavelengths.

Cheers

CW



On Tue, Apr 15, 2014 at 9:53 PM, Ehsan M.Vazifeh <em.vazifeh at gmail.com>wrote:

> Hi Chang,
>
> As I understand you correctly, you mean to filter each color, therefore, I
> need three sky scanner? :s
>
> Cheers,
> Ehsan
>
>
> On Tue, Apr 15, 2014 at 3:25 PM, chang cw <solomoncw76 at gmail.com> wrote:
>
>> hi guys, been out of touch of this topic for a long time :0).
>>
>> You cannot use the L from the sky scanner to get those RGB. But you can
>> actually put filter with known bandpass over the sky scanners to make
>> isolated measurements at different radiances
>>
>> CW
>>
>>
>> On Tue, Apr 15, 2014 at 9:20 PM, CHI-German Molina <gmolina at hdlao.com>wrote:
>>
>>> Ehsan,
>>>
>>> I understand you can't find the R,G and B values from the total
>>> luminance values (i.e. finding R, G and B from the equation
>>> "L=179*(0.265*R+0.67*G+0.065*B)" is not mathematically possible).
>>>
>>> You can use a "gray" sky by assigning R=G=B=L/179, which solve your
>>> equation.
>>>
>>> There might be a way of using a Colored sky, but I do not know it.
>>>
>>>  Bye!
>>>
>>> Germ?n
>>>
>>>
>>>
>>>
>>> 2014-04-15 10:10 GMT-03:00 Ehsan M.Vazifeh <em.vazifeh at gmail.com>:
>>>
>>> Dear All,
>>>>
>>>> I am calculating now the RGB Luminance for each patch of Tregenza. If
>>>> lets say I have a radiance of 200 W/(sr.m^2) then the luminance for red
>>>> will be 200*0.265*179, green will be 200*0.67*179, and blue will be
>>>> 200*0.065*179 ?!!
>>>> or I should simply say R=G=B=200/3*179??
>>>>
>>>> Thanks a lot.
>>>> Ehsan
>>>>
>>>> On Mon, Apr 14, 2014 at 4:37 PM, Ehsan M.Vazifeh <em.vazifeh at gmail.com>wrote:
>>>>
>>>>> Thank you very much! I will try to use both methods.
>>>>>
>>>>> Cheers,
>>>>> Ehsan
>>>>>
>>>>>
>>>>> On Mon, Apr 14, 2014 at 3:13 PM, John Mardaljevic <
>>>>> J.Mardaljevic at lboro.ac.uk> wrote:
>>>>>
>>>>>> Hi Ehsan,
>>>>>>
>>>>>> Yes, that's right -- you simply scale the measured (circular patch)
>>>>>> luminance or radiance values by the ratio of the 'rectangular' patch solid
>>>>>> angle to the circular source solid angle, i.e. some factor > 1.  Your sky
>>>>>> will of course not be continuous, but at least the total luminous output
>>>>>> will be realistic.  See table 3-7, p70 in Chapter 3 here:
>>>>>>
>>>>>> http://climate-based-daylighting.com/doku.php?id=resources:thesis
>>>>>>
>>>>>> Another way is to use the measured data to create a 'brightdata'
>>>>>> representation of the sky, which will be continuous.  How that is done is
>>>>>> also described in Chapter 3.
>>>>>>
>>>>>> Cheers
>>>>>> John
>>>>>>
>>>>>> John Mardaljevic PhD FSLL
>>>>>> Professor of Building Daylight Modelling
>>>>>> School of Civil & Building Engineering
>>>>>> Loughborough University
>>>>>> Loughborough
>>>>>> Leicestershire
>>>>>> LE11 3TU, UK
>>>>>>
>>>>>> Tel: +44 1509 222630 (Direct)
>>>>>> Tel: +44 1509 228529 (Pam Allen, secretary)
>>>>>>
>>>>>> j.mardaljevic at lboro.ac.uk
>>>>>>
>>>>>>
>>>>>> http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn
>>>>>>
>>>>>> Personal daylighting website:
>>>>>> http://climate-based-daylighting.com
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>>
>>> --
>>> *Germ?n Molina L.*
>>> Ingeniero Trainee
>>> Hunter Douglas Chile S.A.
>>> Celular +569 89224445
>>>
>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
>>> son confidenciales y pueden contener informacion privilegiada protegida por
>>> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
>>> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
>>> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
>>> electronicos son susceptibles de ser cambiados, infectados o adulterados
>>> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
>>> cambios o sus consecuencias. Usted debe estar informado que la compania
>>> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
>>> gracias.
>>>
>>> *Confidentiality Notice:* The information contained in this email
>>> message, including any attachment, is confidential and is intended only for
>>> the person or entity to which it is addressed. If you are neither the
>>> intended recipient nor the employee or agent responsible for delivering
>>> this message to the intended recipient, you are hereby notified that you
>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>> this email message or any attachments to it. If you have received this
>>> email in error, please contact the sender immediately and delete this
>>> message from any computer or other data bank, Thank you.
>>>
>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
>>> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
>>> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
>>> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>> antiv?rus antes de qualquer uso.
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> Dipl. Ing. Ehsan, M. Vazifeh
> Project Assistant
> Department of Building Physics and Building Ecology
> Vienna University of Technology
> Karlsplatz 13, A-1040 Vienna, Austria
> Tel +43 1 58801 27003
> Fax +43 1 58801 27093
> Ehsan.mahmoudzadehvazifeh at tuwien.ac.at
> www.bpi.tuwien.ac.at
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/7949bb0d/attachment.html>

From Christopher.Rush at arup.com  Tue Apr 15 07:00:44 2014
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Tue, 15 Apr 2014 14:00:44 +0000
Subject: [Radiance-general] Sun hour calculation
In-Reply-To: <534cee40.c2220f0a.7d36.3940@mx.google.com>
References: <534cee40.c2220f0a.7d36.3940@mx.google.com>
Message-ID: <88079A360FAC7441AE93ECBF61998236113CFE3F@AMXExMb02.global.arup.com>

The IES LM-83 method for calculating Annual Sunlight Exposure may be a good place to start.
https://www.ies.org/store/product/approved-method-ies-spatial-daylight-autonomy-sda-and-annual-sunlight-exposure-ase-1287.cfm

If you're comfortable with the concept behind it, and scripting and programming, you could jump to playing around with some pre-configured scripts.
http://www.idlboise.com/design-tool/lm-83-automation

If you have more specifics about the complexity of your design case, the intent of the data you're looking to generate, and your familiarity with Radiance tools, and other related software packages or programming tools, someone can surely offer more specific advice.



From: Sierd Tilma [mailto:tilma.sierd at gmail.com]
Sent: Tuesday, April 15, 2014 4:31 AM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Sun hour calculation

Dear members,

I have make daylight simulation for a school with appartments above. I have calculat the daylight factor for diferent rooms. My question is if it's possible to calculate how many sun hours every point on the grid recieve.

Thanks Sierd
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/e9a563f3/attachment-0001.html>

From em.vazifeh at gmail.com  Tue Apr 15 07:11:49 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Tue, 15 Apr 2014 16:11:49 +0200
Subject: [Radiance-general] Modelling sky using sky scanner MS-321LR
In-Reply-To: <CA+B4f5MV9MzRCiwKB53MXYoVLp7YC5tU4Mq_8YsECZuZ2gUSqg@mail.gmail.com>
References: <E8991D9D-29DF-473F-88F3-2B38070B4FDA@lboro.ac.uk>
	<CAJeoGJ6ru-Yd-jL7t1y+YjisUPqjA+KbdzR++pNKf4XjGXtp=w@mail.gmail.com>
	<CAJeoGJ7uLUjx+i34pFyTy37uPU4jjDkowrFv0ANiZ5GhhnxV6A@mail.gmail.com>
	<CAK+g53AVdHixbgRs-WF72QoOjHF4RVigfxBt7nJ0sFNKupKhaQ@mail.gmail.com>
	<CA+B4f5NCYRjkHmg29X-LXAfgN_VgxkrD__sX-LYdPTJ1P6eMjw@mail.gmail.com>
	<CAJeoGJ75VaScJwc8pMEqWjp6cj8kuuZaXcryWCHeFncpTH+QOA@mail.gmail.com>
	<CA+B4f5MV9MzRCiwKB53MXYoVLp7YC5tU4Mq_8YsECZuZ2gUSqg@mail.gmail.com>
Message-ID: <CAJeoGJ7wg48b6rafc8NANbfUFHHz9=BgpTDa_s773p2+mzs=Cw@mail.gmail.com>

I am using MS sky-scanner, it takes about 4.5 minutes to sky once the whole
sky dome. therefore, we are recording data in 15 min intervals.

Cheers,
Ehsan


On Tue, Apr 15, 2014 at 4:00 PM, chang cw <solomoncw76 at gmail.com> wrote:

> Yes or you can make measurements at 1 min interval.
>
> If you are willing to try new stuff check out sun photometers at
> http://aeronet.gsfc.nasa.gov
>
> though the do not cover the whole sky dome, i think with measurements that
> they make,  you can easily construct the scattering properties of the
> atmosphere from the phase function and that cover quite a few discrete
> wavelengths.
>
> Cheers
>
> CW
>
>
>
> On Tue, Apr 15, 2014 at 9:53 PM, Ehsan M.Vazifeh <em.vazifeh at gmail.com>wrote:
>
>> Hi Chang,
>>
>> As I understand you correctly, you mean to filter each color, therefore,
>> I need three sky scanner? :s
>>
>> Cheers,
>> Ehsan
>>
>>
>> On Tue, Apr 15, 2014 at 3:25 PM, chang cw <solomoncw76 at gmail.com> wrote:
>>
>>> hi guys, been out of touch of this topic for a long time :0).
>>>
>>> You cannot use the L from the sky scanner to get those RGB. But you can
>>> actually put filter with known bandpass over the sky scanners to make
>>> isolated measurements at different radiances
>>>
>>> CW
>>>
>>>
>>> On Tue, Apr 15, 2014 at 9:20 PM, CHI-German Molina <gmolina at hdlao.com>wrote:
>>>
>>>> Ehsan,
>>>>
>>>> I understand you can't find the R,G and B values from the total
>>>> luminance values (i.e. finding R, G and B from the equation
>>>> "L=179*(0.265*R+0.67*G+0.065*B)" is not mathematically possible).
>>>>
>>>> You can use a "gray" sky by assigning R=G=B=L/179, which solve your
>>>> equation.
>>>>
>>>> There might be a way of using a Colored sky, but I do not know it.
>>>>
>>>>  Bye!
>>>>
>>>> Germ?n
>>>>
>>>>
>>>>
>>>>
>>>> 2014-04-15 10:10 GMT-03:00 Ehsan M.Vazifeh <em.vazifeh at gmail.com>:
>>>>
>>>> Dear All,
>>>>>
>>>>> I am calculating now the RGB Luminance for each patch of Tregenza. If
>>>>> lets say I have a radiance of 200 W/(sr.m^2) then the luminance for red
>>>>> will be 200*0.265*179, green will be 200*0.67*179, and blue will be
>>>>> 200*0.065*179 ?!!
>>>>> or I should simply say R=G=B=200/3*179??
>>>>>
>>>>> Thanks a lot.
>>>>> Ehsan
>>>>>
>>>>> On Mon, Apr 14, 2014 at 4:37 PM, Ehsan M.Vazifeh <em.vazifeh at gmail.com
>>>>> > wrote:
>>>>>
>>>>>> Thank you very much! I will try to use both methods.
>>>>>>
>>>>>> Cheers,
>>>>>> Ehsan
>>>>>>
>>>>>>
>>>>>> On Mon, Apr 14, 2014 at 3:13 PM, John Mardaljevic <
>>>>>> J.Mardaljevic at lboro.ac.uk> wrote:
>>>>>>
>>>>>>> Hi Ehsan,
>>>>>>>
>>>>>>> Yes, that's right -- you simply scale the measured (circular patch)
>>>>>>> luminance or radiance values by the ratio of the 'rectangular' patch solid
>>>>>>> angle to the circular source solid angle, i.e. some factor > 1.  Your sky
>>>>>>> will of course not be continuous, but at least the total luminous output
>>>>>>> will be realistic.  See table 3-7, p70 in Chapter 3 here:
>>>>>>>
>>>>>>> http://climate-based-daylighting.com/doku.php?id=resources:thesis
>>>>>>>
>>>>>>> Another way is to use the measured data to create a 'brightdata'
>>>>>>> representation of the sky, which will be continuous.  How that is done is
>>>>>>> also described in Chapter 3.
>>>>>>>
>>>>>>> Cheers
>>>>>>> John
>>>>>>>
>>>>>>> John Mardaljevic PhD FSLL
>>>>>>> Professor of Building Daylight Modelling
>>>>>>> School of Civil & Building Engineering
>>>>>>> Loughborough University
>>>>>>> Loughborough
>>>>>>> Leicestershire
>>>>>>> LE11 3TU, UK
>>>>>>>
>>>>>>> Tel: +44 1509 222630 (Direct)
>>>>>>> Tel: +44 1509 228529 (Pam Allen, secretary)
>>>>>>>
>>>>>>> j.mardaljevic at lboro.ac.uk
>>>>>>>
>>>>>>>
>>>>>>> http://www.lboro.ac.uk/departments/civil-building/staff/mardaljevicjohn
>>>>>>>
>>>>>>> Personal daylighting website:
>>>>>>> http://climate-based-daylighting.com
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Radiance-general mailing list
>>>>>>> Radiance-general at radiance-online.org
>>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> *Germ?n Molina L.*
>>>> Ingeniero Trainee
>>>> Hunter Douglas Chile S.A.
>>>> Celular +569 89224445
>>>>
>>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>>> adjuntos son confidenciales y pueden contener informacion privilegiada
>>>> protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de
>>>> copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por
>>>> favor, avise inmediatamente al emisor y borre este mensaje de su sistema.
>>>> Los mensajes electronicos son susceptibles de ser cambiados, infectados o
>>>> adulterados sin autorizacion. No asumimos responsabilidad alguna por
>>>> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
>>>> que la compania puede hacer un seguimiento de sus mensajes electronicos y
>>>> su contenido, gracias.
>>>>
>>>> *Confidentiality Notice:* The information contained in this email
>>>> message, including any attachment, is confidential and is intended only for
>>>> the person or entity to which it is addressed. If you are neither the
>>>> intended recipient nor the employee or agent responsible for delivering
>>>> this message to the intended recipient, you are hereby notified that you
>>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>>> this email message or any attachments to it. If you have received this
>>>> email in error, please contact the sender immediately and delete this
>>>> message from any computer or other data bank, Thank you.
>>>>
>>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo
>>>> do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
>>>> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
>>>> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>>> antiv?rus antes de qualquer uso.
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>>
>> --
>> Dipl. Ing. Ehsan, M. Vazifeh
>> Project Assistant
>> Department of Building Physics and Building Ecology
>> Vienna University of Technology
>> Karlsplatz 13, A-1040 Vienna, Austria
>> Tel +43 1 58801 27003
>> Fax +43 1 58801 27093
>> Ehsan.mahmoudzadehvazifeh at tuwien.ac.at
>> www.bpi.tuwien.ac.at
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
Dipl. Ing. Ehsan, M. Vazifeh
Project Assistant
Department of Building Physics and Building Ecology
Vienna University of Technology
Karlsplatz 13, A-1040 Vienna, Austria
Tel +43 1 58801 27003
Fax +43 1 58801 27093
Ehsan.mahmoudzadehvazifeh at tuwien.ac.at
www.bpi.tuwien.ac.at
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/f00540ca/attachment.html>

From vaibhavjain.co at gmail.com  Tue Apr 15 09:16:28 2014
From: vaibhavjain.co at gmail.com (Vaib)
Date: Tue, 15 Apr 2014 18:16:28 +0200
Subject: [Radiance-general] Where does bgraph look for .plt files?
Message-ID: <CAD7gt0WfTisi0_D4HkxP+g3UxCisjBmBT3pJDrN5wt7Si_NWGQ@mail.gmail.com>

Hello everyone!

I found a similar discussion on this link:
http://www.radiance-online.org/pipermail/radiance-dev/2013-December/001383.html

But still couldn't figure out. What could be the reason?

*When I try bgraph command, I get an error that .plt file is not found.*
bgraph lux.plt | x11meta
include=line.plt
bgraph: lux.plt: File not found: line.plt

*Here is the lux.plt file:*
include=line.plt
title="Working Plane Illuminance"
xlabel="Distance from Window"
ylabel="Illuminance [lux]"
Adata=lux.csv
Acolor=2

*line.plt file is present in:*
/usr/share/radiance/meta

*RAYPATH is set to:*
echo $RAYPATH
.:/usr/share/radiance:

*When I copied the line.plt file to working directory, the error is:*
include=line.plt
bgraph: lux.plt: File not found: line.plt

*When I gave absolute path of line.plt file in lux.plt file, the error is:*
bgraph: Cannot open: /usr/share/radiance/meta/line.plt

*Radiance version is:*
RADIANCE 4R1+20120125-1+b1 (Debian package) 32bit

So the question arises, Where does bgraph look for .plt files?

Thank you!

Vaib
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/145d393f/attachment-0001.html>

From gregoryjward at gmail.com  Tue Apr 15 09:38:38 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 15 Apr 2014 09:38:38 -0700
Subject: [Radiance-general] Where does bgraph look for .plt files?
In-Reply-To: <CAD7gt0WfTisi0_D4HkxP+g3UxCisjBmBT3pJDrN5wt7Si_NWGQ@mail.gmail.com>
References: <CAD7gt0WfTisi0_D4HkxP+g3UxCisjBmBT3pJDrN5wt7Si_NWGQ@mail.gmail.com>
Message-ID: <7F2DA804-837E-41E7-B928-F0561FBA1D95@lmi.net>

You probably need to set the $MDIR environment variable in your .bashrc (or other) startup script.  Some default directory location gets compiled in, but it must not agree with your particular installation location.  This variable is separate from the $RAYPATH setting, but similar.  It is the only other variable you need set in Radiance, as these plotting tools predate any of the others.

Once you find where these files are located (try "/usr/share/radiance/meta" for starters), set your environment variable like so:

	export MDIR=/usr/share/radiance/meta/

The trailing '/' is necessary in this case.

Good luck!
-Greg

> From: Vaib <vaibhavjain.co at gmail.com>
> Subject: [Radiance-general] Where does bgraph look for .plt files?
> Date: April 15, 2014 9:16:28 AM PDT
> 
> Hello everyone!
> 
> I found a similar discussion on this link: 
> http://www.radiance-online.org/pipermail/radiance-dev/2013-December/001383.html
> 
> But still couldn't figure out. What could be the reason?
> 
> When I try bgraph command, I get an error that .plt file is not found.
> bgraph lux.plt | x11meta 
> include=line.plt
> bgraph: lux.plt: File not found: line.plt
> 
> Here is the lux.plt file:
> include=line.plt 
> title="Working Plane Illuminance" 
> xlabel="Distance from Window" 
> ylabel="Illuminance [lux]" 
> Adata=lux.csv 
> Acolor=2
> 
> line.plt file is present in:
> /usr/share/radiance/meta
> 
> RAYPATH is set to:
> echo $RAYPATH
> .:/usr/share/radiance:
> 
> When I copied the line.plt file to working directory, the error is:
> include=line.plt
> bgraph: lux.plt: File not found: line.plt
> 
> When I gave absolute path of line.plt file in lux.plt file, the error is:
> bgraph: Cannot open: /usr/share/radiance/meta/line.plt
> 
> Radiance version is:
> RADIANCE 4R1+20120125-1+b1 (Debian package) 32bit
> 
> So the question arises, Where does bgraph look for .plt files?
> 
> Thank you!
> 
> Vaib
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/f4b65310/attachment.html>

From vaibhavjain.co at gmail.com  Tue Apr 15 10:20:06 2014
From: vaibhavjain.co at gmail.com (Vaib)
Date: Tue, 15 Apr 2014 19:20:06 +0200
Subject: [Radiance-general] Where does bgraph look for .plt files?
In-Reply-To: <7F2DA804-837E-41E7-B928-F0561FBA1D95@lmi.net>
References: <CAD7gt0WfTisi0_D4HkxP+g3UxCisjBmBT3pJDrN5wt7Si_NWGQ@mail.gmail.com>
	<7F2DA804-837E-41E7-B928-F0561FBA1D95@lmi.net>
Message-ID: <CAD7gt0U==iDAaMmMbnK4PMs7rYd6wOeyyKGiawiL_B8YNp8FSA@mail.gmail.com>

Thank you Dr.Greg,

Still it remains same.

echo $MDIR
/usr/share/radiance/meta/

bgraph lux.plt | x11meta
include=line.plt
bgraph: lux.plt: File not found: line.plt


Vaib



On 15 April 2014 18:38, Greg Ward <gregoryjward at gmail.com> wrote:

> You probably need to set the $MDIR environment variable in your .bashrc
> (or other) startup script.  Some default directory location gets compiled
> in, but it must not agree with your particular installation location.  This
> variable is separate from the $RAYPATH setting, but similar.  It is the
> only other variable you need set in Radiance, as these plotting tools
> predate any of the others.
>
> Once you find where these files are located (try
> "/usr/share/radiance/meta" for starters), set your environment variable
> like so:
>
> export MDIR=/usr/share/radiance/meta/
>
> The trailing '/' is necessary in this case.
>
> Good luck!
> -Greg
>
> *From: *Vaib <vaibhavjain.co at gmail.com>
>
> *Subject: *[Radiance-general] Where does bgraph look for .plt files?
>
> *Date: *April 15, 2014 9:16:28 AM PDT
>
>
>  Hello everyone!
>
> I found a similar discussion on this link:
>
> http://www.radiance-online.org/pipermail/radiance-dev/2013-December/001383.html
>
> But still couldn't figure out. What could be the reason?
>
> *When I try bgraph command, I get an error that .plt file is not found.*
> bgraph lux.plt | x11meta
> include=line.plt
> bgraph: lux.plt: File not found: line.plt
>
> *Here is the lux.plt file:*
> include=line.plt
> title="Working Plane Illuminance"
> xlabel="Distance from Window"
> ylabel="Illuminance [lux]"
> Adata=lux.csv
> Acolor=2
>
> *line.plt file is present in:*
> /usr/share/radiance/meta
>
> *RAYPATH is set to:*
> echo $RAYPATH
> .:/usr/share/radiance:
>
> *When I copied the line.plt file to working directory, the error is:*
> include=line.plt
> bgraph: lux.plt: File not found: line.plt
>
> *When I gave absolute path of line.plt file in lux.plt file, the error is:*
> bgraph: Cannot open: /usr/share/radiance/meta/line.plt
>
> *Radiance version is:*
> RADIANCE 4R1+20120125-1+b1 (Debian package) 32bit
>
> So the question arises, Where does bgraph look for .plt files?
>
> Thank you!
>
> Vaib
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/0fa2512e/attachment.html>

From gward at lmi.net  Tue Apr 15 10:34:05 2014
From: gward at lmi.net (Greg Ward)
Date: Tue, 15 Apr 2014 10:34:05 -0700
Subject: [Radiance-general] Where does bgraph look for .plt files?
In-Reply-To: <CAD7gt0U==iDAaMmMbnK4PMs7rYd6wOeyyKGiawiL_B8YNp8FSA@mail.gmail.com>
References: <CAD7gt0WfTisi0_D4HkxP+g3UxCisjBmBT3pJDrN5wt7Si_NWGQ@mail.gmail.com>
	<7F2DA804-837E-41E7-B928-F0561FBA1D95@lmi.net>
	<CAD7gt0U==iDAaMmMbnK4PMs7rYd6wOeyyKGiawiL_B8YNp8FSA@mail.gmail.com>
Message-ID: <E9833256-DA09-4D55-BF3F-FBB1BFC6EF51@lmi.net>

As I *said*, you need to determine where the files are living on your system.  I don't know.  That's why there's an environment variable.  You need to FIRST find the file "line.plt" on your system, THEN set the $MDIR variable to that location.  Simple.

-Greg

> From: Vaib <vaibhavjain.co at gmail.com>
> Subject: Re: [Radiance-general] Where does bgraph look for .plt files?
> Date: April 15, 2014 10:20:06 AM PDT
> 
> Thank you Dr.Greg,
> 
> Still it remains same.
> 
> echo $MDIR
> /usr/share/radiance/meta/
> 
> bgraph lux.plt | x11meta
> include=line.plt
> bgraph: lux.plt: File not found: line.plt
> 
> 
> Vaib
> 
> 
> 
> On 15 April 2014 18:38, Greg Ward <gregoryjward at gmail.com> wrote:
> You probably need to set the $MDIR environment variable in your .bashrc (or other) startup script.  Some default directory location gets compiled in, but it must not agree with your particular installation location.  This variable is separate from the $RAYPATH setting, but similar.  It is the only other variable you need set in Radiance, as these plotting tools predate any of the others.
> 
> Once you find where these files are located (try "/usr/share/radiance/meta" for starters), set your environment variable like so:
> 
> 	export MDIR=/usr/share/radiance/meta/
> 
> The trailing '/' is necessary in this case.
> 
> Good luck!
> -Greg
> 
>> From: Vaib <vaibhavjain.co at gmail.com>
>> Subject: [Radiance-general] Where does bgraph look for .plt files?
>> Date: April 15, 2014 9:16:28 AM PDT
>> 
>> Hello everyone!
>> 
>> I found a similar discussion on this link: 
>> http://www.radiance-online.org/pipermail/radiance-dev/2013-December/001383.html
>> 
>> But still couldn't figure out. What could be the reason?
>> 
>> When I try bgraph command, I get an error that .plt file is not found.
>> bgraph lux.plt | x11meta 
>> include=line.plt
>> bgraph: lux.plt: File not found: line.plt
>> 
>> Here is the lux.plt file:
>> include=line.plt 
>> title="Working Plane Illuminance" 
>> xlabel="Distance from Window" 
>> ylabel="Illuminance [lux]" 
>> Adata=lux.csv 
>> Acolor=2
>> 
>> line.plt file is present in:
>> /usr/share/radiance/meta
>> 
>> RAYPATH is set to:
>> echo $RAYPATH
>> .:/usr/share/radiance:
>> 
>> When I copied the line.plt file to working directory, the error is:
>> include=line.plt
>> bgraph: lux.plt: File not found: line.plt
>> 
>> When I gave absolute path of line.plt file in lux.plt file, the error is:
>> bgraph: Cannot open: /usr/share/radiance/meta/line.plt
>> 
>> Radiance version is:
>> RADIANCE 4R1+20120125-1+b1 (Debian package) 32bit
>> 
>> So the question arises, Where does bgraph look for .plt files?
>> 
>> Thank you!
>> 
>> Vaib
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/4a0db5c4/attachment-0001.html>

From kskonis at gmail.com  Tue Apr 15 10:54:33 2014
From: kskonis at gmail.com (Kyle Konis)
Date: Tue, 15 Apr 2014 10:54:33 -0700
Subject: [Radiance-general] Experience implementing gendaylit with
 physical inputs (-G: direct - horizontal irradiance and diffuse -
 horizontal irradiance)
In-Reply-To: <534692A7.4060506@ise.fraunhofer.de>
References: <CAAzVHq1ZU7wy_iwQAFfCxtM_ekoPvOFHaG9QuHfSVZ+8dDQ2EQ@mail.gmail.com>
	<1B23446CBF250648A2FC775DE3FE7E80551BB7BE@OC11expo28.exchange.mit.edu>
	<534643FD.2020107@gmail.com> <534692A7.4060506@ise.fraunhofer.de>
Message-ID: <CAAzVHq3LT_qwqqtWDYAoXmXvDDRqOaQpt35obd8tSwdOroWzcQ@mail.gmail.com>

Thank you everyone for your comments.

-Kyle

-----------------------------------------------
Kyle Konis, AIA, Ph.D
Assistant Professor
School of Architecture, WAH 204
University of Southern California
Los Angeles, CA 90089-0291
http://arch.usc.edu/faculty/kkonis
-----------------------------------------------



On Thu, Apr 10, 2014 at 5:46 AM, Jan Wienold
<jan.wienold at ise.fraunhofer.de>wrote:

> Hi Kyle,
>
> I can confirm, that the delta-T sensor delivers very good and accurate
> values. Problematic is just sun-rise and sun-set.
>
> In case you have only the global horizontal iilluminance, the Erbs model
> is the most accurate one (but still the error could be huge). This model is
> implemented in the current version of gendaylit (-E option). you could also
> see the error and spread of the data in our presentation at the last
> radiance workshop:
> http://www.radiance-online.org/community/workshops/2013-
> golden-co/sprenger_wienold_gendaylit.pdf
>
> If you can afford the sensor, I would go for the delta-T. We used it in
> several projects and also did comparisons with a tracking pyrheliometer.
>
> Jan
>
>
>
>
> On 04/10/2014 09:10 AM, Axel Jacobs wrote:
>
>> Hi Kyle,
>>
>> check out the SPN1 and BF5 from Delta-T:
>>
>> http://www.delta-t.co.uk/product-category.asp?div=
>> Meteorology%20and%20Solar
>>
>> Very neat, but I have not used them myself.
>>
>> If you prefer to use two instruments and shading ring instead, you'll
>> need to correct for the shading ring:
>>
>> Rawlins F, Readings CJ (1986) The shade ring correction for measurements
>> of diffuse irradiance under clear skies. Solar Energy 37:407?416
>>
>> Steven MD, Unsworth MH (1980) Shade-ring corrections for pyranometer
>> measurements of diffuse solar radiation from cloudless skies. Quart J Royal
>> Meteorol Soc 106:865?872
>>
>> Painter HE (1981) The shade ring correction factor for diffuse irradiance
>> measurements. Solar Energy 26:361?363
>>
>> Regards
>>
>> Axel
>>
>> On 10/04/14 01:29, Christoph Reinhart wrote:
>>
>>> Hi Kyle,
>>>
>>> Your approach is valid. Depending on what your plan to do with the data,
>>> you can also use just global horizontal irradiance and use the Reindl
>>> (or another separation model) to model direct and diffuse components. I
>>> have used Reindl extensively in the past with satisfactory results. For
>>> validation work using two sensors is of course preferable. You can use
>>> the gen_reindl.exe command in Daysim to convert a time series of
>>>
>>> month day hour global-irradiance
>>>
>>> into a Daysim weather file.
>>>
>>> Best,
>>>
>>> Christoph
>>>
>>> *From:*Kyle Konis [mailto:kskonis at gmail.com]
>>> *Sent:* Wednesday, April 9, 2014 8:08 PM
>>> *To:* Radiance general discussion
>>> *Subject:* [Radiance-general] Experience implementing gendaylit with
>>> physical inputs (-G: direct - horizontal irradiance and diffuse -
>>> horizontal irradiance)
>>>
>>> I am curious if anyone has experience to share regarding the generation
>>> of skies with gendaylit using physical sensor data as input.
>>>
>>> I would like to monitor sky conditions at a building rooftop site and
>>> plan to collect direct - horizontal irradiance and diffuse - horizontal
>>> irradiance using Licor pyranometers.
>>>
>>> Both sensors will be oriented horizontally. The first will be unshaded
>>> and record global horizontal irradiance.
>>>
>>> The second will have a shadow band applied and will serve to record
>>> diffuse horizontal irradiance.
>>>
>>> I will then subtract the diffuse-horizontal contribution from the global
>>> horizontal value to obtain an estimate of direct-horizontal irradiance.
>>>
>>> I wanted to confirm that this is an appropriate approach, as well as to
>>> see if anyone has an alternative (better) idea, that does not involve a
>>> pyrheliometer.
>>>
>>> Best,
>>>
>>> -Kyle
>>>
>>> -----------------------------------------------
>>>
>>> Kyle Konis, AIA, Ph.D
>>> Assistant Professor
>>> School of Architecture, WAH 204
>>> University of Southern California
>>> Los Angeles, CA 90089-0291
>>> http://arch.usc.edu/faculty/kkonis
>>> -----------------------------------------------
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> --
> Dr.-Ing. Jan Wienold
> Head of Team Passive Systems and Daylighting
> Fraunhofer-Institut f?r Solare Energiesysteme
> Thermal Systems and Buildings
> Heidenhofstr. 2, 79110 Freiburg, Germany
> Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
> jan.wienold at ise.fraunhofer.de
> http://www.ise.fraunhofer.de
>
> In office:
> Mo,Tue: 8:30-18:00
> We,Thu: 8:30-16:00
> Fr:  8:30-15:30
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/c012c5ca/attachment.html>

From vaibhavjain.co at gmail.com  Tue Apr 15 11:19:31 2014
From: vaibhavjain.co at gmail.com (Vaib)
Date: Tue, 15 Apr 2014 20:19:31 +0200
Subject: [Radiance-general] Where does bgraph look for .plt files?
In-Reply-To: <E9833256-DA09-4D55-BF3F-FBB1BFC6EF51@lmi.net>
References: <CAD7gt0WfTisi0_D4HkxP+g3UxCisjBmBT3pJDrN5wt7Si_NWGQ@mail.gmail.com>
	<7F2DA804-837E-41E7-B928-F0561FBA1D95@lmi.net>
	<CAD7gt0U==iDAaMmMbnK4PMs7rYd6wOeyyKGiawiL_B8YNp8FSA@mail.gmail.com>
	<E9833256-DA09-4D55-BF3F-FBB1BFC6EF51@lmi.net>
Message-ID: <CAD7gt0Wx9bsuE2sJBkEji3fw_4Oo2vm00T4QU=eb_b9R_UWEzw@mail.gmail.com>

Sorry if I missed to mention, all the .plt files are present at
/usr/share/radiance/meta/
only, and I have set the MDIR environment variable (in both .profile, and
.bashrc) to the same path. I just crosschecked again. May be there is
something not working on my system. Or not a good day today. Thank you!

Vaib


On 15 April 2014 19:34, Greg Ward <gward at lmi.net> wrote:

> As I *said*, you need to determine where the files are living on your
> system.  I don't know.  That's why there's an environment variable.  You
> need to FIRST find the file "line.plt" on your system, THEN set the $MDIR
> variable to that location.  Simple.
>
> -Greg
>
> *From: *Vaib <vaibhavjain.co at gmail.com>
>
> *Subject: *Re: [Radiance-general] Where does bgraph look for .plt files?
>
> *Date: *April 15, 2014 10:20:06 AM PDT
>
>
>  Thank you Dr.Greg,
>
> Still it remains same.
>
> echo $MDIR
> /usr/share/radiance/meta/
>
> bgraph lux.plt | x11meta
> include=line.plt
> bgraph: lux.plt: File not found: line.plt
>
>
> Vaib
>
>
>
> On 15 April 2014 18:38, Greg Ward <gregoryjward at gmail.com> wrote:
>
>> You probably need to set the $MDIR environment variable in your .bashrc
>> (or other) startup script.  Some default directory location gets compiled
>> in, but it must not agree with your particular installation location.  This
>> variable is separate from the $RAYPATH setting, but similar.  It is the
>> only other variable you need set in Radiance, as these plotting tools
>> predate any of the others.
>>
>> Once you find where these files are located (try
>> "/usr/share/radiance/meta" for starters), set your environment variable
>> like so:
>>
>> export MDIR=/usr/share/radiance/meta/
>>
>> The trailing '/' is necessary in this case.
>>
>> Good luck!
>> -Greg
>>
>> *From: *Vaib <vaibhavjain.co at gmail.com>
>>
>> *Subject: *[Radiance-general] Where does bgraph look for .plt files?
>>
>> *Date: *April 15, 2014 9:16:28 AM PDT
>>
>>
>>  Hello everyone!
>>
>> I found a similar discussion on this link:
>>
>> http://www.radiance-online.org/pipermail/radiance-dev/2013-December/001383.html
>>
>> But still couldn't figure out. What could be the reason?
>>
>> *When I try bgraph command, I get an error that .plt file is not found.*
>> bgraph lux.plt | x11meta
>> include=line.plt
>> bgraph: lux.plt: File not found: line.plt
>>
>> *Here is the lux.plt file:*
>> include=line.plt
>> title="Working Plane Illuminance"
>> xlabel="Distance from Window"
>> ylabel="Illuminance [lux]"
>> Adata=lux.csv
>> Acolor=2
>>
>> *line.plt file is present in:*
>> /usr/share/radiance/meta
>>
>> *RAYPATH is set to:*
>> echo $RAYPATH
>> .:/usr/share/radiance:
>>
>> *When I copied the line.plt file to working directory, the error is:*
>> include=line.plt
>> bgraph: lux.plt: File not found: line.plt
>>
>> *When I gave absolute path of line.plt file in lux.plt file, the error
>> is:*
>> bgraph: Cannot open: /usr/share/radiance/meta/line.plt
>>
>> *Radiance version is:*
>> RADIANCE 4R1+20120125-1+b1 (Debian package) 32bit
>>
>> So the question arises, Where does bgraph look for .plt files?
>>
>> Thank you!
>>
>> Vaib
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/97b9a094/attachment-0001.html>

From gregoryjward at gmail.com  Tue Apr 15 11:36:38 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 15 Apr 2014 11:36:38 -0700
Subject: [Radiance-general] Where does bgraph look for .plt files?
In-Reply-To: <CAD7gt0Wx9bsuE2sJBkEji3fw_4Oo2vm00T4QU=eb_b9R_UWEzw@mail.gmail.com>
References: <CAD7gt0WfTisi0_D4HkxP+g3UxCisjBmBT3pJDrN5wt7Si_NWGQ@mail.gmail.com>
	<7F2DA804-837E-41E7-B928-F0561FBA1D95@lmi.net>
	<CAD7gt0U==iDAaMmMbnK4PMs7rYd6wOeyyKGiawiL_B8YNp8FSA@mail.gmail.com>
	<E9833256-DA09-4D55-BF3F-FBB1BFC6EF51@lmi.net>
	<CAD7gt0Wx9bsuE2sJBkEji3fw_4Oo2vm00T4QU=eb_b9R_UWEzw@mail.gmail.com>
Message-ID: <6EFC15DE-66B2-47F1-8D6A-E1E3C890800B@lmi.net>

That is very strange in that case.  What happens when you run the following:

	csh -f -c 'ls -l ${MDIR}line.plt'

You should see something like:

	-rw-r--r--  1 gward  admin  728 Feb 13  1990   /usr/share/radiance/meta/line.plt

...only with your user name, obviously.  Make sure the file is readable.  The contents of the file should be:

#
#	This file defines a standard line plot,
#	where a curve is represented by lines
#	connecting each point.
#

include = standard.plt		# standard definitions

lthick = 2	# line thickness

(...and so on...)

I can't think what else might be wrong.

-Greg

> From: Vaib <vaibhavjain.co at gmail.com>
> Subject: Re: [Radiance-general] Where does bgraph look for .plt files?
> Date: April 15, 2014 11:19:31 AM PDT
> 
> Sorry if I missed to mention, all the .plt files are present at /usr/share/radiance/meta/ only, and I have set the MDIR environment variable (in both .profile, and .bashrc) to the same path. I just crosschecked again. May be there is something not working on my system. Or not a good day today. Thank you!
> 
> Vaib
> 
> 
> On 15 April 2014 19:34, Greg Ward <gward at lmi.net> wrote:
> As I *said*, you need to determine where the files are living on your system.  I don't know.  That's why there's an environment variable.  You need to FIRST find the file "line.plt" on your system, THEN set the $MDIR variable to that location.  Simple.
> 
> -Greg
> 
>> From: Vaib <vaibhavjain.co at gmail.com>
>> Subject: Re: [Radiance-general] Where does bgraph look for .plt files?
>> Date: April 15, 2014 10:20:06 AM PDT
>> 
>> Thank you Dr.Greg,
>> 
>> Still it remains same.
>> 
>> echo $MDIR
>> /usr/share/radiance/meta/
>> 
>> bgraph lux.plt | x11meta
>> include=line.plt
>> bgraph: lux.plt: File not found: line.plt
>> 
>> 
>> Vaib
>> 
>> 
>> 
>> On 15 April 2014 18:38, Greg Ward <gregoryjward at gmail.com> wrote:
>> You probably need to set the $MDIR environment variable in your .bashrc (or other) startup script.  Some default directory location gets compiled in, but it must not agree with your particular installation location.  This variable is separate from the $RAYPATH setting, but similar.  It is the only other variable you need set in Radiance, as these plotting tools predate any of the others.
>> 
>> Once you find where these files are located (try "/usr/share/radiance/meta" for starters), set your environment variable like so:
>> 
>> 	export MDIR=/usr/share/radiance/meta/
>> 
>> The trailing '/' is necessary in this case.
>> 
>> Good luck!
>> -Greg
>> 
>>> From: Vaib <vaibhavjain.co at gmail.com>
>>> Subject: [Radiance-general] Where does bgraph look for .plt files?
>>> Date: April 15, 2014 9:16:28 AM PDT
>>> 
>>> Hello everyone!
>>> 
>>> I found a similar discussion on this link: 
>>> http://www.radiance-online.org/pipermail/radiance-dev/2013-December/001383.html
>>> 
>>> But still couldn't figure out. What could be the reason?
>>> 
>>> When I try bgraph command, I get an error that .plt file is not found.
>>> bgraph lux.plt | x11meta 
>>> include=line.plt
>>> bgraph: lux.plt: File not found: line.plt
>>> 
>>> Here is the lux.plt file:
>>> include=line.plt 
>>> title="Working Plane Illuminance" 
>>> xlabel="Distance from Window" 
>>> ylabel="Illuminance [lux]" 
>>> Adata=lux.csv 
>>> Acolor=2
>>> 
>>> line.plt file is present in:
>>> /usr/share/radiance/meta
>>> 
>>> RAYPATH is set to:
>>> echo $RAYPATH
>>> .:/usr/share/radiance:
>>> 
>>> When I copied the line.plt file to working directory, the error is:
>>> include=line.plt
>>> bgraph: lux.plt: File not found: line.plt
>>> 
>>> When I gave absolute path of line.plt file in lux.plt file, the error is:
>>> bgraph: Cannot open: /usr/share/radiance/meta/line.plt
>>> 
>>> Radiance version is:
>>> RADIANCE 4R1+20120125-1+b1 (Debian package) 32bit
>>> 
>>> So the question arises, Where does bgraph look for .plt files?
>>> 
>>> Thank you!
>>> 
>>> Vaib
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/7d1fd971/attachment.html>

From vaibhavjain.co at gmail.com  Tue Apr 15 11:49:56 2014
From: vaibhavjain.co at gmail.com (Vaib)
Date: Tue, 15 Apr 2014 20:49:56 +0200
Subject: [Radiance-general] Where does bgraph look for .plt files?
In-Reply-To: <6EFC15DE-66B2-47F1-8D6A-E1E3C890800B@lmi.net>
References: <CAD7gt0WfTisi0_D4HkxP+g3UxCisjBmBT3pJDrN5wt7Si_NWGQ@mail.gmail.com>
	<7F2DA804-837E-41E7-B928-F0561FBA1D95@lmi.net>
	<CAD7gt0U==iDAaMmMbnK4PMs7rYd6wOeyyKGiawiL_B8YNp8FSA@mail.gmail.com>
	<E9833256-DA09-4D55-BF3F-FBB1BFC6EF51@lmi.net>
	<CAD7gt0Wx9bsuE2sJBkEji3fw_4Oo2vm00T4QU=eb_b9R_UWEzw@mail.gmail.com>
	<6EFC15DE-66B2-47F1-8D6A-E1E3C890800B@lmi.net>
Message-ID: <CAD7gt0VDETJkPSuYsmXn7=y00gJzx0sK_ibpX3uEwCBzMvY8Ng@mail.gmail.com>

I very much appreciate your efforts Sir. Everything on my system seems the
same as you wrote.


csh -f -c 'ls -l ${MDIR}line.plt'
-rw-r--r-- 1 root root 728 Jan 25  2012 /usr/share/radiance/meta/line.plt

/usr/share/radiance/meta/line.plt file's first few line are:
#
#       This file defines a standard line plot,
#       where a curve is represented by lines
#       connecting each point.
#

include = standard.plt          # standard definitions

lthick = 2      # line thickness

#
# Curve defaults:
#

Athick = lthick                 # line thickness for A
Alintype = 1                    # line type for A
Asymsize = 0                    # symbol radius for A
Acolor = 4                      # color for A

Thank you.

Vaib


On 15 April 2014 20:36, Greg Ward <gregoryjward at gmail.com> wrote:

> That is very strange in that case.  What happens when you run the
> following:
>
> csh -f -c 'ls -l ${MDIR}line.plt'
>
> You should see something like:
>
> -rw-r--r-- 1 gward admin 728 Feb 13 1990
>  /usr/share/radiance/meta/line.plt
>
> ...only with your user name, obviously.  Make sure the file is readable.
>  The contents of the file should be:
>
> #
> # This file defines a standard line plot,
> # where a curve is represented by lines
> # connecting each point.
> #
>
> include = standard.plt # standard definitions
>
> lthick = 2 # line thickness
>
> (...and so on...)
>
> I can't think what else might be wrong.
>
> -Greg
>
> *From: *Vaib <vaibhavjain.co at gmail.com>
>
> *Subject: *Re: [Radiance-general] Where does bgraph look for .plt files?
>
> *Date: *April 15, 2014 11:19:31 AM PDT
>
>
>  Sorry if I missed to mention, all the .plt files are present at /usr/share/radiance/meta/
> only, and I have set the MDIR environment variable (in both .profile, and
> .bashrc) to the same path. I just crosschecked again. May be there is
> something not working on my system. Or not a good day today. Thank you!
>
> Vaib
>
>
> On 15 April 2014 19:34, Greg Ward <gward at lmi.net> wrote:
>
>> As I *said*, you need to determine where the files are living on your
>> system.  I don't know.  That's why there's an environment variable.  You
>> need to FIRST find the file "line.plt" on your system, THEN set the $MDIR
>> variable to that location.  Simple.
>>
>> -Greg
>>
>> *From: *Vaib <vaibhavjain.co at gmail.com>
>>
>> *Subject: *Re: [Radiance-general] Where does bgraph look for .plt files?
>>
>> *Date: *April 15, 2014 10:20:06 AM PDT
>>
>>
>>  Thank you Dr.Greg,
>>
>> Still it remains same.
>>
>> echo $MDIR
>> /usr/share/radiance/meta/
>>
>> bgraph lux.plt | x11meta
>> include=line.plt
>> bgraph: lux.plt: File not found: line.plt
>>
>>
>> Vaib
>>
>>
>>
>> On 15 April 2014 18:38, Greg Ward <gregoryjward at gmail.com> wrote:
>>
>>> You probably need to set the $MDIR environment variable in your .bashrc
>>> (or other) startup script.  Some default directory location gets compiled
>>> in, but it must not agree with your particular installation location.  This
>>> variable is separate from the $RAYPATH setting, but similar.  It is the
>>> only other variable you need set in Radiance, as these plotting tools
>>> predate any of the others.
>>>
>>> Once you find where these files are located (try
>>> "/usr/share/radiance/meta" for starters), set your environment variable
>>> like so:
>>>
>>> export MDIR=/usr/share/radiance/meta/
>>>
>>> The trailing '/' is necessary in this case.
>>>
>>> Good luck!
>>> -Greg
>>>
>>> *From: *Vaib <vaibhavjain.co at gmail.com>
>>>
>>> *Subject: *[Radiance-general] Where does bgraph look for .plt files?
>>>
>>> *Date: *April 15, 2014 9:16:28 AM PDT
>>>
>>>
>>>  Hello everyone!
>>>
>>> I found a similar discussion on this link:
>>>
>>> http://www.radiance-online.org/pipermail/radiance-dev/2013-December/001383.html
>>>
>>> But still couldn't figure out. What could be the reason?
>>>
>>> *When I try bgraph command, I get an error that .plt file is not found.*
>>> bgraph lux.plt | x11meta
>>> include=line.plt
>>> bgraph: lux.plt: File not found: line.plt
>>>
>>> *Here is the lux.plt file:*
>>> include=line.plt
>>> title="Working Plane Illuminance"
>>> xlabel="Distance from Window"
>>> ylabel="Illuminance [lux]"
>>> Adata=lux.csv
>>> Acolor=2
>>>
>>> *line.plt file is present in:*
>>> /usr/share/radiance/meta
>>>
>>> *RAYPATH is set to:*
>>> echo $RAYPATH
>>> .:/usr/share/radiance:
>>>
>>> *When I copied the line.plt file to working directory, the error is:*
>>> include=line.plt
>>> bgraph: lux.plt: File not found: line.plt
>>>
>>> *When I gave absolute path of line.plt file in lux.plt file, the error
>>> is:*
>>> bgraph: Cannot open: /usr/share/radiance/meta/line.plt
>>>
>>> *Radiance version is:*
>>> RADIANCE 4R1+20120125-1+b1 (Debian package) 32bit
>>>
>>> So the question arises, Where does bgraph look for .plt files?
>>>
>>> Thank you!
>>>
>>> Vaib
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/9f56a804/attachment-0001.html>

From Chris.Coulter at BuroHappold.com  Tue Apr 15 21:16:25 2014
From: Chris.Coulter at BuroHappold.com (Chris Coulter)
Date: Wed, 16 Apr 2014 04:16:25 +0000
Subject: [Radiance-general] rcollate troubles in Five-Phase CFS tutorial
Message-ID: <CBDA7B0F3FC5354F986B71977E204BEC212FC649@EX-MBX01.burohappold.com>

All,

I?m having some issues running through Andy?s Five-Phase CFS tutorial, specifically the last stages of combining all of the matrices into readable illuminance data. I?m using the bash script that was included in the downloadable files. I can get through section 6.7 without any errors (so it seems). I start to get errors in 6.8 Putting it all together.

The epw2wea and gendaymtx seem to work just fine. I get errors of ?Incomplete record / unexpected EOF? when running the dctimestep commands for the base 3-phase and direct 3-phase pieces. I also receive a ?Bad transpose specification ? check dimension(s)? error on output of the direct sun dctimestep. The commands I?ve executed are as follows:

time dctimestep -n 8760 -if matrices/viewmatrix.vmx bsdf/fullwindow.xml  \
      matrices/daylightmatrix.dmx matrices/OakLand.smx | \
      rcollate -h -oc 1 > i_3ph.txt
time dctimestep -n 8760 -if  matrices/viewmatrix_direct.vmx bsdf/fullwindow.xml  \
      matrices/daylightmatrix_direct.dmx matrices/OakLand_direct.smx | \
      rcollate -h -oc 1 > i_ds3ph.txt
time dctimestep -n 8760 -if matrices/directsun.dsmx matrices/OakLand_direct_m6.smx | \
      rcollate -h -oc 1 > i_ds5ph.txt

Has anyone else run into these errors? I tried to separate dctimestep from piping directly into rcollate to see if I could track down the problem. Seems as if dctimestep creates a file the has a header, then 6 rows of data (corresponding to photocells.pts), with each row containing RGB triplets in floating point format. Counting up columns, looks like there are 8760 triplets. This is what I would expect.
I then would expect rcollate to transform the matrix and strip off the header (-h). I was expecting the output matrix to be 8760 rows by 6 column, I?ve tried playing around w/ various ?oc ?ic ?or ?ir options in multiple combinations, but keep getting errors.

Any help would be greatly appreciated. I feel like I?ve managed to understand things to this point and am now getting hung up on some minutia?(such is life w/ Radiance)!

Chris

Chris Coulter
Senior Lighting Designer
Buro Happold Consulting Engineers
100 Broadway, 23rd Floor
New York, NY 10005
Tel: 212.334.2025
Direct: 212.616.0254
Email: chris.coulter at burohappold.com
Website: www.burohappold.com


This transmission is confidential and intended solely for the person or organization to whom it is correctly addressed. If you are not the intended recipient of this transmission, you should not take any action in reliance on it. Further, this transmission may contain confidential design and other information owned by Buro Happold LtdConsulting Engineers, P.C. (?Buro Happold?). You should not copy, distribute, use, offer for sale or hire such information or in any way infringe the design and intellectual property rights of Buro Happold Ltd. It is intended that communication by email from Buro Happold .Ltd or its employees is limited to communications connected to the services provided by Buro Happold Ltd. Buro Happold Ltd accepts no liability for any communications not connected to the services it provides. Computer viruses may be transmitted or downloaded onto your computer system via email communication. It is the recipient?s responsibility to take any action necessary to prevent computer viruses being transmitted in this way. Accordingly, Buro Happold Ltd disclaims all responsibility which arises directly or indirectly from such transmission of computer viruses. Buro Happold Consulting Engineers, P.C.Ltd.. Registered in England: 2049511 New York State, USA. Registered Office: 100 Broadway 23rd Floor, New York, NY 10005. If you receive this message in error, please notify the sender by return e-mail immediately and delete this message, any attachments and all copies from your system.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140416/080347f5/attachment.html>

From gregoryjward at gmail.com  Tue Apr 15 22:15:15 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 15 Apr 2014 22:15:15 -0700
Subject: [Radiance-general] rcollate troubles in Five-Phase CFS tutorial
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC212FC649@EX-MBX01.burohappold.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC212FC649@EX-MBX01.burohappold.com>
Message-ID: <DE9A1AB0-11B5-49B7-B935-311860702D4B@lmi.net>

Sorry -- this is probably my fault.  To make dctimestep work for multiplying matrices together, I altered it to output a header if and only if there was more than one column being produced.  This is pretty non-standard behavior for a Radiance tool, and wasn't documented by Andy because he wrote the scripts before the change.

The -h option of rcollate means don't expect a header on input AND don't produce one on output.  To get what you want, you need to take away the -h option to rcollate and/or insert "getinfo -" somewhere to strip the header.  This should work for your last command:

dctimestep -n 8760 -if matrices/directsun.dsmx matrices/OakLand_direct_m6.smx | \
      rcollate -oc 1 | getinfo - > i_ds5ph.txt

Or this:

dctimestep -n 8760 -if matrices/directsun.dsmx matrices/OakLand_direct_m6.smx | \
     | getinfo - | rcollate -h -oc 1 > i_ds5ph.txt

If you are OK with having a header in the output, use the first command above without the getinfo call.  Does this make sense?

-Greg

> From: Chris Coulter <Chris.Coulter at BuroHappold.com>
> Subject: [Radiance-general] rcollate troubles in Five-Phase CFS tutorial
> Date: April 15, 2014 9:16:25 PM PDT
> 
> All,
>  
> I?m having some issues running through Andy?s Five-Phase CFS tutorial, specifically the last stages of combining all of the matrices into readable illuminance data. I?m using the bash script that was included in the downloadable files. I can get through section 6.7 without any errors (so it seems). I start to get errors in 6.8 Putting it all together.
>  
> The epw2wea and gendaymtx seem to work just fine. I get errors of ?Incomplete record / unexpected EOF? when running the dctimestep commands for the base 3-phase and direct 3-phase pieces. I also receive a ?Bad transpose specification ? check dimension(s)? error on output of the direct sun dctimestep. The commands I?ve executed are as follows:
>  
> time dctimestep -n 8760 -if matrices/viewmatrix.vmx bsdf/fullwindow.xml  \
>       matrices/daylightmatrix.dmx matrices/OakLand.smx | \
>       rcollate -h -oc 1 > i_3ph.txt
> time dctimestep -n 8760 -if  matrices/viewmatrix_direct.vmx bsdf/fullwindow.xml  \
>       matrices/daylightmatrix_direct.dmx matrices/OakLand_direct.smx | \
>       rcollate -h -oc 1 > i_ds3ph.txt
> time dctimestep -n 8760 -if matrices/directsun.dsmx matrices/OakLand_direct_m6.smx | \
>       rcollate -h -oc 1 > i_ds5ph.txt
>  
> Has anyone else run into these errors? I tried to separate dctimestep from piping directly into rcollate to see if I could track down the problem. Seems as if dctimestep creates a file the has a header, then 6 rows of data (corresponding to photocells.pts), with each row containing RGB triplets in floating point format. Counting up columns, looks like there are 8760 triplets. This is what I would expect.
> I then would expect rcollate to transform the matrix and strip off the header (-h). I was expecting the output matrix to be 8760 rows by 6 column, I?ve tried playing around w/ various ?oc ?ic ?or ?ir options in multiple combinations, but keep getting errors.
>  
> Any help would be greatly appreciated. I feel like I?ve managed to understand things to this point and am now getting hung up on some minutia?(such is life w/ Radiance)!
>  
> Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140415/2c22307a/attachment-0001.html>

From Chris.Coulter at BuroHappold.com  Tue Apr 15 22:55:35 2014
From: Chris.Coulter at BuroHappold.com (Chris Coulter)
Date: Wed, 16 Apr 2014 05:55:35 +0000
Subject: [Radiance-general] rcollate troubles in Five-Phase CFS tutorial
In-Reply-To: <DE9A1AB0-11B5-49B7-B935-311860702D4B@lmi.net>
References: <CBDA7B0F3FC5354F986B71977E204BEC212FC649@EX-MBX01.burohappold.com>
	<DE9A1AB0-11B5-49B7-B935-311860702D4B@lmi.net>
Message-ID: <CBDA7B0F3FC5354F986B71977E204BEC212FD67D@EX-MBX01.burohappold.com>

Greg-
Thanks for the quick response.  Yes, it all makes sense and works. I was expecting -h to suppress the header rather than not to expect it.

Rcollate is still a bit confusing (especially at this lovely hour on the east coast). Is there a quick way I can take the single column of 52560 values (8760hrs * 6pts) and place them in a matrix/array that is 8760 hours long/rows and the data points read across the columns? This would help me import the illuminance profiles into Excel templates I had already created using the 2-phase method. I'm sure I can write a script to clip the files into 8760 rows each then rlam them back together, but if I can just manage it on output from rcollate that would be better/cleaner. I see the note in the man page about it being inflexible - maybe this is the only behavior.

Thanks again!
Chris

From: Greg Ward [mailto:gregoryjward at gmail.com]
Sent: Wednesday, April 16, 2014 1:15 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] rcollate troubles in Five-Phase CFS tutorial

Sorry -- this is probably my fault.  To make dctimestep work for multiplying matrices together, I altered it to output a header if and only if there was more than one column being produced.  This is pretty non-standard behavior for a Radiance tool, and wasn't documented by Andy because he wrote the scripts before the change.

The -h option of rcollate means don't expect a header on input AND don't produce one on output.  To get what you want, you need to take away the -h option to rcollate and/or insert "getinfo -" somewhere to strip the header.  This should work for your last command:

dctimestep -n 8760 -if matrices/directsun.dsmx matrices/OakLand_direct_m6.smx | \
      rcollate -oc 1 | getinfo - > i_ds5ph.txt

Or this:

dctimestep -n 8760 -if matrices/directsun.dsmx matrices/OakLand_direct_m6.smx | \
     | getinfo - | rcollate -h -oc 1 > i_ds5ph.txt

If you are OK with having a header in the output, use the first command above without the getinfo call.  Does this make sense?

-Greg



From: Chris Coulter <Chris.Coulter at BuroHappold.com<mailto:Chris.Coulter at BuroHappold.com>>

Subject: [Radiance-general] rcollate troubles in Five-Phase CFS tutorial

Date: April 15, 2014 9:16:25 PM PDT


All,

I'm having some issues running through Andy's Five-Phase CFS tutorial, specifically the last stages of combining all of the matrices into readable illuminance data. I'm using the bash script that was included in the downloadable files. I can get through section 6.7 without any errors (so it seems). I start to get errors in 6.8 Putting it all together.

The epw2wea and gendaymtx seem to work just fine. I get errors of "Incomplete record / unexpected EOF" when running the dctimestep commands for the base 3-phase and direct 3-phase pieces. I also receive a "Bad transpose specification - check dimension(s)" error on output of the direct sun dctimestep. The commands I've executed are as follows:

time dctimestep -n 8760 -if matrices/viewmatrix.vmx bsdf/fullwindow.xml  \
      matrices/daylightmatrix.dmx matrices/OakLand.smx | \
      rcollate -h -oc 1 > i_3ph.txt
time dctimestep -n 8760 -if  matrices/viewmatrix_direct.vmx bsdf/fullwindow.xml  \
      matrices/daylightmatrix_direct.dmx matrices/OakLand_direct.smx | \
      rcollate -h -oc 1 > i_ds3ph.txt
time dctimestep -n 8760 -if matrices/directsun.dsmx matrices/OakLand_direct_m6.smx | \
      rcollate -h -oc 1 > i_ds5ph.txt

Has anyone else run into these errors? I tried to separate dctimestep from piping directly into rcollate to see if I could track down the problem. Seems as if dctimestep creates a file the has a header, then 6 rows of data (corresponding to photocells.pts), with each row containing RGB triplets in floating point format. Counting up columns, looks like there are 8760 triplets. This is what I would expect.
I then would expect rcollate to transform the matrix and strip off the header (-h). I was expecting the output matrix to be 8760 rows by 6 column, I've tried playing around w/ various -oc -ic -or -ir options in multiple combinations, but keep getting errors.

Any help would be greatly appreciated. I feel like I've managed to understand things to this point and am now getting hung up on some minutia...(such is life w/ Radiance)!

Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140416/262041ee/attachment.html>

From gregoryjward at gmail.com  Wed Apr 16 11:02:14 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 16 Apr 2014 11:02:14 -0700
Subject: [Radiance-general] rcollate troubles in Five-Phase CFS tutorial
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC212FD67D@EX-MBX01.burohappold.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC212FC649@EX-MBX01.burohappold.com>
	<DE9A1AB0-11B5-49B7-B935-311860702D4B@lmi.net>
	<CBDA7B0F3FC5354F986B71977E204BEC212FD67D@EX-MBX01.burohappold.com>
Message-ID: <B222A2E9-7D70-4AD2-B56A-EC74C344056D@lmi.net>

Hi Chris,

I think the answer to your question is 'yes,' but you probably want something more specific.  Unfortunately, I don't understand your format well enough from your description, so it's difficult for me to instruct you.  If your 6 points each have 3 values for RGB and you just want to arrange them into rows that look like this (ignore labels before the colon):

hour1:	R1 G1 B1 R2 G2 B2 R3 G3 B3 R4 G4 B4 R5 G5 B5 R6 G6 B6
hour2:	R1 G1 B1 R2 G2 B2 R3 G3 B3 R4 G4 B4 R5 G5 B5 R6 G6 B6
....
hour8760:		R1 G1 B1 R2 G2 B2 R3 G3 B3 R4 G4 B4 R5 G5 B5 R6 G6 B6

This can be achieved with a simple rcollate command, here assuming no header:

	rcollate -h -oc 6 input.txt > output.txt

If instead, your input is ordered with 8760 RGB values for sensor 1, followed by 8760 RGB values for sensor 2, etc., you'll need to transpose using:

	rcollate -h -ic 8760 -ir 6 -t input.txt > output.txt

I hope this is clear enough, but I realize it's confusing.

-Greg

> From: Chris Coulter <Chris.Coulter at BuroHappold.com>
> Subject: Re: [Radiance-general] rcollate troubles in Five-Phase CFS tutorial
> Date: April 15, 2014 10:55:35 PM PDT
> 
> Greg-
> Thanks for the quick response.  Yes, it all makes sense and works. I was expecting ?h to suppress the header rather than not to expect it.
>  
> Rcollate is still a bit confusing (especially at this lovely hour on the east coast). Is there a quick way I can take the single column of 52560 values (8760hrs * 6pts) and place them in a matrix/array that is 8760 hours long/rows and the data points read across the columns? This would help me import the illuminance profiles into Excel templates I had already created using the 2-phase method. I?m sure I can write a script to clip the files into 8760 rows each then rlam them back together, but if I can just manage it on output from rcollate that would be better/cleaner. I see the note in the man page about it being inflexible ? maybe this is the only behavior.
>  
> Thanks again!
> Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140416/a5300e68/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Thu Apr 17 21:00:05 2014
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 17 Apr 2014 22:00:05 -0600
Subject: [Radiance-general] Updated Radiance Installers Available
Message-ID: <CF75FF65.6CED%robert.guglielmetti@nrel.gov>

Greetings, ray wranglers.

We are pleased to announce the availability of fresh Radiance installers for Windows, OSX, and Linux, on the NREL Radiance Git mirror (https://github.com/NREL/Radiance<https://github.com/NREL/Radiance/releases/tag/4.2.a.4>).  This new batch of installers is based on our tag 4.2.a.4 (https://github.com/NREL/Radiance/releases/tag/4.2.a.4 ) which was created today, and includes all updates to HEAD as of this morning. These tags are *unofficial* snapshots of the *official* LBNL Radiance source tree (HEAD), located at: http://radiance-online.org/cgi-bin/viewcvs.cgi/ray/?pathrev=MAIN.

A couple of things worth noting for this release:
* The Windows installer now optionally adds the Radiance "bin" directory to the user or system %PATH%, and creates a %RAYPATH% environment variable and sets it to  the Radiance "lib" directory.
* A couple of nifty new utilities written by Axel Jacobs are included, ltview.pl and ltpict.pl. They work similarly to objview and objpict, but are intended for visualizing luminaires (there's a manpage for each =)). ltview.pl supersedes the "-l" option to objview.rb that was added last year, and therefore objview.rb has been removed from the Radiance source.
* As always, see the release notes for more info: https://github.com/NREL/Radiance/blob/4.2.a.4/doc/notes/ReleaseNotes

Follow the photons, people.

- Rob



From Chris.Coulter at BuroHappold.com  Fri Apr 18 11:15:34 2014
From: Chris.Coulter at BuroHappold.com (Chris Coulter)
Date: Fri, 18 Apr 2014 18:15:34 +0000
Subject: [Radiance-general] BSDF orientation and implementation
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC20F46F05@EX-MBX01.burohappold.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC20EDF9EF@EX-MBX01.burohappold.com>
	<CAOG+Niz40ULk2xGWoKCKZ7MPRU21jUJABzip77SG_mU8_av1tQ@mail.gmail.com>
	<CAL-bo5G7G713kOt=EfhEBGVs6qwHiXg0R_3DstCdUj-taiN+hQ@mail.gmail.com>
	<CF340DB6.3B68%robert.guglielmetti@nrel.gov>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE5246@EX-MBX01.burohappold.com>
	<CAOG+NiyH1ktqVgA3qSXABVPDhDGH+BGam0mMGjUH0zvpRSeWNA@mail.gmail.com>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
	<3444C9DE-98EA-4D63-A8A2-5B1F61CF9E78@lmi.net>
	<CBDA7B0F3FC5354F986B71977E204BEC20F46F05@EX-MBX01.burohappold.com>
Message-ID: <CBDA7B0F3FC5354F986B71977E204BEC212FE2D2@EX-MBX01.burohappold.com>

To confirm BSDF orientation in the 3-phase steps:

If I have a skylight where the CFS is rotated -45 in the plane of the glass to align w/ site rotation, the daylightmatrix command should look something like this:
        genklemsamp -vd 0 0 1 -vu 1 1 0 dmx_surf.rad | rcontrib -c 1000 -ab 2  -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow model_3ph.oct > daylightmatrix.dmx

I previously had the -vu as 0 1 0, but realized that setting the vu as noted above  is probably used to correctly orient the bsdf within the skylight - right? The standard application of a vertical aperture would typically be -vu 0  0 1 (or not expressed, as this would be the default) unless this has a similar orientation adjustment. I know the Direct Sun Coeff Matrix uses physical geomtry w/ the BSDF primative that is oriented in the material description. I realized that my first pass at the daylight matrices didn't account for any rotation and this seems to be the most logical case of how to apply.

Also, is it ok to change the number of sky divisions to MF:2 or higher? I know the klems patches are 145, but didn't know if there was something that would be incorrect in the matrix multiplication stages? I guess maybe it isn't as critical as generally you're trying to make the sun patches smaller, which is what the 5-phase method introduces. Maybe an increase in the accuracy of the diffuse calcs...? If it is acceptable, this would be both in the gendaymtx sky matrix and the daylight matrix pieces (view matrix uses klems)?

Confirmation, or corrections, are greatly appreciated. I'm trying to troubleshoot data and looking into all aspects...

Thanks
Chris

_____________________________________________
From: Chris Coulter [mailto:Chris.Coulter at BuroHappold.com]
Sent: Tuesday, March 04, 2014 11:40 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation


Thanks, Greg. I knew I had previously changed the ulimit, and verified it was higher than default. I was at 4096 - close but radiance isn't horseshoes or hand grenades.



Chris



From: Greg Ward [mailto:gregoryjward at gmail.com]
Sent: Monday, March 03, 2014 12:47 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation



Hi Chris,



Looking at the command you quoted, the "-opn" option to rtrace should be "-opN" for better efficiency, but this isn't what's causing the "broken pipe" error.  That indicates that rcontrib is refusing input before rtrace is done supplying it.



The only think I can think of is that you are running out of file descriptors.  If using "-e MF:2" instead of "-e MF:6" solves the problem, then this is the most likely cause.  The MF:6 setting requires 5186 descriptors.  Quoting Thomas Bleicher from a Feb. 2007 post:



   On Mac OS X the max number of open files is limited to 256 per
   user process. That's pretty low and not sufficient for any subdivision
   of the Tregenza sky pattern.

   To change the open files limit (on OS X!) I created a file
   "/etc/launchd.conf" with the line "limit maxfiles 1024 unlimited"
   and I set the kernel limit with "sysctl -w kern.maxfiles=1024".

   After a reboot I could set the shell's limit with "ulimit -n 1024".
   This can go into your ".profile" if you're going to use it a lot.



Unfortunately, the method for changing the number of allowed descriptors varies from one system to the next.  Good luck!



Best,

-Greg



   From: Chris Coulter <Chris.Coulter at BuroHappold.com<mailto:Chris.Coulter at BuroHappold.com>>

   Date: February 27, 2014 3:47:22 PM PST



   That's good to hear...I was just about to upload some images asking for clarification.





   Follow-up to the 5-phase process:

   I'm using a small CFS model to generate my BSDF, do I need to create an array with the actual geometry covering the full aperture for the Direct Sun Contribution (Cds)?



   For rendering - It seems so, otherwise I don't see how the shadow rays are traced that get piped to rcontrib. model_nosuns.oct doesn't have the proxy surface, only physical geometry.

   For calc points - Maybe? The model_suns.oct has both physical geometry and proxied geometry.





   Although, when I try the as the tutorial states, I get a "rtrace: Broken Pipe" error. My tensor tree BSDF has an error for 110.9% rear reflection.

   Just to verify that wasn't an issue, I doubled back to the files used in Andy's tutorial, I also get the error. Code run there was:

   vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | rtrace -h- -opn -faa -ab 0 octs/model_nosuns.oct | \

               rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n 7 -fac -fo -o viewpics_ds/back_%04d.hdr \

               -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct

   My standard build is the HEAD from 26SEP13, but also tried one from last week (2/21) with no success.





   General question if 5-phase is unable to work without full geometry for the CFS, are we then limited to only systems that can be modeled (ie, no lenses, laser cut panels, etc)?



   Sorry if I'm all over the place, I started writing this mail at 3p.



   Chris



   From: Andrew McNeil [mailto:amcneil at lbl.gov]
   Sent: Thursday, February 27, 2014 1:54 PM
   To: Radiance general discussion
   Subject: Re: [Radiance-general] BSDF orientation and implementation



   Chris,

   A few weeks ago somebody alerted me to a bug in BSDFViewer for tensor tree BSDFs that flips the transmission front and back. So your tensor tree BSDF is probably fine. My stupid utility has a bug.  I'll let you know when I've fixed it and posted a new version.

   Andy



   On Thu, Feb 27, 2014 at 6:43 AM, Chris Coulter <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>> wrote:

   Andy/David/Rob - Thanks for the encouragement and suggestions.

   I've been working through trying to troubleshoot as I go along. Studying it in a 10m cube so I can easily understand how the light is being redistributed rather than in my full model. I also found that running the CFS through genBSDF with an all black material helpful to digest that specular transmission is occurring as expected.
   Andy's reminder that +Z is "in" the space was helpful in making me understand why the Klems bsdf seemed backwards. Now my tensor tree bsdf seems backwards using the same geometry - which is unnerving. I'm reworking the process and will post updates, and inevitably more questions. I was finally able to get Andy's BSDF Viewer to compile in Ubuntu - it was much easier once I realized the network had been disabled and then resolved my proxy issues for the compiler's dependencies. I forgot about bsdf2rad, will look into it.

   David, your note was clear. Thanks. My system is grid a 10mm cubes fit into skylights that are 4m x 8m or larger. I think the edge condition can be ignored in the BSDF calculation.


   Thanks again all for help here and in the tutorials, presentations, code, etc. Once I can confirm my results are wrong and its not as much of a user error as it likely is, I'll post more info/questions.

   Chris


   -----Original Message-----
   From: Guglielmetti, Robert [mailto:Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>]
   Sent: Wednesday, February 26, 2014 11:40 PM
   To: Radiance general discussion
   Subject: Re: [Radiance-general] BSDF orientation and implementation

   Hi Chris,

   What Andy said! To that end, I would add that tools like objview (for visualizing your CFS geometry) and bsdf2rad (for visualizing the BSDF distribution) are very useful for getting comfortable with your generated BSDFs. I am working on a little "test room" model, a la the ltview script but for CFS instead of luminaries. When it's sensible I'll post some results. It's very helpful to visualize these things; Andy's BSDFviewer is awesome, but I also like to mock these things up in Radiance proper so I am certain the functions and the models are are being implemented and oriented correctly, you know what I mean?

   - Rob

   From: David Geisler-Moroder <david.moroder at gmail.com<mailto:david.moroder at gmail.com><mailto:david.moroder at gmail.com<mailto:david.moroder at gmail.com>>>
   Reply-To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org><mailto:radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>>
   Date: Wednesday, February 26, 2014 at 10:34 AM
   To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org><mailto:radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>>
   Subject: Re: [Radiance-general] BSDF orientation and implementation

   Hi Chris,

   a short note from my side:
   Yes, you can import BSDFs of systems into WINDOW and generate new BSDFs including the glass panes of your IGU. Therefore my approach is usually to simulate only the system without any glazing and put the overall system together in WINDOW with the right glass.
   Concerning the generation of BSDFs for various applications of a single system you should decide if the kind of system you are simulating is representative for your application. I tend to simulate typical periods of a systems (e.g. for a lamella system you can use the -dim settings to get that right) and model any frame in the geometric model. However, in cases where e.g. the ratio of system thickness to system size dimension is quite high and thus the frame will significantly influence the BSDF, it is better to include the real geometry in the BSDF simulation model. However, you then probably end up generating more than a single BSDF for the same system depending on the applications.

   I hope it's somehow clear... if not, let me know and I'll try again ;-)

   Cheers,
   David



   2014-02-26 1:03 GMT+01:00 Andrew McNeil <amcneil at lbl.gov<mailto:amcneil at lbl.gov><mailto:amcneil at lbl.gov<mailto:amcneil at lbl.gov>>>:
   Chris,
   Everything you write seems correct. One whatch-it I can offer is to make sure you're system is situated properly for the genBSDF run. +Z is into the space, +Y is up.  All of the geometry should be in the -Z space. If you don't follow these guidelines you're BSDF will be strange.
   Andy


   On Tue, Feb 25, 2014 at 8:06 AM, Chris Coulter <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com><mailto:Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>>> wrote:
   Good morning Gurus!

   I have worked through the 3- and 5-phase tutorials in hopes of being able to apply a BSDF to one of my projects. This project will be using micro-louver cellular structures imbedded within an IGU, in both skylights and vertical windows. I think I understand the general process, but wanted to ask a few questions before getting too far down the road...


The skylights and windows are all different sizes and the windows are in multiple orientations (of course). My understanding of the BSDF and seemingly from this mail (http://www.radiance-online.org/pipermail/radiance-general/2011-November/008248.html), I should be able to calculate the BSDF once for my system. I was planning model the louvers as 1m by 1m, but run genBSDF with the -dim arguments smaller than this. Is this the correct approach? Ideally I would not calculate the BSDF for each orientation, assuming that micro-louver geometry does not change.

In my BSDF material definition, I would alter the up vector according to the surface being applied - the up vector matches the BSDF orientation (calculated in xy space) to the specific geometry's orientation (0 0 1 for a window). If the louver are rotated within the IGU assembly (rz -45) for a skylight, I can account for this with the up vector of 1 1 0 (surface normal is 0 0 1). This would hold true for rotation within the vertical apertures as well. Each different up vector would be a different BSDF material.

Lastly, if the glazing properties (VLT) are not defined yet, can I import the BSDF file into Window and create multiple options for IGU's with varying properties? It seems so from David Geisler-Moroder's presentation at the 2012 Workshop (

Attachments:
        ATT00001.txt (248 Bytes)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140418/6d14821a/attachment-0001.html>

From amcneil at lbl.gov  Fri Apr 18 13:06:28 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Fri, 18 Apr 2014 13:06:28 -0700
Subject: [Radiance-general] BSDF orientation and implementation
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC212FE2D2@EX-MBX01.burohappold.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC20EDF9EF@EX-MBX01.burohappold.com>
	<CAOG+Niz40ULk2xGWoKCKZ7MPRU21jUJABzip77SG_mU8_av1tQ@mail.gmail.com>
	<CAL-bo5G7G713kOt=EfhEBGVs6qwHiXg0R_3DstCdUj-taiN+hQ@mail.gmail.com>
	<CF340DB6.3B68%robert.guglielmetti@nrel.gov>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE5246@EX-MBX01.burohappold.com>
	<CAOG+NiyH1ktqVgA3qSXABVPDhDGH+BGam0mMGjUH0zvpRSeWNA@mail.gmail.com>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
	<3444C9DE-98EA-4D63-A8A2-5B1F61CF9E78@lmi.net>
	<CBDA7B0F3FC5354F986B71977E204BEC20F46F05@EX-MBX01.burohappold.com>
	<CBDA7B0F3FC5354F986B71977E204BEC212FE2D2@EX-MBX01.burohappold.com>
Message-ID: <CAOG+Niwy5=-fZHTt8UZTYE3yttour_-72UrozJ7VBOcpWvFfew@mail.gmail.com>

Chris,

Your view settings for genklemsamp look appropriate. You also need to
rotate the angular bins in your view matrix simulation. You can do this
with the -b argument:

-b 'kbin(0,0,1,1,1,0)'

first three values are from the -vd in genklemsamp and the last three
values are from the -vu option.

You can use any number of sky divisions, but the number of sky divisions
must be the same when generating the sky matrix and daylight matrix. If
they are not the same then matrix multiplication won't work.

Andy


On Fri, Apr 18, 2014 at 11:15 AM, Chris Coulter <
Chris.Coulter at burohappold.com> wrote:

>  To confirm BSDF orientation in the 3-phase steps:
>
> If I have a skylight where the CFS is rotated -45 in the plane of the
> glass to align w/ site rotation, the daylightmatrix command should look
> something like this:
>         genklemsamp -vd 0 0 1 -vu 1 1 0 dmx_surf.rad | rcontrib -c 1000
> -ab 2  -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow
> model_3ph.oct > daylightmatrix.dmx
>
> I previously had the -vu as 0 1 0, but realized that setting the vu as
> noted above is probably used to correctly orient the bsdf within the
> skylight - right? The standard application of a vertical aperture would
> typically be -vu 0  0 1 (or not expressed, as this would be the default)
> unless this has a similar orientation adjustment. I know the Direct Sun
> Coeff Matrix uses physical geomtry w/ the BSDF primative that is oriented
> in the material description. I realized that my first pass at the daylight
> matrices didn't account for any rotation and this seems to be the most
> logical case of how to apply.
>
> Also, is it ok to change the number of sky divisions to MF:2 or higher? I
> know the klems patches are 145, but didn't know if there was something that
> would be incorrect in the matrix multiplication stages? I guess maybe it
> isn't as critical as generally you're trying to make the sun patches
> smaller, which is what the 5-phase method introduces. Maybe an increase in
> the accuracy of the diffuse calcs...? If it is acceptable, this would be both
> in the gendaymtx sky matrix and the daylight matrix pieces (view matrix
> uses klems)?
>
> Confirmation, or corrections, are greatly appreciated. I'm trying to
> troubleshoot data and looking into all aspects...
>
> Thanks
> Chris
>
> _____________________________________________
> *From:* Chris Coulter [mailto:Chris.Coulter at BuroHappold.com<Chris.Coulter at BuroHappold.com>]
>
> *Sent:* Tuesday, March 04, 2014 11:40 AM
>
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] BSDF orientation and implementation
>
>
> Thanks, Greg. I knew I had previously changed the ulimit, and verified it
> was higher than default. I was at 4096 - close but radiance isn't
> horseshoes or hand grenades.
>
>
>
> Chris
>
>
>
> *From:* Greg Ward [mailto:gregoryjward at gmail.com <gregoryjward at gmail.com>]
>
> *Sent:* Monday, March 03, 2014 12:47 PM
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] BSDF orientation and implementation
>
>
>
> Hi Chris,
>
>
>
> Looking at the command you quoted, the "-opn" option to rtrace should be
> "-opN" for better efficiency, but this isn't what's causing the "broken
> pipe" error.  That indicates that rcontrib is refusing input before rtrace
> is done supplying it.
>
>
>
> The only think I can think of is that you are running out of file
> descriptors.  If using "-e MF:2" instead of "-e MF:6" solves the problem,
> then this is the most likely cause.  The MF:6 setting requires 5186
> descriptors.  Quoting Thomas Bleicher from a Feb. 2007 post:
>
>
>
> On Mac OS X the max number of open files is limited to 256 per
> user process. That's pretty low and not sufficient for any subdivision
> of the Tregenza sky pattern.
>
> To change the open files limit (on OS X!) I created a file
> "/etc/launchd.conf" with the line "limit maxfiles 1024 unlimited"
> and I set the kernel limit with "sysctl -w kern.maxfiles=1024".
>
> After a reboot I could set the shell's limit with "ulimit -n 1024".
> This can go into your ".profile" if you're going to use it a lot.
>
>
>
> Unfortunately, the method for changing the number of allowed descriptors
> varies from one system to the next.  Good luck!
>
>
>
> Best,
>
> -Greg
>
>
>
> *From: *Chris Coulter <*Chris.Coulter at BuroHappold.com*<Chris.Coulter at BuroHappold.com>
> >
>
> *Date: *February 27, 2014 3:47:22 PM PST
>
>
>
> That's good to hear...I was just about to upload some images asking for
> clarification.
>
>
>
>
>
> Follow-up to the 5-phase process:
>
> I'm using a small CFS model to generate my BSDF, do I need to create an
> array with the actual geometry covering the full aperture for the Direct
> Sun Contribution (Cds)?
>
>
>
> For rendering - It seems so, otherwise I don't see how the shadow rays are
> traced that get piped to rcontrib. model_nosuns.oct doesn't have the proxy
> surface, only physical geometry.
>
> For calc points - Maybe? The model_suns.oct has both physical geometry and
> proxied geometry.
>
>
>
>
>
> Although, when I try the as the tutorial states, I get a "rtrace: Broken
> Pipe" error. My tensor tree BSDF has an error for 110.9% rear reflection.
>
> Just to verify that wasn't an issue, I doubled back to the files used in
> Andy's tutorial, I also get the error. Code run there was:
>
> vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | rtrace -h- -opn
> -faa -ab 0 octs/model_nosuns.oct | \
>
>             rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n 7 -fac
> -fo -o viewpics_ds/back_%04d.hdr \
>
>             -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I
> -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct
>
> My standard build is the HEAD from 26SEP13, but also tried one from last
> week (2/21) with no success.
>
>
>
>
>
> General question if 5-phase is unable to work without full geometry for
> the CFS, are we then limited to only systems that can be modeled (ie, no
> lenses, laser cut panels, etc)?
>
>
>
> Sorry if I'm all over the place, I started writing this mail at 3p.
>
>
>
> *Chris*
>
>
>
> *From:* Andrew McNeil [mailto:amcneil at lbl.gov <amcneil at lbl.gov>]
> *Sent:* Thursday, February 27, 2014 1:54 PM
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] BSDF orientation and implementation
>
>
>
> Chris,
>
> A few weeks ago somebody alerted me to a bug in BSDFViewer for tensor tree
> BSDFs that flips the transmission front and back. So your tensor tree BSDF
> is probably fine. My stupid utility has a bug.  I'll let you know when I've
> fixed it and posted a new version.
>
> Andy
>
>
>
> On Thu, Feb 27, 2014 at 6:43 AM, Chris Coulter <
> *Chris.Coulter at burohappold.com* <Chris.Coulter at burohappold.com>> wrote:
>
> Andy/David/Rob - Thanks for the encouragement and suggestions.
>
> I've been working through trying to troubleshoot as I go along. Studying
> it in a 10m cube so I can easily understand how the light is being
> redistributed rather than in my full model. I also found that running the
> CFS through genBSDF with an all black material helpful to digest that
> specular transmission is occurring as expected.
> Andy's reminder that +Z is "in" the space was helpful in making me
> understand why the Klems bsdf seemed backwards. Now my tensor tree bsdf
> seems backwards using the same geometry - which is unnerving. I'm reworking
> the process and will post updates, and inevitably more questions. I was
> finally able to get Andy's BSDF Viewer to compile in Ubuntu - it was much
> easier once I realized the network had been disabled and then resolved my
> proxy issues for the compiler's dependencies. I forgot about bsdf2rad, will
> look into it.
>
> David, your note was clear. Thanks. My system is grid a 10mm cubes fit
> into skylights that are 4m x 8m or larger. I think the edge condition can
> be ignored in the BSDF calculation.
>
>
> Thanks again all for help here and in the tutorials, presentations, code,
> etc. Once I can confirm my results are wrong and its not as much of a user
> error as it likely is, I'll post more info/questions.
>
> Chris
>
>
> -----Original Message-----
> From: Guglielmetti, Robert [mailto:*Robert.Guglielmetti at nrel.gov*<Robert.Guglielmetti at nrel.gov>
> ]
> Sent: Wednesday, February 26, 2014 11:40 PM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] BSDF orientation and implementation
>
> Hi Chris,
>
> What Andy said! To that end, I would add that tools like objview (for
> visualizing your CFS geometry) and bsdf2rad (for visualizing the BSDF
> distribution) are very useful for getting comfortable with your generated
> BSDFs. I am working on a little "test room" model, a la the ltview script
> but for CFS instead of luminaries. When it's sensible I'll post some
> results. It's very helpful to visualize these things; Andy's BSDFviewer is
> awesome, but I also like to mock these things up in Radiance proper so I am
> certain the functions and the models are are being implemented and oriented
> correctly, you know what I mean?
>
> - Rob
>
> From: David Geisler-Moroder <*david.moroder at gmail.com*<david.moroder at gmail.com>
> <mailto:*david.moroder at gmail.com* <david.moroder at gmail.com>>>
> Reply-To: Radiance discussion <*radiance-general at radiance-online.org*<radiance-general at radiance-online.org>
> <mailto:*radiance-general at radiance-online.org*<radiance-general at radiance-online.org>
> >>
> Date: Wednesday, February 26, 2014 at 10:34 AM
> To: Radiance discussion <*radiance-general at radiance-online.org*<radiance-general at radiance-online.org>
> <mailto:*radiance-general at radiance-online.org*<radiance-general at radiance-online.org>
> >>
> Subject: Re: [Radiance-general] BSDF orientation and implementation
>
> Hi Chris,
>
> a short note from my side:
> Yes, you can import BSDFs of systems into WINDOW and generate new BSDFs
> including the glass panes of your IGU. Therefore my approach is usually to
> simulate only the system without any glazing and put the overall system
> together in WINDOW with the right glass.
> Concerning the generation of BSDFs for various applications of a single
> system you should decide if the kind of system you are simulating is
> representative for your application. I tend to simulate typical periods of
> a systems (e.g. for a lamella system you can use the -dim settings to get
> that right) and model any frame in the geometric model. However, in cases
> where e.g. the ratio of system thickness to system size dimension is quite
> high and thus the frame will significantly influence the BSDF, it is better
> to include the real geometry in the BSDF simulation model. However, you
> then probably end up generating more than a single BSDF for the same system
> depending on the applications.
>
> I hope it's somehow clear... if not, let me know and I'll try again ;-)
>
> Cheers,
> David
>
>
>
> 2014-02-26 1:03 GMT+01:00 Andrew McNeil <*amcneil at lbl.gov*<amcneil at lbl.gov>
> <mailto:*amcneil at lbl.gov* <amcneil at lbl.gov>>>:
> Chris,
> Everything you write seems correct. One whatch-it I can offer is to make
> sure you're system is situated properly for the genBSDF run. +Z is into the
> space, +Y is up.  All of the geometry should be in the -Z space. If you
> don't follow these guidelines you're BSDF will be strange.
> Andy
>
>
> On Tue, Feb 25, 2014 at 8:06 AM, Chris Coulter <
> *Chris.Coulter at burohappold.com* <Chris.Coulter at burohappold.com><mailto:
> *Chris.Coulter at burohappold.com* <Chris.Coulter at burohappold.com>>> wrote:
> Good morning Gurus!
>
> I have worked through the 3- and 5-phase tutorials in hopes of being able
> to apply a BSDF to one of my projects. This project will be using
> micro-louver cellular structures imbedded within an IGU, in both skylights
> and vertical windows. I think I understand the general process, but wanted
> to ask a few questions before getting too far down the road...
>
>
> The skylights and windows are all different sizes and the windows are in
> multiple orientations (of course). My understanding of the BSDF and
> seemingly from this mail (
> http://www.radiance-online.org/pipermail/radiance-general/2011-November/008248.html),
> I should be able to calculate the BSDF once for my system. I was planning
> model the louvers as 1m by 1m, but run genBSDF with the -dim arguments
> smaller than this. Is this the correct approach? Ideally I would not
> calculate the BSDF for each orientation, assuming that micro-louver
> geometry does not change.
>
> In my BSDF material definition, I would alter the up vector according to
> the surface being applied - the up vector matches the BSDF orientation
> (calculated in xy space) to the specific geometry's orientation (0 0 1 for
> a window). If the louver are rotated within the IGU assembly (rz -45) for a
> skylight, I can account for this with the up vector of 1 1 0 (surface
> normal is 0 0 1). This would hold true for rotation within the vertical
> apertures as well. Each different up vector would be a different BSDF
> material.
>
> Lastly, if the glazing properties (VLT) are not defined yet, can I import
> the BSDF file into Window and create multiple options for IGU's with
> varying properties? It seems so from David Geisler-Moroder's presentation
> at the 2012 Workshop (
>
> Attachments:
>         ATT00001.txt (248 Bytes)
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140418/8f38d4b0/attachment-0001.html>

From Chris.Coulter at BuroHappold.com  Fri Apr 18 15:12:55 2014
From: Chris.Coulter at BuroHappold.com (Chris Coulter)
Date: Fri, 18 Apr 2014 22:12:55 +0000
Subject: [Radiance-general] BSDF orientation and implementation
In-Reply-To: <CAOG+Niwy5=-fZHTt8UZTYE3yttour_-72UrozJ7VBOcpWvFfew@mail.gmail.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC20EDF9EF@EX-MBX01.burohappold.com>
	<CAOG+Niz40ULk2xGWoKCKZ7MPRU21jUJABzip77SG_mU8_av1tQ@mail.gmail.com>
	<CAL-bo5G7G713kOt=EfhEBGVs6qwHiXg0R_3DstCdUj-taiN+hQ@mail.gmail.com>
	<CF340DB6.3B68%robert.guglielmetti@nrel.gov>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE5246@EX-MBX01.burohappold.com>
	<CAOG+NiyH1ktqVgA3qSXABVPDhDGH+BGam0mMGjUH0zvpRSeWNA@mail.gmail.com>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
	<3444C9DE-98EA-4D63-A8A2-5B1F61CF9E78@lmi.net>
	<CBDA7B0F3FC5354F986B71977E204BEC20F46F05@EX-MBX01.burohappold.com>
	<CBDA7B0F3FC5354F986B71977E204BEC212FE2D2@EX-MBX01.burohappold.com>
	<CAOG+Niwy5=-fZHTt8UZTYE3yttour_-72UrozJ7VBOcpWvFfew@mail.gmail.com>
Message-ID: <CBDA7B0F3FC5354F986B71977E204BEC212FE3BD@EX-MBX01.burohappold.com>

Thanks Andy!  Makes sense, have to align the interior piece as well so the right energy is transferred through.
This solved the issues I was having.

C


From: Andrew McNeil [mailto:amcneil at lbl.gov]
Sent: Friday, April 18, 2014 4:06 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation

Chris,

Your view settings for genklemsamp look appropriate. You also need to rotate the angular bins in your view matrix simulation. You can do this with the -b argument:

-b 'kbin(0,0,1,1,1,0)'

first three values are from the -vd in genklemsamp and the last three values are from the -vu option.

You can use any number of sky divisions, but the number of sky divisions must be the same when generating the sky matrix and daylight matrix. If they are not the same then matrix multiplication won't work.

Andy

On Fri, Apr 18, 2014 at 11:15 AM, Chris Coulter <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>> wrote:
To confirm BSDF orientation in the 3-phase steps:

If I have a skylight where the CFS is rotated -45 in the plane of the glass to align w/ site rotation, the daylightmatrix command should look something like this:
        genklemsamp -vd 0 0 1 -vu 1 1 0 dmx_surf.rad | rcontrib -c 1000 -ab 2  -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow model_3ph.oct > daylightmatrix.dmx

I previously had the -vu as 0 1 0, but realized that setting the vu as noted above is probably used to correctly orient the bsdf within the skylight - right? The standard application of a vertical aperture would typically be -vu 0  0 1 (or not expressed, as this would be the default) unless this has a similar orientation adjustment. I know the Direct Sun Coeff Matrix uses physical geomtry w/ the BSDF primative that is oriented in the material description. I realized that my first pass at the daylight matrices didn't account for any rotation and this seems to be the most logical case of how to apply.

Also, is it ok to change the number of sky divisions to MF:2 or higher? I know the klems patches are 145, but didn't know if there was something that would be incorrect in the matrix multiplication stages? I guess maybe it isn't as critical as generally you're trying to make the sun patches smaller, which is what the 5-phase method introduces. Maybe an increase in the accuracy of the diffuse calcs...? If it is acceptable, this would be both in the gendaymtx sky matrix and the daylight matrix pieces (view matrix uses klems)?

Confirmation, or corrections, are greatly appreciated. I'm trying to troubleshoot data and looking into all aspects...

Thanks
Chris

_____________________________________________
From: Chris Coulter [mailto:Chris.Coulter at BuroHappold.com]
Sent: Tuesday, March 04, 2014 11:40 AM

To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation


Thanks, Greg. I knew I had previously changed the ulimit, and verified it was higher than default. I was at 4096 - close but radiance isn't horseshoes or hand grenades.



Chris



From: Greg Ward [mailto:gregoryjward at gmail.com]
Sent: Monday, March 03, 2014 12:47 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation



Hi Chris,



Looking at the command you quoted, the "-opn" option to rtrace should be "-opN" for better efficiency, but this isn't what's causing the "broken pipe" error.  That indicates that rcontrib is refusing input before rtrace is done supplying it.



The only think I can think of is that you are running out of file descriptors.  If using "-e MF:2" instead of "-e MF:6" solves the problem, then this is the most likely cause.  The MF:6 setting requires 5186 descriptors.  Quoting Thomas Bleicher from a Feb. 2007 post:



On Mac OS X the max number of open files is limited to 256 per
user process. That's pretty low and not sufficient for any subdivision
of the Tregenza sky pattern.

To change the open files limit (on OS X!) I created a file
"/etc/launchd.conf" with the line "limit maxfiles 1024 unlimited"
and I set the kernel limit with "sysctl -w kern.maxfiles=1024".

After a reboot I could set the shell's limit with "ulimit -n 1024".
This can go into your ".profile" if you're going to use it a lot.



Unfortunately, the method for changing the number of allowed descriptors varies from one system to the next.  Good luck!



Best,

-Greg



From: Chris Coulter <Chris.Coulter at BuroHappold.com<mailto:Chris.Coulter at BuroHappold.com>>

Date: February 27, 2014 3:47:22 PM PST



That's good to hear...I was just about to upload some images asking for clarification.





Follow-up to the 5-phase process:

I'm using a small CFS model to generate my BSDF, do I need to create an array with the actual geometry covering the full aperture for the Direct Sun Contribution (Cds)?



For rendering - It seems so, otherwise I don't see how the shadow rays are traced that get piped to rcontrib. model_nosuns.oct doesn't have the proxy surface, only physical geometry.

For calc points - Maybe? The model_suns.oct has both physical geometry and proxied geometry.





Although, when I try the as the tutorial states, I get a "rtrace: Broken Pipe" error. My tensor tree BSDF has an error for 110.9% rear reflection.

Just to verify that wasn't an issue, I doubled back to the files used in Andy's tutorial, I also get the error. Code run there was:

vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | rtrace -h- -opn -faa -ab 0 octs/model_nosuns.oct | \

            rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n 7 -fac -fo -o viewpics_ds/back_%04d.hdr \

            -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct

My standard build is the HEAD from 26SEP13, but also tried one from last week (2/21) with no success.





General question if 5-phase is unable to work without full geometry for the CFS, are we then limited to only systems that can be modeled (ie, no lenses, laser cut panels, etc)?



Sorry if I'm all over the place, I started writing this mail at 3p.



Chris



From: Andrew McNeil [mailto:amcneil at lbl.gov]
Sent: Thursday, February 27, 2014 1:54 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation



Chris,

A few weeks ago somebody alerted me to a bug in BSDFViewer for tensor tree BSDFs that flips the transmission front and back. So your tensor tree BSDF is probably fine. My stupid utility has a bug.  I'll let you know when I've fixed it and posted a new version.

Andy



On Thu, Feb 27, 2014 at 6:43 AM, Chris Coulter <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>> wrote:

Andy/David/Rob - Thanks for the encouragement and suggestions.

I've been working through trying to troubleshoot as I go along. Studying it in a 10m cube so I can easily understand how the light is being redistributed rather than in my full model. I also found that running the CFS through genBSDF with an all black material helpful to digest that specular transmission is occurring as expected.
Andy's reminder that +Z is "in" the space was helpful in making me understand why the Klems bsdf seemed backwards. Now my tensor tree bsdf seems backwards using the same geometry - which is unnerving. I'm reworking the process and will post updates, and inevitably more questions. I was finally able to get Andy's BSDF Viewer to compile in Ubuntu - it was much easier once I realized the network had been disabled and then resolved my proxy issues for the compiler's dependencies. I forgot about bsdf2rad, will look into it.

David, your note was clear. Thanks. My system is grid a 10mm cubes fit into skylights that are 4m x 8m or larger. I think the edge condition can be ignored in the BSDF calculation.


Thanks again all for help here and in the tutorials, presentations, code, etc. Once I can confirm my results are wrong and its not as much of a user error as it likely is, I'll post more info/questions.

Chris


-----Original Message-----
From: Guglielmetti, Robert [mailto:Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>]
Sent: Wednesday, February 26, 2014 11:40 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation

Hi Chris,

What Andy said! To that end, I would add that tools like objview (for visualizing your CFS geometry) and bsdf2rad (for visualizing the BSDF distribution) are very useful for getting comfortable with your generated BSDFs. I am working on a little "test room" model, a la the ltview script but for CFS instead of luminaries. When it's sensible I'll post some results. It's very helpful to visualize these things; Andy's BSDFviewer is awesome, but I also like to mock these things up in Radiance proper so I am certain the functions and the models are are being implemented and oriented correctly, you know what I mean?

- Rob

From: David Geisler-Moroder <david.moroder at gmail.com<mailto:david.moroder at gmail.com><mailto:david.moroder at gmail.com<mailto:david.moroder at gmail.com>>>
Reply-To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org><mailto:radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>>
Date: Wednesday, February 26, 2014 at 10:34 AM
To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org><mailto:radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>>
Subject: Re: [Radiance-general] BSDF orientation and implementation

Hi Chris,

a short note from my side:
Yes, you can import BSDFs of systems into WINDOW and generate new BSDFs including the glass panes of your IGU. Therefore my approach is usually to simulate only the system without any glazing and put the overall system together in WINDOW with the right glass.
Concerning the generation of BSDFs for various applications of a single system you should decide if the kind of system you are simulating is representative for your application. I tend to simulate typical periods of a systems (e.g. for a lamella system you can use the -dim settings to get that right) and model any frame in the geometric model. However, in cases where e.g. the ratio of system thickness to system size dimension is quite high and thus the frame will significantly influence the BSDF, it is better to include the real geometry in the BSDF simulation model. However, you then probably end up generating more than a single BSDF for the same system depending on the applications.

I hope it's somehow clear... if not, let me know and I'll try again ;-)

Cheers,
David



2014-02-26 1:03 GMT+01:00 Andrew McNeil <amcneil at lbl.gov<mailto:amcneil at lbl.gov><mailto:amcneil at lbl.gov<mailto:amcneil at lbl.gov>>>:
Chris,
Everything you write seems correct. One whatch-it I can offer is to make sure you're system is situated properly for the genBSDF run. +Z is into the space, +Y is up.  All of the geometry should be in the -Z space. If you don't follow these guidelines you're BSDF will be strange.
Andy


On Tue, Feb 25, 2014 at 8:06 AM, Chris Coulter <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com><mailto:Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>>> wrote:
Good morning Gurus!

I have worked through the 3- and 5-phase tutorials in hopes of being able to apply a BSDF to one of my projects. This project will be using micro-louver cellular structures imbedded within an IGU, in both skylights and vertical windows. I think I understand the general process, but wanted to ask a few questions before getting too far down the road...


The skylights and windows are all different sizes and the windows are in multiple orientations (of course). My understanding of the BSDF and seemingly from this mail (http://www.radiance-online.org/pipermail/radiance-general/2011-November/008248.html), I should be able to calculate the BSDF once for my system. I was planning model the louvers as 1m by 1m, but run genBSDF with the -dim arguments smaller than this. Is this the correct approach? Ideally I would not calculate the BSDF for each orientation, assuming that micro-louver geometry does not change.

In my BSDF material definition, I would alter the up vector according to the surface being applied - the up vector matches the BSDF orientation (calculated in xy space) to the specific geometry's orientation (0 0 1 for a window). If the louver are rotated within the IGU assembly (rz -45) for a skylight, I can account for this with the up vector of 1 1 0 (surface normal is 0 0 1). This would hold true for rotation within the vertical apertures as well. Each different up vector would be a different BSDF material.

Lastly, if the glazing properties (VLT) are not defined yet, can I import the BSDF file into Window and create multiple options for IGU's with varying properties? It seems so from David Geisler-Moroder's presentation at the 2012 Workshop (

Attachments:
        ATT00001.txt (248 Bytes)



_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140418/2904ffdd/attachment-0001.html>

From iversen.anne at gmail.com  Tue Apr 22 06:37:36 2014
From: iversen.anne at gmail.com (Anne Iversen)
Date: Tue, 22 Apr 2014 15:37:36 +0200
Subject: [Radiance-general] Fwd: How to interpret the -vu for genklemsamp ?
In-Reply-To: <C1D00D3E2C274049B1266DDAC224DFCE0140BDEAA990@vmVbg-EX.cph01.hlt.dk>
References: <C1D00D3E2C274049B1266DDAC224DFCE0140BDEAA990@vmVbg-EX.cph01.hlt.dk>
Message-ID: <CADq2N7OsuowxzaZ06jxdPWNPcNiv1W48NfsSmRVEPDr0Ew5S5g@mail.gmail.com>

Hello list,

I have a question related to Chris Coulters question about BSDF orientation
and implementation earlier this month.

I have a BSDF, placed in a skylight, with normal vector, vp of: -0.09 0.26
1 (The skylights are oriented counterclockwise 335?N, and with tilt of
15?).



Now I come to the more tricky part ? at least for me ? considering the
?view up?:

The clockwise rotation of the BSDF in the plane of the glass is 55?.

The default vu is 0 0 1. Doing some right-hand gymnastics, the coordinate
system of the BSDF-plane is translated as the (x,z) coordinate system with
the ?top? of the default-BSDF in 0 0 1 ?. Since the BSDF I?m about to
simulate is oriented 55? clockwise in this coordinate system my ?vu vector
will be (-0.82 0 0.57). The kbin for my view matrix then turns into
kbin(-0.0936,0,0.2578,-0.82,0,0.57). I have tried to sketch this on a very
simple hand drawing located here:
https://dl.dropboxusercontent.com/u/9713279/20140422145308628.pdf



My question is ? is my understanding of the view up right ?





Med venlig hilsen/Best regards,

Anne Iversen

____________________________________________



Anne Iversen
PhD, MSc Energy, Sustainability Engineer


Direct tel +45 8233 3049

Mobile +45 6035 2049

Henning Larsen Architects A/S
Vesterbrogade 76
1620 Copenhagen V
Denmark

Tel +45 8233 3000
www.henninglarsen.com
____________________________________________

>>> Klik her for at tilmelde dig vores nyhedsbrev p? dansk og modtage
nyheder fra Henning Larsen Architects.
<http://da.henninglarsen.com/nyheder/nyhedsbrev.aspx>

>>> Click here to subscribe to our newsletter in English and receive
updates from Henning Larsen Architects.
<http://www.henninglarsen.com/news/newsletter.aspx>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140422/f9c83ec5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 21366 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140422/f9c83ec5/attachment-0001.jpg>

From Chris.Coulter at BuroHappold.com  Tue Apr 22 11:15:39 2014
From: Chris.Coulter at BuroHappold.com (Chris Coulter)
Date: Tue, 22 Apr 2014 18:15:39 +0000
Subject: [Radiance-general] Fwd: How to interpret the -vu for
 genklemsamp ?
In-Reply-To: <CADq2N7OsuowxzaZ06jxdPWNPcNiv1W48NfsSmRVEPDr0Ew5S5g@mail.gmail.com>
References: <C1D00D3E2C274049B1266DDAC224DFCE0140BDEAA990@vmVbg-EX.cph01.hlt.dk>
	<CADq2N7OsuowxzaZ06jxdPWNPcNiv1W48NfsSmRVEPDr0Ew5S5g@mail.gmail.com>
Message-ID: <CBDA7B0F3FC5354F986B71977E204BEC212FF45E@EX-MBX01.burohappold.com>

Anne,

Yes, your situation seems quite complicated (or maybe just confusing). I had enough troubles visualizing without the added roatations you have. It seems as if you understand the basics, the view up vector correctly aligns/rotates your BSDF (about the normal vector) to the geometry in your model.
If your vector math is correct for the rotations you?ve noted below, I would have expected a kbin of (-0.09,0.26,1,-0.82,0,0.57). I also would have expected the vu vector to have non-zero components for Y. My understanding of order of operations would be: rotate BSDF 55d on a flat plane, then orient that vu to your real-world geometry. The base BSDF is oriented in XY, with +Y being the vu vector. Andy?s note the other day on rotation got me to full visualize having to orient both view and daylight matrices to the xml file. Think of them as hemispheres (or your cupped hands) about the geometry of the bsdf?

I might suggest a few things:

1)     if you have access to a CAD/modelling software, it is probably worthwhile taking some simple geometry with a line for the normal vector and one for the vu vector as it is aligned to your BSDF (assuming +Z is into room, +Y is ?up?, geometry lives in ?Z space). Then, begin the necessary rotations required to properly orient the geometry to what is in your model. Query the normal and view up vectors and there you have it.

2)     I also find extremely helpful is physically rotating something on your desk w/ some indicating lines on it to better visualize things. I grab a pack of gum, my phone, post-it notes, etc and hold a pen in the vu vector and start spinning it around to understand at least what quadrants the vectors should lie in. While this won?t give you the vector components, this at least helps understand the relative rotations.

3)     If your BSDF is quite complex and you?re not sure how it should behave, you might try to substitute with a simple blind/slat system that obscures a known set of sun positions. This also helped me in verifying that the rotations seemed correct before inserting the more complex BSDF.

Good luck!

Chris


From: Anne Iversen [mailto:iversen.anne at gmail.com]
Sent: Tuesday, April 22, 2014 9:38 AM
To: radiance-general
Subject: [Radiance-general] Fwd: How to interpret the -vu for genklemsamp ?

Hello list,
I have a question related to Chris Coulters question about BSDF orientation and implementation earlier this month.
I have a BSDF, placed in a skylight, with normal vector, vp of: -0.09 0.26 1 (The skylights are oriented counterclockwise 335?N, and with tilt of 15?).

Now I come to the more tricky part ? at least for me ? considering the ?view up?:
The clockwise rotation of the BSDF in the plane of the glass is 55?.
The default vu is 0 0 1. Doing some right-hand gymnastics, the coordinate system of the BSDF-plane is translated as the (x,z) coordinate system with the ?top? of the default-BSDF in 0 0 1 ?. Since the BSDF I?m about to simulate is oriented 55? clockwise in this coordinate system my ?vu vector will be (-0.82 0 0.57). The kbin for my view matrix then turns into kbin(-0.0936,0,0.2578,-0.82,0,0.57). I have tried to sketch this on a very simple hand drawing located here: https://dl.dropboxusercontent.com/u/9713279/20140422145308628.pdf

My question is ? is my understanding of the view up right ?


Med venlig hilsen/Best regards,

Anne Iversen

____________________________________________

[cid:image001.jpg at 01CF5E33.D7371C90]

Anne Iversen
PhD, MSc Energy, Sustainability Engineer

Direct tel +45 8233 3049<tel:%2B45%208233%203049>
Mobile +45 6035 2049<tel:%2B45%206035%202049>

Henning Larsen Architects A/S
Vesterbrogade 76
1620 Copenhagen V
Denmark

Tel +45 8233 3000<tel:%2B45%208233%203000>
www.henninglarsen.com<http://www.henninglarsen.com>
____________________________________________

>>> Klik her for at tilmelde dig vores nyhedsbrev p? dansk og modtage nyheder fra Henning Larsen Architects. <http://da.henninglarsen.com/nyheder/nyhedsbrev.aspx>

>>> Click here to subscribe to our newsletter in English and receive updates from Henning Larsen Architects. <http://www.henninglarsen.com/news/newsletter.aspx>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140422/58f5a927/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 21366 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140422/58f5a927/attachment-0001.jpg>

From brianakarr at yahoo.com  Thu Apr 24 17:09:14 2014
From: brianakarr at yahoo.com (Brian Karr)
Date: Thu, 24 Apr 2014 20:09:14 -0400
Subject: [Radiance-general] He's
Message-ID: <80C99ACE-F160-45CB-9360-AE8A226BF0F0@yahoo.com>



Thank you,
Brian


From iversen.anne at gmail.com  Fri Apr 25 06:09:50 2014
From: iversen.anne at gmail.com (Anne Iversen)
Date: Fri, 25 Apr 2014 15:09:50 +0200
Subject: [Radiance-general] Radiance-general Digest, Vol 122, Issue 28
In-Reply-To: <mailman.102.1398190553.1463.radiance-general@radiance-online.org>
References: <mailman.102.1398190553.1463.radiance-general@radiance-online.org>
Message-ID: <CADq2N7PJzXPmsRR+a0Z=1EHvS1QtSy30awry_hCoUzfQXJqVAQ@mail.gmail.com>

Thanks, Chris.
/Anne


On Tue, Apr 22, 2014 at 8:15 PM, <
radiance-general-request at radiance-online.org> wrote:

> Send Radiance-general mailing list submissions to
>         radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>    1. Re: Fwd: How to interpret the -vu for genklemsamp ?
>       (Chris Coulter)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 22 Apr 2014 18:15:39 +0000
> From: Chris Coulter <Chris.Coulter at BuroHappold.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Fwd: How to interpret the -vu for
>         genklemsamp ?
> Message-ID:
>         <CBDA7B0F3FC5354F986B71977E204BEC212FF45E at EX-MBX01.burohappold.com
> >
> Content-Type: text/plain; charset="utf-8"
>
> Anne,
>
> Yes, your situation seems quite complicated (or maybe just confusing). I
> had enough troubles visualizing without the added roatations you have. It
> seems as if you understand the basics, the view up vector correctly
> aligns/rotates your BSDF (about the normal vector) to the geometry in your
> model.
> If your vector math is correct for the rotations you?ve noted below, I
> would have expected a kbin of (-0.09,0.26,1,-0.82,0,0.57). I also would
> have expected the vu vector to have non-zero components for Y. My
> understanding of order of operations would be: rotate BSDF 55d on a flat
> plane, then orient that vu to your real-world geometry. The base BSDF is
> oriented in XY, with +Y being the vu vector. Andy?s note the other day on
> rotation got me to full visualize having to orient both view and daylight
> matrices to the xml file. Think of them as hemispheres (or your cupped
> hands) about the geometry of the bsdf?
>
> I might suggest a few things:
>
> 1)     if you have access to a CAD/modelling software, it is probably
> worthwhile taking some simple geometry with a line for the normal vector
> and one for the vu vector as it is aligned to your BSDF (assuming +Z is
> into room, +Y is ?up?, geometry lives in ?Z space). Then, begin the
> necessary rotations required to properly orient the geometry to what is in
> your model. Query the normal and view up vectors and there you have it.
>
> 2)     I also find extremely helpful is physically rotating something on
> your desk w/ some indicating lines on it to better visualize things. I grab
> a pack of gum, my phone, post-it notes, etc and hold a pen in the vu vector
> and start spinning it around to understand at least what quadrants the
> vectors should lie in. While this won?t give you the vector components,
> this at least helps understand the relative rotations.
>
> 3)     If your BSDF is quite complex and you?re not sure how it should
> behave, you might try to substitute with a simple blind/slat system that
> obscures a known set of sun positions. This also helped me in verifying
> that the rotations seemed correct before inserting the more complex BSDF.
>
> Good luck!
>
> Chris
>
>
> From: Anne Iversen [mailto:iversen.anne at gmail.com]
> Sent: Tuesday, April 22, 2014 9:38 AM
> To: radiance-general
> Subject: [Radiance-general] Fwd: How to interpret the -vu for genklemsamp ?
>
> Hello list,
> I have a question related to Chris Coulters question about BSDF
> orientation and implementation earlier this month.
> I have a BSDF, placed in a skylight, with normal vector, vp of: -0.09 0.26
> 1 (The skylights are oriented counterclockwise 335?N, and with tilt of 15?).
>
> Now I come to the more tricky part ? at least for me ? considering the
> ?view up?:
> The clockwise rotation of the BSDF in the plane of the glass is 55?.
> The default vu is 0 0 1. Doing some right-hand gymnastics, the coordinate
> system of the BSDF-plane is translated as the (x,z) coordinate system with
> the ?top? of the default-BSDF in 0 0 1 ?. Since the BSDF I?m about to
> simulate is oriented 55? clockwise in this coordinate system my ?vu vector
> will be (-0.82 0 0.57). The kbin for my view matrix then turns into
> kbin(-0.0936,0,0.2578,-0.82,0,0.57). I have tried to sketch this on a very
> simple hand drawing located here:
> https://dl.dropboxusercontent.com/u/9713279/20140422145308628.pdf
>
> My question is ? is my understanding of the view up right ?
>
>
> Med venlig hilsen/Best regards,
>
> Anne Iversen
>
> ____________________________________________
>
> [cid:image001.jpg at 01CF5E33.D7371C90]
>
> Anne Iversen
> PhD, MSc Energy, Sustainability Engineer
>
> Direct tel +45 8233 3049<tel:%2B45%208233%203049>
> Mobile +45 6035 2049<tel:%2B45%206035%202049>
>
> Henning Larsen Architects A/S
> Vesterbrogade 76
> 1620 Copenhagen V
> Denmark
>
> Tel +45 8233 3000<tel:%2B45%208233%203000>
> www.henninglarsen.com<http://www.henninglarsen.com>
> ____________________________________________
>
> >>> Klik her for at tilmelde dig vores nyhedsbrev p? dansk og modtage
> nyheder fra Henning Larsen Architects. <
> http://da.henninglarsen.com/nyheder/nyhedsbrev.aspx>
>
> >>> Click here to subscribe to our newsletter in English and receive
> updates from Henning Larsen Architects. <
> http://www.henninglarsen.com/news/newsletter.aspx>
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/20140422/58f5a927/attachment.html
> >
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: image001.jpg
> Type: image/jpeg
> Size: 21366 bytes
> Desc: image001.jpg
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/20140422/58f5a927/attachment.jpg
> >
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 122, Issue 28
> *************************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140425/47099e9e/attachment.html>

From gregoryjward at gmail.com  Mon Apr 28 09:37:35 2014
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon, 28 Apr 2014 09:37:35 -0700
Subject: [Radiance-general] Workshop dates discussion
Message-ID: <D99F088F-FA17-4E6D-9D8F-2852EF7910D4@gmail.com>

A few people have requested that we move the workshop to the following week, meaning the first few days of September (1-3).  How many people who are hoping to attend would this help or hinder?  I hope no one has purchased unmovable flights at this point....

-Greg

From em.vazifeh at gmail.com  Mon Apr 28 12:44:02 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Mon, 28 Apr 2014 21:44:02 +0200
Subject: [Radiance-general] Workshop dates discussion
In-Reply-To: <D99F088F-FA17-4E6D-9D8F-2852EF7910D4@gmail.com>
References: <D99F088F-FA17-4E6D-9D8F-2852EF7910D4@gmail.com>
Message-ID: <CAJeoGJ6YEAptrcdyEgEAUFHF56pZuzED5ESUOikRBvn0BLhyaA@mail.gmail.com>

Dear Greg,

I don't have any issue regarding the dates but, now that there is a
discussion about the workshop I would like to get more detail about the
workshop 2014 details. I look forward to participate in the workshop this
year.

Best,
Ehsan


On Mon, Apr 28, 2014 at 6:37 PM, Gregory J. Ward <gregoryjward at gmail.com>wrote:

> A few people have requested that we move the workshop to the following
> week, meaning the first few days of September (1-3).  How many people who
> are hoping to attend would this help or hinder?  I hope no one has
> purchased unmovable flights at this point....
>
> -Greg
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140428/137cf754/attachment.html>

From atsagras at arch.uth.gr  Tue Apr 29 09:43:44 2014
From: atsagras at arch.uth.gr (Aris Tsangrassoulis)
Date: Tue, 29 Apr 2014 19:43:44 +0300
Subject: [Radiance-general] rsensor/rcontrib
Message-ID: <20140429194344.Horde.3iCnNz7CS6-fsD1EgB3uhw1@webmail.uth.gr>

Dear all,

trying to compare illuminance values on  a single point on the working  
surface located in the middle of a south facing room, three methods  
have been used (rtrace, rsensor and 3phase method using  
rsensor|rcontrib to estimate the view matrix) with the results  
difference been explainable. Sensor file represents spatial resonse  
file of a cosine corrected sensor.
When I have changed the sensor file with one having a narrow filed of  
view (2x10 degrees) illuminance value using the 3phase approach was  
the same (~1% difference) as in the case of the cosine corrected sensor.
The command was :
rsensor -h -rd 5000  -vf view_test.vf  narrow10.dat . |rcontrib   -c  
5000 -f klems_int.cal -bn Nkbins -b kbinS -m glazing -I+ -ab 11 -ad  
50000 -ds .1 -lw 1e-5 test_r.oct>narrow10.vmx

Repeating the calculation with rsensor command only (again narrow  
versus cosine corrected sensor file):

rsensor -h -rd 5000 -ab 5 -ad 2500 -ar 300 -aa 0.1 -i -vf view_test.vf  
narrow10.dat  overcast.oct|rcalc -e  
"$1=179*($1*0.265+$2*0.670+$3*0.065)">overcast_rsensor_10.dat

results differ 98%. Any hint would be appreciated.
I've examine the ray directions coming out from rsensor for both the  
sensor files and are in accordance with the spatial response. Using  
NREL's R4.2.a.4 on Windows.

Thanx,

Aris Tsangrassoulis





From hiroaki.mp.3 at gmail.com  Wed Apr 30 00:28:19 2014
From: hiroaki.mp.3 at gmail.com (=?UTF-8?B?5r+x55Sw6KOV56ug?=)
Date: Wed, 30 Apr 2014 16:28:19 +0900
Subject: [Radiance-general] Difference between climate data and Radiance
	data.
Message-ID: <CA+8HjZfFQXcC=c+1yDT1RHfhCFa7hnUy0iyTSV=XtrjvpuXsaA@mail.gmail.com>

Dear all,



I?m going to study distribution of solar radiation in buildings in the city
by using GIS data.

I?d like to match a climate data with Radiance data. But, I couldn?t get
the same value.

Does anyone know the idea how to match climate data and Radiance data?

My method is below.

Obtain an illuminance by using Pvalue command.

views file is below.

rview rvu -vtl -vp 0 0 10 -vd 0 0 1 -vu 0 1 0 -vv 180 -vh 180 -vo 0.0 -va
0.0

skies file is below.

!gensky 6 22 5:0 -B 46 -R 37.12796503 -a 43.035 -o -141.199 -m -135.0

skyfunc glow skyglow

0

0

4 1.000 1.000 1.000 0

skyglow source sky

0

0

4 0 0 1 180

skyfunc glow groundglow

0

0

4 0 0 0 0

groundglow source ground

0

0

4 0 0 -1 180

bash file is below.

pvalue -h -H -d t1_1.pic | total -m | rcalc -e '$1=($1+$2+$3)/3*16'>t1.dat

The result is below.

time       ND*1      Altit*2    HD*3=R               B*4         no
Gensky           -i            -u

4:00       0            0.278     0                          7
4.0464                 9.4688   8.9056

5:00       225        9.498     37.12796503       46
25.44                   52.128   58.368

6:00       445        19.824   150.9137426       76
43.12                   75.744   96.752

7:00       588        30.608   299.3870167       82
51.872                 79.744   104.256

8:00       636        41.547   421.8169494       108
82.752                 112.752 137.504

9:00       618        52.252   488.6593632       151
149.504               190.56   192.48

10:00     557        61.986   491.7378991       220
295.04                 371.04   279.04

11:00     519        68.96     484.3982757       264
451.04                 590.08   335.04

12:00     459        69.842   430.8843623       300
534.08                 694.08   380.96

13:00     395        63.995   355.0085362       348
495.04                 625.92   443.04

14:00     532        54.691   434.1369031       207
220.48                 276.96   263.04

15:00     397        44.127   276.411698         219
176.48                 236.48   279.04

16:00     442        33.203   242.0423097       160
104.752               156.496 203.52

17:00     164        22.352   62.36849428       132
75.744                 129.504 167.52

18:00     35          11.887   7.209375721       62
34.128                 67.744   78.752

9:00       0            2.249     0                          7
3.976                   9.032     8.9056

*1: Normal direct solar radiation

*2: Horizontal direct solar radiation

*3: Solar altitude

*4: Horizontal total solar radiation



Best regards,



Hiroaki
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140430/50db8fd5/attachment.html>

From koji_takemasa at me.com  Wed Apr 30 00:38:03 2014
From: koji_takemasa at me.com (=?iso-2022-jp?B?GyRCSXBALzknPCMbKEI=?=)
Date: Wed, 30 Apr 2014 16:38:03 +0900
Subject: [Radiance-general] Difference between climate data and
	Radiance	data.
In-Reply-To: <CA+8HjZfFQXcC=c+1yDT1RHfhCFa7hnUy0iyTSV=XtrjvpuXsaA@mail.gmail.com>
References: <CA+8HjZfFQXcC=c+1yDT1RHfhCFa7hnUy0iyTSV=XtrjvpuXsaA@mail.gmail.com>
Message-ID: <4B99FBDF-4405-4584-B3C5-A9F20AA4EB01@me.com>

???

?????????????????????????????????????????????????????????

gensky????????gendaylit?????????????????????????
--
Name : Koji Takemasa (Ph.D.)
Mail : koji.takemasa at gmail.com
>From iPhone


2014/04/30 16:28????? <hiroaki.mp.3 at gmail.com> ??????:

> Dear all,
> 
>  
> 
> I?m going to study distribution of solar radiation in buildings in the city by using GIS data.
> 
> I?d like to match a climate data with Radiance data. But, I couldn?t get the same value.
> 
> Does anyone know the idea how to match climate data and Radiance data?
> 
> My method is below.
> 
> Obtain an illuminance by using Pvalue command.
> 
> views file is below.
> 
> rview rvu -vtl -vp 0 0 10 -vd 0 0 1 -vu 0 1 0 -vv 180 -vh 180 -vo 0.0 -va 0.0
> 
> skies file is below.
> 
> !gensky 6 22 5:0 -B 46 -R 37.12796503 -a 43.035 -o -141.199 -m -135.0
> 
> skyfunc glow skyglow
> 
> 0
> 
> 0
> 
> 4 1.000 1.000 1.000 0
> 
> skyglow source sky
> 
> 0
> 
> 0
> 
> 4 0 0 1 180
> 
> skyfunc glow groundglow
> 
> 0
> 
> 0
> 
> 4 0 0 0 0
> 
> groundglow source ground
> 
> 0
> 
> 0
> 
> 4 0 0 -1 180
> 
> bash file is below.
> 
> pvalue -h -H -d t1_1.pic | total -m | rcalc -e '$1=($1+$2+$3)/3*16'>t1.dat
> 
> The result is below.
> 
> time       ND*1      Altit*2    HD*3=R               B*4         no Gensky           -i            -u
> 
> 4:00       0            0.278     0                          7            4.0464                 9.4688   8.9056
> 
> 5:00       225        9.498     37.12796503       46          25.44                   52.128   58.368
> 
> 6:00       445        19.824   150.9137426       76          43.12                   75.744   96.752
> 
> 7:00       588        30.608   299.3870167       82          51.872                 79.744   104.256
> 
> 8:00       636        41.547   421.8169494       108        82.752                 112.752 137.504
> 
> 9:00       618        52.252   488.6593632       151        149.504               190.56   192.48
> 
> 10:00     557        61.986   491.7378991       220        295.04                 371.04   279.04
> 
> 11:00     519        68.96     484.3982757       264        451.04                 590.08   335.04
> 
> 12:00     459        69.842   430.8843623       300        534.08                 694.08   380.96
> 
> 13:00     395        63.995   355.0085362       348        495.04                 625.92   443.04
> 
> 14:00     532        54.691   434.1369031       207        220.48                 276.96   263.04
> 
> 15:00     397        44.127   276.411698         219        176.48                 236.48   279.04
> 
> 16:00     442        33.203   242.0423097       160        104.752               156.496 203.52
> 
> 17:00     164        22.352   62.36849428       132        75.744                 129.504 167.52
> 
> 18:00     35          11.887   7.209375721       62          34.128                 67.744   78.752
> 
> 9:00       0            2.249     0                          7            3.976                   9.032     8.9056
> 
> *1: Normal direct solar radiation
> 
> *2: Horizontal direct solar radiation
> 
> *3: Solar altitude
> 
> *4: Horizontal total solar radiation
> 
>  
> 
> Best regards,
> 
>  
> 
> Hiroaki
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140430/76895720/attachment-0001.html>

From gregoryjward at gmail.com  Wed Apr 30 10:21:38 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 30 Apr 2014 10:21:38 -0700
Subject: [Radiance-general] rsensor/rcontrib
In-Reply-To: <20140429194344.Horde.3iCnNz7CS6-fsD1EgB3uhw1@webmail.uth.gr>
References: <20140429194344.Horde.3iCnNz7CS6-fsD1EgB3uhw1@webmail.uth.gr>
Message-ID: <88574D3F-32C4-40F7-A1F4-05B90A44324E@lmi.net>

Hi Aris,

I am puzzled by your use of the -I+ option to rcontrib (first command) and -i option to rsensor (second command). These options are very different from each other, and I don't think you really want to use either.  The -I+ option tells rtrace to interpret its 6 input values as virtual illuminance point and orientation, rather than ray origin and direction as produced by rsensor.  Using the -i option in the second rsensor command tells the program to evaluate surfaces in your scene as if they were all Lambertian with 314% reflectance.  Again, probably not what you had in mind.

Try taking these options off and seeing what you get.  The rest of it looks OK as far as I can see.

Cheers,
-Greg

> From: Aris Tsangrassoulis <atsagras at arch.uth.gr>
> Subject: [Radiance-general] rsensor/rcontrib
> Date: April 29, 2014 9:43:44 AM PDT
> 
> Dear all,
> 
> trying to compare illuminance values on  a single point on the working surface located in the middle of a south facing room, three methods have been used (rtrace, rsensor and 3phase method using rsensor|rcontrib to estimate the view matrix) with the results difference been explainable. Sensor file represents spatial resonse file of a cosine corrected sensor.
> When I have changed the sensor file with one having a narrow filed of view (2x10 degrees) illuminance value using the 3phase approach was the same (~1% difference) as in the case of the cosine corrected sensor.
> The command was :
> rsensor -h -rd 5000  -vf view_test.vf  narrow10.dat . |rcontrib   -c 5000 -f klems_int.cal -bn Nkbins -b kbinS -m glazing -I+ -ab 11 -ad 50000 -ds .1 -lw 1e-5 test_r.oct>narrow10.vmx
> 
> Repeating the calculation with rsensor command only (again narrow versus cosine corrected sensor file):
> 
> rsensor -h -rd 5000 -ab 5 -ad 2500 -ar 300 -aa 0.1 -i -vf view_test.vf narrow10.dat  overcast.oct|rcalc -e "$1=179*($1*0.265+$2*0.670+$3*0.065)">overcast_rsensor_10.dat
> 
> results differ 98%. Any hint would be appreciated.
> I've examine the ray directions coming out from rsensor for both the sensor files and are in accordance with the spatial response. Using NREL's R4.2.a.4 on Windows.
> 
> Thanx,
> 
> Aris Tsangrassoulis


