From radiance-dev@radiance-online.org  Mon Dec  1 04:16:45 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Sun, 30 Nov 2003 23:16:45 -0500 (EST)
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <A2140E3A-2352-11D8-8DEE-00306540F848@lmi.net>
Message-ID: <Pine.BSF.4.44.0311302313140.31885-100000@emancholl.pair.com>

Greg Ward wrote:

> I really appreciate the efforts Roland has put forth to get this out,
> and to keep it updated with the latest source changes on our end.  I
> know this is no small task, and it feels cruel to make new releases
> without incorporating his changes, because it just means more work for
> him without any real benefit.

I think one of the most important "features" of his code is that
traditional simulations without any of his new options will just
behave as before. I recently had a short look at the code, and
the integration is rather straightforward from a coding point of
view (even if more of his code could be moved to seperate files).
So in theory, we could do the integration now, and just not tell
anyone except for the die-hards explicitly asking for it...

I previously thought that we should wait until we have cleaned
up Radiance itself a bit more, but I don't think that's really
necessary anymore. As you said, it would just make more work for
everybody to synchronize the two code bases again later. Rolands
patches conditionally compile using a PHOTON_MAP macro, so the
default could still be a classic compile. While we're still
trying to get rid of more preprocessor conditionals, I'd be
willing to ad this one to our collection.


> It would help me to hear from users who have successfully applied the
> photon map.  I'd like to see how it helped them and hear what they have
> to say about it, on the list or off.  Theoretical discussions and
> people saying this is a "good idea" are useful only up to a point.
> Real experience is what matters, and that's what I need to hear from
> people.

We could make it a lot easier for people to gather practical
experience by doing a preliminary integration into the HEAD code,
clearly labeling it "experimental". Otherwise, the requirement
for testing results before we make a final commitment might end
up as a hen and egg problem. Many of the possible candidates will
shy away from any third party modifications because they don't feel
comfortable applying patches or combining binaries from different
sources. I also assume that this could motivate Roland to invest
some more work eg. in those materials that aren't supported yet.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-dev@radiance-online.org  Mon Dec  1 07:08:06 2003
From: radiance-dev@radiance-online.org (Randolph Fritz)
Date: Sun, 30 Nov 2003 23:08:06 -0800
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <Pine.BSF.4.44.0311302313140.31885-100000@emancholl.pair.com>
References: <A2140E3A-2352-11D8-8DEE-00306540F848@lmi.net> <Pine.BSF.4.44.0311302313140.31885-100000@emancholl.pair.com>
Message-ID: <20031201070806.GB6779@panix.com>

On Sun, Nov 30, 2003 at 11:16:45PM -0500, Georg Mischler wrote:
> 
> We could make it a lot easier for people to gather practical
> experience by doing a preliminary integration into the HEAD code,
> clearly labeling it "experimental". Otherwise, the requirement
> for testing results before we make a final commitment might end
> up as a hen and egg problem. Many of the possible candidates will
> shy away from any third party modifications because they don't feel
> comfortable applying patches or combining binaries from different
> sources. I also assume that this could motivate Roland to invest
> some more work eg. in those materials that aren't supported yet.
> 

Perhaps this could be put into a CVS branch?  That way, it would be
available to the adventurous, without affecting the mainline at all.
Of course the final integration might be more difficult.

Randolph, still v. busy

From radiance-dev@radiance-online.org  Mon Dec  1 14:34:57 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Mon, 01 Dec 2003 15:34:57 +0100
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <A2140E3A-2352-11D8-8DEE-00306540F848@lmi.net>
References: <4C165BCC-1F76-11D8-9B69-000A959DDB22@gmx.net> <3FC9EAD9.6030708@gmx.net> <A2140E3A-2352-11D8-8DEE-00306540F848@lmi.net>
Message-ID: <3FCB5191.6080505@gmx.net>

Greg Ward wrote:

> We need to take a very careful look at this module's affect on the code 
> as well as the rendering process -- does it support all material types 
> (or at least do something reasonable with the types it doesn't 
> support)?  Does it place any restrictions on light sources?  
> Participating media?  How does it behave when the geometry gets 
> complex?  Does it burden or otherwise affect the calculation when it is 
> switched off?  Do we get the same results or nearly the same under all 
> important circumstances?

Well, to paraphrase Greg in our very first mail exchange: Hey, I'm glad 
somebody's picking this up! :^)

Currently all of the more common (?) materials are supported. What's 
defnitely not supported are user defined BRDFs, i.e. 
{Met,Plas,Trans}{Data,Func} and BtdfFunc. This could be a serious 
constraint in some applications. The reason it's missing is simply that 
I haven't found an efficient way to sample these materials during the 
forward pass; the prototypes performed abysmally. This is because the 
BRDF has to be evaluated for the entire hemisphere of outgoing 
directions for *every* photon hit. A caching scheme might be worth 
considering, but the memory requirements would be substantial. This is 
pretty high on the to-do list.

There are a few other (minor?) oddities:

-- the spotlight focus is ignored by the photon map, although you 
probably won't notice the difference to RADIANCE Classic since the 
direct calculation is still done with the stock code and a shift in 
focus shouldn't affect the indirect illumination noticeably.

-- the Glow primitive acts like a standard light source with the photon 
map. There are no restricitions I'm aware of as far as sources are 
concerned. All types are supported, including light source modifiers to 
simulate goniometric diagrams such as IES and EULUMDAT files.

-- distant light sources (defined with the Source primitive) get special 
treatment and are inherently slow (photons are emitted from the scene 
cube surfaces). The photon port mechanism can be used here to speed 
things up (by defining windows and skylights as emitters, for example), 
but this requires user intervention.

-- light sources must be enclosed in bubbles in order to delineate 
participating media and obtain volume photons. This is an inconvenience, 
but bear in mind that RADIANCE Classic doesn't take any indirect 
illumination into account in participating media.

-- virtual light sources are ignored; caustics is what the photon map is 
all about.

Admittedly, the addon has seen limited use with really complex geometry, 
at least on my end. Most of the scenes I used are simple and tractable 
for the sake of debugging, which is why I'm relying on feedback from 
users with suitably complex scenes. I've received some interesting 
results tho, including caustics from a glass blob using a trimesh, which 
goes beyond anything I've tried.

The addon doesn't burden the standard code in any way: the forward pass 
is performed by a separate program (mkpmap) and thus self-contained. The 
backward pass is integrated into rpict/rview/rtrace, with calls to 
density estimation routines in ambient.c and source.c (for 
global/caustic, and volume photons, respectively). These calls are 
conditional, based on the existence of a photon map, i.e. a simple NULL 
pointer check. Furthermore, the standard functionality is preserved in 
every way; that was one of the primary design goals.

As for the results, I've made numerous comparisons with RADIANCE Classic 
using both local and distant sources, and feel that systematic 
deviations are minimal. That doesn't mean the results are identical; if 
they were, we wouldn't need the addon! Caustics pop up where RADIANCE 
Classic doesn't render them (or noisily at best), and the addon is 
generally faster than RADIANCE Classic. Moreover, it's more accurate 
with high reflectance scenes because RADIANCE Classic assumes an average 
reflectance of 0.5 and truncates rays prematurely in these cases. The 
downside may be a slight increase in noise in the ambient illumination, 
although this is largely subject to the global photon bandwidth.

At the end of the day tho, what ultimately matters -- at least in 
lighting applications -- is physical accuracy, and that's where the 
emphasis of this implementation lies. I'm not aware of other pmaps out 
there that  can handle distant light sources and goniometric diagrams 
(ok, maybe Henrik Wann Jensen's can). To check the accuracy I spent the 
last two years checking the thing both analytically and experimentally 
using measurements done at Fraunhofer ISE.

The analytical validation was a simple "furnace" type scene. There was 
no bias to speak of when using floats for photon flux. When using RGBE I 
discovered an underprediction of 0.5% due to rounding errors introduced 
by this representation. I think everyone can live with this and it saves 
memory, so I left it as default (float photon flux is still available 
with the PMAP_FLOAT_FLUX define at compile time). Apart from the diffuse 
case I also tested specular reflection using a simplified cosine lobe 
model, and wound up with similar results. In both cases RADIANCE Classic 
exhibited considerable underprediction with high reflectance, requiring 
the use of the -lw and -ab options in order to force more ambient 
bounces, thus slowing things down even further compared to pmap. I 
elaborated on this stuff in my presentation at last year's RADIANCE 
workshop, check the workshop slides at radiance-online.

The experimental validation was an entirely different challenge and much 
more interesting. After countless headaches (I had been warned!) I 
finally managed to account for all the stuff that can go wrong in such 
an undertaking. The validation culminated in a case study involving 
diffuse interreflection plus caustics from a light shelf (the latter 
intentionally giving rise to more glossy than specular reflection in 
order to obtain useable results from RADIANCE Classic). Comparison 
between simulation and measurement revealed deviations well within 10%. 
Moreover, RADIANCE Classic and photon map delivered very similar 
results, although the latter was much faster.

For those interested on reading up on this, the validation stuff as well 
as the bias compensating operator are documented in my PhD thesis which 
I intend to wrap up and finally hand in this month -- insha'Allah. A 
paper on bias compensation will appear in this month's issue of Computer 
Graphics Forum, and I'm in the process of preparing another publication 
on the validation together with my colleagues at Fraunhofer ISE.

> These concerns must be answered, and I'm sure Roland can answer some of 
> them.  For other concerns, I'll just have to pour over the source code 
> and test it and test it.  It would be very helpful to me if Roland and I 
> could get together and run through everything, but that hasn't happened, 
> and e-mail gets mixed in with all the other activities we have going on, 
> making communication slow and difficult.

I'm sure we can arrange something. It's tough sifting through somebody 
else's code on your own even if it is commented (particularly if some 
comments use dodgy language... :^)

> I really appreciate the efforts Roland has put forth to get this out, 
> and to keep it updated with the latest source changes on our end.  I 
> know this is no small task, and it feels cruel to make new releases 
> without incorporating his changes, because it just means more work for 
> him without any real benefit.

Consequently I didn't even bother adapting to the HEAD release; 
currently the pmap addon is only compatible with official 3.5 release.

Thanks for bringing this up, Greg!


--Roland


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Mon Dec  1 17:44:39 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Mon, 1 Dec 2003 12:44:39 -0500 (EST)
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <3FCB5191.6080505@gmx.net>
Message-ID: <Pine.BSF.4.44.0312011236450.11851-100000@emancholl.pair.com>

Roland Schregle wrote:

> Currently all of the more common (?) materials are supported. What's
> defnitely not supported are user defined BRDFs, i.e.
> {Met,Plas,Trans}{Data,Func} and BtdfFunc.

So what does actually happen when those are encountered?


> -- the spotlight focus is ignored by the photon map,

Would it be difficult to do this "right"? Not saying that it's
necessary, just for the sake of completeness.


> -- the Glow primitive acts like a standard light source with the photon
> map. There are no restricitions I'm aware of as far as sources are
> concerned. All types are supported, including light source modifiers to
> simulate goniometric diagrams such as IES and EULUMDAT files.

I think the glow radius was introduced exclusively as a
performance optimisation for backwards raytracing, and usually
has a negative effect on simulation accuracy. If that is indeed
so, then I see no harm in ignoring it for the photon map, as
doing so will only improve the result, at a presumably very low
performance penalty.

The documentation never even mentions illum sources. Are they
ignored? If so, I think that would be one of the key problems yet
to solve. Since illums are often used as impostors to replace
other sources (or arbitrary geometry), I assume that any photon
hitting an illum source would need to be dropped, at least if it
hits from behind. Actually, what happens in general when photons
hit other light sources, from either side?


> -- distant light sources (defined with the Source primitive) get special
> treatment and are inherently slow (photons are emitted from the scene
> cube surfaces).

What that means is that photon maps are not generally adequate to
render exterior scenes.


> The photon port mechanism can be used here to speed
> things up (by defining windows and skylights as emitters, for example),
> but this requires user intervention.

If I'm not mistaken (and assuming illum support), then photon
ports are at least partly exchangeable with the use of mkillum
or other local preprocessing algorithms in window openings. This
also means that mkillum type programs would have to be run first,
and the resulting sources might serve as input into the photon
pool. Is this correct?


I'm just trying to consider a number of daylighting use cases, to
determine how the classic methods may or may not play well
together with the use of photon maps. In the following, the
output of each mkillum (or alternative) run might be fed into the
photon map, even though I didn't bother to explicitly mention it
each time.

A) Opening with simple window material like glass/trans/etc
   (or void surface if there is no window pane).
   Treatment choices:
   m: Apply mkillum to pane.
      Advantage: Takes exterior interreflections into account
      Disadvantage: May be slower if exterior is complex.
   p: Use the pane as photon port.
      Advantage: Probably very fast
      Disadvantage: Ignores exterior interreflections
   n: Do nothing special (if opening is very large)
      Advantage: Simple
      Disadvantage: Less accurate and slower than the above.

B) Opening contains some kind of approximately planar redirection
   system that can be geometrically modelled and traced.
   Treatment choices:
   m: Apply mkillum to surface on interior side.
      Advantage: Simple to implement and understand
      Disadvantage: Usually not very accurate, depending on the
      system.
   d: Apply a specialized mkillum replacement to simulate the
      effects of the redirection system.
      Advantage: Simple to use and understand as well as accurate
      Disadvantage: Requires custom algorithm/data for each type
      of system. Currently only available as a proprietary
      product, and for a very limited set of systems.
   p: Use a surface on exterior side as photon port.
      Advantage: Simple to use and understand
      Disadvantage: How robust is this with very complex
      reflection paths through the system?
   n: Do nothing special
      Advantage: No need to understand anything
      Disadvantage: Extremely inaccurate

C) Opening with shading/redirection system that is hard to model
   geometrically, let alone to trace (TWD, aerogel, etc.)
   Treatment choices:
   d: Apply a specialized mkillum replacement to simulate the
      effects of the system.
      Advantage: Simple to use and understand as well as accurate
      Disadvantage: Requires custom algorithm/data for each type
      of system. Not yet publicly available for this type of systems.
   n: No other solution yet that I know of.

D) Light pipes.
   Treatment choices:
   p: Photon port at entry of pipe.
      Advantage: Appears to work. ;)
      Disadvantage: Are there restrictions on the pipe geometry
      and/or proportions?
   m: Mkillum surface at entry of pipe, feeding the result into
      the photon map.
      Advantage: Would that improve anything?
      Disadvantage: No idea...

- Any interesting situations I forgot?


> -- light sources must be enclosed in bubbles in order to delineate
> participating media and obtain volume photons.

No surprise, really. This is equivalent to the requirement that
view points and sensors be located outside of participating media
volumes.


> Admittedly, the addon has seen limited use with really complex geometry,
> at least on my end. Most of the scenes I used are simple and tractable
> for the sake of debugging, which is why I'm relying on feedback from
> users with suitably complex scenes.

That situation could be improved by an experimental HEAD merge.
Particularly, it would give Windows users access to photon maps
combined with all the recent improvements to Radiance, and
Francesco Anselmo wouldn't have to provide two seperate Cygwin
builds anymore.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-dev@radiance-online.org  Mon Dec  1 18:31:52 2003
From: radiance-dev@radiance-online.org (Charles Ehrlich)
Date: Mon, 1 Dec 2003 10:31:52 -0800 (PST)
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <3FCB5191.6080505@gmx.net>
Message-ID: <20031201183153.38740.qmail@web80309.mail.yahoo.com>

--0-2112030479-1070303512=:38438
Content-Type: text/plain; charset=us-ascii

This thread caught my eye.  I think I saw a demo of Roland's code at SG2000.  It was rendering a medium complexity scene at near real time on a pentium laptop.
 
I have two concerns about a pair of limitations that Roland mentioned:

-- the Glow primitive acts like a standard light source with the photon 
map. There are no restricitions I'm aware of as far as sources are 
concerned. All types are supported, including light source modifiers to 
simulate goniometric diagrams such as IES and EULUMDAT files.

-- virtual light sources are ignored; caustics is what the photon map is 
all about.

Is the "illum" type considered one of the "virtual light source" types and is therefore ignored?  These two limitations have an interesting implication for some expert users.  The "glow" primitive is frequently used with zero radius of influence inside "illum" spheres to accurately model the appearance of luminaires without affecting the distribution of the luminaire described with the IES distribution.   If the radius of effect of the glow is ignored, or if "glow" primitives inside "illum" spheres are not ignored (for shadow testing and for the ambient calculation), then there will definately be a modeling compatibility problem. 

Other times the "glow" primitive is set with a non-zero radius of influence to optimize renderings in complex scenes.  For example, if you have downlights on every floor of a multi-floor building, the radius can be set to just shy of two floor-to-floor heights so that beyond this distance, the shadow testing is avoided.  This can have a profound impact on rendering speed with "Radiance Classic."  This limitation is not as important if the photon mapping code deals with such optimizations automatically.


-- light sources must be enclosed in bubbles in order to delineate 
participating media and obtain volume photons. This is an inconvenience, 
but bear in mind that RADIANCE Classic doesn't take any indirect 
illumination into account in participating media.


Now this sounds like a fantastic benefit of the new code.  Any plans to validate these results?  I presume this would be very useful for nighttime outdoor light pollution analysis, no?

There is another "chicken and egg" problem WRT the validation of new and experimental code in Radiance.  If the new code is not part of the standard release, the average and even many advenuresome Radiance users will never have the opportunity to exercise the experimental parts of the code.  This means that you get much less volume of feedback regarding the usefulness of the new code segments.

Wasn't someone working on a test suite?  What is the status of this effort?

-Chas

--0-2112030479-1070303512=:38438
Content-Type: text/html; charset=us-ascii

<DIV>This thread caught my eye.&nbsp; I think I saw a demo of Roland's code at SG2000.&nbsp; It was rendering a medium complexity scene at near real time on a pentium laptop.</DIV>
<DIV>&nbsp;</DIV>
<DIV>I have two concerns about a pair of limitations that Roland mentioned:</DIV>
<BLOCKQUOTE class=replbq style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #1010ff 2px solid">
<P>-- the Glow primitive acts like a standard light source with the photon <BR>map. There are no restricitions I'm aware of as far as sources are <BR>concerned. All types are supported, including light source modifiers to <BR>simulate goniometric diagrams such as IES and EULUMDAT files.</P>
<P>-- virtual light sources are ignored; caustics is what the photon map is <BR>all about.</P></BLOCKQUOTE>
<P>Is the "illum" type considered one of the "virtual light source" types and is therefore ignored?&nbsp; These two limitations have an interesting implication for some expert users.&nbsp; The "glow" primitive is frequently used with zero radius of influence inside "illum" spheres to accurately model the appearance of luminaires without affecting the distribution of the luminaire described with the IES distribution.&nbsp;&nbsp; If the radius of effect of the glow is ignored, or if "glow" primitives inside "illum" spheres are not ignored (for shadow testing and for the ambient calculation), then there will definately be a modeling&nbsp;compatibility&nbsp;problem.&nbsp;</P>
<P>Other times the "glow" primitive is set with a non-zero radius of influence to optimize renderings in complex scenes.&nbsp; For example, if you have downlights on every floor of a multi-floor building, the radius can be set to just shy of two floor-to-floor heights so that beyond this distance, the shadow testing is avoided.&nbsp; This can have a profound impact on rendering speed with "Radiance Classic."&nbsp; This limitation is not as important if the photon mapping code deals with such optimizations automatically.</P>
<BLOCKQUOTE class=replbq style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #1010ff 2px solid">
<P><BR>-- light sources must be enclosed in bubbles in order to delineate <BR>participating media and obtain volume photons. This is an inconvenience, <BR>but bear in mind that RADIANCE Classic doesn't take any indirect <BR>illumination into account in participating media.<BR></P></BLOCKQUOTE>
<P>Now this sounds like a fantastic benefit of the new code.&nbsp; Any plans to validate these results?&nbsp; I presume this would be very useful for nighttime outdoor light pollution analysis, no?</P>
<P>There is another&nbsp;"chicken and egg" problem&nbsp;WRT the validation of new and experimental&nbsp;code in Radiance. &nbsp;If the new code is not part of the standard release, the average and even many advenuresome Radiance users will never have the opportunity to exercise the experimental parts of the code.&nbsp; This means that you get much less volume of feedback regarding the usefulness of the new code segments.</P>
<P>Wasn't someone working on a test suite?&nbsp; What is the status of this effort?</P>
<P>-Chas</P>
--0-2112030479-1070303512=:38438--

From radiance-dev@radiance-online.org  Mon Dec  1 20:26:50 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Mon, 1 Dec 2003 15:26:50 -0500 (EST)
Subject: [Radiance-dev] test suite
Message-ID: <Pine.BSF.4.44.0312011526110.11851-100000@emancholl.pair.com>

Charles Ehrlich wrote (in the photon map thread):

> Wasn't someone working on a test suite?  What is the status of this effort?


I have played around with the unit testing framework included
with newer Python versions a while ago, and created a handful of
tests for some of the auxiliary binaries. This approach has the
advantage to be completely platform-independent. Therefore I can
now confidently say that my current Windows binaries for cnt, ev,
genbeads, getinfo, histo, lam, ttyimage, and xform behave
according to their specification.

For that purpose, I wrote several comparison functions trying to
make sense of certain classes of text data (eg. file headers and
scene descriptions). Those comparisons allow for differences in
whitespace, and for rounding errors in floating point tokens.
I found that even small image files can be reasonably compared,
by picking a few arbitrary lines out of the output from ttyimage.

As it looks, the difficulty is not so much in the testing method,
nor in writing the actual tests. Both of those are very easy.
The real challenge will be coming up with good examples and test
cases that really cover the critical borderline cases in each
program to be tested. Help from as many people as possible will
be required to reach a reasonably complete coverage.

I can check the current state into CVS for people to look at it.
Right now it's located in a directory "test" (and subdirectories)
directly under ray, but could be moved elsewhere if someone has a
better idea.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/



From radiance-dev@radiance-online.org  Mon Dec  1 21:45:54 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Mon, 01 Dec 2003 22:45:54 +0100
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <Pine.BSF.4.44.0312011236450.11851-100000@emancholl.pair.com>
References: <Pine.BSF.4.44.0312011236450.11851-100000@emancholl.pair.com>
Message-ID: <3FCBB692.7040903@gmx.net>

Georg Mischler wrote:
> Roland Schregle wrote:
> 
>>Currently all of the more common (?) materials are supported. What's
>>defnitely not supported are user defined BRDFs, i.e.
>>{Met,Plas,Trans}{Data,Func} and BtdfFunc.
> 
> So what does actually happen when those are encountered?

Well, you get a pretty "unexpected object call" message that's used as 
default in the dispatch table, and mkpmap gracefully bails out. :^)

>>-- the spotlight focus is ignored by the photon map,
> 
> Would it be difficult to do this "right"? Not saying that it's
> necessary, just for the sake of completeness.

Not that straightforward; photons would have to be emitted *behind* the 
light source and pass through it, requiring some ugly special hack. 
Didn't feel like messing with this 'cos I didn't consider it that 
important. I suppose you could find a workaround in the long run.

> The documentation never even mentions illum sources. Are they
> ignored? If so, I think that would be one of the key problems yet
> to solve. Since illums are often used as impostors to replace
> other sources (or arbitrary geometry), I assume that any photon
> hitting an illum source would need to be dropped, at least if it
> hits from behind. 

Photon map doesn't parse its own light sources: it takes the standard 
source array delivered by marksources(), and whatever's in there is 
considered a source. Illums wind up in there too, if I remember 
correctly (haven't done much with them), and they're treated just like a 
regular source. I gave this some thought and realised that illums would 
probably be overkill if used together with exterior distant sources. 
While this would slow things down, photons hitting the illums from the 
back would be swallowed anyway, so I don't think it'll invalidate the 
results. Personally, I'm not sure about the wisdom of using illums with 
the pmap addon. As I understand it, this construct is often used to get 
a luminance distribution from a window with a facade. If you're using 
specular materials illum probably won't cut it and you'll need to use 
the pmap + port approach. On the other hand, diffuse external 
interreflections are probably better handled via an illum.

 > Actually, what happens in general when photons
> hit other light sources, from either side?

Light sources don't reflect in RADIANCE. Consequently, they aborb 
photons. Whether this behaviour is correct is debatable, fact is tho 
that RADIANCE Classic doesn't consider reflections from sources either. 
These contributions would most probably be insignificant anyway in most 
scenes (at least realistic ones).

>>-- distant light sources (defined with the Source primitive) get special
>>treatment and are inherently slow (photons are emitted from the scene
>>cube surfaces).
>  
> What that means is that photon maps are not generally adequate to
> render exterior scenes.

Nope, there's a fundamental difficulty there for the same reason a 
backward raytracer can't handle caustics efficiently.

>>The photon port mechanism can be used here to speed
>>things up (by defining windows and skylights as emitters, for example),
>>but this requires user intervention.
>  
> If I'm not mistaken (and assuming illum support), then photon
> ports are at least partly exchangeable with the use of mkillum
> or other local preprocessing algorithms in window openings. This
> also means that mkillum type programs would have to be run first,
> and the resulting sources might serve as input into the photon
> pool. Is this correct?

The photon port stuff is effectively just a hack I needed to get quick 
daylight simulations, and certainly shouldn't be considered the 
definitive workaround to the efficiency problems posed by distant 
sources. It's neither elegant nor flexible, but it gets the job done.

I too realised the similarity to illums and briefly even considered 
hacking the illums themselves to act as ports, which would also provide 
the benefit of accounting for external interreflection (which ports 
currently don't, although they do check for source occlusion). I 
discussed this with Peter A.B. and we concluded it was better to add an 
extra construct specifically for the purpose, although I can't exactly 
remember why. I think one of the main reasons was the limited spatial 
resolution of illums, which could give rise to aliasing and therefore 
bias in the photon distribution. Like I said, the ports are just a 
stopgap until a nifty importance based distribution scheme is developed. 
But that's another story (apologies to Billy WIlder)...

> I'm just trying to consider a number of daylighting use cases, to
> determine how the classic methods may or may not play well
> together with the use of photon maps. In the following, the
> output of each mkillum (or alternative) run might be fed into the
> photon map, even though I didn't bother to explicitly mention it
> each time.
> 
> A) Opening with simple window material like glass/trans/etc
>    (or void surface if there is no window pane).
>    Treatment choices:
>    m: Apply mkillum to pane.
>       Advantage: Takes exterior interreflections into account
>       Disadvantage: May be slower if exterior is complex.
>    p: Use the pane as photon port.
>       Advantage: Probably very fast
>       Disadvantage: Ignores exterior interreflections
>    n: Do nothing special (if opening is very large)
>       Advantage: Simple
>       Disadvantage: Less accurate and slower than the above.

Case n will be slower than p or m, but not necessarily less accurate; 
brute force bombardment of the entire scene cube with photons is just 
much slower and dumber, but there's no bias I'm aware of (this 
distrubtion is infact stratified over each side of the scene cube).

> B) Opening contains some kind of approximately planar redirection
>    system that can be geometrically modelled and traced.
>    Treatment choices:
>    m: Apply mkillum to surface on interior side.
>       Advantage: Simple to implement and understand
>       Disadvantage: Usually not very accurate, depending on the
>       system.

If your system produces highly localised caustics, you'll need to 
precompute some very hi-res illums; that would be a *lot* slower than 
photon ports.

>    d: Apply a specialized mkillum replacement to simulate the
>       effects of the redirection system.
>       Advantage: Simple to use and understand as well as accurate
>       Disadvantage: Requires custom algorithm/data for each type
>       of system. Currently only available as a proprietary
>       product, and for a very limited set of systems.

This is your approach, right? There's no doubt this is more accurate 
(based on analytical solution, if I'm not mistaken) and probably faster 
than the pmap approach. The fundamental problem as you point out is of 
course the lack of generality. This is the pmap's strong suit, and Wann 
Jensen has always emphasised generality and geometric independence 
(photons aren't associated with objects, but rather just with 3D points) 
in his publications. This also makes it relatively easy to integrate a 
photon map addon into an existing raytracer.

>    p: Use a surface on exterior side as photon port.
>       Advantage: Simple to use and understand
>       Disadvantage: How robust is this with very complex
>       reflection paths through the system?

Once a photon has been emitted, it makes absolutely no difference 
whether it came from "outer space" (i.e. the scene cube) or the window. 
If it gets reflected back out through the port or bounces back inside, 
that's no problem. A port behaves according to its assigned material 
when a photon hits it. Problems may of course arise if the port is 
ill-defined (i.e. the system is partly outside, etc). Therein lies the 
inconvenience and potential pitfall for the user.

>    n: Do nothing special
>       Advantage: No need to understand anything
>       Disadvantage: Extremely inaccurate

Again, this shouldn't be any less accurate than m or p, just 
stupefyingly slow. Of course, not having to know what you're doing is 
rather nice once in a while... :^)

> C) Opening with shading/redirection system that is hard to model
>    geometrically, let alone to trace (TWD, aerogel, etc.)
>    Treatment choices:
>    d: Apply a specialized mkillum replacement to simulate the
>       effects of the system.
>       Advantage: Simple to use and understand as well as accurate
>       Disadvantage: Requires custom algorithm/data for each type
>       of system. Not yet publicly available for this type of systems.
>    n: No other solution yet that I know of.

Generally, if you can model it with RADIANCE Classic, pmap can trace it. 
Caveat preemptor once again: user-defined BRDFs. I have no idea how 
these materials are modeled, so I can't say for sure if pmap can handle 
this situation. Anyone out there try this?

> D) Light pipes.
>    Treatment choices:
>    p: Photon port at entry of pipe.
>       Advantage: Appears to work. ;)

No, I didn't run that through the Gimp. :^)

>       Disadvantage: Are there restrictions on the pipe geometry
>       and/or proportions?

Nope. For all I care your pipes could be Pam Anderson shaped... (go for 
it, Rob!)

>    m: Mkillum surface at entry of pipe, feeding the result into
>       the photon map.
>       Advantage: Would that improve anything?
>       Disadvantage: No idea...

Beats me. I think this port/illum stuff should be thought out in detail 
again. As I said, it's not the last word.

--Roland


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Mon Dec  1 22:25:43 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Mon, 01 Dec 2003 23:25:43 +0100
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <20031201183153.38740.qmail@web80309.mail.yahoo.com>
References: <20031201183153.38740.qmail@web80309.mail.yahoo.com>
Message-ID: <3FCBBFE7.70402@gmx.net>

Charles Ehrlich wrote:
> This thread caught my eye.  I think I saw a demo of Roland's code at 
> SG2000.  It was rendering a medium complexity scene at near real time on 
> a pentium laptop.

Hi Chas,

um, are you sure that was my code? I'd be flattered if it was anywhere 
near real time. Sounds more like Henrik's implementation. :^)

> I have two concerns about a pair of limitations that Roland mentioned:
> 
>     -- the Glow primitive acts like a standard light source with the photon
>     map. There are no restricitions I'm aware of as far as sources are
>     concerned. All types are supported, including light source modifiers to
>     simulate goniometric diagrams such as IES and EULUMDAT files.
> 
>     -- virtual light sources are ignored; caustics is what the photon
>     map is
>     all about.
> 
> Is the "illum" type considered one of the "virtual light source" types 
> and is therefore ignored?  These two limitations have an interesting 
> implication for some expert users.  The "glow" primitive is frequently 
> used with zero radius of influence inside "illum" spheres to accurately 
> model the appearance of luminaires without affecting the distribution of 
> the luminaire described with the IES distribution.   If the radius of 
> effect of the glow is ignored, or if "glow" primitives inside "illum" 
> spheres are not ignored (for shadow testing and for the ambient 
> calculation), then there will definately be a 
> modeling compatibility problem. 

Sorry, with "virtual" sources I of course meant secondary sources 
defined by mirrors in order to accurately model reflections. These are 
basically redundant with photon map and therefore disabled when using 
this rendering technique.

I just took a look at marksources() again. Glows with zero radius are 
ignored. Consequently, pmap should ignore them too. Illums are treated 
as light sources, I believe, and should therefore act as the actual 
emitter in lieu of the Glow during photon distribution. As such, there 
shouldn't be a problem. This is admittedly just a vague line of 
reasoning; I honestly have never considered such a scenario. Should give 
this a shot.

>     -- light sources must be enclosed in bubbles in order to delineate
>     participating media and obtain volume photons. This is an
>     inconvenience,
>     but bear in mind that RADIANCE Classic doesn't take any indirect
>     illumination into account in participating media.
> 
> Now this sounds like a fantastic benefit of the new code.  Any plans to 
> validate these results?  I presume this would be very useful for 
> nighttime outdoor light pollution analysis, no?

I'm not aware of any validation plans for participating media. This was 
considered pretty much peripheral at ISE, and I just put it in for 
completeness and "because I could" once I perused Wann Jensen's papers 
on volume rendering. Of course I'm sure there's people out there who 
don't merely regard this as a gimmick, but find it downright useful. As 
such I agree this feature should be checked for accuracy. This is the 
kind of feedback I'm really looking forward to. My experience with 
volume rendering is very limited, and I only had the formulae to go by, 
but I think I got it right the third time around or so. :^)

--Roland


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Tue Dec  2 18:26:16 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Tue, 2 Dec 2003 13:26:16 -0500 (EST)
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <3FCBB692.7040903@gmx.net>
Message-ID: <Pine.BSF.4.44.0312021324410.70377-100000@emancholl.pair.com>

Roland Schregle wrote:

> Georg Mischler wrote:
>> Roland Schregle wrote:
>>
>>> What's defnitely not supported are user defined BRDFs, i.e.
>>> {Met,Plas,Trans}{Data,Func} and BtdfFunc.
>>
>> So what does actually happen when those are encountered?
>
> Well, you get a pretty "unexpected object call" message that's used as
> default in the dispatch table, and mkpmap gracefully bails out. :^)

Not good enough.

The very least we should do is to deposit the photon there, so
that it can get gathered again later. Since we'll be looking at
the situation from the other side at gathering time, shouldn't we
be able to do the right thing with the BR[T]DF then?

That would basically mean that those materials become a natural
energy transfer gateway between the forward and backward tracing
systems. In the worst case, you'll have to add a flag to the
photon saying "we still need to look at the surface interaction
with this one".

I'm still not completely clear about this transfer phase, btw.
If I run rpict with pmap and eg. 5 ambient bounces, is there any
risk of double counting any light paths? Or maybe more to the
point, how is this avoided?

Yeah, I know I should read up on Henrik Wann Jensen eventually,
but maybe you can still provide a few pointers about how the
interaction with Radiance classic is implemented.


>>>-- the spotlight focus is ignored by the photon map,
>>
>> Would it be difficult to do this "right"? Not saying that it's
>> necessary, just for the sake of completeness.
>
> Not that straightforward; photons would have to be emitted *behind* the
> light source and pass through it, requiring some ugly special hack.

At some point we'll probably want a good estimation of the
possible errors, but right now I don't see this as an obstacle.


> Personally, I'm not sure about the wisdom of using illums with
> the pmap addon. As I understand it, this construct is often used to get
> a luminance distribution from a window with a facade.

We should probably differentiate between the illum material type
(which is a normal light source for pmap), and the mkillum
program (which happens to produce illums).

But apart from that, I think that potentially a mkillum generated
illum surface could replace a photon port at least in some
situations. However, the two approaches seem to have different
strengths and weeknesses.


> If you're using
> specular materials illum probably won't cut it and you'll need to use
> the pmap + port approach. On the other hand, diffuse external
> interreflections are probably better handled via an illum.

Maybe we could make a table what happens with each of them in all
relevant situations, to get an idea about how to reach the best
combined result. We should probably look at at least the
following matrix:

Receiving side:
 - direct sun (light)
 - direct sky (glow)
 - reflected (sky and sun)

Emitting side:
 - direct calculation
 - ambient calculation
 - direct view to surface
 - direct ray with rtrace

For the moment, this is ignoring any other aspects, like geometry
elements in front of or behind the respective surface. We can
look at situations like this later.


> The photon port stuff is effectively just a hack I needed to get quick
> daylight simulations, and certainly shouldn't be considered the
> definitive workaround to the efficiency problems posed by distant
> sources. It's neither elegant nor flexible, but it gets the job done.

It follows an established pattern about how users can inform the
software about special properties of their scene geometry.
Implementation details can of course still be subject to debate
and possible improvements.


> I discussed this with Peter A.B. and we concluded it was better to add an
> extra construct specifically for the purpose, although I can't exactly
> remember why. I think one of the main reasons was the limited spatial
> resolution of illums, which could give rise to aliasing and therefore
> bias in the photon distribution.

I think it would be helpful if either of you could dig up those
arguments (unless they were only exchanged verbally). To me it
currently feels like we have all (or most) of the building blocks
to make this really useful. We might just need to combine them
the right way, and maybe add one or two missing links.

 >>    d: Apply a specialized mkillum replacement to simulate the
>>       effects of the redirection system.
>>       Advantage: Simple to use and understand as well as accurate
>>       Disadvantage: Requires custom algorithm/data for each type
>>       of system. Currently only available as a proprietary
>>       product, and for a very limited set of systems.
>
> This is your approach, right? There's no doubt this is more accurate
> (based on analytical solution, if I'm not mistaken) and probably faster
> than the pmap approach.

It's not really "my" approach, although I'm trying to sell it...
The improved accuracy doesn't actually have much to do with the
analytically generated data, working with measured data would at
least in theory be just as fine. The main advantage is that the
behaviour of the system is already known beforehand, and at an
appropriate resolution. During the simulation all that remains
to do are table lookups, which means the results are exactly as
accurate as the underlying data set.


>>    p: Use a surface on exterior side as photon port.
>>       Advantage: Simple to use and understand
>>       Disadvantage: How robust is this with very complex
>>       reflection paths through the system?
>
> Once a photon has been emitted, it makes absolutely no difference
> whether it came from "outer space" (i.e. the scene cube) or the window.
> If it gets reflected back out through the port or bounces back inside,
> that's no problem.

The question wasn't so much about the behaviour of the ports.
I guess I'm wondering generally about how the photon map will
perform when penetrating very detailed and convoluted geometry.


>> D) Light pipes.
>>    Treatment choices:
>>    p: Photon port at entry of pipe.
>>       Advantage: Appears to work. ;)
>>       Disadvantage: Are there restrictions on the pipe geometry
>>       and/or proportions?
>
> Nope. For all I care your pipes could be Pam Anderson shaped... (go for
> it, Rob!)

That's basically again the same question as above: What happens
in practise if the pipe turns around two or three corners?
I assume that partly depends on the parameter settings. I'm just
trying to get a feeling about the possibilities and limitations.

For the same reason, and to give those theoretical deliberations
a more realistic foundation, I'd like to encourage other people
who have used the photon map extension to act on Gregs request,
and share their practical experiences. You can either do this
through one of the mailing lists, or directly to Greg and/or me.
Roland, do you have a list of users that you could politely ask
to chime in? The more feedback we get, the better.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-dev@radiance-online.org  Tue Dec  2 18:50:13 2003
From: radiance-dev@radiance-online.org (Charles Ehrlich)
Date: Tue, 2 Dec 2003 10:50:13 -0800 (PST)
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <Pine.BSF.4.44.0312021324410.70377-100000@emancholl.pair.com>
Message-ID: <20031202185013.4887.qmail@web80314.mail.yahoo.com>

--0-627216716-1070391013=:3741
Content-Type: text/plain; charset=us-ascii

 
Do the photon map routines work inside of rtrace, or are they strictly for the renderers?  If they work on a ray-by-ray (bundle-by-bundle) basis, perhaps a version of mkillum could be developed that uses the photon map routines instead of "Radiance Classic" routines.  I presume that mkillum would be much faster with photon mapping since mkillum uses a low resolution sampling of its environment.

-Chas

 

--0-627216716-1070391013=:3741
Content-Type: text/html; charset=us-ascii

<DIV>&nbsp;</DIV>
<DIV>Do the photon map routines work inside of rtrace, or are they strictly for the renderers?&nbsp; If they work on a ray-by-ray (bundle-by-bundle)&nbsp;basis, perhaps a version of mkillum could be developed that uses the photon map routines instead of "Radiance Classic" routines.&nbsp; I presume that mkillum would be much faster with photon mapping since mkillum uses a low resolution sampling of its environment.<BR></DIV>
<DIV>-Chas</DIV>
<DIV><BR>&nbsp;</DIV>
--0-627216716-1070391013=:3741--

From radiance-dev@radiance-online.org  Tue Dec  2 19:14:10 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Tue, 02 Dec 2003 20:14:10 +0100
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <20031202185013.4887.qmail@web80314.mail.yahoo.com>
References: <20031202185013.4887.qmail@web80314.mail.yahoo.com>
Message-ID: <3FCCE482.7030408@gmx.net>

Charles Ehrlich wrote:
>  
> Do the photon map routines work inside of rtrace, or are they strictly 
> for the renderers?  If they work on a ray-by-ray 
> (bundle-by-bundle) basis, perhaps a version of mkillum could be 
> developed that uses the photon map routines instead of "Radiance 
> Classic" routines.  I presume that mkillum would be much faster with 
> photon mapping since mkillum uses a low resolution sampling of its 
> environment.
> -Chas

Hi Chas,

the photon distribution is indeed ray-by-ray (or photon-by-photon, for 
that matter), except that the emission loop is selfcontained, so you 
can't  emit individual photons via external calls at the moment. 
Currently the emission routine has to know a priori the required number 
of *stored* photons (corresponding to mkpmap's -apg/-apc/-apv 
parameters). The number of photons actually *emitted* depends on your 
geometry and is impossible to predict a priori. It's a non-trivial 
technicality, but we should be able to provide a more general interface 
if the need arises.

--Roland


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Tue Dec  2 19:42:52 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Tue, 02 Dec 2003 20:42:52 +0100
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <Pine.BSF.4.44.0312021324410.70377-100000@emancholl.pair.com>
References: <Pine.BSF.4.44.0312021324410.70377-100000@emancholl.pair.com>
Message-ID: <3FCCEB3C.6020502@gmx.net>

Georg Mischler wrote:
> Roland Schregle wrote:
> 
>>Well, you get a pretty "unexpected object call" message that's used as
>>default in the dispatch table, and mkpmap gracefully bails out. :^)
> 
> Not good enough.

No?

> The very least we should do is to deposit the photon there, so
> that it can get gathered again later. Since we'll be looking at
> the situation from the other side at gathering time, shouldn't we
> be able to do the right thing with the BR[T]DF then?

That's not gonna help ya if you don't propagate the photon, and for that 
you need the BRDF. The BRDF's contributions to the other surfaces will 
still be missing, and postprocessing in the backward pass won't cut it 
either because at most 1 ambient bounce is performed with pmap. Your 
solution will still be incomplete.

Caustics from such a material won't show up with this scheme either, 
since specular reflections from surfaces hit by ambient rays are 
suppressed, because this is exactly what the caustic photons account 
for. Failure to ignore these transport paths would result in overcounting.

Finally, note that the current implementation doesn't store the photon's 
incident direction, so that info wouldn't be available during the 
backward pass when applying the BRDF. I considered this info redundant 
because photons only account for the diffusely reflected indirect 
illumination; the specularly reflected indirect illumination is still 
handled via the stock code (unless it's already accounted for by caustic 
photons, as noted above).

> I'm still not completely clear about this transfer phase, btw.
> If I run rpict with pmap and eg. 5 ambient bounces, is there any
> risk of double counting any light paths? Or maybe more to the
> point, how is this avoided?

If -ab is nonzero, the actual number is irrelevant: global photon 
contributions are always visualised via *one* intermediate ambient 
bounce. If you set -ab to zero, the global photons are visualised 
directly at the primary ray (which is faster but pretty noisy). Caustic 
photons are always visualised directly.

Double counting is ruled out for caustics as described above. For 
diffuse illumination, double counting is avoided by not tracing ambient 
rays when global photon contributions are evaluated -- these components 
account for the same transport paths, expect the photon density estimate 
is generally faster than tracing ambient rays.

> For the same reason, and to give those theoretical deliberations
> a more realistic foundation, I'd like to encourage other people
> who have used the photon map extension to act on Gregs request,
> and share their practical experiences. You can either do this
> through one of the mailing lists, or directly to Greg and/or me.
> Roland, do you have a list of users that you could politely ask
> to chime in? The more feedback we get, the better.

I'll go through my old musty MailCrypt[tm] and see who I can dig up... :^)

--Roland


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Tue Dec  2 20:09:29 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Tue, 2 Dec 2003 15:09:29 -0500 (EST)
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <20031202185013.4887.qmail@web80314.mail.yahoo.com>
Message-ID: <Pine.BSF.4.44.0312021446320.70377-100000@emancholl.pair.com>

Charles Ehrlich wrote:

>
> Do the photon map routines work inside of rtrace, or are they strictly for
> the renderers?  If they work on a ray-by-ray (bundle-by-bundle) basis,
> perhaps a version of mkillum could be developed that uses the photon map
> routines instead of "Radiance Classic" routines.  I presume that mkillum
> would be much faster with photon mapping since mkillum uses a low resolution
> sampling of its environment.

Backwards raytracing (classic Radiance) is most efficient when
the emitting area of the scene is large relative to the receiving
area, iow. when we need to "collect" light.
Photon mapping (~= forward raytracing) is most efficient when the
emitting area of the scene is small relative to the receiving
area, iow. when we need to "distribute" light.

In an architectural daylighting simulation, we have two geometric
bottlenecks. One are the window openings, and the other are the
view points and other sensor points. Collecting light from the
sky and the environment to the window openings is best solved by
backwards raytracing (mkillum+rtrace). Distributing light from
the window openings (plus any artificial sources) into the
interior spaces is best solved by photon mapping. And collecting
light from interior spaces to the viewpoints and sensors is again
best handled by backwards raytracing (rpict/rview/rtrace).

This is why we're discussing how the output of mkillum (or a
similar program) could be used as input into the photon map
algorithm, instead of the other way round.

That's the global picture, anyway. As you see from the remaining
discussion, there are still a few problems to be solved at the
transfer points between the different methods.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/



From radiance-dev@radiance-online.org  Tue Dec  2 21:01:55 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Tue, 2 Dec 2003 16:01:55 -0500 (EST)
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <3FCCEB3C.6020502@gmx.net>
Message-ID: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com>

Roland Schregle wrote:

> Georg Mischler wrote:
> > Roland Schregle wrote:
> >
> >>Well, you get a pretty "unexpected object call" message that's used as
> >>default in the dispatch table, and mkpmap gracefully bails out. :^)
> >
> > Not good enough.
>
> No?

It's not my decision in the end, but as a first gut reaction
I'd really prefer to see a complete solution. On the other hand,
I think I understand the problems involved a little better now.

One point to note is that the xxxfunc and xxxdata primitives only
perform their magic with light that is contributed by direct
sources. For reflected input they seem to behave like standard
plastic/metal/trans. Could the "abysmal performance" you cited
earlier for scanning the outgoing hemisphere be more tolerable
when restricted to brand new photons on their first hop?

In general, abysmal performance looks still better to me than
missing functionality. I can live with telling people those
materials don't perform well with pmap, but would hate to have to
tell them they simply don't work.

Well, at least until we find a better solution...


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-dev@radiance-online.org  Tue Dec  2 21:57:53 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Tue, 02 Dec 2003 22:57:53 +0100
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com>
Message-ID: <3FCD0AE1.5040509@gmx.net>

Georg Mischler wrote:

> One point to note is that the xxxfunc and xxxdata primitives only
> perform their magic with light that is contributed by direct
> sources. For reflected input they seem to behave like standard
> plastic/metal/trans. Could the "abysmal performance" you cited
> earlier for scanning the outgoing hemisphere be more tolerable
> when restricted to brand new photons on their first hop?

Most defnitely, but I personally wouldn't be too happy with that. I'm 
also aware of RADIANCE Classic's shortcut with these materials (it's 
basically the same problem, just the other way round), and if pmap were 
to recitfy this, I agree with you that it should do so fully (but don't 
ask me how).

> In general, abysmal performance looks still better to me than
> missing functionality. I can live with telling people those
> materials don't perform well with pmap, but would hate to have to
> tell them they simply don't work.

Well, I initially felt that way too, then quickly changed my mind when I 
cranked out the last release. Again, I felt it'd be just a half baked 
solution no one would be really happy with.

> Well, at least until we find a better solution...

Alas, not any day soon as far as I'm concerned. Currently I've shelved 
the code and am wrapping up my thesis, so I'm not actively poring over a 
solution.

Uh... is anybody actually still *reading* this thread? :^)

--Roland


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Tue Dec  2 23:21:34 2003
From: radiance-dev@radiance-online.org (Rob Guglielmetti)
Date: Tue, 02 Dec 2003 18:21:34 -0500
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <3FCD0AE1.5040509@gmx.net>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net>
Message-ID: <3FCD1E7E.5020304@rumblestrip.org>

Roland Schregle wrote:
> Uh... is anybody actually still *reading* this thread? :^)

Yes, even if 70% of it bounces off my thick skull, which could be 
modeled like so, using Radiance Classic [TM]:

void trans robs_skull
0
0
7
.91 .91 .91 0 0.05 0.23 .048

This allows for a slight specular lobe in the direction of my frontal 
lobe, though reflection and absorption are really having a negative 
impact on my understanding of all of this.   =8-)

(sorry)

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-dev@radiance-online.org  Wed Dec  3 12:46:32 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Wed, 03 Dec 2003 13:46:32 +0100
Subject: [Radiance-dev] Re: Photon map addition
In-Reply-To: <3FCD1E7E.5020304@rumblestrip.org>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org>
Message-ID: <3FCDDB28.3040505@gmx.net>

Rob Guglielmetti wrote:
> Roland Schregle wrote:
> 
>> Uh... is anybody actually still *reading* this thread? :^)
> 
> 
> Yes, even if 70% of it bounces off my thick skull, which could be 
> modeled like so, using Radiance Classic [TM]:
> 
> void trans robs_skull
> 0
> 0
> 7
> .91 .91 .91 0 0.05 0.23 .048
> 
> This allows for a slight specular lobe in the direction of my frontal 
> lobe, though reflection and absorption are really having a negative 
> impact on my understanding of all of this.   =8-)

Cool, a specular skull! :^)
Actually, you might wanna take a look at Wann Jensen's book. It's more 
straightforward than his papers (although HWJ's papers generally read 
much better than some others I've pored over). Speaking of which, I'm 
poring over a few right now as references for my thesis. Totally mind 
numbing stuff... sometimes I really wonder who the hell reads this crap, 
and for that matter, who the hell's gonna read my thesis! :^)

See ya!

--Roland


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Wed Dec  3 21:29:32 2003
From: radiance-dev@radiance-online.org (Carsten Bauer)
Date: Wed, 03 Dec 2003 21:29:32 +0000
Subject: [Radiance-dev] Re: Photon map addition
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FCDDB28.3040505@gmx.net>
Message-ID: <3FCE55BC.7050703@t-online.de>

Roland Schregle wrote:

>   ... sometimes I really wonder who the hell reads this crap, and for 
> that matter, who the hell's gonna read my thesis! :^) 

if you write it in the same style as your source code comments, anyone 
who doesn't read it surely's gonna miss something !!!

still czeching it out, man

-Carsten




From radiance-dev@radiance-online.org  Thu Dec  4 11:49:29 2003
From: radiance-dev@radiance-online.org (etsaweb)
Date: Thu, 4 Dec 2003 12:49:29 +0100
Subject: [Radiance-dev] Quincunx Sampling
Message-ID: <000001c3ba5d$28a73f00$987bed9f@TEDWEB1>

This is a multi-part message in MIME format.

------=_NextPart_000_000F_01C3BA65.0ECBB400
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello, i am an spanish architect very interested in realistic =
simulations. You can see my work in www.chroma-e.com . Until now i have =
been working with Lightscape but now i would like to go deep in the code =
to adequate this kind of programs to my work. I dont know if it=B4s =
going to be impossible for me to understand the code because i am not a =
proggrammer but i am trying it. I have started with oconv, and now i am =
with rpict but i am a bit stop up with the quincunx sampling:
hstep=3D(psample*140+49)/99
ystep=3D(psample*99+70)/140
why this numbers??, can you help me??
thanks and sorry for my English,

Ignacio Mun=E1rriz
Escuela de Arquitectura, Universidad de Navarra
------=_NextPart_000_000F_01C3BA65.0ECBB400
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2800.1106" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Hello, i am an spanish architect very =
interested in=20
realistic simulations. You can see my work in <A=20
href=3D"http://www.chroma-e.com">www.chroma-e.com</A> .&nbsp;Until =
now&nbsp;i have=20
been working with Lightscape but now i would like to go deep in the code =
to=20
adequate this kind of programs to my work. I dont know if it=B4s going =
to be=20
impossible for me to understand the code because i am not a proggrammer =
but i am=20
trying it. I have started with oconv, and now i am with rpict but i am a =
bit=20
stop up with the quincunx sampling:</FONT></DIV>
<DIV><FONT face=3DArial =
size=3D2>hstep=3D(psample*140+49)/99</FONT></DIV>
<DIV><FONT face=3DArial =
size=3D2>ystep=3D(psample*99+70)/140</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>why this numbers??, can you help =
me??</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>thanks and sorry for my =
English,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Ignacio Mun=E1rriz</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Escuela de Arquitectura, Universidad de =

Navarra</FONT></DIV></BODY></HTML>

------=_NextPart_000_000F_01C3BA65.0ECBB400--


From radiance-dev@radiance-online.org  Fri Dec  5 13:45:11 2003
From: radiance-dev@radiance-online.org (Carsten Bauer)
Date: Fri, 05 Dec 2003 13:45:11 +0000
Subject: [Radiance-dev] Quo Vadis Radiance ...
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org>
Message-ID: <3FD08BE7.4000607@t-online.de>

Hi,

the recent photon-map thread left me - once more -  rather puzzled. OK, 
I haven't any active Radiance-projects going on right now, so I look at 
the matter from a little distance. But from  a distant point you often 
see things better :-)  Furthermore, I myself have developed a (small) 
Radiance-addon, and I'm one of the (seemingly still few) people who have 
already used the photon-map, so I feel the need to add my statements to 
this discussion .

Concerning the photon-map istelf, I cannot say that much, as I only used 
it once (reason: see above) for a Visualization case ( a rather 
challenging one). I patched the code in, made some tests to get 
aquainted with the option settings and then let it loose on the image. 
 And-  it simply worked ! (How boring ....), produced  what I wanted to 
have  and what was to be expected by physical reasoning. Hey, isn't that 
what a tool should do??? There are some drawbacks, one e.g. is the 
awkward handling, having to produce an extra pmap doesn't sound much but 
nevertheless is inconvenient. It should go somehow automatically, by 
setting some controlling options -Px  xxx  -Pf filename etc etc.. in a 
.rif  file for rad.
The other is not really one, of course one has to learn a bit of new 
stuff (what means 1 million photons for the current scene, shall I mix 
50 or 100 photons in the gathering process, etc.) but these things are 
more intuitive than some other classic options like -ar and -aa. From my 
experience in developing the direct cache I know that its not easy to 
translate the limitations of the machine into parameters which are easy 
to understand, covering all cases, being only a few etc

So far for this point. Now to the discussion. In some days time we have 
2004, not 1984. I've dug deep into the Radiance code and learned a lot 
by it, but no matter how sophisticated it once was/is, the outside world 
has moved on. Now we have new tools and concepts (pmap is only one 
example),  which basically make use of the fact that todays machines 
have far more memory  (and higher speed, of course), but - many 
apologies for the harsh word - instead of integrating them a lot of 
pea-counting is going on in the discussion.

I can image that, if machines where as capable back then as they are 
now, something like the pmap would already have been written long ago. 
Greg himself called for a forward module in the 'Rendering with 
Radiance'  book. This holds especially, as pmap is no exotic stuff, its 
not some hacking performed by some freak sitting in his cellar behind 
his machines (OK, in this case it IS programmed by a freak, but thats a 
different story ... :-)) , there's a research institute behind it, there 
a validation measurements/caculations going on, apparently being 
successful in a wide range of cases. So, if pmap right now doesn't 
support some of the strange transdatafuncwhatever primitives, which 
maybe one in a thousand users uses once in his lifetime, is that a 
reason to exclude this tool from the distribution? Was Radiance as 
complete and almost bug-free as it is now right from the beginning? Work 
in progress, thats what software is about!

A lot of argumentation has already been layed out in the preceding 
thread, so I don't need to repeat it. I don't see any technical reason 
to exclude the tool, especially as it only interferes if switched on 
deliberately.
But apart from the technical facts, there are other things in life, e.g. 
there's politics. So far, Radiance  is connected to the name of Greg 
Ward (and LBNL), and I understand that there is a high concern that the 
program maintains its high quality standard and is kept free of whicky 
whacky gimmicks. But looking at the complexity of the matter, I doubt 
that one person alone, no matter how fit he is, will be able to 
administer and futher develop the software. So the real question is, is 
there a will to continue the development as a team effort, inevitably 
including code writen by someone else? What's the alternative? Don't 
move on and become out-of date and finally forgotten? Not a real 
alternative, I think...

so long for now

-Carsten



From radiance-dev@radiance-online.org  Fri Dec  5 18:01:53 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Fri, 05 Dec 2003 19:01:53 +0100
Subject: [Radiance-dev] Quo Vadis Radiance ...
In-Reply-To: <3FD08BE7.4000607@t-online.de>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de>
Message-ID: <3FD0C811.4050903@gmx.net>

Carsten Bauer wrote:
> Hi,

Ahoy, Capt. B! :^)

> I patched the code in, made some tests to get aquainted with the option settings and then let it loose on the image. 
> And-  it simply worked ! (How boring ....)

Aw, damn, not even a SEGFAULT?!? :^)

> pmap is no exotic stuff, its not some hacking performed by some freak sitting in his cellar behind 
> his machines (OK, in this case it IS programmed by a freak, but thats a different story ... :-))

Um, a *post-graduate* freak sitting in his cellar at an SGI mini-fridge, 
to be precise... :^)
(And I'm only confined to the cellar 'cos I can't move the bloody thing 
anywhere else!)

> So, if pmap right now doesn't support some of the strange transdatafuncwhatever primitives, which 
> maybe one in a thousand users uses once in his lifetime, is that a reason to exclude this tool from the distribution? Was Radiance as 
> complete and almost bug-free as it is now right from the beginning? Work in progress, thats what software is about!

Hear, hear... there's a good point: if the code's not disseminated on 
the grounds that it's allegedly dodgy or half baked, nobody else (aside 
from the developer) will test it, consequently it'll *never* mature to 
the point where it's ready for business (potentially in every sense of 
the word).

> So the real question is, is there a will to continue the development as a team effort, inevitably including code writen by someone else? What's the alternative? Don't 
> move on and become out-of date and finally forgotten? Not a real alternative, I think...

There *are* political issues which need ironing out, and I think that's 
imperative in order to secure further development (dare I say, 
survival?) of RADIANCE, not just in the case of pmap, but for other 
contributions from the community in general. There are potentially 
hundreds of addons (well ok, maybe dozens... a handful... one???), 
screaming: "WE WANT IN!" :^)

--Roland


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Sat Dec  6 01:42:25 2003
From: radiance-dev@radiance-online.org (Greg Ward)
Date: Fri, 5 Dec 2003 17:42:25 -0800
Subject: [Radiance-dev] Re: Quincunx Sampling
In-Reply-To: <000001c3ba5d$28a73f00$987bed9f@TEDWEB1>
References: <000001c3ba5d$28a73f00$987bed9f@TEDWEB1>
Message-ID: <71A402AA-278D-11D8-B8BE-00306540F848@lmi.net>

Hi Ignacio,

I'm not sure it's worthwhile to attempt to understand the code at this 
level of detail, but the numbers are just an integer approximation of 
the following quincunx (diamond) step size formulas:

horizontal_step = sample_spacing*sqrt(2)
vertical_step = sample_spacing*sqrt(2)/2

There's no reason, really, not to do this calculation in floating point 
as it's only done once at the beginning, but I chose to do it using 
integer math all the same.

-Greg

> From: "etsaweb" <etsaweb@unav.es>
> Date: December 4, 2003 3:49:29 AM PST
>
Hello, i am an spanish architect very interested in realistic 
simulations. You can see my work inwww.chroma-e.com.Until nowi have 
been working with Lightscape but now i would like to go deep in the 
code to adequate this kind of programs to my work. I dont know if its 
going to be impossible for me to understand the code because i am not a 
proggrammer but i am trying it. I have started with oconv, and now i am 
with rpict but i am a bit stop up with the quincunx sampling:
hstep=(psample*140+49)/99
ystep=(psample*99+70)/140
why this numbers??, can you help me??
thanks and sorry for my English,

Ignacio Munrriz
Escuela de Arquitectura, Universidad de Navarra



From radiance-dev@radiance-online.org  Sat Dec  6 07:38:52 2003
From: radiance-dev@radiance-online.org (Greg Ward)
Date: Fri, 5 Dec 2003 23:38:52 -0800
Subject: [Radiance-dev] Re: Quo Vadis Radiance ...
In-Reply-To: <3FD08BE7.4000607@t-online.de>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de>
Message-ID: <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net>

I want to respond to this thread while it's still warm, because Carsten 
made a number of excellent points, which deserve special attention.  I 
wish I weren't so preoccupied these days with other projects, but I 
wouldn't have anything to eat otherwise, so I can't complain....

Out of laziness, I'm going to address these points inline.

> From: cbauer-@t-online.de (Carsten Bauer)
> Date: December 5, 2003 5:45:11 AM PST
>
> the recent photon-map thread left me - once more -  rather puzzled. 
> OK, I haven't any active Radiance-projects going on right now, so I 
> look at the matter from a little distance. But from  a distant point 
> you often see things better :-)  Furthermore, I myself have developed 
> a (small) Radiance-addon, and I'm one of the (seemingly still few) 
> people who have already used the photon-map, so I feel the need to add 
> my statements to this discussion .
>
> Concerning the photon-map istelf, I cannot say that much, as I only 
> used it once (reason: see above) for a Visualization case ( a rather 
> challenging one). I patched the code in, made some tests to get 
> aquainted with the option settings and then let it loose on the image. 
> And-  it simply worked ! (How boring ....), produced  what I wanted to 
> have  and what was to be expected by physical reasoning. Hey, isn't 
> that what a tool should do??? There are some drawbacks, one e.g. is 
> the awkward handling, having to produce an extra pmap doesn't sound 
> much but nevertheless is inconvenient. It should go somehow 
> automatically, by setting some controlling options -Px  xxx  -Pf 
> filename etc etc.. in a .rif  file for rad.
> The other is not really one, of course one has to learn a bit of new 
> stuff (what means 1 million photons for the current scene, shall I mix 
> 50 or 100 photons in the gathering process, etc.) but these things are 
> more intuitive than some other classic options like -ar and -aa. From 
> my experience in developing the direct cache I know that its not easy 
> to translate the limitations of the machine into parameters which are 
> easy to understand, covering all cases, being only a few etc
>
> So far for this point. Now to the discussion. In some days time we 
> have 2004, not 1984. I've dug deep into the Radiance code and learned 
> a lot by it, but no matter how sophisticated it once was/is, the 
> outside world has moved on. Now we have new tools and concepts (pmap 
> is only one example),  which basically make use of the fact that 
> todays machines have far more memory  (and higher speed, of course), 
> but - many apologies for the harsh word - instead of integrating them 
> a lot of pea-counting is going on in the discussion.

Funny enough, the first lines of Radiance were entered in the fall of 
1985, so I guess it's turning 20 in a year's time....  One of the big 
reasons that Radiance is still relevant while the rest of the world has 
"moved on" is that as computers have gotten faster with more memory, it 
still has the basic efficiency of a system that was designed to run 
reasonably well on a slow processor with a few megabytes.  This means 
that when it's set loose on today's multiprocessor machines with a gig 
(or two) of RAM, there's almost no limit to what you can do with it  -- 
and all I had to do for this was allow for really large arrays!  (The 
block sizes and so forth have grown incrementally as the years have 
gone by.)  Since physical simulation will always be able to suck the 
life out of any computer as the basic problem is technically 
unsolvable, every year this community welcomes the newer, faster 
machines with open arms.  This is not to say that Radiance is the 
be-all and end-all of lighting simulation tools.  Clearly, it's 
algorithms could benefit from additional improvements, and the photon 
map is clearly one example.

> I can image that, if machines where as capable back then as they are 
> now, something like the pmap would already have been written long ago. 
> Greg himself called for a forward module in the 'Rendering with 
> Radiance'  book. This holds especially, as pmap is no exotic stuff, 
> its not some hacking performed by some freak sitting in his cellar 
> behind his machines (OK, in this case it IS programmed by a freak, but 
> thats a different story ... :-)) , there's a research institute behind 
> it, there a validation measurements/caculations going on, apparently 
> being successful in a wide range of cases. So, if pmap right now 
> doesn't support some of the strange transdatafuncwhatever primitives, 
> which maybe one in a thousand users uses once in his lifetime, is that 
> a reason to exclude this tool from the distribution? Was Radiance as 
> complete and almost bug-free as it is now right from the beginning? 
> Work in progress, thats what software is about!

In a research institution, this is true, and for many years, Radiance 
was a research tool and nothing more.  Now, there are a number of 
engineering/design firms that rely on it, and subjecting them to new 
features that are not field-tested is more of a problem than it once 
was.  However, you make a good point.  How can the software improve if 
it isn't allowed to change?  Here's where we can look at the process 
behind high quality commercial software development.  As I understand 
it, real software goes something like this:

A) Maintain and support current version of software with patches, bug 
fixes, etc., while simultaneously:
B) Developing and testing new version "in house" and with select alpha 
users who are happy to ride the crest of the wave knowing full well the 
risk of wiping out.
C) When the alpha testers are satisfied that the new additions are 
working, release to a larger number of beta testers, who employ the 
software in the field, until:
D) The new version is considered ready for release.  At that point, the 
old version is phased out, and users are encouraged (if not forced) to 
upgrade to the new release if they want support.

The obvious problem with the above is that it assumes:

1) There is a large user base from which to pick alpha and beta testers 
and get money, and
2) There is a large group of closely cooperating program developers 
with at least one product manager

Neither are the case for Radiance, and we have to face this reality.  
Our user base is small, there is no money for development, and the 
number of programmers available to fix problems can be counted on one 
hand by a tree sloth.  Obviously, we need to modify this approach to 
have a working development pipeline.  Here is what we currently have:

A) A few programmers (well, two at the moment) maintain and support a 
"live" release of the code, which includes bug fixes as well as some 
new features that may be under construction, but which do not affect 
the operation/reliability of the main tools.
B) Everyone who wants the latest bug fixes volunteers for both alpha 
and beta testing by default.
C) A new "official" release is made when the code seems to have 
more-or-less stabalized.
D) Go directly to A.  Do not pass Go; do not collect $200.

The up side of this process is that the next release should be 
relatively bug-free, because folks all along have been compiling it and 
using it on various systems.  (This was NOT true of the 3.5 official 
release, which didn't benefit from the accessible CVS HEAD we have 
now.)  The down side is that the developers can't take big risks during 
development that might impair or corrupt the HEAD code tree.  All our 
check-ins have to be good ones -- a difficult goal when you're 
attempting any major changes, to be sure.  If I weren't using Radiance 
all the time in my work these days, I would never attempt to modify it 
-- only fix bugs.  Because I do use it, I have some assurance that my 
HEAD changes are working, so long as my renders proceed nicely, as I 
don't tend to change code I'm not using at the moment.  This is the 
main benefit of a mature, stable system.

Given that people rely on this software as I do, it would be 
irresponsible for me to make changes and additions that undermined its 
basic functionality.  When I add some major new facility to the system, 
I try to make it a separable piece, so that users can choose to apply 
it or not.  If they don't, it shouldn't affect their work.  If they do 
choose to apply a new feature, it should interact with the rest of the 
system in a predictable way.  If there is some feature that is not 
supported, such as a material type that is just too difficult to deal 
with, a fall-back solution should be applied and a warning message 
should appear.  Crashing behavior and fatal errors caused by perfectly 
valid input should be avoided at all costs, especially in the core 
tools.  If the photon map code doesn't support BRTDfunc's (or 
whatever), they can grab the diffuse parameters and simulated it that 
way, posting a warning so the user is aware of it.  If it is too 
difficult to post a warning message, we must at minimum document the 
shortcoming, but we should not prevent the use of a particular model 
just because it uses an unsupported material.  This is my opinion and 
my practice, not some kind of law.  If people disagree, let's hear it.

Many years ago, while I was still at LBL, I made an aborted start on a 
forward-tracing tool.  I abandoned it when I realized that it was a 
sizeable effort, and there was no funding forthcoming.  It wasn't 
because computers weren't fast enough or didn't have enough memory as 
Carsten supposes -- the problem was and always seems to be insufficient 
time and/or money.  My concept was to create a tool completely separate 
from the renderer that would supplant mkillum and work much in the same 
way, producing illum sources that could then be applied by 
rpict/rview/rtrace.  This would ensure that the existing system 
continued to work as it always had, without any new options or odd 
behavior.  If Roland had implemented the system in the same way, there 
would be no hesitation from any of us to include it in the next 
release, because there would be no risk to existing programs.  Users 
could apply it or not, and they wouldn't have to decide at compilation 
time whether it was useful or not.

> A lot of argumentation has already been layed out in the preceding 
> thread, so I don't need to repeat it. I don't see any technical reason 
> to exclude the tool, especially as it only interferes if switched on 
> deliberately.
> But apart from the technical facts, there are other things in life, 
> e.g. there's politics. So far, Radiance  is connected to the name of 
> Greg Ward (and LBNL), and I understand that there is a high concern 
> that the program maintains its high quality standard and is kept free 
> of whicky whacky gimmicks. But looking at the complexity of the 
> matter, I doubt that one person alone, no matter how fit he is, will 
> be able to administer and futher develop the software. So the real 
> question is, is there a will to continue the development as a team 
> effort, inevitably including code writen by someone else? What's the 
> alternative? Don't move on and become out-of date and finally 
> forgotten? Not a real alternative, I think...

I couldn't agree more.  I don't have time to advance Radiance as I 
would like to, and no one is paying me to do so, either.  I have a 
family to support and bills to pay, and less leisure time than I would 
like.  LBNL has done its best to support the system and continue 
development through lean times, but they released it as OpenSource with 
the express hope that others would take responsibility for its further 
development.  Volunteers, welcome!  Trust, however, is still an issue.  
I have difficulty trusting code I haven't used myself, and the same 
difficulty recommending it to others when asked.  Likewise, LBL has 
asked me to make sure that all official development efforts maintain 
the basic program validity, so that they feel safe continuing to have 
their name and reputation tied to it.  Given the circumstances 
surrounding Roland's photon mapping addition, I have every reason to 
believe that it performs well and is a useful and valuable addition.  
However, that isn't the same as saying that I've tried it and it's as 
solid as the rest of the system.

I am not a dictator, even if I sometimes sound like one.  I'm more like 
a custodian.  Radiance is a useful tool despite its age, and I rely on 
it myself for the majority of my projects.  For selfish reasons, I wish 
to keep it stable, and I'm loathe to trust additions I haven't made 
myself or assured myself of their sanity.  In the process of keeping it 
solid for my own purposes, I end up keeping it solid for other users as 
well.  Years of reading Schorsch on this list, hearing his suggestions, 
and seeing his code modifications have brought me to a point of trust, 
where I can well believe that the changes he makes are not going to 
screw me up, or screw anyone else up.  I trust him to watch over the 
code while I'm away, so to speak.

I don't think I'm alone with the trust issue.  I know a number of 
groups, who are using Radiance in their work, but still have not 
upgraded to 3.5 out of concerns of its reliability.  They wait until 
they have some compelling reason to upgrade, and given that new 
Radiance releases generally have only modest improvements over previous 
releases, I can't say I blame them for hanging back.  On the other 
hand, maybe a cool new addition is just what's needed to encourage 
people to upgrade.  Who knows?

Why don't we take a survey?  Anyone who has read this far has to be 
interested in these issues, so let's hear from you.

Q1:	Have you tried the photon map addition?  Why or why not?
Q2:	Would you try the photon map if it were added to the HEAD release?
Q3:	If the photon map were added to the next official release, would it:
	A) Encourage you to upgrade?
	B) Discourage you from upgrading?
	B) Make you want to wait and see what others thought of it, first?
	C) Make no difference to your decision?
Q4:	What features would you really like to see added to Radiance?
Q5:	What is your main complaint about Radiance from a user's standpoint?
Q6:	What do you think of the current development arrangements?
	Q6a:	Would you like to see more people involved in Radiance 
development?
	Q6b:	Would you like to participate in develoment, yourself?

If others agree, I'm happy to accept Roland's code into the HEAD 
release as a conditional compile.  This seems reasonable enough to me; 
that way, people who want to try it can just flip a switch and give it 
a go, and those who have no use for it can leave it out.  We should 
learn quickly enough what the problems are that way.  I'd like to make 
a goal of switching on the flag by default in the next official release 
if we go this route, assuming there are no unresolved problems.

As I said, I would have preferred this as a completely separate tool 
rather than something built into the renderer.  The renderer is 
complicated enough as it is, and it's quite a challenge to add to it 
without bending or breaking some other piece -- this is the crux of my 
hesitation.  As an experiment, however, I see no reason not to proceed. 
  We could add it as a CVS branch initially if we want to be paranoid 
about it, but I'm happy to defer to others on that decision.

-Greg


From radiance-dev@radiance-online.org  Sun Dec  7 20:58:26 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Sun, 7 Dec 2003 15:58:26 -0500 (EST)
Subject: [Radiance-dev] Testing Framework Available
Message-ID: <Pine.BSF.4.44.0312071546540.9264-100000@emancholl.pair.com>

Hi all,

I just checked a first prototype of the promised testing framework
into CVS, so it should be included in the HEAD dump tomorrow
(monday) morning. For those who don't want to dig it out on their
own, below are the contents of the README file.
Contributed test cases are very much welcome!


-schorsch



Radiance Testing Framework
--------------------------

A toolkit to test all (eventually) components of the Radiance
synthetic image generation system for conformance to their
specification.


Limitations

For the moment, we use PyUnit to run our tests. This means that
we're restricted to test only complete programs, and not actual
units (since PyUnit was designed to test Python units, not C).
A C-level testing framework may be added later.

There's no good way to automatically test GUI programs like
rview. We have to rely on good human testers to check whether
those work correctly or not.


Requirements

You need a working installation of Python 2.1 (or newer) on your
system. The reason for this is that the PyUnit framework isn't
included with earlier versions. If you prefer to use an older
Python (back to 1.5.2), you can get PyUnit here, and install it
somewhere on your PYTHONPATH:
  http://pyunit.sourceforge.net/

Our testing framework currently assumes that the Radiance files
reside in the following local file tree (seen from the "test/"
subdirectory where this file resides):

  executables:    ../bin/*[.exe]
  support files:  ../lib/*
  data files:     ./test data/*

This is the location where the experimental SCons build system
will place everything, so it might be easiest to compile Radiance
using SCons for testing.
The space character in the name of the test data directory is
deliberate, because it is a design requirement that all our
executables can handle path names with spaces.


How to run tests

On unix systems, just type "run_all.py" in this directory to
test everything. If that file doesn't have execute rights, you
can supply it to the python interpreter as its single argument:
"python run_all.py". You can also run individual test suites from
the "py_tests" directory directly: "python test_getinfo.py".

On Windows, this should usually work as well. As an alternative,
use the "winrun.bat" script. WARNING: You need to change the
paths in this script to match your Python installation first.


What gets tested

There are several test groups, each containing a number of test
suites, each containing one or more tests. When running tests,
the name of the test groups and test suites will get printed to
the console, the latter with an "ok" if they succeeded.

If any test fails, there will be diagnostic output about the
nature of the failure, but the remaining tests will continue to
be executed. Note that several utility programs may be used to
access the results of other calculations, so if eg. getinfo is
broken, that may cause a number of seemingly unrelated tests to
fail as well.


How to report failures

If any of the tests fail on your platform, please report your
results (and as much ancilliary information about your system and
Radiance version as possible) to the radiance code development
mailing list on http://www.radiance-online.org/
The developers will then either try to fix the bug, or instruct
you on how to refine your testing to get more information about
what went wrong.


How to contribute test cases

The list of tests run is still very much incomplete, but will
hopefully grow quickly. You can contribute by creating tests too!
Please ask on the code development mailing list first, so that we
can avoid overlaps between the work of different contributors.

There are two classes of tests to be considered:

- Testing individual executables
  This means that an individual program like ev, xfom, or getinfo
  is tested with typical input data, and the output is compared
  against the expected result.

- Testing specific calculations
  This will mainly affect the actual simulation programs rpict
  and rtrace. For example, there should be a test suite for every
  material (and modifier) type, which uses rtrace to shoot a
  series of rays against a surface under varying angles, in order
  to verify material behaviour under different parameters. Tests
  of this kind may require a custom script.

Contributed tests can be of two kinds. In the simplest case, you
can contribute a small(!) set of test data, the command line(s)
used to run your tests on them, and a list of expected results.
Result comparisons are typically done in text form (by line).
If the result is a picture, we'll use ttyimage to pick out a few
scan lines for comparison (the image dimensions must be less than
128 pixels). Other binary data needs to be converted into a
suitable text representation as well. If you're not sure what to
use, the developers can help you about that point. They will then
also wrap your test case into a Python module for integration
with the framework.

Contributors sufficiently familiar with the Python programming
language and the PyUnit test framework can also submit complete
test suites in Python. Please use the existing tests in the
"py_tests" directory as a template, and check out the helper
modules in "py_tests/unit_tools".

In any case, please note that we can't use any shell scripts or
similar tools in our tests. All tests should be able to run on
all supported platforms, where your favourite shell may not be
available. The Python programming language is available for
pretty much any platform, so we decided to use only that.




-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-dev@radiance-online.org  Sun Dec  7 22:19:11 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Sun, 7 Dec 2003 17:19:11 -0500 (EST)
Subject: [Radiance-dev] Quo Vadis Radiance ...
In-Reply-To: <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net>
Message-ID: <Pine.BSF.4.44.0312071716390.9264-100000@emancholl.pair.com>

Greg Ward wrote:

> A) Maintain and support current version of software with patches, bug
> fixes, etc., while simultaneously:
> B) Developing and testing new version "in house" and with select alpha
> users who are happy to ride the crest of the wave knowing full well the
> risk of wiping out.
> C) When the alpha testers are satisfied that the new additions are
> working, release to a larger number of beta testers, who employ the
> software in the field, until:
> D) The new version is considered ready for release.  At that point, the
> old version is phased out, and users are encouraged (if not forced) to
> upgrade to the new release if they want support.

There's a variation of that pattern in use by a growing number
of Open Source projects. They have alternating "production" and
"development" versions, where usually the minor version number
indicates which is which. Even numbers are considered stable.

At one point in the development, the development version will get
branched into the production version. On this branch, there will
only be bug fixes up to the official release, and critical fixes
from the following development branch will be backported after
that. In the development version, there can be snapshot (or
"milestone") releases once in a while, which are usually made
before work on some big new feature is started.

We're not running under CVS long enough for this to be practical
yet, but maybe we could do something similar after 3.6 is out.
I don't know if that would have any negative impact on the number
of testers for the development branch. Seeing the type of people
who ride the front wave right now, I'd expect them to keep doing
the same thing in either case, though. For the others who just
want the most current stable release, having a stable version
available that gets critical bugfixes backported would be an
improvement over what they get with 3.5 right now.


> Crashing behavior and fatal errors caused by perfectly valid
> input should be avoided at all costs, especially in the core tools.

That's a much clearer phrasing of what I already tried to say.


> If the photon map code doesn't support BRTDfunc's (or whatever),
> they can grab the diffuse parameters and simulated it that
> way, posting a warning so the user is aware of it.

Warnings would be an acceptable start. Maybe a choice for the
user between performance (with warnings) and the apparently very
slow full sampling could be added later, assuming it proves to be
useful.


> As an experiment, however, I see no reason not to proceed.
> We could add it as a CVS branch initially if we want to be paranoid
> about it, but I'm happy to defer to others on that decision.

If we do a branch for this, I'd prefer it to be as short lived as
possible. Although adding the photon map is a big conceptual
step, it appears to be only minimally invasive on a coding level.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/



From radiance-dev@radiance-online.org  Mon Dec  8 18:02:28 2003
From: radiance-dev@radiance-online.org (Rob Guglielmetti)
Date: Mon, 08 Dec 2003 13:02:28 -0500
Subject: [Radiance-dev] Re: Quo Vadis Radiance ...
In-Reply-To: <8D56870C-2996-11D8-8B8F-000393824274@lmi.net>
References: <8D56870C-2996-11D8-8B8F-000393824274@lmi.net>
Message-ID: <3FD4BCB4.4080309@rumblestrip.org>

Greg Ward wrote:

> Funny enough, the first lines of Radiance were entered in the fall of 
> 1985, so I guess it's turning 20 in a year's time....  

Wow, fall of '85 I was starting my senior year of High School, busy 
hamming it up in hopes of being voted class clown for the yearbook -- 
which I'm fairly certain distracted me from tackling Algebra II that year.

> As I understand it, real software goes something like this:
> 
> A) Maintain and support current version of software with patches, bug 
> fixes, etc., while simultaneously:
> B) Developing and testing new version "in house" and with select alpha 
> users who are happy to ride the crest of the wave knowing full well the 
> risk of wiping out.
> C) When the alpha testers are satisfied that the new additions are 
> working, release to a larger number of beta testers, who employ the 
> software in the field, until:
> D) The new version is considered ready for release.  At that point, the 
> old version is phased out, and users are encouraged (if not forced) to 
> upgrade to the new release if they want support.

F) Ignore the screams of loyal users who have discovered that features 
they relied upon have been phased out in the new version, and despite 
the developer's assurances to the contrary, the little lighting design 
community is being blown off once again. (thank you, Autode$k.)
G)  After screams die down, market your pseudo-physically-based renderer 
to the massive-yet-uninformed architectural community.  Call it Viz4.
H)  Count money.

> Why don't we take a survey?  Anyone who has read this far has to be 
> interested in these issues, so let's hear from you.
> 
> Q1:    Have you tried the photon map addition?  Why or why not?

No, mainly because I feel like I'm still learning Radiance Classic. 
That said, this latest round of discussion about the photon map module 
really has piqued my curiosity.

> Q2:    Would you try the photon map if it were added to the HEAD release?

Probably, yes.

> Q3:    If the photon map were added to the next official release, would it:
>     A) Encourage you to upgrade?
>     B) Discourage you from upgrading?
>     B) Make you want to wait and see what others thought of it, first?
>     C) Make no difference to your decision?

C.

> Q4:    What features would you really like to see added to Radiance?

Since I only use 20% of Radiance's features now, I'm not really wanting 
for new features.  Shoot, all the stuff is there already; new features 
would be ease-of-use thingys like a GUI and some automation of existing 
stuff.  This almost always ends up being limiting.  Schorsch already did 
the most amazing job of putting a GUI in front of Radiance that still 
allows access to the underlying engine.  Radiance calculates all kinds 
of materials, deals with complex models, etc.  What else is there? 
Maybe the ability to select from more sky distributions, such as the 
Utah sky?  Maybe a better rview (excuse me, rvu), one that allows for 
easier manipulation of the model view?  Rshow sounds like exactly this, 
but I've never been able to get it to run.  Maybe all the new features 
we want already exist (photon map, rshow, direct cache), they just need 
to be folded into the main Radiance distribution?  I have no idea how 
complicated that would be, but the quality of the install script (and I 
guess the underlying code) has *really* improved over the last year.  If 
these other goodies could be installed just as easily, you'd be adding 
some sweet functionality.

> Q5:    What is your main complaint about Radiance from a user's standpoint?

It's complicated!  We all know and appreciate the power of Radiance and 
the openness of the tools allows for unlimited flexibility; there were 
plenty of examples of that at the Workshop(s).  But that doesn't change 
the fact that it's totally impenetrable to the novice.  If it weren't 
for the generosity of Greg, Schorsch, Carsten and several others on 
these lists, I'd never have been able to learn Radiance well enough to 
use it in my work.  I'm grateful for their help, advice and 
encouragement, but I wonder how many people were scared off once they 
saw Radiance for the first time?

I believe many folks out there in the lighting design community are not 
at all interested in how this stuff works.  To me, that's surprising, 
but after being involved in this business for the last decade that seems 
to be a fair statement.  Most folks just want to know if there's enough, 
or too much, light.  Load model, add lights, calculate, print, thank you 
very much.  The thought of command lines and compiling source code is 
scary voodoo, the domain of people with t-shirts that say "no, I will 
not fix your computer".  As a result, the typical Architectural LD is 
using Lumen Micro and AGI, unaware that Radiance even exists.  And 
that's a shame.

This complaint of mine is simply a response to the question.  I'm not 
really complaining, and I don't know what the answer is, I'm merely 
pointing out how the Radiance learning curve looks to Joe Lighting 
Designer.

> Q6:    What do you think of the current development arrangements?

Well, it's active, which is good, yeah?  I'm not really knowledgeable 
about these things, but the CVS system seems to be the way this stuff is 
usually handled...

>     Q6a:    Would you like to see more people involved in Radiance 
> development?

This isn't really any of my business either.

>     Q6b:    Would you like to participate in develoment, yourself?

Ha.  If I knew how to, I would.  Let me say this, though:  maybe there's 
a way I can help.  Maybe some more tutorials would help the novice users 
be more willing to dive in?  As good as the tutorials are in RwR, not 
everyone has that book.  I like to write, and can generally lighten 
things up a bit.  Maybe a couple of simple baby step tutorials that 
could get a person to install and compile radiance, followed by some 
general explanations of how to get started could live on 
radiance-online.org?  This was discussed at the last workshop too.  Free 
time is always an issue, but I'd like to help the cause in some way. 
Since it ain't gonna happen with my coding skills, maybe I can do it 
this way.  Just a thought.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org


From radiance-dev@radiance-online.org  Mon Dec  8 18:26:53 2003
From: radiance-dev@radiance-online.org (Mark Stock)
Date: Mon, 8 Dec 2003 13:26:53 -0500 (EST)
Subject: [Radiance-dev] Re: Quo Vadis Radiance ...
In-Reply-To: <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com>
 <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org>
 <3FD08BE7.4000607@t-online.de> <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net>
Message-ID: <Pine.SOL.4.58.0312081316140.28067@asteroids.gpcc.itd.umich.edu>

>From a little while ago...

On Fri, 5 Dec 2003, Greg Ward wrote:
>
> Q1:	Have you tried the photon map addition?  Why or why not?
Yes, I keep as up-to-date as possible, and I like trying new things.

> Q2:	Would you try the photon map if it were added to the HEAD release?
yes

> Q3:	If the photon map were added to the next official release, would it:
> 	A) Encourage you to upgrade?
> 	B) Discourage you from upgrading?
> 	B) Make you want to wait and see what others thought of it, first?
> 	C) Make no difference to your decision?
I would upgrade anyway, and I'd be happy about it (as usual).

> Q4:	What features would you really like to see added to Radiance?
1) *Overlapping media volumes* - this causes me to use all other
sorts of hacks to visualize volumes of variable-density media.

2) multiple-scattering in media using "floating" ambient points;
In my primitive mind I assume this would be just like a regular
amient point, except that it would sample in 2 hemispheres. Of
course, the photon map code can do something like this.

3) I love the "# rays traced" stat in the output, but I flip the
counter up to 20 times in some of my big renderings. 8-byte ints?

> Q5:	What is your main complaint about Radiance from a user's standpoint?
compiling the code with -DMC and all of the various optimizations
for both the regular release and the pmap release (and for Linux
and Sun); and I never put stuff in /usr/local/bin or /usr/local/lib,
I keep it all in the /usr/local/radiance[_3.6|pmap] dirs.

> Q6:	What do you think of the current development arrangements?
Things seem quite good - active development, new features (the
tri mesh is terrific!), bug fixes, discussions...

> 	Q6a:	Would you like to see more people involved in Radiance
> development?
No opinion

> 	Q6b:	Would you like to participate in development, yourself?
It sounds interesting, but I don't think I'm quite up to par with
the rest of the devel folks.

Thanks!

Mark

From radiance-dev@radiance-online.org  Tue Dec  9 02:28:15 2003
From: radiance-dev@radiance-online.org (Carsten Bauer)
Date: Tue, 09 Dec 2003 02:28:15 +0000
Subject: [Radiance-dev] Re: Quo Vadis Radiance ... - dictators vs. volunteers
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de> <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net>
Message-ID: <3FD5333F.6050301@t-online.de>

Greg Ward wrote

> I am not a dictator ...

Ave, Greg! Why not take the chance and be one  :-) , this is no shame, 
others do it, too. ( remember that you live in the worlds most powerful 
dictatorship, Mr. Bush didn't win the elections but still somehow 
manoeuvered himself into the Oral  - sorry, different story - Oval Office )

just some thoughts on it-
1) There has to be one - or a very small group - who sets the 
guidelines, otherwise things will fall apart sooner or later.  But this 
can make it difficult for volunteers.  I compare it with my artwork, I 
never got really big payment, but I only did what I wanted, so it was OK 
with me. But if I shall fulfill someone else's ideas just for free, hmm, 
well, that's close to slavery. Wasn't it Abraham Lincoln who forbade this?  

2) The engineering/design firms mentioned make lots of bucks with their 
consulting projects (Jack, Rob's Boss or the guys from Arup probably 
will correct me here on the 'lots'...) but don't need to pay a cent for 
the software. This is NOT meant to blame anyone. Its the other way, 
generally businessmen are straightforward and realistic, so they might 
even prefer paying some acceptable price for a guaranteed stable version 
including support instead of anything free, but 'experimental', 
sometimes working and sometimes not. (OK, maybe I'm too optimistic ...) 
But I'm a realist, too. See point 1 ...

3) LBNL has losened its grip, the software is now open source, it 
doesn't sound as if they are willing to spend much time on it anymore. 
But to assure if any of the possible new developments eligible for 
integration doesn't taint the program and drags the name into the dirt 
is a tedious job and needs a considerable amount of time, too. Currently 
it seems that poor Greg has to do it for free, (so he's a dictator and a 
volunteer in one person)

.......

This are only some organisatorial side-topics. There's of course more to 
say, but  I think I better not open another can of worms and discuss 
different ideas and possible strategies concerning the addon and its 
integration itself (separate/connected to the core, etc., etc.). There's 
only one solution available right now anyway.

-Carsten



From radiance-dev@radiance-online.org  Tue Dec  9 07:11:23 2003
From: radiance-dev@radiance-online.org (Peter Apian-Bennewitz)
Date: Tue, 09 Dec 2003 08:11:23 +0100
Subject: [Radiance-dev] Re: Quo Vadis Radiance ... - dictators vs. volunteers
In-Reply-To: <3FD5333F.6050301@t-online.de>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de> <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net> <3FD5333F.6050301@t-online.de>
Message-ID: <3FD5759B.9000509@pab-opto.de>

Carsten Bauer wrote:

> ....
>
> just some thoughts on it-
> 1) There has to be one - or a very small group - who sets the 
> guidelines, otherwise things will fall apart sooner or later.  But 
> this can make it difficult for volunteers.  ... 
> 2) The engineering/design firms mentioned make lots of bucks with 
> their consulting projects (Jack, Rob's Boss or the guys from Arup 
> probably will correct me here on the 'lots'...) but don't need to pay 
> a cent for the software.
> ....
> 3) LBNL has losened its grip, the software is now open source, it 
> doesn't sound as if they are willing to spend much time on it anymore. 
> But to assure if any of the possible new developments eligible for 
> integration doesn't taint the program and drags the name into the dirt 
> is a tedious job and needs a considerable amount of time, too. 
> Currently it seems that poor Greg has to do it for free, (so he's a 
> dictator and a volunteer in one person)

Currently, developpers are cross-financing their code work with using 
the code for their own projects, like Greg, Schorsch and yourself. Which 
results in very practical and efficient code. But both revenue 
generating project work and "strategic" programming tend to be full time 
jobs, so larger sw changes don't happen. Supporting other people's code 
is simply out of question for these folks too.
Institutions like LBNL, ISE, EPFL, IRC and DMU provide money if they 
happen to have funds, e.g. government/industry funded projects that run 
for months or a some (1-3) years. LBNL tried to get further funds for 
Radiance in vane for years, my experience at ISE was the same (apart 
from Jan Wienold's project that funded photon-map), Christoph Reinhart 
seems to have some luck at IRC, EPFL had apparently funded Greg to do 
considerable work for a year. Funds are sporadic and require 
considerable work to get them. Once it's there, some institutions are 
reluctant to give it to outsiders. Which is most efficient (hiring Greg 
gives the maximum ratio of Radiance results per cost) and ensures that 
their project is at the forefront of international research.
Volunteers are welcomed, but should be prepared to look after their code 
themselves to keep it alive. (In the current photon-map situation, I'd 
pledge for a CVS branch, but that's a different thread). At least 
Radiance gives them a platform that conveys programming ideas to real, 
professional and live usage, which is more than what happens to most 
university-level, academic software.  If they're good and their code 
performs well, that is a solid reference for other industrial (and 
thereby better than ac paid) jobs for them. The draw back is that 
feedback, especially positive one, from the community is not frequent. A 
bit more motivation would be good for them.
Commercial users may want to fund small to medium software changes to 
streamline their daily work, but I don't know how often that happened. 
Whether one could set up a Radiance fund, that commercials contribute to 
voluntarily ("pay what it is worth to you" - tax detuctable) and that 
gives away yearly prizes for the most influential Radiance contribution, 
I don't know.  With Radiance, commercial users can influence the 
software to fit their needs (try that with Autode$k).

It seems that no single way provides enough resources all by itself, so 
we very probably have to live with a mix, trying to coodinate the 
authors and communicating the current situation and new lines of thought 
to the wider user base. At least it is more on the move that it had been 
5 yeas ago.

my 2 cents thoughts
-Peter

-- 
 pab-opto, Freiburg, Germany, www.pab-opto.de



From radiance-dev@radiance-online.org  Tue Dec  9 11:01:51 2003
From: radiance-dev@radiance-online.org (Erwin Rol)
Date: Tue, 09 Dec 2003 12:01:51 +0100
Subject: [Radiance-dev] License question
Message-ID: <1070967711.3056.21.camel@erwin.fe.think>

Hello all,

I noticed that the license text in the makeall file is different from
the license text on the website. The one in the makeall file still has
the old license I think ?

Secondly the makeall file has a "phone home" function wich i think is
normally only something for spyware/adware like programs and not for
opensource projects. If the developers are interested in hearing who is
using what version of radiance they could simply ask if people would
want to mail them that information. 

- Erwin


-- 
       Erwin Rol Software Engineering - http://www.erwinrol.com/



From radiance-dev@radiance-online.org  Tue Dec  9 11:07:20 2003
From: radiance-dev@radiance-online.org (Erwin Rol)
Date: Tue, 09 Dec 2003 12:07:20 +0100
Subject: [Radiance-dev] CVS
Message-ID: <1070968039.3061.24.camel@erwin.fe.think>

How do i checkout the latest version of Radiance. I tried 

cvs -d :pserver:anoncvs@radiance-online.org:/ray login

but that gives me a timeout.

- Erwin

-- 
       Erwin Rol Software Engineering - http://www.erwinrol.com/



From radiance-dev@radiance-online.org  Tue Dec  9 12:26:09 2003
From: radiance-dev@radiance-online.org (Peter Apian-Bennewitz)
Date: Tue, 09 Dec 2003 13:26:09 +0100
Subject: [Radiance-dev] CVS
In-Reply-To: <1070968039.3061.24.camel@erwin.fe.think>
References: <1070968039.3061.24.camel@erwin.fe.think>
Message-ID: <3FD5BF61.2020803@pab-opto.de>

Erwin Rol wrote:

>How do i checkout the latest version of Radiance. I tried 
>
>cvs -d :pserver:anoncvs@radiance-online.org:/ray login
>
>but that gives me a timeout.
>
>- Erwin
>
The CVS doesn't feature anon access to a pserver (in fact there is no 
pserver). The nightly tar balls are pretty much up-to-date and there's 
the web interface to CVS. If you're into contributing, the easiest is to 
check with Greg Ward (also on this list).
Out of curiosity, what's your interest in Radiance (answer is optional) ?
-Peter

-- 
 pab-opto, Freiburg, Germany, www.pab-opto.de



From radiance-dev@radiance-online.org  Tue Dec  9 13:14:45 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Tue, 9 Dec 2003 08:14:45 -0500 (EST)
Subject: [Radiance-dev] License question
In-Reply-To: <1070967711.3056.21.camel@erwin.fe.think>
Message-ID: <Pine.BSF.4.44.0312090810050.67985-100000@emancholl.pair.com>

Erwin Rol wrote:

> Hello all,

Hello neighbour! (well, almost ;)


> I noticed that the license text in the makeall file is different from
> the license text on the website. The one in the makeall file still has
> the old license I think ?

Looks like it, yes. I'm not into that topic in detail, but it
seems to make sense to have the same language in both places,
so we should probably update the build scripts.


> Secondly the makeall file has a "phone home" function wich i think is
> normally only something for spyware/adware like programs and not for
> opensource projects. If the developers are interested in hearing who is
> using what version of radiance they could simply ask if people would
> want to mail them that information.

While I share your concerns about spyware in general, I think the
comparison is a little far fetched here. We're not monitoring
your surfing habits or anything...

I have a hard time seeing what kind of data protection problems
the transmission of the following information could cause
(together with your e-mail address):

  char VersionID[]="RADIANCE 3.6a lastmod Mon Nov 17 21:30:59 CET
    2003 by gm on local";

On the other hand, I have no idea how useful the data collected
like this over the years at LBNL really is. I think it *was*
useful at one time, in order to justify funding. Since funding
out of their regular budget has stopped long ago, and a growing
number of users either download Radiance in binary form or use
one of the available Windows versions, it's probably not as
helpful anymore today. I certainly wouldn't miss this "feature"
if it went away.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-dev@radiance-online.org  Tue Dec  9 15:57:30 2003
From: radiance-dev@radiance-online.org (Jack de Valpine)
Date: Tue, 09 Dec 2003 10:57:30 -0500
Subject: [Radiance-dev] Re: Quo Vadis Radiance ...
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de> <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net>
Message-ID: <3FD5F0EA.1070100@visarc.com>

--------------090406090906000800020300
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi all,

Boy there are some interesting things in discussion. I will weigh in as 
I can.

Greg Ward wrote:
[snip - people have weighed in with some excellent comments]

>
> Why don't we take a survey?  Anyone who has read this far has to be 
> interested in these issues, so let's hear from you.
>
> Q1:    Have you tried the photon map addition?  Why or why not? 

Yes briefly after RW 2002. I was able to compile it and run some of 
Ronald's examples. Note I also checked out Carsten's "direct cache" as 
well. To my mind both of these are certainly interesting developments. 
On the other hand, in our everyday production use, we are dependent on 
the knowledge we have built up over the years about tweaking parameters 
in "classic" radiance and managing a production pipeline around the 
engine. However if these tools were incorporated into a standard release 
in a manner that would not impact "classic" use and performance, then I 
would be more likely to work with these add-on on a more regular basis.

Generally, I am interested in anything that helps increase speed of the 
simulation process and quality of the resultant images. For us this has 
meant faster hardware over the years and the use of rpiece in single 
nodes. I have also played around with rpiece on distributed nodes, but I 
do have concerns about the file locking consistency (whether this is an 
NFS settings thing, Linux things or Radiance things I do not know).

>
> Q2:    Would you try the photon map if it were added to the HEAD release? 

Yes and others, if they are incorporated in a way that does not impact 
"classic" use and performance. To me this could be either as compile 
time options, command line switches or alternates for commands (ie 
rpict, rpict_pm, rpict_dc whatever, although I suspect this is not the 
most efficient thing from a development standpoint).

Alternatively, I like the idea of a stable and development branch as 
with Linux development. Then you know what is what. And perhaps 
development can be more aggressive in the development branch (people and 
other resources for development is an entirely different topic).

>
> Q3:    If the photon map were added to the next official release, 
> would it:
>     A) Encourage you to upgrade?
>     B) Discourage you from upgrading?
>     B) Make you want to wait and see what others thought of it, first?
>     C) Make no difference to your decision? 

Probably make no difference. I am one of the people referred to 
elsewhere who is still using the pre 3.6 release of radiance. This has 
mostly been out of laziness and not needing/wanting to mess with 
something that works. There are however many new exciting features that 
I think could be useful. This is also matter of just finding the time as 
well.

> Q4:    What features would you really like to see added to Radiance? 

As I stated above, at one level anything that could result in increase 
performance and quality. Some ideas (wish list) could be as follows:

    * alternate distributed/network rendering strategy - perhaps a
      client server mechanism to supplant nfs locking, or some other
      locking/sharing mechanism
    * optimizations to rendering engine to produce faster results - are
      there optimizations to the monte carlo solution that could be
      considered (I do know that there are variants of monte carlo -
      probably though specific to particular problem domains).
    * mechanism for improving ambient caching performance and reuse - I
      know that Chas Erlich had at one point mentioned some thoughts
      about some possibility to process ambient data to "smooth" out
      results, would it also be possible to have a progressive cache
      that can evolve has parameters and other things change?
    * I like the idea of somehow having photon mapping integrated but
      somehow as separated things that then integrates with the mkillum
      strategy already included in radiance.
    * compiled materials - if it makes sense I would like to see the
      capability for adding special compiled functions (I know this is
      possible in Radiance currently, but how easy it is to do and
      compile in the linked functions is not clear) that can be used to
      improve performance of procedural materials, likewise is there any
      sense in being able to "compile" light source ies data to improve
      performance in complex scenes with lots of lighting?

Obviously, I am probably suggesting things that take a lot of time, 
research and funding to do. And I realize and accept the reality that 
this is a very small community with limited resources.

> Q5:    What is your main complaint about Radiance from a user's 
> standpoint? 

Well there is a lot to learn, however this has just fueled my personal 
interest and motivation over the years, so this is not really a 
complaint but more a indication of my twisted sense of what is fun. But 
there are probably places where documentation could be provided or 
extended with examples or even little test cases.

> Q6:    What do you think of the current development arrangements? 

They are what they are. I think by its nature and development, Radiance 
is something that probably needs a small core developer team. And the 
reality is that Greg, for as long as he wants and chooses to be 
involved, is the person who should have final say of what gets included 
and worked on. I am all for a (hopefully) benevolent dictatorship in 
this context. It seems to me that the team that has come together in 
support of continued support and development is pretty self selecting, 
with a main core of Greg, Georg and Peter, obviously there are others 
such as Carsten and Roland, who have had the wherewithall to navigate 
the original code and make developments of there own.

>     Q6a:    Would you like to see more people involved in Radiance 
> development? 

Only if it is manageable and useful to the development process.

>     Q6b:    Would you like to participate in develoment, yourself? 

Sure, if there is something useful that I can do.

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------090406090906000800020300
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Hi all,<br>
<br>
Boy there are some interesting things in discussion. I will weigh in as I
can.<br>
<br>
Greg Ward wrote:<br>
[snip - people have weighed in with some excellent comments]<br>
<blockquote type="cite"
 cite="mid3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net"><br>
Why don't we take a survey?&nbsp; Anyone who has read this far has to be  interested
in these issues, so let's hear from you. <br>
 <br>
Q1:&nbsp;&nbsp;&nbsp; Have you tried the photon map addition?&nbsp; Why or why not? </blockquote>
Yes briefly after RW 2002. I was able to compile it and run some of Ronald's
examples. Note I also checked out Carsten's "direct cache" as well. To my
mind both of these are certainly interesting developments. On the other hand,
in our everyday production use, we are dependent on the knowledge we have
built up over the years about tweaking parameters in "classic" radiance and
managing a production pipeline around the engine. However if these tools
were incorporated into a standard release in a manner that would not impact
"classic" use and performance, then I would be more likely to work with these
add-on on a more regular basis.<br>
<br>
Generally, I am interested in anything that helps increase speed of the simulation
process and quality of the resultant images. For us this has meant faster
hardware over the years and the use of rpiece in single nodes. I have also
played around with rpiece on distributed nodes, but I do have concerns about
the file locking consistency (whether this is an NFS settings thing, Linux
things or Radiance things I do not know).
<blockquote type="cite"
 cite="mid3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net"><br>
Q2:&nbsp;&nbsp;&nbsp; Would you try the photon map if it were added to the HEAD release? 
</blockquote>
Yes and others, if they are incorporated in a way that does not impact "classic"
use and performance. To me this could be either as compile time options,
command line switches or alternates for commands (ie rpict, rpict_pm, rpict_dc
whatever, although I suspect this is not the most efficient thing from a
development standpoint). <br>
<br>
Alternatively, I like the idea of a stable and development branch as with
Linux development. Then you know what is what. And perhaps development can
be more aggressive in the development branch (people and other resources
for development is an entirely different topic).<br>
<blockquote type="cite"
 cite="mid3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net"><br>
Q3:&nbsp;&nbsp;&nbsp; If the photon map were added to the next official release, would it: 
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;A) Encourage you to upgrade? <br>
&nbsp;&nbsp;&nbsp;&nbsp;B) Discourage you from upgrading? <br>
&nbsp;&nbsp;&nbsp;&nbsp;B) Make you want to wait and see what others thought of it, first? <br>
&nbsp;&nbsp;&nbsp;&nbsp;C) Make no difference to your decision? </blockquote>
Probably make no difference. I am one of the people referred to elsewhere
who is still using the pre 3.6 release of radiance. This has mostly been
out of laziness and not needing/wanting to mess with something that works.
There are however many new exciting features that I think could be useful.
This is also matter of just finding the time as well.
<blockquote type="cite"
 cite="mid3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net">Q4:&nbsp;&nbsp;&nbsp; What features
would you really like to see added to Radiance? </blockquote>
As I stated above, at one level anything that could result in increase performance
and quality. Some ideas (wish list) could be as follows:<br>
<ul>
  <li>alternate distributed/network rendering strategy - perhaps a client
server mechanism to supplant nfs locking, or some other locking/sharing mechanism</li>
  <li>optimizations to rendering engine to produce faster results - are there
optimizations to the monte carlo solution that could be considered (I do
know that there are variants of monte carlo - probably though specific to
particular problem domains).</li>
  <li>mechanism for improving ambient caching performance and reuse - I know
that Chas Erlich had at one point mentioned some thoughts about some possibility
to process ambient data to "smooth" out results, would it also be possible
to have a progressive cache that can evolve has parameters and other things
change?</li>
  <li>I like the idea of somehow having photon mapping integrated but somehow
as separated things that then integrates with the mkillum strategy already
included in radiance.</li>
  <li>compiled materials - if it makes sense I would like to see the capability
for adding special compiled functions (I know this is possible in Radiance
currently, but how easy it is to do and compile in the linked functions is
not clear) that can be used to improve performance of procedural materials,
likewise is there any sense in being able to "compile" light source ies data
to improve performance in complex scenes with lots of lighting?<br>
  </li>
</ul>
Obviously, I am probably suggesting things that take a lot of time, research
and funding to do. And I realize and accept the reality that this is a very
small community with limited resources.<br>
<blockquote type="cite"
 cite="mid3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net">Q5:&nbsp;&nbsp;&nbsp; What is your
main complaint about Radiance from a user's standpoint? </blockquote>
Well there is a lot to learn, however this has just fueled my personal interest
and motivation over the years, so this is not really a complaint but more
a indication of my twisted sense of what is fun. But there are probably places
where documentation could be provided or extended with examples or even little
test cases.<br>
<blockquote type="cite"
 cite="mid3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net">Q6:&nbsp;&nbsp;&nbsp; What do you
think of the current development arrangements? </blockquote>
They are what they are. I think by its nature and development, Radiance is
something that probably needs a small core developer team. And the reality
is that Greg, for as long as he wants and chooses to be involved, is the
person who should have final say of what gets included and worked on. I am
all for a (hopefully) benevolent dictatorship in this context. It seems to
me that the team that has come together in support of continued support and
development is pretty self selecting, with a main core of Greg, Georg and
Peter, obviously there are others such as Carsten and Roland, who have had
the wherewithall to navigate the original code and make developments of there
own.
<blockquote type="cite"
 cite="mid3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net">&nbsp;&nbsp;&nbsp; Q6a:&nbsp;&nbsp;&nbsp; Would
you like to see more people involved in Radiance  development? </blockquote>
Only if it is manageable and useful to the development process.<br>
<blockquote type="cite"
 cite="mid3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net">&nbsp;&nbsp;&nbsp; Q6b:&nbsp;&nbsp;&nbsp; Would
you like to participate in develoment, yourself? </blockquote>
Sure, if there is something useful that I can do.<br>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------090406090906000800020300--


From radiance-dev@radiance-online.org  Tue Dec  9 17:03:53 2003
From: radiance-dev@radiance-online.org (Jack de Valpine)
Date: Tue, 09 Dec 2003 12:03:53 -0500
Subject: [Radiance-dev] Re: Quo Vadis Radiance ... - dictators vs. volunteers
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de> <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net> <3FD5333F.6050301@t-online.de>
Message-ID: <3FD60079.6070500@visarc.com>

--------------020601040107050107060606
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi All,

I have to bite on this one for what it is worth and probably offend lots 
in doing so. Let's be clear about a few things (at least insofar as I 
understand them).

   1. Radiance was originally developed with funds from LBNL as well as
      EPFL, along with some pieces at SGI
   2. Greg was/is the main developer of the software and has maintained
      his involvement as best possible over the years
   3. As work paid for by the government it had been released for use in
      industry with no fee for use except if the use was to build and
      sell an application with Radiance as the engine (I believe this
      required a separate license with fee from UC Berkeley/LBNL)
   4. With Greg's departure from LBNL, support for radiance fell off
      dramatically to the point where ultimately I would suggest the
      tool was unsupported (and I am sorry that I do not think
      support/development of Desktop Radiance equals support/development
      for the core radiance engine)
   5. Greg has more recently been in a position to be more involved with
      Radiance (for better or worse) now over the past few years
   6. Peter has setup and maintained radiance-online.org
   7. Radiance has been released under "open source" style license.

 From my standpoint, there was a period, the dark years, after (4) where 
I had to support and do the best I could with radiance source code if we 
encountered problems (which we did). During these dark years, Greg and 
others such as Chas Ehrlich did the best they could to provide at least 
answers to questions when they had time as well as some patches. I am 
very grateful to them for their energy during this time. But again, I 
feel that during this time my company had made the decision to continue 
on with Radiance as best we could and support it as possible internally 
ourselves. In many ways, I think there are a lot of users who are using 
the tool out of dedication as well as the fact that for some kinds of 
applications/problems there is really nothing out there like it or with 
its robustness (and if there is such as Integra to name one, these tools 
are far too costly for the kinds of applications/services that they 
would be used to support).

I think most significantly with Peter's creation of radiance-online.org 
(6) there has been a tremendous upswing in Radiance development and use. 
The site has provided a central location for people to share information 
and exchange knowledge. This has been furthered by "open-sourcing" of 
radiance (7) and Greg's emergence (5) and ability to be involved in 
development. In addition to this, Georg Mischler's development of 
Rayfront has placed in him in a position to know enough about Radiance 
and its inner workings that he can actually have meaningful discussions 
with Greg about the evolution of the tools.

Although Carsten suggests he is not blaming anyone, his intimation that 
companies using radiance to support their service offerings "don't pay a 
cent for the software" does just that. I would suggest that there are 
many ways to return or transfer value in a community such as this one. I 
think that there are many of us who have contributed in our ways over 
the years. This has probably been as simple as asking a question that 
results in the discovery of a potential bug that then gets resolved, to 
supplying patches or even just having interesting images to show that 
have been generated with the software. I would gladly arrange contracts 
for development of specific things if and when I can get the work to 
support such contracts. Unfortunately the reality is that this has only 
happened on rare occasion.

I think given the current size of the community, it has to be up to the 
developers to determine how much time they are willing to contribute 
before saying  in response to some question or idea "Hey this is great, 
<your name here>, but it is really beyond the scope of what I can do 
with donated time. Do you have any funding available to support what you 
are asking about? And if so are you willing to donate the resulting code 
development back to the community?"

-Jack de Valpine



Carsten Bauer wrote:

> Greg Ward wrote
>
>> I am not a dictator ...
>
>
> Ave, Greg! Why not take the chance and be one  :-) , this is no shame, 
> others do it, too. ( remember that you live in the worlds most 
> powerful dictatorship, Mr. Bush didn't win the elections but still 
> somehow manoeuvered himself into the Oral  - sorry, different story - 
> Oval Office )
>
> just some thoughts on it-
> 1) There has to be one - or a very small group - who sets the 
> guidelines, otherwise things will fall apart sooner or later.  But 
> this can make it difficult for volunteers.  I compare it with my 
> artwork, I never got really big payment, but I only did what I wanted, 
> so it was OK with me. But if I shall fulfill someone else's ideas just 
> for free, hmm, well, that's close to slavery. Wasn't it Abraham 
> Lincoln who forbade this? 
> 2) The engineering/design firms mentioned make lots of bucks with 
> their consulting projects (Jack, Rob's Boss or the guys from Arup 
> probably will correct me here on the 'lots'...) but don't need to pay 
> a cent for the software. This is NOT meant to blame anyone. Its the 
> other way, generally businessmen are straightforward and realistic, so 
> they might even prefer paying some acceptable price for a guaranteed 
> stable version including support instead of anything free, but 
> 'experimental', sometimes working and sometimes not. (OK, maybe I'm 
> too optimistic ...) But I'm a realist, too. See point 1 ...
>
> 3) LBNL has losened its grip, the software is now open source, it 
> doesn't sound as if they are willing to spend much time on it anymore. 
> But to assure if any of the possible new developments eligible for 
> integration doesn't taint the program and drags the name into the dirt 
> is a tedious job and needs a considerable amount of time, too. 
> Currently it seems that poor Greg has to do it for free, (so he's a 
> dictator and a volunteer in one person)
>
> .......
>
> This are only some organisatorial side-topics. There's of course more 
> to say, but  I think I better not open another can of worms and 
> discuss different ideas and possible strategies concerning the addon 
> and its integration itself (separate/connected to the core, etc., 
> etc.). There's only one solution available right now anyway.
>
> -Carsten
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------020601040107050107060606
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Hi All,<br>
<br>
I have to bite on this one for what it is worth and probably offend lots
in doing so. Let's be clear about a few things (at least insofar as I understand
them).<br>
<ol>
  <li>Radiance was originally developed with funds from LBNL as well as EPFL,
along with some pieces at SGI</li>
  <li>Greg was/is the main developer of the software and has maintained his
involvement as best possible over the years</li>
  <li>As work paid for by the government it had been released for use in
industry with no fee for use except if the use was to build and sell an application
with Radiance as the engine (I believe this required a separate license with
fee from UC Berkeley/LBNL)</li>
  <li>With Greg's departure from LBNL, support for radiance fell off dramatically
to the point where ultimately I would suggest the tool was unsupported (and
I am sorry that I do not think support/development of Desktop Radiance equals
support/development for the core radiance engine)</li>
  <li>Greg has more recently been in a position to be more involved with
Radiance (for better or worse) now over the past few years</li>
  <li>Peter has setup and maintained radiance-online.org</li>
  <li>Radiance has been released under "open source" style license.</li>
</ol>
>From my standpoint, there was a period, the dark years, after (4) where I
had to support and do the best I could with radiance source code if we encountered
problems (which we did). During these dark years, Greg and others such as
Chas Ehrlich did the best they could to provide at least answers to questions
when they had time as well as some patches. I am very grateful to them for
their energy during this time. But again, I feel that during this time my
company had made the decision to continue on with Radiance as best we could
and support it as possible internally ourselves. In many ways, I think there
are a lot of users who are using the tool out of dedication as well as the
fact that for some kinds of applications/problems there is really nothing
out there like it or with its robustness (and if there is such as Integra
to name one, these tools are far too costly for the kinds of applications/services
that they would be used to support).<br>
<br>
I think most significantly with Peter's creation of radiance-online.org (6)
there has been a tremendous upswing in Radiance development and use. The
site has provided a central location for people to share information and
exchange knowledge. This has been furthered by "open-sourcing" of radiance
(7) and Greg's emergence (5) and ability to be involved in development. In
addition to this, Georg Mischler's development of Rayfront has placed in
him in a position to know enough about Radiance and its inner workings that
he can actually have meaningful discussions with Greg about the evolution
of the tools.<br>
<br>
Although Carsten suggests he is not blaming anyone, his intimation that companies
using radiance to support their service offerings "don't pay a cent for the
software" does just that. I would suggest that there are many ways to return
or transfer value in a community such as this one. I think that there are
many of us who have contributed in our ways over the years. This has probably
been as simple as asking a question that results in the discovery of a potential
bug that then gets resolved, to supplying patches or even just having interesting
images to show that have been generated with the software. I would gladly
arrange contracts for development of specific things if and when I can get
the work to support such contracts. Unfortunately the reality is that this
has only happened on rare occasion.<br>
<br>
I think given the current size of the community, it has to be up to the developers
to determine how much time they are willing to contribute before saying &nbsp;in
response to some question or idea "Hey this is great, &lt;your name here&gt;,
but it is really beyond the scope of what I can do with donated time. Do
you have any funding available to support what you are asking about? And
if so are you willing to donate the resulting code development back to the
community?"<br>
<br>
-Jack de Valpine<br>
<br>
<br>
<br>
Carsten Bauer wrote:<br>
<blockquote type="cite" cite="mid3FD5333F.6050301@t-online.de">Greg Ward
wrote <br>
 <br>
  <blockquote type="cite">I am not a dictator ... <br>
  </blockquote>
 <br>
Ave, Greg! Why not take the chance and be one&nbsp; :-) , this is no shame,  others
do it, too. ( remember that you live in the worlds most powerful  dictatorship,
Mr. Bush didn't win the elections but still somehow  manoeuvered himself
into the Oral&nbsp; - sorry, different story - Oval Office ) <br>
 <br>
just some thoughts on it- <br>
1) There has to be one - or a very small group - who sets the  guidelines,
otherwise things will fall apart sooner or later.&nbsp; But this  can make it
difficult for volunteers.&nbsp; I compare it with my artwork, I  never got really
big payment, but I only did what I wanted, so it was OK  with me. But if
I shall fulfill someone else's ideas just for free, hmm,  well, that's close
to slavery. Wasn't it Abraham Lincoln who forbade this?&nbsp;   <br>
2) The engineering/design firms mentioned make lots of bucks with their  consulting
projects (Jack, Rob's Boss or the guys from Arup probably  will correct me
here on the 'lots'...) but don't need to pay a cent for  the software. This
is NOT meant to blame anyone. Its the other way,  generally businessmen are
straightforward and realistic, so they might  even prefer paying some acceptable
price for a guaranteed stable version  including support instead of anything
free, but 'experimental',  sometimes working and sometimes not. (OK, maybe
I'm too optimistic ...)  But I'm a realist, too. See point 1 ... <br>
 <br>
3) LBNL has losened its grip, the software is now open source, it  doesn't
sound as if they are willing to spend much time on it anymore.  But to assure
if any of the possible new developments eligible for  integration doesn't
taint the program and drags the name into the dirt  is a tedious job and
needs a considerable amount of time, too. Currently  it seems that poor Greg
has to do it for free, (so he's a dictator and a  volunteer in one person) 
  <br>
 <br>
....... <br>
 <br>
This are only some organisatorial side-topics. There's of course more to
 say, but&nbsp; I think I better not open another can of worms and discuss  different
ideas and possible strategies concerning the addon and its  integration itself
(separate/connected to the core, etc., etc.). There's  only one solution
available right now anyway. <br>
 <br>
-Carsten <br>
 <br>
 <br>
_______________________________________________ <br>
Radiance-dev mailing list <br>
<a class="moz-txt-link-abbreviated" href="mailto:Radiance-dev@radiance-online.org">Radiance-dev@radiance-online.org</a> <br>
<a class="moz-txt-link-freetext" href="http://www.radiance-online.org/mailman/listinfo/radiance-dev">http://www.radiance-online.org/mailman/listinfo/radiance-dev</a> <br>
 <br>
 <br>
</blockquote>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------020601040107050107060606--


From radiance-dev@radiance-online.org  Tue Dec  9 18:35:58 2003
From: radiance-dev@radiance-online.org (Erwin Rol)
Date: Tue, 09 Dec 2003 19:35:58 +0100
Subject: [Radiance-dev] CVS
In-Reply-To: <3FD5BF61.2020803@pab-opto.de>
References: <1070968039.3061.24.camel@erwin.fe.think>
 <3FD5BF61.2020803@pab-opto.de>
Message-ID: <1070994958.3076.34.camel@erwin.fe.think>

On Tue, 2003-12-09 at 13:26, Peter Apian-Bennewitz wrote:
> Erwin Rol wrote:

> >
> The CVS doesn't feature anon access to a pserver (in fact there is no 
> pserver). The nightly tar balls are pretty much up-to-date and there's 
> the web interface to CVS. 

Has this a reason, I mean downloading the full tar ball every time is
way more traffic than an anon cvs update. 

> If you're into contributing, the easiest is to 
> check with Greg Ward (also on this list).
> Out of curiosity, what's your interest in Radiance (answer is optional) ?

Here the answer ( ignoring it is optional ;-) 
I am looking at opensource programs/project that could be use to
simulate theater/TV lighting. This might not be that different from
architectural lighting (actually a lot of theater lighting firms also
provide architectural lighting equipment).
Of course "correct" rendering of lighting, so that it can be used by for
example a TV-camera man to see if he has enough light is just part of
it, but Radiance should be able to deal with that part.  

> -Peter

- Erwin

-- 
       Erwin Rol Software Engineering - http://www.erwinrol.com/



From radiance-dev@radiance-online.org  Tue Dec  9 18:42:03 2003
From: radiance-dev@radiance-online.org (Erwin Rol)
Date: Tue, 09 Dec 2003 19:42:03 +0100
Subject: [Radiance-dev] License question
In-Reply-To: <Pine.BSF.4.44.0312090810050.67985-100000@emancholl.pair.com>
References: <Pine.BSF.4.44.0312090810050.67985-100000@emancholl.pair.com>
Message-ID: <1070995323.3239.41.camel@erwin.fe.think>

On Tue, 2003-12-09 at 14:14, Georg Mischler wrote:
> Erwin Rol wrote:
> 
> > Hello all,
> 
> Hello neighbour! (well, almost ;)
> 
> 
> > I noticed that the license text in the makeall file is different from
> > the license text on the website. The one in the makeall file still has
> > the old license I think ?
> 
> Looks like it, yes. I'm not into that topic in detail, but it
> seems to make sense to have the same language in both places,
> so we should probably update the build scripts.
> 
> 
> > Secondly the makeall file has a "phone home" function wich i think is
> > normally only something for spyware/adware like programs and not for
> > opensource projects. If the developers are interested in hearing who is
> > using what version of radiance they could simply ask if people would
> > want to mail them that information.
> 
> While I share your concerns about spyware in general, I think the
> comparison is a little far fetched here. We're not monitoring
> your surfing habits or anything...
> 
> I have a hard time seeing what kind of data protection problems
> the transmission of the following information could cause
> (together with your e-mail address):
> 
>   char VersionID[]="RADIANCE 3.6a lastmod Mon Nov 17 21:30:59 CET
>     2003 by gm on local";
> 
> On the other hand, I have no idea how useful the data collected
> like this over the years at LBNL really is. I think it *was*
> useful at one time, in order to justify funding. Since funding
> out of their regular budget has stopped long ago, and a growing
> number of users either download Radiance in binary form or use
> one of the available Windows versions, it's probably not as
> helpful anymore today. I certainly wouldn't miss this "feature"
> if it went away.


If there is really interest in this info a better way would be a form on
the download page where you can (on voluntarily basis) give your email
address when downloading the tar ball.

Don't get me wrong, I also like to hear from people that use the few
opensource programs i wrote, I just think thats up to those people and
not up to me.

> 
> 
> -schorsch

- Erwin

-- 
       Erwin Rol Software Engineering - http://www.erwinrol.com/



From radiance-dev@radiance-online.org  Tue Dec  9 19:49:12 2003
From: radiance-dev@radiance-online.org (Charles Ehrlich)
Date: Tue, 9 Dec 2003 11:49:12 -0800 (PST)
Subject: [Radiance-dev] License question
Message-ID: <20031209194912.51092.qmail@web80314.mail.yahoo.com>

--0-1479844715-1070999352=:50995
Content-Type: text/plain; charset=us-ascii

The "phone home" feature of the makeall script and the data it generates has not been looked at, as far as I know, since I left LBL in May 2000.  In the old days, Greg would use it to "keep a pulse" on the progress of his updates...how many people have compiled the software versus just downloading it.  This was intended to provide some feedback to DOE for funding purposes, but I'm not sure that ever happened.  We also used it to fix the old Radiance "announcement" list when a would-be subscriber's email address was mangled or unintelligible.  The "data" exists only as a series of email messages residing in a user account on LBL's Radiance server (radsite.lbl.gov).
 
When I started working at LBL, I too thought the phone-home feature was a bit 1984-ish.  I support the idea of getting rid of it in favor of a web form with required (unchecked) personal registration information (that is saved) before downloading the tarballs.  This is in line with access to the Desktop Radiance installation package.  Immediately prior to the registration form, the OpenSource license is displayed and the would-be user must "accept" its terms in order to proceed to the download.
 
This information can then be used at some future date to support efforts to develop an ongoing funding source for Radiance--or at least paying for the server space.  I know how much everyone hates web page ads, but Peter Apian-Bennewitz's benevolence may not last for ever, even if he remains at his current place of employment.
 
-Chas

--0-1479844715-1070999352=:50995
Content-Type: text/html; charset=us-ascii

<DIV>The "phone home" feature of the&nbsp;makeall script and the data it generates&nbsp;has not been looked at, as far as I know,&nbsp;since I left LBL in May 2000.&nbsp; In the old days, Greg would use it to "keep a pulse" on the progress of his updates...how many people have compiled the software versus just downloading it.&nbsp; This was intended to provide some feedback to DOE for funding purposes, but I'm not sure that ever happened.&nbsp; We also used it to fix the old Radiance "announcement" list when a would-be subscriber's email address was mangled or unintelligible.&nbsp; The "data" exists only as a series of email messages residing in a user account on LBL's Radiance server (radsite.lbl.gov).</DIV>
<DIV>&nbsp;</DIV>
<DIV>When I started working at LBL, I too thought the phone-home feature&nbsp;was a bit 1984-ish.&nbsp; I support the idea of getting rid of it in favor of a web form with required (unchecked) personal registration information (that is saved)&nbsp;before downloading the tarballs.&nbsp; This is in line with access to the Desktop Radiance installation package.&nbsp; Immediately prior to the registration form, the OpenSource license is displayed and the would-be user must "accept" its terms in order to proceed to the download.</DIV>
<DIV>&nbsp;</DIV>
<DIV>This information can then be used at some future date&nbsp;to support efforts to&nbsp;develop an ongoing funding source for Radiance--or at least paying for the server space.&nbsp; I know how&nbsp;much everyone hates&nbsp;web page ads, but&nbsp;Peter Apian-Bennewitz's benevolence may not last for ever, even if he&nbsp;remains at his current place of employment.</DIV>
<DIV>&nbsp;</DIV>
<DIV>-Chas</DIV>
--0-1479844715-1070999352=:50995--

From radiance-dev@radiance-online.org  Tue Dec  9 19:58:59 2003
From: radiance-dev@radiance-online.org (Erwin Rol)
Date: Tue, 09 Dec 2003 20:58:59 +0100
Subject: [Radiance-dev] License question
In-Reply-To: <20031209194912.51092.qmail@web80314.mail.yahoo.com>
References: <20031209194912.51092.qmail@web80314.mail.yahoo.com>
Message-ID: <1070999939.3238.46.camel@erwin.fe.think>

On Tue, 2003-12-09 at 20:49, Charles Ehrlich wrote:
>  
> This information can then be used at some future date to support
> efforts to develop an ongoing funding source for Radiance--or at least
> paying for the server space.  I know how much everyone hates web page
> ads, but Peter Apian-Bennewitz's benevolence may not last for ever,
> even if he remains at his current place of employment.
>  

Of course the Radiance license allows people to redistribute the tar
balls from other websites. So in general is trying to keep track of
users of open source projects not really doable in that way. 

When server space/download volume is expensive you really want others to
mirror and distribute your sources. 

And for ads a simple page hit count is enough, no need to ask for things
like email address etc. 


> -Chas

- Erwin
-- 
       Erwin Rol Software Engineering - http://www.erwinrol.com/



From radiance-dev@radiance-online.org  Tue Dec  9 21:20:07 2003
From: radiance-dev@radiance-online.org (Charles Ehrlich)
Date: Tue, 9 Dec 2003 13:20:07 -0800 (PST)
Subject: [Radiance-dev] Quo Vadis Radiance ...
Message-ID: <20031209212007.90696.qmail@web80305.mail.yahoo.com>

--0-129104571-1071004807=:90521
Content-Type: text/plain; charset=us-ascii

Hi all,
 
I'm sure there are many good sources of information about the history of the core group of Linux developers, but there is a really good one in the October 2003 issue of Wired magazine.  I see many paralells between the Linux and Radiance development efforts... no need to elaborate. 
 
Here are some revisions to the history, as quoted from Jack de Valpine:

   Radiance was originally developed with funds from LBNL as well as EPFL, along with some pieces at SGI. *** Greg has said that well over 50% of the time that he spent developing Radiance has been on his own personal time.  With current trends, this ratio is steadily increasing.  Greg Ward's personal wealth from the sales of Rendering with Radiance--ha!

   Greg was/is the main developer of the software and has maintained his involvement as best possible over the years *** Here, here!

   As work paid for by the government it had been released for use in industry with no fee for use except if the use was to build and sell an application with Radiance as the engine (I believe this required a separate license with fee from UC Berkeley/LBNL) *** One of the ongoing disputes at DOE (when there was money coming from that general direction) was that Radiance was paid for by US taxpayer money, but most of the users tended to be from outside of the USA.  The only reason Radiance remains publicly available today is because that is the way Greg Ward wanted it to be that way.  As a scientist at LBL working for DOE, the author of a piece of software has considerable leeway to determine how one's software is to be used and distributed.  That being said, Stephen Selkowitz at LBL deserves considerable credit for not getting in the way and anihilating opposition, at some expense (and much benefit) to his career aspirations.
 
   With Greg's departure from LBNL, support for radiance fell off dramatically to the point where ultimately I would suggest the tool was unsupported (and I am sorry that I do not think support/development of Desktop Radiance equals support/development for the core radiance engine)  *** I take no bones with this fact.  Desktop Radiance was not intended to be a replacement for Unix Radiance.  It was hoped that its development would have attracted qualified Unix programmers to provide ongoing support of the Unix core, but this never materialized.  Desktop Radiance has been successful in generating considerable interest in Radiance--even if the D.R. software itself is languishing due to lack of support.  
There was considerable effort expended by LBL staff to port Radiance to native Windoze, and a separate effort to enhance Radiance for use on the LBL 512-processor Cray T3E with MPP extensions and stereoscopic real-time display of the results.  As the program manager, I made sure that these two efforts worked from the same code base.  This code is also freely available as part of the OpenSource license.  I was the project manager for this effort and despite my attempts to involve Greg in these efforts, he was--understandably--not interested.  Another sub-version of this so-called "LDRD" version of Radiance works on the multi-processor SGI Onyx and its version of MPP. 

   Greg has more recently been in a position to be more involved with Radiance (for better or worse) now over the past few years *** Here, here!

   Peter has setup and maintained radiance-online.org *** Here, here!

   Radiance has been released under "open source" style license. *** At long last!  <self promotion mode on> This has been a long-time personal effort of mine that began before there was anyting called  "OpenSource".  While at LBL and over the years, Greg and I spent countless hours with the software licensing staff to demonstrate the value of Radiance and to assure them that the code was not "polluted" by copyrighted contributions from others.  There was a months-long effort to research patents on pseudo-random ray-tracing owned by the developers of RenderMan.  <self promotion mode off> These patents continue to be a major stumbing block for commercialization of Radiance by big-time (i.e., deep pocket) developers.  Perhaps this is a blessing in disguise.  Interestingly, it was only after the successful sale of 5 or 6 distribution licenses for Radiance at $10,000 each (thank you Georg Mischler and others) that we were able to command the attention of the LBL licensing staff.  It was
 as if Radiance had to make money for itself to demonstrate its "value" before it was allowed to be successful.  About 25% of these funds were deposited into LBL's software licensing legal defense fund.  I believe this has had significant influence on LBL's willingness to go along with the OpenSource effort.  (Thank you Viviana Wolinski and other LBL licensing staff.)

One reason for stating the above is to illustrate that many aspects software development efforts require the contributions of "coders" and "non-coders" alike.  I consider myself to be more of a non-coder.  Dealing with licensing issues, coordinating the efforts of other programmers, detailing the input/output requirements of the Radiance core software, marketing, dealing with user issues, developing installation software, testing the software--all of these are the less technical side of programming.  It was just a few days ago that the "coders" were stating the need for a test suite.  The biggest users of Radiance are mostly non-coder, architects like myself who have some technical programming skills.  Greg's survey is welcome and is an appropriate way to democratize his fiefdom.  :-)

 

If there were two things that I could wish for in this effort to continue the development of Radiance they would be 1.) an acknowledgement of the contributions of non-coders and 2.) a "place at the table" to represent the user's perspective.  IMHO, this is what has been missing from Linux development as well as Radiance.  How long did it take to get a version of Linux (or Radiance) that did not require a programmer to install?  There are plenty of good reasons for this omission of non-coders--no need to open that can of worms.  Oops.  Too late.  The problem is that the non-coders, by definition, do not have the wherewithall to implement their own suggestions, no matter how good the suggestions might be, if the programmers in charge of the code development don't like or agree with the users' point of view.  Alas, this has become a modern-day archetype--the Dilbert syndrome.

 

It is not my intent to complain about anyone's efforts, least of all Greg's.  To make the leap to this next stage of Radiance development would require significant cash investment and/or ongoing funding.  And to be sure, Greg and I (and others) have gone down that path more than once.   Unfortunately, I'm currently not in the position to be making money from using Radiance, and so I can not donate my time to provide support (Darn, what am I doing writing this message?).  In my experience, providing non-coder technical support for Radiance is a full-time job.  The coder-programmers derive significant benefit through association with the software as a "prime author" whereas support staff generally do not get such recognition.  I acknowedge that this is as much a philosophical issue as a programmatic one, and I have no hope of a quick solution.

 

Long live Greg Ward!

-Chas

P.S. I'm sorry about the HTML that <tags> along with my messages--just Yahoo! detritus that I don't know how to get rid of.

--0-129104571-1071004807=:90521
Content-Type: text/html; charset=us-ascii

<DIV>Hi all,</DIV>
<DIV>&nbsp;</DIV>
<DIV>I'm sure there are many good sources of information about the history of the core group of Linux developers, but there is a really good one in the October 2003 issue of Wired magazine.&nbsp; I see many paralells between the Linux and Radiance&nbsp;development efforts... no need to elaborate.&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>Here are some revisions to the&nbsp;history,&nbsp;as quoted from <EM>Jack de Valpine</EM>:</DIV>
<OL type=1>
<LI class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><EM>Radiance was originally developed with&nbsp;funds from LBNL as well as EPFL, along with some pieces at SGI.</EM>&nbsp;*** <STRONG>Greg has said that well over 50% of the time that he spent developing Radiance has been on his own personal time.&nbsp; With current trends, this ratio is steadily increasing.&nbsp; Greg Ward's personal wealth from the sales of Rendering with Radiance--ha!<BR></STRONG></SPAN></LI>
<LI class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><EM>Greg was/is the main developer of the software and has maintained his involvement as best possible over the years ***</EM>&nbsp;<STRONG>Here, here!<BR></STRONG></SPAN></LI>
<LI class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><EM>As work paid for by the government it had been released for use in industry with no fee for use except if the use was to build and sell an application with Radiance as the engine (I believe this required a separate license with fee from UC Berkeley/LBNL)</EM> *** <STRONG>One of the ongoing disputes at DOE (when there was money coming from that general direction) was that Radiance was paid for by US taxpayer money, but most of the users tended to be from outside of the USA.&nbsp; The only reason Radiance remains publicly available today is because that is the way Greg Ward wanted it to be that way.&nbsp;&nbsp;As a scientist at LBL&nbsp;working for&nbsp;DOE, the author of a&nbsp;piece of software has considerable leeway&nbsp;to determine how one's software is to be used and
 distributed.&nbsp; That being said, Stephen Selkowitz at LBL&nbsp;deserves considerable credit for not getting in the way and anihilating opposition, at some expense (and much&nbsp;benefit) to his career aspirations.<BR>&nbsp;</STRONG></SPAN></LI>
<LI class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><EM>With Greg's departure from LBNL, support for radiance fell off dramatically to the point where ultimately I would suggest the tool was unsupported (and I am sorry that I do not think support/development of Desktop Radiance equals support/development for the core radiance engine)</EM>&nbsp; *** <STRONG>I take no bones with this fact.&nbsp; Desktop Radiance was not intended to be a replacement for Unix Radiance.&nbsp; It was hoped that its development would have attracted qualified&nbsp;Unix programmers to provide ongoing support of the Unix core, but this never materialized.&nbsp; Desktop Radiance has been successful in generating considerable interest in Radiance--even if the D.R. software itself is languishing due to lack of support.</STRONG>&nbsp; <BR><STRONG>There was
 considerable effort expended by LBL staff to port Radiance to native Windoze, and a separate effort to&nbsp;enhance Radiance for use on the LBL 512-processor Cray T3E with MPP extensions and&nbsp;stereoscopic real-time display of the results.&nbsp;&nbsp;As the program manager, I made sure that these two efforts worked from the same code base. &nbsp;This code is also freely available as part of the OpenSource license.&nbsp; I was the project manager for this effort and despite my attempts to involve Greg in these efforts, he was--understandably--not interested.&nbsp; Another sub-version of this so-called "LDRD" version of Radiance works on the multi-processor SGI Onyx and its version of MPP.&nbsp;<BR></STRONG></SPAN></LI>
<LI class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><EM>Greg has more recently been in a position to be more involved with Radiance (for better or worse) now over the past few years</EM> *** <STRONG>Here, here!<BR><?xml:namespace prefix = o ns = "urn:schemas-microsoft-com:office:office" /><o:p></o:p></STRONG></SPAN></LI>
<LI class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><EM>Peter has setup and maintained radiance-online.org</EM> *** <STRONG>Here, here!<BR><o:p></o:p></STRONG></SPAN></LI>
<LI class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><EM>Radiance has been released under "open source" style license.</EM> *** <STRONG>At long last!&nbsp; &lt;self promotion mode on&gt; This&nbsp;has been a&nbsp;long-time&nbsp;personal effort of mine that began&nbsp;before there was anyting called &nbsp;"OpenSource".&nbsp; While at LBL and over the years, Greg and I spent countless hours with the software licensing staff to demonstrate the value of Radiance and to assure them that the code was not "polluted" by copyrighted contributions from others.&nbsp; There was a months-long effort to research patents on pseudo-random ray-tracing owned by the developers of RenderMan.&nbsp; &lt;self promotion mode off&gt; These patents&nbsp;continue to be a major stumbing block for commercialization of Radiance&nbsp;by&nbsp;big-time (i.e., deep
 pocket) developers.&nbsp;&nbsp;Perhaps this is a blessing in disguise.&nbsp; Interestingly, it was only after the successful sale of 5 or 6 distribution licenses for Radiance at $10,000 each (thank you Georg Mischler and others) that we were able to command the attention of the LBL licensing staff.&nbsp; It was as if Radiance had to make money for itself to demonstrate its "value" before it was allowed to be successful.&nbsp; About 25% of these funds were deposited into LBL's software licensing legal defense fund.&nbsp; I believe this has had significant influence on LBL's willingness to go along with the OpenSource effort.&nbsp; (Thank you Viviana Wolinski&nbsp;and other LBL licensing staff.)</STRONG></SPAN></LI></OL>
<P class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">One reason&nbsp;for stating&nbsp;the above is to illustrate that many aspects software development efforts require the contributions of&nbsp;"coders" and "non-coders" alike.&nbsp; I consider myself to be more of a non-coder.&nbsp; Dealing with licensing issues, coordinating the efforts of other programmers, detailing the input/output requirements of the&nbsp;Radiance core software,&nbsp;marketing, dealing with user issues, developing installation software, testing the software--all of these are the less technical side of programming.&nbsp;&nbsp;It was just a few days ago that the "coders" were stating the need for a test suite.&nbsp;&nbsp;The biggest users of Radiance are&nbsp;mostly&nbsp;non-coder, architects like myself who have some&nbsp;technical programming&nbsp;skills.&nbsp; Greg's
 survey is welcome and is an appropriate way to democratize his fiefdom.&nbsp; :-)</SPAN></P>
<P class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">If there were two things that I could wish for in this effort to continue the development of&nbsp;Radiance they would be 1.) an acknowledgement of the contributions of non-coders and 2.) a "place at the table" to represent the user's perspective.&nbsp; IMHO, this is what has been&nbsp;missing from Linux development as well as Radiance.&nbsp; How long did it take to get a version of Linux (or Radiance) that did not&nbsp;require a programmer to install?&nbsp; There are plenty of good reasons for this omission of non-coders--no need to open that can of worms.&nbsp; Oops.&nbsp; Too late.&nbsp; The problem is that the non-coders, by definition, do not have the wherewithall to implement their own suggestions, no matter how good the suggestions might be, if the programmers in charge of the code
 development don't like or agree with the users' point of view.&nbsp; Alas, this&nbsp;has become a modern-day archetype--the Dilbert syndrome.</SPAN></P>
<P class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">It is not my intent to complain about anyone's efforts, least of all Greg's.&nbsp; To&nbsp;make the leap to this next stage of Radiance development would require significant&nbsp;cash investment&nbsp;and/or ongoing funding.&nbsp; And to be sure, Greg and I (and others) have gone&nbsp;down that path more than once. &nbsp; Unfortunately, I'm&nbsp;currently not in the position to be making money&nbsp;from using Radiance, and so I can not donate my time to provide support (Darn, what am I doing writing this message?). &nbsp;In my&nbsp;experience,&nbsp;providing non-coder technical support for&nbsp;Radiance is a full-time job.&nbsp; The coder-programmers derive significant benefit&nbsp;through association with the software as a "prime author" whereas support staff&nbsp;generally do not get
 such recognition.&nbsp;&nbsp;I&nbsp;acknowedge that&nbsp;this is as much a philosophical issue as a programmatic one, and I have no hope of a quick solution.</SPAN></P>
<P class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">Long live Greg Ward!</SPAN></P>
<P class=MsoNormal style="MARGIN: 0in 0in 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo1; tab-stops: list .5in"><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">-Chas</SPAN></P>
<P>P.S. I'm sorry about the HTML that &lt;tags&gt; along with my messages--just Yahoo! detritus that I don't know how to get rid of.</P>
--0-129104571-1071004807=:90521--

From radiance-dev@radiance-online.org  Tue Dec  9 21:30:12 2003
From: radiance-dev@radiance-online.org (Jack de Valpine)
Date: Tue, 09 Dec 2003 16:30:12 -0500
Subject: [Radiance-dev] Quo Vadis Radiance ...
References: <20031209212007.90696.qmail@web80305.mail.yahoo.com>
Message-ID: <3FD63EE4.1040605@visarc.com>

--------------020807010105030704080105
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hey Chas,

Thanks for the additions and corrections.Very helpful and informative.

-Jack

Charles Ehrlich wrote:

> Hi all,
>  
> I'm sure there are many good sources of information about the history 
> of the core group of Linux developers, but there is a really good one 
> in the October 2003 issue of Wired magazine.  I see many paralells 
> between the Linux and Radiance development efforts... no need to 
> elaborate. 
>  
> Here are some revisions to the history, as quoted from Jack de Valpine:
>
>    1. Radiance was originally developed with funds from LBNL as well
>       as EPFL, along with some pieces at SGI. *** Greg has said that
>       well over 50% of the time that he spent developing Radiance has
>       been on his own personal time.  With current trends, this ratio
>       is steadily increasing.  Greg Ward's personal wealth from the
>       sales of Rendering with Radiance--ha!
>    2. Greg was/is the main developer of the software and has
>       maintained his involvement as best possible over the years
>       *** Here, here!
>    3. As work paid for by the government it had been released for use
>       in industry with no fee for use except if the use was to build
>       and sell an application with Radiance as the engine (I believe
>       this required a separate license with fee from UC Berkeley/LBNL)
>       *** One of the ongoing disputes at DOE (when there was money
>       coming from that general direction) was that Radiance was paid
>       for by US taxpayer money, but most of the users tended to be
>       from outside of the USA.  The only reason Radiance remains
>       publicly available today is because that is the way Greg Ward
>       wanted it to be that way.  As a scientist at LBL working
>       for DOE, the author of a piece of software has considerable
>       leeway to determine how one's software is to be used and
>       distributed.  That being said, Stephen Selkowitz at LBL deserves
>       considerable credit for not getting in the way and anihilating
>       opposition, at some expense (and much benefit) to his career
>       aspirations.
>        
>    4. With Greg's departure from LBNL, support for radiance fell off
>       dramatically to the point where ultimately I would suggest the
>       tool was unsupported (and I am sorry that I do not think
>       support/development of Desktop Radiance equals
>       support/development for the core radiance engine)  *** I take no
>       bones with this fact.  Desktop Radiance was not intended to be a
>       replacement for Unix Radiance.  It was hoped that its
>       development would have attracted qualified Unix programmers to
>       provide ongoing support of the Unix core, but this never
>       materialized.  Desktop Radiance has been successful in
>       generating considerable interest in Radiance--even if the D.R.
>       software itself is languishing due to lack of support. 
>       There was considerable effort expended by LBL staff to port
>       Radiance to native Windoze, and a separate effort to enhance
>       Radiance for use on the LBL 512-processor Cray T3E with MPP
>       extensions and stereoscopic real-time display of the
>       results.  As the program manager, I made sure that these two
>       efforts worked from the same code base.  This code is also
>       freely available as part of the OpenSource license.  I was the
>       project manager for this effort and despite my attempts to
>       involve Greg in these efforts, he was--understandably--not
>       interested.  Another sub-version of this so-called "LDRD"
>       version of Radiance works on the multi-processor SGI Onyx and
>       its version of MPP. 
>    5. Greg has more recently been in a position to be more involved
>       with Radiance (for better or worse) now over the past few years
>       *** Here, here!
>    6. Peter has setup and maintained radiance-online.org *** Here, here!
>    7. Radiance has been released under "open source" style license.
>       *** At long last!  <self promotion mode on> This has been a long-time personal effort of mine that
>       began before there was anyting called  "OpenSource".  While at
>       LBL and over the years, Greg and I spent countless hours with
>       the software licensing staff to demonstrate the value of
>       Radiance and to assure them that the code was not "polluted" by
>       copyrighted contributions from others.  There was a months-long
>       effort to research patents on pseudo-random ray-tracing owned by
>       the developers of RenderMan.  <self promotion mode off> These patents continue to be a major stumbing block for
>       commercialization of Radiance by big-time (i.e., de! ep pocket)
>       developers.  Perhaps this is a blessing in disguise. 
>       Interestingly, it was only after the successful sale of 5 or 6
>       distribution licenses for Radiance at $10,000 each (thank you
>       Georg Mischler and others) that we were able to command the
>       attention of the LBL licensing staff.  It was as if Radiance had
>       to make money for itself to demonstrate its "value" before it
>       was allowed to be successful.  About 25% of these funds were
>       deposited into LBL's software licensing legal defense fund.  I
>       believe this has had significant influence on LBL's willingness
>       to go along with the OpenSource effort.  (Thank you Viviana
>       Wolinski and other LBL licensing staff.)
>
> One reason for stating the above is to illustrate that many aspects 
> software development efforts require the contributions of "coders" and 
> "non-coders" alike.  I consider myself to be more of a non-coder.  
> Dealing with licensing issues, coordinating the efforts of other 
> programmers, detailing the input/output requirements of the Radiance 
> core software, marketing, dealing with user issues, developing 
> installation software, testing the software--all of these are the less 
> technical side of programming.  It was just a few days ago that the 
> "coders" were stating the need for a test suite.  The biggest users of 
> Radiance are mostly non-coder, architects like myself who have 
> some technical programming skills.&nbs! p; Greg's survey is welcome 
> and is an appropriate way to democratize his fiefdom.  :-)
>
>  
>
> If there were two things that I could wish for in this effort to 
> continue the development of Radiance they would be 1.) an 
> acknowledgement of the contributions of non-coders and 2.) a "place at 
> the table" to represent the user's perspective.  IMHO, this is what 
> has been missing from Linux development as well as Radiance.  How long 
> did it take to get a version of Linux (or Radiance) that did 
> not require a programmer to install?  There are plenty of good reasons 
> for this omission of non-coders--no need to open that can of worms.  
> Oops.  Too late.  The problem is that the non-coders, by definition, 
> do not have the wherewithall to implement their own suggestions, no 
> matter how good the suggestions might be, if the programmers in charge 
> of! the code development don't like or agree with the users' point of 
> view.  Alas, this has become a modern-day archetype--the Dilbert syndrome.
>
>  
>
> It is not my intent to complain about anyone's efforts, least of all 
> Greg's.  To make the leap to this next stage of Radiance development 
> would require significant cash investment and/or ongoing funding.  And 
> to be sure, Greg and I (and others) have gone down that path more than 
> once.   Unfortunately, I'm currently not in the position to be making 
> money from using Radiance, and so I can not donate my time to provide 
> support (Darn, what am I doing writing this message?).  In 
> my experience, providing non-coder technical support for Radiance is a 
> full-time job.  The coder-programmers derive significant 
> benefit through association with the software as a "prime author" 
> whereas support staff generally do n! ot get such 
> recognition.  I acknowedge that this is as much a philosophical issue 
> as a programmatic one, and I have no hope of a quick solution.
>
>  
>
> Long live Greg Ward!
>
> -Chas
>
> P.S. I'm sorry about the HTML that <tags> along with my messages--just 
> Yahoo! detritus that I don't know how to get rid of.
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction



--------------020807010105030704080105
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
  <title></title>
</head>
<body>
Hey Chas,<br>
<br>
Thanks for the additions and corrections.Very helpful and informative.<br>
<br>
-Jack<br>
<br>
Charles Ehrlich wrote:<br>
<blockquote type="cite"
 cite="mid20031209212007.90696.qmail@web80305.mail.yahoo.com">
  <div>Hi all,</div>
 
  <div>&nbsp;</div>
 
  <div>I'm sure there are many good sources of information about the history
of the core group of Linux developers, but there is a really good one in
the October 2003 issue of Wired magazine.&nbsp; I see many paralells between the
Linux and Radiance&nbsp;development efforts... no need to elaborate.&nbsp;</div>
 
  <div>&nbsp;</div>
 
  <div>Here are some revisions to the&nbsp;history,&nbsp;as quoted from <em>Jack de
Valpine</em>:</div>
 
  <ol type="1">
 <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"><em>Radiance was originally
developed with&nbsp;funds from LBNL as well as EPFL, along with some pieces at
SGI.</em>&nbsp;*** <strong>Greg has said that well over 50% of the time that he
spent developing Radiance has been on his own personal time.&nbsp; With current
trends, this ratio is steadily increasing.&nbsp; Greg Ward's personal wealth from
the sales of Rendering with Radiance--ha!<br>
      </strong></span></li>
 <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"><em>Greg was/is the main developer
of the software and has maintained his involvement as best possible over
the years ***</em>&nbsp;<strong>Here, here!<br>
      </strong></span></li>
 <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"><em>As work paid for by the
government it had been released for use in industry with no fee for use except
if the use was to build and sell an application with Radiance as the engine
(I believe this required a separate license with fee from UC Berkeley/LBNL)</em>
*** <strong>One of the ongoing disputes at DOE (when there was money coming
from that general direction) was that Radiance was paid for by US taxpayer
money, but most of the users tended to be from outside of the USA.&nbsp; The only
reason Radiance remains publicly available today is because that is the way
Greg Ward wanted it to be that way.&nbsp;&nbsp;As a scientist at LBL&nbsp;working for&nbsp;DOE,
the author of a&nbsp;piece of software has considerable leeway&nbsp;to determine how
one's software is to be used and  distributed.&nbsp; That being said, Stephen
Selkowitz at LBL&nbsp;deserves considerable credit for not getting in the way
and anihilating opposition, at some expense (and much&nbsp;benefit) to his career
aspirations.<br>
&nbsp;</strong></span></li>
 <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"><em>With Greg's departure from
LBNL, support for radiance fell off dramatically to the point where ultimately
I would suggest the tool was unsupported (and I am sorry that I do not think
support/development of Desktop Radiance equals support/development for the
core radiance engine)</em>&nbsp; *** <strong>I take no bones with this fact.&nbsp;
Desktop Radiance was not intended to be a replacement for Unix Radiance.&nbsp;
It was hoped that its development would have attracted qualified&nbsp;Unix programmers
to provide ongoing support of the Unix core, but this never materialized.&nbsp;
Desktop Radiance has been successful in generating considerable interest
in Radiance--even if the D.R. software itself is languishing due to lack
of support.</strong>&nbsp; <br>
      <strong>There was  considerable effort expended by LBL staff to port
Radiance to native Windoze, and a separate effort to&nbsp;enhance Radiance for
use on the LBL 512-processor Cray T3E with MPP extensions and&nbsp;stereoscopic
real-time display of the results.&nbsp;&nbsp;As the program manager, I made sure that
these two efforts worked from the same code base. &nbsp;This code is also freely
available as part of the OpenSource license.&nbsp; I was the project manager for
this effort and despite my attempts to involve Greg in these efforts, he
was--understandably--not interested.&nbsp; Another sub-version of this so-called
"LDRD" version of Radiance works on the multi-processor SGI Onyx and its
version of MPP.&nbsp;<br>
      </strong></span></li>
 <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"><em>Greg has more recently
been in a position to be more involved with Radiance (for better or worse)
now over the past few years</em> *** <strong>Here, here!<br>
      <o:p></o:p></strong></span></li>
 <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"><em>Peter has setup and maintained
radiance-online.org</em> *** <strong>Here, here!<br>
      <o:p></o:p></strong></span></li>
 <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"><em>Radiance has been released
under "open source" style license.</em> *** <strong>At long last!&nbsp; &lt;self
promotion mode on&gt; This&nbsp;has been a&nbsp;long-time&nbsp;personal effort of mine that
began&nbsp;before there was anyting called &nbsp;"OpenSource".&nbsp; While at LBL and over
the years, Greg and I spent countless hours with the software licensing staff
to demonstrate the value of Radiance and to assure them that the code was
not "polluted" by copyrighted contributions from others.&nbsp; There was a months-long
effort to research patents on pseudo-random ray-tracing owned by the developers
of RenderMan.&nbsp; &lt;self promotion mode off&gt; These patents&nbsp;continue to
be a major stumbing block for commercialization of Radiance&nbsp;by&nbsp;big-time (i.e.,
de!  ep  pocket) developers.&nbsp;&nbsp;Perhaps this is a blessing in disguise.&nbsp; Interestingly,
it was only after the successful sale of 5 or 6 distribution licenses for
Radiance at $10,000 each (thank you Georg Mischler and others) that we were
able to command the attention of the LBL licensing staff.&nbsp; It was as if Radiance
had to make money for itself to demonstrate its "value" before it was allowed
to be successful.&nbsp; About 25% of these funds were deposited into LBL's software
licensing legal defense fund.&nbsp; I believe this has had significant influence
on LBL's willingness to go along with the OpenSource effort.&nbsp; (Thank you
Viviana Wolinski&nbsp;and other LBL licensing staff.)</strong></span></li>
  </ol>
 
  <p class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;">One reason&nbsp;for stating&nbsp;the
above is to illustrate that many aspects software development efforts require
the contributions of&nbsp;"coders" and "non-coders" alike.&nbsp; I consider myself
to be more of a non-coder.&nbsp; Dealing with licensing issues, coordinating the
efforts of other programmers, detailing the input/output requirements of
the&nbsp;Radiance core software,&nbsp;marketing, dealing with user issues, developing
installation software, testing the software--all of these are the less technical
side of programming.&nbsp;&nbsp;It was just a few days ago that the "coders" were stating
the need for a test suite.&nbsp;&nbsp;The biggest users of Radiance are&nbsp;mostly&nbsp;non-coder,
architects like myself who have some&nbsp;technical programming&nbsp;skills.&amp;nbs! 
 p; Greg's  survey is welcome and is an appropriate way to democratize his
fiefdom.&nbsp; :-)</span></p>
 
  <p class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"></span>&nbsp;</p>
 
  <p class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;">If there were two things that
I could wish for in this effort to continue the development of&nbsp;Radiance they
would be 1.) an acknowledgement of the contributions of non-coders and 2.)
a "place at the table" to represent the user's perspective.&nbsp; IMHO, this is
what has been&nbsp;missing from Linux development as well as Radiance.&nbsp; How long
did it take to get a version of Linux (or Radiance) that did not&nbsp;require
a programmer to install?&nbsp; There are plenty of good reasons for this omission
of non-coders--no need to open that can of worms.&nbsp; Oops.&nbsp; Too late.&nbsp; The
problem is that the non-coders, by definition, do not have the wherewithall
to implement their own suggestions, no matter how good the suggestions might
be, if the programmers in charge of!   the code  development don't like or
agree with the users' point of view.&nbsp; Alas, this&nbsp;has become a modern-day
archetype--the Dilbert syndrome.</span></p>
 
  <p class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"></span>&nbsp;</p>
 
  <p class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;">It is not my intent to complain
about anyone's efforts, least of all Greg's.&nbsp; To&nbsp;make the leap to this next
stage of Radiance development would require significant&nbsp;cash investment&nbsp;and/or
ongoing funding.&nbsp; And to be sure, Greg and I (and others) have gone&nbsp;down
that path more than once. &nbsp; Unfortunately, I'm&nbsp;currently not in the position
to be making money&nbsp;from using Radiance, and so I can not donate my time to
provide support (Darn, what am I doing writing this message?). &nbsp;In my&nbsp;experience,&nbsp;providing
non-coder technical support for&nbsp;Radiance is a full-time job.&nbsp; The coder-programmers
derive significant benefit&nbsp;through association with the software as a "prime
author" whereas support staff&nbsp;generally do n!  ot get  such recognition.&nbsp;&nbsp;I&nbsp;acknowedge
that&nbsp;this is as much a philosophical issue as a programmatic one, and I have
no hope of a quick solution.</span></p>
 
  <p class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;"></span>&nbsp;</p>
 
  <p class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;">Long live Greg Ward!</span></p>
 
  <p class="MsoNormal" style="margin: 0in 0in 0pt;"><span
 style="font-size: 10pt; font-family: Arial;">-Chas</span></p>
 
  <p>P.S. I'm sorry about the HTML that &lt;tags&gt; along with my messages--just
Yahoo! detritus that I don't know how to get rid of.</p>
 </blockquote>
<br>
<pre class="moz-signature" cols="$mailwrapcol">-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	<a class="moz-txt-link-freetext" href="http://www.visarc.com">http://www.visarc.com</a>
#
#	channeling technology for superior design and construction</pre>
<br>
</body>
</html>

--------------020807010105030704080105--


From radiance-dev@radiance-online.org  Tue Dec  9 21:38:34 2003
From: radiance-dev@radiance-online.org (Peter Apian-Bennewitz)
Date: Tue, 09 Dec 2003 22:38:34 +0100
Subject: [Radiance-dev] License question
In-Reply-To: <20031209194912.51092.qmail@web80314.mail.yahoo.com>
References: <20031209194912.51092.qmail@web80314.mail.yahoo.com>
Message-ID: <3FD640DA.20303@pab-opto.de>

Charles Ehrlich wrote:

> ...
> This information can then be used at some future date to support 
> efforts to develop an ongoing funding source for Radiance--or at least 
> paying for the server space.  I know how much everyone hates web page 
> ads, but Peter Apian-Bennewitz's benevolence may not last for ever, 
> even if he remains at his current place of employment.

Don't worry too much, - FhG ISE is upgrading its Internet connection to 
100MBit in January 2004, and the placement there is fairly independent 
of my theoretical employment situation with them. I also don't see that 
I'm getting unstuck with Radiance anyway soon. The initial reason for 
starting radiance-online three years ago was the thought that I'll wake 
up one morning and have to use Microsoft products for my simulations...

regarding the anon CVS server: The port's not switched through in the 
firewall and I'm quite happy not to watch another port for security 
leaks. There aren't compelling reasons for anon CVS access at this time, 
IMHO, although it may be common with other software projects: Writing is 
coordinated by just two folks, who have write access and reading is 
fairly constant over time since functionality doesn't change that 
frequently.  Most changes are either minor or opsys related and 
shouldn't require a frequent CVS sync, if the local current version runs 
fine.

-Peter

-- 
 pab-opto, Freiburg, Germany, www.pab-opto.de



From radiance-dev@radiance-online.org  Tue Dec  9 21:46:56 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Tue, 09 Dec 2003 22:46:56 +0100
Subject: [Radiance-dev] Quo Vadis Radiance ...
In-Reply-To: <20031209212007.90696.qmail@web80305.mail.yahoo.com>
References: <20031209212007.90696.qmail@web80305.mail.yahoo.com>
Message-ID: <3FD642D0.1060907@gmx.net>

Charles Ehrlich wrote:

>       *There was considerable effort expended by LBL staff to port
>       Radiance to native Windoze, and a separate effort to enhance
>       Radiance for use on the LBL 512-processor Cray T3E with MPP
>       extensions and stereoscopic real-time display of the results.  As
>       the program manager, I made sure that these two efforts worked
>       from the same code base.  This code is also freely available as
>       part of the OpenSource license.  I was the project manager for
>       this effort and despite my attempts to involve Greg in these
>       efforts, he was--understandably--not interested.  Another
>       sub-version of this so-called "LDRD" version of Radiance works on
>       the multi-processor SGI Onyx and its version of MPP. 

Is there a URL for this code? Now if I can only get my hands on a 
Cray... :^)

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Tue Dec  9 22:33:10 2003
From: radiance-dev@radiance-online.org (Charles Ehrlich)
Date: Tue, 9 Dec 2003 14:33:10 -0800 (PST)
Subject: [Radiance-dev] Quo Vadis Radiance ...
In-Reply-To: <3FD642D0.1060907@gmx.net>
Message-ID: <20031209223310.18976.qmail@web80303.mail.yahoo.com>

--0-1390231022-1071009190=:17157
Content-Type: text/plain; charset=us-ascii

It's not on any web site, but we can both talk to Judy Lai at LBNL and see if she can scare it out of the woodworks.  I believe this code was included on the CD-ROM's sent to the $10k licensees, who may distribute it as they wish.
 
-Chas

Roland Schregle <ganjatron@gmx.net> wrote:
Charles Ehrlich wrote:

> *There was considerable effort expended by LBL staff to port
> Radiance to native Windoze, and a separate effort to enhance
> Radiance for use on the LBL 512-processor Cray T3E with MPP
> extensions and stereoscopic real-time display of the results. As
> the program manager, I made sure that these two efforts worked
> from the same code base. This code is also freely available as
> part of the OpenSource license. I was the project manager for
> this effort and despite my attempts to involve Greg in these
> efforts, he was--understandably--not interested. Another
> sub-version of this so-called "LDRD" version of Radiance works on
> the multi-processor SGI Onyx and its version of MPP. 

Is there a URL for this code? Now if I can only get my hands on a 
Cray... :^)

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)

_______________________________________________
Radiance-dev mailing list
Radiance-dev@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-dev
--0-1390231022-1071009190=:17157
Content-Type: text/html; charset=us-ascii

<DIV>It's not on any web site, but we can both talk to Judy Lai at LBNL and see if she can scare it out of the woodworks.&nbsp; I believe this code was included on the CD-ROM's sent to the $10k licensees, who may distribute it as they wish.</DIV>
<DIV>&nbsp;</DIV>
<DIV>-Chas<BR><BR><B><I>Roland Schregle &lt;ganjatron@gmx.net&gt;</I></B> wrote:</DIV>
<BLOCKQUOTE class=replbq style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #1010ff 2px solid">Charles Ehrlich wrote:<BR><BR>&gt; *There was considerable effort expended by LBL staff to port<BR>&gt; Radiance to native Windoze, and a separate effort to enhance<BR>&gt; Radiance for use on the LBL 512-processor Cray T3E with MPP<BR>&gt; extensions and stereoscopic real-time display of the results. As<BR>&gt; the program manager, I made sure that these two efforts worked<BR>&gt; from the same code base. This code is also freely available as<BR>&gt; part of the OpenSource license. I was the project manager for<BR>&gt; this effort and despite my attempts to involve Greg in these<BR>&gt; efforts, he was--understandably--not interested. Another<BR>&gt; sub-version of this so-called "LDRD" version of Radiance works on<BR>&gt; the multi-processor SGI Onyx and its version of MPP. <BR><BR>Is there a URL for this code? Now if I can only get my hands on a <BR>Cray... :^)<BR><BR>-- <BR>Roland
 Schregle<BR>PhD candidate, Fraunhofer Institute for Solar Energy Systems<BR>RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map<BR><BR>END OF LINE. (MCP)<BR><BR>_______________________________________________<BR>Radiance-dev mailing list<BR>Radiance-dev@radiance-online.org<BR>http://www.radiance-online.org/mailman/listinfo/radiance-dev</BLOCKQUOTE>
--0-1390231022-1071009190=:17157--

From radiance-dev@radiance-online.org  Wed Dec 10 06:23:28 2003
From: radiance-dev@radiance-online.org (Greg Ward)
Date: Tue, 9 Dec 2003 22:23:28 -0800
Subject: [Radiance-dev] License question
In-Reply-To: <1070995323.3239.41.camel@erwin.fe.think>
References: <Pine.BSF.4.44.0312090810050.67985-100000@emancholl.pair.com> <1070995323.3239.41.camel@erwin.fe.think>
Message-ID: <5E571140-2AD9-11D8-9804-000A95BB392A@lmi.net>

No need to continue discussion on this.  I agree that the e-mail 
compile notification shall be removed -- it was really negligence on my 
part that it wasn't gone in 3.5.  I don't even know what becomes of 
those e-mails, if they're saved or not.  As for the license text, that 
needs to be updated as well.  Again, my fault.

Thanks for pointing these things out!
-Greg

> From: Erwin Rol <mailinglists@erwinrol.com>
> Date: December 9, 2003 10:42:03 AM PST
> To: Radiance Development <radiance-dev@radiance-online.org>
>
> On Tue, 2003-12-09 at 14:14, Georg Mischler wrote:
>> Erwin Rol wrote:
>>
>>> Hello all,
>>
>> Hello neighbour! (well, almost ;)
>>
>>
>>> I noticed that the license text in the makeall file is different from
>>> the license text on the website. The one in the makeall file still 
>>> has
>>> the old license I think ?
>>
>> Looks like it, yes. I'm not into that topic in detail, but it
>> seems to make sense to have the same language in both places,
>> so we should probably update the build scripts.
>>
>>
>>> Secondly the makeall file has a "phone home" function wich i think is
>>> normally only something for spyware/adware like programs and not for
>>> opensource projects. If the developers are interested in hearing who 
>>> is
>>> using what version of radiance they could simply ask if people would
>>> want to mail them that information.
>>
>> While I share your concerns about spyware in general, I think the
>> comparison is a little far fetched here. We're not monitoring
>> your surfing habits or anything...
>>
>> I have a hard time seeing what kind of data protection problems
>> the transmission of the following information could cause
>> (together with your e-mail address):
>>
>>   char VersionID[]="RADIANCE 3.6a lastmod Mon Nov 17 21:30:59 CET
>>     2003 by gm on local";
>>
>> On the other hand, I have no idea how useful the data collected
>> like this over the years at LBNL really is. I think it *was*
>> useful at one time, in order to justify funding. Since funding
>> out of their regular budget has stopped long ago, and a growing
>> number of users either download Radiance in binary form or use
>> one of the available Windows versions, it's probably not as
>> helpful anymore today. I certainly wouldn't miss this "feature"
>> if it went away.
>
>
> If there is really interest in this info a better way would be a form 
> on
> the download page where you can (on voluntarily basis) give your email
> address when downloading the tar ball.
>
> Don't get me wrong, I also like to hear from people that use the few
> opensource programs i wrote, I just think thats up to those people and
> not up to me.
>
>>
>>
>> -schorsch
>
> - Erwin
>


From radiance-dev@radiance-online.org  Wed Dec 10 23:01:31 2003
From: radiance-dev@radiance-online.org (Carsten Bauer)
Date: Wed, 10 Dec 2003 23:01:31 +0000
Subject: [Radiance-dev] Re: Quo Vadis Radiance - devotion, dollars, development
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de> <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net> <3FD5333F.6050301@t-online.de> <3FD60079.6070500@visarc.com>
Message-ID: <3FD7A5CB.5090008@t-online.de>

Hi all,

the feedback is quite overwhelming, I try to keep track of all points....

OK, one more time the money thing :-). Talking about money always 
produces anger, so lets cool down again. No, Jack, no, I don't even 
implicitely blame you or others. I can take myself as example. Funding 
for Radiance from government/institutes was originally justified with a 
political background, the concern for the enviromment, promoting energy 
efficient lighting/daylighting etc. . Apparently  (thanx to Chas for the 
comprehensive historical background) it was Greg who made much more out 
of it then intended and was able to smuggle it out to the public. And 
now this tool is used in a wide range of commercial applications. But, 
why should the US DOE have any interest in supporting e.g. me in getting 
incredibly rich by making nice images of german architecture projects?
Thats why I simply made some hypothetical thoughts about other 
(commercial )ways of financing software development. Nothing more, 
nothing less.
In other words, if Greg and Peter and Schorsch now come together and 
start up a company (the may call it Lightcosoft) and sell the current 
stuff as 'Radiows 3000 NT', would someone buy it? I imagine that it's 
too late now for that step. People have accustomed to the things. The 
folks complain like mad about Autode$k and Microsoft, but at the same 
time keep on buying their products. On the other hand,  everyone praises 
Radiance, but theres no money for development. Either I miss some 
important  point or things are really that strange. 

Now forget about the money. There are other things in life, too, and if 
you hop into the coffin, you can't take anything with you anyway. 
Certainly there is much enthusiasm involved when people deal with 
Radiance, either on the development side or on the users side. But if 
things don't move or hang around with unclear status or direction, every 
enthusiasm will wear out sooner or later. I made an interesting 
observation (quite generally I have learned an awful lot from this 
current discussion): Jack wrote that he once tested the direct cache but 
didn't find it suitable  (in the present form) for his working 
environment. On reading this I noticed that  this was the *first* 
feedback at all I've got so far about if or if not  this little hack is 
of any use for people outside the few square meters of my flat. I'm not 
naive, so I know that this is quite normal, and others face the same 
problem, but it is simply totally inefficient. If an idea proves 
useless, the sooner one abandons it and looks for something new, the 
better, if it proves helpful, the sooner a solid version emerges out of 
a first test prototype, the better. I dare say that even Greg would have 
difficulties when developing something without any feedback from the 
users side. Take this little example as one reason why I kicked off the 
discussion about some form of coordinating the development.

And as we speak of development: from the repeatedly appearing statements 
in Gregs answers I assume that he is not reaaaallllllly overwhelmingly 
enthusiatic about modifications which mess with the core (the radius of 
the core has of course yet to be defined). Let me simplify it (please 
correct me if its oversimplified :-) ): "Do what you want, develop like 
mad, but make it completely separable, don't touch the core!!!" I have 
no problem at all accepting this, in fact that's just Gregs copyright 
for the whole stuff. But at the same time I have doubts if that is 
physically realistic. I don't need to always speak of pmap or dc here,  
when I take a look at Jacks whishlist I find many topics calling for 
quite comprehensive modifications. So once again the same question: to 
develop or not develop ? One spontaneous solution to the problem (which 
 will secure a good sleep for Greg) would be a new name for a Radiance 
which is not Radiance anymore because of substantial internal changes.

-Carsten

PS: btw, just one more direct answer to Jack:  the idea of different 
executable-names is a straightforward and feasable way, it  is easy to 
implement into rad with an additional switch for specifying the one to 
call. At least I do it exactly that way for my work here.


From radiance-dev@radiance-online.org  Wed Dec 10 22:38:35 2003
From: radiance-dev@radiance-online.org (Erwin Rol)
Date: Wed, 10 Dec 2003 23:38:35 +0100
Subject: [Radiance-dev] Re: Quo Vadis Radiance - devotion, dollars,
 development
In-Reply-To: <3FD7A5CB.5090008@t-online.de>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com>
 <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org>
 <3FD08BE7.4000607@t-online.de>
 <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net>
 <3FD5333F.6050301@t-online.de> <3FD60079.6070500@visarc.com>
 <3FD7A5CB.5090008@t-online.de>
Message-ID: <1071095915.7517.39.camel@erwin.fe.think>

On Thu, 2003-12-11 at 00:01, Carsten Bauer wrote:
> Hi all,
> 
> the feedback is quite overwhelming, I try to keep track of all points....
> 
> OK, one more time the money thing :-). Talking about money always 
> produces anger, so lets cool down again. No, Jack, no, I don't even 
> implicitely blame you or others. I can take myself as example. Funding 
> for Radiance from government/institutes was originally justified with a 
> political background, the concern for the enviromment, promoting energy 
> efficient lighting/daylighting etc. . Apparently  (thanx to Chas for the 
> comprehensive historical background) it was Greg who made much more out 
> of it then intended and was able to smuggle it out to the public. And 
> now this tool is used in a wide range of commercial applications. But, 
> why should the US DOE have any interest in supporting e.g. me in getting 
> incredibly rich by making nice images of german architecture projects?
> Thats why I simply made some hypothetical thoughts about other 
> (commercial )ways of financing software development. Nothing more, 
> nothing less.
> In other words, if Greg and Peter and Schorsch now come together and 
> start up a company (the may call it Lightcosoft) and sell the current 
> stuff as 'Radiows 3000 NT', would someone buy it? I imagine that it's 
> too late now for that step. 

Why would it be to late for it. You know Linux is free and gratis, but
Redhat makes good money with their Enterprise editions that have prices
ranging from 300 to 18,000 dollar. I think not many architects will want
to bother with downloading the source, putting everything to getter and
so on, they rather have a ready to use solution with support and
service. And who could better support them than the named persons ? 

> People have accustomed to the things. The 
> folks complain like mad about Autode$k and Microsoft, but at the same 
> time keep on buying their products. On the other hand,  everyone praises 
> Radiance, but theres no money for development. Either I miss some 
> important  point or things are really that strange.

The "no money" thing is a bit misleading. Radiance is just starting as
an Open Source project, it will take some time before it will attract
more developers. And those developers put time (read: money) in Radiance
development.   

> 
> Now forget about the money. There are other things in life, too, and if 
> you hop into the coffin, you can't take anything with you anyway. 
> Certainly there is much enthusiasm involved when people deal with 
> Radiance, either on the development side or on the users side. But if 
> things don't move or hang around with unclear status or direction, every 
> enthusiasm will wear out sooner or later. I made an interesting 
> observation (quite generally I have learned an awful lot from this 
> current discussion): Jack wrote that he once tested the direct cache but 
> didn't find it suitable  (in the present form) for his working 
> environment. On reading this I noticed that  this was the *first* 
> feedback at all I've got so far about if or if not  this little hack is 
> of any use for people outside the few square meters of my flat. I'm not 
> naive, so I know that this is quite normal, and others face the same 
> problem, but it is simply totally inefficient. If an idea proves 
> useless, the sooner one abandons it and looks for something new, the 
> better, if it proves helpful, the sooner a solid version emerges out of 
> a first test prototype, the better. I dare say that even Greg would have 
> difficulties when developing something without any feedback from the 
> users side. Take this little example as one reason why I kicked off the 
> discussion about some form of coordinating the development.
> 
> And as we speak of development: from the repeatedly appearing statements 
> in Gregs answers I assume that he is not reaaaallllllly overwhelmingly 
> enthusiatic about modifications which mess with the core (the radius of 
> the core has of course yet to be defined). Let me simplify it (please 
> correct me if its oversimplified :-) ): "Do what you want, develop like 
> mad, but make it completely separable, don't touch the core!!!" I have 
> no problem at all accepting this, in fact that's just Gregs copyright 
> for the whole stuff. But at the same time I have doubts if that is 
> physically realistic. I don't need to always speak of pmap or dc here,  
> when I take a look at Jacks whishlist I find many topics calling for 
> quite comprehensive modifications. So once again the same question: to 
> develop or not develop ? One spontaneous solution to the problem (which 
>  will secure a good sleep for Greg) would be a new name for a Radiance 
> which is not Radiance anymore because of substantial internal changes.
> 

This is what happened to GCC, certain people went another direction and
started EGCS. This project ended up being very successful and later was
merged with GCC again to have best from both worlds. 

Or look at Mozilla and Netscape. Netscape was the base for Mozilla, and
not it is turned around. They are not merged back again, but Netscape
uses a lot of code from Mozilla. 

I see no problem in why this would not be possible for Radiance. The
current license allows you to do it. A "Radzilla" could be more
experimental, and Greg could work on the "official" Radiance. At some
point Greg might get convinced that for example the new build system
(just a random example) from "Radzilla" is good stable and useful that
he decides to also use it for Radiance. This way the stability and good
name of Radiance does not get compromised and also the development of
new and experimental features does not get stopped.

> -Carsten

- Erwin

-- 
       Erwin Rol Software Engineering - http://www.erwinrol.com/



From radiance-dev@radiance-online.org  Wed Dec 10 23:45:06 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Thu, 11 Dec 2003 00:45:06 +0100
Subject: [Radiance-dev] Re: Quo Vadis Radiance - devotion, dollars, development
In-Reply-To: <3FD7A5CB.5090008@t-online.de>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de> <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net> <3FD5333F.6050301@t-online.de> <3FD60079.6070500@visarc.com> <3FD7A5CB.5090008@t-online.de>
Message-ID: <3FD7B002.1000606@gmx.net>

Carsten Bauer wrote:

> Now forget about the money. 

Yeah. Tell me 'bout it...

> There are other things in life, too, and if you hop into the coffin, you can't take anything with you anyway. 

Um, some people take their laptops with them. Seriously.
(Presumably they're expecting to find an ISP in the hereafter, too.)

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Thu Dec 11 18:33:18 2003
From: radiance-dev@radiance-online.org (Peter Apian-Bennewitz)
Date: Thu, 11 Dec 2003 19:33:18 +0100
Subject: [Radiance-dev] Re: Quo Vadis Radiance - devotion, dollars, development
In-Reply-To: <3FD7A5CB.5090008@t-online.de>
References: <Pine.BSF.4.44.0312021557321.70377-100000@emancholl.pair.com> <3FCD0AE1.5040509@gmx.net> <3FCD1E7E.5020304@rumblestrip.org> <3FD08BE7.4000607@t-online.de> <3D561BC8-27BF-11D8-B8BE-00306540F848@lmi.net> <3FD5333F.6050301@t-online.de> <3FD60079.6070500@visarc.com> <3FD7A5CB.5090008@t-online.de>
Message-ID: <3FD8B86E.6010404@pab-opto.de>

Carsten Bauer wrote:

> ... The folks complain like mad about Autode$k and Microsoft, but at 
> the same time keep on buying their products.

Not every architect is as curious and flexible as Jack. Most people 
stick with the pack, complain and keep their heads down.

> ....On reading this I noticed that  this was the *first* feedback at 
> all I've got so far about if or if not  this little hack is of any use 
> for people outside the few square meters of my flat.

While writing rshow years ago in the fairly suitable habitat of a larger 
research institute (name supplied - ed.)  feedback was a problem even 
there. One would think that users suggest new ideas while using it, 
having the advantage of in-house development, but that happened only 
occasionally. Generally only a few users are keen on trying something 
new, and even fewer have a vision of what they want. Radiance's 
continously uphill learning-curve doesn't help in this. Consequently, 
developpers follow the vision in their mind and in case of Greg's that 
turned out to be fairly usuable for others too.

> ...
> And as we speak of development: from the repeatedly appearing 
> statements in Gregs answers I assume that he is not reaaaallllllly 
> overwhelmingly enthusiatic about modifications which mess with the 
> core (the radius of the core has of course yet to be defined). 

I find his thoughts about user's trust in Radiance quite realistic. And 
supporting other preople's code can be _very_ time consuming. I'm not 
sure if contributors are prepared to support their contribution over 
years to come. Even porting rshow to R3.5 and something more modern than 
Tcl/Tk is a drag, and that doesn't include validations of results.

-Peter

-- 
 pab-opto, Freiburg, Germany, www.pab-opto.de



From radiance-dev@radiance-online.org  Thu Dec 11 23:42:21 2003
From: radiance-dev@radiance-online.org (Greg Ward)
Date: Thu, 11 Dec 2003 15:42:21 -0800
Subject: [Radiance-dev] License question
In-Reply-To: <1070995323.3239.41.camel@erwin.fe.think>
References: <Pine.BSF.4.44.0312090810050.67985-100000@emancholl.pair.com> <1070995323.3239.41.camel@erwin.fe.think>
Message-ID: <AA2BCEF6-2C33-11D8-A027-000A95BB392A@lmi.net>

A P.S. on this.  I've made the change to makeall, but it hasn't been 
executing the newuser script or displayed the outdated license since 
the 3.5 release.  I took it out all the same and substituted with a 
"more src/common/copyright.h" agreement.

-Greg

> From: Greg Ward <gward@lmi.net>
> Date: December 9, 2003 10:23:28 PM PST
>
> No need to continue discussion on this.  I agree that the e-mail 
> compile notification shall be removed -- it was really negligence on 
> my part that it wasn't gone in 3.5.  I don't even know what becomes of 
> those e-mails, if they're saved or not.  As for the license text, that 
> needs to be updated as well.  Again, my fault.
>
> Thanks for pointing these things out!
> -Greg


From radiance-dev@radiance-online.org  Wed Dec 17 15:48:28 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Wed, 17 Dec 2003 10:48:28 -0500 (EST)
Subject: [Radiance-dev] solid angle for each pixel/ray
In-Reply-To: <3FE052DB.3010801@gmx.net>
References: <3FDFA7D2.2090503@archenergy.com> <3FDFF820.2020308@pab-opto.de>
 <3FE052DB.3010801@gmx.net>
Message-ID: <Pine.BSF.4.58.0312170807040.94980@emancholl.pair.com>

[moving this to the dev-list]

Roland Schregle wrote:

> Peter Apian-Bennewitz wrote:
>
> > RenderMan (and probably others) use different textures/patterns
> > depending on distance (more exactly on the solid angle the pixel
> > covers).  This angle is not supplied in the function files (at least it
> > wasn't when I discussed that with Greg two years ago), so view dependent
> > textures are a bit tricky to do. One reason for not making it available
> > was that it is known in rvu/rpict, but not rtrace. If we agree (on
> > radiance-dev) it would be useful, I'd be happy to see this variable.
>
> Actually, a solid angle in the context of rtrace would be useful in
> general.

Rview and rpict can determine this information from the (angular)
spacing of successive pixels. Rtrace doesn't have any concept of
pixels, let alone something like "the next pixel to the right
points x degrees away from this one".

To make this work with rtrace, there would have to be a way to
feed it this information seperately. I'm not sure if a global
parameter would be enough, because I think it can vary quite a
bit eg. for wide angle perspectives. On the other hand, allowing
a seventh value with each line of input might be a non-trivial
change.

In any case, I agree that this would be a very useful variable.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From radiance-dev@radiance-online.org  Wed Dec 17 16:13:16 2003
From: radiance-dev@radiance-online.org (Roland Schregle)
Date: Wed, 17 Dec 2003 17:13:16 +0100
Subject: [Radiance-dev] solid angle for each pixel/ray
In-Reply-To: <Pine.BSF.4.58.0312170807040.94980@emancholl.pair.com>
References: <3FDFA7D2.2090503@archenergy.com> <3FDFF820.2020308@pab-opto.de> <3FE052DB.3010801@gmx.net> <Pine.BSF.4.58.0312170807040.94980@emancholl.pair.com>
Message-ID: <3FE0809C.5080300@gmx.net>

Georg Mischler wrote:

> Rview and rpict can determine this information from the (angular)
> spacing of successive pixels. Rtrace doesn't have any concept of
> pixels, let alone something like "the next pixel to the right
> points x degrees away from this one".
> 
> To make this work with rtrace, there would have to be a way to
> feed it this information seperately. I'm not sure if a global
> parameter would be enough, because I think it can vary quite a
> bit eg. for wide angle perspectives. On the other hand, allowing
> a seventh value with each line of input might be a non-trivial
> change.

I'd also consider the solid angle an (optional?) datum appended for each 
measuring point. Where it comes from is the user's problem. :^)
Haven't looked at the code which parses the input lines, but I'm sure it 
could be modified to handle an optional 7th datum before the newline. 
Its absence would indicate an inifinitesimal solid angle, which is what 
rtrace assumes right now. That should cater to backward compatibility.

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From radiance-dev@radiance-online.org  Tue Dec 30 11:09:27 2003
From: radiance-dev@radiance-online.org (=?iso-8859-1?Q?Patrik_M=FCller?=)
Date: Tue, 30 Dec 2003 12:09:27 +0100
Subject: [Radiance-dev] Problems with using VC6
Message-ID: <CGEKIDKIKLBNCLGHCDOHMEFECDAA.muellerptr@kimweb.de>

Hi all,

I'll try to build a Viewer like RShow for Windows. For this I've included
several files from the "src" path to my C++ project (the files mentioned in
the "filefmts.pdf"). The compiling seems to works but I still has a linking
error:

Linker-Vorgang luft...
   Bibliothek ../bin/TKIM_Radiance.lib und Objekt ../bin/TKIM_Radiance.exp
wird erstellt
sceneio.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
mesh.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
modobject.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
otypes.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
readoct.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
../bin/TKIM_Radiance.impd : fatal error LNK1120: 1 unaufgeloeste externe
Verweise
Fehler beim Ausfhren von link.exe.

I normally only use C++ and not C, so a hint would be very nice!

Best regards and have a nice year,

Patrik


From radiance-dev@radiance-online.org  Tue Dec 30 16:46:12 2003
From: radiance-dev@radiance-online.org (Christian Reetz)
Date: Tue, 30 Dec 2003 17:46:12 +0100
Subject: [Radiance-dev] (no subject)
Message-ID: <opr0z57achsut1cm@smpt.1und1.com>

Hi Patrik,

probably your C++ compiler isn't defining "__cplusplus" by default.
Therefore you should define it manually or remove the ifdef's around
the "extern "C"-line" and the corresponding "}" in the headers you are
using.

Hope this helps!

Christian


> Hi all,

> I'll try to build a Viewer like RShow for Windows. For this I've included
> several files from the "src" path to my C++ project (the files mentioned 
> in
> the "filefmts.pdf"). The compiling seems to works but I still has a 
> linking
> error:

> Linker-Vorgang luft...
    Bibliothek ../bin/TKIM_Radiance.lib und Objekt ../bin/TKIM_Radiance.exp
> wird erstellt
> sceneio.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> mesh.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> modobject.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> otypes.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> readoct.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> ../bin/TKIM_Radiance.impd : fatal error LNK1120: 1 unaufgeloeste externe
> Verweise
> Fehler beim Ausfhren von link.exe.

> I normally only use C++ and not C, so a hint would be very nice!

> Best regards and have a nice year,

> Patrik

From radiance-dev@radiance-online.org  Wed Dec 31 11:08:59 2003
From: radiance-dev@radiance-online.org (=?iso-8859-1?Q?Patrik_M=FCller?=)
Date: Wed, 31 Dec 2003 12:08:59 +0100
Subject: [Radiance-dev] RE: Problems with using VC6
In-Reply-To: <20031231110003.441.41449.Mailman@radiance-on-linux.org>
Message-ID: <CGEKIDKIKLBNCLGHCDOHAEFMCDAA.muellerptr@kimweb.de>

>Hi Patrik,

>probably your C++ compiler isn't defining "__cplusplus" by default.
>Therefore you should define it manually or remove the ifdef's around
>the "extern "C"-line" and the corresponding "}" in the headers you are
>using.

>Hope this helps!

>Christian


Hi Christian,

thanks for the idea. VC6 isn't the best compiler :-)) but I never had
problems with other C code like Lib3DS.

Greets,

Patrik


From radiance-dev@radiance-online.org  Wed Dec 31 11:59:01 2003
From: radiance-dev@radiance-online.org (Georg Mischler)
Date: Wed, 31 Dec 2003 06:59:01 -0500 (EST)
Subject: [Radiance-dev] Problems with using VC6
In-Reply-To: <CGEKIDKIKLBNCLGHCDOHMEFECDAA.muellerptr@kimweb.de>
References: <CGEKIDKIKLBNCLGHCDOHMEFECDAA.muellerptr@kimweb.de>
Message-ID: <Pine.BSF.4.58.0312310624540.49933@emancholl.pair.com>

Patrik Mller wrote:

> Hi all,
>
> I'll try to build a Viewer like RShow for Windows. For this I've included
> several files from the "src" path to my C++ project (the files mentioned in
> the "filefmts.pdf"). The compiling seems to works but I still has a linking
> error:
>
> Linker-Vorgang luft...
>    Bibliothek ../bin/TKIM_Radiance.lib und Objekt ../bin/TKIM_Radiance.exp
> wird erstellt
> sceneio.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> mesh.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> modobject.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> otypes.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> readoct.obj : error LNK2001: Nichtaufgeloestes externes Symbol _ofun
> ../bin/TKIM_Radiance.impd : fatal error LNK1120: 1 unaufgeloeste externe
> Verweise
> Fehler beim Ausfhren von link.exe.
>
> I normally only use C++ and not C, so a hint would be very nice!


This has nothing to do with C++ vs. C or your compiler version.

We have modified all header files earlier this year so that the
code should compile correctly with any conforming C/C++ compiler.
This also means that you should use the HEAD dump instead of the
outdated 3.5 release if you don't do this already.

What you need is the following definition somewhere:

FUN  ofun[NUMOTYPE] = INIT_OTYPE;

This statement is present in the sources for several Radiance
executables, as well as in src/rt/initotypes.c (linked into
src/lib/libradiance.a if you use the makeall script, and into
src/lib/librttrace.a if you use SCons) for use by the renderers.
The relevant declarations are in src/common/otypes.h.

Since SCons is platform-independent (most of Radiance compiles
fine with VC6 that way), I'd recommend to build Radiance with
this, and just use the resulting libraries for your project.
SCons automatically selects alternative code for some of the
platform specific functionality, so that you don't need to worry
about most unix APIs. Note that SCons also creates a different
and more granular set of libraries than the Rmakefiles, which
gives you more flexibility to link to just what you need.

The SCons build instructions and requirements can be found
somewhere in the archives here, but you can just ask if you need
any further explanations.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


