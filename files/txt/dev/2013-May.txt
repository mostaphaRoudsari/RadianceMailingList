From gmolina1 at uc.cl  Mon May 13 09:54:09 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Mon, 13 May 2013 12:54:09 -0400
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
Message-ID: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>

Dear List,

It is the first time I write in this list (the other list is the one I
usually use), and that is because I am not an experienced programmer.

Anyway, I am thinking on try a modified dctimestep, which requires some
Radiance Libraries. I was wondering if it was any simple way of compiling
it; like adding a line to the make file or something like that.

If not, I will try asking someone to teach me.

THANKS VERY MUCH

German
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/04b7250c/attachment.html>

From amcneil at lbl.gov  Mon May 13 11:12:48 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Mon, 13 May 2013 11:12:48 -0700
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
Message-ID: <CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>

Hi German,
If you're taking the dctimestep code and modifying it, than I'd recommend
duplicating all the dctimestep lines in ray/src/utilities/Rmakefile so that
you have entries that look something like this:

PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce

dctimestep_german: dctimestep_german.o
$(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)

dctimestep_german.o: ../common/standard.h \
../common/rtmisc.h ../common/rtio.h \
../common/rtmath.h ../common/mat4.h ../common/fvect.h \
../common/rterror.h ../common/platform.h ../common/paths.h \
../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h


Andy




On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:

> Dear List,
>
> It is the first time I write in this list (the other list is the one I
> usually use), and that is because I am not an experienced programmer.
>
> Anyway, I am thinking on try a modified dctimestep, which requires some
> Radiance Libraries. I was wondering if it was any simple way of compiling
> it; like adding a line to the make file or something like that.
>
> If not, I will try asking someone to teach me.
>
> THANKS VERY MUCH
>
> German
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/9832a767/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon May 13 11:33:13 2013
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 13 May 2013 12:33:13 -0600
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>

Not sure if you've used the CMake build system, but you'd need to modify the CMakeLists.txt file in a similar manner if you wish to use it for your project. Let me know if you want to go that route, I can help.

- Rob

From: Andrew McNeil [mailto:amcneil at lbl.gov]
Sent: Monday, May 13, 2013 12:13 PM
To: code development
Subject: Re: [Radiance-dev] Trying a new program based on Radiance libraries

Hi German,
If you're taking the dctimestep code and modifying it, than I'd recommend duplicating all the dctimestep lines in ray/src/utilities/Rmakefile so that you have entries that look something like this:

PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce

dctimestep_german: dctimestep_german.o
$(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)

dctimestep_german.o: ../common/standard.h \
../common/rtmisc.h ../common/rtio.h \
../common/rtmath.h ../common/mat4.h ../common/fvect.h \
../common/rterror.h ../common/platform.h ../common/paths.h \
../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h


Andy



On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl<mailto:gmolina1 at uc.cl>> wrote:
Dear List,

It is the first time I write in this list (the other list is the one I usually use), and that is because I am not an experienced programmer.

Anyway, I am thinking on try a modified dctimestep, which requires some Radiance Libraries. I was wondering if it was any simple way of compiling it; like adding a line to the make file or something like that.

If not, I will try asking someone to teach me.

THANKS VERY MUCH

German


_______________________________________________
Radiance-dev mailing list
Radiance-dev at radiance-online.org<mailto:Radiance-dev at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/9d51e9a1/attachment.html>

From gmolina1 at uc.cl  Mon May 13 12:28:55 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Mon, 13 May 2013 15:28:55 -0400
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
Message-ID: <CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>

As usual, Thanks Andy and Rob!

I will try Andy's advice, and if it does not work, I will try asking you,
Rob. I haven't ever play with compilers before, so Cmake and all that is
new for me.

THANKS VERY MUCH

German


2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>

> Not sure if you?ve used the CMake build system, but you?d need to modify
> the CMakeLists.txt file in a similar manner if you wish to use it for your
> project. Let me know if you want to go that route, I can help. ****
>
> ** **
>
> - Rob****
>
> ** **
>
> *From:* Andrew McNeil [mailto:amcneil at lbl.gov]
> *Sent:* Monday, May 13, 2013 12:13 PM
> *To:* code development
> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
> libraries****
>
> ** **
>
> Hi German,****
>
> If you're taking the dctimestep code and modifying it, than I'd recommend
> duplicating all the dctimestep lines in ray/src/utilities/Rmakefile so that
> you have entries that look something like this:****
>
> ** **
>
> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \*
> ***
>
> vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce****
>
> ** **
>
> dctimestep_german: dctimestep_german.o****
>
> $(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)**
> **
>
> ** **
>
> dctimestep_german.o: ../common/standard.h \****
>
> ../common/rtmisc.h ../common/rtio.h \****
>
> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \****
>
> ../common/rterror.h ../common/platform.h ../common/paths.h \****
>
> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h**
> **
>
> ** **
>
> ** **
>
> Andy****
>
> ** **
>
> ** **
>
> ** **
>
> On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>
> wrote:****
>
> Dear List, ****
>
> ** **
>
> It is the first time I write in this list (the other list is the one I
> usually use), and that is because I am not an experienced programmer.****
>
> ** **
>
> Anyway, I am thinking on try a modified dctimestep, which requires some
> Radiance Libraries. I was wondering if it was any simple way of compiling
> it; like adding a line to the make file or something like that.****
>
> ** **
>
> If not, I will try asking someone to teach me.****
>
> ** **
>
> THANKS VERY MUCH****
>
> ** **
>
> German****
>
> ** **
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>
> ** **
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/3ddd290d/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon May 13 12:40:59 2013
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 13 May 2013 13:40:59 -0600
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
	<CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3226113AABA7@MAILBOX2.nrel.gov>

If you're just wanting to compile a modified copy of dctimestep, Andy's advice is simplest. What he has you doing there is adding a build target for "dctimestep_german", so all you'd need to do once you have made your changes (and named the file dctimestep_german.c), is to drop into that directory and type "make dctimestep_german".

Good luck!

- Rob

From: Germ?n Molina Larrain [mailto:gmolina1 at uc.cl]
Sent: Monday, May 13, 2013 1:29 PM
To: code development
Subject: Re: [Radiance-dev] Trying a new program based on Radiance libraries

As usual, Thanks Andy and Rob!

I will try Andy's advice, and if it does not work, I will try asking you, Rob. I haven't ever play with compilers before, so Cmake and all that is new for me.

THANKS VERY MUCH

German

2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>>
Not sure if you've used the CMake build system, but you'd need to modify the CMakeLists.txt file in a similar manner if you wish to use it for your project. Let me know if you want to go that route, I can help.

- Rob

From: Andrew McNeil [mailto:amcneil at lbl.gov<mailto:amcneil at lbl.gov>]
Sent: Monday, May 13, 2013 12:13 PM
To: code development
Subject: Re: [Radiance-dev] Trying a new program based on Radiance libraries

Hi German,
If you're taking the dctimestep code and modifying it, than I'd recommend duplicating all the dctimestep lines in ray/src/utilities/Rmakefile so that you have entries that look something like this:

PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce

dctimestep_german: dctimestep_german.o
$(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)

dctimestep_german.o: ../common/standard.h \
../common/rtmisc.h ../common/rtio.h \
../common/rtmath.h ../common/mat4.h ../common/fvect.h \
../common/rterror.h ../common/platform.h ../common/paths.h \
../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h


Andy



On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl<mailto:gmolina1 at uc.cl>> wrote:
Dear List,

It is the first time I write in this list (the other list is the one I usually use), and that is because I am not an experienced programmer.

Anyway, I am thinking on try a modified dctimestep, which requires some Radiance Libraries. I was wondering if it was any simple way of compiling it; like adding a line to the make file or something like that.

If not, I will try asking someone to teach me.

THANKS VERY MUCH

German


_______________________________________________
Radiance-dev mailing list
Radiance-dev at radiance-online.org<mailto:Radiance-dev at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-dev


_______________________________________________
Radiance-dev mailing list
Radiance-dev at radiance-online.org<mailto:Radiance-dev at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/c92434f4/attachment-0001.html>

From gmolina1 at uc.cl  Mon May 13 13:48:57 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Mon, 13 May 2013 16:48:57 -0400
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA3226113AABA7@MAILBOX2.nrel.gov>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
	<CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AABA7@MAILBOX2.nrel.gov>
Message-ID: <CAF-iH4+ajhW78eDNfcVSK0XTHsR=cH9mWoyTvcZr2attVs6Eng@mail.gmail.com>

Ok, I tried what you told me...

Added the mkSchedule program... which is exactly a copy of dctimestep (just
changed the name).

PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
vwrays xglaresrc rsensor dctimestep *mkSchedule* rttree_reduce

*mkSchedule: mkSchedule.o*
$(CC) $(CFLAGS) -o *mkSchedule* *mkSchedule*.o -lrtrad $(MLIB)

*mkSchedule*.o: ../common/standard.h \
../common/rtmisc.h ../common/rtio.h \
../common/rtmath.h ../common/mat4.h ../common/fvect.h \
../common/rterror.h ../common/platform.h ../common/paths.h \
../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h

I compiled it, and it ended in "there were some errors". Both dctimestep
and mkSchedule have the same errors, but I cannot find my compiled
mkSchedule anywhere... it seems to disappear, and I cannont call it. Any
ideas for that?



Another question for you guys. My idea is to call a Lua function from
inside the code. So, I have tried simple things (without the Radiance
libraries), and I have to compile writing:

gcc -llua  -o mkSchedule mkSchedule.c

And adding some libraries adding:

#include "/usr/local/include/lua.h"
#include "/usr/local/include/luaconf.h"
#include "/usr/local/include/lualib.h"
#include "/usr/local/include/lauxlib.h"

Will these things work on the procedure you told me? Do I have to make some
other changes? I think I have to add all those "included" libraries in
the mkSchedule.o:
blah blah blah? Where do I add the -llua I have been using?

THANKS VERY MUCH

German




2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>

> If you?re just wanting to compile a modified copy of dctimestep, Andy?s
> advice is simplest. What he has you doing there is adding a build target
> for ?dctimestep_german?, so all you?d need to do once you have made your
> changes (and named the file dctimestep_german.c), is to drop into that
> directory and type ?make dctimestep_german?. ****
>
> ** **
>
> Good luck!****
>
> ** **
>
> - Rob****
>
> ** **
>
> *From:* Germ?n Molina Larrain [mailto:gmolina1 at uc.cl]
> *Sent:* Monday, May 13, 2013 1:29 PM
>
> *To:* code development
> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
> libraries****
>
> ** **
>
> As usual, Thanks Andy and Rob!****
>
> ** **
>
> I will try Andy's advice, and if it does not work, I will try asking you,
> Rob. I haven't ever play with compilers before, so Cmake and all that is
> new for me.****
>
> ** **
>
> THANKS VERY MUCH****
>
> ** **
>
> German****
>
> ** **
>
> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>****
>
> Not sure if you?ve used the CMake build system, but you?d need to modify
> the CMakeLists.txt file in a similar manner if you wish to use it for your
> project. Let me know if you want to go that route, I can help. ****
>
>  ****
>
> - Rob****
>
>  ****
>
> *From:* Andrew McNeil [mailto:amcneil at lbl.gov]
> *Sent:* Monday, May 13, 2013 12:13 PM
> *To:* code development
> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
> libraries****
>
>  ****
>
> Hi German,****
>
> If you're taking the dctimestep code and modifying it, than I'd recommend
> duplicating all the dctimestep lines in ray/src/utilities/Rmakefile so that
> you have entries that look something like this:****
>
>  ****
>
> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \*
> ***
>
> vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce****
>
>  ****
>
> dctimestep_german: dctimestep_german.o****
>
> $(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)**
> **
>
>  ****
>
> dctimestep_german.o: ../common/standard.h \****
>
> ../common/rtmisc.h ../common/rtio.h \****
>
> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \****
>
> ../common/rterror.h ../common/platform.h ../common/paths.h \****
>
> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h**
> **
>
>  ****
>
>  ****
>
> Andy****
>
>  ****
>
>  ****
>
>  ****
>
> On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>
> wrote:****
>
> Dear List, ****
>
>  ****
>
> It is the first time I write in this list (the other list is the one I
> usually use), and that is because I am not an experienced programmer.****
>
>  ****
>
> Anyway, I am thinking on try a modified dctimestep, which requires some
> Radiance Libraries. I was wondering if it was any simple way of compiling
> it; like adding a line to the make file or something like that.****
>
>  ****
>
> If not, I will try asking someone to teach me.****
>
>  ****
>
> THANKS VERY MUCH****
>
>  ****
>
> German****
>
>  ****
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>
>  ****
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>
> ** **
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/59e89617/attachment.html>

From gmolina1 at uc.cl  Mon May 13 13:57:28 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Mon, 13 May 2013 16:57:28 -0400
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <CAF-iH4+ajhW78eDNfcVSK0XTHsR=cH9mWoyTvcZr2attVs6Eng@mail.gmail.com>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
	<CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AABA7@MAILBOX2.nrel.gov>
	<CAF-iH4+ajhW78eDNfcVSK0XTHsR=cH9mWoyTvcZr2attVs6Eng@mail.gmail.com>
Message-ID: <CAF-iH4+pB7YP+-VtJ3ZJ5+1EjRScjM4fTq9ADxvOMURmnq1R7Q@mail.gmail.com>

These answers came when doing ./makeall install by the way...

When I do ./makeall dctimestep I get:

In directory util...
cc -I../common -I../rt -L../lib -O -DBSD -o dctimestep dctimestep.o -lrtrad
-lm
ld: library not found for -lrtrad
clang: error: linker command failed with exit code 1 (use -v to see
invocation)
make: *** [dctimestep] Error 1
/Applications/RADIANCE/ray/src
/Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src

and in mkSchedule

In directory util...
cc -I../common -I../rt -L../lib -O -DBSD   -c -o mkSchedule.o mkSchedule.c
clang: warning: argument unused during compilation: '-L../lib'
mkSchedule.c:174:19: warning: format specifies type 'double *' but the
argument
      has type 'COLORV *' (aka 'float *') [-Wformat]
                        if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
                                       ^        ~~
mkSchedule.c:30:66: note: expanded from macro 'COLSPEC'
#define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf %lf")
                                                               ~~^
mkSchedule.c:174:19: warning: format specifies type 'double *' but the
argument
      has type 'COLORV *' (aka 'float *') [-Wformat]
                        if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
                                       ^            ~~~~
mkSchedule.c:30:70: note: expanded from macro 'COLSPEC'
#define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf %lf")
                                                                   ~~^
mkSchedule.c:174:19: warning: format specifies type 'double *' but the
argument
      has type 'COLORV *' (aka 'float *') [-Wformat]
                        if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
                                       ^                  ~~~~
mkSchedule.c:30:74: note: expanded from macro 'COLSPEC'
#define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf %lf")
                                                                       ~~^
mkSchedule.c:178:7: warning: add explicit braces to avoid dangling else
      [-Wdangling-else]
                                } else
                                  ^
4 warnings generated.
cc -I../common -I../rt -L../lib -O -DBSD -o mkSchedule mkSchedule.o -lrtrad
-lm
ld: library not found for -lrtrad
clang: error: linker command failed with exit code 1 (use -v to see
invocation)
make: *** [mkSchedule] Error 1
/Applications/RADIANCE/ray/src
/Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src


Basically, when installing Radiance all over again, dctimestep and
mkSchedule have the same issues; but when compiling each of them
individually, only mkSchedule have problems.

I am sorry, but I do not even know what to ask in this case, but any
comment will be very accepted.

THANKS

German


2013/5/13 Germ?n Molina Larrain <gmolina1 at uc.cl>

> Ok, I tried what you told me...
>
> Added the mkSchedule program... which is exactly a copy of dctimestep
> (just changed the name).
>
> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
> vwrays xglaresrc rsensor dctimestep *mkSchedule* rttree_reduce
>
> *mkSchedule: mkSchedule.o*
> $(CC) $(CFLAGS) -o *mkSchedule* *mkSchedule*.o -lrtrad $(MLIB)
>
> *mkSchedule*.o: ../common/standard.h \
> ../common/rtmisc.h ../common/rtio.h \
> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \
> ../common/rterror.h ../common/platform.h ../common/paths.h \
> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h
>
> I compiled it, and it ended in "there were some errors". Both dctimestep
> and mkSchedule have the same errors, but I cannot find my compiled
> mkSchedule anywhere... it seems to disappear, and I cannont call it. Any
> ideas for that?
>
>
>
> Another question for you guys. My idea is to call a Lua function from
> inside the code. So, I have tried simple things (without the Radiance
> libraries), and I have to compile writing:
>
> gcc -llua  -o mkSchedule mkSchedule.c
>
> And adding some libraries adding:
>
> #include "/usr/local/include/lua.h"
> #include "/usr/local/include/luaconf.h"
> #include "/usr/local/include/lualib.h"
> #include "/usr/local/include/lauxlib.h"
>
> Will these things work on the procedure you told me? Do I have to make
> some other changes? I think I have to add all those "included" libraries in
> the mkSchedule.o: blah blah blah? Where do I add the -llua I have been
> using?
>
> THANKS VERY MUCH
>
> German
>
>
>
>
> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>
>> If you?re just wanting to compile a modified copy of dctimestep, Andy?s
>> advice is simplest. What he has you doing there is adding a build target
>> for ?dctimestep_german?, so all you?d need to do once you have made your
>> changes (and named the file dctimestep_german.c), is to drop into that
>> directory and type ?make dctimestep_german?. ****
>>
>> ** **
>>
>> Good luck!****
>>
>> ** **
>>
>> - Rob****
>>
>> ** **
>>
>> *From:* Germ?n Molina Larrain [mailto:gmolina1 at uc.cl]
>> *Sent:* Monday, May 13, 2013 1:29 PM
>>
>> *To:* code development
>> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
>> libraries****
>>
>> ** **
>>
>> As usual, Thanks Andy and Rob!****
>>
>> ** **
>>
>> I will try Andy's advice, and if it does not work, I will try asking you,
>> Rob. I haven't ever play with compilers before, so Cmake and all that is
>> new for me.****
>>
>> ** **
>>
>> THANKS VERY MUCH****
>>
>> ** **
>>
>> German****
>>
>> ** **
>>
>> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>****
>>
>> Not sure if you?ve used the CMake build system, but you?d need to modify
>> the CMakeLists.txt file in a similar manner if you wish to use it for your
>> project. Let me know if you want to go that route, I can help. ****
>>
>>  ****
>>
>> - Rob****
>>
>>  ****
>>
>> *From:* Andrew McNeil [mailto:amcneil at lbl.gov]
>> *Sent:* Monday, May 13, 2013 12:13 PM
>> *To:* code development
>> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
>> libraries****
>>
>>  ****
>>
>> Hi German,****
>>
>> If you're taking the dctimestep code and modifying it, than I'd recommend
>> duplicating all the dctimestep lines in ray/src/utilities/Rmakefile so that
>> you have entries that look something like this:****
>>
>>  ****
>>
>> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
>> ****
>>
>> vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce****
>>
>>  ****
>>
>> dctimestep_german: dctimestep_german.o****
>>
>> $(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)*
>> ***
>>
>>  ****
>>
>> dctimestep_german.o: ../common/standard.h \****
>>
>> ../common/rtmisc.h ../common/rtio.h \****
>>
>> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \****
>>
>> ../common/rterror.h ../common/platform.h ../common/paths.h \****
>>
>> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h*
>> ***
>>
>>  ****
>>
>>  ****
>>
>> Andy****
>>
>>  ****
>>
>>  ****
>>
>>  ****
>>
>> On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>
>> wrote:****
>>
>> Dear List, ****
>>
>>  ****
>>
>> It is the first time I write in this list (the other list is the one I
>> usually use), and that is because I am not an experienced programmer.****
>>
>>  ****
>>
>> Anyway, I am thinking on try a modified dctimestep, which requires some
>> Radiance Libraries. I was wondering if it was any simple way of compiling
>> it; like adding a line to the make file or something like that.****
>>
>>  ****
>>
>> If not, I will try asking someone to teach me.****
>>
>>  ****
>>
>> THANKS VERY MUCH****
>>
>>  ****
>>
>> German****
>>
>>  ****
>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>>
>>  ****
>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>>
>> ** **
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/fda22220/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Mon May 13 14:21:48 2013
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 13 May 2013 15:21:48 -0600
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <CAF-iH4+pB7YP+-VtJ3ZJ5+1EjRScjM4fTq9ADxvOMURmnq1R7Q@mail.gmail.com>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
	<CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AABA7@MAILBOX2.nrel.gov>
	<CAF-iH4+ajhW78eDNfcVSK0XTHsR=cH9mWoyTvcZr2attVs6Eng@mail.gmail.com>
	<CAF-iH4+pB7YP+-VtJ3ZJ5+1EjRScjM4fTq9ADxvOMURmnq1R7Q@mail.gmail.com>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3226113AABD1@MAILBOX2.nrel.gov>

Looks like there is a path issue with the libraries when trying it that way. I can show you offline how to do this with Cmake, but that may be more complicated than necessary. I'll let Andy or someone else more versed in make to weigh in.

From: Germ?n Molina Larrain [mailto:gmolina1 at uc.cl]
Sent: Monday, May 13, 2013 2:57 PM
To: code development
Subject: Re: [Radiance-dev] Trying a new program based on Radiance libraries

These answers came when doing ./makeall install by the way...

When I do ./makeall dctimestep I get:

In directory util...
cc -I../common -I../rt -L../lib -O -DBSD -o dctimestep dctimestep.o -lrtrad -lm
ld: library not found for -lrtrad
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [dctimestep] Error 1
/Applications/RADIANCE/ray/src
/Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src

and in mkSchedule

In directory util...
cc -I../common -I../rt -L../lib -O -DBSD   -c -o mkSchedule.o mkSchedule.c
clang: warning: argument unused during compilation: '-L../lib'
mkSchedule.c:174:19: warning: format specifies type 'double *' but the argument
      has type 'COLORV *' (aka 'float *') [-Wformat]
                        if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
                                       ^        ~~
mkSchedule.c:30:66: note: expanded from macro 'COLSPEC'
#define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf %lf")
                                                               ~~^
mkSchedule.c:174:19: warning: format specifies type 'double *' but the argument
      has type 'COLORV *' (aka 'float *') [-Wformat]
                        if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
                                       ^            ~~~~
mkSchedule.c:30:70: note: expanded from macro 'COLSPEC'
#define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf %lf")
                                                                   ~~^
mkSchedule.c:174:19: warning: format specifies type 'double *' but the argument
      has type 'COLORV *' (aka 'float *') [-Wformat]
                        if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
                                       ^                  ~~~~
mkSchedule.c:30:74: note: expanded from macro 'COLSPEC'
#define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf %lf")
                                                                       ~~^
mkSchedule.c:178:7: warning: add explicit braces to avoid dangling else
      [-Wdangling-else]
                                } else
                                  ^
4 warnings generated.
cc -I../common -I../rt -L../lib -O -DBSD -o mkSchedule mkSchedule.o -lrtrad -lm
ld: library not found for -lrtrad
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [mkSchedule] Error 1
/Applications/RADIANCE/ray/src
/Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src


Basically, when installing Radiance all over again, dctimestep and mkSchedule have the same issues; but when compiling each of them individually, only mkSchedule have problems.

I am sorry, but I do not even know what to ask in this case, but any comment will be very accepted.

THANKS

German

2013/5/13 Germ?n Molina Larrain <gmolina1 at uc.cl<mailto:gmolina1 at uc.cl>>
Ok, I tried what you told me...

Added the mkSchedule program... which is exactly a copy of dctimestep (just changed the name).

PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
vwrays xglaresrc rsensor dctimestep mkSchedule rttree_reduce

mkSchedule: mkSchedule.o
$(CC) $(CFLAGS) -o mkSchedule mkSchedule.o -lrtrad $(MLIB)

mkSchedule.o: ../common/standard.h \
../common/rtmisc.h ../common/rtio.h \
../common/rtmath.h ../common/mat4.h ../common/fvect.h \
../common/rterror.h ../common/platform.h ../common/paths.h \
../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h

I compiled it, and it ended in "there were some errors". Both dctimestep and mkSchedule have the same errors, but I cannot find my compiled mkSchedule anywhere... it seems to disappear, and I cannont call it. Any ideas for that?



Another question for you guys. My idea is to call a Lua function from inside the code. So, I have tried simple things (without the Radiance libraries), and I have to compile writing:

gcc -llua  -o mkSchedule mkSchedule.c

And adding some libraries adding:

#include "/usr/local/include/lua.h"
#include "/usr/local/include/luaconf.h"
#include "/usr/local/include/lualib.h"
#include "/usr/local/include/lauxlib.h"

Will these things work on the procedure you told me? Do I have to make some other changes? I think I have to add all those "included" libraries in the mkSchedule.o: blah blah blah? Where do I add the -llua I have been using?

THANKS VERY MUCH

German



2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>>
If you're just wanting to compile a modified copy of dctimestep, Andy's advice is simplest. What he has you doing there is adding a build target for "dctimestep_german", so all you'd need to do once you have made your changes (and named the file dctimestep_german.c), is to drop into that directory and type "make dctimestep_german".

Good luck!

- Rob

From: Germ?n Molina Larrain [mailto:gmolina1 at uc.cl<mailto:gmolina1 at uc.cl>]
Sent: Monday, May 13, 2013 1:29 PM

To: code development
Subject: Re: [Radiance-dev] Trying a new program based on Radiance libraries

As usual, Thanks Andy and Rob!

I will try Andy's advice, and if it does not work, I will try asking you, Rob. I haven't ever play with compilers before, so Cmake and all that is new for me.

THANKS VERY MUCH

German

2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>>
Not sure if you've used the CMake build system, but you'd need to modify the CMakeLists.txt file in a similar manner if you wish to use it for your project. Let me know if you want to go that route, I can help.

- Rob

From: Andrew McNeil [mailto:amcneil at lbl.gov<mailto:amcneil at lbl.gov>]
Sent: Monday, May 13, 2013 12:13 PM
To: code development
Subject: Re: [Radiance-dev] Trying a new program based on Radiance libraries

Hi German,
If you're taking the dctimestep code and modifying it, than I'd recommend duplicating all the dctimestep lines in ray/src/utilities/Rmakefile so that you have entries that look something like this:

PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce

dctimestep_german: dctimestep_german.o
$(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)

dctimestep_german.o: ../common/standard.h \
../common/rtmisc.h ../common/rtio.h \
../common/rtmath.h ../common/mat4.h ../common/fvect.h \
../common/rterror.h ../common/platform.h ../common/paths.h \
../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h


Andy



On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl<mailto:gmolina1 at uc.cl>> wrote:
Dear List,

It is the first time I write in this list (the other list is the one I usually use), and that is because I am not an experienced programmer.

Anyway, I am thinking on try a modified dctimestep, which requires some Radiance Libraries. I was wondering if it was any simple way of compiling it; like adding a line to the make file or something like that.

If not, I will try asking someone to teach me.

THANKS VERY MUCH

German


_______________________________________________
Radiance-dev mailing list
Radiance-dev at radiance-online.org<mailto:Radiance-dev at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-dev


_______________________________________________
Radiance-dev mailing list
Radiance-dev at radiance-online.org<mailto:Radiance-dev at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-dev


_______________________________________________
Radiance-dev mailing list
Radiance-dev at radiance-online.org<mailto:Radiance-dev at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-dev


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/f6a7aa3a/attachment-0001.html>

From gmolina1 at uc.cl  Mon May 13 14:25:33 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Mon, 13 May 2013 17:25:33 -0400
Subject: [Radiance-dev] [Radiance-general] BSDF reader
In-Reply-To: <CAOG+NiwcRCM0TBJxX2164XjGOmSPTdJOSRueSuaA=Xr9Pbzm6Q@mail.gmail.com>
References: <CAOhSWL4G4Vi8xfkCWjKi2_-b=BPJma47sDJUAU+taJQiDdvdXQ@mail.gmail.com>
	<6B069468-5FD9-4BF5-BB77-25B66447D0E6@lmi.net>
	<CAOG+NiwcRCM0TBJxX2164XjGOmSPTdJOSRueSuaA=Xr9Pbzm6Q@mail.gmail.com>
Message-ID: <CAF-iH4JB1Wa=KoDkq3MqP3XJ5pHwm9v8Woai_aCXto9QmAv6bg@mail.gmail.com>

Sorry to bring this topic back to life... but I am working with this kind
of stuff, but as usual, I prefer to make some sketches of the algorithms
first on Scilab or Matlab.

Anyways, my question is: I know how to load the BSDF matrix without much
trouble. However, I do not understand how the matrix written in the xml
file is converted in a Color Matrix.
Are they just grey matrices? is there any easy calculation?

If it is complicated just let me know, and I will make some trivial tests
on the algorithm before going into C.

THANKS

German



2013/4/22 Andrew McNeil <amcneil at lbl.gov>

> Hi Aitor,
>
> I recommend considering using the BSDF parser library from Radiance if you
> can.  The library has load and query routines to get everything you need.
>  It supports both Klems and TensorTree BSDFs without any need to
> differentiate between them your side.
>
> I used it for BSDF viewer, and it would have been a breeze if I didn't
> need to use Java Native Interface in the process.
>
> Andy
>
>
> On Mon, Apr 22, 2013 at 9:43 AM, Greg Ward <gregoryjward at gmail.com> wrote:
>
>> Hi Aitor,
>>
>> This question probably belongs on the radiance-dev list, so I am
>> cross-posting there and ask you to sign up (if you haven't already) and
>> respond on that list.  (Same goes for others -- thanks!)
>>
>> The data order in the file is a matrix running from smallest to largest
>> Klems patches, with the columns (inner loop data) corresponding to the
>> input directions.  This is verified by a tag in the "DataDefinition"
>> section that says:
>>
>> <IncidentDataStructure>Columns</IncidentDataStructure>
>>
>> If "Rows" appears there instead of Columns, then the outgoing directions
>> are the inner loop, but this would be unusual and probably not supported by
>> WINDOW.
>>
>> The units of a BSDF are 1/steradians.
>>
>> If you have the opportunity to link to C code, you may also use the
>> existing BSDF parser library included in the Radiance source tree to do the
>> data loading and interpretation.
>>
>> Best,
>> -Greg
>>
>> *From: *leceta <aitorleceta at gmail.com>
>>
>> *Date: *April 22, 2013 9:23:06 AM PDT
>>
>> *
>> *
>>
>> Hi all,
>>
>> i would like to write a BSDF/xml parser for Rhino/Grasshopper 3d
>> modelling software.
>>
>> In order to correctly interpret the data contained in <ScatteringData>
>> element in the xml file, i would appreciate to know:
>>
>> -The order of this data related to Klem?s patches. supposed that they are
>> measuremts for each input/output direction
>>
>> - The units of this data. Lumens? Percentage?
>>
>> thanks
>> aitor
>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/84f5c17f/attachment.html>

From amcneil at lbl.gov  Mon May 13 14:27:44 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Mon, 13 May 2013 14:27:44 -0700
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <CAF-iH4+pB7YP+-VtJ3ZJ5+1EjRScjM4fTq9ADxvOMURmnq1R7Q@mail.gmail.com>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
	<CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AABA7@MAILBOX2.nrel.gov>
	<CAF-iH4+ajhW78eDNfcVSK0XTHsR=cH9mWoyTvcZr2attVs6Eng@mail.gmail.com>
	<CAF-iH4+pB7YP+-VtJ3ZJ5+1EjRScjM4fTq9ADxvOMURmnq1R7Q@mail.gmail.com>
Message-ID: <CAOG+NiwaCqQ5hTs6cf=fNKPoObkehKHd7cY+NLW4XGpn4k=soA@mail.gmail.com>

German,

Can you send me your Rmakefile?  Makefiles are ultra sensitive to
formatting  - you need to use the right kind of whitespace...

I presume that the mkschedule warnings are specific to your code
implementation, so you might have to debug those.

Andy


On Mon, May 13, 2013 at 1:57 PM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:

> These answers came when doing ./makeall install by the way...
>
> When I do ./makeall dctimestep I get:
>
> In directory util...
> cc -I../common -I../rt -L../lib -O -DBSD -o dctimestep dctimestep.o
> -lrtrad -lm
> ld: library not found for -lrtrad
> clang: error: linker command failed with exit code 1 (use -v to see
> invocation)
>  make: *** [dctimestep] Error 1
> /Applications/RADIANCE/ray/src
> /Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src
>
> and in mkSchedule
>
> In directory util...
> cc -I../common -I../rt -L../lib -O -DBSD   -c -o mkSchedule.o mkSchedule.c
> clang: warning: argument unused during compilation: '-L../lib'
> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
> argument
>       has type 'COLORV *' (aka 'float *') [-Wformat]
>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>                                        ^        ~~
> mkSchedule.c:30:66: note: expanded from macro 'COLSPEC'
> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
> %lf")
>                                                                ~~^
> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
> argument
>       has type 'COLORV *' (aka 'float *') [-Wformat]
>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>                                        ^            ~~~~
> mkSchedule.c:30:70: note: expanded from macro 'COLSPEC'
> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
> %lf")
>                                                                    ~~^
> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
> argument
>       has type 'COLORV *' (aka 'float *') [-Wformat]
>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>                                        ^                  ~~~~
> mkSchedule.c:30:74: note: expanded from macro 'COLSPEC'
> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
> %lf")
>                                                                        ~~^
> mkSchedule.c:178:7: warning: add explicit braces to avoid dangling else
>       [-Wdangling-else]
>                                 } else
>                                   ^
> 4 warnings generated.
> cc -I../common -I../rt -L../lib -O -DBSD -o mkSchedule mkSchedule.o
> -lrtrad -lm
> ld: library not found for -lrtrad
> clang: error: linker command failed with exit code 1 (use -v to see
> invocation)
> make: *** [mkSchedule] Error 1
> /Applications/RADIANCE/ray/src
> /Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src
>
>
> Basically, when installing Radiance all over again, dctimestep and
> mkSchedule have the same issues; but when compiling each of them
> individually, only mkSchedule have problems.
>
> I am sorry, but I do not even know what to ask in this case, but any
> comment will be very accepted.
>
> THANKS
>
> German
>
>
> 2013/5/13 Germ?n Molina Larrain <gmolina1 at uc.cl>
>
>> Ok, I tried what you told me...
>>
>> Added the mkSchedule program... which is exactly a copy of dctimestep
>> (just changed the name).
>>
>> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
>> vwrays xglaresrc rsensor dctimestep *mkSchedule* rttree_reduce
>>
>> *mkSchedule: mkSchedule.o*
>> $(CC) $(CFLAGS) -o *mkSchedule* *mkSchedule*.o -lrtrad $(MLIB)
>>
>> *mkSchedule*.o: ../common/standard.h \
>> ../common/rtmisc.h ../common/rtio.h \
>> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \
>> ../common/rterror.h ../common/platform.h ../common/paths.h \
>> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h
>>
>> I compiled it, and it ended in "there were some errors". Both dctimestep
>> and mkSchedule have the same errors, but I cannot find my compiled
>> mkSchedule anywhere... it seems to disappear, and I cannont call it. Any
>> ideas for that?
>>
>>
>>
>> Another question for you guys. My idea is to call a Lua function from
>> inside the code. So, I have tried simple things (without the Radiance
>> libraries), and I have to compile writing:
>>
>> gcc -llua  -o mkSchedule mkSchedule.c
>>
>> And adding some libraries adding:
>>
>> #include "/usr/local/include/lua.h"
>> #include "/usr/local/include/luaconf.h"
>> #include "/usr/local/include/lualib.h"
>> #include "/usr/local/include/lauxlib.h"
>>
>> Will these things work on the procedure you told me? Do I have to make
>> some other changes? I think I have to add all those "included" libraries in
>> the mkSchedule.o: blah blah blah? Where do I add the -llua I have been
>> using?
>>
>> THANKS VERY MUCH
>>
>> German
>>
>>
>>
>>
>> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>>
>>> If you?re just wanting to compile a modified copy of dctimestep, Andy?s
>>> advice is simplest. What he has you doing there is adding a build target
>>> for ?dctimestep_german?, so all you?d need to do once you have made your
>>> changes (and named the file dctimestep_german.c), is to drop into that
>>> directory and type ?make dctimestep_german?. ****
>>>
>>> ** **
>>>
>>> Good luck!****
>>>
>>> ** **
>>>
>>> - Rob****
>>>
>>> ** **
>>>
>>> *From:* Germ?n Molina Larrain [mailto:gmolina1 at uc.cl]
>>> *Sent:* Monday, May 13, 2013 1:29 PM
>>>
>>> *To:* code development
>>> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
>>> libraries****
>>>
>>> ** **
>>>
>>> As usual, Thanks Andy and Rob!****
>>>
>>> ** **
>>>
>>> I will try Andy's advice, and if it does not work, I will try asking
>>> you, Rob. I haven't ever play with compilers before, so Cmake and all that
>>> is new for me.****
>>>
>>> ** **
>>>
>>> THANKS VERY MUCH****
>>>
>>> ** **
>>>
>>> German****
>>>
>>> ** **
>>>
>>> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>****
>>>
>>> Not sure if you?ve used the CMake build system, but you?d need to modify
>>> the CMakeLists.txt file in a similar manner if you wish to use it for your
>>> project. Let me know if you want to go that route, I can help. ****
>>>
>>>  ****
>>>
>>> - Rob****
>>>
>>>  ****
>>>
>>> *From:* Andrew McNeil [mailto:amcneil at lbl.gov]
>>> *Sent:* Monday, May 13, 2013 12:13 PM
>>> *To:* code development
>>> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
>>> libraries****
>>>
>>>  ****
>>>
>>> Hi German,****
>>>
>>> If you're taking the dctimestep code and modifying it, than I'd
>>> recommend duplicating all the dctimestep lines in
>>> ray/src/utilities/Rmakefile so that you have entries that look something
>>> like this:****
>>>
>>>  ****
>>>
>>> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
>>> ****
>>>
>>> vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce****
>>>
>>>  ****
>>>
>>> dctimestep_german: dctimestep_german.o****
>>>
>>> $(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)
>>> ****
>>>
>>>  ****
>>>
>>> dctimestep_german.o: ../common/standard.h \****
>>>
>>> ../common/rtmisc.h ../common/rtio.h \****
>>>
>>> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \****
>>>
>>> ../common/rterror.h ../common/platform.h ../common/paths.h \****
>>>
>>> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h
>>> ****
>>>
>>>  ****
>>>
>>>  ****
>>>
>>> Andy****
>>>
>>>  ****
>>>
>>>  ****
>>>
>>>  ****
>>>
>>> On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>
>>> wrote:****
>>>
>>> Dear List, ****
>>>
>>>  ****
>>>
>>> It is the first time I write in this list (the other list is the one I
>>> usually use), and that is because I am not an experienced programmer.***
>>> *
>>>
>>>  ****
>>>
>>> Anyway, I am thinking on try a modified dctimestep, which requires some
>>> Radiance Libraries. I was wondering if it was any simple way of compiling
>>> it; like adding a line to the make file or something like that.****
>>>
>>>  ****
>>>
>>> If not, I will try asking someone to teach me.****
>>>
>>>  ****
>>>
>>> THANKS VERY MUCH****
>>>
>>>  ****
>>>
>>> German****
>>>
>>>  ****
>>>
>>>
>>> _______________________________________________
>>> Radiance-dev mailing list
>>> Radiance-dev at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>>>
>>>  ****
>>>
>>>
>>> _______________________________________________
>>> Radiance-dev mailing list
>>> Radiance-dev at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>>>
>>> ** **
>>>
>>> _______________________________________________
>>> Radiance-dev mailing list
>>> Radiance-dev at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>
>>>
>>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/17024602/attachment-0001.html>

From amcneil at lbl.gov  Mon May 13 14:30:45 2013
From: amcneil at lbl.gov (Andrew McNeil)
Date: Mon, 13 May 2013 14:30:45 -0700
Subject: [Radiance-dev] [Radiance-general] BSDF reader
In-Reply-To: <CAF-iH4JB1Wa=KoDkq3MqP3XJ5pHwm9v8Woai_aCXto9QmAv6bg@mail.gmail.com>
References: <CAOhSWL4G4Vi8xfkCWjKi2_-b=BPJma47sDJUAU+taJQiDdvdXQ@mail.gmail.com>
	<6B069468-5FD9-4BF5-BB77-25B66447D0E6@lmi.net>
	<CAOG+NiwcRCM0TBJxX2164XjGOmSPTdJOSRueSuaA=Xr9Pbzm6Q@mail.gmail.com>
	<CAF-iH4JB1Wa=KoDkq3MqP3XJ5pHwm9v8Woai_aCXto9QmAv6bg@mail.gmail.com>
Message-ID: <CAOG+NiyDxrddPSCuqX32Pw+N6Ck4toHhYBwAhBXPwtw=_KDYog@mail.gmail.com>

German,
We have not implemented color in BSDF files yet.  The contain only
spectrally averaged visible and/or solar data.
Andy


On Mon, May 13, 2013 at 2:25 PM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:

> Sorry to bring this topic back to life... but I am working with this kind
> of stuff, but as usual, I prefer to make some sketches of the algorithms
> first on Scilab or Matlab.
>
> Anyways, my question is: I know how to load the BSDF matrix without much
> trouble. However, I do not understand how the matrix written in the xml
> file is converted in a Color Matrix.
> Are they just grey matrices? is there any easy calculation?
>
> If it is complicated just let me know, and I will make some trivial tests
> on the algorithm before going into C.
>
> THANKS
>
> German
>
>
>
> 2013/4/22 Andrew McNeil <amcneil at lbl.gov>
>
>> Hi Aitor,
>>
>> I recommend considering using the BSDF parser library from Radiance if
>> you can.  The library has load and query routines to get everything you
>> need.  It supports both Klems and TensorTree BSDFs without any need to
>> differentiate between them your side.
>>
>> I used it for BSDF viewer, and it would have been a breeze if I didn't
>> need to use Java Native Interface in the process.
>>
>> Andy
>>
>>
>> On Mon, Apr 22, 2013 at 9:43 AM, Greg Ward <gregoryjward at gmail.com>wrote:
>>
>>> Hi Aitor,
>>>
>>> This question probably belongs on the radiance-dev list, so I am
>>> cross-posting there and ask you to sign up (if you haven't already) and
>>> respond on that list.  (Same goes for others -- thanks!)
>>>
>>> The data order in the file is a matrix running from smallest to largest
>>> Klems patches, with the columns (inner loop data) corresponding to the
>>> input directions.  This is verified by a tag in the "DataDefinition"
>>> section that says:
>>>
>>> <IncidentDataStructure>Columns</IncidentDataStructure>
>>>
>>> If "Rows" appears there instead of Columns, then the outgoing directions
>>> are the inner loop, but this would be unusual and probably not supported by
>>> WINDOW.
>>>
>>> The units of a BSDF are 1/steradians.
>>>
>>> If you have the opportunity to link to C code, you may also use the
>>> existing BSDF parser library included in the Radiance source tree to do the
>>> data loading and interpretation.
>>>
>>> Best,
>>> -Greg
>>>
>>> *From: *leceta <aitorleceta at gmail.com>
>>>
>>> *Date: *April 22, 2013 9:23:06 AM PDT
>>>
>>> *
>>> *
>>>
>>> Hi all,
>>>
>>> i would like to write a BSDF/xml parser for Rhino/Grasshopper 3d
>>> modelling software.
>>>
>>> In order to correctly interpret the data contained in <ScatteringData>
>>> element in the xml file, i would appreciate to know:
>>>
>>> -The order of this data related to Klem?s patches. supposed that they
>>> are measuremts for each input/output direction
>>>
>>> - The units of this data. Lumens? Percentage?
>>>
>>> thanks
>>> aitor
>>>
>>>
>>> _______________________________________________
>>> Radiance-dev mailing list
>>> Radiance-dev at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>
>>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/4e043ea7/attachment.html>

From gmolina1 at uc.cl  Mon May 13 14:55:57 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Mon, 13 May 2013 17:55:57 -0400
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <CAOG+NiwaCqQ5hTs6cf=fNKPoObkehKHd7cY+NLW4XGpn4k=soA@mail.gmail.com>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
	<CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AABA7@MAILBOX2.nrel.gov>
	<CAF-iH4+ajhW78eDNfcVSK0XTHsR=cH9mWoyTvcZr2attVs6Eng@mail.gmail.com>
	<CAF-iH4+pB7YP+-VtJ3ZJ5+1EjRScjM4fTq9ADxvOMURmnq1R7Q@mail.gmail.com>
	<CAOG+NiwaCqQ5hTs6cf=fNKPoObkehKHd7cY+NLW4XGpn4k=soA@mail.gmail.com>
Message-ID: <CAF-iH4JDzpyv1fsktNymo-fdQZVE=Qefc+QdqFJMS1oNNsvOmw@mail.gmail.com>

Andy,

I will send it to your e-mail.

THANKS Andy and Rob!

German


2013/5/13 Andrew McNeil <amcneil at lbl.gov>

> German,
>
> Can you send me your Rmakefile?  Makefiles are ultra sensitive to
> formatting  - you need to use the right kind of whitespace...
>
> I presume that the mkschedule warnings are specific to your code
> implementation, so you might have to debug those.
>
> Andy
>
>
> On Mon, May 13, 2013 at 1:57 PM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:
>
>> These answers came when doing ./makeall install by the way...
>>
>> When I do ./makeall dctimestep I get:
>>
>> In directory util...
>> cc -I../common -I../rt -L../lib -O -DBSD -o dctimestep dctimestep.o
>> -lrtrad -lm
>> ld: library not found for -lrtrad
>> clang: error: linker command failed with exit code 1 (use -v to see
>> invocation)
>>  make: *** [dctimestep] Error 1
>> /Applications/RADIANCE/ray/src
>> /Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src
>>
>> and in mkSchedule
>>
>> In directory util...
>> cc -I../common -I../rt -L../lib -O -DBSD   -c -o mkSchedule.o mkSchedule.c
>> clang: warning: argument unused during compilation: '-L../lib'
>> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
>> argument
>>       has type 'COLORV *' (aka 'float *') [-Wformat]
>>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>>                                        ^        ~~
>> mkSchedule.c:30:66: note: expanded from macro 'COLSPEC'
>> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
>> %lf")
>>                                                                ~~^
>> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
>> argument
>>       has type 'COLORV *' (aka 'float *') [-Wformat]
>>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>>                                        ^            ~~~~
>> mkSchedule.c:30:70: note: expanded from macro 'COLSPEC'
>> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
>> %lf")
>>                                                                    ~~^
>> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
>> argument
>>       has type 'COLORV *' (aka 'float *') [-Wformat]
>>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>>                                        ^                  ~~~~
>> mkSchedule.c:30:74: note: expanded from macro 'COLSPEC'
>> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
>> %lf")
>>                                                                        ~~^
>> mkSchedule.c:178:7: warning: add explicit braces to avoid dangling else
>>       [-Wdangling-else]
>>                                 } else
>>                                   ^
>> 4 warnings generated.
>> cc -I../common -I../rt -L../lib -O -DBSD -o mkSchedule mkSchedule.o
>> -lrtrad -lm
>> ld: library not found for -lrtrad
>> clang: error: linker command failed with exit code 1 (use -v to see
>> invocation)
>> make: *** [mkSchedule] Error 1
>> /Applications/RADIANCE/ray/src
>> /Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src
>>
>>
>> Basically, when installing Radiance all over again, dctimestep and
>> mkSchedule have the same issues; but when compiling each of them
>> individually, only mkSchedule have problems.
>>
>> I am sorry, but I do not even know what to ask in this case, but any
>> comment will be very accepted.
>>
>> THANKS
>>
>> German
>>
>>
>> 2013/5/13 Germ?n Molina Larrain <gmolina1 at uc.cl>
>>
>>> Ok, I tried what you told me...
>>>
>>> Added the mkSchedule program... which is exactly a copy of dctimestep
>>> (just changed the name).
>>>
>>> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
>>> vwrays xglaresrc rsensor dctimestep *mkSchedule* rttree_reduce
>>>
>>> *mkSchedule: mkSchedule.o*
>>> $(CC) $(CFLAGS) -o *mkSchedule* *mkSchedule*.o -lrtrad $(MLIB)
>>>
>>> *mkSchedule*.o: ../common/standard.h \
>>> ../common/rtmisc.h ../common/rtio.h \
>>> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \
>>> ../common/rterror.h ../common/platform.h ../common/paths.h \
>>> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h
>>>
>>> I compiled it, and it ended in "there were some errors". Both dctimestep
>>> and mkSchedule have the same errors, but I cannot find my compiled
>>> mkSchedule anywhere... it seems to disappear, and I cannont call it. Any
>>> ideas for that?
>>>
>>>
>>>
>>> Another question for you guys. My idea is to call a Lua function from
>>> inside the code. So, I have tried simple things (without the Radiance
>>> libraries), and I have to compile writing:
>>>
>>> gcc -llua  -o mkSchedule mkSchedule.c
>>>
>>> And adding some libraries adding:
>>>
>>> #include "/usr/local/include/lua.h"
>>> #include "/usr/local/include/luaconf.h"
>>> #include "/usr/local/include/lualib.h"
>>> #include "/usr/local/include/lauxlib.h"
>>>
>>> Will these things work on the procedure you told me? Do I have to make
>>> some other changes? I think I have to add all those "included" libraries in
>>> the mkSchedule.o: blah blah blah? Where do I add the -llua I have been
>>> using?
>>>
>>> THANKS VERY MUCH
>>>
>>> German
>>>
>>>
>>>
>>>
>>> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>>>
>>>> If you?re just wanting to compile a modified copy of dctimestep, Andy?s
>>>> advice is simplest. What he has you doing there is adding a build target
>>>> for ?dctimestep_german?, so all you?d need to do once you have made your
>>>> changes (and named the file dctimestep_german.c), is to drop into that
>>>> directory and type ?make dctimestep_german?. ****
>>>>
>>>> ** **
>>>>
>>>> Good luck!****
>>>>
>>>> ** **
>>>>
>>>> - Rob****
>>>>
>>>> ** **
>>>>
>>>> *From:* Germ?n Molina Larrain [mailto:gmolina1 at uc.cl]
>>>> *Sent:* Monday, May 13, 2013 1:29 PM
>>>>
>>>> *To:* code development
>>>> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
>>>> libraries****
>>>>
>>>> ** **
>>>>
>>>> As usual, Thanks Andy and Rob!****
>>>>
>>>> ** **
>>>>
>>>> I will try Andy's advice, and if it does not work, I will try asking
>>>> you, Rob. I haven't ever play with compilers before, so Cmake and all that
>>>> is new for me.****
>>>>
>>>> ** **
>>>>
>>>> THANKS VERY MUCH****
>>>>
>>>> ** **
>>>>
>>>> German****
>>>>
>>>> ** **
>>>>
>>>> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>****
>>>>
>>>> Not sure if you?ve used the CMake build system, but you?d need to
>>>> modify the CMakeLists.txt file in a similar manner if you wish to use it
>>>> for your project. Let me know if you want to go that route, I can help.
>>>> ****
>>>>
>>>>  ****
>>>>
>>>> - Rob****
>>>>
>>>>  ****
>>>>
>>>> *From:* Andrew McNeil [mailto:amcneil at lbl.gov]
>>>> *Sent:* Monday, May 13, 2013 12:13 PM
>>>> *To:* code development
>>>> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
>>>> libraries****
>>>>
>>>>  ****
>>>>
>>>> Hi German,****
>>>>
>>>> If you're taking the dctimestep code and modifying it, than I'd
>>>> recommend duplicating all the dctimestep lines in
>>>> ray/src/utilities/Rmakefile so that you have entries that look something
>>>> like this:****
>>>>
>>>>  ****
>>>>
>>>> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo
>>>> \****
>>>>
>>>> vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce****
>>>>
>>>>  ****
>>>>
>>>> dctimestep_german: dctimestep_german.o****
>>>>
>>>> $(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)
>>>> ****
>>>>
>>>>  ****
>>>>
>>>> dctimestep_german.o: ../common/standard.h \****
>>>>
>>>> ../common/rtmisc.h ../common/rtio.h \****
>>>>
>>>> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \****
>>>>
>>>> ../common/rterror.h ../common/platform.h ../common/paths.h \****
>>>>
>>>> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h
>>>> ****
>>>>
>>>>  ****
>>>>
>>>>  ****
>>>>
>>>> Andy****
>>>>
>>>>  ****
>>>>
>>>>  ****
>>>>
>>>>  ****
>>>>
>>>> On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>> wrote:****
>>>>
>>>> Dear List, ****
>>>>
>>>>  ****
>>>>
>>>> It is the first time I write in this list (the other list is the one I
>>>> usually use), and that is because I am not an experienced programmer.**
>>>> **
>>>>
>>>>  ****
>>>>
>>>> Anyway, I am thinking on try a modified dctimestep, which requires some
>>>> Radiance Libraries. I was wondering if it was any simple way of compiling
>>>> it; like adding a line to the make file or something like that.****
>>>>
>>>>  ****
>>>>
>>>> If not, I will try asking someone to teach me.****
>>>>
>>>>  ****
>>>>
>>>> THANKS VERY MUCH****
>>>>
>>>>  ****
>>>>
>>>> German****
>>>>
>>>>  ****
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>>>>
>>>>  ****
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>>>>
>>>> ** **
>>>>
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>>
>>>>
>>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130513/7a8763da/attachment-0001.html>

From gmolina1 at uc.cl  Tue May 14 06:29:40 2013
From: gmolina1 at uc.cl (=?ISO-8859-1?Q?Germ=E1n_Molina_Larrain?=)
Date: Tue, 14 May 2013 09:29:40 -0400
Subject: [Radiance-dev] Trying a new program based on Radiance libraries
In-Reply-To: <CAOG+NiwaCqQ5hTs6cf=fNKPoObkehKHd7cY+NLW4XGpn4k=soA@mail.gmail.com>
References: <CAF-iH4KfMdwv0w93mAcrL5bweCtFGE04kKQQoUiDrHhfAGONFA@mail.gmail.com>
	<CAOG+Niw=vLnbkCbtFZ8kBPc=NTun_ucdDF1xS2P6VvpcyAbE5g@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AAB94@MAILBOX2.nrel.gov>
	<CAF-iH4Jd6Rfk1JYqmewQ4+PvbR2gT7BJiM0iv-BYnO9LJ7q72w@mail.gmail.com>
	<FFF56A6D37A3A54F91A03601AC22DA3226113AABA7@MAILBOX2.nrel.gov>
	<CAF-iH4+ajhW78eDNfcVSK0XTHsR=cH9mWoyTvcZr2attVs6Eng@mail.gmail.com>
	<CAF-iH4+pB7YP+-VtJ3ZJ5+1EjRScjM4fTq9ADxvOMURmnq1R7Q@mail.gmail.com>
	<CAOG+NiwaCqQ5hTs6cf=fNKPoObkehKHd7cY+NLW4XGpn4k=soA@mail.gmail.com>
Message-ID: <CAF-iH4JQfmrwcLy_4F0ka5DDBvdQN5FXYEkCzPmbZF6m_OuroQ@mail.gmail.com>

Hello again everyone,

I downloaded the Head version of today, and managed to compile a copy of
dctimestep.

THANKS VERY MUCH

German


2013/5/13 Andrew McNeil <amcneil at lbl.gov>

> German,
>
> Can you send me your Rmakefile?  Makefiles are ultra sensitive to
> formatting  - you need to use the right kind of whitespace...
>
> I presume that the mkschedule warnings are specific to your code
> implementation, so you might have to debug those.
>
> Andy
>
>
> On Mon, May 13, 2013 at 1:57 PM, Germ?n Molina Larrain <gmolina1 at uc.cl>wrote:
>
>> These answers came when doing ./makeall install by the way...
>>
>> When I do ./makeall dctimestep I get:
>>
>> In directory util...
>> cc -I../common -I../rt -L../lib -O -DBSD -o dctimestep dctimestep.o
>> -lrtrad -lm
>> ld: library not found for -lrtrad
>> clang: error: linker command failed with exit code 1 (use -v to see
>> invocation)
>>  make: *** [dctimestep] Error 1
>> /Applications/RADIANCE/ray/src
>> /Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src
>>
>> and in mkSchedule
>>
>> In directory util...
>> cc -I../common -I../rt -L../lib -O -DBSD   -c -o mkSchedule.o mkSchedule.c
>> clang: warning: argument unused during compilation: '-L../lib'
>> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
>> argument
>>       has type 'COLORV *' (aka 'float *') [-Wformat]
>>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>>                                        ^        ~~
>> mkSchedule.c:30:66: note: expanded from macro 'COLSPEC'
>> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
>> %lf")
>>                                                                ~~^
>> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
>> argument
>>       has type 'COLORV *' (aka 'float *') [-Wformat]
>>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>>                                        ^            ~~~~
>> mkSchedule.c:30:70: note: expanded from macro 'COLSPEC'
>> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
>> %lf")
>>                                                                    ~~^
>> mkSchedule.c:174:19: warning: format specifies type 'double *' but the
>> argument
>>       has type 'COLORV *' (aka 'float *') [-Wformat]
>>                         if (fscanf(fp, COLSPEC, cv, cv+1, cv+2) != 3)
>>                                        ^                  ~~~~
>> mkSchedule.c:30:74: note: expanded from macro 'COLSPEC'
>> #define COLSPEC (sizeof(COLORV)==sizeof(float) ? "%f %f %f" : "%lf %lf
>> %lf")
>>                                                                        ~~^
>> mkSchedule.c:178:7: warning: add explicit braces to avoid dangling else
>>       [-Wdangling-else]
>>                                 } else
>>                                   ^
>> 4 warnings generated.
>> cc -I../common -I../rt -L../lib -O -DBSD -o mkSchedule mkSchedule.o
>> -lrtrad -lm
>> ld: library not found for -lrtrad
>> clang: error: linker command failed with exit code 1 (use -v to see
>> invocation)
>> make: *** [mkSchedule] Error 1
>> /Applications/RADIANCE/ray/src
>> /Applications/RADIANCE/ray/src/cal /Applications/RADIANCE/ray/src
>>
>>
>> Basically, when installing Radiance all over again, dctimestep and
>> mkSchedule have the same issues; but when compiling each of them
>> individually, only mkSchedule have problems.
>>
>> I am sorry, but I do not even know what to ask in this case, but any
>> comment will be very accepted.
>>
>> THANKS
>>
>> German
>>
>>
>> 2013/5/13 Germ?n Molina Larrain <gmolina1 at uc.cl>
>>
>>> Ok, I tried what you told me...
>>>
>>> Added the mkSchedule program... which is exactly a copy of dctimestep
>>> (just changed the name).
>>>
>>> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
>>> vwrays xglaresrc rsensor dctimestep *mkSchedule* rttree_reduce
>>>
>>> *mkSchedule: mkSchedule.o*
>>> $(CC) $(CFLAGS) -o *mkSchedule* *mkSchedule*.o -lrtrad $(MLIB)
>>>
>>> *mkSchedule*.o: ../common/standard.h \
>>> ../common/rtmisc.h ../common/rtio.h \
>>> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \
>>> ../common/rterror.h ../common/platform.h ../common/paths.h \
>>> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h
>>>
>>> I compiled it, and it ended in "there were some errors". Both dctimestep
>>> and mkSchedule have the same errors, but I cannot find my compiled
>>> mkSchedule anywhere... it seems to disappear, and I cannont call it. Any
>>> ideas for that?
>>>
>>>
>>>
>>> Another question for you guys. My idea is to call a Lua function from
>>> inside the code. So, I have tried simple things (without the Radiance
>>> libraries), and I have to compile writing:
>>>
>>> gcc -llua  -o mkSchedule mkSchedule.c
>>>
>>> And adding some libraries adding:
>>>
>>> #include "/usr/local/include/lua.h"
>>> #include "/usr/local/include/luaconf.h"
>>> #include "/usr/local/include/lualib.h"
>>> #include "/usr/local/include/lauxlib.h"
>>>
>>> Will these things work on the procedure you told me? Do I have to make
>>> some other changes? I think I have to add all those "included" libraries in
>>> the mkSchedule.o: blah blah blah? Where do I add the -llua I have been
>>> using?
>>>
>>> THANKS VERY MUCH
>>>
>>> German
>>>
>>>
>>>
>>>
>>> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
>>>
>>>> If you?re just wanting to compile a modified copy of dctimestep, Andy?s
>>>> advice is simplest. What he has you doing there is adding a build target
>>>> for ?dctimestep_german?, so all you?d need to do once you have made your
>>>> changes (and named the file dctimestep_german.c), is to drop into that
>>>> directory and type ?make dctimestep_german?. ****
>>>>
>>>> ** **
>>>>
>>>> Good luck!****
>>>>
>>>> ** **
>>>>
>>>> - Rob****
>>>>
>>>> ** **
>>>>
>>>> *From:* Germ?n Molina Larrain [mailto:gmolina1 at uc.cl]
>>>> *Sent:* Monday, May 13, 2013 1:29 PM
>>>>
>>>> *To:* code development
>>>> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
>>>> libraries****
>>>>
>>>> ** **
>>>>
>>>> As usual, Thanks Andy and Rob!****
>>>>
>>>> ** **
>>>>
>>>> I will try Andy's advice, and if it does not work, I will try asking
>>>> you, Rob. I haven't ever play with compilers before, so Cmake and all that
>>>> is new for me.****
>>>>
>>>> ** **
>>>>
>>>> THANKS VERY MUCH****
>>>>
>>>> ** **
>>>>
>>>> German****
>>>>
>>>> ** **
>>>>
>>>> 2013/5/13 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>****
>>>>
>>>> Not sure if you?ve used the CMake build system, but you?d need to
>>>> modify the CMakeLists.txt file in a similar manner if you wish to use it
>>>> for your project. Let me know if you want to go that route, I can help.
>>>> ****
>>>>
>>>>  ****
>>>>
>>>> - Rob****
>>>>
>>>>  ****
>>>>
>>>> *From:* Andrew McNeil [mailto:amcneil at lbl.gov]
>>>> *Sent:* Monday, May 13, 2013 12:13 PM
>>>> *To:* code development
>>>> *Subject:* Re: [Radiance-dev] Trying a new program based on Radiance
>>>> libraries****
>>>>
>>>>  ****
>>>>
>>>> Hi German,****
>>>>
>>>> If you're taking the dctimestep code and modifying it, than I'd
>>>> recommend duplicating all the dctimestep lines in
>>>> ray/src/utilities/Rmakefile so that you have entries that look something
>>>> like this:****
>>>>
>>>>  ****
>>>>
>>>> PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo
>>>> \****
>>>>
>>>> vwrays xglaresrc rsensor dctimestep dctimestep_german rttree_reduce****
>>>>
>>>>  ****
>>>>
>>>> dctimestep_german: dctimestep_german.o****
>>>>
>>>> $(CC) $(CFLAGS) -o dctimestep_german dctimestep_german.o -lrtrad $(MLIB)
>>>> ****
>>>>
>>>>  ****
>>>>
>>>> dctimestep_german.o: ../common/standard.h \****
>>>>
>>>> ../common/rtmisc.h ../common/rtio.h \****
>>>>
>>>> ../common/rtmath.h ../common/mat4.h ../common/fvect.h \****
>>>>
>>>> ../common/rterror.h ../common/platform.h ../common/paths.h \****
>>>>
>>>> ../common/color.h ../common/bsdf.h ../common/bsdf_m.h ../common/resolu.h
>>>> ****
>>>>
>>>>  ****
>>>>
>>>>  ****
>>>>
>>>> Andy****
>>>>
>>>>  ****
>>>>
>>>>  ****
>>>>
>>>>  ****
>>>>
>>>> On Mon, May 13, 2013 at 9:54 AM, Germ?n Molina Larrain <gmolina1 at uc.cl>
>>>> wrote:****
>>>>
>>>> Dear List, ****
>>>>
>>>>  ****
>>>>
>>>> It is the first time I write in this list (the other list is the one I
>>>> usually use), and that is because I am not an experienced programmer.**
>>>> **
>>>>
>>>>  ****
>>>>
>>>> Anyway, I am thinking on try a modified dctimestep, which requires some
>>>> Radiance Libraries. I was wondering if it was any simple way of compiling
>>>> it; like adding a line to the make file or something like that.****
>>>>
>>>>  ****
>>>>
>>>> If not, I will try asking someone to teach me.****
>>>>
>>>>  ****
>>>>
>>>> THANKS VERY MUCH****
>>>>
>>>>  ****
>>>>
>>>> German****
>>>>
>>>>  ****
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>>>>
>>>>  ****
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev****
>>>>
>>>> ** **
>>>>
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>>
>>>>
>>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20130514/43df12f4/attachment-0001.html>

