From tbleicher at gmail.com  Mon Jun 23 06:29:08 2014
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Mon, 23 Jun 2014 08:29:08 -0500
Subject: [Radiance-dev] Create Octree File from SU2RAD
In-Reply-To: <158985743D5CE54688E6CF19C8E97845568359077B@UKCBGEX01.cbg.local>
References: <158985743D5CE54688E6CF19C8E978455683590717@UKCBGEX01.cbg.local>
	<CAKGV-k2QwBTYFovt80zU_Ym-tERtuS3uxZSrrE4c_VEBgU8MZQ@mail.gmail.com>
	<158985743D5CE54688E6CF19C8E97845568359077B@UKCBGEX01.cbg.local>
Message-ID: <CAKGV-k1qPbAJubyrBTfcoLtkwvhh2RnKFAqGdnX_Vg8Uxt7myQ@mail.gmail.com>

Interesting.

It seems that your rad version is out of sync with the oconv version and
produces commands that are not compatible with oconv. Can you check which
binary you are using? The commands are:

where rad
where oconv


Both should point to binaries in the same directory. Perhaps the rad binary
for Windows has not been updated along with the other apps.

To solve your problem you can save the commands that rad would execute into
a batch file and then manually remove the -sj option from the oconv command
lines with a text editor:

rad -n test.rif > rad_commands.bat


The -n option tells rad to list the generated commands but not to execute
them.

BTW: It's quite normal not to have any "render=" options in the rif file
generated by su2rad. They only show up when you use one of the option
overrides (the check boxes in export interface).

Regards,
Thomas


On Mon, Jun 23, 2014 at 2:44 AM, Thompson, Ross <rt at cbgc.com> wrote:

>  Hi Thomas,
>
>
>
> Thanks for this. The *.rif file that gets exported doesn?t specify any
> options for ?Render =? this is possibly the real cause of the problem.
>
>
>
> See below for the code, there is just a blank on that line.
>
>
>
> Ross
>
>
>
> # scene options file for rad
>
>
>
> QUALITY=     medium
>
> DETAIL=      medium
>
> VARIABILITY= medium
>
> INDIRECT=    2
>
> PENUMBRAS=   true
>
>
>
> PICTURE=     images/ExampleModel
>
> RESOLUTION=  1916 848
>
> ZONE=        exterior 0 42.6 0 42.6 0 42.6
>
> EXPOSURE=    -2
>
>
>
> REPORT=      0 logfiles/test.log
>
> AMBFILE=     ambfiles/test.amb
>
> OCTREE=      octrees/test.oct
>
> scene=       test.rad
>
>
>
> render=
>
>
>
> oconv=      -w
>
>
>
> materials=    materials.rad
>
>
>
> view=  test -vf views/test.vf
>
>
>
> objects=              skies/Oxford_1108_1330.sky
>
> ## scene object files (total=8)
>
> objects=              objects/light4extfloor.rad
> objects/light4extwall.rad             objects/light4intceiling.rad
>
> objects=              objects/light4intfloor.rad
> objects/light4intwall.rad               objects/light4lightshelf.rad
>
> objects=              objects/light4windowframe.rad
> objects/light4windowglass.rad
>
>
>
>
>
>
>
> Ross Thompson
>
> Senior Sustainability & Energy Engineer
>
> T: 01865 864500
>
>
> *Oxford:*
> South House
> 3 Farmoor Court
> Cumnor Road
> Oxford OX2 9LU
> *Phone*: 01865 864500
> *Fax*:  01865 864584
> *Email*: oxf at cbgc.com
>
> *London:*
> Lector Court
> 151-153 Farringdon Road
> London EC1R 3AF
> *Phone*: 0207 833 8815
> *Fax*: 0203 302 0050
> *Email*: lon at cbgc.com
>
>
> *For the latest CBG news visit **www.cbgc.com* <http://www.cbgc.com>
>          [image: CBGConsultantsltd Facebook]
> <http://facebook.com/cbgconsultantsltd> [image: CBG Consultants Twitter]
> <http://twitter.com/CBGConsultants>
>
> CBG Consultants Ltd Registered No. 538 4147/VAT Registration No. 860 3120
> 63
>
>
>
>
> *Please consider the environment - do you really need to print this email?*
>
>
> The views expressed in this e-mail are those of the sender and not
> necessarily those of CBG Consultants.
>
>
> The content of this email is private and may be confidential for the
> intended recipient only. If misdirected, please notify us by telephone and
> confirm that it has been deleted from your system and any copies destroyed.
> If you are not the intended recipient you are strictly prohibited from
> using, printing, copying, distributing or disseminating this e-mail or any
> information contained in it.
>
> We use reasonable endeavours to virus scan all e-mails leaving the company
> but no warranty is given that this e-mail and any attachments are virus
> free. You should undertake your own virus checking. The right to monitor
> e-mail communications through our networks is reserved by us.
>
> *From:* Thomas Bleicher [mailto:tbleicher at gmail.com]
> *Sent:* 20 June 2014 18:22
> *To:* Thompson, Ross
> *Subject:* Re: Create Octree File from SU2RAD
>
>
>
> Ross
>
>
>
> I think that's where su2rad needs a bit of an update. Rpict has had a
> change in the meaning of the command line parameters that is not yet
> included in su2rad. To fix this manually you can edit the *.rif file and
> remove the option "-sj 0.7" from the line that starts with "render=".
> Su2rad writes the render parameters out explicitly and that option now
> breaks rpict.
>
>
>
> Regards,
>
> Thomas
>
>
>
> On Fri, Jun 20, 2014 at 9:43 AM, Thompson, Ross <rt at cbgc.com> wrote:
>
> Hi Thomas,
>
>
>
> Thanks very much for your help on this.
>
>
>
> I now have radiance correctly set up with the commands working ? there was
> a problem with RAYPATH. I have also removed the unused materials from my
> scene.
>
>
>
> I can now get the scene to ?preview? in RVU or OBJVIEW.
>
>
>
> However as you suggest below the best route for a beginner to render a
> scene from SketchUp is to use the *.rif file.
>
>
>
> However when I run $ rad test.rif
>
>
>
> I get the following errors:
>
>
>
> C:\Users\rosst.cbg\Desktop\Test>rad test.rif
>
> set ROPT=-dp 512 -ar 13 -ms 1.1 -ds .2 -dj .5 -dt .1 -dc .5 -dr 1 -sj .7
> -st .1
>
> -ab 2 -af ambfiles/test.amb -aa .15 -ad 768 -as 196 -av 2 2 2 -lr 6 -lw
> .002
>
>         rpict -t 0 -e logfiles/test.log -vf views/test.vf $ROPT -x 64 -y
> 64 -ps
>
> 1 octrees/test.oct > test_overture_8032.unf
>
> rpict: fatal - command line error at '-sj'
>
> rpict: 0 rays, 0.00% after 0.0000 hours
>
> rad: error in overture for view test
>
>
>
>
>
> This time I can?t see any warnings in the rif file.
>
>
>
> The SketchUp file and output are stored here:
>
> https://www.dropbox.com/sh/uyokuvxiu9s1ifb/AAB5TXbez6p8-FAgl3EeR4f2a
>
>
>
>
>
> Thanks again
>
>
>
> Ross
>
>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20140623/33f8e3c7/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image6cc727.PNG
Type: image/png
Size: 4616 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20140623/33f8e3c7/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imageb53471.PNG
Type: image/png
Size: 3461 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20140623/33f8e3c7/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imagec65f2f.PNG
Type: image/png
Size: 3310 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20140623/33f8e3c7/attachment-0005.png>

