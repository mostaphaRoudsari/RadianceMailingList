From Robert.Guglielmetti at nrel.gov  Tue Jan  3 08:48:46 2017
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 3 Jan 2017 16:48:46 +0000
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CADr1nSE_Qyk-8eDQA87rwoG_+w8hSzaKCdZ+=dt5=2NKuWR=qQ@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSE_Qyk-8eDQA87rwoG_+w8hSzaKCdZ+=dt5=2NKuWR=qQ@mail.gmail.com>
Message-ID: <D49123B3.9861%robert.guglielmetti@nrel.gov>

Oh, that?s good news! Hopefully that will work for you for a while. Not
sure when we will have time to sort out all the build issues with the
latest source. 

Happy New Year everyone!

- Rob

On 12/23/16, 6:03 AM, "Victor LRG" <rioboo at gmail.com> wrote:

>Robert,
>
>
>Actually, your cooking recipe does work for me as well!, at least for
>Radiance 5.0. It looks like there is something wrong when using more
>recent versions of MVSC and/or CMake... but that's another story. So far
>I'm happy with the result. Thanks!
>
>
>Merry Christmas!
>
>
>Victor
>
>
>On 22 December 2016 at 14:39, Guglielmetti, Robert
><Robert.Guglielmetti at nrel.gov> wrote:
>
>What?s the vintage of the source code? There were a couple of minor
>patches to the 5.0 official release (Mid-September), and the last tag that
>builds for Windows for me is the 'NREL 5.0.a.12? tag:
>
>https://github.com/NREL/Radiance/releases/tag/5.0.a.12
>
>
>You could try the Windows installers we have, which seem to be working:
>
>https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.
>6
>-win64.exe
>https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.
>6
>-win32.exe
>
>I also ?get? wanting to roll your own, though. Again you?d need to make
>sure your source aligns with this commit, or earlier:
>https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f4680
>c
>d1fc5
>
>And for the record, that NREL Windows build used Cmake 3.3.2, MSVC 12
>2013, a libtiff I rolled myself with 4.0.4-beta, and Qt5.3.
>
>The NREL packages aren?t bulletproof, I?m finding, but xform and oconv
>seem to work fine. It?d be potentially mutually beneficial for you to try
>the NREL package on your input and see what happens. Or, send me your test
>input and we can go from there.
>
>- Rob
>
>
>On 12/22/16, 5:15 AM, "Victor LRG" <rioboo at gmail.com> wrote:
>
>>Dear all,
>>
>>I amtrying to compile Radiance 5R0 for Windows using Cmake 3.7.1 x86 and
>>MVSC 2015 v14 with libtiff 3.8.2 and qt-x86-2.0.4. The compilation
>>finished with no errors (although some 1700 warnings), but when I am
>>trying a simple test
>> I get the following error with ovonv: fatal - (!xform
>>objects/cage_sphere2.rad): bad arguments for polygon "311s1m134f". This
>>object has the following description, which seems right to me:
>>
>>
>>cage_sphere polygon 311s1m134f
>>0
>>0
>>9 -0.833925170898 0.506038208008 0.096073600769
>>   -0.819481933594 0.473128112793 0.0903565139771
>>   -0.853187255859 0.492587890625 0.0980178833008
>>
>>
>>
>>In VS I can see the following warnings regarding oconv and xform:
>>
>>
>>C4273 'erf': inconsistent dll linkage
>>C4273 'erfc': inconsistent dll linkage
>>
>>
>>
>>They both refer to rtmath.h file, which I guess they should refer to
>>erf.c as well? Actually, this warning also appears for most projects.
>>I've compiled and used the same package in linux before with no problem.
>>
>>
>>Any ideas?
>>
>>
>>Thanks
>>
>>
>>Victor Lopez-Rioboo Gil
>>
>
>
>
>
>_______________________________________________
>Radiance-dev mailing list
>Radiance-dev at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
>
>
>


From nathanieljon at gmail.com  Sat Jan  7 10:42:54 2017
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Sat, 7 Jan 2017 13:42:54 -0500
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
Message-ID: <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>

Hi Victor,

I'm considering implementing equirectangular view for some of my own work,
and before I start, I was wondering what the state of your implementation
is and whether you might share it. Also, is this something that might work
its way into the main Radiance distribution?

Happy new year,

Nathaniel

On Thu, Dec 22, 2016 at 10:09 AM, Victor LRG <rioboo at gmail.com> wrote:

> Rob,
>
> I have tried the last official release, so just 5.0. I'll try 5.0.a.12 to
> see what happens. I have used the NREL Windows installers before and I had
> no issues.
>
> The reason I wanted to compile Radiance myself is that I was playing
> around with the source code and I wanted to try the changes. So far I have
> incorporated an equirectangular view to rpict (see Radiance General October
> 2016 Creating new view types for Radiance) and an additional option for
> pextrem. They do seem to work fine in Linux, but unfortunately I not always
> have access to a Linux machine. Therefore, it would be great to be able to
> compile it for Windows.
>
> I'll have a look at the link to the commit. For now a was using the
> CMakeLists.txt that came with the source code package with the following
> modifications:
>
> cmake_policy(SET CMP0045 OLD)
> SET(CMAKE_PREFIX_PATH ?C:/Qt/5.7/msvc2015_64/lib/cmake/Qt5Widgets?)
> SET(TIFF_INCLUDE_DIR ?C:/Program Files (x86)/GnuWin32/include?)
>
> I'll try using the CMake/MSVC/libtiff/Qt versions you suggest to see if
> that makes a difference.
>
> Many thanks,
>
> Victor
>
>
>
>
> On 22 December 2016 at 14:39, Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov> wrote:
>
>> What?s the vintage of the source code? There were a couple of minor
>> patches to the 5.0 official release (Mid-September), and the last tag that
>> builds for Windows for me is the 'NREL 5.0.a.12? tag:
>>
>> https://github.com/NREL/Radiance/releases/tag/5.0.a.12
>>
>>
>> You could try the Windows installers we have, which seem to be working:
>>
>> https://github.com/NREL/Radiance/releases/download/5.0.a.6/
>> radiance-5.0.a.6
>> -win64.exe
>> <https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.6-win64.exe>
>> https://github.com/NREL/Radiance/releases/download/5.0.a.6/
>> radiance-5.0.a.6
>> -win32.exe
>> <https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.6-win32.exe>
>>
>> I also ?get? wanting to roll your own, though. Again you?d need to make
>> sure your source aligns with this commit, or earlier:
>> https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0e
>> a42963ea8f4680c
>> d1fc5
>> <https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f4680cd1fc5>
>>
>> And for the record, that NREL Windows build used Cmake 3.3.2, MSVC 12
>> 2013, a libtiff I rolled myself with 4.0.4-beta, and Qt5.3.
>>
>> The NREL packages aren?t bulletproof, I?m finding, but xform and oconv
>> seem to work fine. It?d be potentially mutually beneficial for you to try
>> the NREL package on your input and see what happens. Or, send me your test
>> input and we can go from there.
>>
>> - Rob
>>
>>
>> On 12/22/16, 5:15 AM, "Victor LRG" <rioboo at gmail.com> wrote:
>>
>> >Dear all,
>> >
>> >I amtrying to compile Radiance 5R0 for Windows using Cmake 3.7.1 x86 and
>> >MVSC 2015 v14 with libtiff 3.8.2 and qt-x86-2.0.4. The compilation
>> >finished with no errors (although some 1700 warnings), but when I am
>> >trying a simple test
>> > I get the following error with ovonv: fatal - (!xform
>> >objects/cage_sphere2.rad): bad arguments for polygon "311s1m134f". This
>> >object has the following description, which seems right to me:
>> >
>> >
>> >cage_sphere polygon 311s1m134f
>> >0
>> >0
>> >9 -0.833925170898 0.506038208008 0.096073600769
>> >   -0.819481933594 0.473128112793 0.0903565139771
>> >   -0.853187255859 0.492587890625 0.0980178833008
>> >
>> >
>> >
>> >In VS I can see the following warnings regarding oconv and xform:
>> >
>> >
>> >C4273 'erf': inconsistent dll linkage
>> >C4273 'erfc': inconsistent dll linkage
>> >
>> >
>> >
>> >They both refer to rtmath.h file, which I guess they should refer to
>> >erf.c as well? Actually, this warning also appears for most projects.
>> >I've compiled and used the same package in linux before with no problem.
>> >
>> >
>> >Any ideas?
>> >
>> >
>> >Thanks
>> >
>> >
>> >Victor Lopez-Rioboo Gil
>> >
>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170107/cc0a72e1/attachment.html>

From rioboo at gmail.com  Sun Jan  8 03:49:00 2017
From: rioboo at gmail.com (Victor LRG)
Date: Sun, 8 Jan 2017 11:49:00 +0000
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
Message-ID: <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>

Nathaniel,

So far my implementation the equirectangular view seems to work. The only
part that I have not touched for full support is util/rpiece.c because I
don't use it very often. You can also create an equirectangular view
through other routes, but I find having it inside the code faster and more
convenient.

I'm happy to share it. Personally, I think it would be useful to
incorporate it into the main distribution, but that's a question for Greg.

Cheers,

Victor Lopez-Rioboo Gil


On 7 January 2017 at 18:42, Nathaniel Jones <nathanieljon at gmail.com> wrote:

> Hi Victor,
>
> I'm considering implementing equirectangular view for some of my own work,
> and before I start, I was wondering what the state of your implementation
> is and whether you might share it. Also, is this something that might work
> its way into the main Radiance distribution?
>
> Happy new year,
>
> Nathaniel
>
> On Thu, Dec 22, 2016 at 10:09 AM, Victor LRG <rioboo at gmail.com> wrote:
>
>> Rob,
>>
>> I have tried the last official release, so just 5.0. I'll try 5.0.a.12 to
>> see what happens. I have used the NREL Windows installers before and I had
>> no issues.
>>
>> The reason I wanted to compile Radiance myself is that I was playing
>> around with the source code and I wanted to try the changes. So far I have
>> incorporated an equirectangular view to rpict (see Radiance General October
>> 2016 Creating new view types for Radiance) and an additional option for
>> pextrem. They do seem to work fine in Linux, but unfortunately I not always
>> have access to a Linux machine. Therefore, it would be great to be able to
>> compile it for Windows.
>>
>> I'll have a look at the link to the commit. For now a was using the
>> CMakeLists.txt that came with the source code package with the following
>> modifications:
>>
>> cmake_policy(SET CMP0045 OLD)
>> SET(CMAKE_PREFIX_PATH ?C:/Qt/5.7/msvc2015_64/lib/cmake/Qt5Widgets?)
>> SET(TIFF_INCLUDE_DIR ?C:/Program Files (x86)/GnuWin32/include?)
>>
>> I'll try using the CMake/MSVC/libtiff/Qt versions you suggest to see if
>> that makes a difference.
>>
>> Many thanks,
>>
>> Victor
>>
>>
>>
>>
>> On 22 December 2016 at 14:39, Guglielmetti, Robert <
>> Robert.Guglielmetti at nrel.gov> wrote:
>>
>>> What?s the vintage of the source code? There were a couple of minor
>>> patches to the 5.0 official release (Mid-September), and the last tag
>>> that
>>> builds for Windows for me is the 'NREL 5.0.a.12? tag:
>>>
>>> https://github.com/NREL/Radiance/releases/tag/5.0.a.12
>>>
>>>
>>> You could try the Windows installers we have, which seem to be working:
>>>
>>> https://github.com/NREL/Radiance/releases/download/5.0.a.6/r
>>> adiance-5.0.a.6
>>> -win64.exe
>>> <https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.6-win64.exe>
>>> https://github.com/NREL/Radiance/releases/download/5.0.a.6/r
>>> adiance-5.0.a.6
>>> -win32.exe
>>> <https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.6-win32.exe>
>>>
>>> I also ?get? wanting to roll your own, though. Again you?d need to make
>>> sure your source aligns with this commit, or earlier:
>>> https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0e
>>> a42963ea8f4680c
>>> d1fc5
>>> <https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f4680cd1fc5>
>>>
>>> And for the record, that NREL Windows build used Cmake 3.3.2, MSVC 12
>>> 2013, a libtiff I rolled myself with 4.0.4-beta, and Qt5.3.
>>>
>>> The NREL packages aren?t bulletproof, I?m finding, but xform and oconv
>>> seem to work fine. It?d be potentially mutually beneficial for you to try
>>> the NREL package on your input and see what happens. Or, send me your
>>> test
>>> input and we can go from there.
>>>
>>> - Rob
>>>
>>>
>>> On 12/22/16, 5:15 AM, "Victor LRG" <rioboo at gmail.com> wrote:
>>>
>>> >Dear all,
>>> >
>>> >I amtrying to compile Radiance 5R0 for Windows using Cmake 3.7.1 x86 and
>>> >MVSC 2015 v14 with libtiff 3.8.2 and qt-x86-2.0.4. The compilation
>>> >finished with no errors (although some 1700 warnings), but when I am
>>> >trying a simple test
>>> > I get the following error with ovonv: fatal - (!xform
>>> >objects/cage_sphere2.rad): bad arguments for polygon "311s1m134f". This
>>> >object has the following description, which seems right to me:
>>> >
>>> >
>>> >cage_sphere polygon 311s1m134f
>>> >0
>>> >0
>>> >9 -0.833925170898 0.506038208008 0.096073600769
>>> >   -0.819481933594 0.473128112793 0.0903565139771
>>> >   -0.853187255859 0.492587890625 0.0980178833008
>>> >
>>> >
>>> >
>>> >In VS I can see the following warnings regarding oconv and xform:
>>> >
>>> >
>>> >C4273 'erf': inconsistent dll linkage
>>> >C4273 'erfc': inconsistent dll linkage
>>> >
>>> >
>>> >
>>> >They both refer to rtmath.h file, which I guess they should refer to
>>> >erf.c as well? Actually, this warning also appears for most projects.
>>> >I've compiled and used the same package in linux before with no problem.
>>> >
>>> >
>>> >Any ideas?
>>> >
>>> >
>>> >Thanks
>>> >
>>> >
>>> >Victor Lopez-Rioboo Gil
>>> >
>>>
>>>
>>> _______________________________________________
>>> Radiance-dev mailing list
>>> Radiance-dev at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>
>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170108/2dc9b238/attachment.html>

From gregoryjward at gmail.com  Sun Jan  8 09:18:00 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sun, 8 Jan 2017 09:18:00 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
Message-ID: <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>

Hi Victor (& Nathaniel),

I am happy to take a look at the code and see how much effort it would be to integrate.  I have a question first, however.  

Is the "equirectangular" view useful for anything less than a full panorama?  Would people want to use it for smaller/different views, or do you always set vertical to 180? and horizontal to 360? in every application?

If you only use this view for one purpose, then I wonder if it is really worth having a view implemented in Radiance, which needs to handle every possible setting correctly.  Also, I wonder in such a case if you have tested every possible (legal) setting?

Cheers,
-Greg

> From: Victor LRG <rioboo at gmail.com>
> Date: January 8, 2017 3:49:00 AM PST
> 
> Nathaniel,
> 
> So far my implementation the equirectangular view seems to work. The only part that I have not touched for full support is util/rpiece.c because I don't use it very often. You can also create an equirectangular view through other routes, but I find having it inside the code faster and more convenient.
> 
> I'm happy to share it. Personally, I think it would be useful to incorporate it into the main distribution, but that's a question for Greg.
> 
> Cheers,
> 
> Victor Lopez-Rioboo Gil
> 
> 
> On 7 January 2017 at 18:42, Nathaniel Jones <nathanieljon at gmail.com> wrote:
> Hi Victor,
> 
> I'm considering implementing equirectangular view for some of my own work, and before I start, I was wondering what the state of your implementation is and whether you might share it. Also, is this something that might work its way into the main Radiance distribution?
> 
> Happy new year,
> 
> Nathaniel
> 
> On Thu, Dec 22, 2016 at 10:09 AM, Victor LRG <rioboo at gmail.com> wrote:
> Rob,
> 
> I have tried the last official release, so just 5.0. I'll try 5.0.a.12 to see what happens. I have used the NREL Windows installers before and I had no issues.
> 
> The reason I wanted to compile Radiance myself is that I was playing around with the source code and I wanted to try the changes. So far I have incorporated an equirectangular view to rpict (see Radiance General October 2016 Creating new view types for Radiance) and an additional option for pextrem. They do seem to work fine in Linux, but unfortunately I not always have access to a Linux machine. Therefore, it would be great to be able to compile it for Windows.
> 
> I'll have a look at the link to the commit. For now a was using the CMakeLists.txt that came with the source code package with the following modifications:
> 
> cmake_policy(SET CMP0045 OLD)
> SET(CMAKE_PREFIX_PATH ?C:/Qt/5.7/msvc2015_64/lib/cmake/Qt5Widgets?)
> SET(TIFF_INCLUDE_DIR ?C:/Program Files (x86)/GnuWin32/include?)
> 
> I'll try using the CMake/MSVC/libtiff/Qt versions you suggest to see if that makes a difference.
> 
> Many thanks,
> 
> Victor
> 
> 
> 
> 
> On 22 December 2016 at 14:39, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
> What?s the vintage of the source code? There were a couple of minor
> patches to the 5.0 official release (Mid-September), and the last tag that
> builds for Windows for me is the 'NREL 5.0.a.12? tag:
> 
> https://github.com/NREL/Radiance/releases/tag/5.0.a.12
> 
> 
> You could try the Windows installers we have, which seem to be working:
> 
> https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.6
> -win64.exe
> https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.6
> -win32.exe
> 
> I also ?get? wanting to roll your own, though. Again you?d need to make
> sure your source aligns with this commit, or earlier:
> https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f4680c
> d1fc5
> 
> And for the record, that NREL Windows build used Cmake 3.3.2, MSVC 12
> 2013, a libtiff I rolled myself with 4.0.4-beta, and Qt5.3.
> 
> The NREL packages aren?t bulletproof, I?m finding, but xform and oconv
> seem to work fine. It?d be potentially mutually beneficial for you to try
> the NREL package on your input and see what happens. Or, send me your test
> input and we can go from there.
> 
> - Rob
> 
> 
> On 12/22/16, 5:15 AM, "Victor LRG" <rioboo at gmail.com> wrote:
> 
> >Dear all,
> >
> >I amtrying to compile Radiance 5R0 for Windows using Cmake 3.7.1 x86 and
> >MVSC 2015 v14 with libtiff 3.8.2 and qt-x86-2.0.4. The compilation
> >finished with no errors (although some 1700 warnings), but when I am
> >trying a simple test
> > I get the following error with ovonv: fatal - (!xform
> >objects/cage_sphere2.rad): bad arguments for polygon "311s1m134f". This
> >object has the following description, which seems right to me:
> >
> >
> >cage_sphere polygon 311s1m134f
> >0
> >0
> >9 -0.833925170898 0.506038208008 0.096073600769
> >   -0.819481933594 0.473128112793 0.0903565139771
> >   -0.853187255859 0.492587890625 0.0980178833008
> >
> >
> >
> >In VS I can see the following warnings regarding oconv and xform:
> >
> >
> >C4273 'erf': inconsistent dll linkage
> >C4273 'erfc': inconsistent dll linkage
> >
> >
> >
> >They both refer to rtmath.h file, which I guess they should refer to
> >erf.c as well? Actually, this warning also appears for most projects.
> >I've compiled and used the same package in linux before with no problem.
> >
> >
> >Any ideas?
> >
> >
> >Thanks
> >
> >
> >Victor Lopez-Rioboo Gil
> >
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170108/e36128f3/attachment-0001.html>

From nathanieljon at gmail.com  Sun Jan  8 13:40:10 2017
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Sun, 8 Jan 2017 16:40:10 -0500
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
Message-ID: <CAJR73tuHvF1w=T6msnF0ytJL_DQpes7Ejwce33aQWFa6=9EYGg@mail.gmail.com>

I guess I'd generally be in favor of having equirectangular view as an
option, although I can see how it does only cater to a few applications.
The fact that it would probably always be used with the same parameters
doesn't bother me much more than cylindrical or angular fisheye views,
which I suspect are also almost always used the same way. I also expect
that the ability to "zoom in" on the image would be "legal", if not
popular. Going beyond 180 degrees in the vertical direction is
mathematically definable, though it would look odd and be inefficient to
sample. The bigger issue might be that equirectangular view begs having a
stereo offset parameter as a convenience feature, which doesn't exist in
Radiance.

However, as I've been looking at this problem a bit more, it seems that
even equirectangular view doesn't meet all of my needs. I may need to
implement something like ODS
<https://developers.google.com/vr/jump/rendering-ods-content.pdf> view for
what I have in mind.

Nathaniel

On Sun, Jan 8, 2017 at 12:18 PM, Gregory J. Ward <gregoryjward at gmail.com>
wrote:

> Hi Victor (& Nathaniel),
>
> I am happy to take a look at the code and see how much effort it would be
> to integrate.  I have a question first, however.
>
> Is the "equirectangular" view useful for anything less than a full
> panorama?  Would people want to use it for smaller/different views, or do
> you always set vertical to 180? and horizontal to 360? in every application?
>
> If you only use this view for one purpose, then I wonder if it is really
> worth having a view implemented in Radiance, which needs to handle every
> possible setting correctly.  Also, I wonder in such a case if you have
> tested every possible (legal) setting?
>
> Cheers,
> -Greg
>
> *From: *Victor LRG <rioboo at gmail.com>
>
> *Date: *January 8, 2017 3:49:00 AM PST
>
>
> Nathaniel,
>
> So far my implementation the equirectangular view seems to work. The only
> part that I have not touched for full support is util/rpiece.c because I
> don't use it very often. You can also create an equirectangular view
> through other routes, but I find having it inside the code faster and more
> convenient.
>
> I'm happy to share it. Personally, I think it would be useful to
> incorporate it into the main distribution, but that's a question for Greg.
>
> Cheers,
>
> Victor Lopez-Rioboo Gil
>
>
> On 7 January 2017 at 18:42, Nathaniel Jones <nathanieljon at gmail.com>
> wrote:
>
>> Hi Victor,
>>
>> I'm considering implementing equirectangular view for some of my own
>> work, and before I start, I was wondering what the state of your
>> implementation is and whether you might share it. Also, is this something
>> that might work its way into the main Radiance distribution?
>>
>> Happy new year,
>>
>> Nathaniel
>>
>> On Thu, Dec 22, 2016 at 10:09 AM, Victor LRG <rioboo at gmail.com> wrote:
>>
>>> Rob,
>>>
>>> I have tried the last official release, so just 5.0. I'll try 5.0.a.12
>>> to see what happens. I have used the NREL Windows installers before and I
>>> had no issues.
>>>
>>> The reason I wanted to compile Radiance myself is that I was playing
>>> around with the source code and I wanted to try the changes. So far I have
>>> incorporated an equirectangular view to rpict (see Radiance General October
>>> 2016 Creating new view types for Radiance) and an additional option for
>>> pextrem. They do seem to work fine in Linux, but unfortunately I not always
>>> have access to a Linux machine. Therefore, it would be great to be able to
>>> compile it for Windows.
>>>
>>> I'll have a look at the link to the commit. For now a was using the
>>> CMakeLists.txt that came with the source code package with the following
>>> modifications:
>>>
>>> cmake_policy(SET CMP0045 OLD)
>>> SET(CMAKE_PREFIX_PATH ?C:/Qt/5.7/msvc2015_64/lib/cmake/Qt5Widgets?)
>>> SET(TIFF_INCLUDE_DIR ?C:/Program Files (x86)/GnuWin32/include?)
>>>
>>> I'll try using the CMake/MSVC/libtiff/Qt versions you suggest to see if
>>> that makes a difference.
>>>
>>> Many thanks,
>>>
>>> Victor
>>>
>>>
>>>
>>>
>>> On 22 December 2016 at 14:39, Guglielmetti, Robert <
>>> Robert.Guglielmetti at nrel.gov> wrote:
>>>
>>>> What?s the vintage of the source code? There were a couple of minor
>>>> patches to the 5.0 official release (Mid-September), and the last tag
>>>> that
>>>> builds for Windows for me is the 'NREL 5.0.a.12? tag:
>>>>
>>>> https://github.com/NREL/Radiance/releases/tag/5.0.a.12
>>>>
>>>>
>>>> You could try the Windows installers we have, which seem to be working:
>>>>
>>>> https://github.com/NREL/Radiance/releases/download/5.0.a.6/r
>>>> adiance-5.0.a.6
>>>> -win64.exe
>>>> <https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.6-win64.exe>
>>>> https://github.com/NREL/Radiance/releases/download/5.0.a.6/r
>>>> adiance-5.0.a.6
>>>> -win32.exe
>>>> <https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.6-win32.exe>
>>>>
>>>> I also ?get? wanting to roll your own, though. Again you?d need to make
>>>> sure your source aligns with this commit, or earlier:
>>>> https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0e
>>>> a42963ea8f4680c
>>>> d1fc5
>>>> <https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f4680cd1fc5>
>>>>
>>>> And for the record, that NREL Windows build used Cmake 3.3.2, MSVC 12
>>>> 2013, a libtiff I rolled myself with 4.0.4-beta, and Qt5.3.
>>>>
>>>> The NREL packages aren?t bulletproof, I?m finding, but xform and oconv
>>>> seem to work fine. It?d be potentially mutually beneficial for you to
>>>> try
>>>> the NREL package on your input and see what happens. Or, send me your
>>>> test
>>>> input and we can go from there.
>>>>
>>>> - Rob
>>>>
>>>>
>>>> On 12/22/16, 5:15 AM, "Victor LRG" <rioboo at gmail.com> wrote:
>>>>
>>>> >Dear all,
>>>> >
>>>> >I amtrying to compile Radiance 5R0 for Windows using Cmake 3.7.1 x86
>>>> and
>>>> >MVSC 2015 v14 with libtiff 3.8.2 and qt-x86-2.0.4. The compilation
>>>> >finished with no errors (although some 1700 warnings), but when I am
>>>> >trying a simple test
>>>> > I get the following error with ovonv: fatal - (!xform
>>>> >objects/cage_sphere2.rad): bad arguments for polygon "311s1m134f". This
>>>> >object has the following description, which seems right to me:
>>>> >
>>>> >
>>>> >cage_sphere polygon 311s1m134f
>>>> >0
>>>> >0
>>>> >9 -0.833925170898 0.506038208008 0.096073600769
>>>> >   -0.819481933594 0.473128112793 0.0903565139771
>>>> >   -0.853187255859 0.492587890625 0.0980178833008
>>>> >
>>>> >
>>>> >
>>>> >In VS I can see the following warnings regarding oconv and xform:
>>>> >
>>>> >
>>>> >C4273 'erf': inconsistent dll linkage
>>>> >C4273 'erfc': inconsistent dll linkage
>>>> >
>>>> >
>>>> >
>>>> >They both refer to rtmath.h file, which I guess they should refer to
>>>> >erf.c as well? Actually, this warning also appears for most projects.
>>>> >I've compiled and used the same package in linux before with no
>>>> problem.
>>>> >
>>>> >
>>>> >Any ideas?
>>>> >
>>>> >
>>>> >Thanks
>>>> >
>>>> >
>>>> >Victor Lopez-Rioboo Gil
>>>> >
>>>>
>>>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170108/9d808d76/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon Jan  9 07:59:17 2017
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 9 Jan 2017 15:59:17 +0000
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
Message-ID: <D4990112.9915%robert.guglielmetti@nrel.gov>

I?ll keep an eye out, should this be added to the standard palette of
views in the source. I think it?s pretty easy to add it to the Qt rvu...

On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:

>Hi Victor (& Nathaniel),
>
>
>I am happy to take a look at the code and see how much effort it would be
>to integrate.  I have a question first, however.
>
>
>Is the "equirectangular" view useful for anything less than a full
>panorama?  Would people want to use it for smaller/different views, or do
>you always set vertical to 180? and horizontal to 360? in every
>application?
>
>
>If you only use this view for one purpose, then I wonder if it is really
>worth having a view implemented in Radiance, which needs to handle every
>possible setting correctly.  Also, I wonder in such a case if you have
>tested every possible (legal) setting?
>
>
>Cheers,
>-Greg
>
>
>From:
>Victor LRG <rioboo at gmail.com>
>Date:
>January 8, 2017 3:49:00 AM PST
>
>
>
>
>
>Nathaniel,
>
>
>So far my implementation the equirectangular view seems to work. The only
>part that I have not touched for full support is util/rpiece.c because I
>don't use it very often. You can also create an equirectangular view
>through other routes, but I find having
> it inside the code faster and more convenient.
>
>
>I'm happy to share it. Personally, I think it would be useful to
>incorporate it into the main distribution, but that's a question for Greg.
>
>
>Cheers,
>
>
>Victor Lopez-Rioboo Gil
>
>
>
>
>On 7 January 2017 at 18:42, Nathaniel Jones
><nathanieljon at gmail.com> wrote:
>
>Hi Victor,
>
>
>I'm considering implementing equirectangular view for some of my own
>work, and before I start, I was wondering what the state of your
>implementation is and whether you might share it. Also, is this something
>that might work its way into the main Radiance
> distribution?
>
>
>Happy new year,
>
>
>Nathaniel
>
>
>On Thu, Dec 22, 2016 at 10:09 AM, Victor LRG
><rioboo at gmail.com> wrote:
>
>Rob,
>
>
>I have tried the last official release, so just 5.0. I'll try 5.0.a.12 to
>see what happens. I have used the NREL Windows installers before and I
>had no issues.
>
>
>The reason I wanted to compile Radiance myself is that I was playing
>around with the source code and I wanted to try the changes. So far I
>have incorporated an equirectangular view to rpict (see Radiance General
>October 2016 Creating new view types for
> Radiance) and an additional option for pextrem. They do seem to work
>fine in Linux, but unfortunately I not always have access to a Linux
>machine. Therefore, it would be great to be able to compile it for
>Windows.
>
>
>I'll have a look at the link to the commit. For now a was using the
>CMakeLists.txt that came with the source code package with the following
>modifications:
>
>
>cmake_policy(SET CMP0045 OLD)
>
>SET(CMAKE_PREFIX_PATH ?C:/Qt/5.7/msvc2015_64/lib/cmake/Qt5Widgets?)
>SET(TIFF_INCLUDE_DIR ?C:/Program Files (x86)/GnuWin32/include?)
>
>
>
>I'll try using the CMake/MSVC/libtiff/Qt versions you suggest to see if
>that makes a difference.
>
>
>Many thanks,
>
>
>Victor
>
>
>
>
>
>
>
>
>On 22 December 2016 at 14:39, Guglielmetti, Robert
><Robert.Guglielmetti at nrel.gov> wrote:
>
>What?s the vintage of the source code? There were a couple of minor
>patches to the 5.0 official release (Mid-September), and the last tag that
>builds for Windows for me is the 'NREL 5.0.a.12? tag:
>
>https://github.com/NREL/Radiance/releases/tag/5.0.a.12
>
>
>You could try the Windows installers we have, which seem to be working:
>
>https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.
>6
>-win64.exe 
><https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a
>.6-win64.exe>
>https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a.
>6
>-win32.exe 
><https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a
>.6-win32.exe>
>
>I also ?get? wanting to roll your own, though. Again you?d need to make
>sure your source aligns with this commit, or earlier:
>https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f4680
>c
>d1fc5 
><https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f468
>0cd1fc5>
>
>And for the record, that NREL Windows build used Cmake 3.3.2, MSVC 12
>2013, a libtiff I rolled myself with 4.0.4-beta, and Qt5.3.
>
>The NREL packages aren?t bulletproof, I?m finding, but xform and oconv
>seem to work fine. It?d be potentially mutually beneficial for you to try
>the NREL package on your input and see what happens. Or, send me your test
>input and we can go from there.
>
>- Rob
>
>
>On 12/22/16, 5:15 AM, "Victor LRG" <rioboo at gmail.com> wrote:
>
>>Dear all,
>>
>>I amtrying to compile Radiance 5R0 for Windows using Cmake 3.7.1 x86 and
>>MVSC 2015 v14 with libtiff 3.8.2 and qt-x86-2.0.4. The compilation
>>finished with no errors (although some 1700 warnings), but when I am
>>trying a simple test
>> I get the following error with ovonv: fatal - (!xform
>>objects/cage_sphere2.rad): bad arguments for polygon "311s1m134f". This
>>object has the following description, which seems right to me:
>>
>>
>>cage_sphere polygon 311s1m134f
>>0
>>0
>>9 -0.833925170898 0.506038208008 0.096073600769
>>   -0.819481933594 0.473128112793 0.0903565139771
>>   -0.853187255859 0.492587890625 0.0980178833008
>>
>>
>>
>>In VS I can see the following warnings regarding oconv and xform:
>>
>>
>>C4273 'erf': inconsistent dll linkage
>>C4273 'erfc': inconsistent dll linkage
>>
>>
>>
>>They both refer to rtmath.h file, which I guess they should refer to
>>erf.c as well? Actually, this warning also appears for most projects.
>>I've compiled and used the same package in linux before with no problem.
>>
>>
>>Any ideas?
>>
>>
>>Thanks
>>
>>
>>Victor Lopez-Rioboo Gil
>>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>


From rioboo at gmail.com  Tue Jan 10 02:14:48 2017
From: rioboo at gmail.com (Victor LRG)
Date: Tue, 10 Jan 2017 10:14:48 +0000
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <D4990112.9915%robert.guglielmetti@nrel.gov>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
Message-ID: <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>

I agree with Nathaniel that the general use would be similar to cylindrical
or angular fisheye views in terms of view apertures. Personally, I use the
equirectangular view in four combinations: 180-360 deg horizontally and
90-180 deg vertically, and then as a base for other fancier view types when
I need them.

With regards to the stereo offset I wonder if it could be added with a bit
of work using the standard clipping plane offset as an stereo one?

Victor

On 9 January 2017 at 15:59, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> I?ll keep an eye out, should this be added to the standard palette of
> views in the source. I think it?s pretty easy to add it to the Qt rvu...
>
> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>
> >Hi Victor (& Nathaniel),
> >
> >
> >I am happy to take a look at the code and see how much effort it would be
> >to integrate.  I have a question first, however.
> >
> >
> >Is the "equirectangular" view useful for anything less than a full
> >panorama?  Would people want to use it for smaller/different views, or do
> >you always set vertical to 180? and horizontal to 360? in every
> >application?
> >
> >
> >If you only use this view for one purpose, then I wonder if it is really
> >worth having a view implemented in Radiance, which needs to handle every
> >possible setting correctly.  Also, I wonder in such a case if you have
> >tested every possible (legal) setting?
> >
> >
> >Cheers,
> >-Greg
> >
> >
> >From:
> >Victor LRG <rioboo at gmail.com>
> >Date:
> >January 8, 2017 3:49:00 AM PST
> >
> >
> >
> >
> >
> >Nathaniel,
> >
> >
> >So far my implementation the equirectangular view seems to work. The only
> >part that I have not touched for full support is util/rpiece.c because I
> >don't use it very often. You can also create an equirectangular view
> >through other routes, but I find having
> > it inside the code faster and more convenient.
> >
> >
> >I'm happy to share it. Personally, I think it would be useful to
> >incorporate it into the main distribution, but that's a question for Greg.
> >
> >
> >Cheers,
> >
> >
> >Victor Lopez-Rioboo Gil
> >
> >
> >
> >
> >On 7 January 2017 at 18:42, Nathaniel Jones
> ><nathanieljon at gmail.com> wrote:
> >
> >Hi Victor,
> >
> >
> >I'm considering implementing equirectangular view for some of my own
> >work, and before I start, I was wondering what the state of your
> >implementation is and whether you might share it. Also, is this something
> >that might work its way into the main Radiance
> > distribution?
> >
> >
> >Happy new year,
> >
> >
> >Nathaniel
> >
> >
> >On Thu, Dec 22, 2016 at 10:09 AM, Victor LRG
> ><rioboo at gmail.com> wrote:
> >
> >Rob,
> >
> >
> >I have tried the last official release, so just 5.0. I'll try 5.0.a.12 to
> >see what happens. I have used the NREL Windows installers before and I
> >had no issues.
> >
> >
> >The reason I wanted to compile Radiance myself is that I was playing
> >around with the source code and I wanted to try the changes. So far I
> >have incorporated an equirectangular view to rpict (see Radiance General
> >October 2016 Creating new view types for
> > Radiance) and an additional option for pextrem. They do seem to work
> >fine in Linux, but unfortunately I not always have access to a Linux
> >machine. Therefore, it would be great to be able to compile it for
> >Windows.
> >
> >
> >I'll have a look at the link to the commit. For now a was using the
> >CMakeLists.txt that came with the source code package with the following
> >modifications:
> >
> >
> >cmake_policy(SET CMP0045 OLD)
> >
> >SET(CMAKE_PREFIX_PATH ?C:/Qt/5.7/msvc2015_64/lib/cmake/Qt5Widgets?)
> >SET(TIFF_INCLUDE_DIR ?C:/Program Files (x86)/GnuWin32/include?)
> >
> >
> >
> >I'll try using the CMake/MSVC/libtiff/Qt versions you suggest to see if
> >that makes a difference.
> >
> >
> >Many thanks,
> >
> >
> >Victor
> >
> >
> >
> >
> >
> >
> >
> >
> >On 22 December 2016 at 14:39, Guglielmetti, Robert
> ><Robert.Guglielmetti at nrel.gov> wrote:
> >
> >What?s the vintage of the source code? There were a couple of minor
> >patches to the 5.0 official release (Mid-September), and the last tag that
> >builds for Windows for me is the 'NREL 5.0.a.12? tag:
> >
> >https://github.com/NREL/Radiance/releases/tag/5.0.a.12
> >
> >
> >You could try the Windows installers we have, which seem to be working:
> >
> >https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a
> .
> >6
> >-win64.exe
> ><https://github.com/NREL/Radiance/releases/download/5.
> 0.a.6/radiance-5.0.a
> >.6-win64.exe>
> >https://github.com/NREL/Radiance/releases/download/5.0.a.6/radiance-5.0.a
> .
> >6
> >-win32.exe
> ><https://github.com/NREL/Radiance/releases/download/5.
> 0.a.6/radiance-5.0.a
> >.6-win32.exe>
> >
> >I also ?get? wanting to roll your own, though. Again you?d need to make
> >sure your source aligns with this commit, or earlier:
> >https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f
> 4680
> >c
> >d1fc5
> ><https://github.com/NREL/Radiance/commit/0c842736bf2b0908ba0ea42963ea8f
> 468
> >0cd1fc5>
> >
> >And for the record, that NREL Windows build used Cmake 3.3.2, MSVC 12
> >2013, a libtiff I rolled myself with 4.0.4-beta, and Qt5.3.
> >
> >The NREL packages aren?t bulletproof, I?m finding, but xform and oconv
> >seem to work fine. It?d be potentially mutually beneficial for you to try
> >the NREL package on your input and see what happens. Or, send me your test
> >input and we can go from there.
> >
> >- Rob
> >
> >
> >On 12/22/16, 5:15 AM, "Victor LRG" <rioboo at gmail.com> wrote:
> >
> >>Dear all,
> >>
> >>I amtrying to compile Radiance 5R0 for Windows using Cmake 3.7.1 x86 and
> >>MVSC 2015 v14 with libtiff 3.8.2 and qt-x86-2.0.4. The compilation
> >>finished with no errors (although some 1700 warnings), but when I am
> >>trying a simple test
> >> I get the following error with ovonv: fatal - (!xform
> >>objects/cage_sphere2.rad): bad arguments for polygon "311s1m134f". This
> >>object has the following description, which seems right to me:
> >>
> >>
> >>cage_sphere polygon 311s1m134f
> >>0
> >>0
> >>9 -0.833925170898 0.506038208008 0.096073600769
> >>   -0.819481933594 0.473128112793 0.0903565139771
> >>   -0.853187255859 0.492587890625 0.0980178833008
> >>
> >>
> >>
> >>In VS I can see the following warnings regarding oconv and xform:
> >>
> >>
> >>C4273 'erf': inconsistent dll linkage
> >>C4273 'erfc': inconsistent dll linkage
> >>
> >>
> >>
> >>They both refer to rtmath.h file, which I guess they should refer to
> >>erf.c as well? Actually, this warning also appears for most projects.
> >>I've compiled and used the same package in linux before with no problem.
> >>
> >>
> >>Any ideas?
> >>
> >>
> >>Thanks
> >>
> >>
> >>Victor Lopez-Rioboo Gil
> >>
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170110/561a1005/attachment.html>

From gregoryjward at gmail.com  Tue Jan 10 10:38:06 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue, 10 Jan 2017 10:38:06 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
Message-ID: <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>

Hi Victor,

I thought that there was some trick to doing stereo 360? views that involved rotating the eye positions with the ray directions to keep them at right angles.  Andy (McNeil), can you help us out?

-Greg

> From: Victor LRG <rioboo at gmail.com>
> Date: January 10, 2017 2:14:48 AM PST
> 
> I agree with Nathaniel that the general use would be similar to cylindrical or angular fisheye views in terms of view apertures. Personally, I use the equirectangular view in four combinations: 180-360 deg horizontally and 90-180 deg vertically, and then as a base for other fancier view types when I need them.
> 
> With regards to the stereo offset I wonder if it could be added with a bit of work using the standard clipping plane offset as an stereo one?
> 
> Victor
> 
> On 9 January 2017 at 15:59, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
> I?ll keep an eye out, should this be added to the standard palette of
> views in the source. I think it?s pretty easy to add it to the Qt rvu...
> 
> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
> 
> >Hi Victor (& Nathaniel),
> >
> >
> >I am happy to take a look at the code and see how much effort it would be
> >to integrate.  I have a question first, however.
> >
> >
> >Is the "equirectangular" view useful for anything less than a full
> >panorama?  Would people want to use it for smaller/different views, or do
> >you always set vertical to 180? and horizontal to 360? in every
> >application?
> >
> >
> >If you only use this view for one purpose, then I wonder if it is really
> >worth having a view implemented in Radiance, which needs to handle every
> >possible setting correctly.  Also, I wonder in such a case if you have
> >tested every possible (legal) setting?
> >
> >
> >Cheers,
> >-Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170110/4cef96d5/attachment-0001.html>

From mcneil.andrew at gmail.com  Wed Jan 11 13:00:31 2017
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Wed, 11 Jan 2017 13:00:31 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
Message-ID: <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>

Hi Greg,

The viewpoint, or ray origin, is different for each column of pixels in a
stereo ODS rendering. If you start with a viewpoint, and draw a circle with
diameter that is the distance between one's pupils, then the origin for
each ray should be at a point where the ray is tangent to the circle (on
the left side of the circle for left eye and right side for right eye).
It's explained & illustrated well here:
https://developers.google.com/vr/jump/rendering-ods-content.pdf

I don't see how clipping planes could be used to modify the ray origin, but
I could be wrong.

And this goes a ways back in the thread, but one instance where smaller
than 180? x 360? sized equirectangular views would be necessary is if a
user wanted to use rpiece to render the full view.

Best,
Andy


On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward <gregoryjward at gmail.com>
wrote:

> Hi Victor,
>
> I thought that there was some trick to doing stereo 360? views that
> involved rotating the eye positions with the ray directions to keep them at
> right angles.  Andy (McNeil), can you help us out?
>
> -Greg
>
> *From: *Victor LRG <rioboo at gmail.com>
>
> *Date: *January 10, 2017 2:14:48 AM PST
>
>
> I agree with Nathaniel that the general use would be similar to cylindrical
> or angular fisheye views in terms of view apertures. Personally, I use
> the equirectangular view in four combinations: 180-360 deg horizontally and
> 90-180 deg vertically, and then as a base for other fancier view types when
> I need them.
>
> With regards to the stereo offset I wonder if it could be added with a bit
> of work using the standard clipping plane offset as an stereo one?
>
> Victor
>
> On 9 January 2017 at 15:59, Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov> wrote:
>
>> I?ll keep an eye out, should this be added to the standard palette of
>> views in the source. I think it?s pretty easy to add it to the Qt rvu...
>>
>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>>
>> >Hi Victor (& Nathaniel),
>> >
>> >
>> >I am happy to take a look at the code and see how much effort it would be
>> >to integrate.  I have a question first, however.
>> >
>> >
>> >Is the "equirectangular" view useful for anything less than a full
>> >panorama?  Would people want to use it for smaller/different views, or do
>> >you always set vertical to 180? and horizontal to 360? in every
>> >application?
>> >
>> >
>> >If you only use this view for one purpose, then I wonder if it is really
>> >worth having a view implemented in Radiance, which needs to handle every
>> >possible setting correctly.  Also, I wonder in such a case if you have
>> >tested every possible (legal) setting?
>> >
>> >
>> >Cheers,
>> >-Greg
>>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170111/38185adb/attachment.html>

From gregoryjward at gmail.com  Wed Jan 11 15:20:54 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed, 11 Jan 2017 15:20:54 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
Message-ID: <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>

Thanks, Andy.

Have you already created a .cal file to generate the appropriate ray origins and directions for this?  If not, I could take a crack at it.  Seems like an easier method than adding a new view type, especially since we would need a new parameter for the stereo offset to get it to do what we want.

Regarding rpiece, you can always use the rtrace -n option to get an equivalent speed-up.

Cheers,
-Greg

> From: Andy McNeil <mcneil.andrew at gmail.com>
> Date: January 11, 2017 1:00:31 PM PST
> 
> Hi Greg, 
> 
> The viewpoint, or ray origin, is different for each column of pixels in a stereo ODS rendering. If you start with a viewpoint, and draw a circle with diameter that is the distance between one's pupils, then the origin for each ray should be at a point where the ray is tangent to the circle (on the left side of the circle for left eye and right side for right eye).  It's explained & illustrated well here: https://developers.google.com/vr/jump/rendering-ods-content.pdf
> 
> I don't see how clipping planes could be used to modify the ray origin, but I could be wrong.
> 
> And this goes a ways back in the thread, but one instance where smaller than 180? x 360? sized equirectangular views would be necessary is if a user wanted to use rpiece to render the full view.
> 
> Best,
> Andy
> 
> 
> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
> Hi Victor,
> 
> I thought that there was some trick to doing stereo 360? views that involved rotating the eye positions with the ray directions to keep them at right angles.  Andy (McNeil), can you help us out?
> 
> -Greg
> 
>> From: Victor LRG <rioboo at gmail.com>
>> Date: January 10, 2017 2:14:48 AM PST
>> 
>> I agree with Nathaniel that the general use would be similar to cylindrical or angular fisheye views in terms of view apertures. Personally, I use the equirectangular view in four combinations: 180-360 deg horizontally and 90-180 deg vertically, and then as a base for other fancier view types when I need them.
>> 
>> With regards to the stereo offset I wonder if it could be added with a bit of work using the standard clipping plane offset as an stereo one?
>> 
>> Victor
>> 
>> On 9 January 2017 at 15:59, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
>> I?ll keep an eye out, should this be added to the standard palette of
>> views in the source. I think it?s pretty easy to add it to the Qt rvu...
>> 
>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>> 
>> >Hi Victor (& Nathaniel),
>> >
>> >
>> >I am happy to take a look at the code and see how much effort it would be
>> >to integrate.  I have a question first, however.
>> >
>> >
>> >Is the "equirectangular" view useful for anything less than a full
>> >panorama?  Would people want to use it for smaller/different views, or do
>> >you always set vertical to 180? and horizontal to 360? in every
>> >application?
>> >
>> >
>> >If you only use this view for one purpose, then I wonder if it is really
>> >worth having a view implemented in Radiance, which needs to handle every
>> >possible setting correctly.  Also, I wonder in such a case if you have
>> >tested every possible (legal) setting?
>> >
>> >
>> >Cheers,
>> >-Greg
> 
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> 
> 
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170111/032091ca/attachment.html>

From mcneil.andrew at gmail.com  Wed Jan 11 16:20:44 2017
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Wed, 11 Jan 2017 16:20:44 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
Message-ID: <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>

Hi Greg,
Mark Stock created the attached cal file for rendering ODS views. If it is
okay with Mark, can we add the cal file to the radiance distribution?
Andy


On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <gregoryjward at gmail.com>
wrote:

> Thanks, Andy.
>
> Have you already created a .cal file to generate the appropriate ray
> origins and directions for this?  If not, I could take a crack at it.
> Seems like an easier method than adding a new view type, especially since
> we would need a new parameter for the stereo offset to get it to do what we
> want.
>
> Regarding rpiece, you can always use the rtrace -n option to get an
> equivalent speed-up.
>
> Cheers,
> -Greg
>
> *From: *Andy McNeil <mcneil.andrew at gmail.com>
>
> *Date: *January 11, 2017 1:00:31 PM PST
>
>
> Hi Greg,
>
> The viewpoint, or ray origin, is different for each column of pixels in a
> stereo ODS rendering. If you start with a viewpoint, and draw a circle with
> diameter that is the distance between one's pupils, then the origin for
> each ray should be at a point where the ray is tangent to the circle (on
> the left side of the circle for left eye and right side for right eye).
> It's explained & illustrated well here: https://developers.google.com/
> vr/jump/rendering-ods-content.pdf
>
> I don't see how clipping planes could be used to modify the ray origin,
> but I could be wrong.
>
> And this goes a ways back in the thread, but one instance where smaller
> than 180? x 360? sized equirectangular views would be necessary is if a
> user wanted to use rpiece to render the full view.
>
> Best,
> Andy
>
>
> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward <gregoryjward at gmail.com>
> wrote:
>
>> Hi Victor,
>>
>> I thought that there was some trick to doing stereo 360? views that
>> involved rotating the eye positions with the ray directions to keep them at
>> right angles.  Andy (McNeil), can you help us out?
>>
>> -Greg
>>
>> *From: *Victor LRG <rioboo at gmail.com>
>>
>> *Date: *January 10, 2017 2:14:48 AM PST
>>
>>
>> I agree with Nathaniel that the general use would be similar to cylindrical
>> or angular fisheye views in terms of view apertures. Personally, I use
>> the equirectangular view in four combinations: 180-360 deg horizontally and
>> 90-180 deg vertically, and then as a base for other fancier view types when
>> I need them.
>>
>> With regards to the stereo offset I wonder if it could be added with a
>> bit of work using the standard clipping plane offset as an stereo one?
>>
>> Victor
>>
>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
>> Robert.Guglielmetti at nrel.gov> wrote:
>>
>>> I?ll keep an eye out, should this be added to the standard palette of
>>> views in the source. I think it?s pretty easy to add it to the Qt rvu...
>>>
>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>>>
>>> >Hi Victor (& Nathaniel),
>>> >
>>> >
>>> >I am happy to take a look at the code and see how much effort it would
>>> be
>>> >to integrate.  I have a question first, however.
>>> >
>>> >
>>> >Is the "equirectangular" view useful for anything less than a full
>>> >panorama?  Would people want to use it for smaller/different views, or
>>> do
>>> >you always set vertical to 180? and horizontal to 360? in every
>>> >application?
>>> >
>>> >
>>> >If you only use this view for one purpose, then I wonder if it is really
>>> >worth having a view implemented in Radiance, which needs to handle every
>>> >possible setting correctly.  Also, I wonder in such a case if you have
>>> >tested every possible (legal) setting?
>>> >
>>> >
>>> >Cheers,
>>> >-Greg
>>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170111/3f9986d9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 3d360.cal
Type: application/octet-stream
Size: 1731 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170111/3f9986d9/attachment-0001.obj>

From gregoryjward at gmail.com  Wed Jan 11 16:38:33 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed, 11 Jan 2017 16:38:33 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
Message-ID: <10B76219-EBD5-48B0-8623-3F32413E1367@gmail.com>

Perfect -- happy to add it to the distribution with Mark's blessing.

Would this satisfy people's needs, or should we think about extensions?

Cheers,
-Greg

> From: Andy McNeil <mcneil.andrew at gmail.com>
> Date: January 11, 2017 4:20:44 PM PST
> 
> Hi Greg,
> Mark Stock created the attached cal file for rendering ODS views. If it is okay with Mark, can we add the cal file to the radiance distribution?
> Andy
> 
> 
> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
> Thanks, Andy.
> 
> Have you already created a .cal file to generate the appropriate ray origins and directions for this?  If not, I could take a crack at it.  Seems like an easier method than adding a new view type, especially since we would need a new parameter for the stereo offset to get it to do what we want.
> 
> Regarding rpiece, you can always use the rtrace -n option to get an equivalent speed-up.
> 
> Cheers,
> -Greg
> 
>> From: Andy McNeil <mcneil.andrew at gmail.com>
>> Date: January 11, 2017 1:00:31 PM PST
>> 
>> Hi Greg, 
>> 
>> The viewpoint, or ray origin, is different for each column of pixels in a stereo ODS rendering. If you start with a viewpoint, and draw a circle with diameter that is the distance between one's pupils, then the origin for each ray should be at a point where the ray is tangent to the circle (on the left side of the circle for left eye and right side for right eye).  It's explained & illustrated well here: https://developers.google.com/vr/jump/rendering-ods-content.pdf
>> 
>> I don't see how clipping planes could be used to modify the ray origin, but I could be wrong.
>> 
>> And this goes a ways back in the thread, but one instance where smaller than 180? x 360? sized equirectangular views would be necessary is if a user wanted to use rpiece to render the full view.
>> 
>> Best,
>> Andy
>> 
>> 
>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
>> Hi Victor,
>> 
>> I thought that there was some trick to doing stereo 360? views that involved rotating the eye positions with the ray directions to keep them at right angles.  Andy (McNeil), can you help us out?
>> 
>> -Greg
>> 
>>> From: Victor LRG <rioboo at gmail.com>
>>> Date: January 10, 2017 2:14:48 AM PST
>>> 
>>> I agree with Nathaniel that the general use would be similar to cylindrical or angular fisheye views in terms of view apertures. Personally, I use the equirectangular view in four combinations: 180-360 deg horizontally and 90-180 deg vertically, and then as a base for other fancier view types when I need them.
>>> 
>>> With regards to the stereo offset I wonder if it could be added with a bit of work using the standard clipping plane offset as an stereo one?
>>> 
>>> Victor
>>> 
>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
>>> I?ll keep an eye out, should this be added to the standard palette of
>>> views in the source. I think it?s pretty easy to add it to the Qt rvu...
>>> 
>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>>> 
>>> >Hi Victor (& Nathaniel),
>>> >
>>> >
>>> >I am happy to take a look at the code and see how much effort it would be
>>> >to integrate.  I have a question first, however.
>>> >
>>> >
>>> >Is the "equirectangular" view useful for anything less than a full
>>> >panorama?  Would people want to use it for smaller/different views, or do
>>> >you always set vertical to 180? and horizontal to 360? in every
>>> >application?
>>> >
>>> >
>>> >If you only use this view for one purpose, then I wonder if it is really
>>> >worth having a view implemented in Radiance, which needs to handle every
>>> >possible setting correctly.  Also, I wonder in such a case if you have
>>> >tested every possible (legal) setting?
>>> >
>>> >
>>> >Cheers,
>>> >-Greg
> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170111/19973acc/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 3d360.cal
Type: application/octet-stream
Size: 1731 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170111/19973acc/attachment.obj>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170111/19973acc/attachment-0001.html>

From mstock at umich.edu  Wed Jan 11 16:40:54 2017
From: mstock at umich.edu (Mark Stock)
Date: Wed, 11 Jan 2017 17:40:54 -0700
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
Message-ID: <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>

Andy, Greg,

I'm happy to have it included, if it's up to par. I'm not happy with
the neck rotation portion of that code, and if you want the pixel
edges to line up right on azimuth=0, I need to put a 0.5 in there
somewhere.

Mark

On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
> Hi Greg,
> Mark Stock created the attached cal file for rendering ODS views. If it is
> okay with Mark, can we add the cal file to the radiance distribution?
> Andy
>
>
> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <gregoryjward at gmail.com>
> wrote:
>
>> Thanks, Andy.
>>
>> Have you already created a .cal file to generate the appropriate ray
>> origins and directions for this?  If not, I could take a crack at it.
>> Seems like an easier method than adding a new view type, especially since
>> we would need a new parameter for the stereo offset to get it to do what
>> we
>> want.
>>
>> Regarding rpiece, you can always use the rtrace -n option to get an
>> equivalent speed-up.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
>>
>> *Date: *January 11, 2017 1:00:31 PM PST
>>
>>
>> Hi Greg,
>>
>> The viewpoint, or ray origin, is different for each column of pixels in a
>> stereo ODS rendering. If you start with a viewpoint, and draw a circle
>> with
>> diameter that is the distance between one's pupils, then the origin for
>> each ray should be at a point where the ray is tangent to the circle (on
>> the left side of the circle for left eye and right side for right eye).
>> It's explained & illustrated well here: https://developers.google.com/
>> vr/jump/rendering-ods-content.pdf
>>
>> I don't see how clipping planes could be used to modify the ray origin,
>> but I could be wrong.
>>
>> And this goes a ways back in the thread, but one instance where smaller
>> than 180? x 360? sized equirectangular views would be necessary is if a
>> user wanted to use rpiece to render the full view.
>>
>> Best,
>> Andy
>>
>>
>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
>> <gregoryjward at gmail.com>
>> wrote:
>>
>>> Hi Victor,
>>>
>>> I thought that there was some trick to doing stereo 360? views that
>>> involved rotating the eye positions with the ray directions to keep them
>>> at
>>> right angles.  Andy (McNeil), can you help us out?
>>>
>>> -Greg
>>>
>>> *From: *Victor LRG <rioboo at gmail.com>
>>>
>>> *Date: *January 10, 2017 2:14:48 AM PST
>>>
>>>
>>> I agree with Nathaniel that the general use would be similar to
>>> cylindrical
>>> or angular fisheye views in terms of view apertures. Personally, I use
>>> the equirectangular view in four combinations: 180-360 deg horizontally
>>> and
>>> 90-180 deg vertically, and then as a base for other fancier view types
>>> when
>>> I need them.
>>>
>>> With regards to the stereo offset I wonder if it could be added with a
>>> bit of work using the standard clipping plane offset as an stereo one?
>>>
>>> Victor
>>>
>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
>>> Robert.Guglielmetti at nrel.gov> wrote:
>>>
>>>> I?ll keep an eye out, should this be added to the standard palette of
>>>> views in the source. I think it?s pretty easy to add it to the Qt
>>>> rvu...
>>>>
>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>>>>
>>>> >Hi Victor (& Nathaniel),
>>>> >
>>>> >
>>>> >I am happy to take a look at the code and see how much effort it would
>>>> be
>>>> >to integrate.  I have a question first, however.
>>>> >
>>>> >
>>>> >Is the "equirectangular" view useful for anything less than a full
>>>> >panorama?  Would people want to use it for smaller/different views, or
>>>> do
>>>> >you always set vertical to 180? and horizontal to 360? in every
>>>> >application?
>>>> >
>>>> >
>>>> >If you only use this view for one purpose, then I wonder if it is
>>>> > really
>>>> >worth having a view implemented in Radiance, which needs to handle
>>>> > every
>>>> >possible setting correctly.  Also, I wonder in such a case if you have
>>>> >tested every possible (legal) setting?
>>>> >
>>>> >
>>>> >Cheers,
>>>> >-Greg
>>>>
>>>
>>> _______________________________________________
>>> Radiance-dev mailing list
>>> Radiance-dev at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>
>>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>>
>


From gregoryjward at gmail.com  Wed Jan 11 16:53:07 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed, 11 Jan 2017 16:53:07 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
Message-ID: <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>

Thanks, Mark.

I'll take a closer look at it and generate some test images with your .cal file.  Also, if there are any features people want to have that they would feel helpful or important, let us know!

-Greg

> From: Mark Stock <mstock at umich.edu>
> Date: January 11, 2017 4:40:54 PM PST
> 
> Andy, Greg,
> 
> I'm happy to have it included, if it's up to par. I'm not happy with
> the neck rotation portion of that code, and if you want the pixel
> edges to line up right on azimuth=0, I need to put a 0.5 in there
> somewhere.
> 
> Mark
> 
> On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
>> Hi Greg,
>> Mark Stock created the attached cal file for rendering ODS views. If it is
>> okay with Mark, can we add the cal file to the radiance distribution?
>> Andy
>> 
>> 
>> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <gregoryjward at gmail.com>
>> wrote:
>> 
>>> Thanks, Andy.
>>> 
>>> Have you already created a .cal file to generate the appropriate ray
>>> origins and directions for this?  If not, I could take a crack at it.
>>> Seems like an easier method than adding a new view type, especially since
>>> we would need a new parameter for the stereo offset to get it to do what
>>> we
>>> want.
>>> 
>>> Regarding rpiece, you can always use the rtrace -n option to get an
>>> equivalent speed-up.
>>> 
>>> Cheers,
>>> -Greg
>>> 
>>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
>>> 
>>> *Date: *January 11, 2017 1:00:31 PM PST
>>> 
>>> 
>>> Hi Greg,
>>> 
>>> The viewpoint, or ray origin, is different for each column of pixels in a
>>> stereo ODS rendering. If you start with a viewpoint, and draw a circle
>>> with
>>> diameter that is the distance between one's pupils, then the origin for
>>> each ray should be at a point where the ray is tangent to the circle (on
>>> the left side of the circle for left eye and right side for right eye).
>>> It's explained & illustrated well here: https://developers.google.com/
>>> vr/jump/rendering-ods-content.pdf
>>> 
>>> I don't see how clipping planes could be used to modify the ray origin,
>>> but I could be wrong.
>>> 
>>> And this goes a ways back in the thread, but one instance where smaller
>>> than 180? x 360? sized equirectangular views would be necessary is if a
>>> user wanted to use rpiece to render the full view.
>>> 
>>> Best,
>>> Andy
>>> 
>>> 
>>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
>>> <gregoryjward at gmail.com>
>>> wrote:
>>> 
>>>> Hi Victor,
>>>> 
>>>> I thought that there was some trick to doing stereo 360? views that
>>>> involved rotating the eye positions with the ray directions to keep them
>>>> at
>>>> right angles.  Andy (McNeil), can you help us out?
>>>> 
>>>> -Greg
>>>> 
>>>> *From: *Victor LRG <rioboo at gmail.com>
>>>> 
>>>> *Date: *January 10, 2017 2:14:48 AM PST
>>>> 
>>>> 
>>>> I agree with Nathaniel that the general use would be similar to
>>>> cylindrical
>>>> or angular fisheye views in terms of view apertures. Personally, I use
>>>> the equirectangular view in four combinations: 180-360 deg horizontally
>>>> and
>>>> 90-180 deg vertically, and then as a base for other fancier view types
>>>> when
>>>> I need them.
>>>> 
>>>> With regards to the stereo offset I wonder if it could be added with a
>>>> bit of work using the standard clipping plane offset as an stereo one?
>>>> 
>>>> Victor
>>>> 
>>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
>>>> Robert.Guglielmetti at nrel.gov> wrote:
>>>> 
>>>>> I?ll keep an eye out, should this be added to the standard palette of
>>>>> views in the source. I think it?s pretty easy to add it to the Qt
>>>>> rvu...
>>>>> 
>>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>>>>> 
>>>>>> Hi Victor (& Nathaniel),
>>>>>> 
>>>>>> 
>>>>>> I am happy to take a look at the code and see how much effort it would
>>>>> be
>>>>>> to integrate.  I have a question first, however.
>>>>>> 
>>>>>> 
>>>>>> Is the "equirectangular" view useful for anything less than a full
>>>>>> panorama?  Would people want to use it for smaller/different views, or
>>>>> do
>>>>>> you always set vertical to 180? and horizontal to 360? in every
>>>>>> application?
>>>>>> 
>>>>>> 
>>>>>> If you only use this view for one purpose, then I wonder if it is
>>>>>> really
>>>>>> worth having a view implemented in Radiance, which needs to handle
>>>>>> every
>>>>>> possible setting correctly.  Also, I wonder in such a case if you have
>>>>>> tested every possible (legal) setting?
>>>>>> 
>>>>>> 
>>>>>> Cheers,
>>>>>> -Greg
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>> 
>>>> 
>>> _______________________________________________
>>> Radiance-dev mailing list
>>> Radiance-dev at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>> 
>>> 
>>> _______________________________________________
>>> Radiance-dev mailing list
>>> Radiance-dev at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>> 
>>> 
>> 
> 
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev


From gregoryjward at gmail.com  Fri Jan 13 18:31:26 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri, 13 Jan 2017 18:31:26 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
Message-ID: <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>

I checked in the file, renaming it to "view360stereo.cal" in the src/cal/cal folder.  I made a few modifications, which I hope are improvements, but I don't have a viewer that I can test it with.  Can someone give it a try?

Thanks!
-Greg

> From: "Gregory J. Ward" <gregoryjward at gmail.com>
> Date: January 11, 2017 4:53:07 PM PST
> 
> Thanks, Mark.
> 
> I'll take a closer look at it and generate some test images with your .cal file.  Also, if there are any features people want to have that they would feel helpful or important, let us know!
> 
> -Greg
> 
>> From: Mark Stock <mstock at umich.edu>
>> Date: January 11, 2017 4:40:54 PM PST
>> 
>> Andy, Greg,
>> 
>> I'm happy to have it included, if it's up to par. I'm not happy with
>> the neck rotation portion of that code, and if you want the pixel
>> edges to line up right on azimuth=0, I need to put a 0.5 in there
>> somewhere.
>> 
>> Mark
>> 
>> On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
>>> Hi Greg,
>>> Mark Stock created the attached cal file for rendering ODS views. If it is
>>> okay with Mark, can we add the cal file to the radiance distribution?
>>> Andy
>>> 
>>> 
>>> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <gregoryjward at gmail.com>
>>> wrote:
>>> 
>>>> Thanks, Andy.
>>>> 
>>>> Have you already created a .cal file to generate the appropriate ray
>>>> origins and directions for this?  If not, I could take a crack at it.
>>>> Seems like an easier method than adding a new view type, especially since
>>>> we would need a new parameter for the stereo offset to get it to do what
>>>> we
>>>> want.
>>>> 
>>>> Regarding rpiece, you can always use the rtrace -n option to get an
>>>> equivalent speed-up.
>>>> 
>>>> Cheers,
>>>> -Greg
>>>> 
>>>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
>>>> 
>>>> *Date: *January 11, 2017 1:00:31 PM PST
>>>> 
>>>> 
>>>> Hi Greg,
>>>> 
>>>> The viewpoint, or ray origin, is different for each column of pixels in a
>>>> stereo ODS rendering. If you start with a viewpoint, and draw a circle
>>>> with
>>>> diameter that is the distance between one's pupils, then the origin for
>>>> each ray should be at a point where the ray is tangent to the circle (on
>>>> the left side of the circle for left eye and right side for right eye).
>>>> It's explained & illustrated well here: https://developers.google.com/
>>>> vr/jump/rendering-ods-content.pdf
>>>> 
>>>> I don't see how clipping planes could be used to modify the ray origin,
>>>> but I could be wrong.
>>>> 
>>>> And this goes a ways back in the thread, but one instance where smaller
>>>> than 180? x 360? sized equirectangular views would be necessary is if a
>>>> user wanted to use rpiece to render the full view.
>>>> 
>>>> Best,
>>>> Andy
>>>> 
>>>> 
>>>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
>>>> <gregoryjward at gmail.com>
>>>> wrote:
>>>> 
>>>>> Hi Victor,
>>>>> 
>>>>> I thought that there was some trick to doing stereo 360? views that
>>>>> involved rotating the eye positions with the ray directions to keep them
>>>>> at
>>>>> right angles.  Andy (McNeil), can you help us out?
>>>>> 
>>>>> -Greg
>>>>> 
>>>>> *From: *Victor LRG <rioboo at gmail.com>
>>>>> 
>>>>> *Date: *January 10, 2017 2:14:48 AM PST
>>>>> 
>>>>> 
>>>>> I agree with Nathaniel that the general use would be similar to
>>>>> cylindrical
>>>>> or angular fisheye views in terms of view apertures. Personally, I use
>>>>> the equirectangular view in four combinations: 180-360 deg horizontally
>>>>> and
>>>>> 90-180 deg vertically, and then as a base for other fancier view types
>>>>> when
>>>>> I need them.
>>>>> 
>>>>> With regards to the stereo offset I wonder if it could be added with a
>>>>> bit of work using the standard clipping plane offset as an stereo one?
>>>>> 
>>>>> Victor
>>>>> 
>>>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
>>>>> Robert.Guglielmetti at nrel.gov> wrote:
>>>>> 
>>>>>> I?ll keep an eye out, should this be added to the standard palette of
>>>>>> views in the source. I think it?s pretty easy to add it to the Qt
>>>>>> rvu...
>>>>>> 
>>>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>>>>>> 
>>>>>>> Hi Victor (& Nathaniel),
>>>>>>> 
>>>>>>> 
>>>>>>> I am happy to take a look at the code and see how much effort it would
>>>>>> be
>>>>>>> to integrate.  I have a question first, however.
>>>>>>> 
>>>>>>> 
>>>>>>> Is the "equirectangular" view useful for anything less than a full
>>>>>>> panorama?  Would people want to use it for smaller/different views, or
>>>>>> do
>>>>>>> you always set vertical to 180? and horizontal to 360? in every
>>>>>>> application?
>>>>>>> 
>>>>>>> 
>>>>>>> If you only use this view for one purpose, then I wonder if it is
>>>>>>> really
>>>>>>> worth having a view implemented in Radiance, which needs to handle
>>>>>>> every
>>>>>>> possible setting correctly.  Also, I wonder in such a case if you have
>>>>>>> tested every possible (legal) setting?
>>>>>>> 
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> -Greg
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> Radiance-dev mailing list
>>>>> Radiance-dev at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>>> 
>>>>> 
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>> 
>>>> 
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>> 
>>>> 
>>> 
>> 
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev


From nathanieljon at gmail.com  Mon Jan 16 13:15:01 2017
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Mon, 16 Jan 2017 16:15:01 -0500
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
 <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
Message-ID: <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>

I just ran the view360stereo.cal file on a model that I've been working
with. The image that's generated is mirrored left-to-right from what I'd
expect. Other than that, the ODS projection works decently well in my
cardboard viewer.

A few other notes: The .cal file name in the example in comments doesn't
match the new name of the .cal file. Also, this is perhaps unnecessary, but
I'd like to be able to specify the forward direction to appear in the
center of the image.

For my own work, I've gone ahead and implemented the ODS view in source
code. I've called it VT_ODS (-vto) and added a new parameter -vi for
inter-pupillary distance. I haven't bothered with the EX and EZ parameters
for neck rotation yet. Also, the implementation isn't complete (I'm not
sure what viewloc() does, for example), but it's working for my purposes.

Cheers,

Nathaniel

On Fri, Jan 13, 2017 at 9:31 PM, Gregory J. Ward <gregoryjward at gmail.com>
wrote:

> I checked in the file, renaming it to "view360stereo.cal" in the
> src/cal/cal folder.  I made a few modifications, which I hope are
> improvements, but I don't have a viewer that I can test it with.  Can
> someone give it a try?
>
> Thanks!
> -Greg
>
> > From: "Gregory J. Ward" <gregoryjward at gmail.com>
> > Date: January 11, 2017 4:53:07 PM PST
> >
> > Thanks, Mark.
> >
> > I'll take a closer look at it and generate some test images with your
> .cal file.  Also, if there are any features people want to have that they
> would feel helpful or important, let us know!
> >
> > -Greg
> >
> >> From: Mark Stock <mstock at umich.edu>
> >> Date: January 11, 2017 4:40:54 PM PST
> >>
> >> Andy, Greg,
> >>
> >> I'm happy to have it included, if it's up to par. I'm not happy with
> >> the neck rotation portion of that code, and if you want the pixel
> >> edges to line up right on azimuth=0, I need to put a 0.5 in there
> >> somewhere.
> >>
> >> Mark
> >>
> >> On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
> >>> Hi Greg,
> >>> Mark Stock created the attached cal file for rendering ODS views. If
> it is
> >>> okay with Mark, can we add the cal file to the radiance distribution?
> >>> Andy
> >>>
> >>>
> >>> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <
> gregoryjward at gmail.com>
> >>> wrote:
> >>>
> >>>> Thanks, Andy.
> >>>>
> >>>> Have you already created a .cal file to generate the appropriate ray
> >>>> origins and directions for this?  If not, I could take a crack at it.
> >>>> Seems like an easier method than adding a new view type, especially
> since
> >>>> we would need a new parameter for the stereo offset to get it to do
> what
> >>>> we
> >>>> want.
> >>>>
> >>>> Regarding rpiece, you can always use the rtrace -n option to get an
> >>>> equivalent speed-up.
> >>>>
> >>>> Cheers,
> >>>> -Greg
> >>>>
> >>>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
> >>>>
> >>>> *Date: *January 11, 2017 1:00:31 PM PST
> >>>>
> >>>>
> >>>> Hi Greg,
> >>>>
> >>>> The viewpoint, or ray origin, is different for each column of pixels
> in a
> >>>> stereo ODS rendering. If you start with a viewpoint, and draw a circle
> >>>> with
> >>>> diameter that is the distance between one's pupils, then the origin
> for
> >>>> each ray should be at a point where the ray is tangent to the circle
> (on
> >>>> the left side of the circle for left eye and right side for right
> eye).
> >>>> It's explained & illustrated well here:
> https://developers.google.com/
> >>>> vr/jump/rendering-ods-content.pdf
> >>>>
> >>>> I don't see how clipping planes could be used to modify the ray
> origin,
> >>>> but I could be wrong.
> >>>>
> >>>> And this goes a ways back in the thread, but one instance where
> smaller
> >>>> than 180? x 360? sized equirectangular views would be necessary is if
> a
> >>>> user wanted to use rpiece to render the full view.
> >>>>
> >>>> Best,
> >>>> Andy
> >>>>
> >>>>
> >>>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
> >>>> <gregoryjward at gmail.com>
> >>>> wrote:
> >>>>
> >>>>> Hi Victor,
> >>>>>
> >>>>> I thought that there was some trick to doing stereo 360? views that
> >>>>> involved rotating the eye positions with the ray directions to keep
> them
> >>>>> at
> >>>>> right angles.  Andy (McNeil), can you help us out?
> >>>>>
> >>>>> -Greg
> >>>>>
> >>>>> *From: *Victor LRG <rioboo at gmail.com>
> >>>>>
> >>>>> *Date: *January 10, 2017 2:14:48 AM PST
> >>>>>
> >>>>>
> >>>>> I agree with Nathaniel that the general use would be similar to
> >>>>> cylindrical
> >>>>> or angular fisheye views in terms of view apertures. Personally, I
> use
> >>>>> the equirectangular view in four combinations: 180-360 deg
> horizontally
> >>>>> and
> >>>>> 90-180 deg vertically, and then as a base for other fancier view
> types
> >>>>> when
> >>>>> I need them.
> >>>>>
> >>>>> With regards to the stereo offset I wonder if it could be added with
> a
> >>>>> bit of work using the standard clipping plane offset as an stereo
> one?
> >>>>>
> >>>>> Victor
> >>>>>
> >>>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
> >>>>> Robert.Guglielmetti at nrel.gov> wrote:
> >>>>>
> >>>>>> I?ll keep an eye out, should this be added to the standard palette
> of
> >>>>>> views in the source. I think it?s pretty easy to add it to the Qt
> >>>>>> rvu...
> >>>>>>
> >>>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com>
> wrote:
> >>>>>>
> >>>>>>> Hi Victor (& Nathaniel),
> >>>>>>>
> >>>>>>>
> >>>>>>> I am happy to take a look at the code and see how much effort it
> would
> >>>>>> be
> >>>>>>> to integrate.  I have a question first, however.
> >>>>>>>
> >>>>>>>
> >>>>>>> Is the "equirectangular" view useful for anything less than a full
> >>>>>>> panorama?  Would people want to use it for smaller/different
> views, or
> >>>>>> do
> >>>>>>> you always set vertical to 180? and horizontal to 360? in every
> >>>>>>> application?
> >>>>>>>
> >>>>>>>
> >>>>>>> If you only use this view for one purpose, then I wonder if it is
> >>>>>>> really
> >>>>>>> worth having a view implemented in Radiance, which needs to handle
> >>>>>>> every
> >>>>>>> possible setting correctly.  Also, I wonder in such a case if you
> have
> >>>>>>> tested every possible (legal) setting?
> >>>>>>>
> >>>>>>>
> >>>>>>> Cheers,
> >>>>>>> -Greg
> >>>>>>
> >>>>>
> >>>>> _______________________________________________
> >>>>> Radiance-dev mailing list
> >>>>> Radiance-dev at radiance-online.org
> >>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> >>>>>
> >>>>>
> >>>> _______________________________________________
> >>>> Radiance-dev mailing list
> >>>> Radiance-dev at radiance-online.org
> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> >>>>
> >>>>
> >>>> _______________________________________________
> >>>> Radiance-dev mailing list
> >>>> Radiance-dev at radiance-online.org
> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> >>>>
> >>>>
> >>>
> >>
> >> _______________________________________________
> >> Radiance-dev mailing list
> >> Radiance-dev at radiance-online.org
> >> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170116/23949c68/attachment.html>

From gregoryjward at gmail.com  Mon Jan 16 13:32:00 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon, 16 Jan 2017 13:32:00 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
 <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
 <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
Message-ID: <2967E01B-DA5C-405E-B757-FC9E1C23CD2E@gmail.com>

I can probably make the suggested changes.  Let's hear from Mark to see what he says.  I was also wondering about the azimuth direction, but I don't have a phone or the app I need to check things.

-Greg

> From: Nathaniel Jones <nathanieljon at gmail.com>
> Date: January 16, 2017 1:15:01 PM PST
> 
> I just ran the view360stereo.cal file on a model that I've been working with. The image that's generated is mirrored left-to-right from what I'd expect. Other than that, the ODS projection works decently well in my cardboard viewer.
> 
> A few other notes: The .cal file name in the example in comments doesn't match the new name of the .cal file. Also, this is perhaps unnecessary, but I'd like to be able to specify the forward direction to appear in the center of the image.
> 
> For my own work, I've gone ahead and implemented the ODS view in source code. I've called it VT_ODS (-vto) and added a new parameter -vi for inter-pupillary distance. I haven't bothered with the EX and EZ parameters for neck rotation yet. Also, the implementation isn't complete (I'm not sure what viewloc() does, for example), but it's working for my purposes.
> 
> Cheers,
> 
> Nathaniel
> 
> On Fri, Jan 13, 2017 at 9:31 PM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
> I checked in the file, renaming it to "view360stereo.cal" in the src/cal/cal folder.  I made a few modifications, which I hope are improvements, but I don't have a viewer that I can test it with.  Can someone give it a try?
> 
> Thanks!
> -Greg
> 
> > From: "Gregory J. Ward" <gregoryjward at gmail.com>
> > Date: January 11, 2017 4:53:07 PM PST
> >
> > Thanks, Mark.
> >
> > I'll take a closer look at it and generate some test images with your .cal file.  Also, if there are any features people want to have that they would feel helpful or important, let us know!
> >
> > -Greg
> >
> >> From: Mark Stock <mstock at umich.edu>
> >> Date: January 11, 2017 4:40:54 PM PST
> >>
> >> Andy, Greg,
> >>
> >> I'm happy to have it included, if it's up to par. I'm not happy with
> >> the neck rotation portion of that code, and if you want the pixel
> >> edges to line up right on azimuth=0, I need to put a 0.5 in there
> >> somewhere.
> >>
> >> Mark
> >>
> >> On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
> >>> Hi Greg,
> >>> Mark Stock created the attached cal file for rendering ODS views. If it is
> >>> okay with Mark, can we add the cal file to the radiance distribution?
> >>> Andy
> >>>
> >>>
> >>> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <gregoryjward at gmail.com>
> >>> wrote:
> >>>
> >>>> Thanks, Andy.
> >>>>
> >>>> Have you already created a .cal file to generate the appropriate ray
> >>>> origins and directions for this?  If not, I could take a crack at it.
> >>>> Seems like an easier method than adding a new view type, especially since
> >>>> we would need a new parameter for the stereo offset to get it to do what
> >>>> we
> >>>> want.
> >>>>
> >>>> Regarding rpiece, you can always use the rtrace -n option to get an
> >>>> equivalent speed-up.
> >>>>
> >>>> Cheers,
> >>>> -Greg
> >>>>
> >>>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
> >>>>
> >>>> *Date: *January 11, 2017 1:00:31 PM PST
> >>>>
> >>>>
> >>>> Hi Greg,
> >>>>
> >>>> The viewpoint, or ray origin, is different for each column of pixels in a
> >>>> stereo ODS rendering. If you start with a viewpoint, and draw a circle
> >>>> with
> >>>> diameter that is the distance between one's pupils, then the origin for
> >>>> each ray should be at a point where the ray is tangent to the circle (on
> >>>> the left side of the circle for left eye and right side for right eye).
> >>>> It's explained & illustrated well here: https://developers.google.com/
> >>>> vr/jump/rendering-ods-content.pdf
> >>>>
> >>>> I don't see how clipping planes could be used to modify the ray origin,
> >>>> but I could be wrong.
> >>>>
> >>>> And this goes a ways back in the thread, but one instance where smaller
> >>>> than 180? x 360? sized equirectangular views would be necessary is if a
> >>>> user wanted to use rpiece to render the full view.
> >>>>
> >>>> Best,
> >>>> Andy
> >>>>
> >>>>
> >>>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
> >>>> <gregoryjward at gmail.com>
> >>>> wrote:
> >>>>
> >>>>> Hi Victor,
> >>>>>
> >>>>> I thought that there was some trick to doing stereo 360? views that
> >>>>> involved rotating the eye positions with the ray directions to keep them
> >>>>> at
> >>>>> right angles.  Andy (McNeil), can you help us out?
> >>>>>
> >>>>> -Greg
> >>>>>
> >>>>> *From: *Victor LRG <rioboo at gmail.com>
> >>>>>
> >>>>> *Date: *January 10, 2017 2:14:48 AM PST
> >>>>>
> >>>>>
> >>>>> I agree with Nathaniel that the general use would be similar to
> >>>>> cylindrical
> >>>>> or angular fisheye views in terms of view apertures. Personally, I use
> >>>>> the equirectangular view in four combinations: 180-360 deg horizontally
> >>>>> and
> >>>>> 90-180 deg vertically, and then as a base for other fancier view types
> >>>>> when
> >>>>> I need them.
> >>>>>
> >>>>> With regards to the stereo offset I wonder if it could be added with a
> >>>>> bit of work using the standard clipping plane offset as an stereo one?
> >>>>>
> >>>>> Victor
> >>>>>
> >>>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
> >>>>> Robert.Guglielmetti at nrel.gov> wrote:
> >>>>>
> >>>>>> I?ll keep an eye out, should this be added to the standard palette of
> >>>>>> views in the source. I think it?s pretty easy to add it to the Qt
> >>>>>> rvu...
> >>>>>>
> >>>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
> >>>>>>
> >>>>>>> Hi Victor (& Nathaniel),
> >>>>>>>
> >>>>>>>
> >>>>>>> I am happy to take a look at the code and see how much effort it would
> >>>>>> be
> >>>>>>> to integrate.  I have a question first, however.
> >>>>>>>
> >>>>>>>
> >>>>>>> Is the "equirectangular" view useful for anything less than a full
> >>>>>>> panorama?  Would people want to use it for smaller/different views, or
> >>>>>> do
> >>>>>>> you always set vertical to 180? and horizontal to 360? in every
> >>>>>>> application?
> >>>>>>>
> >>>>>>>
> >>>>>>> If you only use this view for one purpose, then I wonder if it is
> >>>>>>> really
> >>>>>>> worth having a view implemented in Radiance, which needs to handle
> >>>>>>> every
> >>>>>>> possible setting correctly.  Also, I wonder in such a case if you have
> >>>>>>> tested every possible (legal) setting?
> >>>>>>>
> >>>>>>>
> >>>>>>> Cheers,
> >>>>>>> -Greg
> >>>>>>
> >>>>>
> >>>>> _______________________________________________
> >>>>> Radiance-dev mailing list
> >>>>> Radiance-dev at radiance-online.org
> >>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> >>>>>
> >>>>>
> >>>> _______________________________________________
> >>>> Radiance-dev mailing list
> >>>> Radiance-dev at radiance-online.org
> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> >>>>
> >>>>
> >>>> _______________________________________________
> >>>> Radiance-dev mailing list
> >>>> Radiance-dev at radiance-online.org
> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> >>>>
> >>>>
> >>>
> >>
> >> _______________________________________________
> >> Radiance-dev mailing list
> >> Radiance-dev at radiance-online.org
> >> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> 
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> 
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170116/22eef168/attachment-0001.html>

From rioboo at gmail.com  Mon Jan 16 13:34:17 2017
From: rioboo at gmail.com (Victor LRG)
Date: Mon, 16 Jan 2017 21:34:17 +0000
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
 <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
 <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
Message-ID: <CADr1nSEKM4AF4vDPP4v25nhLBjxcs6qri-5cfgyB6==W8EW0DA@mail.gmail.com>

Nathaniel,

I think what viewloc does the inverse of viewray. For a given point (p) and
view type pointer (*v) I think it calculates the image location (i), with
ip[0] and ip[1] being the ratio coordinates from the bottom left corner and
ip[2] the distance to the clipping plane.

Victor

On 16 January 2017 at 21:15, Nathaniel Jones <nathanieljon at gmail.com> wrote:

> I just ran the view360stereo.cal file on a model that I've been working
> with. The image that's generated is mirrored left-to-right from what I'd
> expect. Other than that, the ODS projection works decently well in my
> cardboard viewer.
>
> A few other notes: The .cal file name in the example in comments doesn't
> match the new name of the .cal file. Also, this is perhaps unnecessary, but
> I'd like to be able to specify the forward direction to appear in the
> center of the image.
>
> For my own work, I've gone ahead and implemented the ODS view in source
> code. I've called it VT_ODS (-vto) and added a new parameter -vi for
> inter-pupillary distance. I haven't bothered with the EX and EZ parameters
> for neck rotation yet. Also, the implementation isn't complete (I'm not
> sure what viewloc() does, for example), but it's working for my purposes.
>
> Cheers,
>
> Nathaniel
>
> On Fri, Jan 13, 2017 at 9:31 PM, Gregory J. Ward <gregoryjward at gmail.com>
> wrote:
>
>> I checked in the file, renaming it to "view360stereo.cal" in the
>> src/cal/cal folder.  I made a few modifications, which I hope are
>> improvements, but I don't have a viewer that I can test it with.  Can
>> someone give it a try?
>>
>> Thanks!
>> -Greg
>>
>> > From: "Gregory J. Ward" <gregoryjward at gmail.com>
>> > Date: January 11, 2017 4:53:07 PM PST
>> >
>> > Thanks, Mark.
>> >
>> > I'll take a closer look at it and generate some test images with your
>> .cal file.  Also, if there are any features people want to have that they
>> would feel helpful or important, let us know!
>> >
>> > -Greg
>> >
>> >> From: Mark Stock <mstock at umich.edu>
>> >> Date: January 11, 2017 4:40:54 PM PST
>> >>
>> >> Andy, Greg,
>> >>
>> >> I'm happy to have it included, if it's up to par. I'm not happy with
>> >> the neck rotation portion of that code, and if you want the pixel
>> >> edges to line up right on azimuth=0, I need to put a 0.5 in there
>> >> somewhere.
>> >>
>> >> Mark
>> >>
>> >> On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
>> >>> Hi Greg,
>> >>> Mark Stock created the attached cal file for rendering ODS views. If
>> it is
>> >>> okay with Mark, can we add the cal file to the radiance distribution?
>> >>> Andy
>> >>>
>> >>>
>> >>> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <
>> gregoryjward at gmail.com>
>> >>> wrote:
>> >>>
>> >>>> Thanks, Andy.
>> >>>>
>> >>>> Have you already created a .cal file to generate the appropriate ray
>> >>>> origins and directions for this?  If not, I could take a crack at it.
>> >>>> Seems like an easier method than adding a new view type, especially
>> since
>> >>>> we would need a new parameter for the stereo offset to get it to do
>> what
>> >>>> we
>> >>>> want.
>> >>>>
>> >>>> Regarding rpiece, you can always use the rtrace -n option to get an
>> >>>> equivalent speed-up.
>> >>>>
>> >>>> Cheers,
>> >>>> -Greg
>> >>>>
>> >>>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
>> >>>>
>> >>>> *Date: *January 11, 2017 1:00:31 PM PST
>> >>>>
>> >>>>
>> >>>> Hi Greg,
>> >>>>
>> >>>> The viewpoint, or ray origin, is different for each column of pixels
>> in a
>> >>>> stereo ODS rendering. If you start with a viewpoint, and draw a
>> circle
>> >>>> with
>> >>>> diameter that is the distance between one's pupils, then the origin
>> for
>> >>>> each ray should be at a point where the ray is tangent to the circle
>> (on
>> >>>> the left side of the circle for left eye and right side for right
>> eye).
>> >>>> It's explained & illustrated well here:
>> https://developers.google.com/
>> >>>> vr/jump/rendering-ods-content.pdf
>> >>>>
>> >>>> I don't see how clipping planes could be used to modify the ray
>> origin,
>> >>>> but I could be wrong.
>> >>>>
>> >>>> And this goes a ways back in the thread, but one instance where
>> smaller
>> >>>> than 180? x 360? sized equirectangular views would be necessary is
>> if a
>> >>>> user wanted to use rpiece to render the full view.
>> >>>>
>> >>>> Best,
>> >>>> Andy
>> >>>>
>> >>>>
>> >>>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
>> >>>> <gregoryjward at gmail.com>
>> >>>> wrote:
>> >>>>
>> >>>>> Hi Victor,
>> >>>>>
>> >>>>> I thought that there was some trick to doing stereo 360? views that
>> >>>>> involved rotating the eye positions with the ray directions to keep
>> them
>> >>>>> at
>> >>>>> right angles.  Andy (McNeil), can you help us out?
>> >>>>>
>> >>>>> -Greg
>> >>>>>
>> >>>>> *From: *Victor LRG <rioboo at gmail.com>
>> >>>>>
>> >>>>> *Date: *January 10, 2017 2:14:48 AM PST
>> >>>>>
>> >>>>>
>> >>>>> I agree with Nathaniel that the general use would be similar to
>> >>>>> cylindrical
>> >>>>> or angular fisheye views in terms of view apertures. Personally, I
>> use
>> >>>>> the equirectangular view in four combinations: 180-360 deg
>> horizontally
>> >>>>> and
>> >>>>> 90-180 deg vertically, and then as a base for other fancier view
>> types
>> >>>>> when
>> >>>>> I need them.
>> >>>>>
>> >>>>> With regards to the stereo offset I wonder if it could be added
>> with a
>> >>>>> bit of work using the standard clipping plane offset as an stereo
>> one?
>> >>>>>
>> >>>>> Victor
>> >>>>>
>> >>>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
>> >>>>> Robert.Guglielmetti at nrel.gov> wrote:
>> >>>>>
>> >>>>>> I?ll keep an eye out, should this be added to the standard palette
>> of
>> >>>>>> views in the source. I think it?s pretty easy to add it to the Qt
>> >>>>>> rvu...
>> >>>>>>
>> >>>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com>
>> wrote:
>> >>>>>>
>> >>>>>>> Hi Victor (& Nathaniel),
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> I am happy to take a look at the code and see how much effort it
>> would
>> >>>>>> be
>> >>>>>>> to integrate.  I have a question first, however.
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> Is the "equirectangular" view useful for anything less than a full
>> >>>>>>> panorama?  Would people want to use it for smaller/different
>> views, or
>> >>>>>> do
>> >>>>>>> you always set vertical to 180? and horizontal to 360? in every
>> >>>>>>> application?
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> If you only use this view for one purpose, then I wonder if it is
>> >>>>>>> really
>> >>>>>>> worth having a view implemented in Radiance, which needs to handle
>> >>>>>>> every
>> >>>>>>> possible setting correctly.  Also, I wonder in such a case if you
>> have
>> >>>>>>> tested every possible (legal) setting?
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> Cheers,
>> >>>>>>> -Greg
>> >>>>>>
>> >>>>>
>> >>>>> _______________________________________________
>> >>>>> Radiance-dev mailing list
>> >>>>> Radiance-dev at radiance-online.org
>> >>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>>
>> >>>>>
>> >>>> _______________________________________________
>> >>>> Radiance-dev mailing list
>> >>>> Radiance-dev at radiance-online.org
>> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>
>> >>>>
>> >>>> _______________________________________________
>> >>>> Radiance-dev mailing list
>> >>>> Radiance-dev at radiance-online.org
>> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>
>> >>>>
>> >>>
>> >>
>> >> _______________________________________________
>> >> Radiance-dev mailing list
>> >> Radiance-dev at radiance-online.org
>> >> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170116/77cc3f0f/attachment.html>

From gregoryjward at gmail.com  Sun Jan 22 13:06:05 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sun, 22 Jan 2017 13:06:05 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <2967E01B-DA5C-405E-B757-FC9E1C23CD2E@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
 <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
 <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
 <2967E01B-DA5C-405E-B757-FC9E1C23CD2E@gmail.com>
Message-ID: <D23D54AB-CE7E-4127-AB24-4ECCA3AD3501@gmail.com>

I went ahead and checked in the suggested changes -- give it a try!

-Greg

> From: "Gregory J. Ward" <gregoryjward at gmail.com>
> Date: January 16, 2017 1:32:00 PM PST
> 
> I can probably make the suggested changes.  Let's hear from Mark to see what he says.  I was also wondering about the azimuth direction, but I don't have a phone or the app I need to check things.
> 
> -Greg
> 
>> From: Nathaniel Jones <nathanieljon at gmail.com>
>> Date: January 16, 2017 1:15:01 PM PST
>> 
>> I just ran the view360stereo.cal file on a model that I've been working with. The image that's generated is mirrored left-to-right from what I'd expect. Other than that, the ODS projection works decently well in my cardboard viewer.
>> 
>> A few other notes: The .cal file name in the example in comments doesn't match the new name of the .cal file. Also, this is perhaps unnecessary, but I'd like to be able to specify the forward direction to appear in the center of the image.
>> 
>> For my own work, I've gone ahead and implemented the ODS view in source code. I've called it VT_ODS (-vto) and added a new parameter -vi for inter-pupillary distance. I haven't bothered with the EX and EZ parameters for neck rotation yet. Also, the implementation isn't complete (I'm not sure what viewloc() does, for example), but it's working for my purposes.
>> 
>> Cheers,
>> 
>> Nathaniel
>> 
>> On Fri, Jan 13, 2017 at 9:31 PM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
>> I checked in the file, renaming it to "view360stereo.cal" in the src/cal/cal folder.  I made a few modifications, which I hope are improvements, but I don't have a viewer that I can test it with.  Can someone give it a try?
>> 
>> Thanks!
>> -Greg
>> 
>> > From: "Gregory J. Ward" <gregoryjward at gmail.com>
>> > Date: January 11, 2017 4:53:07 PM PST
>> >
>> > Thanks, Mark.
>> >
>> > I'll take a closer look at it and generate some test images with your .cal file.  Also, if there are any features people want to have that they would feel helpful or important, let us know!
>> >
>> > -Greg
>> >
>> >> From: Mark Stock <mstock at umich.edu>
>> >> Date: January 11, 2017 4:40:54 PM PST
>> >>
>> >> Andy, Greg,
>> >>
>> >> I'm happy to have it included, if it's up to par. I'm not happy with
>> >> the neck rotation portion of that code, and if you want the pixel
>> >> edges to line up right on azimuth=0, I need to put a 0.5 in there
>> >> somewhere.
>> >>
>> >> Mark
>> >>
>> >> On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
>> >>> Hi Greg,
>> >>> Mark Stock created the attached cal file for rendering ODS views. If it is
>> >>> okay with Mark, can we add the cal file to the radiance distribution?
>> >>> Andy
>> >>>
>> >>>
>> >>> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <gregoryjward at gmail.com>
>> >>> wrote:
>> >>>
>> >>>> Thanks, Andy.
>> >>>>
>> >>>> Have you already created a .cal file to generate the appropriate ray
>> >>>> origins and directions for this?  If not, I could take a crack at it.
>> >>>> Seems like an easier method than adding a new view type, especially since
>> >>>> we would need a new parameter for the stereo offset to get it to do what
>> >>>> we
>> >>>> want.
>> >>>>
>> >>>> Regarding rpiece, you can always use the rtrace -n option to get an
>> >>>> equivalent speed-up.
>> >>>>
>> >>>> Cheers,
>> >>>> -Greg
>> >>>>
>> >>>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
>> >>>>
>> >>>> *Date: *January 11, 2017 1:00:31 PM PST
>> >>>>
>> >>>>
>> >>>> Hi Greg,
>> >>>>
>> >>>> The viewpoint, or ray origin, is different for each column of pixels in a
>> >>>> stereo ODS rendering. If you start with a viewpoint, and draw a circle
>> >>>> with
>> >>>> diameter that is the distance between one's pupils, then the origin for
>> >>>> each ray should be at a point where the ray is tangent to the circle (on
>> >>>> the left side of the circle for left eye and right side for right eye).
>> >>>> It's explained & illustrated well here: https://developers.google.com/
>> >>>> vr/jump/rendering-ods-content.pdf
>> >>>>
>> >>>> I don't see how clipping planes could be used to modify the ray origin,
>> >>>> but I could be wrong.
>> >>>>
>> >>>> And this goes a ways back in the thread, but one instance where smaller
>> >>>> than 180? x 360? sized equirectangular views would be necessary is if a
>> >>>> user wanted to use rpiece to render the full view.
>> >>>>
>> >>>> Best,
>> >>>> Andy
>> >>>>
>> >>>>
>> >>>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
>> >>>> <gregoryjward at gmail.com>
>> >>>> wrote:
>> >>>>
>> >>>>> Hi Victor,
>> >>>>>
>> >>>>> I thought that there was some trick to doing stereo 360? views that
>> >>>>> involved rotating the eye positions with the ray directions to keep them
>> >>>>> at
>> >>>>> right angles.  Andy (McNeil), can you help us out?
>> >>>>>
>> >>>>> -Greg
>> >>>>>
>> >>>>> *From: *Victor LRG <rioboo at gmail.com>
>> >>>>>
>> >>>>> *Date: *January 10, 2017 2:14:48 AM PST
>> >>>>>
>> >>>>>
>> >>>>> I agree with Nathaniel that the general use would be similar to
>> >>>>> cylindrical
>> >>>>> or angular fisheye views in terms of view apertures. Personally, I use
>> >>>>> the equirectangular view in four combinations: 180-360 deg horizontally
>> >>>>> and
>> >>>>> 90-180 deg vertically, and then as a base for other fancier view types
>> >>>>> when
>> >>>>> I need them.
>> >>>>>
>> >>>>> With regards to the stereo offset I wonder if it could be added with a
>> >>>>> bit of work using the standard clipping plane offset as an stereo one?
>> >>>>>
>> >>>>> Victor
>> >>>>>
>> >>>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
>> >>>>> Robert.Guglielmetti at nrel.gov> wrote:
>> >>>>>
>> >>>>>> I?ll keep an eye out, should this be added to the standard palette of
>> >>>>>> views in the source. I think it?s pretty easy to add it to the Qt
>> >>>>>> rvu...
>> >>>>>>
>> >>>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>> >>>>>>
>> >>>>>>> Hi Victor (& Nathaniel),
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> I am happy to take a look at the code and see how much effort it would
>> >>>>>> be
>> >>>>>>> to integrate.  I have a question first, however.
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> Is the "equirectangular" view useful for anything less than a full
>> >>>>>>> panorama?  Would people want to use it for smaller/different views, or
>> >>>>>> do
>> >>>>>>> you always set vertical to 180? and horizontal to 360? in every
>> >>>>>>> application?
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> If you only use this view for one purpose, then I wonder if it is
>> >>>>>>> really
>> >>>>>>> worth having a view implemented in Radiance, which needs to handle
>> >>>>>>> every
>> >>>>>>> possible setting correctly.  Also, I wonder in such a case if you have
>> >>>>>>> tested every possible (legal) setting?
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> Cheers,
>> >>>>>>> -Greg
>> >>>>>>
>> >>>>>
>> >>>>> _______________________________________________
>> >>>>> Radiance-dev mailing list
>> >>>>> Radiance-dev at radiance-online.org
>> >>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>>
>> >>>>>
>> >>>> _______________________________________________
>> >>>> Radiance-dev mailing list
>> >>>> Radiance-dev at radiance-online.org
>> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>
>> >>>>
>> >>>> _______________________________________________
>> >>>> Radiance-dev mailing list
>> >>>> Radiance-dev at radiance-online.org
>> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>
>> >>>>
>> >>>
>> >>
>> >> _______________________________________________
>> >> Radiance-dev mailing list
>> >> Radiance-dev at radiance-online.org
>> >> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> 
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> 
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170122/3c656d15/attachment.html>

From nathanieljon at gmail.com  Sun Jan 22 15:02:05 2017
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Sun, 22 Jan 2017 18:02:05 -0500
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <D23D54AB-CE7E-4127-AB24-4ECCA3AD3501@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
 <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
 <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
 <2967E01B-DA5C-405E-B757-FC9E1C23CD2E@gmail.com>
 <D23D54AB-CE7E-4127-AB24-4ECCA3AD3501@gmail.com>
Message-ID: <CAJR73tsht6dGQC-fLRTQz=azvy6E8-mrS_Zy+LVYZn-WWzj+dw@mail.gmail.com>

Ok, this gives the orientation I would expect, but the left and right eye
views are now switched. Probably and artifact of reversing the azimuth
direction...

Nathaniel

On Sun, Jan 22, 2017 at 4:06 PM, Gregory J. Ward <gregoryjward at gmail.com>
wrote:

> I went ahead and checked in the suggested changes -- give it a try!
>
> -Greg
>
> *From: *"Gregory J. Ward" <gregoryjward at gmail.com>
>
> *Date: *January 16, 2017 1:32:00 PM PST
>
>
> I can probably make the suggested changes.  Let's hear from Mark to see
> what he says.  I was also wondering about the azimuth direction, but I
> don't have a phone or the app I need to check things.
>
> -Greg
>
> *From: *Nathaniel Jones <nathanieljon at gmail.com>
>
> *Date: *January 16, 2017 1:15:01 PM PST
>
>
> I just ran the view360stereo.cal file on a model that I've been working
> with. The image that's generated is mirrored left-to-right from what I'd
> expect. Other than that, the ODS projection works decently well in my
> cardboard viewer.
>
> A few other notes: The .cal file name in the example in comments doesn't
> match the new name of the .cal file. Also, this is perhaps unnecessary, but
> I'd like to be able to specify the forward direction to appear in the
> center of the image.
>
> For my own work, I've gone ahead and implemented the ODS view in source
> code. I've called it VT_ODS (-vto) and added a new parameter -vi for
> inter-pupillary distance. I haven't bothered with the EX and EZ parameters
> for neck rotation yet. Also, the implementation isn't complete (I'm not
> sure what viewloc() does, for example), but it's working for my purposes.
>
> Cheers,
>
> Nathaniel
>
> On Fri, Jan 13, 2017 at 9:31 PM, Gregory J. Ward <gregoryjward at gmail.com>
> wrote:
>
>> I checked in the file, renaming it to "view360stereo.cal" in the
>> src/cal/cal folder.  I made a few modifications, which I hope are
>> improvements, but I don't have a viewer that I can test it with.  Can
>> someone give it a try?
>>
>> Thanks!
>> -Greg
>>
>> > From: "Gregory J. Ward" <gregoryjward at gmail.com>
>> > Date: January 11, 2017 4:53:07 PM PST
>> >
>> > Thanks, Mark.
>> >
>> > I'll take a closer look at it and generate some test images with your
>> .cal file.  Also, if there are any features people want to have that they
>> would feel helpful or important, let us know!
>> >
>> > -Greg
>> >
>> >> From: Mark Stock <mstock at umich.edu>
>> >> Date: January 11, 2017 4:40:54 PM PST
>> >>
>> >> Andy, Greg,
>> >>
>> >> I'm happy to have it included, if it's up to par. I'm not happy with
>> >> the neck rotation portion of that code, and if you want the pixel
>> >> edges to line up right on azimuth=0, I need to put a 0.5 in there
>> >> somewhere.
>> >>
>> >> Mark
>> >>
>> >> On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
>> >>> Hi Greg,
>> >>> Mark Stock created the attached cal file for rendering ODS views. If
>> it is
>> >>> okay with Mark, can we add the cal file to the radiance distribution?
>> >>> Andy
>> >>>
>> >>>
>> >>> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <
>> gregoryjward at gmail.com>
>> >>> wrote:
>> >>>
>> >>>> Thanks, Andy.
>> >>>>
>> >>>> Have you already created a .cal file to generate the appropriate ray
>> >>>> origins and directions for this?  If not, I could take a crack at it.
>> >>>> Seems like an easier method than adding a new view type, especially
>> since
>> >>>> we would need a new parameter for the stereo offset to get it to do
>> what
>> >>>> we
>> >>>> want.
>> >>>>
>> >>>> Regarding rpiece, you can always use the rtrace -n option to get an
>> >>>> equivalent speed-up.
>> >>>>
>> >>>> Cheers,
>> >>>> -Greg
>> >>>>
>> >>>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
>> >>>>
>> >>>> *Date: *January 11, 2017 1:00:31 PM PST
>> >>>>
>> >>>>
>> >>>> Hi Greg,
>> >>>>
>> >>>> The viewpoint, or ray origin, is different for each column of pixels
>> in a
>> >>>> stereo ODS rendering. If you start with a viewpoint, and draw a
>> circle
>> >>>> with
>> >>>> diameter that is the distance between one's pupils, then the origin
>> for
>> >>>> each ray should be at a point where the ray is tangent to the circle
>> (on
>> >>>> the left side of the circle for left eye and right side for right
>> eye).
>> >>>> It's explained & illustrated well here:
>> https://developers.google.com/
>> >>>> vr/jump/rendering-ods-content.pdf
>> >>>>
>> >>>> I don't see how clipping planes could be used to modify the ray
>> origin,
>> >>>> but I could be wrong.
>> >>>>
>> >>>> And this goes a ways back in the thread, but one instance where
>> smaller
>> >>>> than 180? x 360? sized equirectangular views would be necessary is
>> if a
>> >>>> user wanted to use rpiece to render the full view.
>> >>>>
>> >>>> Best,
>> >>>> Andy
>> >>>>
>> >>>>
>> >>>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
>> >>>> <gregoryjward at gmail.com>
>> >>>> wrote:
>> >>>>
>> >>>>> Hi Victor,
>> >>>>>
>> >>>>> I thought that there was some trick to doing stereo 360? views that
>> >>>>> involved rotating the eye positions with the ray directions to keep
>> them
>> >>>>> at
>> >>>>> right angles.  Andy (McNeil), can you help us out?
>> >>>>>
>> >>>>> -Greg
>> >>>>>
>> >>>>> *From: *Victor LRG <rioboo at gmail.com>
>> >>>>>
>> >>>>> *Date: *January 10, 2017 2:14:48 AM PST
>> >>>>>
>> >>>>>
>> >>>>> I agree with Nathaniel that the general use would be similar to
>> >>>>> cylindrical
>> >>>>> or angular fisheye views in terms of view apertures. Personally, I
>> use
>> >>>>> the equirectangular view in four combinations: 180-360 deg
>> horizontally
>> >>>>> and
>> >>>>> 90-180 deg vertically, and then as a base for other fancier view
>> types
>> >>>>> when
>> >>>>> I need them.
>> >>>>>
>> >>>>> With regards to the stereo offset I wonder if it could be added
>> with a
>> >>>>> bit of work using the standard clipping plane offset as an stereo
>> one?
>> >>>>>
>> >>>>> Victor
>> >>>>>
>> >>>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
>> >>>>> Robert.Guglielmetti at nrel.gov> wrote:
>> >>>>>
>> >>>>>> I?ll keep an eye out, should this be added to the standard palette
>> of
>> >>>>>> views in the source. I think it?s pretty easy to add it to the Qt
>> >>>>>> rvu...
>> >>>>>>
>> >>>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com>
>> wrote:
>> >>>>>>
>> >>>>>>> Hi Victor (& Nathaniel),
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> I am happy to take a look at the code and see how much effort it
>> would
>> >>>>>> be
>> >>>>>>> to integrate.  I have a question first, however.
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> Is the "equirectangular" view useful for anything less than a full
>> >>>>>>> panorama?  Would people want to use it for smaller/different
>> views, or
>> >>>>>> do
>> >>>>>>> you always set vertical to 180? and horizontal to 360? in every
>> >>>>>>> application?
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> If you only use this view for one purpose, then I wonder if it is
>> >>>>>>> really
>> >>>>>>> worth having a view implemented in Radiance, which needs to handle
>> >>>>>>> every
>> >>>>>>> possible setting correctly.  Also, I wonder in such a case if you
>> have
>> >>>>>>> tested every possible (legal) setting?
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> Cheers,
>> >>>>>>> -Greg
>> >>>>>>
>> >>>>>
>> >>>>> _______________________________________________
>> >>>>> Radiance-dev mailing list
>> >>>>> Radiance-dev at radiance-online.org
>> >>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>>
>> >>>>>
>> >>>> _______________________________________________
>> >>>> Radiance-dev mailing list
>> >>>> Radiance-dev at radiance-online.org
>> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>
>> >>>>
>> >>>> _______________________________________________
>> >>>> Radiance-dev mailing list
>> >>>> Radiance-dev at radiance-online.org
>> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> >>>>
>> >>>>
>> >>>
>> >>
>> >> _______________________________________________
>> >> Radiance-dev mailing list
>> >> Radiance-dev at radiance-online.org
>> >> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170122/600fb896/attachment-0001.html>

From gregoryjward at gmail.com  Sun Jan 22 15:44:13 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun, 22 Jan 2017 15:44:13 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CAJR73tsht6dGQC-fLRTQz=azvy6E8-mrS_Zy+LVYZn-WWzj+dw@mail.gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
 <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
 <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
 <2967E01B-DA5C-405E-B757-FC9E1C23CD2E@gmail.com>
 <D23D54AB-CE7E-4127-AB24-4ECCA3AD3501@gmail.com>
 <CAJR73tsht6dGQC-fLRTQz=azvy6E8-mrS_Zy+LVYZn-WWzj+dw@mail.gmail.com>
Message-ID: <CC2F0274-0DE8-4E3B-94D8-523C3EE54E3D@gmail.com>

OK. I'll have to fix that...

Sent from my iPad

> On Jan 22, 2017, at 3:02 PM, Nathaniel Jones <nathanieljon at gmail.com> wrote:
> 
> Ok, this gives the orientation I would expect, but the left and right eye views are now switched. Probably and artifact of reversing the azimuth direction...
> 
> Nathaniel
> 
>> On Sun, Jan 22, 2017 at 4:06 PM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
>> I went ahead and checked in the suggested changes -- give it a try!
>> 
>> -Greg
>> 
>>> From: "Gregory J. Ward" <gregoryjward at gmail.com>
>>> Date: January 16, 2017 1:32:00 PM PST
>>> 
>>> I can probably make the suggested changes.  Let's hear from Mark to see what he says.  I was also wondering about the azimuth direction, but I don't have a phone or the app I need to check things.
>>> 
>>> -Greg
>>> 
>>>> From: Nathaniel Jones <nathanieljon at gmail.com>
>>>> Date: January 16, 2017 1:15:01 PM PST
>>>> 
>>>> I just ran the view360stereo.cal file on a model that I've been working with. The image that's generated is mirrored left-to-right from what I'd expect. Other than that, the ODS projection works decently well in my cardboard viewer.
>>>> 
>>>> A few other notes: The .cal file name in the example in comments doesn't match the new name of the .cal file. Also, this is perhaps unnecessary, but I'd like to be able to specify the forward direction to appear in the center of the image.
>>>> 
>>>> For my own work, I've gone ahead and implemented the ODS view in source code. I've called it VT_ODS (-vto) and added a new parameter -vi for inter-pupillary distance. I haven't bothered with the EX and EZ parameters for neck rotation yet. Also, the implementation isn't complete (I'm not sure what viewloc() does, for example), but it's working for my purposes.
>>>> 
>>>> Cheers,
>>>> 
>>>> Nathaniel
>>>> 
>>>>> On Fri, Jan 13, 2017 at 9:31 PM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
>>>>> I checked in the file, renaming it to "view360stereo.cal" in the src/cal/cal folder.  I made a few modifications, which I hope are improvements, but I don't have a viewer that I can test it with.  Can someone give it a try?
>>>>> 
>>>>> Thanks!
>>>>> -Greg
>>>>> 
>>>>> > From: "Gregory J. Ward" <gregoryjward at gmail.com>
>>>>> > Date: January 11, 2017 4:53:07 PM PST
>>>>> >
>>>>> > Thanks, Mark.
>>>>> >
>>>>> > I'll take a closer look at it and generate some test images with your .cal file.  Also, if there are any features people want to have that they would feel helpful or important, let us know!
>>>>> >
>>>>> > -Greg
>>>>> >
>>>>> >> From: Mark Stock <mstock at umich.edu>
>>>>> >> Date: January 11, 2017 4:40:54 PM PST
>>>>> >>
>>>>> >> Andy, Greg,
>>>>> >>
>>>>> >> I'm happy to have it included, if it's up to par. I'm not happy with
>>>>> >> the neck rotation portion of that code, and if you want the pixel
>>>>> >> edges to line up right on azimuth=0, I need to put a 0.5 in there
>>>>> >> somewhere.
>>>>> >>
>>>>> >> Mark
>>>>> >>
>>>>> >> On 1/11/17, Andy McNeil <mcneil.andrew at gmail.com> wrote:
>>>>> >>> Hi Greg,
>>>>> >>> Mark Stock created the attached cal file for rendering ODS views. If it is
>>>>> >>> okay with Mark, can we add the cal file to the radiance distribution?
>>>>> >>> Andy
>>>>> >>>
>>>>> >>>
>>>>> >>> On Wed, Jan 11, 2017 at 3:20 PM, Gregory J. Ward <gregoryjward at gmail.com>
>>>>> >>> wrote:
>>>>> >>>
>>>>> >>>> Thanks, Andy.
>>>>> >>>>
>>>>> >>>> Have you already created a .cal file to generate the appropriate ray
>>>>> >>>> origins and directions for this?  If not, I could take a crack at it.
>>>>> >>>> Seems like an easier method than adding a new view type, especially since
>>>>> >>>> we would need a new parameter for the stereo offset to get it to do what
>>>>> >>>> we
>>>>> >>>> want.
>>>>> >>>>
>>>>> >>>> Regarding rpiece, you can always use the rtrace -n option to get an
>>>>> >>>> equivalent speed-up.
>>>>> >>>>
>>>>> >>>> Cheers,
>>>>> >>>> -Greg
>>>>> >>>>
>>>>> >>>> *From: *Andy McNeil <mcneil.andrew at gmail.com>
>>>>> >>>>
>>>>> >>>> *Date: *January 11, 2017 1:00:31 PM PST
>>>>> >>>>
>>>>> >>>>
>>>>> >>>> Hi Greg,
>>>>> >>>>
>>>>> >>>> The viewpoint, or ray origin, is different for each column of pixels in a
>>>>> >>>> stereo ODS rendering. If you start with a viewpoint, and draw a circle
>>>>> >>>> with
>>>>> >>>> diameter that is the distance between one's pupils, then the origin for
>>>>> >>>> each ray should be at a point where the ray is tangent to the circle (on
>>>>> >>>> the left side of the circle for left eye and right side for right eye).
>>>>> >>>> It's explained & illustrated well here: https://developers.google.com/
>>>>> >>>> vr/jump/rendering-ods-content.pdf
>>>>> >>>>
>>>>> >>>> I don't see how clipping planes could be used to modify the ray origin,
>>>>> >>>> but I could be wrong.
>>>>> >>>>
>>>>> >>>> And this goes a ways back in the thread, but one instance where smaller
>>>>> >>>> than 180? x 360? sized equirectangular views would be necessary is if a
>>>>> >>>> user wanted to use rpiece to render the full view.
>>>>> >>>>
>>>>> >>>> Best,
>>>>> >>>> Andy
>>>>> >>>>
>>>>> >>>>
>>>>> >>>> On Tue, Jan 10, 2017 at 10:38 AM, Gregory J. Ward
>>>>> >>>> <gregoryjward at gmail.com>
>>>>> >>>> wrote:
>>>>> >>>>
>>>>> >>>>> Hi Victor,
>>>>> >>>>>
>>>>> >>>>> I thought that there was some trick to doing stereo 360? views that
>>>>> >>>>> involved rotating the eye positions with the ray directions to keep them
>>>>> >>>>> at
>>>>> >>>>> right angles.  Andy (McNeil), can you help us out?
>>>>> >>>>>
>>>>> >>>>> -Greg
>>>>> >>>>>
>>>>> >>>>> *From: *Victor LRG <rioboo at gmail.com>
>>>>> >>>>>
>>>>> >>>>> *Date: *January 10, 2017 2:14:48 AM PST
>>>>> >>>>>
>>>>> >>>>>
>>>>> >>>>> I agree with Nathaniel that the general use would be similar to
>>>>> >>>>> cylindrical
>>>>> >>>>> or angular fisheye views in terms of view apertures. Personally, I use
>>>>> >>>>> the equirectangular view in four combinations: 180-360 deg horizontally
>>>>> >>>>> and
>>>>> >>>>> 90-180 deg vertically, and then as a base for other fancier view types
>>>>> >>>>> when
>>>>> >>>>> I need them.
>>>>> >>>>>
>>>>> >>>>> With regards to the stereo offset I wonder if it could be added with a
>>>>> >>>>> bit of work using the standard clipping plane offset as an stereo one?
>>>>> >>>>>
>>>>> >>>>> Victor
>>>>> >>>>>
>>>>> >>>>> On 9 January 2017 at 15:59, Guglielmetti, Robert <
>>>>> >>>>> Robert.Guglielmetti at nrel.gov> wrote:
>>>>> >>>>>
>>>>> >>>>>> I?ll keep an eye out, should this be added to the standard palette of
>>>>> >>>>>> views in the source. I think it?s pretty easy to add it to the Qt
>>>>> >>>>>> rvu...
>>>>> >>>>>>
>>>>> >>>>>> On 1/8/17, 10:18 AM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:
>>>>> >>>>>>
>>>>> >>>>>>> Hi Victor (& Nathaniel),
>>>>> >>>>>>>
>>>>> >>>>>>>
>>>>> >>>>>>> I am happy to take a look at the code and see how much effort it would
>>>>> >>>>>> be
>>>>> >>>>>>> to integrate.  I have a question first, however.
>>>>> >>>>>>>
>>>>> >>>>>>>
>>>>> >>>>>>> Is the "equirectangular" view useful for anything less than a full
>>>>> >>>>>>> panorama?  Would people want to use it for smaller/different views, or
>>>>> >>>>>> do
>>>>> >>>>>>> you always set vertical to 180? and horizontal to 360? in every
>>>>> >>>>>>> application?
>>>>> >>>>>>>
>>>>> >>>>>>>
>>>>> >>>>>>> If you only use this view for one purpose, then I wonder if it is
>>>>> >>>>>>> really
>>>>> >>>>>>> worth having a view implemented in Radiance, which needs to handle
>>>>> >>>>>>> every
>>>>> >>>>>>> possible setting correctly.  Also, I wonder in such a case if you have
>>>>> >>>>>>> tested every possible (legal) setting?
>>>>> >>>>>>>
>>>>> >>>>>>>
>>>>> >>>>>>> Cheers,
>>>>> >>>>>>> -Greg
>>>>> >>>>>>
>>>>> >>>>>
>>>>> >>>>> _______________________________________________
>>>>> >>>>> Radiance-dev mailing list
>>>>> >>>>> Radiance-dev at radiance-online.org
>>>>> >>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>>> >>>>>
>>>>> >>>>>
>>>>> >>>> _______________________________________________
>>>>> >>>> Radiance-dev mailing list
>>>>> >>>> Radiance-dev at radiance-online.org
>>>>> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>>> >>>>
>>>>> >>>>
>>>>> >>>> _______________________________________________
>>>>> >>>> Radiance-dev mailing list
>>>>> >>>> Radiance-dev at radiance-online.org
>>>>> >>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>>> >>>>
>>>>> >>>>
>>>>> >>>
>>>>> >>
>>>>> >> _______________________________________________
>>>>> >> Radiance-dev mailing list
>>>>> >> Radiance-dev at radiance-online.org
>>>>> >> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>>> 
>>>>> _______________________________________________
>>>>> Radiance-dev mailing list
>>>>> Radiance-dev at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>>>> 
>>>> _______________________________________________
>>>> Radiance-dev mailing list
>>>> Radiance-dev at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>> 
>> _______________________________________________
>> Radiance-dev mailing list
>> Radiance-dev at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-dev
> 
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170122/ede6b75d/attachment-0001.html>

From gregoryjward at gmail.com  Sun Jan 22 18:31:44 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sun, 22 Jan 2017 18:31:44 -0800
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <CC2F0274-0DE8-4E3B-94D8-523C3EE54E3D@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
 <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
 <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
 <2967E01B-DA5C-405E-B757-FC9E1C23CD2E@gmail.com>
 <D23D54AB-CE7E-4127-AB24-4ECCA3AD3501@gmail.com>
 <CAJR73tsht6dGQC-fLRTQz=azvy6E8-mrS_Zy+LVYZn-WWzj+dw@mail.gmail.com>
 <CC2F0274-0DE8-4E3B-94D8-523C3EE54E3D@gmail.com>
Message-ID: <2FC4E0E0-2DAF-4829-A23C-5D92C32AA79A@gmail.com>

OK -- got that one.  Sorry I can't test this out, myself.

-Greg

> From: Greg Ward <gregoryjward at gmail.com>
> Date: January 22, 2017 3:44:13 PM PST
> 
> OK. I'll have to fix that...
> 
> Sent from my iPad
> 
> On Jan 22, 2017, at 3:02 PM, Nathaniel Jones <nathanieljon at gmail.com> wrote:
> 
>> Ok, this gives the orientation I would expect, but the left and right eye views are now switched. Probably and artifact of reversing the azimuth direction...
>> 
>> Nathaniel
>> 
>> On Sun, Jan 22, 2017 at 4:06 PM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
>> I went ahead and checked in the suggested changes -- give it a try!
>> 
>> -Greg
>> 
>>> From: "Gregory J. Ward" <gregoryjward at gmail.com>
>>> Date: January 16, 2017 1:32:00 PM PST
>>> 
>>> I can probably make the suggested changes.  Let's hear from Mark to see what he says.  I was also wondering about the azimuth direction, but I don't have a phone or the app I need to check things.
>>> 
>>> -Greg
>>> 
>>>> From: Nathaniel Jones <nathanieljon at gmail.com>
>>>> Date: January 16, 2017 1:15:01 PM PST
>>>> 
>>>> I just ran the view360stereo.cal file on a model that I've been working with. The image that's generated is mirrored left-to-right from what I'd expect. Other than that, the ODS projection works decently well in my cardboard viewer.
>>>> 
>>>> A few other notes: The .cal file name in the example in comments doesn't match the new name of the .cal file. Also, this is perhaps unnecessary, but I'd like to be able to specify the forward direction to appear in the center of the image.
>>>> 
>>>> For my own work, I've gone ahead and implemented the ODS view in source code. I've called it VT_ODS (-vto) and added a new parameter -vi for inter-pupillary distance. I haven't bothered with the EX and EZ parameters for neck rotation yet. Also, the implementation isn't complete (I'm not sure what viewloc() does, for example), but it's working for my purposes.
>>>> 
>>>> Cheers,
>>>> 
>>>> Nathaniel
>>>> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170122/4116a127/attachment.html>

From nathanieljon at gmail.com  Mon Jan 23 11:08:00 2017
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Mon, 23 Jan 2017 14:08:00 -0500
Subject: [Radiance-dev] Compiling Radiance for Windows
In-Reply-To: <2FC4E0E0-2DAF-4829-A23C-5D92C32AA79A@gmail.com>
References: <CADr1nSGwc2q1QKjaU4t67e4ze8jQqzkZNHBQa6nFOUTQn=y3ow@mail.gmail.com>
 <D4812EAA.97D9%robert.guglielmetti@nrel.gov>
 <CADr1nSEfjgUA-cMd=LEwMrZPjrtroOqk5s1=9LPH-1eFQ_94HA@mail.gmail.com>
 <CAJR73tsmRmVKqapTdS5kuf3dT6rYahmGru=Gn1n5Cthy05TPEw@mail.gmail.com>
 <CADr1nSFHT1Bbk6t3xtexg83K74hms7kpcEU1gKFMFeLMU34yLA@mail.gmail.com>
 <64B1F0DC-CA37-4EE8-9CE8-3BE4695E6447@gmail.com>
 <D4990112.9915%robert.guglielmetti@nrel.gov>
 <CADr1nSFDfksdVdue66DcEeRp15xUTuYRugoNbohF9VY8DDSvkg@mail.gmail.com>
 <552F17C6-3D2E-4EC4-8E87-A3D57045CD1F@gmail.com>
 <CAEFJVk_u76Tz0t_YagwDH50MMcVRhqVXkXbrmT4cqTvKDG747Q@mail.gmail.com>
 <D4674A52-C2C9-4560-90B6-431B5B28D8CE@gmail.com>
 <CAEFJVk-Bben1N+Hp-xV-ccJ5hFLJfAfZezR-dJZ+dBLB2N0a-g@mail.gmail.com>
 <CADoMKs0XH0WU_mm9ZRnpdu+XdFD0y7YMtS2j7t+s0ZtOA2nWYQ@mail.gmail.com>
 <7F639F5F-74A9-4DD4-96FF-152C2D47DB00@gmail.com>
 <E7E048CE-86A3-4B33-BCB8-AB6BF2B5681B@gmail.com>
 <CAJR73tvdU+gb1Ygd5ssbJ=O5xi=EbJjZU-SOq4JKdH9D6KuznQ@mail.gmail.com>
 <2967E01B-DA5C-405E-B757-FC9E1C23CD2E@gmail.com>
 <D23D54AB-CE7E-4127-AB24-4ECCA3AD3501@gmail.com>
 <CAJR73tsht6dGQC-fLRTQz=azvy6E8-mrS_Zy+LVYZn-WWzj+dw@mail.gmail.com>
 <CC2F0274-0DE8-4E3B-94D8-523C3EE54E3D@gmail.com>
 <2FC4E0E0-2DAF-4829-A23C-5D92C32AA79A@gmail.com>
Message-ID: <CAJR73ts-myupu9e6KRq2eaRqMhT3j=cGiqp0rzjnVFsr50TVGw@mail.gmail.com>

Looks good!

Nathaniel

On Sun, Jan 22, 2017 at 9:31 PM, Gregory J. Ward <gregoryjward at gmail.com>
wrote:

> OK -- got that one.  Sorry I can't test this out, myself.
>
> -Greg
>
> *From: *Greg Ward <gregoryjward at gmail.com>
>
> *Date: *January 22, 2017 3:44:13 PM PST
>
>
> OK. I'll have to fix that...
>
> Sent from my iPad
>
> On Jan 22, 2017, at 3:02 PM, Nathaniel Jones <nathanieljon at gmail.com>
> wrote:
>
> Ok, this gives the orientation I would expect, but the left and right eye
> views are now switched. Probably and artifact of reversing the azimuth
> direction...
>
> Nathaniel
>
> On Sun, Jan 22, 2017 at 4:06 PM, Gregory J. Ward <gregoryjward at gmail.com>
> wrote:
>
>> I went ahead and checked in the suggested changes -- give it a try!
>>
>> -Greg
>>
>> *From: *"Gregory J. Ward" <gregoryjward at gmail.com>
>>
>> *Date: *January 16, 2017 1:32:00 PM PST
>>
>>
>> I can probably make the suggested changes.  Let's hear from Mark to see
>> what he says.  I was also wondering about the azimuth direction, but I
>> don't have a phone or the app I need to check things.
>>
>> -Greg
>>
>> *From: *Nathaniel Jones <nathanieljon at gmail.com>
>>
>> *Date: *January 16, 2017 1:15:01 PM PST
>>
>>
>> I just ran the view360stereo.cal file on a model that I've been working
>> with. The image that's generated is mirrored left-to-right from what I'd
>> expect. Other than that, the ODS projection works decently well in my
>> cardboard viewer.
>>
>> A few other notes: The .cal file name in the example in comments doesn't
>> match the new name of the .cal file. Also, this is perhaps unnecessary, but
>> I'd like to be able to specify the forward direction to appear in the
>> center of the image.
>>
>> For my own work, I've gone ahead and implemented the ODS view in source
>> code. I've called it VT_ODS (-vto) and added a new parameter -vi for
>> inter-pupillary distance. I haven't bothered with the EX and EZ parameters
>> for neck rotation yet. Also, the implementation isn't complete (I'm not
>> sure what viewloc() does, for example), but it's working for my purposes.
>>
>> Cheers,
>>
>> Nathaniel
>>
>>
> _______________________________________________
> Radiance-dev mailing list
> Radiance-dev at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170123/7e5631a7/attachment.html>

From nathanieljon at gmail.com  Tue Jan 31 12:41:51 2017
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Tue, 31 Jan 2017 15:41:51 -0500
Subject: [Radiance-dev] genBSDF warning
Message-ID: <CAJR73tsxwJxSf4LaF-uRo9DpFKZcJbo3upiNp2QGEk_ihRj-wQ@mail.gmail.com>

I've been getting this message pretty consistently from genBSDF:

C:\Users\nljones\AppData\Local\Temp\genBSDF.W4NzW5\phase.txt - The process
cannot access the file because it is being used by another process.

The path string will change for each run, but it is always the phase.txt
file. As far as I can tell, genBSDF still works. The output looks
reasonable, anyways. Can someone confirm that the warning is benign or
suggest a way to fix it?

Thanks,

Nathaniel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170131/f3b4d471/attachment.html>

From gregoryjward at gmail.com  Tue Jan 31 14:46:43 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue, 31 Jan 2017 14:46:43 -0800
Subject: [Radiance-dev] genBSDF warning
In-Reply-To: <CAJR73tsxwJxSf4LaF-uRo9DpFKZcJbo3upiNp2QGEk_ihRj-wQ@mail.gmail.com>
References: <CAJR73tsxwJxSf4LaF-uRo9DpFKZcJbo3upiNp2QGEk_ihRj-wQ@mail.gmail.com>
Message-ID: <6BFC2DA3-B725-4FF6-892C-8FDA95ACE06A@gmail.com>

Hi Nathaniel,

This sounds like an issue with the Windows Perl interpreter you are using.  This bit of code is unusual, but I copied off the net as a way to unbuffer an output file:

# Open unbuffered progress file
open(MYPH, ">> $td/phase.txt");
{
	my $ofh = select MYPH;
	$| = 1;
	select $ofh;
}

It may be causing this issue on your system, but I've no idea why.  Without the phase.txt file working, you won't be able to recover from a dead process, but you should be OK, otherwise.  I could change my code to open the file each time it is needed, which should behave more normally (I think).

Does anyone have any insights about the above syntax or why it might not be working under Windows?

Cheers,
-Greg

> From: Nathaniel Jones <nathanieljon at gmail.com>
> Subject: [Radiance-dev] genBSDF warning
> Date: January 31, 2017 12:41:51 PM PST
> To: code development <radiance-dev at radiance-online.org>
> Reply-To: code development <radiance-dev at radiance-online.org>
> 
> I've been getting this message pretty consistently from genBSDF:
> 
> C:\Users\nljones\AppData\Local\Temp\genBSDF.W4NzW5\phase.txt - The process cannot access the file because it is being used by another process.
> 
> The path string will change for each run, but it is always the phase.txt file. As far as I can tell, genBSDF still works. The output looks reasonable, anyways. Can someone confirm that the warning is benign or suggest a way to fix it?
> 
> Thanks,
> 
> Nathaniel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-dev/attachments/20170131/7c8b36e2/attachment.html>

