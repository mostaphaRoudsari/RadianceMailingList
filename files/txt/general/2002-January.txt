From radiance-general@radiance-online.org  Fri Jan  4 21:48:22 2002
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Fri, 04 Jan 2002 14:48:22 -0700
Subject: [Radiance-general] Problems with Suse 7.3 (xfree86 4.1.0) and ximage
Message-ID: <3C362326.91AC445F@archenergy.com>

Hello,

My office recently updated our linux systems from Suse 7.2 to Suse 7.3
and now I cannot view any of Radiance .pic images.  We believe it has to
do with the newer X server xfree86 4.1.0.  Has anyone else run into this
problem or know how we can fix it?  It is a real pain, I've been having
to take my Linux Radiance images over to Windows NT to view them.

Thanks,
Zack


From radiance-general@radiance-online.org  Sun Jan  6 18:48:56 2002
From: radiance-general@radiance-online.org (Peter Apian-Bennewitz)
Date: Sun, 06 Jan 2002 19:48:56 +0100
Subject: [Radiance-general] Problems with Suse 7.3 (xfree86 4.1.0) and ximage
References: <3C362326.91AC445F@archenergy.com>
Message-ID: <3C389C18.32ED5DC0@pab-opto.de>

--------------927826C83C11FA1299376B3F
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Zack Rogers wrote:

> Hello,
>
> My office recently updated our linux systems from Suse 7.2 to Suse 7.3
> and now I cannot view any of Radiance .pic images.  We believe it has to
> do with the newer X server xfree86 4.1.0.  Has anyone else run into this
> problem or know how we can fix it?  It is a real pain, I've been having
> to take my Linux Radiance images over to Windows NT to view them.

what happens when you run 'ximage' ?  What's your 'xdpyinfo' output ?
The only problem I'm aware of is that ximage doesn't like some
bytes-per-pixel values, otherwise I hadn't heard of problems with Xfree 4.x
.
-Peter

>
>
> Thanks,
> Zack
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

--
 pab-opto, Freiburg, Germany, www.pab-opto.de



--------------927826C83C11FA1299376B3F
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
Zack Rogers wrote:
<blockquote TYPE=CITE>Hello,
<p>My office recently updated our linux systems from Suse 7.2 to Suse 7.3
<br>and now I cannot view any of Radiance .pic images.&nbsp; We believe
it has to
<br>do with the newer X server xfree86 4.1.0.&nbsp; Has anyone else run
into this
<br>problem or know how we can fix it?&nbsp; It is a real pain, I've been
having
<br>to take my Linux Radiance images over to Windows NT to view them.</blockquote>
what happens when you run 'ximage' ?&nbsp; What's your 'xdpyinfo' output
?
<br>The only problem I'm aware of is that ximage doesn't like some bytes-per-pixel
values, otherwise I&nbsp;hadn't heard of problems with Xfree 4.x .
<br>-Peter
<blockquote TYPE=CITE>&nbsp;
<p>Thanks,
<br>Zack
<p>_______________________________________________
<br>Radiance-general mailing list
<br>Radiance-general@radiance-online.org
<br><a href="http://www.radiance-online.org/mailman/listinfo/radiance-general">http://www.radiance-online.org/mailman/listinfo/radiance-general</a></blockquote>

<pre>--&nbsp;
&nbsp;pab-opto, Freiburg, Germany, www.pab-opto.de</pre>
&nbsp;</html>

--------------927826C83C11FA1299376B3F--


From radiance-general@radiance-online.org  Mon Jan  7 17:40:25 2002
From: radiance-general@radiance-online.org (radiance-general@radiance-online.org)
Date: Mon, 7 Jan 2002 18:40:25 +0100 (MET)
Subject: [Radiance-general] material question: gold mosaic
Message-ID: <23893.1010425225@www42.gmx.net>

Hi!

I wish you a happy new year!

I am working on a simulation of a certain phase of a historical building. My
job is to do the light sim, and of course I try to do this with radiance ;-)
While I am getting more and more successful concerning the reuse of big and
bad CAD-models, I am getting some problems with materials now...

I have got quite a lot of material data of the building. Most of the
interior has marble surfaces, in different colors, which we have documented and
which should be well representable by radiance modifiers.

But the really difficult part seams to be the gold mosaic. E.g. there is a
dome which has a surface of gold mosaics, afaik with glass in front of the
gold pieces afaik. Now I could use a gold material, but this is far from the
real interior (while it might be ok to get the light simulation, the impression
of the dome wouldn't be the same). So I wonder how to define this.

So should I try to use gold with roughness? I know this is a different
effect, but as I view from quite a distance (in most cases), it might be
sufficient to get quite close to it.

The best solution seams to be the use of brdfs, as those could really
represent the behaviour of the gold pieces. Do you think this would be necessary,
and is there anyone who has such data?

Maybe someone tried similar things in radiance before and might give me a
hint?

Thank You, CU, Lars.

BTW: I compiled the 3r4 yesterday on an x86 (K6-2 3D) with gcc on SuSE Linux
7.0 (kernel 2.2.1x) and this seamed to be ok, I couldn't really verify that
everything works, but I was able to render a quite big scene.

-- 
GMX - Die Kommunikationsplattform im Internet.
http://www.gmx.net


From radiance-general@radiance-online.org  Tue Jan  8 02:28:26 2002
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Mon, 07 Jan 2002 19:28:26 -0700
Subject: [Radiance-general] Re: Radiance-general digest, Vol 1 #47 - 1 msg
References: <200201071104.g07B4HJ19670@darkside-animation.com>
Message-ID: <3C3A594A.7D78D64D@archenergy.com>

Sorry, I didn't clarify very well the problem.

ximage doesn't start - strace ximage shows:

.... lots of stuff and then

open("/lib/libc.so.6", O_RDONLY)        = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\300\330"..., 1024) = 1024
fstat64(3, {st_mode=S_IFREG|0755, st_size=1384040, ...}) = 0
old_mmap(NULL, 1201860, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x40131000
mprotect(0x4024c000, 42692, PROT_NONE)  = 0
old_mmap(0x4024c000, 28672, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3,
0x11a000) = 0x4024c000
old_mmap(0x40253000, 14020, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x40253000
close(3)                                = 0
munmap(0x40016000, 89170)               = 0
fstat64(0, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 20), ...}) = 0
old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =
0x40016000
read(0,



------------------------- Here is the xdpyinfo output:


name of display:    :0.0
version number:    11.0
vendor string:    The XFree86 Project, Inc
vendor release number:    40100000
XFree86 version: 4.1.0
maximum request size:  4194300 bytes
motion buffer size:  256
bitmap unit, bit order, padding:    32, LSBFirst, 32
image byte order:    LSBFirst
number of supported pixmap formats:    7
supported pixmap formats:
     depth 1, bits_per_pixel 1, scanline_pad 32
     depth 4, bits_per_pixel 8, scanline_pad 32
     depth 8, bits_per_pixel 8, scanline_pad 32
     depth 15, bits_per_pixel 16, scanline_pad 32
     depth 16, bits_per_pixel 16, scanline_pad 32
     depth 24, bits_per_pixel 32, scanline_pad 32
     depth 32, bits_per_pixel 32, scanline_pad 32
keycode range:    minimum 8, maximum 255
focus:  window 0x2a00009, revert to PointerRoot
number of extensions:    22
     BIG-REQUESTS
     DPMS
     Extended-Visual-Information
     FontCache
     LBX
     MIT-SCREEN-SAVER
     MIT-SHM
     MIT-SUNDRY-NONSTANDARD
     RENDER
     SECURITY
     SHAPE
     SYNC
     TOG-CUP
     XC-APPGROUP
     XC-MISC
     XFree86-DGA
     XFree86-Misc
     XFree86-VidModeExtension
     XInputExtension
     XKEYBOARD
     XTEST
     XVideo
default screen number:    0
number of screens:    1

screen #0:
   dimensions:    1280x1024 pixels (433x347 millimeters)
   resolution:    75x75 dots per inch
   depths (7):    24, 1, 4, 8, 15, 16, 32
   root window id:    0x2d
   depth of root window:    24 planes
   number of colormaps:    minimum 1, maximum 1
   default colormap:    0x20
   default number of colormap cells:    256
   preallocated pixels:    black 0, white 16777215
   options:    backing-store NO, save-unders NO
   largest cursor:    64x64
   current input event mask:    0xf84073
     KeyPressMask             KeyReleaseMask           EnterWindowMask
     LeaveWindowMask          PointerMotionMask        KeymapStateMask
     SubstructureNotifyMask   SubstructureRedirectMask FocusChangeMask
     PropertyChangeMask       ColormapChangeMask
   number of visuals:    2
   default visual id:  0x21
   visual:
     visual id:    0x21
     class:    TrueColor
     depth:    24 planes
     available colormap entries:    256 per subfield
     red, green, blue masks:    0xff0000, 0xff00, 0xff
     significant bits in color specification:    8 bits
   visual:
     visual id:    0x22
     class:    DirectColor
     depth:    24 planes
     available colormap entries:    256 per subfield
     red, green, blue masks:    0xff0000, 0xff00, 0xff
     significant bits in color specification:    8 bits

Hope this helps,

Ferdinand

radiance-general-request@radiance-online.org wrote:

> Send Radiance-general mailing list submissions to
>         radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-admin@radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
> Today's Topics:
>
>    1. Re: Problems with Suse 7.3 (xfree86 4.1.0) and ximage (Peter Apian-Bennewitz)
>
> --__--__--
>
> Message: 1
> Date: Sun, 06 Jan 2002 19:48:56 +0100
> From: Peter Apian-Bennewitz <apian@pab-opto.de>
> To: radiance-general@radiance-online.org
> Subject: Re: [Radiance-general] Problems with Suse 7.3 (xfree86 4.1.0) and ximage
> Reply-To: radiance-general@radiance-online.org
>
> --------------927826C83C11FA1299376B3F
> Content-Type: text/plain; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> Zack Rogers wrote:
>
> > Hello,
> >
> > My office recently updated our linux systems from Suse 7.2 to Suse 7.3
> > and now I cannot view any of Radiance .pic images.  We believe it has to
> > do with the newer X server xfree86 4.1.0.  Has anyone else run into this
> > problem or know how we can fix it?  It is a real pain, I've been having
> > to take my Linux Radiance images over to Windows NT to view them.
>
> what happens when you run 'ximage' ?  What's your 'xdpyinfo' output ?
> The only problem I'm aware of is that ximage doesn't like some
> bytes-per-pixel values, otherwise I hadn't heard of problems with Xfree 4.x
> .
> -Peter
>
> >
> >
> > Thanks,
> > Zack
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> --
>  pab-opto, Freiburg, Germany, www.pab-opto.de
>
> --------------927826C83C11FA1299376B3F
> Content-Type: text/html; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> <!doctype html public "-//w3c//dtd html 4.0 transitional//en">
> <html>
> Zack Rogers wrote:
> <blockquote TYPE=CITE>Hello,
> <p>My office recently updated our linux systems from Suse 7.2 to Suse 7.3
> <br>and now I cannot view any of Radiance .pic images.&nbsp; We believe
> it has to
> <br>do with the newer X server xfree86 4.1.0.&nbsp; Has anyone else run
> into this
> <br>problem or know how we can fix it?&nbsp; It is a real pain, I've been
> having
> <br>to take my Linux Radiance images over to Windows NT to view them.</blockquote>
> what happens when you run 'ximage' ?&nbsp; What's your 'xdpyinfo' output
> ?
> <br>The only problem I'm aware of is that ximage doesn't like some bytes-per-pixel
> values, otherwise I&nbsp;hadn't heard of problems with Xfree 4.x .
> <br>-Peter
> <blockquote TYPE=CITE>&nbsp;
> <p>Thanks,
> <br>Zack
> <p>_______________________________________________
> <br>Radiance-general mailing list
> <br>Radiance-general@radiance-online.org
> <br><a href="http://www.radiance-online.org/mailman/listinfo/radiance-general">http://www.radiance-online.org/mailman/listinfo/radiance-general</a></blockquote>
>
> <pre>--&nbsp;
> &nbsp;pab-opto, Freiburg, Germany, www.pab-opto.de</pre>
> &nbsp;</html>
>
> --------------927826C83C11FA1299376B3F--
>
> --__--__--
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> End of Radiance-general Digest


From radiance-general@radiance-online.org  Tue Jan 15 20:23:54 2002
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Tue, 15 Jan 2002 13:23:54 -0700
Subject: [Radiance-general] Re: Radiance-general digest, Vol 1 #47 - 1 msg
References: <200201071104.g07B4HJ19670@darkside-animation.com>
Message-ID: <3C448FDA.8EE03CBD@archenergy.com>

We have solved the problem.  I feel a little foolish since it was a problem not really related to ximage, radiance or Suse7.3, still though, it's good to know for
anyone else who has the same setup.  I access our linux machines through a VNC viewer, part of VMware Workstation.  When we performed the upgrade from Suse 7.2 to
Suse 7.3 it overwrote my VNC settings, include the color/display settings.  This changed the settings back to something like 8-bit which was not nearly enough to
view my Radiance pics.  After changing this setting everything works fine.  Thanks Peter for your help!

Regards,
Zack Rogers

radiance-general-request@radiance-online.org wrote:

> Send Radiance-general mailing list submissions to
>         radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-admin@radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
> Today's Topics:
>
>    1. Re: Problems with Suse 7.3 (xfree86 4.1.0) and ximage (Peter Apian-Bennewitz)
>
> --__--__--
>
> Message: 1
> Date: Sun, 06 Jan 2002 19:48:56 +0100
> From: Peter Apian-Bennewitz <apian@pab-opto.de>
> To: radiance-general@radiance-online.org
> Subject: Re: [Radiance-general] Problems with Suse 7.3 (xfree86 4.1.0) and ximage
> Reply-To: radiance-general@radiance-online.org
>
> --------------927826C83C11FA1299376B3F
> Content-Type: text/plain; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> Zack Rogers wrote:
>
> > Hello,
> >
> > My office recently updated our linux systems from Suse 7.2 to Suse 7.3
> > and now I cannot view any of Radiance .pic images.  We believe it has to
> > do with the newer X server xfree86 4.1.0.  Has anyone else run into this
> > problem or know how we can fix it?  It is a real pain, I've been having
> > to take my Linux Radiance images over to Windows NT to view them.
>
> what happens when you run 'ximage' ?  What's your 'xdpyinfo' output ?
> The only problem I'm aware of is that ximage doesn't like some
> bytes-per-pixel values, otherwise I hadn't heard of problems with Xfree 4.x
> .
> -Peter
>
> >
> >
> > Thanks,
> > Zack
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> --
>  pab-opto, Freiburg, Germany, www.pab-opto.de
>
> --------------927826C83C11FA1299376B3F
> Content-Type: text/html; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> <!doctype html public "-//w3c//dtd html 4.0 transitional//en">
> <html>
> Zack Rogers wrote:
> <blockquote TYPE=CITE>Hello,
> <p>My office recently updated our linux systems from Suse 7.2 to Suse 7.3
> <br>and now I cannot view any of Radiance .pic images.&nbsp; We believe
> it has to
> <br>do with the newer X server xfree86 4.1.0.&nbsp; Has anyone else run
> into this
> <br>problem or know how we can fix it?&nbsp; It is a real pain, I've been
> having
> <br>to take my Linux Radiance images over to Windows NT to view them.</blockquote>
> what happens when you run 'ximage' ?&nbsp; What's your 'xdpyinfo' output
> ?
> <br>The only problem I'm aware of is that ximage doesn't like some bytes-per-pixel
> values, otherwise I&nbsp;hadn't heard of problems with Xfree 4.x .
> <br>-Peter
> <blockquote TYPE=CITE>&nbsp;
> <p>Thanks,
> <br>Zack
> <p>_______________________________________________
> <br>Radiance-general mailing list
> <br>Radiance-general@radiance-online.org
> <br><a href="http://www.radiance-online.org/mailman/listinfo/radiance-general">http://www.radiance-online.org/mailman/listinfo/radiance-general</a></blockquote>
>
> <pre>--&nbsp;
> &nbsp;pab-opto, Freiburg, Germany, www.pab-opto.de</pre>
> &nbsp;</html>
>
> --------------927826C83C11FA1299376B3F--
>
> --__--__--
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> End of Radiance-general Digest


From radiance-general@radiance-online.org  Fri Jan 25 14:57:49 2002
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Fri, 25 Jan 2002 15:57:49 +0100
Subject: [Radiance-general] Trees... and defining them in radiance
Message-ID: <200201251354.OAA12028@mailserver1.hrz.tu-darmstadt.de>

Hi list,

this is somehow a technical question, as I wonder how to define trees for a 
urbanism model efficiently in radiance.

In CAD, I use a simple mesh and give it a material with "holes", so that I 
get a somehow broken surface.

In radiance, I can define a tree looking like this by defining a geometry 
(e.g. made of a hundred of surfaces) and let radiance render this. Or I use 
the same way as in CAD, take a quite simple geometry and create the hole by 
mapping with colorpict onto a quite simple transparent surface. In fact, I 
don't have much experience with textures and patterns in radiance ("Rendering 
with Radiance" is next to my keyboard, I wouldn't know what to do here 
without this ;-).

What do you think that I should prefer? I ask as I need to know which way is 
more efficient as I have got a very large model to place my treed in, and I 
want to be still able to let radiance compute on my machine in reasonable 
times.

In any way, I am using instances here.

Thank You, CU, Lars.

From radiance-general@radiance-online.org  Sat Jan 26 14:49:39 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Sat, 26 Jan 2002 06:49:39 -0800
Subject: [Radiance-general] Re: Trees... and defining them in radiance (Lars O. Grobe)
In-Reply-To: <200201261100.g0QB02Q02872@darkside-animation.com>
Message-ID: <ECA762A0-126B-11D6-AABE-00306540F848@lmi.net>

Hi Lars,

To define trees in Radiance, you can either use an impostor as you do in 
your CAD system, and apply a "colorpict" to it, or (as I prefer), model 
the tree as detailed geometry and compile into an octree for the 
"instance" primitive.  This is very efficient, since a single tree model 
may be duplicated throughout your scene without adding to associated 
scene memory.  You cannot easily get holes in a tree otherwise, as you 
would have to use the "mixdata" type with "void" as one of the 
modifiers, and translate your texture into a large, ASCII data file.  
It's doable, but the results won't look as nice as a real tree, and 
won't be much faster to render, either.  Ray tracing is very fast at 
rendering complicated geometry -- much faster than a typical CAD program.

There is a pine tree in the standard Radiance distribution, but I never 
got around to modeling anything more elaborate....

-Greg


From radiance-general@radiance-online.org  Sun Jan 27 02:06:29 2002
From: radiance-general@radiance-online.org (judy lai)
Date: Sat, 26 Jan 2002 18:06:29 -0800
Subject: [Radiance-general] Re: trees
References: <200201261110.g0QBA2Q02962@darkside-animation.com>
Message-ID: <3C5360A5.A53E3DA9@lbl.gov>

hi,

Artifice the company puts out a program called DesignWorkshop.
The free download version is DesignWorkshop Lite.  Available online is
a nifty widget program that can create 3d trees in varying complexity and
shapes in their file format .dw that's exportable to .dxf. There might even
be a straight forward way from .dw to .rad but I think you have to buy
DesignWorkshop Pro to have that functionality...

Anyway, at http://www.artifice.com/machines/tree.html  is the tree machine.
At http://www.artifice.com/dw.html  is where you can get the free download
of DesignWorkshop Lite.

After customizing a tree using the online form, click to download the tree.dw,
then open up tree file using DesignWorkshop Lite, export tree into dxf format
and then into your CAD program.  Quite a few steps, but I think these trees
look pretty good...

judy

radiance-general-request@radiance-online.org wrote:

> Send Radiance-general mailing list submissions to
>         radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-admin@radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
> Today's Topics:
>
>    1. Trees... and defining them in radiance (Lars O. Grobe)
>
> --__--__--
>
> Message: 1
> From: "Lars O. Grobe" <grobe@gmx.net>
> To: radiance-general@radiance-online.org
> Date: Fri, 25 Jan 2002 15:57:49 +0100
> Subject: [Radiance-general] Trees... and defining them in radiance
> Reply-To: radiance-general@radiance-online.org
>
> Hi list,
>
> this is somehow a technical question, as I wonder how to define trees for a
> urbanism model efficiently in radiance.
>
> In CAD, I use a simple mesh and give it a material with "holes", so that I
> get a somehow broken surface.
>
> In radiance, I can define a tree looking like this by defining a geometry
> (e.g. made of a hundred of surfaces) and let radiance render this. Or I use
> the same way as in CAD, take a quite simple geometry and create the hole by
> mapping with colorpict onto a quite simple transparent surface. In fact, I
> don't have much experience with textures and patterns in radiance ("Rendering
> with Radiance" is next to my keyboard, I wouldn't know what to do here
> without this ;-).
>
> What do you think that I should prefer? I ask as I need to know which way is
> more efficient as I have got a very large model to place my treed in, and I
> want to be still able to let radiance compute on my machine in reasonable
> times.
>
> In any way, I am using instances here.
>
> Thank You, CU, Lars.
>
> --__--__--
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> End of Radiance-general Digest


From radiance-general@radiance-online.org  Mon Jan 28 08:25:38 2002
From: radiance-general@radiance-online.org (atelier iebele abel)
Date: Mon, 28 Jan 2002 09:25:38 +0100
Subject: [Radiance-general] Trees... and defining them in radiance
References: <200201251354.OAA12028@mailserver1.hrz.tu-darmstadt.de>
Message-ID: <3C550B02.76FD8104@iebele.nl>

Hi,

When you use instances and still get large rendering times, you might try to
exclude the ambient calculation of you trees. This really saves time.
You can read about this in more detail in your book. The rendering option is -ae.

regards,

Iebele


"Lars O. Grobe" wrote:

> Hi list,
>
> this is somehow a technical question, as I wonder how to define trees for a
> urbanism model efficiently in radiance.
>
> In CAD, I use a simple mesh and give it a material with "holes", so that I
> get a somehow broken surface.
>
> In radiance, I can define a tree looking like this by defining a geometry
> (e.g. made of a hundred of surfaces) and let radiance render this. Or I use
> the same way as in CAD, take a quite simple geometry and create the hole by
> mapping with colorpict onto a quite simple transparent surface. In fact, I
> don't have much experience with textures and patterns in radiance ("Rendering
> with Radiance" is next to my keyboard, I wouldn't know what to do here
> without this ;-).
>
> What do you think that I should prefer? I ask as I need to know which way is
> more efficient as I have got a very large model to place my treed in, and I
> want to be still able to let radiance compute on my machine in reasonable
> times.
>
> In any way, I am using instances here.
>
> Thank You, CU, Lars.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From radiance-general@radiance-online.org  Mon Jan 28 14:43:31 2002
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Mon, 28 Jan 2002 09:43:31 -0500 (EST)
Subject: [Radiance-general] Re: Trees... and defining them in radiance
 (Lars O. Grobe)
In-Reply-To: <ECA762A0-126B-11D6-AABE-00306540F848@lmi.net>
Message-ID: <Pine.BSF.4.30.0201280932370.17847-100000@emancholl.pair.com>

Greg Ward wrote:

> Hi Lars,
>
> To define trees in Radiance, you can either use an impostor as you do in
> your CAD system, and apply a "colorpict" to it, or (as I prefer), model
> the tree as detailed geometry and compile into an octree for the
> "instance" primitive.  This is very efficient, since a single tree model
> may be duplicated throughout your scene without adding to associated
> scene memory.  You cannot easily get holes in a tree otherwise, as you
> would have to use the "mixdata" type with "void" as one of the
> modifiers, and translate your texture into a large, ASCII data file.

There is a "mixpict" modifier available at least in 3R1p20 and in
the Windows binaries included with Rayfront (but not in those
from Desktop Radiance). This would eliminate the need to
translate anything into ASCII data, you just need to create a
mask picture.  Of course, all the other things said so far remain
true anyway.

The best advice is probably to exclude the tree geometry from the
ambient calculation as mentioned in another reply. Unfortunately
this is not yet directly supported by the Rayfront interface
(which Lars is using), but you can still add the necessary
parameters to the rif file manually. Rayfront will preserve those
entries when reading the file, and correctly pass them to rpict
and friends, even if it doesn't expose them in the GUI.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Mon Jan 28 22:35:42 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Mon, 28 Jan 2002 14:35:42 -0800
Subject: [Radiance-general] New Radiance release for Unix (at last!)
In-Reply-To: <200201271101.g0RB11Q05274@darkside-animation.com>
Message-ID: <5D1312CE-143F-11D6-911A-00306540F848@lmi.net>

Announcing:
	LBNL Radiance 3.4 for Unix (including Linux and Mac OS X)

Release Date:
	January 28, 2002

Official Website:
	http://radsite.lbl.gov/radiance
	Lawrence Berkeley National Laboratory

Principal Author:
	Greg Ward

At long last, I have put together the Radiance release that LBNL hired 
me to do last summer...  The final impetus was my new employer's request 
to write a business plan, which I will avoid until I have absolutely 
nothing else left to do!  Also, it seems that the beta version has been 
out there long enough for people to report problems, and none were 
reported, so I'm dropping the big one.

It's been 4 years (count 'em) since the last official release I had 
anything to do with, and a lot has happened during that time.  Since I 
left for SGI in '97, I continued to work on Radiance, in particular the 
new holodeck program for interactive rendering, but due to liability 
arguments between SGI and LBNL, I was never able to release that work.  
A few years and a few CEO's later, I don't think SGI cares anymore, and 
I don't work there, so that seems a non-issue.  Since then, I was at 
Shutterfly, where I had nary a minute to answer e-mails, let alone do 
any writing, testing, or debugging of Radiance.  Now that I'm at 
Exponent and using Radiance in my daily work, my interest is somewhat 
renewed, though I continue to focus on other developments.  All excuses 
aside, it really has been too long, and there are some nice goodies in 
this package for those of you who haven't given up completely.  The 
release notes at the end of this e-mail spells them out.

The version number skipped from 3.1 to 3.4 for reasons I don't 
completely understand, but it's designed to avoid confusion with 
releases developed at LBNL and SGI since my departure.  Most of you are 
probably using Desktop Radiance or some patched version of 3.1, which 
corresponds most closely to the release of "Rendering with Radiance."  
Version 3.4 doesn't have many important differences in its basic 
operation from 3.1, but does contain some new programs and features, as 
I mentioned.

To get to the new release, go to the LBNL Radiance website (above) and 
click on "Download".  There, you'll be directed to the file 
"Radiance3R4.tar.gz", which you will need to unpack on your system.

I have compiled the programs already for Mac OS X, and included a link 
to those binaries on the website as well.  You will probably want to 
install XFree86 also, and the following link contains a nice how-to 
manual.  (Look in the right column for "XFree86 Install Guide):

	http://www.macosxhints.com/

I plan to get a set of Linux binaries together, but I need access to a 
Linux machine to do that.  Anyone who wants to do this for me is 
welcome...  I don't know if these need to be linked statically in order 
to work across different versions.  (Help!)

I expect the C compilers on every system to be extremely upset by the 
source code, which is old-style K&R C and doesn't even have function 
prototypes.  Let me know if you encounter any serious problems or fatal 
errors, but don't let the warnings scare you.

Cheers,
-Greg

==============================
Version 3.4

Fixed bug in rpiece that caused it to incorrectly compute -vs and -vl
(view shift and lift) offsets.  (Included in 3.1.1.)

Fixed bug in xform handling mist's with > 5 real arguments.
(Included in 3.1.1.)

Fixed bug in mist handling routines that caused some incorrect 
calculations
for distant sources.  (Included in 3.1.1.)

Added ability for lam utility to read from commands.

Created vwrays command to compute ray origins and directions for 
specified
views or pictures.

Changed rtrace behavior to send bogus record when ray direction is zero.
(Before, it only flushed values with no corresponding record.)  This
change was needed to facilitate its use with the new vwrays program.

Modified ies2rad so that it no longer produces glow sources for the sides
of objects, which caused unnatural dark bands near the ceilings of
direct/indirect installations.  (Included in 3.1.4.)

Fixed bug in rpiece that caused the -pa option to fail.  (Included in 
3.1.2.)

Made ximage emphasize pixels in the selected region for the 'a' and 'h'
commands to adjust the exposure using histogram compression.
(Included in 3.1.4.)

Fixed bug in trad which caused it to fail when there were tabs in the 
input.
(Included in 3.1.3.)

Fixed bug in pcond that caused it to white-out borders of some fisheye 
views.
(Included in 3.1.3.)

Added facility to ra_tiff to read and write new LogLuv high dynamic-range
image formats.

Changed ambient value averaging in rendering programs (-aw option) to use
geometric mean rather than arithmetic mean, which tended to arrive at
too-high estimates and cause runaway calculations.  (Included in 3.1.4.)

Added -g, -p, -m and -d options for gamma, paper size, margins and dpi
to the ra_ps program.  This allows for much better control over output
to PostScript printers.

Fixed compiles for AIX -- select() incompatibility and macro conflicts.
(Included in 3.1.6.)

Increased table sizes to allow up to 4 million primitives when -DBIGMEM
is defined, provided there's enough virtual memory to hold them!

Fixed error in viewloc() for computing view locations for cylindrical 
views.

Wrote rholo, rhcopy, rhpict, and rhoptimize programs for holodeck
creation, display, and manipulation.  This is a much more powerful way
to view a model than rview, though it lacks many of the utility commands.

Added the ability to separate concatanated animation frames using 
ra_rgbe.
This output facility of rpict was previously useless because nothing 
could
get anything past the first frame.

Wrote compamb program to compute a good ambient value for a rad input 
file.
Using this script is preferable to setting the -aw option of rpict, which
seems to result in splotchy artifacts in many situations.

Changed rad so it doesn't use the -aw option, which was causing some 
rather
annoying artifacts.  (Added as patch to 3.1.8.)

Modified ranimate to change directories before running transfer or 
archive
commands.

Added -pm option to rpict to perform jittered motion blurring.

Created phisto script and added -I option to pcond for computing
multiple, identical exposures.

Fixed time zone specifications in gensky.  (Added as patch to 3.1.9.)

Fixed bug in mixture functions that caused erroneous modifier loops.
(Added as patch to 3.1.10.)

Wrote glrad program for interactive display of Radiance scenes using 
OpenGL.
Modified objview program to use rad and glrad for rendering.

Changed the way ray weights are computed for participating media 
(including
dielectrics) so they more accurately reflect a ray's contribution, 
avoiding
some artifacts with unsealed dielectric objects and the ambient 
calculation.

Fixed problem with dielectric materials with textures where rays that 
should
have penetrated or reflected do the opposite.

Created ra_hexbit program to generate bitmap files for use with 
hexbit4x1.fnt.

****************** COMPATIBILITY CHANGE ***********************
Altered mixtures to take the most recent modifier definition
rather than the last one in the entire description.  Made the
same change for illum's and mirror's.  Also, fixed a bug in
the antimatter type where it didn't always get the correct
material for shading.

Wrote normtiff program to quickly tone-map and convert Radiance pictures
and SGILOG-encoded TIFF's to flat RGB TIFF output.

Added -r option to protate for CCW rotations.

Added ability to load values from read-only ambient file in rpict,
rtrace and rview.  This may be useful when starting with the same
values on many processors, where NFS lock contention would slow
things down if they also wrote values back to the file.

Wrote rhinfo program for printing out holodeck section information.

Modified rad "scene" variable to allow in-line command specifications.

Added added -s and -b options to ra_ppm for changing output scale and
forcing greyscale output.

Now allow negative distances for the fore clipping plane in rpict.
This may be useful for rendering holographic stereograms.

Added -f option to xform to read arguments from files.  This can save
a lot of scene loading time by reducing multiple xform invocations.

Added support for 15-bit TrueColor visuals in ximage.

Added (undocumented) -P option to macbethcal for picking chart corners
directly using ximage.

Added -r option to rholo for opening holodeck files read-only.

Added CAPDATE field to rendering headers to record render date.


From radiance-general@radiance-online.org  Tue Jan 29 12:00:43 2002
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Tue, 29 Jan 2002 13:00:43 +0100
Subject: [Radiance-general] New Radiance release for Unix (at last!)
In-Reply-To: <5D1312CE-143F-11D6-911A-00306540F848@lmi.net>
References: <5D1312CE-143F-11D6-911A-00306540F848@lmi.net>
Message-ID: <200201291057.LAA17849@mailserver1.hrz.tu-darmstadt.de>

> Announcing:
> 	LBNL Radiance 3.4 for Unix (including Linux and Mac OS X)
>
> Release Date:
> 	January 28, 2002

Congratulations!

You write that you need "access" to linux machines - what about ssh-access? 
Or do you need the machine in your office to create binaries? I have Linux 
installations on Sun Sparc, DEC Alpha and intel here.

BTW, I am trying to get the new radiance compiled on alpha with compaq c and 
gnu c, I will tell you if I have success (the 3r1 was ok in this).

CU, Lars.

From radiance-general@radiance-online.org  Tue Jan 29 12:07:20 2002
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Tue, 29 Jan 2002 13:07:20 +0100
Subject: [Radiance-general] Re: Trees... and defining them in radiance (Lars O. Grobe)
In-Reply-To: <Pine.BSF.4.30.0201280932370.17847-100000@emancholl.pair.com>
References: <Pine.BSF.4.30.0201280932370.17847-100000@emancholl.pair.com>
Message-ID: <200201291103.MAA18434@mailserver1.hrz.tu-darmstadt.de>

Hi!

> The best advice is probably to exclude the tree geometry from the
> ambient calculation as mentioned in another reply. Unfortunately
> this is not yet directly supported by the Rayfront interface
> (which Lars is using), but you can still add the necessary
> parameters to the rif file manually. Rayfront will preserve those
> entries when reading the file, and correctly pass them to rpict
> and friends, even if it doesn't expose them in the GUI.

In fact, I am currently working on the scene without rayfront. Is there a way 
to make rayfront generate one octree per imported geometry (I used 
rad-geometries, but the dxf-import would be ok, too)? If I try to oconv all 
my rad-files in one run, I get the famous oconv overflow ;-) So I created one 
oct per "object" (in fact per color) and have a instance file "model.rad" 
where I put all my octs together.

CU, Lars.

From radiance-general@radiance-online.org  Tue Jan 29 12:10:10 2002
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Tue, 29 Jan 2002 13:10:10 +0100
Subject: [Radiance-general] syntax of wrinkle.cal (or: how to get a nice water surface)
Message-ID: <200201291106.MAA18789@mailserver1.hrz.tu-darmstadt.de>

Hi!

I try to get a nice water surface. I wanted to try wrinkle.cal, but I don't 
understand the syntax. Is there anyone who has an example how to use it?

So far, I use the wobbly.cal with a glass material, but this doesn't seam to 
be the best choice.

Thank You, CU, Lars.

From radiance-general@radiance-online.org  Tue Jan 29 12:03:27 2002
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Tue, 29 Jan 2002 13:03:27 +0100
Subject: [Radiance-general] Re: Trees... and defining them in radiance (Lars O. Grobe)
In-Reply-To: <ECA762A0-126B-11D6-AABE-00306540F848@lmi.net>
References: <ECA762A0-126B-11D6-AABE-00306540F848@lmi.net>
Message-ID: <200201291059.LAA18033@mailserver1.hrz.tu-darmstadt.de>

Hi!

> To define trees in Radiance, you can either use an impostor as you do in
> your CAD system, and apply a "colorpict" to it, or (as I prefer), model
> the tree as detailed geometry and compile into an octree for the
> "instance" primitive.

I used geometry now, with replmarks and instances on 3r4b. Works fine, thank 
you for your reply. In fact, I get the quite large model rendered on my old 
laptop with 128 MB...

CU, Lars.

From radiance-general@radiance-online.org  Tue Jan 29 15:16:09 2002
From: radiance-general@radiance-online.org (atelier iebele abel)
Date: Tue, 29 Jan 2002 16:16:09 +0100
Subject: [Radiance-general] syntax of wrinkle.cal (or: how to get a nice
 water surface)
References: <200201291106.MAA18789@mailserver1.hrz.tu-darmstadt.de>
Message-ID: <3C56BCB9.DCBADD5B@iebele.nl>

--------------CC29D4672F89C939A4CEDED3
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hi  Lars,

This works for me, good luck!

Regards,

Iebele


# Model the water as a single surface.
# Below the water should be a dark open box,
# 'just like' as in the real world.
# See the ascii art below...
#
#         section of the scene
#
#        ~~~~~~~~~~~~~~~~~~~~~   bumpy water surface
#        \                   /   dark box
#         \_________________/
#



void texfunc bumpy
6 xwrink ywrink zwrink wrinkle.cal -s 2.2
0
3 0.01 0.05 0.05

bumpy glass water
0
0
3 0.3 0.3 0.3

#water is the modifier

















"Lars O. Grobe" wrote:

> Hi!
>
> I try to get a nice water surface. I wanted to try wrinkle.cal, but I don't
> understand the syntax. Is there anyone who has an example how to use it?
>
> So far, I use the wobbly.cal with a glass material, but this doesn't seam to
> be the best choice.
>
> Thank You, CU, Lars.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

--------------CC29D4672F89C939A4CEDED3
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<tt></tt>&nbsp;
<br><tt>Hi&nbsp; Lars,</tt><tt></tt>
<p><tt>This works for me, good luck!</tt><tt></tt>
<p><tt>Regards,</tt><tt></tt>
<p><tt>Iebele</tt>
<br><tt></tt>&nbsp;<tt></tt>
<p><tt># Model the water as a single surface.</tt>
<br><tt># Below the water should be a dark open box,</tt>
<br><tt># 'just like' as in the real world.</tt>
<br><tt># See the ascii art below...</tt>
<br><tt>#</tt>
<br><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; section of the
scene</tt>
<br><tt>#</tt>
<br><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~~~~~~~~~~~~~~~~~~~~~&nbsp;&nbsp;
bumpy water surface</tt>
<br><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/&nbsp;&nbsp; dark box</tt>
<br><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \_________________/</tt>
<br><tt>#</tt>
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;<tt></tt>
<p><tt>void texfunc bumpy</tt>
<br><tt>6 xwrink ywrink zwrink wrinkle.cal -s 2.2</tt>
<br><tt>0</tt>
<br><tt>3 0.01 0.05 0.05</tt><tt></tt>
<p><tt>bumpy glass water</tt>
<br><tt>0</tt>
<br><tt>0</tt>
<br><tt>3 0.3 0.3 0.3</tt><tt></tt>
<p><tt>#water is the modifier</tt>
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;
<br><tt></tt>&nbsp;<tt></tt>
<p>"Lars O. Grobe" wrote:
<blockquote TYPE=CITE>Hi!
<p>I try to get a nice water surface. I wanted to try wrinkle.cal, but
I don't
<br>understand the syntax. Is there anyone who has an example how to use
it?
<p>So far, I use the wobbly.cal with a glass material, but this doesn't
seam to
<br>be the best choice.
<p>Thank You, CU, Lars.
<br>_______________________________________________
<br>Radiance-general mailing list
<br>Radiance-general@radiance-online.org
<br><a href="http://www.radiance-online.org/mailman/listinfo/radiance-general">http://www.radiance-online.org/mailman/listinfo/radiance-general</a></blockquote>
</html>

--------------CC29D4672F89C939A4CEDED3--


From radiance-general@radiance-online.org  Tue Jan 29 20:59:23 2002
From: radiance-general@radiance-online.org (Georg Mischler)
Date: Tue, 29 Jan 2002 15:59:23 -0500 (EST)
Subject: [Radiance-general] Re: Trees... and defining them in radiance
In-Reply-To: <200201291103.MAA18434@mailserver1.hrz.tu-darmstadt.de>
Message-ID: <Pine.BSF.4.30.0201291553320.31777-100000@emancholl.pair.com>

Lars O. Grobe wrote:

> In fact, I am currently working on the scene without rayfront. Is there a way
> to make rayfront generate one octree per imported geometry (I used
> rad-geometries, but the dxf-import would be ok, too)? If I try to oconv all
> my rad-files in one run, I get the famous oconv overflow ;-) So I created one
> oct per "object" (in fact per color) and have a instance file "model.rad"
> where I put all my octs together.


There currently is no automatic way. You can place octrees in the
"parts" directory in the project, and include them with the marker
substitution feature. This is slightly clumsy, and primarily interesting
for those parts of your model that contribute a lot to the complexity,
but probably won't change later. The details of the procedure are
more suitable for a different mailing list, though.

Future versions of Rayfront may offer to do this automatically.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/


From radiance-general@radiance-online.org  Tue Jan 29 22:49:55 2002
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Tue, 29 Jan 2002 23:49:55 +0100
Subject: [Radiance-general] macbethcal and pcond
Message-ID: <200201292146.WAA27628@mailserver1.hrz.tu-darmstadt.de>

Hi!

Again me... I'm spending quite a lot of time with radiance at the moment ;-)

I want to print some renderings on a large format printer. If I simply print 
a tiff (generated with ra_tiff), I get very bad colors (not enough 
saturation, everything appears grey).

No I tried the macbethcal. I printed the macbeth-pic from the distribution 
(using the same print chain as I will do with the rendering), scanned it with 
an xrite 41, calculated xyY from x-rite's xyz-data (is there a converter / 
script to do this out there???), made a cal-file (with some warning 
concerning gamut of intermediate colors). But pcond says "cannot grok 
macbethcal file", and something about inp-flags 077. What does it mean?

Maybe someone may help? So long, I must use photoshop ;-)

CU, Lars.

From radiance-general@radiance-online.org  Tue Jan 29 23:00:01 2002
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Wed, 30 Jan 2002 00:00:01 +0100
Subject: [Radiance-general] compiling the 3.4b on alpha linux
Message-ID: <200201292156.WAA03702@mailserver1.hrz.tu-darmstadt.de>

Hi!

Did anyone successfully use the 3.4 or it's beta on alpha / linux?

While I got it to compile (with compaq c 6.2), radianc doesn't want to render 
;-) It's oconv giving me always out of memory messages (e.g. with the 
"benchmark2", available at Mark Stock's pages).

Did the oconv code change? I have been using 3r2 on alpha with compaq c for 
linux before.

CU, Lars.

From radiance-general@radiance-online.org  Tue Jan 29 22:36:55 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Tue, 29 Jan 2002 14:36:55 -0800
Subject: [Radiance-general] Re: Radiance 3.4 release
In-Reply-To: <200201291102.g0TB20Q10090@darkside-animation.com>
Message-ID: <B2D031E0-1508-11D6-B8DE-00306540F848@lmi.net>

Good point about using the mixpict primitive -- I vaguely remembered 
programming something like this, but then didn't see it in the ray.html 
reference manual, so I thought I must have dreamed it.  I guess it's one 
of those things that didn't get updated when it should have because I 
wasn't sure that it was in the LBNL release or not.  Now that it's there 
in 3.4, I went and updated the HTML reference manual, but I know there 
are still a lot of man pages on the website that are in need of 
updating...  Unfortunately, I don't have any of the tools I onced used 
to convert nroff into HTML and PostScript.  Sigh.  Guess that's 
something to do in my "free" time.  If something seems inconsistent, 
it's best to rely on what's in ray/man/man1 in the 3.4 distribution.

I just compiled 3.4 for SGI machines, since most systems come without a 
compiler license these days.  John Mardaljevic also reminded me that 
there is a problem getting the TIFF library to compile under Solaris.  
The "install" program on some Solaris systems seems to be broken, so the 
TIFF library fails to install properly, and the rest of the programs in 
the src/px directory don't get installed as a consequence.  This can be 
remedied by manually installing the library from src/px/tiff/libtiff 
into src/lib, but it's too bad I don't know of a better fix than this.

I'm still planning to compile under Intel Linux, and will probably get 
to that in the next day or two.  If Lars beats me to it and sends me the 
binaries, so much the better!

-Greg


From radiance-general@radiance-online.org  Wed Jan 30 17:34:28 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 30 Jan 2002 09:34:28 -0800
Subject: [Radiance-general] memory errors in 3.4
In-Reply-To: <200201301101.g0UB12Q13708@darkside-animation.com>
Message-ID: <9C8DC1FE-15A7-11D6-BED1-00306540F848@lmi.net>

Hi Lars,

You should check that you don't have a limit placed on your data size if 
you are getting out-of-memory errors.  Run the command in csh or tcsh:

% limit

It should give you a list of resource limits currently in effect.  If 
the datasize says anything besides "unlimited", you should run the 
command "unlimit datasize" before running Radiance.  Better still, but 
such a command in your .cshrc or .tcshrc file in your home directory.  
If you are still getting out-of-memory errors after that, there is 
either a problem with your virtual memory size or a problem with 
Radiance.

Raphael wrote to tell me that ximage does a segmentation fault when you 
re-expose the image in his version of Linux.  I found the problem -- a 
pointer was being freed twice due to a library call that either changed 
or always freed twice and no one noticed before.  Anyway, I've fixed the 
problem and will quietly put it into this release rather than creating a 
patch, so you might want to download it again or patch it yourself if 
you have a slow connection with the following code change:

ray/src/px/x11image.c (line 781):
	free(ourdata);
change to:
	/* free(ourdata);       This is done in XDestroyImage()! */

Then simply run "rmake install" in that directory, presuming you've run 
"makeall install" previously.  Running "makeall install" again also 
works.

Regarding pcond and macbethcal, I don't know what the problem is, but I 
don't recommend this method anymore, anyway.  Macbathcal works very well 
on calibrating input paths, but less well on calibrating output paths.  
Unfortunately, I don't have a really good solution to offer for this at 
the moment....

-Greg


From radiance-general@radiance-online.org  Wed Jan 30 19:08:25 2002
From: radiance-general@radiance-online.org (Lars O. Grobe)
Date: Wed, 30 Jan 2002 20:08:25 +0100
Subject: [Radiance-general] memory errors in 3.4
In-Reply-To: <9C8DC1FE-15A7-11D6-BED1-00306540F848@lmi.net>
References: <9C8DC1FE-15A7-11D6-BED1-00306540F848@lmi.net>
Message-ID: <200201301804.TAA27014@mailserver1.hrz.tu-darmstadt.de>

Am Mittwoch, 30. Januar 2002 18:34 schrieben Sie:
> Hi Lars,
>
> You should check that you don't have a limit placed on your data size if
> you are getting out-of-memory errors.  Run the command in csh or tcsh:
>
> % limit

Hi Greg!

That seams to be ok:

/home/lars> limit
cputime         unlimited
filesize        512000 kbytes
datasize        unlimited
stacksize       8192 kbytes
coredumpsize    0 kbytes
memoryuse       unlimited
descriptors     250
memorylocked    unlimited
maxproc         100
openfiles       250

The the alpha has 196 MB and fails in oconv, while my laptop with 128 MB 
renders the scene. I willl take a look at the compile options I used when I 
once installed radiance 3r2 on another alpha some time ago. Maybe it's a 
problem with my options for compaq c 6.2.

CU, Lars.

From radiance-general@radiance-online.org  Wed Jan 30 18:09:12 2002
From: radiance-general@radiance-online.org (Zack Rogers)
Date: Wed, 30 Jan 2002 11:09:12 -0700
Subject: [Radiance-general] Re: Radiance-general digest, Vol 1 #54 - 9 msgs
References: <200201301105.g0UB5DQ13751@darkside-animation.com>
Message-ID: <3C5836C8.31A2906D@archenergy.com>

On the topics of trees and water....I have attempted to tackle both of these in recent models and thought I throw in my two cents.

I guess it already been said that the best way to add trees to your model is by creating an octree for each type of tree and adding them to you model as an instance,
I agree.  I recently attempted to model a indoor Tropical Rain Forest.  For this I had 20 or so different types of trees.  I made octrees for each type and inserted
them into my model using instances, some of the octrees as large as 9.7MB.  Without using instances the resulting model octree would have been gigantic.  Using
instances the resulting octree was about 5.9MB, still pretty large but much more reasonable.  To confirm what Judy has said, with the backwards ray-tracing technique
used by Radiance, ridiculously complex geometry does not necessarily mean ridiculously long rendering times.  I did not exclude the trees from the ambient
calculation and a single image of this rainforest, using medium rendering quality and 2 ambient bounces, rendered in several hours on my 950MHz computer.  Radiance
is amazing!  These images can be seen at:

http://www.archenergy.com/sda/designtools/radiance.html  ---> Phipps

As far as modeling water, I recently tried to tackle this for a glare study on an indoor pool.  I modeled the water using the ripple.cal function, as follows;

void texfunc water_1
6 riple_x riple_y riple_z ripple.cal -s 1
0
4 .13 .13 0 .13

water_1  BRTDfunc Water
10      rrho    grho    brho
          rtau     gtau    btau
          0 0 0
          water.cal
0
18      0       0       0
          0       0       0
          0       0       0
          1 1 1
          1 1 1
          .7 .90 .90

Where water.cal is just a slightly modified glazing.cal function.  I was attempting to better model the transmittance and reflectance vs. incidence angle
characteristics of water.  This is not the most accurate way to model water and I would not use this if any underwater calculations are needed.  I think the most
accurate way to model water is to use a diaelectric.  I have not tried this but have heard it makes for long simulation times.  The images of the pool can also be
seen at;

http://www.archenergy.com/sda/designtools/radiance.html  ---> Chilson

Hope this helps!
Zack

radiance-general-request@radiance-online.org wrote:

> Send Radiance-general mailing list submissions to
>         radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-admin@radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
> Today's Topics:
>
>    1. Re: Re: Trees... and defining them in radiance (Lars O. Grobe) (Lars O. Grobe)
>    2. syntax of wrinkle.cal (or: how to get a nice water surface) (Lars O. Grobe)
>    3. Re: Re: Trees... and defining them in radiance (Lars O. Grobe) (Lars O. Grobe)
>    4. Re: syntax of wrinkle.cal (or: how to get a nice
>        water surface) (atelier iebele abel)
>    5. Re: Re: Trees... and defining them in radiance (Georg Mischler)
>    6. macbethcal and pcond (Lars O. Grobe)
>    7. compiling the 3.4b on alpha linux (Lars O. Grobe)
>    8. Re: Radiance 3.4 release (Greg Ward)
>
> --__--__--
>
> Message: 1
> From: "Lars O. Grobe" <grobe@gmx.net>
> To: radiance-general@radiance-online.org
> Subject: Re: [Radiance-general] Re: Trees... and defining them in radiance (Lars O. Grobe)
> Date: Tue, 29 Jan 2002 13:07:20 +0100
> Reply-To: radiance-general@radiance-online.org
>
> Hi!
>
> > The best advice is probably to exclude the tree geometry from the
> > ambient calculation as mentioned in another reply. Unfortunately
> > this is not yet directly supported by the Rayfront interface
> > (which Lars is using), but you can still add the necessary
> > parameters to the rif file manually. Rayfront will preserve those
> > entries when reading the file, and correctly pass them to rpict
> > and friends, even if it doesn't expose them in the GUI.
>
> In fact, I am currently working on the scene without rayfront. Is there a way
> to make rayfront generate one octree per imported geometry (I used
> rad-geometries, but the dxf-import would be ok, too)? If I try to oconv all
> my rad-files in one run, I get the famous oconv overflow ;-) So I created one
> oct per "object" (in fact per color) and have a instance file "model.rad"
> where I put all my octs together.
>
> CU, Lars.
>
> --__--__--
>
> Message: 2
> From: "Lars O. Grobe" <grobe@gmx.net>
> To: radiance-general@radiance-online.org
> Date: Tue, 29 Jan 2002 13:10:10 +0100
> Subject: [Radiance-general] syntax of wrinkle.cal (or: how to get a nice water surface)
> Reply-To: radiance-general@radiance-online.org
>
> Hi!
>
> I try to get a nice water surface. I wanted to try wrinkle.cal, but I don't
> understand the syntax. Is there anyone who has an example how to use it?
>
> So far, I use the wobbly.cal with a glass material, but this doesn't seam to
> be the best choice.
>
> Thank You, CU, Lars.
>
> --__--__--
>
> Message: 3
> From: "Lars O. Grobe" <grobe@gmx.net>
> To: radiance-general@radiance-online.org
> Subject: Re: [Radiance-general] Re: Trees... and defining them in radiance (Lars O. Grobe)
> Date: Tue, 29 Jan 2002 13:03:27 +0100
> Reply-To: radiance-general@radiance-online.org
>
> Hi!
>
> > To define trees in Radiance, you can either use an impostor as you do in
> > your CAD system, and apply a "colorpict" to it, or (as I prefer), model
> > the tree as detailed geometry and compile into an octree for the
> > "instance" primitive.
>
> I used geometry now, with replmarks and instances on 3r4b. Works fine, thank
> you for your reply. In fact, I get the quite large model rendered on my old
> laptop with 128 MB...
>
> CU, Lars.
>
> --__--__--
>
> Message: 4
> Date: Tue, 29 Jan 2002 16:16:09 +0100
> From: atelier iebele abel <atelier@iebele.nl>
> Organization: atelier iebele abel
> To: radiance-general@radiance-online.org
> Subject: Re: [Radiance-general] syntax of wrinkle.cal (or: how to get a nice
>  water surface)
> Reply-To: radiance-general@radiance-online.org
>
> --------------CC29D4672F89C939A4CEDED3
> Content-Type: text/plain; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> Hi  Lars,
>
> This works for me, good luck!
>
> Regards,
>
> Iebele
>
> # Model the water as a single surface.
> # Below the water should be a dark open box,
> # 'just like' as in the real world.
> # See the ascii art below...
> #
> #         section of the scene
> #
> #        ~~~~~~~~~~~~~~~~~~~~~   bumpy water surface
> #        \                   /   dark box
> #         \_________________/
> #
>
> void texfunc bumpy
> 6 xwrink ywrink zwrink wrinkle.cal -s 2.2
> 0
> 3 0.01 0.05 0.05
>
> bumpy glass water
> 0
> 0
> 3 0.3 0.3 0.3
>
> #water is the modifier
>
> "Lars O. Grobe" wrote:
>
> > Hi!
> >
> > I try to get a nice water surface. I wanted to try wrinkle.cal, but I don't
> > understand the syntax. Is there anyone who has an example how to use it?
> >
> > So far, I use the wobbly.cal with a glass material, but this doesn't seam to
> > be the best choice.
> >
> > Thank You, CU, Lars.
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> --------------CC29D4672F89C939A4CEDED3
> Content-Type: text/html; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> <!doctype html public "-//w3c//dtd html 4.0 transitional//en">
> <html>
> <tt></tt>&nbsp;
> <br><tt>Hi&nbsp; Lars,</tt><tt></tt>
> <p><tt>This works for me, good luck!</tt><tt></tt>
> <p><tt>Regards,</tt><tt></tt>
> <p><tt>Iebele</tt>
> <br><tt></tt>&nbsp;<tt></tt>
> <p><tt># Model the water as a single surface.</tt>
> <br><tt># Below the water should be a dark open box,</tt>
> <br><tt># 'just like' as in the real world.</tt>
> <br><tt># See the ascii art below...</tt>
> <br><tt>#</tt>
> <br><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; section of the
> scene</tt>
> <br><tt>#</tt>
> <br><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~~~~~~~~~~~~~~~~~~~~~&nbsp;&nbsp;
> bumpy water surface</tt>
> <br><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
> /&nbsp;&nbsp; dark box</tt>
> <br><tt>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \_________________/</tt>
> <br><tt>#</tt>
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;<tt></tt>
> <p><tt>void texfunc bumpy</tt>
> <br><tt>6 xwrink ywrink zwrink wrinkle.cal -s 2.2</tt>
> <br><tt>0</tt>
> <br><tt>3 0.01 0.05 0.05</tt><tt></tt>
> <p><tt>bumpy glass water</tt>
> <br><tt>0</tt>
> <br><tt>0</tt>
> <br><tt>3 0.3 0.3 0.3</tt><tt></tt>
> <p><tt>#water is the modifier</tt>
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;
> <br><tt></tt>&nbsp;<tt></tt>
> <p>"Lars O. Grobe" wrote:
> <blockquote TYPE=CITE>Hi!
> <p>I try to get a nice water surface. I wanted to try wrinkle.cal, but
> I don't
> <br>understand the syntax. Is there anyone who has an example how to use
> it?
> <p>So far, I use the wobbly.cal with a glass material, but this doesn't
> seam to
> <br>be the best choice.
> <p>Thank You, CU, Lars.
> <br>_______________________________________________
> <br>Radiance-general mailing list
> <br>Radiance-general@radiance-online.org
> <br><a href="http://www.radiance-online.org/mailman/listinfo/radiance-general">http://www.radiance-online.org/mailman/listinfo/radiance-general</a></blockquote>
> </html>
>
> --------------CC29D4672F89C939A4CEDED3--
>
> --__--__--
>
> Message: 5
> Date: Tue, 29 Jan 2002 15:59:23 -0500 (EST)
> From: Georg Mischler <schorsch@schorsch.com>
> To: <radiance-general@radiance-online.org>
> Subject: Re: [Radiance-general] Re: Trees... and defining them in radiance
> Reply-To: radiance-general@radiance-online.org
>
> Lars O. Grobe wrote:
>
> > In fact, I am currently working on the scene without rayfront. Is there a way
> > to make rayfront generate one octree per imported geometry (I used
> > rad-geometries, but the dxf-import would be ok, too)? If I try to oconv all
> > my rad-files in one run, I get the famous oconv overflow ;-) So I created one
> > oct per "object" (in fact per color) and have a instance file "model.rad"
> > where I put all my octs together.
>
> There currently is no automatic way. You can place octrees in the
> "parts" directory in the project, and include them with the marker
> substitution feature. This is slightly clumsy, and primarily interesting
> for those parts of your model that contribute a lot to the complexity,
> but probably won't change later. The details of the procedure are
> more suitable for a different mailing list, though.
>
> Future versions of Rayfront may offer to do this automatically.
>
> -schorsch
>
> --
> Georg Mischler  --  simulations developer  --  schorsch at schorsch.com
> +schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/
>
> --__--__--
>
> Message: 6
> From: "Lars O. Grobe" <grobe@gmx.net>
> To: radiance-general@radiance-online.org
> Date: Tue, 29 Jan 2002 23:49:55 +0100
> Subject: [Radiance-general] macbethcal and pcond
> Reply-To: radiance-general@radiance-online.org
>
> Hi!
>
> Again me... I'm spending quite a lot of time with radiance at the moment ;-)
>
> I want to print some renderings on a large format printer. If I simply print
> a tiff (generated with ra_tiff), I get very bad colors (not enough
> saturation, everything appears grey).
>
> No I tried the macbethcal. I printed the macbeth-pic from the distribution
> (using the same print chain as I will do with the rendering), scanned it with
> an xrite 41, calculated xyY from x-rite's xyz-data (is there a converter /
> script to do this out there???), made a cal-file (with some warning
> concerning gamut of intermediate colors). But pcond says "cannot grok
> macbethcal file", and something about inp-flags 077. What does it mean?
>
> Maybe someone may help? So long, I must use photoshop ;-)
>
> CU, Lars.
>
> --__--__--
>
> Message: 7
> From: "Lars O. Grobe" <grobe@gmx.net>
> To: radiance-general@radiance-online.org
> Date: Wed, 30 Jan 2002 00:00:01 +0100
> Subject: [Radiance-general] compiling the 3.4b on alpha linux
> Reply-To: radiance-general@radiance-online.org
>
> Hi!
>
> Did anyone successfully use the 3.4 or it's beta on alpha / linux?
>
> While I got it to compile (with compaq c 6.2), radianc doesn't want to render
> ;-) It's oconv giving me always out of memory messages (e.g. with the
> "benchmark2", available at Mark Stock's pages).
>
> Did the oconv code change? I have been using 3r2 on alpha with compaq c for
> linux before.
>
> CU, Lars.
>
> --__--__--
>
> Message: 8
> Date: Tue, 29 Jan 2002 14:36:55 -0800
> From: Greg Ward <gward@lmi.net>
> To: radiance-general@radiance-online.org
> Subject: [Radiance-general] Re: Radiance 3.4 release
> Reply-To: radiance-general@radiance-online.org
>
> Good point about using the mixpict primitive -- I vaguely remembered
> programming something like this, but then didn't see it in the ray.html
> reference manual, so I thought I must have dreamed it.  I guess it's one
> of those things that didn't get updated when it should have because I
> wasn't sure that it was in the LBNL release or not.  Now that it's there
> in 3.4, I went and updated the HTML reference manual, but I know there
> are still a lot of man pages on the website that are in need of
> updating...  Unfortunately, I don't have any of the tools I onced used
> to convert nroff into HTML and PostScript.  Sigh.  Guess that's
> something to do in my "free" time.  If something seems inconsistent,
> it's best to rely on what's in ray/man/man1 in the 3.4 distribution.
>
> I just compiled 3.4 for SGI machines, since most systems come without a
> compiler license these days.  John Mardaljevic also reminded me that
> there is a problem getting the TIFF library to compile under Solaris.
> The "install" program on some Solaris systems seems to be broken, so the
> TIFF library fails to install properly, and the rest of the programs in
> the src/px directory don't get installed as a consequence.  This can be
> remedied by manually installing the library from src/px/tiff/libtiff
> into src/lib, but it's too bad I don't know of a better fix than this.
>
> I'm still planning to compile under Intel Linux, and will probably get
> to that in the next day or two.  If Lars beats me to it and sends me the
> binaries, so much the better!
>
> -Greg
>
> --__--__--
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> End of Radiance-general Digest

--
Zack Rogers
Sustainable Designer/Associate Engineer
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA
tel (303)444-4149 ext.235
fax (303)444-4304
www.archenergy.com



From radiance-general@radiance-online.org  Wed Jan 30 19:42:39 2002
From: radiance-general@radiance-online.org (Greg Ward)
Date: Wed, 30 Jan 2002 11:42:39 -0800
Subject: [Radiance-general] Radiance 3.4 binaries for Linux
In-Reply-To: <200201301101.g0UB12Q13708@darkside-animation.com>
Message-ID: <84862C64-15B9-11D6-BED1-00306540F848@lmi.net>

I have now included the Linux binaries for Radiance 3.4 on the website, 
available from:

	http://radsite.lbl.gov/radiance/license.html

I compiled with and without dynamic linking.  I don't know how portable 
dynamically-linked binaries are across Linux systems, but you're welcome 
to try.  Certainly, the executables (and download size) is much smaller!

I did not verify that every aspect of the system is working correctly, 
but I ran through a standard rendering and it seemed to work.  Please 
let me know of any problems you encounter.

-Greg


