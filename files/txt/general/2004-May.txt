From whollycow at mac.com  Sat May  1 01:40:00 2004
From: whollycow at mac.com (John An)
Date: Sat May  1 01:39:41 2004
Subject: [Radiance-general] Re: rtrace for luminance values
Message-ID: <B2403DB6-9AFF-11D8-B043-000A95871DF2@mac.com>

Thanks Mehlika for the explanation.  I was using getinfo to find the 
exposure information, and there was nothing regarding exposure.  Can 
you think of any other reason why this may be happening, and what I 
might do to remedy this problem?


John



Mehlika wrote:
Hello John. You can use the getinfo command to look at the exposure of
an Radiance image. The exposure value is given as EXPOSURE=.... If there
is no exposure line, exposure is 1.00 by default.
Hope it helps...
Mehlika

John An wrote:

 > I have run into a problem that I think Mehlika Nur Inanici had a
 > couple of year's back.
 >
 > I am trying to use rtrace to get luminance values on top of a desk
 > surface.  The command I'm using is:
 >
 > cnt 6 12 1 | rcalc -e 
'$1=51+((72/6)*$1+6);$2=96+((144/12)*$2+6);$3=30' \
 > -e '$4=0;$5=0;$6=1' | rtrace -h -ov @../options_aa08_ab5 -af
 > b_b_m_2_bare_aa08_ad1024_ab5.amb -e
 > b_b_m_2_bare_illumgrid_task_08_l.out b_b_m.oct \
 > | rcalc -e '$1=179*(.265*$1+.670*$2+.065*$3)' >
 > b_b_m_2_bare_illumgrid_task_08_l.dat
 >
 > The values reported by rtrace are in the range of 0.1 to 0.2
 > candela/meter squared.  However, in an image, I am getting values in
 > the range of 1.5 to 2.5 candela/meter squared (which is much more
 > reasonable).
 >
 > In response to Mehlika's question, Schorsch had mentioned that the
 > header to the pic file would give an exposure value, and that
 > luminance = 179*(.265*R+.670*G+.065*B) / e.  But I can't seem to find
 > the exposure.
 >
 > What am I missing?  Where am I not looking?
 >
 > Thanks.
 >
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 3645 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040430/97476b65/attachment.bin
From raphael.compagnon at eif.ch  Mon May  3 08:57:32 2004
From: raphael.compagnon at eif.ch (Raphael Compagnon)
Date: Mon May  3 08:57:41 2004
Subject: [Radiance-general] Re: rtrace for luminance values
In-Reply-To: <B2403DB6-9AFF-11D8-B043-000A95871DF2@mac.com>
Message-ID: <5.1.0.14.2.20040503084833.01fbf958@pop.eif.ch>

John,

Are you sure you are sending the rays in the right direction ?
 From the two first lines of your script:

cnt 6 12 1 | rcalc -e '$1=51+((72/6)*$1+6);$2=96+((144/12)*$2+6);$3=30' \
-e '$4=0;$5=0;$6=1' |  ....
it seems you are sending rays from a regular grid in a xy plane in the 
upward direction ($6=1) !

I guess you should ensure your calculation grid is located above your desk 
(e.g. by setting $3=30.5) and then trace rays downwards ($6=-1). Then 
rtrace will calculate the luminance values at the rays intersections with 
your desk plane which is what you expect I think...

Hope this will help you.
Rapha?l Compagnon

  it seems you are tracing rays
At 01.05.2004 01:40, you wrote:
>Thanks Mehlika for the explanation.  I was using getinfo to find the 
>exposure information, and there was nothing regarding exposure.  Can you 
>think of any other reason why this may be happening, and what I might do 
>to remedy this problem?
>
>
>John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040503/75ffd6f8/attachment.htm
From Gilles.Chiasson at pwgsc.gc.ca  Mon May  3 20:19:18 2004
From: Gilles.Chiasson at pwgsc.gc.ca (Gilles Chiasson)
Date: Mon May  3 20:19:22 2004
Subject: [Radiance-general] radiance error message
Message-ID: <83C7CE5F7B575C4E94AA0B5379B1414A4E00DD@mb-ncr-023.ad.pwgsc-tpsgc.gc.ca>

hello

installed Radiance on a Dell Pentium III with 512 megs of ram with 5.4 gigs free on the C drive

i am using Autocad Architectural Desktop 2000i with win2000 and all the patches

i ran the test.dwg file from the Radiance site to test the install - worked fine

when i run the tutorials included on the Radiance site i get a memory error when i try to run a Simulation/Camera

exception in C:\...\deskrad.arx ARX command
unhandled exception C0000005 access violation writing at ...

when i draw a circle and place materials and one camera - that works
anything else and i get this error message

we are a SIM/VIS lab and use Lightscape, softimage ...

we are researching other light simulation study software

i do have 2 Linux boxs in production, would Radiance work better with Linux?

Gilles

From whollycow at mac.com  Mon May  3 23:56:49 2004
From: whollycow at mac.com (John An)
Date: Mon May  3 23:56:31 2004
Subject: [Radiance-general] Re: rtrace for luminance values
In-Reply-To: <200405031001.i43A1S5a003040@mac.com>
References: <200405031001.i43A1S5a003040@mac.com>
Message-ID: <C7476FDE-9D4C-11D8-A5C0-000A95871DF2@mac.com>

Thank Raphael,

I had always simply taken illuminance values, so I simply thought that  
taking the -I parameter out would do the trick.  It makes much more  
sense that I would need to send the ray toward the surface I want to  
evaluate.


John



On May 3, 2004, at 6:01 AM, Raphael Compagnon wrote:
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 03 May 2004 08:57:32 +0200
> From: Raphael Compagnon <raphael.compagnon@eif.ch>
> Subject: Re: [Radiance-general] Re: rtrace for luminance values
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <5.1.0.14.2.20040503084833.01fbf958@pop.eif.ch>
> Content-Type: text/plain; charset="iso-8859-1"
>
> John,
>
> Are you sure you are sending the rays in the right direction ?
>  From the two first lines of your script:
>
> cnt 6 12 1 | rcalc -e  
> '$1=51+((72/6)*$1+6);$2=96+((144/12)*$2+6);$3=30' \
> -e '$4=0;$5=0;$6=1' |  ....
> it seems you are sending rays from a regular grid in a xy plane in the
> upward direction ($6=1) !
>
> I guess you should ensure your calculation grid is located above your  
> desk
> (e.g. by setting $3=30.5) and then trace rays downwards ($6=-1). Then
> rtrace will calculate the luminance values at the rays intersections  
> with
> your desk plane which is what you expect I think...
>
> Hope this will help you.
> Rapha?l Compagnon
>
>   it seems you are tracing rays
> At 01.05.2004 01:40, you wrote:
>> Thanks Mehlika for the explanation.  I was using getinfo to find the
>> exposure information, and there was nothing regarding exposure.  Can  
>> you
>> think of any other reason why this may be happening, and what I might  
>> do
>> to remedy this problem?
>>
>>
>> John
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:  
> http://radiance-online.org/pipermail/radiance-general/attachments/ 
> 20040503/75ffd6f8/attachment.html
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 3, Issue 2
> **********************************************
>


From toast at becausewecan.org  Tue May  4 00:06:05 2004
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Tue May  4 00:06:09 2004
Subject: [Radiance-general] radiance error message
In-Reply-To: <83C7CE5F7B575C4E94AA0B5379B1414A4E00DD@mb-ncr-023.ad.pwgsc-tpsgc.gc.ca>
References: <83C7CE5F7B575C4E94AA0B5379B1414A4E00DD@mb-ncr-023.ad.pwgsc-tpsgc.gc.ca>
Message-ID: <4096C24D.9080109@becausewecan.org>

> i am using Autocad Architectural Desktop 2000i with win2000 and all the patches

Gilles, this is the general Radiance list. You probably want to post 
your errors and questions regarding Desktop Radiance to the Desktop 
Radiance list, for you're much more likely to get the help you're 
looking for.

http://finance.groups.yahoo.com/group/DesktopRadiance/

> we are researching other light simulation study software
> i do have 2 Linux boxs in production, would Radiance work better with Linux?

In my experience Radiance works better as a 'full' version running 
under some form of Unix. I use it primarily with Cygwin on Windows.

Cygwin is a 'mini-Linux' that allows you to run some Linux tools under 
windows, and to port others to be able to run. It's open source, like 
Radiance, so it's free. Thankfully, Francesco Anselmo ported Radiance 
3.5 to run under Cygwin, which gives you full Radiance abilities under 
windows. Here's the links to both:

http://www.cygwin.com/
http://www.dream.unipa.it/dream/pub/dot/anselmo/radiance/03.php

However there will be more of a learning curve for you with this 
approach, for you'll have to learn BASH Unix command-line tools as 
well as Radiance. I've also used Radiance with Mandrake Linux & OS X, 
and both worked very well. However, learning how to use the full 
Radiance package on Unix/Linux/Cygwin has taken me a long time, and 
I've got quite a ways to go. It's not the easy road, but by far the 
most rewarding. :-)

Also there is a commercial Radiance port for Windows called 'rayfront' 
that gives you a much easier to use interface for Radiance. This might 
be your best option off all, if Desktop Radiance doesn't work for what 
you need and you find the full command-line Radiance too daunting but 
you still want to use Radiance:

http://www.schorsch.com/

good luck!

Jeffrey

From grobe at gmx.net  Tue May  4 16:31:36 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue May  4 16:31:16 2004
Subject: [Radiance-general] radiance error message
In-Reply-To: <4096C24D.9080109@becausewecan.org>
Message-ID: <BF7F09C4-9DD7-11D8-A1AA-000A959DDB22@gmx.net>

Hi!

> Also there is a commercial Radiance port for Windows called 'rayfront' 
> that gives you a much easier to use interface for Radiance. This might 
> be your best option off all, if Desktop Radiance doesn't work for what 
> you need and you find the full command-line Radiance too daunting but 
> you still want to use Radiance:
>
> http://www.schorsch.com/

Have to mention that the Rayfront distribution contains versions for 
Linux, Solaris and Windows... (just no Mac OS X at the moment :'( ).

And, yes, Linux is more fun (or any other kind of ix-like os), but you 
won't have AutoCad on Linux (if you don't start using AutoCad on Linux 
with Wine, which is afaik possible).

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From toast at becausewecan.org  Tue May  4 17:46:58 2004
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Tue May  4 17:47:04 2004
Subject: [Radiance-general] radiance error message
In-Reply-To: <BF7F09C4-9DD7-11D8-A1AA-000A959DDB22@gmx.net>
References: <BF7F09C4-9DD7-11D8-A1AA-000A959DDB22@gmx.net>
Message-ID: <4097BAF2.2010007@becausewecan.org>

> Have to mention that the Rayfront distribution contains versions for 
> Linux, Solaris and Windows... (just no Mac OS X at the moment :'( ).

Whoops! Sorry there. Didn't know. :-)

> And, yes, Linux is more fun (or any other kind of ix-like os), but you 
> won't have AutoCad on Linux (if you don't start using AutoCad on Linux 
> with Wine, which is afaik possible).

Somewhat possible. It's a challenge from the research I've done, and 
might not really work with the newer versions of AutoCAD. I know that 
it doesn't work for Revit :'(

Hey, on another note, I can't get TORAD or RADOUT to work under 
AutoCAD 2004/2005. Since I'm working for a Autodesk Reseller now (to 
have more time to devote to my own business and my pursuit of my 
Architect's license) I handed both off to a friend here who's way 
Lisp/ARX savvy (he was on the 'express tools' team) and he's gonna 
look them over. If he's able to fix them, I'll send them back to you. 
I still use them for Revit's exporting to DXF isn't finegrained enough 
to meet my needs, so I have to tweak layers in AutoCAD and then use 
TORAD/RADOUT from there to get to Radiance...

Jeffrey

From rpg at rumblestrip.org  Tue May  4 17:59:07 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue May  4 17:59:16 2004
Subject: [Radiance-general] radout and ACAD 2004/05 (was: Re:radiance error
	message)
In-Reply-To: <4097BAF2.2010007@becausewecan.org>
References: <BF7F09C4-9DD7-11D8-A1AA-000A959DDB22@gmx.net>
	<4097BAF2.2010007@becausewecan.org>
Message-ID: <4097BDCB.6070103@rumblestrip.org>

Jeffrey McGrew wrote:

> Hey, on another note, I can't get TORAD or RADOUT to work under AutoCAD 
> 2004/2005. ... I handed both off to a friend here who's way Lisp/ARX savvy (he 
> was on the 'express tools' team) and he's gonna look them over. If he's 
> able to fix them, I'll send them back to you. 

Good to know, Jeffrey.  I was just looking into pricing for upgrading my 
office here; guess this is one reason to hang back.  There are probably 
just a few new entities that are giving radout problems when it sorts 
thru the selection set.  I had a nifty LISP routine a while back that 
converted entity colors, even entities nested in blocks.  This program 
blew up when R14 came out with its new LWPOLYLINE entity.  Once the 
program was told about LWPOLYLINEs, it worked again. =8-)

Your friend should probably get in touch with Georg Mischler so that 
Georg's downloads can be updated too, assuming he's able to work out a fix.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From schorsch at schorsch.com  Tue May  4 19:38:48 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Tue May  4 19:38:52 2004
Subject: [Radiance-general] radiance error message
In-Reply-To: <4097BAF2.2010007@becausewecan.org>
References: <BF7F09C4-9DD7-11D8-A1AA-000A959DDB22@gmx.net>
	<4097BAF2.2010007@becausewecan.org>
Message-ID: <Pine.BSF.4.58.0405041336320.40668@emancholl.pair.com>

Jeffrey McGrew wrote:

> Rob Guglielmetti wrote:
>
> > And, yes, Linux is more fun (or any other kind of ix-like os), but you
> > won't have AutoCad on Linux (if you don't start using AutoCad on Linux
> > with Wine, which is afaik possible).
>
> Somewhat possible. It's a challenge from the research I've done, and
> might not really work with the newer versions of AutoCAD. I know that
> it doesn't work for Revit :'(

If in doubt, I'd rather recommend VMware (www.vmware.com).
You'll get a full Windows system of your choice running inside
Linux, and the performance penalty is hardly noticeable. It's not
free, but after you paid $$$$$ for Autocad, the cost should be
negligible in coparison.


> Hey, on another note, I can't get TORAD or RADOUT to work under
> AutoCAD 2004/2005.

I don't see why Torad wouldn't work, but I haven't tried that
for a very long time. If you're really that desperate, it will
probably only require minor changes.
Btw. Rob: Torad is most likely the "nifty LISP routine" doing
the nested block unrolling. It's more than 10 years old.
Radout is basically a rewrite of that functionality in C/C++.

The current Radout binaries won't work. The binary API has
changed between 2002 and 2004, which means that ObjectARX
applications need to be recompiled against the new libraries.
Although Autodesk recently forced me to upgrade (which brought my
budget into serious danger), I haven't yet found the time to do
that. Actually, after I had to replace my computer last month,
I still need to get Vmware running again. Besides that, I'm not
sure if I also need to get a current version of VC++, and there
may be a few other dependencies. In short, anyone buying a copy
or Rayfront will help accelerate the process... ;)


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From rpg at rumblestrip.org  Tue May  4 20:32:08 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue May  4 20:32:16 2004
Subject: [Radiance-general] radiance error message
In-Reply-To: <Pine.BSF.4.58.0405041336320.40668@emancholl.pair.com>
References: <BF7F09C4-9DD7-11D8-A1AA-000A959DDB22@gmx.net>	<4097BAF2.2010007@becausewecan.org>
	<Pine.BSF.4.58.0405041336320.40668@emancholl.pair.com>
Message-ID: <4097E1A8.4080804@rumblestrip.org>

Georg Mischler wrote:
> Btw. Rob: Torad is most likely the "nifty LISP routine" doing
> the nested block unrolling. It's more than 10 years old.
> Radout is basically a rewrite of that functionality in C/C++.

Hi Georg,
The routine I mentioned was copied from an alt.cad.autocad post many 
moons ago, close to ten years ago in fact (yeah, I'm old, whatever). 
It's possible that the unrolling routine was lifted from torad, but 
AFAIK this was a totally separate venture.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From canoe at onetel.net.uk  Wed May  5 12:49:40 2004
From: canoe at onetel.net.uk (James Lee)
Date: Wed May  5 12:53:52 2004
Subject: [Radiance-general] Solaris binaries from Blastwave
Message-ID: <20040505.10494000.2827791639@landeck.jamesipoos.com>

I am pleased to announce that radiance binaries for Solaris
Sparc and Solaris Intel in pre-packaged form are available from
Blastwave:
    http://www.blastwave.org


You will find Solaris Intel binaries as well as Sparc. (Note
radsite.lbl.gov/radiance/dist/ only has Sparc.)

Rendering images is CPU intensive and every effort has been made
to optimise for increased speed.  Sun's Forte compiler (Sun One
Studio 8) was used.  The packages contain architecture optimised
versions of the heavily used executables which are invoked as
required automatically by isaexec.  This gives a few percent
advantage over generic compiles but that can add up to several
hours when rendering images.  The Sparc package is 35% faster
on an Ultra than the binaries offered from the radsite.lbl.gov
website, (http://radsite.lbl.gov/radiance/dist/radbin_sun.tar.gz).

From mastersb at conwag.com  Thu May  6 02:07:53 2004
From: mastersb at conwag.com (Ben Masters)
Date: Thu May  6 01:51:23 2004
Subject: [Radiance-general] Calculating maximum illuminance levels from
	daylight
Message-ID: <OF9B6C7E9A.DA0C4D03-ONCC256E8B.00825A9B-CC256E8B.0082D557@conwag.com>

Just a quick one guys....

We are doing some radiance analysis on a  new building design. The 
building is to be located in Auckland, New Zealand (Southern Hemisphere, 
full of orcs and hobbits and elves). The design is a museum building that 
specifies a maximum of 350lux on a boat that is on display. We have to 
ensure that daylight (sunlight + skylight) does not give levels greater 
than this. We have designed the building to completely shade the boat 
surface from direct sunlight throughout the year. 

So, I have set up a numerical grid for analysis and ran the model under an 
overcast sky and then used local meterological outside illuminance data. 
This data gives a maximum diffuse illuminance of 50,000lux. 

Using this overcast sky model the design works. However, would this be the 
'worst case scenario'? I understand that a clear sky gives a greater 
luminance distribution around the horizon that an overcast sky. 

Following a shading analysis we have found that the most exposure to the 
sky and direct sunlight will be at 12pm during the winter solstice (June 
21) to the north facade. At this point the sun will be at an altitude of 
30 degrees.

In order to calculate absolute illuminace levels on the boat can I just 
use the CIE Clear sky model set up for this time period using the default 
values for horizontal diffuse irradiance and horizontal direct irradiance? 
Or do I have to specify the maximum values?


Thanks for your help
Ben

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040506/cc28322e/attachment.html
From jm at dmu.ac.uk  Thu May  6 10:15:50 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Thu May  6 10:16:04 2004
Subject: [Radiance-general] Re: Calculating maximum illuminance levels from
	daylight
Message-ID: <E1BLe2o-0006pC-00@saturn.dmu.ac.uk>

Ben,

There are various ways to estimate time-varying daylight
illuminance from a few 'static' simulations.  Your application
however seems to require fairly precise values.  I think the
only way to achieve them with any certainty is to carry
out a full blown time-varying daylight illuminance calculation
using a full year of 1hr met. data.  If you're not convinced,
see Figures 6.36 and 6.37 (Chapter 6) here:

http://www.iesd.dmu.ac.uk/~jm/zxcv-thesis/

for an illustration of the difference between static daylight
factors and time-varying daylight factors.

To generate time-varying daylight illuminances, try Christoph
Reinhart's DAYSIM package:

http://irc.nrc-cnrc.gc.ca/ie/light/daysim.html

-John Mardaljevic 

PS. I would have suggested also the DLS (IESD's own Radiance-based
tool to predict time-varying daylight illuminance).  But
it is currently broken becuase changes in Java have not yet been
incorporated into the tool. :(

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)
   
http://www.iesd.dmu.ac.uk/~jm


From whollycow at mac.com  Thu May  6 23:01:31 2004
From: whollycow at mac.com (John An)
Date: Thu May  6 23:01:14 2004
Subject: [Radiance-general] removing legend on falsecolor "error"
Message-ID: <8C9FE6F5-9FA0-11D8-95EF-000A95871DF2@mac.com>

Hi all,

I am using the newly incorporated falsecolor option -lw to remove the 
legend from the falsecolor image all together.  I need to do this 
because I'm generating many images at the same scale, so don't want to 
have to remove the scale and resize the image.

% falsecolor -i picture1.pic -lw 0 -s 10 > picture_falsecolor1.pic
% falsecolor -i picture2.pic -lw 0 -s 10 > picture_falsecolor2.pic

etc.

However, because I need a scale to compare my images against, I use 
falsecolor without the -lw option

% falsecolor -i picture1.pic -s 10 > picture_falsecolor_legend.pic

The problem is, the color on the image with the legend is completely 
different from the color on the image without the legend.

Is there an option that I am missing to synchronize the color scale?


John


From whollycow at mac.com  Thu May  6 23:11:58 2004
From: whollycow at mac.com (John An)
Date: Thu May  6 23:11:40 2004
Subject: [Radiance-general] Re: removing legend on falsecolor "error"
Message-ID: <02700326-9FA2-11D8-95EF-000A95871DF2@mac.com>

Sorry all, Rob Guglimetti helped me to solve the problem.

I was using Photosphere which was automatically setting the exposure, 
and thus, the difference in color.


John



Begin forwarded message:

> From: John An <whollycow@mac.com>
> Date: May 6, 2004 5:01:31 PM EDT
> To: radiance-general@radiance-online.org
> Subject: removing legend on falsecolor "error"
>
> Hi all,
>
> I am using the newly incorporated falsecolor option -lw to remove the 
> legend from the falsecolor image all together.  I need to do this 
> because I'm generating many images at the same scale, so don't want to 
> have to remove the scale and resize the image.
>
> % falsecolor -i picture1.pic -lw 0 -s 10 > picture_falsecolor1.pic
> % falsecolor -i picture2.pic -lw 0 -s 10 > picture_falsecolor2.pic
>
> etc.
>
> However, because I need a scale to compare my images against, I use 
> falsecolor without the -lw option
>
> % falsecolor -i picture1.pic -s 10 > picture_falsecolor_legend.pic
>
> The problem is, the color on the image with the legend is completely 
> different from the color on the image without the legend.
>
> Is there an option that I am missing to synchronize the color scale?
>
>
> John
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1404 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040506/8efa0b3f/attachment.bin
From gward at lmi.net  Thu May  6 23:11:26 2004
From: gward at lmi.net (Greg Ward)
Date: Thu May  6 23:27:07 2004
Subject: [Radiance-general] Re: removing legend on falsecolor "error"
In-Reply-To: <8C9FE6F5-9FA0-11D8-95EF-000A95871DF2@mac.com>
References: <8C9FE6F5-9FA0-11D8-95EF-000A95871DF2@mac.com>
Message-ID: <EF490C16-9FA1-11D8-A287-00306540F848@lmi.net>

Are you using the latest falsecolor.csh from the HEAD release?  It 
seems to work as expected when I try it.  With and without the -lw 
option, I get the same basic coloring.

-Greg

> From: John An <whollycow@mac.com>
> Date: May 6, 2004 2:01:31 PM PDT
>
> Hi all,
>
> I am using the newly incorporated falsecolor option -lw to remove the 
> legend from the falsecolor image all together.  I need to do this 
> because I'm generating many images at the same scale, so don't want to 
> have to remove the scale and resize the image.
>
> % falsecolor -i picture1.pic -lw 0 -s 10 > picture_falsecolor1.pic
> % falsecolor -i picture2.pic -lw 0 -s 10 > picture_falsecolor2.pic
>
> etc.
>
> However, because I need a scale to compare my images against, I use 
> falsecolor without the -lw option
>
> % falsecolor -i picture1.pic -s 10 > picture_falsecolor_legend.pic
>
> The problem is, the color on the image with the legend is completely 
> different from the color on the image without the legend.
>
> Is there an option that I am missing to synchronize the color scale?
>
> John


From mastersb at conwag.com  Fri May  7 01:29:45 2004
From: mastersb at conwag.com (Ben Masters)
Date: Fri May  7 01:29:46 2004
Subject: [Radiance-general] Re: Calculating maximum illuminance levels from
	daylight
In-Reply-To: <T69684ffa47ac10071554c@cwmsw1.conwag.com>
Message-ID: <OF9C8C4383.6CA26D39-ONCC256E8C.0081F6EF-CC256D1E.0080DC1C@conwag.com>

Thanks John,

I understand what you are proposing and have read your thesis previously 
during my studies.

Local weather information available contains data for an average or 
typical year. The sky may not be sunny during the time when the building 
has the highest level of solar exposure (Winter solstice). Since the CIE 
Clear Sky represents an extreme sky condition I thought I could pretty 
much cover the worst case scenario, not actual measured irradiance data.

So, I am still unsure weather Radiance or Gensky will automatically 
calculate the direct and diffuse illuminance given a clear sky, time 
location etc. and if it does will these numbers be realistic or 
theoretical? I am not concerned about overdesigning to handle an extreme 
sky condition.

Surely once light from the sun has penetrated the earths atmosphere it is 
at a constant level, varying in intensity by solar altitude (cosine law).

Thanks,
Ben
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040506/d04544f6/attachment.html
From jm at dmu.ac.uk  Fri May  7 11:08:01 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri May  7 11:08:22 2004
Subject: [Radiance-general] Re: Calculating maximum illuminance levels from
	daylight
Message-ID: <E1BM1Kr-0000Cj-00@saturn.dmu.ac.uk>

Ben,

> So, I am still unsure weather Radiance or Gensky will automatically 
> calculate the direct and diffuse illuminance given a clear sky, time 
> location etc. and if it does will these numbers be realistic or 
> theoretical?

Yes, gensky can *estimate* absolute values from just location, time
and user specified sky conditions, e.g. CIE clear.  But there is no
knowing how good the estimate is until you make comparison with
absolute values from, say, a TRY.  My suggestion is: find the
maximum global horizontal irradiance (& associated diffuse horizontal)
in the TRY, and use those to set your -R and -B gensky parameters.
Doesn't matter too much when in the year it occurs, it's more a
case of getting an idea of what likely magnitudes are.
Maybe increase the overall value by a little to account for very extreme
conditions, but be careful not to exceed theoretical limits.

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

http://www.iesd.dmu.ac.uk/~jm


  


From david.k.brayford at stud.man.ac.uk  Fri May  7 17:35:19 2004
From: david.k.brayford at stud.man.ac.uk (David)
Date: Fri May  7 17:27:48 2004
Subject: [Radiance-general] Adding a new BRTDF /  BSDF
Message-ID: <00d501c43448$e754f1d0$a4015882@kitkat>

Hi,
 
I am in the process of developing a new BRTDF / BSDF as a part of my PhD
that incorporates:
 
1) Anisotropic 
2) Stratified multilayered media with Beer-Lambert transmission
calculations. 
3) Subsurface light scattering based on Stokes vector and Mueller
calculus.
4) Diffraction based on Fourier optics.
5) Monte Carlo methods
 
To simulate materials such as iridescent (pearlescent) paint, CD / DVD,
mother-of-pearl, pearls, opals and various other complex multilayered
surfaces. I've converted the various algorithms into a series of  simple
C functions and would like to use Radiance to simulate these material
properties. However, after a quick examination of the dielectric.c file
the implementation is not going to be as easy as I'd expected especially
incorporating Monte Carlo sampling methods. 
 
Does anyone have any advice or suggestions on how I go about
incorporating the algorithms into Radiance, and especially how I go
about incorporating Monte Carlo sampling into the BRTDF / BSDF within
Radiance? 
 
Thanks
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040507/3f484606/attachment.htm
From apian at pab-opto.de  Fri May  7 21:31:00 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Fri May  7 21:31:38 2004
Subject: [Radiance-general] Adding a new BRTDF /  BSDF
In-Reply-To: <00d501c43448$e754f1d0$a4015882@kitkat>
References: <00d501c43448$e754f1d0$a4015882@kitkat>
Message-ID: <409BE3F4.1020504@pab-opto.de>

David wrote:

> Hi,
>
> I am in the process of developing a new BRTDF / BSDF as a part of my 
> PhD that incorporates:
>
> 1) Anisotropic
>
> 2) Stratified multilayered media with Beer-Lambert transmission 
> calculations.
>
> 3) Subsurface light scattering based on Stokes vector and Mueller 
> calculus.
>
> 4) Diffraction based on Fourier optics.
>
> 5) Monte Carlo methods
>
> To simulate materials such as iridescent (pearlescent) paint, CD / 
> DVD, mother-of-pearl, pearls, opals and various other complex 
> multilayered surfaces. I?ve converted the various algorithms into a 
> series of simple C functions and would like to use Radiance to 
> simulate these material properties. However, after a quick examination 
> of the dielectric.c file the implementation is not going to be as easy 
> as I?d expected especially incorporating Monte Carlo sampling methods.
>
> Does anyone have any advice or suggestions on how I go about 
> incorporating the algorithms into Radiance, and especially how I go 
> about incorporating Monte Carlo sampling into the BRTDF / BSDF within 
> Radiance?
>
> Thanks
>
> David
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>
Hi David,
cool. A new material model promises advances in material models IMHO, 
not only for pearls, but for very basic materials like aluminium too.
Do you plan to do validations on your new model, e.g. compare calculated 
results with measurements or use measured BRDF data and fit parameters 
of your new model to these ?
-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From beixiao at mail.med.upenn.edu  Mon May 10 02:38:22 2004
From: beixiao at mail.med.upenn.edu (Bei Xiao)
Date: Mon May 10 02:38:27 2004
Subject: [Radiance-general] ambient light
Message-ID: <20040510003822.343001E49@pobox.upenn.edu>

Hi, 
 I am using Radiance to simulate objects with various glossy  parameters. 
But I found no matter how did I set up the material properties of the 
objects, they all look the same under the light. I guess there must be 
too much ambient light so the highlights on the objects are invisible. I 
want to turn off the ambient light in the scene and only keep a few area 
light sources. How shall I set up the parameters? Also, how do I include these parametesr in the .rad file? 
thanks. 


Bei 

From grobe at gmx.net  Mon May 10 00:10:34 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon May 10 14:24:23 2004
Subject: [Radiance-general] replmarks and mirroring
Message-ID: <B1D944D8-A205-11D8-8A45-000A959DDB22@gmx.net>

Hi!

On may way using replmarks and instances to split down a large model, I 
found a problem that makes the use of the replmark tool quite hard. I 
use this to build the model from lots of small files, which are 
exported from CAD. The markerfiles are generated by replacing the 
external references with triangles. Works really fine.

The replmarks manpage says: "The longest side is the hypoteneuse, the 
second longest side is the x?-axis, and the third longest side 
indicates the direction of the y?-axis. Any additional sides will be 
ignored (ie. a quadrilateral may be used instead of a triangle if the 
extra side is small). The z?-axis is determined by the cross product of 
the x? and y? axes, and the origin is the common vertex between x? and 
y?." This just brings one limitation - I cannot define mirroring with 
this kind of markers. In my CAD, the mirrored References give mirrored 
triangles, fine, but radiance won't mirror the instance geometry, but 
(z' as cross product of x' and y') will rotate it, so that it is upside 
down in the radiance scene.

Is there any way to circumvent this problem? It is quite bad to be 
unable to use mirroring in CAD, and makes the use of markerfiles 
difficult. I wonder why z' is not determined from the surface normal. 
Is there a reason not to use it, is it just to avoid further confusion 
(surface normals are usually where they shouldn't go;-) ?

TIA+CU Lars.
--
Lars O. Grobe
grobe@gmx.net

From grobe at gmx.net  Mon May 10 14:29:31 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon May 10 14:29:03 2004
Subject: [Radiance-general] ambient light
In-Reply-To: <20040510003822.343001E49@pobox.upenn.edu>
Message-ID: <B0242DE2-A27D-11D8-A03E-000A959DDB22@gmx.net>

Hi,

do you have an example picture that you can publish on the net? AFAIK 
you can't switch off the ambient from a rad file, the ambient settings 
don't describe the scene. So they are passed as command line parameters 
to rpic or set in the rif-file (if you use rad or trad). You might try 
-ab 0... however, it sounds not clear why your surfaces are all looking 
the same, even with ambient light ;-) BTW, do you calculate the ambient 
(-ab ?) or pass values you got somewhere else?

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From Giulio.Antonutto at arup.com  Mon May 10 14:47:41 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Mon May 10 14:47:55 2004
Subject: [Radiance-general] replmarks and mirroring
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF4AA@l-gnts05>

the simplest and quickest thing is to use two different geometries:
the mirrored (xform -I) and the default (from acad).
...then replmark separately the two geometries.
hope it helps
giulio




-----Original Message-----
From: Lars O. Grobe [mailto:grobe@gmx.net]
Sent: 09 May 2004 23:11
To: radiance-general@radiance-online.org
Subject: [Radiance-general] replmarks and mirroring


Hi!

On may way using replmarks and instances to split down a large model, I 
found a problem that makes the use of the replmark tool quite hard. I 
use this to build the model from lots of small files, which are 
exported from CAD. The markerfiles are generated by replacing the 
external references with triangles. Works really fine.

The replmarks manpage says: "The longest side is the hypoteneuse, the 
second longest side is the x?-axis, and the third longest side 
indicates the direction of the y?-axis. Any additional sides will be 
ignored (ie. a quadrilateral may be used instead of a triangle if the 
extra side is small). The z?-axis is determined by the cross product of 
the x? and y? axes, and the origin is the common vertex between x? and 
y?." This just brings one limitation - I cannot define mirroring with 
this kind of markers. In my CAD, the mirrored References give mirrored 
triangles, fine, but radiance won't mirror the instance geometry, but 
(z' as cross product of x' and y') will rotate it, so that it is upside 
down in the radiance scene.

Is there any way to circumvent this problem? It is quite bad to be 
unable to use mirroring in CAD, and makes the use of markerfiles 
difficult. I wonder why z' is not determined from the surface normal. 
Is there a reason not to use it, is it just to avoid further confusion 
(surface normals are usually where they shouldn't go;-) ?

TIA+CU Lars.
--
Lars O. Grobe
grobe@gmx.net

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From atelier at iebele.nl  Mon May 10 14:50:46 2004
From: atelier at iebele.nl (iebele)
Date: Mon May 10 14:50:33 2004
Subject: [Radiance-general] ambient light
References: <20040510003822.343001E49@pobox.upenn.edu>
Message-ID: <409F7AA6.E77231DB@iebele.nl>

Hi Bei,

Did you set the -st paramater (specular treshhold) ?
If you have a specular value of, say, 0.01, your -st value should be also 0.01, otherwise you will not see any
specular reflections.

Succes,

Iebele



Bei Xiao wrote:

> Hi,
>  I am using Radiance to simulate objects with various glossy  parameters.
> But I found no matter how did I set up the material properties of the
> objects, they all look the same under the light. I guess there must be
> too much ambient light so the highlights on the objects are invisible. I
> want to turn off the ambient light in the scene and only keep a few area
> light sources. How shall I set up the parameters? Also, how do I include these parametesr in the .rad file?
> thanks.
>
> Bei
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From grobe at gmx.net  Mon May 10 15:06:53 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon May 10 15:06:39 2004
Subject: [Radiance-general] replmarks and mirroring
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90FAF4AA@l-gnts05>
Message-ID: <E8A0E400-A282-11D8-A03E-000A959DDB22@gmx.net>

Hi,

yes, of course you are right. However, the idea is to reuse geometry 
when possible (and I have hundreds of objects which are placed by 
replmarks) and stay as close as possible to the cad packages. I wanted 
to ask as replmarks seams to be just for that goal ;). The integration 
of CAD and radiance without the need of writing radiance scene files 
manually is sometimes important... That's why I wonder if it would make 
sense to use surface normals of the triangles in replmarks - and add 
mirroring functionality that way.

Thanks+CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From jedev at visarc.com  Mon May 10 15:45:22 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Mon May 10 15:45:29 2004
Subject: [Radiance-general] replmarks and mirroring
In-Reply-To: <E8A0E400-A282-11D8-A03E-000A959DDB22@gmx.net>
References: <E8A0E400-A282-11D8-A03E-000A959DDB22@gmx.net>
Message-ID: <409F8772.5070507@visarc.com>

Hi Lars,

If you mirror a marker triangle in cad (for example autocad), then the 
normal ends up pointing the opposite direction. Thus in radiance if you 
use a set of markers that include mirrored and unmirrored triangles then 
some of your instance objects will actually point down. One way to 
resolve this is to use two sets of markers (as previously pointed out in 
another email). If you create a mirrored instance of the object, then 
you are actually reusing the object geometry and conserving memory. The 
way to do this is create an compiled octree version of the object and 
then create an instance that mirrors it appropriately around x y or z as 
follows:

void instance foo.mirror
6 foo.oct -m<x,y, or z> -t xt yt zt
0
0

Since you are simply resuing foo.oct then you conserve the memory. I 
must admit that I have to play around with -m<x,y,z> to figure out how 
the object mirrors correctly and you may need to transform the object to 
get the position to work out with respect to your marker.

-Jack

Lars O. Grobe wrote:

> Hi,
>
> yes, of course you are right. However, the idea is to reuse geometry 
> when possible (and I have hundreds of objects which are placed by 
> replmarks) and stay as close as possible to the cad packages. I wanted 
> to ask as replmarks seams to be just for that goal ;). The integration 
> of CAD and radiance without the need of writing radiance scene files 
> manually is sometimes important... That's why I wonder if it would 
> make sense to use surface normals of the triangles in replmarks - and 
> add mirroring functionality that way.
>
> Thanks+CU Lars.
> -- 
> Lars O. Grobe
> grobe@gmx.net
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From beixiao at mail.med.upenn.edu  Mon May 10 17:05:58 2004
From: beixiao at mail.med.upenn.edu (Bei Xiao)
Date: Mon May 10 17:06:10 2004
Subject: [Radiance-general] ambient light
In-Reply-To: <B0242DE2-A27D-11D8-A03E-000A959DDB22@gmx.net> from "Lars
	O.Grobe" at May 10, 2004 03:29:31 pm
Message-ID: <20040510150558.1BEBE2652@pobox.upenn.edu>

Hi,
   I passed the value "-ab 1" to the rad file because I want to use 1 indirect light source. 
The problem is when I am using single light source, the scene looks okey( shinny objects are 
shinny). But in order to create softer shadows, I am using area lights now. But It seems now 
the shinny objects look the same as the matt ones. I also lost all the shading of the scene. 

Thanks. 


Bei 

 > 
> Hi, > > do you have an example picture that you can publish on the net? AFAIK > you can't
switch off the ambient from a rad file, the ambient settings > don't describe the scene. So
they are passed as command line parameters > to rpic or set in the rif-file (if you use rad or
trad). You might try > -ab 0... however, it sounds not clear why your surfaces are all looking
> the same, even with ambient light ;-) BTW, do you calculate the ambient > (-ab ?) or pass
values you got somewhere else? > > CU Lars. > -- > Lars O. Grobe > grobe@gmx.net > > >
_______________________________________________ > Radiance-general mailing list >
Radiance-general@radiance-online.org >
http://www.radiance-online.org/mailman/listinfo/radiance-general
> 


From beixiao at mail.med.upenn.edu  Mon May 10 17:07:32 2004
From: beixiao at mail.med.upenn.edu (Bei Xiao)
Date: Mon May 10 17:07:36 2004
Subject: [Radiance-general] ambient light
In-Reply-To: <409F7AA6.E77231DB@iebele.nl> from "iebele" at May 10,
	2004 02:50:46 pm
Message-ID: <20040510150732.900B52655@pobox.upenn.edu>

Hi, 
No, i  didn't set it. HOw did you set it in .rif file? I am rendering hyperspectral images. 
So i have to passing these  values in .rif to use rad commend to render them.  Thanks. 

Bei 

 
> 
> Hi Bei,
> 
> Did you set the -st paramater (specular treshhold) ?
> If you have a specular value of, say, 0.01, your -st value should be also 0.01, otherwise you will not see any
> specular reflections.
> 
> Succes,
> 
> Iebele
> 
> 
> 
> Bei Xiao wrote:
> 
> > Hi,
> >  I am using Radiance to simulate objects with various glossy  parameters.
> > But I found no matter how did I set up the material properties of the
> > objects, they all look the same under the light. I guess there must be
> > too much ambient light so the highlights on the objects are invisible. I
> > want to turn off the ambient light in the scene and only keep a few area
> > light sources. How shall I set up the parameters? Also, how do I include these parametesr in the .rad file?
> > thanks.
> >
> > Bei
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general@radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 


From rpg at rumblestrip.org  Tue May 11 00:01:08 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue May 11 00:01:05 2004
Subject: [Radiance-general] ltview, a light source viewer
Message-ID: <409FFBA4.1010609@rumblestrip.org>


Radiance User: "Boy, that objview script sure is handy for looking at 
scene geometry; if only there was something like that for looking at the 
distribution of my light source files."

Announcer: "Well, THE WAIT IS OVER!!  That's right, now there's a script 
that has the ease of use of objview, but is scientifically engineered 
for use with Radiance light source input files!  Plus, if you call now, 
we'll include K-Tel's "70's platinum hits" -- on eight-track -- 
absolutely free!  Don't delay, limited offer, operators are standing by, 
yadda-yadda-yadda."

Ahem, sorry.  In all seriousness, I took Greg's objview script and 
modified it to take a single scene input file and place it at 0,0,0, 
then surround it on five sides (top, bottom, E, N, W) with opaque 
surfaces.  It sets -ab 1 and -ds .15 and then loads rvu with a view 
looking into the box.  The box is 48 units square by default; you can 
change the size of the box with the -bs switch (and no, there isn't a 
-bs- option for my posts, sorry).  All the other options in objview are 
available in ltview.

ltview is useful for making sure the distribution is what you think it 
is, and that nothing went awry during the ies2rad conversion (also good 
for checking replmarks triangle orientations, Lars).  Anyone who wants a 
copy just ask and I'll email it to ya.

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From ckehrlich at yahoo.com  Tue May 11 02:59:52 2004
From: ckehrlich at yahoo.com (Charles Ehrlich)
Date: Tue May 11 03:26:40 2004
Subject: [Radiance-general] Rendering With Radiance, Revised Edition
Message-ID: <20040511005952.59712.qmail@web80306.mail.yahoo.com>

Dear Radiance Users,
 
First I would like to apologize for the unprofessional way that BookSurge has handled the publishing of the revised edition of Rendering with Radiance.  And, I would like to thank those of you who pointed out that the book was available even before WE knew it was available--twice!  Greg has accurately summarized the situation.  We never authorized a paperback nor an e-book, and we never authorized the lower price that was momentarily available.  
 
There was only one copy of the e-Book sold, and we know his name.  He will be getting a free copy of the hardback.   If you ever come across the illegal e-book, we respectfully request that you let us know and destroy it so that it does not proliferate.  
 
If you have a copy of the paperback and would like a hardback version, send me a check for the difference in price along with the original title page from the paperback, and I will send you a copy of the hardback book.  It looks like there were seven folks who inadvertently got the paperback version at a price of 31.99, and one person who paid $42.95.  Let me know how you'd like it shipped (FedEx or UPS--1 day, 2-day, or whatever) and figure out the cost from USA ZIP code 95616 and add half of that cost to your check--we'll pick up the other half of the shipping up to $15.00.
 
Now that the book is out, I would like to encourage all of you who maintain web sites about your work with Radiance to include a hyperlink to your favorite online book reseller carrying Rendering with Radiance, Revised Edition.  We, the authors, do not expect to make any money on this venture.  But if we did, it would be the first in seven years! The new ISBN is 1-59457-433-2.
 
Here is a link to oder the book in case you'd like make the book available right away:
BookSurge: http://www.booksurge.com/author.php3?accountID=IMPR02587
Alibris: http://www.alibris.com/search/detail.cfm?chunk=25&mtype=&qisbn=1594574332&qtit=rendering%20with%20radiance&S=R&bid=8217366102&pqtynew=&page=1&matches=1&qsort=r
 
Amazon.com and half.com will carry the book eventually, but they do not have the new ISBN listed yet.
 
Those who placed orders at the Radiance workshop should expect the shipments to begin in a week or two (my order for 10 books has not yet arrived.)  We are offering bulk sales of 20 books or more books to educational institutions at a 20% discount, and orders of 100 or more books to non-educational organizations at a 10% discount.  This offer is good until June 30, 2004 and may be extended.  Being a self-publisher, our shipping costs for fewer than 10 books would not save you any money.  The book is also printed overseas so shipping to Europe should be reasonable when ordered from EU-based online retailers.  One Radiance user ordered two books in London (I think) for $65.00 each, shipping included!  For the orders you place through me (actually my nascent consulting firm/publishing house called Space & Light) you can be confident that the 100% of the proceeds are going directly to the authors of the book.  I can accept payment by check or money order (via postal mail), or by Paypal.
 
Please direct inquiries for bulk book purchases of Rendering with Radiance, Revised Edition to: chasehrlich-rwr@yahoo.com.  Please include your street mailing address, delivery requirements, and payment preference.
 
Thank you for your patience and support,
-Chas
Charles Ehrlich
Space & Light
 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040510/5d934b9d/attachment.html
From defunkt at pobox.com  Tue May 11 12:18:00 2004
From: defunkt at pobox.com (=?ISO-8859-1?Q?Iv=E1n_Pajares_S=E1nchez?=)
Date: Tue May 11 12:18:37 2004
Subject: [Radiance-general] Spectral Reflectance values to Radiance format
Message-ID: <40A0A858.6090308@pobox.com>

Hi group,

I have some spectral reflectance measurements of different materials 
used in a simulation model we have built and I want to tranlate this 
values into Radiance values.

I use desktop Radiance in w2k & cygwin radiance.My scripting 
capabilities are very limited, though, and I can't make the 
"spct2xyz.csh" script explained in "Rendering with Radiance, Chap. 5 
Lighting Analysis" work.

Can somebody help me out or point me in the apropriate direction to get 
usable radiance rgb values from this measurements?

Thank you in advance.

Iv?n Pajares

From a.i.ruppertsberg at Bradford.ac.uk  Tue May 11 13:32:18 2004
From: a.i.ruppertsberg at Bradford.ac.uk (Alexa I. Ruppertsberg)
Date: Tue May 11 13:33:24 2004
Subject: [Radiance-general] Re: Spectral Reflectance values to Radiance
	format 
Message-ID: <40A0B9C2.806@bradford.ac.uk>

Hi Ivan,

you might find this helpful:

For RGB values, you have to convert the surface
reflectance function S( lambda) to XYZ tristimulus values by using
x(lambda), y(lambda) and z(lambda) matching functions (e.g. Judd-Vos 
1978 adjusted CIE matching functions) and Equations 1.1 to
1.3 [Wyszecki and Stiles 2000]
X = k Integral( S(lambda) x(lambda) dlambda) (1.1)
Y = k Integral( S(lambda) y(lambda) dlambda) (1.2)
Z = k Integral( S(lambda) z(lambda) dlambda) (1.3)
The XYZ tristimulus values can then be converted to RGB
with a conversion matrix T, which is based on the primaries of
the monitor. T is a 3 by 3 matrix (for a description on how to
obtain this matrix see [Travis 1991; Foley et al. 1992] among
others). We used RADIANCE?s in-built monitor primaries to
derive the conversion matrix T. Multiplying the XYZ
tristimulus values with T yields an RGB ?triplet, which is then
used as the three colour descriptor values in the material file.

WYSZECKI, G. and W. S. STILES 2000. Color Science. John Wiley &
Sons.
TRAVIS, D. 1991. Effective Color Displays. Academic Press.

FOLEY, J. D., A. VAN DAM, S. K. FEINER and J. F. HUGHES 1992.
Computer Graphics: Principles and Practice. Addison-
Wesley Publishing Company.


Good luck!
alexa

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Dr. Alexa I. Ruppertsberg
Department of Optometry
University of Bradford
Bradford
BD7 1DP
UK

Phone: ++44 (0) 1274 - 23 53 78
email: a.i.ruppertsberg@bradford.ac.uk
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From a.jacobs at londonmet.ac.uk  Tue May 11 17:28:05 2004
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Tue May 11 17:49:01 2004
Subject: [Radiance-general] ltview, a light source viewer
In-Reply-To: <409FFBA4.1010609@rumblestrip.org>
References: <409FFBA4.1010609@rumblestrip.org>
Message-ID: <40A0F105.7000608@londonmet.ac.uk>

Hi Rob

I've tried ltview with this luminaire (lumen output is prob. wrong, but 
it doesn't matter):

erco.rad:
--
void brightdata erco_dist
4 flatcorr erco.dat source.cal src_theta
0
3 100 0.035 0.0005

erco_dist light erco_light
0
0
3 1 1 1

erco_light ring erco.d
0
0
8
        0 0 -0.00025
        0 0 -1
        0 0.0175

erco_light ring erco.u
0
0
8
        0 0 0.00025
        0 0 1
        0 0.0175
--

erco.dat:
--
1
0 180 37

        3.91061 3.6933  3.25531 2.61173
        1.80559 0.368156        0.157542        0.0374302
        0.0145251       0       0       0
        0       0       0       0
        0       0       0       0
        0       0       0       0
        0       0       0       0
        0       0       0       0
        0       0       0       0
        0
--
The lamp is correctly positioned in the middle of the room, but the box 
looks just grey. No light/shadow is cast by the luminaire. Setting it to 
10 (metric) units doesn't help.

If I use

room.rad:
--
void plastic box_mat
0
0
5  .5 .5 .5  0 0

!genbox box_mat box 10 10 10 | xform -t -5 -5 -5
--

with this view file:
--
rview -vtv -vp 10 0 0 -vd -1 0 0 -vu 0 0 1 -vh 90 -vv 90 -vo 5.5 -va 0 
-vs 0 -vl 0
--
(clip front surface), it works hunky dory: splotch on the floor!

I can't see which one of the default rvu parameters causes this. Could 
be one of the -a* or -d*, but I am not sure...
My feeling is that -av should be set to zero. The lamp might be very 
dim, in which case it's washed out with the ambient. Is it really 
necessary to involve rad? this is done in objview, because you don't 
know upfront how big the scene is etc.

Cheers

Axel




From rpg at rumblestrip.org  Tue May 11 19:25:04 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue May 11 19:25:01 2004
Subject: [Radiance-general] ltview, a light source viewer
In-Reply-To: <40A0F105.7000608@londonmet.ac.uk>
References: <409FFBA4.1010609@rumblestrip.org>
	<40A0F105.7000608@londonmet.ac.uk>
Message-ID: <40A10C70.7070805@rumblestrip.org>

Axel Jacobs wrote:

> Hi Rob
> 
> I've tried ltview with this luminaire ... <snip>

> I can't see which one of the default rvu parameters causes this. Could 
> be one of the -a* or -d*, but I am not sure...
> My feeling is that -av should be set to zero. The lamp might be very 
> dim, in which case it's washed out with the ambient. Is it really 
> necessary to involve rad? this is done in objview, because you don't 
> know upfront how big the scene is etc.

Hi Axel,

Hmm.  The only parameters I change in the script are -ab (1 from 0) and 
-ds (.15 from 0).  I suppose rad is making some other changes?  The 
reason I'm using rad is because with the addition of the -bs option the 
script also dosen't know how big the scene is.  I suppose I could change 
it to set up a default view like you have, and scale the -vp if the user 
enters a different value for -bs.  I was trying to change as little of 
objview as possible though.  Anyone who's seen any of my programming 
knows why. =8-)

I set -ab 1 because the scene just looks better, the bounce reveals 
fixture geometry and glow sources; I thought by scaling the room with 
-bs you could always have the light source close to the room surfaces, 
minimizing the ambient washout problems.

Your erco source file shows a tiny ring (radius of .0175), but your 
room/box is 10 units square (in your example).  Did you maybe assume 
meters for one thing and milimeters for the other?  I did "ltview -bs .2 
erco.rad" and it looked fine (and there is approx. 1730 Lux under the 
fixutre, .1 units away).  I can't read an ies2rad -> rad file and spot 
errors easily (hence this ltview utility), but I suspect maybe there's a 
units mismatch.  That doesn't explain why your test scene at 10 units 
square looks OK, though.  Hmmm.

Could you double-check your ies2rad input?

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From grobe at gmx.net  Tue May 11 20:29:46 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue May 11 21:12:47 2004
Subject: [Radiance-general] replmarks and mirroring
In-Reply-To: <409F8772.5070507@visarc.com>
Message-ID: <2DF87F6C-A379-11D8-B606-000A959DDB22@gmx.net>

Hi Jack!

> If you mirror a marker triangle in cad (for example autocad), then the 
> normal ends up pointing the opposite direction.

Interesting, in formZ that doesn't happen - the normal stays "up". I am 
not sure if formZ behaves correctly here, however, this would be the 
way to get mirroring information attached to the triangle.

Thanks+CU Lars.
--
Lars O. Grobe, grobe@gmx.net, ++90-212-2458330

Kardesler Apartment, Turnacibasi Sokak 28
Galatasaray - Beyoglu, 34433 Istanbul


From lucet at servidor.unam.mx  Wed May 12 08:19:06 2004
From: lucet at servidor.unam.mx (genevieve lucet)
Date: Wed May 12 06:17:27 2004
Subject: [Radiance-general] measuring color
Message-ID: <45D69FD0-A3DC-11D8-9579-0003937EADB4@servidor.unam.mx>

Hi,
In order to define colors for radiance models I'm looking for an 
instrument to measure the colors of walls and of mural paintings of 
archaeological sites. It should be portable, working with batteries and 
non destructive to the material.  (max. price, $5000 US)
Any recommendation?

genevieve lucet


From jedev at visarc.com  Wed May 12 07:23:50 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Wed May 12 07:24:08 2004
Subject: [Radiance-general] measuring color
In-Reply-To: <45D69FD0-A3DC-11D8-9579-0003937EADB4@servidor.unam.mx>
References: <45D69FD0-A3DC-11D8-9579-0003937EADB4@servidor.unam.mx>
Message-ID: <40A1B4E6.4040809@visarc.com>

Hi Genevieve,

There are a couple of options that I can think of off hand:

   1. Color Checker and Digital Camera - using the techniques that are
      outlined in Rendering with Radiance, you can use the Color Checker
      Chart from Gretag Macbeth and a digital camera to sample color and
      reflectance. The color checker is an accurate set of color samples
      with known measured reflectances and chromaticity coordinates. It
      can be used to calibrate color/reflectance information that is
      acquired through a device such as a scanner, digital camera, or
      even a regular old film camera. I think used correctly the results
      can be within +or- 10%. We have used this method with reasonable
      success on a variety of materials. This is a very economically
      method (~$100 for color checker plus cost of sampling device)
   2. Handheld Spectrophotometer - there are a variety of options out
      there for hand held spectrophotometers. I believe that Gretag
      Macbeth has several. These will likely be more accurate than the
      above and cost a lot more. I think when I last looked into this (5
      or more years ago) such a device cost ~$5,000 and did not include
      the software necessary for operation. I have not had the
      opportunity to use one yet.

Regards,

-Jack de Valpine

genevieve lucet wrote:

> Hi,
> In order to define colors for radiance models I'm looking for an 
> instrument to measure the colors of walls and of mural paintings of 
> archaeological sites. It should be portable, working with batteries 
> and non destructive to the material.  (max. price, $5000 US)
> Any recommendation?
>
> genevieve lucet
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040512/3af7e98f/attachment.htm
From raphael.compagnon at eif.ch  Wed May 12 08:55:53 2004
From: raphael.compagnon at eif.ch (Raphael Compagnon)
Date: Wed May 12 08:55:59 2004
Subject: [Radiance-general] measuring color
In-Reply-To: <45D69FD0-A3DC-11D8-9579-0003937EADB4@servidor.unam.mx>
Message-ID: <5.1.0.14.2.20040512085432.027cf918@pop.eif.ch>

Here are some colorimeters that may be usefull for you and, hopefully, OK 
with your budget:
http://www.konicaminoltaeurope.com/products/industrial/colorimeter.shtml

At 12.05.2004 08:19, you wrote:
>Hi,
>In order to define colors for radiance models I'm looking for an 
>instrument to measure the colors of walls and of mural paintings of 
>archaeological sites. It should be portable, working with batteries and 
>non destructive to the material.  (max. price, $5000 US)
>Any recommendation?
>
>genevieve lucet
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general


From cbauer- at t-online.de  Wed May 12 12:20:57 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Wed May 12 11:12:40 2004
Subject: [Radiance-general] replmarks and mirroring
References: <2DF87F6C-A379-11D8-B606-000A959DDB22@gmx.net>
Message-ID: <40A1FA89.5040708@t-online.de>

Lars O. Grobe wrote:
> Hi Jack!
> 
>> If you mirror a marker triangle in cad (for example autocad), then the 
>> normal ends up pointing the opposite direction.
> 
> 
> Interesting, in formZ that doesn't happen - the normal stays "up". I am 
> not sure if formZ behaves correctly here, however, this would be the way 
> to get mirroring information attached to the triangle.
> 

if you look into the mirror, you don't see yourself upside down, so I 
guess that formZ behaves correctly in leaving the normal unchanged 
during mirroring :-)

-cb



From a.i.ruppertsberg at Bradford.ac.uk  Wed May 12 12:31:26 2004
From: a.i.ruppertsberg at Bradford.ac.uk (Alexa I. Ruppertsberg)
Date: Wed May 12 12:31:50 2004
Subject: [Radiance-general] measuring color
In-Reply-To: <200405120915.i4C9FPfK018806@gallium.cen.brad.ac.uk>
Message-ID: <40A1FCFE.4030404@bradford.ac.uk>

Hi Genevieve,

I definitely would recommend a more sophisticated method than using the 
macbethcolor checker card. Yes, it is true that the chromaticities are 
known for those colours, BUT this is under the assumption of a certain 
illumination source. Will you have that same illumination source? 
Probably not.

If you are after accuracy (rather than 'good looks')you might want to 
buy a spectroradiometer and a white reflectance standard, too. After 
all, what you measure with the spectro looking onto your wall is the 
colour signal, a combination of the surface reflectance and the 
illumination at hand (and some geometry). In order to model the material 
properties in RADIANCE, you will be interested in the surface 
reflectance and not in the overall colour signal. To retrieve the 
surface reflectance, you measure the spectrum of the white reflectance 
standard at the very same position where you measured the colour signal 
from the wall, then divide the colour signal (spectrum) by the spectrum 
from the white reflectance standard and you have your surface 
reflectance (this assumes a Lambertian surface). The spectrum from the 
white reflectance standard can be used to get the colour of the 
illumination source.
This approach will yield something with a clear tint, if the 
illumination source wasn't a natural light. If you want to have a 
good-looks picture then don't bother with the white reflectance standard
and model the light source as white (as described and recommended in the 
RADIANCE book).

Regards,
alexa

> Hi,
> In order to define colors for radiance models I'm looking for an 
> instrument to measure the colors of walls and of mural paintings of 
> archaeological sites. It should be portable, working with batteries and 
> non destructive to the material.  (max. price, $5000 US)
> Any recommendation?
> 
> genevieve lucet
> 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Dr. Alexa I. Ruppertsberg
Department of Optometry
University of Bradford
Bradford
BD7 1DP
UK
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From jmestes at austin.rr.com  Wed May 12 15:10:31 2004
From: jmestes at austin.rr.com (Jim Estes)
Date: Wed May 12 15:11:13 2004
Subject: [Radiance-general] Rendering With Radiance, Revised Edition
In-Reply-To: <20040511005952.59712.qmail@web80306.mail.yahoo.com>
References: <20040511005952.59712.qmail@web80306.mail.yahoo.com>
Message-ID: <40A22247.7040301@austin.rr.com>

Charles Ehrlich wrote:
> Dear Radiance Users,
>  
>  .....
 >
> Here is a link to oder the book in case you'd like make the book 
> available right away:
> BookSurge
> http://www.booksurge.com/author.php3?accountID=IMPR02587
> Alibris 
> http://www.alibris.com/search/detail.cfm?chunk=25&mtype=&qisbn=1594574332&qtit=rendering%20with%20radiance&S=R&bid=8217366102&pqtynew=&page=1&matches=1&qsort=r 

So, any idea why the price quoted from Alibris is $45 ??  Is it the
correct hardback version, a good deal, or just another error?

Thanks for the effort making the book available again,
-Jim




From jedev at visarc.com  Wed May 12 15:16:18 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Wed May 12 15:16:29 2004
Subject: [Radiance-general] measuring color
In-Reply-To: <40A1FCFE.4030404@bradford.ac.uk>
References: <40A1FCFE.4030404@bradford.ac.uk>
Message-ID: <40A223A2.8060104@visarc.com>

Hi Alexa,

Just a minor comment here. I have no doubt that the using a more 
sophisticated measuring device will yield more accurate results. 
However, I believe the method of using the machbethcolor checker card as 
described in Rendering with Radiance is designed to calibrate to the 
current lighting conditions, that is, assuming the use of a digital 
camera, if we want to sample a particular material in a give lighting 
condition, then we also sample the color checker chart under the same 
conditions with the same sampling device (digital camera) and then 
perform the calibration with macbethcal and pcomb. I do not know the 
underlying method that Greg put together to do the calibration, so I am 
not sure how he has accounted for varying light conditions vis a vis the 
internal dataset that Radiance uses as part of the calibration mechanism.

-Jack de Valpine

Alexa I. Ruppertsberg wrote:

> Hi Genevieve,
>
> I definitely would recommend a more sophisticated method than using 
> the macbethcolor checker card. Yes, it is true that the chromaticities 
> are known for those colours, BUT this is under the assumption of a 
> certain illumination source. Will you have that same illumination 
> source? Probably not.
>
> If you are after accuracy (rather than 'good looks')you might want to 
> buy a spectroradiometer and a white reflectance standard, too. After 
> all, what you measure with the spectro looking onto your wall is the 
> colour signal, a combination of the surface reflectance and the 
> illumination at hand (and some geometry). In order to model the 
> material properties in RADIANCE, you will be interested in the surface 
> reflectance and not in the overall colour signal. To retrieve the 
> surface reflectance, you measure the spectrum of the white reflectance 
> standard at the very same position where you measured the colour 
> signal from the wall, then divide the colour signal (spectrum) by the 
> spectrum from the white reflectance standard and you have your surface 
> reflectance (this assumes a Lambertian surface). The spectrum from the 
> white reflectance standard can be used to get the colour of the 
> illumination source.
> This approach will yield something with a clear tint, if the 
> illumination source wasn't a natural light. If you want to have a 
> good-looks picture then don't bother with the white reflectance standard
> and model the light source as white (as described and recommended in 
> the RADIANCE book).
>
> Regards,
> alexa
>
>> Hi,
>> In order to define colors for radiance models I'm looking for an 
>> instrument to measure the colors of walls and of mural paintings of 
>> archaeological sites. It should be portable, working with batteries 
>> and non destructive to the material.  (max. price, $5000 US)
>> Any recommendation?
>>
>> genevieve lucet
>>
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Dr. Alexa I. Ruppertsberg
> Department of Optometry
> University of Bradford
> Bradford
> BD7 1DP
> UK
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From a.i.ruppertsberg at Bradford.ac.uk  Wed May 12 15:55:43 2004
From: a.i.ruppertsberg at Bradford.ac.uk (Alexa I. Ruppertsberg)
Date: Wed May 12 15:56:09 2004
Subject: [Radiance-general] measuring color
In-Reply-To: <40A223A2.8060104@visarc.com>
Message-ID: <40A22CDF.5090908@bradford.ac.uk>

Hi Jack,

I have not (yet) embarked on the use of a digital camera for calibration 
purposes, but I imagine that you also have to figure out the sensitivity 
of your sensors in the camera, as they will determine your 'signal', 
i.e. picture,  let alone that exposure etc. will also affect it. 
Actually, it sounds quite complicated in contrast to using a spectro.

I agree that as long as you measure a macbethcolour checker card and 
your data sample under the same illumination, you could go ahead.The 
routine described in the book relies heavily on macbethcal (about 
neither you nor me have an idea how it works) and also points out its 
limitation (the word 'approximation' is used). Also, nobody could 
explain to me what magic things 'pcond' does, so I rather do not use it 
(the word 'mimick' appears rather often in the man pages). Human visual 
perception cannot be accounted for by a magic RADIANCE function. If it 
would, then why are several hundred scientists world-wide still studying 
it? I agree, that the results of RADIANCE are visually appealing and 
that the physics are simulated quite well, but only if you input 
accurate data your results will be accurate.

Cheers,
Alexa


Jack de Valpine wrote:

> Hi Alexa,
> 
> Just a minor comment here. I have no doubt that the using a more 
> sophisticated measuring device will yield more accurate results. 
> However, I believe the method of using the machbethcolor checker card as 
> described in Rendering with Radiance is designed to calibrate to the 
> current lighting conditions, that is, assuming the use of a digital 
> camera, if we want to sample a particular material in a give lighting 
> condition, then we also sample the color checker chart under the same 
> conditions with the same sampling device (digital camera) and then 
> perform the calibration with macbethcal and pcomb. I do not know the 
> underlying method that Greg put together to do the calibration, so I am 
> not sure how he has accounted for varying light conditions vis a vis the 
> internal dataset that Radiance uses as part of the calibration mechanism.
> 
> -Jack de Valpine
> 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Dr. Alexa I. Ruppertsberg
Department of Optometry
University of Bradford
Bradford
BD7 1DP
UK
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From jedev at visarc.com  Wed May 12 16:46:48 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Wed May 12 16:46:58 2004
Subject: [Radiance-general] measuring color
In-Reply-To: <40A22CDF.5090908@bradford.ac.uk>
References: <40A22CDF.5090908@bradford.ac.uk>
Message-ID: <40A238D8.90105@visarc.com>

Hi Alexa,

I think that we are agreed that using a spectrophotometer is a more 
accurate solution depending on the users needs, objectives etc... ;->

One clarification though. As far as I know "pcond" (the radiance program 
for physically based simulation of a variety of dynamic range and 
contrast sensitivity functions as based on research by Jim Ferwerda, 
Holly Rushmeier, Greg Ward and others) is not used with the macbethcal 
callibration process. The program I was refering to is "pcomb" which can 
be used for a variety of image process operations on radiance image 
including applying a calibration function as output from "macbethcal".

-Jack

Alexa I. Ruppertsberg wrote:

> Hi Jack,
>
> I have not (yet) embarked on the use of a digital camera for 
> calibration purposes, but I imagine that you also have to figure out 
> the sensitivity of your sensors in the camera, as they will determine 
> your 'signal', i.e. picture,  let alone that exposure etc. will also 
> affect it. Actually, it sounds quite complicated in contrast to using 
> a spectro.
>
> I agree that as long as you measure a macbethcolour checker card and 
> your data sample under the same illumination, you could go ahead.The 
> routine described in the book relies heavily on macbethcal (about 
> neither you nor me have an idea how it works) and also points out its 
> limitation (the word 'approximation' is used). Also, nobody could 
> explain to me what magic things 'pcond' does, so I rather do not use 
> it (the word 'mimick' appears rather often in the man pages). Human 
> visual perception cannot be accounted for by a magic RADIANCE 
> function. If it would, then why are several hundred scientists 
> world-wide still studying it? I agree, that the results of RADIANCE 
> are visually appealing and that the physics are simulated quite well, 
> but only if you input accurate data your results will be accurate.
>
> Cheers,
> Alexa
>
>
> Jack de Valpine wrote:
>
>> Hi Alexa,
>>
>> Just a minor comment here. I have no doubt that the using a more 
>> sophisticated measuring device will yield more accurate results. 
>> However, I believe the method of using the machbethcolor checker card 
>> as described in Rendering with Radiance is designed to calibrate to 
>> the current lighting conditions, that is, assuming the use of a 
>> digital camera, if we want to sample a particular material in a give 
>> lighting condition, then we also sample the color checker chart under 
>> the same conditions with the same sampling device (digital camera) 
>> and then perform the calibration with macbethcal and pcomb. I do not 
>> know the underlying method that Greg put together to do the 
>> calibration, so I am not sure how he has accounted for varying light 
>> conditions vis a vis the internal dataset that Radiance uses as part 
>> of the calibration mechanism.
>>
>> -Jack de Valpine
>>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Dr. Alexa I. Ruppertsberg
> Department of Optometry
> University of Bradford
> Bradford
> BD7 1DP
> UK
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From gward at lmi.net  Wed May 12 17:57:56 2004
From: gward at lmi.net (Greg Ward)
Date: Wed May 12 17:58:39 2004
Subject: [Radiance-general] Re: measuring color
In-Reply-To: <40A238D8.90105@visarc.com>
References: <40A22CDF.5090908@bradford.ac.uk> <40A238D8.90105@visarc.com>
Message-ID: <22A64354-A42D-11D8-B290-000A95BB392A@lmi.net>

This is an interesting thread.  I just wanted to add a couple of notes.

First, you should check out the products available from X-rite for 
spectral measurement:

	http://www.xrite.com/product_overview.aspx?Line=24

I have used their spectrophotometers in the past, to good effect.  I 
think they're prices are competitive, but not what I'd call "cheap."

Second, a quick explanation of what macbethcal does.  Macbethcal takes 
a captured image (scanned, photographed, etc.) of a Macbeth 
ColorChecker chart and attempts to derive a transformation that takes 
this capture to the correct values known for the Macbeth chart.  It 
first computes an overall response function for each channel using the 
6 gray patches at the bottom of the chart.  Then, it computes a 3x3 
color matrix based on a least squares minimization of error on the 
unsaturated colors.  Saturated colors are allowed to go "out of gamut" 
as needed to find a reasonable solution.

In my experience, this process works well for flatbed scanners and some 
capture methods, but sometimes does poorly with certain digital 
cameras.  I do not know why.  As Alexa and Jack pointed out, macbethcal 
does not account for changes in the illumination source -- this is 
assumed to be part of the capture process (i.e., a scanner with a 
builtin source), and since the purpose is to derive a transform that 
recovers colors under this souce, this is appropriate.

If you wish to simulate general reflectance spectra under different 
illuminants, I suggest you go with a full spectral measurement and 
follow the procedure outlined in the following paper:

	http://www.anyhere.com/gward/papers/egwr02/

Third, I wanted to point Alexa and other interested readers to the 
following reference, which explains the parts of human vision pcond 
attempts to simulate and the algorithms behind it:

	http://radsite.lbl.gov/radiance/papers/lbnl39882/tonemap.pdf

I'll be the first to admit that it is not a perfect simulation of human 
vision, and this is an ongoing area of research.  (Try a websearch on 
"color appearance models" to get an idea.)  However, I think others 
will agree that pcond can be useful, and is an improvement over the 
standard "linear with clamping" method for image display.

-Greg


From a.i.ruppertsberg at Bradford.ac.uk  Wed May 12 18:55:38 2004
From: a.i.ruppertsberg at Bradford.ac.uk (Alexa I. Ruppertsberg)
Date: Wed May 12 18:55:53 2004
Subject: [Radiance-general] Re: measuring color
In-Reply-To: <22A64354-A42D-11D8-B290-000A95BB392A@lmi.net>
Message-ID: <40A2570A.4040504@bradford.ac.uk>

Hi Greg,

> Second, a quick explanation of what macbethcal does.  Macbethcal takes a 
Thanks, that was very useful!

> Third, I wanted to point Alexa and other interested readers to the 
> following reference, which explains the parts of human vision pcond 
> attempts to simulate and the algorithms behind it:
> 
>     http://radsite.lbl.gov/radiance/papers/lbnl39882/tonemap.pdf
> 
> I'll be the first to admit that it is not a perfect simulation of human 
> vision, and this is an ongoing area of research.  (Try a websearch on 
> "color appearance models" to get an idea.)  However, I think others will 
> agree that pcond can be useful, and is an improvement over the standard 
> "linear with clamping" method for image display.

I don't doubt that it is better for image display and I think the idea 
with these kind of mappings is to go down the route of 'perception' 
rather than 'physics', one reason being the current limitations of CRT's 
e.g.

My concern is physical accuracy. I want to display an image on a screen 
(eventually) and people should not be able to tell it apart from the 
real world scene. Of course, I can only simulate colours and luminances 
that my daft 8-bit monitor can actually render.

Talking about the limitations of CRT's. Has somebody seen 
DLP-technology displays in action and maybe even made some colour 
measurements? Apparently, the colour resolution can be cranked up to 15 
bits per channel and the luminance range is also much bigger. I only 
wonder, if the 15-bit resolution per channel is actually really an 
improvement in terms of colour resolution for a given luminance level 
(in comparison to a traditional 8 bit resolution)  or is basically 
necessary to cover the increased luminance range?

Is that the same technology used in last year's emerging technology 
SIGGRAPH session:
Seetzen, H., Stuerzlinger, W., Vorozcovs, A., Wilson, H.R., Ashdown, I.,
Ward, W. and Whitehead, L., 2003, High Dynamic Range Display System. 
SIGGRAPH 2003, Emerging Technologies Program.
http://www.siggraph.org/s2003/conference/etech/hdr.html

Cheers,
Alexa


From ckehrlich at yahoo.com  Wed May 12 19:28:19 2004
From: ckehrlich at yahoo.com (Charles Ehrlich)
Date: Wed May 12 19:35:09 2004
Subject: [Radiance-general] Re: Rendering with Radiance, Revised Edition
Message-ID: <20040512172819.64163.qmail@web80305.mail.yahoo.com>

Jim,
 
I noticed the price difference at Alibris. It is probably becuase they also had momentary access to the unapproved soft cover versin of the book with its unapproved price.  I expect their records will be updated when the other online retailers also begin to carry the book.
 
-Chas
 
===========
 
So, any idea why the price quoted from Alibris is $45 ??  Is it the
correct hardback version, a good deal, or just another error?

Thanks for the effort making the book available again,
-Jim

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040512/99a35e99/attachment.html
From beixiao at mail.med.upenn.edu  Wed May 12 20:06:04 2004
From: beixiao at mail.med.upenn.edu (Bei Xiao)
Date: Wed May 12 20:06:12 2004
Subject: [Radiance-general] .rif file formatr
In-Reply-To: <22A64354-A42D-11D8-B290-000A95BB392A@lmi.net>
References: <40A22CDF.5090908@bradford.ac.uk> <40A238D8.90105@visarc.com>
	<22A64354-A42D-11D8-B290-000A95BB392A@lmi.net>
Message-ID: <Pine.SOL.4.58.0405121404320.4955@pobox.upenn.edu>

Hi,
  I am rendering a scene with many objects in it. How should I put them in
multiple lines the .rif file 's "materials" and " scene" arguments? Simply
speaking, how shall I change line in the .rif file? ALso, are there any
.rif file example online?

Thanks a lot,

Bei

From gward at lmi.net  Wed May 12 19:35:04 2004
From: gward at lmi.net (Greg Ward)
Date: Wed May 12 20:38:35 2004
Subject: [Radiance-general] Re: measuring color
In-Reply-To: <40A2570A.4040504@bradford.ac.uk>
References: <40A2570A.4040504@bradford.ac.uk>
Message-ID: <B40F9E48-A43A-11D8-89E4-000A95BB392A@lmi.net>

Hi Alexa,

>> ...
>> However, I think others will agree that pcond can be useful, and is 
>> an improvement over the standard "linear with clamping" method for 
>> image display.
>
> I don't doubt that it is better for image display and I think the idea 
> with these kind of mappings is to go down the route of 'perception' 
> rather than 'physics', one reason being the current limitations of 
> CRT's e.g.
>
> My concern is physical accuracy. I want to display an image on a 
> screen (eventually) and people should not be able to tell it apart 
> from the real world scene. Of course, I can only simulate colours and 
> luminances that my daft 8-bit monitor can actually render.

There are surround issues to consider as well, especially since the 
monitor only covers a small portion of your view.  Pcond attempts to 
adapt the original scene levels to the current viewing environment -- 
something not even an HDR display can do.  You need something like the 
wide-field HDR viewer I built to test out tone operators for that.

> Talking about the limitations of CRT's. Has somebody seen 
> DLP-technology displays in action and maybe even made some colour 
> measurements? Apparently, the colour resolution can be cranked up to 
> 15 bits per channel and the luminance range is also much bigger. I 
> only wonder, if the 15-bit resolution per channel is actually really 
> an improvement in terms of colour resolution for a given luminance 
> level (in comparison to a traditional 8 bit resolution)  or is 
> basically necessary to cover the increased luminance range?

If the 15 bits is in a linear range, and a DLP is a linear device, then 
you don't actually gain much in terms of dynamic range over an 
8-bit/primary encoding using a standard 2.2 gamma.  Beware of 
manufacturer's claims regarding contrast ratios and bit depths.  There 
are no standards, and the marketing people have a field day with these 
specs.  Bottom line:  don't trust it unless you've measured it 
yourself.

> Is that the same technology used in last year's emerging technology 
> SIGGRAPH session:
> Seetzen, H., Stuerzlinger, W., Vorozcovs, A., Wilson, H.R., Ashdown, 
> I.,
> Ward, W. and Whitehead, L., 2003, High Dynamic Range Display System. 
> SIGGRAPH 2003, Emerging Technologies Program.
> http://www.siggraph.org/s2003/conference/etech/hdr.html

We actually have a full-blown paper in this year's Siggraph, which is 
now online as well at Wolfgang Heidrich's website if you're interested:

	http://www.cs.ubc.ca/~heidrich/Papers/index.html#siggraph

This is a very cool device, but is only available in limited quantities 
as a prototype to select companies and individuals.  Sunnybrook 
Technologies (http://www.sunnybrooktech.com/ Vancouver, BC) hopes to be 
manufacturing the real deal by next year.  As I said, even an HDR 
monitor doesn't deal with surround issues, so it's really quite 
difficult to reproduce the visual appearance of the real world in all 
it's glory.

-Greg


From Christoph.Reinhart at nrc-cnrc.gc.ca  Wed May 12 20:56:58 2004
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Wed May 12 20:57:10 2004
Subject: [Radiance-general] Lightswitch Wizard - new version
Message-ID: <10C94843061E094A98C02EB77CFC328708102B75@nrcmrdex1d.imsb.nrc.ca>

Dear colleagues,

The National Research Council Canada and Natural Resources Canada have
released a new version of our online RADIANCE-based daylighting analysis
tool Lightswitch Wizard  <http://www.buildwiz.com/> www.buildwiz.com. The
tool was developed to support daylighting-related design decisions in
commercial buildings during an early design stage. It offers a comparative,
reliable, and fast analysis of the amount of daylight available in
peripheral offices and classroom as well as the lighting energy performance
of automated lighting controls (occupancy sensors, photocells) compared to
standard on/off switches. Blinds are either manually or automatically
controlled. 
 
Features of the new version are:

*	

	added classrooms as a second building type
*	

	added 175 new sites outside of Canada and the US in the Northern
hemisphere
*	

	added a "Getting Started" section with two example applications to
give users ideas of how to use the tool 

Your comments/suggestions are appreciated. Greetings from Ottawa,
 
Christoph 
Christoph Reinhart, Ph.D.                        tel: (613) 993-9703 
Research Officer                                      fax: (613) 954-3733 
Institute for Research in Construction      e-mail:
christoph.reinhart@nrc-cnrc.gc.ca 
National Research Council Canada        1200 Montreal Road M-24, Ottawa 
Ontario K1A 0R6 Canada 

Daylighting Analysis Software: 
The Lightswitch Wizard (initial design)   www.buildwiz.com
<http://www.buildwiz.com/lightswitch/index.cfm>  
DAYSIM (expert software)                       www.daysim.com
<outbind://103/www.daysim.com>   <outbind://103/www.daysim.com> 


IEA Task 31
http://www.iea-shc.org/task31/ <http://www.iea-shc.org/task31/>  

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040512/5b6e20cf/attachment.htm
From gward at lmi.net  Wed May 12 20:37:44 2004
From: gward at lmi.net (Greg Ward)
Date: Wed May 12 20:59:19 2004
Subject: [Radiance-general] Re: .rif file formatr
In-Reply-To: <Pine.SOL.4.58.0405121404320.4955@pobox.upenn.edu>
References: <40A22CDF.5090908@bradford.ac.uk> <40A238D8.90105@visarc.com>
	<22A64354-A42D-11D8-B290-000A95BB392A@lmi.net>
	<Pine.SOL.4.58.0405121404320.4955@pobox.upenn.edu>
Message-ID: <7579E10C-A443-11D8-8890-000A95BB392A@lmi.net>

Hi Bei,

To continue a list of scene files or materials, simply create a new 
line:

scene= this.rad that.rad
scene= onemore.rad

Later appearing lines/files will follow earlier ones.  Examples of .rif 
inputs are given in the first chapter of "Rendering with Radiance," 
which is online at:

	http://radsite.lbl.gov/radiance/book/

-Greg

> From: Bei Xiao <beixiao@mail.med.upenn.edu>
> Date: May 12, 2004 11:06:04 AM PDT
>
> Hi,
>   I am rendering a scene with many objects in it. How should I put 
> them in
> multiple lines the .rif file 's "materials" and " scene" arguments? 
> Simply
> speaking, how shall I change line in the .rif file? ALso, are there any
> .rif file example online?
>
> Thanks a lot,
>
> Bei


From grobe at gmx.net  Wed May 12 22:00:20 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed May 12 21:59:58 2004
Subject: [Radiance-general] measuring color
In-Reply-To: <40A1FCFE.4030404@bradford.ac.uk>
Message-ID: <FF7EFE55-A44E-11D8-943F-000A959DDB22@gmx.net>

> Yes, it is true that the chromaticities are known for those colours, 
> BUT this is under the assumption of a certain illumination source. 
> Will you have that same illumination source? Probably not.

Hi!

The trick is to use the SAME illumination source ;-) I have done a 
number of such measurements in archeological context by simply taking a 
camera and the color chart to the site. The method that is described in 
Rendering with Radiance requires some installation (I think it was 
developed to measure material values in some kind of "studio"). I did 
it a bit simpler: one person holds the chart next to the material, I 
take a photo of the surface with the chart. As long as there is no 
variation of lighting over the area (no highlights etc) this seams to 
be a rather comfortable way, and I think for me it was accurate enough. 
Of course the chart should not cover the 5% of the area at the border - 
the chances that it is in a different lighting situation is to high 
than.

However, any expensive hardware is fun - and maybe you can even compare 
the results of the color chart way and the hardware way. I would be 
interested in that ;-)

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From a.jacobs at londonmet.ac.uk  Thu May 13 01:56:04 2004
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Thu May 13 01:44:21 2004
Subject: [Radiance-general] Re: measuring color
In-Reply-To: <B40F9E48-A43A-11D8-89E4-000A95BB392A@lmi.net>
References: <40A2570A.4040504@bradford.ac.uk>
	<B40F9E48-A43A-11D8-89E4-000A95BB392A@lmi.net>
Message-ID: <10158.217.155.14.182.1084406164.squirrel@webmail1.londonmet.ac.uk>

>> Talking about the limitations of CRT's. Has somebody seen
>> DLP-technology displays in action and maybe even made some colour
>> measurements? Apparently, the colour resolution can be cranked up to
>> 15 bits per channel and the luminance range is also much bigger. I
>> only wonder, if the 15-bit resolution per channel is actually really
>> an improvement in terms of colour resolution for a given luminance
>> level (in comparison to a traditional 8 bit resolution)  or is
>> basically necessary to cover the increased luminance range?

We have just finished a project calles SynthLight, which sets out to teach
lighting through 3D (well, it's only stereoscopic images and movies).
http://www.learn.londonmet.ac.uk/packages/synthlight/index.html

We experimented a lot with different display technologies for our 3D
stuff. While DLP seems to be the be all and end all of projector
technologies (high output, contrasts in the range of 1000 .. 5000), the
colour rendering is really what lets them down. There are at least 3
generations of DLP projectors out now (DLP is a technology developed and
licensed by Texas Instruments), all seem to have issues with colour
rendering. If you compare the colours on a computer screen (TFT or CRT)
and compare them to a DLP projector hooked up to the same computer, you
will find that the colour rendering of the projector is noticeably (very
much) poorer. For colour, LCD projectors seem to be much better, although
they have less of a contrast ratio (several 100:1, rather than several
1000:1).

This link
http://www.audioholics.com/techtips/specsformats/displays_LCD_DLP_plasma1.html
has a very nice comarison chart, although it doesn't mention colour as
such (you will have to trust me on this one...).

Cheers

Axel


From fdjafi at yahoo.fr  Fri May 14 06:13:29 2004
From: fdjafi at yahoo.fr (=?iso-8859-1?q?Faouzi=20Djafi?=)
Date: Fri May 14 06:20:18 2004
Subject: [Radiance-general] Programs_of_Radiance
Message-ID: <20040514041329.15044.qmail@web20102.mail.yahoo.com>

Dear group, 

 I wanted to know the exact number of the programs on Radiance?

 Thank you


DJAFI Faouzi
?tudiant ? la ma?trise en CAAO
Adr : 9682, pavillon PARENT Universit? Laval Qu?bec.Qc G1K 7P4 Canada
Tel : (418) 656 7777   # 14031
		
---------------------------------
Yahoo! Mail : votre e-mail personnel et gratuit qui vous suit partout !
Cr?ez votre Yahoo! Mail

Dialoguez en direct avec vos amis gr?ce ? Yahoo! Messenger !
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040514/dc850197/attachment.html
From T.McMinn at exchange.curtin.edu.au  Fri May 14 10:04:36 2004
From: T.McMinn at exchange.curtin.edu.au (Terrance Mc Minn)
Date: Fri May 14 10:04:47 2004
Subject: [Radiance-general] Radiance on bootable CDROM using Cluster Linux
Message-ID: <8B67F2E2D93ED5118D6E00508BB8D127043CDCC1@exmsb04.curtin.edu.au>

Hello All,

The latest version of my CDROM image for the "Hard Drive-less Radiance for
PC" has now been uploaded. See
http://puffin2.curtin.edu.au/restricted/mcminn/radiance-cdrom-v3.3.shtml.

This version is based on the Knoppix Cluster V3.3 (English) CDROM.

There is a script on the CDROM called ompiece (/usr/local/bin) which is
useful for experimentation into using the openmosix cluster software and
rpiece.

Openmosix doesn't require NFS for file sharing as it has its own system
built in.

Please email any comments. 

Regards

Terry Mc Minn
Faculty of Built Environment, Art and Design
Curtin University of Technology
GPO Box U 1987
Perth 6845
Western Australia
Email: T.Mcminn@curtin.edu.au
CRICOS Provider Code: 00301J

From grobe at gmx.net  Fri May 14 15:49:10 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri May 14 18:19:10 2004
Subject: [Radiance-general] replmarks and mirroring
In-Reply-To: <40A1FA89.5040708@t-online.de>
Message-ID: <7A724395-A5AD-11D8-874E-000A959DDB22@gmx.net>

Hi Carsten, hi list!

> if you look into the mirror, you don't see yourself upside down, so I 
> guess that formZ behaves correctly in leaving the normal unchanged 
> during mirroring :-)

In fact, it was what I had guessed. However, I wanted to be sure. Also, 
I wonder if there is any reason why the surface normal information is 
not used from the triangle.

I think, if I replace the call to fcross() in replmarks.c by a routine 
that aligns the z-achsis to the surface normal, mirroring 
transformations should be supported by replmarks, right? Is there a 
function to get the direction of the surface normal defined that I 
could use (I am sure it is, I just don't know where ;-) ?

Such a feature in replmarks would be very useful for me, as I could use 
just the triangle markers I have and I would not have to search for 
mirrored objects in the whole model, which would certainly introduce 
errors as I am rather sure that I would miss some objects.

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From gward at lmi.net  Fri May 14 22:30:54 2004
From: gward at lmi.net (Greg Ward)
Date: Fri May 14 22:31:41 2004
Subject: [Radiance-general] Re: replmarks and mirroring
In-Reply-To: <7A724395-A5AD-11D8-874E-000A959DDB22@gmx.net>
References: <7A724395-A5AD-11D8-874E-000A959DDB22@gmx.net>
Message-ID: <994B241C-A5E5-11D8-B7A1-000A95BB392A@lmi.net>

It seems to me that whatever convention you decide upon for mirroring 
objects with replmarks, you are going to have to deal with some 
ambiguity.  If you say that a downward pointing normal means the object 
gets mirrored, how do you know which axis to mirror?  There are three 
choices, and all of them result in a mirrored object, but with very 
different positions.  The logical choice if we're talking about the 
z-axis would be to mirror z, but that will result in an object 
projecting into the ground in most cases.  How do you justify choosing 
one axis to mirror over another?  It seems rather confusing from a 
user's standpoint, or am I missing something obvious?

-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: May 14, 2004 6:49:10 AM PDT
>
> Hi Carsten, hi list!
>
>> if you look into the mirror, you don't see yourself upside down, so I 
>> guess that formZ behaves correctly in leaving the normal unchanged 
>> during mirroring :-)
>
> In fact, it was what I had guessed. However, I wanted to be sure. 
> Also, I wonder if there is any reason why the surface normal 
> information is not used from the triangle.
>
> I think, if I replace the call to fcross() in replmarks.c by a routine 
> that aligns the z-achsis to the surface normal, mirroring 
> transformations should be supported by replmarks, right? Is there a 
> function to get the direction of the surface normal defined that I 
> could use (I am sure it is, I just don't know where ;-) ?
>
> Such a feature in replmarks would be very useful for me, as I could 
> use just the triangle markers I have and I would not have to search 
> for mirrored objects in the whole model, which would certainly 
> introduce errors as I am rather sure that I would miss some objects.
>
> CU Lars.


From beixiao at mail.med.upenn.edu  Fri May 14 22:32:39 2004
From: beixiao at mail.med.upenn.edu (Bei Xiao)
Date: Fri May 14 22:32:52 2004
Subject: [Radiance-general] color of the light source
In-Reply-To: <FF7EFE55-A44E-11D8-943F-000A959DDB22@gmx.net>
References: <FF7EFE55-A44E-11D8-943F-000A959DDB22@gmx.net>
Message-ID: <Pine.SOL.4.58.0405141629160.2460@pobox.upenn.edu>

HI,
 Thank you all very much for the previous replies.
 I have another very rudimentary questions about the rendering. I use
a point light source in my rendering of the following parameters:
void light bulb_light
0
0
3 5000 5000 5000
Am i suppose to render the scene with white color?
But this light source illuminate the room with yellowish color. How can I
get the white illumination? Is there any parameter that I need to set to
get the correct color of thelight?

Thanks a lot.

Bei

From gward at lmi.net  Fri May 14 22:46:35 2004
From: gward at lmi.net (Greg Ward)
Date: Fri May 14 22:47:30 2004
Subject: [Radiance-general] color of the light source
In-Reply-To: <Pine.SOL.4.58.0405141629160.2460@pobox.upenn.edu>
References: <FF7EFE55-A44E-11D8-943F-000A959DDB22@gmx.net>
	<Pine.SOL.4.58.0405141629160.2460@pobox.upenn.edu>
Message-ID: <CA3DCE34-A5E7-11D8-B7A1-000A95BB392A@lmi.net>

Hi Bei,

Colored sources are a complex issue due to white balance.  Instead of 
giving you a long-winded and incomplete reply, I'll refer you to the 
paper I coauthored on the subject:

	http://www.anyhere.com/gward/papers/egwr02/

Have you been following the related thread on spectral reflectance?

-Greg

> From: Bei Xiao <beixiao@mail.med.upenn.edu>
> Date: May 14, 2004 1:32:39 PM PDT
>
> HI,
>  Thank you all very much for the previous replies.
>  I have another very rudimentary questions about the rendering. I use
> a point light source in my rendering of the following parameters:
> void light bulb_light
> 0
> 0
> 3 5000 5000 5000
> Am i suppose to render the scene with white color?
> But this light source illuminate the room with yellowish color. How 
> can I
> get the white illumination? Is there any parameter that I need to set 
> to
> get the correct color of thelight?
>
> Thanks a lot.
>
> Bei


From beixiao at mail.med.upenn.edu  Sat May 15 00:40:12 2004
From: beixiao at mail.med.upenn.edu (Bei Xiao)
Date: Sat May 15 00:40:23 2004
Subject: [Radiance-general] color of the light source
In-Reply-To: <CA3DCE34-A5E7-11D8-B7A1-000A95BB392A@lmi.net>
References: <FF7EFE55-A44E-11D8-943F-000A959DDB22@gmx.net>
	<Pine.SOL.4.58.0405141629160.2460@pobox.upenn.edu>
	<CA3DCE34-A5E7-11D8-B7A1-000A95BB392A@lmi.net>
Message-ID: <Pine.SOL.4.58.0405141835440.25970@pobox.upenn.edu>

Hi, Greg
 Thank you. I am generating hyperspectral images using Radiance and also
PsychotoolBox. For right now, I rendered 24 chips of the macbeth
checker board to test the code of generating right color of hyperspectral
images. But the color of the objects come out weird because the light has a yellowish
color. So everything looks yellowish.

  I follwed the thread of the specular reflectance. But i am not so clear
what does the -st (specular thresold mean). Currently, I set the -st as
0.1. But I found whatever falue I use for specular reflectance, the effect
of the glossiness is not big.


Thanks,

Bei

 On Fri, 14 May 2004, Greg Ward wrote:

>_Hi Bei,
>_
>_Colored sources are a complex issue due to white balance.  Instead of
>_giving you a long-winded and incomplete reply, I'll refer you to the
>_paper I coauthored on the subject:
>_
>_	http://www.anyhere.com/gward/papers/egwr02/
>_
>_Have you been following the related thread on spectral reflectance?
>_
>_-Greg
>_
>_> From: Bei Xiao <beixiao@mail.med.upenn.edu>
>_> Date: May 14, 2004 1:32:39 PM PDT
>_>
>_> HI,
>_>  Thank you all very much for the previous replies.
>_>  I have another very rudimentary questions about the rendering. I use
>_> a point light source in my rendering of the following parameters:
>_> void light bulb_light
>_> 0
>_> 0
>_> 3 5000 5000 5000
>_> Am i suppose to render the scene with white color?
>_> But this light source illuminate the room with yellowish color. How
>_> can I
>_> get the white illumination? Is there any parameter that I need to set
>_> to
>_> get the correct color of thelight?
>_>
>_> Thanks a lot.
>_>
>_> Bei
>_

From cbauer- at t-online.de  Sat May 15 19:08:30 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Sat May 15 18:22:45 2004
Subject: [Radiance-general] Re: replmarks and mirroring
References: <7A724395-A5AD-11D8-874E-000A959DDB22@gmx.net>
	<994B241C-A5E5-11D8-B7A1-000A95BB392A@lmi.net>
Message-ID: <40A64E8E.7050608@t-online.de>

Hi,

I think there might be some misunderstanding going on here..

-1) my joking comment about looking into the mirror is (sad but true ..) 
a bit oversimplified. Of course you always need to specify additional 
information, i.e., mirroring with respect to what, and although 
intuitively one always thinks of a plane, sometimes the 'inversion' 
(x,y,z) -> (-x,-y,-z) is also called a mirror operation,('mirroring with 
respect to the origin'). On inversion, the normal also gets turned around.

-2) I never used replmarks before, but if I get it right from the 
previous discussion, you set up a scene with triangles in CAD, convert 
this to Radiance format and then replace the triangles with, say, instances.

The information about orientation is completely contained in the 
triangles (as long as they are drawn according to the replmarks specs, 
i.e. three different side lengths, of which the second and third 
smallest stand for the local x and y axis. The mentioned cross product X 
(x) Y = Z then is in fact the surface normal of the triangle.

You can now make a simple sketch on paper, draw a triangle with sides 
parallel to the coordinate axes, and 'mirror' it with respect to the, 
say, yz plane. If you simply replace the vertices by their mirrored 
counterparts, you soon end up with an inverted normal, which is in fact 
not what you want.

Now I don't know how formZ stores surface normal information, maybe it 
is stored separately, allowing to override the above effect. And this 
information then gets lost in the conversion, so replmarks gets feeded 
the wrong triangle and thus transforms the instance equally wrong.

Maybe ... just a simple guess..

Anyway, I assume that the error already lies within the mirroring 
operation. You can check this by drawing a simple scene in CAD with two 
mirrored triangles and the look at the converted rad input file. (look 
at the ordering of the two sets of vertices in the polygon data)

-cb


From grobe at gmx.net  Sun May 16 13:53:05 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun May 16 13:52:27 2004
Subject: [Radiance-general] Re: replmarks and mirroring
In-Reply-To: <40A64E8E.7050608@t-online.de>
Message-ID: <973DA9F6-A72F-11D8-B83A-000A959DDB22@gmx.net>

Hi,

sorry, the problem is that formZ keeps the normal pointing up after 
mirroring when the original surface normal was in that direction. 
However, when I export the scene as dxf and re-import it, surface 
normals of both triangles point downwards.... bad luck, and no problem 
about radiance.

Lars.
--
Lars O. Grobe
grobe@gmx.net


From marcdevon at hotmail.com  Tue May 18 20:43:37 2004
From: marcdevon at hotmail.com (Marcus Jacobs)
Date: Tue May 18 20:43:44 2004
Subject: [Radiance-general] Light Studio RAD Renderer 
Message-ID: <BAY2-F118VHlAhPfj7400003f4b@hotmail.com>

Dear Group

This is a very interesting plugin into 3D Studio Max. It seems to have a 
Radiance exporter integrated to it. My Deutsch isn't any good so its hard 
for me read read everything. Anyway, its definately worth a look.


http://www.lichtplaner.com/lightstudio.asp#


Marcus

_________________________________________________________________
FREE pop-up blocking with the new MSN Toolbar  get it now! 
http://toolbar.msn.click-url.com/go/onm00200415ave/direct/01/


From MdelaFuente at wmtao.com  Wed May 19 01:07:28 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Wed May 19 01:08:19 2004
Subject: [Radiance-general] Radiance Vs Viz
Message-ID: <s0aa50fb.000@wmtao.com>

I've been having a discussion with the people at my office about the
differences between Radiance and 3D Studio Viz & Lightscape.  (They are
used to using Lightscape and don't know anything about Radiance)  And I
was hoping some of you might have some comparison or contrasting
comments on this subject since I'm sure most of you have had some
experience with this sort of discussion.
 
Even though we are specifically talking about Radiance Vs Lightscape &
Viz, I think this is in part more a comparison about radiosity Vs
raytracing.  From what I know, the big problem with radiosity is that it
simplifies things and assumes lambertian reflections.  This is obviously
a deviation from reality, but I assume it's still possible to achieve a
pretty accurate calculation of some sort depending on the situation.  (I
know the person I'm having this discussion with is certainly convinced
you can).  Therefore what I am more interested in, is knowing what type
of calculation you really CAN'T do with radiosity (Viz or Lightscape)
that you could do with Radiance.  Like if I am trying to evaluate the
performance of a light shelf, can I use a radiosity based engine to
compare the differences from one light shelf of material A with the same
light shelf made out of material B?  I mean if material A is matte white
paint and material B is chrome, how could you compare the two scenarios
if the software assumes lambertian reflections?
 
I appreciate your feedback.
 
Mark de la Fuente
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040518/e7fe7451/attachment.htm
From apian at pab-opto.de  Wed May 19 06:44:56 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Wed May 19 06:45:55 2004
Subject: [Radiance-general] Radiance Vs Viz
In-Reply-To: <s0aa50fb.000@wmtao.com>
References: <s0aa50fb.000@wmtao.com>
Message-ID: <40AAE648.8080202@pab-opto.de>

Mark de la Fuente wrote:

> I've been having a discussion with the people at my office about the 
> differences between Radiance and 3D Studio Viz & Lightscape.  (They 
> are used to using Lightscape and don't know anything about Radiance)  
> And I was hoping some of you might have some comparison or contrasting 
> comments on this subject since I'm sure most of you have had some 
> experience with this sort of discussion.

Hi Mark,
there's a 2001 Lightscape/Radiance comparison at  
http://www.pab-opto.de/  , although it would be worth redoing the calcs 
with Radiance+photonmap, to show the differences clearly.

>  Even though we are specifically talking about Radiance Vs Lightscape 
> & Viz, I think this is in part more a comparison about radiosity Vs 
> raytracing.  From what I know, the big problem with radiosity is that 
> it simplifies things and assumes lambertian reflections.  This is 
> obviously a deviation from reality, but I assume it's still possible 
> to achieve a pretty accurate calculation of some sort depending on the 
> situation.  ...

Most materials show a specular peak at low incident angle.  Interesting 
materials for light redirection are  non-lambertian, starting with 
simple structures like outside louvers.
-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From jm at dmu.ac.uk  Wed May 19 11:07:15 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed May 19 11:07:23 2004
Subject: [Radiance-general] Radiance tech. note #3 - Generate ambient
	sampling markers
Message-ID: <E1BQN2h-0001WB-00@saturn.dmu.ac.uk>

Group,

Genampos is a script to generate markers where ambient
sampling occurred.  A Technical Note (#3) describing its use
is now available:

http://www.iesd.dmu.ac.uk/~jm

Go to the 'resources' section.  The genampos script usually
resides in ray/src/util as genampos.csh but is not installed
by default. There is a bug in the current (3.5) and previous
versions. Get the fixed version from the development source
tree or pick it up with the tech note.

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)




From a.jacobs at londonmet.ac.uk  Wed May 19 12:24:08 2004
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Wed May 19 12:46:12 2004
Subject: [Radiance-general] Radiance tech. note #3 - Generate ambient
	sampling markers
In-Reply-To: <E1BQN2h-0001WB-00@saturn.dmu.ac.uk>
References: <E1BQN2h-0001WB-00@saturn.dmu.ac.uk>
Message-ID: <40AB35C8.5040504@londonmet.ac.uk>

Hi John,

>Genampos is a script to generate markers where ambient
>sampling occurred.  A Technical Note (#3) describing its use
>is now available:
>
>http://www.iesd.dmu.ac.uk/~jm
>  
>
Looks extremely useful. Sadly enough, it missed the new LEARNIX by about 
a week.

Cheers

Axel


From graf-o at freenet.de  Wed May 19 13:43:30 2004
From: graf-o at freenet.de (graf-o@freenet.de)
Date: Wed May 19 13:43:34 2004
Subject: [Radiance-general] problem with options of 'rview'
Message-ID: <E1BQPTu-0002gU-Kn@www12.emo.freenet-rz.de>

An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040519/aa167e25/attachment.html
From grobe at gmx.net  Wed May 19 14:01:40 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed May 19 14:01:00 2004
Subject: [Radiance-general] problem with options of 'rview'
In-Reply-To: <E1BQPTu-0002gU-Kn@www12.emo.freenet-rz.de>
Message-ID: <4A047805-A98C-11D8-9AFA-000A959DDB22@gmx.net>

> VIM - Vi IMproved 6.2 (2003 Jun 1, compiled Sep 26 2003 16:12:37)
> Unknown option: "-vp"

Hi,

there was a discussion some time ago about the problem that the 
filename "rview" is used by vi (a text editor) as well as radiance. 
AFAIK in newer releases of radiance, rview was renamed. The rview that 
reported the unknown option to you is from vi(m), not from radiance. 
You could take a look at what the vi-rview is, maybe you don't need it 
and can rename it into rview.vi. "which rview" should point you to the 
file that was executed when you wanted to start rview, it might be 
/usr/bin/rview. You can also get a cvs-snapshot of the current 
radiance-development-tree from www.radiance-online.org, if you want to 
compile it on your own (or maybe someone offers binaries of the 
cvs-radiance?).

Good luck, CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From Giulio.Antonutto at arup.com  Wed May 19 14:02:42 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed May 19 14:02:49 2004
Subject: Spam: [Radiance-general] problem with options of 'rview'
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF4E3@l-gnts05>

try to change the name or "rview" to "rvu" in the radiance binaries  (mv
rview rvu)....
then try again:
 
"rvu" .....your options......
 
it is just a guess: there could be a conflict with some other programs there
(thinking of vi...)...
cheers,
hope it helps,
giulio

-----Original Message-----
From: graf-o@freenet.de [mailto:graf-o@freenet.de]
Sent: 19 May 2004 12:44
To: radiance-general@radiance-online.org
Subject: Spam: [Radiance-general] problem with options of 'rview'


I'm affraid my first attemp to post this message hasn't been successfull, so
I try it once more. Please don't take this mail into account, it the first
one is alredy posted: 

After downloading the dynamic binaries for Linux and installing the
radiance'
library I've tried to execute the rad-command from the tuturial (rad -o x11
daf.rif) as well as just the rview-command with other oct-files, but
unfortunately the -vp option could not be executed and I got the following
error:

rview -vu 0 1 0 -vp 50 60 40 -vd 0 -1 -1 -vh 20 -vv 20 -ps 8 -pt .16 -dp 128
-ar
9 -ds 0 -dt .2 -dc .25 -dr 0 -sj 0 -st .5 -aa .4 -ad 64 -as 0 -av 0.5 0.5
0.5
-lr 3 -lw .02 -R daf.rif -o x11 -pe 1 daf.oct
VIM - Vi IMproved 6.2 (2003 Jun 1, compiled Sep 26 2003 16:12:37)
Unknown option: "-vp"
rad: error running rview


Now I'm wondering, whether the problem arises, because I am using the
dynamic
binaries instead of static, or is it something else?


Thanks,

Olga Graf 
--
 
<http://adserver.freenet.de/click.ng/site=fn&prod=chetools&kat=rub&tbl=webma
il&ppos=1&TransactionID=1084967010627134&rgtg=256>  


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040519/bf0c8819/attachment.htm
From Giulio.Antonutto at arup.com  Wed May 19 14:03:33 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed May 19 14:03:38 2004
Subject: [Radiance-general] problem with options of 'rview'
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF4E4@l-gnts05>

"quicker than the eye could flick..." ;-))
cheers,
giulio

-----Original Message-----
From: Lars O. Grobe [mailto:grobe@gmx.net]
Sent: 19 May 2004 13:02
To: Radiance general discussion
Subject: Re: [Radiance-general] problem with options of 'rview'


> VIM - Vi IMproved 6.2 (2003 Jun 1, compiled Sep 26 2003 16:12:37)
> Unknown option: "-vp"

Hi,

there was a discussion some time ago about the problem that the 
filename "rview" is used by vi (a text editor) as well as radiance. 
AFAIK in newer releases of radiance, rview was renamed. The rview that 
reported the unknown option to you is from vi(m), not from radiance. 
You could take a look at what the vi-rview is, maybe you don't need it 
and can rename it into rview.vi. "which rview" should point you to the 
file that was executed when you wanted to start rview, it might be 
/usr/bin/rview. You can also get a cvs-snapshot of the current 
radiance-development-tree from www.radiance-online.org, if you want to 
compile it on your own (or maybe someone offers binaries of the 
cvs-radiance?).

Good luck, CU Lars.
--
Lars O. Grobe
grobe@gmx.net


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From rpg at rumblestrip.org  Wed May 19 15:27:40 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed May 19 15:27:48 2004
Subject: [Radiance-general] Radiance Vs Viz
In-Reply-To: <s0aa50fb.000@wmtao.com>
References: <s0aa50fb.000@wmtao.com>
Message-ID: <4D82F985-A998-11D8-9183-000393824274@rumblestrip.org>


On May 18, 2004, at 7:07 PM, Mark de la Fuente wrote:

> I've been having a discussion with the people at my office?about the 
> differences between Radiance and 3D Studio Viz &?Lightscape.? (They 
> are used to using Lightscape and don't know anything about Radiance)? 
> And I was?hoping some of you might have some comparison or contrasting 
> comments on this subject since I'm sure most of you have had some 
> experience with this sort of discussion.

Peter A-B's paper, mentioned in his reply to you, is an excellent 
resource.  Print out Section 5.4 and hand it out to your co-workers, 
and then point them toward the radiance-online.org website.  =8-)

I used Lightscape heavily for a number of years and beta tested both 
the last version of Lightscape and Viz4 (the first time Lightscape's 
code was used in Viz).  But I was always looking toward Radiance and 
wishing I had the time to learn its many nuances.  The demise of 
Lightscape (Viz is horrid) and the aquisition of a complex project 
finally conspired to push me into the Radiance learning mode full-time. 
  (P.S. I'm still in that mode, three years later!)  At this point, I 
use Radiance for all our calculations that require more than a simple 
zonal cavity or point calc.

> Even though we are specifically talking about Radiance Vs Lightscape & 
> Viz,?I think this is in part more a comparison about radiosity Vs 
> raytracing.? From what I know, the big problem with radiosity is that 
> it simplifies things and assumes lambertian reflections.?

Right.  Again, Peter & Kurt's paper is an excellent resource on all of 
this.

> This is obviously a deviation from reality, but I assume it's still 
> possible to achieve a pretty accurate calculation of some sort 
> depending on the situation.? (I know the person I'm having this 
> discussion with is certainly convinced you can).? Therefore what I am 
> more interested in, is knowing?what type?of calculation you really 
> CAN'T do with radiosity (Viz or Lightscape) that you could do with 
> Radiance.?

I think some confusion stems from the fact that Lightscape & Viz have a 
ray-tracing capability that you can apply, as a post-process.  When you 
apply that to a Lightscape/Viz model, the specular reflections are 
*rendered*, but not *calculated*.  So you have a rendering that looks 
somewhat accurate, but at that point that's all you have.  You cannot 
derive quantitative luminance/illuminance information from the image at 
that point.  That data always comes from the radiosity-calculated 
model, and that's fundamentally flawed because of the lack of specular 
reflections (and in Lightscape's case, no diffuse transmissions 
either).

=================
    Rob Guglielmetti
www.rumblestrip.org


From MMoeck at engr.psu.edu  Wed May 19 16:56:12 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Wed May 19 16:57:00 2004
Subject: [Radiance-general] Radiance Vs Viz
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C11395E@ENGRMAIL2.engr.psu.edu>

Hi Mark,
 
see below.
 
Martin Moeck

	-----Original Message----- 
	From: Mark de la Fuente [mailto:MdelaFuente@wmtao.com] 
	Sent: Tue 5/18/2004 7:07 PM 
	To: radiance-general@radiance-online.org 
	Cc: 
	Subject: [Radiance-general] Radiance Vs Viz
	
	 
	 
	Even though we are specifically talking about Radiance Vs Lightscape & Viz, I think this is in part more a comparison about radiosity Vs raytracing.  From what I know, the big problem with radiosity is that it simplifies things and assumes lambertian reflections.  This is obviously a deviation from reality, but I assume it's still possible to achieve a pretty accurate calculation of some sort depending on the situation.  (I know the person I'm having this discussion with is certainly convinced you can).  Therefore what I am more interested in, is knowing what type of calculation you really CAN'T do with radiosity (Viz or Lightscape) that you could do with Radiance.
	 
	 
	1) Venetian blinds: If you cannot subdivide surfaces like Venetian blinds into very small patches and override the automatic triangular subdivision (i.e., Lumen Designer), the calculation is meaningless. Exception: The new AGI32
	 
	2) Specular highlights are not considered in the hybrid raytracing method in AGI32, Lumen Designer and VIZ4. You might see a small reflection of a light source on a varnished oak floor. If you increase -ad to a large number, i.e., 5000 - 10,000, Radiance will consider the contribution of that specular highlight. The luminance of this highlight is typically very significant, even if the specular reflectance of the varnished floor is 1% or less. A sun beam reflected off that floor can create an additional 200 Lux on the ceiling in the specular direction, which the radiosity calculation  never catches. This error is very significant. 
	 
	3) You can combine Radiance plastic, metal and glass with the mirror material and turn any Radiance surface that has a slight or large specular component into a virtual light source. Again, the error is very significant in radiosity since those specuar reflections are ignored. 
	 
	4) The important underlying assumption in using radiosity is that building materials are mostly diffuse, and might only have a specularity of 0.1% or so. Assume even a very low specularity of 0.1%, times the luminance of the sun or an HID lamp reflected in that "matte" material. This is an extremely bright virtual light source, no matter if the material is black or white. That contribution cannot be ignored. If you have an aluminum ceiling, aluminum lightshelf and some blinds, radiosity cannot be used at all, since the specularity of most aluminum materials is 50% to 902%. 
	 
	 
	 
	 
	 
	 Like if I am trying to evaluate the performance of a light shelf, can I use a radiosity based engine to compare the differences from one light shelf of material A with the same light shelf made out of material B?  I mean if material A is matte white paint and ! material B is chrome, how could you compare the two scenarios if the software assumes lambertian reflections?
	 
	 
	Not at all. You would have to do it by hand and it would be much more accurate. The diffuse and specular reflectance of both materials is known, and all you need is Excel to calculate the specular and diffuse light transfer. Then add 15% indirect and you got it. 
	 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 6302 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040519/a235c298/attachment-0001.bin
From gward at lmi.net  Wed May 19 16:59:33 2004
From: gward at lmi.net (Greg Ward)
Date: Wed May 19 16:59:42 2004
Subject: [Radiance-general] Re: problem with options of 'rview'
In-Reply-To: <E1BQPTu-0002gU-Kn@www12.emo.freenet-rz.de>
References: <E1BQPTu-0002gU-Kn@www12.emo.freenet-rz.de>
Message-ID: <23A0D602-A9A5-11D8-B6B8-000A95BB392A@lmi.net>

Hi Olga,

No one mentioned the simplest solution, which I suppose is obvious, of 
changing your PATH environment variable in your shell so that the 
Radiance bin directory (/usr/local/bin by default) preceeds the 
directory containing vim (/usr/bin usually).  This will fix the problem 
without having to rename or reinstall anything.  Renaming Radiance's 
"rview" to "rvu" will break the concurrent release of "rad," which 
still calls "rview" to start an interactive rendering.

-Greg

> From: graf-o@freenet.de
> Date: May 19, 2004 4:43:30 AM PDT
>
I'm affraid my first attemp to post this message hasn't been 
successfull, so I try it once more. Please don't take this mail into 
account, it the first one is alredy posted:

  After downloading the dynamic binaries for Linux and installing the 
radiance'
  library I've tried to execute the rad-command from the tuturial (rad 
-o x11
  daf.rif) as well as just the rview-command with other oct-files, but
  unfortunately the -vp option could not be executed and I got the 
following
  error:

  rview -vu 0 1 0 -vp 50 60 40 -vd 0 -1 -1 -vh 20 -vv 20 -ps 8 -pt .16 
-dp 128 -ar
  9 -ds 0 -dt .2 -dc .25 -dr 0 -sj 0 -st .5 -aa .4 -ad 64 -as 0 -av 0.5 
0.5 0.5
  -lr 3 -lw .02 -R daf.rif -o x11 -pe 1 daf.oct
  VIM - Vi IMproved 6.2 (2003 Jun 1, compiled Sep 26 2003 16:12:37)
  Unknown option: "-vp"
  rad: error running rview


  Now I'm wondering, whether the problem arises, because I am using the 
dynamic
  binaries instead of static, or is it something else?


  Thanks,

  Olga Graf


From Giulio.Antonutto at arup.com  Wed May 19 17:03:47 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed May 19 17:05:11 2004
Subject: [Radiance-general] Radiance Vs Viz
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF4F1@l-gnts05>

"3) You can combine Radiance plastic, metal and glass with the mirror
material and turn any Radiance surface that has a slight or large specular
component into a virtual light source. Again, the error is very significant
in radiosity since those specuar reflections are ignored. "
 
unfortunately you cannot use mixfunc with virtual sources...
....I think that virtual sources nested into complex material descriptions
are simply ignored... but I could be wrong (any confirm about this?).
 
nevertheless radiance rules... always!
 
giulio
 

-----Original Message-----
From: Martin Moeck [mailto:MMoeck@engr.psu.edu]
Sent: 19 May 2004 15:56
To: Radiance general discussion
Subject: RE: [Radiance-general] Radiance Vs Viz


Hi Mark,
 
see below.
 
Martin Moeck

-----Original Message----- 
From: Mark de la Fuente [mailto:MdelaFuente@wmtao.com] 
Sent: Tue 5/18/2004 7:07 PM 
To: radiance-general@radiance-online.org 
Cc: 
Subject: [Radiance-general] Radiance Vs Viz

 
 
Even though we are specifically talking about Radiance Vs Lightscape & Viz,
I think this is in part more a comparison about radiosity Vs raytracing.
>From what I know, the big problem with radiosity is that it simplifies
things and assumes lambertian reflections.  This is obviously a deviation
from reality, but I assume it's still possible to achieve a pretty accurate
calculation of some sort depending on the situation.  (I know the person I'm
having this discussion with is certainly convinced you can).  Therefore what
I am more interested in, is knowing what type of calculation you really
CAN'T do with radiosity (Viz or Lightscape) that you could do with Radiance.
 
 
1) Venetian blinds: If you cannot subdivide surfaces like Venetian blinds
into very small patches and override the automatic triangular subdivision
(i.e., Lumen Designer), the calculation is meaningless. Exception: The new
AGI32
 
2) Specular highlights are not considered in the hybrid raytracing method in
AGI32, Lumen Designer and VIZ4. You might see a small reflection of a light
source on a varnished oak floor. If you increase -ad to a large number,
i.e., 5000 - 10,000, Radiance will consider the contribution of that
specular highlight. The luminance of this highlight is typically very
significant, even if the specular reflectance of the varnished floor is 1%
or less. A sun beam reflected off that floor can create an additional 200
Lux on the ceiling in the specular direction, which the radiosity
calculation  never catches. This error is very significant. 
 
3) You can combine Radiance plastic, metal and glass with the mirror
material and turn any Radiance surface that has a slight or large specular
component into a virtual light source. Again, the error is very significant
in radiosity since those specuar reflections are ignored. 
 
4) The important underlying assumption in using radiosity is that building
materials are mostly diffuse, and might only have a specularity of 0.1% or
so. Assume even a very low specularity of 0.1%, times the luminance of the
sun or an HID lamp reflected in that "matte" material. This is an extremely
bright virtual light source, no matter if the material is black or white.
That contribution cannot be ignored. If you have an aluminum ceiling,
aluminum lightshelf and some blinds, radiosity cannot be used at all, since
the specularity of most aluminum materials is 50% to 902%. 
 
 
 
 
 
 Like if I am trying to evaluate the performance of a light shelf, can I use
a radiosity based engine to compare the differences from one light shelf of
material A with the same light shelf made out of material B?  I mean if
material A is matte white paint and ! material B is chrome, how could you
compare the two scenarios if the software assumes lambertian reflections?
 
 
Not at all. You would have to do it by hand and it would be much more
accurate. The diffuse and specular reflectance of both materials is known,
and all you need is Excel to calculate the specular and diffuse light
transfer. Then add 15% indirect and you got it. 
 


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040519/ebf6d756/attachment.htm
From Giulio.Antonutto at arup.com  Wed May 19 17:10:39 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed May 19 17:10:45 2004
Subject: [Radiance-general] Radiance Vs Viz
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF4F2@l-gnts05>

from the "Lord":

"That is correct -- Radiance only finds virtual source objects using 

mirror or prism material types directly. It doesn't even look if you 

have a modifier in front of the material in the chain (e.g., you 

reference a pattern before the material)."

 

cheers!

 

 

-----Original Message-----
From: Giulio Antonutto [mailto:Giulio.Antonutto@arup.com]
Sent: 19 May 2004 16:04
To: 'Radiance general discussion'
Subject: RE: [Radiance-general] Radiance Vs Viz


"3) You can combine Radiance plastic, metal and glass with the mirror
material and turn any Radiance surface that has a slight or large specular
component into a virtual light source. Again, the error is very significant
in radiosity since those specuar reflections are ignored. "
 
unfortunately you cannot use mixfunc with virtual sources...
....I think that virtual sources nested into complex material descriptions
are simply ignored... but I could be wrong (any confirm about this?).
 
nevertheless radiance rules... always!
 
giulio
 

-----Original Message-----
From: Martin Moeck [mailto:MMoeck@engr.psu.edu]
Sent: 19 May 2004 15:56
To: Radiance general discussion
Subject: RE: [Radiance-general] Radiance Vs Viz


Hi Mark,
 
see below.
 
Martin Moeck

-----Original Message----- 
From: Mark de la Fuente [mailto:MdelaFuente@wmtao.com] 
Sent: Tue 5/18/2004 7:07 PM 
To: radiance-general@radiance-online.org 
Cc: 
Subject: [Radiance-general] Radiance Vs Viz

 
 
Even though we are specifically talking about Radiance Vs Lightscape & Viz,
I think this is in part more a comparison about radiosity Vs raytracing.
>From what I know, the big problem with radiosity is that it simplifies
things and assumes lambertian reflections.  This is obviously a deviation
from reality, but I assume it's still possible to achieve a pretty accurate
calculation of some sort depending on the situation.  (I know the person I'm
having this discussion with is certainly convinced you can).  Therefore what
I am more interested in, is knowing what type of calculation you really
CAN'T do with radiosity (Viz or Lightscape) that you could do with Radiance.
 
 
1) Venetian blinds: If you cannot subdivide surfaces like Venetian blinds
into very small patches and override the automatic triangular subdivision
(i.e., Lumen Designer), the calculation is meaningless. Exception: The new
AGI32
 
2) Specular highlights are not considered in the hybrid raytracing method in
AGI32, Lumen Designer and VIZ4. You might see a small reflection of a light
source on a varnished oak floor. If you increase -ad to a large number,
i.e., 5000 - 10,000, Radiance will consider the contribution of that
specular highlight. The luminance of this highlight is typically very
significant, even if the specular reflectance of the varnished floor is 1%
or less. A sun beam reflected off that floor can create an additional 200
Lux on the ceiling in the specular direction, which the radiosity
calculation  never catches. This error is very significant. 
 
3) You can combine Radiance plastic, metal and glass with the mirror
material and turn any Radiance surface that has a slight or large specular
component into a virtual light source. Again, the error is very significant
in radiosity since those specuar reflections are ignored. 
 
4) The important underlying assumption in using radiosity is that building
materials are mostly diffuse, and might only have a specularity of 0.1% or
so. Assume even a very low specularity of 0.1%, times the luminance of the
sun or an HID lamp reflected in that "matte" material. This is an extremely
bright virtual light source, no matter if the material is black or white.
That contribution cannot be ignored. If you have an aluminum ceiling,
aluminum lightshelf and some blinds, radiosity cannot be used at all, since
the specularity of most aluminum materials is 50% to 902%. 
 
 
 
 
 
 Like if I am trying to evaluate the performance of a light shelf, can I use
a radiosity based engine to compare the differences from one light shelf of
material A with the same light shelf made out of material B?  I mean if
material A is matte white paint and ! material B is chrome, how could you
compare the two scenarios if the software assumes lambertian reflections?
 
 
Not at all. You would have to do it by hand and it would be much more
accurate. The diffuse and specular reflectance of both materials is known,
and all you need is Excel to calculate the specular and diffuse light
transfer. Then add 15% indirect and you got it. 
 


___________________________________________________________________

Electronic mail messages entering and leaving Arup business

systems are scanned for acceptability of content and viruses.


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040519/8704001b/attachment.html
From gward at lmi.net  Wed May 19 17:01:37 2004
From: gward at lmi.net (Greg Ward)
Date: Wed May 19 17:12:49 2004
Subject: [Radiance-general] Re: Radiance tech. note #3 - Generate ambient
	sampling markers
In-Reply-To: <40AB35C8.5040504@londonmet.ac.uk>
References: <E1BQN2h-0001WB-00@saturn.dmu.ac.uk>
	<40AB35C8.5040504@londonmet.ac.uk>
Message-ID: <6D577B92-A9A5-11D8-B6B8-000A95BB392A@lmi.net>

A P.S. to John's message -- tomorrow's HEAD release should be set to 
install genambpos by default.  I don't know why it wasn't being 
installed before.  Must have been some where at the back of the queue 
(after the kitchen sink).

Sorry about that, John!
-Greg

> From: Axel Jacobs <a.jacobs@londonmet.ac.uk>
> Date: May 19, 2004 3:24:08 AM PDT
>
> Hi John,
>
>> Genampos is a script to generate markers where ambient
>> sampling occurred.  A Technical Note (#3) describing its use
>> is now available:
>>
>> http://www.iesd.dmu.ac.uk/~jm
>>
> Looks extremely useful. Sadly enough, it missed the new LEARNIX by 
> about a week.
>
> Cheers
>
> Axel


From jm at dmu.ac.uk  Wed May 19 17:44:59 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed May 19 17:45:16 2004
Subject: [Radiance-general] Re: Radiance tech. note #3 - Generate ambient
	sampling markers
Message-ID: <E1BQTFb-000268-00@saturn.dmu.ac.uk>

> I don't know why it wasn't being 
> installed before.  

I do.  Prior to this note the script had no documenation
at all.  Wisely, it was kept hidden where only people
who look for trouble would find it.

-John


From gward at lmi.net  Wed May 19 18:04:36 2004
From: gward at lmi.net (Greg Ward)
Date: Wed May 19 18:04:43 2004
Subject: [Radiance-general] Re: Radiance Vs Viz
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90FAF4F2@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F90FAF4F2@l-gnts05>
Message-ID: <39B28D67-A9AE-11D8-9AC9-000A95BB392A@lmi.net>

Another P.S...  Following the quoted conversation from Pillo, I went 
off and improved the material handling for sources (and virtual 
sources) so that it does look up the modifier tree past patterns and 
things that might come between the material primitive and the object.  
(If you understood that last sentence, you're probably in the top 2% of 
this class.)  However, the code still isn't smart enough to consider 
mixfunc's that make material assignment as part of ray evaluation, 
which is basically incompatible with a priori assessments of which 
surfaces are considered light sources and which surfaces aren't.  In 
other words, don't expect me to fix this anytime soon.

If you are trying to reflect objects in a surface, the "mirror" 
primitive allows you to specify any alternate material you choose when 
it is not participating in the virtual source calculation.  This should 
be enough to do what you want in most cases.

The Lord of Radiance has spoked.
-Greg

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: May 19, 2004 8:10:39 AM PDT
>
from the "Lord":

"That is correct -- Radiance only finds virtual source objects using

  mirror or prism material types directly. It doesn't even look if you

  have a modifier in front of the material in the chain (e.g., you

  reference a pattern before the material)."

?

cheers!


From Giulio.Antonutto at arup.com  Wed May 19 18:22:43 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed May 19 18:22:47 2004
Subject: [Radiance-general] Re: Radiance Vs Viz
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF4F4@l-gnts05>

Goooongggg! Goooongggg! 
(the sound of temple gong...)


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of Greg
Ward
Sent: 19 May 2004 17:05
To: Radiance general discussion
Subject: [Radiance-general] Re: Radiance Vs Viz


Another P.S...  Following the quoted conversation from Pillo, I went 
off and improved the material handling for sources (and virtual 
sources) so that it does look up the modifier tree past patterns and 
things that might come between the material primitive and the object.  
(If you understood that last sentence, you're probably in the top 2% of 
this class.)  However, the code still isn't smart enough to consider 
mixfunc's that make material assignment as part of ray evaluation, 
which is basically incompatible with a priori assessments of which 
surfaces are considered light sources and which surfaces aren't.  In 
other words, don't expect me to fix this anytime soon.

If you are trying to reflect objects in a surface, the "mirror" 
primitive allows you to specify any alternate material you choose when 
it is not participating in the virtual source calculation.  This should 
be enough to do what you want in most cases.

The Lord of Radiance has spoked.
-Greg

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: May 19, 2004 8:10:39 AM PDT
>
from the "Lord":

"That is correct -- Radiance only finds virtual source objects using

  mirror or prism material types directly. It doesn't even look if you

  have a modifier in front of the material in the chain (e.g., you

  reference a pattern before the material)."

?

cheers!


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From MMoeck at engr.psu.edu  Wed May 19 19:26:43 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Wed May 19 19:27:35 2004
Subject: [Radiance-general] Radiance Vs Viz
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C11395F@ENGRMAIL2.engr.psu.edu>

void plastic df
0 0 5
.2 .2 .2 .2 .01
 
void mirror floor
1 df
0
3 .2 .2 .2 
 
 
does it
 
Martin

	-----Original Message----- 
	From: Giulio Antonutto [mailto:Giulio.Antonutto@arup.com] 
	Sent: Wed 5/19/2004 11:03 AM 
	To: 'Radiance general discussion' 
	Cc: 
	Subject: RE: [Radiance-general] Radiance Vs Viz
	
	
	"3) You can combine Radiance plastic, metal and glass with the mirror material and turn any Radiance surface that has a slight or large specular component into a virtual light source. Again, the error is very significant in radiosity since those specuar reflections are ignored. "
	 
	unfortunately you cannot use mixfunc with virtual sources...
	....I think that virtual sources nested into complex material descriptions are simply ignored... but I could be wrong (any confirm about this?).
	 
	nevertheless radiance rules... always!
	 
	giulio
	 

		-----Original Message-----
		From: Martin Moeck [mailto:MMoeck@engr.psu.edu]
		Sent: 19 May 2004 15:56
		To: Radiance general discussion
		Subject: RE: [Radiance-general] Radiance Vs Viz
		
		
		Hi Mark,
		 
		see below.
		 
		Martin Moeck

			-----Original Message----- 
			From: Mark de la Fuente [mailto:MdelaFuente@wmtao.com] 
			Sent: Tue 5/18/2004 7:07 PM 
			To: radiance-general@radiance-online.org 
			Cc: 
			Subject: [Radiance-general] Radiance Vs Viz
			
			 
			 
			Even though we are specifically talking about Radiance Vs Lightscape & Viz, I think this is in part more a comparison about radiosity Vs raytracing.  From what I know, the big problem with radiosity is that it simplifies things and assumes lambertian reflections.  This is obviously a deviation from reality, but I assume it's still possible to achieve a pretty accurate calculation of some sort depending on the situation.  (I know the person I'm having this discussion with is certainly convinced you can).  Therefore what I am more interested in, is knowing what type of calculation you really CAN'T do with radiosity (Viz or Lightscape) that you could do with Radiance.
			 
			 
			1) Venetian blinds: If you cannot subdivide surfaces like Venetian blinds into very small patches and override the automatic triangular subdivision (i.e., Lumen Designer), the calculation is meaningless. Exception: The new AGI32
			 
			2) Specular highlights are not considered in the hybrid raytracing method in AGI32, Lumen Designer and VIZ4. You might see a small reflection of a light source on a varnished oak floor. If you increase -ad to a large number, i.e., 5000 - 10,000, Radiance will consider the contribution of that specular highlight. The luminance of this highlight is typically very significant, even if the specular reflectance of the varnished floor is 1% or less. A sun beam reflected off that floor can create an additional 200 Lux on the ceiling in the specular direction, which the radiosity calculation  never catches. This error is very significant. 
			 
			3) You can combine Radiance plastic, metal and glass with the mirror material and turn any Radiance surface that has a slight or large specular component into a virtual light source. Again, the error is very significant in radiosity since those specuar reflections are ignored. 
			 
			4) The important underlying assumption in using radiosity is that building materials are mostly diffuse, and might only have a specularity of 0.1% or so. Assume even a very low specularity of 0.1%, times the luminance of the sun or an HID lamp reflected in that "matte" material. This is an extremely bright virtual light source, no matter if the material is black or white. That contribution cannot be ignored. If you have an aluminum ceiling, aluminum lightshelf and some blinds, radiosity cannot be used at all, since the specularity of most aluminum materials is 50% to 902%. 
			 
			 
			 
			 
			 
			 Like if I am trying to evaluate the performance of a light shelf, can I use a radiosity based engine to compare the differences from one light shelf of material A with the same light shelf made out of material B?  I mean if material A is matte white paint and ! material B is chrome, how could you compare the two scenarios if the software assumes lambertian reflections?
			 
			 
			Not at all. You would have to do it by hand and it would be much more accurate. The diffuse and specular reflectance of both materials is known, and all you need is Excel to calculate the specular and diffuse light transfer. Then add 15% indirect and you got it. 
			 


___________________________________________________________________

Electronic mail messages entering and leaving Arup business

systems are scanned for acceptability of content and viruses.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 8694 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040519/f761e497/attachment-0001.bin
From Giulio.Antonutto at arup.com  Wed May 19 19:35:18 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed May 19 19:35:22 2004
Subject: [Radiance-general] Radiance Vs Viz
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF4F8@l-gnts05>

sorry, I thought you where combining things with mixfunc...
good trick!
However what I wanted was to create holes on a surface that was acting like
a mirror but unfortunately for me you cannot use mixfunc with virtual
sources, is it?
cheers,
giulio
 
 

-----Original Message-----
From: Martin Moeck [mailto:radiance-general-bounces@radiance-online.org]On
Behalf Of Martin Moeck
Sent: 19 May 2004 18:27
To: Radiance general discussion
Subject: RE: [Radiance-general] Radiance Vs Viz


void plastic df
0 0 5
.2 .2 .2 .2 .01
 
void mirror floor
1 df
0
3 .2 .2 .2 
 
 
does it
 
Martin

-----Original Message----- 
From: Giulio Antonutto [mailto:Giulio.Antonutto@arup.com] 
Sent: Wed 5/19/2004 11:03 AM 
To: 'Radiance general discussion' 
Cc: 
Subject: RE: [Radiance-general] Radiance Vs Viz


"3) You can combine Radiance plastic, metal and glass with the mirror
material and turn any Radiance surface that has a slight or large specular
component into a virtual light source. Again, the error is very significant
in radiosity since those specuar reflections are ignored. "
 
unfortunately you cannot use mixfunc with virtual sources...
....I think that virtual sources nested into complex material descriptions
are simply ignored... but I could be wrong (any confirm about this?).
 
nevertheless radiance rules... always!
 
giulio
 

-----Original Message-----
From: Martin Moeck [mailto:MMoeck@engr.psu.edu]
Sent: 19 May 2004 15:56
To: Radiance general discussion
Subject: RE: [Radiance-general] Radiance Vs Viz


Hi Mark,
 
see below.
 
Martin Moeck

-----Original Message----- 
From: Mark de la Fuente [mailto:MdelaFuente@wmtao.com] 
Sent: Tue 5/18/2004 7:07 PM 
To: radiance-general@radiance-online.org 
Cc: 
Subject: [Radiance-general] Radiance Vs Viz

 
 
Even though we are specifically talking about Radiance Vs Lightscape & Viz,
I think this is in part more a comparison about radiosity Vs raytracing.
>From what I know, the big problem with radiosity is that it simplifies
things and assumes lambertian reflections.  This is obviously a deviation
from reality, but I assume it's still possible to achieve a pretty accurate
calculation of some sort depending on the situation.  (I know the person I'm
having this discussion with is certainly convinced you can).  Therefore what
I am more interested in, is knowing what type of calculation you really
CAN'T do with radiosity (Viz or Lightscape) that you could do with Radiance.
 
 
1) Venetian blinds: If you cannot subdivide surfaces like Venetian blinds
into very small patches and override the automatic triangular subdivision
(i.e., Lumen Designer), the calculation is meaningless. Exception: The new
AGI32
 
2) Specular highlights are not considered in the hybrid raytracing method in
AGI32, Lumen Designer and VIZ4. You might see a small reflection of a light
source on a varnished oak floor. If you increase -ad to a large number,
i.e., 5000 - 10,000, Radiance will consider the contribution of that
specular highlight. The luminance of this highlight is typically very
significant, even if the specular reflectance of the varnished floor is 1%
or less. A sun beam reflected off that floor can create an additional 200
Lux on the ceiling in the specular direction, which the radiosity
calculation  never catches. This error is very significant. 
 
3) You can combine Radiance plastic, metal and glass with the mirror
material and turn any Radiance surface that has a slight or large specular
component into a virtual light source. Again, the error is very significant
in radiosity since those specuar reflections are ignored. 
 
4) The important underlying assumption in using radiosity is that building
materials are mostly diffuse, and might only have a specularity of 0.1% or
so. Assume even a very low specularity of 0.1%, times the luminance of the
sun or an HID lamp reflected in that "matte" material. This is an extremely
bright virtual light source, no matter if the material is black or white.
That contribution cannot be ignored. If you have an aluminum ceiling,
aluminum lightshelf and some blinds, radiosity cannot be used at all, since
the specularity of most aluminum materials is 50% to 902%. 
 
 
 
 
 
 Like if I am trying to evaluate the performance of a light shelf, can I use
a radiosity based engine to compare the differences from one light shelf of
material A with the same light shelf made out of material B?  I mean if
material A is matte white paint and ! material B is chrome, how could you
compare the two scenarios if the software assumes lambertian reflections?
 
 
Not at all. You would have to do it by hand and it would be much more
accurate. The diffuse and specular reflectance of both materials is known,
and all you need is Excel to calculate the specular and diffuse light
transfer. Then add 15% indirect and you got it. 
 


___________________________________________________________________

Electronic mail messages entering and leaving Arup business

systems are scanned for acceptability of content and viruses.


___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040519/3453395f/attachment.html
From gward at lmi.net  Wed May 19 21:30:24 2004
From: gward at lmi.net (Greg Ward)
Date: Wed May 19 21:30:34 2004
Subject: [Radiance-general] Re: Radiance Vs Viz
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90FAF4F8@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F90FAF4F8@l-gnts05>
Message-ID: <F96E5D52-A9CA-11D8-9740-000A95BB392A@lmi.net>

Hi Pillo,

It wouldn't be exactly right, but you could make a pattern that created 
dark dots on your mirror in place of holes, then use as an alternate 
material a mixfunc with proper holes.  You'd get a holey reflection as 
well as the correct view of the object when you render it.

-Greg

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: May 19, 2004 10:35:18 AM PDT
> To: "'Radiance general discussion'" 
> <radiance-general@radiance-online.org>
>
sorry, I thought you where combining things with mixfunc...
good trick!
However what I wanted?was to create holes on a surface that was?acting 
like a mirror but unfortunately for me you cannot use mixfunc with 
virtual sources, is it?
cheers,
giulio
?

From nickd at xco2.com  Fri May 21 09:41:08 2004
From: nickd at xco2.com (Nick Devlin)
Date: Fri May 21 09:41:25 2004
Subject: [Radiance-general] conversion from Desktop Radiance to Radiance
Message-ID: <000201c43f06$fe565180$3268a8c0@nick>

Dear All, 
 
A quick question to help the uninitiated.!
 
I currently use desktop radiance, using Ecotect as my modeller and to
generate the all the relevant files etc. However, I as I learn more
about radiance, I find this process a touch limited, for example I want
to be able to use xglaresrc, which I understand is only available in
Radiance itself. I have this on my machine, running under Cygwin, but
have never used it before. 
 
So the question is, I really like Ecotect as the modeller, it is very
quick, good for adapting DXF's and is great for shadow animations and
the OpenGL visualisations are really effective, but I want to be able to
access some of the functionality of Radiance. Can I generate my scene
files in the DOS version and then use them under Cygwin, and if so, what
is the best way to go about this? In particular file extension names
etc. 
 
Can I use Desktop Rad for generating the .pic images and then perform
findglare, xglaresrc etc under cygwin? 
 
Many thanks in advance.
 
Nickd
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040521/998ceddd/attachment.htm
From kouichi_any at hotmail.com  Sun May 23 12:39:20 2004
From: kouichi_any at hotmail.com (=?iso-2022-jp?B?GyRCPi5OUxsoQiAbJEI5STBsGyhC?=)
Date: Sun May 23 12:39:33 2004
Subject: [Radiance-general] Sky and Solar efficacy
Message-ID: <BAY15-F301YmTemis7U000848c0@hotmail.com>

When I use Brightdata with measured data , I use this equation;

( sky and solar )radiance=  luminance/179 

solar luminance is calculated from  measured direct normal illuminance.
sky luminance is measured data.

Is this correct methods?
I think efficacy is not always 179.
But$B!!(Bit seems to be unified into 179 in the RADIANCE system.

And ,one more question.
When   accurate illuminance value in the room is required, should  I take 
both ground plane and ground dome into consideration? Or,ground plane 
around the model only?

Thank you



From jm at dmu.ac.uk  Mon May 24 10:38:12 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Mon May 24 10:38:25 2004
Subject: [Radiance-general] Sky and Solar efficacy
Message-ID: <E1BSAyK-0004lv-00@saturn.dmu.ac.uk>

Kouichi (?),

> When I use Brightdata with measured data , I use this equation;
> 
> ( sky and solar )radiance=  luminance/179 
> 
> solar luminance is calculated from  measured direct normal illuminance.
> sky luminance is measured data.
> 
> Is this correct methods?
> I think efficacy is not always 179.
> But!!it seems to be unified into 179 in the RADIANCE system.

The 179 lm/W value is Radiance's own 'internal' luminous efficacy.
It should not be confused with actual daylighting efficacies
which cover the range 50 to 150 lm/W (these are extremes, typical
values are around 100 to 120 lm/W).

> And ,one more question.
> When   accurate illuminance value in the room is required, should  I take 
> both ground plane and ground dome into consideration? Or,ground plane 
> around the model only?

A ground plane will usually be needed for high accuracy work.  This is
becuase a (correctly specified) ground glow cannot account for the shading
of the ground plane by the building (see Fig 6.8 in Rendering with Radiance).
No harm in having a ground glow as well as a ground plane.

Both of your questions are addressed (with examples given) in the
newly reprinted Rendering with Radiance book.  See earlier threads
for availability.

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From jan.wienold at ise.fraunhofer.de  Mon May 24 13:07:51 2004
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Mon May 24 13:08:01 2004
Subject: [Radiance-general] Sky and Solar efficacy
In-Reply-To: <E1BSAyK-0004lv-00@saturn.dmu.ac.uk>
References: <E1BSAyK-0004lv-00@saturn.dmu.ac.uk>
Message-ID: <40B1D787.5080008@ise.fraunhofer.de>

Hi all,

in my opinion it is a question of the used spectrum. RADIANCE itself 
calculates completely within the visible spectrum. So the internal luminous
 efficacy of 179 lm/W is from visible to visible spectrum.

The commonly used  luminous efficacy is from the full spectrum (as e.g. 
measured by a pyranometer) to the visible. This efficacy strongly depend 
on the actual sky state (Blue sky about 90 lm/W, overcast sky about 130 
lm/W).
If you use "gendaylit", the perez-sky luminous efficacy model is used to 
"transfer" full-spectrum data into the visible range and gives good 
results for the most sky situations.

Jan



John Mardaljevic wrote:

>Kouichi (?),
>
>  
>
>>When I use Brightdata with measured data , I use this equation;
>>
>>( sky and solar )radiance=  luminance/179 
>>
>>solar luminance is calculated from  measured direct normal illuminance.
>>sky luminance is measured data.
>>
>>Is this correct methods?
>>I think efficacy is not always 179.
>>But!!it seems to be unified into 179 in the RADIANCE system.
>>    
>>
>
>The 179 lm/W value is Radiance's own 'internal' luminous efficacy.
>It should not be confused with actual daylighting efficacies
>which cover the range 50 to 150 lm/W (these are extremes, typical
>values are around 100 to 120 lm/W).
>
>  
>
>>And ,one more question.
>>When   accurate illuminance value in the room is required, should  I take 
>>both ground plane and ground dome into consideration? Or,ground plane 
>>around the model only?
>>    
>>
>
>A ground plane will usually be needed for high accuracy work.  This is
>becuase a (correctly specified) ground glow cannot account for the shading
>of the ground plane by the building (see Fig 6.8 in Rendering with Radiance).
>No harm in having a ground glow as well as a ground plane.
>
>Both of your questions are addressed (with examples given) in the
>newly reprinted Rendering with Radiance book.  See earlier threads
>for availability.
>
>-John
>
>-----------------------------------------------
>Dr. John Mardaljevic                     
>Senior Research Fellow
>Institute of Energy and Sustainable Development
>De Montfort University
>The Gateway
>Leicester
>LE1 9BH, UK
>+44 (0) 116 257 7972   
>+44 (0) 116 257 7981 (fax)
>
>jm@dmu.ac.uk   
>http://www.iesd.dmu.ac.uk/~jm
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>  
>

-- 
-------------------------------------------------------------------
   o -           
  | \            Jan Wienold
                 Fraunhofer Institute for Solar Energy Systems
                 SOLAR BUILDING DESIGN GROUP - DAYLIGHTING
                 Heidenhofstr. 2 
                 79110 Freiburg
                 GERMANY
		 
		 In office: 
		 Mo, Tue: 9:00-18:00
		 We-Fr:  14:30-18:30
                 Phone: ++49 - (0) 761 - 4588 -5- 133
                 Fax:   ++49 - (0) 761 - 4588 -9- 133
                 Email: jan.wienold@ise.fraunhofer.de
                 
                 Internet:
                 http://www.ise.fraunhofer.de

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040524/f34c1171/attachment.html
From kouichi_any at hotmail.com  Mon May 24 15:58:30 2004
From: kouichi_any at hotmail.com (Kobayashi Kouichi)
Date: Mon May 24 15:58:38 2004
Subject: [Radiance-general] Sky and Solar efficacy
Message-ID: <BAY15-F9uBeZVo2d3gw0000a1b3@hotmail.com>

I'm Kouichi.
I'm sorry that the mail was not correctly$B!!(Bdisplayed. 
 
>Both of your questions are addressed (with examples given) in the
>newly reprinted Rendering with Radiance book.  See earlier threads
>for availability.

Oh, that's great.
I am just going to wait to send the book now!

Regards,

Kouichi Kobayashi
Tokyo University of Science



From MdelaFuente at wmtao.com  Wed May 26 02:12:57 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Wed May 26 02:13:32 2004
Subject: [Radiance-general] Posting
Message-ID: <s0b39acd.086@wmtao.com>

What is the trick for nesting posts?  I always have to start a new post
in order to reply since my e-mail won't let me hyperlink due to network
paranoia.
 
Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040525/617e5b31/attachment.htm
From MdelaFuente at wmtao.com  Wed May 26 02:14:17 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Wed May 26 02:15:01 2004
Subject: [Radiance-general] Raiance Vs Radiosity
Message-ID: <s0b39b29.089@wmtao.com>

Hi Martin.
 
Hope things are going well at PSU!
 
What is the exception with the new AGI32?  I was under the impression
it was also a radiosity based program and hence would have the same
limitations as any other radiosity based program.
 
Mark
 
 
Hi Mark,
 
see below.
 
Martin Moeck

 
1) Venetian blinds: If you cannot subdivide surfaces like Venetian
blinds into very small patches and override the automatic triangular
subdivision (i.e., Lumen Designer), the calculation is meaningless.
Exception: The new AGI32
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040525/ec8eb478/attachment.html
From MdelaFuente at wmtao.com  Wed May 26 02:16:09 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Wed May 26 02:17:01 2004
Subject: [Radiance-general] Radiance Vs Radiosity
Message-ID: <s0b39ba2.090@wmtao.com>

Rob, Could not agree more.  I think people put quite a bit of stock in a
well rendered image and the arguments can get blurred.  Especially when
you are talking about something as subjective as lighting as a whole. 
Are you after accurate results for research purposes, close enough
results, convincing pictures, etc?  I know we have some very impressive
images here in our office that were developed with the latest
Lightscape/Viz that look (and were developed to look) identical to the
photos they were extrapolated from.  And the associated false color
images actually gain a certain amount of credibility based simply on how
"real" the renderings look.  Which as you pointed out has nothing to do
with the accuracy of the calculation result since the ray-traced part
does not affect the numerical results!  ;)
 
Mark
 
 
 
I think some confusion stems from the fact that Lightscape & Viz have a

ray-tracing capability that you can apply, as a post-process.  When you

apply that to a Lightscape/Viz model, the specular reflections are 
*rendered*, but not *calculated*.  So you have a rendering that looks 
somewhat accurate, but at that point that's all you have.  You cannot 
derive quantitative luminance/illuminance information from the image at

that point.  That data always comes from the radiosity-calculated 
model, and that's fundamentally flawed because of the lack of specular

reflections (and in Lightscape's case, no diffuse transmissions 
either).

=================
    Rob Guglielmetti
www.rumblestrip.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040525/b5ad5d02/attachment.htm
From MdelaFuente at wmtao.com  Wed May 26 02:18:19 2004
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Wed May 26 02:18:41 2004
Subject: [Radiance-general] Radiance Vs Radiosity
Message-ID: <s0b39bfe.091@wmtao.com>

I read through the pab-opto comparisons (thanks Peter!).  Looked pretty
good.  Too bad Viz had not incorporated Lightscape at the time.  Not
sure what AutoDesk's plans are, but I think Viz is already more powerful
than Lightscape in all but a couple of areas.  Had a couple of questions
though that came up after reading the comparison...  They are kind of
general radiance questions. 
Are ambient files really independent of the viewfile?  Somewhere in
Rendering with Radiance (where it talks about ambient files) I had the
impression different views required different ambient files, and thus I
stopped using ambient files the way other people seem to and started
using view dependent ambient files.  Meaning I would use one ambient
file per view regardless of the fact that scene was the same.  If this
is not right, and one file will work for any view, someone please let me
know.  I noticed Rob Guglielmetti also "generates multiple fisheye views
for ambient cache, prior to running calcs".  (Sounds like ambient files
are not view dependent).
 
Another question that came up was regarding ambient bounces.  On pages
29-31, "Typical" ambient bounces are 3-7, and then various calculation
times are shown for ab=0 (.135 hours), ab=1 (.431 hours), ab=7 (24
hours).  How in the world does one accomplish ab=7 in only 24 hours on a
~400MHz computer?  Wow!..  I was blown away considering I've been
running some ab=2 simulations on a 2.66GHz computer and taking 24 hours
each.  Were all the other values minimized (except for ad=16,000?). 
Well it's got me thinking about being more careful about how parameters
are assigned.
 
Then, something I always thought was a hole missing from Radiance, and
perhaps is really just a limitation in my own radiance knowledge is
this.  All other lighting programs that I am aware of allow you to place
calculation grids, run calcs, and then display the grid point results in
relation to the calculation model (though most can't do false color
images).  Most programs will even export the results to DXF for
incorporation into CAD programs.  It seems rshow can do some of this?
 
And last but not least, what is the trick on page 55?  Replicating
image maps in a way that their pattern does not become repetitive.  Are
we talking about making sure the edges match-up and that the image is
generally uniform?
 
Well thanks for responding to my original post.
 
Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040525/1fe346ca/attachment.html
From grobe at gmx.net  Wed May 26 22:00:25 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed May 26 21:59:28 2004
Subject: [Radiance-general] Radiance Vs Radiosity
In-Reply-To: <s0b39bfe.091@wmtao.com>
Message-ID: <540EE6A0-AF4F-11D8-82EB-000A959DDB22@gmx.net>

> Are ambient files really independent of the viewfile??

No, not really ;-) They are, hmm... "populated" depending on the view, 
as the samples depend on the view. But if you change the view, the 
prior samples should still be valid (as long as you didn't change the 
scene). So the samples can be reused for different views.

As I understand the panoramic picture ambient file topic, the idea is 
to get the ambient file "full" before starting the actual rendering. 
This is just the same idea that is behind the "initial ambient file" 
trick, where people render the images in low resolution first, so that 
the ambient file collects ambient data during a fast rendering, and 
with that, the final rendering is started. You can get some problems if 
you start the final rendering with an empty ambient file, as the 
changes in the beginning can show up in the image.

However, there should never be a reason not to re-use the ambient file 
in an unchanged scene and with unchanged ambient parameters (right?)!

CU Lars.

Lars O. Grobe
grobe@gmx.net

From rpg at rumblestrip.org  Thu May 27 00:37:46 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu May 27 00:37:53 2004
Subject: [Radiance-general] Radiance Vs Radiosity
In-Reply-To: <s0b39ba2.090@wmtao.com>
References: <s0b39ba2.090@wmtao.com>
Message-ID: <4F0FBDEA-AF65-11D8-9C89-000393824274@rumblestrip.org>


On May 25, 2004, at 8:16 PM, Mark de la Fuente wrote:

> Rob, Could not agree more.? I think people put quite a bit?of?stock in 
> a well rendered image and the arguments can get?blurred.? Especially 
> when you are talking about something as subjective as lighting as a 
> whole.? Are you after accurate results for research purposes, close 
> enough?results, convincing pictures, etc??

The problem with convincing pictures is that a lot of clients don't 
have the eye to spot the con jobs.  People are easily fooled by a slick 
image that looks nice, but the image can easily be telling a false 
story.  You mention the subjectivity of lighting, and now I couldn't 
agree with you more; this is one of the things that fascinates me about 
Radiance, is that the Radiance image format is so much more than a 
picture -- it's a rich dataset.  And the Radiance toolkit includes all 
these other great tools to extract that data and manipulate it, in ways 
that tell an honest story.  pcond obviously comes to mind here.

> I know we have some very impressive images here in our office that 
> were developed with the latest Lightscape/Viz that look (and were 
> developed to look) identical to the photos they were extrapolated 
> from.? And the associated false color images?actually gain a certain 
> amount of credibility?based simply on how "real" the renderings look.? 
> Which as you pointed out has nothing to do with the accuracy of the 
> calculation result since the ray-traced part does not affect the 
> numerical results!? ;)

Right!  It's funny, I've been doing this for quite a while now (first 
with Lumen Micro & AGI, then Lightscape, and now Radiance) and I have a 
pretty boring collection of images.  But my images (and data) tell a 
richer story than the pretty pictures, to me and my colleagues.  There 
are a few gifted people on this list who have mastered Radiance to the 
point that they can produce physically accurate AND pretty pictures, 
and I guess the rest of us settle for accuracy over slick glamour.  All 
of us are using these tools to pursue the elusive goal of simulating 
reality, and to me that's just incredibly cool.  I'm intrigued by the 
slick renderings coming out of the top visualization firms, and more 
impressed every day.  But it's not what I want to do.  I want to 
produce renderings that are tools.  I wish the industry as a whole 
recognized the value of them more than they do.

=================
    Rob Guglielmetti
www.rumblestrip.org


From rpg at rumblestrip.org  Thu May 27 00:54:46 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu May 27 00:54:52 2004
Subject: [Radiance-general] Radiance Vs Radiosity
In-Reply-To: <s0b39bfe.091@wmtao.com>
References: <s0b39bfe.091@wmtao.com>
Message-ID: <AF2410B4-AF67-11D8-9C89-000393824274@rumblestrip.org>


On May 25, 2004, at 8:18 PM, Mark de la Fuente wrote:
> Are ambient files really independent of the viewfile?? Somewhere in 
> Rendering with Radiance (where it talks about ambient files) I had the 
> impression different views required different ambient files, and thus 
> I stopped using ambient files the way other people seem to and started 
> using view dependent ambient files.? Meaning I would use one ambient 
> file per view regardless of the fact that scene was the same.? If this 
> is not right,?and one file will?work for any view,?someone please let 
> me know.? I noticed?Rob Guglielmetti?also "generates multiple fisheye 
> views?for ambient cache, prior to running calcs".??(Sounds like 
> ambient files are not view dependent).

Yes, ambient files are definitely independent of the view.  As long as 
the scene does not change (materials, lights, sky conditions, TOD), you 
can use the same ambient file to assist thousands of image files.  
Animations are where the reuse of computational time that ambient files 
allow really benefit, I think.

Yeah, I was doing that multiple fisheye thing for one project, but Greg 
later straightened me out.  That was not entirely necessary, because I 
was then using rtrace to calculate values at specific points, and that 
was the main goal, opposed to renderings.  That overture calc business 
is more helpful for renderings, I think.  But the fisheye views *were* 
still helpful for troubleshooting purposes.

> ..? I was blown away considering I've been running some ab=2 
> simulations on a 2.66GHz computer and taking 24 hours each.??Were all 
> the other values minimized (except for ad=16,000?).? Well it's got me 
> thinking about being more careful about how parameters are assigned.

Understatement of the year.  Mastering Radiance is all about learning 
the nuances of parameterization, learning how to trade speed for 
accuracy.  The good ones can gain accuracy without sacrificing speed.  
I'm not a good one. I still rely on brute force quite a bit.  =8-)

> Then, something I always thought was a?hole missing from Radiance, and 
> perhaps is really just a limitation in my own radiance knowledge is 
> this.? All other lighting programs that I am aware of allow you to 
> place calculation grids, run calcs, and then display the grid point 
> results in relation to the calculation model (though most can't 
> do?false color images).? Most programs will even export the results to 
> DXF for incorporation into CAD programs.? It seems rshow can do some 
> of this?

Agreed, it's a missing link.  There are a few examples of using the cnt 
utility to create a grid, but it's not point and click.  rshow is 
supposed to have this functionality but I have not been able to compile 
that on my machines yet.  Certainly anyone with programming savvy could 
rwite something to place the calculated values (derived from rtrace and 
a supplied, cnt-generated grid of points) on a Radiance image, but it 
would have to be written.  That PAB paper sums it up the best, 
something about Radiance's greatest strength is also its greatest 
hindrance.  The open, unix toolbox approach to the suite allows for 
incredible flexibility, but you gotta roll up your sleeves and build 
the tools yourself.

> ?
> And last but not least, what is the trick on?page 55?? Replicating 
> image maps?in a way that their pattern does not become repetitive.? 
> Are we talking about making sure the edges match-up and that the image 
> is generally uniform?

Page 55 of the PAB paper?  If I understand you correctly, I think 
you're referring to the comparison Peter makes between function files 
and image maps.  His point is that image maps, tiled all over the 
place, will inevitably suffer from a detectable "edge-repeat" at some 
scale, whereas function files are mathematical representations of 
surface normal/color variations and are therefore less susceptible to 
this effect.

=================
    Rob Guglielmetti
www.rumblestrip.org


From defunkt at pobox.com  Thu May 27 12:55:15 2004
From: defunkt at pobox.com (=?ISO-8859-1?Q?Iv=E1n_Pajares_S=E1nchez?=)
Date: Thu May 27 12:55:45 2004
Subject: [Radiance-general] Material mapping and interreflection calculation
Message-ID: <40B5C913.4080306@pobox.com>

Hi list,

I have an idea I don't really now 1. If it is feasible 2. If it is, how 
to apply it...
Allow me to explain:

When it comes to mapping material colors or photograph and textures to a 
3D geometry funny things start to happen in certain situations, i.e. a 
noise pattern used to simulate a fabric will create ambient rays with 
different colors & intensities depending on the point in the map where 
they bounce. For accurate illuminance measuring, though, we could get 
away with the mean reflection / trasmisivity of the surface (as long as 
the scale of the perturbation is not big enough), so: is there a way to 
tell RADIANCE to use those mean values for the interreflection 
calculation and after that just stick the map & texture on the surface 
for 'slickness' purposes only?
I know one can play with sample interpolation, but still in certain 
situations big color variations happen. Does this make any sense to any 
of you?

Thanks,

Ivan Pajares

From Giulio.Antonutto at arup.com  Thu May 27 13:12:24 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu May 27 13:13:10 2004
Subject: [Radiance-general] Material mapping and interreflection calcu
	lation
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF53B@l-gnts05>

I think carsten may tell something about... 
check his paper at the 1st radiance international workshop:
http://www.radiance-online.org/radiance-workshop1/cd/Bauer/index.html


cheers,
giulio


PS carsten, what about PF?  ?8?)


-----Original Message-----
From: Iv?n Pajares S?nchez [mailto:defunkt@pobox.com]
Sent: 27 May 2004 11:55
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Material mapping and interreflection
calculation


Hi list,

I have an idea I don't really now 1. If it is feasible 2. If it is, how 
to apply it...
Allow me to explain:

When it comes to mapping material colors or photograph and textures to a 
3D geometry funny things start to happen in certain situations, i.e. a 
noise pattern used to simulate a fabric will create ambient rays with 
different colors & intensities depending on the point in the map where 
they bounce. For accurate illuminance measuring, though, we could get 
away with the mean reflection / trasmisivity of the surface (as long as 
the scale of the perturbation is not big enough), so: is there a way to 
tell RADIANCE to use those mean values for the interreflection 
calculation and after that just stick the map & texture on the surface 
for 'slickness' purposes only?
I know one can play with sample interpolation, but still in certain 
situations big color variations happen. Does this make any sense to any 
of you?

Thanks,

Ivan Pajares

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From mstock at umich.edu  Thu May 27 17:25:40 2004
From: mstock at umich.edu (Mark Stock)
Date: Thu May 27 17:25:47 2004
Subject: [Radiance-general] rpict can recover, can rpiece?
Message-ID: <Pine.SOL.4.58.0405271113370.23627@rygar.gpcc.itd.umich.edu>

I am rendering a medium piece (8k x 8k) using rpiece on a
cluster of Opteron processors, and I have used "rpiece -F"
to create the sync file and start 4 processes. I even used
"rpiece -R" to restart the job once. (Thanks to Giulio
Antonutto for helping me get started.)

Anyways, there are two parts of the 64 subdivisions of the
image that are giving me trouble. I invoke them piece-at-a-
time:

% more argsN
-X 8 -Y 8 -t 600 @vp11 @opts -x 8000 -y 8000 -o img13.pic scene.oct

% echo 2 0 | rpiece @argsN
rpict: warning - no light sources found
FRAME 1: -vta -vp 1.3 -1.8 1.1 -vd -0.524211 0.708567 -0.472373
-vu 0 0 1 -vh 5.45455 -vv 5.45455 -vo 0 -va 0 -vs -1.5 -vl -3.5
rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on str2
rpict: consistency - bad ray direction in inithemi
rpiece: read error from rpict
Command exited with non-zero status 1

I understand the "no light sources" error: I illuminate with
the sky dome only. It's the "bad ray direction" that is causing
me problems.

Now, I had previously seen this error when I rendered a smaller
version with rpict. I simply re-ran rpict with the "-ro" recover-
overwrite option. But it seems that the "rpiece -R" recover
option restarts any incomplete subsections instead of continuing
where rpict left off. So, every time I try to patch the missing
pieces, I get the same error at (presumably) the same place.

So, can rpiece recover in a pixel-wise sense like rpict, or,
how can I find out what command sequence (including rpict and
not rpiece) can render those bad patches and put them in the
final image.

Or, is there any rpiece option that will ignore the "bad ray
direction" error, or mitigate its effects?

Thank you.

Mark

From gward at lmi.net  Thu May 27 18:32:09 2004
From: gward at lmi.net (Greg Ward)
Date: Thu May 27 18:32:26 2004
Subject: [Radiance-general] rpict can recover, can rpiece?
In-Reply-To: <Pine.SOL.4.58.0405271113370.23627@rygar.gpcc.itd.umich.edu>
References: <Pine.SOL.4.58.0405271113370.23627@rygar.gpcc.itd.umich.edu>
Message-ID: <6680ACDF-AFFB-11D8-84CC-000A95BB392A@lmi.net>

Hi Mark,

The "bad ray direction" is a serious error, caused either by a 
miscompiled binary or a corrupted ambient file.  Assuming it's the 
latter, you should try deleting (or renaming) your ambient file before 
attempting recovery.  A corrupted ambient file is usually the result of 
a faulty NFS lock manager.  See previous posts on this topic.

-Greg

> From: Mark Stock <mstock@umich.edu>
> Date: May 27, 2004 8:25:40 AM PDT
>
> I am rendering a medium piece (8k x 8k) using rpiece on a
> cluster of Opteron processors, and I have used "rpiece -F"
> to create the sync file and start 4 processes. I even used
> "rpiece -R" to restart the job once. (Thanks to Giulio
> Antonutto for helping me get started.)
>
> Anyways, there are two parts of the 64 subdivisions of the
> image that are giving me trouble. I invoke them piece-at-a-
> time:
>
> % more argsN
> -X 8 -Y 8 -t 600 @vp11 @opts -x 8000 -y 8000 -o img13.pic scene.oct
>
> % echo 2 0 | rpiece @argsN
> rpict: warning - no light sources found
> FRAME 1: -vta -vp 1.3 -1.8 1.1 -vd -0.524211 0.708567 -0.472373
> -vu 0 0 1 -vh 5.45455 -vv 5.45455 -vo 0 -va 0 -vs -1.5 -vl -3.5
> rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on str2
> rpict: consistency - bad ray direction in inithemi
> rpiece: read error from rpict
> Command exited with non-zero status 1
>
> I understand the "no light sources" error: I illuminate with
> the sky dome only. It's the "bad ray direction" that is causing
> me problems.
>
> Now, I had previously seen this error when I rendered a smaller
> version with rpict. I simply re-ran rpict with the "-ro" recover-
> overwrite option. But it seems that the "rpiece -R" recover
> option restarts any incomplete subsections instead of continuing
> where rpict left off. So, every time I try to patch the missing
> pieces, I get the same error at (presumably) the same place.
>
> So, can rpiece recover in a pixel-wise sense like rpict, or,
> how can I find out what command sequence (including rpict and
> not rpiece) can render those bad patches and put them in the
> final image.
>
> Or, is there any rpiece option that will ignore the "bad ray
> direction" error, or mitigate its effects?
>
> Thank you.
>
> Mark


From toast at becausewecan.org  Thu May 27 18:54:22 2004
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Thu May 27 18:54:36 2004
Subject: [Radiance-general] Strange Glowing Buildings... Ack.
In-Reply-To: <Pine.SOL.4.58.0405271113370.23627@rygar.gpcc.itd.umich.edu>
References: <Pine.SOL.4.58.0405271113370.23627@rygar.gpcc.itd.umich.edu>
Message-ID: <40B61D3E.0@becausewecan.org>


Hello all,

	I'm having a problem with my buildings I'm exporting out of Revit, 
and am trying to figure out where the problem is coming from. I'm 
hoping someone out there can help me out a little with this issue, for 
I don't understand enough about Radiance to really know why this is 
happening, and can only guess at why.

	Just for the record, if I make a model from scratch using textfiles I 
don't have any of these problems. Additionally, the problem crops up 
whether I'm using Radiance on Cygwin, OS X, or Mandrake Linux, so it's 
obviously something I'm doing or a problem with the models coming out 
of Revit.

	My problem is the fact that my buildings all appear as if they are 
'glowing'. Things like the site, and any Radiance-created objects or 
instances render correctly, however the buildings, especial the large 
flat surfaces such as walls and such, almost appear to be glowing 
because they seem to be bouncing so much light off of them, almost as 
if they are made of perfect white gypsum in broad daylight.

	The material definitions for the walls aren't set too high, the 
colors are typically .8 or .7 for the RGB values, and the roughness is 
usually set to .15 or so- both values that don't seem too far off. 
Also the Exposure for the scene tends to be about right for other 
Exterior Radiance scenes and the sun is a simple Gensky straight from 
the first tutorial file. Yet however the building will be bouncing 
almost twice the light off of it of anything else in the scene!

	The way I get my models from Revit to Radiance might be the key to 
why the models are behaving the way they are. I export the models to a 
DWG file that I then bring into AutoCAD and then use RADOUT to produce 
the models. However there are issues with this, for RADOUT or TORAD 
don't work quite right in the latest version of AutoCAD that I'm 
using. I've tried to use dxf2rad, but it always seems to choke on the 
models. They are very large, very complex, and have many surfaces. So 
I'm wondering if that's the root of my problem; is something in the 
export process possibly causing this?

Thanks for your time,

Jeffrey McGrew

From mstock at umich.edu  Thu May 27 18:57:16 2004
From: mstock at umich.edu (Mark Stock)
Date: Thu May 27 18:57:20 2004
Subject: [Radiance-general] rpict can recover, can rpiece?
In-Reply-To: <6680ACDF-AFFB-11D8-84CC-000A95BB392A@lmi.net>
References: <Pine.SOL.4.58.0405271113370.23627@rygar.gpcc.itd.umich.edu>
	<6680ACDF-AFFB-11D8-84CC-000A95BB392A@lmi.net>
Message-ID: <Pine.SOL.4.58.0405271241530.23627@rygar.gpcc.itd.umich.edu>

Thanks for your quick reply, Greg. I have more information
that may help our understanding.

The other options that the rendering used are

-ps 1 -ab 2 -aa 0 -ad 8 -as 0 -dj 0.7 -st 0.05

so I'm guessing it's not the ambient file. It is possible that
with all of the compiler optimizations that I used, I cut one
too many corners.

But how does this explain the fact that I could always
"rpict -ro" and it would continue where it left off, creating
a fine image in the end?

Is there some way to find out what compile-time options
I used? Is there a file in ray/src that contains that
information?

Also, I seem to be unable to search the radiance-online
archives for a whole phrase. How is this done?

Mark

On Thu, 27 May 2004, Greg Ward wrote:
>
> The "bad ray direction" is a serious error, caused either by a
> miscompiled binary or a corrupted ambient file.  Assuming it's the
> latter, you should try deleting (or renaming) your ambient file before
> attempting recovery.  A corrupted ambient file is usually the result of
> a faulty NFS lock manager.  See previous posts on this topic.
>
> -Greg
>
> > From: Mark Stock <mstock@umich.edu>
> > Date: May 27, 2004 8:25:40 AM PDT
> >
> > I am rendering a medium piece (8k x 8k) using rpiece on a
> > cluster of Opteron processors, and I have used "rpiece -F"
> > to create the sync file and start 4 processes. I even used
> > "rpiece -R" to restart the job once. (Thanks to Giulio
> > Antonutto for helping me get started.)
> >
> > Anyways, there are two parts of the 64 subdivisions of the
> > image that are giving me trouble. I invoke them piece-at-a-
> > time:
> >
> > % more argsN
> > -X 8 -Y 8 -t 600 @vp11 @opts -x 8000 -y 8000 -o img13.pic scene.oct
> >
> > % echo 2 0 | rpiece @argsN
> > rpict: warning - no light sources found
> > FRAME 1: -vta -vp 1.3 -1.8 1.1 -vd -0.524211 0.708567 -0.472373
> > -vu 0 0 1 -vh 5.45455 -vv 5.45455 -vo 0 -va 0 -vs -1.5 -vl -3.5
> > rpict: 0 rays, 0.00% after 0.000u 0.000s 0.000r hours on str2
> > rpict: consistency - bad ray direction in inithemi
> > rpiece: read error from rpict
> > Command exited with non-zero status 1
> >
> > I understand the "no light sources" error: I illuminate with
> > the sky dome only. It's the "bad ray direction" that is causing
> > me problems.
> >
> > Now, I had previously seen this error when I rendered a smaller
> > version with rpict. I simply re-ran rpict with the "-ro" recover-
> > overwrite option. But it seems that the "rpiece -R" recover
> > option restarts any incomplete subsections instead of continuing
> > where rpict left off. So, every time I try to patch the missing
> > pieces, I get the same error at (presumably) the same place.
> >
> > So, can rpiece recover in a pixel-wise sense like rpict, or,
> > how can I find out what command sequence (including rpict and
> > not rpiece) can render those bad patches and put them in the
> > final image.
> >
> > Or, is there any rpiece option that will ignore the "bad ray
> > direction" error, or mitigate its effects?
> >
> > Thank you.
> >
> > Mark
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

From Rob.Fitzsimmons at Summit.Fiserv.com  Thu May 27 19:52:15 2004
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Thu May 27 19:52:59 2004
Subject: [Radiance-general] Strange Glowing Buildings... Ack.
Message-ID: <7B2F6EA5E35E214882CB9828962BC3CF04D694E2@corvallis>

Do you have a website where you can post an image? Maybe the normals are
flipped?
I've been having perhaps a similar problem - I do most of my modeling in
Infini-D Mac
I've modeled a buffet and there is a strange glow behind it -where it should
more of a shadow 
http://rastermon.com/Rad/Dining.htm
In the QTVR, look at the buffet (where the candelabra  and bowl are). I
never could find out why it had that light area where it meets the wall.
Also - the spaces between the drawers seem to glow.

Rob F

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
To: Radiance general discussion
Sent: 5/27/2004 9:54 AM
Subject: [Radiance-general] Strange Glowing Buildings... Ack.


Hello all,

	I'm having a problem with my buildings I'm exporting out of
Revit, 
and am trying to figure out where the problem is coming from. I'm 
hoping someone out there can help me out a little with this issue, for 
I don't understand enough about Radiance to really know why this is 
happening, and can only guess at why.

	Just for the record, if I make a model from scratch using
textfiles I 
don't have any of these problems. Additionally, the problem crops up 
whether I'm using Radiance on Cygwin, OS X, or Mandrake Linux, so it's 
obviously something I'm doing or a problem with the models coming out 
of Revit.

	My problem is the fact that my buildings all appear as if they
are 
'glowing'. Things like the site, and any Radiance-created objects or 
instances render correctly, however the buildings, especial the large 
flat surfaces such as walls and such, almost appear to be glowing 
because they seem to be bouncing so much light off of them, almost as 
if they are made of perfect white gypsum in broad daylight.

	The material definitions for the walls aren't set too high, the 
colors are typically .8 or .7 for the RGB values, and the roughness is 
usually set to .15 or so- both values that don't seem too far off. 
Also the Exposure for the scene tends to be about right for other 
Exterior Radiance scenes and the sun is a simple Gensky straight from 
the first tutorial file. Yet however the building will be bouncing 
almost twice the light off of it of anything else in the scene!

	The way I get my models from Revit to Radiance might be the key
to 
why the models are behaving the way they are. I export the models to a 
DWG file that I then bring into AutoCAD and then use RADOUT to produce 
the models. However there are issues with this, for RADOUT or TORAD 
don't work quite right in the latest version of AutoCAD that I'm 
using. I've tried to use dxf2rad, but it always seems to choke on the 
models. They are very large, very complex, and have many surfaces. So 
I'm wondering if that's the root of my problem; is something in the 
export process possibly causing this?

Thanks for your time,

Jeffrey McGrew

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040527/e4befa8e/attachment-0001.htm
From anthony.farrell at dit.ie  Thu May 27 20:06:27 2004
From: anthony.farrell at dit.ie (Anthony J. Farrell)
Date: Thu May 27 20:04:53 2004
Subject: [Radiance-general] PMAP simulation
Message-ID: <OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>

Hi Folks,

I have successfully modelled a 'lightpipe' on the Desktop radiance software
2.0 but the results are pretty dull since it is just a backward ray tracer.

Can anyone tell me how I may model this on the photon mapping version. I
have successfully installed pmap version onto my linux. Do I simply copy all
the windows generated files (*.rad; *.oct; *.rif; etc.) to linux environment
and run the pmap software...what is the run command line if I want to simply
revisual the exact same illuminance simulation that I had done with the
Desktop version?

Much appreciate any contributions.

Thanks.

Anthony


-- 
This message has been scanned for content and 
viruses by the DIT Information Services MailScanner 
Service, and is believed to be clean.
http://www.dit.ie


From jan.wienold at ise.fraunhofer.de  Thu May 27 21:03:45 2004
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Thu May 27 20:52:20 2004
Subject: [Radiance-general] PMAP simulation
In-Reply-To: <OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>
References: <OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>
Message-ID: <40B63B91.5030207@ise.fraunhofer.de>

Hi Anthony,

first of all, I think it's a good idea to read the documentation (which 
is part of the distribution) to have an idea what pmap does. Within that 
documentation all parameters are explained.

The quick instruction is:

0. You can use the standard radiance description (except user defined 
BRDFs). ->rad and oct

1. To distribute photon and store them in files (global and caustic 
photons separately)
e.g.
~/bin/radiance/pmap/mkpmap  -apg f81_z.gp 700000 -apc f81_z.cp 700000 
test.oct
700000 is the number of the photos emitted, gp : global photons, cp 
caustic photons

2. Count the photons, make a density estimate  and generate a picture 
with the modified rpict:

~/bin/radiance/pmap/rpict -apg f81_z.gp 500 -apc f81_z.cp 500  -ab 1 -x 
1200 -y 1200 -vf test.vf -o test.pic  test.oct

Similar to the existing rpict, with additional options to read in the 
photon files. You can use most of the rpict options of the 
standard-rpict. Of course, the ambient options don't make really sense 
since the ambient calculation is replaced by the forward raytracer.
In many cases, the use of the photon port mechanism is extremely useful. 
With photon ports you can define materials, through which the light 
enters the scene. A typical example is an office scene, which is lit by 
the sky. Using this, you can avoid huge effort, since the photons are 
distributed mostly in "relevant" directions. In your case it could make 
sense to define the entering cross section as "photon port". You can use 
e.g. glass material with refraction index 1 (==air!!) without disturbing 
the simulation.

Good luck!

Jan


Anthony J. Farrell wrote:

>Hi Folks,
>
>I have successfully modelled a 'lightpipe' on the Desktop radiance software
>2.0 but the results are pretty dull since it is just a backward ray tracer.
>
>Can anyone tell me how I may model this on the photon mapping version. I
>have successfully installed pmap version onto my linux. Do I simply copy all
>the windows generated files (*.rad; *.oct; *.rif; etc.) to linux environment
>and run the pmap software...what is the run command line if I want to simply
>revisual the exact same illuminance simulation that I had done with the
>Desktop version?
>
>Much appreciate any contributions.
>
>Thanks.
>
>Anthony
>
>
>  
>


From gward at lmi.net  Thu May 27 22:07:53 2004
From: gward at lmi.net (Greg Ward)
Date: Thu May 27 22:08:07 2004
Subject: [Radiance-general] Re: Strange Glowing Buildings... Ack.
In-Reply-To: <7B2F6EA5E35E214882CB9828962BC3CF04D694E2@corvallis>
References: <7B2F6EA5E35E214882CB9828962BC3CF04D694E2@corvallis>
Message-ID: <89431FBC-B019-11D8-B82E-000A95BB392A@lmi.net>

Hi Jeffrey,

It sounds to me like you may have your ambient value (-av) set too 
high, or else you have ambient weighting switched on inappropriately.  
Try alternately setting -aw 0 and -av 0 0 0.

-Greg

> From: "Fitzsimmons, Rob" <Rob.Fitzsimmons@Summit.Fiserv.com>
> Date: May 27, 2004 10:52:15 AM PDT
>
Do you have a website where you can post an image? Maybe the normals 
are flipped?
I've been having perhaps a similar problem - I do most of my modeling 
in Infini-D Mac
I've modeled a buffet and there is a strange glow behind it -where it 
should more of a shadow
http://rastermon.com/Rad/Dining.htm
In the QTVR, look at the buffet (where the candelabra? and bowl are). I 
never could find out why it had that light area where it meets the 
wall. Also - the spaces between the drawers seem to glow.

Rob F

-----Original Message-----

Hello all,

??????? I'm having a problem with my buildings I'm exporting out of
Revit,
and am trying to figure out where the problem is coming from. I'm
hoping someone out there can help me out a little with this issue, for
I don't understand enough about Radiance to really know why this is
happening, and can only guess at why.

??????? Just for the record, if I make a model from scratch using
textfiles I
don't have any of these problems. Additionally, the problem crops up
whether I'm using Radiance on Cygwin, OS X, or Mandrake Linux, so it's
obviously something I'm doing or a problem with the models coming out
of Revit.

??????? My problem is the fact that my buildings all appear as if they
are
'glowing'. Things like the site, and any Radiance-created objects or
instances render correctly, however the buildings, especial the large
flat surfaces such as walls and such, almost appear to be glowing
because they seem to be bouncing so much light off of them, almost as
if they are made of perfect white gypsum in broad daylight.

??????? The material definitions for the walls aren't set too high, the
colors are typically .8 or .7 for the RGB values, and the roughness is
usually set to .15 or so- both values that don't seem too far off.
Also the Exposure for the scene tends to be about right for other
Exterior Radiance scenes and the sun is a simple Gensky straight from
the first tutorial file. Yet however the building will be bouncing
almost twice the light off of it of anything else in the scene!

??????? The way I get my models from Revit to Radiance might be the key
to
why the models are behaving the way they are. I export the models to a
DWG file that I then bring into AutoCAD and then use RADOUT to produce
the models. However there are issues with this, for RADOUT or TORAD
don't work quite right in the latest version of AutoCAD that I'm
using. I've tried to use dxf2rad, but it always seems to choke on the
models. They are very large, very complex, and have many surfaces. So
I'm wondering if that's the root of my problem; is something in the
export process possibly causing this?

Thanks for your time,

Jeffrey McGrew


From gward at lmi.net  Thu May 27 22:37:41 2004
From: gward at lmi.net (Greg Ward)
Date: Thu May 27 22:37:56 2004
Subject: [Radiance-general] rpict can recover, can rpiece?
In-Reply-To: <Pine.SOL.4.58.0405271241530.23627@rygar.gpcc.itd.umich.edu>
References: <Pine.SOL.4.58.0405271113370.23627@rygar.gpcc.itd.umich.edu>
	<6680ACDF-AFFB-11D8-84CC-000A95BB392A@lmi.net>
	<Pine.SOL.4.58.0405271241530.23627@rygar.gpcc.itd.umich.edu>
Message-ID: <B373C257-B01D-11D8-B82E-000A95BB392A@lmi.net>

Hi Mark,

Yeah, I had similar problems with the gcc optimizer when I tried it.  
If you used makeall to set the options rather than doing it by hand on 
the command line, you should be able to find your settings in the 
"rmake" script that gets put in your Radiance executables directory.  
 From my experiments under OS X at least, I couldn't approach your 
benchmark speeds without simultaneously introducing some nefarious bug 
in the renderer.  I spent some time on it, but gave up trying to figure 
out where the calculations had gone south.  From what I've seen with 
gcc problems in the past, they can be incredibly subtle.  (At one 
point, the optimizer was giving incorrect arithmetic results inside a 
simple loop -- 2+2 = 5 and that sort of nonsense.)

I can't explain why rpict would be able to recover using the -ro option 
where rpiece cannot.  When code doesn't compile right, it's anybody's 
guess as to what's going on.

I also don't know how to search the archives for phrases -- maybe Peter 
A-B or someone familiar with our system could help with that one?

-Greg

> From: Mark Stock <mstock@umich.edu>
> Date: May 27, 2004 9:57:16 AM PDT
>
> Thanks for your quick reply, Greg. I have more information
> that may help our understanding.
>
> The other options that the rendering used are
>
> -ps 1 -ab 2 -aa 0 -ad 8 -as 0 -dj 0.7 -st 0.05
>
> so I'm guessing it's not the ambient file. It is possible that
> with all of the compiler optimizations that I used, I cut one
> too many corners.
>
> But how does this explain the fact that I could always
> "rpict -ro" and it would continue where it left off, creating
> a fine image in the end?
>
> Is there some way to find out what compile-time options
> I used? Is there a file in ray/src that contains that
> information?
>
> Also, I seem to be unable to search the radiance-online
> archives for a whole phrase. How is this done?
>
> Mark


From schorsch at schorsch.com  Fri May 28 00:59:20 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Fri May 28 00:59:25 2004
Subject: [Radiance-general] Strange Glowing Buildings... Ack.
In-Reply-To: <40B61D3E.0@becausewecan.org>
References: <Pine.SOL.4.58.0405271113370.23627@rygar.gpcc.itd.umich.edu>
	<40B61D3E.0@becausewecan.org>
Message-ID: <Pine.BSF.4.58.0405271832290.17074@emancholl.pair.com>

Jeffrey McGrew wrote:

> 	Just for the record, if I make a model from scratch using textfiles I
> don't have any of these problems. Additionally, the problem crops up
> whether I'm using Radiance on Cygwin, OS X, or Mandrake Linux, so it's
> obviously something I'm doing or a problem with the models coming out
> of Revit.

It might still have something to do with the different
complexity of the two models. Maybe a simple hand crafted scene
will just not show the effects you're observing, because there
is not enough context there to notice the difference.


> 	My problem is the fact that my buildings all appear as if they are
> 'glowing'. Things like the site, and any Radiance-created objects or
> instances render correctly, however the buildings, especial the large
> flat surfaces such as walls and such, almost appear to be glowing
> because they seem to be bouncing so much light off of them, almost as
> if they are made of perfect white gypsum in broad daylight.
>
> 	The material definitions for the walls aren't set too high, the
> colors are typically .8 or .7 for the RGB values,

Most likely, this is *way* to high.

A freshly painted white interior wall typically has 0.7 0.7 0.7.
There are very few materials in existence with 0.8 0.8 0.8.
An exterior white wall will hardly ever have more than 0.5 0.5 0.5.

Remember that our eye has a logarithmic response curve. What
you perceive as "half as bright" actually has about 10% of the
luminance compared to the "twice as bright" reference. Doubling
the luminance of a surface will make the difference just about
visually noticeable, and only if both luminances are seen next to
each other. If I remember correctly, the standard "medium grey"
reference card used by photographers for calibrating their camera
measurements has a reflectance of 18 %.



>  Yet however the building will be bouncing
> almost twice the light off of it of anything else in the scene!

That shouldn't surprise you anymore now...


> 	The way I get my models from Revit to Radiance might be the key to
> why the models are behaving the way they are. I export the models to a
> DWG file that I then bring into AutoCAD and then use RADOUT to produce
> the models.

Radout knows nothing about materials, so this is irrelevant.


> However there are issues with this, for RADOUT or TORAD
> don't work quite right in the latest version of AutoCAD that I'm
> using. I've tried to use dxf2rad, but it always seems to choke on the
> models. They are very large, very complex, and have many surfaces. So
> I'm wondering if that's the root of my problem;

No, that's an entirely independent set of problems (which I'm
working to solve anyway, of course).


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From schorsch at schorsch.com  Fri May 28 02:47:14 2004
From: schorsch at schorsch.com (Georg Mischler)
Date: Fri May 28 02:47:20 2004
Subject: [Radiance-general] Posting
In-Reply-To: <s0b39acd.086@wmtao.com>
References: <s0b39acd.086@wmtao.com>
Message-ID: <Pine.BSF.4.58.0405252031590.83307@emancholl.pair.com>

Mark de la Fuente wrote:

> What is the trick for nesting posts?  I always have to start a new post
> in order to reply since my e-mail won't let me hyperlink due to network
> paranoia.

The nesting of threads in the archive is based in the "Message-ID"
headers in each message. Standards conforming mail systems always
preserve this header, and a reply will have an "In-Reply-To"
header referencing the message ID of the original.

Novell GroupWise fails to preserve/add those headers.
To solve the problem, simply use a decent mail system. Either by
switching to an external service, or by convincing your employer
to dump GroupWise.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From jm at dmu.ac.uk  Fri May 28 11:14:15 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri May 28 11:14:27 2004
Subject: [Radiance-general] Related (maybe) to "Strange Glowing Buildings"
Message-ID: <E1BTdRP-0001n4-00@saturn.dmu.ac.uk>

There may be an effect in addition to those already noted.

> Just for the record, if I make a model from scratch using
> textfiles I don't have any of these problems. Additionally, the
> problem crops up whether I'm using Radiance on Cygwin, OS X,
> or Mandrake Linux, so it's obviously something I'm doing or 
> a problem with the models coming out of Revit.

There have been a number of instances when I've been provided
with CAD models (usually in 3DS format) containing perturbed
surface normals.  The perturbation applied in the CAD models
is, in my experience, always a cosmetic hack.  For example, to
give variation in shading across a flat facade - here the
building was a tall block with a square cross-section but the
surface normals were perturbed as if it was a cylinder.
These perturbations are preserved in the conversion from
3DS -> mgf -> rad and may go un-noticed in later renderings.
At least I didn't notice them at first.  They are more likely
to reveal themselves in illumination/irradiation images. 

Might they also bamboozle the ambient interpolation algorithms (Greg?).  

The offending polygons may appear something like this in the rad file:

mat0 texfunc T-nor
4 dx dy dz tmesh.cal
0
10	1
   -0.00645062     0.00858814   -51.95344592
    0.00910556    -0.00762344    42.56315834
    0.01317944    -0.01247687    71.46587731

T-nor polygon Obj_000001.t1
0
0
9
         6483.0762         -6394.1626           725.7263
         6463.3491         -6344.1626           681.5585
         6502.5605         -6394.1626           699.0936

I strip them out using scripts.  Intrestingly, the people who
generated the CAD didn't seem to be aware that they were introducing
these perturbations.  Perhaps it happens when they select some
shading option in 3DStudio (or similar).

Any one else encountered these?

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From ganjatron at gmx.net  Fri May 28 14:36:37 2004
From: ganjatron at gmx.net (Roland Schregle)
Date: Fri May 28 14:39:58 2004
Subject: [Radiance-general] PMAP simulation
In-Reply-To: <40B63B91.5030207@ise.fraunhofer.de>
References: <OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>
	<40B63B91.5030207@ise.fraunhofer.de>
Message-ID: <40B73255.1030807@gmx.net>

Jan Wienold wrote:

> 1. To distribute photon and store them in files (global and caustic photons separately) 
 > e.g.
> ~/bin/radiance/pmap/mkpmap  -apg f81_z.gp 700000 -apc f81_z.cp 700000  test.oct
> 700000 is the number of the photos emitted, gp : global photons, cp caustic photons

Actually, it's the number of *stored* photons, which is what the user 
really wants. The resultant number of emitted photons is usually much 
larger.

>  Of course, the ambient options don't make really sense
> since the ambient calculation is replaced by the forward raytracer.

They do to some degree: the RADIANCE pmap uses a final gather, which 
means *one* ambient bounce is performed (if -ab > 0, regardless of 
actual value), with pmap lookups resulting for each sample ray. 
Consequently, the -ad, -ar, -aa params are still valid. They are *not* 
used for caustics, however.

> In many cases, the use of the photon port mechanism is extremely useful. 
> With photon ports you can define materials, through which the light 
> enters the scene. A typical example is an office scene, which is lit by 
> the sky. Using this, you can avoid huge effort, since the photons are 
> distributed mostly in "relevant" directions. In your case it could make 
> sense to define the entering cross section as "photon port". You can use 
> e.g. glass material with refraction index 1 (==air!!) without disturbing 
> the simulation.

Photon ports are a must for light pipes, unless you stick a light source 
right in front of the aperture (which would be a fake). An invisible 
port can simply be declared with antimatter -- see the lightpipe scene 
in the example tarball on the pmap page (URL below).

> Good luck!

Ditto! :^)

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From jm at dmu.ac.uk  Fri May 28 14:53:59 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri May 28 14:54:15 2004
Subject: [Radiance-general] PS to Related (maybe) to "Strange Glowing
	Buildings"
Message-ID: <E1BTgs3-0002G8-00@saturn.dmu.ac.uk>

> I strip them out using scripts.

I meant, of course, that I strip out the texfunc part - not the polygon!

-JM


From barbara.matusiak at ark.ntnu.no  Fri May 28 15:24:40 2004
From: barbara.matusiak at ark.ntnu.no (Barbara Matusiak)
Date: Fri May 28 15:17:52 2004
Subject: [Radiance-general] conversion of digital pictures to Radiance?
In-Reply-To: <40B73255.1030807@gmx.net>
References: <40B63B91.5030207@ise.fraunhofer.de>
	<OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>
	<40B63B91.5030207@ise.fraunhofer.de>
Message-ID: <5.2.1.1.2.20040528150010.01f20278@pop.ansatt.ntnu.no>

Hi,

I wonder if it is possible to convert pictures taken by digital camera to 
Radiance format? And if yes, how it could be done? The Radiance format 
enables reading of luminance values directly from the pictures, something 
that could be very usefull in the project I plan to start soon.

Much appreciate any contribution.

Barbara.


From jm at dmu.ac.uk  Fri May 28 16:32:26 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri May 28 16:32:36 2004
Subject: [Radiance-general] conversion of digital pictures to Radiance?
Message-ID: <E1BTiPK-0002UB-00@saturn.dmu.ac.uk>

Barbara,

Check out the pages on HDR imaging by Axel Jacob:

http://luminance.londonmet.ac.uk/webhdr/

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From rpg at rumblestrip.org  Fri May 28 16:38:01 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri May 28 16:37:45 2004
Subject: [Radiance-general] conversion of digital pictures to Radiance?
In-Reply-To: <5.2.1.1.2.20040528150010.01f20278@pop.ansatt.ntnu.no>
References: <40B63B91.5030207@ise.fraunhofer.de>	<OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>	<40B63B91.5030207@ise.fraunhofer.de>
	<5.2.1.1.2.20040528150010.01f20278@pop.ansatt.ntnu.no>
Message-ID: <40B74EC9.4010809@rumblestrip.org>

Barbara Matusiak wrote:

> I wonder if it is possible to convert pictures taken by digital camera 
> to Radiance format? And if yes, how it could be done? The Radiance 
> format enables reading of luminance values directly from the pictures, 
> something that could be very usefull in the project I plan to start soon.

Yes, but only if you shoot the images in a specific manner and convert 
them to high dynamic range (HDR) format first.  A single image does not 
contain the dynamic range necessary for what you want to do.  But for 
typical scenes, if you simply bracket your exposure (using aperture, not 
changing shutter speed) by two F stops in each direction, you can use 
utilities like Debevec's HDR Shop or Greg Ward's Photosphere (or his 
command-line hdrgen) to merge those into an HDR image with the full 
dynamic range.  You can then use Radiance tools like falsecolor (and 
even pcond) to extract real luminance information from a photograph.

We use a Canon Digital Rebel here in my office to create these image 
sequences.  The autobracket function of the camera is very useful for 
this.  Many "prosumer" cameras have this feature, but you must make sure 
the camera will separate the images by two f-stops.  Of course you can 
do it manually too, but then you usually need a tripod to keep 
everything in registration.  You also need to "go manual" to capture 
scenes of really high dynamic range, using more images to capture the 
full range.

I've been meaning to place some samples on my website, but haven't had 
time.  But these resources are better anyway:

http://www.anyhere.com/
http://www.debevec.org/HDRShop/

HDR photography is extremely cool.  You can even use HDR images as light 
sources for Radiance scenes!  Santiago Torres of this list has done 
quite a bit of work in that.  Search the radiance-general archives for 
details.  Have fun!

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From gward at lmi.net  Fri May 28 16:45:42 2004
From: gward at lmi.net (Greg Ward)
Date: Fri May 28 16:46:04 2004
Subject: [Radiance-general] conversion of digital pictures to Radiance?
In-Reply-To: <E1BTiPK-0002UB-00@saturn.dmu.ac.uk>
References: <E1BTiPK-0002UB-00@saturn.dmu.ac.uk>
Message-ID: <B1F92B00-B0B5-11D8-8CA5-000A95BB392A@lmi.net>

Hi Barbara,

Mentioned on Axel Jacob's webpage 
(http://luminance.londonmet.ac.uk/webhdr/ as noted by Dr. M) is my 
application called Photosphere that enables one to manage and assemble 
HDR images from multiple exposures.  To facilitate camera-based 
photometric work, I have recently added a calibration feature to obtain 
more accurate absolute luminances from the resulting HDR images.  
Photosphere currently works only under Mac OS X, though I've been 
searching around for someone with sufficient talent and free time to 
port it to Windoze.  Photosphere (and the command-line version 
"hdrgen") may be found at my personal website:

	http://www.anyhere.com/

Output to Radiance as well as LogLuv and floating-point TIFF, and now 
OpenEXR formats are supported.  If you want some examples of HDR 
images, check out Erik Reinhard's website as well:

	http://www.cs.utah.edu/~reinhard/cdrom/hdr.html

I have a whole slew of HDR images I've created with Photosphere, but 
have not found a place to put them on the web as yet.

-Greg

P.S.  Say "hej" to Oyvind for me!

> From: Barbara Matusiak <barbara.matusiak@ark.ntnu.no>
> Date: May 28, 2004 6:24:40 AM PDT
>
> Hi,
>
> I wonder if it is possible to convert pictures taken by digital camera 
> to Radiance format? And if yes, how it could be done? The Radiance 
> format enables reading of luminance values directly from the pictures, 
> something that could be very usefull in the project I plan to start 
> soon.
>
> Much appreciate any contribution.
>
> Barbara.


From gward at lmi.net  Fri May 28 16:54:35 2004
From: gward at lmi.net (Greg Ward)
Date: Fri May 28 16:54:57 2004
Subject: [Radiance-general] conversion of digital pictures to Radiance?
In-Reply-To: <40B74EC9.4010809@rumblestrip.org>
References: <40B63B91.5030207@ise.fraunhofer.de>	<OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>	<40B63B91.5030207@ise.fraunhofer.de>
	<5.2.1.1.2.20040528150010.01f20278@pop.ansatt.ntnu.no>
	<40B74EC9.4010809@rumblestrip.org>
Message-ID: <EF693916-B0B6-11D8-8CA5-000A95BB392A@lmi.net>

A minor correction to Rob's note -- you should actually fix the f-stop 
and vary only the shutter speed in your exposures, not the other way 
around.  The reason for this is that f-stops are not very reliable or 
repeatable on most cameras, but shutter speed is reasonably sure.  Here 
is an excerpt from the quickstart_pf.txt file that comes with 
Photosphere:

To create a high dynamic-range image, you need to start with
a set of "bracketed" exposures of a static scene.  It is best if
you take a series of 10 or so exposures of an interior scene looking
out a window and containing some large, smooth gradients both inside
and outside, to determine the camera's natural response function.
Be sure to fix the camera white balance so it doesn't change, and
use aperture-priority or manual exposure mode to ensure that only
the speed is changing from one exposure to the next.  For calibration,
you should place your camera on a tripod.  Take your exposure series
starting from the longest shutter time and working to the shortest in
one-stop increments.  Make sure the longest exposure is not all white
and the darkest exposure is not all black.  Once you have created your
image series, load it into Photosphere directly -- DO NOT PROCESS THE
IMAGES WITH PHOTOSHOP or any other program.  Select the thumbnails,
then go to the "File -> Make HDR..." menu.  Check the box that says
"Save New Response", and click "OK".  The HDR building process
should take a few minutes, and Photosphere will record the computed
response function for your camera into its preferences file, which
will save time and the risk of error in subsequent HDR images.
You will also have the option of setting an absolute calibration
for the camera if you have a measured luminance value in the scene.
This option is provided by the "Apply" button submenu when the
measured area is selected in the image.  (Click and drag to select.)
Once an HDR image has been computed, it is stored as a temporary
file in 96-bit floating-point TIFF format.  This file is quite
large, but the data will only be saved in this format if you
select maximum quality and save as TIFF.  Otherwise, the 32-bit
LogLuv TIFF format will be preferred (or the 24-bit LogLuv format
if you set quality to minimum).  You also have the option of saving
to the more common Radiance file format (a.k.a.  HDR format), or
ILM's 48-bit OpenEXR format.  If you choose not to save the
image in high dynamic-range, the tone-mapped display image can be
written out as a 24-bit TIFF or JPEG image.

-Greg


From rpg at rumblestrip.org  Fri May 28 17:00:41 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri May 28 17:00:16 2004
Subject: [Radiance-general] conversion of digital pictures to Radiance?
In-Reply-To: <EF693916-B0B6-11D8-8CA5-000A95BB392A@lmi.net>
References: <40B63B91.5030207@ise.fraunhofer.de>	<OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>	<40B63B91.5030207@ise.fraunhofer.de>
	<5.2.1.1.2.20040528150010.01f20278@pop.ansatt.ntnu.no>
	<40B74EC9.4010809@rumblestrip.org>
	<EF693916-B0B6-11D8-8CA5-000A95BB392A@lmi.net>
Message-ID: <40B75419.1020700@rumblestrip.org>

Greg Ward wrote:

> A minor correction to Rob's note -- you should actually fix the f-stop 
> and vary only the shutter speed in your exposures, not the other way 
> around. 

Oops, that's what I meant.  I hereby solemnly swear to never again post 
anything to the Radiance list without first having had a cup of coffee.

Aperture priority, baby!

-RPG

From gward at lmi.net  Fri May 28 17:32:50 2004
From: gward at lmi.net (Greg Ward)
Date: Fri May 28 17:33:06 2004
Subject: [Radiance-general] Re: Related (maybe) to "Strange Glowing
	Buildings"
In-Reply-To: <E1BTdRP-0001n4-00@saturn.dmu.ac.uk>
References: <E1BTdRP-0001n4-00@saturn.dmu.ac.uk>
Message-ID: <4772E198-B0BC-11D8-8CA5-000A95BB392A@lmi.net>

Surface normals are definitely a hack, but a worthwhile one in many  
cases.  Radiance does it's level best to deal with perturbed normals in  
the ambient calculation and elsewhere.  Results aren't always perfect,  
but hey -- it's Radiance, not Renderman!

To remove surface normal interpolation from a .OBJ file (converted with  
obj2rad), apply the -f option.  To eliminate them from 3DS files when  
you used 3ds2mgf, you can use the little-known mgfilt program after  
3ds2mgf and before mgf2rad (there really should be a -f option added to  
mgf2rad, I suppose).  Here's an example:

	3ds2mgf building.3ds
	mgfilt  
'#,c,cct,cone,cmix,cspec,cxy,cyl,ed,f,ies,ir,m,o,p,prism,rd,ring,rs,side 
s,sph,td,torus,ts,v,xf,fh' building.mgf | mgf2rad > building.rad

A nasty command just to remove surface normals, but it beats writing a  
script (for most people).

-Greg


From cbauer- at t-online.de  Fri May 28 21:48:00 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Fri May 28 20:40:29 2004
Subject: [Radiance-general] PMAP simulation
References: <OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>	<40B63B91.5030207@ise.fraunhofer.de>
	<40B73255.1030807@gmx.net>
Message-ID: <40B79770.103@t-online.de>

Roland Schregle wrote:

> Actually, it's the number of *stored* photons, which is what the user 
> really wants

Yeah, Roland, give us what we really want :-) (-: !

-cb




From ganjatron at gmx.net  Sat May 29 12:22:00 2004
From: ganjatron at gmx.net (Roland Schregle)
Date: Sat May 29 12:25:16 2004
Subject: [Radiance-general] PMAP simulation
In-Reply-To: <40B73255.1030807@gmx.net>
References: <OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>	<40B63B91.5030207@ise.fraunhofer.de>
	<40B73255.1030807@gmx.net>
Message-ID: <40B86448.7050902@gmx.net>

Roland Schregle wrote:
> Jan Wienold wrote:

>> ~/bin/radiance/pmap/mkpmap  -apg f81_z.gp 700000 -apc f81_z.cp 700000  test.oct
>> 700000 is the number of the photos emitted, gp : global photons, cp caustic photons
> 
> Actually, it's the number of *stored* photons, which is what the user really wants. 

I might add that this is the *approximate* number of stored photons, 
since it's impossible to accurately predict the required number of 
emitted photons. Typically you'll get within +/- 10% of your spec.

And Carsten, what *do* you really want? :^)


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From ganjatron at gmx.net  Sat May 29 12:46:17 2004
From: ganjatron at gmx.net (Roland Schregle)
Date: Sat May 29 12:49:36 2004
Subject: [Radiance-general] conversion of digital pictures to Radiance?
In-Reply-To: <EF693916-B0B6-11D8-8CA5-000A95BB392A@lmi.net>
References: <40B63B91.5030207@ise.fraunhofer.de>	<OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>	<40B63B91.5030207@ise.fraunhofer.de>	<5.2.1.1.2.20040528150010.01f20278@pop.ansatt.ntnu.no>	<40B74EC9.4010809@rumblestrip.org>
	<EF693916-B0B6-11D8-8CA5-000A95BB392A@lmi.net>
Message-ID: <40B869F9.7090708@gmx.net>

Greg Ward wrote:
> A minor correction to Rob's note -- you should actually fix the f-stop 
> and vary only the shutter speed in your exposures, not the other way 
> around.  The reason for this is that f-stops are not very reliable or 
> repeatable on most cameras, but shutter speed is reasonably sure.  Here 
> is an excerpt from the quickstart_pf.txt file that comes with Photosphere:

Another more fundamental reason is that f-stops affect depth of field 
and therefore the effect of focusing errors and lens aberrations. If you 
vary the aperture, your images may not be consisent in focus, 
particularly in near field photography. This course assumes the digicam 
implement f-stops traditionally with an actual diaphragm. If it simply 
modulates the CCD gain (as I believe most El Cheapo digicams tend to do) 
this is all moot anyway.


-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From cbauer- at t-online.de  Sun May 30 19:01:16 2004
From: cbauer- at t-online.de (Carsten Bauer)
Date: Sun May 30 17:53:41 2004
Subject: [Radiance-general] PMAP simulation
References: <OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>	<40B63B91.5030207@ise.fraunhofer.de>	<40B73255.1030807@gmx.net>
	<40B86448.7050902@gmx.net>
Message-ID: <40BA135C.3000800@t-online.de>

Roland Schregle wrote:
> Roland Schregle wrote:


> And Carsten, what *do* you really want? :^)

Money!  ... and <beep> ! and more money .. and much more <beep> !

back to business: the number of photons is both straightforward and not 
very helpful at the same time (anyway, it is more intuitive than many 
other Radiance parameters). But what do e.g. 471100 photons really mean 
in terms of accuracy or even image appearance? (my personal rule of 
thumb is: never start with less than a million photons to get anything 
good-looking :-))

But I don't have a better idea, either, and concerning the lack of 
intuitivity, the photon-map in fact fits perfectly into the rest of the
Radiance-parametermania :-) (viewed from a non-scientists point of view)

Additionally, the photon-map currently is not adaptive, distributing and
gathering are strictly separated. So controlling pmap 'form the output
end of the line', i.e. the image, is not possible now. For comparison, 
in the ambient case addtional samples (the supersamples) are produced 
if the calculation doesn't meet a given accuracy criterion.(OK, this 
accuracy criterion is again rather obscure ...)
And I know, I know, I know of course similar adaptive behaviour would be
far more complex in the pmap case. Maybe one would even end in something 
like the metropolis stuff ...

-cb





From apian at pab-opto.de  Mon May 31 10:19:42 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Mon May 31 10:22:22 2004
Subject: [Radiance-general] Radiance Vs Radiosity / texturing
In-Reply-To: <s0b39bfe.091@wmtao.com>
References: <s0b39bfe.091@wmtao.com>
Message-ID: <40BAEA9E.4050207@pab-opto.de>

Mark de la Fuente wrote:

> ....
>  And last but not least, what is the trick on page 55?  Replicating 
> image maps in a way that their pattern does not become repetitive.  
> Are we talking about making sure the edges match-up and that the image 
> is generally uniform?

 Yes, the second example had low frequencies removed from the image to 
be tiled. Radiance's "normpat" script does this within the Radiance 
framework, as do other image processing packages (e.g. "gimp").  
Efficient texturing is also helped by blending the texture to some 
downsampled texture or uniform color if the observer is too far away to 
resolve the fine texture. (note to devs: That brings up the request for 
the angle-per-pixel issue again. Not to mention mip-mapping built into 
Radiance's texturing, and therefor crossposted to the dev list.)
-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From apian at pab-opto.de  Mon May 31 09:32:52 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Mon May 31 10:22:27 2004
Subject: [Radiance-general] Radiance Vs Radiosity
In-Reply-To: <AF2410B4-AF67-11D8-9C89-000393824274@rumblestrip.org>
References: <s0b39bfe.091@wmtao.com>
	<AF2410B4-AF67-11D8-9C89-000393824274@rumblestrip.org>
Message-ID: <40BADFA4.50607@pab-opto.de>

Rob Guglielmetti wrote:

> ...
>
>> Then, something I always thought was a hole missing from Radiance, 
>> and perhaps is really just a limitation in my own radiance knowledge 
>> is this.  All other lighting programs that I am aware of allow you to 
>> place calculation grids, run calcs, and then display the grid point 
>> results in relation to the calculation model (though most can't 
>> do false color images).  Most programs will even export the results 
>> to DXF for incorporation into CAD programs.  It seems rshow can do 
>> some of this?
>
>
> Agreed, it's a missing link.  There are a few examples of using the 
> cnt utility to create a grid, but it's not point and click.  rshow is 
> supposed to have this functionality but I have not been able to 
> compile that on my machines yet.  Certainly anyone with programming 
> savvy could rwite something to place the calculated values (derived 
> from rtrace and a supplied, cnt-generated grid of points) on a 
> Radiance image, but it would have to be written.  That PAB paper sums 
> it up the best, something about Radiance's greatest strength is also 
> its greatest hindrance.  The open, unix toolbox approach to the suite 
> allows for incredible flexibility, but you gotta roll up your sleeves 
> and build the tools yourself.

rshow offered (offers, once I finally get the new version sorted out) a 
display of 2D grid values together with the 3D Radiance scenery. It also 
generates such a grid inside a planar surface which is defined by an 
offset from a Radiance polygon.  There's no export to CAD format, as 
rshow is intended to be a visualization tool and tries hard to stay away 
from any CAD feature.
-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From ganjatron at gmx.net  Mon May 31 15:28:01 2004
From: ganjatron at gmx.net (Roland Schregle)
Date: Mon May 31 15:31:20 2004
Subject: [Radiance-general] PMAP simulation
In-Reply-To: <40BA135C.3000800@t-online.de>
References: <OJEGILOIGGNAEAODNHIIOEBPCDAA.anthony.farrell@dit.ie>	<40B63B91.5030207@ise.fraunhofer.de>	<40B73255.1030807@gmx.net>	<40B86448.7050902@gmx.net>
	<40BA135C.3000800@t-online.de>
Message-ID: <40BB32E1.8070808@gmx.net>

Carsten Bauer wrote:
> Roland Schregle wrote:

>> And Carsten, what *do* you really want? :^)
> 
> Money!  ... and <beep> ! and more money .. and much more <beep> !

Well, I always appreciate frankness. :^)

> back to business: the number of photons is both straightforward and not 
> very helpful at the same time (anyway, it is more intuitive than many 
> other Radiance parameters). But what do e.g. 471100 photons really mean 
> in terms of accuracy or even image appearance?

Nothing -- they're just numbers. That'd be like interpreting the 
semantics of a knitting pattern. At least that's my conclusion after 
dabbling with it for 5 years. :^)

But seriously... there *is* an optimum photon count / bandwidth 
combination, but currently it's still a matter of trial and error. Bias 
compensation is a workaround, albeit a slow one, and not entirely devoid 
of artifacts.

> Additionally, the photon-map currently is not adaptive, distributing and
> gathering are strictly separated. So controlling pmap 'form the output
> end of the line', i.e. the image, is not possible now. 

You're probably suggesting something along the lines of Suykens' density 
control mechanism, which evaluates a local error metric during 
distribution. Of course that requires importance info, which is totally 
lacking in the current pmap implementation, and would require *major* 
revision. With the bare essentials you oh so subtly mentioned above 
(don't forget fame, fortune, learjet, mansion in Malibu, royal suite in 
Dubai's Burj Al Arab, weekends with starlets, stable of Ferraris, 
basement full of Crays, blah blah blah) not in the offing, I'm not 
inclined to invest the significant time and shove this functionality 
into the code. (Like I said, I appreciate frankness.)

Of course, *you're* welcome to try, seeing as you've already delved in 
the code. :^)

-- 
Roland Schregle
PhD candidate, Fraunhofer Institute for Solar Energy Systems
RADIANCE Photon Map page: www.ise.fhg.de/radiance/photon-map

END OF LINE. (MCP)


From leslie.o.everett at verizon.net  Mon May 31 18:36:43 2004
From: leslie.o.everett at verizon.net (Leslie Everett)
Date: Mon May 31 18:36:57 2004
Subject: [Radiance-general] vi: fatal - missing octree argument
Message-ID: <B378BBA6-B320-11D8-9B8A-000A95C55C0C@verizon.net>

Hi,

I recently installed Radiance 3.5 on my Powerbook G4 running Mac OS X. 
I think the install may have broken Vim 6.2. When I type "vi" or "vim" 
I get this error message:

vi: fatal - missing octree argument

writing: which vi

/usr/bin/vi

writing: /usr/bin/vi --version

/usr/bin/vi : fatal - command line error at ' -- version'

writing: "vi foo"

vi - system - cannot open octree file 'foo": no such file or diretory

I've checked:

/usr/share/vim/vimrc
/usr/share/vim/vim62/syntax/viminfo.vim
/usr/bin/vi

Radiance works fine, I can render scenes, but I can't use vi. I spoke 
to the creator of vim, he thinks Radiance has installed a program that 
has replaced vi. Can anyone suggest a change I can make to fix this 
problem? Is this a problem anyone has seen or heard before?
Thanks in advance,

- Leslie


From gward at lmi.net  Mon May 31 18:40:57 2004
From: gward at lmi.net (Greg Ward)
Date: Mon May 31 18:41:18 2004
Subject: [Radiance-general] vi: fatal - missing octree argument
In-Reply-To: <B378BBA6-B320-11D8-9B8A-000A95C55C0C@verizon.net>
References: <B378BBA6-B320-11D8-9B8A-000A95C55C0C@verizon.net>
Message-ID: <4AB955CD-B321-11D8-8C6F-000A95BB392A@lmi.net>

Hi Leslie,

The last official release of Radiance installs the interactive viewer, 
"rview," which is named the same as a symbolic link to "vim".  If you 
chose as your executable directory /usr/bin, where vim lives, you may 
have overwritten the original vim executable by mistake.  This is why 
it's a good idea to use /usr/local/bin or some special directory for 
Radiance executables.  (The default is "/usr/local/bin" in the makeall 
installation script.)

In the HEAD version and the next release, we have renamed "rview" to 
"rvu" to avoid this conflict in the future.

You will need to retrieve the "vim" executable from backup to get it 
back -- sorry!

-Greg

> From: Leslie Everett <leslie.o.everett@verizon.net>
> Date: May 31, 2004 9:36:43 AM PDT
>
> Hi,
>
> I recently installed Radiance 3.5 on my Powerbook G4 running Mac OS X. 
> I think the install may have broken Vim 6.2. When I type "vi" or "vim" 
> I get this error message:
>
> vi: fatal - missing octree argument
>
> writing: which vi
>
> /usr/bin/vi
>
> writing: /usr/bin/vi --version
>
> /usr/bin/vi : fatal - command line error at ' -- version'
>
> writing: "vi foo"
>
> vi - system - cannot open octree file 'foo": no such file or diretory
>
> I've checked:
>
> /usr/share/vim/vimrc
> /usr/share/vim/vim62/syntax/viminfo.vim
> /usr/bin/vi
>
> Radiance works fine, I can render scenes, but I can't use vi. I spoke 
> to the creator of vim, he thinks Radiance has installed a program that 
> has replaced vi. Can anyone suggest a change I can make to fix this 
> problem? Is this a problem anyone has seen or heard before?
> Thanks in advance,
>
> - Leslie


