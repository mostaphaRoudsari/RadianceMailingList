From jm at dmu.ac.uk  Wed Sep  1 15:30:55 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed Sep  1 15:31:05 2004
Subject: [Radiance-general] UK Radiance Course - final call
Message-ID: <E1C2VCR-0005HG-00@saturn.dmu.ac.uk>

There are places available for the UK Radiance Users
Course 20-21 September 2004.

Following on from the success of the 2003 Users Course,
the IESD are running a repeat this September. Intended for
researchers and practitioners, it will be led by Dr. John
Mardaljevic (author of the Daylight Simulation chapter of
the Radiance book) and take place at De Montfort University,
Leicester, UK.

NOTE - The UK Course is not to be confused with the
THIRD ANNUAL RADIANCE WORKSHOP (Firbourg, October 2004):
http://www.eif.ch/~compag/rw2004/

UK Course Schedule
---------------

Day 1.
(am)    Primer - A swift overview of Radiance.
(pm)    Introduction to the ambient calculation.

Day 2.
(am)    Mastering the ambient calculation + scripting.
(pm)    Problem solving session.

The emphasis will be on understanding the key algorithms
in Radiance and how they are best used to solve practical
daylighting problems.  The UNIX version of Radiance
will be used for all demonstrations.  Users of PC versions will
still benefit however from a better understanding of general
techniques and problem-solving approaches.  Hands-on sessions
will be kept to a minimum because they invariably impede the
progress of courses.  

We intend the Course to be mixture of tutorial and responsive
problem solving.  So, please bring questions and/or examples
of problems that you have struggled with.  There is scope to
use some of your actual Radiance models in the demonstrations.
For this, you will need to contact me in advance of the
Course and email the 3D model in Radiance format together with
a brief description of the problem/scenario.  I will include
those example models that best illustrate a particular Radiance
feature or problem solving technique.

We also hope to offer presentations on Radiance-related
software, e.g. SketchUp.

Cost will be about ?350 (+VAT) for the two days.
Expect it to be quite intense, but also rewarding.

For accomodation details:
http://www.iesd.dmu.ac.uk/~jm/2004RadianceCourse/

For contact details and updates:
http://www.iesd.dmu.ac.uk/~jm/

Please email jm@dmu.ac.uk asap to reserve a place.

-John Mardaljevic

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From marcdevon at hotmail.com  Wed Sep  1 22:59:08 2004
From: marcdevon at hotmail.com (Marcus Jacobs)
Date: Wed Sep  1 22:59:21 2004
Subject: [Radiance-general] Illums and 3 Sided Polygons
Message-ID: <BAY2-F26sam5R4r3mbf00003e38@hotmail.com>

Dear Radiance Gurus,

I have noticed that Radiance does not like 3 sided polygons for illums. My 
understanding is that a minimum of 4 vertices are needed (Out of curiosity, 
I understand that shadow rays are traced to the centroid of an object. 
Unless the triangle is obtuse, it seem that it should be simple to find its 
centroid.)

I would like to know whether or not the rendering time and accuracy would be 
adversely affected by using 3 sided polygons as illums and living with the 
"aiming failure" error messages. The reason why I ask is because sometimes I 
use windows that have some curved profiles (such as gothic windows) that can 
not be modeled as 4 sided polygons (my modeling software creates them as a 
mesh of 3 sided polygons by default). I may be able to export some of the 
polygons as 4 sided but for some windows, there is no getting around having 
some polygons 3-sided. Even when I do export some polygons as 4 sided, there 
still are some instances when I get the "aiming failure" error message. As 
far as I can tell, the polygons are non-concave and have no opening. I have 
looked at creating an illum object outside of the window but unfortunately 
this approach leads to some goofy reflections on the inside. Any 
suggestions?

Marcus

_________________________________________________________________
Express yourself instantly with MSN Messenger! Download today - it's FREE! 
hthttp://messenger.msn.click-url.com/go/onm00200471ave/direct/01/


From gward at lmi.net  Wed Sep  1 23:12:28 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Sep  1 23:12:39 2004
Subject: [Radiance-general] Illums and 3 Sided Polygons
In-Reply-To: <BAY2-F26sam5R4r3mbf00003e38@hotmail.com>
References: <BAY2-F26sam5R4r3mbf00003e38@hotmail.com>
Message-ID: <A113EAD8-FC5B-11D8-892F-000A95BB392A@lmi.net>

Hi Marcus,

Didn't we have this conversation a few weeks ago?  Look at the recent 
postings from Mark de la Fuente and the various responses regarding 
illum's and illum shapes.

The simplistic source sampling code in Radiance assumes that a 
rectangular distribution of rays may be used.  This is done more in the 
interest of speed than anything else, but it does place some limits on 
the shapes of sources you can model.  The closer to a rectangle (or 
parallelepiped) your source is, the closer to -dj 1 you can go with 
your source sampling.  Triangles are problematic because Radiance fits 
them into a rectangle and distributes the rays about this rectangle's 
center.  In the case of a right triangle, this sends a ray exactly to 
the center of the hypoteneus, and floating point errors take over from 
there to produce a hit about 50% of the time.  Not a good situation, 
and other triangles guarantee we'll miss every time with this sampling 
strategy.

A better approach for illum's, as I mentioned in one of my earlier 
responses to Mark, is to create a larger rectangular illum to cover 
your opening, disregarding the actual shape of your window elements.  
For a large window with many elements, you're better off using a single 
illum to cover it, anyway, so you don't send multiple samples when it 
isn't really necessary.  Mkillum will compute the correct average for 
the larger illum surface.  So long as this surface doesn't intersect 
the walls or have similar problems with its fit to the window, the 
result should be a reasonable approximation.

The "aiming failure" warning message should be taken seriously, unless 
you happen to know from geometric arguments that it is a rare condition 
generating this error.  In general, it means that you are 
underestimating contributions from the associated source or illum.

-Greg


From marcdevon at hotmail.com  Tue Sep  7 00:52:37 2004
From: marcdevon at hotmail.com (Marcus Jacobs)
Date: Tue Sep  7 00:53:20 2004
Subject: [Radiance-general] Illums and 3 Sided Polygons
Message-ID: <BAY2-F20FaTvn85Dyg1000554a8@hotmail.com>

Greg,

I did read through the previous threads about the illums about one month 
ago. Though my question was similar in nature, I was looking for a more 
theoretical explaination of what goes on because I had been encountering 
some issues with some illums that I had placed outside of a window.

As I mentioned before, I was getting some very strange looking reflections 
on the floor of my renders. Here is an example:

http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=1736.jpg

The window has a dog ear arch. The rectangular bottom part of the window I 
probably could have made into an illum while placing a separate illum 
outside for the upper portion of the window. Instead I used illums placed 
outside the entire window. While reading through RWR in the section 
explaining the adaptive source subdivision, it mentions that large light 
sources can be a significant source of error in a standard ray-tracing 
calculation. Because of this, the illum plane I created consisted of 8 
sub-planes (similar to the illum planes created in the museum scene in RWR. 
The only difference is mkilum create the distribution instead of winbright). 
For some reason this is what is causing a significant problem with the 
reflection. Why is this? It seems that the rendering would be better because 
the illum  sources are smaller. Anywho, I did take your advise and I made 1 
large plane instead of the multiple subplanes. The reflection did improve. 
Here is what I came up with:

http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=d860.jpg


You can see that the reflection is improved. It still isn't completely 
natural but it isn't as disurbing as the first picture. I set -ds to 0.1 and 
-dj to 0.75 for this rendering. I attempted to do three things in order to 
improve the reflection. None exactly worked. The first method I tried was 
decreasing the -ds parameter. I used a rediculously low number (0.001) with 
-dj set to 0.3 to see what would come out. Unfortunately,there wasn't any 
improvement. Here is the result:

http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=1dad.jpg

I do not know if the lack of improvement was do any limit in Radiance for 
the -ds parameter. The second method I used to attempt improve the 
reflection was to increase the sampling density (i.e., increase the image 
size). I rendered the reflection at 12 times the final image size. There 
wasn't any improvement using this method either. Here is the result:

http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=dfa5.jpg

Any improvement over the previous image was due to the higher direct 
jittering setting (0.65 vs 0.3). The last method I tried was increasing the 
direct jittering parameter to 0.85. Here is the result:

http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=5814.jpg

There is a noticable improvement although not completely natural. There were 
no failures with the illums (there were created as perfect squares) but all 
my other light sources generated "aiming failure" error messages so this 
isn't a good solution.

Does any know of any ways that I maight improve the reflection? Please help.


Marcus

>Date: Wed, 1 Sep 2004 14:12:28 -0700
>From: Greg Ward <gward@lmi.net>
>Subject: Re: [Radiance-general] Illums and 3 Sided Polygons
>To: Radiance general discussion <radiance-general@radiance-online.org>
>Message-ID: <A113EAD8-FC5B-11D8-892F-000A95BB392A@lmi.net>
>Content-Type: text/plain; charset=US-ASCII; format=flowed
>
>Hi Marcus,
>
>Didn't we have this conversation a few weeks ago?  Look at the recent
>postings from Mark de la Fuente and the various responses regarding
>illum's and illum shapes.
>
>The simplistic source sampling code in Radiance assumes that a
>rectangular distribution of rays may be used.  This is done more in the
>interest of speed than anything else, but it does place some limits on
>the shapes of sources you can model.  The closer to a rectangle (or
>parallelepiped) your source is, the closer to -dj 1 you can go with
>your source sampling.  Triangles are problematic because Radiance fits
>them into a rectangle and distributes the rays about this rectangle's
>center.  In the case of a right triangle, this sends a ray exactly to
>the center of the hypoteneus, and floating point errors take over from
>there to produce a hit about 50% of the time.  Not a good situation,
>and other triangles guarantee we'll miss every time with this sampling
>strategy.
>
>A better approach for illum's, as I mentioned in one of my earlier
>responses to Mark, is to create a larger rectangular illum to cover
>your opening, disregarding the actual shape of your window elements.
>For a large window with many elements, you're better off using a single
>illum to cover it, anyway, so you don't send multiple samples when it
>isn't really necessary.  Mkillum will compute the correct average for
>the larger illum surface.  So long as this surface doesn't intersect
>the walls or have similar problems with its fit to the window, the
>result should be a reasonable approximation.
>
>The "aiming failure" warning message should be taken seriously, unless
>you happen to know from geometric arguments that it is a rare condition
>generating this error.  In general, it means that you are
>underestimating contributions from the associated source or illum.
>
>-Greg
>

_________________________________________________________________
Don’t just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


From gward at lmi.net  Tue Sep  7 07:55:00 2004
From: gward at lmi.net (Greg Ward)
Date: Tue Sep  7 07:55:09 2004
Subject: [Radiance-general] Illums and 3 Sided Polygons
In-Reply-To: <BAY2-F20FaTvn85Dyg1000554a8@hotmail.com>
References: <BAY2-F20FaTvn85Dyg1000554a8@hotmail.com>
Message-ID: <74C81508-0092-11D9-9224-000A95BB392A@lmi.net>

Hi Marcus,

The trouble with your floor is that you have specified a very small, 
but non-zero value for the surface roughness.  Radiance employs a 
hybrid technique for computing specularity, which does a closed-form 
computation of specular highlights related to light sources (including 
your illum's) plus a Monte Carlo sampling of other soft-specular 
reflections.  If you set the roughness to zero, you will see a perfect 
mirror reflection of the window, without artifacts.  Presumably, this 
is not what you are after.  Alternatively, you may increase your 
surface roughness value and your reflection will improve.  Finally, you 
can set the surface roughness to zero, then apply the included 
"gloss.cal" function to achieve a pure Monte Carlo sampling of 
reflected rays.  This will lead to greater noise in the result, but 
will eliminate the source sampling artifacts you are now seeing:

wood_pattern texfunc mc_roughness
4 gloss_dx gloss_dy gloss_dz gloss.cal
0
3 .02 .02 .02

mc_roughness plastic wood_flooring
0
0
5 .5 .2 .05 .02 0

Of course, I am only guessing on the parameter values, but this should 
give you an idea of what I mean.

-Greg

> From: "Marcus Jacobs" <marcdevon@hotmail.com>
> Date: September 6, 2004 3:52:37 PM PDT
>
> Greg,
>
> I did read through the previous threads about the illums about one 
> month ago. Though my question was similar in nature, I was looking for 
> a more theoretical explaination of what goes on because I had been 
> encountering some issues with some illums that I had placed outside of 
> a window.
>
> As I mentioned before, I was getting some very strange looking 
> reflections on the floor of my renders. Here is an example:
>
> http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=1736.jpg
>
> The window has a dog ear arch. The rectangular bottom part of the 
> window I probably could have made into an illum while placing a 
> separate illum outside for the upper portion of the window. Instead I 
> used illums placed outside the entire window. While reading through 
> RWR in the section explaining the adaptive source subdivision, it 
> mentions that large light sources can be a significant source of error 
> in a standard ray-tracing calculation. Because of this, the illum 
> plane I created consisted of 8 sub-planes (similar to the illum planes 
> created in the museum scene in RWR. The only difference is mkilum 
> create the distribution instead of winbright). For some reason this is 
> what is causing a significant problem with the reflection. Why is 
> this? It seems that the rendering would be better because the illum  
> sources are smaller. Anywho, I did take your advise and I made 1 large 
> plane instead of the multiple subplanes. The reflection did improve. 
> Here is what I came up with:
>
> http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=d860.jpg
>
>
> You can see that the reflection is improved. It still isn't completely 
> natural but it isn't as disurbing as the first picture. I set -ds to 
> 0.1 and -dj to 0.75 for this rendering. I attempted to do three things 
> in order to improve the reflection. None exactly worked. The first 
> method I tried was decreasing the -ds parameter. I used a rediculously 
> low number (0.001) with -dj set to 0.3 to see what would come out. 
> Unfortunately,there wasn't any improvement. Here is the result:
>
> http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=1dad.jpg
>
> I do not know if the lack of improvement was do any limit in Radiance 
> for the -ds parameter. The second method I used to attempt improve the 
> reflection was to increase the sampling density (i.e., increase the 
> image size). I rendered the reflection at 12 times the final image 
> size. There wasn't any improvement using this method either. Here is 
> the result:
>
> http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=dfa5.jpg
>
> Any improvement over the previous image was due to the higher direct 
> jittering setting (0.65 vs 0.3). The last method I tried was 
> increasing the direct jittering parameter to 0.85. Here is the result:
>
> http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=5814.jpg
>
> There is a noticable improvement although not completely natural. 
> There were no failures with the illums (there were created as perfect 
> squares) but all my other light sources generated "aiming failure" 
> error messages so this isn't a good solution.
>
> Does any know of any ways that I maight improve the reflection? Please 
> help.
>
> Marcus


From gward at lmi.net  Tue Sep  7 19:29:54 2004
From: gward at lmi.net (Greg Ward)
Date: Tue Sep  7 19:30:11 2004
Subject: [Radiance-general] (no subject)
Message-ID: <883D14F8-00F3-11D9-9638-000A95BB392A@lmi.net>

Dear Radiance Workshop Attendees:

We plan to hold another image contest for this year's workshop.  
Besides getting your cool image on posters and CD covers and labels, 
Raphael promises to come up with some suitable first prize, most likely 
a beer or cappucino of your choice.

Square and round images are preferred for the CD, and portrait images 
for the poster.

To see the previous year's entries, go to the online CDs:

	http://www.radiance-online.org/radiance-workshop1/cd/
	http://www.radiance-online.org/radiance-workshop2/cd/

See you in Fribourg!
-Greg (& Raphael)

P.S.  We are still taking last-minute reservations if you missed the 
deadline last week.


From Christoph.Reinhart at nrc-cnrc.gc.ca  Wed Sep  8 15:16:31 2004
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Wed Sep  8 15:16:41 2004
Subject: [Radiance-general] modeling glazings
Message-ID: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>

Dear colleagues,
 
I know, I know. The topic of modeling glazings in Radiance using Optics 5
data has been extensively discussed in January 2004. I just reread the
emails with great interest in the archives. BUT I am still undecided whether
to go with Optics 5 is worth the effort. 
 
in January, everybody agreed that creating a specific glazing in Optics 5
creates an output as follows:
 
#
# header info
void  glass       TestSystem_glass
0
0
3     0.638     0.647     0.568
 
void  BRTDfunc    TestSystem_front
10
      0.230     0.263     0.326
      0.585     0.594     0.521
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
void  BRTDfunc    TestSystem_back
10
      0.289     0.336     0.371
      0.585     0.594     0.521
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0
 
Philip mentioned that to use this material description, one would need "two
glass polygons for each window, one for the front and one for the back". I
assume this means:
 
TestSystem_front polygon FrontOfWindow
0 0
12     0     0     0
         1     0     0
        1     1    0
        0    1    0 
 
TestSystem_back polygon BackOfWindow
0 0
12     0     0     -0.01
        0    1    -0.01
        1     1    -0.01
        1     0     -0.01 
         
Is this correct? How does the glazing know its transmittance, i.e. how does
TestSystem_glass come into play? Also, does anybody have any references or
experience how much more accurate a simulation gets if one uses the full
optics 5 file instead of a stripped down version such as:

void  glass       TestSystem_glass
0
0
3     0.638     0.647     0.568
 
Any thoughts are elcome,
 
Christoph
Christoph Reinhart, Ph.D.                        tel: (613) 993-9703 
Research Officer                                      fax: (613) 954-3733 
Institute for Research in Construction      e-mail:
christoph.reinhart@nrc-cnrc.gc.ca 
National Research Council Canada        1200 Montreal Road M-24, Ottawa 
Ontario K1A 0R6 Canada 

Daylighting Analysis Software: 
The Lightswitch Wizard (initial design)   www.buildwiz.com
<http://www.buildwiz.com/lightswitch/index.cfm>  
DAYSIM (expert software)                       www.daysim.com
<outbind://26/www.daysim.com>   <outbind://26/www.daysim.com> 


IEA Task 31
http://www.iea-shc.org/task31/ <http://www.iea-shc.org/task31/>  

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040908/7c4e1c27/attachment.html
From tarik.rahman at ed.ac.uk  Wed Sep  8 16:08:51 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Wed Sep  8 16:08:55 2004
Subject: [Radiance-general] rotate in rview
Message-ID: <1094652531.413f12733dcc0@sms.ed.ac.uk>

Hi
Stupid question, I can rotate in rview e.g  r 45, but how do I specify rotate
about a certain axis and also how do  I say to elevate by a certain angle? Do I
have to change the viewpoint file altogether or can this be done in rview?

Thanks

Tarik


--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From jm at dmu.ac.uk  Wed Sep  8 16:22:26 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed Sep  8 16:22:41 2004
Subject: [Radiance-general] rotate in rview
Message-ID: <E1C53L8-0000Yh-00@saturn.dmu.ac.uk>

Tarik.

> how do  I say to elevate by a certain angle?

Use the 'pivot angle [elev]' command, e.g.  'p 0 30'
to elevate 30 deg 'up' from the pivot point.
Negative angle to go 'down'.

-John 

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From gward at lmi.net  Wed Sep  8 16:30:06 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Sep  8 16:30:17 2004
Subject: [Radiance-general] rotate in rview
In-Reply-To: <1094652531.413f12733dcc0@sms.ed.ac.uk>
References: <1094652531.413f12733dcc0@sms.ed.ac.uk>
Message-ID: <941E72B0-01A3-11D9-AFD1-000A95BB392A@lmi.net>

Hi Tarik,

The pivot ("p") command in rview/rvu will rotate about a chosen point 
(i.e., the axis is the up vector through the selected point).  Quoting 
the rview man page:

        pivot angle [ elev [ mag [ x y z ] ] ]
                  Similar to the "move" command, but pivots the  view  
about  a
                  selected  point.  The angle is measured in degrees 
around the
                  view up vector using the right hand rule.  The 
optional  elev
                  is  the  elevation  in degrees from the pivot point; 
positive
                  raises the view point to look downward  and  negative  
lowers
                  the view point to look upward.

The first argument is the angle (clockwise about point in degrees), the 
second is the elevation change, the third is the zoom factor, and 4-7 
specify the point if you prefer to enter it manually rather than pick 
it from the current view.

You do have the man pages, I hope.  If not, they can be found online at 
the LBNL website:

	http://radsite.lbl.gov/radiance/man_html/whatis.html

-Greg

> From: Tarik Rahman <tarik.rahman@ed.ac.uk>
> Date: September 8, 2004 7:08:51 AM PDT
>
> Hi
> Stupid question, I can rotate in rview e.g  r 45, but how do I specify 
> rotate
> about a certain axis and also how do  I say to elevate by a certain 
> angle? Do I
> have to change the viewpoint file altogether or can this be done in 
> rview?
>
> Thanks
>
> Tarik
> --
> Tarik Rahman
> PhD student, Institue of Perception, Action and Behaviour
> School of Informatics
> University of Edinburgh


From gward at lmi.net  Wed Sep  8 16:32:53 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Sep  8 16:33:01 2004
Subject: [Radiance-general] modeling glazings
In-Reply-To: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>
References: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>
Message-ID: <F7D24083-01A3-11D9-AFD1-000A95BB392A@lmi.net>

Hi Christoph,

Have you investigated the new glaze script in the HEAD release?  I just 
added a feature whereby you can enter your own data for layer 
transmittance & reflectances, and I expect it is quite a bit more 
accurate than Optics5 for multiple glazing systems, especially when 
frits are involved.

-Greg

> From: "Reinhart, Christoph" <Christoph.Reinhart@nrc-cnrc.gc.ca>
> Date: September 8, 2004 6:16:31 AM PDT
>
> Dear colleagues,
> ?
> I know, I know. The topic of modeling glazings in Radiance using 
> Optics 5 data has been extensively discussed in January 2004. I just 
> reread the emails with great interest in the archives.?BUT I am still 
> undecided whether to go with Optics 5 is worth the effort.
  ?
...

From jedev at visarc.com  Wed Sep  8 17:15:59 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Sep  8 17:16:12 2004
Subject: [Radiance-general] modeling glazings
In-Reply-To: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>
References: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>
Message-ID: <413F222F.5010404@visarc.com>

Hi Christoph,

I think that there are a lot of things that need to be considered here. 
Based on some work that Greg has consulted with us on, the basic 
radiance material definitions output from Optics 5 are perhaps too 
simplistic to fully account for a variety of glazing related behaviors. 
Nevertheless let me make a couple of points that may be obvious to many:

   1. There are many types of glazing that will have front and back side
      reflectances that are different and the "glass" material type is
      probably not suitable for these materials.
   2. If you want, it is possible to combine the front and back side
      definitions to one material definition and thus surface geometry
      (one polygon) with uniform normal orientation into our out of the
      space as follows

        void BRTDfunc TestSystem_front_and_back
        10
            if(Rdot, 0.230, 0.289) if(Rdot, 0.263, 0.336) if(Rdot,
        0.326, 0.371)
            0.585 0.594 0.521
            0   0   0
            .
        0
        9 0 0 0 0 0 0 0 0 0

    The "if(Rdot, ReflFront, ReflBack)" will apply the relevant
    reflectance depend upon which side of the polygon is being
    evaluated. This may be suitable depending on the needs (and
    information available) at hand. However this material does not
    suitably account for angular dependencies that may impact
    reflectance and transmittance.

    Note also that if you were to use two pieces of geometry, then you
    would need to be very careful of what you think you are applying
    material wise. For example if you developed an insulating glass in
    Optics 5 made up of 2 glass layers and export this then this needs
    to be applied to "one" polygon not "two."

There is a shell script called "glaze" that is in the current release of 
Radiance (probably need to get the latest HEAD release for some 
updates). This script works by enabling the user to specify the makeup 
of the glazing (currently allowing for single and double pane glazing as 
well as frit coverage). The makeup is based on a small database that 
includes front and back reflectances as well as transmittances for a few 
glass materials. Some of these have been taken directly from the 
Radiance output provided by Optics 5. We have also added a feature 
recently that allows a separate file to be specified with additional 
glazing types (eg build your own). The material definitions (BRTDfunc) 
that the script outputs have a more robust model for single and double 
pane glazing systems. Probably, the best thing to do is try it out to 
see how it works.

One last note/thought. I think that as far as things go, Optics 5, is an 
excellent resource. The issue is really how to effectively use the data 
in a useful Radiance material definition.

Regards,

-Jack de Valpine

Reinhart, Christoph wrote:

> Dear colleagues,
>  
> I know, I know. The topic of modeling glazings in Radiance using 
> Optics 5 data has been extensively discussed in January 2004. I just 
> reread the emails with great interest in the archives. BUT I am still 
> undecided whether to go with Optics 5 is worth the effort.
>  
> in January, everybody agreed that creating a specific glazing in 
> Optics 5 creates an output as follows:
>  
> #
> # header info
> void  glass       TestSystem_glass
> 0
> 0
> 3     0.638     0.647     0.568
>  
> void  BRTDfunc    TestSystem_front
> 10
>       0.230     0.263     0.326
>       0.585     0.594     0.521
>       0 0 0
>       .
> 0
> 9 0 0 0 0 0 0 0 0 0
>  
> void  BRTDfunc    TestSystem_back
> 10
>       0.289     0.336     0.371
>       0.585     0.594     0.521
>       0 0 0
>       .
> 0
> 9 0 0 0 0 0 0 0 0 0
>  
> Philip mentioned that to use this material description, one would need 
> "two glass polygons for each window, one for the front and one for the 
> back". I assume this means:
>  
> TestSystem_front polygon FrontOfWindow
> 0 0
> 12     0     0     0
>          1     0     0
>         1     1    0
>         0    1    0 
>  
> TestSystem_back polygon BackOfWindow
> 0 0
> 12     0     0     -0.01
>         0    1    -0.01
>         1     1    -0.01
>         1     0     -0.01
>          
> Is this correct? How does the glazing know its transmittance, i.e. how 
> does TestSystem_glass come into play? Also, does anybody have any 
> references or experience how much more accurate a simulation gets if 
> one uses the full optics 5 file instead of a stripped down version 
> such as:
> void  glass       TestSystem_glass
> 0
> 0
> 3     0.638     0.647     0.568
>  
> Any thoughts are elcome,
>  
> Christoph
> Christoph Reinhart, Ph.D.                        tel: (613) 993-9703
> Research Officer                                      fax: (613) 954-3733
> Institute for Research in Construction      e-mail: 
> christoph.reinhart@nrc-cnrc.gc.ca
> National Research Council Canada        1200 Montreal Road M-24, Ottawa
> Ontario K1A 0R6 Canada
>
> Daylighting Analysis Software:
> The Lightswitch Wizard (initial design)   www.buildwiz.com 
> <http://www.buildwiz.com/lightswitch/index.cfm>
> DAYSIM (expert software)                       www.daysim.com 
> <outbind://26/www.daysim.com>
>
> IEA Task 31                                            
> http://www.iea-shc.org/task31/
>
>  
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040908/686c3ca5/attachment-0001.htm
From MMoeck at engr.psu.edu  Wed Sep  8 17:22:48 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Wed Sep  8 17:25:13 2004
Subject: [Radiance-general] modeling glazings
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C233CAC@ENGRMAIL2.engr.psu.edu>

I have been looking for fritted and translucent glazing data and had to resort to trans to model them. They seem not to be part of Optics5, unless I did not search carefully.  Therefore, I just measure glazing properties with luminance and illuminance meters and approximate them with trans. I am not quite sure when optics5 is needed. 
 
Martin
 
 

	-----Original Message----- 
	From: Reinhart, Christoph [mailto:Christoph.Reinhart@nrc-cnrc.gc.ca] 
	Sent: Wed 9/8/2004 9:16 AM 
	To: radiance-general@radiance-online.org 
	Cc: 
	Subject: [Radiance-general] modeling glazings
	
	
	Dear colleagues,
	 
	I know, I know. The topic of modeling glazings in Radiance using Optics 5 data has been extensively discussed in January 2004. I just reread the emails with great interest in the archives. BUT I am still undecided whether to go with Optics 5 is worth the effort. 
	 
	in January, everybody agreed that creating a specific glazing in Optics 5 creates an output as follows:
	 
	#
	# header info
	
	void  glass       TestSystem_glass
	0
	0
	3     0.638     0.647     0.568
	 
	void  BRTDfunc    TestSystem_front
	10
	      0.230     0.263     0.326
	      0.585     0.594     0.521
	      0 0 0
	      .
	0
	9 0 0 0 0 0 0 0 0 0
	 
	void  BRTDfunc    TestSystem_back
	10
	      0.289     0.336     0.371
	      0.585     0.594     0.521
	      0 0 0
	      .
	0
	9 0 0 0 0 0 0 0 0 0
	 
	Philip mentioned that to use this material description, one would need "two glass polygons for each window, one for the front and one for the back". I assume this means:
	 
	TestSystem_front polygon FrontOfWindow
	0 0
	12     0     0     0
	         1     0     0
	        1     1    0
	        0    1    0 
	 
	TestSystem_back polygon BackOfWindow
	0 0
	12     0     0     -0.01
	        0    1    -0.01
	        1     1    -0.01
	        1     0     -0.01 
	         
	Is this correct? How does the glazing know its transmittance, i.e. how does TestSystem_glass come into play? Also, does anybody have any references or experience how much more accurate a simulation gets if one uses the full optics 5 file instead of a stripped down version such as:
	
	
	void  glass       TestSystem_glass
	0
	0
	3     0.638     0.647     0.568
	 
	Any thoughts are elcome,
	 
	Christoph
	Christoph Reinhart, Ph.D.                        tel: (613) 993-9703 
	Research Officer                                      fax: (613) 954-3733 
	Institute for Research in Construction      e-mail: christoph.reinhart@nrc-cnrc.gc.ca 
	National Research Council Canada        1200 Montreal Road M-24, Ottawa 
	Ontario K1A 0R6 Canada 

	Daylighting Analysis Software: 
	The Lightswitch Wizard (initial design)   www.buildwiz.com <http://www.buildwiz.com/lightswitch/index.cfm>  
	DAYSIM (expert software)                       www.daysim.com <outbind://26/www.daysim.com>  <outbind://26/www.daysim.com>  

	IEA Task 31                                            http://www.iea-shc.org/task31/ 

	 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 11218 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040908/f1376110/attachment.bin
From gward at lmi.net  Wed Sep  8 17:47:07 2004
From: gward at lmi.net (Greg Ward)
Date: Wed Sep  8 17:47:17 2004
Subject: [Radiance-general] modeling glazings
In-Reply-To: <413F222F.5010404@visarc.com>
References: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>
	<413F222F.5010404@visarc.com>
Message-ID: <56CA54DA-01AE-11D9-AFD1-000A95BB392A@lmi.net>

I should have given proper credit regarding the glaze script in my last 
e-mail.  Indeed, it was Jack who had the idea to create this script, 
and did most of the design on it and a lot of the debugging.  It would 
be nice to develop an interface between glaze.csh and Optics 5, but I 
know very little about the latter.

-Greg


From jedev at visarc.com  Wed Sep  8 18:05:11 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Sep  8 18:05:21 2004
Subject: [Radiance-general] modeling glazings
In-Reply-To: <56CA54DA-01AE-11D9-AFD1-000A95BB392A@lmi.net>
References: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>	<413F222F.5010404@visarc.com>
	<56CA54DA-01AE-11D9-AFD1-000A95BB392A@lmi.net>
Message-ID: <413F2DB7.3030701@visarc.com>

Mmm, Greg is perhaps being overly generous in his credit. Without Greg's 
input and expertise, we would be at square one in this conversation.

-Jack

Greg Ward wrote:

> I should have given proper credit regarding the glaze script in my 
> last e-mail.  Indeed, it was Jack who had the idea to create this 
> script, and did most of the design on it and a lot of the debugging.  
> It would be nice to develop an interface between glaze.csh and Optics 
> 5, but I know very little about the latter.
>
> -Greg
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From rpg at rumblestrip.org  Wed Sep  8 18:12:21 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Sep  8 18:09:14 2004
Subject: [Radiance-general] modeling glazings
In-Reply-To: <413F2DB7.3030701@visarc.com>
References: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>	<413F222F.5010404@visarc.com>	<56CA54DA-01AE-11D9-AFD1-000A95BB392A@lmi.net>
	<413F2DB7.3030701@visarc.com>
Message-ID: <413F2F65.5090903@rumblestrip.org>

Jack de Valpine wrote:

> Mmm, Greg is perhaps being overly generous in his credit. Without Greg's 
> input and expertise, we would be at square one in this conversation.

...and as I recall, you two started that glaze script conversation in 
Fribourg almost two years ago!  Jack, are you going again?

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From jedev at visarc.com  Wed Sep  8 18:28:13 2004
From: jedev at visarc.com (Jack de Valpine)
Date: Wed Sep  8 18:28:27 2004
Subject: [Radiance-general] modeling glazings
In-Reply-To: <413F2F65.5090903@rumblestrip.org>
References: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>	<413F222F.5010404@visarc.com>	<56CA54DA-01AE-11D9-AFD1-000A95BB392A@lmi.net>	<413F2DB7.3030701@visarc.com>
	<413F2F65.5090903@rumblestrip.org>
Message-ID: <413F331D.2030207@visarc.com>

Hey Rob,

Unfortunately, I am not going to be able to make it to Fribourg this 
year. The dates fall too near my son's birthday (three years old!) to 
make it possible for me to attend. I will look forward to hearing about 
it and at least obtaining the cdrom image if it is made available at 
radiance-online.org

-Jack

Rob Guglielmetti wrote:

> Jack de Valpine wrote:
>
>> Mmm, Greg is perhaps being overly generous in his credit. Without 
>> Greg's input and expertise, we would be at square one in this 
>> conversation.
>
>
> ...and as I recall, you two started that glaze script conversation in 
> Fribourg almost two years ago!  Jack, are you going again?
>
> ----
>
>      Rob Guglielmetti
>
> e. rpg@rumblestrip.org
> w. www.rumblestrip.org
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From rpg at rumblestrip.org  Wed Sep  8 19:07:19 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Sep  8 19:04:03 2004
Subject: [Radiance-general] modeling glazings
In-Reply-To: <413F331D.2030207@visarc.com>
References: <10C94843061E094A98C02EB77CFC328708102D92@nrcmrdex1d.imsb.nrc.ca>	<413F222F.5010404@visarc.com>	<56CA54DA-01AE-11D9-AFD1-000A95BB392A@lmi.net>	<413F2DB7.3030701@visarc.com>	<413F2F65.5090903@rumblestrip.org>
	<413F331D.2030207@visarc.com>
Message-ID: <413F3C47.70404@rumblestrip.org>

Jack de Valpine wrote:

> Hey Rob,
> 
> Unfortunately, I am not going to be able to make it to Fribourg this 
> year. The dates fall too near my son's birthday (three years old!) to 
> make it possible for me to attend. I will look forward to hearing about 
> it and at least obtaining the cdrom image if it is made available at 
> radiance-online.org

Yeah, I'll be looking for that iso image too!

Three years old?  Wow, you know what that means?  You're OLD.  =8-) 
Yesterday, my office took our intern out for a sendoff lunch, as he goes 
back to architecture school tomorrow.  He was talking about dorm rooms, 
cafeteria food, professors, and I got to thinking "my oh my, that seems 
like such a long time ago".  Then I realized it *was* a long time ago! 
Sheesh.  Now where did I put my glasses...

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From marcdevon at hotmail.com  Fri Sep 10 02:04:11 2004
From: marcdevon at hotmail.com (Marcus Jacobs)
Date: Fri Sep 10 02:10:51 2004
Subject: [Radiance-general] Re: Illums and 3 Sided Polygons
Message-ID: <BAY2-F35kXQZSLBJrtK0001cf52@hotmail.com>

Thanks Greg for the information. I did increase the roughness value and I 
did get what I was looking for. I tried it with a window with a trifold 
arch. Here is the result:

http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=fd57.jpg



Marcus


>Date: Mon, 6 Sep 2004 22:55:00 -0700
>From: Greg Ward <gward@lmi.net>
>Subject: Re: Illums and 3 Sided Polygons
>Hi Marcus,
>
>The trouble with your floor is that you have specified a very small,
>but non-zero value for the surface roughness.  Radiance employs a
>hybrid technique for computing specularity, which does a closed-form
>computation of specular highlights related to light sources (including
>your illum's) plus a Monte Carlo sampling of other soft-specular
>reflections.  If you set the roughness to zero, you will see a perfect
>mirror reflection of the window, without artifacts.  Presumably, this
>is not what you are after.  Alternatively, you may increase your
>surface roughness value and your reflection will improve.  Finally, you
>can set the surface roughness to zero, then apply the included
>"gloss.cal" function to achieve a pure Monte Carlo sampling of
>reflected rays.  This will lead to greater noise in the result, but
>will eliminate the source sampling artifacts you are now seeing:
>
>wood_pattern texfunc mc_roughness
>4 gloss_dx gloss_dy gloss_dz gloss.cal
>0
>3 .02 .02 .02
>
>mc_roughness plastic wood_flooring
>0
>0
>5 .5 .2 .05 .02 0
>
>Of course, I am only guessing on the parameter values, but this should
>give you an idea of what I mean.
>
>-Greg
>
> > From: "Marcus Jacobs" <marcdevon@hotmail.com>
> > Date: September 6, 2004 3:52:37 PM PDT
> >
> > Greg,
> >
> > I did read through the previous threads about the illums about one
> > month ago. Though my question was similar in nature, I was looking for
> > a more theoretical explaination of what goes on because I had been
> > encountering some issues with some illums that I had placed outside of
> > a window.
> >
> > As I mentioned before, I was getting some very strange looking
> > reflections on the floor of my renders. Here is an example:
> >
> > http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=1736.jpg
> >
> > The window has a dog ear arch. The rectangular bottom part of the
> > window I probably could have made into an illum while placing a
> > separate illum outside for the upper portion of the window. Instead I
> > used illums placed outside the entire window. While reading through
> > RWR in the section explaining the adaptive source subdivision, it
> > mentions that large light sources can be a significant source of error
> > in a standard ray-tracing calculation. Because of this, the illum
> > plane I created consisted of 8 sub-planes (similar to the illum planes
> > created in the museum scene in RWR. The only difference is mkilum
> > create the distribution instead of winbright). For some reason this is
> > what is causing a significant problem with the reflection. Why is
> > this? It seems that the rendering would be better because the illum
> > sources are smaller. Anywho, I did take your advise and I made 1 large
> > plane instead of the multiple subplanes. The reflection did improve.
> > Here is what I came up with:
> >
> > http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=d860.jpg
> >
> >
> > You can see that the reflection is improved. It still isn't completely
> > natural but it isn't as disurbing as the first picture. I set -ds to
> > 0.1 and -dj to 0.75 for this rendering. I attempted to do three things
> > in order to improve the reflection. None exactly worked. The first
> > method I tried was decreasing the -ds parameter. I used a rediculously
> > low number (0.001) with -dj set to 0.3 to see what would come out.
> > Unfortunately,there wasn't any improvement. Here is the result:
> >
> > http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=1dad.jpg
> >
> > I do not know if the lack of improvement was do any limit in Radiance
> > for the -ds parameter. The second method I used to attempt improve the
> > reflection was to increase the sampling density (i.e., increase the
> > image size). I rendered the reflection at 12 times the final image
> > size. There wasn't any improvement using this method either. Here is
> > the result:
> >
> > http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=dfa5.jpg
> >
> > Any improvement over the previous image was due to the higher direct
> > jittering setting (0.65 vs 0.3). The last method I tried was
> > increasing the direct jittering parameter to 0.85. Here is the result:
> >
> > http://pg.photos.yahoo.com/ph/marcdevon/detail?.dir=b3e9&.dnm=5814.jpg
> >
> > There is a noticable improvement although not completely natural.
> > There were no failures with the illums (there were created as perfect
> > squares) but all my other light sources generated "aiming failure"
> > error messages so this isn't a good solution.
> >
> > Does any know of any ways that I maight improve the reflection? Please
> > help.
> >
> > Marcus
>
>
>
>
>------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>End of Radiance-general Digest, Vol 7, Issue 3
>**********************************************

_________________________________________________________________
On the road to retirement? Check out MSN Life Events for advice on how to 
get there! http://lifeevents.msn.com/category.aspx?cid=Retirement


From Giulio.Antonutto at arup.com  Fri Sep 10 13:42:53 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Fri Sep 10 13:43:00 2004
Subject: [Radiance-general] strange behaviour,
	may be only radiance or macosx?
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF846@l-gnts05>

Hi all,
I am just came back from holidays, done some upgrades....
found a really weird thing about Radiance 3.6.a 
(on both a G5 and  G4 system, macosX 10.3.5).
(3.5 and 3.5 with pmap work perfectly...)

I compiled it with default setting (and also with optimized code, today
version)
the result is always the same.

symptoms:

my scene contains a sphere that emits light.
this sphere is inside a big plastic sphere.
the surface of the big sphere is white.
what happens is that the inner surface of the big sphere is non lit.


I suspect two things:

1 - somebody changed the code and now inside of spheres is always black
(some sort of optimisation?)

2 - there has been a radiance killer upgrade in the system, I hope not....
this means reinstalling the system!



what do you think about?
thanks,
giulio



PS
the scene looks like this, for whom could be interested to try:

void light bulb
0
0
3 100 100 100

bulb sphere geom
0
0
4 0 0 0 .1


void plastic white
0
0
5 1 1 1 0 0


white sphere bigball
0
0
4 0 0 0 10

the view point is something like -1 -1 -1 looking 1 1 1 with a -h view type
and 180 180 degree.

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From jm at dmu.ac.uk  Fri Sep 10 14:58:10 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri Sep 10 14:58:32 2004
Subject: [Radiance-general] strange behaviour, may be only radiance or macosx?
Message-ID: <E1C5kyg-0002AY-00@saturn.dmu.ac.uk>

Hi Giulio,

'De-suspect' #2 - same on Solaris.  I'm sure all will be
revealed in a few hours time...

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From tarik.rahman at ed.ac.uk  Fri Sep 10 17:08:22 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Fri Sep 10 17:08:25 2004
Subject: [Radiance-general] rad command
Message-ID: <1094828902.4141c36686032@sms.ed.ac.uk>

Hi

I get this error when I try to run the rad command on the tutorial
./rad -o x11 simple.rif. Is it something to do with setting the path so that
when rview is called without the ./ in front, it will still work?


        rview -vtv -vp 2.9 1 0.88 -vd -3 0 0 -vu 0 0 1 -vh 45 -vv 45 -ps 8 -pt
.16 -dp 128 -ar 10 -ds 0 -dt .2 -dc .25 -dr 0 -sj 0 -st .5 -aa .4 -ad 64 -as 0
-av 1 1 1 -lr 3 -lw .02 -R simple.rif -o x11 -pe 0.5 simple.oct
VIM - Vi IMproved 6.2 (2003 Jun 1, compiled Sep 26 2003 16:12:37)
Unknown option: "-vp"
More info with: "vim -h"
./rad: error running rview


Thanks
Tarik

--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From rpg at rumblestrip.org  Fri Sep 10 17:32:33 2004
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri Sep 10 17:29:49 2004
Subject: [Radiance-general] rad command
In-Reply-To: <1094828902.4141c36686032@sms.ed.ac.uk>
References: <1094828902.4141c36686032@sms.ed.ac.uk>
Message-ID: <4141C911.5020401@rumblestrip.org>

Hi Tarik,

What's happening there is that your system has a symlink to the vi text 
editor named 'rview', which is also the old name for the model viewer in 
Radiance (which your model is fed to when you run rad with the -o x11 
switch).  The symlink is in a directory further up the path prescedence 
chain than the rview executable, so it's being called by rad instead of 
the rview you want.

What version of radiance are you using?  rview was recently renamed to 
rvu to get around this problem.  If this is your personal system, you 
could also locate the link and remove it, that's what I used to do (I 
could never understand why people would rather type 'rview' for an 
executable called 'vi').

----

      Rob Guglielmetti

e. rpg@rumblestrip.org
w. www.rumblestrip.org

From Giulio.Antonutto at arup.com  Fri Sep 10 17:41:08 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Fri Sep 10 17:41:13 2004
Subject: [Radiance-general] strange behaviour, may be only radiance or  ma
	cosx?
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF850@l-gnts05>

Rob,
unfortunately I tried bubble and sphere, same thing.
The real difference is when I use glow with the 4th number to act like a
light source.
In that case it acts like a light and it illuminates!  the sphere/bubble
glows on the inner surface... (while light does nothing...)
So why only light? 
Any ideas appreciate!
thanks a lot
giulio

BTW I was used to employ the inner part of a sphere in a script of mine to
create a polar distribution of a light source (basically an illuminance
image of a dome with a light source in the middle  and a known radii)... may
be stretching radiance capabilities...
Now it's no more working :-(

PS settings are default, without ambient bouncing.

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From gward at lmi.net  Fri Sep 10 17:45:31 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Sep 10 17:45:44 2004
Subject: [Radiance-general] strange behaviour,
	may be only radiance or  ma cosx?
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90FAF850@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F90FAF850@l-gnts05>
Message-ID: <726EBBA9-0340-11D9-9A8C-000A95BB392A@lmi.net>

Hi Pillo,

I just figured out what's going on -- it's a problem with the shadow 
cache, one I should be able to correct.  I'll get back to you with a 
fix.

Thanks for spotting the error!  Having a HEAD release is like working 
at Microsoft.  Lots of alpha testers....

-Greg

P.S.  The shadow cache is disable for glow sources.

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: September 10, 2004 8:41:08 AM PDT
>
> Rob,
> unfortunately I tried bubble and sphere, same thing.
> The real difference is when I use glow with the 4th number to act like 
> a
> light source.
> In that case it acts like a light and it illuminates!  the 
> sphere/bubble
> glows on the inner surface... (while light does nothing...)
> So why only light?
> Any ideas appreciate!
> thanks a lot
> giulio
>
> BTW I was used to employ the inner part of a sphere in a script of 
> mine to
> create a polar distribution of a light source (basically an illuminance
> image of a dome with a light source in the middle  and a known 
> radii)... may
> be stretching radiance capabilities...
> Now it's no more working :-(
>
> PS settings are default, without ambient bouncing.


From gward at lmi.net  Fri Sep 10 18:13:30 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Sep 10 18:13:41 2004
Subject: [Radiance-general] strange behaviour,
	may be only radiance or ma cosx?
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90FAF851@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F90FAF851@l-gnts05>
Message-ID: <5B04C49C-0344-11D9-9A8C-000A95BB392A@lmi.net>

Saved you?  As the creator of the shadow cache, which was the source of  
this error, I think I was the spoiler in this case....

It was a subtle bug, though -- not the usual stupid one.  Because of  
the way the shadow cache works, it only tests for intersection with a  
suspected blocker, assuming that any intersection with the potential  
blocker implies that it is in the way of the source.  In the case of a  
sphere with a source inside, a ray directed towards the source will  
also intersect the opposite side of the sphere, but not after passing  
through the source -- a condition I wasn't checking for (until now).   
The same thing would have happened with a cone or cylinder with a  
source inside, though I obviously never tested these cases either, as I  
hadn't noticed the problem before, and I'm sure it was there from the  
start.

I had assumed that since I was working on the shadow cache earlier this  
week, that I had made some silly mistake in my changes, which is what  
threw me off in my debugging.  I wish I had a decent debugging  
environment -- what I have is the old hacker's fallback:  fprintf().

-Greg

P.S.  You can download the latest check-in of srcobstr.c from:

	http://www.radiance-online.org/cgi-bin/viewcvs.cgi/ray/src/rt/ 
srcobstr.c

It will be included in tomorrow's HEAD release.

> From: Giulio Antonutto <Giulio.Antonutto@arup.com>
> Date: September 10, 2004 8:54:14 AM PDT
>
> Thanks, as usual you saved all us!
> spider-greg or super-greg?
> See you soon in Fribourg,
> regards,
> giulio


From gward at lmi.net  Fri Sep 10 19:11:37 2004
From: gward at lmi.net (Greg Ward)
Date: Fri Sep 10 19:11:48 2004
Subject: [Radiance-general] strange behaviour,
	may be only radiance or ma cosx?
In-Reply-To: <DC0CAEEA090E984C911D3B85B16C3F90FAF851@l-gnts05>
References: <DC0CAEEA090E984C911D3B85B16C3F90FAF851@l-gnts05>
Message-ID: <79678516-034C-11D9-9A8C-000A95BB392A@lmi.net>

Dear Radiance Alpha Testers:

Make sure you download the new version of srcobstr.c I just checked in  
-- 2.10, because I introduced an even worse bug in my last fix that  
caused an internal error for distant sources.

-Greg

> From: Greg Ward <gward@lmi.net>
> Date: September 10, 2004 9:13:30 AM PDT
>
> Saved you?  As the creator of the shadow cache, which was the source  
> of this error, I think I was the spoiler in this case....
>
> It was a subtle bug, though -- not the usual stupid one.  Because of  
> the way the shadow cache works, it only tests for intersection with a  
> suspected blocker, assuming that any intersection with the potential  
> blocker implies that it is in the way of the source.  In the case of a  
> sphere with a source inside, a ray directed towards the source will  
> also intersect the opposite side of the sphere, but not after passing  
> through the source -- a condition I wasn't checking for (until now).   
> The same thing would have happened with a cone or cylinder with a  
> source inside, though I obviously never tested these cases either, as  
> I hadn't noticed the problem before, and I'm sure it was there from  
> the start.
>
> I had assumed that since I was working on the shadow cache earlier  
> this week, that I had made some silly mistake in my changes, which is  
> what threw me off in my debugging.  I wish I had a decent debugging  
> environment -- what I have is the old hacker's fallback:  fprintf().
>
> -Greg
>
> P.S.  You can download the latest check-in of srcobstr.c from:
>
> 	http://www.radiance-online.org/cgi-bin/viewcvs.cgi/ray/src/rt/ 
> srcobstr.c
>
> It will be included in tomorrow's HEAD release.


From grobe at gmx.net  Sun Sep 12 16:51:40 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Sep 12 16:50:09 2004
Subject: [Radiance-general] radiance + openmosix = :)
In-Reply-To: <200408272343.30549.pisuke@blueyonder.co.uk>
Message-ID: <415C3324-04CB-11D9-8D47-000A959DDB22@gmx.net>

Hi,

one small note, did you report your experiences to the openmosix team? 
They have a lot of docs on their website, and a howto, which mentions 
e.g. povray with openmosix. A hint that you have been able to use with 
radiance (the text of your mail is quite a help) might be interesting 
on the openmosix-website?

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


From pisuke at blueyonder.co.uk  Sun Sep 12 20:21:06 2004
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Sun Sep 12 20:21:11 2004
Subject: [Radiance-general] radiance + openmosix = :)
In-Reply-To: <415C3324-04CB-11D9-8D47-000A959DDB22@gmx.net>
References: <415C3324-04CB-11D9-8D47-000A959DDB22@gmx.net>
Message-ID: <200409121921.07164.pisuke@blueyonder.co.uk>

Hi Lars,

> one small note, did you report your experiences to the openmosix team?

Not yet, and I can't afford subscribing to another mailing-list ;) !!!
I did a quick search in the openmosix mailing-lists and there doesn't seem
to be any trace of Radiance in their discussions ...

> A hint that you have been able to use with 
> radiance (the text of your mail is quite a help) might be interesting
> on the openmosix-website?

Maybe, if I manage to write a short howto, I will send it to the om team.
Thank you!

-- 
Francesco 

From tarik.rahman at ed.ac.uk  Mon Sep 13 17:13:36 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Mon Sep 13 17:13:44 2004
Subject: [Radiance-general] using rpict like a range scanner
Message-ID: <1095088416.4145b9203c4e3@sms.ed.ac.uk>


Hi
When using rpict -z to get pixel distances, are these distances the distance
from viewpoint until it hits the first object, just like a laser range scanner?

Tarik
--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From gward at lmi.net  Mon Sep 13 17:32:46 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Sep 13 17:51:18 2004
Subject: [Radiance-general] using rpict like a range scanner
In-Reply-To: <1095088416.4145b9203c4e3@sms.ed.ac.uk>
References: <1095088416.4145b9203c4e3@sms.ed.ac.uk>
Message-ID: <29BFD251-059A-11D9-BA1D-000A95BB392A@lmi.net>

> From: Tarik Rahman <tarik.rahman@ed.ac.uk>
> Date: September 13, 2004 8:13:36 AM PDT
>
> Hi
> When using rpict -z to get pixel distances, are these distances the 
> distance
> from viewpoint until it hits the first object, just like a laser range 
> scanner?

Yes, unless you have assigned a fore clipping plane (-vo option), in 
which case it is the distance from this plane (which may be a cylinder 
or a sphere for the -vtc, -vta and -vth options).

-Greg


From apian at pab-opto.de  Mon Sep 13 19:42:00 2004
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Mon Sep 13 19:43:04 2004
Subject: [Radiance-general] using rpict like a range scanner
In-Reply-To: <29BFD251-059A-11D9-BA1D-000A95BB392A@lmi.net>
References: <1095088416.4145b9203c4e3@sms.ed.ac.uk>
	<29BFD251-059A-11D9-BA1D-000A95BB392A@lmi.net>
Message-ID: <4145DBE8.3080409@pab-opto.de>

Greg Ward wrote:

>> From: Tarik Rahman <tarik.rahman@ed.ac.uk>
>> Date: September 13, 2004 8:13:36 AM PDT
>>
>> Hi
>> When using rpict -z to get pixel distances, are these distances the 
>> distance
>> from viewpoint until it hits the first object, just like a laser 
>> range scanner?
>
>
> Yes, unless you have assigned a fore clipping plane (-vo option), in 
> which case it is the distance from this plane (which may be a cylinder 
> or a sphere for the -vtc, -vta and -vth options).
>
> -Greg
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
hint: http://www.pab-opto.de/radiance/special has a simulated 
laserscanner, which generates objects at the depth generated by "rpict -z"
-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]



From gward at lmi.net  Tue Sep 14 00:58:03 2004
From: gward at lmi.net (Greg Ward)
Date: Tue Sep 14 00:58:14 2004
Subject: [Radiance-general] using rpict like a range scanner
In-Reply-To: <4145DBE8.3080409@pab-opto.de>
References: <1095088416.4145b9203c4e3@sms.ed.ac.uk>
	<29BFD251-059A-11D9-BA1D-000A95BB392A@lmi.net>
	<4145DBE8.3080409@pab-opto.de>
Message-ID: <5E539D7A-05D8-11D9-8189-000A95BB392A@lmi.net>

Another caveat -- the -z output from rpict is the "effective ray 
length," not the distance to first intersection.  This means that for 
glass or mirror surfaces, it may be the distance to the object seen 
through the glass or mirror rather than the distance to the glass or 
mirror surface itself.

If you really want the first object intersection distance, regardless 
of material type, you should use the vwrays command together with 
rtrace and the -oL option.

-Greg

> From: Peter Apian-Bennewitz <apian@pab-opto.de>
> Date: September 13, 2004 10:42:00 AM PDT
>
> Greg Ward wrote:
>
>>> From: Tarik Rahman <tarik.rahman@ed.ac.uk>
>>> Date: September 13, 2004 8:13:36 AM PDT
>>>
>>> Hi
>>> When using rpict -z to get pixel distances, are these distances the 
>>> distance
>>> from viewpoint until it hits the first object, just like a laser 
>>> range scanner?
>>
>>
>> Yes, unless you have assigned a fore clipping plane (-vo option), in 
>> which case it is the distance from this plane (which may be a 
>> cylinder or a sphere for the -vtc, -vta and -vth options).
>>
>> -Greg


From grobe at gmx.net  Tue Sep 14 11:20:59 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Sep 14 11:19:09 2004
Subject: [Radiance-general] metdata, plasdata examples and documentation?
Message-ID: <64306795-062F-11D9-B5A3-000A959DDB22@gmx.net>

Hi,

I am currently searching info on the useage of the metdata and plasdata 
materials. I couldn't find any documented example so far (I have RwR 
here, the old digest, the mailing list's archive for some years and a 
google-window in my browser ;-). If there is anything like that out 
there, it would be a great help to understand how to use these. I want 
to use metdata and plasdata to represent some more complicated 
structured surfaces, e.g. I still have the problem how to model a gold 
mosaic as seen from a very distant point of view.

TIA + CU, Lars.
--
Lars O. Grobe
grobe@gmx.net


From Giulio.Antonutto at arup.com  Wed Sep 15 11:24:12 2004
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed Sep 15 11:24:23 2004
Subject: [Radiance-general] metdata, plasdata examples and documentati on?
Message-ID: <DC0CAEEA090E984C911D3B85B16C3F90FAF869@l-gnts05>

try to look for "retroreflector"
(http://radsite.lbl.gov/radiance/digests_html/v2n10.html and others...)
there is a really good set of emails on the NG!
cheers,
giulio

PS
so fare the difference between plastdata and metadata are that in the 1st
the r,g,b components do not affect the specular color (and your dataset).
this means that if your dataset describes the way light is reflected by the
surface, changing r,g,b can chance the coefficients in your dataset... 

there is a limitation (it would be interesting to ear more about... and it
could be good to check if I am right): 
you cannot have reflection of the environment but only of light sources.
... but you can always mix... 





-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org]On Behalf Of Lars
O. Grobe
Sent: 14 September 2004 10:21
To: Radiance general discussion
Subject: [Radiance-general] metdata, plasdata examples and
documentation?


Hi,

I am currently searching info on the useage of the metdata and plasdata 
materials. I couldn't find any documented example so far (I have RwR 
here, the old digest, the mailing list's archive for some years and a 
google-window in my browser ;-). If there is anything like that out 
there, it would be a great help to understand how to use these. I want 
to use metdata and plasdata to represent some more complicated 
structured surfaces, e.g. I still have the problem how to model a gold 
mosaic as seen from a very distant point of view.

TIA + CU, Lars.
--
Lars O. Grobe
grobe@gmx.net


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

___________________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for acceptability of content and viruses.

From PrasadV at TWGI.com  Sun Sep 26 21:30:12 2004
From: PrasadV at TWGI.com (Prasad Vaidya)
Date: Sun Sep 26 21:30:24 2004
Subject: [Radiance-general] Radiance and Lumen Micro Differences
Message-ID: <69BFAF70BCBC7747A59213AAE59C40D90165CE13@boreas.twgi.com>

Does anyone know of any documents/ papers that discuss the differences
between the accuracy of Radiance and Lumen Micro, and the underlying
causes (such as algorithms, geometric capabilities, input flexibility
etc)?  I am trying to explain this to someone and would like to read up
the topic.    

Thanks.

-Prasad Vaidya

From david.k.brayford at stud.man.ac.uk  Mon Sep 27 14:27:59 2004
From: david.k.brayford at stud.man.ac.uk (David)
Date: Mon Sep 27 14:18:22 2004
Subject: [Radiance-general] Measured BRDF data
Message-ID: <004801c4a48d$6ce6b720$a4015882@kitkat>

I am looking to evaluate a simulated BRDF for multilayered materials
such as glass, metallic paint and dielectric polymers with measured BRDF
data. Does anyone know where I can download measured BRDF data
preferably spectral data.
 
Regards
David
 
email: brayford@cs.man.ac.uk
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20040927/58cd9551/attachment.htm
From jm at dmu.ac.uk  Mon Sep 27 16:46:35 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Mon Sep 27 16:47:18 2004
Subject: [Radiance-general] Radiance and Lumen Micro Differences
Message-ID: <E1CBwlv-000644-00@saturn.dmu.ac.uk>

Hi Prasad,

I can't comment on Lumen Micro.  Radiance however has undergone
many validation tests.  For an overview of a daylight validation
study:

http://www.iesd.dmu.ac.uk/~jm/pdfs/BRE_IDMP.pdf

Radiance proved to be capable of very accurate predictions.

For a rather more tortuous description of that study, see
Chapters 3 & 4 here:

http://www.iesd.dmu.ac.uk/~jm/zxcv-thesis/

Regards,

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From MMoeck at engr.psu.edu  Mon Sep 27 17:19:07 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon Sep 27 17:19:54 2004
Subject: [Radiance-general] Radiance and Lumen Micro Differences
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C233D32@ENGRMAIL2.engr.psu.edu>

In general, Radiance is more accurate than other programs if you make extensive use of small patches with mkillum, set the -av parameter to a reasonable value, and use the following parameters:
-ab 5
-ad 2048 or higher
-as 1024
-ar 5000 
-ds .05
 
If you use -ab 1 instead of 5, your values are typically half of what they should be. If you use -ab 3, they might be 30% too low. 
 
Martin
 
Martin Moeck, Ph.D., Assistant Professor, ASHRAE, IESNA
The Pennsylvania State University
Department of Architectural Engineering
104 Engineering A
University Park, PA 16802
e-mail: mm12@psu.edu
Tel +1 814 863 3555
Fax +1 814 863 4789
http://www.engr.psu.edu/ae/faculty/moeck.htm
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 4152 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040927/8d4cb127/attachment.bin
From gward at lmi.net  Mon Sep 27 17:34:52 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Sep 27 17:35:30 2004
Subject: [Radiance-general] Measured BRDF data
In-Reply-To: <004801c4a48d$6ce6b720$a4015882@kitkat>
References: <004801c4a48d$6ce6b720$a4015882@kitkat>
Message-ID: <C6B70406-109A-11D9-8C3A-000A95BB392A@lmi.net>

Check out the MIT/MERL database of BRDFs:

	http://graphics.csail.mit.edu/~wojciech/BRDF/

-Greg

> From: "David" <david.k.brayford@stud.man.ac.uk>
> Date: September 27, 2004 5:27:59 AM PDT
>
I am looking to evaluate a simulated BRDF for multilayered materials 
such as glass, metallic paint and dielectric polymers with measured 
BRDF data. Does anyone know where I can download measured BRDF data 
preferably spectral data.

Regards

David


From tarik.rahman at ed.ac.uk  Mon Sep 27 17:37:32 2004
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Mon Sep 27 17:37:37 2004
Subject: [Radiance-general] triangulate radiance scene
In-Reply-To: <E1CBwlv-000644-00@saturn.dmu.ac.uk>
References: <E1CBwlv-000644-00@saturn.dmu.ac.uk>
Message-ID: <1096299452.415833bcd5eaa@sms.ed.ac.uk>


Hi
Does anyone know how I could create a triangular mesh of a radiance scene such
as convert to .obj format or something like that?

Thanks

Tarik
--
Tarik Rahman
PhD student, Institue of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From jm at dmu.ac.uk  Mon Sep 27 17:47:43 2004
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Mon Sep 27 17:47:58 2004
Subject: [Radiance-general] Radiance and Lumen Micro Differences
Message-ID: <E1CBxj5-000673-00@saturn.dmu.ac.uk>

Martin,

> In general, Radiance is more accurate than other programs if you make
> extensive use of small patches with mkillum, set the -av parameter to a
> reasonable value, and use the following parameters:
> -ab 5
> -ad 2048 or higher
> -as 1024
> -ar 5000 
> -ds .05
 
> If you use -ab 1 instead of 5, your values are typically half of what they
> should be. If you use -ab 3, they might be 30% too low. 
 
That ar setting is rather on the high side.  Also, the high accuracy
that was achieved with the BRE-IDMP dataset relied only on the ambient
calculation - no mkillum.  Some tests I carried out at the time (95-97)
showed that accurate pure ambient tended to be faster than comparably
accurate mkillum.  For both cases the parameters were gradually refined
until the predictions converged to the measured values (method described
in Chap 6 of RwR).  Radiance has changed a bit in the meantime, but I'd
wager that pure ambient is still an effective way to achieve high accuracy.
And maybe even more efficient too.  Perhaps I should repeat the tests using
the latest version - but don't hold your breath just yet.
In any case, I'd stick with the method of testing for convergence (Ch 6 RwR).
The "optimum" parameter combination will depend on the scene, and convergence
testing by progressive refinement is the quickest way to get there.
It's the most reliable method too.

-John

-----------------------------------------------
Dr. John Mardaljevic                     
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm


From gward at lmi.net  Mon Sep 27 17:54:15 2004
From: gward at lmi.net (Greg Ward)
Date: Mon Sep 27 17:54:50 2004
Subject: [Radiance-general] triangulate radiance scene
In-Reply-To: <1096299452.415833bcd5eaa@sms.ed.ac.uk>
References: <E1CBwlv-000644-00@saturn.dmu.ac.uk>
	<1096299452.415833bcd5eaa@sms.ed.ac.uk>
Message-ID: <7BE699E4-109D-11D9-8C3A-000A95BB392A@lmi.net>

Hi Tarik,

Radiance offers the obj2rad converter to go from (Alias/Wavefront) .OBJ 
format to Radiance.  However, it does so by expanding the mesh into 
individual triangles, which is not terribly space-efficient.  If you 
don't apply the -f option, it also creates a texture for each triangle 
to produce a smoothed result if vertex normal data is included in the 
.OBJ file, which leads to further expansion of the model.  This may not 
be a problem for small meshes, but it can add up to a lot of memory use 
for large ones.

A new alternative in the HEAD release is the obj2mesh converter, which 
compiles a .OBJ file into a "Radiance Triangle Mesh," a special kind of 
octree that may be instantiated in the scene using the new "mesh" 
primitive.

If you have a formula or vertex data points rather than a .OBJ file, 
you may use the gensurf command to convert it into Radiance polygons.  
The HEAD version of gensurf includes a -o option for outputting to .OBJ 
format, which may then be converted to an RTM using obj2mesh.

I hope this helps.
-Greg

> From: Tarik Rahman <tarik.rahman@ed.ac.uk>
> Date: September 27, 2004 8:37:32 AM PDT
>
> Hi
> Does anyone know how I could create a triangular mesh of a radiance 
> scene such
> as convert to .obj format or something like that?
>
> Thanks
>
> Tarik
> --
> Tarik Rahman
> PhD student, Institue of Perception, Action and Behaviour
> School of Informatics
> University of Edinburgh


From MMoeck at engr.psu.edu  Mon Sep 27 17:55:52 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon Sep 27 17:56:35 2004
Subject: [Radiance-general] Radiance and Lumen Micro Differences
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C233D33@ENGRMAIL2.engr.psu.edu>

John: 
 
I agree in general. I was thinking about complex museums with 2000 m2 ands lots of windows and mullions when I recommended my parameters. That's just the museum work that I am exposed to. But ever since 1990, we did tests at Siemens Lighting and it was always the same story: 5 -6 ambient bounces will get you there, even for simpler rooms. I have never found exceptions. 
 
Regards
 
Martin

	-----Original Message----- 
	From: John Mardaljevic [mailto:jm@dmu.ac.uk] 
	Sent: Mon 9/27/2004 11:47 AM 
	To: radiance-general@radiance-online.org 
	Cc: 
	Subject: [Radiance-general] Radiance and Lumen Micro Differences
	
	

	Martin,
	
	> In general, Radiance is more accurate than other programs if you make
	> extensive use of small patches with mkillum, set the -av parameter to a
	> reasonable value, and use the following parameters:
	> -ab 5
	> -ad 2048 or higher
	> -as 1024
	> -ar 5000
	> -ds .05
	
	> If you use -ab 1 instead of 5, your values are typically half of what they
	> should be. If you use -ab 3, they might be 30% too low.
	
	That ar setting is rather on the high side.  Also, the high accuracy
	that was achieved with the BRE-IDMP dataset relied only on the ambient
	calculation - no mkillum.  Some tests I carried out at the time (95-97)
	showed that accurate pure ambient tended to be faster than comparably
	accurate mkillum.  For both cases the parameters were gradually refined
	until the predictions converged to the measured values (method described
	in Chap 6 of RwR).  Radiance has changed a bit in the meantime, but I'd
	wager that pure ambient is still an effective way to achieve high accuracy.
	And maybe even more efficient too.  Perhaps I should repeat the tests using
	the latest version - but don't hold your breath just yet.
	In any case, I'd stick with the method of testing for convergence (Ch 6 RwR).
	The "optimum" parameter combination will depend on the scene, and convergence
	testing by progressive refinement is the quickest way to get there.
	It's the most reliable method too.
	
	-John
	
	-----------------------------------------------
	Dr. John Mardaljevic                    
	Senior Research Fellow
	Institute of Energy and Sustainable Development
	De Montfort University
	The Gateway
	Leicester
	LE1 9BH, UK
	+44 (0) 116 257 7972  
	+44 (0) 116 257 7981 (fax)
	
	jm@dmu.ac.uk  
	http://www.iesd.dmu.ac.uk/~jm
	
	
	_______________________________________________
	Radiance-general mailing list
	Radiance-general@radiance-online.org
	http://www.radiance-online.org/mailman/listinfo/radiance-general
	

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 6130 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20040927/978a3794/attachment-0001.bin
From MMoeck at engr.psu.edu  Mon Sep 27 18:01:16 2004
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon Sep 27 18:01:57 2004
Subject: [Radiance-general] Measured BRDF data
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C233D35@ENGRMAIL2.engr.psu.edu>

See also
 
http://www1.cs.columbia.edu/CAVE/curet/.index.html
 
 
Martin
 
Martin Moeck, Ph.D., Assistant Professor, ASHRAE, IESNA
The Pennsylvania State University
Department of Architectural Engineering
104 Engineering A
University Park, PA 16802
e-mail: mm12@psu.edu
Tel +1 814 863 3555
Fax +1 814 863 4789
http://www.engr.psu.edu/ae/faculty/moeck.htm
 

	-----Original Message----- 
	From: Greg Ward [mailto:gward@lmi.net] 
	Sent: Mon 9/27/2004 11:34 AM 
	To: Radiance general discussion; brayford@cs.man.ac.uk 
	Cc: 
	Subject: Re: [Radiance-general] Measured BRDF data
	
	

	Check out the MIT/MERL database of BRDFs:
	
	        http://graphics.csail.mit.edu/~wojciech/BRDF/
	
	-Greg
	
	> From: "David" <david.k.brayford@stud.man.ac.uk>
	> Date: September 27, 2004 5:27:59 AM PDT
	>
	I am looking to evaluate a simulated BRDF for multilayered materials
	such as glass, metallic paint and dielectric polymers with measured
	BRDF data. Does anyone know where I can download measured BRDF data
	preferably spectral data.
	
	Regards
	
	David
	
	
	_______________________________________________
	Radiance-general mailing list
	Radiance-general@radiance-online.org
	http://www.radiance-online.org/mailman/listinfo/radiance-general
	

From grobe at gmx.net  Wed Sep 29 09:23:19 2004
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Sep 29 09:21:25 2004
Subject: [Radiance-general] triangulate radiance scene
In-Reply-To: <1096299452.415833bcd5eaa@sms.ed.ac.uk>
Message-ID: <6FDDE644-11E8-11D9-91BA-000A959DDB22@gmx.net>

> Does anyone know how I could create a triangular mesh of a radiance 
> scene such
> as convert to .obj format or something like that?

Hi Tarik!

So do you want to "export" the scene into another 3d-format ("as 
convert to obj"), or do you want to have a radiance scene of triangles? 
If the first is the case, the only way I know is rad2mgf, mgf2inv 
(which will produce inventor- or vrml-files).

CU Lars.
--
Lars O. Grobe
grobe@gmx.net


