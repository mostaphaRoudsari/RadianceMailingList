From pisuke at blueyonder.co.uk  Sun May  1 12:22:12 2005
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Sun May  1 12:23:00 2005
Subject: [Radiance-general] Mist material
Message-ID: <1114942932.2641.19.camel@leviathan>

Hi all!

The Mist material description at
http://radsite.lbl.gov/radiance/refer/ray.html
mentions that:

"Fits to the g parameter may be found along with typical extinction
coefficients and scattering albedos for various atmospheres and cloud
types in USGS meteorological tables"

Has anybody got hold of these tables or something similar?

Thanks!

Francesco

-- 
pisuke@blueyonder.co.uk


From ap.huangwx at archi.kyoto-u.ac.jp  Mon May  2 06:54:29 2005
From: ap.huangwx at archi.kyoto-u.ac.jp (Huang Weixin)
Date: Mon May  2 06:55:17 2005
Subject: [Radiance-general] material definition
Message-ID: <000f01c54ed3$090ed480$1f7af90a@huangweixin>

Hi,

I am planning to do a great deal of simulations of  an interior space, with 
different combinations of materials ( such as different kinds of paint, 
plaster, wood, stone, ceramic tile, and carpet) , so I wonder if there are 
some well defined material libraries for Radiance that I can refer to, or 
how to make a proper material defination by myself if no such material 
library exist.

thanks a lot.

Yours,
Huang 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050502/c0e9c961/attachment.html
From pisuke at blueyonder.co.uk  Mon May  2 11:25:29 2005
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Mon May  2 11:26:00 2005
Subject: [Radiance-general] xglaresrc question
In-Reply-To: <b094d4d4050423130931ddf59a@mail.gmail.com>
References: <b094d4d4050423130931ddf59a@mail.gmail.com>
Message-ID: <1115025929.2827.18.camel@leviathan>

Hi Siritip,

And sorry for the late reply.
Can you confirm the way you've launched xglaresrc?

You should create a glare file first with findglare
and then launch xglaresrc like this:

xglaresrc image.pic glarefile

I've tested it with cygwin and it works properly.

--
Francesco




From grobe at gmx.net  Mon May  2 16:24:45 2005
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon May  2 16:25:11 2005
Subject: [Radiance-general] material definition
In-Reply-To: <000f01c54ed3$090ed480$1f7af90a@huangweixin>
References: <000f01c54ed3$090ed480$1f7af90a@huangweixin>
Message-ID: <f51f024875441fa5297305ccd984d28d@gmx.net>

Hi,

this is quite a FAQ. There are libraries available, however, if you 
exactly know the material you want to simulate, it is often desireable 
to use a real sample and not a "generic" material description that may 
vary from the one you will use. Still these libraries are valuable, as 
they give an idea of how it might look like, and some are simply 
measured data files. The most popular material library is the one that 
comes with Radiance, it is called materials.rad and you find it in the 
lib directory. There are great libraries on the mgf-website, go to 
radsite.lbl.gov, and take a look at the mgf pages. You can use mgf2rad 
to convert these libraries to the material format that is used by 
radiance.

Finally, there are a lot of ways to generate your own material 
descriptions. You should really take a look at the book "rendering with 
radiance". There are different methods, from "guess and compare" to 
measurements with special equipment. I have used "calibrated" 
photographs, with the help of the mabbethcal utility.

CU Lars.


From jlai at lbl.gov  Wed May  4 12:13:29 2005
From: jlai at lbl.gov (judy lai)
Date: Wed May  4 12:04:46 2005
Subject: [Radiance-general] fiber optics?
Message-ID: <4278A049.2090702@lbl.gov>

Hallo,

do IES data files exist for fiber optics lighting? 


judy

From rpg at rumblestrip.org  Wed May  4 16:37:25 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed May  4 16:37:56 2005
Subject: [Radiance-general] fiber optics?
In-Reply-To: <4278A049.2090702@lbl.gov>
References: <4278A049.2090702@lbl.gov>
Message-ID: <51669.209.212.87.250.1115217445.squirrel@209.212.87.250>


Hi Judy,

On Wed, May 4, 2005 6:13 am, judy lai said:
> Hallo,
>
> do IES data files exist for fiber optics lighting?

The problem with fiber is that there are so many combinations of
illuminator, lamp, fiber run length, lens, (and quality of
contractor/installation), that ies files would necessarily vary from job
to job and even fixture to fixture.  That said, some manufacturers do
provide ies files that describe the performance of one system, and then
give you some multipliers to help you accurately tailor the output of a
given installation.

http://www.fiberstars.com/cl/downloads/clIES.htm

The Fiberstars site listed above is one example, but you will note that
there is no "bend factor", and no "lousy end finishing because the
contractor was a hack factor", both of which need to be accounted for in
the simulation, yet often difficult to quantify.

So to answer your question: "yes, BUT..."  =8-)

-- 
Rob Guglielmetti
www.rumblestrip.org

From maino at psu.edu  Wed May  4 18:09:32 2005
From: maino at psu.edu (J. David Maino)
Date: Wed May  4 18:10:04 2005
Subject: [Radiance-general] fiber optics?
In-Reply-To: <51669.209.212.87.250.1115217445.squirrel@209.212.87.250>
Message-ID: <000001c550c3$ab38ac30$3d1b4742@jdm341work>

Judy,

One option might be to use a program such as TracePro to model the fiber
optics. Assuming you know the lamp type used and its lumen output, the
material the fibers and end piece will be made of, the length you'll need
(which shouldn't be too hard to estimate if you know where the box is
located and where the fibers terminate), and an approximate shape for the
end piece, you should be able to put together a fairly accurate distribution
that takes into account losses in the fibers, box, and end piece. TracePro
will allow you to export the distribution to an IES file which you can then
use in radiance. Depending on how accurate you want to get this can take you
anywhere from 20 minutes to a few hours to put together.

I'm not familiar with other ray-tracing/luminaire design programs like
TracePro, but I'm sure there are more out there that allow you to do the
same thing.

Hope this helps!

Dave Maino




From plaberge at labergedaylight.com  Wed May  4 23:46:15 2005
From: plaberge at labergedaylight.com (Paul LaBerge)
Date: Wed May  4 23:47:30 2005
Subject: [Radiance-general] the program 'calc'
Message-ID: <1432ce40d956e015eb0fd7f1198a86f6@labergedaylight.com>

I would like to use the program calc as in man pages and RwR, however, 
I can't find it anywhere.
Is it missing in action?
Cheers,
Paul


From rpg at rumblestrip.org  Thu May  5 00:01:42 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu May  5 00:02:13 2005
Subject: [Radiance-general] the program 'calc'
In-Reply-To: <1432ce40d956e015eb0fd7f1198a86f6@labergedaylight.com>
References: <1432ce40d956e015eb0fd7f1198a86f6@labergedaylight.com>
Message-ID: <62459.209.212.87.250.1115244102.squirrel@209.212.87.250>


Hi Paul,

On Wed, May 4, 2005 5:46 pm, Paul LaBerge said:
> I would like to use the program calc as in man pages and RwR, however,
> I can't find it anywhere.
> Is it missing in action?

It got renamed, to eliminate a conflict.  Try "icalc", I believe.  Here's
the post that started it all:

http://www.radiance-online.org/pipermail/radiance-general/2003-December/001288.html

You could also create an alias called "the program formerly known as
calc", but that's messy.

-- 
Rob Guglielmetti
www.rumblestrip.org

From gregoryjward at gmail.com  Thu May  5 00:01:52 2005
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu May  5 00:02:35 2005
Subject: [Radiance-general] the program 'calc'
In-Reply-To: <1432ce40d956e015eb0fd7f1198a86f6@labergedaylight.com>
References: <1432ce40d956e015eb0fd7f1198a86f6@labergedaylight.com>
Message-ID: <1e6534dde6fbb5123ac1bbdf4571b2b8@gmail.com>

Hi Paul,

The calc program has been renamed to "icalc" in 3.6 to avoid a naming 
conflict on some Unix systems.  (The new name corresponds to 
"interactive calculator" if it helps you remember.)  These are the name 
changes that were made in 3.6:

	calc -> icalc
	gencat -> gencatenary
	lam -> rlam
	neat -> neaten
	rview -> rvu

The "rvu" program has a symbolic link to "rview," but still you'll get 
an invocation of the restricted, read-only version of "vi" on most 
systems unless you Radiance binaries are ahead of /usr/bin in your PATH 
variable.

-G

> From: Paul LaBerge <plaberge@labergedaylight.com>
> Date: May 4, 2005 2:46:15 PM PDT
>
> I would like to use the program calc as in man pages and RwR, however, 
> I can't find it anywhere.
> Is it missing in action?
> Cheers,
> Paul


From plaberge at labergedaylight.com  Thu May  5 01:04:37 2005
From: plaberge at labergedaylight.com (Paul LaBerge)
Date: Thu May  5 01:05:06 2005
Subject: [Radiance-general] Re: the program 'calc'
In-Reply-To: <1e6534dde6fbb5123ac1bbdf4571b2b8@gmail.com>
References: <1432ce40d956e015eb0fd7f1198a86f6@labergedaylight.com>
	<1e6534dde6fbb5123ac1bbdf4571b2b8@gmail.com>
Message-ID: <50933660220766e3833fcd4b853c1bf9@labergedaylight.com>

Greg and Rob G.
Thanks for the info. I'll make the necessary changes.
Paul

> calc -> icalc
> gencat -> gencatenary
> lam -> rlam
> neat -> neaten
> rview -> rvu


From gregoryjward at gmail.com  Thu May  5 04:22:24 2005
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu May  5 04:23:11 2005
Subject: [Radiance-general] fiber optics?
Message-ID: <5cc5c2a4a8bfdb99102f1f2d0cb02469@gmail.com>

My friend Ian Ashdown, an expert in both LEDs and IES files, had this 
to say on the topic:

> From: "Ian Ashdown" <ian_ashdown@helios32.com>
> Date: May 4, 2005 5:52:31 PM PDT
> To: "'Greg Ward'" <gregoryjward@gmail.com>, <dario.pierobon@tin.it>
> Subject: RE: desktop radiance led and fiber optic

LED-based luminaires are considered to be the same as any other 
luminaire
when it comes to photometric data files. TIR Systems (www.tirsys.com), 
for
example, offer industry-standard IESNA LM-63-02 data files for their 
Destiny
products.

There are two classes of fiber optic lighting: 1) the fiber optic emits
light along its length, similar to cold-cathode ("neon") lighting; and 
2)
the fiber optic emits light at its end, typically in a housing designed 
to
look like a small point-source luminaire.

In the first case, the fiber optic is probably best modeled as a 
Lambertian
emitter. In the second case, industry-standard IESNA LM-63-02 (or 
EULUMDAT)
data files are applicable.

IESNA Publication LM-76-02, "Photometric Testing of Fiber Optics 
Lighting
Systems," describes recommended practices for fiber optic photometry.

Ian Ashdown, P. Eng., LC, FIES
President
byHeart Consultants Limited
http://www.helios32.com


From jedev at visarc.com  Fri May  6 20:59:06 2005
From: jedev at visarc.com (Jack de Valpine)
Date: Fri May  6 21:05:07 2005
Subject: [Radiance-general] 3ds -> obj -> mesh
Message-ID: <427BBE7A.4080307@visarc.com>

Hi all,

Does anyone know of an easy way to go from a 3ds format file to an obj 
format file (preferably free and/or opensource)?

Thanks,

-Jack

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From despina_m81 at hotmail.com  Fri May  6 21:25:45 2005
From: despina_m81 at hotmail.com (Despina Michael)
Date: Fri May  6 21:26:31 2005
Subject: [Radiance-general] 3ds -> obj -> mesh
References: <427BBE7A.4080307@visarc.com>
Message-ID: <BAY22-DAV162E6CD81CB4BCFEDB4A58901B0@phx.gbl>

Hi Jack,

anim8or is a free modelling software that can import/export 3ds and obj 
files.
You can download it from here www.anim8or.com

. but I think (I am not sure) sometimes it mess up model's normals.

but give it a try.
It does not need any installation, it is just an executable file.

Regards,
Despina

----- Original Message ----- 
From: "Jack de Valpine" <jedev@visarc.com>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Sent: Friday, May 06, 2005 9:59 PM
Subject: [Radiance-general] 3ds -> obj -> mesh


> Hi all,
>
> Does anyone know of an easy way to go from a 3ds format file to an obj 
> format file (preferably free and/or opensource)?
>
> Thanks,
>
> -Jack
>
> -- 
> # John E. de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 

From pisuke at blueyonder.co.uk  Fri May  6 21:40:04 2005
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Fri May  6 21:40:51 2005
Subject: [Radiance-general] 3ds -> obj -> mesh
In-Reply-To: <427BBE7A.4080307@visarc.com>
References: <427BBE7A.4080307@visarc.com>
Message-ID: <1115408404.2686.8.camel@leviathan>

Hi Jack,

> Does anyone know of an easy way to go from a 3ds format file to an  
> obj format file (preferably free and/or opensource)?

I often use 3dto3d
http://www.tb-software.com/download/3dto3dsrc.zip
It can convert between several formats.

I think the source code is obfuscated in some strange way, but it
compiles well with gcc, after changing a little bit the Makefile.
For linux, you can download a binary rpm package
http://rpmfind.net/linux/RPM/suse/9.2/i386/suse/i586/3dto3d-3.5-20.i586.html

It is actually the commandline version of a windows program: 3DWin
http://www.tb-software.com/download.html

--
Francesco





From kthibault at biomechanicsinc.com  Fri May  6 22:17:15 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri May  6 22:17:30 2005
Subject: [Radiance-general] 3ds -> obj -> mesh
In-Reply-To: <BAY22-DAV162E6CD81CB4BCFEDB4A58901B0@phx.gbl>
References: <427BBE7A.4080307@visarc.com>
	<BAY22-DAV162E6CD81CB4BCFEDB4A58901B0@phx.gbl>
Message-ID: <a35eed22ee90f11c48494389cb3afcd0@biomechanicsinc.com>

Same with Blender:

www.blender3d.org


On May 6, 2005, at 3:25 PM, Despina Michael wrote:

> Hi Jack,
>
> anim8or is a free modelling software that can import/export 3ds and 
> obj files.
> You can download it from here www.anim8or.com
>
> . but I think (I am not sure) sometimes it mess up model's normals.
>
> but give it a try.
> It does not need any installation, it is just an executable file.
>
> Regards,
> Despina
>
> ----- Original Message ----- From: "Jack de Valpine" <jedev@visarc.com>
> To: "Radiance general discussion" 
> <radiance-general@radiance-online.org>
> Sent: Friday, May 06, 2005 9:59 PM
> Subject: [Radiance-general] 3ds -> obj -> mesh
>
>
>> Hi all,
>>
>> Does anyone know of an easy way to go from a 3ds format file to an 
>> obj format file (preferably free and/or opensource)?
>>
>> Thanks,
>>
>> -Jack
>>
>> -- 
>> # John E. de Valpine
>> # president
>> #
>> # visarc incorporated
>> # http://www.visarc.com
>> #
>> # channeling technology for superior design and construction
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From grobe at gmx.net  Sat May  7 13:25:56 2005
From: grobe at gmx.net (Lars Grobe)
Date: Sat May  7 13:26:23 2005
Subject: [Radiance-general] 3ds -> obj -> mesh
References: <a35eed22ee90f11c48494389cb3afcd0@biomechanicsinc.com>
Message-ID: <27803.1115465156@www41.gmx.net>

By the way, why do you want to do this? Just because of keeping the
uv-coordinates? Usually 3ds -> mgf -> rad was not too bad.

CU Lars.

From dario.pierobon at tin.it  Wed May 11 12:56:01 2005
From: dario.pierobon at tin.it (dario.pierobon@tin.it)
Date: Wed May 11 12:56:39 2005
Subject: [Radiance-general] Desktop radiance:materials,maps and lamps
Message-ID: <4244C47200046318@ims2f.cp.tin.it>

Hi, I'm using Desktop Radiace2.0 and i have some questions:

1- where I can find properties(reflectance,roughness,transmittance,specularity)of:
brick,stone like travertin.I saw that there is a directory "Radiance/lib/lib/material.rad"
where there are some materials no including in material library of desktop
radiance.How can I import this in desktop radiance?..Do I use material manager
or replace only copy the file of material somewhere..and where? 

2- I have a floor like chees-board, I can use a map (if yes, how?) or I
 have make each 3dface?this question is the same for a wall of brick and
a picture in format jpeg.


3- i don't understand how use luminaire manager...i have to create my lamp
in autocad(when do i assign material's lamp'),then insert is format,but
can I use a lamp that is in luminarie library and only change ies format?if
yes,how is the procedure?

Thank for help
Dario


From a.jacobs at londonmet.ac.uk  Thu May 12 15:31:09 2005
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Thu May 12 15:28:44 2005
Subject: [Radiance-general] LEARNIX 3.8.1 beta testing
In-Reply-To: <426D20BA.6040604@t-online.de>
References: <426D20BA.6040604@t-online.de>
Message-ID: <10042.213.58.100.116.1115904669.squirrel@213.58.100.116>

Dear all,

LEARNIX is a bootable CD-ROM allowing you to use UNIX RADIANCE and ESP-r
on a PC without having to install UNIX/LINUX. LEARNIX is based on KNOPPIX.

The release of the next LEARNIX is imminent. If anybody uses LEARNIX and
would like to request features or report bugs, please send me an email or
lease your comments on the site.

http://luminance.londonmet.ac.uk/learnix/

Cheers

Axel




From grobe at gmx.net  Mon May 16 14:51:39 2005
From: grobe at gmx.net (Lars Grobe)
Date: Mon May 16 14:52:10 2005
Subject: [Radiance-general] oconv -r and obj2mesh -r parameter?
Message-ID: <10719.1116247899@www56.gmx.net>

Hi,

I have a question regarding the obj2mesh tool. So far I always used
instances generated by oconv, and the -r setting was always the one that I
also used when assembling the whole scene (the same with -n). Now I use
obj2mesh, and a question comes to my mind. If I follow the rule -r >
bounding cube / smallest face, I can use a much smaller -r for obj2mesh then
for the finally assembling oconv. However, does that make sense? Or will I
produce trouble with differing resolution settings for instances, meshes and
the complete scene?

The reason for my question is that the model I am working on is currently
growing a lot, and I a getting trouble with really large oconv processes
when assembling the scene ( > 1 GB) or, when using the -n parameter, slow
renderings...

TIA+CU Lars.

From gregoryjward at gmail.com  Mon May 16 17:30:15 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon May 16 17:30:54 2005
Subject: [Radiance-general] oconv -r and obj2mesh -r parameter?
In-Reply-To: <10719.1116247899@www56.gmx.net>
References: <10719.1116247899@www56.gmx.net>
Message-ID: <47D60AA2-CF51-461F-A642-94B878CADA84@gmail.com>

Hi Lars,

If I understand your question correctly, you do not need to worry  
about the difference between the minimum voxel size set by -r in  
obj2mesh and the minimum voxel set in oconv, as they are unrelated.   
Oconv incorporates the mesh created by obj2mesh, as well as instances  
created by other oconv runs, as transformed cubes in the scene, and  
does not subdivide them beyond that unless they intersect other  
instances or meshes or geometry.  If they intersect each other too  
much, oconv can take a long time to resolve them.

-Greg

> From: "Lars Grobe" <grobe@gmx.net>
> Date: May 16, 2005 5:51:39 AM PDT
>
> I have a question regarding the obj2mesh tool. So far I always used
> instances generated by oconv, and the -r setting was always the one  
> that I
> also used when assembling the whole scene (the same with -n). Now I  
> use
> obj2mesh, and a question comes to my mind. If I follow the rule -r >
> bounding cube / smallest face, I can use a much smaller -r for  
> obj2mesh then
> for the finally assembling oconv. However, does that make sense? Or  
> will I
> produce trouble with differing resolution settings for instances,  
> meshes and
> the complete scene?
>
> The reason for my question is that the model I am working on is  
> currently
> growing a lot, and I a getting trouble with really large oconv  
> processes
> when assembling the scene ( > 1 GB) or, when using the -n  
> parameter, slow
> renderings...
>
> TIA+CU Lars.

From despina_m81 at hotmail.com  Mon May 16 21:08:08 2005
From: despina_m81 at hotmail.com (Despina Michael)
Date: Mon May 16 21:09:24 2005
Subject: [Radiance-general] time need independent from number of faces?
Message-ID: <BAY22-DAV2E084168692E05E6F9C0590150@phx.gbl>

Hi all, 
I have a question about time needed to illumintate scene in radiance?

I modeled a simple cube, but i created many models of that with different number of polygons.
The simples cube has 12 polygons (6 faces) and the most complex has about 5000 polygons.

For all different models that represent exactly the same cube, it tooks about 4 minutes to be illuminated (leaving all other parameters the same).

Why is that? Does this make sense? 

Thank you!
Despina
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050516/d3a798fe/attachment.html
From gregoryjward at gmail.com  Tue May 17 00:12:01 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue May 17 00:12:38 2005
Subject: [Radiance-general] time need independent from number of faces?
In-Reply-To: <BAY22-DAV2E084168692E05E6F9C0590150@phx.gbl>
References: <BAY22-DAV2E084168692E05E6F9C0590150@phx.gbl>
Message-ID: <3FFF9554-6896-4715-BF1D-E74BD5B07EF0@gmail.com>

The ray-tracing time in Radiance is only weakly affected by the  
number of surfaces, thanks to the octree spatial subdivision.  I  
would expect the calculation time to increase with representation,  
but very slowly.  (That's why you can render scenes with millions of  
surfaces.)

-Greg

> From: "Despina Michael" <despina_m81@hotmail.com>
> Date: May 16, 2005 12:08:08 PM PDT
>
> Hi all,
> I have a question about time needed to illumintate scene in radiance?
>
> I modeled a simple cube, but i created many models of that with  
> different number of polygons.
> The simples cube has 12 polygons (6 faces) and the most complex has  
> about 5000 polygons.
>
> For all different models that represent exactly the same cube, it  
> tooks about 4 minutes to be illuminated (leaving all other  
> parameters the same).
>
> Why is that? Does this make sense?
>
> Thank you!
> Despina
>

From grobe at gmx.net  Tue May 17 19:51:09 2005
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue May 17 19:51:47 2005
Subject: [Radiance-general] obj parser in obj2rad and obj2mesh
Message-ID: <b08d0bd890d384147418906429628d03@gmx.net>

Hi!

I am experiencing a strange problem with obj2rad and obj2mesh here. I 
have an obj-file, and if I load it with obj2rad, I get a nice radiance 
model of the file. If I use obj2mesh, the model has errors.

There are zero-surface polygons reported, so the CAD geometry is not 
really clean. However, I thought that the basic parser would be the 
same in both translators. Have I been wrong here? My problem is that I 
just decided to use mesh objects instead of instanced geometry 
resulting from obj2rad. So I wonder if I should go back in this case 
now.

Below the small images, "nice" from obj2rad, "corrupt" from obj2mesh 
(both as seen in objview).

TIA+CU Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: nice.jpg
Type: image/jpeg
Size: 6994 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20050517/f707a382/nice.jpg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: corrupt.jpg
Type: image/jpeg
Size: 7240 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20050517/f707a382/corrupt.jpg
From gregoryjward at gmail.com  Tue May 17 20:00:54 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue May 17 20:01:35 2005
Subject: [Radiance-general] obj parser in obj2rad and obj2mesh
In-Reply-To: <b08d0bd890d384147418906429628d03@gmx.net>
References: <b08d0bd890d384147418906429628d03@gmx.net>
Message-ID: <DE16856C-3945-4023-B743-3806CFB77F5A@gmail.com>

Hi Lars,

Both images look like they are suffering from image sampling errors.   
You should try rendering these at higher resolution, setting -ps 1 in  
rpict (or "set ps 1" in rvu).

I assume you're using the latest version of Radiance (3.6)?

-Greg

P.S.  If the problem persists and isn't just image sampling, please  
send me your .OBJ file (compressed), and I'll have a look.  Don't  
copy it to the mailing list, though.

> From: Lars O. Grobe <grobe@gmx.net>
> Date: May 17, 2005 10:51:09 AM PDT
>
> Hi!
>
> I am experiencing a strange problem with obj2rad and obj2mesh here.  
> I have an obj-file, and if I load it with obj2rad, I get a nice  
> radiance model of the file. If I use obj2mesh, the model has errors.
>
> There are zero-surface polygons reported, so the CAD geometry is  
> not really clean. However, I thought that the basic parser would be  
> the same in both translators. Have I been wrong here? My problem is  
> that I just decided to use mesh objects instead of instanced  
> geometry resulting from obj2rad. So I wonder if I should go back in  
> this case now.
>
> Below the small images, "nice" from obj2rad, "corrupt" from  
> obj2mesh (both as seen in objview).
>
> TIA+CU Lars.

From gregoryjward at gmail.com  Wed May 18 18:53:31 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed May 18 18:54:08 2005
Subject: [Radiance-general] obj parser in obj2rad and obj2mesh
In-Reply-To: <7701f0a04beb19495c8324a08435279c@gmx.net>
References: <b08d0bd890d384147418906429628d03@gmx.net>
	<DE16856C-3945-4023-B743-3806CFB77F5A@gmail.com>
	<7701f0a04beb19495c8324a08435279c@gmx.net>
Message-ID: <84798548-5EAD-40F6-BAB7-9D6344679316@gmail.com>

Hi Lars,

I found the problem.  You have a couple of polygons with 105  
vertices, which obj2rad leaves as is, but obj2mesh has to convert  
these to triangles, since that's all the mesh primitive supports.   
Unfortunately, the algorithm in place to do this only works properly  
for convex polygons.  Implementing a proper, general triangulation  
method is a hard problem, and not something I have time for at the  
moment.

If anyone out there has a bit of code they'd like to lend to the  
cause, or a good reference they can recommend, I'd be happy to hear it.

-Greg

> From: Lars O. Grobe <grobe@gmx.net>
> Date: May 18, 2005 2:01:58 AM PDT
>
>> Both images look like they are suffering from image sampling  
>> errors.  You should try rendering these at higher resolution,  
>> setting -ps 1 in rpict (or "set ps 1" in rvu).
>>
>
> My problem is that there are large closed surfaces in the one  
> rendering, some kind of surface overlapping the window frame. I  
> tried ps 1.
>
>
>> I assume you're using the latest version of Radiance (3.6)?
>>
>
> Yes.
>
>
>> P.S.  If the problem persists and isn't just image sampling,  
>> please send me your .OBJ file (compressed), and I'll have a look.   
>> Don't copy it to the mailing list, though.
>>
>
> I attach the bzipped file. I also marked the overlapping surfaces  
> in the png file.
>
> Thank you, CU Lars.
>

From kthibault at biomechanicsinc.com  Wed May 18 19:05:22 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Wed May 18 19:06:01 2005
Subject: [Radiance-general] obj parser in obj2rad and obj2mesh
In-Reply-To: <84798548-5EAD-40F6-BAB7-9D6344679316@gmail.com>
References: <b08d0bd890d384147418906429628d03@gmx.net>
	<DE16856C-3945-4023-B743-3806CFB77F5A@gmail.com>
	<7701f0a04beb19495c8324a08435279c@gmx.net>
	<84798548-5EAD-40F6-BAB7-9D6344679316@gmail.com>
Message-ID: <E949CBD3-9753-419D-AB92-E5DECD65E5FE@biomechanicsinc.com>

Greg, you are my hero.

Kirk

On May 18, 2005, at 12:53 PM, Greg Ward wrote:

> Hi Lars,
>
> I found the problem.  You have a couple of polygons with 105  
> vertices, which obj2rad leaves as is, but obj2mesh has to convert  
> these to triangles, since that's all the mesh primitive supports.   
> Unfortunately, the algorithm in place to do this only works  
> properly for convex polygons.  Implementing a proper, general  
> triangulation method is a hard problem, and not something I have  
> time for at the moment.
>
> If anyone out there has a bit of code they'd like to lend to the  
> cause, or a good reference they can recommend, I'd be happy to hear  
> it.
>
> -Greg
>
>
>> From: Lars O. Grobe <grobe@gmx.net>
>>

From grobe at gmx.net  Wed May 18 20:54:10 2005
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed May 18 20:54:45 2005
Subject: [Radiance-general] obj parser in obj2rad and obj2mesh
In-Reply-To: <84798548-5EAD-40F6-BAB7-9D6344679316@gmail.com>
References: <b08d0bd890d384147418906429628d03@gmx.net>
	<DE16856C-3945-4023-B743-3806CFB77F5A@gmail.com>
	<7701f0a04beb19495c8324a08435279c@gmx.net>
	<84798548-5EAD-40F6-BAB7-9D6344679316@gmail.com>
Message-ID: <ac1e5e5ea1585208cd99849e8a3a552e@gmx.net>

> I found the problem.  You have a couple of polygons with 105 vertices, 
> which obj2rad leaves as is, but obj2mesh has to convert these to 
> triangles, since that's all the mesh primitive supports.  
> Unfortunately, the algorithm in place to do this only works properly 
> for convex polygons.  Implementing a proper, general triangulation 
> method is a hard problem, and not something I have time for at the 
> moment.
>
> If anyone out there has a bit of code they'd like to lend to the 
> cause, or a good reference they can recommend, I'd be happy to hear 
> it.

Hi Greg,

first thank You for finding the reason of this problem. I had been 
trying to find errors in the geometry for quite a while, so this was 
really a great help. I use a dxf file now, and convert that with Georg 
Mischler's dxf2rad.

There is a "GNU Triangulated Surface Library" 
(http://gts.sourceforge.net/), I am not sure if it can be useful ?

CU Lars.


From gregoryjward at gmail.com  Thu May 19 00:38:47 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu May 19 00:39:26 2005
Subject: [Radiance-general] obj parser in obj2rad and obj2mesh
In-Reply-To: <ac1e5e5ea1585208cd99849e8a3a552e@gmx.net>
References: <b08d0bd890d384147418906429628d03@gmx.net>
	<DE16856C-3945-4023-B743-3806CFB77F5A@gmail.com>
	<7701f0a04beb19495c8324a08435279c@gmx.net>
	<84798548-5EAD-40F6-BAB7-9D6344679316@gmail.com>
	<ac1e5e5ea1585208cd99849e8a3a552e@gmx.net>
Message-ID: <0D2125D4-541E-484D-B3CF-D3530DF44A26@gmail.com>

Hi Lars,

Thanks for the pointer to the GNU gts library.  This probably has  
what we need, buried in there somewhere.  Getting it out would take  
some time, and might require converting Radiance to a GNU-compatible  
license.  Not really an option, I think.

-G

> From: Lars O. Grobe <grobe@gmx.net>
> Date: May 18, 2005 11:54:10 AM PDT

> Hi Greg,
>
> first thank You for finding the reason of this problem. I had been  
> trying to find errors in the geometry for quite a while, so this  
> was really a great help. I use a dxf file now, and convert that  
> with Georg Mischler's dxf2rad.
>
> There is a "GNU Triangulated Surface Library" (http:// 
> gts.sourceforge.net/), I am not sure if it can be useful ?
>
> CU Lars.

From Rob.Fitzsimmons at Summit.Fiserv.com  Thu May 19 01:55:45 2005
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Thu May 19 01:56:58 2005
Subject: [Radiance-general] Desktop radiance:materials,maps and lamps
Message-ID: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5964@corvallis>

I'm not a Desktop Radiance user - just Radiance - so I could be wrong - but
since this has not been answered, I'll try


2- I have a floor like chees-board, I can use a map (if yes, how?) or I
 have make each 3dface?this question is the same for a wall of brick and
a picture in format jpeg.

You can use a map - but not from a jpeg - it should be in Radiance .pic
format
change your jpeg to tiff, then you can convert from tiff to pic with
ra_tiff -r chess.tif > chess.pic
this is a sample mapped material
assuming you have a pic named chess.pic

void colorpict mappedfloor
13 red green blue chess.pic /usr/local/lib/ray/picture.cal tile_u tile_v -s
2.5  -t  2 4 0 
0
1 1

In the above example, you are defining a material named mapped floor
13 is the number of arguments to follow 
use the RGB info from chess.pic 
apply it with picture.cal  
tile the picture  
scale it 2.5 times 
translate it 2 on x and 4 on y
if you want it on a wall,  rotate it on x axis -- you'd  add -rx 90 and
change the 13 to 15 (added 2 more arguments)
0 - expect no argument  here
1 argument to follow   1 is the hieght/width ratio of your image (its a
square) 
if your image was a 3:4 ratio it would be 
1 .75

Sorry - can't answer the other Q's

Rob Fitz


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From f.giovannetti at isfh.de  Thu May 19 15:24:09 2005
From: f.giovannetti at isfh.de (Federico Giovannetti)
Date: Thu May 19 15:21:46 2005
Subject: [Radiance-general] Redirecting+scattering
Message-ID: <002801c55c76$0a260f90$e400a8c0@PC501fg>

Hallo Greg Ward, hallo Radiance Community!

I've been learning Radiance for a couple of weeks and i have to work intensively with it in the next weeks, as I?m investigating the energy saving potential and visual comfort of systems combining angular selective and diffusing panes.

Now I have to simulate a simple test-room with a complex fenestration, which includes an exterior prismatic structure as shading device and a diffusing pane for glare control. I try to find out the best way to model the system so as to get quantitative accurate results (RwR Chapters 10-13 and mails archive) but i?m still a little bit confused....

- As to the prismatic structure, i will use the PRISM2 material as virtual source. No redirection of diffuse incoming light and no dispersion are the only limitations of this material. And it would make no sense to use the PhotoMap port, because these materials are not implemented in this tool.  Is it right?

- As to the diffuser, i would intuitively treat it as an ILLUM with a BRTDF function as alternate material (I?m measuring, modelling and comparing different kind of diffusers) and run  MKILLUM.  If i understood correctly, the BRTDF materials are only considered in the direct calculation and indirect specular, but not in the indirect diffuse, where they are approssimate to lambertian diffusers. Should i try another material?

- How are PRISM materials computed in the MKILLUM calculation of the window light output? Should I better try to run the simulation without MKILLUM and high ambient parameters (-ab, -ad, -as)?

- What if i measure the BRTDF of the complete system and i model it as a normal light source? It is really difficult (or impossible) to get sharp peaks in light output with  high subsampling and jittering of the source? 

Any other suggestion to simulate this system correctly (quantitative)? 

Sorry for so many questions and THANKS A LOT for any contribution.

Regards,
Federico Giovannetti

---------------------------------------------------------
Federico Giovannetti
Institut f?r Solarenergieforschung GmbH
Am Ohrberg 1
D-31860 Emmerthal

tel:        +49(0)5151-999-501
fax:       +49(0)5151-999-500
e-mail:   f.giovannetti@isfh.de
internet: www.isfh.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050519/29880a28/attachment.htm
From gregoryjward at gmail.com  Thu May 19 17:08:13 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu May 19 17:08:48 2005
Subject: [Radiance-general] Redirecting+scattering
In-Reply-To: <002801c55c76$0a260f90$e400a8c0@PC501fg>
References: <002801c55c76$0a260f90$e400a8c0@PC501fg>
Message-ID: <69D84B4C-E470-40DE-8ED4-5E2EF60C17BC@gmail.com>

Hi Federico,

It sounds to me like you are "diving into the deep end" as they say  
about new swimmers who are very ambitious.

> - As to the prismatic structure, i will use the PRISM2 material as  
> virtual source. No redirection of diffuse incoming light and no  
> dispersion are the only limitations of this material. And it would  
> make no sense to use the PhotoMap port, because these materials are  
> not implemented in this tool.  Is it right?

I don't know about support in the photon map add-on, but the prism  
material types do redirect diffuse rays as well.  They just don't  
have a diffuse component.

>  - As to the diffuser, i would intuitively treat it as an ILLUM  
> with a BRTDF function as alternate material (I?m measuring,  
> modelling and comparing different kind of diffusers) and run   
> MKILLUM.  If i understood correctly, the BRTDF materials are only  
> considered in the direct calculation and indirect specular, but not  
> in the indirect diffuse, where they are approssimate to lambertian  
> diffusers. Should i try another material?

Your information is correct as far as I understand what you are  
saying.  If you can fit your measurements to a Gaussian lobe  
distribution, you are better off using one of the native models  
(trans or trans2), as all ray paths will be followed appropriately.   
The general BRDF types, transfunc, transdata, and BRTDfunc, only use  
the directional-diffuse lobe specified for interactions with light  
sources.  General ray sampling from an arbitrary distribution is  
quite expensive, and not done in Radiance for that reason.

>  - How are PRISM materials computed in the MKILLUM calculation of  
> the window light output? Should I better try to run the simulation  
> without MKILLUM and high ambient parameters (-ab, -ad, -as)?

The diffuse portion of the window distribution through a prismatic  
glazing will be computed by mkillum, leaving the  
"specular" (directional) portion to be done during the final  
rendering.  This is the correct behavior, and you don't have to treat  
it specially with mkillum, which is helpful for considering  
contributions from the sky, ground, and neighboring structures.

>  - What if i measure the BRTDF of the complete system and i model  
> it as a normal light source? It is really difficult (or impossible)  
> to get sharp peaks in light output with  high subsampling and  
> jittering of the source?

I'm not sure what you mean, here.  If you have some way to simulate  
your exterior and measure the actual output distribution of the  
window system as a light source, then you wish to represent that as a  
brightdata modifier on a window polygon, this would work.  It's a  
very challenging measurement problem, though, which is why no one has  
done it to my knowledge.  (Anyone out there have information on this?)

The purpose of mkillum of course is to create a light source from  
your surface(s) by simulating an outdoor situation.  It doesn't  
always work, though.  Specifically, mkillum has trouble resolving the  
contribution from the sun through curved, specular reflectors and  
devices.  It can handle most everything else.

>  Any other suggestion to simulate this system correctly  
> (quantitative)?

Measure and validate.  Repeat.

-Greg
From jan.wienold at ise.fraunhofer.de  Thu May 19 16:07:40 2005
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Thu May 19 17:13:54 2005
Subject: [Radiance-general] Redirecting+scattering
In-Reply-To: <002801c55c76$0a260f90$e400a8c0@PC501fg>
References: <002801c55c76$0a260f90$e400a8c0@PC501fg>
Message-ID: <428C9DAC.3010709@ise.fraunhofer.de>

Hi  Federico,

your task cries for using photon-mapping...

You should model your shading system geometrically and use dielectric as 
material (be careful about the surface orientation!). The diffusing 
material can be modeled by trans material. If you have a complex 
scattering material, you can adapt the trans material by an cal 
function. (Don't use BRTF-func or data with the current photon-mapping 
version).

To be more efficient using the diffuse sky, you should define a 
photon-port, where all the photons are emitted to. Usually the 
photon-port material is the window pane.

Then you can simply run the simulations, direct and diffuse 
contributions should be calculated correctly.

Last but not least, there exist also a version of daysim containing 
photon-mapping, so you can run these simulations also hourly (or other 
timesteps) if you want. Unfortunately, the latest daysim version didn't 
compile with the photon-mapping extension - but if you need it, you can 
use also the older version, Christoph could provide it.

Good luck!

Jan

Federico Giovannetti wrote:

> Hallo Greg Ward, hallo Radiance Community!
>  
> I've been learning Radiance for a couple of weeks and i have to work 
> intensively with it in the next weeks, as I?m investigating the energy 
> saving potential and visual comfort of systems combining angular 
> selective and diffusing panes.
>  
> Now I have to simulate a simple test-room with a complex fenestration, 
> which includes an exterior prismatic structure as shading device and a 
> diffusing pane for glare control. I try to find out the best way to 
> model the system so as to get quantitative accurate results (RwR 
> Chapters 10-13 and mails archive) but i?m still a little bit confused....
>  
> - As to the prismatic structure, i will use the PRISM2 material as 
> virtual source. No redirection of diffuse incoming light and no 
> dispersion are the only limitations of this material. And it would 
> make no sense to use the PhotoMap port, because these materials are 
> not implemented in this tool.  Is it right?
>  
> - As to the diffuser, i would intuitively treat it as an ILLUM with a 
> BRTDF function as alternate material (I?m measuring, modelling and 
> comparing different kind of diffusers) and run  MKILLUM.  If 
> i understood correctly, the BRTDF materials are only considered in the 
> direct calculation and indirect specular, but not in the indirect 
> diffuse, where they are approssimate to lambertian diffusers. Should i 
> try another material?
>  
> - How are PRISM materials computed in the MKILLUM calculation of the 
> window light output? Should I better try to run the simulation without 
> MKILLUM and high ambient parameters (-ab, -ad, -as)?
>  
> - What if i measure the BRTDF of the complete system and i model it as 
> a normal light source? It is really difficult (or impossible) to get 
> sharp peaks in light output with  high subsampling and jittering of 
> the source? 
>  
> Any other suggestion to simulate this system correctly (quantitative)? 
>  
> Sorry for so many questions and THANKS A LOT for any contribution.
>  
> Regards,
> Federico Giovannetti
>  
> ---------------------------------------------------------
> Federico Giovannetti
> Institut f?r Solarenergieforschung GmbH
> Am Ohrberg 1
> D-31860 Emmerthal
>  
> tel:        +49(0)5151-999-501
> fax:       +49(0)5151-999-500
> e-mail:   f.giovannetti@isfh.de <mailto:f.giovannetti@isfh.de>
> internet: www.isfh.de <http://www.isfh.de>
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050519/bf64c462/attachment.html
From Giulio.Antonutto at arup.com  Thu May 19 17:31:09 2005
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu May 19 17:33:34 2005
Subject: [Radiance-general] Redirecting+scattering
Message-ID: <E83FC9AC306BD34B993F651FC8D772F82241C3@ldcexc01.global.arup.com>

you may also consider to have a look to radzilla

 ;-)

This is a not official, not bullet proof, version of radiance that incorporates all new additions + some really crazy Carsten optimisations/changes/addons...

It seems really consistent and stable and I already modelled some prisms with pmap within it (like a 500 modular prisms wall).

It works well!

I believe it's worthy to try and I have been really impressed by the latest development.

The advantage over traditional radiance for me is that photon mapping is performed through the rpict command without having to use mkpmap... but they might be some bugs here of there.... watch out!

ciao,

giulio

 

________________________________

From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Federico Giovannetti
Sent: 19 May 2005 14:24
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Redirecting+scattering

 

Hallo Greg Ward, hallo Radiance Community!

 

I've been learning Radiance for a couple of weeks and i have to work intensively with it in the next weeks, as I?m investigating the energy saving potential and visual comfort of systems combining angular selective and diffusing panes.

 

Now I have to simulate a simple test-room with a complex fenestration, which includes an exterior prismatic structure as shading device and a diffusing pane for glare control. I try to find out the best way to model the system so as to get quantitative accurate results (RwR Chapters 10-13 and mails archive) but i?m still a little bit confused....

 

- As to the prismatic structure, i will use the PRISM2 material as virtual source. No redirection of diffuse incoming light and no dispersion are the only limitations of this material. And it would make no sense to use the PhotoMap port, because these materials are not implemented in this tool.  Is it right?

 

- As to the diffuser, i would intuitively treat it as an ILLUM with a BRTDF function as alternate material (I?m measuring, modelling and comparing different kind of diffusers) and run  MKILLUM.  If i understood correctly, the BRTDF materials are only considered in the direct calculation and indirect specular, but not in the indirect diffuse, where they are approssimate to lambertian diffusers. Should i try another material?

 

- How are PRISM materials computed in the MKILLUM calculation of the window light output? Should I better try to run the simulation without MKILLUM and high ambient parameters (-ab, -ad, -as)?

 

- What if i measure the BRTDF of the complete system and i model it as a normal light source? It is really difficult (or impossible) to get sharp peaks in light output with  high subsampling and jittering of the source? 

 

Any other suggestion to simulate this system correctly (quantitative)? 

 

Sorry for so many questions and THANKS A LOT for any contribution.

 

Regards,

Federico Giovannetti

 

---------------------------------------------------------
Federico Giovannetti
Institut f?r Solarenergieforschung GmbH
Am Ohrberg 1
D-31860 Emmerthal

 

tel:        +49(0)5151-999-501
fax:       +49(0)5151-999-500
e-mail:   f.giovannetti@isfh.de
internet: www.isfh.de

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050519/20a30c86/attachment.htm
From f.giovannetti at isfh.de  Fri May 20 10:18:48 2005
From: f.giovannetti at isfh.de (Federico Giovannetti)
Date: Fri May 20 10:16:07 2005
Subject: [Radiance-general] Re:Redirecting+scattering
Message-ID: <000c01c55d14$8c2967a0$e400a8c0@PC501fg>

Thanks Greg, Jan, Giulio( compatriot?)!

I got a lot of useful informations. I think i have to retreat for a long while into my cellar ("Measure and validate. Repeat.")....

Have a nice day,
federico

-------------------------------------------
Dipl.-Ing. Federico Giovannetti
Institut f?r Solarenergieforschung GmbH
Am Ohrberg 1
D-31860 Emmerthal

tel:  +49(0)5151-999-501
fax: +49(0)5151-999-500
e-mail:   f.giovannetti@isfh.de
internet: www.isfh.de


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050520/9848d80c/attachment.html
From grobe at gmx.net  Sat May 21 14:57:08 2005
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat May 21 14:57:46 2005
Subject: [Radiance-general] sorry, again a question about gold mosaic
Message-ID: <632c14d44fde4a7185075279f265054f@gmx.net>

Hi List!

I am sorry, I have asked so often about this, but as I have to model a 
room with a lot of gold mosaic, which is not an easy material do 
define, here is one more question about this...

So far, I use a gold material (which has 100% specular reflection) 
together with a high roughness value (0.03). This gives me some visual 
impression of a mosiac and the right color of gold (I use the measured 
values by Andrew Glassner).

However, as for the indirect calculation, I wonder if I am completely 
wrong with this material. I have a specularity of 1.0 in my definition, 
while the effect of using this material as mosaic (not large, plane 
sheets of gold ;-) will in fact give a diffuse reflection in the large 
scale of e.g. a complete dome. So there is a difference in the material 
behaviour between the scale of a single piece of mosaic (which is more 
or less planar and may have this 100% specular reflectivity) and the 
scale of the building, where the material is "mosaic" consisting of 
millions of pieces, and diffuse.

I once planned to do some experiments with some kind of a "virtual 
photometer", where I could measure the output of a modeled sample from 
various directions. I did not do so simply because of a lack of time. 
And I was quite pleased by the effect of using the roughness parameter. 
Now I am worried, because I wonder if the diffuse effect of the mosaic 
will be neglected in the indirect calculation?

Thank You for any help, have a nice week-end, CU Lars.


From grobe at gmx.net  Sun May 22 17:00:53 2005
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun May 22 17:01:36 2005
Subject: [Radiance-general] Alias pointing to another alias?
Message-ID: <32a06572777b586bcc9e0e4879fe5ae4@gmx.net>

Hi List!

I am not sure if I asked this before (I remember experiencing the same 
some time ago, but could not find anything in the archive). If I use an 
alias pointing to another alias, should this work? E.g.:

void plastic my_mat
0
0
5 .3 .2 .1 .2 0

void alias lars_mat my_mat
void alias new_mat lars_mat

Should the modifier new_mad be valid, with the same properties as 
my_mat? I am  experiencing that this does not work.

TIA+CU Lars.


From jedev at visarc.com  Mon May 23 16:01:39 2005
From: jedev at visarc.com (Jack de Valpine)
Date: Mon May 23 16:02:36 2005
Subject: [Radiance-general] Alias pointing to another alias?
In-Reply-To: <32a06572777b586bcc9e0e4879fe5ae4@gmx.net>
References: <32a06572777b586bcc9e0e4879fe5ae4@gmx.net>
Message-ID: <4291E243.2070300@visarc.com>

Hi Lars,

I think that you need to use the "inherit" modifier on the second 
"alias" as follows"

inherit alias new_mat lars_mat

-Jack

Lars O. Grobe wrote:

> Hi List!
>
> I am not sure if I asked this before (I remember experiencing the same 
> some time ago, but could not find anything in the archive). If I use 
> an alias pointing to another alias, should this work? E.g.:
>
> void plastic my_mat
> 0
> 0
> 5 .3 .2 .1 .2 0
>
> void alias lars_mat my_mat
> void alias new_mat lars_mat
>
> Should the modifier new_mad be valid, with the same properties as 
> my_mat? I am  experiencing that this does not work.
>
> TIA+CU Lars.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From tarik.rahman at ed.ac.uk  Mon May 23 16:44:31 2005
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Mon May 23 16:45:10 2005
Subject: [Radiance-general] light probe of objects on a table
Message-ID: <1116859471.4291ec4fbe658@sms.ed.ac.uk>


Hi there

I'm trying to create a light probe similar to Debevec's Rendering synthetic
objects into real scenes and using the corresponding points in HDR shop I
create the resulting probe following instructions on
http://www.ict.usc.edu/graphics/HDRShop/tutorial/tutorial5.html

Taking a closeup orthographic projection photo of the probe and then another at
90 degrees rotated about the probe I match points and blend images using the
formula with the given image mask. In the result I get 2 of everything, objects
& light sources. I must be doing something wrong. Is it something to do with
selecting the right points, or the positioning of the probe?

Thanks for any help

Tarik
--
Tarik Rahman
PhD student, Institute of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From grobe at gmx.net  Mon May 23 18:47:58 2005
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon May 23 18:48:33 2005
Subject: [Radiance-general] Alias pointing to another alias?
In-Reply-To: <4291E243.2070300@visarc.com>
References: <32a06572777b586bcc9e0e4879fe5ae4@gmx.net>
	<4291E243.2070300@visarc.com>
Message-ID: <3396565661d144eb6bca032fbabc4edb@gmx.net>

> I think that you need to use the "inherit" modifier on the second 
> "alias" as follows"

Hi Jack,

thank you for this, I was not even aware of this "new" (as of 3.5) 
modifier, I really should read the release notes more carefully.

CU Lars.


From jedev at visarc.com  Mon May 23 18:54:22 2005
From: jedev at visarc.com (Jack de Valpine)
Date: Mon May 23 18:55:06 2005
Subject: [Radiance-general] Alias pointing to another alias?
In-Reply-To: <3396565661d144eb6bca032fbabc4edb@gmx.net>
References: <32a06572777b586bcc9e0e4879fe5ae4@gmx.net>	<4291E243.2070300@visarc.com>
	<3396565661d144eb6bca032fbabc4edb@gmx.net>
Message-ID: <42920ABE.5090307@visarc.com>

Hi Lars,

This feature is designed to enable things like the following:

void brightfunc bf.mod
(...)

bf.mod colorfunc cf.mod
(...)

cf.mod plastic p.name
(...)

inherit alias my.name p.name

This way my.name includes all the modifiers, whereas:

void alias my.name p.name

would only include the plastic material without any modifiers.

-Jack



Lars O. Grobe wrote:

>> I think that you need to use the "inherit" modifier on the second 
>> "alias" as follows"
>
>
> Hi Jack,
>
> thank you for this, I was not even aware of this "new" (as of 3.5) 
> modifier, I really should read the release notes more carefully.
>
> CU Lars.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From gregoryjward at gmail.com  Mon May 23 19:41:03 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon May 23 19:41:47 2005
Subject: [Radiance-general] sorry, again a question about gold mosaic
In-Reply-To: <632c14d44fde4a7185075279f265054f@gmx.net>
References: <632c14d44fde4a7185075279f265054f@gmx.net>
Message-ID: <2EE9655A-5E4B-4AC0-934D-64064632431B@gmail.com>

Hi Lars,

Without the benefit of photometric measurements, or having seen the  
material of which you speak, it is quite impossible to usefully  
speculate as to its behavior.  All I can say is that far-field  
reflectance should be an average of near-field behavior that is  
appropriately computed (averaged) in Radiance.  There can be issues  
with noise depending on the model, but you shouldn't require two  
types of model for near and far field.

-Greg

> From: Lars O. Grobe <grobe@gmx.net>
> Date: May 21, 2005 5:57:08 AM PDT
>
> Hi List!
>
> I am sorry, I have asked so often about this, but as I have to  
> model a room with a lot of gold mosaic, which is not an easy  
> material do define, here is one more question about this...
>
> So far, I use a gold material (which has 100% specular reflection)  
> together with a high roughness value (0.03). This gives me some  
> visual impression of a mosiac and the right color of gold (I use  
> the measured values by Andrew Glassner).
>
> However, as for the indirect calculation, I wonder if I am  
> completely wrong with this material. I have a specularity of 1.0 in  
> my definition, while the effect of using this material as mosaic  
> (not large, plane sheets of gold ;-) will in fact give a diffuse  
> reflection in the large scale of e.g. a complete dome. So there is  
> a difference in the material behaviour between the scale of a  
> single piece of mosaic (which is more or less planar and may have  
> this 100% specular reflectivity) and the scale of the building,  
> where the material is "mosaic" consisting of millions of pieces,  
> and diffuse.
>
> I once planned to do some experiments with some kind of a "virtual  
> photometer", where I could measure the output of a modeled sample  
> from various directions. I did not do so simply because of a lack  
> of time. And I was quite pleased by the effect of using the  
> roughness parameter. Now I am worried, because I wonder if the  
> diffuse effect of the mosaic will be neglected in the indirect  
> calculation?
>
> Thank You for any help, have a nice week-end, CU Lars.

From anthony.farrell at dit.ie  Mon May 23 22:51:10 2005
From: anthony.farrell at dit.ie (Anthony J. Farrell)
Date: Mon May 23 22:51:52 2005
Subject: [Radiance-general] RE: Lamp colour
In-Reply-To: <01LOG69DEYCM96MC3X@mail.dit.ie>
Message-ID: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAACJWbgafz6UaL6G5F22Jwe8KAAAAQAAAA3IJOyPEbAUqAHs1OlP+wyQEAAAAA@dit.ie>

Hi Folks,

I would be grateful if anyone would provide some insight to a problem I've
been trying to resolve for some time:

I am using fluorescent lamps in an office scene, and would like to model
colour temperatures of approx. 2200K and 6000K giving a warm white and
daylight white respectively.

I have read through the Radiance manual but am a little confused still as to
how to set lamp format file (.fmt) to give me the required colours.

I have generated a .dat file from the ies data for the lamp within which I
set the colour to the default set at 0.907 0.863 0.4762: I believe that this
represents 48 46 25% RGB values.

However, when I run a lighting illuminance simulation the .lum file refers
only to the lamp .dat file and .fmt file (not the .rad file generated by
ies2rad). Now upond exploring the .fmt file it refers to the 'void lamp
glow' in this instance its: 4 0 3.57 14.72 860 

I think that this may be the line I need to change to alter the colour?
Unless it's already taken care of in the ies2rad conversion via the .dat
file in which case I need to alter the 0.907 0.863 0.4762 values relative to
desired K values. I'd be indebted to anyone that can provide the relevan
combination for the two lamp colours I'm looking for.

With kind regards,

Anthony Farrell
Dublin Institute of Technology

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
radiance-general-request@radiance-online.org
Sent: 19 May 2005 16:34
To: radiance-general@radiance-online.org
Subject: Radiance-general Digest, Vol 15, Issue 11

Send Radiance-general mailing list submissions to
	radiance-general@radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request@radiance-online.org

You can reach the person managing the list at
	radiance-general-owner@radiance-online.org

When replying, please edit your Subject line so it is more specific than
"Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Redirecting+scattering (Federico Giovannetti)
   2. Re: Redirecting+scattering (Greg Ward)
   3. Re: Redirecting+scattering (Jan Wienold)
   4. RE: Redirecting+scattering (Giulio Antonutto)


----------------------------------------------------------------------

Message: 1
Date: Thu, 19 May 2005 15:24:09 +0200
From: "Federico Giovannetti" <f.giovannetti@isfh.de>
Subject: [Radiance-general] Redirecting+scattering
To: <radiance-general@radiance-online.org>
Message-ID: <002801c55c76$0a260f90$e400a8c0@PC501fg>
Content-Type: text/plain; charset="iso-8859-1"

Hallo Greg Ward, hallo Radiance Community!

I've been learning Radiance for a couple of weeks and i have to work
intensively with it in the next weeks, as I4m investigating the energy
saving potential and visual comfort of systems combining angular selective
and diffusing panes.

Now I have to simulate a simple test-room with a complex fenestration, which
includes an exterior prismatic structure as shading device and a diffusing
pane for glare control. I try to find out the best way to model the system
so as to get quantitative accurate results (RwR Chapters 10-13 and mails
archive) but i4m still a little bit confused....

- As to the prismatic structure, i will use the PRISM2 material as virtual
source. No redirection of diffuse incoming light and no dispersion are the
only limitations of this material. And it would make no sense to use the
PhotoMap port, because these materials are not implemented in this tool.  Is
it right?

- As to the diffuser, i would intuitively treat it as an ILLUM with a BRTDF
function as alternate material (I4m measuring, modelling and comparing
different kind of diffusers) and run  MKILLUM.  If i understood correctly,
the BRTDF materials are only considered in the direct calculation and
indirect specular, but not in the indirect diffuse, where they are
approssimate to lambertian diffusers. Should i try another material?

- How are PRISM materials computed in the MKILLUM calculation of the window
light output? Should I better try to run the simulation without MKILLUM and
high ambient parameters (-ab, -ad, -as)?

- What if i measure the BRTDF of the complete system and i model it as a
normal light source? It is really difficult (or impossible) to get sharp
peaks in light output with  high subsampling and jittering of the source? 

Any other suggestion to simulate this system correctly (quantitative)? 

Sorry for so many questions and THANKS A LOT for any contribution.

Regards,
Federico Giovannetti

---------------------------------------------------------
Federico Giovannetti
Institut f|r Solarenergieforschung GmbH
Am Ohrberg 1
D-31860 Emmerthal

tel:        +49(0)5151-999-501
fax:       +49(0)5151-999-500
e-mail:   f.giovannetti@isfh.de
internet: www.isfh.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL:
http://radiance-online.org/pipermail/radiance-general/attachments/20050519/2
9880a28/attachment.html

------------------------------

Message: 2
Date: Thu, 19 May 2005 08:08:13 -0700
From: Greg Ward <gregoryjward@gmail.com>
Subject: Re: [Radiance-general] Redirecting+scattering
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <69D84B4C-E470-40DE-8ED4-5E2EF60C17BC@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed

Hi Federico,

It sounds to me like you are "diving into the deep end" as they say about
new swimmers who are very ambitious.

> - As to the prismatic structure, i will use the PRISM2 material as 
> virtual source. No redirection of diffuse incoming light and no 
> dispersion are the only limitations of this material. And it would 
> make no sense to use the PhotoMap port, because these materials are 
> not implemented in this tool.  Is it right?

I don't know about support in the photon map add-on, but the prism material
types do redirect diffuse rays as well.  They just don't have a diffuse
component.

>  - As to the diffuser, i would intuitively treat it as an ILLUM with a 
> BRTDF function as alternate material (I4m measuring,
> modelling and comparing different kind of diffusers) and run   
> MKILLUM.  If i understood correctly, the BRTDF materials are only 
> considered in the direct calculation and indirect specular, but not in 
> the indirect diffuse, where they are approssimate to lambertian 
> diffusers. Should i try another material?

Your information is correct as far as I understand what you are saying.  If
you can fit your measurements to a Gaussian lobe distribution, you are
better off using one of the native models  
(trans or trans2), as all ray paths will be followed appropriately.   
The general BRDF types, transfunc, transdata, and BRTDfunc, only use the
directional-diffuse lobe specified for interactions with light sources.
General ray sampling from an arbitrary distribution is quite expensive, and
not done in Radiance for that reason.

>  - How are PRISM materials computed in the MKILLUM calculation of the 
> window light output? Should I better try to run the simulation without 
> MKILLUM and high ambient parameters (-ab, -ad, -as)?

The diffuse portion of the window distribution through a prismatic glazing
will be computed by mkillum, leaving the "specular" (directional) portion to
be done during the final rendering.  This is the correct behavior, and you
don't have to treat it specially with mkillum, which is helpful for
considering contributions from the sky, ground, and neighboring structures.

>  - What if i measure the BRTDF of the complete system and i model it 
> as a normal light source? It is really difficult (or impossible) to 
> get sharp peaks in light output with  high subsampling and jittering 
> of the source?

I'm not sure what you mean, here.  If you have some way to simulate your
exterior and measure the actual output distribution of the window system as
a light source, then you wish to represent that as a brightdata modifier on
a window polygon, this would work.  It's a very challenging measurement
problem, though, which is why no one has done it to my knowledge.  (Anyone
out there have information on this?)

The purpose of mkillum of course is to create a light source from your
surface(s) by simulating an outdoor situation.  It doesn't always work,
though.  Specifically, mkillum has trouble resolving the contribution from
the sun through curved, specular reflectors and devices.  It can handle most
everything else.

>  Any other suggestion to simulate this system correctly 
> (quantitative)?

Measure and validate.  Repeat.

-Greg


------------------------------

Message: 3
Date: Thu, 19 May 2005 16:07:40 +0200
From: Jan Wienold <jan.wienold@ise.fraunhofer.de>
Subject: Re: [Radiance-general] Redirecting+scattering
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <428C9DAC.3010709@ise.fraunhofer.de>
Content-Type: text/plain; charset="iso-8859-1"

Hi  Federico,

your task cries for using photon-mapping...

You should model your shading system geometrically and use dielectric as
material (be careful about the surface orientation!). The diffusing material
can be modeled by trans material. If you have a complex scattering material,
you can adapt the trans material by an cal function. (Don't use BRTF-func or
data with the current photon-mapping version).

To be more efficient using the diffuse sky, you should define a photon-port,
where all the photons are emitted to. Usually the photon-port material is
the window pane.

Then you can simply run the simulations, direct and diffuse contributions
should be calculated correctly.

Last but not least, there exist also a version of daysim containing
photon-mapping, so you can run these simulations also hourly (or other
timesteps) if you want. Unfortunately, the latest daysim version didn't
compile with the photon-mapping extension - but if you need it, you can use
also the older version, Christoph could provide it.

Good luck!

Jan

Federico Giovannetti wrote:

> Hallo Greg Ward, hallo Radiance Community!
>  
> I've been learning Radiance for a couple of weeks and i have to work 
> intensively with it in the next weeks, as I4m investigating the energy 
> saving potential and visual comfort of systems combining angular 
> selective and diffusing panes.
>  
> Now I have to simulate a simple test-room with a complex fenestration, 
> which includes an exterior prismatic structure as shading device and a 
> diffusing pane for glare control. I try to find out the best way to 
> model the system so as to get quantitative accurate results (RwR 
> Chapters 10-13 and mails archive) but i4m still a little bit confused....
>  
> - As to the prismatic structure, i will use the PRISM2 material as 
> virtual source. No redirection of diffuse incoming light and no 
> dispersion are the only limitations of this material. And it would 
> make no sense to use the PhotoMap port, because these materials are 
> not implemented in this tool.  Is it right?
>  
> - As to the diffuser, i would intuitively treat it as an ILLUM with a 
> BRTDF function as alternate material (I4m measuring, modelling and 
> comparing different kind of diffusers) and run  MKILLUM.  If i 
> understood correctly, the BRTDF materials are only considered in the 
> direct calculation and indirect specular, but not in the indirect 
> diffuse, where they are approssimate to lambertian diffusers. Should i 
> try another material?
>  
> - How are PRISM materials computed in the MKILLUM calculation of the 
> window light output? Should I better try to run the simulation without 
> MKILLUM and high ambient parameters (-ab, -ad, -as)?
>  
> - What if i measure the BRTDF of the complete system and i model it as 
> a normal light source? It is really difficult (or impossible) to get 
> sharp peaks in light output with  high subsampling and jittering of 
> the source?
>  
> Any other suggestion to simulate this system correctly (quantitative)? 
>  
> Sorry for so many questions and THANKS A LOT for any contribution.
>  
> Regards,
> Federico Giovannetti
>  
> ---------------------------------------------------------
> Federico Giovannetti
> Institut f|r Solarenergieforschung GmbH Am Ohrberg 1 D-31860 Emmerthal
>  
> tel:        +49(0)5151-999-501
> fax:       +49(0)5151-999-500
> e-mail:   f.giovannetti@isfh.de <mailto:f.giovannetti@isfh.de>
> internet: www.isfh.de <http://www.isfh.de>
>
>-----------------------------------------------------------------------
>-
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL:
http://radiance-online.org/pipermail/radiance-general/attachments/20050519/b
f64c462/attachment.htm

------------------------------

Message: 4
Date: Thu, 19 May 2005 16:31:09 +0100
From: "Giulio Antonutto" <Giulio.Antonutto@arup.com>
Subject: RE: [Radiance-general] Redirecting+scattering
To: "Radiance general discussion"
	<radiance-general@radiance-online.org>
Message-ID:
	<E83FC9AC306BD34B993F651FC8D772F82241C3@ldcexc01.global.arup.com>
Content-Type: text/plain; charset="iso-8859-1"

you may also consider to have a look to radzilla

 ;-)

This is a not official, not bullet proof, version of radiance that
incorporates all new additions + some really crazy Carsten
optimisations/changes/addons...

It seems really consistent and stable and I already modelled some prisms
with pmap within it (like a 500 modular prisms wall).

It works well!

I believe it's worthy to try and I have been really impressed by the latest
development.

The advantage over traditional radiance for me is that photon mapping is
performed through the rpict command without having to use mkpmap... but they
might be some bugs here of there.... watch out!

ciao,

giulio

 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Federico
Giovannetti
Sent: 19 May 2005 14:24
To: radiance-general@radiance-online.org
Subject: [Radiance-general] Redirecting+scattering

 

Hallo Greg Ward, hallo Radiance Community!

 

I've been learning Radiance for a couple of weeks and i have to work
intensively with it in the next weeks, as I4m investigating the energy
saving potential and visual comfort of systems combining angular selective
and diffusing panes.

 

Now I have to simulate a simple test-room with a complex fenestration, which
includes an exterior prismatic structure as shading device and a diffusing
pane for glare control. I try to find out the best way to model the system
so as to get quantitative accurate results (RwR Chapters 10-13 and mails
archive) but i4m still a little bit confused....

 

- As to the prismatic structure, i will use the PRISM2 material as virtual
source. No redirection of diffuse incoming light and no dispersion are the
only limitations of this material. And it would make no sense to use the
PhotoMap port, because these materials are not implemented in this tool.  Is
it right?

 

- As to the diffuser, i would intuitively treat it as an ILLUM with a BRTDF
function as alternate material (I4m measuring, modelling and comparing
different kind of diffusers) and run  MKILLUM.  If i understood correctly,
the BRTDF materials are only considered in the direct calculation and
indirect specular, but not in the indirect diffuse, where they are
approssimate to lambertian diffusers. Should i try another material?

 

- How are PRISM materials computed in the MKILLUM calculation of the window
light output? Should I better try to run the simulation without MKILLUM and
high ambient parameters (-ab, -ad, -as)?

 

- What if i measure the BRTDF of the complete system and i model it as a
normal light source? It is really difficult (or impossible) to get sharp
peaks in light output with  high subsampling and jittering of the source? 

 

Any other suggestion to simulate this system correctly (quantitative)? 

 

Sorry for so many questions and THANKS A LOT for any contribution.

 

Regards,

Federico Giovannetti

 

---------------------------------------------------------
Federico Giovannetti
Institut f|r Solarenergieforschung GmbH
Am Ohrberg 1
D-31860 Emmerthal

 

tel:        +49(0)5151-999-501
fax:       +49(0)5151-999-500
e-mail:   f.giovannetti@isfh.de
internet: www.isfh.de

-------------- next part --------------
An HTML attachment was scrubbed...
URL:
http://radiance-online.org/pipermail/radiance-general/attachments/20050519/2
0a30c86/attachment.html

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 15, Issue 11
************************************************


--
This message has been scanned for content and viruses by the DIT Information
Services MailScanner Service, and is believed to be clean.
http://www.dit.ie


-- 
This message has been scanned for content and 
viruses by the DIT Information Services MailScanner 
Service, and is believed to be clean.
http://www.dit.ie


From gregoryjward at gmail.com  Tue May 24 00:29:10 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue May 24 00:29:46 2005
Subject: [Radiance-general] RE: Lamp colour
In-Reply-To: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAACJWbgafz6UaL6G5F22Jwe8KAAAAQAAAA3IJOyPEbAUqAHs1OlP+wyQEAAAAA@dit.ie>
References: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAACJWbgafz6UaL6G5F22Jwe8KAAAAQAAAA3IJOyPEbAUqAHs1OlP+wyQEAAAAA@dit.ie>
Message-ID: <A507183C-2C47-4F9A-BB2B-D76B5A7BFDCD@gmail.com>

Hello Anthony,

Your question is a bit confusing.  I don't know what lamp .fmt file  
you're talking about, and the numbers you give don't seem to make  
sense.  The CIE (x,y) chromaticity coordinates corresponding to 2200K  
and 6000K sources are:

CT (K)    CIE x    CIE y
--------    --------    -------
2200    0.5056    0.4152
6000    0.3221    0.3318

Converting these to Radiance RGB values with Y=1.0, we get:

CT    R    G    B
-----    --    --    --
2200    1.881    0.7420    0.0636
6000    0.9078    1.032    1.049

If you use the "-t default" option and give these to the "-c" option  
of ies2rad, it will produce sources with the corresponding color  
temperature.  However, I don't really believe this is what you want.

Applying a color to your light sources will yield a color cast in  
your rendered images, which is almost never desirable.  Your eye  
tends to ignore such color casts in an environment -- this is called  
"color constancy" or "white balance" in photography.

If your true purpose is to determine how the color of your light  
source affects the visible colors of the objects in your scene, you  
need to start from the actual spectral power distribution of your  
illuminant (not just the color temperatures) and the spectral  
reflectances of your objects.  The former may be obtained from the  
manufacturer in some cases.  The latter must be obtained by  
measurements with a suitable spectroreflectometer.  Then, rather than  
dealing with CIE (x,y) chromaticities, you need to apply a technique  
like the one described in the following paper:

     http://www.anyhere.com/gward/egwr02/

This paper describes the simplest and most economical approach if you  
want to know what your colors will look like under different  
illuminants.  Any shortcut shorter than this will simply not work.

-Greg

P.S.  In future, please be careful not to include an entire mailing  
list digest in your posting.  It's an easy mistake to make with  
modern mailers -- they are ever so helpful and eager to please.

> From: "Anthony J. Farrell" <anthony.farrell@dit.ie>
> Date: May 23, 2005 1:51:10 PM PDT
>
> Hi Folks,
>
> I would be grateful if anyone would provide some insight to a  
> problem I've
> been trying to resolve for some time:
>
> I am using fluorescent lamps in an office scene, and would like to  
> model
> colour temperatures of approx. 2200K and 6000K giving a warm white and
> daylight white respectively.
>
> I have read through the Radiance manual but am a little confused  
> still as to
> how to set lamp format file (.fmt) to give me the required colours.
>
> I have generated a .dat file from the ies data for the lamp within  
> which I
> set the colour to the default set at 0.907 0.863 0.4762: I believe  
> that this
> represents 48 46 25% RGB values.
>
> However, when I run a lighting illuminance simulation the .lum file  
> refers
> only to the lamp .dat file and .fmt file (not the .rad file  
> generated by
> ies2rad). Now upond exploring the .fmt file it refers to the 'void  
> lamp
> glow' in this instance its: 4 0 3.57 14.72 860
>
> I think that this may be the line I need to change to alter the  
> colour?
> Unless it's already taken care of in the ies2rad conversion via  
> the .dat
> file in which case I need to alter the 0.907 0.863 0.4762 values  
> relative to
> desired K values. I'd be indebted to anyone that can provide the  
> relevan
> combination for the two lamp colours I'm looking for.
>
> With kind regards,
>
> Anthony Farrell
> Dublin Institute of Technology

From kthibault at biomechanicsinc.com  Tue May 24 02:07:54 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue May 24 02:09:32 2005
Subject: [Radiance-general] light probe of objects on a table
In-Reply-To: <1116859471.4291ec4fbe658@sms.ed.ac.uk>
References: <1116859471.4291ec4fbe658@sms.ed.ac.uk>
Message-ID: <EA5B42C5-B8F0-4627-B5F2-C16F31DBCDCD@biomechanicsinc.com>

Tarik,

You will likely have to create your own mask to clone out the  
features you want to eliminate (as opposed to using the one in the  
tutorial).  Creating the mask is easily done in Photoshop or similar  
app that will permit you to create an 8bit grayscale image where  
black is no pass and white is full pass.

Take your HDRs and convert them to LDRs and bring them into  
Photoshop, etc. as reference for creating your mask.

I assume that you kept the camera at the same elevation and simply  
moved it 90 degrees from its original position, orbiting in the  
horizontal (ground) plane.  Then, it should just be a matter of  
marking the reference points systematically and consistently.  If you  
want, send me your two probe images and I'll take a look.

Good luck,

kirk

On May 23, 2005, at 10:44 AM, Tarik Rahman wrote:


>
> Hi there
>
> I'm trying to create a light probe similar to Debevec's Rendering  
> synthetic
> objects into real scenes and using the corresponding points in HDR  
> shop I
> create the resulting probe following instructions on
> http://www.ict.usc.edu/graphics/HDRShop/tutorial/tutorial5.html
>
> Taking a closeup orthographic projection photo of the probe and  
> then another at
> 90 degrees rotated about the probe I match points and blend images  
> using the
> formula with the given image mask. In the result I get 2 of  
> everything, objects
> & light sources. I must be doing something wrong. Is it something  
> to do with
> selecting the right points, or the positioning of the probe?
>
> Thanks for any help
>
> Tarik
> --
> Tarik Rahman
> PhD student, Institute of Perception, Action and Behaviour
> School of Informatics
> University of Edinburgh
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>



From kthibault at biomechanicsinc.com  Tue May 24 02:44:36 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue May 24 02:45:37 2005
Subject: [Radiance-general] light probe of objects on a table
In-Reply-To: <EA5B42C5-B8F0-4627-B5F2-C16F31DBCDCD@biomechanicsinc.com>
References: <1116859471.4291ec4fbe658@sms.ed.ac.uk>
	<EA5B42C5-B8F0-4627-B5F2-C16F31DBCDCD@biomechanicsinc.com>
Message-ID: <087AADB1-EFB4-4B01-9906-5FE4C7E5A062@biomechanicsinc.com>

kthibault@biomechanicsinc.com

On May 23, 2005, at 8:07 PM, Kirk Thibault wrote:



> Tarik,
>
> You will likely have to create your own mask to clone out the  
> features you want to eliminate (as opposed to using the one in the  
> tutorial).  Creating the mask is easily done in Photoshop or  
> similar app that will permit you to create an 8bit grayscale image  
> where black is no pass and white is full pass.
>
> Take your HDRs and convert them to LDRs and bring them into  
> Photoshop, etc. as reference for creating your mask.
>
> I assume that you kept the camera at the same elevation and simply  
> moved it 90 degrees from its original position, orbiting in the  
> horizontal (ground) plane.  Then, it should just be a matter of  
> marking the reference points systematically and consistently.  If  
> you want, send me your two probe images and I'll take a look.
>
> Good luck,
>
> kirk
>
> On May 23, 2005, at 10:44 AM, Tarik Rahman wrote:
>
>
>
>



From anthony.farrell at dit.ie  Tue May 24 18:19:34 2005
From: anthony.farrell at dit.ie (Anthony J. Farrell)
Date: Tue May 24 18:20:16 2005
Subject: [Radiance-general] RE: Lamp colour
In-Reply-To: <01LOMU1GIF9O91O1UX@mail.dit.ie>
Message-ID: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAACJWbgafz6UaL6G5F22Jwe8KAAAAQAAAAMrHrnYfG2k6x18HLtsGJpAEAAAAA@dit.ie>

Greg,

Thanks for the very helpful advice. Unfortunately I cannot access the link
you gave me as it says 'object not found', what's the name of the paper?

Apologies if my email was confusing, to simplify, I wish to illustrate to an
audience the dynamics of artificial light in providing a warm and cool
environment relative to mixing light from 2000 to 6000K as is presented by
Philips
(http://www.lighting.philips.com/gl_en/index.php?main=global&parent=global&i
d=global&lang=en under' a new concept in office lighting ' and then to
compare that with actual warm (morning or evening) and cool (midday) light
from a window.

The lamp colour defaults are 0.907 0.863 0.4762

I wish to model the same lamp but with a colour of 2200 and 6000K resp.

I now understand that the ies2rad program translates the colour from the -t
and -c options into the .dat file which is used in generating the
distributions. The .fmt file must be one just used by DRAD, so not to worry
bout that.

Now when I consider the human eye things get complicated. There is no
spectral power distribution of the fluorescent illuminant and the spectral
reflectances of your objects are also not available. It is a very simple
office scene with angled desks, yellow chair, and light coloured partition
dividers. Can you suggest where I can get generic data of this kind? Or can
you suggest the best way to approach what I am trying to simulate?

Thanks,

Anthony

P.S. Apologies for attaching the mailing list, hope this one gets through in
proper format.




-- 
This message has been scanned for content and 
viruses by the DIT Information Services MailScanner 
Service, and is believed to be clean.
http://www.dit.ie


From jedev at visarc.com  Tue May 24 18:40:07 2005
From: jedev at visarc.com (Jack de Valpine)
Date: Tue May 24 18:40:53 2005
Subject: [Radiance-general] RE: Lamp colour
In-Reply-To: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAACJWbgafz6UaL6G5F22Jwe8KAAAAQAAAAMrHrnYfG2k6x18HLtsGJpAEAAAAA@dit.ie>
References: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAACJWbgafz6UaL6G5F22Jwe8KAAAAQAAAAMrHrnYfG2k6x18HLtsGJpAEAAAAA@dit.ie>
Message-ID: <429358E7.3050300@visarc.com>

Hi Anthony,

I believe that this is the paper that Greg is referring to:

http://www.anyhere.com/gward/papers/egwr02/index.html

-Jack

Anthony J. Farrell wrote:

>Greg,
>
>Thanks for the very helpful advice. Unfortunately I cannot access the link
>you gave me as it says 'object not found', what's the name of the paper?
>
>Apologies if my email was confusing, to simplify, I wish to illustrate to an
>audience the dynamics of artificial light in providing a warm and cool
>environment relative to mixing light from 2000 to 6000K as is presented by
>Philips
>(http://www.lighting.philips.com/gl_en/index.php?main=global&parent=global&i
>d=global&lang=en under' a new concept in office lighting ' and then to
>compare that with actual warm (morning or evening) and cool (midday) light
>from a window.
>
>The lamp colour defaults are 0.907 0.863 0.4762
>
>I wish to model the same lamp but with a colour of 2200 and 6000K resp.
>
>I now understand that the ies2rad program translates the colour from the -t
>and -c options into the .dat file which is used in generating the
>distributions. The .fmt file must be one just used by DRAD, so not to worry
>bout that.
>
>Now when I consider the human eye things get complicated. There is no
>spectral power distribution of the fluorescent illuminant and the spectral
>reflectances of your objects are also not available. It is a very simple
>office scene with angled desks, yellow chair, and light coloured partition
>dividers. Can you suggest where I can get generic data of this kind? Or can
>you suggest the best way to approach what I am trying to simulate?
>
>Thanks,
>
>Anthony
>
>P.S. Apologies for attaching the mailing list, hope this one gets through in
>proper format.
>
>
>
>
>  
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From gregoryjward at gmail.com  Tue May 24 19:22:19 2005
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue May 24 19:23:07 2005
Subject: [Radiance-general] RE: Lamp colour
In-Reply-To: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAACJWbgafz6UaL6G5F22Jwe8KAAAAQAAAAMrHrnYfG2k6x18HLtsGJpAEAAAAA@dit.ie>
References: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAACJWbgafz6UaL6G5F22Jwe8KAAAAQAAAAMrHrnYfG2k6x18HLtsGJpAEAAAAA@dit.ie>
Message-ID: <F3071C0E-8E4E-4102-ACBB-E9EE2A0B8B19@gmail.com>

Hi Anthony,

> From: "Anthony J. Farrell" <anthony.farrell@dit.ie>
> Date: May 24, 2005 9:19:34 AM PDT
>
> Thanks for the very helpful advice. Unfortunately I cannot access  
> the link
> you gave me as it says 'object not found', what's the name of the  
> paper?

Sorry about that -- I miscopied the link somehow.  Jack got the right  
one in his response.

> Apologies if my email was confusing, to simplify, I wish to  
> illustrate to an
> audience the dynamics of artificial light in providing a warm and cool
> environment relative to mixing light from 2000 to 6000K as is  
> presented by
> Philips
> (http://www.lighting.philips.com/gl_en/index.php? 
> main=global&parent=global&i
> d=global&lang=en under' a new concept in office lighting ' and then to
> compare that with actual warm (morning or evening) and cool  
> (midday) light
> from a window.

Oh dear.  Mixing illuminants is even more complicated, and not  
something Radiance does very well.  For this to be done correctly,  
you really need a full-blown spectral lighting simulation.  The  
problem is, there aren't any.  You can trick Radiance into doing it  
by running multiple scenes and choosing different spectral sample  
wavelengths for RGB each time then combining the results, but it's a  
hassle and difficult to do right.

> The lamp colour defaults are 0.907 0.863 0.4762

Is this RGB or Yxy (or ???)

> I now understand that the ies2rad program translates the colour  
> from the -t
> and -c options into the .dat file which is used in generating the
> distributions. The .fmt file must be one just used by DRAD, so not  
> to worry
> bout that.

Once again, what you'll get out of this technique is a simple color  
cast in your renderings, which will have almost nothing to do with  
how people might perceive the actual space, and doesn't tell you a  
thing either about how colors are rendered.

> Now when I consider the human eye things get complicated. There is no
> spectral power distribution of the fluorescent illuminant and the  
> spectral
> reflectances of your objects are also not available. It is a very  
> simple
> office scene with angled desks, yellow chair, and light coloured  
> partition
> dividers. Can you suggest where I can get generic data of this  
> kind? Or can
> you suggest the best way to approach what I am trying to simulate?

If you don't have spectral data, then this is an exercise in  
futility.  You can't learn anything by modifying the source colors  
independent of the surfaces.  Your results won't have any value or  
meaning.

-Greg

From grobe at gmx.net  Tue May 24 20:39:33 2005
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue May 24 20:40:08 2005
Subject: [Radiance-general] -ae with alias modifiers?
Message-ID: <1dcf2dc2b2b16e4c074e7cd323555077@gmx.net>

Hi!

Can I use -ae of rpict with an alias modifier? I have two layers of 
modifiers here, one by object type, one by material. So e.g. I have a 
bunch of objects that get modified by "marble_edgings", and later, I 
use "void alias marble_edgings marble_grey_1" to assign these objects 
their actual material. Now I want to exclude them from the ambient 
calculation (as you can see by the name, these edgings are not really 
important, they are small-surface objects). Can I use -ae 
marble_edgings, which is the alias, or do I have to use -ae 
marble_grey_1, which is the (plastic) modifier?

TIA+CU, Lars.

(Yes, I tried with rvu, but didn't notice a big difference, that's why 
I have to ask now ;-)


From jedev at visarc.com  Tue May 24 21:00:12 2005
From: jedev at visarc.com (Jack de Valpine)
Date: Tue May 24 21:00:55 2005
Subject: [Radiance-general] -ae with alias modifiers?
In-Reply-To: <1dcf2dc2b2b16e4c074e7cd323555077@gmx.net>
References: <1dcf2dc2b2b16e4c074e7cd323555077@gmx.net>
Message-ID: <429379BC.5070801@visarc.com>

Hi Lars,

You need to use the name of the material that actually gets assigned to 
the geometry. In other words:

void plastic red
...

void alias mat_to_geometry_name red

mat_to_geometry_name sphere obj.sphere
0
0
4   0   0   0   1

to exclude the material applied to obj.sphere you would use:

 -ae mat_to_geometry_name

Hope this makes sense.

-Jack

Lars O. Grobe wrote:

> Hi!
>
> Can I use -ae of rpict with an alias modifier? I have two layers of 
> modifiers here, one by object type, one by material. So e.g. I have a 
> bunch of objects that get modified by "marble_edgings", and later, I 
> use "void alias marble_edgings marble_grey_1" to assign these objects 
> their actual material. Now I want to exclude them from the ambient 
> calculation (as you can see by the name, these edgings are not really 
> important, they are small-surface objects). Can I use -ae 
> marble_edgings, which is the alias, or do I have to use -ae 
> marble_grey_1, which is the (plastic) modifier?
>
> TIA+CU, Lars.
>
> (Yes, I tried with rvu, but didn't notice a big difference, that's why 
> I have to ask now ;-)
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From grobe at gmx.net  Tue May 24 21:26:58 2005
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue May 24 21:27:32 2005
Subject: [Radiance-general] -ae with alias modifiers?
In-Reply-To: <429379BC.5070801@visarc.com>
References: <1dcf2dc2b2b16e4c074e7cd323555077@gmx.net>
	<429379BC.5070801@visarc.com>
Message-ID: <417bb05a80f71bb8397d213a459b37fd@gmx.net>

> You need to use the name of the material that actually gets assigned 
> to the geometry. In other words:
> [...]
> Hope this makes sense.

Hi Jack,

yes, that MAKES sense, as one usually decides to exclude the material 
because of the geometry, not the material. Great, that way I can use 
this.

Thank you! CU Lars.


From tarik.rahman at ed.ac.uk  Wed May 25 15:15:24 2005
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Wed May 25 15:15:58 2005
Subject: [Radiance-general] Sharper shadows using a light probe
In-Reply-To: <429379BC.5070801@visarc.com>
References: <1dcf2dc2b2b16e4c074e7cd323555077@gmx.net>
	<429379BC.5070801@visarc.com>
Message-ID: <1117026924.42947a6c2330e@sms.ed.ac.uk>

Hi there

When illuminating a scene, say objects on a table, using a light probe, is there
any way to get sharper, darker shadows (of the objects on the table)? I  use the
genbox command for the light map, obviously the light is not as focused because
it's spread out over the large box 100 100 100. If the surface is specular,
nice reflections are rendered but if it is purely diffuse, the shadows hardly
occur.

Thanks

Tarik


--
Tarik Rahman
PhD student, Institute of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From ian at testers.homelinux.net  Wed May 25 16:08:56 2005
From: ian at testers.homelinux.net (Ian Tester)
Date: Wed May 25 16:09:40 2005
Subject: [Radiance-general] Sharper shadows using a light probe
In-Reply-To: <1117026924.42947a6c2330e@sms.ed.ac.uk>
References: <1dcf2dc2b2b16e4c074e7cd323555077@gmx.net>	<429379BC.5070801@visarc.com>
	<1117026924.42947a6c2330e@sms.ed.ac.uk>
Message-ID: <429486F8.2030201@testers.homelinux.net>

Tarik Rahman wrote:
> Hi there
> 
> When illuminating a scene, say objects on a table, using a light probe, is there
> any way to get sharper, darker shadows (of the objects on the table)? I  use the
> genbox command for the light map, obviously the light is not as focused because
> it's spread out over the large box 100 100 100. If the surface is specular,
> nice reflections are rendered but if it is purely diffuse, the shadows hardly
> occur.

I would think that for a light probe, the probe image would be more 
important than the geometry it's mapped on to. What is your light probe 
like? Does it have a small source of light, or is it spread over a large 
area? If your light probe image has a large source of light, or many 
smaller ones spread out, then the results you describe sound about right.

bye

From gvn at retena.com  Wed May 25 16:38:57 2005
From: gvn at retena.com (=?iso-8859-1?Q?Ignacio_Mun=E1rriz?=)
Date: Wed May 25 16:54:42 2005
Subject: [Radiance-general] 3dsmgf import
Message-ID: <000f01c56137$7b967280$53000080@pnac>

is there any option to import layer names and colors instead of mats in 3ds2mgf? because it would be nice for autocad import
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050525/d4257ac9/attachment.html
From gregoryjward at gmail.com  Wed May 25 20:30:52 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed May 25 20:31:38 2005
Subject: [Radiance-general] Sharper shadows using a light probe
In-Reply-To: <429486F8.2030201@testers.homelinux.net>
References: <1dcf2dc2b2b16e4c074e7cd323555077@gmx.net>	<429379BC.5070801@visarc.com>
	<1117026924.42947a6c2330e@sms.ed.ac.uk>
	<429486F8.2030201@testers.homelinux.net>
Message-ID: <D483A602-5694-420E-BB08-8B13AB8C57FA@gmail.com>

Hi Tarik,

Ian is right about the environment determining the sharpness of your  
shadows as much as your object geometry.  You should also consider  
using the new mksource program, especially if your environment map  
contains the sort of small, intense sources that should generate  
shadows.  However, to do so, you'll need to map your light probe onto  
a distant glow source rather than a large box.

See the postings from last month on mksource, starting with:

     http://www.radiance-online.org/pipermail/radiance-general/2005- 
April/002602.html

-Greg

> From: Ian Tester <ian@testers.homelinux.net>
> Date: May 25, 2005 7:08:56 AM PDT
>
> Tarik Rahman wrote:
>
>> Hi there
>> When illuminating a scene, say objects on a table, using a light  
>> probe, is there
>> any way to get sharper, darker shadows (of the objects on the  
>> table)? I  use the
>> genbox command for the light map, obviously the light is not as  
>> focused because
>> it's spread out over the large box 100 100 100. If the surface is  
>> specular,
>> nice reflections are rendered but if it is purely diffuse, the  
>> shadows hardly
>> occur.
>>
>
> I would think that for a light probe, the probe image would be more  
> important than the geometry it's mapped on to. What is your light  
> probe like? Does it have a small source of light, or is it spread  
> over a large area? If your light probe image has a large source of  
> light, or many smaller ones spread out, then the results you  
> describe sound about right.
>
> bye
>

From s.ponzetti at libero.it  Thu May 26 11:42:47 2005
From: s.ponzetti at libero.it (s.ponzetti@libero.it)
Date: Thu May 26 11:43:37 2005
Subject: [Radiance-general] simulation of a lightpipe
Message-ID: <IH3CBB$359D057B4FA9BD4F0CD28F51909E41E9@libero.it>

Hi group,

I am modelling a lightpipe in Desktop radiance and as I read in the e-mail archive the best way to simulate it is the use of photon map so I am going to install Cgwin, Radiance and Photon map but I have, I think, a foundamental problem that is: I don't know how to draw and simulate the lens inside the dome of the lightpipe.
Is there somebody who  can help me?
It is very urgent as I am preparing my degree thesis and I have little time to finish my work.
Please help me!!!

Stefano



____________________________________________________________
6X velocizzare la tua navigazione a 56k? 6X Web Accelerator di Libero!
Scaricalo su INTERNET GRATIS 6X http://www.libero.it



From Giulio.Antonutto at arup.com  Thu May 26 12:15:13 2005
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu May 26 12:16:41 2005
Subject: [Radiance-general] simulation of a lightpipe
Message-ID: <E83FC9AC306BD34B993F651FC8D772F8224B8B@ldcexc01.global.arup.com>

Stefano,
it may sound too simple but unless you are about to design the optic
itself you should be considering to use some assumptions, just to make
life easier....

If your aim is to have a nice series of images, some daylight assessment
with daylight factor plots, luminance maps...
there are good tricks to save time and give reasonable answers:

you may use just a big glowing cylinder.

all you need to do is calculate manually the relation between input and
output for different time of the year, therefore link the external light
levels to the cylinder glow material radiance.

you may also use excel, just one calculation with one cylinder then
scale up and down based on external illuminance...

If you need to consider also the extinction within the cylinder you may
use a brightfunc that changes radiance with the length of the
cylinder....

but all these are really simplified things... 

the ultimate option, as you say, is to go for photon mapping... or
photonmapping + radzilla but it is a little longer 

ciao,
in bocca al lupo ;-)

giulio




-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
s.ponzetti@libero.it
Sent: 26 May 2005 10:43
To: radiance-general
Subject: [Radiance-general] simulation of a lightpipe

Hi group,

I am modelling a lightpipe in Desktop radiance and as I read in the
e-mail archive the best way to simulate it is the use of photon map so I
am going to install Cgwin, Radiance and Photon map but I have, I think,
a foundamental problem that is: I don't know how to draw and simulate
the lens inside the dome of the lightpipe.
Is there somebody who  can help me?
It is very urgent as I am preparing my degree thesis and I have little
time to finish my work.
Please help me!!!

Stefano



____________________________________________________________
6X velocizzare la tua navigazione a 56k? 6X Web Accelerator di Libero!
Scaricalo su INTERNET GRATIS 6X http://www.libero.it



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From s.ponzetti at libero.it  Thu May 26 15:08:32 2005
From: s.ponzetti at libero.it (s.ponzetti@libero.it)
Date: Thu May 26 15:09:12 2005
Subject: [Radiance-general] simulation of a lightpipe
Message-ID: <IH3LU8$5A5531648F651E29A346853B7C473C59@libero.it>

I have already simulate the lightipipe as Giulio suggest me but I would like to improve my work so I have to simulate a Fresenl lens inside the dome. Is there sombody who have already drawn a lightpipe with this characteristics?

Thanks
Stefano



____________________________________________________________
6X velocizzare la tua navigazione a 56k? 6X Web Accelerator di Libero!
Scaricalo su INTERNET GRATIS 6X http://www.libero.it



From gregoryjward at gmail.com  Thu May 26 21:17:58 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu May 26 21:18:49 2005
Subject: [Radiance-general] New rtcontrib program
Message-ID: <F39E5A9E-DAFB-4F89-99A9-1BC15461C0D9@gmail.com>

Hi All,

Somewhat related to the light pipe discussion, I have just completed  
work on a new utility called "rtcontrib," for computing arbitrary  
light contributions.  This is a culmination of earlier work I did on  
rtrace to allow for the correct reporting of ray weights in trace  
output (the new -oTW option), which I mentioned on radiance-dev a  
little over a month ago.  The benefits of this facility will not  
really be felt or known until a third (C-shell script) layer is added  
for calculating daylight coefficients and the like.  Right now, the  
simplest thing you can do with rtcontrib is arrive at a set of images  
corresponding to the different light sources in your scene, such that  
you can recombine them with dimming multipliers to simulate lighting  
controls.  An example of this is given in the man page, attached.

Rtcontrib can also be used by the more adventurous among you to  
compute input/output relations for devices such as light pipes and  
shading systems, although I have yet to test such an approach,  
myself.  I expect we'll be learning more about what one can do with  
this in the coming months, and I hope to work with Christoph Reinhart  
and John Mardaljevic on standardizing daylight coefficient  
calculations for starters.

-Greg

---------

RTCONTRIB(1)                                                       
RTCONTRIB(1)



NAME
        rtcontrib - compute contributions in a RADIANCE scene

SYNOPSIS
        rtcontrib  [ -n nprocs ][ -e expr ][ -f source ][ -o fspec ] 
[ -b binv ]
        -m mod ..  [ $EVAR ] [ @file ] [ rtrace options ] octree

DESCRIPTION
        Rtcontrib computes ray contributions  (i.e.,  color   
coefficients)  for
        objects  whose  modifiers  are named in one or more -m  
settings.  These
        modifiers are usually materials associated with light   
sources  or  sky
        domes, and must directly modify some geometric primitives to  
be consid-
        ered in the output.  The output of rtcontrib has many   
potential  uses.
        Source contributions can be used as components in linear  
combination to
        reproduce any desired variation, e.g., simulating lighting  
controls  or
        changing  sky  conditions  via  daylight coefficients.  More  
generally,
        rtcontrib can be used to compute arbitrary  input-output   
relationships
        in  optical  systems,  such  as  luminaires,  light  pipes,  
and shading
        devices.

        Rtcontrib calls rtrace(1) to calculate the contributions for  
each input
        ray,  and the output tallies are sent to one or more files  
according to
        the -o specification.  If an output specification contains a  
"%s"  for-
        mat,  this will be replaced by the modifier name.  The -b  
option may be
        used to further define a "bin number" within each object if  
finer reso-
        lution is needed, and this will be applied to a "%d" format  
in the out-
        put file specification if present.  The actual bin number   
is  computed
        at  run  time  based  on  ray  direction  and  surface  
intersection, as
        described below.  The most recent -b and -o options to the  
left of each
        -m  setting  affect only that modifier.  (The ordering of  
other options
        is unimportant.)

        If a -b expression is defined for a particular modifier, the  
bin number
        will  be  evaluated  at run time for each ray contribution  
from rtrace.
        Specifically, each ray's world intersection point will be   
assigned  to
        the  variables Px, Py, and Pz, and the normalized ray  
direction will be
        assigned to Dx, Dy, and Dz.  These parameters may be combined  
with def-
        initions given in -e arguments and files read using the -f  
option.  The
        computed bin value will be rounded to the nearest whole   
number.   This
        mechanism  allows the user to define precise regions or  
directions they
        wish to accumulate, such as  the  Tregenza  sky   
discretization,  which
        would  be  otherwise  impossible to specify as a set of  
RADIANCE primi-
        tives.  The rules and predefined functions available for  
these  expres-
        sions are described in the rcalc(1) man page.

        If  no  -o  specification is given, results are written on  
the standard
        output in order of modifier (as given on the  command  line)   
then  bin
        number.  Concatenated data is also sent to a lone output file  
(i.e., an
        initial -o specification without formatting strings).  If a "% 
s" format
        appears  but  no  "%d" in the -o specification, then each  
modifier will
        have its own output file, with multiple values per record in   
the  case
        of  a  non-zero  -b  definition.  If a "%d" format appears  
but no "%s",
        then each bin will get its own output file, with  modifiers   
output  in
        order  in each record.  For text output, each RGB coefficient  
triple is
        separated by a tab, with a newline at the end of each ray  
record.   For
        binary  output  formats,  there is no such delimiter to mark  
the end of
        each record.

        Input and output format defaults to plain text, where each  
ray's origin
        and  direction (6 real values) are given on input, and one  
line is pro-
        duced per output file per ray.  Alternative data  
representations may be
        specified  by  the  -f[io] option, which is described in the  
rtrace man
        page along with the associated -x and -y resolution  
settings.  In  par-
        ticular, the color ('c') output data representation together  
with posi-
        tive dimensions for -x and -y will  produce  an   
uncompressed  RADIANCE
        picture, suitable for manipulation with pcomb(1) and related  
tools.

        If  the  -n  option  is specified with a value greater than  
1, multiple
        rtrace processes will be used to accelerate  computation  on   
a  shared
        memory  machine.  Note that there is no benefit to using more  
processes
        than there are local CPUs available to do the work, and  the   
rtcontrib
        process itself may use a considerable amount of CPU time.

        Options  may be given on the command line and/or read from  
the environ-
        ment and/or read from a file.  A command argument beginning  
with a dol-
        lar  sign  ('$')  is  immediately replaced by the contents of  
the given
        environment variable.  A command argument beginning  with   
an  at  sign
        ('@') is immediately replaced by the contents of the given file.

EXAMPLES
        To  compute  the  proportional  contributions  from sources  
modified by
        "light1" vs. "light2" on a set of illuminance values:

          rtcontrib -I+ @render.opt -o c_%s.dat -m light1 -m light2 \
         scene.oct < test.dat

        To generate a pair of images corresponding to these two  
lights' contri-
        butions:

          vwrays -ff -x 1024 -y 1024 -vf best.vf | rtcontrib -ffc \
         `vwrays -d -x 1024 -y 1024 -vf best.vf` @render.opt \
          -o c_%s.pic -m light1 -m light2 scene.oct

        These images may then be recombined using the desired outputs  
of light1
        and light2:

          pcomb  -c  100  90  75  c_light1.pic  -c 50 55 57  
c_light2.pic \
         > combined.pic

        To compute an array of illuminance contributions according   
to  a  Tre-
        genza sky:

          rtcontrib -b tbin -o sky.dat -m skyglow -b 0 -o ground.dat \
          -m groundglow @render.opt -f tregenza.cal scene.oct < test.dat

AUTHOR
        Greg Ward

SEE ALSO
        cnt(1), getinfo(1), pcomb(1), pfilt(1), ra_rgbe(1), rcalc(1),  
rpict(1),
        rtrace(1), vwrays(1), ximage(1)



RADIANCE                            5/25/05                        
RTCONTRIB(1)


From jelle.feringa at ezct.net  Fri May 27 12:21:50 2005
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Fri May 27 12:22:17 2005
Subject: [Radiance-general] RTCONTRIB
Message-ID: <mailman.5.1117189336.370.radiance-general@radiance-online.org>

Dear Greg,

If I have understood the RTCONTRIB description correctly, it has the
potential to change the way one deals with Radiancec quite drastically, it
sounds like an incredible valuable tool! How could I get my hands on it?

//as a more personal question: c-shells? Have you been tempted by any of the
//p-languages (Python, Perl, Php)? Excuse me for not being a *nix guru, but
//I think it would be a good idea to code the c-shell scripts as a (Python?)
//module? Speaking for myself myself, but it would ease up scripting
//radiance considerably. Idea?

Cheers, Jelle.


From rpg at rumblestrip.org  Fri May 27 16:17:07 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri May 27 16:17:47 2005
Subject: [Radiance-general] RTCONTRIB
Message-ID: <57600.209.212.87.250.1117203427.squirrel@209.212.87.250>


On Fri, May 27, 2005 6:21 am, Jelle Feringa / EZCT Architecture & Design
Research said:
> Dear Greg,
>
> If I have understood the RTCONTRIB description correctly, it has the
> potential to change the way one deals with Radiancec quite drastically, it
> sounds like an incredible valuable tool! How could I get my hands on it?

Indeed it does.  As for obtaining the program, since Greg checked it in
yesterday, I'd guess that all you need to do is download the latest HEAD
release today and recompile. (?)

> //as a more personal question: c-shells? Have you been tempted by any of
> the
> //p-languages (Python, Perl, Php)? Excuse me for not being a *nix guru,
> but
> //I think it would be a good idea to code the c-shell scripts as a
> (Python?)
> //module? Speaking for myself myself, but it would ease up scripting
> //radiance considerably. Idea?

Programming languages/tools are like cars; they all excel at various
things, and people tend to gravitate to one or another for many different
reasons -- availability, cost, features, ease of use, adaptability, etc --
and everyone has a favorite.  I'd think that the ideal language to use
here would depend on the programmer, and of course the exact nature of the
program being created to use RTCONTRIB.

There are plenty of Python People on this list, and Perl People too.  But
if you poke around in some of the Radiance tools you'll also see that Greg
has been putting the C shell to good use in a number of ways.  It's really
whatever you're comfy using.

-- 
Rob Guglielmetti
www.rumblestrip.org

From gregoryjward at gmail.com  Fri May 27 19:49:55 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri May 27 19:50:31 2005
Subject: [Radiance-general] RTCONTRIB
In-Reply-To: <57600.209.212.87.250.1117203427.squirrel@209.212.87.250>
References: <57600.209.212.87.250.1117203427.squirrel@209.212.87.250>
Message-ID: <5078E298-2263-40A0-B661-95CD80B33F7E@gmail.com>

Just wanted to add a word or two to Rob's excellent response...

> From: "Rob Guglielmetti" <rpg@rumblestrip.org>
> Date: May 27, 2005 7:17:07 AM PDT
>
> On Fri, May 27, 2005 6:21 am, Jelle Feringa / EZCT Architecture &  
> Design
> Research said:
>
>> If I have understood the RTCONTRIB description correctly, it has the
>> potential to change the way one deals with Radiancec quite  
>> drastically, it
>> sounds like an incredible valuable tool! How could I get my hands  
>> on it?
>
> Indeed it does.  As for obtaining the program, since Greg checked  
> it in
> yesterday, I'd guess that all you need to do is download the latest  
> HEAD
> release today and recompile. (?)

Yes, the latest version should be in today's HEAD dump.  This is the  
one of the main benefits I enjoy from Peter's CVS setup -- I get a  
lot of help finding bugs early on, rather than just after an official  
release (the most embarrassing time to find them).  The last version  
I checked in yesterday was:

     rtcontrib.c,v 1.5 2005/05/26 21:35:35 greg Exp

You can verify this ID by checking the top of the file ray/src/util/ 
rtcontrib.c after downloading the HEAD release.  The SCONS scripts  
have not been updated, so you'll have to use rmake to build it.

>> //as a more personal question: c-shells? Have you been tempted by  
>> any of the
>> //p-languages (Python, Perl, Php)? Excuse me for not being a *nix  
>> guru, but
>> //I think it would be a good idea to code the c-shell scripts as a  
>> (Python?)
>> //module? Speaking for myself myself, but it would ease up scripting
>> //radiance considerably. Idea?
>
> Programming languages/tools are like cars; they all excel at various
> things, and people tend to gravitate to one or another for many  
> different
> reasons -- availability, cost, features, ease of use, adaptability,  
> etc --
> and everyone has a favorite.  I'd think that the ideal language to use
> here would depend on the programmer, and of course the exact nature  
> of the
> program being created to use RTCONTRIB.
>
> There are plenty of Python People on this list, and Perl People  
> too.  But
> if you poke around in some of the Radiance tools you'll also see  
> that Greg
> has been putting the C shell to good use in a number of ways.  It's  
> really
> whatever you're comfy using.

In my case, it's a combination of "force of habit" with being  
uncertain whether everyone/all_machines have Perl and Python  
installed these days.  I think they do, but I never learned either of  
these languages, so that holds me back as well.  Most of the stuff I  
do in C-shell scripts is straightforward, or at least it starts out  
that way, otherwise I'd be writing a C program.  The scripts do tend  
to look pretty ugly, though.  (Not my fault -- you try to write a  
"pretty" C-shell script.  I challenge you!)  This also serves as a  
disincentive for scripting, which I think is a good thing, as it  
keeps the more complex tasks in a familiar C context.

Getting back to rtcontrib, the first script I have in mind might  
generate annual simulations (animations) of a particular view using  
daylight coefficients.  I may get side-tracked for a while before I  
get that one together, though.

-Greg

From rpg at rumblestrip.org  Fri May 27 23:28:02 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri May 27 23:28:41 2005
Subject: [Radiance-general] rtcontrib and ambient cache
Message-ID: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>


I just checked out the new rtcontrib program, following Greg's examples #2
& 3 in the manpage to create two separate images of sources in a scene and
recombinig them with different values.  VERY COOL.  However, when I run
the command:

vwrays -ff -x 1024 -y 1024 -vf best.vf | rtcontrib -ffc \
         `vwrays -d -x 1024 -y 1024 -vf best.vf` @render.opt \
          -o c_%s.pic -m light1 -m light2 scene.oct

I get the following message:
rtrace warning: zero ambient accuracy so "test.amb" not opened

...but I did have -aa set to .1 (and this is in my render.opt file), and
there is a valid ambient cache.

Two questions:
a) Why is this happening?

b) Is this the only reason for the direct-only component showing up in the
renderings, or is this the intended result of the command?  IOW, I was
hoping to be able to create renderings that showed the net result of a
single light source, but both its direct *and* indirect contributions to
the scene. Can this be done?

-- 
Rob Guglielmetti
www.rumblestrip.org

From gregoryjward at gmail.com  Sat May 28 00:46:05 2005
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sat May 28 00:47:00 2005
Subject: [Radiance-general] rtcontrib and ambient cache
In-Reply-To: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
Message-ID: <B69BF6CE-5C16-4556-B883-015FA7670C28@gmail.com>

Hi Rob,

Glad to have some eager beavers going at this...

> However, when I run
> the command:
>
> vwrays -ff -x 1024 -y 1024 -vf best.vf | rtcontrib -ffc \
>          `vwrays -d -x 1024 -y 1024 -vf best.vf` @render.opt \
>           -o c_%s.pic -m light1 -m light2 scene.oct
>
> I get the following message:
> rtrace warning: zero ambient accuracy so "test.amb" not opened
>
> ...but I did have -aa set to .1 (and this is in my render.opt  
> file), and
> there is a valid ambient cache.
>
> Two questions:
> a) Why is this happening?

The -oTW option of rtrace (used by rtcontrib) doesn't work with the  
ambient cache, because information would be lost in figuring ray  
contributions.  Therefore, rtcontrib sets -aa 0 to switch caching off  
in its call to rtrace.  You should adjust your -ad value  
accordingly.  (It also sets -as 0 for similar reasons.)

> b) Is this the only reason for the direct-only component showing up  
> in the
> renderings, or is this the intended result of the command?  IOW, I was
> hoping to be able to create renderings that showed the net result of a
> single light source, but both its direct *and* indirect  
> contributions to
> the scene. Can this be done?

Yes, you should see both direct and indirect contributions from  
rtcontrib.  At least, that's the idea.  Maybe I should check to make  
sure of the results, because my test scene didn't contain much  
indirect lighting.  Let me get back to you on this....

-Greg

From gregoryjward at gmail.com  Sat May 28 05:11:58 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat May 28 05:12:38 2005
Subject: [Radiance-general] rtcontrib and ambient cache
In-Reply-To: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
Message-ID: <38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>

Me again.

> From: "Rob Guglielmetti" <rpg@rumblestrip.org>
> Date: May 27, 2005 2:28:02 PM PDT
>
> b) Is this the only reason for the direct-only component showing up  
> in the
> renderings, or is this the intended result of the command?  IOW, I was
> hoping to be able to create renderings that showed the net result of a
> single light source, but both its direct *and* indirect  
> contributions to
> the scene. Can this be done?

I checked, and the calculation seems to be behaving as I expected it  
to, anyway.  Are you sure you aren't getting the indirect component?   
Maybe there's something else amiss with your rendering parameters.   
Try placing "-defaults" where the octree is now and see what  
rtcontrib spits out for the full parameter list.

-Greg

From rpg at rumblestrip.org  Sat May 28 06:11:59 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sat May 28 06:12:41 2005
Subject: [Radiance-general] rtcontrib and ambient cache
In-Reply-To: <38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
	<38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>
Message-ID: <51207.68.36.127.169.1117253519.squirrel@68.36.127.169>


On Fri, May 27, 2005 11:11 pm, Greg Ward said:
> Me again.

> I checked, and the calculation seems to be behaving as I expected it
> to, anyway.  Are you sure you aren't getting the indirect component?
> Maybe there's something else amiss with your rendering parameters.
> Try placing "-defaults" where the octree is now and see what
> rtcontrib spits out for the full parameter list.

Hi Greg,

I did like you asked, and the only thing that stuck out was the -ab 1 as a
possible culprit, so I reran it with -ab 3, but I get the same result. 
It's a room with two downlights, and even with -ab 3 there is no light on
the ceiling with the differential pics.  So I dumped the -defaults to a
text file for you, and will send it (along with some renderings) to you in
a separate email.

-- 
Rob Guglielmetti
www.rumblestrip.org

From gregoryjward at gmail.com  Sat May 28 17:40:08 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat May 28 17:40:48 2005
Subject: [Radiance-general] rtcontrib and ambient cache
In-Reply-To: <51207.68.36.127.169.1117253519.squirrel@68.36.127.169>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
	<38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>
	<51207.68.36.127.169.1117253519.squirrel@68.36.127.169>
Message-ID: <DEB346A2-E07C-4C67-807D-292302BDBBBB@gmail.com>

Hi Rob,

I found the problem.  It has to do with your -ad 1536 value and the  
way I'm computing weights, which causes the ambient rays to drop  
below your -lw threshold.  I made a temporary fix that circumvents  
the problem in this case, but I haven't checked it into CVS because I  
need to think more carefully about how I'm computing ray weights in  
this part of the code.  I'll check it in when I'm sure I have it  
right this times.

Thanks -- you're my alpha alpha tester!
-Greg

> From: "Rob Guglielmetti" <rpg@rumblestrip.org>
> Date: May 27, 2005 9:11:59 PM PDT
>
> Hi Greg,
>
> I did like you asked, and the only thing that stuck out was the -ab  
> 1 as a
> possible culprit, so I reran it with -ab 3, but I get the same result.
> It's a room with two downlights, and even with -ab 3 there is no  
> light on
> the ceiling with the differential pics.  So I dumped the -defaults  
> to a
> text file for you, and will send it (along with some renderings) to  
> you in
> a separate email.
> -- 
> Rob Guglielmetti
>

From rpg at rumblestrip.org  Sun May 29 06:34:18 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sun May 29 06:35:07 2005
Subject: [Radiance-general] rtcontrib and ambient cache
In-Reply-To: <DEB346A2-E07C-4C67-807D-292302BDBBBB@gmail.com>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
	<38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>
	<51207.68.36.127.169.1117253519.squirrel@68.36.127.169>
	<DEB346A2-E07C-4C67-807D-292302BDBBBB@gmail.com>
Message-ID: <1206.68.36.127.169.1117341258.squirrel@68.36.127.169>


On Sat, May 28, 2005 11:40 am, Greg Ward said:
> Hi Rob,
>
> I found the problem.  It has to do with your -ad 1536 value and the
> way I'm computing weights, which causes the ambient rays to drop
> below your -lw threshold.  I made a temporary fix that circumvents
> the problem in this case, but I haven't checked it into CVS because I
> need to think more carefully about how I'm computing ray weights in
> this part of the code.  I'll check it in when I'm sure I have it
> right this times.
>
> Thanks -- you're my alpha alpha tester!

Cool, glad to help in some way.  To think for once it wasn't "user error"!
 Looking forward to trying the next version...

-- 
Rob Guglielmetti
www.rumblestrip.org

From gregoryjward at gmail.com  Sun May 29 08:26:55 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun May 29 08:27:34 2005
Subject: [Radiance-general] rtcontrib and ambient cache
In-Reply-To: <1206.68.36.127.169.1117341258.squirrel@68.36.127.169>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
	<38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>
	<51207.68.36.127.169.1117253519.squirrel@68.36.127.169>
	<DEB346A2-E07C-4C67-807D-292302BDBBBB@gmail.com>
	<1206.68.36.127.169.1117341258.squirrel@68.36.127.169>
Message-ID: <AED5FA7E-D9E6-41BB-8270-3944A18E11DE@gmail.com>

The new version is checked in, and seems to be working.  You really  
need to override some of the rendering options, though, as rad's  
output is not appropriate for rtcontrib, anymore than it's  
appropriate for mkillum.  It's a different use of Radiance and you  
can't really think of it as rendering anymore.  In particular, the - 
ad option should be set to something much smaller, since the ambient  
cache is disabled.

Thanks again for helping me find the problem.  I think I worked it out.

-Greg

> From: "Rob Guglielmetti" <rpg@rumblestrip.org>
> Date: May 28, 2005 9:34:18 PM PDT
>
> Cool, glad to help in some way.  To think for once it wasn't "user  
> error"!
>  Looking forward to trying the next version...
>

From gvn at retena.com  Sun May 29 13:10:20 2005
From: gvn at retena.com (=?iso-8859-1?Q?Ignacio_Mun=E1rriz?=)
Date: Sun May 29 13:26:32 2005
Subject: [Radiance-general] Re:  windows Borland Makefile for radiance
Message-ID: <002601c5643f$00f60e90$53000080@pnac>

i've put the binarys at http://www.alfanature.com/radiance/radiance-bin.zip

----- Original Message -----
From: "Jelle Feringa / EZCT Architecture & Design Research"
<jelle.feringa@ezct.net>
To: <gvn@retena.com>
Sent: Saturday, May 28, 2005 3:20 PM
Subject: windows Borland Makefile for radiance


> Dear Ignacio,
>
> I'm looking into compiling the radiance code into a win32 binary.
> I've been over your posts on the code development mailing list, and am
> wondering if you would be willing to share your binaries with me, since
I'm
> unfamiliar with C compiling (I'm a python fan!) and this seems Far from
> trivial!
>
> Cheers,
>
> Jelle Feringa.
>
>


From gvn at retena.com  Sun May 29 16:52:01 2005
From: gvn at retena.com (=?iso-8859-1?Q?Ignacio_Mun=E1rriz?=)
Date: Sun May 29 17:08:48 2005
Subject: [Radiance-general] Re: windows Borland Makefile for radiance
Message-ID: <000b01c5645e$0a888630$53000080@pnac>

yes i forgot it too, use :
RAPATH=c:/ray/lib;.

ATTENTION you must use / and not \ in the RAYPATH variable

very nice your work in the EZCT, i would like we'd do it spain , but our
architecture schools are yet with lightscape    :-)

----- Original Message -----
From: "Jelle Feringa / EZCT Architecture & Design Research"
<jelle.feringa@ezct.net>
To: "'Ignacio Mun?rriz'" <gvn@retena.com>
Sent: Sunday, May 29, 2005 1:57 PM
Subject: RE: windows Borland Makefile for radiance


Oops, forgot,

I used to work with the old dtp-rad binaries, which use the registry to find
the .cal files. Unless I put the .cal's in the dir. my radiance files are
located in, your binaries don't find them. Is there an environment variable
I can use? The right directory is in fact in my Path, so that's a bit
puzzling?

Cheers,

Jelle.



From rpg at rumblestrip.org  Mon May 30 06:30:22 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon May 30 06:31:19 2005
Subject: [Radiance-general] rtcontrib and ambient cache
In-Reply-To: <AED5FA7E-D9E6-41BB-8270-3944A18E11DE@gmail.com>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
	<38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>
	<51207.68.36.127.169.1117253519.squirrel@68.36.127.169>
	<DEB346A2-E07C-4C67-807D-292302BDBBBB@gmail.com>
	<1206.68.36.127.169.1117341258.squirrel@68.36.127.169>
	<AED5FA7E-D9E6-41BB-8270-3944A18E11DE@gmail.com>
Message-ID: <3aa61383e23ef8a34349b84b04ccc94a@rumblestrip.org>


On May 29, 2005, at 2:26 AM, Greg Ward wrote:

> The new version is checked in, and seems to be working.  You really 
> need to override some of the rendering options, though, as rad's 
> output is not appropriate for rtcontrib, anymore than it's appropriate 
> for mkillum.  It's a different use of Radiance and you can't really 
> think of it as rendering anymore.  In particular, the -ad option 
> should be set to something much smaller, since the ambient cache is 
> disabled.
>
> Thanks again for helping me find the problem.  I think I worked it out.

Cool, I'll grab the new version and check it out.  Thanks for the 
rendering options advice as well...

=================
    Rob Guglielmetti
www.rumblestrip.org


From jelleferinga at gmail.com  Tue May 31 02:11:55 2005
From: jelleferinga at gmail.com (Jelle Feringa / EZCT Architecture & Design Research)
Date: Tue May 31 02:12:32 2005
Subject: [Radiance-general] compiling RTcontrib
Message-ID: <37fac3b905053017115cfb35e3@mail.gmail.com>

Hi all,

RTcontrib was the final argument i needed to put myself together and
install linux.
Got the ubuntu distro & i'm up an running. Oh, the joy of compiling
the HEAD release.
Really, i have to admit, i thought compiling software would do me in,
but its really not That Tough... Ok i'll stop the
initial-over-confidence here...

thing is although compiling seems to do well, the initial reason for
getting into this exercise seems to be not so willing:

rtcontrib.c: In function `killpersist':
rtcontrib.c:299: error: `SIGALRM' undeclared (first use in this function)
rtcontrib.c:299: error: (Each undeclared identifier is reported only once
rtcontrib.c:299: error: for each function it appears in.)
rtcontrib.c: In function `init':
rtcontrib.c:352: error: `SIGINT' undeclared (first use in this function)
make: *** [rtcontrib.o] Error 1
make: Target `install' not remade because of errors.

what is it i'm doing wrong here?
doesnt seem to be an issue with libs/packages/ is it?

Cheers, Jelle

From gregoryjward at gmail.com  Tue May 31 04:04:16 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue May 31 04:04:53 2005
Subject: [Radiance-general] compiling RTcontrib
In-Reply-To: <37fac3b905053017115cfb35e3@mail.gmail.com>
References: <37fac3b905053017115cfb35e3@mail.gmail.com>
Message-ID: <B86C25AE-DABD-4062-9721-147A8C4D4735@gmail.com>

Hi Jelle,

The fault is mine -- apparently, OS X is more generous with it's  
#include's than Linux.  Add the following right after the line:

#include <ctype.h>

at the head of rtcontrib.c:

#include <signal.h>

Hopefully, that should fix it.  I'll check in the change tonight, but  
you don't need to wait for it.

-Greg


> From: Jelle Feringa / EZCT Architecture & Design Research  
> <jelleferinga@gmail.com>
> Date: May 30, 2005 5:11:55 PM PDT
>
> Hi all,
>
> RTcontrib was the final argument i needed to put myself together and
> install linux.
> Got the ubuntu distro & i'm up an running. Oh, the joy of compiling
> the HEAD release.
> Really, i have to admit, i thought compiling software would do me in,
> but its really not That Tough... Ok i'll stop the
> initial-over-confidence here...
>
> thing is although compiling seems to do well, the initial reason for
> getting into this exercise seems to be not so willing:
>
> rtcontrib.c: In function `killpersist':
> rtcontrib.c:299: error: `SIGALRM' undeclared (first use in this  
> function)
> rtcontrib.c:299: error: (Each undeclared identifier is reported  
> only once
> rtcontrib.c:299: error: for each function it appears in.)
> rtcontrib.c: In function `init':
> rtcontrib.c:352: error: `SIGINT' undeclared (first use in this  
> function)
> make: *** [rtcontrib.o] Error 1
> make: Target `install' not remade because of errors.
>
> what is it i'm doing wrong here?
> doesnt seem to be an issue with libs/packages/ is it?
>
> Cheers, Jelle

From tarik.rahman at ed.ac.uk  Tue May 31 14:58:54 2005
From: tarik.rahman at ed.ac.uk (Tarik Rahman)
Date: Tue May 31 14:59:33 2005
Subject: [Radiance-general] Sample cabin scene textures
In-Reply-To: <AED5FA7E-D9E6-41BB-8270-3944A18E11DE@gmail.com>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>
	<38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>
	<51207.68.36.127.169.1117253519.squirrel@68.36.127.169>
	<DEB346A2-E07C-4C67-807D-292302BDBBBB@gmail.com>
	<1206.68.36.127.169.1117341258.squirrel@68.36.127.169>
	<AED5FA7E-D9E6-41BB-8270-3944A18E11DE@gmail.com>
Message-ID: <1117544334.429c5f8ea3ef7@sms.ed.ac.uk>

Hi there

>From the sample cabin scene at http://radsite.lbl.gov/mgf/scenes.html do you
know how to get the textures for the plank-style shiny wooden floors and walls,
also the posters? Just rendered  it there but the textures are missing.


Thanks

Tarik
--
Tarik Rahman
PhD student, Institute of Perception, Action and Behaviour
School of Informatics
University of Edinburgh

From ian at testers.homelinux.net  Tue May 31 15:38:14 2005
From: ian at testers.homelinux.net (Ian Tester)
Date: Tue May 31 15:39:05 2005
Subject: [Radiance-general] Sample cabin scene textures
In-Reply-To: <1117544334.429c5f8ea3ef7@sms.ed.ac.uk>
References: <1220.209.212.87.250.1117229282.squirrel@209.212.87.250>	<38D9F72A-1575-4788-A283-D2378A3A6C4E@gmail.com>	<51207.68.36.127.169.1117253519.squirrel@68.36.127.169>	<DEB346A2-E07C-4C67-807D-292302BDBBBB@gmail.com>	<1206.68.36.127.169.1117341258.squirrel@68.36.127.169>	<AED5FA7E-D9E6-41BB-8270-3944A18E11DE@gmail.com>
	<1117544334.429c5f8ea3ef7@sms.ed.ac.uk>
Message-ID: <429C68C6.9030105@testers.homelinux.net>

Tarik Rahman wrote:
> Hi there
> 
>>From the sample cabin scene at http://radsite.lbl.gov/mgf/scenes.html do you
> know how to get the textures for the plank-style shiny wooden floors and walls,
> also the posters? Just rendered  it there but the textures are missing.

The cabin scene is in the Radiance "auxiliary files", along with other 
example scenes.

Download it here:

http://www.radiance-online.org/software/

P.S
It's not a good idea to compose a new email message by replying to an 
unrelated email. It confuses some email systems and may leak private 
information.

