From f.giovannetti at isfh.de  Thu Sep  8 12:38:40 2005
From: f.giovannetti at isfh.de (Federico Giovannetti)
Date: Thu Sep  8 12:24:43 2005
Subject: [Radiance-general] Materials for scale model room
Message-ID: <002901c5b461$7a5cb2d0$e400a8c0@PC501fg>

Hallo Greg, hallo Radiance Community!

I'm trying to compare some Radiance-simulation results with experimental measurements (i know it's not that easy, i'm just trying).
As I would like to isolate (as good as possible) the effects of glazing system and skylight distribution, i'm looking for diffusing materials for my scale-room which can be  physically very good  modeled with Radiance. That is materials whose BRTDF is not more complex than a TRANS-type. So that i don't have to worry too much about them (??).
Some textil materials (such as molleton for theater applications)  seem to be good diffusing ones, with an almost lambertian behaviour, but i'm still searching...
Has anybody in the community a good tip (matt paint, etc.)?

Thanks a lot for any contribution and have a nice day,
federico

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050908/af90be84/attachment.html
From francesco.anselmo at arup.com  Thu Sep  8 12:53:08 2005
From: francesco.anselmo at arup.com (Francesco Anselmo)
Date: Thu Sep  8 12:52:24 2005
Subject: [Radiance-general] Materials for scale model room
Message-ID: <2C0020B9EB71CE4281B292F0E16A6DDE099FC9@ldcexc02.global.arup.com>

Ciao Federico!

You may find useful to check what Christoph has presented at the latest
Radiance Workshop:
http://irc.nrc-cnrc.gc.ca/ie/light/RadianceWorkshop2005/PDF/TranslucentP
anelValidation.pdf

A good uniformly diffusing translucent glass is Schott Opalika:
http://www.schott.com/uk/english/download/opalika_let_there_be_light_rd2
72.pdf
It is nearly lambertian, except for a little peak  in the normal
direction.
I have a goniometric plot if you need it ...

Francesco

From jm at dmu.ac.uk  Thu Sep  8 20:31:20 2005
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Thu Sep  8 20:32:27 2005
Subject: [Radiance-general] Materials for scale model room
Message-ID: <04A27189-44E0-4465-9381-0896E5312D2F@dmu.ac.uk>

And for those who really want to get 'stuck-in' to validation (under  
real sky conditions), there is a load of material here:

http://www.iesd.dmu.ac.uk/~jm/zxcv-thesis/

Parts B & C.

Federico, let me know how you get on.

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From alira at gsd.harvard.edu  Fri Sep  9 00:19:48 2005
From: alira at gsd.harvard.edu (alira@gsd.harvard.edu)
Date: Fri Sep  9 00:20:53 2005
Subject: [Radiance-general] Obtaining RGB output data
In-Reply-To: <430D91B6.50000@bradford.ac.uk>
References: <1296.132.248.209.37.1124917144.squirrel@132.248.209.37>
	<430D91B6.50000@bradford.ac.uk>
Message-ID: <1225.132.248.209.37.1126217988.squirrel@132.248.209.37>

Hi Alexa!

Thanks for responding my email. I've been `playing? with the "pvalue"
command and I assume I obtain the x-y position of the pixel of any picture
and the R, G, and B value of that pixle. You told me in your e-mail that
is up to me how I interpret this RGB data. When I use the pvalue I obtain
data like this (for example):


   xposition     y position      R            G              B

      345            240       7.495e-02    7.495e-02     3.495e-02

However, which type of units are this? Are there no units at all? Is this
illuminance? Also, in most of my pixels, the R,G, and B data is the same,
i.e, 7.495e-02 in the three (RGB). Does this means that that pixel has a
neutral color?

Thanks for your help,

Adriana












> Hi Adriana,
>
> if I'm not mistaken you want to look into the use of 'pvalue'.
> Note, that RGB values will give you some idea about the colorimetric
> properties of any point in the scene, but if you are remotely interested
> in accurate data - your comparison with the spectroradiometer suggests
> this - then you might want to look into spectral rendering. You can also
> do that with RADIANCE. see e.g. Yang & Maloney, 2001, Vision Research,
> 41:2581-2600 (the appendix).
> As far as I remember RADIANCE will return RGB values < 0 and > 1, and
> it's up to you how you interpret this data, i.e. outside of the
> RGB-gamut of the default phosphors (also somewhere defined in RADIANCE),
> which will definitely become an issue with day-light scenes.
>
> Good luck!
>
> alexa
>
>
> alira@gsd.harvard.edu wrote:
>>    hi all,
>>
>>    I'm starting to use Radiance and I want to work with it in order to
>> simulate both daylight and artificial light. I want to change both the
>> RGB propeties of the light source and the materials. After Radiance
>> analizes the scene one can obtain as the output data, the luminance of
>> any point I select in my scene. Besides knowing what is the luminance
>> in any desired point, I'm very interested in knowing what is the RGB
>> component also of any point of the scene (such as if I were measuring
>> the RGB spectral component in several points of a room with a
>> spectometer). Is that possible? And if yes, what do you recommend me to
>> do in order to obtain this as an output data?
>>
>>    I would appreciate any help.
>>
>> Than you,
>> -adriana
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> --
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Dr. Alexa I. Ruppertsberg
> Department of Optometry
> University of Bradford
> Bradford
> BD7 1DP
> UK
>
> email: 	a.i.ruppertsberg@bradford.ac.uk
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



From gregoryjward at gmail.com  Fri Sep  9 05:22:20 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Sep  9 05:23:30 2005
Subject: [Radiance-general] Obtaining RGB output data
In-Reply-To: <1225.132.248.209.37.1126217988.squirrel@132.248.209.37>
References: <1296.132.248.209.37.1124917144.squirrel@132.248.209.37>
	<430D91B6.50000@bradford.ac.uk>
	<1225.132.248.209.37.1126217988.squirrel@132.248.209.37>
Message-ID: <ADEB52CB-91AE-4462-B4E8-14163DE1FD2B@gmail.com>

Hi Adriana,

Unless you use the -o option of pvalue, the output is not in any  
particular units.  With the -o option, the reported RGB values are in  
radiance units, i.e., watts/sr/meter^2.  However, it is probably  
better for you to work directly in photometric units, which you can  
easily do with the ra_xyze command,  like so:

% ra_xyze rendered.pic | pvalue -o [other options]

The "RGB" values reported will then be in calibrated CIE XYZ  
coordinates (i.e., the Y channel will be luminance in cd/meter^2).

The only caveat to the above is if the pictures are rendered using  
the -i option of rpict, then the output will be in units of  
irradiance (watts/meter^2) in the first case, and illuminance (lux)  
in the case where you apply ra_xyze.

Best of luck,
-Greg

> From: alira@gsd.harvard.edu
> Date: September 8, 2005 3:19:48 PM PDT
>
> Hi Alexa!
>
> Thanks for responding my email. I've been `playing? with the "pvalue"
> command and I assume I obtain the x-y position of the pixel of any  
> picture
> and the R, G, and B value of that pixle. You told me in your e-mail  
> that
> is up to me how I interpret this RGB data. When I use the pvalue I  
> obtain
> data like this (for example):
>
>
>    xposition     y position      R            G              B
>
>       345            240       7.495e-02    7.495e-02     3.495e-02
>
> However, which type of units are this? Are there no units at all?  
> Is this
> illuminance? Also, in most of my pixels, the R,G, and B data is the  
> same,
> i.e, 7.495e-02 in the three (RGB). Does this means that that pixel  
> has a
> neutral color?
>
> Thanks for your help,
>
> Adriana
>

From apian at pab-opto.de  Sun Sep 11 00:10:47 2005
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Sun Sep 11 00:13:21 2005
Subject: [Radiance-general] Re: Materials for scale model room
In-Reply-To: <200509090957.j899vSUB008807@light-simulation.com>
References: <200509090957.j899vSUB008807@light-simulation.com>
Message-ID: <432359E7.9060303@pab-opto.de>

radiance-general-request@radiance-online.org wrote:

>Send Radiance-general mailing list submissions to
>	radiance-general@radiance-online.org
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://www.radiance-online.org/mailman/listinfo/radiance-general
>or, via email, send a message with subject or body 'help' to
>	radiance-general-request@radiance-online.org
>
>You can reach the person managing the list at
>	radiance-general-owner@radiance-online.org
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Radiance-general digest..."
>
>
>Today's Topics:
>
>   1. Materials for scale model room (Federico Giovannetti)
>   2. RE: Materials for scale model room (Francesco Anselmo)
>   3. Materials for scale model room (John Mardaljevic)
>   4. Re: Obtaining RGB output data (alira@gsd.harvard.edu)
>   5. Re: Obtaining RGB output data (Greg Ward)
>
>
>----------------------------------------------------------------------
>
>Message: 1
>Date: Thu, 8 Sep 2005 12:38:40 +0200
>From: "Federico Giovannetti" <f.giovannetti@isfh.de>
>Subject: [Radiance-general] Materials for scale model room
>To: <radiance-general@radiance-online.org>
>Message-ID: <002901c5b461$7a5cb2d0$e400a8c0@PC501fg>
>Content-Type: text/plain; charset="iso-8859-1"
>
>Hallo Greg, hallo Radiance Community!
>
>I'm trying to compare some Radiance-simulation results with experimental measurements (i know it's not that easy, i'm just trying).
>As I would like to isolate (as good as possible) the effects of glazing system and skylight distribution, i'm looking for diffusing materials for my scale-room which can be  physically very good  modeled with Radiance. That is materials whose BRTDF is not more complex than a TRANS-type. So that i don't have to worry too much about them (??).
>Some textil materials (such as molleton for theater applications)  seem to be good diffusing ones, with an almost lambertian behaviour, but i'm still searching...
>Has anybody in the community a good tip (matt paint, etc.)?
>  
>
Hi Federico,

my two cents thoughts on validations in general: Rather simple ideas 
really. Sorry if they are a boring repetition of standard engineering 
procedures to many of you. Having watched and read some Phds on this 
subject, it seems worth mentioning so. Many other works on the subject 
don't need any of my humble comments. Nothing personal: "you" is just 
to-whome-it-may-concern.

    * Your results will most likely /not/ match you simulation. Be
      prepared to figure out why. Don't just say "oh, they are 15% off
      at point A und only 5% at point B, so we're better than 15%.
      Homework done, can I go play outside ?" . Check what's happening
      between point A und B.
      Compare whole curves rather than individual points to see whether
      there's an offset or a complete different shape. Both cases ask
      for an explanation.
      If they match perfectly, vary some parameter and check that the
      match results from you doing the right thing and not from sheer luck.
      If simulation and measurement differ by Monte Carlo and/or
      measurement noise, you're knighted and may retire to a splendid
      location on the planet.
      The aim of a validation is not so much an impressively small
      deviation between simulation and measurement, but a proven
      understanding of the mechanisms that lead to the deviations.
    * nature lies to you cold blooded at any moment you're not alert.
      Start with the simplest imaginable case and check that. Build
      trust in your results by adding complexity stepwise and in a
      controlled manner.
    * Keep track of your setup, materials and procedures. If you find
      out at a late stage that rho_dh of molton differs mysteriously
      from the value measured at the beginning (maybe because the large
      piece of molton that was cut down to smaller patches wasn't
      homogenous), you want to know which measurements might have been
      affected by this. Be prepared to recheck. That of course works
      more easily with automated measurements than with long runs of
      pure hand measurements.
      Unless you're taking data on Nessie or Mt. St. Helen, plan to
      repeat a measurement. Just for the fun of it and to see whether
      nature is still on your side.
    * get as much data points as you can. Timewise (some people are
      suprised to find that artifical lamps have a 50/60Hz modulation
      and that shows if values are not averaged over a longer period or
      if no special power source is used. output decrease with age, too)
      and spatial. IMHO the latter is higher valuable:
      Measurements at 3 points in a box are, at least to me, not enough
      to understand what's happening inside.
    * really diffuse reflecting materials are hard to find and it gets
      harder with higher incident angle (away from the surface normal)
    * "The systematic experiment", edited by J.C. Gibbings, Cambridge
      Univ. Press 1986 has some introduction to this art. Likely there
      are a piles of similar nice texts available.
    * Don't trust your superiors telling you that this bit of extra
      effort is not worth it.
    * To the superiors: Allocate enough money to do it right.
      Validations are like antibiotics: Do it fully or don't do it at all.

anyway, - enough nagging comments,
cheers
Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050911/467c62ea/attachment.htm
From f.giovannetti at isfh.de  Tue Sep 13 11:23:48 2005
From: f.giovannetti at isfh.de (Federico Giovannetti)
Date: Tue Sep 13 11:10:27 2005
Subject: [Radiance-general] Re:Materials for scale model room
References: <200509110959.j8B9xgLH021650@www.isfh.de>
Message-ID: <001801c5b844$d8b05990$e400a8c0@PC501fg>

Thanks John, Francesco and Peter for your answer.
Regards,
federico


----- Original Message ----- 
From: <radiance-general-request@radiance-online.org>
To: <radiance-general@radiance-online.org>
Sent: Sunday, September 11, 2005 11:59 AM
Subject: Radiance-general Digest, Vol 19, Issue 3


> Send Radiance-general mailing list submissions to
> radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
> radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
> radiance-general-owner@radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>    1. Re: Materials for scale model room (Peter Apian-Bennewitz)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 11 Sep 2005 00:10:47 +0200
> From: Peter Apian-Bennewitz <apian@pab-opto.de>
> Subject: [Radiance-general] Re: Materials for scale model room
> To: radiance-general@radiance-online.org
> Message-ID: <432359E7.9060303@pab-opto.de>
> Content-Type: text/plain; charset="iso-8859-15"
>
> radiance-general-request@radiance-online.org wrote:
>
> >Send Radiance-general mailing list submissions to
> > radiance-general@radiance-online.org
> >
> >To subscribe or unsubscribe via the World Wide Web, visit
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >or, via email, send a message with subject or body 'help' to
> > radiance-general-request@radiance-online.org
> >
> >You can reach the person managing the list at
> > radiance-general-owner@radiance-online.org
> >
> >When replying, please edit your Subject line so it is more specific
> >than "Re: Contents of Radiance-general digest..."
> >
> >
> >Today's Topics:
> >
> >   1. Materials for scale model room (Federico Giovannetti)
> >   2. RE: Materials for scale model room (Francesco Anselmo)
> >   3. Materials for scale model room (John Mardaljevic)
> >   4. Re: Obtaining RGB output data (alira@gsd.harvard.edu)
> >   5. Re: Obtaining RGB output data (Greg Ward)
> >
> >
> >----------------------------------------------------------------------
> >
> >Message: 1
> >Date: Thu, 8 Sep 2005 12:38:40 +0200
> >From: "Federico Giovannetti" <f.giovannetti@isfh.de>
> >Subject: [Radiance-general] Materials for scale model room
> >To: <radiance-general@radiance-online.org>
> >Message-ID: <002901c5b461$7a5cb2d0$e400a8c0@PC501fg>
> >Content-Type: text/plain; charset="iso-8859-1"
> >
> >Hallo Greg, hallo Radiance Community!
> >
> >I'm trying to compare some Radiance-simulation results with experimental
measurements (i know it's not that easy, i'm just trying).
> >As I would like to isolate (as good as possible) the effects of glazing
system and skylight distribution, i'm looking for diffusing materials for my
scale-room which can be  physically very good  modeled with Radiance. That
is materials whose BRTDF is not more complex than a TRANS-type. So that i
don't have to worry too much about them (??).
> >Some textil materials (such as molleton for theater applications)  seem
to be good diffusing ones, with an almost lambertian behaviour, but i'm
still searching...
> >Has anybody in the community a good tip (matt paint, etc.)?
> >
> >
> Hi Federico,
>
> my two cents thoughts on validations in general: Rather simple ideas
> really. Sorry if they are a boring repetition of standard engineering
> procedures to many of you. Having watched and read some Phds on this
> subject, it seems worth mentioning so. Many other works on the subject
> don't need any of my humble comments. Nothing personal: "you" is just
> to-whome-it-may-concern.
>
>     * Your results will most likely /not/ match you simulation. Be
>       prepared to figure out why. Don't just say "oh, they are 15% off
>       at point A und only 5% at point B, so we're better than 15%.
>       Homework done, can I go play outside ?" . Check what's happening
>       between point A und B.
>       Compare whole curves rather than individual points to see whether
>       there's an offset or a complete different shape. Both cases ask
>       for an explanation.
>       If they match perfectly, vary some parameter and check that the
>       match results from you doing the right thing and not from sheer
luck.
>       If simulation and measurement differ by Monte Carlo and/or
>       measurement noise, you're knighted and may retire to a splendid
>       location on the planet.
>       The aim of a validation is not so much an impressively small
>       deviation between simulation and measurement, but a proven
>       understanding of the mechanisms that lead to the deviations.
>     * nature lies to you cold blooded at any moment you're not alert.
>       Start with the simplest imaginable case and check that. Build
>       trust in your results by adding complexity stepwise and in a
>       controlled manner.
>     * Keep track of your setup, materials and procedures. If you find
>       out at a late stage that rho_dh of molton differs mysteriously
>       from the value measured at the beginning (maybe because the large
>       piece of molton that was cut down to smaller patches wasn't
>       homogenous), you want to know which measurements might have been
>       affected by this. Be prepared to recheck. That of course works
>       more easily with automated measurements than with long runs of
>       pure hand measurements.
>       Unless you're taking data on Nessie or Mt. St. Helen, plan to
>       repeat a measurement. Just for the fun of it and to see whether
>       nature is still on your side.
>     * get as much data points as you can. Timewise (some people are
>       suprised to find that artifical lamps have a 50/60Hz modulation
>       and that shows if values are not averaged over a longer period or
>       if no special power source is used. output decrease with age, too)
>       and spatial. IMHO the latter is higher valuable:
>       Measurements at 3 points in a box are, at least to me, not enough
>       to understand what's happening inside.
>     * really diffuse reflecting materials are hard to find and it gets
>       harder with higher incident angle (away from the surface normal)
>     * "The systematic experiment", edited by J.C. Gibbings, Cambridge
>       Univ. Press 1986 has some introduction to this art. Likely there
>       are a piles of similar nice texts available.
>     * Don't trust your superiors telling you that this bit of extra
>       effort is not worth it.
>     * To the superiors: Allocate enough money to do it right.
>       Validations are like antibiotics: Do it fully or don't do it at all.
>
> anyway, - enough nagging comments,
> cheers
> Peter
>
> -- 
>  pab-opto, Freiburg, Germany, http://www.pab-opto.de
>  [see web page to check digital email signature]
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
http://radiance-online.org/pipermail/radiance-general/attachments/20050911/467c62ea/attachment.html
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 19, Issue 3
> ***********************************************
>
>


From kthibault at biomechanicsinc.com  Tue Sep 13 21:42:40 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Sep 13 21:43:50 2005
Subject: [Radiance-general] OSX and resolving rview conflict
Message-ID: <DF86EEC8-5A01-4C14-A292-E091FC0B53A3@biomechanicsinc.com>

I know that the old alias "rvu" causes problems with the Mac OSX  
implementation of RADIANCE.  After installing RADIANCE 3.7 after  
installing OSX 10.4 now "rview" invokes ViM and has the same  
problem.  How do I get rview to call RADIANCE's rview and not the ViM?

Thanks for the patient consideration of my inane Unix question.

kirk

------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault





From rpg at rumblestrip.org  Tue Sep 13 21:55:12 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Sep 13 21:56:08 2005
Subject: [Radiance-general] OSX and resolving rview conflict
In-Reply-To: <DF86EEC8-5A01-4C14-A292-E091FC0B53A3@biomechanicsinc.com>
References: <DF86EEC8-5A01-4C14-A292-E091FC0B53A3@biomechanicsinc.com>
Message-ID: <43272EA0.8050202@rumblestrip.org>

Kirk Thibault wrote:

> I know that the old alias "rvu" causes problems with the Mac OSX  
> implementation of RADIANCE.  After installing RADIANCE 3.7 after  
> installing OSX 10.4 now "rview" invokes ViM and has the same  
> problem.  How do I get rview to call RADIANCE's rview and not the ViM?
>
> Thanks for the patient consideration of my inane Unix question.

Actually, the scene previewer rview was renamed to rvu last year, since 
rview is commonly an alias to ViM on many Linux machines.  If you've 
installed Radiance 3.7, then you should be able to call up the scene 
previewer with "rvu";  rview is no longer used (to call up the scene 
previewer-formerly-called-rview, that is).  =8-)

Sounds like you have a clean install of Tiger and then you compiled the 
latest Radiance source.  Assuming you saw no errors during compiling, 
and you have your PATH and RAYPATH set, then rvu should work for ya.  
(let us know if it doesn't.)

- Rob Guglielmetti
www.rumblestrip.org

From kthibault at biomechanicsinc.com  Tue Sep 13 22:21:59 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Sep 13 22:23:06 2005
Subject: [Radiance-general] OSX and resolving rview conflict
In-Reply-To: <43272EA0.8050202@rumblestrip.org>
References: <DF86EEC8-5A01-4C14-A292-E091FC0B53A3@biomechanicsinc.com>
	<43272EA0.8050202@rumblestrip.org>
Message-ID: <148B2876-DDAC-456F-8B05-E01A99FF58E4@biomechanicsinc.com>

man! - back to rvu - yep, that worked.   Thanks Rob.
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Sep 13, 2005, at 3:55 PM, Rob Guglielmetti wrote:

> Kirk Thibault wrote:
>
>
>> I know that the old alias "rvu" causes problems with the Mac OSX   
>> implementation of RADIANCE.  After installing RADIANCE 3.7 after   
>> installing OSX 10.4 now "rview" invokes ViM and has the same   
>> problem.  How do I get rview to call RADIANCE's rview and not the  
>> ViM?
>>
>> Thanks for the patient consideration of my inane Unix question.
>>
>
> Actually, the scene previewer rview was renamed to rvu last year,  
> since rview is commonly an alias to ViM on many Linux machines.  If  
> you've installed Radiance 3.7, then you should be able to call up  
> the scene previewer with "rvu";  rview is no longer used (to call  
> up the scene previewer-formerly-called-rview, that is).  =8-)
>
> Sounds like you have a clean install of Tiger and then you compiled  
> the latest Radiance source.  Assuming you saw no errors during  
> compiling, and you have your PATH and RAYPATH set, then rvu should  
> work for ya.  (let us know if it doesn't.)
>
> - Rob Guglielmetti
> www.rumblestrip.org
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From niloofar.moghbel at lbp.uni-stuttgart.de  Fri Sep 16 15:49:04 2005
From: niloofar.moghbel at lbp.uni-stuttgart.de (Niloofar Moghbel)
Date: Sat Sep 17 02:43:43 2005
Subject: [Radiance-general] glare index
Message-ID: <001101c5bac5$66b55290$8ef24581@bauphysik7pc>

Dear all

I am going to do a research in Stuttgart university about the effect of daylight in visual comfort at schools,

For that I need a reliable glare prediction index, would you please tell me which one of the existing glare indices which are used in Radiance is better for that reason.

As I know Jan Wienold and his colleges are providing a new glare index which is "daylight glare probability dgp".

Considering that it has been provided for office spaces, and the difference between office visual tasks and classroom visual task (I mean the blackboard), is it possible to use it for evaluating glare in classrooms as well?

Thanks alot

Niloofar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050916/c82a58d3/attachment.html
From kthibault at biomechanicsinc.com  Tue Sep 20 16:25:09 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Sep 20 16:26:22 2005
Subject: [Radiance-general] mksource Manual Page?
Message-ID: <D8E3EA13-F2F7-4C4F-AEC3-06B22C7EBC62@biomechanicsinc.com>

is there a man page entry for mksource?  i am using the already- 
compiled MacOSX binaries for 3.7.

thanks,

kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault





From francesco.anselmo at arup.com  Tue Sep 20 16:58:47 2005
From: francesco.anselmo at arup.com (Francesco Anselmo)
Date: Tue Sep 20 17:00:26 2005
Subject: [Radiance-general] mksource Manual Page?
Message-ID: <2C0020B9EB71CE4281B292F0E16A6DDE099FFC@ldcexc02.global.arup.com>

Hi Kirk,

You can easily get it from the Radiance Online CVS
http://www.radiance-online.org/cgi-bin/viewcvs.cgi/*checkout*/ray/doc/ma
n/man1/mksource.1?rev=HEAD&content-type=text/plain

Or from a Radiance HEAD release ...

Francesco

From kthibault at biomechanicsinc.com  Tue Sep 20 17:22:24 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Sep 20 17:23:33 2005
Subject: [Radiance-general] mksource Manual Page?
In-Reply-To: <2C0020B9EB71CE4281B292F0E16A6DDE099FFC@ldcexc02.global.arup.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE099FFC@ldcexc02.global.arup.com>
Message-ID: <C4776948-F1E8-4994-95B4-07255CF23D25@biomechanicsinc.com>

I should probably learn about the CVS, eh?

Thanks Francesco!

kirk

------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Sep 20, 2005, at 10:58 AM, Francesco Anselmo wrote:

> Hi Kirk,
>
> You can easily get it from the Radiance Online CVS
> http://www.radiance-online.org/cgi-bin/viewcvs.cgi/*checkout*/ray/ 
> doc/ma
> n/man1/mksource.1?rev=HEAD&content-type=text/plain
>
> Or from a Radiance HEAD release ...
>
> Francesco
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From gregoryjward at gmail.com  Tue Sep 20 17:46:10 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Sep 20 17:47:19 2005
Subject: [Radiance-general] mksource Manual Page?
In-Reply-To: <C4776948-F1E8-4994-95B4-07255CF23D25@biomechanicsinc.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE099FFC@ldcexc02.global.arup.com>
	<C4776948-F1E8-4994-95B4-07255CF23D25@biomechanicsinc.com>
Message-ID: <5C769352-1083-47FC-87B6-FD77717501A1@gmail.com>

Hi Kirk,

The mksource manual page is part of the official release, so you  
don't have to get it from HEAD.  Even if you download the binaries,  
you still need to grab the official release to get the current  
versions of all the library files.  I.e., you must run "makeall  
library".  The manual pages sit in ray/doc/man with each release.

I'm not always good about keeping radsite.lbl.gov updated with the  
latest man pages, as it's a bit of a pain to convert everything to HTML.

To access the online CVS system, you don't need to know anything  
about CVS.

-Greg

> From: Kirk Thibault <kthibault@biomechanicsinc.com>
> Date: September 20, 2005 8:22:24 AM PDT
>
> I should probably learn about the CVS, eh?
>
> Thanks Francesco!
>
> kirk
>

From kthibault at biomechanicsinc.com  Tue Sep 20 17:50:40 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Sep 20 17:51:49 2005
Subject: [Radiance-general] mksource Manual Page?
In-Reply-To: <5C769352-1083-47FC-87B6-FD77717501A1@gmail.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE099FFC@ldcexc02.global.arup.com>
	<C4776948-F1E8-4994-95B4-07255CF23D25@biomechanicsinc.com>
	<5C769352-1083-47FC-87B6-FD77717501A1@gmail.com>
Message-ID: <2B1A6C0F-A14A-4B7E-A4F9-D0481B509226@biomechanicsinc.com>

Gotcha.

Thanks again folks.

kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Sep 20, 2005, at 11:46 AM, Greg Ward wrote:

> Hi Kirk,
>
> The mksource manual page is part of the official release, so you  
> don't have to get it from HEAD.  Even if you download the binaries,  
> you still need to grab the official release to get the current  
> versions of all the library files.  I.e., you must run "makeall  
> library".  The manual pages sit in ray/doc/man with each release.
>
> I'm not always good about keeping radsite.lbl.gov updated with the  
> latest man pages, as it's a bit of a pain to convert everything to  
> HTML.
>
> To access the online CVS system, you don't need to know anything  
> about CVS.
>
> -Greg
>
>
>> From: Kirk Thibault <kthibault@biomechanicsinc.com>
>> Date: September 20, 2005 8:22:24 AM PDT
>>
>> I should probably learn about the CVS, eh?
>>
>> Thanks Francesco!
>>
>> kirk
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From kthibault at biomechanicsinc.com  Tue Sep 20 18:15:53 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Sep 20 18:17:01 2005
Subject: [Radiance-general] mksource Manual Page?
In-Reply-To: <5C769352-1083-47FC-87B6-FD77717501A1@gmail.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE099FFC@ldcexc02.global.arup.com>
	<C4776948-F1E8-4994-95B4-07255CF23D25@biomechanicsinc.com>
	<5C769352-1083-47FC-87B6-FD77717501A1@gmail.com>
Message-ID: <B79AEFBA-DD64-4B79-BF70-EFC44BF4BC6F@biomechanicsinc.com>

Did it - set the MANPATH, everything is cool.

It's my ignorance, believe me.
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Sep 20, 2005, at 11:46 AM, Greg Ward wrote:

> Hi Kirk,
>
> The mksource manual page is part of the official release, so you  
> don't have to get it from HEAD.  Even if you download the binaries,  
> you still need to grab the official release to get the current  
> versions of all the library files.  I.e., you must run "makeall  
> library".  The manual pages sit in ray/doc/man with each release.
>
> I'm not always good about keeping radsite.lbl.gov updated with the  
> latest man pages, as it's a bit of a pain to convert everything to  
> HTML.
>
> To access the online CVS system, you don't need to know anything  
> about CVS.
>
> -Greg
>
>

From MMoeck at engr.psu.edu  Tue Sep 20 20:19:06 2005
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Tue Sep 20 20:23:09 2005
Subject: [Radiance-general] mksource
Message-ID: <84F05BA9118BBD4A8FC6409808CE266C23468F@ENGRMAIL2.engr.psu.edu>

Hi,
 
My scene description is a Perez sky with sun and diffuse sky.
 
oconv perez.sky > octree; mksource octree > radfile
 
The radfile is empty - what am I missing?
 
Thanks
 
Martin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3293 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20050920/f2ffe8dd/attachment.bin
From gregoryjward at gmail.com  Tue Sep 20 20:34:23 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Sep 20 20:35:27 2005
Subject: [Radiance-general] mksource
In-Reply-To: <84F05BA9118BBD4A8FC6409808CE266C23468F@ENGRMAIL2.engr.psu.edu>
References: <84F05BA9118BBD4A8FC6409808CE266C23468F@ENGRMAIL2.engr.psu.edu>
Message-ID: <A2F6EBAC-80DD-44CC-9615-BD1D4A26F57E@gmail.com>

Mksource only replaces bright glow contributions, not broad area  
sources like the sky.  It would have replaced the sun in your model,  
but it's already a source, so it isn't necessary.  The output of  
mksource is designed as an adjunct to a distant glow source  
description, not a replacement.

-Greg

> From: "Martin Moeck" <MMoeck@engr.psu.edu>
> Date: September 20, 2005 11:19:06 AM PDT
>
> Hi,
>
> My scene description is a Perez sky with sun and diffuse sky.
>
> oconv perez.sky > octree; mksource octree > radfile
>
> The radfile is empty - what am I missing?
>
> Thanks
>
> Martin
>

From gregoryjward at gmail.com  Wed Sep 21 06:47:43 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Sep 21 06:48:54 2005
Subject: [Radiance-general] rtcontrib bug
Message-ID: <F09FD07A-7146-4E96-AB0E-B00082508E7F@gmail.com>

Hi All,

This morning, I found a bug in rtcontrib that causes it to sometimes  
fail writing out the last file when using the -b option, and can even  
result in a crash on some systems.  The new version should be in  
tonight's HEAD dump, or you can grab it directly from CVS:

     http://www.radiance-online.org/cgi-bin/viewcvs.cgi/*checkout*/ 
ray/src/util/rtcontrib.c?rev=HEAD&content-type=text/x-csrc

It doesn't depend on any other changes in HEAD, so you can drop it  
into src/util and run "rmake install" there if you've run "makeall  
install" previously.

This may be the cause of Francesco's mysterious problem using -f and - 
o together on the PC.  I'm not sure about that, though.

-Greg

From gregoryjward at gmail.com  Wed Sep 21 19:39:24 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Sep 21 19:40:38 2005
Subject: [Radiance-general] rtcontrib & Linux
Message-ID: <C8496607-70D9-44F6-9CAE-B515B4D0A52C@gmail.com>

With the help of Marija Cvetkovic, I found another problem with  
rtcontrib, specific to Linux this time.  Apparently, the Linux  
implementation of the fseeko(3) library call is broken.  This means  
that the recovery (-r) option in rtcontrib will not work with files  
larger than 2 GB under Linux.  It also means that we need to compile  
rtcontrib with -Dfseeko=fseek for the time being, until they get this  
fixed.  (I wouldn't hold my breath, given how long it's taken them to  
fix other problems in little-used functions.)

I have added -Dfseeko=fseek to the Linux rmake in makeall in CVS, and  
I recommend that anyone wishing to use rtcontrib under Linux modify  
their rmake script manually by adding this define to the MACH="" line  
there.  Then, using the latest rtcontrib.c, you can run "rmake  
install" in your src/util directory and all should be well.

Sorry for the inconvenience.  I didn't think either of these problems  
was worth a patch release, but I also want rtcontrib to work for  
those brave souls who are trying it.

-Greg

From kthibault at biomechanicsinc.com  Wed Sep 21 19:55:23 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Wed Sep 21 19:56:31 2005
Subject: [Radiance-general] Mac OSX, xgrid and RADIANCE
Message-ID: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>

Has anyone using Mac OSX with RADIANCE tried rigging the OSX built-in  
xgrid app to distribute rendering and general crunching over a  
cluster of Macs?

http://www.apple.com/server/macosx/features/xgrid.html

Apple makes it seem so simple to gather yourself up a little  
supercomputer.

kirk


------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault





From rpg at rumblestrip.org  Thu Sep 22 00:48:38 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Sep 22 00:49:47 2005
Subject: [Radiance-general] Mac OSX, xgrid and RADIANCE
In-Reply-To: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>
References: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>
Message-ID: <4331E346.9030403@rumblestrip.org>

Kirk Thibault wrote:

> Has anyone using Mac OSX with RADIANCE tried rigging the OSX built-in  
> xgrid app to distribute rendering and general crunching over a  
> cluster of Macs?
>
> http://www.apple.com/server/macosx/features/xgrid.html
>
> Apple makes it seem so simple to gather yourself up a little  
> supercomputer.

Yeah, just like the way they make their Windows support for XServe look 
simple.  The reality is a whole lot different!  In fairness, they do 
provide a bunch of excellent command-line tools for managing the samba 
support in OSX Server, it's just that they make it look like you never 
need anything but the GUI, which is pure fantasy.  But this is a 
Radiance list so I'll stop talking about Windows and XServes...

Kirk, I hadn't seen this xGrid before; this is something they added with 
10.4 (I'm still on 10.3 and an OLD Powerbook) and it looks interesting!  
However, there is a long history of file locking issues with Radiance 
and multiple machines.  The archives probably contain two or three 
threads about this topic with respect to Linux.  I'd be really 
interested to hear what Greg thinks of this new Apple tool, and its 
possibilities, though. 

Rob Guglielmetti

From gregoryjward at gmail.com  Thu Sep 22 01:49:26 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Sep 22 01:50:36 2005
Subject: [Radiance-general] Mac OSX, xgrid and RADIANCE
In-Reply-To: <4331E346.9030403@rumblestrip.org>
References: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>
	<4331E346.9030403@rumblestrip.org>
Message-ID: <A01FA3BE-21C9-414D-9761-0727F7A421B2@gmail.com>

Well, I really have nothing to say about xGrid as I've never tried  
it, so let me just say it.

I think it would be nice sometimes to have something that's  
monitoring system use so it would send my jobs to the right machines  
on LBNL's render farm.  Usually, I just put the jobs there manually  
with ssh -f and coordinate with other users, but it's a bit haphazard  
and things don't usually finish together.  That said, I'm not sure  
how it works or if  it kills and restarts jobs or just stops them or  
expects small ones or what.  Many Radiance jobs of course take hours  
(or even days).

Historically, there haven't been any problems with NFS or the lock  
manager under OS X (or any BSD-derivative).  It's only Linux that's  
been finicky on that count.  Arguably, we should really replace the  
NFS lock manager with something more reliable, and we've gone back  
and forth on how to do that, but I keep hoping the problem will go  
away.  Are people still struggling with it under Linux, or is it just  
the Windows version we have to start thinking about?  Last time I  
spoke with Jack (of Visarc), I think he said it was still a problem.

-Greg

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: September 21, 2005 3:48:38 PM PDT
>
> Kirk Thibault wrote:
>
>> Has anyone using Mac OSX with RADIANCE tried rigging the OSX built- 
>> in  xgrid app to distribute rendering and general crunching over  
>> a  cluster of Macs?
>>
>> http://www.apple.com/server/macosx/features/xgrid.html
>>
>> Apple makes it seem so simple to gather yourself up a little   
>> supercomputer.
>>
>
> Yeah, just like the way they make their Windows support for XServe  
> look simple.  The reality is a whole lot different!  In fairness,  
> they do provide a bunch of excellent command-line tools for  
> managing the samba support in OSX Server, it's just that they make  
> it look like you never need anything but the GUI, which is pure  
> fantasy.  But this is a Radiance list so I'll stop talking about  
> Windows and XServes...
>
> Kirk, I hadn't seen this xGrid before; this is something they added  
> with 10.4 (I'm still on 10.3 and an OLD Powerbook) and it looks  
> interesting!  However, there is a long history of file locking  
> issues with Radiance and multiple machines.  The archives probably  
> contain two or three threads about this topic with respect to  
> Linux.  I'd be really interested to hear what Greg thinks of this  
> new Apple tool, and its possibilities, though.
> Rob Guglielmetti
>

From randolph at panix.com  Thu Sep 22 02:52:07 2005
From: randolph at panix.com (Randolph Fritz)
Date: Thu Sep 22 02:53:19 2005
Subject: [Radiance-general] Mac OSX, xgrid and RADIANCE
In-Reply-To: <A01FA3BE-21C9-414D-9761-0727F7A421B2@gmail.com>
References: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>
	<4331E346.9030403@rumblestrip.org>
	<A01FA3BE-21C9-414D-9761-0727F7A421B2@gmail.com>
Message-ID: <02707022-15CC-48D9-AFEB-C4A448AEC556@panix.com>


On Sep 21, 2005, at 4:49 PM, Greg Ward wrote:
>
> Historically, there haven't been any problems with NFS or the lock  
> manager under OS X (or any BSD-derivative).  It's only Linux that's  
> been finicky on that count.  Arguably, we should really replace the  
> NFS lock manager with something more reliable, and we've gone back  
> and forth on how to do that, but I keep hoping the problem will go  
> away.  Are people still struggling with it under Linux, or is it  
> just the Windows version we have to start thinking about?  Last  
> time I spoke with Jack (of Visarc), I think he said it was still a  
> problem.

SunOS, which is also a BSD derivative, used to have major problems  
with NFS locking, too--my guess is they are still there.  NFS file  
locking is not a priority to any vendor or fropen development group I  
am aware of, so its operability is catch as catch can.

I don't have any time to work on this (sigh), but it really is an  
issue that needs attention.

Randolph


From nickd at xco2.com  Thu Sep 22 10:00:56 2005
From: nickd at xco2.com (nick devlin)
Date: Thu Sep 22 10:02:01 2005
Subject: [Radiance-general] Compute direct component from sky only
Message-ID: <op.sxhu7us2bxkgpz@domingo.xco2_group>

Dear All,

I am trying to calculate the direct light from the sky for a reference  
grid within a number of rooms. I am sure there is a sophisticated manner  
in which to achieve this, but I have cobbled together an approach in the  
following way:

delete the ground source glow from the sky.rad description
use rtrace to calculate the values for the points, but set -av 0 0 0 and  
use a single material for all surfaces (except apertures!) which is  
excluded from the ambient calculation using -ae.

There are some points within the rooms, which I am pretty certain do not  
have a direct view of the skydome, and therefore should return a zero  
value, but they do not.

Any thoughts?

regards

Nick


-- 
Nick Devlin
XCO2
1-5 Offord Street
London N1 1DH

Tel: 020 7700 1000
Fax: 020 7700 4455

Engineering Sustainability

From tbleicher at arcor.de  Thu Sep 22 11:36:00 2005
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Sep 22 11:37:05 2005
Subject: [Radiance-general] Mac OSX, xgrid and RADIANCE
In-Reply-To: <4331E346.9030403@rumblestrip.org>
References: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>
	<4331E346.9030403@rumblestrip.org>
Message-ID: <E3519AFA-D8E7-44E2-B295-1812A919A82A@arcor.de>


On 22.09.2005, at 00:48, Rob Guglielmetti wrote:

> Kirk Thibault wrote:
>
>
>> Has anyone using Mac OSX with RADIANCE tried rigging the OSX built- 
>> in  xgrid app to distribute rendering and general crunching over  
>> a  cluster of Macs?
>>
>> http://www.apple.com/server/macosx/features/xgrid.html

[...]

> Kirk, I hadn't seen this xGrid before; this is something they added  
> with 10.4 (I'm still on 10.3 and an OLD Powerbook) and it looks  
> interesting!

You can download xGrid for 10.3 as well (accordign to the PDF  
available on
the page above - nice and short intro).

> However, there is a long history of file locking issues with  
> Radiance and multiple machines.

Reading the man-page for xgrid I think file locking of the amb-file  
would
be the only problem as the controller process _copyies_ the whole  
working
directory to the clients.

Everything else could be as simple as this example (from the man-page):

 > Submit myscript with the files in the input directory.  Send email to
 > somebody@apple.com on every job state change. Then retrieve the  
results
 > and save the stdout and stderr streams in files instead of  
printing them
 > out to the terminal and save the output files in the specified  
directory.
 > Finally delete the job:
 >
 >     $ xgrid -job submit -in ~/data/working -email somebody@apple.com
 >     myscript param1 param2
 >     { jobIdentifier = 27; }
 >     $ xgrid -job results -id 27 -so job.out -se job.err -out job- 
outdir
 >     $ xgrid -job delete -id 27

Seems like no changes to the code are necessary. It would be nice
if someone with a flock of Macs at his/her disposition could test
this sometimes ...


As a related note on OS X 10.4:

I'm trying to get a bit of performance from my G5 iMac. Compiling the
Radiance source is a matter of minutes. But when I try Mark's benchmarks
(http://mark.technolope.org/pages/rad_bench.html) the rpict time is  
worse
than his results for an 1.6 GHz P4-M.

I thought a 2 GHz PowerPC would perform much better than that. I have
only tested a few compiler optimizations so far but I don't think they
will change that much any more. Apple ships gcc 4.0 as default compiler
for 10.4. Could this be the reason?

What performance should I expect from the G5?


Thomas


From tbleicher at arcor.de  Thu Sep 22 11:36:57 2005
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Sep 22 11:38:00 2005
Subject: [Radiance-general] Compute direct component from sky only
In-Reply-To: <op.sxhu7us2bxkgpz@domingo.xco2_group>
References: <op.sxhu7us2bxkgpz@domingo.xco2_group>
Message-ID: <8089AB3B-D9E9-4498-9B68-14F0188A1BB7@arcor.de>


On 22.09.2005, at 10:00, nick devlin wrote:


> Dear All,
>
> I am trying to calculate the direct light from the sky for a  
> reference grid within a number of rooms. I am sure there is a  
> sophisticated manner in which to achieve this, but I have cobbled  
> together an approach in the following way:
>
> delete the ground source glow from the sky.rad description
> use rtrace to calculate the values for the points, but set -av 0 0  
> 0 and use a single material for all surfaces (except apertures!)  
> which is excluded from the ambient calculation using -ae.
>

You have to set "-ab 0" as well or ...


> There are some points within the rooms, which I am pretty certain  
> do not have a direct view of the skydome, and therefore should  
> return a zero value, but they do not.
>

... you get indirect contributions from the sky.

If I do understand the discussions on the list correctly you have to  
take into
account _only_ direct components for ie. "Right of Light" and other  
legal stuff.
In reality the indirect components do count as well.


Thomas


From schorsch at schorsch.com  Thu Sep 22 11:51:30 2005
From: schorsch at schorsch.com (Georg Mischler)
Date: Thu Sep 22 11:52:38 2005
Subject: [Radiance-general] Mac OSX, xgrid and RADIANCE
In-Reply-To: <A01FA3BE-21C9-414D-9761-0727F7A421B2@gmail.com>
References: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>
	<4331E346.9030403@rumblestrip.org>
	<A01FA3BE-21C9-414D-9761-0727F7A421B2@gmail.com>
Message-ID: <Pine.BSF.4.58.0509212017500.97764@emancholl.pair.com>

Greg Ward wrote:
>
> Historically, there haven't been any problems with NFS or the lock
> manager under OS X (or any BSD-derivative).  It's only Linux that's
> been finicky on that count.  Arguably, we should really replace the
> NFS lock manager with something more reliable, and we've gone back
> and forth on how to do that, but I keep hoping the problem will go
> away.

It won't go away.

Theoretically (but not very realistically), file locking within
one system family (eg. unixoids) might eventually become based on
a reliable standard that is implemented correctly everywhere.
But all bets are off once we mix system families. At the moment
the relevant candidates are unix and Windows systems.

In this situation, I think the final conclusion must be that only
lockfiles will give us reliable and portable protection.
And since Windows systems *will* become our most popular front-end
as soon as we support them, such a lock file solution is a
necessary part of porting Radiance.


-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/

From nickd at xco2.com  Thu Sep 22 13:19:09 2005
From: nickd at xco2.com (nick devlin)
Date: Thu Sep 22 13:20:27 2005
Subject: [Radiance-general] Compute direct component from sky only
In-Reply-To: <E1EINs7-0001lF-Cb@ptb-mxcore02.plus.net>
References: <E1EINs7-0001lF-Cb@ptb-mxcore02.plus.net>
Message-ID: <op.sxh4d7wqbxkgpz@domingo.xco2_group>

Thomas,

thanks for that. I had tried it in the past but rtrace returns values of  
zero!!

I was confused about this, until I remember that for a uniform, or  
overcast sky (the types I am testing), the sky is a glow source, which I  
believe is not tested in the direct calculation.
which means I am back to the drawing board.

I thought about subtracting the ambient values from the total illuminance  
values, but this is no help either as sky glow falls in the ambient file.

Any thoughts?

regards

nick


Message: 8
Date: Thu, 22 Sep 2005 11:36:57 +0200
From: Thomas Bleicher <tbleicher@arcor.de>
Subject: Re: [Radiance-general] Compute direct component from sky only
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <8089AB3B-D9E9-4498-9B68-14F0188A1BB7@arcor.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed


On 22.09.2005, at 10:00, nick devlin wrote:


> Dear All,
>  I am trying to calculate the direct light from the sky for a reference  
> grid within a number of rooms. I am sure there is a sophisticated manner  
> in which to achieve this, but I have cobbled together an approach in the  
> following way:
>  delete the ground source glow from the sky.rad description
> use rtrace to calculate the values for the points, but set -av 0 0 0 and  
> use a single material for all surfaces (except apertures!) which is  
> excluded from the ambient calculation using -ae.
>

You have to set "-ab 0" as well or ...


> There are some points within the rooms, which I am pretty certain do not  
> have a direct view of the skydome, and therefore should return a zero  
> value, but they do not.
>

... you get indirect contributions from the sky.

If I do understand the discussions on the list correctly you have to
take into
account _only_ direct components for ie. "Right of Light" and other
legal stuff.
In reality the indirect components do count as well.


Thomas

From tbleicher at arcor.de  Thu Sep 22 13:57:47 2005
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Sep 22 13:58:55 2005
Subject: [Radiance-general] Compute direct component from sky only
In-Reply-To: <op.sxh4d7wqbxkgpz@domingo.xco2_group>
References: <E1EINs7-0001lF-Cb@ptb-mxcore02.plus.net>
	<op.sxh4d7wqbxkgpz@domingo.xco2_group>
Message-ID: <F34ADFF3-F2C8-406A-89FE-600D4EA51FE1@arcor.de>


On 22.09.2005, at 13:19, nick devlin wrote:

> Thomas,
>
> thanks for that. I had tried it in the past but rtrace returns
> values of zero!!
>
> I was confused about this, until I remember that for a uniform, or  
> overcast sky (the types I am testing), the sky is a glow source,  
> which I believe is not tested in the direct calculation.
> which means I am back to the drawing board.

You could probably replace your windows with illums
using mkillum and a higher -ab value. For your final
rtrace calculations you can use -ab 0 again and only
get the "direct" contribution of the window illum.

I have to admit that I don't know what causes your
problems and therefore this approche may fail as well.


Thomas


From gregoryjward at gmail.com  Thu Sep 22 19:51:20 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Sep 22 19:52:32 2005
Subject: [Radiance-general] Mac OSX, xgrid and RADIANCE
In-Reply-To: <Pine.BSF.4.58.0509212017500.97764@emancholl.pair.com>
References: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>
	<4331E346.9030403@rumblestrip.org>
	<A01FA3BE-21C9-414D-9761-0727F7A421B2@gmail.com>
	<Pine.BSF.4.58.0509212017500.97764@emancholl.pair.com>
Message-ID: <01B72AD1-EC24-468D-A426-F58435D8D078@gmail.com>

> From: Georg Mischler <schorsch@schorsch.com>
> Date: September 22, 2005 2:51:30 AM PDT
>
> In this situation, I think the final conclusion must be that only
> lockfiles will give us reliable and portable protection.
> And since Windows systems *will* become our most popular front-end
> as soon as we support them, such a lock file solution is a
> necessary part of porting Radiance.

Well, I guess I'm overly optimistic.  I keep hoping Windows will go  
away, too...

The problem with implementing our own lock manager using lock files  
is the overhead involved in setting the lock.  I'm currently  
obtaining a lock every time I write out to the ambient file, and I'm  
worried that the time it takes to do our own locking if multiple  
cross-network file creations and checks are involved will totally  
kill the performance.  If that's the case, we would be better off not  
sharing the ambient file at all, which is the current workaround.

The more sophisticated solution is to somehow measure the performance  
of our lock manager as we use it, and optimize our ambient value  
buffer size accordingly.  This requires a lot more work on the  
programming side, and I figure it would take about a week plus an  
other week of testing to come up with something workable.  As usual,  
there are no funds for this, so it sits on the back burner (which is  
switched off) and grows mold.

-Greg

From gregoryjward at gmail.com  Fri Sep 23 04:12:58 2005
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Sep 23 04:13:58 2005
Subject: [Radiance-general] Mac OSX, xgrid and RADIANCE
In-Reply-To: <E3519AFA-D8E7-44E2-B295-1812A919A82A@arcor.de>
References: <5D32DAB1-3A3A-4F7F-8628-ACACE19865AB@biomechanicsinc.com>
	<4331E346.9030403@rumblestrip.org>
	<E3519AFA-D8E7-44E2-B295-1812A919A82A@arcor.de>
Message-ID: <96B34DB0-7D3C-4351-A4DE-49A821A0B007@gmail.com>

Hi Thomas,

I hadn't realized that Mark Stock had finalized his new benchmark.   
It's really nice.

I gave it a try today, and also found my G5 running 10.4 to come up  
short in the tests.  I have a 1.8 GHz G5 PowerMac, which performed  
just slightly bettern than a 1.6 GHz P4-M running Linux and compiled  
with gcc 3.3.2 -O3.  (My copy was compiled with gcc 4.0.0 -O2.)   
What's even more surprising is that 1.5 GHz G4 laptop is about 13%  
faster than my G5, when by the clock it should be at least 17%  
slower!  I suspect there's something really wrong with gcc 4.0 on the  
G5, and since it's just come out, it hasn't been fixed.  Compiling  
with -ffast is not usually a good idea, as that's always broken  
things in the past, but you could try it just to see what happens.   
(I wouldn't trust it on any paying jobs, though.)  I might try -ffast- 
math tomorrow if I get time.

-Greg

> As a related note on OS X 10.4:
>
> I'm trying to get a bit of performance from my G5 iMac. Compiling the
> Radiance source is a matter of minutes. But when I try Mark's  
> benchmarks
> (http://mark.technolope.org/pages/rad_bench.html) the rpict time is  
> worse
> than his results for an 1.6 GHz P4-M.
>
> I thought a 2 GHz PowerPC would perform much better than that. I have
> only tested a few compiler optimizations so far but I don't think they
> will change that much any more. Apple ships gcc 4.0 as default  
> compiler
> for 10.4. Could this be the reason?
>
> What performance should I expect from the G5?
>
>
> Thomas
>

From nickd at xco2.com  Fri Sep 23 12:29:53 2005
From: nickd at xco2.com (nick devlin)
Date: Fri Sep 23 12:30:58 2005
Subject: [Radiance-general] Sky component only 
In-Reply-To: <E1EIkLL-0004WY-VC@ptb-mxcore13.plus.net>
References: <E1EIkLL-0004WY-VC@ptb-mxcore13.plus.net>
Message-ID: <op.sxjwr3smbxkgpz@domingo.xco2_group>

Thomas,

I used mkillum yesterday and bingo!!! got some better results, that I am  
trying to validate.
One question though, I just need to be certain that there is no ambient  
light in my results.

so to check, I am using the following for mkillum and then rtrace:

mkillum -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr 3 -sj 1  
-st .01 -ab 0 -aa .1 -ad 512 -as 256 -av 0 0 0 -lr 12 -lw .0005 -af  
scene2.amb scene2.oct < window.rad > mkwin2.rad

rtrace -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr 3 -sj 1  
-st .01 -ae Zero_Ref -ab 0 -aa .1 -ad 512 -as 256 -av 0 0 0 -lr 12 -lw  
.0005 -af scene2.amb mkscene2.oct < mk1.pts > existing3.dat

I assume that by setting -ab 0 and -av 0 0 0 there should be no ambient  
calculation, and indeed, lookamb just returns the values from rtrace,  
rather than a data file for value, position etc.. I believe this is a good  
thing.

Your thoughts would be greatly apprecicated however.

many thanks

nick


On 22.09.2005, at 13:19, nick devlin wrote:

> Thomas,
>  thanks for that. I had tried it in the past but rtrace returns
> values of zero!!
>  I was confused about this, until I remember that for a uniform, or  
> overcast sky (the types I am testing), the sky is a glow source, which I  
> believe is not tested in the direct calculation.
> which means I am back to the drawing board.

You could probably replace your windows with illums
using mkillum and a higher -ab value. For your final
rtrace calculations you can use -ab 0 again and only
get the "direct" contribution of the window illum.

I have to admit that I don't know what causes your
problems and therefore this approche may fail as well.


Thomas

From tbleicher at arcor.de  Fri Sep 23 13:55:56 2005
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Fri Sep 23 13:57:08 2005
Subject: [Radiance-general] Sky component only 
In-Reply-To: <op.sxjwr3smbxkgpz@domingo.xco2_group>
References: <E1EIkLL-0004WY-VC@ptb-mxcore13.plus.net>
	<op.sxjwr3smbxkgpz@domingo.xco2_group>
Message-ID: <AA03894B-4A50-431C-AA44-F42C31D8107F@arcor.de>


On 23.09.2005, at 12:29, nick devlin wrote:

> Thomas,
>
> I used mkillum yesterday and bingo!!! got some better results, that  
> I am trying to validate.
> One question though, I just need to be certain that there is no  
> ambient light in my results.
>
> so to check, I am using the following for mkillum and then rtrace:
>
> mkillum -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr  
> 3 -sj 1 -st .01 -ab 0 -aa .1 -ad 512 -as 256 -av 0 0 0 -lr 12 -lw . 
> 0005 -af scene2.amb scene2.oct < window.rad > mkwin2.rad

First I thought you should use ab > 0 for mkillum but this would add
the indirect contribution of nearby buildings, which is probably
not what you want.

I'd reduce the value of -dp (you don't have any virtual sources if
you're only interested in the sky) and increase the value of -ad
to get a very good sampling of the hemisphere (4096 or even more).

What's -ms for? Are you calculating paticipating media?

> rtrace -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr 3  
> -sj 1 -st .01 -ae Zero_Ref -ab 0 -aa .1 -ad 512 -as 256 -av 0 0 0 - 
> lr 12 -lw .0005 -af scene2.amb mkscene2.oct < mk1.pts > existing3.dat

I wouldn't use the same ambient file for the mkillum and
the rtrace process. One (mkillum) contains the outside,
the other only the inside of your room geometry.

I don't think any of -sj, -st, -lr, -lw have much influence
on the calculation given your sky-only-setup.

I hope someone with more experience with mkillum and
rtrace can give you better hints. I'm just speculating
here.


Thomas

From iain at esru.strath.ac.uk  Fri Sep 23 15:25:22 2005
From: iain at esru.strath.ac.uk (Iain Macdonald)
Date: Fri Sep 23 15:35:53 2005
Subject: [Radiance-general] rtcontrib & daylight coefficients
Message-ID: <43340242.5090500@esru.strath.ac.uk>

Hi all,

I'm trying to get my head around calculating daylight coefficients with 
rtcontrib and then how to use them!

My observations/questions so far:

1) the tregenza cal files (one is mentioned in the man page) were not 
automatically installed for me using the latest release on linux 
(rad3R7P2all.tar.gz).

2) Using the example in the man page I calculated a set of daylight 
coefficients:
rtcontrib -I+ -b tbin -o sky.dat -m sky_glow -b 0 -o ground.dat -m 
ground_glow -ad 10000 -as 5000 -ab 1 -f tregenza.cal test.oct < test.dat
This results in two files sky.dat and ground.dat
In ground.dat there is one set of coefficients
In sky.dat there are 146 sets
I expected 145 in the sky file.  My belief is that the first set is for 
solar elevations < 0deg and can be ignored (and will always be equal to 
zero?) - am I correct?

3) Some strange behaviour has been observed with different sets of input 
points.  I'm assuming that as with rtrace the input points are given as 
6 numbers representing x,y,z of the sample point and i,j,k representing 
the normal.  Given this if the first point has a normal pointing to the 
zenith (say 1 1 6 0 0 1) then I get 146 sets for all points.  If the 
normal faces another direction I'm getting different problems:
 137 sets (1 1 6 0 -1 0)
 139 sets (1 1 6 1 0 0)
 rtcontrib crashes (1 1 6 0 1 0) - rtcontrib: Bad expression! rtrace: 
signal - Broken pipe.
and strangely enough if these points & normals are given after one that 
works all is OK.  Something odd is going on - can anyone shed some light 
on this for me please?

regards,

Iain

-- 
****************************
Dr Iain A Macdonald
Energy Systems Research Unit
University of Strathclyde
Glasgow, UK
+44 141 548 3747
http://www.esru.strath.ac.uk
****************************




From jm at dmu.ac.uk  Fri Sep 23 17:20:26 2005
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri Sep 23 17:22:00 2005
Subject: [Radiance-general] Compute direct component from sky only
Message-ID: <68452258-8BF6-4BD7-8011-605369640447@dmu.ac.uk>

Nick,

The direct sky component should be a snip.  I guess your points are  
in a horizontal plane, so the spawned rays will not see the ground  
glow and you can leave it in the description.  Set the following:

-ab 1    You need the first level of hemispherical sampling so that  
rays are sent to the 'glow' sky.
-aa 0    This switches off interpolation and is likely to give you  
more precise results (generally not advised when ab > 1).
-ad 1024 then 2048, if there's a significant difference, proceed to  
4096 and so on...
-as 256 or thereabouts.
-av 0 0 0
-ar - doesn't matter because aa is 0
No need to bother with the ae or aE parameters for the direct sky  
component.

And, of course, you have rtrace set to predict irradiation.

I would (strongly) advise against using mkillum to predict the direct  
sky component.  You can get arbitrarily high accuracy in your  
predictions with -aa 0 and cranking up -ad until the results have  
converged to whatever degree you think is sufficient.

Shameless plug for CIBSE Daylight Group session of possible interest:

Wednesday 12th. October 2005
Rights to Light:  A short-paper/discussion session to be lead by John  
Mardaljevic (DMU) and Paul Littlefair (BRE) with contributions from  
Andrew Thompson (Wilks Head & Eve), Delva Patman and Alistair Redler  
(Delva Patman), Alex Schaunowski and Ian Absolon (Schatunowski  
Brooks), Kaivin Wong (Malcolm Hollis) and Lance Harris (Anstey Horne).

14.00 for 14.30 at University College London, Torrington Place, London.

(With a line-up of that size, there is good chance that the speakers  
will outnumber the audience.)

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From gregoryjward at gmail.com  Fri Sep 23 19:34:45 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Sep 23 19:35:54 2005
Subject: [Radiance-general] rtcontrib & daylight coefficients
In-Reply-To: <43340242.5090500@esru.strath.ac.uk>
References: <43340242.5090500@esru.strath.ac.uk>
Message-ID: <69FC71D6-0F7E-4197-AC8C-EB1F4E93133F@gmail.com>

Hi Iain,

Thanks for giving rtcontrib a try.  Here are some hints for you:

> From: Iain Macdonald <iain@esru.strath.ac.uk>
> Date: September 23, 2005 6:25:22 AM PDT
>
> Hi all,
>
> I'm trying to get my head around calculating daylight coefficients  
> with rtcontrib and then how to use them!
>
> My observations/questions so far:
>
> 1) the tregenza cal files (one is mentioned in the man page) were  
> not automatically installed for me using the latest release on  
> linux (rad3R7P2all.tar.gz).

Yes, I felt some more testing and work was needed on Tregenza.cal and  
its associated support.   It works, but it's a bit painful to use  
right now and I'd like to create some scripts to make it more  
straightforward, particularly the combining of images at the end.  I  
have done some experiments to good effect on this already, and when I  
create a script it will install Tregenza.cal appropriately.

> 2) Using the example in the man page I calculated a set of daylight  
> coefficients:
> rtcontrib -I+ -b tbin -o sky.dat -m sky_glow -b 0 -o ground.dat -m  
> ground_glow -ad 10000 -as 5000 -ab 1 -f tregenza.cal test.oct <  
> test.dat
> This results in two files sky.dat and ground.dat
> In ground.dat there is one set of coefficients
> In sky.dat there are 146 sets
> I expected 145 in the sky file.  My belief is that the first set is  
> for solar elevations < 0deg and can be ignored (and will always be  
> equal to zero?) - am I correct?

Rtcontrib always writes out the earlier bin values starting from 0,  
even if they are all zeroes.  If your sky material covers only the  
upper hemisphere, then yes, your first bin should all be zeroes  
indicating no contribution.  I sometimes employ a script that checks  
for all zero values and removes such files after rtcontrib has finished.

> 3) Some strange behaviour has been observed with different sets of  
> input points.  I'm assuming that as with rtrace the input points  
> are given as 6 numbers representing x,y,z of the sample point and  
> i,j,k representing the normal.  Given this if the first point has a  
> normal pointing to the zenith (say 1 1 6 0 0 1) then I get 146 sets  
> for all points.  If the normal faces another direction I'm getting  
> different problems:
> 137 sets (1 1 6 0 -1 0)
> 139 sets (1 1 6 1 0 0)
> rtcontrib crashes (1 1 6 0 1 0) - rtcontrib: Bad expression!  
> rtrace: signal - Broken pipe.
> and strangely enough if these points & normals are given after one  
> that works all is OK.  Something odd is going on - can anyone shed  
> some light on this for me please?

The different sets are due to the fact that rtcontrib outputs from  
bin 0 to the number of bins actually read from rtrace, and this will  
depend on the sampling pattern.  If you're only sampling the sky and  
ground directly (no geometry to bounce light around), then you may  
only see some of the bins.  However, I don't know why you would get a  
"bad expression" error.  Let me give it a go here.  (Hold on...)

Well, unfortunately for you, it works for me!  This could be a side- 
effect of the bug I discovered earlier this week where rtcontrib  
wasn't writing (or allocating) the last bin, and could be writing  
over unallocated memory.  This has unpredictable consequences, and  
will depend on your compiler, your machine, what else is running, the  
weather, etc.  Make sure you're using version 1.27 or later of  
rtcontrib.c, which you can get from CVS if you don't have it.  (See  
my posting earlier this week.)

Let me know if your problems persist.
-Greg

---------------------
Ice Cream Koan:  If a ice cream drops on the sidewalk, and there is  
no one there to cry, does it melt?

From ap.huangwx at archi.kyoto-u.ac.jp  Mon Sep 26 04:23:01 2005
From: ap.huangwx at archi.kyoto-u.ac.jp (Huangwx@kyotoUniv.)
Date: Mon Sep 26 04:24:16 2005
Subject: [Radiance-general] About lamp color
Message-ID: <001101c5c241$3b1f58a0$1f7af90a@hwx>

Dear all:

I want to simulate different appearences of an interior space in which the color of the fluorescent ceiling lamp varies (white or warm color). There is another light source in the room, which is a stand lamp with an incandescent bulb.

In the book Rendering with Radiance, it is mentioned that the eyes of human will adapt to the lampcolor, so it is safe to use white lamp in simulation. But actually people do feel different in space with different lamp color. So is it possible for people to evaluate the interior space with different lamp color via rendered images? If so, what are the lamp colors I should use? and what are the parameters should I use in pfilt? (I do find that the rendered image with a warm ceiling lamp is not so good.) If anyone has some experience in such problem, please give me some advices. Thanks a lot.

yours,
Huang
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050926/ba5571d5/attachment.html
From tbleicher at arcor.de  Mon Sep 26 18:27:47 2005
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Sep 26 18:29:02 2005
Subject: [Radiance-general] About lamp color
In-Reply-To: <001101c5c241$3b1f58a0$1f7af90a@hwx>
References: <001101c5c241$3b1f58a0$1f7af90a@hwx>
Message-ID: <4B87BFB5-B76D-47E6-A8C3-2691F133419B@arcor.de>


On 26.09.2005, at 04:23, Huangwx@kyotoUniv. wrote:

> Dear all:
>
> I want to simulate different appearences of an interior space in  
> which the color of the fluorescent ceiling lamp varies (white or  
> warm color). There is another light source in the room, which is a  
> stand lamp with an incandescent bulb.
>
> In the book Rendering with Radiance, it is mentioned that the eyes  
> of human will adapt to the lampcolor, so it is safe to use white  
> lamp in simulation.

This is only true if you have only _one_ type of lamp. You should chose
the right type for each lamp if you plan to mix them in one environment.

> But actually people do feel different in space with different lamp  
> color. So is it possible for people to evaluate the interior space  
> with different lamp color via rendered images?

People will _feel_ different in different lighting situations. But this
is AFAIK only a small factor if you try to calculate ie. illuminance at
workplaces in an office. I think it is very difficult (if not  
impossible)
to decide about the effects of a chosen lamptype based on a small image
displayed on a (probable uncalibrated) monitor.

What you can do is estimating the difference between two designs. But I
don't think there are fixed criteria for this.

> If so, what are the lamp colors I should use? and what are the  
> parameters should I use in pfilt?

According to the man page you're looking for the "-t" option. The
table used for the lookups by default is called "lamp.tab" in the
base directory of your RAYPATH.

The first column in this file are the patterns Radiance knows about
by default. If you have more detailed information about your lamps
you can create your own lookup table and use the "-f" option in
pfilt to specify your table. See the comments at the top of lamp.tab.

An example would be:

     pfilt -t "warm white" neutral.pic > warm.pic

If you use a type that's not listed in the table pfilt will tell
you about it.

I think you have to start with a white balanced image or the results
will be usefull. I tried it on my benchmark pics and the "warm" filtered
image turned out blue ...

HTH,

Thomas


From bei.xiao at gmail.com  Tue Sep 27 01:41:00 2005
From: bei.xiao at gmail.com (bei.xiao@gmail.com)
Date: Tue Sep 27 01:42:08 2005
Subject: [Radiance-general] adding color pattern
Message-ID: <a382447805092616417edd15e8@mail.gmail.com>

hi,
  I want to generate a pool-ball like object. Basically, instead of
having a uniform colored object, I want to add some other color to the
object but the object is made of uniform material. Can I generate a
.cal file and directly manipulate the color at specific location using
local coordinates and use colorFunc to add the pattern? It sounds
trival to do but I m having trouble generating it right. Thank you
very much.

--
always on full sail during high tides

From Rob.Fitzsimmons at Summit.Fiserv.com  Tue Sep 27 18:27:01 2005
From: Rob.Fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Tue Sep 27 18:28:50 2005
Subject: [Radiance-general] adding color pattern
Message-ID: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5B1D@corvallis>

 I'm not a mathmatical type, so I can't advise you on a cal file, though I'm
sure there's a way.

But you could use a 2 color pic file and project it on sideways.. say 7/8 is
red and 1/8 is white.  That should give you a white circle on a red ball.
Give the pic enough resolution so the color boundary is crisp.
 You'll have to make it an octree and use it as an instance if you want to
move it randomly.

HTH 
Rob F

-----Original Message-----
From: bei.xiao@gmail.com
To: radiance-general@radiance-online.org
Sent: 9/26/2005 4:41 PM
Subject: [Radiance-general] adding color pattern

hi,
  I want to generate a pool-ball like object. Basically, instead of
having a uniform colored object, I want to add some other color to the
object but the object is made of uniform material. Can I generate a
.cal file and directly manipulate the color at specific location using
local coordinates and use colorFunc to add the pattern? It sounds
trival to do but I m having trouble generating it right. Thank you
very much.

--
always on full sail during high tides

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From ian at testers.homelinux.net  Tue Sep 27 18:50:57 2005
From: ian at testers.homelinux.net (Ian Tester)
Date: Tue Sep 27 18:52:18 2005
Subject: [Radiance-general] adding color pattern
In-Reply-To: <a382447805092616417edd15e8@mail.gmail.com>
References: <a382447805092616417edd15e8@mail.gmail.com>
Message-ID: <20050928025057.6792442e@saavik.ian.testers.net.au>

On Mon, 26 Sep 2005 19:41:00 -0400
<bei.xiao@gmail.com> wrote:

> hi,
>   I want to generate a pool-ball like object. Basically, instead of
> having a uniform colored object, I want to add some other color to the
> object but the object is made of uniform material. Can I generate a
> .cal file and directly manipulate the color at specific location using
> local coordinates and use colorFunc to add the pattern? It sounds
> trival to do but I m having trouble generating it right. Thank you
> very much.

Sorry for the late reply. Here's some examples from my work:

o_ball-1.rad:
----
void mixfunc ball_1_surf
6	clear_plastic	yellow_billiard
	num_disc	billiards.cal
	-s 57.15
0
1	18.0

ball_1_surf sphere ball_1
0
0
4	0	0	0
	57.15

white_flat colorpict ball_1_unlit
9	unlit_red	unlit_green	unlit_blue
	lcd-01.pic
	billiards.cal	ballmap_u	ballmap_v
	-s 57.15
0
3	0.65		0.45		0.45

void mixpict ball_1_num
9	redled		ball_1_unlit
	lit		lcd-01.pic
	billiards.cal	ballmap_u	ballmap_v
	-s 57.15
0
0

ball_1_num ring face-1a
0
0
8	0	54.35288	0
	0	1		0
	0	17.660321

ball_1_num ring face-1b
0
0
8	0	-54.35288	0
	0	-1		0
	0	17.660321
----


o_ball-9.rad:
----
white_billiard colorfunc ball_9_col
6	bh_red		bh_green	bh_blue
	billiards.cal
	-s 57.15
0
4	0.9		0.9		0.0
	60.0

void mixfunc ball_9_surf
6	clear_plastic	ball_9_col
	num_disc	billiards.cal
	-s 57.15
0
1	18.0

ball_9_surf sphere ball_9
0
0
4	0	0	0
	57.15

white_flat colorpict ball_9_unlit
9	unlit_red	unlit_green	unlit_blue
	lcd-09.pic
	billiards.cal	ballmap_u	ballmap_v
	-s 57.15
0
3	0.65		0.45		0.45

void mixpict ball_9_num
9	redled		ball_9_unlit
	lit		lcd-09.pic
	billiards.cal	ballmap_u	ballmap_v
	-s 57.15
0
0

ball_9_num ring face-9a
0
0
8	0	54.35288	0
	0	1		0
	0	17.660321

ball_9_num ring face-9b
0
0
8	0	-54.35288	0
	0	-1		0
	0	17.660321
----


m_balls.rad:
----
void plastic white_flat
0
0
5	0.6	0.6	0.6
	0.0	0.1

void texfunc rough1
4	gloss_dx	gloss_dy	gloss_dz
	gloss.cal
0
3	0.02	0.02	0.02

void plastic white_billiard
0
0
5	0.6	0.6	0.6
	0.03	0.02

# 0.9	0.9	0.0
void plastic yellow_billiard
0
0
5	0.54	0.54	0.0
	0.03	0.02

etc...

rough1 dielectric clear_plastic
0
0
5	1.25	1.25	1.25
	1.3	0.0

void light redled
0
0
3	500	0	0
----


billiards.cal:
----
ballmap_u = 0.5+if(Py, -Px, Px)*0.5;
ballmap_v = 0.5+Pz*0.5;

RADIAN : 180 / PI;

py_angle = acos(abs(Py)) * RADIAN;
pz_angle = acos(abs(Pz)) * RADIAN;

num_disc = if(A1 - py_angle, 1, 0);

bh_red = if(A4 - pz_angle, 1.0, A1);
bh_green = if(A4 - pz_angle, 1.0, A2);
bh_blue = if(A4 - pz_angle, 1.0, A3);

rgb_grey(r,g,b) = r + g + b;

max3(a,b,c) : if(a-b, if(a-c, a, c), if(b-c, b, c));

lit(r,g,b) = r - (1/255);
unlit(r,g,b) : g - (1/255);
unlit_red(r,g,b) = clip((unlit(r,g,b) * A1) + (1 - unlit(r,g,b)));
unlit_green(r,g,b) = clip((unlit(r,g,b) * A2) + (1 - unlit(r,g,b)));
unlit_blue(r,g,b) = clip((unlit(r,g,b) * A3) + (1 - unlit(r,g,b)));

on : 1;
off : 0;

half : 0.5;
----


Hopefully that'll help you. All of the balls are very similar. Just have
your seven colours defined (in m_balls.rad in my example) plus black for
the 8-ball. Then it's just a copy-and-paste job for the other balls, just
changing the names slightly. The 'low' balls have a solid colour, the
'high' balls have only a band of colour. That's what the
bh_{red,green,blue} functions are modifying. Then just place the balls in
the scene with an !xform line. This is needed to have the functions
modifying the material transform with the rest of the ball.

bye

From arcsalisu at yahoo.com  Tue Sep 27 22:08:24 2005
From: arcsalisu at yahoo.com (Abubakar Salisu)
Date: Tue Sep 27 22:09:47 2005
Subject: [Radiance-general] Windows enabled Radiance
Message-ID: <20050927200825.42172.qmail@web35307.mail.mud.yahoo.com>


Dear All,

Good day everyone! I am new to Radiance and I want to use this wonderfull software for my Phd in Architecture which involves a lot of simulation.Unfortunately I am aWindows user without time to learn Linux or Unix from scratch.I have looked at the different forms of the windows versions like Desktop radiance, but I discovered on some site that it is for "less serious" scientists. Is that true?Also I have been advised to use either CYGWIN or a CD-rom version from ftp://luminance.londonmet.ac.uk/learnix/
I may not be able to use cygwin 'cos it does not have resume and being in a developing country where electric power supply is not guaranteed, this is aproblem. Also the learnix version too does not have a resume capability(using DAP) variety  for download. Pls I need some advice on what to do. 

A big thanks to everyone and more grease to everyone's elbows!!!

 

Abubakar Salisu



		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050927/98d47d0f/attachment.htm
From niloofar.moghbel at lbp.uni-stuttgart.de  Thu Sep 29 11:51:57 2005
From: niloofar.moghbel at lbp.uni-stuttgart.de (Niloofar Moghbel)
Date: Thu Sep 29 11:51:35 2005
Subject: [Radiance-general] Windows enabled Radiance
References: <20050927200825.42172.qmail@web35307.mail.mud.yahoo.com>
Message-ID: <001b01c5c4db$6dfce7a0$8ef24581@bauphysik7pc>


Hi,



I am a new user of Radiance too, so I don't have enough information as well.

But if you know there is a windows base package which is named ADELINE. It makes the possibility to work with Radiance in Windows operating system.

you can have a look on it here:  http://www.ibp.fraunhofer.de/wt/adeline/index.html

I hope it can help you.

Hopefully somebody who has more experience in Radiance can give you better Information.



Niloofar






  ----- Original Message ----- 
  From: Abubakar Salisu 
  To: radiance-general@radiance-online.org 
  Sent: Tuesday, September 27, 2005 10:08 PM
  Subject: [Radiance-general] Windows enabled Radiance




  _______________________________________________
  Radiance-general mailing list
  Radiance-general@radiance-online.org
  http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050929/6d264c97/attachment.html
From wienold at ise.fraunhofer.de  Thu Sep 29 14:42:47 2005
From: wienold at ise.fraunhofer.de (Jan Wienold)
Date: Thu Sep 29 14:43:59 2005
Subject: [Radiance-general] glare index
In-Reply-To: <001101c5bac5$66b55290$8ef24581@bauphysik7pc>
References: <001101c5bac5$66b55290$8ef24581@bauphysik7pc>
Message-ID: <433BE147.8060903@ise.fraunhofer.de>

Dear Niloofar,

there are two aspects, you should take into consideration:
1. Direct glare from the facade (-> discomfort glare). This aspect could 
be considered by using the daylight glare probability DGP. The DGP does 
not take into account reflection glare on computer screens, only the 
discomfort glare caused by the facade. Of course, it is derived from 
user assessments doing a visual task on VDUs. But due to the design of 
the experiments, the results of the DGP should be more general. 
Therefore I would say it can be used also in other environments (e.g. 
classrooms).
2. Contrast reduction on the blackboard by having specular reflections 
and veiling luminance. For this aspect, a detailed modeling of the 
reflection properties of a blackboard is necessary first. Then, a 
visibility and contrast study should be done on hourly basis or at least 
for typical daily profiles.

Evalglare will be public soon (next weeks, as soon as our new Web site 
is ready) - in the meanwhile I send it directly to you in an extra email.

Good luck!

Jan

Niloofar Moghbel wrote:

> Dear all
>
> I am going to do a research in Stuttgart university about the effect 
> of daylight in visual comfort at schools,
>
> For that I need a reliable glare prediction index, would you please 
> tell me which one of the existing glare indices which are used in 
> Radiance is better for that reason.
>
> As I know Jan Wienold and his colleges are providing a new glare index 
> which is "daylight glare probability dgp".
>
> Considering that it has been provided for office spaces, and the 
> difference between office visual tasks and classroom visual task (I 
> mean the blackboard), is it possible to use it for evaluating glare in 
> classrooms as well?
>
> Thanks alot
>
> Niloofar
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>

-- 
Dipl.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 9:00-18:00
We-Fr:  8:30-14:00

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050929/08066ddd/attachment.htm
From kthibault at biomechanicsinc.com  Thu Sep 29 19:19:14 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Thu Sep 29 19:20:28 2005
Subject: [Radiance-general] RADIANCE and Unix shells
Message-ID: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>

I am fairly new to unix usage, so i have not developed a preference  
for a particular flavor of shell.  As I am now beginning to  
experiment with more shell programming, the question is, are there  
particular aspects of RADIANCE that make programming it in a  
particular shell more advantageous to others?

I was using tcsh (the Mac OSX former default) but am at the point  
where I want to explore other options.

Thanks for the input - I know this can be a highly personal and/or  
application-specific decision, but all thoughts welcome.

kirk


------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault





From jedev at visarc.com  Thu Sep 29 19:29:56 2005
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 29 19:31:22 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>
Message-ID: <433C2494.6000001@visarc.com>

Hi Kirk,

Depending on what you are trying to do you may want to consider 
something more robust in terms of programming features such as Perl or 
Python. I am a huge fan of Perl which is extremely robust. On the other 
hand I know that Georg Mischler is quite a proponent of Python which is 
also quite robust.

Regards,

-Jack

Kirk Thibault wrote:

> I am fairly new to unix usage, so i have not developed a preference  
> for a particular flavor of shell.  As I am now beginning to  
> experiment with more shell programming, the question is, are there  
> particular aspects of RADIANCE that make programming it in a  
> particular shell more advantageous to others?
>
> I was using tcsh (the Mac OSX former default) but am at the point  
> where I want to explore other options.
>
> Thanks for the input - I know this can be a highly personal and/or  
> application-specific decision, but all thoughts welcome.
>
> kirk
>
>
> ------------------------------
>
> Kirk L. Thibault, Ph.D.
> kthibault@biomechanicsinc.com
>
> p.  215.271.7720
> f.   215.271.7740
> c.  267.918.6908
>
> skype. kirkthibault
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From kthibault at biomechanicsinc.com  Thu Sep 29 19:45:36 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Thu Sep 29 19:46:51 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <433C2494.6000001@visarc.com>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>
	<433C2494.6000001@visarc.com>
Message-ID: <8951E60F-F0E5-4AD4-AA82-BC0BA23757D4@biomechanicsinc.com>

I have ventured into the realm of Python, so I hear you on that  
aspect - Blender's API is also Python, so that may be a way to go  
versus pure shell programming.  Any examples of programming RADIANCE  
through Python would be great.

I'll search around.

Thanks!

kirk

On Sep 29, 2005, at 1:29 PM, Jack de Valpine wrote:

> Hi Kirk,
>
> Depending on what you are trying to do you may want to consider  
> something more robust in terms of programming features such as Perl  
> or Python. I am a huge fan of Perl which is extremely robust. On  
> the other hand I know that Georg Mischler is quite a proponent of  
> Python which is also quite robust.
>
> Regards,
>
> -Jack
>
> Kirk Thibault wrote:
>
>
>> I am fairly new to unix usage, so i have not developed a  
>> preference  for a particular flavor of shell.  As I am now  
>> beginning to  experiment with more shell programming, the question  
>> is, are there  particular aspects of RADIANCE that make  
>> programming it in a  particular shell more advantageous to others?
>>
>> I was using tcsh (the Mac OSX former default) but am at the point   
>> where I want to explore other options.
>>
>> Thanks for the input - I know this can be a highly personal and/ 
>> or  application-specific decision, but all thoughts welcome.
>>
>> kirk
>>
>>
>> ------------------------------
>>
>> Kirk L. Thibault, Ph.D.
>> kthibault@biomechanicsinc.com
>>
>> p.  215.271.7720
>> f.   215.271.7740
>> c.  267.918.6908
>>
>> skype. kirkthibault
>>
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>
> -- 
> #    John E. de Valpine
> #    president
> #
> #    visarc incorporated
> #    http://www.visarc.com
> #
> #    channeling technology for superior design and construction
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From rpg at rumblestrip.org  Thu Sep 29 19:51:10 2005
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Sep 29 19:52:11 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <433C2494.6000001@visarc.com>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>
	<433C2494.6000001@visarc.com>
Message-ID: <433C298E.6000600@rumblestrip.org>

Jack de Valpine wrote:

> Hi Kirk,
>
> Depending on what you are trying to do you may want to consider 
> something more robust in terms of programming features such as Perl or 
> Python. I am a huge fan of Perl which is extremely robust. On the 
> other hand I know that Georg Mischler is quite a proponent of Python 
> which is also quite robust.

Starbucks coffee is also known for their robustness, but then again that 
doesn't really help you with programming.  =8-) 

Ahem. 

Kirk, Jack is steering you in the right direction, but I'd also like to 
cast a vote for good old fashioned shell scripting, using either bash or 
tsh.  Some of the radiance commands are actually shell scripts, usually 
written in tsh, which may be a case for learning tsh.  I learned shell 
scripting by dissecting some of the stuff Greg Ward and John Mardaljevic 
wrote, which served me well for many years.  Bash has more features than 
tsh, but then again like Jack said languages like Python and Perl have 
many more than Bash.  It comes down to what you're trying to do, and how 
much you expect to borrow from other sources too. 

Also, regarding Perl: Jack's a Perl fan because he knows it well.  But 
I'd caution that Perl can be a bear when working with Other People's 
Code, because it is so "loose".  There is a saying among Perl People 
that goes "There's more than one way to do it", which can be an obstacle 
when trying to read someone else's programs (which is how I learned 
programming in the first place).  I grow fonder of Python all the time.

Whatever way you go, have fun!  Scripting is the key to unlocking the 
power of Radiance.

- Rob Guglielmetti





From jedev at visarc.com  Thu Sep 29 19:52:36 2005
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 29 19:53:54 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <8951E60F-F0E5-4AD4-AA82-BC0BA23757D4@biomechanicsinc.com>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>	<433C2494.6000001@visarc.com>
	<8951E60F-F0E5-4AD4-AA82-BC0BA23757D4@biomechanicsinc.com>
Message-ID: <433C29E4.5020205@visarc.com>

How do you like Blender?

Kirk Thibault wrote:

> I have ventured into the realm of Python, so I hear you on that  
> aspect - Blender's API is also Python, so that may be a way to go  
> versus pure shell programming.  Any examples of programming RADIANCE  
> through Python would be great.
>
> I'll search around.
>
> Thanks!
>
> kirk
>
> On Sep 29, 2005, at 1:29 PM, Jack de Valpine wrote:
>
>> Hi Kirk,
>>
>> Depending on what you are trying to do you may want to consider  
>> something more robust in terms of programming features such as Perl  
>> or Python. I am a huge fan of Perl which is extremely robust. On  the 
>> other hand I know that Georg Mischler is quite a proponent of  Python 
>> which is also quite robust.
>>
>> Regards,
>>
>> -Jack
>>
>> Kirk Thibault wrote:
>>
>>
>>> I am fairly new to unix usage, so i have not developed a  
>>> preference  for a particular flavor of shell.  As I am now  
>>> beginning to  experiment with more shell programming, the question  
>>> is, are there  particular aspects of RADIANCE that make  programming 
>>> it in a  particular shell more advantageous to others?
>>>
>>> I was using tcsh (the Mac OSX former default) but am at the point   
>>> where I want to explore other options.
>>>
>>> Thanks for the input - I know this can be a highly personal and/ or  
>>> application-specific decision, but all thoughts welcome.
>>>
>>> kirk
>>>
>>>
>>> ------------------------------
>>>
>>> Kirk L. Thibault, Ph.D.
>>> kthibault@biomechanicsinc.com
>>>
>>> p.  215.271.7720
>>> f.   215.271.7740
>>> c.  267.918.6908
>>>
>>> skype. kirkthibault
>>>
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>
>> -- 
>> #    John E. de Valpine
>> #    president
>> #
>> #    visarc incorporated
>> #    http://www.visarc.com
>> #
>> #    channeling technology for superior design and construction
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
#	John E. de Valpine
#	president
#
#	visarc incorporated
#	http://www.visarc.com
#
#	channeling technology for superior design and construction




From jedev at visarc.com  Thu Sep 29 20:05:23 2005
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Sep 29 20:06:45 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <433C298E.6000600@rumblestrip.org>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>	<433C2494.6000001@visarc.com>
	<433C298E.6000600@rumblestrip.org>
Message-ID: <433C2CE3.6010702@visarc.com>

Hey Rob,

I follow-up on that. I probably could have used a more robust cup of jo 
this morning as I repeated the word in every darn sentence. Ack!

In general, I think that if you learn one of these things then entry 
into the next becomes easier. I started out with csh, sed and awk, ages 
ago, and while it worked it is ugly, I had to learn how to use three 
different tools (heck, I think that you can by an O'Reilly book for each 
of these). Nevertheless, shell scripting is definitely the most quick 
and dirty way to get things done.

Rob is correct. A hugely confusing element to Perl (for which you can 
buy a lot more than 3 O'Reilly books) is the fact that there are lots 
and lots of way to do things, this can be both a pro and a con. Though I 
think in general looking at other peoples code is always painful unless 
it is extremely well documented. I cannot really speak for Python, 
though I think it is probably a bit "cleaner" than Perl.

I think the crux of it all though is having an actual problem that you 
are trying to solve and access to some good books with examples. This is 
the best way to learn that I have found.

-Jack

Rob Guglielmetti wrote:

> Jack de Valpine wrote:
>
>> Hi Kirk,
>>
>> Depending on what you are trying to do you may want to consider 
>> something more robust in terms of programming features such as Perl 
>> or Python. I am a huge fan of Perl which is extremely robust. On the 
>> other hand I know that Georg Mischler is quite a proponent of Python 
>> which is also quite robust.
>
>
> Starbucks coffee is also known for their robustness, but then again 
> that doesn't really help you with programming.  =8-)
> Ahem.
> Kirk, Jack is steering you in the right direction, but I'd also like 
> to cast a vote for good old fashioned shell scripting, using either 
> bash or tsh.  Some of the radiance commands are actually shell 
> scripts, usually written in tsh, which may be a case for learning 
> tsh.  I learned shell scripting by dissecting some of the stuff Greg 
> Ward and John Mardaljevic wrote, which served me well for many years.  
> Bash has more features than tsh, but then again like Jack said 
> languages like Python and Perl have many more than Bash.  It comes 
> down to what you're trying to do, and how much you expect to borrow 
> from other sources too.
> Also, regarding Perl: Jack's a Perl fan because he knows it well.  But 
> I'd caution that Perl can be a bear when working with Other People's 
> Code, because it is so "loose".  There is a saying among Perl People 
> that goes "There's more than one way to do it", which can be an 
> obstacle when trying to read someone else's programs (which is how I 
> learned programming in the first place).  I grow fonder of Python all 
> the time.
>
> Whatever way you go, have fun!  Scripting is the key to unlocking the 
> power of Radiance.
>
> - Rob Guglielmetti
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>



From kthibault at biomechanicsinc.com  Thu Sep 29 20:22:59 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Thu Sep 29 20:24:09 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <433C29E4.5020205@visarc.com>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>	<433C2494.6000001@visarc.com>
	<8951E60F-F0E5-4AD4-AA82-BC0BA23757D4@biomechanicsinc.com>
	<433C29E4.5020205@visarc.com>
Message-ID: <9B1C41D7-320F-4BDA-BCC6-D75FC82F1369@biomechanicsinc.com>

I like Blender, because it is open and it is Python accessible.  This  
was partially why I started to learn Python.  Poser, a 3D figure  
animation package also has a Python API.  It turns out that several  
other things I am interested in are accessible through Python,  
including ODE (the open dynamics engine for physical simulation, etc).

To answer your question, Blender has a nice set of modeling and  
rendering tools - I haven;t used it in a while, but am getting back  
into it because of the natural potential for tying it to RADIANCE  
object generation (not as slick as b/rad or some of the exporters,  
though).

So much to do.

I was considering bash as the next shell to learn, as i too have  
dissected some of Greg's shell programs and have begun to understand  
the significance of scripting and programming RADIANCE.



kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Sep 29, 2005, at 1:52 PM, Jack de Valpine wrote:

> How do you like Blender?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050929/92bd7308/attachment.html
From MShewfelt at enermodal.com  Thu Sep 29 20:36:20 2005
From: MShewfelt at enermodal.com (Mark Shewfelt)
Date: Thu Sep 29 20:37:35 2005
Subject: [Radiance-general] RADIANCE and Unix shells
Message-ID: <EB65303B6C7EBA4996382AA5E0806BF40ACC86@soleil.EEL.local>

Another vote for Python here - you could certainly do what I've done
here in a shell script, but I chose to use (and learn) Python. If you
stick with Python you can eventually add a GUI relatively easily to your
scripts using Glade and pyGTK. 

I used Python to automate the creation of illuminance calculation grids.
This is a budget example, but this snippet is what I've done in the past
to calculate illuminance by repeated calls to rtrace. I used the
os.popen() call in Python to call rtrace as I would on the command line.
My apologies if this example is too trivial, but here it is anyways, in
case you find it useful: 

for i in range(len(Grid1.CalcPoints)):
	    #call to rtrace returns 3 values, each representing the
irradiance for r,g,b.
	    #first prepare the string representation of the point:
	    point_str = "\'" + str(Grid1.CalcPoints[i].x) + " " +
str(Grid1.CalcPoints[i].y) + \
			  " " + str(Grid1.CalcPoints[i].z) + "  " +
str(Grid1.CalcPoints[i].xdir) + \
			  " " + str(Grid1.CalcPoints[i].ydir) + " " +
str(Grid1.CalcPoints[i].zdir) + "\'"
	    rtrace_str = "echo " + point_str + " | rtrace -I -ab " +
str(options.ab) + rad_opts + " -h -w " + options.octfile
	    print rtrace_str
	    fd = os.popen( rtrace_str, 'r', -1 )
	   	    
	    buffer = fd.readline()
	    rgb_irrad = buffer.split()
	    illuminance = 179*(float(rgb_irrad[0])*0.265 +
float(rgb_irrad[1])*0.670 + float(rgb_irrad[2])*0.065)
	    Grid1.CalcPoints[i].illuminance = illuminance
	    print "( " + str(Grid1.CalcPoints[i].x) + ", " +
str(Grid1.CalcPoints[i].y) + ", " + \
		  str(Grid1.CalcPoints[i].z) + " ): " + str(illuminance)
+ " lux" 

It's ugly but seems to work OK.  This snippet is part of a larger script
that takes in some user options, grid size, and prints out illuminance
values.

Cheers,

Mark Shewfelt
Electrical Engineering Intern
Enermodal Engineering Ltd.
ph: 519 743 8777 x232
fx: 519 743-8778
mshewfelt@enermodal.com



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
de Valpine
Sent: September 29, 2005 2:05 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] RADIANCE and Unix shells

Hey Rob,

I follow-up on that. I probably could have used a more robust cup of jo
this morning as I repeated the word in every darn sentence. Ack!

In general, I think that if you learn one of these things then entry
into the next becomes easier. I started out with csh, sed and awk, ages
ago, and while it worked it is ugly, I had to learn how to use three
different tools (heck, I think that you can by an O'Reilly book for each
of these). Nevertheless, shell scripting is definitely the most quick
and dirty way to get things done.

Rob is correct. A hugely confusing element to Perl (for which you can
buy a lot more than 3 O'Reilly books) is the fact that there are lots
and lots of way to do things, this can be both a pro and a con. Though I
think in general looking at other peoples code is always painful unless
it is extremely well documented. I cannot really speak for Python,
though I think it is probably a bit "cleaner" than Perl.

I think the crux of it all though is having an actual problem that you
are trying to solve and access to some good books with examples. This is
the best way to learn that I have found.

-Jack

Rob Guglielmetti wrote:

> Jack de Valpine wrote:
>
>> Hi Kirk,
>>
>> Depending on what you are trying to do you may want to consider 
>> something more robust in terms of programming features such as Perl 
>> or Python. I am a huge fan of Perl which is extremely robust. On the 
>> other hand I know that Georg Mischler is quite a proponent of Python 
>> which is also quite robust.
>
>
> Starbucks coffee is also known for their robustness, but then again 
> that doesn't really help you with programming.  =8-) Ahem.
> Kirk, Jack is steering you in the right direction, but I'd also like 
> to cast a vote for good old fashioned shell scripting, using either 
> bash or tsh.  Some of the radiance commands are actually shell 
> scripts, usually written in tsh, which may be a case for learning tsh.

> I learned shell scripting by dissecting some of the stuff Greg Ward 
> and John Mardaljevic wrote, which served me well for many years.
> Bash has more features than tsh, but then again like Jack said 
> languages like Python and Perl have many more than Bash.  It comes 
> down to what you're trying to do, and how much you expect to borrow 
> from other sources too.
> Also, regarding Perl: Jack's a Perl fan because he knows it well.  But

> I'd caution that Perl can be a bear when working with Other People's 
> Code, because it is so "loose".  There is a saying among Perl People 
> that goes "There's more than one way to do it", which can be an 
> obstacle when trying to read someone else's programs (which is how I 
> learned programming in the first place).  I grow fonder of Python all 
> the time.
>
> Whatever way you go, have fun!  Scripting is the key to unlocking the 
> power of Radiance.
>
> - Rob Guglielmetti
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From maino at psu.edu  Thu Sep 29 21:05:44 2005
From: maino at psu.edu (J. David Maino)
Date: Thu Sep 29 21:06:51 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <EB65303B6C7EBA4996382AA5E0806BF40ACC86@soleil.EEL.local>
Message-ID: <000001c5c528$cb1657d0$6500a8c0@mainodesktop>

While Python and other more powerful languages than shell scripting can
offer additional benefits such as GUIs and the like, much of the same sort
of thing can easily be accomplished in bash, csh, or a number of other
shells. For instance, I use a similar script to the one described below
except it is written as a bash (my shell of choice) script. You can
accomplish the same thing both ways, but if you're already familiar with
tcsh and don't want to have to learn a whole new language, shell scripting
is very easy to pick up and use in conjunction with Radiance. That being
said, there are many things that are either difficult or impossible to do
with shell scripts that higher level languages allow, so if you have the
time I would definitely recommend picking up a second or third language such
as Python or Perl.

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Mark
Shewfelt
Sent: Thursday, September 29, 2005 2:36 PM
To: Radiance general discussion
Subject: RE: [Radiance-general] RADIANCE and Unix shells

Another vote for Python here - you could certainly do what I've done
here in a shell script, but I chose to use (and learn) Python. If you
stick with Python you can eventually add a GUI relatively easily to your
scripts using Glade and pyGTK. 

I used Python to automate the creation of illuminance calculation grids.
This is a budget example, but this snippet is what I've done in the past
to calculate illuminance by repeated calls to rtrace. I used the
os.popen() call in Python to call rtrace as I would on the command line.
My apologies if this example is too trivial, but here it is anyways, in
case you find it useful: 

for i in range(len(Grid1.CalcPoints)):
	    #call to rtrace returns 3 values, each representing the
irradiance for r,g,b.
	    #first prepare the string representation of the point:
	    point_str = "\'" + str(Grid1.CalcPoints[i].x) + " " +
str(Grid1.CalcPoints[i].y) + \
			  " " + str(Grid1.CalcPoints[i].z) + "  " +
str(Grid1.CalcPoints[i].xdir) + \
			  " " + str(Grid1.CalcPoints[i].ydir) + " " +
str(Grid1.CalcPoints[i].zdir) + "\'"
	    rtrace_str = "echo " + point_str + " | rtrace -I -ab " +
str(options.ab) + rad_opts + " -h -w " + options.octfile
	    print rtrace_str
	    fd = os.popen( rtrace_str, 'r', -1 )
	   	    
	    buffer = fd.readline()
	    rgb_irrad = buffer.split()
	    illuminance = 179*(float(rgb_irrad[0])*0.265 +
float(rgb_irrad[1])*0.670 + float(rgb_irrad[2])*0.065)
	    Grid1.CalcPoints[i].illuminance = illuminance
	    print "( " + str(Grid1.CalcPoints[i].x) + ", " +
str(Grid1.CalcPoints[i].y) + ", " + \
		  str(Grid1.CalcPoints[i].z) + " ): " + str(illuminance)
+ " lux" 

It's ugly but seems to work OK.  This snippet is part of a larger script
that takes in some user options, grid size, and prints out illuminance
values.

Cheers,

Mark Shewfelt
Electrical Engineering Intern
Enermodal Engineering Ltd.
ph: 519 743 8777 x232
fx: 519 743-8778
mshewfelt@enermodal.com



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
de Valpine
Sent: September 29, 2005 2:05 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] RADIANCE and Unix shells

Hey Rob,

I follow-up on that. I probably could have used a more robust cup of jo
this morning as I repeated the word in every darn sentence. Ack!

In general, I think that if you learn one of these things then entry
into the next becomes easier. I started out with csh, sed and awk, ages
ago, and while it worked it is ugly, I had to learn how to use three
different tools (heck, I think that you can by an O'Reilly book for each
of these). Nevertheless, shell scripting is definitely the most quick
and dirty way to get things done.

Rob is correct. A hugely confusing element to Perl (for which you can
buy a lot more than 3 O'Reilly books) is the fact that there are lots
and lots of way to do things, this can be both a pro and a con. Though I
think in general looking at other peoples code is always painful unless
it is extremely well documented. I cannot really speak for Python,
though I think it is probably a bit "cleaner" than Perl.

I think the crux of it all though is having an actual problem that you
are trying to solve and access to some good books with examples. This is
the best way to learn that I have found.

-Jack

Rob Guglielmetti wrote:

> Jack de Valpine wrote:
>
>> Hi Kirk,
>>
>> Depending on what you are trying to do you may want to consider 
>> something more robust in terms of programming features such as Perl 
>> or Python. I am a huge fan of Perl which is extremely robust. On the 
>> other hand I know that Georg Mischler is quite a proponent of Python 
>> which is also quite robust.
>
>
> Starbucks coffee is also known for their robustness, but then again 
> that doesn't really help you with programming.  =8-) Ahem.
> Kirk, Jack is steering you in the right direction, but I'd also like 
> to cast a vote for good old fashioned shell scripting, using either 
> bash or tsh.  Some of the radiance commands are actually shell 
> scripts, usually written in tsh, which may be a case for learning tsh.

> I learned shell scripting by dissecting some of the stuff Greg Ward 
> and John Mardaljevic wrote, which served me well for many years.
> Bash has more features than tsh, but then again like Jack said 
> languages like Python and Perl have many more than Bash.  It comes 
> down to what you're trying to do, and how much you expect to borrow 
> from other sources too.
> Also, regarding Perl: Jack's a Perl fan because he knows it well.  But

> I'd caution that Perl can be a bear when working with Other People's 
> Code, because it is so "loose".  There is a saying among Perl People 
> that goes "There's more than one way to do it", which can be an 
> obstacle when trying to read someone else's programs (which is how I 
> learned programming in the first place).  I grow fonder of Python all 
> the time.
>
> Whatever way you go, have fun!  Scripting is the key to unlocking the 
> power of Radiance.
>
> - Rob Guglielmetti
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From tbleicher at arcor.de  Thu Sep 29 23:10:05 2005
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Sep 29 23:11:18 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>
Message-ID: <54E3B8FE-EDF0-4301-A9DD-9B0F7CE3522B@arcor.de>


On 29.09.2005, at 19:19, Kirk Thibault wrote:

> I am fairly new to unix usage, so i have not developed a preference  
> for a particular flavor of shell.  As I am now beginning to  
> experiment with more shell programming, the question is, are there  
> particular aspects of RADIANCE that make programming it in a  
> particular shell more advantageous to others?
>
> I was using tcsh (the Mac OSX former default) but am at the point  
> where I want to explore other options.

Rather than focusing on Radiance you should consider your primary
environment and day to day tasks to define your shell of choice:

sh -   plain old shell
        most portable across platforms/shells but not much features

bash - very popular on (and because of) Linux
        most Linux sysadmin scripts around are for bash
        most scripts around are in bad style but nobody knows better
        environment often highly customized in current distributions
        (makes it harder to learn plain bash)

csh -  traditional shell for most Unix flavours
        C-like syntax (if that's any help to learn it)
        in older incarnations harder to use because it's
        missing bash-like usability "enhancements"
        probably most compatible across platforms ("already installed")
        Radiance ships with some scripts in csh

tcsh - better to use but still compatible to csh

zsh -  very powerfull shell
        not much in use, though (read: not much examples around)

ksh -  default shell on AIX systems
        little used elsewhere


I started out with bash but never bothered to do real script
programming because I tend to use Python for anything that
requires more than 5 lines of code. I don't think any of these
shells is particularly good for Radiance because they all
provide the basic shell environment which makes Radiance
so flexible (pipes, redirection, filter etc.).

If you want to create scripts that should be used by more than
one person keep them well documented. Anyone knowing anything
about shell scripting should then be able to understand what
you are doing. If you want to share your scripts as well you
should try to aim for POSIX compliance and avoid shell typical
enhancements. This will help others to reuse your scripts on
other platforms/shells/implementations of your shell.

Knowing a bit about *sh is essential to get anything done but
even small tasks may be worth a "proper" programming language:

1) For more complicated things (name rewriting etc.) you will
    have to use sed/awk/perl (that's the unix way to do things)
    more sooner than later. So you'll have to know their syntax
    as well and your co-admins will have to know them, too.

2) Python/Ruby/TCL/Perl(!) are better to understand for non-gurus
    than esoteric shell constructions are. (Readability does not
    depend on the language but on your style, though).

3) Perl, TCL and Python are available on nearly all platforms
    now and typically installed by default.

4) You can extend simple scripts with GUIs and output processing
    (PDF, visualization) better (if there are libraries available).
    Shell scripts will meet their limit pretty soon.

5) If everyone would focus on Python we could collect some money
    and pay Schorsch to write a proper library for Radiance. That's
    only my biased opinion, of course ;)


On the whole I'd recommend one of Python/Ruby/Perl for more ambitious
scripting. For simple throw-away-scripts any shell will do and it's
basically a matter of your personal preference.



Enjoy the freedom of choice,

Thomas

From randolph at panix.com  Fri Sep 30 02:29:05 2005
From: randolph at panix.com (Randolph Fritz)
Date: Fri Sep 30 02:30:12 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <54E3B8FE-EDF0-4301-A9DD-9B0F7CE3522B@arcor.de>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>
	<54E3B8FE-EDF0-4301-A9DD-9B0F7CE3522B@arcor.de>
Message-ID: <3587.192.220.139.23.1128040145.squirrel@mail.panix.com>

"It is possible [to do almost anything in any language].  However, just
because one can get a pea up a mountain by pushing it with one's nose does
not mean that is the best way of getting it there!"--(I forget who)

One can do shell-like scripting in most languages these days.  Language
preferences divide sharply, and often people simply prefer the language
they have learned first.  On the commercial side, language choices are
often made for non-technical reasons, and there is something to be said
for using languages best fitted to a platform; if one is integrating
Radiance with AutoCAD, there is much to be said for AutoLISP or even (woe)
Visual Basic.

That said, I will offer these opinions:

1. Generally, Python is widely accepted as a simple, object-oriented
interpretive language that can be used for serious applications work. 
Ruby, though less widely used, is also considered good for such jobs. 
Perl can be used in this way, but one must be disciplined in its use, or
it will have the problems of a shell.

2. The heavy use of textual substitution as a programming technique in
traditional shells (sh, ksh, bash, csh, and so on) makes for large scripts
that are difficult to read and maintain--there is a particular problem
with file names that contain punctuation or spaces; if one makes extensive
use of variable substitution in Perl one has the same problems.  And,
distressingly, no-one actually knows what languages the traditional shells
accept, not even the people who maintain them; one is often forced to rely
on testing to determine the results of a particular incantation and there
is no guarantee one will see consistent behavior across platforms.

3. There are a number of useful but less popular languages with devoted
followings: the "rc" shell and LISP itself, the grandad of all
programmerly interpretive languages, come to mind.  However, if one wants
tools to be accessible to the widest developer community, it is probably
best to stick with more widely accepted tools.  There are oddities, too:
one could, for instance, use the web server language PHP, but I cannot see
a good reason to do so.

4. While it is possible to do shell-like tasks in compiled languages like
C, the debugging and maintenance effort is such that it is probably not
usually worth the trouble.  Microsoft's much-promoted C# has some of the
same problems.

5. Java.  Well, it can do the job.  But it seems to me to combine some of
the difficulties of programming in a compiled language (a persnicketty
typing system and a relatively long learning curve) with the difficulties
of interpretation (slowness).  The sheer amount of study (not to mention
the cost of texts) required to learn the Java class libraries is daunting.
 Still, it is pervasive, so maybe there is a role for it.

Lots of choices.  Personally, I'd recommend Perl, Python, or Ruby as one
is most comfortable.  If one doesn't already know a shell well, I'd say
that Python is the easiest to learn, and is most satisfying to a beginner
because of it, but one can get good results using any of those languages. 
Greg uses csh, and it's worth knowing it just to read existing Radiance
scripts, but of the shells it is the most cranky, and I wouldn't advise
starting there.  It helps to know a bit of Unix to get the best use out of
any shell, even if one is programming for Windows; I still recommend the
old CACM Unix article as a worthy reference.

Hope this helps!

Randolph


From toast at becausewecan.org  Fri Sep 30 03:10:57 2005
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Fri Sep 30 03:12:06 2005
Subject: [Radiance-general] Windows enabled Radiance
In-Reply-To: <001b01c5c4db$6dfce7a0$8ef24581@bauphysik7pc>
References: <20050927200825.42172.qmail@web35307.mail.mud.yahoo.com>
	<001b01c5c4db$6dfce7a0$8ef24581@bauphysik7pc>
Message-ID: <433C90A1.1030401@becausewecan.org>


There is also two different commercail tools that let you run Radiance 
under Windows, and might be better if you're just getting into Radiance 
but don't want to have to learn a Unix command line: Rayfront, a 
stand-alone lighting design package, and there's also a plug-in for 3D 
Studio Max that lets 3D Studio Max use Radiance just like any other 
rendering engine available to Max (ala Mental Ray).

However, with that said, I simply went with Cygwin. Your issues with 
crashing & resuming and such, well, you're right that Cygwin doesn't 
have the ability to resume, but Radiance actually does. If you crash or 
the system goes down, you just restart the job and Radiance picks up 
where it left off. One of the nicer things about it.

Hope this helps.

Jeffrey McGrew

Niloofar Moghbel wrote:

> Hi,
>
>  
>
> I am a new user of Radiance too, so I don't have enough information as 
> well.
>
> But if you know there is a windows base package which is named 
> ADELINE. It makes the possibility to work with Radiance in Windows 
> operating system.
>
> you can have a look on it here: 
>  http://www.ibp.fraunhofer.de/wt/adeline/index.html
>
> I hope it can help you.
>
> Hopefully somebody who has more experience in Radiance can give you 
> better Information.
>
>  
>
> Niloofar
>
>  
>
>  
>
>     ----- Original Message -----
>     *From:* Abubakar Salisu <mailto:arcsalisu@yahoo.com>
>     *To:* radiance-general@radiance-online.org
>     <mailto:radiance-general@radiance-online.org>
>     *Sent:* Tuesday, September 27, 2005 10:08 PM
>     *Subject:* [Radiance-general] Windows enabled Radiance
>
>      
>
>     _______________________________________________
>     Radiance-general mailing list
>     Radiance-general@radiance-online.org
>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050929/11cd2348/attachment.htm
From jelle.feringa at ezct.net  Fri Sep 30 12:14:40 2005
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Fri Sep 30 12:12:53 2005
Subject: [Radiance-general] Windows enabled Radiance: ol' dt rad binaries
Message-ID: <07fa01c5c5a7$c52e3fc0$0c01a8c0@JELLE>

Jeffrey,

Although cygwin does give you a quite in-depth unix like environment, I
wonder whether these binaries are fast? Personally I'm still stuck with the
ol' desktop radiance binaries, which are pretty much on par with the
rendering speed I'm getting on a linux box. Scripting Radiance is done via
Python. I'd be curious to know your experiences in terms of speed

Cheers,

Jelle.


From kthibault at biomechanicsinc.com  Fri Sep 30 15:57:51 2005
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Sep 30 15:59:07 2005
Subject: [Radiance-general] RADIANCE and Unix shells
In-Reply-To: <3587.192.220.139.23.1128040145.squirrel@mail.panix.com>
References: <6BFD517F-B48F-41DF-A8A8-42FD59B2A469@biomechanicsinc.com>
	<54E3B8FE-EDF0-4301-A9DD-9B0F7CE3522B@arcor.de>
	<3587.192.220.139.23.1128040145.squirrel@mail.panix.com>
Message-ID: <7EC81D40-164D-4CF8-ABB3-6DF8C27E48D8@biomechanicsinc.com>

Thanks to all with the valuable advice.  I think I'm going to strike  
out on the Python path, as I have already started with Python and it  
seems that Radiance and Python are quite adaptable for the mostly  
simple things i;d like to experiment with.  As always, I appreciate  
the knowledge collected in this mail group.

Cheers,

kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Sep 29, 2005, at 8:29 PM, Randolph Fritz wrote:

> "It is possible [to do almost anything in any language].  However,  
> just
> because one can get a pea up a mountain by pushing it with one's  
> nose does
> not mean that is the best way of getting it there!"--(I forget who)
>

From atelier at iebele.nl  Fri Sep 30 16:10:17 2005
From: atelier at iebele.nl (atelier iebele abel)
Date: Fri Sep 30 16:08:17 2005
Subject: [Radiance-general] Calculating diffuse component in a BRTDfunc
In-Reply-To: <07fa01c5c5a7$c52e3fc0$0c01a8c0@JELLE>
References: <07fa01c5c5a7$c52e3fc0$0c01a8c0@JELLE>
Message-ID: <433D4749.5010302@iebele.nl>

Hi all,

I am writing a BRTD material which I want to use to change the diffuse 
component of a surface, related to a certain direction an the surface 
normal.
Radiance reports: error bad arguments for BRTDfunc
What am I doing wrong here?

I get the impression that the rfdif, gfdif, bfdif, rbdif, gbdif and 
bbdif are not variables ???
If these are not variables, how can I change/calculate/define the 
diffuse component in a BRTDfunc?
See the bold lines of the example in my cal file.

I appreciate any suggestions !

Iebele


<--- snip  ---->


{
    directional.cal

    arg10 red diffuse
    arg11 green diffuse
    arg12 blue diffuse
    arg13 direction x 
    arg14 direction y
    arg15 direction z
}

{ RGB values for the reflection  }
valr  = arg(10);
valg  = arg(11);
valb  = arg(12);
xdir = arg(13);
ydir = arg(14);
zdir = arg(15);

{ dot product direction and normal }
DdN = (xdir*Nx)+(ydir*Ny)+(zdir*Nz);

{ always return a positive value }
multi = if(DdN, DdN, -DdN) ;

*reflr = CrP + (multi*valr)  ;
reflg = CgP + (multi*valg)  ;
reflb = CbP + (multi*valb)  ;*


{
    example usage:
        void BRTDfunc LAYER114
        10
        0 0 0                          / reflection
        0 0 0                          / specular
        0 0 0          
        directional.cal
        0
        15
       * reflr reflg reflb              */ diffuse front*
        reflr reflg reflb  *            / diffuse back
        0 0 0                          / trans
        0.8 0.7 0.6                    / color of surface
        0.57735 0.57735 0.57735        / vector defining bright side of 
surface
}




From atelier at iebele.nl  Fri Sep 30 16:22:43 2005
From: atelier at iebele.nl (atelier iebele abel)
Date: Fri Sep 30 16:20:41 2005
Subject: [Radiance-general] Calculating diffuse component in a BRTDfunc
In-Reply-To: <433D4749.5010302@iebele.nl>
References: <07fa01c5c5a7$c52e3fc0$0c01a8c0@JELLE> <433D4749.5010302@iebele.nl>
Message-ID: <433D4A33.9030206@iebele.nl>

--- (previous message was messed up a bit, hope this times it is better) ---

Hi all,

I am writing a BRTD material which I want to use to change the diffuse component of a surface, related to a certain direction and the surface 
normal. Radiance reports: "error bad arguments for BRTDfunc

I get the impression that the rfdif, gfdif, bfdif, rbdif, gbdif and bbdif are not variables ?
If these are not variables, how can I change/calculate/define the diffuse component in a BRTDfunc?
See the bold lines of the example in my cal file.

I appreciate any suggestions !

Iebele

<--- snip  ---->

{

   directional.cal

   arg10 red diffuse
   arg11 green diffuse
   arg12 blue diffuse
   arg13 direction x 
   arg14 direction y
   arg15 direction z

}

{ RGB values for the reflection  }

	valr  = arg(10);
	valg  = arg(11);
	valb  = arg(12);
	xdir = arg(13);
	ydir = arg(14);
	zdir = arg(15);
 

{ dot product direction and normal }
	DdN = (xdir*Nx)+(ydir*Ny)+(zdir*Nz); 

{ always return a positive value }
	multi = if(DdN, DdN, -DdN) ;

	*reflr* = CrP + (multi*valr)  ;
	*reflg* = CgP + (multi*valg)  ;
	*reflb* = CbP + (multi*valb)  ;

{

   	example usage: 

       	void BRTDfunc LAYER114
	10
	0 0 0                          / reflection
	0 0 0                          / specular
	0 0 0          
       	directional.cal
	0
	15
	*reflr reflg reflb*              / diffuse front
	*reflr reflg reflb*              / diffuse back
	0 0 0                          / trans
	0.8 0.7 0.6                    / color of surface
	0.57735 0.57735 0.57735        / vector defining bright side of surface

}

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20050930/633ef963/attachment.html
From iain at esru.strath.ac.uk  Fri Sep 30 18:14:33 2005
From: iain at esru.strath.ac.uk (Iain Macdonald)
Date: Fri Sep 30 18:26:03 2005
Subject: [Radiance-general] rtcontrib & daylight coefficients
In-Reply-To: <69FC71D6-0F7E-4197-AC8C-EB1F4E93133F@gmail.com>
References: <43340242.5090500@esru.strath.ac.uk>
	<69FC71D6-0F7E-4197-AC8C-EB1F4E93133F@gmail.com>
Message-ID: <433D6469.20401@esru.strath.ac.uk>

Greg,

I'm now using version 1.28 of rtcontrib and its much better, but still 
not 100% I think.  Here is my model:
# gensky 4 2 10.00 +s -g 0.25 -a 51.7 -o -0.5 -m -0.5
# Local solar time: 9.94
# Solar altitude and azimuth: 36.2 -39.4
# Ground ambient level: 16.6

void light solar
0
0
3 6.47e+06 6.47e+06 6.47e+06

solar source sun
0
0
4 0.512417 -0.623930 0.590034 0.5

void brightfunc skyfunc
2 skybr skybright.cal
0
7 1 8.98e+00 2.24e+01 4.56e-01 0.512417 -0.623930 0.590034

skyfunc glow sky_glow
0 
0 
4 .986 .986 1.202  0
 
sky_glow source sky
0 
0 
4 0 0 1 180 
 
# define ground...
skyfunc glow ground_glow
0 
0 
4 1.276 .957 .319  0
 
ground_glow source ground
0 
0 
4 0 0 -1 180 

Which is about as simple as you can get I think ;-)

rtcontrib command as below with the following test points (in test.dat):
0 0 1 0 1 0
0 0 1 0 -1 0
0 0 1 0 -1 0
0 0 1 0 1 0

I would expect to get the same data for point one and four and for 
points two and three.  However the data for the last few points is (I've 
transposed the numbers and the data in the first column is the field 
from the rtcontrib output):
421 7.479982e-03 0.000000e+00 0.000000e+00 4.986655e-03       
422 7.479982e-03 0.000000e+00 0.000000e+00 4.986655e-03       
423 7.479982e-03 0.000000e+00 0.000000e+00 4.986655e-03       
424 0.000000e+00 2.493327e-03 2.493327e-03 0.000000e+00       
425 0.000000e+00 2.493327e-03 2.493327e-03 0.000000e+00       
426 0.000000e+00 2.493327e-03 2.493327e-03 0.000000e+00       
427 0.000000e+00 1.246664e-02 1.246664e-02 0.000000e+00       
428 0.000000e+00 1.246664e-02 1.246664e-02 0.000000e+00       
429 0.000000e+00 1.246664e-02 1.246664e-02 0.000000e+00       
430 0.000000e+00 4.986655e-03 2.493327e-03 0.000000e+00       
431 0.000000e+00 4.986655e-03 2.493327e-03 0.000000e+00       
432 0.000000e+00 4.986655e-03 2.493327e-03 0.000000e+00       
433 4.986655e-03 0.000000e+00 0.000000e+00 4.986655e-03       
434 4.986655e-03 0.000000e+00 0.000000e+00 4.986655e-03       
435 4.986655e-03 0.000000e+00 0.000000e+00 4.986655e-03       
436 2.493327e-03 0.000000e+00 2.493327e-03 2.493327e-03       
437 2.493327e-03 0.000000e+00 2.493327e-03 2.493327e-03       
438 2.493327e-03 0.000000e+00 2.493327e-03 2.493327e-03       

First of all do you get the same results?  Or am I doing something wrong.

regards,

Iain

Greg Ward wrote:

> Hi Iain,
>
> Thanks for giving rtcontrib a try.  Here are some hints for you:
>
>> From: Iain Macdonald <iain@esru.strath.ac.uk>
>> Date: September 23, 2005 6:25:22 AM PDT
>>
>> Hi all,
>>
>> I'm trying to get my head around calculating daylight coefficients  
>> with rtcontrib and then how to use them!
>>
>> My observations/questions so far:
>>
>> 1) the tregenza cal files (one is mentioned in the man page) were  
>> not automatically installed for me using the latest release on  linux 
>> (rad3R7P2all.tar.gz).
>
>
> Yes, I felt some more testing and work was needed on Tregenza.cal and  
> its associated support.   It works, but it's a bit painful to use  
> right now and I'd like to create some scripts to make it more  
> straightforward, particularly the combining of images at the end.  I  
> have done some experiments to good effect on this already, and when I  
> create a script it will install Tregenza.cal appropriately.
>
>> 2) Using the example in the man page I calculated a set of daylight  
>> coefficients:
>> rtcontrib -I+ -b tbin -o sky.dat -m sky_glow -b 0 -o ground.dat -m  
>> ground_glow -ad 10000 -as 5000 -ab 1 -f tregenza.cal test.oct <  
>> test.dat
>> This results in two files sky.dat and ground.dat
>> In ground.dat there is one set of coefficients
>> In sky.dat there are 146 sets
>> I expected 145 in the sky file.  My belief is that the first set is  
>> for solar elevations < 0deg and can be ignored (and will always be  
>> equal to zero?) - am I correct?
>
>
> Rtcontrib always writes out the earlier bin values starting from 0,  
> even if they are all zeroes.  If your sky material covers only the  
> upper hemisphere, then yes, your first bin should all be zeroes  
> indicating no contribution.  I sometimes employ a script that checks  
> for all zero values and removes such files after rtcontrib has finished.
>
>> 3) Some strange behaviour has been observed with different sets of  
>> input points.  I'm assuming that as with rtrace the input points  are 
>> given as 6 numbers representing x,y,z of the sample point and  i,j,k 
>> representing the normal.  Given this if the first point has a  normal 
>> pointing to the zenith (say 1 1 6 0 0 1) then I get 146 sets  for all 
>> points.  If the normal faces another direction I'm getting  different 
>> problems:
>> 137 sets (1 1 6 0 -1 0)
>> 139 sets (1 1 6 1 0 0)
>> rtcontrib crashes (1 1 6 0 1 0) - rtcontrib: Bad expression!  rtrace: 
>> signal - Broken pipe.
>> and strangely enough if these points & normals are given after one  
>> that works all is OK.  Something odd is going on - can anyone shed  
>> some light on this for me please?
>
>
> The different sets are due to the fact that rtcontrib outputs from  
> bin 0 to the number of bins actually read from rtrace, and this will  
> depend on the sampling pattern.  If you're only sampling the sky and  
> ground directly (no geometry to bounce light around), then you may  
> only see some of the bins.  However, I don't know why you would get a  
> "bad expression" error.  Let me give it a go here.  (Hold on...)
>
> Well, unfortunately for you, it works for me!  This could be a side- 
> effect of the bug I discovered earlier this week where rtcontrib  
> wasn't writing (or allocating) the last bin, and could be writing  
> over unallocated memory.  This has unpredictable consequences, and  
> will depend on your compiler, your machine, what else is running, the  
> weather, etc.  Make sure you're using version 1.27 or later of  
> rtcontrib.c, which you can get from CVS if you don't have it.  (See  
> my posting earlier this week.)
>
> Let me know if your problems persist.
> -Greg
>
> ---------------------
> Ice Cream Koan:  If a ice cream drops on the sidewalk, and there is  
> no one there to cry, does it melt?
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

-- 
****************************
Dr Iain A Macdonald
Energy Systems Research Unit
University of Strathclyde
Glasgow, UK
+44 141 548 3747
http://www.esru.strath.ac.uk
****************************




From gregoryjward at gmail.com  Fri Sep 30 18:27:39 2005
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Sep 30 18:28:51 2005
Subject: [Radiance-general] Calculating diffuse component in a BRTDfunc
In-Reply-To: <433D4749.5010302@iebele.nl>
References: <07fa01c5c5a7$c52e3fc0$0c01a8c0@JELLE> <433D4749.5010302@iebele.nl>
Message-ID: <DDE6AB1F-FE5D-4383-98B2-E8F2732ECBD5@gmail.com>

Hi Iebele,

You are correct that the real arguments cannot be expressions.  The  
definition of a diffuse component is one that does not change with  
angle, so there should be no need to define these parameters as  
variables.  If you have some varying portion to your BRDF, then put  
this in the directional-diffuse component, which are string arguments  
7-9 for BRTDfunc.

-Greg

P.S.  On my mailer, the first message came through better than the  
second.

> From: atelier iebele abel <atelier@iebele.nl>
> Date: September 30, 2005 7:10:17 AM PDT
>
> Hi all,
>
> I am writing a BRTD material which I want to use to change the  
> diffuse component of a surface, related to a certain direction an  
> the surface normal.
> Radiance reports: error bad arguments for BRTDfunc
> What am I doing wrong here?
>
> I get the impression that the rfdif, gfdif, bfdif, rbdif, gbdif and  
> bbdif are not variables ???
> If these are not variables, how can I change/calculate/define the  
> diffuse component in a BRTDfunc?
> See the bold lines of the example in my cal file.
>
> I appreciate any suggestions !
>
> Iebele
>
>
> <--- snip  ---->
>
>
> {
>    directional.cal
>
>    arg10 red diffuse
>    arg11 green diffuse
>    arg12 blue diffuse
>    arg13 direction x    arg14 direction y
>    arg15 direction z
> }
>
> { RGB values for the reflection  }
> valr  = arg(10);
> valg  = arg(11);
> valb  = arg(12);
> xdir = arg(13);
> ydir = arg(14);
> zdir = arg(15);
>
> { dot product direction and normal }
> DdN = (xdir*Nx)+(ydir*Ny)+(zdir*Nz);
>
> { always return a positive value }
> multi = if(DdN, DdN, -DdN) ;
>
> *reflr = CrP + (multi*valr)  ;
> reflg = CgP + (multi*valg)  ;
> reflb = CbP + (multi*valb)  ;*
>
>
> {
>    example usage:
>        void BRTDfunc LAYER114
>        10
>        0 0 0                          / reflection
>        0 0 0                          / specular
>        0 0 0                 directional.cal
>        0
>        15
>       * reflr reflg reflb              */ diffuse front*
>        reflr reflg reflb  *            / diffuse back
>        0 0 0                          / trans
>        0.8 0.7 0.6                    / color of surface
>        0.57735 0.57735 0.57735        / vector defining bright side  
> of surface
> }
>

From gregoryjward at gmail.com  Fri Sep 30 22:50:53 2005
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Sep 30 23:18:30 2005
Subject: [Radiance-general] rtcontrib & daylight coefficients
In-Reply-To: <433D6469.20401@esru.strath.ac.uk>
References: <43340242.5090500@esru.strath.ac.uk>
	<69FC71D6-0F7E-4197-AC8C-EB1F4E93133F@gmail.com>
	<433D6469.20401@esru.strath.ac.uk>
Message-ID: <CB711BD6-16B9-4F40-B806-8A034E9C958B@gmail.com>

Hi Iain,

I'm not sure what your rtcontrib command was as you didn't include it  
in your e-mail, but you can expect a degree of randomness in the  
results as you would see in any Monte Carlo calculation.  Try  
increasing -ad and decreasing the -lw value to see if you get  
convergence.

-Greg

> From: Iain Macdonald <iain@esru.strath.ac.uk>
> Date: September 30, 2005 9:14:33 AM PDT
>
> Greg,
>
> I'm now using version 1.28 of rtcontrib and its much better, but  
> still not 100% I think.  Here is my model:
> # gensky 4 2 10.00 +s -g 0.25 -a 51.7 -o -0.5 -m -0.5
> # Local solar time: 9.94
> # Solar altitude and azimuth: 36.2 -39.4
> # Ground ambient level: 16.6
>
> void light solar
> 0
> 0
> 3 6.47e+06 6.47e+06 6.47e+06
>
> solar source sun
> 0
> 0
> 4 0.512417 -0.623930 0.590034 0.5
>
> void brightfunc skyfunc
> 2 skybr skybright.cal
> 0
> 7 1 8.98e+00 2.24e+01 4.56e-01 0.512417 -0.623930 0.590034
>
> skyfunc glow sky_glow
> 0 0 4 .986 .986 1.202  0
> sky_glow source sky
> 0 0 4 0 0 1 180 # define ground...
> skyfunc glow ground_glow
> 0 0 4 1.276 .957 .319  0
> ground_glow source ground
> 0 0 4 0 0 -1 180
> Which is about as simple as you can get I think ;-)
>
> rtcontrib command as below with the following test points (in  
> test.dat):
> 0 0 1 0 1 0
> 0 0 1 0 -1 0
> 0 0 1 0 -1 0
> 0 0 1 0 1 0
>
> I would expect to get the same data for point one and four and for  
> points two and three.  However the data for the last few points is  
> (I've transposed the numbers and the data in the first column is  
> the field from the rtcontrib output):
> 421 7.479982e-03 0.000000e+00 0.000000e+00 4.986655e-03       422  
> 7.479982e-03 0.000000e+00 0.000000e+00 4.986655e-03       423  
> 7.479982e-03 0.000000e+00 0.000000e+00 4.986655e-03       424  
> 0.000000e+00 2.493327e-03 2.493327e-03 0.000000e+00       425  
> 0.000000e+00 2.493327e-03 2.493327e-03 0.000000e+00       426  
> 0.000000e+00 2.493327e-03 2.493327e-03 0.000000e+00       427  
> 0.000000e+00 1.246664e-02 1.246664e-02 0.000000e+00   428 0.000000e 
> +00 1.246664e-02 1.246664e-02 0.000000e+00       429 0.000000e+00  
> 1.246664e-02 1.246664e-02 0.000000e+00       430 0.000000e+00  
> 4.986655e-03 2.493327e-03 0.000000e+00       431 0.000000e+00  
> 4.986655e-03 2.493327e-03 0.000000e+00       432 0.000000e+00  
> 4.986655e-03 2.493327e-03 0.000000e+00       433 4.986655e-03  
> 0.000000e+00 0.000000e+00 4.986655e-03       434 4.986655e-03  
> 0.000000e+00 0.000000e+00 4.986655e-03   435 4.986655e-03 0.000000e 
> +00 0.000000e+00 4.986655e-03       436 2.493327e-03 0.000000e+00  
> 2.493327e-03 2.493327e-03       437 2.493327e-03 0.000000e+00  
> 2.493327e-03 2.493327e-03       438 2.493327e-03 0.000000e+00  
> 2.493327e-03 2.493327e-03
> First of all do you get the same results?  Or am I doing something  
> wrong.
>
> regards,
>
> Iain
>

