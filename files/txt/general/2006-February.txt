From rob.fitzsimmons at Summit.Fiserv.com  Fri Feb  3 18:50:00 2006
From: rob.fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Fri Feb  3 18:51:50 2006
Subject: [Radiance-general] rpict/rif settings
Message-ID: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5D94@corvallis>

I'm having trouble getting the correct settings for this render
http://www.geocities.com/rastermon/rpict.html

any suggestions?

Thanks
Rob F

From kthibault at biomechanicsinc.com  Fri Feb  3 19:58:25 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Feb  3 20:00:11 2006
Subject: [Radiance-general] rpict/rif settings
In-Reply-To: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5D94@corvallis>
References: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5D94@corvallis>
Message-ID: <FB5835BE-248E-479C-97F5-E1C9BBD9067F@biomechanicsinc.com>

Rob - what happens to the "problem" render when you replace the  
material that looks like transparent blue plastic with a RADIANCE  
"plastic" (opaque) material?  What material type are those blue  
buttons?  Is the rendering issue related to the way the IBL is  
handled during transmission through that specific material?

kirk


On Feb 3, 2006, at 12:50 PM, Fitzsimmons, Rob wrote:

> I'm having trouble getting the correct settings for this render
> http://www.geocities.com/rastermon/rpict.html
>
> any suggestions?
>
> Thanks
> Rob F
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From rob.fitzsimmons at Summit.Fiserv.com  Fri Feb  3 20:06:41 2006
From: rob.fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Fri Feb  3 20:08:23 2006
Subject: [Radiance-general] rpict/rif settings
Message-ID: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5D96@corvallis>

 The blue buttons are glass with an image modifer

void colorpict keymap
17 red green blue Touch_keys.hdr /usr/local/lib/ray/picture.cal pic_u pic_v
-s 368 -t -306.281 24.9518  0 -rx 90 -rz 0
0
1              0.603

keymap glass keyfront
0
0
3 .93 .94 .98

I do recall getting better results when I tried plastic, but I'm looking for
that Mac OSX gelcap look, so I want to keep them transparent.
I also tried dielectric, but that was way slow and produced a worse image

thanks

Rob
-----Original Message-----
From: Kirk Thibault
To: Radiance general discussion
Sent: 2/3/2006 10:58 AM
Subject: Re: [Radiance-general] rpict/rif settings

Rob - what happens to the "problem" render when you replace the  
material that looks like transparent blue plastic with a RADIANCE  
"plastic" (opaque) material?  What material type are those blue  
buttons?  Is the rendering issue related to the way the IBL is  
handled during transmission through that specific material?

kirk


On Feb 3, 2006, at 12:50 PM, Fitzsimmons, Rob wrote:

> I'm having trouble getting the correct settings for this render
> http://www.geocities.com/rastermon/rpict.html
>
> any suggestions?
>
> Thanks
> Rob F
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From gregoryjward at gmail.com  Fri Feb  3 20:28:33 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Feb  3 20:30:18 2006
Subject: [Radiance-general] rpict/rif settings
In-Reply-To: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5D96@corvallis>
References: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5D96@corvallis>
Message-ID: <E5555A40-370C-44A6-AB6C-254A30741952@gmail.com>

Hi Rob,

Did you try running the mksource program on your light probe?  That  
might help.

-Greg

> From: "Fitzsimmons, Rob" <rob.fitzsimmons@Summit.Fiserv.com>
> Date: February 3, 2006 11:06:41 AM PST
>
>  The blue buttons are glass with an image modifer
>
> void colorpict keymap
> 17 red green blue Touch_keys.hdr /usr/local/lib/ray/picture.cal  
> pic_u pic_v
> -s 368 -t -306.281 24.9518  0 -rx 90 -rz 0
> 0
> 1              0.603
>
> keymap glass keyfront
> 0
> 0
> 3 .93 .94 .98
>
> I do recall getting better results when I tried plastic, but I'm  
> looking for
> that Mac OSX gelcap look, so I want to keep them transparent.
> I also tried dielectric, but that was way slow and produced a worse  
> image
>
> thanks
>
> Rob
> ...

From info at aisarquitectura.com  Sat Feb  4 10:09:00 2006
From: info at aisarquitectura.com (=?iso-8859-1?Q?Ignacio_Mun=E1rriz?=)
Date: Sat Feb  4 10:11:22 2006
Subject: [Radiance-general] rpict/rif settings
References: <B8DD8375FCE2C94B9F170D9277C1FA2B8C5D94@corvallis>
Message-ID: <002601c6296a$a3d7f830$0301a8c0@aisxeon>

is it the hdr image probe a source? or is a sized object? Probably the
resolution of the ambient calculation is over the full size scene, so 1000
ar is not enought, if this is the problem you can reduce the probe or
increase the resolution, might be that the efect only appears on glass
because the ambient ray weight is less because of its transparency

ignacio

----- Original Message ----- 
From: "Fitzsimmons, Rob" <rob.fitzsimmons@Summit.Fiserv.com>
To: <Radiance-general@radiance-online.org>
Sent: Friday, February 03, 2006 6:50 PM
Subject: [Radiance-general] rpict/rif settings


> I'm having trouble getting the correct settings for this render
> http://www.geocities.com/rastermon/rpict.html
>
> any suggestions?
>
> Thanks
> Rob F
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From christian_fusenig at gmx.de  Sat Feb  4 17:44:05 2006
From: christian_fusenig at gmx.de (Christian Fusenig)
Date: Sat Feb  4 17:45:47 2006
Subject: [Radiance-general] Problems with CAD/ .dxf import
Message-ID: <43E4D9D5.4060301@gmx.de>

Hello @all,

1. Problem
I got Auto CAD 2005 files of studio equipment, like video monitors, edit 
desks etc. from a company. I want to work with them in Radiance.
The 'radout' exporter doesn't work with autocad 2005, so i got an old 
license for Autocad 2000. There the exporter works. But the 2005 files 
dont work in 2000! An exported version of .dxf files didn't work either 
in 2000.
I got a hint from an old mailing list article, to export the files from 
autocad 2005 in a .3ds format. Autocad 2000 can read this format and the 
'radout' export worked. But now i have a '.rad' file with hundreds of 
polygons and its impossible to give them the right material, because i 
don't know where they belong to. If i create one material and apply it 
to all polygons, i can see the model.
How is it possible to get different 'layers' in the file like the body 
of a monitor and the screen separately ?
I have the feeling that even a simple box is subdivided in lots of polygons.
Do i have to modify may CAD files in a special way ?

2. Problem
I tried to import a 'Poser 3D' model of a character with 'dxf2rad'. I 
followed the instruction of the 'RwR' book on p. 422, but the command :
 $ dxf2rad  -i figur.dxf -orad figur
doesn't really work. When i execute:
 $ dxf2rad   figur.dxf   figur.rad
i end up like in my first problem. I have hundreds of single polygons 
with no specific name and the same identifier.
I am a CAD and a Radiance starter but maybe someone can guide me.
Thanks,...

P.S. Thank you Greg for your last answer concerning color an units. I 
included my own display primaries now.

-- 
Christian Fusenig
Diplomand, Medientechnik
Undergraduate, Media Technology
Hamburg University Of Applied Sciences

address: Beim Schlump 27/07
              20144 Hamburg

email:    christian_fusenig@gmx.de

mobile:  ++49 179 5975845







From tbleicher at arcor.de  Sat Feb  4 20:52:27 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sat Feb  4 20:54:27 2006
Subject: [Radiance-general] Problems with CAD/ .dxf import
In-Reply-To: <43E4D9D5.4060301@gmx.de>
References: <43E4D9D5.4060301@gmx.de>
Message-ID: <926A4BC3-6621-4045-BA74-452BDBE9BEE3@arcor.de>


On 04.02.2006, at 17:44, Christian Fusenig wrote:

> Hello @all,
>
> 1. Problem
> I got Auto CAD 2005 files of studio equipment, like video monitors,
> edit desks etc. from a company. I want to work with them in Radiance.

Are they any good? Can you share them? ;)

[details about 'radout' snipped]

> But now i have a '.rad' file with hundreds of polygons and its
> impossible to give them the right material, because i don't know
> where they belong to. If i create one material and apply it to all
> polygons, i can see the model.

I don't know 'radout' but I expect it will set the modifier
("material") according to the layer of the object. If your
CAD model had only one layer your exported *.rad will have
only one material.

> How is it possible to get different 'layers' in the file
> like the body of a monitor and the screen separately ?

That's a problem of AutoCAD and your model. If you have
"color" in your model when you open it in AutoCAD you can
select elements "by color" and copy/move them to a new
layer.

> I have the feeling that even a simple box is subdivided in lots of
> polygons. Do i have to modify may CAD files in a special way ?

Polygons (most likely triangles) are the universal "currency"
of geometry interchange. You can try to export "solids" to Radiance
primitives (dxf2rad does that iirc) but this is limited to real
spheres, cylinders etc. which are rarely used in complex objects.

You could try to find "box" entities in the CAD file and generate
a "!genbox" command for it but that will ulitmately expand to six
polygons as well (quads in this case). There is little you can do
in the DXF file.

> 2. Problem
> I tried to import a 'Poser 3D' model of a character with 'dxf2rad'.
> I followed the instruction of the 'RwR' book on p. 422, but the  
> command :
>
> $ dxf2rad  -i figur.dxf -orad figur
>
> doesn't really work. When i execute:
>
> $ dxf2rad   figur.dxf   figur.rad
>
> i end up like in my first problem. I have hundreds of single polygons
> with no specific name and the same identifier.

You can find an online version of the man page for dxf2rad here:

     http://www.schorsch.com/download/dxf2rad/manual.html

Perhaps the two versions are different but according to this man
page your second command is correct (and works as you describe).
You can find examples near the end.

About the modifiers there is this section right at the start:

     Output primitives will have modifiers based on the layer of
     each entity in the form "l_<layer>". Floating layers within
     blocks are fully supported.

This means that you have to split elements in your CAD model
according to the desired material to different layers. If you
have a wooden chair with a leather cushion you have to copy all
elements ("faces", triangles, boxes, whatever) of the cushion
to a layer called "leather" and the rest to a layer called "wood".

Save only these two layers to the DXF file. Use dxf2rad on
this file and you will get a *.rad file with two modifiers
("materials"): "l_leather" and "l_wood".

The Radiance geometry file format requires a modifier for
each polygon so 'dxf2rad' has to make one up for the export.
It uses the layer name (as most would do if confronted with
DXF) as replacement for the material. You still have to
provide a valid definition for this material:

     # bright leather (hornbeam_wood actually ;)
     void plastic l_leather
     0
     0
     5 0.61 0.47 0.29 0 0

     # dark wood: elm_wood
     void plastic l_wood
     0
     0
     5 0.46 0.27 0.13 0 0


Add these lines at the top of the file and you should
have two materials in the object.

You can find some r,g,b values on this page:

http://www.learn.londonmet.ac.uk/student/resources/radiance/ 
material_db.shtml


hth,

Thomas

From christian_fusenig at gmx.de  Sun Feb  5 18:43:20 2006
From: christian_fusenig at gmx.de (Christian Fusenig)
Date: Sun Feb  5 18:45:04 2006
Subject: [Radiance-general] Re:Re: Problems with CAD/dxf Import
Message-ID: <43E63938.4040400@gmx.de>

Thank you Thomas,

i understand your suggestions and the procedure worked for an .dxf file 
i grabbed from the internet. It was a luminaire file from ERCO Lighting. 
I defined different layers and named them. The dxf2rad worked fine and i 
ended up with my desired modifiers.
But the files i got from this company didn't work! I opened them in 
Autocad 2005 and it said something that they were created with 'Pro 
Lignum 3D'. I can work with the file in Autocad but when i save it as 
.dxf then the dxf2rad converter messes it up. I get an empty file like 
that:
## Radiance geometry file "Video_Monitor.rad"
## Converted by dxf2rad 0.9: Sun Feb 05 18:33:59 2006
## C:\cygwin\opt\ray\bin\dxf2rad.exe Video_Monitor.dxf Video_Monitor.rad


## End of Radiance geometry file "Video_Monitor.rad"

I have no web space to post this .dwg  file to and i guess to send the 
file to this list is a bad idea. Maybe i can send it to you and you can 
open it and see whats wrong. I have to ask this company if i can give 
these files away but maybe we can make a deal. ;-)
Thank you so far!

Christian

-- 
Christian Fusenig
Diplomand, Medientechnik
Undergraduate, Media Technology
Hamburg University Of Applied Sciences

address: Beim Schlump 27/07
              20144 Hamburg

email:    christian_fusenig@gmx.de

mobile:  ++49 179 5975845







From rpg at rumblestrip.org  Sun Feb  5 19:36:16 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sun Feb  5 19:38:16 2006
Subject: [Radiance-general] macbethcal error
Message-ID: <43E645A0.5000600@rumblestrip.org>

Howdy.

So, I'm trying to use the macbethcal utility for the first time, and am 
getting an odd error.  The first time I tried to create a calibration 
file I got an "out of gamut" error, which I understand points to a 
poorly exposed gretag photo.  Before re-photographing everything, I 
thought maybe cropping my gretag image to the registration marks may 
help (lazy Sunday thinking).  But now, after cropping the photo and 
re-creating the pic file, I now get the following error when running 
macbethcal (macbethcal -d debug.pic mbscan.pic colorcal.cal):

macbethcal: non-increasing neutral patch

The resulting debug.pic is 59 bytes and is useless.  Two questions: how 
can I get a better image to avoid the out of gamut error, and what 
caused the error above?  I was using northern skylight on a fairly 
cloudless day for my lighting, and f2.0 1/125 for all exposures.

From gregoryjward at gmail.com  Sun Feb  5 19:50:09 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sun Feb  5 19:51:56 2006
Subject: [Radiance-general] macbethcal error
In-Reply-To: <43E645A0.5000600@rumblestrip.org>
References: <43E645A0.5000600@rumblestrip.org>
Message-ID: <CA5791FE-17E8-4F31-8C0E-C354D44FAD3C@gmail.com>

Hi Rob,

I suspect that the corners of your image are not specified in the  
proper coordinates, or are not the right corners -- assuming you used  
the -p option to macbethcal.  Remember that the y-coordinate from  
Photosphere is reversed from that produced by ximage, which is what  
macbethcal expects...

-Greg

P.S.  If you're still stuck, send me your image and I'll see what I  
can do with it.

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: February 5, 2006 10:36:16 AM PST
>
> Howdy.
>
> So, I'm trying to use the macbethcal utility for the first time,  
> and am getting an odd error.  The first time I tried to create a  
> calibration file I got an "out of gamut" error, which I understand  
> points to a poorly exposed gretag photo.  Before re-photographing  
> everything, I thought maybe cropping my gretag image to the  
> registration marks may help (lazy Sunday thinking).  But now, after  
> cropping the photo and re-creating the pic file, I now get the  
> following error when running macbethcal (macbethcal -d debug.pic  
> mbscan.pic colorcal.cal):
>
> macbethcal: non-increasing neutral patch
>
> The resulting debug.pic is 59 bytes and is useless.  Two questions:  
> how can I get a better image to avoid the out of gamut error, and  
> what caused the error above?  I was using northern skylight on a  
> fairly cloudless day for my lighting, and f2.0 1/125 for all  
> exposures.
>

From tbleicher at arcor.de  Sun Feb  5 20:10:26 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sun Feb  5 20:12:05 2006
Subject: [Radiance-general] Re:Re: Problems with CAD/dxf Import
In-Reply-To: <43E63938.4040400@gmx.de>
References: <43E63938.4040400@gmx.de>
Message-ID: <4B6C365F-B755-47EC-B56F-19A2DDC3FE7D@arcor.de>


On 05.02.2006, at 18:43, Christian Fusenig wrote:

> Thank you Thomas,
>
> i understand your suggestions and the procedure worked for an .dxf  
> file i grabbed from the internet. It was a luminaire file from ERCO  
> Lighting. I defined different layers and named them. The dxf2rad  
> worked fine and i ended up with my desired modifiers.
> But the files i got from this company didn't work! I opened them in  
> Autocad 2005 and it said something that they were created with 'Pro  
> Lignum 3D'. I can work with the file in Autocad but when i save it  
> as .dxf then the dxf2rad converter messes it up. I get an empty  
> file like that:
> ## Radiance geometry file "Video_Monitor.rad"
> ## Converted by dxf2rad 0.9: Sun Feb 05 18:33:59 2006
> ## C:\cygwin\opt\ray\bin\dxf2rad.exe Video_Monitor.dxf  
> Video_Monitor.rad
>
>
> ## End of Radiance geometry file "Video_Monitor.rad"

I had a quick look at the ProLignum product description and it
seems to be a highly parametrical software. To store this type of
information in a DXF file you have to use other data types than
simple geometry primitives. Unfortunately you can store information
in a DXF file that not every DXF reader (or even an older AutoCAD
version) can understand. I believe ProLignum makes heavy use of
that and dxf2rad can't find anything it could use.

You should ask the producer (http://www.kiwisoft.de/) about the
best way to get polygon data from their files. They may have a
converter or can tell you what to do in AutoCAD about this problem.

> I have no web space to post this .dwg  file to and i guess to send  
> the file to this list is a bad idea. Maybe i can send it to you and  
> you can open it and see whats wrong. I have to ask this company if  
> i can give these files away but maybe we can make a deal. ;-)

Hold it! I don't even have a version of AutoCAD around. I only
have IntelliCad on my system which does not work with ARX
applications (ProLignum is one). So I may not even be able to
open your files.

Thomas



From rpg at rumblestrip.org  Mon Feb  6 01:32:27 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Feb  6 01:34:20 2006
Subject: [Radiance-general] macbethcal error
In-Reply-To: <CA5791FE-17E8-4F31-8C0E-C354D44FAD3C@gmail.com>
References: <43E645A0.5000600@rumblestrip.org>
	<CA5791FE-17E8-4F31-8C0E-C354D44FAD3C@gmail.com>
Message-ID: <43E6991B.2050006@rumblestrip.org>

Gregory J. Ward wrote:

> Hi Rob,
>
> I suspect that the corners of your image are not specified in the  
> proper coordinates, or are not the right corners -- assuming you used  
> the -p option to macbethcal.  Remember that the y-coordinate from  
> Photosphere is reversed from that produced by ximage, which is what  
> macbethcal expects...
>
> -Greg
>
> P.S.  If you're still stuck, send me your image and I'll see what I  
> can do with it.


Hey Greg, I think I got it.  Thanks.  I think it was cropped too 
closely, is all.  I ended up re-shooting the whole thing (a few times), 
anyway.  I'd send or post a copy of the new debug image, but I'm having 
a problem with my internet connection here at home, and can't send any 
large files at the moment.  =8-/ 

I was getting a lot of patches out of gamut with my northern light 
images, so I did it again under direct sun, and only had two patches 
with the diagonal lines on them which I guess is good. (?)  The 
greyscale sequence at the bottom row was perfect, but the colors were 
less so.  Maybe this is a white balance issue?  I fixed it at 
"sunlight", but I'd like to do some more tests when I have sun at my 
disposal again. 

Interestingly, I got some variation on some paint color swatches that 
were photographed twice with two different backgrounds.  I have two 
different materials (sofa cushions) that I wanted to sample, onto which 
I taped three paint color swatches that I also wanted to sample.  I 
photographed each cushion with the same three swatches taped on, ran 
them through pomb with my .cal file generated with macbethcal, but the 
rgb values (plucked from ximage) for the three swatches differ somewhat:

sample1
======
greenish background: .56 .52 .38
brownesque background: .58 .55 .41

sample2
======
greenish background: .35 .30 .22
brownesque background: .47 .41 .29

sample3
======
greenish background: .41 .35 .25
brownesque background: .38 .32 .24

sample2 shows the most variation, but truthfully I'm not sure what's an 
acceptable range here.  sample1 and sample3 have very similar rgb values 
in both images, which gives me a warm fuzzy feeling about the whole 
process.  But sample2 seems pretty variate.  Is this as good as I should 
hope for, or is my technique off here?  These samples were photographed 
within seconds of each other, under direct (Colorado!) sun, so I think 
the lighting is pretty consistent. 

- Rob Guglielmetti

From gregoryjward at gmail.com  Mon Feb  6 02:04:36 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Feb  6 02:06:18 2006
Subject: [Radiance-general] macbethcal error
In-Reply-To: <43E6991B.2050006@rumblestrip.org>
References: <43E645A0.5000600@rumblestrip.org>
	<CA5791FE-17E8-4F31-8C0E-C354D44FAD3C@gmail.com>
	<43E6991B.2050006@rumblestrip.org>
Message-ID: <A5D96CB0-502B-4B33-838A-2184A634DA54@gmail.com>

Hi Rob,

Glad you got it working.  My experience with macbethcal is that the  
simple linearization plus 3x3 matrix transform employed works well  
with common scanners, but less so with digital cameras, who seem to  
use more exotic color mappings (probably 3-D lookup tables).  My  
efforts to make a more general tool based on lookup tables didn't go  
so well, so I tabled it (haha).

My best advice is to shoot in RAW mode if you want precise color.   
There is much less to go wrong, as dcraw.c and Photoshop use a simple  
color matrix transform to go from the sensor space to sRGB, and  
produce fairly consistent colors in my tests.  I know I said a lot of  
disparaging things about RAW, and I still don't care for it as a  
general concept, but unfortunately the camera manufacturers don't  
provide any other reasonable path for accurate color at the moment.   
They're much more focused on getting the consumer "preferred" look.   
(That will be my next rant.)  I've also found RAW to be a good path  
to absolute luminance values, but only for some cameras.

-Greg

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: February 5, 2006 4:32:27 PM PST
>
> Hey Greg, I think I got it.  Thanks.  I think it was cropped too  
> closely, is all.  I ended up re-shooting the whole thing (a few  
> times), anyway.  I'd send or post a copy of the new debug image,  
> but I'm having a problem with my internet connection here at home,  
> and can't send any large files at the moment.  =8-/
> I was getting a lot of patches out of gamut with my northern light  
> images, so I did it again under direct sun, and only had two  
> patches with the diagonal lines on them which I guess is good. (?)   
> The greyscale sequence at the bottom row was perfect, but the  
> colors were less so.  Maybe this is a white balance issue?  I fixed  
> it at "sunlight", but I'd like to do some more tests when I have  
> sun at my disposal again.
> Interestingly, I got some variation on some paint color swatches  
> that were photographed twice with two different backgrounds.  I  
> have two different materials (sofa cushions) that I wanted to  
> sample, onto which I taped three paint color swatches that I also  
> wanted to sample.  I photographed each cushion with the same three  
> swatches taped on, ran them through pomb with my .cal file  
> generated with macbethcal, but the rgb values (plucked from ximage)  
> for the three swatches differ somewhat:
>
> sample1
> ======
> greenish background: .56 .52 .38
> brownesque background: .58 .55 .41
>
> sample2
> ======
> greenish background: .35 .30 .22
> brownesque background: .47 .41 .29
>
> sample3
> ======
> greenish background: .41 .35 .25
> brownesque background: .38 .32 .24
>
> sample2 shows the most variation, but truthfully I'm not sure  
> what's an acceptable range here.  sample1 and sample3 have very  
> similar rgb values in both images, which gives me a warm fuzzy  
> feeling about the whole process.  But sample2 seems pretty  
> variate.  Is this as good as I should hope for, or is my technique  
> off here?  These samples were photographed within seconds of each  
> other, under direct (Colorado!) sun, so I think the lighting is  
> pretty consistent.
> - Rob Guglielmetti

From rpg at rumblestrip.org  Mon Feb  6 06:07:57 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Feb  6 06:09:44 2006
Subject: [Radiance-general] macbethcal error
In-Reply-To: <A5D96CB0-502B-4B33-838A-2184A634DA54@gmail.com>
References: <43E645A0.5000600@rumblestrip.org>	<CA5791FE-17E8-4F31-8C0E-C354D44FAD3C@gmail.com>	<43E6991B.2050006@rumblestrip.org>
	<A5D96CB0-502B-4B33-838A-2184A634DA54@gmail.com>
Message-ID: <43E6D9AD.2010506@rumblestrip.org>

Greg Ward wrote:

> My best advice is to shoot in RAW mode if you want precise color.   
> There is much less to go wrong, as dcraw.c and Photoshop use a simple  
> color matrix transform to go from the sensor space to sRGB, and  
> produce fairly consistent colors in my tests.  I know I said a lot of  
> disparaging things about RAW, and I still don't care for it as a  
> general concept, but unfortunately the camera manufacturers don't  
> provide any other reasonable path for accurate color at the moment.   

But it's an awesome argument for me to get a new camera, since mine 
doesn't do RAW.  =8-)

Thanks for the feedback, Greg.

From grobe at gmx.net  Mon Feb  6 12:11:20 2006
From: grobe at gmx.net (Lars Grobe)
Date: Mon Feb  6 12:13:00 2006
Subject: [Radiance-general] makeall script (HEAD) on Debian 3.1
Message-ID: <8504.1139224280@www019.gmx.net>

Hi,

a friend of mine just got an error during installation of Radiance HEAD
(from something around 30 of january):
--
makeall: line 49: syntax error near unexpected token `newline'
makeall: line 49: `set idir=$<'
--

Compiled executables don't get copied to the destination path.

Has makeall been changed recently? I can't check myself, don't have access
to a Linux box at the moment.

TIA+CU Lars.

From a.jacobs at londonmet.ac.uk  Mon Feb  6 16:25:42 2006
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Mon Feb  6 16:27:52 2006
Subject: [Radiance-general] Download site for evalglare,
	photon-mapping and gendaylit
In-Reply-To: <43D64E60.6070209@ise.fraunhofer.de>
References: <abf027be9b655a561826257faf0e0b14@gmx.net>
	<43D64E60.6070209@ise.fraunhofer.de>
Message-ID: <10192.213.58.97.174.1139239542.squirrel@webmail1.londonmet.ac.uk>

Hi Jan, Christoph,

> we are actually restructuring out Web-pages and we managed to put some
> RADIANCE tools on a page for download.
> Unfortunately the English version of the new site will be launched only
> 1-2 months from now.
> In the meanwhile you can easily find and download there
>
>     1. evalglare: A new tool for detecting glare sources and calculating
> glare indices, especially the new DGP (daylight glare probability)
>     2. Photon-mapping, version 4.3: This version is for the RADIANCE 3.7P2
>     3. gendaylit: Perez sky model

> http://www.ise.fhg.de/german/fields/field6/mb4/radiance_index.html

I was wondering if you guys are working on a new release of DaySim that
fixes some of the LINUX problems:
- only Java 1.4.1, not 1.5
- rtrace_dc doesn't compile
- dangerous permissions of all installed files
- ...

Just can't get it to work...

There is a 2.1 out for Windows, but not for LINUX.

Axel



From Christoph.Reinhart at nrc-cnrc.gc.ca  Mon Feb  6 16:37:17 2006
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Mon Feb  6 16:39:01 2006
Subject: [Radiance-general] Download site for evalglare,
	photon-mapping and gendaylit
Message-ID: <5910A0754536EA4AAD411AE8221C396201423EF5@nrccenexb1.nrc.ca>

Dear Alex,

I am resending to the group since this might be of wider interest.

A new Daysim version will be out within the next two weeks that should
equally work under Windows and Linux. We had a really inspiring 3 day
workshop on Ecotect/Radiance/Daysim at MIT last week, and I learnt from
over 30 individuals first-hand what can go wrong during a Daysim
installation. I have put in some more tests to make sure that the new
release will install properly. During the workshop, we used a beta
version of Ecotect ver5.5 that Andrew Marsh kindly provided for workshop
participants. I can assure all of you that Andrew did a splendid job
with the new interface. The new Ecotect release should help to
considerably widen the Radiance community. He put in a direct export
into Daysim so that it becomes easier to use as well.

Christoph

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Axel
Jacobs
Sent: Monday, February 06, 2006 10:26 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] Download site for
evalglare,photon-mapping and gendaylit

Hi Jan, Christoph,

> we are actually restructuring out Web-pages and we managed to put some

> RADIANCE tools on a page for download.
> Unfortunately the English version of the new site will be launched 
> only
> 1-2 months from now.
> In the meanwhile you can easily find and download there
>
>     1. evalglare: A new tool for detecting glare sources and 
> calculating glare indices, especially the new DGP (daylight glare
probability)
>     2. Photon-mapping, version 4.3: This version is for the RADIANCE
3.7P2
>     3. gendaylit: Perez sky model

> http://www.ise.fhg.de/german/fields/field6/mb4/radiance_index.html

I was wondering if you guys are working on a new release of DaySim that
fixes some of the LINUX problems:
- only Java 1.4.1, not 1.5
- rtrace_dc doesn't compile
- dangerous permissions of all installed files
- ...

Just can't get it to work...

There is a 2.1 out for Windows, but not for LINUX.

Axel



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From gregoryjward at gmail.com  Mon Feb  6 16:40:12 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Feb  6 16:42:01 2006
Subject: [Radiance-general] makeall script (HEAD) on Debian 3.1
In-Reply-To: <8504.1139224280@www019.gmx.net>
References: <8504.1139224280@www019.gmx.net>
Message-ID: <E19AF6B3-F8C2-4ED7-8904-F62513F266A0@gmail.com>

Hi Lars,

Nothing has changed in makeall, recently.  Are you sure your C-shell  
(or equivalent) is OK.  This is normal syntax for reading a line from  
the terminal in csh.  Still works on OS X.

-Greg

> From: "Lars Grobe" <grobe@gmx.net>
> Date: February 6, 2006 3:11:20 AM PST
>
> Hi,
>
> a friend of mine just got an error during installation of Radiance  
> HEAD
> (from something around 30 of january):
> --
> makeall: line 49: syntax error near unexpected token `newline'
> makeall: line 49: `set idir=$<'
> --
>
> Compiled executables don't get copied to the destination path.
>
> Has makeall been changed recently? I can't check myself, don't have  
> access
> to a Linux box at the moment.
>
> TIA+CU Lars.
>

From a.jacobs at londonmet.ac.uk  Mon Feb  6 16:50:18 2006
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Mon Feb  6 16:52:22 2006
Subject: [Radiance-general] Download site for evalglare,
	photon-mapping and gendaylit
In-Reply-To: <5910A0754536EA4AAD411AE8221C396201423EF5@nrccenexb1.nrc.ca>
References: <5910A0754536EA4AAD411AE8221C396201423EF5@nrccenexb1.nrc.ca>
Message-ID: <10105.213.58.97.174.1139241018.squirrel@webmail1.londonmet.ac.uk>

Chris,

that's wonderful news. I am very much looking forward to it!

> A new Daysim version will be out within the next two weeks that should
> equally work under Windows and Linux.

Axel



From jedev at visarc.com  Mon Feb  6 17:49:29 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Feb  6 17:51:15 2006
Subject: [Radiance-general] gloss specifications to roughness/specularity
Message-ID: <43E77E19.5040802@visarc.com>

Hi All,

I am curious if there is a way to estimate material 
roughness/specularity based on gloss specifications. PPG provides a 
gloss range for its factory applied metal coatings (such as DURANAR). 
The way they indicate this is as a range at a given measurement angle, 
for example:

    25% to 35%  at 60 degrees

This is according to the ASTM-D523 - Specular Gloss.

Is there some way to make this meaningful as a part of a radiance 
material specification?

Thanks,

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060206/94239d00/attachment.htm
From gregoryjward at gmail.com  Tue Feb  7 06:58:58 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue Feb  7 07:00:45 2006
Subject: [Radiance-general] gloss specifications to roughness/specularity
In-Reply-To: <43E77E19.5040802@visarc.com>
References: <43E77E19.5040802@visarc.com>
Message-ID: <0B5A0827-FB8C-4386-9471-C2B17E349162@gmail.com>

Hi Jack,

I know of no way to take standard gloss measurements and convert them  
into something that is physically meaningful, since they combine  
specularity with roughness to obtain a single value at a specific angle.

-Greg

> From: Jack de Valpine <jedev@visarc.com>
> Date: February 6, 2006 8:49:29 AM PST
>
> Hi All,
>
> I am curious if there is a way to estimate material roughness/ 
> specularity based on gloss specifications. PPG provides a gloss  
> range for its factory applied metal coatings (such as DURANAR). The  
> way they indicate this is as a range at a given measurement angle,  
> for example:
> 25% to 35%  at 60 degrees
> This is according to the ASTM-D523 - Specular Gloss.
>
> Is there some way to make this meaningful as a part of a radiance  
> material specification?
>
> Thanks,
>
> -Jack

From maino at psu.edu  Tue Feb  7 15:05:40 2006
From: maino at psu.edu (J. David Maino)
Date: Tue Feb  7 15:07:30 2006
Subject: [Radiance-general] rtcontrib scripts
Message-ID: <43E8A934.8080302@psu.edu>

Hi all,

Recently I've been playing around with rtcontrib for use on my thesis 
and have been developing (or trying to rather) some scripts to make data 
handling a bit easier. The problem is that my knowledge of shell 
scripting is rather limited, and the only other programming language I 
know fairly well (perl) is not wanting to cooperate. I'm trying to 
automate the process of multiplying the luminance values of the sky 
patches to the corresponding RGB values that rtcontrib puts out so that 
I can get illuminance data for a whole slew of sky conditions. Does 
anyone know of any scripts out there that might do this, or what 
programming language might be best suited to dealing with very large 
files (I have a lot of illuminance points)? Any help you could offer 
would be greatly appreciated!

Thanks,

Dave



From jedev at visarc.com  Tue Feb  7 16:31:25 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Feb  7 16:33:13 2006
Subject: [Radiance-general] rtcontrib scripts
In-Reply-To: <43E8A934.8080302@psu.edu>
References: <43E8A934.8080302@psu.edu>
Message-ID: <43E8BD4D.2090707@visarc.com>

Hi Dave,

What kinds of problems are you having with Perl? You should be able to 
do most anything you want with Perl. The main problem area can be if you 
are feeding data to into and/or out of radiance programs and end up with 
buffering problems. For example I only recently learned that there is a 
'-u' switch for rcalc which causes output to be flushed after each 
record. This came in real handy for a perl program that uses open2 to 
both write to and read from an rcalc process.

-Jack

PS, as others on this list know I am a pretty strong advocate of Perl. 
However, there is also a strong group who use Python for Radiance 
related scripting. Of course Greg is all about shell.... Nevertheless, 
as you indicate fairly good knowledge of Perl this might still be the 
best place to try to get things working....

J. David Maino wrote:
> Hi all,
>
> Recently I've been playing around with rtcontrib for use on my thesis 
> and have been developing (or trying to rather) some scripts to make 
> data handling a bit easier. The problem is that my knowledge of shell 
> scripting is rather limited, and the only other programming language I 
> know fairly well (perl) is not wanting to cooperate. I'm trying to 
> automate the process of multiplying the luminance values of the sky 
> patches to the corresponding RGB values that rtcontrib puts out so 
> that I can get illuminance data for a whole slew of sky conditions. 
> Does anyone know of any scripts out there that might do this, or what 
> programming language might be best suited to dealing with very large 
> files (I have a lot of illuminance points)? Any help you could offer 
> would be greatly appreciated!
>
> Thanks,
>
> Dave
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From jedev at visarc.com  Tue Feb  7 17:24:24 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Feb  7 17:26:09 2006
Subject: [Radiance-general] gloss specifications to roughness/specularity
In-Reply-To: <0B5A0827-FB8C-4386-9471-C2B17E349162@gmail.com>
References: <43E77E19.5040802@visarc.com>
	<0B5A0827-FB8C-4386-9471-C2B17E349162@gmail.com>
Message-ID: <43E8C9B8.2050108@visarc.com>

Hi Greg,

Well I was pretty sure it was wishful thinking. I guess I had been 
hoping that with some understanding of the gloss appearance metric there 
might be a way back into at least some meaningful ballpark for roughness 
and specularity.

Ok, well on a related note, other than a full BRTD what would be the 
best way to simulate a so-called metalic paint, that is a paint that 
includes metal flakes...? Is this still best qualified as a plastic or 
should it in fact be a metal?

-Jack

Gregory J. Ward wrote:
> Hi Jack,
>
> I know of no way to take standard gloss measurements and convert them 
> into something that is physically meaningful, since they combine 
> specularity with roughness to obtain a single value at a specific angle.
>
> -Greg
>
>> From: Jack de Valpine <jedev@visarc.com>
>> Date: February 6, 2006 8:49:29 AM PST
>>
>> Hi All,
>>
>> I am curious if there is a way to estimate material 
>> roughness/specularity based on gloss specifications. PPG provides a 
>> gloss range for its factory applied metal coatings (such as DURANAR). 
>> The way they indicate this is as a range at a given measurement 
>> angle, for example:
>> 25% to 35%  at 60 degrees
>> This is according to the ASTM-D523 - Specular Gloss.
>>
>> Is there some way to make this meaningful as a part of a radiance 
>> material specification?
>>
>> Thanks,
>>
>> -Jack
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From Matt.Franks at arup.com  Tue Feb  7 17:39:14 2006
From: Matt.Franks at arup.com (Matt Franks)
Date: Tue Feb  7 17:39:38 2006
Subject: [Radiance-general] gloss specifications to roughness/specularity
Message-ID: <EB124710ADB8554C930FADF760BB2BE707F7FE@n-yexc01.global.arup.com>

Jack-

There is a paper in the SIGGRAPH 2000 proceedings called "Towards a
Psychophisically-Based Light Reflection Model for Image Synthesis" by
Pellacini, Ferwerda, and Greenberg that looks at using visually
evaluated measurements to formulate a model for gloss.

They relate their visually measured parameters to the phyically based
parameters used in Radiance.  I'm not sure how it relates to other gloss
parameters or how it would actually work if you tried to use it (I
haven't), but it might be worth a look.

Let me know if you can't get hold of the paper...

-Matt
 

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
de Valpine
Sent: Tuesday, February 07, 2006 11:24 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] gloss specifications to
roughness/specularity

Hi Greg,

Well I was pretty sure it was wishful thinking. I guess I had been
hoping that with some understanding of the gloss appearance metric there
might be a way back into at least some meaningful ballpark for roughness
and specularity.

Ok, well on a related note, other than a full BRTD what would be the
best way to simulate a so-called metalic paint, that is a paint that
includes metal flakes...? Is this still best qualified as a plastic or
should it in fact be a metal?

-Jack

Gregory J. Ward wrote:
> Hi Jack,
>
> I know of no way to take standard gloss measurements and convert them 
> into something that is physically meaningful, since they combine 
> specularity with roughness to obtain a single value at a specific
angle.
>
> -Greg
>
>> From: Jack de Valpine <jedev@visarc.com>
>> Date: February 6, 2006 8:49:29 AM PST
>>
>> Hi All,
>>
>> I am curious if there is a way to estimate material 
>> roughness/specularity based on gloss specifications. PPG provides a 
>> gloss range for its factory applied metal coatings (such as DURANAR).
>> The way they indicate this is as a range at a given measurement 
>> angle, for example:
>> 25% to 35%  at 60 degrees
>> This is according to the ASTM-D523 - Specular Gloss.
>>
>> Is there some way to make this meaningful as a part of a radiance 
>> material specification?
>>
>> Thanks,
>>
>> -Jack
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

--
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From MMoeck at engr.psu.edu  Tue Feb  7 17:45:46 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Tue Feb  7 17:50:30 2006
Subject: [Radiance-general] gloss specifications to roughness/specularity
References: <EB124710ADB8554C930FADF760BB2BE707F7FE@n-yexc01.global.arup.com>
Message-ID: <E9E41D929954D54F8457D9E5DA5DBDD1265EEA@ENGRMAIL4.engr.psu.edu>

Gloss measurement is described in 
 
http://www.farbmessung.com/html/glanzmessung.html
 
See also
http://www.farbmessung.com/assets/applets/WhitenessFormulas.pdf
 
there are some German glossmeters available, especially for car lacquers.
 
Martin

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Matt Franks
Sent: Tue 2/7/2006 11:39 AM
To: Radiance general discussion
Subject: RE: [Radiance-general] gloss specifications to roughness/specularity



Jack-

There is a paper in the SIGGRAPH 2000 proceedings called "Towards a
Psychophisically-Based Light Reflection Model for Image Synthesis" by
Pellacini, Ferwerda, and Greenberg that looks at using visually
evaluated measurements to formulate a model for gloss.

They relate their visually measured parameters to the phyically based
parameters used in Radiance.  I'm not sure how it relates to other gloss
parameters or how it would actually work if you tried to use it (I
haven't), but it might be worth a look.

Let me know if you can't get hold of the paper...

-Matt


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
de Valpine
Sent: Tuesday, February 07, 2006 11:24 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] gloss specifications to
roughness/specularity

Hi Greg,

Well I was pretty sure it was wishful thinking. I guess I had been
hoping that with some understanding of the gloss appearance metric there
might be a way back into at least some meaningful ballpark for roughness
and specularity.

Ok, well on a related note, other than a full BRTD what would be the
best way to simulate a so-called metalic paint, that is a paint that
includes metal flakes...? Is this still best qualified as a plastic or
should it in fact be a metal?

-Jack

Gregory J. Ward wrote:
> Hi Jack,
>
> I know of no way to take standard gloss measurements and convert them
> into something that is physically meaningful, since they combine
> specularity with roughness to obtain a single value at a specific
angle.
>
> -Greg
>
>> From: Jack de Valpine <jedev@visarc.com>
>> Date: February 6, 2006 8:49:29 AM PST
>>
>> Hi All,
>>
>> I am curious if there is a way to estimate material
>> roughness/specularity based on gloss specifications. PPG provides a
>> gloss range for its factory applied metal coatings (such as DURANAR).
>> The way they indicate this is as a range at a given measurement
>> angle, for example:
>> 25% to 35%  at 60 degrees
>> This is according to the ASTM-D523 - Specular Gloss.
>>
>> Is there some way to make this meaningful as a part of a radiance
>> material specification?
>>
>> Thanks,
>>
>> -Jack
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

--
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 7373 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060207/ce6a447a/attachment-0001.bin
From jedev at visarc.com  Tue Feb  7 17:58:52 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Feb  7 18:00:35 2006
Subject: [Radiance-general] gloss specifications to roughness/specularity
In-Reply-To: <EB124710ADB8554C930FADF760BB2BE707F7FE@n-yexc01.global.arup.com>
References: <EB124710ADB8554C930FADF760BB2BE707F7FE@n-yexc01.global.arup.com>
Message-ID: <43E8D1CC.2090605@visarc.com>

Hi Matt,

Thanks for the reference. I was able to get a copy from the 
graphics.cornell.edu website.

I will take a look and see what I can make of it.

-Jack

Matt Franks wrote:
> Jack-
>
> There is a paper in the SIGGRAPH 2000 proceedings called "Towards a
> Psychophisically-Based Light Reflection Model for Image Synthesis" by
> Pellacini, Ferwerda, and Greenberg that looks at using visually
> evaluated measurements to formulate a model for gloss.
>
> They relate their visually measured parameters to the phyically based
> parameters used in Radiance.  I'm not sure how it relates to other gloss
> parameters or how it would actually work if you tried to use it (I
> haven't), but it might be worth a look.
>
> Let me know if you can't get hold of the paper...
>
> -Matt
>  
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
> de Valpine
> Sent: Tuesday, February 07, 2006 11:24 AM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] gloss specifications to
> roughness/specularity
>
> Hi Greg,
>
> Well I was pretty sure it was wishful thinking. I guess I had been
> hoping that with some understanding of the gloss appearance metric there
> might be a way back into at least some meaningful ballpark for roughness
> and specularity.
>
> Ok, well on a related note, other than a full BRTD what would be the
> best way to simulate a so-called metalic paint, that is a paint that
> includes metal flakes...? Is this still best qualified as a plastic or
> should it in fact be a metal?
>
> -Jack
>
> Gregory J. Ward wrote:
>   
>> Hi Jack,
>>
>> I know of no way to take standard gloss measurements and convert them 
>> into something that is physically meaningful, since they combine 
>> specularity with roughness to obtain a single value at a specific
>>     
> angle.
>   
>> -Greg
>>
>>     
>>> From: Jack de Valpine <jedev@visarc.com>
>>> Date: February 6, 2006 8:49:29 AM PST
>>>
>>> Hi All,
>>>
>>> I am curious if there is a way to estimate material 
>>> roughness/specularity based on gloss specifications. PPG provides a 
>>> gloss range for its factory applied metal coatings (such as DURANAR).
>>> The way they indicate this is as a range at a given measurement 
>>> angle, for example:
>>> 25% to 35%  at 60 degrees
>>> This is according to the ASTM-D523 - Specular Gloss.
>>>
>>> Is there some way to make this meaningful as a part of a radiance 
>>> material specification?
>>>
>>> Thanks,
>>>
>>> -Jack
>>>       
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>     
>
> --
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060207/167b5935/attachment.htm
From maino at psu.edu  Tue Feb  7 18:40:05 2006
From: maino at psu.edu (J. David Maino)
Date: Tue Feb  7 18:41:57 2006
Subject: [Radiance-general] rtcontrib scripts
In-Reply-To: <43E8BD4D.2090707@visarc.com>
References: <43E8A934.8080302@psu.edu> <43E8BD4D.2090707@visarc.com>
Message-ID: <43E8DB75.3070001@psu.edu>

Jack,

Actually, my knowledge of Perl is also rather limited, at least as far 
as anything too complex goes, but file manipulations I can do just fine. 
Mainly what I'm trying to do is just take a simple text file that 
rtcontrib spits out and then manipulate that data. I'm not sure if I'm 
just not parsing the data correctly or if the file is just too large and 
my computer is dying trying to run my inefficient algorithms, but Perl 
seems to be failing me for the moment. I'm sure there are faster/easier 
ways to do this than what I'm currently trying, but for now I'm kinda 
just sticking to what I know how to do. Perhaps I will try Python 
though. Can anyone direct me to any good books about programming with 
Python? Also, I will have to look into trying to directly interface with 
rcalc as this sounds much easier and much more efficient than all the 
intermediate steps I'm taking.

Thanks,

Dave

Jack de Valpine wrote:
> Hi Dave,
>
> What kinds of problems are you having with Perl? You should be able to 
> do most anything you want with Perl. The main problem area can be if 
> you are feeding data to into and/or out of radiance programs and end 
> up with buffering problems. For example I only recently learned that 
> there is a '-u' switch for rcalc which causes output to be flushed 
> after each record. This came in real handy for a perl program that 
> uses open2 to both write to and read from an rcalc process.
>
> -Jack
>
> PS, as others on this list know I am a pretty strong advocate of Perl. 
> However, there is also a strong group who use Python for Radiance 
> related scripting. Of course Greg is all about shell.... Nevertheless, 
> as you indicate fairly good knowledge of Perl this might still be the 
> best place to try to get things working....
>
> J. David Maino wrote:
>> Hi all,
>>
>> Recently I've been playing around with rtcontrib for use on my thesis 
>> and have been developing (or trying to rather) some scripts to make 
>> data handling a bit easier. The problem is that my knowledge of shell 
>> scripting is rather limited, and the only other programming language 
>> I know fairly well (perl) is not wanting to cooperate. I'm trying to 
>> automate the process of multiplying the luminance values of the sky 
>> patches to the corresponding RGB values that rtcontrib puts out so 
>> that I can get illuminance data for a whole slew of sky conditions. 
>> Does anyone know of any scripts out there that might do this, or what 
>> programming language might be best suited to dealing with very large 
>> files (I have a lot of illuminance points)? Any help you could offer 
>> would be greatly appreciated!
>>
>> Thanks,
>>
>> Dave
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>

From gregoryjward at gmail.com  Tue Feb  7 18:46:21 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue Feb  7 18:48:06 2006
Subject: [Radiance-general] gloss specifications to roughness/specularity
In-Reply-To: <43E8D1CC.2090605@visarc.com>
References: <EB124710ADB8554C930FADF760BB2BE707F7FE@n-yexc01.global.arup.com>
	<43E8D1CC.2090605@visarc.com>
Message-ID: <5DC351BC-B80D-4B92-912B-FD26DAE9925E@gmail.com>

Hi Jack,

I don't want to discourage you from reading this paper, because it's  
really nice, but I don't think it will help in getting meaningful  
values from gloss measurements.  I almost mentioned it myself in my  
reply, but was too rushed to go look up the reference.

As for material type, you are better off using "metal" if the  
metallic paint has a strong color to it, as they usually do.  If you  
want to see the clear coat as well, you can try a mixfunc between  
metal and plastic.

-Greg

> From: Jack de Valpine <jedev@visarc.com>
> Date: February 7, 2006 8:58:52 AM PST
>
> Hi Matt,
>
> Thanks for the reference. I was able to get a copy from the  
> graphics.cornell.edu website.
>
> I will take a look and see what I can make of it.
>
> -Jack

From jedev at visarc.com  Tue Feb  7 18:58:21 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Feb  7 19:00:06 2006
Subject: [Radiance-general] rtcontrib scripts
In-Reply-To: <43E8DB75.3070001@psu.edu>
References: <43E8A934.8080302@psu.edu> <43E8BD4D.2090707@visarc.com>
	<43E8DB75.3070001@psu.edu>
Message-ID: <43E8DFBD.3010706@visarc.com>

Hi David,

I can think of a few things to consider:

   1. first off rather than using a big/huge data file to test your
      script, it would be much better to use a very small data set (10
      lines of data perhaps) that you can use to check that your script
      is working
   2. I am not sure that switching scripting languages is necessarily
      the best thing to do as this just means there is more to
      learn/control. Note though that the O'Reilly books on Perl and
      other languages are really good.
   3. perhaps there is a way to do what you want more simply (eg such as
      directly with rcalc), if you can give us more of an idea of what
      you are trying to do then you may get back some good suggestions
      for doing what you want. rcalc is the real radiance workhorse for
      processing data. The issue may be in figuring out how to code up
      you algorithm in radiance's native functional language.

-Jack

J. David Maino wrote:
> Jack,
>
> Actually, my knowledge of Perl is also rather limited, at least as far 
> as anything too complex goes, but file manipulations I can do just 
> fine. Mainly what I'm trying to do is just take a simple text file 
> that rtcontrib spits out and then manipulate that data. I'm not sure 
> if I'm just not parsing the data correctly or if the file is just too 
> large and my computer is dying trying to run my inefficient 
> algorithms, but Perl seems to be failing me for the moment. I'm sure 
> there are faster/easier ways to do this than what I'm currently 
> trying, but for now I'm kinda just sticking to what I know how to do. 
> Perhaps I will try Python though. Can anyone direct me to any good 
> books about programming with Python? Also, I will have to look into 
> trying to directly interface with rcalc as this sounds much easier and 
> much more efficient than all the intermediate steps I'm taking.
>
> Thanks,
>
> Dave
>
> Jack de Valpine wrote:
>> Hi Dave,
>>
>> What kinds of problems are you having with Perl? You should be able 
>> to do most anything you want with Perl. The main problem area can be 
>> if you are feeding data to into and/or out of radiance programs and 
>> end up with buffering problems. For example I only recently learned 
>> that there is a '-u' switch for rcalc which causes output to be 
>> flushed after each record. This came in real handy for a perl program 
>> that uses open2 to both write to and read from an rcalc process.
>>
>> -Jack
>>
>> PS, as others on this list know I am a pretty strong advocate of 
>> Perl. However, there is also a strong group who use Python for 
>> Radiance related scripting. Of course Greg is all about shell.... 
>> Nevertheless, as you indicate fairly good knowledge of Perl this 
>> might still be the best place to try to get things working....
>>
>> J. David Maino wrote:
>>> Hi all,
>>>
>>> Recently I've been playing around with rtcontrib for use on my 
>>> thesis and have been developing (or trying to rather) some scripts 
>>> to make data handling a bit easier. The problem is that my knowledge 
>>> of shell scripting is rather limited, and the only other programming 
>>> language I know fairly well (perl) is not wanting to cooperate. I'm 
>>> trying to automate the process of multiplying the luminance values 
>>> of the sky patches to the corresponding RGB values that rtcontrib 
>>> puts out so that I can get illuminance data for a whole slew of sky 
>>> conditions. Does anyone know of any scripts out there that might do 
>>> this, or what programming language might be best suited to dealing 
>>> with very large files (I have a lot of illuminance points)? Any help 
>>> you could offer would be greatly appreciated!
>>>
>>> Thanks,
>>>
>>> Dave
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060207/ce0e2ef2/attachment.html
From erosa at gsd.harvard.edu  Tue Feb  7 21:00:10 2006
From: erosa at gsd.harvard.edu (Erico Rosa)
Date: Tue Feb  7 20:58:40 2006
Subject: [Radiance-general] pmap distribution
Message-ID: <006201c62c21$1d233f70$0201a8c0@design.harvard.edu>

Hi there,

I would like to measure the illumination from a vertical pipe bringing
daylight into a building. I have two situations, a clear sky with 30 and
60 degrees solar angles - 75,000 and 40,000 Lux reaching the top of the
tube - and would like to measure the transmittance of the pipe at its
bottom, using materials with 95, 96, 97, 98 and 99% reflectance. Using
manual calculations I can fairly expect something between 52-88% and
80-96% transmittance for the 30-degrees and 60-degrees sky,
respectively. I initially used the metal material which has given me
very low numbers. When I switched to the mirror material with a faceted
tube (polygons) replacing the initial round tube, the numbers started to
match (or at least sort of). 

For measurements, I divided the ring in the bottom of the tube in
approximately 200 measuring points and retrieved numbers that vary from
5,000 to 150,000 Lux for the first tube and 9,000 to 400,000 Lux for the
later. Dividing the individual values for the number of measuring points
give me exact numbers for the "30-deg" tube, and numbers 20% higher (but
accurate when reduced) for the "60-deg" one. Being a newbie at this, I
am quite puzzled with the photon distribution and if the measurements
are accurate.  Is it the bandwidth that is producing numbers that far
low and high? Is it bias that is distributing the photon like this? 

I am testing with an 80 degrees solar altitude clear sky and the results
are 100% higher that I expected (but again, accurate when reduced).

My parameters are:

mkpmap -appb <file> 1000000 50 5000 - apc <file> 1000000 -ds 0.001 -dp
32768
rtrace -I+ -ab 1 -ad 32768 -aa 0.001 -ar 32768 -app <file> -apcb 50 5000

Erico Naves Rosa
Doctor of Design Candidate
Harvard Design School



From MMoeck at engr.psu.edu  Tue Feb  7 22:29:59 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Tue Feb  7 22:31:50 2006
Subject: [Radiance-general] pmap distribution
References: <006201c62c21$1d233f70$0201a8c0@design.harvard.edu>
Message-ID: <E9E41D929954D54F8457D9E5DA5DBDD1265EF0@ENGRMAIL4.engr.psu.edu>

Erico,
 
How long is the pipe? 
 
How many curves does it have? 
 
What is the degree of curve for each curve? 
 
TracePro has a tutorial that is very similar to your problem. Photopia, Zemax and ASAP should have similar tutorials. Why don't you ask them for their software. 
 
52-88% and 80-96% transmittance sounds too high. 
 
Martin Moeck,  Penn State 

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Erico Rosa
Sent: Tue 2/7/2006 3:00 PM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] pmap distribution



Hi there,

I would like to measure the illumination from a vertical pipe bringing
daylight into a building. I have two situations, a clear sky with 30 and
60 degrees solar angles - 75,000 and 40,000 Lux reaching the top of the
tube - and would like to measure the transmittance of the pipe at its
bottom, using materials with 95, 96, 97, 98 and 99% reflectance. Using
manual calculations I can fairly expect something between 52-88% and
80-96% transmittance for the 30-degrees and 60-degrees sky,
respectively. I initially used the metal material which has given me
very low numbers. When I switched to the mirror material with a faceted
tube (polygons) replacing the initial round tube, the numbers started to
match (or at least sort of).

For measurements, I divided the ring in the bottom of the tube in
approximately 200 measuring points and retrieved numbers that vary from
5,000 to 150,000 Lux for the first tube and 9,000 to 400,000 Lux for the
later. Dividing the individual values for the number of measuring points
give me exact numbers for the "30-deg" tube, and numbers 20% higher (but
accurate when reduced) for the "60-deg" one. Being a newbie at this, I
am quite puzzled with the photon distribution and if the measurements
are accurate.  Is it the bandwidth that is producing numbers that far
low and high? Is it bias that is distributing the photon like this?

I am testing with an 80 degrees solar altitude clear sky and the results
are 100% higher that I expected (but again, accurate when reduced).

My parameters are:

mkpmap -appb <file> 1000000 50 5000 - apc <file> 1000000 -ds 0.001 -dp
32768
rtrace -I+ -ab 1 -ad 32768 -aa 0.001 -ar 32768 -app <file> -apcb 50 5000

Erico Naves Rosa
Doctor of Design Candidate
Harvard Design School



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 5873 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060207/195f1e38/attachment.bin
From erosa at gsd.harvard.edu  Tue Feb  7 23:43:10 2006
From: erosa at gsd.harvard.edu (Erico Rosa)
Date: Tue Feb  7 23:41:35 2006
Subject: [Radiance-general] pmap distribution
In-Reply-To: <E9E41D929954D54F8457D9E5DA5DBDD1265EF0@ENGRMAIL4.engr.psu.edu>
Message-ID: <008801c62c37$df216910$0201a8c0@design.harvard.edu>

Hi Martin,

There are no curves. It?s a straight 6-meter-long hollow mirror pipe
with a diameter of 1 meter (fairly large). I've based these
transmittances on a study by Zastrow and Wittwer:

Transmittance of pipe = radius of pipe ^ [(length of pipe/tangent of
solar angle)/(pi x diameter of pipe/4)], which gave me the numbers I've
mentioned.

Thanks for the pointers! I actually requested TracePro sometime ago but
the trial version doesn't allow me to attach any materials, which was
quite upsetting. I could try to contact them for a sponsorship for this
fairly expensive piece of software, although I was hoping the photon map
would do the job...

Erico Naves Rosa
Doctor of Design Candidate
Harvard Design School

-----Original Message-----
From: Martin Moeck [mailto:radiance-general-bounces@radiance-online.org]
On Behalf Of Martin Moeck
Sent: Tuesday, February 07, 2006 4:30 PM
To: Radiance general discussion
Subject: RE: [Radiance-general] pmap distribution

Erico,
?
How long is the pipe? 
?
How many curves does it have? 
?
What is the degree of curve?for each curve? 
?
TracePro has a tutorial that is very similar to your problem. Photopia,
Zemax and ASAP should have similar tutorials. Why don't you ask them for
their software. 
?
52-88% and 80-96% transmittance sounds too high. 
?
Martin Moeck,? Penn State 


From: radiance-general-bounces@radiance-online.org on behalf of Erico
Rosa
Sent: Tue 2/7/2006 3:00 PM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] pmap distribution
Hi there,

I would like to measure the illumination from a vertical pipe bringing
daylight into a building. I have two situations, a clear sky with 30 and
60 degrees solar angles - 75,000 and 40,000 Lux reaching the top of the
tube - and would like to measure the transmittance of the pipe at its
bottom, using materials with 95, 96, 97, 98 and 99% reflectance. Using
manual calculations I can fairly expect something between 52-88% and
80-96% transmittance for the 30-degrees and 60-degrees sky,
respectively. I initially used the metal material which has given me
very low numbers. When I switched to the mirror material with a faceted
tube (polygons) replacing the initial round tube, the numbers started to
match (or at least sort of).

For measurements, I divided the ring in the bottom of the tube in
approximately 200 measuring points and retrieved numbers that vary from
5,000 to 150,000 Lux for the first tube and 9,000 to 400,000 Lux for the
later. Dividing the individual values for the number of measuring points
give me exact numbers for the "30-deg" tube, and numbers 20% higher (but
accurate when reduced) for the "60-deg" one. Being a newbie at this, I
am quite puzzled with the photon distribution and if the measurements
are accurate.? Is it the bandwidth that is producing numbers that far
low and high? Is it bias that is distributing the photon like this?

I am testing with an 80 degrees solar altitude clear sky and the results
are 100% higher that I expected (but again, accurate when reduced).

My parameters are:

mkpmap -appb <file> 1000000 50 5000 - apc <file> 1000000 -ds 0.001 -dp
32768
rtrace -I+ -ab 1 -ad 32768 -aa 0.001 -ar 32768 -app <file> -apcb 50 5000

Erico Naves Rosa
Doctor of Design Candidate
Harvard Design School



_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From jan.wienold at ise.fraunhofer.de  Wed Feb  8 00:45:45 2006
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Wed Feb  8 00:47:17 2006
Subject: [Radiance-general] pmap distribution
In-Reply-To: <006201c62c21$1d233f70$0201a8c0@design.harvard.edu>
References: <006201c62c21$1d233f70$0201a8c0@design.harvard.edu>
Message-ID: <43E93129.6060206@ise.fraunhofer.de>

Hi Erico,

where did you put your measuring points exactly? And how do you measure 
the incoming flux?
If you put the measuring points not directly on a surface and use photon 
mapping, then it is not surprising that you get strange results.  Then 
photon mapping calculates the density estimate of the nearest photons in 
the scene (which are per definition always on a surface). 
So  if you wanna get the transmission of a pipe, you should "close" the 
pipe at its bottom by a disk and put the measuring points directly on 
it. This disk shouldn't be completely black - even knowing that it 
reflects the light back to the top.
The same must be done for the incoming flux, so you need an extra run 
just for that and should put a disk at the top of the pipe.

In that case, you should get reasonable results also by using the metal 
material.

Hey Roland, what's your opinion!?

Jan


Erico Rosa wrote:

>Hi there,
>
>I would like to measure the illumination from a vertical pipe bringing
>daylight into a building. I have two situations, a clear sky with 30 and
>60 degrees solar angles - 75,000 and 40,000 Lux reaching the top of the
>tube - and would like to measure the transmittance of the pipe at its
>bottom, using materials with 95, 96, 97, 98 and 99% reflectance. Using
>manual calculations I can fairly expect something between 52-88% and
>80-96% transmittance for the 30-degrees and 60-degrees sky,
>respectively. I initially used the metal material which has given me
>very low numbers. When I switched to the mirror material with a faceted
>tube (polygons) replacing the initial round tube, the numbers started to
>match (or at least sort of). 
>
>For measurements, I divided the ring in the bottom of the tube in
>approximately 200 measuring points and retrieved numbers that vary from
>5,000 to 150,000 Lux for the first tube and 9,000 to 400,000 Lux for the
>later. Dividing the individual values for the number of measuring points
>give me exact numbers for the "30-deg" tube, and numbers 20% higher (but
>accurate when reduced) for the "60-deg" one. Being a newbie at this, I
>am quite puzzled with the photon distribution and if the measurements
>are accurate.  Is it the bandwidth that is producing numbers that far
>low and high? Is it bias that is distributing the photon like this? 
>
>I am testing with an 80 degrees solar altitude clear sky and the results
>are 100% higher that I expected (but again, accurate when reduced).
>
>My parameters are:
>
>mkpmap -appb <file> 1000000 50 5000 - apc <file> 1000000 -ds 0.001 -dp
>32768
>rtrace -I+ -ab 1 -ad 32768 -aa 0.001 -ar 32768 -app <file> -apcb 50 5000
>
>Erico Naves Rosa
>Doctor of Design Candidate
>Harvard Design School
>
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>


-- 
Dipl.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 9:00-18:00
We-Fr:  8:30-14:00


From erosa at gsd.harvard.edu  Wed Feb  8 01:09:53 2006
From: erosa at gsd.harvard.edu (Erico Rosa)
Date: Wed Feb  8 01:08:23 2006
Subject: [Radiance-general] pmap distribution
In-Reply-To: <43E93129.6060206@ise.fraunhofer.de>
Message-ID: <008b01c62c43$ffb2b290$0201a8c0@design.harvard.edu>

Hi Jan,

Thanks again for the help. I realize early on the need for the surface
and my measuring points match the ring surface (plastic, 0.1 0.1 0.1 0
0) on the bottom of the pipe. On the other hand, the pipe is open at the
top (well, there is the antimatter ring port on the top). Would clear
glass do the job on the top?

I am reading some of the early threads on the issue and on a previous
message you mentioned:

"The quick instruction is:

0. You can use the standard radiance description (except user defined 
BRDFs). ->rad and oct
1. To distribute photon and store them in files (global and caustic
photons separately). e.g.
~/bin/radiance/pmap/mkpmap  -apg f81_z.gp 700000 -apc f81_z.cp 700000 
test.oct
700000 is the number of the photos emitted, gp : global photons, cp
caustic photons
2. Count the photons, make a density estimate and generate a picture
with the modified rpict:
~/bin/radiance/pmap/rpict -apg f81_z.gp 500 -apc f81_z.cp 500 -ab 1 -x 
1200 -y 1200 -vf test.vf -o test.pic  test.oct"


How would I 'count' the photons and make a density estimate?
Erico
 

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jan
Wienold
Sent: Tuesday, February 07, 2006 6:46 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] pmap distribution

Hi Erico,

where did you put your measuring points exactly? And how do you measure 
the incoming flux?
If you put the measuring points not directly on a surface and use photon

mapping, then it is not surprising that you get strange results.  Then 
photon mapping calculates the density estimate of the nearest photons in

the scene (which are per definition always on a surface). 
So  if you wanna get the transmission of a pipe, you should "close" the 
pipe at its bottom by a disk and put the measuring points directly on 
it. This disk shouldn't be completely black - even knowing that it 
reflects the light back to the top.
The same must be done for the incoming flux, so you need an extra run 
just for that and should put a disk at the top of the pipe.

In that case, you should get reasonable results also by using the metal 
material.

Hey Roland, what's your opinion!?

Jan


Erico Rosa wrote:

>Hi there,
>
>I would like to measure the illumination from a vertical pipe bringing
>daylight into a building. I have two situations, a clear sky with 30
and
>60 degrees solar angles - 75,000 and 40,000 Lux reaching the top of the
>tube - and would like to measure the transmittance of the pipe at its
>bottom, using materials with 95, 96, 97, 98 and 99% reflectance. Using
>manual calculations I can fairly expect something between 52-88% and
>80-96% transmittance for the 30-degrees and 60-degrees sky,
>respectively. I initially used the metal material which has given me
>very low numbers. When I switched to the mirror material with a faceted
>tube (polygons) replacing the initial round tube, the numbers started
to
>match (or at least sort of). 
>
>For measurements, I divided the ring in the bottom of the tube in
>approximately 200 measuring points and retrieved numbers that vary from
>5,000 to 150,000 Lux for the first tube and 9,000 to 400,000 Lux for
the
>later. Dividing the individual values for the number of measuring
points
>give me exact numbers for the "30-deg" tube, and numbers 20% higher
(but
>accurate when reduced) for the "60-deg" one. Being a newbie at this, I
>am quite puzzled with the photon distribution and if the measurements
>are accurate.  Is it the bandwidth that is producing numbers that far
>low and high? Is it bias that is distributing the photon like this? 
>
>I am testing with an 80 degrees solar altitude clear sky and the
results
>are 100% higher that I expected (but again, accurate when reduced).
>
>My parameters are:
>
>mkpmap -appb <file> 1000000 50 5000 - apc <file> 1000000 -ds 0.001 -dp
>32768
>rtrace -I+ -ab 1 -ad 32768 -aa 0.001 -ar 32768 -app <file> -apcb 50
5000
>
>Erico Naves Rosa
>Doctor of Design Candidate
>Harvard Design School
>
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>


-- 
Dipl.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 9:00-18:00
We-Fr:  8:30-14:00


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From tiago at tkh.att.ne.jp  Wed Feb  8 08:53:01 2006
From: tiago at tkh.att.ne.jp (Santiago Torres)
Date: Wed Feb  8 08:55:00 2006
Subject: [Radiance-general] rtcontrib scripts
In-Reply-To: <43E8DB75.3070001@psu.edu>
References: <43E8A934.8080302@psu.edu> <43E8BD4D.2090707@visarc.com>
	<43E8DB75.3070001@psu.edu>
Message-ID: <BA86B15C-1142-4ADD-B976-C47B4F2C035D@tkh.att.ne.jp>

Hi Dave,

I`ve also been using Perl to handle rtcontrib recently and it worked,  
although I used 10 illuminance points at most, and was only using  
monochrome scenes, so I was using only one of the three values.
But AFAIK , Perl should be quite efficient handling lots of data. If  
it is a memory problem you are having, maybe Python won`t be the  
solution either.
Below is part of the script I used. I`m not really a programer  
(you`ll see), but this worked for me.
hope it helps,

Santiago

--------------------------------


system ("time rtcontrib -I+ -h -ab 5 -ad 10000 -as 100 -lw 0.0001 - 
aa .1 -ar 300 -dt 0 -ds 0 -b 0 -o suncomp.dat -M suns.lst -f  
tregenza_h.cal -b tbin -o skycomp.dat -m skyglow scene.oct < test.dat");

open (SUC, "$base/suncomp.dat") or die "cannot open SUC $!";
open (SKC, "$base/skycomp.dat") or die "cannot open SKC $!";

# there are two points @test.dat > #0 vert illum, #1 horiz illum
for $i (0..1) {

	$lsuc[$i] = <SUC>; chomp $lsuc[$i];
	$lskc[$i] = <SKC>; chomp $lskc[$i];
}

close SUC; close SKC;
system ("rm suncomp.dat skycomp.dat");

# weather data > calculated average luminance from each patch for  
each hour, etc.
open (TKI, "tokyo_contribs.dat") or die "cannot open TKI $!";

while ($line=<TKI>) {

	chomp $line;
	@meteo = split (/,/,$line);

	# HORIZ ILLUM #
	for $i (1..1) { # test point #1 for horizontal illuminance, add  
other points here

		@soles = split (/\t/, $lsuc[$i]); # array with contribs from suns
		@cielo = split (/\t/, $lskc[$i]); # array with contribs from sky  
patches

		# calculate illuminance from sun
		$horz = $soles[$dato*3] * $meteo[116]  / 0.00005981;

		# add illuminance from sky patches
		# sky was divided in 113 patches > diff from tregenza
		for $j (1..113) {

			#depends on the definition of the weather file
			$horz += $cielo[($j*3)+1] * $meteo[$j+3];
		}

	}

}


--------------------------------




On Feb 8, 2006, at 2:40 AM, J. David Maino wrote:

> Jack,
>
> Actually, my knowledge of Perl is also rather limited, at least as  
> far as anything too complex goes, but file manipulations I can do  
> just fine. Mainly what I'm trying to do is just take a simple text  
> file that rtcontrib spits out and then manipulate that data. I'm  
> not sure if I'm just not parsing the data correctly or if the file  
> is just too large and my computer is dying trying to run my  
> inefficient algorithms, but Perl seems to be failing me for the  
> moment. I'm sure there are faster/easier ways to do this than what  
> I'm currently trying, but for now I'm kinda just sticking to what I  
> know how to do. Perhaps I will try Python though. Can anyone direct  
> me to any good books about programming with Python? Also, I will  
> have to look into trying to directly interface with rcalc as this  
> sounds much easier and much more efficient than all the  
> intermediate steps I'm taking.
>
> Thanks,
>
> Dave
>
> Jack de Valpine wrote:
>> Hi Dave,
>>
>> What kinds of problems are you having with Perl? You should be  
>> able to do most anything you want with Perl. The main problem area  
>> can be if you are feeding data to into and/or out of radiance  
>> programs and end up with buffering problems. For example I only  
>> recently learned that there is a '-u' switch for rcalc which  
>> causes output to be flushed after each record. This came in real  
>> handy for a perl program that uses open2 to both write to and read  
>> from an rcalc process.
>>
>> -Jack
>>
>> PS, as others on this list know I am a pretty strong advocate of  
>> Perl. However, there is also a strong group who use Python for  
>> Radiance related scripting. Of course Greg is all about shell....  
>> Nevertheless, as you indicate fairly good knowledge of Perl this  
>> might still be the best place to try to get things working....
>>
>> J. David Maino wrote:
>>> Hi all,
>>>
>>> Recently I've been playing around with rtcontrib for use on my  
>>> thesis and have been developing (or trying to rather) some  
>>> scripts to make data handling a bit easier. The problem is that  
>>> my knowledge of shell scripting is rather limited, and the only  
>>> other programming language I know fairly well (perl) is not  
>>> wanting to cooperate. I'm trying to automate the process of  
>>> multiplying the luminance values of the sky patches to the  
>>> corresponding RGB values that rtcontrib puts out so that I can  
>>> get illuminance data for a whole slew of sky conditions. Does  
>>> anyone know of any scripts out there that might do this, or what  
>>> programming language might be best suited to dealing with very  
>>> large files (I have a lot of illuminance points)? Any help you  
>>> could offer would be greatly appreciated!
>>>
>>> Thanks,
>>>
>>> Dave
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From grobe at gmx.net  Wed Feb  8 16:09:29 2006
From: grobe at gmx.net (Lars Grobe)
Date: Wed Feb  8 16:11:08 2006
Subject: [Radiance-general] Mark Stock's work on rendering large models w/o
	ambient cache
Message-ID: <23397.1139411369@www036.gmx.net>

Hi,

Mark did some work on how to get nice results without ambient cache (afaik
he uses -aa .00 -d 6 -ps 1 and downsamples /4 in pfilt). I tried the same on
a very large model, but rendering is slow now because the different views
can't share ambient data. So my suggestion is to keep low -ad and downsample
as proposed, but cache the fewer ambient values in an ambient file using a
moderate -aa. Any comments? I wondered why this was not mentioned in the
studies, am I completely wrong or is it because he simply did not have to
reuse the ambient values (in a comparision with different ambient settings,
that would be a bad idea ;-)?

TIA+CU Lars.

From mstock at umich.edu  Wed Feb  8 16:21:50 2006
From: mstock at umich.edu (Mark Stock)
Date: Wed Feb  8 16:23:38 2006
Subject: [Radiance-general] Mark Stock's work on rendering large models
	w/o	ambient cache
In-Reply-To: <23397.1139411369@www036.gmx.net>
References: <23397.1139411369@www036.gmx.net>
Message-ID: <Pine.LNX.4.63.0602081017440.1236@centipede.gpcc.itd.umich.edu>

Lars,

I don't have enough experience to comment on the usefulness of 
your proposed method, I can only say that I used the method on 
single large images (I'm up to 36,000x36,000 now). My main goal 
was to prevent any caching of ambient points due to memory 
limits.

Mark

On Wed, 8 Feb 2006, Lars Grobe wrote:

> Hi,
>
> Mark did some work on how to get nice results without ambient 
> cache (afaik he uses -aa .00 -d 6 -ps 1 and downsamples /4 in 
> pfilt). I tried the same on a very large model, but rendering 
> is slow now because the different views can't share ambient 
> data. So my suggestion is to keep low -ad and downsample as 
> proposed, but cache the fewer ambient values in an ambient file 
> using a moderate -aa. Any comments? I wondered why this was not 
> mentioned in the studies, am I completely wrong or is it 
> because he simply did not have to reuse the ambient values (in 
> a comparision with different ambient settings, that would be a 
> bad idea ;-)?
>
> TIA+CU Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>

From jelleferinga at gmail.com  Wed Feb  8 16:37:52 2006
From: jelleferinga at gmail.com (Jelle Feringa / EZCT Architecture & Design Research)
Date: Wed Feb  8 16:39:40 2006
Subject: [Radiance-general] rview on wintel | the MESH primitive
Message-ID: <37fac3b90602080737k45ab217dve85e40ed46f7a91d@mail.gmail.com>

Hi,

I'm just wondering whether a wintel (is mintel a valid expression as
well nowadays?) version of rview exist that supports the MESH
primitive? Since Franceso was able to build -and share- his wintel
radiance 3.8a binaries I'm able to render scenes that have mesh
primitives, but havent been able to do so via rview, since its an
outdated version that does not support the newer mesh primitve.

Cheers,

Jelle

From gregoryjward at gmail.com  Wed Feb  8 17:05:38 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed Feb  8 17:07:31 2006
Subject: [Radiance-general] Mark Stock's work on rendering large models
	w/o ambient cache
In-Reply-To: <23397.1139411369@www036.gmx.net>
References: <23397.1139411369@www036.gmx.net>
Message-ID: <718DF4E7-6C4F-40B3-9B69-E1D12E4AE317@gmail.com>

Hi Lars,

Many people have tried small -ad settings with the ambient cache, and  
the universal result is splotchy images.  The reason it works when  
you turn off the ambient cache is that each interreflection  
calculation varies about the correct value randomly, and looks like  
noise in the image because it takes up only one pixel (or with  
downsampling, a fraction of a pixel).  Using -aa (anything positive),  
you spread these high variance values into surrounding pixels, and  
they look like the measles.

-Greg

> From: "Lars Grobe" <grobe@gmx.net>
> Date: February 8, 2006 7:09:29 AM PST
>
> Hi,
>
> Mark did some work on how to get nice results without ambient cache  
> (afaik
> he uses -aa .00 -d 6 -ps 1 and downsamples /4 in pfilt). I tried  
> the same on
> a very large model, but rendering is slow now because the different  
> views
> can't share ambient data. So my suggestion is to keep low -ad and  
> downsample
> as proposed, but cache the fewer ambient values in an ambient file  
> using a
> moderate -aa. Any comments? I wondered why this was not mentioned  
> in the
> studies, am I completely wrong or is it because he simply did not  
> have to
> reuse the ambient values (in a comparision with different ambient  
> settings,
> that would be a bad idea ;-)?
>
> TIA+CU Lars.
>

From atelier at iebele.nl  Wed Feb  8 17:14:27 2006
From: atelier at iebele.nl (atelier iebele abel)
Date: Wed Feb  8 17:20:47 2006
Subject: [Radiance-general] Anti reflective coated glass
In-Reply-To: <008b01c62c43$ffb2b290$0201a8c0@design.harvard.edu>
References: <008b01c62c43$ffb2b290$0201a8c0@design.harvard.edu>
Message-ID: <43EA18E3.1050801@iebele.nl>

Hi group,

I am working on a model of a shopping mall where we have to compare the 
visibility of the interiors using 'normal and anti reflective glass.
( we have a sample of LUXAR Anti reflective coated glass here, but no 
equipment to measure ).
Does anybody has experience with simulating reflective and 
non-reflective glass?
Some values for the glass primitive or BRTDF func would be very helpfull.

Iebele


PS:
from the glaze csh script, which seems very usefull, I can choose from 
these 5 surface types.
Is any of these  "non reflective" ?

   1 - clear glass
   2 - VE1-2M low-E coating
   3 - PVB laminated
   4 - V-175 white frit
   5 - V-933 warm gray frit

From MMoeck at engr.psu.edu  Wed Feb  8 19:23:49 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Wed Feb  8 19:27:15 2006
Subject: [Radiance-general] Anti reflective coated glass
References: <008b01c62c43$ffb2b290$0201a8c0@design.harvard.edu>
	<43EA18E3.1050801@iebele.nl>
Message-ID: <E9E41D929954D54F8457D9E5DA5DBDD1265EF5@ENGRMAIL4.engr.psu.edu>

You could set the index of refraction of the Radiance material type glass to someting fairly low:
 
void glass anti_r
0 0 4
.6 .6 .6 1.3 or whatever
 
Martin Moeck, Penn State

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of atelier iebele abel
Sent: Wed 2/8/2006 11:14 AM
To: Radiance general discussion
Subject: [Radiance-general] Anti reflective coated glass



Hi group,

I am working on a model of a shopping mall where we have to compare the
visibility of the interiors using 'normal and anti reflective glass.
( we have a sample of LUXAR Anti reflective coated glass here, but no
equipment to measure ).
Does anybody has experience with simulating reflective and
non-reflective glass?
Some values for the glass primitive or BRTDF func would be very helpfull.

Iebele


PS:
from the glaze csh script, which seems very usefull, I can choose from
these 5 surface types.
Is any of these  "non reflective" ?

   1 - clear glass
   2 - VE1-2M low-E coating
   3 - PVB laminated
   4 - V-175 white frit
   5 - V-933 warm gray frit

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 4692 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060208/cde24a8b/attachment.bin
From Christoph.Reinhart at nrc-cnrc.gc.ca  Wed Feb  8 21:02:41 2006
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Wed Feb  8 21:04:28 2006
Subject: [Radiance-general] Radiance under Mac
Message-ID: <5910A0754536EA4AAD411AE8221C3962014240AA@nrccenexb1.nrc.ca>

 
Dear colleagues,

John, you will like to hear this. One of our Postdocs bought a Mac Box
and I am trying to install Radiance on it. At first I had trouble
compiling Radiance since no ggc was on it. So I installed the gcc
package. Now, it keeps on complaining that it does not find the standard
libraries such as studio.h. Would anybody know off-hand which packages
need to be installed on the Mac so that Radiance compiles? Also, when I
use the pre-installed binaries, 'ximage' is missing the file
/usr/X11R6/lib/libX11.6.dylib. Which package do I need to get that
running? 

Christoph

PS: Windows forever:)

From rpg at rumblestrip.org  Wed Feb  8 21:47:59 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Feb  8 21:50:01 2006
Subject: [Radiance-general] Radiance under Mac
In-Reply-To: <5910A0754536EA4AAD411AE8221C3962014240AA@nrccenexb1.nrc.ca>
References: <5910A0754536EA4AAD411AE8221C3962014240AA@nrccenexb1.nrc.ca>
Message-ID: <43EA58FF.5060105@rumblestrip.org>

Reinhart, Christoph wrote:

> 
>Dear colleagues,
>
>John, you will like to hear this. One of our Postdocs bought a Mac Box
>and I am trying to install Radiance on it. At first I had trouble
>compiling Radiance since no ggc was on it. So I installed the gcc
>package. Now, it keeps on complaining that it does not find the standard
>libraries such as studio.h. Would anybody know off-hand which packages
>need to be installed on the Mac so that Radiance compiles? Also, when I
>use the pre-installed binaries, 'ximage' is missing the file
>/usr/X11R6/lib/libX11.6.dylib. Which package do I need to get that
>running? 
>

Hi Christoph,

I assume this is a G5 mac, and not a new Intel iMac?  If so, all you 
should have to do is install the developer tools (called XCode now, and 
available on Apple's website), INCLUDING the X11 dev stuff, and run the 
makeall script specifying OSX as the operating system.  The Macs don't 
come with all the compilation stuff outta the box because most Mac users 
don't compile software.  But the beauty of the Macintosh/OSX marriage is 
that if you do want to do that stuff, it's all supported.  Let me know 
if you still have trouble, but it should be pretty easy once all the 
compilers & libraries are installed (which is a simple download and a 
double-click).

>PS: Windows forever:)
>  
>
Blasphemy!   Boooo!   Hissssss!!!!

From jm at dmu.ac.uk  Wed Feb  8 21:59:50 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed Feb  8 22:01:38 2006
Subject: [Radiance-general] Radiance under Mac
Message-ID: <2D44D450-BA70-40E4-A644-22DC7C228E04@dmu.ac.uk>

> John, you will like to hear this. One of our Postdocs bought a Mac Box
> and I am trying to install Radiance on it. At first I had trouble
> compiling Radiance since no ggc was on it. So I installed the gcc
> package. Now, it keeps on complaining that it does not find the  
> standard
> libraries such as studio.h. Would anybody know off-hand which packages
> need to be installed on the Mac so that Radiance compiles? Also,  
> when I
> use the pre-installed binaries, 'ximage' is missing the file
> /usr/X11R6/lib/libX11.6.dylib. Which package do I need to get that
> running?

Actually, Greg's the guy to answer this because it's so long since I  
had to do anything to the install (it just keeps on working).  But  
I'll try to remember as best as I can.  Firstly, you don't need to  
install any special (i.e. non-Apple packages).  Just install the  
developer tools in the standard release:
http://www.apple.com/macosx/developertools/
I think that includes X11:
http://www.apple.com/macosx/features/x11/
Once done, gcc should be found in  /usr/bin/gcc  (version 4.00 in  
Tiger).

Other than that, the only thing I can recall is having to create the  
directory /usr/tmp and making it world-writeable.  The rest is  
"standard" Radiance environment stuff.

Put the X11 application icon in the dock (it's in the Utilities  
subdirectory of the Applications directory), and start that up before  
running any Radiance display programs.

I think that's all (but I may have missed something out).

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From jm at dmu.ac.uk  Wed Feb  8 22:02:51 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed Feb  8 22:04:33 2006
Subject: [Radiance-general] Radiance under Mac
Message-ID: <EF0C03EF-7039-4818-A7C4-8DA4034C1B4C@dmu.ac.uk>

Ooops... good point about Intel Macs, Rob.  I'd forgotten about  
them.  Anyone compiled Radiance yet on one of these noo fangled things?

-John

From rpg at rumblestrip.org  Wed Feb  8 22:05:03 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Feb  8 22:06:46 2006
Subject: [Radiance-general] Radiance under Mac
In-Reply-To: <2D44D450-BA70-40E4-A644-22DC7C228E04@dmu.ac.uk>
References: <2D44D450-BA70-40E4-A644-22DC7C228E04@dmu.ac.uk>
Message-ID: <43EA5CFF.9060108@rumblestrip.org>

John Mardaljevic wrote:

> Put the X11 application icon in the dock (it's in the Utilities  
> subdirectory of the Applications directory), and start that up before  
> running any Radiance display programs.


... I have some nifty code in my bash environment that automatically 
checks to see if X11 is running whenever I open a terminal window, and 
loads it if it isn't already (it also makes sure you're not in an ssh 
session first).  I can post that tonight if anyone is interested.

- Rob

From tbleicher at arcor.de  Wed Feb  8 22:25:11 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Wed Feb  8 22:26:52 2006
Subject: [Radiance-general] Radiance under Mac
In-Reply-To: <5910A0754536EA4AAD411AE8221C3962014240AA@nrccenexb1.nrc.ca>
References: <5910A0754536EA4AAD411AE8221C3962014240AA@nrccenexb1.nrc.ca>
Message-ID: <072C2D41-3B06-4AC4-8F46-E757168DFD5D@arcor.de>


On 08.02.2006, at 21:02, Reinhart, Christoph wrote:

>
> Dear colleagues,
>
> John, you will like to hear this. One of our Postdocs bought a Mac Box
> and I am trying to install Radiance on it. At first I had trouble
> compiling Radiance since no ggc was on it. So I installed the gcc
> package. Now, it keeps on complaining that it does not find the  
> standard
> libraries such as studio.h. Would anybody know off-hand which packages
> need to be installed on the Mac so that Radiance compiles?

What version of Mac OS is installed? I suppose it's OS X and it's
a more recent version (10.3 or 10.4).

You should install the XCode 2 application "bundle" (probably on
the second DVD or via download from Apple). I don't remember
installing any additional software for compiling Radiance.

> Also, when I use the pre-installed binaries, 'ximage' is missing the
> file /usr/X11R6/lib/libX11.6.dylib. Which package do I need to get  
> that
> running?

OS X does not need an X11 server. It's not installed by default.
I use the one bundled with OS X (on the first DVD, you have to
select it manually). IIRC you can use another X11 server like
X.org as well. I wouldn't bother, though.

Before you start rvu or any other X11 application you have to
start the server first or the app will not find a server to
connect to.

> Christoph
>
> PS: Windows forever:)

Jehova, Jehova ...

Thomas


From rpg at rumblestrip.org  Wed Feb  8 22:27:29 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed Feb  8 22:29:09 2006
Subject: [Radiance-general] Radiance under Mac
In-Reply-To: <EF0C03EF-7039-4818-A7C4-8DA4034C1B4C@dmu.ac.uk>
References: <EF0C03EF-7039-4818-A7C4-8DA4034C1B4C@dmu.ac.uk>
Message-ID: <43EA6241.40303@rumblestrip.org>

John Mardaljevic wrote:

> Ooops... good point about Intel Macs, Rob.  I'd forgotten about  
> them.  Anyone compiled Radiance yet on one of these noo fangled things?


Not to my knowledge, but my new Intel-powered Powerbook (MacBook Pro is 
a dumb name, let's face it) is still scheduled to ship a week from 
today, so hopefully very soon I'll be able to take a crack at compiling 
radiance on Intel/OSX (fair warning, Greg)!

- Rob

From tbleicher at arcor.de  Wed Feb  8 22:31:50 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Wed Feb  8 22:33:31 2006
Subject: [Radiance-general] Radiance under Mac
In-Reply-To: <43EA5CFF.9060108@rumblestrip.org>
References: <2D44D450-BA70-40E4-A644-22DC7C228E04@dmu.ac.uk>
	<43EA5CFF.9060108@rumblestrip.org>
Message-ID: <60E54DDC-9CC2-49DE-9C6D-A3690B4B0B7A@arcor.de>


On 08.02.2006, at 22:05, Rob Guglielmetti wrote:

> John Mardaljevic wrote:
>
>> Put the X11 application icon in the dock (it's in the Utilities
>> subdirectory of the Applications directory), and start that up
>> before  running any Radiance display programs.
>
>
> ... I have some nifty code in my bash environment that automatically
> checks to see if X11 is running whenever I open a terminal window, and
> loads it if it isn't already (it also makes sure you're not in an ssh
> session first).  I can post that tonight if anyone is interested.

Be generous with RAM and you can check the "Open at Login" option
of the "Dock" (context menu when X is running) and never think about
it again (except for ML posts).

Thomas


From atelier at iebele.nl  Thu Feb  9 11:48:02 2006
From: atelier at iebele.nl (atelier iebele abel)
Date: Thu Feb  9 11:54:26 2006
Subject: [Radiance-general] Anti reflective coated glass
In-Reply-To: <E9E41D929954D54F8457D9E5DA5DBDD1265EF5@ENGRMAIL4.engr.psu.edu>
References: <008b01c62c43$ffb2b290$0201a8c0@design.harvard.edu>	<43EA18E3.1050801@iebele.nl>
	<E9E41D929954D54F8457D9E5DA5DBDD1265EF5@ENGRMAIL4.engr.psu.edu>
Message-ID: <43EB1DE2.2060404@iebele.nl>

Hi Martin,

I've never thought about a relation between reflection and refraction.
Thanks for the hint. It does the trick for now.

Iebele

>You could set the index of refraction of the Radiance material type glass to someting fairly low:
> 
>void glass anti_r
>0 0 4
>.6 .6 .6 1.3 or whatever
> 
>Martin Moeck, Penn State
>
>________________________________
>
>From: radiance-general-bounces@radiance-online.org on behalf of atelier iebele abel
>Sent: Wed 2/8/2006 11:14 AM
>To: Radiance general discussion
>Subject: [Radiance-general] Anti reflective coated glass
>
>
>
>Hi group,
>
>I am working on a model of a shopping mall where we have to compare the
>visibility of the interiors using 'normal and anti reflective glass.
>( we have a sample of LUXAR Anti reflective coated glass here, but no
>equipment to measure ).
>Does anybody has experience with simulating reflective and
>non-reflective glass?
>Some values for the glass primitive or BRTDF func would be very helpfull.
>
>Iebele
>
>
>PS:
>from the glaze csh script, which seems very usefull, I can choose from
>these 5 surface types.
>Is any of these  "non reflective" ?
>
>   1 - clear glass
>   2 - VE1-2M low-E coating
>   3 - PVB laminated
>   4 - V-175 white frit
>   5 - V-933 warm gray frit
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>  
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general@radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>  
>


From kthibault at biomechanicsinc.com  Fri Feb 10 20:50:57 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Feb 10 20:52:45 2006
Subject: [Radiance-general] Importance sampling
Message-ID: <DA91C33A-87AE-4CC4-A364-62F65C939D94@biomechanicsinc.com>

Greg, et al.  Is there an implementation within (or plans for)  
importance sampling when rendering with IBL?  This would be similar  
to the discussion in the new HDRI book on pp. 436-39?

kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault





From gregoryjward at gmail.com  Fri Feb 10 21:11:20 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Feb 10 21:13:03 2006
Subject: [Radiance-general] Importance sampling
In-Reply-To: <DA91C33A-87AE-4CC4-A364-62F65C939D94@biomechanicsinc.com>
References: <DA91C33A-87AE-4CC4-A364-62F65C939D94@biomechanicsinc.com>
Message-ID: <4BB787D9-E02B-4B33-B081-41781C56B523@gmail.com>

mksource
mksource
mksource

-G

> From: Kirk Thibault <kthibault@biomechanicsinc.com>
> Date: February 10, 2006 11:50:57 AM PST
>
> Greg, et al.  Is there an implementation within (or plans for)  
> importance sampling when rendering with IBL?  This would be similar  
> to the discussion in the new HDRI book on pp. 436-39?
>
> kirk
>

From kthibault at biomechanicsinc.com  Fri Feb 10 21:20:19 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Fri Feb 10 21:22:04 2006
Subject: [Radiance-general] Importance sampling
In-Reply-To: <4BB787D9-E02B-4B33-B081-41781C56B523@gmail.com>
References: <DA91C33A-87AE-4CC4-A364-62F65C939D94@biomechanicsinc.com>
	<4BB787D9-E02B-4B33-B081-41781C56B523@gmail.com>
Message-ID: <272E5F1B-4468-4723-A8C2-DD62D759D566@biomechanicsinc.com>

Okay
Okay
Okay!

Oh, i figured as much -- just curious.  :-)

------------------------------


On Feb 10, 2006, at 3:11 PM, Gregory J. Ward wrote:

> mksource
> mksource
> mksource
>
> -G
>
>> From: Kirk Thibault <kthibault@biomechanicsinc.com>
>> Date: February 10, 2006 11:50:57 AM PST
>>
>> Greg, et al.  Is there an implementation within (or plans for)  
>> importance sampling when rendering with IBL?  This would be  
>> similar to the discussion in the new HDRI book on pp. 436-39?
>>
>> kirk
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From christian_fusenig at gmx.de  Sat Feb 11 20:37:58 2006
From: christian_fusenig at gmx.de (Christian Fusenig)
Date: Sat Feb 11 20:39:43 2006
Subject: [Radiance-general] color space and efficacy in color.h
Message-ID: <43EE3D16.5000309@gmx.de>

Dear all,

 I want to visualize 3D designs of TV-Sets and display them on 
calibrated broadcast class A monitors with EBU phosphors.
Is it possible to tell Radiance not to work with the WHTEFFICACY of 179 
lm/w but  the MAXEFFICACY factor of 683 lm/w?
Furthermore i want to use RGB color space with the 'nominal CRT 
Primaries' which are the same as the EBU phosphor coordinates  in 
'color.h'.
I saw the data in the header file but i dont know how to change it. I 
guess this change will affect other programs like falsecolor to.

Whats the advantage working with 179lm/w anyway?  In every book i see 
the factor of 683 lm/w!

-----
#ifdef  NTSC
#define  CIE_x_r        0.670        /* standard NTSC primaries */
....
#else
#define  CIE_x_r        0.640        /* nominal CRT primaries  = EBU 
color space*/
#define  CIE_y_r        0.330
#define  CIE_x_g        0.290
#define  CIE_y_g        0.600
#define  CIE_x_b        0.150
#define  CIE_y_b        0.060
#define  CIE_x_w        0.3333        /* use true white */
#define  CIE_y_w        0.3333
#endif
-----
Does Radiance use the NTSC color space by default ?

I want to create an octree containing the data of a tungsten light 
source i measured.
My goal is to measure the right illuminance under the lamp. I achieved 
it with this command:

echo "1 0 0 0 0 1" |rtrace -I -h lux_test.oct \
            | rcalc -e 
'$1=179*(0.26510582*$1+0.67010582*$2+0.0647883598*$3)'

But i want to create an octree where i can use this command:
echo "1 0 0 0 0 1" |rtrace -I -h lux_test.oct \
            | rcalc -e '$1=683*(0.299*$1+0.587*$2+0.114*$3)'
These factors are the EBU equivalents for brightness in the Y channel.

I hope i made myself understandable, its critical that i can measure the 
correct colors and the correct brightness in Radiance to make sure the 
display will show the exact colors of the design!
Thanks for help so far,

Christian



-- 
Christian Fusenig
Diplomand, Medientechnik
Undergraduate, Media Technology
Hamburg University Of Applied Sciences
http://www.mt.haw-hamburg.de

address: Beim Schlump 27/07
              20144 Hamburg

email:    christian_fusenig@gmx.de

mobile:  ++49 179 5975845







From jelle.feringa at ezct.net  Mon Feb 13 15:06:27 2006
From: jelle.feringa at ezct.net (Jelle Feringa / EZCT Architecture & Design Research)
Date: Mon Feb 13 15:06:26 2006
Subject: [Radiance-general] python | sci-py color utilities
Message-ID: <006201c630a6$af41fe80$0b01a8c0@JELLE>

Perhaps the following module is of interest for the python / radiance crowd.

Note that this module is part of sci-py, but hasn't been officially
released.

 

http://svn.scipy.org/svn/scipy/trunk/Lib/sandbox/image/color.py

 

 

-jelle

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060213/d346f8d2/attachment.htm
From nicolas.roy at VELUX.com  Wed Feb 15 13:26:43 2006
From: nicolas.roy at VELUX.com (Nicolas Roy)
Date: Wed Feb 15 13:28:37 2006
Subject: [Radiance-general] OBJ2MESH - Phong smooth shading and texture
	mapping
Message-ID: <OF38396E44.4FF82C7A-ONC1257116.0043AE03-C1257116.00445D57@DMZ01.WEB>


Hi all,


I recently tried using OBJ2MESH for applying smooth shading to models, made
using a 3rd party CAD software, and also to map textures. None of it
worked.


- I did not see any option for implementing smooth shading in the obj2mesh
manual, can anyone helps explaining how it should be specified?


- For mapping texture I used the following code, but there was no texture
on the object rendered (a ball) just plain color :

void colorpict ball_surface
7 red green blue ball.pic . frac(Lu) frac(Lv)
0
0

ball_surface plastic ball_finish
0
0
5 0.5 0.5 0.5 0 0

ball_finish mesh ball_mesh
1 ball.rtm
0
0


That's about it, any support will be appreciated.


Thanks


From tbleicher at arcor.de  Wed Feb 15 13:57:52 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Wed Feb 15 13:59:33 2006
Subject: [Radiance-general] OBJ2MESH - Phong smooth shading and texture
	mapping
In-Reply-To: <OF38396E44.4FF82C7A-ONC1257116.0043AE03-C1257116.00445D57@DMZ01.WEB>
References: <OF38396E44.4FF82C7A-ONC1257116.0043AE03-C1257116.00445D57@DMZ01.WEB>
Message-ID: <C5FC817D-9452-43A2-9E85-395F3DBCEEBF@arcor.de>


On 15.02.2006, at 13:26, Nicolas Roy wrote:

> Hi all,
>
>
> I recently tried using OBJ2MESH for applying smooth shading to  
> models, made
> using a 3rd party CAD software, and also to map textures. None of it
> worked.

Sorry to hear that. I tested obj2mesh recently and it work for my
file (tested smooth shading only).

Does your CAD app provide vertex normals and uv texture coords?
obj2mesh does not generate it's own coordinates but only translates
those found in the file.

I don't know much about the *obj file format so the following
instructions may not be correct:

To check vertex normals open your *.obj file with a text editor.
For every line starting with "v " there should be a "vn "
line for the vertex normal direction. This alone is no
prove but it shows the normals are exported. I don't know
if *.obj _requires_ normals for each vertex. They still could
be face normals which would show no smoothing effect.

To check UV-coordinates check the lines starting with "f ".
The three or four sets of numbers have the form

<vertex index>/<uv-coord>/<vertex normal>

If no uv-coord is present the field will be empty (like "1//1").


If your app does not provide uv-coords and normals you could
use a 3D modeler with DXF import to convert your geometry to
*.obj files. For simple DXF files Blender (www.blender.org)
can do that.


Thomas


From ian at testers.homelinux.net  Wed Feb 15 15:44:24 2006
From: ian at testers.homelinux.net (Ian Tester)
Date: Wed Feb 15 15:46:21 2006
Subject: [Radiance-general] OBJ2MESH - Phong smooth shading and texture
	mapping
In-Reply-To: <C5FC817D-9452-43A2-9E85-395F3DBCEEBF@arcor.de>
References: <OF38396E44.4FF82C7A-ONC1257116.0043AE03-C1257116.00445D57@DMZ01.WEB>
	<C5FC817D-9452-43A2-9E85-395F3DBCEEBF@arcor.de>
Message-ID: <20060216014424.2ed38b76@saavik.ian.testers.net.au>

On Wed, 15 Feb 2006 13:57:52 +0100
Thomas Bleicher <tbleicher@arcor.de> wrote:

	[snip]

> To check UV-coordinates check the lines starting with "f ".
> The three or four sets of numbers have the form
> 
> <vertex index>/<uv-coord>/<vertex normal>
> 
> If no uv-coord is present the field will be empty (like "1//1").

Almost. Sorry to nitpick, but all of the numbers in the face 'f' lines are
indexes. The preceding 'v' lines define vertex coordinates (x,y,z), the
'vt' lines defined texture coordinates (u,v), and 'vn' lines defined
normals (x,y,z).

e.g
v 0.485127 -1.896 1.33107
...
vt 4.03466 -0.392051
...
vn -0.0165774 -0.999061 0.0400231
...
f  352/1/1 358/2/1 364/3/1

All indexes start from 1. If there are no texture coordinates or a surface
normal for a face, those fields are left blank like you showed.

e.g
f 352// 358// 364//

Is this what you're seeing, Nicholas? If it is, you have to find a way to
produce a .obj file with this information. I can't be of much help
there. Otherwise obj2mesh and Radiance have nothing to work on. Then your
only option is to write your own functions for texture mapping and normal
smoothing.

bye

From mstock at umich.edu  Wed Feb 15 15:54:19 2006
From: mstock at umich.edu (Mark Stock)
Date: Wed Feb 15 15:56:05 2006
Subject: [Radiance-general] OBJ2MESH - Phong smooth shading and texture
	mapping
In-Reply-To: <OF38396E44.4FF82C7A-ONC1257116.0043AE03-C1257116.00445D57@DMZ01.WEB>
References: <OF38396E44.4FF82C7A-ONC1257116.0043AE03-C1257116.00445D57@DMZ01.WEB>
Message-ID: <Pine.LNX.4.63.0602150950520.1149@gravitar.gpcc.itd.umich.edu>


On Wed, 15 Feb 2006, Nicolas Roy wrote:
>
> I recently tried using OBJ2MESH for applying smooth shading to 
> models, made using a 3rd party CAD software, and also to map 
> textures. None of it worked.
>
> - I did not see any option for implementing smooth shading in 
> the obj2mesh manual, can anyone helps explaining how it should 
> be specified?
>
> - For mapping texture I used the following code, but there was no texture
> on the object rendered (a ball) just plain color :
>

Nicolas,

You've received some pretty good information. If you are not 
concerned with texture coordinates, you could use a small tool 
of mine to generate surface normal vectors on a OBJ file. The 
program is called "rocksmooth" and it is in my "rocktools" 
package, available at:

http://mark.technolope.org/rocktools/

If you find that your modeller does not output texture or normal 
indexes, rocktools can read it and create just the normal vectors 
and indexes.

Good luck!

Mark

From kthibault at biomechanicsinc.com  Wed Feb 15 15:55:59 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Wed Feb 15 15:57:48 2006
Subject: [Radiance-general] OBJ2MESH - Phong smooth shading and texture
	mapping
In-Reply-To: <OF38396E44.4FF82C7A-ONC1257116.0043AE03-C1257116.00445D57@DMZ01.WEB>
References: <OF38396E44.4FF82C7A-ONC1257116.0043AE03-C1257116.00445D57@DMZ01.WEB>
Message-ID: <18986AD6-D98F-4D90-B709-2E0E7A129604@biomechanicsinc.com>

If your application (CAD) does not explicitly include vertex normal  
info (vn) try this application:

http://www.uvmapper.com/

it gives you great flexibility in the .obj output and also does a  
nice job at automatically unwrapping .obj's for a UV map that you can  
then paint on, etc.

I use Lightwave for some modeling and it does not export vn's in  
its .obj file exports.  I use UVMapper (Poser will also append vn's)  
and then use obj2mesh and it works fine.  Remember also to subdivide  
your mesh within your CAD program to a good level of detail to help  
the smoothing along.

kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Feb 15, 2006, at 7:26 AM, Nicolas Roy wrote:

>
> Hi all,
>
>
> I recently tried using OBJ2MESH for applying smooth shading to  
> models, made
> using a 3rd party CAD software, and also to map textures. None of it
> worked.
>
>
> - I did not see any option for implementing smooth shading in the  
> obj2mesh
> manual, can anyone helps explaining how it should be specified?
>
>
> - For mapping texture I used the following code, but there was no  
> texture
> on the object rendered (a ball) just plain color :
>
> void colorpict ball_surface
> 7 red green blue ball.pic . frac(Lu) frac(Lv)
> 0
> 0
>
> ball_surface plastic ball_finish
> 0
> 0
> 5 0.5 0.5 0.5 0 0
>
> ball_finish mesh ball_mesh
> 1 ball.rtm
> 0
> 0
>
>
> That's about it, any support will be appreciated.
>
>
> Thanks
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From nicolas.roy at VELUX.com  Wed Feb 15 15:58:47 2006
From: nicolas.roy at VELUX.com (Nicolas Roy)
Date: Wed Feb 15 16:00:32 2006
Subject: [Radiance-general] OBJ2MESH - Phong smooth shading and
	texture	mapping
In-Reply-To: <20060216014424.2ed38b76@saavik.ian.testers.net.au>
Message-ID: <OFF054C85C.5DD49198-ONC1257116.00520332-C1257116.00524982@DMZ01.WEB>

Hi,

Thanks for the valuable information. I'm using Lightwave for modelling and
after inspecting the .obj file I used I can see that I'm missing the
information for vertex normal and UV-coordinates. I get the folowing out of
my .obj exports :


#     OBJ File Generated by LightWave3D
#     LightWave3D OBJ Export v2.2
#     Object: 1
#                     Vertices: 32
#                       Points: 0
#                        Lines: 0
#                        Faces: 36
#                    Materials: 1


o 1

#                  Vertex list

v 1.5 1.5 0.7
v 1.65 1.5 0.740192
v 1.575 1.6299 0.740192
v 1.425 1.6299 0.740192
v 1.35 1.5 0.740192
v 1.425 1.3701 0.740192
v 1.575 1.3701 0.740192
v 1.75981 1.5 0.85
v 1.6299 1.725 0.85
v 1.3701 1.725 0.85
v 1.24019 1.5 0.85
v 1.3701 1.275 0.85
v 1.6299 1.275 0.85
v 1.8 1.5 1
v 1.65 1.75981 1
v 1.35 1.75981 1
v 1.2 1.5 1
v 1.35 1.24019 1
v 1.65 1.24019 1
v 1.75981 1.5 1.15
v 1.6299 1.725 1.15
v 1.3701 1.725 1.15
v 1.24019 1.5 1.15
v 1.3701 1.275 1.15
v 1.6299 1.275 1.15
v 1.65 1.5 1.25981
v 1.575 1.6299 1.25981
v 1.425 1.6299 1.25981
v 1.35 1.5 1.25981
v 1.425 1.3701 1.25981
v 1.575 1.3701 1.25981
v 1.5 1.5 1.3

#         Point/Line/Face list

usemtl Default
f 3 2 1
f 4 3 1
f 5 4 1
f 6 5 1
f 7 6 1
f 2 7 1
f 3 9 8 2
f 10 9 3 4
f 11 10 4 5
f 12 11 5 6
f 13 12 6 7
f 2 8 13 7
f 9 15 14 8
f 16 15 9 10
f 17 16 10 11
f 18 17 11 12
f 19 18 12 13
f 8 14 19 13
f 15 21 20 14
f 22 21 15 16
f 23 22 16 17
f 24 23 17 18
f 25 24 18 19
f 14 20 25 19
f 21 27 26 20
f 28 27 21 22
f 29 28 22 23
f 30 29 23 24
f 31 30 24 25
f 20 26 31 25
f 27 32 26
f 28 32 27
f 32 28 29
f 32 29 30
f 31 32 30
f 26 32 31

#                  End of file

I will now investigate on a new obj exporter.

@                             nicolas.roy@VELUX.com
www                        www.VELUX.com


                                                                                                                                       
                 Ian Tester                                                                                                            
                 <ian@testers.homelinux.net>                                                                                           
                                              To                                                                                       
                 Sent by:                             radiance-general@radiance-online.org                                             
                 radiance-general-bounces@rad cc                                                                                       
                 iance-online.org                                                                                                      
                                              Subject                                                                                  
                                                      Re: [Radiance-general] OBJ2MESH - Phong smooth shading and texture  mapping      
                 15-02-2006 15:44                                                                                                      
                 Please respond to                                                                                                     
                 Radiance general discussion                                                                                           
                 <radiance-general@radiance-o                                                                                          
                 nline.org>                                                                                                            
                 Stationery name:                                                                                                      
                 -Untitled-                                                                                                            
                                                                                                                                       




On Wed, 15 Feb 2006 13:57:52 +0100
Thomas Bleicher <tbleicher@arcor.de> wrote:

             [snip]

> To check UV-coordinates check the lines starting with "f ".
> The three or four sets of numbers have the form
>
> <vertex index>/<uv-coord>/<vertex normal>
>
> If no uv-coord is present the field will be empty (like "1//1").

Almost. Sorry to nitpick, but all of the numbers in the face 'f' lines are
indexes. The preceding 'v' lines define vertex coordinates (x,y,z), the
'vt' lines defined texture coordinates (u,v), and 'vn' lines defined
normals (x,y,z).

e.g
v 0.485127 -1.896 1.33107
...
vt 4.03466 -0.392051
...
vn -0.0165774 -0.999061 0.0400231
...
f  352/1/1 358/2/1 364/3/1

All indexes start from 1. If there are no texture coordinates or a surface
normal for a face, those fields are left blank like you showed.

e.g
f 352// 358// 364//

Is this what you're seeing, Nicholas? If it is, you have to find a way to
produce a .obj file with this information. I can't be of much help
there. Otherwise obj2mesh and Radiance have nothing to work on. Then your
only option is to write your own functions for texture mapping and normal
smoothing.

bye

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From nicolas.roy at VELUX.com  Wed Feb 15 16:38:00 2006
From: nicolas.roy at VELUX.com (Nicolas Roy)
Date: Wed Feb 15 16:39:43 2006
Subject: [Radiance-general] OBJ2MESH - Phong smooth shading and
	texture	mapping
In-Reply-To: <18986AD6-D98F-4D90-B709-2E0E7A129604@biomechanicsinc.com>
Message-ID: <OF328DD116.292610DA-ONC1257116.0055C679-C1257116.0055E08B@DMZ01.WEB>

This UV mapper tool is fantastic, I just made a test and both texture and
smooth shading was on. Thanks!



@                             nicolas.roy@VELUX.com
www                        www.VELUX.com


                                                                                                                                       
                 Kirk Thibault                                                                                                         
                 <kthibault@biomechanicsinc.c                                                                                          
                 om>                          To                                                                                       
                                                      Radiance general discussion <radiance-general@radiance-online.org>               
                 Sent by:                     cc                                                                                       
                 radiance-general-bounces@rad                                                                                          
                 iance-online.org             Subject                                                                                  
                                                      Re: [Radiance-general] OBJ2MESH - Phong smooth shading and texture  mapping      
                                                                                                                                       
                 15-02-2006 15:55                                                                                                      
                 Please respond to                                                                                                     
                 Radiance general discussion                                                                                           
                 <radiance-general@radiance-o                                                                                          
                 nline.org>                                                                                                            
                 Stationery name:                                                                                                      
                 -Untitled-                                                                                                            
                                                                                                                                       




If your application (CAD) does not explicitly include vertex normal
info (vn) try this application:

http://www.uvmapper.com/

it gives you great flexibility in the .obj output and also does a
nice job at automatically unwrapping .obj's for a UV map that you can
then paint on, etc.

I use Lightwave for some modeling and it does not export vn's in
its .obj file exports.  I use UVMapper (Poser will also append vn's)
and then use obj2mesh and it works fine.  Remember also to subdivide
your mesh within your CAD program to a good level of detail to help
the smoothing along.

kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On Feb 15, 2006, at 7:26 AM, Nicolas Roy wrote:

>
> Hi all,
>
>
> I recently tried using OBJ2MESH for applying smooth shading to
> models, made
> using a 3rd party CAD software, and also to map textures. None of it
> worked.
>
>
> - I did not see any option for implementing smooth shading in the
> obj2mesh
> manual, can anyone helps explaining how it should be specified?
>
>
> - For mapping texture I used the following code, but there was no
> texture
> on the object rendered (a ball) just plain color :
>
> void colorpict ball_surface
> 7 red green blue ball.pic . frac(Lu) frac(Lv)
> 0
> 0
>
> ball_surface plastic ball_finish
> 0
> 0
> 5 0.5 0.5 0.5 0 0
>
> ball_finish mesh ball_mesh
> 1 ball.rtm
> 0
> 0
>
>
> That's about it, any support will be appreciated.
>
>
> Thanks
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From kthibault at biomechanicsinc.com  Wed Feb 15 16:53:39 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Wed Feb 15 16:55:27 2006
Subject: [Radiance-general] OBJ2MESH - Phong smooth shading and
	texture	mapping
In-Reply-To: <OF328DD116.292610DA-ONC1257116.0055C679-C1257116.0055E08B@DMZ01.WEB>
References: <OF328DD116.292610DA-ONC1257116.0055C679-C1257116.0055E08B@DMZ01.WEB>
Message-ID: <CD6EEE4F-4EEA-44D8-B6FD-7AC43CC1BC3D@biomechanicsinc.com>

Cool!  Yeah - UV Mapper is pretty nice - try playing around with the  
actual UV maps that it can create too - the export of the map itself  
is a nice feature (no need for taking screenshots of the UV mesh to  
paint textures and patterns on).  I have not actually tried the "Pro"  
version (that costs money) but I am going to look into its additional  
features.  Unwrapping a complex object by hand so the UV map is  
minimally distorted is sort of a drag.

Glad it worked,

kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

On Feb 15, 2006, at 10:38 AM, Nicolas Roy wrote:

> This UV mapper tool is fantastic, I just made a test and both  
> texture and
> smooth shading was on. Thanks!
>
>
>
> @                             nicolas.roy@VELUX.com
> www                        www.VELUX.com
>
>
>
>

From HoffmannCaroline at gmx.de  Wed Feb 15 18:39:28 2006
From: HoffmannCaroline at gmx.de (Caroline Hoffmann)
Date: Wed Feb 15 18:41:08 2006
Subject: [Radiance-general] simulation of an internal roller blind
References: <20060215155648.21367gmx1@mx029.gmx.net>
Message-ID: <18795.1140025168@www101.gmx.net>

Dear Radiance-users,

I would like to simulate in RADIANCE an internal roller blind, which has
according to the supplier (unfortunately they do not know more) the
following properties:

as optical properties(reference to T65): 
transmission: 2,5 %
reflection (to the outside): 71,8 %

could anybody give me please a hint which is the best way to implement this
in RADIANCE?
I could accept a simplification, but what kind of material is the best
choice to do so (glass, trans)? 
Has anybody experiences with this?

I would appreciate any help,

sincerely yours,

Caroline


-- 
Telefonieren Sie schon oder sparen Sie noch?
NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie

From a.lahme at alware.de  Wed Feb 15 19:00:00 2006
From: a.lahme at alware.de (Andreas Lahme)
Date: Wed Feb 15 19:02:02 2006
Subject: Antwort:  [Radiance-general] simulation of an internal roller blind
Message-ID: <20060215180017.8605FAB06@server.alware.de>

An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060215/ae1770c2/attachment.html
From mail_lists at pfbreton.com  Thu Feb 16 04:27:55 2006
From: mail_lists at pfbreton.com (Pierre-Felix Breton)
Date: Thu Feb 16 04:29:40 2006
Subject: Antwort: [Radiance-general] simulation of an internal roller blind
In-Reply-To: <20060215180017.8605FAB06@server.alware.de>
Message-ID: <001b01c632a8$fa1ce510$0164640a@eclipse>

Hi!
 
this is interesting info.   i would like to know why the use of a factor of
1.088579?  Sorry if I missed something already.
 
Best regards,
 
Pierre-F?lix Breton
----------------------------------------------------
pfbreton@pfbreton.com
www.pfbreton.com <http://www.pfbreton.com/> 
 

  

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Andreas
Lahme
Sent: Wednesday, February 15, 2006 1:00 PM
To: Radiance general discussion
Subject: Antwort: [Radiance-general] simulation of an internal roller blind


Dear Caroline,
 
I'd recommend to combine the radiance materials glass and trans assigned to
two planes.
 
1. With the material glass you take into account the angular reduction of
transmission (which the trans material doesn't have). To achieve a
transmission of 2.5% you should use for the R, G and B value of (2.5% *
1.088579).
 
2. To give the roller blind a diffuse transmission you can add the material
trans to the second plane. Here you should use for the R, G and B value 1
(100% transmission). The diffuse part of transmission you can control via
the 7 th parameter (0 = all diffuse).
 
Hope this helps.
 
Kind regards
 
Andreas
 
ALware Andreas Lahme
Leopoldstr. 7a
D-38100 Braunschweig
GERMANY
Fon: +49 . 531 / 250 72 - 80
Fax: +49 . 531 / 250 72 - 81
Mail: a.lahme@alware.de
Internet: www.alware.de
 
 
 
 
 
-----Urspr?ngliche Nachricht-----
Von: Radiance general discussion
Gesendet: 15.02.2006 18:39
An: radiance-general@radiance-online.org
Betreff: [Radiance-general] simulation of an internal roller blind


Dear Radiance-users,

I would like to simulate in RADIANCE an internal roller blind, which has
according to the supplier (unfortunately they do not know more) the
following properties:

as optical properties(reference to T65): 
transmission: 2,5 %
reflection (to the outside): 71,8 %

could anybody give me please a hint which is the best way to implement this
in RADIANCE?
I could accept a simplification, but what kind of material is the best
choice to do so (glass, trans)? 
Has anybody experiences with this?

I would appreciate any help,

sincerely yours,

Caroline


-- 
Telefonieren Sie schon oder sparen Sie noch?
NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060215/74c221c6/attachment.htm
From Christoph.Reinhart at nrc-cnrc.gc.ca  Thu Feb 16 15:06:45 2006
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Thu Feb 16 15:08:36 2006
Subject: Antwort: [Radiance-general] simulation of an internal roller blind
Message-ID: <5910A0754536EA4AAD411AE8221C396201424560@nrccenexb1.nrc.ca>

An alternative approach would be to use "transdata" or "transfunc" to model the roller blind using a single polygon. Of course, this would require one to measure or estimate the angle dependent direct hemispherical transmittance of the system. This information can be retrieved through integrating sphere measurements. Ad hoc, I do not see why a roller blinds system should exhibit the angular transmittance properties of a single glass pane. Maybe someone more qualified could comment on this?
 
If you are not sure how to use trans or transdata, we have done a Radiance validation study for this kind of work, comparing the trans and transdata models to measurements in a full scale mock-up. The results will be most likely be published in a special issue on 'Daylighting' in Energy and Buildings in June 2006. Anybody interested in a sneak preview of the paper, drop me a line.
 
Christoph
 
 
________________________________

From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Andreas Lahme
Sent: Wednesday, February 15, 2006 1:00 PM
To: Radiance general discussion
Subject: Antwort: [Radiance-general] simulation of an internal roller blind


Dear Caroline,
 
I'd recommend to combine the radiance materials glass and trans assigned to two planes.
 
1. With the material glass you take into account the angular reduction of transmission (which the trans material doesn't have). To achieve a transmission of 2.5% you should use for the R, G and B value of (2.5% * 1.088579).
 
2. To give the roller blind a diffuse transmission you can add the material trans to the second plane. Here you should use for the R, G and B value 1 (100% transmission). The diffuse part of transmission you can control via the 7 th parameter (0 = all diffuse).
 
Hope this helps.
 
Kind regards
 
Andreas
 
ALware Andreas Lahme
Leopoldstr. 7a
D-38100 Braunschweig
GERMANY
Fon: +49 . 531 / 250 72 - 80
Fax: +49 . 531 / 250 72 - 81
Mail: a.lahme@alware.de
Internet: www.alware.de
 
 
 
 
 
-----Urspr?ngliche Nachricht-----
Von: Radiance general discussion
Gesendet: 15.02.2006 18:39
An: radiance-general@radiance-online.org
Betreff: [Radiance-general] simulation of an internal roller blind


Dear Radiance-users,

I would like to simulate in RADIANCE an internal roller blind, which has
according to the supplier (unfortunately they do not know more) the
following properties:

as optical properties(reference to T65): 
transmission: 2,5 %
reflection (to the outside): 71,8 %

could anybody give me please a hint which is the best way to implement this
in RADIANCE?
I could accept a simplification, but what kind of material is the best
choice to do so (glass, trans)? 
Has anybody experiences with this?

I would appreciate any help,

sincerely yours,

Caroline


-- 
Telefonieren Sie schon oder sparen Sie noch?
NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060216/10ff2dca/attachment.html
From gregoryjward at gmail.com  Fri Feb 17 20:04:58 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri Feb 17 20:07:02 2006
Subject: [Radiance-general] color space and efficacy in color.h
In-Reply-To: <43EE3D16.5000309@gmx.de>
References: <43EE3D16.5000309@gmx.de>
Message-ID: <CED319F6-AA59-4C0B-BE2B-E994ADF28309@gmail.com>

Hi Christian,

Sorry for the slow reply.  I was hoping someone else would field  
this, then I forgot about it.

Radiance does not use the NTSC color space.  By default, it uses the  
primaries you found after the NTSC ones in color.h.  There is a  
history to the WHTEFFICACY value, which is explained (more or less)  
in the old Radiance Digests.  See:

	http://radsite.lbl.gov/radiance/digests_html/v2n0.html#LUMFACTOR

The bottom line is that the peak efficacy of 683 lumens/watt is only  
the right value at 555 nm, and a poor approximation to the efficacy  
over the visible spectrum.  In the end it doesn't matter what factor  
you use, as you divide by it going from photometric units to radiance  
and multiply again coming out.  In other words, the factor goes away.

If you want to change the notion of what RGB colors Radiance uses,  
there is no formal way to do this.  You just do it.  You specify your  
sources and materials in your desired RGB space, and Radiance doesn't  
really care what color space it's working in.  To work properly with  
various programs that properly interpret Radiance RGBE images, you  
should probably add a line of the form:

PRIMARIES= .603 .352 .289 .590 .146 .066 .319 .348

where these numbers correspond to xr yr xg yg xb yb xw yw,  
respectively.  To add a line to a Radiance image, you can use the  
vinfo script.

I hope this is helpful.
-Greg

> From: Christian Fusenig <christian_fusenig@gmx.de>
> Date: February 11, 2006 11:37:58 AM PST
>
> Dear all,
>
> I want to visualize 3D designs of TV-Sets and display them on  
> calibrated broadcast class A monitors with EBU phosphors.
> Is it possible to tell Radiance not to work with the WHTEFFICACY of  
> 179 lm/w but  the MAXEFFICACY factor of 683 lm/w?
> Furthermore i want to use RGB color space with the 'nominal CRT  
> Primaries' which are the same as the EBU phosphor coordinates  in  
> 'color.h'.
> I saw the data in the header file but i dont know how to change it.  
> I guess this change will affect other programs like falsecolor to.
>
> Whats the advantage working with 179lm/w anyway?  In every book i  
> see the factor of 683 lm/w!
>
> -----
> #ifdef  NTSC
> #define  CIE_x_r        0.670        /* standard NTSC primaries */
> ....
> #else
> #define  CIE_x_r        0.640        /* nominal CRT primaries  =  
> EBU color space*/
> #define  CIE_y_r        0.330
> #define  CIE_x_g        0.290
> #define  CIE_y_g        0.600
> #define  CIE_x_b        0.150
> #define  CIE_y_b        0.060
> #define  CIE_x_w        0.3333        /* use true white */
> #define  CIE_y_w        0.3333
> #endif
> -----
> Does Radiance use the NTSC color space by default ?
>
> I want to create an octree containing the data of a tungsten light  
> source i measured.
> My goal is to measure the right illuminance under the lamp. I  
> achieved it with this command:
>
> echo "1 0 0 0 0 1" |rtrace -I -h lux_test.oct \
>            | rcalc -e '$1=179*(0.26510582*$1+0.67010582*$2 
> +0.0647883598*$3)'
>
> But i want to create an octree where i can use this command:
> echo "1 0 0 0 0 1" |rtrace -I -h lux_test.oct \
>            | rcalc -e '$1=683*(0.299*$1+0.587*$2+0.114*$3)'
> These factors are the EBU equivalents for brightness in the Y channel.
>
> I hope i made myself understandable, its critical that i can  
> measure the correct colors and the correct brightness in Radiance  
> to make sure the display will show the exact colors of the design!
> Thanks for help so far,
>
> Christian

From grobe at gmx.net  Sat Feb 18 21:42:22 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Sat Feb 18 21:44:15 2006
Subject: [Radiance-general] ranimate, recovering from broken rpicts?
Message-ID: <20b7f559db0e093ad73930afa5babe40@gmx.net>

Hi,

it is the first time I ran into trouble with ranimate... I use it, no, 
not render animations, but to distribute single picture renderings over 
an openmosix cluster (I simply use three host lines pointing to 
localhost). Now my rpicts died because of lack of memory (they all 
tried to migrate to one node at once), and I restarted ranimate in the 
hope that it would continue rendering (the pictures rendered almost one 
week so far, and I donot want to start at zero again). I was surprised 
by the following:

- When rpict failed, the frames were still filtered by pfilt, so I have 
frame001-003.pic in the output directory now.
- Still, ranimate found that something went wrong, as it started with 
-ro. I hope it will not get confused by the fact there is already a 
target file frame001.pic.
- Strange enough, ranimate recovered, but now it started just one 
process, though there are three broken (unfinished) frames and more 
waiting in the viewfile. Will it try to recover the three frames one by 
one instead of starting processes on all nodes now? That will take a 
very long time too complete, and my machines are getting lazy ;-)

So, many questions from a ranimate-beginner (and mis-user, but I don't 
want to imagine how much time it will take to render an animation of 
that scene...)

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2134 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060218/09f3500e/smime.bin
From jedev at visarc.com  Sun Feb 19 00:59:53 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Sun Feb 19 01:01:43 2006
Subject: [Radiance-general] ranimate, recovering from broken rpicts?
In-Reply-To: <20b7f559db0e093ad73930afa5babe40@gmx.net>
References: <20b7f559db0e093ad73930afa5babe40@gmx.net>
Message-ID: <43F7B4F9.2030104@visarc.com>

Hi Lars,

I am not sure that I can answer everything here. But I will offer what I 
can. I believe that the recovery mode does operate as one (1) process 
not multiple. It would be too difficult to keep track of what is being 
recovered if there were multiple processes, rather with one process it 
just steps through to pick up anything that is unfinished. I believe 
that it is checking for .unf frames not .pic filtered frames.

Hope this helps a bit.

-Jack

Lars O. Grobe wrote:
> Hi,
>
> it is the first time I ran into trouble with ranimate... I use it, no, 
> not render animations, but to distribute single picture renderings 
> over an openmosix cluster (I simply use three host lines pointing to 
> localhost). Now my rpicts died because of lack of memory (they all 
> tried to migrate to one node at once), and I restarted ranimate in the 
> hope that it would continue rendering (the pictures rendered almost 
> one week so far, and I donot want to start at zero again). I was 
> surprised by the following:
>
> - When rpict failed, the frames were still filtered by pfilt, so I 
> have frame001-003.pic in the output directory now.
> - Still, ranimate found that something went wrong, as it started with 
> -ro. I hope it will not get confused by the fact there is already a 
> target file frame001.pic.
> - Strange enough, ranimate recovered, but now it started just one 
> process, though there are three broken (unfinished) frames and more 
> waiting in the viewfile. Will it try to recover the three frames one 
> by one instead of starting processes on all nodes now? That will take 
> a very long time too complete, and my machines are getting lazy ;-)
>
> So, many questions from a ranimate-beginner (and mis-user, but I don't 
> want to imagine how much time it will take to render an animation of 
> that scene...)
>
> CU Lars.
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060218/3c17f168/attachment.html
From gregoryjward at gmail.com  Sun Feb 19 07:59:11 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun Feb 19 08:01:04 2006
Subject: [Radiance-general] ranimate, recovering from broken rpicts?
In-Reply-To: <43F7B4F9.2030104@visarc.com>
References: <20b7f559db0e093ad73930afa5babe40@gmx.net>
	<43F7B4F9.2030104@visarc.com>
Message-ID: <20857D59-57E3-4170-A2B2-B4824D1C7318@gmail.com>

Hi Lars,

Jack is correct.  Ranimate recovers frames using the following method:

1) Checks "STATUS" file to see where it left off with filtered frames.
2) Starts batch of filtering processes (in parallel according to your  
ranimate input file).
3) For each filtering process that fails (presumably due to  
unfinished rpict output), ranimate starts serial rpict recovery  
processes, one after the other, using local node so it can be sure of  
new rpict exit status.
4) If these rpict runs fail, or pfilt fails afterwards, ranimate  
gives it up as a bad job.

In your case, it might be better to manually start rpict -ro on each  
of the failed frames on separate nodes in your cluster, so the  
processes are not run in serial.

Using ranimate to break up the rendering of large images rather than  
rpiece is a clever idea I had not heard before.  Rpiece has the same  
problem as ranimate with recovering aborted processes, forcing it to  
go through and find the redo the pieces one by one in a serial fashion.

-Greg

> From: Jack de Valpine <jedev@visarc.com>
> Date: February 18, 2006 3:59:53 PM PST
>
> Hi Lars,
>
> I am not sure that I can answer everything here. But I will offer  
> what I can. I believe that the recovery mode does operate as one  
> (1) process not multiple. It would be too difficult to keep track  
> of what is being recovered if there were multiple processes, rather  
> with one process it just steps through to pick up anything that is  
> unfinished. I believe that it is checking for .unf frames not .pic  
> filtered frames.
>
> Hope this helps a bit.
>
> -Jack
>
> Lars O. Grobe wrote:
>> Hi,
>>
>> it is the first time I ran into trouble with ranimate... I use it,  
>> no, not render animations, but to distribute single picture  
>> renderings over an openmosix cluster (I simply use three host  
>> lines pointing to localhost). Now my rpicts died because of lack  
>> of memory (they all tried to migrate to one node at once), and I  
>> restarted ranimate in the hope that it would continue rendering  
>> (the pictures rendered almost one week so far, and I donot want to  
>> start at zero again). I was surprised by the following:
>>
>> - When rpict failed, the frames were still filtered by pfilt, so I  
>> have frame001-003.pic in the output directory now.
>> - Still, ranimate found that something went wrong, as it started  
>> with -ro. I hope it will not get confused by the fact there is  
>> already a target file frame001.pic.
>> - Strange enough, ranimate recovered, but now it started just one  
>> process, though there are three broken (unfinished) frames and  
>> more waiting in the viewfile. Will it try to recover the three  
>> frames one by one instead of starting processes on all nodes now?  
>> That will take a very long time too complete, and my machines are  
>> getting lazy ;-)
>>
>> So, many questions from a ranimate-beginner (and mis-user, but I  
>> don't want to imagine how much time it will take to render an  
>> animation of that scene...)
>>
>> CU Lars.

From pisuke at blueyonder.co.uk  Sun Feb 19 10:17:44 2006
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Sun Feb 19 10:19:34 2006
Subject: [Radiance-general] ranimate, recovering from broken rpicts?
In-Reply-To: <20857D59-57E3-4170-A2B2-B4824D1C7318@gmail.com>
References: <20b7f559db0e093ad73930afa5babe40@gmx.net>
	<43F7B4F9.2030104@visarc.com>
	<20857D59-57E3-4170-A2B2-B4824D1C7318@gmail.com>
Message-ID: <200602190917.44566.pisuke@blueyonder.co.uk>

Hello,

> In your case, it might be better to manually start rpict -ro on each
> of the failed frames on separate nodes in your cluster, so the
> processes are not run in serial.

I agree with Greg, and I think you can launch rpict -ro directly
on your "master" node and wait for automatic migration, 
or use the "runon" or "migrate" scripts to move the jobs to your
preferred nodes, if necessary.

In my experience, for separate single frame renderings with radiance
and openmosix I launch the rendering jobs from the same machine
with shell scripts or rad -N.

I use a sequence of rpiece commands like this
mosrun -t 1 -d 700 rpiece @args &
mosrun -t 1 -d 700 rpiece @args &
...

to distribute a large image rendering over my cluster.

HTH,

-- 
Francesco

From tbleicher at arcor.de  Sun Feb 19 12:22:48 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sun Feb 19 12:24:31 2006
Subject: [Radiance-general] obj2mesh, UV coordinates and image aspect
Message-ID: <68E0B2D5-DE09-46EE-A3DF-FB399BF5CAAE@arcor.de>

This time I have a question about UV mapping:

I tried to export UV texture coordinates from Blender and used
the example from the manpage of obj2mesh to define a texture:

        void colorpict tiled_pat
        7 red green blue mytile.pic . frac(Lu) frac(Lv)
        0
        0

        tiled_pat plastic tiled_mat
        0
        0
        5 .9 .9 .9 0 0

        tiled_mat mesh tiled_mesh
        1 mymesh.rtm
        0
        0

The man page says this works for square images. My image was
a rectangle at first and was converted to a square later, but
both images had the same (wrong) look. I have uploaded two
images (one from Blender, one from rpict) to illustrate the
difference.

http://home.arcor.de/tbleicher/blender/bliff/current.html

My questions now are:

1) What went wrong?
2) How would I define a non-rectangulare image texture?

Please not that I have not checked the quality of the generated
UV coordinates. They are generated by a established *.obj exporter
for Blender and I think they are correct for now. My understanding
of the Radiance texture mapping options is so bad that I expect
the error in the texture definition.


Thanks and have a nice weekend,

Thomas

From grobe at gmx.net  Sun Feb 19 14:10:11 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Feb 19 14:12:04 2006
Subject: [Radiance-general] ranimate, recovering from broken rpicts?
In-Reply-To: <200602190917.44566.pisuke@blueyonder.co.uk>
References: <20b7f559db0e093ad73930afa5babe40@gmx.net>
	<43F7B4F9.2030104@visarc.com>
	<20857D59-57E3-4170-A2B2-B4824D1C7318@gmail.com>
	<200602190917.44566.pisuke@blueyonder.co.uk>
Message-ID: <f474d9a6575e5b63d84bae47a102d6ce@gmx.net>

Hi!

> I agree with Greg, and I think you can launch rpict -ro directly
> on your "master" node and wait for automatic migration,
> or use the "runon" or "migrate" scripts to move the jobs to your
> preferred nodes, if necessary.

I usually start all jobs on my local node and let them get migrated. 
This will usually take some minutes, but as the rendering time for a 
picture is better described in weeks than days at the moment, the 
startup time is not important as longs as the nodes do not run out of 
memory. Also I think I should write a small how-to, as this way of 
distributing renderings works really nice (as long as the network is 
stable, else the ssh or former rsh way is more fault tolerant).

I started the rpict processes just the same way ranimate would do, as 
far as I know rpict -ro will find out which view to use from the 
viewfile as this should be containes in the image header, right? So the 
command is

nohup /opt/openmosix/bin/mosrun -c /opt/radiance/bin/rpict 
@stills/render.opt -w0 -ro stills/frame003.unf scene_illum.oct &

for the third frame. In fact, it is amazing again and again how 
powerful these small little radiance tools are, e.g. that I can recover 
that easily...

One other question, did anyone use openssi with radiance? It should 
even allow to use rpict with shared memory (-PP), but I could not 
install it so far because it like to live in it's own network, and my 
machines have to integrate in an existing network.

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2134 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060219/62583c41/smime.bin
From rpg at rumblestrip.org  Sun Feb 19 17:28:09 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Sun Feb 19 17:30:12 2006
Subject: [Radiance-general] ranimate, recovering from broken rpicts?
In-Reply-To: <f474d9a6575e5b63d84bae47a102d6ce@gmx.net>
References: <20b7f559db0e093ad73930afa5babe40@gmx.net>	<43F7B4F9.2030104@visarc.com>	<20857D59-57E3-4170-A2B2-B4824D1C7318@gmail.com>	<200602190917.44566.pisuke@blueyonder.co.uk>
	<f474d9a6575e5b63d84bae47a102d6ce@gmx.net>
Message-ID: <43F89C99.7010808@rumblestrip.org>

Lars O. Grobe wrote:

> I usually start all jobs on my local node and let them get migrated. 
> This will usually take some minutes, but as the rendering time for a 
> picture is better described in weeks than days at the moment, the 
> startup time is not important as longs as the nodes do not run out of 
> memory. Also I think I should write a small how-to, as this way of 
> distributing renderings works really nice (as long as the network is 
> stable, else the ssh or former rsh way is more fault tolerant).


Yes Lars, I was fascinated to read of your use of ranimate, and would 
love to hear more about the process.  Francesco, you had posted a 
lengthy analysis of your use of openmosix a while back, but I thought 
your conclusion was that the performance was not worth the hassle.  I 
just re-read it and I see that my recollection is a little off.  It 
seems that if you have enough (fast) machines to dedicate to the effort, 
you can set up a really killer rendering cluster.  I will have to delve 
into this a bit more.  Lars & Francesco, I'd love to hear more about 
your process(es) for doing distributed renderings.  I recently started 
using rad -N on multiprocessor machines at work, but of course now I 
want more. =) 

From jedev at visarc.com  Sun Feb 19 18:59:32 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Sun Feb 19 19:01:28 2006
Subject: [Radiance-general] ranimate, recovering from broken rpicts?
In-Reply-To: <f474d9a6575e5b63d84bae47a102d6ce@gmx.net>
References: <20b7f559db0e093ad73930afa5babe40@gmx.net>	<43F7B4F9.2030104@visarc.com>	<20857D59-57E3-4170-A2B2-B4824D1C7318@gmail.com>	<200602190917.44566.pisuke@blueyonder.co.uk>
	<f474d9a6575e5b63d84bae47a102d6ce@gmx.net>
Message-ID: <43F8B204.6030409@visarc.com>

Hi Lars,

In brief again. I did some preliminary experimentation with OpenSSI a 
couple of years ago. I think that it shows a lot of promise and a very 
supportive user group. I believe a couple of the developers are from HP 
and thus really interested in developing a robust and stable platform. 
They have integrated some of HPs clustering technology as well as tools 
from other systems. I believe that they have utilized some elements of 
the OpenMosix load balancing algorithm.

As you know I did experiment with OpenMosix as well prior to learning 
about OpenSSI. At the time my experiments lead me to recognize a problem 
with OpenMosix when jobs requiring large allocations of memory start up, 
(eg multiple jobs get started on a given node, the jobs need to load to 
memory prior to getting migrated, however the memory requirement exceeds 
that of the local node thus swapping occurs). Thus my instinct if I were 
to use openmosix, would be to forgo the automated migration mechanism 
and develop a simple scheduler that would send jobs out to specified nodes.

If I decide to move forward with a clustering solution, my instinct 
would be to go with OpenSSI at this time. This would be from standpoint 
of stability, robustness, shared filesystems and development team. But 
this is just my bias without anything well documented at this time to 
support it. There was an excellent paper written on Single System Images 
comparing (openmosix, openssi and Kerrighed)

    http://www.irisa.fr/paris/Biblio/Papers/Lottiaux/LotBoiGalValMor05CCGrid.pdf


The latter is a clustering solution out of a French research group, 
though I am not sure if it available in any kind of stable release, (I 
have not checked).

I am happy to see that you and Francesco at least have made some real 
efforts to use OpenMosix in a production setting. It would be great to 
hear about some of your experiences thus far. I think that the real 
opportunity of these clustering systems is as follows:

   1. single process space across nodes
   2. shared filesystems that do locking/caching correctly (ie more
      stable than NFS)

There are many others, but these are the main features that come to mind.

Best,

-Jack de Valpine

Lars O. Grobe wrote:
> Hi!
>
>> I agree with Greg, and I think you can launch rpict -ro directly
>> on your "master" node and wait for automatic migration,
>> or use the "runon" or "migrate" scripts to move the jobs to your
>> preferred nodes, if necessary.
>
> I usually start all jobs on my local node and let them get migrated. 
> This will usually take some minutes, but as the rendering time for a 
> picture is better described in weeks than days at the moment, the 
> startup time is not important as longs as the nodes do not run out of 
> memory. Also I think I should write a small how-to, as this way of 
> distributing renderings works really nice (as long as the network is 
> stable, else the ssh or former rsh way is more fault tolerant).
>
> I started the rpict processes just the same way ranimate would do, as 
> far as I know rpict -ro will find out which view to use from the 
> viewfile as this should be containes in the image header, right? So 
> the command is
>
> nohup /opt/openmosix/bin/mosrun -c /opt/radiance/bin/rpict 
> @stills/render.opt -w0 -ro stills/frame003.unf scene_illum.oct &
>
> for the third frame. In fact, it is amazing again and again how 
> powerful these small little radiance tools are, e.g. that I can 
> recover that easily...
>
> One other question, did anyone use openssi with radiance? It should 
> even allow to use rpict with shared memory (-PP), but I could not 
> install it so far because it like to live in it's own network, and my 
> machines have to integrate in an existing network.
>
> CU Lars.
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060219/21b16eec/attachment.html
From francesco.anselmo at arup.com  Mon Feb 20 10:39:22 2006
From: francesco.anselmo at arup.com (Francesco Anselmo)
Date: Mon Feb 20 10:41:07 2006
Subject: [Radiance-general] obj2mesh, UV coordinates and image aspect
Message-ID: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>

Hi Thomas,

If you're using the blender uv editor, try to have a look at the 
function exportRadianceMeshOBJ here:
http://cvs.savannah.nongnu.org/viewcvs/brad/brad/brad/brad_radiance.py?r
oot=brad&view=markup

I remember having similar problems and having fixed them with this
check:
w,h = img.getSize()
if w>h:
   objfile.write("vt " + str(uvco[0]*(float(w)/float(h))) + " " +
str(uvco[1]) + "\n")
else:
   objfile.write("vt " + str(uvco[0]) + " " +
str(uvco[1]*(float(h)/float(w))) + "\n")

I then use:

void colorpict facematerialbasename
7 red green blue facematerialbasename.pic . Lu Lv
0
0

Hope to have understood your problem, and that this helps.

Ciao,

F.
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From tbleicher at arcor.de  Mon Feb 20 13:21:42 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Feb 20 13:23:26 2006
Subject: [Radiance-general] obj2mesh, UV coordinates and image aspect
In-Reply-To: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
Message-ID: <A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>


On 20.02.2006, at 10:39, Francesco Anselmo wrote:

> I remember having similar problems and having fixed them with this
> check:
> w,h = img.getSize()
> if w>h:
>    objfile.write("vt " + str(uvco[0]*(float(w)/float(h))) + " " +
> str(uvco[1]) + "\n")
> else:
>    objfile.write("vt " + str(uvco[0]) + " " +
> str(uvco[1]*(float(h)/float(w))) + "\n")

Thanks for the hint. I mad a few tests with different images
and found that the exported UV coords are always in the range
(0,1) for _both_ dimensions. I think this is the common range
for UVs in all CG applications except Radiance. Here we have
coords range (0,1) for the smaller dimension and (0,l/s) for
the larger, so above 1 for all non-square images.

As a result the texture image area is croped to the lower left
square of the image. Your code multiplies the coords for the
larger side with the image aspect (>1!) to cover the whole
image in Radiance texture space. I'll have to go that way, too,
(no big thing for a dedicated Radiance exporter) but I wish
there was a way to define the texture with the right image aspect
so any uv enabled *.obj file could be mapped correctly without
rewriting the coords.

> void colorpict facematerialbasename
> 7 red green blue facematerialbasename.pic . Lu Lv
> 0
> 0

Just checked the meaning of 'frac()' and I think Lu/Lv is in
fact the better choice for uv coord mapping than frac(Lu/Lv).
The vertices do not have to cover the whole image after all.

> Hope to have understood your problem, and that this helps.

Yes. Another step closer to Blender world domination.

Thomas

From gregoryjward at gmail.com  Mon Feb 20 17:24:28 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon Feb 20 17:26:06 2006
Subject: [Radiance-general] obj2mesh, UV coordinates and image aspect
In-Reply-To: <A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
Message-ID: <A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>

Hi Thomas,

If the problem is really just the fact that you have non-square  
images, this is easily remedied in your Radiance description.  If the  
horizontal dimension in your image is larger -- say 1.5 times the  
vertical dimension, you would use a (0-1) range for each of u and v  
like so:

        void colorpict tiled_pat
        7 red green blue mytile.pic . Lu*1.5 Lv
        0
        0

        tiled_pat plastic tiled_mat
        0
        0
        5 .9 .9 .9 0 0

        tiled_mat mesh tiled_mesh
        1 mymesh.rtm
        0
        0

-Greg

From tbleicher at arcor.de  Mon Feb 20 17:51:29 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Feb 20 17:53:11 2006
Subject: [Radiance-general] obj2mesh proposal [was: obj2mesh,
	UV coordinates and image aspect]
In-Reply-To: <A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
Message-ID: <D211B7CE-6C1A-41EE-8B4B-BE90DAD476B3@arcor.de>

Hello group, hello Greg ;)

My recent experiments with obj2mesh and uv coordinates have
inspired a proposal to add uv coordinate conversion to
obj2mesh.

The problem:

Radiance works in a texture coordinate system of (Lu,Lv)
where the _smaller_ dimension is 1.0 and the larger is >1.0.
Other file formats (especially *.obj) work in a texture
spaces that's normalized to 1 (both dimension are in the
range (0,1) regardless of width and height of the image).

When uv coordinates are present in an *.obj file that's
converted via obj2mesh the coordinates are taken as they
are found which is only correct for square images. In other
cases only the lower left square of the texture image is
used for the mapping.

Current solution:

The uv coordinates of the *.obj file have to be converted
to the range expected by Radiance before the mesh is created
with obj2mesh. This is not difficult but it would change the
content of the original file in a way that's probably against
the specs of the *.obj file format.

Alternative:

My proposal is to add a new option to obj2mesh to set the
aspect ratio of the texture image when the mesh is created.
obj2mesh can do the necessary conversion of the normalized
uv coordinates and write the converted values to the mesh.

The informations necessary are the relation of the image
dimensions and which side is the larger one (w or h). Both
can be given in a single float when we assume a w/h aspect
of the images (though I'm not sure this convention exists
anywhere in Radiance). The default should be a 1.0 aspect
so the current behavior is preserved even without the new
option given.

Since '-a' and '-r' are already used in obj2mesh the new
option could be '-t' (for texture aspect). Example:

$ obj2mesh -t 0.5 input.obj output.rtm

to map the uv coords of the *.obj to a landscape texture
image (eg. w=200 h=400 px).


Please correct me if anything is wrong with this idea or
if it's incompatible with the current use of obj2mesh.


Thomas

PS: I may have difficulties replying to emails in the next
     days or weeks. Please don't think I'm avoiding the wrath
     if a reply takes a some days.




From gregoryjward at gmail.com  Mon Feb 20 18:18:07 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon Feb 20 18:19:46 2006
Subject: [Radiance-general] obj2mesh proposal
In-Reply-To: <D211B7CE-6C1A-41EE-8B4B-BE90DAD476B3@arcor.de>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
	<D211B7CE-6C1A-41EE-8B4B-BE90DAD476B3@arcor.de>
Message-ID: <0F4C07C9-FBE7-4F63-9F9E-51F9B615ADF2@gmail.com>

Hi Thomas,

As I indicated in my last e-mail, which you must not have received  
before sending this one, it is simplest to correct for the difference  
in (u,v) coordinates in the Radiance pattern specification.  There is  
no need to either modify obj2mesh or the .OBJ exporter to obtain a  
correct mapping.  Radiance coordinate mappings are programmable for a  
reason...

If you want to create a utility to automate the process, I suggest  
creating one that converts the texture input to Radiance picture  
format, simultaneously outputting an appropriate material/pattern  
definition, which must be served as an input to obj2mesh, anyway.  If  
you're ambitious, you could even look into translating the material  
parameters to Radiance's physically-based model.  Does this make sense?

-Greg

From tbleicher at arcor.de  Mon Feb 20 18:38:21 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Feb 20 18:40:08 2006
Subject: [Radiance-general] obj2mesh proposal [was: obj2mesh,
	UV coordinates and image aspect]
In-Reply-To: <D211B7CE-6C1A-41EE-8B4B-BE90DAD476B3@arcor.de>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
	<D211B7CE-6C1A-41EE-8B4B-BE90DAD476B3@arcor.de>
Message-ID: <5CC79C5A-BCDB-4B24-A64F-DCF6E7593839@arcor.de>

Forget that! See the other post and the solution by Greg.

Thomas


On 20.02.2006, at 17:51, Thomas Bleicher wrote:

> Hello group, hello Greg ;)
>
> My recent experiments with obj2mesh and uv coordinates have
> inspired a proposal to add uv coordinate conversion to
> obj2mesh.
>
> The problem:
>
> Radiance works in a texture coordinate system of (Lu,Lv)
> where the _smaller_ dimension is 1.0 and the larger is >1.0.
> Other file formats (especially *.obj) work in a texture
> spaces that's normalized to 1 (both dimension are in the
> range (0,1) regardless of width and height of the image).
>
> When uv coordinates are present in an *.obj file that's
> converted via obj2mesh the coordinates are taken as they
> are found which is only correct for square images. In other
> cases only the lower left square of the texture image is
> used for the mapping.
>
> Current solution:
>
> The uv coordinates of the *.obj file have to be converted
> to the range expected by Radiance before the mesh is created
> with obj2mesh. This is not difficult but it would change the
> content of the original file in a way that's probably against
> the specs of the *.obj file format.
>
> Alternative:
>
> My proposal is to add a new option to obj2mesh to set the
> aspect ratio of the texture image when the mesh is created.
> obj2mesh can do the necessary conversion of the normalized
> uv coordinates and write the converted values to the mesh.
>
> The informations necessary are the relation of the image
> dimensions and which side is the larger one (w or h). Both
> can be given in a single float when we assume a w/h aspect
> of the images (though I'm not sure this convention exists
> anywhere in Radiance). The default should be a 1.0 aspect
> so the current behavior is preserved even without the new
> option given.
>
> Since '-a' and '-r' are already used in obj2mesh the new
> option could be '-t' (for texture aspect). Example:
>
> $ obj2mesh -t 0.5 input.obj output.rtm
>
> to map the uv coords of the *.obj to a landscape texture
> image (eg. w=200 h=400 px).
>
>
> Please correct me if anything is wrong with this idea or
> if it's incompatible with the current use of obj2mesh.
>
>
> Thomas
>
> PS: I may have difficulties replying to emails in the next
>     days or weeks. Please don't think I'm avoiding the wrath
>     if a reply takes a some days.
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From tbleicher at arcor.de  Mon Feb 20 18:47:04 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Feb 20 18:48:49 2006
Subject: [Radiance-general] obj2mesh, UV coordinates and image aspect
In-Reply-To: <A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
	<A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>
Message-ID: <CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>

Hi Greg. Thanks for that solution.


On 20.02.2006, at 17:24, Gregory J. Ward wrote:

> Hi Thomas,
>
> If the problem is really just the fact that you have non-square
> images, this is easily remedied in your Radiance description.
> If the horizontal dimension in your image is larger -- say 1.5 times
> the vertical dimension, you would use a (0-1) range for each of
> u and v like so:
>
>        void colorpict tiled_pat
>        7 red green blue mytile.pic . Lu*1.5 Lv
>        0
>        0

This is what I was after in the first place. I tried exactly
this version in an earlier version of my description but I could
not see any effect. So I messed with the uv coords directly.

Now I've tried it again after your affirmation and - voila -
image mapping as desired. (I think I had an additional material
definition somewhere in the scene during my first tests that
redefined all my manual changes so they never had any effect
I could see.)


Thanks again. I knew it had to be something simple like that.

Thomas


From tbleicher at arcor.de  Mon Feb 20 19:31:13 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Feb 20 19:32:57 2006
Subject: [Radiance-general] obj2mesh proposal
In-Reply-To: <0F4C07C9-FBE7-4F63-9F9E-51F9B615ADF2@gmail.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
	<D211B7CE-6C1A-41EE-8B4B-BE90DAD476B3@arcor.de>
	<0F4C07C9-FBE7-4F63-9F9E-51F9B615ADF2@gmail.com>
Message-ID: <DCB4F215-2228-427B-930F-1403B224B5D2@arcor.de>


On 20.02.2006, at 18:18, Gregory J. Ward wrote:

> Hi Thomas,
>
> As I indicated in my last e-mail, which you must not have received
> before sending this one, it is simplest to correct for the difference
> in (u,v) coordinates in the Radiance pattern specification.  There
> is no need to either modify obj2mesh or the .OBJ exporter to obtain
> a correct mapping.  Radiance coordinate mappings are programmable
> for a reason...

I received you message 15 minutes to late. Anyway I changed it now
according to your example (that could be included in the man-page,
btw.).

> If you want to create a utility to automate the process, I suggest
> creating one that converts the texture input to Radiance picture
> format, simultaneously outputting an appropriate material/pattern
> definition, which must be served as an input to obj2mesh, anyway.

I have done that already. I can't count on the existence of the
texture image in the filesystem (could be stored in the Blender
scene file) so the image is created if necessary, converted to
HDR and saved as a resource for the Radiance scene.

Optionally I could apply 'normpat' as well but the default texture
(rgb = 0.9) does not need that. The image aspect is now part of
the texture definition as well.

> If you're ambitious, you could even look into translating the
> material parameters to Radiance's physically-based model. Does
> this make sense?

We thought about that but the material definitions used in Blender
(and probably all other 3D modelers) are only useful to define
a nice looking material, not one that's physically correct. We
will use a 'library' instead and define the Radiance description
by assignment or name.

Same thing with luminaires BTW. The typical 3D object 'lamp' has
not enough information to define a real world luminaire. Our
library backend for luminaires may be the topic of another post
in a few days.


Thomas



From kthibault at biomechanicsinc.com  Mon Feb 20 21:12:50 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Mon Feb 20 21:14:41 2006
Subject: [Radiance-general] obj2mesh, UV coordinates and image aspect
In-Reply-To: <CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
	<A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>
	<CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>
Message-ID: <9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>

Interesting thing - I recently started using Blender 2.41 (from 2.37)  
and I hadn't gotten around to reinstalling b/rad.  So I downloaded  
the latest and copied brad.py into the ./blender/scripts folder and  
cp -R copied the "brad" directory into the ./blender/scripts  
directory as well, per the install instructions.  Now, when I go to  
Blender's "Scripts" interface to update the menus, the only scripts  
that appear in the scripts menus are the ones that are alphabetically  
before brad.py, (brad is not included).  As soon as I rm brad.py and  
the brad directory, the Blender Scripts menu is back to normal, with  
all of the available scripts as before.

Any thoughts on why this happens?  if I manually load brad.py in  
Blender (into the test window) from the Scripts directory and then  
Alt-P (well, Option-P on the Mac) I get a console error telling me:  
ImportError: No module named brad_i18n - etc.

Mac OS X 10.4.4, G4 dual 1.25, Blender 2.41, Python 2.4 - brad.py is  
Rev 1.8 from Aug 11, 2005 (from CVS) and the rest is from brad 0.1b.   
The same thing happened with the brad.py file original 0.1b release,  
etc.


Thomas - pretty neat interface to brad from within Blender - I'm  
interested to see how this turns out.

Thanks,

kirk
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault







From jedev at visarc.com  Mon Feb 20 21:17:22 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Feb 20 21:19:13 2006
Subject: [Radiance-general] Blender
In-Reply-To: <9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>	<A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>	<CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>
	<9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>
Message-ID: <43FA23D2.3090803@visarc.com>

While you guys (Thomas and Kirk) are on the topic. Would you mind 
sharing your opinions on the capabilities of Blender as a modeling tool 
and exporting to Radiance? How would you compare it to something like 
Autocad (if you have the experience).

Thanks,

-Jack

Kirk Thibault wrote:
> Interesting thing - I recently started using Blender 2.41 (from 2.37) 
> and I hadn't gotten around to reinstalling b/rad.  So I downloaded the 
> latest and copied brad.py into the ./blender/scripts folder and cp -R 
> copied the "brad" directory into the ./blender/scripts directory as 
> well, per the install instructions.  Now, when I go to Blender's 
> "Scripts" interface to update the menus, the only scripts that appear 
> in the scripts menus are the ones that are alphabetically before 
> brad.py, (brad is not included).  As soon as I rm brad.py and the brad 
> directory, the Blender Scripts menu is back to normal, with all of the 
> available scripts as before.
>
> Any thoughts on why this happens?  if I manually load brad.py in 
> Blender (into the test window) from the Scripts directory and then 
> Alt-P (well, Option-P on the Mac) I get a console error telling me: 
> ImportError: No module named brad_i18n - etc.
>
> Mac OS X 10.4.4, G4 dual 1.25, Blender 2.41, Python 2.4 - brad.py is 
> Rev 1.8 from Aug 11, 2005 (from CVS) and the rest is from brad 0.1b.  
> The same thing happened with the brad.py file original 0.1b release, etc.
>
>
> Thomas - pretty neat interface to brad from within Blender - I'm 
> interested to see how this turns out.
>
> Thanks,
>
> kirk
> ------------------------------
>
> Kirk L. Thibault, Ph.D.
> kthibault@biomechanicsinc.com
>
> p.  215.271.7720
> f.   215.271.7740
> c.  267.918.6908
>
> skype. kirkthibault
>
>
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From tbleicher at arcor.de  Mon Feb 20 21:42:38 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Feb 20 21:44:25 2006
Subject: [Radiance-general] obj2mesh, UV coordinates and image aspect
In-Reply-To: <9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
	<A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>
	<CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>
	<9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>
Message-ID: <ABD85242-B505-4DE6-B996-825868C09D96@arcor.de>


On 20.02.2006, at 21:12, Kirk Thibault wrote:

> Interesting thing - I recently started using Blender 2.41 (from  
> 2.37) and I hadn't gotten around to reinstalling b/rad.  So I  
> downloaded the latest and copied brad.py into the ./blender/scripts  
> folder and cp -R copied the "brad" directory into the ./blender/ 
> scripts directory as well, per the install instructions.  Now, when  
> I go to Blender's "Scripts" interface to update the menus, the only  
> scripts that appear in the scripts menus are the ones that are  
> alphabetically before brad.py, (brad is not included).  As soon as  
> I rm brad.py and the brad directory, the Blender Scripts menu is  
> back to normal, with all of the available scripts as before.
>
> Any thoughts on why this happens?  if I manually load brad.py in  
> Blender (into the test window) from the Scripts directory and then  
> Alt-P (well, Option-P on the Mac) I get a console error telling me:  
> ImportError: No module named brad_i18n - etc.

Hi Kirk.

I know Francesco did not have much time to keep b/rad in sync with
Blender development. I expect that the problems with the menu
are the result of a failed "import" of brad. The bundled scripts
are tested with Blender 2.41, brad is not.

I made b/rad work recently with an explicit "brad_path" setting.
I have made a few changes to the original file as well but i don't
think they are important.

As first step try to set "brad_path" to the directory where you
keep the "brad.py" and the "brad" directory, i. e.

brad_path = "/Users/kirk/blender/scripts/"

(around line 101 in brad.py; line count may differ but it is well
commented). That did the trick for me on OS X 10.4.4, Python 2.3.

> Mac OS X 10.4.4, G4 dual 1.25, Blender 2.41, Python 2.4 -

When your at Python 2.4 I think you know your way around Python
and OS X. Keep an eye on the imports in the script. If they fail
any error message could be the result. Perhaps add

try:
     import ...
     import ...
except ImportError, err:
     print "ERROR", err

to the import section to check this explicitly.

> brad.py is Rev 1.8 from Aug 11, 2005 (from CVS) and the rest is from
> brad 0.1b.  The same thing happened with the brad.py file original
> 0.1b release, etc.

I got my version sometime after September 2005 from Francesco's web
site (tar ball, not CVS).

> Thomas - pretty neat interface to brad from within Blender -
> I'm interested to see how this turns out.

Me too ;)

You can download the snapshots here:

http://home.arcor.de/tbleicher/blender/bliff/download.html

There is no tutorial and they are not tested much. I have not
yet separated the brad parts from the GUI toolkit so it's one
download. The zip file is fresh and contains today's texture
mapping update.

Don't get frustrated,

Thomas




From kthibault at biomechanicsinc.com  Mon Feb 20 22:52:36 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Mon Feb 20 22:54:25 2006
Subject: [Radiance-general] obj2mesh, UV coordinates and image aspect
In-Reply-To: <ABD85242-B505-4DE6-B996-825868C09D96@arcor.de>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>
	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>
	<A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>
	<CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>
	<9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>
	<ABD85242-B505-4DE6-B996-825868C09D96@arcor.de>
Message-ID: <BDD2E1A8-0C33-4465-9380-69ED9C4D6BC3@biomechanicsinc.com>

I manually changed the brad_path at line 101 and it worked.  Hot  
diggity dog.  Thanks Thomas!

kirk

------------------------------

Kirk L. Thibault, Ph.D.

On Feb 20, 2006, at 3:42 PM, Thomas Bleicher wrote:


>
> As first step try to set "brad_path" to the directory where you
> keep the "brad.py" and the "brad" directory, i. e.
>
> brad_path = "/Users/kirk/blender/scripts/"
>
> (around line 101 in brad.py; line count may differ but it is well
> commented). That did the trick for me on OS X 10.4.4, Python 2.3.


From tbleicher at arcor.de  Mon Feb 20 23:02:45 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Feb 20 23:04:28 2006
Subject: [Radiance-general] Blender
In-Reply-To: <43FA23D2.3090803@visarc.com>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>	<A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>	<CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>
	<9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>
	<43FA23D2.3090803@visarc.com>
Message-ID: <F1CCD0B3-C717-4A77-9986-A0B8EEAE726E@arcor.de>


On 20.02.2006, at 21:17, Jack de Valpine wrote:

> While you guys (Thomas and Kirk) are on the topic. Would you mind
> sharing your opinions on the capabilities of Blender as a modeling
> tool and exporting to Radiance? How would you compare it to something
> like Autocad (if you have the experience).

I would not recommend Blender to people new to 3D graphics. It's
interface is and will ever be very 'unique'. Now there are good
guides available (even for download, see "Blender 2.3 Guide" at

http://www.blender.org/cms/Documentation.628.0.html

) to help you get over the first shock but Blender keeps changing
and the documentation unfortunately not or not as fast (some
features presented in the Guide are not available in the current
2.41 version or have been moved or renamed).

Compared to $$$$ software like 3D Studio MAX you see and feel that
it's a community project. Some features that could be considered
essential are not available or very limited (i.e. solid modeling).
Integration or exchange with other commercial applications (AutoCAD)
is on the basis of community maintained Python scripts.

Now, why bother with Blender?

Compared to other open source 3D apps it _is_ very powerful and
has a lot of feature: 3D editing, animation, rendering, sequence
(video) editing, game engine and others.

Blender can deal with large data sets and it has import/export
to DXF, OBJ and a lot of other formats. The support may be basic
sometimes but even commercial applications may only provide a
small subset of the DXF format.

The GUI is "dated" by todays standards but very flexible. You
can subdivide and define your layout as you like and store it
for later access (one layout for editing, one for export, etc.).

The big advantage from my point of view is the Python scripting
API. Blender makes nearly the complete OpenGL commands available
for scripts which can be used to present and display arbitrary
data to the user (like I do in the GUI toolkit/brad interface
with 3D graphs). You have to do a lot of programming to get
something suitable for complex tasks but I have done it and we
now can built on this with future Radiance export scripts.

Whenever Blender's own features are not enough you can use the
Python Standard Library and other Python modules to extend the
functionality (database access, networking, PDF output etc.).


WRT Radiance I think Blender has some features that make it
a perfect scene setup tool:

- separate entities for object instances and object data
   (data = *.rad file; instance = "!xform ..." of this file)

- hierarchical object relations
   (nested "!xform ..." commands in Radiance)

- multiple scenes in one file with shared data
   (scene "building", scene "office day", scene "office night")

- different object types for objects(mesh), camera, lamps

- DXF import, grid/object snap and numeric input for editing


Some day in the (near) future I hope to be able to:

  1) load polygon data from DXF into Blender
  2) assign materials from library to polygon objects
  3) add lamps as desired, assign luminaire data to lamps
     get lampdata (*.ies, *.ltd) from network db or local files
  4) define viewpoints and animation for walkthroughs
  5) define fields/grids for rtrace calculations
  6) set up object animation (i.e. moveable blinds)
  7) set up sky settings and animations
     based on gensky, gendaylit or HDR images
  8) set preprocess options like mkillum etc.
  9) check scene setup in rvu
10) export to manually editable Radiance scene input for
     rad, ranimate, make or our own control scripts
11) upload export to render daemon on BIG server
12) follow render process in process monitor while editing
13) load images and rtrace results for visualization/evaluation
14) combine
      * scene images (rpict or Blender)
      * scene stats (materials, number and type of lamps, etc)
      * rtrace results (table, graphs)
      * evaluation (graphs again, falsecolor, contour images)
     to project reports
15) export scene to alternate "nice picture" renderer like
     YafRay for visualization if Radiance is not enough
16) die late, health, happy and rich ;)


At least that was the plan.

Thomas





From kthibault at biomechanicsinc.com  Tue Feb 21 03:28:18 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Feb 21 03:30:08 2006
Subject: [Radiance-general] Blender
In-Reply-To: <F1CCD0B3-C717-4A77-9986-A0B8EEAE726E@arcor.de>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>	<A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>	<CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>
	<9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>
	<43FA23D2.3090803@visarc.com>
	<F1CCD0B3-C717-4A77-9986-A0B8EEAE726E@arcor.de>
Message-ID: <A4688346-675D-4D34-90D9-5C6FFE063319@biomechanicsinc.com>

Jack,

See Thomas's comments below.  ;-)

I too see Blender as being a powerful complement to Radiance because  
of the Python API, giving the Radiance end-user of Blender the  
ability to extend Blender to suit the needs of Radiance.  It appears  
that Thomas has some pretty impressive goals for integrating Blender  
and Radiance even more tightly than I was imagining, but his ideas  
fit exactly my personal opinion of what I picture Radiance to be - a  
collection of tools that one can link together in endless  
combinations to achieve the specific task at hand.  The open and  
Python-scriptable nature of Blender makes this a natural extension of  
the Radiance model.

Blender's modeling metaphor and control layout takes a little getting  
used to but it is customizable, so if you are used to using the left  
or right or middle mouse button to do certain things, etc. all that  
is configurable.  I am not a CAD user, so I cannot compare the two to  
your level of detail, however, it is fairly robust as a modeler,  
supporting NURBS and Subd's, etc.  I suppose it depends on what you  
are looking for it to do.  It may be that Blender is a middle step in  
workflow that demands the precision of CAD and the flexibility to  
condition that CAD output into something more Radiance friendly and  
customizable.  As Thomas mentioned, it would make the perfect "set  
up" tool - complex modeling in CAD, scene set-up, lighting and  
material selection, etc. in Blender and tweaking, crunching and  
analysis with Radiance's computing and analysis tools.  You can;t  
beat the price.

I use Lightwave and Blender, mostly because I like trying the same  
thing in different ways to see how each app handles my solutions.

Good luck!

kirk


On Feb 20, 2006, at 5:02 PM, Thomas Bleicher wrote:

>
> On 20.02.2006, at 21:17, Jack de Valpine wrote:
>
>> While you guys (Thomas and Kirk) are on the topic. Would you mind
>> sharing your opinions on the capabilities of Blender as a modeling
>> tool and exporting to Radiance? How would you compare it to something
>> like Autocad (if you have the experience).
>
> I would not recommend Blender to people new to 3D graphics. It's
> interface is and will ever be very 'unique'. Now there are good
> guides available (even for download, see "Blender 2.3 Guide" at
>
> http://www.blender.org/cms/Documentation.628.0.html
>
> ) to help you get over the first shock but Blender keeps changing
> and the documentation unfortunately not or not as fast (some
> features presented in the Guide are not available in the current
> 2.41 version or have been moved or renamed).
>
> Compared to $$$$ software like 3D Studio MAX you see and feel that
> it's a community project. Some features that could be considered
> essential are not available or very limited (i.e. solid modeling).
> Integration or exchange with other commercial applications (AutoCAD)
> is on the basis of community maintained Python scripts.
>
> Now, why bother with Blender?
>
> Compared to other open source 3D apps it _is_ very powerful and
> has a lot of feature: 3D editing, animation, rendering, sequence
> (video) editing, game engine and others.
>
> Blender can deal with large data sets and it has import/export
> to DXF, OBJ and a lot of other formats. The support may be basic
> sometimes but even commercial applications may only provide a
> small subset of the DXF format.
>
> The GUI is "dated" by todays standards but very flexible. You
> can subdivide and define your layout as you like and store it
> for later access (one layout for editing, one for export, etc.).
>
> The big advantage from my point of view is the Python scripting
> API. Blender makes nearly the complete OpenGL commands available
> for scripts which can be used to present and display arbitrary
> data to the user (like I do in the GUI toolkit/brad interface
> with 3D graphs). You have to do a lot of programming to get
> something suitable for complex tasks but I have done it and we
> now can built on this with future Radiance export scripts.
>
> Whenever Blender's own features are not enough you can use the
> Python Standard Library and other Python modules to extend the
> functionality (database access, networking, PDF output etc.).
>
>
> WRT Radiance I think Blender has some features that make it
> a perfect scene setup tool:
>
> - separate entities for object instances and object data
>   (data = *.rad file; instance = "!xform ..." of this file)
>
> - hierarchical object relations
>   (nested "!xform ..." commands in Radiance)
>
> - multiple scenes in one file with shared data
>   (scene "building", scene "office day", scene "office night")
>
> - different object types for objects(mesh), camera, lamps
>
> - DXF import, grid/object snap and numeric input for editing
>
>
> Some day in the (near) future I hope to be able to:
>
>  1) load polygon data from DXF into Blender
>  2) assign materials from library to polygon objects
>  3) add lamps as desired, assign luminaire data to lamps
>     get lampdata (*.ies, *.ltd) from network db or local files
>  4) define viewpoints and animation for walkthroughs
>  5) define fields/grids for rtrace calculations
>  6) set up object animation (i.e. moveable blinds)
>  7) set up sky settings and animations
>     based on gensky, gendaylit or HDR images
>  8) set preprocess options like mkillum etc.
>  9) check scene setup in rvu
> 10) export to manually editable Radiance scene input for
>     rad, ranimate, make or our own control scripts
> 11) upload export to render daemon on BIG server
> 12) follow render process in process monitor while editing
> 13) load images and rtrace results for visualization/evaluation
> 14) combine
>      * scene images (rpict or Blender)
>      * scene stats (materials, number and type of lamps, etc)
>      * rtrace results (table, graphs)
>      * evaluation (graphs again, falsecolor, contour images)
>     to project reports
> 15) export scene to alternate "nice picture" renderer like
>     YafRay for visualization if Radiance is not enough
> 16) die late, health, happy and rich ;)
>
>
> At least that was the plan.
>
> Thomas
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From kthibault at biomechanicsinc.com  Tue Feb 21 03:30:42 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue Feb 21 03:32:31 2006
Subject: [Radiance-general] Blender
In-Reply-To: <F1CCD0B3-C717-4A77-9986-A0B8EEAE726E@arcor.de>
References: <2C0020B9EB71CE4281B292F0E16A6DDE7FC869@ldcexc02.global.arup.com>	<A22E9EEA-7920-44A8-836D-0DFCE7225045@arcor.de>	<A9230BDD-27E2-4F7F-BA62-0BD03FB7B582@gmail.com>	<CE3109FB-02D4-4E61-8ABA-3A7C9EA2F4D7@arcor.de>
	<9C959B0D-ED49-4FDB-9D4E-1CC6668AB4AF@biomechanicsinc.com>
	<43FA23D2.3090803@visarc.com>
	<F1CCD0B3-C717-4A77-9986-A0B8EEAE726E@arcor.de>
Message-ID: <A02C62B4-BD7B-4EA6-9253-E0B329AE0E0B@biomechanicsinc.com>

Thomas.

First - Wow.
Second - I will gladly test it out for you, I can crash almost  
anything ;-)

This would be a thing of beauty.

kirk


On Feb 20, 2006, at 5:02 PM, Thomas Bleicher wrote:
>
>
> Some day in the (near) future I hope to be able to:
>
>  1) load polygon data from DXF into Blender
>  2) assign materials from library to polygon objects
>  3) add lamps as desired, assign luminaire data to lamps
>     get lampdata (*.ies, *.ltd) from network db or local files
>  4) define viewpoints and animation for walkthroughs
>  5) define fields/grids for rtrace calculations
>  6) set up object animation (i.e. moveable blinds)
>  7) set up sky settings and animations
>     based on gensky, gendaylit or HDR images
>  8) set preprocess options like mkillum etc.
>  9) check scene setup in rvu
> 10) export to manually editable Radiance scene input for
>     rad, ranimate, make or our own control scripts
> 11) upload export to render daemon on BIG server
> 12) follow render process in process monitor while editing
> 13) load images and rtrace results for visualization/evaluation
> 14) combine
>      * scene images (rpict or Blender)
>      * scene stats (materials, number and type of lamps, etc)
>      * rtrace results (table, graphs)
>      * evaluation (graphs again, falsecolor, contour images)
>     to project reports
> 15) export scene to alternate "nice picture" renderer like
>     YafRay for visualization if Radiance is not enough
> 16) die late, health, happy and rich ;)
>
>
> At least that was the plan.
>
> Thomas
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From grobe at gmx.net  Thu Feb 23 21:42:27 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Feb 23 21:44:22 2006
Subject: [Radiance-general] Ranimate on Openmosix for distibuted rendering
	of frames, not animations
In-Reply-To: <20857D59-57E3-4170-A2B2-B4824D1C7318@gmail.com>
References: <20b7f559db0e093ad73930afa5babe40@gmx.net>
	<43F7B4F9.2030104@visarc.com>
	<20857D59-57E3-4170-A2B2-B4824D1C7318@gmail.com>
Message-ID: <8f5ac75b8ebd0d8945e4cb9b2c8190e5@gmx.net>

Hi,

as this cluser-processing topic occurs again and again, I started some 
documentation which can be found here:

http://www.larsgrobe.de/projects/radiance/ranimate_openmosix/

Hope this is helpful and will become even more informative in the 
future ;-) CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2134 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060223/66309ba1/smime.bin
From nicolas.roy at VELUX.com  Thu Feb 23 22:03:22 2006
From: nicolas.roy at VELUX.com (Nicolas Roy)
Date: Thu Feb 23 22:05:22 2006
Subject: [Radiance-general] Nicolas Roy is out of the office,
	please leave a message.
Message-ID: <OF89D4B1FB.E9C7B31F-ONC125711E.0073AA8B-C125711E.0073AA8B@velux.com>


I will be out of the office starting  21-02-2006 and will not return until
17-03-2006.

I will respond to your message as soon as I return.


From marcdevon at hotmail.com  Fri Feb 24 22:18:58 2006
From: marcdevon at hotmail.com (Marcus Jacobs)
Date: Fri Feb 24 22:20:57 2006
Subject: [Radiance-general] Mesh Rendering Performance
Message-ID: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>

Dear Group

I have been using obj2mesh to convert my 3D scene to the Radiance triangular 
mesh (rtm) format for the last 6-8 months. Although I do prefer using this 
method to convert my scenes, a recent test confirmed that the performance 
suffers greatly when using a mesh when compared to using a scene consisting 
of polygonal objects (i.e. void polygon triangle1 ......) . Case in point, 
one rendering took 8.7 for the scene consisting of a mesh primitive and 3.7 
hours to render for the scene consisting of triangular polygon primitives. 
This is with the -n option set to 6, which should yield the best performance 
(actually, its about the same whether I leave -n to the default or if I use 
a lower value). A slight performance decrease (5%-10%) would be acceptable 
but 135% is extreme. On top of that, I have some modified source code for 
o_face that can yield a 10%-20%+ performance increase without any additional 
memory cost (It's just an implementation of Moller-Trumbore ray/triangle 
intersection). What is surprising to me is that I would normally assume that 
the mesh primitive would be more efficient due to its caching of the 
ray/edge comparisons during ray tracing but this does not seem to be the 
case. Out of curiosity, has anyone here experienced the same? Does anyone 
here know if Radiance sees the rtm file as one huge mesh or as several  
smaller meshes? If this is the case, does anyone know if breaking each scene 
object as a separate mesh primitive would improve performance?

Thanks

Marcus



From gregoryjward at gmail.com  Sat Feb 25 02:12:02 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat Feb 25 02:13:54 2006
Subject: [Radiance-general] Mesh Rendering Performance
In-Reply-To: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>
References: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>
Message-ID: <68969C85-9DC0-4BFC-A087-650AE3F3C321@gmail.com>

Hi Marcus,

It doesn't surprise me that much that the mesh intersection routines  
are slower.  Many more operations are required to compute the ray- 
triangle intersection when the plane equation is unknown.  I chose  
not to store the plane equation because it would approximately triple  
the amount of memory used per triangle during rendering, and the  
whole point of the mesh primitive is to minimize memory use.  It's a  
classic time/space trade-off.  The performance would be even worse if  
it weren't for the edge caching, which takes only a modest amount of  
memory.

The other thing that costs is transforming the ray before and after  
intersection, similar to having an octree instance (which it is).   
Breaking the mesh into smaller pieces may or may not help matters,  
depending on how compact the mesh octree is.  In other words, it's a  
good idea to use multiple object meshes if the combined mesh is  
spread mostly in one or two dimensions, or is very sparsely populated  
by geometry.  That way, you can avoid many of the the voxel  
computations through empty space.  However, just like octree  
instances, it doesn't pay to have many overlapping mesh bounding cubes.

I hope this helps.
-Greg

P.S.  Meshes are faster in any case when you have local (u,v) texture  
coordinates.

> From: "Marcus Jacobs" <marcdevon@hotmail.com>
> Date: February 24, 2006 1:18:58 PM PST
>
> Dear Group
>
> I have been using obj2mesh to convert my 3D scene to the Radiance  
> triangular mesh (rtm) format for the last 6-8 months. Although I do  
> prefer using this method to convert my scenes, a recent test  
> confirmed that the performance suffers greatly when using a mesh  
> when compared to using a scene consisting of polygonal objects  
> (i.e. void polygon triangle1 ......) . Case in point, one rendering  
> took 8.7 for the scene consisting of a mesh primitive and 3.7 hours  
> to render for the scene consisting of triangular polygon  
> primitives. This is with the -n option set to 6, which should yield  
> the best performance (actually, its about the same whether I leave - 
> n to the default or if I use a lower value). A slight performance  
> decrease (5%-10%) would be acceptable but 135% is extreme. On top  
> of that, I have some modified source code for o_face that can yield  
> a 10%-20%+ performance increase without any additional memory cost  
> (It's just an implementation of Moller-Trumbore ray/triangle  
> intersection). What is surprising to me is that I would normally  
> assume that the mesh primitive would be more efficient due to its  
> caching of the ray/edge comparisons during ray tracing but this  
> does not seem to be the case. Out of curiosity, has anyone here  
> experienced the same? Does anyone here know if Radiance sees the  
> rtm file as one huge mesh or as several  smaller meshes? If this is  
> the case, does anyone know if breaking each scene object as a  
> separate mesh primitive would improve performance?
>
> Thanks
>
> Marcus

From jelleferinga at gmail.com  Sat Feb 25 13:22:35 2006
From: jelleferinga at gmail.com (Jelle Feringa / EZCT Architecture & Design Research)
Date: Sat Feb 25 13:24:26 2006
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 24, Issue 23
In-Reply-To: <20060225105904.32398.qmail@mailbox.hrnoc.net>
References: <20060225105904.32398.qmail@mailbox.hrnoc.net>
Message-ID: <37fac3b90602250422t3c937b3dm6c616f1a463a6263@mail.gmail.com>

Marcus, Greg,

I had somewhat the opposite experience in terms of render speed / the
mesh//polygon primitive.
On a less technical note, the mesh primitive has allowed me to efficiently
render complex geometry, which was nearly impossible to compile into an
octree.
Certainly for geometry which has a lot of overlapping triangles, the mesh
primitive has had a significant on memory consumption.
I cannot explain why, but I've been able to render geometry produced by
obj2mesh, where oconv required absurd -r values, and massive memory
consumption to produce incredible slow, massive octrees.
In short, I think the mesh primitive has allowed one to produce & render
complex  geometry very efficiently.
This underscores Greg's remark that the efficiency of the mesh primitive is
largely scene dependent.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060225/925b0e9c/attachment.htm
From gregoryjward at gmail.com  Sat Feb 25 22:42:36 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sat Feb 25 22:44:30 2006
Subject: [Radiance-general] Mesh Rendering Performance
In-Reply-To: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>
References: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>
Message-ID: <7B695E27-07BC-4D86-AFF8-DA33C6076CEB@gmail.com>

I spent a little time looking at the Moeller-Trumbore ray-triangle  
intersection routine.  I could in principal apply their technique  
rather than the Segura-Feito method I'm using.  In comparison, the M- 
T algorithm requires one less cross-product, but two more divides  
than S-F.  Furthermore, M-T computes the Barycentric coordinates and  
intersection distance simultaneously, which I end up having to  
compute following a successful test.  However, I wouldn't be able to  
cache edges like I am with S-F, which probably saves 40% of the  
computation time.  Since I reject between 5 and 10 triangles for  
every intersection I end up computing, and only calculate Barycentric  
coordinates on at most one ray per mesh, my gut feeling is that the M- 
T algorithm would actually be slower if I were to replace the S-F  
algorithm I have in there.  Of course, you are welcome to try it.   
There is also a fair amount of room for optimizing the code in there  
using assembler, but I never bother with that....

-Greg



From grobe at gmx.net  Sun Feb 26 10:38:23 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Feb 26 10:40:21 2006
Subject: [Radiance-general] Mesh Rendering Performance
In-Reply-To: <7B695E27-07BC-4D86-AFF8-DA33C6076CEB@gmail.com>
References: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>
	<7B695E27-07BC-4D86-AFF8-DA33C6076CEB@gmail.com>
Message-ID: <814553ecc7ac40056a3377b2d97adbd2@gmx.net>

Hi,

just tried out, replaces my meshes by obj2rad-oconv-generated 
instances. May be faster, but now my rpict-process takes 1.4 GB instead 
of 700 MB ;-) So I guess I will have to stay with those "slow" 
meshes...

CU Lars.

P.S.: Concerning optimizations: I think trying to introduce assembler 
into radiance code is a bad idea, as it breaks portability, a great 
strength of the current code. Still, I think one should think about if 
the code could not be written to be more vector-friendly. Than 
compilers could do the rest (auto-vectorization is even in gcc since 
4.0), and those who want to try (like me ;-) could simple replace some 
functions. Some ideas would be like passing not only one ray, but ray 
clusters to the subfunctions, so that these could be implemented to do 
calculations in parallel. Another help would be to replace the 
unflexible datatypes by unions. I ran into trouble when I just wanted 
to Altivec some routines. As mat4, fvec etc are simply arrays, I have 
to get the data in a altivec-suitable format, which causes overhead. If 
they had been e.g. unions (containing nothing but an array), I would 
have simply changed this to be an union of array and vector. All 
unchanged functions would work as now, and still I could directly apply 
altivec code on data. Those who think altivec is out because Apple 
build x86: this year we might see the first cell-processor machines. 
And vector units are built into almost all platforms today.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2134 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060226/b4126464/smime.bin
From grobe at gmx.net  Sun Feb 26 12:39:29 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Sun Feb 26 12:41:26 2006
Subject: [Radiance-general] Mesh Rendering Performance
In-Reply-To: <68969C85-9DC0-4BFC-A087-650AE3F3C321@gmail.com>
References: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>
	<68969C85-9DC0-4BFC-A087-650AE3F3C321@gmail.com>
Message-ID: <def92f2f604d36d9234bfb8fd3b9ad64@gmx.net>

Hi Greg, hi group.

> The other thing that costs is transforming the ray before and after 
> intersection, similar to having an octree instance (which it is).

Hm, as we are on that topic... why do we need an extra primitive for 
these precompiled meshes? It would be so nice to treat them just like 
instances. Obj2mesh is just some kind of a different oconv, that allows 
to get some information into the octree that would be lost if we used 
obj2rad, because radiance scene has no vocabulary for it, right?

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2134 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060226/5ac410fe/smime.bin
From gregoryjward at gmail.com  Sun Feb 26 18:06:28 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun Feb 26 18:08:20 2006
Subject: [Radiance-general] Mesh Rendering Performance
In-Reply-To: <def92f2f604d36d9234bfb8fd3b9ad64@gmx.net>
References: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>
	<68969C85-9DC0-4BFC-A087-650AE3F3C321@gmail.com>
	<def92f2f604d36d9234bfb8fd3b9ad64@gmx.net>
Message-ID: <C0A1DB89-D2A1-40D9-9C45-4CE21056C94C@gmail.com>

Hi Lars,

The only part that is common between a Radiance triangle mesh and an  
octree (as used for an instance primitive) is the octree data  
structure itself.  The mesh is stored very differently from a set of  
Radiance primitives -- a quick look at src/common/mesh.h should  
convince you of that.  I had to add a function pointer to the RAY  
structure in order that the specialized intersection routine would be  
called, interpreting the OBJECT id's as indices into the mesh patch  
list.

Other than the different primitive name, you can treat meshes just  
like instances.  Is it so inconvenient to swap the primitive name?   
It was a bit of work to get them to look and behave the same...  Now  
you want them to be the same?

I'm confused.
-Greg

> From: Lars O. Grobe <grobe@gmx.net>
> Date: February 26, 2006 3:39:29 AM PST
>
> Hi Greg, hi group.
>
>> The other thing that costs is transforming the ray before and  
>> after intersection, similar to having an octree instance (which it  
>> is).
>
> Hm, as we are on that topic... why do we need an extra primitive  
> for these precompiled meshes? It would be so nice to treat them  
> just like instances. Obj2mesh is just some kind of a different  
> oconv, that allows to get some information into the octree that  
> would be lost if we used obj2rad, because radiance scene has no  
> vocabulary for it, right?
>
> CU Lars.

From gregoryjward at gmail.com  Sun Feb 26 18:11:41 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun Feb 26 18:13:33 2006
Subject: [Radiance-general] Mesh Rendering Performance
In-Reply-To: <814553ecc7ac40056a3377b2d97adbd2@gmx.net>
References: <BAY102-F198EF7F777CF434858D064A4F30@phx.gbl>
	<7B695E27-07BC-4D86-AFF8-DA33C6076CEB@gmail.com>
	<814553ecc7ac40056a3377b2d97adbd2@gmx.net>
Message-ID: <F33291D3-C527-469C-89E0-F902D4CD7A7D@gmail.com>

Hi Lars,

I don't know quite understand how changing the struct's to union's  
would help in vectorizing the code -- you'll have to give me an  
explicit example, and this is probably one for radiance-dev.

As for clustering rays, this is not as easy as it may sound.  We  
would have to reorder the entire ray calculation in order to generate  
bundles of dissociated rays, as otherwise you naturally get a tree  
with many daughter rays generated for each parent diverging in all  
directions in your scene.  Grouping daughters together you get almost  
no coherence, and techniques for getting good ray bundles are fairly  
complicated.  (See for example, Matt Pharr, Craig Kolb, Reid  
Gershbein, and Pat Hanrahan, "Rendering Complex Scenes with Memory- 
Coherent Ray Tracing," Proc. SIGGRAPH 1997 <http:// 
graphics.stanford.edu/papers/coherentrt/>.)

-Greg

> From: Lars O. Grobe <grobe@gmx.net>
> Date: February 26, 2006 1:38:23 AM PST
>
> Hi,
>
> just tried out, replaces my meshes by obj2rad-oconv-generated  
> instances. May be faster, but now my rpict-process takes 1.4 GB  
> instead of 700 MB ;-) So I guess I will have to stay with those  
> "slow" meshes...
>
> CU Lars.
>
> P.S.: Concerning optimizations: I think trying to introduce  
> assembler into radiance code is a bad idea, as it breaks  
> portability, a great strength of the current code. Still, I think  
> one should think about if the code could not be written to be more  
> vector-friendly. Than compilers could do the rest (auto- 
> vectorization is even in gcc since 4.0), and those who want to try  
> (like me ;-) could simple replace some functions. Some ideas would  
> be like passing not only one ray, but ray clusters to the  
> subfunctions, so that these could be implemented to do calculations  
> in parallel. Another help would be to replace the unflexible  
> datatypes by unions. I ran into trouble when I just wanted to  
> Altivec some routines. As mat4, fvec etc are simply arrays, I have  
> to get the data in a altivec-suitable format, which causes  
> overhead. If they had been e.g. unions (containing nothing but an  
> array), I would have simply changed this to be an union of array  
> and vector. All unchanged functions would work as now, and still I  
> could directly apply altivec code on data. Those who think altivec  
> is out because Apple build x86: this year we might see the first  
> cell-processor machines. And vector units are built into almost all  
> platforms today.

From rpg at rumblestrip.org  Tue Feb 28 07:16:58 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Feb 28 07:18:52 2006
Subject: [Radiance-general] MacBook Pro Report
Message-ID: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>

Well, I got my MacBook Pro today, and have been playing with it this  
evening a bit. Update:

It does not want to play nice with my wireless router, so I had to  
steal bandwidth from a neighbor who has a slow connection and no  
awareness of wireless security. Spent 3 hours downloading X-code so I  
could compile Radiance, then discovered that it was on the CDs that  
came with the computer.  Duh.

Anyway, once I got x-code installed, I was able to compile Radiance  
straight away. I guessed at the compile options, sort-of combining  
the linux and OSX gcc options from the makefile.  Here's the case I  
created:

case 8:                 # MacOS X on Intel
         set mach="-DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/ 
usr/X11R6/lib"
         set opt="-O3"
         set arch=IBMPC
         set extras="CC=cc"
         set special="ogl"
         breaksw

I got some errors, but at this point everything seemed to compile.   
I'd be happy to share the errors if someone wants to tell me how the  
heck to save the make output to a file (the errors scrolled off the  
screen before I could read them).  Then I installed X11 from the  
included CDs, and created a .bash_profile file that looks like this:

PATH=/usr/local/bin:$PATH
RAYPATH=.:/usr/local/lib/ray
export PATH RAYPATH

# if we're not SSH'd in
if [ ! ${SSH_TTY} ]; then
# make sure X is running
if [ "`ps -x | awk '{print $5}' | grep X11`" = "" ]; then
open /Applications/Utilities/X11.app &
# then refocus Terminal.app
osascript -e 'tell appliction "Terminal" to activate'
fi
# if DISPLAY isn't set
if [ x${DISPLAY} = x ]; then
export DISPLAY=:0
fi
fi


Then I was able to run some test scenes from the obj directory (I  
haven't even begun to move all my files from my old computer), and  
they ran fine (and fast).

Greg, the Universal binary of Photosphere loaded (instantly), but I  
have no catalogs or images on here yet, so all I can say is it loads.

More later for sure.  I plan to run Mark Stock's benchmark test and  
play with the holodeck on here, but right now I need to put some  
music on this thing and my cat is screaming for her catnip.

- Rob Guglielmetti

From tbleicher at arcor.de  Tue Feb 28 10:41:03 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Tue Feb 28 10:42:50 2006
Subject: [Radiance-general] MacBook Pro Report
In-Reply-To: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>
References: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>
Message-ID: <64D94A8D-873D-495D-AE92-6400B72171F1@arcor.de>


On 28.02.2006, at 07:16, Rob Guglielmetti wrote:

> Anyway, once I got x-code installed, I was able to compile Radiance  
> straight away. I guessed at the compile options, sort-of combining  
> the linux and OSX gcc options from the makefile.  Here's the case I  
> created:
>
> case 8:                 # MacOS X on Intel
>         set mach="-DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include - 
> L/usr/X11R6/lib"
>         set opt="-O3"
>         set arch=IBMPC
>         set extras="CC=cc"
>         set special="ogl"
>         breaksw

For the PowerPC version I started with the "-fast" option the Apple
gcc provides. Didn't work but it would have been a nice shortcut for
maximum performance settings. Does your Intel gcc have a similar
option (see man page)?

> I got some errors, but at this point everything seemed to compile.
> I'd be happy to share the errors if someone wants to tell me how
> the heck to save the make output to a file (the errors scrolled off
> the screen before I could read them).

sudo ./makeall install | tee makeall.out

(I'd include a "man tee" as well but the BSD man page for tee is
rather concise.)

> Then I installed X11 from the included CDs, and created  
> a .bash_profile
> file that looks like this:

Q1: Did you have the X11 development stuff installed when you compiled
     Radiance? IIRC it has to be selected manually.

> PATH=/usr/local/bin:$PATH

Word of warning: It is common on Unix systems to place the non-system
path ("/usr/local", "/opt" etc.) in front of the system path. As long
as your only installing Radiance that's no problem. Fink or any other
package that provides file utils ("mv", "cp", "rm" ...) should be listed
only _after_ the system path on OS X. These tools have special knowledge
of the OS X file system (resource forks) that common Unix/GNU binaries
don't have. It would cause no damage but if you copy a file on the
command line you want it to appear in Finder as well. This would not
happen if your bash selects the fink "cp" because it's the first in
the search path.

> RAYPATH=.:/usr/local/lib/ray
> export PATH RAYPATH
>
> # if we're not SSH'd in
> if [ ! ${SSH_TTY} ]; then
> # make sure X is running
> if [ "`ps -x | awk '{print $5}' | grep X11`" = "" ]; then
> open /Applications/Utilities/X11.app &
> # then refocus Terminal.app
> osascript -e 'tell appliction "Terminal" to activate'
> fi
> # if DISPLAY isn't set
> if [ x${DISPLAY} = x ]; then
> export DISPLAY=:0
> fi
> fi

Any reason why you don't use

if [ ! ${DISPLAY} ]; then

as you did with SSH_TTY?

> Then I was able to run some test scenes from the obj directory
> (I haven't even begun to move all my files from my old computer),
> and they ran fine (and fast).

My cat recently peed on my laptop which is the reason I have to look
for a new one now. Furry beasts!

Thanks for sharing your information.

Thomas




From rpg at rumblestrip.org  Tue Feb 28 18:06:41 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Feb 28 18:08:46 2006
Subject: [Radiance-general] MacBook Pro Report
In-Reply-To: <64D94A8D-873D-495D-AE92-6400B72171F1@arcor.de>
References: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>
	<64D94A8D-873D-495D-AE92-6400B72171F1@arcor.de>
Message-ID: <44048321.40709@rumblestrip.org>

Thomas Bleicher wrote:

> For the PowerPC version I started with the "-fast" option the Apple
> gcc provides. Didn't work but it would have been a nice shortcut for
> maximum performance settings. Does your Intel gcc have a similar
> option (see man page)?


It does, thanks Thomas.  I just recompiled with -fast instead of -O3, 
and got no errors at all (thanks again for the "tee tip").  I will try 
to run the Stock benchmark today.  All the test scenes in the obj 
directory really fly!  The cabin holodeck scene is a lot more fun to 
play with on this thing. =8-)


> Q1: Did you have the X11 development stuff installed when you compiled
>     Radiance? IIRC it has to be selected manually.


Yeah, it was installed when I installed xcode.  I don't recall having to 
specifically tell the installer to install the X11 devel stuff, but it 
was certainly there when I compiled Radiance.  No errors, and I have 
ximage and rvu, etc. 

>> PATH=/usr/local/bin:$PATH
>
>
> Word of warning: It is common on Unix systems to place the non-system
> path ("/usr/local", "/opt" etc.) in front of the system path....


Thanks for the heads up.  Believe it or not, I haven't had a need for 
fink on the old computer, but I thought I may install it on the new one, 
so I'll keep your warning in mind.

>
> Any reason why you don't use
>
> if [ ! ${DISPLAY} ]; then
>
> as you did with SSH_TTY?


the reason it's written the way it is, is that's the way it was written 
on the tip website that I copied the code from.  =)

> My cat recently peed on my laptop which is the reason I have to look
> for a new one now. Furry beasts!

Yikes!!  Guess you were spending too much time on the computer and not 
enough time petting the cat.  They get jealous.  =8-)  I think we'd have 
a serious problem if Emma peed on my new computer though...

From gregoryjward at gmail.com  Tue Feb 28 18:24:25 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Feb 28 18:26:21 2006
Subject: [Radiance-general] MacBook Pro Report
In-Reply-To: <44048321.40709@rumblestrip.org>
References: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>
	<64D94A8D-873D-495D-AE92-6400B72171F1@arcor.de>
	<44048321.40709@rumblestrip.org>
Message-ID: <A5E1D447-F2E2-48B1-9646-D6C589D06985@gmail.com>

Hi Rob,

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: February 28, 2006 9:06:41 AM PST
>
> Thomas Bleicher wrote:
>
>> For the PowerPC version I started with the "-fast" option the Apple
>> gcc provides. Didn't work but it would have been a nice shortcut for
>> maximum performance settings. Does your Intel gcc have a similar
>> option (see man page)?
>
> It does, thanks Thomas.  I just recompiled with -fast instead of - 
> O3, and got no errors at all (thanks again for the "tee tip").  I  
> will try to run the Stock benchmark today.  All the test scenes in  
> the obj directory really fly!  The cabin holodeck scene is a lot  
> more fun to play with on this thing. =8-)

Beware -- the -fast option may compile fine, but the binaries on the  
PowerPC have been notoriously faulty.  Render with caution...

The tee command is great, but you don't really need it as the "File"  
menu in Terminal can save any selected text to a file, and of course  
there's always cut and paste.  If you use tee, be sure to redirect  
standard error to it as well, using |& in the C-shell or 1>&2 in bash  
(I think).

> Thanks for the heads up.  Believe it or not, I haven't had a need  
> for fink on the old computer, but I thought I may install it on the  
> new one, so I'll keep your warning in mind.

Fink, eww.  I installed it back when I was getting started on Darwin,  
because I thought I needed a utility.  10 hours of compiling later, I  
had 100's of tools, but the one I wanted still wouldn't compile.  The  
dependency tree on that system is a nightmare....

-Greg

From tbleicher at arcor.de  Tue Feb 28 19:13:54 2006
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Tue Feb 28 19:15:39 2006
Subject: [Radiance-general] MacBook Pro Report
In-Reply-To: <A5E1D447-F2E2-48B1-9646-D6C589D06985@gmail.com>
References: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>
	<64D94A8D-873D-495D-AE92-6400B72171F1@arcor.de>
	<44048321.40709@rumblestrip.org>
	<A5E1D447-F2E2-48B1-9646-D6C589D06985@gmail.com>
Message-ID: <A3E1583F-B2B1-4231-B186-C4D1FDECC86D@arcor.de>


On 28.02.2006, at 18:24, Greg Ward wrote:

> Beware -- the -fast option may compile fine, but the binaries on the
> PowerPC have been notoriously faulty.  Render with caution...

I started with "-fast" and got solid black images with rpict. Then I
removed some of the options, recompiled, tested and added all of them
back again except for "-malign-natural". I hope for Rob that this will
not be a problem on Intel CPUs.

> If you use tee, be sure to redirect standard error to it as well,
> using |& in the C-shell or 1>&2 in bash (I think).

I knew I was missing something with that command line. As bas as
GNU man pages are in general, they have better examples ...

>> Thanks for the heads up.  Believe it or not, I haven't had a need
>> for fink on the old computer, but I thought I may install it on the
>> new one, so I'll keep your warning in mind.
>
> Fink, eww.  I installed it back when I was getting started on Darwin,
> because I thought I needed a utility.  10 hours of compiling later,
> I had 100's of tools, but the one I wanted still wouldn't compile.
> The dependency tree on that system is a nightmare....

It's much better now, then, though I really don't know why I have
to download 350 MB of LaTeX just to get a 300 kB Python module ...
Now that I have a "basic" fink installation I prefer to

"fink install foo"

than solving all those dependencies myself. I'm definitely spoiled
by three years of Debian.


Thomas

From skleindi at MIT.EDU  Tue Feb 28 20:43:06 2006
From: skleindi at MIT.EDU (Sian A Kleindienst)
Date: Tue Feb 28 20:44:58 2006
Subject: [Radiance-general] rtcontrib and mirror systems
Message-ID: <Pine.GSO.4.62L.0602281420240.2678@scrubbing-bubbles.mit.edu>


I found the email from may 2005 which had the man page of rtcontrib and 
this statement from Greg Ward:

"Rtcontrib can also be used by the more adventurous among you to
compute input/output relations for devices such as light pipes and
shading systems, although I have yet to test such an approach,
myself."

I would like to try this for an anidolic system of mirrors (set of 
parabolic mirrors, thus cannot be accurately modeled with direct sun), but 
I have not yet figured out from the man page quite how to do this.

I wonder if anyone else has attempted something similar and would be 
willing to tell me about it, or if Greg has experimented with it.

Thanks for any help,
Sian

p.s.  If I manage this, I will also be attempting to use Daysim to do a 
daylight autonomy... if anyone can see any potential problems with this, 
please let me know.

From rpg at rumblestrip.org  Tue Feb 28 21:08:49 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Tue Feb 28 21:10:39 2006
Subject: [Radiance-general] MacBook Pro Report
In-Reply-To: <A3E1583F-B2B1-4231-B186-C4D1FDECC86D@arcor.de>
References: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>	<64D94A8D-873D-495D-AE92-6400B72171F1@arcor.de>	<44048321.40709@rumblestrip.org>	<A5E1D447-F2E2-48B1-9646-D6C589D06985@gmail.com>
	<A3E1583F-B2B1-4231-B186-C4D1FDECC86D@arcor.de>
Message-ID: <4404ADD1.8040607@rumblestrip.org>

Thomas Bleicher wrote:

>
> On 28.02.2006, at 18:24, Greg Ward wrote:
>
>> Beware -- the -fast option may compile fine, but the binaries on the
>> PowerPC have been notoriously faulty.  Render with caution...
>
>
> I started with "-fast" and got solid black images with rpict. Then I
> removed some of the options, recompiled, tested and added all of them
> back again except for "-malign-natural". I hope for Rob that this will
> not be a problem on Intel CPUs.
>

I just rendered a few images from the cabin scene in the radiance 
distribution, and everything looked ok.  Greg, what are some other 
things to look out for?  Are there some scenes or calcs I can do to test 
that the -fast option didn't introduce any problems?  As far as I can 
tell, rpict is happy.

>> If you use tee, be sure to redirect standard error to it as well,
>> using |& in the C-shell or 1>&2 in bash (I think).
>
Thanks for the file...save tip.  I didn't realize that would save the 
entire session. 

From gregoryjward at gmail.com  Tue Feb 28 21:30:55 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Feb 28 21:32:53 2006
Subject: [Radiance-general] MacBook Pro Report
In-Reply-To: <4404ADD1.8040607@rumblestrip.org>
References: <DE5FF2CE-B75B-4DC4-AEB2-CDCC45AE296A@rumblestrip.org>	<64D94A8D-873D-495D-AE92-6400B72171F1@arcor.de>	<44048321.40709@rumblestrip.org>	<A5E1D447-F2E2-48B1-9646-D6C589D06985@gmail.com>
	<A3E1583F-B2B1-4231-B186-C4D1FDECC86D@arcor.de>
	<4404ADD1.8040607@rumblestrip.org>
Message-ID: <ABA2F058-0F36-4B6B-90B9-50D0396ADC12@gmail.com>

Hi Rob,

> I just rendered a few images from the cabin scene in the radiance  
> distribution, and everything looked ok.  Greg, what are some other  
> things to look out for?  Are there some scenes or calcs I can do to  
> test that the -fast option didn't introduce any problems?  As far  
> as I can tell, rpict is happy.

I don't really know when or why it goes south, but if it looks OK, it  
probably is OK.  I have seen black images like Thomas mentioned, and  
other serious problems.  Usually, it's not subtle when there's a  
problem.

-Greg

From grobe at gmx.net  Tue Feb 28 22:21:44 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue Feb 28 22:24:29 2006
Subject: [Radiance-general] obj2mesh and scaling?
Message-ID: <834366a05c288ccb735db1555f55f671@gmx.net>

Hi,

I have a bad problem with obj2mesh... I used lots of obj's with obj2rad 
so far, and some in a more or less stupid way, converting them to 
meshes, writing a mesh primitive in a file, scaling it and making an 
instance of the file than. Now I would like to replace this stupid 
mesh-to-instance step, but I run into the problem that I cannot scale 
my obj with obj2mesh. Is there noone else needing such an option? Or is 
there a way to scale the object input? My problem is that I am using 
lots of files, scripted processing, and input my instances or meshes to 
replmarks. But I cannot make sure that all my markers have the x-axis 1 
unit long (than I could use replmark's -s SCALE). I was thinking of 
writing my mesh primitive in a small file, apply xform to this and use 
it than with replmarks -x. Still, it seams to be a silly way to deal 
with the fact that my objs are in feet and my model in meter.

TIA+CU, Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2134 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060228/4b695a34/smime.bin
From gregoryjward at gmail.com  Tue Feb 28 23:15:09 2006
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Feb 28 23:17:01 2006
Subject: [Radiance-general] obj2mesh and scaling?
In-Reply-To: <834366a05c288ccb735db1555f55f671@gmx.net>
References: <834366a05c288ccb735db1555f55f671@gmx.net>
Message-ID: <02F6BA95-72F1-42FF-A8DE-CC23477E3DAB@gmail.com>

Hi Lars,

Although I agree it would be nice to have a facility for either  
transforming .OBJ files directly or as part of obj2mesh, there is a  
solution with replmarks you may not have thought about.  Rather than  
creating your mesh instances directly with replmarks -I, instead  
create a single Radiance scene file for each mesh with the  
appropriate scale factor.  E.g., if you had a mesh called filecab.rtm  
that needed to be rotated in x and scaled, you would also create a  
file called filecab.rad that contains:

void mesh filecab
5 filecab.rtm -rx 90 -s 0.3048
0
0

Then, you can use replmarks -x filecab.rad instead of -I, and  
replmarks will load this file and add the other rotation and  
translation arguments necessary to put the object in the right place.

Does this help?
-Greg

> From: Lars O. Grobe <grobe@gmx.net>
> Date: February 28, 2006 1:21:44 PM PST
>
> Hi,
>
> I have a bad problem with obj2mesh... I used lots of obj's with  
> obj2rad so far, and some in a more or less stupid way, converting  
> them to meshes, writing a mesh primitive in a file, scaling it and  
> making an instance of the file than. Now I would like to replace  
> this stupid mesh-to-instance step, but I run into the problem that  
> I cannot scale my obj with obj2mesh. Is there noone else needing  
> such an option? Or is there a way to scale the object input? My  
> problem is that I am using lots of files, scripted processing, and  
> input my instances or meshes to replmarks. But I cannot make sure  
> that all my markers have the x-axis 1 unit long (than I could use  
> replmark's -s SCALE). I was thinking of writing my mesh primitive  
> in a small file, apply xform to this and use it than with replmarks  
> -x. Still, it seams to be a silly way to deal with the fact that my  
> objs are in feet and my model in meter.
>
> TIA+CU, Lars.

From jedev at visarc.com  Tue Feb 28 23:39:37 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Feb 28 23:41:25 2006
Subject: [Radiance-general] obj2mesh and scaling?
In-Reply-To: <834366a05c288ccb735db1555f55f671@gmx.net>
References: <834366a05c288ccb735db1555f55f671@gmx.net>
Message-ID: <4404D129.70101@visarc.com>

Hi Lars,

It seems that you have the following possible options:

   1. scale the obj file the way you want on export from what ever the
      modeler is generating
   2. you can add scaling and other transforms directly to the mesh
      primitive, why not script this
   3. can you figure out a way to guarantee that you get unit markers
      (eg 1 unit long in x), we use unit markers all over the place and
      do not have problems, perhaps this is a modeling/software issue?
   4. you should be able to pipe things together so that you do not have
      a bunch of intermediate files such as:

        replmarks -I object.rtm  origin origin.rad | xform -s <your
        scale factor>  > tmp.scale.rad
        replmarks -x tmp.scale.rad new-location new-location.rad >
        final.object.rad

This is not nearly as elegant as I had hoped. I cannot see how to 
construct one single pipeline. But nevertheless it may get the job done. 
You would need to construct a marker object called origin in origin.rad 
(a right triangle with x of 1). The first line gets you the scaling. The 
second line get you the transform of the scaled object to the desired 
location. The ordering here is to get the scaling to occur before the 
transform. Then tmp.scale.rad can be discarded by the script or just 
overwritten by subsequent calls for other object transforms.

-Jack

Lars O. Grobe wrote:
> Hi,
>
> I have a bad problem with obj2mesh... I used lots of obj's with 
> obj2rad so far, and some in a more or less stupid way, converting them 
> to meshes, writing a mesh primitive in a file, scaling it and making 
> an instance of the file than. Now I would like to replace this stupid 
> mesh-to-instance step, but I run into the problem that I cannot scale 
> my obj with obj2mesh. Is there noone else needing such an option? Or 
> is there a way to scale the object input? My problem is that I am 
> using lots of files, scripted processing, and input my instances or 
> meshes to replmarks. But I cannot make sure that all my markers have 
> the x-axis 1 unit long (than I could use replmark's -s SCALE). I was 
> thinking of writing my mesh primitive in a small file, apply xform to 
> this and use it than with replmarks -x. Still, it seams to be a silly 
> way to deal with the fact that my objs are in feet and my model in meter.
>
> TIA+CU, Lars.
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060228/4fbcd86e/attachment.html
