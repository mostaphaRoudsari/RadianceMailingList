From jedev at visarc.com  Mon May  1 16:19:35 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Mon May  1 16:19:50 2006
Subject: [Radiance-general] RGB values for different glazings
In-Reply-To: <cdf76d820604300018s52238d54wc25af91dc53b18@mail.gmail.com>
References: <cdf76d820604300018s52238d54wc25af91dc53b18@mail.gmail.com>
Message-ID: <445618F7.60409@visarc.com>

Hi Ramana,

John and Rob have mentioned two great resources from LBNL:

   1. Window
   2. Optics

I have more experience with Optics so I am not that sure of the data 
export capabilities from Window. I believe that Optics is the standard 
tool that is used to derive all the performance data for the glazing 
manufacturers such as Viracon and that this data is then fed into 
Window. Optics does have a facility for exporting Radiance material 
descriptions. Depending on your requirements though these will not be 
sufficient.

Probably the best way to get a more sophisticated material description 
for a specific glazing make-up is to export glazing specs from Optics 
one at a time (ie the glass used for surface 1/2 as one export and the 
glass used for surface 3/4 as another export) and then use the RGB and 
specularity values with the glaze.csh script that comes with Radiance. 
The script will enable you to output a more sophisticated material 
definition that better accounts for angular dependencies in the 
material. Note that the geometry is normal dependent, requiring that the 
glass geometry be modeled with the normal being pointed to the interior 
of the building (hope I got this right, I am working off memory here).

Hope this helps.

-Jack

Ramana Koti wrote:
> Hello all,
>
> I need to model my building with glazings (from the Viracon Insulating 
> glass list) with different visible transmittances such as 65%, 58%, 
> 54% etc.
>
> How do I obtain the RGB values based on the visible transmittances for 
> each glazing? Please help.
>
> Regards,
> Ramana.
>
> -- 
> Venkata Ramana Koti
> MS in Building Design (Energy/Climate)
> School of Architecture and Landscape Architecture
> College of Design
> Arizona State University, Tempe AZ 85287
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060501/111d52fd/attachment.htm
From rpg at rumblestrip.org  Mon May  1 16:59:00 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon May  1 16:59:17 2006
Subject: [Radiance-general] RGB values for different glazings
In-Reply-To: <445618F7.60409@visarc.com>
References: <cdf76d820604300018s52238d54wc25af91dc53b18@mail.gmail.com>
	<445618F7.60409@visarc.com>
Message-ID: <44562234.5020901@rumblestrip.org>

Jack de Valpine wrote:

>
> Probably the best way to get a more sophisticated material description 
> for a specific glazing make-up is to export glazing specs from Optics 
> one at a time (ie the glass used for surface 1/2 as one export and the 
> glass used for surface 3/4 as another export) and then use the RGB and 
> specularity values with the glaze.csh script that comes with Radiance. 
> The script will enable you to output a more sophisticated material 
> definition that better accounts for angular dependencies in the 
> material. Note that the geometry is normal dependent, requiring that 
> the glass geometry be modeled with the normal being pointed to the 
> interior of the building (hope I got this right, I am working off 
> memory here).

Hi Jack,

I forgot all about glaze!!  Thanks for the reminder.  I also had no idea 
that Greg added the ability to read in files; this makes it infinitely 
more useful. I assume you simply take all the glazing/coatings you want 
and export each to a radiance file from Optics5, and then feed them to 
glaze with the -f switch, huh?  That's great, you guys.  Thanks again to 
Greg for the work, and Jack is being very modest in his post by 
mentioning the tool but not mentioning the fact that his company funded 
the work.  Thanks to you both.

And yes, the normal should face into the building. (the script actually 
throws up a nice little ASCII section for reference. =8-)

- Rob

From gregoryjward at gmail.com  Mon May  1 17:15:51 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon May  1 17:16:02 2006
Subject: [Radiance-general] RGB values for different glazings
In-Reply-To: <44562234.5020901@rumblestrip.org>
References: <cdf76d820604300018s52238d54wc25af91dc53b18@mail.gmail.com>
	<445618F7.60409@visarc.com> <44562234.5020901@rumblestrip.org>
Message-ID: <045E5D33-420B-4763-A1EB-107760A82D59@gmail.com>

Incidentally, I will be working with the folks at LBNL to get a  
proper Radiance material out of the next version of WINDOW.  I  
actually wrote the glazing.cal file 12 years ago to handle WINDOW-4  
output, and it may still be useful in some cases.  You kind of have  
to know what you're doing with it, though.  It doesn't handle fritted  
glazings at all.

-Greg

From jedev at visarc.com  Mon May  1 17:16:58 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Mon May  1 17:17:06 2006
Subject: [Radiance-general] RGB values for different glazings
In-Reply-To: <44562234.5020901@rumblestrip.org>
References: <cdf76d820604300018s52238d54wc25af91dc53b18@mail.gmail.com>	<445618F7.60409@visarc.com>
	<44562234.5020901@rumblestrip.org>
Message-ID: <4456266A.9080600@visarc.com>

Hi Rob,

Rob Guglielmetti wrote:
> Jack de Valpine wrote:
>
>>
>> Probably the best way to get a more sophisticated material 
>> description for a specific glazing make-up is to export glazing specs 
>> from Optics one at a time (ie the glass used for surface 1/2 as one 
>> export and the glass used for surface 3/4 as another export) and then 
>> use the RGB and specularity values with the glaze.csh script that 
>> comes with Radiance. The script will enable you to output a more 
>> sophisticated material definition that better accounts for angular 
>> dependencies in the material. Note that the geometry is normal 
>> dependent, requiring that the glass geometry be modeled with the 
>> normal being pointed to the interior of the building (hope I got this 
>> right, I am working off memory here).
>
> Hi Jack,
>
> I forgot all about glaze!!  Thanks for the reminder.  I also had no 
> idea that Greg added the ability to read in files; this makes it 
> infinitely more useful. I assume you simply take all the 
> glazing/coatings you want and export each to a radiance file from 
> Optics5, and then feed them to glaze with the -f switch, huh?  That's 
> great, you guys.  Thanks again to Greg for the work, and Jack is being 
> very modest in his post by mentioning the tool but not mentioning the 
> fact that his company funded the work.  Thanks to you both.
>
Unfortunately it is not quite that streamlined.... The -f switch takes a 
file with specific formatting (one glazing description per line) which 
is then parsed by the glaze script. I think that if you run glaze -f 
with nothing else it will spit out the formatting requirements... I 
should probably come up with an example to show this... Let me see what 
I can do by way of example on this to demonstrate how it works. You are 
right though that the -f switch makes it way more convenient to use 
glaze for specific libraries of glazing on a per project basis.
> And yes, the normal should face into the building. (the script 
> actually throws up a nice little ASCII section for reference. =8-)
>
> - Rob
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From rpg at rumblestrip.org  Wed May  3 17:20:53 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed May  3 18:21:15 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
Message-ID: <4458CA55.5040500@rumblestrip.org>

Hello Radiance Users, Abusers and Confusers,

Please excuse my ignorance, but assuming one has a computer with a 
64-bit operating system (SuSe Linux) installed, can Radiance be compiled 
as a 64-bit application?  And if so, has anyone done it?  What's the 
makefile look like?  The reason I ask is that I'm looking at possibly 
building up a quad system (two dual-core cpus) and with the potential 
for four jobs running at once I think I need more addressable memory.  
As I understand it, with a 32-bit application you're limited to 4GB 
total, whereas with everything 64-bit, the system can address 8GB of 
RAM.  Since I rarely see jobs needing more than 2GB of RAM, I figure 
having 8GB available for a maximum of four jobs means no job would 
likely ever run out of RAM and start paging.  Maybe my first question 
should really be: am I thinking about this correctly?  =8-) 

Any input appreciated.  (I think I need coffee.)

- Rob

From jedev at visarc.com  Wed May  3 19:02:39 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Wed May  3 19:02:53 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <4458CA55.5040500@rumblestrip.org>
References: <4458CA55.5040500@rumblestrip.org>
Message-ID: <4458E22F.90305@visarc.com>

Hi Rob,

I think that you would need to add some of the following to the "MACH= 
..." line of the rmake file:

    * -m64

This will produce code specific to x86-64.

There are a variety of additional compile options that can be considered 
(32 or 64 bit). I would check out Mark Stock's Benchmark Page to get a 
sense of some things that people have tried:

    http://mark.technolope.org/pages/rad_bench.html

-Jack

Rob Guglielmetti wrote:
> Hello Radiance Users, Abusers and Confusers,
>
> Please excuse my ignorance, but assuming one has a computer with a 
> 64-bit operating system (SuSe Linux) installed, can Radiance be 
> compiled as a 64-bit application?  And if so, has anyone done it?  
> What's the makefile look like?  The reason I ask is that I'm looking 
> at possibly building up a quad system (two dual-core cpus) and with 
> the potential for four jobs running at once I think I need more 
> addressable memory.  As I understand it, with a 32-bit application 
> you're limited to 4GB total, whereas with everything 64-bit, the 
> system can address 8GB of RAM.  Since I rarely see jobs needing more 
> than 2GB of RAM, I figure having 8GB available for a maximum of four 
> jobs means no job would likely ever run out of RAM and start paging.  
> Maybe my first question should really be: am I thinking about this 
> correctly?  =8-)
> Any input appreciated.  (I think I need coffee.)
>
> - Rob
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060503/e8c6fd4a/attachment.html
From ian at testers.homelinux.net  Wed May  3 19:21:06 2006
From: ian at testers.homelinux.net (Ian Tester)
Date: Wed May  3 19:21:34 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <4458CA55.5040500@rumblestrip.org>
References: <4458CA55.5040500@rumblestrip.org>
Message-ID: <20060504032106.5ea378c0@saavik.ian.testers.net.au>

On Wed, 03 May 2006 09:20:53 -0600
Rob Guglielmetti <rpg@rumblestrip.org> wrote:

> Hello Radiance Users, Abusers and Confusers,
> 
> Please excuse my ignorance, but assuming one has a computer with a 
> 64-bit operating system (SuSe Linux) installed, can Radiance be compiled 
> as a 64-bit application?  And if so, has anyone done it?  What's the 
> makefile look like?  The reason I ask is that I'm looking at possibly 
> building up a quad system (two dual-core cpus) and with the potential 
> for four jobs running at once I think I need more addressable memory.  
> As I understand it, with a 32-bit application you're limited to 4GB 
> total, whereas with everything 64-bit, the system can address 8GB of 
> RAM.  Since I rarely see jobs needing more than 2GB of RAM, I figure 
> having 8GB available for a maximum of four jobs means no job would 
> likely ever run out of RAM and start paging.  Maybe my first question 
> should really be: am I thinking about this correctly?  =8-) 
> 
> Any input appreciated.  (I think I need coffee.)
> 
> - Rob

I got it compiled without any troubles on my family's Sempron 64 (MythTV
box). It's running the unofficial AMD64 port of Debian, which is a full
64-bit port i.e not simply running 32-bit userland programs on a 64-bit
kernel. Everything is compiled to use the extra registers and SSE2, etc.

I simply changed the OPT line in the rmake file:
OPT=-O4 -march=athlon64 -msse2 -mfpmath=sse -ftree-vectorize
-falign-functions=8 -ffast-math

That's for GCC 4.0 and is hopefully making some use of SSE2 to speed
things up. In simple tests, the little 1800MHz Sempron 64 with 128KB of
cache is about 10% faster than my 1900MHz Athlon XP with 512KB of cache.

As for memory, it depends on what you're doing. Are you dealing with
complex geometry or large textures?

Hope that helps,
bye

From rpg at rumblestrip.org  Wed May  3 21:35:30 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Wed May  3 21:35:36 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <20060504032106.5ea378c0@saavik.ian.testers.net.au>
References: <4458CA55.5040500@rumblestrip.org>
	<20060504032106.5ea378c0@saavik.ian.testers.net.au>
Message-ID: <44590602.3070806@rumblestrip.org>

Ian Tester wrote:

>I got it compiled without any troubles on my family's Sempron 64 (MythTV
>box). It's running the unofficial AMD64 port of Debian, which is a full
>64-bit port i.e not simply running 32-bit userland programs on a 64-bit
>kernel. Everything is compiled to use the extra registers and SSE2, etc.
>
>I simply changed the OPT line in the rmake file:
>OPT=-O4 -march=athlon64 -msse2 -mfpmath=sse -ftree-vectorize
>-falign-functions=8 -ffast-math
>  
>
Thanks for the responses, Ian & Jack!  So tell me Ian, does your family 
complain when they go to watch television and find an rpict process on 
the screen instead? ;-)

- Rob

From ian at testers.homelinux.net  Wed May  3 22:19:37 2006
From: ian at testers.homelinux.net (Ian Tester)
Date: Wed May  3 22:20:11 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <44590602.3070806@rumblestrip.org>
References: <4458CA55.5040500@rumblestrip.org>
	<20060504032106.5ea378c0@saavik.ian.testers.net.au>
	<44590602.3070806@rumblestrip.org>
Message-ID: <20060504061937.28043e6b@saavik.ian.testers.net.au>

On Wed, 03 May 2006 13:35:30 -0600
Rob Guglielmetti <rpg@rumblestrip.org> wrote:

> Ian Tester wrote:
> 
> >I got it compiled without any troubles on my family's Sempron 64 (MythTV
> >box). It's running the unofficial AMD64 port of Debian, which is a full
> >64-bit port i.e not simply running 32-bit userland programs on a 64-bit
> >kernel. Everything is compiled to use the extra registers and SSE2, etc.
> >
> >I simply changed the OPT line in the rmake file:
> >OPT=-O4 -march=athlon64 -msse2 -mfpmath=sse -ftree-vectorize
> >-falign-functions=8 -ffast-math
> >  
> >
> Thanks for the responses, Ian & Jack!  So tell me Ian, does your family 
> complain when they go to watch television and find an rpict process on 
> the screen instead? ;-)

No. I haven't used it in a while, and it was always over SSH from my
machine. When I did use it to do a render it was usually at night or
running with a very high nice level.

BTW, Jacks response mentioned adding -m64 to the command line. I don't
need that since I'm running the all-64-bit AMD64 Debian port and gcc
generates 64-bit binaries by default. You'll have to check what your
distro has set up.

bye

From canoe at onetel.com  Thu May  4 10:39:53 2006
From: canoe at onetel.com (James Lee)
Date: Thu May  4 10:41:32 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <4458CA55.5040500@rumblestrip.org>
References: <4458CA55.5040500@rumblestrip.org>
Message-ID: <20060504.8395300.2775189609@landeck.jamesipoos.com>

On 03/05/06, 16:20:53, Rob Guglielmetti <rpg@rumblestrip.org> wrote 
regarding [Radiance-general] compiling Radiance 64-bit?:

> Please excuse my ignorance, but assuming one has a computer with a
> 64-bit operating system (SuSe Linux) installed, can Radiance be compiled
> as a 64-bit application?

Yes, I've built radiance 64bit for both Sparc and Opteron.


> As I understand it, with a 32-bit application you're limited to 4GB
> total, whereas with everything 64-bit, the system can address 8GB of
> RAM.  Since I rarely see jobs needing more than 2GB of RAM, I figure
> having 8GB available for a maximum of four jobs means no job would
> likely ever run out of RAM and start paging.

Correct and radiance gets no where near 2GB. (At least I run out of
CPU long before the model is that big.)

Why do you think radiance needs to be 64bit?  On both and Sparc and
the AMD64 the 32bit binaries ran quicker.   Only if it needs to
address >2G of memory does it *need* to be 64bit.  *Some* programs
run quicker 64 bit but *most* *don't*, combine with larger executable
files and increased memory usage I found radiance is best 32 bit.

It stands to reason for 64bit programs to be slower because they have
to use twice the memory to store memory pointers.  Ah you say, doesn't
64bit mean it can use 64bit registers for other things? (Like 64bit
ints and 64bit doubles.)  Well nothing stops that happening in 32bit
mode if the chip and compilers are well designed, that's what
sparcv8plus+vis is all about.  32/64bit is the memory address mode
not the chip registers.  Some say those extra registers are only used
on AMD64s in 64bit mode; I say I've benchmarks radiance both ways
and 64 bit was not quicker.

Don't confuse running 32bit Pentium compatible binaries on a AMD64
with 32bit binaries optimised for AMD64 on the AMD64.





James.

From a.jacobs at londonmet.ac.uk  Thu May  4 12:56:00 2006
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Thu May  4 12:58:56 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <20060504.8395300.2775189609@landeck.jamesipoos.com>
References: <4458CA55.5040500@rumblestrip.org>
	<20060504.8395300.2775189609@landeck.jamesipoos.com>
Message-ID: <10026.213.58.97.63.1146740160.squirrel@webmail1.londonmet.ac.uk>

> Correct and radiance gets no where near 2GB. (At least I run out of
> CPU long before the model is that big.)

I totally agree there: It's still the CPU speed that's limiting.

> Why do you think radiance needs to be 64bit?  On both and Sparc and
> the AMD64 the 32bit binaries ran quicker.   Only if it needs to
> address >2G of memory does it *need* to be 64bit.  *Some* programs
> run quicker 64 bit but *most* *don't*, combine with larger executable
> files and increased memory usage I found radiance is best 32 bit.

I am not sure how 'bitty' the floating point values are that RADIANCE
calculates. If they are 64-bit long, then you can actually expect a speed
improvement, me thinks.

> It stands to reason for 64bit programs to be slower because they have
> to use twice the memory to store memory pointers.  Ah you say, doesn't
> 64bit mean it can use 64bit registers for other things? (Like 64bit
> ints and 64bit doubles.)  Well nothing stops that happening in 32bit
> mode if the chip and compilers are well designed, that's what
> sparcv8plus+vis is all about.  32/64bit is the memory address mode
> not the chip registers.  Some say those extra registers are only used
> on AMD64s in 64bit mode; I say I've benchmarks radiance both ways
> and 64 bit was not quicker.

There are benchmarks and there are benchmarks. The only way of finding out
wheter your particular application will benefit from going 64-bit is to
actually test it. Which is what I've done for you.

http://luminance.londonmet.ac.uk/pickup/rad_bench_sempron.html

So sit back, have a cup of coffee, and let the little grey cells do some
pondering.

Cheers

Axel



From grobe at gmx.net  Thu May  4 23:31:40 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu May  4 23:31:57 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <10026.213.58.97.63.1146740160.squirrel@webmail1.londonmet.ac.uk>
References: <4458CA55.5040500@rumblestrip.org>	<20060504.8395300.2775189609@landeck.jamesipoos.com>
	<10026.213.58.97.63.1146740160.squirrel@webmail1.londonmet.ac.uk>
Message-ID: <445A72BC.5090509@gmx.net>

Hi list!

>> Correct and radiance gets no where near 2GB. (At least I run out of
>> CPU long before the model is that big.)
> 
> I totally agree there: It's still the CPU speed that's limiting.

I have a model that is getting close to 2GB here.

> I am not sure how 'bitty' the floating point values are that RADIANCE
> calculates. If they are 64-bit long, then you can actually expect a speed
> improvement, me thinks.

Most floating point values are doubles, thus 64bit. Still, the whole
64bit-point is about address pointers. All the old "32-bit" cpus support
calculations on 64bit values - double floats are not that new (a SSE2
unit as found in recent 32bit intel cpus can even perform calculations
on 2 64bit values at once). So we are only talking about increasing the
amount of addressable memory here.

Correct me if I am wrong. I am not a cpu expert. But do not compile
Radiance in 64 bit if you do not need memory. If you do, take a look at
compilers. E.g. Sun has a free compiler that is known to produce 64 bit
code that can compete with 32 bit in speed.

Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3485 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060505/e1d7cb9a/smime.bin
From grobe at gmx.net  Thu May  4 23:40:16 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu May  4 23:40:25 2006
Subject: [Radiance-general] Radiance Wiki?
Message-ID: <445A74C0.70804@gmx.net>

Hi,

as it seams to me, the Radiance wiki is dead. That is a pity, but at
least we should

- get the latest content of th wiki somehow to a few static webpages

- remove the links on radiance-online

The first is a question to the (former) maintainer, the second goes to
Peter...

CU Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3485 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060505/c141512e/smime.bin
From apian at pab-opto.de  Fri May  5 13:56:36 2006
From: apian at pab-opto.de (Peter Apian-Bennewitz)
Date: Fri May  5 13:57:29 2006
Subject: [Radiance-general] knowledge platform 
Message-ID: <445B3D74.6050604@pab-opto.de>

    Lars Grobe wrote:

    as it seams to me, the Radiance wiki is dead. That is a pity, but at
    least we should
    - get the latest content of th wiki somehow to a few static webpages
    - remove the links on radiance-online
    The first is a question to the (former) maintainer, the second goes to
    Peter...

Hi Lars, Hi folks,

since your question touches the idea of some sort of collaborative docs, maybe I should mention an off-list thread about this in November 2005. It was sparked of by my suggestion to use Plone (www.plone.org) as framework for structured, collaborative docs. There had been different views, Greg suggested to initiate an automated (or at least semi-automatic) "knowledge-compiler" that extracts information from the mailing list archives to generate some FAQ. My own view was more relying on a small number of people each being /responsible/ for one (or two) subjects and keeping that sub-tree of the docs up-to-date. Content management would be done on a distributed basis, different owners/moderators managing their field, including a review process. Plone was my choice since I had used it elsewhere.

It never materialized on radiance-online because of costs involved in the /initial/ set-up of the system (which would be done by someone I worked with successfully on similar projects, so it would be a) fastest to pay him to do it and b) my additional time for support would remain foreseeable) and, well, apparent lack of support from one big guru (name withheld).

Anyway- likely this post triggers comments- that's fine - just don't expect me to reply to well meant suggestions about other systems which are better/spiffier/easier/environmentalfriendlier, I have sank enough time into this thread. Simply, to make it happen, around 1.4kEUR plus a new (faster, due to much heavier CPU use) motherboard for the server are needed. (ah - do not bother sending me your old motherboard).

happy rendering to all
-Peter

-- 
 pab-opto, Freiburg, Germany, http://www.pab-opto.de
 [see web page to check digital email signature]


From grobe at gmx.net  Fri May  5 14:58:55 2006
From: grobe at gmx.net (Lars Grobe)
Date: Fri May  5 14:59:00 2006
Subject: [Radiance-general] knowledge platform
References: <445B3D74.6050604@pab-opto.de>
Message-ID: <22103.1146833935@www056.gmx.net>

Hi!

> There had been different views, Greg suggested to initiate an
> automated (or at least semi-automatic) "knowledge-compiler"
> that extracts information from the mailing list archives to generate
> some FAQ.

Well, the problem I see with this is that there are often posts here that
are based more on guessing than knowledge (and I include most of mine -
still, I really like the expression "educated guess" - if that sounds
familiar to some... ;-). One of the more recent examples is the
64bit-thread...

> My own view was more relying on a small number of people each
> being /responsible/ for one (or two) subjects and keeping that
> sub-tree of the docs up-to-date.

I prefer that, too. This will not only ensure (or avoid ;-) a certain level
of quality, but give also some "expert" role to those people. So it would be
easier to know whom to ask for what ;-)

> Plone was my choice since I had used it elsewhere.

No idea about Plone.

> Anyway- likely this post triggers comments- that's fine - just don't
> expect me to reply to well meant suggestions about other systems which
> are better/spiffier/easier/environmentalfriendlier, I have sank enough
> time into this thread.

The only CMS that might work and I have experience with would be Drupal, and
I am able to install it in an hour. Still I will not mention that here now
;-)

> Simply, to make it happen, around 1.4kEUR plus a new (faster, due
> to much heavier CPU use) motherboard for the server are needed. (ah - do
> not bother sending me your old motherboard).

OK, who will participate, and how much will that per person (I like the
expression "per nose" we use for that in German)? If it is not getting a sum
astronomic as the amount of rpict's options, I will participate. Will I get
a Gold-version of oconv handling all my nested instances when I support this
project? B-)

> happy rendering to all

Yes, the week-end comes close, good times for render-folks... I will spend
my spare time on Radzilla (the new 1.1 release) this week.

CU Lars.

From a.jacobs at londonmet.ac.uk  Fri May  5 15:30:27 2006
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Fri May  5 15:33:31 2006
Subject: [Radiance-general] knowledge platform
In-Reply-To: <22103.1146833935@www056.gmx.net>
References: <445B3D74.6050604@pab-opto.de> <22103.1146833935@www056.gmx.net>
Message-ID: <10034.213.58.97.63.1146835827.squirrel@webmail1.londonmet.ac.uk>

I might as well throw in my 2 Cents' worth of guess-work...

Our experience in LEARN show (and this is also what CMS/Wiki gurus out
there on the big 'Net have to say) that CMS systems will only work if and
only if:
- there is an existing resource
- the admin of this resource gets so many requests for updates and
additions that it is more than he/she can handle

What CMSs will NOT do is:
- Create an active community if there isn't one already

IMHO, the 'failure' (excuse this harsh word -- I'm not blaming the admins
at all) of ye old RAD Wiki is that although there is quite a lot of stuff
out there, and it would have been nice for the 'information consumers' of
us to have it all nicely presented on one site, the 'information
providers' obviously:
- didn't see the need for this
- didn't have time
- didn't want to learn how to use a Wiki/CMS.

>> My own view was more relying on a small number of people each
>> being /responsible/ for one (or two) subjects and keeping that
>> sub-tree of the docs up-to-date.

I do like the idea of having subject moderators.

With respect to the existing knowledge, allow me to point out another
possible solution. Mind you, I am not saying that this is ideal for our
particular problem.

http://dir.webring.com/rw
There is a thing called 'webring'. For a particular subject, maintainers
of websites may join and register their site. Consequently, at the bottom
of each of their pages, they include a little footer saying something like

"This site is part of such-n-such webring". You also have 'previous',
'next', and 'up' buttons taking you to the previous or next site of the
relevant ring, or to a list of all subscribed pages.

What I personally dislike about it is that it relies one some company's
server.  Two solutions:
a) have the page footers and index page static
  + independence of third parties and server availability
  - any changes would potentially require some of the ring members to
update their links, and it certainly would so from the maintainer of the
index page
b) create our own indexing server
  + gives us flexibility and independence of third parties
  - relies on the availability of the server

While I'd be happy enough to cobble together some cgi script, I am not in
a position to throw in a server as well. Our network is rather unreliable,
and every time there is some substantial rain, the power trips on us.

'Nuff said

Axel



From gregoryjward at gmail.com  Fri May  5 17:44:27 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri May  5 17:50:57 2006
Subject: [Radiance-general] knowledge platform
In-Reply-To: <10034.213.58.97.63.1146835827.squirrel@webmail1.londonmet.ac.uk>
References: <445B3D74.6050604@pab-opto.de> <22103.1146833935@www056.gmx.net>
	<10034.213.58.97.63.1146835827.squirrel@webmail1.londonmet.ac.uk>
Message-ID: <B79B7181-13F7-4ADA-BC93-06FED1B278D1@gmail.com>

Axel has some key points here, which bear repeating:

> Our experience in LEARN show (and this is also what CMS/Wiki gurus out
> there on the big 'Net have to say) that CMS systems will only work  
> if and only if:
> - there is an existing resource
> - the admin of this resource gets so many requests for updates and  
> additions that it is more than he/she can handle

This relates to an existing resource that someone is charged with  
maintaining, and is looking for an easier way to do so.  In other  
words, there is an active source of information that people have come  
to rely on, and it is in everyone's interest to maintain it.

In the case of Radiance, we are fortunate to have an active user  
community, but no one here has a wealth of time to devote to side  
activities that may or may not benefit others.  A Wiki or any set of  
maintained web pages that require substantial effort to put together  
is similar to a public mural.  Other than the satisfaction you get  
from participating in the assemblage, there is no motivation to  
maintain the work other than personal pride as leisure allows.  A  
mural deteriorates unless there is an active community caring for it.

The problem with a Wiki is that no one knows if pages they create are  
being read or by whom, and even if they knew, they would have no  
feedback as to how helpful the material is, how to improve it for  
others, or whether they are simply wasting their time.  The feedback  
mechanisms are lacking, unlike a mailing list, where when you post,  
others (usually) respond.

I see similar problems with resource pages using Plone.  Other than  
moderated access, it sounds a lot like a Wiki to me.  What would  
motivate volunteers to be responsible for particular topics?  What is  
to keep them from losing interest in short order?  I like the notion  
of having experts in particular domains, but there needs to be some  
benefit corresponding to the level of effort required.  It also seems  
like a lot of work up front.

If we get a line up of volunteers and some momentum in this  
direction, $1.4K plus a few hundred for a new motherboard seems very  
little to ask to get this going.  I'm sure I could wrangle that out  
of unnamed sources without too much difficulty.  It's just a question  
of convincing everyone to participate.  I would be more convinced  
myself if there was some feedback mechanism involved, Radiance  
dollars or some nonsense that benefactors of information on the sites  
would donate to maintainers, who could use them to subsidize their  
next workshop attendance(??).

We're bright people.  I'm sure we can figure out something that would  
work!

-Greg

From a.jacobs at londonmet.ac.uk  Fri May  5 20:53:42 2006
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Sat May  6 00:28:16 2006
Subject: [Radiance-general] knowledge platform
In-Reply-To: <B79B7181-13F7-4ADA-BC93-06FED1B278D1@gmail.com>
References: <445B3D74.6050604@pab-opto.de> <22103.1146833935@www056.gmx.net>
	<10034.213.58.97.63.1146835827.squirrel@webmail1.londonmet.ac.uk>
	<B79B7181-13F7-4ADA-BC93-06FED1B278D1@gmail.com>
Message-ID: <10253.213.58.97.63.1146855222.squirrel@webmail1.londonmet.ac.uk>

Here is a working prototype of a 'RADIANCE WebRing'.

http://luminance.londonmet.ac.uk/radring/index.shtml

It's still very rough around the edges, but please comment:
- Do you think it would be useful?
- How about a 'house style'?
- Would be too much work for the site admins to change the links if
one of the members drops out? This could be automated, but would create a
dependency on the master server.
- Should the extra navigation be on every one of the site's pages, or just
the entry one?
- Anything else...

Cheers

Axel



From MMoeck at engr.psu.edu  Fri May  5 18:23:04 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Sat May  6 00:28:21 2006
Subject: [Radiance-general] knowledge platform
References: <445B3D74.6050604@pab-opto.de> <22103.1146833935@www056.gmx.net>
	<10034.213.58.97.63.1146835827.squirrel@webmail1.londonmet.ac.uk>
	<B79B7181-13F7-4ADA-BC93-06FED1B278D1@gmail.com>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F0D9@ENGRMAIL1.engr.psu.edu>

Can we find 40 members to contribute $40 each? 
 
Martin

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Gregory J. Ward
Sent: Fri 5/5/2006 11:44 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] knowledge platform



Axel has some key points here, which bear repeating:

> Our experience in LEARN show (and this is also what CMS/Wiki gurus out
> there on the big 'Net have to say) that CMS systems will only work 
> if and only if:
> - there is an existing resource
> - the admin of this resource gets so many requests for updates and 
> additions that it is more than he/she can handle

This relates to an existing resource that someone is charged with 
maintaining, and is looking for an easier way to do so.  In other 
words, there is an active source of information that people have come 
to rely on, and it is in everyone's interest to maintain it.

In the case of Radiance, we are fortunate to have an active user 
community, but no one here has a wealth of time to devote to side 
activities that may or may not benefit others.  A Wiki or any set of 
maintained web pages that require substantial effort to put together 
is similar to a public mural.  Other than the satisfaction you get 
from participating in the assemblage, there is no motivation to 
maintain the work other than personal pride as leisure allows.  A 
mural deteriorates unless there is an active community caring for it.

The problem with a Wiki is that no one knows if pages they create are 
being read or by whom, and even if they knew, they would have no 
feedback as to how helpful the material is, how to improve it for 
others, or whether they are simply wasting their time.  The feedback 
mechanisms are lacking, unlike a mailing list, where when you post, 
others (usually) respond.

I see similar problems with resource pages using Plone.  Other than 
moderated access, it sounds a lot like a Wiki to me.  What would 
motivate volunteers to be responsible for particular topics?  What is 
to keep them from losing interest in short order?  I like the notion 
of having experts in particular domains, but there needs to be some 
benefit corresponding to the level of effort required.  It also seems 
like a lot of work up front.

If we get a line up of volunteers and some momentum in this 
direction, $1.4K plus a few hundred for a new motherboard seems very 
little to ask to get this going.  I'm sure I could wrangle that out 
of unnamed sources without too much difficulty.  It's just a question 
of convincing everyone to participate.  I would be more convinced 
myself if there was some feedback mechanism involved, Radiance 
dollars or some nonsense that benefactors of information on the sites 
would donate to maintainers, who could use them to subsidize their 
next workshop attendance(??).

We're bright people.  I'm sure we can figure out something that would 
work!

-Greg

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 6290 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060505/31e6afbc/attachment-0001.bin
From canoe at onetel.com  Sat May  6 18:13:02 2006
From: canoe at onetel.com (James Lee)
Date: Sat May  6 18:14:07 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <10026.213.58.97.63.1146740160.squirrel@webmail1.londonmet.ac.uk>
References: <4458CA55.5040500@rumblestrip.org>
	<20060504.8395300.2775189609@landeck.jamesipoos.com>
	<10026.213.58.97.63.1146740160.squirrel@webmail1.londonmet.ac.uk>
Message-ID: <20060506.16130200.2040188290@landeck.jamesipoos.com>

On 04/05/06, 11:56:00, Axel Jacobs <a.jacobs@londonmet.ac.uk> wrote
regarding Re: [Radiance-general] compiling Radiance 64-bit?:

> > Why do you think radiance needs to be 64bit?  On both and Sparc and
> > the AMD64 the 32bit binaries ran quicker.   Only if it needs to
> > address >2G of memory does it *need* to be 64bit.  *Some* programs
> > run quicker 64 bit but *most* *don't*, combine with larger executable
> > files and increased memory usage I found radiance is best 32 bit.

> I am not sure how 'bitty' the floating point values are that RADIANCE
> calculates. If they are 64-bit long, then you can actually expect a speed
> improvement, me thinks.

People expect it but it's not so.  You can still take advantage of the
better chip architecture when using 32bit addresses.


> > It stands to reason for 64bit programs to be slower because they have
> > to use twice the memory to store memory pointers.  Ah you say, doesn't
> > 64bit mean it can use 64bit registers for other things? (Like 64bit
> > ints and 64bit doubles.)  Well nothing stops that happening in 32bit
> > mode if the chip and compilers are well designed, that's what
> > sparcv8plus+vis is all about.  32/64bit is the memory address mode
> > not the chip registers.  Some say those extra registers are only used
> > on AMD64s in 64bit mode; I say I've benchmarks radiance both ways
> > and 64 bit was not quicker.

> There are benchmarks and there are benchmarks. The only way of finding
> out wheter your particular application will benefit from going 64-bit
> is to actually test it. Which is what I've done for you.

> http://luminance.londonmet.ac.uk/pickup/rad_bench_sempron.html

You are not comparing like with like.  All you 32bit tests were done
on a i386 compatible kernel.  Try a 32bit AMD64 radiance on a kernel
optimised for the AMD64 chip.





James.

From canoe at onetel.com  Sat May  6 18:13:03 2006
From: canoe at onetel.com (James Lee)
Date: Sat May  6 18:14:12 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <445A72BC.5090509@gmx.net>
References: <4458CA55.5040500@rumblestrip.org>
	<20060504.8395300.2775189609@landeck.jamesipoos.com>
	<10026.213.58.97.63.1146740160.squirrel@webmail1.londonmet.ac.uk>
	<445A72BC.5090509@gmx.net>
Message-ID: <20060506.16130300.2019971597@landeck.jamesipoos.com>

On 04/05/06, 22:31:40, Lars "O." Grobe <grobe@gmx.net> wrote regarding Re:
[Radiance-general] compiling Radiance 64-bit?:

> >> Correct and radiance gets no where near 2GB. (At least I run out of
> >> CPU long before the model is that big.)
> >
> > I totally agree there: It's still the CPU speed that's limiting.

> I have a model that is getting close to 2GB here.

And when it does you will have to use 64bit, a decision not base
on speed.


> > I am not sure how 'bitty' the floating point values are that RADIANCE
> > calculates. If they are 64-bit long, then you can actually expect a speed
> > improvement, me thinks.

> Most floating point values are doubles, thus 64bit. Still, the whole
> 64bit-point is about address pointers. All the old "32-bit" cpus support
> calculations on 64bit values - double floats are not that new (a SSE2
> unit as found in recent 32bit intel cpus can even perform calculations
> on 2 64bit values at once). So we are only talking about increasing the
> amount of addressable memory here.

Yes, yes, a 64bit CPU is not cobbled by a 32bit pointer any more than
using a short int turns a Pentium 3 in to a 80286.


> Correct me if I am wrong. I am not a cpu expert. But do not compile
> Radiance in 64 bit if you do not need memory. If you do, take a look at
> compilers. E.g. Sun has a free compiler that is known to produce 64 bit
> code that can compete with 32 bit in speed.

On Sparc most programs run slower 64bit (lame is the only one I know
that runs quicker), on the AMD64 chip the gap was much smaller.  Lars,
you use Solaris?  My test were done on Solaris 10 with the Sun Studio
10 compiler.  Studio 11 is now free.

On Sparc it's clear what is happening because the vis extensions can
be used in 32bit mode: sparcv8plus+vis and sparcv8plus+vis2.  I assume
something similar is happening on the AMD64s although the compiler
flags aren't as explicit and there is no isalist entry.




James.

From a.jacobs at londonmet.ac.uk  Sat May  6 18:34:59 2006
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Sat May  6 18:37:56 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <20060506.16130200.2040188290@landeck.jamesipoos.com>
References: <4458CA55.5040500@rumblestrip.org>
	<20060504.8395300.2775189609@landeck.jamesipoos.com>
	<10026.213.58.97.63.1146740160.squirrel@webmail1.londonmet.ac.uk>
	<20060506.16130200.2040188290@landeck.jamesipoos.com>
Message-ID: <10150.213.58.97.199.1146933299.squirrel@webmail1.londonmet.ac.uk>

James,

>> http://luminance.londonmet.ac.uk/pickup/rad_bench_sempron.html
>
> You are not comparing like with like.  All you 32bit tests were done
> on a i386 compatible kernel.  Try a 32bit AMD64 radiance on a kernel
> optimised for the AMD64 chip.

I am not sure I'm with you. What is a 32bit AMD64 radiance?

What I've done is compare the default installations (other than for
Gentoo, for which there is no 'default' installation) with the boxstandard
kernel.

Axel



From canoe at onetel.com  Sun May  7 10:45:26 2006
From: canoe at onetel.com (James Lee)
Date: Sun May  7 10:46:59 2006
Subject: [Radiance-general] compiling Radiance 64-bit?
In-Reply-To: <10150.213.58.97.199.1146933299.squirrel@webmail1.londonmet.ac.uk>
References: <4458CA55.5040500@rumblestrip.org>
	<20060504.8395300.2775189609@landeck.jamesipoos.com>
	<10026.213.58.97.63.1146740160.squirrel@webmail1.londonmet.ac.uk>
	<20060506.16130200.2040188290@landeck.jamesipoos.com>
	<10150.213.58.97.199.1146933299.squirrel@webmail1.londonmet.ac.uk>
Message-ID: <20060507.8452600.2453261682@landeck.jamesipoos.com>

On 06/05/06, 17:34:59, Axel Jacobs <a.jacobs@londonmet.ac.uk> wrote
regarding Re: [Radiance-general] compiling Radiance 64-bit?:

> >> http://luminance.londonmet.ac.uk/pickup/rad_bench_sempron.html
> >
> > You are not comparing like with like.  All you 32bit tests were done
> > on a i386 compatible kernel.  Try a 32bit AMD64 radiance on a kernel
> > optimised for the AMD64 chip.

> I am not sure I'm with you. What is a 32bit AMD64 radiance?

Radiance optimised for the AMD64 chip but using a 32bit addresses.



> What I've done is compare the default installations (other than for
> Gentoo, for which there is no 'default' installation) with the
> boxstandard kernel.

Start by just running your 32bit radiance on the same AMD64 kernel that
you did the 64bit test.




James.

From ndoylend at battlemccarthy.com  Tue May  9 16:43:47 2006
From: ndoylend at battlemccarthy.com (Nick Doylend)
Date: Tue May  9 16:42:49 2006
Subject: [Radiance-general] Radiance and Ecotect
Message-ID: <6DEC377FFC82574CA8D35173808330BC01099127@bart.battlemccarthy.com>

Can anyone help here?

I'm trying to model daylight factors on the vertical surface of a 10m high
warehouse rack.  The reflectances are fairly low, 0.3 for the rack and 0.6
for the other surfaces.  I've compared daylight factor results from Ecotect
and Radiance and found big differences in the magnitude and range of values
across the surface.  In one case, Ecotect is giving values varying between
about 7.5% and 1%, the corresponding values from Radiance are between about
2.5% and 0.25%.

Ecotect's export to Radiance facility appears to incorrectly set the
transmissivity of the glazing material in the .rad output.  Setting the
glazing transparency (I guess this is the same as tranmsmittance) in Ecotect
to 0.88 and using the 'clean' glass preset I would expect to see
transmissivity values of 0.96 in the .rad file output.  I'm actually getting
values of 0.66.  Even after correcting the .rad file I still find the output
values to be considerably smaller than those from Ecotect.

I'm using the high quality preset for Ecotect's calculation (further
increasing the quality appears to give slightly larger daylight values), and
an 'indirect reflections' value of 5 for Radiance, all other parameters are
the defaults for Ecotect's Radiance interface.

I suppose my real question here is which values should I trust?  Perhaps
neither.

Nick




From ja at a10nyc.com  Wed May 10 05:51:53 2006
From: ja at a10nyc.com (John An)
Date: Wed May 10 05:52:07 2006
Subject: [Radiance-general] Re: Radiance and Ecotect
In-Reply-To: <20060507100027.2E861CD10@mailfilter8.intermedia.net>
Message-ID: <C086DB99.186D%ja@a10nyc.com>

Nick,
Ecotect uses the split-flux method for daylight factor calculation. Radiance
calculates the daylight factor using backward raytracing. Thus, if the
surface reflectance values is accurate, the Radiance method should be more
accurate. There is the argument that if the surface reflectance value is
slightly off, then the raytracing method magnifies the error with each
bounce of light, where with the split-flux method, the error is not
magnified.

With regard to glass definition, Ecotect has been known not to transfer
glazing properties correctly into Radiance definition. If the discussion
forum was still online, then you would be able to follow a forum discussion
regarding the difficulties in translating Ecotect glass to Radiance
definition. The way I get around this problem is by using Optics (not
Window, as I had previously mentioned) from LBNL to create a Radiance
definition of a commercially available glass, and use the Optics definition
to replace the Ecotect glass. If you want a step-by-step method, email me
off the forum.

So, to answer your ultimate question, I generally trust Radiance results
over Ecotect results. But then again, this is just my opinion. The
difference between Ecotect and Radiance results are simply because of the
algorithm used. This does not necessarily mean that one is wrong and the
other is right.

Hope this helps

John


On 5/9/06 6:00 AM, "radiance-general-request@radiance-online.org"
<radiance-general-request@radiance-online.org> wrote:
Can anyone help here?

I'm trying to model daylight factors on the vertical surface of a 10m high
warehouse rack.  The reflectances are fairly low, 0.3 for the rack and 0.6
for the other surfaces.  I've compared daylight factor results from Ecotect
and Radiance and found big differences in the magnitude and range of values
across the surface.  In one case, Ecotect is giving values varying between
about 7.5% and 1%, the corresponding values from Radiance are between about
2.5% and 0.25%.

Ecotect's export to Radiance facility appears to incorrectly set the
transmissivity of the glazing material in the .rad output.  Setting the
glazing transparency (I guess this is the same as tranmsmittance) in Ecotect
to 0.88 and using the 'clean' glass preset I would expect to see
transmissivity values of 0.96 in the .rad file output.  I'm actually getting
values of 0.66.  Even after correcting the .rad file I still find the output
values to be considerably smaller than those from Ecotect.

I'm using the high quality preset for Ecotect's calculation (further
increasing the quality appears to give slightly larger daylight values), and
an 'indirect reflections' value of 5 for Radiance, all other parameters are
the defaults for Ecotect's Radiance interface.

I suppose my real question here is which values should I trust?  Perhaps
neither.

Nick


From nickd at xco2.com  Wed May 10 12:13:23 2006
From: nickd at xco2.com (Nick Devlin)
Date: Wed May 10 12:13:36 2006
Subject: [Radiance-general] Radiance and Ecotect
In-Reply-To: <E1FdlUh-0006Ts-9h@pih-mxcore08.plus.net>
Message-ID: <mailman.0.1147256016.330.radiance-general@radiance-online.org>


Nick, 

John's recommendations are on the nose. It took me a while to come to the
same conclusions, but using Optic to create the .rad description for the
glazing is the simplest way to go. You just need to be certain that Optic is
providing the description for your complete window build-up. I vaguely
remember recent posts regarding Optic and this topic. 

Given the calculation speed, and greater transparency of the settings using
radiance, I gave up on using Ecotects internal calcs a long time ago. With a
minimum of tweaks, you can also get Radiance to do VSC or Sky component
calcs too. 

Hope that is useful

Nickd

Message: 2
Date: Tue, 09 May 2006 23:51:53 -0400
From: John An <ja@a10nyc.com>
Subject: [Radiance-general] Re: Radiance and Ecotect
To: <radiance-general@radiance-online.org>
Message-ID: <C086DB99.186D%ja@a10nyc.com>
Content-Type: text/plain;	charset="US-ASCII"

Nick,
Ecotect uses the split-flux method for daylight factor calculation. Radiance
calculates the daylight factor using backward raytracing. Thus, if the
surface reflectance values is accurate, the Radiance method should be more
accurate. There is the argument that if the surface reflectance value is
slightly off, then the raytracing method magnifies the error with each
bounce of light, where with the split-flux method, the error is not
magnified.

With regard to glass definition, Ecotect has been known not to transfer
glazing properties correctly into Radiance definition. If the discussion
forum was still online, then you would be able to follow a forum discussion
regarding the difficulties in translating Ecotect glass to Radiance
definition. The way I get around this problem is by using Optics (not
Window, as I had previously mentioned) from LBNL to create a Radiance
definition of a commercially available glass, and use the Optics definition
to replace the Ecotect glass. If you want a step-by-step method, email me
off the forum.

So, to answer your ultimate question, I generally trust Radiance results
over Ecotect results. But then again, this is just my opinion. The
difference between Ecotect and Radiance results are simply because of the
algorithm used. This does not necessarily mean that one is wrong and the
other is right.

Hope this helps

John


On 5/9/06 6:00 AM, "radiance-general-request@radiance-online.org"
<radiance-general-request@radiance-online.org> wrote:
Can anyone help here?

I'm trying to model daylight factors on the vertical surface of a 10m high
warehouse rack.  The reflectances are fairly low, 0.3 for the rack and 0.6
for the other surfaces.  I've compared daylight factor results from Ecotect
and Radiance and found big differences in the magnitude and range of values
across the surface.  In one case, Ecotect is giving values varying between
about 7.5% and 1%, the corresponding values from Radiance are between about
2.5% and 0.25%.

Ecotect's export to Radiance facility appears to incorrectly set the
transmissivity of the glazing material in the .rad output.  Setting the
glazing transparency (I guess this is the same as tranmsmittance) in Ecotect
to 0.88 and using the 'clean' glass preset I would expect to see
transmissivity values of 0.96 in the .rad file output.  I'm actually getting
values of 0.66.  Even after correcting the .rad file I still find the output
values to be considerably smaller than those from Ecotect.

I'm using the high quality preset for Ecotect's calculation (further
increasing the quality appears to give slightly larger daylight values), and
an 'indirect reflections' value of 5 for Radiance, all other parameters are
the defaults for Ecotect's Radiance interface.

I suppose my real question here is which values should I trust?  Perhaps
neither.

Nick




------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 27, Issue 7
***********************************************


From info at aisarquitectura.com  Wed May 10 14:04:50 2006
From: info at aisarquitectura.com (=?iso-8859-1?Q?Ignacio_Mun=E1rriz?=)
Date: Wed May 10 14:05:31 2006
Subject: [Radiance-general] water simulation
Message-ID: <000701c67429$f1607730$0301a8c0@aisxeon>

I'm trying tom model water with the prism1 & prism2 primitives. I`ve been
able to propagate the rays from sources using

     void prism1 white
     5 1 dx dy dz water.cal
     0
     3 1 1 1

     white polygon agua
      0
      0
      12 0 2 1         0 0 1   2 0 1    2 2 1

     void light bright
     0
     0
     3  100  100  100

     bright polygon fixture
     0
     0
     12  1 1  2.5         1 1.2 2.5   1.2 1.2 2.    1.2 1 2.5


 and leaving the water.cal file as
dx=Dx;
dy=Dy;
dz=Dz;

but when i try to rotate de incident ray with on the y axis
dx=(Dx*cos(angle*PI/180))+(Dz*sin(angle*PI/180));
dz=(Dz*cos(angle*PI/180))-(Dx*sin(angle*PI/180));
dy=Dy;

 i get the error
rpict: warning - aiming failure for light source "fixture"


From Christoph.Reinhart at nrc-cnrc.gc.ca  Wed May 10 14:24:14 2006
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Wed May 10 14:24:21 2006
Subject: [Radiance-general] Re: Radiance and Ecotect
Message-ID: <5910A0754536EA4AAD411AE8221C39620118A757@nrccenexb1.nrc.ca>


>>John wrote : So, to answer your ultimate question, I generally trust
Radiance results over Ecotect results. But then again, this is just my
opinion. The difference between Ecotect and Radiance results are simply
because of the algorithm used. This does not necessarily mean that one
is wrong and the other is right.

I largely agree with what John wrote except that I would add that once
the material properties have been properly assigned in your Ecotect and
Radiance models, Radiance should be your benchmark. In case you are
close to a window, the simulation results of both programs should (and
do) largely coincide, but if you use an L-shaped room with a single
window in one of the 'end' walls and run an Ecotect DF simulation,
you'll see that as soon as a sensor does not 'see' the window any more,
the DF become zero which is of course physically incorrect. On the other
hand, Ecotect is somewhat faster than Radiance so for the 'easy' cases
it might be your preferred choice. 

In the end you should think twice before using the daylight factor as
its capability to improve your design is somewhat limited. You might
want to look at dynamic metrics instead such as daylight autonomy,
useful daylight index, or continuous daylight autonomy using either SPOT
or DAYSIM. The new Daysim calculates all three metrics for you and you
can load the results back into Ectoect.

One useful feature that might be of interest is that the export function
from Ecotect to Radiance can be set so that Ecotect checks whether a
file <layer name>.rad exists in the "Material Export Directory" (Menu
option: FILE >>> USER PREFERENCES). If so, it uses the content of the
*.rad file as the material description for the layer in the Radiance
model. 

Christoph



From gregoryjward at gmail.com  Wed May 10 22:02:02 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed May 10 22:02:04 2006
Subject: [Radiance-general] water simulation
In-Reply-To: <000701c67429$f1607730$0301a8c0@aisxeon>
References: <000701c67429$f1607730$0301a8c0@aisxeon>
Message-ID: <1CD1EC8C-0CF6-47D5-9CEB-95D5DA70D4E1@gmail.com>

Hi Ignacio,

Your problem stems from the fact that your modified angles do not  
obey reciprocity, which says that if you reverse the ray (light)  
direction, then the angles remain the same on either side.  Both  
prisma and prism2 require this property to function.  Implementing  
Snell's law correctly, you should get a working material.

The vector version of Snell's law may be found in ray/src/ 
dielectric.c, or in an easier-to-read form on Wikipedia:

	http://en.wikipedia.org/wiki/Snell's_law

Note that the roles of the inside and outside indices of refraction,  
n1 and n2, reverse when you come from one side of the water verses  
the other.  The n of water is about 1.3, and air is of course 1.0.   
(OK, quibblers, air is really 1.0003)

-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 10, 2006 5:04:50 AM PDT
>
> I'm trying tom model water with the prism1 & prism2 primitives.  
> I`ve been
> able to propagate the rays from sources using
>
>     ...

From toast at becausewecan.org  Thu May 11 05:13:17 2006
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Thu May 11 05:13:13 2006
Subject: [Radiance-general] Glass & MTL file troubles... (or how to go from
 Revit to Radiance with little pain...)
In-Reply-To: <5910A0754536EA4AAD411AE8221C39620118A757@nrccenexb1.nrc.ca>
References: <5910A0754536EA4AAD411AE8221C39620118A757@nrccenexb1.nrc.ca>
Message-ID: <4462ABCD.9090406@becausewecan.org>


So I haven't been doing much with Radiance for the last year and a half 
or so, and suddenly something came up at work where it seemed the best 
solution. And actually, I've got a secret plan to make better and more 
widespread use of it where I work (Gensler). My day job is being their 
firmwide Revit guy, and the more folks we got using Revit, the more 
complete and nice models we've got to run design analysis tools on, 
Radiance being one of them.

Anyways, I figured out how to go from Revit to Radiance somewhat-quickly 
by using 3D Studio Max as an $3000 converter. Revit only exports DWG, 
DXF, DGN, and SAT's, and Max is the only 3D application that can import 
those DWG's and leave the Revit materials all intact (so you don't have 
to re-map stuff). So I then export out of Max as an .Obj, grouped by 
material, and I get a nice Radiance-ready OBJ file. Or so I'd hoped. 
I've got two issues, and I'll start with the first big one:

1. Revit likes to model glass as a solid plate, not a flat surface. So a 
bit of glass is a rectangular solid, not a flat plane. So when I try to 
make the windows into Illum's so that they spread light into the room, 
I'm getting errors and problems because I think it's looking for a flat 
plane with the normal pointing into the building. How important is it to 
have the Windows be a lightsource for interior renderings? Is there some 
way, via Mkillum or something, that I could quickly work around this 
issue? I can flatten the glass in Max, but that's an extra step and one 
that seems to also cause issues with zero-area light surfaces.

2. When I export out of Max, I get a .OBJ and a corresponding .MTL 
materials file. I currently use Grep and such to pull out all the 
material definition names out of the RAD file I get from OBJ2RAD, and 
then creating the .MAT radiance material file by hand. I'd love to hear 
a way to take the exported .MTL file and turn it into a starting point 
for my .MAT (short of having to write my own tool to do so...).

Now, we're just designers, and looking for design feedback not hard 
numbers. We'd be happy with something somewhat-accurate, for if/when we 
need 'real numbers' we'll typically turn to a lighting designer who know 
how to generate accurate numbers. But I figure, heck, we're generating 
these models anyways, why not try to put that to better use?

And sorry for the long post. As payback for all the help I've gotten 
here by lurking over the years I'll answer any Revit questions you might 
wanna ask...

Thanks everyone!

Jeffrey


From rpg at rumblestrip.org  Thu May 11 06:38:17 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu May 11 06:38:37 2006
Subject: [Radiance-general] Glass & MTL file troubles... (or how to go
	from Revit to Radiance with little pain...)
In-Reply-To: <4462ABCD.9090406@becausewecan.org>
References: <5910A0754536EA4AAD411AE8221C39620118A757@nrccenexb1.nrc.ca>
	<4462ABCD.9090406@becausewecan.org>
Message-ID: <37989395-8767-4FCC-B378-15716735ADD3@rumblestrip.org>


Hi Jeffrey,

On May 10, 2006, at 9:13 PM, Jeffrey McGrew wrote:
>
> 1. Revit likes to model glass as a solid plate, not a flat surface.  
> So a bit of glass is a rectangular solid, not a flat plane. So when  
> I try to make the windows into Illum's so that they spread light  
> into the room, I'm getting errors and problems because I think it's  
> looking for a flat plane with the normal pointing into the  
> building. How important is it to have the Windows be a lightsource  
> for interior renderings? Is there some way, via Mkillum or  
> something, that I could quickly work around this issue? I can  
> flatten the glass in Max, but that's an extra step and one that  
> seems to also cause issues with zero-area light surfaces.

Ugh.  Yeah, programs like Revit and 3DS, et al. make glazing planes  
as 3D objects with six polygons.  No good.  Your errors and problems  
are definitely related to this.  mkillum expects a single polygon,  
looking in.  Not sure how you're flattening the planes, but I'll bet  
you're still ending up with a pair of triangular polys representing  
the glass plane, and who the hell knows which way they're facing.   
mkillum likes regular polygons.  Page 577 of Rendering with Radiance  
has the gory details. Not sure the answer to your problem, just  
stating the issues.

> 2. When I export out of Max, I get a .OBJ and a corresponding .MTL  
> materials file. I currently use Grep and such to pull out all the  
> material definition names out of the RAD file I get from OBJ2RAD,  
> and then creating the .MAT radiance material file by hand. I'd love  
> to hear a way to take the exported .MTL file and turn it into a  
> starting point for my .MAT (short of having to write my own tool to  
> do so...).

If you can grep the stuff out, I'd bet you could write something to  
take the result(s) and generate a corresponding .mat file, with shell  
scripting techniques, or python or perl, or whatever.

>
> Now, we're just designers, and looking for design feedback not hard  
> numbers. We'd be happy with something somewhat-accurate, for if/ 
> when we need 'real numbers' we'll typically turn to a lighting  
> designer who know how to generate accurate numbers. But I figure,  
> heck, we're generating these models anyways, why not try to put  
> that to better use?

Sounds like a plan. The thing is, you are closer to real numbers than  
most lighting designers, by having the wherewithal to tackle  
Radiance.  Don't short-change yourself.  A good model and sound  
parameters in Radiance beats any of the tools commonly used in  
lighting design, IMO.

- Rob

From T-Bleicher at bdp.co.uk  Thu May 11 10:11:01 2006
From: T-Bleicher at bdp.co.uk (Bleicher, Thomas)
Date: Thu May 11 10:11:30 2006
Subject: [Radiance-general] Glass & MTL file troubles... (or how to go
	from Revit to Radiance with little pain...)
Message-ID: <FCCB55B3313F2341AB3C91810FE1166B013E50A9@ln-s3xch1.bdp.holdings.network>


Jeffrey McGrew wrote:
> And actually, I've got a secret plan to make better and more
> widespread use of it where I work (Gensler).

Same thing here, though I my company _wants_ to use Radiance.
I just have to sort out the workflow first.

> 1. Revit likes to model glass as a solid plate, not a flat surface. So a
> bit of glass is a rectangular solid, not a flat plane. So when I try to
> make the windows into Illum's so that they spread light into the room,
> I'm getting errors and problems because I think it's looking for a flat
> plane with the normal pointing into the building. How important is it to
> have the Windows be a lightsource for interior renderings?

I think your looking for high quality renderings of the interior, so
you definitely want to use mkillum to restrict your scene to the interior.
If it's just a crude rendering I'd create a sky and wouldn't bother
much about the windows as light source.

> Is there some
> way, via Mkillum or something, that I could quickly work around this
> issue? I can flatten the glass in Max, but that's an extra step and one
> that seems to also cause issues with zero-area light surfaces.

You could write a script to delete polygons with material glass based
on their area (reduce 6 sides to 2) and vicinity to already checked
polygons (reduce 2 to one) but that's not going to be easy. You might
be able to edit the windows in MAX to get a Radiance friendly geometry. 

> 2. When I export out of Max, I get a .OBJ and a corresponding .MTL
> materials file. I currently use Grep and such to pull out all the
> material definition names out of the RAD file I get from OBJ2RAD, and
> then creating the .MAT radiance material file by hand. I'd love to hear
> a way to take the exported .MTL file and turn it into a starting point
> for my .MAT (short of having to write my own tool to do so...).

Please see the man page for obj2rad. The top section describes
material mapping based on the context (or material) of the face
in the obj file. If you use the same set of materials in all your
models you could create a material library and a corresponding
mapping file. Obj2rad then assigns the correct Radiance material
name (as far as I understand this point, never used it much).

> Now, we're just designers, and looking for design feedback not hard
> numbers. We'd be happy with something somewhat-accurate, for if/when we
> need 'real numbers' we'll typically turn to a lighting designer who know
> how to generate accurate numbers.

You're welcome! If you can provide Radiance geometry we might
offer a discount ... ;)


Thomas

***********************************************************************************
This e-mail, (and any attachments) is confidential and may be privileged.  It may be read, copied and used by the intended addressee only.  If you have received this in error please contact BDP immediately. 

If you have any queries, please contact the sender.
***********************************************************************************
Building Design Partnership
Registered in England No 2207415:
Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
***********************************************************************************

From grobe at gmx.net  Thu May 11 10:35:00 2006
From: grobe at gmx.net (Lars Grobe)
Date: Thu May 11 10:35:06 2006
Subject: =?ISO-8859-1?Q?Re:_[Radiance-general]_Glass_&_MTL_file_troubles..._(or_ho?=
	=?ISO-8859-1?Q?w_to_go=09from_Revit_to_Radiance_with_little_pain...)?=
References: <37989395-8767-4FCC-B378-15716735ADD3@rumblestrip.org>
Message-ID: <22326.1147336500@www026.gmx.net>

Hi!

> How important is it to have the Windows be a lightsource  
> for interior renderings?

You will get nicer Renderings with lower ambient settings. But with big
window openings, it should not be really necessary to use mkillum. If you
use it, consider generating the faces in another tool that gives you more
control, maybe "even" writing them with an editor.
 
> looking in.  Not sure how you're flattening the planes, but I'll bet  
> you're still ending up with a pair of triangular polys representing  
> the glass plane, and who the hell knows which way they're facing.   
> mkillum likes regular polygons.

Triangles don't work with mkillum. Still, the obj format is not limited to
triangles, it depends more on the modeler (and you must make sure that the
panes are 100% plain).
 
> > to hear a way to take the exported .MTL file and turn it into a  
> > starting point for my .MAT (short of having to write my own tool to  
> > do so...).

Do you know obj2rad's -n option?

CU Lars.

From info at aisarquitectura.com  Thu May 11 14:13:43 2006
From: info at aisarquitectura.com (=?iso-8859-1?Q?Ignacio_Mun=E1rriz?=)
Date: Thu May 11 14:20:40 2006
Subject: [Radiance-general] water simulation
References: <000701c67429$f1607730$0301a8c0@aisxeon>
	<1CD1EC8C-0CF6-47D5-9CEB-95D5DA70D4E1@gmail.com>
Message-ID: <000901c674f4$5ca3aab0$0301a8c0@aisxeon>

Thanks Greg, i think i'm near to get it, but there is something that is not
working, i dont know if Rdot is the DOT product or the -DOT product, i tried
the two but it is still not working, i?ve been trying to do some tests with
calc and it seems to work but something must be wrong because rpict gives
the aiming error, what is the best tool in radiance to test this kind of
things, i say, testing cal files while sending rays

void prism2 water
     9 transm dx dy dz reflect dxx dyy dzz water.cal
     0
     3 1 1 1

####water.cal#####
nrwater=1.3;

cos1=if(Rdot,Rdot,-Rdot);
nratio=if(Rdot,1/nrwater,nrwater);
dnormx=if(Rdot,Nx,-Nx);
dnormy=if(Rdot,Ny,-Ny);
dnormz=if(Rdot,Nz,-Nz);

d3=1.0-(nratio*nratio*(1.0 -(cos1*cos1)));
cos2=sqrt(d3);
d1bis=cos1;
d2bis=nratio*cos2;
d1t=(d1bis-d2bis)/(d1bis+d2bis);
reflpp=d1t*d1t;
d1p=1.0/cos1;
d2=nratio/cos2;
d1=(d1p-d2)/(d1p+d2);
reflp=reflpp+(d1*d1);
refl=reflp*.5;
transp=1.0 -refl;
trans=transp*nratio*nratio;


reflect=if(d3,refl,1.0);
transm=if(d3,trans,0.0);

dm=nratio*cos1 - cos2;

dx=nratio*Dx+dm*dnormx;
dy=nratio*Dy+dm*dnormy;
dz=nratio*Dz+dm*dnormz;

dxx=Dx+2.0*cos1*dnormx;
dyy=Dy+2.0*cos1*dnormy;
dzz=Dz+2.0*cos1*dnormz;




----- Original Message ----- 
From: "Gregory J. Ward" <gregoryjward@gmail.com>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Sent: Wednesday, May 10, 2006 10:02 PM
Subject: Re: [Radiance-general] water simulation


Hi Ignacio,

Your problem stems from the fact that your modified angles do not
obey reciprocity, which says that if you reverse the ray (light)
direction, then the angles remain the same on either side.  Both
prisma and prism2 require this property to function.  Implementing
Snell's law correctly, you should get a working material.

The vector version of Snell's law may be found in ray/src/
dielectric.c, or in an easier-to-read form on Wikipedia:

http://en.wikipedia.org/wiki/Snell's_law

Note that the roles of the inside and outside indices of refraction,
n1 and n2, reverse when you come from one side of the water verses
the other.  The n of water is about 1.3, and air is of course 1.0.
(OK, quibblers, air is really 1.0003)

-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 10, 2006 5:04:50 AM PDT
>
> I'm trying tom model water with the prism1 & prism2 primitives.
> I`ve been
> able to propagate the rays from sources using
>
>     ...

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From toast at becausewecan.org  Thu May 11 17:33:13 2006
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Thu May 11 17:33:08 2006
Subject: [Radiance-general] Glass & MTL file troubles... (or how to go
	from Revit to Radiance with little pain...)
In-Reply-To: <37989395-8767-4FCC-B378-15716735ADD3@rumblestrip.org>
References: <5910A0754536EA4AAD411AE8221C39620118A757@nrccenexb1.nrc.ca>	<4462ABCD.9090406@becausewecan.org>
	<37989395-8767-4FCC-B378-15716735ADD3@rumblestrip.org>
Message-ID: <44635939.3010408@becausewecan.org>

Rob Guglielmetti wrote:
> Ugh.  Yeah, programs like Revit and 3DS, et al. make glazing planes as 
> 3D objects with six polygons.  No good.  Your errors and problems are 
> definitely related to this.  mkillum expects a single polygon, looking 
> in.
OK, that's what I thought. I'm not using Mkillum yet, just trying to 
make the windows into a Illum source with Skyfunc and not having much luck.
> Not sure how you're flattening the planes, but I'll bet you're still 
> ending up with a pair of triangular polys representing the glass 
> plane, and who the hell knows which way they're facing.  mkillum likes 
> regular polygons.  Page 577 of Rendering with Radiance has the gory 
> details. Not sure the answer to your problem, just stating the issues.
I'll look that up. Thanks for the confirmation.

I'm able to flatten the planes in Max via the 'Edit Poly' modifier. 
Thankfully, all of those 6-sided polys have their Y-axis pointing the 
same way it appears, even if tilted/turned, so I can flatten them all 
with a single tool. However, this doesn't remove the side polys, and 
leaves you with two flat faces I suspect, so I'll have to research this 
method more.
> If you can grep the stuff out, I'd bet you could write something to 
> take the result(s) and generate a corresponding .mat file, with shell 
> scripting techniques, or python or perl, or whatever.
Yeah, my unix god friend pointed me towards AWK as a simple solution. 
I'm just lazy, and can't write code quickly (not a programmer) so I was 
hoping that there might be a solution out there already.
> Sounds like a plan. The thing is, you are closer to real numbers than 
> most lighting designers, by having the wherewithal to tackle 
> Radiance.  Don't short-change yourself.  A good model and sound 
> parameters in Radiance beats any of the tools commonly used in 
> lighting design, IMO.
Didn't know that. Huh. Well, Revit produces very good models (other than 
this glass thing) so I'm halfway there I guess.

Jeffrey

From toast at becausewecan.org  Thu May 11 17:37:51 2006
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Thu May 11 17:37:46 2006
Subject: [Radiance-general] Glass & MTL file troubles... (or how to go
	from Revit to Radiance with little pain...)
In-Reply-To: <FCCB55B3313F2341AB3C91810FE1166B013E50A9@ln-s3xch1.bdp.holdings.network>
References: <FCCB55B3313F2341AB3C91810FE1166B013E50A9@ln-s3xch1.bdp.holdings.network>
Message-ID: <44635A4F.2040901@becausewecan.org>

Bleicher, Thomas wrote:
> I think your looking for high quality renderings of the interior, so
> you definitely want to use mkillum to restrict your scene to the interior.
> If it's just a crude rendering I'd create a sky and wouldn't bother
> much about the windows as light source.
>   
That's what we've got going, it's a building with lots of glass and 
skylights and such. So do you think just having the windows be glass 
would be enough to get somewhat-close numbers? I fear that not making 
the glass a secondary light source, and just having it be, well, glass 
and only having the ray of sunlight bouncing around is going to give me 
bad numbers.
> You could write a script to delete polygons with material glass based
> on their area (reduce 6 sides to 2) and vicinity to already checked
> polygons (reduce 2 to one) but that's not going to be easy. You might
> be able to edit the windows in MAX to get a Radiance friendly geometry. 
>   
That's what I'm doing, I can edit them in Max via the 'Edit Poly' 
modifier, but I'll need to research this more. I want to stay away from 
hand-editing much of anything, for I want to be able to go back and edit 
the Revit model, re-export to Max, and from there re-export to OBJ2RAD 
for quick revisions. So far, so good on that front, but this glass thing 
is leaving me stumped.
> Please see the man page for obj2rad. The top section describes
> material mapping based on the context (or material) of the face
> in the obj file. If you use the same set of materials in all your
> models you could create a material library and a corresponding
> mapping file. Obj2rad then assigns the correct Radiance material
> name (as far as I understand this point, never used it much).
>   
I saw that. I was hoping there was a way to use the .MTL file that's 
already generated by Max. Basically, I'm just being lazy, and hoping 
there was an existing solution out there.
> You're welcome! If you can provide Radiance geometry we might
> offer a discount ... ;)
Now that doesn't sound like a bad idea! ;-)

-- 

Jeffrey McGrew

Because We Can, LLC
(415) 505-4689
www.becausewecan.org


From toast at becausewecan.org  Thu May 11 17:42:54 2006
From: toast at becausewecan.org (Jeffrey McGrew)
Date: Thu May 11 17:42:47 2006
Subject: [Radiance-general] Glass & MTL file troubles... (or how to go
	from Revit to Radiance with little pain...)
In-Reply-To: <22326.1147336500@www026.gmx.net>
References: <37989395-8767-4FCC-B378-15716735ADD3@rumblestrip.org>
	<22326.1147336500@www026.gmx.net>
Message-ID: <44635B7E.4040609@becausewecan.org>

Lars Grobe wrote:
> You will get nicer Renderings with lower ambient settings. But with big
> window openings, it should not be really necessary to use mkillum. If you
> use it, consider generating the faces in another tool that gives you more
> control, maybe "even" writing them with an editor.
>   
'Nicer' is good, but I'm worried about the actual numbers. We want 
renderings as well as falsecolor images. If we just wanted nice 
renderings, we'd probably go to vRay, which is kind of our unofficial 
standard for 'sexy' images. If I can get 'ok' renderings but decent 
falsecolor images without having to edit the glass or use it as a 
lightsource I could make this whole process very, very easy.
> Triangles don't work with mkillum. Still, the obj format is not limited to
> triangles, it depends more on the modeler (and you must make sure that the
> panes are 100% plain).
>   
Yeah, when I export to OBJ I'm picking the 'poly' option which seems to 
produce polygons and rectangles. Revit produces rectangles/polys as 
well, it doesn't render everything to triangles like some modelers. So I 
think I'm ok there.
> Do you know obj2rad's -n option?
Yeah, just being lazy, and hoping for an easy solution.

What would be the best is to use the new Revit API to write an Radiance exporter, and skip Max altogether. However, this is beyond my abilities and available time currently (and sadly).

Jeffrey McGrew

Because We Can, LLC
(415) 505-4689
www.becausewecan.org


From grobe at gmx.net  Thu May 11 17:51:21 2006
From: grobe at gmx.net (Lars Grobe)
Date: Thu May 11 17:51:25 2006
Subject: =?ISO-8859-1?Q?Re:_[Radiance-general]_Glass_&_MTL_file_troubles..._(or_ho?=
	=?ISO-8859-1?Q?w_to_go=09from_Revit_to_Radiance_with_little_pain...)?=
References: <44635A4F.2040901@becausewecan.org>
Message-ID: <16096.1147362681@www111.gmx.net>

Hi!

> That's what we've got going, it's a building with lots of glass and 
> skylights and such. So do you think just having the windows be glass 
> would be enough to get somewhat-close numbers? I fear that not making 
> the glass a secondary light source, and just having it be, well, glass 
> and only having the ray of sunlight bouncing around is going to give me 
> bad numbers.

I think you are worried too much here. The numbers should not change so much
because of mkillum, the image will look nicer in many cases. But the main
reason for mkillum is the following.

If you have a model where most of the indirect light enters the room through
small windows, the probability that the (random) indirect rays, which are
send from the surface to several (random) directions to find out its
indirect contribution hits the (small) light source is getting low. You can
increase the number of random rays, but that won't help sometimes and takes
a lot of rendering time. So, in these cases, it is better to bring the light
source closer. Bt as it sounds to me, your model is not the typical case
with shading devices etc, right? So, if you have simple, large windows, at
least your numbers should be fine.

Lars.

From gregoryjward at gmail.com  Thu May 11 19:30:01 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu May 11 19:30:02 2006
Subject: [Radiance-general] water simulation
In-Reply-To: <000901c674f4$5ca3aab0$0301a8c0@aisxeon>
References: <000701c67429$f1607730$0301a8c0@aisxeon>
	<1CD1EC8C-0CF6-47D5-9CEB-95D5DA70D4E1@gmail.com>
	<000901c674f4$5ca3aab0$0301a8c0@aisxeon>
Message-ID: <7EC041C2-8F0F-4B87-915C-6D83E5A90A7F@gmail.com>

Hi Ignacio,

Regrettably, I don't have time to debug your function file at the  
moment.  You can try using the debugcal script that comes with  
Radiance, giving it ray origins and directions on the standard input  
or using ximage:

	ximage test.pic | debugcal test.oct -f water.cal -e '$1=dx;$2=dy; 
$3=dz;$4=dxx;$5=dyy;$6=dzz'

This script assigns the standard variables from rayinit.cal so you  
can find out what is happening.

To answer  your first question, the Rdot variable is the negative dot  
product, meaning that it is positive when a ray strikes the front of  
a surface material, and negative when it strikes the back side of the  
surface.

Hope this helps.
-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 11, 2006 5:13:43 AM PDT
>
> Thanks Greg, i think i'm near to get it, but there is something  
> that is not
> working, i dont know if Rdot is the DOT product or the -DOT  
> product, i tried
> the two but it is still not working, i?ve been trying to do some  
> tests with
> calc and it seems to work but something must be wrong because rpict  
> gives
> the aiming error, what is the best tool in radiance to test this  
> kind of
> things, i say, testing cal files while sending rays

From ndoylend at battlemccarthy.com  Fri May 12 16:08:17 2006
From: ndoylend at battlemccarthy.com (Nick Doylend)
Date: Fri May 12 16:07:21 2006
Subject: [Radiance-general] Radiance and Ecotect
Message-ID: <6DEC377FFC82574CA8D35173808330BC01099133@bart.battlemccarthy.com>


Thanks very much for your suggestions.

I looked briefly at outputting glazing data from Optics.  It's probably the
way to go if I want to model a 'real' glazing type.  I don't really
understand how the BRTDfunc is used; it sets the surface reflectance as well
as transmittance doesn't it?  At the moment I'm only considering a
'notional' glazing so I'm just calculating the transmissivity and editing
the Radiance file output from Ecotect by hand.  For typical glass types, how
much difference would using the BRTDfunc definitions make to my internal
daylight calculations?

As far as reliability of results is concerned, It seems Radiance (in the
hands of an expert user) is more capable of realistic results than Ecotect.
I've noticed that Ecotect's speed of calculation is influenced quite
significantly by the number of windows.  It doesn't appear to make much
difference to Radiance's calculation time.  I guess it's down to the
differences in calculation method but it does make me wonder how well
Ecotect handles models with many windows.

On the other hand, I find Radiance doesn't seem to behave quite as expected.
For example, for an equal glazed area I would expect fewer, larger
rooflights to give the same average %DF across the whole floor as more,
smaller rooflights.  In this case, Ecotect seems to behave as I expect, but
Radiance suggests fewer, larger rooflights give the better average %DF.  I
wonder why this should be.  Maybe my assumption is incorrect.

Nick

From ramana.koti at gmail.com  Fri May 12 21:04:05 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Fri May 12 21:04:09 2006
Subject: [Radiance-general] diffuse skylight without well
Message-ID: <cdf76d820605121204nfa71bc4xe8f38d799b833e77@mail.gmail.com>

Hello all,

Can anyone point me to a commerical manufacturer's website where there's
specifications of a diffuse skylight (preferably withouth well) that can be
modeled in Optics and imported into Radiance material format? (Anything
close or suggestions on an alternative way of doing it will work too!)

Regards,
Ramana.

-- 
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275
www.daylit.org

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060512/e46e3e05/attachment.html
From MMoeck at engr.psu.edu  Fri May 12 21:27:51 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Fri May 12 21:28:29 2006
Subject: [Radiance-general] diffuse skylight without well
References: <cdf76d820605121204nfa71bc4xe8f38d799b833e77@mail.gmail.com>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F110@ENGRMAIL1.engr.psu.edu>

Ramana,
 
Okalux has nice product specifications at 
 
http://www.okalux.com/Okalux_2003/englisch/frames_e.html
 
Select "Products" at the bottom. 
 
They have a good database since they specify the direct and diffuse light transmission, UV protection, U-value, sound reduction, etc. You can use those in pyramidal toplights. For a translation of the direct and diffuse light transmission into the Radiance trans material, see the radiance knowledge base and digests.I would also look into the glaze.cal script. 
 
Dr. Martin Moeck, Pennsylvania State University

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Ramana Koti
Sent: Fri 5/12/2006 3:04 PM
To: Radiance general discussion
Subject: [Radiance-general] diffuse skylight without well



Hello all,

Can anyone point me to a commerical manufacturer's website where there's specifications of a diffuse skylight (preferably withouth well) that can be modeled in Optics and imported into Radiance material format? (Anything close or suggestions on an alternative way of doing it will work too!)

Regards,
Ramana.

-- 
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275
www.daylit.org

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture 
College of Design
Arizona State University, Tempe AZ 85287 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 5021 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060512/2aabfaa9/attachment.bin
From Christoph.Reinhart at nrc-cnrc.gc.ca  Fri May 12 22:03:08 2006
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Fri May 12 22:03:16 2006
Subject: [Radiance-general] diffuse skylight without well
References: <cdf76d820605121204nfa71bc4xe8f38d799b833e77@mail.gmail.com>
Message-ID: <5910A0754536EA4AAD411AE8221C396201365799@nrccenexb1.nrc.ca>

Hi Ramana,
 
Last year we did a validation of a Radiance model for a Kalwall transluscent panel using both trans as well as transdata . You can download the paper from Science Direct. If there is a problem, I can email you a copy. By the end of the summer you should also be able to download several more material files from the Kalwall web site (www.kalwall.com). Alternatively, there is also the Solera web site with several Radiance materials (http://www.advancedglazings.com/expSolera/).
 
Christoph
 
Reinhart C F, Andersen M, "Development and validation of a Radiance model for a translucent panel", Energy and Buildings 38:7 pp. 890-904, 2006
 

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Ramana Koti
Sent: Fri 5/12/2006 3:04 PM
To: Radiance general discussion
Subject: [Radiance-general] diffuse skylight without well



Hello all,

Can anyone point me to a commerical manufacturer's website where there's specifications of a diffuse skylight (preferably withouth well) that can be modeled in Optics and imported into Radiance material format? (Anything close or suggestions on an alternative way of doing it will work too!)

Regards,
Ramana.

-- 
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275
www.daylit.org

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture 
College of Design
Arizona State University, Tempe AZ 85287 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 5049 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060512/c739eeea/attachment.bin
From ramana.koti at gmail.com  Fri May 12 22:07:27 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Fri May 12 22:07:34 2006
Subject: [Radiance-general] diffuse skylight without well: continued
Message-ID: <cdf76d820605121307j4c0493f7x3e6fcc5e8f7fffca@mail.gmail.com>

Hello,

Prof Moeck, thanks for the quick pointer. I couldn't ascertain if it can be
done okalux products but I need glass types that I can model in Optics and
Window for Radiance material format and DOE-2.1E glass library format. I
looked up Optics and Window databases and could not locate Okalux in them.
Please advise.

Regards,
Ramana.

On 5/12/06, Martin Moeck <MMoeck@engr.psu.edu> wrote:
>
> Ramana,
>
> Okalux has nice product specifications at
>
> http://www.okalux.com/Okalux_2003/englisch/frames_e.html
>
> Select "Products" at the bottom.
>
> They have a good database since they specify the direct and diffuse light
> transmission, UV protection, U-value, sound reduction, etc. You can use
> those in pyramidal toplights. For a translation of the direct and diffuse
> light transmission into the Radiance trans material, see the radiance
> knowledge base and digests.I would also look into the glaze.cal script.
>
> Dr. Martin Moeck, Pennsylvania State University
>
> ________________________________
>
> From: radiance-general-bounces@radiance-online.org on behalf of Ramana
> Koti
> Sent: Fri 5/12/2006 3:04 PM
> To: Radiance general discussion
> Subject: [Radiance-general] diffuse skylight without well
>
>
>
> Hello all,
>
> Can anyone point me to a commerical manufacturer's website where there's
> specifications of a diffuse skylight (preferably withouth well) that can be
> modeled in Optics and imported into Radiance material format? (Anything
> close or suggestions on an alternative way of doing it will work too!)
>
> Regards,
> Ramana.
>
> --
> Venkata Ramana Koti
> 1137 E Orange St Apt #35
> Tempe AZ 85281 USA
> Tel: 480.326.9275
> www.daylit.org
>
> MS in Building Design (Energy/Climate)
> School of Architecture and Landscape Architecture
> College of Design
> Arizona State University, Tempe AZ 85287
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>


-- 
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275
www.daylit.org

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060512/b72e2bdd/attachment.htm
From MMoeck at engr.psu.edu  Fri May 12 22:58:20 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Fri May 12 22:59:00 2006
Subject: [Radiance-general] diffuse skylight without well: continued
References: <cdf76d820605121307j4c0493f7x3e6fcc5e8f7fffca@mail.gmail.com>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F114@ENGRMAIL1.engr.psu.edu>

Some really good glazing types, including highly diffuse museum glazings (one of the best being Opalika from Schott at http://www.us.schott.com/architecture/english/references.html) have no Radiance descriptions or are often not archived in the Window database. You can model those in different ways. The easiest way is to start out with the radiance material trans. 
 
Example:
1) http://www.us.schott.com/architecture/english/products/colored-glass/opalika/index.html
2) Download the pdf file on the link below
3) See http://www.us.schott.com/architecture/english/download/schott_farbglas_us_kl.pdf and take a look at Opalika
4) Go to the product information which contains technical data:
http://www.us.schott.com/architecture/english/download/
5) Select the technical information at the bottom: 
Technical Information
OPALIKA?-Physical and chemical properties
http://www.us.schott.com/architecture/english/download/opalikae.pdf
6) This product sheet tells you all optical properties, including a nice intensity distribution plot on p. 6. 
7) The total transmittance is around 30%. Nevertheless, the material has a spike caused by the Radiance trans parameter number 7, which is the transmitted specular component. 
 
Let's define this material. The general format of trans is:
void trans opalika
0 0 7
a1 a2 a3 a4 a5 a6 a7
 
We need additional parameters from the datasheet:
 
rd = diffuse reflectance of opalika, say 0.2 
rs = specular reflectance of opalika, say 0.02
td = diffuse transmittance of opalika, say 0.28
ts = specular transmittance. Play with this value and see how close you can get to the intensity distribution displayed on the data sheet. 
 
Let's start with ts = 0.01
 
a7=ts/(td+ts)
a6=(td+ts)/(rd+td+ts)
a5=0 (roughness - lets just assume 0 for convenience)
a4 = rs = 0.02 let's say (specular reflectance of Opalika)
a3 = a2 = a1 = rd/ ( (1-rs) *(1-a6) )
 
If you do the calculations, you will find the following:
void trans opalika
0 
0
7    0.5   0.5   0.5   0.02   0.0   0.592   0.0345
 
Define this material in radiance as a polygon, and put a light source/horizontal sun rays behind it. Determine the luminance at nadir. Determine the luminance at 1, 2, 3 ... 20 degrees off nadir. See if you can get the plot listed in the data sheet. If not, change the ts parameter.
 
This is a good exercise since you should use data that are verifiable. Create your own values, verify them and don't rely too much on others :)  I have found substantial transmittance mistakes in manufacturers published data. We discussed some concerns about the windows database before in this group. 
 
Martin Moeck
 
 
 
 
 

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Ramana Koti
Sent: Fri 5/12/2006 4:07 PM
To: Radiance general discussion
Subject: [Radiance-general] diffuse skylight without well: continued


Hello,

Prof Moeck, thanks for the quick pointer. I couldn't ascertain if it can be done okalux products but I need glass types that I can model in Optics and Window for Radiance material format and DOE-2.1E glass library format. I looked up Optics and Window databases and could not locate Okalux in them. Please advise.

Regards,
Ramana.


On 5/12/06, Martin Moeck <MMoeck@engr.psu.edu> wrote: 

	Ramana,
	
	Okalux has nice product specifications at
	
	http://www.okalux.com/Okalux_2003/englisch/frames_e.html
	
	Select "Products" at the bottom. 
	
	They have a good database since they specify the direct and diffuse light transmission, UV protection, U-value, sound reduction, etc. You can use those in pyramidal toplights. For a translation of the direct and diffuse light transmission into the Radiance trans material, see the radiance knowledge base and digests.I would also look into the glaze.cal script.
	
	Dr. Martin Moeck, Pennsylvania State University
	
	________________________________
	
	From: radiance-general-bounces@radiance-online.org on behalf of Ramana Koti
	Sent: Fri 5/12/2006 3:04 PM
	To: Radiance general discussion
	Subject: [Radiance-general] diffuse skylight without well
	
	
	
	Hello all,
	
	Can anyone point me to a commerical manufacturer's website where there's specifications of a diffuse skylight (preferably withouth well) that can be modeled in Optics and imported into Radiance material format? (Anything close or suggestions on an alternative way of doing it will work too!)
	
	Regards,
	Ramana.
	
	--
	Venkata Ramana Koti
	1137 E Orange St Apt #35
	Tempe AZ 85281 USA
	Tel: 480.326.9275
	www.daylit.org
	
	MS in Building Design (Energy/Climate) 
	School of Architecture and Landscape Architecture
	College of Design
	Arizona State University, Tempe AZ 85287
	
	_______________________________________________
	Radiance-general mailing list
	Radiance-general@radiance-online.org
	http://www.radiance-online.org/mailman/listinfo/radiance-general
	
	
	




-- 
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275
www.daylit.org

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 9724 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060512/9872c0c1/attachment.bin
From ja at a10nyc.com  Sun May 14 05:37:53 2006
From: ja at a10nyc.com (John An)
Date: Sun May 14 05:38:11 2006
Subject: [Radiance-general] RE: Radiance and EcoTect
Message-ID: <B48F2F9E06614945A93A1D0C1929146C19B790@DHOST001-36.DEX001.intermedia.net>

Nick,
Christoph Reinhart has a little script that allows you to input your desired transmissivity, and you can extract the correct Radiance definition from the output. I think that may be the way to go for your purposes. I would contact Christoph to see if you can get your hands on the script. Your other option is to select a few actual glasses with the transmissivity that you desire, and test to make sure that they all produce similar results.

John



Nick Doylend wrote:

Thanks very much for your suggestions.

I looked briefly at outputting glazing data from Optics.  It's probably the
way to go if I want to model a 'real' glazing type.  I don't really
understand how the BRTDfunc is used; it sets the surface reflectance as well
as transmittance doesn't it?  At the moment I'm only considering a
'notional' glazing so I'm just calculating the transmissivity and editing
the Radiance file output from Ecotect by hand.  For typical glass types, how
much difference would using the BRTDfunc definitions make to my internal
daylight calculations?

As far as reliability of results is concerned, It seems Radiance (in the
hands of an expert user) is more capable of realistic results than Ecotect.
I've noticed that Ecotect's speed of calculation is influenced quite
significantly by the number of windows.  It doesn't appear to make much
difference to Radiance's calculation time.  I guess it's down to the
differences in calculation method but it does make me wonder how well
Ecotect handles models with many windows.

On the other hand, I find Radiance doesn't seem to behave quite as expected.
For example, for an equal glazed area I would expect fewer, larger
rooflights to give the same average %DF across the whole floor as more,
smaller rooflights.  In this case, Ecotect seems to behave as I expect, but
Radiance suggests fewer, larger rooflights give the better average %DF.  I
wonder why this should be.  Maybe my assumption is incorrect.

Nick 


---------
John An
Environmental Designer
Atelier Ten 
-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of radiance-general-request@radiance-online.org
Sent: Friday, May 12, 2006 6:01 AM
To: radiance-general@radiance-online.org
Subject: Radiance-general Digest, Vol 27, Issue 9

Send Radiance-general mailing list submissions to
	radiance-general@radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request@radiance-online.org

You can reach the person managing the list at
	radiance-general-owner@radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: water simulation (Ignacio Mun?rriz)
   2. Re: Glass & MTL file troubles... (or how to go	from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   3. Re: Glass & MTL file troubles... (or how to go	from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   4. Re: Glass & MTL file troubles... (or how to go	from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   5. Re: Glass & MTL file troubles... (or how to go	from Revit to
      Radiance with little pain...) (Lars Grobe)
   6. Re: water simulation (Gregory J. Ward)


----------------------------------------------------------------------

Message: 1
Date: Thu, 11 May 2006 14:13:43 +0200
From: Ignacio Mun?rriz <info@aisarquitectura.com>
Subject: Re: [Radiance-general] water simulation
To: "Radiance general discussion"
	<radiance-general@radiance-online.org>
Message-ID: <000901c674f4$5ca3aab0$0301a8c0@aisxeon>
Content-Type: text/plain;	charset="iso-8859-1"

Thanks Greg, i think i'm near to get it, but there is something that is not working, i dont know if Rdot is the DOT product or the -DOT product, i tried the two but it is still not working, i?ve been trying to do some tests with calc and it seems to work but something must be wrong because rpict gives the aiming error, what is the best tool in radiance to test this kind of things, i say, testing cal files while sending rays

void prism2 water
     9 transm dx dy dz reflect dxx dyy dzz water.cal
     0
     3 1 1 1

####water.cal#####
nrwater=1.3;

cos1=if(Rdot,Rdot,-Rdot);
nratio=if(Rdot,1/nrwater,nrwater);
dnormx=if(Rdot,Nx,-Nx);
dnormy=if(Rdot,Ny,-Ny);
dnormz=if(Rdot,Nz,-Nz);

d3=1.0-(nratio*nratio*(1.0 -(cos1*cos1))); cos2=sqrt(d3); d1bis=cos1; d2bis=nratio*cos2; d1t=(d1bis-d2bis)/(d1bis+d2bis); reflpp=d1t*d1t; d1p=1.0/cos1; d2=nratio/cos2; d1=(d1p-d2)/(d1p+d2); reflp=reflpp+(d1*d1); refl=reflp*.5; transp=1.0 -refl; trans=transp*nratio*nratio;


reflect=if(d3,refl,1.0);
transm=if(d3,trans,0.0);

dm=nratio*cos1 - cos2;

dx=nratio*Dx+dm*dnormx;
dy=nratio*Dy+dm*dnormy;
dz=nratio*Dz+dm*dnormz;

dxx=Dx+2.0*cos1*dnormx;
dyy=Dy+2.0*cos1*dnormy;
dzz=Dz+2.0*cos1*dnormz;




----- Original Message -----
From: "Gregory J. Ward" <gregoryjward@gmail.com>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Sent: Wednesday, May 10, 2006 10:02 PM
Subject: Re: [Radiance-general] water simulation


Hi Ignacio,

Your problem stems from the fact that your modified angles do not
obey reciprocity, which says that if you reverse the ray (light)
direction, then the angles remain the same on either side.  Both
prisma and prism2 require this property to function.  Implementing
Snell's law correctly, you should get a working material.

The vector version of Snell's law may be found in ray/src/
dielectric.c, or in an easier-to-read form on Wikipedia:

http://en.wikipedia.org/wiki/Snell's_law

Note that the roles of the inside and outside indices of refraction,
n1 and n2, reverse when you come from one side of the water verses
the other.  The n of water is about 1.3, and air is of course 1.0.
(OK, quibblers, air is really 1.0003)

-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 10, 2006 5:04:50 AM PDT
>
> I'm trying tom model water with the prism1 & prism2 primitives.
> I`ve been
> able to propagate the rays from sources using
>
>     ...

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general




------------------------------

Message: 2
Date: Thu, 11 May 2006 08:33:13 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
	to go	from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635939.3010408@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Rob Guglielmetti wrote:
> Ugh.  Yeah, programs like Revit and 3DS, et al. make glazing planes as 
> 3D objects with six polygons.  No good.  Your errors and problems are 
> definitely related to this.  mkillum expects a single polygon, looking 
> in.
OK, that's what I thought. I'm not using Mkillum yet, just trying to 
make the windows into a Illum source with Skyfunc and not having much luck.
> Not sure how you're flattening the planes, but I'll bet you're still 
> ending up with a pair of triangular polys representing the glass 
> plane, and who the hell knows which way they're facing.  mkillum likes 
> regular polygons.  Page 577 of Rendering with Radiance has the gory 
> details. Not sure the answer to your problem, just stating the issues.
I'll look that up. Thanks for the confirmation.

I'm able to flatten the planes in Max via the 'Edit Poly' modifier. 
Thankfully, all of those 6-sided polys have their Y-axis pointing the 
same way it appears, even if tilted/turned, so I can flatten them all 
with a single tool. However, this doesn't remove the side polys, and 
leaves you with two flat faces I suspect, so I'll have to research this 
method more.
> If you can grep the stuff out, I'd bet you could write something to 
> take the result(s) and generate a corresponding .mat file, with shell 
> scripting techniques, or python or perl, or whatever.
Yeah, my unix god friend pointed me towards AWK as a simple solution. 
I'm just lazy, and can't write code quickly (not a programmer) so I was 
hoping that there might be a solution out there already.
> Sounds like a plan. The thing is, you are closer to real numbers than 
> most lighting designers, by having the wherewithal to tackle 
> Radiance.  Don't short-change yourself.  A good model and sound 
> parameters in Radiance beats any of the tools commonly used in 
> lighting design, IMO.
Didn't know that. Huh. Well, Revit produces very good models (other than 
this glass thing) so I'm halfway there I guess.

Jeffrey



------------------------------

Message: 3
Date: Thu, 11 May 2006 08:37:51 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
	to go	from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635A4F.2040901@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Bleicher, Thomas wrote:
> I think your looking for high quality renderings of the interior, so
> you definitely want to use mkillum to restrict your scene to the interior.
> If it's just a crude rendering I'd create a sky and wouldn't bother
> much about the windows as light source.
>   
That's what we've got going, it's a building with lots of glass and 
skylights and such. So do you think just having the windows be glass 
would be enough to get somewhat-close numbers? I fear that not making 
the glass a secondary light source, and just having it be, well, glass 
and only having the ray of sunlight bouncing around is going to give me 
bad numbers.
> You could write a script to delete polygons with material glass based
> on their area (reduce 6 sides to 2) and vicinity to already checked
> polygons (reduce 2 to one) but that's not going to be easy. You might
> be able to edit the windows in MAX to get a Radiance friendly geometry. 
>   
That's what I'm doing, I can edit them in Max via the 'Edit Poly' 
modifier, but I'll need to research this more. I want to stay away from 
hand-editing much of anything, for I want to be able to go back and edit 
the Revit model, re-export to Max, and from there re-export to OBJ2RAD 
for quick revisions. So far, so good on that front, but this glass thing 
is leaving me stumped.
> Please see the man page for obj2rad. The top section describes
> material mapping based on the context (or material) of the face
> in the obj file. If you use the same set of materials in all your
> models you could create a material library and a corresponding
> mapping file. Obj2rad then assigns the correct Radiance material
> name (as far as I understand this point, never used it much).
>   
I saw that. I was hoping there was a way to use the .MTL file that's 
already generated by Max. Basically, I'm just being lazy, and hoping 
there was an existing solution out there.
> You're welcome! If you can provide Radiance geometry we might
> offer a discount ... ;)
Now that doesn't sound like a bad idea! ;-)

-- 

Jeffrey McGrew

Because We Can, LLC
(415) 505-4689
www.becausewecan.org




------------------------------

Message: 4
Date: Thu, 11 May 2006 08:42:54 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
	to go	from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635B7E.4040609@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Lars Grobe wrote:
> You will get nicer Renderings with lower ambient settings. But with big
> window openings, it should not be really necessary to use mkillum. If you
> use it, consider generating the faces in another tool that gives you more
> control, maybe "even" writing them with an editor.
>   
'Nicer' is good, but I'm worried about the actual numbers. We want 
renderings as well as falsecolor images. If we just wanted nice 
renderings, we'd probably go to vRay, which is kind of our unofficial 
standard for 'sexy' images. If I can get 'ok' renderings but decent 
falsecolor images without having to edit the glass or use it as a 
lightsource I could make this whole process very, very easy.
> Triangles don't work with mkillum. Still, the obj format is not limited to
> triangles, it depends more on the modeler (and you must make sure that the
> panes are 100% plain).
>   
Yeah, when I export to OBJ I'm picking the 'poly' option which seems to 
produce polygons and rectangles. Revit produces rectangles/polys as 
well, it doesn't render everything to triangles like some modelers. So I 
think I'm ok there.
> Do you know obj2rad's -n option?
Yeah, just being lazy, and hoping for an easy solution.

What would be the best is to use the new Revit API to write an Radiance exporter, and skip Max altogether. However, this is beyond my abilities and available time currently (and sadly).

Jeffrey McGrew

Because We Can, LLC
(415) 505-4689
www.becausewecan.org




------------------------------

Message: 5
Date: Thu, 11 May 2006 17:51:21 +0200 (MEST)
From: "Lars Grobe" <grobe@gmx.net>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
	to go	from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <16096.1147362681@www111.gmx.net>
Content-Type: text/plain; charset="us-ascii"

Hi!

> That's what we've got going, it's a building with lots of glass and 
> skylights and such. So do you think just having the windows be glass 
> would be enough to get somewhat-close numbers? I fear that not making 
> the glass a secondary light source, and just having it be, well, glass 
> and only having the ray of sunlight bouncing around is going to give me 
> bad numbers.

I think you are worried too much here. The numbers should not change so much
because of mkillum, the image will look nicer in many cases. But the main
reason for mkillum is the following.

If you have a model where most of the indirect light enters the room through
small windows, the probability that the (random) indirect rays, which are
send from the surface to several (random) directions to find out its
indirect contribution hits the (small) light source is getting low. You can
increase the number of random rays, but that won't help sometimes and takes
a lot of rendering time. So, in these cases, it is better to bring the light
source closer. Bt as it sounds to me, your model is not the typical case
with shading devices etc, right? So, if you have simple, large windows, at
least your numbers should be fine.

Lars.



------------------------------

Message: 6
Date: Thu, 11 May 2006 10:30:01 -0700
From: "Gregory J. Ward" <gregoryjward@gmail.com>
Subject: Re: [Radiance-general] water simulation
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <7EC041C2-8F0F-4B87-915C-6D83E5A90A7F@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed

Hi Ignacio,

Regrettably, I don't have time to debug your function file at the  
moment.  You can try using the debugcal script that comes with  
Radiance, giving it ray origins and directions on the standard input  
or using ximage:

	ximage test.pic | debugcal test.oct -f water.cal -e '$1=dx;$2=dy; 
$3=dz;$4=dxx;$5=dyy;$6=dzz'

This script assigns the standard variables from rayinit.cal so you  
can find out what is happening.

To answer  your first question, the Rdot variable is the negative dot  
product, meaning that it is positive when a ray strikes the front of  
a surface material, and negative when it strikes the back side of the  
surface.

Hope this helps.
-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 11, 2006 5:13:43 AM PDT
>
> Thanks Greg, i think i'm near to get it, but there is something  
> that is not
> working, i dont know if Rdot is the DOT product or the -DOT  
> product, i tried
> the two but it is still not working, i?ve been trying to do some  
> tests with
> calc and it seems to work but something must be wrong because rpict  
> gives
> the aiming error, what is the best tool in radiance to test this  
> kind of
> things, i say, testing cal files while sending rays



------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 27, Issue 9
***********************************************

From christian_fusenig at gmx.de  Sun May 14 21:03:10 2006
From: christian_fusenig at gmx.de (Christian Fusenig)
Date: Sun May 14 21:03:21 2006
Subject: [Radiance-general] brightdata factor ?
Message-ID: <44677EEE.4030906@gmx.de>

Hi @ all,

i created an IES file from measured data. This is the IES file:
---------------------------------
TILT=NONE
1 26000 1 26 1 1 2 -0.13 0 0 1 1 1000
0 2.5 5 7.5 10 12.5 15 17.5 20 22.5 25 27.5 30
  32.5 35 37.5 40 42.5 45 47.5 50 52.5 55 57.5 60 90
0
10457 10289 10178 10122 10019 9806 9687 9325 9095 8444
 7951  7068  6531  5755  5205 4939 4718 4431 4325 4319 
 4457  4591  4966  5406  5919   
0
-------------------------------------

Converted to Radiance, the file looks like this:

-------------------------------------------
# ies2rad -t default -c 1.37798146 0.913149838 0.35163837 -m 1 -o 
light/1ff_100
# Dimensions in meters
# ...
#<[WATT]     1000
# 1000 watt luminaire, lamp*ballast factor = 1

void brightdata 1ff_100_dist
4 flatcorr light/1ff_100.dat source.cal src_theta
0
1 75.3396

1ff_100_dist illum 1ff_100_light
0
0
3 1.37798 0.91315 0.351638

1ff_100_light ring 1ff_100.d
0
0
8
    0 0 -0.00025
    0 0 -1
    0 0.065

## Translated from MGF Version 2.0
## mgf2rad -g 0.183848
## mgf2rad ies/ ##############################
------------------------------------------------------------

What i don't understand is the factor of  '75.3396' in line 3 of 
brightdata. Isn't it supposed to be '1'?
Thanks and regards,

Christian







From oitzinger at opec.org  Mon May 15 09:30:03 2006
From: oitzinger at opec.org (Itzinger, Oskar)
Date: Mon May 15 09:30:08 2006
Subject: [Radiance-general] [Help] Problem with ximage in 7.3.2
Message-ID: <2AE27CD8C00C3540AF5DCEBE6C3D020B0169F8A1@opecexch1.opec.org>

Hello all,
 
Very long time ago I'd compiled Radiance 3.1.11 on my SGI Indigo2 [IRIX 
6.5.22, MipsPro 7.3.2] and it did run fine - but then I forgot about it.
 
Just recently, however, I recompiled 3.1.11 on my new SGI Fuel [IRIX
6.5.28, 
MipsPro 7.4.4, V12] and everything worked as before.
 
So, I decided to upgrade to Radiance 3.7.2 on my Fuel [same OS & same
compiler
as above]. It compiled ok, but <ximage> seems now somehow to be broken -
all 
my pictures (ok under 3.1.11 on my Fuel) are completly wrong color-wise
and 
look almost like as if produced via fractint :-).
 
I feel something with the colortable routines is amiss, but I've no 
idea what it could be [I tried different values for DSPEED - but no
success;
also changing the value of <set special> in <makeall> from "ogl" to
"tiff" to
"sgi" didn't help any].
 
BTW, if I convert the pics with ra_tiff and view them [on my Fuel with
vstiff],
they are ok.
 
Your hints are certainly appreciated.
 
Thanks in advance.
/oskar

 


DISCLAIMER

This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to which they are addressed and may be legally privileged and/or confidential. Any unauthorized use, disclosure or copying of this e-mail or any of its attachment(s) by unintended recipient may be unlawful and is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by e-mail and permanently delete the original e-mail and attachment(s) from your computer system.
 
Any opinions contained in this message are those of the author and are not given or endorsed by OPEC, unless otherwise clearly indicated in the message, and the authority of the author to so bind OPEC is duly verified. OPEC does not warrant or assume any legal liability or responsibility for the accuracy, completeness, or usefulness of any information contained in the e-mail content transmitted over the Internet.

Thank you for your cooperation.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060515/64326cb6/attachment.htm
From Andrew.McNeil at arup.com  Mon May 15 10:56:41 2006
From: Andrew.McNeil at arup.com (Andrew McNeil)
Date: Mon May 15 10:57:02 2006
Subject: [Radiance-general] diffuse skylight without well: continued
Message-ID: <5AE9E82331596E4C9F1A1B602407637D019B4994@ldcexc01.global.arup.com>

Hi Ramana,

 

I just want to warn you that Optics may not be capable of accurately
producing data for a glazing makeup with a diffusing element.  

 

I had been using Optics to calculate color rendering index and light
transmission values for fritted glazing makeups using data supplied by a
manufacturer.  Then about a year ago a colleague informed me that Optics
isn't intended to be used for glazing with diffuse transmission
qualities.  At the time the method used by optics for optical
calculations was based only on non-scattering glazing.  

 

You will find a couple of diffusing laminates in the IGDB, but I was
told that these are leftovers from before they stopped accepting data
for diffusing products.

 

This said, it's been a year since I looked into the situation.  At the
time I was told that the inclusion of scattering data was a priority.
So if you know anything different please let me know.

 

Cheers,

Andrew

 

 

________________________________

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Ramana Koti
Sent: 12 May 2006 21:07
To: Radiance general discussion
Subject: [Radiance-general] diffuse skylight without well: continued

 

Hello,

Prof Moeck, thanks for the quick pointer. I couldn't ascertain if it can
be done okalux products but I need glass types that I can model in
Optics and Window for Radiance material format and DOE-2.1E glass
library format. I looked up Optics and Window databases and could not
locate Okalux in them. Please advise.

Regards,
Ramana.

On 5/12/06, Martin Moeck <MMoeck@engr.psu.edu> wrote:

Ramana,

Okalux has nice product specifications at

http://www.okalux.com/Okalux_2003/englisch/frames_e.html

Select "Products" at the bottom. 

They have a good database since they specify the direct and diffuse
light transmission, UV protection, U-value, sound reduction, etc. You
can use those in pyramidal toplights. For a translation of the direct
and diffuse light transmission into the Radiance trans material, see the
radiance knowledge base and digests.I would also look into the glaze.cal
script.

Dr. Martin Moeck, Pennsylvania State University

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Ramana
Koti
Sent: Fri 5/12/2006 3:04 PM
To: Radiance general discussion
Subject: [Radiance-general] diffuse skylight without well



Hello all,

Can anyone point me to a commerical manufacturer's website where there's
specifications of a diffuse skylight (preferably withouth well) that can
be modeled in Optics and imported into Radiance material format?
(Anything close or suggestions on an alternative way of doing it will
work too!)

Regards,
Ramana.

--
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275
www.daylit.org

MS in Building Design (Energy/Climate) 
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general






-- 
Venkata Ramana Koti
1137 E Orange St Apt #35
Tempe AZ 85281 USA
Tel: 480.326.9275
www.daylit.org

MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287 

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060515/6740ce22/attachment.html
From Giulio.Antonutto at arup.com  Mon May 15 11:18:06 2006
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Mon May 15 11:18:28 2006
Subject: [Radiance-general] brightdata factor ?
Message-ID: <CC0B19F4C6132F4D9FDDEBF194200FB5FACDF5@ldcexc02.global.arup.com>

Christian,
that number, M, in your file is:

1/A =  PI x r^2 = 3.1415927 x 0.0065^2 = 75.3396

it means that in the radiance data file all the numbers are divided by
179 and are intensities (cd/179).

at the end the whole product, datafile numbers x M should be = 
(intensities) x 1/179 x 1/A

and you can freely move these products across brightdata, light, or the
datafile... what it matters is the overall result.

hope it helps
ciao
G.

PS in some cases it is: 
intensities x Flux/1000 x 1/179 x 1/A, 
it depends on the input data, i.e. cd or cd/klm.



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Christian Fusenig
Sent: 14 May 2006 20:03
To: radiance-general@radiance-online.org
Subject: [Radiance-general] brightdata factor ?

Hi @ all,

i created an IES file from measured data. This is the IES file:
---------------------------------
TILT=NONE
1 26000 1 26 1 1 2 -0.13 0 0 1 1 1000
0 2.5 5 7.5 10 12.5 15 17.5 20 22.5 25 27.5 30
  32.5 35 37.5 40 42.5 45 47.5 50 52.5 55 57.5 60 90
0
10457 10289 10178 10122 10019 9806 9687 9325 9095 8444
 7951  7068  6531  5755  5205 4939 4718 4431 4325 4319 
 4457  4591  4966  5406  5919   
0
-------------------------------------

Converted to Radiance, the file looks like this:

-------------------------------------------
# ies2rad -t default -c 1.37798146 0.913149838 0.35163837 -m 1 -o 
light/1ff_100
# Dimensions in meters
# ...
#<[WATT]     1000
# 1000 watt luminaire, lamp*ballast factor = 1

void brightdata 1ff_100_dist
4 flatcorr light/1ff_100.dat source.cal src_theta
0
1 75.3396

1ff_100_dist illum 1ff_100_light
0
0
3 1.37798 0.91315 0.351638

1ff_100_light ring 1ff_100.d
0
0
8
    0 0 -0.00025
    0 0 -1
    0 0.065

## Translated from MGF Version 2.0
## mgf2rad -g 0.183848
## mgf2rad ies/ ##############################
------------------------------------------------------------

What i don't understand is the factor of  '75.3396' in line 3 of 
brightdata. Isn't it supposed to be '1'?
Thanks and regards,

Christian







_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From Christoph.Reinhart at nrc-cnrc.gc.ca  Mon May 15 15:57:52 2006
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Mon May 15 15:58:04 2006
Subject: [Radiance-general] RE: Radiance and EcoTect
Message-ID: <5910A0754536EA4AAD411AE8221C39620118A781@nrccenexb1.nrc.ca>

Hi Nick,

I assume that John is referring to a small c-program that comes with Daysim called gen_single_office.exe. It is a very basic but useful program that allows you to write out RADIANCE scene files and sensor grids for single and open plan offices.  I find the script useful for parametric studies as all geometry and material properties are set via the command line. In case I want to get a transmissivity value, I would type something like

gen_single_office -o scene.rad -I sensor.pts -t 80

In the resulting scene.rad file you get the transmissivity value in the material description for glazing: 0.871538.

I am using the simplified glass model in Radiance because I currently do not trust the Optics/Windows output to Radiance (mainly because (a) I still do not properly understand it and (b) because I am not aware of a proper validation study). Maybe somebody from LBNL could enlighten us? If Windows/Optics output into Radiance was indeed reliable, it would be invaluable for the Radiance community. 

Christoph


-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of John An
Sent: Saturday, May 13, 2006 11:38 PM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] RE: Radiance and EcoTect

Nick,
Christoph Reinhart has a little script that allows you to input your desired transmissivity, and you can extract the correct Radiance definition from the output. I think that may be the way to go for your purposes. I would contact Christoph to see if you can get your hands on the script. Your other option is to select a few actual glasses with the transmissivity that you desire, and test to make sure that they all produce similar results.

John



Nick Doylend wrote:

Thanks very much for your suggestions.

I looked briefly at outputting glazing data from Optics.  It's probably the way to go if I want to model a 'real' glazing type.  I don't really understand how the BRTDfunc is used; it sets the surface reflectance as well as transmittance doesn't it?  At the moment I'm only considering a 'notional' glazing so I'm just calculating the transmissivity and editing the Radiance file output from Ecotect by hand.  For typical glass types, how much difference would using the BRTDfunc definitions make to my internal daylight calculations?

As far as reliability of results is concerned, It seems Radiance (in the hands of an expert user) is more capable of realistic results than Ecotect.
I've noticed that Ecotect's speed of calculation is influenced quite significantly by the number of windows.  It doesn't appear to make much difference to Radiance's calculation time.  I guess it's down to the differences in calculation method but it does make me wonder how well Ecotect handles models with many windows.

On the other hand, I find Radiance doesn't seem to behave quite as expected.
For example, for an equal glazed area I would expect fewer, larger rooflights to give the same average %DF across the whole floor as more, smaller rooflights.  In this case, Ecotect seems to behave as I expect, but Radiance suggests fewer, larger rooflights give the better average %DF.  I wonder why this should be.  Maybe my assumption is incorrect.

Nick 


---------
John An
Environmental Designer
Atelier Ten
-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of radiance-general-request@radiance-online.org
Sent: Friday, May 12, 2006 6:01 AM
To: radiance-general@radiance-online.org
Subject: Radiance-general Digest, Vol 27, Issue 9

Send Radiance-general mailing list submissions to
	radiance-general@radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request@radiance-online.org

You can reach the person managing the list at
	radiance-general-owner@radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: water simulation (Ignacio Mun?rriz)
   2. Re: Glass & MTL file troubles... (or how to go	from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   3. Re: Glass & MTL file troubles... (or how to go	from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   4. Re: Glass & MTL file troubles... (or how to go	from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   5. Re: Glass & MTL file troubles... (or how to go	from Revit to
      Radiance with little pain...) (Lars Grobe)
   6. Re: water simulation (Gregory J. Ward)


----------------------------------------------------------------------

Message: 1
Date: Thu, 11 May 2006 14:13:43 +0200
From: Ignacio Mun?rriz <info@aisarquitectura.com>
Subject: Re: [Radiance-general] water simulation
To: "Radiance general discussion"
	<radiance-general@radiance-online.org>
Message-ID: <000901c674f4$5ca3aab0$0301a8c0@aisxeon>
Content-Type: text/plain;	charset="iso-8859-1"

Thanks Greg, i think i'm near to get it, but there is something that is not working, i dont know if Rdot is the DOT product or the -DOT product, i tried the two but it is still not working, i?ve been trying to do some tests with calc and it seems to work but something must be wrong because rpict gives the aiming error, what is the best tool in radiance to test this kind of things, i say, testing cal files while sending rays

void prism2 water
     9 transm dx dy dz reflect dxx dyy dzz water.cal
     0
     3 1 1 1

####water.cal#####
nrwater=1.3;

cos1=if(Rdot,Rdot,-Rdot);
nratio=if(Rdot,1/nrwater,nrwater);
dnormx=if(Rdot,Nx,-Nx);
dnormy=if(Rdot,Ny,-Ny);
dnormz=if(Rdot,Nz,-Nz);

d3=1.0-(nratio*nratio*(1.0 -(cos1*cos1))); cos2=sqrt(d3); d1bis=cos1; d2bis=nratio*cos2; d1t=(d1bis-d2bis)/(d1bis+d2bis); reflpp=d1t*d1t; d1p=1.0/cos1; d2=nratio/cos2; d1=(d1p-d2)/(d1p+d2); reflp=reflpp+(d1*d1); refl=reflp*.5; transp=1.0 -refl; trans=transp*nratio*nratio;


reflect=if(d3,refl,1.0);
transm=if(d3,trans,0.0);

dm=nratio*cos1 - cos2;

dx=nratio*Dx+dm*dnormx;
dy=nratio*Dy+dm*dnormy;
dz=nratio*Dz+dm*dnormz;

dxx=Dx+2.0*cos1*dnormx;
dyy=Dy+2.0*cos1*dnormy;
dzz=Dz+2.0*cos1*dnormz;




----- Original Message -----
From: "Gregory J. Ward" <gregoryjward@gmail.com>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Sent: Wednesday, May 10, 2006 10:02 PM
Subject: Re: [Radiance-general] water simulation


Hi Ignacio,

Your problem stems from the fact that your modified angles do not obey reciprocity, which says that if you reverse the ray (light) direction, then the angles remain the same on either side.  Both prisma and prism2 require this property to function.  Implementing Snell's law correctly, you should get a working material.

The vector version of Snell's law may be found in ray/src/ dielectric.c, or in an easier-to-read form on Wikipedia:

http://en.wikipedia.org/wiki/Snell's_law

Note that the roles of the inside and outside indices of refraction,
n1 and n2, reverse when you come from one side of the water verses the other.  The n of water is about 1.3, and air is of course 1.0.
(OK, quibblers, air is really 1.0003)

-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 10, 2006 5:04:50 AM PDT
>
> I'm trying tom model water with the prism1 & prism2 primitives.
> I`ve been
> able to propagate the rays from sources using
>
>     ...

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general




------------------------------

Message: 2
Date: Thu, 11 May 2006 08:33:13 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
	to go	from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635939.3010408@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Rob Guglielmetti wrote:
> Ugh.  Yeah, programs like Revit and 3DS, et al. make glazing planes as 
> 3D objects with six polygons.  No good.  Your errors and problems are 
> definitely related to this.  mkillum expects a single polygon, looking 
> in.
OK, that's what I thought. I'm not using Mkillum yet, just trying to make the windows into a Illum source with Skyfunc and not having much luck.
> Not sure how you're flattening the planes, but I'll bet you're still 
> ending up with a pair of triangular polys representing the glass 
> plane, and who the hell knows which way they're facing.  mkillum likes 
> regular polygons.  Page 577 of Rendering with Radiance has the gory 
> details. Not sure the answer to your problem, just stating the issues.
I'll look that up. Thanks for the confirmation.

I'm able to flatten the planes in Max via the 'Edit Poly' modifier. 
Thankfully, all of those 6-sided polys have their Y-axis pointing the same way it appears, even if tilted/turned, so I can flatten them all with a single tool. However, this doesn't remove the side polys, and leaves you with two flat faces I suspect, so I'll have to research this method more.
> If you can grep the stuff out, I'd bet you could write something to 
> take the result(s) and generate a corresponding .mat file, with shell 
> scripting techniques, or python or perl, or whatever.
Yeah, my unix god friend pointed me towards AWK as a simple solution. 
I'm just lazy, and can't write code quickly (not a programmer) so I was hoping that there might be a solution out there already.
> Sounds like a plan. The thing is, you are closer to real numbers than 
> most lighting designers, by having the wherewithal to tackle Radiance.  
> Don't short-change yourself.  A good model and sound parameters in 
> Radiance beats any of the tools commonly used in lighting design, IMO.
Didn't know that. Huh. Well, Revit produces very good models (other than this glass thing) so I'm halfway there I guess.

Jeffrey



------------------------------

Message: 3
Date: Thu, 11 May 2006 08:37:51 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
	to go	from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635A4F.2040901@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Bleicher, Thomas wrote:
> I think your looking for high quality renderings of the interior, so 
> you definitely want to use mkillum to restrict your scene to the interior.
> If it's just a crude rendering I'd create a sky and wouldn't bother 
> much about the windows as light source.
>   
That's what we've got going, it's a building with lots of glass and skylights and such. So do you think just having the windows be glass would be enough to get somewhat-close numbers? I fear that not making the glass a secondary light source, and just having it be, well, glass and only having the ray of sunlight bouncing around is going to give me bad numbers.
> You could write a script to delete polygons with material glass based 
> on their area (reduce 6 sides to 2) and vicinity to already checked 
> polygons (reduce 2 to one) but that's not going to be easy. You might 
> be able to edit the windows in MAX to get a Radiance friendly geometry.
>   
That's what I'm doing, I can edit them in Max via the 'Edit Poly' 
modifier, but I'll need to research this more. I want to stay away from hand-editing much of anything, for I want to be able to go back and edit the Revit model, re-export to Max, and from there re-export to OBJ2RAD for quick revisions. So far, so good on that front, but this glass thing is leaving me stumped.
> Please see the man page for obj2rad. The top section describes 
> material mapping based on the context (or material) of the face in the 
> obj file. If you use the same set of materials in all your models you 
> could create a material library and a corresponding mapping file. 
> Obj2rad then assigns the correct Radiance material name (as far as I 
> understand this point, never used it much).
>   
I saw that. I was hoping there was a way to use the .MTL file that's already generated by Max. Basically, I'm just being lazy, and hoping there was an existing solution out there.
> You're welcome! If you can provide Radiance geometry we might offer a 
> discount ... ;)
Now that doesn't sound like a bad idea! ;-)

-- 

Jeffrey McGrew

Because We Can, LLC
(415) 505-4689
www.becausewecan.org




------------------------------

Message: 4
Date: Thu, 11 May 2006 08:42:54 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
	to go	from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635B7E.4040609@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Lars Grobe wrote:
> You will get nicer Renderings with lower ambient settings. But with 
> big window openings, it should not be really necessary to use mkillum. 
> If you use it, consider generating the faces in another tool that 
> gives you more control, maybe "even" writing them with an editor.
>   
'Nicer' is good, but I'm worried about the actual numbers. We want renderings as well as falsecolor images. If we just wanted nice renderings, we'd probably go to vRay, which is kind of our unofficial standard for 'sexy' images. If I can get 'ok' renderings but decent falsecolor images without having to edit the glass or use it as a lightsource I could make this whole process very, very easy.
> Triangles don't work with mkillum. Still, the obj format is not 
> limited to triangles, it depends more on the modeler (and you must 
> make sure that the panes are 100% plain).
>   
Yeah, when I export to OBJ I'm picking the 'poly' option which seems to produce polygons and rectangles. Revit produces rectangles/polys as well, it doesn't render everything to triangles like some modelers. So I think I'm ok there.
> Do you know obj2rad's -n option?
Yeah, just being lazy, and hoping for an easy solution.

What would be the best is to use the new Revit API to write an Radiance exporter, and skip Max altogether. However, this is beyond my abilities and available time currently (and sadly).

Jeffrey McGrew

Because We Can, LLC
(415) 505-4689
www.becausewecan.org




------------------------------

Message: 5
Date: Thu, 11 May 2006 17:51:21 +0200 (MEST)
From: "Lars Grobe" <grobe@gmx.net>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
	to go	from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <16096.1147362681@www111.gmx.net>
Content-Type: text/plain; charset="us-ascii"

Hi!

> That's what we've got going, it's a building with lots of glass and 
> skylights and such. So do you think just having the windows be glass 
> would be enough to get somewhat-close numbers? I fear that not making 
> the glass a secondary light source, and just having it be, well, glass 
> and only having the ray of sunlight bouncing around is going to give 
> me bad numbers.

I think you are worried too much here. The numbers should not change so much because of mkillum, the image will look nicer in many cases. But the main reason for mkillum is the following.

If you have a model where most of the indirect light enters the room through small windows, the probability that the (random) indirect rays, which are send from the surface to several (random) directions to find out its indirect contribution hits the (small) light source is getting low. You can increase the number of random rays, but that won't help sometimes and takes a lot of rendering time. So, in these cases, it is better to bring the light source closer. Bt as it sounds to me, your model is not the typical case with shading devices etc, right? So, if you have simple, large windows, at least your numbers should be fine.

Lars.



------------------------------

Message: 6
Date: Thu, 11 May 2006 10:30:01 -0700
From: "Gregory J. Ward" <gregoryjward@gmail.com>
Subject: Re: [Radiance-general] water simulation
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <7EC041C2-8F0F-4B87-915C-6D83E5A90A7F@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed

Hi Ignacio,

Regrettably, I don't have time to debug your function file at the moment.  You can try using the debugcal script that comes with Radiance, giving it ray origins and directions on the standard input or using ximage:

	ximage test.pic | debugcal test.oct -f water.cal -e '$1=dx;$2=dy; $3=dz;$4=dxx;$5=dyy;$6=dzz'

This script assigns the standard variables from rayinit.cal so you can find out what is happening.

To answer  your first question, the Rdot variable is the negative dot product, meaning that it is positive when a ray strikes the front of a surface material, and negative when it strikes the back side of the surface.

Hope this helps.
-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 11, 2006 5:13:43 AM PDT
>
> Thanks Greg, i think i'm near to get it, but there is something that 
> is not working, i dont know if Rdot is the DOT product or the -DOT 
> product, i tried the two but it is still not working, i?ve been trying 
> to do some tests with calc and it seems to work but something must be 
> wrong because rpict gives the aiming error, what is the best tool in 
> radiance to test this kind of things, i say, testing cal files while 
> sending rays



------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 27, Issue 9
***********************************************

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From MMoeck at engr.psu.edu  Mon May 15 17:36:49 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon May 15 17:37:34 2006
Subject: [Radiance-general] RE: Radiance and EcoTect
References: <5910A0754536EA4AAD411AE8221C39620118A781@nrccenexb1.nrc.ca>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F11B@ENGRMAIL1.engr.psu.edu>

I share Christoph's concerns. It would be helpful to ses an algorithm and a validation. This is not a criticism. The database is very useful, but we need to understand how glazing definitions are prepared. Then we could even add our own measurments - I have a few data sets for different interesting glazing types that I measured in a black lab with a calibrated light source - and send them to LBNL, along with a description of how they were measured. I guess manufacturers would like this. Some glazings might not the attention that they deserve, but if we measure them and add them to the radiance digest and other repositories, we will be in good shape for daylight systems modeling. We could even define a measurement standard, starting out with diffuse and specular components, etc. 
 
Martin Moeck, Penn State

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Reinhart, Christoph
Sent: Mon 5/15/2006 9:57 AM
To: Radiance general discussion
Cc: Stephen Selkowitz
Subject: RE: [Radiance-general] RE: Radiance and EcoTect



Hi Nick,

I assume that John is referring to a small c-program that comes with Daysim called gen_single_office.exe. It is a very basic but useful program that allows you to write out RADIANCE scene files and sensor grids for single and open plan offices.  I find the script useful for parametric studies as all geometry and material properties are set via the command line. In case I want to get a transmissivity value, I would type something like

gen_single_office -o scene.rad -I sensor.pts -t 80

In the resulting scene.rad file you get the transmissivity value in the material description for glazing: 0.871538.

I am using the simplified glass model in Radiance because I currently do not trust the Optics/Windows output to Radiance (mainly because (a) I still do not properly understand it and (b) because I am not aware of a proper validation study). Maybe somebody from LBNL could enlighten us? If Windows/Optics output into Radiance was indeed reliable, it would be invaluable for the Radiance community.

Christoph


-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of John An
Sent: Saturday, May 13, 2006 11:38 PM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] RE: Radiance and EcoTect

Nick,
Christoph Reinhart has a little script that allows you to input your desired transmissivity, and you can extract the correct Radiance definition from the output. I think that may be the way to go for your purposes. I would contact Christoph to see if you can get your hands on the script. Your other option is to select a few actual glasses with the transmissivity that you desire, and test to make sure that they all produce similar results.

John



Nick Doylend wrote:

Thanks very much for your suggestions.

I looked briefly at outputting glazing data from Optics.  It's probably the way to go if I want to model a 'real' glazing type.  I don't really understand how the BRTDfunc is used; it sets the surface reflectance as well as transmittance doesn't it?  At the moment I'm only considering a 'notional' glazing so I'm just calculating the transmissivity and editing the Radiance file output from Ecotect by hand.  For typical glass types, how much difference would using the BRTDfunc definitions make to my internal daylight calculations?

As far as reliability of results is concerned, It seems Radiance (in the hands of an expert user) is more capable of realistic results than Ecotect.
I've noticed that Ecotect's speed of calculation is influenced quite significantly by the number of windows.  It doesn't appear to make much difference to Radiance's calculation time.  I guess it's down to the differences in calculation method but it does make me wonder how well Ecotect handles models with many windows.

On the other hand, I find Radiance doesn't seem to behave quite as expected.
For example, for an equal glazed area I would expect fewer, larger rooflights to give the same average %DF across the whole floor as more, smaller rooflights.  In this case, Ecotect seems to behave as I expect, but Radiance suggests fewer, larger rooflights give the better average %DF.  I wonder why this should be.  Maybe my assumption is incorrect.

Nick


---------
John An
Environmental Designer
Atelier Ten
-----Original Message-----
From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of radiance-general-request@radiance-online.org
Sent: Friday, May 12, 2006 6:01 AM
To: radiance-general@radiance-online.org
Subject: Radiance-general Digest, Vol 27, Issue 9

Send Radiance-general mailing list submissions to
        radiance-general@radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
        http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
        radiance-general-request@radiance-online.org

You can reach the person managing the list at
        radiance-general-owner@radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: water simulation (Ignacio Mun?rriz)
   2. Re: Glass & MTL file troubles... (or how to go    from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   3. Re: Glass & MTL file troubles... (or how to go    from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   4. Re: Glass & MTL file troubles... (or how to go    from Revit to
      Radiance with little pain...) (Jeffrey McGrew)
   5. Re: Glass & MTL file troubles... (or how to go    from Revit to
      Radiance with little pain...) (Lars Grobe)
   6. Re: water simulation (Gregory J. Ward)


----------------------------------------------------------------------

Message: 1
Date: Thu, 11 May 2006 14:13:43 +0200
From: Ignacio Mun?rriz <info@aisarquitectura.com>
Subject: Re: [Radiance-general] water simulation
To: "Radiance general discussion"
        <radiance-general@radiance-online.org>
Message-ID: <000901c674f4$5ca3aab0$0301a8c0@aisxeon>
Content-Type: text/plain;       charset="iso-8859-1"

Thanks Greg, i think i'm near to get it, but there is something that is not working, i dont know if Rdot is the DOT product or the -DOT product, i tried the two but it is still not working, i?ve been trying to do some tests with calc and it seems to work but something must be wrong because rpict gives the aiming error, what is the best tool in radiance to test this kind of things, i say, testing cal files while sending rays

void prism2 water
     9 transm dx dy dz reflect dxx dyy dzz water.cal
     0
     3 1 1 1

####water.cal#####
nrwater=1.3;

cos1=if(Rdot,Rdot,-Rdot);
nratio=if(Rdot,1/nrwater,nrwater);
dnormx=if(Rdot,Nx,-Nx);
dnormy=if(Rdot,Ny,-Ny);
dnormz=if(Rdot,Nz,-Nz);

d3=1.0-(nratio*nratio*(1.0 -(cos1*cos1))); cos2=sqrt(d3); d1bis=cos1; d2bis=nratio*cos2; d1t=(d1bis-d2bis)/(d1bis+d2bis); reflpp=d1t*d1t; d1p=1.0/cos1; d2=nratio/cos2; d1=(d1p-d2)/(d1p+d2); reflp=reflpp+(d1*d1); refl=reflp*.5; transp=1.0 -refl; trans=transp*nratio*nratio;


reflect=if(d3,refl,1.0);
transm=if(d3,trans,0.0);

dm=nratio*cos1 - cos2;

dx=nratio*Dx+dm*dnormx;
dy=nratio*Dy+dm*dnormy;
dz=nratio*Dz+dm*dnormz;

dxx=Dx+2.0*cos1*dnormx;
dyy=Dy+2.0*cos1*dnormy;
dzz=Dz+2.0*cos1*dnormz;




----- Original Message -----
From: "Gregory J. Ward" <gregoryjward@gmail.com>
To: "Radiance general discussion" <radiance-general@radiance-online.org>
Sent: Wednesday, May 10, 2006 10:02 PM
Subject: Re: [Radiance-general] water simulation


Hi Ignacio,

Your problem stems from the fact that your modified angles do not obey reciprocity, which says that if you reverse the ray (light) direction, then the angles remain the same on either side.  Both prisma and prism2 require this property to function.  Implementing Snell's law correctly, you should get a working material.

The vector version of Snell's law may be found in ray/src/ dielectric.c, or in an easier-to-read form on Wikipedia:

http://en.wikipedia.org/wiki/Snell's_law

Note that the roles of the inside and outside indices of refraction,
n1 and n2, reverse when you come from one side of the water verses the other.  The n of water is about 1.3, and air is of course 1.0.
(OK, quibblers, air is really 1.0003)

-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 10, 2006 5:04:50 AM PDT
>
> I'm trying tom model water with the prism1 & prism2 primitives.
> I`ve been
> able to propagate the rays from sources using
>
>     ...

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general




------------------------------

Message: 2
Date: Thu, 11 May 2006 08:33:13 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
        to go   from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635939.3010408@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Rob Guglielmetti wrote:
> Ugh.  Yeah, programs like Revit and 3DS, et al. make glazing planes as
> 3D objects with six polygons.  No good.  Your errors and problems are
> definitely related to this.  mkillum expects a single polygon, looking
> in.
OK, that's what I thought. I'm not using Mkillum yet, just trying to make the windows into a Illum source with Skyfunc and not having much luck.
> Not sure how you're flattening the planes, but I'll bet you're still
> ending up with a pair of triangular polys representing the glass
> plane, and who the hell knows which way they're facing.  mkillum likes
> regular polygons.  Page 577 of Rendering with Radiance has the gory
> details. Not sure the answer to your problem, just stating the issues.
I'll look that up. Thanks for the confirmation.

I'm able to flatten the planes in Max via the 'Edit Poly' modifier.
Thankfully, all of those 6-sided polys have their Y-axis pointing the same way it appears, even if tilted/turned, so I can flatten them all with a single tool. However, this doesn't remove the side polys, and leaves you with two flat faces I suspect, so I'll have to research this method more.
> If you can grep the stuff out, I'd bet you could write something to
> take the result(s) and generate a corresponding .mat file, with shell
> scripting techniques, or python or perl, or whatever.
Yeah, my unix god friend pointed me towards AWK as a simple solution.
I'm just lazy, and can't write code quickly (not a programmer) so I was hoping that there might be a solution out there already.
> Sounds like a plan. The thing is, you are closer to real numbers than
> most lighting designers, by having the wherewithal to tackle Radiance. 
> Don't short-change yourself.  A good model and sound parameters in
> Radiance beats any of the tools commonly used in lighting design, IMO.
Didn't know that. Huh. Well, Revit produces very good models (other than this glass thing) so I'm halfway there I guess.

Jeffrey



------------------------------

Message: 3
Date: Thu, 11 May 2006 08:37:51 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
        to go   from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635A4F.2040901@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Bleicher, Thomas wrote:
> I think your looking for high quality renderings of the interior, so
> you definitely want to use mkillum to restrict your scene to the interior.
> If it's just a crude rendering I'd create a sky and wouldn't bother
> much about the windows as light source.
>  
That's what we've got going, it's a building with lots of glass and skylights and such. So do you think just having the windows be glass would be enough to get somewhat-close numbers? I fear that not making the glass a secondary light source, and just having it be, well, glass and only having the ray of sunlight bouncing around is going to give me bad numbers.
> You could write a script to delete polygons with material glass based
> on their area (reduce 6 sides to 2) and vicinity to already checked
> polygons (reduce 2 to one) but that's not going to be easy. You might
> be able to edit the windows in MAX to get a Radiance friendly geometry.
>  
That's what I'm doing, I can edit them in Max via the 'Edit Poly'
modifier, but I'll need to research this more. I want to stay away from hand-editing much of anything, for I want to be able to go back and edit the Revit model, re-export to Max, and from there re-export to OBJ2RAD for quick revisions. So far, so good on that front, but this glass thing is leaving me stumped.
> Please see the man page for obj2rad. The top section describes
> material mapping based on the context (or material) of the face in the
> obj file. If you use the same set of materials in all your models you
> could create a material library and a corresponding mapping file.
> Obj2rad then assigns the correct Radiance material name (as far as I
> understand this point, never used it much).
>  
I saw that. I was hoping there was a way to use the .MTL file that's already generated by Max. Basically, I'm just being lazy, and hoping there was an existing solution out there.
> You're welcome! If you can provide Radiance geometry we might offer a
> discount ... ;)
Now that doesn't sound like a bad idea! ;-)

--

Jeffrey McGrew

Because We Can, LLC
(415) 505-4689
www.becausewecan.org




------------------------------

Message: 4
Date: Thu, 11 May 2006 08:42:54 -0700
From: Jeffrey McGrew <toast@becausewecan.org>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
        to go   from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <44635B7E.4040609@becausewecan.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Lars Grobe wrote:
> You will get nicer Renderings with lower ambient settings. But with
> big window openings, it should not be really necessary to use mkillum.
> If you use it, consider generating the faces in another tool that
> gives you more control, maybe "even" writing them with an editor.
>  
'Nicer' is good, but I'm worried about the actual numbers. We want renderings as well as falsecolor images. If we just wanted nice renderings, we'd probably go to vRay, which is kind of our unofficial standard for 'sexy' images. If I can get 'ok' renderings but decent falsecolor images without having to edit the glass or use it as a lightsource I could make this whole process very, very easy.
> Triangles don't work with mkillum. Still, the obj format is not
> limited to triangles, it depends more on the modeler (and you must
> make sure that the panes are 100% plain).
>  
Yeah, when I export to OBJ I'm picking the 'poly' option which seems to produce polygons and rectangles. Revit produces rectangles/polys as well, it doesn't render everything to triangles like some modelers. So I think I'm ok there.
> Do you know obj2rad's -n option?
Yeah, just being lazy, and hoping for an easy solution.

What would be the best is to use the new Revit API to write an Radiance exporter, and skip Max altogether. However, this is beyond my abilities and available time currently (and sadly).

Jeffrey McGrew

Because We Can, LLC
(415) 505-4689
www.becausewecan.org




------------------------------

Message: 5
Date: Thu, 11 May 2006 17:51:21 +0200 (MEST)
From: "Lars Grobe" <grobe@gmx.net>
Subject: Re: [Radiance-general] Glass & MTL file troubles... (or how
        to go   from Revit to Radiance with little pain...)
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <16096.1147362681@www111.gmx.net>
Content-Type: text/plain; charset="us-ascii"

Hi!

> That's what we've got going, it's a building with lots of glass and
> skylights and such. So do you think just having the windows be glass
> would be enough to get somewhat-close numbers? I fear that not making
> the glass a secondary light source, and just having it be, well, glass
> and only having the ray of sunlight bouncing around is going to give
> me bad numbers.

I think you are worried too much here. The numbers should not change so much because of mkillum, the image will look nicer in many cases. But the main reason for mkillum is the following.

If you have a model where most of the indirect light enters the room through small windows, the probability that the (random) indirect rays, which are send from the surface to several (random) directions to find out its indirect contribution hits the (small) light source is getting low. You can increase the number of random rays, but that won't help sometimes and takes a lot of rendering time. So, in these cases, it is better to bring the light source closer. Bt as it sounds to me, your model is not the typical case with shading devices etc, right? So, if you have simple, large windows, at least your numbers should be fine.

Lars.



------------------------------

Message: 6
Date: Thu, 11 May 2006 10:30:01 -0700
From: "Gregory J. Ward" <gregoryjward@gmail.com>
Subject: Re: [Radiance-general] water simulation
To: Radiance general discussion <radiance-general@radiance-online.org>
Message-ID: <7EC041C2-8F0F-4B87-915C-6D83E5A90A7F@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed

Hi Ignacio,

Regrettably, I don't have time to debug your function file at the moment.  You can try using the debugcal script that comes with Radiance, giving it ray origins and directions on the standard input or using ximage:

        ximage test.pic | debugcal test.oct -f water.cal -e '$1=dx;$2=dy; $3=dz;$4=dxx;$5=dyy;$6=dzz'

This script assigns the standard variables from rayinit.cal so you can find out what is happening.

To answer  your first question, the Rdot variable is the negative dot product, meaning that it is positive when a ray strikes the front of a surface material, and negative when it strikes the back side of the surface.

Hope this helps.
-Greg

> From: Ignacio Mun?rriz <info@aisarquitectura.com>
> Date: May 11, 2006 5:13:43 AM PDT
>
> Thanks Greg, i think i'm near to get it, but there is something that
> is not working, i dont know if Rdot is the DOT product or the -DOT
> product, i tried the two but it is still not working, i?ve been trying
> to do some tests with calc and it seems to work but something must be
> wrong because rpict gives the aiming error, what is the best tool in
> radiance to test this kind of things, i say, testing cal files while
> sending rays



------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 27, Issue 9
***********************************************

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060515/457f603a/attachment-0001.htm
From MMoeck at engr.psu.edu  Mon May 15 17:38:53 2006
From: MMoeck at engr.psu.edu (Martin Moeck)
Date: Mon May 15 17:43:05 2006
Subject: [Radiance-general] Energy and Buildings Vol. 38, Iss. 7, 2006
References: <5910A0754536EA4AAD411AE8221C39620118A781@nrccenexb1.nrc.ca>
Message-ID: <A1751205CFFEB548B3E78F10333DCF8805F11C@ENGRMAIL1.engr.psu.edu>

There is a great special issue Energy and Buildings on daylighting. It has some Radiance articles in it. Very useful.
 
Martin Moeck, Penn State
________________________________________________
 
   Energy and Buildings 
  Volume 38, Issue 7,  Pages 715-930 (July 2006)
Special Issue on Daylighting Buildings 
Edited by Christoph Reinhart and Stephen Selkowitz 
  
  
 1. Editorial Board 
Page CO2 
  
 2. Contents 
Pages iv-v 
  
 3. Daylighting-Light, form, and people 
Pages 715-717 
Christoph Reinhart and Stephen Selkowitz  
 4. International Energy Agency's Solar Heating and Cooling Task 31, ?EUR~Daylighting Buildings in the 21st Century?EUR(tm) 
Pages 718-720 
Nancy C. Ruck  
  Literature Reviews 
 5. Considerations for lighting in the built environment: Non-visual effects of light 
Pages 721-727 
Ann R. Webb  
 6. Occupant preferences and satisfaction with the luminous environment and control systems in daylit offices: a literature review 
Pages 728-742 
Anca D. Galasiu and Jennifer A. Veitch  
  Occupant Behaviour and Preferences 
 7. Evaluation methods and development of a new glare prediction model for daylight environments with the use of CCD cameras 
Pages 743-757 
Jan Wienold and Jens Christoffersen  
 8. Subject responses to electrochromic windows 
Pages 758-779 
R.D. Clear, V. Inkarojrit and E.S. Lee  
 9. The use of shading systems in VDU task offices: A pilot study 
Pages 780-789 
Yannick Sutter, Dominique Dumortier and Marc Fontoynont  
 10. A field investigation of the intermediate light switching by users 
Pages 790-801 
David Lindel??f and Nicolas Morel  
 11. Using field measurements of desktop illuminance in European offices to investigate its dependence on outdoor conditions and its effect on occupant satisfaction, and the use of lights and blinds 
Pages 802-813 
Fergus Nicol, Mike Wilson and Cecilia Chiancarella  
 12. Adding advanced behavioural models in whole building energy simulation: A study on the total energy impact of manual and automated lighting control 
Pages 814-823 
Denis Bourgeois, Christoph Reinhart and Iain Macdonald  
  Simulation 
 13. Findings from a survey on the current use of daylight simulations in building design 
Pages 824-835 
Christoph Reinhart and Annegret Fitz  
 14. Goniophotometry and assessment of bidirectional photometric properties of complex fenestration systems 
Pages 836-848 
Marilyne Andersen and Jan de Boer  
 15. Modelling indoor illumination by complex fenestration systems based on bidirectional photometric data 
Pages 849-868 
Jan de Boer  
 16. Application of the CIE test cases to assess the accuracy of lighting computer programs 
Pages 869-877 
F. Maamari, M. Fontoynont and N. Adra  
 17. Experimental validation of simulation methods for bi-directional transmission properties at the daylighting performance level 
Pages 878-889 
Fawaz Maamari, Marilyne Andersen, Jan de Boer, William L. Carroll, Dominique Dumortier and Phillip Greenup  
 18. Development and validation of a Radiance model for a translucent panel 
Pages 890-904 
Christoph F. Reinhart and Marilyne Andersen  
 19. Useful daylight illuminances: A replacement for daylight factors 
Pages 905-913 
Azza Nabil and John Mardaljevic  
  Controls 
 20. The New York Times Headquarters daylighting mockup: Monitored performance of the daylighting control system 
Pages 914-929 
E.S. Lee and S.E. Selkowitz  

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 8943 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060515/029628fe/attachment.bin
From gregoryjward at gmail.com  Mon May 15 18:07:52 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon May 15 18:07:49 2006
Subject: [Radiance-general] [Help] Problem with ximage in 7.3.2
In-Reply-To: <2AE27CD8C00C3540AF5DCEBE6C3D020B0169F8A1@opecexch1.opec.org>
References: <2AE27CD8C00C3540AF5DCEBE6C3D020B0169F8A1@opecexch1.opec.org>
Message-ID: <F6854F27-DD49-4DD0-9749-B825C3584714@gmail.com>

Hi Oskar,

I have not had any other reports of any problems with the latest  
version of ximage in 8-bit mode, but it's difficult to find hardware  
these days that even supports 8-bit color lookups.  There may well be  
a bug, but I can't find it if I can't find hardware on which to  
reproduce the problem.

Maybe you can just continue to use the old binary for ximage, if  
that's working.  I can see no reason why not to -- it isn't as if the  
Radiance picture format has changed in any incompatible way.

-Greg

> From: "Itzinger, Oskar" <oitzinger@opec.org>
> Date: May 15, 2006 12:30:03 AM PDT
>
> Hello all,
>
> Very long time ago I'd compiled Radiance 3.1.11 on my SGI Indigo2  
> [IRIX
> 6.5.22, MipsPro 7.3.2] and it did run fine - but then I forgot  
> about it.
>
> Just recently, however, I recompiled 3.1.11 on my new SGI Fuel  
> [IRIX 6.5.28,
> MipsPro 7.4.4, V12] and everything worked as before.
>
> So, I decided to upgrade to Radiance 3.7.2 on my Fuel [same OS &  
> same compiler
> as above]. It compiled ok, but <ximage> seems now somehow to be  
> broken - all
> my pictures (ok under 3.1.11 on my Fuel) are completly wrong color- 
> wise and
> look almost like as if produced via fractint :-).
>
> I feel something with the colortable routines is amiss, but I've no
> idea what it could be [I tried different values for DSPEED - but no  
> success;
> also changing the value of <set special> in <makeall> from "ogl" to  
> "tiff" to
> "sgi" didn't help any].
>
> BTW, if I convert the pics with ra_tiff and view them [on my Fuel  
> with vstiff],
> they are ok.
>
> Your hints are certainly appreciated.
>
> Thanks in advance.
> /oskar
>

From ndoylend at battlemccarthy.com  Mon May 15 18:52:55 2006
From: ndoylend at battlemccarthy.com (Nick Doylend)
Date: Mon May 15 18:51:49 2006
Subject: [Radiance-general] Radiance, Ecotect and Daysim
Message-ID: <6DEC377FFC82574CA8D35173808330BC01099140@bart.battlemccarthy.com>

Hi, I'm having a look at the effect of orientation on daylight availability.
I made four identical models in Ecotect, rotated three of them to get N, S,
E, W facing models.  I exported to Radiance and brought them into Daysim for
analysis.  I was surprised to see identical results for the models.  It
appears that Ecotect doesn't take account of the orientation when it exports
the radiance geometry.  What it does instead is to rotate the (sunny) sky
description.  I guess this is fine for Radiance but Daysim does its own 'sky
thing' and so I guess disregards the exported sky description.

I thought I could rotate the geometry file as required, but I also need to
rotate the sensor grid file.  I can use xform on the geometry file to spin
it round the z axis, but it doesn't appear to work on the grid file.  I read
a little in the archives about using cnt and rcalc to define new grids - it
might work if I thought about it for long enough.  I wonder if there's a
quicker and easier way to transform the grid file.  Is there?

Thanks,

Nick

From Andrew.Bissell at BuroHappold.com  Mon May 15 19:14:15 2006
From: Andrew.Bissell at BuroHappold.com (Andrew Bissell)
Date: Mon May 15 19:14:26 2006
Subject: [Radiance-general] Radiance, Ecotect and Daysim
Message-ID: <7300B8B9B92D1441910052FEC7D9F754019F5FAC@aries.burohappold.com>

With DAYSIM I believe the sky file is fixed (North = +Y) and therefore to
test different building orientations you need to export from CAD or ?
package new models, this is a little bit inconvenient and at times
dangerous, i.e. if you are changing materials manually once exported as you
could change say three models and not the forth.  I am not sure if a change
to the DAYSIM code is possible or if possible is too complex to allow the
sky file to be rotated as it is with Radiance.

Andrew

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Nick
Doylend
Sent: 15 May 2006 17:53
To: 'Radiance general discussion'
Subject: [Radiance-general] Radiance, Ecotect and Daysim

Hi, I'm having a look at the effect of orientation on daylight availability.
I made four identical models in Ecotect, rotated three of them to get N, S,
E, W facing models.  I exported to Radiance and brought them into Daysim for
analysis.  I was surprised to see identical results for the models.  It
appears that Ecotect doesn't take account of the orientation when it exports
the radiance geometry.  What it does instead is to rotate the (sunny) sky
description.  I guess this is fine for Radiance but Daysim does its own 'sky
thing' and so I guess disregards the exported sky description.

I thought I could rotate the geometry file as required, but I also need to
rotate the sensor grid file.  I can use xform on the geometry file to spin
it round the z axis, but it doesn't appear to work on the grid file.  I read
a little in the archives about using cnt and rcalc to define new grids - it
might work if I thought about it for long enough.  I wonder if there's a
quicker and easier way to transform the grid file.  Is there?

Thanks,

Nick

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


This message has been scanned for viruses by MailControl - www.mailcontrol.com

From Christoph.Reinhart at nrc-cnrc.gc.ca  Mon May 15 19:26:22 2006
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Mon May 15 19:26:27 2006
Subject: [Radiance-general] Radiance, Ecotect and Daysim
Message-ID: <5910A0754536EA4AAD411AE8221C39620118A785@nrccenexb1.nrc.ca>

Dear all,

With the new Ecotect 5.5 (which will hopefully be released very soon)
you can automatically export from Ecotect to Daysim. The export takes
the scene rotation angle into account so that a scene with a North
offset of X degree in Ecotect has the same Offset in Daysim.

Christoph

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Andrew Bissell
Sent: Monday, May 15, 2006 1:14 PM
To: 'Radiance general discussion'
Subject: RE: [Radiance-general] Radiance, Ecotect and Daysim

With DAYSIM I believe the sky file is fixed (North = +Y) and therefore
to test different building orientations you need to export from CAD or ?
package new models, this is a little bit inconvenient and at times
dangerous, i.e. if you are changing materials manually once exported as
you could change say three models and not the forth.  I am not sure if a
change to the DAYSIM code is possible or if possible is too complex to
allow the sky file to be rotated as it is with Radiance.

Andrew

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Nick
Doylend
Sent: 15 May 2006 17:53
To: 'Radiance general discussion'
Subject: [Radiance-general] Radiance, Ecotect and Daysim

Hi, I'm having a look at the effect of orientation on daylight
availability.
I made four identical models in Ecotect, rotated three of them to get N,
S, E, W facing models.  I exported to Radiance and brought them into
Daysim for analysis.  I was surprised to see identical results for the
models.  It appears that Ecotect doesn't take account of the orientation
when it exports the radiance geometry.  What it does instead is to
rotate the (sunny) sky description.  I guess this is fine for Radiance
but Daysim does its own 'sky thing' and so I guess disregards the
exported sky description.

I thought I could rotate the geometry file as required, but I also need
to rotate the sensor grid file.  I can use xform on the geometry file to
spin it round the z axis, but it doesn't appear to work on the grid
file.  I read a little in the archives about using cnt and rcalc to
define new grids - it might work if I thought about it for long enough.
I wonder if there's a quicker and easier way to transform the grid file.
Is there?

Thanks,

Nick

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


This message has been scanned for viruses by MailControl -
www.mailcontrol.com

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From canoe at onetel.com  Wed May 17 12:39:57 2006
From: canoe at onetel.com (James Lee)
Date: Wed May 17 12:41:48 2006
Subject: [Radiance-general] [Help] Problem with ximage in 7.3.2
In-Reply-To: <F6854F27-DD49-4DD0-9749-B825C3584714@gmail.com>
References: <2AE27CD8C00C3540AF5DCEBE6C3D020B0169F8A1@opecexch1.opec.org>
	<F6854F27-DD49-4DD0-9749-B825C3584714@gmail.com>
Message-ID: <20060517.10395700.3780877498@landeck.jamesipoos.com>

On 15/05/06, 17:07:52, Gregory "J." Ward <gregoryjward@gmail.com> wrote 
regarding Re: [Radiance-general] [Help] Problem with ximage in 7.3.2:

> I have not had any other reports of any problems with the latest
> version of ximage in 8-bit mode, but it's difficult to find hardware
> these days that even supports 8-bit color lookups.  There may well be
> a bug, but I can't find it if I can't find hardware on which to
> reproduce the problem.

ximage works on 8-bit displays with no problems.

The OpenGL programs don't, eg:

$ glrad asd.rif
fatal - no suitable visuals available
...





James.

From chris.foster at npl.co.uk  Thu May 18 17:53:32 2006
From: chris.foster at npl.co.uk (Chris Foster)
Date: Thu May 18 17:53:41 2006
Subject: [Radiance-general] New member
Message-ID: <2C2E01334A940D4792B3E115F95B722631A55F@exchsvr1.npl.ad.local>

Hello everyone,

My name is chris and as i have just became a new member of this mailing list so
i thought i would introduce myself. i'm a student undertaking a 4-5 month
placement at npl in order to do my dissertation as part of my one years masters
course. i graduated in physics in 2004, took a year out and have been studying
again since oct. the reason ive joined this mailing list is because i have 
chosen to learn how to use radiance for my project. the only trouble being
ive not a very good programmer and ive never seen radiance before tuesday!!
one of my aims is to eventually use it to model a lighting chamber, but as i
started on tuesday i feel im a long way of. so far ive followed most of
tutorial one from the radiance site.
be good to hear from anyone who still uses this list.

thanks chris


-------------------------------------------------------------------
This e-mail and any attachments may contain confidential and/or
privileged material; it is for the intended addressee(s) only.
If you are not a named addressee, you must not use, retain or
disclose such information.

NPL Management Ltd cannot guarantee that the e-mail or any
attachments are free from viruses.

NPL Management Ltd. Registered in England and Wales. No: 2937881
Registered Office: Serco House, 16 Bartley Wood Business Park,
                   Hook, Hampshire, United Kingdom  RG27 9UY
-------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060518/1282af03/attachment.htm
From jm at dmu.ac.uk  Thu May 18 18:14:40 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Thu May 18 18:14:49 2006
Subject: [Radiance-general] New member
Message-ID: <BE44442E-EAAB-460C-92D2-668503060D99@dmu.ac.uk>

Chris,

What sort of "lighting chamber" do you have in mind?  Radiance is  
optimised for plausible architectural scenes and, for those, it's  
proven to be capable of high accuracy.  However, it might not deliver  
comparably reliable results (at least, not without some intervention)  
if the scene is somewhat 'exotic'.

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From gregoryjward at gmail.com  Thu May 18 18:32:19 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu May 18 18:32:15 2006
Subject: [Radiance-general] New member
In-Reply-To: <BE44442E-EAAB-460C-92D2-668503060D99@dmu.ac.uk>
References: <BE44442E-EAAB-460C-92D2-668503060D99@dmu.ac.uk>
Message-ID: <CB5EC874-BC80-461D-AFAD-E50ECE1240CA@gmail.com>

Actually, this is less true than it used to be.  Even for highly  
reflective, enclosed scenes, Radiance 3.7R2 with Russian-roulette  
enabled (-lr -20 or so) and no irradiance caching (-aa 0), you can  
generate many bounces to get a converged result.

Of course, you are better off with a zonal cavity approximation at  
that point!

-Greg

P.S.  You should seriously consider picking up a copy of "Rendering  
with Radiance" from BookSurge.com <http://www.booksurge.com/ 
product.php3?bookID=IMPR02587-00002>.  It will make your life easier,  
and I'm not just saying that because it makes me money.  (Actually, I  
don't think I've gotten any money from this yet -- where's Chas?)

> From: John Mardaljevic <jm@dmu.ac.uk>
> Date: May 18, 2006 9:14:40 AM PDT
>
> Chris,
>
> What sort of "lighting chamber" do you have in mind?  Radiance is  
> optimised for plausible architectural scenes and, for those, it's  
> proven to be capable of high accuracy.  However, it might not  
> deliver comparably reliable results (at least, not without some  
> intervention) if the scene is somewhat 'exotic'.
>
> -John

From T-Bleicher at bdp.co.uk  Thu May 18 19:39:30 2006
From: T-Bleicher at bdp.co.uk (Bleicher, Thomas)
Date: Thu May 18 19:39:43 2006
Subject: [Radiance-general] New member
Message-ID: <FCCB55B3313F2341AB3C91810FE1166B013E50B4@ln-s3xch1.bdp.holdings.network>

Hello Chris.
 
Nice to see a new face.
 
You might be interested in the RADIANCE course notes linked on this site:
 
http://luminance.londonmet.ac.uk/learnix/docs.shtml
<http://luminance.londonmet.ac.uk/learnix/docs.shtml> 
 
and - if you have trouble getting Radiance to work - LEARNIX
 
http://luminance.londonmet.ac.uk/learnix/index.shtml
<http://luminance.londonmet.ac.uk/learnix/index.shtml> 
 
I think the 'notes' as well as the RwR book are an excellent introduction to
Radiance and how the tools work. Kudos to Axel Jacobs for this.
 
BTW: You should get used to the feeling of being lost in all the options of
countless programs. For most of us it never will end.
 
Thomas   


  _____  

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Chris
Foster
Sent: 18 May 2006 16:54
To: radiance-general@radiance-online.org
Subject: [Radiance-general] New member



Hello everyone,

My name is chris and as i have just became a new member of this mailing list
so
i thought i would introduce myself. i'm a student undertaking a 4-5 month
placement at npl in order to do my dissertation as part of my one years
masters
course. i graduated in physics in 2004, took a year out and have been
studying
again since oct. the reason ive joined this mailing list is because i have
chosen to learn how to use radiance for my project. the only trouble being
ive not a very good programmer and ive never seen radiance before tuesday!!
one of my aims is to eventually use it to model a lighting chamber, but as i
started on tuesday i feel im a long way of. so far ive followed most of
tutorial one from the radiance site.
be good to hear from anyone who still uses this list.

thanks chris 



***********************************************************************************
This e-mail, (and any attachments) is confidential and may be privileged.  It may be read, copied and used by the intended addressee only.  If you have received this in error please contact BDP immediately. 

If you have any queries, please contact the sender.
***********************************************************************************
Building Design Partnership
Registered in England No 2207415:
Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
***********************************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060518/7ce729b9/attachment.html
From chris.foster at npl.co.uk  Fri May 19 11:40:49 2006
From: chris.foster at npl.co.uk (Chris Foster)
Date: Fri May 19 11:40:58 2006
Subject: [Radiance-general] a note of thanks
Message-ID: <2C2E01334A940D4792B3E115F95B722631A561@exchsvr1.npl.ad.local>

hello all,

id just like to say a thankyou to john, greg, alexa and thomas for welcoming
me to the group and giving me some valuable advice with which to start my
work. i personally cant afford your book greg (i berely have ?30 for food a
week) but i will see if npl will buy it on my behalf because it does appear to
be very useful (judging by the tutorial i have done). ive saved your paper too
alexa and will read it in the very new future, thanks. that site looks very
interesting thomas, should help a lot.

i have a question to the group if anyone would be kind enough to answer it.
my boss has told me to look at gettin a CAD program to use in partnership with
radiance, specifically AutoCAD. does anyone know where i can get this, and if
it is wise to do so? or alternatively can anyone recommend any other CAD
programs? im using radiance on a linux system as a point of note.

thanks again
chris


-------------------------------------------------------------------
This e-mail and any attachments may contain confidential and/or
privileged material; it is for the intended addressee(s) only.
If you are not a named addressee, you must not use, retain or
disclose such information.

NPL Management Ltd cannot guarantee that the e-mail or any
attachments are free from viruses.

NPL Management Ltd. Registered in England and Wales. No: 2937881
Registered Office: Serco House, 16 Bartley Wood Business Park,
                   Hook, Hampshire, United Kingdom  RG27 9UY
-------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060519/2413b024/attachment.htm
From william.reynolds at oriel.ox.ac.uk  Fri May 19 14:26:01 2006
From: william.reynolds at oriel.ox.ac.uk (william reynolds)
Date: Fri May 19 14:25:59 2006
Subject: [Radiance-general] a note of thanks
In-Reply-To: <2C2E01334A940D4792B3E115F95B722631A561@exchsvr1.npl.ad.local>
References: <2C2E01334A940D4792B3E115F95B722631A561@exchsvr1.npl.ad.local>
Message-ID: <446DB959.6000108@oriel.ox.ac.uk>

hi chris
depending on whether autodesk have involved your university or not, you 
can get the student version of autocad free, from www.architectsrule.org 
- seeing as the full version costs several thousands of ??, that seems 
like a good idea!
although i believe its pretty hard (if not impossible?) to run autocad 
on linux - you could of course do the modelling on a windows computer, 
and then just transfer the finished file across to the linux computer.

hope that helps
will

Chris Foster wrote:
> hello all,
> 
> id just like to say a thankyou to john, greg, alexa and thomas for welcoming
> me to the group and giving me some valuable advice with which to start my
> work. i personally cant afford your book greg (i berely have ?30 for food a
> week) but i will see if npl will buy it on my behalf because it does 
> appear to
> be very useful (judging by the tutorial i have done). ive saved your 
> paper too
> alexa and will read it in the very new future, thanks. that site looks very
> interesting thomas, should help a lot.
> 
> i have a question to the group if anyone would be kind enough to answer it.
> my boss has told me to look at gettin a CAD program to use in 
> partnership with
> radiance, specifically AutoCAD. does anyone know where i can get this, 
> and if
> it is wise to do so? or alternatively can anyone recommend any other CAD
> programs? im using radiance on a linux system as a point of note.
> 
> thanks again
> chris
> 
> 
> 
> -------------------------------------------------------------------
> This e-mail and any attachments may contain confidential and/or
> privileged material; it is for the intended addressee(s) only.
> If you are not a named addressee, you must not use, retain or
> disclose such information.
> 
> NPL Management Ltd cannot guarantee that the e-mail or any
> attachments are free from viruses.
> 
> NPL Management Ltd. Registered in England and Wales. No: 2937881
> Registered Office: Serco House, 16 Bartley Wood Business Park,
> Hook, Hampshire, United Kingdom RG27 9UY
> -------------------------------------------------------------------
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From jm at dmu.ac.uk  Fri May 19 14:31:06 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri May 19 14:31:23 2006
Subject: [Radiance-general] a note of thanks
Message-ID: <2679D32D-4606-49A5-81A3-23930F1393D1@dmu.ac.uk>

Chris,

> i have a question to the group if anyone would be kind enough to  
> answer it.
> my boss has told me to look at gettin a CAD program to use in  
> partnership with
> radiance, specifically AutoCAD. does anyone know where i can get  
> this, and if
> it is wise to do so? or alternatively can anyone recommend any  
> other CAD
> programs? im using radiance on a linux system as a point of note.

Hard to make any sort of recommendation without knowing what you  
intend to model.  Unless you are already up to working speed with  
AutoCAD, you may find that it is much easier to learn how to use  
Radiance scene generators to create the model than it is to learn how  
to use AutoCAD.  The 3D models for these (now ancient) scenes were  
all created using scripts (images at the foot of the page):

http://www.iesd.dmu.ac.uk/~jm/resources.html

The Radiance book gives lots of examples on creating geometry using  
scripts etc.  I'd certainly recommend considering this approach in  
the first instance.

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From christian_fusenig at gmx.de  Fri May 19 15:20:35 2006
From: christian_fusenig at gmx.de (Christian Fusenig)
Date: Fri May 19 15:20:42 2006
Subject: [Radiance-general] human dxf models
Message-ID: <446DC623.6040304@gmx.de>

Hi there,

i know this is not really a Radiance related question but i guess 
everyone once needed a human model for a scene. Most of the 'free' 
models on the Internet are not great or not 'human'. I need a female 
newsreader with short hair for my scene, or at least a standing female 
model with different layers. I tried to get something out of 'Poser 3D' 
but all i get is a DXF file with one layer. Maybe someone has experience 
exporting DXF out of Poser. I'm a little bit under pressure because it's 
for my thesis and the 'clock' is running ;-)
Thanks a lot!

Christian

From jedev at visarc.com  Fri May 19 15:44:46 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Fri May 19 15:44:59 2006
Subject: [Radiance-general] human dxf models
In-Reply-To: <446DC623.6040304@gmx.de>
References: <446DC623.6040304@gmx.de>
Message-ID: <446DCBCE.4010008@visarc.com>

Hi Christian,

If you need to pose a figure in a particular way, you will need to use 
Poser. However it is possible that you might be able to buy a posed 
human figure online at a site like www.turbosquid.com. You might also 
check if poser can export in another format such as obj or 3ds  (obj 
would be preferable as then you can use obj2mesh).

-Jack

Christian Fusenig wrote:
> Hi there,
>
> i know this is not really a Radiance related question but i guess 
> everyone once needed a human model for a scene. Most of the 'free' 
> models on the Internet are not great or not 'human'. I need a female 
> newsreader with short hair for my scene, or at least a standing female 
> model with different layers. I tried to get something out of 'Poser 
> 3D' but all i get is a DXF file with one layer. Maybe someone has 
> experience exporting DXF out of Poser. I'm a little bit under pressure 
> because it's for my thesis and the 'clock' is running ;-)
> Thanks a lot!
>
> Christian
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From grobe at gmx.net  Fri May 19 17:30:51 2006
From: grobe at gmx.net (Lars Grobe)
Date: Fri May 19 17:30:54 2006
Subject: [Radiance-general] a note of thanks
In-Reply-To: <446DB959.6000108@oriel.ox.ac.uk>
References: <2C2E01334A940D4792B3E115F95B722631A561@exchsvr1.npl.ad.local>
	<446DB959.6000108@oriel.ox.ac.uk>
Message-ID: <20060519153051.102570@gmx.net>

Hi!

> although i believe its pretty hard (if not impossible?) to run autocad 
> on linux - you could of course do the modelling on a windows computer, 
> and then just transfer the finished file across to the linux computer.

Take a look at www.winehq.com (or org, not sure, it is about the wine project, allowing to run windows-apps under Linux (x86). There is also a directory of apps known to work.

As an alternative, there is Intellicad, which was available free (?) at least some years ago and is very similar to Autocad.

I do not know about any good free 3d-CAD packages for Linux. There are good modelers (AC3d, Blender, ...). Also there are some commercial modelers free for private or education use, like Houdini, Maya etc. In general, real CAD has to be paid under Linux. And as you mentioned your boss, it is not clear to me if you work on a school project or a commercial one.

I did most work on formZ (Mac, but is available for Windows, too). Great tool, but expensive.

Whatever you choose, exporting obj is really valuable, all other formats have drawbacks. Dxf is still well supported by Georg Mischler's dxf2rad, but some advanced features of Radiance are bound to obj.

CU Lars.

From jedev at visarc.com  Fri May 19 18:04:46 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Fri May 19 18:04:58 2006
Subject: [Radiance-general] a note of thanks
In-Reply-To: <20060519153051.102570@gmx.net>
References: <2C2E01334A940D4792B3E115F95B722631A561@exchsvr1.npl.ad.local>	<446DB959.6000108@oriel.ox.ac.uk>
	<20060519153051.102570@gmx.net>
Message-ID: <446DEC9E.8040108@visarc.com>

Although Intellicad is not free it costs significantly less than 
Autocad. Checkout www.bricscad.com. They do have a linux version. The 
real question here (perhaps for Georg) is whether radout will run in 
intellicad. At least one other option might be Rhino. By comparison to 
Autocad these are both cheap options.

-Jack

Lars Grobe wrote:
> Hi!
>
>   
>> although i believe its pretty hard (if not impossible?) to run autocad 
>> on linux - you could of course do the modelling on a windows computer, 
>> and then just transfer the finished file across to the linux computer.
>>     
>
> Take a look at www.winehq.com (or org, not sure, it is about the wine project, allowing to run windows-apps under Linux (x86). There is also a directory of apps known to work.
>
> As an alternative, there is Intellicad, which was available free (?) at least some years ago and is very similar to Autocad.
>
> I do not know about any good free 3d-CAD packages for Linux. There are good modelers (AC3d, Blender, ...). Also there are some commercial modelers free for private or education use, like Houdini, Maya etc. In general, real CAD has to be paid under Linux. And as you mentioned your boss, it is not clear to me if you work on a school project or a commercial one.
>
> I did most work on formZ (Mac, but is available for Windows, too). Great tool, but expensive.
>
> Whatever you choose, exporting obj is really valuable, all other formats have drawbacks. Dxf is still well supported by Georg Mischler's dxf2rad, but some advanced features of Radiance are bound to obj.
>
> CU Lars.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060519/57a728eb/attachment.html
From rpg at rumblestrip.org  Fri May 19 23:00:10 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri May 19 23:00:22 2006
Subject: [Radiance-general] compilation error
Message-ID: <446E31DA.3020909@rumblestrip.org>

Hi folks,

I'm having trouble compiling Radiance on a new system we have, and I was 
wondering if someone could decipher the error message I'm getting.  
Here's where the fun begins:

===========================================
In directory cv...
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib64 -I/usr/include/X11 -DNOSTEREO -o ies2rad ies2rad.o 
-lrtrad -lm
/usr/lib64/gcc/x86_64-suse-linux/4.0.2/../../../../x86_64-suse-linux/bin/ld: 
cannot find -lrtrad
collect2: ld returned 1 exit status
make: *** [ies2rad] Error 1
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib64 -I/usr/include/X11 -DNOSTEREO -o arch2rad arch2rad.o 
trans.o -lrtrad
/usr/lib64/gcc/x86_64-suse-linux/4.0.2/../../../../x86_64-suse-linux/bin/ld: 
cannot find -lrtrad
collect2: ld returned 1 exit status
make: *** [arch2rad] Error 1
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib64 -I/usr/include/X11 -DNOSTEREO -o lampcolor 
lampcolor.o -lrtrad
/usr/lib64/gcc/x86_64-suse-linux/4.0.2/../../../../x86_64-suse-linux/bin/ld: 
cannot find -lrtrad
collect2: ld returned 1 exit status
make: *** [lampcolor] Error 1
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib64 -I/usr/include/X11 -DNOSTEREO -o tmesh2rad 
tmesh2rad.o -lrtrad -lm
/usr/lib64/gcc/x86_64-suse-linux/4.0.2/../../../../x86_64-suse-linux/bin/ld: 
cannot find -lrtrad
collect2: ld returned 1 exit status
make: *** [tmesh2rad] Error 1
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib64 -I/usr/include/X11 -DNOSTEREO -o obj2rad obj2rad.o 
trans.o -lrtrad -lm
/usr/lib64/gcc/x86_64-suse-linux/4.0.2/../../../../x86_64-suse-linux/bin/ld: 
cannot find -lrtrad
collect2: ld returned 1 exit status
make: *** [obj2rad] Error 1
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib64 -I/usr/include/X11 -DNOSTEREO -o mgf2rad mgf2rad.o 
-lmgf -lrtrad -lm
/usr/lib64/gcc/x86_64-suse-linux/4.0.2/../../../../x86_64-suse-linux/bin/ld: 
cannot find -lrtrad
collect2: ld returned 1 exit status
make: *** [mgf2rad] Error 1
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib64 -I/usr/include/X11 -DNOSTEREO -o rad2mgf rad2mgf.o 
-lrtrad -lm
/usr/lib64/gcc/x86_64-suse-linux/4.0.2/../../../../x86_64-suse-linux/bin/ld: 
cannot find -lrtrad
collect2: ld returned 1 exit status
make: *** [rad2mgf] Error 1
gcc -I../common -L../lib -O2 -DSPEED=200 -Dlinux -D_FILE_OFFSET_BITS=64 
-L/usr/X11R6/lib64 -I/usr/include/X11 -DNOSTEREO -o mgf2meta mgf2meta.o 
-lmgf -lmeta -lrtrad -lm
/usr/lib64/gcc/x86_64-suse-linux/4.0.2/../../../../x86_64-suse-linux/bin/ld: 
cannot find -lrtrad
collect2: ld returned 1 exit status
make: *** [mgf2meta] Error 1

====================================

These are the only programs having problems compiling.  What is that 
-lrtrad parameter?  Is it time to go home yet?

- Rob


From gregoryjward at gmail.com  Fri May 19 23:22:54 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri May 19 23:22:49 2006
Subject: [Radiance-general] compilation error
In-Reply-To: <446E31DA.3020909@rumblestrip.org>
References: <446E31DA.3020909@rumblestrip.org>
Message-ID: <F203AF95-A413-4DD0-AA20-EFAFF127674A@gmail.com>

Hi Rob,

Are you getting this out of makeall, or rmake?  If you are running  
rmake in src/cv, did you run "rmake install" in src/common first?

-Greg

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: May 19, 2006 2:00:10 PM PDT
>
> Hi folks,
>
> I'm having trouble compiling Radiance on a new system we have, and  
> I was wondering if someone could decipher the error message I'm  
> getting.  Here's where the fun begins:

From ian at testers.homelinux.net  Sat May 20 03:17:15 2006
From: ian at testers.homelinux.net (Ian Tester)
Date: Sat May 20 03:17:39 2006
Subject: [Radiance-general] a note of thanks
In-Reply-To: <20060519153051.102570@gmx.net>
References: <2C2E01334A940D4792B3E115F95B722631A561@exchsvr1.npl.ad.local>
	<446DB959.6000108@oriel.ox.ac.uk> <20060519153051.102570@gmx.net>
Message-ID: <20060520111715.64b209b5@saavik.ian.testers.net.au>

On Fri, 19 May 2006 17:30:51 +0200
"Lars Grobe" <grobe@gmx.net> wrote:

> I do not know about any good free 3d-CAD packages for Linux. There are
> good modelers (AC3d, Blender, ...). Also there are some commercial
> modelers free for private or education use, like Houdini, Maya etc. In
> general, real CAD has to be paid under Linux. And as you mentioned your
> boss, it is not clear to me if you work on a school project or a
> commercial one.
> 
> I did most work on formZ (Mac, but is available for Windows, too). Great
> tool, but expensive.
> 
> Whatever you choose, exporting obj is really valuable, all other formats
> have drawbacks. Dxf is still well supported by Georg Mischler's dxf2rad,
> but some advanced features of Radiance are bound to obj.

I've had a good time modelling with Wings3D, which is far from CAD. It's
primarily a polygonal modeller for creating sub-divisional meshes. I create
some weird shape and when I'm happy with it I hit 's' a few times to
sub-divide the mesh and save as an OBJ file. Then it's off to obj2mesh and
putting the object into a scene.

Here's my latest work, including an iridescent colorfunc:
http://www.deviantart.com/view/33287687/

I'm currently slogging through rendering an animation of this object and
its colourful material.

I'd steer clear of DXF unless you're using AutoCAD. AutoDesk has refused
to document the file format and has stated that their software is the only
software that can handle DXF properly. So I'd avoid it if I could.
Although I guess running ToRAD or whatever within AutoCAD is probably
alright.

AutoDesk have also hitched their wagon to Microsoft's, ruling out any
non-Windows ports of their software. So personally, I've given them the
big middle finger and am ignoring them. Others have provided names of
other CAD packages, some of which are available on Linux.

Hope this helps,
bye

From chris.foster at npl.co.uk  Mon May 22 10:41:08 2006
From: chris.foster at npl.co.uk (Chris Foster)
Date: Mon May 22 10:41:23 2006
Subject: [Radiance-general] Replys
Message-ID: <2C2E01334A940D4792B3E115F95B722631A563@exchsvr1.npl.ad.local>

Jack

I am eventually trying to model a large white chamber for testing the
performance of displays under different lighting conditions, specifically
using a spotlight to imitate the Sun (high brightness levels). i feel the idea
is to put a land rover in the chamber, with a display on its windscreen 
although the full details have yet to be finalised. because of this i have been
looking at trying to find details of how to measure the sun's luminance
but the only standard i have managed to find (CIE 108-1994 Guide to recommended
practice of daylight measurement) doesnt go into apparatus details. i have been
looking at the idmp but i havent been able to access their website since i have
been at work, not sure if its my computer or the website is down.

Greg

Money coming your way as my boss has decided to buy your book!

Will

unfortunately autodesk do not involve my university (dundee) so cant get it free,
but by the sound of most people's comments i shouldnt even if i could.
i will look into doing the modelling on windows and then transferring them,
the pc im using has both linux and windows on which will help.


Lars

Im on a industrial placement as part of my Masters course, so i suppose the project
is commercial (as the work im doing will belong to npl) although i will be 
getting graded on it as its my dissertation. dunno is any of the group has heard
of my course (its apparently well known) but im on the displaysmasters course??
ill look into the things you have mentioned, thanks.

Thanks
Chris




-------------------------------------------------------------------
This e-mail and any attachments may contain confidential and/or
privileged material; it is for the intended addressee(s) only.
If you are not a named addressee, you must not use, retain or
disclose such information.

NPL Management Ltd cannot guarantee that the e-mail or any
attachments are free from viruses.

NPL Management Ltd. Registered in England and Wales. No: 2937881
Registered Office: Serco House, 16 Bartley Wood Business Park,
                   Hook, Hampshire, United Kingdom  RG27 9UY
-------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060522/7695103b/attachment.htm
From grobe at gmx.net  Mon May 22 13:46:50 2006
From: grobe at gmx.net (Lars Grobe)
Date: Mon May 22 13:46:54 2006
Subject: [Radiance-general] Replys
In-Reply-To: <2C2E01334A940D4792B3E115F95B722631A563@exchsvr1.npl.ad.local>
References: <2C2E01334A940D4792B3E115F95B722631A563@exchsvr1.npl.ad.local>
Message-ID: <20060522114650.59040@gmx.net>

Hi,

search the list's archives for sky models. If you need I can send you links to manufacturers of these measurement devices. John made some research on the topic which is published, some of it on his website. I think you need no bright room and a spotlight, but a sky distribution.

CU Lars (is in a hurry now).

From yunxian.ho at nyu.edu  Mon May 22 13:50:51 2006
From: yunxian.ho at nyu.edu (Yun-Xian Ho)
Date: Mon May 22 13:50:55 2006
Subject: [Radiance-general] gloss and area light source rendering problem
Message-ID: <4471A59B.2060301@nyu.edu>

Hi All,

I have been having problems rendering a glossy bumpy surface composed of 
intersecting ellipsoids illuminated under a rectangular light source. 
The image appears to contain some random point source reflections on the 
surface in addition to the direct reflection of the area light.

To view the rendered image, see: 
http://homepages.nyu.edu/~yxh201/bumpysurftest.jpg.

The bumpy surface is made of the following material:
void plastic gray_plastic
0
0
5 .2 .2 .2 .1482 0

and a 30x24 flat rectangular light source is defined as:
void light bright
0
0
3 25 25 25

I use the following parameters to render the scene:
-ab 2 -aa .08 -ad 1024 -as 512 -av .2 .2 .2 -sj 1 -st .01 -dj 1 -ds .05

Any suggestions to clean up the "noise" in the image? Much thanks...

--xian


From jedev at visarc.com  Mon May 22 14:29:16 2006
From: jedev at visarc.com (Jack de Valpine)
Date: Mon May 22 14:29:35 2006
Subject: [Radiance-general] gloss and area light source rendering problem
In-Reply-To: <4471A59B.2060301@nyu.edu>
References: <4471A59B.2060301@nyu.edu>
Message-ID: <4471AE9C.7050302@visarc.com>

Hi Xian,

Interesting surface geometry you have there. Based on your material 
description though the results you are getting seem to be fine. The 
so-called "noise" that you are seeing is the specular highlights based 
on the material that you defined. The plastic material that you defined 
only has a specular component you have left the roughness parameter set 
to 0, thus you material is "shiny" so you are getting the tightly 
defined specular highlights on the bumps of the geometry.

If you want a "glossy" (not sure exactly what you mean here as this 
covers a variety of things) finish, then you should add a roughness 
parameter, for example, you could try out the following for starters 
(this is not based on anything in particular) to see what the difference is:

The bumpy surface is made of the following material:
void plastic gray_plastic
0
0
5 .2 .2 .2 .1 .1

I would try this out with the parameters that you have and see what you 
get. As an additional experiment you may also want to turn on true 
random monte carlo sampling by setting -u+, though this may require that 
you oversample your image at a higher size.

-Jack

PS - what does the geometry represent?

Yun-Xian Ho wrote:
> Hi All,
>
> I have been having problems rendering a glossy bumpy surface composed 
> of intersecting ellipsoids illuminated under a rectangular light 
> source. The image appears to contain some random point source 
> reflections on the surface in addition to the direct reflection of the 
> area light.
>
> To view the rendered image, see: 
> http://homepages.nyu.edu/~yxh201/bumpysurftest.jpg.
>
> The bumpy surface is made of the following material:
> void plastic gray_plastic
> 0
> 0
> 5 .2 .2 .2 .1482 0
>
> and a 30x24 flat rectangular light source is defined as:
> void light bright
> 0
> 0
> 3 25 25 25
>
> I use the following parameters to render the scene:
> -ab 2 -aa .08 -ad 1024 -as 512 -av .2 .2 .2 -sj 1 -st .01 -dj 1 -ds .05
>
> Any suggestions to clean up the "noise" in the image? Much thanks...
>
> --xian
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



From gregoryjward at gmail.com  Mon May 22 17:06:42 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon May 22 17:06:28 2006
Subject: [Radiance-general] gloss and area light source rendering problem
In-Reply-To: <4471A59B.2060301@nyu.edu>
References: <4471A59B.2060301@nyu.edu>
Message-ID: <D91E8F6D-3D10-4780-988B-07ED5FF543F0@gmail.com>

Hi Xian,

Adding to Jack's comments, I think you will see what appears as noise  
no matter what you do.  The minification that happens on multiple  
reflections makes your light source into a dot.  In other words, in  
the reflection of one sphere you see more spheres.  The miniaturized  
image of the light source becomes a microminiaturized reflection in  
the reflected spheres, and micromicrominiaturized in the reflection  
of reflection of other spheres.  These will look like noise to your  
eye, but that's what the real scene would look like, also.

-Greg

> From: Yun-Xian Ho <yunxian.ho@nyu.edu>
> Date: May 22, 2006 4:50:51 AM PDT
>
> Hi All,
>
> I have been having problems rendering a glossy bumpy surface  
> composed of intersecting ellipsoids illuminated under a rectangular  
> light source. The image appears to contain some random point source  
> reflections on the surface in addition to the direct reflection of  
> the area light.
>
> To view the rendered image, see: http://homepages.nyu.edu/~yxh201/ 
> bumpysurftest.jpg.
>
> The bumpy surface is made of the following material:
> void plastic gray_plastic
> 0
> 0
> 5 .2 .2 .2 .1482 0
>
> and a 30x24 flat rectangular light source is defined as:
> void light bright
> 0
> 0
> 3 25 25 25
>
> I use the following parameters to render the scene:
> -ab 2 -aa .08 -ad 1024 -as 512 -av .2 .2 .2 -sj 1 -st .01 -dj 1 - 
> ds .05
>
> Any suggestions to clean up the "noise" in the image? Much thanks...
>
> --xian

From yunxian.ho at nyu.edu  Tue May 23 05:40:25 2006
From: yunxian.ho at nyu.edu (Yun-Xian Ho)
Date: Tue May 23 05:40:40 2006
Subject: [Radiance-general] gloss and area light source rendering problem
In-Reply-To: <D91E8F6D-3D10-4780-988B-07ED5FF543F0@gmail.com>
References: <4471A59B.2060301@nyu.edu>
	<D91E8F6D-3D10-4780-988B-07ED5FF543F0@gmail.com>
Message-ID: <44728429.4030104@nyu.edu>

Thanks for the speedy and helpful responses, Jack and Greg. It's good to 
know that there is nothing necessarily wrong with my code, just my 
perception. :) This also suggests that I should probably not make these 
surfaces "shiny." In response to Jack's P.S., the geometry is designed 
to investigate gloss and the perception of bumpiness, where bumpiness is 
defined as the variance of bump heights (ellipsoid depths). I was 
inspired by a variety of skin imperfections...and clusters of shiny 
raspberries. If course, if anyone has any better suggestions of modeling 
"macro-bumpiness," I'd be happy to hear them.

--xian

Gregory J. Ward wrote:

> Hi Xian,
>
> Adding to Jack's comments, I think you will see what appears as noise  
> no matter what you do.  The minification that happens on multiple  
> reflections makes your light source into a dot.  In other words, in  
> the reflection of one sphere you see more spheres.  The miniaturized  
> image of the light source becomes a microminiaturized reflection in  
> the reflected spheres, and micromicrominiaturized in the reflection  
> of reflection of other spheres.  These will look like noise to your  
> eye, but that's what the real scene would look like, also.
>
> -Greg
>
>> From: Yun-Xian Ho <yunxian.ho@nyu.edu>
>> Date: May 22, 2006 4:50:51 AM PDT
>>
>> Hi All,
>>
>> I have been having problems rendering a glossy bumpy surface  
>> composed of intersecting ellipsoids illuminated under a rectangular  
>> light source. The image appears to contain some random point source  
>> reflections on the surface in addition to the direct reflection of  
>> the area light.
>>
>> To view the rendered image, see: http://homepages.nyu.edu/~yxh201/ 
>> bumpysurftest.jpg.
>>
>> The bumpy surface is made of the following material:
>> void plastic gray_plastic
>> 0
>> 0
>> 5 .2 .2 .2 .1482 0
>>
>> and a 30x24 flat rectangular light source is defined as:
>> void light bright
>> 0
>> 0
>> 3 25 25 25
>>
>> I use the following parameters to render the scene:
>> -ab 2 -aa .08 -ad 1024 -as 512 -av .2 .2 .2 -sj 1 -st .01 -dj 1 - ds .05
>>
>> Any suggestions to clean up the "noise" in the image? Much thanks...
>>
>> --xian
>



From oitzinger at opec.org  Tue May 23 09:03:16 2006
From: oitzinger at opec.org (Itzinger, Oskar)
Date: Tue May 23 09:03:37 2006
Subject: [Radiance-general] [Help] Problem with ximage in 7.3.2
Message-ID: <2AE27CD8C00C3540AF5DCEBE6C3D020B0172069A@opecexch1.opec.org>

James, 

hmm, while I apparently don't have "asd.rif" [can't find it in 3.7.2],
the
following works quite ok on my SGI Fuel [Irix 6.5.28/MipsPro 7.4.4/V12]:


IRIS 9 $ cd /disk03/mephisto/source/radiance_3.7.2/obj/misc
IRIS 10 $ /disk03/mephisto/source/radiance_3.7.2/bin/glrad daf.rif
        oconv daf.rad > daf.oct
X connection to :0.0 broken (explicit kill or server shutdown).

...and I indeed get a daffodil rendered!

/oskar

> 
> Message: 1
> Date: Wed, 17 May 2006 10:39:57 GMT
> From: James Lee <canoe@onetel.com>
> Subject: Re: [Radiance-general] [Help] Problem with ximage in 7.3.2
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <20060517.10395700.3780877498@landeck.jamesipoos.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> On 15/05/06, 17:07:52, Gregory "J." Ward 
> <gregoryjward@gmail.com> wrote 
> regarding Re: [Radiance-general] [Help] Problem with ximage in 7.3.2:
> 
> > I have not had any other reports of any problems with the latest
> > version of ximage in 8-bit mode, but it's difficult to find hardware
> > these days that even supports 8-bit color lookups.  There 
> may well be
> > a bug, but I can't find it if I can't find hardware on which to
> > reproduce the problem.
> 
> ximage works on 8-bit displays with no problems.
> 
> The OpenGL programs don't, eg:
> 
> $ glrad asd.rif
> fatal - no suitable visuals available
> ...
> 
> James.


DISCLAIMER

This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to which they are addressed and may be legally privileged and/or confidential. Any unauthorized use, disclosure or copying of this e-mail or any of its attachment(s) by unintended recipient may be unlawful and is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by e-mail and permanently delete the original e-mail and attachment(s) from your computer system.
 
Any opinions contained in this message are those of the author and are not given or endorsed by OPEC, unless otherwise clearly indicated in the message, and the authority of the author to so bind OPEC is duly verified. OPEC does not warrant or assume any legal liability or responsibility for the accuracy, completeness, or usefulness of any information contained in the e-mail content transmitted over the Internet.

Thank you for your cooperation.



From oitzinger at opec.org  Tue May 23 09:25:55 2006
From: oitzinger at opec.org (Itzinger, Oskar)
Date: Tue May 23 09:25:57 2006
Subject: [Radiance-general] [Help] Problem with ximage in 7.3.2
Message-ID: <2AE27CD8C00C3540AF5DCEBE6C3D020B017206B6@opecexch1.opec.org>

Greg,

thanks for your reply - as I have no reservations using the 3.1.11
ximage on
pics created with 3.7.2, that's fine for me.

However, although in my original post I'd reported that compilaton of
3.7.2
on my SGI FUEL under IRIX 6.5.28/MipsPro 7.4.4/V12 works "ok" [since I'd
only 
looked at the tail of the file into which I'd re-directed the output
from 
<makeall install> and I'd read 'Done.' there, I'd not bothered further
to wade
thru all messages], upon closer inspection I did indeed find a few
entries
worth of comments - please bear with me for the nonce. First, here is my

rmake command:

#!/bin/sh
exec make "SPECIAL=ogl" \
	"OPT=-O2 -DSPEED=200" \
	"MACH=-w" \
	ARCH=sgi "COMPAT=strcmp.o" \
	INSTDIR=/disk03/mephisto/source/radiance_3.7.2/bin \
	LIBDIR=/disk03/mephisto/source/radiance_3.7.2/lib \
	ESUFFIX= \
	 "$@" -f Rmakefile

Since 'New rmake command -- running "makeall clean"...', that's what is 
executed initially. Then:


1. In directory px...
	rm -f [...]
	cd tiff; make distclean
don't know how to make distclean (bu42).
*** Error code 1 (bu21)

Right now it escapes me why this doesn't work, as <Makefile> in tiff
"does"
have a target "distclean" indeed.


2. There are a number of 

sh: ranlib:  not found
*** Error code 127 (bu21) (ignored)

as IRIX doesn't have/need ranlib at all.


3. More seriously, however,

In directory hd...
cc-1020 cc: ERROR File = rhd_ogl.c, Line = 367
  The identifier "d" is undefined.

  	d = eyesepdist / sqrt(nv->hn2);
  	^

1 error detected in the compilation of "rhd_ogl.c".
*** Error code 2 (bu21)


So I wonder why compilaton hasn't just stopped there in the first
place???


4. Although I've quite rarely seen a package which produces almost no
warnings
[Radiance is a very satisfactory exception - applause to you!!!], I do
get a 
whole bunch of them when

In directory px...
	cd ../libtiff ; make install


While you seem to use tiff-3.7.3 in Radiance 3.7.2, I've gotten most of
these
warnings also when I compiled the stand-alone tiff-3.8.2 before - so, I
can 
live with them [and I don't blame you at all there :-)]. On the other
hand,
though, I see

Libtiff is now configured for mips-sgi-irix6.5

  Installation directory:             /usr/local

although libtiff is indeed later installed in src/lib as wanted...


5. BTW, upon installation of Radiance 3.7.2, I get a directory

<...>/test/test data/

[note the blank in the dir name], and I can't access files in there at
all:


IRIS 121 $ cd /disk03/mephisto/source/radiance_3.7.2/test/test data
ksh: /disk03/mephisto/source/radiance_3.7.2/test/test:  not found


OK, I'd run <makeall clean> - this time I got no error (!) with

In directory px...
	rm -f [...]
	cd tiff; make distclean

[although .o/.lo are not cleaned out in tiff/libtiff at all - I deleted
them 
manually], but I got a new error:

Making distclean in man
make: file `Makefile' line 292: Syntax error
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)

which I didn't have when compiling the stand-alone tiff-3.8.2.


Anyway, prompted by 3) above, in <...>/src//hd/rhd_ogl.c, I added

326a327
>         double d;

[guessed from similiar usages of d in the same .c], and this error went
upon
a fresh <makeall install>.

However, as my original ximage problem was still there, I installed
3.7.2 also
on my SGI INDIGO2 [IRIX 6.5.22/MipsPro 7.4.2/GR2] and afterwards the
3.7.2
ximage worked on it fine! So, I copied the 3.7.2 ximage as generated on
the
INDIGO2 to the FUEL - but I got only the original problem again. Then I
copied the 3.7.2 image as generated on the FUEL to the INDIGO2 but 
understandibly it didn't run there at all:

ksh: ximage: Program not supported by architecture

So, my conclusions are:

1. There is something wrong on my FUEL, or

2. Radiance 3.7.2 doesn't work properly anymore on the FUEL [to repeat:
   ximage after recompilation of 3.1.11 on the FUEL works quite well
there]...


Presently, I'm just stuck...

Anyhow, thanks for wading thru this long post...

/oskar

> Date: Mon, 15 May 2006 09:07:52 -0700
> From: "Gregory J. Ward" <gregoryjward@gmail.com>
> Subject: Re: [Radiance-general] [Help] Problem with ximage in 7.3.2
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <F6854F27-DD49-4DD0-9749-B825C3584714@gmail.com>
> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
> 
> Hi Oskar,
> 
> I have not had any other reports of any problems with the latest  
> version of ximage in 8-bit mode, but it's difficult to find hardware  
> these days that even supports 8-bit color lookups.  There may 
> well be  
> a bug, but I can't find it if I can't find hardware on which to  
> reproduce the problem.
> 
> Maybe you can just continue to use the old binary for ximage, if  
> that's working.  I can see no reason why not to -- it isn't 
> as if the  
> Radiance picture format has changed in any incompatible way.
> 
> -Greg
> 
> > From: "Itzinger, Oskar" <oitzinger@opec.org>
> > Date: May 15, 2006 12:30:03 AM PDT
> >
> > Hello all,
> >
> > Very long time ago I'd compiled Radiance 3.1.11 on my SGI Indigo2  
> > [IRIX
> > 6.5.22, MipsPro 7.3.2] and it did run fine - but then I forgot  
> > about it.
> >
> > Just recently, however, I recompiled 3.1.11 on my new SGI Fuel  
> > [IRIX 6.5.28,
> > MipsPro 7.4.4, V12] and everything worked as before.
> >
> > So, I decided to upgrade to Radiance 3.7.2 on my Fuel [same OS &  
> > same compiler
> > as above]. It compiled ok, but <ximage> seems now somehow to be  
> > broken - all
> > my pictures (ok under 3.1.11 on my Fuel) are completly wrong color- 
> > wise and
> > look almost like as if produced via fractint :-).
> >
> > I feel something with the colortable routines is amiss, but I've no
> > idea what it could be [I tried different values for DSPEED 
> - but no  
> > success;
> > also changing the value of <set special> in <makeall> from 
> "ogl" to  
> > "tiff" to
> > "sgi" didn't help any].
> >
> > BTW, if I convert the pics with ra_tiff and view them [on my Fuel  
> > with vstiff],
> > they are ok.
> >
> > Your hints are certainly appreciated.
> >
> > Thanks in advance.
> > /oskar
> >


DISCLAIMER

This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to which they are addressed and may be legally privileged and/or confidential. Any unauthorized use, disclosure or copying of this e-mail or any of its attachment(s) by unintended recipient may be unlawful and is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by e-mail and permanently delete the original e-mail and attachment(s) from your computer system.
 
Any opinions contained in this message are those of the author and are not given or endorsed by OPEC, unless otherwise clearly indicated in the message, and the authority of the author to so bind OPEC is duly verified. OPEC does not warrant or assume any legal liability or responsibility for the accuracy, completeness, or usefulness of any information contained in the e-mail content transmitted over the Internet.

Thank you for your cooperation.



From Andrew.McNeil at arup.com  Tue May 23 14:44:59 2006
From: Andrew.McNeil at arup.com (Andrew McNeil)
Date: Tue May 23 14:45:09 2006
Subject: [Radiance-general] Rtcontrib with ies2rad
Message-ID: <5AE9E82331596E4C9F1A1B602407637D01A5FFFA@ldcexc01.global.arup.com>

Hi everyone,

 

I've finally gotten around to using rtcontrib and am having a little
difficulty.  I have 5 rows of luminaires and am trying to calculate the
illuminance contribution from each row of luminaires to a grid point.
To test my model, I am first calculating only the direct component from
the luminaires to the points.

 

The command I'm using is as follows:

 

rtcontrib -I+ -ab 0 -o out.dat -m y_down1_light -m y_down2_light ...
model.oct < grid.pts

 

I've pasted the luminaire file for the first row of luminaires at the
end of this email for reference.  

 

I expected that the sum of the rtcontrib output values would be the same
as he output from a straight rtrace calculation.  What I got when I
summed the rtcontrib output was 3% of the rtrace calculation ( 18 vs 530
).  After some experimentation, I found that I get the same value (18)
with rtrace if I remove the brightdata modifier from the light primitive
(replacing "y_down1_dist" with "void" in the luminaire file).  So I
figured I must have been using the wrong modifier in my rtcontrib
command.  But, when I tried other modifiers (y_down1_dist and y_down1.d)
rtcontrib returned zeros.

 

So to finally get to the point, what is the correct modifier to use in
rtcontrib to get the illuminance contributions WITH the brightdata
photometry?  Or maybe there is something else I'm doing wrong?

 

Cheers,

Andrew

 

 

 

Luminaire rad file for the first row (from ies2rad):

#################################################

void brightdata y_down1_dist

5 flatcorr y_down1.dat source.cal src_phi4 src_theta 

0

1 6.52358

 

y_down1_dist light y_down1_light

0

0

3 1 1 1

 

y_down1_light polygon y_down1.d

0

0

12

      -24   -1.98 -0.00984252

      -24   1.98  -0.00984252

      24    1.98  -0.00984252

      24    -1.98 -0.00984252

 

y_down1_light polygon y_down1.u

0

0

12

      -24   -1.98 0.00984252

      24    -1.98 0.00984252

      24    1.98  0.00984252

      -24   1.98  0.00984252

 

 

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060523/7f65801c/attachment.html
From kthibault at biomechanicsinc.com  Tue May 23 15:15:43 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Tue May 23 15:15:57 2006
Subject: [Radiance-general] Replys
In-Reply-To: <2C2E01334A940D4792B3E115F95B722631A563@exchsvr1.npl.ad.local>
References: <2C2E01334A940D4792B3E115F95B722631A563@exchsvr1.npl.ad.local>
Message-ID: <2BD3258F-D416-4FAA-9093-ECB873658592@biomechanicsinc.com>

It's not going to be a Lucas display, is it?  :-)

------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On May 22, 2006, at 4:41 AM, Chris Foster wrote:

> Jack
>
> I am eventually trying to model a large white chamber for testing the
> performance of displays under different lighting conditions,  
> specifically
> using a spotlight to imitate the Sun (high brightness levels). i  
> feel the idea
> is to put a land rover in the chamber, with a display on its  
> windscreen
> although the full details have yet to be finalised.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060523/6e4929ce/attachment.html
From gregoryjward at gmail.com  Tue May 23 15:20:20 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue May 23 15:20:11 2006
Subject: [Radiance-general] [Help] Problem with ximage in 7.3.2
In-Reply-To: <2AE27CD8C00C3540AF5DCEBE6C3D020B017206B6@opecexch1.opec.org>
References: <2AE27CD8C00C3540AF5DCEBE6C3D020B017206B6@opecexch1.opec.org>
Message-ID: <9322905F-5313-4758-B01B-444C7EAAE218@gmail.com>

Hi Oskar,

The formatting of your post is rather messed up, but I'll try to  
reply in-line:

> thanks for your reply - as I have no reservations using the 3.1.11
> ximage on pics created with 3.7.2, that's fine for me.
>
> However, although in my original post I'd reported that compilaton
> of 3.7.2 on my SGI FUEL under IRIX 6.5.28/MipsPro 7.4.4/V12 works
> "ok" [since I'd only looked at the tail of the file into which I'd
> re-directed the output from <makeall install> and I'd read 'Done.'

Radiance compiles with the rmake -k option, which means that  
compilation continues even when errors are encountered.  You can take  
this off in the makeall script if you like.

> there, I'd not bothered further to wade thru all messages], upon
> closer inspection I did indeed find a few entries worth of comments
> - please bear with me for the nonce. First, here is my rmake command:
...
> 1. In directory px...
> 	rm -f [...]
> 	cd tiff; make distclean
> don't know how to make distclean (bu42).
> *** Error code 1 (bu21)
>
> Right now it escapes me why this doesn't work, as <Makefile> in tiff
> "does" have a target "distclean" indeed.

I've seen this problem before, but I don't know where it comes from.   
I suspect that the latest TIFF library is using some non-standard  
features of make that aren't supported on your system.  Not much I  
can do to fix it because I don't understand the build on libtiff at all.

> 2. There are a number of
>
> sh: ranlib:  not found
> *** Error code 127 (bu21) (ignored)
>
> as IRIX doesn't have/need ranlib at all.

This should be no cause for concern.

> 3. More seriously, however,
>
> In directory hd...
> cc-1020 cc: ERROR File = rhd_ogl.c, Line = 367
>   The identifier "d" is undefined.
>
>   	d = eyesepdist / sqrt(nv->hn2);
>   	^
>
> 1 error detected in the compilation of "rhd_ogl.c".
> *** Error code 2 (bu21)
>
> So I wonder why compilaton hasn't just stopped there in the first
> place???

The compilation continued because of the -k option, as mentioned  
above.  This is a bug introduced some years ago no doubt in one of  
Georg Mischler's code clean-ups.  Almost no one uses -DSTEREO, which  
is why it wasn't noticed before.  Just add a "double d;" declaration  
at the top of the routine and it should be OK.  Let me know if you  
run across anything else -- I've checked in a fix for the next release.

> 4. Although I've quite rarely seen a package which produces almost
> no warnings [Radiance is a very satisfactory exception - applause
> to you!!!],

Actually, you have Georg to thank for that.  I used to just ignore  
warnings, which accumulated over the years as C compilers got more  
and more finicky.   Schorsch went in and fixed most  of them.

> I do get a whole bunch of them when
>
> In directory px...
>         cd ../libtiff ; make install
>
> While you seem to use tiff-3.7.3 in Radiance 3.7.2, I've gotten
> most of these warnings also when I compiled the stand-alone tiff-3.8.2
> before - so, I can live with them [and I don't blame you at all
> there :-)]. On the other hand, though, I see
>
> Libtiff is now configured for mips-sgi-irix6.5
>
>   Installation directory:             /usr/local
>
> although libtiff is indeed later installed in src/lib as wanted...

Like I said, I don't understand libtiff compilation, and I just  
struggle to get it to do anything reasonable at all.

> 5. BTW, upon installation of Radiance 3.7.2, I get a directory
>
> <...>/test/test data/
>
> [note the blank in the dir name], and I can't access files in there  
> at all:
>
> IRIS 121 $ cd /disk03/mephisto/source/radiance_3.7.2/test/test data
> ksh: /disk03/mephisto/source/radiance_3.7.2/test/test:  not found

This is part of Georg's test suite, which is another thing I don't  
understand.  I think he has the spaces in there for a reason, but I  
don't recall what it was.

> OK, I'd run <makeall clean> - this time I got no error (!) with
>
> In directory px...
> 	rm -f [...]
> 	cd tiff; make distclean
>
> [although .o/.lo are not cleaned out in tiff/libtiff at all - I  
> deleted
> them
> manually], but I got a new error:
>
> Making distclean in man
> make: file `Makefile' line 292: Syntax error
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
>
> which I didn't have when compiling the stand-alone tiff-3.8.2.

Libtiff again.  Dunno.   Dunno.   Dunno.

> Anyway, prompted by 3) above, in <...>/src//hd/rhd_ogl.c, I added
>
> 326a327
>>         double d;
> [guessed from similiar usages of d in the same .c], and this error  
> went
> upon a fresh <makeall install>.

Yeah, that's the right thing to do -- didn't read this far before my  
response.

> However, as my original ximage problem was still there, I installed
> 3.7.2 also on my SGI INDIGO2 [IRIX 6.5.22/MipsPro 7.4.2/GR2] and
> afterwards the 3.7.2 ximage worked on it fine! So, I copied the
> 3.7.2 ximage as generated on the INDIGO2 to the FUEL - but I got
> only the original problem again. Then I copied the 3.7.2 image as
> generated on the FUEL to the INDIGO2 but understandibly it didn't
> run there at all:
>
> ksh: ximage: Program not supported by architecture
>
> So, my conclusions are:
>
> 1. There is something wrong on my FUEL, or
>
> 2. Radiance 3.7.2 doesn't work properly anymore on the FUEL [to  
> repeat:
>    ximage after recompilation of 3.1.11 on the FUEL works quite  
> well there]...

I wish I could follow what you just said.  What do you get if you cd  
to ray/src/px and just run "rmake ximage" there?

-Greg

From gregoryjward at gmail.com  Tue May 23 15:24:52 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue May 23 15:24:38 2006
Subject: [Radiance-general] Rtcontrib with ies2rad
In-Reply-To: <5AE9E82331596E4C9F1A1B602407637D01A5FFFA@ldcexc01.global.arup.com>
References: <5AE9E82331596E4C9F1A1B602407637D01A5FFFA@ldcexc01.global.arup.com>
Message-ID: <2CD419F1-BCE9-4DCA-A018-80D70A6AC9CA@gmail.com>

Hi  Andrew,

You aren't really doing anything wrong, but the problem is that  
rtcontrib reports the contribution *coefficients*, which is not the  
same thing as the contributions.  To get contributions, you need to  
download and compile the latest HEAD release, and use the new -V  
option to rtcontrib.  Then, you should get the results you expect.   
This is a subtle point that I actually missed in the design of the  
program, which is why the option was only added more recently.  Here  
is the description from the new man page:

>        By setting the boolean -V option, you may instruct rtcontrib  
> to  report
>        the  contribution  from  each material rather than the ray  
> coefficient.
>        This is particularly useful for light sources with   
> directional  output
>        distributions,  whose  value  would  otherwise  be lost in  
> the shuffle.
>        With the default -V- setting, the output of rtcontrib is a   
> coefficient
>        that must be multiplied by the radiance of each material to  
> arrive at a
>        final contribution.  This is more  convenient  for   
> computing  daylight
>        coefficeints,  or  cases where the actual radiance is not  
> desired.  Use
>        the -V+ setting when you wish  to  simply  sum  together   
> contributions
>        (with  possible  adjustment  factors) to obtain a final  
> radiance value.
>        Combined with  the  -i  or  -I  option,  irradiance   
> contributions  are
>        reported  by  -V+ rather than radiance, and -V- coefficients  
> contain an
>        additonal factor of PI.

Hope this helps.
-Greg

-----------------
> From: "Andrew McNeil" <Andrew.McNeil@arup.com>
> Date: May 23, 2006 5:44:59 AM PDT
> Hi everyone,
>
> I?ve finally gotten around to using rtcontrib and am having a  
> little difficulty.  I have 5 rows of luminaires and am trying to  
> calculate the illuminance contribution from each row of luminaires  
> to a grid point.  To test my model, I am first calculating only the  
> direct component from the luminaires to the points.
>
> The command I?m using is as follows:
>
> rtcontrib ?I+ -ab 0 ?o out.dat ?m y_down1_light ?m y_down2_light ?  
> model.oct < grid.pts
>
> I?ve pasted the luminaire file for the first row of luminaires at  
> the end of this email for reference.
>
> I expected that the sum of the rtcontrib output values would be the  
> same as he output from a straight rtrace calculation.  What I got  
> when I summed the rtcontrib output was 3% of the rtrace calculation  
> ( 18 vs 530 ).  After some experimentation, I found that I get the  
> same value (18) with rtrace if I remove the brightdata modifier  
> from the light primitive (replacing ?y_down1_dist? with ?void? in  
> the luminaire file).  So I figured I must have been using the wrong  
> modifier in my rtcontrib command.  But, when I tried other  
> modifiers (y_down1_dist and y_down1.d) rtcontrib returned zeros.
>
> So to finally get to the point, what is the correct modifier to use  
> in rtcontrib to get the illuminance contributions WITH the  
> brightdata photometry?  Or maybe there is something else I?m doing  
> wrong?
>
> Cheers,
>
> Andrew
>

From Andrew.McNeil at arup.com  Tue May 23 16:33:57 2006
From: Andrew.McNeil at arup.com (Andrew McNeil)
Date: Tue May 23 16:34:04 2006
Subject: [Radiance-general] Rtcontrib with ies2rad
Message-ID: <5AE9E82331596E4C9F1A1B602407637D01A60113@ldcexc01.global.arup.com>

Yay! It works, Thanks!  I should have known to go straight for the
Head...

I'm surprised at how easy it is to use rtcontrib.  I've been avoiding it
for almost year because I assumed it was complex, but not so!  Kudos
Greg.



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Gregory J. Ward
Sent: 23 May 2006 14:25
To: Radiance general discussion
Subject: Re: [Radiance-general] Rtcontrib with ies2rad

Hi  Andrew,

You aren't really doing anything wrong, but the problem is that  
rtcontrib reports the contribution *coefficients*, which is not the  
same thing as the contributions.  To get contributions, you need to  
download and compile the latest HEAD release, and use the new -V  
option to rtcontrib.  Then, you should get the results you expect.   
This is a subtle point that I actually missed in the design of the  
program, which is why the option was only added more recently.  Here  
is the description from the new man page:

>        By setting the boolean -V option, you may instruct rtcontrib  
> to  report
>        the  contribution  from  each material rather than the ray  
> coefficient.
>        This is particularly useful for light sources with   
> directional  output
>        distributions,  whose  value  would  otherwise  be lost in  
> the shuffle.
>        With the default -V- setting, the output of rtcontrib is a   
> coefficient
>        that must be multiplied by the radiance of each material to  
> arrive at a
>        final contribution.  This is more  convenient  for   
> computing  daylight
>        coefficeints,  or  cases where the actual radiance is not  
> desired.  Use
>        the -V+ setting when you wish  to  simply  sum  together   
> contributions
>        (with  possible  adjustment  factors) to obtain a final  
> radiance value.
>        Combined with  the  -i  or  -I  option,  irradiance   
> contributions  are
>        reported  by  -V+ rather than radiance, and -V- coefficients  
> contain an
>        additonal factor of PI.

Hope this helps.
-Greg

-----------------
> From: "Andrew McNeil" <Andrew.McNeil@arup.com>
> Date: May 23, 2006 5:44:59 AM PDT
> Hi everyone,
>
> I've finally gotten around to using rtcontrib and am having a  
> little difficulty.  I have 5 rows of luminaires and am trying to  
> calculate the illuminance contribution from each row of luminaires  
> to a grid point.  To test my model, I am first calculating only the  
> direct component from the luminaires to the points.
>
> The command I'm using is as follows:
>
> rtcontrib -I+ -ab 0 -o out.dat -m y_down1_light -m y_down2_light ...  
> model.oct < grid.pts
>
> I've pasted the luminaire file for the first row of luminaires at  
> the end of this email for reference.
>
> I expected that the sum of the rtcontrib output values would be the  
> same as he output from a straight rtrace calculation.  What I got  
> when I summed the rtcontrib output was 3% of the rtrace calculation  
> ( 18 vs 530 ).  After some experimentation, I found that I get the  
> same value (18) with rtrace if I remove the brightdata modifier  
> from the light primitive (replacing "y_down1_dist" with "void" in  
> the luminaire file).  So I figured I must have been using the wrong  
> modifier in my rtcontrib command.  But, when I tried other  
> modifiers (y_down1_dist and y_down1.d) rtcontrib returned zeros.
>
> So to finally get to the point, what is the correct modifier to use  
> in rtcontrib to get the illuminance contributions WITH the  
> brightdata photometry?  Or maybe there is something else I'm doing  
> wrong?
>
> Cheers,
>
> Andrew
>

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From oitzinger at opec.org  Wed May 24 12:12:55 2006
From: oitzinger at opec.org (Itzinger, Oskar)
Date: Wed May 24 12:13:16 2006
Subject: [Radiance-general] [Help] Problem with ximage in 7.3.2
Message-ID: <2AE27CD8C00C3540AF5DCEBE6C3D020B017209A4@opecexch1.opec.org>

Greg,

sorry if I sounded too complicated. What I meant is simply:

I have two machines,

A. SGI INDIGO2, IRIX 6.5.22, MipsPro 7.4.2 compiler, "Extreme"
   graphics

B. SGI FUEL, IRIX 6.5.28, MipsPro 7.4.4 compiler, "VPro12"
   graphics

Now, after re-compilation on A and B respectively, I have on

A. Radiance 3.1.11: ximage displays pics *ok" color-wise
   Radiance 3.7.2: ximage displays pics *ok* color-wise

B: Radiance 3.1.11: ximage displays pics *ok* color-wise
   Radiance 3.7.2: ximage displays pics *wrongly* color-wise

Perhaps something in the way X visuals are selected changed from
3.1 to 3.7 [my default on B is an 8-bit PseudoColor visual - but
I could alter that to something else if necessary].

Maybe it helps if I recompile 3.7.2 on B with -DDEBUG to see 
which visuals are recognized and which one is finally selected in 
x11image.c?

BTW, running "rmake ximage" in ray/sr/px didn't change any...

Thanks.
/oskar



> Date: Tue, 23 May 2006 06:20:20 -0700
> From: "Gregory J. Ward" <gregoryjward@gmail.com>
> Subject: Re: [Radiance-general] [Help] Problem with ximage in 7.3.2
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <9322905F-5313-4758-B01B-444C7EAAE218@gmail.com>
> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
> 
> 
> > However, as my original ximage problem was still there
> > [skip]
> 
> I wish I could follow what you just said.  What do you get if you cd  
> to ray/src/px and just run "rmake ximage" there?
> 


DISCLAIMER

This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to which they are addressed and may be legally privileged and/or confidential. Any unauthorized use, disclosure or copying of this e-mail or any of its attachment(s) by unintended recipient may be unlawful and is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by e-mail and permanently delete the original e-mail and attachment(s) from your computer system.
 
Any opinions contained in this message are those of the author and are not given or endorsed by OPEC, unless otherwise clearly indicated in the message, and the authority of the author to so bind OPEC is duly verified. OPEC does not warrant or assume any legal liability or responsibility for the accuracy, completeness, or usefulness of any information contained in the e-mail content transmitted over the Internet.

Thank you for your cooperation.



From chris.foster at npl.co.uk  Wed May 24 12:23:59 2006
From: chris.foster at npl.co.uk (Chris Foster)
Date: Wed May 24 12:24:06 2006
Subject: [Radiance-general] rendering with radiance
Message-ID: <2C2E01334A940D4792B3E115F95B722631A569@exchsvr1.npl.ad.local>

hi everyone

we have ordered gregs book (rendering with radiance) from booksurge.com but have been warned that it takes six weeks to arrive! four weeks to print and two to ship. i only have until september the 30th to do my whole dissertation so to not have the book for that long is gonna cause me alot of hurt.
does anyone know anywhere or anyhow to get it sooner? i need it yesterday really.

thanks chris

-------------------------------------------------------------------
This e-mail and any attachments may contain confidential and/or
privileged material; it is for the intended addressee(s) only.
If you are not a named addressee, you must not use, retain or
disclose such information.

NPL Management Ltd cannot guarantee that the e-mail or any
attachments are free from viruses.

NPL Management Ltd. Registered in England and Wales. No: 2937881
Registered Office: Serco House, 16 Bartley Wood Business Park,
                   Hook, Hampshire, United Kingdom  RG27 9UY
-------------------------------------------------------------------

From Francesco.Anselmo at arup.com  Wed May 24 12:44:56 2006
From: Francesco.Anselmo at arup.com (Francesco Anselmo)
Date: Wed May 24 12:45:16 2006
Subject: [Radiance-general] rendering with radiance
Message-ID: <2C0020B9EB71CE4281B292F0E16A6DDE7FCA2A@ldcexc02.global.arup.com>

Hi Chris,

I live in UK and I remember I received it about 10 days after the order
...

And if you've not yet received it and can come to London, you can borrow
my copy in the meanwhile ...

Cheers,

Francesco

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Chris
Foster
Sent: 24 May 2006 11:24
To: Radiance general discussion
Subject: [Radiance-general] rendering with radiance

hi everyone

we have ordered gregs book (rendering with radiance) from booksurge.com
but have been warned that it takes six weeks to arrive! four weeks to
print and two to ship. i only have until september the 30th to do my
whole dissertation so to not have the book for that long is gonna cause
me alot of hurt.
does anyone know anywhere or anyhow to get it sooner? i need it
yesterday really.

thanks chris
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From a.i.ruppertsberg at Bradford.ac.uk  Wed May 24 12:50:29 2006
From: a.i.ruppertsberg at Bradford.ac.uk (Alexa I. Ruppertsberg)
Date: Wed May 24 12:57:35 2006
Subject: [Radiance-general] rendering with radiance
In-Reply-To: <2C2E01334A940D4792B3E115F95B722631A569@exchsvr1.npl.ad.local>
Message-ID: <44743A75.3050209@bradford.ac.uk>

HI chris,

maybe you request it as an interlibrary loan item? They'll trace down 
the closest copy to you and send it to you for some weeks.

cheers,
alexa


Chris Foster wrote:
> hi everyone
> 
> we have ordered gregs book (rendering with radiance) from booksurge.com but have been warned that it takes six weeks to arrive! four weeks to print and two to ship. i only have until september the 30th to do my whole dissertation so to not have the book for that long is gonna cause me alot of hurt.
> does anyone know anywhere or anyhow to get it sooner? i need it yesterday really.
> 
> thanks chris
> 
> -------------------------------------------------------------------
> This e-mail and any attachments may contain confidential and/or
> privileged material; it is for the intended addressee(s) only.
> If you are not a named addressee, you must not use, retain or
> disclose such information.
> 
> NPL Management Ltd cannot guarantee that the e-mail or any
> attachments are free from viruses.
> 
> NPL Management Ltd. Registered in England and Wales. No: 2937881
> Registered Office: Serco House, 16 Bartley Wood Business Park,
>                    Hook, Hampshire, United Kingdom  RG27 9UY
> -------------------------------------------------------------------
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Dr. Alexa I. Ruppertsberg
Department of Optometry
University of Bradford
Bradford
BD7 1DP
UK

Phone: 	++44 (0) 1274 - 23 53 78
email: 	a.i.ruppertsberg@bradford.ac.uk
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From gregoryjward at gmail.com  Wed May 24 18:14:32 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed May 24 18:14:50 2006
Subject: [Radiance-general] [Help] Problem with ximage in 7.3.2
In-Reply-To: <2AE27CD8C00C3540AF5DCEBE6C3D020B017209A4@opecexch1.opec.org>
References: <2AE27CD8C00C3540AF5DCEBE6C3D020B017209A4@opecexch1.opec.org>
Message-ID: <AE4B4125-390F-495F-890E-E31ACC1F82E6@gmail.com>

Hi Oskar,

I'm moving this to the Radiance development list, since it is a code  
issue that's of limited use to others.  Please respond there rather  
than replying to this.  (You will need to subscribe first if you  
aren't already on that list at <http://www.radiance-online.org/ 
mailman/listinfo/radiance-dev>.)

Definitely run both versions of ximage on both machines after  
compiling with -DDEBUG, because the visual selection code changed  
considerably between 3.1.11 and 3.7.2.  It seems the color table code  
also changed, though, and the problem might be there.

-Greg

> From: "Itzinger, Oskar" <oitzinger@opec.org>
> Date: May 24, 2006 3:12:55 AM PDT
>
> Greg,
>
> sorry if I sounded too complicated. What I meant is simply:
>
> I have two machines,
>
> A. SGI INDIGO2, IRIX 6.5.22, MipsPro 7.4.2 compiler, "Extreme"
>    graphics
>
> B. SGI FUEL, IRIX 6.5.28, MipsPro 7.4.4 compiler, "VPro12"
>    graphics
>
> Now, after re-compilation on A and B respectively, I have on
>
> A. Radiance 3.1.11: ximage displays pics *ok" color-wise
>    Radiance 3.7.2: ximage displays pics *ok* color-wise
>
> B: Radiance 3.1.11: ximage displays pics *ok* color-wise
>    Radiance 3.7.2: ximage displays pics *wrongly* color-wise
>
> Perhaps something in the way X visuals are selected changed from
> 3.1 to 3.7 [my default on B is an 8-bit PseudoColor visual - but
> I could alter that to something else if necessary].
>
> Maybe it helps if I recompile 3.7.2 on B with -DDEBUG to see
> which visuals are recognized and which one is finally selected in
> x11image.c?
>
> BTW, running "rmake ximage" in ray/sr/px didn't change any...
>
> Thanks.
> /oskar

From njlander at yahoo.com.au  Thu May 25 09:13:50 2006
From: njlander at yahoo.com.au (Nicholas Lander)
Date: Thu May 25 09:14:47 2006
Subject: [Radiance-general] another water question
Message-ID: <20060525071350.6631.qmail@web54614.mail.yahoo.com>

Hi All,

 

I?ve looked through the archives regarding modelling
water, but the posts seem to be concerned with making
something that looks like water, without being
physically accurate.

What I want to do is test for reflections off a
training pool ? the coach needs to see a swimmer?s
action in the pool and early morning sunlight may
cause problems. If I use glass with a bumpy function,
it looks really cool but I?m not sure if the amount of
reflection is right. I tried a dielectric, but the
?water? becomes a mirror.

Is there a material to use that gives properties
closer to water than glass? If so, I?d love to hear
about it.

Cheers

Nick L


Send instant messages to your online friends http://uk.messenger.yahoo.com 

From jm at dmu.ac.uk  Thu May 25 16:41:08 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Thu May 25 16:41:22 2006
Subject: [Radiance-general] another water question
Message-ID: <56650DBB-E149-4742-9DE6-25E5414D5F92@dmu.ac.uk>

Nick,

> Is there a material to use that gives properties
> closer to water than glass? If so, I?d love to hear
> about it.

If, as seems likely, it is just the specular component of reflection  
that's required, and if that is governed more by the refractive index  
of a transparent material than anything else, then I'd suggest that  
you try using glass again but set the refractive index to that of  
water, i.e. 1.33.  You have to set the (rarely-used) fourth argument  
for glass:

             mod glass id
             0
             0
             4 rtn gtn btn ref_indx

This is very much a guess -- suggestions from someone who actually  
knows what he/she is on about welcome.

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From gregoryjward at gmail.com  Thu May 25 17:18:25 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu May 25 17:18:37 2006
Subject: [Radiance-general] another water question
In-Reply-To: <20060525071350.6631.qmail@web54614.mail.yahoo.com>
References: <20060525071350.6631.qmail@web54614.mail.yahoo.com>
Message-ID: <C1706414-8780-4652-8F8A-A10DC267E0D2@gmail.com>

Hi Nick,

Technically, the correct thing to do is to model the water's surface  
as a dielectric with an index of refraction corresponding to water --  
around 1.3.  The problem, as you noticed, is that you cannot see  
beneath such a surface, and this is due to the inability of the  
source calculation in Radiance to find the light source after  
refraction.

One cheap "solution," so to speak, is to use a BRTDfunc type to get  
the surface reflection and transmission right, without actually  
computing refractions.  The objects under the water will not be  
properly distorted, but at least they won't be black(!)  The  
following should work:

	void BRTDfunc water_mat
	10	refl	refl	refl
		tran	tran	tran
		0	0	0
		fresnel.cal
	0
	10
		0	0	0
		0	0	0
		0	0	0
		1.3

And the file "fresnel.cal" contains:

{	Fresnel equation for reflection and transmission	}

inside = -Rdot;	{ > 0 means ray coming from inside }
nratio = if(inside, arg(10), 1/arg(10));

cos1 = if(inside, -Rdot, Rdot);
cos2 = Sqrt(1 - sq(nratio)*(1 - sq(cos1)));
refl = if(FTINY-cos2, 1, (sq((cos1 - nratio*cos2)/(cos1 +  
nratio*cos2)) +
		sq((1/cos1 - nratio/cos2)/(1/cos1 + nratio/cos2)))/2);
trans = 1 - refl;

----------
The problem with John's suggestion is that you will end up with twice  
as much reflection as you ought, because glass simulates reflection  
off both the front and back surfaces, whereas you have just one  
surface.  You could lower the index of refraction given to match the  
reflection of the water's surface at normal incidence, but the  
computed reflection would still be somewhat off as a function of  
angle.  The above formula gives you the correct reflection amount  
(even from underwater).  It just doesn't do refraction.

You probably want to add a time-dependent wave texture to your  
water's surface as well, since most of what makes a person difficult  
to see while underwater is the reflections off the surface, which are  
constantly in motion.  I recommend doing an animation for that reason.

-Greg

> From: Nicholas Lander <njlander@yahoo.com.au>
> Date: May 25, 2006 12:13:50 AM PDT
>
> Hi All,
>
> I?ve looked through the archives regarding modelling
> water, but the posts seem to be concerned with making
> something that looks like water, without being
> physically accurate.
>
> What I want to do is test for reflections off a
> training pool ? the coach needs to see a swimmer?s
> action in the pool and early morning sunlight may
> cause problems. If I use glass with a bumpy function,
> it looks really cool but I?m not sure if the amount of
> reflection is right. I tried a dielectric, but the
> ?water? becomes a mirror.
>
> Is there a material to use that gives properties
> closer to water than glass? If so, I?d love to hear
> about it.
>
> Cheers
>
> Nick L

From rpg at rumblestrip.org  Thu May 25 17:42:36 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu May 25 17:42:52 2006
Subject: [Radiance-general] another water question
In-Reply-To: <C1706414-8780-4652-8F8A-A10DC267E0D2@gmail.com>
References: <20060525071350.6631.qmail@web54614.mail.yahoo.com>
	<C1706414-8780-4652-8F8A-A10DC267E0D2@gmail.com>
Message-ID: <4475D06C.2050701@rumblestrip.org>

Gregory J. Ward wrote:

> You probably want to add a time-dependent wave texture to your  
> water's surface as well, since most of what makes a person difficult  
> to see while underwater is the reflections off the surface, which are  
> constantly in motion.  I recommend doing an animation for that reason.

Thanks Greg for the excellent tips on modeling water, but I'm afraid you 
have opened up another can of worms with the last paragraph, above.  You 
mention a time-dependent wave texture. (!)  This sounds rather like some 
sort of variable texture that modulates the surface normal based on a 
time input.  One could script up a run of images and for each frame that 
water material would be modified by a random deformation that is keyed 
to timestep?  This sounds like an interesting application, and I was 
wondering if you had a framework for such a material description.  cal 
files are really something I'm trying to understand more, and each 
example helps a little bit more. 

- Rob

From gregoryjward at gmail.com  Thu May 25 18:05:51 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu May 25 18:06:00 2006
Subject: [Radiance-general] another water question
In-Reply-To: <4475D06C.2050701@rumblestrip.org>
References: <20060525071350.6631.qmail@web54614.mail.yahoo.com>
	<C1706414-8780-4652-8F8A-A10DC267E0D2@gmail.com>
	<4475D06C.2050701@rumblestrip.org>
Message-ID: <19C1B2EB-03AE-4426-86B1-CFB3F32443C8@gmail.com>

Hi Rob,

I can't say I've done it before, but the usual way to animate things  
in Radiance is to generate a different model at each time step.   
There's no reason you can't modify your material descriptions as you  
do this, changing real arguments on your texfunc primitives, which  
are then interpreted by the.cal file to modify the origin and other  
parameters associated with a water texture.

You could also modify the .cal file at each step, but I advise  
against that approach, as it won't work reliably with ranimate unless  
you gave the .cal file a unique name for each time step, at which  
point you will have to modify your material primitive, anyway.

Sorry I don't have any ready examples for you.

-Greg

> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Date: May 25, 2006 8:42:36 AM PDT
>
> Gregory J. Ward wrote:
>
>> You probably want to add a time-dependent wave texture to your   
>> water's surface as well, since most of what makes a person  
>> difficult  to see while underwater is the reflections off the  
>> surface, which are  constantly in motion.  I recommend doing an  
>> animation for that reason.
>
> Thanks Greg for the excellent tips on modeling water, but I'm  
> afraid you have opened up another can of worms with the last  
> paragraph, above.  You mention a time-dependent wave texture. (!)   
> This sounds rather like some sort of variable texture that  
> modulates the surface normal based on a time input.  One could  
> script up a run of images and for each frame that water material  
> would be modified by a random deformation that is keyed to  
> timestep?  This sounds like an interesting application, and I was  
> wondering if you had a framework for such a material description.   
> cal files are really something I'm trying to understand more, and  
> each example helps a little bit more.
> - Rob

From rpg at rumblestrip.org  Thu May 25 18:11:28 2006
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu May 25 18:11:39 2006
Subject: [Radiance-general] another water question
In-Reply-To: <19C1B2EB-03AE-4426-86B1-CFB3F32443C8@gmail.com>
References: <20060525071350.6631.qmail@web54614.mail.yahoo.com>	<C1706414-8780-4652-8F8A-A10DC267E0D2@gmail.com>	<4475D06C.2050701@rumblestrip.org>
	<19C1B2EB-03AE-4426-86B1-CFB3F32443C8@gmail.com>
Message-ID: <4475D730.5080601@rumblestrip.org>

Gregory J. Ward wrote:

> Hi Rob,
>
> I can't say I've done it before, but the usual way to animate things  
> in Radiance is to generate a different model at each time step.   
> There's no reason you can't modify your material descriptions as you  
> do this, changing real arguments on your texfunc primitives, which  
> are then interpreted by the.cal file to modify the origin and other  
> parameters associated with a water texture.
>
> You could also modify the .cal file at each step, but I advise  
> against that approach, as it won't work reliably with ranimate unless  
> you gave the .cal file a unique name for each time step, at which  
> point you will have to modify your material primitive, anyway.
>
> Sorry I don't have any ready examples for you.

OK, that makes sense though.  That could be a fun project, sorta like 
the animated candle that we saw at the first Radiance Workshop. Hmmm...

From rob.fitzsimmons at Summit.Fiserv.com  Thu May 25 19:11:21 2006
From: rob.fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Thu May 25 19:11:33 2006
Subject: [Radiance-general] Art work surface
Message-ID: <B8DD8375FCE2C94B9F170D9277C1FA2B8C603F@corvallis>

Hello All,

We are remodeling our house to add an art studio, 
and I wanted to poll this list of experts.
What are recommended light levels and glare tolerances for creating artwork?

After a brief search, I'm guessing 400 lux?
I would be using both horizontal and vertical work surfaces

How about glare threshold?
In any given view, would it be 7 times the average luminance level?
"Findglare normally identifies glare sources as directions that are
brighter than 7 times the average luminance level."

I'm thinking of using skylights with a diffusion layer - as was posted
sometime back on this list

thanks in advance!

Rob F

From kthibault at biomechanicsinc.com  Thu May 25 19:36:43 2006
From: kthibault at biomechanicsinc.com (Kirk Thibault)
Date: Thu May 25 19:36:55 2006
Subject: [Radiance-general] another water question
In-Reply-To: <4475D730.5080601@rumblestrip.org>
References: <20060525071350.6631.qmail@web54614.mail.yahoo.com>	<C1706414-8780-4652-8F8A-A10DC267E0D2@gmail.com>	<4475D06C.2050701@rumblestrip.org>
	<19C1B2EB-03AE-4426-86B1-CFB3F32443C8@gmail.com>
	<4475D730.5080601@rumblestrip.org>
Message-ID: <79949B3F-B6AB-44BC-9F97-224DC6FF7CC3@biomechanicsinc.com>

If you go for frame-by-frame animation, Blender has simple fluid  
behavior built into its 2.41 release.  You can specify a mesh to be  
fluid (for example a cube of fluid) and bound by another mesh (say a  
box containing the water).  You can specify sources and sinks and  
objects with which the fluid should interact.  set up the scene you  
want and Blender will generate a new mesh model for each frame of the  
animation, which you can export as obj and then obj2mesh or obj2rad  
each model (each frame).  This goes for all of the objects/meshes in  
your scene, so you could do the modeling and simulation in Blender  
and then render in Radiance.  A simple script could insert the water  
material modifier into each model, etc.
------------------------------

Kirk L. Thibault, Ph.D.
kthibault@biomechanicsinc.com

p.  215.271.7720
f.   215.271.7740
c.  267.918.6908

skype. kirkthibault




On May 25, 2006, at 12:11 PM, Rob Guglielmetti wrote:

> Gregory J. Ward wrote:
>
>> Hi Rob,
>>
>> I can't say I've done it before, but the usual way to animate  
>> things  in Radiance is to generate a different model at each time  
>> step.   There's no reason you can't modify your material  
>> descriptions as you  do this, changing real arguments on your  
>> texfunc primitives, which  are then interpreted by the.cal file to  
>> modify the origin and other  parameters associated with a water  
>> texture.
>>
>> You could also modify the .cal file at each step, but I advise   
>> against that approach, as it won't work reliably with ranimate  
>> unless  you gave the .cal file a unique name for each time step,  
>> at which  point you will have to modify your material primitive,  
>> anyway.
>>
>> Sorry I don't have any ready examples for you.
>
> OK, that makes sense though.  That could be a fun project, sorta  
> like the animated candle that we saw at the first Radiance  
> Workshop. Hmmm...
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From shakespe at indiana.edu  Thu May 25 19:52:48 2006
From: shakespe at indiana.edu (Shakespeare, Robert A.)
Date: Thu May 25 19:52:56 2006
Subject: [Radiance-general] Art work surface
Message-ID: <A4519D6325064344990CAE2CE107B91334B535@iu-mssg-mbx103.ads.iu.edu>

What is the nature of the artwork?
For example, I would approach the illumination of each of these quite
differently: woodblock carving/print making area
thrown pottery
detailed watercolor
large expressive acrylic painting
jewelry making

-Rob Shakespeare


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Fitzsimmons, Rob
Sent: Thursday, May 25, 2006 12:11 PM
To: 'Radiance-general@radiance-online.org'
Subject: [Radiance-general] Art work surface

Hello All,

We are remodeling our house to add an art studio, 
and I wanted to poll this list of experts.
What are recommended light levels and glare tolerances for creating
artwork?

After a brief search, I'm guessing 400 lux?
I would be using both horizontal and vertical work surfaces

How about glare threshold?
In any given view, would it be 7 times the average luminance level?
"Findglare normally identifies glare sources as directions that are
brighter than 7 times the average luminance level."

I'm thinking of using skylights with a diffusion layer - as was posted
sometime back on this list

thanks in advance!

Rob F

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From rob.fitzsimmons at Summit.Fiserv.com  Thu May 25 20:38:13 2006
From: rob.fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Thu May 25 20:38:26 2006
Subject: [Radiance-general] Art work surface
Message-ID: <B8DD8375FCE2C94B9F170D9277C1FA2B8C6041@corvallis>

 Good question..
I will mainly be painting medium to large acrylic / oil

my wife may do fabric or mixed media scultpure.
Probably no  detailed jewlery

Thanks

-----Original Message-----
From: Shakespeare, Robert A.
To: Radiance general discussion
Sent: 5/25/2006 10:52 AM
Subject: RE: [Radiance-general] Art work surface

What is the nature of the artwork?
For example, I would approach the illumination of each of these quite
differently: woodblock carving/print making area
thrown pottery
detailed watercolor
large expressive acrylic painting
jewelry making

-Rob Shakespeare


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Fitzsimmons, Rob
Sent: Thursday, May 25, 2006 12:11 PM
To: 'Radiance-general@radiance-online.org'
Subject: [Radiance-general] Art work surface

Hello All,

We are remodeling our house to add an art studio, 
and I wanted to poll this list of experts.
What are recommended light levels and glare tolerances for creating
artwork?

After a brief search, I'm guessing 400 lux?
I would be using both horizontal and vertical work surfaces

How about glare threshold?
In any given view, would it be 7 times the average luminance level?
"Findglare normally identifies glare sources as directions that are
brighter than 7 times the average luminance level."

I'm thinking of using skylights with a diffusion layer - as was posted
sometime back on this list

thanks in advance!

Rob F

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From grobe at gmx.net  Thu May 25 23:11:06 2006
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu May 25 23:11:18 2006
Subject: [Radiance-general] Art work surface
In-Reply-To: <B8DD8375FCE2C94B9F170D9277C1FA2B8C6041@corvallis>
References: <B8DD8375FCE2C94B9F170D9277C1FA2B8C6041@corvallis>
Message-ID: <44761D6A.0@gmx.net>

> I will mainly be painting medium to large acrylic / oil
> 
> my wife may do fabric or mixed media scultpure.
> Probably no  detailed jewlery

Hi,

I think if you have around 500lx it will be fine. But for you the light
quality might become more important. E.g. glare would be not acceptable,
if you are painting, you would want a continous color and possibly light
level. I think that is why these good old atelier windows were directed
to north - big surface (diffuse-bright rooms), continous (non-direct)
light over the day. I am not sure about the sculptures, but I think for
working on them, the same applies (directional light will be nice to
present them, but while working could be irritating).


I wonder if all these great new materials would not be great for this
kind of project... just thinking about translucent insulation panels
(these blocks filled with small glass tubes), giving diffuse light
without the thermal drawback of the old atelier window idea...? I am
just telling that to you because I would be curious how you render the
design in Radiance... :-)

CU + have fun (you are an architect, too, aren't you?), Lars-
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3485 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20060526/0de33f1d/smime.bin
From T-Bleicher at bdp.co.uk  Fri May 26 10:13:23 2006
From: T-Bleicher at bdp.co.uk (Bleicher, Thomas)
Date: Fri May 26 10:13:41 2006
Subject: [Radiance-general] Art work surface
Message-ID: <FCCB55B3313F2341AB3C91810FE1166B013E50BA@ln-s3xch1.bdp.holdings.network>

Lars O. Grobe:

> I think that is 
> why these good old atelier windows were directed to north - 
> big surface (diffuse-bright rooms), continous (non-direct) 
> light over the day.

They were directed to north because they had to be huge and
you had to avoid direct sunlight. Northern light also varies
not much over the day. 

> I am not sure about the sculptures, but I 
> think for working on them, the same applies (directional 
> light will be nice to present them, but while working could 
> be irritating).

Only directional light would indeed be irritating but you
need a certain directional component to render the shape.
Again, use big windows (for the light level) and use them
in one side of the room (for the directional component).
If you can use windows, of couse. 

> I wonder if all these great new materials would not be great 
> for this kind of project... just thinking about translucent 
> insulation panels (these blocks filled with small glass 
> tubes), giving diffuse light without the thermal drawback of 
> the old atelier window idea...?

No! Don't use that stuff! We had an exhibition pavillion in
my university built with honeycomb insulation between two
glass profiles. The profiles alone might have worked well but
the building inspector insisted in an insulation of the wall.
The honeycombs diffuse the light so much that there is hardly
a directional component left. It looks odd and the sculptures
and architectural modells are shaded poorly even if the interior
is rather bright.


Thomas

***********************************************************************************
This e-mail, (and any attachments) is confidential and may be privileged.  It may be read, copied and used by the intended addressee only.  If you have received this in error please contact BDP immediately. 

If you have any queries, please contact the sender.
***********************************************************************************
Building Design Partnership
Registered in England No 2207415:
Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
***********************************************************************************

From jm at dmu.ac.uk  Fri May 26 11:01:20 2006
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri May 26 11:01:28 2006
Subject: [Radiance-general] Radiance 2006 Workshop - 26 May Update
Message-ID: <D9D16493-AE4D-4383-957E-3BA50E7E6973@dmu.ac.uk>

Fellow Radiance renderers, scientists, practitioners and enthusiasts  
(is that everybody?)

Here are some details and titles of presentations that will be given  
at the Radiance 2006 Scientific Workshop
13-14 (Wed-Thu) September, Queens Building, De Montfort University,  
Leicester, UK
http://www.iesd.dmu.ac.uk/~jm/radiance2006work.html

------------------------------------------------------------------------ 
--------------------------------------------

Rtcontrib Tutorial
Greg Ward, Anyhere Software

The rtcontrib program introduced in Radiance 3.7 offers a general  
facility for tracking ray contributions and partial sums, by calling  
one or more rtrace processes with the -oTW or -oTV option.  The  
intended application for rtcontrib is daylight coefficient  
calculations, but it may also be applied to BRDF simulation and  
optical systems analysis.  After going over the basic idea behind  
rtcontrib design and operation, we will give a few related examples  
of daylight coefficient usage.  We will then demonstrate how one can  
compute the light distribution from a badly designed light pipe over  
the course of a year using a pair of coupled rtcontrib runs, using  
rcalc and pcomb to render an image for each time-step.  By reversing  
the usual ray flow direction, starting from the sky and working  
towards the skylight opening, we can relate the output distribution  
of the skylight to the sun and sky coefficients, effectively doing  
many photon map calculations at once.  This is just to get the  
audience thinking about the possibilities.  Plenty of time will be  
allowed for questions, suggestions, and discussion of user  
experiences and problems with the new program.

Daylight coefficients: theory and implementation
John Mardaljevic, IESD
This presentation serves as an introduction to Greg's rtcontrib  
tutorial.

------------------------------------------------------------------------ 
--------------------------------------------

Night Lighting Simulation: Design Evaluation Using Radiance's  
Rtcontrib and Mksource Programs
Jack de Valpine,  Visarc Incorporated

This talk presents a lighting simulation study for the exterior  
lighting of a 60 story office tower set in an urban context. The  
purpose of the study was to assist the design team in evaluating and  
presenting the proposed lighting design to the owner. Due to the  
complexity of the design and variable design options, Radiance's  
rtcontrib was used to provide the greatest flexibility and control  
over simulation results. In order to better approximate lighting from  
the local surrounding urban environment and sky condition, HDRI  
photography was employed to capture the local environment and then  
used to produce an image based lighting environment with Radiance's  
mksource. In addition to examples from the project, overall workflow  
and resource requirements will be discussed in contrast to more  
typical workflow for Radiance simulations.

------------------------------------------------------------------------ 
--------------------------------------------

The following are titles only -- details to follow:

"WebHDR", Axel Jacobs, London Met.

?Calculation of circadian illuminance distribution with Radiance",  
Krzysztof Wandachowicz, Poznan University of Technology

"MOAR: The Mother of All Renderers or Radiance in Real-Time", Alan  
Chalmers and Kurt Debattista, Bristol University

"Comparing Real and Virtual Scenes", Timo Kunkel, Bristol University

"Radiance on Mobile Devices", Matt Aranha, Bristol University

"Accelerating Radiance using Novel Hardware", David Coulthurst,  
Bristol University

"New Photosphere features, e.g.  panoramic HDR stitcher", Greg Ward,  
Anyhere Software

"Novel Applications of HDR Imaging", John Mardaljevic, IESD

More have been promised -- please send as soon as you can.

Pricing will be finalised soon.  We will endeavour to keep costs as  
low as possible.  They will be in the *region* of:

?180 Attending only
?150 Presenting
?120 Registered students
?low A special discretionary rate depending on individual  
circumstances, e.g. un-waged (by arrangement)

Regards,

-John Mardaljevic

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From grobe at gmx.net  Fri May 26 11:05:24 2006
From: grobe at gmx.net (Lars Grobe)
Date: Fri May 26 11:05:27 2006
Subject: [Radiance-general] Art work surface
In-Reply-To: <FCCB55B3313F2341AB3C91810FE1166B013E50BA@ln-s3xch1.bdp.holdings.network>
References: <FCCB55B3313F2341AB3C91810FE1166B013E50BA@ln-s3xch1.bdp.holdings.network>
Message-ID: <20060526090524.97450@gmx.net>

Hi Thomas!

> They were directed to north because they had to be huge and
> you had to avoid direct sunlight. Northern light also varies
> not much over the day.

Ok... that is what I wanted to describe as continous ;-)))

> Only directional light would indeed be irritating but you
> need a certain directional component to render the shape.

Well, if you have no clear window at all you also might get mad.

> No! Don't use that stuff! We had an exhibition pavillion in
> my university built with honeycomb insulation between two
> glass profiles. The profiles alone might have worked well but
> the building inspector insisted in an insulation of the wall.
> The honeycombs diffuse the light so much that there is hardly
> a directional component left. It looks odd and the sculptures
> and architectural modells are shaded poorly even if the interior
> is rather bright.

That sounds interesting, as I actually do not have experienced such a room. Were the panels used on all sides or to one direction only? My idea was to have a big diffuse-translucent wall (only) to north. Also Ithink that for an exhibition pavillion, especially for architectural models, a diffuse environment is a terrific idea. All those I know use spots to take fotos of their models and to show them (of course with a diffuse environment around).

But I really wonder on the impact of these panels on color, did you experience any noticable effect? It would also interesting to know what happens after some years, at least with those based on plastics (I would not worry about the glass-based products, but I am also not sure here). Christopher has done validation work on such panels, maybe he has more to say about it.


> 
> Thomas
> 
> ***********************************************************************************
> This e-mail, (and any attachments) is confidential and may be privileged. 
> It may be read, copied and used by the intended addressee only.  If you
> have received this in error please contact BDP immediately. 
> 
> If you have any queries, please contact the sender.
> ***********************************************************************************
> Building Design Partnership
> Registered in England No 2207415:
> Registered Office: Building Design Partnership Ltd, Sunlight House, PO Box
> 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
> ***********************************************************************************
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

From grobe at gmx.net  Fri May 26 13:03:05 2006
From: grobe at gmx.net (Lars Grobe)
Date: Fri May 26 13:03:08 2006
Subject: [Radiance-general] another water question
In-Reply-To: <79949B3F-B6AB-44BC-9F97-224DC6FF7CC3@biomechanicsinc.com>
References: <20060525071350.6631.qmail@web54614.mail.yahoo.com>
	<C1706414-8780-4652-8F8A-A10DC267E0D2@gmail.com>
	<4475D06C.2050701@rumblestrip.org>
	<19C1B2EB-03AE-4426-86B1-CFB3F32443C8@gmail.com>
	<4475D730.5080601@rumblestrip.org>
	<79949B3F-B6AB-44BC-9F97-224DC6FF7CC3@biomechanicsinc.com>
Message-ID: <20060526110305.97470@gmx.net>

Hi,

one idea... as this will require generating the octree for every frame, I wonder if it helps to make a frozen octree of the whole scene except the water, scene.oct. Than exporting only the water objects for each frame, lets call them water[FRAME].rtm. Now if you write a script that creates scenes with only two objects, one being an instance of scene.oct, the second a mesh object water[FRAME].rtm. That way you will not have to run octree each time on the whole scene, right?

In fact, I wanted to propose to use the -i option of oconv so that you can type oconv -i scene.oct water[FRAME].rad > scene[FRAME].oct. But who uses obj2rad any more... ;-)

What do you think folks, I cannot try that at the moment to find if the gain from less work in oconv is worth the overhead. Also instance and mesh would overlap completely.

CU Lars.

From gregoryjward at gmail.com  Fri May 26 16:14:17 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri May 26 16:14:27 2006
Subject: [Radiance-general] another water question
In-Reply-To: <20060526110305.97470@gmx.net>
References: <20060525071350.6631.qmail@web54614.mail.yahoo.com>
	<C1706414-8780-4652-8F8A-A10DC267E0D2@gmail.com>
	<4475D06C.2050701@rumblestrip.org>
	<19C1B2EB-03AE-4426-86B1-CFB3F32443C8@gmail.com>
	<4475D730.5080601@rumblestrip.org>
	<79949B3F-B6AB-44BC-9F97-224DC6FF7CC3@biomechanicsinc.com>
	<20060526110305.97470@gmx.net>
Message-ID: <D8DD8BA3-A989-4147-A7AC-F9FD5D279048@gmail.com>

Hi Lars,

The way I'd recommend creating such a scene is to regenerate the  
water mesh, then add the little bit of geometry containing the "mesh"  
primitive that references to an existing octree, a la:

	obj2mesh water.obj > water.rtm
	oconv -f -i scene-water.oct water.rad > scene+water.oct

Where water.rad contains the mesh primitive and maybe a material.   
The oconv command only takes as long as it takes to read and write  
back out the octree -- best if it's frozen for that reason.

If you know for certain that your mesh always ends up with the same  
overall dimensions, you don't even need to rerun oconv, technically.

-Greg

> From: Lars Grobe <grobe@gmx.net>
> Date: May 26, 2006 4:03:05 AM PDT
>
> Hi,
>
> one idea... as this will require generating the octree for every  
> frame, I wonder if it helps to make a frozen octree of the whole  
> scene except the water, scene.oct. Than exporting only the water  
> objects for each frame, lets call them water[FRAME].rtm. Now if you  
> write a script that creates scenes with only two objects, one being  
> an instance of scene.oct, the second a mesh object water 
> [FRAME].rtm. That way you will not have to run octree each time on  
> the whole scene, right?
>
> In fact, I wanted to propose to use the -i option of oconv so that  
> you can type oconv -i scene.oct water[FRAME].rad > scene 
> [FRAME].oct. But who uses obj2rad any more... ;-)
>
> What do you think folks, I cannot try that at the moment to find if  
> the gain from less work in oconv is worth the overhead. Also  
> instance and mesh would overlap completely.
>
> CU Lars.

From rob.fitzsimmons at Summit.Fiserv.com  Fri May 26 20:24:08 2006
From: rob.fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Fri May 26 20:24:34 2006
Subject: [Radiance-general] Art work surface
Message-ID: <B8DD8375FCE2C94B9F170D9277C1FA2B8C6047@corvallis>

 
Here is version 1 of our remodel

http://www.geocities.com/rastermon/Version1.html
The designer is using Sketchup and I'm rendering with - of course -
Radiance.
Composite done in photosop.
 Radiance view did not match pic, so I did a little skewing in PS.

Thanks for all the input on art lighting - I'll post  pics as it comes
along.

Rob
-----Original Message-----
From: Lars Grobe
To: Radiance general discussion
Sent: 5/26/2006 2:05 AM
Subject: Re: RE: [Radiance-general] Art work surface

Hi Thomas!

> They were directed to north because they had to be huge and
> you had to avoid direct sunlight. Northern light also varies
> not much over the day.

Ok... that is what I wanted to describe as continous ;-)))

> Only directional light would indeed be irritating but you
> need a certain directional component to render the shape.

Well, if you have no clear window at all you also might get mad.

> No! Don't use that stuff! We had an exhibition pavillion in
> my university built with honeycomb insulation between two
> glass profiles. The profiles alone might have worked well but
> the building inspector insisted in an insulation of the wall.
> The honeycombs diffuse the light so much that there is hardly
> a directional component left. It looks odd and the sculptures
> and architectural modells are shaded poorly even if the interior
> is rather bright.

That sounds interesting, as I actually do not have experienced such a
room. Were the panels used on all sides or to one direction only? My
idea was to have a big diffuse-translucent wall (only) to north. Also
Ithink that for an exhibition pavillion, especially for architectural
models, a diffuse environment is a terrific idea. All those I know use
spots to take fotos of their models and to show them (of course with a
diffuse environment around).

But I really wonder on the impact of these panels on color, did you
experience any noticable effect? It would also interesting to know what
happens after some years, at least with those based on plastics (I would
not worry about the glass-based products, but I am also not sure here).
Christopher has done validation work on such panels, maybe he has more
to say about it.


> 
> Thomas
> 
>
************************************************************************
***********
> This e-mail, (and any attachments) is confidential and may be
privileged. 
> It may be read, copied and used by the intended addressee only.  If
you
> have received this in error please contact BDP immediately. 
> 
> If you have any queries, please contact the sender.
>
************************************************************************
***********
> Building Design Partnership
> Registered in England No 2207415:
> Registered Office: Building Design Partnership Ltd, Sunlight House, PO
Box
> 85, Quay Street, Manchester, M60 3JA, http://www.bdp.co.uk
>
************************************************************************
***********
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From ramana.koti at gmail.com  Sat May 27 07:59:50 2006
From: ramana.koti at gmail.com (Ramana Koti)
Date: Sat May 27 07:59:58 2006
Subject: [Radiance-general] modifying TMY2 weather file in BIN format
Message-ID: <cdf76d820605262259l3a5ca000y753bdc55c1ffb747@mail.gmail.com>

Hello all,

I need to modify the direct normal and total horizontal solar values in the
BIN format TMY2 weather file used by DOE-2/eQUEST to ensure both DAYSIM and
DOE-2 provide the same exterior horizontal illuminance. Any pointers on how
this can be done or an alternative approach will be appreciated.

Regards,
Ramana.

-- 
Venkata Ramana Koti
MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060526/df570a97/attachment.html
From Denis.Bourgeois at nrc-cnrc.gc.ca  Sat May 27 13:15:32 2006
From: Denis.Bourgeois at nrc-cnrc.gc.ca (Bourgeois, Denis)
Date: Sat May 27 13:15:51 2006
Subject: [Radiance-general] modifying TMY2 weather file in BIN format
References: <cdf76d820605262259l3a5ca000y753bdc55c1ffb747@mail.gmail.com>
Message-ID: <5910A0754536EA4AAD411AE8221C3962319C0C@nrccenexb1.nrc.ca>

Venkata,

As DAYSIM weather files are based on Energy Plus weather files, you could just convert Energy Plus files directly into DOE-2/eQuest bin files using the eQ_WthProc executable from the DOE-2 web site:

http://doe2.com/index_Wth.html

Hope this helps,

Denis Bourgeois, Ph.D.
Boursier post-doctoral CRSNG / NSERC Visiting Fellow
Institut de recherche en construction / Institute for Research in Construction
Conseil national de recherches Canada / National Research Council Canada
denis.bourgeois@nrc-cnrc.gc.ca



-----Original Message-----
From: radiance-general-bounces@radiance-online.org on behalf of Ramana Koti
Sent: Sat 2006-05-27 01:59
To: Radiance general discussion
Subject: [Radiance-general] modifying TMY2 weather file in BIN format
 
Hello all,

I need to modify the direct normal and total horizontal solar values in the
BIN format TMY2 weather file used by DOE-2/eQUEST to ensure both DAYSIM and
DOE-2 provide the same exterior horizontal illuminance. Any pointers on how
this can be done or an alternative approach will be appreciated.

Regards,
Ramana.

-- 
Venkata Ramana Koti
MS in Building Design (Energy/Climate)
School of Architecture and Landscape Architecture
College of Design
Arizona State University, Tempe AZ 85287

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20060527/74f57e63/attachment.htm
From tbleicher at arcor.de  Mon May 29 15:14:22 2006
From: tbleicher at arcor.de (tbleicher@arcor.de)
Date: Mon May 29 15:14:32 2006
Subject: Aw: Re: RE: [Radiance-general] Art work surface
Message-ID: <18416067.1148908462852.JavaMail.ngmail@webmail10>

 
Finally I have time for email again:

> > The honeycombs diffuse the light so much that there is hardly
> > a directional component left. It looks odd and the sculptures
> > and architectural modells are shaded poorly even if the interior
> > is rather bright.
> 
> That sounds interesting, as I actually do not have experienced such a room.
> Were the panels used on all sides or to one direction only?

In this case the architects concept was a cube of glass. For details
and pictures look for images on the TU Braunschweig homepage
(www.tu-braunschweig.de) or publications about "Gerkan, Mark und
Partner" (Gerkan is the architect and never fails to make a lot of buzz
about his work).

> My idea was to have a big diffuse-translucent wall (only) to north.

Big is good, diffuse-translucent not so much. The problem in our case
was that too much light was scatered sideways from the walls. So
you got a wall-high bright surface with close to uniform distribution.
Modells simply get too much light from the left and right in relation to
the light from the "window" or wall closest to the modell. 

> Also Ithink that for an exhibition pavillion, especially for architectura
> models, a diffuse environment is a terrific idea.

Diffuse to a certain degree. Architecture in only less sensitive to this
directional component because it's mostly flat surfaces. But todays
architecture contains a variety of shapes - especially in a university.
And we had some sculpture exhibitions there, too.

> But I really wonder on the impact of these panels on color, did you
> experience any noticable effect?

No. And I would not expect any change in the color rendering of the
light. Inside of the honeycombs the light is only reflected on the surface
of the PMMA (?) structure (which would be transparent as a pane
anyway). The only filtering or color tint is the effect of the glass profiles.
I'd guess you can get better glass for this type of application than what's
used in industrial constructions.

> It would also interesting to know what happens after some years, at least
> with those based on plastics (I would not worry about the glass-based
> products, but I am also not sure here).

I'm sure the pick up dirt quickly. I haven't seen the pavillion for a few years
now but I would not expect much given that the wall is an open construction
(as opposed to sealed modules) and the insulation material was added as an
afterthought.

Thomas



Viel oder wenig? Schnell oder langsam? Unbegrenzt surfen + telefonieren
ohne Zeit- und Volumenbegrenzung? DAS TOP ANGEBOT JETZT bei Arcor: g?nstig
und schnell mit DSL - das All-Inclusive-Paket f?r clevere Doppel-Sparer,
nur  44,85 ?  inkl. DSL- und ISDN-Grundgeb?hr!
http://www.arcor.de/rd/emf-dsl-2

From alira at gsd.harvard.edu  Tue May 30 05:49:03 2006
From: alira at gsd.harvard.edu (alira@gsd.harvard.edu)
Date: Tue May 30 05:49:08 2006
Subject: [Radiance-general] Measuring red,
	green and blue light component in certain space
In-Reply-To: <5910A0754536EA4AAD411AE8221C39620118A785@nrccenexb1.nrc.ca>
References: <5910A0754536EA4AAD411AE8221C39620118A785@nrccenexb1.nrc.ca>
Message-ID: <32031.24.61.4.37.1148960943.squirrel@mail.gsd.harvard.edu>


Hi all,

I have modeled a cubical room (4 x 4 meters) with no windows or any type
of apertures; the room is completely closed and empty, without any kind of
objects inside. There is only a diffusive light source located in the
middle of the ceiling. My intention is to change the color and texture of
the walls, and then measure the resulting light reaching the geometrical
center of the room: 1)INTENSITY (in radiance units) and 2)the amount of
RED, GREEN and BLUE of the resulting light spectrum also in radiance
units.  How can I do these measurements?

Adriana Lira
Master in Design Studies, 2003
Candidate for Doctor in Design Studies
Harvard Graduate School of Design


From gregoryjward at gmail.com  Tue May 30 06:19:13 2006
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue May 30 06:19:23 2006
Subject: [Radiance-general] Measuring red,
	green and blue light component in certain space
In-Reply-To: <32031.24.61.4.37.1148960943.squirrel@mail.gsd.harvard.edu>
References: <5910A0754536EA4AAD411AE8221C39620118A785@nrccenexb1.nrc.ca>
	<32031.24.61.4.37.1148960943.squirrel@mail.gsd.harvard.edu>
Message-ID: <DD0ED5D1-6595-4C8F-A8DF-46D3ED423417@gmail.com>

Hi Adriana,

To my knowledge, there is no standard metric for radiance independent  
of incoming direction.  You either need to define a particular  
direction, or in your case you probably want the irradiance value,  
which is the integral of radiance over the projected hemisphere.   
This also requires you to define a facing direction.

Phil Dutre has a nice compendium that explains lighting units, which  
may be found at:

	http://www.cs.kuleuven.ac.be/~phil/GI/

Section VI, starting page 25  is probably where you want to look.

-Greg

> From: alira@gsd.harvard.edu
> Date: May 29, 2006 8:49:03 PM PDT
>
> Hi all,
>
> I have modeled a cubical room (4 x 4 meters) with no windows or any  
> type
> of apertures; the room is completely closed and empty, without any  
> kind of
> objects inside. There is only a diffusive light source located in the
> middle of the ceiling. My intention is to change the color and  
> texture of
> the walls, and then measure the resulting light reaching the  
> geometrical
> center of the room: 1)INTENSITY (in radiance units) and 2)the  
> amount of
> RED, GREEN and BLUE of the resulting light spectrum also in radiance
> units.  How can I do these measurements?
>
> Adriana Lira
> Master in Design Studies, 2003
> Candidate for Doctor in Design Studies
> Harvard Graduate School of Design

From a.jacobs at londonmet.ac.uk  Tue May 30 12:47:34 2006
From: a.jacobs at londonmet.ac.uk (Axel Jacobs)
Date: Tue May 30 12:51:16 2006
Subject: [Radiance-general] Measuring red,
	green and blue light component in certain space
In-Reply-To: <DD0ED5D1-6595-4C8F-A8DF-46D3ED423417@gmail.com>
References: <5910A0754536EA4AAD411AE8221C39620118A785@nrccenexb1.nrc.ca>
	<32031.24.61.4.37.1148960943.squirrel@mail.gsd.harvard.edu>
	<DD0ED5D1-6595-4C8F-A8DF-46D3ED423417@gmail.com>
Message-ID: <10250.213.58.97.210.1148986054.squirrel@webmail1.londonmet.ac.uk>

Adriana,
>
> To my knowledge, there is no standard metric for radiance independent
> of incoming direction.  You either need to define a particular
> direction, or in your case you probably want the irradiance value,
> which is the integral of radiance over the projected hemisphere.
> This also requires you to define a facing direction.

There is Joe Lynes et al. paper titled 'The flow of light into buildings'
(1966, IES Transactions), defining what he called 'vector illuminance'. It
has never really taken off big time, though...

The concept was implemented later on by Megatron in their 'CIM - Cubic
Illumination Meter', which to my knowledge is the only instrument of this
kind.
http://www.megatron.co.uk/homepage.html
The idea is to measure the light in the six main directions (+/-x, +/-y,
+/-z), thus defining a vector of illuminance.

The Advance RADIANCE Tutorial under
http://luminance.londonmet.ac.uk/learnix/docs.shtml, pp 43-...
will show you how to measure vector illuminance in RADIANCE (lots of shell
scripts). Since you're after the RGB, just separate the individual
channels.

Cheers

Axel



