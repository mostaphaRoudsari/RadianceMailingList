From loscotec at libero.it  Sat Dec  1 09:07:34 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Sat Dec  1 09:07:42 2007
Subject: [Radiance-general] xform -e
Message-ID: <JSDRKM$1685C134A51552A189C67CEE5CBB9944@libero.it>

Hi all!!

Does anybody know what '-e' in xform's parameters, mean?

I'm not able to find it out.. and it is used in Rendering with Radiance Chapter 7.

And xform doesn't report any problem using it, so it should mean something..

If it is written somewhere what -e means, please, say it to me, it could be that I'm missing some reference.. 

Thanks in advance for any reply.

Lucio



.. Caminante no hay camino, solo se hace camino al andar .. 


From pisuke at blueyonder.co.uk  Sat Dec  1 09:25:47 2007
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Sat Dec  1 09:25:59 2007
Subject: [Radiance-general] xform -e
In-Reply-To: <JSDRKM$1685C134A51552A189C67CEE5CBB9944@libero.it>
References: <JSDRKM$1685C134A51552A189C67CEE5CBB9944@libero.it>
Message-ID: <1196529947.391.23.camel@leviathan>

Hi Lucio,

> Does anybody know what '-e' in xform's parameters, mean?

It is the opposite of -c.

If you put something like:

!genbox white box 1 1 1

into a .rad file, then xform with the -c option 
does not expand it, writing

!genbox white box 1 1 1 | xform -e

to the output.

With the -e option xform does expand the 
external generator command in the file 
into the actual geometry,
with all the polygon primitives.

Ciao,

F.






From loscotec at libero.it  Sat Dec  1 09:41:10 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Sat Dec  1 09:41:16 2007
Subject: [Radiance-general] xform -e
Message-ID: <JSDT4M$952582A1C425AF74A7C1B55C8B605E60@libero.it>

Thank you very much for such fast reply !!!

So it is completely superfluos, 'couse it is default option.. isn't it?

Lucio


!! .Hi Lucio,
.
.> Does anybody know what '-e' in xform's parameters, mean?
.
.It is the opposite of -c.
.
.If you put something like:
.
.!genbox white box 1 1 1
.
.into a .rad file, then xform with the -c option 
.does not expand it, writing
.
.!genbox white box 1 1 1 | xform -e
.
.to the output.
.
.With the -e option xform does expand the 
.external generator command in the file 
.into the actual geometry,
.with all the polygon primitives.
.
.Ciao,
.
.F.
.
.
.
.
.
.
._______________________________________________
.Radiance-general mailing list
.Radiance-general@radiance-online.org
.http://www.radiance-online.org/mailman/listinfo/radiance-general
.

.. Caminante no hay camino, solo se hace camino al andar .. 


From gward at lmi.net  Sat Dec  1 09:59:38 2007
From: gward at lmi.net (Greg Ward)
Date: Sat Dec  1 09:59:52 2007
Subject: [Radiance-general] xform -e
In-Reply-To: <JSDT4M$952582A1C425AF74A7C1B55C8B605E60@libero.it>
References: <JSDT4M$952582A1C425AF74A7C1B55C8B605E60@libero.it>
Message-ID: <60F89020-E87B-4B5B-8A94-3D5021F84C46@lmi.net>

Yes, it is superfluous -- you are correct.  It didn't used to be the  
default, so I left the option in there for backwards compatibility.   
The -c option was added when -e was made the default, many years ago.

-Greg

> From: "loscotec\@libero\.it" <loscotec@libero.it>
> Date: December 1, 2007 9:41:10 AM PST
>
> Thank you very much for such fast reply !!!
>
> So it is completely superfluos, 'couse it is default option.. isn't  
> it?
>
> Lucio

From loscotec at libero.it  Sat Dec  1 10:08:50 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Sat Dec  1 10:08:55 2007
Subject: [Radiance-general] xform -e
Message-ID: <JSDUEQ$6471C954036716852A42F51BF218C0D6@libero.it>

Thanks very much !! :o)

Lucio

.Yes, it is superfluous -- you are correct.  It didn't used to be the  
.default, so I left the option in there for backwards compatibility.   
.The -c option was added when -e was made the default, many years ago.
.
.-Greg
.
.> From: "loscotec\@libero\.it" <loscotec@libero.it>
.> Date: December 1, 2007 9:41:10 AM PST
.>
.> Thank you very much for such fast reply !!!
.>
.> So it is completely superfluos, 'couse it is default option.. isn't  
.> it?
.>
.> Lucio
.
._______________________________________________
.Radiance-general mailing list
.Radiance-general@radiance-online.org
.http://www.radiance-online.org/mailman/listinfo/radiance-general
.

.. Caminante no hay camino, solo se hace camino al andar .. 


From bhattarai at simcenter.org  Mon Dec  3 07:10:58 2007
From: bhattarai at simcenter.org (Prasanta Bhattarai)
Date: Mon Dec  3 07:11:34 2007
Subject: [Radiance-general] Radmap: to produce irradiation map
In-Reply-To: <474F44A9.4040808@rumblestrip.org>
Message-ID: <A3B29F823861B34BB3868348164689490B7C61@server2.escny.local>

Thanks Rob for your quick response.

Yes, I realized that the -m 57 option I was using was not correct, and
re-rendered with "-m 75". The results I am getting after correcting -m
is little better but not as I expected. The shadows seems to be rotated
about 75-90 degrees towards East - Any Idea why this is happening?

I am using radmap version v. 0.1b / 2003-11-24. I am not familiar with
python, and I am using Linux for the first time for Radiance, so I am
very much limited to using the compiled versions. 

Thanks,

Prasanta

-----Original Message-----
From: Rob Guglielmetti [mailto:rpg@rumblestrip.org] 
Sent: Thursday, November 29, 2007 6:01 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Radmap: to produce irradiation map

Prasanta Bhattarai wrote:
>
> Hi all,
>
> Being a new user to Radiance, I have very limited knowledge about it.
I might be completely wrong on what I am saying. If so, please correct
me and give suggestions. 
>
> My aim here is to render some before and after images for analysis of 
> daylight. I want to show existing and proposed conditions (annual) 
> irradiation maps using "radmap" tool.
>

Hi Prasanta,

Welcome to the world of Radiance! The radmap tool is actually a separate

tool from the main Radiance distribution, but the creator, Francesco 
Anselmo, is a member of this mailing list so you may get some responses 
besides mine here. But you should definitely also check out 
http://www.bozzograo.net/radiance/ for other possible leads.

> The weather file that I am using is TMY2 .epw I used following to
render existing and proposed irradiation maps with "radmap" command:
> *radmap -s 8 -a 40.8 -o 73.9 -m 57  -n 1 -w WeatherTMT2.epw
--no-albedo --viewfile viewfile --radfile test.rad  -x 2048 -y 2048
--keep-temporary-maps --sky-resolution 1024 --max-kWh 500 --max-MJ 150 *
> * *
>
> As a result, I get irradiation maps in which the orientation of the 
> shading looks out by about 90deg (area on north/northwest looks 
> brighter than east/southeast).
>
> - Am I using the correct weather data or parameters?
>

Your longitude is 73.9, but your standard meridian is a slightly 
non-standard 57 degrees. I'd assume "-m 75" with "-o 73.9" will give a 
better result. Looks like you just accidentally transposed the numbers 
there...

> - I would also like to use the rpict options to get better rendering, 
> but whenever I specify the --optionfile it says,
>
> o View file to be used: *viewfile*
>
> o Option file to be used: *viewfile*
>
> o Do I have to specify the rpict options on the viewfile?
>

What version of radmap are you using? I have not used option files with 
it before, but I looked at the python code for my copy of radmap (v0.1c)

and it doesn't seem like there's any confusion between view files and 
options files. In other words, it should be reading in your option file 
correctly despite what's being printed to the command line. You might 
want to try changing options directly in the python code; you'll see the

options towards the top of the file and Francesco has commented 
everything fairly well. Only a few of the options are in there, but it 
served me well enough. Good luck!

- Rob Guglielmetti




From rpg at rumblestrip.org  Mon Dec  3 09:40:41 2007
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Mon Dec  3 09:40:46 2007
Subject: [Radiance-general] Radmap: to produce irradiation map
In-Reply-To: <A3B29F823861B34BB3868348164689490B7C61@server2.escny.local>
References: <A3B29F823861B34BB3868348164689490B7C61@server2.escny.local>
Message-ID: <47543F99.7070107@rumblestrip.org>

Prasanta Bhattarai wrote:
> I am using radmap version v. 0.1b / 2003-11-24. I am not familiar with
> python, and I am using Linux for the first time for Radiance, so I am
> very much limited to using the compiled versions. 
>   
Python is a scripting language and the scripts do not need to be 
compiled to run.  Go grab the latest radmap version here, and see how 
that works for you:

http://www.bozzograo.net/radiance/modules.php?op=modload&name=Downloads&file=index&req=viewsdownload&sid=3



From bhattarai at simcenter.org  Mon Dec  3 12:00:24 2007
From: bhattarai at simcenter.org (Prasanta Bhattarai)
Date: Mon Dec  3 12:03:18 2007
Subject: [Radiance-general] Radmap: to produce irradiation map
In-Reply-To: <47543F99.7070107@rumblestrip.org>
Message-ID: <0JSH00HYQOI1U1C5@vms173001.mailsrvcs.net>

Hi Rob,

Thanks again. 

I have one more question regarding radmap location options. 

Going through the radmap manual, it says, 
	?a, ??latitude [n]
	specify location latitude [degrees north] (it works only with EPW 	weather files)
	?o, ??longitude [n]
	specify location longitude [degrees east of Greenwich] (it works only 	with EPW weather files)
	?m, ??meridian [n]
	specify location meridian [degrees east of Greenwich] (it works only 	with EPW weather files
So I assume, for latitude 40.8 north, longitude 73.9 west & meridian 75 west of Greenwich, the location options in radmap should be " -a 40.8 -o -73.9 -m -75". Please correct me if I am wrong. 

I am rendering with these options, and I will share with you if the shadows in renderings look reasonable to me. 

Best,

Prasanta





-----Original Message-----
From: Rob Guglielmetti [mailto:rpg@rumblestrip.org] 
Sent: Monday, December 03, 2007 12:41 PM
To: Prasanta Bhattarai
Cc: Radiance general discussion
Subject: Re: [Radiance-general] Radmap: to produce irradiation map

Prasanta Bhattarai wrote:
> I am using radmap version v. 0.1b / 2003-11-24. I am not familiar with
> python, and I am using Linux for the first time for Radiance, so I am
> very much limited to using the compiled versions. 
>   
Python is a scripting language and the scripts do not need to be 
compiled to run.  Go grab the latest radmap version here, and see how 
that works for you:

http://www.bozzograo.net/radiance/modules.php?op=modload&name=Downloads&file=index&req=viewsdownload&sid=3





From pisuke at blueyonder.co.uk  Mon Dec  3 14:02:28 2007
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Mon Dec  3 14:02:34 2007
Subject: [Radiance-general] Radmap: to produce irradiation map
In-Reply-To: <0JSH00HYQOI1U1C5@vms173001.mailsrvcs.net>
References: <0JSH00HYQOI1U1C5@vms173001.mailsrvcs.net>
Message-ID: <1196719348.28184.31.camel@leviathan>

Dear Prasanta,

Sorry for the late reply, and thanks to Rob for helping out.

> I assume, for latitude 40.8 north, longitude 73.9 west & meridian 75
> west of Greenwich, the location options in radmap should be 
> "-a 40.8 -o -73.9 -m -75". Please correct me if I am wrong.

Yes this is correct.

Judging from your previous command line option you are using
the default cumulative sky method, and you can relax the sky resolution 
to a lower value, for example 128, saving a lot of time without
compromising results.

As Rob pointed out, you should download a more recent version of
radmap, and on unix systems it runs without need to compile it, 
provided that you have python installed.

Let me know how it works. 

Ciao,

Francesco





From shikders at Cardiff.ac.uk  Wed Dec  5 02:10:51 2007
From: shikders at Cardiff.ac.uk (Shariful Shikder)
Date: Wed Dec  5 02:11:08 2007
Subject: [Radiance-general] Simulating Prismatic Diffuser
References: <FB2B5574.628@grwcon50.cf.ac.uk>
Message-ID: <20071205T101051Z_A92700170000@groupwise.cf.ac.uk>

Dear All,

I am trying to simulate a 'prismatic diffuser' of a flourescent luminaire. Anyone can let me know which would be the best way to model it. Some questions I have regarding this are:

- Is there any material readily available that I can try to use and validate in my case? As I am not very expert in Radiance materials, this would help me to learn things.
- Which Radiance material would define a 'prismatic diffuser' well ? 
- Is there any good reference or text to understand well the Trans, Transdata, BRTDFunc etc. etc. diffuser related matters ??

Any suggestion would be fine ....

Thanks,
Sharif
-------------- next part --------------
Skipped content of type multipart/related
From grobe at gmx.net  Wed Dec  5 05:03:05 2007
From: grobe at gmx.net (Lars Grobe)
Date: Wed Dec  5 05:03:13 2007
Subject: [Radiance-general] Simulating Prismatic Diffuser
In-Reply-To: <20071205T101051Z_A92700170000@groupwise.cf.ac.uk>
References: <FB2B5574.628@grwcon50.cf.ac.uk>
	<20071205T101051Z_A92700170000@groupwise.cf.ac.uk>
Message-ID: <20071205130305.153650@gmx.net>

> I am trying to simulate a 'prismatic diffuser' of a flourescent
> luminaire.

I think the fprism.cal file in Radiance's lib directory may help you. But I also think that this (luminaire modeling) is not really a use case Radiance was developed for, so I do not how reliable results you will get without tweaking parameters a lot. Maybe (!!!) it will help to hide your modeled luminaire behind an illum face (using mkillum) so that you get less noise.

Lars.

From jm at dmu.ac.uk  Wed Dec  5 06:47:00 2007
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed Dec  5 06:47:15 2007
Subject: [Radiance-general] Simulating Prismatic Diffuser
Message-ID: <115A7A4C-2FC3-4B66-BB54-2C01E9C0FC43@dmu.ac.uk>

I'll second Lars' warning: Radiance is not the best tool to model the  
light output distribution of a luminaire.  Of course, modelling pre- 
determined light output distributions for luminaires is another  
matter and Radiance has no problem with that.

See "Development and validation of a Radiance model for a translucent  
panel" by Reinhart and Andersen for a very thorough description of  
how to go about modelling translucent panels -- not the same as a  
'prismatic diffuser' but should prove informative.
Direct link to paper here:
http://irc.nrc-cnrc.gc.ca/pubs/fulltext/nrcc48165/nrcc48165.pdf

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From gward at lmi.net  Wed Dec  5 08:34:18 2007
From: gward at lmi.net (Greg Ward)
Date: Wed Dec  5 08:35:03 2007
Subject: [Radiance-general] Simulating Prismatic Diffuser
In-Reply-To: <20071205T101051Z_A92700170000@groupwise.cf.ac.uk>
References: <FB2B5574.628@grwcon50.cf.ac.uk>
	<20071205T101051Z_A92700170000@groupwise.cf.ac.uk>
Message-ID: <EBAAC81A-78B3-4875-BF9F-F36804FECB1C@lmi.net>

Agreeing with the others, Radiance is not the ideal tool for modeling  
a fluorescent luminaire with a prismatic panel, but it can be done.   
You have to know a lot of details about the geometry and materials  
involved, but this is a case where mkillum may work reasonably well.   
That isn't to say the whole thing is straightforward.

You are much better off either measuring the luminaire somehow, or  
using an IES luminaire file belonging to something similar.

Best,
-Greg

> From: "Shariful Shikder" <shikders@Cardiff.ac.uk>
> Date: December 5, 2007 2:10:51 AM PST
>
> Dear All,
>
> I am trying to simulate a 'prismatic diffuser' of a flourescent  
> luminaire. Anyone can let me know which would be the best way to  
> model it. Some questions I have regarding this are:
>
> - Is there any material readily available that I can try to use and  
> validate in my case? As I am not very expert in Radiance materials,  
> this would help me to learn things.
> - Which Radiance material would define a 'prismatic diffuser' well ?
> - Is there any good reference or text to understand well the Trans,  
> Transdata, BRTDFunc etc. etc. diffuser related matters ??
>
> Any suggestion would be fine ....
>
> Thanks,
> Sharif

From G.Harding1 at Bradford.ac.uk  Wed Dec  5 10:05:28 2007
From: G.Harding1 at Bradford.ac.uk (G.Harding1@Bradford.ac.uk)
Date: Wed Dec  5 10:09:27 2007
Subject: [Radiance-general] Illegal Power warning
Message-ID: <1196877928.4756e868ed969@webmail7.brad.ac.uk>

Hi,

I am trying to implement a measured BRDF using the BRTDfunc material type.

In my .cal file, I fit the LaFortune cosine lobe BRDF model for my data to the
diffuse and specular variables.

This seems to work ok in principal (although the results don't look quite
right), but when calculating the specular componets I get the following
warning:

rpict: warning - compute error for BRTDfunc "measured_surface"
rpict: Illegal power


As far as I am aware all the raised powers in my functions are reasonable
values, so I'm not sure why I'm getting this error.
Does any one know what the conditions are that would give rise to this error
(ie, do powers have to be integers for instance)?

Many thanks,
Glen Harding.


------------------------------------------------------------
This mail sent through IMP: http://webmail.brad.ac.uk
To report misuse from this email address forward the message
and full headers to misuse@bradford.ac.uk
------------------------------------------------------------


From gward at lmi.net  Wed Dec  5 10:33:40 2007
From: gward at lmi.net (Greg Ward)
Date: Wed Dec  5 10:45:54 2007
Subject: [Radiance-general] Illegal Power warning
In-Reply-To: <1196877928.4756e868ed969@webmail7.brad.ac.uk>
References: <1196877928.4756e868ed969@webmail7.brad.ac.uk>
Message-ID: <CB8B30BD-4C3A-4F25-9BCC-C817DEBB6A16@lmi.net>

Hi Glen,

This error occurs when you pass a negative value (it can be very  
small, such as -1e-11) and raise it to a non-integer power.  The  
result would be a complex number, but of course this doesn't work  
since a real result is required.

You can play with values using the "icalc" program, and it is even  
possible to debug a function file to some degree using the "debugcal"  
script, which uses rtrace to assign the variables described in  
rayinit.cal.

Good luck,
-Greg

> From: G.Harding1@Bradford.ac.uk
> Date: December 5, 2007 10:05:28 AM PST
>
> Hi,
>
> I am trying to implement a measured BRDF using the BRTDfunc  
> material type.
>
> In my .cal file, I fit the LaFortune cosine lobe BRDF model for my  
> data to the
> diffuse and specular variables.
>
> This seems to work ok in principal (although the results don't look  
> quite
> right), but when calculating the specular componets I get the  
> following
> warning:
>
> rpict: warning - compute error for BRTDfunc "measured_surface"
> rpict: Illegal power
>
>
> As far as I am aware all the raised powers in my functions are  
> reasonable
> values, so I'm not sure why I'm getting this error.
> Does any one know what the conditions are that would give rise to  
> this error
> (ie, do powers have to be integers for instance)?
>
> Many thanks,
> Glen Harding.

From G.Harding1 at Bradford.ac.uk  Thu Dec  6 08:23:37 2007
From: G.Harding1 at Bradford.ac.uk (G HARDING)
Date: Thu Dec  6 08:28:24 2007
Subject: [Radiance-general] Illegal Power warning
Message-ID: <012401c83824$5b0ee4e0$15de358f@UNIVERSI047A23>

Hi Greg,

 

Thanks for the reply.

 

I've solved the Illegal Power problem by setting some constraints on my
values when fitting the model to the data.

 

However, I seem to have run into a different problem when implementing the
model:

I need to calculate the relevant values for rbrtd(x,y,z), gbrtd(x,y,z) and
bbrtd(x,y,z) in my BRTDfunc function file.
In order to calculate the values using the Lafortune cosine lobe model (with
parameter fitted to my measured data) I need to find the angle between the
surface and the incoming ray from the light source.
Unfortunately when I try to do this, like so:
 
angle(x,y,z) = Asin(x*Nx + y*Ny + z*Nz);
 
I get an error, saying that x is an unknown variable (and so presumably are
y and z).
 
Is there a way of getting the light source vector when using BRTDfunc?
 
Thanks,
Glen.

 

Glen Harding

Division of Optometry

University of Bradford 

Bradford, BD7 1DP.

Tel: 07969 797391          

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071206/8d713bec/attachment.html
From gward at lmi.net  Thu Dec  6 09:54:05 2007
From: gward at lmi.net (Greg Ward)
Date: Thu Dec  6 09:54:47 2007
Subject: [Radiance-general] Illegal Power warning
In-Reply-To: <013101c8382d$bdb3cc60$15de358f@UNIVERSI047A23>
References: <013101c8382d$bdb3cc60$15de358f@UNIVERSI047A23>
Message-ID: <4D503EBD-25BB-41A8-B593-AF93D998F67C@lmi.net>

Hi Glen,

You need to pass the paramters given by BRTDfunc to its function  
calls explicitly.  The x, y, and z values are not defined globally.   
See the attached .cal file as a simple example of how this is done.

If your refllection color changes as a function of angle, you need to  
stick with the BRTDfunc type, as metfunc only offers a single color  
for highlights.  Keep in mind also that Radiance cannot calculate  
directional-diffuse components for anything other than highlights  
(i.e., light source reflections).  This is a limitation in Radiance's  
ability to sample BSDFs in general, and has been covered previously  
in numerous posts.

-Greg

-------------- next part --------------
A non-text attachment was scrubbed...
Name: tim1.cal
Type: application/octet-stream
Size: 692 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071206/7def94d6/tim1.obj
-------------- next part --------------

> From: "G HARDING" <G.Harding1@Bradford.ac.uk>
> Date: December 6, 2007 9:30:48 AM PST
>
> Hi Greg,
>
> I've attached the cal file.
> The file is for a particular measured surface (cardboard!), so it  
> doesn't
> use any input parameters.
>
> The idea behind the code is fairly simple (if executed rather  
> inelegantly!):
> Previous to the creation of this file, the reflectance of the  
> surface is
> measured over a range of angles, at several light source positions,  
> and a
> BRDF model (Lafortune) fitted to the data for each light position.
>
> The fitted parameters for the model at each light source position  
> are in the
> .cal file and it uses these (or interpolated values for intermediate
> angles), along with the light source and observation angles to  
> calculate the
> required reflectance via the model formulae.
>
> However, it doesn't work as I can't seem to get hold of the light  
> source
> vector, as mentioned in my previous email.
> Perhaps I'm going about this in completely the wrong way?
>
> I had considered using Metfunc rather than BRTDfunc (it would ne  
> nice to
> have the data in a separate file at least!), for which I've seen  
> examples
> which use the light source position data, but I need the colour to be
> specified by the data, not just the reflectance. I'm not sure if  
> this is
> possible with Metfunc?
>
> Many thanks for your time,
> Glen.
>
>
> -----Original Message-----
> From: Greg Ward [mailto:gward@lmi.net]
> Sent: 06 December 2007 16:43
>
> Hi Glen,
>
> I need a little more information -- can you send me your entire .cal
> file?
>
> Thanks,
> -Greg
From bhattarai at simcenter.org  Mon Dec 10 13:09:14 2007
From: bhattarai at simcenter.org (Prasanta Bhattarai)
Date: Mon Dec 10 13:09:44 2007
Subject: [Radiance-general] RE:  Radmap: to produce irradiation map
In-Reply-To: <1196719348.28184.31.camel@leviathan>
Message-ID: <A3B29F823861B34BB3868348164689490B7C64@server2.escny.local>

Dear Francesco & Rob,

Thanks for all your help.

Yes, Rob's suggestions really helped. I downloaded the latest version of
the radmap, and the shadows on the rendering now are coming in a correct
orientation. Although my original problems (of orientation & using rpict
options) were solved by using the newer version of radmap, I have some
more issues. 

The rendering I am getting are not smooth and I am seeing horizontal
bands on these renderings. I am not sure what exactly the problem is. I
have tried to run simulation several times, in different computers, but
each time I get similar results. 

I am providing you all following links which has false color images of
existing and proposed conditions, and a file which has all rendering
commands and the background process that is carried out during
simulation, (hoping this would help). 

Radmap falsecolor image links: 
http://esc.freeshell.org/Radiance/rend_process.htm   (background
process) 
http://esc.freeshell.org/Radiance/exist_test_0000_irrmap_fc_kWh.jpg
(existing condition simulation)
http://esc.freeshell.org/Radiance/proposed_test_0000_irrmap_fc_kWh.jpg
(proposed condition simulation)

I would really appreciate if someone could help me figure out what's
going on with this simulation. 

Thanks in advance,

Prasanta



-----Original Message-----
From: Francesco Anselmo [mailto:pisuke@blueyonder.co.uk] 
Sent: Monday, December 03, 2007 5:02 PM
To: Radiance general discussion
Subject: RE: [Radiance-general] Radmap: to produce irradiation map

Dear Prasanta,

Sorry for the late reply, and thanks to Rob for helping out.

> I assume, for latitude 40.8 north, longitude 73.9 west & meridian 75
> west of Greenwich, the location options in radmap should be 
> "-a 40.8 -o -73.9 -m -75". Please correct me if I am wrong.

Yes this is correct.

Judging from your previous command line option you are using
the default cumulative sky method, and you can relax the sky resolution 
to a lower value, for example 128, saving a lot of time without
compromising results.

As Rob pointed out, you should download a more recent version of
radmap, and on unix systems it runs without need to compile it, 
provided that you have python installed.

Let me know how it works. 

Ciao,

Francesco







From pisuke at blueyonder.co.uk  Mon Dec 10 15:04:27 2007
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Mon Dec 10 15:04:36 2007
Subject: [Radiance-general] RE:  Radmap: to produce irradiation map
In-Reply-To: <A3B29F823861B34BB3868348164689490B7C64@server2.escny.local>
References: <A3B29F823861B34BB3868348164689490B7C64@server2.escny.local>
Message-ID: <1197327867.21775.11.camel@leviathan>

Hi Prasanta,

You are using one month of hourly data, and in particular December.
Radiation his concentrated in the sun positions for each hour, 
therefore it is normal to see strong shadows coming from
the suns. This sun displacement inaccuracy becomes less important
with bigger weather datasets, but for one month of hourly data it is
inevitable.

Ensure to use the -dt 0 option to account for all suns. It should
be on by default, and for the December month it should not do much
difference, but when evaluating annual cumulative irradiation
it becomes important.

Regards,

Francesco





From cbm at cvmt.aau.dk  Thu Dec 13 05:28:41 2007
From: cbm at cvmt.aau.dk (Claus B. Madsen)
Date: Thu Dec 13 05:28:48 2007
Subject: [Radiance-general] Modulating diffuse albedo by an image
Message-ID: <47613389.3060005@cvmt.aau.dk>




Dear List members,


I have written a function file which allows me to project real images
taken with a calibrated camera onto the (manually) modelled geometry of
the scene (see attached images). Writing the function file was dead
simple thanks to the really powerfull and well-designed function file
framework.

I have used colorpict to modify a plastic material with parameters (1 1
1 0 0), i.e. a perfect diffuse reflector. My function file tells
colorpict what uv coordinates to use for a given ray.

My question/problem is: how to handle the ray intersection points that
do not map to a pixel in the back projected image (i.e., points that are
outside the field-of-view of the original image). The attached image
clearly shows how the top and bottom image lines, and left and right
image columns get smeared across the geometry because I am computing uv
coordinates which in fact are outside the image bounds.

What I really want is to be able to return a controlled (constant) RGB
value for all uv coords falling outside the image bounds.

Suggestions, anyone?

Best,
Claus





-------------- next part --------------
A non-text attachment was scrubbed...
Name: toprightview.jpg
Type: image/jpeg
Size: 20797 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071213/173730e3/toprightview-0001.jpg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: input.jpg
Type: image/jpeg
Size: 39575 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071213/173730e3/input-0001.jpg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cbm.vcf
Type: text/x-vcard
Size: 391 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071213/173730e3/cbm-0001.vcf
From gregoryjward at gmail.com  Thu Dec 13 09:29:25 2007
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu Dec 13 09:33:29 2007
Subject: [Radiance-general] Re: Modulating diffuse albedo by an image
In-Reply-To: <47613389.3060005@cvmt.aau.dk>
References: <47613389.3060005@cvmt.aau.dk>
Message-ID: <9714D52B-312B-460E-954E-F3900FA5D5E1@gmail.com>

Hi Claus,

Assuming you are using "picture.cal" for your coordinate mapping, you
can take advantage of the "inpic" variable to create a mixture
between your colorpict and a constant value, e.g.:

void colorfunc constRed
4 0.8 0.02 0.02 .
0
0

void colorpict myPic
7 red green blue myPic.hdr picture.cal pic_u pic_v
0
1 0.667

void mixfunc myMix
4 myPic constRed inpic picture.cal
0
1 0.667

myMix plastic myMat
0
0
5 1 1 1 0 0

etc...

Naturally, you'll want to apply the same transformations to both
colorpict and mixfunc if you have any, and the 0.667 value I've
specified for the picture aspect ratio should be adjusted to match
your source image (height/width).  I hope this is clear enough.

Best,
-Greg


> From: "Claus B. Madsen" <cbm@cvmt.aau.dk>
> Date: December 13, 2007 5:28:41 AM PST
>
> Dear List members,
>
> I have written a function file which allows me to project real images
> taken with a calibrated camera onto the (manually) modelled
> geometry of
> the scene (see attached images). Writing the function file was dead
> simple thanks to the really powerfull and well-designed function file
> framework.
>
> I have used colorpict to modify a plastic material with parameters
> (1 1
> 1 0 0), i.e. a perfect diffuse reflector. My function file tells
> colorpict what uv coordinates to use for a given ray.
>
> My question/problem is: how to handle the ray intersection points that
> do not map to a pixel in the back projected image (i.e., points
> that are
> outside the field-of-view of the original image). The attached image
> clearly shows how the top and bottom image lines, and left and right
> image columns get smeared across the geometry because I am
> computing uv
> coordinates which in fact are outside the image bounds.
>
> What I really want is to be able to return a controlled (constant) RGB
> value for all uv coords falling outside the image bounds.
>
> Suggestions, anyone?
>
> Best,
> Claus
>


From adrianalira at post.harvard.edu  Mon Dec 17 10:53:57 2007
From: adrianalira at post.harvard.edu (Adriana Lira)
Date: Mon Dec 17 10:54:13 2007
Subject: [Radiance-general] Analysis of ultraviolet radiation with RADIANCE
Message-ID: <e5da07760712171053u5913ac6aw82756de00026eb78@mail.gmail.com>

Dear all,

I need to analyze the amount of ultraviolet radiation that gets into a space
through the windows (natural light). Is it possible to do it with RADIANCE
somehow? I've been looking into the archive, and I know that some people
have been working with blue light as an alternative. However, is it possible
to go beyond the spectrum towards the ultraviolet by applying some
mathematical method (for example)? Does anyone have any suggestion?

Many thanks in advance!
Adriana Lira

-- 
Dr. Adriana Lira-Oliver
DDes I MDes I Barch
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071217/ca4782db/attachment.htm
From cbm at cvmt.aau.dk  Thu Dec 20 23:44:38 2007
From: cbm at cvmt.aau.dk (Claus B. Madsen)
Date: Thu Dec 20 23:45:48 2007
Subject: [Radiance-general] HDRShop and Vista
Message-ID: <476B6EE6.10405@cvmt.aau.dk>



Dear Radiance users,

is there by any chance somebody on the list who has experiences with 
using HDRShop under Windows Vista. I have an HDRShop 2.0 license for 
academic purposes and I havetried to install it on my new Windows Vista 
machine. No luck. I get an error message from Microsoft Foundation Class 
... I have tried to contact the USC people behind HDRShop, but so far no 
response. Then I thought "hey, maybe some of the Radiance users know 
something ..."

Best,
Claus


From G.Harding1 at Bradford.ac.uk  Fri Dec 21 01:45:11 2007
From: G.Harding1 at Bradford.ac.uk (G HARDING)
Date: Fri Dec 21 01:48:25 2007
Subject: [Radiance-general] HDRShop and Vista
In-Reply-To: <476B6EE6.10405@cvmt.aau.dk>
Message-ID: <007d01c843b6$32024ea0$0202fea9@UNIVERSI047A23>

Hi Claus,

If HDRshop is built on MFC (Microsoft Foundation Classes) then it will need
at least one DLL to run (MFC42.dll), which is perhaps missing from Vista?
Other MFC DLLs my also be required.
You should be able to download these from Mircosoft.

Thanks,
Glen Harding
Division of Optometry
University of Bradford

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Claus B.
Madsen
Sent: 21 December 2007 07:45
To: Radiance general discussion
Subject: [Radiance-general] HDRShop and Vista



Dear Radiance users,

is there by any chance somebody on the list who has experiences with 
using HDRShop under Windows Vista. I have an HDRShop 2.0 license for 
academic purposes and I havetried to install it on my new Windows Vista 
machine. No luck. I get an error message from Microsoft Foundation Class 
... I have tried to contact the USC people behind HDRShop, but so far no 
response. Then I thought "hey, maybe some of the Radiance users know 
something ..."

Best,
Claus


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From cbm at cvmt.aau.dk  Fri Dec 21 02:38:04 2007
From: cbm at cvmt.aau.dk (Claus B. Madsen)
Date: Fri Dec 21 02:39:06 2007
Subject: [Radiance-general] HDRShop and Vista
In-Reply-To: <007d01c843b6$32024ea0$0202fea9@UNIVERSI047A23>
References: <007d01c843b6$32024ea0$0202fea9@UNIVERSI047A23>
Message-ID: <476B978C.3040803@cvmt.aau.dk>


Hi Glen,

thanks ... but, alas. The MFC dll's are all there as far as I can tell. 
I guess HDRShop needs a recompilation (what I got from USC was basically 
an executable).

Cheers, and Merry Christmas
Claus

G HARDING wrote:
> Hi Claus,
>
> If HDRshop is built on MFC (Microsoft Foundation Classes) then it will need
> at least one DLL to run (MFC42.dll), which is perhaps missing from Vista?
> Other MFC DLLs my also be required.
> You should be able to download these from Mircosoft.
>
> Thanks,
> Glen Harding
> Division of Optometry
> University of Bradford
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Claus B.
> Madsen
> Sent: 21 December 2007 07:45
> To: Radiance general discussion
> Subject: [Radiance-general] HDRShop and Vista
>
>
>
> Dear Radiance users,
>
> is there by any chance somebody on the list who has experiences with 
> using HDRShop under Windows Vista. I have an HDRShop 2.0 license for 
> academic purposes and I havetried to install it on my new Windows Vista 
> machine. No luck. I get an error message from Microsoft Foundation Class 
> ... I have tried to contact the USC people behind HDRShop, but so far no 
> response. Then I thought "hey, maybe some of the Radiance users know 
> something ..."
>
> Best,
> Claus
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


From adrianalira at post.harvard.edu  Fri Dec 21 08:36:03 2007
From: adrianalira at post.harvard.edu (Adriana Lira)
Date: Fri Dec 21 08:36:11 2007
Subject: [Radiance-general] Ultraviolet analysis with RADIANCE
Message-ID: <e5da07760712210836j67e9c6d3xf938c6be883d7eb3@mail.gmail.com>

Dear all,

I need to analyze the amount of ultraviolet radiation that gets into a space
through the windows (natural light). Is it possible to do it with RADIANCE
somehow? I've been looking into the archive, and I know that some people
have been working with blue light as an alternative. However, is it possible
to go beyond the spectrum towards the ultraviolet by applying some
mathematical method (for example)? Does anyone have any suggestion?

Many thanks in advance!
Adriana Lira

-- 
Dr. Adriana Lira-Oliver
DDes I MDes I Barch
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071221/deadf237/attachment.html
From jedev at visarc.com  Fri Dec 21 11:47:31 2007
From: jedev at visarc.com (Jack de Valpine)
Date: Fri Dec 21 11:47:52 2007
Subject: [Radiance-general] HDRShop and Vista
In-Reply-To: <476B978C.3040803@cvmt.aau.dk>
References: <007d01c843b6$32024ea0$0202fea9@UNIVERSI047A23>
	<476B978C.3040803@cvmt.aau.dk>
Message-ID: <476C1853.8040503@visarc.com>

Hi Claus,

Another thing to try is running HDRShop under a selected compatibility 
mode in Vista. I was able to get my ancient windows 95 version of the 
Lego Mindstorm software running on Vista this way. It was a bit 
laborious, I had to go find all the relevant executables and then set 
the compatibility mode to windows 95 (via properties on the selected exe 
file). I think there is also something called the compatibility wizard, 
you can search the help for this, not sure how it works though.

Hope this helps.

-Jack de Valpine

Claus B. Madsen wrote:
>
> Hi Glen,
>
> thanks ... but, alas. The MFC dll's are all there as far as I can 
> tell. I guess HDRShop needs a recompilation (what I got from USC was 
> basically an executable).
>
> Cheers, and Merry Christmas
> Claus
>
> G HARDING wrote:
>> Hi Claus,
>>
>> If HDRshop is built on MFC (Microsoft Foundation Classes) then it 
>> will need
>> at least one DLL to run (MFC42.dll), which is perhaps missing from 
>> Vista?
>> Other MFC DLLs my also be required.
>> You should be able to download these from Mircosoft.
>>
>> Thanks,
>> Glen Harding
>> Division of Optometry
>> University of Bradford
>>
>> -----Original Message-----
>> From: radiance-general-bounces@radiance-online.org
>> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of 
>> Claus B.
>> Madsen
>> Sent: 21 December 2007 07:45
>> To: Radiance general discussion
>> Subject: [Radiance-general] HDRShop and Vista
>>
>>
>>
>> Dear Radiance users,
>>
>> is there by any chance somebody on the list who has experiences with 
>> using HDRShop under Windows Vista. I have an HDRShop 2.0 license for 
>> academic purposes and I havetried to install it on my new Windows 
>> Vista machine. No luck. I get an error message from Microsoft 
>> Foundation Class ... I have tried to contact the USC people behind 
>> HDRShop, but so far no response. Then I thought "hey, maybe some of 
>> the Radiance users know something ..."
>>
>> Best,
>> Claus
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>   
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


From Derek.Whitehead at rwdi.com  Fri Dec 21 12:03:14 2007
From: Derek.Whitehead at rwdi.com (Derek Whitehead)
Date: Fri Dec 21 12:02:54 2007
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 46,
	Issue 10 (Out of office reply)
Message-ID: <s76bd5c7.010@rwdi.com>

I will be out of the office during the holiday season starting Dec. 21st, returning Jan. 7th. Happy Holidays!

Derek Whitehead
Specialist - Sustainable Design
B.A.Sc., LEED? AP
Rowan Williams Davies & Irwin Inc. (RWDI)
830 - 999 West Broadway
Vancouver, BC 
Canada V5Z 1K5

Tel.  604-730-5688 Ext. 2488
Fax. 604-730-2915
E-mail: derek.whitehead@rwdi.com 
Web: www.rwdi.com 
______________________________________________________________ 

Celebrating Excellence Since 1972. For more information, please visit www.rwdi.com/35th_anniversary/. 

Reputation Resources Results 

http://www.rwdi.com 

______________________________________________________________ 

This communication is intended for the sole use of the party to whom it is addressed and may contain information that is privileged and/or confidential. Any other distribution, copying or disclosure is strictly prohibited. If you have received this e-mail in error, please notify us immediately by telephone and delete the message without retaining any hard or electronic copies of same. 

RWDI scans outgoing emails for viruses, but makes no warranty as to their absence in this email or attachments.


From gward at lmi.net  Sat Dec 22 10:58:44 2007
From: gward at lmi.net (Greg Ward)
Date: Sat Dec 22 10:58:50 2007
Subject: [Radiance-general] Re: Ultraviolet analysis with RADIANCE
In-Reply-To: <e5da07760712210836j67e9c6d3xf938c6be883d7eb3@mail.gmail.com>
References: <e5da07760712210836j67e9c6d3xf938c6be883d7eb3@mail.gmail.com>
Message-ID: <00705AAF-7E46-43BF-AA84-F0AF5B2B500C@lmi.net>

Hi Adriana,

You need some measure of the quantity of ultraviolet light in  
daylight and the UV transmission of the windows, but in principle  
there is nothing to stop you from simulating shorter wavelengths than  
visible in Radiance.  I don't know where you would find the  
appropriate quantities to use, however.

Best,
-Greg

> From: "Adriana Lira" <adrianalira@post.harvard.edu>
> Date: December 21, 2007 8:36:03 AM PST
>
> Dear all,
>
> I need to analyze the amount of ultraviolet radiation that gets  
> into a space through the windows (natural light). Is it possible to  
> do it with RADIANCE somehow? I've been looking into the archive,  
> and I know that some people have been working with blue light as an  
> alternative. However, is it possible to go beyond the spectrum  
> towards the ultraviolet by applying some mathematical method (for  
> example)? Does anyone have any suggestion?
>
> Many thanks in advance!
> Adriana Lira
>
> -- 
> Dr. Adriana Lira-Oliver
> DDes I MDes I Barch

From grobe at gmx.net  Mon Dec 24 10:12:04 2007
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon Dec 24 10:16:37 2007
Subject: [Radiance-general] Merry christmas
Message-ID: <476FF674.2070804@gmx.net>

I hope you all get your new beautyful workstations to put fresh radiance 
installations on and render until new year. Merry christmas, and be 
careful - candelas may be hot and christmas balls don't like too many 
bounces. Lars.

From loscotec at libero.it  Fri Dec 28 15:35:34 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Fri Dec 28 15:35:43 2007
Subject: [Radiance-general] REALLY STRANGE
Message-ID: <JTS9JA$4228F19FAEB31D71BE29A57554C3734F@libero.it>

I was working on my thesys and I did have a very strange response form rtrace.. Am I missing something or is it a dangerous bug?

I did cast two times the same call and I did have sistematically two different results.. WHY ?

So I did calculate the same thing from different files: 

prova.dat containing :

2.5 -60 1.5 -1.667 61.1 -1.5
2.5 -60 1.5 0 61.1 -1.5

and prova1.dat containing just the second line :

2.5 -60 1.5 0 61.1 -1.5


I did cast the command :

cat prova.dat | rtrace -h- tmp/U0.oct

obtaining : 

5.804947e-03    5.804947e-03    5.804947e-03
5.987884e-03    5.987884e-03    5.987884e-03

and 

cat prova1.dat | rtrace -h- tmp/U0.oct

obtaining : 

5.996149e-03    5.996149e-03    5.996149e-03

second line of first result, if I'm not wrong, should be identical to second result... Why is it not ?

Lucio Boscolo


.. Caminante no hay camino, solo se hace camino al andar .. 


From gward at lmi.net  Fri Dec 28 15:55:09 2007
From: gward at lmi.net (Greg Ward)
Date: Fri Dec 28 15:55:12 2007
Subject: [Radiance-general] REALLY STRANGE
In-Reply-To: <JTS9JA$4228F19FAEB31D71BE29A57554C3734F@libero.it>
References: <JTS9JA$4228F19FAEB31D71BE29A57554C3734F@libero.it>
Message-ID: <D0A5199B-6451-4B52-9FAE-129941DE87D3@lmi.net>

Hello Lucio,

It is normal for rtrace (and other Monte Carlo ray-tracing programs)  
to return slightly different results for the same ray, due to  
randomness in the sampling process.  The goal is to produce the  
correct result on average in a reasonably unbiased estimation  
process, rather than producing the same systematically inaccurate  
result each time, as would be produced by a completely deterministic  
algorithm.

I hope this is helpful.
-Greg

> From: "loscotec\@libero\.it" <loscotec@libero.it>
> Date: December 28, 2007 3:35:34 PM PST
>
> I was working on my thesys and I did have a very strange response  
> form rtrace.. Am I missing something or is it a dangerous bug?
>
> I did cast two times the same call and I did have sistematically  
> two different results.. WHY ?
>
> So I did calculate the same thing from different files:
>
> prova.dat containing :
>
> 2.5 -60 1.5 -1.667 61.1 -1.5
> 2.5 -60 1.5 0 61.1 -1.5
>
> and prova1.dat containing just the second line :
>
> 2.5 -60 1.5 0 61.1 -1.5
>
>
> I did cast the command :
>
> cat prova.dat | rtrace -h- tmp/U0.oct
>
> obtaining :
>
> 5.804947e-03    5.804947e-03    5.804947e-03
> 5.987884e-03    5.987884e-03    5.987884e-03
>
> and
>
> cat prova1.dat | rtrace -h- tmp/U0.oct
>
> obtaining :
>
> 5.996149e-03    5.996149e-03    5.996149e-03
>
> second line of first result, if I'm not wrong, should be identical  
> to second result... Why is it not ?
>
> Lucio Boscolo

From loscotec at libero.it  Fri Dec 28 16:17:06 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Fri Dec 28 16:17:25 2007
Subject: [Radiance-general] REALLY STRANGE
Message-ID: <JTSBGI$29BE5734849E187D2B456A0D00E48AFB@libero.it>

Thanks Greg for such fast reply :o)) .. In the beginning I thought it was something like that, but I was confused when I saw that every time I was casting rtrace from the same input file it was giving exactly the same result.. 

I did also think that non-deterministic behaviour was just for indirect calculations.. well, it looks like it is not !! ;o)

Ok then, I feel better knowing that the 'error' is someway intentional and it will be probably not big.

Considering I'm working with luminances the 'imprecision' is in the third decimal number .. microluxes, than.. probably it will not affect much calculations.. 

Thank you again, I will read the chapter about stocastic and deterministic raytracers, in 'Rendering with Radiance' that could help me understanding probably.. 

Sorry for giving alarm !! :-P

Lucio Boscolo 
 

.Hello Lucio,
.
.It is normal for rtrace (and other Monte Carlo ray-tracing programs)  
.to return slightly different results for the same ray, due to  
.randomness in the sampling process.  The goal is to produce the  
.correct result on average in a reasonably unbiased estimation  
.process, rather than producing the same systematically inaccurate  
.result each time, as would be produced by a completely deterministic  
.algorithm.
.
.I hope this is helpful.
.-Greg
.
.> From: "loscotec\@libero\.it" <loscotec@libero.it>
.> Date: December 28, 2007 3:35:34 PM PST
.>
.> I was working on my thesys and I did have a very strange response  
.> form rtrace.. Am I missing something or is it a dangerous bug?
.>
.> I did cast two times the same call and I did have sistematically  
.> two different results.. WHY ?
.>
.> So I did calculate the same thing from different files:
.>
.> prova.dat containing :
.>
.> 2.5 -60 1.5 -1.667 61.1 -1.5
.> 2.5 -60 1.5 0 61.1 -1.5
.>
.> and prova1.dat containing just the second line :
.>
.> 2.5 -60 1.5 0 61.1 -1.5
.>
.>
.> I did cast the command :
.>
.> cat prova.dat | rtrace -h- tmp/U0.oct
.>
.> obtaining :
.>
.> 5.804947e-03    5.804947e-03    5.804947e-03
.> 5.987884e-03    5.987884e-03    5.987884e-03
.>
.> and
.>
.> cat prova1.dat | rtrace -h- tmp/U0.oct
.>
.> obtaining :
.>
.> 5.996149e-03    5.996149e-03    5.996149e-03
.>
.> second line of first result, if I'm not wrong, should be identical  
.> to second result... Why is it not ?
.>
.> Lucio Boscolo
.
._______________________________________________
.Radiance-general mailing list
.Radiance-general@radiance-online.org
.http://www.radiance-online.org/mailman/listinfo/radiance-general
.

.. Caminante no hay camino, solo se hace camino al andar .. 


From loscotec at libero.it  Fri Dec 28 17:05:53 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Fri Dec 28 17:05:58 2007
Subject: [Radiance-general] eulum to ies
Message-ID: <JTSDPT$32A733021438A7E9A3E2A0034B6AC790@libero.it>

Hy everybody !

Does exist a way to convert directly from .eul (eulum) files to .rad files?

In any case, how do you suggest me to obtain that conversion?

Right now I'm using "ies2tab -ei" to convert from eulum to ies and then ies2rad to convert form .ies to .rad but ies2rad is reporting: "warning - no lamp type .. "

Maybe this is normal, but in any case, having just one conversion would be probably better.. 

Lucio

Ps: Merry Christmas (in late) and happy new year (in advance) to everybody ! :o)





.. Caminante no hay camino, solo se hace camino al andar .. 


From smichel_designer at hotmail.com  Fri Dec 28 17:14:14 2007
From: smichel_designer at hotmail.com (steve michel)
Date: Fri Dec 28 17:14:16 2007
Subject: [Radiance-general] Sketchup exporter script
In-Reply-To: <B1210350-05E0-404B-8D7B-9A95BEC7D3D2@arcor.de>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<1B4F2494-85BD-4B8E-9874-14347A21EF60@arcor.de>
	<BAY143-W332834D8ABFE04DCD8494CE0750@phx.gbl> 
	<B1210350-05E0-404B-8D7B-9A95BEC7D3D2@arcor.de>
Message-ID: <BAY143-W4581E005E15A729E02B66AE0560@phx.gbl>


I'm configuring a mac (Os x 10.5) for radiance and while using the ruby exporter script, I did some successful renders. But of late, maybe after I set my RAYPATH variable (by adding the bin and lib paths in the system files), I get the following and inexplicable (to me) error: xform cannot find directories 

[CODE]$ rad -o x11 Scene_1.rif	rvu -vu 0 0 1 -vf views/Scene_1.vf -ps 3 -pt .08 -dp 512 -ar 0 -ms 4.8 -ds .2 -dj .5 -dt .1 -dc .5 -dr 1 -sj .7 -st .1 -ab 2 -aa .15 -ad 800 -as 128 -av 0.01 0.01 0.01 -lr 8 -lw .002 -R Scene_1.rif -o x11 Scene_1.oct
xform: cannot find file "skies/Lusaka_1108_0830.sky"
rvu: warning - (!xform skies/Lusaka_1108_0830.sky ): empty file
xform: cannot find file "objects/Scene_1_faces.rad"
rvu: warning - (!xform -n Scene_1 objects/Scene_1_faces.rad): empty file[/CODE]

can anyone explain?



regards
HAppy New year
steve
_________________________________________________________________
Use fowl language with Chicktionary. Click here to start playing!
http://puzzles.sympatico.msn.ca/chicktionary/index.html?icid=htmlsig
From smichel_designer at hotmail.com  Fri Dec 28 17:22:40 2007
From: smichel_designer at hotmail.com (steve michel)
Date: Fri Dec 28 17:22:42 2007
Subject: [Radiance-general] eulum to ies
In-Reply-To: <JTSDPT$32A733021438A7E9A3E2A0034B6AC790@libero.it>
References: <JTSDPT$32A733021438A7E9A3E2A0034B6AC790@libero.it>
Message-ID: <BAY143-W18EC6D6CA52C4D645B3B5EE0560@phx.gbl>


Lucio

Maybe eulum2ies can help from Bauer's site: 

http://www.radiance-online.org/radiance-workshop1/cd/Bauer/index.html

regards &
Happy New Year
Steve

----------------------------------------
> Date: Sat, 29 Dec 2007 02:05:53 +0100
> From: loscotec@libero.it
> To: radiance-general@radiance-online.org
> Subject: [Radiance-general] eulum to ies
> 
> Hy everybody !
> 
> Does exist a way to convert directly from .eul (eulum) files to .rad files?
> 
> In any case, how do you suggest me to obtain that conversion?
> 
> Right now I'm using "ies2tab -ei" to convert from eulum to ies and then ies2rad to convert form .ies to .rad but ies2rad is reporting: "warning - no lamp type .. "
> 
> Maybe this is normal, but in any case, having just one conversion would be probably better.. 
> 
> Lucio
> 
> Ps: Merry Christmas (in late) and happy new year (in advance) to everybody ! :o)
> 
> 
> 
> 
> 
> .. Caminante no hay camino, solo se hace camino al andar .. 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

_________________________________________________________________
Introducing the City @ Live! Take a tour!
http://getyourliveid.ca/?icid=LIVEIDENCA006
From gward at lmi.net  Fri Dec 28 17:42:02 2007
From: gward at lmi.net (Greg Ward)
Date: Fri Dec 28 17:37:16 2007
Subject: [Radiance-general] Sketchup exporter script
In-Reply-To: <BAY143-W4581E005E15A729E02B66AE0560@phx.gbl>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<1B4F2494-85BD-4B8E-9874-14347A21EF60@arcor.de>
	<BAY143-W332834D8ABFE04DCD8494CE0750@phx.gbl>
	<B1210350-05E0-404B-8D7B-9A95BEC7D3D2@arcor.de>
	<BAY143-W4581E005E15A729E02B66AE0560@phx.gbl>
Message-ID: <3FFE59BD-0A22-48DB-AEBD-71E2EC29F55D@lmi.net>

Hi Steve,

What is RAYPATH set to at this point?  Due to the way xform searches  
for files, if "." is not in the RAYPATH (e.g., ".:/usr/local/lib/ 
ray") it may not find files in and below the local directory if they  
are not given as "./path" or as a full path starting from the root.

I hope this helps.
-Greg

> From: steve michel <smichel_designer@hotmail.com>
> Date: December 28, 2007 5:14:14 PM PST
>
> I'm configuring a mac (Os x 10.5) for radiance and while using the  
> ruby exporter script, I did some successful renders. But of late,  
> maybe after I set my RAYPATH variable (by adding the bin and lib  
> paths in the system files), I get the following and inexplicable  
> (to me) error: xform cannot find directories
>
> [CODE]$ rad -o x11 Scene_1.rif	rvu -vu 0 0 1 -vf views/Scene_1.vf - 
> ps 3 -pt .08 -dp 512 -ar 0 -ms 4.8 -ds .2 -dj .5 -dt .1 -dc .5 -dr  
> 1 -sj .7 -st .1 -ab 2 -aa .15 -ad 800 -as 128 -av 0.01 0.01 0.01 - 
> lr 8 -lw .002 -R Scene_1.rif -o x11 Scene_1.oct
> xform: cannot find file "skies/Lusaka_1108_0830.sky"
> rvu: warning - (!xform skies/Lusaka_1108_0830.sky ): empty file
> xform: cannot find file "objects/Scene_1_faces.rad"
> rvu: warning - (!xform -n Scene_1 objects/Scene_1_faces.rad): empty  
> file[/CODE]
>
> can anyone explain?
>
>
> regards
> HAppy New year
> steve

From loscotec at libero.it  Fri Dec 28 17:41:33 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Fri Dec 28 17:41:41 2007
Subject: [Radiance-general] eulum to ies
Message-ID: <JTSFD9$7A78B7956B642DDA1A9F597496B81756@libero.it>

Thank you Steve, but unfortunately it didn't help :

"Segmentation fault (core dumped)"

probably it is 'couse my system is 64 bit.. 

Lucio


.
.Lucio
.
.Maybe eulum2ies can help from Bauer's site: 
.
.http://www.radiance-online.org/radiance-workshop1/cd/Bauer/index.html
.
.regards &
.Happy New Year
.Steve
.
.----------------------------------------
.> Date: Sat, 29 Dec 2007 02:05:53 +0100
.> From: loscotec@libero.it
.> To: radiance-general@radiance-online.org
.> Subject: [Radiance-general] eulum to ies
.> 
.> Hy everybody !
.> 
.> Does exist a way to convert directly from .eul (eulum) files to .rad files?
.> 
.> In any case, how do you suggest me to obtain that conversion?
.> 
.> Right now I'm using "ies2tab -ei" to convert from eulum to ies and then ies2rad to convert form .ies to .rad but ies2rad is reporting: "warning - no lamp type .. "
.> 
.> Maybe this is normal, but in any case, having just one conversion would be probably better.. 
.> 
.> Lucio
.> 
.> Ps: Merry Christmas (in late) and happy new year (in advance) to everybody ! :o)
.> 
.> 
.> 
.> 
.> 
.> .. Caminante no hay camino, solo se hace camino al andar .. 
.> 
.> 
.> _______________________________________________
.> Radiance-general mailing list
.> Radiance-general@radiance-online.org
.> http://www.radiance-online.org/mailman/listinfo/radiance-general
.
._________________________________________________________________
.Introducing the City @ Live! Take a tour!
.http://getyourliveid.ca/?icid=LIVEIDENCA006
._______________________________________________
.Radiance-general mailing list
.Radiance-general@radiance-online.org
.http://www.radiance-online.org/mailman/listinfo/radiance-general
.

.. Caminante no hay camino, solo se hace camino al andar .. 


From smichel_designer at hotmail.com  Sat Dec 29 06:17:08 2007
From: smichel_designer at hotmail.com (steve michel)
Date: Sat Dec 29 06:17:11 2007
Subject: [Radiance-general] Sketchup exporter script
In-Reply-To: <3FFE59BD-0A22-48DB-AEBD-71E2EC29F55D@lmi.net>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<1B4F2494-85BD-4B8E-9874-14347A21EF60@arcor.de>
	<BAY143-W332834D8ABFE04DCD8494CE0750@phx.gbl>
	<B1210350-05E0-404B-8D7B-9A95BEC7D3D2@arcor.de>
	<BAY143-W4581E005E15A729E02B66AE0560@phx.gbl> 
	<3FFE59BD-0A22-48DB-AEBD-71E2EC29F55D@lmi.net>
Message-ID: <BAY143-W81AF14CF730F8DB6A6E87E0560@phx.gbl>


RAYPATH is set with an absolute path from root pointing to the radiance lib and bin directories. I tried ".:/path" and "/path" and get the same error. It seems that xform is at fault becasue when I $cat the missing files from the project directory I get the listed file content.

the su2rad  is not at fault since it worked prior to changes i made:

Adding RAYPATH in the etc/paths file.
and MANPATHS to point to te radiance man pages.

HOWEVER: when I noticed that the !xform -n option is not listed in the xform syntax..
could it be a sketchup  export option at fault?



regards and thanks
Steve


----------------------------------------
> From: gward@lmi.net
> Subject: Re: [Radiance-general] Sketchup exporter script
> Date: Fri, 28 Dec 2007 17:42:02 -0800
> To: radiance-general@radiance-online.org
> 
> Hi Steve,
> 
> What is RAYPATH set to at this point?  Due to the way xform searches  
> for files, if "." is not in the RAYPATH (e.g., ".:/usr/local/lib/ 
> ray") it may not find files in and below the local directory if they  
> are not given as "./path" or as a full path starting from the root.
> 
> I hope this helps.
> -Greg
> 
>> From: steve michel 
>> Date: December 28, 2007 5:14:14 PM PST
>>
>> I'm configuring a mac (Os x 10.5) for radiance and while using the  
>> ruby exporter script, I did some successful renders. But of late,  
>> maybe after I set my RAYPATH variable (by adding the bin and lib  
>> paths in the system files), I get the following and inexplicable  
>> (to me) error: xform cannot find directories
>>
>> [CODE]$ rad -o x11 Scene_1.rif	rvu -vu 0 0 1 -vf views/Scene_1.vf - 
>> ps 3 -pt .08 -dp 512 -ar 0 -ms 4.8 -ds .2 -dj .5 -dt .1 -dc .5 -dr  
>> 1 -sj .7 -st .1 -ab 2 -aa .15 -ad 800 -as 128 -av 0.01 0.01 0.01 - 
>> lr 8 -lw .002 -R Scene_1.rif -o x11 Scene_1.oct
>> xform: cannot find file "skies/Lusaka_1108_0830.sky"
>> rvu: warning - (!xform skies/Lusaka_1108_0830.sky ): empty file
>> xform: cannot find file "objects/Scene_1_faces.rad"
>> rvu: warning - (!xform -n Scene_1 objects/Scene_1_faces.rad): empty  
>> file[/CODE]
>>
>> can anyone explain?
>>
>>
>> regards
>> HAppy New year
>> steve
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

_________________________________________________________________
Use fowl language with Chicktionary. Click here to start playing!
http://puzzles.sympatico.msn.ca/chicktionary/index.html?icid=htmlsig
From smichel_designer at hotmail.com  Sat Dec 29 11:24:51 2007
From: smichel_designer at hotmail.com (steve michel)
Date: Sat Dec 29 11:24:57 2007
Subject: [Radiance-general] Sketchup exporter script
In-Reply-To: <BAY143-W81AF14CF730F8DB6A6E87E0560@phx.gbl>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<1B4F2494-85BD-4B8E-9874-14347A21EF60@arcor.de>
	<BAY143-W332834D8ABFE04DCD8494CE0750@phx.gbl>
	<B1210350-05E0-404B-8D7B-9A95BEC7D3D2@arcor.de>
	<BAY143-W4581E005E15A729E02B66AE0560@phx.gbl> 
	<3FFE59BD-0A22-48DB-AEBD-71E2EC29F55D@lmi.net> 
	<BAY143-W81AF14CF730F8DB6A6E87E0560@phx.gbl>
Message-ID: <BAY143-W33A0DDF2D6DB27CDF6576BE0560@phx.gbl>


errata: the default su2rad xform syntax is correct. Greg you're right: It was my RAYPATH variable that was pointing only to the radiance lib directory with "/path/lib"  I omitted to include the current project directory with proper syntax ".:/path..." Now I see what that colon was doing between the "." and "/path" ie. a separator between the list of paths. The manual page for xform showed me that RAYPATH must point to the working project directory as well as the lib files.




mark this solved thanks again
regards
Steve


----------------------------------------
> From: smichel_designer@hotmail.com
> To: radiance-general@radiance-online.org
> Subject: RE: [Radiance-general] Sketchup exporter script
> Date: Sat, 29 Dec 2007 09:17:08 -0500
> 
> 
> RAYPATH is set with an absolute path from root pointing to the radiance lib and bin directories. I tried ".:/path" and "/path" and get the same error. It seems that xform is at fault becasue when I $cat the missing files from the project directory I get the listed file content.
> 
> the su2rad  is not at fault since it worked prior to changes i made:
> 
> Adding RAYPATH in the etc/paths file.
> and MANPATHS to point to te radiance man pages.
> 
> HOWEVER: when I noticed that the !xform -n option is not listed in the xform syntax..
> could it be a sketchup  export option at fault?
> 
> 
> 
> regards and thanks
> Steve
> 
> 
> ----------------------------------------
>> From: gward@lmi.net
>> Subject: Re: [Radiance-general] Sketchup exporter script
>> Date: Fri, 28 Dec 2007 17:42:02 -0800
>> To: radiance-general@radiance-online.org
>> 
>> Hi Steve,
>> 
>> What is RAYPATH set to at this point?  Due to the way xform searches  
>> for files, if "." is not in the RAYPATH (e.g., ".:/usr/local/lib/ 
>> ray") it may not find files in and below the local directory if they  
>> are not given as "./path" or as a full path starting from the root.
>> 
>> I hope this helps.
>> -Greg
>> 
>>> From: steve michel 
>>> Date: December 28, 2007 5:14:14 PM PST
>>>
>>> I'm configuring a mac (Os x 10.5) for radiance and while using the  
>>> ruby exporter script, I did some successful renders. But of late,  
>>> maybe after I set my RAYPATH variable (by adding the bin and lib  
>>> paths in the system files), I get the following and inexplicable  
>>> (to me) error: xform cannot find directories
>>>
>>> [CODE]$ rad -o x11 Scene_1.rif	rvu -vu 0 0 1 -vf views/Scene_1.vf - 
>>> ps 3 -pt .08 -dp 512 -ar 0 -ms 4.8 -ds .2 -dj .5 -dt .1 -dc .5 -dr  
>>> 1 -sj .7 -st .1 -ab 2 -aa .15 -ad 800 -as 128 -av 0.01 0.01 0.01 - 
>>> lr 8 -lw .002 -R Scene_1.rif -o x11 Scene_1.oct
>>> xform: cannot find file "skies/Lusaka_1108_0830.sky"
>>> rvu: warning - (!xform skies/Lusaka_1108_0830.sky ): empty file
>>> xform: cannot find file "objects/Scene_1_faces.rad"
>>> rvu: warning - (!xform -n Scene_1 objects/Scene_1_faces.rad): empty  
>>> file[/CODE]
>>>
>>> can anyone explain?
>>>
>>>
>>> regards
>>> HAppy New year
>>> steve
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _________________________________________________________________
> Use fowl language with Chicktionary. Click here to start playing!
> http://puzzles.sympatico.msn.ca/chicktionary/index.html?icid=htmlsig
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

_________________________________________________________________
Introducing the City @ Live! Take a tour!
http://getyourliveid.ca/?icid=LIVEIDENCA006
From tbleicher at arcor.de  Sun Dec 30 05:45:01 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sun Dec 30 05:47:01 2007
Subject: [Radiance-general] eulum to ies
In-Reply-To: <JTSDPT$32A733021438A7E9A3E2A0034B6AC790@libero.it>
References: <JTSDPT$32A733021438A7E9A3E2A0034B6AC790@libero.it>
Message-ID: <BBB276D8-5826-46BA-9858-340BDFB508CC@arcor.de>


On 29 Dec 2007, at 01:05, loscotec@@libero..it wrote:

> Hy everybody !
>
> Does exist a way to convert directly from .eul (eulum) files  
> to .rad files?
>
> In any case, how do you suggest me to obtain that conversion?

Steve has already mentioned Carsten Bauer's eulum2ies. I have used
it a few times with good results.

I don't think it matters which converter you use. There is a lot of
information in these files but for ies2rad you only need the the
distribution. The luminaire is considered to be a point source so
even the shape info is not required unless you do glare calculations.

> Right now I'm using "ies2tab -ei" to convert from eulum to ies and
> then ies2rad to convert form .ies to .rad but ies2rad is reporting:
> "warning - no lamp type .. "

ies2rad has a limited knowledge on lamp types. The search patterns are
defined in the "lamp.dat" file in your Radiance installation.  
Manufacturers
now tend to use a product name in their lamp specification which is
harder to identify.

If ies2rad fails to identify the lamp type it prints this warning
and uses a default lamp type with neutral white colour. This is
fine for most simulations (in particular Lux levels). When you're
interested in the actual rendering of the lamp colour you can use the
-t option of ies2rad to tell it which lamp type to use. Look in the
'lamp.dat' file for the specification.

Please not that you only have to worry about this if you have different
lamp types in your scene. You can also change the colour balance of
an existing image to simulate this effect with pfilt.

> Maybe this is normal, but in any case, having just one conversion  
> would
> be probably better..

Support for new data file formats would be nice but given the number
of conversion tools out there it's probably not worth the effort.

Happy new year.

Thomas

