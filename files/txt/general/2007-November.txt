From tbleicher at arcor.de  Thu Nov  1 06:48:10 2007
From: tbleicher at arcor.de (tbleicher@arcor.de)
Date: Thu Nov  1 06:48:25 2007
Subject: Aw: [Radiance-general] RE: Sketchup exporter script
Message-ID: <18354529.1193924890340.JavaMail.ngmail@webmail10>

Terrance McMinn wrote 
> Hello All,
> 
> Thomas you have made an excellent contribution to the radiance community
> with your SketchUP exporter. I assume this script would also work with
> the free Google Version of SketchUP as well. That software was of
> limited use to radiance modelling as it did not have the 3DS converter
> available in the PRO version.

Yes, of course. There would be no motivation for me to write a script
that doesn't work on the free version. But from the Ruby point of view
both versions are identical. 

> A point here, for the Google SketchUP (free version) users would be for
> the user to manually modify the 'sky' file for location and orientation
> as that option works differently from the PRO version of SketchUP.

I am not aware of different settings between the two versions. The script
uses information stored in the 'location' and 'shadow' settings. You can
modify the sky appearance in SketchUp but I do not use this information
and don't even know if it's accessible via scripting.
 
> To this effect a couple of extra comments in the 'sky' file for the
> novices would be useful.

I can certainly add a few comments ...

About the interface 'design':

Sketchup has a very limited but simple dialog toolbox which is what I'm using
right now. It looks odd but it does the trick. More soffisticated dialogs are
possible with DHTML (JavaScript - the 'tip of the day' is an example for that)
but I won't start working on that before I have a good idea about which options
to present. And I have to be sure someone out there needs it because it would
be useless for me.

Regards,
Thomas

Viel oder wenig? Schnell oder langsam? Unbegrenzt surfen + telefonieren
ohne Zeit- und Volumenbegrenzung? DAS TOP ANGEBOT F?R ALLE NEUEINSTEIGER
Jetzt bei Arcor: g?nstig und schnell mit DSL - das All-Inclusive-Paket
f?r clevere Doppel-Sparer, nur  29,95 ?  inkl. DSL- und ISDN-Grundgeb?hr!
http://www.arcor.de/rd/emf-dsl-2

From jm at dmu.ac.uk  Thu Nov  1 07:57:01 2007
From: jm at dmu.ac.uk (Mardaljevic John)
Date: Thu Nov  1 07:57:12 2007
Subject: Aw: [Radiance-general] RE: Sketchup exporter script
Message-ID: <A7CC5EAE-01CA-4FCE-97EA-89272CF473D8@dmu.ac.uk>

Hi Thomas,

Thanks for making the SU exporter plugin available --  I just tried  
it out on a fairly complex model.  The default mode seems to be to  
export surfaces by material colour rather than layer name (unless  
I've missed something).  Is there (or will there be) an option to  
export surfaces by layer name rather than material colour?

Cheerio,

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm


From rpg at rumblestrip.org  Thu Nov  1 08:09:42 2007
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Nov  1 08:10:01 2007
Subject: Aw: [Radiance-general] RE: Sketchup exporter script
In-Reply-To: <18354529.1193924890340.JavaMail.ngmail@webmail10>
References: <18354529.1193924890340.JavaMail.ngmail@webmail10>
Message-ID: <4729EC36.2000604@rumblestrip.org>

tbleicher@arcor.de wrote:
> Terrance McMinn wrote 
>   
>> Hello All,
>>
>> Thomas you have made an excellent contribution to the radiance community
>> with your SketchUP exporter. I assume this script would also work with
>> the free Google Version of SketchUP as well. That software was of
>> limited use to radiance modelling as it did not have the 3DS converter
>> available in the PRO version.
>>     
>
> Yes, of course. There would be no motivation for me to write a script
> that doesn't work on the free version. But from the Ruby point of view
> both versions are identical. 
>   

Yeah, I kinda wish we knew about this script about ten days ago, because 
we bought the pro version mainly for the export capabilities!  Oh well...

And John M, how complex was your model?  We just successfully used 
Thomas' script to export an 80MB SketchUp model to Radiance!  Worked 
very well.  I agree with John, a choice of "by color" OR "by layer" 
would be very helpful. 

From jm at dmu.ac.uk  Thu Nov  1 09:18:22 2007
From: jm at dmu.ac.uk (Mardaljevic John)
Date: Thu Nov  1 09:18:39 2007
Subject: Aw: [Radiance-general] RE: Sketchup exporter script
Message-ID: <0AF2CE55-A506-4A4A-BC34-DC1B6B20481D@dmu.ac.uk>

Hi Rob,

> And John M, how complex was your model?  We just successfully used
> Thomas' script to export an 80MB SketchUp model to Radiance!

My SU model was only a 1/3 the size of yours: about 26Mb (Edges  
124168, Faces	60278).  The Radiance export took about 13 mins on a  
2.16GHz C2D MB (2Gb RAM).  The exported rad file was of size 13Mb and  
contained 60278 polygons.  For comparison, exporting the same model  
to Radiance via 3DS (& MGF) was much quicker but gave a rad file of  
size 38Mb with 188043 polygons (because of the conversion to  
triangles, of course).

The smaller rad file did produce a number of "non-planar vertex"  
warnings (as one might expect).  I haven't tried out the model much  
since I would need to first change all the material colours in SU to  
match the scheme used for the layers.

Hats off to TB for this very handy utility!

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm


From tbleicher at arcor.de  Thu Nov  1 11:49:28 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Nov  1 11:50:59 2007
Subject: [Radiance-general] RE: Sketchup exporter script
In-Reply-To: <A7CC5EAE-01CA-4FCE-97EA-89272CF473D8@dmu.ac.uk>
References: <A7CC5EAE-01CA-4FCE-97EA-89272CF473D8@dmu.ac.uk>
Message-ID: <BF14CC39-FA9B-4E3D-8A04-56F9A5F3C8F7@arcor.de>


On 1 Nov 2007, at 14:57, Mardaljevic John wrote:

> Hi Thomas,
>
> Thanks for making the SU exporter plugin available --  I just
> tried it out on a fairly complex model.  The default mode seems
> to be to export surfaces by material colour rather than layer
> name (unless I've missed something).

It's neither. The one and only mode exports to files based on the
group or component instance name which is generated if it's not set.

This allows you to use the Sketchup hierarchy to model efficient
Radiance scenes with '!xform'. At the moment only components can
be reused but Sketchup keeps track of identical groups as well;
I just can't get this information from the API.

> Is there (or will there be) an option to export surfaces by
> layer name rather than material colour?

Since you already got another one voting for it I'll look into it
at the weekend. Should be easy to do.

Thomas


From vangelis at unb.br  Thu Nov  1 13:48:05 2007
From: vangelis at unb.br (Evangelos Christakou)
Date: Thu Nov  1 13:48:18 2007
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 45, Issue 1
In-Reply-To: <20071101190524.2C6D653A3A2@C2B3-POP3.unb.br>
References: <20071101190524.2C6D653A3A2@C2B3-POP3.unb.br>
Message-ID: <dc928a050711011348l2a3814cched446bfce84681b3@mail.gmail.com>

Hi all

At first I`d like to say thank you very much, Thomas for your job!!!!

Google Sketchup (free)  doesnt offer location settings (LAT/LONG), so SKY
settings are  difficult!!!!
You must have SKETCHUP Pro version to do it.

Thomas, there is a way to overcome this limitation?

Regards,

Vangelis
2007/11/1, radiance-general-request@radiance-online.org <
radiance-general-request@radiance-online.org>:
>
> Send Radiance-general mailing list submissions to
>         radiance-general@radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request@radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-owner@radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>    1. Re: Sketchup to Radiance for win users? (Thomas Bleicher)
>    2. RE: Sketchup exporter script (Terrance McMinn)
>    3. Aw: [Radiance-general] RE: Sketchup exporter script
>       (tbleicher@arcor.de)
>    4. Aw: [Radiance-general] RE: Sketchup exporter script
>       (Mardaljevic John)
>    5. Re: Aw: [Radiance-general] RE: Sketchup exporter script
>       (Rob Guglielmetti)
>    6. Aw: [Radiance-general] RE: Sketchup exporter script
>       (Mardaljevic John)
>    7. Re: RE: Sketchup exporter script (Thomas Bleicher)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Wed, 31 Oct 2007 19:50:37 +0000
> From: Thomas Bleicher <tbleicher@arcor.de>
> Subject: Re: [Radiance-general] Sketchup to Radiance for win users?
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <108AB72E-6F19-4B5B-AD9D-97C4E74F8184@arcor.de>
> Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
>
>
> On 31 Oct 2007, at 14:24, Val?re Paupelin-Huchard wrote:
>
> > Hello everybody,
> > I am trying to find a workflow tutorial of radiance after a
> > sketchup export on windows...
> > Do you have any idea?
> > Someone could give me the main steps?
>
> If this is about Radiance in general buy the book
>
>      'Rendering with Radiance' by Ward/Shakespeare
>
> or see here:
>
>      http://luminance.londonmet.ac.uk/learnix/docs/radtutorial_basic.pdf
>
>
> If this is about my script to export from Sketchup, here's the idea:
>
> The script creates a common file structure of Radiance scene files
> where you have at the top level
>
>    - a materials.rad file with all material definitions
>    - a <scenename>.rad file with references to the geometry files
>    - a <scenename>.rif file as input for 'rad'
>    - the 'objects/' directory with the actual geometry
>    - the 'skies/' directory with the sky definition
>    - the 'views/' directory with one file per exported perspective
>    - a bunch of other directories
>
> Because the script is incomplete the first thing you have to do
> is to replace all the material definitions in the 'materials.rad'
> file with actual physical materials. You can find a number of
> materials in the Radiance distribution or on the internet. It's
> worth to reduce the number of materials in the model before exporting.
>
> The next thing you may want to do is to add some keywords to the
> <scenename>.rif file. There are some standard options which I forgot
> to add. You can use the free Radiance Control Panel to view and
> change the settings in a GUI:
>
>      http://squ1.com/download?radiancecp
>
> If you want to do actual daylight analysis check also the parameters
> of the sky description. In particular the meridian and skytype are
> more or less guesswork.
>
> If you have checked all the above, go to the directory of the '.rif'
> and '.rad' file. All references in the '.rad' file assume that your
> working directory is this directory when you start Radiance apps.
>
> To start an interactive preview with rvu (not available on Windows)
> type
>
>      rad -o x11 <scenename>.rif
>
> To render one perspective (as listed in the '.rif' file) type
>
>      rad -v <viewname> <scenename>.rif
>
> To render all pictures type
>
>      rad <scenename>.rif
>
> All these commands will work on Linux/OS X. I have not used Radiance
> on Windows yet (as cygwin or mingw) but I think the commands should
> behave similarly to the Unix versions.
>
> Once you have rendered the images you can download the Radiance image
> viewer from Square1 to view and analyse your images:
>
>      http://squ1.com/download?radianceiv
>
> The viewer that comes as part of Radzilla should also work on Windows.
> Everyone else uses ximage.
>
>
> One feature I have not mentioned yet is the feature to export points
> on a working plane for calculation with rtrace. You have to create
> a layer called 'numeric' in your SketchUp scene. All the polygons on
> this layer will be exported as a grid of points with 0.25m distance.
> The files will be exported to the 'numeric/' folder with a filename
> based on the group or scene name.
>
> Example:
>
> You have created a room with windows etc. Copy the 'floor' of the room,
> move it 0.75m up (Z-axis) and create an offset of 0.4m from the edge.
> You have now a plane floating in space. Move this plane to the layer
> 'numeric' and create a group out of the plane only or the plane and
> the room geometry (recommended because you can move or copy the whole
> ensemble at once). Give the group a name (say 'room1' and when you
> export the scene make sure the 'numeric/' level is visible.
>
> This will create the file 'numeric/room1.fld' with one line for each
> point in the form 'x y z 0 0 1'. This format can easily be piped to
> rtrace for calculation:
>
>      rtrace -ab 3 -ov <scenename>.oct < numeric/room1.fld > numeric/
> room1.irr
>
> (provided that there is already a <scenename>.oct). Don't forget to
> check/edit the material for your window. It's very likely that your
> glass material is not at all transparent.
>
> If you modify this a bit and use '-oodv' as the output format you can
> use the 'Plugins/Radiance/numeric input' menu entry to create a 3D
> surface
> from the calculated values.
> ... perhaps. This is highly experimental. Use at your own risk.
>
>
> Have fun and report errors,
> Thomas
>
> --
> When I'm old I want to be a wiki page at
> http://www.bozzograo.net/radiancewiki/doku.php.
>                         -- anonymous email
>
>
> ------------------------------
>
> Message: 2
> Date: Thu, 1 Nov 2007 14:10:35 +0900
> From: "Terrance McMinn" <T.McMinn@curtin.edu.au>
> Subject: [Radiance-general] RE: Sketchup exporter script
> To: <radiance-general@radiance-online.org>
> Message-ID:
>         <
> 092BF7A1BC389E489A69DC764F23CD870D5C7969@exmsp2.perth.ad.curtin.edu.au>
>
> Content-Type: text/plain;       charset="us-ascii"
>
> Hello All,
>
> Thomas you have made an excellent contribution to the radiance community
> with your SketchUP exporter. I assume this script would also work with
> the free Google Version of SketchUP as well. That software was of
> limited use to radiance modelling as it did not have the 3DS converter
> available in the PRO version.
>
> A point here, for the Google SketchUP (free version) users would be for
> the user to manually modify the 'sky' file for location and orientation
> as that option works differently from the PRO version of SketchUP.
>
> To this effect a couple of extra comments in the 'sky' file for the
> novices would be useful.
>
> With regards to accuracy of modelling using SketchUP, simply use the
> mouse to indicate direction and then enter the distance with the
> keyboard. This allows wonderful unit conversions on the fly during data
> entry. For example say your units  are in metres and you want an offset
> of 50mm, type 50mm or 2" and SketchUP will do the rest! It even
> understands entries such as 2",100mm for a rectangle.
>
>
> Regards
>
> Terry Mc Minn
> Faculty of Built Environment, Art and Design
> Curtin University of Technology
> GPO Box U 1987 Perth 6845 Western Australia
> Email: T.Mcminn@curtin.edu.au
> CRICOS Provider Code: 00301J
>
>
>
> ------------------------------
>
> Message: 3
> Date: Thu, 1 Nov 2007 14:48:10 +0100 (CET)
> From: tbleicher@arcor.de
> Subject: Aw: [Radiance-general] RE: Sketchup exporter script
> To: radiance-general@radiance-online.org
> Message-ID: <18354529.1193924890340.JavaMail.ngmail@webmail10>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Terrance McMinn wrote
> > Hello All,
> >
> > Thomas you have made an excellent contribution to the radiance community
> > with your SketchUP exporter. I assume this script would also work with
> > the free Google Version of SketchUP as well. That software was of
> > limited use to radiance modelling as it did not have the 3DS converter
> > available in the PRO version.
>
> Yes, of course. There would be no motivation for me to write a script
> that doesn't work on the free version. But from the Ruby point of view
> both versions are identical.
>
> > A point here, for the Google SketchUP (free version) users would be for
> > the user to manually modify the 'sky' file for location and orientation
> > as that option works differently from the PRO version of SketchUP.
>
> I am not aware of different settings between the two versions. The script
> uses information stored in the 'location' and 'shadow' settings. You can
> modify the sky appearance in SketchUp but I do not use this information
> and don't even know if it's accessible via scripting.
>
> > To this effect a couple of extra comments in the 'sky' file for the
> > novices would be useful.
>
> I can certainly add a few comments ...
>
> About the interface 'design':
>
> Sketchup has a very limited but simple dialog toolbox which is what I'm
> using
> right now. It looks odd but it does the trick. More soffisticated dialogs
> are
> possible with DHTML (JavaScript - the 'tip of the day' is an example for
> that)
> but I won't start working on that before I have a good idea about which
> options
> to present. And I have to be sure someone out there needs it because it
> would
> be useless for me.
>
> Regards,
> Thomas
>
> Viel oder wenig? Schnell oder langsam? Unbegrenzt surfen + telefonieren
> ohne Zeit- und Volumenbegrenzung? DAS TOP ANGEBOT F?R ALLE NEUEINSTEIGER
> Jetzt bei Arcor: g?nstig und schnell mit DSL - das All-Inclusive-Paket
> f?r clevere Doppel-Sparer, nur  29,95 ?  inkl. DSL- und ISDN-Grundgeb?hr!
> http://www.arcor.de/rd/emf-dsl-2
>
>
>
> ------------------------------
>
> Message: 4
> Date: Thu, 1 Nov 2007 14:57:01 +0000
> From: Mardaljevic John <jm@dmu.ac.uk>
> Subject: Aw: [Radiance-general] RE: Sketchup exporter script
> To: radiance-general@radiance-online.org
> Message-ID: <A7CC5EAE-01CA-4FCE-97EA-89272CF473D8@dmu.ac.uk>
> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
>
> Hi Thomas,
>
> Thanks for making the SU exporter plugin available --  I just tried
> it out on a fairly complex model.  The default mode seems to be to
> export surfaces by material colour rather than layer name (unless
> I've missed something).  Is there (or will there be) an option to
> export surfaces by layer name rather than material colour?
>
> Cheerio,
>
> -John
>
> -----------------------------------------------
> Dr. John Mardaljevic
> Senior Research Fellow
> Institute of Energy and Sustainable Development
> De Montfort University
> The Gateway
> Leicester
> LE1 9BH, UK
> +44 (0) 116 257 7972
> +44 (0) 116 257 7981 (fax)
>
> jm@dmu.ac.uk
> http://www.iesd.dmu.ac.uk/~jm
>
>
>
>
> ------------------------------
>
> Message: 5
> Date: Thu, 01 Nov 2007 09:09:42 -0600
> From: Rob Guglielmetti <rpg@rumblestrip.org>
> Subject: Re: Aw: [Radiance-general] RE: Sketchup exporter script
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <4729EC36.2000604@rumblestrip.org>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> tbleicher@arcor.de wrote:
> > Terrance McMinn wrote
> >
> >> Hello All,
> >>
> >> Thomas you have made an excellent contribution to the radiance
> community
> >> with your SketchUP exporter. I assume this script would also work with
> >> the free Google Version of SketchUP as well. That software was of
> >> limited use to radiance modelling as it did not have the 3DS converter
> >> available in the PRO version.
> >>
> >
> > Yes, of course. There would be no motivation for me to write a script
> > that doesn't work on the free version. But from the Ruby point of view
> > both versions are identical.
> >
>
> Yeah, I kinda wish we knew about this script about ten days ago, because
> we bought the pro version mainly for the export capabilities!  Oh well...
>
> And John M, how complex was your model?  We just successfully used
> Thomas' script to export an 80MB SketchUp model to Radiance!  Worked
> very well.  I agree with John, a choice of "by color" OR "by layer"
> would be very helpful.
>
>
>
> ------------------------------
>
> Message: 6
> Date: Thu, 1 Nov 2007 16:18:22 +0000
> From: Mardaljevic John <jm@dmu.ac.uk>
> Subject: Aw: [Radiance-general] RE: Sketchup exporter script
> To: radiance-general@radiance-online.org
> Message-ID: <0AF2CE55-A506-4A4A-BC34-DC1B6B20481D@dmu.ac.uk>
> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
>
> Hi Rob,
>
> > And John M, how complex was your model?  We just successfully used
> > Thomas' script to export an 80MB SketchUp model to Radiance!
>
> My SU model was only a 1/3 the size of yours: about 26Mb (Edges
> 124168, Faces   60278).  The Radiance export took about 13 mins on a
> 2.16GHz C2D MB (2Gb RAM).  The exported rad file was of size 13Mb and
> contained 60278 polygons.  For comparison, exporting the same model
> to Radiance via 3DS (& MGF) was much quicker but gave a rad file of
> size 38Mb with 188043 polygons (because of the conversion to
> triangles, of course).
>
> The smaller rad file did produce a number of "non-planar vertex"
> warnings (as one might expect).  I haven't tried out the model much
> since I would need to first change all the material colours in SU to
> match the scheme used for the layers.
>
> Hats off to TB for this very handy utility!
>
> -John
>
> -----------------------------------------------
> Dr. John Mardaljevic
> Senior Research Fellow
> Institute of Energy and Sustainable Development
> De Montfort University
> The Gateway
> Leicester
> LE1 9BH, UK
> +44 (0) 116 257 7972
> +44 (0) 116 257 7981 (fax)
>
> jm@dmu.ac.uk
> http://www.iesd.dmu.ac.uk/~jm
>
>
>
>
> ------------------------------
>
> Message: 7
> Date: Thu, 1 Nov 2007 18:49:28 +0000
> From: Thomas Bleicher <tbleicher@arcor.de>
> Subject: Re: [Radiance-general] RE: Sketchup exporter script
> To: Radiance general discussion <radiance-general@radiance-online.org>
> Message-ID: <BF14CC39-FA9B-4E3D-8A04-56F9A5F3C8F7@arcor.de>
> Content-Type: text/plain; charset=US-ASCII; format=flowed
>
>
> On 1 Nov 2007, at 14:57, Mardaljevic John wrote:
>
> > Hi Thomas,
> >
> > Thanks for making the SU exporter plugin available --  I just
> > tried it out on a fairly complex model.  The default mode seems
> > to be to export surfaces by material colour rather than layer
> > name (unless I've missed something).
>
> It's neither. The one and only mode exports to files based on the
> group or component instance name which is generated if it's not set.
>
> This allows you to use the Sketchup hierarchy to model efficient
> Radiance scenes with '!xform'. At the moment only components can
> be reused but Sketchup keeps track of identical groups as well;
> I just can't get this information from the API.
>
> > Is there (or will there be) an option to export surfaces by
> > layer name rather than material colour?
>
> Since you already got another one voting for it I'll look into it
> at the weekend. Should be easy to do.
>
> Thomas
>
>
>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 45, Issue 1
> ***********************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071101/1ba6c443/attachment.htm
From tbleicher at arcor.de  Thu Nov  1 15:06:13 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Nov  1 15:07:46 2007
Subject: [Radiance-general] Sketchup location settings [was Re:
	Radiance-general Digest, Vol 45, Issue 1]
In-Reply-To: <dc928a050711011348l2a3814cched446bfce84681b3@mail.gmail.com>
References: <20071101190524.2C6D653A3A2@C2B3-POP3.unb.br>
	<dc928a050711011348l2a3814cched446bfce84681b3@mail.gmail.com>
Message-ID: <B587527B-7C61-4118-9693-1A5EC6F5DA69@arcor.de>


On 1 Nov 2007, at 20:48, Evangelos Christakou wrote:

> Google Sketchup (free)  doesnt offer location settings
> (LAT/LONG), so SKY settings are  difficult!!!!
> You must have SKETCHUP Pro version to do it.
>
> Thomas, there is a way to overcome this limitation?

Ah, there is me having the inside view of the API and not so much
the outside of the GUI. Sorry, I thought there was a point to set
that directly ...

[ ... checking right now and there it is! ...]

In the 'Model Info' dialog (menu 'Windows') you will find a 'location'
entry in the left list of options. Here you can select from predefined
location in the 'locations.dat' file or roll your own via
'Custom location ...'.

One word of warning, though: When the script writes out the sky file
it reads the 'locations.dat' file, searches for the country and city
name to match the entry and uses the time offset to calculate the
standard meridian for the timezone. Not entirely accurate but it should
have the right effect on the shadow settings. If you use your own
values they are not in the file, so the standard meridian is calculated
as the nearest multiple of 15 to the location. This is wrong for
all locations east of their standard meridian (I should work on that)
and for those areas where the timezone difference does not match the
longitude (timezones that cover more than 15 degrees - don't know
what to do about that).

You will get a warning in the log file but nevertheless you should
check the final sky file if you intend serious daylight studies.
A simple solution that makes everyone happy is to add your own
locations to the 'locations.dat' file (perhaps Sketchup does that
automatically, I haven't checked).

The last time I tried the look-up on Windows it didn't work because
Sketchup couldn't find the file. It might be confused by a language
setting but I fear I have to write my own function to locate support
files ...

BTW: In the 'shadow setting' dialog (via menu entry Windows -> Shadows)
you can set day and time. I have not figured out yet if daylight saving
takes a part in this at all.

The settings 'View -> Shadows' and 'use sun for all shading' (in 'shadow
settings') define if the proposed sky type is intermediate or sunny and
has a sun or not: 'View -> Shadows' switches the sun on and off,
'use sun for all shading' switches from intermediate to sunny sky.

HTH, Thomas


-- 
When I'm old I want to be a wiki page at
http://www.bozzograo.net/radiancewiki/doku.php.
                         -- anonymous email





From bernd at bzed.de  Sat Nov  3 16:46:39 2007
From: bernd at bzed.de (Bernd Zeimetz)
Date: Sat Nov  3 16:46:46 2007
Subject: [Radiance-general] OT: Sketchup in wine
In-Reply-To: <2C0020B9EB71CE4281B292F0E16A6DDE018EB2B7@ldcexc02.global.arup.com>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<2C0020B9EB71CE4281B292F0E16A6DDE018EB2B7@ldcexc02.global.arup.com>
Message-ID: <472D085F.3070005@bzed.de>

Francesco Anselmo wrote:
> Excellent Thomas,
> 
> A very useful addition to the Radiance exporter toolset!
> It even worked on Linux, running SketchUp through Wine :-)

How stable is Sketchup when it is running in wine?
Any things to take care of?

Thanks,

Bernd

-- 
Bernd Zeimetz
<bernd@bzed.de>                         <http://bzed.de/>

From pisuke at blueyonder.co.uk  Sun Nov  4 08:06:39 2007
From: pisuke at blueyonder.co.uk (Francesco Anselmo)
Date: Sun Nov  4 08:06:54 2007
Subject: [Radiance-general] OT: Sketchup in wine
In-Reply-To: <472D085F.3070005@bzed.de>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<2C0020B9EB71CE4281B292F0E16A6DDE018EB2B7@ldcexc02.global.arup.com>
	<472D085F.3070005@bzed.de>
Message-ID: <1194192400.21399.9.camel@leviathan>


> How stable is Sketchup when it is running in wine?
> Any things to take care of?

I managed to install it through CrossOver Linux, which
is based on wine http://www.codeweavers.com/products/cxoffice/
but only in a in a win2000 "bottle".

It is not really usable, since there is an annoying
problem with buttons and menus only being rendered
when the mouse is over them, but the 3D context and
ruby integration seem to be fine, in fact I managed
to build a simple scene and export it through 
the exporter written by Thomas. 
Perhaps with a bit of effort the Codeweavers guys could
make it work well.
Just to have an idea of the problems:
http://www.bozzograo.net/radiance/pub/sketchup_wine.png

F.



From info at iebele.nl  Mon Nov  5 00:40:42 2007
From: info at iebele.nl (iebele)
Date: Mon Nov  5 00:36:24 2007
Subject: [Radiance-general] Converting Kelvin to cxy
In-Reply-To: <1194192400.21399.9.camel@leviathan>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>	<2C0020B9EB71CE4281B292F0E16A6DDE018EB2B7@ldcexc02.global.arup.com>	<472D085F.3070005@bzed.de>
	<1194192400.21399.9.camel@leviathan>
Message-ID: <472ED70A.1080008@iebele.nl>

Hi there

I try to convert different color temperatures into cie xy values for use 
in lamptab.
The script below is meant to convert degrees Kelving to cxy values, for 
use in the lamp.tab file like this :
/2800K/         0.4519 0.4086         1.0
/2150K/         0.5108 0.4150         1.0
The result is a bit strange, since the lower the kelvin value, the more 
white my resulting lampcolor gets.

Any suggestions?

-Iebele


#!/bin/csh

if ( $#argv < 1 ) then
 echo "Usage $0 KELVIN "
 echo "Convert degrees Kelvin to spectral values and cie-xy "
endif

echo "cct $1"  > .Kelvin.tmp
echo ""
echo "spectral values of $1 K source:"
mgfilt c,cspec .Kelvin.tmp
echo ""
echo "cie xy values of $1 K source:"
mgfilt c,cxy .Kelvin.tmp
echo ""


From jelleferinga at gmail.com  Mon Nov  5 02:09:10 2007
From: jelleferinga at gmail.com (jelle feringa)
Date: Mon Nov  5 02:09:18 2007
Subject: [Radiance-general] per-vertex coloring
In-Reply-To: <37fac3b90711050208pf575ce6m936ea2f789174ad2@mail.gmail.com>
References: <37fac3b90711050200u9367c2eo3fa6c97eb6ab940a@mail.gmail.com>
	<37fac3b90711050208pf575ce6m936ea2f789174ad2@mail.gmail.com>
Message-ID: <37fac3b90711050209m9dd0999oaea8f6573e670fa5@mail.gmail.com>

Hi,

For a project I'm currently working on, I'd like to convert a mesh, which is
colored on a per-vertex basis to Radiance.
Polygon seems the most likely primitive to do so, but I'm curious to know
how I can achieve per-vertex coloring in Radiance effectively. Of course,
writing a face with its colors wouldn't really work out here, since I would
need some form of interpolation of the color values between the different
faces, or things would get pretty ugly. Has anyone run into this kind of
conversion? Any pointers much appreciated!

Cheers,

-jelle
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071105/b4e48df9/attachment.htm
From loscotec at libero.it  Mon Nov  5 03:13:49 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Mon Nov  5 03:26:31 2007
Subject: [Radiance-general] Looking for some pubblications for my thesys.
Message-ID: <JR15V1$F8E0B03DB8319118430127814406A6D7@libero.it>

Hey, thanks you all for the help you gave me (really much more than what I expected). I'm sorry for the late I'm replying but I was not at my computer I did have just time to read your mails and not to reply them. And sorry also 'cosue I guess I'll send more then one reply (to keep them readable by the people I'm replying to. 

So this one is for Rob and Erwin.


ROB : Thanks Rob. Mardalljevic's gave me access and I did take a fast look at that thesys and it looks really interesting. I'll print it and start studying it.

ERWIN : thank you very much for your long and interesting reply. If you have time to send me some links  and documents it will be great (the more material I have, the more accurate my studies will be) . As about the german language pubblication, I studied a little german, so maybe I could orient myself through the text and hopefully there  will be images and charts which don't need to be translated to be understood, in the end I have some friends and a cousin from Austria who could help me. (and still the more material.. :-P)

As about why should university pay.. well, the point is that my thesys is not yet defined. Being so 'sperimental' and about such 'new' themes, we do not know yet what to do. I'll try to explain - and this will be quite an answer to another reply.

IDEA : Firstly my teacher wanted to simulate tunnel's illumination to avoid the incredible power waste tunnels are involved in. As you could now this is quite a problem in Italy 'couse we do not have much energy and we do have more tunnels than any other country (in proportion), and of course for pollution deriving by power-wastes.

WHY RADIANCE : Considering my interest in linux, opensource and so on and the fact that radiance is increasing in importance and power and looks to be one of the more accurate softwares abnout light simulation, and of course, for it beeing free, the choose was immediate. And while going through the studying it, I realized we really didn't mistake.

ARE WE REALY SURE? : But beeing an engeneeristic thesys it should have strong basys, so it's not enough to read all over that radiance is accurate and so on, mainly said by developers. And it is not even enough to realize that commercial softwares integrate it, We do need proofs  it is really accurate. So we decided : did anyone already checked it and do we have scientific proofs about it? So get them, and , with authors permission report them or refer to them in thesys and let's go on with tunnel's project. Do we not have this resuorces or  are them missing some important informations (about tunnel's project or not)? Let's improve documentation aboput it. 

SO, WHEN WILL IT BE CONSIDERED FINISHED? Not known. Actually, probably, it will start as a thesys, but it will end up to be a research project, so there will not really be the need to finish the thesys as it will be continued after graduation.

Geuss I have been a little to long explaining and I hope it is understandable, if not, just ask !! ;) 

Lucio


Ps, thanks for advises about how to build my test scenarios ! 



.Hi Lucio,
.
.I am working with Radiance since 1993 and over the years I have collected quite a few documents that might be of interest to you. If you want I can send you a list or download links (or the actual documents since some of them have disappeard from the net in the meantime).
.
.In 2004/2005 I initiated a research project which was funded by the EU and the Tyrolean government and together with Bartenbach (a lighting designer and developer) and the University of Innsbruck, Department for Mathematics and Informatics we did a benchmark between the Radiance simulation package and conventional methods, i.e. building a 1/10 model of a real/existing room. The goal was to eveluate the strengths and weaknesses of both methods under different aspects. The benchmark included evaluating/comparing both visual and numerical results.
.
.Unfortunatly this publication is only available in German language but I guess it could be translated to English quite easily. On the other hand I can't promise that I would have time to do this myself any time soon.
.
.However, if you decide to go through a comparison process yourself I would advise you to use an existing room/building as a basis. This way you can measure real world data to use as a reference. Then you would build both, a conventional and a computer model and mesure the results again and compare them with your real world data. I hope I am making sense? There a many aspects which will come up (like how for instance you scale your luminaires or certain materials in a 1/10 model) but I dont want to take away all the fun - in the end it's your thesis ;-)
.
.What I dont quite understand is why your university would pay for an existing publication that already covers what you want to do? Or did I misunderstand that part completely?
.
.Regards,
. Erwin
.
.-------- Original Message --------
.Subject: [Radiance-general] Looking for some pubblications for my thesys. (30-Okt-2007 12:58)
.From:    loscotec\@libero\.it <loscotec@libero.it>
.To:      radiance-general@radiance-online.org
.
.> Hello everybody!
.> 
.> I'm Lucio Boscolo Mezzopan an itlaian student of electrical engeenering, 
.> new member of this mailinglist.
.> 
.> I'm italian as I told, so, sorry for my bad english and feel free to 
.> correct me if you like.
.> 
.> Now, my first question and a little more presentation.
.> 
.> I'm doing my thesys project to quit with university.
.> 
.> The projects involves Radiance and it is not yet defined how it will be in 
.> the end, but for the moment, my task is to check Radiace precision.
.> 
.> In other words, I have to find out if Radiance simulates well reality. I 
.> could it in two ways: building up a model and measuring real behaviour and 
.> simulating it and comparing the datas, or look for someone else who did the 
.> same.
.> 
.> Can you help me? Do you know about some pubblication having done this 
.> already ? It would be better it to be free of charge, but also if I (
.> actually my university) has to pay for it, it could be great!
.> 
.> Many thanks in advance
.> 
.> Have good time :)
.> 
.> Lucio
.> 
.> _______________________________________________
.> Radiance-general mailing list
.> Radiance-general@radiance-online.org
.> http://www.radiance-online.org/mailman/listinfo/radiance-general
.> 
.> To: radiance-general@radiance-online.org
.
.
._______________________________________________
.Radiance-general mailing list
.Radiance-general@radiance-online.org
.http://www.radiance-online.org/mailman/listinfo/radiance-general
.

.. Caminante no hay camino, solo se hace camino al andar .. 

From loscotec at libero.it  Mon Nov  5 03:21:52 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Mon Nov  5 03:30:21 2007
Subject: [Radiance-general] Looking for some pubblications for my thesys.
Message-ID: <JR168G$78BE0F51E8E412DE34855E03DCC21A74@libero.it>

Hey, thanks you all for the help you gave me (really much more than what I expected). I'm sorry for the late I'm replying but I was not at my computer I did have just time to read your mails and not to reply them. And sorry also 'cosue I guess I'll send more then one reply (to keep them readable by the people I'm replying to. 

So this one is for Rob and Erwin.


ROB : Thanks Rob. Mardalljevic's gave me access and I did take a fast look at that thesys and it looks really interesting. I'll print it and start studying it.

ERWIN : thank you very much for your long and interesting reply. If you have time to send me some links  and documents it will be great (the more material I have, the more accurate my studies will be) . As about the german language pubblication, I studied a little german, so maybe I could orient myself through the text and hopefully there  will be images and charts which don't need to be translated to be understood, in the end I have some friends and a cousin from Austria who could help me. (and still the more material.. :-P)

As about why should university pay.. well, the point is that my thesys is not yet defined. Being so 'sperimental' and about such 'new' themes, we do not know yet what to do. I'll try to explain - and this will be quite an answer to another reply.

IDEA : Firstly my teacher wanted to simulate tunnel's illumination to avoid the incredible power waste tunnels are involved in. As you could now this is quite a problem in Italy 'couse we do not have much energy and we do have more tunnels than any other country (in proportion), and of course for pollution deriving by power-wastes.

WHY RADIANCE : Considering my interest in linux, opensource and so on and the fact that radiance is increasing in importance and power and looks to be one of the more accurate softwares abnout light simulation, and of course, for it beeing free, the choose was immediate. And while going through the studying it, I realized we really didn't mistake.

ARE WE REALY SURE? : But beeing an engeneeristic thesys it should have strong basys, so it's not enough to read all over that radiance is accurate and so on, mainly said by developers. And it is not even enough to realize that commercial softwares integrate it, We do need proofs  it is really accurate. So we decided : did anyone already checked it and do we have scientific proofs about it? So get them, and , with authors permission report them or refer to them in thesys and let's go on with tunnel's project. Do we not have this resuorces or  are them missing some important informations (about tunnel's project or not)? Let's improve documentation aboput it. 

SO, WHEN WILL IT BE CONSIDERED FINISHED? Not known. Actually, probably, it will start as a thesys, but it will end up to be a research project, so there will not really be the need to finish the thesys as it will be continued after graduation.

Geuss I have been a little to long explaining and I hope it is understandable, if not, just ask !! ;) 

Lucio


Ps, thanks for advises about how to build my test scenarios ! 



.Hi Lucio,
.
.I am working with Radiance since 1993 and over the years I have collected quite a few documents that might be of interest to you. If you want I can send you a list or download links (or the actual documents since some of them have disappeard from the net in the meantime).
.
.In 2004/2005 I initiated a research project which was funded by the EU and the Tyrolean government and together with Bartenbach (a lighting designer and developer) and the University of Innsbruck, Department for Mathematics and Informatics we did a benchmark between the Radiance simulation package and conventional methods, i.e. building a 1/10 model of a real/existing room. The goal was to eveluate the strengths and weaknesses of both methods under different aspects. The benchmark included evaluating/comparing both visual and numerical results.
.
.Unfortunatly this publication is only available in German language but I guess it could be translated to English quite easily. On the other hand I can't promise that I would have time to do this myself any time soon.
.
.However, if you decide to go through a comparison process yourself I would advise you to use an existing room/building as a basis. This way you can measure real world data to use as a reference. Then you would build both, a conventional and a computer model and mesure the results again and compare them with your real world data. I hope I am making sense? There a many aspects which will come up (like how for instance you scale your luminaires or certain materials in a 1/10 model) but I dont want to take away all the fun - in the end it's your thesis ;-)
.
.What I dont quite understand is why your university would pay for an existing publication that already covers what you want to do? Or did I misunderstand that part completely?
.
.Regards,
. Erwin
.
.-------- Original Message --------
.Subject: [Radiance-general] Looking for some pubblications for my thesys. (30-Okt-2007 12:58)
.From:    loscotec\@libero\.it <loscotec@libero.it>
.To:      radiance-general@radiance-online.org
.
.> Hello everybody!
.> 
.> I'm Lucio Boscolo Mezzopan an itlaian student of electrical engeenering, 
.> new member of this mailinglist.
.> 
.> I'm italian as I told, so, sorry for my bad english and feel free to 
.> correct me if you like.
.> 
.> Now, my first question and a little more presentation.
.> 
.> I'm doing my thesys project to quit with university.
.> 
.> The projects involves Radiance and it is not yet defined how it will be in 
.> the end, but for the moment, my task is to check Radiace precision.
.> 
.> In other words, I have to find out if Radiance simulates well reality. I 
.> could it in two ways: building up a model and measuring real behaviour and 
.> simulating it and comparing the datas, or look for someone else who did the 
.> same.
.> 
.> Can you help me? Do you know about some pubblication having done this 
.> already ? It would be better it to be free of charge, but also if I (
.> actually my university) has to pay for it, it could be great!
.> 
.> Many thanks in advance
.> 
.> Have good time :)
.> 
.> Lucio
.> 
.> _______________________________________________
.> Radiance-general mailing list
.> Radiance-general@radiance-online.org
.> http://www.radiance-online.org/mailman/listinfo/radiance-general
.> 
.> To: radiance-general@radiance-online.org
.
.
._______________________________________________
.Radiance-general mailing list
.Radiance-general@radiance-online.org
.http://www.radiance-online.org/mailman/listinfo/radiance-general
.

.. Caminante no hay camino, solo se hace camino al andar .. 

From grobe at gmx.net  Mon Nov  5 05:47:07 2007
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon Nov  5 05:50:45 2007
Subject: [Radiance-general] Looking for some pubblications for my thesys.
In-Reply-To: <JR15V1$F8E0B03DB8319118430127814406A6D7@libero.it>
References: <JR15V1$F8E0B03DB8319118430127814406A6D7@libero.it>
Message-ID: <472F1EDB.1090201@gmx.net>

> IDEA : Firstly my teacher wanted to simulate tunnel's illumination

Try to get a copy of "Renderin with Radiance" (often refered to as RwR 
here) before you start! There has been work done with Radiance 
concerning simulation of road lighting, there have been studies about 
how to model the materials (important for you - wet streets give very 
different problems then a dry summer day), on glare effects etc. You 
should know these before you start.

Good luck!

CU Lars.

From loscotec at libero.it  Mon Nov  5 05:59:32 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Mon Nov  5 05:59:54 2007
Subject: [Radiance-general] Looking for some pubblications for my thesys.
Message-ID: <JR1DJ8$F780FB99E610259ADA1FED22E1069C3E@libero.it>

Hi Lars !! 

Thank you very much for your reply !! 

I described what's my thesys about in the previous reply, so, no need to rewrite everything here.. just a little add: according to what my teacher said thesys will probably be mainly about street illumination.

Lucio


.Hi Lucio!
.
.I think it is necessary to give you a hint before you start this. Every simulation tries to approach the reality of a system. That means you must know the system you want to simulate before you can select a simulation technique.
.
.Radiance is a simulation application that was made with architectural / building models in mind. You can simulate lots of effects that are relevant in finding glare, getting the illumination levels (e.g. to decide if lighting is efficient for a given use of a space) etc. On the other hand, Radiance was not developed to e.g. model the effects of reflector or lense systems. It is a question of scale, materials, effects relevent for the application.
.
.So what I want to explain is - it does not make sense to find out "how accurate" Radiance is. If you have a problem to solve (e.g. simulating a given type of facade, or modeling a new material), it will be easy to find out if Radiance is a suiteable tool. And only than, people will be interested in accuracy (qualitive or/and quantitive).
.
.In other words, I am (and I guess others are, too) curious what system (building, solar system, christmas tree) you want to simulate, and what effects are important and determine accuracy for you...
.
.Good luck, CU Lars.
.
._______________________________________________
.Radiance-general mailing list
.Radiance-general@radiance-online.org
.http://www.radiance-online.org/mailman/listinfo/radiance-general
.

.. Caminante no hay camino, solo se hace camino al andar .. 

From loscotec at libero.it  Mon Nov  5 06:02:28 2007
From: loscotec at libero.it (loscotec@libero.it)
Date: Mon Nov  5 06:02:34 2007
Subject: [Radiance-general] Looking for some pubblications for my thesys.
Message-ID: <JR1DO4$1C37E1F08DDB204F986AAE4FC473154F@libero.it>

We worte each other at the same time Lars.. thank you again.

My university is trying to get that book, but it looks like they print it on request. So, it is taking much time to get it. Anyhow, hope it will arrive in time. 

Lucio

I.> IDEA : Firstly my teacher wanted to simulate tunnel's illumination
.
.Try to get a copy of "Renderin with Radiance" (often refered to as RwR 
.here) before you start! There has been work done with Radiance 
.concerning simulation of road lighting, there have been studies about 
.how to model the materials (important for you - wet streets give very 
.different problems then a dry summer day), on glare effects etc. You 
.should know these before you start.
.
.Good luck!
.
.CU Lars.
.
._______________________________________________
.Radiance-general mailing list
.Radiance-general@radiance-online.org
.http://www.radiance-online.org/mailman/listinfo/radiance-general
.

.. Caminante no hay camino, solo se hace camino al andar .. 

From gward at lmi.net  Mon Nov  5 13:43:21 2007
From: gward at lmi.net (Greg Ward)
Date: Mon Nov  5 15:39:50 2007
Subject: [Radiance-general] Re: Converting Kelvin to cxy
In-Reply-To: <472ED70A.1080008@iebele.nl>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>	<2C0020B9EB71CE4281B292F0E16A6DDE018EB2B7@ldcexc02.global.arup.com>	<472D085F.3070005@bzed.de>
	<1194192400.21399.9.camel@leviathan> <472ED70A.1080008@iebele.nl>
Message-ID: <341F2A4F-1CF0-45EE-89A7-CA77885C7504@lmi.net>

Hi Iebele,

Actually, white would be "cxy 0.3333 0.3333", so the values you are  
getting are actually becoming redder as the temperature decreases, as  
expected.

There is nothing wrong with this method for computing CIE (x,y) from  
CCT -- it's probably best.  You can check against the other  
approximation, which is a table-based lookup in src/cal/cal/ 
blackbody.cal.  Just load this file into icalc or rcalc and evaluate  
the cct_x(kelvin) and cct_y(kelvin) with the same argument.

Best,
-Greg

> From: iebele <info@iebele.nl>
> Date: November 5, 2007 1:40:42 AM MST
>
> Hi there
>
> I try to convert different color temperatures into cie xy values  
> for use in lamptab.
> The script below is meant to convert degrees Kelving to cxy values,  
> for use in the lamp.tab file like this :
> /2800K/         0.4519 0.4086         1.0
> /2150K/         0.5108 0.4150         1.0
> The result is a bit strange, since the lower the kelvin value, the  
> more white my resulting lampcolor gets.
>
> Any suggestions?
>
> -Iebele
>
>
> #!/bin/csh
>
> if ( $#argv < 1 ) then
> echo "Usage $0 KELVIN "
> echo "Convert degrees Kelvin to spectral values and cie-xy "
> endif
>
> echo "cct $1"  > .Kelvin.tmp
> echo ""
> echo "spectral values of $1 K source:"
> mgfilt c,cspec .Kelvin.tmp
> echo ""
> echo "cie xy values of $1 K source:"
> mgfilt c,cxy .Kelvin.tmp
> echo ""

From info at aisarquitectura.com  Tue Nov  6 00:34:41 2007
From: info at aisarquitectura.com (Ignacio Munarriz)
Date: Tue Nov  6 00:35:12 2007
Subject: [Radiance-general] difusse reflections
In-Reply-To: <341F2A4F-1CF0-45EE-89A7-CA77885C7504@lmi.net>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>	<2C0020B9EB71CE4281B292F0E16A6DDE018EB2B7@ldcexc02.global.arup.com>	<472D085F.3070005@bzed.de>	<1194192400.21399.9.camel@leviathan>
	<472ED70A.1080008@iebele.nl>
	<341F2A4F-1CF0-45EE-89A7-CA77885C7504@lmi.net>
Message-ID: <47302721.3000401@aisarquitectura.com>

what dou you thing about using irradiance gradients with diffuse 
reflections? i've made a little hack in radiance code and obtained this 
www.aisarquitectura.com/archivos/romi.jpg , the flloor is defined as
    void metal suelo
     0
     0
     5  .8  .8  .8  .9  0.3


i think i've missed something because the fllor is too dark, but it`s 
enough to see the effect

From gward at lmi.net  Tue Nov  6 13:15:16 2007
From: gward at lmi.net (Greg Ward)
Date: Tue Nov  6 13:15:36 2007
Subject: [Radiance-general] difusse reflections
In-Reply-To: <47302721.3000401@aisarquitectura.com>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>	<2C0020B9EB71CE4281B292F0E16A6DDE018EB2B7@ldcexc02.global.arup.com>	<472D085F.3070005@bzed.de>	<1194192400.21399.9.camel@leviathan>
	<472ED70A.1080008@iebele.nl>
	<341F2A4F-1CF0-45EE-89A7-CA77885C7504@lmi.net>
	<47302721.3000401@aisarquitectura.com>
Message-ID: <22F0F5F2-EA50-4DFA-9EEA-019B889EC20A@lmi.net>

Hi Ignacio,

I'm not sure of your question, but there has been work on what's  
called "radiance caching" (as opposed to "irradiance caching") by  
Pascal Gautron <http://www.irisa.fr/siames/Pascal.Gautron/> and  
Jaroslav K?iv?nek <http://www.cgg.cvut.cz/members/xkrivanj/>, among  
others.

-Greg

> From: Ignacio Munarriz <info@aisarquitectura.com>
> Date: November 6, 2007 1:34:41 AM MST
>
> what dou you thing about using irradiance gradients with diffuse  
> reflections? i've made a little hack in radiance code and obtained  
> this www.aisarquitectura.com/archivos/romi.jpg , the flloor is  
> defined as
>    void metal suelo
>     0
>     0
>     5  .8  .8  .8  .9  0.3
>
> i think i've missed something because the fllor is too dark, but  
> it`s enough to see the effect

From info at aisarquitectura.com  Wed Nov  7 00:01:59 2007
From: info at aisarquitectura.com (Ignacio Munarriz)
Date: Wed Nov  7 00:02:10 2007
Subject: [Radiance-general] difusse reflections
In-Reply-To: <22F0F5F2-EA50-4DFA-9EEA-019B889EC20A@lmi.net>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>	<2C0020B9EB71CE4281B292F0E16A6DDE018EB2B7@ldcexc02.global.arup.com>	<472D085F.3070005@bzed.de>	<1194192400.21399.9.camel@leviathan>	<472ED70A.1080008@iebele.nl>	<341F2A4F-1CF0-45EE-89A7-CA77885C7504@lmi.net>	<47302721.3000401@aisarquitectura.com>
	<22F0F5F2-EA50-4DFA-9EEA-019B889EC20A@lmi.net>
Message-ID: <473170F7.2040603@aisarquitectura.com>

from Jaroslav K?iv?nek
"Radiance Caching is a ray tracing-based method for accelerated global 
illumination computation in scenes with low-frequency glossy BRDFs. The 
method is based on sparse sampling, caching, and interpolating radiance 
on glossy surfaces. In particular we extend the irradiance caching 
scheme proposed by Ward et al. in 1988 to cache and interpolate 
directional incoming radiance instead of irradiance. The incoming 
radiance at a point is represented by a vector of coefficients with 
respect to a spherical or hemispherical basis."

oh yes, it's radiance caching, i must read more :-)

Greg Ward escribi?:
> Hi Ignacio,
>
> I'm not sure of your question, but there has been work on what's 
> called "radiance caching" (as opposed to "irradiance caching") by 
> Pascal Gautron <http://www.irisa.fr/siames/Pascal.Gautron/> and 
> Jaroslav K?iv?nek <http://www.cgg.cvut.cz/members/xkrivanj/>, among 
> others.
>
> -Greg
>
>> From: Ignacio Munarriz <info@aisarquitectura.com>
>> Date: November 6, 2007 1:34:41 AM MST
>>
>> what dou you thing about using irradiance gradients with diffuse 
>> reflections? i've made a little hack in radiance code and obtained 
>> this www.aisarquitectura.com/archivos/romi.jpg , the flloor is 
>> defined as
>>    void metal suelo
>>     0
>>     0
>>     5  .8  .8  .8  .9  0.3
>>
>> i think i've missed something because the fllor is too dark, but it`s 
>> enough to see the effect
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

From tbleicher at arcor.de  Wed Nov  7 14:59:56 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Wed Nov  7 15:01:28 2007
Subject: [Radiance-general] per-vertex coloring
In-Reply-To: <37fac3b90711050209m9dd0999oaea8f6573e670fa5@mail.gmail.com>
References: <37fac3b90711050200u9367c2eo3fa6c97eb6ab940a@mail.gmail.com>
	<37fac3b90711050208pf575ce6m936ea2f789174ad2@mail.gmail.com>
	<37fac3b90711050209m9dd0999oaea8f6573e670fa5@mail.gmail.com>
Message-ID: <E2B74F52-0673-44BA-B7ED-247C9DBFCE4D@arcor.de>


On 5 Nov 2007, at 10:09, jelle feringa wrote:

> Hi,
>
> For a project I'm currently working on, I'd like to convert a mesh,
> which is colored on a per-vertex basis to Radiance.

Sorry, this comes a bit late.

Greg has posted a script for plotting values with Radiance tools
recently. An extension to that was the creation of a texture and
mapping it onto the surface.

Have you considered creating a texture from your vertex colours?

Regards,
Thomas

From gward at lmi.net  Wed Nov  7 16:14:35 2007
From: gward at lmi.net (Greg Ward)
Date: Wed Nov  7 16:14:34 2007
Subject: [Radiance-general] per-vertex coloring
In-Reply-To: <E2B74F52-0673-44BA-B7ED-247C9DBFCE4D@arcor.de>
References: <37fac3b90711050200u9367c2eo3fa6c97eb6ab940a@mail.gmail.com>
	<37fac3b90711050208pf575ce6m936ea2f789174ad2@mail.gmail.com>
	<37fac3b90711050209m9dd0999oaea8f6573e670fa5@mail.gmail.com>
	<E2B74F52-0673-44BA-B7ED-247C9DBFCE4D@arcor.de>
Message-ID: <615041F1-8F2F-434A-93F6-4560E077C00F@lmi.net>

That's funny -- I didn't remember ever writing such a script, but  
sure enough, Thomas is right:

	http://www.radiance-online.org/pipermail/radiance-general/2005- 
February/002444.html

Unfortunately, even if you modified this script to render cones  
rather than spheres in order to get a Voronoi diagram, it wouldn't  
give you the kind of smooth results you are probably after.

None of the Radiance tools or converters really supports per-vertex  
color.  However, gensurf, mgf2rad, and obj2rad all support per-vertex  
normals, which are substantially similar.  It should be possible to  
pass the output of one of these programs through rcalc and convert  
the per-vertex normals to per-vertex colors, but it would be a very  
nasty-looking script that would take me an hour or two to put together.

A C-program that generates a Radiance picture you could use as a  
texture as Thomas suggests might even be easier to write.

-Greg

> From: Thomas Bleicher <tbleicher@arcor.de>
> Date: November 7, 2007 3:59:56 PM MST
>
> On 5 Nov 2007, at 10:09, jelle feringa wrote:
>
>> Hi,
>>
>> For a project I'm currently working on, I'd like to convert a mesh,
>> which is colored on a per-vertex basis to Radiance.
>
> Sorry, this comes a bit late.
>
> Greg has posted a script for plotting values with Radiance tools
> recently. An extension to that was the creation of a texture and
> mapping it onto the surface.
>
> Have you considered creating a texture from your vertex colours?
>
> Regards,
> Thomas

From Giulio.Antonutto at arup.com  Thu Nov  8 03:48:07 2007
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu Nov  8 03:49:51 2007
Subject: [Radiance-general] water - any news???
Message-ID: <CC0B19F4C6132F4D9FDDEBF194200FB5045C51AB@ldcexc02.global.arup.com>

"You might be able to get Radiance to find the sun for a still body of
water using the 'prism2' type, but you have to know what you're doing.
How important is this to you?  If you're just going for looks and not
very interested in physical accuracy, go ahead and use 'glass'.  At
least you will be able to see the bottom of your pool that way.
-Greg"

 

Just going through and old question... simulating water properly.

Did anybody do anything bout this in the last 10 years? Any news? All
still using glass? 

For who may not know the interface/dielectric primitive struggle to
solve the direct light component, hence it is not trivial to simulate a
pool with Radiance.

We incidentally realized of this problem when dealing with water in
daytime, which indeed looks very dark...

(in fact for nighttimes shots a wavy mirror is often good looking
enough...)

Any input?

G>

 

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071108/e959002b/attachment.htm
From Annica.Nilsson at Angstrom.uu.se  Thu Nov  8 04:14:34 2007
From: Annica.Nilsson at Angstrom.uu.se (Annica Nilsson)
Date: Thu Nov  8 04:16:04 2007
Subject: [Radiance-general] 3ds import to Daysim
Message-ID: <4732FDAA.6020604@Angstrom.uu.se>

Hello All,

My name is Annica Nilsson and I am new to this mailing list. I have just 
started my PhD studies at Uppsala University, Sweden, where my project 
will be related to optical characterization, daylighting simulations, 
and energy aspects. I am currently not a Mac user and I?ve therefore 
chosen to work with Daysim. I understand that this is a radiance mailing 
list, but I believe that Daysim is well-known to at least some of you, 
and I?m hoping that you will be able to help me.

My problem is that when I import my SketchUp files to Daysim the 
resulting material file references the ImportFrom3ds.geo.ra file rather 
than the C:/DAYSIM/materials/ catalogue, which from my understanding is 
the preferred reference.

This occurs for all materials in the SketchUp file that I have created 
and for the glazing materials in the example file (PrivateOffices.3ds) 
included with the Daysim program.

I?m using the DaysimMaterialsForSketchUp in my sketch and I have the 
style set to ?Monochrom? before I export the 3ds file. What else do I 
need to think of when creating/exporting/importing my drawings?

I am new to the daylighting simulation world, but I?m hoping to learn, 
and I appreciate any hints, ideas, comments and help I can get.

Best regards,
Annica


From grobe at gmx.net  Thu Nov  8 05:22:53 2007
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Nov  8 05:26:35 2007
Subject: [Radiance-general] 3ds import to Daysim
In-Reply-To: <4732FDAA.6020604@Angstrom.uu.se>
References: <4732FDAA.6020604@Angstrom.uu.se>
Message-ID: <47330DAD.8050308@gmx.net>

> and energy aspects. I am currently not a Mac user and I?ve therefore 
> chosen to work with Daysim.

Hi,

I cannot be helpful as I never worked with Daysim. But if it only the 
missing Mac - you can run Radiance on virtually every platform. For you, 
obviously sitting in front of a x86 PC, the easiest choice would be the 
Linux port (which is currently on its way to get included into the 
Debian Linux Distribution) or the various ways to run it on Windows. 
There are also bootable CDs available (Learnix).

CU Lars.

From cbm at cvmt.aau.dk  Thu Nov  8 07:07:22 2007
From: cbm at cvmt.aau.dk (Claus B. Madsen)
Date: Thu Nov  8 07:07:17 2007
Subject: [Radiance-general] Noise free rendering of simple sun/sky scene
Message-ID: <4733262A.40005@cvmt.aau.dk>




Dear all,

I am new to this list .. and not all that experienced in using Radiance.

I have problems determining render parameter settings that will produce 
an (almost) noise free rendering of simple scenes illuminated by a sky 
dome and a sun disk. I want to have soft shadows from both the sky dome 
(180 degree source) and the Sun (0.53 degree source). My .rad file is 
listed below. I realize that both sources (sky and sun) are "white" ... 
thats not the issue ... I am just sending the simplest form of the types 
of scenes I wish to render.

I am rendering with these parameters, but the results are horrobly 
noisy, and I do not get soft shadows from the Sun:
rpict -x 640 -y 480 -ab 2 -aw 0 -dr 3 -dp 4096 -ds 0.01 -dj 0.6

I have the Rendering with Radiance book, but cannot really find a clear 
"how to" in terms of setting the parameters so that my picture comes out 
right.

Hope I am not offending anybody by posting such a simple problem.

Sincerely,
Claus

P.S. I am performing research in Augmented Reality and will be using my 
renderings in conjunction with techniques I have developed for 
estimating the Sun and the Sky radiances from images of real scenes. I 
will the render some simple geometry using Radiance and compose into the 
image with correct shading and shadows


------------------------------------------------------------------------------------------------------------
# Materials

void plastic white_matte
0
0
5 1.0 1.0 1.0 0 0



# Objects

white_matte sphere ball4
0
0
4 0.0 0.0 2.0 2.0


!genbox white_matte groundplane \
20 20 0.5 -r 0.08 | xform -t -10 -10 -0.25



# Illumination environment: a 0.53 degree diameter disk and a
# 180 degree skydome

# The Sun ... radiance set to provide unity irradiance for
# normal pointing right into the sun
void light sunradiance
0
0
3 14880 14880 14880


sunradiance source TheSun
0
0
4 -1 -1 1 0.53



# The Sky ... radiance set to provide unity irradiance for
# normal pointing right into the sky
void light skyradiance
0
0
3 0.159 0.159 0.159

skyradiance source TheSky
0
0
4 0 0 1 180.0
------------------------------------------------------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cbm.vcf
Type: text/x-vcard
Size: 391 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071108/a069934d/cbm.vcf
From Christoph.Reinhart at nrc-cnrc.gc.ca  Thu Nov  8 07:18:48 2007
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Thu Nov  8 07:18:56 2007
Subject: [Radiance-general] 3ds import to Daysim
In-Reply-To: <4732FDAA.6020604@Angstrom.uu.se>
Message-ID: <5910A0754536EA4AAD411AE8221C3962029D8E46@nrccenexb1.nrc.ca>

Dear Annica:

We have a little Daysim discussion forum going under
http://groups.google.com/group/daysim which might be better than
Radiance-online for Daysim-specific requests. In the archives of the
forum you will find that the problem that you are encountering is due to
that fact that SketchUP somehow changed their 3ds output files in
version 5 and up, REDUCING the number of characters allowed for each
material layer in 3ds. This has lead to the problem that most material
names are shortened and that the Daysim library does not recognize them
any more. As a workaround you have to manually change the material
descriptions for your Daysim/Radiance scene as described in the
tutorial.

Good luck and let me know in case your problems persist.

Christoph 

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of
Annica Nilsson
Sent: Thursday, November 08, 2007 7:15 AM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] 3ds import to Daysim

Hello All,

My name is Annica Nilsson and I am new to this mailing list. I have just
started my PhD studies at Uppsala University, Sweden, where my project
will be related to optical characterization, daylighting simulations,
and energy aspects. I am currently not a Mac user and I've therefore
chosen to work with Daysim. I understand that this is a radiance mailing
list, but I believe that Daysim is well-known to at least some of you,
and I'm hoping that you will be able to help me.

My problem is that when I import my SketchUp files to Daysim the
resulting material file references the ImportFrom3ds.geo.ra file rather
than the C:/DAYSIM/materials/ catalogue, which from my understanding is
the preferred reference.

This occurs for all materials in the SketchUp file that I have created
and for the glazing materials in the example file (PrivateOffices.3ds)
included with the Daysim program.

I'm using the DaysimMaterialsForSketchUp in my sketch and I have the
style set to "Monochrom" before I export the 3ds file. What else do I
need to think of when creating/exporting/importing my drawings?

I am new to the daylighting simulation world, but I'm hoping to learn,
and I appreciate any hints, ideas, comments and help I can get.

Best regards,
Annica


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From grobe at gmx.net  Thu Nov  8 07:17:17 2007
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Nov  8 07:21:12 2007
Subject: [Radiance-general] Noise free rendering of simple sun/sky scene
In-Reply-To: <4733262A.40005@cvmt.aau.dk>
References: <4733262A.40005@cvmt.aau.dk>
Message-ID: <4733287D.7060106@gmx.net>

Hi Claus,

without having seen the results - usually such artefacts result from 
weak ar, ad, as settings. We also do not know the scene. Can you provide 
us both with a sketch (e.g. wireframe screenshot or hand drawing) and an 
image showing the noise, both low res and/or an a website? Usually you 
can improve the visual quality by either setting higher values for the 
ambient parameters or using workarounds as mkillum.

One other hint. Create a rif file and render using rad. That will help a 
lot at the beginning, as rad will set some parameters for your scene 
(and you can display those).


Good luck! CU Lars.

From jedev at visarc.com  Thu Nov  8 07:31:32 2007
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Nov  8 07:32:02 2007
Subject: [Radiance-general] Noise free rendering of simple sun/sky scene
In-Reply-To: <4733262A.40005@cvmt.aau.dk>
References: <4733262A.40005@cvmt.aau.dk>
Message-ID: <47332BD4.2090700@visarc.com>

Hi Claus,

I suspect that the noise you are seeing is a results of the -dj 
parameter. There are a couple of things to note here:

   1. oversample the image - eg render at higher resolution (3x to 6x
      desired final resolution) and then downsample with: pfilt -r .6 -x
      /3 -y /3 oversample.pic > final.pic (this would reduce the image
      size 3x and apply a gaussian filter)
   2. reduce -dj setting - this will produce less sampling jitter, but I
      am not sure what your objective is here
   3. pseudo random monte carlo vs. random monte carlo sampling - when
      run with normal parameter settings radiance (rpict) uses pseudo
      random sampling, with this you may notice directionality or
      striation effects in the jittered samples, alternatively radiance
      can be run with uncorrelated sampling by using the -u switch, this
      will get rid of the directional effects but may require even
      greater oversampling to reduce sampling noise due to the random
      sampling

Hopefully this helps, I expect that you may get other input from the 
list as well.

Regards,

-Jack de Valpine


Claus B. Madsen wrote:
>
>
>
> Dear all,
>
> I am new to this list .. and not all that experienced in using Radiance.
>
> I have problems determining render parameter settings that will 
> produce an (almost) noise free rendering of simple scenes illuminated 
> by a sky dome and a sun disk. I want to have soft shadows from both 
> the sky dome (180 degree source) and the Sun (0.53 degree source). My 
> .rad file is listed below. I realize that both sources (sky and sun) 
> are "white" ... thats not the issue ... I am just sending the simplest 
> form of the types of scenes I wish to render.
>
> I am rendering with these parameters, but the results are horrobly 
> noisy, and I do not get soft shadows from the Sun:
> rpict -x 640 -y 480 -ab 2 -aw 0 -dr 3 -dp 4096 -ds 0.01 -dj 0.6
>
> I have the Rendering with Radiance book, but cannot really find a 
> clear "how to" in terms of setting the parameters so that my picture 
> comes out right.
>
> Hope I am not offending anybody by posting such a simple problem.
>
> Sincerely,
> Claus
>
> P.S. I am performing research in Augmented Reality and will be using 
> my renderings in conjunction with techniques I have developed for 
> estimating the Sun and the Sky radiances from images of real scenes. I 
> will the render some simple geometry using Radiance and compose into 
> the image with correct shading and shadows
>
>
> ------------------------------------------------------------------------------------------------------------ 
>
> # Materials
>
> void plastic white_matte
> 0
> 0
> 5 1.0 1.0 1.0 0 0
>
>
>
> # Objects
>
> white_matte sphere ball4
> 0
> 0
> 4 0.0 0.0 2.0 2.0
>
>
> !genbox white_matte groundplane \
> 20 20 0.5 -r 0.08 | xform -t -10 -10 -0.25
>
>
>
> # Illumination environment: a 0.53 degree diameter disk and a
> # 180 degree skydome
>
> # The Sun ... radiance set to provide unity irradiance for
> # normal pointing right into the sun
> void light sunradiance
> 0
> 0
> 3 14880 14880 14880
>
>
> sunradiance source TheSun
> 0
> 0
> 4 -1 -1 1 0.53
>
>
>
> # The Sky ... radiance set to provide unity irradiance for
> # normal pointing right into the sky
> void light skyradiance
> 0
> 0
> 3 0.159 0.159 0.159
>
> skyradiance source TheSky
> 0
> 0
> 4 0 0 1 180.0
> ------------------------------------------------------------------------------------------------------ 
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071108/3e7d8cfd/attachment.htm
From tbleicher at arcor.de  Thu Nov  8 10:52:36 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Nov  8 10:54:03 2007
Subject: [Radiance-general] Noise free rendering of simple sun/sky scene
In-Reply-To: <4733287D.7060106@gmx.net>
References: <4733262A.40005@cvmt.aau.dk> <4733287D.7060106@gmx.net>
Message-ID: <498436BC-3C12-4E84-A988-716E10478CDB@arcor.de>


On 8 Nov 2007, at 15:17, Lars O. Grobe wrote:

> One other hint. Create a rif file and render using rad.
> That will help a lot at the beginning, as rad will set
> some parameters for your scene (and you can display those).

... using the '-e' and '-n' options of rad.

Then use 'rpict -defaults' to see what rpict has used instead
(apart from the few options you specified in the command line).

Figure out what each of the options does to your scene/image
and you should be able to gradually improve your result.

It may take you a while, though.

Thomas




From tbleicher at arcor.de  Thu Nov  8 11:16:02 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Thu Nov  8 11:17:32 2007
Subject: [Radiance-general] per-vertex coloring
In-Reply-To: <615041F1-8F2F-434A-93F6-4560E077C00F@lmi.net>
References: <37fac3b90711050200u9367c2eo3fa6c97eb6ab940a@mail.gmail.com>
	<37fac3b90711050208pf575ce6m936ea2f789174ad2@mail.gmail.com>
	<37fac3b90711050209m9dd0999oaea8f6573e670fa5@mail.gmail.com>
	<E2B74F52-0673-44BA-B7ED-247C9DBFCE4D@arcor.de>
	<615041F1-8F2F-434A-93F6-4560E077C00F@lmi.net>
Message-ID: <D176F022-F943-44D9-8E19-AF8794724D2A@arcor.de>


On 8 Nov 2007, at 00:14, Greg Ward wrote:

> That's funny -- I didn't remember ever writing such a script, but  
> sure enough, Thomas is right:
>
> 	http://www.radiance-online.org/pipermail/radiance-general/2005- 
> February/002444.html
>

Nice to be right at least once but I was thinking of your mail
about 'extraction of luminance values' from 17/08/2007, especially
the part with the coloured 3D plot at the end.

Reading it again it might not be that simple to apply to this
problem, though. My idea was to read the colour value and save
it to a known picture position, then assign this position as
UV-coordinate to the mesh vertex. The picture used as texture
should give the mesh the desired colouring.

What I probably had in mind was something Blender users can do:
create a mesh (example: a sphere), 'paint' a mouth, nose, eyes and
hair onto the sphere in 3D and 'unwrap' it to a texture image.
Then you can use Photoshop etc. to refine that sketchy image to
a proper face texture.

Applied here it would be:

1) get the mesh into Blender (...)
2) unwrap and save texture of vertex colours
3) export mesh to *.obj with uv-texture
4) convert texture image to *.pic
5) use obj2mesh to get shape and texture into Radiance


Regards,
Thomas

From jelleferinga at gmail.com  Thu Nov  8 15:06:40 2007
From: jelleferinga at gmail.com (jelle feringa)
Date: Thu Nov  8 15:07:41 2007
Subject: [Radiance-general] Re: Radiance-general Digest, Vol 45, Issue 10
In-Reply-To: <47336b51.0a528c0a.7016.ffffcaffSMTPIN_ADDED@mx.google.com>
References: <47336b51.0a528c0a.7016.ffffcaffSMTPIN_ADDED@mx.google.com>
Message-ID: <37fac3b90711081506ld2baa4bncf954467b8a352ac@mail.gmail.com>

Hi Thomas & Greg,

Many thanks for your suggestions here!

Thomas, the texture-based appraoch is something that came across my mind as
well.
The other thing that I was wondering about is whether the colordata
primitive might be relavant here?

For the textures based approach, probably ra_xyz is my friend here, though
I'm more wondering how I could generate the proper set of uv coordinates to
get the right mapping.
I'm not using textures in any sense, the use of per-vertex coloring is
closer to scientific data visualization.
Each vertex has a corresponding scalar value assigned to it, which is mapped
to a color value by a lookup-table, and the values of the lookup-table are
the ones I'm trying to map.

Many thanks for your suggestions!

-jelle

Nice to be right at least once but I was thinking of your mail
> about 'extraction of luminance values' from 17/08/2007, especially
> the part with the coloured 3D plot at the end.
>
> Reading it again it might not be that simple to apply to this
> problem, though. My idea was to read the colour value and save
> it to a known picture position, then assign this position as
> UV-coordinate to the mesh vertex. The picture used as texture
> should give the mesh the desired colouring.
>
> What I probably had in mind was something Blender users can do:
> create a mesh (example: a sphere), 'paint' a mouth, nose, eyes and
> hair onto the sphere in 3D and 'unwrap' it to a texture image.
> Then you can use Photoshop etc. to refine that sketchy image to
> a proper face texture.
>
> Applied here it would be:
>
> 1) get the mesh into Blender (...)
> 2) unwrap and save texture of vertex colours
> 3) export mesh to *.obj with uv-texture
> 4) convert texture image to *.pic
> 5) use obj2mesh to get shape and texture into Radiance
>
>
> Regards,
> Thomas
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071109/1b74087c/attachment.htm
From randolph at panix.com  Mon Nov 12 12:31:15 2007
From: randolph at panix.com (Randolph Fritz)
Date: Mon Nov 12 12:31:23 2007
Subject: [Radiance-general] OT: modeling moving fenestration systems
Message-ID: <26ECBF62-8154-4386-A60F-B6599C4C94DB@panix.com>

Anyone know of commonly-used software which is used to model the  
kinematics of active fenestration systems?  Or, for that matter, any  
building lighting element which moves?

Enquiring minds want to know!

Randolph

From zrogers at archenergy.com  Mon Nov 12 13:52:38 2007
From: zrogers at archenergy.com (Zack Rogers)
Date: Mon Nov 12 13:52:42 2007
Subject: [Radiance-general] OT: modeling moving fenestration systems
In-Reply-To: <26ECBF62-8154-4386-A60F-B6599C4C94DB@panix.com>
Message-ID: <H000009600f5d8e1.1194904357.babel.archenergy.com@MHS>

Hi Randolph,

I do not know of any software that can do this inherently.  We have modeled these types of systems with Radiance.  We use python to script up sets of Radiance runs, and within the python we have done transforms on objects before creating octrees.  There is an example of an automated vertical louver system in my presentation at this years Radiance conference.  FYI - Here is the chunk of python code that rotates the louvers.  E-mail me if you would like to see the full python script.  This is done on a time-by-time basis, so this code is in a larger loop that is going through each time step called for.

-------------------------------
	ifp = os.popen( 'gensky %s %s %s +%s %s' % (sMonth[iSeason], sDay, sTime, sSky, aTmp[0]), 'r')
        aTmp3 = string.split(ifp.read())
        fAzi = float(aTmp3[17+len(aTmpA)])-fBAzi

        # Determine slat rotation angle
        if fAzi < -45:
            fSlatAngle = 90
        elif fAzi > 45:
            fSlatAngle = 90
	else:
	    fSlatAngle = -2*fAzi

        # Write louver_rotated.rad
        fpOutFile = open ((sWorkingDir + os.sep + 'louver-temp.rad' ), 'w')
        fpOutFile.write ('!xform -rz %f scene/louver.rad' % (fSlatAngle))
        fpOutFile.close()       
        
        # Create Octree from base octree and sky
        if fAzi < -75 or fAzi > 75:
            os.system( 'oconv -w -i %s %s >%s' % \
                       (sOctree, (sViewDir + os.sep + 'hour.sky'), \
                        (sViewDir + os.sep + 'tmp.oct')))
        else:
            os.system( 'oconv -w -i %s %s %s >%s' % \
                       (sOctree, (sViewDir + os.sep + 'hour.sky'), (sWorkingDir + os.sep + 'all-louvers.rad'), \
                        (sViewDir + os.sep + 'tmp.oct')))
-------------------------------------

In my opinion, this is one of the great things about Radiance, it is so flexible and robust.  It may take several years to fully understand everything, but when you do the options are limitless!

I hope this helps!
Zack

Zack Rogers, P.E., IESNA, LEED AP
Daylighting Analysis Group Leader
Architectural Energy Corporation
2540 Frontier Avenue, Suite 201
Boulder, CO 80301 USA
 
tel (303)444-4149 ext. 435
fax (303)444-4304
http://www.archenergy.com
 

-----Original Message-----
From: Randolph Fritz [mailto:randolph@panix.com] 
Sent: Monday, November 12, 2007 1:31 PM
To: Radiance general discussion
Subject: [Radiance-general] OT: modeling moving fenestration systems

Anyone know of commonly-used software which is used to model the kinematics of active fenestration systems?  Or, for that matter, any building lighting element which moves?

Enquiring minds want to know!

Randolph

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From Christoph.Reinhart at nrc-cnrc.gc.ca  Mon Nov 12 20:18:22 2007
From: Christoph.Reinhart at nrc-cnrc.gc.ca (Reinhart, Christoph)
Date: Mon Nov 12 20:18:29 2007
Subject: [Radiance-general] OT: modeling moving fenestration systems
References: <26ECBF62-8154-4386-A60F-B6599C4C94DB@panix.com>
Message-ID: <5910A0754536EA4AAD411AE8221C39620309846E@nrccenexb1.nrc.ca>

Hi Randolph:
 
Daysim allow you to simulate dynamic shading devices such as Venetian blinds (www.daysim.com). The Daysim GUI only allows you to model the blinds in either up or down states but, as Zack suggested, you can use scripting to add as many intermediate blind states as you want. For an automatically controlled system such a external louvers that are maintained in cutoff position modeling many louver slat angle states might be worthwhile. For your typical 'reference system' (manual controlled Venetian blinds), I think that an up or down state is largely sufficient since we still know relatively little about how occupants actually operate blinds. Daysim incorporates the lightswithch 2002 algorithm that aims to mimic occupant behavior based on field studies. An interesting extension of the lightswitch algorithm was proposed by Jan Wienold at the Building Simulation 2007 conference in Beijing in September. You should be able to find the paper somewhere online.
 
Christoph

________________________________

From: radiance-general-bounces@radiance-online.org on behalf of Randolph Fritz
Sent: Mon 11/12/2007 3:31 PM
To: Radiance general discussion
Subject: [Radiance-general] OT: modeling moving fenestration systems



Anyone know of commonly-used software which is used to model the 
kinematics of active fenestration systems?  Or, for that matter, any 
building lighting element which moves?

Enquiring minds want to know!

Randolph

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 4688 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071112/25c1ce2c/attachment.bin
From gward at lmi.net  Tue Nov 13 20:01:31 2007
From: gward at lmi.net (Greg Ward)
Date: Tue Nov 13 20:01:29 2007
Subject: [Radiance-general] water - any news???
In-Reply-To: <CC0B19F4C6132F4D9FDDEBF194200FB5045C51AB@ldcexc02.global.arup.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5045C51AB@ldcexc02.global.arup.com>
Message-ID: <4F341AE4-4F69-4BBC-8B89-D59CFFDD4892@lmi.net>

Hi Guilio,

I'm still catching up with e-mail after a week's absence.  This one  
also required some thought...

It would be a fair amount of work, but it's possible to use rtcontrib  
to give you a nice incident light field on the bottom of a swimming  
pool.  You could then model this as a glow source and see it  
reflected back through the wavy dielectric surface of the water.  If  
you were extra-ambitious, you could even model the water's surface as  
a height field, but it would have to be really choppy for that to  
even matter, visually.

I would have to spend some time to create an example of this  
approach, but the basic idea is to flag the surfaces defining the  
underwater portion of the pool so they can gather rays using  
rtcontrib.  You would have to also define bin numbers corresponding  
to pixels in (5) low-resolution images you would create and map back  
onto the surfaces for subsequent rendering.  The rays given to  
rtcontrib would correspond to the solar radiation on a rectangle  
covering the pool's surface.  Normalization for this data would  
require a bit of math as well, but it's all doable.  I won't call it  
easy.

-Greg

> From: "Giulio Antonutto" <Giulio.Antonutto@arup.com>
> Date: November 8, 2007 3:48:07 AM PST
>
> ?You might be able to get Radiance to find the sun for a still body  
> ofwater using the 'prism2' type, but you have to know what you're  
> doing.How important is this to you?  If you're just going for looks  
> and notvery interested in physical accuracy, go ahead and use  
> 'glass'.  Atleast you will be able to see the bottom of your pool  
> that way.-Greg?
> Just going through and old question? simulating water properly.
>
> Did anybody do anything bout this in the last 10 years? Any news?  
> All still using glass?
>
> For who may not know the interface/dielectric primitive struggle to  
> solve the direct light component, hence it is not trivial to  
> simulate a pool with Radiance.
>
> We incidentally realized of this problem when dealing with water in  
> daytime, which indeed looks very dark?
>
> (in fact for nighttimes shots a wavy mirror is often good looking  
> enough?)
>
> Any input?
>
> G>
>

From randolph at panix.com  Tue Nov 13 20:57:55 2007
From: randolph at panix.com (Randolph Fritz)
Date: Tue Nov 13 20:58:04 2007
Subject: [Radiance-general] OT: modeling moving fenestration systems
In-Reply-To: <5910A0754536EA4AAD411AE8221C39620309846E@nrccenexb1.nrc.ca>
References: <26ECBF62-8154-4386-A60F-B6599C4C94DB@panix.com>
	<5910A0754536EA4AAD411AE8221C39620309846E@nrccenexb1.nrc.ca>
Message-ID: <DC7732C0-9862-4998-93CA-DCA56443C06B@panix.com>

Thanks to Christoph and Zack.  (Christoph, just read your  
Lightswitch-2002 paper, btw.)

Randolph


From gward at lmi.net  Tue Nov 13 21:24:54 2007
From: gward at lmi.net (Greg Ward)
Date: Tue Nov 13 21:25:14 2007
Subject: [Radiance-general] Re: per-vertex coloring
In-Reply-To: <E2B74F52-0673-44BA-B7ED-247C9DBFCE4D@arcor.de>
References: <37fac3b90711050200u9367c2eo3fa6c97eb6ab940a@mail.gmail.com>
	<37fac3b90711050208pf575ce6m936ea2f789174ad2@mail.gmail.com>
	<37fac3b90711050209m9dd0999oaea8f6573e670fa5@mail.gmail.com>
	<E2B74F52-0673-44BA-B7ED-247C9DBFCE4D@arcor.de>
Message-ID: <FA92A793-CE01-4012-B97C-B45F5D0DA549@lmi.net>

Hi Jelle,

I lost this thread in some e-mail difficulties I was having with my  
online service.  These seem to be sorted out, now...

A quick look at the ra_xyz man page will confirm that this program is  
for converting between RGB and XYZ color space, nothing to do with  
the pixel coordinates on an image.  (Confusing, I know.)

Is your mesh grid regular?  If not, you're sort of stuck because you  
need to resample the colors onto a grid, which is a hard problem.  If  
you have a grid to begin with, it may be as simple as establishing a  
correspondence between the local (u,v) coordinates and a dump of  
values into a Radiance picture (using pvalue -r ...).

If you feel like hacking C-code, the program src/hd/rhpict will take  
a set of point values and resample them into an image.  It wouldn't  
take that much to get it to accept colors and positions rather than  
taking a holodeck as input, I don't think.

-Greg

---------------
> Hi Thomas & Greg,
>
> Many thanks for your suggestions here!
>
> Thomas, the texture-based appraoch is something that came across my  
> mind as
> well.
> The other thing that I was wondering about is whether the colordata
> primitive might be relavant here?
>
> For the textures based approach, probably ra_xyz is my friend here,  
> though
> I'm more wondering how I could generate the proper set of uv  
> coordinates to
> get the right mapping.
> I'm not using textures in any sense, the use of per-vertex coloring is
> closer to scientific data visualization.
> Each vertex has a corresponding scalar value assigned to it, which  
> is mapped
> to a color value by a lookup-table, and the values of the lookup- 
> table are
> the ones I'm trying to map.
>
> Many thanks for your suggestions!
>
> -jelle
>
> Nice to be right at least once but I was thinking of your mail
> > about 'extraction of luminance values' from 17/08/2007, especially
> > the part with the coloured 3D plot at the end.
> >
> > Reading it again it might not be that simple to apply to this
> > problem, though. My idea was to read the colour value and save
> > it to a known picture position, then assign this position as
> > UV-coordinate to the mesh vertex. The picture used as texture
> > should give the mesh the desired colouring.
> >
> > What I probably had in mind was something Blender users can do:
> > create a mesh (example: a sphere), 'paint' a mouth, nose, eyes and
> > hair onto the sphere in 3D and 'unwrap' it to a texture image.
> > Then you can use Photoshop etc. to refine that sketchy image to
> > a proper face texture.
> >
> > Applied here it would be:
> >
> > 1) get the mesh into Blender (...)
> > 2) unwrap and save texture of vertex colours
> > 3) export mesh to *.obj with uv-texture
> > 4) convert texture image to *.pic
> > 5) use obj2mesh to get shape and texture into Radiance
> >
> >
> > Regards,
> > Thomas

From Giulio.Antonutto at arup.com  Wed Nov 14 09:48:43 2007
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Wed Nov 14 09:52:23 2007
Subject: [Radiance-general] water - any news???
Message-ID: <CC0B19F4C6132F4D9FDDEBF194200FB50467B4DD@ldcexc02.global.arup.com>

Greg,
this is a great idea!
We will definitely look into it (perhaps not today but soon enough).
rtcontrib is just surprising every day with its potential... 
thanks for your help,
and thanks for calling it 'not easy'... 
this make a failure less of a problem 
:-)
Ciao
G.



-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Greg
Ward
Sent: 14 November 2007 04:02
To: Radiance general discussion
Subject: Re: [Radiance-general] water - any news???

Hi Guilio,

I'm still catching up with e-mail after a week's absence.  This one  
also required some thought...

It would be a fair amount of work, but it's possible to use rtcontrib  
to give you a nice incident light field on the bottom of a swimming  
pool.  You could then model this as a glow source and see it  
reflected back through the wavy dielectric surface of the water.  If  
you were extra-ambitious, you could even model the water's surface as  
a height field, but it would have to be really choppy for that to  
even matter, visually.

I would have to spend some time to create an example of this  
approach, but the basic idea is to flag the surfaces defining the  
underwater portion of the pool so they can gather rays using  
rtcontrib.  You would have to also define bin numbers corresponding  
to pixels in (5) low-resolution images you would create and map back  
onto the surfaces for subsequent rendering.  The rays given to  
rtcontrib would correspond to the solar radiation on a rectangle  
covering the pool's surface.  Normalization for this data would  
require a bit of math as well, but it's all doable.  I won't call it  
easy.

-Greg

> From: "Giulio Antonutto" <Giulio.Antonutto@arup.com>
> Date: November 8, 2007 3:48:07 AM PST
>
> "You might be able to get Radiance to find the sun for a still body  
> ofwater using the 'prism2' type, but you have to know what you're  
> doing.How important is this to you?  If you're just going for looks  
> and notvery interested in physical accuracy, go ahead and use  
> 'glass'.  Atleast you will be able to see the bottom of your pool  
> that way.-Greg"
> Just going through and old question... simulating water properly.
>
> Did anybody do anything bout this in the last 10 years? Any news?  
> All still using glass?
>
> For who may not know the interface/dielectric primitive struggle to  
> solve the direct light component, hence it is not trivial to  
> simulate a pool with Radiance.
>
> We incidentally realized of this problem when dealing with water in  
> daytime, which indeed looks very dark...
>
> (in fact for nighttimes shots a wavy mirror is often good looking  
> enough...)
>
> Any input?
>
> G>
>

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From gward at lmi.net  Wed Nov 14 11:49:54 2007
From: gward at lmi.net (Greg Ward)
Date: Wed Nov 14 11:49:57 2007
Subject: [Radiance-general] Re: water - any news???
In-Reply-To: <CC0B19F4C6132F4D9FDDEBF194200FB50467B4DD@ldcexc02.global.arup.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB50467B4DD@ldcexc02.global.arup.com>
Message-ID: <5742EA74-E3D9-4B61-AF9B-01B63AF5131B@lmi.net>

Hi Guilio,

If you're really going to attempt this, I can offer a few more  
pointers.  For the underwater bin computations, you want bin numbers  
to correspond to colorpict pixels in scanline order.  For the floor  
of the pool, you might define the following bin definition based on a  
5x15 meter bottom with the origin at (0,0):

FloorXres : 50;
FloorYres : 150;
FloorWidth : 5 {meters};
FloorOrigX : 0;
FloorHeight : 15 {meters};
FloorOrigY : 0;
floor_bin = floor(FloorYres*(Py - FloorOrigY)/FloorHeight  + .5) 
*FloorXres
			+ floor(FloorXres*(Px - FloorOrigX)/FloorWidth + .5);

The same approach would be used for the walls of the pool, with  
slightly different coordinate mappings.  You could put all these  
together in the same file, call it "pool_coords.cal".  The rtcontrib  
command line would resemble this:

	vwrays -vf pool_par.vf -x 1000 -y 1000 -ff \
		| rtcontrib -V+ -ff -f pool_coords.cal \
			-b floor_bin -bn 7500 -o '!total -if22500 | pvalue -r -h +Y 150 +X  
50 -df > floor_caustics.pic' -m floor \
			-b s_wall_bin -bn 3000 -o '!total -if9000 | pvalue -r -h +Y 30 +X  
100 -df > s_wall_caustics.pic' -m s_wall \
			-b n_wall_bin -bn 3000 -o '!total -if9000 | pvalue -r -h +Y 30 +X  
100 -df > n_wall_caustics.pic' -m n_wall \
			-b e_wall_bin -bn 5000 -o '!total -if15000 | pvalue -r -h +Y 50 +X  
100 -df > e_wall_caustics.pic' -m e_wall \
			-b w_wall_bin -bn 5000 -o '!total -if15000 | pvalue -r -h +Y 50 +X  
100 -df > w_wall_caustics.pic' -m w_wall \
			pool.oct

I made up the dimensions for the other surfaces, but I hope this  
makes sense.  The actual view you use and resolution out of vwrays  
doesn't much matter, as it just gets summed up by "total" into the  
appropriate images.  Note that the standard compile of "total" won't  
work, since it has a hard limit of 256 for the number of columns, and  
we're trying to sum RGB for each pixel, here.  So, you'll have to  
recompile it and set MAXCOL to 22500 or greater to get this to work.   
If it does, maybe I'll consider a little rewrite of the utility to  
take away the column limit and make it dynamic.  Bit of a hassle, but  
possibly worth it.  I couldn't figure out how else to get this kind  
of result without a lot of scripting.

I expect most of the time in this command to be spent sending data  
between rtcontrib and the 5 "total" processes.  The actual ray  
tracing part will shrink to insignificance.

Best of luck!
-Greg

------
Demostration of rtcontrib in two stages.  The first computes
contributions as a function of angle from a window (divided into
three sections) and three skylights connected to a light pipe.
The second stage computes the incidence of sky illumination on these
portholes, and the results are combined.  There are two main scripts,
run like so:

runrtcont.csh
runsums.csh

The first handles the two main stages, whose results are put into
src_cont/ and src_dc/ respectively.  The second script combines
the results into daylight coefficient pictures in the dc_cont/
folder.  A final script combines these into a result for a particular
date and time, e.g.:

sumpicture.csh 5 10 14:00PDT -g .12 > sunny5_10_14.pic


-------------- next part --------------
A non-text attachment was scrubbed...
Name: runrtcont.csh
Type: application/octet-stream
Size: 2774 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071114/700c7f2b/runrtcont-0001.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: runsum.csh
Type: application/octet-stream
Size: 572 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071114/700c7f2b/runsum-0001.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sumpicture.csh
Type: application/octet-stream
Size: 374 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071114/700c7f2b/sumpicture-0001.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: comp_pcargs.csh
Type: application/octet-stream
Size: 1454 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071114/700c7f2b/comp_pcargs-0001.obj
-------------- next part --------------

> From: "Giulio Antonutto" <Giulio.Antonutto@arup.com>
> Date: November 14, 2007 9:48:43 AM PST
>
> Greg,
> this is a great idea!
> We will definitely look into it (perhaps not today but soon enough).
> rtcontrib is just surprising every day with its potential...
> thanks for your help,
> and thanks for calling it 'not easy'...
> this make a failure less of a problem
> :-)
> Ciao
> G.
>
> -----Original Message-----
> From: radiance-general-bounces@radiance-online.org
> [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of  
> Greg
> Ward
> Sent: 14 November 2007 04:02
>
> Hi Guilio,
>
> I'm still catching up with e-mail after a week's absence.  This one
> also required some thought...
>
> It would be a fair amount of work, but it's possible to use rtcontrib
> to give you a nice incident light field on the bottom of a swimming
> pool.  You could then model this as a glow source and see it
> reflected back through the wavy dielectric surface of the water.  If
> you were extra-ambitious, you could even model the water's surface as
> a height field, but it would have to be really choppy for that to
> even matter, visually.
>
> I would have to spend some time to create an example of this
> approach, but the basic idea is to flag the surfaces defining the
> underwater portion of the pool so they can gather rays using
> rtcontrib.  You would have to also define bin numbers corresponding
> to pixels in (5) low-resolution images you would create and map back
> onto the surfaces for subsequent rendering.  The rays given to
> rtcontrib would correspond to the solar radiation on a rectangle
> covering the pool's surface.  Normalization for this data would
> require a bit of math as well, but it's all doable.  I won't call it
> easy.
>
> -Greg
From gward at lmi.net  Wed Nov 14 11:57:35 2007
From: gward at lmi.net (Greg Ward)
Date: Wed Nov 14 11:57:36 2007
Subject: [Radiance-general] Re: water - any news???
In-Reply-To: <CC0B19F4C6132F4D9FDDEBF194200FB50467B4DD@ldcexc02.global.arup.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB50467B4DD@ldcexc02.global.arup.com>
Message-ID: <EABC6113-DCE6-4B1A-B539-AE1E3E22A293@lmi.net>

A P.S. to my last message.  The total commands should have -of as  
well, to correspond to the -df of pvalue:

vwrays -vf pool_par.vf -x 1000 -y 1000 -ff \
	| rtcontrib -V+ -ff -f pool_coords.cal \
		-b floor_bin -bn 7500 -o '!total -if22500 -of | pvalue -r -h +Y 150  
+X 50 -df > floor_caustics.pic' -m floor \
		-b s_wall_bin -bn 3000 -o '!total -if9000 -of | pvalue -r -h +Y 30  
+X 100 -df > s_wall_caustics.pic' -m s_wall \
		-b n_wall_bin -bn 3000 -o '!total -if9000 -of | pvalue -r -h +Y 30  
+X 100 -df > n_wall_caustics.pic' -m n_wall \
		-b e_wall_bin -bn 5000 -o '!total -if15000 -of | pvalue -r -h +Y 50  
+X 100 -df > e_wall_caustics.pic' -m e_wall \
		-b w_wall_bin -bn 5000 -o '!total -if15000 -of | pvalue -r -h +Y 50  
+X 100 -df > w_wall_caustics.pic' -m w_wall \
		pool.oct

I'm sure I made other mistakes as well, which you'll no doubt discover.

Also, the files I attached after my signature (assuming they made it)  
are from my "Applying the Radiance rtcontrib program" talk at last  
year's Radiance Workshop <http://www.radiance-online.org/radiance- 
workshop5/2006_Radiance_Workshop/>.  These offer an example of  
applying rtcontrib in a similar context, where I've worked out the  
solid angle factors to get correct irradiance units.

-Greg

From Giulio.Antonutto at arup.com  Thu Nov 15 00:41:04 2007
From: Giulio.Antonutto at arup.com (Giulio Antonutto)
Date: Thu Nov 15 00:41:16 2007
Subject: [Radiance-general] Re: water - any news???
Message-ID: <CC0B19F4C6132F4D9FDDEBF194200FB5046CB795@ldcexc02.global.arup.com>

wow.
It sounds we have to do it now :-)
Ok, I will let you know of ours progress when (if) we solve it.
Thank you a lot for the continuous and extensive support!!!!
Ciao
G>


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Greg
Ward
Sent: 14 November 2007 19:58
To: Radiance general discussion
Subject: [Radiance-general] Re: water - any news???

A P.S. to my last message.  The total commands should have -of as  
well, to correspond to the -df of pvalue:

vwrays -vf pool_par.vf -x 1000 -y 1000 -ff \
	| rtcontrib -V+ -ff -f pool_coords.cal \
		-b floor_bin -bn 7500 -o '!total -if22500 -of | pvalue
-r -h +Y 150  
+X 50 -df > floor_caustics.pic' -m floor \
		-b s_wall_bin -bn 3000 -o '!total -if9000 -of | pvalue
-r -h +Y 30  
+X 100 -df > s_wall_caustics.pic' -m s_wall \
		-b n_wall_bin -bn 3000 -o '!total -if9000 -of | pvalue
-r -h +Y 30  
+X 100 -df > n_wall_caustics.pic' -m n_wall \
		-b e_wall_bin -bn 5000 -o '!total -if15000 -of | pvalue
-r -h +Y 50  
+X 100 -df > e_wall_caustics.pic' -m e_wall \
		-b w_wall_bin -bn 5000 -o '!total -if15000 -of | pvalue
-r -h +Y 50  
+X 100 -df > w_wall_caustics.pic' -m w_wall \
		pool.oct

I'm sure I made other mistakes as well, which you'll no doubt discover.

Also, the files I attached after my signature (assuming they made it)  
are from my "Applying the Radiance rtcontrib program" talk at last  
year's Radiance Workshop <http://www.radiance-online.org/radiance- 
workshop5/2006_Radiance_Workshop/>.  These offer an example of  
applying rtcontrib in a similar context, where I've worked out the  
solid angle factors to get correct irradiance units.

-Greg

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From jelleferinga at gmail.com  Thu Nov 15 02:23:33 2007
From: jelleferinga at gmail.com (jelle feringa)
Date: Thu Nov 15 02:23:37 2007
Subject: [Radiance-general] limited number of materials?
Message-ID: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>

Hi,

I just tried a brute force way of coloring my objects, that is by setting a
color per face.
I know I know... probably that is *the* way of getting my radiance license
revoked ;')
I ran into something curious though: is there a limited number of materials
that rview / rpict can grok?
Right now I'm dealing with a few hundreds of thousand of faces, so I can
well imagine this limitation.


-jelle
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071115/7deb2790/attachment.htm
From grobe at gmx.net  Thu Nov 15 04:04:55 2007
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Nov 15 04:08:47 2007
Subject: [Radiance-general] limited number of materials?
In-Reply-To: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>
References: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>
Message-ID: <473C35E7.8020309@gmx.net>

> Right now I'm dealing with a few hundreds of thousand of faces, so I can
> well imagine this limitation.

While I cannot answer the max number of materials question, there should 
be actually no problem if you define a limited "palette" - I guess not 
EVERY of the faces needs a different color? What about a 256- or 
512-color "palette", thus 256 or 512 materials? Or are you subdividing 
the faces to get a smooth transition to work around the interpolation?

CU Lars.

From jelleferinga at gmail.com  Thu Nov 15 04:12:45 2007
From: jelleferinga at gmail.com (jelle feringa)
Date: Thu Nov 15 04:12:51 2007
Subject: [Radiance-general] limited number of materials?
In-Reply-To: <473C35E7.8020309@gmx.net>
References: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>
	<473C35E7.8020309@gmx.net>
Message-ID: <37fac3b90711150412y1d8d7f05w38f75fc8d0351e6c@mail.gmail.com>

The palette is certainly an interesting suggestion Lars.
Probably that would be a nice workaround for my problem.
Its probably the thing that will make my brute-force approach actually work!
Thanks for the suggestion.

-jelle

While I cannot answer the max number of materials question, there should
> be actually no problem if you define a limited "palette" - I guess not
> EVERY of the faces needs a different color? What about a 256- or
> 512-color "palette", thus 256 or 512 materials? Or are you subdividing
> the faces to get a smooth transition to work around the interpolation?
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071115/cd17a1bc/attachment.html
From gward at lmi.net  Thu Nov 15 07:33:08 2007
From: gward at lmi.net (Greg Ward)
Date: Thu Nov 15 07:33:06 2007
Subject: [Radiance-general] Re: limited number of materials?
In-Reply-To: <37fac3b90711150412y1d8d7f05w38f75fc8d0351e6c@mail.gmail.com>
References: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>
	<473C35E7.8020309@gmx.net>
	<37fac3b90711150412y1d8d7f05w38f75fc8d0351e6c@mail.gmail.com>
Message-ID: <8042485E-B0D2-4047-8436-CEA61A2AB8F5@lmi.net>

For the record, there is no fixed limit to the number of materials,  
but if you are defining a different material per face,  you'll save a  
bit of time and memory by reusing the same material name.  This is  
what gensurf does when it defines a texture per face.  It avoids  
having a lot of names inserted into the hash table, and is more  
efficient.

Setting a palette is an excellent suggestion if that works for you.

-G

> From: "jelle feringa" <jelleferinga@gmail.com>
> Date: November 15, 2007 4:12:45 AM PST
>
> The palette is certainly an interesting suggestion Lars.
> Probably that would be a nice workaround for my problem.
> Its probably the thing that will make my brute-force approach  
> actually work!
> Thanks for the suggestion.
>
> -jelle
>
> While I cannot answer the max number of materials question, there  
> should
> be actually no problem if you define a limited "palette" - I guess not
> EVERY of the faces needs a different color? What about a 256- or
> 512-color "palette", thus 256 or 512 materials? Or are you subdividing
> the faces to get a smooth transition to work around the interpolation?

From grobe at gmx.net  Thu Nov 15 08:00:19 2007
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Nov 15 08:04:39 2007
Subject: [Radiance-general] Re: limited number of materials?
In-Reply-To: <8042485E-B0D2-4047-8436-CEA61A2AB8F5@lmi.net>
References: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>	<473C35E7.8020309@gmx.net>	<37fac3b90711150412y1d8d7f05w38f75fc8d0351e6c@mail.gmail.com>
	<8042485E-B0D2-4047-8436-CEA61A2AB8F5@lmi.net>
Message-ID: <473C6D13.5020405@gmx.net>

> if you are defining a different material per face,  you'll save a bit of 
> time and memory by reusing the same material name.

Isn't there a limit how many times I could define a material using the 
same name?

CU Lars.

From gward at lmi.net  Thu Nov 15 08:27:31 2007
From: gward at lmi.net (Greg Ward)
Date: Thu Nov 15 08:27:29 2007
Subject: [Radiance-general] Re: limited number of materials?
In-Reply-To: <473C6D13.5020405@gmx.net>
References: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>	<473C35E7.8020309@gmx.net>	<37fac3b90711150412y1d8d7f05w38f75fc8d0351e6c@mail.gmail.com>
	<8042485E-B0D2-4047-8436-CEA61A2AB8F5@lmi.net>
	<473C6D13.5020405@gmx.net>
Message-ID: <D519844B-179A-45DF-99DF-31B91A458E32@lmi.net>

There is no limit on name reuse in Radiance.  Why would there be?  A  
material/texture/pattern/mixture name only refers to that modifier  
until it's redefined later in the scene description stream, however.   
This is how Radiance avoids the problem of name reuse in multiple  
files, or the same file transformed multiple times and containing  
material definitions.

For example, if I used ies2rad to create a light fixture with a  
distribution, then made 100 copies of that fixture using an xform  
array, that would be 100 materials in the scene, all with the same  
name but different definitions since they would have different  
associated transformations.  This is an essential facility, though  
perhaps one not many people are aware of.

I hope this makes sense.
-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: November 15, 2007 8:00:19 AM PST
>
>> if you are defining a different material per face,  you'll save a  
>> bit of time and memory by reusing the same material name.
>
> Isn't there a limit how many times I could define a material using  
> the same name?
>
> CU Lars.

From grobe at gmx.net  Thu Nov 15 08:39:26 2007
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Nov 15 08:43:57 2007
Subject: [Radiance-general] Re: limited number of materials?
In-Reply-To: <D519844B-179A-45DF-99DF-31B91A458E32@lmi.net>
References: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>	<473C35E7.8020309@gmx.net>	<37fac3b90711150412y1d8d7f05w38f75fc8d0351e6c@mail.gmail.com>	<8042485E-B0D2-4047-8436-CEA61A2AB8F5@lmi.net>	<473C6D13.5020405@gmx.net>
	<D519844B-179A-45DF-99DF-31B91A458E32@lmi.net>
Message-ID: <473C763E.2090205@gmx.net>

> There is no limit on name reuse in Radiance.  Why would there be?

I remember having had problems (rvu: too many modifiers in ambient list) 
because I had redefined materials too often and excluded them from 
ambient calculation later. I thought it was a problem of material 
definitions / name, not the total number of definitions, as even if 
there is only one material name, every definitions adds an modifier id 
to the lists. Had I been wrong, was it the total number (2047) of 
material definitions than?

Thank you & CU, Lars.

From gward at lmi.net  Thu Nov 15 08:56:02 2007
From: gward at lmi.net (Greg Ward)
Date: Thu Nov 15 08:55:59 2007
Subject: [Radiance-general] Re: limited number of materials?
In-Reply-To: <473C763E.2090205@gmx.net>
References: <37fac3b90711150223o5d40746lce74f5a8e246d19a@mail.gmail.com>	<473C35E7.8020309@gmx.net>	<37fac3b90711150412y1d8d7f05w38f75fc8d0351e6c@mail.gmail.com>	<8042485E-B0D2-4047-8436-CEA61A2AB8F5@lmi.net>	<473C6D13.5020405@gmx.net>
	<D519844B-179A-45DF-99DF-31B91A458E32@lmi.net>
	<473C763E.2090205@gmx.net>
Message-ID: <DB89F788-AAFD-4B66-93C8-9C8CC4B67C46@lmi.net>

Hi Lars,

You are correct about this.  There is a limit to the number of  
materials that may be included in the ambient exclude list (2047 in  
this case) or the trace set of rtrace (8192).  I could raise these  
limits in the distribution, or you could yourself by adding:

	-DMAXASET=N -DMAXTSET=M

to the build options in the makeall "rmake" script and recompiling.

All I was saying is that there is no fundamental limit to the number  
of times a material may be redefined.  You can say there is a limit  
with respect to the include/exclude settings, but this is not the  
same as a basic limit.  If Jelle wants to exclude his reused material  
name, then he may have a problem.

-Greg

> From: "Lars O. Grobe" <grobe@gmx.net>
> Date: November 15, 2007 8:39:26 AM PST
>
>> There is no limit on name reuse in Radiance.  Why would there be?
>
> I remember having had problems (rvu: too many modifiers in ambient  
> list) because I had redefined materials too often and excluded them  
> from ambient calculation later. I thought it was a problem of  
> material definitions / name, not the total number of definitions,  
> as even if there is only one material name, every definitions adds  
> an modifier id to the lists. Had I been wrong, was it the total  
> number (2047) of material definitions than?
>
> Thank you & CU, Lars.

From gward at lmi.net  Fri Nov 16 17:21:55 2007
From: gward at lmi.net (Greg Ward)
Date: Fri Nov 16 17:21:56 2007
Subject: [Radiance-general] water - any news???
In-Reply-To: <CC0B19F4C6132F4D9FDDEBF194200FB5046CB795@ldcexc02.global.arup.com>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5046CB795@ldcexc02.global.arup.com>
Message-ID: <786318BC-38BD-468E-B3C3-FBD0908489F8@lmi.net>

Hi Guillio,

This got me thinking about rtcontrib some more, and I decided that  
having an option for accumulating values could be very useful in  
cases like this, so I added the -c switch.  I just uploaded it into  
the CVS HEAD, and attached is a working example of a pool with  
caustics simulated on the bottom.  You are welcome to use it however  
you like.  (The rtcontrib -r option doesn't yet work with -c, but I'm  
on it.)

Best,
-Greg

-------------- next part --------------
A non-text attachment was scrubbed...
Name: pool.tar
Type: application/x-tar
Size: 20480 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071116/d15171de/pool-0001.tar
-------------- next part --------------

> From: "Giulio Antonutto" <Giulio.Antonutto@arup.com>
> Date: November 15, 2007 12:41:04 AM PST
>
> wow.
> It sounds we have to do it now :-)
> Ok, I will let you know of ours progress when (if) we solve it.
> Thank you a lot for the continuous and extensive support!!!!
> Ciao
> G>
From rpg at rumblestrip.org  Fri Nov 16 20:16:28 2007
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Fri Nov 16 20:17:50 2007
Subject: [Radiance-general] water - any news???
In-Reply-To: <786318BC-38BD-468E-B3C3-FBD0908489F8@lmi.net>
References: <CC0B19F4C6132F4D9FDDEBF194200FB5046CB795@ldcexc02.global.arup.com>
	<786318BC-38BD-468E-B3C3-FBD0908489F8@lmi.net>
Message-ID: <3CCA9349-7A48-425A-9227-647B05FC367B@rumblestrip.org>


On Nov 16, 2007, at 6:21 PM, Greg Ward wrote:

> Hi Guillio,
>
> This got me thinking about rtcontrib some more, and I decided that  
> having an option for accumulating values could be very useful in  
> cases like this, so I added the -c switch.  I just uploaded it into  
> the CVS HEAD, and attached is a working example of a pool with  
> caustics simulated on the bottom.  You are welcome to use it  
> however you like.  (The rtcontrib -r option doesn't yet work with - 
> c, but I'm on it.)

This is extremely cool Greg!  Just tried out your example scene, and  
will now look at the commands behind it...

- Rob

From shakespe at indiana.edu  Sat Nov 17 06:52:23 2007
From: shakespe at indiana.edu (Shakespeare, Robert A.)
Date: Sat Nov 17 06:52:30 2007
Subject: [Radiance-general] water - any news???
In-Reply-To: <3CCA9349-7A48-425A-9227-647B05FC367B@rumblestrip.org>
Message-ID: <C3646A57.7C7C%shakespe@indiana.edu>

How do you generate the floor_caustics.pic from the files you uploaded? This is most interesting!

-Rob Shakespeare


On 11/16/07 11:16 PM, "Rob Guglielmetti" <rpg@rumblestrip.org> wrote:



On Nov 16, 2007, at 6:21 PM, Greg Ward wrote:

> Hi Guillio,
>
> This got me thinking about rtcontrib some more, and I decided that
> having an option for accumulating values could be very useful in
> cases like this, so I added the -c switch.  I just uploaded it into
> the CVS HEAD, and attached is a working example of a pool with
> caustics simulated on the bottom.  You are welcome to use it
> however you like.  (The rtcontrib -r option doesn't yet work with -
> c, but I'm on it.)

This is extremely cool Greg!  Just tried out your example scene, and
will now look at the commands behind it...

- Rob

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From gward at lmi.net  Sat Nov 17 07:16:26 2007
From: gward at lmi.net (Greg Ward)
Date: Sat Nov 17 07:16:27 2007
Subject: [Radiance-general] water - any news???
In-Reply-To: <C3646A57.7C7C%shakespe@indiana.edu>
References: <C3646A57.7C7C%shakespe@indiana.edu>
Message-ID: <8E52E9F5-B92F-42A6-961D-B105CA88C892@lmi.net>

Hi Rob,

If you type "make" in the unpacked directory, the enclosed Makefile  
(attached with minor tweaks) will run the following commands:

oconv -f pool_surface.rad catchpool.rad > catchscene.oct
vwrays -pj .6 -vf pool_par.vf -x 500 -y 500 -ff \
| rtcontrib -w -ffc -c -fo -n 1 \
                 -f pool_coords.cal -o %s_caustics.pic \
                 -b floor_bin -bn 7500 -x 50 -y 150 -m floor \
                 -b s_wall_bin -bn 1500 -x 50 -y 30 -m s_wall \
                 -b n_wall_bin -bn 1500 -x 50 -y 30 -m n_wall \
                 -b e_wall_bin -bn 4500 -x 150 -y 30 -m e_wall \
                 -b w_wall_bin -bn 4500 -x 150 -y 30 -m w_wall \
                 catchscene.oct
rm catchscene.oct
rad -o x11 poolscene.rif
	oconv sky.rad glowpool.rad pool_surface.rad > poolscene.oct
         rvu -vp -20 20 20 -vd 20 -20 -20 -vh 30 -vv 20 -ps 16 -pt . 
16 -dp 64 -ar 38 -ds 0 -dt .2 -dc .25 -dr 0 -sj 0 -st .5 -aa .3 -ad  
256 -as 0 -av 17 17 17 -lr 6 -lw .01 -R poolscene.rif -o x11 -pe .03  
poolscene.oct

This will produce 5 Radiance pictures, one for each wall.  Since the  
defaults for rtcontrib set -ab 1, it will also consider some mutual  
interactions from the sunlight cast along the given parallel view  
(pool_par.vf).  It does not include sky illuminance, which is  
probably a minor component, anyway.  Adding that in would require a  
more sophisticated bombarding sampler than vwrays, or a mixfunc  
rather than a glow surface on the remodeling end.

The other cool thing the new rtcontrib -c option facilitates is  
optical system modeling, as in custom-designed luminaires.  It would  
be interesting to compare to more specialized (& sophisticated)  
commercial ray-tracing systems.

-Greg

P.S.  You need to download the latest HEAD of src/util/rtcontrib.c  
and recompile for this to work.

> From: "Shakespeare, Robert A." <shakespe@indiana.edu>
> Date: November 17, 2007 6:52:23 AM PST
>
> How do you generate the floor_caustics.pic from the files you  
> uploaded? This is most interesting!
>
> -Rob Shakespeare
---------------------
#
# A swimming pool with caustics on the bottom
#

NPROCS = 1

CAUSTICS = floor_caustics.pic s_wall_caustics.pic n_wall_caustics.pic \
         e_wall_caustics.pic w_wall_caustics.pic

OBJF =

SCENEF = pool_surface.rad

view:   glowpool.rad sky.rad $(SCENEF) $(OBJF) $(CAUSTICS)
         rad -o x11 poolscene.rif

pics:   glowpool.rad sky.rad $(SCENEF) $(OBJF) $(CAUSTICS)
         rad -N $(NPROCS) poolscene.rif

$(CAUSTICS):    catchpool.rad $(SCENEF) $(OBJF) pool_par.vf
         oconv -f $(SCENEF) catchpool.rad > catchscene.oct
         vwrays -pj .6 -vf pool_par.vf -x 500 -y 500 -ff \
                 | rtcontrib -w -ffc -c -fo -n $(NPROCS) \
                         -f pool_coords.cal -o %s_caustics.pic \
                         -b floor_bin -bn 7500 -x 50 -y 150 -m floor \
                         -b s_wall_bin -bn 1500 -x 50 -y 30 -m s_wall \
                         -b n_wall_bin -bn 1500 -x 50 -y 30 -m n_wall \
                         -b e_wall_bin -bn 4500 -x 150 -y 30 -m e_wall \
                         -b w_wall_bin -bn 4500 -x 150 -y 30 -m w_wall \
                         catchscene.oct
         rm catchscene.oct


From crh at birch-krogboe.dk  Sat Nov 17 07:26:23 2007
From: crh at birch-krogboe.dk (Christian Anker Hviid)
Date: Sat Nov 17 07:23:30 2007
Subject: [Radiance-general] 10k lux overcast sky implementation only yields
	9177?
Message-ID: <OF0F60BC27.3F355349-ONC1257396.0054D037-C1257396.0054D03F@birch-krogboe.dk>

An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071117/09b2b813/attachment.html
From tbleicher at arcor.de  Sat Nov 17 08:13:31 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Sat Nov 17 08:15:03 2007
Subject: [Radiance-general] 10k lux overcast sky implementation only
	yields 9177?
In-Reply-To: <OF0F60BC27.3F355349-ONC1257396.0054D037-C1257396.0054D03F@birch-krogboe.dk>
References: <OF0F60BC27.3F355349-ONC1257396.0054D037-C1257396.0054D03F@birch-krogboe.dk>
Message-ID: <A265EA8F-A5E0-4617-9256-935124B58981@arcor.de>


On 17 Nov 2007, at 15:26, Christian Anker Hviid wrote:

> Hello Radiance users
>
> I use gensky to create a 10k lux CIE standard overcast sky with the  
> -B command:
>
> gensky 6 1 14 -B 55.866 -c -g 0.2

'-g 0.2' is the default value, so you can omit it. Since you're about to
debug your scene I'd remove everything that's not necessary.

> I use the following commands to generate a center line of daylight  
> at working height
> (.85m) in a room:
>
> cnt 11 \
> | rcalc -e '$1=2;$2=$1/2+.5;$3=.85;$4=0;$5=0;$6=1' \
> | rtrace -I -dt 0.03 -ds 0.02 -ab 3 -aa .15 -ar 128 -ad 1024 -as  
> 512 -h -w -oov scene.oct \
> | rcalc -e '$1=$2;$2=179*(.265*$4+.670*$5+.065*$6)' > lux.dat

Looks fine to me. Do your values change along the line or are all of  
them
below 10000? If they differ a lot it's a sign that there is still  
geometry
left in the scene.

To check the sky I would remove everything from the rtrace command line
except for '-I -ab 1 -h -w -oov' and check a single point for it's  
value.
Chapter 6 in 'Rendering with Radiance' explains the process step by  
step.

Another thing:

The man page for gensky shows a sky with non-white glow material. The
'-B 55.866' option will only create a 10k lux sky if you use a  
normalized
white glow material (r=g=b=1).

HTH,
Thomas

From mintsheng at gmail.com  Mon Nov 19 18:28:40 2007
From: mintsheng at gmail.com (Sheng Yu)
Date: Mon Nov 19 18:28:46 2007
Subject: [Radiance-general] question about ximage
Message-ID: <396328780711191828r2ae08d20u9349c0c6f5301cea@mail.gmail.com>

Hi,

Does anyone know how to print out the pixel position and luminance
information for a whole image? For one pixel, we can do that by
pressing 't' in ximage, and we can also drag the right button for
continuous pixels. Thanks.

Yu Sheng

From jedev at visarc.com  Mon Nov 19 18:37:59 2007
From: jedev at visarc.com (Jack de Valpine)
Date: Mon Nov 19 18:38:10 2007
Subject: [Radiance-general] question about ximage
In-Reply-To: <396328780711191828r2ae08d20u9349c0c6f5301cea@mail.gmail.com>
References: <396328780711191828r2ae08d20u9349c0c6f5301cea@mail.gmail.com>
Message-ID: <47424887.2000308@visarc.com>

Hi,

You might want to take a look at pvalue, which can read picture and 
output the pixel values.

-Jack

Sheng Yu wrote:
> Hi,
>
> Does anyone know how to print out the pixel position and luminance
> information for a whole image? For one pixel, we can do that by
> pressing 't' in ximage, and we can also drag the right button for
> continuous pixels. Thanks.
>
> Yu Sheng
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>   

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


From nicolas.roy at VELUX.com  Tue Nov 20 02:36:42 2007
From: nicolas.roy at VELUX.com (Nicolas Roy)
Date: Tue Nov 20 02:36:53 2007
Subject: [Radiance-general] Glass transmittance value
Message-ID: <OFC9354EF8.CE681A11-ONC1257399.0037B77D-C1257399.003A4AFA@velux.com>

Hi,

I have a question concerning the definition of "glass" material. I am 
trying to determine the transmittance of a window pane using spectrum 
measurements. 

I have derived the following values for rgb (0.78, 0.85, 0.80).

-Are those values determining transmittance or transmissivity?

-Can the transmittance be derived using the formula  Tn = 0.265r + 0.67g + 
0.065b ?


_Nicolas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071120/d7314828/attachment.htm
From tbleicher at arcor.de  Tue Nov 20 10:53:04 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Tue Nov 20 10:54:47 2007
Subject: [Radiance-general] Glass transmittance value
In-Reply-To: <OFC9354EF8.CE681A11-ONC1257399.0037B77D-C1257399.003A4AFA@velux.com>
References: <OFC9354EF8.CE681A11-ONC1257399.0037B77D-C1257399.003A4AFA@velux.com>
Message-ID: <E2FC0BEC-F264-4059-84BA-9869EA80F475@arcor.de>


On 20 Nov 2007, at 10:36, Nicolas Roy wrote:

>
> Hi,
>
> I have a question concerning the definition of "glass" material. I  
> am trying
> to determine the transmittance of a window pane using spectrum  
> measurements.
>
> I have derived the following values for rgb (0.78, 0.85, 0.80).
>
> -Are those values determining transmittance or transmissivity?

Radiance expects transmissivity

> -Can the transmittance be derived using the formula  Tn = 0.265r +  
> 0.67g + 0.065b ?

No. The formula is

Tn = (sqrt(0.8402529435+0.0072522239*t*t) - 0.9166530661) /  
0.0036261119 / t

where t = transmittance and Tn = Transmissivity

Sorry for the format. I have copied it from a python script. Best  
thing I could
do in plain text.

I have a PDF document where this is further detailed. I just can't  
find it or
it's source on the web.

Regards,
Thomas

From rob.fitzsimmons at Summit.Fiserv.com  Wed Nov 21 11:34:55 2007
From: rob.fitzsimmons at Summit.Fiserv.com (Fitzsimmons, Rob)
Date: Wed Nov 21 11:33:55 2007
Subject: [Radiance-general] water - any news???
References: <C3646A57.7C7C%shakespe@indiana.edu>
	<8E52E9F5-B92F-42A6-961D-B105CA88C892@lmi.net>
Message-ID: <9BF49DEBB772944B980C84379E22CB5B4FEC48@MKEXCHVS2.Mail.Fiserv.net>

That is a cool feature, Greg,
Using your files, I increased resolution, added a few spheres and rendered..
http://rastermon.livejournal.com/

Rob F

-----Original Message-----
From: radiance-general-bounces@radiance-online.org on behalf of Greg Ward
Sent: Sat 11/17/2007 9:16 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] water - any news???
 
Hi Rob,

If you type "make" in the unpacked directory, the enclosed Makefile  
(attached with minor tweaks) will run the following commands:

oconv -f pool_surface.rad catchpool.rad > catchscene.oct
vwrays -pj .6 -vf pool_par.vf -x 500 -y 500 -ff \
| rtcontrib -w -ffc -c -fo -n 1 \
                 -f pool_coords.cal -o %s_caustics.pic \
                 -b floor_bin -bn 7500 -x 50 -y 150 -m floor \
                 -b s_wall_bin -bn 1500 -x 50 -y 30 -m s_wall \
                 -b n_wall_bin -bn 1500 -x 50 -y 30 -m n_wall \
                 -b e_wall_bin -bn 4500 -x 150 -y 30 -m e_wall \
                 -b w_wall_bin -bn 4500 -x 150 -y 30 -m w_wall \
                 catchscene.oct
rm catchscene.oct
rad -o x11 poolscene.rif
	oconv sky.rad glowpool.rad pool_surface.rad > poolscene.oct
         rvu -vp -20 20 20 -vd 20 -20 -20 -vh 30 -vv 20 -ps 16 -pt . 
16 -dp 64 -ar 38 -ds 0 -dt .2 -dc .25 -dr 0 -sj 0 -st .5 -aa .3 -ad  
256 -as 0 -av 17 17 17 -lr 6 -lw .01 -R poolscene.rif -o x11 -pe .03  
poolscene.oct

This will produce 5 Radiance pictures, one for each wall.  Since the  
defaults for rtcontrib set -ab 1, it will also consider some mutual  
interactions from the sunlight cast along the given parallel view  
(pool_par.vf).  It does not include sky illuminance, which is  
probably a minor component, anyway.  Adding that in would require a  
more sophisticated bombarding sampler than vwrays, or a mixfunc  
rather than a glow surface on the remodeling end.

The other cool thing the new rtcontrib -c option facilitates is  
optical system modeling, as in custom-designed luminaires.  It would  
be interesting to compare to more specialized (& sophisticated)  
commercial ray-tracing systems.

-Greg

P.S.  You need to download the latest HEAD of src/util/rtcontrib.c  
and recompile for this to work.

> From: "Shakespeare, Robert A." <shakespe@indiana.edu>
> Date: November 17, 2007 6:52:23 AM PST
>
> How do you generate the floor_caustics.pic from the files you  
> uploaded? This is most interesting!
>
> -Rob Shakespeare
---------------------
#
# A swimming pool with caustics on the bottom
#

NPROCS = 1

CAUSTICS = floor_caustics.pic s_wall_caustics.pic n_wall_caustics.pic \
         e_wall_caustics.pic w_wall_caustics.pic

OBJF =

SCENEF = pool_surface.rad

view:   glowpool.rad sky.rad $(SCENEF) $(OBJF) $(CAUSTICS)
         rad -o x11 poolscene.rif

pics:   glowpool.rad sky.rad $(SCENEF) $(OBJF) $(CAUSTICS)
         rad -N $(NPROCS) poolscene.rif

$(CAUSTICS):    catchpool.rad $(SCENEF) $(OBJF) pool_par.vf
         oconv -f $(SCENEF) catchpool.rad > catchscene.oct
         vwrays -pj .6 -vf pool_par.vf -x 500 -y 500 -ff \
                 | rtcontrib -w -ffc -c -fo -n $(NPROCS) \
                         -f pool_coords.cal -o %s_caustics.pic \
                         -b floor_bin -bn 7500 -x 50 -y 150 -m floor \
                         -b s_wall_bin -bn 1500 -x 50 -y 30 -m s_wall \
                         -b n_wall_bin -bn 1500 -x 50 -y 30 -m n_wall \
                         -b e_wall_bin -bn 4500 -x 150 -y 30 -m e_wall \
                         -b w_wall_bin -bn 4500 -x 150 -y 30 -m w_wall \
                         catchscene.oct
         rm catchscene.oct


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071121/7ee284ca/attachment.html
From cbm at cvmt.aau.dk  Thu Nov 22 00:46:19 2007
From: cbm at cvmt.aau.dk (Claus B. Madsen)
Date: Thu Nov 22 00:46:24 2007
Subject: [Radiance-general] 10k lux overcast sky implementation only yields
	9177?
In-Reply-To: <OF0F60BC27.3F355349-ONC1257396.0054D037-C1257396.0054D03F@birch-krogboe.dk>
References: <OF0F60BC27.3F355349-ONC1257396.0054D037-C1257396.0054D03F@birch-krogboe.dk>
Message-ID: <474541DB.2020505@cvmt.aau.dk>




Hello Christian,


My suspicions concerning your problem go towards the fact that there 
apparently are many ways to convert from RGB radiances to Lux (using 
slightly different RGB weights) ... moreover it is my general experience 
that Radiance, when looking straight into a light source, produces 
radiances that are slightly less than the source radiance specified in 
the scene file. For example when I point the "camera" straight into an 
RGB = 1 W/(m^2 * sr) sky dome I get radiances of 0.9941 (although that 
may be due to finite precision in the .hdr file format).

Seeing that you are from Denmark (as well) I took the liberty to call 
you on the phone (your company switchboard informed me you were away on 
travel) ... if you feel like discussing some of these things (not that I 
necessarily have the answer to your problem) we can contact each other 
when you get back.


Best,
Claus


Christian Anker Hviid wrote:
> Hello Radiance users
>  
> I use gensky to create a 10k lux CIE standard overcast sky with the -B 
> command:
>  
> gensky 6 1 14 -B 55.866 -c -g 0.2
>  
> I use the following commands to generate a center line of daylight at 
> working height (.85m) in a room:
>  
> cnt 11 \
> | rcalc -e '$1=2;$2=$1/2+.5;$3=.85;$4=0;$5=0;$6=1' \
> | rtrace -I -dt 0.03 -ds 0.02 -ab 3 -aa .15 -ar 128 -ad 1024 -as 512 
> -h -w -oov scene.oct \
> | rcalc -e '$1=$2;$2=179*(.265*$4+.670*$5+.065*$6)' > lux.dat
>  
> But when I remove everything from the scene but the sky, I only get 
> approx 9177 lux on my centerline. According to theory I should be 
> getting approx 10000. What is wrong?
>  
> Thank you for your time.
>  
> Christian Hviid
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   

-------------- next part --------------
A non-text attachment was scrubbed...
Name: cbm.vcf
Type: text/x-vcard
Size: 391 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071122/18071e90/cbm.vcf
From cbm at cvmt.aau.dk  Thu Nov 22 06:48:34 2007
From: cbm at cvmt.aau.dk (Claus B. Madsen)
Date: Thu Nov 22 06:48:53 2007
Subject: [Radiance-general] Problem with getting correct irradiance from sky
	dome
Message-ID: <474596C2.7060506@cvmt.aau.dk>



Dear List,

I have problems getting trustworthy irradiances in a scene where I am 
using a 180 degree light source as a sky dome. For testing purposes I 
have created the following very simple setup: a groundplane with normal 
(0 0 1), and a 180 degree source with direction vector (0 0 1), the 
radiance of the source is RGB=(1 1 1) (unity radiance). I set the camera 
to look straight down on the groundplane and render using rpict -i to 
get irradiances. In theory such a source should result in an irradiance 
at the groundplane of exactly pi, but when I render I get 
approx.RGB=(4.77  4.77  4.77)

Any ideas for explanations? Any ideas for how to correct this?

Best,
Claus




The scene.rad file:
------------------------------------
# Materials
void plastic perfectlambert
0
0
5 1.0 1.0 1.0 0 0

#Geometry
!genbox perfectlambert groundplane 10000 10000 0.5 | xform -t -5000 
-5000 -0.25


# Illumination environment: a 180 degree unity radiance skydome
void light skyradiance
0
0
3 1 1 1

skyradiance source TheSky
0
0
4 0 0 1 180.0
---------------------------------------------------------------------------------


The render parameters:

rpict  -i -x 1024 -y 1024 -ab 4 -aw 1 -ps 1 -dt 0.0 -dr 3 -dp 8192 -ds 
0.01 -dj 0.9 -dc 0.8 -u -vf scene.vp




And the scene.vp file:
---------------------------------
rview -vtv -vp 0.0 0.0 10.0 -vd 0.0 0.0 -1.0 -vu 0 1 0 -vh 45 -vv 45
----------------------------------------------------------------------


-------------- next part --------------
A non-text attachment was scrubbed...
Name: cbm.vcf
Type: text/x-vcard
Size: 391 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071122/049de8ad/cbm.vcf
From gward at lmi.net  Thu Nov 22 07:33:05 2007
From: gward at lmi.net (Greg Ward)
Date: Thu Nov 22 07:33:01 2007
Subject: [Radiance-general] Problem with getting correct irradiance from
	sky dome
In-Reply-To: <474596C2.7060506@cvmt.aau.dk>
References: <474596C2.7060506@cvmt.aau.dk>
Message-ID: <E1F2E12A-64CD-41AB-AD79-16898399000E@lmi.net>

Hi Claus,

You need to specify the sky as a "glow" source -- sources that large  
are not accurately modeled in the direct calculation.  See:

	http://radsite.lbl.gov/radiance/digests_html/v2n5.1.html#SKY

I suppose the renderer should issue a warning or something, but  
Radiance is kind of like a big pile of rope to hang yourself with.

Best,
-Greg

> From: "Claus B. Madsen" <cbm@cvmt.aau.dk>
> Date: November 22, 2007 6:48:34 AM PST
>
> Dear List,
>
> I have problems getting trustworthy irradiances in a scene where I  
> am using a 180 degree light source as a sky dome. For testing  
> purposes I have created the following very simple setup: a  
> groundplane with normal (0 0 1), and a 180 degree source with  
> direction vector (0 0 1), the radiance of the source is RGB=(1 1 1)  
> (unity radiance). I set the camera to look straight down on the  
> groundplane and render using rpict -i to get irradiances. In theory  
> such a source should result in an irradiance at the groundplane of  
> exactly pi, but when I render I get approx.RGB=(4.77  4.77  4.77)
>
> Any ideas for explanations? Any ideas for how to correct this?
>
> Best,
> Claus
>
>
>
> The scene.rad file:
> ------------------------------------
> # Materials
> void plastic perfectlambert
> 0
> 0
> 5 1.0 1.0 1.0 0 0
>
> #Geometry
> !genbox perfectlambert groundplane 10000 10000 0.5 | xform -t -5000  
> -5000 -0.25
>
>
> # Illumination environment: a 180 degree unity radiance skydome
> void light skyradiance
> 0
> 0
> 3 1 1 1
>
> skyradiance source TheSky
> 0
> 0
> 4 0 0 1 180.0
> ---------------------------------------------------------------------- 
> -----------
>
>
> The render parameters:
>
> rpict  -i -x 1024 -y 1024 -ab 4 -aw 1 -ps 1 -dt 0.0 -dr 3 -dp 8192 - 
> ds 0.01 -dj 0.9 -dc 0.8 -u -vf scene.vp
>
>
>
>
> And the scene.vp file:
> ---------------------------------
> rview -vtv -vp 0.0 0.0 10.0 -vd 0.0 0.0 -1.0 -vu 0 1 0 -vh 45 -vv 45
> ----------------------------------------------------------------------
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cbm.vcf
Type: text/x-vcard
Size: 391 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071122/66b3c945/cbm.vcf
-------------- next part --------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
From rpg at rumblestrip.org  Thu Nov 22 07:48:13 2007
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Nov 22 07:49:40 2007
Subject: [Radiance-general] Problem with getting correct irradiance from
	sky dome
In-Reply-To: <E1F2E12A-64CD-41AB-AD79-16898399000E@lmi.net>
References: <474596C2.7060506@cvmt.aau.dk>
	<E1F2E12A-64CD-41AB-AD79-16898399000E@lmi.net>
Message-ID: <6EAF2A9D-B2DA-4453-A2A8-753E90AF74CF@rumblestrip.org>


"Radiance is kind of like a big pile of rope to hang yourself with."
- Greg Ward

Quote of the year, thanks, Greg.  Happy Thanksgiving all! 
  

From jm at dmu.ac.uk  Fri Nov 23 01:25:48 2007
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Fri Nov 23 01:26:03 2007
Subject: [Radiance-general] Problem with getting correct irradiance from sky
	dome
Message-ID: <DF90FF9A-3AFB-4A3A-A404-459492BDB395@dmu.ac.uk>

"Radiance is kind of like a big pile of rope to hang yourself with."
- Greg Ward

First compile: "Hmm.. this collar feels tighter than usual."
First three months: Pink rash around the neck.
Year one: Rash changes from pink to 'angry' red.
Year three: Rash turns to hard skin.
Year ten: Hard skin has now become thick calluses.

After two decades of using Radiance your neck will blunt the blade of  
a guillotine.  But you will find it difficult trying to look over  
your shoulder.  A small price to pay -- for having so much fun along  
the way.

Thanks, Greg.

-John

-----------------------------------------------
Dr. John Mardaljevic
Senior Research Fellow
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm



From cbm at cvmt.aau.dk  Fri Nov 23 01:50:17 2007
From: cbm at cvmt.aau.dk (Claus B. Madsen)
Date: Fri Nov 23 01:50:20 2007
Subject: [Radiance-general] Problem with getting correct irradiance from
	sky dome
In-Reply-To: <E1F2E12A-64CD-41AB-AD79-16898399000E@lmi.net>
References: <474596C2.7060506@cvmt.aau.dk>
	<E1F2E12A-64CD-41AB-AD79-16898399000E@lmi.net>
Message-ID: <4746A259.2090406@cvmt.aau.dk>


Hi Greg,

thanks for the super advice (and for Radiance :-)

Switching from light to glow solves the irradiance level problem. Now my 
problem (of course) is: I don't get "slightly dark patches" beneath 
objects standing on the ground plane as you would expect (due to partial 
occlusion of the incoming radiance from the sky dome). I.e., this use of 
glow (I dunno what to set maxrad to since the glow material is not 
applied to any geometry but just used for an infinitely distant skydome) 
doesn't allow the Sky dome to cast shadow.


... eh, and yes ... thanks for teaching me the Ropes of Radiance

Best,
Claus


Greg Ward wrote:
> Hi Claus,
>
> You need to specify the sky as a "glow" source -- sources that large 
> are not accurately modeled in the direct calculation.  See:
>
>     http://radsite.lbl.gov/radiance/digests_html/v2n5.1.html#SKY
>
> I suppose the renderer should issue a warning or something, but 
> Radiance is kind of like a big pile of rope to hang yourself with.
>
> Best,
> -Greg

-------------- next part --------------
A non-text attachment was scrubbed...
Name: cbm.vcf
Type: text/x-vcard
Size: 391 bytes
Desc: not available
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20071123/768b9774/cbm.vcf
From gward at lmi.net  Fri Nov 23 16:33:09 2007
From: gward at lmi.net (Greg Ward)
Date: Fri Nov 23 16:33:05 2007
Subject: [Radiance-general] Problem with getting correct irradiance from
	sky dome
In-Reply-To: <4746A259.2090406@cvmt.aau.dk>
References: <474596C2.7060506@cvmt.aau.dk>
	<E1F2E12A-64CD-41AB-AD79-16898399000E@lmi.net>
	<4746A259.2090406@cvmt.aau.dk>
Message-ID: <721C92AF-C01B-4D10-A2A6-C9DAE8B275CE@lmi.net>

Hi Claus,

If you either increase your -ar setting or set -aa to 0, you will get  
better "contact shadows" as they are called.

Hope this helps.
-Greg

> From: "Claus B. Madsen" <cbm@cvmt.aau.dk>
> Date: November 23, 2007 1:50:17 AM PST
>
> Hi Greg,
>
> thanks for the super advice (and for Radiance :-)
>
> Switching from light to glow solves the irradiance level problem.  
> Now my problem (of course) is: I don't get "slightly dark patches"  
> beneath objects standing on the ground plane as you would expect  
> (due to partial occlusion of the incoming radiance from the sky  
> dome). I.e., this use of glow (I dunno what to set maxrad to since  
> the glow material is not applied to any geometry but just used for  
> an infinitely distant skydome) doesn't allow the Sky dome to cast  
> shadow.
>
> ... eh, and yes ... thanks for teaching me the Ropes of Radiance
>
> Best,
> Claus

From smichel_designer at hotmail.com  Mon Nov 26 12:20:22 2007
From: smichel_designer at hotmail.com (steve michel)
Date: Mon Nov 26 12:20:29 2007
Subject: [Radiance-general] Sketchup exporter script
In-Reply-To: <1B4F2494-85BD-4B8E-9874-14347A21EF60@arcor.de>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<1B4F2494-85BD-4B8E-9874-14347A21EF60@arcor.de>
Message-ID: <BAY143-W332834D8ABFE04DCD8494CE0750@phx.gbl>


Thanks again for the export script. The following was in Fransceco's wiki as a future feature (no pun intended) 
<<replacement of component instances with pre-canned Radiance files>>
 
I hope this will enable the script's ability to handle artificial lighting. I have some ies fixtures i've used in some radiance renders I want to use in the Sketchup to radiance generated files. So far I've only the following method:
1 step converted ies to rad files
2 Use mkillum for a wrapper for fixture geometry
3 'update' the script generated files to search/replace a named scene 'place holder' with items 1 and 2.
 
Does this approach make sense? If there is a more straight forward way, please let me know.
 
 
 
Is there a straight forward way of handling instances > From: tbleicher@arcor.de> Subject: Re: [Radiance-general] Sketchup exporter script> Date: Tue, 30 Oct 2007 21:19:34 +0000> To: radiance-general@radiance-online.org> > > On 28 Oct 2007, at 18:15, Thomas Bleicher wrote:> > > Hello all.> >> > I have cleaned up and tested my Sketchup export script over the > > weekend> > and put it up on Francesco's wiki for download:> >> > http://www.bozzograo.net/radiancewiki/doku.php/input:exporters:su2rad> >> > The wiki page contains all the documentation there is for the > > moment but> > since it does not offer a great number of options it's use should > > be straight> > forward.> >> > Happy testing,> > Unfortunately some show stopper bugs were present in this version,> especially for those using it on Windows. I've fixed a few things and> uploaded a new version to the wiki site.> > If you plan to use the script on Windows please download the new > version!> > Even if you're not using Windows you should download the update because> it now exports the north orientation of the scene correctly.> > Regards,> Thomas> > _______________________________________________> Radiance-general mailing list> Radiance-general@radiance-online.org> http://www.radiance-online.org/mailman/listinfo/radiance-general
_________________________________________________________________
Have fun while connecting on Messenger! Click here to learn more.
http://entertainment.sympatico.msn.ca/WindowsLiveMessenger
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071126/8e0b1dfa/attachment.htm
From tbleicher at arcor.de  Mon Nov 26 14:41:50 2007
From: tbleicher at arcor.de (Thomas Bleicher)
Date: Mon Nov 26 14:43:30 2007
Subject: [Radiance-general] Sketchup exporter script
In-Reply-To: <BAY143-W332834D8ABFE04DCD8494CE0750@phx.gbl>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<1B4F2494-85BD-4B8E-9874-14347A21EF60@arcor.de>
	<BAY143-W332834D8ABFE04DCD8494CE0750@phx.gbl>
Message-ID: <B1210350-05E0-404B-8D7B-9A95BEC7D3D2@arcor.de>


On 26 Nov 2007, at 20:20, steve michel wrote:

> Thanks again for the export script. The following was in  
> Fransceco's wiki as a
> future feature (no pun intended)
> <<replacement of component instances with pre-canned Radiance files>>
>
> I hope this will enable the script's ability to handle artificial  
> lighting.

Yes. That's my lazy take on IES file support.

> I have some ies fixtures i've used in some radiance renders I want
> to use in the Sketchup to radiance generated files.
> So far I've only the following method:
> 1 step converted ies to rad files
> 2 Use mkillum for a wrapper for fixture geometry
> 3 'update' the script generated files to search/replace a
>   named scene 'place holder' with items 1 and 2.
>
> Does this approach make sense? If there is a more straight forward
> way, please let me know.

Search and replace could be done with replmarks. Use triangles
where you want your fittings, find the corresponding "!xform ..."
line for the triangles file and replace it with the correct
"!replmarks ..." line (I assume you have already prepared the
Radiance description of the fitting, ies2rad and all that).

Alternative (more along the lines of how I think about Radiance
and the Sketchup scenes):

1) create a "component instance" for the light fitting (shaped as
    the fitting for better placement)
2) place instance in scene
3) export
4) replace the file that represents the instance in the "objects/"
    directory with a file that's created by ies2rad (and spiced up
    with a bit of geometry if you like)

The idea behind the "pre-canned" files is that every component instance
_loaded_ into Sketchup has an associated file path. The script could  
just
check if next to the component's ".skp" file another file with ".rad"
and ".dat" extension exists and copy these files instead of exporting
the actual component geometry.

IES support then would require you to create a Radiance file for the
fitting (with geometry and correct ".dat" file path), the ".dat" file
and a Sketchup component to represent the fitting in the scene. When
you load and use the component it gets replaced with the Radiance files
on the fly. Other options like dimming could be shoehorned into this
process as well.

> Is there a straight forward way of handling instances

Is there more than one way of handling an instance in Sketchup?


Update for those who've faithfully read this far:

I have created a google code project for this script:

     http://code.google.com/p/su2rad/

The download package is still at the last 'release' stage
but the SVN repository has the hot new features
* export by layer
* export by colour and
* import with contour lines

As usual it hasn't seen a lot of testing yet.


Cheers,
Thomas



From vangelis at unb.br  Tue Nov 27 18:50:12 2007
From: vangelis at unb.br (Evangelos Christakou)
Date: Tue Nov 27 18:50:19 2007
Subject: [Radiance-general] tip for GOOGLE Sketchup location
Message-ID: <dc928a050711271850n3e8118a6x12e59a801d05661a@mail.gmail.com>

Hi Thomas,

Thank you again for your great job.

I'm wrtting to you again about GOOGLE SKETCHUP 6 (free version) site
location.
In Windows version, there is no LOCATION option on MODEL INFO Menu.

But, I have found a way to overcome this difficult, and it's very nice!

At first open GOOGLE EARTH before SKP, and find out your building location,
go to SKP and click on  "Get current view" icon, once you have imported the
image from G. Earth to G. SKETCHUP it assumes the full coordinates from
building location and VOIL?..... Now only you have to do is align
NORTH/SOUTH direction, rotating the model.

Nice to hear from you,

Vangelis


>
> I have created a google code project for this script:
>
>      http://code.google.com/p/su2rad/
>
> The download package is still at the last 'release' stage
> but the SVN repository has the hot new features
> * export by layer
> * export by colour and
> * import with contour lines
>
> As usual it hasn't seen a lot of testing yet.
>
>
> Cheers,
> Thomas
>
>
>
>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 45, Issue 23
> ************************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071128/747b9c82/attachment.html
From nicolas.roy at VELUX.com  Wed Nov 28 05:39:19 2007
From: nicolas.roy at VELUX.com (Nicolas Roy)
Date: Wed Nov 28 05:39:31 2007
Subject: [Radiance-general] Nicolas Roy is out of the office.
Message-ID: <OF1C19E5E0.BFFC5C6D-ONC12573A1.004B02E7-C12573A1.004B02E7@velux.com>


I will be out of the office starting  28-11-2007 and will not return until
03-12-2007.

I will respond to your message as soon as I return. Please contact Per
Arnold Andersen if it's urgent.


From smichel_designer at hotmail.com  Thu Nov 29 11:18:18 2007
From: smichel_designer at hotmail.com (steve michel)
Date: Thu Nov 29 11:18:27 2007
Subject: [Radiance-general] Sketchup exporter script
In-Reply-To: <B1210350-05E0-404B-8D7B-9A95BEC7D3D2@arcor.de>
References: <B12D39B5-A73D-4A0E-BC6C-67C8D0E4A04F@arcor.de>
	<1B4F2494-85BD-4B8E-9874-14347A21EF60@arcor.de>
	<BAY143-W332834D8ABFE04DCD8494CE0750@phx.gbl> 
	<B1210350-05E0-404B-8D7B-9A95BEC7D3D2@arcor.de>
Message-ID: <BAY143-W174AC1A1D148E35CE74492E0700@phx.gbl>


Thanks! of course it should have occured to me to use the sketchup 'place-holder' as the lamp geometry -'two birds with one stone'> From: tbleicher@arcor.de> Subject: Re: [Radiance-general] Sketchup exporter script> Date: Mon, 26 Nov 2007 22:41:50 +0000> To: radiance-general@radiance-online.org> > > On 26 Nov 2007, at 20:20, steve michel wrote:> > > Thanks again for the export script. The following was in > > Fransceco's wiki as a> > future feature (no pun intended)> > <<replacement of component instances with pre-canned Radiance files>>> >> > I hope this will enable the script's ability to handle artificial > > lighting.> > Yes. That's my lazy take on IES file support.> > > I have some ies fixtures i've used in some radiance renders I want> > to use in the Sketchup to radiance generated files.> > So far I've only the following method:> > 1 step converted ies to rad files> > 2 Use mkillum for a wrapper for fixture geometry> > 3 'update' the script generated files to search/replace a> > named scene 'place holder' with items 1 and 2.> >> > Does this approach make sense? If there is a more straight forward> > way, please let me know.> > Search and replace could be done with replmarks. Use triangles> where you want your fittings, find the corresponding "!xform ..."> line for the triangles file and replace it with the correct> "!replmarks ..." line (I assume you have already prepared the> Radiance description of the fitting, ies2rad and all that).> > Alternative (more along the lines of how I think about Radiance> and the Sketchup scenes):> > 1) create a "component instance" for the light fitting (shaped as> the fitting for better placement)> 2) place instance in scene> 3) export> 4) replace the file that represents the instance in the "objects/"> directory with a file that's created by ies2rad (and spiced up> with a bit of geometry if you like)> > The idea behind the "pre-canned" files is that every component instance> _loaded_ into Sketchup has an associated file path. The script could > just> check if next to the component's ".skp" file another file with ".rad"> and ".dat" extension exists and copy these files instead of exporting> the actual component geometry.> > IES support then would require you to create a Radiance file for the> fitting (with geometry and correct ".dat" file path), the ".dat" file> and a Sketchup component to represent the fitting in the scene. When> you load and use the component it gets replaced with the Radiance files> on the fly. Other options like dimming could be shoehorned into this> process as well.> > > Is there a straight forward way of handling instances> > Is there more than one way of handling an instance in Sketchup?> > > Update for those who've faithfully read this far:> > I have created a google code project for this script:> > http://code.google.com/p/su2rad/> > The download package is still at the last 'release' stage> but the SVN repository has the hot new features> * export by layer> * export by colour and> * import with contour lines> > As usual it hasn't seen a lot of testing yet.> > > Cheers,> Thomas> > > > _______________________________________________> Radiance-general mailing list> Radiance-general@radiance-online.org> http://www.radiance-online.org/mailman/listinfo/radiance-general
_________________________________________________________________
Express yourself with free Messenger emoticons. Get them today!
http://www.freemessengeremoticons.ca/?icid=EMENCA122
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071129/2c36f237/attachment.htm
From bhattarai at simcenter.org  Thu Nov 29 14:33:37 2007
From: bhattarai at simcenter.org (Prasanta Bhattarai)
Date: Thu Nov 29 14:34:19 2007
Subject: [Radiance-general] Radmap: to produce irradiation map
Message-ID: <0JSA00KVVHC39NW1@vms044.mailsrvcs.net>

Hi all,

 

Being a new user to Radiance, I have very limited knowledge about it. I
might be completely wrong on what I am saying. If so, please correct me and
give suggestions. 

 

My aim here is to render some before and after images for analysis of
daylight. I want to show existing and proposed conditions (annual)
irradiation maps using "radmap" tool.

The weather file that I am using is TMY2 .epw I used following to render
existing and proposed irradiation maps with "radmap" command:
radmap -s 8 -a 40.8 -o 73.9 -m 57  -n 1 -w WeatherTMT2.epw --no-albedo
--viewfile viewfile --radfile test.rad  -x 2048 -y 2048
--keep-temporary-maps --sky-resolution 1024 --max-kWh 500 --max-MJ 150 
 

As a result, I get irradiation maps in which the orientation of the shading
looks out by about 90deg (area on north/northwest looks brighter than
east/southeast). 

-          Am I using the correct weather data or parameters?

-          I would also like to use the rpict options to get better
rendering, but whenever I specify the --optionfile   it says, 

o        View file to be used: viewfile

o        Option file to be used: viewfile 

o        Do I have to specify the rpict options on the viewfile?

-          Anyone using Radmap for Daylight simulation who could further
help me?

 

Thanks in advance,

 

Prasanta

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20071129/df831c6f/attachment.html
From rpg at rumblestrip.org  Thu Nov 29 15:00:57 2007
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Nov 29 15:01:03 2007
Subject: [Radiance-general] Radmap: to produce irradiation map
In-Reply-To: <0JSA00KVVHC39NW1@vms044.mailsrvcs.net>
References: <0JSA00KVVHC39NW1@vms044.mailsrvcs.net>
Message-ID: <474F44A9.4040808@rumblestrip.org>

Prasanta Bhattarai wrote:
>
> Hi all,
>
> Being a new user to Radiance, I have very limited knowledge about it. I might be completely wrong on what I am saying. If so, please correct me and give suggestions. 
>
> My aim here is to render some before and after images for analysis of 
> daylight. I want to show existing and proposed conditions (annual) 
> irradiation maps using ?radmap? tool.
>

Hi Prasanta,

Welcome to the world of Radiance! The radmap tool is actually a separate 
tool from the main Radiance distribution, but the creator, Francesco 
Anselmo, is a member of this mailing list so you may get some responses 
besides mine here. But you should definitely also check out 
http://www.bozzograo.net/radiance/ for other possible leads.

> The weather file that I am using is TMY2 .epw I used following to render existing and proposed irradiation maps with ?radmap? command:
> *radmap -s 8 -a 40.8 -o 73.9 -m 57  -n 1 -w WeatherTMT2.epw --no-albedo --viewfile viewfile --radfile test.rad  -x 2048 -y 2048 --keep-temporary-maps --sky-resolution 1024 --max-kWh 500 --max-MJ 150 *
> * *
>
> As a result, I get irradiation maps in which the orientation of the 
> shading looks out by about 90deg (area on north/northwest looks 
> brighter than east/southeast).
>
> - Am I using the correct weather data or parameters?
>

Your longitude is 73.9, but your standard meridian is a slightly 
non-standard 57 degrees. I'd assume "-m 75" with "-o 73.9" will give a 
better result. Looks like you just accidentally transposed the numbers 
there...

> - I would also like to use the rpict options to get better rendering, 
> but whenever I specify the --optionfile it says,
>
> o View file to be used: *viewfile*
>
> o Option file to be used: *viewfile*
>
> o Do I have to specify the rpict options on the viewfile?
>

What version of radmap are you using? I have not used option files with 
it before, but I looked at the python code for my copy of radmap (v0.1c) 
and it doesn't seem like there's any confusion between view files and 
options files. In other words, it should be reading in your option file 
correctly despite what's being printed to the command line. You might 
want to try changing options directly in the python code; you'll see the 
options towards the top of the file and Francesco has commented 
everything fairly well. Only a few of the options are in there, but it 
served me well enough. Good luck!

- Rob Guglielmetti


