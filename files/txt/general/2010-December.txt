From gregoryjward at gmail.com  Mon Dec  6 11:05:03 2010
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon Dec  6 11:04:54 2010
Subject: [Radiance-general] 2011 Radiance Workshop venue
Message-ID: <67B22084-82AF-469D-B000-74B904B520D9@gmail.com>

Our survey results are in, and it turned out to be a close race between NREL and LBNL, with LBNL a few paces ahead.  The final results out of 60 responses was a predicted attendance at each venue of:

34	@ LBNL, Berkeley, California (57%)
26	@ NREL, Lakewood, Colorado (44%)
14	@ SERI, Singapore (23%)

From these data and our prior stipulation, the Radiance Workshop will be held next year at the Lawrence Berkeley National Lab.  The organizers are currently looking into available spaces in the August-September time frame, and will get back with more details in the next couple of months.

Given the responses, I'm guessing that NREL will be a good place to hold a future workshop.

Thanks to Daniel Fuller for setting up the site, and to everyone who voted.  We hope to see you next year!

Best,
-Greg
From jm at dmu.ac.uk  Mon Dec  6 12:21:07 2010
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Mon Dec  6 12:20:56 2010
Subject: [Radiance-general] 2011 Radiance Workshop venue
Message-ID: <E587F02C-CDC3-4824-BB9B-1B65CFC48144@dmu.ac.uk>

Q: Will the 2010 presentations be up by then?  And whatever happened to 2009?

John

-----------------------------------------------
Dr. John Mardaljevic                    
Reader in Daylight Modelling
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm

From reinhart at gsd.harvard.edu  Mon Dec  6 12:34:40 2010
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Mon Dec  6 12:34:25 2010
Subject: [Radiance-general] 2011 Radiance Workshop venue
In-Reply-To: <E587F02C-CDC3-4824-BB9B-1B65CFC48144@dmu.ac.uk>
References: <E587F02C-CDC3-4824-BB9B-1B65CFC48144@dmu.ac.uk>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF0832FE06@ENTWEXMB0000000.university.harvard.edu>

Hi John,

The 2009 presentations are available here
http://www.gsd.harvard.edu/research/gsdsquare/RadianceWorkshop2009.html.
Maybe a link can be added (again) from Radiance Online to our site? It
would be ideal if somebody copied the 2009 presentations to Radiance
Online as our school's website will get reorganized soon.

Christoph


-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of John
Mardaljevic
Sent: Monday, December 06, 2010 3:21 PM
To: radiance-general@radiance-online.org
Subject: [Radiance-general] 2011 Radiance Workshop venue

Q: Will the 2010 presentations be up by then?  And whatever happened to
2009?

John

-----------------------------------------------
Dr. John Mardaljevic                    
Reader in Daylight Modelling
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972   
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm

_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general

From gregoryjward at gmail.com  Mon Dec  6 12:41:35 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon Dec  6 12:41:27 2010
Subject: [Radiance-general] 2011 Radiance Workshop venue
In-Reply-To: <E587F02C-CDC3-4824-BB9B-1B65CFC48144@dmu.ac.uk>
References: <E587F02C-CDC3-4824-BB9B-1B65CFC48144@dmu.ac.uk>
Message-ID: <B3808B31-AEC7-4DD8-BCDD-E3D2CFB9DFB8@lmi.net>

Hi John,

We haven't received copies of the 2010 slides Jan as yet, and the 2009 workshop isn't linked, but you can find the presentations here:

	http://www.gsd.harvard.edu/research/gsdsquare/RadianceWorkshop2009.html

I see Christoph responded as well, so I'm sure he added this.  We should have a link to it, and I'll make sure we do when we get the 2010 presentations up.

-Greg

> From: John Mardaljevic <jm@dmu.ac.uk>
> Date: December 6, 2010 12:21:07 PM PST
> 
> Q: Will the 2010 presentations be up by then?  And whatever happened to 2009?
> 
> John

From FCantin at hudonjulien.com  Tue Dec  7 07:51:54 2010
From: FCantin at hudonjulien.com (=?iso-8859-1?Q?Fran=E7ois_Cantin?=)
Date: Tue Dec  7 07:52:03 2010
Subject: [Radiance-general] optics2glazedb program
Message-ID: <F26BAA4A842DD94083472A0D31EBBB99273E467133@SRVHJA02.hja.local>

Hi everyone,

I'm looking for the optics2glazedb program.

Since the link provided by Jack de Valpine more than one year ago doesn't seem to be valid anymore, is there another ''official'' link to download this gem ? ;)

Thanks in advance,
______________________________________________________________
Fran?ois Cantin, M Arch, MSc Arch

Hudon Julien associes,
1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
T?l: (418) 653-8484 #224, Fax:(418) 653-6189
E-mail: fcantin@hudonjulien.com<mailto:fcantin@hudonjulien.com>
Site web: www.hudonjulien.com<http://www.hudonjulien.com/>



      Hi Anne,

      This is not in the standard distribution it is something that I put
      together. I have placed a copy up on our ftp site. You can download it
      as follows:
            go to: ftp://ftp.visarc.com
            username: u36117396-rw2009
            passwd: rw20094vis

      The usage is as follows:
      optics2glazedb glass_1.mat .... glass_n.mat

      NOTE that the first glass material description should be for a "clear"
      glass.

      Please let me know if you have any questions.

      Regards,

      -Jack de Valpine

      # Jack de Valpine
      # president
      #
      # visarc incorporated
      # http://www.visarc.com
      #
      # channeling technology for superior design and construction




            Anne Iversen wrote:

            Inspired by the presentation of Jack I want to generate a
            new database for the glaze script by running optics2glazedb.
            As far as I can see, the program is not included in the latest version
            (HEAD)? Where can I find optics2glazedb?

            Anne

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101207/74446392/attachment.htm
From jedev at visarc.com  Tue Dec  7 08:39:49 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Dec  7 08:39:57 2010
Subject: [Radiance-general] optics2glazedb program
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB99273E467133@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB99273E467133@SRVHJA02.hja.local>
Message-ID: <4CFE6355.7010207@visarc.com>

Hi Francois,

The script is still available at the site. Please give it a try again 
and let me know if it works. As for "official" this is it, as I am the 
one who put the script together.

Regards,

-Jack de Valpine

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 12/7/2010 10:51 AM, Fran?ois Cantin wrote:
>
> Hi everyone,
>
> I'm looking for the optics2glazedb program.
>
> Since the link provided by Jack de Valpine more than one year ago 
> doesn't seem to be valid anymore, is there another ''official'' link 
> to download this gem ? ;)
>
> Thanks in advance,
>
> ______________________________________________________________
>
> *Fran?ois Cantin, M Arch, MSc Arch
> *
> *Hudon Julien* associes,
>
> 1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
> T?l: (418) 653-8484 #224, Fax:(418) 653-6189
> E-mail: fcantin@hudonjulien.com <mailto:fcantin@hudonjulien.com>
> Site web: www.hudonjulien.com <http://www.hudonjulien.com/>
>
> Hi Anne,
>
>       This is not in the standard distribution it is something that I put
>       
> together. I have placed a copy up on our ftp site. You can download it
>       as follows:
>
>             go to: ftp://ftp.visarc.com
>             username: u36117396-rw2009
>             passwd: rw20094vis
>
>       The usage is as follows:
>       optics2glazedb glass_1.mat .... glass_n.mat
>
>       
> NOTE that the first glass material description should be for a "clear"
>       glass.
>
>       Please let me know if you have any questions.
>
>       Regards,
>
>       -Jack de Valpine
>
>       # Jack de Valpine
>       # president
>       #
>       # visarc incorporated
>       # http://www.visarc.com
>       #
>       # channeling technology for superior design and construction
>
>
>
>             Anne Iversen wrote:
>
>             Inspired by the presentation of Jack I want to generate a
>             new database for the glaze script by running optics2glazedb.
>             
> As far as I can see, the program is not included in the latest version
>             (HEAD)? Where can I find optics2glazedb?
>
>             Anne
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101207/77cb5200/attachment.html
From FCantin at hudonjulien.com  Tue Dec  7 08:56:37 2010
From: FCantin at hudonjulien.com (=?iso-8859-1?Q?Fran=E7ois_Cantin?=)
Date: Tue Dec  7 08:56:44 2010
Subject: [Radiance-general] optics2glazedb program
In-Reply-To: <4CFE6355.7010207@visarc.com>
References: <F26BAA4A842DD94083472A0D31EBBB99273E467133@SRVHJA02.hja.local>
	<4CFE6355.7010207@visarc.com>
Message-ID: <F26BAA4A842DD94083472A0D31EBBB99273E46715C@SRVHJA02.hja.local>

Hi Jack,

Thanks for your fast reply. Indeed, it works...


Regards,

Fran?ois


From: radiance-general-bounces@radiance-online.org [mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack de Valpine
Sent: Tuesday, December 07, 2010 11:40 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] optics2glazedb program

Hi Francois,

The script is still available at the site. Please give it a try again and let me know if it works. As for "official" this is it, as I am the one who put the script together.

Regards,

-Jack de Valpine


--

# Jack de Valpine

# president

#

# visarc incorporated

# http://www.visarc.com

#

# channeling technology for superior design and construction

On 12/7/2010 10:51 AM, Fran?ois Cantin wrote:
Hi everyone,

I'm looking for the optics2glazedb program.

Since the link provided by Jack de Valpine more than one year ago doesn't seem to be valid anymore, is there another ''official'' link to download this gem ? ;)

Thanks in advance,
______________________________________________________________
Fran?ois Cantin, M Arch, MSc Arch

Hudon Julien associes,
1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
T?l: (418) 653-8484 #224, Fax:(418) 653-6189
E-mail: fcantin@hudonjulien.com<mailto:fcantin@hudonjulien.com>
Site web: www.hudonjulien.com<http://www.hudonjulien.com/>



      Hi Anne,

      This is not in the standard distribution it is something that I put
      together. I have placed a copy up on our ftp site. You can download it
      as follows:
            go to: ftp://ftp.visarc.com
            username: u36117396-rw2009
            passwd: rw20094vis

      The usage is as follows:
      optics2glazedb glass_1.mat .... glass_n.mat

      NOTE that the first glass material description should be for a "clear"
      glass.

      Please let me know if you have any questions.

      Regards,

      -Jack de Valpine

      # Jack de Valpine
      # president
      #
      # visarc incorporated
      # http://www.visarc.com
      #
      # channeling technology for superior design and construction





            Anne Iversen wrote:

            Inspired by the presentation of Jack I want to generate a
            new database for the glaze script by running optics2glazedb.
            As far as I can see, the program is not included in the latest version
            (HEAD)? Where can I find optics2glazedb?

            Anne







_______________________________________________

Radiance-general mailing list

Radiance-general@radiance-online.org<mailto:Radiance-general@radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101207/61292218/attachment.htm
From jedev at visarc.com  Tue Dec  7 09:29:03 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Tue Dec  7 09:29:12 2010
Subject: [Radiance-general] optics2glazedb program
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB99273E46715C@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB99273E467133@SRVHJA02.hja.local>	<4CFE6355.7010207@visarc.com>
	<F26BAA4A842DD94083472A0D31EBBB99273E46715C@SRVHJA02.hja.local>
Message-ID: <4CFE6EDF.5090002@visarc.com>

Hi Francois,

Great, let me know if you have any questions.

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 12/7/2010 11:56 AM, Fran?ois Cantin wrote:
>
> Hi Jack,
>
> Thanks for your fast reply. Indeed, it works...
>
> Regards,
>
> Fran?ois
>
> *From:*radiance-general-bounces@radiance-online.org 
> [mailto:radiance-general-bounces@radiance-online.org] *On Behalf Of 
> *Jack de Valpine
> *Sent:* Tuesday, December 07, 2010 11:40 AM
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] optics2glazedb program
>
> Hi Francois,
>
> The script is still available at the site. Please give it a try again 
> and let me know if it works. As for "official" this is it, as I am the 
> one who put the script together.
>
> Regards,
>
> -Jack de Valpine
>
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> #http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
> On 12/7/2010 10:51 AM, Fran?ois Cantin wrote:
>
> Hi everyone,
>
> I'm looking for the optics2glazedb program.
>
> Since the link provided by Jack de Valpine more than one year ago 
> doesn't seem to be valid anymore, is there another ''official'' link 
> to download this gem ? ;)
>
> Thanks in advance,
>
> ______________________________________________________________
>
> *Fran?ois Cantin, M Arch, MSc Arch
> *
> *Hudon Julien* associes,
>
> 1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
> T?l: (418) 653-8484 #224, Fax:(418) 653-6189
> E-mail: fcantin@hudonjulien.com <mailto:fcantin@hudonjulien.com>
> Site web: www.hudonjulien.com <http://www.hudonjulien.com/>
>
> Hi Anne,
>
>       This is not in the standard distribution it is something that I put
>       
> together. I have placed a copy up on our ftp site. You can download it
>       as follows:
>
>             go to: ftp://ftp.visarc.com
>             username: u36117396-rw2009
>             passwd: rw20094vis
>
>       The usage is as follows:
>       optics2glazedb glass_1.mat .... glass_n.mat
>
>       
> NOTE that the first glass material description should be for a "clear"
>       glass.
>
>       Please let me know if you have any questions.
>
>       Regards,
>
>       -Jack de Valpine
>
>       # Jack de Valpine
>       # president
>       #
>       # visarc incorporated
>       # http://www.visarc.com
>       #
>       # channeling technology for superior design and construction
>
>
>
>
>             Anne Iversen wrote:
>
>             Inspired by the presentation of Jack I want to generate a
>             new database for the glaze script by running optics2glazedb.
>             
> As far as I can see, the program is not included in the latest version
>             (HEAD)? Where can I find optics2glazedb?
>
>             Anne
>
>
>   
>   
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org  <mailto:Radiance-general@radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101207/9e889eae/attachment.html
From jacobs.axel at gmail.com  Tue Dec  7 09:57:34 2010
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Tue Dec  7 09:52:22 2010
Subject: [Radiance-general] 2009 workshop presentation
In-Reply-To: <4cfe6399.d2a3e60a.0715.ffffb34aSMTPIN_ADDED@mx.google.com>
References: <4cfe6399.d2a3e60a.0715.ffffb34aSMTPIN_ADDED@mx.google.com>
Message-ID: <4CFE758E.504@gmail.com>

...and from all previous years (not 2010 yet):

http://luminance.londonmet.ac.uk/radiance_workshops/

Axel

From jacobs.axel at gmail.com  Tue Dec  7 10:03:44 2010
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Tue Dec  7 09:58:31 2010
Subject: [Radiance-general] Re: 2009 workshop presentation
In-Reply-To: <4cfe6399.d2a3e60a.0715.ffffb34aSMTPIN_ADDED@mx.google.com>
References: <4cfe6399.d2a3e60a.0715.ffffb34aSMTPIN_ADDED@mx.google.com>
Message-ID: <4CFE7700.5040606@gmail.com>

I'd be happy to accumulate the 2010 presentations, too. If you were one 
of the speakers and are happy to have your presentation hosted here in 
London, please do send me the file, or let me know were to download it. 
Once they're all here, I'll send the whole lot over to LBNL for 
inclusion on radsite.

@Greg, others:

do you still have a list of speakers and the schedule?

Axel

From gregoryjward at gmail.com  Tue Dec  7 10:16:20 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue Dec  7 10:16:12 2010
Subject: [Radiance-general] Re: 2009 workshop presentation
In-Reply-To: <4CFE7700.5040606@gmail.com>
References: <4cfe6399.d2a3e60a.0715.ffffb34aSMTPIN_ADDED@mx.google.com>
	<4CFE7700.5040606@gmail.com>
Message-ID: <FE653C54-2306-41C1-ABA5-20A2BD6CA5C7@lmi.net>

Hi Axel,

Here is the list of speakers and schedules:

Monday 
9:00 Registration
10:00 Greg Ward Recent Developments in RADIANCE
10:30 Santiago Torres Cal files and daylighting
11:00 Sandra Mende BIPV-Daylight calculations using cal files
11:30 Coffee Break
11:50 Krzysztof Wandachowicz Reflector profile optimisation using Radiance
12:20 Lunch
13:30 David Mead ?Trans? Materials ? Modeling and Specifying a Next
Generation
14:00 Rob Shakespeare, Oliver Hauck ,Andreas Noback "HDR lightboxes for
rendered image presentation in exhibitions"
14:30 J. Alstan Jakubiec Comparative Analysis of Glare Metric
Suitability Under Varied Spatial and Daylit Conditions
15:00 Coffee Break
15:20 Valerio Lo Verso n.n.
15:50 ISE ? Tour
18:30 Departure for dinner

Tuesday
9:00 Robert A. Shakespeare Designing Visually Accessible Spaces (DEVA)
9:30 Marija Velickovic Progressive evaluation of daylight ambiance in
architectural projects with Radiance
10:00 Anne Iversen Maybe: Simulation of image based control of
artificial lights
10:30 Coffee Break
10:50 David Geisler-Moroder A New Ward BRDF Model with Bounded Albedo
and Fitting Reflectance Data for RADIANCE
11:20 Niloofar Moghbel Qualitative simulation of VDU screens
11:50 Andy McNeil n.n.
11:30 ?? ???
12:00 Greg Ward Calculating and Applying BSDFs in Radiance
12:30 Lunch
14:00 Frontini/Wienold n.n
14:30 Carolin Liedtke TU-Berlin Idea to calculate light flux and
directionality using RADIANCE
15:00 ?? ???
15:30 ?? ???
16:00 Greg Ward closing

Wednesday               
   9:00    J. Alstan Jakubiec    Harvard University    Modeling dynamic
shading systems using Rhino/Radiance/Daysim
   10:00    Wienold or Grobe or Schregle        Introduction Photon Mapping
   10:45    coffee break       
   11:00    Lars O. Grobe        Modeling advanced fenestration using
photon mapping
   11:45    Greg Ward        Introduction rtcontrib
   12:30    lunch       
   13:30    Greg Ward        Modeling advanced fenestration using rtcontrib
   14:30    Peter Apian Bennewitz        Introduction BRDF measurements
   15:15    Peter Apian Bennewitz / Lars O. Grobe        Modeling
advanced fenestration using measured BRDF
   16:00            END

--------
I will send you the presentations I have, my own and a few others that people asked me to convert.  Jan should have the rest, but hasn't responded as yet.

Cheers,
-Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20101207/ec3ca404/attachment.htm
From jan.wienold at ise.fraunhofer.de  Tue Dec  7 10:43:50 2010
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Tue Dec  7 10:43:36 2010
Subject: [Radiance-general] Re: 2009 workshop presentation
In-Reply-To: <FE653C54-2306-41C1-ABA5-20A2BD6CA5C7@lmi.net>
References: <4cfe6399.d2a3e60a.0715.ffffb34aSMTPIN_ADDED@mx.google.com>	<4CFE7700.5040606@gmail.com>
	<FE653C54-2306-41C1-ABA5-20A2BD6CA5C7@lmi.net>
Message-ID: <4CFE8066.1000908@ise.fraunhofer.de>

Hi Greg, Axel and group,

I was too busy in the last weeks to put the files online - sorry.
Currently I'm sick (nothing serious) and not at the institute. Sandra
and I will  put them online next week  and/or send the "package" to Axel.

Jan

Greg Ward wrote:
> Hi Axel,
>
> Here is the list of speakers and schedules:
>
> *Monday *
> /9:00 Registration/
> 10:00 Greg Ward Recent Developments in RADIANCE
> 10:30 Santiago Torres Cal files and daylighting
> 11:00 Sandra Mende BIPV-Daylight calculations using cal files
> /11:30 Coffee Break/
> 11:50 Krzysztof Wandachowicz Reflector profile optimisation using Radiance
> /12:20 Lunch/
> 13:30 David Mead ?Trans? Materials ? Modeling and Specifying a Next
> Generation
> 14:00 Rob Shakespeare, Oliver Hauck ,Andreas Noback "HDR lightboxes for
> rendered image presentation in exhibitions"
> 14:30 J. Alstan Jakubiec Comparative Analysis of Glare Metric
> Suitability Under Varied Spatial and Daylit Conditions
> /15:00 Coffee Break/
> 15:20 Valerio Lo Verso n.n.
> /15:50 ISE ? Tour/
> /18:30 Departure for dinner/
>
> *Tuesday*
> 9:00 Robert A. Shakespeare Designing Visually Accessible Spaces (DEVA)
> 9:30 Marija Velickovic Progressive evaluation of daylight ambiance in
> architectural projects with Radiance
> 10:00 Anne Iversen Maybe: Simulation of image based control of
> artificial lights
> /10:30 Coffee Break/
> 10:50 David Geisler-Moroder A New Ward BRDF Model with Bounded Albedo
> and Fitting Reflectance Data for RADIANCE
> 11:20 Niloofar Moghbel Qualitative simulation of VDU screens
> 11:50 Andy McNeil n.n.
> 11:30 ?? ???
> 12:00 Greg Ward Calculating and Applying BSDFs in Radiance
> /12:30 Lunch/
> 14:00 Frontini/Wienold n.n
> 14:30 Carolin Liedtke TU-Berlin Idea to calculate light flux and
> directionality using RADIANCE
> 15:00 ?? ???
> 15:30 ?? ???
> 16:00 Greg Ward closing
>
> *Wednesday  *             
>    9:00    J. Alstan Jakubiec    Harvard University    Modeling dynamic
> shading systems using Rhino/Radiance/Daysim
>    10:00    Wienold or Grobe or Schregle        Introduction Photon
> Mapping
> /   10:45    coffee break /      
>    11:00    Lars O. Grobe        Modeling advanced fenestration using
> photon mapping
>    11:45    Greg Ward        Introduction rtcontrib
> /  // 12:30    lunch   /    
>    13:30    Greg Ward        Modeling advanced fenestration using
> rtcontrib
>    14:30    Peter Apian Bennewitz        Introduction BRDF measurements
>    15:15    Peter Apian Bennewitz / Lars O. Grobe        Modeling
> advanced fenestration using measured BRDF
> /   16:00            END/
> /
> /
> /--------/
> I will send you the presentations I have, my own and a few others that
> people asked me to convert.  Jan should have the rest, but hasn't
> responded as yet.
>
> Cheers,
> -Greg
> ------------------------------------------------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   


-- 
Dr.-Ing. Jan Wienold
Project Manager
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings, Lighting and Daylighting
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold@ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office: 
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30


From defuller at lbl.gov  Wed Dec  8 11:31:15 2010
From: defuller at lbl.gov (Daniel Fuller)
Date: Wed, 8 Dec 2010 11:31:15 -0800
Subject: [Radiance-general] radiance-online server swtich
Message-ID: <AANLkTincBwpbTS1XqkbvMr_s53CdyXrSLe4u+XdvaPDR@mail.gmail.com>

Hello everyone -

Hopefully this will get to you by way of the new radiance-online server.

This also serves as a testing message.

Thank you...

Daniel


From FCantin at hudonjulien.com  Wed Dec  8 15:50:54 2010
From: FCantin at hudonjulien.com (=?iso-8859-1?Q?Fran=E7ois_Cantin?=)
Date: Wed, 8 Dec 2010 18:50:54 -0500
Subject: [Radiance-general] optics2glazedb program
In-Reply-To: <4CFE6EDF.5090002@visarc.com>
References: <F26BAA4A842DD94083472A0D31EBBB99273E467133@SRVHJA02.hja.local>
	<4CFE6355.7010207@visarc.com>
	<F26BAA4A842DD94083472A0D31EBBB99273E46715C@SRVHJA02.hja.local>
	<4CFE6EDF.5090002@visarc.com>
Message-ID: <F26BAA4A842DD94083472A0D31EBBB99273E5184F3@SRVHJA02.hja.local>

Hi Jack,

When I pass a set of files (Radiance output from Optics 5) to Optics2glazedb, the script doesn't seem to be able to ''compute'' all the uncoated glass (Monolithic type in Optics 5).

Following the example taken from your presentation at the 2009 Radiance Workshop, I try to process a Starphire Ultra Clear from PPG Industries (NFRC ID= 5004) as the glass that will serve as the clear glass for my set. However, despite using a clean output from Optics, I can't get a complete output from Optics2glazedb (all I get is an header with no value):

Surface Tr Tg Tb Rcr Rcg Rcb Rgr Rgg Rgb Part


On the other hand, when I pass a LowE on clear from Viracon (The other glass taken from your example - NFRC ID= 6046) the script return a good output.

Do you have any idea of what is going on ? (In fact, I should probably ask: what am I doing wrong ?)
I'm working on Cygwin, this may be the cause of the problem...


Also, you mentioned that the first glass material description must be for an uncoated ''clear'' glass. Can you give more explanation about that ? Is this a limitation of the Glaze script ?


Once again, thanks for your help, I very appreciate it !



Fran?ois






From: radiance-general-bounces at radiance-online.org [mailto:radiance-general-bounces at radiance-online.org] On Behalf Of Jack de Valpine
Sent: Tuesday, December 07, 2010 12:29 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] optics2glazedb program

Hi Francois,

Great, let me know if you have any questions.

-Jack



--

# Jack de Valpine

# president

#

# visarc incorporated

# http://www.visarc.com

#

# channeling technology for superior design and construction

On 12/7/2010 11:56 AM, Fran?ois Cantin wrote:
Hi Jack,

Thanks for your fast reply. Indeed, it works...


Regards,

Fran?ois


From: radiance-general-bounces at radiance-online.org<mailto:radiance-general-bounces at radiance-online.org> [mailto:radiance-general-bounces at radiance-online.org] On Behalf Of Jack de Valpine
Sent: Tuesday, December 07, 2010 11:40 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] optics2glazedb program

Hi Francois,

The script is still available at the site. Please give it a try again and let me know if it works. As for "official" this is it, as I am the one who put the script together.

Regards,

-Jack de Valpine



--

# Jack de Valpine

# president

#

# visarc incorporated

# http://www.visarc.com

#

# channeling technology for superior design and construction

On 12/7/2010 10:51 AM, Fran?ois Cantin wrote:
Hi everyone,

I'm looking for the optics2glazedb program.

Since the link provided by Jack de Valpine more than one year ago doesn't seem to be valid anymore, is there another ''official'' link to download this gem ? ;)

Thanks in advance,
______________________________________________________________
Fran?ois Cantin, M Arch, MSc Arch

Hudon Julien associes,
1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
T?l: (418) 653-8484 #224, Fax:(418) 653-6189
E-mail: fcantin at hudonjulien.com<mailto:fcantin at hudonjulien.com>
Site web: www.hudonjulien.com<http://www.hudonjulien.com/>



      Hi Anne,

      This is not in the standard distribution it is something that I put
      together. I have placed a copy up on our ftp site. You can download it
      as follows:
            go to: ftp://ftp.visarc.com
            username: u36117396-rw2009
            passwd: rw20094vis

      The usage is as follows:
      optics2glazedb glass_1.mat .... glass_n.mat

      NOTE that the first glass material description should be for a "clear"
      glass.

      Please let me know if you have any questions.

      Regards,

      -Jack de Valpine

      # Jack de Valpine
      # president
      #
      # visarc incorporated
      # http://www.visarc.com
      #
      # channeling technology for superior design and construction






            Anne Iversen wrote:

            Inspired by the presentation of Jack I want to generate a
            new database for the glaze script by running optics2glazedb.
            As far as I can see, the program is not included in the latest version
            (HEAD)? Where can I find optics2glazedb?

            Anne








_______________________________________________

Radiance-general mailing list

Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general





_______________________________________________

Radiance-general mailing list

Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101208/f0e6bca6/attachment.html>

From RFritz at lbl.gov  Wed Dec  8 16:26:58 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed, 8 Dec 2010 16:26:58 -0800
Subject: [Radiance-general] radiance-online server swtich
References: <AANLkTincBwpbTS1XqkbvMr_s53CdyXrSLe4u+XdvaPDR@mail.gmail.com>
Message-ID: <idp7oh$mfu$1@dough.gmane.org>

Looking good...

On 2010-12-08 11:31:15 -0800, Daniel Fuller said:

> Hello everyone -
> 
> Hopefully this will get to you by way of the new radiance-online server.
> 
> This also serves as a testing message.
> 
> Thank you...
> 
> Daniel


-- 
Randolph M. Fritz ? RFritz at lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs




From Robert.Guglielmetti at nrel.gov  Thu Dec  9 07:58:24 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 9 Dec 2010 08:58:24 -0700
Subject: [Radiance-general] 2011 Radiance Workshop venue
In-Reply-To: <67B22084-82AF-469D-B000-74B904B520D9@gmail.com>
Message-ID: <C92648AC.17F9%robert.guglielmetti@nrel.gov>

Oh, so close! Well, maybe in three years NREL can have the privilege of
hosting the workshop. By then, the expansion to our recently-completed
Research Support Facility building will be complete, and the Energy
Systems Integration Facility will also likely be done -- plenty to see!

http://www.nrel.gov/sustainable_nrel/rsf.html
http://www.nrel.gov/eis/facilities_esif.html

Hope to see many of you in Berkeley in 2011.
 
Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
1617 Cole Blvd MS:RSF202
Golden, CO 80401
T. 303.275.4319
F. 303.384.7540
E. robert.guglielmetti at nrel.gov





On 12/6/10 12:05 PM, "Gregory J. Ward" <gregoryjward at gmail.com> wrote:

>Our survey results are in, and it turned out to be a close race between
>NREL and LBNL, with LBNL a few paces ahead.  The final results out of 60
>responses was a predicted attendance at each venue of:
>
>34    @ LBNL, Berkeley, California (57%)
>26    @ NREL, Lakewood, Colorado (44%)
>14    @ SERI, Singapore (23%)
>
>From these data and our prior stipulation, the Radiance Workshop will be
>held next year at the Lawrence Berkeley National Lab.  The organizers are
>currently looking into available spaces in the August-September time
>frame, and will get back with more details in the next couple of months.
>
>Given the responses, I'm guessing that NREL will be a good place to hold
>a future workshop.
>
>Thanks to Daniel Fuller for setting up the site, and to everyone who
>voted.  We hope to see you next year!
>
>Best,
>-Greg
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From RFritz at lbl.gov  Thu Dec  9 11:07:03 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Thu, 9 Dec 2010 11:07:03 -0800
Subject: [Radiance-general] radiance-online server swtich
References: <AANLkTincBwpbTS1XqkbvMr_s53CdyXrSLe4u+XdvaPDR@mail.gmail.com>
Message-ID: <idr9cn$or6$1@dough.gmane.org>

On 2010-12-08 11:31:15 -0800, Daniel Fuller said:

> Hello everyone -
> 
> Hopefully this will get to you by way of the new radiance-online server.
> 
> This also serves as a testing message.
> 
> Thank you...
> 
> Daniel

Looking good this morning.  And much faster.
-- 
Randolph M. Fritz ? RFritz at lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs




From johnford at bb3.net.au  Thu Dec  9 18:07:20 2010
From: johnford at bb3.net.au (John Ford)
Date: Fri, 10 Dec 2010 13:07:20 +1100
Subject: [Radiance-general] rtcontrib output crashes preview, finder
Message-ID: <A7782C40-C0E9-42AB-A089-F9DEEEDF211D@bb3.net.au>

Hi,

I'm working through Axel Jacobs rtcontrib tutorial (on OSX). I'm up to the first use of tregenza.cal to generate sky patches (command below) and finding that the first image, p000.hdr, is corrupted somehow. Preview crashes when I try to open the image and when I even select it in the Finder, the Finder behaves very strangely (I think it's crashing and restarting all in the space of about two seconds). Getinfo reports what looks like a correct header, comparing the headers of p000.hdr and p001.hdr. The files are all the same size. The other images, p001.hdr to p145.hdr all open fine. 

$vwrays -ff $vw |rtcontrib @rtc.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -o images/patches/p%03d.hdr -m sky_glow testroom_whitesky.oct

Any hints?

John Ford. 




From tbleicher at googlemail.com  Thu Dec  9 18:28:04 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu, 9 Dec 2010 21:28:04 -0500
Subject: [Radiance-general] rtcontrib output crashes preview, finder
In-Reply-To: <A7782C40-C0E9-42AB-A089-F9DEEEDF211D@bb3.net.au>
References: <A7782C40-C0E9-42AB-A089-F9DEEEDF211D@bb3.net.au>
Message-ID: <AANLkTikzSrYKpe9tJStm3nJ8Eqy-30kGHit1X=0CJ=BL@mail.gmail.com>

Have you tried opening the image in ximage via Terminal.app?

The Finder preview and the Radiance use different libraries to
open/show HDR images.

Regards,
Thomas

On Thu, Dec 9, 2010 at 9:07 PM, John Ford <johnford at bb3.net.au> wrote:
> Hi,
>
> I'm working through Axel Jacobs rtcontrib tutorial (on OSX). I'm up to the first use of tregenza.cal to generate sky patches (command below) and finding that the first image, p000.hdr, is corrupted somehow. Preview crashes when I try to open the image and when I even select it in the Finder, the Finder behaves very strangely (I think it's crashing and restarting all in the space of about two seconds). Getinfo reports what looks like a correct header, comparing the headers of p000.hdr and p001.hdr. The files are all the same size. The other images, p001.hdr to p145.hdr all open fine.
>
> $vwrays -ff $vw |rtcontrib @rtc.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -o images/patches/p%03d.hdr -m sky_glow testroom_whitesky.oct
>
> Any hints?
>
> John Ford.
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From johnford at bb3.net.au  Thu Dec  9 19:53:45 2010
From: johnford at bb3.net.au (John Ford)
Date: Fri, 10 Dec 2010 14:53:45 +1100
Subject: [Radiance-general] rtcontrib output crashes preview, finder
In-Reply-To: <AANLkTikzSrYKpe9tJStm3nJ8Eqy-30kGHit1X=0CJ=BL@mail.gmail.com>
References: <A7782C40-C0E9-42AB-A089-F9DEEEDF211D@bb3.net.au>
	<AANLkTikzSrYKpe9tJStm3nJ8Eqy-30kGHit1X=0CJ=BL@mail.gmail.com>
Message-ID: <80A5B8D4-3318-4709-ACA6-79A9C4BCDEA7@bb3.net.au>

Thomas, 

Yes, it opens in ximage. Should tregenza bin 0 be all black?

I'm trying to do the next step which is combining the images into a view of the patches using pcomb. This doesn't seem to work either using images 000-145 or images 001-145 so I don't know if there's some other problem. Terminal just hangs when I send the command, until I ctrl-c it. 

I will keep fiddling with it. 

John. 





JOHN FORD

BLUEBOTTLE
FORTY THREE STAWELL STREET
NORTH MELBOURNE 3051
PHONE  03 9329 0709
FAX 03 9329 1780

WWW.BB3.NET.AU
JOHNFORD at BB3.NET.AU
MOBILE 0411 519 738




On 10/12/2010, at 1:28 PM, Thomas Bleicher wrote:

> Have you tried opening the image in ximage via Terminal.app?
> 
> The Finder preview and the Radiance use different libraries to
> open/show HDR images.
> 
> Regards,
> Thomas
> 
> On Thu, Dec 9, 2010 at 9:07 PM, John Ford <johnford at bb3.net.au> wrote:
>> Hi,
>> 
>> I'm working through Axel Jacobs rtcontrib tutorial (on OSX). I'm up to the first use of tregenza.cal to generate sky patches (command below) and finding that the first image, p000.hdr, is corrupted somehow. Preview crashes when I try to open the image and when I even select it in the Finder, the Finder behaves very strangely (I think it's crashing and restarting all in the space of about two seconds). Getinfo reports what looks like a correct header, comparing the headers of p000.hdr and p001.hdr. The files are all the same size. The other images, p001.hdr to p145.hdr all open fine.
>> 
>> $vwrays -ff $vw |rtcontrib @rtc.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -o images/patches/p%03d.hdr -m sky_glow testroom_whitesky.oct
>> 
>> Any hints?
>> 
>> John Ford.
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101210/09b98d50/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pastedGraphic.tiff
Type: image/tiff
Size: 6542 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101210/09b98d50/attachment.tiff>

From tbleicher at googlemail.com  Thu Dec  9 20:12:46 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu, 9 Dec 2010 23:12:46 -0500
Subject: [Radiance-general] rtcontrib output crashes preview, finder
In-Reply-To: <80A5B8D4-3318-4709-ACA6-79A9C4BCDEA7@bb3.net.au>
References: <A7782C40-C0E9-42AB-A089-F9DEEEDF211D@bb3.net.au>
	<AANLkTikzSrYKpe9tJStm3nJ8Eqy-30kGHit1X=0CJ=BL@mail.gmail.com>
	<80A5B8D4-3318-4709-ACA6-79A9C4BCDEA7@bb3.net.au>
Message-ID: <AANLkTim8bib=pNun6q7y+sZ0EdszqW523hPbda5dXdHu@mail.gmail.com>

Evening John.

I think bin 0 was "reserved" for the ground. Therefore, if you don't have a
ground material, it would be black. In my own tests I also found other bins
to be completely black but I was told that was because of my primitive test
geometry. Doing Axel's tutorial test room seemed to work for me at the time.
I could reproduce the results he got with similar accuracy.

About pcomb: It may take quite a long time to process all the images. You
can try and split the one long pcomb command into a few smaller pcombs and
then combine the resulting images. If you suspect a single image to be
corrupt just exclude that from the process and see if the pcomb command
finishes.

If you are familiar with bash scripting you can run a first loop and combine
each images separately with a known good image. This should at least show
you if there are images that pcomb can't handle.

Regards,
Thomas


On Thu, Dec 9, 2010 at 10:53 PM, John Ford <johnford at bb3.net.au> wrote:

> Thomas,
>
> Yes, it opens in ximage. Should tregenza bin 0 be all black?
>
> I'm trying to do the next step which is combining the images into a view of
> the patches using pcomb. This doesn't seem to work either using images
> 000-145 or images 001-145 so I don't know if there's some other problem.
> Terminal just hangs when I send the command, until I ctrl-c it.
>
> I will keep fiddling with it.
>
> John.
>
>
>
>
>
> JOHN FORD
>
> BLUEBOTTLE
> FORTY THREE STAWELL STREET
> NORTH MELBOURNE 3051
> PHONE  03 9329 0709
> FAX 03 9329 1780
>
> WWW.BB3.NET.AU <http://www.bb3.net.au/>
> JOHNFORD at BB3.NET.AU <BEN at BB3.NET.AU>
> MOBILE 0411 519 738
>
>
>
>
> On 10/12/2010, at 1:28 PM, Thomas Bleicher wrote:
>
> Have you tried opening the image in ximage via Terminal.app?
>
> The Finder preview and the Radiance use different libraries to
> open/show HDR images.
>
> Regards,
> Thomas
>
> On Thu, Dec 9, 2010 at 9:07 PM, John Ford <johnford at bb3.net.au> wrote:
>
> Hi,
>
>
> I'm working through Axel Jacobs rtcontrib tutorial (on OSX). I'm up to the
> first use of tregenza.cal to generate sky patches (command below) and
> finding that the first image, p000.hdr, is corrupted somehow. Preview
> crashes when I try to open the image and when I even select it in the
> Finder, the Finder behaves very strangely (I think it's crashing and
> restarting all in the space of about two seconds). Getinfo reports what
> looks like a correct header, comparing the headers of p000.hdr and p001.hdr.
> The files are all the same size. The other images, p001.hdr to p145.hdr all
> open fine.
>
>
> $vwrays -ff $vw |rtcontrib @rtc.opt -ffc $(vwrays -d $vw) -V+ -f
> tregenza.cal -b tbin -o images/patches/p%03d.hdr -m sky_glow
> testroom_whitesky.oct
>
>
> Any hints?
>
>
> John Ford.
>
>
>
>
> _______________________________________________
>
> Radiance-general mailing list
>
> Radiance-general at radiance-online.org
>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101209/5906099c/attachment-0001.html>

From johnford at bb3.net.au  Thu Dec  9 22:04:50 2010
From: johnford at bb3.net.au (John Ford)
Date: Fri, 10 Dec 2010 17:04:50 +1100
Subject: [Radiance-general] rtcontrib output crashes preview, finder
In-Reply-To: <AANLkTim8bib=pNun6q7y+sZ0EdszqW523hPbda5dXdHu@mail.gmail.com>
References: <A7782C40-C0E9-42AB-A089-F9DEEEDF211D@bb3.net.au>
	<AANLkTikzSrYKpe9tJStm3nJ8Eqy-30kGHit1X=0CJ=BL@mail.gmail.com>
	<80A5B8D4-3318-4709-ACA6-79A9C4BCDEA7@bb3.net.au>
	<AANLkTim8bib=pNun6q7y+sZ0EdszqW523hPbda5dXdHu@mail.gmail.com>
Message-ID: <04334F48-E2D0-4A21-B357-B552F03982E2@bb3.net.au>

Thomas, 

Got it working. 

In the meantime discovered that date in OSX doesn't return nanoseconds, despite Unix date returning nanoseconds. Also, I don't think 'recno' works on OSX. 

John. 





On 10/12/2010, at 3:12 PM, Thomas Bleicher wrote:

> Evening John.
> 
> I think bin 0 was "reserved" for the ground. Therefore, if you don't have a ground material, it would be black. In my own tests I also found other bins to be completely black but I was told that was because of my primitive test geometry. Doing Axel's tutorial test room seemed to work for me at the time. I could reproduce the results he got with similar accuracy.
> 
> About pcomb: It may take quite a long time to process all the images. You can try and split the one long pcomb command into a few smaller pcombs and then combine the resulting images. If you suspect a single image to be corrupt just exclude that from the process and see if the pcomb command finishes.
> 
> If you are familiar with bash scripting you can run a first loop and combine each images separately with a known good image. This should at least show you if there are images that pcomb can't handle.
> 
> Regards,
> Thomas
> 
> 
> On Thu, Dec 9, 2010 at 10:53 PM, John Ford <johnford at bb3.net.au> wrote:
> Thomas, 
> 
> Yes, it opens in ximage. Should tregenza bin 0 be all black?
> 
> I'm trying to do the next step which is combining the images into a view of the patches using pcomb. This doesn't seem to work either using images 000-145 or images 001-145 so I don't know if there's some other problem. Terminal just hangs when I send the command, until I ctrl-c it. 
> 
> I will keep fiddling with it. 
> 
> John. 
> 
> 
> 
> 
> 
> JOHN FORD
> 
> BLUEBOTTLE
> FORTY THREE STAWELL STREET
> NORTH MELBOURNE 3051
> PHONE  03 9329 0709
> FAX 03 9329 1780
> 
> WWW.BB3.NET.AU
> JOHNFORD at BB3.NET.AU
> MOBILE 0411 519 738
> 
> 
> 
> 
> On 10/12/2010, at 1:28 PM, Thomas Bleicher wrote:
> 
>> Have you tried opening the image in ximage via Terminal.app?
>> 
>> The Finder preview and the Radiance use different libraries to
>> open/show HDR images.
>> 
>> Regards,
>> Thomas
>> 
>> On Thu, Dec 9, 2010 at 9:07 PM, John Ford <johnford at bb3.net.au> wrote:
>>> Hi,
>>> 
>>> I'm working through Axel Jacobs rtcontrib tutorial (on OSX). I'm up to the first use of tregenza.cal to generate sky patches (command below) and finding that the first image, p000.hdr, is corrupted somehow. Preview crashes when I try to open the image and when I even select it in the Finder, the Finder behaves very strangely (I think it's crashing and restarting all in the space of about two seconds). Getinfo reports what looks like a correct header, comparing the headers of p000.hdr and p001.hdr. The files are all the same size. The other images, p001.hdr to p145.hdr all open fine.
>>> 
>>> $vwrays -ff $vw |rtcontrib @rtc.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -o images/patches/p%03d.hdr -m sky_glow testroom_whitesky.oct
>>> 
>>> Any hints?
>>> 
>>> John Ford.
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101210/a6048f79/attachment.html>

From gregoryjward at gmail.com  Thu Dec  9 23:24:50 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 9 Dec 2010 23:24:50 -0800
Subject: [Radiance-general] rtcontrib output crashes preview, finder
In-Reply-To: <04334F48-E2D0-4A21-B357-B552F03982E2@bb3.net.au>
References: <A7782C40-C0E9-42AB-A089-F9DEEEDF211D@bb3.net.au>
	<AANLkTikzSrYKpe9tJStm3nJ8Eqy-30kGHit1X=0CJ=BL@mail.gmail.com>
	<80A5B8D4-3318-4709-ACA6-79A9C4BCDEA7@bb3.net.au>
	<AANLkTim8bib=pNun6q7y+sZ0EdszqW523hPbda5dXdHu@mail.gmail.com>
	<04334F48-E2D0-4A21-B357-B552F03982E2@bb3.net.au>
Message-ID: <642E5551-A603-4897-80E7-9059AAFD22DE@lmi.net>

Hi John,

The "recno" variable should work in rcalc, if that's what you're talking about.  I use it all the time.  The Finder isn't very bright when it comes to HDR images -- long headers may confuse it.

Use the new dctimestep rather than pcomb to combine images.  If you don't have the new version of dctimestep, use the -h option to pcomb to avoid ridiculous header lengths.

Cheers,
-Greg

> From: John Ford <johnford at bb3.net.au>
> Date: December 9, 2010 10:04:50 PM PST
> 
> Thomas, 
> 
> Got it working. 
> 
> In the meantime discovered that date in OSX doesn't return nanoseconds, despite Unix date returning nanoseconds. Also, I don't think 'recno' works on OSX. 
> 
> John. 


From amcneil at lbl.gov  Fri Dec 10 15:13:21 2010
From: amcneil at lbl.gov (Andy McNeil)
Date: Fri, 10 Dec 2010 15:13:21 -0800
Subject: [Radiance-general] rtcontrib output crashes preview, finder
In-Reply-To: <642E5551-A603-4897-80E7-9059AAFD22DE@lmi.net>
References: <A7782C40-C0E9-42AB-A089-F9DEEEDF211D@bb3.net.au>
	<AANLkTikzSrYKpe9tJStm3nJ8Eqy-30kGHit1X=0CJ=BL@mail.gmail.com>
	<80A5B8D4-3318-4709-ACA6-79A9C4BCDEA7@bb3.net.au>
	<AANLkTim8bib=pNun6q7y+sZ0EdszqW523hPbda5dXdHu@mail.gmail.com>
	<04334F48-E2D0-4A21-B357-B552F03982E2@bb3.net.au>
	<642E5551-A603-4897-80E7-9059AAFD22DE@lmi.net>
Message-ID: <CDB497B8-3402-45AD-9116-0BB64A22D22D@lbl.gov>

Hi John,

I find that completely black hdr images consistently crash preview.  It will also crash finder if you use finder in one of the modes that show a preview of the image like cover flow or the columns. 

Also, I've never been able to get Axel's command for random color images to work on a mac the way it is written in the tutorial.  When I try it rcalc waits patiently for input that doesn't exist.  But you can't add -n because then recno is invalid.  If you give it simple input using cnt (ie. cnt 1 | rcalc ) it doesn't work because all the values are seeded with the same number (recno is 1 every time).  Instead I used the $RANDOM variable to seed rcalc's rand function like so:

pcomb $(for i in {000..145}; do \
		echo "-c $(echo $RANDOM | rcalc -e '$1=rand($1);$2=rand($1+.3);$3=rand($1+.7)') \
		images/patches/p$(printf "%03d" $i).hdr"; done)>  images/sky_colourcomb.hdr  


Admittedly this solution is not elegant.  If it's elegance we're after we could use the new capability in dctimestep (which wasn't available when Axel wrote his tutorial):
cnt 145 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | dctimestep images/patches/p%03d.hdr >  images/sky_colourcomb.hdr  

Best,
Andy

On Dec 9, 2010, at 11:24 PM, Greg Ward wrote:

> Hi John,
> 
> The "recno" variable should work in rcalc, if that's what you're talking about.  I use it all the time.  The Finder isn't very bright when it comes to HDR images -- long headers may confuse it.
> 
> Use the new dctimestep rather than pcomb to combine images.  If you don't have the new version of dctimestep, use the -h option to pcomb to avoid ridiculous header lengths.
> 
> Cheers,
> -Greg
> 
>> From: John Ford <johnford at bb3.net.au>
>> Date: December 9, 2010 10:04:50 PM PST
>> 
>> Thomas, 
>> 
>> Got it working. 
>> 
>> In the meantime discovered that date in OSX doesn't return nanoseconds, despite Unix date returning nanoseconds. Also, I don't think 'recno' works on OSX. 
>> 
>> John. 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From tbleicher at googlemail.com  Sun Dec 12 21:15:05 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Mon, 13 Dec 2010 00:15:05 -0500
Subject: [Radiance-general] about wxfalsecolor problem
In-Reply-To: <AANLkTinpbjekH0NQ35mbsduOHKwxT6MAe563fiOCmSXC@mail.gmail.com>
References: <AANLkTinpbjekH0NQ35mbsduOHKwxT6MAe563fiOCmSXC@mail.gmail.com>
Message-ID: <AANLkTi=bbUufw6ysbyThiCxaTozPasv=Rvd10ofHS-qo@mail.gmail.com>

Hallo.

wxfalsecolor does not calculate values for luminance or illuminance.
Instead it uses the Radiance tool pvalue to extract this information
from the image. I am surprised that pvalue and Photosphere come up
with different values, though. Greg is probably the best to comment
on this. I myself have never used Photosphere.

The size related popup is just gives you the option to skip the pvalue
step when the image is loaded. It can take a while (especially for large
image) and for most of the features it is not necessary.

Regards,
Thomas


On Sun, Dec 12, 2010 at 11:36 PM, Mehmedalp Tural <mtural at asu.edu> wrote:
> Hello Mr. Bleicher,
>
> I am a PhD student at Arizona State University. I learned about the
> wxfalsecolor and falsecolor2 from Radiance mailing list.
> I have a question regarding the computed luminance values. I created my hdrs
> using Photosphere and run pfilt to reduce their resolution (to run evalglare
> faster).
> I checked the average luminance of a selected region before and after
> running pfilt and the results were identical under Photosphere.
> However, wxfalsecolor computed the average luminance of the same region two
> times more than Photosphere.
> (I did not process the hdr file using any other software like Photoshop,
> knowing that even cropping would change pixel values).
> What could be the reason for this difference? Wxfalsecolor pops-up an
> attention window for large file sizes. Is there a file size limit?
> I'd appreciate your comments.
>
> Sincerely,
>
> Mehmedalp Tural
> PhD Candidate
> Herberger Institute
> Arizona State U
>


From Lucio.Boscolo at arup.com  Mon Dec 13 01:49:15 2010
From: Lucio.Boscolo at arup.com (Lucio Boscolo)
Date: Mon, 13 Dec 2010 09:49:15 +0000
Subject: [Radiance-general] Instances
In-Reply-To: <4CED0866.2080807@visarc.com>
References: <1773335.454131290542592530.JavaMail.defaultUser@defaultHost>
	<4CEC21B0.6060103@visarc.com>
	<CC7B52EF0E443D45B11162FB554D97DF06B915F81C@EURXMBC02.global.arup.com>
	<4CED0866.2080807@visarc.com>
Message-ID: <CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com>

Thank you for all the replies sent through and sorry if didn?t thank yet.

I reckon then that my memory issues were due to the ambient file... I always thought it was read from the HD (and this was slowing the process so that a balance between calculation time and disk access had to be made to optimize the calculation time) but apparently it is loaded entirely in memory, which makes sense speed wise and teaches me to always simplify my models.

Can you please confirm my understanding is right?

Thank you once again for your great help!



Lucio Boscolo Mezzopan

From: radiance-general-bounces at radiance-online.org [mailto:radiance-general-bounces at radiance-online.org] On Behalf Of Jack de Valpine
Sent: 24 November 2010 12:43
To: Radiance general discussion
Subject: Re: [Radiance-general] Instances

Hi Lucio,

Yes, instancing is a way to deploy an object multiple times for the relative memory price of one of the objects. We do this all the time for repetitive objects such as furniture or trees (for example).

It is possible to use xform or replmarks to deploy copies of geometry also (eg files that contain material and geometry definitions). This however will not result in memory saving. To get the memory saving the object needs to be an octree. A frozen octree is self contained whereas a regular (unfrozen octree) contains references to other data/files that must be read in at load time. I believe from an "in-memory" point of view (eg when running) the memory size would be the same. I think that one difference is that frozen octrees will load faster in addition they can be treated as library objects and moved around from project to project without having to move around a lot of other source files.

Another option from a memory saving point of view is to use mesh object (obj2mesh) which is another compiled representation that may even be more compact and can also be treated like an octree instance.

Hope that helps.

Regards,

-Jack



--

# Jack de Valpine

# president

#

# visarc incorporated

# http://www.visarc.com

#

# channeling technology for superior design and construction

On 11/24/2010 4:37 AM, Lucio Boscolo wrote:

Dera Roberto and Jack...



I assume this was done to reduce the memory usage...



Jack, you were talking about a frozen octree... would this help saving memory? What would be, memory wise the difference between a frozen octree and a non-frozen one? Or, in other words, why do you suggest it should be a frozen one?



Sorry for so many questions ;-)



Lucio
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses





_______________________________________________

Radiance-general mailing list

Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101213/62d84d71/attachment.html>

From grobe at gmx.net  Mon Dec 13 02:40:38 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 13 Dec 2010 11:40:38 +0100
Subject: [Radiance-general] Instances
In-Reply-To: <CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com>
References: <1773335.454131290542592530.JavaMail.defaultUser@defaultHost>	<4CEC21B0.6060103@visarc.com>	<CC7B52EF0E443D45B11162FB554D97DF06B915F81C@EURXMBC02.global.arup.com>	<4CED0866.2080807@visarc.com>
	<CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com>
Message-ID: <4D05F826.5060009@gmx.net>

Hi Lucio,

I have never heard about a case where ambient data became critical 
memory-wise... Why do you think that there is a problem with memory in 
your case? How much memory does the rpict process occupy?

If you have a lot of detail geometry that does not contribute 
significantly to the diffuse-indirect illumination of your scene, you 
can use the ambient exclude parameters of rpict/rtrace (-ae and -aE).

If you use too many instances, or if you create them in a wrong way, 
they will slow down the rendering. Each time a ray hits an instance 
(passes the bounding cube it fits into), it has to check for collisions 
with any surface inside that instance. So if you have a lot of 
overlapping instances with little geometry contained in each, or 
instances with a bad ration of width/length/height, a lot of unnecessary 
intersection checks will happen. Instances improve memory efficiency at 
the cost of rendering time. It is important to balance the two. So only 
pack compact, high-res geometry into instances.

Cheers, Lars.

13.12.2010 10:49, Lucio Boscolo wrote:
> Thank you for all the replies sent through and sorry if didn?t thank yet.
>
> I reckon then that my memory issues were due to the ambient file... I
> always thought it was read from the HD (and this was slowing the process
> so that a balance between calculation time and disk access had to be
> made to optimize the calculation time) but apparently it is loaded
> entirely in memory, which makes sense speed wise and teaches me to
> always simplify my models.
>
> Can you please confirm my understanding is right?
>
> Thank you once again for your great help!
>
> *Lucio Boscolo Mezzopan*

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101213/0a11f105/attachment-0001.bin>

From jedev at visarc.com  Mon Dec 13 05:15:13 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Mon, 13 Dec 2010 08:15:13 -0500
Subject: [Radiance-general] Instances
In-Reply-To: <4D05F826.5060009@gmx.net>
References: <1773335.454131290542592530.JavaMail.defaultUser@defaultHost>	<4CEC21B0.6060103@visarc.com>	<CC7B52EF0E443D45B11162FB554D97DF06B915F81C@EURXMBC02.global.arup.com>	<4CED0866.2080807@visarc.com>	<CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com>
	<4D05F826.5060009@gmx.net>
Message-ID: <4D061C61.8050204@visarc.com>

Hi Lucio,

When a Radiance job is running (rpict, rtrace, rvu, etc) the whole scene 
(octree) is indeed in memory. It is not being loaded from disk as 
needed. Depending on how your model is made and with what level of 
detail this can get very big. Where possible and convenient in makes 
sense to try to put your scenes together in a thoughtful manner. On the 
other hand scene complexity/size does not necessarily mean longer 
simulation times (eg, complex exterior scene under sun/sky only lighting).

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 12/13/2010 5:40 AM, Lars O. Grobe wrote:
> Hi Lucio,
>
> I have never heard about a case where ambient data became critical 
> memory-wise... Why do you think that there is a problem with memory in 
> your case? How much memory does the rpict process occupy?
>
> If you have a lot of detail geometry that does not contribute 
> significantly to the diffuse-indirect illumination of your scene, you 
> can use the ambient exclude parameters of rpict/rtrace (-ae and -aE).
>
> If you use too many instances, or if you create them in a wrong way, 
> they will slow down the rendering. Each time a ray hits an instance 
> (passes the bounding cube it fits into), it has to check for 
> collisions with any surface inside that instance. So if you have a lot 
> of overlapping instances with little geometry contained in each, or 
> instances with a bad ration of width/length/height, a lot of 
> unnecessary intersection checks will happen. Instances improve memory 
> efficiency at the cost of rendering time. It is important to balance 
> the two. So only pack compact, high-res geometry into instances.
>
> Cheers, Lars.
>
> 13.12.2010 10:49, Lucio Boscolo wrote:
>> Thank you for all the replies sent through and sorry if didn?t thank 
>> yet.
>>
>> I reckon then that my memory issues were due to the ambient file... I
>> always thought it was read from the HD (and this was slowing the process
>> so that a balance between calculation time and disk access had to be
>> made to optimize the calculation time) but apparently it is loaded
>> entirely in memory, which makes sense speed wise and teaches me to
>> always simplify my models.
>>
>> Can you please confirm my understanding is right?
>>
>> Thank you once again for your great help!
>>
>> *Lucio Boscolo Mezzopan*
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101213/1ca72682/attachment.html>

From gregoryjward at gmail.com  Mon Dec 13 09:19:12 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 13 Dec 2010 09:19:12 -0800
Subject: [Radiance-general] about wxfalsecolor problem
In-Reply-To: <AANLkTi=bbUufw6ysbyThiCxaTozPasv=Rvd10ofHS-qo@mail.gmail.com>
References: <AANLkTinpbjekH0NQ35mbsduOHKwxT6MAe563fiOCmSXC@mail.gmail.com>
	<AANLkTi=bbUufw6ysbyThiCxaTozPasv=Rvd10ofHS-qo@mail.gmail.com>
Message-ID: <221FB49D-83A6-47AA-9398-3CEB8FEAAAE1@lmi.net>

I am not familiar with wxfalsecolor.  Is it possible that it is not taking into account the EXPOSURE setting in the header?  What happens when you use the -1 option to pfilt?

-Greg

> From: Thomas Bleicher <tbleicher at googlemail.com>
> Date: December 12, 2010 9:15:05 PM PST
> 
> Hallo.
> 
> wxfalsecolor does not calculate values for luminance or illuminance.
> Instead it uses the Radiance tool pvalue to extract this information
> from the image. I am surprised that pvalue and Photosphere come up
> with different values, though. Greg is probably the best to comment
> on this. I myself have never used Photosphere.
> 
> The size related popup is just gives you the option to skip the pvalue
> step when the image is loaded. It can take a while (especially for large
> image) and for most of the features it is not necessary.
> 
> Regards,
> Thomas
> 
> 
> On Sun, Dec 12, 2010 at 11:36 PM, Mehmedalp Tural <mtural at asu.edu> wrote:
>> Hello Mr. Bleicher,
>> 
>> I am a PhD student at Arizona State University. I learned about the
>> wxfalsecolor and falsecolor2 from Radiance mailing list.
>> I have a question regarding the computed luminance values. I created my hdrs
>> using Photosphere and run pfilt to reduce their resolution (to run evalglare
>> faster).
>> I checked the average luminance of a selected region before and after
>> running pfilt and the results were identical under Photosphere.
>> However, wxfalsecolor computed the average luminance of the same region two
>> times more than Photosphere.
>> (I did not process the hdr file using any other software like Photoshop,
>> knowing that even cropping would change pixel values).
>> What could be the reason for this difference? Wxfalsecolor pops-up an
>> attention window for large file sizes. Is there a file size limit?
>> I'd appreciate your comments.
>> 
>> Sincerely,
>> 
>> Mehmedalp Tural
>> PhD Candidate
>> Herberger Institute
>> Arizona State U


From Rob.Fitzsimmons at fiserv.com  Mon Dec 13 09:34:33 2010
From: Rob.Fitzsimmons at fiserv.com (Fitzsimmons, Rob)
Date: Mon, 13 Dec 2010 11:34:33 -0600
Subject: [Radiance-general] .ies files for LED Spots
In-Reply-To: <4D061C61.8050204@visarc.com>
References: <1773335.454131290542592530.JavaMail.defaultUser@defaultHost>	<4CEC21B0.6060103@visarc.com>	<CC7B52EF0E443D45B11162FB554D97DF06B915F81C@EURXMBC02.global.arup.com>	<4CED0866.2080807@visarc.com>	<CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com><4D05F826.5060009@gmx.net>
	<4D061C61.8050204@visarc.com>
Message-ID: <B564F6CD0114A44E816C0D68AE8C6E691082F914@MKEXCHVS2.Mail.Fiserv.net>

Hi
I'm working on a set design where we are planning on using 64P LED spots
from American DJ.
 
I found a photometric pdf on their website, but no ies file. Before I
attempt to create one, is anyone aware of such existing .ies file?
The pdf is a graphic diagram of the lux at 1,2,3,4 and 5 meters.
 
Thanks
Rob F
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101213/7c4a9a0b/attachment.html>

From tbleicher at googlemail.com  Mon Dec 13 10:46:47 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Mon, 13 Dec 2010 13:46:47 -0500
Subject: [Radiance-general] .ies files for LED Spots
In-Reply-To: <B564F6CD0114A44E816C0D68AE8C6E691082F914@MKEXCHVS2.Mail.Fiserv.net>
References: <1773335.454131290542592530.JavaMail.defaultUser@defaultHost>
	<4CEC21B0.6060103@visarc.com>
	<CC7B52EF0E443D45B11162FB554D97DF06B915F81C@EURXMBC02.global.arup.com>
	<4CED0866.2080807@visarc.com>
	<CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com>
	<4D05F826.5060009@gmx.net> <4D061C61.8050204@visarc.com>
	<B564F6CD0114A44E816C0D68AE8C6E691082F914@MKEXCHVS2.Mail.Fiserv.net>
Message-ID: <AANLkTikbw7ivNDGU9JiLy5WyBsmiKGC1jEOsdrsX36Om@mail.gmail.com>

If the company does not add their own lenses or reflectors chances are good
that the individual LED output is unmodified. In this case you can search
for
an IES file of an individual LED (single LED fitting) and adjust the output
to
match the 64 LED fitting.

Regards,
Thomas

On Mon, Dec 13, 2010 at 12:34 PM, Fitzsimmons, Rob <
Rob.Fitzsimmons at fiserv.com> wrote:

>  Hi
> I'm working on a set design where we are planning on using 64P LED spots
> from American DJ.
>
> I found a photometric pdf on their website, but no ies file. Before I
> attempt to create one, is anyone aware of such existing .ies file?
> The pdf is a graphic diagram of the lux at 1,2,3,4 and 5 meters.
>
> Thanks
> Rob F
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101213/ac9529d6/attachment.html>

From grobe at gmx.net  Mon Dec 13 10:48:28 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 13 Dec 2010 19:48:28 +0100
Subject: [Radiance-general] .ies files for LED Spots
In-Reply-To: <B564F6CD0114A44E816C0D68AE8C6E691082F914@MKEXCHVS2.Mail.Fiserv.net>
References: <1773335.454131290542592530.JavaMail.defaultUser@defaultHost>	<4CEC21B0.6060103@visarc.com>	<CC7B52EF0E443D45B11162FB554D97DF06B915F81C@EURXMBC02.global.arup.com>	<4CED0866.2080807@visarc.com>	<CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com><4D05F826.5060009@gmx.net>	<4D061C61.8050204@visarc.com>
	<B564F6CD0114A44E816C0D68AE8C6E691082F914@MKEXCHVS2.Mail.Fiserv.net>
Message-ID: <4D066A7C.8090700@gmx.net>

Hi Rob!

> I found a photometric pdf on their website, but no ies file. Before I
> attempt to create one, is anyone aware of such existing .ies file?
> The pdf is a graphic diagram of the lux at 1,2,3,4 and 5 meters.

I do not know whether they have a downloadable IES-formatted 
distribution file for that LED, but in case you want to use the PDF, one 
comment. Do not create an IES file if you do not need to.... it is 
easier to directly create a Radiance dat-file from the plot. There are 
useful tools to extract data from plots, which let you define the axis 
locations and units and then translates your mouse clicks on the graph 
to a data table. Especially if you have a symmetric distribution, it is 
not too much work to make this a useful Radiance dat-file.

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101213/c6f5033c/attachment-0001.bin>

From tbleicher at googlemail.com  Mon Dec 13 11:14:16 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Mon, 13 Dec 2010 14:14:16 -0500
Subject: [Radiance-general] about wxfalsecolor problem
In-Reply-To: <221FB49D-83A6-47AA-9398-3CEB8FEAAAE1@lmi.net>
References: <AANLkTinpbjekH0NQ35mbsduOHKwxT6MAe563fiOCmSXC@mail.gmail.com>
	<AANLkTi=bbUufw6ysbyThiCxaTozPasv=Rvd10ofHS-qo@mail.gmail.com>
	<221FB49D-83A6-47AA-9398-3CEB8FEAAAE1@lmi.net>
Message-ID: <AANLkTikVGh2FdyuTQ3tT_Q59vvq=PVMc1dEJO5E4aB30@mail.gmail.com>

Hi Greg.

On Mon, Dec 13, 2010 at 12:19 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> I am not familiar with wxfalsecolor.  Is it possible that it is not taking
> into account the EXPOSURE setting in the header?


As I wrote, I just use "pvalue -o ..." to get the values from the image.
It works fine with rendered images and test images I have created
with pcomb. I have never used it on HDR images, though.

I wanted to include a feature that checks the header information
and warns if the images does not contain useable luminance values
(after pcond has been used for example). I'm not sure if I understand
these limitations myself correctly so I rely on the user to provide
appropriate images.

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101213/f6b227b8/attachment.html>

From gregoryjward at gmail.com  Mon Dec 13 11:56:26 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 13 Dec 2010 11:56:26 -0800
Subject: [Radiance-general] about wxfalsecolor problem
In-Reply-To: <AANLkTikVGh2FdyuTQ3tT_Q59vvq=PVMc1dEJO5E4aB30@mail.gmail.com>
References: <AANLkTinpbjekH0NQ35mbsduOHKwxT6MAe563fiOCmSXC@mail.gmail.com>
	<AANLkTi=bbUufw6ysbyThiCxaTozPasv=Rvd10ofHS-qo@mail.gmail.com>
	<221FB49D-83A6-47AA-9398-3CEB8FEAAAE1@lmi.net>
	<AANLkTikVGh2FdyuTQ3tT_Q59vvq=PVMc1dEJO5E4aB30@mail.gmail.com>
Message-ID: <5D66801C-3E91-4923-BA7D-5C24AB187692@lmi.net>

Hi Thomas,

The -o option should give you original values, provided as you say something hasn't happened in between to lose the calibration.  I'm just throwing out guesses.  I have no idea why the results would disagree, otherwise.

Cheers,
-Greg

> From: Thomas Bleicher <tbleicher at googlemail.com>
> Date: December 13, 2010 11:14:16 AM PST
> 
> Hi Greg.
> 
> On Mon, Dec 13, 2010 at 12:19 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> I am not familiar with wxfalsecolor.  Is it possible that it is not taking into account the EXPOSURE setting in the header?
> 
> As I wrote, I just use "pvalue -o ..." to get the values from the image.
> It works fine with rendered images and test images I have created
> with pcomb. I have never used it on HDR images, though.
> 
> I wanted to include a feature that checks the header information
> and warns if the images does not contain useable luminance values
> (after pcond has been used for example). I'm not sure if I understand
> these limitations myself correctly so I rely on the user to provide
> appropriate images. 
> 
> Regards,
> Thomas 


From FCantin at hudonjulien.com  Tue Dec 14 10:30:13 2010
From: FCantin at hudonjulien.com (=?iso-8859-1?Q?Fran=E7ois_Cantin?=)
Date: Tue, 14 Dec 2010 13:30:13 -0500
Subject: [Radiance-general] optics2glazedb program
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB99273E5184F3@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB99273E467133@SRVHJA02.hja.local>
	<4CFE6355.7010207@visarc.com>
	<F26BAA4A842DD94083472A0D31EBBB99273E46715C@SRVHJA02.hja.local>
	<4CFE6EDF.5090002@visarc.com>
	<F26BAA4A842DD94083472A0D31EBBB99273E5184F3@SRVHJA02.hja.local>
Message-ID: <F26BAA4A842DD94083472A0D31EBBB99273E518844@SRVHJA02.hja.local>

Hi Jack,

I think I managed to solve the problem concerning the processing of some monolithic glass from Optics (i.e. Starphire Ultra Clear from PPG Industries - NFRC ID= 5004).

When exporting a glazing system including only one layer of clear glass instead of exporting a single layer in Optics, the resulting output can then be processed correctly by Optics2glazedb.
However, as shown below, both outputs (layer vs glazing system) are identical, except for the headers and the material identifier:

Layer export:
#
# FileName= STRPH_6.PPG
# Product Name= Starphire?
# NFRC ID= 5004
# Manufacturer Name= PPG Industries
# Glazing Type= Monolithic
# Coated Side= Neither
# Transmittance= 0.911
# Front Reflectance= 0.082
# Back Reflectance= 0.083
# Thickness(mm)= 5.664
# Appearance=
#


void  glass       STRPH_6_glass
0
0
3     0.989     0.993     0.989

void  BRTDfunc    STRPH_6_front
10
      0.081     0.082     0.084
      0.908     0.912     0.908
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0

void  BRTDfunc    STRPH_6_back
10
      0.082     0.083     0.085
      0.908     0.912     0.908
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0


Glazing system export (one clear glass layer):
#
# FileName= GlzSys.usr
# Product Name=
# NFRC ID= 30005
# Manufacturer Name= User
# Glazing Type= Glazing system
# Coated Side= Neither
# Transmittance= 0.911
# Front Reflectance= 0.082
# Back Reflectance= 0.083
# Thickness(mm)= 5.664
# Appearance=
#


void  glass       GlzSys_glass
0
0
3     0.989     0.993     0.989

void  BRTDfunc    GlzSys_front
10
      0.081     0.082     0.084
      0.908     0.912     0.908
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0

void  BRTDfunc    GlzSys_back
10
      0.082     0.083     0.085
      0.908     0.912     0.908
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0


In short, it seems to work, but I don't know why. However, it is much better than: it doesn't work and I don't know why... ;)


Regards,


Fran?ois


From: Fran?ois Cantin [mailto:FCantin at hudonjulien.com]<mailto:[mailto:FCantin at hudonjulien.com]>
Sent: Wednesday, December 08, 2010 6:51 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] optics2glazedb program

Hi Jack,

When I pass a set of files (Radiance output from Optics 5) to Optics2glazedb, the script doesn't seem to be able to ''compute'' all the uncoated glass (Monolithic type in Optics 5).

Following the example taken from your presentation at the 2009 Radiance Workshop, I try to process a Starphire Ultra Clear from PPG Industries (NFRC ID= 5004) as the glass that will serve as the clear glass for my set. However, despite using a clean output from Optics, I can't get a complete output from Optics2glazedb (all I get is an header with no value):

Surface Tr Tg Tb Rcr Rcg Rcb Rgr Rgg Rgb Part


On the other hand, when I pass a LowE on clear from Viracon (The other glass taken from your example - NFRC ID= 6046) the script return a good output.

Do you have any idea of what is going on ? (In fact, I should probably ask: what am I doing wrong ?)
I'm working on Cygwin, this may be the cause of the problem...


Also, you mentioned that the first glass material description must be for an uncoated ''clear'' glass. Can you give more explanation about that ? Is this a limitation of the Glaze script ?


Once again, thanks for your help, I very appreciate it !



Fran?ois






From: radiance-general-bounces at radiance-online.org<mailto:radiance-general-bounces at radiance-online.org> [mailto:radiance-general-bounces at radiance-online.org]<mailto:[mailto:radiance-general-bounces at radiance-online.org]> On Behalf Of Jack de Valpine
Sent: Tuesday, December 07, 2010 12:29 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] optics2glazedb program

Hi Francois,

Great, let me know if you have any questions.

-Jack


--

# Jack de Valpine

# president

#

# visarc incorporated

# http://www.visarc.com

#

# channeling technology for superior design and construction

On 12/7/2010 11:56 AM, Fran?ois Cantin wrote:
Hi Jack,

Thanks for your fast reply. Indeed, it works...


Regards,

Fran?ois


From: radiance-general-bounces at radiance-online.org<mailto:radiance-general-bounces at radiance-online.org> [mailto:radiance-general-bounces at radiance-online.org] On Behalf Of Jack de Valpine
Sent: Tuesday, December 07, 2010 11:40 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] optics2glazedb program

Hi Francois,

The script is still available at the site. Please give it a try again and let me know if it works. As for "official" this is it, as I am the one who put the script together.

Regards,

-Jack de Valpine


--

# Jack de Valpine

# president

#

# visarc incorporated

# http://www.visarc.com

#

# channeling technology for superior design and construction

On 12/7/2010 10:51 AM, Fran?ois Cantin wrote:
Hi everyone,

I'm looking for the optics2glazedb program.

Since the link provided by Jack de Valpine more than one year ago doesn't seem to be valid anymore, is there another ''official'' link to download this gem ? ;)

Thanks in advance,
______________________________________________________________
Fran?ois Cantin, M Arch, MSc Arch

Hudon Julien associes,
1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
T?l: (418) 653-8484 #224, Fax:(418) 653-6189
E-mail: fcantin at hudonjulien.com<mailto:fcantin at hudonjulien.com>
Site web: www.hudonjulien.com<http://www.hudonjulien.com/>



      Hi Anne,

      This is not in the standard distribution it is something that I put
      together. I have placed a copy up on our ftp site. You can download it
      as follows:
            go to: ftp://ftp.visarc.com
            username: u36117396-rw2009
            passwd: rw20094vis

      The usage is as follows:
      optics2glazedb glass_1.mat .... glass_n.mat

      NOTE that the first glass material description should be for a "clear"
      glass.

      Please let me know if you have any questions.

      Regards,

      -Jack de Valpine

      # Jack de Valpine
      # president
      #
      # visarc incorporated
      # http://www.visarc.com
      #
      # channeling technology for superior design and construction





            Anne Iversen wrote:

            Inspired by the presentation of Jack I want to generate a
            new database for the glaze script by running optics2glazedb.
            As far as I can see, the program is not included in the latest version
            (HEAD)? Where can I find optics2glazedb?

            Anne







_______________________________________________

Radiance-general mailing list

Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general





_______________________________________________

Radiance-general mailing list

Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>

http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101214/c64e8b02/attachment-0001.html>

From jedev at visarc.com  Tue Dec 14 11:11:16 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Tue, 14 Dec 2010 14:11:16 -0500
Subject: [Radiance-general] optics2glazedb program
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB99273E518844@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB99273E467133@SRVHJA02.hja.local>	<4CFE6355.7010207@visarc.com>	<F26BAA4A842DD94083472A0D31EBBB99273E46715C@SRVHJA02.hja.local>	<4CFE6EDF.5090002@visarc.com>	<F26BAA4A842DD94083472A0D31EBBB99273E5184F3@SRVHJA02.hja.local>
	<F26BAA4A842DD94083472A0D31EBBB99273E518844@SRVHJA02.hja.local>
Message-ID: <4D07C154.5050107@visarc.com>

Hi Francois,

My apologies it looks like I missed your previous email on this. Let me 
take a look at this and then follow-up. One thing to note is that you 
want to be export single layers (that is the component layers that will 
make up a glazing system) from optics. We are relying on the glaze 
script to combine the layers and produce a usable material definition.

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 12/14/2010 1:30 PM, Fran?ois Cantin wrote:
>
> Hi Jack,
>
> I think I managed to solve the problem concerning the processing of 
> some monolithic glass from Optics (i.e. Starphire Ultra Clear from PPG 
> Industries - NFRC ID= 5004).
>
> When exporting a glazing system including only one layer of clear 
> glass instead of exporting a single layer in Optics, the resulting 
> output can then be processed correctly by Optics2glazedb.
>
> However, as shown below, both outputs (layer vs glazing system) are 
> identical, except for the headers and the material identifier:
>
> Layer export:
>
> #
>
> # FileName= STRPH_6.PPG
>
> # Product Name= Starphire?
>
> # NFRC ID= 5004
>
> # Manufacturer Name= PPG Industries
>
> # Glazing Type= Monolithic
>
> # Coated Side= Neither
>
> # Transmittance= 0.911
>
> # Front Reflectance= 0.082
>
> # Back Reflectance= 0.083
>
> # Thickness(mm)= 5.664
>
> # Appearance=
>
> #
>
> void  glass STRPH_6_glass
>
> 0
>
> 0
>
> 3     0.989     0.993     0.989
>
> void  BRTDfunc STRPH_6_front
>
> 10
>
>       0.081     0.082     0.084
>
>       0.908     0.912     0.908
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
> void  BRTDfunc STRPH_6_back
>
> 10
>
>       0.082     0.083     0.085
>
>       0.908     0.912     0.908
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
> Glazing system export (one clear glass layer):
>
> #
>
> # FileName= GlzSys.usr
>
> # Product Name=
>
> # NFRC ID= 30005
>
> # Manufacturer Name= User
>
> # Glazing Type= Glazing system
>
> # Coated Side= Neither
>
> # Transmittance= 0.911
>
> # Front Reflectance= 0.082
>
> # Back Reflectance= 0.083
>
> # Thickness(mm)= 5.664
>
> # Appearance=
>
> #
>
> void  glass GlzSys_glass
>
> 0
>
> 0
>
> 3     0.989     0.993     0.989
>
> void  BRTDfunc GlzSys_front
>
> 10
>
>       0.081     0.082     0.084
>
>       0.908     0.912     0.908
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
> void  BRTDfunc GlzSys_back
>
> 10
>
>       0.082     0.083     0.085
>
>       0.908     0.912     0.908
>
>       0 0 0
>
>       .
>
> 0
>
> 9 0 0 0 0 0 0 0 0 0
>
> In short, it seems to work, but I don't know why. However, it is much 
> better than: it doesn't work and I don't know why... ;)
>
> Regards,
>
> Fran?ois
>
> *From:*Fran?ois Cantin [mailto:FCantin at hudonjulien.com] 
> <mailto:[mailto:FCantin at hudonjulien.com]>
> *Sent:* Wednesday, December 08, 2010 6:51 PM
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] optics2glazedb program
>
> Hi Jack,
>
> When I pass a set of files (Radiance output from Optics 5) to 
> Optics2glazedb, the script doesn't seem to be able to ''compute'' all 
> the uncoated glass (Monolithic type in Optics 5).
>
> Following the example taken from your presentation at the 2009 
> Radiance Workshop, I try to process a Starphire Ultra Clear from PPG 
> Industries (NFRC ID= 5004) as the glass that will serve as the clear 
> glass for my set. However, despite using a clean output from Optics, I 
> can't get a complete output from Optics2glazedb (all I get is an 
> header with no value):
>
> /Surface Tr Tg Tb Rcr Rcg Rcb Rgr Rgg Rgb Part/
>
> On the other hand, when I pass a LowE on clear from Viracon (The other 
> glass taken from your example - NFRC ID= 6046) the script return a 
> good output.
>
> Do you have any idea of what is going on ? (In fact, I should probably 
> ask: what am I doing wrong ?)
>
> I'm working on Cygwin, this may be the cause of the problem...
>
> Also, you mentioned that the first glass material description must be 
> for an uncoated ''clear'' glass. Can you give more explanation about 
> that ? Is this a limitation of the Glaze script ?
>
> Once again, thanks for your help, I very appreciate it !
>
> Fran?ois
>
> *From:*radiance-general-bounces at radiance-online.org 
> <mailto:radiance-general-bounces at radiance-online.org> 
> [mailto:radiance-general-bounces at radiance-online.org] 
> <mailto:[mailto:radiance-general-bounces at radiance-online.org]> *On 
> Behalf Of *Jack de Valpine
> *Sent:* Tuesday, December 07, 2010 12:29 PM
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] optics2glazedb program
>
> Hi Francois,
>
> Great, let me know if you have any questions.
>
> -Jack
>
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> #http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
> On 12/7/2010 11:56 AM, Fran?ois Cantin wrote:
>
> Hi Jack,
>
> Thanks for your fast reply. Indeed, it works...
>
> Regards,
>
> Fran?ois
>
> *From:*radiance-general-bounces at radiance-online.org 
> <mailto:radiance-general-bounces at radiance-online.org> 
> [mailto:radiance-general-bounces at radiance-online.org] *On Behalf Of 
> *Jack de Valpine
> *Sent:* Tuesday, December 07, 2010 11:40 AM
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] optics2glazedb program
>
> Hi Francois,
>
> The script is still available at the site. Please give it a try again 
> and let me know if it works. As for "official" this is it, as I am the 
> one who put the script together.
>
> Regards,
>
> -Jack de Valpine
>
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> #http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
> On 12/7/2010 10:51 AM, Fran?ois Cantin wrote:
>
> Hi everyone,
>
> I'm looking for the optics2glazedb program.
>
> Since the link provided by Jack de Valpine more than one year ago 
> doesn't seem to be valid anymore, is there another ''official'' link 
> to download this gem ? ;)
>
> Thanks in advance,
>
> ______________________________________________________________
>
> *Fran?ois Cantin, M Arch, MSc Arch
> *
> *Hudon Julien* associes,
>
> 1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
> T?l: (418) 653-8484 #224, Fax:(418) 653-6189
> E-mail: fcantin at hudonjulien.com <mailto:fcantin at hudonjulien.com>
> Site web: www.hudonjulien.com <http://www.hudonjulien.com/>
>
> Hi Anne,
>
>       This is not in the standard distribution it is something that I put
>       
> together. I have placed a copy up on our ftp site. You can download it
>       as follows:
>
>             go to: ftp://ftp.visarc.com
>             username: u36117396-rw2009
>             passwd: rw20094vis
>
>       The usage is as follows:
>       optics2glazedb glass_1.mat .... glass_n.mat
>
>       
> NOTE that the first glass material description should be for a "clear"
>       glass.
>
>       Please let me know if you have any questions.
>
>       Regards,
>
>       -Jack de Valpine
>
>       # Jack de Valpine
>       # president
>       #
>       # visarc incorporated
>       # http://www.visarc.com
>       #
>       # channeling technology for superior design and construction
>
>
>
>
>             Anne Iversen wrote:
>
>             Inspired by the presentation of Jack I want to generate a
>             new database for the glaze script by running optics2glazedb.
>             
> As far as I can see, the program is not included in the latest version
>             (HEAD)? Where can I find optics2glazedb?
>
>             Anne
>
>
>   
>   
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org  <mailto:Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>   
>   
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org  <mailto:Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101214/1d6c7650/attachment-0001.html>

From brajeshlal at yahoo.com  Tue Dec 14 14:15:15 2010
From: brajeshlal at yahoo.com (Brajesh Lal)
Date: Tue, 14 Dec 2010 14:15:15 -0800 (PST)
Subject: [Radiance-general] variables space in rayinit.cal
Message-ID: <928572.9599.qm@web57311.mail.re1.yahoo.com>

Hi,
I am creating Depth Map of the scene
In the rayinit.cal
are variables Dx, Dy, Dz?and T in world space or camera space?

Thanks for the reply in advance
?Best Regards, Brajesh Lal 


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101214/f298b1b1/attachment.html>

From gregoryjward at gmail.com  Tue Dec 14 14:30:02 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 14 Dec 2010 14:30:02 -0800
Subject: [Radiance-general] variables space in rayinit.cal
In-Reply-To: <928572.9599.qm@web57311.mail.re1.yahoo.com>
References: <928572.9599.qm@web57311.mail.re1.yahoo.com>
Message-ID: <59223A21-3989-4893-936A-2A1276EB7824@lmi.net>

They are reported in world space, and I don't know how you would use them to record a depth map.  Use the -z option to rpict, instead (or the ZFILE variable in rad).

-Greg

> From: Brajesh Lal <brajeshlal at yahoo.com>
> Date: December 14, 2010 2:15:15 PM PST
> 
> Hi,
> I am creating Depth Map of the scene
> In the rayinit.cal
> are variables Dx, Dy, Dz and T in world space or camera space?
>  
> Thanks for the reply in advance
>  
> Best Regards, Brajesh Lal


From FCantin at hudonjulien.com  Tue Dec 14 14:47:18 2010
From: FCantin at hudonjulien.com (=?iso-8859-1?Q?Fran=E7ois_Cantin?=)
Date: Tue, 14 Dec 2010 17:47:18 -0500
Subject: [Radiance-general] glaze script limitation
Message-ID: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>

Hi everyone,


I would like to model a double glazing system like the following:

first pane
surface 1: Crystal gray (Optics database number:  3056)
surface 2: Crystal gray with a SunGuard Ag 43 coating (Optics: 3156)

second pane
surface 3: Clear glass with a SunGuard SuperNeutral (SN) 62 coating (Optics: 3116)
surface 4: Clear glass (Optics: 3016)


Using the Optics2glazedb script provided by Jack de Valpine, I'm able to create a custom database which contain all of the above surfaces/layers and can be read by the Glaze script.

However, the Glaze script, used to combine the surfaces and generate a usable material definition, force the user to select at least one clear glass to compose each pane (surface 1 or 2 must be clear AND surface 3 or 4 must be clear). Moreover, the clear glass must be the same for both panes and must be the first one on the list provided when running the Glaze script.

My question is:
If I bypass the ''if structures'' constraining the composition of the panes in order to allow the selection of two different uncoated glass, can I expect  the output to be still valid ?

...
#if ($s1t != 1 && $s2t != 1) then
                #echo "One surface of each pane must be $sn_arr[1]"
                #exit 1
#endif
...


...
#if ($s3t != 1 && $s4t != 1) then
                #echo "One surface of each pane must be $sn_arr[1]"
                #exit 1
#endif
...


Without such bypass, generating a glazing system like the one described above seems impossible.


Thanks in advance for your help,


_____________________________________________________________
Fran?ois Cantin, M Arch, MSc Arch

Hudon Julien associes,
1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
T?l: (418) 653-8484 #224, Fax:(418) 653-6189
E-mail: fcantin at hudonjulien.com<mailto:fcantin at hudonjulien.com>
Site web: www.hudonjulien.com<http://www.hudonjulien.com/>
P Avant d'imprimer, pensez ? l'environnement

Ce message ?lectronique et tous les fichiers attach?s qu'il contient sont confidentiels et destin?s exclusivement ? l'usage de la personne ? laquelle ils sont adress?s. Si vous avez re?u ce message par erreur, merci de le retourner ? son ?metteur. La publication, l'usage, la distribution, l'impression ou la copie non autoris?e de ce message et des attachements qu'il contient sont strictement interdits.

This e-mail and any files transmitted with it are confidential and intended solely for the use of the individual to whom it is addressed. If you have received this email in error please send it back to the person that sent it to you. Unauthorized publication, use, dissemination, forwarding, printing or copying of this email and its associated attachments is strictly prohibited.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101214/fc8efa17/attachment.html>

From MdelaFuente at wmtao.com  Tue Dec 14 15:29:34 2010
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Tue, 14 Dec 2010 17:29:34 -0600
Subject: [Radiance-general] Compiling rad4Rall on W7 64 bit Cygwin
References: <4D07A29F0200004900013F08@mail.wmtao.com>
	<4D07A97E0200004900013F0C@mail.wmtao.com>
Message-ID: <4D07A97E0200004900013F0C@mail.wmtao.com>

Radiance group,
 
I tried to compile rad4Rall on a Windows 7 64 Bit Cygwin system. After
making this change to ezxml.h:
http://luminance.londonmet.ac.uk/radiance_mailinglists/general/2010-October/007397.html
it compiled but with errors.
 
The first error I could find was:
 
persist.c:42: error: conflicting types for ?sighandler_t?
/usr/include/signal.h:11: error: previous declaration of ?sighandler_t?
was here
make: *** [persist.o] Error 1
 
Same as Claus had here
http://luminance.londonmet.ac.uk/radiance_mailinglists/general/2010-October/007402.html
 
Was there ever a resolution?
 
As a fix, would it be reasonable to merge a full set of Cygwin Radiance
3R7 bin and lib files with a partial set of 4.0 files, and just keep the
4.0 files where duplicates occur? Looks like the non-duplicates were
lookamb, rpict, rtrace, rview, and rvu. Also, rayinit.cal and
glazing.cal were not in the lib directory. Although, these are some
pretty major files not to have compile, I just ran oconv and rpict on an
old project and it seemed to work fine.
 
Thanks for any help.
 
Mark de la Fuente

[{--Wm. Tao & Associates, Inc.--}] This message and content is
privileged, intended only for recipients named and/or addressed.  If the
receiver/reader is not a representative of the intended recipient, any
review, forwarding, dissemination or copying of this message or its
content, in part or in whole, is prohibited. If you have received this
message in error, please notify the sender immediately by Reply email,
and Delete the original message and attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101214/89b828d2/attachment-0001.html>

From gregoryjward at gmail.com  Tue Dec 14 16:07:41 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 14 Dec 2010 16:07:41 -0800
Subject: [Radiance-general] glaze script limitation
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>
Message-ID: <F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>

Hi Fran?ois,

Unfortunately, there is no easy way to change the way the glaze script works regarding its requirement that one surface be uncoated glass.

The trouble is one of combinatorics.  Unless we incorporate a database containing all the possible front and back coating combinations, or a model like Optics has for computing the combined effect, we can't produce the correct output.  What we really need is a more general glazing modeler that can account for every possible configuration and produces a reliable Radiance material.  Maybe Window6 will provide this at some point, but we aren't there, yet.

As you suggest, it would be nice to have at least the ability to give a single-pane glazing as part of a dual-paned system as something precomputed by Optics, but I don't think you can just substitute values in the database and get it to work.  You'd have to reprogram the script a bit, and that's not a very inviting prospect....

-Greg

> From: Fran?ois Cantin <FCantin at hudonjulien.com>
> Date: December 14, 2010 2:47:18 PM PST
> 
> Hi everyone,
> 
>  
> 
> I would like to model a double glazing system like the following:
> 
>  
> 
> first pane
> 
> surface 1: Crystal gray (Optics database number:  3056)
> 
> surface 2: Crystal gray with a SunGuard Ag 43 coating (Optics: 3156)
> 
>  
> 
> second pane
> 
> surface 3: Clear glass with a SunGuard SuperNeutral (SN) 62 coating (Optics: 3116)
> 
> surface 4: Clear glass (Optics: 3016)
> 
>  
> 
>  
> 
> Using the Optics2glazedb script provided by Jack de Valpine, I'm able to create a custom database which contain all of the above surfaces/layers and can be read by the Glaze script.
> 
>  
> 
> However, the Glaze script, used to combine the surfaces and generate a usable material definition, force the user to select at least one clear glass to compose each pane (surface 1 or 2 must be clear AND surface 3 or 4 must be clear). Moreover, the clear glass must be the same for both panes and must be the first one on the list provided when running the Glaze script.
> 
>  
> 
> My question is:
> 
> If I bypass the ''if structures'' constraining the composition of the panes in order to allow the selection of two different uncoated glass, can I expect  the output to be still valid ?
> 
>  
> 
> ...
> 
> #if ($s1t != 1 && $s2t != 1) then
> 
>                 #echo "One surface of each pane must be $sn_arr[1]"
> 
>                 #exit 1
> 
> #endif
> 
> ...
> 
>  
> 
>  
> 
> ...
> 
> #if ($s3t != 1 && $s4t != 1) then
> 
>                 #echo "One surface of each pane must be $sn_arr[1]"
> 
>                 #exit 1
> 
> #endif
> 
> ...
> 
>  
> 
>  
> 
> Without such bypass, generating a glazing system like the one described above seems impossible.
> 
>  
> 
>  
> 
> Thanks in advance for your help,
> 
>  
> 
>  
> 
> _____________________________________________________________
> 
> Fran?ois Cantin, M Arch, MSc Arch
>                                                   
> Hudon Julien associes, 
> 
> 1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
> T?l: (418) 653-8484 #224, Fax:(418) 653-6189
> E-mail: fcantin at hudonjulien.com
> Site web: www.hudonjulien.com
> 
> P Avant d'imprimer, pensez ? l'environnement
> 
>  
> 
> Ce message ?lectronique et tous les fichiers attach?s qu'il contient sont confidentiels et destin?s exclusivement ? l'usage de la personne ? laquelle ils sont adress?s. Si vous avez re?u ce message par erreur, merci de le retourner ? son ?metteur. La publication, l'usage, la distribution, l'impression ou la copie non autoris?e de ce message et des attachements qu'il contient sont strictement interdits.
> 
> This e-mail and any files transmitted with it are confidential and intended solely for the use of the individual to whom it is addressed. If you have received this email in error please send it back to the person that sent it to you. Unauthorized publication, use, dissemination, forwarding, printing or copying of this email and its associated attachments is strictly prohibited.
> 
>  
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From cbm at create.aau.dk  Tue Dec 14 23:41:00 2010
From: cbm at create.aau.dk (=?utf-8?B?Q2xhdXMgQnLDuG5kZ2FhcmQgTWFkc2Vu?=)
Date: Wed, 15 Dec 2010 08:41:00 +0100
Subject: [Radiance-general] Compiling rad4Rall on W7 64 bit Cygwin
In-Reply-To: <4D07A97E0200004900013F0C@mail.wmtao.com>
References: <4D07A29F0200004900013F08@mail.wmtao.com>
	<4D07A97E0200004900013F0C@mail.wmtao.com>
	<4D07A97E0200004900013F0C@mail.wmtao.com>
Message-ID: <E35477F1A321144D897D44CCAAFF202C091DDD8F2B@AD-MAILBOX01.aau.dk>

Hi Mark,
I ?resolved? the sighandler issue by applying the fix I found at:
http://www.radiance-online.org/pipermail/radiance-dev/2006-February/000676.html
Quoting:
I came across this problem when compiling Radiance under Interix.  I
resolved it by commenting out these three lines near the top of the file
persist.c:

typedef void (sighandler_t)(int);
static sighandler_t sig_io;
static sighandler_t sig_alrm;

I should warn you that I didn't look into the problem too deeply, so
that may or may not be the best solution!

Doing exactly ?as I was told? I arrived at error free compilation, and I have had no problems running RADIANCE programs since.

Best,
Claus




[cid:image001.jpg at 01CB9C33.4B597490]

From: Mark de la Fuente [mailto:MdelaFuente at wmtao.com]
Sent: 15. december 2010 00:30
To: Radiance
Subject: [Radiance-general] Compiling rad4Rall on W7 64 bit Cygwin

Radiance group,

I tried to compile rad4Rall on a Windows 7 64 Bit Cygwin system. After making this change to ezxml.h: http://luminance.londonmet.ac.uk/radiance_mailinglists/general/2010-October/007397.html it compiled but with errors.

The first error I could find was:

persist.c:42: error: conflicting types for ?sighandler_t?
/usr/include/signal.h:11: error: previous declaration of ?sighandler_t? was here
make: *** [persist.o] Error 1

Same as Claus had here http://luminance.londonmet.ac.uk/radiance_mailinglists/general/2010-October/007402.html

Was there ever a resolution?

As a fix, would it be reasonable to merge a full set of Cygwin Radiance 3R7 bin and lib files with a partial set of 4.0 files, and just keep the 4.0 files where duplicates occur? Looks like the non-duplicates were lookamb, rpict, rtrace, rview, and rvu. Also, rayinit.cal and glazing.cal were not in the lib directory. Although, these are some pretty major files not to have compile, I just ran oconv and rpict on an old project and it seemed to work fine.

Thanks for any help.

Mark de la Fuente

________________________________

No virus found in this message.
Checked by AVG - www.avg.com<http://www.avg.com>
Version: 10.0.1170 / Virus Database: 426/3315 - Release Date: 12/14/10
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/c3e23a2e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 12406 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/c3e23a2e/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Claus Br?ndgaard Madsen.vcf
Type: text/x-vcard
Size: 6218 bytes
Desc: Claus Br?ndgaard Madsen.vcf
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/c3e23a2e/attachment-0001.vcf>

From grobe at gmx.net  Wed Dec 15 03:42:49 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 15 Dec 2010 12:42:49 +0100
Subject: [Radiance-general] glaze script limitation
In-Reply-To: <F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>
References: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>
	<F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>
Message-ID: <4D08A9B9.70906@gmx.net>

Hi all!

> The trouble is one of combinatorics.  Unless we incorporate a
> database containing all the possible front and back coating
> combinations, or a model like Optics has for computing the combined
> effect, we can't produce the correct output.  What we really need is
> a more general glazing modeler that can account for every possible
> configuration and produces a reliable Radiance material.  Maybe
> Window6 will provide this at some point, but we aren't there, yet.

A related question... is anyone aware of tools compareable to Optics and 
Window that follow a more open approach of software? I have to boot into 
a Windows installation (and Windows does not easily boot in virtual 
machines any more since Vista) each time I want to start one of these 
tools, which even require administrator rights to install on a Windows 
machine. Unfortunately it looks as no attempt had been made at all 
during development to separate the database, calculation and 
GUI/controller code, so I do not expect these tools to become more open 
or platform independent. So did you ever come accross any development in 
these fields?

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/a218a221/attachment.bin>

From achim.geissler at intergga.ch  Wed Dec 15 06:43:18 2010
From: achim.geissler at intergga.ch (Achim.geissler)
Date: Wed, 15 Dec 2010 15:43:18 +0100
Subject: [Radiance-general] glaze script limitation
Message-ID: <bf03e22597ff415837d397a0ccefcdee@212.203.77.242>

Dear Lars

one tool that may possibly be a bit more open is WIS. In any case, off and
on there is an error message from a "solver". However, I have no idea if the
code would be accessible. WIS originated from a european project and so the
code may be available to people affiliated to european research institutes.

Best
Achim



--------- Original-Nachricht --------
 Von: "Radiance general discussion" 
 An: "Radiance general discussion" 
 Betreff: Re: [Radiance-general] glaze script limitation
 Datum: 15/12/10 13:15
 
 Hi all!
 
 > The trouble is one of combinatorics.  Unless we incorporate a
 > database containing all the possible front and back coating
 > combinations, or a model like Optics has for computing the combined
 > effect, we can&#39;t produce the correct output.  What we really need is
 > a more general glazing modeler that can account for every possible
 > configuration and produces a reliable Radiance material.  Maybe
 > Window6 will provide this at some point, but we aren&#39;t there, yet.
 
 A related question... is anyone aware of tools compareable to Optics and 
 Window that follow a more open approach of software? I have to boot into 
 a Windows installation (and Windows does not easily boot in virtual 
 machines any more since Vista) each time I want to start one of these 
 tools, which even require administrator rights to install on a Windows 
 machine. Unfortunately it looks as no attempt had been made at all 
 during development to separate the database, calculation and 
 GUI/controller code, so I do not expect these tools to become more open 
 or platform independent. So did you ever come accross any development in 
 these fields?
 
 Cheers, Lars.
 
 
  
 
  
 _______________________________________________
 Radiance-general mailing list
 Radiance-general at radiance-online.org
(mailto:Radiance-general at radiance-online.org" class="autolink)
 http://www.radiance-online.org/mailman/listinfo/radiance-general
(http://www.radiance-online.org/mailman/listinfo/radiance-general"
target="_blank" class="autolink)
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/b48e4c04/attachment.html>

From jedev at visarc.com  Wed Dec 15 08:59:35 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Wed, 15 Dec 2010 11:59:35 -0500
Subject: [Radiance-general] glaze script limitation
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>
Message-ID: <4D08F3F7.3060804@visarc.com>

Hi Francois,

As Greg pointed out, using different clear glass specifications for each 
layer would really complicate things. Note the "clear" glass 
specification is really to establish a default reflectance and 
transmittance for the uncoated faced in the system. Color, Rf, Rb and 
Transmittance are derived from the other specifications (eg for SunGuard 
Ag 43 or SunGuard SN 62) in this case. Have you tried defining a 
material based on the exported data from Optics?

Here is what I did:

Export individually from Optics:

SGAG43Y6.grd (3156)
SGSN62C6.grd (3116)
Clear_60.GRD (3016)

Then get photopic T, Rf and Rb for reference from Optics 5 for the whole 
IGU:

    Rf = .178
    Rb = .107
    T = .228

Note that the script (optics2glazedb) is very strict on formatting. So 
the naming in Clear_60.rad:

    Clear_60_glass
    Clear_60_front
    Clear_60_back

needs to have the first "_" removed to result in:

    Clear60_glass
    Clear60_front
    Clear60_back

I suppose this could easily enough be fixed with a call to awk or perl 
to fix this type of thing on the fly.

Now with Clear_60 fixed do:

    optics2glazedb Clear_60.rad SGAG43Y6.rad SGSN62C6.rad > francois.db

Now run glaze:

    glaze -f francois.db

    build a 2 pane system as follows:

       1. Clear60
       2. SGAG43Y6
       3. SGSN62C6
       4. Clear60

This results in the following definition:

    ############################################
    # Glazing produced by Radiance glaze script
    # $Revision: 2.8 $
    # Loaded: francois.db
    # Wed Dec 15 11:14:23 EST 2010
    # Material surface normal points to interior
    # Number of panes in system: 2
    # Exterior surface s1 type: Clear60
    # Inner surface s2 type: SGAG43Y6
    # Inner surface s3 type: SGSN62C6
    # Interior surface s4 type: Clear60
    # Exterior normal hemispherical reflectance: 0.177978104
    # Interior normal hemispherical reflectance: 0.108662425
    # Normal hemispherical transmittance: 0.225458181
    #
    void BRTDfunc francois
    10
    if(Rdot,cr(fr(0.052),ft(0.664),fr(0.083)),cr(fr(0.145),ft(0.295),fr(0.036)))
    if(Rdot,cr(fr(0.076),ft(0.708),fr(0.067)),cr(fr(0.177),ft(0.339),fr(0.076)))
    if(Rdot,cr(fr(0.11),ft(0.604),fr(0.162)),cr(fr(0.211),ft(0.333),fr(0.113)))
    ft(0.664)*ft(0.295)
    ft(0.708)*ft(0.339)
    ft(0.604)*ft(0.333)
         0 0 0
         glaze2.cal
    0
    9
         0 0 0
         0 0 0
         0 0 0

Although I am not sure what kind of rounding error is acceptable in this 
case, the hemispherical front/back reflectances and transmittance seem 
to be well in the ballpark. If you want to go further you can look at 
color, reflectance, and transmittance with a simple scene using a glow 
source with unit radiance (eg 1 1 1). Doing this yields measures  as 
follows:

    Rf = .181
    Rb = .109
    T = .227

So here is what we get in summary:


	Optics Calculated
	Radiance Glaze Calculated
	Radiance Rpict Measured
Rf
	.178
	.178
	.181
Rb
	.107
	.109
	.109
T
	.228
	.225
	.227


A further piece of information that might be interesting is to obtain 
the manufacturers calculated photopic Rf, Rb, and T for the system. I 
have noticed that there can be small discrepancies between performance 
data on sites and what Optics calculates.

I hope this helps.

Regards,

-Jack de Valpine

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 12/14/2010 5:47 PM, Fran?ois Cantin wrote:
>
> Hi everyone,
>
> I would like to model a double glazing system like the following:
>
> first pane
>
> surface 1: Crystal gray (Optics database number:  3056)
>
> surface 2: Crystal gray with a SunGuard Ag 43 coating (Optics: 3156)
>
> second pane
>
> surface 3: Clear glass with a SunGuard SuperNeutral (SN) 62 coating 
> (Optics: 3116)
>
> surface 4: Clear glass (Optics: 3016)
>
> Using the Optics2glazedb script provided by Jack de Valpine, I'm able 
> to create a custom database which contain all of the above 
> surfaces/layers and can be read by the Glaze script.
>
> However, the Glaze script, used to combine the surfaces and generate a 
> usable material definition, force the user to select at least one 
> clear glass to compose each pane (surface 1 or 2 must be clear AND 
> surface 3 or 4 must be clear). Moreover, the clear glass must be the 
> same for both panes and must be the first one on the list provided 
> when running the Glaze script.
>
> My question is:
>
> If I bypass the ''if structures'' constraining the composition of the 
> panes in order to allow the selection of two different uncoated glass, 
> can I expect  the output to be still valid ?
>
> /.../
>
> /#if ($s1t != 1 && $s2t != 1) then/
>
> /                #echo "One surface of each pane must be $sn_arr[1]"/
>
> ///#exit 1/
>
> /#endif/
>
> /.../
>
> //
>
> //
>
> /.../
>
> /#if ($s3t != 1 && $s4t != 1) then/
>
> /                #echo "One surface of each pane must be $sn_arr[1]"/
>
> ///#exit 1/
>
> /#endif/
>
> /.../
>
> Without such bypass, generating a glazing system like the one 
> described above seems impossible.
>
> Thanks in advance for your help,
>
> _____________________________________________________________
>
> *Fran?ois Cantin, M Arch, MSc Arch
> *
> *Hudon Julien* associes,
>
> 1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
> T?l: (418) 653-8484 #224, Fax:(418) 653-6189
> E-mail: fcantin at hudonjulien.com <mailto:fcantin at hudonjulien.com>
> Site web: www.hudonjulien.com <http://www.hudonjulien.com/>
>
> *P**Avant d'imprimer, pensez ? l'environnement*
>
> /Ce message ?lectronique et tous les fichiers attach?s qu'il contient 
> sont confidentiels et destin?s exclusivement ? l'usage de la personne 
> ? laquelle ils sont adress?s. Si vous avez re?u ce message par erreur, 
> merci de le retourner ? son ?metteur. La publication, l'usage, la 
> distribution, l'impression ou la copie non autoris?e de ce message et 
> des attachements qu'il contient sont strictement interdits.
>
> //This e-mail and any files transmitted with it are confidential and 
> intended solely for the use of the individual to whom it is addressed. 
> If you have received this email in error please send it back to the 
> person that sent it to you. Unauthorized publication, use, 
> dissemination, forwarding, printing or copying of this email and its 
> associated attachments is strictly prohibited./
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/0c8c58a5/attachment-0001.html>

From tbleicher at googlemail.com  Wed Dec 15 09:16:42 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed, 15 Dec 2010 12:16:42 -0500
Subject: [Radiance-general] about wxfalsecolor problem
In-Reply-To: <5D66801C-3E91-4923-BA7D-5C24AB187692@lmi.net>
References: <AANLkTinpbjekH0NQ35mbsduOHKwxT6MAe563fiOCmSXC@mail.gmail.com>
	<AANLkTi=bbUufw6ysbyThiCxaTozPasv=Rvd10ofHS-qo@mail.gmail.com>
	<221FB49D-83A6-47AA-9398-3CEB8FEAAAE1@lmi.net>
	<AANLkTikVGh2FdyuTQ3tT_Q59vvq=PVMc1dEJO5E4aB30@mail.gmail.com>
	<5D66801C-3E91-4923-BA7D-5C24AB187692@lmi.net>
Message-ID: <AANLkTinjjRgF8oO+i-Dwm53pKm7STXTv6ArmvJy=xqra@mail.gmail.com>

Mehmedalp

Since we're a bit out of ideas here could you post the output of the getinfo
command for both pictures. That might help us understand what happened to
the images.

After reading your initial email again I found one other possible reason:

wxfalsecolor ignores pixels with red value of 0. Due to the limitations of
the RGBE image format a value of 0 in one channel means a black pixel. In
real live black pixels do not exist and are therefore ignored when an
average is calculated. This was done to allow a rectangular selection over a
masked image area without the mask contributing to the average.

You can see if a pixel contributes by moving the mouse over the image after
you have loaded the data (happens automatically for small images). If you
see an r,g,b value next to pixel position in the status bar the pixel does
count. If it's a black pixel it will show only the position.

So if your averaged area contains black regions these regions will be
ignored by wxfalsecolor but will count as 0 in ximage or Photosphere. This
might account for wxfalsecolor reporting a larger value than Photosphere.


I really should document these things someday ...

Regards,
Thomas



On Mon, Dec 13, 2010 at 2:56 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Thomas,
>
> The -o option should give you original values, provided as you say
> something hasn't happened in between to lose the calibration.  I'm just
> throwing out guesses.  I have no idea why the results would disagree,
> otherwise.
>
> Cheers,
> -Greg
>
> > From: Thomas Bleicher <tbleicher at googlemail.com>
> > Date: December 13, 2010 11:14:16 AM PST
> >
> > Hi Greg.
> >
> > On Mon, Dec 13, 2010 at 12:19 PM, Greg Ward <gregoryjward at gmail.com>
> wrote:
> > I am not familiar with wxfalsecolor.  Is it possible that it is not
> taking into account the EXPOSURE setting in the header?
> >
> > As I wrote, I just use "pvalue -o ..." to get the values from the image.
> > It works fine with rendered images and test images I have created
> > with pcomb. I have never used it on HDR images, though.
> >
> > I wanted to include a feature that checks the header information
> > and warns if the images does not contain useable luminance values
> > (after pcond has been used for example). I'm not sure if I understand
> > these limitations myself correctly so I rely on the user to provide
> > appropriate images.
> >
> > Regards,
> > Thomas
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/4431556e/attachment.html>

From gregoryjward at gmail.com  Wed Dec 15 09:30:57 2010
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed, 15 Dec 2010 09:30:57 -0800
Subject: [Radiance-general] Compiling rad4Rall on W7 64 bit Cygwin
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C091DDD8F2B@AD-MAILBOX01.aau.dk>
References: <4D07A29F0200004900013F08@mail.wmtao.com>
	<4D07A97E0200004900013F0C@mail.wmtao.com>
	<4D07A97E0200004900013F0C@mail.wmtao.com>
	<E35477F1A321144D897D44CCAAFF202C091DDD8F2B@AD-MAILBOX01.aau.dk>
Message-ID: <903B4D35-3A39-4789-B078-EA35C2AB7AAB@gmail.com>

I changed the code in the head to use a different identifier -- since this is just a local type for persist.c, there's no reason for it to conflict with a system-defined type.

Cheers,
-Greg

> From: Claus Br?ndgaard Madsen <cbm at create.aau.dk>
> Date: December 14, 2010 11:41:00 PM PST
> 
> Hi Mark,
> 
> I ?resolved? the sighandler issue by applying the fix I found at:
> 
> http://www.radiance-online.org/pipermail/radiance-dev/2006-February/000676.html
> 
> Quoting:
> 
> I came across this problem when compiling Radiance under Interix.  I
> resolved it by commenting out these three lines near the top of the file
> persist.c:
>  
> typedef void (sighandler_t)(int);
> static sighandler_t sig_io;
> static sighandler_t sig_alrm;
>  
> I should warn you that I didn't look into the problem too deeply, so
> that may or may not be the best solution!
>  
> 
> Doing exactly ?as I was told? I arrived at error free compilation, and I have had no problems running RADIANCE programs since.
> 
>  
> 
> Best,
> 
> Claus
> 
>  
> ------------
> From: Mark de la Fuente [mailto:MdelaFuente at wmtao.com] 
> Sent: 15. december 2010 00:30
> To: Radiance
>  
> 
> Radiance group,
>  
> I tried to compile rad4Rall on a Windows 7 64 Bit Cygwin system. After making this change to ezxml.h: http://luminance.londonmet.ac.uk/radiance_mailinglists/general/2010-October/007397.html it compiled but with errors.
>  
> The first error I could find was:
>  
> persist.c:42: error: conflicting types for ?sighandler_t?
> /usr/include/signal.h:11: error: previous declaration of ?sighandler_t? was here
> make: *** [persist.o] Error 1
>  
> Same as Claus had here http://luminance.londonmet.ac.uk/radiance_mailinglists/general/2010-October/007402.html
>  
> Was there ever a resolution?
>  
> As a fix, would it be reasonable to merge a full set of Cygwin Radiance 3R7 bin and lib files with a partial set of 4.0 files, and just keep the 4.0 files where duplicates occur? Looks like the non-duplicates were lookamb, rpict, rtrace, rview, and rvu. Also, rayinit.cal and glazing.cal were not in the lib directory. Although, these are some pretty major files not to have compile, I just ran oconv and rpict on an old project and it seemed to work fine.
>  
> Thanks for any help.
>  
> Mark de la Fuente


From jelleferinga at gmail.com  Wed Dec 15 09:28:32 2010
From: jelleferinga at gmail.com (jelle)
Date: Wed, 15 Dec 2010 17:28:32 +0000 (UTC)
Subject: [Radiance-general] probing a radiance image, convert radiance to XYZ
Message-ID: <loom.20101215T182351-709@post.gmane.org>

Hi,

I'd like to probe a radiance image using ximage -ov, but rather than read it's
 radiance value, I'd like to know its XYZ color values. 
I'm sure I should be doing something like:
"ximage -ov data/Desk.hdr | rcalc -f xyz_rgb.cal"
 but my radiance is a little rusty it seems...

Many thanks in advance,

-jelle




From runabha at gmail.com  Wed Dec 15 09:48:50 2010
From: runabha at gmail.com (Arunabha Sau)
Date: Wed, 15 Dec 2010 09:48:50 -0800
Subject: [Radiance-general] Radiance-general Digest, Vol 82, Issue 14
In-Reply-To: <mailman.24.1292432398.1065.radiance-general@radiance-online.org>
References: <mailman.24.1292432398.1065.radiance-general@radiance-online.org>
Message-ID: <AANLkTimm+tmsxvbuZz3pEps+C=pf688jW_Y9w59eC_Gf@mail.gmail.com>

Howdy all!


Did anybody happen to try COMFEN (
http://windows.lbl.gov/software/comfen/comfen.html)?
It's a simulation program for only windows and lighting. I just saw it and
wanted to use it.
If anybody can put some good/bad words for this program, that would be
awesome.


Thanks!
Aru


On Wed, Dec 15, 2010 at 8:59 AM, <
radiance-general-request at radiance-online.org> wrote:

> Send Radiance-general mailing list submissions to
>        radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>        radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>        radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>   1. Re: glaze script limitation (Lars O. Grobe)
>   2. Re: glaze script limitation (Achim.geissler)
>   3. Re: glaze script limitation (Jack de Valpine)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Wed, 15 Dec 2010 12:42:49 +0100
> From: "Lars O. Grobe" <grobe at gmx.net>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] glaze script limitation
> Message-ID: <4D08A9B9.70906 at gmx.net>
> Content-Type: text/plain; charset="iso-8859-1"; Format="flowed"
>
> Hi all!
>
> > The trouble is one of combinatorics.  Unless we incorporate a
> > database containing all the possible front and back coating
> > combinations, or a model like Optics has for computing the combined
> > effect, we can't produce the correct output.  What we really need is
> > a more general glazing modeler that can account for every possible
> > configuration and produces a reliable Radiance material.  Maybe
> > Window6 will provide this at some point, but we aren't there, yet.
>
> A related question... is anyone aware of tools compareable to Optics and
> Window that follow a more open approach of software? I have to boot into
> a Windows installation (and Windows does not easily boot in virtual
> machines any more since Vista) each time I want to start one of these
> tools, which even require administrator rights to install on a Windows
> machine. Unfortunately it looks as no attempt had been made at all
> during development to separate the database, calculation and
> GUI/controller code, so I do not expect these tools to become more open
> or platform independent. So did you ever come accross any development in
> these fields?
>
> Cheers, Lars.
>
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: smime.p7s
> Type: application/pkcs7-signature
> Size: 3740 bytes
> Desc: S/MIME Cryptographic Signature
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/a218a221/attachment-0001.bin
> >
>
> ------------------------------
>
> Message: 2
> Date: Wed, 15 Dec 2010 15:43:18 +0100
> From: "Achim.geissler" <achim.geissler at intergga.ch>
> To: Radiancegeneraldiscussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] glaze script limitation
> Message-ID: <bf03e22597ff415837d397a0ccefcdee at 212.203.77.242>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Dear Lars
>
> one tool that may possibly be a bit more open is WIS. In any case, off and
> on there is an error message from a "solver". However, I have no idea if
> the
> code would be accessible. WIS originated from a european project and so the
> code may be available to people affiliated to european research institutes.
>
> Best
> Achim
>
>
>
> --------- Original-Nachricht --------
>  Von: "Radiance general discussion"
>  An: "Radiance general discussion"
>  Betreff: Re: [Radiance-general] glaze script limitation
>  Datum: 15/12/10 13:15
>
>  Hi all!
>
>  > The trouble is one of combinatorics.  Unless we incorporate a
>  > database containing all the possible front and back coating
>  > combinations, or a model like Optics has for computing the combined
>  > effect, we can&#39;t produce the correct output.  What we really need is
>  > a more general glazing modeler that can account for every possible
>  > configuration and produces a reliable Radiance material.  Maybe
>  > Window6 will provide this at some point, but we aren&#39;t there, yet.
>
>  A related question... is anyone aware of tools compareable to Optics and
>  Window that follow a more open approach of software? I have to boot into
>  a Windows installation (and Windows does not easily boot in virtual
>  machines any more since Vista) each time I want to start one of these
>  tools, which even require administrator rights to install on a Windows
>  machine. Unfortunately it looks as no attempt had been made at all
>  during development to separate the database, calculation and
>  GUI/controller code, so I do not expect these tools to become more open
>  or platform independent. So did you ever come accross any development in
>  these fields?
>
>  Cheers, Lars.
>
>
>
>
>
>  _______________________________________________
>  Radiance-general mailing list
>  Radiance-general at radiance-online.org
> (mailto:Radiance-general at radiance-online.org" class="autolink)
>  http://www.radiance-online.org/mailman/listinfo/radiance-general
> (http://www.radiance-online.org/mailman/listinfo/radiance-general"
> target="_blank" class="autolink)
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/b48e4c04/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 3
> Date: Wed, 15 Dec 2010 11:59:35 -0500
> From: Jack de Valpine <jedev at visarc.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] glaze script limitation
> Message-ID: <4D08F3F7.3060804 at visarc.com>
> Content-Type: text/plain; charset="iso-8859-1"; Format="flowed"
>
> Hi Francois,
>
> As Greg pointed out, using different clear glass specifications for each
> layer would really complicate things. Note the "clear" glass
> specification is really to establish a default reflectance and
> transmittance for the uncoated faced in the system. Color, Rf, Rb and
> Transmittance are derived from the other specifications (eg for SunGuard
> Ag 43 or SunGuard SN 62) in this case. Have you tried defining a
> material based on the exported data from Optics?
>
> Here is what I did:
>
> Export individually from Optics:
>
> SGAG43Y6.grd (3156)
> SGSN62C6.grd (3116)
> Clear_60.GRD (3016)
>
> Then get photopic T, Rf and Rb for reference from Optics 5 for the whole
> IGU:
>
>    Rf = .178
>    Rb = .107
>    T = .228
>
> Note that the script (optics2glazedb) is very strict on formatting. So
> the naming in Clear_60.rad:
>
>    Clear_60_glass
>    Clear_60_front
>    Clear_60_back
>
> needs to have the first "_" removed to result in:
>
>    Clear60_glass
>    Clear60_front
>    Clear60_back
>
> I suppose this could easily enough be fixed with a call to awk or perl
> to fix this type of thing on the fly.
>
> Now with Clear_60 fixed do:
>
>    optics2glazedb Clear_60.rad SGAG43Y6.rad SGSN62C6.rad > francois.db
>
> Now run glaze:
>
>    glaze -f francois.db
>
>    build a 2 pane system as follows:
>
>       1. Clear60
>       2. SGAG43Y6
>       3. SGSN62C6
>       4. Clear60
>
> This results in the following definition:
>
>    ############################################
>    # Glazing produced by Radiance glaze script
>    # $Revision: 2.8 $
>    # Loaded: francois.db
>    # Wed Dec 15 11:14:23 EST 2010
>    # Material surface normal points to interior
>    # Number of panes in system: 2
>    # Exterior surface s1 type: Clear60
>    # Inner surface s2 type: SGAG43Y6
>    # Inner surface s3 type: SGSN62C6
>    # Interior surface s4 type: Clear60
>    # Exterior normal hemispherical reflectance: 0.177978104
>    # Interior normal hemispherical reflectance: 0.108662425
>    # Normal hemispherical transmittance: 0.225458181
>    #
>    void BRTDfunc francois
>    10
>
>  if(Rdot,cr(fr(0.052),ft(0.664),fr(0.083)),cr(fr(0.145),ft(0.295),fr(0.036)))
>
>  if(Rdot,cr(fr(0.076),ft(0.708),fr(0.067)),cr(fr(0.177),ft(0.339),fr(0.076)))
>
>  if(Rdot,cr(fr(0.11),ft(0.604),fr(0.162)),cr(fr(0.211),ft(0.333),fr(0.113)))
>    ft(0.664)*ft(0.295)
>    ft(0.708)*ft(0.339)
>    ft(0.604)*ft(0.333)
>         0 0 0
>         glaze2.cal
>    0
>    9
>         0 0 0
>         0 0 0
>         0 0 0
>
> Although I am not sure what kind of rounding error is acceptable in this
> case, the hemispherical front/back reflectances and transmittance seem
> to be well in the ballpark. If you want to go further you can look at
> color, reflectance, and transmittance with a simple scene using a glow
> source with unit radiance (eg 1 1 1). Doing this yields measures  as
> follows:
>
>    Rf = .181
>    Rb = .109
>    T = .227
>
> So here is what we get in summary:
>
>
>        Optics Calculated
>        Radiance Glaze Calculated
>        Radiance Rpict Measured
> Rf
>        .178
>        .178
>        .181
> Rb
>        .107
>        .109
>        .109
> T
>        .228
>        .225
>        .227
>
>
> A further piece of information that might be interesting is to obtain
> the manufacturers calculated photopic Rf, Rb, and T for the system. I
> have noticed that there can be small discrepancies between performance
> data on sites and what Optics calculates.
>
> I hope this helps.
>
> Regards,
>
> -Jack de Valpine
>
> --
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> # http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
>
> On 12/14/2010 5:47 PM, Fran?ois Cantin wrote:
> >
> > Hi everyone,
> >
> > I would like to model a double glazing system like the following:
> >
> > first pane
> >
> > surface 1: Crystal gray (Optics database number:  3056)
> >
> > surface 2: Crystal gray with a SunGuard Ag 43 coating (Optics: 3156)
> >
> > second pane
> >
> > surface 3: Clear glass with a SunGuard SuperNeutral (SN) 62 coating
> > (Optics: 3116)
> >
> > surface 4: Clear glass (Optics: 3016)
> >
> > Using the Optics2glazedb script provided by Jack de Valpine, I'm able
> > to create a custom database which contain all of the above
> > surfaces/layers and can be read by the Glaze script.
> >
> > However, the Glaze script, used to combine the surfaces and generate a
> > usable material definition, force the user to select at least one
> > clear glass to compose each pane (surface 1 or 2 must be clear AND
> > surface 3 or 4 must be clear). Moreover, the clear glass must be the
> > same for both panes and must be the first one on the list provided
> > when running the Glaze script.
> >
> > My question is:
> >
> > If I bypass the ''if structures'' constraining the composition of the
> > panes in order to allow the selection of two different uncoated glass,
> > can I expect  the output to be still valid ?
> >
> > /.../
> >
> > /#if ($s1t != 1 && $s2t != 1) then/
> >
> > /                #echo "One surface of each pane must be $sn_arr[1]"/
> >
> > ///#exit 1/
> >
> > /#endif/
> >
> > /.../
> >
> > //
> >
> > //
> >
> > /.../
> >
> > /#if ($s3t != 1 && $s4t != 1) then/
> >
> > /                #echo "One surface of each pane must be $sn_arr[1]"/
> >
> > ///#exit 1/
> >
> > /#endif/
> >
> > /.../
> >
> > Without such bypass, generating a glazing system like the one
> > described above seems impossible.
> >
> > Thanks in advance for your help,
> >
> > _____________________________________________________________
> >
> > *Fran?ois Cantin, M Arch, MSc Arch
> > *
> > *Hudon Julien* associes,
> >
> > 1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
> > T?l: (418) 653-8484 #224, Fax:(418) 653-6189
> > E-mail: fcantin at hudonjulien.com <mailto:fcantin at hudonjulien.com>
> > Site web: www.hudonjulien.com <http://www.hudonjulien.com/>
> >
> > *P**Avant d'imprimer, pensez ? l'environnement*
> >
> > /Ce message ?lectronique et tous les fichiers attach?s qu'il contient
> > sont confidentiels et destin?s exclusivement ? l'usage de la personne
> > ? laquelle ils sont adress?s. Si vous avez re?u ce message par erreur,
> > merci de le retourner ? son ?metteur. La publication, l'usage, la
> > distribution, l'impression ou la copie non autoris?e de ce message et
> > des attachements qu'il contient sont strictement interdits.
> >
> > //This e-mail and any files transmitted with it are confidential and
> > intended solely for the use of the individual to whom it is addressed.
> > If you have received this email in error please send it back to the
> > person that sent it to you. Unauthorized publication, use,
> > dissemination, forwarding, printing or copying of this email and its
> > associated attachments is strictly prohibited./
> >
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/0c8c58a5/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 82, Issue 14
> ************************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/af7c4b57/attachment-0001.html>

From jedev at visarc.com  Wed Dec 15 09:53:22 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Wed, 15 Dec 2010 12:53:22 -0500
Subject: [Radiance-general] probing a radiance image,
 convert radiance to XYZ
In-Reply-To: <loom.20101215T182351-709@post.gmane.org>
References: <loom.20101215T182351-709@post.gmane.org>
Message-ID: <4D090092.40403@visarc.com>

Hi Jelle,

Try the following:

    ximage -ov [fname.pic] | rcalc -f xyz_rgb.cal -e
    '$1=X($1,$2,$3);$2=Y($1,$2,$3);$3=Z($1,$2,$3);'

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 12/15/2010 12:28 PM, jelle wrote:
> Hi,
>
> I'd like to probe a radiance image using ximage -ov, but rather than read it's
>   radiance value, I'd like to know its XYZ color values.
> I'm sure I should be doing something like:
> "ximage -ov data/Desk.hdr | rcalc -f xyz_rgb.cal"
>   but my radiance is a little rusty it seems...
>
> Many thanks in advance,
>
> -jelle
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/4f397f6b/attachment.html>

From gregoryjward at gmail.com  Wed Dec 15 10:04:38 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 15 Dec 2010 10:04:38 -0800
Subject: [Radiance-general] probing a radiance image,
	convert radiance to XYZ
In-Reply-To: <loom.20101215T182351-709@post.gmane.org>
References: <loom.20101215T182351-709@post.gmane.org>
Message-ID: <14EE4CC7-1D33-46F6-87C5-F47582D52A26@lmi.net>

Hi Jelle,

You're very close.  Here's the command:

	ximage -ov ata/Desk.hdr | rcalc -f xyz_rgb.cal -e '$1=179*X($1,$2,$3);$2=179*Y($1,$2,$3);$3=179*Z($1,$2,$3)'

The factor of 179 takes you into standard units of candelas/meter^2 for the Y channel.

Cheers,
-Greg

> From: jelle <jelleferinga at gmail.com>
> Date: December 15, 2010 9:28:32 AM PST
> 
> Hi,
> 
> I'd like to probe a radiance image using ximage -ov, but rather than read it's
> radiance value, I'd like to know its XYZ color values. 
> I'm sure I should be doing something like:
> "ximage -ov data/Desk.hdr | rcalc -f xyz_rgb.cal"
> but my radiance is a little rusty it seems...
> 
> Many thanks in advance,
> 
> -jelle


From jedev at visarc.com  Wed Dec 15 11:36:44 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Wed, 15 Dec 2010 14:36:44 -0500
Subject: [Radiance-general] probing a radiance image,
 convert radiance to XYZ
In-Reply-To: <4D090092.40403@visarc.com>
References: <loom.20101215T182351-709@post.gmane.org>
	<4D090092.40403@visarc.com>
Message-ID: <4D0918CC.5080608@visarc.com>

Ack, almost had it! See Greg's reply for the corrected version.

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 12/15/2010 12:53 PM, Jack de Valpine wrote:
> Hi Jelle,
>
> Try the following:
>
>     ximage -ov [fname.pic] | rcalc -f xyz_rgb.cal -e
>     '$1=X($1,$2,$3);$2=Y($1,$2,$3);$3=Z($1,$2,$3);'
>
> -Jack
> -- 
> # Jack de Valpine
> # president
> #
> # visarc incorporated
> #http://www.visarc.com
> #
> # channeling technology for superior design and construction
>
> On 12/15/2010 12:28 PM, jelle wrote:
>> Hi,
>>
>> I'd like to probe a radiance image using ximage -ov, but rather than read it's
>>   radiance value, I'd like to know its XYZ color values.
>> I'm sure I should be doing something like:
>> "ximage -ov data/Desk.hdr | rcalc -f xyz_rgb.cal"
>>   but my radiance is a little rusty it seems...
>>
>> Many thanks in advance,
>>
>> -jelle
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/ad3e9d7f/attachment.html>

From MdelaFuente at wmtao.com  Wed Dec 15 11:38:33 2010
From: MdelaFuente at wmtao.com (Mark de la Fuente)
Date: Wed, 15 Dec 2010 13:38:33 -0600
Subject: [Radiance-general] Compiling rad4Rall on W7 64 bit Cygwin
In-Reply-To: <mailman.22.1292398716.1065.radiance-general@radiance-online.org>
References: <mailman.22.1292398716.1065.radiance-general@radiance-online.org>
Message-ID: <4D08C4D90200004900013F21@mail.wmtao.com>

That did the trick. Thanks!
 
Mark


------------------------------

Date: Wed, 15 Dec 2010 08:41:00 +0100
From: Claus Br?ndgaard Madsen <cbm at create.aau.dk>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Compiling rad4Rall on W7 64 bit Cygwin
Message-ID:
<E35477F1A321144D897D44CCAAFF202C091DDD8F2B at AD-MAILBOX01.aau.dk>
Content-Type: text/plain; charset="utf-8"

Hi Mark,
I ?resolved? the sighandler issue by applying the fix I found at:
http://www.radiance-online.org/pipermail/radiance-dev/2006-February/000676.html
Quoting:
I came across this problem when compiling Radiance under Interix.  I
resolved it by commenting out these three lines near the top of the file
persist.c:

typedef void (sighandler_t)(int);
static sighandler_t sig_io;
static sighandler_t sig_alrm;

I should warn you that I didn't look into the problem too deeply, so
that may or may not be the best solution!

Doing exactly ?as I was told? I arrived at error free compilation, and I have had no problems running RADIANCE programs since.

Best,
Claus




[cid:image001.jpg at 01CB9C33.4B597490]

From: Mark de la Fuente [mailto:MdelaFuente at wmtao.com]
Sent: 15. december 2010 00:30
To: Radiance
Subject: [Radiance-general] Compiling rad4Rall on W7 64 bit Cygwin

Radiance group,

I tried to compile rad4Rall on a Windows 7 64 Bit Cygwin system. After making this change to ezxml.h: http://luminance.londonmet.ac.uk/radiance_mailinglists/general/2010-October/007397.html it compiled but with errors.

The first error I could find was:

persist.c:42: error: conflicting types for ?sighandler_t?
/usr/include/signal.h:11: error: previous declaration of ?sighandler_t? was here
make: *** [persist.o] Error 1

Same as Claus had here http://luminance.londonmet.ac.uk/radiance_mailinglists/general/2010-October/007402.html

Was there ever a resolution?

As a fix, would it be reasonable to merge a full set of Cygwin Radiance 3R7 bin and lib files with a partial set of 4.0 files, and just keep the 4.0 files where duplicates occur? Looks like the non-duplicates were lookamb, rpict, rtrace, rview, and rvu. Also, rayinit.cal and glazing.cal were not in the lib directory. Although, these are some pretty major files not to have compile, I just ran oconv and rpict on an old project and it seemed to work fine.

Thanks for any help.

Mark de la Fuente

________________________________

No virus found in this message.
Checked by AVG - www.avg.com<http://www.avg.com>
Version: 10.0.1170 / Virus Database: 426/3315 - Release Date: 12/14/10
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/c3e23a2e/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 12406 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/c3e23a2e/attachment.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Claus Br?ndgaard Madsen.vcf
Type: text/x-vcard
Size: 6218 bytes
Desc: Claus Br?ndgaard Madsen.vcf
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/c3e23a2e/attachment.vcf>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 82, Issue 13
************************************************

[{--Wm. Tao & Associates, Inc.--}] This message and content is privileged, intended only for recipients named and/or addressed.  If the receiver/reader is not a representative of the intended recipient, any review, forwarding, dissemination or copying of this message or its content, in part or in whole, is prohibited. If you have received this message in error, please notify the sender immediately by Reply email, and Delete the original message and attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101215/2ae4f7d4/attachment.html>

From jelleferinga at gmail.com  Wed Dec 15 12:07:33 2010
From: jelleferinga at gmail.com (Jelle Feringa)
Date: Wed, 15 Dec 2010 21:07:33 +0100
Subject: [Radiance-general] Radiance-general Digest, Vol 82, Issue 16
In-Reply-To: <mailman.1.1292443200.15014.radiance-general@radiance-online.org>
References: <mailman.1.1292443200.15014.radiance-general@radiance-online.org>
Message-ID: <C3E9F2EB-278D-4F84-A437-1331CBE821F2@gmail.com>

Greg, Jack,

The radiance list *rocks*!
Many thanks guys, really cool.

-jelle

On Dec 15, 2010, at 9:00 PM, radiance-general-request at radiance-online.org wrote:

> 	ximage -ov ata/Desk.hdr | rcalc -f xyz_rgb.cal -e '$1=179*X($1,$2,$3);$2=179*Y($1,$2,$3);$3=179*Z($1,$2,$3)'



From jelleferinga at gmail.com  Wed Dec 15 12:27:55 2010
From: jelleferinga at gmail.com (Jelle Feringa)
Date: Wed, 15 Dec 2010 21:27:55 +0100
Subject: [Radiance-general] Radiance-general Digest, Vol 82, Issue 16
In-Reply-To: <mailman.1.1292443200.15014.radiance-general@radiance-online.org>
References: <mailman.1.1292443200.15014.radiance-general@radiance-online.org>
Message-ID: <D9465112-60D1-49F4-AB74-C9C5F8AA115E@gmail.com>

> 	ximage -ov ata/Desk.hdr | rcalc -f xyz_rgb.cal -e '$1=179*X($1,$2,$3);$2=179*Y($1,$2,$3);$3=179*Z($1,$2,$3)'

What's so cool about this is that with ArgyllCMS & Color Munki ( a very precise spectral measuring device ) you can measure XYZ samples efficiently and with cheap off the shelf hardware.
ArgyllCMS ( open source ) just totally upgrades the terrible software Color Munki comes with. The hardware itself is very powerful.
I'm working on printing HDR data, so this lets me cross reference with the original radiance data. Yay.

-jelle



From gregoryjward at gmail.com  Wed Dec 15 12:43:12 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 15 Dec 2010 12:43:12 -0800
Subject: [Radiance-general] Radiance-general Digest, Vol 82, Issue 16
In-Reply-To: <D9465112-60D1-49F4-AB74-C9C5F8AA115E@gmail.com>
References: <mailman.1.1292443200.15014.radiance-general@radiance-online.org>
	<D9465112-60D1-49F4-AB74-C9C5F8AA115E@gmail.com>
Message-ID: <9CC32BB0-826A-428F-BBF7-EBB63F7DF542@lmi.net>

Hi Jelle,

If you are using another system with different RGB primaries than Radiance, you should make sure you are using those in your conversion.  This probably means you want to alter your command a bit:

	ximage -ov input.hdr | rcalc -f xyz_rgb.cal -e 'CIE_pri(i)=CIE_709(i)' -e '$1=179*X($1,$2,$3);$2=179*Y($1,$2,$3);$3=179*Z($1,$2,$3)'

There are a few different primaries to choose from in xyz_rgb.cal -- the default ones are the Radiance primaries, which differ slightly from the CCIR-709 (sRGB) primaries I've specified above.  You can also enter your own primaries if you know them.  Just follow the example in the xyz_rgb.cal file.

Cheers,
-Greg

> From: Jelle Feringa <jelleferinga at gmail.com>
> Date: December 15, 2010 12:27:55 PM PST
> 
>> 	ximage -ov ata/Desk.hdr | rcalc -f xyz_rgb.cal -e '$1=179*X($1,$2,$3);$2=179*Y($1,$2,$3);$3=179*Z($1,$2,$3)'
> 
> What's so cool about this is that with ArgyllCMS & Color Munki ( a very precise spectral measuring device ) you can measure XYZ samples efficiently and with cheap off the shelf hardware.
> ArgyllCMS ( open source ) just totally upgrades the terrible software Color Munki comes with. The hardware itself is very powerful.
> I'm working on printing HDR data, so this lets me cross reference with the original radiance data. Yay.
> 
> -jelle


From FCantin at hudonjulien.com  Thu Dec 16 07:40:06 2010
From: FCantin at hudonjulien.com (=?iso-8859-1?Q?Fran=E7ois_Cantin?=)
Date: Thu, 16 Dec 2010 10:40:06 -0500
Subject: [Radiance-general] glaze script limitation
In-Reply-To: <F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>
References: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>
	<F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>
Message-ID: <F26BAA4A842DD94083472A0D31EBBB992747C6D0D7@SRVHJA02.hja.local>

Jack, Greg,

Many thanks for your help with the scripts.

Your countless hours of devotion to the Radiance community and your advices are more than appreciated...... !!!!!!!!!!!!!


Fran?ois




-----Original Message-----
From: Greg Ward [mailto:gregoryjward at gmail.com] 
Sent: Tuesday, December 14, 2010 7:08 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] glaze script limitation

Hi Fran?ois,

Unfortunately, there is no easy way to change the way the glaze script works regarding its requirement that one surface be uncoated glass.

The trouble is one of combinatorics.  Unless we incorporate a database containing all the possible front and back coating combinations, or a model like Optics has for computing the combined effect, we can't produce the correct output.  What we really need is a more general glazing modeler that can account for every possible configuration and produces a reliable Radiance material.  Maybe Window6 will provide this at some point, but we aren't there, yet.

As you suggest, it would be nice to have at least the ability to give a single-pane glazing as part of a dual-paned system as something precomputed by Optics, but I don't think you can just substitute values in the database and get it to work.  You'd have to reprogram the script a bit, and that's not a very inviting prospect....

-Greg

> From: Fran?ois Cantin <FCantin at hudonjulien.com>
> Date: December 14, 2010 2:47:18 PM PST
> 
> Hi everyone,
> 
>  
> 
> I would like to model a double glazing system like the following:
> 
>  
> 
> first pane
> 
> surface 1: Crystal gray (Optics database number:  3056)
> 
> surface 2: Crystal gray with a SunGuard Ag 43 coating (Optics: 3156)
> 
>  
> 
> second pane
> 
> surface 3: Clear glass with a SunGuard SuperNeutral (SN) 62 coating (Optics: 3116)
> 
> surface 4: Clear glass (Optics: 3016)
> 
>  
> 
>  
> 
> Using the Optics2glazedb script provided by Jack de Valpine, I'm able to create a custom database which contain all of the above surfaces/layers and can be read by the Glaze script.
> 
>  
> 
> However, the Glaze script, used to combine the surfaces and generate a usable material definition, force the user to select at least one clear glass to compose each pane (surface 1 or 2 must be clear AND surface 3 or 4 must be clear). Moreover, the clear glass must be the same for both panes and must be the first one on the list provided when running the Glaze script.
> 
>  
> 
> My question is:
> 
> If I bypass the ''if structures'' constraining the composition of the panes in order to allow the selection of two different uncoated glass, can I expect  the output to be still valid ?
> 
>  
> 
> ...
> 
> #if ($s1t != 1 && $s2t != 1) then
> 
>                 #echo "One surface of each pane must be $sn_arr[1]"
> 
>                 #exit 1
> 
> #endif
> 
> ...
> 
>  
> 
>  
> 
> ...
> 
> #if ($s3t != 1 && $s4t != 1) then
> 
>                 #echo "One surface of each pane must be $sn_arr[1]"
> 
>                 #exit 1
> 
> #endif
> 
> ...
> 
>  
> 
>  
> 
> Without such bypass, generating a glazing system like the one described above seems impossible.
> 
>  
> 
>  
> 
> Thanks in advance for your help,
> 
>  
> 
>  
> 
> _____________________________________________________________
> 
> Fran?ois Cantin, M Arch, MSc Arch
>                                                   
> Hudon Julien associes, 
> 
> 1175 Lavigerie, suite 400, Ste-Foy(Qu?bec) G1V 4P1
> T?l: (418) 653-8484 #224, Fax:(418) 653-6189
> E-mail: fcantin at hudonjulien.com
> Site web: www.hudonjulien.com
> 
> P Avant d'imprimer, pensez ? l'environnement
> 
>  
> 
> Ce message ?lectronique et tous les fichiers attach?s qu'il contient sont confidentiels et destin?s exclusivement ? l'usage de la personne ? laquelle ils sont adress?s. Si vous avez re?u ce message par erreur, merci de le retourner ? son ?metteur. La publication, l'usage, la distribution, l'impression ou la copie non autoris?e de ce message et des attachements qu'il contient sont strictement interdits.
> 
> This e-mail and any files transmitted with it are confidential and intended solely for the use of the individual to whom it is addressed. If you have received this email in error please send it back to the person that sent it to you. Unauthorized publication, use, dissemination, forwarding, printing or copying of this email and its associated attachments is strictly prohibited.
> 
>  
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Thu Dec 16 08:01:12 2010
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu, 16 Dec 2010 08:01:12 -0800
Subject: [Radiance-general] glaze script limitation
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB992747C6D0D7@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>
	<F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>
	<F26BAA4A842DD94083472A0D31EBBB992747C6D0D7@SRVHJA02.hja.local>
Message-ID: <B52770AD-92BA-4DE5-8F5A-D9062FBBD8AC@gmail.com>

Hi Fran?ois,

I gave this a little more thought after letting the problem sink in, and I don't see now why you couldn't do as you suggested and add a glazing to the database that contains your desired properties.  You would have to "lie" and tell the script that one of your two surfaces was glass, then pick your new entry as the other surface, but the result should be accurate.  The glaze script actually ends up using the specified non-glass surface parameters in its calculations -- the glass surface is just there as a reference.

The other thing I said is still true -- namely, that we can't practically offer all the possible pairings of surface coatings because they would balloon the database, but if you don't mind adding your own, I don't see why you can't do it that way with the current script.  We probably should offer an option to enter custom transmittances and front & back reflectance values for advanced users, and this wouldn't be too difficult to add.  I wonder if we could take pasted output from Optics, directly?  I don't know if they have a format that gives us the naked data, but I suppose we could extract it from the Optics output for Radiance.

Best,
-Greg

> From: Fran?ois Cantin <FCantin at hudonjulien.com>
> Date: December 16, 2010 7:40:06 AM PST
> 
> Jack, Greg,
> 
> Many thanks for your help with the scripts.
> 
> Your countless hours of devotion to the Radiance community and your advices are more than appreciated...... !!!!!!!!!!!!!
> 
> 
> Fran?ois


From jedev at visarc.com  Thu Dec 16 08:17:52 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Thu, 16 Dec 2010 11:17:52 -0500
Subject: [Radiance-general] glaze script limitation
In-Reply-To: <B52770AD-92BA-4DE5-8F5A-D9062FBBD8AC@gmail.com>
References: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>	<F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>	<F26BAA4A842DD94083472A0D31EBBB992747C6D0D7@SRVHJA02.hja.local>
	<B52770AD-92BA-4DE5-8F5A-D9062FBBD8AC@gmail.com>
Message-ID: <4D0A3BB0.8080706@visarc.com>

Hi Greg and Francois,

Greg, would it work to just make sure that one surface of any layer is 
"uncoated" (eg where Rf ==  Rb perhaps withing some small error range) 
rather than "clear"? Thus allowing for different clear/uncoated glass to 
be used as surfaces on different layers?

-Jack

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction


On 12/16/2010 11:01 AM, Gregory J. Ward wrote:
> Hi Fran?ois,
>
> I gave this a little more thought after letting the problem sink in, and I don't see now why you couldn't do as you suggested and add a glazing to the database that contains your desired properties.  You would have to "lie" and tell the script that one of your two surfaces was glass, then pick your new entry as the other surface, but the result should be accurate.  The glaze script actually ends up using the specified non-glass surface parameters in its calculations -- the glass surface is just there as a reference.
>
> The other thing I said is still true -- namely, that we can't practically offer all the possible pairings of surface coatings because they would balloon the database, but if you don't mind adding your own, I don't see why you can't do it that way with the current script.  We probably should offer an option to enter custom transmittances and front&  back reflectance values for advanced users, and this wouldn't be too difficult to add.  I wonder if we could take pasted output from Optics, directly?  I don't know if they have a format that gives us the naked data, but I suppose we could extract it from the Optics output for Radiance.
>
> Best,
> -Greg
>
>> From: Fran?ois Cantin<FCantin at hudonjulien.com>
>> Date: December 16, 2010 7:40:06 AM PST
>>
>> Jack, Greg,
>>
>> Many thanks for your help with the scripts.
>>
>> Your countless hours of devotion to the Radiance community and your advices are more than appreciated...... !!!!!!!!!!!!!
>>
>>
>> Fran?ois
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Thu Dec 16 08:57:35 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 16 Dec 2010 08:57:35 -0800
Subject: [Radiance-general] glaze script limitation
In-Reply-To: <4D0A3BB0.8080706@visarc.com>
References: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>	<F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>	<F26BAA4A842DD94083472A0D31EBBB992747C6D0D7@SRVHJA02.hja.local>
	<B52770AD-92BA-4DE5-8F5A-D9062FBBD8AC@gmail.com>
	<4D0A3BB0.8080706@visarc.com>
Message-ID: <EEF3499B-F018-40DE-BE0D-0196311A70BF@lmi.net>

Hi Jack,

Would this really solve the problem?  Logically, it makes sense to allow the "clear" glass to be any uncoated glazing, but the way it's currently used in the script, it only serves as a reference point.  In fact, the first entry isn't used unless both surfaces of a pane are given as "clear".  The trouble, as I said, is that any coating on a different sort of glazing requires measurements of that _combination_.  I don't know how to compute the combined effect in the original example, below:

> I would like to model a double glazing system like the following:
>  
> first pane
> surface 1: Crystal gray (Optics database number:  3056)
> surface 2: Crystal gray with a SunGuard Ag 43 coating (Optics: 3156)

For this, we need to employ Optics or Window 6 or extract their simulation engine.  What I was suggesting instead is that we permit the user to enter the transmittance and reflectances from Optics for the desired pane, substituting this for the database values we would normally use.  It sort of breaks the current interaction model for the user interface, but it would allow a little more flexibility as a benefit.

Does this make sense?

-Greg

P.S.  We can take this conversation offline or move it to dev if you like -- I'm not sure if it's of general interest to others on the list.

---------------------------
> From: Jack de Valpine <jedev at visarc.com>
> Date: December 16, 2010 8:17:52 AM PST
> 
> Hi Greg and Francois,
> 
> Greg, would it work to just make sure that one surface of any layer is "uncoated" (eg where Rf ==  Rb perhaps withing some small error range) rather than "clear"? Thus allowing for different clear/uncoated glass to be used as surfaces on different layers?
> 
> -Jack
> 
> On 12/16/2010 11:01 AM, Gregory J. Ward wrote:
>> Hi Fran?ois,
>> 
>> I gave this a little more thought after letting the problem sink in, and I don't see now why you couldn't do as you suggested and add a glazing to the database that contains your desired properties.  You would have to "lie" and tell the script that one of your two surfaces was glass, then pick your new entry as the other surface, but the result should be accurate.  The glaze script actually ends up using the specified non-glass surface parameters in its calculations -- the glass surface is just there as a reference.
>> 
>> The other thing I said is still true -- namely, that we can't practically offer all the possible pairings of surface coatings because they would balloon the database, but if you don't mind adding your own, I don't see why you can't do it that way with the current script.  We probably should offer an option to enter custom transmittances and front&  back reflectance values for advanced users, and this wouldn't be too difficult to add.  I wonder if we could take pasted output from Optics, directly?  I don't know if they have a format that gives us the naked data, but I suppose we could extract it from the Optics output for Radiance.
>> 
>> Best,
>> -Greg


From hope.zh at gmail.com  Tue Dec 21 08:51:33 2010
From: hope.zh at gmail.com (Ji Zhang)
Date: Wed, 22 Dec 2010 00:51:33 +0800
Subject: [Radiance-general] gendaylit error
Message-ID: <AANLkTikYFf3SMD61vF1mnziOXxMxgqr9CPW1HRSeJJhz@mail.gmail.com>

Dear Radiance experts,

I got the following error message when trying to run "gendaylit 3 2 15.25 -a
42 -o 108 -m 110 -P 1 0.35" in windows command line:

"file coeff_perez.dat cannot be opened"
"lect_coeff_perez does not work"

I've checked that the "coeff_perez.dat" file is inside the C:\Radiance\lib
folder already.

Can you help to advize me the source of this problem and suggest a solution?


The Radiance I'm using is v.3.8 which is installed via installing
DIVAforRhino(version1.1f) from http://diva-for-rhino.com/download.html.

My system is Windows XP 32-bit home edition.

My system PATH is set as:
;C:\Daysim\bin_windows\;C:\Radiance\bin\;C:\DAYSIM

My system RAYPATH is set as:
;C:\Daysim\lib\;.C:\Radiance\lib\;.

Thanks!

Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101222/5bca422f/attachment.html>

From grobe at gmx.net  Tue Dec 21 09:34:37 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 21 Dec 2010 18:34:37 +0100
Subject: [Radiance-general] gendaylit error
In-Reply-To: <AANLkTikYFf3SMD61vF1mnziOXxMxgqr9CPW1HRSeJJhz@mail.gmail.com>
References: <AANLkTikYFf3SMD61vF1mnziOXxMxgqr9CPW1HRSeJJhz@mail.gmail.com>
Message-ID: <4D10E52D.5050504@gmx.net>

Hi,

I have no experience on Windows-based Radiance installations, but is the 
backslash really understood in the RAYPATH variable?

Cheers, Lars.

> My system RAYPATH is set as:
> ;C:\Daysim\lib\;.C:\Radiance\lib\;.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101221/6b5ee674/attachment.bin>

From reinhart at gsd.harvard.edu  Tue Dec 21 10:41:45 2010
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Tue, 21 Dec 2010 13:41:45 -0500
Subject: [Radiance-general] gendaylit error
In-Reply-To: <4D10E52D.5050504@gmx.net>
References: <AANLkTikYFf3SMD61vF1mnziOXxMxgqr9CPW1HRSeJJhz@mail.gmail.com>
	<4D10E52D.5050504@gmx.net>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF08484099@ENTWEXMB0000000.university.harvard.edu>

Dear Ji,

Windows understands backslashes. I just installed the latest version and
gendaylit worked for me. Did you install the latest Daysim and did you
restart your computer?

Christoph

-----Original Message-----
From: Lars O. Grobe [mailto:grobe at gmx.net] 
Sent: Tuesday, December 21, 2010 12:35 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] gendaylit error

Hi,

I have no experience on Windows-based Radiance installations, but is the
backslash really understood in the RAYPATH variable?

Cheers, Lars.

> My system RAYPATH is set as:
> ;C:\Daysim\lib\;.C:\Radiance\lib\;.



From RFritz at lbl.gov  Tue Dec 21 10:53:54 2010
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Tue, 21 Dec 2010 10:53:54 -0800
Subject: [Radiance-general] Anyone got a procedural texture for carpet?
Message-ID: <ieqt42$nqt$1@dough.gmane.org>

Something, perhaps, that I could roughly calibrate with a photometer?
-- 
Randolph M. Fritz ? RFritz at lbl.gov
Environmental Energy Technologies Division ? Lawrence Berkeley Labs




From grobe at gmx.net  Wed Dec 22 03:06:12 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 22 Dec 2010 12:06:12 +0100
Subject: [Radiance-general] glaze script limitation
In-Reply-To: <B52770AD-92BA-4DE5-8F5A-D9062FBBD8AC@gmail.com>
References: <F26BAA4A842DD94083472A0D31EBBB99273E5188D3@SRVHJA02.hja.local>	<F7B3FE69-6AE4-4B66-8C8A-280DAE2C43F7@lmi.net>	<F26BAA4A842DD94083472A0D31EBBB992747C6D0D7@SRVHJA02.hja.local>
	<B52770AD-92BA-4DE5-8F5A-D9062FBBD8AC@gmail.com>
Message-ID: <4D11DBA4.5020804@gmx.net>

Hi Greg!

> script.  We probably should offer an option to enter custom
> transmittances and front&  back reflectance values for advanced
> users, and this wouldn't be too difficult to add.  I wonder if we
> could take pasted output from Optics, directly?  I don't know if they
> have a format that gives us the naked data, but I suppose we could
> extract it from the Optics output for Radiance.

I guess you are referring to the measured (spectrally resolved) 
reflectance and transmittance data in the International Glazing DataBase 
(IGDB) that is used by Optics? I have no idea why, but the data comes as 
a MS Access database file. It is possible to open such files using 
various open source tools, e.g. I managed to load it into Openoffice. 
The database contains one table called GlazingProperties which is 
probably the one to look for.

Actually I wonder whether one should hint the developers at migrating 
that database to some SQL. That would not only make it possible to 
connect other tools easily, but also would allow the maintainers to 
update records of their database without redistributing the whole huge 
download. That is actually what network connectivity of databases was 
made for.

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101222/273e970f/attachment.bin>

From hope.zh at gmail.com  Wed Dec 22 07:00:52 2010
From: hope.zh at gmail.com (Ji Zhang)
Date: Wed, 22 Dec 2010 23:00:52 +0800
Subject: [Radiance-general] gendaylit error
In-Reply-To: <C5E1527F129BF545A250B5AD0B0C26EF08484099@ENTWEXMB0000000.university.harvard.edu>
References: <AANLkTikYFf3SMD61vF1mnziOXxMxgqr9CPW1HRSeJJhz@mail.gmail.com>
	<4D10E52D.5050504@gmx.net>
	<C5E1527F129BF545A250B5AD0B0C26EF08484099@ENTWEXMB0000000.university.harvard.edu>
Message-ID: <AANLkTim3wxnkEWo+u9R97uLOj-zYvSU+wYtd_m4ce8jC@mail.gmail.com>

Dear Christoph,

After I uninstall and reinstall the latest version of DIVA and Daysim and
restart the computer, no such error message will show up when run gendaylit.


Thank you very much for your advice!

Ji


On Wed, Dec 22, 2010 at 2:41 AM, Reinhart, Christoph <
reinhart at gsd.harvard.edu> wrote:

> Dear Ji,
>
> Windows understands backslashes. I just installed the latest version and
> gendaylit worked for me. Did you install the latest Daysim and did you
> restart your computer?
>
> Christoph
>
> -----Original Message-----
> From: Lars O. Grobe [mailto:grobe at gmx.net]
> Sent: Tuesday, December 21, 2010 12:35 PM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] gendaylit error
>
> Hi,
>
> I have no experience on Windows-based Radiance installations, but is the
> backslash really understood in the RAYPATH variable?
>
> Cheers, Lars.
>
> > My system RAYPATH is set as:
> > ;C:\Daysim\lib\;.C:\Radiance\lib\;.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101222/37748186/attachment.html>

From Lucio.Boscolo at arup.com  Thu Dec 23 04:18:25 2010
From: Lucio.Boscolo at arup.com (Lucio Boscolo)
Date: Thu, 23 Dec 2010 12:18:25 +0000
Subject: [Radiance-general] Instances
In-Reply-To: <4D05F826.5060009@gmx.net>
References: <1773335.454131290542592530.JavaMail.defaultUser@defaultHost>
	<4CEC21B0.6060103@visarc.com>
	<CC7B52EF0E443D45B11162FB554D97DF06B915F81C@EURXMBC02.global.arup.com>
	<4CED0866.2080807@visarc.com>
	<CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com>
	<4D05F826.5060009@gmx.net>
Message-ID: <CC7B52EF0E443D45B11162FB554D97DF06B947B2E3@EURXMBC02.global.arup.com>

Hi Lars, 

Sorry again for late answer.

I think it is a memory problem because I monitored it with top and memory is quickly reducing and as soon as it goes under 100 MB or so (when it probably starts swapping to the HD) processors use drops to 0.something %. I've got 8 GB memory and ambient files are big up to 1.5 GB (very high settings). In the worst case the octree is 600 MB.

Unfortunately the detail is all in a shading device (it is actually a transmittance study) so, no chance for using ambient exclude. And there are no overlapping geometries in the single instances and the instances replication is done by xform using the bounding box for spacing. Also care has been taken in taking away vertical faces at the boundaries to avoid overlapping surfaces. 

So what I understand from this is that if rpict loads ambient files in memory as well as octrees, in the worst case I will have for each rpict calculation 1.5 + 0.5 + some work memory in use (I don't know how to quantify this). As I cannot run more than 2 processes, the work memory is probably bigger than  [7.5(available ram  memory) / 3 (max processes before it runs out of memory)] -[1.5+0.5] = 0.5 GB, which makes sense to me. 

What do you think?

As Jack was saying I should have organized the model better, but still is good to understand what happened for future use.

Thanks for all your help and Merry Christmas to you both and to all the radiance community :-)

Lucio Boscolo Mezzopan

-----Original Message-----
From: Lars O. Grobe [mailto:grobe at gmx.net]
Sent: 13 December 2010 10:41
To: Radiance general discussion
Subject: Re: [Radiance-general] Instances

Hi Lucio,

I have never heard about a case where ambient data became critical memory-wise... Why do you think that there is a problem with memory in your case? How much memory does the rpict process occupy?

If you have a lot of detail geometry that does not contribute significantly to the diffuse-indirect illumination of your scene, you can use the ambient exclude parameters of rpict/rtrace (-ae and -aE).

If you use too many instances, or if you create them in a wrong way, they will slow down the rendering. Each time a ray hits an instance (passes the bounding cube it fits into), it has to check for collisions with any surface inside that instance. So if you have a lot of overlapping instances with little geometry contained in each, or instances with a bad ration of width/length/height, a lot of unnecessary intersection checks will happen. Instances improve memory efficiency at the cost of rendering time. It is important to balance the two. So only pack compact, high-res geometry into instances.

Cheers, Lars.

13.12.2010 10:49, Lucio Boscolo wrote:
> Thank you for all the replies sent through and sorry if didn?t thank yet.
>
> I reckon then that my memory issues were due to the ambient file... I 
> always thought it was read from the HD (and this was slowing the 
> process so that a balance between calculation time and disk access had 
> to be made to optimize the calculation time) but apparently it is 
> loaded entirely in memory, which makes sense speed wise and teaches me 
> to always simplify my models.
>
> Can you please confirm my understanding is right?
>
> Thank you once again for your great help!
>
> *Lucio Boscolo Mezzopan*

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

From gregoryjward at gmail.com  Thu Dec 23 09:33:03 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 23 Dec 2010 09:33:03 -0800
Subject: [Radiance-general] Instances
In-Reply-To: <CC7B52EF0E443D45B11162FB554D97DF06B947B2E3@EURXMBC02.global.arup.com>
References: <1773335.454131290542592530.JavaMail.defaultUser@defaultHost>
	<4CEC21B0.6060103@visarc.com>
	<CC7B52EF0E443D45B11162FB554D97DF06B915F81C@EURXMBC02.global.arup.com>
	<4CED0866.2080807@visarc.com>
	<CC7B52EF0E443D45B11162FB554D97DF06B935FE90@EURXMBC02.global.arup.com>
	<4D05F826.5060009@gmx.net>
	<CC7B52EF0E443D45B11162FB554D97DF06B947B2E3@EURXMBC02.global.arup.com>
Message-ID: <C43A7C7D-072A-469E-A5BE-8BA6FAC32AF3@lmi.net>

Hi Lucio,

If you are executing in parallel on a shared memory machine, are you using the -PP option to rtrace (or rpict)?  This can help to reduce memory, especially on jobs where you are loading in a substantial ambient file to start.

Another approach is to abandon ambient caching entirely, which makes sense in scenes where you have a lot of important detail, but what's most important about it is the aggregate behavior.  I think your problem falls into that category.  Unfortunately, whatever -a* settings you have worked out will have to be rethought when you do this.  I should have a good guide for how to set these parameters, but you basically start by setting -aa 0, at which point -af, -ar, and -aw settings become irrelevant (no caching), and the -ad and -as settings should be changed.  You also should look at the -lw and -lr settings, because they will have a strong influence over how deep the ray tree is explored.

Axel Jacobs offers a brief treatment of these settings on page 12 of his rtcontrib tutorial, currently linked at:

	http://luminance.londonmet.ac.uk/learnix/docs/rtcontrib_lesson.pdf

It's probably worth a try.  I use -aa 0 routinely when modeling blind systems in mkillum, for example.

Best,
-Greg

> From: Lucio Boscolo <Lucio.Boscolo at arup.com>
> Date: December 23, 2010 4:18:25 AM PST
> 
> Hi Lars, 
> 
> Sorry again for late answer.
> 
> I think it is a memory problem because I monitored it with top and memory is quickly reducing and as soon as it goes under 100 MB or so (when it probably starts swapping to the HD) processors use drops to 0.something %. I've got 8 GB memory and ambient files are big up to 1.5 GB (very high settings). In the worst case the octree is 600 MB.
> 
> Unfortunately the detail is all in a shading device (it is actually a transmittance study) so, no chance for using ambient exclude. And there are no overlapping geometries in the single instances and the instances replication is done by xform using the bounding box for spacing. Also care has been taken in taking away vertical faces at the boundaries to avoid overlapping surfaces. 
> 
> So what I understand from this is that if rpict loads ambient files in memory as well as octrees, in the worst case I will have for each rpict calculation 1.5 + 0.5 + some work memory in use (I don't know how to quantify this). As I cannot run more than 2 processes, the work memory is probably bigger than  [7.5(available ram  memory) / 3 (max processes before it runs out of memory)] -[1.5+0.5] = 0.5 GB, which makes sense to me. 
> 
> What do you think?
> 
> As Jack was saying I should have organized the model better, but still is good to understand what happened for future use.
> 
> Thanks for all your help and Merry Christmas to you both and to all the radiance community :-)
> 
> Lucio Boscolo Mezzopan


From milan.cakanovic at hotmail.com  Tue Dec 28 09:17:48 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Tue, 28 Dec 2010 17:17:48 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
Message-ID: <loom.20101228T160819-777@post.gmane.org>

Hi All,

Merry Christmas and Happy New Year!

I am a Master's thesis student and I am a beginner in Radiance. I would like to
thank Alex Jacobs for LEARNIX and tutorials, and Greg Ward for the effort he put
into Radiance. I apologize in advance if there is something wrong with my
English or if I wrote something stupid related to Radiance.
For the purposes of my work, I need to calculate illuminance level in one point
of working plane in a simple office (for clear sky and sunny day), for different
luminaires output levels, different slat angles of exterior venetian blinds, and
for different times of the day (i.e. for different solar angles). I am not
interested in for image rendering, just for the illuminance calculation. I am
stuck with window glass modeling. This is what I got from Optics5 for 2 layers
glazing system (1. clear glass 6mm ; AIR gap 12mm ; 2. clear glass 4mm):

void  glass       GlzSys1_glass
0
0
3     0.832     0.884     0.859

void  BRTDfunc    GlzSys1_front
10
      0.136     0.147     0.146
      0.764     0.811     0.789
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0

void  BRTDfunc    GlzSys1_back
10
      0.139     0.148     0.148
      0.764     0.811     0.789
      0 0 0
      .
0
9 0 0 0 0 0 0 0 0 0

And this is what I got from Window6 for the same glazing system :

Angle      0    10    20    30    40    50    60    70    80    90 Hemis

Vtc  : 0.798 0.798 0.796 0.791 0.779 0.748 0.675 0.521 0.261 0.000 0.695
Rf   : 0.144 0.144 0.144 0.147 0.157 0.185 0.255 0.405 0.664 1.000 0.230
Rb   : 0.146 0.146 0.146 0.149 0.159 0.188 0.258 0.411 0.674 1.000 0.233

When I make a model of complex fenestration system with exterior venetian
blinds, I have two different cases :

Case 1. When sun rays don't pass directly between the venetian blind slats,
        just indirectly from slats (reflected from slats).

Question 1. Because sun rays don't pass directly trough window glass, I suppose
that all the light that reaches the window glass is diffuse (light is reflected
from ground, sky and slats). If this is so, which is the correct value for the
definition of window glass material? Is it perhaps Vtc (visible tansmittance)
value 0.695 for Hemis (hemispherical) multiplied by 1.09 to get the
transmissivity value, or maybe mean Vtc value for angles from 0 to 90
[(0.798+0.798)/2+(0.798+0.796)/2+...+(0.261+0.000)/2]/9=0.639 also multiplied
by 1.09 to get the transmissivity, or maybe some other value?

I have noticed the following :
The second row of the BRTDfunc has the values:	0.764     0.811     0.789.
If we multiply these values with 1.09, we get:	0.832     0.884     0.859,
which are the transmissivity values for glass. Also, if we put these values into
the expression:
   0.265*R + 0.670*G + 0.065*B, we get:
   0.265*0.832 + 0.670*0.884 + 0.065*0.859 = 0.868595. If we divide this value
with 1.09, we get value 0.797, which is the Vtc value at normal incidence (0).

Question 2. Let us assume that correct Vtc (transmittance) value is 0.695. Is
            this the right way to calculate RGB transmissivity for glass:
            0.832*(0.695/0.798)   0.884*(0.695/0.798)   0.859*(0.695/0.798),
which is equal to:
            0.725                 0.770                 0.748

Question 3. This may be a stupid question. Theoretically, if I should get the
            same results in the following two cases:
1. I create the distribution for the window with mkillum; window glass is
   defined with transmissivity values:
   0.725   0.770   0.748
I compile a new scene octree that includes the old one and adds the new illum
window (new .rad file) to it. Then, I calculate lux level on working plane with
rtrace.
2. I don't create window polygon (there's nothing, i.e. there is air). But
instead, I can scale RGB values for light solar with the glass transmissivity
values. For example:
Istead:
   void light solar
   0
   0
   3 2.72e+06 2.72e+06 2.72e+06, I put:
   void light solar
   0
   0
   3 2.72e+06*0.725 2.72e+06*0.770 2.72e+06*0.748, i.e.:
   void light solar
   0
   0
   3 1.972e+06 2.094e+06 2.035e+06
I compile a scene with changed .mat file, and then I calculate lux level on
working plane with rtrace. Of course, I will try to calculate this, but I'm
definitely interested in the opinion of experts.

Question 4. How can I scale the material of sky, if it is defined with:

   void brightfunc skyfunc
   2 skybr skybright.cal
   0
   7 1 3.76e+00 3.72e+00 2.98e-01 -0.489041 -0.851114 0.190903
   skyfunc glow skyglow
   0
   0
   4  .85 1.04 1.2  0

I guess that is not allowed to scale the RGB values .85 1.04 1.2, because of
the equation:   1 = 0.265*R + 0.670*G + 0.065*B.
Maybe I can scale the values from skyfunc: 3.76e+00 (zenith brightness) and
3.72e+00 (ground plane brightness)?

Case 2. When one part of the sun rays pass directly between the venetian blind
        slats, and the second part indirectly from slats.

This is perhaps the worst case for modeling. Let us assume that exterior
venetian blinds have 35 slats. If I want to make a proper model of window glass
polygon, I suppose that I need to replace one glass polygon with 69 glass
polygons. 34 are directly exposed to the sun and have some values for RGB
transmissivity (which depend from sun angle). Other 35 are in shade and have
some other values for RGB transmissivity (transmissivity for diffuse light). Of
course, I need to do some trigonometry calculations. This model of window glass
is valid only for one light source (solar source sun), but not for
skyglow source sky. This seems very complicated, and because of that would be
great if I could do what I asked in questions 3.2 and 4.

Queation 5. I just need a short comment of paragraph above.

Case 3. No venetian blinds - just window glass.

Let us assume that octree (scene) includes 3 light sources (sun, sky and
ground), and sun incidence angle is 70 degrees. If I make a model of window
glass with RGB transmissivity:
   0.725  0.770  0.748  (transmittance=0.695),
the model will be correct for sky and ground, but not for sun, because of
transmittance for angle of 70 degrees is 0.521. 
Thus, whatever value that I take for RGB transmissivity, I make a some mistake,
when I calculate illumination.

Question 6. Does this problem can be solved in one of two ways:

1. I scale values for sun, sky and ground, in the manner described in questions
   3.2 and 4.
2. I compile an octree that includes an office, only one source of light (sun),
and a model of window glass with transmissivity that corresponding to the sun
angle. For this octree, I calculate illumination (I1).
Then, I compile a new octree that includes a same office, two sources of light
(sky and ground), and a model of window glass with transmissivity that
corresponding to the sky and ground. For this octree, I calculate illumination
(I2).
In the end, I calculate I = I1 + I2, which actually represents the total
illumination.

I apologize for the long mail.

Thank in advance, Milan Cakanovic



From grobe at gmx.net  Tue Dec 28 10:53:14 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 28 Dec 2010 19:53:14 +0100
Subject: [Radiance-general] window glass modeling
In-Reply-To: <loom.20101228T160819-777@post.gmane.org>
References: <loom.20101228T160819-777@post.gmane.org>
Message-ID: <4D1A321A.9090809@gmx.net>

Hi Milan!

Welcome onboard!

> For the purposes of my work, I need to calculate illuminance level in
> one point of working plane in a simple office (for clear sky and
> sunny day), for different luminaires output levels, different slat
> angles of exterior venetian blinds, and for different times of the
> day (i.e. for different solar angles).

Hm, a lot of work. A first hint, think about how to organize that, so
that you can later repeat the renderings when you have to change
something. People have been using Makefiles, bash scripts, rad as a
specialized tool, ...

> I am not interested in for image rendering, just for the illuminance
> calculation.

It will still be useful to render some views (plan view, perspectives) 
to understand what is going on. Artefacts due to ambient settings not 
adapted to e.g. you fenestration become evident when you look at a 
splotchy image, but may be difficult to understand from some few 
illuminances.

> stuck with window glass modeling. This is what I got from Optics5 for
> 2 layers glazing system (1. clear glass 6mm ; AIR gap 12mm ; 2. clear
> glass 4mm):
>
> void  glass       GlzSys1_glass 0 0 3     0.832     0.884     0.859

As far as I understand, for clear glass this is all you need.

> When I make a model of complex fenestration system with exterior
> venetian blinds, I have two different cases :
>
> Case 1. When sun rays don't pass directly between the venetian blind
> slats, just indirectly from slats (reflected from slats).
>
> Question 1. Because sun rays don't pass directly trough window glass,
> I suppose that all the light that reaches the window glass is diffuse
> (light is reflected from ground, sky and slats). If this is so, which
> is the correct value for the definition of window glass material?

You need the transmissivity for a material definition of a glass 
modifier. Calculating the transmissivity from visual light transmittance 
is discussed in Axel's Radiance tutorial, p. 47. The material properties 
of you glass pane are not depending on the shading system or incident light.

> Question 3. This may be a stupid question. Theoretically, if I should
> get the same results in the following two cases: 1. I create the
> distribution for the window with mkillum; window glass is defined
> with transmissivity values: 0.725   0.770   0.748 I compile a new
> scene octree that includes the old one and adds the new illum window
> (new .rad file) to it. Then, I calculate lux level on working plane
> with rtrace. 2. I don't create window polygon (there's nothing, i.e.
> there is air). But instead, I can scale RGB values for light solar
> with the glass transmissivity values. For example: Istead: void light
> solar 0 0 3 2.72e+06 2.72e+06 2.72e+06, I put: void light solar 0 0 3
> 2.72e+06*0.725 2.72e+06*0.770 2.72e+06*0.748, i.e.: void light solar
> 0 0 3 1.972e+06 2.094e+06 2.035e+06 I compile a scene with changed
> .mat file, and then I calculate lux level on working plane with
> rtrace. Of course, I will try to calculate this, but I'm definitely
> interested in the opinion of experts.

The glass object is not only affecting the transmission through the 
window opening by simply multiplying, it is also reflective and depends 
on the angle of incidence. The sun close to the zenith would lead to 
large portions of irradiance on the glass pane be reflected for example.

> Question 4. How can I scale the material of sky, if it is defined
> with:

You can (if it makes sense) scale the brightness of the sky either by 
changing the return value or the glow material that is modified by the 
brightfunc. Scaling the zenith and ground plane brightnesses should 
work, but is little transparent (and in fact you change the input values 
here for the skybright.cal script). Instead, it would be better to scale 
the glow. Of course, if you scale by smaller then 1, you will find 
0.265*R + 0.670*G + 0.065*B < 1 . Still I think you will need a glass 
pane in your model to care for angular dependance and reflection.

> Case 2. When one part of the sun rays pass directly between the
> venetian blind slats, and the second part indirectly from slats.
>
> This is perhaps the worst case for modeling. Let us assume that
> exterior venetian blinds have 35 slats. If I want to make a proper
> model of window glass polygon, I suppose that I need to replace one
> glass polygon with 69 glass polygons. 34 are directly exposed to the
> sun and have some values for RGB transmissivity (which depend from
> sun angle). Other 35 are in shade and have some other values for RGB
> transmissivity (transmissivity for diffuse light). Of course, I need
> to do some trigonometry calculations. This model of window glass is
> valid only for one light source (solar source sun), but not for
> skyglow source sky. This seems very complicated, and because of that
> would be great if I could do what I asked in questions 3.2 and 4.

You need only one glass pane. Same as in real. The only pitfall is that, 
without mkillum, you would get a lot of noise at acceptable ambient 
settings, or never ending rendering times. So just use a mkillum surface 
at your glass pane, and on the inner side of the blinds.

> Case 3. No venetian blinds - just window glass.
>
> Let us assume that octree (scene) includes 3 light sources (sun, sky
> and ground), and sun incidence angle is 70 degrees. If I make a model
> of window glass with RGB transmissivity: 0.725  0.770  0.748
> (transmittance=0.695), the model will be correct for sky and ground,
> but not for sun, because of transmittance for angle of 70 degrees is
> 0.521. Thus, whatever value that I take for RGB transmissivity, I
> make a some mistake, when I calculate illumination.

No. Radiance uses a built-in material model for glass. There is a file 
called materials.pdf as part of the Radiance distribution explaining how 
materials are modeled in Radiance.

> Question 6. Does this problem can be solved in one of two ways:
>
> 1. I scale values for sun, sky and ground, in the manner described in
> questions 3.2 and 4. 2.

You do not need all that. Try to model the scene as the real world is - 
and avoid scaling the universe just as you would not have this option in 
real life neither ;-) The only cheat here is that you can use a single 
surface in place of the window glass, which in fact consists of two 
glass bodies separated by air. This is the only optimization you need, 
together with helping out Radiance by pre-calculating the distribution 
behind the shading using mkillum.

I'd propose that you just start with a simple case, e.g. the glazing 
without blinds, set up the rendering procedure (e.g. a script or 
Makefile), render illuminance on a work plane (maybe you put a desk 
surface into your model) using rpict -i and get the sensor points' 
illuminances using rtrace -I. Once you have completed that, there will 
be a better understanding of the more complicated tasks, and you will 
know how Radiance works in your case. It is difficult to solve all 
questions in advance, better get the hands on this nice simulation 
toolbox and your model :-)

And always feel free to ask if you face unexpected behaviour by the 
software.

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101228/08a67d57/attachment.bin>

From tbleicher at googlemail.com  Tue Dec 28 11:03:28 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Tue, 28 Dec 2010 14:03:28 -0500
Subject: [Radiance-general] window glass modeling
In-Reply-To: <loom.20101228T160819-777@post.gmane.org>
References: <loom.20101228T160819-777@post.gmane.org>
Message-ID: <AANLkTi=-D5uoYh_OKFH-CYyXUnr38vNOHoovZP-_VYnr@mail.gmail.com>

Merry Christmas Milan.

Please find answers to your questions below.

On Tue, Dec 28, 2010 at 12:17 PM, Milan Cakanovic
<milan.cakanovic at hotmail.com> wrote:
> For the purposes of my work, I need to calculate illuminance level in one point
> of working plane in a simple office (for clear sky and sunny day), for different
> luminaires output levels, different slat angles of exterior venetian blinds, and
> for different times of the day (i.e. for different solar angles). I am not
> interested in for image rendering, just for the illuminance calculation.

Just a comment here: You should calculate the illuminance
at a few points around your actual sample point and then
average the results, especially when you want to use blinds.
This will avoid peak values due to direct sunlight passing
between the slates and hitting your single measurement point.

> I am stuck with window glass modeling.
> his is what I got from Optics5 for 2 layers glazing system
> (1. clear glass 6mm ; AIR gap 12mm ; 2. clear glass 4mm):
>
> void ?glass ? ? ? GlzSys1_glass
> 0
> 0
> 3 ? ? 0.832 ? ? 0.884 ? ? 0.859
>
> void ?BRTDfunc ? ?GlzSys1_front
> 10
> ? ? ?0.136 ? ? 0.147 ? ? 0.146
> ? ? ?0.764 ? ? 0.811 ? ? 0.789
> ? ? ?0 0 0
> ? ? ?.
> 0
> 9 0 0 0 0 0 0 0 0 0
>
> void ?BRTDfunc ? ?GlzSys1_back
> 10
> ? ? ?0.139 ? ? 0.148 ? ? 0.148
> ? ? ?0.764 ? ? 0.811 ? ? 0.789
> ? ? ?0 0 0
> ? ? ?.
> 0
> 9 0 0 0 0 0 0 0 0 0

These are definitions you can use directly in Radiance. The first
four lines define the base glass material the second and third
group define separate materials for the front and back of the
sandwich which are different due to the glass pane thickness
and coatings (if there are any).

I have not used a BRTDfunc material so far, but I think you would
pick the right definition for your scene (GlzSys1_back probably)
and use it to define the window polygon. It is a very crude approach
and does not account for a number of effects. There have been
a couple of discussions on this here on the list which you can
research if you want.

> And this is what I got from Window6 for the same glazing system :
>
> Angle ? ? ?0 ? ?10 ? ?20 ? ?30 ? ?40 ? ?50 ? ?60 ? ?70 ? ?80 ? ?90 Hemis
>
> Vtc ?: 0.798 0.798 0.796 0.791 0.779 0.748 0.675 0.521 0.261 0.000 0.695
> Rf ? : 0.144 0.144 0.144 0.147 0.157 0.185 0.255 0.405 0.664 1.000 0.230
> Rb ? : 0.146 0.146 0.146 0.149 0.159 0.188 0.258 0.411 0.674 1.000 0.233

This is just a general representation of the angular dependent
transmission/reflection of the glazing. You would have to convert
this to a format Radiance can understand (but you already have
the description above).

> When I make a model of complex fenestration system with exterior
> venetian blinds, I have two different cases :
>
> Case 1. When sun rays don't pass directly between the venetian
>        blind slats, just indirectly from slats (reflected from slats).
>
> Question 1. Because sun rays don't pass directly trough window glass,
> I suppose that all the light that reaches the window glass is diffuse
> (light is reflected from ground, sky and slats). If this is so, which is
> the correct value for the definition of window glass material?

To define a basic glass material you would use the Vtc (visual
transmittance) for a 0 degree angle (orthogonal to surface). Some
of the angular dependence is accounted for in the material primitive
"glass" so we don't have to fuzz about with all the angles. It's not
very accurate but for a scene that includes blinds and artificial
lighting an accurate glazing representation is probably less important.
You have to decide about this of course.

The transmittance(Tn) has to be converted to transmissivity(tn) via
this formula:

tn = (sqrt(.8402528435+.0072522239*Tn*Tn)-.9166530661)/.0036261119/Tn

With a base transmittance of 0.798 we get a transmissivity of 0.869 and
could define a simple glass material as

void glass GlzSys1_simple
0
0
3 0.869 0.869 0.869

This is not that far of from the GlzSys1_glass above.


> Question 2. Let us assume that correct Vtc (transmittance) value is 0.695. Is
> ? ? ? ? ? ?this the right way to calculate RGB transmissivity for glass:
> ? ? ? ? ? ?0.832*(0.695/0.798) ? 0.884*(0.695/0.798) ? 0.859*(0.695/0.798),
> which is equal to:
> ? ? ? ? ? ?0.725 ? ? ? ? ? ? ? ? 0.770 ? ? ? ? ? ? ? ? 0.748

No. See above. If you only have one value for the transmittance and
no information on the spectral distribution you can use the same Tn
for the red, green and blue values. Using different R, G and B will
only give the glass a slight colour tint.

> Question 3. This may be a stupid question. Theoretically, if I should get the
> ? ? ? ? ? ?same results in the following two cases:
> 1. I create the distribution for the window with mkillum; window glass is
> ? defined with transmissivity values:
> ? 0.725 ? 0.770 ? 0.748
> I compile a new scene octree that includes the old one and adds the new illum
> window (new .rad file) to it. Then, I calculate lux level on working plane with
> rtrace.

If you use mkillum you have to replace the window material with
the definition created by mkillum. You also have to make sure that
the polygon normal points inwards or you won't get any light.

> 2. I don't create window polygon (there's nothing, i.e. there is air). But
> instead, I can scale RGB values for light solar with the glass transmissivity
> values.

That is a reasonable approach but only accounts for the light
contributed by the sun. (See below about the sky).

> Question 4. How can I scale the material of sky, if it is defined with:
>
> ? void brightfunc skyfunc
> ? 2 skybr skybright.cal
> ? 0
> ? 7 1 3.76e+00 3.72e+00 2.98e-01 -0.489041 -0.851114 0.190903
> ? skyfunc glow skyglow
> ? 0
> ? 0
> ? 4 ?.85 1.04 1.2 ?0
>
> I guess that is not allowed to scale the RGB values .85 1.04 1.2, because of
> the equation: ? 1 = 0.265*R + 0.670*G + 0.065*B.

You can scale the values of the glow material. It only needs
average to 1 because the actual brightness of this particular
sky is already defined in the definition of "skyfunc". But you
want to reduce that brightness by 1/4 so you can apply the
transmittance values directly to the RGB values as above.

However, this will not take into account the specific angular
dependent transmission of glass for the light from the sky.
Therefore, light that hits the glass from the sides will be
equally reduced as the light from in front of the window.
This introduces some difference into the two calculation
results you have to be aware of.


> Case 2. When one part of the sun rays pass directly between the venetian blind
> ? ? ? ?slats, and the second part indirectly from slats.
>
> This is perhaps the worst case for modeling. Let us assume that exterior
> venetian blinds have 35 slats. If I want to make a proper model of window glass
> polygon, I suppose that I need to replace one glass polygon with 69 glass
> polygons. 34 are directly exposed to the sun and have some values for RGB
> transmissivity (which depend from sun angle). Other 35 are in shade and have
> some other values for RGB transmissivity (transmissivity for diffuse light). Of
> course, I need to do some trigonometry calculations. This model of window glass
> is valid only for one light source (solar source sun), but not for
> skyglow source sky. This seems very complicated, and because of that would be
> great if I could do what I asked in questions 3.2 and 4.
>
> Queation 5. I just need a short comment of paragraph above.

Sounds incredibly complicated and is not at all necessary.
There is no difference in the definition for glass for sunlight and
glass for skylight. The various transmission values you have
in your Window6 output are approximated/accounted for in the
base primitive "glass" or the BRTDfunc definition.

I think this also deals with Case 3 and Question 6.

If you want to split you calculation into sun, sky and ground
you can do so in the scene definition and later add the individual
results. However, your scenario is not a good candidate for
that because the problem you see does not really exist.


Regards and enjoy the holidays/in-between-days.

Thomas


From milan.cakanovic at hotmail.com  Tue Dec 28 12:07:41 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Tue, 28 Dec 2010 20:07:41 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
Message-ID: <loom.20101228T210631-57@post.gmane.org>

Lars,
Thank you both for your fast reply. I'm in a hurry now, and I will reply to you
later or tomorrow.
Regards, Milan



From milan.cakanovic at hotmail.com  Tue Dec 28 12:11:15 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Tue, 28 Dec 2010 20:11:15 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>
	<AANLkTi=-D5uoYh_OKFH-CYyXUnr38vNOHoovZP-_VYnr@mail.gmail.com>
Message-ID: <loom.20101228T211000-44@post.gmane.org>

Thomas,
Thank you both for your fast reply. I'm in a hurry now, and I will reply to you
later or tomorrow.
Regards, Milan



From milan.cakanovic at hotmail.com  Tue Dec 28 18:55:26 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Wed, 29 Dec 2010 02:55:26 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
Message-ID: <loom.20101229T033010-194@post.gmane.org>

Hi Lars,

> Hm, a lot of work. A first hint, think about how to organize that, so that
> you can later repeat the renderings when you have to change something. People
> have been using Makefiles, bash scripts, rad as a specialized tool, ...

My plan is to use a bash script.

> It will still be useful to render some views (plan view, perspectives) to
> understand what is going on. Artefacts due to ambient settings not adapted to
> e.g. you fenestration become evident when you look at a splotchy image, but
> may be difficult to understand from some few illuminances.

Thank you for advice. This is useful.

> You need the transmissivity for a material definition of a glass modifier.
> Calculating the transmissivity from visual light transmittance is discussed
> in Axel's Radiance tutorial, p. 47.

Formula:  tn=1.09*Tn (Axel's RADIANCE Cookbook, p. 21) is simplification of
formula on p.20.

> The glass object is not only affecting the transmission through the window
> opening by simply multiplying, it is also reflective and depends on the angle
> of incidence. The sun close to the zenith would lead to large portions of
> irradiance on the glass pane be reflected for example.

I agree with that.

> You can (if it makes sense) scale the brightness of the sky either by
> changing the return value or the glow material that is modified by the
> brightfunc. Scaling the zenith and ground plane brightnesses should work, but
> is little transparent (and in fact you change the input values here for the
> skybright.cal script). Instead, it would be better to scale the glow. Of
> course, if you scale by smaller then 1, you will find 0.265*R + 0.670*G +
> 0.065*B < 1 . Still I think you will need a glass pane in your model to care
> for angular dependance and reflection.

Ok. Idea with scaling is obviously out.

> You need only one glass pane. Same as in real. The only pitfall is that,
> without mkillum, you would get a lot of noise at acceptable ambient settings,
> or never ending rendering times. So just use a mkillum surface at your glass
> pane, and on the inner side of the blinds.

I know that I have to use mkillum surface at my glass pane, I just forgot to
write it. Thank you anyway. But, how can I use mkillum surface on the inner side
of the blinds? I checked, when the blinds is down (angle=-90) the surface normal
of slats points into the office.
To create the distribution for the window:
mkillum -ab 0 < objects/window.rad scene.oct > tmp/iwindow.rad
Can I use this to create the distribution for the blinds:
mkillum -ab 0 < blinds.rad scene.oct > tmp/iblinds.rad

> No. Radiance uses a built-in material model for glass. There is a file called
> materials.pdf as part of the Radiance distribution explaining how materials
> are modeled in Radiance.
> You do not need all that. Try to model the scene as the real world is - and
> avoid scaling the universe just as you would not have this option in real
> life neither ;-)

:-)

> The only cheat here is that you can use a single surface in place of the
> window glass, which in fact consists of two glass bodies separated by air.

I plan to use a single surface in place of the window glass.

> This is the only optimization you need, together with helping out Radiance by
> pre-calculating the distribution behind the shading using mkillum.
> I'd propose that you just start with a simple case, e.g. the glazing without
> blinds, set up the rendering procedure (e.g. a script or Makefile), render
> illuminance on a work plane (maybe you put a desk surface into your model)
> using rpict -i and get the sensor points' illuminances using rtrace -I. Once
> you have completed that, there will be a better understanding of the more
> complicated tasks, and you will know how Radiance works in your case. It is
> difficult to solve all questions in advance, better get the hands on this
> nice simulation toolbox and your model :-)
> And always feel free to ask if you face unexpected behaviour by the software.

Please, can you explain me this: "render illuminance on a work plane (maybe you
put a desk surface into your model) using rpict -i".

Cheers, Milan



From maricanis at gmail.com  Wed Dec 29 00:32:09 2010
From: maricanis at gmail.com (Marija Velickovic)
Date: Wed, 29 Dec 2010 09:32:09 +0100
Subject: [Radiance-general] window glass modeling
In-Reply-To: <loom.20101229T033010-194@post.gmane.org>
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
Message-ID: <AANLkTi=R8607+ZdbE85TXgzenfJVvffXH5i8uG9k3r21@mail.gmail.com>

Hi,


> This is the only optimization you need, together with helping out Radiance
> by
> > pre-calculating the distribution behind the shading using mkillum.
> > I'd propose that you just start with a simple case, e.g. the glazing
> without
> > blinds, set up the rendering procedure (e.g. a script or Makefile),
> render
> > illuminance on a work plane (maybe you put a desk surface into your
> model)
> > using rpict -i and get the sensor points' illuminances using rtrace -I.
> Once
> > you have completed that, there will be a better understanding of the more
> > complicated tasks, and you will know how Radiance works in your case. It
> is
> > difficult to solve all questions in advance, better get the hands on this
> > nice simulation toolbox and your model :-)
> > And always feel free to ask if you face unexpected behaviour by the
> software.
>
> Please, can you explain me this: "render illuminance on a work plane (maybe
> you
> put a desk surface into your model) using rpict -i".
>
>
To render illuminance on a work plane, no need to input additional desk
geometry into the scene. Everything you add in the scene has influence on
light distribution and calculation time, so it is better to avoid adding of
furniture geometry.
You can define sensor point on the workplane area  (for example on height
0.8m from the floor level), and all points should be oriented towards up in
format: xorg yorg zorg xdir ydir zdir, one point per line. Example:
0 0 0.8 0 0 1
0 1 0.8 0 0 1
...

Then for created octree and these set of points (save points in some file),
you use rtrace -I option to calculate illuminance.
Here is example command
rtrace -I+ -h- -oov -ab 3 -ad 2048 -as 512 -aa 0.05 -av 0 0 0 -ar 100
room.oct < sensors.txt | rcalc -e "$1=$1; $2=$2; $3=$3;
$4=(0.67*$4+0.265*$5+0.065*$6)*179"  >illuminance.txt

So rtrace command above calculates irradiance for sensor points defined in
"sensors.txt". Then you pipe it to rcalc to convert it to illuminance.

You have similar method in dayfact.csh script (included in Radiance
distribution), so you can explore it.

Hope this helps,
Marija
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101229/6ff49518/attachment.html>

From achim.geissler at intergga.ch  Wed Dec 29 02:36:39 2010
From: achim.geissler at intergga.ch (Achim Geissler)
Date: Wed, 29 Dec 2010 11:36:39 +0100
Subject: [Radiance-general] window glass modeling
In-Reply-To: <loom.20101229T033010-194@post.gmane.org>
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
Message-ID: <5CEE2156-0BAF-4A16-9D44-4623375D3BB0@intergga.ch>

Hi Milan

depending on your slat geometry be aware that practically no real-world venetian (slat type) blind closes "90?". Actually, quite typical products have a closing angle of approx. 75? at the most. And this leads to additional light transmission in the closed position, of course (for light colors, in any case).

> write it. Thank you anyway. But, how can I use mkillum surface on the inner side
> of the blinds? I checked, when the blinds is down (angle=-90) the surface normal
> of slats points into the office.

Best
Achim



From milan.cakanovic at hotmail.com  Wed Dec 29 05:24:21 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Wed, 29 Dec 2010 13:24:21 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>
	<AANLkTi=-D5uoYh_OKFH-CYyXUnr38vNOHoovZP-_VYnr@mail.gmail.com>
Message-ID: <loom.20101229T141405-0@post.gmane.org>

Thomas,

> Just a comment here: You should calculate the illuminance at a few points
> around your actual sample point and then average the results, especially when
> you want to use blinds. This will avoid peak values due to direct sunlight
> passing between the slates and hitting your single measurement point.

I know for this problem. I have done some preliminary calculations, and when I
use rtrace with -ab 8 (for more accuracy), calculation takes a long time (4 - 5
min). If I want to calculate illumination for few more points, I will increase
the calculation time for few times. For now, I will just avoid situations when
direct sunlight passing between the slats.

> This is just a general representation of the angular dependent
> transmission/reflection of the glazing. You would have to convert this to a
> format Radiance can understand (but you already have the description above).
> To define a basic glass material you would use the Vtc (visual transmittance)
> for a 0 degree angle (orthogonal to surface). Some of the angular dependence
> is accounted for in the material primitive "glass" so we don't have to fuzz
> about with all the angles. It's not very accurate but for a scene that
> includes blinds and artificial lighting an accurate glazing representation is
> probably less important.
> You have to decide about this of course.

With this statement, you're opened my eyes. I did not know that, how you say,
some of the angular dependence is accounted for in the material primitive
"glass". I can live with "It's not very accurate".

> If you use mkillum you have to replace the window material with the
> definition created by mkillum. You also have to make sure that the polygon
> normal points inwards or you won't get any light.

I know that, but thank you anyway.

> Sounds incredibly complicated and is not at all necessary. There is no
> difference in the definition for glass for sunlight and glass for skylight.
> The various transmission values you have in your Window6 output are
> approximated/accounted for in the base primitive "glass" or the BRTDfunc
> definition.

Again, you're opened my eyes with this statement.

> If you want to split you calculation into sun, sky and ground you can do so
> in the scene definition and later add the individual results. However, your
> scenario is not a good candidate for that because the problem you see does
> not really exist.

Now, when I know all this, I have no need to split my calculation.
"...because the problem you see does not really exist." Well, because I have
bugs (or worms) in my head, the problem existed. :-) If I had known that some of
the angular dependence is accounted for in the material primitive "glass", I
would not have written a bunch of nonsense.

Thank you for all.

Regards and Happy New Year!  Milan



From grobe at gmx.net  Wed Dec 29 05:45:40 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 29 Dec 2010 14:45:40 +0100
Subject: [Radiance-general] window glass modeling
In-Reply-To: <loom.20101229T033010-194@post.gmane.org>
References: <loom.20101228T160819-777@post.gmane.org>	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
Message-ID: <4D1B3B84.9040506@gmx.net>

Hi Milan!

>> It will still be useful to render some views (plan view, perspectives) to
>> understand what is going on. Artefacts due to ambient settings not adapted to
>> e.g. you fenestration become evident when you look at a splotchy image, but
>> may be difficult to understand from some few illuminances.
>
> Thank you for advice. This is useful.

As Marija wrote, you can also just put a grid of sensor points into the 
scene. The background of my proposal was that a rpict-generated image 
may be useful to track problems in the scene, even though the irradiance 
values you get would certainly be affected by the geometry added as a 
working plane (which is not necessary when using a grid as rtrace 
input). So if you take this approach, do not compare the results of a 
rendered image including work plane geometry to sensor point 
illuminances rendered without such geometry - they must be different. 
But look out for suspicous shadows, splotches, noise, gradients that 
look too smooth or not as smooth as you would expect it from the 
geometry. Do all the basic checks (Afternoon sun coming in from 
East...?) to find out whether the model is ok, this may help avoid a lot 
of trouble. For illuminance readings, you will have to remove the work 
plane geometry before running rtrace.

>> You need only one glass pane. Same as in real. The only pitfall is that,
>> without mkillum, you would get a lot of noise at acceptable ambient settings,
>> or never ending rendering times. So just use a mkillum surface at your glass
>> pane, and on the inner side of the blinds.
>
> I know that I have to use mkillum surface at my glass pane, I just forgot to
> write it. Thank you anyway. But, how can I use mkillum surface on the inner side
> of the blinds?

As long as the blinds are outside the glass, everything is fine and you 
can use the glass surface as an mkillum input. If you ever should have 
to render a model with blinds on the inner side of the window, it is 
important to remember that the mkillum pane has to be inside the 
complicated geometry to precalculte.

> Please, can you explain me this: "render illuminance on a work plane (maybe you
> put a desk surface into your model) using rpict -i".

As you may already know, rpict per default gives you an image according 
to choosen projection, which means it results in an array of luminance 
values. You may however use the -i switch to get an image showing 
irradiance values on the visible surfaces. Using falsecolor, you can get 
a quick idea on how illuminance is distributed over the surfaces of your 
scene.

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101229/56005269/attachment.bin>

From milan.cakanovic at hotmail.com  Wed Dec 29 07:23:47 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Wed, 29 Dec 2010 15:23:47 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
	<AANLkTi=R8607+ZdbE85TXgzenfJVvffXH5i8uG9k3r21@mail.gmail.com>
Message-ID: <loom.20101229T161701-263@post.gmane.org>

Hi Marija,

> To render illuminance on a work plane, no need to input additional desk
> geometry into the scene. Everything you add in the scene has influence on
> light distribution and calculation time, so it is better to avoid adding of
> furniture geometry.

Thank you for advice. I do not plan to add a furniture.

> You can define sensor point on the workplane area.

My first plan was to define a few sensor points, but when I use rtrace with -ab
6 or 8 (for more accuracy), calculation takes a long time. For now, I will
define just one sensor point.

> Then for created octree and these set of points (save points in some file),
> you use rtrace -I option to calculate illuminance.
> Here is example command
> rtrace -I+ -h- -oov -ab 3 -ad 2048 -as 512 -aa 0.05 -av 0 0 0 -ar 100
> room.oct < sensors.txt | rcalc -e "$1=$1; $2=$2; $3=$3;
> $4=(0.67*$4+0.265*$5+0.065*$6)*179"  >illuminance.txt
> So rtrace command above calculates irradiance for sensor points defined in
> "sensors.txt". Then you pipe it to rcalc to convert it to illuminance.
> You have similar method in dayfact.csh script (included in Radiance
> distribution), so you can explore it.

Everything you've written here is useful, and I think it will help me.

I am from Serbia. Where are you from? Because of your name and surname, I guess
that you are from Serbia, B&H or Croatia.
If I am right,
   then Hvala i pozdrav,
if I wrong,
   then Thanks and regards.

Milan



From milan.cakanovic at hotmail.com  Wed Dec 29 07:43:56 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Wed, 29 Dec 2010 15:43:56 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
	<5CEE2156-0BAF-4A16-9D44-4623375D3BB0@intergga.ch>
Message-ID: <loom.20101229T163622-780@post.gmane.org>

Hi Achim,

> depending on your slat geometry be aware that practically no real-world
> venetian (slat type) blind closes "90?". Actually, quite typical products have
> a closing angle of approx. 75? at the most...

Thank you, I will turn my attention to it.

Best, Milan



From tbleicher at googlemail.com  Wed Dec 29 07:57:38 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed, 29 Dec 2010 10:57:38 -0500
Subject: [Radiance-general] window glass modeling
In-Reply-To: <loom.20101229T161701-263@post.gmane.org>
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
	<AANLkTi=R8607+ZdbE85TXgzenfJVvffXH5i8uG9k3r21@mail.gmail.com>
	<loom.20101229T161701-263@post.gmane.org>
Message-ID: <AANLkTi=PnBiKh2u808EgDFxJ3sbUUN26GbfwQoMZvV4b@mail.gmail.com>

On Wed, Dec 29, 2010 at 10:23 AM, Milan Cakanovic
<milan.cakanovic at hotmail.com> wrote:
> Hi Marija,
>
>> To render illuminance on a work plane, no need to input additional desk
>> geometry into the scene. Everything you add in the scene has influence on
>> light distribution and calculation time, so it is better to avoid adding of
>> furniture geometry.
>
> Thank you for advice. I do not plan to add a furniture.

Although it's not quite what you are concerned with right now
there is an alternative method to calculate illuminance values
on a (theoretical) surface thanks to Radiance's "lego bricks"
architecture:

http://sites.google.com/site/tbleicher/radiance/stencil

(Warning: Content may not be suitable for beginners. Guru guidance advised.)


>> You can define sensor point on the workplane area.
>
> My first plan was to define a few sensor points, but when I use rtrace with -ab
> 6 or 8 (for more accuracy), calculation takes a long time. For now, I will
> define just one sensor point.

The value you choose for -ab depends on the complexity of your
scene geometry and lighting conditions. From what you have
written so far you have an empty room with one window and
exterior blinds. I assume there is no outside obstruction to the
window.

Without the blinds you can cover the light distribution within the
room accurately with an -ab value of 3 or 4. If you add the blinds
you will need additional "bounces" to account for the light reflected
from the blinds. I assume you will need at least a value of 6 to
achieve reasonable accurate results.

Before you do your evaluation calculations you should do some
tests to find parameters which are accurate enough for your situation:

1) Use one typical scene setup and a sky definition without sun (only
    skylight and ground) and calculate the illuminance on one point with
    increasing values for -ab. You can use the other parameters as given
    by Marija in her email; it's a good start.
    Your results should show smaller variations the higher -ab is set.

2) With a reasonably accurate setting for -ab use the same scene and
    sky but define a sequence of 10 or more points from the window to
    the back of the room. Calculate these points and make a diagram
    of the results with the distance to the window on the x-axis and the
    illuminance on the y-axis.
    Your graph should show a smooth curve falling in illuminance with
    increasing distance from the window. If you can't make out a clean
    curve in your plot your "-ab" value is too low (or other values need
    adjusting).


Your main concern about using multiple points is the processing time.
However, if you pass all the points to rtrace in one call rtrace will cache
intermediate results from the first point to calculate the next. This will
speed up your calculation time so you won't spend four times as much
time calculating four points. If you call a separate rtrace process for
each individual point you will see no speed up, though.

Regards,
Thomas


From milan.cakanovic at hotmail.com  Wed Dec 29 11:53:09 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Wed, 29 Dec 2010 19:53:09 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
	<4D1B3B84.9040506@gmx.net>
Message-ID: <loom.20101229T204943-444@post.gmane.org>

Hi Lars,

> As Marija wrote, you can also just put a grid of sensor points into the cene.
> The background of my proposal was that a rpict-generated image may be useful
> to track problems in the scene, even though the irradiance values you get
> would certainly be affected by the geometry added as a working plane (which
> is not necessary when using a grid as rtrace input). So if you take this
> approach, do not compare the results of a rendered image including work plane
> geometry to sensor point illuminances rendered without such geometry - they
> must be different...

A lot of useful advice.

> As long as the blinds are outside the glass, everything is fine and you can
> use the glass surface as an mkillum input. If you ever should have to render
> a model with blinds on the inner side of the window, it is important to
> remember that the mkillum pane has to be inside the complicated geometry to
> precalculte.

I am interested in only for exterior venetian blinds. In that case, I can use
the glass surface as an mkillum input, and no need for any intervention on
blinds (I leave them as they are). Is this OK?

Cheers,  Milan



From grobe at gmx.net  Wed Dec 29 12:14:42 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 29 Dec 2010 21:14:42 +0100
Subject: [Radiance-general] window glass modeling
In-Reply-To: <loom.20101229T204943-444@post.gmane.org>
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
	<4D1B3B84.9040506@gmx.net>
	<loom.20101229T204943-444@post.gmane.org>
Message-ID: <9BC1DFF4-FF71-4F34-815E-7BB7FCE49E07@gmx.net>

Hi Milan!

> I am interested in only for exterior venetian blinds. In that case, I can use
> the glass surface as an mkillum input, and no need for any intervention on
> blinds (I leave them as they are). Is this OK?

Perfect. Plus: if most ambient bounces are expected to happen in between diffuse blinds, you need the high setting of -ab only for mkillum. When running rtrace, you can probably stay at ab set to about 2, and that means you can follow previous advices to calculate irradiance for more then one point.

By the way, you are looking at diffuse reflective blinds, right?

Cheers, Lars.

From cbm at create.aau.dk  Wed Dec 29 13:59:30 2010
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Wed, 29 Dec 2010 22:59:30 +0100
Subject: [Radiance-general] Noisy irradiance rendering from glow materials
Message-ID: <E35477F1A321144D897D44CCAAFF202C091DE75D43@AD-MAILBOX01.aau.dk>



Dear list,

With a lot of inspiration from Thomas Bleicher's tutorial (http://sites.google.com/site/tbleicher/radiance/stencil) which he pointed me to back in August (yes, it took me a while to gather the courage to go down that path) I have managed to devise a small script (or rather a command line) which allows me to render the irradiances received at any point in a scene with all glow materials (the standard -i irradiance option for rpict does not work for glow materials).

I attach (not so sure about list rules regarding attachments) the scene rendered where pixel values represent the outgoing radiance of the glow materials (radiance.jpg) and the scene rendered such that every pixel represents the incident irradiance in the same scene (irradiance.jpg). There are no other light sources than the glow materials.

My question is simply: how to reduce the significant amount of rendering noise for the (near) vertical surfaces? The irradiance on those surfaces is dominated by energy coming from the horizontal ground plane, which is a single box object (genbox).

I feel I have tried "everything" with the render options (see my setting below) but have seen no improvement in render noise ... hope to get some pointers/ideas from the list.


I use the following command line command to render the irradiance:

vwrays -ff -x $XRES -y $YRES -vf $NAME.vp \
|rtrace -ffa -opN $NAME.oct \
|sed '1,8d' \
|rcalc -ia6 -of \
-e '$1=$1 + 0.001*$4;$2=$2 + 0.001*$5;$3=$3 + 0.001*$6' \
-e 'out(v)=if(sqrt($4*$4 + $5*$5 + $6*$6) - 0.9,v,-1)' \
-e '$4=out($4);$5=out($5);$6=out($6)'  \
|rtrace -ffc -x $XRES -y $YRES -I -ab 0  -aw 1 -ad 4096 -ar 4096 -dt 0.0 -dp 8192 -ds 0.01 -dj 0.9 $NAME.oct > $NAME.irradiance.hdr

In short: use vwrays to generate the primary rays needed to render the scene, pipe into rtrace to get intersection points and normals, pipe into sed to get rid of header generated by rtrace and leave only lines with intersection point and normal, pipe through rcalc to "lift" intersection points 1/1000 of a unit in the direction of the normal (to avoid surface self-intersection problems later when using intersection point and normal as the start point for an incident irradiance computation) ... and rcalc also sets a (-1, -1, -1) direction vector if the original surface normal from rtrace is close to zero length, finally pipe through rtrace, this time with -I option to gather incident irradiance at the "lifted" surface point.


Best,
Claus




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101229/7099b0f5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: radiance.jpg
Type: image/jpeg
Size: 6400 bytes
Desc: radiance.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101229/7099b0f5/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: irradiance.jpg
Type: image/jpeg
Size: 24585 bytes
Desc: irradiance.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101229/7099b0f5/attachment-0003.jpg>

From tbleicher at googlemail.com  Wed Dec 29 14:43:44 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed, 29 Dec 2010 17:43:44 -0500
Subject: [Radiance-general] Noisy irradiance rendering from glow
	materials
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C091DE75D43@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C091DE75D43@AD-MAILBOX01.aau.dk>
Message-ID: <AANLkTim+eFvV-nft6PZDUF=cXrpHqYXtp2f4aRY2=DCo@mail.gmail.com>

Hi Claus.

Interesting problem you have here.

2010/12/29 Claus Br?ndgaard Madsen <cbm at create.aau.dk>:

> With a lot of inspiration from Thomas Bleicher?s tutorial
> (http://sites.google.com/site/tbleicher/radiance/stencil) which he pointed
> me to back in August (yes, it took me a while to gather the courage to go
> down that path) I have managed to devise a small script (or rather a command
> line) which allows me to render the irradiances received at any point in a
> scene with all glow materials (the standard ?i irradiance option for rpict
> does not work for glow materials).

[...]

> My question is simply: how to reduce the significant amount of rendering
> noise for the (near) vertical surfaces? The irradiance on those surfaces is
> dominated by energy coming from the horizontal ground plane, which is a
> single box object (genbox).

When I look at your images I see the following:

1) The vertical surfaces receive far more energy at the top than
    the ground (strong white dots vs. green and yellow shades).
    I think this indicates that the higher you get the more the
    ground contributes to the energy. I'm not sure that's logical.

2) The density is much better at the top than at the bottom.
    Therefore the lower you get the more zero contributions you
    get.

> I feel I have tried ?everything? with the render options (see my setting
> below) but have seen no improvement in render noise ? hope to get some
> pointers/ideas from the list.

When I look at your render options below I see that you have an
'-ab' of 0 which limits your (final) rtrace calculation to the direct
component only. However, glow surfaces are considered direct
contributors in Radiance. If you want to use this setting you should
change all the definitions of 'glow' in your materials to 'light'. And
then you probably have to subdivide large polygons like the ground.

> I use the following command line command to render the irradiance:
> vwrays -ff -x $XRES -y $YRES -vf $NAME.vp \
> |rtrace -ffa -opN $NAME.oct \
> |sed '1,8d' \

Instead of sed you can just add "-h" to rtrace to suppress the
header information. No sed required. You should also add a "-w"
to avoid any warning messages.

> |rcalc -ia6 -of \
> -e '$1=$1 + 0.001*$4;$2=$2 + 0.001*$5;$3=$3 + 0.001*$6' \
> -e 'out(v)=if(sqrt($4*$4 + $5*$5 + $6*$6) - 0.9,v,-1)' \
> -e '$4=out($4);$5=out($5);$6=out($6)'? \
> |rtrace -ffc -x $XRES -y $YRES -I -ab 0? -aw 1 -ad 4096 -ar 4096 -dt 0.0 -dp
> 8192 -ds 0.01 -dj 0.9 $NAME.oct > $NAME.irradiance.hdr

Regards,
Thomas


From milan.cakanovic at hotmail.com  Wed Dec 29 15:23:35 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Wed, 29 Dec 2010 23:23:35 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
	<AANLkTi=R8607+ZdbE85TXgzenfJVvffXH5i8uG9k3r21@mail.gmail.com>
	<loom.20101229T161701-263@post.gmane.org>
	<AANLkTi=PnBiKh2u808EgDFxJ3sbUUN26GbfwQoMZvV4b@mail.gmail.com>
Message-ID: <loom.20101230T001104-875@post.gmane.org>

Hi Thomas,

> ...there is an alternative method to calculate illuminance values on a
> (theoretical) surface thanks to Radiance's "lego bricks" architecture:
> http://sites.google.com/site/tbleicher/radiance/stencil
> (Warning: Content may not be suitable for beginners. Guru guidance advised.)

I looked at this site and immediately got a headache. I still wrestling with 
Basic Radiance, and at this moment, I have no strength for stencil. I am a
beginner and too far away guru.

> The value you choose for -ab depends on the complexity of your scene geometry
> and lighting conditions. From what you have written so far you have an empty
> room with one window and exterior blinds. I assume there is no outside
> obstruction to the window.

There is no outside obstruction to the window. I have an empty room with one
window and exterior blinds, plus four luminaires (but I think that they do not
affect to the complexity).

> Without the blinds you can cover the light distribution within the room
> accurately with an -ab value of 3 or 4. If you add the blinds you will need
> additional "bounces" to account for the light reflected from the blinds. I
> assume you will need at least a value of 6 to achieve reasonable accurate
> results.

I have done some preliminary calculations for an empty room with blinds, but
without a window model, and when I use rtrace with -ab 1 to -ab 8 (for more
accuracy), I get larger and larger values for an illuminance. I assume that the
largest value for an illuminance (-ab 8) is close to correct value. (Similar
situation is explained on p.43, figure 33, Basic Radiance Tutorial, Axel Jacobs).

> Before you do your evaluation calculations you should do some tests to find
> parameters which are accurate enough for your situation:

> 1) Use one typical scene setup and a sky definition without sun (only
> skylight and ground) and calculate the illuminance on one point with
> increasing values for -ab...

> 2) With a reasonably accurate setting for -ab use the same scene and sky but
> define a sequence of 10 or more points from the window to the back of the...

> Your main concern about using multiple points is the processing time.
> However, if you pass all the points to rtrace in one call rtrace will cache..

These are useful advices. I will do what did you say, but after a holiday.

Regards, Milan




From milan.cakanovic at hotmail.com  Wed Dec 29 15:54:40 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Wed, 29 Dec 2010 23:54:40 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>
	<4D1A321A.9090809@gmx.net>
	<loom.20101229T033010-194@post.gmane.org>
	<4D1B3B84.9040506@gmx.net>
	<loom.20101229T204943-444@post.gmane.org>
	<9BC1DFF4-FF71-4F34-815E-7BB7FCE49E07@gmx.net>
Message-ID: <loom.20101230T005130-564@post.gmane.org>

Hi Lars!

> Perfect. Plus: if most ambient bounces are expected to happen in between
> diffuse blinds, you need the high setting of -ab only for mkillum.

Bravo Lars, I forgot to ask you about -ab for mkillum. But, when you say "high
setting of -ab", what is high? Is that maybe -ab 8, or maybe more?

> When running rtrace, you can probably stay at ab set to about 2, and that means
> you can follow previous advices to calculate irradiance for more then one point

I will do that.

> By the way, you are looking at diffuse reflective blinds, right?

Yes.

Cheers, Milan



From grobe at gmx.net  Thu Dec 30 04:17:56 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu, 30 Dec 2010 13:17:56 +0100
Subject: [Radiance-general] window glass modeling
In-Reply-To: <loom.20101230T005130-564@post.gmane.org>
References: <loom.20101228T160819-777@post.gmane.org>	<4D1A321A.9090809@gmx.net>	<loom.20101229T033010-194@post.gmane.org>	<4D1B3B84.9040506@gmx.net>	<loom.20101229T204943-444@post.gmane.org>	<9BC1DFF4-FF71-4F34-815E-7BB7FCE49E07@gmx.net>
	<loom.20101230T005130-564@post.gmane.org>
Message-ID: <4D1C7874.8010303@gmx.net>

Hi Milan!

>> Perfect. Plus: if most ambient bounces are expected to happen in between
>> diffuse blinds, you need the high setting of -ab only for mkillum.
>
> Bravo Lars, I forgot to ask you about -ab for mkillum. But, when you say "high
> setting of -ab", what is high? Is that maybe -ab 8, or maybe more?

-ab sets the number of bounces in the diffuse indirect calculation after 
which Radiance will stop spawning further rays. When you run mkillum, 
this means that you need to set ab to a value that ensures that rays hit 
the sun or sky unless the number of reflections led to that little 
Radiance left that you can safely skip. I doubt that you will see much 
changes at ab higher then 3 in your case, but there is a safe way to 
find out. Run a couple of simulations varying -ab for mkillum, and plot 
irradiance against ab. Use a sunless sky for that. In the case of open 
blinds, this will lead to a very low requirement for ab. In the case of 
mostly closed blinds, where the sky cannot be seen from the glass pane, 
ab would lead to an irradiance reading of 0, but will stabilize at 
higher ab. So the requirement will change according to the blinds tilt 
angle, and you will probably have to go with the worst case of almost 
closed blinds to determine the ab for your scene. I still doubt that you 
will see much changes when reaching high values for ab such as 8.

>> When running rtrace, you can probably stay at ab set to about 2, and that means
>> you can follow previous advices to calculate irradiance for more then one point

Again, important to imagine what this means. The ab value used by rtrace 
after the mkillum surface has been generated needs to ensure that the 
mkillum-generated source is hit during diffuse indirect calculation. As 
it is probably directly visible from the sensor location, most of the 
irradiance received will be directly transported from the source to the 
sensor, and only a very little fraction by one or more bounces over 
walls and ceilings. You will also be able to use relaced ad and as here, 
if the source surface is rather large and not hidden behind geometry.

>> By the way, you are looking at diffuse reflective blinds, right?
> Yes.

Important detail, all the responses you got would not be true for highly 
specular blinds...

Cheers, Lars.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101230/6f535dc7/attachment.bin>

From milan.cakanovic at hotmail.com  Thu Dec 30 08:32:40 2010
From: milan.cakanovic at hotmail.com (Milan Cakanovic)
Date: Thu, 30 Dec 2010 16:32:40 +0000 (UTC)
Subject: [Radiance-general] window glass modeling
References: <loom.20101228T160819-777@post.gmane.org>	<4D1A321A.9090809@gmx.net>	<loom.20101229T033010-194@post.gmane.org>	<4D1B3B84.9040506@gmx.net>	<loom.20101229T204943-444@post.gmane.org>	<9BC1DFF4-FF71-4F34-815E-7BB7FCE49E07@gmx.net>
	<loom.20101230T005130-564@post.gmane.org>
	<4D1C7874.8010303@gmx.net>
Message-ID: <loom.20101230T172438-726@post.gmane.org>

Hi Lars!

> ...In the case of open blinds, this will lead to a very low requirement for
> ab. In the case of mostly closed blinds, where the sky cannot be seen from
> the glass pane, ab would lead to an irradiance reading of 0, but will
> stabilize at higher ab. So the requirement will change according to the
> blinds tilt angle, and you will probably have to go with the worst case of
> almost closed blinds to determine the ab for your scene. I still doubt that
> you will see much changes when reaching high values for ab such as 8.

Let us assume that for the worst case of almost closed blinds, requirement for
-ab is 8. Is it right to use this set to ab (-ab 8) for the open blinds, or I
have to adapt (decrease) value for -ab?  I know that high value for -ab leads to
the longer time of calculation.

> Again, important to imagine what this means. The ab value used by rtrace
> after the mkillum surface has been generated needs to ensure that the mkillum
> generated source is hit during diffuse indirect calculation. As it is
> probably directly visible from the sensor location, most of the irradiance
> received will be directly transported from the source to the sensor, and only
> a very little fraction by one or more bounces over walls and ceilings. You
> will also be able to use relaced ad and as here, if the source surface is
> rather large and not hidden behind geometry.

I think that I understood this: If I use an appropriate high value of -ab for
mkillum, after that, I can use an appropriate low value of -ab for rtrace, and
thus, reduce a calculation time.
I have done some preliminary calculations for an empty room with completely
closed blinds, four luminaires turned on, and when I used rtrace with -ab 0 to
-ab 8 (for more accuracy), I got higher and higher values for an illuminance in
one sensor point (for -ab 0, illuminance~500 lux; for -ab 8 illuminance~800). I
assume that the higher value for an illuminance (-ab 8) is close to correct
value? (Similar situation is explained on p.43, figure 33, Basic Radiance
Tutorial, Axel Jacobs).

> Important detail, all the responses you got would not be true for highly
> specular blinds...

Material for the slats is define:

void plastic whit_0.9
0
0
5  .9 .9 .9  .015 .02

Specularity :  0 - matte;      0.07 - satin
Roughness :  0 - polished; 0.2   - low gloss
I used a value of .015 for specularity, but if you think that I need to use a
lower value, I will do that. Maybe a value of 0?

Cheers, Milan



From gregoryjward at gmail.com  Thu Dec 30 15:37:20 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 30 Dec 2010 15:37:20 -0800
Subject: [Radiance-general] Noisy irradiance rendering from glow
	materials
In-Reply-To: <E35477F1A321144D897D44CCAAFF202C091DE75D43@AD-MAILBOX01.aau.dk>
References: <E35477F1A321144D897D44CCAAFF202C091DE75D43@AD-MAILBOX01.aau.dk>
Message-ID: <75DEF7D5-96D6-4A65-ACCF-8FE0DBF5CB51@lmi.net>

Hi Claus,

I am also a little puzzled by your results.  As Thomas mentioned, glow surfaces are included in the indirect calculation, so unless you specified a positive radius value for your glow materials, they should not light your scene at all with -ab 0.  The complexities of your command line are mostly unnecessary.  You should be able to simplify it to:

vwrays -ff -x $XRES -y $YRES -vf $NAME.vp \
|rtrace -h -fff -opN $NAME.oct \
|rtrace -ffc -x $XRES -y $YRES -I -ab 1 -aa 0.1 -ad 4096 -ar 0 $NAME.oct > $NAME.irradiance.hdr

Rays with zero normals will be evaluated as (0 0 0) by the second rtrace, and an epsilon is always added to the origin in the direction of the normal when using the -I option, so your rcalc command, while clever, is unnecessary.  I changed your -ab to 1 and got rid of the other unnecessary options.  I set -ar to 0, since you seem to want a very high resolution result.  I added -aa 0.1 for the same reason.

If you are still getting this peculiar noise pattern after these changes, please post your scene description and I'll have a look at it.

Best,
-Greg

P.S.  Regarding mailing list policy on attachments.  In general, I prefer that people not attach large files to e-mails, and people have been very good about this, posting larger images on websites, instead.  Small JPEGs (less than 100K or so) are acceptable; likewise small text attachments are OK.

> From: Claus Br?ndgaard Madsen <cbm at create.aau.dk>
> Date: December 29, 2010 1:59:30 PM PST
>  
> Dear list, 
> 
> With a lot of inspiration from Thomas Bleicher?s tutorial (http://sites.google.com/site/tbleicher/radiance/stencil) which he pointed me to back in August (yes, it took me a while to gather the courage to go down that path) I have managed to devise a small script (or rather a command line) which allows me to render the irradiances received at any point in a scene with all glow materials (the standard ?i irradiance option for rpict does not work for glow materials).
> 
> I attach (not so sure about list rules regarding attachments) the scene rendered where pixel values represent the outgoing radiance of the glow materials (radiance.jpg) and the scene rendered such that every pixel represents the incident irradiance in the same scene (irradiance.jpg). There are no other light sources than the glow materials.
> 
> My question is simply: how to reduce the significant amount of rendering noise for the (near) vertical surfaces? The irradiance on those surfaces is dominated by energy coming from the horizontal ground plane, which is a single box object (genbox). 
> 
> I feel I have tried ?everything? with the render options (see my setting below) but have seen no improvement in render noise ? hope to get some pointers/ideas from the list.
> 
> I use the following command line command to render the irradiance:
> 
> vwrays -ff -x $XRES -y $YRES -vf $NAME.vp \
> 
> |rtrace -ffa -opN $NAME.oct \
> 
> |sed '1,8d' \
> 
> |rcalc -ia6 -of \
> 
> -e '$1=$1 + 0.001*$4;$2=$2 + 0.001*$5;$3=$3 + 0.001*$6' \
> 
> -e 'out(v)=if(sqrt($4*$4 + $5*$5 + $6*$6) - 0.9,v,-1)' \
> 
> -e '$4=out($4);$5=out($5);$6=out($6)'  \
> 
> |rtrace -ffc -x $XRES -y $YRES -I -ab 0  -aw 1 -ad 4096 -ar 4096 -dt 0.0 -dp 8192 -ds 0.01 -dj 0.9 $NAME.oct > $NAME.irradiance.hdr
> 
> In short: use vwrays to generate the primary rays needed to render the scene, pipe into rtrace to get intersection points and normals, pipe into sed to get rid of header generated by rtrace and leave only lines with intersection point and normal, pipe through rcalc to ?lift? intersection points 1/1000 of a unit in the direction of the normal (to avoid surface self-intersection problems later when using intersection point and normal as the start point for an incident irradiance computation) ? and rcalc also sets a (-1, -1, -1) direction vector if the original surface normal from rtrace is close to zero length, finally pipe through rtrace, this time with ?I option to gather incident irradiance at the ?lifted? surface point. 
> 
> Best,
> 
> Claus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20101230/2f5c96ca/attachment.html>

