From eslee at lbl.gov  Mon Jan  4 12:27:54 2010
From: eslee at lbl.gov (Eleanor Lee)
Date: Mon Jan  4 12:27:58 2010
Subject: [Radiance-general] Radiance Job Opportunity at the Lawrence
	Berkeley National Laboratory
Message-ID: <4B424F4A.1060303@lbl.gov>

Hi Folks:

As a follow-on to the informal invitation made at the Radiance 2009 
Workshop, I'd like to extend an invitation to interested individuals to 
join a team of motivated building scientists, architects, and engineers 
developing new daylighting tools and technology solutions that will 
provide highly efficient solutions for the next generation of net zero 
energy buildings.   

The Lawrence Berkeley National Laboratory in Berkeley, California has a 
new opening in the Building Technology Department for a Radiance Senior 
Scientific Engineering Associate.  The successful candidate will 
participate in the development, validation and maintenance of the next 
generation of facade, lighting and daylighting simulation and analysis 
tools and utilize these tools for the design, evaluation, and operation 
of innovative low-energy building solutions. 

Details are posted at: http://cjo.lbl.gov/details.asp?jid=23906&p=1 
<http://cjo.lbl.gov/details.asp?jid=23906&p=1> 

For an informal discussion about the opening, call Eleanor Lee (510 486 
4997). 

To review recent projects, see:

http://windows.lbl.gov/comm_perf/newyorktimes.htm

http://lowenergyfacades.lbl.gov/resources.html

best regards,
Eleanor Lee
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100104/426b0698/attachment.htm
From maricanis at gmail.com  Tue Jan  5 03:56:02 2010
From: maricanis at gmail.com (Marija Velickovic)
Date: Tue Jan  5 03:56:27 2010
Subject: [Radiance-general] Create constant radiance image
Message-ID: <124b40401001050356u2e8c49d9qc892466b743ee419@mail.gmail.com>

Hi,

Happy New Year to all members and their families!

Is there some easy 'one command' way to create Radiance image with all
pixels set to some constant value?

Equation like this works, where in dat file are listed pixel values
pvalue -r -h +Y 9 +X 5 -d pixel_file.dat > uniform_image.hdr

But I need images of various resolutions, so not much sense to create dat
file with 1024x1024 or so, equal pixels as input for pvalue.

Is there some way to give some constant radiance value and resolution on
input of pvalue or some other program to create such images?

I tried creation of small image as above and then make it bigger with pfilt,
but if image is completely black (all 0 pixels) for example, pfilt can't
filter it.

Thanks,
Marija.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100105/ec258c06/attachment.html
From dbs176 at gmail.com  Tue Jan  5 07:07:25 2010
From: dbs176 at gmail.com (David Smith)
Date: Tue Jan  5 07:07:32 2010
Subject: [Radiance-general] Create constant radiance image
Message-ID: <694e132c1001050707y7f4d86bdnd9d9013233f632b2@mail.gmail.com>

This script below may be on the right track. Save it as "pblank", make
it executable, and put it in /usr/bin or wherever. It'll make a X by Y
image with all pixels having value of VALUE. It requires Python to be
installed, by the way.

--Dave




#! /bin/bash

# pblank - make an X by Y Radiance HDR image with all pixels having
values of VALUE
#
# Usage:
#
# pblank [x] [y] [value] > outfile
#
# by David Smith, July 2009

echo "print('$3 $3 $3 \n' * $1 * $2)" | python | pvalue -di -d -r -h
-H -y $2 +x $1

From maricanis at gmail.com  Tue Jan  5 07:21:48 2010
From: maricanis at gmail.com (Marija Velickovic)
Date: Tue Jan  5 07:22:29 2010
Subject: [Radiance-general] Create constant radiance image
In-Reply-To: <694e132c1001050707y7f4d86bdnd9d9013233f632b2@mail.gmail.com>
References: <694e132c1001050707y7f4d86bdnd9d9013233f632b2@mail.gmail.com>
Message-ID: <124b40401001050721j1406eee8y8b2c31a47d23791c@mail.gmail.com>

Hi Dave,

Thanks for idea!

I'm in fact using Python and trying to include in my code, generation of
such images.
I didn't know that command:
print "a" * X
in Python, will print string "a", X times; so your idea will help me a lot.

Thanks again,
Marija


On Tue, Jan 5, 2010 at 4:07 PM, David Smith <dbs176@gmail.com> wrote:

> This script below may be on the right track. Save it as "pblank", make
> it executable, and put it in /usr/bin or wherever. It'll make a X by Y
> image with all pixels having value of VALUE. It requires Python to be
> installed, by the way.
>
> --Dave
>
>
> #! /bin/bash
>
> # pblank - make an X by Y Radiance HDR image with all pixels having
> values of VALUE
> #
> # Usage:
> #
> # pblank [x] [y] [value] > outfile
> #
> # by David Smith, July 2009
>
> echo "print('$3 $3 $3 \n' * $1 * $2)" | python | pvalue -di -d -r -h
> -H -y $2 +x $1
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100105/34236dee/attachment.htm
From Robert.Guglielmetti at nrel.gov  Tue Jan  5 09:02:42 2010
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue Jan  5 09:02:46 2010
Subject: [Radiance-general] Create constant radiance image
In-Reply-To: <124b40401001050356u2e8c49d9qc892466b743ee419@mail.gmail.com>
Message-ID: <C768BEC2.1ACC%robert.guglielmetti@nrel.gov>

Hi Marija,

You could do this with pcompos. The -b option is used for specifying the
radiance:

pcompos -x 1200 -y 800 -b r g b

Basically, you're using pcompos but not composing anything but a background,
the color of which is specified with that -b option.

- Rob

On 1/5/10 4:56 AM, "Marija Velickovic" <maricanis@gmail.com> wrote:

> Hi,
> 
> Happy New Year to all members and their families!
> 
> Is there some easy 'one command' way to create Radiance image with all pixels
> set to some constant value?
> 
> Equation like this works, where in dat file are listed pixel values
> pvalue -r -h +Y 9 +X 5 -d pixel_file.dat > uniform_image.hdr
> 
> But I need images of various resolutions, so not much sense to create dat file
> with 1024x1024 or so, equal pixels as input for pvalue.
> 
> Is there some way to give some constant radiance value and resolution on input
> of pvalue or some other program to create such images?
> 
> I tried creation of small image as above and then make it bigger with pfilt,
> but if image is completely black (all 0 pixels) for example, pfilt can't?
> filter it.
> 
> Thanks,
> Marija.
> 
> 


From jm at dmu.ac.uk  Wed Jan  6 02:06:35 2010
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed Jan  6 02:06:48 2010
Subject: [Radiance-general] Create constant radiance image
Message-ID: <918A0865-79C8-42EF-BA62-D56C853E0F5F@dmu.ac.uk>

The <return> option of ximage seems to give the maximum radiance in  
any one channel rather than the RGB weighted value, whereas the 'l'  
option gives the expected (RGB weighted) luminance value.  The -ov  
option reports correctly.  Anyone else see this?

Version RADIANCE 4.0a lastmod Fri 30 Jan 2009.

-John

-----------------------------------------------
Dr. John Mardaljevic
Reader in Daylight Modelling
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm




From gregoryjward at gmail.com  Wed Jan  6 09:26:31 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed Jan  6 09:24:56 2010
Subject: [Radiance-general] Create constant radiance image
In-Reply-To: <918A0865-79C8-42EF-BA62-D56C853E0F5F@dmu.ac.uk>
References: <918A0865-79C8-42EF-BA62-D56C853E0F5F@dmu.ac.uk>
Message-ID: <8709742A-6B60-438B-BD61-B7598304911D@lmi.net>

Hi John,

You are correct -- weighting values are not applied for the <return>  
reporting in ximage, corresponding to the radiant "intensity" for this  
pixel or area.  There is no agreed-upon weighting for radiance values,  
only luminance, which is the reason for the different choices.  You  
can always divide the 'l' report by 179 if you want a photometrically- 
weighted radiance quantity.  The 'c' command reports the RGB color,  
but adjusted by the current exposure scale, which is not really useful  
as a radiometric quantity.

Cheers,
-Greg

> From: John Mardaljevic <jm@dmu.ac.uk>
> Date: January 6, 2010 2:06:35 AM PST
>
> The <return> option of ximage seems to give the maximum radiance in  
> any one channel rather than the RGB weighted value, whereas the 'l'  
> option gives the expected (RGB weighted) luminance value.  The -ov  
> option reports correctly.  Anyone else see this?
>
> Version RADIANCE 4.0a lastmod Fri 30 Jan 2009.
>
> -John

From jm at dmu.ac.uk  Wed Jan  6 11:13:32 2010
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Wed Jan  6 11:13:46 2010
Subject: [Radiance-general] Create constant radiance image
Message-ID: <01A99AE8-E18C-4B44-858B-312D94659930@dmu.ac.uk>

> There is no agreed-upon weighting for radiance values, only luminance

Of course (duh)!  I get so used to working between irradiance and  
illuminance using luminous efficacy models that I occasionally forget  
some of the R(r)adiance basics.  Nonetheless, to avoid confusion in  
the future, might I suggest an update to the ximage manpage?  Perhaps  
something like:

<return> 		Display the mean RGB radiance averaged over the area of  
interest.  [For a single value, the mean seems less arbitrary than the  
maximum value for any one of the channels.  Otherwise, some indication  
of what the current behaviour is.]
l 			Display the photometrically-weighted RGB luminance value in the  
area of interest. This assumes that the image was correctly computed  
in terms of luminance.
Then again, if I'm the only person who's been bamboozled by this, it's  
probably not worth the mods to the man page.
-John
-----------------------------------------------
Dr. John Mardaljevic
Reader in Daylight Modelling
Institute of Energy and Sustainable Development
De Montfort University
The Gateway
Leicester
LE1 9BH, UK
+44 (0) 116 257 7972
+44 (0) 116 257 7981 (fax)

jm@dmu.ac.uk
http://www.iesd.dmu.ac.uk/~jm




From gregoryjward at gmail.com  Thu Jan  7 09:56:32 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu Jan  7 09:56:38 2010
Subject: [Radiance-general] Create constant radiance image
In-Reply-To: <01A99AE8-E18C-4B44-858B-312D94659930@dmu.ac.uk>
References: <01A99AE8-E18C-4B44-858B-312D94659930@dmu.ac.uk>
Message-ID: <88177471-5EFD-4261-B89E-E6E2B78D1179@lmi.net>

Hi John,

I updated the ximage man page with the current behavior, which is to  
take the peak of the three channels for reporting of radiance.

Cheers,
-Greg

> From: John Mardaljevic <jm@dmu.ac.uk>
> Date: January 6, 2010 11:13:32 AM PST
>
>> There is no agreed-upon weighting for radiance values, only luminance
>
> Of course (duh)!  I get so used to working between irradiance and  
> illuminance using luminous efficacy models that I occasionally  
> forget some of the R(r)adiance basics.  Nonetheless, to avoid  
> confusion in the future, might I suggest an update to the ximage  
> manpage?  Perhaps something like:
>
> <return> 		Display the mean RGB radiance averaged over the area of  
> interest.  [For a single value, the mean seems less arbitrary than  
> the maximum value for any one of the channels.  Otherwise, some  
> indication of what the current behaviour is.]
> l 			Display the photometrically-weighted RGB luminance value in the  
> area of interest. This assumes that the image was correctly computed  
> in terms of luminance.
> Then again, if I'm the only person who's been bamboozled by this,  
> it's probably not worth the mods to the man page.
> -John

From dboz66 at earthlink.net  Thu Jan  7 12:21:23 2010
From: dboz66 at earthlink.net (Dave Bosworth)
Date: Thu Jan  7 12:21:27 2010
Subject: [Radiance-general] su2rad full path name required at Xform?
Message-ID: <713681.1262895683608.JavaMail.root@wamui-hunyo.atl.sa.earthlink.net>

Hello!

I have been playing with Thomas' su2rad exporter: very nice.  I have one hopefully quick and easy fix.  When I finish the export and run rad, I get file not found warnings from rpict, it can't locate the .sky file in the skies folder and the rad files in the objects folder.  I have been having to go into the .rif file and add the full file path to these files, along with the full file path for these same files in the !xform function in the .rad file.  I'm using OS X 10.5.  any advice?

thanks

dave bosworth


From rpg at rumblestrip.org  Thu Jan  7 14:04:36 2010
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Jan  7 14:04:38 2010
Subject: [Radiance-general] su2rad full path name required at Xform?
In-Reply-To: <713681.1262895683608.JavaMail.root@wamui-hunyo.atl.sa.earthlink.net>
References: <713681.1262895683608.JavaMail.root@wamui-hunyo.atl.sa.earthlink.net>
Message-ID: <629d25c6a77481079777260a88113053.squirrel@webmail.rumblestrip.org>

On Thu, January 7, 2010 1:21 pm, Dave Bosworth wrote:
> Hello!

Howdy Dave...

> I have been playing with Thomas' su2rad exporter: very nice.  I have one
> hopefully quick and easy fix.  When I finish the export and run rad, I get
> file not found warnings from rpict, it can't locate the .sky file in the
> skies folder and the rad files in the objects folder.  I have been having
> to go into the .rif file and add the full file path to these files, along
> with the full file path for these same files in the !xform function in the
> .rad file.  I'm using OS X 10.5.  any advice?

Hmmm, two things:

1. Sometimes for whatever reason people's PATH statements do not include
the current directory (.) and so a reference to a file in scene/thing.rad
will fail, but a reference to ./scene/thing.rad would be found. Can you
confirm this?

2. Also, Thomas has a Google Code site for his su2rad project. There may
be some stuff there that is helpful:

http://code.google.com/p/su2rad/




From tbleicher at googlemail.com  Thu Jan  7 15:07:06 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Thu Jan  7 15:07:09 2010
Subject: [Radiance-general] su2rad full path name required at Xform?
In-Reply-To: <713681.1262895683608.JavaMail.root@wamui-hunyo.atl.sa.earthlink.net>
References: <713681.1262895683608.JavaMail.root@wamui-hunyo.atl.sa.earthlink.net>
Message-ID: <89355c0f1001071507p7ae7151cy30079090fe0a5d57@mail.gmail.com>

On Thu, Jan 7, 2010 at 8:21 PM, Dave Bosworth <dboz66@earthlink.net> wrote:
> Hello!
>
> I have been playing with Thomas' su2rad exporter: very nice.

And still getting nicer ...

>?I have one hopefully quick and easy fix. When I finish
> the export and run rad, I get file not found warnings from
> rpict, it can't locate the .sky file in the skies folder and
> the rad files in the objects folder.

Are you starting rad in the folder of the *.rif and *.rad file?
The references only work when your current working directory
is this "project" folder.

Rob also wrote about the "." in the RAYPATH environment
variable. I'm not quite sure about that because I did run my
simulations using relative paths without this variable set.
Maybe the default value includes the current directory and
it only breaks if you have it set and not included the ".".

Hope that fixes it.
Thomas

From dboz66 at earthlink.net  Thu Jan  7 17:37:28 2010
From: dboz66 at earthlink.net (Dave Bosworth)
Date: Thu Jan  7 17:37:33 2010
Subject: [Radiance-general] su2rad full path name required at Xform?
Message-ID: <17949254.1262914648873.JavaMail.root@wamui-hunyo.atl.sa.earthlink.net>

Yes, I am starting rad from the folder with the *.rif and *.rad file.  And as to Rob's suggestion, if the files are prefixed with ./ then everything works fine.  I could add . to RAYPATH, I would also be perfectly happy to add ./ to the print statements in my copy of the su2rad plugins, if Thomas might guide me to the appropriate module...

thanks!

dave

-----Original Message-----
>From: Thomas Bleicher <tbleicher@googlemail.com>
>Sent: Jan 7, 2010 6:07 PM
>To: Dave Bosworth <dboz66@earthlink.net>, Radiance general discussion <radiance-general@radiance-online.org>
>Subject: Re: [Radiance-general] su2rad full path name required at Xform?
>
>On Thu, Jan 7, 2010 at 8:21 PM, Dave Bosworth <dboz66@earthlink.net> wrote:
>> Hello!
>>
>> I have been playing with Thomas' su2rad exporter: very nice.
>
>And still getting nicer ...
>
>>?I have one hopefully quick and easy fix. When I finish
>> the export and run rad, I get file not found warnings from
>> rpict, it can't locate the .sky file in the skies folder and
>> the rad files in the objects folder.
>
>Are you starting rad in the folder of the *.rif and *.rad file?
>The references only work when your current working directory
>is this "project" folder.
>
>Rob also wrote about the "." in the RAYPATH environment
>variable. I'm not quite sure about that because I did run my
>simulations using relative paths without this variable set.
>Maybe the default value includes the current directory and
>it only breaks if you have it set and not included the ".".
>
>Hope that fixes it.
>Thomas


From dboz66 at earthlink.net  Thu Jan  7 18:07:55 2010
From: dboz66 at earthlink.net (Dave Bosworth)
Date: Thu Jan  7 18:07:59 2010
Subject: [Radiance-general] su2rad full path name required at Xform?
Message-ID: <22599523.1262916475929.JavaMail.root@wamui-hunyo.atl.sa.earthlink.net>

OK, never mind: I found all the appropriate write statements in the radiancescenes.rb files and added a ./ suffix to the appropriate statements. Now everything seems to work OK.  Don't know why my defaults don't have that path....I haven't done anything to them.

onward and upward!

dave

-----Original Message-----
>From: Rob Guglielmetti <rpg@rumblestrip.org>
>Sent: Jan 7, 2010 5:04 PM
>To: Dave Bosworth <dboz66@earthlink.net>, Radiance general discussion <radiance-general@radiance-online.org>
>Subject: Re: [Radiance-general] su2rad full path name required at Xform?
>
>On Thu, January 7, 2010 1:21 pm, Dave Bosworth wrote:
>> Hello!
>
>Howdy Dave...
>
>> I have been playing with Thomas' su2rad exporter: very nice.  I have one
>> hopefully quick and easy fix.  When I finish the export and run rad, I get
>> file not found warnings from rpict, it can't locate the .sky file in the
>> skies folder and the rad files in the objects folder.  I have been having
>> to go into the .rif file and add the full file path to these files, along
>> with the full file path for these same files in the !xform function in the
>> .rad file.  I'm using OS X 10.5.  any advice?
>
>Hmmm, two things:
>
>1. Sometimes for whatever reason people's PATH statements do not include
>the current directory (.) and so a reference to a file in scene/thing.rad
>will fail, but a reference to ./scene/thing.rad would be found. Can you
>confirm this?
>
>2. Also, Thomas has a Google Code site for his su2rad project. There may
>be some stuff there that is helpful:
>
>http://code.google.com/p/su2rad/
>
>
>


From perhaugaard at yahoo.dk  Mon Jan 11 04:10:16 2010
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Mon Jan 11 04:10:24 2010
Subject: [Radiance-general] Removing black areas in imagemapping
Message-ID: <460295.98573.qm@web26604.mail.ukl.yahoo.com>

Dear users,

I am mapping a falsecolor image on a working in a room but there is still some black parts left in the image.? I have FTINY as a guard against rounding errors but it does not remove everything.

As written i Axel J. tutorial I have build a .cal file with a nonzero function:

nonzero(r,g,b) = if(max(r,max(g,b))-FTINY, 1, 0);
fc_u = -(Py-16.6)/12.8;
fc_v = (Px-0.2)/12.8;

Any idea of how to remove the remaining black spots in the image?

The images can be seen at:
http://perhaugaard.blogspot.com/2010/01/removing-black-parts-in-imagemapping-in.html 


Happy new year

/Per



      Find din nye laptop p? kelkoo.dk. Se de gode tilbud her - http://dk.yahoo.com/r/pat/mm
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100111/b1765e26/attachment.html
From andrew.mcneil at arup.com  Mon Jan 11 10:19:33 2010
From: andrew.mcneil at arup.com (Andrew McNeil)
Date: Mon Jan 11 10:19:52 2010
Subject: [Radiance-general] Removing black areas in imagemapping
In-Reply-To: <460295.98573.qm@web26604.mail.ukl.yahoo.com>
Message-ID: <C770ABB5.E599%andrew.mcneil@arup.com>

Hi Per,

Perhaps you are experiencing rounding error larger than FTINY.  I?d suggest
replacing FTINY with a larger value (ie 2e-3) and seeing if black spots
reduce.  A bit of trial and error might be necessary.

If that doesn?t work can you send more scene info?  I?d like to see your
falsecolor statement, your colorpict and mixpict material definitions and
perhaps you could post your contour image in hdr format.

Best,
Andy


On 1/11/10 4:10 AM, "Per Haugaard" <perhaugaard@yahoo.dk> wrote:

> Dear users,
> 
> I am mapping a falsecolor image on a working in a room but there is still some
> black parts left in the image.  I have FTINY as a guard against rounding
> errors but it does not remove everything.
> 
> As written i Axel J. tutorial I have build a ..cal file with a nonzero
> function:
> 
> nonzero(r,g,b) = if(max(r,max(g,b))-FTINY, 1, 0);
> fc_u = -(Py-16.6)/12.8;
> fc_v = (Px-0.2)/12.8;
> 
> Any idea of how to remove the remaining black spots in the image?
> 
> The images can be seen at:
> http://perhaugaard.blogspot.com/2010/01/removing-black-parts-in-imagemapping-i
> n.html 
> 
> 
> Happy new year
> 
> /Per
> 
>  
> 
> 
>  Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD
> TV <http://dk.yahoo.com/r/pat/lcd> !
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100111/7327647d/attachment.htm
From tbleicher at googlemail.com  Tue Jan 12 01:03:37 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Tue Jan 12 01:03:42 2010
Subject: [Radiance-general] Removing black areas in imagemapping
In-Reply-To: <460295.98573.qm@web26604.mail.ukl.yahoo.com>
References: <460295.98573.qm@web26604.mail.ukl.yahoo.com>
Message-ID: <89355c0f1001120103h2211cd8dk64db3a886bea52d5@mail.gmail.com>

On Mon, Jan 11, 2010 at 12:10 PM, Per Haugaard <perhaugaard@yahoo.dk> wrote:
>
> Dear users,
>
> I am mapping a falsecolor image on a working in a room but there is still some black parts left in the image.
> I have FTINY as a guard against rounding errors but it does not remove everything.

As Andy already wrote, FTINY is a very small value to avoid
rounding errors. You just want to identify pixels which are black
(or nearly black) and the red, green and blue colours in the
falsecolor image. You can use ximage or pvalue to work out
the average value of a black pixel and the intensity of the
colours. I'd expect that 0.1 as a treshold value will give you
better results; you might even go up to 0.5 given that the
contour lines are rather intense.

Regards,
Thomas

From perhaugaard at yahoo.dk  Tue Jan 12 01:09:40 2010
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Tue Jan 12 01:09:45 2010
Subject: [Radiance-general] Removing black areas in imagemapping
Message-ID: <957699.45447.qm@web26605.mail.ukl.yahoo.com>

Hi Andrew,

Thank you for your reply. Nothing happens when I play with the FTINY. The image remains the same if I remove FTINY and also if I change the expecting rounding error to 2e-3 or larger. I guess the error might be elsewhere. 

Below you will find the input for the illum and falsecolor image.

# calculating illumince values on a virtual plan using vwrays
vwrays -x 600 -y 600 -vf views/kontor_ned.vp \
| rcalc -e '$1=$1; $2=$2; $3=0.8; $4=$4; $5=$5; $6=1' \
| rtrace -ab 3 -aa 0.1 -ar 128 -ad 512 -as 256 -fac -w -I -ov `vwrays -d -vf views/kontor_ned.vp -x 600 -y 600` \
octrees/kontor_CIE.oct > images/vwrays_illum.pic

# making falsecolor image of the illuminace image
falsecolor -n 10 -s 1000 -lw 0 -cl -i images/vwrays_illum.pic >
 images/vwrays_illum_falsecolor.pic

Below is the viewfile kontor_ned.vp

rview -vtl -vp 6.4 8.4 2.79 -vd 0 0 -1 -vu 1 0 0 -vh 16.6 -vv 12.8 -vo 0 -va 0 -vs 0 -vl 0

Below is the input for the working plane image:

void colorpict fc_val
7 red green blue images/vwrays_illum_falsecolor.pic fc_4.cal fc_u fc_v
0
0

fc_val glow fc_glow
0
0
4 10 10 10 0

fc_glow polygon office.working_plane
0
0
12
??? ???????????????? 0.2??? ?????????????? 0.2??? ???????????????? 0.8
??? ???????????????? 13.0??? ?????????????? 0.2???
 ????????????????
 0.8
??? ???????????????? 13.0??? ????????????? 16.8??? ???????????????? 0.8
??? ???????????????? 0.2??? ????????????? 16.8??? ???????????????? 0.8

void mixpict mp
7 fc_glow void nonzero images/vwrays_illum_falsecolor.pic fc_4.cal fc_u fc_v
0
0

mp polygon
 office.working_plane.2
0
0
12
??????????????????????? 0.2?????????????????? 0.2?????????????????????? 0.8
??????????????????????? 13.0????????????????? 0.2?????????????????????? 0.8
???????????????????????
 13.0???????????????? 16.8?????????????????????? 0.8
??????????????????????? 0.2????????????????? 16.8?????????????????????? 0.8

And below is the fc_4.cal file 

nonzero(r,g,b) = if(max(r,max(g,b))-FTINY, 1, 0);
fc_u = -(Py-16.6)/12.8;
fc_v = (Px-0.2)/12.8;

I have not been working with HDR images. Maybe you can update on how to easily convert from pic-files to hdr-files in Linux, so I can upload these for illustration purposes.

Best regards

Per,

--- Den man 11/1/10 skrev Andrew McNeil <andrew.mcneil@arup.com>:

Fra: Andrew McNeil
 <andrew.mcneil@arup.com>
Emne: Re: [Radiance-general] Removing black areas in imagemapping
Til: perhaugaard@yahoo.dk, "Radiance general discussion" <radiance-general@radiance-online.org>
Dato: mandag 11. januar 2010 19.19



Re: [Radiance-general] Removing black areas in imagemapping
Hi Per,



Perhaps you are experiencing rounding error larger than FTINY. ?I?d suggest replacing FTINY with a larger value (ie 2e-3) and seeing if black spots reduce. ?A bit of trial and error might be necessary.



If that doesn?t work can you send more scene info? ?I?d like to see your falsecolor statement, your colorpict and mixpict material definitions and perhaps you could post your contour image in hdr format.



Best,

Andy





On 1/11/10 4:10 AM, "Per Haugaard" <perhaugaard@yahoo.dk> wrote:



Dear users,



I am mapping a falsecolor image on a working in a room but there is still some black parts left in the image. ?I have FTINY as a guard against rounding errors but it does not remove everything.



As written i Axel J. tutorial I have build a ..cal file with a nonzero function:



nonzero(r,g,b) = if(max(r,max(g,b))-FTINY, 1, 0);

fc_u = -(Py-16.6)/12.8;

fc_v = (Px-0.2)/12.8;



Any idea of how to remove the remaining black spots in the image?



The images can be seen at:

http://perhaugaard.blogspot.com/2010/01/removing-black-parts-in-imagemapping-in.html 





Happy new year



/Per



?



?Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD TV <http://dk.yahoo.com/r/pat/lcd> ! 

_______________________________________________

Radiance-general mailing list

Radiance-general@radiance-online.org

http://www.radiance-online.org/mailman/listinfo/radiance-general


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
 



      Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD TV! Se her http://dk.yahoo.com/r/pat/lcd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100112/f7a3968c/attachment.html
From tbleicher at googlemail.com  Tue Jan 12 02:55:26 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Tue Jan 12 02:55:31 2010
Subject: [Radiance-general] Removing black areas in imagemapping
In-Reply-To: <957699.45447.qm@web26605.mail.ukl.yahoo.com>
References: <957699.45447.qm@web26605.mail.ukl.yahoo.com>
Message-ID: <89355c0f1001120255x2fdb6e38mafbba1443c49fe4f@mail.gmail.com>

Per.

I still think that your problem is the value at which
mixfunc decides if the value from the fc image should
be used or not (based on your non-zero function).

You can try and replace the function once with

nonzero(r,g,b) = 1

and then with

nonzero(r,g,b) = 0

In the first case you should get the whole surface
in black (because every pixel is used), in the second
you should see nothing at all. (Mind you, I haven't
tested these functions; I only assume they work!)

Also use phisto on your falsecolor image to see the
actual values of the black pixels. It looks like there
is a range of "dark grey" instead of black. If you convert
your image to tiff or ppm, edit the grey values to black
in Photoshop and convert it back you might have a
better result already. I'm sure there is also a way to
do this with Radiance tools but I don't have one ready.

On Tue, Jan 12, 2010 at 9:09 AM, Per Haugaard <perhaugaard@yahoo.dk> wrote:

> I have not been working with HDR images. Maybe you can update on how to
> easily convert from pic-files to hdr-files in Linux, so I can upload these
> for illustration purposes.
>
>
*.pic files are *.hdr images. The extension is just a
convention and since the world has adopted *.hdr for
this type of images the Radiance community is moving
to this extension, too.

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100112/0f60e7dc/attachment.htm
From perhaugaard at yahoo.dk  Tue Jan 12 04:12:23 2010
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Tue Jan 12 04:12:32 2010
Subject: [Radiance-general] Removing black areas in imagemapping
In-Reply-To: <89355c0f1001120255x2fdb6e38mafbba1443c49fe4f@mail.gmail.com>
Message-ID: <291007.81696.qm@web26608.mail.ukl.yahoo.com>

Hi Thomas,

I tested the nonzero part of your mail. nonzero(r,g,b) = 1; returns the falsecolor image on the workingplane and nonzero(r,g,b) = 0; returns the image 3 on http://perhaugaard.blogspot.com/. 

The error is elsewhere or?


/Per



--- Den tirs 12/1/10 skrev Thomas Bleicher <tbleicher@googlemail.com>:

Fra: Thomas Bleicher <tbleicher@googlemail.com>
Emne: Re: [Radiance-general] Removing black areas in imagemapping
Til: perhaugaard@yahoo.dk, "Radiance general discussion" <radiance-general@radiance-online.org>
Dato: tirsdag 12. januar 2010 11.55

Per.

I still think that your problem is the value at which
mixfunc decides if the value from the fc image should
be used or not (based on your non-zero function).

You can try and replace the function once with


nonzero(r,g,b) = 1

and then with 

nonzero(r,g,b) = 0

In the first case you should get the whole surface
in black (because every pixel is used), in the second
you should see nothing at all. (Mind you, I haven't

tested these functions; I only assume they work!)

Also use phisto on your falsecolor image to see the
actual values of the black pixels. It looks like there
is a range of "dark grey" instead of black. If you convert

your image to tiff or ppm, edit the grey values to black
in Photoshop and convert it back you might have a
better result already. I'm sure there is also a way to
do this with Radiance tools but I don't have one ready.


On Tue, Jan 12, 2010 at 9:09 AM, Per Haugaard <perhaugaard@yahoo.dk> wrote:


I have not been working with HDR images. Maybe you can update on how to easily convert from pic-files to hdr-files in Linux, so I can upload these for illustration
 purposes.


*.pic files are *.hdr images. The extension is just a
convention and since the world has adopted *.hdr for
this type of images the Radiance community is moving

to this extension, too.

Regards,
Thomas





      ________________________________________________________ 
Audi, Fiat, Peugeot, Skoda, Porsche, Toyota, Ford - Kelkoo har brugte biler til en hver smag! Klik her for at sammenligne priser.(http://dk.yahoo.com/r/pat/mmb)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100112/822e61f4/attachment.html
From andrew.mcneil at arup.com  Tue Jan 12 10:39:10 2010
From: andrew.mcneil at arup.com (Andrew McNeil)
Date: Tue Jan 12 10:39:30 2010
Subject: [Radiance-general] Removing black areas in imagemapping
In-Reply-To: <957699.45447.qm@web26605.mail.ukl.yahoo.com>
Message-ID: <C77201CE.E5DC%andrew.mcneil@arup.com>

Hi Per,

You have two workplane polygons in your scene, one with material fc_glow and
one with material mp.  The blotches are a result of radiance using the
mixpict polygon for some rays and the false color polygon for others.
Remove the polygon with material fc_glow from your scene and your problem
should be solved.

Andy




On 1/12/10 1:09 AM, "Per Haugaard" <perhaugaard@yahoo.dk> wrote:

> Hi Andrew,
> 
> Thank you for your reply. Nothing happens when I play with the FTINY. The
> image remains the same if I remove FTINY and also if I change the expecting
> rounding error to 2e-3 or larger. I guess the error might be elsewhere.
> 
> Below you will find the input for the illum and falsecolor image.
> 
> # calculating illumince values on a virtual plan using vwrays
> vwrays -x 600 -y 600 -vf views/kontor_ned.vp \
> | rcalc -e '$1=$1; $2=$2; $3=0.8; $4=$4; $5=$5; $6=1' \
> | rtrace -ab 3 -aa 0.1 -ar 128 -ad 512 -as 256 -fac -w -I -ov `vwrays -d -vf
> views/kontor_ned.vp -x 600 -y 600` \
> octrees/kontor_CIE.oct > images/vwrays_illum.pic
> 
> # making falsecolor image of the illuminace image
> falsecolor -n 10 -s 1000 -lw 0 -cl -i images/vwrays_illum.pic >
> images/vwrays_illum_falsecolor.pic
> 
> Below is the viewfile kontor_ned.vp
> 
> rview -vtl -vp 6.4 8.4 2.79 -vd 0 0 -1 -vu 1 0 0 -vh 16.6 -vv 12.8 -vo 0 -va 0
> -vs 0 -vl 0
> 
> Below is the input for the working plane image:
> 
> void colorpict fc_val
> 7 red green blue images/vwrays_illum_falsecolor.pic fc_4.cal fc_u fc_v
> 0
> 0
> 
> fc_val glow fc_glow
> 0
> 0
> 4 10 10 10 0
> 
> fc_glow polygon office.working_plane
> 0
> 0
> 12
>                      0.2                   0.2                     0.8
>                      13.0                   0.2                     0.8
>                      13.0                  16.8                     0.8
>                      0.2                  16.8                     0.8
> 
> void mixpict mp
> 7 fc_glow void nonzero images/vwrays_illum_falsecolor.pic fc_4.cal fc_u fc_v
> 0
> 0
> 
> mp polygon office.working_plane.2
> 0
> 0
> 12
>                         0.2                   0.2                       0.8
>                         13.0                  0.2                       0.8
>                         13.0                 16.8                       0.8
>                         0.2                  16.8                       0.8
> 
> And below is the fc_4.cal file
> 
> nonzero(r,g,b) = if(max(r,max(g,b))-FTINY, 1, 0);
> fc_u = -(Py-16.6)/12.8;
> fc_v = (Px-0.2)/12.8;
> 
> I have not been working with HDR images. Maybe you can update on how to easily
> convert from pic-files to hdr-files in Linux, so I can upload these for
> illustration purposes.
> 
> Best regards
> 
> Per,
> 
> --- Den man 11/1/10 skrev Andrew McNeil <andrew.mcneil@arup.com>:
>> 
>> Fra: Andrew McNeil <andrew.mcneil@arup.com>
>> Emne: Re: [Radiance-general] Removing black areas in imagemapping
>> Til: perhaugaard@yahoo.dk, "Radiance general discussion"
>> <radiance-general@radiance-online.org>
>> Dato: mandag 11. januar 2010 19.19
>> 
>> Re: [Radiance-general] Removing black areas in imagemapping Hi Per,
>> 
>> Perhaps you are experiencing rounding error larger than FTINY.  I?d suggest
>> replacing FTINY with a larger value (ie 2e-3) and seeing if black spots
>> reduce.  A bit of trial and error might be necessary.
>> 
>> If that doesn?t work can you send more scene info?  I?d like to see your
>> falsecolor statement, your colorpict and mixpict material definitions and
>> perhaps you could post your contour image in hdr format.
>> 
>> Best,
>> Andy
>> 
>> 
>> On 1/11/10 4:10 AM, "Per Haugaard" <perhaugaard@yahoo.dk> wrote:
>> 
>>> Dear users,
>>> 
>>> I am mapping a falsecolor image on a working in a room but there is still
>>> some black parts left in the image.  I have FTINY as a guard against
>>> rounding errors but it does not remove everything.
>>> 
>>> As written i Axel J. tutorial I have build a ..cal file with a nonzero
>>> function:
>>> 
>>> nonzero(r,g,b) = if(max(r,max(g,b))-FTINY, 1, 0);
>>> fc_u = -(Py-16.6)/12.8;
>>> fc_v = (Px-0.2)/12.8;
>>> 
>>> Any idea of how to remove the remaining black spots in the image?
>>> 
>>> The images can be seen at:
>>> http://perhaugaard.blogspot.com/2010/01/removing-black-parts-in-imagemapping
>>> -in.html 
>>> 
>>> 
>>> Happy new year
>>> 
>>> /Per
>>> 
>>>  
>>> 
>>> 
>>>  Tr?nger du til at se det store billede? Kelkoo giver dig gode tilbud p? LCD
>>> TV <http://dk.yahoo.com/r/pat/lcd> !
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general@radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> ____________________________________________________________
>>> Electronic mail messages entering and leaving Arup  business
>>> systems are scanned for acceptability of content and viruses
>>>  
>>> 
>>>  
>>> 
>>> 
>>>  Skal du k?be ny bil? Sammenlign priser p? brugte biler med Kelkoo og find
>>> et godt  tilbud! <http://dk.yahoo.com/r/pat/mmb>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100112/e8188574/attachment.htm
From jdlenard at deluminaelab.com  Wed Jan 13 08:06:13 2010
From: jdlenard at deluminaelab.com (jeando)
Date: Wed Jan 13 08:07:11 2010
Subject: [Radiance-general] RadSunpath tool
Message-ID: <4B4DEF75.4030608@deluminaelab.com>

An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100113/76db7841/attachment.html
From grobe at gmx.net  Wed Jan 13 19:16:26 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Jan 13 19:16:35 2010
Subject: [Radiance-general] Removing black areas in imagemapping
In-Reply-To: <89355c0f1001120255x2fdb6e38mafbba1443c49fe4f@mail.gmail.com>
References: <957699.45447.qm@web26605.mail.ukl.yahoo.com>
	<89355c0f1001120255x2fdb6e38mafbba1443c49fe4f@mail.gmail.com>
Message-ID: <4B4E8C8A.6090509@gmx.net>

Hi!
> Also use phisto on your falsecolor image to see the
> actual values of the black pixels. It looks like there
> is a range of "dark grey" instead of black. If you convert
> your image to tiff or ppm, edit the grey values to black
> in Photoshop and convert it back you might have a
> better result already. I'm sure there is also a way to
> do this with Radiance tools but I don't have one ready.

I'd use pcomb:

pcomb -e 't=0.05; c=(.265074126*ri(1) + .670114631*gi(1) + 
.064811243*bi(1))-t; ro=if( c, ri(1), 0); go=if( c, gi(1), 0); bo=if( c, 
bi(1), 0);' -o image.hdr | ximage

In this example, t is the treshold (you have to adjust this) and 
image.hdr is the input. c is the condition, if the grey value of a pixel 
is > t, the input pixel is written, else rgb(0,0,0). There are even 
slightly simpler ways to do it, still pcomb -e is the generic way for me 
to calculate on images.

Cheers, Lars.

From hujia06 at gmail.com  Thu Jan 14 11:01:08 2010
From: hujia06 at gmail.com (Hu,Jia)
Date: Thu Jan 14 11:01:14 2010
Subject: [Radiance-general] test file
Message-ID: <3ccbd68d1001141101g3c398d40ue1b4bc5e601310fd@mail.gmail.com>

Hello all:

I use radiance to simulate *the same model twice*. But the result (sensor
point illuminance) is different. Could anyone know the reason?

Thank you in advance,

Jia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100114/db588c1b/attachment.htm
From andrew.mcneil at arup.com  Thu Jan 14 11:36:44 2010
From: andrew.mcneil at arup.com (Andrew McNeil)
Date: Thu Jan 14 11:37:39 2010
Subject: [Radiance-general] test file
In-Reply-To: <3ccbd68d1001141101g3c398d40ue1b4bc5e601310fd@mail.gmail.com>
Message-ID: <C774B24C.E68E%andrew.mcneil@arup.com>

Jia,

There will always be some difference between two identical simulations in
Radiance.  The monte carlo sampling method used by radiance is like rolling
the dice several times.  If your sample density is high enough your results
for identical simulations will exhibit minor differences.  However with a
low sampling density a few lucky hits or misses can skew the simulation
results significantly.

The radiance simulation parameters allow us to adjust the sampling density
and other parameters to improve the correlation of the results.  Trouble is
there is no single set of parameter settings that works for every model.

To allow the group to best help you refine your simulation parameters you
should send the following:
1 ? The radiance commands you used to run your simulation.
2 ? The results of your simulations.
3 ? A description of your model
4 ? A rendering if you have one (proper etiquette is to upload the image to
a website and include a link in your email to the list).

Best,
Andy


On 1/14/10 11:01 AM, "Hu,Jia" <hujia06@gmail.com> wrote:

> Hello all:
> ?
> I use radiance to simulate the same model twice. But the result (sensor point
> illuminance) is different. Could anyone know the reason?
> ?
> Thank you in advance,
> ?
> Jia
> ?
> ?
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100114/55926b5e/attachment.html
From hujia06 at gmail.com  Sat Jan 16 08:37:49 2010
From: hujia06 at gmail.com (Hu,Jia)
Date: Sat Jan 16 08:38:12 2010
Subject: [Radiance-general] test file
In-Reply-To: <C774B24C.E68E%andrew.mcneil@arup.com>
References: <3ccbd68d1001141101g3c398d40ue1b4bc5e601310fd@mail.gmail.com>
	<C774B24C.E68E%andrew.mcneil@arup.com>
Message-ID: <3ccbd68d1001160837l2dcde909h9c27019cdc23927d@mail.gmail.com>

Hello Andy:

Sorry for my late reply. I am new for Radiance and have to learn more to
reply you.  Before discussing the previous question,   could I ask how I
can open the text editor and save as file with extension like .rad after I
install Ubuntu 9.10 because I am unfamiliar with Ubuntu (Linux)?

For the question in my last email, I asked that because someone did some
simulations before but the results seems weird.  In those simulations,  two
identical small offices are developed with only one difference. In one
office, the angles of the blinds are 0 degree. For another, the windows
are separated into three sections (the height for each section is the
same). The blinds with 0 degree are  also the same for each section.  The
illuminance of the sensor points are calculated for the two
offices. Theoretically, the illuminance should be identical or quite
similar. But as I said in my last email, the illuminance shows  a big
difference.

In addition to your explanation, is that right another possible reason is
the computer hardware difference. For example, one computer may calculate
5+3=8, while another calculates 5+3=7.8888.  If possible,  Is there any test
file to test the accuracy of computer before running Radiance?

Thanks.

Jia



On Thu, Jan 14, 2010 at 2:36 PM, Andrew McNeil <andrew.mcneil@arup.com>wrote:

> Jia,
>
> There will always be some difference between two identical simulations in
> Radiance.  The monte carlo sampling method used by radiance is like rolling
> the dice several times.  If your sample density is high enough your results
> for identical simulations will exhibit minor differences.  However with a
> low sampling density a few lucky hits or misses can skew the simulation
> results significantly.
>
> The radiance simulation parameters allow us to adjust the sampling density
> and other parameters to improve the correlation of the results.  Trouble is
> there is no single set of parameter settings that works for every model.
>
> To allow the group to best help you refine your simulation parameters you
> should send the following:
> 1 ? The radiance commands you used to run your simulation.
> 2 ? The results of your simulations.
> 3 ? A description of your model
> 4 ? A rendering if you have one (proper etiquette is to upload the image to
> a website and include a link in your email to the list).
>
> Best,
> Andy
>
>
>
> On 1/14/10 11:01 AM, "Hu,Jia" <hujia06@gmail.com> wrote:
>
>   Hello all:
>
> I use radiance to simulate *the same model twice*. But the result (sensor
> point illuminance) is different. Could anyone know the reason?
>
> Thank you in advance,
>
> Jia
>
>
>
> ------------------------------
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100116/35b7d549/attachment.htm
From mamand at gmail.com  Sat Jan 16 09:13:12 2010
From: mamand at gmail.com (Maria Manda)
Date: Sat Jan 16 09:13:15 2010
Subject: [Radiance-general] Installing radiance in Ubuntu
Message-ID: <d3349a4f1001160913i7c140341q31d584f10c259ee1@mail.gmail.com>

Hello all:
I am very new to ubuntu and I am trying to install radiance to it. How can i
do it?
I already did some things that I reed in the internet but I cannot see
Radiance in the Installed software list.

Thanks a lot in advance.

maria
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100116/3222ee90/attachment.html
From sotos.enveng at gmail.com  Sat Jan 16 09:53:55 2010
From: sotos.enveng at gmail.com (=?ISO-8859-7?B?0/n03vHn8iDQ4fDh7fT57d/v9Q==?=)
Date: Sat Jan 16 09:53:59 2010
Subject: [Radiance-general] Installing radiance in Ubuntu
In-Reply-To: <d3349a4f1001160913i7c140341q31d584f10c259ee1@mail.gmail.com>
References: <d3349a4f1001160913i7c140341q31d584f10c259ee1@mail.gmail.com>
Message-ID: <92f99fb41001160953m14b06c4dkd677de184c50be7b@mail.gmail.com>

Hello Maria,

if you have updated your repositories, search for radiance and it will
appear. After marking it for installation the system will do the rest on its
own.

If you are still in Chania/Crete i can help you even more.

Bye

Sotiris

2010/1/16 Maria Manda <mamand@gmail.com>

> Hello all:
> I am very new to ubuntu and I am trying to install radiance to it. How can
> i do it?
> I already did some things that I reed in the internet but I cannot see
> Radiance in the Installed software list.
>
> Thanks a lot in advance.
>
> maria
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100116/d0177d7f/attachment.htm
From mamand at gmail.com  Sat Jan 16 13:04:11 2010
From: mamand at gmail.com (Maria Manda)
Date: Sat Jan 16 13:04:14 2010
Subject: [Radiance-general] Installing radiance in Ubuntu
In-Reply-To: <92f99fb41001160953m14b06c4dkd677de184c50be7b@mail.gmail.com>
References: <d3349a4f1001160913i7c140341q31d584f10c259ee1@mail.gmail.com>
	<92f99fb41001160953m14b06c4dkd677de184c50be7b@mail.gmail.com>
Message-ID: <d3349a4f1001161304m734b620sa76d4df8b63de85b@mail.gmail.com>

Hi Sotiri,

I would appreciate a lot if we can meet! I am in Chania. Please let me know
when is convenient for you.

Meanwhile I cannot find the repositories in order to update them. How
can Ido this?

Thanks,
Maria


2010/1/16 ??????? ??????????? <sotos.enveng@gmail.com>

> Hello Maria,
>
> if you have updated your repositories, search for radiance and it will
> appear. After marking it for installation the system will do the rest on its
> own.
>
> If you are still in Chania/Crete i can help you even more.
>
> Bye
>
> Sotiris
>
> 2010/1/16 Maria Manda <mamand@gmail.com>
>
>> Hello all:
>> I am very new to ubuntu and I am trying to install radiance to it. How can
>> i do it?
>> I already did some things that I reed in the internet but I cannot see
>> Radiance in the Installed software list.
>>
>> Thanks a lot in advance.
>>
>> maria
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general@radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100116/42289aaf/attachment.html
From tbleicher at googlemail.com  Sun Jan 17 02:58:18 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Sun Jan 17 02:58:23 2010
Subject: [Radiance-general] test file
In-Reply-To: <3ccbd68d1001160837l2dcde909h9c27019cdc23927d@mail.gmail.com>
References: <3ccbd68d1001141101g3c398d40ue1b4bc5e601310fd@mail.gmail.com>
	<C774B24C.E68E%andrew.mcneil@arup.com>
	<3ccbd68d1001160837l2dcde909h9c27019cdc23927d@mail.gmail.com>
Message-ID: <89355c0f1001170258s2d784101m82fb6a183eb1135d@mail.gmail.com>

Jia.

See further answers within ...

On Sat, Jan 16, 2010 at 4:37 PM, Hu,Jia <hujia06@gmail.com> wrote:
> Hello Andy:
>
> Sorry for my late reply. I am new for Radiance and have to learn more to
> reply you.? Before discussing the previous question,?? could I ask?how I
> can?open the text editor and save as file with extension like .rad after I
> install Ubuntu 9.10 because?I am unfamiliar with Ubuntu (Linux)?

I currently don't have an Ubuntu system installed but I think this still
applies:

> Gedit is the default Ubuntu text editor, which you can launch by clicking
> Applications->Accessories->Text Editor on the desktop menu system.

When you save files always make sure that you save in plain
text (*.txt).

> For the question in my last email, I asked that?because someone
> did?some simulations before but the results seems weird.?In those
> simulations,? two identical small offices are developed with only one
> difference.?In one office,?the angles of the blinds are 0 degree. For
> another, the?windows are?separated into?three sections (the height
> for each section is the same).?The blinds with 0 degree?are also the
> same for each section. The illuminance of the?sensor points are
> calculated for the two offices.?Theoretically, the illuminance should
> be identical or quite similar. But as I said in my last email, the
> illuminance shows a big difference.

As Andy said, without details about the rendering parameters and
the scene/window geometry it's hard to tell why the values are so
different. Scenes with blinds are sensitive to the right rendering
parameters because you have to account for multiple reflections
to achieve satisfactory results. If the scenes were rendered with
settings that are not accurate enough you will get largely differing
results.

Another option is that the two scenes had different sky settings
which will also result in different (absolute) illuminance values.

> In addition to your explanation, is that right another possible reason is
> the computer hardware difference. For example, one computer may calculate
> 5+3=8, while another calculates 5+3=7.8888.??If possible,??Is there any test
> file to test the accuracy of computer before running Radiance?

Radiance was written to be usable on multiple platforms. There
is a built in tolerance for rounding errors which takes care of the
above situations. However, you can get different results (to the
point where the calculations are untrustworthy) if you apply very
strong optimisation options when compiling the binaries. I assume
that you have used the binaries from the Debian/Ubuntu distribution
provided by Bernd Zeimetz so this should not be the cause of
your problem.

There is no standard test scenario for Radiance. I think you can
install example scenes in Ubuntu as a separate package. Some
of these are also discussed the book "Rendering with Radiance".

Once you have Radiance running (i.e. it produces images that look
about right) it's hard to verify the accuracy because each rendering
depends on the scene complexity and selected rendering parameters.
Basically you have to do a set of verification renderings with changing
settings until you have shown that your error is within a certain limit.

I also used other lighting simulation apps to check that my
results are at least in the same order of magnitude (especially
when artificial lighting is involved).

Mark Stock has written a benchmark scene which you can use
to test your installation. It will run for a few hours, though. It renders
a scene at high quality settings (for a picture output) and if your
result looks like the (tiny) image on his page Radiance works fine.

http://markjstock.org/pages/rad_bench.html

Regards,
Thomas

From jacobs.axel at gmail.com  Sun Jan 17 06:04:43 2010
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Sun Jan 17 05:58:09 2010
Subject: [Radiance-general] Understanding rtcontrib
In-Reply-To: <4b31255b.aa13f30a.0136.ffffc149SMTPIN_ADDED@mx.google.com>
References: <4b31255b.aa13f30a.0136.ffffc149SMTPIN_ADDED@mx.google.com>
Message-ID: <4B5318FB.90604@gmail.com>

Dear all,

I've been reading some of the very interesting presentations from the 
last Radiance workshop and am now keen on finally getting to the bottom 
of this rtcontrib thing.

My aim is to do Dynamic Daylight Simulations, DDS, using rtcontrib 
rather than DaySim.

As I am going along, I am preparing more material for the Advanced 
Tutorial. A usual, the notes advance at a leisurely pace, trying to make 
one little mistake or discovery a time, rather than doing them all at once.

I have put up some very early notes (really only just scribble with some 
images) here:
http://luminance.londonmet.ac.uk/pickup/rtcontrib_lesson.html
and would be grateful for any feedback.

This is what's there at the moment:

- show that rpict is simply a convenient way of calling rtrace to 
produce an image
- show that rtcontrib is a souped-up version of rtrace (bear with me 
before banging your head against the wall over this one)
- show how rtcontrib produces individual images based on light source 
modifiers
- show how this can be extended to different 'zones' using binning, e.g. 
for daylight coefficients

I have not looked at the mkillum-like functionality of rtcontrib yet 
(pseudo-forward-raytracer?), and the model you see in the images doesn't 
even have a window pane.

All images under a glow sky (not the ones with circular 11deg light 
sources) have an overcast distribution. Eventually, this should probably 
be a simple glow without any distribution assigned to it, but I've used 
a gensky material for now to be able to compare the absolute values of 
the combined results which should match the rpict ones.

The big show stopper so far is that I don't get the absolute values 
right for a glow sky with Tregenza subdivisions. You will also see just 
how weird the sky hemisphere looks in this simulation after the 145 
patches have been combined.

Any hints are very welcome.

Cheers

Axel

From hujia06 at gmail.com  Sun Jan 17 08:30:26 2010
From: hujia06 at gmail.com (Hu,Jia)
Date: Sun Jan 17 08:30:33 2010
Subject: [Radiance-general] test file
In-Reply-To: <89355c0f1001170258s2d784101m82fb6a183eb1135d@mail.gmail.com>
References: <3ccbd68d1001141101g3c398d40ue1b4bc5e601310fd@mail.gmail.com>
	<C774B24C.E68E%andrew.mcneil@arup.com>
	<3ccbd68d1001160837l2dcde909h9c27019cdc23927d@mail.gmail.com>
	<89355c0f1001170258s2d784101m82fb6a183eb1135d@mail.gmail.com>
Message-ID: <3ccbd68d1001170830g68eeeafaie8d18f557667ec59@mail.gmail.com>

Thank you for clarification. Is there any material for novice
besides reference listed in this website: http://radsite.lbl.gov/radiance/?


Jia

On Sun, Jan 17, 2010 at 5:58 AM, Thomas Bleicher
<tbleicher@googlemail.com>wrote:

> Jia.
>
> See further answers within ...
>
> On Sat, Jan 16, 2010 at 4:37 PM, Hu,Jia <hujia06@gmail.com> wrote:
> > Hello Andy:
> >
> > Sorry for my late reply. I am new for Radiance and have to learn more to
> > reply you.  Before discussing the previous question,   could I ask how I
> > can open the text editor and save as file with extension like .rad after
> I
> > install Ubuntu 9.10 because I am unfamiliar with Ubuntu (Linux)?
>
> I currently don't have an Ubuntu system installed but I think this still
> applies:
>
> > Gedit is the default Ubuntu text editor, which you can launch by clicking
> > Applications->Accessories->Text Editor on the desktop menu system.
>
> When you save files always make sure that you save in plain
> text (*.txt).
>
> > For the question in my last email, I asked that because someone
> > did some simulations before but the results seems weird. In those
> > simulations,  two identical small offices are developed with only one
> > difference. In one office, the angles of the blinds are 0 degree. For
> > another, the windows are separated into three sections (the height
> > for each section is the same). The blinds with 0 degree are also the
> > same for each section. The illuminance of the sensor points are
> > calculated for the two offices. Theoretically, the illuminance should
> > be identical or quite similar. But as I said in my last email, the
> > illuminance shows a big difference.
>
> As Andy said, without details about the rendering parameters and
> the scene/window geometry it's hard to tell why the values are so
> different. Scenes with blinds are sensitive to the right rendering
> parameters because you have to account for multiple reflections
> to achieve satisfactory results. If the scenes were rendered with
> settings that are not accurate enough you will get largely differing
> results.
>
> Another option is that the two scenes had different sky settings
> which will also result in different (absolute) illuminance values.
>
> > In addition to your explanation, is that right another possible reason is
> > the computer hardware difference. For example, one computer may calculate
> > 5+3=8, while another calculates 5+3=7.8888.  If possible,  Is there any
> test
> > file to test the accuracy of computer before running Radiance?
>
> Radiance was written to be usable on multiple platforms. There
> is a built in tolerance for rounding errors which takes care of the
> above situations. However, you can get different results (to the
> point where the calculations are untrustworthy) if you apply very
> strong optimisation options when compiling the binaries. I assume
> that you have used the binaries from the Debian/Ubuntu distribution
> provided by Bernd Zeimetz so this should not be the cause of
> your problem.
>
> There is no standard test scenario for Radiance. I think you can
> install example scenes in Ubuntu as a separate package. Some
> of these are also discussed the book "Rendering with Radiance".
>
> Once you have Radiance running (i.e. it produces images that look
> about right) it's hard to verify the accuracy because each rendering
> depends on the scene complexity and selected rendering parameters.
> Basically you have to do a set of verification renderings with changing
> settings until you have shown that your error is within a certain limit.
>
> I also used other lighting simulation apps to check that my
> results are at least in the same order of magnitude (especially
> when artificial lighting is involved).
>
> Mark Stock has written a benchmark scene which you can use
> to test your installation. It will run for a few hours, though. It renders
> a scene at high quality settings (for a picture output) and if your
> result looks like the (tiny) image on his page Radiance works fine.
>
> http://markjstock.org/pages/rad_bench.html
>
> Regards,
> Thomas
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100117/946b5054/attachment-0001.htm
From tbleicher at googlemail.com  Sun Jan 17 15:07:00 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Sun Jan 17 15:07:03 2010
Subject: [Radiance-general] test file
In-Reply-To: <3ccbd68d1001170830g68eeeafaie8d18f557667ec59@mail.gmail.com>
References: <3ccbd68d1001141101g3c398d40ue1b4bc5e601310fd@mail.gmail.com>
	<C774B24C.E68E%andrew.mcneil@arup.com>
	<3ccbd68d1001160837l2dcde909h9c27019cdc23927d@mail.gmail.com>
	<89355c0f1001170258s2d784101m82fb6a183eb1135d@mail.gmail.com>
	<3ccbd68d1001170830g68eeeafaie8d18f557667ec59@mail.gmail.com>
Message-ID: <89355c0f1001171507h9b77626ra7add492a5b532a7@mail.gmail.com>

On Sun, Jan 17, 2010 at 4:30 PM, Hu,Jia <hujia06@gmail.com> wrote:
> Thank you for clarification. Is there any material for novice
> besides?reference listed in this website: http://radsite.lbl.gov/radiance/?

Axel Jacobs has written some excellent tutorials (and is still adding more).

http://luminance.londonmet.ac.uk/learnix/docs.shtml

Regards,
Thomas

From hujia06 at gmail.com  Sun Jan 17 15:33:54 2010
From: hujia06 at gmail.com (Hu,Jia)
Date: Sun Jan 17 15:33:58 2010
Subject: [Radiance-general] test file
In-Reply-To: <89355c0f1001171507h9b77626ra7add492a5b532a7@mail.gmail.com>
References: <3ccbd68d1001141101g3c398d40ue1b4bc5e601310fd@mail.gmail.com>
	<C774B24C.E68E%andrew.mcneil@arup.com>
	<3ccbd68d1001160837l2dcde909h9c27019cdc23927d@mail.gmail.com>
	<89355c0f1001170258s2d784101m82fb6a183eb1135d@mail.gmail.com>
	<3ccbd68d1001170830g68eeeafaie8d18f557667ec59@mail.gmail.com>
	<89355c0f1001171507h9b77626ra7add492a5b532a7@mail.gmail.com>
Message-ID: <3ccbd68d1001171533gfa9afc8l93a8f9a6c730d861@mail.gmail.com>

Thanks, that is very helpful

On Sun, Jan 17, 2010 at 6:07 PM, Thomas Bleicher
<tbleicher@googlemail.com>wrote:

> On Sun, Jan 17, 2010 at 4:30 PM, Hu,Jia <hujia06@gmail.com> wrote:
> > Thank you for clarification. Is there any material for novice
> > besides reference listed in this website:
> http://radsite.lbl.gov/radiance/?
>
> Axel Jacobs has written some excellent tutorials (and is still adding
> more).
>
> http://luminance.londonmet.ac.uk/learnix/docs.shtml
>
> Regards,
> Thomas
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100117/7d74de05/attachment.html
From kkonis at berkeley.edu  Thu Jan 21 09:45:54 2010
From: kkonis at berkeley.edu (kkonis@berkeley.edu)
Date: Thu Jan 21 09:45:57 2010
Subject: [Radiance-general] Properly defining a roller shade fabric as a
	TRANS material type
Message-ID: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>

Dear list,

I am trying to describe a nominally "white" roller shade fabric with a
3% openness factor as a trans material type.

I don't have a real fabric on hand to measure, I'm just trying to make
sure i understand the material definition parameters and then to do
some studies varying the openness factor of a hypothetical woven
roller shade material.

1) I'm curious to know if by setting parameter A7 to 1 i am achieving
my desired goal of representing a shading fabric that acts as an
opaque sieve (e.g. a cheese-grater: light passes only through the 3% of
the surface
which is void
(my interpretation is that diffuse transmission requires some portion
of incident light to pass through the threads)

-any comments on the below process and resulting trans description
would be appreciated.......


# USING THIS FORMULA from RWR and previous email discussions:

for the trans material:
A7=Ts / ( Td+Ts )
A6=( Td+Ts ) / ( Rd+Td+Ts )
A5=Sr
A4=Rs
A3=Cb / ( (1-Rs)*(1-A6) )
A2=Cg / ( (1-Rs)*(1-A6) )
A1=Cr / ( (1-Rs)*(1-A6) )

# INPUTS

Td = 0          # ASSUME no diffuse transmission (e.g. fabric threads are
totally opaque)
Ts = 0.03               # ASSUME that (3% openness factor of shade "weave")
means fraction of light transmitted as beam (e.g. not scattered
diffusely) = 0.03
Sr = 0
Rs = 0
Cb = 0.7                # Nominally "white" fabric surface (reflects 70% of
incident visible light?)
Cg = 0.7
Cr = 0.7

# CALCS

A7 = (0.03) / (0 + 0.03) = 1
A6 = (0 + 0.03) / (0.7 + 0 + 0.03) = 0.0411
A5 = 0
A4 = 0
A3 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73
A2 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73
A1 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73

# RESULT

void trans my_shade
0
0
7 0.73 0.73 0.73 0 0 0.041 1


thanks,

Kyle Konis
PhD Student
UC Berkeley


From rpg at rumblestrip.org  Thu Jan 21 10:59:18 2010
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Jan 21 10:59:39 2010
Subject: [Radiance-general] Properly defining a roller shade fabric as 
	a TRANS material type
In-Reply-To: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>
References: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>
Message-ID: <0c7c37d52e1eaad11e2f70ccbac71fc4.squirrel@webmail.rumblestrip.org>

Hi Kyle,

I am not at all the materials measurement/definition guru on this list,
but I do have some comments. First off, you should not use .03 for
specular transmittance based on the openness factor. You should specify
the transmittance. Have a look at the product specs for the shadecloth;
somewhere there should be a reporting (however roughly it may have been
estimated) for the transmittance of the shade.

Next, even though in theory the holes are allowing light to pass straight
through, there will be some scattering at that interface due to the weave
(especially in the case of your white colored shade), so there will be
some diffuse component to this material. And therein lies the rub:
figuring out how much of a diffuse component...

I recommend finding out the transmittance of the cloth, and than taking
some fraction of that and putting that into the diffuse transmittance
portion of the material definition. For example, if the shade has a
transmittance of 20%, maybe specify Td = .05 and Ts = .15. I'd also
recommend getting a sample; even if you can't measure it, you could at
least observe it under different lighting conditions and then mix and
match Td and Ts until you achieve L^ar (looks about right). =8-)

- Rob


On Thu, January 21, 2010 10:45 am, kkonis@berkeley.edu wrote:
> Dear list,
>
> I am trying to describe a nominally "white" roller shade fabric with a
> 3% openness factor as a trans material type.
>
> I don't have a real fabric on hand to measure, I'm just trying to make
> sure i understand the material definition parameters and then to do
> some studies varying the openness factor of a hypothetical woven
> roller shade material.
>
> 1) I'm curious to know if by setting parameter A7 to 1 i am achieving
> my desired goal of representing a shading fabric that acts as an
> opaque sieve (e.g. a cheese-grater: light passes only through the 3% of
> the surface
> which is void
> (my interpretation is that diffuse transmission requires some portion
> of incident light to pass through the threads)
>
> -any comments on the below process and resulting trans description
> would be appreciated.......
>
>
> # USING THIS FORMULA from RWR and previous email discussions:
>
> for the trans material:
> A7=Ts / ( Td+Ts )
> A6=( Td+Ts ) / ( Rd+Td+Ts )
> A5=Sr
> A4=Rs
> A3=Cb / ( (1-Rs)*(1-A6) )
> A2=Cg / ( (1-Rs)*(1-A6) )
> A1=Cr / ( (1-Rs)*(1-A6) )
>
> # INPUTS
>
> Td = 0          # ASSUME no diffuse transmission (e.g. fabric threads are
> totally opaque)
> Ts = 0.03               # ASSUME that (3% openness factor of shade
> "weave")
> means fraction of light transmitted as beam (e.g. not scattered
> diffusely) = 0.03
> Sr = 0
> Rs = 0
> Cb = 0.7                # Nominally "white" fabric surface (reflects 70%
> of
> incident visible light?)
> Cg = 0.7
> Cr = 0.7
>
> # CALCS
>
> A7 = (0.03) / (0 + 0.03) = 1
> A6 = (0 + 0.03) / (0.7 + 0 + 0.03) = 0.0411
> A5 = 0
> A4 = 0
> A3 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73
> A2 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73
> A1 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73
>
> # RESULT
>
> void trans my_shade
> 0
> 0
> 7 0.73 0.73 0.73 0 0 0.041 1
>
>
> thanks,
>
> Kyle Konis
> PhD Student
> UC Berkeley
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



===================
 Rob Guglielmetti
www.rumblestrip.org


From Christopher.Rush at arup.com  Thu Jan 21 11:10:42 2010
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu Jan 21 11:11:13 2010
Subject: [Radiance-general] Properly defining a roller shade fabric as a
	TRANS material type
In-Reply-To: <0c7c37d52e1eaad11e2f70ccbac71fc4.squirrel@webmail.rumblestrip.org>
References: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>
	<0c7c37d52e1eaad11e2f70ccbac71fc4.squirrel@webmail.rumblestrip.org>
Message-ID: <EB124710ADB8554C930FADF760BB2BE706C91C33@n-yexc01.global.arup.com>

I would have guessed if your total measured transmission was 20%, and
you know the openness is 3%, the 3% would correspond to specular
transmission and the other 17% must be diffuse transmission, no?

-----Original Message-----
From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Rob
Guglielmetti
Sent: Thursday, January 21, 2010 1:59 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Properly defining a roller shade fabric
as a TRANS material type

Hi Kyle,

I am not at all the materials measurement/definition guru on this list,
but I do have some comments. First off, you should not use .03 for
specular transmittance based on the openness factor. You should specify
the transmittance. Have a look at the product specs for the shadecloth;
somewhere there should be a reporting (however roughly it may have been
estimated) for the transmittance of the shade.

Next, even though in theory the holes are allowing light to pass
straight through, there will be some scattering at that interface due to
the weave (especially in the case of your white colored shade), so there
will be some diffuse component to this material. And therein lies the
rub:
figuring out how much of a diffuse component...

I recommend finding out the transmittance of the cloth, and than taking
some fraction of that and putting that into the diffuse transmittance
portion of the material definition. For example, if the shade has a
transmittance of 20%, maybe specify Td = .05 and Ts = .15. I'd also
recommend getting a sample; even if you can't measure it, you could at
least observe it under different lighting conditions and then mix and
match Td and Ts until you achieve L^ar (looks about right). =8-)

- Rob


On Thu, January 21, 2010 10:45 am, kkonis@berkeley.edu wrote:
> Dear list,
>
> I am trying to describe a nominally "white" roller shade fabric with a

> 3% openness factor as a trans material type.
>
> I don't have a real fabric on hand to measure, I'm just trying to make

> sure i understand the material definition parameters and then to do 
> some studies varying the openness factor of a hypothetical woven 
> roller shade material.
>
> 1) I'm curious to know if by setting parameter A7 to 1 i am achieving 
> my desired goal of representing a shading fabric that acts as an 
> opaque sieve (e.g. a cheese-grater: light passes only through the 3% 
> of the surface which is void (my interpretation is that diffuse 
> transmission requires some portion of incident light to pass through 
> the threads)
>
> -any comments on the below process and resulting trans description 
> would be appreciated.......
>
>
> # USING THIS FORMULA from RWR and previous email discussions:
>
> for the trans material:
> A7=Ts / ( Td+Ts )
> A6=( Td+Ts ) / ( Rd+Td+Ts )
> A5=Sr
> A4=Rs
> A3=Cb / ( (1-Rs)*(1-A6) )
> A2=Cg / ( (1-Rs)*(1-A6) )
> A1=Cr / ( (1-Rs)*(1-A6) )
>
> # INPUTS
>
> Td = 0          # ASSUME no diffuse transmission (e.g. fabric threads
are
> totally opaque)
> Ts = 0.03               # ASSUME that (3% openness factor of shade
> "weave")
> means fraction of light transmitted as beam (e.g. not scattered
> diffusely) = 0.03
> Sr = 0
> Rs = 0
> Cb = 0.7                # Nominally "white" fabric surface (reflects
70%
> of
> incident visible light?)
> Cg = 0.7
> Cr = 0.7
>
> # CALCS
>
> A7 = (0.03) / (0 + 0.03) = 1
> A6 = (0 + 0.03) / (0.7 + 0 + 0.03) = 0.0411
> A5 = 0
> A4 = 0
> A3 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73
> A2 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73
> A1 = 0.7 / ( (1 - 0)*(1-0.0411) ) = 0.73
>
> # RESULT
>
> void trans my_shade
> 0
> 0
> 7 0.73 0.73 0.73 0 0 0.041 1
>
>
> thanks,
>
> Kyle Konis
> PhD Student
> UC Berkeley
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



===================
 Rob Guglielmetti
www.rumblestrip.org


_______________________________________________
Radiance-general mailing list
Radiance-general@radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From rpg at rumblestrip.org  Thu Jan 21 11:21:11 2010
From: rpg at rumblestrip.org (Rob Guglielmetti)
Date: Thu Jan 21 11:21:12 2010
Subject: [Radiance-general] Properly defining a roller shade fabric as 
	a TRANS material type
In-Reply-To: <EB124710ADB8554C930FADF760BB2BE706C91C33@n-yexc01.global.arup.com>
References: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>
	<0c7c37d52e1eaad11e2f70ccbac71fc4.squirrel@webmail.rumblestrip.org>
	<EB124710ADB8554C930FADF760BB2BE706C91C33@n-yexc01.global.arup.com>
Message-ID: <9ee9b97dc9564b9329dfdfe4cb547317.squirrel@webmail.rumblestrip.org>

On Thu, January 21, 2010 12:10 pm, Christopher Rush wrote:
> I would have guessed if your total measured transmission was 20%, and
> you know the openness is 3%, the 3% would correspond to specular
> transmission and the other 17% must be diffuse transmission, no?

You're right Chris, at least that is probably a good starting point.


From andrew.mcneil at arup.com  Thu Jan 21 14:01:03 2010
From: andrew.mcneil at arup.com (Andrew McNeil)
Date: Thu Jan 21 14:01:27 2010
Subject: [Radiance-general] Understanding rtcontrib
In-Reply-To: <4B5318FB.90604@gmail.com>
Message-ID: <C77E0E9F.E7BF%andrew.mcneil@arup.com>

Hi Axel,

I like your step by step documentation of your process. I picked up a few
tricks along the way.

I do have one tip for you which you may have already figured out give the
time elapsed between your email and my reply.

When combining your tregenza patch renderings you should use pcomb's -o
option to use original pixel values instead of exposure adjusted values.
The -o option needs to precede every image, so I'm not sure if it'll work
with the wild card character.  Alternatively you could use pfilt -1 -e 1
when resizing the tregenza patch renderings to explicitly set exposure at 1.

I think this might solve the brightness issue you are having with rtcontrib
rendered images.

Best,
Andy


On 1/17/10 6:04 AM, "Axel Jacobs" <jacobs.axel@gmail.com> wrote:

> Dear all,
> 
> I've been reading some of the very interesting presentations from the
> last Radiance workshop and am now keen on finally getting to the bottom
> of this rtcontrib thing.
> 
> My aim is to do Dynamic Daylight Simulations, DDS, using rtcontrib
> rather than DaySim.
> 
> As I am going along, I am preparing more material for the Advanced
> Tutorial. A usual, the notes advance at a leisurely pace, trying to make
> one little mistake or discovery a time, rather than doing them all at once.
> 
> I have put up some very early notes (really only just scribble with some
> images) here:
> http://luminance.londonmet.ac.uk/pickup/rtcontrib_lesson.html
> and would be grateful for any feedback.
> 
> This is what's there at the moment:
> 
> - show that rpict is simply a convenient way of calling rtrace to
> produce an image
> - show that rtcontrib is a souped-up version of rtrace (bear with me
> before banging your head against the wall over this one)
> - show how rtcontrib produces individual images based on light source
> modifiers
> - show how this can be extended to different 'zones' using binning, e.g.
> for daylight coefficients
> 
> I have not looked at the mkillum-like functionality of rtcontrib yet
> (pseudo-forward-raytracer?), and the model you see in the images doesn't
> even have a window pane.
> 
> All images under a glow sky (not the ones with circular 11deg light
> sources) have an overcast distribution. Eventually, this should probably
> be a simple glow without any distribution assigned to it, but I've used
> a gensky material for now to be able to compare the absolute values of
> the combined results which should match the rpict ones.
> 
> The big show stopper so far is that I don't get the absolute values
> right for a glow sky with Tregenza subdivisions. You will also see just
> how weird the sky hemisphere looks in this simulation after the 145
> patches have been combined.
> 
> Any hints are very welcome.
> 
> Cheers
> 
> Axel
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From grobe at gmx.net  Thu Jan 21 18:15:50 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Jan 21 18:15:59 2010
Subject: [Radiance-general] Properly defining a roller shade fabric as
	a	TRANS material type
In-Reply-To: <EB124710ADB8554C930FADF760BB2BE706C91C33@n-yexc01.global.arup.com>
References: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>	<0c7c37d52e1eaad11e2f70ccbac71fc4.squirrel@webmail.rumblestrip.org>
	<EB124710ADB8554C930FADF760BB2BE706C91C33@n-yexc01.global.arup.com>
Message-ID: <4B590A56.4040900@gmx.net>

Christopher Rush wrote:
> I would have guessed if your total measured transmission was 20%, and
> you know the openness is 3%, the 3% would correspond to specular
> transmission and the other 17% must be diffuse transmission, no?
>   
Well, it is still a simplification valid only for normal incident 
angles, as the fabric has a thickness and the projected area of the 
wholes between the fibres depends on that incident angle. You will have 
light hitting the front of the fabric being reflected back, the "sides" 
of the opening, being scattered, light passing through the openings 
without touching any material being transmitted as specular, light 
hitting the fibres but being transmitted as diffuse.... You can assume 
to get a pretty diffuse reflection, but the 3% information will not be 
enough to accurately descibe the transmissive properties. This would 
require either measurements (we have used a goniophotometer for this 
type of materials) or a good model for the fabric where you could derive 
the raypaths for different incident angles from.

Cheers,

Lars.

From Christopher.Rush at arup.com  Fri Jan 22 07:25:44 2010
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri Jan 22 07:25:51 2010
Subject: [Radiance-general] Properly defining a roller shade fabric
	asa	TRANS material type
In-Reply-To: <4B590A56.4040900@gmx.net>
References: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>	<0c7c37d52e1eaad11e2f70ccbac71fc4.squirrel@webmail.rumblestrip.org><EB124710ADB8554C930FADF760BB2BE706C91C33@n-yexc01.global.arup.com>
	<4B590A56.4040900@gmx.net>
Message-ID: <EB124710ADB8554C930FADF760BB2BE706C920C2@n-yexc01.global.arup.com>

Good point about the thickness. If the shade is 3% open I suppose the
expectation would be slightly less than this in pure specular
transmission due to the thickness of the fabric.

Lars, Does this agree with your goniophotometer experience with woven or
perforated materials?

-----Original Message-----
On Behalf Of Lars O. Grobe
Sent: Thursday, January 21, 2010 9:16 PM

Christopher Rush wrote:
> I would have guessed if your total measured transmission was 20%, and 
> you know the openness is 3%, the 3% would correspond to specular 
> transmission and the other 17% must be diffuse transmission, no?
>   
Well, it is still a simplification valid only for normal incident
angles, as the fabric has a thickness and the projected area of the
wholes between the fibres depends on that incident angle. You will have
light hitting the front of the fabric being reflected back, the "sides" 
of the opening, being scattered, light passing through the openings
without touching any material being transmitted as specular, light
hitting the fibres but being transmitted as diffuse.... You can assume
to get a pretty diffuse reflection, but the 3% information will not be
enough to accurately descibe the transmissive properties. This would
require either measurements (we have used a goniophotometer for this
type of materials) or a good model for the fabric where you could derive
the raypaths for different incident angles from.

Cheers,

Lars.

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From grobe at gmx.net  Fri Jan 22 07:58:44 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri Jan 22 07:59:17 2010
Subject: [Radiance-general] Properly defining a roller shade fabric	asa
	TRANS material type
In-Reply-To: <EB124710ADB8554C930FADF760BB2BE706C920C2@n-yexc01.global.arup.com>
References: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>	<0c7c37d52e1eaad11e2f70ccbac71fc4.squirrel@webmail.rumblestrip.org><EB124710ADB8554C930FADF760BB2BE706C91C33@n-yexc01.global.arup.com>	<4B590A56.4040900@gmx.net>
	<EB124710ADB8554C930FADF760BB2BE706C920C2@n-yexc01.global.arup.com>
Message-ID: <4B59CB34.6020101@gmx.net>

Christopher Rush wrote:
> Good point about the thickness. If the shade is 3% open I suppose the
> expectation would be slightly less than this in pure specular
> transmission due to the thickness of the fabric.

Hi,

fabrics will have a certain incident cut-off angle, where specular
transmission gets completely eliminated due to geometric constraint. You
can observe it with your eyes.

Cheers, Lars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3740 bytes
Desc: S/MIME Cryptographic Signature
Url : http://radiance-online.org/pipermail/radiance-general/attachments/20100122/417bc520/smime.bin
From Christopher.Rush at arup.com  Fri Jan 22 08:25:59 2010
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri Jan 22 08:26:07 2010
Subject: [Radiance-general] Properly defining a roller shade
	fabric	asaTRANS material type
In-Reply-To: <4B59CB34.6020101@gmx.net>
References: <bb2ec83d0b9282a5ace703bb6c0a6411.squirrel@calmail.berkeley.edu>	<0c7c37d52e1eaad11e2f70ccbac71fc4.squirrel@webmail.rumblestrip.org><EB124710ADB8554C930FADF760BB2BE706C91C33@n-yexc01.global.arup.com>	<4B590A56.4040900@gmx.net><EB124710ADB8554C930FADF760BB2BE706C920C2@n-yexc01.global.arup.com>
	<4B59CB34.6020101@gmx.net>
Message-ID: <EB124710ADB8554C930FADF760BB2BE706C92167@n-yexc01.global.arup.com>

Another good point. It seems trans is not really valid for woven
materials with any thickness in relation to the size of the holes. Maybe
only for thin sheet metal with large perforations. Otherwise BRTD is
required. Would you agree?

-----Original Message-----
From: Lars O. Grobe

Hi,

fabrics will have a certain incident cut-off angle, where specular
transmission gets completely eliminated due to geometric constraint. You
can observe it with your eyes.

Cheers, Lars.
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From jacobs.axel at gmail.com  Fri Jan 22 16:32:04 2010
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Fri Jan 22 16:26:27 2010
Subject: [Radiance-general] Re: Understanding rtcontrib
In-Reply-To: <4b5a03de.a413f30a.7e5c.ffffc298SMTPIN_ADDED@mx.google.com>
References: <4b5a03de.a413f30a.7e5c.ffffc298SMTPIN_ADDED@mx.google.com>
Message-ID: <4B5A4384.9030202@gmail.com>

Dear all,

an update to the rtcontrib lesson is available:
http://luminance.londonmet.ac.uk/pickup/rtcontrib_lesson.html

I've had lots of feedback from Greg, and also wish to thank Andy who 
spotted the flaw in my pcomb command line. I clearly out-smarted myself 
with the image compression.

Although there is some new material, I mostly re-wrote what was already 
there. The document should be much more readable (it has real sentences 
in it now) and consistent.

I am rather pleased with the result so far, but also have to admit that 
I am somewhat shocked about the sheer size of the document. And I am 
less than half-way through the exercises.

Anyhow, I hope that you all enjoy the read, and that it proves to be as 
informative to you as it has been for myself. Stay tuned.

Cheers

Axel

From Rob.Fitzsimmons at fiserv.com  Mon Jan 25 14:03:02 2010
From: Rob.Fitzsimmons at fiserv.com (Fitzsimmons, Rob)
Date: Mon Jan 25 14:06:17 2010
Subject: [Radiance-general] Understanding rtcontrib
References: <4b31255b.aa13f30a.0136.ffffc149SMTPIN_ADDED@mx.google.com>
	<4B5318FB.90604@gmail.com>
Message-ID: <B564F6CD0114A44E816C0D68AE8C6E69062A253B@MKEXCHVS2.Mail.Fiserv.net>

Axel,
your link to the lesson archive is broken...
you have  http://luminance.londonmet.ac.uk/rtcontrib_lesson.tgz
I think you mean http://luminance.londonmet.ac.uk/pickup/rtcontrib_lesson.tgz

thanks for the tutorial!

Rob Fitzsimmons

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100125/caf2304c/attachment.html
From victorpirates at gmail.com  Mon Jan 25 23:40:24 2010
From: victorpirates at gmail.com (victor li)
Date: Mon Jan 25 23:40:27 2010
Subject: [Radiance-general] "INDIRECE"in .rif file
Message-ID: <a555a441001252340v437906d5m6b277872ee0820cc@mail.gmail.com>

Hi:

Does anybody knows why the different number of "INDIRECT" in .rif file could
influence the result of illuminance in point calculation?

I found that if i changed the "indirect" in .rif file, the illuminances in
the defined grid are different even though the "ab" is the same in rtrace
command. is anybody knows the reason?

Best Regards!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100126/a6f8fa37/attachment.htm
From tbleicher at googlemail.com  Tue Jan 26 01:44:08 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Tue Jan 26 01:44:12 2010
Subject: [Radiance-general] "INDIRECE"in .rif file
In-Reply-To: <a555a441001252340v437906d5m6b277872ee0820cc@mail.gmail.com>
References: <a555a441001252340v437906d5m6b277872ee0820cc@mail.gmail.com>
Message-ID: <89355c0f1001260144m8e11bd1o7ae3e34e79f58d41@mail.gmail.com>

Victor.

*.rif files are not used for rtrace comands. Whatever differences
you find they are not caused by settings in the *.rif file.

It has been a while since I looked at the rad code but I'm pretty sure
that INDIRECT only affects the "-ab" value of the rpict comand.
Depending on your QUALITY setting is either INDIRECT = -ab
or INDIRECT=-ab-1. To keep the -ab value constant you have to
override it in with the "render=" option.

If you get different values for rtrace calculations you either just
see the typical error of the stochastic approach of Radiance or
your other ambient options are not high enough and your result
have a large variation.

How do you use the rif file with rtrace? Can you send details of
the rtrace commands and some info on the scene?

Regards,
Thomas

On Tue, Jan 26, 2010 at 7:40 AM, victor li <victorpirates@gmail.com> wrote:
> Hi:
>
> Does anybody knows why the different number of "INDIRECT" in .rif file could
> influence the result of illuminance in point calculation?
>
> I found that if i changed the "indirect" in .rif file, the illuminances in
> the defined grid are different even though the "ab" is the same in rtrace
> command. is anybody knows the reason?
>
> Best Regards!
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general@radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>

From victorpirates at gmail.com  Tue Jan 26 22:34:22 2010
From: victorpirates at gmail.com (victor li)
Date: Tue Jan 26 22:34:24 2010
Subject: [Radiance-general] "INDIRECE"in .rif file
In-Reply-To: <89355c0f1001260144m8e11bd1o7ae3e34e79f58d41@mail.gmail.com>
References: <a555a441001252340v437906d5m6b277872ee0820cc@mail.gmail.com>
	<89355c0f1001260144m8e11bd1o7ae3e34e79f58d41@mail.gmail.com>
Message-ID: <a555a441001262234s46230462le18475cb9364fa7b@mail.gmail.com>

Thank you for your reply!

It has been a while since I looked at the rad code but I'm pretty sure
that INDIRECT only affects the "-ab" value of the rpict comand.
Depending on your QUALITY setting is either INDIRECT = -ab
or INDIRECT=-ab-1. To keep the -ab value constant you have to
override it in with the "render=" option.

I am confused by the " INDIRECT = -abor INDIRECT=-ab-1. To keep the -ab
value constant you have to override it in with the "render=" option."  In my
setting, "INDIRECT would be a number, like INDIRECT = 5.

For my setting in rtrace, other ambient options are high enough to avoid the
mistake.  And the INDIRECT is est in .rif file and rtrace is set in another
file.  My setting is as following:

rtrace -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr 3 -sj 1
-st .01 -ab 8 -aa .1 -ad 2048 -as 1024 -av 0.01 0.01 0.01 -lr 12 -lw .0005
-af 5.amb 5.oct < 5.pts > 5.dat

RESOLUTION= 640 480
DETAIL= MEDIUM
VARIABILITY= MEDIUM
QUALITY= MEDIUM
INDIRECT= 5
REPORT= 2

render= -i
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100127/176e5fe2/attachment.html
From grobe at gmx.net  Wed Jan 27 00:35:16 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed Jan 27 00:35:23 2010
Subject: [Radiance-general] "INDIRECE"in .rif file
In-Reply-To: <a555a441001262234s46230462le18475cb9364fa7b@mail.gmail.com>
References: <a555a441001252340v437906d5m6b277872ee0820cc@mail.gmail.com>	<89355c0f1001260144m8e11bd1o7ae3e34e79f58d41@mail.gmail.com>
	<a555a441001262234s46230462le18475cb9364fa7b@mail.gmail.com>
Message-ID: <4B5FFAC4.6040003@gmx.net>

Hi!
> rtrace -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr 3 
> -sj 1 -st .01 -ab 8 -aa .1 -ad 2048 -as 1024 -av 0.01 0.01 0.01 -lr 12 
> -lw .0005 -af 5.amb 5.oct < 5.pts > 5.dat
>
> RESOLUTION= 640 480
> DETAIL= MEDIUM
> VARIABILITY= MEDIUM
> QUALITY= MEDIUM
> INDIRECT= 5
> REPORT= 2
>
> render= -i
As Thomas wrote, rtrace does not care about this. You can use a RIF-file 
when you pass its name to rad as a command line argument, e.g.

bash#rad myRenderings.rif

Now rad would read in the setting, and call the commands necessary to do 
all calculations as defined in the RIF-file.

If you call rtrace, the rtrace-options apply. rtrace does not know 
anything about the existance of you RIF-file. The file name of the 
RIF-file does not appear on the command line you posted - how should 
rtrace know to use it?

How did you arrive at the ambient parameters you are using? Especially 
ar 32 combined with very high ad amd as? Did you consider scene size and 
level of detail / irradiance variance?

Cheers Lars.

From tbleicher at googlemail.com  Wed Jan 27 02:01:05 2010
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Wed Jan 27 02:05:31 2010
Subject: [Radiance-general] "INDIRECE"in .rif file
In-Reply-To: <a555a441001262234s46230462le18475cb9364fa7b@mail.gmail.com>
References: <a555a441001252340v437906d5m6b277872ee0820cc@mail.gmail.com>
	<89355c0f1001260144m8e11bd1o7ae3e34e79f58d41@mail.gmail.com>
	<a555a441001262234s46230462le18475cb9364fa7b@mail.gmail.com>
Message-ID: <89355c0f1001270201w71ecb2a0g7204b143ae133847@mail.gmail.com>

On Wed, Jan 27, 2010 at 6:34 AM, victor li <victorpirates@gmail.com> wrote:
> Thank you for your reply!

> I am confused by the " INDIRECT = -abor INDIRECT=-ab-1. To keep the -ab
> value constant you have to override it in with the "render=" option."? In my
> setting, "INDIRECT would be a number, like INDIRECT = 5.

Sorry, I wanted to say that the value of "-ab" is calculated from
the value for INDIRECT depending on your QUALITY setting. If
you have QUALITY=low then "-ab" will be your INDIRECT value,
if you have QUALITY=medium or high then "-ab" will be the
INDIRECT value + 1. It was written in a rush.

If you want to force a particular value for an rpict (or rvu) option
you can add it to the "render=" setting (like the "-i" in your case).
Rad will add these options at the end of the generated rpict
command and so override all options that have been calculated
from the QUALITY etc. settings.

> For my setting in rtrace, other ambient options are high enough to avoid the
> mistake.?[...] My setting is as following:
>
> rtrace -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr 3 -sj 1
> -st .01 -ab 8 -aa .1 -ad 2048 -as 1024 -av 0.01 0.01 0.01 -lr 12 -lw .0005
> -af 5.amb 5.oct < 5.pts > 5.dat

I wouldn't call "-aa 0.1" and "-ar 32" particularly high. Can you
produce similar results for two calculations if you don't change
anything?

As Lars already wrote, the accuracy of rtrace is definded only
by the parameters above. The settings below have nothing to
do with it.

> RESOLUTION= 640 480
> DETAIL= MEDIUM
> VARIABILITY= MEDIUM
> QUALITY= MEDIUM
> INDIRECT= 5
> REPORT= 2
>
> render= -i

Regards,
Thomas

From jedev at visarc.com  Thu Jan 28 16:19:53 2010
From: jedev at visarc.com (Jack de Valpine)
Date: Thu Jan 28 16:19:56 2010
Subject: [Radiance-general] Re: [Bldg-sim] Daysim/Radiance
In-Reply-To: <69a9bc0a1001281420h69898d85v1dec522b3771ec5c@mail.gmail.com>
References: <69a9bc0a1001281420h69898d85v1dec522b3771ec5c@mail.gmail.com>
Message-ID: <4B6229A9.2000001@visarc.com>

Hi Karen,

Thomas Bleicher had written an exporter (Sketchup to Radiance). You can 
download it from this location:

    http://code.google.com/p/su2rad/downloads/list

Regards,

-Jack de Valpine

-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



Karen Walkerman wrote:
> Hi All,
>
> I'm learning to use Daysim.  I currently have Autocad 2007 and the 
> free version of Google Sketchup on my computer.  I'd like to be able 
> to use Sketchup to create the 3D geometry for importing into Daysim, 
> but I can't export to 3ds.  Autocad 2007 doesn't export either.
>
> I tried downloading the 3DsExport for Sketchup plugin, but it doesn't 
> seem to handle the materials files well enough for an import to Daysim.
>
> I'd appreciate if anyone can let me know their methods for using some 
> combination of this software.
>
> Thanks,
>
> --
> Karen
> ------------------------------------------------------------------------
>
> _______________________________________________
> Bldg-sim mailing list
> http://lists.onebuilding.org/listinfo.cgi/bldg-sim-onebuilding.org
> To unsubscribe from this mailing list send  a blank message to BLDG-SIM-UNSUBSCRIBE@ONEBUILDING.ORG
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100128/a3adbd32/attachment.htm
From reinhart at gsd.harvard.edu  Thu Jan 28 17:28:03 2010
From: reinhart at gsd.harvard.edu (Reinhart, Christoph)
Date: Thu Jan 28 17:28:11 2010
Subject: [Radiance-general] Re: [Bldg-sim] Daysim/Radiance
In-Reply-To: <4B6229A9.2000001@visarc.com>
References: <69a9bc0a1001281420h69898d85v1dec522b3771ec5c@mail.gmail.com>
	<4B6229A9.2000001@visarc.com>
Message-ID: <C5E1527F129BF545A250B5AD0B0C26EF0619BB72@ENTWEXMB0000000.university.harvard.edu>

The latest version of Thomas' script exports a full Daysim project and
allows you to re-import the simulation results (Daylight Autonomy etc.)
back into SketchUp via a falsecolor plot. Very slick.

 

Christoph

 

From: radiance-general-bounces@radiance-online.org
[mailto:radiance-general-bounces@radiance-online.org] On Behalf Of Jack
de Valpine
Sent: Thursday, January 28, 2010 7:20 PM
To: Karen Walkerman
Cc: Radiance general discussion
Subject: [Radiance-general] Re: [Bldg-sim] Daysim/Radiance

 

Hi Karen,

Thomas Bleicher had written an exporter (Sketchup to Radiance). You can
download it from this location:

http://code.google.com/p/su2rad/downloads/list

Regards,

-Jack de Valpine



-- 
# Jack de Valpine
# president
#
# visarc incorporated
# http://www.visarc.com
#
# channeling technology for superior design and construction



Karen Walkerman wrote: 

Hi All,

I'm learning to use Daysim.  I currently have Autocad 2007 and the free
version of Google Sketchup on my computer.  I'd like to be able to use
Sketchup to create the 3D geometry for importing into Daysim, but I
can't export to 3ds.  Autocad 2007 doesn't export either.

I tried downloading the 3DsExport for Sketchup plugin, but it doesn't
seem to handle the materials files well enough for an import to Daysim.

I'd appreciate if anyone can let me know their methods for using some
combination of this software.

Thanks,

--
Karen



 


________________________________



 
_______________________________________________
Bldg-sim mailing list
http://lists.onebuilding.org/listinfo.cgi/bldg-sim-onebuilding.org
To unsubscribe from this mailing list send  a blank message to
BLDG-SIM-UNSUBSCRIBE@ONEBUILDING.ORG
  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100128/63bc1932/attachment.html
From victorpirates at gmail.com  Thu Jan 28 19:02:16 2010
From: victorpirates at gmail.com (victor li)
Date: Thu Jan 28 19:02:18 2010
Subject: [Radiance-general] "INDIRECE"in .rif file
In-Reply-To: <89355c0f1001270201w71ecb2a0g7204b143ae133847@mail.gmail.com>
References: <a555a441001252340v437906d5m6b277872ee0820cc@mail.gmail.com>
	<89355c0f1001260144m8e11bd1o7ae3e34e79f58d41@mail.gmail.com>
	<a555a441001262234s46230462le18475cb9364fa7b@mail.gmail.com>
	<89355c0f1001270201w71ecb2a0g7204b143ae133847@mail.gmail.com>
Message-ID: <a555a441001281902t4d3bbafcsdb7cef0494790d45@mail.gmail.com>

Hi Lars:

Actually, i know what you mean, but the result is strange, it is not what we
expect. I donot know what is wrong in my setting. I used rad and rtrace
command as follwoing:
RAD 5.rif
rtrace -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr 3 -sj 1
-st .01 -ab 8 -aa .1 -ad 512 -as 256 -av 0.01 0.01 0.01 -lr 12 -lw .0005 -af
5.amb 5.oct < 5.pts > 5.dat

In the .rif file:
RESOLUTION= 640 480
DETAIL= MEDIUM
VARIABILITY= MEDIUM
QUALITY= MEDIUM
INDIRECT= 5
REPORT= 2

render= -i

So the result of rtrace command would donot matter with the seting in .rif.
However, if i changed the "INDIRECT" and keep any other settings the same,
the result of rtrace command is different.  Do you know the reason?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://radiance-online.org/pipermail/radiance-general/attachments/20100129/c1a0f788/attachment.htm
From grobe at gmx.net  Thu Jan 28 19:18:14 2010
From: grobe at gmx.net (Lars O. Grobe)
Date: Thu Jan 28 19:18:22 2010
Subject: [Radiance-general] "INDIRECE"in .rif file
In-Reply-To: <a555a441001281902t4d3bbafcsdb7cef0494790d45@mail.gmail.com>
References: <a555a441001252340v437906d5m6b277872ee0820cc@mail.gmail.com>	<89355c0f1001260144m8e11bd1o7ae3e34e79f58d41@mail.gmail.com>	<a555a441001262234s46230462le18475cb9364fa7b@mail.gmail.com>	<89355c0f1001270201w71ecb2a0g7204b143ae133847@mail.gmail.com>
	<a555a441001281902t4d3bbafcsdb7cef0494790d45@mail.gmail.com>
Message-ID: <4B625376.7030906@gmx.net>

Hi Victor!
> Actually, i know what you mean, but the result is strange, it is not 
> what we expect. I donot know what is wrong in my setting. I used rad 
> and rtrace command as follwoing:
Hm, I still do not get why these two programs could be related.
> RAD 5.rif
I guess this is a typo, and what you actually type in is in small 
letters (rad 5.rif?). What is the result of this, I think there is no 
view given in your RIF. Is there any result from the run of rad? I would 
expect nothing to happen, as rad has nothing to do?

> rtrace -I -h -dp 2046 -ar 32 -ms 0.063 -ds .2 -dt .05 -dc .75 -dr 3 
> -sj 1 -st .01 -ab 8 -aa .1 -ad 512 -as 256 -av 0.01 0.01 0.01 -lr 12 
> -lw .0005 -af 5.amb 5.oct < 5.pts > 5.dat
How is this related to your rad-call? Why do you have this low 
ar-setting? Where are all these values derived from?

> In the .rif file: 
> RESOLUTION= 640 480
> DETAIL= MEDIUM
> VARIABILITY= MEDIUM
> QUALITY= MEDIUM
> INDIRECT= 5
> REPORT= 2
>
> render= -i
>
> So the result of rtrace command would donot matter with the seting in 
> .rif. However, if i changed the "INDIRECT" and keep any other settings 
> the same, the result of rtrace command is different.  Do you know the 
> reason?

Delete your RIF-file. Run the rtrace-command with the same parameters 
(maybe increase the ar first) several times, and compare the output in 
5.dat.

Cheers, Lars.

From jacobs.axel at gmail.com  Fri Jan 29 08:51:49 2010
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Fri Jan 29 08:45:51 2010
Subject: [Radiance-general] total -p and zeroes
In-Reply-To: <4b5b5562.aa13f30a.77e2.ffff9f3eSMTPIN_ADDED@mx.google.com>
References: <4b5b5562.aa13f30a.77e2.ffff9f3eSMTPIN_ADDED@mx.google.com>
Message-ID: <4B631225.2040107@gmail.com>

Dear list,

I'm trying to use total -p to multiply two rows of data like this:

$ echo -e "0 1 2 3\n2 3 4 5"
0 1 2 3
2 3 4 5

$ echo -e "0 1 2 3\n2 3 4 5" |total -p
2	3	8	15

I would expect 0 * 2 = 0 in the first column. Does the -p option not 
like zeroes? A straight-forward sum gives the expected result:

$ echo -e "0 1 2 3\n2 3 4 5" |total
2	4	6	8

Regards

Axel

From gregoryjward at gmail.com  Fri Jan 29 09:07:52 2010
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri Jan 29 09:08:03 2010
Subject: [Radiance-general] total -p and zeroes
In-Reply-To: <4B631225.2040107@gmail.com>
References: <4b5b5562.aa13f30a.77e2.ffff9f3eSMTPIN_ADDED@mx.google.com>
	<4B631225.2040107@gmail.com>
Message-ID: <1C664345-0127-4544-967F-D446FCD75A3E@lmi.net>

Hi Axel,

This is really a bug.  Total computes products by converting to a log  
domain, which of course doesn't work for zero.  I can fix this  
problem, and will do so in the next release.

Cheers for pointing it out.
-Greg

P.S.  The reason for converting to log is that it allows geometric  
means to be computed for almost any set of numbers, which would  
overflow a straight product.

> From: Axel Jacobs <jacobs.axel@gmail.com>
> Date: January 29, 2010 8:51:49 AM PST
>
> Dear list,
>
> I'm trying to use total -p to multiply two rows of data like this:
>
> $ echo -e "0 1 2 3\n2 3 4 5"
> 0 1 2 3
> 2 3 4 5
>
> $ echo -e "0 1 2 3\n2 3 4 5" |total -p
> 2	3	8	15
>
> I would expect 0 * 2 = 0 in the first column. Does the -p option not  
> like zeroes? A straight-forward sum gives the expected result:
>
> $ echo -e "0 1 2 3\n2 3 4 5" |total
> 2	4	6	8
>
> Regards
>
> Axel

