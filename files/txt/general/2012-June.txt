From kirankumar.devs at gmail.com  Fri Jun  1 04:30:21 2012
From: kirankumar.devs at gmail.com (kiran kumar)
Date: Fri, 1 Jun 2012 17:00:21 +0530
Subject: [Radiance-general] Radiation maps using Ecotect Model
Message-ID: <CADqHanUtt2xBXZ=+kPdyO15C_NmqOWc0Hc0hk_btm74XRK9-og@mail.gmail.com>

Dear All,

I would like to check whether it is possible to model buildings in Ecotect
and run the Gensky module to get the radiation maps?
Thanks in Advance

-- 
D E V S Kiran Kumar
Research Associate
Sustainable Habitat Division
The Energy and Resources Institute (TERI)
Mobile: +91 9886228116
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120601/b586335b/attachment.html>

From smoret at ucdavis.edu  Fri Jun  1 12:41:39 2012
From: smoret at ucdavis.edu (Stefano Moret)
Date: Fri, 1 Jun 2012 19:41:39 +0000
Subject: [Radiance-general] evalglare installation on mac
In-Reply-To: <FFF56A6D37A3A54F91A03601AC22DA3224CCFED8B4@MAILBOX2.nrel.gov>
References: <0BF41788-A111-4652-9172-D259C5109E7D@ucdavis.edu>
	<FFF56A6D37A3A54F91A03601AC22DA3224CCFED8B4@MAILBOX2.nrel.gov>
Message-ID: <B1155374-BB8F-4277-9968-2B183EC288C1@ucdavis.edu>

Done, thanks Rob!

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>

On 31/mag/2012, at 19.22, Guglielmetti, Robert wrote:

It seems like you're getting it to compile. I would recommend you place it in the same directory as all your Radiance binaries, so that evalglare will be in a search path target. Also make sure it's been set to be executable. You may need admin privileges to do both of these things. For example, if Radiance is in /usr/local/bin, and you are currently in the directory where you compiled evalglare:

sudo cp evalglare /usr/local/bin (you will be prompted for the admin password)
sudo chmod 755 /usr/local/bin/evalglare

Give that a whirl, and if you still have problems, maybe some more detail about what happens when you try to run evalglare will be needed.

- Rob
________________________________________
From: Stefano Moret [smoret at ucdavis.edu]
Sent: Thursday, May 31, 2012 6:40 PM
To: radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>
Subject: [Radiance-general] evalglare installation on mac

Hi,

I've downloaded the v.1.04 version of evalglare on my mac os 10.6.8.
I added to the flags the -fnested-functions to the CFLAGS as indicated in the previous emails, unpacked the folder into /radiance/evalgare, and ran "make" from the command line.
It doesn't seem to install properly though, basically what I see in output is:

MacBook-di-Stefano-Moret:evalglare Cinese$ make
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/color.o common/color.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/resolu.o common/resolu.c -I. -Igeometry
common/resolu.c: In function ?str2resolu?:
common/resolu.c:98: warning: implicit declaration of function ?atoi?
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/header.o common/header.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/image.o common/image.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/fvect.o common/fvect.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/badarg.o common/badarg.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/words.o common/words.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/fputword.o common/fputword.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/expandarg.o common/expandarg.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/wordfile.o common/wordfile.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/bmalloc.o common/bmalloc.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o common/mat4.o common/mat4.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o pictool.o pictool.c -I. -Igeometry
pictool.c:98: warning: ?read_exposure? defined but not used
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3vector.o geometry/g3vector.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/gbasic.o geometry/gbasic.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3affine.o geometry/g3affine.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3sphere.o geometry/g3sphere.c -I. -Igeometry
gcc -c -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -o geometry/g3flist.o geometry/g3flist.c -I. -Igeometry
gcc -g  -DMSDOS  -DPICT_GLARE -DFLOAT=double -O3  -fnested-functions -Wall  -DEVALGLARE -o evalglare  evalglare.c pictool.o geometry/g3vector.o geometry/gbasic.o geometry/g3affine.o geometry/g3sphere.o geometry/g3flist.o \
-I. -Igeometry common/color.o common/resolu.o common/header.o common/image.o common/fvect.o common/badarg.o common/words.o common/fputword.o common/expandarg.o common/wordfile.o common/bmalloc.o common/mat4.o  -lm

It does something, but I don't think it's properly installed: for example, it can't find the command evalglare if I'm in another folder, and even in that folder it doesn't run the glare analysis on the picture.
Could anyone enlighten me on what I'm doing wrong?

Many thanks,
Best Regards,
Stefano

--

Stefano Moret
California Lighting Technology Center<http://cltc.ucdavis.edu/>
University of California, Davis
633 Pena Drive
Davis, CA 95618

530-747-3846
smoret at ucdavis.edu<mailto:smoret at ucdavis.edu>


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120601/4e2eaa20/attachment.html>

From gregoryjward at gmail.com  Sun Jun  3 12:24:03 2012
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sun, 3 Jun 2012 12:24:03 -0700
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <A24822C7-1159-4B5B-9248-1E6C3B245613@lmi.net>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
	<4FBDB8F2.3010205@curtin.edu.au>
	<A24822C7-1159-4B5B-9248-1E6C3B245613@lmi.net>
Message-ID: <9B8B0095-92F3-4C46-A050-4AA340556A21@gmail.com>

Quick follow-up to this...  I did add a slider to trad to control the number of processes.  It's checked into the latest HEAD.

Regarding falsecolor and image size, I recommend using pfilt to correct the image size on the way in.

Cheers,
-Greg

> From: Greg Ward <gward at lmi.net>
> Date: May 23, 2012 9:45:49 PM PDT
> 
> Yes to #1, no to #2.  This was discussed before, and I added a warning from rpiece when the resolution changes, but I can't keep it from changing.  Rpiece (rpict really) needs the tiles to be of equal size, which means both dimensions must be multiples of the respective number of tile divisions.
> 
> You can work around the problem with some difficulty by noting what rpiece changes the resolution to and making sure you set -x and -y to this with -pa 0 on any other runs you do.  Unfortunately, the actual resolution will change with different -N settings because rad will make a different number of tiles to optimize processor loads.
> 
> Regarding #1, I haven't changed trad in ages, so it may take a while to remember enough Tcl/Tk to add this.
> 
> Best,
> -Greg
> 
>> From: Terrance Mc Minn <t.mcminn at curtin.edu.au>
>> Date: May 23, 2012 9:28:34 PM PDT
>> 
>> I can verify that missing sections of images happens on both Linux and MAC computers when an ambient file is used though not consistantly.
>> 
>> Often I have suspected/verified that the number of -N specified is greater than the actual number of cores available. For example a i7 Macbook that a student had in my office 10 minutes ago shows only 4 cores hence -N 4 would seem appropriate. Some images would complete while others left black patches. All I did was to delete the offending hdr image and re-issue the rad command exactly to have the image rebuilt - much faster as the ambient file has already been populated.
>> 
>> I suspect that the -N number should generally be kept to at least 1 below the max cores available.
>> 
>> Questions for the Development List :
>> 1) Can multi-core processing be added to trad  (-n for rvu and -N rad)? While it is possible to add a -n 4 in the trad options line for rvu, you cannot use a -N in the option line for rad.
>> 2) Can the image size resolution for single core processing be the same as multi-core to allow further processing with falsecolor. When rad -N processing uses rpiece the image size can be modified/rationalised. This does not happen in single core processing, hence falsecolor would fail when mixing images due to image size mismatch.
>> 
>> Terrance Mc Minn


From tbleicher at googlemail.com  Sun Jun  3 14:13:19 2012
From: tbleicher at googlemail.com (Thomas Bleicher)
Date: Sun, 3 Jun 2012 16:13:19 -0500
Subject: [Radiance-general] the solar position algorithm used in Radiance
In-Reply-To: <CAD83LVKq59K7kgAs_BNvLvs1xspApjG+aENk1ZRZFufrinhW1Q@mail.gmail.com>
References: <CAD83LVKUeWHeoLxb=jroMRA5mvqe_fUM8ofLoUyp+aZjpaOtnQ@mail.gmail.com>
	<Pine.LNX.4.64.1205290953500.18198@goldenaxe.gpcc.itd.umich.edu>
	<CAD83LVKq59K7kgAs_BNvLvs1xspApjG+aENk1ZRZFufrinhW1Q@mail.gmail.com>
Message-ID: <CAKGV-k0e=PNhNOyQZv4QFRQX3mOePdh8R5yogy23Bm9EF56WOQ@mail.gmail.com>

Ji

I think you will find what you are looking for also in the source code file
src/gen/sun.c if C is easier to understand for you.

Both files don't contain much of an explanation. I copied these functions
to Python few years back and I think I could find all of the equations
documented and explained on the net somewhere. It's worth a Google if you
don't understand what's going on.

Regards,
Thomas


On Tue, May 29, 2012 at 9:57 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Thanks for the advice, Mark and Pally, I'll take a look! It seems there's
> a sun.cal file in Radiance library. I'll try to figure it out how it works.
>
> - Cheers, Ji
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120603/7e601728/attachment.html>

From hope.zh at gmail.com  Sun Jun  3 19:11:02 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Mon, 4 Jun 2012 10:11:02 +0800
Subject: [Radiance-general] the solar position algorithm used in Radiance
In-Reply-To: <CAKGV-k0e=PNhNOyQZv4QFRQX3mOePdh8R5yogy23Bm9EF56WOQ@mail.gmail.com>
References: <CAD83LVKUeWHeoLxb=jroMRA5mvqe_fUM8ofLoUyp+aZjpaOtnQ@mail.gmail.com>
	<Pine.LNX.4.64.1205290953500.18198@goldenaxe.gpcc.itd.umich.edu>
	<CAD83LVKq59K7kgAs_BNvLvs1xspApjG+aENk1ZRZFufrinhW1Q@mail.gmail.com>
	<CAKGV-k0e=PNhNOyQZv4QFRQX3mOePdh8R5yogy23Bm9EF56WOQ@mail.gmail.com>
Message-ID: <CAD83LVJXrAYZq=K595BMYWH9Ai9dMZ_p69YUOD57tckTYm+yaQ@mail.gmail.com>

Thank you very much, Thomas! I'll take a look of the C file.

- Cheers, Ji

On Mon, Jun 4, 2012 at 5:13 AM, Thomas Bleicher <tbleicher at googlemail.com>wrote:

> Ji
>
> I think you will find what you are looking for also in the source code
> file src/gen/sun.c if C is easier to understand for you.
>
> Both files don't contain much of an explanation. I copied these functions
> to Python few years back and I think I could find all of the equations
> documented and explained on the net somewhere. It's worth a Google if you
> don't understand what's going on.
>
> Regards,
> Thomas
>
>
> On Tue, May 29, 2012 at 9:57 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Thanks for the advice, Mark and Pally, I'll take a look! It seems there's
>> a sun.cal file in Radiance library. I'll try to figure it out how it works.
>>
>> - Cheers, Ji
>>
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120604/3004207b/attachment.html>

From t.mcminn at curtin.edu.au  Mon Jun  4 19:02:24 2012
From: t.mcminn at curtin.edu.au (Terrance Mc Minn)
Date: Tue, 5 Jun 2012 10:02:24 +0800
Subject: [Radiance-general] running radiance on multiple cores
In-Reply-To: <9B8B0095-92F3-4C46-A050-4AA340556A21@gmail.com>
References: <6F5225D6E15F954BB4E58EC25F6736C308CFD9BF@corp3005.CORPORATE.FOSTER.NETWORK>
	<98F5AA52-AA9E-494E-BE4B-9286EA02FF09@lmi.net>
	<4FBDB8F2.3010205@curtin.edu.au>
	<A24822C7-1159-4B5B-9248-1E6C3B245613@lmi.net>
	<9B8B0095-92F3-4C46-A050-4AA340556A21@gmail.com>
Message-ID: <4FCD68B0.8010304@curtin.edu.au>

Works a treat - thank you Greg.

*Terrance Mc Minn
**
*

On 4/06/12 3:24 AM, Gregory J. Ward wrote:
> Quick follow-up to this...  I did add a slider to trad to control the number of processes.  It's checked into the latest HEAD.
>
> Regarding falsecolor and image size, I recommend using pfilt to correct the image size on the way in.
>
> Cheers,
> -Greg
>
>> From: Greg Ward<gward at lmi.net>
>> Date: May 23, 2012 9:45:49 PM PDT
>>
>> Yes to #1, no to #2.  This was discussed before, and I added a warning from rpiece when the resolution changes, but I can't keep it from changing.  Rpiece (rpict really) needs the tiles to be of equal size, which means both dimensions must be multiples of the respective number of tile divisions.
>>
>> You can work around the problem with some difficulty by noting what rpiece changes the resolution to and making sure you set -x and -y to this with -pa 0 on any other runs you do.  Unfortunately, the actual resolution will change with different -N settings because rad will make a different number of tiles to optimize processor loads.
>>
>> Regarding #1, I haven't changed trad in ages, so it may take a while to remember enough Tcl/Tk to add this.
>>
>> Best,
>> -Greg
>>
>>> From: Terrance Mc Minn<t.mcminn at curtin.edu.au>
>>> Date: May 23, 2012 9:28:34 PM PDT
>>>
>>> I can verify that missing sections of images happens on both Linux and MAC computers when an ambient file is used though not consistantly.
>>>
>>> Often I have suspected/verified that the number of -N specified is greater than the actual number of cores available. For example a i7 Macbook that a student had in my office 10 minutes ago shows only 4 cores hence -N 4 would seem appropriate. Some images would complete while others left black patches. All I did was to delete the offending hdr image and re-issue the rad command exactly to have the image rebuilt - much faster as the ambient file has already been populated.
>>>
>>> I suspect that the -N number should generally be kept to at least 1 below the max cores available.
>>>
>>> Questions for the Development List :
>>> 1) Can multi-core processing be added to trad  (-n for rvu and -N rad)? While it is possible to add a -n 4 in the trad options line for rvu, you cannot use a -N in the option line for rad.
>>> 2) Can the image size resolution for single core processing be the same as multi-core to allow further processing with falsecolor. When rad -N processing uses rpiece the image size can be modified/rationalised. This does not happen in single core processing, hence falsecolor would fail when mixing images due to image size mismatch.
>>>
>>> Terrance Mc Minn
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120605/23c8519e/attachment.html>

From boutillier at estia.ch  Thu Jun  7 06:56:41 2012
From: boutillier at estia.ch (Julien Boutillier)
Date: Thu, 7 Jun 2012 15:56:41 +0200
Subject: [Radiance-general] Problem leak light
Message-ID: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>

Hi, 

I develop a software to calculate the daylight factor in a room using Radiance.

I noticed that even a room with a window with '0' transmission, Radiance gives me a DF different from '0' if walls have a reflection different from 0.

I don't understand where this light come from? I thought about leak light, but i tried to change the construction of my view (add the thickness of walls, make walls crossing on the corners), but nothing change this result.

Did somebody have already notice this? Do you know this problem? 

Thanks

Julien

From jedev at visarc.com  Thu Jun  7 07:11:38 2012
From: jedev at visarc.com (Jack de Valpine)
Date: Thu, 07 Jun 2012 10:11:38 -0400
Subject: [Radiance-general] Problem leak light
In-Reply-To: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
References: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
Message-ID: <4FD0B69A.20202@visarc.com>

Hi Julien,

It would help if you could post the parameters that you are using to 
calculate your values. That way people can give you better input on your 
problem.

-Jack

On 6/7/2012 9:56 AM, Julien Boutillier wrote:
> Hi,
>
> I develop a software to calculate the daylight factor in a room using Radiance.
>
> I noticed that even a room with a window with '0' transmission, Radiance gives me a DF different from '0' if walls have a reflection different from 0.
>
> I don't understand where this light come from? I thought about leak light, but i tried to change the construction of my view (add the thickness of walls, make walls crossing on the corners), but nothing change this result.
>
> Did somebody have already notice this? Do you know this problem?
>
> Thanks
>
> Julien
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From antonutto at yahoo.it  Thu Jun  7 07:08:00 2012
From: antonutto at yahoo.it (giulio antonutto)
Date: Thu, 7 Jun 2012 15:08:00 +0100
Subject: [Radiance-general] Problem leak light
In-Reply-To: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
References: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
Message-ID: <CFA51BF1-3603-44CE-B58A-B57E38E42E12@yahoo.it>

sometimes ray of light get out from the edges of two adjacent polygons, and worst re-spawn  from an edge creating a splotch.
If so you need to setup the -aa and -ar values in order to reduce interpolation errors. And also ensure that there are no edges without thickness.
the other thing is the -av parameter. which you could try to set [0 0 0].
another thing is also to consider the values.   that maybe more than 0, but perhaps very small (i.e. 10^-7 or so)
goodluck
g

 
On 7 Jun 2012, at 14:56, Julien Boutillier wrote:

> Hi, 
> 
> I develop a software to calculate the daylight factor in a room using Radiance.
> 
> I noticed that even a room with a window with '0' transmission, Radiance gives me a DF different from '0' if walls have a reflection different from 0.
> 
> I don't understand where this light come from? I thought about leak light, but i tried to change the construction of my view (add the thickness of walls, make walls crossing on the corners), but nothing change this result.
> 
> Did somebody have already notice this? Do you know this problem? 
> 
> Thanks
> 
> Julien
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From hope.zh at gmail.com  Thu Jun  7 07:24:39 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Thu, 7 Jun 2012 22:24:39 +0800
Subject: [Radiance-general] Problem leak light
In-Reply-To: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
References: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
Message-ID: <CAD83LVKocvxq1tZEC4M+JW49Cd3F7_J_nzP=hsVSg2jAfXUyeA@mail.gmail.com>

Hi, Julien, a quick thought: check the normal of the wall surfaces: i.e.
check if the interior side of the wall has an inward normal and the
exterior side of the wall has an outward normal ...

- Ji

On Thu, Jun 7, 2012 at 9:56 PM, Julien Boutillier <boutillier at estia.ch>wrote:

> Hi,
>
> I develop a software to calculate the daylight factor in a room using
> Radiance.
>
> I noticed that even a room with a window with '0' transmission, Radiance
> gives me a DF different from '0' if walls have a reflection different from
> 0.
>
> I don't understand where this light come from? I thought about leak light,
> but i tried to change the construction of my view (add the thickness of
> walls, make walls crossing on the corners), but nothing change this result.
>
> Did somebody have already notice this? Do you know this problem?
>
> Thanks
>
> Julien
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120607/5acbdfb7/attachment.html>

From boutillier at estia.ch  Thu Jun  7 07:37:57 2012
From: boutillier at estia.ch (Julien Boutillier)
Date: Thu, 7 Jun 2012 16:37:57 +0200
Subject: [Radiance-general] Problem leak light
In-Reply-To: <CAD83LVKocvxq1tZEC4M+JW49Cd3F7_J_nzP=hsVSg2jAfXUyeA@mail.gmail.com>
References: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
	<CAD83LVKocvxq1tZEC4M+JW49Cd3F7_J_nzP=hsVSg2jAfXUyeA@mail.gmail.com>
Message-ID: <53A743CB-391A-4985-8C73-273A499C70AA@estia.ch>

Hi, 

Thanks everybody, it's working better now.

The problem was the parameter -av, I had set to 2 2 2? It's better with 0 0 0.

Thanks again

Julien

Le 7 juin 2012 ? 16:24, Ji Zhang a ?crit :

> Hi, Julien, a quick thought: check the normal of the wall surfaces: i.e. check if the interior side of the wall has an inward normal and the exterior side of the wall has an outward normal ... 
> 
> - Ji
> 
> On Thu, Jun 7, 2012 at 9:56 PM, Julien Boutillier <boutillier at estia.ch> wrote:
> Hi,
> 
> I develop a software to calculate the daylight factor in a room using Radiance.
> 
> I noticed that even a room with a window with '0' transmission, Radiance gives me a DF different from '0' if walls have a reflection different from 0.
> 
> I don't understand where this light come from? I thought about leak light, but i tried to change the construction of my view (add the thickness of walls, make walls crossing on the corners), but nothing change this result.
> 
> Did somebody have already notice this? Do you know this problem?
> 
> Thanks
> 
> Julien
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120607/98fbc285/attachment.html>

From robertfranke at gmx.de  Sun Jun 10 12:53:56 2012
From: robertfranke at gmx.de (Robert Franke)
Date: Sun, 10 Jun 2012 21:53:56 +0200
Subject: [Radiance-general] Road lightning r3
In-Reply-To: <CFA51BF1-3603-44CE-B58A-B57E38E42E12@yahoo.it>
References: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
	<CFA51BF1-3603-44CE-B58A-B57E38E42E12@yahoo.it>
Message-ID: <4FD4FB54.4070709@gmx.de>

Hi,

I read the 3rd workshop 2004 about "Road lightning simulation" by Giulio 
Antonutto and I am wondering what will happen to the R3 material if I 
don't have the angle of one degree at the observer position?

Are these the extrapolated data and if yes where do they come from? If 
not what is meant by that?

Thanks,

Robert



From antonutto at yahoo.it  Sun Jun 10 14:35:03 2012
From: antonutto at yahoo.it (giulio antonutto)
Date: Sun, 10 Jun 2012 22:35:03 +0100
Subject: [Radiance-general] Road lightning r3
In-Reply-To: <4FD4FB54.4070709@gmx.de>
References: <75E03F98-BCE9-4285-8EA1-58486D6DFF2B@estia.ch>
	<CFA51BF1-3603-44CE-B58A-B57E38E42E12@yahoo.it>
	<4FD4FB54.4070709@gmx.de>
Message-ID: <8691C315-B0C0-4C53-805B-6918C54E14F6@yahoo.it>

Robert,
You need the full dataset.
there is a cie publication with all values
then to see what happens you can always try with retrace and check luminance.
and in case you needed, fill the table with 0 values for unknown data.
I can point you to this link (until it will be available)
http://web.mac.com/geotrupes/iWeb/Main%20site/RadBlog/F684499E-33AE-4E8C-959A-85AF81FDBCB5.html
one thing to note is that the plastdata only accounts for direct, otherwise uses the same plastic model.
so the inter reflected component is as usual
G





On 10 Jun 2012, at 20:53, Robert Franke wrote:

> Hi,
> 
> I read the 3rd workshop 2004 about "Road lightning simulation" by Giulio Antonutto and I am wondering what will happen to the R3 material if I don't have the angle of one degree at the observer position?
> 
> Are these the extrapolated data and if yes where do they come from? If not what is meant by that?
> 
> Thanks,
> 
> Robert
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From hope.zh at gmail.com  Mon Jun 11 08:06:45 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Mon, 11 Jun 2012 23:06:45 +0800
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
Message-ID: <CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>

Sorry, just figured out that the source for Problem 2: the "-fo" option
should be added in addition to the "-ffc" and "-f" options

the script should be:

vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
|rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
-fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f tregenza.cal -b
tbin \
-o ./patches_copy/p%03d.hdr -m sky_glow -w \
./testroom_whitesky.oct

- Ji


On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:

> Dear list,
>
> I'm following Axel's tutorial on rtcontrib:
>
> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>
> Problem 1:
> on page 16-17, I use the following script to generate the fisheye image
> for Tregenza sky patches in random colors:
>
> pcomb `for i in {000..145}; do \
> echo "-c $(rcalc -e \
> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
> ./images/patches/p$i.hdr"; done` \
> > ./images/sky_colorcomb.hdr
>
> However, the script seems to run forever. Does it really need a long time
> to create the image, or Have I miss anything here?
>
>
> Problem 2:
> on page 17, I changed the script as suggested by changing the "-f" option
> to "-fo" to overwrite the existing hdr files:
>
> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal -b
> tbin \
> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
> ./testroom_whitesky.oct
>
> However, I got the following error message:
> rtrace: fatal - command line error at 'tregenza.cal'
> rtrace: fatal - command line error at 'tregenza.cal'
>
> Can anybody help to advise what the options for rtcontrib I should use
> here?
>
>
> Thanks!
> - Ji
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/82a56795/attachment.html>

From hope.zh at gmail.com  Mon Jun 11 07:54:31 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Mon, 11 Jun 2012 22:54:31 +0800
Subject: [Radiance-general] rtcontrib problems
Message-ID: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>

Dear list,

I'm following Axel's tutorial on rtcontrib:
http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf

Problem 1:
on page 16-17, I use the following script to generate the fisheye image for
Tregenza sky patches in random colors:

pcomb `for i in {000..145}; do \
echo "-c $(rcalc -e \
'$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
./images/patches/p$i.hdr"; done` \
> ./images/sky_colorcomb.hdr

However, the script seems to run forever. Does it really need a long time
to create the image, or Have I miss anything here?


Problem 2:
on page 17, I changed the script as suggested by changing the "-f" option
to "-fo" to overwrite the existing hdr files:

vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
|rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
-ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal -b tbin
\
-o ./patches_copy/p%03d.hdr -m sky_glow -w \
./testroom_whitesky.oct

However, I got the following error message:
rtrace: fatal - command line error at 'tregenza.cal'
rtrace: fatal - command line error at 'tregenza.cal'

Can anybody help to advise what the options for rtcontrib I should use
here?


Thanks!
- Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/014ded79/attachment.html>

From sulljoh1 at gmail.com  Mon Jun 11 08:36:08 2012
From: sulljoh1 at gmail.com (John Sullivan)
Date: Mon, 11 Jun 2012 11:36:08 -0400
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
Message-ID: <CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>

On Problem 1: You are probably doing it right.  Creating the hdr images in
Axel's tutorial on rtcontrib took us a couple of hours.

-John


On Mon, Jun 11, 2012 at 11:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Sorry, just figured out that the source for Problem 2: the "-fo" option
> should be added in addition to the "-ffc" and "-f" options
>
> the script should be:
>
>
> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
> -fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f tregenza.cal -b
> tbin \
>
> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
> ./testroom_whitesky.oct
>
> - Ji
>
>
>
> On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Dear list,
>>
>> I'm following Axel's tutorial on rtcontrib:
>>
>> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>>
>> Problem 1:
>> on page 16-17, I use the following script to generate the fisheye image
>> for Tregenza sky patches in random colors:
>>
>> pcomb `for i in {000..145}; do \
>> echo "-c $(rcalc -e \
>> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
>> ./images/patches/p$i.hdr"; done` \
>> > ./images/sky_colorcomb.hdr
>>
>> However, the script seems to run forever. Does it really need a long time
>> to create the image, or Have I miss anything here?
>>
>>
>> Problem 2:
>> on page 17, I changed the script as suggested by changing the "-f" option
>> to "-fo" to overwrite the existing hdr files:
>>
>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal -b
>> tbin \
>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>> ./testroom_whitesky.oct
>>
>> However, I got the following error message:
>> rtrace: fatal - command line error at 'tregenza.cal'
>> rtrace: fatal - command line error at 'tregenza.cal'
>>
>> Can anybody help to advise what the options for rtcontrib I should use
>> here?
>>
>>
>> Thanks!
>> - Ji
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/e482c637/attachment.html>

From hope.zh at gmail.com  Mon Jun 11 08:39:31 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Mon, 11 Jun 2012 23:39:31 +0800
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
Message-ID: <CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>

Thanks, John, I think I should press the button and go to sleep
un-frustrated now ... zzzzzzz

- Ji


On Mon, Jun 11, 2012 at 11:36 PM, John Sullivan <sulljoh1 at gmail.com> wrote:

> On Problem 1: You are probably doing it right.  Creating the hdr images in
> Axel's tutorial on rtcontrib took us a couple of hours.
>
> -John
>
>
> On Mon, Jun 11, 2012 at 11:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Sorry, just figured out that the source for Problem 2: the "-fo" option
>> should be added in addition to the "-ffc" and "-f" options
>>
>> the script should be:
>>
>>
>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>> -fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f tregenza.cal -b
>> tbin \
>>
>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>> ./testroom_whitesky.oct
>>
>> - Ji
>>
>>
>>
>> On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>>
>>> Dear list,
>>>
>>> I'm following Axel's tutorial on rtcontrib:
>>>
>>> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>>>
>>> Problem 1:
>>> on page 16-17, I use the following script to generate the fisheye image
>>> for Tregenza sky patches in random colors:
>>>
>>> pcomb `for i in {000..145}; do \
>>> echo "-c $(rcalc -e \
>>> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
>>> ./images/patches/p$i.hdr"; done` \
>>> > ./images/sky_colorcomb.hdr
>>>
>>> However, the script seems to run forever. Does it really need a long
>>> time to create the image, or Have I miss anything here?
>>>
>>>
>>> Problem 2:
>>> on page 17, I changed the script as suggested by changing the "-f"
>>> option to "-fo" to overwrite the existing hdr files:
>>>
>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal -b
>>> tbin \
>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>> ./testroom_whitesky.oct
>>>
>>> However, I got the following error message:
>>> rtrace: fatal - command line error at 'tregenza.cal'
>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>
>>> Can anybody help to advise what the options for rtcontrib I should use
>>> here?
>>>
>>>
>>> Thanks!
>>> - Ji
>>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/25993ec9/attachment-0001.html>

From amcneil at lbl.gov  Mon Jun 11 09:07:45 2012
From: amcneil at lbl.gov (Andrew McNeil)
Date: Mon, 11 Jun 2012 09:07:45 -0700
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
	<CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
Message-ID: <CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>

Actually, the image generation part may take hours, but combining the patch
images into a single image should take only a few minutes.

Personally, I've never been able to get that pcomb based command to work,
it seems to me that rcalc is waiting endlessly for input.  But you don't
need to use pcomb to combine the images anymore, dctimestep provides a much
more efficient option:

cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | \
dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr

Andy


On Mon, Jun 11, 2012 at 8:39 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Thanks, John, I think I should press the button and go to sleep
> un-frustrated now ... zzzzzzz
>
> - Ji
>
>
>
> On Mon, Jun 11, 2012 at 11:36 PM, John Sullivan <sulljoh1 at gmail.com>wrote:
>
>> On Problem 1: You are probably doing it right.  Creating the hdr images
>> in Axel's tutorial on rtcontrib took us a couple of hours.
>>
>> -John
>>
>>
>> On Mon, Jun 11, 2012 at 11:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>>
>>> Sorry, just figured out that the source for Problem 2: the "-fo" option
>>> should be added in addition to the "-ffc" and "-f" options
>>>
>>> the script should be:
>>>
>>>
>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>> -fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f tregenza.cal
>>> -b tbin \
>>>
>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>> ./testroom_whitesky.oct
>>>
>>> - Ji
>>>
>>>
>>>
>>> On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>
>>>> Dear list,
>>>>
>>>> I'm following Axel's tutorial on rtcontrib:
>>>>
>>>> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>>>>
>>>> Problem 1:
>>>> on page 16-17, I use the following script to generate the fisheye image
>>>> for Tregenza sky patches in random colors:
>>>>
>>>> pcomb `for i in {000..145}; do \
>>>> echo "-c $(rcalc -e \
>>>> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
>>>> ./images/patches/p$i.hdr"; done` \
>>>> > ./images/sky_colorcomb.hdr
>>>>
>>>> However, the script seems to run forever. Does it really need a long
>>>> time to create the image, or Have I miss anything here?
>>>>
>>>>
>>>> Problem 2:
>>>> on page 17, I changed the script as suggested by changing the "-f"
>>>> option to "-fo" to overwrite the existing hdr files:
>>>>
>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal -b
>>>> tbin \
>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>> ./testroom_whitesky.oct
>>>>
>>>> However, I got the following error message:
>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>
>>>> Can anybody help to advise what the options for rtcontrib I should use
>>>> here?
>>>>
>>>>
>>>> Thanks!
>>>> - Ji
>>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/c63f225e/attachment.html>

From akrickx at integralgroup.com  Mon Jun 11 10:41:35 2012
From: akrickx at integralgroup.com (Alex Krickx)
Date: Mon, 11 Jun 2012 10:41:35 -0700
Subject: [Radiance-general] Running Radiance on Windows
Message-ID: <E9AD575374574E439EA4C93EC054103A014B23FBE881@vesuvius2.rumseyengineers.com>

Hello,

I'm wondering how Windows users access Radiance. It's been a few years since I've used the software, and as I recall previously it was done through a CygWin interface. Right now we are building geometry in DesignBuilder which installs Radiance on the machine, but I'm wanting to edit my rad files, materials, and create new views that DesignBuilder doesn't allow.

What are people on Windows machines using? What problems have been encountered? Any upcoming releases that I should be aware of when choosing a software path? Including links to specific builds would also be much appreciated.

Apologies if this has been asked and answered - I had a look through the archives and didn't find a clear answer. Thanks in advance - I'm looking forward to hearing thoughts/comments.

Kind regards,
Alex Krickx

Alex Krickx, LEED AP
Project Engineer
________________________________
I N T E G R A L
                          GROUP

427 13th Street, Oakland CA 94612
510 663 2070 x 247
akrickx at integralgroup.com<mailto:akrickx at integralgroup.com>
www.integralgroup.com<http://www.integralgroup.com/>

DEEP GREEN Engineering.
_______________________________

 [cid:image001.png at 01CD47B5.00983480] <http://www.linkedin.com/groups?about=&gid=3830399>  [cid:image002.png at 01CD47B5.00983480] <http://www.facebook.com/#!/pages/Integral-Group-Inc/213422145352140>  [cid:image003.png at 01CD47B5.00983480] <http://twitter.com/#!/IntegralGroupCA>  [cid:image004.png at 01CD47B5.00983480] <http://www.youtube.com/user/IntegralGroupOakland>  [cid:image006.jpg at 01CD47BE.C5F5EFC0] <http://www.integralgroup.com/>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/d2733ca6/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 2553 bytes
Desc: image001.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/d2733ca6/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 2552 bytes
Desc: image002.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/d2733ca6/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 2588 bytes
Desc: image003.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/d2733ca6/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 2893 bytes
Desc: image004.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/d2733ca6/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.jpg
Type: image/jpeg
Size: 967 bytes
Desc: image006.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/d2733ca6/attachment-0001.jpg>

From gregoryjward at gmail.com  Mon Jun 11 11:11:54 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 11 Jun 2012 11:11:54 -0700
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
	<CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
	<CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
Message-ID: <EAD28B9F-1459-4346-9CA3-0FBB3DCCDF84@lmi.net>

Coincidentally, I'm working now to improve the speed & efficiency of rtcontrib, especially for multi-processors.  If any Unix users are interested in trying it out, I've checked a working version into the HEAD.  The program is (temporarily) named rcontrib, to segregate it from its predecessor, but the options and operation should be identical.  Once it's fully tested, I plan to replace the existing rtcontrib with this new version, which has been substantially redesigned.

Cheers,
-Greg

> From: Andrew McNeil <amcneil at lbl.gov>
> Date: June 11, 2012 9:07:45 AM PDT
> 
> Actually, the image generation part may take hours, but combining the patch images into a single image should take only a few minutes. 
> 
> Personally, I've never been able to get that pcomb based command to work, it seems to me that rcalc is waiting endlessly for input.  But you don't need to use pcomb to combine the images anymore, dctimestep provides a much more efficient option:
> 
> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | \
> dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr
> 
> Andy
> 
> 
> On Mon, Jun 11, 2012 at 8:39 AM, Ji Zhang <hope.zh at gmail.com> wrote:
> Thanks, John, I think I should press the button and go to sleep un-frustrated now ... zzzzzzz 
> 
> - Ji
> 
> 
> 
> On Mon, Jun 11, 2012 at 11:36 PM, John Sullivan <sulljoh1 at gmail.com> wrote:
> On Problem 1: You are probably doing it right.  Creating the hdr images in Axel's tutorial on rtcontrib took us a couple of hours.
> 
> -John
> 
> 
> On Mon, Jun 11, 2012 at 11:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:
> Sorry, just figured out that the source for Problem 2: the "-fo" option should be added in addition to the "-ffc" and "-f" options
> 
> the script should be:
> 
> 
> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
> -fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f tregenza.cal -b tbin \
> 
> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
> ./testroom_whitesky.oct
> 
> - Ji
> 
> 
> 
> On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:
> Dear list, 
> 
> I'm following Axel's tutorial on rtcontrib:
> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
> 
> Problem 1:
> on page 16-17, I use the following script to generate the fisheye image for Tregenza sky patches in random colors:
> 
> pcomb `for i in {000..145}; do \
> echo "-c $(rcalc -e \
> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
> ./images/patches/p$i.hdr"; done` \
> > ./images/sky_colorcomb.hdr
> 
> However, the script seems to run forever. Does it really need a long time to create the image, or Have I miss anything here?
> 
> 
> Problem 2:
> on page 17, I changed the script as suggested by changing the "-f" option to "-fo" to overwrite the existing hdr files:
> 
> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal -b tbin \
> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
> ./testroom_whitesky.oct
> 
> However, I got the following error message:
> rtrace: fatal - command line error at 'tregenza.cal'
> rtrace: fatal - command line error at 'tregenza.cal'
> 
> Can anybody help to advise what the options for rtcontrib I should use here? 
> 
> 
> Thanks!
> - Ji
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/d3d849d0/attachment.html>

From guy.vaessen at gmail.com  Mon Jun 11 13:51:15 2012
From: guy.vaessen at gmail.com (Guy Vaessen)
Date: Mon, 11 Jun 2012 22:51:15 +0200
Subject: [Radiance-general]  Running Radiance on Windows
Message-ID: <CAFXPCRYjnp6E7MUVNNZCdv6K1Gcb0KGO9hMiVx6E+m85s9_7zg@mail.gmail.com>

Hi,

To run Radiance on Windows, Robert Guglielmetti, has developed a new
package.
You can find it here:
http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance

The original announcement is here:
http://www.radiance-online.org/pipermail/radiance-general/2012-May/008534.html
This new package has rvu for Windows. Which is a big improvement.
I am sure Robert can explain a lot better/more than me. Good luck!

In Reply to:
>> I'm wondering how Windows users access Radiance. It's been a few years
since I've used the software, and as I recall previously it was done
through a CygWin interface. Right now we are building geometry in
DesignBuilder which installs Radiance on >> the machine, but I'm wanting to
edit my rad files, materials, and create new views that DesignBuilder
doesn't allow.

>> What are people on Windows machines using? What problems have been
encountered? Any upcoming releases that I should be aware of when choosing
a software path? Including links to specific builds would also be much
appreciated.

Best Guy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120611/691b57cd/attachment.html>

From Chris.Coulter at burohappold.com  Mon Jun 11 16:10:29 2012
From: Chris.Coulter at burohappold.com (Chris Coulter)
Date: Tue, 12 Jun 2012 00:10:29 +0100
Subject: [Radiance-general] Running Radiance on Windows
In-Reply-To: <E9AD575374574E439EA4C93EC054103A014B23FBE881@vesuvius2.rumseyengineers.com>
References: <E9AD575374574E439EA4C93EC054103A014B23FBE881@vesuvius2.rumseyengineers.com>
Message-ID: <8E6BAE1BECA2854BB78706B1506FC7AC02E20D93@ex-be01.burohappold.com>

At home, I've used virtualization software (VirtualBox, VMWare, etc) to
create a fully operable Linux guest to run Radiance from a Windows 7
host. While this may not be entirely efficient use of available
resources (Windows is still running), it is convenient enough to run
Radiance with access to multiple cores and the ability to recompile from
source as updates are made. Nice to be able to flip back and forth
between Linux and Windows programs for an efficient (enough) workflow,
without requiring rebooting.

 

I haven't tested Rob's OpenStudio, but it certainly seems promising
based on the talks from the 2011 Radiance Workshop. Compiling in Linux
can be difficult if you're not entirely sure what packages/dependencies
are needed for your build. You can also download OpenStudio precompiled
versions of Radiance if that suits your needs better.

 

Chris

 

Chris Coulter

Senior Lighting Designer
Buro Happold Consulting Engineers

100 Broadway, 23rd Floor

New York, NY 10005

Tel: 212.334.2025

Direct: 212.616.0254

Email: chris.coulter at burohappold.com

Website: www.burohappold.com

 

From: Alex Krickx [mailto:akrickx at integralgroup.com] 
Sent: Monday, June 11, 2012 1:42 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Running Radiance on Windows

 

Hello,

 

I'm wondering how Windows users access Radiance. It's been a few years
since I've used the software, and as I recall previously it was done
through a CygWin interface. Right now we are building geometry in
DesignBuilder which installs Radiance on the machine, but I'm wanting to
edit my rad files, materials, and create new views that DesignBuilder
doesn't allow. 

 

What are people on Windows machines using? What problems have been
encountered? Any upcoming releases that I should be aware of when
choosing a software path? Including links to specific builds would also
be much appreciated. 

 

Apologies if this has been asked and answered - I had a look through the
archives and didn't find a clear answer. Thanks in advance - I'm looking
forward to hearing thoughts/comments. 

 

Kind regards,

Alex Krickx

 

Alex Krickx, LEED AP 
Project Engineer

________________________________

I N T E G R A L

                          GROUP

 

427 13th Street, Oakland CA 94612
510 663 2070 x 247

akrickx at integralgroup.com
www.integralgroup.com <http://www.integralgroup.com/> 

 

DEEP GREEN Engineering.

_______________________________

 

   <http://www.linkedin.com/groups?about=&gid=3830399>   
<http://www.facebook.com/#!/pages/Integral-Group-Inc/213422145352140>   
<http://twitter.com/#!/IntegralGroupCA>   
<http://www.youtube.com/user/IntegralGroupOakland>   
<http://www.integralgroup.com/> 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/315e5a04/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 2553 bytes
Desc: image001.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/315e5a04/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 2552 bytes
Desc: image002.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/315e5a04/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 2588 bytes
Desc: image003.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/315e5a04/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 2893 bytes
Desc: image004.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/315e5a04/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.jpg
Type: image/jpeg
Size: 967 bytes
Desc: image005.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/315e5a04/attachment-0001.jpg>

From hope.zh at gmail.com  Mon Jun 11 20:08:24 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Tue, 12 Jun 2012 11:08:24 +0800
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <EAD28B9F-1459-4346-9CA3-0FBB3DCCDF84@lmi.net>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
	<CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
	<CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
	<EAD28B9F-1459-4346-9CA3-0FBB3DCCDF84@lmi.net>
Message-ID: <CAD83LVLE1zXRcCR3mwcRmvB=xNaAc+VeuYdrofzRYP_mDTJqyA@mail.gmail.com>

Thanks, Andy! The script was still running when I woke up... So, I'll try
out your suggestion later.

Thanks, Greg! look forward to your new "rcontrib" program!

- Cheers, Ji



On Tue, Jun 12, 2012 at 2:11 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Coincidentally, I'm working now to improve the speed & efficiency of
> rtcontrib, especially for multi-processors.  If any Unix users are
> interested in trying it out, I've checked a working version into the HEAD.
>  The program is (temporarily) named rcontrib, to segregate it from its
> predecessor, but the options and operation should be identical.  Once it's
> fully tested, I plan to replace the existing rtcontrib with this new
> version, which has been substantially redesigned.
>
> Cheers,
> -Greg
>
> *From: *Andrew McNeil <amcneil at lbl.gov>
>
> *Date: *June 11, 2012 9:07:45 AM PDT
>
> *
> *
>
> Actually, the image generation part may take hours, but combining the
> patch images into a single image should take only a few minutes.
>
> Personally, I've never been able to get that pcomb based command to work,
> it seems to me that rcalc is waiting endlessly for input.  But you don't
> need to use pcomb to combine the images anymore, dctimestep provides a much
> more efficient option:
>
> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | \
> dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr
>
> Andy
>
>
> On Mon, Jun 11, 2012 at 8:39 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Thanks, John, I think I should press the button and go to sleep
>> un-frustrated now ... zzzzzzz
>>
>> - Ji
>>
>>
>>
>> On Mon, Jun 11, 2012 at 11:36 PM, John Sullivan <sulljoh1 at gmail.com>wrote:
>>
>>> On Problem 1: You are probably doing it right.  Creating the hdr images
>>> in Axel's tutorial on rtcontrib took us a couple of hours.
>>>
>>> -John
>>>
>>>
>>> On Mon, Jun 11, 2012 at 11:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>
>>>> Sorry, just figured out that the source for Problem 2: the "-fo" option
>>>> should be added in addition to the "-ffc" and "-f" options
>>>>
>>>> the script should be:
>>>>
>>>>
>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>> -fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f tregenza.cal
>>>> -b tbin \
>>>>
>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>> ./testroom_whitesky.oct
>>>>
>>>> - Ji
>>>>
>>>>
>>>>
>>>> On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>>
>>>>> Dear list,
>>>>>
>>>>> I'm following Axel's tutorial on rtcontrib:
>>>>>
>>>>> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>>>>>
>>>>> Problem 1:
>>>>> on page 16-17, I use the following script to generate the fisheye
>>>>> image for Tregenza sky patches in random colors:
>>>>>
>>>>> pcomb `for i in {000..145}; do \
>>>>> echo "-c $(rcalc -e \
>>>>> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
>>>>> ./images/patches/p$i.hdr"; done` \
>>>>> > ./images/sky_colorcomb.hdr
>>>>>
>>>>> However, the script seems to run forever. Does it really need a long
>>>>> time to create the image, or Have I miss anything here?
>>>>>
>>>>>
>>>>> Problem 2:
>>>>> on page 17, I changed the script as suggested by changing the "-f"
>>>>> option to "-fo" to overwrite the existing hdr files:
>>>>>
>>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>>> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal -b
>>>>> tbin \
>>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>>> ./testroom_whitesky.oct
>>>>>
>>>>> However, I got the following error message:
>>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>>
>>>>> Can anybody help to advise what the options for rtcontrib I should use
>>>>> here?
>>>>>
>>>>>
>>>>> Thanks!
>>>>> - Ji
>>>>>
>>>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/10703eab/attachment.html>

From nynassif at gmail.com  Tue Jun 12 08:18:59 2012
From: nynassif at gmail.com (nassif nassif)
Date: Tue, 12 Jun 2012 17:18:59 +0200
Subject: [Radiance-general] BSDF xml into Radiance
Message-ID: <CAOQvQdktSHbMb-HiQiTpNAhLfU-jL28BUfuA6pBh1=Y0yX7jow@mail.gmail.com>

Hallo,

I manage to obtain bsdf in xml Format using Window7beta, but i couldn't
know how to insert it in radiance. Is there somewhere an example how to
embed or convert it into radiance material? I need to use it in dds.bash (
or rtcontrib).

Thanks in advance

-- 
*N.Nassif

Lighting Designer***
*PLDA Member

Neue Str. 55
21073, Hamburg
Deutschland

+49 162 6050060
nynassif at gmail.com*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/5c361a4b/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Jun 12 08:33:09 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 12 Jun 2012 09:33:09 -0600
Subject: [Radiance-general] Running Radiance on Windows
In-Reply-To: <CAFXPCRYjnp6E7MUVNNZCdv6K1Gcb0KGO9hMiVx6E+m85s9_7zg@mail.gmail.com>
References: <CAFXPCRYjnp6E7MUVNNZCdv6K1Gcb0KGO9hMiVx6E+m85s9_7zg@mail.gmail.com>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3224CCFED90D@MAILBOX2.nrel.gov>

Thanks Guy! I was but a middle man, really, though. But yeah, there are installers for Radiance binaries for all the major platforms available at the NREL location Guy mentioned. There are also build targets for SunOS (Thank you James) and test routines for some of the core components of Radiance. I am hoping to get a HOWTO written up here soon on using the CMake build system that is now enmeshed in the Radiance source code tree (Thank you Greg), and on adding your own systems to the Radiance dashboard, which would provide valuable feedback on how nicely Radiance plays with various systems. NREL will also be posting updated installers shortly, so look for an announcement about that here.

- Rob
________________________________________
From: Guy Vaessen [guy.vaessen at gmail.com]
Sent: Monday, June 11, 2012 2:51 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general]  Running Radiance on Windows

Hi,

To run Radiance on Windows, Robert Guglielmetti, has developed a new package.
You can find it here: http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance

The original announcement is here:
http://www.radiance-online.org/pipermail/radiance-general/2012-May/008534.html
This new package has rvu for Windows. Which is a big improvement.
I am sure Robert can explain a lot better/more than me. Good luck!

In Reply to:
>> I'm wondering how Windows users access Radiance. It's been a few years since I've used the software, and as I recall previously it was done through a CygWin interface. Right now we are building geometry in DesignBuilder which installs Radiance on >> the machine, but I'm wanting to edit my rad files, materials, and create new views that DesignBuilder doesn't allow.

>> What are people on Windows machines using? What problems have been encountered? Any upcoming releases that I should be aware of when choosing a software path? Including links to specific builds would also be much appreciated.

Best Guy



From behar_david at yahoo.com  Tue Jun 12 08:35:07 2012
From: behar_david at yahoo.com (david behar)
Date: Tue, 12 Jun 2012 16:35:07 +0100 (BST)
Subject: [Radiance-general] =?utf-8?q?Color_=E2=80=93_Greyscale_pic_file_t?=
	=?utf-8?q?ransformation?=
Message-ID: <1339515307.25972.YahooMailNeo@web171503.mail.ir2.yahoo.com>

Dear radiance community

I want to ask for your help
with dealing with pic files. Usually the results of Radiance
simulation of illuminance levels gives a spread of lines and values
by using colors or colored contours lines graphic representations. 
I want to ask if there is
anyway to transform the results from a color based presentations, to
Black and White presentations? Transforming the usual color result
into greyscale presentation do not give the responding scale of grey
values - for example ? red is usually the color used for high
values, where once greyscaled, it gets a grey which is a middle hue
in relation to the others. 

I will be very happy for an
advice for how to make a fit in between a color scale of values and a
grey scale of values for a pic result ? 

Thank you very much!!
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/0c7d6fcc/attachment-0001.html>

From amcneil at lbl.gov  Tue Jun 12 08:43:53 2012
From: amcneil at lbl.gov (Andrew McNeil)
Date: Tue, 12 Jun 2012 08:43:53 -0700
Subject: [Radiance-general] BSDF xml into Radiance
In-Reply-To: <CAOQvQdktSHbMb-HiQiTpNAhLfU-jL28BUfuA6pBh1=Y0yX7jow@mail.gmail.com>
References: <CAOQvQdktSHbMb-HiQiTpNAhLfU-jL28BUfuA6pBh1=Y0yX7jow@mail.gmail.com>
Message-ID: <CAOG+Nizc0-+xrNry_qVJh6-hoA0C-=P5EVTYuc7AiZuD9yqyVQ@mail.gmail.com>

Hi Nasif,

Information for the BSDF material is at the bottom of page 12:
http://radsite.lbl.gov/radiance/refer/refman.pdf

Though I've found that the BSDF material doesn't work well for
daylight coefficient based annual simulations (I'm assuming dds.bash is a
dynamic daylight simulation script).  Putting the solar radiance into
skypatches relies on probabilistic sampling to find patches containing the
sun, and if you don't have much direct transmission from the direction of
the sun, you aren't likely to find the sun.  Not finding the sun causes big
errors.  For now, the three-phase method is a better alternative for annual
simulation of BSDF materials (you can find a tutorial at the bottom of this
page: http://www.radiance-online.org:82/learning/tutorials - if you're at
work, your company's firewall might block access to port 82 - the temporary
location of the new radiance online).

Andy





On Tue, Jun 12, 2012 at 8:18 AM, nassif nassif <nynassif at gmail.com> wrote:

> Hallo,
>
> I manage to obtain bsdf in xml Format using Window7beta, but i couldn't
> know how to insert it in radiance. Is there somewhere an example how to
> embed or convert it into radiance material? I need to use it in dds.bash (
> or rtcontrib).
>
> Thanks in advance
>
> --
> *N.Nassif
>
> Lighting Designer***
> *PLDA Member
>
> Neue Str. 55
> 21073, Hamburg
> Deutschland
>
> +49 162 6050060
> nynassif at gmail.com*
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/2069464f/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Jun 12 08:48:33 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 12 Jun 2012 09:48:33 -0600
Subject: [Radiance-general] Running Radiance on Windows
In-Reply-To: <8E6BAE1BECA2854BB78706B1506FC7AC02E20D93@ex-be01.burohappold.com>
References: <E9AD575374574E439EA4C93EC054103A014B23FBE881@vesuvius2.rumseyengineers.com>,
	<8E6BAE1BECA2854BB78706B1506FC7AC02E20D93@ex-be01.burohappold.com>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3224CCFED90E@MAILBOX2.nrel.gov>

The Radiance offerings at NREL's OpenSutdio website are merely an attempt to provide folks with an easy path to using Radiance. Since OpenStudio now leverages Radiance, we (NREL) felt it was critical to provide a relatively simple way to get Radiance running on anyone's system. Windows support has historically been a missing tooth in the Radiance community, so this is why we embarked on this mission. Personally, the lack of Windows support forced me to love UNIX, and eventually MacOS. But we recognize that the vast majority will not have the opportunity or desire to look beyond Microsoft when they choose an operating system, and so we felt that this was necessary. Kudos to Greg Ward for supporting the effort, and again, I hope to post updated installers and HOWTOs soon. 

- Rob 
________________________________________
From: Chris Coulter [Chris.Coulter at burohappold.com]
Sent: Monday, June 11, 2012 5:10 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Running Radiance on Windows

At home, I?ve used virtualization software (VirtualBox, VMWare, etc) to create a fully operable Linux guest to run Radiance from a Windows 7 host. While this may not be entirely efficient use of available resources (Windows is still running), it is convenient enough to run Radiance with access to multiple cores and the ability to recompile from source as updates are made. Nice to be able to flip back and forth between Linux and Windows programs for an efficient (enough) workflow, without requiring rebooting.

I haven?t tested Rob?s OpenStudio, but it certainly seems promising based on the talks from the 2011 Radiance Workshop. Compiling in Linux can be difficult if you?re not entirely sure what packages/dependencies are needed for your build. You can also download OpenStudio precompiled versions of Radiance if that suits your needs better.

Chris

Chris Coulter
Senior Lighting Designer
Buro Happold Consulting Engineers
100 Broadway, 23rd Floor
New York, NY 10005
Tel: 212.334.2025
Direct: 212.616.0254
Email: chris.coulter at burohappold.com<soid.diaz at burohappold.com>
Website: www.burohappold.com

From: Alex Krickx [mailto:akrickx at integralgroup.com]
Sent: Monday, June 11, 2012 1:42 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Running Radiance on Windows

Hello,

I?m wondering how Windows users access Radiance. It?s been a few years since I?ve used the software, and as I recall previously it was done through a CygWin interface. Right now we are building geometry in DesignBuilder which installs Radiance on the machine, but I?m wanting to edit my rad files, materials, and create new views that DesignBuilder doesn?t allow.

What are people on Windows machines using? What problems have been encountered? Any upcoming releases that I should be aware of when choosing a software path? Including links to specific builds would also be much appreciated.

Apologies if this has been asked and answered ? I had a look through the archives and didn?t find a clear answer. Thanks in advance ? I?m looking forward to hearing thoughts/comments.

Kind regards,
Alex Krickx

Alex Krickx, LEED AP
Project Engineer
________________________________
I N T E G R A L
                          GROUP

427 13th Street, Oakland CA 94612
510 663 2070 x 247
akrickx at integralgroup.com<mailto:akrickx at integralgroup.com>
www.integralgroup.com<http://www.integralgroup.com/>

DEEP GREEN Engineering.
_______________________________

 [cid:image001.png at 01CD4804.7761A750] <http://www.linkedin.com/groups?about=&gid=3830399>  [cid:image002.png at 01CD4804.7761A750] <http://www.facebook.com/#!/pages/Integral-Group-Inc/213422145352140>  [cid:image003.png at 01CD4804.7761A750] <http://twitter.com/#!/IntegralGroupCA>  [cid:image004.png at 01CD4804.7761A750] <http://www.youtube.com/user/IntegralGroupOakland>  [cid:image005.jpg at 01CD4804.7761A750] <http://www.integralgroup.com/>



From jacobs.axel at gmail.com  Tue Jun 12 08:54:40 2012
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Tue, 12 Jun 2012 16:54:40 +0100
Subject: [Radiance-general] Color ? Greyscale pic file transformation
Message-ID: <CA+dqh63JXNDA4UpkCEWjG+gfCT3-qKRpiVmVD-3HTCg=Vxx7xw@mail.gmail.com>

Hi David,

this will give you a black and white scale, with black = 0 and white =
maximum (-s option):

$ falsecolor -ip image.hdr -r 'v' -g 'v' -b 'v' > image_fc.hdr

Is this what you want?

Cheers

Axel


> I want to ask for your help
> with dealing with pic files. Usually the results of Radiance
> simulation of illuminance levels gives a spread of lines and values
> by using colors or colored contours lines graphic representations.
> I want to ask if there is
> anyway to transform the results from a color based presentations, to
> Black and White presentations? Transforming the usual color result
> into greyscale presentation do not give the responding scale of grey
> values - for example ? red is usually the color used for high
> values, where once greyscaled, it gets a grey which is a middle hue
> in relation to the others.
>
> I will be very happy for an
> advice for how to make a fit in between a color scale of values and a
> grey scale of values for a pic result ?
>
> Thank you very much!!
> David


From david.moroder at gmail.com  Tue Jun 12 09:10:41 2012
From: david.moroder at gmail.com (David Geisler-Moroder)
Date: Tue, 12 Jun 2012 18:10:41 +0200
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <EAD28B9F-1459-4346-9CA3-0FBB3DCCDF84@lmi.net>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
	<CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
	<CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
	<EAD28B9F-1459-4346-9CA3-0FBB3DCCDF84@lmi.net>
Message-ID: <CAL-bo5Fr3D2Y8nGsPVASi0hhWFzzZbfgQUFeG9bjXR1uHt=M=g@mail.gmail.com>

Hi Greg,

thanks a lot for your efforts in improving rtcontrib -- this makes a great
tool even more valuable

I just ran genBSDF for a specular lamella system generating a BSDF with
full Klems representation. To compare rcontrib to rtcontrib I just replaced
the
respective calls in the genBSDF perl script. I compared the resulting BSDFs
just by quick simulations of diffuse-diffuse transmissions and reflections
as well as diffuse transmissions and reflections from a CIE overcast sky, a
diffuse sky and a diffuse ground. Modulo MC noise the result seem to be
perfectly the same.

Using 8 cores the simulation times were appoximately 185min for the
existing version with rtcontrib and 104 min with the new rcontrib tool!!

Cheers,
David



2012/6/11 Greg Ward <gregoryjward at gmail.com>

> Coincidentally, I'm working now to improve the speed & efficiency of
> rtcontrib, especially for multi-processors.  If any Unix users are
> interested in trying it out, I've checked a working version into the HEAD.
>  The program is (temporarily) named rcontrib, to segregate it from its
> predecessor, but the options and operation should be identical.  Once it's
> fully tested, I plan to replace the existing rtcontrib with this new
> version, which has been substantially redesigned.
>
> Cheers,
> -Greg
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/ba429faa/attachment.html>

From behar_david at yahoo.com  Tue Jun 12 09:17:50 2012
From: behar_david at yahoo.com (david behar)
Date: Tue, 12 Jun 2012 17:17:50 +0100 (BST)
Subject: [Radiance-general] Color ? Greyscale pic file transformation
In-Reply-To: <CA+dqh63JXNDA4UpkCEWjG+gfCT3-qKRpiVmVD-3HTCg=Vxx7xw@mail.gmail.com>
References: <CA+dqh63JXNDA4UpkCEWjG+gfCT3-qKRpiVmVD-3HTCg=Vxx7xw@mail.gmail.com>
Message-ID: <1339517870.93975.YahooMailNeo@web171503.mail.ir2.yahoo.com>

Dear Axel
Thank you very much for your help
I will try it and see if it works for me
Best
David

David Behar - Perahia
http://davidbeharperahia.wordpress.com/
www.davidbehar.net




________________________________
 From: Axel Jacobs <jacobs.axel at gmail.com>
To: radiance-general at radiance-online.org 
Sent: Tuesday, 12 June 2012, 18:54
Subject: Re: [Radiance-general] Color ? Greyscale pic file transformation
 
Hi David,

this will give you a black and white scale, with black = 0 and white =
maximum (-s option):

$ falsecolor -ip image.hdr -r 'v' -g 'v' -b 'v' > image_fc.hdr

Is this what you want?

Cheers

Axel


> I want to ask for your help
> with dealing with pic files. Usually the results of Radiance
> simulation of illuminance levels gives a spread of lines and values
> by using colors or colored contours lines graphic representations.
> I want to ask if there is
> anyway to transform the results from a color based presentations, to
> Black and White presentations? Transforming the usual color result
> into greyscale presentation do not give the responding scale of grey
> values - for example ? red is usually the color used for high
> values, where once greyscaled, it gets a grey which is a middle hue
> in relation to the others.
>
> I will be very happy for an
> advice for how to make a fit in between a color scale of values and a
> grey scale of values for a pic result ?
>
> Thank you very much!!
> David

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/cc02dd1b/attachment-0001.html>

From gregoryjward at gmail.com  Tue Jun 12 10:23:47 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 12 Jun 2012 10:23:47 -0700
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CAL-bo5Fr3D2Y8nGsPVASi0hhWFzzZbfgQUFeG9bjXR1uHt=M=g@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
	<CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
	<CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
	<EAD28B9F-1459-4346-9CA3-0FBB3DCCDF84@lmi.net>
	<CAL-bo5Fr3D2Y8nGsPVASi0hhWFzzZbfgQUFeG9bjXR1uHt=M=g@mail.gmail.com>
Message-ID: <FAB3730C-0813-4B3F-BCD6-AB7CE5847356@lmi.net>

Hi David,

Thanks for testing this out!   It's great to get the feedback.  I've run my own (similar) tests and things look OK, but I haven't checked the data thoroughly, and I need to check corner cases, other operation modes, recovery, etc.

I just checked in some more changes that improve efficiency when you have a lot of processes.  I tried it with 24 processes on my Mac Pro, and it went from 85% utilization to about 99% with these new changes.  I don't think I ever got better than 20% utilization with the original code on as many cores.

Cheers,
-Greg

> From: David Geisler-Moroder <david.moroder at gmail.com>
> Date: June 12, 2012 9:10:41 AM PDT
> 
> Hi Greg,
> 
> thanks a lot for your efforts in improving rtcontrib -- this makes a great tool even more valuable
> 
> I just ran genBSDF for a specular lamella system generating a BSDF with full Klems representation. To compare rcontrib to rtcontrib I just replaced the
> respective calls in the genBSDF perl script. I compared the resulting BSDFs just by quick simulations of diffuse-diffuse transmissions and reflections 
> as well as diffuse transmissions and reflections from a CIE overcast sky, a diffuse sky and a diffuse ground. Modulo MC noise the result seem to be
> perfectly the same.
> 
> Using 8 cores the simulation times were appoximately 185min for the existing version with rtcontrib and 104 min with the new rcontrib tool!!
> 
> Cheers,
> David
> 
> 
> 
> 2012/6/11 Greg Ward <gregoryjward at gmail.com>
> Coincidentally, I'm working now to improve the speed & efficiency of rtcontrib, especially for multi-processors.  If any Unix users are interested in trying it out, I've checked a working version into the HEAD.  The program is (temporarily) named rcontrib, to segregate it from its predecessor, but the options and operation should be identical.  Once it's fully tested, I plan to replace the existing rtcontrib with this new version, which has been substantially redesigned.
> 
> Cheers,
> -Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/57a5b966/attachment.html>

From gregoryjward at gmail.com  Tue Jun 12 11:21:40 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 12 Jun 2012 11:21:40 -0700
Subject: [Radiance-general]
 =?windows-1252?q?Color_=96_Greyscale_pic_file_?=
 =?windows-1252?q?transformation?=
In-Reply-To: <1339515307.25972.YahooMailNeo@web171503.mail.ir2.yahoo.com>
References: <1339515307.25972.YahooMailNeo@web171503.mail.ir2.yahoo.com>
Message-ID: <0EC1A69D-0611-4680-B596-FFF40F0AD00A@lmi.net>

The whole concept of a false color image requires color to encode luminance (or some other scalar), so there's fundamentally no way to do it in grayscale.  You may as well just pass the image through pcond and turn the output to grayscale -- you won't be able to do better than that.

Cheers,
-Greg

> From: david behar <behar_david at yahoo.com>
> Date: June 12, 2012 8:35:07 AM PDT
> 
> Dear radiance community
> I want to ask for your help with dealing with pic files. Usually the results of Radiance simulation of illuminance levels gives a spread of lines and values by using colors or colored contours lines graphic representations.
> I want to ask if there is anyway to transform the results from a color based presentations, to Black and White presentations? Transforming the usual color result into greyscale presentation do not give the responding scale of grey values - for example ? red is usually the color used for high values, where once greyscaled, it gets a grey which is a middle hue in relation to the others.
> 
> I will be very happy for an advice for how to make a fit in between a color scale of values and a grey scale of values for a pic result ?
> 
> Thank you very much!!
> David
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120612/5a496327/attachment.html>

From grobe at gmx.net  Mon Jun 18 02:20:07 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 18 Jun 2012 11:20:07 +0200
Subject: [Radiance-general] Current practice for LEED sky modelling?
Message-ID: <4FDEF2C7.2060807@gmx.net>

Hi,

I am aware that there seem to be questions in the LEED simulation 
requirements which simply have no obvious solution. However, I am 
curious how people are actually still finding a way to work around.

What are you actually using as a sky model for simulations aiming at 
LEED? Just the output of gensky clear without sun? Some available 
irradiance weather data for the given march / september days as an input 
for gensky? Anything else?

Cheers, Lars.


From jm at dmu.ac.uk  Tue Jun 19 01:05:06 2012
From: jm at dmu.ac.uk (John Mardaljevic)
Date: Tue, 19 Jun 2012 09:05:06 +0100
Subject: [Radiance-general] Current practice for LEED sky modelling?
Message-ID: <9137E821-2C66-42BA-9D82-FDAB37734FCF@dmu.ac.uk>

There's a critique of daylight modelling for LEED and other codes here:

http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance

It includes a discussion on sky models.

Best
John Mardaljevic

Reader in Daylight Modelling
Institute of Energy and Sustainable Development
De Montfort University, The Gateway, Leicester, LE1 9BH, UK
Tel: +44 (0) 116 257 7972   

jm at dmu.ac.uk   
http://www.iesd.dmu.ac.uk/~jm
http://dmu.academia.edu/JohnMardaljevic





From grobe at gmx.net  Tue Jun 19 01:20:57 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 19 Jun 2012 10:20:57 +0200
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <9137E821-2C66-42BA-9D82-FDAB37734FCF@dmu.ac.uk>
References: <9137E821-2C66-42BA-9D82-FDAB37734FCF@dmu.ac.uk>
Message-ID: <4FE03669.5080107@gmx.net>

Hi John,

I am aware of that really nice overview. The critique of using an 
impossible sky model is hard to question. Excluding the sun also means 
that any technique  to make use of direct sunlight by e.g. redirecting 
it deeper from the perimeter into the building is not accounted for at 
all. So that is why I was wondering how folks doing their real-life jobs 
for LEED are handling the problem with the current standards in mind.

Another question is whether direct sunlight, after it got redirected, is 
still direct sunlight in LEED terms.... or whether redirected means 
indirect here and I could again include it... leaving me with a more 
meaningful sky model (clear sky with sun, and only portions directly 
entering the used spaces being locked out assuming users would block 
them by sunshades) accounting for redirecting facades.

I am not sure wether this is too much LEED-specific for the mailing 
list, but I was really curious how Radiance folks is working around the 
not-so-physically-based specifications of current LEED when setting up 
simulations.

Cheers, Lars.

> There's a critique of daylight modelling for LEED and other codes here:
>
> http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance
>
> It includes a discussion on sky models.
>
> Best
> John Mardaljevic
>
> Reader in Daylight Modelling
> Institute of Energy and Sustainable Development
> De Montfort University, The Gateway, Leicester, LE1 9BH, UK
> Tel: +44 (0) 116 257 7972
>
> jm at dmu.ac.uk
> http://www.iesd.dmu.ac.uk/~jm
> http://dmu.academia.edu/JohnMardaljevic


From Chris.Coulter at burohappold.com  Tue Jun 19 06:16:07 2012
From: Chris.Coulter at burohappold.com (Chris Coulter)
Date: Tue, 19 Jun 2012 14:16:07 +0100
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <4FE03669.5080107@gmx.net>
References: <9137E821-2C66-42BA-9D82-FDAB37734FCF@dmu.ac.uk>
	<4FE03669.5080107@gmx.net>
Message-ID: <8E6BAE1BECA2854BB78706B1506FC7AC02F168A5@ex-be01.burohappold.com>

Lars,

I have done several LEED compliance calculations in the past using clear
sky with sun (+s as the gensky parameter). This allows for daylight
redirecting devices to push light further into a space, and more
recently the requirement for glare control above 500fc.

My take is that the phrase "clear sky" does not mean "clear sky without
sun" as might be mistaken in general radiance terms. I've always assumed
the sun is included. 

None of our submitted calculations have been questioned to date, so
assume that this is acceptable. 
Hope this helps!

Cheers.

Chris Coulter
Senior Lighting Designer
Buro Happold Consulting Engineers
100 Broadway, 23rd Floor
New York, NY 10005
Tel: 212.334.2025
Direct: 212.616.0254
Email: chris.coulter at burohappold.com 
Website: www.burohappold.com

-----Original Message-----
From: Lars O. Grobe [mailto:grobe at gmx.net] 
Sent: Tuesday, June 19, 2012 4:21 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] Current practice for LEED sky modelling?

Hi John,

I am aware of that really nice overview. The critique of using an
impossible sky model is hard to question. Excluding the sun also means
that any technique  to make use of direct sunlight by e.g. redirecting
it deeper from the perimeter into the building is not accounted for at
all. So that is why I was wondering how folks doing their real-life jobs
for LEED are handling the problem with the current standards in mind.

Another question is whether direct sunlight, after it got redirected, is
still direct sunlight in LEED terms.... or whether redirected means
indirect here and I could again include it... leaving me with a more
meaningful sky model (clear sky with sun, and only portions directly
entering the used spaces being locked out assuming users would block
them by sunshades) accounting for redirecting facades.

I am not sure wether this is too much LEED-specific for the mailing
list, but I was really curious how Radiance folks is working around the
not-so-physically-based specifications of current LEED when setting up
simulations.

Cheers, Lars.

> There's a critique of daylight modelling for LEED and other codes
here:
>
> http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance
>
> It includes a discussion on sky models.
>
> Best
> John Mardaljevic
>
> Reader in Daylight Modelling
> Institute of Energy and Sustainable Development De Montfort 
> University, The Gateway, Leicester, LE1 9BH, UK
> Tel: +44 (0) 116 257 7972
>
> jm at dmu.ac.uk
> http://www.iesd.dmu.ac.uk/~jm
> http://dmu.academia.edu/JohnMardaljevic

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general




From Robert.Guglielmetti at nrel.gov  Tue Jun 19 07:59:05 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 19 Jun 2012 08:59:05 -0600
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <8E6BAE1BECA2854BB78706B1506FC7AC02F168A5@ex-be01.burohappold.com>
Message-ID: <CC05EF34.117A7%robert.guglielmetti@nrel.gov>

Yeah, the LEED "clear sky" absolutely means a clear sky with a sun (unless
they've changed it recently in LEED). ALL of my clear sky simulations with
Lightscape, AGi32, and Radiance over the years have included the sun.
After all, aren't we trying to predict daylight performance??

Hey Chris, when'd you move to New York? Congrats, and enjoy the humidity.
=8-)
 

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov





On 6/19/12 7:16 AM, "Chris Coulter" <Chris.Coulter at burohappold.com> wrote:

>Lars,
>
>I have done several LEED compliance calculations in the past using clear
>sky with sun (+s as the gensky parameter). This allows for daylight
>redirecting devices to push light further into a space, and more
>recently the requirement for glare control above 500fc.
>
>My take is that the phrase "clear sky" does not mean "clear sky without
>sun" as might be mistaken in general radiance terms. I've always assumed
>the sun is included.
>
>None of our submitted calculations have been questioned to date, so
>assume that this is acceptable.
>Hope this helps!
>
>Cheers.
>
>Chris Coulter
>Senior Lighting Designer
>Buro Happold Consulting Engineers
>100 Broadway, 23rd Floor
>New York, NY 10005
>Tel: 212.334.2025
>Direct: 212.616.0254
>Email: chris.coulter at burohappold.com
>Website: www.burohappold.com
>
>-----Original Message-----
>From: Lars O. Grobe [mailto:grobe at gmx.net]
>Sent: Tuesday, June 19, 2012 4:21 AM
>To: Radiance general discussion
>Subject: Re: [Radiance-general] Current practice for LEED sky modelling?
>
>Hi John,
>
>I am aware of that really nice overview. The critique of using an
>impossible sky model is hard to question. Excluding the sun also means
>that any technique  to make use of direct sunlight by e.g. redirecting
>it deeper from the perimeter into the building is not accounted for at
>all. So that is why I was wondering how folks doing their real-life jobs
>for LEED are handling the problem with the current standards in mind.
>
>Another question is whether direct sunlight, after it got redirected, is
>still direct sunlight in LEED terms.... or whether redirected means
>indirect here and I could again include it... leaving me with a more
>meaningful sky model (clear sky with sun, and only portions directly
>entering the used spaces being locked out assuming users would block
>them by sunshades) accounting for redirecting facades.
>
>I am not sure wether this is too much LEED-specific for the mailing
>list, but I was really curious how Radiance folks is working around the
>not-so-physically-based specifications of current LEED when setting up
>simulations.
>
>Cheers, Lars.
>
>> There's a critique of daylight modelling for LEED and other codes
>here:
>>
>> http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance
>>
>> It includes a discussion on sky models.
>>
>> Best
>> John Mardaljevic
>>
>> Reader in Daylight Modelling
>> Institute of Energy and Sustainable Development De Montfort
>> University, The Gateway, Leicester, LE1 9BH, UK
>> Tel: +44 (0) 116 257 7972
>>
>> jm at dmu.ac.uk
>> http://www.iesd.dmu.ac.uk/~jm
>> http://dmu.academia.edu/JohnMardaljevic
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From grobe at gmx.net  Tue Jun 19 08:41:10 2012
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 19 Jun 2012 18:41:10 +0300
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <CC05EF34.117A7%robert.guglielmetti@nrel.gov>
References: <CC05EF34.117A7%robert.guglielmetti@nrel.gov>
Message-ID: <148E6EC0-2E96-4D86-8DD9-DDDDCE97A80F@gmx.net>

Hi Chris, Rob, so what are you using as sun luminance? Some average from weather data? A theoretical value from a model? John's examples are a great demonstration for the problem. I am rather sure that an invalid assumption for the direct sun in a sky model would by far outnumber the effect of changing a sky distribution to whatever model. Is there common sense that if "clear sky" is referenced, I should use the CIE clear sky without any modification, just as what I get from gensky? Or should I feed in at least an illuminance reading either from my own measurement or from weather data?

Cheers, Lars.
--
Dipl.-Ing. Architect Lars O. Grobe

On Jun 19, 2012, at 17:59, "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov> wrote:

> Yeah, the LEED "clear sky" absolutely means a clear sky with a sun (unless
> they've changed it recently in LEED). ALL of my clear sky simulations with
> Lightscape, AGi32, and Radiance over the years have included the sun.
> After all, aren't we trying to predict daylight performance??
> 
> Hey Chris, when'd you move to New York? Congrats, and enjoy the humidity.
> =8-)
> 
> 
> Rob Guglielmetti  IESNA, LEED AP
> Commercial Buildings Research Group
> National Renewable Energy Laboratory
> 15013 Denver West Parkway MS:RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
> 
> 
> 
> 
> 
> On 6/19/12 7:16 AM, "Chris Coulter" <Chris.Coulter at burohappold.com> wrote:
> 
>> Lars,
>> 
>> I have done several LEED compliance calculations in the past using clear
>> sky with sun (+s as the gensky parameter). This allows for daylight
>> redirecting devices to push light further into a space, and more
>> recently the requirement for glare control above 500fc.
>> 
>> My take is that the phrase "clear sky" does not mean "clear sky without
>> sun" as might be mistaken in general radiance terms. I've always assumed
>> the sun is included.
>> 
>> None of our submitted calculations have been questioned to date, so
>> assume that this is acceptable.
>> Hope this helps!
>> 
>> Cheers.
>> 
>> Chris Coulter
>> Senior Lighting Designer
>> Buro Happold Consulting Engineers
>> 100 Broadway, 23rd Floor
>> New York, NY 10005
>> Tel: 212.334.2025
>> Direct: 212.616.0254
>> Email: chris.coulter at burohappold.com
>> Website: www.burohappold.com
>> 
>> -----Original Message-----
>> From: Lars O. Grobe [mailto:grobe at gmx.net]
>> Sent: Tuesday, June 19, 2012 4:21 AM
>> To: Radiance general discussion
>> Subject: Re: [Radiance-general] Current practice for LEED sky modelling?
>> 
>> Hi John,
>> 
>> I am aware of that really nice overview. The critique of using an
>> impossible sky model is hard to question. Excluding the sun also means
>> that any technique  to make use of direct sunlight by e.g. redirecting
>> it deeper from the perimeter into the building is not accounted for at
>> all. So that is why I was wondering how folks doing their real-life jobs
>> for LEED are handling the problem with the current standards in mind.
>> 
>> Another question is whether direct sunlight, after it got redirected, is
>> still direct sunlight in LEED terms.... or whether redirected means
>> indirect here and I could again include it... leaving me with a more
>> meaningful sky model (clear sky with sun, and only portions directly
>> entering the used spaces being locked out assuming users would block
>> them by sunshades) accounting for redirecting facades.
>> 
>> I am not sure wether this is too much LEED-specific for the mailing
>> list, but I was really curious how Radiance folks is working around the
>> not-so-physically-based specifications of current LEED when setting up
>> simulations.
>> 
>> Cheers, Lars.
>> 
>>> There's a critique of daylight modelling for LEED and other codes
>> here:
>>> 
>>> http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance
>>> 
>>> It includes a discussion on sky models.
>>> 
>>> Best
>>> John Mardaljevic
>>> 
>>> Reader in Daylight Modelling
>>> Institute of Energy and Sustainable Development De Montfort
>>> University, The Gateway, Leicester, LE1 9BH, UK
>>> Tel: +44 (0) 116 257 7972
>>> 
>>> jm at dmu.ac.uk
>>> http://www.iesd.dmu.ac.uk/~jm
>>> http://dmu.academia.edu/JohnMardaljevic
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From Robert.Guglielmetti at nrel.gov  Tue Jun 19 09:02:07 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 19 Jun 2012 10:02:07 -0600
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <148E6EC0-2E96-4D86-8DD9-DDDDCE97A80F@gmx.net>
Message-ID: <CC05FCBD.11813%robert.guglielmetti@nrel.gov>

Yeah, the sun luminance and solar disc size is based on Greg's
implementation of the CIE standard sky model in gensky. The Perez sky
model has been shown to have problems with low sun angles but does a nice
job otherwise, when given weather info (e.g. TMY, EPW).

The problem of course comes when you want to use these sky models in a
daylight coefficient approach, where the sun's luminance is spread around
the three nearest patches to the actual solar location. The Tregenza
subdivisions are way too big to make for accurate estimations. This is why
Reinhart and Bourgeois proposed the finer resolutions you get when you use
the -M:2 or -M:4 options in rtcontrib. -M:4 gives you over 2000 sky
patches instead of the original 145 proposed by Tregenza. Greg, Andy, Rick
Mistrick and Eleanor Lee covered this nicely in a paper a couple years ago
at the IES conference.
 

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov





On 6/19/12 9:41 AM, "Lars O. Grobe" <grobe at gmx.net> wrote:

>Hi Chris, Rob, so what are you using as sun luminance? Some average from
>weather data? A theoretical value from a model? John's examples are a
>great demonstration for the problem. I am rather sure that an invalid
>assumption for the direct sun in a sky model would by far outnumber the
>effect of changing a sky distribution to whatever model. Is there common
>sense that if "clear sky" is referenced, I should use the CIE clear sky
>without any modification, just as what I get from gensky? Or should I
>feed in at least an illuminance reading either from my own measurement or
>from weather data?
>
>Cheers, Lars.
>--
>Dipl.-Ing. Architect Lars O. Grobe
>
>On Jun 19, 2012, at 17:59, "Guglielmetti, Robert"
><Robert.Guglielmetti at nrel.gov> wrote:
>
>> Yeah, the LEED "clear sky" absolutely means a clear sky with a sun
>>(unless
>> they've changed it recently in LEED). ALL of my clear sky simulations
>>with
>> Lightscape, AGi32, and Radiance over the years have included the sun.
>> After all, aren't we trying to predict daylight performance??
>> 
>> Hey Chris, when'd you move to New York? Congrats, and enjoy the
>>humidity.
>> =8-)
>> 
>> 
>> Rob Guglielmetti  IESNA, LEED AP
>> Commercial Buildings Research Group
>> National Renewable Energy Laboratory
>> 15013 Denver West Parkway MS:RSF202
>> Golden, CO 80401
>> 303.275.4319
>> robert.guglielmetti at nrel.gov
>> 
>> 
>> 
>> 
>> 
>> On 6/19/12 7:16 AM, "Chris Coulter" <Chris.Coulter at burohappold.com>
>>wrote:
>> 
>>> Lars,
>>> 
>>> I have done several LEED compliance calculations in the past using
>>>clear
>>> sky with sun (+s as the gensky parameter). This allows for daylight
>>> redirecting devices to push light further into a space, and more
>>> recently the requirement for glare control above 500fc.
>>> 
>>> My take is that the phrase "clear sky" does not mean "clear sky without
>>> sun" as might be mistaken in general radiance terms. I've always
>>>assumed
>>> the sun is included.
>>> 
>>> None of our submitted calculations have been questioned to date, so
>>> assume that this is acceptable.
>>> Hope this helps!
>>> 
>>> Cheers.
>>> 
>>> Chris Coulter
>>> Senior Lighting Designer
>>> Buro Happold Consulting Engineers
>>> 100 Broadway, 23rd Floor
>>> New York, NY 10005
>>> Tel: 212.334.2025
>>> Direct: 212.616.0254
>>> Email: chris.coulter at burohappold.com
>>> Website: www.burohappold.com
>>> 
>>> -----Original Message-----
>>> From: Lars O. Grobe [mailto:grobe at gmx.net]
>>> Sent: Tuesday, June 19, 2012 4:21 AM
>>> To: Radiance general discussion
>>> Subject: Re: [Radiance-general] Current practice for LEED sky
>>>modelling?
>>> 
>>> Hi John,
>>> 
>>> I am aware of that really nice overview. The critique of using an
>>> impossible sky model is hard to question. Excluding the sun also means
>>> that any technique  to make use of direct sunlight by e.g. redirecting
>>> it deeper from the perimeter into the building is not accounted for at
>>> all. So that is why I was wondering how folks doing their real-life
>>>jobs
>>> for LEED are handling the problem with the current standards in mind.
>>> 
>>> Another question is whether direct sunlight, after it got redirected,
>>>is
>>> still direct sunlight in LEED terms.... or whether redirected means
>>> indirect here and I could again include it... leaving me with a more
>>> meaningful sky model (clear sky with sun, and only portions directly
>>> entering the used spaces being locked out assuming users would block
>>> them by sunshades) accounting for redirecting facades.
>>> 
>>> I am not sure wether this is too much LEED-specific for the mailing
>>> list, but I was really curious how Radiance folks is working around the
>>> not-so-physically-based specifications of current LEED when setting up
>>> simulations.
>>> 
>>> Cheers, Lars.
>>> 
>>>> There's a critique of daylight modelling for LEED and other codes
>>> here:
>>>> 
>>>> http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance
>>>> 
>>>> It includes a discussion on sky models.
>>>> 
>>>> Best
>>>> John Mardaljevic
>>>> 
>>>> Reader in Daylight Modelling
>>>> Institute of Energy and Sustainable Development De Montfort
>>>> University, The Gateway, Leicester, LE1 9BH, UK
>>>> Tel: +44 (0) 116 257 7972
>>>> 
>>>> jm at dmu.ac.uk
>>>> http://www.iesd.dmu.ac.uk/~jm
>>>> http://dmu.academia.edu/JohnMardaljevic
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From hope.zh at gmail.com  Tue Jun 19 09:28:16 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Wed, 20 Jun 2012 00:28:16 +0800
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <CC05FCBD.11813%robert.guglielmetti@nrel.gov>
References: <148E6EC0-2E96-4D86-8DD9-DDDDCE97A80F@gmx.net>
	<CC05FCBD.11813%robert.guglielmetti@nrel.gov>
Message-ID: <CAD83LVJdd6KCAr1auQG0XXQ1kJRbDDRpopmowd87u2AFJyTJOA@mail.gmail.com>

Hi, just add to Robert's comments:

The journal paper based on the IES paper as mentioned by Robert:
Ward, G., Mistrick, R., Lee, E. S., McNeil, A., & Jonsson, J. (2011).
Simulating the Daylight Performance of Complex Fenestration Systems Using
Bidirectional Scattering Distribution Functions within Radiance. Journal of
the Illuminating Engineering Society of North America (Leukos), 7(4).

Another paper by Andy on related topic:
McNeil, A. (2011). The Three-Phase Method for Simulating Complex
Fenestration with Radiance, from
http://radiance-online.lbl.gov:82/learning/tutorials/three-phase-method-tutorial

- Cheers, Ji



On Wed, Jun 20, 2012 at 12:02 AM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> Yeah, the sun luminance and solar disc size is based on Greg's
> implementation of the CIE standard sky model in gensky. The Perez sky
> model has been shown to have problems with low sun angles but does a nice
> job otherwise, when given weather info (e.g. TMY, EPW).
>
> The problem of course comes when you want to use these sky models in a
> daylight coefficient approach, where the sun's luminance is spread around
> the three nearest patches to the actual solar location. The Tregenza
> subdivisions are way too big to make for accurate estimations. This is why
> Reinhart and Bourgeois proposed the finer resolutions you get when you use
> the -M:2 or -M:4 options in rtcontrib. -M:4 gives you over 2000 sky
> patches instead of the original 145 proposed by Tregenza. Greg, Andy, Rick
> Mistrick and Eleanor Lee covered this nicely in a paper a couple years ago
> at the IES conference.
>
>
> Rob Guglielmetti  IESNA, LEED AP
> Commercial Buildings Research Group
> National Renewable Energy Laboratory
> 15013 Denver West Parkway MS:RSF202
> Golden, CO 80401
> 303.275.4319
> robert.guglielmetti at nrel.gov
>
>
>
>
>
> On 6/19/12 9:41 AM, "Lars O. Grobe" <grobe at gmx.net> wrote:
>
> >Hi Chris, Rob, so what are you using as sun luminance? Some average from
> >weather data? A theoretical value from a model? John's examples are a
> >great demonstration for the problem. I am rather sure that an invalid
> >assumption for the direct sun in a sky model would by far outnumber the
> >effect of changing a sky distribution to whatever model. Is there common
> >sense that if "clear sky" is referenced, I should use the CIE clear sky
> >without any modification, just as what I get from gensky? Or should I
> >feed in at least an illuminance reading either from my own measurement or
> >from weather data?
> >
> >Cheers, Lars.
> >--
> >Dipl.-Ing. Architect Lars O. Grobe
> >
> >On Jun 19, 2012, at 17:59, "Guglielmetti, Robert"
> ><Robert.Guglielmetti at nrel.gov> wrote:
> >
> >> Yeah, the LEED "clear sky" absolutely means a clear sky with a sun
> >>(unless
> >> they've changed it recently in LEED). ALL of my clear sky simulations
> >>with
> >> Lightscape, AGi32, and Radiance over the years have included the sun.
> >> After all, aren't we trying to predict daylight performance??
> >>
> >> Hey Chris, when'd you move to New York? Congrats, and enjoy the
> >>humidity.
> >> =8-)
> >>
> >>
> >> Rob Guglielmetti  IESNA, LEED AP
> >> Commercial Buildings Research Group
> >> National Renewable Energy Laboratory
> >> 15013 Denver West Parkway MS:RSF202
> >> Golden, CO 80401
> >> 303.275.4319
> >> robert.guglielmetti at nrel.gov
> >>
> >>
> >>
> >>
> >>
> >> On 6/19/12 7:16 AM, "Chris Coulter" <Chris.Coulter at burohappold.com>
> >>wrote:
> >>
> >>> Lars,
> >>>
> >>> I have done several LEED compliance calculations in the past using
> >>>clear
> >>> sky with sun (+s as the gensky parameter). This allows for daylight
> >>> redirecting devices to push light further into a space, and more
> >>> recently the requirement for glare control above 500fc.
> >>>
> >>> My take is that the phrase "clear sky" does not mean "clear sky without
> >>> sun" as might be mistaken in general radiance terms. I've always
> >>>assumed
> >>> the sun is included.
> >>>
> >>> None of our submitted calculations have been questioned to date, so
> >>> assume that this is acceptable.
> >>> Hope this helps!
> >>>
> >>> Cheers.
> >>>
> >>> Chris Coulter
> >>> Senior Lighting Designer
> >>> Buro Happold Consulting Engineers
> >>> 100 Broadway, 23rd Floor
> >>> New York, NY 10005
> >>> Tel: 212.334.2025
> >>> Direct: 212.616.0254
> >>> Email: chris.coulter at burohappold.com
> >>> Website: www.burohappold.com
> >>>
> >>> -----Original Message-----
> >>> From: Lars O. Grobe [mailto:grobe at gmx.net]
> >>> Sent: Tuesday, June 19, 2012 4:21 AM
> >>> To: Radiance general discussion
> >>> Subject: Re: [Radiance-general] Current practice for LEED sky
> >>>modelling?
> >>>
> >>> Hi John,
> >>>
> >>> I am aware of that really nice overview. The critique of using an
> >>> impossible sky model is hard to question. Excluding the sun also means
> >>> that any technique  to make use of direct sunlight by e.g. redirecting
> >>> it deeper from the perimeter into the building is not accounted for at
> >>> all. So that is why I was wondering how folks doing their real-life
> >>>jobs
> >>> for LEED are handling the problem with the current standards in mind.
> >>>
> >>> Another question is whether direct sunlight, after it got redirected,
> >>>is
> >>> still direct sunlight in LEED terms.... or whether redirected means
> >>> indirect here and I could again include it... leaving me with a more
> >>> meaningful sky model (clear sky with sun, and only portions directly
> >>> entering the used spaces being locked out assuming users would block
> >>> them by sunshades) accounting for redirecting facades.
> >>>
> >>> I am not sure wether this is too much LEED-specific for the mailing
> >>> list, but I was really curious how Radiance folks is working around the
> >>> not-so-physically-based specifications of current LEED when setting up
> >>> simulations.
> >>>
> >>> Cheers, Lars.
> >>>
> >>>> There's a critique of daylight modelling for LEED and other codes
> >>> here:
> >>>>
> >>>>
> http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance
> >>>>
> >>>> It includes a discussion on sky models.
> >>>>
> >>>> Best
> >>>> John Mardaljevic
> >>>>
> >>>> Reader in Daylight Modelling
> >>>> Institute of Energy and Sustainable Development De Montfort
> >>>> University, The Gateway, Leicester, LE1 9BH, UK
> >>>> Tel: +44 (0) 116 257 7972
> >>>>
> >>>> jm at dmu.ac.uk
> >>>> http://www.iesd.dmu.ac.uk/~jm
> >>>> http://dmu.academia.edu/JohnMardaljevic
> >>>
> >>> _______________________________________________
> >>> Radiance-general mailing list
> >>> Radiance-general at radiance-online.org
> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >>>
> >>>
> >>>
> >>> _______________________________________________
> >>> Radiance-general mailing list
> >>> Radiance-general at radiance-online.org
> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >>
> >>
> >> _______________________________________________
> >> Radiance-general mailing list
> >> Radiance-general at radiance-online.org
> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120620/8876b6c9/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Jun 19 09:41:23 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 19 Jun 2012 10:41:23 -0600
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <CAD83LVJdd6KCAr1auQG0XXQ1kJRbDDRpopmowd87u2AFJyTJOA@mail.gmail.com>
Message-ID: <CC060720.11841%robert.guglielmetti@nrel.gov>

Thanks for doing the legwok, Ji! Here's the other paper I mentioned in that post:

http://tinyurl.com/cu6xgug

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov


On 6/19/12 10:28 AM, "Ji Zhang" <hope.zh at gmail.com<mailto:hope.zh at gmail.com>> wrote:

Hi, just add to Robert's comments:

The journal paper based on the IES paper as mentioned by Robert:
Ward, G., Mistrick, R., Lee, E. S., McNeil, A., & Jonsson, J. (2011). Simulating the Daylight Performance of Complex Fenestration Systems Using Bidirectional Scattering Distribution Functions within Radiance. Journal of the Illuminating Engineering Society of North America (Leukos), 7(4).

Another paper by Andy on related topic:
McNeil, A. (2011). The Three-Phase Method for Simulating Complex Fenestration with Radiance, from http://radiance-online.lbl.gov:82/learning/tutorials/three-phase-method-tutorial

- Cheers, Ji



On Wed, Jun 20, 2012 at 12:02 AM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:
Yeah, the sun luminance and solar disc size is based on Greg's
implementation of the CIE standard sky model in gensky. The Perez sky
model has been shown to have problems with low sun angles but does a nice
job otherwise, when given weather info (e.g. TMY, EPW).

The problem of course comes when you want to use these sky models in a
daylight coefficient approach, where the sun's luminance is spread around
the three nearest patches to the actual solar location. The Tregenza
subdivisions are way too big to make for accurate estimations. This is why
Reinhart and Bourgeois proposed the finer resolutions you get when you use
the -M:2 or -M:4 options in rtcontrib. -M:4 gives you over 2000 sky
patches instead of the original 145 proposed by Tregenza. Greg, Andy, Rick
Mistrick and Eleanor Lee covered this nicely in a paper a couple years ago
at the IES conference.


Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319<tel:303.275.4319>
robert.guglielmetti at nrel.gov<mailto:robert.guglielmetti at nrel.gov>





On 6/19/12 9:41 AM, "Lars O. Grobe" <grobe at gmx.net<mailto:grobe at gmx.net>> wrote:

>Hi Chris, Rob, so what are you using as sun luminance? Some average from
>weather data? A theoretical value from a model? John's examples are a
>great demonstration for the problem. I am rather sure that an invalid
>assumption for the direct sun in a sky model would by far outnumber the
>effect of changing a sky distribution to whatever model. Is there common
>sense that if "clear sky" is referenced, I should use the CIE clear sky
>without any modification, just as what I get from gensky? Or should I
>feed in at least an illuminance reading either from my own measurement or
>from weather data?
>
>Cheers, Lars.
>--
>Dipl.-Ing. Architect Lars O. Grobe
>
>On Jun 19, 2012, at 17:59, "Guglielmetti, Robert"
><Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:
>
>> Yeah, the LEED "clear sky" absolutely means a clear sky with a sun
>>(unless
>> they've changed it recently in LEED). ALL of my clear sky simulations
>>with
>> Lightscape, AGi32, and Radiance over the years have included the sun.
>> After all, aren't we trying to predict daylight performance??
>>
>> Hey Chris, when'd you move to New York? Congrats, and enjoy the
>>humidity.
>> =8-)
>>
>>
>> Rob Guglielmetti  IESNA, LEED AP
>> Commercial Buildings Research Group
>> National Renewable Energy Laboratory
>> 15013 Denver West Parkway MS:RSF202
>> Golden, CO 80401
>> 303.275.4319<tel:303.275.4319>
>> robert.guglielmetti at nrel.gov<mailto:robert.guglielmetti at nrel.gov>
>>
>>
>>
>>
>>
>> On 6/19/12 7:16 AM, "Chris Coulter" <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>>
>>wrote:
>>
>>> Lars,
>>>
>>> I have done several LEED compliance calculations in the past using
>>>clear
>>> sky with sun (+s as the gensky parameter). This allows for daylight
>>> redirecting devices to push light further into a space, and more
>>> recently the requirement for glare control above 500fc.
>>>
>>> My take is that the phrase "clear sky" does not mean "clear sky without
>>> sun" as might be mistaken in general radiance terms. I've always
>>>assumed
>>> the sun is included.
>>>
>>> None of our submitted calculations have been questioned to date, so
>>> assume that this is acceptable.
>>> Hope this helps!
>>>
>>> Cheers.
>>>
>>> Chris Coulter
>>> Senior Lighting Designer
>>> Buro Happold Consulting Engineers
>>> 100 Broadway, 23rd Floor
>>> New York, NY 10005
>>> Tel: 212.334.2025<tel:212.334.2025>
>>> Direct: 212.616.0254<tel:212.616.0254>
>>> Email: chris.coulter at burohappold.com<mailto:chris.coulter at burohappold.com>
>>> Website: www.burohappold.com<http://www.burohappold.com>
>>>
>>> -----Original Message-----
>>> From: Lars O. Grobe [mailto:grobe at gmx.net<mailto:grobe at gmx.net>]
>>> Sent: Tuesday, June 19, 2012 4:21 AM
>>> To: Radiance general discussion
>>> Subject: Re: [Radiance-general] Current practice for LEED sky
>>>modelling?
>>>
>>> Hi John,
>>>
>>> I am aware of that really nice overview. The critique of using an
>>> impossible sky model is hard to question. Excluding the sun also means
>>> that any technique  to make use of direct sunlight by e.g. redirecting
>>> it deeper from the perimeter into the building is not accounted for at
>>> all. So that is why I was wondering how folks doing their real-life
>>>jobs
>>> for LEED are handling the problem with the current standards in mind.
>>>
>>> Another question is whether direct sunlight, after it got redirected,
>>>is
>>> still direct sunlight in LEED terms.... or whether redirected means
>>> indirect here and I could again include it... leaving me with a more
>>> meaningful sky model (clear sky with sun, and only portions directly
>>> entering the used spaces being locked out assuming users would block
>>> them by sunshades) accounting for redirecting facades.
>>>
>>> I am not sure wether this is too much LEED-specific for the mailing
>>> list, but I was really curious how Radiance folks is working around the
>>> not-so-physically-based specifications of current LEED when setting up
>>> simulations.
>>>
>>> Cheers, Lars.
>>>
>>>> There's a critique of daylight modelling for LEED and other codes
>>> here:
>>>>
>>>> http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance<http://www.iesd.dmu.ac.uk/%7Ejm/doku.php?id=academic:daylight-compliance>
>>>>
>>>> It includes a discussion on sky models.
>>>>
>>>> Best
>>>> John Mardaljevic
>>>>
>>>> Reader in Daylight Modelling
>>>> Institute of Energy and Sustainable Development De Montfort
>>>> University, The Gateway, Leicester, LE1 9BH, UK
>>>> Tel: +44 (0) 116 257 7972<tel:%2B44%20%280%29%20116%20257%207972>
>>>>
>>>> jm at dmu.ac.uk<mailto:jm at dmu.ac.uk>
>>>> http://www.iesd.dmu.ac.uk/~jm<http://www.iesd.dmu.ac.uk/%7Ejm>
>>>> http://dmu.academia.edu/JohnMardaljevic
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
>http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general



From mceddysantosa at gmail.com  Tue Jun 19 10:01:42 2012
From: mceddysantosa at gmail.com (Eddy Santosa)
Date: Tue, 19 Jun 2012 10:01:42 -0700
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <CAD83LVJdd6KCAr1auQG0XXQ1kJRbDDRpopmowd87u2AFJyTJOA@mail.gmail.com>
References: <148E6EC0-2E96-4D86-8DD9-DDDDCE97A80F@gmx.net>
	<CC05FCBD.11813%robert.guglielmetti@nrel.gov>
	<CAD83LVJdd6KCAr1auQG0XXQ1kJRbDDRpopmowd87u2AFJyTJOA@mail.gmail.com>
Message-ID: <CAEiV_Q2n+_Xruudptq9hYxDRB1mtdF5METAfWFvTpUo7BfSYcQ@mail.gmail.com>

Lars,

In my understanding, USGBC does not provide the specific guideline for
skymodel. There was a CIR that requested clarification and questioned about
the skymodels (Perez and CIE) and USGBC responded: that "while this CIR
cannot provide any specific rules for selection of the sky model to be
used, both methodologies are acceptable as long as the applicant submits a
narrative explaining the methodology in the submittal.". CIR number for
that one is 9/5/2008 ID# 5148.

I use the same approach as Chris and, not like for energy model, I guess
there is no specific reviewer for daylight credit in the GBCI reviewer
team. I never get any clarification request regarding the simulation
methodology.

Thanks,


Eddy Santosa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120619/fd0ed765/attachment.html>

From zrogers at daylightinginnovations.com  Tue Jun 19 10:23:11 2012
From: zrogers at daylightinginnovations.com (Zack Rogers)
Date: Tue, 19 Jun 2012 11:23:11 -0600
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <148E6EC0-2E96-4D86-8DD9-DDDDCE97A80F@gmx.net>
References: <CC05EF34.117A7%robert.guglielmetti@nrel.gov>
	<148E6EC0-2E96-4D86-8DD9-DDDDCE97A80F@gmx.net>
Message-ID: <CAAP856xnXMfXKToiU4+09KsjB+c1c=ViY1YaqsOW72B4ZLQPVA@mail.gmail.com>

Hi Lars, Rob,

>From what I understand, gensky produces accurate CIE sky descriptions
according to the older definitions of 3 different sky types (clear, partly
cloudy, and cloudy) - but does not include definitions for the newer CIE
standard that has 15 different sky types derived from 5 different
parameters (A-E).  For the older CIE sky types, I am not clear on what
gensky uses to predict the magnitude (zenith luminance, Lz) but from what I
have seen it does not match the methodology that the IESNA lays out for
predicting Lz.  With gensky alone I might get around 70,000 lux on a sunny
summer day where as the IESNA guidelines would predict around 100,000lux.
 This is the reason I wrote a IES_gensky.py python script, it produces the
same CIE sky distribution functions (adopted by IESNA) but also uses IESNA
guidelines to determine Lz based on some lookup tables.  I recall some
babbling from me on this topic around when I developed this:

http://www.radiance-online.org/pipermail/radiance-general/2003-October/001074.html

http://www.radiance-online.org/pipermail/radiance-general/2003-October/001090.html


IES_gensky.py and a corresponding IES_skybright.cal are part of all the
SPOT releases and I would be happy to send them along individually (not
sure I can attach to an e-mail to the group).  So I use this script to
define an IESNA standard clear sky with a sun (I agree that although likely
vague in the manual, a sun is supposed to be part of the clear sky calc)
and do my LEED calcs with that sky.  When I have looked at weather data and
very clear sky days, the illuminance seems to match this IESNA clear sky
model fairly well.

I have also never had this part of the calc questioned on LEED reviews.

Cheers,
Zack

On Tue, Jun 19, 2012 at 9:41 AM, Lars O. Grobe <grobe at gmx.net> wrote:

> Hi Chris, Rob, so what are you using as sun luminance? Some average from
> weather data? A theoretical value from a model? John's examples are a great
> demonstration for the problem. I am rather sure that an invalid assumption
> for the direct sun in a sky model would by far outnumber the effect of
> changing a sky distribution to whatever model. Is there common sense that
> if "clear sky" is referenced, I should use the CIE clear sky without any
> modification, just as what I get from gensky? Or should I feed in at least
> an illuminance reading either from my own measurement or from weather data?
>
> Cheers, Lars.
> --
> Dipl.-Ing. Architect Lars O. Grobe
>
> On Jun 19, 2012, at 17:59, "Guglielmetti, Robert" <
> Robert.Guglielmetti at nrel.gov> wrote:
>
> > Yeah, the LEED "clear sky" absolutely means a clear sky with a sun
> (unless
> > they've changed it recently in LEED). ALL of my clear sky simulations
> with
> > Lightscape, AGi32, and Radiance over the years have included the sun.
> > After all, aren't we trying to predict daylight performance??
> >
> > Hey Chris, when'd you move to New York? Congrats, and enjoy the humidity.
> > =8-)
> >
> >
> > Rob Guglielmetti  IESNA, LEED AP
> > Commercial Buildings Research Group
> > National Renewable Energy Laboratory
> > 15013 Denver West Parkway MS:RSF202
> > Golden, CO 80401
> > 303.275.4319
> > robert.guglielmetti at nrel.gov
> >
> >
> >
> >
> >
> > On 6/19/12 7:16 AM, "Chris Coulter" <Chris.Coulter at burohappold.com>
> wrote:
> >
> >> Lars,
> >>
> >> I have done several LEED compliance calculations in the past using clear
> >> sky with sun (+s as the gensky parameter). This allows for daylight
> >> redirecting devices to push light further into a space, and more
> >> recently the requirement for glare control above 500fc.
> >>
> >> My take is that the phrase "clear sky" does not mean "clear sky without
> >> sun" as might be mistaken in general radiance terms. I've always assumed
> >> the sun is included.
> >>
> >> None of our submitted calculations have been questioned to date, so
> >> assume that this is acceptable.
> >> Hope this helps!
> >>
> >> Cheers.
> >>
> >> Chris Coulter
> >> Senior Lighting Designer
> >> Buro Happold Consulting Engineers
> >> 100 Broadway, 23rd Floor
> >> New York, NY 10005
> >> Tel: 212.334.2025
> >> Direct: 212.616.0254
> >> Email: chris.coulter at burohappold.com
> >> Website: www.burohappold.com
> >>
> >> -----Original Message-----
> >> From: Lars O. Grobe [mailto:grobe at gmx.net]
> >> Sent: Tuesday, June 19, 2012 4:21 AM
> >> To: Radiance general discussion
> >> Subject: Re: [Radiance-general] Current practice for LEED sky modelling?
> >>
> >> Hi John,
> >>
> >> I am aware of that really nice overview. The critique of using an
> >> impossible sky model is hard to question. Excluding the sun also means
> >> that any technique  to make use of direct sunlight by e.g. redirecting
> >> it deeper from the perimeter into the building is not accounted for at
> >> all. So that is why I was wondering how folks doing their real-life jobs
> >> for LEED are handling the problem with the current standards in mind.
> >>
> >> Another question is whether direct sunlight, after it got redirected, is
> >> still direct sunlight in LEED terms.... or whether redirected means
> >> indirect here and I could again include it... leaving me with a more
> >> meaningful sky model (clear sky with sun, and only portions directly
> >> entering the used spaces being locked out assuming users would block
> >> them by sunshades) accounting for redirecting facades.
> >>
> >> I am not sure wether this is too much LEED-specific for the mailing
> >> list, but I was really curious how Radiance folks is working around the
> >> not-so-physically-based specifications of current LEED when setting up
> >> simulations.
> >>
> >> Cheers, Lars.
> >>
> >>> There's a critique of daylight modelling for LEED and other codes
> >> here:
> >>>
> >>> http://www.iesd.dmu.ac.uk/~jm/doku.php?id=academic:daylight-compliance
> >>>
> >>> It includes a discussion on sky models.
> >>>
> >>> Best
> >>> John Mardaljevic
> >>>
> >>> Reader in Daylight Modelling
> >>> Institute of Energy and Sustainable Development De Montfort
> >>> University, The Gateway, Leicester, LE1 9BH, UK
> >>> Tel: +44 (0) 116 257 7972
> >>>
> >>> jm at dmu.ac.uk
> >>> http://www.iesd.dmu.ac.uk/~jm
> >>> http://dmu.academia.edu/JohnMardaljevic
> >>
> >> _______________________________________________
> >> Radiance-general mailing list
> >> Radiance-general at radiance-online.org
> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >>
> >>
> >>
> >> _______________________________________________
> >> Radiance-general mailing list
> >> Radiance-general at radiance-online.org
> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
Zack Rogers, P.E., LEED AP BD+C
Daylighting Innovations, LLC
211 North Public Road, Suite 220
Lafayette, CO 80026
(303)946-2310
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120619/9c42bbab/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Jun 19 10:33:09 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 19 Jun 2012 11:33:09 -0600
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <CAAP856xnXMfXKToiU4+09KsjB+c1c=ViY1YaqsOW72B4ZLQPVA@mail.gmail.com>
Message-ID: <CC0612D0.11881%robert.guglielmetti@nrel.gov>

On 6/19/12 11:23 AM, "Zack Rogers" <zrogers at daylightinginnovations.com<mailto:zrogers at daylightinginnovations.com>> wrote:

Hi Lars, Rob,

>From what I understand, gensky produces accurate CIE sky descriptions according to the older definitions of 3 different sky types (clear, partly cloudy, and cloudy) - but does not include definitions for the newer CIE standard that has 15 different sky types derived from 5 different parameters (A-E).  For the older CIE sky types, I am not clear on what gensky uses to predict the magnitude (zenith luminance, Lz) but from what I have seen it does not match the methodology that the IESNA lays out for predicting Lz.  With gensky alone I might get around 70,000 lux on a sunny summer day where as the IESNA guidelines would predict around 100,000lux.  This is the reason I wrote a IES_gensky.py python script, it produces the same CIE sky distribution functions (adopted by IESNA) but also uses IESNA guidelines to determine Lz based on some lookup tables.  I recall some babbling from me on this topic around when I developed this:

http://www.radiance-online.org/pipermail/radiance-general/2003-October/001074.html
http://www.radiance-online.org/pipermail/radiance-general/2003-October/001090.html


Hi Zack,

It's my understanding that gensky produces sky type 1, which is the standard overcast sky, and sky type 12 for the clear sky from the 15 in the CIE table from 2003. I'm not sure which one it uses for the intermediate sky, nor do I know if it's using the 5 parameter method or something else.

- Rob


From gregoryjward at gmail.com  Tue Jun 19 11:20:30 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 19 Jun 2012 11:20:30 -0700
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <CC0612D0.11881%robert.guglielmetti@nrel.gov>
References: <CC0612D0.11881%robert.guglielmetti@nrel.gov>
Message-ID: <E66D955A-C2C8-4653-BB06-5ADA7F14C1CB@lmi.net>

I wish I had more to offer to this conversation.  Gensky was written some aeons ago before IESNA updated their standards.  I'm not familiar with the later standards, though I probably have them in my files somewhere...

The bottom line is that the zenith luminance calculation in gensky is based on a turbidity & luminance study published back in the 70's (I think) and hasn't been changed.  The general assumption was that anyone who cared about absolute levels would input their own zenith value, which is still the recommended practice when working from a weather tape or the the like.  Honestly, I didn't realize people were relying on the turbidity-estimated luminance anymore.

I would have no objection to a volunteer updating the zenith luminance calculation in gensky if that's what people want.  Adding the new sky types would probably be of even greater interest, though that might exacerbate the already sticky issue of choosing which sky model is appropriate.  This is why a general sky model like Perez is usually preferred.  I don't really have time to dig into the new standard and sort it all out.

Cheers,
-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Date: June 19, 2012 10:33:09 AM PDT
> 
> On 6/19/12 11:23 AM, "Zack Rogers" <zrogers at daylightinginnovations.com<mailto:zrogers at daylightinginnovations.com>> wrote:
> 
> Hi Lars, Rob,
> 
> From what I understand, gensky produces accurate CIE sky descriptions according to the older definitions of 3 different sky types (clear, partly cloudy, and cloudy) - but does not include definitions for the newer CIE standard that has 15 different sky types derived from 5 different parameters (A-E).  For the older CIE sky types, I am not clear on what gensky uses to predict the magnitude (zenith luminance, Lz) but from what I have seen it does not match the methodology that the IESNA lays out for predicting Lz.  With gensky alone I might get around 70,000 lux on a sunny summer day where as the IESNA guidelines would predict around 100,000lux.  This is the reason I wrote a IES_gensky.py python script, it produces the same CIE sky distribution functions (adopted by IESNA) but also uses IESNA guidelines to determine Lz based on some lookup tables.  I recall some babbling from me on this topic around when I developed this:
> 
> http://www.radiance-online.org/pipermail/radiance-general/2003-October/001074.html
> http://www.radiance-online.org/pipermail/radiance-general/2003-October/001090.html
> 
> 
> Hi Zack,
> 
> It's my understanding that gensky produces sky type 1, which is the standard overcast sky, and sky type 12 for the clear sky from the 15 in the CIE table from 2003. I'm not sure which one it uses for the intermediate sky, nor do I know if it's using the 5 parameter method or something else.
> 
> - Rob


From Galen.Burrell at arup.com  Tue Jun 19 11:33:30 2012
From: Galen.Burrell at arup.com (Galen Burrell)
Date: Tue, 19 Jun 2012 11:33:30 -0700
Subject: [Radiance-general] Current practice for LEED sky modelling?
Message-ID: <912E8E33E0563B448D0CB0FAA4E874D1706A3317F5@AMXEXC02.global.arup.com>

In our office, we use gensky clear sky model (with sun) but explicitly define the diffuse and direct radiance component using the IESNA methodology, in lieu of the gensky defaults (which I recall Greg saying were not correct).

Zack's python script would be pretty handy for this!


Galen Burrell
Senior Consultant ?| ?Arup Lighting
?
Arup
560 Mission Street? Seventh Floor?? San Francisco CA 94105?? United States
t +1 415 957 9445 ?d +1 415 946 2367 
f +1 415 957 9096 ?
www.arup.com/lighting



Message: 3
Date: Tue, 19 Jun 2012 11:33:09 -0600
From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Current practice for LEED sky
	modelling?
Message-ID: <CC0612D0.11881%robert.guglielmetti at nrel.gov>
Content-Type: text/plain; charset="us-ascii"

On 6/19/12 11:23 AM, "Zack Rogers" <zrogers at daylightinginnovations.com<mailto:zrogers at daylightinginnovations.com>> wrote:

Hi Lars, Rob,

>From what I understand, gensky produces accurate CIE sky descriptions according to the older definitions of 3 different sky types (clear, partly cloudy, and cloudy) - but does not include definitions for the newer CIE standard that has 15 different sky types derived from 5 different parameters (A-E).  For the older CIE sky types, I am not clear on what gensky uses to predict the magnitude (zenith luminance, Lz) but from what I have seen it does not match the methodology that the IESNA lays out for predicting Lz.  With gensky alone I might get around 70,000 lux on a sunny summer day where as the IESNA guidelines would predict around 100,000lux.  This is the reason I wrote a IES_gensky.py python script, it produces the same CIE sky distribution functions (adopted by IESNA) but also uses IESNA guidelines to determine Lz based on some lookup tables.  I recall some babbling from me on this topic around when I developed this:

http://www.radiance-online.org/pipermail/radiance-general/2003-October/001074.html
http://www.radiance-online.org/pipermail/radiance-general/2003-October/001090.html


Hi Zack,

It's my understanding that gensky produces sky type 1, which is the standard overcast sky, and sky type 12 for the clear sky from the 15 in the CIE table from 2003. I'm not sure which one it uses for the intermediate sky, nor do I know if it's using the 5 parameter method or something else.

- Rob

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses



From Robert.Guglielmetti at nrel.gov  Tue Jun 19 12:56:38 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 19 Jun 2012 13:56:38 -0600
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <E66D955A-C2C8-4653-BB06-5ADA7F14C1CB@lmi.net>
Message-ID: <CC0634A6.118A1%robert.guglielmetti@nrel.gov>

Juicy subject matter. It's be cool if Zacks work could get incorporated
into Radiance. I also agree though that the Perex model is preferred, and
Ian Askdown has written his own version of gendaylight in C++ and
validated it. Only issue there is that his tool puts out data in the way
he wishes to use for his work. There's beed to be some effort writing a
wrapper for the Ashdown_gensky output to be able to use his source in
Radiance, but it's totally open source. Food for thought.
 

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov





On 6/19/12 12:20 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:

>I wish I had more to offer to this conversation.  Gensky was written some
>aeons ago before IESNA updated their standards.  I'm not familiar with
>the later standards, though I probably have them in my files somewhere...
>
>The bottom line is that the zenith luminance calculation in gensky is
>based on a turbidity & luminance study published back in the 70's (I
>think) and hasn't been changed.  The general assumption was that anyone
>who cared about absolute levels would input their own zenith value, which
>is still the recommended practice when working from a weather tape or the
>the like.  Honestly, I didn't realize people were relying on the
>turbidity-estimated luminance anymore.
>
>I would have no objection to a volunteer updating the zenith luminance
>calculation in gensky if that's what people want.  Adding the new sky
>types would probably be of even greater interest, though that might
>exacerbate the already sticky issue of choosing which sky model is
>appropriate.  This is why a general sky model like Perez is usually
>preferred.  I don't really have time to dig into the new standard and
>sort it all out.
>
>Cheers,
>-Greg
>
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> Date: June 19, 2012 10:33:09 AM PDT
>> 
>> On 6/19/12 11:23 AM, "Zack Rogers"
>><zrogers at daylightinginnovations.com<mailto:zrogers at daylightinginnovations
>>.com>> wrote:
>> 
>> Hi Lars, Rob,
>> 
>> From what I understand, gensky produces accurate CIE sky descriptions
>>according to the older definitions of 3 different sky types (clear,
>>partly cloudy, and cloudy) - but does not include definitions for the
>>newer CIE standard that has 15 different sky types derived from 5
>>different parameters (A-E).  For the older CIE sky types, I am not clear
>>on what gensky uses to predict the magnitude (zenith luminance, Lz) but
>>from what I have seen it does not match the methodology that the IESNA
>>lays out for predicting Lz.  With gensky alone I might get around 70,000
>>lux on a sunny summer day where as the IESNA guidelines would predict
>>around 100,000lux.  This is the reason I wrote a IES_gensky.py python
>>script, it produces the same CIE sky distribution functions (adopted by
>>IESNA) but also uses IESNA guidelines to determine Lz based on some
>>lookup tables.  I recall some babbling from me on this topic around when
>>I developed this:
>> 
>> 
>>http://www.radiance-online.org/pipermail/radiance-general/2003-October/00
>>1074.html
>> 
>>http://www.radiance-online.org/pipermail/radiance-general/2003-October/00
>>1090.html
>> 
>> 
>> Hi Zack,
>> 
>> It's my understanding that gensky produces sky type 1, which is the
>>standard overcast sky, and sky type 12 for the clear sky from the 15 in
>>the CIE table from 2003. I'm not sure which one it uses for the
>>intermediate sky, nor do I know if it's using the 5 parameter method or
>>something else.
>> 
>> - Rob
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From Robert.Guglielmetti at nrel.gov  Wed Jun 20 11:52:24 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 20 Jun 2012 12:52:24 -0600
Subject: [Radiance-general] FW: difficulties about installation of radiance
	on linux
In-Reply-To: <CC075038.11908%robert.guglielmetti@nrel.gov>
Message-ID: <CC0777DE.11954%robert.guglielmetti@nrel.gov>

Just realized I never actually cc'd the list on this reply?
-Rob

On 6/20/12 10:19 AM, "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:

Hello Imene,

This error means that you do not have the "csh" script interpreter. The makeall script is written in csh, so when you try to run it, you get that error. It's odd that you don't have csh, most Linux systems leave it installed even though the "bash" interpreter is used more often. Can you tell us a little more about what system you're using?

I have copied the radiance-general mailing list because there are a couple of other options people could point you to for help. Bernd Zeimetz maintains an installer package for Debian systems, which would be super easy if you can install .deb packages on your system. NREL maintains a package with a "self installing script" option, but ours is written to use the "sh" interpreter, and if you don't have csh, you probably don't have sh either. Radiance listers also have other tricks up their sleeves.

My advice is to go to this link:

http://www.radiance-online.org/mailman/listinfo/radiance-general

?and sign up for the radiance-general list. I also advise you do NOT sign up for digest delivery mode, because then you only get updates once a day.

See you on the list!

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov<mailto:robert.guglielmetti at nrel.gov>


On 6/20/12 6:25 AM, "slama im?ne" <arch_imen2004 at yahoo.fr<mailto:arch_imen2004 at yahoo.fr>> wrote:

hi,
I want install radiance on linux, I downloadedthe software rad4R1all.tar.gz fromsite :
http://radsite.lbl.gov/radiance/download.html
However, by writing ./makeall install as it is mentioned in the readme I got the following message: bash: . makeall : /bin/csh : bad interpreter: No such file or directory
How can I resolve this problem and how can I install radiance?
Thank you in advance
Im?ne SLAMA
National SchoolofArchitecture and Urbanism of Tunis


From david.moroder at gmail.com  Thu Jun 21 00:26:52 2012
From: david.moroder at gmail.com (David Geisler-Moroder)
Date: Thu, 21 Jun 2012 09:26:52 +0200
Subject: [Radiance-general] Current practice for LEED sky modelling?
In-Reply-To: <CC0634A6.118A1%robert.guglielmetti@nrel.gov>
References: <E66D955A-C2C8-4653-BB06-5ADA7F14C1CB@lmi.net>
	<CC0634A6.118A1%robert.guglielmetti@nrel.gov>
Message-ID: <CAL-bo5HLAJJ0FMT4uKOYijzeufCq-bJu_64O4X4E7akRH6yL9A@mail.gmail.com>

Hi all,

just a note on the 15 "new" CIE sky types from 2003: these luminance
distributions can be
used in Radiance using Philipp Greenup's ssldlum.cal that can be downloaded
from
www.radiance-online.org/patches/ssld/SSLD algorithm with PDF.zip

However, afaik these models are not commonly used (and even not really well
known)...

A short note on Rob's comment: if I remember right the new CIE sky type 1
is slightly different
from the "good old" overcast sky. That's why the classical overcast sky
(with the 3:1 distribution
L(gamma)/L(zenith) = (1+2*sin(gamma))/3 ) is defined as additional 16th sky
type in the CIE Standard.

Best,
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120621/5660e922/attachment.html>

From arch_imen2004 at yahoo.fr  Thu Jun 21 01:53:48 2012
From: arch_imen2004 at yahoo.fr (=?utf-8?B?c2xhbWEgaW3DqG5l?=)
Date: Thu, 21 Jun 2012 09:53:48 +0100 (BST)
Subject: [Radiance-general] Re : FW: difficulties about installation of
	radiance on linux
In-Reply-To: <CC0777DE.11954%robert.guglielmetti@nrel.gov>
References: <CC075038.11908%robert.guglielmetti@nrel.gov>
	<CC0777DE.11954%robert.guglielmetti@nrel.gov>
Message-ID: <1340268828.66781.YahooMailNeo@web29606.mail.ird.yahoo.com>

thank you Rob
im?ne



________________________________
 De?: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
??: Radiance general discussion <radiance-general at radiance-online.org> 
Envoy? le : Mercredi 20 juin 2012 20h52
Objet?: [Radiance-general] FW: difficulties about installation of radiance on linux
 
Just realized I never actually cc'd the list on this reply?
-Rob

On 6/20/12 10:19 AM, "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:

Hello Imene,

This error means that you do not have the "csh" script interpreter. The makeall script is written in csh, so when you try to run it, you get that error. It's odd that you don't have csh, most Linux systems leave it installed even though the "bash" interpreter is used more often. Can you tell us a little more about what system you're using?

I have copied the radiance-general mailing list because there are a couple of other options people could point you to for help. Bernd Zeimetz maintains an installer package for Debian systems, which would be super easy if you can install .deb packages on your system. NREL maintains a package with a "self installing script" option, but ours is written to use the "sh" interpreter, and if you don't have csh, you probably don't have sh either. Radiance listers also have other tricks up their sleeves.

My advice is to go to this link:

http://www.radiance-online.org/mailman/listinfo/radiance-general

?and sign up for the radiance-general list. I also advise you do NOT sign up for digest delivery mode, because then you only get updates once a day.

See you on the list!

Rob Guglielmetti? IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov<mailto:robert.guglielmetti at nrel.gov>


On 6/20/12 6:25 AM, "slama im?ne" <arch_imen2004 at yahoo.fr<mailto:arch_imen2004 at yahoo.fr>> wrote:

hi,
I want install radiance on linux, I downloadedthe software rad4R1all.tar.gz fromsite :
http://radsite.lbl.gov/radiance/download.html
However, by writing ./makeall install as it is mentioned in the readme I got the following message: bash: . makeall : /bin/csh : bad interpreter: No such file or directory
How can I resolve this problem and how can I install radiance?
Thank you in advance
Im?ne SLAMA
National SchoolofArchitecture and Urbanism of Tunis

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120621/1421c64f/attachment.html>

From hope.zh at gmail.com  Thu Jun 21 10:54:00 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Fri, 22 Jun 2012 01:54:00 +0800
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
	<CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
	<CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
Message-ID: <CAD83LVKTHmLvV8ThezqUaF+oq0RFeriTUTKWL4O=uW_WZcXLeQ@mail.gmail.com>

Hi, Andy and the list,

I tried your suggestion to assign random color to the 145 sky patches when
following Axel's rtcontrib tutorial, but I got the following error message:
Usage: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]

the script I used is (Mac OSX bash shell):
cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' \
| dctimestep ./images/patches/p%03d.hdr > ./sky_colorcomb_dctimestep.hdr

I assume I missed something critical here...

Pls kindly advise!

Anyway, the other approach you suggested in the following post still works:
http://www.radiance-online.org/pipermail/radiance-general/2010-December/007529.html

- Cheers, Ji


On Tue, Jun 12, 2012 at 12:07 AM, Andrew McNeil <amcneil at lbl.gov> wrote:

> Actually, the image generation part may take hours, but combining the
> patch images into a single image should take only a few minutes.
>
> Personally, I've never been able to get that pcomb based command to work,
> it seems to me that rcalc is waiting endlessly for input.  But you don't
> need to use pcomb to combine the images anymore, dctimestep provides a much
> more efficient option:
>
> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | \
> dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr
>
> Andy
>
>
> On Mon, Jun 11, 2012 at 8:39 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Thanks, John, I think I should press the button and go to sleep
>> un-frustrated now ... zzzzzzz
>>
>> - Ji
>>
>>
>>
>> On Mon, Jun 11, 2012 at 11:36 PM, John Sullivan <sulljoh1 at gmail.com>wrote:
>>
>>> On Problem 1: You are probably doing it right.  Creating the hdr images
>>> in Axel's tutorial on rtcontrib took us a couple of hours.
>>>
>>> -John
>>>
>>>
>>> On Mon, Jun 11, 2012 at 11:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>
>>>> Sorry, just figured out that the source for Problem 2: the "-fo" option
>>>> should be added in addition to the "-ffc" and "-f" options
>>>>
>>>> the script should be:
>>>>
>>>>
>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>> -fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f tregenza.cal
>>>> -b tbin \
>>>>
>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>> ./testroom_whitesky.oct
>>>>
>>>> - Ji
>>>>
>>>>
>>>>
>>>> On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>>
>>>>> Dear list,
>>>>>
>>>>> I'm following Axel's tutorial on rtcontrib:
>>>>>
>>>>> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>>>>>
>>>>> Problem 1:
>>>>> on page 16-17, I use the following script to generate the fisheye
>>>>> image for Tregenza sky patches in random colors:
>>>>>
>>>>> pcomb `for i in {000..145}; do \
>>>>> echo "-c $(rcalc -e \
>>>>> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
>>>>> ./images/patches/p$i.hdr"; done` \
>>>>> > ./images/sky_colorcomb.hdr
>>>>>
>>>>> However, the script seems to run forever. Does it really need a long
>>>>> time to create the image, or Have I miss anything here?
>>>>>
>>>>>
>>>>> Problem 2:
>>>>> on page 17, I changed the script as suggested by changing the "-f"
>>>>> option to "-fo" to overwrite the existing hdr files:
>>>>>
>>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>>> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal -b
>>>>> tbin \
>>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>>> ./testroom_whitesky.oct
>>>>>
>>>>> However, I got the following error message:
>>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>>
>>>>> Can anybody help to advise what the options for rtcontrib I should use
>>>>> here?
>>>>>
>>>>>
>>>>> Thanks!
>>>>> - Ji
>>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120622/e185fbeb/attachment-0001.html>

From amcneil at lbl.gov  Thu Jun 21 11:26:06 2012
From: amcneil at lbl.gov (Andrew McNeil)
Date: Thu, 21 Jun 2012 11:26:06 -0700
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CAD83LVKTHmLvV8ThezqUaF+oq0RFeriTUTKWL4O=uW_WZcXLeQ@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
	<CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
	<CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
	<CAD83LVKTHmLvV8ThezqUaF+oq0RFeriTUTKWL4O=uW_WZcXLeQ@mail.gmail.com>
Message-ID: <CAOG+NixXhjpZxxMUVuMyCx1He_ww-4LZs4gNwnneO7diiNQZ8A@mail.gmail.com>

Hi Ji,
You need a more recent version of dctimestep.  The current version give the
following usage:
Usage: dctimestep DCspec [tregvec]
   or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]

The ability to use a daylight coefficient matrix was added in July 2010,
you must be using a version of dctimestep that is older than that.
Andy

On Thu, Jun 21, 2012 at 10:54 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Hi, Andy and the list,
>
> I tried your suggestion to assign random color to the 145 sky patches when
> following Axel's rtcontrib tutorial, but I got the following error message:
> Usage: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]
>
> the script I used is (Mac OSX bash shell):
>
> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' \
> | dctimestep ./images/patches/p%03d.hdr > ./sky_colorcomb_dctimestep.hdr
>
> I assume I missed something critical here...
>
> Pls kindly advise!
>
> Anyway, the other approach you suggested in the following post still works:
>
> http://www.radiance-online.org/pipermail/radiance-general/2010-December/007529.html
>
> - Cheers, Ji
>
>
>
> On Tue, Jun 12, 2012 at 12:07 AM, Andrew McNeil <amcneil at lbl.gov> wrote:
>
>> Actually, the image generation part may take hours, but combining the
>> patch images into a single image should take only a few minutes.
>>
>> Personally, I've never been able to get that pcomb based command to work,
>> it seems to me that rcalc is waiting endlessly for input.  But you don't
>> need to use pcomb to combine the images anymore, dctimestep provides a much
>> more efficient option:
>>
>> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' |
>> \
>> dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr
>>
>> Andy
>>
>>
>> On Mon, Jun 11, 2012 at 8:39 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>>
>>> Thanks, John, I think I should press the button and go to sleep
>>> un-frustrated now ... zzzzzzz
>>>
>>> - Ji
>>>
>>>
>>>
>>> On Mon, Jun 11, 2012 at 11:36 PM, John Sullivan <sulljoh1 at gmail.com>wrote:
>>>
>>>> On Problem 1: You are probably doing it right.  Creating the hdr images
>>>> in Axel's tutorial on rtcontrib took us a couple of hours.
>>>>
>>>> -John
>>>>
>>>>
>>>> On Mon, Jun 11, 2012 at 11:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>>
>>>>> Sorry, just figured out that the source for Problem 2: the "-fo"
>>>>> option should be added in addition to the "-ffc" and "-f" options
>>>>>
>>>>> the script should be:
>>>>>
>>>>>
>>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>>> -fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f tregenza.cal
>>>>> -b tbin \
>>>>>
>>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>>> ./testroom_whitesky.oct
>>>>>
>>>>> - Ji
>>>>>
>>>>>
>>>>>
>>>>> On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>>>
>>>>>> Dear list,
>>>>>>
>>>>>> I'm following Axel's tutorial on rtcontrib:
>>>>>>
>>>>>> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>>>>>>
>>>>>> Problem 1:
>>>>>> on page 16-17, I use the following script to generate the fisheye
>>>>>> image for Tregenza sky patches in random colors:
>>>>>>
>>>>>> pcomb `for i in {000..145}; do \
>>>>>> echo "-c $(rcalc -e \
>>>>>> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
>>>>>> ./images/patches/p$i.hdr"; done` \
>>>>>> > ./images/sky_colorcomb.hdr
>>>>>>
>>>>>> However, the script seems to run forever. Does it really need a long
>>>>>> time to create the image, or Have I miss anything here?
>>>>>>
>>>>>>
>>>>>> Problem 2:
>>>>>> on page 17, I changed the script as suggested by changing the "-f"
>>>>>> option to "-fo" to overwrite the existing hdr files:
>>>>>>
>>>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>>>> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal
>>>>>> -b tbin \
>>>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>>>> ./testroom_whitesky.oct
>>>>>>
>>>>>> However, I got the following error message:
>>>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>>>
>>>>>> Can anybody help to advise what the options for rtcontrib I should
>>>>>> use here?
>>>>>>
>>>>>>
>>>>>> Thanks!
>>>>>> - Ji
>>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120621/7824d860/attachment.html>

From hope.zh at gmail.com  Fri Jun 22 02:17:17 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Fri, 22 Jun 2012 17:17:17 +0800
Subject: [Radiance-general] rtcontrib problems
In-Reply-To: <CAOG+NixXhjpZxxMUVuMyCx1He_ww-4LZs4gNwnneO7diiNQZ8A@mail.gmail.com>
References: <CAD83LVKvRWOL=gMvBRZR3Ak4GNHKS7hM5MiztGkuVyF1CLhWfw@mail.gmail.com>
	<CAD83LVJ7E0QAajHFcENKmwbKYpc1seWfSKyUbgR8QhXpiaH_nQ@mail.gmail.com>
	<CA+Dz629Veqru5qsUnOyann-VxVS8H0-XYP4k2ktp5yTXObFH2Q@mail.gmail.com>
	<CAD83LVJX_6Y+scY=qgkux9htFegh_qOQXmCNKNU9m5ru4ipktQ@mail.gmail.com>
	<CAOG+NiwHznJFuM7FyKa5qiATq3tEhKZNpm8pA4sTyjGU9QhY9w@mail.gmail.com>
	<CAD83LVKTHmLvV8ThezqUaF+oq0RFeriTUTKWL4O=uW_WZcXLeQ@mail.gmail.com>
	<CAOG+NixXhjpZxxMUVuMyCx1He_ww-4LZs4gNwnneO7diiNQZ8A@mail.gmail.com>
Message-ID: <CAD83LVKX7w8HZasK0n=_bR-m8CXCAgdHVgco7i1wG_V7=e5mfA@mail.gmail.com>

Noted with thanks, Andy! I'll try to install the latest version of Radiance
later.

- Cheers, Ji


On Fri, Jun 22, 2012 at 2:26 AM, Andrew McNeil <amcneil at lbl.gov> wrote:

> Hi Ji,
> You need a more recent version of dctimestep.  The current version give
> the following usage:
> Usage: dctimestep DCspec [tregvec]
>    or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]
>
> The ability to use a daylight coefficient matrix was added in July 2010,
> you must be using a version of dctimestep that is older than that.
> Andy
>
>
> On Thu, Jun 21, 2012 at 10:54 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>
>> Hi, Andy and the list,
>>
>> I tried your suggestion to assign random color to the 145 sky patches
>> when following Axel's rtcontrib tutorial, but I got the following error
>> message:
>> Usage: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]
>>
>> the script I used is (Mac OSX bash shell):
>>
>> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' \
>> | dctimestep ./images/patches/p%03d.hdr > ./sky_colorcomb_dctimestep.hdr
>>
>> I assume I missed something critical here...
>>
>> Pls kindly advise!
>>
>> Anyway, the other approach you suggested in the following post still
>> works:
>>
>> http://www.radiance-online.org/pipermail/radiance-general/2010-December/007529.html
>>
>> - Cheers, Ji
>>
>>
>>
>> On Tue, Jun 12, 2012 at 12:07 AM, Andrew McNeil <amcneil at lbl.gov> wrote:
>>
>>> Actually, the image generation part may take hours, but combining the
>>> patch images into a single image should take only a few minutes.
>>>
>>> Personally, I've never been able to get that pcomb based command to
>>> work, it seems to me that rcalc is waiting endlessly for input.  But you
>>> don't need to use pcomb to combine the images anymore, dctimestep provides
>>> a much more efficient option:
>>>
>>> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)'
>>> | \
>>> dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr
>>>
>>> Andy
>>>
>>>
>>> On Mon, Jun 11, 2012 at 8:39 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>
>>>> Thanks, John, I think I should press the button and go to sleep
>>>> un-frustrated now ... zzzzzzz
>>>>
>>>> - Ji
>>>>
>>>>
>>>>
>>>> On Mon, Jun 11, 2012 at 11:36 PM, John Sullivan <sulljoh1 at gmail.com>wrote:
>>>>
>>>>> On Problem 1: You are probably doing it right.  Creating the hdr
>>>>> images in Axel's tutorial on rtcontrib took us a couple of hours.
>>>>>
>>>>> -John
>>>>>
>>>>>
>>>>> On Mon, Jun 11, 2012 at 11:06 AM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>>>
>>>>>> Sorry, just figured out that the source for Problem 2: the "-fo"
>>>>>> option should be added in addition to the "-ffc" and "-f" options
>>>>>>
>>>>>> the script should be:
>>>>>>
>>>>>>
>>>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>>>> -fo -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -f
>>>>>> tregenza.cal -b tbin \
>>>>>>
>>>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>>>> ./testroom_whitesky.oct
>>>>>>
>>>>>> - Ji
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Mon, Jun 11, 2012 at 10:54 PM, Ji Zhang <hope.zh at gmail.com> wrote:
>>>>>>
>>>>>>> Dear list,
>>>>>>>
>>>>>>> I'm following Axel's tutorial on rtcontrib:
>>>>>>>
>>>>>>> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>>>>>>>
>>>>>>> Problem 1:
>>>>>>> on page 16-17, I use the following script to generate the fisheye
>>>>>>> image for Tregenza sky patches in random colors:
>>>>>>>
>>>>>>> pcomb `for i in {000..145}; do \
>>>>>>> echo "-c $(rcalc -e \
>>>>>>> '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)') \
>>>>>>> ./images/patches/p$i.hdr"; done` \
>>>>>>> > ./images/sky_colorcomb.hdr
>>>>>>>
>>>>>>> However, the script seems to run forever. Does it really need a long
>>>>>>> time to create the image, or Have I miss anything here?
>>>>>>>
>>>>>>>
>>>>>>> Problem 2:
>>>>>>> on page 17, I changed the script as suggested by changing the "-f"
>>>>>>> option to "-fo" to overwrite the existing hdr files:
>>>>>>>
>>>>>>> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
>>>>>>> |rtcontrib -ab 3 -ad 4096 -ar 256 -aa .1 -lw 0.0003 -n 2 \
>>>>>>> -ffc `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -fo tregenza.cal
>>>>>>> -b tbin \
>>>>>>> -o ./patches_copy/p%03d.hdr -m sky_glow -w \
>>>>>>> ./testroom_whitesky.oct
>>>>>>>
>>>>>>> However, I got the following error message:
>>>>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>>>> rtrace: fatal - command line error at 'tregenza.cal'
>>>>>>>
>>>>>>> Can anybody help to advise what the options for rtcontrib I should
>>>>>>> use here?
>>>>>>>
>>>>>>>
>>>>>>> Thanks!
>>>>>>> - Ji
>>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120622/299fd744/attachment.html>

From hope.zh at gmail.com  Sat Jun 23 07:55:42 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Sat, 23 Jun 2012 22:55:42 +0800
Subject: [Radiance-general] "clang" related error while compiling Radiance
	on Mac
Message-ID: <CAD83LV+NW6T+TGQ07UhJ0wY89J339Y7pXYCVBEW3YukNAyF7yw@mail.gmail.com>

Hi, List,

I got the following "clang" related error message while compiling Radiance4
on Mac:

####################################################################
Current rmake command is:
#!/bin/sh
exec make "SPECIAL=ogl" \
    "OPT=-O2" \
    "MACH=-DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib"
\
    ARCH=Intel "COMPAT=" \
    INSTDIR=/Applications/Radiance/HEAD_2012_06_23/ray/bin \
    LIBDIR=/Applications/Radiance/HEAD_2012_06_23/ray/lib \
    ESUFFIX= \
    CC=cc CONFIGURE_ARCH=i386 "$@" -f Rmakefile
Do you want to change it? n
Making programs...
/Applications/Radiance/HEAD_2012_06_23/ray/src/common
/Applications/Radiance/HEAD_2012_06_23/ray/src
In directory common...
cc -DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib -O2
-c -o cone.o cone.c
clang: warning: argument unused during compilation: '-L/usr/X11R6/lib'
......
cc -DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib -O2
-c -o bsdf.o bsdf.c
clang: warning: argument unused during compilation: '-L/usr/X11R6/lib'
bsdf.c:1432:2: warning: implicit declaration of function 'multisamp' is
invalid
      in C99 [-Wimplicit-function-declaration]
        multisamp(pert, 3, rv);
        ^
1 warning generated.
......
####################################################################

Have I missed sth critical here?

(Mac OSX 10.7.4 with Xcode.4.3.2)

- Cheers, Ji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120623/3a6e0d37/attachment.html>

From rob.guglielmetti at gmail.com  Sat Jun 23 08:20:58 2012
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sat, 23 Jun 2012 09:20:58 -0600
Subject: [Radiance-general] "clang" related error while compiling
	Radiance on Mac
In-Reply-To: <CAD83LV+NW6T+TGQ07UhJ0wY89J339Y7pXYCVBEW3YukNAyF7yw@mail.gmail.com>
References: <CAD83LV+NW6T+TGQ07UhJ0wY89J339Y7pXYCVBEW3YukNAyF7yw@mail.gmail.com>
Message-ID: <4874EB04-B17E-4BF6-9844-24589F3007BE@gmail.com>

Hi Ji,

Warnings can generally be ignored. Errors are a problem, because they generally cause one or more programs to fail to compile. But warnings (as you have here) are not a big deal. Is XCode refusing to make all the programs because of this warning? I'd doubt it. Regardless, XCode is overkill if all you want to do is compile the source code. The "makeall" script that is in the source tree works flawlessly on the mac and on Linux. It too will generate these warnings, but like I said they can be ignored. As long as you don't end up with the dreaded "there were some errors." message at the end of the makeall script, you should be all set!

- Rob


On Jun 23, 2012, at 8:55 AM, Ji Zhang wrote:

> Hi, List,
> 
> I got the following "clang" related error message while compiling Radiance4 on Mac:
> 
> ####################################################################
> Current rmake command is:
> #!/bin/sh
> exec make "SPECIAL=ogl" \
>     "OPT=-O2" \
>     "MACH=-DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib" \
>     ARCH=Intel "COMPAT=" \
>     INSTDIR=/Applications/Radiance/HEAD_2012_06_23/ray/bin \
>     LIBDIR=/Applications/Radiance/HEAD_2012_06_23/ray/lib \
>     ESUFFIX= \
>     CC=cc CONFIGURE_ARCH=i386 "$@" -f Rmakefile
> Do you want to change it? n
> Making programs...
> /Applications/Radiance/HEAD_2012_06_23/ray/src/common /Applications/Radiance/HEAD_2012_06_23/ray/src 
> In directory common...
> cc -DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib -O2   -c -o cone.o cone.c
> clang: warning: argument unused during compilation: '-L/usr/X11R6/lib'
> ......
> cc -DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib -O2   -c -o bsdf.o bsdf.c
> clang: warning: argument unused during compilation: '-L/usr/X11R6/lib'
> bsdf.c:1432:2: warning: implicit declaration of function 'multisamp' is invalid
>       in C99 [-Wimplicit-function-declaration]
>         multisamp(pert, 3, rv);
>         ^
> 1 warning generated.
> ......
> ####################################################################
> 
> Have I missed sth critical here? 
> 
> (Mac OSX 10.7.4 with Xcode.4.3.2)
> 
> - Cheers, Ji
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Sat Jun 23 09:48:24 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 23 Jun 2012 09:48:24 -0700
Subject: [Radiance-general] "clang" related error while compiling
	Radiance on Mac
In-Reply-To: <4874EB04-B17E-4BF6-9844-24589F3007BE@gmail.com>
References: <CAD83LV+NW6T+TGQ07UhJ0wY89J339Y7pXYCVBEW3YukNAyF7yw@mail.gmail.com>
	<4874EB04-B17E-4BF6-9844-24589F3007BE@gmail.com>
Message-ID: <B6AAE249-37FC-4BBE-8B90-158FFE7391E6@lmi.net>

Rob is right, but I wanted to thank you anyway for pointing out a problem I hadn't noticed before!

Cheers,
-Greg

> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
> Date: June 23, 2012 8:20:58 AM PDT
> 
> Hi Ji,
> 
> Warnings can generally be ignored. Errors are a problem, because they generally cause one or more programs to fail to compile. But warnings (as you have here) are not a big deal. Is XCode refusing to make all the programs because of this warning? I'd doubt it. Regardless, XCode is overkill if all you want to do is compile the source code. The "makeall" script that is in the source tree works flawlessly on the mac and on Linux. It too will generate these warnings, but like I said they can be ignored. As long as you don't end up with the dreaded "there were some errors." message at the end of the makeall script, you should be all set!
> 
> - Rob
> 
> 
> On Jun 23, 2012, at 8:55 AM, Ji Zhang wrote:
> 
>> Hi, List,
>> 
>> I got the following "clang" related error message while compiling Radiance4 on Mac:
>> 
>> ####################################################################
>> Current rmake command is:
>> #!/bin/sh
>> exec make "SPECIAL=ogl" \
>>    "OPT=-O2" \
>>    "MACH=-DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib" \
>>    ARCH=Intel "COMPAT=" \
>>    INSTDIR=/Applications/Radiance/HEAD_2012_06_23/ray/bin \
>>    LIBDIR=/Applications/Radiance/HEAD_2012_06_23/ray/lib \
>>    ESUFFIX= \
>>    CC=cc CONFIGURE_ARCH=i386 "$@" -f Rmakefile
>> Do you want to change it? n
>> Making programs...
>> /Applications/Radiance/HEAD_2012_06_23/ray/src/common /Applications/Radiance/HEAD_2012_06_23/ray/src 
>> In directory common...
>> cc -DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib -O2   -c -o cone.o cone.c
>> clang: warning: argument unused during compilation: '-L/usr/X11R6/lib'
>> ......
>> cc -DBSD -DNOSTEREO -Dfreebsd -I/usr/X11R6/include -L/usr/X11R6/lib -O2   -c -o bsdf.o bsdf.c
>> clang: warning: argument unused during compilation: '-L/usr/X11R6/lib'
>> bsdf.c:1432:2: warning: implicit declaration of function 'multisamp' is invalid
>>      in C99 [-Wimplicit-function-declaration]
>>        multisamp(pert, 3, rv);
>>        ^
>> 1 warning generated.
>> ......
>> ####################################################################
>> 
>> Have I missed sth critical here? 
>> 
>> (Mac OSX 10.7.4 with Xcode.4.3.2)
>> 
>> - Cheers, Ji


From Jdrouet at lightswitch.net  Sat Jun 23 12:00:59 2012
From: Jdrouet at lightswitch.net (Janelle Drouet)
Date: Sat, 23 Jun 2012 12:00:59 -0700
Subject: [Radiance-general] Radiance-general Digest, Vol 100, Issue 22
In-Reply-To: <mailman.1.1340478000.44798.radiance-general@radiance-online.org>
Message-ID: <CC0B607B.CFFC%Jdrouet@lightswitch.net>

I am out of the office traveling with limited internet and phone access,
from Friday June 22nd to Monday June 25th.

Thank you for your patience,
Janelle




From Jdrouet at lightswitch.net  Sun Jun 24 12:00:59 2012
From: Jdrouet at lightswitch.net (Janelle Drouet)
Date: Sun, 24 Jun 2012 12:00:59 -0700
Subject: [Radiance-general] Radiance-general Digest, Vol 100, Issue 23
In-Reply-To: <mailman.1.1340564400.98282.radiance-general@radiance-online.org>
Message-ID: <CC0CB1FB.D008%Jdrouet@lightswitch.net>

I am out of the office traveling with limited internet and phone access,
from Friday June 22nd to Monday June 25th.

Thank you for your patience,
Janelle




From tim.v2.0 at gmail.com  Sun Jun 24 12:20:11 2012
From: tim.v2.0 at gmail.com (Tim Perry)
Date: Sun, 24 Jun 2012 12:20:11 -0700
Subject: [Radiance-general] Radiance-general Digest, Vol 100, Issue 23
In-Reply-To: <CC0CB1FB.D008%Jdrouet@lightswitch.net>
References: <mailman.1.1340564400.98282.radiance-general@radiance-online.org>
	<CC0CB1FB.D008%Jdrouet@lightswitch.net>
Message-ID: <CAFVgASVEPjKgaf2-04wAsX8o6mMeJ7A+z2kPHCzERCczpQiuhw@mail.gmail.com>

Dear Janelle,

it is no big deal, but I get lots of messages that you are out of hte
office on the Radiance list. Could you please check and see if you can
turn-off your vacation messages for the Radiance list? I know you can do it
in Microsoft Exchange. If you have that system and want me to send you
directions, please let me know.

This really isn't that big a deal. I know how to hit "delete".

Good luck with your travels,
Tim

On Sun, Jun 24, 2012 at 12:00 PM, Janelle Drouet <Jdrouet at lightswitch.net>wrote:

> I am out of the office traveling with limited internet and phone access,
> from Friday June 22nd to Monday June 25th.
>
> Thank you for your patience,
> Janelle
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120624/88472486/attachment.html>

From bayanda at pjc.co.za  Mon Jun 25 01:50:57 2012
From: bayanda at pjc.co.za (Bayanda Mpauli)
Date: Mon, 25 Jun 2012 10:50:57 +0200
Subject: [Radiance-general] 2012 Radiance Workshop
Message-ID: <000001cd52af$a63bbe20$f2b33a60$@pjc.co.za>

Dear Radiance members,

 

I would like to find out more on the coming Radiance event in Copenhagen, I
have searched the website but could not find it.

 

I would appreciate it if anyone could send me a link for the dedicated web
page for registration.

 

 

Thanks,

Bayanda

BAS (UCT)

Green Star SA Accredited Professional

 

PJ Carew Consulting

3rd floor 71 buitengraght Cape Town 8001

tel: 021 426 4051  fax: 021 426 5050  cell: 083 335 9365

 <mailto:bayanda at pjc.co.za> bayanda at pjc.co.za    <http://www.pjc.co.za/>
www.pjc.co.za 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/0c4dd727/attachment.html>

From nicolas.roy at velux.com  Mon Jun 25 06:59:06 2012
From: nicolas.roy at velux.com (Nicolas Roy)
Date: Mon, 25 Jun 2012 15:59:06 +0200
Subject: [Radiance-general] 2012 Radiance Workshop
In-Reply-To: <000001cd52af$a63bbe20$f2b33a60$@pjc.co.za>
References: <000001cd52af$a63bbe20$f2b33a60$@pjc.co.za>
Message-ID: <OFD0201CAB.9EC20F5F-ONC1257A28.004C4132-C1257A28.004CD2BD@DMZ01.WEB>

Dear Bayanda,

Our website is ready and should be available online in the coming days - I 
will make a post on the mailing list when it is live. 

The event will take place on 12-14 September 2012 at the Royal Academy of 
Fine Arts, School of Architecture, in Copenhagen.

Best regards,
______________________________
Nicolas Roy
VELUX A/S
Daylight, Energy & Indoor Climate
?dalsvej 99
DK-2970 H?rsholm

Telephone office:
+45 45 16 40 00

Telephone direct:
+45 45 16 47 60

Telephone mobile:
+45 24 47 06 58

@
nicolas.roy at VELUX.com

www
www.velux.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/16fbaf86/attachment.html>

From FCantin at coarchitecture.com  Mon Jun 25 10:23:22 2012
From: FCantin at coarchitecture.com (=?utf-8?B?RnJhbsOnb2lzIENhbnRpbg==?=)
Date: Mon, 25 Jun 2012 13:23:22 -0400
Subject: [Radiance-general] Generate a Radiance picture using rtrace instead
	of rpict under Windows
Message-ID: <F26BAA4A842DD94083472A0D31EBBB9933FCD1DCA4@SRVHJA02.hja.local>

Hi,

I?m working through Axel Jacobs' excellent 'rtcontrib' tutorial and I want to generate a Radiance picture using rtrace instead of rpict. For your information, I'm under Windows 7 with the latest Radiance binaries downloaded from the NREL Openstudio website:  http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance

When I try this:
vwrays ?ff ?vf view1.vf ?x 1024 ?y 1024 | rtrace ?vwrays ?d ?vf view1.vf ?x 1024 ?y 1024? ?ffc scene.oct > view1.hdr

I obtain this error message:
rtrace: fatal - command line error at 'vwrays'

Then I use double quotes...
vwrays ?ff ?vf view1.vf ?x 1024 ?y 1024 | rtrace "vwrays ?d ?vf view1.vf ?x 1024 ?y 1024" ?ffc scene.oct > view1.hdr

...and I obtain this error message:
rtrace: fatal - command line error at 'vwrays ?d ?vf view1.vf ?x 1024 ?y 1024'


Any advice on how to solve or work around this problem would be greatly appreciated !


Thanks in advance,


Fran?ois Cantin


stagiaire en architecture, M Arch, MSc Arch
[cid:coarchitecture3-reduit29.jpg]
1175, Lavigerie, bureau 400, Qu?bec, Qc,  G1V 4P1
T (418) 653 8484 #224, F (418) 653-6189
E fcantin at coarchitecture.com<http://fcantin at coarchitecture.com>
http://www.coarchitecture.com

Ce message ?lectronique de m?me que tous les fichiers attach?s qu'il contient sont confidentiels et destin?s exclusivement ? l'usage de la personne ? laquelle ils sont adress?s. Si vous avez re?u ce message par erreur, merci de le retourner ? son ?metteur. La publication, l'usage, la distribution, l'impression ou la copie non autoris?e de ce message et des pi?ces jointes qu'il contient sont strictement interdits.
This e-mail and any files transmitted with it are confidential and intended solely for the use of the individual to whom it is addressed. If you have received this email in error please send it back to the person that sent it to you. Unauthorized publication, use, dissemination, forwarding, printing or copying of this email and its associated attachments is strictly prohibited.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/6f7229a3/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: coarchitecture3-reduit29.jpg
Type: image/jpeg
Size: 19588 bytes
Desc: coarchitecture3-reduit29.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/6f7229a3/attachment-0001.jpg>

From Robert.Guglielmetti at nrel.gov  Mon Jun 25 10:37:53 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 25 Jun 2012 11:37:53 -0600
Subject: [Radiance-general] Generate a Radiance picture using rtrace
 instead	of rpict under Windows
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB9933FCD1DCA4@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB9933FCD1DCA4@SRVHJA02.hja.local>
Message-ID: <FFF56A6D37A3A54F91A03601AC22DA3224CD19F528@MAILBOX2.nrel.gov>

Hi Francois,

Yeah, Windows doesn?t always support some of the more elegant ways we can shuttle input and output around to unix programs.  Here?s a snippet of Ruby code from the OpenStudio Radiance daylight sim program, which uses rtcontrib as well. You can see that if running on Windows, the script does the vwrays call and stores it as a variable (vwrays_out) and then passes that in, later. If running on Mac or Linux, the second command takes the form of Akel?s from his tutorial.

puts "computing daylight coefficients for #{space_name}"
            view_def = ""
            dims = options.dims
           view_def ="-x #{dims} -y #{dims} -vf #{Dir.pwd}/numeric/#{space_name}.sns"
            if /mswin/.match(RUBY_PLATFORM) or /mingw/.match(RUBY_PLATFORM)
              vwrays_out = `vwrays -d #{view_def}`.strip
              exec_statement("vwrays -ff #{view_def} | rtcontrib #{rtrace_args = "#{opts_map}"} -V- -fo -ffc #{vwrays_out} -f tregenza.cal -bn 146 -b tbin -o #{binDir}/#{space_name}_treg%03d.hdr -m skyglow model_dc.oct")
            else
              exec_statement("vwrays -ff #{view_def} | rtcontrib #{rtrace_args} -n #{simCores} -V- -fo -ffc $(vwrays -d #{view_def}) -f tregenza.cal -bn 146 -b tbin -o #{binDir}/#{space_name}treg%03d.hdr -m skyglow model_dc.oct")

I hate to suggest another dependency to make this work, but that?s how we did it for our purposes. Maybe some savvy Windows users know a workaround that can be employed directly in the Windows shell. ?


-          Rob



From: Fran?ois Cantin [mailto:FCantin at coarchitecture.com]
Sent: Monday, June 25, 2012 11:23 AM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Generate a Radiance picture using rtrace instead of rpict under Windows

Hi,

I?m working through Axel Jacobs' excellent 'rtcontrib' tutorial and I want to generate a Radiance picture using rtrace instead of rpict. For your information, I'm under Windows 7 with the latest Radiance binaries downloaded from the NREL Openstudio website:  http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance

When I try this:
vwrays ?ff ?vf view1.vf ?x 1024 ?y 1024 | rtrace ?vwrays ?d ?vf view1.vf ?x 1024 ?y 1024? ?ffc scene.oct > view1.hdr

I obtain this error message:
rtrace: fatal - command line error at 'vwrays'

Then I use double quotes...
vwrays ?ff ?vf view1.vf ?x 1024 ?y 1024 | rtrace "vwrays ?d ?vf view1.vf ?x 1024 ?y 1024" ?ffc scene.oct > view1.hdr

...and I obtain this error message:
rtrace: fatal - command line error at 'vwrays ?d ?vf view1.vf ?x 1024 ?y 1024'


Any advice on how to solve or work around this problem would be greatly appreciated !


Thanks in advance,


Fran?ois Cantin

stagiaire en architecture, M Arch, MSc Arch

[cid:image001.jpg at 01CD52C6.73926A70]

1175, Lavigerie, bureau 400, Qu?bec, Qc,  G1V 4P1

T (418) 653 8484 #224, F (418) 653-6189

E fcantin at coarchitecture.com<http://fcantin at coarchitecture.com>

http://www.coarchitecture.com


Ce message ?lectronique de m?me que tous les fichiers attach?s qu'il contient sont confidentiels et destin?s exclusivement ? l'usage de la personne ? laquelle ils sont adress?s. Si vous avez re?u ce message par erreur, merci de le retourner ? son ?metteur. La publication, l'usage, la distribution, l'impression ou la copie non autoris?e de ce message et des pi?ces jointes qu'il contient sont strictement interdits.
This e-mail and any files transmitted with it are confidential and intended solely for the use of the individual to whom it is addressed. If you have received this email in error please send it back to the person that sent it to you. Unauthorized publication, use, dissemination, forwarding, printing or copying of this email and its associated attachments is strictly prohibited.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/5e9fb8c9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 19588 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/5e9fb8c9/attachment-0001.jpg>

From gregoryjward at gmail.com  Mon Jun 25 10:41:43 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 25 Jun 2012 10:41:43 -0700
Subject: [Radiance-general] Generate a Radiance picture using rtrace
	instead of rpict under Windows
In-Reply-To: <F26BAA4A842DD94083472A0D31EBBB9933FCD1DCA4@SRVHJA02.hja.local>
References: <F26BAA4A842DD94083472A0D31EBBB9933FCD1DCA4@SRVHJA02.hja.local>
Message-ID: <CF2D1A6A-FAFE-4D23-9813-C1FBECEC6961@lmi.net>

Hi Fran?ois,

The trouble is that Windows doesn't support command-output-as-parameter, so just run "vwrays -d -vf view1.vf -x 1024 -y 1024" on a separate command, then paste the output onto the rtrace command line.

-Greg

> From: Fran?ois Cantin <FCantin at coarchitecture.com>
> Date: June 25, 2012 10:23:22 AM PDT
> 
> Hi,
>  
> I?m working through Axel Jacobs' excellent 'rtcontrib' tutorial and I want to generate a Radiance picture using rtrace instead of rpict. For your information, I'm under Windows 7 with the latest Radiance binaries downloaded from the NREL Openstudio website:  http://openstudio.nrel.gov/getting-started-developer/getting-started-radiance
>  
> When I try this:
> vwrays ?ff ?vf view1.vf ?x 1024 ?y 1024 | rtrace ?vwrays ?d ?vf view1.vf ?x 1024 ?y 1024? ?ffc scene.oct > view1.hdr
>  
> I obtain this error message:
> rtrace: fatal - command line error at 'vwrays'
>  
> Then I use double quotes...
> vwrays ?ff ?vf view1.vf ?x 1024 ?y 1024 | rtrace "vwrays ?d ?vf view1.vf ?x 1024 ?y 1024" ?ffc scene.oct > view1.hdr
>  
> ...and I obtain this error message:
> rtrace: fatal - command line error at 'vwrays ?d ?vf view1.vf ?x 1024 ?y 1024'
>  
>  
> Any advice on how to solve or work around this problem would be greatly appreciated !
>  
>  
> Thanks in advance,
>  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120625/c80d0f86/attachment.html>

From robertfranke at gmx.de  Wed Jun 27 14:41:26 2012
From: robertfranke at gmx.de (Robert Franke)
Date: Wed, 27 Jun 2012 23:41:26 +0200
Subject: [Radiance-general] calculation of one reflection (rtrace)
Message-ID: <4FEB7E06.30504@gmx.de>

Hi,

I try to understand how RADIANCE calculate the radiance values, but the 
specular value for one reflection isn't clear.
I understand, that  the diffuse value is independent of view. On point 
P_r=(0 1 1)  I got from rtrace for the red channel 0.22361, I calculated:

R_r_light=100
sphere_radius=0.5
distance=2.2360
rho_surf1=0.1
cos(63,43) = light incoming angle

R_r(0,1,1) = R_r_light * (sphere_radius)? / (distance)? * cos (63,43) * 
rho_surf1 = 0.223606797.

Ok, this value is fine, but what will happen if I look from (0 -1 1) to 
(0 1 -1) at point (0, 0, 0), I thought  this, but it didn't work:

distance=3
rho_mirr=0.3
diff=0.9
spec=0.1
cos(45) = reflected light - observer angle
P_r=0.22361

R_r(0,0,0) = R_r_light * (sphere_radius)? / (distance)? * rho_mirr * 
diff + spec * P_r * cos(45) = 0.765811388

rtrace = 0.76517

Can somebody explain how the specular component is calculated on my test 
scene? I do not get it...

Here is my test scene:

######materials.rad######
void plastic mirr
0
0
5 .3 .2 .1 0.1 0

void plastic surf1
0
0
5 .1 .1 .1 0 0

void light lighty20
0
0
3 100 150 200

######test.rad######
mirr polygon plate1
0
0
12
-1 -1 0
  1 -1 0
  1  1 0
-1  1 0

surf1 polygon plate2
0
0
12
-1  1 0
-1  1 3
  1  1 3
  1  1 0

lighty20 sphere light_s
0
0
4 0 0 3 0.5


From RFritz at lbl.gov  Wed Jun 27 15:51:52 2012
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed, 27 Jun 2012 15:51:52 -0700
Subject: [Radiance-general] Divide by zero in luminaire model / brightdata
Message-ID: <jsg2q7$qfa$1@dough.gmane.org>

I'm getting the following error messages from a luminaire model:
  rpict: warning - compute error for brightdata "luminaire_pendant3_CB087_dist"
  rpict: Division by zero

I'm going to dig into this further - I didn't build the model, and 
there may be something really obvious wrong with it - but I was 
wondering if anyone has seen anything like it, and has any tips.
-- 
Randolph M. Fritz




From gregoryjward at gmail.com  Wed Jun 27 16:30:18 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 27 Jun 2012 16:30:18 -0700
Subject: [Radiance-general] calculation of one reflection (rtrace)
In-Reply-To: <4FEB7E06.30504@gmx.de>
References: <4FEB7E06.30504@gmx.de>
Message-ID: <E2666296-E63D-4904-B702-A1E544BC0D24@lmi.net>

Hi Robert,

There is a Fresnel correction that puts more energy into the specular component at low angles, and even though 45 degrees isn't a very low angle, your differences are in the 4th significant digit.  I think this is the source of the discrepancy.

-Greg

> From: Robert Franke <robertfranke at gmx.de>
> Date: June 27, 2012 2:41:26 PM PDT
> 
> Hi,
> 
> I try to understand how RADIANCE calculate the radiance values, but the specular value for one reflection isn't clear.
> I understand, that  the diffuse value is independent of view. On point P_r=(0 1 1)  I got from rtrace for the red channel 0.22361, I calculated:
> 
> R_r_light=100
> sphere_radius=0.5
> distance=2.2360
> rho_surf1=0.1
> cos(63,43) = light incoming angle
> 
> R_r(0,1,1) = R_r_light * (sphere_radius)? / (distance)? * cos (63,43) * rho_surf1 = 0.223606797.
> 
> Ok, this value is fine, but what will happen if I look from (0 -1 1) to (0 1 -1) at point (0, 0, 0), I thought  this, but it didn't work:
> 
> distance=3
> rho_mirr=0.3
> diff=0.9
> spec=0.1
> cos(45) = reflected light - observer angle
> P_r=0.22361
> 
> R_r(0,0,0) = R_r_light * (sphere_radius)? / (distance)? * rho_mirr * diff + spec * P_r * cos(45) = 0.765811388
> 
> rtrace = 0.76517
> 
> Can somebody explain how the specular component is calculated on my test scene? I do not get it...
> 
> Here is my test scene:
> 
> ######materials.rad######
> void plastic mirr
> 0
> 0
> 5 .3 .2 .1 0.1 0
> 
> void plastic surf1
> 0
> 0
> 5 .1 .1 .1 0 0
> 
> void light lighty20
> 0
> 0
> 3 100 150 200
> 
> ######test.rad######
> mirr polygon plate1
> 0
> 0
> 12
> -1 -1 0
> 1 -1 0
> 1  1 0
> -1  1 0
> 
> surf1 polygon plate2
> 0
> 0
> 12
> -1  1 0
> -1  1 3
> 1  1 3
> 1  1 0
> 
> lighty20 sphere light_s
> 0
> 0
> 4 0 0 3 0.5
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Wed Jun 27 18:40:21 2012
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Wed, 27 Jun 2012 18:40:21 -0700
Subject: [Radiance-general] Divide by zero in luminaire model /
	brightdata
In-Reply-To: <CAGeuyFoxV++JNXYjsnwY9Zec-JPBYY0Y_j-wFowDFUi1omw=Tw@mail.gmail.com>
References: <jsg2q7$qfa$1@dough.gmane.org>
	<5107B1E5-D8DE-44D8-8C49-230789055B4C@lmi.net>
	<CAGeuyFoxV++JNXYjsnwY9Zec-JPBYY0Y_j-wFowDFUi1omw=Tw@mail.gmail.com>
Message-ID: <F620C265-6070-4EB9-819E-DCACF7D0EEF8@gmail.com>

Hi Randolph,

Looking at your files, the problem seems to be the usage of lboxcorr, which specifies in the comment at the beginning of source.cal requires that the impostor geometry be centered at the origin.  The xform command following genbox that someone created does not put the center at the origin.  You can correct for this by either switching the "lboxcorr" to the slightly less-accurate "boxcorr" variable, or adding a transform to your brightdata string arguments (-t 0 0 0.08).  The ies2rad program never outputs "lboxcorr" because of its finicky nature.

Best,
-Greg

> From: Randolph Fritz <rfritz at lbl.gov>
> Date: June 27, 2012 4:48:00 PM PDT
> 
> Thanks!
> 
> The .rad file was edited by the modeler; I've attached the edited files. I've also attached the straight output of ies2rad.
> 
> Randolph
> 
> On Wed, Jun 27, 2012 at 4:26 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi Randolph,
> 
> Can you send me the IES input file and the Radiance scene file produced by ies2rad?  Also, find and send your "source.cal" file from the RAYPATH library location.
> 
> -Greg
> 
> > From: "Randolph M. Fritz" <RFritz at lbl.gov>
> > Date: June 27, 2012 3:51:52 PM PDT
> >
> > I'm getting the following error messages from a luminaire model:
> > rpict: warning - compute error for brightdata "luminaire_pendant3_CB087_dist"
> > rpict: Division by zero
> >
> > I'm going to dig into this further - I didn't build the model, and there may be something really obvious wrong with it - but I was wondering if anyone has seen anything like it, and has any tips.
> > --
> > Randolph M. Fritz
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120627/ddaaf51c/attachment.html>

From RFritz at lbl.gov  Wed Jun 27 18:47:57 2012
From: RFritz at lbl.gov (Randolph M. Fritz)
Date: Wed, 27 Jun 2012 18:47:57 -0700
Subject: [Radiance-general] Divide by zero in luminaire model /
	brightdata
References: <jsg2q7$qfa$1@dough.gmane.org>
	<F620C265-6070-4EB9-819E-DCACF7D0EEF8@gmail.com>
Message-ID: <jsgd4c$sdv$1@dough.gmane.org>

Thanks, Greg!

Looks like my first stab at this was wrong, so I really really 
appreciate the reply.

Randolph

On 2012-06-28 01:40:21 +0000, Gregory J. Ward said:

> Hi Randolph,
> 
> Looking at your files, the problem seems to be the usage of lboxcorr, 
> which specifies in the comment at the beginning of source.cal requires 
> that the impostor geometry be centered at the origin. ?The xform 
> command following genbox that someone created does not put the center 
> at the origin. ?You can correct for this by either switching the 
> "lboxcorr" to the slightly less-accurate "boxcorr" variable, or adding 
> a transform to your brightdata string arguments (-t 0 0 0.08). ?The 
> ies2rad program never outputs "lboxcorr" because of its finicky nature.
> 
> Best,
> -Greg
>>>> From: Randolph Fritz <rfritz at lbl.gov>
>>> Date: June 27, 2012 4:48:00 PM PDT
>> 
> Thanks!
> 
> The .rad file was edited by the modeler; I've attached the edited 
> files. I've also attached the straight output of ies2rad.
> 
> Randolph
> 
> On Wed, Jun 27, 2012 at 4:26 PM, Greg Ward 
> <gregoryjward at gmail.com> wrote:
> Hi Randolph,
> 
> Can you send me the IES input file and the Radiance scene file produced 
> by ies2rad? ?Also, find and send your "source.cal" file from the 
> RAYPATH library location.
> 
> -Greg
> 
> > From: "Randolph M. Fritz" <RFritz at lbl.gov>
> > Date: June 27, 2012 3:51:52 PM PDT
> >
> > I'm getting the following error messages from a luminaire model:
> > rpict: warning - compute error for brightdata "luminaire_pendant3_CB087_dist"
> > rpict: Division by zero
> >
> > I'm going to dig into this further - I didn't build the model, and 
> there may be something really obvious wrong with it - but I was 
> wondering if anyone has seen anything like it, and has any tips.
> > --
> > Randolph M. Fritz
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Randolph M. Fritz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120627/e502cb1b/attachment-0001.html>

From gregoryjward at gmail.com  Thu Jun 28 08:36:48 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 28 Jun 2012 08:36:48 -0700
Subject: [Radiance-general] Fwd: Access to Latest Research from Journal of
	Building Performance Simulation
References: <msg-20120628140057991290-17UmuISTF1MoOk-866846@msgfocus.com>
Message-ID: <81B3E2E3-368C-480C-AD7E-799186AAD4A8@lmi.net>

Good, general article on lighting simulation -- free to download for the next few months.

-Greg

Begin forwarded message:

> From: Journal of Building Performance Simulation <mail.dmancqzuaxvyiapn at tandf.msgfocus.com>
> Date: June 28, 2012 6:00:57 AM PDT
> To: gward at lmi.net
> Subject: Access to Latest Research from Journal of Building Performance Simulation
> 
> 
> 
>  Journal of Building Performance Simulation
> 
> 
> 
> Dear G Ward
> The following article from the latest issue of Journal of Building Performance Simulation has been selected by the Editors, Ian Beausoleil-Morrison and Jan Hensen , and is now free to access online until 30th September 2012:
> 
> State of the Art in Lighting Simulation for Building Science: A Literature Review 
> Carlos E. Ochoa, Myriam B.C. Aries & Jan L.M. Hensen
> 
> To read this article for free online simply follow the above link.
> 
> Journal of Building Performance Simulation is the Official journal of the International Building Performance Simulation Association (IBPSA), a non-profit international society of computational building performance simulation researchers, developers, practitioners and users, dedicated to improving the design, construction, operation and maintenance of new and existing buildings worldwide.
> 
> The Journal is now included in the Science Citation Index? and expected to receive its first Impact Factor in 2012. 
> 
> Best wishes
> Ben Hudson
> Taylor & Francis Journals
> 
> 
> 
> 
> 
> 
> 
>  
> To add our domain to your safe senders list, please click here
> http://tandf.msgfocus.com/n/18IMtVbnh3Yfn9J
> 
> If you would like to view this email online please click here
> http://tandf.msgfocus.com/q/18IMtVbnh3Yfn9J/wv
> 
>  If you would like to receive regular eUpdates from the Taylor & Francis Group on books, journals and other news within your areas of interest, please register your email address.
> 
> Set up content alerts simply by clicking on the Alert me link on the publication pages at www.tandfonline.com
> 
> You will be able to update your details or unsubscribe at any time. We respect your privacy and will not disclose, rent or sell your email address to any outside organisations.
>  
>  
> Copyright ? 2012 Taylor & Francis, an Informa Business
> Informa plc ("Informa") Registered Office: Mortimer House, 37-41 Mortimer Street, London, W1T 3JH.
> Registered in England and Wales - Number 3099067. 
> 
> If you wish to unsubscribe, please click on the link below.
> Please note this is an automated operation.
> http://tandf.msgfocus.com/u/18IMtVbnh3Yfn9J
>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120628/b5c6c756/attachment.html>

From shakespe at indiana.edu  Thu Jun 28 17:42:10 2012
From: shakespe at indiana.edu (Shakespeare, Robert A.)
Date: Fri, 29 Jun 2012 00:42:10 +0000
Subject: [Radiance-general] 2012 Radiance Workshop
In-Reply-To: <OFD0201CAB.9EC20F5F-ONC1257A28.004C4132-C1257A28.004CD2BD@DMZ01.WEB>
Message-ID: <CC127187.1770E%shakespe@indiana.edu>

Hi Nicolas,
I am trying to get this budget item settled within the annual budget which closes June 30. Any hotel, airport, conference fees info available now?

Thanks for taking this on?

-Rob Shakespeare

From: Nicolas Roy <nicolas.roy at velux.com<mailto:nicolas.roy at velux.com>>
Reply-To: Radiance general discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
Date: Monday, June 25, 2012 9:59 AM
To: Radiance general discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
Subject: Re: [Radiance-general] 2012 Radiance Workshop

Dear Bayanda,

Our website is ready and should be available online in the coming days - I will make a post on the mailing list when it is live.

The event will take place on 12-14 September 2012 at the Royal Academy of Fine Arts, School of Architecture, in Copenhagen.

Best regards,
______________________________
Nicolas Roy
VELUX A/S
Daylight, Energy & Indoor Climate
?dalsvej 99
DK-2970 H?rsholm
Telephone office:       +45 45 16 40 00
Telephone direct:       +45 45 16 47 60
Telephone mobile:       +45 24 47 06 58
@       nicolas.roy at VELUX.com<mailto:nicolas.roy at VELUX.com>
www     www.velux.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/65e2cf40/attachment.html>

From kskonis at gmail.com  Thu Jun 28 21:03:54 2012
From: kskonis at gmail.com (kyle konis)
Date: Thu, 28 Jun 2012 21:03:54 -0700
Subject: [Radiance-general] gendaylit error
Message-ID: <CAAzVHq08+8ewUG9YoLCoWK5Q_G=u3QhfV7JoS3==SDdgHfERmw@mail.gmail.com>

I have recently installed RADIANCE 4.1 on my mac (ver 10.7.4) and i
was, up until recently, merrily making my way through Axel's rtcontrib
lesson.


# I am getting stuck when trying to implement gendaylit . . .

# I have what i consider to be acceptable input to gendaylit:

kyle% gendaylit 6 24 11.5 -a 51.15 -o 0.18 -m -0 -W 159 447

# and the error message:

# gendaylit 6 24 11.5 -a 51.15 -o 0.18 -m 0 -W 159 447
file coeff_perez.dat cannot be opened
lect_coeff_perez does not work


# the direct normal value and diffuse horizontal value, along with the
day, month,  hour, latitude, longitude, and meridian, are from the
Gatwick epw file GBR_London.Gatwick.037760_IWEC.epw which is
considered by Axel (in his tutorial) to be of sufficient quality to
not produce gendaylit errors, and i think i am pulling realistic
weather values for that time, so i'm perplexed here. And i've tried a
few other times and values, but my guess is that it's not struggling
to make a sky model and giving up.

Is it a simple permission issue?
I've tried chmod 755 and chmod 644 to the coeff_perez.dat but it
already had acceptable permissions assigned to it.

is it a location issue?
the file is in /usr/local/ray/src/gen

is it a PATH issue? (here is from my env)

PATH=/Library/Frameworks/Python.framework/Versions/2.6/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/opt/local/bin:/opt/local/sbin:/usr/local/ray/bin

RAYPATH=.:/usr/local/ray/lib

MANPATH=/usr/share/man:/usr/local/share/man:/usr/X11/share/man:/opt/local/share/man:/usr/local/ray/doc/man


Any suggestions would be appreciated, as usual, it is probably
something very simple. . .

-Kyle


From rob.guglielmetti at gmail.com  Thu Jun 28 21:42:03 2012
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Thu, 28 Jun 2012 22:42:03 -0600
Subject: [Radiance-general] gendaylit error
In-Reply-To: <CAAzVHq08+8ewUG9YoLCoWK5Q_G=u3QhfV7JoS3==SDdgHfERmw@mail.gmail.com>
References: <CAAzVHq08+8ewUG9YoLCoWK5Q_G=u3QhfV7JoS3==SDdgHfERmw@mail.gmail.com>
Message-ID: <FDD519C2-3D7A-42D7-809F-E990755A7F14@gmail.com>

Hi Kyle,

How did you install Radiance? Reason I ask is that coeff_perez.dat usually makes its way from /usr/local/ray/src/gen into your library directory (which you are pointing to as /usr/local/ray/lib), but you mention your copy of this .dat file is still only located in the src subdirectory. Running Greg's makeall script or installing the Radiance binaries from the NREL download will place this file in the prescribed lib directory. 

- Rob



On Jun 28, 2012, at 10:03 PM, kyle konis wrote:

> I have recently installed RADIANCE 4.1 on my mac (ver 10.7.4) and i
> was, up until recently, merrily making my way through Axel's rtcontrib
> lesson.
> 
> 
> # I am getting stuck when trying to implement gendaylit . . .
> 
> # I have what i consider to be acceptable input to gendaylit:
> 
> kyle% gendaylit 6 24 11.5 -a 51.15 -o 0.18 -m -0 -W 159 447
> 
> # and the error message:
> 
> # gendaylit 6 24 11.5 -a 51.15 -o 0.18 -m 0 -W 159 447
> file coeff_perez.dat cannot be opened
> lect_coeff_perez does not work
> 
> 
> # the direct normal value and diffuse horizontal value, along with the
> day, month,  hour, latitude, longitude, and meridian, are from the
> Gatwick epw file GBR_London.Gatwick.037760_IWEC.epw which is
> considered by Axel (in his tutorial) to be of sufficient quality to
> not produce gendaylit errors, and i think i am pulling realistic
> weather values for that time, so i'm perplexed here. And i've tried a
> few other times and values, but my guess is that it's not struggling
> to make a sky model and giving up.
> 
> Is it a simple permission issue?
> I've tried chmod 755 and chmod 644 to the coeff_perez.dat but it
> already had acceptable permissions assigned to it.
> 
> is it a location issue?
> the file is in /usr/local/ray/src/gen
> 
> is it a PATH issue? (here is from my env)
> 
> PATH=/Library/Frameworks/Python.framework/Versions/2.6/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/opt/local/bin:/opt/local/sbin:/usr/local/ray/bin
> 
> RAYPATH=.:/usr/local/ray/lib
> 
> MANPATH=/usr/share/man:/usr/local/share/man:/usr/X11/share/man:/opt/local/share/man:/usr/local/ray/doc/man
> 
> 
> Any suggestions would be appreciated, as usual, it is probably
> something very simple. . .
> 
> -Kyle
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From kskonis at gmail.com  Thu Jun 28 22:39:40 2012
From: kskonis at gmail.com (kyle konis)
Date: Thu, 28 Jun 2012 22:39:40 -0700
Subject: [Radiance-general] gendaylit error
In-Reply-To: <CAAzVHq08+8ewUG9YoLCoWK5Q_G=u3QhfV7JoS3==SDdgHfERmw@mail.gmail.com>
References: <CAAzVHq08+8ewUG9YoLCoWK5Q_G=u3QhfV7JoS3==SDdgHfERmw@mail.gmail.com>
Message-ID: <CAAzVHq0PmkMd1ZNV9+p40FJ2HtEr9aoUEq-mt93V0BMcNYr-gQ@mail.gmail.com>

Hi Rob,

Thanks for the quick reply.  Indeed, you are correct, the issue was
solved temporarily buy copying coeff_perez.dat (and defangle.dat) into
/usr/local/ray/lib

Now the question is why where these files not there in the first place?

Most likely user error, as i have just recently installed Radiance
version 4.1, and have had some issues with installing Radiance over an
existing version (v4.0).

Perhaps in my haste during what ended up being multiple installs, i
was not thoroughly following the instructions here:

http://www.radiance-online.org:82/download-install/installation-information/mac-osx-1

###
Make the library files (dont forget the dot (.) before the /makeall !)

    cd /usr/local/ray
    ./makeall library

Be sure to specify /usr/local/ray/lib in the next step instead of the
default /usr/local/lib/ray:

    "Where do you want the library files [/usr/local/lib/ray]" <type
/usr/local/ray/lib - hit return>
###

Should the . . . .

./makeall library

 . . . command place coeff_perez.dat into my /usr/local/ray/lib   ?

I'll give it (the install) a try from scratch tomorrow . . .

-Kyle


From johnford at bb3.net.au  Thu Jun 28 23:48:44 2012
From: johnford at bb3.net.au (John Ford)
Date: Fri, 29 Jun 2012 16:48:44 +1000
Subject: [Radiance-general] rtcontrib- rotating the sky
Message-ID: <4D9F8275-D230-4A22-BCEA-4E53A921A268@bb3.net.au>

Hi, 

Is there a simple way of rotating the sky using rtcontrib? I'm using tregenza.cal, which, from the header of the file, has patch one at North and progresses eastwards for 30 patches.  I'd like to rotate the sky 8 degrees counterclockwise. I could rotate the objects and the views, but it would be nice to just move the sky. Is there a simple way to do this?

Thanks, 

John. 




From Raphael.Compagnon at hefr.ch  Fri Jun 29 00:49:37 2012
From: Raphael.Compagnon at hefr.ch (=?iso-8859-1?Q?Compagnon_Rapha=EBl?=)
Date: Fri, 29 Jun 2012 07:49:37 +0000
Subject: [Radiance-general] RE :  rtcontrib- rotating the sky
In-Reply-To: <4D9F8275-D230-4A22-BCEA-4E53A921A268@bb3.net.au>
References: <4D9F8275-D230-4A22-BCEA-4E53A921A268@bb3.net.au>
Message-ID: <A6691D7EACBAC74589C1134EB0758B7F02D9D840@HEFRMBX01.sofr.hefr.lan>

Hi,

As long as you keep the sky model into its own scene file (e.g. sky.rad), then it is easy to rotate it using xform.

For instance to rotate the sky 30 degrees towards the West which is equivalent of rotating the objects 30 degrees towards the East:

xfrom -rz 30 sky.rad >rotated_sky.rad

Of course you then also need to redo the octree

Raphael

From nicolas.roy at velux.com  Fri Jun 29 02:08:05 2012
From: nicolas.roy at velux.com (Nicolas Roy)
Date: Fri, 29 Jun 2012 11:08:05 +0200
Subject: [Radiance-general] 11th Radiance Workshop - Registration and Call
	for speakers
Message-ID: <OFDA7283CE.805889B2-ONC1257A2C.0031CBA9-C1257A2C.00322DD9@DMZ01.WEB>

Dear All,

The pages for registration and call for speakers for the 11th 
International Radiance Workshop are now open.

Please visit the event website 
http://www.radiance-online.org/radiance-workshop11/ to register yourself, 
and send us a short abstract if you wish to give a presentation at the 
workshop. 

We offer a 10% discount for early registration before 31 July 2012.

Best regards,

Nicolas 
nicolas.roy at velux.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/16a1a305/attachment-0001.html>

From robertfranke at gmx.de  Fri Jun 29 04:32:13 2012
From: robertfranke at gmx.de (Robert Franke)
Date: Fri, 29 Jun 2012 13:32:13 +0200
Subject: [Radiance-general] calculation of one reflection (rtrace)
In-Reply-To: <E2666296-E63D-4904-B702-A1E544BC0D24@lmi.net>
References: <4FEB7E06.30504@gmx.de>
	<E2666296-E63D-4904-B702-A1E544BC0D24@lmi.net>
Message-ID: <4FED923D.1040401@gmx.de>

Hi Greg,

I found the Fresnel correction on this paper, thanks for the hint:

http://radsite.lbl.gov/radiance/refer/materials.pdf

How does RADIANCE calculate the index of refrecation of plastic?

Thanks,
Rob

Am 28.06.2012 01:30, schrieb Greg Ward:
> Hi Robert,
>
> There is a Fresnel correction that puts more energy into the specular component at low angles, and even though 45 degrees isn't a very low angle, your differences are in the 4th significant digit.  I think this is the source of the discrepancy.
>
> -Greg
>
>> From: Robert Franke<robertfranke at gmx.de>
>> Date: June 27, 2012 2:41:26 PM PDT
>>
>> Hi,
>>
>> I try to understand how RADIANCE calculate the radiance values, but the specular value for one reflection isn't clear.
>> I understand, that  the diffuse value is independent of view. On point P_r=(0 1 1)  I got from rtrace for the red channel 0.22361, I calculated:
>>
>> R_r_light=100
>> sphere_radius=0.5
>> distance=2.2360
>> rho_surf1=0.1
>> cos(63,43) = light incoming angle
>>
>> R_r(0,1,1) = R_r_light * (sphere_radius)? / (distance)? * cos (63,43) * rho_surf1 = 0.223606797.
>>
>> Ok, this value is fine, but what will happen if I look from (0 -1 1) to (0 1 -1) at point (0, 0, 0), I thought  this, but it didn't work:
>>
>> distance=3
>> rho_mirr=0.3
>> diff=0.9
>> spec=0.1
>> cos(45) = reflected light - observer angle
>> P_r=0.22361
>>
>> R_r(0,0,0) = R_r_light * (sphere_radius)? / (distance)? * rho_mirr * diff + spec * P_r * cos(45) = 0.765811388
>>
>> rtrace = 0.76517
>>
>> Can somebody explain how the specular component is calculated on my test scene? I do not get it...
>>
>> Here is my test scene:
>>
>> ######materials.rad######
>> void plastic mirr
>> 0
>> 0
>> 5 .3 .2 .1 0.1 0
>>
>> void plastic surf1
>> 0
>> 0
>> 5 .1 .1 .1 0 0
>>
>> void light lighty20
>> 0
>> 0
>> 3 100 150 200
>>
>> ######test.rad######
>> mirr polygon plate1
>> 0
>> 0
>> 12
>> -1 -1 0
>> 1 -1 0
>> 1  1 0
>> -1  1 0
>>
>> surf1 polygon plate2
>> 0
>> 0
>> 12
>> -1  1 0
>> -1  1 3
>> 1  1 3
>> 1  1 0
>>
>> lighty20 sphere light_s
>> 0
>> 0
>> 4 0 0 3 0.5
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



From Robert.Guglielmetti at nrel.gov  Fri Jun 29 07:36:10 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 29 Jun 2012 08:36:10 -0600
Subject: [Radiance-general] gendaylit error
In-Reply-To: <CAAzVHq0PmkMd1ZNV9+p40FJ2HtEr9aoUEq-mt93V0BMcNYr-gQ@mail.gmail.com>
Message-ID: <CC1318F4.11FDC%robert.guglielmetti@nrel.gov>

If you just run the makeall script, it will ask you if you want to install
the lib files. Simply say yes and pick a location. Then make sure your
RAYPATH env variable matches that location and you should be good to go!
 

Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov





On 6/28/12 11:39 PM, "kyle konis" <kskonis at gmail.com> wrote:

>Hi Rob,
>
>Thanks for the quick reply.  Indeed, you are correct, the issue was
>solved temporarily buy copying coeff_perez.dat (and defangle.dat) into
>/usr/local/ray/lib
>
>Now the question is why where these files not there in the first place?
>
>Most likely user error, as i have just recently installed Radiance
>version 4.1, and have had some issues with installing Radiance over an
>existing version (v4.0).
>
>Perhaps in my haste during what ended up being multiple installs, i
>was not thoroughly following the instructions here:
>
>http://www.radiance-online.org:82/download-install/installation-informatio
>n/mac-osx-1
>
>###
>Make the library files (dont forget the dot (.) before the /makeall !)
>
>    cd /usr/local/ray
>    ./makeall library
>
>Be sure to specify /usr/local/ray/lib in the next step instead of the
>default /usr/local/lib/ray:
>
>    "Where do you want the library files [/usr/local/lib/ray]" <type
>/usr/local/ray/lib - hit return>
>###
>
>Should the . . . .
>
>./makeall library
>
> . . . command place coeff_perez.dat into my /usr/local/ray/lib   ?
>
>I'll give it (the install) a try from scratch tomorrow . . .
>
>-Kyle
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From amcneil at lbl.gov  Fri Jun 29 09:10:59 2012
From: amcneil at lbl.gov (Andrew McNeil)
Date: Fri, 29 Jun 2012 09:10:59 -0700
Subject: [Radiance-general] RE : rtcontrib- rotating the sky
In-Reply-To: <A6691D7EACBAC74589C1134EB0758B7F02D9D840@HEFRMBX01.sofr.hefr.lan>
References: <4D9F8275-D230-4A22-BCEA-4E53A921A268@bb3.net.au>
	<A6691D7EACBAC74589C1134EB0758B7F02D9D840@HEFRMBX01.sofr.hefr.lan>
Message-ID: <CAOG+NixdBqA9p8mCiWd5dOBKvjz_0Q5H9+11_VZ09fUmsHZqAg@mail.gmail.com>

xform is the right way to do it, but you don't rotate the sky in your
octree because with rtcontrib the bins are determined by ray direction and
the luminance is applied later using dctimestep.  Instead rotate the sky
that you pass to genskyvec like so:

gensky/gendaylit <options> | xform -rz 8 | genskyvec -m 1 | dctimestep
<rtcontrib result>



On Fri, Jun 29, 2012 at 12:49 AM, Compagnon Rapha?l <
Raphael.Compagnon at hefr.ch> wrote:

> Hi,
>
> As long as you keep the sky model into its own scene file (e.g. sky.rad),
> then it is easy to rotate it using xform.
>
> For instance to rotate the sky 30 degrees towards the West which is
> equivalent of rotating the objects 30 degrees towards the East:
>
> xfrom -rz 30 sky.rad >rotated_sky.rad
>
> Of course you then also need to redo the octree
>
> Raphael
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/35335c2d/attachment.html>

From gregoryjward at gmail.com  Fri Jun 29 09:19:01 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 29 Jun 2012 09:19:01 -0700
Subject: [Radiance-general] gendaylit error
In-Reply-To: <CAAzVHq0PmkMd1ZNV9+p40FJ2HtEr9aoUEq-mt93V0BMcNYr-gQ@mail.gmail.com>
References: <CAAzVHq08+8ewUG9YoLCoWK5Q_G=u3QhfV7JoS3==SDdgHfERmw@mail.gmail.com>
	<CAAzVHq0PmkMd1ZNV9+p40FJ2HtEr9aoUEq-mt93V0BMcNYr-gQ@mail.gmail.com>
Message-ID: <A7879096-1174-4E80-B2DC-7052DF9D81DB@lmi.net>

Hi Kyle,

You are correct, the "makeall library" command was the culprit.  Before gendaylit was added, none of the auxiliary files had the *.dat suffix, so these weren't copied by this command.  I have corrected this oversight now, thanks to you.

Best,
-Greg


> From: kyle konis <kskonis at gmail.com>
> Date: June 28, 2012 10:39:40 PM PDT
> 
> Hi Rob,
> 
> Thanks for the quick reply.  Indeed, you are correct, the issue was
> solved temporarily buy copying coeff_perez.dat (and defangle.dat) into
> /usr/local/ray/lib
> 
> Now the question is why where these files not there in the first place?
> 
> Most likely user error, as i have just recently installed Radiance
> version 4.1, and have had some issues with installing Radiance over an
> existing version (v4.0).
> 
> Perhaps in my haste during what ended up being multiple installs, i
> was not thoroughly following the instructions here:
> 
> http://www.radiance-online.org:82/download-install/installation-information/mac-osx-1
> 
> ###
> Make the library files (dont forget the dot (.) before the /makeall !)
> 
>    cd /usr/local/ray
>    ./makeall library
> 
> Be sure to specify /usr/local/ray/lib in the next step instead of the
> default /usr/local/lib/ray:
> 
>    "Where do you want the library files [/usr/local/lib/ray]" <type
> /usr/local/ray/lib - hit return>
> ###
> 
> Should the . . . .
> 
> ./makeall library
> 
> . . . command place coeff_perez.dat into my /usr/local/ray/lib   ?
> 
> I'll give it (the install) a try from scratch tomorrow . . .
> 
> -Kyle


From gregoryjward at gmail.com  Fri Jun 29 09:28:55 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 29 Jun 2012 09:28:55 -0700
Subject: [Radiance-general] calculation of one reflection (rtrace)
In-Reply-To: <4FED923D.1040401@gmx.de>
References: <4FEB7E06.30504@gmx.de>
	<E2666296-E63D-4904-B702-A1E544BC0D24@lmi.net>
	<4FED923D.1040401@gmx.de>
Message-ID: <B82DF329-66D1-4C80-A9E6-91316811A6A2@lmi.net>

Hi Rob,

You really need to refer to the code if you want this level of detail.  The paper you mention talks about Fresnel reflection, but these formulae are only applied for glass and dielectric.  Plastic uses an approximation developed independently by myself and another researcher, Christoph Schlick:

	http://en.wikipedia.org/wiki/Schlick's_approximation

If you look in ray/src/rt/normal.c, you will find it there.

Best,
-Greg

> From: Robert Franke <robertfranke at gmx.de>
> Date: June 29, 2012 4:32:13 AM PDT
> 
> Hi Greg,
> 
> I found the Fresnel correction on this paper, thanks for the hint:
> 
> http://radsite.lbl.gov/radiance/refer/materials.pdf
> 
> How does RADIANCE calculate the index of refrecation of plastic?
> 
> Thanks,
> Rob
> 
> Am 28.06.2012 01:30, schrieb Greg Ward:
>> Hi Robert,
>> 
>> There is a Fresnel correction that puts more energy into the specular component at low angles, and even though 45 degrees isn't a very low angle, your differences are in the 4th significant digit.  I think this is the source of the discrepancy.
>> 
>> -Greg
>> 
>>> From: Robert Franke<robertfranke at gmx.de>
>>> Date: June 27, 2012 2:41:26 PM PDT
>>> 
>>> Hi,
>>> 
>>> I try to understand how RADIANCE calculate the radiance values, but the specular value for one reflection isn't clear.
>>> I understand, that  the diffuse value is independent of view. On point P_r=(0 1 1)  I got from rtrace for the red channel 0.22361, I calculated:
>>> 
>>> R_r_light=100
>>> sphere_radius=0.5
>>> distance=2.2360
>>> rho_surf1=0.1
>>> cos(63,43) = light incoming angle
>>> 
>>> R_r(0,1,1) = R_r_light * (sphere_radius)? / (distance)? * cos (63,43) * rho_surf1 = 0.223606797.
>>> 
>>> Ok, this value is fine, but what will happen if I look from (0 -1 1) to (0 1 -1) at point (0, 0, 0), I thought  this, but it didn't work:
>>> 
>>> distance=3
>>> rho_mirr=0.3
>>> diff=0.9
>>> spec=0.1
>>> cos(45) = reflected light - observer angle
>>> P_r=0.22361
>>> 
>>> R_r(0,0,0) = R_r_light * (sphere_radius)? / (distance)? * rho_mirr * diff + spec * P_r * cos(45) = 0.765811388
>>> 
>>> rtrace = 0.76517
>>> 
>>> Can somebody explain how the specular component is calculated on my test scene? I do not get it...
>>> 
>>> Here is my test scene:
>>> 
>>> ######materials.rad######
>>> void plastic mirr
>>> 0
>>> 0
>>> 5 .3 .2 .1 0.1 0
>>> 
>>> void plastic surf1
>>> 0
>>> 0
>>> 5 .1 .1 .1 0 0
>>> 
>>> void light lighty20
>>> 0
>>> 0
>>> 3 100 150 200
>>> 
>>> ######test.rad######
>>> mirr polygon plate1
>>> 0
>>> 0
>>> 12
>>> -1 -1 0
>>> 1 -1 0
>>> 1  1 0
>>> -1  1 0
>>> 
>>> surf1 polygon plate2
>>> 0
>>> 0
>>> 12
>>> -1  1 0
>>> -1  1 3
>>> 1  1 3
>>> 1  1 0
>>> 
>>> lighty20 sphere light_s
>>> 0
>>> 0
>>> 4 0 0 3 0.5
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From akrickx at integralgroup.com  Fri Jun 29 11:55:18 2012
From: akrickx at integralgroup.com (Alex Krickx)
Date: Fri, 29 Jun 2012 11:55:18 -0700
Subject: [Radiance-general] Manual Pages
Message-ID: <E9AD575374574E439EA4C93EC054103A014B23FBED94@vesuvius2.rumseyengineers.com>

Hi all,

I want to download a list of all the Radiance commands to add to my library. The compiled PDFs are dated 1994 and refer to rview not rvu. Is there a more recent compilation of these commands? If not, is there anything else I should be aware of that has changed for the commands?

I also downloaded the man_pages.tar.gz file with all the HTML pages of commands, but as they're separate files printing would be much more tedious. (FYI the original link is broken http://radsite.lbl.gov/radiance/refer/man_html.tar.gz)

Here is the complete PDF:
http://radsite.lbl.gov/radiance/refer/manpages.pdf

And here is the rvu manual page dated 2004
http://radiance-online.lbl.gov:82/learning/documentation/manual-pages/pdfs/rvu.pdf

If I'm going to print out 179 pages as an office reference manual, I want to make sure they're the right ones!

Thanks all for the feedback so far. The knowledge contained in this community is fantastic.

Kind regards,
Alex


Alex Krickx, LEED AP
Project Engineer
________________________________
I N T E G R A L
                          GROUP

427 13th Street, Oakland CA 94612
510 663 2070 x 247
akrickx at integralgroup.com<mailto:akrickx at integralgroup.com>
www.integralgroup.com<http://www.integralgroup.com/>

DEEP GREEN Engineering.
_______________________________

 [cid:image001.png at 01CD55E4.E59B7F50] <http://www.linkedin.com/groups?about=&gid=3830399>  [cid:image002.png at 01CD55E4.E59B7F50] <http://www.facebook.com/#!/pages/Integral-Group-Inc/213422145352140>  [cid:image003.png at 01CD55E4.E59B7F50] <http://twitter.com/#!/IntegralGroupCA>  [cid:image004.png at 01CD55E4.E59B7F50] <http://www.youtube.com/user/IntegralGroupOakland>  [cid:image007.jpg at 01CD55EE.0D955400] <http://www.integralgroup.com/>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/35a9dc1b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 2553 bytes
Desc: image001.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/35a9dc1b/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 2552 bytes
Desc: image002.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/35a9dc1b/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 2588 bytes
Desc: image003.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/35a9dc1b/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 2893 bytes
Desc: image004.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/35a9dc1b/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.jpg
Type: image/jpeg
Size: 967 bytes
Desc: image007.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/35a9dc1b/attachment-0001.jpg>

From Robert.Guglielmetti at nrel.gov  Fri Jun 29 12:51:55 2012
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 29 Jun 2012 13:51:55 -0600
Subject: [Radiance-general] Manual Pages
In-Reply-To: <E9AD575374574E439EA4C93EC054103A014B23FBED94@vesuvius2.rumseyengineers.com>
Message-ID: <CC136126.11FFE%robert.guglielmetti@nrel.gov>

If you use the NREL Radiance installers for MacOS or Linux, they place the manpages in a "man" subdirectory of the radiance install location. Just add that to your MANPATH variable, and you can pull up the latest manpages from the command line. I also just discovered that groff has been ported to Windows (http://gnuwin32.sourceforge.net/packages/groff.htm), so I will start including the manpage subdirectory in our Windows installers as well, and you can use the groff for Windows utility to read them. I highly recommend going this route rather then printing them all out, since you'll always be up to date, and save a few sheets of paper while you're at it.  I will be rebuilding the Radiance installers here soon, because there are some new features and bug fixes that I want to get out there (as well as the manpages for Windows users). I'll post an update here when they are live.


Rob Guglielmetti  IESNA, LEED AP
Commercial Buildings Research Group
National Renewable Energy Laboratory
15013 Denver West Parkway MS:RSF202
Golden, CO 80401
303.275.4319
robert.guglielmetti at nrel.gov


On 6/29/12 12:55 PM, "Alex Krickx" <akrickx at integralgroup.com<mailto:akrickx at integralgroup.com>> wrote:

Hi all,

I want to download a list of all the Radiance commands to add to my library. The compiled PDFs are dated 1994 and refer to rview not rvu. Is there a more recent compilation of these commands? If not, is there anything else I should be aware of that has changed for the commands?

I also downloaded the man_pages.tar.gz file with all the HTML pages of commands, but as they?re separate files printing would be much more tedious. (FYI the original link is broken http://radsite.lbl.gov/radiance/refer/man_html.tar.gz)

Here is the complete PDF:
http://radsite.lbl.gov/radiance/refer/manpages.pdf

And here is the rvu manual page dated 2004
http://radiance-online.lbl.gov:82/learning/documentation/manual-pages/pdfs/rvu.pdf

If I?m going to print out 179 pages as an office reference manual, I want to make sure they?re the right ones!

Thanks all for the feedback so far. The knowledge contained in this community is fantastic.

Kind regards,
Alex


Alex Krickx, LEED AP
Project Engineer
________________________________
I N T E G R A L
                          GROUP

427 13th Street, Oakland CA 94612
510 663 2070 x 247
akrickx at integralgroup.com<mailto:akrickx at integralgroup.com>
www.integralgroup.com<http://www.integralgroup.com/>

DEEP GREEN Engineering.
_______________________________

 [cid:image001.png at 01CD55E4.E59B7F50] <http://www.linkedin.com/groups?about=&gid=3830399> [cid:image002.png at 01CD55E4.E59B7F50] <http://www.facebook.com/#!/pages/Integral-Group-Inc/213422145352140>  [cid:image003.png at 01CD55E4.E59B7F50] <http://twitter.com/#!/IntegralGroupCA>  [cid:image004.png at 01CD55E4.E59B7F50] <http://www.youtube.com/user/IntegralGroupOakland> [cid:image007.jpg at 01CD55EE.0D955400] <http://www.integralgroup.com/>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 2553 bytes
Desc: image001.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/97e92fcc/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 2552 bytes
Desc: image002.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/97e92fcc/attachment-0001.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 2588 bytes
Desc: image003.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/97e92fcc/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 2893 bytes
Desc: image004.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/97e92fcc/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.jpg
Type: image/jpeg
Size: 967 bytes
Desc: image007.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/97e92fcc/attachment.jpg>

From amcneil at lbl.gov  Fri Jun 29 13:59:17 2012
From: amcneil at lbl.gov (Andrew McNeil)
Date: Fri, 29 Jun 2012 13:59:17 -0700
Subject: [Radiance-general] Manual Pages
In-Reply-To: <E9AD575374574E439EA4C93EC054103A014B23FBED94@vesuvius2.rumseyengineers.com>
References: <E9AD575374574E439EA4C93EC054103A014B23FBED94@vesuvius2.rumseyengineers.com>
Message-ID: <CAOG+NizZK14y4vJyi-Fue+tpqxYGh4sPCTRjdQEy4UYGrwsSAA@mail.gmail.com>

Hi Alex,

I've just updated the pdfs of all manpages (including the compilation pdf
at the top) to today's HEAD:
https://radiance-online.lbl.gov:447/learning/documentation/manual-pages/manual-pages

But I recommend Rob's suggestion.  It's much easier to type 'man genskyvec'
than it is to get out the binder and flip to the page you need.

Andy



On Fri, Jun 29, 2012 at 11:55 AM, Alex Krickx <akrickx at integralgroup.com>wrote:

> Hi all,****
>
> ** **
>
> I want to download a list of all the Radiance commands to add to my
> library. The compiled PDFs are dated 1994 and refer to rview not rvu. Is
> there a more recent compilation of these commands? If not, is there
> anything else I should be aware of that has changed for the commands? ****
>
> ** **
>
> I also downloaded the man_pages.tar.gz file with all the HTML pages of
> commands, but as they?re separate files printing would be much more
> tedious. (FYI the original link is broken
> http://radsite.lbl.gov/radiance/refer/man_html.tar.gz)****
>
> ** **
>
> Here is the complete PDF:****
>
> http://radsite.lbl.gov/radiance/refer/manpages.pdf****
>
> ** **
>
> And here is the rvu manual page dated 2004****
>
>
> http://radiance-online.lbl.gov:82/learning/documentation/manual-pages/pdfs/rvu.pdf
> ****
>
> ** **
>
> If I?m going to print out 179 pages as an office reference manual, I want
> to make sure they?re the right ones!****
>
> ** **
>
> Thanks all for the feedback so far. The knowledge contained in this
> community is fantastic.****
>
> ** **
>
> Kind regards,****
>
> Alex****
>
> ** **
>
> ** **
>
> *Alex Krickx, LEED AP*
> Project Engineer**
>
> *________________________________*****
>
> I N T E G R A L****
>
> *                         ** **GROUP*****
>
> ** **
>
> 427 13th Street, Oakland CA 94612
> 510 663 2070 x 247****
>
> akrickx at integralgroup.com
> www.integralgroup.com****
>
> ** **
>
> *DEEP GREEN Engineering.*
>
> *_______________________________*
>
> ** **
>
>  [image: Description: linkedin]<http://www.linkedin.com/groups?about=&gid=3830399> [image:
> Description: facebook]<http://www.facebook.com/#!/pages/Integral-Group-Inc/213422145352140>
>  [image: Description: twitter] <http://twitter.com/#!/IntegralGroupCA> [image:
> Description: youtube] <http://www.youtube.com/user/IntegralGroupOakland> [image:
> Description: Sphere_Green] <http://www.integralgroup.com/>****
>
> ** **
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120629/31dc4b53/attachment-0001.html>

From kskonis at gmail.com  Sat Jun 30 14:00:33 2012
From: kskonis at gmail.com (kyle konis)
Date: Sat, 30 Jun 2012 14:00:33 -0700
Subject: [Radiance-general] rtcontrib issue (stuck on p.16 of understanding
	rtcontrib tutorial)
Message-ID: <CAAzVHq2B4iG9SDdpVGZUstYdt3hZAtk1cZ7OLjOwbBVYCmJgKg@mail.gmail.com>

Having sorted out my Radiance v4.1 installation, i am proceeding along
in AXEL's rtcontrib tutorial and have encountered a bizarre error when
i try to render the 145 + 1 images (p.16) that make up the sky
hemisphere:

vwrays -ff $vw | rtcontrib @rtc.opt -ffc \
$(vwrays -d $vw) -V+ -f tregenza.cal -b tbin  \
-o images/patches/p%03d.hdr \
-m sky_glow testroom_whitesky.oct


All of the 146 images are about 1.4 MB, but when i try to open them in
Photosphere, i get the following error message :


"Truncated file: unexpected EOF (scanline 597)"


Is there something obvious i am missing here?

It appears that others have successfully worked their way through this
section, so perhaps again it is a setting on my machine.

However, i have SUCCEEDED in generating the 146 images for an interior
view from Andy's 3-phase tutorial (uses many of the same scene files)
as such:


vwrays -ff -vf views/back.vf -x 600 -y 600 | \
rtcontrib `vwrays -vf views/back.vf -x 600 -y 600 -d` -ffc \
-fo -o images/vmx/window_%03d.hdr \
-f cal/klems_int.cal -b kbinS -bn Nkbins -m windowlight \
-ab 2 -ad 1000 -ds .15 -lw 1e-4 model_vmx.oct


Any suggestions would be appreciated !

-Kyle


From gregoryjward at gmail.com  Sat Jun 30 14:47:35 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 30 Jun 2012 14:47:35 -0700
Subject: [Radiance-general] rtcontrib issue (stuck on p.16 of
	understanding rtcontrib tutorial)
In-Reply-To: <CAAzVHq2B4iG9SDdpVGZUstYdt3hZAtk1cZ7OLjOwbBVYCmJgKg@mail.gmail.com>
References: <CAAzVHq2B4iG9SDdpVGZUstYdt3hZAtk1cZ7OLjOwbBVYCmJgKg@mail.gmail.com>
Message-ID: <E6C8F33D-3731-4161-98A7-DA7F75B09C5F@lmi.net>

You need a -bn option.  The new version of rtcontrib (now called rcontrib) prints an error message when it's missing. The original version attempts to muddle through, but can create incomplete output in the process.

-Greg

> From: kyle konis <kskonis at gmail.com>
> Date: June 30, 2012 2:00:33 PM PDT
> 
> Having sorted out my Radiance v4.1 installation, i am proceeding along
> in AXEL's rtcontrib tutorial and have encountered a bizarre error when
> i try to render the 145 + 1 images (p.16) that make up the sky
> hemisphere:
> 
> vwrays -ff $vw | rtcontrib @rtc.opt -ffc \
> $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin  \
> -o images/patches/p%03d.hdr \
> -m sky_glow testroom_whitesky.oct
> 
> 
> All of the 146 images are about 1.4 MB, but when i try to open them in
> Photosphere, i get the following error message :
> 
> 
> "Truncated file: unexpected EOF (scanline 597)"
> 
> 
> Is there something obvious i am missing here?
> 
> It appears that others have successfully worked their way through this
> section, so perhaps again it is a setting on my machine.
> 
> However, i have SUCCEEDED in generating the 146 images for an interior
> view from Andy's 3-phase tutorial (uses many of the same scene files)
> as such:
> 
> 
> vwrays -ff -vf views/back.vf -x 600 -y 600 | \
> rtcontrib `vwrays -vf views/back.vf -x 600 -y 600 -d` -ffc \
> -fo -o images/vmx/window_%03d.hdr \
> -f cal/klems_int.cal -b kbinS -bn Nkbins -m windowlight \
> -ab 2 -ad 1000 -ds .15 -lw 1e-4 model_vmx.oct
> 
> 
> Any suggestions would be appreciated !
> 
> -Kyle
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From kskonis at gmail.com  Sat Jun 30 16:37:07 2012
From: kskonis at gmail.com (kyle konis)
Date: Sat, 30 Jun 2012 16:37:07 -0700
Subject: [Radiance-general] rtcontrib issue (stuck on p.16 of
 understanding rtcontrib tutorial)
In-Reply-To: <E6C8F33D-3731-4161-98A7-DA7F75B09C5F@lmi.net>
References: <CAAzVHq2B4iG9SDdpVGZUstYdt3hZAtk1cZ7OLjOwbBVYCmJgKg@mail.gmail.com>
	<E6C8F33D-3731-4161-98A7-DA7F75B09C5F@lmi.net>
Message-ID: <CAAzVHq2KrKJMWm5x3krdq3YF5edfndJ4Epb86gSTeAwWRhNdEA@mail.gmail.com>

I have added the -bn option and now have a good batch of sky subdivisions.

vwrays -ff $vw | rtcontrib -bn 146 @rtc.opt -ffc \
$(vwrays -d $vw) -V+ -f tregenza.cal -b tbin  \
-o images/patches/p%03d.hdr \
-m sky_glow testroom_whitesky.oct

and a nice visualization with Andy's previous response to Ji:

cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | \
dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr


...

I am still a bit confused regarding patch p000.hdr

When i attempt to open in Photosphere, i get :  "Cannot map HDR pixels
in MapSubimage"

Since the sky only needs 145 patches, the purpose of this p000.hdr is
a mystery.  (Although i recall reading something about is purpose late
last night . . .  a placeholder for the ground reflection if it is
added  . . . ?)


-Kyle


From gregoryjward at gmail.com  Sat Jun 30 16:51:11 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 30 Jun 2012 16:51:11 -0700
Subject: [Radiance-general] rtcontrib issue (stuck on p.16 of
	understanding rtcontrib tutorial)
In-Reply-To: <CAAzVHq2KrKJMWm5x3krdq3YF5edfndJ4Epb86gSTeAwWRhNdEA@mail.gmail.com>
References: <CAAzVHq2B4iG9SDdpVGZUstYdt3hZAtk1cZ7OLjOwbBVYCmJgKg@mail.gmail.com>
	<E6C8F33D-3731-4161-98A7-DA7F75B09C5F@lmi.net>
	<CAAzVHq2KrKJMWm5x3krdq3YF5edfndJ4Epb86gSTeAwWRhNdEA@mail.gmail.com>
Message-ID: <DAEF983F-E80B-49E6-B8A0-77A0D96BB454@lmi.net>

Hi Kyle,

Patch 0 is indeed the ground plane.  If you didn't specify a ground in your scene description (i.e., no source with negative-Z) then this will be black.  Photosphere doesn't know what to do when you give it a black HDR image.

-Greg

> From: kyle konis <kskonis at gmail.com>
> Date: June 30, 2012 4:37:07 PM PDT
> 
> I have added the -bn option and now have a good batch of sky subdivisions.
> 
> vwrays -ff $vw | rtcontrib -bn 146 @rtc.opt -ffc \
> $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin  \
> -o images/patches/p%03d.hdr \
> -m sky_glow testroom_whitesky.oct
> 
> and a nice visualization with Andy's previous response to Ji:
> 
> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | \
> dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr
> 
> 
> ...
> 
> I am still a bit confused regarding patch p000.hdr
> 
> When i attempt to open in Photosphere, i get :  "Cannot map HDR pixels
> in MapSubimage"
> 
> Since the sky only needs 145 patches, the purpose of this p000.hdr is
> a mystery.  (Although i recall reading something about is purpose late
> last night . . .  a placeholder for the ground reflection if it is
> added  . . . ?)
> 
> 
> -Kyle


From kskonis at gmail.com  Sat Jun 30 17:23:46 2012
From: kskonis at gmail.com (kyle konis)
Date: Sat, 30 Jun 2012 17:23:46 -0700
Subject: [Radiance-general] rtcontrib issue (stuck on p.16 of
 understanding rtcontrib tutorial)
In-Reply-To: <DAEF983F-E80B-49E6-B8A0-77A0D96BB454@lmi.net>
References: <CAAzVHq2B4iG9SDdpVGZUstYdt3hZAtk1cZ7OLjOwbBVYCmJgKg@mail.gmail.com>
	<E6C8F33D-3731-4161-98A7-DA7F75B09C5F@lmi.net>
	<CAAzVHq2KrKJMWm5x3krdq3YF5edfndJ4Epb86gSTeAwWRhNdEA@mail.gmail.com>
	<DAEF983F-E80B-49E6-B8A0-77A0D96BB454@lmi.net>
Message-ID: <CAAzVHq1M9bd9Z31O1jii-OxREe+m-Lbqy5oA8u4C5Ecvzf7EgA@mail.gmail.com>

noted, thanks

-Kyle

On Sat, Jun 30, 2012 at 4:51 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi Kyle,
>
> Patch 0 is indeed the ground plane. ?If you didn't specify a ground in your scene description (i.e., no source with negative-Z) then this will be black. ?Photosphere doesn't know what to do when you give it a black HDR image.
>
> -Greg
>
>> From: kyle konis <kskonis at gmail.com>
>> Date: June 30, 2012 4:37:07 PM PDT
>>
>> I have added the -bn option and now have a good batch of sky subdivisions.
>>
>> vwrays -ff $vw | rtcontrib -bn 146 @rtc.opt -ffc \
>> $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin ?\
>> -o images/patches/p%03d.hdr \
>> -m sky_glow testroom_whitesky.oct
>>
>> and a nice visualization with Andy's previous response to Ji:
>>
>> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | \
>> dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr
>>
>>
>> ...
>>
>> I am still a bit confused regarding patch p000.hdr
>>
>> When i attempt to open in Photosphere, i get : ?"Cannot map HDR pixels
>> in MapSubimage"
>>
>> Since the sky only needs 145 patches, the purpose of this p000.hdr is
>> a mystery. ?(Although i recall reading something about is purpose late
>> last night . . . ?a placeholder for the ground reflection if it is
>> added ?. . . ?)
>>
>>
>> -Kyle
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From hope.zh at gmail.com  Sat Jun 30 21:44:55 2012
From: hope.zh at gmail.com (Ji Zhang)
Date: Sun, 1 Jul 2012 12:44:55 +0800
Subject: [Radiance-general] rtcontrib issue (stuck on p.16 of
 understanding rtcontrib tutorial)
In-Reply-To: <CAAzVHq2KrKJMWm5x3krdq3YF5edfndJ4Epb86gSTeAwWRhNdEA@mail.gmail.com>
References: <CAAzVHq2B4iG9SDdpVGZUstYdt3hZAtk1cZ7OLjOwbBVYCmJgKg@mail.gmail.com>
	<E6C8F33D-3731-4161-98A7-DA7F75B09C5F@lmi.net>
	<CAAzVHq2KrKJMWm5x3krdq3YF5edfndJ4Epb86gSTeAwWRhNdEA@mail.gmail.com>
Message-ID: <CAD83LVJOGyUXPyFMt3RO9p9zLgv3QA3WSx4oX99ggOjATEUfLA@mail.gmail.com>

Dear list, following Kyle's post:

I was trying to render an image for the view from the back of the room
regarding the contribution from each of the 145 sky patches (Axel's
tutorial pp. 17)

The 146 individual sky patches hdr sterographic images are stored in the
"145_patches_rcontrib" directory.

Then I ran the following bash shell script:

DIMS=600
vw="-x $DIMS -y $DIMS -vf ./views/back.vf"
vwrays -ff $vw | rcontrib -bn 146 @./rtc.opt \
-fo -ffc $(vwrays -d $vw) -f tregenza.cal -b tbin \
-o ./145_patches_rcontrib/p%03d.hdr -m sky_glow \
-w ./testroom_whitesky.oct

Each of the 146 sky patch hdr images was replaced by a room view rendering.
However, some of the hdr images seem to have problem and can't be open with
PhotoSphere, such as p001-008, p024-038, p054-066, p080-090, p104-113,
p123-129, p137-140, and p144

May I ask if this is because no contribution from these specific sky
patches to the visible surfaces can be identified from this point of view
at the back of the room (e.g. the sky patch is "behind" the vertical window
plane judging from the change of the shadow pattern of the renderings) ?

Thanks!
- Ji


On Sun, Jul 1, 2012 at 7:37 AM, kyle konis <kskonis at gmail.com> wrote:

> I have added the -bn option and now have a good batch of sky subdivisions.
>
> vwrays -ff $vw | rtcontrib -bn 146 @rtc.opt -ffc \
> $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin  \
> -o images/patches/p%03d.hdr \
> -m sky_glow testroom_whitesky.oct
>
> and a nice visualization with Andy's previous response to Ji:
>
> cnt 146 | rcalc -e '$1=rand(recno);$2=rand(recno+.3);$3=rand(recno+.7)' | \
> dctimestep ./images/patches/p%03d.hdr > ./images/sky_colorcomb.hdr
>
>
> ...
>
> I am still a bit confused regarding patch p000.hdr
>
> When i attempt to open in Photosphere, i get :  "Cannot map HDR pixels
> in MapSubimage"
>
> Since the sky only needs 145 patches, the purpose of this p000.hdr is
> a mystery.  (Although i recall reading something about is purpose late
> last night . . .  a placeholder for the ground reflection if it is
> added  . . . ?)
>
>
> -Kyle
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120701/fda2771d/attachment-0001.html>

From gregoryjward at gmail.com  Sat Jun 30 22:33:20 2012
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 30 Jun 2012 22:33:20 -0700
Subject: [Radiance-general] rtcontrib issue (stuck on p.16 of
	understanding rtcontrib tutorial)
In-Reply-To: <CAD83LVJOGyUXPyFMt3RO9p9zLgv3QA3WSx4oX99ggOjATEUfLA@mail.gmail.com>
References: <CAAzVHq2B4iG9SDdpVGZUstYdt3hZAtk1cZ7OLjOwbBVYCmJgKg@mail.gmail.com>
	<E6C8F33D-3731-4161-98A7-DA7F75B09C5F@lmi.net>
	<CAAzVHq2KrKJMWm5x3krdq3YF5edfndJ4Epb86gSTeAwWRhNdEA@mail.gmail.com>
	<CAD83LVJOGyUXPyFMt3RO9p9zLgv3QA3WSx4oX99ggOjATEUfLA@mail.gmail.com>
Message-ID: <39B88170-4079-4C24-B4E2-2751323F747A@lmi.net>

You can check if an image is all-black by running "pextrem" on it and checking the output.

-Greg

> From: Ji Zhang <hope.zh at gmail.com>
> Date: June 30, 2012 9:44:55 PM PDT
> 
> Dear list, following Kyle's post:
> 
> I was trying to render an image for the view from the back of the room regarding the contribution from each of the 145 sky patches (Axel's tutorial pp. 17)
> 
> The 146 individual sky patches hdr sterographic images are stored in the "145_patches_rcontrib" directory.
> 
> Then I ran the following bash shell script:
> 
> DIMS=600
> vw="-x $DIMS -y $DIMS -vf ./views/back.vf"
> vwrays -ff $vw | rcontrib -bn 146 @./rtc.opt \
> -fo -ffc $(vwrays -d $vw) -f tregenza.cal -b tbin \
> -o ./145_patches_rcontrib/p%03d.hdr -m sky_glow \
> -w ./testroom_whitesky.oct
> 
> Each of the 146 sky patch hdr images was replaced by a room view rendering. However, some of the hdr images seem to have problem and can't be open with PhotoSphere, such as p001-008, p024-038, p054-066, p080-090, p104-113, p123-129, p137-140, and p144
> 
> May I ask if this is because no contribution from these specific sky patches to the visible surfaces can be identified from this point of view at the back of the room (e.g. the sky patch is "behind" the vertical window plane judging from the change of the shadow pattern of the renderings) ?
> 
> Thanks! 
> - Ji 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20120630/c3de298a/attachment.html>

