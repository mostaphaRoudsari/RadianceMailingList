From tito_ at MIT.EDU  Tue Jul  1 06:40:11 2014
From: tito_ at MIT.EDU (Christoph Reinhart)
Date: Tue, 1 Jul 2014 13:40:11 +0000
Subject: [Radiance-general] DIVA Day 2014 on Oct 2 in Seattle
Message-ID: <1B23446CBF250648A2FC775DE3FE7E80694688E7@OC11expo28.exchange.mit.edu>

Dear colleagues:
Chris Meek and Mehlika Inanici form the University of Washington will be generously hosting us for DIVA DAY 2014 on Oct 2 in Seattle. We are hoping that some of your will be able to join us.
Alstan, Christoph, Jeff, Jon and Kera

[http://api.ning.com:80/files/2qI9QjpEOxwT2FqzfHm04wfc53grcTDKID8RDJz9dFVnv-G8VT2OgO644aVrcuXr7cLjmZCcZ3E*vTf8Wf4SclDkEQo3iJQN/DIVADayBanner20141.jpg?width=750]<http://diva4rhino.com/diva-day-2014?xg_source=msg_mes_network>



DIVA Day is heading West!<http://diva4rhino.com/diva-day-2014?xg_source=msg_mes_network>

We are pleased to announce that the 3rd DIVA Day will be held in Seattle, Washington!

DIVA Day is a full-day event focused on the use of DIVA and associated simulation tools to improve and enhance design through performance-based workflows including presentations by practitioners and researchers at leading architectural, consulting, and engineering firms and universities. Conference sessions will include the introduction of new features by the DIVA Team, presentations of research and case studies by our speakers, and this year we will host a panel discussion on the evolving daylighting credits in codes and point systems like LEED v4. As always, the dinner following the event will provide excellent opportunities to meet and talk with speakers and other attendees.

Stay tuned for registration, program, speaker and travel information!

For more information, contact: kera at solemma.net<mailto:kera at solemma.net>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140701/737de229/attachment-0001.html>

From chris at christianhumann.com  Tue Jul  1 08:52:08 2014
From: chris at christianhumann.com (Christian Humann)
Date: Tue, 1 Jul 2014 08:52:08 -0700
Subject: [Radiance-general] HDR Sky Camera @ LBNL's Flexlab
In-Reply-To: <CAGhWmF7i0N-sWaQ6YypgLZf1EeF8fRCVcqWzXZBAtAwQqrqwHQ@mail.gmail.com>
References: <CAOG+NiyM4q-bfcUKAPdCGhbunO_CRw_110D8RC5SrkgW1=7OeA@mail.gmail.com>
	<CAGhWmF7sHniEKq_w35wpgEme-MriJTjXR5WXoU9gc_8HGk-Tcw@mail.gmail.com>
	<CAK+g53CUg2cQ-uPUkm6TXmimD9_a2ma24xawwgG+ABJPsWaqVw@mail.gmail.com>
	<CAEkFE9hV9R1SQri9tCLsPRTKDfMzqmYbYpmqa=+=8XktgF7F2g@mail.gmail.com>
	<CAOG+NiwrEoAp9gtqZDsXhjrANqSxggnd=ZXwhzJEb63xxopKfw@mail.gmail.com>
	<CAGhWmF6FK4tMawMEacXVcA0v4o5GRjCdUEwehW8Cz4FYJsUTTg@mail.gmail.com>
	<0C0B2933-AF1D-43EC-BA7B-D0343687C523@christianhumann.com>
	<CAGhWmF7i0N-sWaQ6YypgLZf1EeF8fRCVcqWzXZBAtAwQqrqwHQ@mail.gmail.com>
Message-ID: <A87DE6D7-66E2-4BDA-9C7A-9307D23A00C8@christianhumann.com>

Hi Joe,

Thank you for the references.

The HDR image by default is co-planar with the x and z axis with its surface normal pointing in the negative y direction.  You'll need to translate the image so that its surface normal is pointed down along the negative z axis and rotate it so that North is up when looking up towards zenith.

The groundglow description is actually not necessary and has no effect. If you wanted to define the ground for inclusion in a scene you could use the following:

void glow groundglow
0
0
4 .15 .15 .15 0    #(.15 .15 .15 = RGB values for the ground material)

groundglow source ground
0
0
4 0 0 -1 180 


I too have been getting lower values than the measured global horizontal illuminance.  I think the suggestions made made by Rob and Greg about using mksource and adjusting the subtended angle of the solar source may be the solution.  Not sure yet how to implement the latter but I will certainly keep you posted.

Cheers,
Chris

On Jun 30, 2014, at 10:26 PM, Joe Smith <the.oat.cracker at gmail.com> wrote:

> Hi Chris, 
> 
> Thank you very much for your reply, especially for reminding me the conversion of the unit between foot candela and lux!
> 
> May I ask the following questions?
> 
> 1. why the hdr fisheye image needs to be rotated along x axis for 90 degrees and along z axis for 180 degrees? using the fisheye.cal file as reference when defining the colorpict "skypict"? 
> 
> 2. why "skypict is used as a modifier to define the "glow" material "groundglow"? I thought usually this position is set as "void"
> 
> 
> Using your approach, I tried some other hdr image provided by your project, and it seems the global horizontal illuminance is always underestimated as compared to the one reported in the csv file. 
> 
> rubbing my head about this issue, and advices are greatly appreciated!
> 
> Regards,
> Joe
> 
> 
> 
> On Tue, Jul 1, 2014 at 3:06 AM, Christian Humann <chris at christianhumann.com> wrote:
> Hi Joe,
> 
> The global values in the CSV file are in footcandles so you will need to multiply them by 10.76 in order to get Lux.
> 
> Also, you'll need to add a source description for the sun in order to get the solar contribution as the camera sensor can not capture the intensity of the sun for the HDR image.  Essentially the HDR image allows you to get a close approximation of the global diffuse value.  I use gendaylit (see below) to generate the sun and sky scene. You can get the altitude, azimuth, direct-normal-illuminance and diffuse-horizontal-illuminance from the CSV file (be sure to multiply the latter two values by 10.76 to translate them from footcandles to Lux for input into Gendaylit). Also be sure to adjust your 'rtrace' results by dividing by 10.76 to get footcandles if you want to compare to the global-horizontal-illuminacne readings in the CSV file. 
> 
> ########Sun and Sky scene -----> global.rad
> !gendaylit -ang 45.41 85.92 -w -O 0 -L 80463.28 19916.76  |  xform -e -rz 0
> void colorpict skypict
> 11 red green blue 140621_1530.hdr fisheye.cal fish_u fish_v -rx 90 -rz 180
> 0
> 0
> 
> skypict glow skyglow
> 0
> 0
> 4 1 1 1 1
> 
> skyglow source sky
> 0
> 0
> 4 0 0 1 180
> 
> skypict glow groundglow
> 0
> 0
> 4 1 1 1 0
> 
> groundglow source ground
> 0
> 0
> 4 0 0 -1 180
> #########
> # 3. the cmd.sh file
> oconv ./global.rad > ./scene_empty.oct
> 
> echo '0 0 0 0 0 1' | rtrace -I -h -w -ab 1 -oov ./scene_empty.oct > ./results_position_irradiance_RGB_wm2.txt
> 
> cat ./results_position_irradiance_RGB_wm2.txt | rcalc -e '$1=179*(0.265*$4+0.670*$5+0.065*$6)/10.76' > ./results_illuminance_lux.txt
> ##########
> 
> When I run the above I get a global horizontal illuminance value from 'rtrace' of approx. 6900 footcandles.  The photometer gave a reading of 7176 footcandles.
> 
> 
> I'm still working my brain around all this as well and hope that these discussions will foster a better understanding of how to use the HDR images for the highest level of accuracy possible.
> 
> Hope this helps.
> 
> Best,
> Chris
> 
> 
> 
> 
> On Jun 28, 2014, at 10:06 AM, Joe Smith <the.oat.cracker at gmail.com> wrote:
> 
>> Hi, I found 2 references and did a test to generate HDR image-based rendering, steps are explained below. 
>> 
>> But I'm still rubbing my head to understand how the Cartesian coordinates or the postion vector of a point on the sky is transformed as UV coordinates of the fisheye image as shown in the "angmap.cal" file. So, advices are greatly appreciated!
>> 
>> Thanks!
>> Joe
>> 
>> 
>> References:
>> 1. Debevec, P. (2002). Image-based lighting. IEEE Computer Graphics and Applications, 22(2), 26-34. doi: 10.1109/38.988744 
>> 2. Au, P. Y. P. (2013). HDR Luminance Measurement: Comparing real and simulated data. (Master of Building Science Thesis), Victoria University of Wellington.   
>> 
>> 
>> Steps:
>> Step1. prepare the following 6 files and put them in the same folder
>> 
>> #### 1.1 geom.rad ################################################
>> red_plastic sphere ball
>> 0
>> 0 
>> 4 2 2 0.5 0.5
>> 
>> steel sphere ball1
>> 0
>> 0
>> 4 2 -2 0.5 0.5
>> 
>> gold sphere ball2
>> 0
>> 0
>> 4 -2 -2 0.5 0.5
>> 
>> white_matte sphere ball3 
>> 0
>> 0
>> 4 -2 2 0.5 0.5
>> 
>> crystal sphere ball4 
>> 0
>> 0
>> 4 0 0 1 1
>> 
>> !genbox gray_plastic pedestal_top 8 8 0.5 | xform -t -4 -4 -0.5
>> 
>> 
>> #### 1.2 materials.mat ################################################
>> void plastic red_plastic 
>> 0
>> 0
>> 5 .7 .1 .1 .06 .1
>> 
>> void metal steel
>> 0
>> 0
>> 5 0.6 0.62 0.68 1 0
>> 
>> void metal gold
>> 0
>> 0
>> 5 0.75 0.55 0.25 0.85 0.2
>> 
>> void plastic white_matte 
>> 0
>> 0
>> 5 .8 .8 .8 0 0
>> 
>> void dielectric crystal
>> 0
>> 0
>> 5 .5 .5 .5 1.5 0
>> 
>> void plastic black_matte
>> 0 
>> 0
>> 5 .02 .02 .02 .00 .00
>> 
>> void plastic gray_plastic 
>> 0
>> 0
>> 5 0.25 0.25 0.25 0.06 0.0
>> 
>> 
>> 
>> #### 1.3 sky_and_ground.rad ################################################
>> void colorpict hdr_image
>> 7 red green blue 140621_1530.hdr angmap.cal u v 
>> 0 
>> 0
>> 
>> hdr_image glow sky_glow
>> 0
>> 0
>> 4 1 1 1 0
>> 
>> sky_glow source HDR_sky 
>> 0
>> 0
>> 4 0 0 1 180
>> 
>> # ground
>> void glow ground_glow
>> 0
>> 0
>> 4 1 1 1 0
>> 
>> ground_glow source ground
>> 0
>> 0
>> 4 0 0 -1 180
>> 
>> 
>> #### 1.4 angmap.cal ################################################
>> { 
>> angmap.cal
>> 
>> Convert from directions in the world (Dx, Dy, Dz) into (u,v)
>> coordinates on the light probe image
>> 
>> +z is up (toward top of sphere, i.e. the zenith)
>> +y is North
>> }
>> 
>> d = sqrt(Dx*Dx + Dy*Dy);
>> 
>> r = acos(Dz)/PI;
>> 
>> u = 0.5 - Dx/d * r; 
>> v = 0.5 + Dy/d * r;
>> 
>> 
>> #### 1.5 view.vf ################################################
>> # looking towards east
>> #rvu -vtv -vp -12 0 0.5 -vd 1 0 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards west
>> #rvu -vtv -vp 12 0 0.5 -vd -1 0 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards north
>> rvu -vtv -vp 0 -12 0.5 -vd 0 1 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards south
>> #rvu -vtv -vp 0 12 0.5 -vd 0 -1 0 -vu 0 0 1 -vh 60 -vv 40
>> 
>> 
>> #### 1.6 cmd.sh ################################################
>> oconv ./materials.mat ./sky_and_ground.rad ./geom.rad > ./scene.oct
>> 
>> rvu -vf ./view.vf ./scene.oct
>> 
>> #ximage ./sky.hdr
>> 
>> rpict -x 2400 -y 2400 -t 30 -ab 1 -ar 50000 -aa 0.08 -ad 128 -as 64 -st 0 -lw 0 -lr 8 -vf ./view.vf ./scene.oct > ./image.hdr
>> 
>> pfilt -1 -x /3 -y /3 -r 1 ./image.hdr > ./image_filtered.hdr
>> 
>> 
>> Step2. put the 140621_1530.hdr file provided by LBNL (http://flexskycam.lbl.gov) in the same folder
>> 
>> Step3. run the cmd.sh batch file to produce the rendering
>> 
>> 
>> 
>> 
>> On Sat, Jun 28, 2014 at 7:28 AM, Andrew McNeil <amcneil at lbl.gov> wrote:
>> Hi All,
>> 
>> I haven't done any testing myself, I wanted to make the data available right away so that others could tinker too (and maybe make it easier for me).
>> 
>> Joe - You're correct that the HDR sky image essentially replaces the skyfunc modifier, here's a thread where Kyle was doing the same thing: http://www.radiance-online.org/pipermail/radiance-general/2012-October/008962.html 
>> 
>> Rob - In a clear sky condition our HDR images won't capture the full luminance of the sun. Mksource would be helpful to zero out the pixels, but the source that it makes won't be useful without adjusting the radiance of the source to match that of the sun.
>> 
>> Best,
>> Andy
>> 
>> 
>> 
>> 
>> On Fri, Jun 27, 2014 at 2:58 PM, Rob Guglielmetti <rob.guglielmetti at gmail.com> wrote:
>> Hi German, and everyone else. Certainly one could use these HDR images to generate sky vectors and apply them to daylight coefficients for a given model(s). Greg Ward has created a cool tool called mksource to facilitate this process in Radiance, identifying small, intense pixels in the image; creating and placing Radiance light sources in their stead, and zeroing the pixels to avoid double counting. 
>> 
>> Considerations: 
>> - Capturing the true (full) dynamic range of an exterior scene with direct sun is difficult. 
>> - Using locally-captured HDR images for daylight availability analysis is statistically dubious. Granted, so is using TMY data, for different reasons. This is why I changed the title of this list to "considerations", from "problems". =)
>> 
>> 
>> 
>> 
>> 
>> On Fri, Jun 27, 2014 at 3:38 PM, CHI-German Molina <gmolina at hdlao.com> wrote:
>> Wow, I have been thinking on doing this for a while... although I have no idea where to start from.
>> 
>> Is it possible to calculate the Daylight Coefficients of the building; and use the HDR image to generate sky vectors and calculate different options for optimizing daylighting? 
>> 
>> I am picturing a computer that, every 5 minutes, calculate the sky vector, computes the interior lighting conditions, and simulates the different lighting options performing a whole-building lighting control with no photo sensors. Even more, maybe a whole neighborhood could use the same camera. Nonsense?
>> 
>> Thanks for sharing!
>> 
>> 
>> 2014-06-27 0:59 GMT-04:00 Joe Smith <the.oat.cracker at gmail.com>:
>> Hi, Andy, thanks for sharing LBNL's sky mapping experiment! 
>> 
>> Can you kindly advice on resources that elaborate on how to use HDR sky image for daylight simulation? Does it involve specifying the HDR image, rather than a "skyfunc", as the material identifier for the sky geometry? How is the pixel value of a given point on the HDR image converted to luminance value of the corresponding position on the sky?  
>> 
>> Thanks! 
>> - Joe
>> 
>> Andrew McNeil <amcneil at lbl.gov>?2014?6?27???????
>> 
>> Hi Everyone,
>> 
>> LBNL has installed an HDR sky camera at our new FLEXLAB site: http://flexskycam.lbl.gov. I've uploaded sample data, including hdr images and csv datafiles, recorded by the camera for three days over the past week( clear, partly cloudy and overcast). We're happy to share more data with other researchers and daylight practitioners (but we don't have much to offer yet).
>> 
>> The images can be mapped to a Radiance sky for simulation under real sky conditions. I have not used the sky HDR images yet, myself, so if anybody uses them successfully please report back and share what you've done!
>> 
>> Questions about the camera hardware and capabilities should be directed to Chris Humann at Terrestrial Light.
>> 
>> Best,
>> Andy
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> 
>> 
>> -- 
>> Germ?n Molina L.
>> Ingeniero Trainee
>> Hunter Douglas Chile S.A.
>> Celular +569 89224445
>> 
>> Nota de Confidencialidad: Este mensaje inclu?do los archivos adjuntos son confidenciales y pueden contener informacion privilegiada protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes electronicos son susceptibles de ser cambiados, infectados o adulterados sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de cambios o sus consecuencias. Usted debe estar informado que la compania puede hacer un seguimiento de sus mensajes electronicos y su contenido, gracias.
>> 
>> Confidentiality Notice: The information contained in this email message, including any attachment, is confidential and is intended only for the person or entity to which it is addressed. If you are neither the intended recipient nor the employee or agent responsible for delivering this message to the intended recipient, you are hereby notified that you may not review, retransmit, convert to hard copy, copy, use or distribute this email message or any attachments to it. If you have received this email in error, please contact the sender immediately and delete this message from any computer or other data bank, Thank you.
>> 
>> A informa??o transmitida ? confidencial e para conhecimento exclusivo do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir responsabilidade por nenhuma perda ou dano causado por este e-mail ou de seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de antiv?rus antes de qualquer uso.
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140701/e3bd0341/attachment-0001.html>

From kskonis at gmail.com  Tue Jul  1 16:10:29 2014
From: kskonis at gmail.com (Kyle Konis)
Date: Tue, 1 Jul 2014 16:10:29 -0700
Subject: [Radiance-general] HDR Sky Camera @ LBNL's Flexlab
In-Reply-To: <A87DE6D7-66E2-4BDA-9C7A-9307D23A00C8@christianhumann.com>
References: <CAOG+NiyM4q-bfcUKAPdCGhbunO_CRw_110D8RC5SrkgW1=7OeA@mail.gmail.com>
	<CAGhWmF7sHniEKq_w35wpgEme-MriJTjXR5WXoU9gc_8HGk-Tcw@mail.gmail.com>
	<CAK+g53CUg2cQ-uPUkm6TXmimD9_a2ma24xawwgG+ABJPsWaqVw@mail.gmail.com>
	<CAEkFE9hV9R1SQri9tCLsPRTKDfMzqmYbYpmqa=+=8XktgF7F2g@mail.gmail.com>
	<CAOG+NiwrEoAp9gtqZDsXhjrANqSxggnd=ZXwhzJEb63xxopKfw@mail.gmail.com>
	<CAGhWmF6FK4tMawMEacXVcA0v4o5GRjCdUEwehW8Cz4FYJsUTTg@mail.gmail.com>
	<0C0B2933-AF1D-43EC-BA7B-D0343687C523@christianhumann.com>
	<CAGhWmF7i0N-sWaQ6YypgLZf1EeF8fRCVcqWzXZBAtAwQqrqwHQ@mail.gmail.com>
	<A87DE6D7-66E2-4BDA-9C7A-9307D23A00C8@christianhumann.com>
Message-ID: <CAAzVHq2LfEF7k1q2Asexzh4Du-jeTJd_pfqB4SUZ4BO1x=hiXQ@mail.gmail.com>

Following up here, (and on the referenced thread from about a year ago), i
did succeed in rendering some simple Radiance objects with HDR skies.

I have uploaded an example video here with the LBNL Skycam images (June 21,
2014 until about 10:40 AM) which was all I could process during the world
cup match:
http://performance-and-form.com/projects/rendering-digital-objects-with-high-dynamic-range-hdr-sky-images/

Thanks are due to Coralie Cauwerts for corresponding to provide me with the
proper .cal file for mapping hemispherical (rather than spherical) images.

The skies are used to render a chrome sphere sitting on a pedestal. You can
tell it is not a real object because it is outside for several hours and no
birds sit or poop on it. (Good luck HDR Skycam ! )

I have zipped all the files used to make the video and put them on the page
for download, as well as a few experiments i have made in manipulating
surfaces (either transmission or shading) in response to sky data from
Portland, Oregon using a Canon A570 with Stereo Data Maker used to automate
bracketed image acquisition (i have a plan to post the details for that, as
it is a very low-cost < $80 approach and will get to it).

let me know (offline) if there are issues downloading or executing the
files,

best,

-Kyle

-----------------------------------------------
Kyle Konis, AIA, Ph.D
Assistant Professor
School of Architecture, WAH 204
University of Southern California
Los Angeles, CA 90089-0291
http://arch.usc.edu/faculty/kkonis
-----------------------------------------------







On Tue, Jul 1, 2014 at 8:52 AM, Christian Humann <chris at christianhumann.com>
wrote:

> Hi Joe,
>
> Thank you for the references.
>
> The HDR image by default is co-planar with the x and z axis with its
> surface normal pointing in the negative y direction.  You'll need to
> translate the image so that its surface normal is pointed down along the
> negative z axis and rotate it so that North is up when looking up towards
> zenith.
>
> The groundglow description is actually not necessary and has no effect. If
> you wanted to define the ground for inclusion in a scene you could use the
> following:
>
> void glow groundglow
> 0
> 0
> 4 .15 .15 .15 0    #(.15 .15 .15 = RGB values for the ground material)
>
> groundglow source ground
> 0
> 0
> 4 0 0 -1 180
>
>
> I too have been getting lower values than the measured global horizontal
> illuminance.  I think the suggestions made made by Rob and Greg about using
> mksource and adjusting the subtended angle of the solar source may be the
> solution.  Not sure yet how to implement the latter but I will certainly
> keep you posted.
>
> Cheers,
> Chris
>
> On Jun 30, 2014, at 10:26 PM, Joe Smith <the.oat.cracker at gmail.com> wrote:
>
> Hi Chris,
>
> Thank you very much for your reply, especially for reminding me the
> conversion of the unit between foot candela and lux!
>
> May I ask the following questions?
>
> 1. why the hdr fisheye image needs to be rotated along x axis for 90
> degrees and along z axis for 180 degrees? using the fisheye.cal file as
> reference when defining the colorpict "skypict"?
>
> 2. why "skypict is used as a modifier to define the "glow" material
> "groundglow"? I thought usually this position is set as "void"
>
>
> Using your approach, I tried some other hdr image provided by your
> project, and it seems the global horizontal illuminance is always
> underestimated as compared to the one reported in the csv file.
>
> rubbing my head about this issue, and advices are greatly appreciated!
>
> Regards,
> Joe
>
>
>
> On Tue, Jul 1, 2014 at 3:06 AM, Christian Humann <
> chris at christianhumann.com> wrote:
>
>> Hi Joe,
>>
>> The global values in the CSV file are in footcandles so you will need to
>> multiply them by 10.76 in order to get Lux.
>>
>> Also, you'll need to add a source description for the sun in order to get
>> the solar contribution as the camera sensor can not capture the intensity
>> of the sun for the HDR image.  Essentially the HDR image allows you to get
>> a close approximation of the global diffuse value.  I use gendaylit (see
>> below) to generate the sun and sky scene. You can get the altitude,
>> azimuth, direct-normal-illuminance and diffuse-horizontal-illuminance from
>> the CSV file (be sure to multiply the latter two values by 10.76 to
>> translate them from footcandles to Lux for input into Gendaylit). Also be
>> sure to adjust your 'rtrace' results by dividing by 10.76 to get
>> footcandles if you want to compare to the global-horizontal-illuminacne
>> readings in the CSV file.
>>
>> ########Sun and Sky scene -----> global.rad
>> !gendaylit -ang 45.41 85.92 -w -O 0 -L 80463.28 19916.76  |  xform -e -rz
>> 0
>> void colorpict skypict
>> 11 red green blue 140621_1530.hdr fisheye.cal fish_u fish_v -rx 90 -rz 180
>> 0
>> 0
>>
>> skypict glow skyglow
>> 0
>> 0
>> 4 1 1 1 1
>>
>> skyglow source sky
>> 0
>> 0
>> 4 0 0 1 180
>>
>> skypict glow groundglow
>> 0
>> 0
>> 4 1 1 1 0
>>
>> groundglow source ground
>> 0
>> 0
>> 4 0 0 -1 180
>> #########
>> # 3. the cmd.sh file
>> oconv ./global.rad > ./scene_empty.oct
>>
>> echo '0 0 0 0 0 1' | rtrace -I -h -w -ab 1 -oov ./scene_empty.oct >
>> ./results_position_irradiance_RGB_wm2.txt
>>
>> cat ./results_position_irradiance_RGB_wm2.txt | rcalc -e
>> '$1=179*(0.265*$4+0.670*$5+0.065*$6)/10.76' > ./results_illuminance_lux.txt
>> ##########
>>
>> When I run the above I get a global horizontal illuminance value from
>> 'rtrace' of approx. 6900 footcandles.  The photometer gave a reading of
>> 7176 footcandles.
>>
>>
>> I'm still working my brain around all this as well and hope that these
>> discussions will foster a better understanding of how to use the HDR images
>> for the highest level of accuracy possible.
>>
>> Hope this helps.
>>
>> Best,
>> Chris
>>
>>
>>
>>
>> On Jun 28, 2014, at 10:06 AM, Joe Smith <the.oat.cracker at gmail.com>
>> wrote:
>>
>> Hi, I found 2 references and did a test to generate HDR image-based
>> rendering, steps are explained below.
>>
>> But I'm still rubbing my head to understand how the Cartesian coordinates
>> or the postion vector of a point on the sky is transformed as UV
>> coordinates of the fisheye image as shown in the "angmap.cal" file. So,
>> advices are greatly appreciated!
>>
>> Thanks!
>> Joe
>>
>>
>> References:
>> 1. Debevec, P. (2002). Image-based lighting. IEEE Computer Graphics and
>> Applications, 22(2), 26-34. doi: 10.1109/38.988744
>> 2. Au, P. Y. P. (2013). HDR Luminance Measurement: Comparing real and
>> simulated data. (Master of Building Science Thesis), Victoria University of
>> Wellington.
>>
>>
>> Steps:
>> Step1. prepare the following 6 files and put them in the same folder
>>
>> #### 1.1 geom.rad ################################################
>> red_plastic sphere ball
>> 0
>> 0
>> 4 2 2 0.5 0.5
>>
>> steel sphere ball1
>> 0
>> 0
>> 4 2 -2 0.5 0.5
>>
>> gold sphere ball2
>> 0
>> 0
>> 4 -2 -2 0.5 0.5
>>
>> white_matte sphere ball3
>> 0
>> 0
>> 4 -2 2 0.5 0.5
>>
>> crystal sphere ball4
>> 0
>> 0
>> 4 0 0 1 1
>>
>> !genbox gray_plastic pedestal_top 8 8 0.5 | xform -t -4 -4 -0.5
>>
>>
>> #### 1.2 materials.mat ################################################
>> void plastic red_plastic
>> 0
>> 0
>> 5 .7 .1 .1 .06 .1
>>
>> void metal steel
>> 0
>> 0
>> 5 0.6 0.62 0.68 1 0
>>
>> void metal gold
>> 0
>> 0
>> 5 0.75 0.55 0.25 0.85 0.2
>>
>> void plastic white_matte
>> 0
>> 0
>> 5 .8 .8 .8 0 0
>>
>> void dielectric crystal
>> 0
>> 0
>> 5 .5 .5 .5 1.5 0
>>
>> void plastic black_matte
>> 0
>> 0
>> 5 .02 .02 .02 .00 .00
>>
>> void plastic gray_plastic
>> 0
>> 0
>> 5 0.25 0.25 0.25 0.06 0.0
>>
>>
>>
>> #### 1.3 sky_and_ground.rad
>> ################################################
>> void colorpict hdr_image
>> 7 red green blue 140621_1530.hdr angmap.cal u v
>> 0
>> 0
>>
>> hdr_image glow sky_glow
>> 0
>> 0
>> 4 1 1 1 0
>>
>> sky_glow source HDR_sky
>> 0
>> 0
>> 4 0 0 1 180
>>
>> # ground
>> void glow ground_glow
>> 0
>> 0
>> 4 1 1 1 0
>>
>> ground_glow source ground
>> 0
>> 0
>> 4 0 0 -1 180
>>
>>
>> #### 1.4 angmap.cal ################################################
>> {
>> angmap.cal
>>
>> Convert from directions in the world (Dx, Dy, Dz) into (u,v)
>> coordinates on the light probe image
>>
>> +z is up (toward top of sphere, i.e. the zenith)
>> +y is North
>> }
>>
>> d = sqrt(Dx*Dx + Dy*Dy);
>>
>> r = acos(Dz)/PI;
>>
>> u = 0.5 - Dx/d * r;
>> v = 0.5 + Dy/d * r;
>>
>>
>> #### 1.5 view.vf ################################################
>> # looking towards east
>> #rvu -vtv -vp -12 0 0.5 -vd 1 0 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards west
>> #rvu -vtv -vp 12 0 0.5 -vd -1 0 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards north
>> rvu -vtv -vp 0 -12 0.5 -vd 0 1 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards south
>> #rvu -vtv -vp 0 12 0.5 -vd 0 -1 0 -vu 0 0 1 -vh 60 -vv 40
>>
>>
>> #### 1.6 cmd.sh ################################################
>> oconv ./materials.mat ./sky_and_ground.rad ./geom.rad > ./scene.oct
>>
>> rvu -vf ./view.vf ./scene.oct
>>
>> #ximage ./sky.hdr
>>
>> rpict -x 2400 -y 2400 -t 30 -ab 1 -ar 50000 -aa 0.08 -ad 128 -as 64 -st 0
>> -lw 0 -lr 8 -vf ./view.vf ./scene.oct > ./image.hdr
>>
>> pfilt -1 -x /3 -y /3 -r 1 ./image.hdr > ./image_filtered.hdr
>>
>>
>> Step2. put the 140621_1530.hdr file provided by LBNL (
>> http://flexskycam.lbl.gov) in the same folder
>>
>> Step3. run the cmd.sh batch file to produce the rendering
>>
>>
>>
>>
>> On Sat, Jun 28, 2014 at 7:28 AM, Andrew McNeil <amcneil at lbl.gov> wrote:
>>
>>> Hi All,
>>>
>>> I haven't done any testing myself, I wanted to make the data available
>>> right away so that others could tinker too (and maybe make it easier for
>>> me).
>>>
>>> Joe - You're correct that the HDR sky image essentially replaces the
>>> skyfunc modifier, here's a thread where Kyle was doing the same thing:
>>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008962.html
>>>
>>>
>>> Rob - In a clear sky condition our HDR images won't capture the full
>>> luminance of the sun. Mksource would be helpful to zero out the pixels, but
>>> the source that it makes won't be useful without adjusting the radiance of
>>> the source to match that of the sun.
>>>
>>> Best,
>>> Andy
>>>
>>>
>>>
>>>
>>> On Fri, Jun 27, 2014 at 2:58 PM, Rob Guglielmetti <
>>> rob.guglielmetti at gmail.com> wrote:
>>>
>>>> Hi German, and everyone else. Certainly one could use these HDR images
>>>> to generate sky vectors and apply them to daylight coefficients for a given
>>>> model(s). Greg Ward has created a cool tool called mksource to facilitate
>>>> this process in Radiance, identifying small, intense pixels in the image;
>>>> creating and placing Radiance light sources in their stead, and zeroing the
>>>> pixels to avoid double counting.
>>>>
>>>> Considerations:
>>>> - Capturing the true (full) dynamic range of an exterior scene with
>>>> direct sun is difficult.
>>>> - Using locally-captured HDR images for daylight availability analysis
>>>> is statistically dubious. Granted, so is using TMY data, for different
>>>> reasons. This is why I changed the title of this list to "considerations",
>>>> from "problems". =)
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> On Fri, Jun 27, 2014 at 3:38 PM, CHI-German Molina <gmolina at hdlao.com>
>>>> wrote:
>>>>
>>>>> Wow, I have been thinking on doing this for a while... although I have
>>>>> no idea where to start from.
>>>>>
>>>>> Is it possible to calculate the Daylight Coefficients of the building;
>>>>> and use the HDR image to generate sky vectors and calculate different
>>>>> options for optimizing daylighting?
>>>>>
>>>>> I am picturing a computer that, every 5 minutes, calculate the sky
>>>>> vector, computes the interior lighting conditions, and simulates the
>>>>> different lighting options performing a whole-building lighting control
>>>>> with no photo sensors. Even more, maybe a whole neighborhood could use the
>>>>> same camera. Nonsense?
>>>>>
>>>>> Thanks for sharing!
>>>>>
>>>>>
>>>>> 2014-06-27 0:59 GMT-04:00 Joe Smith <the.oat.cracker at gmail.com>:
>>>>>
>>>>>> Hi, Andy, thanks for sharing LBNL's sky mapping experiment!
>>>>>>
>>>>>>  Can you kindly advice on resources that elaborate on how to use HDR
>>>>>> sky image for daylight simulation? Does it involve specifying the HDR
>>>>>> image, rather than a "skyfunc", as the material identifier for the sky
>>>>>> geometry? How is the pixel value of a given point on the HDR image
>>>>>> converted to luminance value of the corresponding position on the sky?
>>>>>>
>>>>>> Thanks!
>>>>>> - Joe
>>>>>>
>>>>>> Andrew McNeil <amcneil at lbl.gov>?2014?6?27???????
>>>>>>
>>>>>> Hi Everyone,
>>>>>>>
>>>>>>> LBNL has installed an HDR sky camera at our new FLEXLAB site:
>>>>>>> http://flexskycam.lbl.gov. I've uploaded sample data, including hdr
>>>>>>> images and csv datafiles, recorded by the camera for three days over the
>>>>>>> past week( clear, partly cloudy and overcast). We're happy to share more
>>>>>>> data with other researchers and daylight practitioners (but we don't have
>>>>>>> much to offer yet).
>>>>>>>
>>>>>>> The images can be mapped to a Radiance sky for simulation under real
>>>>>>> sky conditions. I have not used the sky HDR images yet, myself, so if
>>>>>>> anybody uses them successfully please report back and share what you've
>>>>>>> done!
>>>>>>>
>>>>>>> Questions about the camera hardware and capabilities should be
>>>>>>> directed to Chris Humann at Terrestrial Light.
>>>>>>>
>>>>>>> Best,
>>>>>>> Andy
>>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> *Germ?n Molina L.*
>>>>> Ingeniero Trainee
>>>>> Hunter Douglas Chile S.A.
>>>>> Celular +569 89224445
>>>>>
>>>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>>>> adjuntos son confidenciales y pueden contener informacion privilegiada
>>>>> protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de
>>>>> copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por
>>>>> favor, avise inmediatamente al emisor y borre este mensaje de su sistema.
>>>>> Los mensajes electronicos son susceptibles de ser cambiados, infectados o
>>>>> adulterados sin autorizacion. No asumimos responsabilidad alguna por
>>>>> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
>>>>> que la compania puede hacer un seguimiento de sus mensajes electronicos y
>>>>> su contenido, gracias.
>>>>>
>>>>> *Confidentiality Notice:* The information contained in this email
>>>>> message, including any attachment, is confidential and is intended only for
>>>>> the person or entity to which it is addressed. If you are neither the
>>>>> intended recipient nor the employee or agent responsible for delivering
>>>>> this message to the intended recipient, you are hereby notified that you
>>>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>>>> this email message or any attachments to it. If you have received this
>>>>> email in error, please contact the sender immediately and delete this
>>>>> message from any computer or other data bank, Thank you.
>>>>>
>>>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo
>>>>> do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
>>>>> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
>>>>> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>>>> antiv?rus antes de qualquer uso.
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140701/500d5529/attachment-0001.html>

From giudm.87 at gmail.com  Wed Jul  2 08:54:09 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Wed, 2 Jul 2014 17:54:09 +0200
Subject: [Radiance-general] BSDF question
Message-ID: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>

Dear all,

I am working with the 3 phase method (only from a few weeks) and I am
trying to understand the BSDF file format and how the 3 phase method read
it.

 I have noticed that if I use the bsdf created with the command:
genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
the .xml file contain same geometrical dimension (height, width). In fact
if I use the command:
pkgBSDF -s blinds.xml > blinds_pkg.rad
the output file contain the original geometry.

Instead if I use the BSDF created or contained  in the database of WINDOW 7
these file do not contain a geometry.
With pkgBSDF I got an error.

My questions are:
1.  in the equation i=VTDs the T matrix has to contain the window geometry
or take knowledge of these from the other two matrix(V,D)?
2.  I have understood that 3 phase method uses only the front transmission
data [A. McNeil, Three-Phase Method tutorial]  but in
 an other discussion [
http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html
]  I have discovered that WINDOW and genBSDF use an opposite meaning of
front and back, so the front transmission regards radiance or window
meaning?And what part of the T matrix I have to use in the 3 phase method
for the respective cases (WINDOW or genBSDF)?

Kind regards,
*Giuseppe*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140702/ba605659/attachment.html>

From gmolina at hdlao.com  Wed Jul  2 09:24:37 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Wed, 2 Jul 2014 12:24:37 -0400
Subject: [Radiance-general] BSDF question
In-Reply-To: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
References: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
Message-ID: <CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>

Guiseppe,

The three-phase method simulation method does not use the geometry of the
shading device to work. In fact, one advantage of it is that only the
BSDF.xml file is needed. If you check Andy's Three-phase method tutorial,
you will see that the calculation of the V and D matrices do not require
neither the geometry of the shading device nor the BSDF of it (thus making
it very easy to try multiple fenestration systems).

Adding Geometry information to the BSDF file is useful for using pkgBSDF;
not really for the 3phase method. When rays have to go through the
fenestration system (i.e. rendering a room with venetian blinds, or  when
calculating the third matrix of the 5 phase method) a combination of two
illums that "wrap" the geometry and the geometry itself seems to be more
efficient. My understanding (I might be completely wrong) is that the
illums are used to transfer the diffuse (indirect??) radiation; and the
geometry is used for transfering direct radiation, casting shadows.

My answer to the first question:

*1.  in the equation i=VTDs the T matrix has to contain the window geometry
or take knowledge of these from the other two matrix(V,D)? *

Nope. After the V and D matrices are calculated, the simulation is
performed by simply multiplying matrices... no geometry.


The second question is something that confuses me... it would be good to
have clarification here.

Hope this helps!

Germ?n


2014-07-02 11:54 GMT-04:00 Giuseppe De Michele <giudm.87 at gmail.com>:

> Dear all,
>
> I am working with the 3 phase method (only from a few weeks) and I am
> trying to understand the BSDF file format and how the 3 phase method read
> it.
>
>  I have noticed that if I use the bsdf created with the command:
> genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
> the .xml file contain same geometrical dimension (height, width). In fact
> if I use the command:
> pkgBSDF -s blinds.xml > blinds_pkg.rad
> the output file contain the original geometry.
>
> Instead if I use the BSDF created or contained  in the database of WINDOW
> 7 these file do not contain a geometry.
> With pkgBSDF I got an error.
>
> My questions are:
> 1.  in the equation i=VTDs the T matrix has to contain the window geometry
> or take knowledge of these from the other two matrix(V,D)?
> 2.  I have understood that 3 phase method uses only the front transmission
> data [A. McNeil, Three-Phase Method tutorial]  but in
>  an other discussion [
> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html
> ]  I have discovered that WINDOW and genBSDF use an opposite meaning of
> front and back, so the front transmission regards radiance or window
> meaning?And what part of the T matrix I have to use in the 3 phase method
> for the respective cases (WINDOW or genBSDF)?
>
> Kind regards,
> *Giuseppe*
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140702/c5c6242e/attachment.html>

From Robert.Guglielmetti at nrel.gov  Wed Jul  2 09:52:33 2014
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 2 Jul 2014 10:52:33 -0600
Subject: [Radiance-general] Updated Radiance Installers Available
Message-ID: <CFD994F1.97A3%robert.guglielmetti@nrel.gov>

Greetings, light lovers!

A fresh batch of packages (installers) has been posted to the NREL Radiance GitHub site:
https://github.com/NREL/Radiance/releases/tag/4.2.b.0

A couple of noteworthy doodads:
* These packages are based on Radiance 4.2.b, which now includes a new Hessian-based error control protocol for the ambient calculation
* The stdout from gendaymtx has a new format, which breaks the OpenStudio daylighting routines. We are working on a fix.

In addition, the Radiance 4.2.a.4 Windows package was updated, and now includes the GUI applications, such as rvu.exe. This idiot regrets the omissions.
https://github.com/NREL/Radiance/releases/tag/4.2.a.4

Now go throw some virtual photons around.

- RobG ? NREL



From amcneil at lbl.gov  Wed Jul  2 10:12:07 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Wed, 2 Jul 2014 10:12:07 -0700
Subject: [Radiance-general] BSDF question
In-Reply-To: <CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>
References: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
	<CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>
Message-ID: <CAOG+Niw3QbK2MbS14otkUWhuAU14e135d7KZqk_cOcz24Z14yQ@mail.gmail.com>

Giuseppe,

The front/back inconsistency is mostly related to the BSDF material
primitive. For the 3-phase method you don't have to worry about front/back
of the fenestration. (unless you want to use a BSDF backwards, which might
be impossible without manually editing the BSDF file).

The BSDF handling has matured quite a bit since the early days of the
three-phase method. These days dctimestep can use either front transmission
or back transmission applying reciprocity principles for the three phase
method.

Andy




On Wed, Jul 2, 2014 at 9:24 AM, CHI-German Molina <gmolina at hdlao.com> wrote:

> Guiseppe,
>
> The three-phase method simulation method does not use the geometry of the
> shading device to work. In fact, one advantage of it is that only the
> BSDF.xml file is needed. If you check Andy's Three-phase method tutorial,
> you will see that the calculation of the V and D matrices do not require
> neither the geometry of the shading device nor the BSDF of it (thus making
> it very easy to try multiple fenestration systems).
>
> Adding Geometry information to the BSDF file is useful for using pkgBSDF;
> not really for the 3phase method. When rays have to go through the
> fenestration system (i.e. rendering a room with venetian blinds, or  when
> calculating the third matrix of the 5 phase method) a combination of two
> illums that "wrap" the geometry and the geometry itself seems to be more
> efficient. My understanding (I might be completely wrong) is that the
> illums are used to transfer the diffuse (indirect??) radiation; and the
> geometry is used for transfering direct radiation, casting shadows.
>
> My answer to the first question:
>
> *1.  in the equation i=VTDs the T matrix has to contain the window
> geometry or take knowledge of these from the other two matrix(V,D)? *
>
> Nope. After the V and D matrices are calculated, the simulation is
> performed by simply multiplying matrices... no geometry.
>
>
> The second question is something that confuses me... it would be good to
> have clarification here.
>
> Hope this helps!
>
> Germ?n
>
>
> 2014-07-02 11:54 GMT-04:00 Giuseppe De Michele <giudm.87 at gmail.com>:
>
>> Dear all,
>>
>> I am working with the 3 phase method (only from a few weeks) and I am
>> trying to understand the BSDF file format and how the 3 phase method read
>> it.
>>
>>  I have noticed that if I use the bsdf created with the command:
>> genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
>> the .xml file contain same geometrical dimension (height, width). In fact
>> if I use the command:
>> pkgBSDF -s blinds.xml > blinds_pkg.rad
>> the output file contain the original geometry.
>>
>> Instead if I use the BSDF created or contained  in the database of WINDOW
>> 7 these file do not contain a geometry.
>> With pkgBSDF I got an error.
>>
>> My questions are:
>> 1.  in the equation i=VTDs the T matrix has to contain the window
>> geometry or take knowledge of these from the other two matrix(V,D)?
>> 2.  I have understood that 3 phase method uses only the front
>> transmission data [A. McNeil, Three-Phase Method tutorial]  but in
>>  an other discussion [
>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html
>> ]  I have discovered that WINDOW and genBSDF use an opposite meaning of
>> front and back, so the front transmission regards radiance or window
>> meaning?And what part of the T matrix I have to use in the 3 phase method
>> for the respective cases (WINDOW or genBSDF)?
>>
>> Kind regards,
>> *Giuseppe*
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
> son confidenciales y pueden contener informacion privilegiada protegida por
> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
> electronicos son susceptibles de ser cambiados, infectados o adulterados
> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
> cambios o sus consecuencias. Usted debe estar informado que la compania
> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
> gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only for
> the person or entity to which it is addressed. If you are neither the
> intended recipient nor the employee or agent responsible for delivering
> this message to the intended recipient, you are hereby notified that you
> may not review, retransmit, convert to hard copy, copy, use or distribute
> this email message or any attachments to it. If you have received this
> email in error, please contact the sender immediately and delete this
> message from any computer or other data bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
> antiv?rus antes de qualquer uso.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140702/7a307dde/attachment-0001.html>

From beapiderit at gmail.com  Wed Jul  2 15:31:22 2014
From: beapiderit at gmail.com (=?iso-8859-1?Q?Mar=EDa_Beatriz_Piderit?=)
Date: Wed, 2 Jul 2014 18:31:22 -0400
Subject: [Radiance-general] Radiance-general Digest, Vol 125, Issue 3
In-Reply-To: <mailman.94.1404256240.1456.radiance-general@radiance-online.org>
References: <mailman.94.1404256240.1456.radiance-general@radiance-online.org>
Message-ID: <9812237E-DAD5-4963-9819-009EAB0D4371@ubiobio.cl>

Dear Kyle,
I downloaded the file that was in the link you attached for rendering hdr sky images. I tried it with two of my images, the first was a clear sky and the other one was an overcast sky.
With the overcast sky I didn't had any problems, it rendered fine, although the clear sky image render didn't come out well. There are two issues: the first is that in the HDR images the sky appears really dark, and in the TIFF image the sky looks good but the ground disappears.
Could you give me some tips to improve the clear sky images? Have you had this problem when dealing with a clear sky render?
This is the link where you can see the results: https://www.dropbox.com/sh/ujhiskn9ohks3vt/AAAjkOyAis6_MfCEHfXwwalea

Best,

M. Beatriz Piderit M.
Arquitecta UBB, MA, PhD UC Louvain

Departamento Dise?o y Teor?a de la Arquitectura
Universidad del Bio-Bio Concepci?n, Chile



El 01-07-2014, a las 19:10, radiance-general-request at radiance-online.org escribi?:

> Send Radiance-general mailing list submissions to
> 	radiance-general at radiance-online.org
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
> 	radiance-general-request at radiance-online.org
> 
> You can reach the person managing the list at
> 	radiance-general-owner at radiance-online.org
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
> 
> 
> Today's Topics:
> 
>   1. Re: HDR Sky Camera @ LBNL's Flexlab (Kyle Konis)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Tue, 1 Jul 2014 16:10:29 -0700
> From: Kyle Konis <kskonis at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] HDR Sky Camera @ LBNL's Flexlab
> Message-ID:
> 	<CAAzVHq2LfEF7k1q2Asexzh4Du-jeTJd_pfqB4SUZ4BO1x=hiXQ at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
> 
> Following up here, (and on the referenced thread from about a year ago), i
> did succeed in rendering some simple Radiance objects with HDR skies.
> 
> I have uploaded an example video here with the LBNL Skycam images (June 21,
> 2014 until about 10:40 AM) which was all I could process during the world
> cup match:
> http://performance-and-form.com/projects/rendering-digital-objects-with-high-dynamic-range-hdr-sky-images/
> 
> Thanks are due to Coralie Cauwerts for corresponding to provide me with the
> proper .cal file for mapping hemispherical (rather than spherical) images.
> 
> The skies are used to render a chrome sphere sitting on a pedestal. You can
> tell it is not a real object because it is outside for several hours and no
> birds sit or poop on it. (Good luck HDR Skycam ! )
> 
> I have zipped all the files used to make the video and put them on the page
> for download, as well as a few experiments i have made in manipulating
> surfaces (either transmission or shading) in response to sky data from
> Portland, Oregon using a Canon A570 with Stereo Data Maker used to automate
> bracketed image acquisition (i have a plan to post the details for that, as
> it is a very low-cost < $80 approach and will get to it).
> 
> let me know (offline) if there are issues downloading or executing the
> files,
> 
> best,
> 
> -Kyle
> 
> -----------------------------------------------
> Kyle Konis, AIA, Ph.D
> Assistant Professor
> School of Architecture, WAH 204
> University of Southern California
> Los Angeles, CA 90089-0291
> http://arch.usc.edu/faculty/kkonis
> -----------------------------------------------
> 
> 
> 
> 
> 
> 
> 
> On Tue, Jul 1, 2014 at 8:52 AM, Christian Humann <chris at christianhumann.com>
> wrote:
> 
>> Hi Joe,
>> 
>> Thank you for the references.
>> 
>> The HDR image by default is co-planar with the x and z axis with its
>> surface normal pointing in the negative y direction.  You'll need to
>> translate the image so that its surface normal is pointed down along the
>> negative z axis and rotate it so that North is up when looking up towards
>> zenith.
>> 
>> The groundglow description is actually not necessary and has no effect. If
>> you wanted to define the ground for inclusion in a scene you could use the
>> following:
>> 
>> void glow groundglow
>> 0
>> 0
>> 4 .15 .15 .15 0    #(.15 .15 .15 = RGB values for the ground material)
>> 
>> groundglow source ground
>> 0
>> 0
>> 4 0 0 -1 180
>> 
>> 
>> I too have been getting lower values than the measured global horizontal
>> illuminance.  I think the suggestions made made by Rob and Greg about using
>> mksource and adjusting the subtended angle of the solar source may be the
>> solution.  Not sure yet how to implement the latter but I will certainly
>> keep you posted.
>> 
>> Cheers,
>> Chris
>> 
>> On Jun 30, 2014, at 10:26 PM, Joe Smith <the.oat.cracker at gmail.com> wrote:
>> 
>> Hi Chris,
>> 
>> Thank you very much for your reply, especially for reminding me the
>> conversion of the unit between foot candela and lux!
>> 
>> May I ask the following questions?
>> 
>> 1. why the hdr fisheye image needs to be rotated along x axis for 90
>> degrees and along z axis for 180 degrees? using the fisheye.cal file as
>> reference when defining the colorpict "skypict"?
>> 
>> 2. why "skypict is used as a modifier to define the "glow" material
>> "groundglow"? I thought usually this position is set as "void"
>> 
>> 
>> Using your approach, I tried some other hdr image provided by your
>> project, and it seems the global horizontal illuminance is always
>> underestimated as compared to the one reported in the csv file.
>> 
>> rubbing my head about this issue, and advices are greatly appreciated!
>> 
>> Regards,
>> Joe
>> 
>> 
>> 
>> On Tue, Jul 1, 2014 at 3:06 AM, Christian Humann <
>> chris at christianhumann.com> wrote:
>> 
>>> Hi Joe,
>>> 
>>> The global values in the CSV file are in footcandles so you will need to
>>> multiply them by 10.76 in order to get Lux.
>>> 
>>> Also, you'll need to add a source description for the sun in order to get
>>> the solar contribution as the camera sensor can not capture the intensity
>>> of the sun for the HDR image.  Essentially the HDR image allows you to get
>>> a close approximation of the global diffuse value.  I use gendaylit (see
>>> below) to generate the sun and sky scene. You can get the altitude,
>>> azimuth, direct-normal-illuminance and diffuse-horizontal-illuminance from
>>> the CSV file (be sure to multiply the latter two values by 10.76 to
>>> translate them from footcandles to Lux for input into Gendaylit). Also be
>>> sure to adjust your 'rtrace' results by dividing by 10.76 to get
>>> footcandles if you want to compare to the global-horizontal-illuminacne
>>> readings in the CSV file.
>>> 
>>> ########Sun and Sky scene -----> global.rad
>>> !gendaylit -ang 45.41 85.92 -w -O 0 -L 80463.28 19916.76  |  xform -e -rz
>>> 0
>>> void colorpict skypict
>>> 11 red green blue 140621_1530.hdr fisheye.cal fish_u fish_v -rx 90 -rz 180
>>> 0
>>> 0
>>> 
>>> skypict glow skyglow
>>> 0
>>> 0
>>> 4 1 1 1 1
>>> 
>>> skyglow source sky
>>> 0
>>> 0
>>> 4 0 0 1 180
>>> 
>>> skypict glow groundglow
>>> 0
>>> 0
>>> 4 1 1 1 0
>>> 
>>> groundglow source ground
>>> 0
>>> 0
>>> 4 0 0 -1 180
>>> #########
>>> # 3. the cmd.sh file
>>> oconv ./global.rad > ./scene_empty.oct
>>> 
>>> echo '0 0 0 0 0 1' | rtrace -I -h -w -ab 1 -oov ./scene_empty.oct >
>>> ./results_position_irradiance_RGB_wm2.txt
>>> 
>>> cat ./results_position_irradiance_RGB_wm2.txt | rcalc -e
>>> '$1=179*(0.265*$4+0.670*$5+0.065*$6)/10.76' > ./results_illuminance_lux.txt
>>> ##########
>>> 
>>> When I run the above I get a global horizontal illuminance value from
>>> 'rtrace' of approx. 6900 footcandles.  The photometer gave a reading of
>>> 7176 footcandles.
>>> 
>>> 
>>> I'm still working my brain around all this as well and hope that these
>>> discussions will foster a better understanding of how to use the HDR images
>>> for the highest level of accuracy possible.
>>> 
>>> Hope this helps.
>>> 
>>> Best,
>>> Chris
>>> 
>>> 
>>> 
>>> 
>>> On Jun 28, 2014, at 10:06 AM, Joe Smith <the.oat.cracker at gmail.com>
>>> wrote:
>>> 
>>> Hi, I found 2 references and did a test to generate HDR image-based
>>> rendering, steps are explained below.
>>> 
>>> But I'm still rubbing my head to understand how the Cartesian coordinates
>>> or the postion vector of a point on the sky is transformed as UV
>>> coordinates of the fisheye image as shown in the "angmap.cal" file. So,
>>> advices are greatly appreciated!
>>> 
>>> Thanks!
>>> Joe
>>> 
>>> 
>>> References:
>>> 1. Debevec, P. (2002). Image-based lighting. IEEE Computer Graphics and
>>> Applications, 22(2), 26-34. doi: 10.1109/38.988744
>>> 2. Au, P. Y. P. (2013). HDR Luminance Measurement: Comparing real and
>>> simulated data. (Master of Building Science Thesis), Victoria University of
>>> Wellington.
>>> 
>>> 
>>> Steps:
>>> Step1. prepare the following 6 files and put them in the same folder
>>> 
>>> #### 1.1 geom.rad ################################################
>>> red_plastic sphere ball
>>> 0
>>> 0
>>> 4 2 2 0.5 0.5
>>> 
>>> steel sphere ball1
>>> 0
>>> 0
>>> 4 2 -2 0.5 0.5
>>> 
>>> gold sphere ball2
>>> 0
>>> 0
>>> 4 -2 -2 0.5 0.5
>>> 
>>> white_matte sphere ball3
>>> 0
>>> 0
>>> 4 -2 2 0.5 0.5
>>> 
>>> crystal sphere ball4
>>> 0
>>> 0
>>> 4 0 0 1 1
>>> 
>>> !genbox gray_plastic pedestal_top 8 8 0.5 | xform -t -4 -4 -0.5
>>> 
>>> 
>>> #### 1.2 materials.mat ################################################
>>> void plastic red_plastic
>>> 0
>>> 0
>>> 5 .7 .1 .1 .06 .1
>>> 
>>> void metal steel
>>> 0
>>> 0
>>> 5 0.6 0.62 0.68 1 0
>>> 
>>> void metal gold
>>> 0
>>> 0
>>> 5 0.75 0.55 0.25 0.85 0.2
>>> 
>>> void plastic white_matte
>>> 0
>>> 0
>>> 5 .8 .8 .8 0 0
>>> 
>>> void dielectric crystal
>>> 0
>>> 0
>>> 5 .5 .5 .5 1.5 0
>>> 
>>> void plastic black_matte
>>> 0
>>> 0
>>> 5 .02 .02 .02 .00 .00
>>> 
>>> void plastic gray_plastic
>>> 0
>>> 0
>>> 5 0.25 0.25 0.25 0.06 0.0
>>> 
>>> 
>>> 
>>> #### 1.3 sky_and_ground.rad
>>> ################################################
>>> void colorpict hdr_image
>>> 7 red green blue 140621_1530.hdr angmap.cal u v
>>> 0
>>> 0
>>> 
>>> hdr_image glow sky_glow
>>> 0
>>> 0
>>> 4 1 1 1 0
>>> 
>>> sky_glow source HDR_sky
>>> 0
>>> 0
>>> 4 0 0 1 180
>>> 
>>> # ground
>>> void glow ground_glow
>>> 0
>>> 0
>>> 4 1 1 1 0
>>> 
>>> ground_glow source ground
>>> 0
>>> 0
>>> 4 0 0 -1 180
>>> 
>>> 
>>> #### 1.4 angmap.cal ################################################
>>> {
>>> angmap.cal
>>> 
>>> Convert from directions in the world (Dx, Dy, Dz) into (u,v)
>>> coordinates on the light probe image
>>> 
>>> +z is up (toward top of sphere, i.e. the zenith)
>>> +y is North
>>> }
>>> 
>>> d = sqrt(Dx*Dx + Dy*Dy);
>>> 
>>> r = acos(Dz)/PI;
>>> 
>>> u = 0.5 - Dx/d * r;
>>> v = 0.5 + Dy/d * r;
>>> 
>>> 
>>> #### 1.5 view.vf ################################################
>>> # looking towards east
>>> #rvu -vtv -vp -12 0 0.5 -vd 1 0 0 -vu 0 0 1 -vh 60 -vv 40
>>> # looking towards west
>>> #rvu -vtv -vp 12 0 0.5 -vd -1 0 0 -vu 0 0 1 -vh 60 -vv 40
>>> # looking towards north
>>> rvu -vtv -vp 0 -12 0.5 -vd 0 1 0 -vu 0 0 1 -vh 60 -vv 40
>>> # looking towards south
>>> #rvu -vtv -vp 0 12 0.5 -vd 0 -1 0 -vu 0 0 1 -vh 60 -vv 40
>>> 
>>> 
>>> #### 1.6 cmd.sh ################################################
>>> oconv ./materials.mat ./sky_and_ground.rad ./geom.rad > ./scene.oct
>>> 
>>> rvu -vf ./view.vf ./scene.oct
>>> 
>>> #ximage ./sky.hdr
>>> 
>>> rpict -x 2400 -y 2400 -t 30 -ab 1 -ar 50000 -aa 0.08 -ad 128 -as 64 -st 0
>>> -lw 0 -lr 8 -vf ./view.vf ./scene.oct > ./image.hdr
>>> 
>>> pfilt -1 -x /3 -y /3 -r 1 ./image.hdr > ./image_filtered.hdr
>>> 
>>> 
>>> Step2. put the 140621_1530.hdr file provided by LBNL (
>>> http://flexskycam.lbl.gov) in the same folder
>>> 
>>> Step3. run the cmd.sh batch file to produce the rendering
>>> 
>>> 
>>> 
>>> 
>>> On Sat, Jun 28, 2014 at 7:28 AM, Andrew McNeil <amcneil at lbl.gov> wrote:
>>> 
>>>> Hi All,
>>>> 
>>>> I haven't done any testing myself, I wanted to make the data available
>>>> right away so that others could tinker too (and maybe make it easier for
>>>> me).
>>>> 
>>>> Joe - You're correct that the HDR sky image essentially replaces the
>>>> skyfunc modifier, here's a thread where Kyle was doing the same thing:
>>>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008962.html
>>>> 
>>>> 
>>>> Rob - In a clear sky condition our HDR images won't capture the full
>>>> luminance of the sun. Mksource would be helpful to zero out the pixels, but
>>>> the source that it makes won't be useful without adjusting the radiance of
>>>> the source to match that of the sun.
>>>> 
>>>> Best,
>>>> Andy
>>>> 
>>>> 
>>>> 
>>>> 
>>>> On Fri, Jun 27, 2014 at 2:58 PM, Rob Guglielmetti <
>>>> rob.guglielmetti at gmail.com> wrote:
>>>> 
>>>>> Hi German, and everyone else. Certainly one could use these HDR images
>>>>> to generate sky vectors and apply them to daylight coefficients for a given
>>>>> model(s). Greg Ward has created a cool tool called mksource to facilitate
>>>>> this process in Radiance, identifying small, intense pixels in the image;
>>>>> creating and placing Radiance light sources in their stead, and zeroing the
>>>>> pixels to avoid double counting.
>>>>> 
>>>>> Considerations:
>>>>> - Capturing the true (full) dynamic range of an exterior scene with
>>>>> direct sun is difficult.
>>>>> - Using locally-captured HDR images for daylight availability analysis
>>>>> is statistically dubious. Granted, so is using TMY data, for different
>>>>> reasons. This is why I changed the title of this list to "considerations",
>>>>> from "problems". =)
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> On Fri, Jun 27, 2014 at 3:38 PM, CHI-German Molina <gmolina at hdlao.com>
>>>>> wrote:
>>>>> 
>>>>>> Wow, I have been thinking on doing this for a while... although I have
>>>>>> no idea where to start from.
>>>>>> 
>>>>>> Is it possible to calculate the Daylight Coefficients of the building;
>>>>>> and use the HDR image to generate sky vectors and calculate different
>>>>>> options for optimizing daylighting?
>>>>>> 
>>>>>> I am picturing a computer that, every 5 minutes, calculate the sky
>>>>>> vector, computes the interior lighting conditions, and simulates the
>>>>>> different lighting options performing a whole-building lighting control
>>>>>> with no photo sensors. Even more, maybe a whole neighborhood could use the
>>>>>> same camera. Nonsense?
>>>>>> 
>>>>>> Thanks for sharing!
>>>>>> 
>>>>>> 
>>>>>> 2014-06-27 0:59 GMT-04:00 Joe Smith <the.oat.cracker at gmail.com>:
>>>>>> 
>>>>>>> Hi, Andy, thanks for sharing LBNL's sky mapping experiment!
>>>>>>> 
>>>>>>> Can you kindly advice on resources that elaborate on how to use HDR
>>>>>>> sky image for daylight simulation? Does it involve specifying the HDR
>>>>>>> image, rather than a "skyfunc", as the material identifier for the sky
>>>>>>> geometry? How is the pixel value of a given point on the HDR image
>>>>>>> converted to luminance value of the corresponding position on the sky?
>>>>>>> 
>>>>>>> Thanks!
>>>>>>> - Joe
>>>>>>> 
>>>>>>> Andrew McNeil <amcneil at lbl.gov>?2014?6?27???????
>>>>>>> 
>>>>>>> Hi Everyone,
>>>>>>>> 
>>>>>>>> LBNL has installed an HDR sky camera at our new FLEXLAB site:
>>>>>>>> http://flexskycam.lbl.gov. I've uploaded sample data, including hdr
>>>>>>>> images and csv datafiles, recorded by the camera for three days over the
>>>>>>>> past week( clear, partly cloudy and overcast). We're happy to share more
>>>>>>>> data with other researchers and daylight practitioners (but we don't have
>>>>>>>> much to offer yet).
>>>>>>>> 
>>>>>>>> The images can be mapped to a Radiance sky for simulation under real
>>>>>>>> sky conditions. I have not used the sky HDR images yet, myself, so if
>>>>>>>> anybody uses them successfully please report back and share what you've
>>>>>>>> done!
>>>>>>>> 
>>>>>>>> Questions about the camera hardware and capabilities should be
>>>>>>>> directed to Chris Humann at Terrestrial Light.
>>>>>>>> 
>>>>>>>> Best,
>>>>>>>> Andy
>>>>>>>> 
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> Radiance-general mailing list
>>>>>>> Radiance-general at radiance-online.org
>>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> --
>>>>>> *Germ?n Molina L.*
>>>>>> Ingeniero Trainee
>>>>>> Hunter Douglas Chile S.A.
>>>>>> Celular +569 89224445
>>>>>> 
>>>>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>>>>> adjuntos son confidenciales y pueden contener informacion privilegiada
>>>>>> protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de
>>>>>> copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por
>>>>>> favor, avise inmediatamente al emisor y borre este mensaje de su sistema.
>>>>>> Los mensajes electronicos son susceptibles de ser cambiados, infectados o
>>>>>> adulterados sin autorizacion. No asumimos responsabilidad alguna por
>>>>>> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
>>>>>> que la compania puede hacer un seguimiento de sus mensajes electronicos y
>>>>>> su contenido, gracias.
>>>>>> 
>>>>>> *Confidentiality Notice:* The information contained in this email
>>>>>> message, including any attachment, is confidential and is intended only for
>>>>>> the person or entity to which it is addressed. If you are neither the
>>>>>> intended recipient nor the employee or agent responsible for delivering
>>>>>> this message to the intended recipient, you are hereby notified that you
>>>>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>>>>> this email message or any attachments to it. If you have received this
>>>>>> email in error, please contact the sender immediately and delete this
>>>>>> message from any computer or other data bank, Thank you.
>>>>>> 
>>>>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo
>>>>>> do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
>>>>>> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
>>>>>> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>>>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>>>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>>>>> antiv?rus antes de qualquer uso.
>>>>>> 
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>> 
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> 
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> 
>>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> 
>>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140701/500d5529/attachment.html>
> 
> ------------------------------
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> End of Radiance-general Digest, Vol 125, Issue 3
> ************************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140702/d6259732/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Archivo adjunto al mensaje.jpeg
Type: image/jpeg
Size: 5939 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140702/d6259732/attachment-0001.jpeg>

From amcneil at lbl.gov  Wed Jul  2 17:05:13 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Wed, 2 Jul 2014 17:05:13 -0700
Subject: [Radiance-general] Radiance-general Digest, Vol 125, Issue 3
In-Reply-To: <9812237E-DAD5-4963-9819-009EAB0D4371@ubiobio.cl>
References: <mailman.94.1404256240.1456.radiance-general@radiance-online.org>
	<9812237E-DAD5-4963-9819-009EAB0D4371@ubiobio.cl>
Message-ID: <CAOG+NixFFFqVDnDaWN9aMsPd46CAB0dJL1-eNiHspy-M=GuJ6w@mail.gmail.com>

Hi Maria,
How are you handling the sun in you sunny sky? Do you have a source
separate from the hdr sky image? How have you set the Radiance of the sun?
If I had to guess, I'd say your sun is too bright.
Andy



On Wed, Jul 2, 2014 at 3:31 PM, Mar?a Beatriz Piderit <beapiderit at gmail.com>
wrote:

> Dear Kyle,
> I downloaded the file that was in the link you attached for rendering hdr
> sky images. I tried it with two of my images, the first was a clear sky and
> the other one was an overcast sky.
> With the overcast sky I didn't had any problems, it rendered fine,
> although the clear sky image render didn't come out well. There are two
> issues: the first is that in the HDR images the sky appears really dark,
> and in the TIFF image the sky looks good but the ground disappears.
> Could you give me some tips to improve the clear sky images? Have you had
> this problem when dealing with a clear sky render?
> This is the link where you can see the results:
> https://www.dropbox.com/sh/ujhiskn9ohks3vt/AAAjkOyAis6_MfCEHfXwwalea
>
> Best,
>
>  M. Beatriz Piderit M.
> Arquitecta UBB, MA, PhD UC Louvain
>
> Departamento Dise?o y Teor?a de la Arquitectura
> Universidad del Bio-Bio Concepci?n, Chile
>
>
> El 01-07-2014, a las 19:10, radiance-general-request at radiance-online.org
> escribi?:
>
> Send Radiance-general mailing list submissions to
>  radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>  http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>  radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>  radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>   1. Re: HDR Sky Camera @ LBNL's Flexlab (Kyle Konis)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 1 Jul 2014 16:10:29 -0700
> From: Kyle Konis <kskonis at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] HDR Sky Camera @ LBNL's Flexlab
> Message-ID:
> <CAAzVHq2LfEF7k1q2Asexzh4Du-jeTJd_pfqB4SUZ4BO1x=hiXQ at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
>
> Following up here, (and on the referenced thread from about a year ago), i
> did succeed in rendering some simple Radiance objects with HDR skies.
>
> I have uploaded an example video here with the LBNL Skycam images (June 21,
> 2014 until about 10:40 AM) which was all I could process during the world
> cup match:
>
> http://performance-and-form.com/projects/rendering-digital-objects-with-high-dynamic-range-hdr-sky-images/
>
> Thanks are due to Coralie Cauwerts for corresponding to provide me with the
> proper .cal file for mapping hemispherical (rather than spherical) images.
>
> The skies are used to render a chrome sphere sitting on a pedestal. You can
> tell it is not a real object because it is outside for several hours and no
> birds sit or poop on it. (Good luck HDR Skycam ! )
>
> I have zipped all the files used to make the video and put them on the page
> for download, as well as a few experiments i have made in manipulating
> surfaces (either transmission or shading) in response to sky data from
> Portland, Oregon using a Canon A570 with Stereo Data Maker used to automate
> bracketed image acquisition (i have a plan to post the details for that, as
> it is a very low-cost < $80 approach and will get to it).
>
> let me know (offline) if there are issues downloading or executing the
> files,
>
> best,
>
> -Kyle
>
> -----------------------------------------------
> Kyle Konis, AIA, Ph.D
> Assistant Professor
> School of Architecture, WAH 204
> University of Southern California
> Los Angeles, CA 90089-0291
> http://arch.usc.edu/faculty/kkonis
> -----------------------------------------------
>
>
>
>
>
>
>
> On Tue, Jul 1, 2014 at 8:52 AM, Christian Humann <
> chris at christianhumann.com>
> wrote:
>
> Hi Joe,
>
> Thank you for the references.
>
> The HDR image by default is co-planar with the x and z axis with its
> surface normal pointing in the negative y direction.  You'll need to
> translate the image so that its surface normal is pointed down along the
> negative z axis and rotate it so that North is up when looking up towards
> zenith.
>
> The groundglow description is actually not necessary and has no effect. If
> you wanted to define the ground for inclusion in a scene you could use the
> following:
>
> void glow groundglow
> 0
> 0
> 4 .15 .15 .15 0    #(.15 .15 .15 = RGB values for the ground material)
>
> groundglow source ground
> 0
> 0
> 4 0 0 -1 180
>
>
> I too have been getting lower values than the measured global horizontal
> illuminance.  I think the suggestions made made by Rob and Greg about using
> mksource and adjusting the subtended angle of the solar source may be the
> solution.  Not sure yet how to implement the latter but I will certainly
> keep you posted.
>
> Cheers,
> Chris
>
> On Jun 30, 2014, at 10:26 PM, Joe Smith <the.oat.cracker at gmail.com> wrote:
>
> Hi Chris,
>
> Thank you very much for your reply, especially for reminding me the
> conversion of the unit between foot candela and lux!
>
> May I ask the following questions?
>
> 1. why the hdr fisheye image needs to be rotated along x axis for 90
> degrees and along z axis for 180 degrees? using the fisheye.cal file as
> reference when defining the colorpict "skypict"?
>
> 2. why "skypict is used as a modifier to define the "glow" material
> "groundglow"? I thought usually this position is set as "void"
>
>
> Using your approach, I tried some other hdr image provided by your
> project, and it seems the global horizontal illuminance is always
> underestimated as compared to the one reported in the csv file.
>
> rubbing my head about this issue, and advices are greatly appreciated!
>
> Regards,
> Joe
>
>
>
> On Tue, Jul 1, 2014 at 3:06 AM, Christian Humann <
> chris at christianhumann.com> wrote:
>
> Hi Joe,
>
> The global values in the CSV file are in footcandles so you will need to
> multiply them by 10.76 in order to get Lux.
>
> Also, you'll need to add a source description for the sun in order to get
> the solar contribution as the camera sensor can not capture the intensity
> of the sun for the HDR image.  Essentially the HDR image allows you to get
> a close approximation of the global diffuse value.  I use gendaylit (see
> below) to generate the sun and sky scene. You can get the altitude,
> azimuth, direct-normal-illuminance and diffuse-horizontal-illuminance from
> the CSV file (be sure to multiply the latter two values by 10.76 to
> translate them from footcandles to Lux for input into Gendaylit). Also be
> sure to adjust your 'rtrace' results by dividing by 10.76 to get
> footcandles if you want to compare to the global-horizontal-illuminacne
> readings in the CSV file.
>
> ########Sun and Sky scene -----> global.rad
> !gendaylit -ang 45.41 85.92 -w -O 0 -L 80463.28 19916.76  |  xform -e -rz
> 0
> void colorpict skypict
> 11 red green blue 140621_1530.hdr fisheye.cal fish_u fish_v -rx 90 -rz 180
> 0
> 0
>
> skypict glow skyglow
> 0
> 0
> 4 1 1 1 1
>
> skyglow source sky
> 0
> 0
> 4 0 0 1 180
>
> skypict glow groundglow
> 0
> 0
> 4 1 1 1 0
>
> groundglow source ground
> 0
> 0
> 4 0 0 -1 180
> #########
> # 3. the cmd.sh file
> oconv ./global.rad > ./scene_empty.oct
>
> echo '0 0 0 0 0 1' | rtrace -I -h -w -ab 1 -oov ./scene_empty.oct >
> ./results_position_irradiance_RGB_wm2.txt
>
> cat ./results_position_irradiance_RGB_wm2.txt | rcalc -e
> '$1=179*(0.265*$4+0.670*$5+0.065*$6)/10.76' > ./results_illuminance_lux.txt
> ##########
>
> When I run the above I get a global horizontal illuminance value from
> 'rtrace' of approx. 6900 footcandles.  The photometer gave a reading of
> 7176 footcandles.
>
>
> I'm still working my brain around all this as well and hope that these
> discussions will foster a better understanding of how to use the HDR images
> for the highest level of accuracy possible.
>
> Hope this helps.
>
> Best,
> Chris
>
>
>
>
> On Jun 28, 2014, at 10:06 AM, Joe Smith <the.oat.cracker at gmail.com>
> wrote:
>
> Hi, I found 2 references and did a test to generate HDR image-based
> rendering, steps are explained below.
>
> But I'm still rubbing my head to understand how the Cartesian coordinates
> or the postion vector of a point on the sky is transformed as UV
> coordinates of the fisheye image as shown in the "angmap.cal" file. So,
> advices are greatly appreciated!
>
> Thanks!
> Joe
>
>
> References:
> 1. Debevec, P. (2002). Image-based lighting. IEEE Computer Graphics and
> Applications, 22(2), 26-34. doi: 10.1109/38.988744
> 2. Au, P. Y. P. (2013). HDR Luminance Measurement: Comparing real and
> simulated data. (Master of Building Science Thesis), Victoria University of
> Wellington.
>
>
> Steps:
> Step1. prepare the following 6 files and put them in the same folder
>
> #### 1.1 geom.rad ################################################
> red_plastic sphere ball
> 0
> 0
> 4 2 2 0.5 0.5
>
> steel sphere ball1
> 0
> 0
> 4 2 -2 0.5 0.5
>
> gold sphere ball2
> 0
> 0
> 4 -2 -2 0.5 0.5
>
> white_matte sphere ball3
> 0
> 0
> 4 -2 2 0.5 0.5
>
> crystal sphere ball4
> 0
> 0
> 4 0 0 1 1
>
> !genbox gray_plastic pedestal_top 8 8 0.5 | xform -t -4 -4 -0.5
>
>
> #### 1.2 materials.mat ################################################
> void plastic red_plastic
> 0
> 0
> 5 .7 .1 .1 .06 .1
>
> void metal steel
> 0
> 0
> 5 0.6 0.62 0.68 1 0
>
> void metal gold
> 0
> 0
> 5 0.75 0.55 0.25 0.85 0.2
>
> void plastic white_matte
> 0
> 0
> 5 .8 .8 .8 0 0
>
> void dielectric crystal
> 0
> 0
> 5 .5 .5 .5 1.5 0
>
> void plastic black_matte
> 0
> 0
> 5 .02 .02 .02 .00 .00
>
> void plastic gray_plastic
> 0
> 0
> 5 0.25 0.25 0.25 0.06 0.0
>
>
>
> #### 1.3 sky_and_ground.rad
> ################################################
> void colorpict hdr_image
> 7 red green blue 140621_1530.hdr angmap.cal u v
> 0
> 0
>
> hdr_image glow sky_glow
> 0
> 0
> 4 1 1 1 0
>
> sky_glow source HDR_sky
> 0
> 0
> 4 0 0 1 180
>
> # ground
> void glow ground_glow
> 0
> 0
> 4 1 1 1 0
>
> ground_glow source ground
> 0
> 0
> 4 0 0 -1 180
>
>
> #### 1.4 angmap.cal ################################################
> {
> angmap.cal
>
> Convert from directions in the world (Dx, Dy, Dz) into (u,v)
> coordinates on the light probe image
>
> +z is up (toward top of sphere, i.e. the zenith)
> +y is North
> }
>
> d = sqrt(Dx*Dx + Dy*Dy);
>
> r = acos(Dz)/PI;
>
> u = 0.5 - Dx/d * r;
> v = 0.5 + Dy/d * r;
>
>
> #### 1.5 view.vf ################################################
> # looking towards east
> #rvu -vtv -vp -12 0 0.5 -vd 1 0 0 -vu 0 0 1 -vh 60 -vv 40
> # looking towards west
> #rvu -vtv -vp 12 0 0.5 -vd -1 0 0 -vu 0 0 1 -vh 60 -vv 40
> # looking towards north
> rvu -vtv -vp 0 -12 0.5 -vd 0 1 0 -vu 0 0 1 -vh 60 -vv 40
> # looking towards south
> #rvu -vtv -vp 0 12 0.5 -vd 0 -1 0 -vu 0 0 1 -vh 60 -vv 40
>
>
> #### 1.6 cmd.sh ################################################
> oconv ./materials.mat ./sky_and_ground.rad ./geom.rad > ./scene.oct
>
> rvu -vf ./view.vf ./scene.oct
>
> #ximage ./sky.hdr
>
> rpict -x 2400 -y 2400 -t 30 -ab 1 -ar 50000 -aa 0.08 -ad 128 -as 64 -st 0
> -lw 0 -lr 8 -vf ./view.vf ./scene.oct > ./image.hdr
>
> pfilt -1 -x /3 -y /3 -r 1 ./image.hdr > ./image_filtered.hdr
>
>
> Step2. put the 140621_1530.hdr file provided by LBNL (
> http://flexskycam.lbl.gov) in the same folder
>
> Step3. run the cmd.sh batch file to produce the rendering
>
>
>
>
> On Sat, Jun 28, 2014 at 7:28 AM, Andrew McNeil <amcneil at lbl.gov> wrote:
>
> Hi All,
>
> I haven't done any testing myself, I wanted to make the data available
> right away so that others could tinker too (and maybe make it easier for
> me).
>
> Joe - You're correct that the HDR sky image essentially replaces the
> skyfunc modifier, here's a thread where Kyle was doing the same thing:
>
> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008962.html
>
>
> Rob - In a clear sky condition our HDR images won't capture the full
> luminance of the sun. Mksource would be helpful to zero out the pixels, but
> the source that it makes won't be useful without adjusting the radiance of
> the source to match that of the sun.
>
> Best,
> Andy
>
>
>
>
> On Fri, Jun 27, 2014 at 2:58 PM, Rob Guglielmetti <
> rob.guglielmetti at gmail.com> wrote:
>
> Hi German, and everyone else. Certainly one could use these HDR images
> to generate sky vectors and apply them to daylight coefficients for a given
> model(s). Greg Ward has created a cool tool called mksource to facilitate
> this process in Radiance, identifying small, intense pixels in the image;
> creating and placing Radiance light sources in their stead, and zeroing the
> pixels to avoid double counting.
>
> Considerations:
> - Capturing the true (full) dynamic range of an exterior scene with
> direct sun is difficult.
> - Using locally-captured HDR images for daylight availability analysis
> is statistically dubious. Granted, so is using TMY data, for different
> reasons. This is why I changed the title of this list to "considerations",
> from "problems". =)
>
>
>
>
>
> On Fri, Jun 27, 2014 at 3:38 PM, CHI-German Molina <gmolina at hdlao.com>
> wrote:
>
> Wow, I have been thinking on doing this for a while... although I have
> no idea where to start from.
>
> Is it possible to calculate the Daylight Coefficients of the building;
> and use the HDR image to generate sky vectors and calculate different
> options for optimizing daylighting?
>
> I am picturing a computer that, every 5 minutes, calculate the sky
> vector, computes the interior lighting conditions, and simulates the
> different lighting options performing a whole-building lighting control
> with no photo sensors. Even more, maybe a whole neighborhood could use the
> same camera. Nonsense?
>
> Thanks for sharing!
>
>
> 2014-06-27 0:59 GMT-04:00 Joe Smith <the.oat.cracker at gmail.com>:
>
> Hi, Andy, thanks for sharing LBNL's sky mapping experiment!
>
> Can you kindly advice on resources that elaborate on how to use HDR
> sky image for daylight simulation? Does it involve specifying the HDR
> image, rather than a "skyfunc", as the material identifier for the sky
> geometry? How is the pixel value of a given point on the HDR image
> converted to luminance value of the corresponding position on the sky?
>
> Thanks!
> - Joe
>
> Andrew McNeil <amcneil at lbl.gov>?2014?6?27???????
>
> Hi Everyone,
>
>
> LBNL has installed an HDR sky camera at our new FLEXLAB site:
> http://flexskycam.lbl.gov. I've uploaded sample data, including hdr
> images and csv datafiles, recorded by the camera for three days over the
> past week( clear, partly cloudy and overcast). We're happy to share more
> data with other researchers and daylight practitioners (but we don't have
> much to offer yet).
>
> The images can be mapped to a Radiance sky for simulation under real
> sky conditions. I have not used the sky HDR images yet, myself, so if
> anybody uses them successfully please report back and share what you've
> done!
>
> Questions about the camera hardware and capabilities should be
> directed to Chris Humann at Terrestrial Light.
>
> Best,
> Andy
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
> adjuntos son confidenciales y pueden contener informacion privilegiada
> protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de
> copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por
> favor, avise inmediatamente al emisor y borre este mensaje de su sistema.
> Los mensajes electronicos son susceptibles de ser cambiados, infectados o
> adulterados sin autorizacion. No asumimos responsabilidad alguna por
> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
> que la compania puede hacer un seguimiento de sus mensajes electronicos y
> su contenido, gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only for
> the person or entity to which it is addressed. If you are neither the
> intended recipient nor the employee or agent responsible for delivering
> this message to the intended recipient, you are hereby notified that you
> may not review, retransmit, convert to hard copy, copy, use or distribute
> this email message or any attachments to it. If you have received this
> email in error, please contact the sender immediately and delete this
> message from any computer or other data bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo
> do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
> antiv?rus antes de qualquer uso.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/20140701/500d5529/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 125, Issue 3
> ************************************************
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140702/713f75b4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Archivo adjunto al mensaje.jpeg
Type: image/jpeg
Size: 5939 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140702/713f75b4/attachment-0001.jpeg>

From giudm.87 at gmail.com  Thu Jul  3 00:45:52 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Thu, 3 Jul 2014 09:45:52 +0200
Subject: [Radiance-general] BSDF question
In-Reply-To: <CAOG+Niw3QbK2MbS14otkUWhuAU14e135d7KZqk_cOcz24Z14yQ@mail.gmail.com>
References: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
	<CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>
	<CAOG+Niw3QbK2MbS14otkUWhuAU14e135d7KZqk_cOcz24Z14yQ@mail.gmail.com>
Message-ID: <CAOn=hKECw-s-T91ThKBrsVmpnTSWi1UcdxFGEadhS9qHS6k7OA@mail.gmail.com>

Germ?n and Andy,

meanwhile thank you for the answers and sorry if my questions are a little
bit confused. I am a newbie of the "lighting art" and I am studying this
concepts almost alone.
So if I understood, when I create a BSDF matrix with genBSDF I add the +f
+b options in order to obtain both transmission matrix and then dctimestep
does the rest, doesn't it?

Thanks for yours great help,
Giuseppe


2014-07-02 19:12 GMT+02:00 Andrew McNeil <amcneil at lbl.gov>:

> Giuseppe,
>
> The front/back inconsistency is mostly related to the BSDF material
> primitive. For the 3-phase method you don't have to worry about front/back
> of the fenestration. (unless you want to use a BSDF backwards, which might
> be impossible without manually editing the BSDF file).
>
> The BSDF handling has matured quite a bit since the early days of the
> three-phase method. These days dctimestep can use either front transmission
> or back transmission applying reciprocity principles for the three phase
> method.
>
> Andy
>
>
>
>
> On Wed, Jul 2, 2014 at 9:24 AM, CHI-German Molina <gmolina at hdlao.com>
> wrote:
>
>> Guiseppe,
>>
>> The three-phase method simulation method does not use the geometry of the
>> shading device to work. In fact, one advantage of it is that only the
>> BSDF.xml file is needed. If you check Andy's Three-phase method tutorial,
>> you will see that the calculation of the V and D matrices do not require
>> neither the geometry of the shading device nor the BSDF of it (thus making
>> it very easy to try multiple fenestration systems).
>>
>> Adding Geometry information to the BSDF file is useful for using pkgBSDF;
>> not really for the 3phase method. When rays have to go through the
>> fenestration system (i.e. rendering a room with venetian blinds, or  when
>> calculating the third matrix of the 5 phase method) a combination of two
>> illums that "wrap" the geometry and the geometry itself seems to be more
>> efficient. My understanding (I might be completely wrong) is that the
>> illums are used to transfer the diffuse (indirect??) radiation; and the
>> geometry is used for transfering direct radiation, casting shadows.
>>
>> My answer to the first question:
>>
>> *1.  in the equation i=VTDs the T matrix has to contain the window
>> geometry or take knowledge of these from the other two matrix(V,D)? *
>>
>> Nope. After the V and D matrices are calculated, the simulation is
>> performed by simply multiplying matrices... no geometry.
>>
>>
>> The second question is something that confuses me... it would be good to
>> have clarification here.
>>
>> Hope this helps!
>>
>> Germ?n
>>
>>
>> 2014-07-02 11:54 GMT-04:00 Giuseppe De Michele <giudm.87 at gmail.com>:
>>
>>> Dear all,
>>>
>>> I am working with the 3 phase method (only from a few weeks) and I am
>>> trying to understand the BSDF file format and how the 3 phase method read
>>> it.
>>>
>>>  I have noticed that if I use the bsdf created with the command:
>>> genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
>>> the .xml file contain same geometrical dimension (height, width). In
>>> fact if I use the command:
>>> pkgBSDF -s blinds.xml > blinds_pkg.rad
>>> the output file contain the original geometry.
>>>
>>> Instead if I use the BSDF created or contained  in the database of
>>> WINDOW 7 these file do not contain a geometry.
>>> With pkgBSDF I got an error.
>>>
>>> My questions are:
>>> 1.  in the equation i=VTDs the T matrix has to contain the window
>>> geometry or take knowledge of these from the other two matrix(V,D)?
>>> 2.  I have understood that 3 phase method uses only the front
>>> transmission data [A. McNeil, Three-Phase Method tutorial]  but in
>>>  an other discussion [
>>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html
>>> ]  I have discovered that WINDOW and genBSDF use an opposite meaning of
>>> front and back, so the front transmission regards radiance or window
>>> meaning?And what part of the T matrix I have to use in the 3 phase method
>>> for the respective cases (WINDOW or genBSDF)?
>>>
>>> Kind regards,
>>> *Giuseppe*
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>>
>> --
>> *Germ?n Molina L.*
>> Ingeniero Trainee
>> Hunter Douglas Chile S.A.
>> Celular +569 89224445
>>
>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
>> son confidenciales y pueden contener informacion privilegiada protegida por
>> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
>> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
>> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
>> electronicos son susceptibles de ser cambiados, infectados o adulterados
>> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
>> cambios o sus consecuencias. Usted debe estar informado que la compania
>> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
>> gracias.
>>
>> *Confidentiality Notice:* The information contained in this email
>> message, including any attachment, is confidential and is intended only for
>> the person or entity to which it is addressed. If you are neither the
>> intended recipient nor the employee or agent responsible for delivering
>> this message to the intended recipient, you are hereby notified that you
>> may not review, retransmit, convert to hard copy, copy, use or distribute
>> this email message or any attachments to it. If you have received this
>> email in error, please contact the sender immediately and delete this
>> message from any computer or other data bank, Thank you.
>>
>> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
>> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
>> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
>> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>> antiv?rus antes de qualquer uso.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Giuseppe De Michele*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140703/adb5a0fb/attachment.html>

From amcneil at lbl.gov  Mon Jul  7 07:32:10 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Mon, 7 Jul 2014 07:32:10 -0700
Subject: [Radiance-general] BSDF question
In-Reply-To: <CAOn=hKECw-s-T91ThKBrsVmpnTSWi1UcdxFGEadhS9qHS6k7OA@mail.gmail.com>
References: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
	<CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>
	<CAOG+Niw3QbK2MbS14otkUWhuAU14e135d7KZqk_cOcz24Z14yQ@mail.gmail.com>
	<CAOn=hKECw-s-T91ThKBrsVmpnTSWi1UcdxFGEadhS9qHS6k7OA@mail.gmail.com>
Message-ID: <CAOG+NixdRY7sGCAnj0bHY=TFTcaha4BZkA8N-wtyMpO_j71htg@mail.gmail.com>

Hi Giuseppe,

You only really need either +f or +b, not both.  genBSDF does +b by default
so if you only wanted to do the forward direction you should use +f -b.
Doing one direction takes about half as much time as doing both directions.
However, if you want to import into Window you'll need to do both
directions.

Andy


On Thu, Jul 3, 2014 at 12:45 AM, Giuseppe De Michele <giudm.87 at gmail.com>
wrote:

> Germ?n and Andy,
>
> meanwhile thank you for the answers and sorry if my questions are a little
> bit confused. I am a newbie of the "lighting art" and I am studying this
> concepts almost alone.
> So if I understood, when I create a BSDF matrix with genBSDF I add the +f
> +b options in order to obtain both transmission matrix and then dctimestep
> does the rest, doesn't it?
>
> Thanks for yours great help,
> Giuseppe
>
>
> 2014-07-02 19:12 GMT+02:00 Andrew McNeil <amcneil at lbl.gov>:
>
> Giuseppe,
>>
>> The front/back inconsistency is mostly related to the BSDF material
>> primitive. For the 3-phase method you don't have to worry about front/back
>> of the fenestration. (unless you want to use a BSDF backwards, which might
>> be impossible without manually editing the BSDF file).
>>
>> The BSDF handling has matured quite a bit since the early days of the
>> three-phase method. These days dctimestep can use either front transmission
>> or back transmission applying reciprocity principles for the three phase
>> method.
>>
>> Andy
>>
>>
>>
>>
>> On Wed, Jul 2, 2014 at 9:24 AM, CHI-German Molina <gmolina at hdlao.com>
>> wrote:
>>
>>> Guiseppe,
>>>
>>> The three-phase method simulation method does not use the geometry of
>>> the shading device to work. In fact, one advantage of it is that only the
>>> BSDF.xml file is needed. If you check Andy's Three-phase method tutorial,
>>> you will see that the calculation of the V and D matrices do not require
>>> neither the geometry of the shading device nor the BSDF of it (thus making
>>> it very easy to try multiple fenestration systems).
>>>
>>> Adding Geometry information to the BSDF file is useful for using
>>> pkgBSDF; not really for the 3phase method. When rays have to go through the
>>> fenestration system (i.e. rendering a room with venetian blinds, or  when
>>> calculating the third matrix of the 5 phase method) a combination of two
>>> illums that "wrap" the geometry and the geometry itself seems to be more
>>> efficient. My understanding (I might be completely wrong) is that the
>>> illums are used to transfer the diffuse (indirect??) radiation; and the
>>> geometry is used for transfering direct radiation, casting shadows.
>>>
>>> My answer to the first question:
>>>
>>> *1.  in the equation i=VTDs the T matrix has to contain the window
>>> geometry or take knowledge of these from the other two matrix(V,D)? *
>>>
>>> Nope. After the V and D matrices are calculated, the simulation is
>>> performed by simply multiplying matrices... no geometry.
>>>
>>>
>>> The second question is something that confuses me... it would be good to
>>> have clarification here.
>>>
>>> Hope this helps!
>>>
>>> Germ?n
>>>
>>>
>>> 2014-07-02 11:54 GMT-04:00 Giuseppe De Michele <giudm.87 at gmail.com>:
>>>
>>>> Dear all,
>>>>
>>>> I am working with the 3 phase method (only from a few weeks) and I am
>>>> trying to understand the BSDF file format and how the 3 phase method read
>>>> it.
>>>>
>>>>  I have noticed that if I use the bsdf created with the command:
>>>> genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
>>>> the .xml file contain same geometrical dimension (height, width). In
>>>> fact if I use the command:
>>>> pkgBSDF -s blinds.xml > blinds_pkg.rad
>>>> the output file contain the original geometry.
>>>>
>>>> Instead if I use the BSDF created or contained  in the database of
>>>> WINDOW 7 these file do not contain a geometry.
>>>> With pkgBSDF I got an error.
>>>>
>>>> My questions are:
>>>> 1.  in the equation i=VTDs the T matrix has to contain the window
>>>> geometry or take knowledge of these from the other two matrix(V,D)?
>>>> 2.  I have understood that 3 phase method uses only the front
>>>> transmission data [A. McNeil, Three-Phase Method tutorial]  but in
>>>>  an other discussion [
>>>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html
>>>> ]  I have discovered that WINDOW and genBSDF use an opposite meaning of
>>>> front and back, so the front transmission regards radiance or window
>>>> meaning?And what part of the T matrix I have to use in the 3 phase method
>>>> for the respective cases (WINDOW or genBSDF)?
>>>>
>>>> Kind regards,
>>>> *Giuseppe*
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>>
>>> --
>>> *Germ?n Molina L.*
>>> Ingeniero Trainee
>>> Hunter Douglas Chile S.A.
>>> Celular +569 89224445
>>>
>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
>>> son confidenciales y pueden contener informacion privilegiada protegida por
>>> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
>>> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
>>> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
>>> electronicos son susceptibles de ser cambiados, infectados o adulterados
>>> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
>>> cambios o sus consecuencias. Usted debe estar informado que la compania
>>> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
>>> gracias.
>>>
>>> *Confidentiality Notice:* The information contained in this email
>>> message, including any attachment, is confidential and is intended only for
>>> the person or entity to which it is addressed. If you are neither the
>>> intended recipient nor the employee or agent responsible for delivering
>>> this message to the intended recipient, you are hereby notified that you
>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>> this email message or any attachments to it. If you have received this
>>> email in error, please contact the sender immediately and delete this
>>> message from any computer or other data bank, Thank you.
>>>
>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
>>> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
>>> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
>>> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>> antiv?rus antes de qualquer uso.
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> *Giuseppe De Michele*
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140707/9382a083/attachment.html>

From gmolina at hdlao.com  Mon Jul  7 07:39:33 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Mon, 7 Jul 2014 10:39:33 -0400
Subject: [Radiance-general] BSDF question
In-Reply-To: <CAOG+NixdRY7sGCAnj0bHY=TFTcaha4BZkA8N-wtyMpO_j71htg@mail.gmail.com>
References: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
	<CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>
	<CAOG+Niw3QbK2MbS14otkUWhuAU14e135d7KZqk_cOcz24Z14yQ@mail.gmail.com>
	<CAOn=hKECw-s-T91ThKBrsVmpnTSWi1UcdxFGEadhS9qHS6k7OA@mail.gmail.com>
	<CAOG+NixdRY7sGCAnj0bHY=TFTcaha4BZkA8N-wtyMpO_j71htg@mail.gmail.com>
Message-ID: <CAK+g53DVLaNiyEv32GFrFKK3R4aTAxP+2effH9o6tV4xrwW=+g@mail.gmail.com>

Andy,

How about using BSDFs for ray-tracing calculations? Does it use reciprocity
as well? or should we calculate +b ?

Also, was I correct when I said that the BSDFd "Proxy Geometry" is only
used for ambient calculations, and the geometry for Direct?

THANKS!

German


2014-07-07 10:32 GMT-04:00 Andrew McNeil <amcneil at lbl.gov>:

> Hi Giuseppe,
>
> You only really need either +f or +b, not both.  genBSDF does +b by
> default so if you only wanted to do the forward direction you should use +f
> -b. Doing one direction takes about half as much time as doing both
> directions. However, if you want to import into Window you'll need to do
> both directions.
>
> Andy
>
>
> On Thu, Jul 3, 2014 at 12:45 AM, Giuseppe De Michele <giudm.87 at gmail.com>
> wrote:
>
>> Germ?n and Andy,
>>
>> meanwhile thank you for the answers and sorry if my questions are a
>> little bit confused. I am a newbie of the "lighting art" and I am studying
>> this concepts almost alone.
>> So if I understood, when I create a BSDF matrix with genBSDF I add the
>> +f +b options in order to obtain both transmission matrix and then
>> dctimestep does the rest, doesn't it?
>>
>> Thanks for yours great help,
>> Giuseppe
>>
>>
>> 2014-07-02 19:12 GMT+02:00 Andrew McNeil <amcneil at lbl.gov>:
>>
>> Giuseppe,
>>>
>>> The front/back inconsistency is mostly related to the BSDF material
>>> primitive. For the 3-phase method you don't have to worry about front/back
>>> of the fenestration. (unless you want to use a BSDF backwards, which might
>>> be impossible without manually editing the BSDF file).
>>>
>>> The BSDF handling has matured quite a bit since the early days of the
>>> three-phase method. These days dctimestep can use either front transmission
>>> or back transmission applying reciprocity principles for the three phase
>>> method.
>>>
>>> Andy
>>>
>>>
>>>
>>>
>>> On Wed, Jul 2, 2014 at 9:24 AM, CHI-German Molina <gmolina at hdlao.com>
>>> wrote:
>>>
>>>> Guiseppe,
>>>>
>>>> The three-phase method simulation method does not use the geometry of
>>>> the shading device to work. In fact, one advantage of it is that only the
>>>> BSDF.xml file is needed. If you check Andy's Three-phase method tutorial,
>>>> you will see that the calculation of the V and D matrices do not require
>>>> neither the geometry of the shading device nor the BSDF of it (thus making
>>>> it very easy to try multiple fenestration systems).
>>>>
>>>> Adding Geometry information to the BSDF file is useful for using
>>>> pkgBSDF; not really for the 3phase method. When rays have to go through the
>>>> fenestration system (i.e. rendering a room with venetian blinds, or  when
>>>> calculating the third matrix of the 5 phase method) a combination of two
>>>> illums that "wrap" the geometry and the geometry itself seems to be more
>>>> efficient. My understanding (I might be completely wrong) is that the
>>>> illums are used to transfer the diffuse (indirect??) radiation; and the
>>>> geometry is used for transfering direct radiation, casting shadows.
>>>>
>>>> My answer to the first question:
>>>>
>>>> *1.  in the equation i=VTDs the T matrix has to contain the window
>>>> geometry or take knowledge of these from the other two matrix(V,D)? *
>>>>
>>>> Nope. After the V and D matrices are calculated, the simulation is
>>>> performed by simply multiplying matrices... no geometry.
>>>>
>>>>
>>>> The second question is something that confuses me... it would be good
>>>> to have clarification here.
>>>>
>>>> Hope this helps!
>>>>
>>>> Germ?n
>>>>
>>>>
>>>> 2014-07-02 11:54 GMT-04:00 Giuseppe De Michele <giudm.87 at gmail.com>:
>>>>
>>>>> Dear all,
>>>>>
>>>>> I am working with the 3 phase method (only from a few weeks) and I am
>>>>> trying to understand the BSDF file format and how the 3 phase method read
>>>>> it.
>>>>>
>>>>>  I have noticed that if I use the bsdf created with the command:
>>>>> genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
>>>>> the .xml file contain same geometrical dimension (height, width). In
>>>>> fact if I use the command:
>>>>> pkgBSDF -s blinds.xml > blinds_pkg.rad
>>>>> the output file contain the original geometry.
>>>>>
>>>>> Instead if I use the BSDF created or contained  in the database of
>>>>> WINDOW 7 these file do not contain a geometry.
>>>>> With pkgBSDF I got an error.
>>>>>
>>>>> My questions are:
>>>>> 1.  in the equation i=VTDs the T matrix has to contain the window
>>>>> geometry or take knowledge of these from the other two matrix(V,D)?
>>>>> 2.  I have understood that 3 phase method uses only the front
>>>>> transmission data [A. McNeil, Three-Phase Method tutorial]  but in
>>>>>  an other discussion [
>>>>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html
>>>>> ]  I have discovered that WINDOW and genBSDF use an opposite meaning of
>>>>> front and back, so the front transmission regards radiance or window
>>>>> meaning?And what part of the T matrix I have to use in the 3 phase method
>>>>> for the respective cases (WINDOW or genBSDF)?
>>>>>
>>>>> Kind regards,
>>>>> *Giuseppe*
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> *Germ?n Molina L.*
>>>> Ingeniero Trainee
>>>> Hunter Douglas Chile S.A.
>>>> Celular +569 89224445
>>>>
>>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>>> adjuntos son confidenciales y pueden contener informacion privilegiada
>>>> protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de
>>>> copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por
>>>> favor, avise inmediatamente al emisor y borre este mensaje de su sistema.
>>>> Los mensajes electronicos son susceptibles de ser cambiados, infectados o
>>>> adulterados sin autorizacion. No asumimos responsabilidad alguna por
>>>> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
>>>> que la compania puede hacer un seguimiento de sus mensajes electronicos y
>>>> su contenido, gracias.
>>>>
>>>> *Confidentiality Notice:* The information contained in this email
>>>> message, including any attachment, is confidential and is intended only for
>>>> the person or entity to which it is addressed. If you are neither the
>>>> intended recipient nor the employee or agent responsible for delivering
>>>> this message to the intended recipient, you are hereby notified that you
>>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>>> this email message or any attachments to it. If you have received this
>>>> email in error, please contact the sender immediately and delete this
>>>> message from any computer or other data bank, Thank you.
>>>>
>>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo
>>>> do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
>>>> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
>>>> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>>> antiv?rus antes de qualquer uso.
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>>
>> --
>> *Giuseppe De Michele*
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140707/54b58626/attachment-0001.html>

From gregoryjward at gmail.com  Mon Jul  7 08:39:29 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 7 Jul 2014 08:39:29 -0700
Subject: [Radiance-general] BSDF question
In-Reply-To: <CAK+g53DVLaNiyEv32GFrFKK3R4aTAxP+2effH9o6tV4xrwW=+g@mail.gmail.com>
References: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
	<CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>
	<CAOG+Niw3QbK2MbS14otkUWhuAU14e135d7KZqk_cOcz24Z14yQ@mail.gmail.com>
	<CAOn=hKECw-s-T91ThKBrsVmpnTSWi1UcdxFGEadhS9qHS6k7OA@mail.gmail.com>
	<CAOG+NixdRY7sGCAnj0bHY=TFTcaha4BZkA8N-wtyMpO_j71htg@mail.gmail.com>
	<CAK+g53DVLaNiyEv32GFrFKK3R4aTAxP+2effH9o6tV4xrwW=+g@mail.gmail.com>
Message-ID: <B8D3C39C-D2D9-49B3-8DFC-AFE120A6DF1E@lmi.net>

Reciprocity works for every BSDF type in Radiance except isotropic tensor trees, so specify +f with the -t3 option if you want transmission to go both ways.  Also, you need +f to get the reflected rays on the opposite side of the surface, so you may want it under some other circumstances as well.

The geometry (if present) is used for shadow calculation during the direct calculation and for viewing the system, while the BSDF is used for all other purposes.

Cheers,
-Greg

> From: CHI-German Molina <gmolina at hdlao.com>
> Subject: Re: [Radiance-general] BSDF question
> Date: July 7, 2014 7:39:33 AM PDT
> 
> Andy, 
> 
> How about using BSDFs for ray-tracing calculations? Does it use reciprocity as well? or should we calculate +b ?
> 
> Also, was I correct when I said that the BSDFd "Proxy Geometry" is only used for ambient calculations, and the geometry for Direct?
> 
> THANKS!
> 
> German
> 
> 
> 2014-07-07 10:32 GMT-04:00 Andrew McNeil <amcneil at lbl.gov>:
> Hi Giuseppe,
> 
> You only really need either +f or +b, not both.  genBSDF does +b by default so if you only wanted to do the forward direction you should use +f -b. Doing one direction takes about half as much time as doing both directions. However, if you want to import into Window you'll need to do both directions.
> 
> Andy
> 
> 
> On Thu, Jul 3, 2014 at 12:45 AM, Giuseppe De Michele <giudm.87 at gmail.com> wrote:
> Germ?n and Andy,
> 
> meanwhile thank you for the answers and sorry if my questions are a little bit confused. I am a newbie of the "lighting art" and I am studying this concepts almost alone. 
> So if I understood, when I create a BSDF matrix with genBSDF I add the +f +b options in order to obtain both transmission matrix and then dctimestep does the rest, doesn't it?
>  
> Thanks for yours great help,
> Giuseppe
> 
> 
> 2014-07-02 19:12 GMT+02:00 Andrew McNeil <amcneil at lbl.gov>:
> 
> Giuseppe,
> 
> The front/back inconsistency is mostly related to the BSDF material primitive. For the 3-phase method you don't have to worry about front/back of the fenestration. (unless you want to use a BSDF backwards, which might be impossible without manually editing the BSDF file).
> 
> The BSDF handling has matured quite a bit since the early days of the three-phase method. These days dctimestep can use either front transmission or back transmission applying reciprocity principles for the three phase method.
> 
> Andy
> 
> 
> 
> 
> On Wed, Jul 2, 2014 at 9:24 AM, CHI-German Molina <gmolina at hdlao.com> wrote:
> Guiseppe, 
> 
> The three-phase method simulation method does not use the geometry of the shading device to work. In fact, one advantage of it is that only the BSDF.xml file is needed. If you check Andy's Three-phase method tutorial, you will see that the calculation of the V and D matrices do not require neither the geometry of the shading device nor the BSDF of it (thus making it very easy to try multiple fenestration systems).
> 
> Adding Geometry information to the BSDF file is useful for using pkgBSDF; not really for the 3phase method. When rays have to go through the fenestration system (i.e. rendering a room with venetian blinds, or  when calculating the third matrix of the 5 phase method) a combination of two illums that "wrap" the geometry and the geometry itself seems to be more efficient. My understanding (I might be completely wrong) is that the illums are used to transfer the diffuse (indirect??) radiation; and the geometry is used for transfering direct radiation, casting shadows.
> 
> My answer to the first question:
> 
> 1.  in the equation i=VTDs the T matrix has to contain the window geometry or take knowledge of these from the other two matrix(V,D)? 
> 
> Nope. After the V and D matrices are calculated, the simulation is performed by simply multiplying matrices... no geometry.
> 
> 
> The second question is something that confuses me... it would be good to have clarification here.
> 
> Hope this helps!
> 
> Germ?n
> 
> 
> 2014-07-02 11:54 GMT-04:00 Giuseppe De Michele <giudm.87 at gmail.com>:
> Dear all,
> 
> I am working with the 3 phase method (only from a few weeks) and I am trying to understand the BSDF file format and how the 3 phase method read it.
> 
>  I have noticed that if I use the bsdf created with the command:
> genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
> the .xml file contain same geometrical dimension (height, width). In fact if I use the command: 
> pkgBSDF -s blinds.xml > blinds_pkg.rad
> the output file contain the original geometry.
> 
> Instead if I use the BSDF created or contained  in the database of WINDOW 7 these file do not contain a geometry.
> With pkgBSDF I got an error. 
>  
> My questions are: 
> 1.  in the equation i=VTDs the T matrix has to contain the window geometry or take knowledge of these from the other two matrix(V,D)? 
> 2.  I have understood that 3 phase method uses only the front transmission data [A. McNeil, Three-Phase Method tutorial]  but in
>  an other discussion [ http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html ]  I have discovered that WINDOW and genBSDF use an opposite meaning of front and back, so the front transmission regards radiance or window meaning?And what part of the T matrix I have to use in the 3 phase method for the respective cases (WINDOW or genBSDF)?  
> 
> Kind regards,
> Giuseppe
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> 
> 
> -- 
> Germ?n Molina L.
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
> 
> Nota de Confidencialidad: Este mensaje inclu?do los archivos adjuntos son confidenciales y pueden contener informacion privilegiada protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes electronicos son susceptibles de ser cambiados, infectados o adulterados sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de cambios o sus consecuencias. Usted debe estar informado que la compania puede hacer un seguimiento de sus mensajes electronicos y su contenido, gracias.
> 
> Confidentiality Notice: The information contained in this email message, including any attachment, is confidential and is intended only for the person or entity to which it is addressed. If you are neither the intended recipient nor the employee or agent responsible for delivering this message to the intended recipient, you are hereby notified that you may not review, retransmit, convert to hard copy, copy, use or distribute this email message or any attachments to it. If you have received this email in error, please contact the sender immediately and delete this message from any computer or other data bank, Thank you.
> 
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir responsabilidade por nenhuma perda ou dano causado por este e-mail ou de seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de antiv?rus antes de qualquer uso.
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> 
> 
> -- 
> Giuseppe De Michele
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> 
> 
> -- 
> Germ?n Molina L.
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
> 
> Nota de Confidencialidad: Este mensaje inclu?do los archivos adjuntos son confidenciales y pueden contener informacion privilegiada protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes electronicos son susceptibles de ser cambiados, infectados o adulterados sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de cambios o sus consecuencias. Usted debe estar informado que la compania puede hacer un seguimiento de sus mensajes electronicos y su contenido, gracias.
> 
> Confidentiality Notice: The information contained in this email message, including any attachment, is confidential and is intended only for the person or entity to which it is addressed. If you are neither the intended recipient nor the employee or agent responsible for delivering this message to the intended recipient, you are hereby notified that you may not review, retransmit, convert to hard copy, copy, use or distribute this email message or any attachments to it. If you have received this email in error, please contact the sender immediately and delete this message from any computer or other data bank, Thank you.
> 
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir responsabilidade por nenhuma perda ou dano causado por este e-mail ou de seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de antiv?rus antes de qualquer uso.
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140707/2724ca12/attachment-0001.html>

From gmolina at hdlao.com  Mon Jul  7 08:42:22 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Mon, 7 Jul 2014 11:42:22 -0400
Subject: [Radiance-general] BSDF question
In-Reply-To: <B8D3C39C-D2D9-49B3-8DFC-AFE120A6DF1E@lmi.net>
References: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
	<CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>
	<CAOG+Niw3QbK2MbS14otkUWhuAU14e135d7KZqk_cOcz24Z14yQ@mail.gmail.com>
	<CAOn=hKECw-s-T91ThKBrsVmpnTSWi1UcdxFGEadhS9qHS6k7OA@mail.gmail.com>
	<CAOG+NixdRY7sGCAnj0bHY=TFTcaha4BZkA8N-wtyMpO_j71htg@mail.gmail.com>
	<CAK+g53DVLaNiyEv32GFrFKK3R4aTAxP+2effH9o6tV4xrwW=+g@mail.gmail.com>
	<B8D3C39C-D2D9-49B3-8DFC-AFE120A6DF1E@lmi.net>
Message-ID: <CAK+g53A-bu10jfPfNbbawmX5ktaAanmc2fLXUAa577D2FrhLDA@mail.gmail.com>

Awesome.

Thanks Greg!


2014-07-07 11:39 GMT-04:00 Greg Ward <gregoryjward at gmail.com>:

> Reciprocity works for every BSDF type in Radiance except isotropic tensor
> trees, so specify +f with the -t3 option if you want transmission to go
> both ways.  Also, you need +f to get the reflected rays on the opposite
> side of the surface, so you may want it under some other circumstances as
> well.
>
> The geometry (if present) is used for shadow calculation during the direct
> calculation and for viewing the system, while the BSDF is used for all
> other purposes.
>
> Cheers,
> -Greg
>
> *From: *CHI-German Molina <gmolina at hdlao.com>
>
> *Subject: *Re: [Radiance-general] BSDF question
>
> *Date: *July 7, 2014 7:39:33 AM PDT
>
>
>  Andy,
>
> How about using BSDFs for ray-tracing calculations? Does it use
> reciprocity as well? or should we calculate +b ?
>
> Also, was I correct when I said that the BSDFd "Proxy Geometry" is only
> used for ambient calculations, and the geometry for Direct?
>
> THANKS!
>
> German
>
>
> 2014-07-07 10:32 GMT-04:00 Andrew McNeil <amcneil at lbl.gov>:
>
>> Hi Giuseppe,
>>
>> You only really need either +f or +b, not both.  genBSDF does +b by
>> default so if you only wanted to do the forward direction you should use +f
>> -b. Doing one direction takes about half as much time as doing both
>> directions. However, if you want to import into Window you'll need to do
>> both directions.
>>
>> Andy
>>
>>
>> On Thu, Jul 3, 2014 at 12:45 AM, Giuseppe De Michele <giudm.87 at gmail.com>
>> wrote:
>>
>>> Germ?n and Andy,
>>>
>>> meanwhile thank you for the answers and sorry if my questions are a
>>> little bit confused. I am a newbie of the "lighting art" and I am studying
>>> this concepts almost alone.
>>> So if I understood, when I create a BSDF matrix with genBSDF I add the
>>> +f +b options in order to obtain both transmission matrix and then
>>> dctimestep does the rest, doesn't it?
>>>
>>> Thanks for yours great help,
>>> Giuseppe
>>>
>>>
>>> 2014-07-02 19:12 GMT+02:00 Andrew McNeil <amcneil at lbl.gov>:
>>>
>>> Giuseppe,
>>>>
>>>> The front/back inconsistency is mostly related to the BSDF material
>>>> primitive. For the 3-phase method you don't have to worry about front/back
>>>> of the fenestration. (unless you want to use a BSDF backwards, which might
>>>> be impossible without manually editing the BSDF file).
>>>>
>>>> The BSDF handling has matured quite a bit since the early days of the
>>>> three-phase method. These days dctimestep can use either front transmission
>>>> or back transmission applying reciprocity principles for the three phase
>>>> method.
>>>>
>>>> Andy
>>>>
>>>>
>>>>
>>>>
>>>> On Wed, Jul 2, 2014 at 9:24 AM, CHI-German Molina <gmolina at hdlao.com>
>>>> wrote:
>>>>
>>>>> Guiseppe,
>>>>>
>>>>> The three-phase method simulation method does not use the geometry of
>>>>> the shading device to work. In fact, one advantage of it is that only the
>>>>> BSDF.xml file is needed. If you check Andy's Three-phase method tutorial,
>>>>> you will see that the calculation of the V and D matrices do not require
>>>>> neither the geometry of the shading device nor the BSDF of it (thus making
>>>>> it very easy to try multiple fenestration systems).
>>>>>
>>>>> Adding Geometry information to the BSDF file is useful for using
>>>>> pkgBSDF; not really for the 3phase method. When rays have to go through the
>>>>> fenestration system (i.e. rendering a room with venetian blinds, or  when
>>>>> calculating the third matrix of the 5 phase method) a combination of two
>>>>> illums that "wrap" the geometry and the geometry itself seems to be more
>>>>> efficient. My understanding (I might be completely wrong) is that the
>>>>> illums are used to transfer the diffuse (indirect??) radiation; and the
>>>>> geometry is used for transfering direct radiation, casting shadows.
>>>>>
>>>>> My answer to the first question:
>>>>>
>>>>> *1.  in the equation i=VTDs the T matrix has to contain the window
>>>>> geometry or take knowledge of these from the other two matrix(V,D)? *
>>>>>
>>>>> Nope. After the V and D matrices are calculated, the simulation is
>>>>> performed by simply multiplying matrices... no geometry.
>>>>>
>>>>>
>>>>> The second question is something that confuses me... it would be good
>>>>> to have clarification here.
>>>>>
>>>>> Hope this helps!
>>>>>
>>>>> Germ?n
>>>>>
>>>>>
>>>>> 2014-07-02 11:54 GMT-04:00 Giuseppe De Michele <giudm.87 at gmail.com>:
>>>>>
>>>>>> Dear all,
>>>>>>
>>>>>> I am working with the 3 phase method (only from a few weeks) and I am
>>>>>> trying to understand the BSDF file format and how the 3 phase method read
>>>>>> it.
>>>>>>
>>>>>>  I have noticed that if I use the bsdf created with the command:
>>>>>> genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
>>>>>> the .xml file contain same geometrical dimension (height, width). In
>>>>>> fact if I use the command:
>>>>>> pkgBSDF -s blinds.xml > blinds_pkg.rad
>>>>>> the output file contain the original geometry.
>>>>>>
>>>>>> Instead if I use the BSDF created or contained  in the database of
>>>>>> WINDOW 7 these file do not contain a geometry.
>>>>>> With pkgBSDF I got an error.
>>>>>>
>>>>>> My questions are:
>>>>>> 1.  in the equation i=VTDs the T matrix has to contain the window
>>>>>> geometry or take knowledge of these from the other two matrix(V,D)?
>>>>>> 2.  I have understood that 3 phase method uses only the front
>>>>>> transmission data [A. McNeil, Three-Phase Method tutorial]  but in
>>>>>>  an other discussion [
>>>>>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html
>>>>>> ]  I have discovered that WINDOW and genBSDF use an opposite meaning of
>>>>>> front and back, so the front transmission regards radiance or window
>>>>>> meaning?And what part of the T matrix I have to use in the 3 phase method
>>>>>> for the respective cases (WINDOW or genBSDF)?
>>>>>>
>>>>>> Kind regards,
>>>>>> *Giuseppe*
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> *Germ?n Molina L.*
>>>>> Ingeniero Trainee
>>>>> Hunter Douglas Chile S.A.
>>>>> Celular +569 89224445
>>>>>
>>>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>>>> adjuntos son confidenciales y pueden contener informacion privilegiada
>>>>> protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de
>>>>> copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por
>>>>> favor, avise inmediatamente al emisor y borre este mensaje de su sistema.
>>>>> Los mensajes electronicos son susceptibles de ser cambiados, infectados o
>>>>> adulterados sin autorizacion. No asumimos responsabilidad alguna por
>>>>> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
>>>>> que la compania puede hacer un seguimiento de sus mensajes electronicos y
>>>>> su contenido, gracias.
>>>>>
>>>>> *Confidentiality Notice:* The information contained in this email
>>>>> message, including any attachment, is confidential and is intended only for
>>>>> the person or entity to which it is addressed. If you are neither the
>>>>> intended recipient nor the employee or agent responsible for delivering
>>>>> this message to the intended recipient, you are hereby notified that you
>>>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>>>> this email message or any attachments to it. If you have received this
>>>>> email in error, please contact the sender immediately and delete this
>>>>> message from any computer or other data bank, Thank you.
>>>>>
>>>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo
>>>>> do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
>>>>> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
>>>>> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>>>> antiv?rus antes de qualquer uso.
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>>
>>> --
>>> *Giuseppe De Michele*
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
> son confidenciales y pueden contener informacion privilegiada protegida por
> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
> electronicos son susceptibles de ser cambiados, infectados o adulterados
> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
> cambios o sus consecuencias. Usted debe estar informado que la compania
> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
> gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only for
> the person or entity to which it is addressed. If you are neither the
> intended recipient nor the employee or agent responsible for delivering
> this message to the intended recipient, you are hereby notified that you
> may not review, retransmit, convert to hard copy, copy, use or distribute
> this email message or any attachments to it. If you have received this
> email in error, please contact the sender immediately and delete this
> message from any computer or other data bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
> antiv?rus antes de qualquer uso.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140707/eec1a71a/attachment-0001.html>

From giudm.87 at gmail.com  Wed Jul  9 00:30:37 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Wed, 9 Jul 2014 09:30:37 +0200
Subject: [Radiance-general] BSDF question
In-Reply-To: <CAK+g53A-bu10jfPfNbbawmX5ktaAanmc2fLXUAa577D2FrhLDA@mail.gmail.com>
References: <CAOn=hKFEOqarG-DV3AoGONwUzeBzX1_ynVRQ5bj13M3yk+mw3g@mail.gmail.com>
	<CAK+g53D6Stks_Y7XGB=S=Lricc4cn0SHN_z81TS9jLFQqo8G9w@mail.gmail.com>
	<CAOG+Niw3QbK2MbS14otkUWhuAU14e135d7KZqk_cOcz24Z14yQ@mail.gmail.com>
	<CAOn=hKECw-s-T91ThKBrsVmpnTSWi1UcdxFGEadhS9qHS6k7OA@mail.gmail.com>
	<CAOG+NixdRY7sGCAnj0bHY=TFTcaha4BZkA8N-wtyMpO_j71htg@mail.gmail.com>
	<CAK+g53DVLaNiyEv32GFrFKK3R4aTAxP+2effH9o6tV4xrwW=+g@mail.gmail.com>
	<B8D3C39C-D2D9-49B3-8DFC-AFE120A6DF1E@lmi.net>
	<CAK+g53A-bu10jfPfNbbawmX5ktaAanmc2fLXUAa577D2FrhLDA@mail.gmail.com>
Message-ID: <CAOn=hKE9mXA9w+5Oc++9AUGOs5=Hu9JHA0KdriLCV3Q82HdaMw@mail.gmail.com>

Andy,

now is all clear. Thanks.

Giuseppe


2014-07-07 17:42 GMT+02:00 CHI-German Molina <gmolina at hdlao.com>:

> Awesome.
>
> Thanks Greg!
>
>
> 2014-07-07 11:39 GMT-04:00 Greg Ward <gregoryjward at gmail.com>:
>
> Reciprocity works for every BSDF type in Radiance except isotropic tensor
>> trees, so specify +f with the -t3 option if you want transmission to go
>> both ways.  Also, you need +f to get the reflected rays on the opposite
>> side of the surface, so you may want it under some other circumstances as
>> well.
>>
>> The geometry (if present) is used for shadow calculation during the
>> direct calculation and for viewing the system, while the BSDF is used for
>> all other purposes.
>>
>> Cheers,
>> -Greg
>>
>> *From: *CHI-German Molina <gmolina at hdlao.com>
>>
>> *Subject: *Re: [Radiance-general] BSDF question
>>
>> *Date: *July 7, 2014 7:39:33 AM PDT
>>
>>
>>  Andy,
>>
>> How about using BSDFs for ray-tracing calculations? Does it use
>> reciprocity as well? or should we calculate +b ?
>>
>> Also, was I correct when I said that the BSDFd "Proxy Geometry" is only
>> used for ambient calculations, and the geometry for Direct?
>>
>> THANKS!
>>
>> German
>>
>>
>> 2014-07-07 10:32 GMT-04:00 Andrew McNeil <amcneil at lbl.gov>:
>>
>>> Hi Giuseppe,
>>>
>>> You only really need either +f or +b, not both.  genBSDF does +b by
>>> default so if you only wanted to do the forward direction you should use +f
>>> -b. Doing one direction takes about half as much time as doing both
>>> directions. However, if you want to import into Window you'll need to do
>>> both directions.
>>>
>>> Andy
>>>
>>>
>>> On Thu, Jul 3, 2014 at 12:45 AM, Giuseppe De Michele <giudm.87 at gmail.com
>>> > wrote:
>>>
>>>> Germ?n and Andy,
>>>>
>>>> meanwhile thank you for the answers and sorry if my questions are a
>>>> little bit confused. I am a newbie of the "lighting art" and I am studying
>>>> this concepts almost alone.
>>>> So if I understood, when I create a BSDF matrix with genBSDF I add the
>>>> +f +b options in order to obtain both transmission matrix and then
>>>> dctimestep does the rest, doesn't it?
>>>>
>>>> Thanks for yours great help,
>>>> Giuseppe
>>>>
>>>>
>>>> 2014-07-02 19:12 GMT+02:00 Andrew McNeil <amcneil at lbl.gov>:
>>>>
>>>> Giuseppe,
>>>>>
>>>>> The front/back inconsistency is mostly related to the BSDF material
>>>>> primitive. For the 3-phase method you don't have to worry about front/back
>>>>> of the fenestration. (unless you want to use a BSDF backwards, which might
>>>>> be impossible without manually editing the BSDF file).
>>>>>
>>>>> The BSDF handling has matured quite a bit since the early days of the
>>>>> three-phase method. These days dctimestep can use either front transmission
>>>>> or back transmission applying reciprocity principles for the three phase
>>>>> method.
>>>>>
>>>>> Andy
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> On Wed, Jul 2, 2014 at 9:24 AM, CHI-German Molina <gmolina at hdlao.com>
>>>>> wrote:
>>>>>
>>>>>> Guiseppe,
>>>>>>
>>>>>> The three-phase method simulation method does not use the geometry of
>>>>>> the shading device to work. In fact, one advantage of it is that only the
>>>>>> BSDF.xml file is needed. If you check Andy's Three-phase method tutorial,
>>>>>> you will see that the calculation of the V and D matrices do not require
>>>>>> neither the geometry of the shading device nor the BSDF of it (thus making
>>>>>> it very easy to try multiple fenestration systems).
>>>>>>
>>>>>> Adding Geometry information to the BSDF file is useful for using
>>>>>> pkgBSDF; not really for the 3phase method. When rays have to go through the
>>>>>> fenestration system (i.e. rendering a room with venetian blinds, or  when
>>>>>> calculating the third matrix of the 5 phase method) a combination of two
>>>>>> illums that "wrap" the geometry and the geometry itself seems to be more
>>>>>> efficient. My understanding (I might be completely wrong) is that the
>>>>>> illums are used to transfer the diffuse (indirect??) radiation; and the
>>>>>> geometry is used for transfering direct radiation, casting shadows.
>>>>>>
>>>>>> My answer to the first question:
>>>>>>
>>>>>> *1.  in the equation i=VTDs the T matrix has to contain the window
>>>>>> geometry or take knowledge of these from the other two matrix(V,D)? *
>>>>>>
>>>>>> Nope. After the V and D matrices are calculated, the simulation is
>>>>>> performed by simply multiplying matrices... no geometry.
>>>>>>
>>>>>>
>>>>>> The second question is something that confuses me... it would be good
>>>>>> to have clarification here.
>>>>>>
>>>>>> Hope this helps!
>>>>>>
>>>>>> Germ?n
>>>>>>
>>>>>>
>>>>>> 2014-07-02 11:54 GMT-04:00 Giuseppe De Michele <giudm.87 at gmail.com>:
>>>>>>
>>>>>>> Dear all,
>>>>>>>
>>>>>>> I am working with the 3 phase method (only from a few weeks) and I
>>>>>>> am trying to understand the BSDF file format and how the 3 phase method
>>>>>>> read it.
>>>>>>>
>>>>>>>  I have noticed that if I use the bsdf created with the command:
>>>>>>> genBSDF -n 4 +f +b -geom meter material.rad blinds.rad > blinds.xml
>>>>>>> the .xml file contain same geometrical dimension (height, width). In
>>>>>>> fact if I use the command:
>>>>>>> pkgBSDF -s blinds.xml > blinds_pkg.rad
>>>>>>> the output file contain the original geometry.
>>>>>>>
>>>>>>> Instead if I use the BSDF created or contained  in the database of
>>>>>>> WINDOW 7 these file do not contain a geometry.
>>>>>>> With pkgBSDF I got an error.
>>>>>>>
>>>>>>> My questions are:
>>>>>>> 1.  in the equation i=VTDs the T matrix has to contain the window
>>>>>>> geometry or take knowledge of these from the other two matrix(V,D)?
>>>>>>> 2.  I have understood that 3 phase method uses only the front
>>>>>>> transmission data [A. McNeil, Three-Phase Method tutorial]  but in
>>>>>>>  an other discussion [
>>>>>>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008969.html
>>>>>>> ]  I have discovered that WINDOW and genBSDF use an opposite meaning of
>>>>>>> front and back, so the front transmission regards radiance or window
>>>>>>> meaning?And what part of the T matrix I have to use in the 3 phase method
>>>>>>> for the respective cases (WINDOW or genBSDF)?
>>>>>>>
>>>>>>> Kind regards,
>>>>>>> *Giuseppe*
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Radiance-general mailing list
>>>>>>> Radiance-general at radiance-online.org
>>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>>
>>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> *Germ?n Molina L.*
>>>>>> Ingeniero Trainee
>>>>>> Hunter Douglas Chile S.A.
>>>>>> Celular +569 89224445
>>>>>>
>>>>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>>>>> adjuntos son confidenciales y pueden contener informacion privilegiada
>>>>>> protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de
>>>>>> copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por
>>>>>> favor, avise inmediatamente al emisor y borre este mensaje de su sistema.
>>>>>> Los mensajes electronicos son susceptibles de ser cambiados, infectados o
>>>>>> adulterados sin autorizacion. No asumimos responsabilidad alguna por
>>>>>> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
>>>>>> que la compania puede hacer un seguimiento de sus mensajes electronicos y
>>>>>> su contenido, gracias.
>>>>>>
>>>>>> *Confidentiality Notice:* The information contained in this email
>>>>>> message, including any attachment, is confidential and is intended only for
>>>>>> the person or entity to which it is addressed. If you are neither the
>>>>>> intended recipient nor the employee or agent responsible for delivering
>>>>>> this message to the intended recipient, you are hereby notified that you
>>>>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>>>>> this email message or any attachments to it. If you have received this
>>>>>> email in error, please contact the sender immediately and delete this
>>>>>> message from any computer or other data bank, Thank you.
>>>>>>
>>>>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo
>>>>>> do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
>>>>>> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
>>>>>> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>>>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>>>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>>>>> antiv?rus antes de qualquer uso.
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> *Giuseppe De Michele*
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>>
>> --
>> *Germ?n Molina L.*
>> Ingeniero Trainee
>> Hunter Douglas Chile S.A.
>> Celular +569 89224445
>>
>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
>> son confidenciales y pueden contener informacion privilegiada protegida por
>> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
>> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
>> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
>> electronicos son susceptibles de ser cambiados, infectados o adulterados
>> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
>> cambios o sus consecuencias. Usted debe estar informado que la compania
>> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
>> gracias.
>>
>> *Confidentiality Notice:* The information contained in this email
>> message, including any attachment, is confidential and is intended only for
>> the person or entity to which it is addressed. If you are neither the
>> intended recipient nor the employee or agent responsible for delivering
>> this message to the intended recipient, you are hereby notified that you
>> may not review, retransmit, convert to hard copy, copy, use or distribute
>> this email message or any attachments to it. If you have received this
>> email in error, please contact the sender immediately and delete this
>> message from any computer or other data bank, Thank you.
>>
>> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
>> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
>> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
>> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>> antiv?rus antes de qualquer uso.
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
> son confidenciales y pueden contener informacion privilegiada protegida por
> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
> electronicos son susceptibles de ser cambiados, infectados o adulterados
> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
> cambios o sus consecuencias. Usted debe estar informado que la compania
> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
> gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only for
> the person or entity to which it is addressed. If you are neither the
> intended recipient nor the employee or agent responsible for delivering
> this message to the intended recipient, you are hereby notified that you
> may not review, retransmit, convert to hard copy, copy, use or distribute
> this email message or any attachments to it. If you have received this
> email in error, please contact the sender immediately and delete this
> message from any computer or other data bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
> antiv?rus antes de qualquer uso.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Giuseppe De Michele*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140709/587bb20e/attachment-0001.html>

From em.vazifeh at gmail.com  Wed Jul  9 01:03:30 2014
From: em.vazifeh at gmail.com (Ehsan Vazifeh)
Date: Wed, 9 Jul 2014 10:03:30 +0200
Subject: [Radiance-general] genskyvec
Message-ID: <DB798D6C-3314-4E6C-A0AC-7D52361DA245@gmail.com>

Dear Everyone,

I want to create the average radiance Tregenza 145 patches for certain sky model. So far, I know it is possible using genskyvec. The question is, is it possible to use genskyvec to  compute average radiances for a user defined sky model. Better to say, is it possible to pass a sky rad file to genskyvec?

Cheers, Ehsan

From gregoryjward at gmail.com  Wed Jul  9 08:09:49 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 9 Jul 2014 08:09:49 -0700
Subject: [Radiance-general] genskyvec
In-Reply-To: <DB798D6C-3314-4E6C-A0AC-7D52361DA245@gmail.com>
References: <DB798D6C-3314-4E6C-A0AC-7D52361DA245@gmail.com>
Message-ID: <583E27DB-850B-4AC5-874B-312CF4A493C5@lmi.net>

Hi Ehsan,

You can indeed feed genskyvec a different sky, within certain parameters.  It understands the output of both gensky and gendaylit, for example.

Basically, you need to follow the basic form of the sky file, with a sun source (if appropriate) and a modifier named "skyfunc" with the desired distribution.

Hope this helps.
-Greg

> From: Ehsan Vazifeh <em.vazifeh at gmail.com>
> Subject: [Radiance-general] genskyvec
> Date: July 9, 2014 1:03:30 AM PDT
> 
> Dear Everyone,
> 
> I want to create the average radiance Tregenza 145 patches for certain sky model. So far, I know it is possible using genskyvec. The question is, is it possible to use genskyvec to  compute average radiances for a user defined sky model. Better to say, is it possible to pass a sky rad file to genskyvec?
> 
> Cheers, Ehsan


From em.vazifeh at gmail.com  Wed Jul  9 09:47:06 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Wed, 9 Jul 2014 18:47:06 +0200
Subject: [Radiance-general] genskyvec
In-Reply-To: <583E27DB-850B-4AC5-874B-312CF4A493C5@lmi.net>
References: <DB798D6C-3314-4E6C-A0AC-7D52361DA245@gmail.com>
	<583E27DB-850B-4AC5-874B-312CF4A493C5@lmi.net>
Message-ID: <CAJeoGJ4mu5aNzyjYp-ZuXzXvXbjw9VYH7e+nSGHHM3mnHQX1xQ@mail.gmail.com>

Dear Greg,

Definitely helped. below is the command I used, thought interesting for
others:

genskyvec -m 1 -c 1 1 1 < skymodel.rad > patch_radiance_file.dat

Thanks a lot,
Ehsan

On Wed, Jul 9, 2014 at 5:09 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Ehsan,
>
> You can indeed feed genskyvec a different sky, within certain parameters.
>  It understands the output of both gensky and gendaylit, for example.
>
> Basically, you need to follow the basic form of the sky file, with a sun
> source (if appropriate) and a modifier named "skyfunc" with the desired
> distribution.
>
> Hope this helps.
> -Greg
>
> > From: Ehsan Vazifeh <em.vazifeh at gmail.com>
> > Subject: [Radiance-general] genskyvec
> > Date: July 9, 2014 1:03:30 AM PDT
> >
> > Dear Everyone,
> >
> > I want to create the average radiance Tregenza 145 patches for certain
> sky model. So far, I know it is possible using genskyvec. The question is,
> is it possible to use genskyvec to  compute average radiances for a user
> defined sky model. Better to say, is it possible to pass a sky rad file to
> genskyvec?
> >
> > Cheers, Ehsan
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140709/e5a71ab3/attachment.html>

From the.oat.cracker at gmail.com  Thu Jul 10 04:39:04 2014
From: the.oat.cracker at gmail.com (Joe Smith)
Date: Thu, 10 Jul 2014 19:39:04 +0800
Subject: [Radiance-general] HDR Sky Camera @ LBNL's Flexlab
In-Reply-To: <A87DE6D7-66E2-4BDA-9C7A-9307D23A00C8@christianhumann.com>
References: <CAOG+NiyM4q-bfcUKAPdCGhbunO_CRw_110D8RC5SrkgW1=7OeA@mail.gmail.com>
	<CAGhWmF7sHniEKq_w35wpgEme-MriJTjXR5WXoU9gc_8HGk-Tcw@mail.gmail.com>
	<CAK+g53CUg2cQ-uPUkm6TXmimD9_a2ma24xawwgG+ABJPsWaqVw@mail.gmail.com>
	<CAEkFE9hV9R1SQri9tCLsPRTKDfMzqmYbYpmqa=+=8XktgF7F2g@mail.gmail.com>
	<CAOG+NiwrEoAp9gtqZDsXhjrANqSxggnd=ZXwhzJEb63xxopKfw@mail.gmail.com>
	<CAGhWmF6FK4tMawMEacXVcA0v4o5GRjCdUEwehW8Cz4FYJsUTTg@mail.gmail.com>
	<0C0B2933-AF1D-43EC-BA7B-D0343687C523@christianhumann.com>
	<CAGhWmF7i0N-sWaQ6YypgLZf1EeF8fRCVcqWzXZBAtAwQqrqwHQ@mail.gmail.com>
	<A87DE6D7-66E2-4BDA-9C7A-9307D23A00C8@christianhumann.com>
Message-ID: <CAGhWmF7B=T3JRRFa1pRnEWUV1+aWJq4+vD27ho4BXMziUpGwHA@mail.gmail.com>

Dear Chris and the list,

May I ask if the "*fisheye.cal*" file come with Radiance installation only
works with fisheye image took/generated by *angular projection *which is
used by most of the fisheye lens?

Suppose I want to use the HDR fisheye image (for example, a sunny sky
defined by gensky's "+s" option) generated from RPICT as input for
"colorpict", following the approach you explained, I need to use the "-vta"
option for RPICT, is it?

If it is the case, how to create our own .cal file to map fisheye image
using hemispherical (-vth) or stereographic (-vts) projection?

Thank you!
Joe


On Tue, Jul 1, 2014 at 11:52 PM, Christian Humann <chris at christianhumann.com
> wrote:

> Hi Joe,
>
> Thank you for the references.
>
> The HDR image by default is co-planar with the x and z axis with its
> surface normal pointing in the negative y direction.  You'll need to
> translate the image so that its surface normal is pointed down along the
> negative z axis and rotate it so that North is up when looking up towards
> zenith.
>
> The groundglow description is actually not necessary and has no effect. If
> you wanted to define the ground for inclusion in a scene you could use the
> following:
>
> void glow groundglow
> 0
> 0
> 4 .15 .15 .15 0    #(.15 .15 .15 = RGB values for the ground material)
>
> groundglow source ground
> 0
> 0
> 4 0 0 -1 180
>
>
> I too have been getting lower values than the measured global horizontal
> illuminance.  I think the suggestions made made by Rob and Greg about using
> mksource and adjusting the subtended angle of the solar source may be the
> solution.  Not sure yet how to implement the latter but I will certainly
> keep you posted.
>
> Cheers,
> Chris
>
> On Jun 30, 2014, at 10:26 PM, Joe Smith <the.oat.cracker at gmail.com> wrote:
>
> Hi Chris,
>
> Thank you very much for your reply, especially for reminding me the
> conversion of the unit between foot candela and lux!
>
> May I ask the following questions?
>
> 1. why the hdr fisheye image needs to be rotated along x axis for 90
> degrees and along z axis for 180 degrees? using the fisheye.cal file as
> reference when defining the colorpict "skypict"?
>
> 2. why "skypict is used as a modifier to define the "glow" material
> "groundglow"? I thought usually this position is set as "void"
>
>
> Using your approach, I tried some other hdr image provided by your
> project, and it seems the global horizontal illuminance is always
> underestimated as compared to the one reported in the csv file.
>
> rubbing my head about this issue, and advices are greatly appreciated!
>
> Regards,
> Joe
>
>
>
> On Tue, Jul 1, 2014 at 3:06 AM, Christian Humann <
> chris at christianhumann.com> wrote:
>
>> Hi Joe,
>>
>> The global values in the CSV file are in footcandles so you will need to
>> multiply them by 10.76 in order to get Lux.
>>
>> Also, you'll need to add a source description for the sun in order to get
>> the solar contribution as the camera sensor can not capture the intensity
>> of the sun for the HDR image.  Essentially the HDR image allows you to get
>> a close approximation of the global diffuse value.  I use gendaylit (see
>> below) to generate the sun and sky scene. You can get the altitude,
>> azimuth, direct-normal-illuminance and diffuse-horizontal-illuminance from
>> the CSV file (be sure to multiply the latter two values by 10.76 to
>> translate them from footcandles to Lux for input into Gendaylit). Also be
>> sure to adjust your 'rtrace' results by dividing by 10.76 to get
>> footcandles if you want to compare to the global-horizontal-illuminacne
>> readings in the CSV file.
>>
>> ########Sun and Sky scene -----> global.rad
>> !gendaylit -ang 45.41 85.92 -w -O 0 -L 80463.28 19916.76  |  xform -e -rz
>> 0
>> void colorpict skypict
>> 11 red green blue 140621_1530.hdr fisheye.cal fish_u fish_v -rx 90 -rz 180
>> 0
>> 0
>>
>> skypict glow skyglow
>> 0
>> 0
>> 4 1 1 1 1
>>
>> skyglow source sky
>> 0
>> 0
>> 4 0 0 1 180
>>
>> skypict glow groundglow
>> 0
>> 0
>> 4 1 1 1 0
>>
>> groundglow source ground
>> 0
>> 0
>> 4 0 0 -1 180
>> #########
>> # 3. the cmd.sh file
>> oconv ./global.rad > ./scene_empty.oct
>>
>> echo '0 0 0 0 0 1' | rtrace -I -h -w -ab 1 -oov ./scene_empty.oct >
>> ./results_position_irradiance_RGB_wm2.txt
>>
>> cat ./results_position_irradiance_RGB_wm2.txt | rcalc -e
>> '$1=179*(0.265*$4+0.670*$5+0.065*$6)/10.76' > ./results_illuminance_lux.txt
>> ##########
>>
>> When I run the above I get a global horizontal illuminance value from
>> 'rtrace' of approx. 6900 footcandles.  The photometer gave a reading of
>> 7176 footcandles.
>>
>>
>> I'm still working my brain around all this as well and hope that these
>> discussions will foster a better understanding of how to use the HDR images
>> for the highest level of accuracy possible.
>>
>> Hope this helps.
>>
>> Best,
>> Chris
>>
>>
>>
>>
>> On Jun 28, 2014, at 10:06 AM, Joe Smith <the.oat.cracker at gmail.com>
>> wrote:
>>
>> Hi, I found 2 references and did a test to generate HDR image-based
>> rendering, steps are explained below.
>>
>> But I'm still rubbing my head to understand how the Cartesian coordinates
>> or the postion vector of a point on the sky is transformed as UV
>> coordinates of the fisheye image as shown in the "angmap.cal" file. So,
>> advices are greatly appreciated!
>>
>> Thanks!
>> Joe
>>
>>
>> References:
>> 1. Debevec, P. (2002). Image-based lighting. IEEE Computer Graphics and
>> Applications, 22(2), 26-34. doi: 10.1109/38.988744
>> 2. Au, P. Y. P. (2013). HDR Luminance Measurement: Comparing real and
>> simulated data. (Master of Building Science Thesis), Victoria University of
>> Wellington.
>>
>>
>> Steps:
>> Step1. prepare the following 6 files and put them in the same folder
>>
>> #### 1.1 geom.rad ################################################
>> red_plastic sphere ball
>> 0
>> 0
>> 4 2 2 0.5 0.5
>>
>> steel sphere ball1
>> 0
>> 0
>> 4 2 -2 0.5 0.5
>>
>> gold sphere ball2
>> 0
>> 0
>> 4 -2 -2 0.5 0.5
>>
>> white_matte sphere ball3
>> 0
>> 0
>> 4 -2 2 0.5 0.5
>>
>> crystal sphere ball4
>> 0
>> 0
>> 4 0 0 1 1
>>
>> !genbox gray_plastic pedestal_top 8 8 0.5 | xform -t -4 -4 -0.5
>>
>>
>> #### 1.2 materials.mat ################################################
>> void plastic red_plastic
>> 0
>> 0
>> 5 .7 .1 .1 .06 .1
>>
>> void metal steel
>> 0
>> 0
>> 5 0.6 0.62 0.68 1 0
>>
>> void metal gold
>> 0
>> 0
>> 5 0.75 0.55 0.25 0.85 0.2
>>
>> void plastic white_matte
>> 0
>> 0
>> 5 .8 .8 .8 0 0
>>
>> void dielectric crystal
>> 0
>> 0
>> 5 .5 .5 .5 1.5 0
>>
>> void plastic black_matte
>> 0
>> 0
>> 5 .02 .02 .02 .00 .00
>>
>> void plastic gray_plastic
>> 0
>> 0
>> 5 0.25 0.25 0.25 0.06 0.0
>>
>>
>>
>> #### 1.3 sky_and_ground.rad
>> ################################################
>> void colorpict hdr_image
>> 7 red green blue 140621_1530.hdr angmap.cal u v
>> 0
>> 0
>>
>> hdr_image glow sky_glow
>> 0
>> 0
>> 4 1 1 1 0
>>
>> sky_glow source HDR_sky
>> 0
>> 0
>> 4 0 0 1 180
>>
>> # ground
>> void glow ground_glow
>> 0
>> 0
>> 4 1 1 1 0
>>
>> ground_glow source ground
>> 0
>> 0
>> 4 0 0 -1 180
>>
>>
>> #### 1.4 angmap.cal ################################################
>> {
>> angmap.cal
>>
>> Convert from directions in the world (Dx, Dy, Dz) into (u,v)
>> coordinates on the light probe image
>>
>> +z is up (toward top of sphere, i.e. the zenith)
>> +y is North
>> }
>>
>> d = sqrt(Dx*Dx + Dy*Dy);
>>
>> r = acos(Dz)/PI;
>>
>> u = 0.5 - Dx/d * r;
>> v = 0.5 + Dy/d * r;
>>
>>
>> #### 1.5 view.vf ################################################
>> # looking towards east
>> #rvu -vtv -vp -12 0 0.5 -vd 1 0 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards west
>> #rvu -vtv -vp 12 0 0.5 -vd -1 0 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards north
>> rvu -vtv -vp 0 -12 0.5 -vd 0 1 0 -vu 0 0 1 -vh 60 -vv 40
>> # looking towards south
>> #rvu -vtv -vp 0 12 0.5 -vd 0 -1 0 -vu 0 0 1 -vh 60 -vv 40
>>
>>
>> #### 1.6 cmd.sh ################################################
>> oconv ./materials.mat ./sky_and_ground.rad ./geom.rad > ./scene.oct
>>
>> rvu -vf ./view.vf ./scene.oct
>>
>> #ximage ./sky.hdr
>>
>> rpict -x 2400 -y 2400 -t 30 -ab 1 -ar 50000 -aa 0.08 -ad 128 -as 64 -st 0
>> -lw 0 -lr 8 -vf ./view.vf ./scene.oct > ./image.hdr
>>
>> pfilt -1 -x /3 -y /3 -r 1 ./image.hdr > ./image_filtered.hdr
>>
>>
>> Step2. put the 140621_1530.hdr file provided by LBNL (
>> http://flexskycam.lbl.gov) in the same folder
>>
>> Step3. run the cmd.sh batch file to produce the rendering
>>
>>
>>
>>
>> On Sat, Jun 28, 2014 at 7:28 AM, Andrew McNeil <amcneil at lbl.gov> wrote:
>>
>>> Hi All,
>>>
>>> I haven't done any testing myself, I wanted to make the data available
>>> right away so that others could tinker too (and maybe make it easier for
>>> me).
>>>
>>> Joe - You're correct that the HDR sky image essentially replaces the
>>> skyfunc modifier, here's a thread where Kyle was doing the same thing:
>>> http://www.radiance-online.org/pipermail/radiance-general/2012-October/008962.html
>>>
>>>
>>> Rob - In a clear sky condition our HDR images won't capture the full
>>> luminance of the sun. Mksource would be helpful to zero out the pixels, but
>>> the source that it makes won't be useful without adjusting the radiance of
>>> the source to match that of the sun.
>>>
>>> Best,
>>> Andy
>>>
>>>
>>>
>>>
>>> On Fri, Jun 27, 2014 at 2:58 PM, Rob Guglielmetti <
>>> rob.guglielmetti at gmail.com> wrote:
>>>
>>>> Hi German, and everyone else. Certainly one could use these HDR images
>>>> to generate sky vectors and apply them to daylight coefficients for a given
>>>> model(s). Greg Ward has created a cool tool called mksource to facilitate
>>>> this process in Radiance, identifying small, intense pixels in the image;
>>>> creating and placing Radiance light sources in their stead, and zeroing the
>>>> pixels to avoid double counting.
>>>>
>>>> Considerations:
>>>> - Capturing the true (full) dynamic range of an exterior scene with
>>>> direct sun is difficult.
>>>> - Using locally-captured HDR images for daylight availability analysis
>>>> is statistically dubious. Granted, so is using TMY data, for different
>>>> reasons. This is why I changed the title of this list to "considerations",
>>>> from "problems". =)
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> On Fri, Jun 27, 2014 at 3:38 PM, CHI-German Molina <gmolina at hdlao.com>
>>>> wrote:
>>>>
>>>>> Wow, I have been thinking on doing this for a while... although I have
>>>>> no idea where to start from.
>>>>>
>>>>> Is it possible to calculate the Daylight Coefficients of the building;
>>>>> and use the HDR image to generate sky vectors and calculate different
>>>>> options for optimizing daylighting?
>>>>>
>>>>> I am picturing a computer that, every 5 minutes, calculate the sky
>>>>> vector, computes the interior lighting conditions, and simulates the
>>>>> different lighting options performing a whole-building lighting control
>>>>> with no photo sensors. Even more, maybe a whole neighborhood could use the
>>>>> same camera. Nonsense?
>>>>>
>>>>> Thanks for sharing!
>>>>>
>>>>>
>>>>> 2014-06-27 0:59 GMT-04:00 Joe Smith <the.oat.cracker at gmail.com>:
>>>>>
>>>>>> Hi, Andy, thanks for sharing LBNL's sky mapping experiment!
>>>>>>
>>>>>>  Can you kindly advice on resources that elaborate on how to use HDR
>>>>>> sky image for daylight simulation? Does it involve specifying the HDR
>>>>>> image, rather than a "skyfunc", as the material identifier for the sky
>>>>>> geometry? How is the pixel value of a given point on the HDR image
>>>>>> converted to luminance value of the corresponding position on the sky?
>>>>>>
>>>>>> Thanks!
>>>>>> - Joe
>>>>>>
>>>>>> Andrew McNeil <amcneil at lbl.gov>?2014?6?27???????
>>>>>>
>>>>>> Hi Everyone,
>>>>>>>
>>>>>>> LBNL has installed an HDR sky camera at our new FLEXLAB site:
>>>>>>> http://flexskycam.lbl.gov. I've uploaded sample data, including hdr
>>>>>>> images and csv datafiles, recorded by the camera for three days over the
>>>>>>> past week( clear, partly cloudy and overcast). We're happy to share more
>>>>>>> data with other researchers and daylight practitioners (but we don't have
>>>>>>> much to offer yet).
>>>>>>>
>>>>>>> The images can be mapped to a Radiance sky for simulation under real
>>>>>>> sky conditions. I have not used the sky HDR images yet, myself, so if
>>>>>>> anybody uses them successfully please report back and share what you've
>>>>>>> done!
>>>>>>>
>>>>>>> Questions about the camera hardware and capabilities should be
>>>>>>> directed to Chris Humann at Terrestrial Light.
>>>>>>>
>>>>>>> Best,
>>>>>>> Andy
>>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> *Germ?n Molina L.*
>>>>> Ingeniero Trainee
>>>>> Hunter Douglas Chile S.A.
>>>>> Celular +569 89224445
>>>>>
>>>>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>>>> adjuntos son confidenciales y pueden contener informacion privilegiada
>>>>> protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de
>>>>> copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por
>>>>> favor, avise inmediatamente al emisor y borre este mensaje de su sistema.
>>>>> Los mensajes electronicos son susceptibles de ser cambiados, infectados o
>>>>> adulterados sin autorizacion. No asumimos responsabilidad alguna por
>>>>> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
>>>>> que la compania puede hacer un seguimiento de sus mensajes electronicos y
>>>>> su contenido, gracias.
>>>>>
>>>>> *Confidentiality Notice:* The information contained in this email
>>>>> message, including any attachment, is confidential and is intended only for
>>>>> the person or entity to which it is addressed. If you are neither the
>>>>> intended recipient nor the employee or agent responsible for delivering
>>>>> this message to the intended recipient, you are hereby notified that you
>>>>> may not review, retransmit, convert to hard copy, copy, use or distribute
>>>>> this email message or any attachments to it. If you have received this
>>>>> email in error, please contact the sender immediately and delete this
>>>>> message from any computer or other data bank, Thank you.
>>>>>
>>>>> A informa??o transmitida ? confidencial e para conhecimento exclusivo
>>>>> do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
>>>>> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
>>>>> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
>>>>> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
>>>>> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
>>>>> antiv?rus antes de qualquer uso.
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140710/0b5a87c7/attachment-0001.html>

From gregoryjward at gmail.com  Thu Jul 10 09:17:20 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 10 Jul 2014 09:17:20 -0700
Subject: [Radiance-general] HDR Sky Camera @ LBNL's Flexlab
In-Reply-To: <CAGhWmF7B=T3JRRFa1pRnEWUV1+aWJq4+vD27ho4BXMziUpGwHA@mail.gmail.com>
References: <CAOG+NiyM4q-bfcUKAPdCGhbunO_CRw_110D8RC5SrkgW1=7OeA@mail.gmail.com>
	<CAGhWmF7sHniEKq_w35wpgEme-MriJTjXR5WXoU9gc_8HGk-Tcw@mail.gmail.com>
	<CAK+g53CUg2cQ-uPUkm6TXmimD9_a2ma24xawwgG+ABJPsWaqVw@mail.gmail.com>
	<CAEkFE9hV9R1SQri9tCLsPRTKDfMzqmYbYpmqa=+=8XktgF7F2g@mail.gmail.com>
	<CAOG+NiwrEoAp9gtqZDsXhjrANqSxggnd=ZXwhzJEb63xxopKfw@mail.gmail.com>
	<CAGhWmF6FK4tMawMEacXVcA0v4o5GRjCdUEwehW8Cz4FYJsUTTg@mail.gmail.com>
	<0C0B2933-AF1D-43EC-BA7B-D0343687C523@christianhumann.com>
	<CAGhWmF7i0N-sWaQ6YypgLZf1EeF8fRCVcqWzXZBAtAwQqrqwHQ@mail.gmail.com>
	<A87DE6D7-66E2-4BDA-9C7A-9307D23A00C8@christianhumann.com>
	<CAGhWmF7B=T3JRRFa1pRnEWUV1+aWJq4+vD27ho4BXMziUpGwHA@mail.gmail.com>
Message-ID: <FD1B54DB-EA0B-41C1-9B4A-348FA8B6D231@lmi.net>

Hi Joe,

Do you really need to do this?  The code for view angle calculations is not very straightforward, but if you are really motivated, you can convert the C code in the viewloc() routine found in src/common/image.c to the .cal language.

Cheers,
-Greg

> From: Joe Smith <the.oat.cracker at gmail.com>
> Subject: Re: [Radiance-general] HDR Sky Camera @ LBNL's Flexlab
> Date: July 10, 2014 4:39:04 AM PDT
> 
> Dear Chris and the list, 
> 
> May I ask if the "fisheye.cal" file come with Radiance installation only works with fisheye image took/generated by angular projection which is used by most of the fisheye lens? 
> 
> Suppose I want to use the HDR fisheye image (for example, a sunny sky defined by gensky's "+s" option) generated from RPICT as input for "colorpict", following the approach you explained, I need to use the "-vta" option for RPICT, is it? 
> 
> If it is the case, how to create our own .cal file to map fisheye image using hemispherical (-vth) or stereographic (-vts) projection? 
> 
> Thank you! 
> Joe
> 
> 
> On Tue, Jul 1, 2014 at 11:52 PM, Christian Humann <chris at christianhumann.com> wrote:
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140710/dc27fc2b/attachment.html>

From paxeco2205 at hotmail.com  Fri Jul 11 01:53:24 2014
From: paxeco2205 at hotmail.com (=?iso-8859-1?B?QWxlamFuZHJvIFBhY2hlY28gRGnpZ3Vleg==?=)
Date: Fri, 11 Jul 2014 10:53:24 +0200
Subject: [Radiance-general] .pl files in Windows
Message-ID: <DUB128-W585F4E5FFDA19EEC33F014CA090@phx.gbl>

Hi, I am using Radiance 4.2.a.4 on Windows 8 and it seems like the .pl files like genBSDF or genskyvec don't work while as all the .exe files seem to work correctly. Am I maybe doing something wrong or are these pl files just not ready to be run on windows?Thanks in advance,Ale 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140711/dc8aa20d/attachment.html>

From koji_takemasa at me.com  Fri Jul 11 02:07:05 2014
From: koji_takemasa at me.com (Koji Takemasa)
Date: Fri, 11 Jul 2014 18:07:05 +0900
Subject: [Radiance-general] .pl files in Windows
In-Reply-To: <DUB128-W585F4E5FFDA19EEC33F014CA090@phx.gbl>
References: <DUB128-W585F4E5FFDA19EEC33F014CA090@phx.gbl>
Message-ID: <53BFA939.6040401@me.com>

Hi

They do not work and need to install the perl.  You should install Perl.

(2014/07/11 17:53), Alejandro Pacheco Di?guez wrote:
> I am using Radiance 4.2.a.4 on Windows 8 and it seems like the .pl 
> files like genBSDF or genskyvec don't work while as all the .exe files 
> seem to work correctly. Am I maybe doing something wrong or are these 
> pl files just not ready to be run on windows?

-- 
Name : Koji Takemasa (Ph.D.)
Mail : koji_takemasa at me.com
--------------- LEAD Labo. ---



From jacobs.axel at gmail.com  Fri Jul 11 02:12:57 2014
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Fri, 11 Jul 2014 10:12:57 +0100
Subject: [Radiance-general] .pl files in Windows
In-Reply-To: <53BFA939.6040401@me.com>
References: <DUB128-W585F4E5FFDA19EEC33F014CA090@phx.gbl>
	<53BFA939.6040401@me.com>
Message-ID: <CA+dqh61D7qp-RVj4yefsQ3AGFRpEV_v367iC15PuQowRSmegqQ@mail.gmail.com>

Alejandro,

see this post a few months ago:
http://radiance-online.org/pipermail/radiance-general/2014-March/010145.html

Regards
Axel


On 11 July 2014 10:07, Koji Takemasa <koji_takemasa at me.com> wrote:
> Hi
>
> They do not work and need to install the perl.  You should install Perl.
>
>
> (2014/07/11 17:53), Alejandro Pacheco Di?guez wrote:
>>
>> I am using Radiance 4.2.a.4 on Windows 8 and it seems like the .pl files
>> like genBSDF or genskyvec don't work while as all the .exe files seem to
>> work correctly. Am I maybe doing something wrong or are these pl files just
>> not ready to be run on windows?
>
>
> --
> Name : Koji Takemasa (Ph.D.)
> Mail : koji_takemasa at me.com
> --------------- LEAD Labo. ---
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From giudm.87 at gmail.com  Sun Jul 13 04:39:02 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Sun, 13 Jul 2014 13:39:02 +0200
Subject: [Radiance-general] problem generation dmx matrix
Message-ID: <CAOn=hKEoWbGn2AUw3NKNwBp-paLN2hKQsCUXctVqSgs+mmRPXw@mail.gmail.com>

Dear expert,

A brief introduction to the project:
I'm appling 3 phase method on a facede that is composed of a big cfs on the
bottom of which there are several openings (glass doorway) that are the
access to the internal area.

Therefore, I have decided to separet the facede in two groups (CFS &
GLASS_DOOR) since the BSDFs are different (I hope that it is the right way
to proceed).

But when I have generated the dmx matrix for both groups of windows, that
have the same orientation (-vd -0.98 -0.17 0), a warning message have
appeared only for the GLASS_DOOR group:
*view direction does not correspond to any surfaces.*


Controls:
1. checked geometry with objline and rvu (for the glow material) and all
seems work well.
2. checked oconv  that contain material, scene without the window ,
skywhtie.
3.  checked the command for the glass_door (that is the same of the
functioning one save for the geometry):
 genklemsamp -c 1000 - vd 0.98 -0.17 0 materials.rad glass_door.rad |
rcontrib -n 4 -c 1000 -e MF:1 -f reinhart.cal -b rbin - bn Nrbins -m
sky_glow - faf temp/model_dmx.oct > data/glass_door.dmx

I don't know where find the solution of the the problem.  Any advice?

Thanks in advance,
Giuseppe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140713/7123eeec/attachment.html>

From paxeco2205 at hotmail.com  Mon Jul 14 02:21:40 2014
From: paxeco2205 at hotmail.com (=?iso-8859-1?B?QWxlamFuZHJvIFBhY2hlY28gRGnpZ3Vleg==?=)
Date: Mon, 14 Jul 2014 11:21:40 +0200
Subject: [Radiance-general] GENBSDF of a light pipe
Message-ID: <DUB128-W29613AE29E6791D795B5DDCA0A0@phx.gbl>

Hi all, Thanks for the answer to my previous question. I have some more questions regarding the steps to generate the BSDF representation of a light pipe using GENBSDF. I will be using this BSDF in a 3-phase-method to assess the light pipe performance. My light pipe consists of a straight vertical cylinder made of a highly reflective material with a clear glass pane on top (collector) and a diffusing glass at the bottom (diffuser). I have a BSDF of the diffuser provided by the manufacturer which I would like to include. This description consists on a series of files for different incident angles every 10 degrees. Below is an excerpt of the first of these files for an incident angle of 0 degrees:
#pgII DSF data read from database by pab Ltd "mountain"#see http://bsdf.pab.eu for pgII gonio-photometer and BSDF details#mountain-version	"pab mountain V2.9.1"#database-host	pgdb#database-name	pabpg#measured_at	"2014-01-18 12:34:22"#data_read_from_db	"2014-01-30 21:26:23"#database_id	5383#datapoints_in_db	259193#database_reference_id	5379#integrated_value	0.75	6.3#sample_label	"ZTC014_0001"#sample_name	"Velux_ZTC014_0001"#lamp	"halogen1"#beamshape	"inf,f=300,a=1"#filterlamp	"IRcutoff"#filterdet	"BG18,25mm"#comment	"velux dataset1"#mcomment	"$Id: do_meas_batch.c,v 1.33 2013/01/05 13:54:16 apian Exp apian $|daq serial[0]="007	" (channel minimum)|optfile=fullrot-30_broadT_50|userdata=$Header: /usr/local/pab_pg/etc/RCS/userdata.luna,v 1.22 2013/09/17 07:22:27 pgadmin Exp pgadmin $|cxtcounter=yes|bl_armB=0.0075|daq_ss=100|speedbend=(0.03,0.015)|lamp_cycles=155 poweron=34655 [h] last_change=164 [min]"#column	daq#dump-host	sun1#incident_angle	0	0#intheta	0#inphi	0#rear_integral	0.751#mountain_minimum_angle	0.1 [deg]#datapoints_in_file	115477#format: theta	phi	DSF90.04250	-100.19987	6.031e-0490.23273	-100.16634	4.376e-0490.43701	-100.12965	4.245e-0490.62713	-100.09495	4.482e-04(...)
My questions are:1. How to include this diffuser BSDF as a Radiance material?2. Should I include the diffuser BSDF in the model that I will use to generate the BSDF of the whole light pipe? An alternative I can think of would be not to include it and then juxtapose both BSDFs as two parallel diffusers. Would both these options work well? 3. Lastly, I am a bit lost with the rtcontrib settings when using GENBSDF for this particular case, some help here would be much appreciated. 
Thank you in advance. Ale


 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140714/78e85261/attachment.html>

From gmolina at hdlao.com  Mon Jul 14 05:27:15 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Mon, 14 Jul 2014 08:27:15 -0400
Subject: [Radiance-general] GENBSDF of a light pipe
In-Reply-To: <DUB128-W29613AE29E6791D795B5DDCA0A0@phx.gbl>
References: <DUB128-W29613AE29E6791D795B5DDCA0A0@phx.gbl>
Message-ID: <CAK+g53A7Nk1PTKyiybdZijd+uTcno-yR1sPZUEHOBOLC=RXibw@mail.gmail.com>

Just a hint here, this is the way I would try; even if I have not ever
worked with this kind of device.

1.- The diffuser, my guess, can be modelled with a Transdata material
(see Radiance
Reference Manual <http://radsite.lbl.gov/radiance/refer/refman.pdf>). Just
one surface on the top of the cylinder with the proper material.

     "Plasdata is used for arbitrary BRDFs that are most conveniently given
as interpolated data. The arguments to this material are the data file and
coordinate index functions, as well as function to optionally modify the
data values...
      ... Transdata is like plasdata but the specification includes
transmittance as well as reflectance"

2.- I would include the diffuser on the input to genBSDF. Also, you should
be careful on specifying the Thickness of the device (i.e. length of the
pipe + diffusers).

3.- I cannot really help you. My guess is that you will have only a few
elements (diffuser on top, cylinder, diffuser on bottom... anything else?)
so this calculation might be pretty efficient. I would just choose some
pretty "high" parameters.

Lets see what the Gurus say. But this would be my initial guess.

Best!

German




2014-07-14 5:21 GMT-04:00 Alejandro Pacheco Di?guez <paxeco2205 at hotmail.com>
:

> Hi all,
> Thanks for the answer to my previous question. I have some more questions
> regarding the steps to generate the BSDF representation of a light pipe
> using GENBSDF. I will be using this BSDF in a 3-phase-method to assess the
> light pipe performance.
> My light pipe consists of a straight vertical cylinder made of a highly
> reflective material with a clear glass pane on top (collector) and a
> diffusing glass at the bottom (diffuser). I have a BSDF of the diffuser
> provided by the manufacturer which I would like to include. This
> description consists on a series of files for different incident angles
> every 10 degrees. Below is an excerpt of the first of these files for an
> incident angle of 0 degrees:
>
> #pgII DSF data read from database by pab Ltd "mountain"
> #see http://bsdf.pab.eu for pgII gonio-photometer and BSDF details
> #mountain-version "pab mountain V2.9.1"
> #database-host pgdb
> #database-name pabpg
> #measured_at "2014-01-18 12:34:22"
> #data_read_from_db "2014-01-30 21:26:23"
> #database_id 5383
> #datapoints_in_db 259193
> #database_reference_id 5379
> #integrated_value 0.75 6.3
> #sample_label "ZTC014_0001"
> #sample_name "Velux_ZTC014_0001"
> #lamp "halogen1"
> #beamshape "inf,f=300,a=1"
> #filterlamp "IRcutoff"
> #filterdet "BG18,25mm"
> #comment "velux dataset1"
> #mcomment "$Id: do_meas_batch.c,v 1.33 2013/01/05 13:54:16 apian Exp
> apian $|daq serial[0]="007 " (channel
> minimum)|optfile=fullrot-30_broadT_50|userdata=$Header:
> /usr/local/pab_pg/etc/RCS/userdata.luna,v 1.22 2013/09/17 07:22:27 pgadmin
> Exp pgadmin
> $|cxtcounter=yes|bl_armB=0.0075|daq_ss=100|speedbend=(0.03,0.015)|lamp_cycles=155
> poweron=34655 [h] last_change=164 [min]"
> #column daq
> #dump-host sun1
> #incident_angle 0 0
> #intheta 0
> #inphi 0
> #rear_integral 0.751
> #mountain_minimum_angle 0.1 [deg]
> #datapoints_in_file 115477
> #format: theta phi DSF
> 90.04250 -100.19987 6.031e-04
> 90.23273 -100.16634 4.376e-04
> 90.43701 -100.12965 4.245e-04
> 90.62713 -100.09495 4.482e-04
> (...)
>
> My questions are:
> 1. How to include this diffuser BSDF as a Radiance material?
> 2. Should I include the diffuser BSDF in the model that I will use to
> generate the BSDF of the whole light pipe? An alternative I can think of
> would be not to include it and then juxtapose both BSDFs as two parallel
> diffusers. Would both these options work well?
> 3. Lastly, I am a bit lost with the rtcontrib settings when using GENBSDF
> for this particular case, some help here would be much appreciated.
>
> Thank you in advance.
> Ale
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140714/f3bb1348/attachment-0001.html>

From gregoryjward at gmail.com  Tue Jul 15 09:59:10 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 15 Jul 2014 09:59:10 -0700
Subject: [Radiance-general] problem generation dmx matrix
In-Reply-To: <CAOn=hKEoWbGn2AUw3NKNwBp-paLN2hKQsCUXctVqSgs+mmRPXw@mail.gmail.com>
References: <CAOn=hKEoWbGn2AUw3NKNwBp-paLN2hKQsCUXctVqSgs+mmRPXw@mail.gmail.com>
Message-ID: <3BC01213-5295-4C4B-B073-4C9D4BA39742@lmi.net>

Hi Giuseppe,

Thanks for sending your input files.  There's nothing you are really doing wrong, but you've run up against a limitation in genklemsamp to find surfaces that are widely separated.  Your windows are nice and close-together, so they don't pose a problem, but your doors are small relative to the space between them, such that the sampling process, which is based on the bounding cube, cannot locate them even with 1000 initial samples (your -c setting).  The solution is to either run genklemsamp on each door individually, or to increase the sampling rate to -c 10000, which works in your case.

Best,
-Greg

> From: Giuseppe De Michele <giudm.87 at gmail.com>
> Subject: [Radiance-general] problem generation dmx matrix
> Date: July 13, 2014 4:39:02 AM PDT
> 
> Dear expert,
> 
> A brief introduction to the project:
> I'm appling 3 phase method on a facede that is composed of a big cfs on the bottom of which there are several openings (glass doorway) that are the access to the internal area. 
> 
> Therefore, I have decided to separet the facede in two groups (CFS & GLASS_DOOR) since the BSDFs are different (I hope that it is the right way to proceed).  
> 
> But when I have generated the dmx matrix for both groups of windows, that have the same orientation (-vd -0.98 -0.17 0), a warning message have appeared only for the GLASS_DOOR group:
> view direction does not correspond to any surfaces.
> 
> 
> Controls:
> 1. checked geometry with objline and rvu (for the glow material) and all seems work well.
> 2. checked oconv  that contain material, scene without the window , skywhtie.
> 3.  checked the command for the glass_door (that is the same of the functioning one save for the geometry):
>  genklemsamp -c 1000 - vd 0.98 -0.17 0 materials.rad glass_door.rad | rcontrib -n 4 -c 1000 -e MF:1 -f reinhart.cal -b rbin - bn Nrbins -m sky_glow - faf temp/model_dmx.oct > data/glass_door.dmx 
> 
> I don't know where find the solution of the the problem.  Any advice?
> 
> Thanks in advance,
> Giuseppe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140715/dfea4c1d/attachment.html>

From rt at cbgc.com  Wed Jul 16 02:52:18 2014
From: rt at cbgc.com (Thompson, Ross)
Date: Wed, 16 Jul 2014 10:52:18 +0100
Subject: [Radiance-general] DAYSIM: 0% Daylight Factor across all points
Message-ID: <158985743D5CE54688E6CF19C8E97845568738D50C@UKCBGEX01.cbg.local>

Hi,

I have previously used DAYSIM to produce some calculations. However the results are no longer repeatable.

Despite getting values for UDI and DA etc. all the daylight factors are now 0.

My suspicion is that the DAYSIM installation has clashed with a RADIANCE installation and the system paths are confused.

I have tried uninstalling everything and just reinstalling Daysim 3.1e.

This produces the following system paths:

PATH: ;C:\Daysim\bin_windows\;C:\Radiance\bin\;C:\DAYSIM

RAYPATH: ;C:\Daysim\lib\;.C:\Radiance\lib\;.


As C:\Daysim\lib is in RAYPATH, I can?t see what is causing the problem

Thanks for your help

Ross



Ross Thompson

Senior Sustainability & Energy Engineer

T: 01865 864500

Oxford:
South House
3 Farmoor Court
Cumnor Road
Oxford OX2 9LU
Phone: 01865 864500
Fax:  01865 864584
Email: oxf at cbgc.com<mailto:oxf at cbgc.com>

London:
Lector Court
151-153 Farringdon Road
London EC1R 3AF
Phone: 0207 833 8815
Fax: 0203 302 0050
Email: lon at cbgc.com<mailto:lon at cbgc.com>

For the latest CBG news visit www.cbgc.com<http://www.cbgc.com>         [cid:image28db7f.PNG at 81668ce8.45a0476b] <http://facebook.com/cbgconsultantsltd>  [cid:image77df6b.PNG at d88bd5ec.43a12340] <http://twitter.com/CBGConsultants>

CBG Consultants Ltd Registered No. 538 4147/VAT Registration No. 860 3120 63



[cid:image2ef2b6.PNG at a4132549.4ba7c0d9]

Please consider the environment - do you really need to print this email?

The views expressed in this e-mail are those of the sender and not necessarily those of CBG Consultants.

The content of this email is private and may be confidential for the intended recipient only. If misdirected, please notify us by telephone and confirm that it has been deleted from your system and any copies destroyed. If you are not the intended recipient you are strictly prohibited from using, printing, copying, distributing or disseminating this e-mail or any information contained in it.


We use reasonable endeavours to virus scan all e-mails leaving the company but no warranty is given that this e-mail and any attachments are virus free. You should undertake your own virus checking. The right to monitor e-mail communications through our networks is reserved by us.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/c7ceb453/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image28db7f.PNG
Type: image/png
Size: 3310 bytes
Desc: image28db7f.PNG
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/c7ceb453/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image77df6b.PNG
Type: image/png
Size: 3461 bytes
Desc: image77df6b.PNG
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/c7ceb453/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image2ef2b6.PNG
Type: image/png
Size: 4616 bytes
Desc: image2ef2b6.PNG
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/c7ceb453/attachment-0005.png>

From paxeco2205 at hotmail.com  Wed Jul 16 03:08:35 2014
From: paxeco2205 at hotmail.com (=?iso-8859-1?B?QWxlamFuZHJvIFBhY2hlY28gRGnpZ3Vleg==?=)
Date: Wed, 16 Jul 2014 12:08:35 +0200
Subject: [Radiance-general] Generate a daylight matrix for a skylight
Message-ID: <DUB128-W3580E032E37D076999652FCAF70@phx.gbl>

Hi!
I am trying to create a daylight matrix for a skylight on a horizontal roof following the three-step method tutorial and I get the following error message:
C:\Radiance\bin>genklemsamp -vd 0 0 1 aa_ape.rad | rcontrib -c 1000 -e MF:3 -f reinhart.cal -b rbin -bn Nrbins -m skymat -faf aa_octree.oct > aa_dmx.dmxvwright: view up parallel to view direction
*aa_ape.rad contains a horizontal rectagle placed over the exterior aperture of the skylight. 
I am trying to understand the different options in rcontrib but it seems like I lack the knowledge to fully understand its description. Is there a more basic description that could help me understand it better? For example, I think I am supposed to describe the sky material somehow under -m but I am not sure how to do that. Also I don't understand the -e, the -b, -bn or the -faf options. 
Thanks in advance,
Ale 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/3f990eb0/attachment.html>

From rt at cbgc.com  Wed Jul 16 03:13:10 2014
From: rt at cbgc.com (Thompson, Ross)
Date: Wed, 16 Jul 2014 11:13:10 +0100
Subject: [Radiance-general] DAYSIM: 0% Daylight Factor across all points
	SOLVED
Message-ID: <158985743D5CE54688E6CF19C8E97845568738D522@UKCBGEX01.cbg.local>

Hi,

Apologies, it is actually working with the settings below.

I think the results from when it wasn?t working for some reason weren?t being superseded.

Re-exporting the SketchUp model resolved this.

Sorry

Ross




Ross Thompson

Senior Sustainability & Energy Engineer

T: 01865 864500

Oxford:
South House
3 Farmoor Court
Cumnor Road
Oxford OX2 9LU
Phone: 01865 864500
Fax:  01865 864584
Email: oxf at cbgc.com<mailto:oxf at cbgc.com>

London:
Lector Court
151-153 Farringdon Road
London EC1R 3AF
Phone: 0207 833 8815
Fax: 0203 302 0050
Email: lon at cbgc.com<mailto:lon at cbgc.com>

For the latest CBG news visit www.cbgc.com<http://www.cbgc.com>         [cid:imagee54da6.PNG at 3b17a404.4e953376] <http://facebook.com/cbgconsultantsltd>  [cid:image4c4fd1.PNG at 9de8027a.4ba04063] <http://twitter.com/CBGConsultants>

CBG Consultants Ltd Registered No. 538 4147/VAT Registration No. 860 3120 63



[cid:image46bb1d.PNG at df9fd3b4.4facf179]

Please consider the environment - do you really need to print this email?

The views expressed in this e-mail are those of the sender and not necessarily those of CBG Consultants.

The content of this email is private and may be confidential for the intended recipient only. If misdirected, please notify us by telephone and confirm that it has been deleted from your system and any copies destroyed. If you are not the intended recipient you are strictly prohibited from using, printing, copying, distributing or disseminating this e-mail or any information contained in it.


We use reasonable endeavours to virus scan all e-mails leaving the company but no warranty is given that this e-mail and any attachments are virus free. You should undertake your own virus checking. The right to monitor e-mail communications through our networks is reserved by us.

From: Thompson, Ross
Sent: 16 July 2014 10:52
To: radiance-general at radiance-online.org
Subject: DAYSIM: 0% Daylight Factor across all points [Filed 16 Jul 2014 10:52]

Hi,

I have previously used DAYSIM to produce some calculations. However the results are no longer repeatable.

Despite getting values for UDI and DA etc. all the daylight factors are now 0.

My suspicion is that the DAYSIM installation has clashed with a RADIANCE installation and the system paths are confused.

I have tried uninstalling everything and just reinstalling Daysim 3.1e.

This produces the following system paths:

PATH: ;C:\Daysim\bin_windows\;C:\Radiance\bin\;C:\DAYSIM

RAYPATH: ;C:\Daysim\lib\;.C:\Radiance\lib\;.


As C:\Daysim\lib is in RAYPATH, I can?t see what is causing the problem

Thanks for your help

Ross
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/15d3627e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imagee54da6.PNG
Type: image/png
Size: 3310 bytes
Desc: imagee54da6.PNG
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/15d3627e/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image4c4fd1.PNG
Type: image/png
Size: 3461 bytes
Desc: image4c4fd1.PNG
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/15d3627e/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image46bb1d.PNG
Type: image/png
Size: 4616 bytes
Desc: image46bb1d.PNG
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/15d3627e/attachment-0005.png>

From gmolina at hdlao.com  Wed Jul 16 06:27:45 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Wed, 16 Jul 2014 09:27:45 -0400
Subject: [Radiance-general] Generate a daylight matrix for a skylight
In-Reply-To: <DUB128-W3580E032E37D076999652FCAF70@phx.gbl>
References: <DUB128-W3580E032E37D076999652FCAF70@phx.gbl>
Message-ID: <CAK+g53CbdzuXNeWK5GhZWmx8APyEDrqHPkTAGaeNXPTozXD+zw@mail.gmail.com>

Alejandro,

Two points to remark here:

1.- The error you are getting comes from the "genklemsamp" program, and not
from rcontrib. The "View Up" is, by default, "up" (0,0,1); but that is also
your view direction. You will have to specify a "view up" that represents
the "top of your skylight", i.e., the superior part.

2.- the -m option of rcontrib has to be filled with a material in your
scene. In your case is "skymat". the -e option, in this cases, is what
chooses the Reinhart subdivition (MF:1, MF:2, MF:3, ...), the higher, more
sky subdivitions you get. The "b" is the number of the sky subdivition
(bin) and the "bn" is the number of sky subdivitions. These values are
related to the function you are using (reinhart.cal); and the only one you
would need to change is the MF:X option.

Hope it helps.


2014-07-16 6:08 GMT-04:00 Alejandro Pacheco Di?guez <paxeco2205 at hotmail.com>
:

> Hi!
>
> I am trying to create a daylight matrix for a skylight on a horizontal
> roof following the three-step method tutorial and I get the following error
> message:
>
> C:\Radiance\bin>genklemsamp -vd 0 0 1 aa_ape.rad | rcontrib -c 1000 -e
> MF:3 -f reinhart.cal -b rbin -bn Nrbins -m skymat -faf aa_octree.oct >
> aa_dmx.dmx
> *vwright: view up parallel to view direction*
>
> *aa_ape.rad contains a horizontal rectagle placed over the exterior
> aperture of the skylight.
>
> I am trying to understand the different options in rcontrib but it seems
> like I lack the knowledge to fully understand its description. Is there a
> more basic description that could help me understand it better? For
> example, I think I am supposed to describe the sky material somehow under
> -m but I am not sure how to do that. Also I don't understand the -e, the
> -b, -bn or the -faf options.
>
> Thanks in advance,
>
> Ale
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140716/b151ddc4/attachment.html>

From giudm.87 at gmail.com  Fri Jul 18 00:14:04 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Fri, 18 Jul 2014 09:14:04 +0200
Subject: [Radiance-general] problem generation dmx matrix
In-Reply-To: <3BC01213-5295-4C4B-B073-4C9D4BA39742@lmi.net>
References: <CAOn=hKEoWbGn2AUw3NKNwBp-paLN2hKQsCUXctVqSgs+mmRPXw@mail.gmail.com>
	<3BC01213-5295-4C4B-B073-4C9D4BA39742@lmi.net>
Message-ID: <CAOn=hKGQv2gUfOWzqn6_NR8oJhe-HN-pZH-Jz9g-54C7eb6pQg@mail.gmail.com>

Greg,

the dmx works well now (I have tried only the increasing of rays number for
now), so thanks again.

Cheers,
Giuseppe.


2014-07-15 18:59 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:

> Hi Giuseppe,
>
> Thanks for sending your input files.  There's nothing you are really doing
> wrong, but you've run up against a limitation in genklemsamp to find
> surfaces that are widely separated.  Your windows are nice and
> close-together, so they don't pose a problem, but your doors are small
> relative to the space between them, such that the sampling process, which
> is based on the bounding cube, cannot locate them even with 1000 initial
> samples (your -c setting).  The solution is to either run genklemsamp on
> each door individually, or to increase the sampling rate to -c 10000, which
> works in your case.
>
> Best,
> -Greg
>
> *From: *Giuseppe De Michele <giudm.87 at gmail.com>
>
> *Subject: *[Radiance-general] problem generation dmx matrix
>
> *Date: *July 13, 2014 4:39:02 AM PDT
>
>
>  Dear expert,
>
> A brief introduction to the project:
> I'm appling 3 phase method on a facede that is composed of a big cfs on
> the bottom of which there are several openings (glass doorway) that are the
> access to the internal area.
>
> Therefore, I have decided to separet the facede in two groups (CFS &
> GLASS_DOOR) since the BSDFs are different (I hope that it is the right way
> to proceed).
>
> But when I have generated the dmx matrix for both groups of windows, that
> have the same orientation (-vd -0.98 -0.17 0), a warning message have
> appeared only for the GLASS_DOOR group:
> *view direction does not correspond to any surfaces.*
>
>
> Controls:
> 1. checked geometry with objline and rvu (for the glow material) and all
> seems work well.
> 2. checked oconv  that contain material, scene without the window ,
> skywhtie.
> 3.  checked the command for the glass_door (that is the same of the
> functioning one save for the geometry):
>  genklemsamp -c 1000 - vd 0.98 -0.17 0 materials.rad glass_door.rad |
> rcontrib -n 4 -c 1000 -e MF:1 -f reinhart.cal -b rbin - bn Nrbins -m
> sky_glow - faf temp/model_dmx.oct > data/glass_door.dmx
>
> I don't know where find the solution of the the problem.  Any advice?
>
> Thanks in advance,
> Giuseppe
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Giuseppe De Michele*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140718/6f42ad77/attachment.html>

From A.Sdei at brighton.ac.uk  Fri Jul 18 02:29:32 2014
From: A.Sdei at brighton.ac.uk (Arianna Sdei)
Date: Fri, 18 Jul 2014 09:29:32 +0000
Subject: [Radiance-general] radiance training course
In-Reply-To: <CAOn=hKGQv2gUfOWzqn6_NR8oJhe-HN-pZH-Jz9g-54C7eb6pQg@mail.gmail.com>
References: <CAOn=hKEoWbGn2AUw3NKNwBp-paLN2hKQsCUXctVqSgs+mmRPXw@mail.gmail.com>
	<3BC01213-5295-4C4B-B073-4C9D4BA39742@lmi.net>
	<CAOn=hKGQv2gUfOWzqn6_NR8oJhe-HN-pZH-Jz9g-54C7eb6pQg@mail.gmail.com>
Message-ID: <43AC8FF96AEAFA43B65D1EDF7FD1C121BC43C218@ALUDRA.university.brighton.ac.uk>

Dear All,

I remember an email a while ago about a radiance training course in London this September. Is that going ahead? Will further information be posted to the mailing list?

Let me know.

All the best,

Arianna





___________________________________________________________
This email has been scanned by MessageLabs' Email Security
System on behalf of the University of Brighton.
For more information see http://www.brighton.ac.uk/is/spam/
___________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140718/999156d1/attachment.html>

From gregoryjward at gmail.com  Fri Jul 18 09:04:01 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 18 Jul 2014 09:04:01 -0700
Subject: [Radiance-general] problem generation dmx matrix
In-Reply-To: <CAOn=hKGQv2gUfOWzqn6_NR8oJhe-HN-pZH-Jz9g-54C7eb6pQg@mail.gmail.com>
References: <CAOn=hKEoWbGn2AUw3NKNwBp-paLN2hKQsCUXctVqSgs+mmRPXw@mail.gmail.com>
	<3BC01213-5295-4C4B-B073-4C9D4BA39742@lmi.net>
	<CAOn=hKGQv2gUfOWzqn6_NR8oJhe-HN-pZH-Jz9g-54C7eb6pQg@mail.gmail.com>
Message-ID: <5C6E45DF-D24D-4BC3-8BC1-ECBEFFF36310@lmi.net>

By the way, I am working on a more general tool that will replace genklemsamp and run rcontrib for you, which should eliminate this issue.  Hoping to have it done by the end of next month, maybe sooner.

-Greg

> From: Giuseppe De Michele <giudm.87 at gmail.com>
> Subject: Re: [Radiance-general] problem generation dmx matrix
> Date: July 18, 2014 12:14:04 AM PDT
> 
> Greg,
> 
> the dmx works well now (I have tried only the increasing of rays number for now), so thanks again. 
> 
> Cheers,
> Giuseppe. 
> 
> 
> 2014-07-15 18:59 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:
> Hi Giuseppe,
> 
> Thanks for sending your input files.  There's nothing you are really doing wrong, but you've run up against a limitation in genklemsamp to find surfaces that are widely separated.  Your windows are nice and close-together, so they don't pose a problem, but your doors are small relative to the space between them, such that the sampling process, which is based on the bounding cube, cannot locate them even with 1000 initial samples (your -c setting).  The solution is to either run genklemsamp on each door individually, or to increase the sampling rate to -c 10000, which works in your case.
> 
> Best,
> -Greg
> 
>> From: Giuseppe De Michele <giudm.87 at gmail.com>
>> Subject: [Radiance-general] problem generation dmx matrix
>> Date: July 13, 2014 4:39:02 AM PDT
>> 
> 
>> Dear expert,
>> 
>> A brief introduction to the project:
>> I'm appling 3 phase method on a facede that is composed of a big cfs on the bottom of which there are several openings (glass doorway) that are the access to the internal area. 
>> 
>> Therefore, I have decided to separet the facede in two groups (CFS & GLASS_DOOR) since the BSDFs are different (I hope that it is the right way to proceed).  
>> 
>> But when I have generated the dmx matrix for both groups of windows, that have the same orientation (-vd -0.98 -0.17 0), a warning message have appeared only for the GLASS_DOOR group:
>> view direction does not correspond to any surfaces.
>> 
>> 
>> Controls:
>> 1. checked geometry with objline and rvu (for the glow material) and all seems work well.
>> 2. checked oconv  that contain material, scene without the window , skywhtie.
>> 3.  checked the command for the glass_door (that is the same of the functioning one save for the geometry):
>>  genklemsamp -c 1000 - vd 0.98 -0.17 0 materials.rad glass_door.rad | rcontrib -n 4 -c 1000 -e MF:1 -f reinhart.cal -b rbin - bn Nrbins -m sky_glow - faf temp/model_dmx.oct > data/glass_door.dmx 
>> 
>> I don't know where find the solution of the the problem.  Any advice?
>> 
>> Thanks in advance,
>> Giuseppe
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> 
> 
> -- 
> Giuseppe De Michele
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140718/b4103cb8/attachment-0001.html>

From gregoryjward at gmail.com  Fri Jul 18 09:06:39 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 18 Jul 2014 09:06:39 -0700
Subject: [Radiance-general] radiance training course
In-Reply-To: <43AC8FF96AEAFA43B65D1EDF7FD1C121BC43C218@ALUDRA.university.brighton.ac.uk>
References: <CAOn=hKEoWbGn2AUw3NKNwBp-paLN2hKQsCUXctVqSgs+mmRPXw@mail.gmail.com>
	<3BC01213-5295-4C4B-B073-4C9D4BA39742@lmi.net>
	<CAOn=hKGQv2gUfOWzqn6_NR8oJhe-HN-pZH-Jz9g-54C7eb6pQg@mail.gmail.com>
	<43AC8FF96AEAFA43B65D1EDF7FD1C121BC43C218@ALUDRA.university.brighton.ac.uk>
Message-ID: <3FAEF0A2-4FC2-4E8A-833C-B7B4A0E58E1D@lmi.net>

Perhaps you missed it -- the Radiance workshop with tutorial sessions was announced the beginning of June.  Here's the webpage:

	http://nceub.org.uk/ocs/index.php/radiance/radiance2014

Hope to see you there!

-Greg

> From: Arianna Sdei <A.Sdei at brighton.ac.uk>
> Subject: [Radiance-general] radiance training course
> Date: July 18, 2014 2:29:32 AM PDT
> 
> Dear All,
>  
> I remember an email a while ago about a radiance training course in London this September. Is that going ahead? Will further information be posted to the mailing list?
>  
> Let me know.
>  
> All the best,
>  
> Arianna
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140718/ada5b1aa/attachment.html>

From sadeghipour at gmail.com  Mon Jul 21 06:52:27 2014
From: sadeghipour at gmail.com (Mostapha Sadeghipour)
Date: Mon, 21 Jul 2014 09:52:27 -0400
Subject: [Radiance-general] Progress Report for Rtrace
Message-ID: <CAAd_PgRNn1hSE2-8C=gG5BVp9r_oiJTwhJL8JYkSu=0DP=eSgQ@mail.gmail.com>

Hi Radiance community,

Is there anyway to get a progress report [similar to rpict] for rtrace?

Thanks,
Mostapha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140721/3e46a177/attachment.html>

From gregoryjward at gmail.com  Mon Jul 21 07:52:12 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 21 Jul 2014 07:52:12 -0700
Subject: [Radiance-general] Progress Report for Rtrace
In-Reply-To: <CAAd_PgRNn1hSE2-8C=gG5BVp9r_oiJTwhJL8JYkSu=0DP=eSgQ@mail.gmail.com>
References: <CAAd_PgRNn1hSE2-8C=gG5BVp9r_oiJTwhJL8JYkSu=0DP=eSgQ@mail.gmail.com>
Message-ID: <27648C26-2373-48F1-8949-C1901A1ECE86@lmi.net>

Not as such.  Unless it is started with a -y option, rtrace does not know how many rays to expect, so it cannot say how close to completion it is.

If you direct the output to a file, you can always check the file size as an indication of how much is done.

-Greg

> From: Mostapha Sadeghipour <sadeghipour at gmail.com>
> Subject: [Radiance-general] Progress Report for Rtrace
> Date: July 21, 2014 6:52:27 AM PDT
> 
> Hi Radiance community,
> 
> Is there anyway to get a progress report [similar to rpict] for rtrace?
> 
> Thanks,
> Mostapha
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140721/4faff9eb/attachment.html>

From sadeghipour at gmail.com  Mon Jul 21 08:00:47 2014
From: sadeghipour at gmail.com (Mostapha Sadeghipour)
Date: Mon, 21 Jul 2014 11:00:47 -0400
Subject: [Radiance-general] Progress Report for Rtrace
In-Reply-To: <27648C26-2373-48F1-8949-C1901A1ECE86@lmi.net>
References: <CAAd_PgRNn1hSE2-8C=gG5BVp9r_oiJTwhJL8JYkSu=0DP=eSgQ@mail.gmail.com>
	<27648C26-2373-48F1-8949-C1901A1ECE86@lmi.net>
Message-ID: <CAAd_PgSGM_9ak46FfA6Cxr=GUeny8c6k2vGZMzBkHq=iDewWYQ@mail.gmail.com>

Thanks Greg. Checking the file size will do it.
- Mostapha


On Mon, Jul 21, 2014 at 10:52 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Not as such.  Unless it is started with a -y option, rtrace does not know
> how many rays to expect, so it cannot say how close to completion it is.
>
> If you direct the output to a file, you can always check the file size as
> an indication of how much is done.
>
> -Greg
>
> *From: *Mostapha Sadeghipour <sadeghipour at gmail.com>
>
> *Subject: *[Radiance-general] Progress Report for Rtrace
>
> *Date: *July 21, 2014 6:52:27 AM PDT
>
>
>  Hi Radiance community,
>
> Is there anyway to get a progress report [similar to rpict] for rtrace?
>
> Thanks,
> Mostapha
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140721/faa37332/attachment.html>

From khouser at ewingcole.com  Mon Jul 21 08:52:05 2014
From: khouser at ewingcole.com (Houser, Kyle)
Date: Mon, 21 Jul 2014 15:52:05 +0000
Subject: [Radiance-general] FalseColor
Message-ID: <05E25E5F2879B343A992EECDD9EEABC082C41E37@EX2010-MB3.ewingcole.com>

Hi Everyone,

I wrote about using Perl and the falsecolor command a few months back and unfortunately my computer was wiped clean so I had to reinstall program. I changed the path and raypath to the following to the location where I have Radiance saved:

Path = c:\Program Files\Radiance\bin
RAYPATH = c:\Program Files\Radiance\lib

but when I call upon the command, I am still being told it is not a recognized command.

This is the command I am using to call upon the image.

C:\g215th>falsecolor.pl ?i june.hdr ?log 2 -1 Lux > luxjune.hdr

Is there another step I am missing or do I have the programs installed incorrectly? I have Pearl and Radiance saved in two different folders if that matters.

Thanks,
Kyle





Kyle E. Houser

EwingCole

Federal Reserve Bank Building
100 N. 6th Street
Philadelphia, PA 19106-1590

DIRECT  215.625.4422
TEL  215.923.2020
FAX 215.574.9163
EMAIL khouser at ewingcole.com

ewingcole.com<http://www.ewingcole.com>
[cid:imagec920cf.GIF at 3c8aa5a7.4b83ac2b]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140721/3ad8a784/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imagec920cf.GIF
Type: image/gif
Size: 1959 bytes
Desc: imagec920cf.GIF
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140721/3ad8a784/attachment-0001.gif>

From tbleicher at gmail.com  Mon Jul 21 09:13:43 2014
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Mon, 21 Jul 2014 11:13:43 -0500
Subject: [Radiance-general] FalseColor
In-Reply-To: <05E25E5F2879B343A992EECDD9EEABC082C41E37@EX2010-MB3.ewingcole.com>
References: <05E25E5F2879B343A992EECDD9EEABC082C41E37@EX2010-MB3.ewingcole.com>
Message-ID: <CAKGV-k16e7RYYqBbVGMvGaj1bbeP=4UStMOppQ=Sf4Kui1KYmA@mail.gmail.com>

Kyle

When you installed Perl you may not have included the option to open *.pl
files with Perl. You can see on the file icon of falsecolor.pl if it has a
Perl association. Also check that the first line of falsecolor.pl contains
the location of perl.exe on your machine.

Regards,
Thomas


On Mon, Jul 21, 2014 at 10:52 AM, Houser, Kyle <khouser at ewingcole.com>
wrote:

>   Hi Everyone,
>
>
>
> I wrote about using Perl and the falsecolor command a few months back and
> unfortunately my computer was wiped clean so I had to reinstall program. I
> changed the path and raypath to the following to the location where I have
> Radiance saved:
>
>
>
> Path = c:\Program Files\Radiance\bin
>
> RAYPATH = c:\Program Files\Radiance\lib
>
>
>
> but when I call upon the command, I am still being told it is not a
> recognized command.
>
>
>
> This is the command I am using to call upon the image.
>
>
>
> C:\g215th>falsecolor.pl ?i june.hdr ?log 2 -1 Lux > luxjune.hdr
>
>
>
> Is there another step I am missing or do I have the programs installed
> incorrectly? I have Pearl and Radiance saved in two different folders if
> that matters.
>
>
>
> Thanks,
>
> Kyle
>
>
>
>
>
>
>
> Kyle E. Houser
>
>  EwingCole
>
> Federal Reserve Bank Building
> 100 N. 6th Street
> Philadelphia, PA 19106-1590
>
>  *DIRECT * 215.625.4422
>  *TEL * 215.923.2020
>  *FAX *215.574.9163
>  *EMAIL *khouser at ewingcole.com
>
>  ewingcole.com <http://www.ewingcole.com>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140721/a1ba13f1/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imagec920cf.GIF
Type: image/gif
Size: 1959 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140721/a1ba13f1/attachment.gif>

From R.Watkins at kent.ac.uk  Tue Jul 22 04:39:24 2014
From: R.Watkins at kent.ac.uk (Richard Watkins)
Date: Tue, 22 Jul 2014 11:39:24 +0000
Subject: [Radiance-general]  Infrared scene simulation
Message-ID: <36E58ACF2BA61641A0EB4F54EF3D55E5010CAD2770@EX10-LIVE-MBN1.ad.kent.ac.uk>

Dear Greg,

I wonder if I could ask if it is possible to use Radiance to assess the albedo of an urban setting, e.g. a street gorge, where Radiance can take into account the near infra-red component of the solar spectrum as well as the visible one, please? Perhaps the visible component would have to be assessed first, and then the IR on a second run, after modifying the surface reflectances?

Many thanks

Richard Watkins

Kent School of Architecture  :  University of Kent  :  Kent  :  CT2 7NZ


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140722/442fc75f/attachment.html>

From gmolina at hdlao.com  Wed Jul 23 11:27:44 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Wed, 23 Jul 2014 14:27:44 -0400
Subject: [Radiance-general] Infrared scene simulation
In-Reply-To: <36E58ACF2BA61641A0EB4F54EF3D55E5010CAD2770@EX10-LIVE-MBN1.ad.kent.ac.uk>
References: <36E58ACF2BA61641A0EB4F54EF3D55E5010CAD2770@EX10-LIVE-MBN1.ad.kent.ac.uk>
Message-ID: <CAK+g53A889VgvvfhDWJQ41ouOeGU37OnG+Y0QQodRNU1-qmCYQ@mail.gmail.com>

Richard,

I worked with non-visible wavelengths during my Thesis. When I asked if it
was possible, people in here told me "Math is Math, as long as you include
the correct reflectances, it will work".

If you do not go to the FIR; where every "warm" surface is actually an
emitter and absorber, I would say it will work.




2014-07-22 7:39 GMT-04:00 Richard Watkins <R.Watkins at kent.ac.uk>:

>  Dear Greg,
>
>
>
> I wonder if I could ask if it is possible to use Radiance to assess the
> albedo of an urban setting, e.g. a street gorge, where Radiance can take
> into account the near infra-red component of the solar spectrum as well as
> the visible one, please? Perhaps the visible component would have to be
> assessed first, and then the IR on a second run, after modifying the
> surface reflectances?
>
>
>
> Many thanks
>
>
>
> Richard Watkins
>
>
>
> Kent School of Architecture  :  University of Kent  :  Kent  :  CT2 7NZ
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140723/cc0250dc/attachment.html>

From em.vazifeh at gmail.com  Thu Jul 24 05:00:19 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Thu, 24 Jul 2014 14:00:19 +0200
Subject: [Radiance-general] Path problem
Message-ID: <CAJeoGJ4pP9LsQzzoVPyZaaWtEPVLb5b09-8fFNskps_NHL7oyg@mail.gmail.com>

Dear Ray lovers!

Whenever I want to run a Radiance program using MATLAB environment, I have
to add the path before the command, otherwise it returns "command not
found". But even adding that for the command below I get this error "Use of
uninitialized value in split at /usr/local/ray/bin/genskyvec line 129, <>
line 17." and some other lines of similar error.

Matlab command:
unix('/usr/local/ray/bin/gendaylit 03 12 07:35 -a 48.2 -o -16.37 -m -15 -W
3.26 67.30 | /usr/local/ray/bin/genskyvec -m 1 -c 1 1 1 filename.dat')

but if I return this command in Terminal I get no error and works
perfectly. Any idea why is it like that and what should I do?

Cheers, Ehsan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140724/446aa4b9/attachment.html>

From gregoryjward at gmail.com  Thu Jul 24 08:16:45 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 24 Jul 2014 08:16:45 -0700
Subject: [Radiance-general] Path problem
In-Reply-To: <CAJeoGJ4pP9LsQzzoVPyZaaWtEPVLb5b09-8fFNskps_NHL7oyg@mail.gmail.com>
References: <CAJeoGJ4pP9LsQzzoVPyZaaWtEPVLb5b09-8fFNskps_NHL7oyg@mail.gmail.com>
Message-ID: <FDCEEFD5-DF0A-4520-AA6D-5A1129A6AE55@lmi.net>

Hi Eshan,

Your error does not really make sense, since the first use of "split" in genskyvec happens at line 39.

I don't know why you included "filename.dat" at the end of your command, unless you wanted to redirect output to it, in which case you need to include the '>' character before it.

Finally, I believe you need to set the PATH variable to locate Radiance Perl scripts rather than simply executing them by explicit paths, because they in turn call other Radiance programs that will not be found if the PATH environment variable doesn't include the appropriate executable directory.

Cheers,
-Greg

> From: "Ehsan M.Vazifeh" <em.vazifeh at gmail.com>
> Subject: [Radiance-general] Path problem
> Date: July 24, 2014 5:00:19 AM PDT
> 
> Dear Ray lovers!
> 
> Whenever I want to run a Radiance program using MATLAB environment, I have to add the path before the command, otherwise it returns "command not found". But even adding that for the command below I get this error "Use of uninitialized value in split at /usr/local/ray/bin/genskyvec line 129, <> line 17." and some other lines of similar error.
> 
> Matlab command:
> unix('/usr/local/ray/bin/gendaylit 03 12 07:35 -a 48.2 -o -16.37 -m -15 -W 3.26 67.30 | /usr/local/ray/bin/genskyvec -m 1 -c 1 1 1 filename.dat')
> 
> but if I return this command in Terminal I get no error and works perfectly. Any idea why is it like that and what should I do?
> 
> Cheers, Ehsan
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140724/47546f20/attachment.html>

From em.vazifeh at gmail.com  Fri Jul 25 00:56:38 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Fri, 25 Jul 2014 09:56:38 +0200
Subject: [Radiance-general] Path problem
In-Reply-To: <FDCEEFD5-DF0A-4520-AA6D-5A1129A6AE55@lmi.net>
References: <CAJeoGJ4pP9LsQzzoVPyZaaWtEPVLb5b09-8fFNskps_NHL7oyg@mail.gmail.com>
	<FDCEEFD5-DF0A-4520-AA6D-5A1129A6AE55@lmi.net>
Message-ID: <CAJeoGJ6Ku1+Z31q_CLZ1kJrJR2hJwgb87hKvu1XsoW2N-5bmLQ@mail.gmail.com>

Hi Dr. Ward,

I add some path in MATLAB and it seems to be working! I just had to copy
two files of rayini.cal, perezlum.cal in the MATLAB directory. Thanks a lot.

Ehsan

On 24 Jul 2014, at 17:16, Greg Ward <gregoryjward at gmail.com> wrote:

Hi Eshan,

Your error does not really make sense, since the first use of "split" in
genskyvec happens at line 39.

I don't know why you included "filename.dat" at the end of your command,
unless you wanted to redirect output to it, in which case you need to
include the '>' character before it.

Finally, I believe you need to set the PATH variable to locate Radiance
Perl scripts rather than simply executing them by explicit paths, because
they in turn call other Radiance programs that will not be found if the
PATH environment variable doesn't include the appropriate executable
directory.

Cheers,
-Greg

*From:*"Ehsan M.Vazifeh" <em.vazifeh at gmail.com>
*Subject:*[Radiance-general] Path problem
*Date:*July 24, 2014 5:00:19 AM PDT

 Dear Ray lovers!

Whenever I want to run a Radiance program using MATLAB environment, I have
to add the path before the command, otherwise it returns "command not
found". But even adding that for the command below I get this error "Use of
uninitialized value in split at /usr/local/ray/bin/genskyvec line 129, <>
line 17." and some other lines of similar error.

Matlab command:
unix('/usr/local/ray/bin/gendaylit 03 12 07:35 -a 48.2 -o -16.37 -m -15 -W
3.26 67.30 | /usr/local/ray/bin/genskyvec -m 1 -c 1 1 1 filename.dat')

but if I return this command in Terminal I get no error and works
perfectly. Any idea why is it like that and what should I do?

Cheers, Ehsan

 _______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140725/5ef01d26/attachment.html>

From geotrupes at me.com  Fri Jul 25 02:09:24 2014
From: geotrupes at me.com (giulioandrea antonutto foi)
Date: Fri, 25 Jul 2014 10:09:24 +0100
Subject: [Radiance-general] Path problem
In-Reply-To: <CAJeoGJ6Ku1+Z31q_CLZ1kJrJR2hJwgb87hKvu1XsoW2N-5bmLQ@mail.gmail.com>
References: <CAJeoGJ4pP9LsQzzoVPyZaaWtEPVLb5b09-8fFNskps_NHL7oyg@mail.gmail.com>
	<FDCEEFD5-DF0A-4520-AA6D-5A1129A6AE55@lmi.net>
	<CAJeoGJ6Ku1+Z31q_CLZ1kJrJR2hJwgb87hKvu1XsoW2N-5bmLQ@mail.gmail.com>
Message-ID: <51D86CE1-ACFB-4657-B3C6-E705BED1E0FD@me.com>

I find the solution, easy and maybe dumb, is to start matlab in the terminal.
try
matlab -nodektop
then if you like to start the GUI type desktop
should all work provided the .bash_profile is set  (i you are on a mac)
`G
On 25 Jul 2014, at 08:56, Ehsan M.Vazifeh <em.vazifeh at gmail.com> wrote:

> Hi Dr. Ward,
> 
> I add some path in MATLAB and it seems to be working! I just had to copy two files of rayini.cal, perezlum.cal in the MATLAB directory. Thanks a lot.
> 
> Ehsan
> 
> On 24 Jul 2014, at 17:16, Greg Ward <gregoryjward at gmail.com> wrote:
> 
> Hi Eshan,
> 
> Your error does not really make sense, since the first use of "split" in genskyvec happens at line 39.
> 
> I don't know why you included "filename.dat" at the end of your command, unless you wanted to redirect output to it, in which case you need to include the '>' character before it.
> 
> Finally, I believe you need to set the PATH variable to locate Radiance Perl scripts rather than simply executing them by explicit paths, because they in turn call other Radiance programs that will not be found if the PATH environment variable doesn't include the appropriate executable directory.
> 
> Cheers,
> -Greg
> 
> From:"Ehsan M.Vazifeh" <em.vazifeh at gmail.com>
> Subject:[Radiance-general] Path problem
> Date:July 24, 2014 5:00:19 AM PDT
> 
> Dear Ray lovers!
> 
> Whenever I want to run a Radiance program using MATLAB environment, I have to add the path before the command, otherwise it returns "command not found". But even adding that for the command below I get this error "Use of uninitialized value in split at /usr/local/ray/bin/genskyvec line 129, <> line 17." and some other lines of similar error.
> 
> Matlab command:
> unix('/usr/local/ray/bin/gendaylit 03 12 07:35 -a 48.2 -o -16.37 -m -15 -W 3.26 67.30 | /usr/local/ray/bin/genskyvec -m 1 -c 1 1 1 filename.dat')
> 
> but if I return this command in Terminal I get no error and works perfectly. Any idea why is it like that and what should I do?
> 
> Cheers, Ehsan
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140725/e6376164/attachment.html>

From giudm.87 at gmail.com  Mon Jul 28 07:39:25 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Mon, 28 Jul 2014 16:39:25 +0200
Subject: [Radiance-general] 3 phase method in Windows OS
Message-ID: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>

Dear expert,

I am trying to run the Three Phase Method in Windows 8 but at the moment of
the DMX generation I have found out a problem with genklemsamp.

Searching in the web I have understood the problem regards something about
some incompatibility of the Pearl language with Windows OS. I have also
find a ZIP archives that contains Radiance Perl scripts that were packaged
into Windows executable files in the Jolaxa site.

Although I have followed the instruction (rather easy since I have only to
paste the exe file in the bin directory) something still doesn't work.

The command crash even if I run a simple case as:

 genklemsamp -c 10 - vd 0 -1 0 > sample.dat

with the waring : "genklemsamp has stopped working".



Any suggestion?


Kind regards,
*Giuseppe *
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140728/238e3cf8/attachment.html>

From gregoryjward at gmail.com  Mon Jul 28 08:57:34 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 28 Jul 2014 08:57:34 -0700
Subject: [Radiance-general] 3 phase method in Windows OS
In-Reply-To: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>
References: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>
Message-ID: <B458128A-0F52-48B4-B041-D9E9ED8996D6@lmi.net>

This error must be generated by Perl itself, as it isn't one produced by the genklemsamp.pl script.  I don't know enough about Perl and Windows to say more, but perhaps someone else does.

Cheers,
-Greg

> From: Giuseppe De Michele <giudm.87 at gmail.com>
> Subject: [Radiance-general] 3 phase method in Windows OS
> Date: July 28, 2014 7:39:25 AM PDT
> 
> Dear expert,
> 
> I am trying to run the Three Phase Method in Windows 8 but at the moment of the DMX generation I have found out a problem with genklemsamp. 
> 
> Searching in the web I have understood the problem regards something about some incompatibility of the Pearl language with Windows OS. I have also find a ZIP archives that contains Radiance Perl scripts that were packaged into Windows executable files in the Jolaxa site. 
> 
> Although I have followed the instruction (rather easy since I have only to paste the exe file in the bin directory) something still doesn't work. 
> 
> The command crash even if I run a simple case as:
> 
>  genklemsamp -c 10 - vd 0 -1 0 > sample.dat 
> 
> with the waring : "genklemsamp has stopped working".
> 
> 
> 
> Any suggestion?
> 
> 
> Kind regards,
> Giuseppe 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140728/4b7677e1/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon Jul 28 09:08:06 2014
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 28 Jul 2014 10:08:06 -0600
Subject: [Radiance-general] 3 phase method in Windows OS
In-Reply-To: <B458128A-0F52-48B4-B041-D9E9ED8996D6@lmi.net>
References: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>
	<B458128A-0F52-48B4-B041-D9E9ED8996D6@lmi.net>
Message-ID: <CFFBD020.E4E1%Robert.Guglielmetti@nrel.gov>

I've only experience with Windows XP and Windows 7, but this should all work fine if you have Perl installed properly. Get your correct version of Perl from here:
http://www.activestate.com/activeperl/downloads
?or here:
http://strawberryperl.com/
?and make sure to add the Perl executable directory to your PATH (the installers will optionally do this for you).

You also need to ensure your Radiance installation is correct, meaning that the Radiance bin directory is in your PATH, and the Radiance lib directory is in an environment variable called "RAYPATH".


On 7/28/14, 9:57 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:

This error must be generated by Perl itself, as it isn't one produced by the genklemsamp.pl script.  I don't know enough about Perl and Windows to say more, but perhaps someone else does.

Cheers,
-Greg


From: Giuseppe De Michele <giudm.87 at gmail.com<mailto:giudm.87 at gmail.com>>

Subject: [Radiance-general] 3 phase method in Windows OS

Date: July 28, 2014 7:39:25 AM PDT


Dear expert,

I am trying to run the Three Phase Method in Windows 8 but at the moment of the DMX generation I have found out a problem with genklemsamp.

Searching in the web I have understood the problem regards something about some incompatibility of the Pearl language with Windows OS. I have also find a ZIP archives that contains Radiance Perl scripts that were packaged into Windows executable files in the Jolaxa site.

Although I have followed the instruction (rather easy since I have only to paste the exe file in the bin directory) something still doesn't work.

The command crash even if I run a simple case as:

 genklemsamp -c 10 - vd 0 -1 0 > sample.dat

with the waring : "genklemsamp has stopped working".



Any suggestion?


Kind regards,
Giuseppe



From sasumal2 at yahoo.com  Sun Jul 27 10:58:10 2014
From: sasumal2 at yahoo.com (Ariane Johanson)
Date: Sun, 27 Jul 2014 17:58:10 +0000 (UTC)
Subject: [Radiance-general] genBSDF problem
Message-ID: <loom.20140727T192421-899@post.gmane.org>

Hello all,

I recently started to experiment with Radiance and now I am experimenting on 
the three phase method. I started with something very very simple to see how 
it works and maybe compare the results with other simulation methods, before I 
try to do something complicated.

I created a simple rectangular room that is lighted through another 
rectangular box on top of the roof. This box I want to use to make a BSDF. It 
is just a rectangular kind of pipe, with two of its surface (the one on top 
and bottom) translucent, from which the light will enter the room.

I created the Daylight matrix for the upper part of this shape. Then I created 
the rad files for the box's geometry and materials that are really simple.

However when I try to generate the BSDF, the genBSDF stops working. I tried to 
use a different genBSDF (I found one of different size from WINDOWS software). 
This one runs but at the end I get the message "Generation of Tensor Tree 
BSDFs is not supported on windows". Anyone has any idea why I get these 
errors? I am really new in this and maybe I miss something really obvious. 

Thank you in advance,

Ariane



From gregoryjward at gmail.com  Mon Jul 28 11:05:43 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 28 Jul 2014 11:05:43 -0700
Subject: [Radiance-general] genBSDF problem
In-Reply-To: <loom.20140727T192421-899@post.gmane.org>
References: <loom.20140727T192421-899@post.gmane.org>
Message-ID: <CE329472-E8F2-40F1-9E42-0C400B5F89CD@lmi.net>

Hi Ariane,

You shouldn't be using the "-t3" or "-t4" option of genBSDF for the three-phase method.  Without these options, you should not get the unsupported error.

Best,
-Greg

> From: Ariane Johanson <sasumal2 at yahoo.com>
> Subject: [Radiance-general] genBSDF problem
> Date: July 27, 2014 10:58:10 AM PDT
> 
> Hello all,
> 
> I recently started to experiment with Radiance and now I am experimenting on 
> the three phase method. I started with something very very simple to see how 
> it works and maybe compare the results with other simulation methods, before I 
> try to do something complicated.
> 
> I created a simple rectangular room that is lighted through another 
> rectangular box on top of the roof. This box I want to use to make a BSDF. It 
> is just a rectangular kind of pipe, with two of its surface (the one on top 
> and bottom) translucent, from which the light will enter the room.
> 
> I created the Daylight matrix for the upper part of this shape. Then I created 
> the rad files for the box's geometry and materials that are really simple.
> 
> However when I try to generate the BSDF, the genBSDF stops working. I tried to 
> use a different genBSDF (I found one of different size from WINDOWS software). 
> This one runs but at the end I get the message "Generation of Tensor Tree 
> BSDFs is not supported on windows". Anyone has any idea why I get these 
> errors? I am really new in this and maybe I miss something really obvious. 
> 
> Thank you in advance,
> 
> Ariane


From km07ok at brocku.ca  Mon Jul 28 14:56:18 2014
From: km07ok at brocku.ca (Kelly Moylan)
Date: Mon, 28 Jul 2014 17:56:18 -0400
Subject: [Radiance-general] HSV values from rtrace
Message-ID: <CABUVJeSDPYzqKs0Va2zm=yaqN--zR8rQijHXukF3pRT-aP81Tw@mail.gmail.com>

Hi everyone,

I've been using Radiance in some research, and for one experiment I would
like to look at things from a colour perspective.  The normal way I would
go about would be converting values to HSV, but because of the values that
return from rtrace, I don't know how I would go about doing this.  Is such
a thing possible or is there another way to look at the colour of the light?


Thanks,
Kelly Moylan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140728/65a96a7e/attachment.html>

From gregoryjward at gmail.com  Mon Jul 28 15:17:51 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 28 Jul 2014 15:17:51 -0700
Subject: [Radiance-general] HSV values from rtrace
In-Reply-To: <CABUVJeSDPYzqKs0Va2zm=yaqN--zR8rQijHXukF3pRT-aP81Tw@mail.gmail.com>
References: <CABUVJeSDPYzqKs0Va2zm=yaqN--zR8rQijHXukF3pRT-aP81Tw@mail.gmail.com>
Message-ID: <256D0473-7139-4061-B3C0-5CB10C74E2D0@lmi.net>

Hi Kelly,

There are many, many ways to represent color, unfortunately.

There is no reason you could not apply the HSV formulas (say from <http://en.wikipedia.org/wiki/HSL_and_HSV>) to RGB values out of Radiance.  To get the actual color values from an image, you can use the "pvalue" program to convert to ASCII format.  From there, you can use the "rcalc" program to convert to other coordinates, e.g.:

	pvalue -h -H -d render.hdr \
		| rcalc -e 'iR=$1;iG=$2;iB=$3' -e 'cmax=if(iR-iG,if(iR-iB,1,3),if(iG-iB,2,3))' -e '$1=cmax'

For each pixel, the above command would tell you which channel was largest, 1 (red), 2 (green), or 3 (blue).  The complete formula to get to HSV is more complicated, but hopefully this will get you started.

There are already functions provided to get from XYZ color space to CIE Lab and Luv spaces.  However, these spaces require you to define a maximum "white" value, which you may or may not know.  If the maximum white is "100", you could use the following to compute Lab coordinates for each pixel:

	ra_xyze render.hdr \
		| pvalue -h -H -d \
		| rcalc -f cielab.cal -e 'Xw=100;Yw=100;Zw=100' -e '$1=Ls($2);$2=as($1,$2,$3);$3=bs($1,$2,$3)'

The first command (ra_xyze) converts from an RGB to an XYZ picture, which you could also do with rcalc, but this way is probably faster and easier to show.

Best,
-Greg

> From: Kelly Moylan <km07ok at brocku.ca>
> Subject: [Radiance-general] HSV values from rtrace
> Date: July 28, 2014 2:56:18 PM PDT
> 
> Hi everyone,
> 
> I've been using Radiance in some research, and for one experiment I would like to look at things from a colour perspective.  The normal way I would go about would be converting values to HSV, but because of the values that return from rtrace, I don't know how I would go about doing this.  Is such a thing possible or is there another way to look at the colour of the light?
> 
> 
> Thanks,
> Kelly Moylan
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140728/732e6898/attachment.html>

From sasumal2 at yahoo.com  Tue Jul 29 02:01:47 2014
From: sasumal2 at yahoo.com (Sas Sas)
Date: Tue, 29 Jul 2014 02:01:47 -0700
Subject: [Radiance-general] genBSDF problem
In-Reply-To: <CE329472-E8F2-40F1-9E42-0C400B5F89CD@lmi.net>
References: <loom.20140727T192421-899@post.gmane.org>
	<CE329472-E8F2-40F1-9E42-0C400B5F89CD@lmi.net> 
Message-ID: <1406624507.25018.YahooMailNeo@web163103.mail.bf1.yahoo.com>

This seems to work. Thank you very much!

Ariane


On Monday, July 28, 2014 8:05 PM, Greg Ward <gregoryjward at gmail.com> wrote:
 


Hi Ariane,

You shouldn't be using the "-t3" or "-t4" option of genBSDF for the three-phase method.? Without these
 options, you should not get the unsupported error.

Best,
-Greg

> From: Ariane Johanson <sasumal2 at yahoo.com>
> Subject: [Radiance-general] genBSDF problem
> Date: July 27, 2014 10:58:10 AM PDT
> 
> Hello all,
> 
> I recently started to experiment with Radiance and now I am experimenting on 
> the three phase method. I started with something very very simple to see how 
> it works and maybe compare the results with other simulation methods, before I 
> try to do something complicated.
> 
> I created a simple rectangular room that is lighted through another 
> rectangular box on top of the roof. This box I want to use to make a BSDF. It 
> is just a rectangular kind of pipe, with two of its surface (the one on top 
> and bottom) translucent, from which the light will enter
 the room.
> 
> I created the Daylight matrix for the upper part of this shape. Then I created 
> the rad files for the box's geometry and materials that are really simple.
> 
> However when I try to generate the BSDF, the genBSDF stops working. I tried to 
> use a different genBSDF (I found one of different size from WINDOWS software). 
> This one runs but at the end I get the message "Generation of Tensor Tree 
> BSDFs is not supported on windows". Anyone has any idea why I get these 
> errors? I am really new in this and maybe I miss something really obvious. 
> 
> Thank you in advance,
> 
> Ariane

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140729/47f327a5/attachment.html>

From hujia06 at gmail.com  Tue Jul 29 20:22:08 2014
From: hujia06 at gmail.com (Jia Hu)
Date: Tue, 29 Jul 2014 23:22:08 -0400
Subject: [Radiance-general] Reflectance meausrement using macbethcal utility
Message-ID: <CABzgtwqh_DosaObkar45iATWMEf-YmP-DbpujF=8fh=aQsH_3A@mail.gmail.com>

Hello,

I am using Radiance macbethcal to estimate the material reflectance.  If I
get the calibrated HDR image, how could I determine the RGB/reflectance?
Should  I pick a point in the generated HDR image to retrieve the RGB
values, and then directly set the RGB to material RGB in Radiance?
 Is there any Radiance tool to directly obtain RGB value of a given pixel?

Thanks,
Jia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140729/c0667315/attachment.html>

From giudm.87 at gmail.com  Wed Jul 30 00:38:16 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Wed, 30 Jul 2014 09:38:16 +0200
Subject: [Radiance-general] 3 phase method in Windows OS
In-Reply-To: <CFFBD020.E4E1%Robert.Guglielmetti@nrel.gov>
References: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>
	<B458128A-0F52-48B4-B041-D9E9ED8996D6@lmi.net>
	<CFFBD020.E4E1%Robert.Guglielmetti@nrel.gov>
Message-ID: <CAOn=hKHWrHr9UL7SEk=T6FXkXoK3H=WVu4uRDO9Op6TUCYmzQA@mail.gmail.com>

Dear Rob and Andy,

Thank you for the help. The interpreter for Pert is what I need.

Although with my colleague we have found an other problem, the same find in
this discussion:

http://www.radiance-online.org/pipermail/radiance-general/2013-July/009660.html


and after replacing the wrong string with the right one ,finally, all seems
works well.
Also in couple with rcontrib.

So thank again expert,
Giuseppe


2014-07-28 18:08 GMT+02:00 Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov>:

> I've only experience with Windows XP and Windows 7, but this should all
> work fine if you have Perl installed properly. Get your correct version of
> Perl from here:
> http://www.activestate.com/activeperl/downloads
> ?or here:
> http://strawberryperl.com/
> ?and make sure to add the Perl executable directory to your PATH (the
> installers will optionally do this for you).
>
> You also need to ensure your Radiance installation is correct, meaning
> that the Radiance bin directory is in your PATH, and the Radiance lib
> directory is in an environment variable called "RAYPATH".
>
>
> On 7/28/14, 9:57 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:
> gregoryjward at gmail.com>> wrote:
>
> This error must be generated by Perl itself, as it isn't one produced by
> the genklemsamp.pl script.  I don't know enough about Perl and Windows to
> say more, but perhaps someone else does.
>
> Cheers,
> -Greg
>
>
> From: Giuseppe De Michele <giudm.87 at gmail.com<mailto:giudm.87 at gmail.com>>
>
> Subject: [Radiance-general] 3 phase method in Windows OS
>
> Date: July 28, 2014 7:39:25 AM PDT
>
>
> Dear expert,
>
> I am trying to run the Three Phase Method in Windows 8 but at the moment
> of the DMX generation I have found out a problem with genklemsamp.
>
> Searching in the web I have understood the problem regards something about
> some incompatibility of the Pearl language with Windows OS. I have also
> find a ZIP archives that contains Radiance Perl scripts that were packaged
> into Windows executable files in the Jolaxa site.
>
> Although I have followed the instruction (rather easy since I have only to
> paste the exe file in the bin directory) something still doesn't work.
>
> The command crash even if I run a simple case as:
>
>  genklemsamp -c 10 - vd 0 -1 0 > sample.dat
>
> with the waring : "genklemsamp has stopped working".
>
>
>
> Any suggestion?
>
>
> Kind regards,
> Giuseppe
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
*Giuseppe De Michele*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/b272cd39/attachment.html>

From giudm.87 at gmail.com  Wed Jul 30 02:59:19 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Wed, 30 Jul 2014 11:59:19 +0200
Subject: [Radiance-general] 3 phase method in Windows OS
In-Reply-To: <CAOn=hKHWrHr9UL7SEk=T6FXkXoK3H=WVu4uRDO9Op6TUCYmzQA@mail.gmail.com>
References: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>
	<B458128A-0F52-48B4-B041-D9E9ED8996D6@lmi.net>
	<CFFBD020.E4E1%Robert.Guglielmetti@nrel.gov>
	<CAOn=hKHWrHr9UL7SEk=T6FXkXoK3H=WVu4uRDO9Op6TUCYmzQA@mail.gmail.com>
Message-ID: <CAOn=hKGBXUBWFuYi_jyDaBMSCjvkqiqFy=WaDAwwDmuVmSBmqQ@mail.gmail.com>

Dear expert,

I am here again. Unfortunately I missed the last step to complete the
simulation with the 3pm.

dctimestep gives back an error message:
  *system - header read error: no such file or directory.*

I report the steps:

*vmx*

oconv materials/materiali.rad scene/stanza.rad objects/window_glow.rad >
temp/model_vmx.oct

rcontrib -n 4 -f klems_int.cal -b kbinS -bn Nkbins -m window_glow -I+ -ab 8
-ad 10000 -as 2048 -ar 1024 -lw 1e-8 -av 0 0 0 temp/model_vmx.oct <
data/cells.pts > data/cells.vmx

*BSDF*
 generated with WINDOW 7.2

*dmx*

oconv materials/materiali.rad scene/stanza.rad scene/ground.rad
scene/sky_white1.rad > temp/model_dmx.oct

genklemsamp.pl -c 1000 -vd 0 -1 0 objects/window_glow.rad | rcontrib -n 4
-c 1000 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faa
temp/model_dmx.oct > data/south.dmx

*s + dctimestep*  (broken step)

gensky 6 21 15.0 -s -a 44.42 -o -8.85 -m -15.0 | genskyvec -m 4 -c 1 1 1 >
temp\skysun_4.skv

dctimestep data\cells.vmx data\bsdf\clearglass.xml data\south.dmx
temp\skysun_4.skv | rcalc -e "$1=179*($1*0.265+$2*0.670+$3*0.0065)" >
data\ill_cg.dat

The same commands work very well in UNIX environment.
I really don't know where put my hands. Any advice will be appreciate.

Cheers,
Giuseppe






2014-07-30 9:38 GMT+02:00 Giuseppe De Michele <giudm.87 at gmail.com>:

> Dear Rob and Andy,
>
> Thank you for the help. The interpreter for Pert is what I need.
>
> Although with my colleague we have found an other problem, the same find
> in this discussion:
>
>
> http://www.radiance-online.org/pipermail/radiance-general/2013-July/009660.html
>
>
> and after replacing the wrong string with the right one ,finally, all
> seems works well.
> Also in couple with rcontrib.
>
> So thank again expert,
> Giuseppe
>
>
> 2014-07-28 18:08 GMT+02:00 Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov>:
>
> I've only experience with Windows XP and Windows 7, but this should all
>> work fine if you have Perl installed properly. Get your correct version of
>> Perl from here:
>> http://www.activestate.com/activeperl/downloads
>> ?or here:
>> http://strawberryperl.com/
>> ?and make sure to add the Perl executable directory to your PATH (the
>> installers will optionally do this for you).
>>
>> You also need to ensure your Radiance installation is correct, meaning
>> that the Radiance bin directory is in your PATH, and the Radiance lib
>> directory is in an environment variable called "RAYPATH".
>>
>>
>> On 7/28/14, 9:57 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:
>> gregoryjward at gmail.com>> wrote:
>>
>> This error must be generated by Perl itself, as it isn't one produced by
>> the genklemsamp.pl script.  I don't know enough about Perl and Windows
>> to say more, but perhaps someone else does.
>>
>> Cheers,
>> -Greg
>>
>>
>> From: Giuseppe De Michele <giudm.87 at gmail.com<mailto:giudm.87 at gmail.com>>
>>
>> Subject: [Radiance-general] 3 phase method in Windows OS
>>
>> Date: July 28, 2014 7:39:25 AM PDT
>>
>>
>> Dear expert,
>>
>> I am trying to run the Three Phase Method in Windows 8 but at the moment
>> of the DMX generation I have found out a problem with genklemsamp.
>>
>> Searching in the web I have understood the problem regards something
>> about some incompatibility of the Pearl language with Windows OS. I have
>> also find a ZIP archives that contains Radiance Perl scripts that were
>> packaged into Windows executable files in the Jolaxa site.
>>
>> Although I have followed the instruction (rather easy since I have only
>> to paste the exe file in the bin directory) something still doesn't work.
>>
>> The command crash even if I run a simple case as:
>>
>>  genklemsamp -c 10 - vd 0 -1 0 > sample.dat
>>
>> with the waring : "genklemsamp has stopped working".
>>
>>
>>
>> Any suggestion?
>>
>>
>> Kind regards,
>> Giuseppe
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
>
> --
> *Giuseppe De Michele*
>



-- 
*Giuseppe De Michele*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/31bc2a83/attachment.html>

From shrikarbhave at gmail.com  Wed Jul 30 06:56:22 2014
From: shrikarbhave at gmail.com (Shrikar Bhave)
Date: Wed, 30 Jul 2014 09:56:22 -0400
Subject: [Radiance-general] *.tif to *.pic?
Message-ID: <CABL0RjdeuQazV13WoAkoKXcnXAB4bTb+5da_hEC=Vu0DYhpfYA@mail.gmail.com>

Hello All,

I am almost certain, I am asking for impossible .. but time is crucial and
I will give it a shot.

I accidentally overwrote my pic files (but have the tif files for the same
that I converted) and wondering if it is possible to quickly retrieve pic
from the tif files.

Please let me know,

Thanks,

Shri
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/a0193cf5/attachment-0001.html>

From gmolina at hdlao.com  Wed Jul 30 07:07:53 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Wed, 30 Jul 2014 10:07:53 -0400
Subject: [Radiance-general] *.tif to *.pic?
In-Reply-To: <CABL0RjdeuQazV13WoAkoKXcnXAB4bTb+5da_hEC=Vu0DYhpfYA@mail.gmail.com>
References: <CABL0RjdeuQazV13WoAkoKXcnXAB4bTb+5da_hEC=Vu0DYhpfYA@mail.gmail.com>
Message-ID: <CAK+g53BT5WxGVyX-P+G-VMKKsDrk41tH7p-dVJNGvSyMYounQQ@mail.gmail.com>

Shri,

I understand that the "ra_tiff" has an "-r" command to reverse the
conversion.... I have no idea if you will get the original image (I think
that the conversion from HDR to LDR loses some information), but it might
be useful for you.

Bye!

Germ?n


2014-07-30 9:56 GMT-04:00 Shrikar Bhave <shrikarbhave at gmail.com>:

> Hello All,
>
> I am almost certain, I am asking for impossible .. but time is crucial and
> I will give it a shot.
>
> I accidentally overwrote my pic files (but have the tif files for the same
> that I converted) and wondering if it is possible to quickly retrieve pic
> from the tif files.
>
> Please let me know,
>
> Thanks,
>
> Shri
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/eabd69f3/attachment.html>

From Christopher.Rush at arup.com  Wed Jul 30 07:18:06 2014
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Wed, 30 Jul 2014 14:18:06 +0000
Subject: [Radiance-general] *.tif to *.pic?
In-Reply-To: <CAK+g53BT5WxGVyX-P+G-VMKKsDrk41tH7p-dVJNGvSyMYounQQ@mail.gmail.com>
References: <CABL0RjdeuQazV13WoAkoKXcnXAB4bTb+5da_hEC=Vu0DYhpfYA@mail.gmail.com>
	<CAK+g53BT5WxGVyX-P+G-VMKKsDrk41tH7p-dVJNGvSyMYounQQ@mail.gmail.com>
Message-ID: <88079A360FAC7441AE93ECBF619982361E676B8D@AMXExMb02.global.arup.com>

It also probably depends on what options you used to generate the TIFF files. The -z, -L, -l, -f, and -w options each create different TIFF file types.

From: CHI-German Molina [mailto:gmolina at hdlao.com]
Sent: Wednesday, July 30, 2014 10:08 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] *.tif to *.pic?

Shri,

I understand that the "ra_tiff" has an "-r" command to reverse the conversion.... I have no idea if you will get the original image (I think that the conversion from HDR to LDR loses some information), but it might be useful for you.

Bye!

Germ?n

2014-07-30 9:56 GMT-04:00 Shrikar Bhave <shrikarbhave at gmail.com<mailto:shrikarbhave at gmail.com>>:
Hello All,
I am almost certain, I am asking for impossible .. but time is crucial and I will give it a shot.
I accidentally overwrote my pic files (but have the tif files for the same that I converted) and wondering if it is possible to quickly retrieve pic from the tif files.
Please let me know,

Thanks,

Shri
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/9870fc7c/attachment.html>

From shrikarbhave at gmail.com  Wed Jul 30 07:19:07 2014
From: shrikarbhave at gmail.com (Shrikar Bhave)
Date: Wed, 30 Jul 2014 10:19:07 -0400
Subject: [Radiance-general] *.tif to *.pic?
In-Reply-To: <CAK+g53BT5WxGVyX-P+G-VMKKsDrk41tH7p-dVJNGvSyMYounQQ@mail.gmail.com>
References: <CABL0RjdeuQazV13WoAkoKXcnXAB4bTb+5da_hEC=Vu0DYhpfYA@mail.gmail.com>
	<CAK+g53BT5WxGVyX-P+G-VMKKsDrk41tH7p-dVJNGvSyMYounQQ@mail.gmail.com>
Message-ID: <CABL0Rjciq3wtzFsDKeid6j37w1MubFEtWwp9+VqujP2fxOAdQA@mail.gmail.com>

Thanks Germ?n,

Yes, I have tried that already, and it doesn't have the same information.
My final intent is to compile two pic images to show illuminance contours
on a scene - and that didn't work.

Shri


On Wed, Jul 30, 2014 at 10:07 AM, CHI-German Molina <gmolina at hdlao.com>
wrote:

> Shri,
>
> I understand that the "ra_tiff" has an "-r" command to reverse the
> conversion.... I have no idea if you will get the original image (I think
> that the conversion from HDR to LDR loses some information), but it might
> be useful for you.
>
> Bye!
>
> Germ?n
>
>
> 2014-07-30 9:56 GMT-04:00 Shrikar Bhave <shrikarbhave at gmail.com>:
>
>> Hello All,
>>
>> I am almost certain, I am asking for impossible .. but time is crucial
>> and I will give it a shot.
>>
>> I accidentally overwrote my pic files (but have the tif files for the
>> same that I converted) and wondering if it is possible to quickly retrieve
>> pic from the tif files.
>>
>> Please let me know,
>>
>> Thanks,
>>
>> Shri
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
> son confidenciales y pueden contener informacion privilegiada protegida por
> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
> electronicos son susceptibles de ser cambiados, infectados o adulterados
> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
> cambios o sus consecuencias. Usted debe estar informado que la compania
> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
> gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only for
> the person or entity to which it is addressed. If you are neither the
> intended recipient nor the employee or agent responsible for delivering
> this message to the intended recipient, you are hereby notified that you
> may not review, retransmit, convert to hard copy, copy, use or distribute
> this email message or any attachments to it. If you have received this
> email in error, please contact the sender immediately and delete this
> message from any computer or other data bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
> antiv?rus antes de qualquer uso.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/30a0893f/attachment-0001.html>

From tbleicher at gmail.com  Wed Jul 30 07:40:44 2014
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Wed, 30 Jul 2014 09:40:44 -0500
Subject: [Radiance-general] *.tif to *.pic?
In-Reply-To: <CABL0RjdeuQazV13WoAkoKXcnXAB4bTb+5da_hEC=Vu0DYhpfYA@mail.gmail.com>
References: <CABL0RjdeuQazV13WoAkoKXcnXAB4bTb+5da_hEC=Vu0DYhpfYA@mail.gmail.com>
Message-ID: <CAKGV-k3OCQeEbHfA1n6fmaUT-BDbyomCJTDqsmb_HrXEpJ--AA@mail.gmail.com>

Shrikar

Depending on how you created the *.pic files you may still have some *.unf
files, which are unfiltered versions of the *.pic files. Have you checked
that?


On Wed, Jul 30, 2014 at 8:56 AM, Shrikar Bhave <shrikarbhave at gmail.com>
wrote:

> Hello All,
>
> I am almost certain, I am asking for impossible .. but time is crucial and
> I will give it a shot.
>
> I accidentally overwrote my pic files (but have the tif files for the same
> that I converted) and wondering if it is possible to quickly retrieve pic
> from the tif files.
>
> Please let me know,
>
> Thanks,
>
> Shri
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/1d71a7ac/attachment.html>

From shrikarbhave at gmail.com  Wed Jul 30 07:58:25 2014
From: shrikarbhave at gmail.com (Shrikar Bhave)
Date: Wed, 30 Jul 2014 10:58:25 -0400
Subject: [Radiance-general] *.tif to *.pic?
In-Reply-To: <CAKGV-k3OCQeEbHfA1n6fmaUT-BDbyomCJTDqsmb_HrXEpJ--AA@mail.gmail.com>
References: <CABL0RjdeuQazV13WoAkoKXcnXAB4bTb+5da_hEC=Vu0DYhpfYA@mail.gmail.com>
	<CAKGV-k3OCQeEbHfA1n6fmaUT-BDbyomCJTDqsmb_HrXEpJ--AA@mail.gmail.com>
Message-ID: <CABL0RjdO7pVc+C8cwc4GLopshjxSYDwhuj3ryd1bPtLtTfTJXg@mail.gmail.com>

Thanks Chris and Thomas,

This was my command to create pic file.

rpict -vtv -vp 0.1 7.3 1.8 -vd 1 0 0 -vu 0 0 1 -vh 130 -vv 90 -x 3000 -y
1400 -ab 4 -aa 0.08 -ar 512 -ad 2048 -as 512 -ds .01 -dj .6 -t 60 sunny.oct
> lookeast_march21_noon.pic

And

ra_tiff lookeast_march21_noon.pic lookeast_march21_noon.tif

to create tiff files.

So, no *.unf files.

Shri




On Wed, Jul 30, 2014 at 10:40 AM, Thomas Bleicher <tbleicher at gmail.com>
wrote:

> Shrikar
>
> Depending on how you created the *.pic files you may still have some *.unf
> files, which are unfiltered versions of the *.pic files. Have you checked
> that?
>
>
> On Wed, Jul 30, 2014 at 8:56 AM, Shrikar Bhave <shrikarbhave at gmail.com>
> wrote:
>
>> Hello All,
>>
>> I am almost certain, I am asking for impossible .. but time is crucial
>> and I will give it a shot.
>>
>> I accidentally overwrote my pic files (but have the tif files for the
>> same that I converted) and wondering if it is possible to quickly retrieve
>> pic from the tif files.
>>
>> Please let me know,
>>
>> Thanks,
>>
>> Shri
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/2d691bd6/attachment.html>

From gregoryjward at gmail.com  Wed Jul 30 08:58:41 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 30 Jul 2014 08:58:41 -0700
Subject: [Radiance-general] 3 phase method in Windows OS
In-Reply-To: <CAOn=hKGBXUBWFuYi_jyDaBMSCjvkqiqFy=WaDAwwDmuVmSBmqQ@mail.gmail.com>
References: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>
	<B458128A-0F52-48B4-B041-D9E9ED8996D6@lmi.net>
	<CFFBD020.E4E1%Robert.Guglielmetti@nrel.gov>
	<CAOn=hKHWrHr9UL7SEk=T6FXkXoK3H=WVu4uRDO9Op6TUCYmzQA@mail.gmail.com>
	<CAOn=hKGBXUBWFuYi_jyDaBMSCjvkqiqFy=WaDAwwDmuVmSBmqQ@mail.gmail.com>
Message-ID: <18687007-38B9-4BE5-A0F7-6E156AA075A1@lmi.net>

This error could only be generated by an older version of dctimestep, as it was removed before June.  I don't know if there is a way to update your binaries to make sure you have the latest, which may (or may not) solve your problem.

Cheers,
-Greg

> From: Giuseppe De Michele <giudm.87 at gmail.com>
> Subject: Re: [Radiance-general] 3 phase method in Windows OS
> Date: July 30, 2014 2:59:19 AM PDT
> 
> Dear expert,
> 
> I am here again. Unfortunately I missed the last step to complete the simulation with the 3pm. 
> 
> dctimestep gives back an error message:
>   system - header read error: no such file or directory.
> 
> I report the steps:
> 
> vmx
> 
> oconv materials/materiali.rad scene/stanza.rad objects/window_glow.rad > temp/model_vmx.oct
> 
> rcontrib -n 4 -f klems_int.cal -b kbinS -bn Nkbins -m window_glow -I+ -ab 8 -ad 10000 -as 2048 -ar 1024 -lw 1e-8 -av 0 0 0 temp/model_vmx.oct < data/cells.pts > data/cells.vmx
> 
> BSDF
>  generated with WINDOW 7.2 
> 
> dmx 
> 
> oconv materials/materiali.rad scene/stanza.rad scene/ground.rad scene/sky_white1.rad > temp/model_dmx.oct
> 
> genklemsamp.pl -c 1000 -vd 0 -1 0 objects/window_glow.rad | rcontrib -n 4 -c 1000 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faa temp/model_dmx.oct > data/south.dmx
> 
> s + dctimestep  (broken step)
> 
> gensky 6 21 15.0 -s -a 44.42 -o -8.85 -m -15.0 | genskyvec -m 4 -c 1 1 1 > temp\skysun_4.skv
> 
> dctimestep data\cells.vmx data\bsdf\clearglass.xml data\south.dmx temp\skysun_4.skv | rcalc -e "$1=179*($1*0.265+$2*0.670+$3*0.0065)" > data\ill_cg.dat
> 
> The same commands work very well in UNIX environment. 
> I really don't know where put my hands. Any advice will be appreciate. 
> 
> Cheers,
> Giuseppe 
> 
> 
> 
> 
> 
> 
> 2014-07-30 9:38 GMT+02:00 Giuseppe De Michele <giudm.87 at gmail.com>:
> Dear Rob and Andy,
> 
> Thank you for the help. The interpreter for Pert is what I need. 
> 
> Although with my colleague we have found an other problem, the same find in this discussion:
> 
> http://www.radiance-online.org/pipermail/radiance-general/2013-July/009660.html 
> 
> and after replacing the wrong string with the right one ,finally, all seems works well.
> Also in couple with rcontrib.
> 
> So thank again expert,
> Giuseppe
> 
> 
> 2014-07-28 18:08 GMT+02:00 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>:
> 
> I've only experience with Windows XP and Windows 7, but this should all work fine if you have Perl installed properly. Get your correct version of Perl from here:
> http://www.activestate.com/activeperl/downloads
> ?or here:
> http://strawberryperl.com/
> ?and make sure to add the Perl executable directory to your PATH (the installers will optionally do this for you).
> 
> You also need to ensure your Radiance installation is correct, meaning that the Radiance bin directory is in your PATH, and the Radiance lib directory is in an environment variable called "RAYPATH".
> 
> 
> On 7/28/14, 9:57 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
> 
> This error must be generated by Perl itself, as it isn't one produced by the genklemsamp.pl script.  I don't know enough about Perl and Windows to say more, but perhaps someone else does.
> 
> Cheers,
> -Greg
> 
> 
> From: Giuseppe De Michele <giudm.87 at gmail.com<mailto:giudm.87 at gmail.com>>
> 
> Subject: [Radiance-general] 3 phase method in Windows OS
> 
> Date: July 28, 2014 7:39:25 AM PDT
> 
> 
> Dear expert,
> 
> I am trying to run the Three Phase Method in Windows 8 but at the moment of the DMX generation I have found out a problem with genklemsamp.
> 
> Searching in the web I have understood the problem regards something about some incompatibility of the Pearl language with Windows OS. I have also find a ZIP archives that contains Radiance Perl scripts that were packaged into Windows executable files in the Jolaxa site.
> 
> Although I have followed the instruction (rather easy since I have only to paste the exe file in the bin directory) something still doesn't work.
> 
> The command crash even if I run a simple case as:
> 
>  genklemsamp -c 10 - vd 0 -1 0 > sample.dat
> 
> with the waring : "genklemsamp has stopped working".
> 
> 
> 
> Any suggestion?
> 
> 
> Kind regards,
> Giuseppe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/c3106c44/attachment.html>

From gregoryjward at gmail.com  Wed Jul 30 09:09:01 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 30 Jul 2014 09:09:01 -0700
Subject: [Radiance-general] Reflectance meausrement using macbethcal
	utility
In-Reply-To: <CABzgtwqh_DosaObkar45iATWMEf-YmP-DbpujF=8fh=aQsH_3A@mail.gmail.com>
References: <CABzgtwqh_DosaObkar45iATWMEf-YmP-DbpujF=8fh=aQsH_3A@mail.gmail.com>
Message-ID: <CDAFDE71-BD9F-450C-9EB1-CC7A4CB939A5@lmi.net>

It's all explained (as best I can) in the macbethcal man page:

	http://radsite.lbl.gov/radiance/man_html/macbethcal.1.html

You give it an HDR file of a Macbeth color checker chart under uniform illumination, and identify the chart corners in the image.  From that, it creates a color mapping file you can use with pcomb to correct the image.

However, it does not work very well for digital cameras.  You are much better off converting the RAW files directly using Dave Coffin's dcraw, which you can find on the web.  Getting to reflectance is more difficult, and depends on your situation.

Check out the following if you haven't already:

	http://radsite.lbl.gov/radiance/refer/sg96crs.pdf

Cheers,
-Greg

> From: Jia Hu <hujia06 at gmail.com>
> Subject: [Radiance-general] Reflectance meausrement using macbethcal utility
> Date: July 29, 2014 8:22:08 PM PDT
> 
> Hello,
> 
> I am using Radiance macbethcal to estimate the material reflectance.  If I get the calibrated HDR image, how could I determine the RGB/reflectance?   Should  I pick a point in the generated HDR image to retrieve the RGB values, and then directly set the RGB to material RGB in Radiance? 
>  Is there any Radiance tool to directly obtain RGB value of a given pixel? 
> 
> Thanks,
> Jia 


From em.vazifeh at gmail.com  Wed Jul 30 09:36:03 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Wed, 30 Jul 2014 18:36:03 +0200
Subject: [Radiance-general] gendaylit
Message-ID: <CAJeoGJ4+jZ3fYnn2Tu2K-vnSroFsEBiGLzRm7wfOo637W6WpsA@mail.gmail.com>

Dear All,

I am using Perez sky model (gendaylit) in Radiance. When I calculate the
horizontal irradiance and compare it with global irradiance sensor I get
systematic error (rtrace gives around 70% lower values). I checked
everything in between so far nothing was wrong in the code, Here is one
sample:

gendaylit -ang 22.11 -64.30 -W 370.67 108.20 > genday_03_22_07_20.rad

then I add the sky description in the rad file:

skyfunc glow skyglow
0
0
4 1 1 1 0
skyglow source sky
0
0
4 0 0 1 180

void glow groundglow
0
0
4 1 1 1 0
groundglow source ground
0
0
4 0 0 -1 180

then I create an octree file:

oconv genday_03_22_07_20.rad > genday_03_22_07_20.oct

after that using rtrace I calculated the horizontal irradiance which is:
150.718 w/m^2

echo '0 0 0 0 0 1' | rtrace -w -ab 7 -ad 4096 -ar 512 -aa 0.1 -as 64 -I -h
genday_03_22_07_20.oct | rcalc -e '$1=$1*0.265+$2*0.67+$3*0.065'

150.718

but the measured global horizontal irradiance
 (Pyranometer)
is 252.2 w/m^
2

I calculated this output for the whole year but still the Perez is
significantly underestimating the horizontal irradiance. I should add that
I used gensky to generate the same output and results showed gensky
horizontal irradiance fit well with Pyranometer irradiance. Does anyone
have any idea what is wrong here?

Thank you all, Ehsan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/2911f1be/attachment.html>

From gregoryjward at gmail.com  Wed Jul 30 09:48:11 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 30 Jul 2014 09:48:11 -0700
Subject: [Radiance-general] gendaylit
In-Reply-To: <CAJeoGJ4+jZ3fYnn2Tu2K-vnSroFsEBiGLzRm7wfOo637W6WpsA@mail.gmail.com>
References: <CAJeoGJ4+jZ3fYnn2Tu2K-vnSroFsEBiGLzRm7wfOo637W6WpsA@mail.gmail.com>
Message-ID: <D4C19382-0135-438D-BFB5-EB3FCDEB0B0B@lmi.net>

Hi Ehsan,

Could this be the difference between irradiance measured over the entire spectrum (as measured by a pyranometer) and the visible-spectrum irradiance as reported by rtrace?  I believe there is a conversion factor in gendaylit that converts one to the other, but Jan Wienold or Wendelin Sprenger would know better.

-Greg

> From: "Ehsan M.Vazifeh" <em.vazifeh at gmail.com>
> Subject: [Radiance-general] gendaylit
> Date: July 30, 2014 9:36:03 AM PDT
> 
> Dear All,
> 
> I am using Perez sky model (gendaylit) in Radiance. When I calculate the horizontal irradiance and compare it with global irradiance sensor I get systematic error (rtrace gives around 70% lower values). I checked everything in between so far nothing was wrong in the code, Here is one sample:
> 
> gendaylit -ang 22.11 -64.30 -W 370.67 108.20 > genday_03_22_07_20.rad
> 
> then I add the sky description in the rad file:
> 
> skyfunc glow skyglow
> 0
> 0
> 4 1 1 1 0
> skyglow source sky
> 0
> 0
> 4 0 0 1 180
> 
> void glow groundglow
> 0
> 0
> 4 1 1 1 0
> groundglow source ground
> 0
> 0
> 4 0 0 -1 180
> 
> then I create an octree file:
> 
> oconv genday_03_22_07_20.rad > genday_03_22_07_20.oct
> 
> after that using rtrace I calculated the horizontal irradiance which is: 150.718 w/m^2
> 
> echo '0 0 0 0 0 1' | rtrace -w -ab 7 -ad 4096 -ar 512 -aa 0.1 -as 64 -I -h genday_03_22_07_20.oct | rcalc -e '$1=$1*0.265+$2*0.67+$3*0.065?
> 
> 150.718
> 
> but the measured global horizontal irradiance (Pyranometer) is 252.2 w/m^2 
> 
> I calculated this output for the whole year but still the Perez is significantly underestimating the horizontal irradiance. I should add that I used gensky to generate the same output and results showed gensky horizontal irradiance fit well with Pyranometer irradiance. Does anyone have any idea what is wrong here?
> 
> Thank you all, Ehsan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/7c0316ad/attachment.html>

From jan.wienold at epfl.ch  Wed Jul 30 09:49:56 2014
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Wed, 30 Jul 2014 18:49:56 +0200
Subject: [Radiance-general] gendaylit
In-Reply-To: <CAJeoGJ4+jZ3fYnn2Tu2K-vnSroFsEBiGLzRm7wfOo637W6WpsA@mail.gmail.com>
References: <CAJeoGJ4+jZ3fYnn2Tu2K-vnSroFsEBiGLzRm7wfOo637W6WpsA@mail.gmail.com>
Message-ID: <53D92234.8040301@epfl.ch>

if you want to have solar raditaion output in W/m2, then you have to use 
the -O 1 option for gendaylit (see manpage).
in your case, you get then 246 W/m2 calculated...

cheers,
Jan

Am 7/30/14, 6:36 PM, schrieb Ehsan M.Vazifeh:
> Dear All,
>
> I am using Perez sky model (gendaylit) in Radiance. When I calculate 
> the horizontal irradiance and compare it with global irradiance sensor 
> I get systematic error (rtrace gives around 70% lower values). I 
> checked everything in between so far nothing was wrong in the code, 
> Here is one sample:
>
> gendaylit -ang 22.11 -64.30 -W 370.67 108.20 > genday_03_22_07_20.rad
>
> then I add the sky description in the rad file:
>
> skyfunc glow skyglow
> 0
> 0
> 4 1 1 1 0
> skyglow source sky
> 0
> 0
> 4 0 0 1 180
>
> void glow groundglow
> 0
> 0
> 4 1 1 1 0
> groundglow source ground
> 0
> 0
> 4 0 0 -1 180
>
> then I create an octree file:
>
> oconv genday_03_22_07_20.rad > genday_03_22_07_20.oct
>
> after that using rtrace I calculated the horizontal irradiance which 
> is: 150.718 w/m^2
>
> echo '0 0 0 0 0 1' | rtrace -w -ab 7 -ad 4096 -ar 512 -aa 0.1 -as 64 
> -I -h genday_03_22_07_20.oct | rcalc -e '$1=$1*0.265+$2*0.67+$3*0.065'
>
> 150.718
>
> but the measured global horizontal irradiance
> (Pyranometer)
> is 252.2 w/m^
> 2
>
> I calculated this output for the whole year but still the Perez is 
> significantly underestimating the horizontal irradiance. I should add 
> that I used gensky to generate the same output and results showed 
> gensky horizontal irradiance fit well with Pyranometer irradiance. 
> Does anyone have any idea what is wrong here?
>
> Thank you all, Ehsan
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/6a22aaf3/attachment.html>

From giudm.87 at gmail.com  Wed Jul 30 11:56:53 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Wed, 30 Jul 2014 20:56:53 +0200
Subject: [Radiance-general] 3 phase method in Windows OS
In-Reply-To: <18687007-38B9-4BE5-A0F7-6E156AA075A1@lmi.net>
References: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>
	<B458128A-0F52-48B4-B041-D9E9ED8996D6@lmi.net>
	<CFFBD020.E4E1%Robert.Guglielmetti@nrel.gov>
	<CAOn=hKHWrHr9UL7SEk=T6FXkXoK3H=WVu4uRDO9Op6TUCYmzQA@mail.gmail.com>
	<CAOn=hKGBXUBWFuYi_jyDaBMSCjvkqiqFy=WaDAwwDmuVmSBmqQ@mail.gmail.com>
	<18687007-38B9-4BE5-A0F7-6E156AA075A1@lmi.net>
Message-ID: <CAOn=hKEUwxkk6ruDqfcZYb4o35mChUrt=RdBZgC7FFoVbDJqCA@mail.gmail.com>

Dear Greg,

Really before to start with the 3pm simulation in windows (last monday) I
installed, I guss, the last release for windows from:
https://github.com/NREL/Radiance/releases/tag/4.2.a.4 .
Unfortunately I am not in office now but tomorrow I am going to check the
verision.
I really hope that this is the problem.... Let's keep out finger crossed!

Cheers,
Giuseppe



2014-07-30 17:58 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:

> This error could only be generated by an older version of dctimestep, as
> it was removed before June.  I don't know if there is a way to update your
> binaries to make sure you have the latest, which may (or may not) solve
> your problem.
>
> Cheers,
> -Greg
>
> *From: *Giuseppe De Michele <giudm.87 at gmail.com>
>
> *Subject: *Re: [Radiance-general] 3 phase method in Windows OS
>
> *Date: *July 30, 2014 2:59:19 AM PDT
>
>
>  Dear expert,
>
> I am here again. Unfortunately I missed the last step to complete the
> simulation with the 3pm.
>
> dctimestep gives back an error message:
>   *system - header read error: no such file or directory.*
>
> I report the steps:
>
> *vmx*
>
> oconv materials/materiali.rad scene/stanza.rad objects/window_glow.rad >
> temp/model_vmx.oct
>
> rcontrib -n 4 -f klems_int.cal -b kbinS -bn Nkbins -m window_glow -I+ -ab
> 8 -ad 10000 -as 2048 -ar 1024 -lw 1e-8 -av 0 0 0 temp/model_vmx.oct <
> data/cells.pts > data/cells.vmx
>
> *BSDF*
>  generated with WINDOW 7.2
>
> *dmx*
>
> oconv materials/materiali.rad scene/stanza.rad scene/ground.rad
> scene/sky_white1.rad > temp/model_dmx.oct
>
> genklemsamp.pl -c 1000 -vd 0 -1 0 objects/window_glow.rad | rcontrib -n 4
> -c 1000 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faa
> temp/model_dmx.oct > data/south.dmx
>
> *s + dctimestep*  (broken step)
>
> gensky 6 21 15.0 -s -a 44.42 -o -8.85 -m -15.0 | genskyvec -m 4 -c 1 1 1 >
> temp\skysun_4.skv
>
> dctimestep data\cells.vmx data\bsdf\clearglass.xml data\south.dmx
> temp\skysun_4.skv | rcalc -e "$1=179*($1*0.265+$2*0.670+$3*0.0065)" >
> data\ill_cg.dat
>
> The same commands work very well in UNIX environment.
> I really don't know where put my hands. Any advice will be appreciate.
>
> Cheers,
> Giuseppe
>
>
>
>
>
>
> 2014-07-30 9:38 GMT+02:00 Giuseppe De Michele <giudm.87 at gmail.com>:
>
>> Dear Rob and Andy,
>>
>> Thank you for the help. The interpreter for Pert is what I need.
>>
>> Although with my colleague we have found an other problem, the same find
>> in this discussion:
>>
>>
>> http://www.radiance-online.org/pipermail/radiance-general/2013-July/009660.html
>>
>>
>> and after replacing the wrong string with the right one ,finally, all
>> seems works well.
>> Also in couple with rcontrib.
>>
>> So thank again expert,
>> Giuseppe
>>
>>
>> 2014-07-28 18:08 GMT+02:00 Guglielmetti, Robert <
>> Robert.Guglielmetti at nrel.gov>:
>>
>> I've only experience with Windows XP and Windows 7, but this should all
>>> work fine if you have Perl installed properly. Get your correct version of
>>> Perl from here:
>>> http://www.activestate.com/activeperl/downloads
>>> ?or here:
>>> http://strawberryperl.com/
>>> ?and make sure to add the Perl executable directory to your PATH (the
>>> installers will optionally do this for you).
>>>
>>> You also need to ensure your Radiance installation is correct, meaning
>>> that the Radiance bin directory is in your PATH, and the Radiance lib
>>> directory is in an environment variable called "RAYPATH".
>>>
>>>
>>> On 7/28/14, 9:57 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:
>>> gregoryjward at gmail.com>> wrote:
>>>
>>> This error must be generated by Perl itself, as it isn't one produced by
>>> the genklemsamp.pl script.  I don't know enough about Perl and Windows
>>> to say more, but perhaps someone else does.
>>>
>>> Cheers,
>>> -Greg
>>>
>>>
>>> From: Giuseppe De Michele <giudm.87 at gmail.com<mailto:giudm.87 at gmail.com
>>> >>
>>>
>>> Subject: [Radiance-general] 3 phase method in Windows OS
>>>
>>> Date: July 28, 2014 7:39:25 AM PDT
>>>
>>>
>>> Dear expert,
>>>
>>> I am trying to run the Three Phase Method in Windows 8 but at the moment
>>> of the DMX generation I have found out a problem with genklemsamp.
>>>
>>> Searching in the web I have understood the problem regards something
>>> about some incompatibility of the Pearl language with Windows OS. I have
>>> also find a ZIP archives that contains Radiance Perl scripts that were
>>> packaged into Windows executable files in the Jolaxa site.
>>>
>>> Although I have followed the instruction (rather easy since I have only
>>> to paste the exe file in the bin directory) something still doesn't work.
>>>
>>> The command crash even if I run a simple case as:
>>>
>>>  genklemsamp -c 10 - vd 0 -1 0 > sample.dat
>>>
>>> with the waring : "genklemsamp has stopped working".
>>>
>>>
>>>
>>> Any suggestion?
>>>
>>>
>>> Kind regards,
>>> Giuseppe
>>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Giuseppe De Michele*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/ab2865c8/attachment-0001.html>

From francesco.anselmo at gmail.com  Wed Jul 30 16:04:43 2014
From: francesco.anselmo at gmail.com (Francesco Anselmo)
Date: Thu, 31 Jul 2014 00:04:43 +0100
Subject: [Radiance-general] 13th International RADIANCE Workshop
In-Reply-To: <CAPrdvD+ysGDBw46La0pe-THCkOVSR1A=BDRLVS=BJQVPpNnL3Q@mail.gmail.com>
References: <CAPrdvD+ysGDBw46La0pe-THCkOVSR1A=BDRLVS=BJQVPpNnL3Q@mail.gmail.com>
Message-ID: <CAE0vHbx7_AMXaJ_z-Rxk_sZm62_md0C16AgbZtKQd5ryuSJkag@mail.gmail.com>

Dear all,

September is fast approaching, so here is an update about the Radiance
Workshop.

The submission for the presentation abstracts has been extended to the 11th
August. Please send your submissions using the link below.
http://nceub.org.uk/ocs/index.php/radiance/radiance2014
You don't have to write a full abstract, a presentation title is enough and
it only takes a few seconds to send the submission using the online form.

If you plan to attend and haven't registered to the website, please use the
link below.
http://nceub.org.uk/ocs/index.php/radiance/radiance2014/schedConf/registration

If you have any questions, feel free to drop me a line to my work address:
francesco.anselmo at arup.com

I look forward to seeing you in London very soon!
Francesco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/2324007a/attachment.html>

From hujia06 at gmail.com  Wed Jul 30 16:48:36 2014
From: hujia06 at gmail.com (Jia Hu)
Date: Wed, 30 Jul 2014 19:48:36 -0400
Subject: [Radiance-general] Reflectance meausrement using macbethcal
	utility
In-Reply-To: <CDAFDE71-BD9F-450C-9EB1-CC7A4CB939A5@lmi.net>
References: <CABzgtwqh_DosaObkar45iATWMEf-YmP-DbpujF=8fh=aQsH_3A@mail.gmail.com>
	<CDAFDE71-BD9F-450C-9EB1-CC7A4CB939A5@lmi.net>
Message-ID: <CABzgtwqumZWeP23q58HaQpNWNFFWkKScZFBui5hvYOCmomcEpA@mail.gmail.com>

Hi Greg,

 I do not require a high accuracy of reflectance. How about If I use pvalue
to calculate the average of RGB values for a surface of interest in the HDR
image, and then use the average to estimate the surface reflectance?

Thanks :)
Jia


On Wed, Jul 30, 2014 at 12:09 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> It's all explained (as best I can) in the macbethcal man page:
>
>         http://radsite.lbl.gov/radiance/man_html/macbethcal.1.html
>
> You give it an HDR file of a Macbeth color checker chart under uniform
> illumination, and identify the chart corners in the image.  From that, it
> creates a color mapping file you can use with pcomb to correct the image.
>
> However, it does not work very well for digital cameras.  You are much
> better off converting the RAW files directly using Dave Coffin's dcraw,
> which you can find on the web.  Getting to reflectance is more difficult,
> and depends on your situation.
>
> Check out the following if you haven't already:
>
>         http://radsite.lbl.gov/radiance/refer/sg96crs.pdf
>
> Cheers,
> -Greg
>
> > From: Jia Hu <hujia06 at gmail.com>
> > Subject: [Radiance-general] Reflectance meausrement using macbethcal
> utility
> > Date: July 29, 2014 8:22:08 PM PDT
> >
> > Hello,
> >
> > I am using Radiance macbethcal to estimate the material reflectance.  If
> I get the calibrated HDR image, how could I determine the RGB/reflectance?
>   Should  I pick a point in the generated HDR image to retrieve the RGB
> values, and then directly set the RGB to material RGB in Radiance?
> >  Is there any Radiance tool to directly obtain RGB value of a given
> pixel?
> >
> > Thanks,
> > Jia
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/962e8984/attachment.html>

From gregoryjward at gmail.com  Wed Jul 30 18:21:21 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 30 Jul 2014 18:21:21 -0700
Subject: [Radiance-general] Reflectance meausrement using macbethcal
	utility
In-Reply-To: <CABzgtwqumZWeP23q58HaQpNWNFFWkKScZFBui5hvYOCmomcEpA@mail.gmail.com>
References: <CABzgtwqh_DosaObkar45iATWMEf-YmP-DbpujF=8fh=aQsH_3A@mail.gmail.com>
	<CDAFDE71-BD9F-450C-9EB1-CC7A4CB939A5@lmi.net>
	<CABzgtwqumZWeP23q58HaQpNWNFFWkKScZFBui5hvYOCmomcEpA@mail.gmail.com>
Message-ID: <0456038D-C48D-43B6-B4AE-326EC789523B@lmi.net>

Is the illumination of your scene uniform?  Unless you are in direct sunlight with everything in the same plane and far away from obstructions, this is very difficult to achieve in practice.  Reflectance measurements from anything other than a scanner will give large errors of 20-50% in most cases.  If this is good enough for you, then go ahead.

-Greg

> From: Jia Hu <hujia06 at gmail.com>
> Subject: Re: [Radiance-general] Reflectance meausrement using macbethcal utility
> Date: July 30, 2014 4:48:36 PM PDT
> 
> Hi Greg,
> 
>  I do not require a high accuracy of reflectance. How about If I use pvalue to calculate the average of RGB values for a surface of interest in the HDR image, and then use the average to estimate the surface reflectance? 
> 
> Thanks :)
> Jia  
> 
> 
> On Wed, Jul 30, 2014 at 12:09 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> It's all explained (as best I can) in the macbethcal man page:
> 
>         http://radsite.lbl.gov/radiance/man_html/macbethcal.1.html
> 
> You give it an HDR file of a Macbeth color checker chart under uniform illumination, and identify the chart corners in the image.  From that, it creates a color mapping file you can use with pcomb to correct the image.
> 
> However, it does not work very well for digital cameras.  You are much better off converting the RAW files directly using Dave Coffin's dcraw, which you can find on the web.  Getting to reflectance is more difficult, and depends on your situation.
> 
> Check out the following if you haven't already:
> 
>         http://radsite.lbl.gov/radiance/refer/sg96crs.pdf
> 
> Cheers,
> -Greg
> 
> > From: Jia Hu <hujia06 at gmail.com>
> > Subject: [Radiance-general] Reflectance meausrement using macbethcal utility
> > Date: July 29, 2014 8:22:08 PM PDT
> >
> > Hello,
> >
> > I am using Radiance macbethcal to estimate the material reflectance.  If I get the calibrated HDR image, how could I determine the RGB/reflectance?   Should  I pick a point in the generated HDR image to retrieve the RGB values, and then directly set the RGB to material RGB in Radiance?
> >  Is there any Radiance tool to directly obtain RGB value of a given pixel?
> >
> > Thanks,
> > Jia
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140730/0034acb0/attachment.html>

From em.vazifeh at gmail.com  Thu Jul 31 00:31:58 2014
From: em.vazifeh at gmail.com (Ehsan Vazifeh)
Date: Thu, 31 Jul 2014 09:31:58 +0200
Subject: [Radiance-general] gendaylit
In-Reply-To: <53D92234.8040301@epfl.ch>
References: <CAJeoGJ4+jZ3fYnn2Tu2K-vnSroFsEBiGLzRm7wfOo637W6WpsA@mail.gmail.com>
	<53D92234.8040301@epfl.ch>
Message-ID: <F5EB0E9F-929C-40B8-9485-D07EF3820898@gmail.com>

Dear Jan and Greg,

Thank you all. using -O option solved the problem. I didn?t think about the spectrum other than visible. 

Cheers, Ehsan

On 30 Jul 2014, at 18:49, Jan Wienold <jan.wienold at epfl.ch> wrote:

> if you want to have solar raditaion output in W/m2, then you have to use the -O 1 option for gendaylit (see manpage).
> in your case, you get then 246 W/m2 calculated...
> 
> cheers,
> Jan 
> 
> Am 7/30/14, 6:36 PM, schrieb Ehsan M.Vazifeh:
>> Dear All,
>> 
>> I am using Perez sky model (gendaylit) in Radiance. When I calculate the horizontal irradiance and compare it with global irradiance sensor I get systematic error (rtrace gives around 70% lower values). I checked everything in between so far nothing was wrong in the code, Here is one sample:
>> 
>> gendaylit -ang 22.11 -64.30 -W 370.67 108.20 > genday_03_22_07_20.rad
>> 
>> then I add the sky description in the rad file:
>> 
>> skyfunc glow skyglow
>> 0
>> 0
>> 4 1 1 1 0
>> skyglow source sky
>> 0
>> 0
>> 4 0 0 1 180
>> 
>> void glow groundglow
>> 0
>> 0
>> 4 1 1 1 0
>> groundglow source ground
>> 0
>> 0
>> 4 0 0 -1 180
>> 
>> then I create an octree file:
>> 
>> oconv genday_03_22_07_20.rad > genday_03_22_07_20.oct
>> 
>> after that using rtrace I calculated the horizontal irradiance which is: 150.718 w/m^2
>> 
>> echo '0 0 0 0 0 1' | rtrace -w -ab 7 -ad 4096 -ar 512 -aa 0.1 -as 64 -I -h genday_03_22_07_20.oct | rcalc -e '$1=$1*0.265+$2*0.67+$3*0.065?
>> 
>> 150.718
>> 
>> but the measured global horizontal irradiance
>> (Pyranometer)
>> is 252.2 w/m^
>> 2 
>> 
>> I calculated this output for the whole year but still the Perez is significantly underestimating the horizontal irradiance. I should add that I used gensky to generate the same output and results showed gensky horizontal irradiance fit well with Pyranometer irradiance. Does anyone have any idea what is wrong here?
>> 
>> Thank you all, Ehsan
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/38d771ef/attachment-0001.html>

From jan.wienold at epfl.ch  Thu Jul 31 01:34:13 2014
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Thu, 31 Jul 2014 10:34:13 +0200
Subject: [Radiance-general] gendaylit
In-Reply-To: <F5EB0E9F-929C-40B8-9485-D07EF3820898@gmail.com>
References: <CAJeoGJ4+jZ3fYnn2Tu2K-vnSroFsEBiGLzRm7wfOo637W6WpsA@mail.gmail.com>	<53D92234.8040301@epfl.ch>
	<F5EB0E9F-929C-40B8-9485-D07EF3820898@gmail.com>
Message-ID: <53D9FF85.4090405@epfl.ch>

Dear Ehsan,

just one more comment - if you use the -O 1 option, the simulation is 
performed in the solar spectrum, so you can't calculate the visible 
range with it (because you don't use the in-built luminance efficacy 
model). For solar spetrum calculations, you also need 
reflectance/transmission values for the solar range. For spectral 
sensitive materials/coatings, the difference can be huge. (e.g. for 
glazing).
So for daylight simulations, you should use the default option of 
gendaylit, then the luminance efficacy is calculated for the sky/sun 
condition according to the Perez efficacy model.

Cheers,

Jan


Am 7/31/14, 9:31 AM, schrieb Ehsan Vazifeh:
> Dear Jan and Greg,
>
> Thank you all. using -O option solved the problem. I didn't think 
> about the spectrum other than visible.
>
> Cheers, Ehsan
>
> On 30 Jul 2014, at 18:49, Jan Wienold <jan.wienold at epfl.ch 
> <mailto:jan.wienold at epfl.ch>> wrote:
>
>> if you want to have solar raditaion output in W/m2, then you have to 
>> use the -O 1 option for gendaylit (see manpage).
>> in your case, you get then 246 W/m2 calculated...
>>
>> cheers,
>> Jan
>>
>> Am 7/30/14, 6:36 PM, schrieb Ehsan M.Vazifeh:
>>> Dear All,
>>>
>>> I am using Perez sky model (gendaylit) in Radiance. When I calculate 
>>> the horizontal irradiance and compare it with global irradiance 
>>> sensor I get systematic error (rtrace gives around 70% lower 
>>> values). I checked everything in between so far nothing was wrong in 
>>> the code, Here is one sample:
>>>
>>> gendaylit -ang 22.11 -64.30 -W 370.67 108.20 > genday_03_22_07_20.rad
>>>
>>> then I add the sky description in the rad file:
>>>
>>> skyfunc glow skyglow
>>> 0
>>> 0
>>> 4 1 1 1 0
>>> skyglow source sky
>>> 0
>>> 0
>>> 4 0 0 1 180
>>>
>>> void glow groundglow
>>> 0
>>> 0
>>> 4 1 1 1 0
>>> groundglow source ground
>>> 0
>>> 0
>>> 4 0 0 -1 180
>>>
>>> then I create an octree file:
>>>
>>> oconv genday_03_22_07_20.rad > genday_03_22_07_20.oct
>>>
>>> after that using rtrace I calculated the horizontal irradiance which 
>>> is: 150.718 w/m^2
>>>
>>> echo '0 0 0 0 0 1' | rtrace -w -ab 7 -ad 4096 -ar 512 -aa 0.1 -as 64 
>>> -I -h genday_03_22_07_20.oct | rcalc -e '$1=$1*0.265+$2*0.67+$3*0.065'
>>>
>>> 150.718
>>>
>>> but the measured global horizontal irradiance
>>> (Pyranometer)
>>> is 252.2 w/m^
>>> 2
>>>
>>> I calculated this output for the whole year but still the Perez is 
>>> significantly underestimating the horizontal irradiance. I should 
>>> add that I used gensky to generate the same output and results 
>>> showed gensky horizontal irradiance fit well with Pyranometer 
>>> irradiance. Does anyone have any idea what is wrong here?
>>>
>>> Thank you all, Ehsan
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org 
>> <mailto:Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/56a998d7/attachment.html>

From em.vazifeh at gmail.com  Thu Jul 31 01:53:36 2014
From: em.vazifeh at gmail.com (Ehsan M.Vazifeh)
Date: Thu, 31 Jul 2014 10:53:36 +0200
Subject: [Radiance-general] gendaylit
In-Reply-To: <53D9FF85.4090405@epfl.ch>
References: <CAJeoGJ4+jZ3fYnn2Tu2K-vnSroFsEBiGLzRm7wfOo637W6WpsA@mail.gmail.com>
	<53D92234.8040301@epfl.ch>
	<F5EB0E9F-929C-40B8-9485-D07EF3820898@gmail.com>
	<53D9FF85.4090405@epfl.ch>
Message-ID: <CAJeoGJ7-GKe0bfDHKTudgE1ZeHTZwgitnnMRaK5XVdoa1BJQWQ@mail.gmail.com>

Dear Jan,

Thanks again for this useful information. Actually, at the moment, my work
is comparison of different sky models with measurements from sky scanner.
And as I am working with the radiance and irradiance values there should be
no problem with using -O 1 option.

Bests, Ehsan


On Thu, Jul 31, 2014 at 10:34 AM, Jan Wienold <jan.wienold at epfl.ch> wrote:

>  Dear Ehsan,
>
> just one more comment - if you use the -O 1 option, the simulation is
> performed in the solar spectrum, so you can't calculate the visible range
> with it (because you don't use the in-built luminance efficacy model). For
> solar spetrum calculations, you also need reflectance/transmission values
> for the solar range. For spectral sensitive materials/coatings, the
> difference can be huge. (e.g. for glazing).
> So for daylight simulations, you should use the default option of
> gendaylit, then the luminance efficacy is calculated for the sky/sun
> condition according to the Perez efficacy model.
>
> Cheers,
>
> Jan
>
>
> Am 7/31/14, 9:31 AM, schrieb Ehsan Vazifeh:
>
> Dear Jan and Greg,
>
>  Thank you all. using -O option solved the problem. I didn't think about
> the spectrum other than visible.
>
>  Cheers, Ehsan
>
>  On 30 Jul 2014, at 18:49, Jan Wienold <jan.wienold at epfl.ch> wrote:
>
>  if you want to have solar raditaion output in W/m2, then you have to use
> the -O 1 option for gendaylit (see manpage).
> in your case, you get then 246 W/m2 calculated...
>
> cheers,
> Jan
>
> Am 7/30/14, 6:36 PM, schrieb Ehsan M.Vazifeh:
>
>  Dear All,
>
>  I am using Perez sky model (gendaylit) in Radiance. When I calculate the
> horizontal irradiance and compare it with global irradiance sensor I get
> systematic error (rtrace gives around 70% lower values). I checked
> everything in between so far nothing was wrong in the code, Here is one
> sample:
>
>  gendaylit -ang 22.11 -64.30 -W 370.67 108.20 > genday_03_22_07_20.rad
>
> then I add the sky description in the rad file:
>
> skyfunc glow skyglow
> 0
> 0
> 4 1 1 1 0
> skyglow source sky
> 0
> 0
> 4 0 0 1 180
>
> void glow groundglow
> 0
> 0
> 4 1 1 1 0
> groundglow source ground
> 0
> 0
> 4 0 0 -1 180
>
> then I create an octree file:
>
> oconv genday_03_22_07_20.rad > genday_03_22_07_20.oct
>
> after that using rtrace I calculated the horizontal irradiance which is:
> 150.718 w/m^2
>
> echo '0 0 0 0 0 1' | rtrace -w -ab 7 -ad 4096 -ar 512 -aa 0.1 -as 64 -I -h
> genday_03_22_07_20.oct | rcalc -e '$1=$1*0.265+$2*0.67+$3*0.065'
>
> 150.718
>
> but the measured global horizontal irradiance
> (Pyranometer)
> is 252.2 w/m^
> 2
>
>   I calculated this output for the whole year but still the Perez is
> significantly underestimating the horizontal irradiance. I should add that
> I used gensky to generate the same output and results showed gensky
> horizontal irradiance fit well with Pyranometer irradiance. Does anyone
> have any idea what is wrong here?
>
>   Thank you all, Ehsan
>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>  _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/90017fba/attachment-0001.html>

From giudm.87 at gmail.com  Thu Jul 31 03:13:33 2014
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Thu, 31 Jul 2014 12:13:33 +0200
Subject: [Radiance-general] 3 phase method in Windows OS
In-Reply-To: <CAOn=hKEUwxkk6ruDqfcZYb4o35mChUrt=RdBZgC7FFoVbDJqCA@mail.gmail.com>
References: <CAOn=hKFAzzwhCnEwuj_QYydreiKCMJDwOLoC6FXxj+OCCSAoug@mail.gmail.com>
	<B458128A-0F52-48B4-B041-D9E9ED8996D6@lmi.net>
	<CFFBD020.E4E1%Robert.Guglielmetti@nrel.gov>
	<CAOn=hKHWrHr9UL7SEk=T6FXkXoK3H=WVu4uRDO9Op6TUCYmzQA@mail.gmail.com>
	<CAOn=hKGBXUBWFuYi_jyDaBMSCjvkqiqFy=WaDAwwDmuVmSBmqQ@mail.gmail.com>
	<18687007-38B9-4BE5-A0F7-6E156AA075A1@lmi.net>
	<CAOn=hKEUwxkk6ruDqfcZYb4o35mChUrt=RdBZgC7FFoVbDJqCA@mail.gmail.com>
Message-ID: <CAOn=hKEvbr-UoncBwuk9bA1QXvaaVL2CgJW2v4ed-pL00B-dAQ@mail.gmail.com>

Dear Greg,

I have found out the problem. dctimestep was recalled from the Radiance
version contained in DIVA folder (the old version as you said yesterday).
I have solved the problem simply locating the c:/radiance/bin path before
the DIVA's one in the Environment Variables.

Thanks for the helpful advice,
Giuseppe



2014-07-30 20:56 GMT+02:00 Giuseppe De Michele <giudm.87 at gmail.com>:

> Dear Greg,
>
> Really before to start with the 3pm simulation in windows (last monday) I
> installed, I guss, the last release for windows from:
> https://github.com/NREL/Radiance/releases/tag/4.2.a.4 .
> Unfortunately I am not in office now but tomorrow I am going to check the
> verision.
> I really hope that this is the problem.... Let's keep out finger crossed!
>
> Cheers,
> Giuseppe
>
>
>
> 2014-07-30 17:58 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:
>
>> This error could only be generated by an older version of dctimestep, as
>> it was removed before June.  I don't know if there is a way to update your
>> binaries to make sure you have the latest, which may (or may not) solve
>> your problem.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Giuseppe De Michele <giudm.87 at gmail.com>
>>
>> *Subject: *Re: [Radiance-general] 3 phase method in Windows OS
>>
>> *Date: *July 30, 2014 2:59:19 AM PDT
>>
>>
>>  Dear expert,
>>
>> I am here again. Unfortunately I missed the last step to complete the
>> simulation with the 3pm.
>>
>> dctimestep gives back an error message:
>>   *system - header read error: no such file or directory.*
>>
>> I report the steps:
>>
>> *vmx*
>>
>> oconv materials/materiali.rad scene/stanza.rad objects/window_glow.rad >
>> temp/model_vmx.oct
>>
>> rcontrib -n 4 -f klems_int.cal -b kbinS -bn Nkbins -m window_glow -I+ -ab
>> 8 -ad 10000 -as 2048 -ar 1024 -lw 1e-8 -av 0 0 0 temp/model_vmx.oct <
>> data/cells.pts > data/cells.vmx
>>
>> *BSDF*
>>  generated with WINDOW 7.2
>>
>> *dmx*
>>
>> oconv materials/materiali.rad scene/stanza.rad scene/ground.rad
>> scene/sky_white1.rad > temp/model_dmx.oct
>>
>> genklemsamp.pl -c 1000 -vd 0 -1 0 objects/window_glow.rad | rcontrib -n
>> 4 -c 1000 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faa
>> temp/model_dmx.oct > data/south.dmx
>>
>> *s + dctimestep*  (broken step)
>>
>> gensky 6 21 15.0 -s -a 44.42 -o -8.85 -m -15.0 | genskyvec -m 4 -c 1 1 1
>> > temp\skysun_4.skv
>>
>> dctimestep data\cells.vmx data\bsdf\clearglass.xml data\south.dmx
>> temp\skysun_4.skv | rcalc -e "$1=179*($1*0.265+$2*0.670+$3*0.0065)" >
>> data\ill_cg.dat
>>
>> The same commands work very well in UNIX environment.
>> I really don't know where put my hands. Any advice will be appreciate.
>>
>> Cheers,
>> Giuseppe
>>
>>
>>
>>
>>
>>
>> 2014-07-30 9:38 GMT+02:00 Giuseppe De Michele <giudm.87 at gmail.com>:
>>
>>> Dear Rob and Andy,
>>>
>>> Thank you for the help. The interpreter for Pert is what I need.
>>>
>>> Although with my colleague we have found an other problem, the same find
>>> in this discussion:
>>>
>>>
>>> http://www.radiance-online.org/pipermail/radiance-general/2013-July/009660.html
>>>
>>>
>>> and after replacing the wrong string with the right one ,finally, all
>>> seems works well.
>>> Also in couple with rcontrib.
>>>
>>> So thank again expert,
>>> Giuseppe
>>>
>>>
>>> 2014-07-28 18:08 GMT+02:00 Guglielmetti, Robert <
>>> Robert.Guglielmetti at nrel.gov>:
>>>
>>> I've only experience with Windows XP and Windows 7, but this should all
>>>> work fine if you have Perl installed properly. Get your correct version of
>>>> Perl from here:
>>>> http://www.activestate.com/activeperl/downloads
>>>> ?or here:
>>>> http://strawberryperl.com/
>>>> ?and make sure to add the Perl executable directory to your PATH (the
>>>> installers will optionally do this for you).
>>>>
>>>> You also need to ensure your Radiance installation is correct, meaning
>>>> that the Radiance bin directory is in your PATH, and the Radiance lib
>>>> directory is in an environment variable called "RAYPATH".
>>>>
>>>>
>>>> On 7/28/14, 9:57 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:
>>>> gregoryjward at gmail.com>> wrote:
>>>>
>>>> This error must be generated by Perl itself, as it isn't one produced
>>>> by the genklemsamp.pl script.  I don't know enough about Perl and
>>>> Windows to say more, but perhaps someone else does.
>>>>
>>>> Cheers,
>>>> -Greg
>>>>
>>>>
>>>> From: Giuseppe De Michele <giudm.87 at gmail.com<mailto:giudm.87 at gmail.com
>>>> >>
>>>>
>>>> Subject: [Radiance-general] 3 phase method in Windows OS
>>>>
>>>> Date: July 28, 2014 7:39:25 AM PDT
>>>>
>>>>
>>>> Dear expert,
>>>>
>>>> I am trying to run the Three Phase Method in Windows 8 but at the
>>>> moment of the DMX generation I have found out a problem with genklemsamp.
>>>>
>>>> Searching in the web I have understood the problem regards something
>>>> about some incompatibility of the Pearl language with Windows OS. I have
>>>> also find a ZIP archives that contains Radiance Perl scripts that were
>>>> packaged into Windows executable files in the Jolaxa site.
>>>>
>>>> Although I have followed the instruction (rather easy since I have only
>>>> to paste the exe file in the bin directory) something still doesn't work.
>>>>
>>>> The command crash even if I run a simple case as:
>>>>
>>>>  genklemsamp -c 10 - vd 0 -1 0 > sample.dat
>>>>
>>>> with the waring : "genklemsamp has stopped working".
>>>>
>>>>
>>>>
>>>> Any suggestion?
>>>>
>>>>
>>>> Kind regards,
>>>> Giuseppe
>>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> --
> *Giuseppe De Michele*
>



-- 
*Giuseppe De Michele*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/822993ba/attachment.html>

From vaia13 at msn.com  Thu Jul 31 04:53:12 2014
From: vaia13 at msn.com (Vayia Koukouvayia)
Date: Thu, 31 Jul 2014 14:53:12 +0300
Subject: [Radiance-general] Daylight matrix - vu
Message-ID: <DUB127-W47AB393FFBD9442BDCA3C3D8E60@phx.gbl>

Hello all,


I am trying to simulate light pipes with the
three phase method. Since the pipes are not straight I need to be sure that the
vectors I set are correct and I am a bit confused about what the ?vu? vector
stands for. So here is what I did.


The room with the pipes is oriented towards
the northeast and the pipe bending is towards the southwest. I generated the BSDF through a model where the pipe
bending part is facing towards the ?y axis.  I attached a small picture to make it clearer. So here are some of my questions.


What should the "vu" be at the daylight matrix?
I am not sure which axis of the BSDF corresponds to the ?vu?. My guess is that ?vu? should be 1, 1, 0 or 1, -1, 0? Should the pipe
model from which I generate the BSDF be correctly oriented as well? 

 

Is there any way to have the model of the
room oriented towards the north (y axis) and then set the correct orientation
via the ?vu? or some other way?
I thank you in advance,
Vayia 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/27f3febf/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dec.jpg
Type: image/jpeg
Size: 35833 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/27f3febf/attachment-0001.jpg>

From amcneil at lbl.gov  Thu Jul 31 10:33:38 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Thu, 31 Jul 2014 10:33:38 -0700
Subject: [Radiance-general] Daylight matrix - vu
In-Reply-To: <DUB127-W47AB393FFBD9442BDCA3C3D8E60@phx.gbl>
References: <DUB127-W47AB393FFBD9442BDCA3C3D8E60@phx.gbl>
Message-ID: <CAOG+Niw1AtnYtSqOOP3nCD+p65b0Vdy=W4rs2=4YHYDQzRxaaA@mail.gmail.com>

Hi Vayia,

Unfortunately genBSDF assumes that the two apertures of your system are
parrallel and rectangular, so i don't think your light pipe BSDF will be
valid. Greg has written a new tool, rfluxmtx, that will allow you to
generate a coefficient matrix for a relationship between arbitrary
polygons. Your model is a good example of what wasn't possible before that
is enabled by the new tools.

Unfortunately there's not much documentation of rfluxmtx other than the man
page. I'm working on providing a three-phase simulation example using
rfluxmtx hopefully ready by the workshop in September.

Best,
Andy


On Thu, Jul 31, 2014 at 4:53 AM, Vayia Koukouvayia <vaia13 at msn.com> wrote:

> Hello all,
>
>
>  I am trying to simulate light pipes with the three phase method. Since
> the pipes are not straight I need to be sure that the vectors I set are
> correct and I am a bit confused about what the "vu" vector stands for. So
> here is what I did.
>
>
> The room with the pipes is oriented towards the northeast and the pipe
> bending is towards the southwest. I generated the BSDF through a model
> where the pipe bending part is facing towards the -y axis.  I attached a
> small picture to make it clearer. So here are some of my questions.
>
>
> What should the "vu" be at the daylight matrix? I am not sure which axis
> of the BSDF corresponds to the "vu". My guess is that "vu" should be 1,
> 1, 0 or 1, -1, 0? Should the pipe model from which I generate the BSDF be
> correctly oriented as well?
>
>
>
> Is there any way to have the model of the room oriented towards the north
> (y axis) and then set the correct orientation via the "vu" or some other
> way?
>
>
> I thank you in advance,
>
>
> Vayia
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/b7c5de27/attachment.html>

From sadeghipour at gmail.com  Thu Jul 31 13:28:49 2014
From: sadeghipour at gmail.com (Mostapha Sadeghipour)
Date: Thu, 31 Jul 2014 16:28:49 -0400
Subject: [Radiance-general] Rendering a single image with multiprocessor in
	Windows
Message-ID: <CAAd_PgQMRg9T33kQkOv6c3osK4ivqqHFWsdNVfTzRbeiEEpAQA@mail.gmail.com>

Hi all,

I wonder is anyone has successfully rendered a single image in parallel
using rpict -PP and/or rpiece in Windows.

I have a hard time to understand both the process and the syntax.

Thanks,
Mostapha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/cf8105a3/attachment.html>

From sadeghipour at gmail.com  Thu Jul 31 14:43:17 2014
From: sadeghipour at gmail.com (Mostapha Sadeghipour)
Date: Thu, 31 Jul 2014 17:43:17 -0400
Subject: [Radiance-general] Rendering a single image with multiprocessor
	in Windows
In-Reply-To: <CAAd_PgQMRg9T33kQkOv6c3osK4ivqqHFWsdNVfTzRbeiEEpAQA@mail.gmail.com>
References: <CAAd_PgQMRg9T33kQkOv6c3osK4ivqqHFWsdNVfTzRbeiEEpAQA@mail.gmail.com>
Message-ID: <CAAd_PgSJ0fFKboA+NuCtgoV7hFY6K+2DrEQEXY_VSUTYA5hmaA@mail.gmail.com>

I just read that rpiece is not supposed to be part of the Windows package
for some reason so I probably should change the question to is it possible
to render a segment of a view based on -X -Y pixels?

I can take care of running them in parallel and putting them back together
separately.

Thanks,
Mostapha


On Thu, Jul 31, 2014 at 4:28 PM, Mostapha Sadeghipour <sadeghipour at gmail.com
> wrote:

> Hi all,
>
> I wonder is anyone has successfully rendered a single image in parallel
> using rpict -PP and/or rpiece in Windows.
>
> I have a hard time to understand both the process and the syntax.
>
> Thanks,
> Mostapha
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/1a82fde5/attachment.html>

From gregoryjward at gmail.com  Thu Jul 31 14:59:19 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 31 Jul 2014 14:59:19 -0700
Subject: [Radiance-general] Rendering a single image with multiprocessor
	in Windows
In-Reply-To: <CAAd_PgSJ0fFKboA+NuCtgoV7hFY6K+2DrEQEXY_VSUTYA5hmaA@mail.gmail.com>
References: <CAAd_PgQMRg9T33kQkOv6c3osK4ivqqHFWsdNVfTzRbeiEEpAQA@mail.gmail.com>
	<CAAd_PgSJ0fFKboA+NuCtgoV7hFY6K+2DrEQEXY_VSUTYA5hmaA@mail.gmail.com>
Message-ID: <1B436814-C46E-487C-94D1-359DCEAAADCD@lmi.net>

It's possible, but not at all straightforward.  You basically have to use the attached code (taken from rpiece) to adjust the -vh and -vv options to rpict, then use the -vs and -vl options to determine which part of the picture you want to render.

Best,
-Greg

	switch (ourview.type) {
	case VT_PER:
		pview.horiz = (2.*180./PI)*atan(
				tan((PI/180./2.)*ourview.horiz)/hmult );
		pview.vert = (2.*180./PI)*atan(
				tan((PI/180./2.)*ourview.vert)/vmult );
		break;
	case VT_PAR:
	case VT_ANG:
		pview.horiz = ourview.horiz / hmult;
		pview.vert = ourview.vert / vmult;
		break;
	case VT_CYL:
		pview.horiz = ourview.horiz / hmult;
		pview.vert = (2.*180./PI)*atan(
				tan((PI/180./2.)*ourview.vert)/vmult );
		break;
	case VT_HEM:
		pview.horiz = (2.*180./PI)*asin(
				sin((PI/180./2.)*ourview.horiz)/hmult );
		pview.vert = (2.*180./PI)*asin(
				sin((PI/180./2.)*ourview.vert)/vmult );
		break;
	case VT_PLS:
		pview.horiz = sin((PI/180./2.)*ourview.horiz) /
				(1.0 + cos((PI/180./2.)*ourview.horiz)) / hmult;
		pview.horiz *= pview.horiz;
		pview.horiz = (2.*180./PI)*acos((1. - pview.horiz) /
						(1. + pview.horiz));
		pview.vert = sin((PI/180./2.)*ourview.vert) /
				(1.0 + cos((PI/180./2.)*ourview.vert)) / vmult;
		pview.vert *= pview.vert;
		pview.vert = (2.*180./PI)*acos((1. - pview.vert) /
						(1. + pview.vert));
		break;
	default:
		fprintf(stderr, "%s: unknown view type '-vt%c'\n",
				progname, ourview.type);
		exit(cleanup(1));
	}


> From: Mostapha Sadeghipour <sadeghipour at gmail.com>
> Subject: Re: [Radiance-general] Rendering a single image with multiprocessor in Windows
> Date: July 31, 2014 2:43:17 PM PDT
> 
> I just read that rpiece is not supposed to be part of the Windows package for some reason so I probably should change the question to is it possible to render a segment of a view based on -X -Y pixels?
> 
> I can take care of running them in parallel and putting them back together separately.
> 
> Thanks,
> Mostapha
> 
> 
> On Thu, Jul 31, 2014 at 4:28 PM, Mostapha Sadeghipour <sadeghipour at gmail.com> wrote:
> Hi all,
> 
> I wonder is anyone has successfully rendered a single image in parallel using rpict -PP and/or rpiece in Windows.
> 
> I have a hard time to understand both the process and the syntax.
> 
> Thanks,
> Mostapha 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140731/36022441/attachment.html>

