From gregoryjward at gmail.com  Mon Mar  3 09:46:45 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 3 Mar 2014 09:46:45 -0800
Subject: [Radiance-general] BSDF orientation and implementation
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC20EDF9EF@EX-MBX01.burohappold.com>
	<CAOG+Niz40ULk2xGWoKCKZ7MPRU21jUJABzip77SG_mU8_av1tQ@mail.gmail.com>
	<CAL-bo5G7G713kOt=EfhEBGVs6qwHiXg0R_3DstCdUj-taiN+hQ@mail.gmail.com>
	<CF340DB6.3B68%robert.guglielmetti@nrel.gov>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE5246@EX-MBX01.burohappold.com>
	<CAOG+NiyH1ktqVgA3qSXABVPDhDGH+BGam0mMGjUH0zvpRSeWNA@mail.gmail.com>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
Message-ID: <3444C9DE-98EA-4D63-A8A2-5B1F61CF9E78@lmi.net>

Hi Chris,

Looking at the command you quoted, the "-opn" option to rtrace should be "-opN" for better efficiency, but this isn't what's causing the "broken pipe" error.  That indicates that rcontrib is refusing input before rtrace is done supplying it.

The only think I can think of is that you are running out of file descriptors.  If using "-e MF:2" instead of "-e MF:6" solves the problem, then this is the most likely cause.  The MF:6 setting requires 5186 descriptors.  Quoting Thomas Bleicher from a Feb. 2007 post:

> On Mac OS X the max number of open files is limited to 256 per
> user process. That's pretty low and not sufficient for any subdivision
> of the Tregenza sky pattern.
> 
> To change the open files limit (on OS X!) I created a file
> "/etc/launchd.conf" with the line "limit maxfiles 1024 unlimited"
> and I set the kernel limit with "sysctl -w kern.maxfiles=1024".
> 
> After a reboot I could set the shell's limit with "ulimit -n 1024".
> This can go into your ".profile" if you're going to use it a lot.

Unfortunately, the method for changing the number of allowed descriptors varies from one system to the next.  Good luck!

Best,
-Greg

> From: Chris Coulter <Chris.Coulter at BuroHappold.com>
> Date: February 27, 2014 3:47:22 PM PST
> 
> That?s good to hear?I was just about to upload some images asking for clarification.
>  
>  
> Follow-up to the 5-phase process:
> I?m using a small CFS model to generate my BSDF, do I need to create an array with the actual geometry covering the full aperture for the Direct Sun Contribution (Cds)?
>  
> For rendering - It seems so, otherwise I don?t see how the shadow rays are traced that get piped to rcontrib. model_nosuns.oct doesn?t have the proxy surface, only physical geometry.
> For calc points ? Maybe? The model_suns.oct has both physical geometry and proxied geometry.
>  
>  
> Although, when I try the as the tutorial states, I get a ?rtrace: Broken Pipe? error. My tensor tree BSDF has an error for 110.9% rear reflection.
> Just to verify that wasn?t an issue, I doubled back to the files used in Andy?s tutorial, I also get the error. Code run there was:
> vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | rtrace -h- -opn -faa -ab 0 octs/model_nosuns.oct | \
>             rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n 7 -fac -fo -o viewpics_ds/back_%04d.hdr \
>             -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct
> My standard build is the HEAD from 26SEP13, but also tried one from last week (2/21) with no success.
>  
>  
> General question if 5-phase is unable to work without full geometry for the CFS, are we then limited to only systems that can be modeled (ie, no lenses, laser cut panels, etc)?
>  
> Sorry if I?m all over the place, I started writing this mail at 3p.
>  
> Chris
>  
> From: Andrew McNeil [mailto:amcneil at lbl.gov] 
> Sent: Thursday, February 27, 2014 1:54 PM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] BSDF orientation and implementation
>  
> Chris,
> A few weeks ago somebody alerted me to a bug in BSDFViewer for tensor tree BSDFs that flips the transmission front and back. So your tensor tree BSDF is probably fine. My stupid utility has a bug.  I'll let you know when I've fixed it and posted a new version.
> Andy
>  
> 
> On Thu, Feb 27, 2014 at 6:43 AM, Chris Coulter <Chris.Coulter at burohappold.com> wrote:
> Andy/David/Rob - Thanks for the encouragement and suggestions.
> 
> I've been working through trying to troubleshoot as I go along. Studying it in a 10m cube so I can easily understand how the light is being redistributed rather than in my full model. I also found that running the CFS through genBSDF with an all black material helpful to digest that specular transmission is occurring as expected.
> Andy's reminder that +Z is "in" the space was helpful in making me understand why the Klems bsdf seemed backwards. Now my tensor tree bsdf seems backwards using the same geometry - which is unnerving. I'm reworking the process and will post updates, and inevitably more questions. I was finally able to get Andy's BSDF Viewer to compile in Ubuntu - it was much easier once I realized the network had been disabled and then resolved my proxy issues for the compiler's dependencies. I forgot about bsdf2rad, will look into it.
> 
> David, your note was clear. Thanks. My system is grid a 10mm cubes fit into skylights that are 4m x 8m or larger. I think the edge condition can be ignored in the BSDF calculation.
> 
> 
> Thanks again all for help here and in the tutorials, presentations, code, etc. Once I can confirm my results are wrong and its not as much of a user error as it likely is, I'll post more info/questions.
> 
> Chris
> 
> -----Original Message-----
> From: Guglielmetti, Robert [mailto:Robert.Guglielmetti at nrel.gov]
> Sent: Wednesday, February 26, 2014 11:40 PM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] BSDF orientation and implementation
> 
> Hi Chris,
> 
> What Andy said! To that end, I would add that tools like objview (for visualizing your CFS geometry) and bsdf2rad (for visualizing the BSDF distribution) are very useful for getting comfortable with your generated BSDFs. I am working on a little "test room" model, a la the ltview script but for CFS instead of luminaries. When it's sensible I'll post some results. It's very helpful to visualize these things; Andy's BSDFviewer is awesome, but I also like to mock these things up in Radiance proper so I am certain the functions and the models are are being implemented and oriented correctly, you know what I mean?
> 
> - Rob
> 
> From: David Geisler-Moroder <david.moroder at gmail.com<mailto:david.moroder at gmail.com>>
> Reply-To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
> Date: Wednesday, February 26, 2014 at 10:34 AM
> To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
> Subject: Re: [Radiance-general] BSDF orientation and implementation
> 
> Hi Chris,
> 
> a short note from my side:
> Yes, you can import BSDFs of systems into WINDOW and generate new BSDFs including the glass panes of your IGU. Therefore my approach is usually to simulate only the system without any glazing and put the overall system together in WINDOW with the right glass.
> Concerning the generation of BSDFs for various applications of a single system you should decide if the kind of system you are simulating is representative for your application. I tend to simulate typical periods of a systems (e.g. for a lamella system you can use the -dim settings to get that right) and model any frame in the geometric model. However, in cases where e.g. the ratio of system thickness to system size dimension is quite high and thus the frame will significantly influence the BSDF, it is better to include the real geometry in the BSDF simulation model. However, you then probably end up generating more than a single BSDF for the same system depending on the applications.
> 
> I hope it's somehow clear... if not, let me know and I'll try again ;-)
> 
> Cheers,
> David
> 
> 
> 
> 2014-02-26 1:03 GMT+01:00 Andrew McNeil <amcneil at lbl.gov<mailto:amcneil at lbl.gov>>:
> Chris,
> Everything you write seems correct. One whatch-it I can offer is to make sure you're system is situated properly for the genBSDF run. +Z is into the space, +Y is up.  All of the geometry should be in the -Z space. If you don't follow these guidelines you're BSDF will be strange.
> Andy
> 
> 
> On Tue, Feb 25, 2014 at 8:06 AM, Chris Coulter <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>> wrote:
> Good morning Gurus!
> 
> I have worked through the 3- and 5-phase tutorials in hopes of being able to apply a BSDF to one of my projects. This project will be using micro-louver cellular structures imbedded within an IGU, in both skylights and vertical windows. I think I understand the general process, but wanted to ask a few questions before getting too far down the road...
> 
> The skylights and windows are all different sizes and the windows are in multiple orientations (of course). My understanding of the BSDF and seemingly from this mail (http://www.radiance-online.org/pipermail/radiance-general/2011-November/008248.html), I should be able to calculate the BSDF once for my system. I was planning model the louvers as 1m by 1m, but run genBSDF with the -dim arguments smaller than this. Is this the correct approach? Ideally I would not calculate the BSDF for each orientation, assuming  that micro-louver geometry does not change.
> 
> In my BSDF material definition, I would alter the up vector according to the surface being applied - the up vector matches the BSDF orientation (calculated in xy space) to the specific geometry's orientation (0 0 1 for a window). If the louver are rotated within the IGU assembly (rz -45) for a skylight, I can account for this with the up vector of 1 1 0 (surface normal is 0 0 1). This would hold true for rotation within the vertical apertures as well. Each different up vector would be a different BSDF material.
> 
> Lastly, if the glazing properties (VLT) are not defined yet, can I import the BSDF file into Window and create multiple options for IGU's with varying properties? It seems so from David Geisler-Moroder's presentation at the 2012 Workshop (http://radiance-online.org/community/workshops/2012-copenhagen/Day1/Geisler-Moroder/geisler-moroder_BSDF_tutorial_s.pdf). Certainly skylights and windows will have different VLT and it would again be nice to not be required to run genBSDF multiple times.
> 
> I am in the process of working through the steps on my own, but wanted to ask these questions while I'm waiting on genBSDF.
> 
> 
> Any help is much appreciated, as always.
> 
> Chris Coulter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140303/fb88f4ec/attachment-0001.html>

From amcneil at lbl.gov  Mon Mar  3 10:44:59 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Mon, 3 Mar 2014 10:44:59 -0800
Subject: [Radiance-general] BSDF orientation and implementation
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC20EDF9EF@EX-MBX01.burohappold.com>
	<CAOG+Niz40ULk2xGWoKCKZ7MPRU21jUJABzip77SG_mU8_av1tQ@mail.gmail.com>
	<CAL-bo5G7G713kOt=EfhEBGVs6qwHiXg0R_3DstCdUj-taiN+hQ@mail.gmail.com>
	<CF340DB6.3B68%robert.guglielmetti@nrel.gov>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE5246@EX-MBX01.burohappold.com>
	<CAOG+NiyH1ktqVgA3qSXABVPDhDGH+BGam0mMGjUH0zvpRSeWNA@mail.gmail.com>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
Message-ID: <CAOG+NiwRc1akvAXCMKa_=mVOEqZpN4FAaj+WU21btKLHw3gMQA@mail.gmail.com>

On Thu, Feb 27, 2014 at 3:47 PM, Chris Coulter <
Chris.Coulter at burohappold.com> wrote:

> General question if 5-phase is unable to work without full geometry for
> the CFS, are we then limited to only systems that can be modeled (ie, no
> lenses, laser cut panels, etc)?


Chris,

You can use the 5-phase method without CFS geometry. just use a BSDF
material with zero thickness in model_suns.oct. This approach makes sense
for a case where you have a tensor tree BSDF but can't model the actual
system geometry.

Andy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140303/7e8217b7/attachment.html>

From Chris.Coulter at BuroHappold.com  Tue Mar  4 08:40:19 2014
From: Chris.Coulter at BuroHappold.com (Chris Coulter)
Date: Tue, 4 Mar 2014 16:40:19 +0000
Subject: [Radiance-general] BSDF orientation and implementation
In-Reply-To: <3444C9DE-98EA-4D63-A8A2-5B1F61CF9E78@lmi.net>
References: <CBDA7B0F3FC5354F986B71977E204BEC20EDF9EF@EX-MBX01.burohappold.com>
	<CAOG+Niz40ULk2xGWoKCKZ7MPRU21jUJABzip77SG_mU8_av1tQ@mail.gmail.com>
	<CAL-bo5G7G713kOt=EfhEBGVs6qwHiXg0R_3DstCdUj-taiN+hQ@mail.gmail.com>
	<CF340DB6.3B68%robert.guglielmetti@nrel.gov>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE5246@EX-MBX01.burohappold.com>
	<CAOG+NiyH1ktqVgA3qSXABVPDhDGH+BGam0mMGjUH0zvpRSeWNA@mail.gmail.com>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
	<3444C9DE-98EA-4D63-A8A2-5B1F61CF9E78@lmi.net>
Message-ID: <CBDA7B0F3FC5354F986B71977E204BEC20F46F05@EX-MBX01.burohappold.com>

Thanks, Greg. I knew I had previously changed the ulimit, and verified it was higher than default. I was at 4096 - close but radiance isn't horseshoes or hand grenades.

Chris

From: Greg Ward [mailto:gregoryjward at gmail.com]
Sent: Monday, March 03, 2014 12:47 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation

Hi Chris,

Looking at the command you quoted, the "-opn" option to rtrace should be "-opN" for better efficiency, but this isn't what's causing the "broken pipe" error.  That indicates that rcontrib is refusing input before rtrace is done supplying it.

The only think I can think of is that you are running out of file descriptors.  If using "-e MF:2" instead of "-e MF:6" solves the problem, then this is the most likely cause.  The MF:6 setting requires 5186 descriptors.  Quoting Thomas Bleicher from a Feb. 2007 post:

On Mac OS X the max number of open files is limited to 256 per
user process. That's pretty low and not sufficient for any subdivision
of the Tregenza sky pattern.

To change the open files limit (on OS X!) I created a file
"/etc/launchd.conf" with the line "limit maxfiles 1024 unlimited"
and I set the kernel limit with "sysctl -w kern.maxfiles=1024".

After a reboot I could set the shell's limit with "ulimit -n 1024".
This can go into your ".profile" if you're going to use it a lot.

Unfortunately, the method for changing the number of allowed descriptors varies from one system to the next.  Good luck!

Best,
-Greg


From: Chris Coulter <Chris.Coulter at BuroHappold.com<mailto:Chris.Coulter at BuroHappold.com>>

Date: February 27, 2014 3:47:22 PM PST


That's good to hear...I was just about to upload some images asking for clarification.


Follow-up to the 5-phase process:
I'm using a small CFS model to generate my BSDF, do I need to create an array with the actual geometry covering the full aperture for the Direct Sun Contribution (Cds)?

For rendering - It seems so, otherwise I don't see how the shadow rays are traced that get piped to rcontrib. model_nosuns.oct doesn't have the proxy surface, only physical geometry.
For calc points - Maybe? The model_suns.oct has both physical geometry and proxied geometry.


Although, when I try the as the tutorial states, I get a "rtrace: Broken Pipe" error. My tensor tree BSDF has an error for 110.9% rear reflection.
Just to verify that wasn't an issue, I doubled back to the files used in Andy's tutorial, I also get the error. Code run there was:
vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | rtrace -h- -opn -faa -ab 0 octs/model_nosuns.oct | \
            rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n 7 -fac -fo -o viewpics_ds/back_%04d.hdr \
            -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct
My standard build is the HEAD from 26SEP13, but also tried one from last week (2/21) with no success.


General question if 5-phase is unable to work without full geometry for the CFS, are we then limited to only systems that can be modeled (ie, no lenses, laser cut panels, etc)?

Sorry if I'm all over the place, I started writing this mail at 3p.

Chris

From: Andrew McNeil [mailto:amcneil at lbl.gov]
Sent: Thursday, February 27, 2014 1:54 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation

Chris,
A few weeks ago somebody alerted me to a bug in BSDFViewer for tensor tree BSDFs that flips the transmission front and back. So your tensor tree BSDF is probably fine. My stupid utility has a bug.  I'll let you know when I've fixed it and posted a new version.
Andy

On Thu, Feb 27, 2014 at 6:43 AM, Chris Coulter <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>> wrote:
Andy/David/Rob - Thanks for the encouragement and suggestions.

I've been working through trying to troubleshoot as I go along. Studying it in a 10m cube so I can easily understand how the light is being redistributed rather than in my full model. I also found that running the CFS through genBSDF with an all black material helpful to digest that specular transmission is occurring as expected.
Andy's reminder that +Z is "in" the space was helpful in making me understand why the Klems bsdf seemed backwards. Now my tensor tree bsdf seems backwards using the same geometry - which is unnerving. I'm reworking the process and will post updates, and inevitably more questions. I was finally able to get Andy's BSDF Viewer to compile in Ubuntu - it was much easier once I realized the network had been disabled and then resolved my proxy issues for the compiler's dependencies. I forgot about bsdf2rad, will look into it.

David, your note was clear. Thanks. My system is grid a 10mm cubes fit into skylights that are 4m x 8m or larger. I think the edge condition can be ignored in the BSDF calculation.


Thanks again all for help here and in the tutorials, presentations, code, etc. Once I can confirm my results are wrong and its not as much of a user error as it likely is, I'll post more info/questions.

Chris

-----Original Message-----
From: Guglielmetti, Robert [mailto:Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>]
Sent: Wednesday, February 26, 2014 11:40 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] BSDF orientation and implementation

Hi Chris,

What Andy said! To that end, I would add that tools like objview (for visualizing your CFS geometry) and bsdf2rad (for visualizing the BSDF distribution) are very useful for getting comfortable with your generated BSDFs. I am working on a little "test room" model, a la the ltview script but for CFS instead of luminaries. When it's sensible I'll post some results. It's very helpful to visualize these things; Andy's BSDFviewer is awesome, but I also like to mock these things up in Radiance proper so I am certain the functions and the models are are being implemented and oriented correctly, you know what I mean?

- Rob

From: David Geisler-Moroder <david.moroder at gmail.com<mailto:david.moroder at gmail.com><mailto:david.moroder at gmail.com<mailto:david.moroder at gmail.com>>>
Reply-To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org><mailto:radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>>
Date: Wednesday, February 26, 2014 at 10:34 AM
To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org><mailto:radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>>
Subject: Re: [Radiance-general] BSDF orientation and implementation

Hi Chris,

a short note from my side:
Yes, you can import BSDFs of systems into WINDOW and generate new BSDFs including the glass panes of your IGU. Therefore my approach is usually to simulate only the system without any glazing and put the overall system together in WINDOW with the right glass.
Concerning the generation of BSDFs for various applications of a single system you should decide if the kind of system you are simulating is representative for your application. I tend to simulate typical periods of a systems (e.g. for a lamella system you can use the -dim settings to get that right) and model any frame in the geometric model. However, in cases where e.g. the ratio of system thickness to system size dimension is quite high and thus the frame will significantly influence the BSDF, it is better to include the real geometry in the BSDF simulation model. However, you then probably end up generating more than a single BSDF for the same system depending on the applications.

I hope it's somehow clear... if not, let me know and I'll try again ;-)

Cheers,
David



2014-02-26 1:03 GMT+01:00 Andrew McNeil <amcneil at lbl.gov<mailto:amcneil at lbl.gov><mailto:amcneil at lbl.gov<mailto:amcneil at lbl.gov>>>:
Chris,
Everything you write seems correct. One whatch-it I can offer is to make sure you're system is situated properly for the genBSDF run. +Z is into the space, +Y is up.  All of the geometry should be in the -Z space. If you don't follow these guidelines you're BSDF will be strange.
Andy


On Tue, Feb 25, 2014 at 8:06 AM, Chris Coulter <Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com><mailto:Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>>> wrote:
Good morning Gurus!
I have worked through the 3- and 5-phase tutorials in hopes of being able to apply a BSDF to one of my projects. This project will be using micro-louver cellular structures imbedded within an IGU, in both skylights and vertical windows. I think I understand the general process, but wanted to ask a few questions before getting too far down the road...

The skylights and windows are all different sizes and the windows are in multiple orientations (of course). My understanding of the BSDF and seemingly from this mail (http://www.radiance-online.org/pipermail/radiance-general/2011-November/008248.html), I should be able to calculate the BSDF once for my system. I was planning model the louvers as 1m by 1m, but run genBSDF with the -dim arguments smaller than this. Is this the correct approach? Ideally I would not calculate the BSDF for each orientation, assuming that micro-louver geometry does not change.

In my BSDF material definition, I would alter the up vector according to the surface being applied - the up vector matches the BSDF orientation (calculated in xy space) to the specific geometry's orientation (0 0 1 for a window). If the louver are rotated within the IGU assembly (rz -45) for a skylight, I can account for this with the up vector of 1 1 0 (surface normal is 0 0 1). This would hold true for rotation within the vertical apertures as well. Each different up vector would be a different BSDF material.

Lastly, if the glazing properties (VLT) are not defined yet, can I import the BSDF file into Window and create multiple options for IGU's with varying properties? It seems so from David Geisler-Moroder's presentation at the 2012 Workshop (http://radiance-online.org/community/workshops/2012-copenhagen/Day1/Geisler-Moroder/geisler-moroder_BSDF_tutorial_s.pdf). Certainly skylights and windows will have different VLT and it would again be nice to not be required to run genBSDF multiple times.

I am in the process of working through the steps on my own, but wanted to ask these questions while I'm waiting on genBSDF.


Any help is much appreciated, as always.

Chris Coulter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140304/b899faf1/attachment-0001.html>

From defuller at lbl.gov  Thu Mar  6 17:26:26 2014
From: defuller at lbl.gov (Fuller Daniel)
Date: Thu, 6 Mar 2014 17:26:26 -0800
Subject: [Radiance-general] server-test
Message-ID: <EAF8342D-449A-42E4-9E6B-900B1538AF9F@lbl.gov>

test from radiance-online.org - please disregard - thanks...


From jss5237 at gmail.com  Wed Mar  5 10:16:18 2014
From: jss5237 at gmail.com (Justin Shultz)
Date: Wed, 5 Mar 2014 18:16:18 +0000 (UTC)
Subject: [Radiance-general] genBSDF on Windows
References: <9AE3DAF33501B04BA74EFAE962966318362C37C7@CORP3011.CORPORATE.FOSTER.NETWORK>	<CAF-iH4KGM1pTXq9fv1VmWLXUe-QL0h0gezfb4Rra9CjEJVwBMQ@mail.gmail.com>	<CA+dqh63Dp2uvLEStzJozZ_GZ7tHZB+HZ3PH4=y-LOr2hKQj_Rw@mail.gmail.com>
	<CAAd_PgR4WF7b3VNmyK1pE3-gs9_T7qTXVdankVWd8_ARyAOJJQ@mail.gmail.com>
	<5293A82F.3020806@gmail.com>
Message-ID: <loom.20140305T191104-97@post.gmane.org>

> > On Mon, Nov 25, 2013 at 8:58 AM, Axel Jacobs <jacobs.axel at ...
> > <mailto:jacobs.axel at ...>> wrote:
> >
> >     I've compiled the four Perl scripts that come with the NREL Radiance
> >     for Windows, but have not had tested them extensively:
> >
> >     http://www.jaloxa.eu/pickup/falsecolor.zip
> >
> >     No need to install the Perl interpreter now.
> >
> >     Regards
> >
> >     Axel
> >


Hello Axel,

I am attempting something similar to Giovanni. The .pl files that come with 
the radiance installer (from NREL) don't seem to work for windows. It 
appears that you converted them to .exe files, but when I follow the link to 
your webpage they are not found. Is there a way you could share the .exe 
version of genBSDF (and the others)?

Thank you,
Justin 



From amcneil at lbl.gov  Fri Mar  7 14:32:38 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Fri, 7 Mar 2014 14:32:38 -0800
Subject: [Radiance-general] BSDF orientation and implementation
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC20F46F05@EX-MBX01.burohappold.com>
References: <CBDA7B0F3FC5354F986B71977E204BEC20EDF9EF@EX-MBX01.burohappold.com>
	<CAOG+Niz40ULk2xGWoKCKZ7MPRU21jUJABzip77SG_mU8_av1tQ@mail.gmail.com>
	<CAL-bo5G7G713kOt=EfhEBGVs6qwHiXg0R_3DstCdUj-taiN+hQ@mail.gmail.com>
	<CF340DB6.3B68%robert.guglielmetti@nrel.gov>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE5246@EX-MBX01.burohappold.com>
	<CAOG+NiyH1ktqVgA3qSXABVPDhDGH+BGam0mMGjUH0zvpRSeWNA@mail.gmail.com>
	<CBDA7B0F3FC5354F986B71977E204BEC20EE551D@EX-MBX01.burohappold.com>
	<3444C9DE-98EA-4D63-A8A2-5B1F61CF9E78@lmi.net>
	<CBDA7B0F3FC5354F986B71977E204BEC20F46F05@EX-MBX01.burohappold.com>
Message-ID: <CAOG+Nixf0ju7q7C1+jwqjKKvW03mG-4UcJO03By_Wj1VZ2AWgw@mail.gmail.com>

This didn't get through when I originally set it so I'm trying again...

Chris,

You can use the 5-phase method without CFS geometry. just use a BSDF
material with zero thickness in model_suns.oct. This approach makes sense
for a case where you have a tensor tree BSDF but can't model the actual
system geometry.

Andy


On Tue, Mar 4, 2014 at 8:40 AM, Chris Coulter <Chris.Coulter at burohappold.com
> wrote:

>  Thanks, Greg. I knew I had previously changed the ulimit, and verified
> it was higher than default. I was at 4096 - close but radiance isn't
> horseshoes or hand grenades.
>
>
>
> Chris
>
>
>
> *From:* Greg Ward [mailto:gregoryjward at gmail.com]
> *Sent:* Monday, March 03, 2014 12:47 PM
>
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] BSDF orientation and implementation
>
>
>
> Hi Chris,
>
>
>
> Looking at the command you quoted, the "-opn" option to rtrace should be
> "-opN" for better efficiency, but this isn't what's causing the "broken
> pipe" error.  That indicates that rcontrib is refusing input before rtrace
> is done supplying it.
>
>
>
> The only think I can think of is that you are running out of file
> descriptors.  If using "-e MF:2" instead of "-e MF:6" solves the problem,
> then this is the most likely cause.  The MF:6 setting requires 5186
> descriptors.  Quoting Thomas Bleicher from a Feb. 2007 post:
>
>
>
>  On Mac OS X the max number of open files is limited to 256 per
> user process. That's pretty low and not sufficient for any subdivision
> of the Tregenza sky pattern.
>
> To change the open files limit (on OS X!) I created a file
> "/etc/launchd.conf" with the line "limit maxfiles 1024 unlimited"
> and I set the kernel limit with "sysctl -w kern.maxfiles=1024".
>
> After a reboot I could set the shell's limit with "ulimit -n 1024".
> This can go into your ".profile" if you're going to use it a lot.
>
>
>
> Unfortunately, the method for changing the number of allowed descriptors
> varies from one system to the next.  Good luck!
>
>
>
> Best,
>
> -Greg
>
>
>
>  *From: *Chris Coulter <Chris.Coulter at BuroHappold.com>
>
> *Date: *February 27, 2014 3:47:22 PM PST
>
>
>
>  That's good to hear...I was just about to upload some images asking for
> clarification.
>
>
>
>
>
> Follow-up to the 5-phase process:
>
> I'm using a small CFS model to generate my BSDF, do I need to create an
> array with the actual geometry covering the full aperture for the Direct
> Sun Contribution (Cds)?
>
>
>
> For rendering - It seems so, otherwise I don't see how the shadow rays are
> traced that get piped to rcontrib. model_nosuns.oct doesn't have the proxy
> surface, only physical geometry.
>
> For calc points - Maybe? The model_suns.oct has both physical geometry and
> proxied geometry.
>
>
>
>
>
> Although, when I try the as the tutorial states, I get a "rtrace: Broken
> Pipe" error. My tensor tree BSDF has an error for 110.9% rear reflection.
>
> Just to verify that wasn't an issue, I doubled back to the files used in
> Andy's tutorial, I also get the error. Code run there was:
>
> vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | rtrace -h- -opn
> -faa -ab 0 octs/model_nosuns.oct | \
>
>             rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n 7 -fac
> -fo -o viewpics_ds/back_%04d.hdr \
>
>             -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I
> -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct
>
> My standard build is the HEAD from 26SEP13, but also tried one from last
> week (2/21) with no success.
>
>
>
>
>
> General question if 5-phase is unable to work without full geometry for
> the CFS, are we then limited to only systems that can be modeled (ie, no
> lenses, laser cut panels, etc)?
>
>
>
> Sorry if I'm all over the place, I started writing this mail at 3p.
>
>
>
> *Chris*
>
>
>
> *From:* Andrew McNeil [mailto:amcneil at lbl.gov <amcneil at lbl.gov>]
> *Sent:* Thursday, February 27, 2014 1:54 PM
> *To:* Radiance general discussion
> *Subject:* Re: [Radiance-general] BSDF orientation and implementation
>
>
>
> Chris,
>
> A few weeks ago somebody alerted me to a bug in BSDFViewer for tensor tree
> BSDFs that flips the transmission front and back. So your tensor tree BSDF
> is probably fine. My stupid utility has a bug.  I'll let you know when I've
> fixed it and posted a new version.
>
> Andy
>
>
>
> On Thu, Feb 27, 2014 at 6:43 AM, Chris Coulter <
> Chris.Coulter at burohappold.com> wrote:
>
> Andy/David/Rob - Thanks for the encouragement and suggestions.
>
> I've been working through trying to troubleshoot as I go along. Studying
> it in a 10m cube so I can easily understand how the light is being
> redistributed rather than in my full model. I also found that running the
> CFS through genBSDF with an all black material helpful to digest that
> specular transmission is occurring as expected.
> Andy's reminder that +Z is "in" the space was helpful in making me
> understand why the Klems bsdf seemed backwards. Now my tensor tree bsdf
> seems backwards using the same geometry - which is unnerving. I'm reworking
> the process and will post updates, and inevitably more questions. I was
> finally able to get Andy's BSDF Viewer to compile in Ubuntu - it was much
> easier once I realized the network had been disabled and then resolved my
> proxy issues for the compiler's dependencies. I forgot about bsdf2rad, will
> look into it.
>
> David, your note was clear. Thanks. My system is grid a 10mm cubes fit
> into skylights that are 4m x 8m or larger. I think the edge condition can
> be ignored in the BSDF calculation.
>
>
> Thanks again all for help here and in the tutorials, presentations, code,
> etc. Once I can confirm my results are wrong and its not as much of a user
> error as it likely is, I'll post more info/questions.
>
> Chris
>
>
> -----Original Message-----
> From: Guglielmetti, Robert [mailto:Robert.Guglielmetti at nrel.gov]
> Sent: Wednesday, February 26, 2014 11:40 PM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] BSDF orientation and implementation
>
> Hi Chris,
>
> What Andy said! To that end, I would add that tools like objview (for
> visualizing your CFS geometry) and bsdf2rad (for visualizing the BSDF
> distribution) are very useful for getting comfortable with your generated
> BSDFs. I am working on a little "test room" model, a la the ltview script
> but for CFS instead of luminaries. When it's sensible I'll post some
> results. It's very helpful to visualize these things; Andy's BSDFviewer is
> awesome, but I also like to mock these things up in Radiance proper so I am
> certain the functions and the models are are being implemented and oriented
> correctly, you know what I mean?
>
> - Rob
>
> From: David Geisler-Moroder <david.moroder at gmail.com<mailto:
> david.moroder at gmail.com>>
> Reply-To: Radiance discussion <radiance-general at radiance-online.org
> <mailto:radiance-general at radiance-online.org>>
> Date: Wednesday, February 26, 2014 at 10:34 AM
> To: Radiance discussion <radiance-general at radiance-online.org<mailto:
> radiance-general at radiance-online.org>>
> Subject: Re: [Radiance-general] BSDF orientation and implementation
>
> Hi Chris,
>
> a short note from my side:
> Yes, you can import BSDFs of systems into WINDOW and generate new BSDFs
> including the glass panes of your IGU. Therefore my approach is usually to
> simulate only the system without any glazing and put the overall system
> together in WINDOW with the right glass.
> Concerning the generation of BSDFs for various applications of a single
> system you should decide if the kind of system you are simulating is
> representative for your application. I tend to simulate typical periods of
> a systems (e.g. for a lamella system you can use the -dim settings to get
> that right) and model any frame in the geometric model. However, in cases
> where e.g. the ratio of system thickness to system size dimension is quite
> high and thus the frame will significantly influence the BSDF, it is better
> to include the real geometry in the BSDF simulation model. However, you
> then probably end up generating more than a single BSDF for the same system
> depending on the applications.
>
> I hope it's somehow clear... if not, let me know and I'll try again ;-)
>
> Cheers,
> David
>
>
>
> 2014-02-26 1:03 GMT+01:00 Andrew McNeil <amcneil at lbl.gov<mailto:
> amcneil at lbl.gov>>:
> Chris,
> Everything you write seems correct. One whatch-it I can offer is to make
> sure you're system is situated properly for the genBSDF run. +Z is into the
> space, +Y is up.  All of the geometry should be in the -Z space. If you
> don't follow these guidelines you're BSDF will be strange.
> Andy
>
>
> On Tue, Feb 25, 2014 at 8:06 AM, Chris Coulter <
> Chris.Coulter at burohappold.com<mailto:Chris.Coulter at burohappold.com>>
> wrote:
> Good morning Gurus!
>
> I have worked through the 3- and 5-phase tutorials in hopes of being able
> to apply a BSDF to one of my projects. This project will be using
> micro-louver cellular structures imbedded within an IGU, in both skylights
> and vertical windows. I think I understand the general process, but wanted
> to ask a few questions before getting too far down the road...
>
>
> The skylights and windows are all different sizes and the windows are in
> multiple orientations (of course). My understanding of the BSDF and
> seemingly from this mail (
> http://www.radiance-online.org/pipermail/radiance-general/2011-November/008248.html),
> I should be able to calculate the BSDF once for my system. I was planning
> model the louvers as 1m by 1m, but run genBSDF with the -dim arguments
> smaller than this. Is this the correct approach? Ideally I would not
> calculate the BSDF for each orientation, assuming that micro-louver
> geometry does not change.
>
> In my BSDF material definition, I would alter the up vector according to
> the surface being applied - the up vector matches the BSDF orientation
> (calculated in xy space) to the specific geometry's orientation (0 0 1 for
> a window). If the louver are rotated within the IGU assembly (rz -45) for a
> skylight, I can account for this with the up vector of 1 1 0 (surface
> normal is 0 0 1). This would hold true for rotation within the vertical
> apertures as well. Each different up vector would be a different BSDF
> material.
>
> Lastly, if the glazing properties (VLT) are not defined yet, can I import
> the BSDF file into Window and create multiple options for IGU's with
> varying properties? It seems so from David Geisler-Moroder's presentation
> at the 2012 Workshop (
> http://radiance-online.org/community/workshops/2012-copenhagen/Day1/Geisler-Moroder/geisler-moroder_BSDF_tutorial_s.pdf).
> Certainly skylights and windows will have different VLT and it would again
> be nice to not be required to run genBSDF multiple times.
>
> I am in the process of working through the steps on my own, but wanted to
> ask these questions while I'm waiting on genBSDF.
>
>
> Any help is much appreciated, as always.
>
> Chris Coulter
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140307/9120b8a5/attachment-0001.html>

From hope.zh at gmail.com  Sun Mar  9 00:04:50 2014
From: hope.zh at gmail.com (Ji Zhang)
Date: Sun, 9 Mar 2014 16:04:50 +0800
Subject: [Radiance-general] What does "ray coefficient" mean?
In-Reply-To: <CAD83LVLfdmHLOT5PTQB4awAZf-Fm6V9fkiCfWJZMmHAkE-DxHg@mail.gmail.com>
References: <CAD83LVLfdmHLOT5PTQB4awAZf-Fm6V9fkiCfWJZMmHAkE-DxHg@mail.gmail.com>
Message-ID: <CAD83LVLdfVGV=ZoMFjjBAARacAe+rgKpgeZP36Ktb=EkD_F3pQ@mail.gmail.com>

Dear list, advices regarding the following questions are greatly
appreciated! - Ji


On Sun, Dec 29, 2013 at 12:04 AM, Ji Zhang <hope.zh at gmail.com> wrote:

> Dear List,
>
> May I ask what the "ray coefficient" means in the RCONTRIB man page?
>
> I'm going back to Axel Jacobs' tutorial on "rtcontrib(rcontrib now)":
>
> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
>
> and I tried the following with the *-ffa* option for rcontrib to see what
> is the output in ascii format:
>
>
>
>
> *vwrays -ff -x 600 -y 600 -vf ./views/back.vf \| rcontrib -ab 3 -ad 1024
> -ar 256 -aa .1 -ffa \ `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -m
> sky_glow -n 2 -V+ \./testroom_overcast.oct > ./tmp/rcontrib-ffa.txt*
>
> The output contains the following:
>
>
>
>
>
>
>
>
>
>
>
> *#?RADIANCEoconv materials/testroom.mat objects/testroom.rad
> skies/sky_overcast.mat skies/sky.radrcontrib -ab 3 -ad 1024 -ar 256 -aa .1
> -ffa -x 600 -y 430 -ld- -m sky_glow -n 2 -V+ SOFTWARE= RADIANCE 4.2a
> lastmod Sat Jun 23 22:34:17 SGT 2012 by root on oats-iMac.localCAPDATE=
> 2013:12:28 23:54:10GMT= 2013:12:28 15:54:10FORMAT=ascii-Y 430 +X
> 6001.359378e-02    1.359378e-02    1.359378e-02    1.359378e-02
> 1.359378e-02    1.359378e-02   *
>
> *...*
> *(this continues for 258000 rows in total)*
>
> May I ask:
> 1. what the 3 values in each row represents for each pixel?
> 2. How is this function of rcontrib related to the calculation of daylight
> coefficient?
>
>
> *Thanks you all for your kind help and wish you all a happy new year!*
>
> - Ji
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140309/04953ca3/attachment.html>

From alstan at jakubiec.net  Sun Mar  9 09:32:33 2014
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Sun, 09 Mar 2014 12:32:33 -0400
Subject: [Radiance-general] Writing a new image with pcomb while maintaining
	view information
Message-ID: <op.xcgqwjl6c8ew1p@bunai.hsd1.pa.comcast.net>

Dear List,

These days I am doing a lot of image processing with pcomb and expressions  
using the -e option. I want to save the images I parse through pcomb for  
later analysis.

The small problem with this is that pcomb removes the view information  
 from the header. Right now the only option I can find is to manually  
append my original view information to the new file's header. Is there, by  
chance, an option to maintain the view information when using pcomb? Its  
not a problem for me to automate this, but it is nice to stay within the  
Radiance toolkit if possible.

Thanks very much,
Alstan


From jacobs.axel at gmail.com  Sun Mar  9 09:37:24 2014
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Sun, 09 Mar 2014 16:37:24 +0000
Subject: [Radiance-general] Windows executables of Radiance Perl scripts
Message-ID: <531C98C4.7090209@gmail.com>

Dear Windows Radiance users,

I packaged the Radiance Perl scripts as Windows exe files for my 
Radiance class last November.  The idea was to make Windows Radiance 
easier to install, without having to worry about a Perl interpreter as well.

The exe files were on my server for a while, but not realising that 
other Windows Radiance users might be interested in them too, I removed 
them after my class was finished.

Since I've been receiving a few emails enquiring about those exe files, 
I set up a web page where they can be downloaded:

http://www.jaloxa.eu/resources/radiance/radwinexe.shtml

Hope this makes setting up Windows Radiance a little easier for some of you.

If you want to help with porting some of the old Radiance C shell 
scripts to Perl to make them work under Windows, please give me a shout.

Regards

Axel


From jacobs.axel at gmail.com  Sun Mar  9 09:44:14 2014
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Sun, 09 Mar 2014 16:44:14 +0000
Subject: [Radiance-general] Writing a new image with pcomb while
 maintaining view information
In-Reply-To: <op.xcgqwjl6c8ew1p@bunai.hsd1.pa.comcast.net>
References: <op.xcgqwjl6c8ew1p@bunai.hsd1.pa.comcast.net>
Message-ID: <531C9A5E.4030100@gmail.com>

Hi Alstan,

see my post to HDRI from a few days ago:
http://radiance-online.org/pipermail/hdri/2014-February/000515.html

Scroll down to 'c) fix the view'

Best

Axel


On 09/03/14 16:32, J. Alstan Jakubiec wrote:
> Dear List,
>
> These days I am doing a lot of image processing with pcomb and
> expressions using the -e option. I want to save the images I parse
> through pcomb for later analysis.
>
> The small problem with this is that pcomb removes the view information
> from the header. Right now the only option I can find is to manually
> append my original view information to the new file's header. Is there,
> by chance, an option to maintain the view information when using pcomb?
> Its not a problem for me to automate this, but it is nice to stay within
> the Radiance toolkit if possible.
>
> Thanks very much,
> Alstan
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From alstan at jakubiec.net  Sun Mar  9 20:28:47 2014
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Sun, 09 Mar 2014 23:28:47 -0400
Subject: [Radiance-general] Writing a new image with pcomb while
 maintaining view information
In-Reply-To: <531C9A5E.4030100@gmail.com>
References: <op.xcgqwjl6c8ew1p@bunai.hsd1.pa.comcast.net>
	<531C9A5E.4030100@gmail.com>
Message-ID: <op.xchk99myc8ew1p@bunai.hsd1.pa.comcast.net>

Hi Axel,

Thanks for the script and your reply! I'm on Windows without a Perl  
interpreter, but its easy enough to scan to the end of the header in  
Python / other scripting language and append the view info.

Separately, I now realize I am actually not subscribed to the HDRI list.  
All this time I thought it was a ghost town like the Daysim list.

Cheers,
Alstan

On Sun, 09 Mar 2014 12:44:14 -0400, Axel Jacobs <jacobs.axel at gmail.com>  
wrote:

> Hi Alstan,
>
> see my post to HDRI from a few days ago:
> http://radiance-online.org/pipermail/hdri/2014-February/000515.html
>
> Scroll down to 'c) fix the view'
>
> Best
>
> Axel
>
>
> On 09/03/14 16:32, J. Alstan Jakubiec wrote:
>> Dear List,
>>
>> These days I am doing a lot of image processing with pcomb and
>> expressions using the -e option. I want to save the images I parse
>> through pcomb for later analysis.
>>
>> The small problem with this is that pcomb removes the view information
>> from the header. Right now the only option I can find is to manually
>> append my original view information to the new file's header. Is there,
>> by chance, an option to maintain the view information when using pcomb?
>> Its not a problem for me to automate this, but it is nice to stay within
>> the Radiance toolkit if possible.
>>
>> Thanks very much,
>> Alstan
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From the.oat.cracker at gmail.com  Mon Mar 10 01:59:54 2014
From: the.oat.cracker at gmail.com (Joe Smith)
Date: Mon, 10 Mar 2014 16:59:54 +0800
Subject: [Radiance-general] any tutorial on using Radiance to calculate
	daylight coefficients
Message-ID: <CAGhWmF4zHChxMNC_-fotob2apRY7VDNwFiw0V7rn1KoYoZ1oQg@mail.gmail.com>

Hi, all, can you recommend tutorials that explain step by step how to use
Radiance programs to calculate daylight coefficients and conduct so called
"dynamic daylight simulation"?

Thanks!
J. S.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140310/471d5920/attachment.html>

From jan.wienold at ise.fraunhofer.de  Mon Mar 10 04:01:25 2014
From: jan.wienold at ise.fraunhofer.de (Jan Wienold)
Date: Mon, 10 Mar 2014 12:01:25 +0100
Subject: [Radiance-general] Writing a new image with pcomb while
 maintaining view information
In-Reply-To: <op.xchk99myc8ew1p@bunai.hsd1.pa.comcast.net>
References: <op.xcgqwjl6c8ew1p@bunai.hsd1.pa.comcast.net>	<531C9A5E.4030100@gmail.com>
	<op.xchk99myc8ew1p@bunai.hsd1.pa.comcast.net>
Message-ID: <531D9B85.5030801@ise.fraunhofer.de>

Hi Alstan,

you can use also this command (should be possible also under windows, 
when you have installed the sed, shoould be part of mingw):

sed -e 's/    VIEW/VIEW/g'  input.hdr >output.hdr

The character before the first "VIEW" must be a TAB.

best,

Jan


On 03/10/2014 04:28 AM, J. Alstan Jakubiec wrote:
> Hi Axel,
>
> Thanks for the script and your reply! I'm on Windows without a Perl 
> interpreter, but its easy enough to scan to the end of the header in 
> Python / other scripting language and append the view info.
>
> Separately, I now realize I am actually not subscribed to the HDRI 
> list. All this time I thought it was a ghost town like the Daysim list.
>
> Cheers,
> Alstan
>
> On Sun, 09 Mar 2014 12:44:14 -0400, Axel Jacobs 
> <jacobs.axel at gmail.com> wrote:
>
>> Hi Alstan,
>>
>> see my post to HDRI from a few days ago:
>> http://radiance-online.org/pipermail/hdri/2014-February/000515.html
>>
>> Scroll down to 'c) fix the view'
>>
>> Best
>>
>> Axel
>>
>>
>> On 09/03/14 16:32, J. Alstan Jakubiec wrote:
>>> Dear List,
>>>
>>> These days I am doing a lot of image processing with pcomb and
>>> expressions using the -e option. I want to save the images I parse
>>> through pcomb for later analysis.
>>>
>>> The small problem with this is that pcomb removes the view information
>>> from the header. Right now the only option I can find is to manually
>>> append my original view information to the new file's header. Is there,
>>> by chance, an option to maintain the view information when using pcomb?
>>> Its not a problem for me to automate this, but it is nice to stay 
>>> within
>>> the Radiance toolkit if possible.
>>>
>>> Thanks very much,
>>> Alstan
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr.-Ing. Jan Wienold
Head of Team Passive Systems and Daylighting
Fraunhofer-Institut f?r Solare Energiesysteme
Thermal Systems and Buildings
Heidenhofstr. 2, 79110 Freiburg, Germany
Phone: +49(0)761 4588 5133 Fax:+49(0)761 4588 9133
jan.wienold at ise.fraunhofer.de
http://www.ise.fraunhofer.de

In office:
Mo,Tue: 8:30-18:00
We,Thu: 8:30-16:00
Fr:  8:30-15:30



From Robert.Guglielmetti at nrel.gov  Mon Mar 10 10:15:36 2014
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 10 Mar 2014 11:15:36 -0600
Subject: [Radiance-general] any tutorial on using Radiance to calculate
 daylight coefficients
In-Reply-To: <CAGhWmF4zHChxMNC_-fotob2apRY7VDNwFiw0V7rn1KoYoZ1oQg@mail.gmail.com>
References: <CAGhWmF4zHChxMNC_-fotob2apRY7VDNwFiw0V7rn1KoYoZ1oQg@mail.gmail.com>
Message-ID: <CF434E68.4539%robert.guglielmetti@nrel.gov>

Hi Joe,

Here?s what you want, in order:

http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf

http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf

http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf

These three tutorials bring you through the whole process, understanding the underlying tools that do the work, and ending with practical examples. Have fun!

- ?Googs"

From: Joe Smith <the.oat.cracker at gmail.com<mailto:the.oat.cracker at gmail.com>>
Reply-To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
Date: Monday, March 10, 2014 at 2:59 AM
To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
Subject: [Radiance-general] any tutorial on using Radiance to calculate daylight coefficients

Hi, all, can you recommend tutorials that explain step by step how to use Radiance programs to calculate daylight coefficients and conduct so called "dynamic daylight simulation"?

Thanks!
J. S.


From gregoryjward at gmail.com  Mon Mar 10 11:01:28 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 10 Mar 2014 11:01:28 -0700
Subject: [Radiance-general] What does "ray coefficient" mean?
In-Reply-To: <CAD83LVLdfVGV=ZoMFjjBAARacAe+rgKpgeZP36Ktb=EkD_F3pQ@mail.gmail.com>
References: <CAD83LVLfdmHLOT5PTQB4awAZf-Fm6V9fkiCfWJZMmHAkE-DxHg@mail.gmail.com>
	<CAD83LVLdfVGV=ZoMFjjBAARacAe+rgKpgeZP36Ktb=EkD_F3pQ@mail.gmail.com>
Message-ID: <AAE7BA2C-727F-45FA-9B0F-51CEE5207E7D@lmi.net>

Rays you specify on the input are traced by rcontrib until they strike a surface whose modifier matches one of the names you've specified with a -m or -M option. At that point, the fraction of that surface's color that contributes to the final ray value is reported (in RGB coefficients) if operating with the default -V- option.  If -V+ is specified, then the RGB contribution to the final ray color is reported, instead.

In other words, the difference between -V- and -V+ is that only the latter considers the actual color returned by the surface itself, whether it be a light source, a window, or another material.

The 3 values reported in your example are the RGB values for each ray that hits the sky_glow material.  Going from the name of the file and nothing else, I'm guessing this is an overcast sky distribution, so you are computing partial sky contributions rather than daylight coefficients in this case.

If you want to compute daylight coefficients, you would need to divide your sky hemisphere into bins according to the Tregenza or Reinhart sky subdivisions and compute coefficients (-V-) rather than contributions (-V+).

There are methods and tutorials for doing so elsewhere -- I'm not sure where at this point as I'm bad at tracking such things, but I'm sure there are others who can help you to find them.  Check "Goog's" latest posting for starters.

Cheers,
-Greg

> From: Ji Zhang <hope.zh at gmail.com>
> Subject: Re: [Radiance-general] What does "ray coefficient" mean?
> 
> Dear list, advices regarding the following questions are greatly appreciated! - Ji
> 
> 
> On Sun, Dec 29, 2013 at 12:04 AM, Ji Zhang <hope.zh at gmail.com> wrote:
> Dear List, 
> 
> May I ask what the "ray coefficient" means in the RCONTRIB man page? 
> 
> I'm going back to Axel Jacobs' tutorial on "rtcontrib(rcontrib now)":
> http://www.jaloxa.eu/resources/radiance/documentation/docs/rtcontrib_lesson.pdf
> 
> and I tried the following with the -ffa option for rcontrib to see what is the output in ascii format:
> 
> vwrays -ff -x 600 -y 600 -vf ./views/back.vf \
> | rcontrib -ab 3 -ad 1024 -ar 256 -aa .1 -ffa \
> `vwrays -d -x 600 -y 600 -vf ./views/back.vf` -m sky_glow -n 2 -V+ \
> ./testroom_overcast.oct > ./tmp/rcontrib-ffa.txt
> 
> The output contains the following:
> 
> #?RADIANCE
> oconv materials/testroom.mat objects/testroom.rad skies/sky_overcast.mat skies/sky.rad
> rcontrib -ab 3 -ad 1024 -ar 256 -aa .1 -ffa -x 600 -y 430 -ld- -m sky_glow -n 2 -V+
> SOFTWARE= RADIANCE 4.2a lastmod Sat Jun 23 22:34:17 SGT 2012 by root on oats-iMac.local
> CAPDATE= 2013:12:28 23:54:10
> GMT= 2013:12:28 15:54:10
> FORMAT=ascii
> 
> -Y 430 +X 600
> 1.359378e-02    1.359378e-02    1.359378e-02    
> 1.359378e-02    1.359378e-02    1.359378e-02   
> ...
> (this continues for 258000 rows in total)
> 
> May I ask:
> 1. what the 3 values in each row represents for each pixel? 
> 2. How is this function of rcontrib related to the calculation of daylight coefficient? 
> 
> 
> Thanks you all for your kind help and wish you all a happy new year!
> 
> - Ji
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140310/b007ba3e/attachment-0001.html>

From p.g.lovell at st-andrews.ac.uk  Wed Mar 19 04:55:20 2014
From: p.g.lovell at st-andrews.ac.uk (P George Lovell)
Date: Wed, 19 Mar 2014 11:55:20 +0000
Subject: [Radiance-general] rpict and rtrace viewpoint differences?
Message-ID: <532985A8.5030005@st-andrews.ac.uk>

Dear Radiance People.

I'm rendering scenes with both rpict and rtrace and I noticed some 
discrepancies between them. Despite both using the same view point 
definitions my images differ between the two renders: (the scene shows a 
green rectangular panel, a green elipsoid, some sky, green ground).

1) the rpict image (top in the attached file) seems to normalize the sky 
values so that they aren't too bright.
2) the rtrace image has a subtly different viewpoint.

Three questions:

1) Can you tell me which command arguments determine the way that image 
values are clipped or remapped?
2) Can I specify the same clipping in rtrace?
3) Why are the views different despite using the same viewpoint?


Here are the commands I'm running, in the sequence that they are executed.

rpict -vf view.vf  -x 2400 -y 2400 -vh 28.07 -vv 28.07 -ps 2 -pt 0.03 
-pj 0.95 -dj 0.85 -ds 0.09 -dt 0.03 -dc 0.75 -dr 5 -dp 0 -sj 0.85 -ab 5 
-ar 64 -ad 2048 -as 1024 -lr 12 -lw 0.001 wholeScene.rpict

pfilt -x /1 -y /1 -rad 0.60 wholeScene.rpict > wholeScene.pic

vwrays -vf view.vf -x 2400 -y 2400 >surfaces.txt

rtrace -h -osv wholeScene.oct < surfaces.txt > rtrace_surfaces.txt

Best wishes,

George


-- 
Dr P. George Lovell,

Lecturer in Psychology
University of Abertay Dundee
Dundee
DD1 1HG

Tel 01382-308581
Fax 01382-308749

Researcher/Co-investigator,
School of Psychology, University of St Andrews

RM 2.27 (The Yellow Room).
Phone      (01334) 463056

-------------- next part --------------
A non-text attachment was scrubbed...
Name: rpictRtraceDifferences.png
Type: image/png
Size: 40012 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140319/61aa2266/attachment-0001.png>

From p.g.lovell at st-andrews.ac.uk  Wed Mar 19 05:08:26 2014
From: p.g.lovell at st-andrews.ac.uk (P George Lovell)
Date: Wed, 19 Mar 2014 12:08:26 +0000
Subject: [Radiance-general] rpict and rtrace viewpoint differences?
In-Reply-To: <532985A8.5030005@st-andrews.ac.uk>
References: <532985A8.5030005@st-andrews.ac.uk>
Message-ID: <532988BA.30606@st-andrews.ac.uk>

P.S. having looked at the manpage for rtrace, I see that many of the 
parameters I set for rpict can also be set for rtrace. So can I assume 
that my brightness discrepancies are due to the omitted parameters?

George


On 19/03/2014 11:55, P George Lovell wrote:
> Dear Radiance People.
>
> I'm rendering scenes with both rpict and rtrace and I noticed some 
> discrepancies between them. Despite both using the same view point 
> definitions my images differ between the two renders: (the scene shows 
> a green rectangular panel, a green elipsoid, some sky, green ground).
>
> 1) the rpict image (top in the attached file) seems to normalize the 
> sky values so that they aren't too bright.
> 2) the rtrace image has a subtly different viewpoint.
>
> Three questions:
>
> 1) Can you tell me which command arguments determine the way that 
> image values are clipped or remapped?
> 2) Can I specify the same clipping in rtrace?
> 3) Why are the views different despite using the same viewpoint?
>
>
> Here are the commands I'm running, in the sequence that they are 
> executed.
>
> rpict -vf view.vf  -x 2400 -y 2400 -vh 28.07 -vv 28.07 -ps 2 -pt 0.03 
> -pj 0.95 -dj 0.85 -ds 0.09 -dt 0.03 -dc 0.75 -dr 5 -dp 0 -sj 0.85 -ab 
> 5 -ar 64 -ad 2048 -as 1024 -lr 12 -lw 0.001 wholeScene.rpict
>
> pfilt -x /1 -y /1 -rad 0.60 wholeScene.rpict > wholeScene.pic
>
> vwrays -vf view.vf -x 2400 -y 2400 >surfaces.txt
>
> rtrace -h -osv wholeScene.oct < surfaces.txt > rtrace_surfaces.txt
>
> Best wishes,
>
> George
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Dr P. George Lovell,

Lecturer in Psychology
University of Abertay Dundee
Dundee
DD1 1HG

Tel 01382-308581
Fax 01382-308749

Researcher/Co-investigator,
School of Psychology, University of St Andrews

RM 2.27 (The Yellow Room).
Phone      (01334) 463056

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140319/9c2b19c0/attachment.html>

From Chris.Coulter at BuroHappold.com  Wed Mar 19 06:57:13 2014
From: Chris.Coulter at BuroHappold.com (Chris Coulter)
Date: Wed, 19 Mar 2014 13:57:13 +0000
Subject: [Radiance-general] rpict and rtrace viewpoint differences?
In-Reply-To: <532985A8.5030005@st-andrews.ac.uk>
References: <532985A8.5030005@st-andrews.ac.uk>
Message-ID: <CBDA7B0F3FC5354F986B71977E204BEC20FEB853@EX-MBX01.burohappold.com>

George,

My guess would be the -vh and -vv included in your rpict command. These will change the x and y mappings of your view. 
Are they the same values in your view.vf file? If so, they are redundant and could be misleading in the future. If not, this is why your rpict and rtrace images do not align (vwrays is generating a different set of rays).

Sorry, but I don't have a quick answer/suggestion for your other questions.

Hope this helps.

Chris

-----Original Message-----
From: P George Lovell [mailto:p.g.lovell at st-andrews.ac.uk] 
Sent: Wednesday, March 19, 2014 7:55 AM
To: Radiance general discussion
Subject: [Radiance-general] rpict and rtrace viewpoint differences?

Dear Radiance People.

I'm rendering scenes with both rpict and rtrace and I noticed some discrepancies between them. Despite both using the same view point definitions my images differ between the two renders: (the scene shows a green rectangular panel, a green elipsoid, some sky, green ground).

1) the rpict image (top in the attached file) seems to normalize the sky values so that they aren't too bright.
2) the rtrace image has a subtly different viewpoint.

Three questions:

1) Can you tell me which command arguments determine the way that image values are clipped or remapped?
2) Can I specify the same clipping in rtrace?
3) Why are the views different despite using the same viewpoint?


Here are the commands I'm running, in the sequence that they are executed.

rpict -vf view.vf  -x 2400 -y 2400 -vh 28.07 -vv 28.07 -ps 2 -pt 0.03 
-pj 0.95 -dj 0.85 -ds 0.09 -dt 0.03 -dc 0.75 -dr 5 -dp 0 -sj 0.85 -ab 5 
-ar 64 -ad 2048 -as 1024 -lr 12 -lw 0.001 wholeScene.rpict

pfilt -x /1 -y /1 -rad 0.60 wholeScene.rpict > wholeScene.pic

vwrays -vf view.vf -x 2400 -y 2400 >surfaces.txt

rtrace -h -osv wholeScene.oct < surfaces.txt > rtrace_surfaces.txt

Best wishes,

George


-- 
Dr P. George Lovell,

Lecturer in Psychology
University of Abertay Dundee
Dundee
DD1 1HG

Tel 01382-308581
Fax 01382-308749

Researcher/Co-investigator,
School of Psychology, University of St Andrews

RM 2.27 (The Yellow Room).
Phone      (01334) 463056



From p.g.lovell at st-andrews.ac.uk  Wed Mar 19 07:19:43 2014
From: p.g.lovell at st-andrews.ac.uk (P George Lovell)
Date: Wed, 19 Mar 2014 14:19:43 +0000
Subject: [Radiance-general] rpict and rtrace viewpoint differences?
In-Reply-To: <CBDA7B0F3FC5354F986B71977E204BEC20FEB853@EX-MBX01.burohappold.com>
References: <532985A8.5030005@st-andrews.ac.uk>
	<CBDA7B0F3FC5354F986B71977E204BEC20FEB853@EX-MBX01.burohappold.com>
Message-ID: <5329A77F.6030308@st-andrews.ac.uk>

Thanks Chris, I should have noticed that one! (doh!).

I'll listen out for any further advice on the clippin/mapping.

Thanks again.

George


On 19/03/2014 13:57, Chris Coulter wrote:
> George,
>
> My guess would be the -vh and -vv included in your rpict command. These will change the x and y mappings of your view.
> Are they the same values in your view.vf file? If so, they are redundant and could be misleading in the future. If not, this is why your rpict and rtrace images do not align (vwrays is generating a different set of rays).
>
> Sorry, but I don't have a quick answer/suggestion for your other questions.
>
> Hope this helps.
>
> Chris
>
> -----Original Message-----
> From: P George Lovell [mailto:p.g.lovell at st-andrews.ac.uk]
> Sent: Wednesday, March 19, 2014 7:55 AM
> To: Radiance general discussion
> Subject: [Radiance-general] rpict and rtrace viewpoint differences?
>
> Dear Radiance People.
>
> I'm rendering scenes with both rpict and rtrace and I noticed some discrepancies between them. Despite both using the same view point definitions my images differ between the two renders: (the scene shows a green rectangular panel, a green elipsoid, some sky, green ground).
>
> 1) the rpict image (top in the attached file) seems to normalize the sky values so that they aren't too bright.
> 2) the rtrace image has a subtly different viewpoint.
>
> Three questions:
>
> 1) Can you tell me which command arguments determine the way that image values are clipped or remapped?
> 2) Can I specify the same clipping in rtrace?
> 3) Why are the views different despite using the same viewpoint?
>
>
> Here are the commands I'm running, in the sequence that they are executed.
>
> rpict -vf view.vf  -x 2400 -y 2400 -vh 28.07 -vv 28.07 -ps 2 -pt 0.03
> -pj 0.95 -dj 0.85 -ds 0.09 -dt 0.03 -dc 0.75 -dr 5 -dp 0 -sj 0.85 -ab 5
> -ar 64 -ad 2048 -as 1024 -lr 12 -lw 0.001 wholeScene.rpict
>
> pfilt -x /1 -y /1 -rad 0.60 wholeScene.rpict > wholeScene.pic
>
> vwrays -vf view.vf -x 2400 -y 2400 >surfaces.txt
>
> rtrace -h -osv wholeScene.oct < surfaces.txt > rtrace_surfaces.txt
>
> Best wishes,
>
> George
>
>


-- 
Dr P. George Lovell,

Lecturer in Psychology
University of Abertay Dundee
Dundee
DD1 1HG

Tel 01382-308581
Fax 01382-308749

Researcher/Co-investigator,
School of Psychology, University of St Andrews

RM 2.27 (The Yellow Room).
Phone      (01334) 463056



From amcneil at lbl.gov  Wed Mar 19 10:28:24 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Wed, 19 Mar 2014 10:28:24 -0700
Subject: [Radiance-general] rpict and rtrace viewpoint differences?
In-Reply-To: <5329A77F.6030308@st-andrews.ac.uk>
References: <532985A8.5030005@st-andrews.ac.uk>
	<CBDA7B0F3FC5354F986B71977E204BEC20FEB853@EX-MBX01.burohappold.com>
	<5329A77F.6030308@st-andrews.ac.uk>
Message-ID: <CAOG+NizZEraYGnwtOx3r2AaP6DpQUztphTjdOJ86zWCwMrcrCw@mail.gmail.com>

George,
To generate an image with rtrace you should add -fac and change -osv to
-ov.  -fac tells rtrace to expect ascii input and to output in HDR format
(4-byte float pixels).
For clipping, planes you can use -va and -vo in the view file.
hope this helps,
Andy


On Wed, Mar 19, 2014 at 7:19 AM, P George Lovell <
p.g.lovell at st-andrews.ac.uk> wrote:

> Thanks Chris, I should have noticed that one! (doh!).
>
> I'll listen out for any further advice on the clippin/mapping.
>
> Thanks again.
>
> George
>
>
>
> On 19/03/2014 13:57, Chris Coulter wrote:
>
>> George,
>>
>> My guess would be the -vh and -vv included in your rpict command. These
>> will change the x and y mappings of your view.
>> Are they the same values in your view.vf file? If so, they are redundant
>> and could be misleading in the future. If not, this is why your rpict and
>> rtrace images do not align (vwrays is generating a different set of rays).
>>
>> Sorry, but I don't have a quick answer/suggestion for your other
>> questions.
>>
>> Hope this helps.
>>
>> Chris
>>
>> -----Original Message-----
>> From: P George Lovell [mailto:p.g.lovell at st-andrews.ac.uk]
>> Sent: Wednesday, March 19, 2014 7:55 AM
>> To: Radiance general discussion
>> Subject: [Radiance-general] rpict and rtrace viewpoint differences?
>>
>> Dear Radiance People.
>>
>> I'm rendering scenes with both rpict and rtrace and I noticed some
>> discrepancies between them. Despite both using the same view point
>> definitions my images differ between the two renders: (the scene shows a
>> green rectangular panel, a green elipsoid, some sky, green ground).
>>
>> 1) the rpict image (top in the attached file) seems to normalize the sky
>> values so that they aren't too bright.
>> 2) the rtrace image has a subtly different viewpoint.
>>
>> Three questions:
>>
>> 1) Can you tell me which command arguments determine the way that image
>> values are clipped or remapped?
>> 2) Can I specify the same clipping in rtrace?
>> 3) Why are the views different despite using the same viewpoint?
>>
>>
>> Here are the commands I'm running, in the sequence that they are executed.
>>
>> rpict -vf view.vf  -x 2400 -y 2400 -vh 28.07 -vv 28.07 -ps 2 -pt 0.03
>> -pj 0.95 -dj 0.85 -ds 0.09 -dt 0.03 -dc 0.75 -dr 5 -dp 0 -sj 0.85 -ab 5
>> -ar 64 -ad 2048 -as 1024 -lr 12 -lw 0.001 wholeScene.rpict
>>
>> pfilt -x /1 -y /1 -rad 0.60 wholeScene.rpict > wholeScene.pic
>>
>> vwrays -vf view.vf -x 2400 -y 2400 >surfaces.txt
>>
>> rtrace -h -osv wholeScene.oct < surfaces.txt > rtrace_surfaces.txt
>>
>> Best wishes,
>>
>> George
>>
>>
>>
>
> --
> Dr P. George Lovell,
>
> Lecturer in Psychology
> University of Abertay Dundee
> Dundee
> DD1 1HG
>
> Tel 01382-308581
> Fax 01382-308749
>
> Researcher/Co-investigator,
> School of Psychology, University of St Andrews
>
> RM 2.27 (The Yellow Room).
> Phone      (01334) 463056
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140319/06c551f2/attachment.html>

From pgl2 at st-andrews.ac.uk  Wed Mar 19 13:14:51 2014
From: pgl2 at st-andrews.ac.uk (Paul Lovell)
Date: Wed, 19 Mar 2014 20:14:51 +0000
Subject: [Radiance-general] rpict and rtrace viewpoint differences?
In-Reply-To: <CAOG+NizZEraYGnwtOx3r2AaP6DpQUztphTjdOJ86zWCwMrcrCw@mail.gmail.com>
References: <532985A8.5030005@st-andrews.ac.uk>
	<CBDA7B0F3FC5354F986B71977E204BEC20FEB853@EX-MBX01.burohappold.com>
	<5329A77F.6030308@st-andrews.ac.uk>,
	<CAOG+NizZEraYGnwtOx3r2AaP6DpQUztphTjdOJ86zWCwMrcrCw@mail.gmail.com>
Message-ID: <068439D7-8AC8-422E-ACFE-891753B5A5F9@st-andrews.ac.uk>

Thanks Andy,

George


Dr P. George Lovell,

(via iPhone, so apologies for typos and autocorrect shenanigans!)

Lecturer in Psychology
University of Abertay Dundee
Dundee
DD1 1HG

Tel 01382-308581<tel:01382-308581>
Fax 01382-30<tel:01382-308749>

Post-Doctoral Researcher,
School of Psychology, University of St Andrews

RM 2.27 (The Yellow Room).
Phone      (01334) 463056<tel:(01334)%20462085>

On 19 Mar 2014, at 17:31, "Andrew McNeil" <amcneil at lbl.gov<mailto:amcneil at lbl.gov>> wrote:

George,
To generate an image with rtrace you should add -fac and change -osv to -ov.  -fac tells rtrace to expect ascii input and to output in HDR format (4-byte float pixels).
For clipping, planes you can use -va and -vo in the view file.
hope this helps,
Andy


On Wed, Mar 19, 2014 at 7:19 AM, P George Lovell <p.g.lovell at st-andrews.ac.uk<mailto:p.g.lovell at st-andrews.ac.uk>> wrote:
Thanks Chris, I should have noticed that one! (doh!).

I'll listen out for any further advice on the clippin/mapping.

Thanks again.

George



On 19/03/2014 13:57, Chris Coulter wrote:
George,

My guess would be the -vh and -vv included in your rpict command. These will change the x and y mappings of your view.
Are they the same values in your view.vf file? If so, they are redundant and could be misleading in the future. If not, this is why your rpict and rtrace images do not align (vwrays is generating a different set of rays).

Sorry, but I don't have a quick answer/suggestion for your other questions.

Hope this helps.

Chris

-----Original Message-----
From: P George Lovell [mailto:p.g.lovell at st-andrews.ac.uk<mailto:p.g.lovell at st-andrews.ac.uk>]
Sent: Wednesday, March 19, 2014 7:55 AM
To: Radiance general discussion
Subject: [Radiance-general] rpict and rtrace viewpoint differences?

Dear Radiance People.

I'm rendering scenes with both rpict and rtrace and I noticed some discrepancies between them. Despite both using the same view point definitions my images differ between the two renders: (the scene shows a green rectangular panel, a green elipsoid, some sky, green ground).

1) the rpict image (top in the attached file) seems to normalize the sky values so that they aren't too bright.
2) the rtrace image has a subtly different viewpoint.

Three questions:

1) Can you tell me which command arguments determine the way that image values are clipped or remapped?
2) Can I specify the same clipping in rtrace?
3) Why are the views different despite using the same viewpoint?


Here are the commands I'm running, in the sequence that they are executed.

rpict -vf view.vf  -x 2400 -y 2400 -vh 28.07 -vv 28.07 -ps 2 -pt 0.03
-pj 0.95 -dj 0.85 -ds 0.09 -dt 0.03 -dc 0.75 -dr 5 -dp 0 -sj 0.85 -ab 5
-ar 64 -ad 2048 -as 1024 -lr 12 -lw 0.001 wholeScene.rpict

pfilt -x /1 -y /1 -rad 0.60 wholeScene.rpict > wholeScene.pic

vwrays -vf view.vf -x 2400 -y 2400 >surfaces.txt

rtrace -h -osv wholeScene.oct < surfaces.txt > rtrace_surfaces.txt

Best wishes,

George




--
Dr P. George Lovell,

Lecturer in Psychology
University of Abertay Dundee
Dundee
DD1 1HG

Tel 01382-308581
Fax 01382-308749

Researcher/Co-investigator,
School of Psychology, University of St Andrews

RM 2.27 (The Yellow Room).
Phone      (01334) 463056


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140319/bd55bd10/attachment.html>

From lizzielyh at gmail.com  Wed Mar 19 22:45:42 2014
From: lizzielyh at gmail.com (Vera Liu)
Date: Wed, 19 Mar 2014 22:45:42 -0700
Subject: [Radiance-general] Raw images from radiance package?
Message-ID: <CACxzXYyY3u5ozbYy6bJiPVN8Qpb3PcvHM3WeFFyKKC7pKoDhyQ@mail.gmail.com>

Hi,
I know there are functions like ra_bmp to transfer radiance files to bmp
files or other formats. I'm wondering if there's a way to generate raw
images from the .rad files so that the output is in linear light
coordinates?
Best,
Vera
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140319/156f388d/attachment.html>

From gregoryjward at gmail.com  Thu Mar 20 10:40:41 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 20 Mar 2014 10:40:41 -0700
Subject: [Radiance-general] Raw images from radiance package?
In-Reply-To: <CACxzXYyY3u5ozbYy6bJiPVN8Qpb3PcvHM3WeFFyKKC7pKoDhyQ@mail.gmail.com>
References: <CACxzXYyY3u5ozbYy6bJiPVN8Qpb3PcvHM3WeFFyKKC7pKoDhyQ@mail.gmail.com>
Message-ID: <E5494075-9D6B-41EA-9FF6-B5574D39566C@lmi.net>

Of course.  Radiance pictures as output from rpict, etc. are linear floating-point in RGBE format.  You can change these to ASCII or binary floats using the pvalue program.  If you don't like the 1% precision this gives you, there is the option of outputting to 4-byte IEEE float or ASCII from rtrace.  You can couple this with vwrays if you want to generate specific views.

What is your purpose?

-Greg

> From: Vera Liu <lizzielyh at gmail.com>
> Subject: [Radiance-general] Raw images from radiance package?
> Date: March 19, 2014 10:45:42 PM PDT
> 
> Hi,
> I know there are functions like ra_bmp to transfer radiance files to bmp files or other formats. I'm wondering if there's a way to generate raw images from the .rad files so that the output is in linear light coordinates?
> Best, 
> Vera
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140320/8c36eaec/attachment.html>

From lizzielyh at gmail.com  Thu Mar 20 12:11:00 2014
From: lizzielyh at gmail.com (Vera Liu)
Date: Thu, 20 Mar 2014 12:11:00 -0700
Subject: [Radiance-general] Raw images from radiance package?
In-Reply-To: <E5494075-9D6B-41EA-9FF6-B5574D39566C@lmi.net>
References: <CACxzXYyY3u5ozbYy6bJiPVN8Qpb3PcvHM3WeFFyKKC7pKoDhyQ@mail.gmail.com>
	<E5494075-9D6B-41EA-9FF6-B5574D39566C@lmi.net>
Message-ID: <CACxzXYz+uVrgit6Q+pOa_y9naTrNOsovR=jiLfoJnN3-Q10ONA@mail.gmail.com>

Hi Greg,
Thank you so much for the prompt reply! I want to generate some simulation
images for my project, but Matlab can't read in the .oct file or .pic file
generated by oconv and rpict. So I was wondering what I should use to
output raw images with linear light coordinates and then extract the pixel
values. As you mentioned  the gile generated by using rpict should be the
raw format? Or I could use rtrace option to get the pixel values?

Best,
Vera


On Thu, Mar 20, 2014 at 10:40 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Of course.  Radiance pictures as output from rpict, etc. are linear
> floating-point in RGBE format.  You can change these to ASCII or binary
> floats using the pvalue program.  If you don't like the 1% precision this
> gives you, there is the option of outputting to 4-byte IEEE float or ASCII
> from rtrace.  You can couple this with vwrays if you want to generate
> specific views.
>
> What is your purpose?
>
> -Greg
>
> *From: *Vera Liu <lizzielyh at gmail.com>
>
> *Subject: *[Radiance-general] Raw images from radiance package?
>
> *Date: *March 19, 2014 10:45:42 PM PDT
>
>
>  Hi,
> I know there are functions like ra_bmp to transfer radiance files to bmp
> files or other formats. I'm wondering if there's a way to generate raw
> images from the .rad files so that the output is in linear light
> coordinates?
> Best,
> Vera
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140320/d6b6ce76/attachment.html>

From Bruno.Bueno at ise.fraunhofer.de  Thu Mar 20 14:01:27 2014
From: Bruno.Bueno at ise.fraunhofer.de (Bruno.Bueno at ise.fraunhofer.de)
Date: Thu, 20 Mar 2014 22:01:27 +0100
Subject: [Radiance-general] =?iso-8859-1?q?AUTO=3A_Bruno_Bueno_ist_au=DFer?=
 =?iso-8859-1?q?_Haus_=28R=FCckkehr_am_25/03/2014=29?=
Message-ID: <OFD529643B.B826AED6-ONC1257CA1.00737D80-C1257CA1.00737D80@ise.fhg.de>


Ich bin bis 25/03/2014 abwesend.




Hinweis: Dies ist eine automatische Antwort auf Ihre Nachricht
"Radiance-general Digest, Vol 121, Issue 9" gesendet am 20.03.2014 20:00:00
.

Diese ist die einzige Benachrichtigung, die Sie empfangen werden, w?hrend
diese Person abwesend ist.



From gregoryjward at gmail.com  Thu Mar 20 15:01:46 2014
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 20 Mar 2014 15:01:46 -0700
Subject: [Radiance-general] Raw images from radiance package?
In-Reply-To: <CACxzXYz+uVrgit6Q+pOa_y9naTrNOsovR=jiLfoJnN3-Q10ONA@mail.gmail.com>
References: <CACxzXYyY3u5ozbYy6bJiPVN8Qpb3PcvHM3WeFFyKKC7pKoDhyQ@mail.gmail.com>
	<E5494075-9D6B-41EA-9FF6-B5574D39566C@lmi.net>
	<CACxzXYz+uVrgit6Q+pOa_y9naTrNOsovR=jiLfoJnN3-Q10ONA@mail.gmail.com>
Message-ID: <59040C86-1FED-46BD-83A0-EAD1D19E442A@lmi.net>

Matlab does have a module for reading HDR images.  See:

	http://www.mathworks.com/help/images/working-with-high-dynamic-range-images.html

You can also convert to other formats as I said using pvalue, or go directly to floats using rtrace.  For example:

	vwrays -vf myview.vf -x 100 -y 100 | rtrace -h scene.oct > myresults.txt

would create an ASCII list of RGB values, one per pixel for the given view.

Best,
-Greg

> From: Vera Liu <lizzielyh at gmail.com>
> Subject: Re: [Radiance-general] Raw images from radiance package?
> Date: March 20, 2014 12:11:00 PM PDT
> 
> Hi Greg,
> Thank you so much for the prompt reply! I want to generate some simulation images for my project, but Matlab can't read in the .oct file or .pic file generated by oconv and rpict. So I was wondering what I should use to output raw images with linear light coordinates and then extract the pixel values. As you mentioned  the gile generated by using rpict should be the raw format? Or I could use rtrace option to get the pixel values?
> 
> Best,
> Vera
> 
> 
> On Thu, Mar 20, 2014 at 10:40 AM, Greg Ward <gregoryjward at gmail.com> wrote:
> Of course.  Radiance pictures as output from rpict, etc. are linear floating-point in RGBE format.  You can change these to ASCII or binary floats using the pvalue program.  If you don't like the 1% precision this gives you, there is the option of outputting to 4-byte IEEE float or ASCII from rtrace.  You can couple this with vwrays if you want to generate specific views.
> 
> What is your purpose?
> 
> -Greg
> 
>> From: Vera Liu <lizzielyh at gmail.com>
>> Subject: [Radiance-general] Raw images from radiance package?
>> Date: March 19, 2014 10:45:42 PM PDT
>> 
>> Hi,
>> I know there are functions like ra_bmp to transfer radiance files to bmp files or other formats. I'm wondering if there's a way to generate raw images from the .rad files so that the output is in linear light coordinates?
>> Best, 
>> Vera
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140320/ed5a67e8/attachment.html>

From lizzielyh at gmail.com  Thu Mar 20 15:12:47 2014
From: lizzielyh at gmail.com (Vera Liu)
Date: Thu, 20 Mar 2014 15:12:47 -0700
Subject: [Radiance-general] Raw images from radiance package?
In-Reply-To: <59040C86-1FED-46BD-83A0-EAD1D19E442A@lmi.net>
References: <CACxzXYyY3u5ozbYy6bJiPVN8Qpb3PcvHM3WeFFyKKC7pKoDhyQ@mail.gmail.com>
	<E5494075-9D6B-41EA-9FF6-B5574D39566C@lmi.net>
	<CACxzXYz+uVrgit6Q+pOa_y9naTrNOsovR=jiLfoJnN3-Q10ONA@mail.gmail.com>
	<59040C86-1FED-46BD-83A0-EAD1D19E442A@lmi.net>
Message-ID: <CACxzXYz8BYAvf3R0sTJuS8Z4r+mYtn+pQkk386NDp4-xU_6kVg@mail.gmail.com>

That's really helpful! Thank you very much!
On Mar 20, 2014 3:05 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:

> Matlab does have a module for reading HDR images.  See:
>
>
> http://www.mathworks.com/help/images/working-with-high-dynamic-range-images.html
>
> You can also convert to other formats as I said using pvalue, or go
> directly to floats using rtrace.  For example:
>
> vwrays -vf myview.vf -x 100 -y 100 | rtrace -h scene.oct > myresults.txt
>
> would create an ASCII list of RGB values, one per pixel for the given view.
>
> Best,
> -Greg
>
> *From: *Vera Liu <lizzielyh at gmail.com>
>
> *Subject: *Re: [Radiance-general] Raw images from radiance package?
>
> *Date: *March 20, 2014 12:11:00 PM PDT
>
>
>  Hi Greg,
> Thank you so much for the prompt reply! I want to generate some simulation
> images for my project, but Matlab can't read in the .oct file or .pic file
> generated by oconv and rpict. So I was wondering what I should use to
> output raw images with linear light coordinates and then extract the pixel
> values. As you mentioned  the gile generated by using rpict should be the
> raw format? Or I could use rtrace option to get the pixel values?
>
> Best,
> Vera
>
>
> On Thu, Mar 20, 2014 at 10:40 AM, Greg Ward <gregoryjward at gmail.com>wrote:
>
>> Of course.  Radiance pictures as output from rpict, etc. are linear
>> floating-point in RGBE format.  You can change these to ASCII or binary
>> floats using the pvalue program.  If you don't like the 1% precision this
>> gives you, there is the option of outputting to 4-byte IEEE float or ASCII
>> from rtrace.  You can couple this with vwrays if you want to generate
>> specific views.
>>
>> What is your purpose?
>>
>> -Greg
>>
>> *From: *Vera Liu <lizzielyh at gmail.com>
>>
>> *Subject: *[Radiance-general] Raw images from radiance package?
>>
>> *Date: *March 19, 2014 10:45:42 PM PDT
>>
>>
>>  Hi,
>> I know there are functions like ra_bmp to transfer radiance files to bmp
>> files or other formats. I'm wondering if there's a way to generate raw
>> images from the .rad files so that the output is in linear light
>> coordinates?
>> Best,
>> Vera
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140320/6de9a112/attachment-0001.html>

From hope.zh at gmail.com  Thu Mar 20 20:55:04 2014
From: hope.zh at gmail.com (Ji Zhang)
Date: Fri, 21 Mar 2014 11:55:04 +0800
Subject: [Radiance-general] Raw images from radiance package?
In-Reply-To: <59040C86-1FED-46BD-83A0-EAD1D19E442A@lmi.net>
References: <CACxzXYyY3u5ozbYy6bJiPVN8Qpb3PcvHM3WeFFyKKC7pKoDhyQ@mail.gmail.com>
	<E5494075-9D6B-41EA-9FF6-B5574D39566C@lmi.net>
	<CACxzXYz+uVrgit6Q+pOa_y9naTrNOsovR=jiLfoJnN3-Q10ONA@mail.gmail.com>
	<59040C86-1FED-46BD-83A0-EAD1D19E442A@lmi.net>
Message-ID: <CAD83LVJqPypnJ72cy2iQOSgv2+d47sp9VqODSwohaQ2N2sRvFA@mail.gmail.com>

Dear Greg,

Just want to confirm with you that the ambient parameters of rtrace, such
as  -ab, -ad, -ar, -lw, etc, may also affect the RGB radiance values that
will be output to the text file in this case, is it?

To Vera, you can use the -f* option of vwray to specify its output format,
and you can also use the -f** option of rtrace to specify its input and
output format (see the menu for both programs).

For example, the following batch script gives you the position of the point
where each ray (shooting from the viewpoint towards one of the pixels in
the image) intersects with a given scene surface and also the normal of the
ray at that point. The output format for vwray is "float", and the input
and output format for rtrace is "float" and "ascii", respectively.

##############################
vwrays -ff -x 600 -y 600 -vf view.vf \
| rtrace @./image.opt -opd -ffa -n 2 \
`vwrays -d -x 600 -y 600 -vf view.vf` \
.scene.oct > ./rtrace_output_-opd.txt
##############################

Ji


On Fri, Mar 21, 2014 at 6:01 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Matlab does have a module for reading HDR images.  See:
>
>
> http://www.mathworks.com/help/images/working-with-high-dynamic-range-images.html
>
> You can also convert to other formats as I said using pvalue, or go
> directly to floats using rtrace.  For example:
>
> vwrays -vf myview.vf -x 100 -y 100 | rtrace -h scene.oct > myresults.txt
>
> would create an ASCII list of RGB values, one per pixel for the given view.
>
> Best,
> -Greg
>
> *From: *Vera Liu <lizzielyh at gmail.com>
>
> *Subject: *Re: [Radiance-general] Raw images from radiance package?
>
> *Date: *March 20, 2014 12:11:00 PM PDT
>
>
>  Hi Greg,
> Thank you so much for the prompt reply! I want to generate some simulation
> images for my project, but Matlab can't read in the .oct file or .pic file
> generated by oconv and rpict. So I was wondering what I should use to
> output raw images with linear light coordinates and then extract the pixel
> values. As you mentioned  the gile generated by using rpict should be the
> raw format? Or I could use rtrace option to get the pixel values?
>
> Best,
> Vera
>
>
> On Thu, Mar 20, 2014 at 10:40 AM, Greg Ward <gregoryjward at gmail.com>wrote:
>
>> Of course.  Radiance pictures as output from rpict, etc. are linear
>> floating-point in RGBE format.  You can change these to ASCII or binary
>> floats using the pvalue program.  If you don't like the 1% precision this
>> gives you, there is the option of outputting to 4-byte IEEE float or ASCII
>> from rtrace.  You can couple this with vwrays if you want to generate
>> specific views.
>>
>> What is your purpose?
>>
>> -Greg
>>
>> *From: *Vera Liu <lizzielyh at gmail.com>
>>
>> *Subject: *[Radiance-general] Raw images from radiance package?
>>
>> *Date: *March 19, 2014 10:45:42 PM PDT
>>
>>
>>  Hi,
>> I know there are functions like ra_bmp to transfer radiance files to bmp
>> files or other formats. I'm wondering if there's a way to generate raw
>> images from the .rad files so that the output is in linear light
>> coordinates?
>> Best,
>> Vera
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140321/3519e141/attachment.html>

From gmolina at hdlao.com  Fri Mar 21 06:34:05 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Fri, 21 Mar 2014 10:34:05 -0300
Subject: [Radiance-general] Groundhog project: OpenSource SketchUp 2
 Radiance exporing, focused on annual daylight simulations
Message-ID: <CAK+g53C85r8U35-fdNWZAUhATq4iKuafBmuEXZ=NBp35+tq8jg@mail.gmail.com>

Hello List,

As some of you might remember, some (a long) time ago, I uploeaded a Video
of an extention that I was developing for exporting SketchUp models to
Radiance.... I know there is another (very respected) one, but I did not
really like it. I felt it was not really prepared for working with
thickness, illums, and some other stuff... at least it did not work for me.

Now, we (Germ?n Molina, Sergio Vera and Waldo Bustamante, from Pontificia
Universidad Cat?lica de Chile) are proud to anounce that we have finally
finished registering our extension: *Groundhog*. The name comes from the
Groundhog day tradition (not my tradition, but I found it interesting).

What does it do, for now?

Allows Working with thick walls (easy window creation).
Exporting complex polygons as one polygon (window openings are not a
problem)... there are still issues with the "non plane polygon")
Assigning materials from a library of auto-contained Radiance Material
files.
Materials not existing in the library will be "guessed" by defining a
plastic material with no specularity or roughness, with the same color. If
the material is semi-transparent, a colored glass material will be assigned.
Adding workplanes, which will be exported as a set of sensors that can be
used by rcontrib and rtrace programs.
Adding Illums.
Grouping windows in order to make more efficient lighting simulations.
Exporting by layers, separating (or not) the windows from the rest of the
geometry, allowing 3 and 5 phase simulations.
Export multiple views, corresponding to the Scenes (pages) saved within the
SketchUp model.
Every exported scene file comes with a CIE clear sky with the sun located
according to the sun direction in the model. We are using Geolocation.

I have been using this for about two years now... and now, I think, is a
useful tool, and I see a lot of potential in it.

We would really like to count with your feedback, ideas, and hopefully with
some contributions to the code.

We have worked on the documentation, although we know there are some things
we need to do.

Web page: http://groundhoglabs.github.io/Groundhog/
Source Code: https://github.com/GroundhogLabs/Groundhog
Documentation: http://groundhoglabs.github.io/Groundhog/doc/doc_index.html

BYE

Germ?n Molina

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140321/75a94f46/attachment.html>

From pally.sandher at iesve.com  Tue Mar 25 03:56:23 2014
From: pally.sandher at iesve.com (Pally Sandher)
Date: Tue, 25 Mar 2014 10:56:23 +0000
Subject: [Radiance-general] Windows executables of Radiance Perl scripts
In-Reply-To: <531C98C4.7090209@gmail.com>
References: <531C98C4.7090209@gmail.com>
Message-ID: <A7E25FADF831E94DBBD5904D7E5848650E035177@GL-EXC-01.iesve.com>

--------
WARNING: At least one of the links in the message below goes to an .exe file, 
which could be malicious. To learn how to protect yourself, please go here:
https://commons.lbl.gov/x/_591B
--------

Axel what did you use to package the Perl scripts? I had to do the same thing & used PAR::Packer but I get around 1/3rd slower performance due to the unpacking & clean-up required by this.

Also this message should probably be in radiance-dev not radiance-general.

Palbinder Sandher 
Software Platform Engineer 
T: +44 (0) 141 945 8500
F: +44 (0) 141 945 8501
http://www.iesve.com 

**Design, Simulate + Innovate with the <Virtual Environment>** 
Integrated Environmental Solutions Limited. Registered in Scotland No. SC151456
Registered Office - Helix Building, West Of Scotland Science Park, Glasgow G20 0SP
Email Disclaimer 


-----Original Message-----
From: Axel Jacobs [mailto:jacobs.axel at gmail.com] 
Sent: 09 March 2014 16:39
To: Radiance general discussion
Subject: [Radiance-general] Windows executables of Radiance Perl scripts

Dear Windows Radiance users,

I packaged the Radiance Perl scripts as Windows exe files for my 
Radiance class last November.  The idea was to make Windows Radiance 
easier to install, without having to worry about a Perl interpreter as well.

The exe files were on my server for a while, but not realising that 
other Windows Radiance users might be interested in them too, I removed 
them after my class was finished.

Since I've been receiving a few emails enquiring about those exe files, 
I set up a web page where they can be downloaded:

http://www.jaloxa.eu/resources/radiance/radwinexe.shtml

Hope this makes setting up Windows Radiance a little easier for some of you.

If you want to help with porting some of the old Radiance C shell 
scripts to Perl to make them work under Windows, please give me a shout.

Regards

Axel

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From jacobs.axel at gmail.com  Tue Mar 25 04:16:06 2014
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Tue, 25 Mar 2014 11:16:06 +0000
Subject: [Radiance-general] Windows executables of Radiance Perl scripts
In-Reply-To: <A7E25FADF831E94DBBD5904D7E5848650E035177@GL-EXC-01.iesve.com>
References: <531C98C4.7090209@gmail.com>
	<A7E25FADF831E94DBBD5904D7E5848650E035177@GL-EXC-01.iesve.com>
Message-ID: <CA+dqh60L1Z_nt_NDDm8AGvXCq6gqC2Sm+egz151HiUdiJX0mwg@mail.gmail.com>

Pally,

I used PAR::Packer, like you did. This is explained on the download page:
http://www.jaloxa.eu/resources/radiance/radwinexe.shtml

I am providing the binaries for convenience to my students and others,
which is why I posted on general, not dev.  I have found that most
people find installing Radiance (not just under Windows) very
difficult, due to
a) Perl dependency
b) env variables
Not much that can be done about b), but I'm trying to help with a)
under Windows.

Regards

Axel


On 25 March 2014 10:56, Pally Sandher <pally.sandher at iesve.com> wrote:
> --------
> WARNING: At least one of the links in the message below goes to an .exe file,
> which could be malicious. To learn how to protect yourself, please go here:
> https://commons.lbl.gov/x/_591B
> --------
>
> Axel what did you use to package the Perl scripts? I had to do the same thing & used PAR::Packer but I get around 1/3rd slower performance due to the unpacking & clean-up required by this.
>
> Also this message should probably be in radiance-dev not radiance-general.
>
> Palbinder Sandher
> Software Platform Engineer
> T: +44 (0) 141 945 8500
> F: +44 (0) 141 945 8501
> http://www.iesve.com
>
> **Design, Simulate + Innovate with the <Virtual Environment>**
> Integrated Environmental Solutions Limited. Registered in Scotland No. SC151456
> Registered Office - Helix Building, West Of Scotland Science Park, Glasgow G20 0SP
> Email Disclaimer
>
>
> -----Original Message-----
> From: Axel Jacobs [mailto:jacobs.axel at gmail.com]
> Sent: 09 March 2014 16:39
> To: Radiance general discussion
> Subject: [Radiance-general] Windows executables of Radiance Perl scripts
>
> Dear Windows Radiance users,
>
> I packaged the Radiance Perl scripts as Windows exe files for my
> Radiance class last November.  The idea was to make Windows Radiance
> easier to install, without having to worry about a Perl interpreter as well.
>
> The exe files were on my server for a while, but not realising that
> other Windows Radiance users might be interested in them too, I removed
> them after my class was finished.
>
> Since I've been receiving a few emails enquiring about those exe files,
> I set up a web page where they can be downloaded:
>
> http://www.jaloxa.eu/resources/radiance/radwinexe.shtml
>
> Hope this makes setting up Windows Radiance a little easier for some of you.
>
> If you want to help with porting some of the old Radiance C shell
> scripts to Perl to make them work under Windows, please give me a shout.
>
> Regards
>
> Axel
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From pally.sandher at iesve.com  Tue Mar 25 04:36:26 2014
From: pally.sandher at iesve.com (Pally Sandher)
Date: Tue, 25 Mar 2014 11:36:26 +0000
Subject: [Radiance-general] Windows executables of Radiance Perl scripts
In-Reply-To: <CA+dqh60L1Z_nt_NDDm8AGvXCq6gqC2Sm+egz151HiUdiJX0mwg@mail.gmail.com>
References: <531C98C4.7090209@gmail.com>
	<A7E25FADF831E94DBBD5904D7E5848650E035177@GL-EXC-01.iesve.com>
	<CA+dqh60L1Z_nt_NDDm8AGvXCq6gqC2Sm+egz151HiUdiJX0mwg@mail.gmail.com>
Message-ID: <A7E25FADF831E94DBBD5904D7E5848650E0351D5@GL-EXC-01.iesve.com>

--------
WARNING: At least one of the links in the message below goes to an .exe file, 
which could be malicious. To learn how to protect yourself, please go here:
https://commons.lbl.gov/x/_591B
--------

Thanks for the info Axel, I guess your files will have the same performance issues I noticed too.

One caveat I would be aware of. If your Perl environment was running on Windows Vista or later, the binaries won't run on Windows XP or earlier due to missing dependencies. I had to rebuild mine using a Windows XP VM to get around this.

Also I found a bug in falsecolor.pl recently which I've not gotten around to forwarding the fix to Greg/radiance-dev as yet for.

Palbinder Sandher 
Software Platform Engineer 
T: +44 (0) 141 945 8500
F: +44 (0) 141 945 8501
http://www.iesve.com 

**Design, Simulate + Innovate with the <Virtual Environment>** 
Integrated Environmental Solutions Limited. Registered in Scotland No. SC151456
Registered Office - Helix Building, West Of Scotland Science Park, Glasgow G20 0SP
Email Disclaimer 

-----Original Message-----
From: Axel Jacobs [mailto:jacobs.axel at gmail.com] 
Sent: 25 March 2014 11:21
To: Radiance general discussion
Subject: Re: [Radiance-general] Windows executables of Radiance Perl scripts

Pally,

I used PAR::Packer, like you did. This is explained on the download page:
http://www.jaloxa.eu/resources/radiance/radwinexe.shtml

I am providing the binaries for convenience to my students and others,
which is why I posted on general, not dev.  I have found that most
people find installing Radiance (not just under Windows) very
difficult, due to
a) Perl dependency
b) env variables
Not much that can be done about b), but I'm trying to help with a)
under Windows.

Regards

Axel


On 25 March 2014 10:56, Pally Sandher <pally.sandher at iesve.com> wrote:
> --------
> WARNING: At least one of the links in the message below goes to an .exe file,
> which could be malicious. To learn how to protect yourself, please go here:
> https://commons.lbl.gov/x/_591B
> --------
>
> Axel what did you use to package the Perl scripts? I had to do the same thing & used PAR::Packer but I get around 1/3rd slower performance due to the unpacking & clean-up required by this.
>
> Also this message should probably be in radiance-dev not radiance-general.
>
> Palbinder Sandher
> Software Platform Engineer
> T: +44 (0) 141 945 8500
> F: +44 (0) 141 945 8501
> http://www.iesve.com
>
> **Design, Simulate + Innovate with the <Virtual Environment>**
> Integrated Environmental Solutions Limited. Registered in Scotland No. SC151456
> Registered Office - Helix Building, West Of Scotland Science Park, Glasgow G20 0SP
> Email Disclaimer
>
>
> -----Original Message-----
> From: Axel Jacobs [mailto:jacobs.axel at gmail.com]
> Sent: 09 March 2014 16:39
> To: Radiance general discussion
> Subject: [Radiance-general] Windows executables of Radiance Perl scripts
>
> Dear Windows Radiance users,
>
> I packaged the Radiance Perl scripts as Windows exe files for my
> Radiance class last November.  The idea was to make Windows Radiance
> easier to install, without having to worry about a Perl interpreter as well.
>
> The exe files were on my server for a while, but not realising that
> other Windows Radiance users might be interested in them too, I removed
> them after my class was finished.
>
> Since I've been receiving a few emails enquiring about those exe files,
> I set up a web page where they can be downloaded:
>
> http://www.jaloxa.eu/resources/radiance/radwinexe.shtml
>
> Hope this makes setting up Windows Radiance a little easier for some of you.
>
> If you want to help with porting some of the old Radiance C shell
> scripts to Perl to make them work under Windows, please give me a shout.
>
> Regards
>
> Axel
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From miinchaca at gmail.com  Wed Mar 26 10:51:25 2014
From: miinchaca at gmail.com (minchaca)
Date: Wed, 26 Mar 2014 18:51:25 +0100
Subject: [Radiance-general] Using CFS for thermal analysis_II
Message-ID: <CAO0Bi3UsFNoLwqvMEkjXLK3RqRbu1wi5TCd1GvuDG4ijKK3mVQ@mail.gmail.com>

Hi Radiance experts

I'm coming with another question regarding the use of CFS (XML files) for
thermal simulations.

I posted the first part of this question in the 'Open Studio Forum' but
this time I'll try here.

I'm trying to use XML files of CFS that were generated by a
gonio-photometer based in Tregenza angle basis. Thanks to the the help of
some of you now I know that I have to transform first such file into the
Klems angle basis (using bsdf2klems) in order to be able to import it to
Window7 to then 'report' it to Energy Plus as idf file.

But... when I try to import the converted 'tregenza-to-klems' new XML file
into Window7 and calculate it, I get the message: XML error: WavelengthData
not found. Error: load BSDF layer=1
First we thought that the problem was the format of the new file (since all
the values were presented in only one column) but apparently that is not
the case.

If I try to import the file in its original format (tregenza) then i get:
the XML file contains data in the NIR wavelenght. Acceptable wavelenghts
are 'solar' and 'visible'.
I tried a normal simulation (to test the Klems converted file) and a
warning  message appears before generating the rendering: BSDF klems.xml
file has 103% transmission.

I wonder if someone here have any advice to solve this.

I'd like to ask also if anybody knows if this would be the same situation
using Diva for Rhino (if the programme makes difference between Klems and
Tregenza sky subdivisions).

I'll appreciate your help.

Chantal.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140326/84d7e778/attachment.html>

From gmolina at hdlao.com  Thu Mar 27 06:17:22 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Thu, 27 Mar 2014 10:17:22 -0300
Subject: [Radiance-general] Material properties measurement
Message-ID: <CAK+g53APhnwHRQzxOTx97hD9sJtoytH0TLxA=eEDe=daLNk_uQ@mail.gmail.com>

Dear Gurus,

I am working in a company that sells and manufactures Shading Devices and
some other things. I will probably have to measure and make a library of
materials and products.

We have a Spectrophotometer that returns CIELab color... and also a Gloss
meter. Is it possible to use those two devices to get materials?

Is there any .cal file that converts from CIELab to Radiance RGB? is GLoss
a way of cuantifying real "Radiance specularity"?

THANKS IN ADVANCE

-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/e0b4aa6c/attachment.html>

From cbm at create.aau.dk  Thu Mar 27 06:51:37 2014
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu, 27 Mar 2014 13:51:37 +0000
Subject: [Radiance-general] Conversion of RGB irradiance values to a
	illuminance value
Message-ID: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>



Dear list members,

I use hemi-spherical HDR images to compute a vertical irradiance value (W/m^2) for each color channel.

If I wish to compare/calibrate these numbers to a reading from a light meter (giving illuminance in Lux) how do I go about converting the three (RGB) irradiances to illuminance?

Cheers,
Claus

  [AAU_LOGO_RGB_UK_mail]

Claus B. Madsen

Assoc. Prof., Ph.D. | Department of Architecture and Media Technology



Phone: +45 9940 8788 | E-mail: cbm at create.aau.dk | Web: www.create.aau.dk/cbm

Aalborg University | Sofiendalsvej 11 | 9200 Aalborg SV | Denmark



Employee No.: 107255 | Vat No.: DK29102384



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/2c49316c/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 5445 bytes
Desc: image001.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/2c49316c/attachment.png>

From Christopher.Rush at arup.com  Thu Mar 27 07:44:40 2014
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu, 27 Mar 2014 14:44:40 +0000
Subject: [Radiance-general] Conversion of RGB irradiance values to
	a	illuminance value
In-Reply-To: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>
References: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>
Message-ID: <88079A360FAC7441AE93ECBF61998236113B3055@AMXExMb01.global.arup.com>

If I understand your situation correctly, I believe you would need to know the reflectance of the material at the point of the irradiance measurement to backtrack to illuminance for calibration. This works when the surface is Lambertian (diffuse), and much more difficult if there's any glossiness. For calibration purposes, people often include a photographic grey card of known reflectance in their scene and take actual luminance or illuminance meter measurements at the grey card.

From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]


I use hemi-spherical HDR images to compute a vertical irradiance value (W/m^2) for each color channel.

If I wish to compare/calibrate these numbers to a reading from a light meter (giving illuminance in Lux) how do I go about converting the three (RGB) irradiances to illuminance?

Cheers,
Claus

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/d7b0aecf/attachment-0001.html>

From cbm at create.aau.dk  Thu Mar 27 07:59:41 2014
From: cbm at create.aau.dk (=?iso-8859-1?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu, 27 Mar 2014 14:59:41 +0000
Subject: [Radiance-general] Conversion of RGB irradiance values
	to	a	illuminance value
In-Reply-To: <88079A360FAC7441AE93ECBF61998236113B3055@AMXExMb01.global.arup.com>
References: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>
	<88079A360FAC7441AE93ECBF61998236113B3055@AMXExMb01.global.arup.com>
Message-ID: <9013E154BAB3F24D97C18A4FEAB61036BF353F85@ad-exchmbx2-2.aau.dk>


Thanks Christopher,

My situation is a little different, I think.

I point to SIGMA 180 degree field-of-view lens vertically upwards and make a full hemisphere HDR image (radiance map) from that. I then integrate to get the vertical irradiance in each of the three color channels. These values are calibrated so they are in W/m^2.

Simultaneously, I place a light meter flat (sensor pointing vertically upwards) and take a reading. This reading is a single value in Lux.

So, how do I convert the three irradiances to a Lux value? Spectral integration, yes, but how exactly?

Cheers

From: Christopher Rush [mailto:Christopher.Rush at arup.com]
Sent: 27. marts 2014 15:45
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value

If I understand your situation correctly, I believe you would need to know the reflectance of the material at the point of the irradiance measurement to backtrack to illuminance for calibration. This works when the surface is Lambertian (diffuse), and much more difficult if there's any glossiness. For calibration purposes, people often include a photographic grey card of known reflectance in their scene and take actual luminance or illuminance meter measurements at the grey card.

From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]

I use hemi-spherical HDR images to compute a vertical irradiance value (W/m^2) for each color channel.

If I wish to compare/calibrate these numbers to a reading from a light meter (giving illuminance in Lux) how do I go about converting the three (RGB) irradiances to illuminance?

Cheers,
Claus


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/e2b6f059/attachment.html>

From gbetti at FosterandPartners.com  Thu Mar 27 08:19:59 2014
From: gbetti at FosterandPartners.com (Giovanni Betti)
Date: Thu, 27 Mar 2014 15:19:59 +0000
Subject: [Radiance-general] Conversion of RGB irradiance
	values	to	a	illuminance value
In-Reply-To: <9013E154BAB3F24D97C18A4FEAB61036BF353F85@ad-exchmbx2-2.aau.dk>
References: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>
	<88079A360FAC7441AE93ECBF61998236113B3055@AMXExMb01.global.arup.com>
	<9013E154BAB3F24D97C18A4FEAB61036BF353F85@ad-exchmbx2-2.aau.dk>
Message-ID: <36a8085461cb4d0dbb3d255360065b20@AM3PR02MB209.eurprd02.prod.outlook.com>

Claus,

Let me see if I can help here.
I am not sure what camera set up you have but I see it hard for you to be capturing a radiance map with your HDR images.
That would mean that your camera can record from the IR to the UV, well beyond the visible light only.
If that's the case, I want the same camera!

Otherwise, if you have a normal SLR fitted with a Sigma 180 fisheye, you'll likely be recording luminance maps. Integration of the brightness values (forget about colours) over the hemisphere will give you your illuminace reading at the focal point of the camera, to be compared with the reading from the lux meter.

Evalglare has a handy option to do this integration for you.

Hope this helps,

Giovanni

////////////////////////////////////////////////
Giovanni Betti
From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]
Sent: 27 March 2014 15:00
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value


Thanks Christopher,

My situation is a little different, I think.

I point to SIGMA 180 degree field-of-view lens vertically upwards and make a full hemisphere HDR image (radiance map) from that. I then integrate to get the vertical irradiance in each of the three color channels. These values are calibrated so they are in W/m^2.

Simultaneously, I place a light meter flat (sensor pointing vertically upwards) and take a reading. This reading is a single value in Lux.

So, how do I convert the three irradiances to a Lux value? Spectral integration, yes, but how exactly?

Cheers

From: Christopher Rush [mailto:Christopher.Rush at arup.com]
Sent: 27. marts 2014 15:45
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value

If I understand your situation correctly, I believe you would need to know the reflectance of the material at the point of the irradiance measurement to backtrack to illuminance for calibration. This works when the surface is Lambertian (diffuse), and much more difficult if there's any glossiness. For calibration purposes, people often include a photographic grey card of known reflectance in their scene and take actual luminance or illuminance meter measurements at the grey card.

From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]

I use hemi-spherical HDR images to compute a vertical irradiance value (W/m^2) for each color channel.

If I wish to compare/calibrate these numbers to a reading from a light meter (giving illuminance in Lux) how do I go about converting the three (RGB) irradiances to illuminance?

Cheers,
Claus


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/480df5bf/attachment-0001.html>

From cbm at create.aau.dk  Thu Mar 27 09:19:26 2014
From: cbm at create.aau.dk (=?Windows-1252?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu, 27 Mar 2014 16:19:26 +0000
Subject: [Radiance-general] Conversion of RGB
	irradiance	values	to	a	illuminance value
In-Reply-To: <36a8085461cb4d0dbb3d255360065b20@AM3PR02MB209.eurprd02.prod.outlook.com>
References: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>
	<88079A360FAC7441AE93ECBF61998236113B3055@AMXExMb01.global.arup.com>
	<9013E154BAB3F24D97C18A4FEAB61036BF353F85@ad-exchmbx2-2.aau.dk>,
	<36a8085461cb4d0dbb3d255360065b20@AM3PR02MB209.eurprd02.prod.outlook.com>
Message-ID: <7083F714-8211-4CF8-AAD1-B8BC6F851339@create.aau.dk>

Giovanni,

Thanks. You're right. My camera is band-limited as yours :-)

But then again. I don't think the light meter measures into IR nor UV, either.

The values of my HDR images are true radiance values, but for the three relatively narrow rgb bands respectively.

So, brightness values you say. But which of the many ways of converting from RGB to brightness do I choose? Which weighting if the color channels?

Best

- an iPhone mail

On 27/03/2014, at 16.23, "Giovanni Betti" <gbetti at FosterandPartners.com<mailto:gbetti at FosterandPartners.com>> wrote:

Claus,

Let me see if I can help here.
I am not sure what camera set up you have but I see it hard for you to be capturing a radiance map with your HDR images.
That would mean that your camera can record from the IR to the UV, well beyond the visible light only.
If that?s the case, I want the same camera!

Otherwise, if you have a normal SLR fitted with a Sigma 180 fisheye, you?ll likely be recording luminance maps. Integration of the brightness values (forget about colours) over the hemisphere will give you your illuminace reading at the focal point of the camera, to be compared with the reading from the lux meter.

Evalglare has a handy option to do this integration for you.

Hope this helps,

Giovanni

////////////////////////////////////////////////
Giovanni Betti
From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]
Sent: 27 March 2014 15:00
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value


Thanks Christopher,

My situation is a little different, I think.

I point to SIGMA 180 degree field-of-view lens vertically upwards and make a full hemisphere HDR image (radiance map) from that. I then integrate to get the vertical irradiance in each of the three color channels. These values are calibrated so they are in W/m^2.

Simultaneously, I place a light meter flat (sensor pointing vertically upwards) and take a reading. This reading is a single value in Lux.

So, how do I convert the three irradiances to a Lux value? Spectral integration, yes, but how exactly?

Cheers

From: Christopher Rush [mailto:Christopher.Rush at arup.com]
Sent: 27. marts 2014 15:45
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value

If I understand your situation correctly, I believe you would need to know the reflectance of the material at the point of the irradiance measurement to backtrack to illuminance for calibration. This works when the surface is Lambertian (diffuse), and much more difficult if there?s any glossiness. For calibration purposes, people often include a photographic grey card of known reflectance in their scene and take actual luminance or illuminance meter measurements at the grey card.

From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]

I use hemi-spherical HDR images to compute a vertical irradiance value (W/m^2) for each color channel.

If I wish to compare/calibrate these numbers to a reading from a light meter (giving illuminance in Lux) how do I go about converting the three (RGB) irradiances to illuminance?

Cheers,
Claus


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/d578b942/attachment.html>

From gbetti at FosterandPartners.com  Thu Mar 27 09:45:18 2014
From: gbetti at FosterandPartners.com (Giovanni Betti)
Date: Thu, 27 Mar 2014 16:45:18 +0000
Subject: [Radiance-general] Conversion of
	RGB	irradiance	values	to	a	illuminance value
In-Reply-To: <7083F714-8211-4CF8-AAD1-B8BC6F851339@create.aau.dk>
References: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>
	<88079A360FAC7441AE93ECBF61998236113B3055@AMXExMb01.global.arup.com>
	<9013E154BAB3F24D97C18A4FEAB61036BF353F85@ad-exchmbx2-2.aau.dk>,
	<36a8085461cb4d0dbb3d255360065b20@AM3PR02MB209.eurprd02.prod.outlook.com>
	<7083F714-8211-4CF8-AAD1-B8BC6F851339@create.aau.dk>
Message-ID: <7e1b955b99da483186412db20561519e@AM3PR02MB209.eurprd02.prod.outlook.com>

The values of your images are bound to be luminance (cd/m2)  not radiance (W/m2)

The standard radiance conversion from rgb to luminance (brightness) is 179*(R *.265 + G*.67 + B*.065)
Where 179is the standard luminous efficacy assumed by radiance.

However, evalglare will take care of all this for you.

Best,

G

////////////////////////////////////////////////
Giovanni Betti
From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]
Sent: 27 March 2014 16:19
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value

Giovanni,

Thanks. You're right. My camera is band-limited as yours :-)

But then again. I don't think the light meter measures into IR nor UV, either.

The values of my HDR images are true radiance values, but for the three relatively narrow rgb bands respectively.

So, brightness values you say. But which of the many ways of converting from RGB to brightness do I choose? Which weighting if the color channels?

Best

- an iPhone mail

On 27/03/2014, at 16.23, "Giovanni Betti" <gbetti at FosterandPartners.com<mailto:gbetti at FosterandPartners.com>> wrote:
Claus,

Let me see if I can help here.
I am not sure what camera set up you have but I see it hard for you to be capturing a radiance map with your HDR images.
That would mean that your camera can record from the IR to the UV, well beyond the visible light only.
If that's the case, I want the same camera!

Otherwise, if you have a normal SLR fitted with a Sigma 180 fisheye, you'll likely be recording luminance maps. Integration of the brightness values (forget about colours) over the hemisphere will give you your illuminace reading at the focal point of the camera, to be compared with the reading from the lux meter.

Evalglare has a handy option to do this integration for you.

Hope this helps,

Giovanni

////////////////////////////////////////////////
Giovanni Betti
From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]
Sent: 27 March 2014 15:00
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value


Thanks Christopher,

My situation is a little different, I think.

I point to SIGMA 180 degree field-of-view lens vertically upwards and make a full hemisphere HDR image (radiance map) from that. I then integrate to get the vertical irradiance in each of the three color channels. These values are calibrated so they are in W/m^2.

Simultaneously, I place a light meter flat (sensor pointing vertically upwards) and take a reading. This reading is a single value in Lux.

So, how do I convert the three irradiances to a Lux value? Spectral integration, yes, but how exactly?

Cheers

From: Christopher Rush [mailto:Christopher.Rush at arup.com]
Sent: 27. marts 2014 15:45
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value

If I understand your situation correctly, I believe you would need to know the reflectance of the material at the point of the irradiance measurement to backtrack to illuminance for calibration. This works when the surface is Lambertian (diffuse), and much more difficult if there's any glossiness. For calibration purposes, people often include a photographic grey card of known reflectance in their scene and take actual luminance or illuminance meter measurements at the grey card.

From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]

I use hemi-spherical HDR images to compute a vertical irradiance value (W/m^2) for each color channel.

If I wish to compare/calibrate these numbers to a reading from a light meter (giving illuminance in Lux) how do I go about converting the three (RGB) irradiances to illuminance?

Cheers,
Claus


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/d9c8984c/attachment-0001.html>

From cbm at create.aau.dk  Thu Mar 27 10:31:19 2014
From: cbm at create.aau.dk (=?Windows-1252?Q?Claus_Br=F8ndgaard_Madsen?=)
Date: Thu, 27 Mar 2014 17:31:19 +0000
Subject: [Radiance-general] Conversion
	of	RGB	irradiance	values	to	a	illuminance value
In-Reply-To: <7e1b955b99da483186412db20561519e@AM3PR02MB209.eurprd02.prod.outlook.com>
References: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>
	<88079A360FAC7441AE93ECBF61998236113B3055@AMXExMb01.global.arup.com>
	<9013E154BAB3F24D97C18A4FEAB61036BF353F85@ad-exchmbx2-2.aau.dk>,
	<36a8085461cb4d0dbb3d255360065b20@AM3PR02MB209.eurprd02.prod.outlook.com>
	<7083F714-8211-4CF8-AAD1-B8BC6F851339@create.aau.dk>,
	<7e1b955b99da483186412db20561519e@AM3PR02MB209.eurprd02.prod.outlook.com>
Message-ID: <EFB28475-1F77-495C-9179-EDF2AB4E7CD9@create.aau.dk>


There must be some kind of misunderstanding.

RAW image (or HDR image made using a calibrated response curve) pixel values are, up to a global image scaling factor, radiance values measured in W/(m^2 * sr), in the each of the three bands. If my pixels were luminance values I wouldn't have the problem of converting RGB to brightness as everything would already by weighted with the human response/sensitivity function. Luminance can't be separated into frequency bands, it's a weighted spectral integration over the entire frequency domain. If not, I am totally baffled :-)

Irradiance is in W/m^2 and I get that from hemispherical cosine weighted integration.

I'm pretty sure we are somehow talking past each other, though.


- an iPad mail

On 27/03/2014, at 17.48, "Giovanni Betti" <gbetti at FosterandPartners.com<mailto:gbetti at FosterandPartners.com>> wrote:

The values of your images are bound to be luminance (cd/m2)  not radiance (W/m2)

The standard radiance conversion from rgb to luminance (brightness) is 179*(R *.265 + G*.67 + B*.065)
Where 179is the standard luminous efficacy assumed by radiance.

However, evalglare will take care of all this for you.

Best,

G

////////////////////////////////////////////////
Giovanni Betti
From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]
Sent: 27 March 2014 16:19
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value

Giovanni,

Thanks. You're right. My camera is band-limited as yours :-)

But then again. I don't think the light meter measures into IR nor UV, either.

The values of my HDR images are true radiance values, but for the three relatively narrow rgb bands respectively.

So, brightness values you say. But which of the many ways of converting from RGB to brightness do I choose? Which weighting if the color channels?

Best

- an iPhone mail

On 27/03/2014, at 16.23, "Giovanni Betti" <gbetti at FosterandPartners.com<mailto:gbetti at FosterandPartners.com>> wrote:
Claus,

Let me see if I can help here.
I am not sure what camera set up you have but I see it hard for you to be capturing a radiance map with your HDR images.
That would mean that your camera can record from the IR to the UV, well beyond the visible light only.
If that?s the case, I want the same camera!

Otherwise, if you have a normal SLR fitted with a Sigma 180 fisheye, you?ll likely be recording luminance maps. Integration of the brightness values (forget about colours) over the hemisphere will give you your illuminace reading at the focal point of the camera, to be compared with the reading from the lux meter.

Evalglare has a handy option to do this integration for you.

Hope this helps,

Giovanni

////////////////////////////////////////////////
Giovanni Betti
From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]
Sent: 27 March 2014 15:00
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value


Thanks Christopher,

My situation is a little different, I think.

I point to SIGMA 180 degree field-of-view lens vertically upwards and make a full hemisphere HDR image (radiance map) from that. I then integrate to get the vertical irradiance in each of the three color channels. These values are calibrated so they are in W/m^2.

Simultaneously, I place a light meter flat (sensor pointing vertically upwards) and take a reading. This reading is a single value in Lux.

So, how do I convert the three irradiances to a Lux value? Spectral integration, yes, but how exactly?

Cheers

From: Christopher Rush [mailto:Christopher.Rush at arup.com]
Sent: 27. marts 2014 15:45
To: Radiance general discussion
Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value

If I understand your situation correctly, I believe you would need to know the reflectance of the material at the point of the irradiance measurement to backtrack to illuminance for calibration. This works when the surface is Lambertian (diffuse), and much more difficult if there?s any glossiness. For calibration purposes, people often include a photographic grey card of known reflectance in their scene and take actual luminance or illuminance meter measurements at the grey card.

From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]

I use hemi-spherical HDR images to compute a vertical irradiance value (W/m^2) for each color channel.

If I wish to compare/calibrate these numbers to a reading from a light meter (giving illuminance in Lux) how do I go about converting the three (RGB) irradiances to illuminance?

Cheers,
Claus


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general
_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/412889a7/attachment.html>

From amcneil at lbl.gov  Thu Mar 27 13:05:26 2014
From: amcneil at lbl.gov (Andrew McNeil)
Date: Thu, 27 Mar 2014 13:05:26 -0700
Subject: [Radiance-general] Using CFS for thermal analysis_II
In-Reply-To: <CAO0Bi3UsFNoLwqvMEkjXLK3RqRbu1wi5TCd1GvuDG4ijKK3mVQ@mail.gmail.com>
References: <CAO0Bi3UsFNoLwqvMEkjXLK3RqRbu1wi5TCd1GvuDG4ijKK3mVQ@mail.gmail.com>
Message-ID: <CAOG+NizQ0b0rTf8--AFGE2HdAXSkbRLL_59SB+e0JvU_RkerEw@mail.gmail.com>

Chantal,
Can you send me the xml files you're using? I suspect there might be
something wrong with the xml format.
Thanks,
Andy


On Wed, Mar 26, 2014 at 10:51 AM, minchaca <miinchaca at gmail.com> wrote:

> Hi Radiance experts
>
> I'm coming with another question regarding the use of CFS (XML files) for
> thermal simulations.
>
> I posted the first part of this question in the 'Open Studio Forum' but
> this time I'll try here.
>
> I'm trying to use XML files of CFS that were generated by a
> gonio-photometer based in Tregenza angle basis. Thanks to the the help of
> some of you now I know that I have to transform first such file into the
> Klems angle basis (using bsdf2klems) in order to be able to import it to
> Window7 to then 'report' it to Energy Plus as idf file.
>
> But... when I try to import the converted 'tregenza-to-klems' new XML file
> into Window7 and calculate it, I get the message: XML error: WavelengthData
> not found. Error: load BSDF layer=1
> First we thought that the problem was the format of the new file (since
> all the values were presented in only one column) but apparently that is
> not the case.
>
> If I try to import the file in its original format (tregenza) then i get:
> the XML file contains data in the NIR wavelenght. Acceptable wavelenghts
> are 'solar' and 'visible'.
> I tried a normal simulation (to test the Klems converted file) and a
> warning  message appears before generating the rendering: BSDF klems.xml
> file has 103% transmission.
>
> I wonder if someone here have any advice to solve this.
>
> I'd like to ask also if anybody knows if this would be the same situation
> using Diva for Rhino (if the programme makes difference between Klems and
> Tregenza sky subdivisions).
>
> I'll appreciate your help.
>
> Chantal.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/f3849e1d/attachment.html>

From michael at coolshadow.com  Thu Mar 27 13:47:55 2014
From: michael at coolshadow.com (Michael Martinez)
Date: Thu, 27 Mar 2014 13:47:55 -0700
Subject: [Radiance-general] Material properties measurement
In-Reply-To: <CAK+g53APhnwHRQzxOTx97hD9sJtoytH0TLxA=eEDe=daLNk_uQ@mail.gmail.com>
References: <CAK+g53APhnwHRQzxOTx97hD9sJtoytH0TLxA=eEDe=daLNk_uQ@mail.gmail.com>
Message-ID: <0498E5D3-260E-4938-86DF-D40B712203D1@coolshadow.com>

Hi German, 

Axel Jacobs' colour picker has a CIELab to Radiance RBG converter under the Import tab:
http://www.jaloxa.eu/resources/radiance/colour_picker/index.shtml

Also curious to hear if/how folks have used a gloss meter for specular measurements... 

Mike




On Mar 27, 2014, at 6:17 AM, CHI-German Molina wrote:

> Dear Gurus, 
> 
> I am working in a company that sells and manufactures Shading Devices and some other things. I will probably have to measure and make a library of materials and products.
> 
> We have a Spectrophotometer that returns CIELab color... and also a Gloss meter. Is it possible to use those two devices to get materials?
> 
> Is there any .cal file that converts from CIELab to Radiance RGB? is GLoss a way of cuantifying real "Radiance specularity"?
> 
> THANKS IN ADVANCE
> 
> -- 
> Germ?n Molina L.
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
> 
> Nota de Confidencialidad: Este mensaje inclu?do los archivos adjuntos son confidenciales y pueden contener informacion privilegiada protegida por ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes electronicos son susceptibles de ser cambiados, infectados o adulterados sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de cambios o sus consecuencias. Usted debe estar informado que la compania puede hacer un seguimiento de sus mensajes electronicos y su contenido, gracias.
> 
> Confidentiality Notice: The information contained in this email message, including any attachment, is confidential and is intended only for the person or entity to which it is addressed. If you are neither the intended recipient nor the employee or agent responsible for delivering this message to the intended recipient, you are hereby notified that you may not review, retransmit, convert to hard copy, copy, use or distribute this email message or any attachments to it. If you have received this email in error, please contact the sender immediately and delete this message from any computer or other data bank, Thank you.
> 
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir responsabilidade por nenhuma perda ou dano causado por este e-mail ou de seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de antiv?rus antes de qualquer uso.
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/2b36b8d9/attachment.html>

From gmolina at hdlao.com  Thu Mar 27 13:56:54 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Thu, 27 Mar 2014 17:56:54 -0300
Subject: [Radiance-general] Material properties measurement
In-Reply-To: <0498E5D3-260E-4938-86DF-D40B712203D1@coolshadow.com>
References: <CAK+g53APhnwHRQzxOTx97hD9sJtoytH0TLxA=eEDe=daLNk_uQ@mail.gmail.com>
	<0498E5D3-260E-4938-86DF-D40B712203D1@coolshadow.com>
Message-ID: <CAK+g53CEPj1xueNwM2jAKF6Sb5ND8YKhZ5FZz-nvz00OAWQD5w@mail.gmail.com>

Thanks!

Any idea if the X, Y and Z options there are, actually, the L, *a, *b?

Still courious about the gloss... I read, somewhere I havent been able to
find again, that they did not really work.

Bye!


2014-03-27 17:47 GMT-03:00 Michael Martinez <michael at coolshadow.com>:

> Hi German,
>
> Axel Jacobs' colour picker has a CIELab to Radiance RBG converter under
> the Import tab:
> http://www.jaloxa.eu/resources/radiance/colour_picker/index.shtml
>
> Also curious to hear if/how folks have used a gloss meter for specular
> measurements...
>
> Mike
>
>
>
>
> On Mar 27, 2014, at 6:17 AM, CHI-German Molina wrote:
>
> Dear Gurus,
>
> I am working in a company that sells and manufactures Shading Devices and
> some other things. I will probably have to measure and make a library of
> materials and products.
>
> We have a Spectrophotometer that returns CIELab color... and also a Gloss
> meter. Is it possible to use those two devices to get materials?
>
> Is there any .cal file that converts from CIELab to Radiance RGB? is GLoss
> a way of cuantifying real "Radiance specularity"?
>
> THANKS IN ADVANCE
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
> son confidenciales y pueden contener informacion privilegiada protegida por
> ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
> distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise
> inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes
> electronicos son susceptibles de ser cambiados, infectados o adulterados
> sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de
> cambios o sus consecuencias. Usted debe estar informado que la compania
> puede hacer un seguimiento de sus mensajes electronicos y su contenido,
> gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only for
> the person or entity to which it is addressed. If you are neither the
> intended recipient nor the employee or agent responsible for delivering
> this message to the intended recipient, you are hereby notified that you
> may not review, retransmit, convert to hard copy, copy, use or distribute
> this email message or any attachments to it. If you have received this
> email in error, please contact the sender immediately and delete this
> message from any computer or other data bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de
> pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este
> e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir
> responsabilidade por nenhuma perda ou dano causado por este e-mail ou de
> seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de
> antiv?rus antes de qualquer uso.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>


-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/a289c3b3/attachment-0001.html>

From jacobs.axel at gmail.com  Thu Mar 27 14:34:27 2014
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Thu, 27 Mar 2014 21:34:27 +0000
Subject: [Radiance-general] Material properties measurement
In-Reply-To: <CAK+g53CEPj1xueNwM2jAKF6Sb5ND8YKhZ5FZz-nvz00OAWQD5w@mail.gmail.com>
References: <CAK+g53APhnwHRQzxOTx97hD9sJtoytH0TLxA=eEDe=daLNk_uQ@mail.gmail.com>	<0498E5D3-260E-4938-86DF-D40B712203D1@coolshadow.com>
	<CAK+g53CEPj1xueNwM2jAKF6Sb5ND8YKhZ5FZz-nvz00OAWQD5w@mail.gmail.com>
Message-ID: <53349963.2080203@gmail.com>

Hi German,

the colour picker can be a little flaky in browsers other than Firefox. 
  It sounds as if the selector (XYZ/xyY/CMYK/Lab) is not working for 
you?  Please be aware that the Lab conversion only has an amber traffic 
light, which means it kind of works, but might not 100% reliable, or 
hasn't been tested very thoroughly.

This page allows you to launch the CP in a smaller pop-up window, which 
I think looks nicer:
http://www.jaloxa.eu/resources/radiance/colour_picker.shtml

Best

Axel

On 27/03/14 20:56, CHI-German Molina wrote:
> Thanks!
>
> Any idea if the X, Y and Z options there are, actually, the L, *a, *b?
>
> Still courious about the gloss... I read, somewhere I havent been able
> to find again, that they did not really work.
>
> Bye!
>
>
> 2014-03-27 17:47 GMT-03:00 Michael Martinez <michael at coolshadow.com
> <mailto:michael at coolshadow.com>>:
>
>     Hi German,
>
>     Axel Jacobs' colour picker has a CIELab to Radiance RBG converter
>     under the Import tab:
>     http://www.jaloxa.eu/resources/radiance/colour_picker/index.shtml
>
>     Also curious to hear if/how folks have used a gloss meter for
>     specular measurements...
>
>     Mike
>
>
>
>
>     On Mar 27, 2014, at 6:17 AM, CHI-German Molina wrote:
>
>>     Dear Gurus,
>>
>>     I am working in a company that sells and manufactures Shading
>>     Devices and some other things. I will probably have to measure and
>>     make a library of materials and products.
>>
>>     We have a Spectrophotometer that returns CIELab color... and also
>>     a Gloss meter. Is it possible to use those two devices to get
>>     materials?
>>
>>     Is there any .cal file that converts from CIELab to Radiance RGB?
>>     is GLoss a way of cuantifying real "Radiance specularity"?
>>
>>     THANKS IN ADVANCE
>>
>>     --
>>     *Germ?n Molina L.*
>>     Ingeniero Trainee
>>     Hunter Douglas Chile S.A.
>>     Celular +569 89224445 <tel:%2B569%2089224445>
>>
>>     *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>     adjuntos son confidenciales y pueden contener informacion
>>     privilegiada protegida por ley. Si Ud. no es el destinatario,
>>     deberia abstenerse de copiarlo, distribuirlo, divulgarlo o usar la
>>     informacion contenida. Por favor, avise inmediatamente al emisor y
>>     borre este mensaje de su sistema. Los mensajes electronicos son
>>     susceptibles de ser cambiados, infectados o adulterados sin
>>     autorizacion. No asumimos responsabilidad alguna por ninguna clase
>>     de cambios o sus consecuencias. Usted debe estar informado que la
>>     compania puede hacer un seguimiento de sus mensajes electronicos y
>>     su contenido, gracias.
>>
>>     *Confidentiality Notice:* The information contained in this email
>>     message, including any attachment, is confidential and is intended
>>     only for the person or entity to which it is addressed. If you are
>>     neither the intended recipient nor the employee or agent
>>     responsible for delivering this message to the intended recipient,
>>     you are hereby notified that you may not review, retransmit,
>>     convert to hard copy, copy, use or distribute this email message
>>     or any attachments to it. If you have received this email in
>>     error, please contact the sender immediately and delete this
>>     message from any computer or other data bank, Thank you.
>>
>>     A informa??o transmitida ? confidencial e para conhecimento
>>     exclusivo do destinat?rio. Sua utiliza??o, n?o autorizada,
>>     constitui crime pass?vel de pris?o. Todas as precau??es poss?veis
>>     foram tomadas para garantir que este e-mail n?o contenha v?rus.
>>     Uma vez que nossa empresa n?o pode assumir responsabilidade por
>>     nenhuma perda ou dano causado por este e-mail ou de seus anexos,
>>     recomendamos que o destinat?rio utilize seus procedimentos de
>>     antiv?rus antes de qualquer uso.
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org
>>     <mailto:Radiance-general at radiance-online.org>
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>     _______________________________________________
>     Radiance-general mailing list
>     Radiance-general at radiance-online.org
>     <mailto:Radiance-general at radiance-online.org>
>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> --
> *Germ?n Molina L.*
> Ingeniero Trainee
> Hunter Douglas Chile S.A.
> Celular +569 89224445
>
> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
> son confidenciales y pueden contener informacion privilegiada protegida
> por ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
> distribuirlo, divulgarlo o usar la informacion contenida. Por favor,
> avise inmediatamente al emisor y borre este mensaje de su sistema. Los
> mensajes electronicos son susceptibles de ser cambiados, infectados o
> adulterados sin autorizacion. No asumimos responsabilidad alguna por
> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
> que la compania puede hacer un seguimiento de sus mensajes electronicos
> y su contenido, gracias.
>
> *Confidentiality Notice:* The information contained in this email
> message, including any attachment, is confidential and is intended only
> for the person or entity to which it is addressed. If you are neither
> the intended recipient nor the employee or agent responsible for
> delivering this message to the intended recipient, you are hereby
> notified that you may not review, retransmit, convert to hard copy,
> copy, use or distribute this email message or any attachments to it. If
> you have received this email in error, please contact the sender
> immediately and delete this message from any computer or other data
> bank, Thank you.
>
> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode
> assumir responsabilidade por nenhuma perda ou dano causado por este
> e-mail ou de seus anexos, recomendamos que o destinat?rio utilize seus
> procedimentos de antiv?rus antes de qualquer uso.
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



From gmolina at hdlao.com  Fri Mar 28 04:40:43 2014
From: gmolina at hdlao.com (CHI-German Molina)
Date: Fri, 28 Mar 2014 08:40:43 -0300
Subject: [Radiance-general] Material properties measurement
In-Reply-To: <53349963.2080203@gmail.com>
References: <CAK+g53APhnwHRQzxOTx97hD9sJtoytH0TLxA=eEDe=daLNk_uQ@mail.gmail.com>
	<0498E5D3-260E-4938-86DF-D40B712203D1@coolshadow.com>
	<CAK+g53CEPj1xueNwM2jAKF6Sb5ND8YKhZ5FZz-nvz00OAWQD5w@mail.gmail.com>
	<53349963.2080203@gmail.com>
Message-ID: <CAK+g53BtO1CxWQyMwed50P64jSEAzUCc9fGXvMLnYHDjW7R63g@mail.gmail.com>

Thanks Axel, that worked pefectly on Firefox.

I will wait for the Gloss information, and I would be ready to go.

Thanks


2014-03-27 18:34 GMT-03:00 Axel Jacobs <jacobs.axel at gmail.com>:

> Hi German,
>
> the colour picker can be a little flaky in browsers other than Firefox.
>  It sounds as if the selector (XYZ/xyY/CMYK/Lab) is not working for you?
>  Please be aware that the Lab conversion only has an amber traffic light,
> which means it kind of works, but might not 100% reliable, or hasn't been
> tested very thoroughly.
>
> This page allows you to launch the CP in a smaller pop-up window, which I
> think looks nicer:
> http://www.jaloxa.eu/resources/radiance/colour_picker.shtml
>
> Best
>
> Axel
>
>
> On 27/03/14 20:56, CHI-German Molina wrote:
>
>> Thanks!
>>
>> Any idea if the X, Y and Z options there are, actually, the L, *a, *b?
>>
>> Still courious about the gloss... I read, somewhere I havent been able
>> to find again, that they did not really work.
>>
>> Bye!
>>
>>
>> 2014-03-27 17:47 GMT-03:00 Michael Martinez <michael at coolshadow.com
>> <mailto:michael at coolshadow.com>>:
>>
>>
>>     Hi German,
>>
>>     Axel Jacobs' colour picker has a CIELab to Radiance RBG converter
>>     under the Import tab:
>>     http://www.jaloxa.eu/resources/radiance/colour_picker/index.shtml
>>
>>     Also curious to hear if/how folks have used a gloss meter for
>>     specular measurements...
>>
>>     Mike
>>
>>
>>
>>
>>     On Mar 27, 2014, at 6:17 AM, CHI-German Molina wrote:
>>
>>      Dear Gurus,
>>>
>>>     I am working in a company that sells and manufactures Shading
>>>     Devices and some other things. I will probably have to measure and
>>>     make a library of materials and products.
>>>
>>>     We have a Spectrophotometer that returns CIELab color... and also
>>>     a Gloss meter. Is it possible to use those two devices to get
>>>     materials?
>>>
>>>     Is there any .cal file that converts from CIELab to Radiance RGB?
>>>     is GLoss a way of cuantifying real "Radiance specularity"?
>>>
>>>     THANKS IN ADVANCE
>>>
>>>     --
>>>     *Germ?n Molina L.*
>>>
>>>     Ingeniero Trainee
>>>     Hunter Douglas Chile S.A.
>>>     Celular +569 89224445 <tel:%2B569%2089224445>
>>>
>>>     *Nota de Confidencialidad:* Este mensaje inclu?do los archivos
>>>
>>>     adjuntos son confidenciales y pueden contener informacion
>>>     privilegiada protegida por ley. Si Ud. no es el destinatario,
>>>     deberia abstenerse de copiarlo, distribuirlo, divulgarlo o usar la
>>>     informacion contenida. Por favor, avise inmediatamente al emisor y
>>>     borre este mensaje de su sistema. Los mensajes electronicos son
>>>     susceptibles de ser cambiados, infectados o adulterados sin
>>>     autorizacion. No asumimos responsabilidad alguna por ninguna clase
>>>     de cambios o sus consecuencias. Usted debe estar informado que la
>>>     compania puede hacer un seguimiento de sus mensajes electronicos y
>>>     su contenido, gracias.
>>>
>>>     *Confidentiality Notice:* The information contained in this email
>>>
>>>     message, including any attachment, is confidential and is intended
>>>     only for the person or entity to which it is addressed. If you are
>>>     neither the intended recipient nor the employee or agent
>>>     responsible for delivering this message to the intended recipient,
>>>     you are hereby notified that you may not review, retransmit,
>>>     convert to hard copy, copy, use or distribute this email message
>>>     or any attachments to it. If you have received this email in
>>>     error, please contact the sender immediately and delete this
>>>     message from any computer or other data bank, Thank you.
>>>
>>>     A informa??o transmitida ? confidencial e para conhecimento
>>>     exclusivo do destinat?rio. Sua utiliza??o, n?o autorizada,
>>>     constitui crime pass?vel de pris?o. Todas as precau??es poss?veis
>>>     foram tomadas para garantir que este e-mail n?o contenha v?rus.
>>>     Uma vez que nossa empresa n?o pode assumir responsabilidade por
>>>     nenhuma perda ou dano causado por este e-mail ou de seus anexos,
>>>     recomendamos que o destinat?rio utilize seus procedimentos de
>>>     antiv?rus antes de qualquer uso.
>>>
>>>     _______________________________________________
>>>     Radiance-general mailing list
>>>     Radiance-general at radiance-online.org
>>>     <mailto:Radiance-general at radiance-online.org>
>>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org
>>     <mailto:Radiance-general at radiance-online.org>
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> --
>> *Germ?n Molina L.*
>>
>> Ingeniero Trainee
>> Hunter Douglas Chile S.A.
>> Celular +569 89224445
>>
>> *Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos
>>
>> son confidenciales y pueden contener informacion privilegiada protegida
>> por ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo,
>> distribuirlo, divulgarlo o usar la informacion contenida. Por favor,
>> avise inmediatamente al emisor y borre este mensaje de su sistema. Los
>> mensajes electronicos son susceptibles de ser cambiados, infectados o
>> adulterados sin autorizacion. No asumimos responsabilidad alguna por
>> ninguna clase de cambios o sus consecuencias. Usted debe estar informado
>> que la compania puede hacer un seguimiento de sus mensajes electronicos
>> y su contenido, gracias.
>>
>> *Confidentiality Notice:* The information contained in this email
>>
>> message, including any attachment, is confidential and is intended only
>> for the person or entity to which it is addressed. If you are neither
>> the intended recipient nor the employee or agent responsible for
>> delivering this message to the intended recipient, you are hereby
>> notified that you may not review, retransmit, convert to hard copy,
>> copy, use or distribute this email message or any attachments to it. If
>> you have received this email in error, please contact the sender
>> immediately and delete this message from any computer or other data
>> bank, Thank you.
>>
>> A informa??o transmitida ? confidencial e para conhecimento exclusivo do
>> destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel
>> de pris?o. Todas as precau??es poss?veis foram tomadas para garantir que
>> este e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode
>> assumir responsabilidade por nenhuma perda ou dano causado por este
>> e-mail ou de seus anexos, recomendamos que o destinat?rio utilize seus
>> procedimentos de antiv?rus antes de qualquer uso.
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



-- 
*Germ?n Molina L.*
Ingeniero Trainee
Hunter Douglas Chile S.A.
Celular +569 89224445

-- 


*Nota de Confidencialidad:* Este mensaje inclu?do los archivos adjuntos son 
confidenciales y pueden contener informacion privilegiada protegida por 
ley. Si Ud. no es el destinatario, deberia abstenerse de copiarlo, 
distribuirlo, divulgarlo o usar la informacion contenida. Por favor, avise 
inmediatamente al emisor y borre este mensaje de su sistema. Los mensajes 
electronicos son susceptibles de ser cambiados, infectados o adulterados 
sin autorizacion. No asumimos responsabilidad alguna por ninguna clase de 
cambios o sus consecuencias. Usted debe estar informado que la compania 
puede hacer un seguimiento de sus mensajes electronicos y su contenido, 
gracias.

*Confidentiality Notice:* The information contained in this email message, 
including any attachment, is confidential and is intended only for the 
person or entity to which it is addressed. If you are neither the intended 
recipient nor the employee or agent responsible for delivering this message 
to the intended recipient, you are hereby notified that you may not review, 
retransmit, convert to hard copy, copy, use or distribute this email 
message or any attachments to it. If you have received this email in error, 
please contact the sender immediately and delete this message from any 
computer or other data bank, Thank you.

A informa??o transmitida ? confidencial e para conhecimento exclusivo do 
destinat?rio. Sua utiliza??o, n?o autorizada, constitui crime pass?vel de 
pris?o. Todas as precau??es poss?veis foram tomadas para garantir que este 
e-mail n?o contenha v?rus. Uma vez que nossa empresa n?o pode assumir 
responsabilidade por nenhuma perda ou dano causado por este e-mail ou de 
seus anexos, recomendamos que o destinat?rio utilize seus procedimentos de 
antiv?rus antes de qualquer uso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140328/33f2e60d/attachment-0001.html>

From miinchaca at gmail.com  Fri Mar 28 05:04:13 2014
From: miinchaca at gmail.com (minchaca)
Date: Fri, 28 Mar 2014 13:04:13 +0100
Subject: [Radiance-general] Using CFS for thermal analysis_II
In-Reply-To: <CAOG+NizQ0b0rTf8--AFGE2HdAXSkbRLL_59SB+e0JvU_RkerEw@mail.gmail.com>
References: <CAO0Bi3UsFNoLwqvMEkjXLK3RqRbu1wi5TCd1GvuDG4ijKK3mVQ@mail.gmail.com>
	<CAOG+NizQ0b0rTf8--AFGE2HdAXSkbRLL_59SB+e0JvU_RkerEw@mail.gmail.com>
Message-ID: <CAO0Bi3Wmh_fcGjbOBVFsDVH4Gb6wUA37tn3frFij=8hLJfeUtg@mail.gmail.com>

Yes, I'll do that...thanks Andy!

Chantal.


2014-03-27 21:05 GMT+01:00 Andrew McNeil <amcneil at lbl.gov>:

> Chantal,
> Can you send me the xml files you're using? I suspect there might be
> something wrong with the xml format.
> Thanks,
> Andy
>
>
> On Wed, Mar 26, 2014 at 10:51 AM, minchaca <miinchaca at gmail.com> wrote:
>
>> Hi Radiance experts
>>
>> I'm coming with another question regarding the use of CFS (XML files) for
>> thermal simulations.
>>
>> I posted the first part of this question in the 'Open Studio Forum' but
>> this time I'll try here.
>>
>> I'm trying to use XML files of CFS that were generated by a
>> gonio-photometer based in Tregenza angle basis. Thanks to the the help of
>> some of you now I know that I have to transform first such file into the
>> Klems angle basis (using bsdf2klems) in order to be able to import it to
>> Window7 to then 'report' it to Energy Plus as idf file.
>>
>> But... when I try to import the converted 'tregenza-to-klems' new XML
>> file into Window7 and calculate it, I get the message: XML error:
>> WavelengthData not found. Error: load BSDF layer=1
>> First we thought that the problem was the format of the new file (since
>> all the values were presented in only one column) but apparently that is
>> not the case.
>>
>> If I try to import the file in its original format (tregenza) then i get:
>> the XML file contains data in the NIR wavelenght. Acceptable wavelenghts
>> are 'solar' and 'visible'.
>> I tried a normal simulation (to test the Klems converted file) and a
>> warning  message appears before generating the rendering: BSDF klems.xml
>> file has 103% transmission.
>>
>> I wonder if someone here have any advice to solve this.
>>
>> I'd like to ask also if anybody knows if this would be the same situation
>> using Diva for Rhino (if the programme makes difference between Klems and
>> Tregenza sky subdivisions).
>>
>> I'll appreciate your help.
>>
>> Chantal.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140328/062fda41/attachment.html>

From geotrupes at me.com  Thu Mar 27 16:34:21 2014
From: geotrupes at me.com (giulioandrea antonutto foi)
Date: Thu, 27 Mar 2014 23:34:21 +0000
Subject: [Radiance-general] Conversion
	of	RGB	irradiance	values	to	a	illuminance value
In-Reply-To: <EFB28475-1F77-495C-9179-EDF2AB4E7CD9@create.aau.dk>
References: <9013E154BAB3F24D97C18A4FEAB61036BF353D19@ad-exchmbx2-2.aau.dk>
	<88079A360FAC7441AE93ECBF61998236113B3055@AMXExMb01.global.arup.com>
	<9013E154BAB3F24D97C18A4FEAB61036BF353F85@ad-exchmbx2-2.aau.dk>
	<36a8085461cb4d0dbb3d255360065b20@AM3PR02MB209.eurprd02.prod.outlook.com>
	<7083F714-8211-4CF8-AAD1-B8BC6F851339@create.aau.dk>
	<7e1b955b99da483186412db20561519e@AM3PR02MB209.eurprd02.prod.outlook.com>
	<EFB28475-1F77-495C-9179-EDF2AB4E7CD9@create.aau.dk>
Message-ID: <149810D1-04EC-4B0A-9CCF-A818D9A8F10D@me.com>

I think you should try Giovanni suggestion. Meaning not to listen to but really trying to do what he is suggesting.
So, start by converting image to HDR.
HDR has 3 channels that contribute to luminance as Giovanni is saying.
The integral of the image (you can write your own script to do that, see IESNA handbook) will give you illuminance.
The same way a picture in radiance can give you illuminance. Just a conversion factor.
If the numbers are far off there is an issue with luminance calibration or simply with wignetting of the lens.
We have been doing this for years and it works? but we use posh Leicas to do so (we edit the exif file as lenses do not record f stops...).
G>


On 27 Mar 2014, at 17:31, Claus Br?ndgaard Madsen <cbm at create.aau.dk> wrote:

> 
> There must be some kind of misunderstanding. 
> 
> RAW image (or HDR image made using a calibrated response curve) pixel values are, up to a global image scaling factor, radiance values measured in W/(m^2 * sr), in the each of the three bands. If my pixels were luminance values I wouldn't have the problem of converting RGB to brightness as everything would already by weighted with the human response/sensitivity function. Luminance can't be separated into frequency bands, it's a weighted spectral integration over the entire frequency domain. If not, I am totally baffled :-)
> 
> Irradiance is in W/m^2 and I get that from hemispherical cosine weighted integration. 
> 
> I'm pretty sure we are somehow talking past each other, though.
> 
> 
> - an iPad mail
> 
> On 27/03/2014, at 17.48, "Giovanni Betti" <gbetti at FosterandPartners.com> wrote:
> 
>> The values of your images are bound to be luminance (cd/m2)  not radiance (W/m2)
>>  
>> The standard radiance conversion from rgb to luminance (brightness) is 179*(R *.265 + G*.67 + B*.065)
>> Where 179is the standard luminous efficacy assumed by radiance.
>>  
>> However, evalglare will take care of all this for you.
>>  
>> Best,
>>  
>> G
>>  
>> ////////////////////////////////////////////////
>> Giovanni Betti
>> From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk] 
>> Sent: 27 March 2014 16:19
>> To: Radiance general discussion
>> Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value
>>  
>> Giovanni,
>>  
>> Thanks. You're right. My camera is band-limited as yours :-)
>>  
>> But then again. I don't think the light meter measures into IR nor UV, either. 
>>  
>> The values of my HDR images are true radiance values, but for the three relatively narrow rgb bands respectively. 
>>  
>> So, brightness values you say. But which of the many ways of converting from RGB to brightness do I choose? Which weighting if the color channels?
>>  
>> Best
>> 
>> - an iPhone mail
>> 
>> On 27/03/2014, at 16.23, "Giovanni Betti" <gbetti at FosterandPartners.com> wrote:
>> 
>> Claus,
>>  
>> Let me see if I can help here.
>> I am not sure what camera set up you have but I see it hard for you to be capturing a radiance map with your HDR images.
>> That would mean that your camera can record from the IR to the UV, well beyond the visible light only.
>> If that?s the case, I want the same camera!
>>  
>> Otherwise, if you have a normal SLR fitted with a Sigma 180 fisheye, you?ll likely be recording luminance maps. Integration of the brightness values (forget about colours) over the hemisphere will give you your illuminace reading at the focal point of the camera, to be compared with the reading from the lux meter.
>>  
>> Evalglare has a handy option to do this integration for you.
>>  
>> Hope this helps,
>>  
>> Giovanni
>>  
>> ////////////////////////////////////////////////
>> Giovanni Betti
>> From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk] 
>> Sent: 27 March 2014 15:00
>> To: Radiance general discussion
>> Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value
>>  
>>  
>> Thanks Christopher,
>>  
>> My situation is a little different, I think.
>>  
>> I point to SIGMA 180 degree field-of-view lens vertically upwards and make a full hemisphere HDR image (radiance map) from that. I then integrate to get the vertical irradiance in each of the three color channels. These values are calibrated so they are in W/m^2.
>>  
>> Simultaneously, I place a light meter flat (sensor pointing vertically upwards) and take a reading. This reading is a single value in Lux.
>>  
>> So, how do I convert the three irradiances to a Lux value? Spectral integration, yes, but how exactly?
>>  
>> Cheers
>>  
>> From: Christopher Rush [mailto:Christopher.Rush at arup.com] 
>> Sent: 27. marts 2014 15:45
>> To: Radiance general discussion
>> Subject: Re: [Radiance-general] Conversion of RGB irradiance values to a illuminance value
>>  
>> If I understand your situation correctly, I believe you would need to know the reflectance of the material at the point of the irradiance measurement to backtrack to illuminance for calibration. This works when the surface is Lambertian (diffuse), and much more difficult if there?s any glossiness. For calibration purposes, people often include a photographic grey card of known reflectance in their scene and take actual luminance or illuminance meter measurements at the grey card.
>>  
>> From: Claus Br?ndgaard Madsen [mailto:cbm at create.aau.dk]
>> 
>>  
>> I use hemi-spherical HDR images to compute a vertical irradiance value (W/m^2) for each color channel.
>>  
>> If I wish to compare/calibrate these numbers to a reading from a light meter (giving illuminance in Lux) how do I go about converting the three (RGB) irradiances to illuminance?
>>  
>> Cheers,
>> Claus
>>  
>> ____________________________________________________________
>> Electronic mail messages entering and leaving Arup  business
>> systems are scanned for acceptability of content and viruses
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20140327/b12dda6e/attachment-0001.html>

