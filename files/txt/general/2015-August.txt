From kallie at umn.edu  Sat Aug  1 16:00:35 2015
From: kallie at umn.edu (Chris Kallie)
Date: Sat, 01 Aug 2015 19:00:35 -0400
Subject: [Radiance-general] instructions for compiling pre-releases
In-Reply-To: <D1E0EF29.1B807%Robert.Guglielmetti@nrel.gov>
References: <55BB9138.8000301@umn.edu>
	<D1E0EF29.1B807%Robert.Guglielmetti@nrel.gov>
Message-ID: <55BD4F93.8000109@umn.edu>

Hello Rob, developers,

Thanks for your helpful comments. I managed to install rad4R0supp.tar.gz 
and radiance-HEAD.tgz. However, I had to install XQuartz to avoid 
errors. Still lots of installation warnings though.

Also, the github releases seem to be different than the releases 
mentioned above. Other than warnings, my standard (non-github) 
installations seem to be working. I might benefit from using CMake, but 
I don't know how to use it.

As long as the warnings are non-problematic, I am happy with the 
installations that seem to be working.

Thanks for your help!
-Chris

Installation output, in case the devs find them useful..

1) Radiance 4.2 installation (output: www.kallie.org/RadInfo/Rad42info.txt )
2) Radiance-4.2.2.tar.gz did not have a lib folder, so I tried adding 
one, but it installed with errors (output: 
www.kallie.org/RadInfo/Rad422info.txt )
3) rad4R0supp.tar.tz and radiance-HEAD.tgz (output: 
www.kallie.org/RadInfo/Rad50info.txt )



On 7/31/15 11:49 AM, Guglielmetti, Robert wrote:
> What's missing? There may be some missing teeth in the CMake files,
> resulting in incomplete installs. To clarify, I assume you want to use the
> photon map stuff.(?) Those new programs (mkpmap, etc) are getting built,
> but perhaps the "install" target is not quite right. So: what platform are
> you trying to do this on, what is your workflow, and what is missing or
> not working? Apologies that there aren't instructions for using the CMake
> stuff in the Radiance source; it's on the list of things to do. Basically
> you use CMake to generate the makefiles, and then just use make like
> normal.
>
> You could also use the "makeall" csh script which comes with the source
> and is maintained by Greg (and probably Roland now too). That guy has has
> always been pretty bulletproof on unix systems. Andy's YouTube vid on
> installing Radiance on OSX demonstrates the use of the makeall script; the
> process is basically the same for Linux:
>
> https://www.youtube.com/watch?v=ptTmdKSfK68
>
>
> - Rob
>
>
> On 7/31/15, 9:16 AM, "Chris Kallie" <kallie at umn.edu> wrote:
>
>> Dear Experts,
>>
>> Could someone direct me to installation instructions for pre-releases
>> that were downloaded from github?
>>
>> I am able to download and compile pre-releases (e.g., version 5.0.a.3)
>> without any apparent compiling errors, but when I try to use that
>> installation, there are missing programs. How does one use (select and
>> combine?) the appropriate release/pre-release files to compile a fully
>> functional program suite? Presently, I need the original functionality
>> plus the ability to compute caustics (making the latest official release
>> insufficient).
>>
>> I am sure this is a common issue, but without access to a convenient
>> source of organized information (i.e., a wiki), I find myself fumbling
>> with Google searches and generally lost.
>>
>> Thanks again,
>> Chris
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Sat Aug  1 16:29:13 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 1 Aug 2015 16:29:13 -0700
Subject: [Radiance-general] instructions for compiling pre-releases
In-Reply-To: <55BD4F93.8000109@umn.edu>
References: <55BB9138.8000301@umn.edu>
	<D1E0EF29.1B807%Robert.Guglielmetti@nrel.gov>
	<55BD4F93.8000109@umn.edu>
Message-ID: <DC7FFD43-B752-4976-9620-3DDCA526E5C7@lmi.net>

It's an interesting bunch of warnings.  There was even an undiscovered bug in there for a never-used feature of ies2rad...

Seems like you still aren't compiling the HEAD, however.  I don't think you got the photon map from the version of the sources you used.  You need the latest.

Cheers,
-Greg

> From: Chris Kallie <kallie at umn.edu>
> Subject: Re: [Radiance-general] instructions for compiling pre-releases
> Date: August 1, 2015 4:00:35 PM PDT
> 
> Hello Rob, developers,
> 
> Thanks for your helpful comments. I managed to install rad4R0supp.tar.gz and radiance-HEAD.tgz. However, I had to install XQuartz to avoid errors. Still lots of installation warnings though.
> 
> Also, the github releases seem to be different than the releases mentioned above. Other than warnings, my standard (non-github) installations seem to be working. I might benefit from using CMake, but I don't know how to use it.
> 
> As long as the warnings are non-problematic, I am happy with the installations that seem to be working.
> 
> Thanks for your help!
> -Chris
> 
> Installation output, in case the devs find them useful..
> 
> 1) Radiance 4.2 installation (output: www.kallie.org/RadInfo/Rad42info.txt )
> 2) Radiance-4.2.2.tar.gz did not have a lib folder, so I tried adding one, but it installed with errors (output: www.kallie.org/RadInfo/Rad422info.txt )
> 3) rad4R0supp.tar.tz and radiance-HEAD.tgz (output: www.kallie.org/RadInfo/Rad50info.txt )
> 
> 
> 
> On 7/31/15 11:49 AM, Guglielmetti, Robert wrote:
>> What's missing? There may be some missing teeth in the CMake files,
>> resulting in incomplete installs. To clarify, I assume you want to use the
>> photon map stuff.(?) Those new programs (mkpmap, etc) are getting built,
>> but perhaps the "install" target is not quite right. So: what platform are
>> you trying to do this on, what is your workflow, and what is missing or
>> not working? Apologies that there aren't instructions for using the CMake
>> stuff in the Radiance source; it's on the list of things to do. Basically
>> you use CMake to generate the makefiles, and then just use make like
>> normal.
>> 
>> You could also use the "makeall" csh script which comes with the source
>> and is maintained by Greg (and probably Roland now too). That guy has has
>> always been pretty bulletproof on unix systems. Andy's YouTube vid on
>> installing Radiance on OSX demonstrates the use of the makeall script; the
>> process is basically the same for Linux:
>> 
>> https://www.youtube.com/watch?v=ptTmdKSfK68
>> 
>> 
>> - Rob
>> 
>> 
>> On 7/31/15, 9:16 AM, "Chris Kallie" <kallie at umn.edu> wrote:
>> 
>>> Dear Experts,
>>> 
>>> Could someone direct me to installation instructions for pre-releases
>>> that were downloaded from github?
>>> 
>>> I am able to download and compile pre-releases (e.g., version 5.0.a.3)
>>> without any apparent compiling errors, but when I try to use that
>>> installation, there are missing programs. How does one use (select and
>>> combine?) the appropriate release/pre-release files to compile a fully
>>> functional program suite? Presently, I need the original functionality
>>> plus the ability to compute caustics (making the latest official release
>>> insufficient).
>>> 
>>> I am sure this is a common issue, but without access to a convenient
>>> source of organized information (i.e., a wiki), I find myself fumbling
>>> with Google searches and generally lost.
>>> 
>>> Thanks again,
>>> Chris


From rmfritz3 at gmail.com  Sat Aug  1 16:41:12 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Sat, 01 Aug 2015 16:41:12 -0700
Subject: [Radiance-general] instructions for compiling pre-releases
In-Reply-To: <DC7FFD43-B752-4976-9620-3DDCA526E5C7@lmi.net>
References: <55BB9138.8000301@umn.edu>	<D1E0EF29.1B807%Robert.Guglielmetti@nrel.gov>	<55BD4F93.8000109@umn.edu>
	<DC7FFD43-B752-4976-9620-3DDCA526E5C7@lmi.net>
Message-ID: <55BD5918.9040102@gmail.com>

The head version of Radiance is available via CVS with the command:
  cvs -d :pserver:anonymous at radiance-online.org:/home/cvsd/radiance
co ray

IIRC going to directory "ray" and issuing the command "cvs update" will
update the directory to the latest version.

For more on the CVS server, see:
  http://www.radiance-online.org/download-install/CVS%20source%20code

On 8/1/2015 4:29 PM, Greg Ward wrote:
> It's an interesting bunch of warnings.  There was even an undiscovered bug in there for a never-used feature of ies2rad...
>
> Seems like you still aren't compiling the HEAD, however.  I don't think you got the photon map from the version of the sources you used.  You need the latest.
>
> Cheers,
> -Greg
>
>> From: Chris Kallie <kallie at umn.edu>
>> Subject: Re: [Radiance-general] instructions for compiling pre-releases
>> Date: August 1, 2015 4:00:35 PM PDT
>>
>> Hello Rob, developers,
>>
>> Thanks for your helpful comments. I managed to install rad4R0supp.tar.gz and radiance-HEAD.tgz. However, I had to install XQuartz to avoid errors. Still lots of installation warnings though.
>>
>> Also, the github releases seem to be different than the releases mentioned above. Other than warnings, my standard (non-github) installations seem to be working. I might benefit from using CMake, but I don't know how to use it.
>>
>> As long as the warnings are non-problematic, I am happy with the installations that seem to be working.
>>
>> Thanks for your help!
>> -Chris
>>
>> Installation output, in case the devs find them useful..
>>
>> 1) Radiance 4.2 installation (output: www.kallie.org/RadInfo/Rad42info.txt )
>> 2) Radiance-4.2.2.tar.gz did not have a lib folder, so I tried adding one, but it installed with errors (output: www.kallie.org/RadInfo/Rad422info.txt )
>> 3) rad4R0supp.tar.tz and radiance-HEAD.tgz (output: www.kallie.org/RadInfo/Rad50info.txt )
>>
>>
>>
>> On 7/31/15 11:49 AM, Guglielmetti, Robert wrote:
>>> What's missing? There may be some missing teeth in the CMake files,
>>> resulting in incomplete installs. To clarify, I assume you want to use the
>>> photon map stuff.(?) Those new programs (mkpmap, etc) are getting built,
>>> but perhaps the "install" target is not quite right. So: what platform are
>>> you trying to do this on, what is your workflow, and what is missing or
>>> not working? Apologies that there aren't instructions for using the CMake
>>> stuff in the Radiance source; it's on the list of things to do. Basically
>>> you use CMake to generate the makefiles, and then just use make like
>>> normal.
>>>
>>> You could also use the "makeall" csh script which comes with the source
>>> and is maintained by Greg (and probably Roland now too). That guy has has
>>> always been pretty bulletproof on unix systems. Andy's YouTube vid on
>>> installing Radiance on OSX demonstrates the use of the makeall script; the
>>> process is basically the same for Linux:
>>>
>>> https://www.youtube.com/watch?v=ptTmdKSfK68
>>>
>>>
>>> - Rob
>>>
>>>
>>> On 7/31/15, 9:16 AM, "Chris Kallie" <kallie at umn.edu> wrote:
>>>
>>>> Dear Experts,
>>>>
>>>> Could someone direct me to installation instructions for pre-releases
>>>> that were downloaded from github?
>>>>
>>>> I am able to download and compile pre-releases (e.g., version 5.0.a.3)
>>>> without any apparent compiling errors, but when I try to use that
>>>> installation, there are missing programs. How does one use (select and
>>>> combine?) the appropriate release/pre-release files to compile a fully
>>>> functional program suite? Presently, I need the original functionality
>>>> plus the ability to compute caustics (making the latest official release
>>>> insufficient).
>>>>
>>>> I am sure this is a common issue, but without access to a convenient
>>>> source of organized information (i.e., a wiki), I find myself fumbling
>>>> with Google searches and generally lost.
>>>>
>>>> Thanks again,
>>>> Chris
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 390 4477 || rmfritz3 at panix.com




From kallie at umn.edu  Sat Aug  1 17:47:21 2015
From: kallie at umn.edu (Chris Kallie)
Date: Sat, 01 Aug 2015 20:47:21 -0400
Subject: [Radiance-general] instructions for compiling pre-releases
In-Reply-To: <55BD5918.9040102@gmail.com>
References: <55BB9138.8000301@umn.edu>	<D1E0EF29.1B807%Robert.Guglielmetti@nrel.gov>	<55BD4F93.8000109@umn.edu>	<DC7FFD43-B752-4976-9620-3DDCA526E5C7@lmi.net>
	<55BD5918.9040102@gmail.com>
Message-ID: <55BD6899.20200@umn.edu>

Thanks Greg and Randolph,

For starters, sorry Greg: In my haste I screwed up the 5.0 installation. 
Hope I got it right this time: http://www.kallie.org/RadInfo/Rad50info2.txt

Still digesting the rest of this info...Thanks again!
Chris

On 8/1/15 7:41 PM, Randolph M. Fritz wrote:
> The head version of Radiance is available via CVS with the command:
>    cvs -d :pserver:anonymous at radiance-online.org:/home/cvsd/radiance
> co ray
>
> IIRC going to directory "ray" and issuing the command "cvs update" will
> update the directory to the latest version.
>
> For more on the CVS server, see:
>    http://www.radiance-online.org/download-install/CVS%20source%20code
>
> On 8/1/2015 4:29 PM, Greg Ward wrote:
>> It's an interesting bunch of warnings.  There was even an undiscovered bug in there for a never-used feature of ies2rad...
>>
>> Seems like you still aren't compiling the HEAD, however.  I don't think you got the photon map from the version of the sources you used.  You need the latest.
>>
>> Cheers,
>> -Greg
>>
>>> From: Chris Kallie <kallie at umn.edu>
>>> Subject: Re: [Radiance-general] instructions for compiling pre-releases
>>> Date: August 1, 2015 4:00:35 PM PDT
>>>
>>> Hello Rob, developers,
>>>
>>> Thanks for your helpful comments. I managed to install rad4R0supp.tar.gz and radiance-HEAD.tgz. However, I had to install XQuartz to avoid errors. Still lots of installation warnings though.
>>>
>>> Also, the github releases seem to be different than the releases mentioned above. Other than warnings, my standard (non-github) installations seem to be working. I might benefit from using CMake, but I don't know how to use it.
>>>
>>> As long as the warnings are non-problematic, I am happy with the installations that seem to be working.
>>>
>>> Thanks for your help!
>>> -Chris
>>>
>>> Installation output, in case the devs find them useful..
>>>
>>> 1) Radiance 4.2 installation (output: www.kallie.org/RadInfo/Rad42info.txt )
>>> 2) Radiance-4.2.2.tar.gz did not have a lib folder, so I tried adding one, but it installed with errors (output: www.kallie.org/RadInfo/Rad422info.txt )
>>> 3) rad4R0supp.tar.tz and radiance-HEAD.tgz (output: www.kallie.org/RadInfo/Rad50info.txt )
>>>
>>>
>>>
>>> On 7/31/15 11:49 AM, Guglielmetti, Robert wrote:
>>>> What's missing? There may be some missing teeth in the CMake files,
>>>> resulting in incomplete installs. To clarify, I assume you want to use the
>>>> photon map stuff.(?) Those new programs (mkpmap, etc) are getting built,
>>>> but perhaps the "install" target is not quite right. So: what platform are
>>>> you trying to do this on, what is your workflow, and what is missing or
>>>> not working? Apologies that there aren't instructions for using the CMake
>>>> stuff in the Radiance source; it's on the list of things to do. Basically
>>>> you use CMake to generate the makefiles, and then just use make like
>>>> normal.
>>>>
>>>> You could also use the "makeall" csh script which comes with the source
>>>> and is maintained by Greg (and probably Roland now too). That guy has has
>>>> always been pretty bulletproof on unix systems. Andy's YouTube vid on
>>>> installing Radiance on OSX demonstrates the use of the makeall script; the
>>>> process is basically the same for Linux:
>>>>
>>>> https://www.youtube.com/watch?v=ptTmdKSfK68
>>>>
>>>>
>>>> - Rob
>>>>
>>>>
>>>> On 7/31/15, 9:16 AM, "Chris Kallie" <kallie at umn.edu> wrote:
>>>>
>>>>> Dear Experts,
>>>>>
>>>>> Could someone direct me to installation instructions for pre-releases
>>>>> that were downloaded from github?
>>>>>
>>>>> I am able to download and compile pre-releases (e.g., version 5.0.a.3)
>>>>> without any apparent compiling errors, but when I try to use that
>>>>> installation, there are missing programs. How does one use (select and
>>>>> combine?) the appropriate release/pre-release files to compile a fully
>>>>> functional program suite? Presently, I need the original functionality
>>>>> plus the ability to compute caustics (making the latest official release
>>>>> insufficient).
>>>>>
>>>>> I am sure this is a common issue, but without access to a convenient
>>>>> source of organized information (i.e., a wiki), I find myself fumbling
>>>>> with Google searches and generally lost.
>>>>>
>>>>> Thanks again,
>>>>> Chris
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



From jan.wienold at epfl.ch  Wed Aug  5 02:11:39 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Wed, 5 Aug 2015 11:11:39 +0200
Subject: [Radiance-general] diffuse transmission of BRTDfunc
Message-ID: <55C1D34B.3090502@epfl.ch>

Hi all,

I'm a bit stuck by the use of the "old-fashioned" BRTDfunc. Maybe it is 
a silly question, but I couldn't find anything about this in the 
discussions so far.

What I want to do is to modify the diffuse transmitted light by a 
function and using the material BRTDfunc. For the specular transmission 
and reflection this works pretty well, a function can be defined in a 
user specified function in a cal file.
But if I try to do this for the diffuse component, it immediately fails. 
In addition (or maybe the same issue) the is a problem in parsing. If I 
specify for "rbrtd gbrtd bbrtd" and "rtdif gtdif btdif " 0.1 0.1 0.1, 
the function works properly. But using .1 instead 0.1 it fails as well.
It always says "undefined function" in both cases.
Any idea?
if it is possible to change the diffuse behavior, how would it be 
possible? And how can I access the angle to the light source? Rdot is 
giving me only the angle of incidence from the incoming ray to the 
surface normal, but not between light source and surface normal.
below a simple example.
thanks a lot

Jan


example of BRTDfunc working properly:

void BRTDfunc testmat
10 0 0 0
dirtrans dirtrans dirtrans
0.1 0.1 0.1
testfunc.cal
0
9 0.2 0.2 0.2
0.2 0.2 0.2
0.1 0.1 0.1

and testfunc.cal is (for all cases)

{test functionfile}
dirtrans=0.25*Rdot*Rdot;
diftrans=0.3*sqrt(Rdot*Rdot);

example of BRTDfunc NOT working:

void BRTDfunc testmat
10 0 0 0
dirtrans dirtrans dirtrans
.1 .1 .1
testfunc.cal
0
9 0.2 0.2 0.2
0.2 0.2 0.2
.1 .1 .1

or also not working:

void BRTDfunc testmat
10 0 0 0
dirtrans dirtrans dirtrans
diftrans diftrans diftrans
testfunc.cal
0
9 0.2 0.2 0.2
0.2 0.2 0.2
diftrans diftrans diftrans





-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849



From gregoryjward at gmail.com  Wed Aug  5 09:47:07 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 5 Aug 2015 09:47:07 -0700
Subject: [Radiance-general] diffuse transmission of BRTDfunc
In-Reply-To: <55C1D34B.3090502@epfl.ch>
References: <55C1D34B.3090502@epfl.ch>
Message-ID: <5E1BB715-191A-4661-9E12-4F38E7811800@lmi.net>

Hello Jan,

I suppose this behavior is rather confusing.  Firstly, the reason that "0.1" does not complain whereas ".1" does is because the program stops looking past "0", which it assumes means exactly zero.  This is a special case for specifying that you have no directional diffuse component, since these string arguments are usually used to give the name of a function of three or four parameters.

In any case, there is no need to specify constant values for the directional diffuse component (other than zero) because that would turn them into a diffuse component, which is already provided in the first six real arguments for this type.  These things are explained as best I can in the materials section of the Radiance reference manual, which I assume you are using:

	http://radsite.lbl.gov/radiance/refer/ray.html

To get a pattern to modify your BRTDfunc, why not use the standard mechanism in Radiance and give it a pattern modifier?  This will modify the diffuse transmission value as well, but perhaps that's OK in your situation.  If not, then you can define a directional diffuse component that ignores the given scattered direction and uses instead the surface position (or whatever) to modify its value in the function file.

I'm not sure I've explained this well, so please follow up with any questions you have.

Best,
-Greg

> From: Jan Wienold <jan.wienold at epfl.ch>
> Subject: [Radiance-general] diffuse transmission of BRTDfunc
> Date: August 5, 2015 2:11:39 AM PDT
> 
> Hi all,
> 
> I'm a bit stuck by the use of the "old-fashioned" BRTDfunc. Maybe it is a silly question, but I couldn't find anything about this in the discussions so far.
> 
> What I want to do is to modify the diffuse transmitted light by a function and using the material BRTDfunc. For the specular transmission and reflection this works pretty well, a function can be defined in a user specified function in a cal file.
> But if I try to do this for the diffuse component, it immediately fails. In addition (or maybe the same issue) the is a problem in parsing. If I specify for "rbrtd gbrtd bbrtd" and "rtdif gtdif btdif " 0.1 0.1 0.1, the function works properly. But using .1 instead 0.1 it fails as well.
> It always says "undefined function" in both cases.
> Any idea?
> if it is possible to change the diffuse behavior, how would it be possible? And how can I access the angle to the light source? Rdot is giving me only the angle of incidence from the incoming ray to the surface normal, but not between light source and surface normal.
> below a simple example.
> thanks a lot
> 
> Jan
> 
> example of BRTDfunc working properly:
> 
> void BRTDfunc testmat
> 10 0 0 0
> dirtrans dirtrans dirtrans
> 0.1 0.1 0.1
> testfunc.cal
> 0
> 9 0.2 0.2 0.2
> 0.2 0.2 0.2
> 0.1 0.1 0.1
> 
> and testfunc.cal is (for all cases)
> 
> {test functionfile}
> dirtrans=0.25*Rdot*Rdot;
> diftrans=0.3*sqrt(Rdot*Rdot);
> 
> example of BRTDfunc NOT working:
> 
> void BRTDfunc testmat
> 10 0 0 0
> dirtrans dirtrans dirtrans
> .1 .1 .1
> testfunc.cal
> 0
> 9 0.2 0.2 0.2
> 0.2 0.2 0.2
> .1 .1 .1
> 
> or also not working:
> 
> void BRTDfunc testmat
> 10 0 0 0
> dirtrans dirtrans dirtrans
> diftrans diftrans diftrans
> testfunc.cal
> 0
> 9 0.2 0.2 0.2
> 0.2 0.2 0.2
> diftrans diftrans diftrans
> 
> -- 
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID


From jan.wienold at epfl.ch  Wed Aug  5 10:41:42 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Wed, 5 Aug 2015 19:41:42 +0200
Subject: [Radiance-general] diffuse transmission of BRTDfunc
In-Reply-To: <5E1BB715-191A-4661-9E12-4F38E7811800@lmi.net>
References: <55C1D34B.3090502@epfl.ch>
	<5E1BB715-191A-4661-9E12-4F38E7811800@lmi.net>
Message-ID: <55C24AD6.2060908@epfl.ch>

Hi Greg,

hmm, I have to admit I'm still not clear...

In general I think a pattern does not work in my case, since I want to 
apply a different behavior of the direct-direct and the direct-diffuse 
transmission, both depending on the angle of incidence of the incoming 
ray(from the light source). E.g. I want to decrease the direct-direct 
transmission for a more flat angle of incidence whereas I want to 
increase at the same time the direct-diffuse transmission. In other 
words: I want to  control the direct and the diffuse transmission 
separately  via a function file depended of the light incidence (if 
possible).
I thought to control the direct-diffuse transmission is possible by 
using functions for "rbrtd gbrtd bbrtd" and/or "rtdif gtdif btdif " .

Also, honestly, the difference between those two parameters are not 
completely clear to me:
"The functions rbrtd, gbrtd and bbrtd take the direction to the incident 
light (and its solid angle) and compute the color coefficients for the 
directional diffuse part of reflection and transmission."
and " The diffuse transmittance (must be the same for both sides by 
physical law) is given by rtdif, gtdif and btdif. "

Which one of them I have to use if I wanna change the diffuse behavior? 
And how? Any function name I used to replace rtdif or rbrtd seem to be 
impossible, regardless if this function is in the cal-file or even a 
standard function or name.

So to reduce it to two simple questions:
-In case I have defined a function for the direct-diffuse transmission 
in a functionfile, how can I apply it in BRTDfunc?
-How can I access in that function file (called by BRTDfunc) to the 
direction to the incident light? According to rayinit.cal, Dx,Dy,Dz is 
only available for the prism materials, or?

Thank you very  much!

best,

Jan




Am 8/5/15 um 6:47 PM schrieb Greg Ward:
> Hello Jan,
>
> I suppose this behavior is rather confusing.  Firstly, the reason that "0.1" does not complain whereas ".1" does is because the program stops looking past "0", which it assumes means exactly zero.  This is a special case for specifying that you have no directional diffuse component, since these string arguments are usually used to give the name of a function of three or four parameters.
>
> In any case, there is no need to specify constant values for the directional diffuse component (other than zero) because that would turn them into a diffuse component, which is already provided in the first six real arguments for this type.  These things are explained as best I can in the materials section of the Radiance reference manual, which I assume you are using:
>
> 	http://radsite.lbl.gov/radiance/refer/ray.html
>
> To get a pattern to modify your BRTDfunc, why not use the standard mechanism in Radiance and give it a pattern modifier?  This will modify the diffuse transmission value as well, but perhaps that's OK in your situation.  If not, then you can define a directional diffuse component that ignores the given scattered direction and uses instead the surface position (or whatever) to modify its value in the function file.
>
> I'm not sure I've explained this well, so please follow up with any questions you have.
>
> Best,
> -Greg
>
>> From: Jan Wienold <jan.wienold at epfl.ch>
>> Subject: [Radiance-general] diffuse transmission of BRTDfunc
>> Date: August 5, 2015 2:11:39 AM PDT
>>
>> Hi all,
>>
>> I'm a bit stuck by the use of the "old-fashioned" BRTDfunc. Maybe it is a silly question, but I couldn't find anything about this in the discussions so far.
>>
>> What I want to do is to modify the diffuse transmitted light by a function and using the material BRTDfunc. For the specular transmission and reflection this works pretty well, a function can be defined in a user specified function in a cal file.
>> But if I try to do this for the diffuse component, it immediately fails. In addition (or maybe the same issue) the is a problem in parsing. If I specify for "rbrtd gbrtd bbrtd" and "rtdif gtdif btdif " 0.1 0.1 0.1, the function works properly. But using .1 instead 0.1 it fails as well.
>> It always says "undefined function" in both cases.
>> Any idea?
>> if it is possible to change the diffuse behavior, how would it be possible? And how can I access the angle to the light source? Rdot is giving me only the angle of incidence from the incoming ray to the surface normal, but not between light source and surface normal.
>> below a simple example.
>> thanks a lot
>>
>> Jan
>>
>> example of BRTDfunc working properly:
>>
>> void BRTDfunc testmat
>> 10 0 0 0
>> dirtrans dirtrans dirtrans
>> 0.1 0.1 0.1
>> testfunc.cal
>> 0
>> 9 0.2 0.2 0.2
>> 0.2 0.2 0.2
>> 0.1 0.1 0.1
>>
>> and testfunc.cal is (for all cases)
>>
>> {test functionfile}
>> dirtrans=0.25*Rdot*Rdot;
>> diftrans=0.3*sqrt(Rdot*Rdot);
>>
>> example of BRTDfunc NOT working:
>>
>> void BRTDfunc testmat
>> 10 0 0 0
>> dirtrans dirtrans dirtrans
>> .1 .1 .1
>> testfunc.cal
>> 0
>> 9 0.2 0.2 0.2
>> 0.2 0.2 0.2
>> .1 .1 .1
>>
>> or also not working:
>>
>> void BRTDfunc testmat
>> 10 0 0 0
>> dirtrans dirtrans dirtrans
>> diftrans diftrans diftrans
>> testfunc.cal
>> 0
>> 9 0.2 0.2 0.2
>> 0.2 0.2 0.2
>> diftrans diftrans diftrans
>>
>> -- 
>> Dr.-Ing.  Jan Wienold
>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>> EPFL ENAC IA LIPID
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150805/110d83e9/attachment.html>

From gregoryjward at gmail.com  Wed Aug  5 15:51:02 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 5 Aug 2015 15:51:02 -0700
Subject: [Radiance-general] diffuse transmission of BRTDfunc
In-Reply-To: <55C24AD6.2060908@epfl.ch>
References: <55C1D34B.3090502@epfl.ch>
	<5E1BB715-191A-4661-9E12-4F38E7811800@lmi.net>
	<55C24AD6.2060908@epfl.ch>
Message-ID: <6A1ED068-616F-4416-B7DE-09B35F8395D0@lmi.net>

Hi Jan,

Are you thinking that the "directional diffuse" component as described in the reference manual refers to light that transfers from direct sources to the diffuse hemisphere?  I suppose this is confusing terminology, and it is something adopted from the computer graphics community rather than the lighting simulation community, but "directional diffuse" refers to reflections and transmission that is neither specular nor Lambertian, but somewhere in between.  As such, it does not refer to how the light arrived at the surface, only what happens to it afterwards.

If you want to treat the Lambertian and specular portions differently, use the separate functions provided in the BRTDfunc type.  The first three variables specify the amount of light reflected in the mirror direction, and the next three specify the amount of light transmitted in the "through" direction.  These are ordinary variables, and may be defined as such in your .cal file, e.g.:

{ Mirror reflection color as a function of ray parameters }
refl_red = 0.25*RdotP;
refl_grn = 0.3*RdotP;
refl_blu = 0.31*RdotP;
{ Direct transmission color as a function of ray parameters -- I am just making these up as examples }
trans_red = 0.1/(1+RdotP);
trans_grn = 0.2/(1+RdotP);
trans_blu = 0.15/(1+RdotP);

Note that we have no information about the incoming light direction for the specular values.  The assumption is that light behaves the same whether it comes from a source or from somewhere else.

For the directional diffuse, we do provide the incident direction, which would be the light source by virtue of how this primitive is evaluated.  This is only provided so you can create a full BSDF function if you like, which needs incident & scattered vectors.  You can name these functions as you like, but they should take at least 3 arguments:

{ Example directional-diffuse component, again just making this up }
soft_red(ix,iy,iz) = 0.2/PI*abs(ix*Dx+iy*Dy+iz*Dz);
soft_grn(ix,iy,iz) = 0.1/PI*abs(ix*Dx+iy*Dy+iz*Dz);
soft_blu(ix,iy,iz) = 0.5/PI*abs(ix*Dx+iy*Dy+iz*Dz);

For these functions, the incident source direction is given as the 3 parameters, which are normalized and directed away from the surface.  The standard variables (Dx,Dy,Dz) tell you the normalized direction vector pointed towards the surface.  You would put the above definitions into a file "testingBRTDf.cal" and specify:

void BRTDfunc testing
10
	refl_red refl_grn refl_blu
	trans_red trans_grn trans_blu
	soft_red soft_grn soft_blu
	testingBRTDf.cal
0
9
	0	0	0
	0	0	0
	0	0	0

-----
I have chosen to have zero diffuse components added, to give you full control over the diffuse portion in your .cal file.

I hope this helps!
-Greg

> From: Jan Wienold <jan.wienold at epfl.ch>
> Subject: Re: [Radiance-general] diffuse transmission of BRTDfunc
> Date: August 5, 2015 10:41:42 AM PDT
> 
> Hi Greg,
> 
> hmm, I have to admit I'm still not clear...
> 
> In general I think a pattern does not work in my case, since I want to apply a different behavior of the direct-direct and the direct-diffuse transmission, both depending on the angle of incidence of the incoming ray(from the light source). E.g. I want to decrease the direct-direct transmission for a more flat angle of incidence whereas I want to increase at the same time the direct-diffuse transmission. In other words: I want to  control the direct and the diffuse transmission separately  via a function file depended of the light incidence (if possible).
> I thought to control the direct-diffuse transmission is possible by using functions for "rbrtd gbrtd bbrtd" and/or "rtdif gtdif btdif " . 
> 
> Also, honestly, the difference between those two parameters are not completely clear to me:
> "The functions rbrtd, gbrtd and bbrtd take the direction to the incident light (and its solid angle) and compute the color coefficients for the directional diffuse part of reflection and transmission." 
> and " The diffuse transmittance (must be the same for both sides by physical law) is given by rtdif, gtdif and btdif. "
> 
> Which one of them I have to use if I wanna change the diffuse behavior? And how? Any function name I used to replace rtdif or rbrtd seem to be impossible, regardless if this function is in the cal-file or even a standard function or name. 
> 
> So to reduce it to two simple questions:
> -In case I have defined a function for the direct-diffuse transmission in a functionfile, how can I apply it in BRTDfunc?
> -How can I access in that function file (called by BRTDfunc) to the direction to the incident light? According to rayinit.cal, Dx,Dy,Dz is only available for the prism materials, or? 
> 
> Thank you very  much!
> 
> best,
> 
> Jan
> 
> 
> Am 8/5/15 um 6:47 PM schrieb Greg Ward:
>> Hello Jan,
>> 
>> I suppose this behavior is rather confusing.  Firstly, the reason that "0.1" does not complain whereas ".1" does is because the program stops looking past "0", which it assumes means exactly zero.  This is a special case for specifying that you have no directional diffuse component, since these string arguments are usually used to give the name of a function of three or four parameters.
>> 
>> In any case, there is no need to specify constant values for the directional diffuse component (other than zero) because that would turn them into a diffuse component, which is already provided in the first six real arguments for this type.  These things are explained as best I can in the materials section of the Radiance reference manual, which I assume you are using:
>> 
>> 	http://radsite.lbl.gov/radiance/refer/ray.html
>> 
>> To get a pattern to modify your BRTDfunc, why not use the standard mechanism in Radiance and give it a pattern modifier?  This will modify the diffuse transmission value as well, but perhaps that's OK in your situation.  If not, then you can define a directional diffuse component that ignores the given scattered direction and uses instead the surface position (or whatever) to modify its value in the function file.
>> 
>> I'm not sure I've explained this well, so please follow up with any questions you have.
>> 
>> Best,
>> -Greg
>> 
>>> From: Jan Wienold <jan.wienold at epfl.ch>
>>> Subject: [Radiance-general] diffuse transmission of BRTDfunc
>>> Date: August 5, 2015 2:11:39 AM PDT
>>> 
>>> Hi all,
>>> 
>>> I'm a bit stuck by the use of the "old-fashioned" BRTDfunc. Maybe it is a silly question, but I couldn't find anything about this in the discussions so far.
>>> 
>>> What I want to do is to modify the diffuse transmitted light by a function and using the material BRTDfunc. For the specular transmission and reflection this works pretty well, a function can be defined in a user specified function in a cal file.
>>> But if I try to do this for the diffuse component, it immediately fails. In addition (or maybe the same issue) the is a problem in parsing. If I specify for "rbrtd gbrtd bbrtd" and "rtdif gtdif btdif " 0.1 0.1 0.1, the function works properly. But using .1 instead 0.1 it fails as well.
>>> It always says "undefined function" in both cases.
>>> Any idea?
>>> if it is possible to change the diffuse behavior, how would it be possible? And how can I access the angle to the light source? Rdot is giving me only the angle of incidence from the incoming ray to the surface normal, but not between light source and surface normal.
>>> below a simple example.
>>> thanks a lot
>>> 
>>> Jan
>>> 
>>> example of BRTDfunc working properly:
>>> 
>>> void BRTDfunc testmat
>>> 10 0 0 0
>>> dirtrans dirtrans dirtrans
>>> 0.1 0.1 0.1
>>> testfunc.cal
>>> 0
>>> 9 0.2 0.2 0.2
>>> 0.2 0.2 0.2
>>> 0.1 0.1 0.1
>>> 
>>> and testfunc.cal is (for all cases)
>>> 
>>> {test functionfile}
>>> dirtrans=0.25*Rdot*Rdot;
>>> diftrans=0.3*sqrt(Rdot*Rdot);
>>> 
>>> example of BRTDfunc NOT working:
>>> 
>>> void BRTDfunc testmat
>>> 10 0 0 0
>>> dirtrans dirtrans dirtrans
>>> .1 .1 .1
>>> testfunc.cal
>>> 0
>>> 9 0.2 0.2 0.2
>>> 0.2 0.2 0.2
>>> .1 .1 .1
>>> 
>>> or also not working:
>>> 
>>> void BRTDfunc testmat
>>> 10 0 0 0
>>> dirtrans dirtrans dirtrans
>>> diftrans diftrans diftrans
>>> testfunc.cal
>>> 0
>>> 9 0.2 0.2 0.2
>>> 0.2 0.2 0.2
>>> diftrans diftrans diftrans
>>> 
>>> -- 
>>> Dr.-Ing.  Jan Wienold
>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>> EPFL ENAC IA LIPID
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> -- 
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
> 
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150805/f13b1525/attachment.html>

From jan.wienold at epfl.ch  Thu Aug  6 05:14:11 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Thu, 6 Aug 2015 14:14:11 +0200
Subject: [Radiance-general] diffuse transmission of BRTDfunc
In-Reply-To: <6A1ED068-616F-4416-B7DE-09B35F8395D0@lmi.net>
References: <55C1D34B.3090502@epfl.ch>
	<5E1BB715-191A-4661-9E12-4F38E7811800@lmi.net>
	<55C24AD6.2060908@epfl.ch>
	<6A1ED068-616F-4416-B7DE-09B35F8395D0@lmi.net>
Message-ID: <55C34F93.9070105@epfl.ch>

Hi Greg,

many, many thanks!! that helped a lot and solved mostly my problem! My 
material is now behaving more or less how I want it to :-) .

In fact the main problem was, that the function for the direct-diffuse 
must be a vector function, which I didn't realize before :-[ .
After some tests I realized as well, that this function doesn't 
distinguish between transmission and reflection per se, but with some 
simple dot-products in the cal-file between the rays and the surface 
normal I can distinguish this as well.

A small remaining question is how to specify additional parameters to be 
"transferred" to the function in the cal file. If I specify the A10 
(within the description of BRTFfunc) , I can access A10 from the cal 
file as well. In case I specify a "A11" or "A12" or more, I can't access 
them (error message "rtrace: A11`testfunc: undefined variable"), 
although I specified them in the BRTDfunc description. Of course I can 
hard-code these properties in the cal file, but it would be nicer if I 
can specify it in the material descriptions.
And: A10 is not used per se by BRTDfunc, or? So at least I can use this 
one. But I would have 3 other parameters to be submitted to the functions.

thank you so much!

Jan



Am 8/6/15 um 12:51 AM schrieb Greg Ward:
> Hi Jan,
>
> Are you thinking that the "directional diffuse" component as described 
> in the reference manual refers to light that transfers from direct 
> sources to the diffuse hemisphere?  I suppose this is confusing 
> terminology, and it is something adopted from the computer graphics 
> community rather than the lighting simulation community, but 
> "directional diffuse" refers to reflections and transmission that is 
> neither specular nor Lambertian, but somewhere in between.  As such, 
> it does not refer to how the light arrived at the surface, only what 
> happens to it afterwards.
>
> If you want to treat the Lambertian and specular portions differently, 
> use the separate functions provided in the BRTDfunc type.  The first 
> three variables specify the amount of light reflected in the mirror 
> direction, and the next three specify the amount of light transmitted 
> in the "through" direction.  These are ordinary variables, and may be 
> defined as such in your .cal file, e.g.:
>
> { Mirror reflection color as a function of ray parameters }
> refl_red = 0.25*RdotP;
> refl_grn = 0.3*RdotP;
> refl_blu = 0.31*RdotP;
> { Direct transmission color as a function of ray parameters -- I am 
> just making these up as examples }
> trans_red = 0.1/(1+RdotP);
> trans_grn = 0.2/(1+RdotP);
> trans_blu = 0.15/(1+RdotP);
>
> Note that we have no information about the incoming light direction 
> for the specular values.  The assumption is that light behaves the 
> same whether it comes from a source or from somewhere else.
>
> For the directional diffuse, we do provide the incident direction, 
> which would be the light source by virtue of how this primitive is 
> evaluated.  This is only provided so you can create a full BSDF 
> function if you like, which needs incident & scattered vectors.  You 
> can name these functions as you like, but they should take at least 3 
> arguments:
>
> { Example directional-diffuse component, again just making this up }
> soft_red(ix,iy,iz) = 0.2/PI*abs(ix*Dx+iy*Dy+iz*Dz);
> soft_grn(ix,iy,iz) = 0.1/PI*abs(ix*Dx+iy*Dy+iz*Dz);
> soft_blu(ix,iy,iz) = 0.5/PI*abs(ix*Dx+iy*Dy+iz*Dz);
>
> For these functions, the incident source direction is given as the 3 
> parameters, which are normalized and directed away from the surface. 
>  The standard variables (Dx,Dy,Dz) tell you the normalized direction 
> vector pointed towards the surface.  You would put the above 
> definitions into a file "testingBRTDf.cal" and specify:
>
> void BRTDfunc testing
> 10
> refl_red refl_grn refl_blu
> trans_red trans_grn trans_blu
> soft_red soft_grn soft_blu
> testingBRTDf.cal
> 0
> 9
> 000
> 000
> 000
>
> -----
> I have chosen to have zero diffuse components added, to give you full 
> control over the diffuse portion in your .cal file.
>
> I hope this helps!
> -Greg
>
>> *From: *Jan Wienold <jan.wienold at epfl.ch <mailto:jan.wienold at epfl.ch>>
>>
>> *Subject: *Re: [Radiance-general] diffuse transmission of BRTDfunc
>>
>> *Date: *August 5, 2015 10:41:42 AM PDT
>>
>> *
>> *
>>
>> Hi Greg,
>>
>> hmm, I have to admit I'm still not clear...
>>
>> In general I think a pattern does not work in my case, since I want 
>> to apply a different behavior of the direct-direct and the 
>> direct-diffuse transmission, both depending on the angle of incidence 
>> of the incoming ray(from the light source). E.g. I want to decrease 
>> the direct-direct transmission for a more flat angle of incidence 
>> whereas I want to increase at the same time the direct-diffuse 
>> transmission. In other words: I want to  control the direct and the 
>> diffuse transmission separately  via a function file depended of the 
>> light incidence (if possible).
>> I thought to control the direct-diffuse transmission is possible by 
>> using functions for "rbrtd gbrtd bbrtd" and/or "rtdif gtdif btdif " .
>>
>> Also, honestly, the difference between those two parameters are not 
>> completely clear to me:
>> "The functions rbrtd, gbrtd and bbrtd take the direction to the 
>> incident light (and its solid angle) and compute the color 
>> coefficients for the directional diffuse part of reflection and 
>> transmission."
>> and " The diffuse transmittance (must be the same for both sides by 
>> physical law) is given by rtdif, gtdif and btdif. "
>>
>> Which one of them I have to use if I wanna change the diffuse 
>> behavior? And how? Any function name I used to replace rtdif or rbrtd 
>> seem to be impossible, regardless if this function is in the cal-file 
>> or even a standard function or name.
>>
>> So to reduce it to two simple questions:
>> -In case I have defined a function for the direct-diffuse 
>> transmission in a functionfile, how can I apply it in BRTDfunc?
>> -How can I access in that function file (called by BRTDfunc) to the 
>> direction to the incident light? According to rayinit.cal, Dx,Dy,Dz 
>> is only available for the prism materials, or?
>>
>> Thank you very  much!
>>
>> best,
>>
>> Jan
>>
>>
>> Am 8/5/15 um 6:47 PM schrieb Greg Ward:
>>> Hello Jan,
>>>
>>> I suppose this behavior is rather confusing.  Firstly, the reason that "0.1" does not complain whereas ".1" does is because the program stops looking past "0", which it assumes means exactly zero.  This is a special case for specifying that you have no directional diffuse component, since these string arguments are usually used to give the name of a function of three or four parameters.
>>>
>>> In any case, there is no need to specify constant values for the directional diffuse component (other than zero) because that would turn them into a diffuse component, which is already provided in the first six real arguments for this type.  These things are explained as best I can in the materials section of the Radiance reference manual, which I assume you are using:
>>>
>>> 	http://radsite.lbl.gov/radiance/refer/ray.html
>>>
>>> To get a pattern to modify your BRTDfunc, why not use the standard mechanism in Radiance and give it a pattern modifier?  This will modify the diffuse transmission value as well, but perhaps that's OK in your situation.  If not, then you can define a directional diffuse component that ignores the given scattered direction and uses instead the surface position (or whatever) to modify its value in the function file.
>>>
>>> I'm not sure I've explained this well, so please follow up with any questions you have.
>>>
>>> Best,
>>> -Greg
>>>
>>>> From: Jan Wienold<jan.wienold at epfl.ch>
>>>> Subject: [Radiance-general] diffuse transmission of BRTDfunc
>>>> Date: August 5, 2015 2:11:39 AM PDT
>>>>
>>>> Hi all,
>>>>
>>>> I'm a bit stuck by the use of the "old-fashioned" BRTDfunc. Maybe it is a silly question, but I couldn't find anything about this in the discussions so far.
>>>>
>>>> What I want to do is to modify the diffuse transmitted light by a function and using the material BRTDfunc. For the specular transmission and reflection this works pretty well, a function can be defined in a user specified function in a cal file.
>>>> But if I try to do this for the diffuse component, it immediately fails. In addition (or maybe the same issue) the is a problem in parsing. If I specify for "rbrtd gbrtd bbrtd" and "rtdif gtdif btdif " 0.1 0.1 0.1, the function works properly. But using .1 instead 0.1 it fails as well.
>>>> It always says "undefined function" in both cases.
>>>> Any idea?
>>>> if it is possible to change the diffuse behavior, how would it be possible? And how can I access the angle to the light source? Rdot is giving me only the angle of incidence from the incoming ray to the surface normal, but not between light source and surface normal.
>>>> below a simple example.
>>>> thanks a lot
>>>>
>>>> Jan
>>>>
>>>> example of BRTDfunc working properly:
>>>>
>>>> void BRTDfunc testmat
>>>> 10 0 0 0
>>>> dirtrans dirtrans dirtrans
>>>> 0.1 0.1 0.1
>>>> testfunc.cal
>>>> 0
>>>> 9 0.2 0.2 0.2
>>>> 0.2 0.2 0.2
>>>> 0.1 0.1 0.1
>>>>
>>>> and testfunc.cal is (for all cases)
>>>>
>>>> {test functionfile}
>>>> dirtrans=0.25*Rdot*Rdot;
>>>> diftrans=0.3*sqrt(Rdot*Rdot);
>>>>
>>>> example of BRTDfunc NOT working:
>>>>
>>>> void BRTDfunc testmat
>>>> 10 0 0 0
>>>> dirtrans dirtrans dirtrans
>>>> .1 .1 .1
>>>> testfunc.cal
>>>> 0
>>>> 9 0.2 0.2 0.2
>>>> 0.2 0.2 0.2
>>>> .1 .1 .1
>>>>
>>>> or also not working:
>>>>
>>>> void BRTDfunc testmat
>>>> 10 0 0 0
>>>> dirtrans dirtrans dirtrans
>>>> diftrans diftrans diftrans
>>>> testfunc.cal
>>>> 0
>>>> 9 0.2 0.2 0.2
>>>> 0.2 0.2 0.2
>>>> diftrans diftrans diftrans
>>>>
>>>> -- 
>>>> Dr.-Ing.  Jan Wienold
>>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>> EPFL ENAC IA LIPID
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> -- 
>> Dr.-Ing.  Jan Wienold
>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>> EPFL ENAC IA LIPID
>>
>> http://people.epfl.ch/jan.wienold
>> LE 1 111 (Office)
>> Phone    +41 21 69 30849
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org 
>> <mailto:Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150806/e27a71f8/attachment-0001.html>

From andrei.kolomenski at nasa.gov  Thu Aug  6 07:34:33 2015
From: andrei.kolomenski at nasa.gov (Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.])
Date: Thu, 6 Aug 2015 14:34:33 +0000
Subject: [Radiance-general] Effect of -aa parameter on Rpict Rendering
	Accuracy
Message-ID: <AE55A995167B224DBBFA16500E3AB9B304802754@NDJSMBX202.ndc.nasa.gov>

Hello Radiance Community,

The -aa input argument to rpict controls the ambient accuracy of the rendering and approximately represents the error that is associated with it. I ran some tests varying the -aa parameter while holding all other input parameters constant. To my surprise, the execution of a rendering with -aa 0 took 1.6 hours and the a rendering with -aa 0.01 has taken 15 hours and has only finished 28%.

What is considered to be the most accurate rendering? One with no ambient interpolation (-aa 0) or a low error interpolation (-aa 0.01) ?

Overall, what rpict input parameters that will produce the most accurate rendering? Currently, I'm using the following parameter settings, for my "truth" renderings that I'm assuming are as accurate as reasonably possible.

General Parameters: -lr 9 -lw 0.0005 -ps 4 -pt 0.05
Specular Parameters: -ss 2 -st 0 -as 256
Direct Parameters: -dr 3 -dp 1024 -ds 0 -dt 0 -dc 1
Ambient Parameters: -ab 11 -aa 0 -ar 256 -ad 2048

Please let me know if you think I'm missing some important parameters that affect the rendering accuracy.

Thank you for your input,
Andrei Kolomenski


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150806/4ceab425/attachment.html>

From Christopher.Rush at arup.com  Thu Aug  6 08:12:46 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu, 6 Aug 2015 15:12:46 +0000
Subject: [Radiance-general] Effect of -aa parameter on Rpict
	Rendering	Accuracy
In-Reply-To: <AE55A995167B224DBBFA16500E3AB9B304802754@NDJSMBX202.ndc.nasa.gov>
References: <AE55A995167B224DBBFA16500E3AB9B304802754@NDJSMBX202.ndc.nasa.gov>
Message-ID: <88079A360FAC7441AE93ECBF61998236274596E6@AMXExMb02.global.arup.com>

Someone with better understanding of the math of it might hopefully chime in, but my understanding has been that the phrase "and approximately represents the error that is associated with it" - which I think is from the manual page - may cause some undue concern. Similar to recommendations for setting the other parameters, if you want test for stable results, instead of jumping from 0.2 all the way to the extreme 0.01, you might try 0.15, 0.125, 0.1, 0.075 until you don't notice any difference in your results from one to the next. I think you mentioned testing various values for -aa, and what change in results did you see? -aa will sometimes have a stronger impact on rendering time than it does on your results depending on the geometric scale of pixels/points you're trying to discern accurately from your image.

A second note, if you're running -aa 0 you probably want -ps 1 and you want to render an image several times larger than your intended result and filter it down to reduce noise. I'm not sure of the numerical accuracy of this technique but I think this is the usual recommendation. If you were using rtrace for point calculations I suppose the noise introduced in -aa 0 is more visual and should be averaged out in the contributions as measured at the point (if I'm thinking about it clearly), but maybe not if using rtrace without the -I parameter?

Hopefully I'm not oversimplifying, and I make my comments hoping someone will correct my misunderstandings and further expand on it.

-Chris

From: Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.] [mailto:andrei.kolomenski at nasa.gov]
Sent: Thursday, August 06, 2015 10:35 AM
To: Radiance-general at radiance-online.org
Subject: [Radiance-general] Effect of -aa parameter on Rpict Rendering Accuracy

Hello Radiance Community,

The -aa input argument to rpict controls the ambient accuracy of the rendering and approximately represents the error that is associated with it. I ran some tests varying the -aa parameter while holding all other input parameters constant. To my surprise, the execution of a rendering with -aa 0 took 1.6 hours and the a rendering with -aa 0.01 has taken 15 hours and has only finished 28%.

What is considered to be the most accurate rendering? One with no ambient interpolation (-aa 0) or a low error interpolation (-aa 0.01) ?

Overall, what rpict input parameters that will produce the most accurate rendering? Currently, I'm using the following parameter settings, for my "truth" renderings that I'm assuming are as accurate as reasonably possible.

General Parameters: -lr 9 -lw 0.0005 -ps 4 -pt 0.05
Specular Parameters: -ss 2 -st 0 -as 256
Direct Parameters: -dr 3 -dp 1024 -ds 0 -dt 0 -dc 1
Ambient Parameters: -ab 11 -aa 0 -ar 256 -ad 2048

Please let me know if you think I'm missing some important parameters that affect the rendering accuracy.

Thank you for your input,
Andrei Kolomenski


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150806/3d57e14e/attachment.html>

From gregoryjward at gmail.com  Thu Aug  6 09:09:35 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 6 Aug 2015 09:09:35 -0700
Subject: [Radiance-general] diffuse transmission of BRTDfunc
In-Reply-To: <55C34F93.9070105@epfl.ch>
References: <55C1D34B.3090502@epfl.ch>
	<5E1BB715-191A-4661-9E12-4F38E7811800@lmi.net>
	<55C24AD6.2060908@epfl.ch>
	<6A1ED068-616F-4416-B7DE-09B35F8395D0@lmi.net>
	<55C34F93.9070105@epfl.ch>
Message-ID: <D3BE97C4-2F67-4AE0-8CFE-5B5751A848F9@lmi.net>

Hi Jan,

I'm glad this resolved most of your issues. 

Regarding arguments past A10, these variables were provided as a convenience in rayinit.cal as shorthand for arg(N), so to get "A11" just use arg(11), instead.

Cheers,
-Greg

> From: Jan Wienold <jan.wienold at epfl.ch>
> Subject: Re: [Radiance-general] diffuse transmission of BRTDfunc
> Date: August 6, 2015 5:14:11 AM PDT
> 
> Hi Greg,
> 
> many, many thanks!! that helped a lot and solved mostly my problem! My material is now behaving more or less how I want it to :-) .
> 
> In fact the main problem was, that the function for the direct-diffuse must be a vector function, which I didn't realize before :-[ .
> After some tests I realized as well, that this function doesn't distinguish between transmission and reflection per se, but with some simple dot-products in the cal-file between the rays and the surface normal I can distinguish this as well.
> 
> A small remaining question is how to specify additional parameters to be "transferred" to the function in the cal file. If I specify the A10 (within the description of BRTFfunc) , I can access A10 from the cal file as well. In case I specify a "A11" or "A12" or more, I can't access them (error message "rtrace: A11`testfunc: undefined variable"), although I specified them in the BRTDfunc description. Of course I can hard-code these properties in the cal file, but it would be nicer if I can specify it in the material descriptions.
> And: A10 is not used per se by BRTDfunc, or? So at least I can use this one. But I would have 3 other parameters to be submitted to the functions.
> 
> thank you so much!
> 
> Jan
> 
> 
> Am 8/6/15 um 12:51 AM schrieb Greg Ward:
>> Hi Jan,
>> 
>> Are you thinking that the "directional diffuse" component as described in the reference manual refers to light that transfers from direct sources to the diffuse hemisphere?  I suppose this is confusing terminology, and it is something adopted from the computer graphics community rather than the lighting simulation community, but "directional diffuse" refers to reflections and transmission that is neither specular nor Lambertian, but somewhere in between.  As such, it does not refer to how the light arrived at the surface, only what happens to it afterwards.
>> 
>> If you want to treat the Lambertian and specular portions differently, use the separate functions provided in the BRTDfunc type.  The first three variables specify the amount of light reflected in the mirror direction, and the next three specify the amount of light transmitted in the "through" direction.  These are ordinary variables, and may be defined as such in your .cal file, e.g.:
>> 
>> { Mirror reflection color as a function of ray parameters }
>> refl_red = 0.25*RdotP;
>> refl_grn = 0.3*RdotP;
>> refl_blu = 0.31*RdotP;
>> { Direct transmission color as a function of ray parameters -- I am just making these up as examples }
>> trans_red = 0.1/(1+RdotP);
>> trans_grn = 0.2/(1+RdotP);
>> trans_blu = 0.15/(1+RdotP);
>> 
>> Note that we have no information about the incoming light direction for the specular values.  The assumption is that light behaves the same whether it comes from a source or from somewhere else.
>> 
>> For the directional diffuse, we do provide the incident direction, which would be the light source by virtue of how this primitive is evaluated.  This is only provided so you can create a full BSDF function if you like, which needs incident & scattered vectors.  You can name these functions as you like, but they should take at least 3 arguments:
>> 
>> { Example directional-diffuse component, again just making this up }
>> soft_red(ix,iy,iz) = 0.2/PI*abs(ix*Dx+iy*Dy+iz*Dz);
>> soft_grn(ix,iy,iz) = 0.1/PI*abs(ix*Dx+iy*Dy+iz*Dz);
>> soft_blu(ix,iy,iz) = 0.5/PI*abs(ix*Dx+iy*Dy+iz*Dz);
>> 
>> For these functions, the incident source direction is given as the 3 parameters, which are normalized and directed away from the surface.  The standard variables (Dx,Dy,Dz) tell you the normalized direction vector pointed towards the surface.  You would put the above definitions into a file "testingBRTDf.cal" and specify:
>> 
>> void BRTDfunc testing
>> 10
>> 	refl_red refl_grn refl_blu
>> 	trans_red trans_grn trans_blu
>> 	soft_red soft_grn soft_blu
>> 	testingBRTDf.cal
>> 0
>> 9
>> 	0	0	0
>> 	0	0	0
>> 	0	0	0
>> 
>> -----
>> I have chosen to have zero diffuse components added, to give you full control over the diffuse portion in your .cal file.
>> 
>> I hope this helps!
>> -Greg
>> 
>>> From: Jan Wienold <jan.wienold at epfl.ch>
>>> Subject: Re: [Radiance-general] diffuse transmission of BRTDfunc
>>> Date: August 5, 2015 10:41:42 AM PDT
>>> 
>>> Hi Greg,
>>> 
>>> hmm, I have to admit I'm still not clear...
>>> 
>>> In general I think a pattern does not work in my case, since I want to apply a different behavior of the direct-direct and the direct-diffuse transmission, both depending on the angle of incidence of the incoming ray(from the light source). E.g. I want to decrease the direct-direct transmission for a more flat angle of incidence whereas I want to increase at the same time the direct-diffuse transmission. In other words: I want to  control the direct and the diffuse transmission separately  via a function file depended of the light incidence (if possible).
>>> I thought to control the direct-diffuse transmission is possible by using functions for "rbrtd gbrtd bbrtd" and/or "rtdif gtdif btdif " . 
>>> 
>>> Also, honestly, the difference between those two parameters are not completely clear to me:
>>> "The functions rbrtd, gbrtd and bbrtd take the direction to the incident light (and its solid angle) and compute the color coefficients for the directional diffuse part of reflection and transmission." 
>>> and " The diffuse transmittance (must be the same for both sides by physical law) is given by rtdif, gtdif and btdif. "
>>> 
>>> Which one of them I have to use if I wanna change the diffuse behavior? And how? Any function name I used to replace rtdif or rbrtd seem to be impossible, regardless if this function is in the cal-file or even a standard function or name. 
>>> 
>>> So to reduce it to two simple questions:
>>> -In case I have defined a function for the direct-diffuse transmission in a functionfile, how can I apply it in BRTDfunc?
>>> -How can I access in that function file (called by BRTDfunc) to the direction to the incident light? According to rayinit.cal, Dx,Dy,Dz is only available for the prism materials, or? 
>>> 
>>> Thank you very  much!
>>> 
>>> best,
>>> 
>>> Jan
>>> 
>>> 
>>> Am 8/5/15 um 6:47 PM schrieb Greg Ward:
>>>> Hello Jan,
>>>> 
>>>> I suppose this behavior is rather confusing.  Firstly, the reason that "0.1" does not complain whereas ".1" does is because the program stops looking past "0", which it assumes means exactly zero.  This is a special case for specifying that you have no directional diffuse component, since these string arguments are usually used to give the name of a function of three or four parameters.
>>>> 
>>>> In any case, there is no need to specify constant values for the directional diffuse component (other than zero) because that would turn them into a diffuse component, which is already provided in the first six real arguments for this type.  These things are explained as best I can in the materials section of the Radiance reference manual, which I assume you are using:
>>>> 
>>>> 	http://radsite.lbl.gov/radiance/refer/ray.html
>>>> 
>>>> To get a pattern to modify your BRTDfunc, why not use the standard mechanism in Radiance and give it a pattern modifier?  This will modify the diffuse transmission value as well, but perhaps that's OK in your situation.  If not, then you can define a directional diffuse component that ignores the given scattered direction and uses instead the surface position (or whatever) to modify its value in the function file.
>>>> 
>>>> I'm not sure I've explained this well, so please follow up with any questions you have.
>>>> 
>>>> Best,
>>>> -Greg
>>>> 
>>>>> From: Jan Wienold <jan.wienold at epfl.ch>
>>>>> Subject: [Radiance-general] diffuse transmission of BRTDfunc
>>>>> Date: August 5, 2015 2:11:39 AM PDT
>>>>> 
>>>>> Hi all,
>>>>> 
>>>>> I'm a bit stuck by the use of the "old-fashioned" BRTDfunc. Maybe it is a silly question, but I couldn't find anything about this in the discussions so far.
>>>>> 
>>>>> What I want to do is to modify the diffuse transmitted light by a function and using the material BRTDfunc. For the specular transmission and reflection this works pretty well, a function can be defined in a user specified function in a cal file.
>>>>> But if I try to do this for the diffuse component, it immediately fails. In addition (or maybe the same issue) the is a problem in parsing. If I specify for "rbrtd gbrtd bbrtd" and "rtdif gtdif btdif " 0.1 0.1 0.1, the function works properly. But using .1 instead 0.1 it fails as well.
>>>>> It always says "undefined function" in both cases.
>>>>> Any idea?
>>>>> if it is possible to change the diffuse behavior, how would it be possible? And how can I access the angle to the light source? Rdot is giving me only the angle of incidence from the incoming ray to the surface normal, but not between light source and surface normal.
>>>>> below a simple example.
>>>>> thanks a lot
>>>>> 
>>>>> Jan
>>>>> 
>>>>> example of BRTDfunc working properly:
>>>>> 
>>>>> void BRTDfunc testmat
>>>>> 10 0 0 0
>>>>> dirtrans dirtrans dirtrans
>>>>> 0.1 0.1 0.1
>>>>> testfunc.cal
>>>>> 0
>>>>> 9 0.2 0.2 0.2
>>>>> 0.2 0.2 0.2
>>>>> 0.1 0.1 0.1
>>>>> 
>>>>> and testfunc.cal is (for all cases)
>>>>> 
>>>>> {test functionfile}
>>>>> dirtrans=0.25*Rdot*Rdot;
>>>>> diftrans=0.3*sqrt(Rdot*Rdot);
>>>>> 
>>>>> example of BRTDfunc NOT working:
>>>>> 
>>>>> void BRTDfunc testmat
>>>>> 10 0 0 0
>>>>> dirtrans dirtrans dirtrans
>>>>> .1 .1 .1
>>>>> testfunc.cal
>>>>> 0
>>>>> 9 0.2 0.2 0.2
>>>>> 0.2 0.2 0.2
>>>>> .1 .1 .1
>>>>> 
>>>>> or also not working:
>>>>> 
>>>>> void BRTDfunc testmat
>>>>> 10 0 0 0
>>>>> dirtrans dirtrans dirtrans
>>>>> diftrans diftrans diftrans
>>>>> testfunc.cal
>>>>> 0
>>>>> 9 0.2 0.2 0.2
>>>>> 0.2 0.2 0.2
>>>>> diftrans diftrans diftrans
>>>>> 
>>>>> -- 
>>>>> Dr.-Ing.  Jan Wienold
>>>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>>> EPFL ENAC IA LIPID
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150806/afe295c2/attachment-0001.html>

From gregoryjward at gmail.com  Thu Aug  6 09:24:44 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 6 Aug 2015 09:24:44 -0700
Subject: [Radiance-general] Effect of -aa parameter on Rpict
	Rendering	Accuracy
In-Reply-To: <88079A360FAC7441AE93ECBF61998236274596E6@AMXExMb02.global.arup.com>
References: <AE55A995167B224DBBFA16500E3AB9B304802754@NDJSMBX202.ndc.nasa.gov>
	<88079A360FAC7441AE93ECBF61998236274596E6@AMXExMb02.global.arup.com>
Message-ID: <A970E805-183F-4156-AAA2-688B163A021C@lmi.net>

Hi Andrei,

Chris has good advice regarding convergence testing, and the appropriate parameter settings are really dependent on your scene and lighting conditions.  That said, there is a table that discusses various rendering parameters and is a good place to start.  Unfortunately, it is badly in need of an update:

	http://radsite.lbl.gov/radiance/refer/Notes/rpict_options.html

This same out-of-date text file sits in the ray/doc/notes directory of the standard distribution.

The main thing to be aware of is that changing the -aa setting alone is no guarantee of overall accuracy, since this parameter *only* controls the indirect irradiance interpolation accuracy.  If the indirect irradiance values themselves are wrong due to a too-low setting of the -ad parameter (for example), then improving the interpolation won't help you.  This goes for the other parameters as well.  You can think of each as a link in a chain.  It would be great to have an overall accuracy setting, but that would require a much more basic (and necessarily slower) calculation method, such as naive Monte Carlo, to work.

Cheers,
-Greg

> From: Christopher Rush <Christopher.Rush at arup.com>
> Subject: Re: [Radiance-general] Effect of -aa parameter on Rpict Rendering	Accuracy
> Date: August 6, 2015 8:12:46 AM PDT
> 
> Someone with better understanding of the math of it might hopefully chime in, but my understanding has been that the phrase ?and approximately represents the error that is associated with it? ? which I think is from the manual page ? may cause some undue concern. Similar to recommendations for setting the other parameters, if you want test for stable results, instead of jumping from 0.2 all the way to the extreme 0.01, you might try 0.15, 0.125, 0.1, 0.075 until you don?t notice any difference in your results from one to the next. I think you mentioned testing various values for ?aa, and what change in results did you see? ?aa will sometimes have a stronger impact on rendering time than it does on your  results depending on the geometric scale of pixels/points you?re trying to discern accurately from your image.
>  
> A second note, if you?re running ?aa 0 you probably want ?ps 1 and you want to render an image several times larger than your intended result and filter it down to reduce noise. I?m not sure of the numerical accuracy of this technique but I think this is the usual recommendation. If you were using rtrace for point calculations I suppose the noise introduced in ?aa 0 is more visual and should be averaged out in the contributions as measured at the point (if I?m thinking about it clearly), but maybe not if using rtrace without the ?I parameter?
>  
> Hopefully I?m not oversimplifying, and I make my comments hoping someone will correct my misunderstandings and further expand on it.
>  
> -Chris
>  
> From: Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.] [mailto:andrei.kolomenski at nasa.gov] 
> Sent: Thursday, August 06, 2015 10:35 AM
> To: Radiance-general at radiance-online.org
> Subject: [Radiance-general] Effect of -aa parameter on Rpict Rendering Accuracy
>  
> Hello Radiance Community,
>  
> The ?aa input argument to rpict controls the ambient accuracy of the rendering and approximately represents the error that is associated with it. I ran some tests varying the ?aa parameter while holding all other input parameters constant. To my surprise, the execution of a rendering with ?aa 0 took 1.6 hours and the a rendering with ?aa 0.01 has taken 15 hours and has only finished 28%.
>  
> What is considered to be the most accurate rendering? One with no ambient interpolation (-aa 0) or a low error interpolation (-aa 0.01) ?
>  
> Overall, what rpict input parameters that will produce the most accurate rendering? Currently, I?m using the following parameter settings, for my ?truth? renderings that I?m assuming are as accurate as reasonably possible.
>  
> General Parameters: -lr 9 -lw 0.0005 -ps 4 -pt 0.05
> Specular Parameters: -ss 2 -st 0 -as 256
> Direct Parameters: -dr 3 -dp 1024 -ds 0 -dt 0 -dc 1
> Ambient Parameters: -ab 11 -aa 0 -ar 256 -ad 2048
>  
> Please let me know if you think I?m missing some important parameters that affect the rendering accuracy.
>  
> Thank you for your input,
> Andrei Kolomenski
>  
>  
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150806/b6f7a108/attachment.html>

From nathanieljon at gmail.com  Fri Aug  7 09:05:27 2015
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Fri, 7 Aug 2015 12:05:27 -0400
Subject: [Radiance-general] Effect of -aa parameter on Rpict Rendering
	Accuracy
In-Reply-To: <A970E805-183F-4156-AAA2-688B163A021C@lmi.net>
References: <AE55A995167B224DBBFA16500E3AB9B304802754@NDJSMBX202.ndc.nasa.gov>
	<88079A360FAC7441AE93ECBF61998236274596E6@AMXExMb02.global.arup.com>
	<A970E805-183F-4156-AAA2-688B163A021C@lmi.net>
Message-ID: <CAJR73tsNjwzh4O9DGT-S9b4B1yDW-=HPkSu7pnzyRPmUAvKaJw@mail.gmail.com>

Hi Andrei,

I'd add one more thing to Chris and Greg's comments. When you use a
non-zero -aa value, your ray paths that have gone through differing numbers
of bounces to affect the ambient lighting calculation. Thus, it may not be
a fair comparison to use the same -lr and -lw values for comparing -aa 0 to
-aa 0.01. Instead, you might need to choose a smaller -lw or possibly a
larger -lr for your -aa 0 simulation. I've tested a few scenes where I get
significantly more illumination by using a non-zero -aa value, all other
settings being equal, and I generally believe the non-zero -aa simulations
to give closer results to physically measured values.

Also, perhaps Greg can correct me on this, but I'm not sure if there's
anything to be gained by setting -ab larger than -lr when -lr is positive.

Cheers,

Nathaniel

On Thu, Aug 6, 2015 at 12:24 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Andrei,
>
> Chris has good advice regarding convergence testing, and the appropriate
> parameter settings are really dependent on your scene and lighting
> conditions.  That said, there is a table that discusses various rendering
> parameters and is a good place to start.  Unfortunately, it is badly in
> need of an update:
>
> http://radsite.lbl.gov/radiance/refer/Notes/rpict_options.html
>
> This same out-of-date text file sits in the ray/doc/notes directory of the
> standard distribution.
>
> The main thing to be aware of is that changing the -aa setting alone is no
> guarantee of overall accuracy, since this parameter *only* controls the
> indirect irradiance interpolation accuracy.  If the indirect irradiance
> values themselves are wrong due to a too-low setting of the -ad parameter
> (for example), then improving the interpolation won't help you.  This goes
> for the other parameters as well.  You can think of each as a link in a
> chain.  It would be great to have an overall accuracy setting, but that
> would require a much more basic (and necessarily slower) calculation
> method, such as naive Monte Carlo, to work.
>
> Cheers,
> -Greg
>
> *From: *Christopher Rush <Christopher.Rush at arup.com>
>
> *Subject: *Re: [Radiance-general] Effect of -aa parameter on Rpict
> Rendering Accuracy
>
> *Date: *August 6, 2015 8:12:46 AM PDT
>
>
> Someone with better understanding of the math of it might hopefully chime
> in, but my understanding has been that the phrase ?and approximately
> represents the error that is associated with it? ? which I think is from
> the manual page ? may cause some undue concern. Similar to recommendations
> for setting the other parameters, if you want test for stable results,
> instead of jumping from 0.2 all the way to the extreme 0.01, you might try
> 0.15, 0.125, 0.1, 0.075 until you don?t notice any difference in your
> results from one to the next. I think you mentioned testing various values
> for ?aa, and what change in results did you see? ?aa will sometimes have a
> stronger impact on rendering time than it does on your results depending on
> the geometric scale of pixels/points you?re trying to discern accurately
> from your image.
>
>
>
> A second note, if you?re running ?aa 0 you probably want ?ps 1 and you
> want to render an image several times larger than your intended result and
> filter it down to reduce noise. I?m not sure of the numerical accuracy of
> this technique but I think this is the usual recommendation. If you were
> using rtrace for point calculations I suppose the noise introduced in ?aa 0
> is more visual and should be averaged out in the contributions as measured
> at the point (if I?m thinking about it clearly), but maybe not if using
> rtrace without the ?I parameter?
>
>
>
> Hopefully I?m not oversimplifying, and I make my comments hoping someone
> will correct my misunderstandings and further expand on it.
>
>
>
> -Chris
>
>
>
> *From:* Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.] [mailto:
> andrei.kolomenski at nasa.gov]
> *Sent:* Thursday, August 06, 2015 10:35 AM
> *To:* Radiance-general at radiance-online.org
> *Subject:* [Radiance-general] Effect of -aa parameter on Rpict Rendering
> Accuracy
>
>
>
> Hello Radiance Community,
>
>
>
> The ?aa input argument to rpict controls the ambient accuracy of the
> rendering and approximately represents the error that is associated with
> it. I ran some tests varying the ?aa parameter while holding all other
> input parameters constant. To my surprise, the execution of a rendering
> with ?aa 0 took 1.6 hours and the a rendering with ?aa 0.01 has taken 15
> hours and has only finished 28%.
>
>
>
> What is considered to be the most accurate rendering? One with no ambient
> interpolation (-aa 0) or a low error interpolation (-aa 0.01) ?
>
>
>
> Overall, what rpict input parameters that will produce the most accurate
> rendering? Currently, I?m using the following parameter settings, for my
> ?truth? renderings that I?m assuming are as accurate as reasonably possible.
>
>
>
> General Parameters: -lr 9 -lw 0.0005 -ps 4 -pt 0.05
>
> Specular Parameters: -ss 2 -st 0 -as 256
>
> Direct Parameters: -dr 3 -dp 1024 -ds 0 -dt 0 -dc 1
>
> Ambient Parameters: -ab 11 -aa 0 -ar 256 -ad 2048
>
>
>
> Please let me know if you think I?m missing some important parameters that
> affect the rendering accuracy.
>
>
>
> Thank you for your input,
>
> Andrei Kolomenski
>
>
>
>
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150807/9220497f/attachment.html>

From gregoryjward at gmail.com  Fri Aug  7 09:25:59 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 7 Aug 2015 09:25:59 -0700
Subject: [Radiance-general] Effect of -aa parameter on Rpict Rendering
	Accuracy
In-Reply-To: <CAJR73tsNjwzh4O9DGT-S9b4B1yDW-=HPkSu7pnzyRPmUAvKaJw@mail.gmail.com>
References: <AE55A995167B224DBBFA16500E3AB9B304802754@NDJSMBX202.ndc.nasa.gov>
	<88079A360FAC7441AE93ECBF61998236274596E6@AMXExMb02.global.arup.com>
	<A970E805-183F-4156-AAA2-688B163A021C@lmi.net>
	<CAJR73tsNjwzh4O9DGT-S9b4B1yDW-=HPkSu7pnzyRPmUAvKaJw@mail.gmail.com>
Message-ID: <447810E5-75C6-49E4-9852-04BD07E0C50C@lmi.net>

Yeah, what HE said!

-Greg

> From: Nathaniel Jones <nathanieljon at gmail.com>
> Subject: Re: [Radiance-general] Effect of -aa parameter on Rpict Rendering Accuracy
> Date: August 7, 2015 9:05:27 AM PDT
> 
> Hi Andrei,
> 
> I'd add one more thing to Chris and Greg's comments. When you use a non-zero -aa value, your ray paths that have gone through differing numbers of bounces to affect the ambient lighting calculation. Thus, it may not be a fair comparison to use the same -lr and -lw values for comparing -aa 0 to -aa 0.01. Instead, you might need to choose a smaller -lw or possibly a larger -lr for your -aa 0 simulation. I've tested a few scenes where I get significantly more illumination by using a non-zero -aa value, all other settings being equal, and I generally believe the non-zero -aa simulations to give closer results to physically measured values.
> 
> Also, perhaps Greg can correct me on this, but I'm not sure if there's anything to be gained by setting -ab larger than -lr when -lr is positive.
> 
> Cheers,
> 
> Nathaniel
> 
> On Thu, Aug 6, 2015 at 12:24 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi Andrei,
> 
> Chris has good advice regarding convergence testing, and the appropriate parameter settings are really dependent on your scene and lighting conditions.  That said, there is a table that discusses various rendering parameters and is a good place to start.  Unfortunately, it is badly in need of an update:
> 
> 	http://radsite.lbl.gov/radiance/refer/Notes/rpict_options.html
> 
> This same out-of-date text file sits in the ray/doc/notes directory of the standard distribution.
> 
> The main thing to be aware of is that changing the -aa setting alone is no guarantee of overall accuracy, since this parameter *only* controls the indirect irradiance interpolation accuracy.  If the indirect irradiance values themselves are wrong due to a too-low setting of the -ad parameter (for example), then improving the interpolation won't help you.  This goes for the other parameters as well.  You can think of each as a link in a chain.  It would be great to have an overall accuracy setting, but that would require a much more basic (and necessarily slower) calculation method, such as naive Monte Carlo, to work.
> 
> Cheers,
> -Greg
> 
>> From: Christopher Rush <Christopher.Rush at arup.com>
>> Subject: Re: [Radiance-general] Effect of -aa parameter on Rpict Rendering	Accuracy
>> Date: August 6, 2015 8:12:46 AM PDT
>> 
>> Someone with better understanding of the math of it might hopefully chime in, but my understanding has been that the phrase ?and approximately represents the error that is associated with it? ? which I think is from the manual page ? may cause some undue concern. Similar to recommendations for setting the other parameters, if you want test for stable results, instead of jumping from 0.2 all the way to the extreme 0.01, you might try 0.15, 0.125, 0.1, 0.075 until you don?t notice any difference in your results from one to the next. I think you mentioned testing various values for ?aa, and what change in results did you see? ?aa will sometimes have a stronger impact on rendering time than it does on your results depending on the geometric scale of pixels/points you?re trying to discern accurately from your image.
>> 
>>  
>> 
>> A second note, if you?re running ?aa 0 you probably want ?ps 1 and you want to render an image several times larger than your intended result and filter it down to reduce noise. I?m not sure of the numerical accuracy of this technique but I think this is the usual recommendation. If you were using rtrace for point calculations I suppose the noise introduced in ?aa 0 is more visual and should be averaged out in the contributions as measured at the point (if I?m thinking about it clearly), but maybe not if using rtrace without the ?I parameter?
>> 
>>  
>> 
>> Hopefully I?m not oversimplifying, and I make my comments hoping someone will correct my misunderstandings and further expand on it.
>> 
>>  
>> 
>> -Chris
>> 
>>  
>> 
>> From: Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.] [mailto:andrei.kolomenski at nasa.gov] 
>> Sent: Thursday, August 06, 2015 10:35 AM
>> To: Radiance-general at radiance-online.org
>> Subject: [Radiance-general] Effect of -aa parameter on Rpict Rendering Accuracy
>> 
>>  
>> 
>> Hello Radiance Community,
>> 
>>  
>> 
>> The ?aa input argument to rpict controls the ambient accuracy of the rendering and approximately represents the error that is associated with it. I ran some tests varying the ?aa parameter while holding all other input parameters constant. To my surprise, the execution of a rendering with ?aa 0 took 1.6 hours and the a rendering with ?aa 0.01 has taken 15 hours and has only finished 28%.
>> 
>>  
>> 
>> What is considered to be the most accurate rendering? One with no ambient interpolation (-aa 0) or a low error interpolation (-aa 0.01) ?
>> 
>>  
>> 
>> Overall, what rpict input parameters that will produce the most accurate rendering? Currently, I?m using the following parameter settings, for my ?truth? renderings that I?m assuming are as accurate as reasonably possible.
>> 
>>  
>> 
>> General Parameters: -lr 9 -lw 0.0005 -ps 4 -pt 0.05
>> 
>> Specular Parameters: -ss 2 -st 0 -as 256
>> 
>> Direct Parameters: -dr 3 -dp 1024 -ds 0 -dt 0 -dc 1
>> 
>> Ambient Parameters: -ab 11 -aa 0 -ar 256 -ad 2048
>> 
>>  
>> 
>> Please let me know if you think I?m missing some important parameters that affect the rendering accuracy.
>> 
>>  
>> 
>> Thank you for your input,
>> 
>> Andrei Kolomenski
>> 
>>  
>> 
>>  
>> 
>> ____________________________________________________________
>> Electronic mail messages entering and leaving Arup  business
>> systems are scanned for acceptability of content and viruses
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150807/80c13f54/attachment-0001.html>

From germolinal at gmail.com  Fri Aug  7 11:09:20 2015
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Fri, 7 Aug 2015 15:09:20 -0300
Subject: [Radiance-general] Luminaire modelling using Radiance
Message-ID: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>

Hello everyone,

I think this might be a silly question, but I actually have not found too
much information on how to model luminaires using Radiance... I am asking
this because I want to add this feature to the plugin I am developing.

What is the recommended method for modelling luminaires in Radiance? I
intend to use IES files as input. Hopefully I would also have the geometry,
but I have to consider cases when this is not available.

I know there is an IES2RAD program, but I am not quite sure how general it
is. Also, I have heard about the use of illums (a sphere, for example) that
covers the entire luminaire....?

I am kind of lost, so if someone could give me a hint, I would really
appreciate it.

Also, if someone know where to find information about IES files and their
format, that would also be really helpful.

THANKS

Germ?n
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150807/37370cb5/attachment.html>

From Christopher.Rush at arup.com  Fri Aug  7 12:14:31 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 7 Aug 2015 19:14:31 +0000
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
Message-ID: <88079A360FAC7441AE93ECBF619982362745A764@AMXExMb02.global.arup.com>

Germ?n,

Appendix A and Appendix B of this linked document are excellent reference for the file format of IES and Elumdat files:
http://www.helios32.com/Thinking%20Photometrically%20II.pdf

One of things you?ll see is that the IES file includes a crude dimensional information for the X Y and Z size of the luminaire. Negative numbers in the file can be used to indicate if a dimension indicates a dimension of a round rather than rectangular shape. In manufacturer IES data the geometric information is often missing altogether, Z dimension is omitted for recessed luminaires, or the X and Y dimensions are in the wrong places in relation to the photometric distribution.

If you use the IES2RAD command it will produce a geometric definition of the luminaire based purely on the X Y Z dimension definition in the IES file. So it?s best to correct the dimensions by editing the IES file with a text editor prior to running IES2RAD. Otherwise once you run IES2RAD it?s easier to make a mistake if you scale the fixture geometry and scale the intensity accordingly after the conversion.

-Chris
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150807/c14acb85/attachment.html>

From tbleicher at gmail.com  Sat Aug  8 07:46:57 2015
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Sat, 8 Aug 2015 10:46:57 -0400
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
Message-ID: <CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>

Hi German.

The most important information you need you will find in the ies2rad man
page. In general you use it to create a library of luminaire *.rad and
*.dat files which you can later reference into your scenes via xform. I
found it more convenient and flexible for my exporters to create files with
triangular markers and use "!replmarks ..." to place multiple luminaire
files. That way you can later replace all luminaires in an array with a
single change in the scene file.

When you write a plugin you have to pay attention to the units of the ies
file and adjust the -d parameter accordingly. Unfortunately ies2rad doesn't
read that information from the file.

The geometry in IES files is limited to discs, ovals, rectangles and
extrusions of these shapes. Mostly you will find the 2 dimensional shapes
for recessed and spot lights while the 3 dimensional shapes are used for
pendants (boxes and cylinders). If you want to avoid these crude things in
your model and use detailed geometry instead (from a dxf file, for example)
then you use the -i option to create an illum sphere. The sphere will be
used with the luminance data generated from the ies file. You have to place
the detailed geometry of fixture into the sphere yourself. ies2rad doesn't
do that for you.

I found that geometry provided by manufacturers is very detailed and can
lead to problems in large models. MGF geometry information is extremely
rare.

You can use the -t option to set the lamp type. This defines the color
temperature. The -m option allows you to set a maintenance factor that all
artificial lighting calculations require. Not that some lamp type entries
in the lamp.tab file already include a correction factor for the lamp so
you have to take this into account when calculating the final value of -m.
I found it safest to use "-t WHITE" (which does not have a correction) and
lump all the efficiency reductions and maintenance factors together into a
single -m value.

European manufacturers provide are more likely to provide Eulumdat file
specs for their luminairs. Sometimes they convert these for you into IES
files. If you can only get LDT files you can use DIALUX or something
similar to convert the LDT to IES files. It used to offer this option a few
year ago, at least. There may be other converters out there, but I don't
remember the names.

Hth, Thomas

On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain <germolinal at gmail.com>
wrote:

> Hello everyone,
>
> I think this might be a silly question, but I actually have not found too
> much information on how to model luminaires using Radiance... I am asking
> this because I want to add this feature to the plugin I am developing.
>
> What is the recommended method for modelling luminaires in Radiance? I
> intend to use IES files as input. Hopefully I would also have the geometry,
> but I have to consider cases when this is not available.
>
> I know there is an IES2RAD program, but I am not quite sure how general it
> is. Also, I have heard about the use of illums (a sphere, for example) that
> covers the entire luminaire....?
>
> I am kind of lost, so if someone could give me a hint, I would really
> appreciate it.
>
> Also, if someone know where to find information about IES files and their
> format, that would also be really helpful.
>
> THANKS
>
> Germ?n
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150808/6b41ce61/attachment.html>

From rmfritz3 at gmail.com  Sat Aug  8 13:31:45 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Sat, 8 Aug 2015 13:31:45 -0700
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
Message-ID: <CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>

The basic technique is to wrap the visible geometry of the luminaire, if
any, with a glow in a simple shape that actually radiates the light. The
glow is transparent, so that the geometry can be seen, and direct
illumination does not pass through the glow, so light can be used internal
to the glow to give the luminaire a realistic look.

The glow geometry and description may be generated by ies2rad. IIRC only
four shapes are supported: sphere, rectangular, cuboid (box), and thin disc.

Ies2rad does not support eulumdat and again, IIRC, has not been updated to
support the latest IES photometry standard, LM-63-02.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 390 4477 || rmfritz3 at gmail.com

On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com> wrote:
> Hi German.
>
> The most important information you need you will find in the ies2rad man
> page. In general you use it to create a library of luminaire *.rad and
*.dat
> files which you can later reference into your scenes via xform. I found it
> more convenient and flexible for my exporters to create files with
> triangular markers and use "!replmarks ..." to place multiple luminaire
> files. That way you can later replace all luminaires in an array with a
> single change in the scene file.
>
> When you write a plugin you have to pay attention to the units of the ies
> file and adjust the -d parameter accordingly. Unfortunately ies2rad
doesn't
> read that information from the file.
>
> The geometry in IES files is limited to discs, ovals, rectangles and
> extrusions of these shapes. Mostly you will find the 2 dimensional shapes
> for recessed and spot lights while the 3 dimensional shapes are used for
> pendants (boxes and cylinders). If you want to avoid these crude things in
> your model and use detailed geometry instead (from a dxf file, for
example)
> then you use the -i option to create an illum sphere. The sphere will be
> used with the luminance data generated from the ies file. You have to
place
> the detailed geometry of fixture into the sphere yourself. ies2rad doesn't
> do that for you.
>
> I found that geometry provided by manufacturers is very detailed and can
> lead to problems in large models. MGF geometry information is extremely
> rare.
>
> You can use the -t option to set the lamp type. This defines the color
> temperature. The -m option allows you to set a maintenance factor that all
> artificial lighting calculations require. Not that some lamp type entries
in
> the lamp.tab file already include a correction factor for the lamp so you
> have to take this into account when calculating the final value of -m. I
> found it safest to use "-t WHITE" (which does not have a correction) and
> lump all the efficiency reductions and maintenance factors together into a
> single -m value.
>
> European manufacturers provide are more likely to provide Eulumdat file
> specs for their luminairs. Sometimes they convert these for you into IES
> files. If you can only get LDT files you can use DIALUX or something
similar
> to convert the LDT to IES files. It used to offer this option a few year
> ago, at least. There may be other converters out there, but I don't
remember
> the names.
>
> Hth, Thomas
>
> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain <
germolinal at gmail.com>
> wrote:
>>
>> Hello everyone,
>>
>> I think this might be a silly question, but I actually have not found too
>> much information on how to model luminaires using Radiance... I am asking
>> this because I want to add this feature to the plugin I am developing.
>>
>> What is the recommended method for modelling luminaires in Radiance? I
>> intend to use IES files as input. Hopefully I would also have the
geometry,
>> but I have to consider cases when this is not available.
>>
>> I know there is an IES2RAD program, but I am not quite sure how general
it
>> is. Also, I have heard about the use of illums (a sphere, for example)
that
>> covers the entire luminaire....?
>>
>> I am kind of lost, so if someone could give me a hint, I would really
>> appreciate it.
>>
>> Also, if someone know where to find information about IES files and their
>> format, that would also be really helpful.
>>
>> THANKS
>>
>> Germ?n
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150808/f8516c07/attachment.html>

From rob.guglielmetti at gmail.com  Sat Aug  8 13:59:15 2015
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sat, 8 Aug 2015 14:59:15 -0600
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
Message-ID: <etPan.55c66da3.3a95f874.8ac@explosivo-2.local>

Thomas has great info on lamp color and using replmarks. ?Further to Randolph?s post, the idea is to wrap the luminaire geometry as tightly as possible using the shapes Randolph mentioned, but this enveloping geometry will have *illum* applied to it, not glow. The glow is used to illuminate the luminaire geometry itself so that it appears realistic in a rendering. You apply glows to the lamp objects in the luminaire generally, or you could apply them to any shades or lenses in the luminaire.?

The luminous intensity of the illum is derived from the input lumens in the IES file and is modulated by a few cal files, which use the candela values from the IES file. The lamp color utility can give you reasonable values to use for the glows, based on lamp input lumens. Again, the glows illuminate the local luminaire geometry, and the illums actually illuminate the space. The ileum material is invisible when viewed directly, which is why you need the glows to make the luminaries appear correct in a rendering. The flux from the glow also does not make it past the illum geometry and so it does not contribute to the scene illumination or any calculations.?

There is some info on using illums and glows here:

http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/

I did a bunch of crap with different illum geometry and cal files (lboxcorr.cal et al.) and got pretty good at picking the best ones for the jobs at hand (wall mounted sconces and stuff like that can be tricky to get looking ?right?), but never got around to posting a summary on that stuff. A good place to start is just running a few different luminaire types though ies2rad and see what you get, and then play with the output files from there.?

Are we having fun yet?

-Rob

From:?Randolph M. Fritz <rmfritz3 at gmail.com>
Reply:?Radiance general discussion <radiance-general at radiance-online.org>>
Date:?August 8, 2015 at 2:32:01 PM
To:?Radiance general discussion <radiance-general at radiance-online.org>>
Subject:? Re: [Radiance-general] Luminaire modelling using Radiance  

The basic technique is to wrap the visible geometry of the luminaire, if any, with a glow in a simple shape that actually radiates the light. The glow is transparent, so that the geometry can be seen, and direct illumination does not pass through the glow, so light can be used internal to the glow to give the luminaire a realistic look.

The glow geometry and description may be generated by ies2rad. IIRC only four shapes are supported: sphere, rectangular, cuboid (box), and thin disc.

Ies2rad does not support eulumdat and again, IIRC, has not been updated to support the latest IES photometry standard, LM-63-02.

--
Randolph M. Fritz, Lighting Design and Simulation
+1 206 390 4477 || rmfritz3 at gmail.com

On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com> wrote:
> Hi German.
>
> The most important information you need you will find in the ies2rad man
> page. In general you use it to create a library of luminaire *.rad and *.dat
> files which you can later reference into your scenes via xform. I found it
> more convenient and flexible for my exporters to create files with
> triangular markers and use "!replmarks ..." to place multiple luminaire
> files. That way you can later replace all luminaires in an array with a
> single change in the scene file.
>
> When you write a plugin you have to pay attention to the units of the ies
> file and adjust the -d parameter accordingly. Unfortunately ies2rad doesn't
> read that information from the file.
>
> The geometry in IES files is limited to discs, ovals, rectangles and
> extrusions of these shapes. Mostly you will find the 2 dimensional shapes
> for recessed and spot lights while the 3 dimensional shapes are used for
> pendants (boxes and cylinders). If you want to avoid these crude things in
> your model and use detailed geometry instead (from a dxf file, for example)
> then you use the -i option to create an illum sphere. The sphere will be
> used with the luminance data generated from the ies file. You have to place
> the detailed geometry of fixture into the sphere yourself. ies2rad doesn't
> do that for you.
>
> I found that geometry provided by manufacturers is very detailed and can
> lead to problems in large models. MGF geometry information is extremely
> rare.
>
> You can use the -t option to set the lamp type. This defines the color
> temperature. The -m option allows you to set a maintenance factor that all
> artificial lighting calculations require. Not that some lamp type entries in
> the lamp.tab file already include a correction factor for the lamp so you
> have to take this into account when calculating the final value of -m. I
> found it safest to use "-t WHITE" (which does not have a correction) and
> lump all the efficiency reductions and maintenance factors together into a
> single -m value.
>
> European manufacturers provide are more likely to provide Eulumdat file
> specs for their luminairs. Sometimes they convert these for you into IES
> files. If you can only get LDT files you can use DIALUX or something similar
> to convert the LDT to IES files. It used to offer this option a few year
> ago, at least. There may be other converters out there, but I don't remember
> the names.
>
> Hth, Thomas
>
> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain <germolinal at gmail.com>
> wrote:
>>
>> Hello everyone,
>>
>> I think this might be a silly question, but I actually have not found too
>> much information on how to model luminaires using Radiance... I am asking
>> this because I want to add this feature to the plugin I am developing.
>>
>> What is the recommended method for modelling luminaires in Radiance? I
>> intend to use IES files as input. Hopefully I would also have the geometry,
>> but I have to consider cases when this is not available.
>>
>> I know there is an IES2RAD program, but I am not quite sure how general it
>> is. Also, I have heard about the use of illums (a sphere, for example) that
>> covers the entire luminaire....?
>>
>> I am kind of lost, so if someone could give me a hint, I would really
>> appreciate it.
>>
>> Also, if someone know where to find information about IES files and their
>> format, that would also be really helpful.
>>
>> THANKS
>>
>> Germ?n
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>

_______________________________________________  
Radiance-general mailing list  
Radiance-general at radiance-online.org  
http://www.radiance-online.org/mailman/listinfo/radiance-general  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150808/fd36776f/attachment-0001.html>

From rmfritz3 at gmail.com  Sat Aug  8 15:52:45 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Sat, 8 Aug 2015 15:52:45 -0700
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
Message-ID: <CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>

"Further to Randolph?s post, the idea is to wrap the luminaire
geometry as tightly as possible using the shapes Randolph mentioned,
but this enveloping geometry will have *illum* applied to it, not
glow"

Duh. Rob is, of course, quite correct.
-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 390 4477 || rmfritz3 at gmail.com


On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
<rob.guglielmetti at gmail.com> wrote:
> Thomas has great info on lamp color and using replmarks.  Further to
> Randolph?s post, the idea is to wrap the luminaire geometry as tightly as
> possible using the shapes Randolph mentioned, but this enveloping geometry
> will have *illum* applied to it, not glow. The glow is used to illuminate
> the luminaire geometry itself so that it appears realistic in a rendering.
> You apply glows to the lamp objects in the luminaire generally, or you could
> apply them to any shades or lenses in the luminaire.
>
> The luminous intensity of the illum is derived from the input lumens in the
> IES file and is modulated by a few cal files, which use the candela values
> from the IES file. The lamp color utility can give you reasonable values to
> use for the glows, based on lamp input lumens. Again, the glows illuminate
> the local luminaire geometry, and the illums actually illuminate the space.
> The ileum material is invisible when viewed directly, which is why you need
> the glows to make the luminaries appear correct in a rendering. The flux
> from the glow also does not make it past the illum geometry and so it does
> not contribute to the scene illumination or any calculations.
>
> There is some info on using illums and glows here:
>
> http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
>
> I did a bunch of crap with different illum geometry and cal files
> (lboxcorr.cal et al.) and got pretty good at picking the best ones for the
> jobs at hand (wall mounted sconces and stuff like that can be tricky to get
> looking ?right?), but never got around to posting a summary on that stuff. A
> good place to start is just running a few different luminaire types though
> ies2rad and see what you get, and then play with the output files from
> there.
>
> Are we having fun yet?
>
> -Rob
>
> From: Randolph M. Fritz <rmfritz3 at gmail.com>
> Reply: Radiance general discussion <radiance-general at radiance-online.org>>
> Date: August 8, 2015 at 2:32:01 PM
> To: Radiance general discussion <radiance-general at radiance-online.org>>
> Subject:  Re: [Radiance-general] Luminaire modelling using Radiance
>
> The basic technique is to wrap the visible geometry of the luminaire, if
> any, with a glow in a simple shape that actually radiates the light. The
> glow is transparent, so that the geometry can be seen, and direct
> illumination does not pass through the glow, so light can be used internal
> to the glow to give the luminaire a realistic look.
>
> The glow geometry and description may be generated by ies2rad. IIRC only
> four shapes are supported: sphere, rectangular, cuboid (box), and thin disc.
>
> Ies2rad does not support eulumdat and again, IIRC, has not been updated to
> support the latest IES photometry standard, LM-63-02.
>
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 390 4477 || rmfritz3 at gmail.com
>
> On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com> wrote:
>> Hi German.
>>
>> The most important information you need you will find in the ies2rad man
>> page. In general you use it to create a library of luminaire *.rad and
>> *.dat
>> files which you can later reference into your scenes via xform. I found it
>> more convenient and flexible for my exporters to create files with
>> triangular markers and use "!replmarks ..." to place multiple luminaire
>> files. That way you can later replace all luminaires in an array with a
>> single change in the scene file.
>>
>> When you write a plugin you have to pay attention to the units of the ies
>> file and adjust the -d parameter accordingly. Unfortunately ies2rad
>> doesn't
>> read that information from the file.
>>
>> The geometry in IES files is limited to discs, ovals, rectangles and
>> extrusions of these shapes. Mostly you will find the 2 dimensional shapes
>> for recessed and spot lights while the 3 dimensional shapes are used for
>> pendants (boxes and cylinders). If you want to avoid these crude things in
>> your model and use detailed geometry instead (from a dxf file, for
>> example)
>> then you use the -i option to create an illum sphere. The sphere will be
>> used with the luminance data generated from the ies file. You have to
>> place
>> the detailed geometry of fixture into the sphere yourself. ies2rad doesn't
>> do that for you.
>>
>> I found that geometry provided by manufacturers is very detailed and can
>> lead to problems in large models. MGF geometry information is extremely
>> rare.
>>
>> You can use the -t option to set the lamp type. This defines the color
>> temperature. The -m option allows you to set a maintenance factor that all
>> artificial lighting calculations require. Not that some lamp type entries
>> in
>> the lamp.tab file already include a correction factor for the lamp so you
>> have to take this into account when calculating the final value of -m. I
>> found it safest to use "-t WHITE" (which does not have a correction) and
>> lump all the efficiency reductions and maintenance factors together into a
>> single -m value.
>>
>> European manufacturers provide are more likely to provide Eulumdat file
>> specs for their luminairs. Sometimes they convert these for you into IES
>> files. If you can only get LDT files you can use DIALUX or something
>> similar
>> to convert the LDT to IES files. It used to offer this option a few year
>> ago, at least. There may be other converters out there, but I don't
>> remember
>> the names.
>>
>> Hth, Thomas
>>
>> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
>> <germolinal at gmail.com>
>> wrote:
>>>
>>> Hello everyone,
>>>
>>> I think this might be a silly question, but I actually have not found too
>>> much information on how to model luminaires using Radiance... I am asking
>>> this because I want to add this feature to the plugin I am developing.
>>>
>>> What is the recommended method for modelling luminaires in Radiance? I
>>> intend to use IES files as input. Hopefully I would also have the
>>> geometry,
>>> but I have to consider cases when this is not available.
>>>
>>> I know there is an IES2RAD program, but I am not quite sure how general
>>> it
>>> is. Also, I have heard about the use of illums (a sphere, for example)
>>> that
>>> covers the entire luminaire....?
>>>
>>> I am kind of lost, so if someone could give me a hint, I would really
>>> appreciate it.
>>>
>>> Also, if someone know where to find information about IES files and their
>>> format, that would also be really helpful.
>>>
>>> THANKS
>>>
>>> Germ?n
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From ezxia at nottingham.ac.uk  Mon Aug 10 04:51:25 2015
From: ezxia at nottingham.ac.uk (Ikrima Amaireh)
Date: Mon, 10 Aug 2015 12:51:25 +0100
Subject: [Radiance-general] Ray-tracing with Radiance
Message-ID: <D697763F9F216044A99BC674C0056196135AD102B2@EXCHANGE1.ad.nottingham.ac.uk>

Hello Robert,
Hello all,

As some of you may remember, I am trying to model a set of CFS to compare their effect on indoor horizontal illuminance of a room. So far, I have been advised by you for several stages, which really helped me a lot for better understanding of radiance and how it works.

Now, I have a question about how I use ray-tracing method in radiance? Is it similar to the way explained through the following attachment? As here, calculations are run using Radiance engine but Ecotect or Daysim interface (for geometry modelling and material assignment).

Document: http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/GettingStartedwithEcotectRadianceDaysim.pdf

I hope if you can kindly advise me on that asap, please?


Best regards
Ikrima



-----Original Message-----
From: radiance-general-request at radiance-online.org [mailto:radiance-general-request at radiance-online.org]
Sent: 12 July 2015 20:37
To: radiance-general at radiance-online.org
Subject: Radiance-general Digest, Vol 137, Issue 12

Send Radiance-general mailing list submissions to
        radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
        http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
        radiance-general-request at radiance-online.org

You can reach the person managing the list at
        radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Git for Windows and starting tutorials (Ikrima Amaireh)


----------------------------------------------------------------------

Message: 1
Date: Sun, 12 Jul 2015 20:36:19 +0100
From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
To: "radiance-general at radiance-online.org"
        <radiance-general at radiance-online.org>
Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
Subject: [Radiance-general] Git for Windows and starting tutorials
Message-ID:
        <D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.uk>

Content-Type: text/plain; charset="us-ascii"

Hi Robert,

Many thanks for your help.

I have installed Git for Windows as you adviced :) Now, Before I start with 3 or 5-phase tutorials, I'm thinking to go through "radiance tutorial" (by Axel Jacobs) as a beginner with almost a shallow knowledge/experience of radiance. So, do recommend this (radiance tutorial would be enough to start with 3 or 5-phase methods and understanding of BSDF data approach, etc) or advice another tutorial/source for better understanding of radiance basics (using command prompt)?

Many thanks again :)

Regards
Ikrima



------------------------------

Message: 2
Date: Fri, 10 Jul 2015 15:52:23 +0000
From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
To: "radiance-general at radiance-online.org"
        <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
        Issue 8
Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
Content-Type: text/plain; charset="us-ascii"

OK so it sounds like you first tried the Windows installer (presumably a NREL-provided one such as this:
https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.0.a-w
in64.exe), and this most likely worked fine, you just had some issues actually *doing* anything with it. This is normal. =)

I recommend you install Git for windows (https://msysgit.github.io/), as that will add a little BASH emulator in your Windows system. This way you can run most of the commands exactly as they appear in most of the tutorials out there that are written from a UNIX perspective (as you point out). If you run the "Git BASH shell" you will be able to try out all the multi-phase methods, use and generate BSDFs, etc. Once you have Git for Windows installed, head over to Andy McNeil's tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be in the Git program group in the Windows start menu), and get started!

One thing to keep in mind is that when running any commands that read/write data (e.g. rcontrib), be sure to use ASCII format rather than float. Windows has issues with float data (among many other things).

Good luck!

- Rob

On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:

>Hi Robert,
>
>My PC is running on Windows 7 Enterprise.
>Initially, I installed Radiance for Window using its installer but I
>found that most of the tutorials are provided for pc with Linux and/or
>Linux-like operating systems; So I had to install try learnix (that did
>not work) and Ubuntu (also did not work)!
>Finally, I tried to use Cygwin to run Radiance on Window OS. I could
>install Cygwin (works fine), Xming (not sure if working) and Radiance
>(not all its programs are working!).
>
>I'm a bit confused as I'm not sure if running Radiance on windows using
>Cygwin will be enough for carrying my work. For example, can I work out
>phases methods and generate BSDF data?
>
>I wish if you can help me to do that.
>
>Many thanks
>ikrima
>
>
>
>------------------------------
>
>Message: 3
>Date: Thu, 9 Jul 2015 16:44:49 +0000
>From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>To: "radiance-general at radiance-online.org"
>       <radiance-general at radiance-online.org>
>Subject: Re: [Radiance-general] Could not install Radiance!!!
>Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>Content-Type: text/plain; charset="us-ascii"
>
>Hi Ikrima,
>
>We'll need a bit more info, here. What OS are you on? How are you
>attempting to install it (using an installer, compiling from source, or
>what)? What happens when you try??
>
>On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
>>Hi all,
>>
>>After one a few weeks of trying, I could not manage to install
>>radiance properly. I am almost disappointed! Please any help?
>>
>>Regards
>>Ikrima
>
>
>
>
>This message and any attachment are intended solely for the addressee
>and may contain confidential information. If you have received this
>message in error, please send it back to me, and immediately delete it.
>
>Please do not use, copy or disclose the information contained in this
>message or in any attachment.  Any views or opinions expressed by the
>author of this email do not necessarily reflect the views of the
>University of Nottingham.
>
>This message has been checked for viruses but the contents of an
>attachment may still contain software viruses which could damage your
>computer system, you are advised to perform your own checks. Email
>communications with the University of Nottingham may be monitored as
>permitted by UK legislation.
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general




------------------------------

Message: 3
Date: Fri, 10 Jul 2015 17:34:30 +0100
From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
To: "radiance-general at radiance-online.org"
        <radiance-general at radiance-online.org>
Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
Subject: [Radiance-general] Modelling CFS
Message-ID:
        <D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.uk>

Content-Type: text/plain; charset="us-ascii"

Hi all,

Thanks Robert and Larrain for your detailed replies, that helped me a lot.

I would summarise here what I got form your appreciated replies, as following:
- Radiance is convenient and best of tools to model daylighting due to its ray-tracing method.
- 3 or 5-phases methods are used to facilitate the calculations.
- Generating BSDF data is also used to facilitate these calculations but it is limited to Klems resolution of some CFS.

Initially, I'm not planning to do annual calculations. It's just for specific hours of the day and the target is to produce a illuminance levels for indoor grid under different CFSs. Hence, according to my understanding from Larrain words, I can use either 2-phase or Ray-tracing methods. My question is how can I draw/define the CFS geometry and Space for these calculations? Is it similar to the way use in Ecotect/Radiance calculations?

Regards
Ikrima


 -----Original Message-----
From: radiance-general-request at radiance-online.org [mailto:radiance-general-request at radiance-online.org]
Sent: 09 July 2015 19:56
To: radiance-general at radiance-online.org
Subject: Radiance-general Digest, Vol 137, Issue 8

Send Radiance-general mailing list submissions to
        radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
        http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
        radiance-general-request at radiance-online.org

You can reach the person managing the list at
        radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. CFS with Radiance (Ikrima Amaireh)
   2. Could not install Radiance!!! (Ikrima Amaireh)
   3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
   4. Re: CFS with Radiance (Guglielmetti, Robert)
   5. Re: CFS with Radiance (Germ?n Molina Larrain)


----------------------------------------------------------------------

Message: 1
Date: Thu, 9 Jul 2015 17:26:29 +0100
From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
To: "radiance-general at radiance-online.org"
        <radiance-general at radiance-online.org>
Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
Subject: [Radiance-general] CFS with Radiance
Message-ID:
        <D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.uk>

Content-Type: text/plain; charset="us-ascii"

Hi G. Larrain,

Thanks for your detailed clarification (below).

I wonder if you kindly can help me toward better understanding and answering the following:

We agreed that for daylight modelling of spaces with CFS, Radiance is a suitable tool as it applies ray-tracing method. And for annual and/or climate-based daylight calculations, as calculation time becomes a critical factor, using BSDF data for CFS is highly recommended to tackle the task with radiance (using phases methods). However:

- if someone needs to perform daylight calculations for given space with different CFS (different cases for comparison purposes) to get illumination levels for horizontal grid points (and not pictures nor scenes), is Radiance still the most convenient option?
- is it still needed to use any of the phase methods (2, 3 or 5)?
- most importantly, is it still needed to get BSDF data for CFS or just can model the detailed CFS in Radiance (and, if yes, how?)


Many thanks for your kind help :)

Regards
Ikrima


"Ikrima,

I am going to try to build the puzzle of CFS, Phases, BSDF and calculations.... at least the way I understand it.

*CFS* are those systems that, via interreflection or other light transport phenomena, redirect light (or solar radiation). Thus, in order to get a reliable result you will have to consider all the phenomena involved.
Then, *common
simple performance indexes*, such as the miss-used Shading Coefficient and the Aperture Percentage, *always loose a lot of information, trying to reduce all the complex behavior of a CFS to one single number*. We all know that venetian blinds are more "transparent" from certain viewing directions than from others, but these performance indexes do not tell you that.

Now... Radiance can certainly perform calculations of spaces with CFS using its "common" Ray-tracing. However, this may be slow for some purposes (i.e.
annual simulations and climate-based daylight modelling), and *this is why 2, 3 and 5 phase methods have been developed*. The *BSDF* representation, I would say, goes in the same direction... It allow summarizing all the bounces, reflections, refractions, etc.  that occure withing the CFS in a single matrix or tensor.* By using BSDFs*, Radiance itself and other tools (i.e. EnergyPlus) can treat CFS as blackboxes, avoiding all the opcits within the system. A BSDF that uses the Klems Full representation has
21,045 numbers (instead of one, such as the Shading Coefficient).

Being said all that, I would not trust a calculation method unless it can actually deal with the optics of a CFS that is drawn and/or it can use BSDF (or similar) information.

Lets remember that a perforated screen, a venetian blind, a light diffusing device can all have a Shading Coefficient of 50%, but all of them will behave very differently. I made some presentations about this on my previous work (we sold complex Shading Devices), trying to promote the use of BSDF in EnergyPlus calculations... the differences (in solar heat gains) were more than considerable.

I hope that someone else gives us his/her perspective on this topic...
there are a lot of concepts that I might be misunderstanding.

Best!"




This message and any attachment are intended solely for the addressee and may contain confidential information. If you have received this message in error, please send it back to me, and immediately delete it.

Please do not use, copy or disclose the information contained in this message or in any attachment.  Any views or opinions expressed by the author of this email do not necessarily reflect the views of the University of Nottingham.

This message has been checked for viruses but the contents of an attachment may still contain software viruses which could damage your computer system, you are advised to perform your own checks. Email communications with the University of Nottingham may be monitored as permitted by UK legislation.




------------------------------

Message: 2
Date: Thu, 9 Jul 2015 17:38:41 +0100
From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
To: "radiance-general at radiance-online.org"
        <radiance-general at radiance-online.org>
Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
Subject: [Radiance-general] Could not install Radiance!!!
Message-ID:
        <D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.uk>

Content-Type: text/plain; charset="us-ascii"

Hi all,

After one a few weeks of trying, I could not manage to install radiance properly. I am almost disappointed! Please any help?

Regards
Ikrima




This message and any attachment are intended solely for the addressee and may contain confidential information. If you have received this message in error, please send it back to me, and immediately delete it.

Please do not use, copy or disclose the information contained in this message or in any attachment.  Any views or opinions expressed by the author of this email do not necessarily reflect the views of the University of Nottingham.

This message has been checked for viruses but the contents of an attachment may still contain software viruses which could damage your computer system, you are advised to perform your own checks. Email communications with the University of Nottingham may be monitored as permitted by UK legislation.




------------------------------

Message: 3
Date: Thu, 9 Jul 2015 16:44:49 +0000
From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
To: "radiance-general at radiance-online.org"
        <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Could not install Radiance!!!
Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
Content-Type: text/plain; charset="us-ascii"

Hi Ikrima,

We'll need a bit more info, here. What OS are you on? How are you attempting to install it (using an installer, compiling from source, or what)? What happens when you try??

On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:

>Hi all,
>
>After one a few weeks of trying, I could not manage to install radiance
>properly. I am almost disappointed! Please any help?
>
>Regards
>Ikrima
>
>
>
>
>This message and any attachment are intended solely for the addressee
>and may contain confidential information. If you have received this
>message in error, please send it back to me, and immediately delete it.
>
>Please do not use, copy or disclose the information contained in this
>message or in any attachment.  Any views or opinions expressed by the
>author of this email do not necessarily reflect the views of the
>University of Nottingham.
>
>This message has been checked for viruses but the contents of an
>attachment may still contain software viruses which could damage your
>computer system, you are advised to perform your own checks. Email
>communications with the University of Nottingham may be monitored as
>permitted by UK legislation.
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general




------------------------------

Message: 4
Date: Thu, 9 Jul 2015 17:29:39 +0000
From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
To: "radiance-general at radiance-online.org"
        <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] CFS with Radiance
Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
Content-Type: text/plain; charset="us-ascii"

Some very quick replies and clarifications within:

On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:

>Hi G. Larrain,
>
>Thanks for your detailed clarification (below).
>
>I wonder if you kindly can help me toward better understanding and
>answering the following:
>
>We agreed that for daylight modelling of spaces with CFS, Radiance is a
>suitable tool as it applies ray-tracing method. And for annual and/or
>climate-based daylight calculations, as calculation time becomes a
>critical factor, using BSDF data for CFS is highly recommended to
>tackle the task with radiance (using phases methods). However:


BSDF data in an annual simulation context is generally limited to Klems basis BSDF data, which may not be high enough resolution for some CFS. And the 5-phase method, which can circumvent this, is not necessarily "quick".
This is all still very much a quandary and the newest daylight metrics have added confusion to all of this, IMO.


>
>- if someone needs to perform daylight calculations for given space
>with different CFS (different cases for comparison purposes) to get
>illumination levels for horizontal grid points (and not pictures nor
>scenes), is Radiance still the most convenient option?


Absolutely. The lack of an image-as-output requirement does not change the fact that ray tracing is a good/convenient algorithm option for daylight simulation problems, especially when dealing with diffusing media and CFS in general. BSDFs allow you to do lots of "what-ifs", relatively quickly, but are beholden to the limitations of the resolution of the BSDF.


>- is it still needed to use any of the phase methods (2, 3 or 5)?


Is what still needed? BSDF data? Ray tracing? I don't know of other lighting simulation tools that can employ the multiphase methods. I would say BSDF data is optional for 2-phase, required for 3-phase, and optional for 5-phase.

>- most importantly, is it still needed to get BSDF data for CFS or just
>can model the detailed CFS in Radiance (and, if yes, how?)


Again I'm confused as to what "it" is. A couple of approaches are available to you in general. If you have a geometric model of the CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and use that in a 3- or 5-phase context. However in an annual/climate-based simulation context, you will be stuck with a Klems basis BSDF and that will not be very good resolution for a lot of CFS; here you may want to use the 5-phase method and stick the actual CFS geometry in the building model.

Some things to consider here are the photon map, now a part of Radiance proper, or using the 2-phase method where appropriate. By 2-phase method I mean generating a daylight matrix for your calculation points (or view), and modeling the window material as-is. If the "CFS" is a shade cloth, you can approximate that with a Radiance "trans". Same for translucent panels.
With this single daylight matrix, you can throw a vector of sky matrices at it and get an annual climate-based result very quickly. Problem is, we want to do stuff to the windows, sometimes at the time step level, so:

Blinds and compact daylight redirection devices (e.g. Lightlouver) are best represented as BSDF, and if most of the redirected flux is headed up and away from the points of interest, a Klems basis BSDF is good enough IMO. In these cases you could use the 3-phase method. Problem is when you have a BSDF for blinds, and you also want to simulate the blinds-up condition (i.e. clear, specularly transmitting glass). Using a Klems basis BSDF for this is sub-optimal. You end up needing to do two annual simulations, one as 2-phase for the clear glass scenario, and again as a 3-phase (with a blinds BSDF for the transmission matrix) for the blinds down condition. If you have a lot of different window groups, your simulation space can get large in a hurry. But it's still do-able and you can get results that tell a story you simply couldn't tell 5 years ago, informing the newest daylight metrics as well.






------------------------------

Message: 5
Date: Thu, 9 Jul 2015 15:56:11 -0300
From: Germ?n Molina Larrain <germolinal at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] CFS with Radiance
Message-ID:
        <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=FZL-Q at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

I must say that I agree with Rob, however, a short answer that might help.

For evaluating illuminance levels in a space with different CFS you, strictly speaking, DO NOT HAVE TO do anything. You may choose between different methods that have some pros and cons.


*ray-tracing*

   - Requires ray-tracing for each time-step and each system, which is slow
   (*four systems simulated annualy in an hourly basis --> 4*8760 = 35,040
   simulations*.)
   - As accurate as it gets, if options are defined correctly.


*2 phase method*

   - Do not need the BSDF
   - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
   simulations*)
   - After ray-tracing, annual simulation is fast.

*3-phase method:*

   - Requires BSDF data in KLEMS basis, which may be slow to compute,
   unless it can be exported from WINDOW, for example, or such data has
   already been calculated (the idea is to make a database, I think).
   - Does not really work well for specular systems (Klems patches are too
   big)
   - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
   simulations*)
   - After ray-tracing and BSDF calculation, annual simulation is fast

*5-phase method:*

   - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format, which
   may be slow to compute, unless it can be exported from WINDOW, for example,
   or such data has already been calculated (the idea is to make a database, I
   think).
   - Works well for specular systems
   - Requires 4 ray-tracing runs + 1 for each system, always (*4 systems
   --> 4+1 = 5 ray-tracing simulations*)
   - Hard to code...?
   - After ray-tracing and BSDF calculation, annual simulation is fast


I would not say there is a recipe. If you have to choose between 1 or 2 CFSs, maybe it is faster to just draw them and use the 2 phase method (or ray-tracing if an annual simulaton is not required). On the contrary, if you are going to test 10 different CFSs, 3 and 5 phases may make sense, since you reduce the expensive ray-tracing calculations... However, this will also depend on weather you have the BSDF data AND/OR if it makes sense to calculate it and store it AND/OR if you intend to simulate a dynamically controlled CFS.

Best!

2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov>:

> Some very quick replies and clarifications within:
>
> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
> >Hi G. Larrain,
> >
> >Thanks for your detailed clarification (below).
> >
> >I wonder if you kindly can help me toward better understanding and
> >answering the following:
> >
> >We agreed that for daylight modelling of spaces with CFS, Radiance is
> >a suitable tool as it applies ray-tracing method. And for annual
> >and/or climate-based daylight calculations, as calculation time
> >becomes a critical factor, using BSDF data for CFS is highly
> >recommended to tackle the task with radiance (using phases methods). However:
>
>
> BSDF data in an annual simulation context is generally limited to
> Klems basis BSDF data, which may not be high enough resolution for
> some CFS. And the 5-phase method, which can circumvent this, is not necessarily "quick".
> This is all still very much a quandary and the newest daylight metrics
> have added confusion to all of this, IMO.
>
>
> >
> >- if someone needs to perform daylight calculations for given space
> >with different CFS (different cases for comparison purposes) to get
> >illumination levels for horizontal grid points (and not pictures nor
> >scenes), is Radiance still the most convenient option?
>
>
> Absolutely. The lack of an image-as-output requirement does not change
> the fact that ray tracing is a good/convenient algorithm option for
> daylight simulation problems, especially when dealing with diffusing
> media and CFS in general. BSDFs allow you to do lots of "what-ifs",
> relatively quickly, but are beholden to the limitations of the resolution of the BSDF.
>
>
> >- is it still needed to use any of the phase methods (2, 3 or 5)?
>
>
> Is what still needed? BSDF data? Ray tracing? I don't know of other
> lighting simulation tools that can employ the multiphase methods. I
> would say BSDF data is optional for 2-phase, required for 3-phase, and
> optional for 5-phase.
>
> >- most importantly, is it still needed to get BSDF data for CFS or
> >just can model the detailed CFS in Radiance (and, if yes, how?)
>
>
> Again I'm confused as to what "it" is. A couple of approaches are
> available to you in general. If you have a geometric model of the CFS
> you can use Radiance (genBSDF) to make a BSDF of the CFS and use that
> in a 3- or 5-phase context. However in an annual/climate-based
> simulation context, you will be stuck with a Klems basis BSDF and that
> will not be very good resolution for a lot of CFS; here you may want
> to use the 5-phase method and stick the actual CFS geometry in the building model.
>
> Some things to consider here are the photon map, now a part of
> Radiance proper, or using the 2-phase method where appropriate. By
> 2-phase method I mean generating a daylight matrix for your
> calculation points (or view), and modeling the window material as-is.
> If the "CFS" is a shade cloth, you can approximate that with a Radiance "trans". Same for translucent panels.
> With this single daylight matrix, you can throw a vector of sky
> matrices at it and get an annual climate-based result very quickly.
> Problem is, we want to do stuff to the windows, sometimes at the time step level, so:
>
> Blinds and compact daylight redirection devices (e.g. Lightlouver) are
> best represented as BSDF, and if most of the redirected flux is headed
> up and away from the points of interest, a Klems basis BSDF is good
> enough IMO. In these cases you could use the 3-phase method. Problem
> is when you have a BSDF for blinds, and you also want to simulate the
> blinds-up condition (i.e. clear, specularly transmitting glass). Using
> a Klems basis BSDF for this is sub-optimal. You end up needing to do
> two annual simulations, one as 2-phase for the clear glass scenario,
> and again as a 3-phase (with a blinds BSDF for the transmission
> matrix) for the blinds down condition. If you have a lot of different
> window groups, your simulation space can get large in a hurry. But
> it's still do-able and you can get results that tell a story you
> simply couldn't tell 5 years ago, informing the newest daylight metrics as well.
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150709/cfbdd4da/attachment.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 137, Issue 8
************************************************




This message and any attachment are intended solely for the addressee and may contain confidential information. If you have received this message in error, please send it back to me, and immediately delete it.

Please do not use, copy or disclose the information contained in this message or in any attachment.  Any views or opinions expressed by the author of this email do not necessarily reflect the views of the University of Nottingham.

This message has been checked for viruses but the contents of an attachment may still contain software viruses which could damage your computer system, you are advised to perform your own checks. Email communications with the University of Nottingham may be monitored as permitted by UK legislation.




------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 137, Issue 9
************************************************




This message and any attachment are intended solely for the addressee and may contain confidential information. If you have received this message in error, please send it back to me, and immediately delete it.

Please do not use, copy or disclose the information contained in this message or in any attachment.  Any views or opinions expressed by the author of this email do not necessarily reflect the views of the University of Nottingham.

This message has been checked for viruses but the contents of an attachment may still contain software viruses which could damage your computer system, you are advised to perform your own checks. Email communications with the University of Nottingham may be monitored as permitted by UK legislation.




------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 137, Issue 12
*************************************************




This message and any attachment are intended solely for the addressee
and may contain confidential information. If you have received this
message in error, please send it back to me, and immediately delete it. 

Please do not use, copy or disclose the information contained in this
message or in any attachment.  Any views or opinions expressed by the
author of this email do not necessarily reflect the views of the
University of Nottingham.

This message has been checked for viruses but the contents of an
attachment may still contain software viruses which could damage your
computer system, you are advised to perform your own checks. Email
communications with the University of Nottingham may be monitored as
permitted by UK legislation.



From germolinal at gmail.com  Mon Aug 10 06:19:18 2015
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Mon, 10 Aug 2015 10:19:18 -0300
Subject: [Radiance-general] Ray-tracing with Radiance
In-Reply-To: <D697763F9F216044A99BC674C0056196135AD102B2@EXCHANGE1.ad.nottingham.ac.uk>
References: <D697763F9F216044A99BC674C0056196135AD102B2@EXCHANGE1.ad.nottingham.ac.uk>
Message-ID: <CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g@mail.gmail.com>

Ikrima,

Strictly speaking, Radiance always use ray-tracing. Whenever you call
RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing simulation
performed. However, when you want to perform annual simulations, you will
want to do as few ray-tracing simulations as possible since they take time.
RTRACE, for example, is a method used to calculate the illuminance or
luminance of a point (sensor) in a static scene. Doing this for a whole
year would require 8760 or more RTRACE calls, which means 8760 or more
ray-tracing simulations, which is slow.

Accordingly, Daysim (which uses the 2-phase method) runs one ray-tracing
simulation that calculates the Daylight Coefficient matrix (this can be
done in pure radiance by using RCONTRIB). This matrix relates the sensors
(workplane?) in the scene with the sky, mich means that you can modify the
sky and quickly evaluate illuminance in the same points. This allows
performing annual simulations fast (only the sky changes in a static annual
simulation). 3 and 5 phase method are extensions to this that allow also
modifying the CFSs in the scene.

Hope that clarify a little bit.

Best,

Germ?n



2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:

> Hello Robert,
> Hello all,
>
> As some of you may remember, I am trying to model a set of CFS to compare
> their effect on indoor horizontal illuminance of a room. So far, I have
> been advised by you for several stages, which really helped me a lot for
> better understanding of radiance and how it works.
>
> Now, I have a question about how I use ray-tracing method in radiance? Is
> it similar to the way explained through the following attachment? As here,
> calculations are run using Radiance engine but Ecotect or Daysim interface
> (for geometry modelling and material assignment).
>
> Document:
> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/GettingStartedwithEcotectRadianceDaysim.pdf
>
> I hope if you can kindly advise me on that asap, please?
>
>
> Best regards
> Ikrima
>
>
>
> -----Original Message-----
> From: radiance-general-request at radiance-online.org [mailto:
> radiance-general-request at radiance-online.org]
> Sent: 12 July 2015 20:37
> To: radiance-general at radiance-online.org
> Subject: Radiance-general Digest, Vol 137, Issue 12
>
> Send Radiance-general mailing list submissions to
>         radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific than
> "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>    1. Git for Windows and starting tutorials (Ikrima Amaireh)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 12 Jul 2015 20:36:19 +0100
> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> Subject: [Radiance-general] Git for Windows and starting tutorials
> Message-ID:
>         <
> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.uk>
>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi Robert,
>
> Many thanks for your help.
>
> I have installed Git for Windows as you adviced :) Now, Before I start
> with 3 or 5-phase tutorials, I'm thinking to go through "radiance tutorial"
> (by Axel Jacobs) as a beginner with almost a shallow knowledge/experience
> of radiance. So, do recommend this (radiance tutorial would be enough to
> start with 3 or 5-phase methods and understanding of BSDF data approach,
> etc) or advice another tutorial/source for better understanding of radiance
> basics (using command prompt)?
>
> Many thanks again :)
>
> Regards
> Ikrima
>
>
>
> ------------------------------
>
> Message: 2
> Date: Fri, 10 Jul 2015 15:52:23 +0000
> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>         Issue 8
> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
> Content-Type: text/plain; charset="us-ascii"
>
> OK so it sounds like you first tried the Windows installer (presumably a
> NREL-provided one such as this:
> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.0.a-w
> in64.exe), and this most likely worked fine, you just had some issues
> actually *doing* anything with it. This is normal. =)
>
> I recommend you install Git for windows (https://msysgit.github.io/), as
> that will add a little BASH emulator in your Windows system. This way you
> can run most of the commands exactly as they appear in most of the
> tutorials out there that are written from a UNIX perspective (as you point
> out). If you run the "Git BASH shell" you will be able to try out all the
> multi-phase methods, use and generate BSDFs, etc. Once you have Git for
> Windows installed, head over to Andy McNeil's tutorials for 3- and 5-phase,
> fire up the Git BASH shell (it'll be in the Git program group in the
> Windows start menu), and get started!
>
> One thing to keep in mind is that when running any commands that
> read/write data (e.g. rcontrib), be sure to use ASCII format rather than
> float. Windows has issues with float data (among many other things).
>
> Good luck!
>
> - Rob
>
> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
> >Hi Robert,
> >
> >My PC is running on Windows 7 Enterprise.
> >Initially, I installed Radiance for Window using its installer but I
> >found that most of the tutorials are provided for pc with Linux and/or
> >Linux-like operating systems; So I had to install try learnix (that did
> >not work) and Ubuntu (also did not work)!
> >Finally, I tried to use Cygwin to run Radiance on Window OS. I could
> >install Cygwin (works fine), Xming (not sure if working) and Radiance
> >(not all its programs are working!).
> >
> >I'm a bit confused as I'm not sure if running Radiance on windows using
> >Cygwin will be enough for carrying my work. For example, can I work out
> >phases methods and generate BSDF data?
> >
> >I wish if you can help me to do that.
> >
> >Many thanks
> >ikrima
> >
> >
> >
> >------------------------------
> >
> >Message: 3
> >Date: Thu, 9 Jul 2015 16:44:49 +0000
> >From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> >To: "radiance-general at radiance-online.org"
> >       <radiance-general at radiance-online.org>
> >Subject: Re: [Radiance-general] Could not install Radiance!!!
> >Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
> >Content-Type: text/plain; charset="us-ascii"
> >
> >Hi Ikrima,
> >
> >We'll need a bit more info, here. What OS are you on? How are you
> >attempting to install it (using an installer, compiling from source, or
> >what)? What happens when you try??
> >
> >On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
> >
> >>Hi all,
> >>
> >>After one a few weeks of trying, I could not manage to install
> >>radiance properly. I am almost disappointed! Please any help?
> >>
> >>Regards
> >>Ikrima
> >
> >
> >
> >
> >This message and any attachment are intended solely for the addressee
> >and may contain confidential information. If you have received this
> >message in error, please send it back to me, and immediately delete it.
> >
> >Please do not use, copy or disclose the information contained in this
> >message or in any attachment.  Any views or opinions expressed by the
> >author of this email do not necessarily reflect the views of the
> >University of Nottingham.
> >
> >This message has been checked for viruses but the contents of an
> >attachment may still contain software viruses which could damage your
> >computer system, you are advised to perform your own checks. Email
> >communications with the University of Nottingham may be monitored as
> >permitted by UK legislation.
> >
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> ------------------------------
>
> Message: 3
> Date: Fri, 10 Jul 2015 17:34:30 +0100
> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> Subject: [Radiance-general] Modelling CFS
> Message-ID:
>         <
> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.uk>
>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi all,
>
> Thanks Robert and Larrain for your detailed replies, that helped me a lot.
>
> I would summarise here what I got form your appreciated replies, as
> following:
> - Radiance is convenient and best of tools to model daylighting due to its
> ray-tracing method.
> - 3 or 5-phases methods are used to facilitate the calculations.
> - Generating BSDF data is also used to facilitate these calculations but
> it is limited to Klems resolution of some CFS.
>
> Initially, I'm not planning to do annual calculations. It's just for
> specific hours of the day and the target is to produce a illuminance levels
> for indoor grid under different CFSs. Hence, according to my understanding
> from Larrain words, I can use either 2-phase or Ray-tracing methods. My
> question is how can I draw/define the CFS geometry and Space for these
> calculations? Is it similar to the way use in Ecotect/Radiance calculations?
>
> Regards
> Ikrima
>
>
>  -----Original Message-----
> From: radiance-general-request at radiance-online.org [mailto:
> radiance-general-request at radiance-online.org]
> Sent: 09 July 2015 19:56
> To: radiance-general at radiance-online.org
> Subject: Radiance-general Digest, Vol 137, Issue 8
>
> Send Radiance-general mailing list submissions to
>         radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific than
> "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>    1. CFS with Radiance (Ikrima Amaireh)
>    2. Could not install Radiance!!! (Ikrima Amaireh)
>    3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>    4. Re: CFS with Radiance (Guglielmetti, Robert)
>    5. Re: CFS with Radiance (Germ?n Molina Larrain)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Thu, 9 Jul 2015 17:26:29 +0100
> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> Subject: [Radiance-general] CFS with Radiance
> Message-ID:
>         <
> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.uk>
>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi G. Larrain,
>
> Thanks for your detailed clarification (below).
>
> I wonder if you kindly can help me toward better understanding and
> answering the following:
>
> We agreed that for daylight modelling of spaces with CFS, Radiance is a
> suitable tool as it applies ray-tracing method. And for annual and/or
> climate-based daylight calculations, as calculation time becomes a critical
> factor, using BSDF data for CFS is highly recommended to tackle the task
> with radiance (using phases methods). However:
>
> - if someone needs to perform daylight calculations for given space with
> different CFS (different cases for comparison purposes) to get illumination
> levels for horizontal grid points (and not pictures nor scenes), is
> Radiance still the most convenient option?
> - is it still needed to use any of the phase methods (2, 3 or 5)?
> - most importantly, is it still needed to get BSDF data for CFS or just
> can model the detailed CFS in Radiance (and, if yes, how?)
>
>
> Many thanks for your kind help :)
>
> Regards
> Ikrima
>
>
> "Ikrima,
>
> I am going to try to build the puzzle of CFS, Phases, BSDF and
> calculations.... at least the way I understand it.
>
> *CFS* are those systems that, via interreflection or other light transport
> phenomena, redirect light (or solar radiation). Thus, in order to get a
> reliable result you will have to consider all the phenomena involved.
> Then, *common
> simple performance indexes*, such as the miss-used Shading Coefficient and
> the Aperture Percentage, *always loose a lot of information, trying to
> reduce all the complex behavior of a CFS to one single number*. We all know
> that venetian blinds are more "transparent" from certain viewing directions
> than from others, but these performance indexes do not tell you that.
>
> Now... Radiance can certainly perform calculations of spaces with CFS
> using its "common" Ray-tracing. However, this may be slow for some purposes
> (i.e.
> annual simulations and climate-based daylight modelling), and *this is why
> 2, 3 and 5 phase methods have been developed*. The *BSDF* representation, I
> would say, goes in the same direction... It allow summarizing all the
> bounces, reflections, refractions, etc.  that occure withing the CFS in a
> single matrix or tensor.* By using BSDFs*, Radiance itself and other tools
> (i.e. EnergyPlus) can treat CFS as blackboxes, avoiding all the opcits
> within the system. A BSDF that uses the Klems Full representation has
> 21,045 numbers (instead of one, such as the Shading Coefficient).
>
> Being said all that, I would not trust a calculation method unless it can
> actually deal with the optics of a CFS that is drawn and/or it can use BSDF
> (or similar) information.
>
> Lets remember that a perforated screen, a venetian blind, a light
> diffusing device can all have a Shading Coefficient of 50%, but all of them
> will behave very differently. I made some presentations about this on my
> previous work (we sold complex Shading Devices), trying to promote the use
> of BSDF in EnergyPlus calculations... the differences (in solar heat gains)
> were more than considerable.
>
> I hope that someone else gives us his/her perspective on this topic...
> there are a lot of concepts that I might be misunderstanding.
>
> Best!"
>
>
>
>
> This message and any attachment are intended solely for the addressee and
> may contain confidential information. If you have received this message in
> error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the University
> of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
>
>
> ------------------------------
>
> Message: 2
> Date: Thu, 9 Jul 2015 17:38:41 +0100
> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> Subject: [Radiance-general] Could not install Radiance!!!
> Message-ID:
>         <
> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.uk>
>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi all,
>
> After one a few weeks of trying, I could not manage to install radiance
> properly. I am almost disappointed! Please any help?
>
> Regards
> Ikrima
>
>
>
>
> This message and any attachment are intended solely for the addressee and
> may contain confidential information. If you have received this message in
> error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the University
> of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
>
>
> ------------------------------
>
> Message: 3
> Date: Thu, 9 Jul 2015 16:44:49 +0000
> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Could not install Radiance!!!
> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi Ikrima,
>
> We'll need a bit more info, here. What OS are you on? How are you
> attempting to install it (using an installer, compiling from source, or
> what)? What happens when you try??
>
> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
> >Hi all,
> >
> >After one a few weeks of trying, I could not manage to install radiance
> >properly. I am almost disappointed! Please any help?
> >
> >Regards
> >Ikrima
> >
> >
> >
> >
> >This message and any attachment are intended solely for the addressee
> >and may contain confidential information. If you have received this
> >message in error, please send it back to me, and immediately delete it.
> >
> >Please do not use, copy or disclose the information contained in this
> >message or in any attachment.  Any views or opinions expressed by the
> >author of this email do not necessarily reflect the views of the
> >University of Nottingham.
> >
> >This message has been checked for viruses but the contents of an
> >attachment may still contain software viruses which could damage your
> >computer system, you are advised to perform your own checks. Email
> >communications with the University of Nottingham may be monitored as
> >permitted by UK legislation.
> >
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> ------------------------------
>
> Message: 4
> Date: Thu, 9 Jul 2015 17:29:39 +0000
> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] CFS with Radiance
> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
> Content-Type: text/plain; charset="us-ascii"
>
> Some very quick replies and clarifications within:
>
> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
> >Hi G. Larrain,
> >
> >Thanks for your detailed clarification (below).
> >
> >I wonder if you kindly can help me toward better understanding and
> >answering the following:
> >
> >We agreed that for daylight modelling of spaces with CFS, Radiance is a
> >suitable tool as it applies ray-tracing method. And for annual and/or
> >climate-based daylight calculations, as calculation time becomes a
> >critical factor, using BSDF data for CFS is highly recommended to
> >tackle the task with radiance (using phases methods). However:
>
>
> BSDF data in an annual simulation context is generally limited to Klems
> basis BSDF data, which may not be high enough resolution for some CFS. And
> the 5-phase method, which can circumvent this, is not necessarily "quick".
> This is all still very much a quandary and the newest daylight metrics
> have added confusion to all of this, IMO.
>
>
> >
> >- if someone needs to perform daylight calculations for given space
> >with different CFS (different cases for comparison purposes) to get
> >illumination levels for horizontal grid points (and not pictures nor
> >scenes), is Radiance still the most convenient option?
>
>
> Absolutely. The lack of an image-as-output requirement does not change the
> fact that ray tracing is a good/convenient algorithm option for daylight
> simulation problems, especially when dealing with diffusing media and CFS
> in general. BSDFs allow you to do lots of "what-ifs", relatively quickly,
> but are beholden to the limitations of the resolution of the BSDF.
>
>
> >- is it still needed to use any of the phase methods (2, 3 or 5)?
>
>
> Is what still needed? BSDF data? Ray tracing? I don't know of other
> lighting simulation tools that can employ the multiphase methods. I would
> say BSDF data is optional for 2-phase, required for 3-phase, and optional
> for 5-phase.
>
> >- most importantly, is it still needed to get BSDF data for CFS or just
> >can model the detailed CFS in Radiance (and, if yes, how?)
>
>
> Again I'm confused as to what "it" is. A couple of approaches are
> available to you in general. If you have a geometric model of the CFS you
> can use Radiance (genBSDF) to make a BSDF of the CFS and use that in a 3-
> or 5-phase context. However in an annual/climate-based simulation context,
> you will be stuck with a Klems basis BSDF and that will not be very good
> resolution for a lot of CFS; here you may want to use the 5-phase method
> and stick the actual CFS geometry in the building model.
>
> Some things to consider here are the photon map, now a part of Radiance
> proper, or using the 2-phase method where appropriate. By 2-phase method I
> mean generating a daylight matrix for your calculation points (or view),
> and modeling the window material as-is. If the "CFS" is a shade cloth, you
> can approximate that with a Radiance "trans". Same for translucent panels.
> With this single daylight matrix, you can throw a vector of sky matrices
> at it and get an annual climate-based result very quickly. Problem is, we
> want to do stuff to the windows, sometimes at the time step level, so:
>
> Blinds and compact daylight redirection devices (e.g. Lightlouver) are
> best represented as BSDF, and if most of the redirected flux is headed up
> and away from the points of interest, a Klems basis BSDF is good enough
> IMO. In these cases you could use the 3-phase method. Problem is when you
> have a BSDF for blinds, and you also want to simulate the blinds-up
> condition (i.e. clear, specularly transmitting glass). Using a Klems basis
> BSDF for this is sub-optimal. You end up needing to do two annual
> simulations, one as 2-phase for the clear glass scenario, and again as a
> 3-phase (with a blinds BSDF for the transmission matrix) for the blinds
> down condition. If you have a lot of different window groups, your
> simulation space can get large in a hurry. But it's still do-able and you
> can get results that tell a story you simply couldn't tell 5 years ago,
> informing the newest daylight metrics as well.
>
>
>
>
>
>
> ------------------------------
>
> Message: 5
> Date: Thu, 9 Jul 2015 15:56:11 -0300
> From: Germ?n Molina Larrain <germolinal at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] CFS with Radiance
> Message-ID:
>         <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
> FZL-Q at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
>
> I must say that I agree with Rob, however, a short answer that might help.
>
> For evaluating illuminance levels in a space with different CFS you,
> strictly speaking, DO NOT HAVE TO do anything. You may choose between
> different methods that have some pros and cons.
>
>
> *ray-tracing*
>
>    - Requires ray-tracing for each time-step and each system, which is slow
>    (*four systems simulated annualy in an hourly basis --> 4*8760 = 35,040
>    simulations*.)
>    - As accurate as it gets, if options are defined correctly.
>
>
> *2 phase method*
>
>    - Do not need the BSDF
>    - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>    simulations*)
>    - After ray-tracing, annual simulation is fast.
>
> *3-phase method:*
>
>    - Requires BSDF data in KLEMS basis, which may be slow to compute,
>    unless it can be exported from WINDOW, for example, or such data has
>    already been calculated (the idea is to make a database, I think).
>    - Does not really work well for specular systems (Klems patches are too
>    big)
>    - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>    simulations*)
>    - After ray-tracing and BSDF calculation, annual simulation is fast
>
> *5-phase method:*
>
>    - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format, which
>    may be slow to compute, unless it can be exported from WINDOW, for
> example,
>    or such data has already been calculated (the idea is to make a
> database, I
>    think).
>    - Works well for specular systems
>    - Requires 4 ray-tracing runs + 1 for each system, always (*4 systems
>    --> 4+1 = 5 ray-tracing simulations*)
>    - Hard to code...?
>    - After ray-tracing and BSDF calculation, annual simulation is fast
>
>
> I would not say there is a recipe. If you have to choose between 1 or 2
> CFSs, maybe it is faster to just draw them and use the 2 phase method (or
> ray-tracing if an annual simulaton is not required). On the contrary, if
> you are going to test 10 different CFSs, 3 and 5 phases may make sense,
> since you reduce the expensive ray-tracing calculations... However, this
> will also depend on weather you have the BSDF data AND/OR if it makes sense
> to calculate it and store it AND/OR if you intend to simulate a dynamically
> controlled CFS.
>
> Best!
>
> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov>:
>
> > Some very quick replies and clarifications within:
> >
> > On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
> >
> > >Hi G. Larrain,
> > >
> > >Thanks for your detailed clarification (below).
> > >
> > >I wonder if you kindly can help me toward better understanding and
> > >answering the following:
> > >
> > >We agreed that for daylight modelling of spaces with CFS, Radiance is
> > >a suitable tool as it applies ray-tracing method. And for annual
> > >and/or climate-based daylight calculations, as calculation time
> > >becomes a critical factor, using BSDF data for CFS is highly
> > >recommended to tackle the task with radiance (using phases methods).
> However:
> >
> >
> > BSDF data in an annual simulation context is generally limited to
> > Klems basis BSDF data, which may not be high enough resolution for
> > some CFS. And the 5-phase method, which can circumvent this, is not
> necessarily "quick".
> > This is all still very much a quandary and the newest daylight metrics
> > have added confusion to all of this, IMO.
> >
> >
> > >
> > >- if someone needs to perform daylight calculations for given space
> > >with different CFS (different cases for comparison purposes) to get
> > >illumination levels for horizontal grid points (and not pictures nor
> > >scenes), is Radiance still the most convenient option?
> >
> >
> > Absolutely. The lack of an image-as-output requirement does not change
> > the fact that ray tracing is a good/convenient algorithm option for
> > daylight simulation problems, especially when dealing with diffusing
> > media and CFS in general. BSDFs allow you to do lots of "what-ifs",
> > relatively quickly, but are beholden to the limitations of the
> resolution of the BSDF.
> >
> >
> > >- is it still needed to use any of the phase methods (2, 3 or 5)?
> >
> >
> > Is what still needed? BSDF data? Ray tracing? I don't know of other
> > lighting simulation tools that can employ the multiphase methods. I
> > would say BSDF data is optional for 2-phase, required for 3-phase, and
> > optional for 5-phase.
> >
> > >- most importantly, is it still needed to get BSDF data for CFS or
> > >just can model the detailed CFS in Radiance (and, if yes, how?)
> >
> >
> > Again I'm confused as to what "it" is. A couple of approaches are
> > available to you in general. If you have a geometric model of the CFS
> > you can use Radiance (genBSDF) to make a BSDF of the CFS and use that
> > in a 3- or 5-phase context. However in an annual/climate-based
> > simulation context, you will be stuck with a Klems basis BSDF and that
> > will not be very good resolution for a lot of CFS; here you may want
> > to use the 5-phase method and stick the actual CFS geometry in the
> building model.
> >
> > Some things to consider here are the photon map, now a part of
> > Radiance proper, or using the 2-phase method where appropriate. By
> > 2-phase method I mean generating a daylight matrix for your
> > calculation points (or view), and modeling the window material as-is.
> > If the "CFS" is a shade cloth, you can approximate that with a Radiance
> "trans". Same for translucent panels.
> > With this single daylight matrix, you can throw a vector of sky
> > matrices at it and get an annual climate-based result very quickly.
> > Problem is, we want to do stuff to the windows, sometimes at the time
> step level, so:
> >
> > Blinds and compact daylight redirection devices (e.g. Lightlouver) are
> > best represented as BSDF, and if most of the redirected flux is headed
> > up and away from the points of interest, a Klems basis BSDF is good
> > enough IMO. In these cases you could use the 3-phase method. Problem
> > is when you have a BSDF for blinds, and you also want to simulate the
> > blinds-up condition (i.e. clear, specularly transmitting glass). Using
> > a Klems basis BSDF for this is sub-optimal. You end up needing to do
> > two annual simulations, one as 2-phase for the clear glass scenario,
> > and again as a 3-phase (with a blinds BSDF for the transmission
> > matrix) for the blinds down condition. If you have a lot of different
> > window groups, your simulation space can get large in a hurry. But
> > it's still do-able and you can get results that tell a story you
> > simply couldn't tell 5 years ago, informing the newest daylight metrics
> as well.
> >
> >
> >
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/20150709/cfbdd4da/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 137, Issue 8
> ************************************************
>
>
>
>
> This message and any attachment are intended solely for the addressee and
> may contain confidential information. If you have received this message in
> error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the University
> of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 137, Issue 9
> ************************************************
>
>
>
>
> This message and any attachment are intended solely for the addressee and
> may contain confidential information. If you have received this message in
> error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the University
> of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 137, Issue 12
> *************************************************
>
>
>
>
> This message and any attachment are intended solely for the addressee
> and may contain confidential information. If you have received this
> message in error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the
> University of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150810/959f6779/attachment-0001.html>

From germolinal at gmail.com  Mon Aug 10 06:24:32 2015
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Mon, 10 Aug 2015 10:24:32 -0300
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
	<CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
Message-ID: <CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>

well, thanks a lot guys! I have a lot to read, write, try and see now.... I
will let you guys know how this goes and come back with a lot of new
questions, haha.

Best,

Germ?n

2015-08-08 19:52 GMT-03:00 Randolph M. Fritz <rmfritz3 at gmail.com>:

> "Further to Randolph?s post, the idea is to wrap the luminaire
> geometry as tightly as possible using the shapes Randolph mentioned,
> but this enveloping geometry will have *illum* applied to it, not
> glow"
>
> Duh. Rob is, of course, quite correct.
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 390 4477 || rmfritz3 at gmail.com
>
>
> On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
> <rob.guglielmetti at gmail.com> wrote:
> > Thomas has great info on lamp color and using replmarks.  Further to
> > Randolph?s post, the idea is to wrap the luminaire geometry as tightly as
> > possible using the shapes Randolph mentioned, but this enveloping
> geometry
> > will have *illum* applied to it, not glow. The glow is used to illuminate
> > the luminaire geometry itself so that it appears realistic in a
> rendering.
> > You apply glows to the lamp objects in the luminaire generally, or you
> could
> > apply them to any shades or lenses in the luminaire.
> >
> > The luminous intensity of the illum is derived from the input lumens in
> the
> > IES file and is modulated by a few cal files, which use the candela
> values
> > from the IES file. The lamp color utility can give you reasonable values
> to
> > use for the glows, based on lamp input lumens. Again, the glows
> illuminate
> > the local luminaire geometry, and the illums actually illuminate the
> space.
> > The ileum material is invisible when viewed directly, which is why you
> need
> > the glows to make the luminaries appear correct in a rendering. The flux
> > from the glow also does not make it past the illum geometry and so it
> does
> > not contribute to the scene illumination or any calculations.
> >
> > There is some info on using illums and glows here:
> >
> >
> http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
> >
> > I did a bunch of crap with different illum geometry and cal files
> > (lboxcorr.cal et al.) and got pretty good at picking the best ones for
> the
> > jobs at hand (wall mounted sconces and stuff like that can be tricky to
> get
> > looking ?right?), but never got around to posting a summary on that
> stuff. A
> > good place to start is just running a few different luminaire types
> though
> > ies2rad and see what you get, and then play with the output files from
> > there.
> >
> > Are we having fun yet?
> >
> > -Rob
> >
> > From: Randolph M. Fritz <rmfritz3 at gmail.com>
> > Reply: Radiance general discussion <radiance-general at radiance-online.org
> >>
> > Date: August 8, 2015 at 2:32:01 PM
> > To: Radiance general discussion <radiance-general at radiance-online.org>>
> > Subject:  Re: [Radiance-general] Luminaire modelling using Radiance
> >
> > The basic technique is to wrap the visible geometry of the luminaire, if
> > any, with a glow in a simple shape that actually radiates the light. The
> > glow is transparent, so that the geometry can be seen, and direct
> > illumination does not pass through the glow, so light can be used
> internal
> > to the glow to give the luminaire a realistic look.
> >
> > The glow geometry and description may be generated by ies2rad. IIRC only
> > four shapes are supported: sphere, rectangular, cuboid (box), and thin
> disc.
> >
> > Ies2rad does not support eulumdat and again, IIRC, has not been updated
> to
> > support the latest IES photometry standard, LM-63-02.
> >
> > --
> > Randolph M. Fritz, Lighting Design and Simulation
> > +1 206 390 4477 || rmfritz3 at gmail.com
> >
> > On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com>
> wrote:
> >> Hi German.
> >>
> >> The most important information you need you will find in the ies2rad man
> >> page. In general you use it to create a library of luminaire *.rad and
> >> *.dat
> >> files which you can later reference into your scenes via xform. I found
> it
> >> more convenient and flexible for my exporters to create files with
> >> triangular markers and use "!replmarks ..." to place multiple luminaire
> >> files. That way you can later replace all luminaires in an array with a
> >> single change in the scene file.
> >>
> >> When you write a plugin you have to pay attention to the units of the
> ies
> >> file and adjust the -d parameter accordingly. Unfortunately ies2rad
> >> doesn't
> >> read that information from the file.
> >>
> >> The geometry in IES files is limited to discs, ovals, rectangles and
> >> extrusions of these shapes. Mostly you will find the 2 dimensional
> shapes
> >> for recessed and spot lights while the 3 dimensional shapes are used for
> >> pendants (boxes and cylinders). If you want to avoid these crude things
> in
> >> your model and use detailed geometry instead (from a dxf file, for
> >> example)
> >> then you use the -i option to create an illum sphere. The sphere will be
> >> used with the luminance data generated from the ies file. You have to
> >> place
> >> the detailed geometry of fixture into the sphere yourself. ies2rad
> doesn't
> >> do that for you.
> >>
> >> I found that geometry provided by manufacturers is very detailed and can
> >> lead to problems in large models. MGF geometry information is extremely
> >> rare.
> >>
> >> You can use the -t option to set the lamp type. This defines the color
> >> temperature. The -m option allows you to set a maintenance factor that
> all
> >> artificial lighting calculations require. Not that some lamp type
> entries
> >> in
> >> the lamp.tab file already include a correction factor for the lamp so
> you
> >> have to take this into account when calculating the final value of -m. I
> >> found it safest to use "-t WHITE" (which does not have a correction) and
> >> lump all the efficiency reductions and maintenance factors together
> into a
> >> single -m value.
> >>
> >> European manufacturers provide are more likely to provide Eulumdat file
> >> specs for their luminairs. Sometimes they convert these for you into IES
> >> files. If you can only get LDT files you can use DIALUX or something
> >> similar
> >> to convert the LDT to IES files. It used to offer this option a few year
> >> ago, at least. There may be other converters out there, but I don't
> >> remember
> >> the names.
> >>
> >> Hth, Thomas
> >>
> >> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
> >> <germolinal at gmail.com>
> >> wrote:
> >>>
> >>> Hello everyone,
> >>>
> >>> I think this might be a silly question, but I actually have not found
> too
> >>> much information on how to model luminaires using Radiance... I am
> asking
> >>> this because I want to add this feature to the plugin I am developing.
> >>>
> >>> What is the recommended method for modelling luminaires in Radiance? I
> >>> intend to use IES files as input. Hopefully I would also have the
> >>> geometry,
> >>> but I have to consider cases when this is not available.
> >>>
> >>> I know there is an IES2RAD program, but I am not quite sure how general
> >>> it
> >>> is. Also, I have heard about the use of illums (a sphere, for example)
> >>> that
> >>> covers the entire luminaire....?
> >>>
> >>> I am kind of lost, so if someone could give me a hint, I would really
> >>> appreciate it.
> >>>
> >>> Also, if someone know where to find information about IES files and
> their
> >>> format, that would also be really helpful.
> >>>
> >>> THANKS
> >>>
> >>> Germ?n
> >>>
> >>> _______________________________________________
> >>> Radiance-general mailing list
> >>> Radiance-general at radiance-online.org
> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >>>
> >>
> >>
> >> _______________________________________________
> >> Radiance-general mailing list
> >> Radiance-general at radiance-online.org
> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >>
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150810/d4153480/attachment.html>

From jonathan.zhu.uk at gmail.com  Mon Aug 10 06:32:40 2015
From: jonathan.zhu.uk at gmail.com (Jiajie Zhu)
Date: Mon, 10 Aug 2015 14:32:40 +0100
Subject: [Radiance-general] Gensky question
Message-ID: <001101d0d371$0854ba40$18fe2ec0$@gmail.com>

Hi everyone,

 

I just have a very quick question.

I am using gensky function to generate a sky distribution with sun, here is
part of the scripts.

 

void light solar

0

0

3 7.07e+006 7.07e+006 7.07e+006

 

I just wonder how does Radiance calculate the RGB radiance values of the
sun.

 

Many thanks,

Jiajie

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150810/7f83c5a7/attachment-0001.html>

From em.vazifeh at gmail.com  Mon Aug 10 06:44:29 2015
From: em.vazifeh at gmail.com (Ehsan Vazifeh)
Date: Mon, 10 Aug 2015 15:44:29 +0200
Subject: [Radiance-general] Gensky question
In-Reply-To: <001101d0d371$0854ba40$18fe2ec0$@gmail.com>
References: <001101d0d371$0854ba40$18fe2ec0$@gmail.com>
Message-ID: <069F1BA6-B7FE-4500-A08D-DDFE7A67C9BF@gmail.com>

Hi Jiajie,

You can refer to the source code of GENKY. There you can see the formulas used to calculate RGB from the direct irradiance. Here is the link:
https://github.com/NREL/Radiance/blob/master/src/gen/gensky.c <https://github.com/NREL/Radiance/blob/master/src/gen/gensky.c>






if (u_solar == -1)
	solarbr /= 6e-5*sundir[2];
else if (u_solar == 0) {
	solarbr = 1.5e9/SUNEFFICACY *(1.147 - .147/(sundir[2]>.16?sundir[2]:.16));
if (skytype == S_INTER)
	solarbr *= 0.15;	/* fudge factor! */

Cheers,
Ehsan


> On 10 Aug 2015, at 15:32, Jiajie Zhu <jonathan.zhu.uk at gmail.com> wrote:
> 
> Hi everyone,
>  
> I just have a very quick question.
> I am using gensky function to generate a sky distribution with sun, here is part of the scripts.
>  
> void light solar
> 0
> 0
> 3 7.07e+006 7.07e+006 7.07e+006
>  
> I just wonder how does Radiance calculate the RGB radiance values of the sun.
>  
> Many thanks,
> Jiajie
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150810/043c0091/attachment.html>

From ezxia at nottingham.ac.uk  Mon Aug 10 08:14:54 2015
From: ezxia at nottingham.ac.uk (Ikrima Amaireh)
Date: Mon, 10 Aug 2015 16:14:54 +0100
Subject: [Radiance-general] Ray-tracing with Radiance
Message-ID: <D697763F9F216044A99BC674C0056196135AD10389@EXCHANGE1.ad.nottingham.ac.uk>

Dear Germ?n,

Many thanks for you. I agree with you totally that all Radiance works need to apply ray-tracing approach as the core principle of it. However, what I meant by using ray-tracing in radiance, was the using of RTRACE directly through stand-alone radiance tool (as you kindly mentioned).

As you clarified, Daysim uses 2-phase method to do annual simulation (2nd phase) fast, based on pre-calculated Daylight Coefficient Matrix (1st phase). Now, if I need to produce the illuminance levels (produced by specific CFS) at the Workplane under static scene, can I still use Daysim for that? Or, shall I stick to RTRACE tool directly through pure Radiance?

And, if I have to stick to using Pure Radiance (RTRACE), is the method detailed in the attached document (hope, you see that: where Geometry and Workplane sensors are built in Ecotect and directly exported to Radiance engine), is it still valid?


Finally, in both cases (using pure Radiance and/or Daysim), shall we replace the Radiance tool (works as engine) by the latest released version (i.e. Version 4.2 or recent?) as the one works with Ecotect-Radiance approach (I'm not sure about Daysim, yet) is old version (2.0; in think!)?


Really, I am grateful to you for your appreciated help and looking to hear from you again :)

Regards,,,

Ikrima





> As some of you may remember, I am trying to model a set of CFS to compare their effect on indoor horizontal illuminance of a room.
So  far, I have been advised by you for several stages, which really helped me a lot for better understanding of radiance and how it works.
Now, I have a question about how I use ray-tracing method in radiance? Is it similar to the way explained through the following attachment?
As here, calculations are run using Radiance engine but Ecotect or Daysim interface (for geometry modelling and material assignment).
Document: http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/GettingStartedwithEcotectRadianceDaysim.pdf

I hope if you can kindly advise me on that asap, please?


Ikrima,

Strictly speaking, Radiance always use ray-tracing. Whenever you call RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing simulation performed. However, when you want to perform annual simulations, you will want to do as few ray-tracing simulations as possible since they take time.
RTRACE, for example, is a method used to calculate the illuminance or luminance of a point (sensor) in a static scene. Doing this for a whole year would require 8760 or more RTRACE calls, which means 8760 or more ray-tracing simulations, which is slow.

Accordingly, Daysim (which uses the 2-phase method) runs one ray-tracing simulation that calculates the Daylight Coefficient matrix (this can be done in pure radiance by using RCONTRIB). This matrix relates the sensors
(workplane?) in the scene with the sky, mich means that you can modify the sky and quickly evaluate illuminance in the same points. This allows performing annual simulations fast (only the sky changes in a static annual simulation). 3 and 5 phase method are extensions to this that allow also modifying the CFSs in the scene.

Hope that clarify a little bit.




-----Original Message-----
From: radiance-general-request at radiance-online.org [mailto:radiance-general-request at radiance-online.org]
Sent: 10 August 2015 14:20
To: radiance-general at radiance-online.org
Subject: Radiance-general Digest, Vol 138, Issue 12

Send Radiance-general mailing list submissions to
        radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
        http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
        radiance-general-request at radiance-online.org

You can reach the person managing the list at
        radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: Ray-tracing with Radiance (Germ?n Molina Larrain)


----------------------------------------------------------------------

Message: 1
Date: Mon, 10 Aug 2015 10:19:18 -0300
From: Germ?n Molina Larrain <germolinal at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Ray-tracing with Radiance
Message-ID:
        <CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Ikrima,

Strictly speaking, Radiance always use ray-tracing. Whenever you call RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing simulation performed. However, when you want to perform annual simulations, you will want to do as few ray-tracing simulations as possible since they take time.
RTRACE, for example, is a method used to calculate the illuminance or luminance of a point (sensor) in a static scene. Doing this for a whole year would require 8760 or more RTRACE calls, which means 8760 or more ray-tracing simulations, which is slow.

Accordingly, Daysim (which uses the 2-phase method) runs one ray-tracing simulation that calculates the Daylight Coefficient matrix (this can be done in pure radiance by using RCONTRIB). This matrix relates the sensors
(workplane?) in the scene with the sky, mich means that you can modify the sky and quickly evaluate illuminance in the same points. This allows performing annual simulations fast (only the sky changes in a static annual simulation). 3 and 5 phase method are extensions to this that allow also modifying the CFSs in the scene.

Hope that clarify a little bit.

Best,

Germ?n



2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:

> Hello Robert,
> Hello all,
>
> As some of you may remember, I am trying to model a set of CFS to
> compare their effect on indoor horizontal illuminance of a room. So
> far, I have been advised by you for several stages, which really
> helped me a lot for better understanding of radiance and how it works.
>
> Now, I have a question about how I use ray-tracing method in radiance?
> Is it similar to the way explained through the following attachment?
> As here, calculations are run using Radiance engine but Ecotect or
> Daysim interface (for geometry modelling and material assignment).
>
> Document:
> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Get
> tingStartedwithEcotectRadianceDaysim.pdf
>
> I hope if you can kindly advise me on that asap, please?
>
>
> Best regards
> Ikrima
>
>
>
> -----Original Message-----
> From: radiance-general-request at radiance-online.org [mailto:
> radiance-general-request at radiance-online.org]
> Sent: 12 July 2015 20:37
> To: radiance-general at radiance-online.org
> Subject: Radiance-general Digest, Vol 137, Issue 12
>
> Send Radiance-general mailing list submissions to
>         radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than
> "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>    1. Git for Windows and starting tutorials (Ikrima Amaireh)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 12 Jul 2015 20:36:19 +0100
> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> Subject: [Radiance-general] Git for Windows and starting tutorials
> Message-ID:
>         <
> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.
> uk>
>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi Robert,
>
> Many thanks for your help.
>
> I have installed Git for Windows as you adviced :) Now, Before I start
> with 3 or 5-phase tutorials, I'm thinking to go through "radiance tutorial"
> (by Axel Jacobs) as a beginner with almost a shallow
> knowledge/experience of radiance. So, do recommend this (radiance
> tutorial would be enough to start with 3 or 5-phase methods and
> understanding of BSDF data approach,
> etc) or advice another tutorial/source for better understanding of
> radiance basics (using command prompt)?
>
> Many thanks again :)
>
> Regards
> Ikrima
>
>
>
> ------------------------------
>
> Message: 2
> Date: Fri, 10 Jul 2015 15:52:23 +0000
> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>         Issue 8
> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
> Content-Type: text/plain; charset="us-ascii"
>
> OK so it sounds like you first tried the Windows installer (presumably
> a NREL-provided one such as this:
> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.
> 0.a-w in64.exe), and this most likely worked fine, you just had some
> issues actually *doing* anything with it. This is normal. =)
>
> I recommend you install Git for windows (https://msysgit.github.io/),
> as that will add a little BASH emulator in your Windows system. This
> way you can run most of the commands exactly as they appear in most of
> the tutorials out there that are written from a UNIX perspective (as
> you point out). If you run the "Git BASH shell" you will be able to
> try out all the multi-phase methods, use and generate BSDFs, etc. Once
> you have Git for Windows installed, head over to Andy McNeil's
> tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be in
> the Git program group in the Windows start menu), and get started!
>
> One thing to keep in mind is that when running any commands that
> read/write data (e.g. rcontrib), be sure to use ASCII format rather
> than float. Windows has issues with float data (among many other things).
>
> Good luck!
>
> - Rob
>
> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
> >Hi Robert,
> >
> >My PC is running on Windows 7 Enterprise.
> >Initially, I installed Radiance for Window using its installer but I
> >found that most of the tutorials are provided for pc with Linux
> >and/or Linux-like operating systems; So I had to install try learnix
> >(that did not work) and Ubuntu (also did not work)!
> >Finally, I tried to use Cygwin to run Radiance on Window OS. I could
> >install Cygwin (works fine), Xming (not sure if working) and Radiance
> >(not all its programs are working!).
> >
> >I'm a bit confused as I'm not sure if running Radiance on windows
> >using Cygwin will be enough for carrying my work. For example, can I
> >work out phases methods and generate BSDF data?
> >
> >I wish if you can help me to do that.
> >
> >Many thanks
> >ikrima
> >
> >
> >
> >------------------------------
> >
> >Message: 3
> >Date: Thu, 9 Jul 2015 16:44:49 +0000
> >From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> >To: "radiance-general at radiance-online.org"
> >       <radiance-general at radiance-online.org>
> >Subject: Re: [Radiance-general] Could not install Radiance!!!
> >Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
> >Content-Type: text/plain; charset="us-ascii"
> >
> >Hi Ikrima,
> >
> >We'll need a bit more info, here. What OS are you on? How are you
> >attempting to install it (using an installer, compiling from source,
> >or what)? What happens when you try??
> >
> >On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
> >
> >>Hi all,
> >>
> >>After one a few weeks of trying, I could not manage to install
> >>radiance properly. I am almost disappointed! Please any help?
> >>
> >>Regards
> >>Ikrima
> >
> >
> >
> >
> >This message and any attachment are intended solely for the addressee
> >and may contain confidential information. If you have received this
> >message in error, please send it back to me, and immediately delete it.
> >
> >Please do not use, copy or disclose the information contained in this
> >message or in any attachment.  Any views or opinions expressed by the
> >author of this email do not necessarily reflect the views of the
> >University of Nottingham.
> >
> >This message has been checked for viruses but the contents of an
> >attachment may still contain software viruses which could damage your
> >computer system, you are advised to perform your own checks. Email
> >communications with the University of Nottingham may be monitored as
> >permitted by UK legislation.
> >
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> ------------------------------
>
> Message: 3
> Date: Fri, 10 Jul 2015 17:34:30 +0100
> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> Subject: [Radiance-general] Modelling CFS
> Message-ID:
>         <
> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.
> uk>
>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi all,
>
> Thanks Robert and Larrain for your detailed replies, that helped me a lot.
>
> I would summarise here what I got form your appreciated replies, as
> following:
> - Radiance is convenient and best of tools to model daylighting due to
> its ray-tracing method.
> - 3 or 5-phases methods are used to facilitate the calculations.
> - Generating BSDF data is also used to facilitate these calculations
> but it is limited to Klems resolution of some CFS.
>
> Initially, I'm not planning to do annual calculations. It's just for
> specific hours of the day and the target is to produce a illuminance
> levels for indoor grid under different CFSs. Hence, according to my
> understanding from Larrain words, I can use either 2-phase or
> Ray-tracing methods. My question is how can I draw/define the CFS
> geometry and Space for these calculations? Is it similar to the way use in Ecotect/Radiance calculations?
>
> Regards
> Ikrima
>
>
>  -----Original Message-----
> From: radiance-general-request at radiance-online.org [mailto:
> radiance-general-request at radiance-online.org]
> Sent: 09 July 2015 19:56
> To: radiance-general at radiance-online.org
> Subject: Radiance-general Digest, Vol 137, Issue 8
>
> Send Radiance-general mailing list submissions to
>         radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>         radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>         radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific
> than
> "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>    1. CFS with Radiance (Ikrima Amaireh)
>    2. Could not install Radiance!!! (Ikrima Amaireh)
>    3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>    4. Re: CFS with Radiance (Guglielmetti, Robert)
>    5. Re: CFS with Radiance (Germ?n Molina Larrain)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Thu, 9 Jul 2015 17:26:29 +0100
> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> Subject: [Radiance-general] CFS with Radiance
> Message-ID:
>         <
> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.
> uk>
>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi G. Larrain,
>
> Thanks for your detailed clarification (below).
>
> I wonder if you kindly can help me toward better understanding and
> answering the following:
>
> We agreed that for daylight modelling of spaces with CFS, Radiance is
> a suitable tool as it applies ray-tracing method. And for annual
> and/or climate-based daylight calculations, as calculation time
> becomes a critical factor, using BSDF data for CFS is highly
> recommended to tackle the task with radiance (using phases methods). However:
>
> - if someone needs to perform daylight calculations for given space
> with different CFS (different cases for comparison purposes) to get
> illumination levels for horizontal grid points (and not pictures nor
> scenes), is Radiance still the most convenient option?
> - is it still needed to use any of the phase methods (2, 3 or 5)?
> - most importantly, is it still needed to get BSDF data for CFS or
> just can model the detailed CFS in Radiance (and, if yes, how?)
>
>
> Many thanks for your kind help :)
>
> Regards
> Ikrima
>
>
> "Ikrima,
>
> I am going to try to build the puzzle of CFS, Phases, BSDF and
> calculations.... at least the way I understand it.
>
> *CFS* are those systems that, via interreflection or other light
> transport phenomena, redirect light (or solar radiation). Thus, in
> order to get a reliable result you will have to consider all the phenomena involved.
> Then, *common
> simple performance indexes*, such as the miss-used Shading Coefficient
> and the Aperture Percentage, *always loose a lot of information,
> trying to reduce all the complex behavior of a CFS to one single
> number*. We all know that venetian blinds are more "transparent" from
> certain viewing directions than from others, but these performance indexes do not tell you that.
>
> Now... Radiance can certainly perform calculations of spaces with CFS
> using its "common" Ray-tracing. However, this may be slow for some
> purposes (i.e.
> annual simulations and climate-based daylight modelling), and *this is
> why 2, 3 and 5 phase methods have been developed*. The *BSDF*
> representation, I would say, goes in the same direction... It allow
> summarizing all the bounces, reflections, refractions, etc.  that
> occure withing the CFS in a single matrix or tensor.* By using BSDFs*,
> Radiance itself and other tools (i.e. EnergyPlus) can treat CFS as
> blackboxes, avoiding all the opcits within the system. A BSDF that
> uses the Klems Full representation has
> 21,045 numbers (instead of one, such as the Shading Coefficient).
>
> Being said all that, I would not trust a calculation method unless it
> can actually deal with the optics of a CFS that is drawn and/or it can
> use BSDF (or similar) information.
>
> Lets remember that a perforated screen, a venetian blind, a light
> diffusing device can all have a Shading Coefficient of 50%, but all of
> them will behave very differently. I made some presentations about
> this on my previous work (we sold complex Shading Devices), trying to
> promote the use of BSDF in EnergyPlus calculations... the differences
> (in solar heat gains) were more than considerable.
>
> I hope that someone else gives us his/her perspective on this topic...
> there are a lot of concepts that I might be misunderstanding.
>
> Best!"
>
>
>
>
> This message and any attachment are intended solely for the addressee
> and may contain confidential information. If you have received this
> message in error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the
> University of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
>
>
> ------------------------------
>
> Message: 2
> Date: Thu, 9 Jul 2015 17:38:41 +0100
> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
> Subject: [Radiance-general] Could not install Radiance!!!
> Message-ID:
>         <
> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.
> uk>
>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi all,
>
> After one a few weeks of trying, I could not manage to install
> radiance properly. I am almost disappointed! Please any help?
>
> Regards
> Ikrima
>
>
>
>
> This message and any attachment are intended solely for the addressee
> and may contain confidential information. If you have received this
> message in error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the
> University of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
>
>
> ------------------------------
>
> Message: 3
> Date: Thu, 9 Jul 2015 16:44:49 +0000
> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Could not install Radiance!!!
> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi Ikrima,
>
> We'll need a bit more info, here. What OS are you on? How are you
> attempting to install it (using an installer, compiling from source,
> or what)? What happens when you try??
>
> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
> >Hi all,
> >
> >After one a few weeks of trying, I could not manage to install
> >radiance properly. I am almost disappointed! Please any help?
> >
> >Regards
> >Ikrima
> >
> >
> >
> >
> >This message and any attachment are intended solely for the addressee
> >and may contain confidential information. If you have received this
> >message in error, please send it back to me, and immediately delete it.
> >
> >Please do not use, copy or disclose the information contained in this
> >message or in any attachment.  Any views or opinions expressed by the
> >author of this email do not necessarily reflect the views of the
> >University of Nottingham.
> >
> >This message has been checked for viruses but the contents of an
> >attachment may still contain software viruses which could damage your
> >computer system, you are advised to perform your own checks. Email
> >communications with the University of Nottingham may be monitored as
> >permitted by UK legislation.
> >
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> ------------------------------
>
> Message: 4
> Date: Thu, 9 Jul 2015 17:29:39 +0000
> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> To: "radiance-general at radiance-online.org"
>         <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] CFS with Radiance
> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
> Content-Type: text/plain; charset="us-ascii"
>
> Some very quick replies and clarifications within:
>
> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
> >Hi G. Larrain,
> >
> >Thanks for your detailed clarification (below).
> >
> >I wonder if you kindly can help me toward better understanding and
> >answering the following:
> >
> >We agreed that for daylight modelling of spaces with CFS, Radiance is
> >a suitable tool as it applies ray-tracing method. And for annual
> >and/or climate-based daylight calculations, as calculation time
> >becomes a critical factor, using BSDF data for CFS is highly
> >recommended to tackle the task with radiance (using phases methods). However:
>
>
> BSDF data in an annual simulation context is generally limited to
> Klems basis BSDF data, which may not be high enough resolution for
> some CFS. And the 5-phase method, which can circumvent this, is not necessarily "quick".
> This is all still very much a quandary and the newest daylight metrics
> have added confusion to all of this, IMO.
>
>
> >
> >- if someone needs to perform daylight calculations for given space
> >with different CFS (different cases for comparison purposes) to get
> >illumination levels for horizontal grid points (and not pictures nor
> >scenes), is Radiance still the most convenient option?
>
>
> Absolutely. The lack of an image-as-output requirement does not change
> the fact that ray tracing is a good/convenient algorithm option for
> daylight simulation problems, especially when dealing with diffusing
> media and CFS in general. BSDFs allow you to do lots of "what-ifs",
> relatively quickly, but are beholden to the limitations of the resolution of the BSDF.
>
>
> >- is it still needed to use any of the phase methods (2, 3 or 5)?
>
>
> Is what still needed? BSDF data? Ray tracing? I don't know of other
> lighting simulation tools that can employ the multiphase methods. I
> would say BSDF data is optional for 2-phase, required for 3-phase, and
> optional for 5-phase.
>
> >- most importantly, is it still needed to get BSDF data for CFS or
> >just can model the detailed CFS in Radiance (and, if yes, how?)
>
>
> Again I'm confused as to what "it" is. A couple of approaches are
> available to you in general. If you have a geometric model of the CFS
> you can use Radiance (genBSDF) to make a BSDF of the CFS and use that
> in a 3- or 5-phase context. However in an annual/climate-based
> simulation context, you will be stuck with a Klems basis BSDF and that
> will not be very good resolution for a lot of CFS; here you may want
> to use the 5-phase method and stick the actual CFS geometry in the building model.
>
> Some things to consider here are the photon map, now a part of
> Radiance proper, or using the 2-phase method where appropriate. By
> 2-phase method I mean generating a daylight matrix for your
> calculation points (or view), and modeling the window material as-is.
> If the "CFS" is a shade cloth, you can approximate that with a Radiance "trans". Same for translucent panels.
> With this single daylight matrix, you can throw a vector of sky
> matrices at it and get an annual climate-based result very quickly.
> Problem is, we want to do stuff to the windows, sometimes at the time step level, so:
>
> Blinds and compact daylight redirection devices (e.g. Lightlouver) are
> best represented as BSDF, and if most of the redirected flux is headed
> up and away from the points of interest, a Klems basis BSDF is good
> enough IMO. In these cases you could use the 3-phase method. Problem
> is when you have a BSDF for blinds, and you also want to simulate the
> blinds-up condition (i.e. clear, specularly transmitting glass). Using
> a Klems basis BSDF for this is sub-optimal. You end up needing to do
> two annual simulations, one as 2-phase for the clear glass scenario,
> and again as a 3-phase (with a blinds BSDF for the transmission
> matrix) for the blinds down condition. If you have a lot of different
> window groups, your simulation space can get large in a hurry. But
> it's still do-able and you can get results that tell a story you
> simply couldn't tell 5 years ago, informing the newest daylight metrics as well.
>
>
>
>
>
>
> ------------------------------
>
> Message: 5
> Date: Thu, 9 Jul 2015 15:56:11 -0300
> From: Germ?n Molina Larrain <germolinal at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] CFS with Radiance
> Message-ID:
>         <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
> FZL-Q at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
>
> I must say that I agree with Rob, however, a short answer that might help.
>
> For evaluating illuminance levels in a space with different CFS you,
> strictly speaking, DO NOT HAVE TO do anything. You may choose between
> different methods that have some pros and cons.
>
>
> *ray-tracing*
>
>    - Requires ray-tracing for each time-step and each system, which is slow
>    (*four systems simulated annualy in an hourly basis --> 4*8760 = 35,040
>    simulations*.)
>    - As accurate as it gets, if options are defined correctly.
>
>
> *2 phase method*
>
>    - Do not need the BSDF
>    - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>    simulations*)
>    - After ray-tracing, annual simulation is fast.
>
> *3-phase method:*
>
>    - Requires BSDF data in KLEMS basis, which may be slow to compute,
>    unless it can be exported from WINDOW, for example, or such data has
>    already been calculated (the idea is to make a database, I think).
>    - Does not really work well for specular systems (Klems patches are too
>    big)
>    - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>    simulations*)
>    - After ray-tracing and BSDF calculation, annual simulation is fast
>
> *5-phase method:*
>
>    - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format, which
>    may be slow to compute, unless it can be exported from WINDOW, for
> example,
>    or such data has already been calculated (the idea is to make a
> database, I
>    think).
>    - Works well for specular systems
>    - Requires 4 ray-tracing runs + 1 for each system, always (*4 systems
>    --> 4+1 = 5 ray-tracing simulations*)
>    - Hard to code...?
>    - After ray-tracing and BSDF calculation, annual simulation is fast
>
>
> I would not say there is a recipe. If you have to choose between 1 or
> 2 CFSs, maybe it is faster to just draw them and use the 2 phase
> method (or ray-tracing if an annual simulaton is not required). On the
> contrary, if you are going to test 10 different CFSs, 3 and 5 phases
> may make sense, since you reduce the expensive ray-tracing
> calculations... However, this will also depend on weather you have the
> BSDF data AND/OR if it makes sense to calculate it and store it AND/OR
> if you intend to simulate a dynamically controlled CFS.
>
> Best!
>
> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov>:
>
> > Some very quick replies and clarifications within:
> >
> > On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
> >
> > >Hi G. Larrain,
> > >
> > >Thanks for your detailed clarification (below).
> > >
> > >I wonder if you kindly can help me toward better understanding and
> > >answering the following:
> > >
> > >We agreed that for daylight modelling of spaces with CFS, Radiance
> > >is a suitable tool as it applies ray-tracing method. And for annual
> > >and/or climate-based daylight calculations, as calculation time
> > >becomes a critical factor, using BSDF data for CFS is highly
> > >recommended to tackle the task with radiance (using phases methods).
> However:
> >
> >
> > BSDF data in an annual simulation context is generally limited to
> > Klems basis BSDF data, which may not be high enough resolution for
> > some CFS. And the 5-phase method, which can circumvent this, is not
> necessarily "quick".
> > This is all still very much a quandary and the newest daylight
> > metrics have added confusion to all of this, IMO.
> >
> >
> > >
> > >- if someone needs to perform daylight calculations for given space
> > >with different CFS (different cases for comparison purposes) to get
> > >illumination levels for horizontal grid points (and not pictures
> > >nor scenes), is Radiance still the most convenient option?
> >
> >
> > Absolutely. The lack of an image-as-output requirement does not
> > change the fact that ray tracing is a good/convenient algorithm
> > option for daylight simulation problems, especially when dealing
> > with diffusing media and CFS in general. BSDFs allow you to do lots
> > of "what-ifs", relatively quickly, but are beholden to the
> > limitations of the
> resolution of the BSDF.
> >
> >
> > >- is it still needed to use any of the phase methods (2, 3 or 5)?
> >
> >
> > Is what still needed? BSDF data? Ray tracing? I don't know of other
> > lighting simulation tools that can employ the multiphase methods. I
> > would say BSDF data is optional for 2-phase, required for 3-phase,
> > and optional for 5-phase.
> >
> > >- most importantly, is it still needed to get BSDF data for CFS or
> > >just can model the detailed CFS in Radiance (and, if yes, how?)
> >
> >
> > Again I'm confused as to what "it" is. A couple of approaches are
> > available to you in general. If you have a geometric model of the
> > CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and use
> > that in a 3- or 5-phase context. However in an annual/climate-based
> > simulation context, you will be stuck with a Klems basis BSDF and
> > that will not be very good resolution for a lot of CFS; here you may
> > want to use the 5-phase method and stick the actual CFS geometry in
> > the
> building model.
> >
> > Some things to consider here are the photon map, now a part of
> > Radiance proper, or using the 2-phase method where appropriate. By
> > 2-phase method I mean generating a daylight matrix for your
> > calculation points (or view), and modeling the window material as-is.
> > If the "CFS" is a shade cloth, you can approximate that with a
> > Radiance
> "trans". Same for translucent panels.
> > With this single daylight matrix, you can throw a vector of sky
> > matrices at it and get an annual climate-based result very quickly.
> > Problem is, we want to do stuff to the windows, sometimes at the
> > time
> step level, so:
> >
> > Blinds and compact daylight redirection devices (e.g. Lightlouver)
> > are best represented as BSDF, and if most of the redirected flux is
> > headed up and away from the points of interest, a Klems basis BSDF
> > is good enough IMO. In these cases you could use the 3-phase method.
> > Problem is when you have a BSDF for blinds, and you also want to
> > simulate the blinds-up condition (i.e. clear, specularly
> > transmitting glass). Using a Klems basis BSDF for this is
> > sub-optimal. You end up needing to do two annual simulations, one as
> > 2-phase for the clear glass scenario, and again as a 3-phase (with a
> > blinds BSDF for the transmission
> > matrix) for the blinds down condition. If you have a lot of
> > different window groups, your simulation space can get large in a
> > hurry. But it's still do-able and you can get results that tell a
> > story you simply couldn't tell 5 years ago, informing the newest
> > daylight metrics
> as well.
> >
> >
> >
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> -------------- next part -------------- An HTML attachment was
> scrubbed...
> URL: <
> http://www.radiance-online.org/pipermail/radiance-general/attachments/
> 20150709/cfbdd4da/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 137, Issue 8
> ************************************************
>
>
>
>
> This message and any attachment are intended solely for the addressee
> and may contain confidential information. If you have received this
> message in error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the
> University of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 137, Issue 9
> ************************************************
>
>
>
>
> This message and any attachment are intended solely for the addressee
> and may contain confidential information. If you have received this
> message in error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the
> University of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 137, Issue 12
> *************************************************
>
>
>
>
> This message and any attachment are intended solely for the addressee
> and may contain confidential information. If you have received this
> message in error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the
> University of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150810/959f6779/attachment.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 138, Issue 12
*************************************************




This message and any attachment are intended solely for the addressee
and may contain confidential information. If you have received this
message in error, please send it back to me, and immediately delete it. 

Please do not use, copy or disclose the information contained in this
message or in any attachment.  Any views or opinions expressed by the
author of this email do not necessarily reflect the views of the
University of Nottingham.

This message has been checked for viruses but the contents of an
attachment may still contain software viruses which could damage your
computer system, you are advised to perform your own checks. Email
communications with the University of Nottingham may be monitored as
permitted by UK legislation.



From jonathan.zhu.uk at gmail.com  Mon Aug 10 09:31:13 2015
From: jonathan.zhu.uk at gmail.com (Jiajie Zhu)
Date: Mon, 10 Aug 2015 17:31:13 +0100
Subject: [Radiance-general] Irradiance map
Message-ID: <003301d0d389$f9c8a180$ed59e480$@gmail.com>

Hi,

I am trying to calculate an irradiance map on the ground level in front of a
concaved building facade for an instant time at a specific location. Here is
the problems that I have:

1.       If I use the glass type material for the building facade with -i
option in rpict, there will be no facade in the final result. I have checked
the manual page that I know it is because of the Boolean calculation will
ignore the transparent surface in the final result. But I do need the facade
to be seen in the final result, how can I solve it.

2.       I found in the result that if I use the glass type material, no
matter how low I set the transmissivity values, there will always no
'hotspot'/convergent irradiance on the ground level. It seems that the
program just ignore the reflection process on the glass surface.

3.       If I change the facade material to mirror type, I can find an
obvious 'hotspot' on the ground level as well as the facade in the final
result. So I just wonder is it proper to modify the facade material into a
mirror type if I am only interested in the exterior irradiance map of a
building. Besides, if mirror type material can be used in my situation, how
can I set the RGB reflectance values for mirror? For example, if the facade
glass has a 40% transmittance, is it equivalent to set RGB values into 0.6
0.6 0.6 for a mirror material?

Many Thanks,

Jiajie

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150810/fb75f69f/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon Aug 10 10:03:49 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 10 Aug 2015 17:03:49 +0000
Subject: [Radiance-general] Ray-tracing with Radiance
Message-ID: <D1EE1EEF.1B923%Robert.Guglielmetti@nrel.gov>

There is a daysim-specific mailing list that may be useful for some of
your questions: 

http://www.radiance-online.org/community/mailing-lists/subscribe/radiance-d
aysim


I can tell you that if you're planning to use rcontrib and do 3- or
5-phase type stuff, you definitely should be using a recent version of
Radiance. Either build from latest source, or use one of the NREL
pre-built packages (I recommend v5):

https://github.com/NREL/Radiance/releases/tag/5.0.a.3




On 8/10/15, 9:14 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:

>Dear Germ?n,
>
>Many thanks for you. I agree with you totally that all Radiance works
>need to apply ray-tracing approach as the core principle of it. However,
>what I meant by using ray-tracing in radiance, was the using of RTRACE
>directly through stand-alone radiance tool (as you kindly mentioned).
>
>As you clarified, Daysim uses 2-phase method to do annual simulation (2nd
>phase) fast, based on pre-calculated Daylight Coefficient Matrix (1st
>phase). Now, if I need to produce the illuminance levels (produced by
>specific CFS) at the Workplane under static scene, can I still use Daysim
>for that? Or, shall I stick to RTRACE tool directly through pure Radiance?
>
>And, if I have to stick to using Pure Radiance (RTRACE), is the method
>detailed in the attached document (hope, you see that: where Geometry and
>Workplane sensors are built in Ecotect and directly exported to Radiance
>engine), is it still valid?
>
>
>Finally, in both cases (using pure Radiance and/or Daysim), shall we
>replace the Radiance tool (works as engine) by the latest released
>version (i.e. Version 4.2 or recent?) as the one works with
>Ecotect-Radiance approach (I'm not sure about Daysim, yet) is old version
>(2.0; in think!)?
>
>
>Really, I am grateful to you for your appreciated help and looking to
>hear from you again :)
>
>Regards,,,
>
>Ikrima
>
>
>
>
>
>> As some of you may remember, I am trying to model a set of CFS to
>>compare their effect on indoor horizontal illuminance of a room.
>So  far, I have been advised by you for several stages, which really
>helped me a lot for better understanding of radiance and how it works.
>Now, I have a question about how I use ray-tracing method in radiance? Is
>it similar to the way explained through the following attachment?
>As here, calculations are run using Radiance engine but Ecotect or Daysim
>interface (for geometry modelling and material assignment).
>Document: 
>http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Getting
>StartedwithEcotectRadianceDaysim.pdf
>
>I hope if you can kindly advise me on that asap, please?
>
>
>Ikrima,
>
>Strictly speaking, Radiance always use ray-tracing. Whenever you call
>RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing simulation
>performed. However, when you want to perform annual simulations, you will
>want to do as few ray-tracing simulations as possible since they take
>time.
>RTRACE, for example, is a method used to calculate the illuminance or
>luminance of a point (sensor) in a static scene. Doing this for a whole
>year would require 8760 or more RTRACE calls, which means 8760 or more
>ray-tracing simulations, which is slow.
>
>Accordingly, Daysim (which uses the 2-phase method) runs one ray-tracing
>simulation that calculates the Daylight Coefficient matrix (this can be
>done in pure radiance by using RCONTRIB). This matrix relates the sensors
>(workplane?) in the scene with the sky, mich means that you can modify
>the sky and quickly evaluate illuminance in the same points. This allows
>performing annual simulations fast (only the sky changes in a static
>annual simulation). 3 and 5 phase method are extensions to this that
>allow also modifying the CFSs in the scene.
>
>Hope that clarify a little bit.
>
>
>
>
>-----Original Message-----
>From: radiance-general-request at radiance-online.org
>[mailto:radiance-general-request at radiance-online.org]
>Sent: 10 August 2015 14:20
>To: radiance-general at radiance-online.org
>Subject: Radiance-general Digest, Vol 138, Issue 12
>
>Send Radiance-general mailing list submissions to
>        radiance-general at radiance-online.org
>
>To subscribe or unsubscribe via the World Wide Web, visit
>        http://www.radiance-online.org/mailman/listinfo/radiance-general
>or, via email, send a message with subject or body 'help' to
>        radiance-general-request at radiance-online.org
>
>You can reach the person managing the list at
>        radiance-general-owner at radiance-online.org
>
>When replying, please edit your Subject line so it is more specific than
>"Re: Contents of Radiance-general digest..."
>
>
>Today's Topics:
>
>   1. Re: Ray-tracing with Radiance (Germ?n Molina Larrain)
>
>
>----------------------------------------------------------------------
>
>Message: 1
>Date: Mon, 10 Aug 2015 10:19:18 -0300
>From: Germ?n Molina Larrain <germolinal at gmail.com>
>To: Radiance general discussion <radiance-general at radiance-online.org>
>Subject: Re: [Radiance-general] Ray-tracing with Radiance
>Message-ID:
>        
><CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g at mail.gmail.com>
>Content-Type: text/plain; charset="utf-8"
>
>Ikrima,
>
>Strictly speaking, Radiance always use ray-tracing. Whenever you call
>RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing simulation
>performed. However, when you want to perform annual simulations, you will
>want to do as few ray-tracing simulations as possible since they take
>time.
>RTRACE, for example, is a method used to calculate the illuminance or
>luminance of a point (sensor) in a static scene. Doing this for a whole
>year would require 8760 or more RTRACE calls, which means 8760 or more
>ray-tracing simulations, which is slow.
>
>Accordingly, Daysim (which uses the 2-phase method) runs one ray-tracing
>simulation that calculates the Daylight Coefficient matrix (this can be
>done in pure radiance by using RCONTRIB). This matrix relates the sensors
>(workplane?) in the scene with the sky, mich means that you can modify
>the sky and quickly evaluate illuminance in the same points. This allows
>performing annual simulations fast (only the sky changes in a static
>annual simulation). 3 and 5 phase method are extensions to this that
>allow also modifying the CFSs in the scene.
>
>Hope that clarify a little bit.
>
>Best,
>
>Germ?n
>
>
>
>2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:
>
>> Hello Robert,
>> Hello all,
>>
>> As some of you may remember, I am trying to model a set of CFS to
>> compare their effect on indoor horizontal illuminance of a room. So
>> far, I have been advised by you for several stages, which really
>> helped me a lot for better understanding of radiance and how it works.
>>
>> Now, I have a question about how I use ray-tracing method in radiance?
>> Is it similar to the way explained through the following attachment?
>> As here, calculations are run using Radiance engine but Ecotect or
>> Daysim interface (for geometry modelling and material assignment).
>>
>> Document:
>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Get
>> tingStartedwithEcotectRadianceDaysim.pdf
>>
>> I hope if you can kindly advise me on that asap, please?
>>
>>
>> Best regards
>> Ikrima
>>
>>
>>
>> -----Original Message-----
>> From: radiance-general-request at radiance-online.org [mailto:
>> radiance-general-request at radiance-online.org]
>> Sent: 12 July 2015 20:37
>> To: radiance-general at radiance-online.org
>> Subject: Radiance-general Digest, Vol 137, Issue 12
>>
>> Send Radiance-general mailing list submissions to
>>         radiance-general at radiance-online.org
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> or, via email, send a message with subject or body 'help' to
>>         radiance-general-request at radiance-online.org
>>
>> You can reach the person managing the list at
>>         radiance-general-owner at radiance-online.org
>>
>> When replying, please edit your Subject line so it is more specific
>> than
>> "Re: Contents of Radiance-general digest..."
>>
>>
>> Today's Topics:
>>
>>    1. Git for Windows and starting tutorials (Ikrima Amaireh)
>>
>>
>> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Sun, 12 Jul 2015 20:36:19 +0100
>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> Subject: [Radiance-general] Git for Windows and starting tutorials
>> Message-ID:
>>         <
>> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.
>> uk>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi Robert,
>>
>> Many thanks for your help.
>>
>> I have installed Git for Windows as you adviced :) Now, Before I start
>> with 3 or 5-phase tutorials, I'm thinking to go through "radiance
>>tutorial"
>> (by Axel Jacobs) as a beginner with almost a shallow
>> knowledge/experience of radiance. So, do recommend this (radiance
>> tutorial would be enough to start with 3 or 5-phase methods and
>> understanding of BSDF data approach,
>> etc) or advice another tutorial/source for better understanding of
>> radiance basics (using command prompt)?
>>
>> Many thanks again :)
>>
>> Regards
>> Ikrima
>>
>>
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Fri, 10 Jul 2015 15:52:23 +0000
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>>         Issue 8
>> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> OK so it sounds like you first tried the Windows installer (presumably
>> a NREL-provided one such as this:
>> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.
>> 0.a-w in64.exe), and this most likely worked fine, you just had some
>> issues actually *doing* anything with it. This is normal. =)
>>
>> I recommend you install Git for windows (https://msysgit.github.io/),
>> as that will add a little BASH emulator in your Windows system. This
>> way you can run most of the commands exactly as they appear in most of
>> the tutorials out there that are written from a UNIX perspective (as
>> you point out). If you run the "Git BASH shell" you will be able to
>> try out all the multi-phase methods, use and generate BSDFs, etc. Once
>> you have Git for Windows installed, head over to Andy McNeil's
>> tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be in
>> the Git program group in the Windows start menu), and get started!
>>
>> One thing to keep in mind is that when running any commands that
>> read/write data (e.g. rcontrib), be sure to use ASCII format rather
>> than float. Windows has issues with float data (among many other
>>things).
>>
>> Good luck!
>>
>> - Rob
>>
>> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>> >Hi Robert,
>> >
>> >My PC is running on Windows 7 Enterprise.
>> >Initially, I installed Radiance for Window using its installer but I
>> >found that most of the tutorials are provided for pc with Linux
>> >and/or Linux-like operating systems; So I had to install try learnix
>> >(that did not work) and Ubuntu (also did not work)!
>> >Finally, I tried to use Cygwin to run Radiance on Window OS. I could
>> >install Cygwin (works fine), Xming (not sure if working) and Radiance
>> >(not all its programs are working!).
>> >
>> >I'm a bit confused as I'm not sure if running Radiance on windows
>> >using Cygwin will be enough for carrying my work. For example, can I
>> >work out phases methods and generate BSDF data?
>> >
>> >I wish if you can help me to do that.
>> >
>> >Many thanks
>> >ikrima
>> >
>> >
>> >
>> >------------------------------
>> >
>> >Message: 3
>> >Date: Thu, 9 Jul 2015 16:44:49 +0000
>> >From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> >To: "radiance-general at radiance-online.org"
>> >       <radiance-general at radiance-online.org>
>> >Subject: Re: [Radiance-general] Could not install Radiance!!!
>> >Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>> >Content-Type: text/plain; charset="us-ascii"
>> >
>> >Hi Ikrima,
>> >
>> >We'll need a bit more info, here. What OS are you on? How are you
>> >attempting to install it (using an installer, compiling from source,
>> >or what)? What happens when you try??
>> >
>> >On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>> >
>> >>Hi all,
>> >>
>> >>After one a few weeks of trying, I could not manage to install
>> >>radiance properly. I am almost disappointed! Please any help?
>> >>
>> >>Regards
>> >>Ikrima
>> >
>> >
>> >
>> >
>> >This message and any attachment are intended solely for the addressee
>> >and may contain confidential information. If you have received this
>> >message in error, please send it back to me, and immediately delete it.
>> >
>> >Please do not use, copy or disclose the information contained in this
>> >message or in any attachment.  Any views or opinions expressed by the
>> >author of this email do not necessarily reflect the views of the
>> >University of Nottingham.
>> >
>> >This message has been checked for viruses but the contents of an
>> >attachment may still contain software viruses which could damage your
>> >computer system, you are advised to perform your own checks. Email
>> >communications with the University of Nottingham may be monitored as
>> >permitted by UK legislation.
>> >
>> >
>> >_______________________________________________
>> >Radiance-general mailing list
>> >Radiance-general at radiance-online.org
>> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 3
>> Date: Fri, 10 Jul 2015 17:34:30 +0100
>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> Subject: [Radiance-general] Modelling CFS
>> Message-ID:
>>         <
>> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.
>> uk>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi all,
>>
>> Thanks Robert and Larrain for your detailed replies, that helped me a
>>lot.
>>
>> I would summarise here what I got form your appreciated replies, as
>> following:
>> - Radiance is convenient and best of tools to model daylighting due to
>> its ray-tracing method.
>> - 3 or 5-phases methods are used to facilitate the calculations.
>> - Generating BSDF data is also used to facilitate these calculations
>> but it is limited to Klems resolution of some CFS.
>>
>> Initially, I'm not planning to do annual calculations. It's just for
>> specific hours of the day and the target is to produce a illuminance
>> levels for indoor grid under different CFSs. Hence, according to my
>> understanding from Larrain words, I can use either 2-phase or
>> Ray-tracing methods. My question is how can I draw/define the CFS
>> geometry and Space for these calculations? Is it similar to the way use
>>in Ecotect/Radiance calculations?
>>
>> Regards
>> Ikrima
>>
>>
>>  -----Original Message-----
>> From: radiance-general-request at radiance-online.org [mailto:
>> radiance-general-request at radiance-online.org]
>> Sent: 09 July 2015 19:56
>> To: radiance-general at radiance-online.org
>> Subject: Radiance-general Digest, Vol 137, Issue 8
>>
>> Send Radiance-general mailing list submissions to
>>         radiance-general at radiance-online.org
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> or, via email, send a message with subject or body 'help' to
>>         radiance-general-request at radiance-online.org
>>
>> You can reach the person managing the list at
>>         radiance-general-owner at radiance-online.org
>>
>> When replying, please edit your Subject line so it is more specific
>> than
>> "Re: Contents of Radiance-general digest..."
>>
>>
>> Today's Topics:
>>
>>    1. CFS with Radiance (Ikrima Amaireh)
>>    2. Could not install Radiance!!! (Ikrima Amaireh)
>>    3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>>    4. Re: CFS with Radiance (Guglielmetti, Robert)
>>    5. Re: CFS with Radiance (Germ?n Molina Larrain)
>>
>>
>> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Thu, 9 Jul 2015 17:26:29 +0100
>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> Subject: [Radiance-general] CFS with Radiance
>> Message-ID:
>>         <
>> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.
>> uk>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi G. Larrain,
>>
>> Thanks for your detailed clarification (below).
>>
>> I wonder if you kindly can help me toward better understanding and
>> answering the following:
>>
>> We agreed that for daylight modelling of spaces with CFS, Radiance is
>> a suitable tool as it applies ray-tracing method. And for annual
>> and/or climate-based daylight calculations, as calculation time
>> becomes a critical factor, using BSDF data for CFS is highly
>> recommended to tackle the task with radiance (using phases methods).
>>However:
>>
>> - if someone needs to perform daylight calculations for given space
>> with different CFS (different cases for comparison purposes) to get
>> illumination levels for horizontal grid points (and not pictures nor
>> scenes), is Radiance still the most convenient option?
>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>> - most importantly, is it still needed to get BSDF data for CFS or
>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>
>>
>> Many thanks for your kind help :)
>>
>> Regards
>> Ikrima
>>
>>
>> "Ikrima,
>>
>> I am going to try to build the puzzle of CFS, Phases, BSDF and
>> calculations.... at least the way I understand it.
>>
>> *CFS* are those systems that, via interreflection or other light
>> transport phenomena, redirect light (or solar radiation). Thus, in
>> order to get a reliable result you will have to consider all the
>>phenomena involved.
>> Then, *common
>> simple performance indexes*, such as the miss-used Shading Coefficient
>> and the Aperture Percentage, *always loose a lot of information,
>> trying to reduce all the complex behavior of a CFS to one single
>> number*. We all know that venetian blinds are more "transparent" from
>> certain viewing directions than from others, but these performance
>>indexes do not tell you that.
>>
>> Now... Radiance can certainly perform calculations of spaces with CFS
>> using its "common" Ray-tracing. However, this may be slow for some
>> purposes (i.e.
>> annual simulations and climate-based daylight modelling), and *this is
>> why 2, 3 and 5 phase methods have been developed*. The *BSDF*
>> representation, I would say, goes in the same direction... It allow
>> summarizing all the bounces, reflections, refractions, etc.  that
>> occure withing the CFS in a single matrix or tensor.* By using BSDFs*,
>> Radiance itself and other tools (i.e. EnergyPlus) can treat CFS as
>> blackboxes, avoiding all the opcits within the system. A BSDF that
>> uses the Klems Full representation has
>> 21,045 numbers (instead of one, such as the Shading Coefficient).
>>
>> Being said all that, I would not trust a calculation method unless it
>> can actually deal with the optics of a CFS that is drawn and/or it can
>> use BSDF (or similar) information.
>>
>> Lets remember that a perforated screen, a venetian blind, a light
>> diffusing device can all have a Shading Coefficient of 50%, but all of
>> them will behave very differently. I made some presentations about
>> this on my previous work (we sold complex Shading Devices), trying to
>> promote the use of BSDF in EnergyPlus calculations... the differences
>> (in solar heat gains) were more than considerable.
>>
>> I hope that someone else gives us his/her perspective on this topic...
>> there are a lot of concepts that I might be misunderstanding.
>>
>> Best!"
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Thu, 9 Jul 2015 17:38:41 +0100
>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> Subject: [Radiance-general] Could not install Radiance!!!
>> Message-ID:
>>         <
>> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.
>> uk>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi all,
>>
>> After one a few weeks of trying, I could not manage to install
>> radiance properly. I am almost disappointed! Please any help?
>>
>> Regards
>> Ikrima
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 3
>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi Ikrima,
>>
>> We'll need a bit more info, here. What OS are you on? How are you
>> attempting to install it (using an installer, compiling from source,
>> or what)? What happens when you try??
>>
>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>> >Hi all,
>> >
>> >After one a few weeks of trying, I could not manage to install
>> >radiance properly. I am almost disappointed! Please any help?
>> >
>> >Regards
>> >Ikrima
>> >
>> >
>> >
>> >
>> >This message and any attachment are intended solely for the addressee
>> >and may contain confidential information. If you have received this
>> >message in error, please send it back to me, and immediately delete it.
>> >
>> >Please do not use, copy or disclose the information contained in this
>> >message or in any attachment.  Any views or opinions expressed by the
>> >author of this email do not necessarily reflect the views of the
>> >University of Nottingham.
>> >
>> >This message has been checked for viruses but the contents of an
>> >attachment may still contain software viruses which could damage your
>> >computer system, you are advised to perform your own checks. Email
>> >communications with the University of Nottingham may be monitored as
>> >permitted by UK legislation.
>> >
>> >
>> >_______________________________________________
>> >Radiance-general mailing list
>> >Radiance-general at radiance-online.org
>> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 4
>> Date: Thu, 9 Jul 2015 17:29:39 +0000
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] CFS with Radiance
>> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Some very quick replies and clarifications within:
>>
>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>> >Hi G. Larrain,
>> >
>> >Thanks for your detailed clarification (below).
>> >
>> >I wonder if you kindly can help me toward better understanding and
>> >answering the following:
>> >
>> >We agreed that for daylight modelling of spaces with CFS, Radiance is
>> >a suitable tool as it applies ray-tracing method. And for annual
>> >and/or climate-based daylight calculations, as calculation time
>> >becomes a critical factor, using BSDF data for CFS is highly
>> >recommended to tackle the task with radiance (using phases methods).
>>However:
>>
>>
>> BSDF data in an annual simulation context is generally limited to
>> Klems basis BSDF data, which may not be high enough resolution for
>> some CFS. And the 5-phase method, which can circumvent this, is not
>>necessarily "quick".
>> This is all still very much a quandary and the newest daylight metrics
>> have added confusion to all of this, IMO.
>>
>>
>> >
>> >- if someone needs to perform daylight calculations for given space
>> >with different CFS (different cases for comparison purposes) to get
>> >illumination levels for horizontal grid points (and not pictures nor
>> >scenes), is Radiance still the most convenient option?
>>
>>
>> Absolutely. The lack of an image-as-output requirement does not change
>> the fact that ray tracing is a good/convenient algorithm option for
>> daylight simulation problems, especially when dealing with diffusing
>> media and CFS in general. BSDFs allow you to do lots of "what-ifs",
>> relatively quickly, but are beholden to the limitations of the
>>resolution of the BSDF.
>>
>>
>> >- is it still needed to use any of the phase methods (2, 3 or 5)?
>>
>>
>> Is what still needed? BSDF data? Ray tracing? I don't know of other
>> lighting simulation tools that can employ the multiphase methods. I
>> would say BSDF data is optional for 2-phase, required for 3-phase, and
>> optional for 5-phase.
>>
>> >- most importantly, is it still needed to get BSDF data for CFS or
>> >just can model the detailed CFS in Radiance (and, if yes, how?)
>>
>>
>> Again I'm confused as to what "it" is. A couple of approaches are
>> available to you in general. If you have a geometric model of the CFS
>> you can use Radiance (genBSDF) to make a BSDF of the CFS and use that
>> in a 3- or 5-phase context. However in an annual/climate-based
>> simulation context, you will be stuck with a Klems basis BSDF and that
>> will not be very good resolution for a lot of CFS; here you may want
>> to use the 5-phase method and stick the actual CFS geometry in the
>>building model.
>>
>> Some things to consider here are the photon map, now a part of
>> Radiance proper, or using the 2-phase method where appropriate. By
>> 2-phase method I mean generating a daylight matrix for your
>> calculation points (or view), and modeling the window material as-is.
>> If the "CFS" is a shade cloth, you can approximate that with a Radiance
>>"trans". Same for translucent panels.
>> With this single daylight matrix, you can throw a vector of sky
>> matrices at it and get an annual climate-based result very quickly.
>> Problem is, we want to do stuff to the windows, sometimes at the time
>>step level, so:
>>
>> Blinds and compact daylight redirection devices (e.g. Lightlouver) are
>> best represented as BSDF, and if most of the redirected flux is headed
>> up and away from the points of interest, a Klems basis BSDF is good
>> enough IMO. In these cases you could use the 3-phase method. Problem
>> is when you have a BSDF for blinds, and you also want to simulate the
>> blinds-up condition (i.e. clear, specularly transmitting glass). Using
>> a Klems basis BSDF for this is sub-optimal. You end up needing to do
>> two annual simulations, one as 2-phase for the clear glass scenario,
>> and again as a 3-phase (with a blinds BSDF for the transmission
>> matrix) for the blinds down condition. If you have a lot of different
>> window groups, your simulation space can get large in a hurry. But
>> it's still do-able and you can get results that tell a story you
>> simply couldn't tell 5 years ago, informing the newest daylight metrics
>>as well.
>>
>>
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 5
>> Date: Thu, 9 Jul 2015 15:56:11 -0300
>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>> To: Radiance general discussion <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] CFS with Radiance
>> Message-ID:
>>         <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
>> FZL-Q at mail.gmail.com>
>> Content-Type: text/plain; charset="utf-8"
>>
>> I must say that I agree with Rob, however, a short answer that might
>>help.
>>
>> For evaluating illuminance levels in a space with different CFS you,
>> strictly speaking, DO NOT HAVE TO do anything. You may choose between
>> different methods that have some pros and cons.
>>
>>
>> *ray-tracing*
>>
>>    - Requires ray-tracing for each time-step and each system, which is
>>slow
>>    (*four systems simulated annualy in an hourly basis --> 4*8760 =
>>35,040
>>    simulations*.)
>>    - As accurate as it gets, if options are defined correctly.
>>
>>
>> *2 phase method*
>>
>>    - Do not need the BSDF
>>    - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>>    simulations*)
>>    - After ray-tracing, annual simulation is fast.
>>
>> *3-phase method:*
>>
>>    - Requires BSDF data in KLEMS basis, which may be slow to compute,
>>    unless it can be exported from WINDOW, for example, or such data has
>>    already been calculated (the idea is to make a database, I think).
>>    - Does not really work well for specular systems (Klems patches are
>>too
>>    big)
>>    - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>>    simulations*)
>>    - After ray-tracing and BSDF calculation, annual simulation is fast
>>
>> *5-phase method:*
>>
>>    - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format, which
>>    may be slow to compute, unless it can be exported from WINDOW, for
>> example,
>>    or such data has already been calculated (the idea is to make a
>> database, I
>>    think).
>>    - Works well for specular systems
>>    - Requires 4 ray-tracing runs + 1 for each system, always (*4 systems
>>    --> 4+1 = 5 ray-tracing simulations*)
>>    - Hard to code...?
>>    - After ray-tracing and BSDF calculation, annual simulation is fast
>>
>>
>> I would not say there is a recipe. If you have to choose between 1 or
>> 2 CFSs, maybe it is faster to just draw them and use the 2 phase
>> method (or ray-tracing if an annual simulaton is not required). On the
>> contrary, if you are going to test 10 different CFSs, 3 and 5 phases
>> may make sense, since you reduce the expensive ray-tracing
>> calculations... However, this will also depend on weather you have the
>> BSDF data AND/OR if it makes sense to calculate it and store it AND/OR
>> if you intend to simulate a dynamically controlled CFS.
>>
>> Best!
>>
>> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
>> Robert.Guglielmetti at nrel.gov>:
>>
>> > Some very quick replies and clarifications within:
>> >
>> > On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>> >
>> > >Hi G. Larrain,
>> > >
>> > >Thanks for your detailed clarification (below).
>> > >
>> > >I wonder if you kindly can help me toward better understanding and
>> > >answering the following:
>> > >
>> > >We agreed that for daylight modelling of spaces with CFS, Radiance
>> > >is a suitable tool as it applies ray-tracing method. And for annual
>> > >and/or climate-based daylight calculations, as calculation time
>> > >becomes a critical factor, using BSDF data for CFS is highly
>> > >recommended to tackle the task with radiance (using phases methods).
>> However:
>> >
>> >
>> > BSDF data in an annual simulation context is generally limited to
>> > Klems basis BSDF data, which may not be high enough resolution for
>> > some CFS. And the 5-phase method, which can circumvent this, is not
>> necessarily "quick".
>> > This is all still very much a quandary and the newest daylight
>> > metrics have added confusion to all of this, IMO.
>> >
>> >
>> > >
>> > >- if someone needs to perform daylight calculations for given space
>> > >with different CFS (different cases for comparison purposes) to get
>> > >illumination levels for horizontal grid points (and not pictures
>> > >nor scenes), is Radiance still the most convenient option?
>> >
>> >
>> > Absolutely. The lack of an image-as-output requirement does not
>> > change the fact that ray tracing is a good/convenient algorithm
>> > option for daylight simulation problems, especially when dealing
>> > with diffusing media and CFS in general. BSDFs allow you to do lots
>> > of "what-ifs", relatively quickly, but are beholden to the
>> > limitations of the
>> resolution of the BSDF.
>> >
>> >
>> > >- is it still needed to use any of the phase methods (2, 3 or 5)?
>> >
>> >
>> > Is what still needed? BSDF data? Ray tracing? I don't know of other
>> > lighting simulation tools that can employ the multiphase methods. I
>> > would say BSDF data is optional for 2-phase, required for 3-phase,
>> > and optional for 5-phase.
>> >
>> > >- most importantly, is it still needed to get BSDF data for CFS or
>> > >just can model the detailed CFS in Radiance (and, if yes, how?)
>> >
>> >
>> > Again I'm confused as to what "it" is. A couple of approaches are
>> > available to you in general. If you have a geometric model of the
>> > CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and use
>> > that in a 3- or 5-phase context. However in an annual/climate-based
>> > simulation context, you will be stuck with a Klems basis BSDF and
>> > that will not be very good resolution for a lot of CFS; here you may
>> > want to use the 5-phase method and stick the actual CFS geometry in
>> > the
>> building model.
>> >
>> > Some things to consider here are the photon map, now a part of
>> > Radiance proper, or using the 2-phase method where appropriate. By
>> > 2-phase method I mean generating a daylight matrix for your
>> > calculation points (or view), and modeling the window material as-is.
>> > If the "CFS" is a shade cloth, you can approximate that with a
>> > Radiance
>> "trans". Same for translucent panels.
>> > With this single daylight matrix, you can throw a vector of sky
>> > matrices at it and get an annual climate-based result very quickly.
>> > Problem is, we want to do stuff to the windows, sometimes at the
>> > time
>> step level, so:
>> >
>> > Blinds and compact daylight redirection devices (e.g. Lightlouver)
>> > are best represented as BSDF, and if most of the redirected flux is
>> > headed up and away from the points of interest, a Klems basis BSDF
>> > is good enough IMO. In these cases you could use the 3-phase method.
>> > Problem is when you have a BSDF for blinds, and you also want to
>> > simulate the blinds-up condition (i.e. clear, specularly
>> > transmitting glass). Using a Klems basis BSDF for this is
>> > sub-optimal. You end up needing to do two annual simulations, one as
>> > 2-phase for the clear glass scenario, and again as a 3-phase (with a
>> > blinds BSDF for the transmission
>> > matrix) for the blinds down condition. If you have a lot of
>> > different window groups, your simulation space can get large in a
>> > hurry. But it's still do-able and you can get results that tell a
>> > story you simply couldn't tell 5 years ago, informing the newest
>> > daylight metrics
>> as well.
>> >
>> >
>> >
>> >
>> > _______________________________________________
>> > Radiance-general mailing list
>> > Radiance-general at radiance-online.org
>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>> >
>> -------------- next part -------------- An HTML attachment was
>> scrubbed...
>> URL: <
>> http://www.radiance-online.org/pipermail/radiance-general/attachments/
>> 20150709/cfbdd4da/attachment.html
>> >
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 137, Issue 8
>> ************************************************
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 137, Issue 9
>> ************************************************
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 137, Issue 12
>> *************************************************
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>-------------- next part --------------
>An HTML attachment was scrubbed...
>URL: 
><http://www.radiance-online.org/pipermail/radiance-general/attachments/201
>50810/959f6779/attachment.html>
>
>------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>End of Radiance-general Digest, Vol 138, Issue 12
>*************************************************
>
>
>
>
>This message and any attachment are intended solely for the addressee
>and may contain confidential information. If you have received this
>message in error, please send it back to me, and immediately delete it. 
>
>Please do not use, copy or disclose the information contained in this
>message or in any attachment.  Any views or opinions expressed by the
>author of this email do not necessarily reflect the views of the
>University of Nottingham.
>
>This message has been checked for viruses but the contents of an
>attachment may still contain software viruses which could damage your
>computer system, you are advised to perform your own checks. Email
>communications with the University of Nottingham may be monitored as
>permitted by UK legislation.
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Mon Aug 10 10:08:23 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 10 Aug 2015 10:08:23 -0700
Subject: [Radiance-general] Irradiance map
In-Reply-To: <003301d0d389$f9c8a180$ed59e480$@gmail.com>
References: <003301d0d389$f9c8a180$ed59e480$@gmail.com>
Message-ID: <C54DC22D-F4D3-459F-8E70-7264020AEECF@lmi.net>

Hi Jiajie,

I put some responses inline...

> From: "Jiajie Zhu" <jonathan.zhu.uk at gmail.com>
> Subject: [Radiance-general] Irradiance map
> Date: August 10, 2015 9:31:13 AM PDT
> 
> Hi,
> 
> I am trying to calculate an irradiance map on the ground level in front of a concaved building facade for an instant time at a specific location. Here is the problems that I have:
> 
> 1.       If I use the glass type material for the building facade with ?i option in rpict, there will be no facade in the final result. I have checked the manual page that I know it is because of the Boolean calculation will ignore the transparent surface in the final result. But I do need the facade to be seen in the final result, how can I solve it.

The -i option is a hack to show the irradiance on surfaces, but glass surfaces appear as transparent to facilitate viewing through windows, etc.  The results will still be correct within the limits of the calculation.

> 2.       I found in the result that if I use the glass type material, no matter how low I set the transmissivity values, there will always no ?hotspot?/convergent irradiance on the ground level. It seems that the program just ignore the reflection process on the glass surface.

Radiance is a conventional light-backwards ray-tracer, so needs special facilities to find caustics. These are the "mirror" type you mention below, and photon-mapping, which is incorporated in the latest HEAD.

> 3.       If I change the facade material to mirror type, I can find an obvious ?hotspot? on the ground level as well as the facade in the final result. So I just wonder is it proper to modify the facade material into a mirror type if I am only interested in the exterior irradiance map of a building. Besides, if mirror type material can be used in my situation, how can I set the RGB reflectance values for mirror? For example, if the facade glass has a 40% transmittance, is it equivalent to set RGB values into 0.6 0.6 0.6 for a mirror material?

You need to know the reflectance of your glass, not the transmittance, in order to use the mirror type appropriately.  Then, you can give the original glass as the "alternate" type.  Most uncoated glass surfaces have a specular reflectance of between 4 and 8% depending on their transparency.

> Many Thanks,
> 
> Jiajie


From Robert.Guglielmetti at nrel.gov  Mon Aug 10 10:15:04 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 10 Aug 2015 17:15:04 +0000
Subject: [Radiance-general] Irradiance map
In-Reply-To: <003301d0d389$f9c8a180$ed59e480$@gmail.com>
References: <003301d0d389$f9c8a180$ed59e480$@gmail.com>
Message-ID: <D1EE36E6.1B95D%Robert.Guglielmetti@nrel.gov>

There is a cool Greg Trick you can use to render irradiance on the glass material, which I summarize here:

http://www.rumblestrip.org/2003/03/19/rendering-falsecolor-on-glass-with-vwrays/

As for your quest to find the hotspot, if mirror material gave you a result in a reasonable timeframe, I'd say that may be the most expedient way to get what you're looking for, with the caveat that simply using the inverse of the glazing's transmittance for the reflectance is not correct. Most glazing manufacturers will provide the actual reflectance, which is what you should use.

If you want to use the glass material you will need to adjust some of your rendering parameters to better account for the specular reflections. Can you share what you used, and perhaps a sample rendering of the fa?ade?

On 8/10/15, 10:31 AM, "Jiajie Zhu" <jonathan.zhu.uk at gmail.com<mailto:jonathan.zhu.uk at gmail.com>> wrote:

Hi,
I am trying to calculate an irradiance map on the ground level in front of a concaved building facade for an instant time at a specific location. Here is the problems that I have:

1.       If I use the glass type material for the building facade with -i option in rpict, there will be no facade in the final result. I have checked the manual page that I know it is because of the Boolean calculation will ignore the transparent surface in the final result. But I do need the facade to be seen in the final result, how can I solve it.

2.       I found in the result that if I use the glass type material, no matter how low I set the transmissivity values, there will always no 'hotspot'/convergent irradiance on the ground level. It seems that the program just ignore the reflection process on the glass surface.

3.       If I change the facade material to mirror type, I can find an obvious 'hotspot' on the ground level as well as the facade in the final result. So I just wonder is it proper to modify the facade material into a mirror type if I am only interested in the exterior irradiance map of a building. Besides, if mirror type material can be used in my situation, how can I set the RGB reflectance values for mirror? For example, if the facade glass has a 40% transmittance, is it equivalent to set RGB values into 0.6 0.6 0.6 for a mirror material?
Many Thanks,
Jiajie



From Christopher.Rush at arup.com  Mon Aug 10 10:56:57 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Mon, 10 Aug 2015 17:56:57 +0000
Subject: [Radiance-general] Irradiance map
In-Reply-To: <003301d0d389$f9c8a180$ed59e480$@gmail.com>
References: <003301d0d389$f9c8a180$ed59e480$@gmail.com>
Message-ID: <88079A360FAC7441AE93ECBF619982362745C811@AMXExMb02.global.arup.com>

Could the lack of hotspot reflection also be related to the -st specular threshold parameter? By default this is -st 0.15 if not otherwise defined, so a glass definition with specular reflectance less than 0.15 could be ignored. I suspect -st 0.01 is more desirable for most typical simulations unless there are many parallel specular planes where it's desirable to leave out more specular component calculations.
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150810/cfebfeab/attachment.html>

From zrogers at daylightinginnovations.com  Mon Aug 10 12:51:00 2015
From: zrogers at daylightinginnovations.com (Zack Rogers)
Date: Mon, 10 Aug 2015 13:51:00 -0600
Subject: [Radiance-general] SPOT Pro v4.74 released!
Message-ID: <CAAP856zGVEbyqBiV8VqDEbJa4E9UeCVRtU80N340v+REPjXfqg@mail.gmail.com>

Fellow building simulationists,

A new version of the Sensor Placement + Optimization Tool daylighting and
lighting design software, SPOT Pro v 4.74, is now available!  Visit
SPOT home <http://www.daylightinginnovations.com/spot-home>


to learn more about it and download the software.

SPOT Pro is a Windows-based stand-alone lighting and daylighting design
interface to a powerful Radiance ray-tracing engine that sits, accessible,
behind the scenes.  SPOT Pro has a number of unique simulation capabilities:

   - *Optical daylighting system annual simulation* - SPOT uses "system
   BSDF" files to describe these optical or complex fenestration systems and
   perform annual simulation.
   - *Shade control simulation* - both automated/photosensor-based control
   and a range of manual shade control algorithms are available
   - *Annual metric reports* - compare various daylighting metrics with
   standard daylighting reports for LEED (v4, 2009, v2.1), CHPS and
   a SPOT performance report.
   - *"Design Day" calculations* - results showing average "design day"
   conditions (calibrated to climate data) rather than a specific weather
   condition in an hourly weather file.
   - *Simulation of photosensor systems and electric lighting* - SPOT simulates
   the actual photosensor system response, lets you refine the control system
   settings, and provides an annual simulation of the interaction between
   electric lighting and daylighting.  For those aiming for truly accurate
   simulation of the interaction between daylighting and electric lighting,
   this may be the *only tool* that does not use workplane illuminance (an
   average or a point) as a proxy for the photosensor signals, and that
   accounts for the interaction of electric light feedback on common
   closed-loop control systems.
   - *Output to DOE-2 and EnergyPlus* - After optimization and simulation
   of the photosensor system, SPOT provides annual LPD multiplier schedule
   output files for both DOE-2 and EnergyPlus.  Direct output to HAP coming
   soon....
   - *Internal Geometry Modeler* - The internal modeling tools are fairly
   robust, with blocks, sloped ceilings, monitors, and sawtooth geometries
   available, yet still easy and quick to use with no CAD experience
   necessary.  Sketchup models can be imported into the software behind the
   scenes.
   - *Material Database and Editor * - New material database allows colors,
   patterns, glass, metals, and BSDF files to be assigned to your model's
   surfaces.
   - *Improved Renderings -* The use of materials and patterns greatly
   improve the quality of the perspective and sectional renderings.

The software is in its final weeks of beta testing with the official v5.0
release coming at the end of August, 2015.  Commercial licenses bought
during this final beta stage are 1/2 off and will be valid for all SPOTPro
v5.X releases (at least a 3 year cycle).  Reduced price educational
licenses are also available.

The SPOT user manual
<http://www.manula.com/manuals/zrogers/spot-pro-v-5/1/en/topic/1-0-introduction>

 provides detailed information about the software including screen shots of
the various aspects of the program and this SPOT webinar
<https://www.youtube.com/watch?v=ecBFe83HRSY> provides a good introduction
to the software.

The next SPOT training webinars will be held at the Radiance workshop in
Philadelphia on August 18, 2015 (register at the workshop website
<http://www.cvent.com/events/14th-annual-international-radiance-workshop/event-summary-9869b51ebebe45ad8cb25fdf2e31fd89.aspx>

)  followed by a Performance.Network webinar on Sept 4, 2015 (register at
performance.network <http://www.performance.network/>

).  E-mail spot at daylightinginnovations.com if you are interested in joining
or scheduling a future SPOT webinar.

Happy Simulating!

[image: Inline image 3]

-- 
Zack Rogers, P.E., LEED AP BD+C
Daylighting Innovations, LLC
808 S. Public Road, Suite 200
Lafayette, CO 80026
(303)946-2310


www.daylightinginnovations.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150810/7a0d19cb/attachment.html>

From martin.klingler at gmx.at  Sun Aug  2 03:21:22 2015
From: martin.klingler at gmx.at (Martin Klingler)
Date: Sun, 2 Aug 2015 12:21:22 +0200
Subject: [Radiance-general] =?iso-8859-1?q?Integrated_photon_mapping_and_m?=
	=?iso-8859-1?q?aterial_roughness?=
Message-ID: <150040962728120956200@conserver>

Hello experts,

?

playing around with the new integrated photon mapping I met the following strage effect.

?

First I am using the old version (Radiance 3.7 and Photon map patch 4.3.1) and this very simple geometry (sorry for the german notes):

?

# LED als IES-Verteilung

# strahlt in Richtung der x-Achse

!xform LED.rad | xform -ry -90 -t -0.2 0 0

?

# Umlenkspiegel als Metal

void metal spiegel

0

0

5

0.9 0.9 0.9 1 0

?

!gensurf spiegel mir ?-0.25+s*0.5? ?-0.25+t*0.5? ?0? 1 1 | xform -ry -135

?

# Testflaeche

void plastic weiss

0

0

5

0.8 0.8 0.8 0 0

?

!gensurf weiss test ?-4+s*8? ?-4+t*8? ?-2? 1 1

?

A caustic map is generated like this: mkpmap -apc map2 1000000 -dp 50000

?

And based on that rad file:

?

# Rad Input File created by trad Son Aug  2 11:57:29 CEST 2015

DETAIL= Medium

EYESEP= 1

INDIRECT= 1

OCTREE= Dir_Pmap.oct

PENUMBRAS= True

PICTURE= Dir_Pmap

QUALITY= Medium

RESOLUTION= 1024

UP= Z

VARIABILITY= High

ZONE= Interior -4 4 -4 4 -2 0.5

render= -apcb map2 100 2000

scene= System_Pmap.rad

view= g1 -vtl -vp 0 0 -0.5 -vd 0 0 -1 -vu 0 1 0 -vh 8.5 -vv 8.5

?

I get this output: https://dl.dropboxusercontent.com/u/27495200/HGF.jpg

?

If I change the roughness for the "spiegel" material to 0.1, I get this output: https://dl.dropboxusercontent.com/u/27495200/RoughF.jpg

which seem to be quite Ok for me.

?

Now I change to the radiance HEAD from the 4th July. I use the same geometry and the following rad file:

?

# Rad Input File created by trad Son Aug  2 11:59:05 CEST 2015

DETAIL= Medium

INDIRECT= 0

OCTREE= Pmap1.oct

PCMAP= map3 1000000 50

PENUMBRAS= True

PICTURE= Pmap1rough

QUALITY= Medium

RESOLUTION= 1024

UP= Z

VARIABILITY= High

ZONE= Interior -4 4 -4 4 -2 0.5

mkpmap= -dp 50000

scene= System_Pmap.rad

view= g1 -vtl -vp 0 0 -0.5 -vd 0 0 -1 -vu 0 1 0 -vh 8.5 -vv 8.5

?

With the roughness of 0.0 I get this output: https://dl.dropboxusercontent.com/u/27495200/HGnF.jpg

Which, compared to a run with mirror material, seems to be even better than the old result.

?

But when I change to the roughness 0.1 I get this output: https://dl.dropboxusercontent.com/u/27495200/RoughnF.jpg

?

I already tried differend setting for the bandwidth parameter but the were no fundamental chages.

?

May thanks for any ideas

Martin Klingler

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150802/f879b4d6/attachment-0001.html>

From RGMARC at engr.psu.edu  Mon Aug 10 20:37:05 2015
From: RGMARC at engr.psu.edu (Richard Mistrick)
Date: Tue, 11 Aug 2015 03:37:05 +0000
Subject: [Radiance-general] 2015 International Radiance Workshop
	Registration
Message-ID: <4CBA3F4FC743644B878E92A40FD348F9D76B2F13@engr2k10node5.engr.psu.edu>

Late registration for individuals who would still like to attend the 2015 International Radiance Workshop in Philadelphia will close at 11:59 pm on Wednesday, August 12.  Registration for the livestream of the presentations will be available throughout the conference period, however to ensure you receive the necessary login details, you should register prior to 9PM on the prior evening (the livestream cost is $80).

The program for the 2015 International Radiance Workshop (to be held August 17-19 in Philadelphia, PA) can be viewed at www.engr.psu.edu/ae/faculty/mistrick/2015_RADIANCE_WORKSHOP_PROGRAM.pdf<http://www.engr.psu.edu/ae/faculty/mistrick/2015_RADIANCE_WORKSHOP_PROGRAM.pdf>.

Registration site:  http://www.cvent.com/events/14th-annual-international-radiance-workshop/event-summary-9869b51ebebe45ad8cb25fdf2e31fd89.aspx.

Feel free to contact me if you have any questions.

Sincerely,

Richard Mistrick
Penn State University
RMistrick at psu.edu

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150811/d924747d/attachment.html>

From jan.wienold at epfl.ch  Tue Aug 11 01:16:10 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Tue, 11 Aug 2015 10:16:10 +0200
Subject: [Radiance-general] Irradiance map
In-Reply-To: <D1EE36E6.1B95D%Robert.Guglielmetti@nrel.gov>
References: <003301d0d389$f9c8a180$ed59e480$@gmail.com>
	<D1EE36E6.1B95D%Robert.Guglielmetti@nrel.gov>
Message-ID: <55C9AF4A.1040609@epfl.ch>

ambient rays (this is what you do when using glass for your facade and 
plastic for the surrounding) will not traced along any specular 
reflection towards a light source (here sun), whatever (uhh.. not sure 
this word is allowed to be used any more...) specular settings you are 
using for the glass material. E.g. also rtrace -I facing a glass will 
get 0 contribution from sun reflection in the glass.
So either you use mirror material, photon-mapping or a modified version 
of Greg's cool tip:
You calculate the intersection points and render there a 180 
degree-fish-eye image instead and calculate from the image the 
illuminance or irradiance at that intersection point and transfer this 
back to an image. The main difference is that for an image view rays are 
sent out and the specular reflection towards a light source is taken 
into account. But be aware that secondary effects are not covered with 
this special trick (e.g. if your reflection hits a white surface (there 
it is covered) and then lights an adjacent surface (this is not covered).
When using mirror you have to take care that you miss the sky 
contribution from the mirror reflection, when using it normal. A mixing 
between mirror and glass might help, also regarding the "appearance".

good luck!
Jan

Am 8/10/15 um 7:15 PM schrieb Guglielmetti, Robert:
> There is a cool Greg Trick you can use to render irradiance on the glass material, which I summarize here:
>
> http://www.rumblestrip.org/2003/03/19/rendering-falsecolor-on-glass-with-vwrays/
>
> As for your quest to find the hotspot, if mirror material gave you a result in a reasonable timeframe, I'd say that may be the most expedient way to get what you're looking for, with the caveat that simply using the inverse of the glazing's transmittance for the reflectance is not correct. Most glazing manufacturers will provide the actual reflectance, which is what you should use.
>
> If you want to use the glass material you will need to adjust some of your rendering parameters to better account for the specular reflections. Can you share what you used, and perhaps a sample rendering of the fa?ade?
>
> On 8/10/15, 10:31 AM, "Jiajie Zhu" <jonathan.zhu.uk at gmail.com<mailto:jonathan.zhu.uk at gmail.com>> wrote:
>
> Hi,
> I am trying to calculate an irradiance map on the ground level in front of a concaved building facade for an instant time at a specific location. Here is the problems that I have:
>
> 1.       If I use the glass type material for the building facade with -i option in rpict, there will be no facade in the final result. I have checked the manual page that I know it is because of the Boolean calculation will ignore the transparent surface in the final result. But I do need the facade to be seen in the final result, how can I solve it.
>
> 2.       I found in the result that if I use the glass type material, no matter how low I set the transmissivity values, there will always no 'hotspot'/convergent irradiance on the ground level. It seems that the program just ignore the reflection process on the glass surface.
>
> 3.       If I change the facade material to mirror type, I can find an obvious 'hotspot' on the ground level as well as the facade in the final result. So I just wonder is it proper to modify the facade material into a mirror type if I am only interested in the exterior irradiance map of a building. Besides, if mirror type material can be used in my situation, how can I set the RGB reflectance values for mirror? For example, if the facade glass has a 40% transmittance, is it equivalent to set RGB values into 0.6 0.6 0.6 for a mirror material?
> Many Thanks,
> Jiajie
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849



From roland.schregle at hslu.ch  Tue Aug 11 02:36:40 2015
From: roland.schregle at hslu.ch (Schregle Roland HSLU T&A)
Date: Tue, 11 Aug 2015 11:36:40 +0200
Subject: [Radiance-general] Integrated photon mapping and material
 roughness
In-Reply-To: <150040962728120956200@conserver>
References: <150040962728120956200@conserver>
Message-ID: <op.x266beqdgbjfop@radiance>

On Sun, 02 Aug 2015 12:21:22 +0200, Martin Klingler
<martin.klingler at gmx.at> wrote:

> Hello experts,
>
>  playing around with the new integrated photon mapping I met the  
> following strage effect.

> Now I change to the radiance HEAD from the 4th July. I use the same  
> geometry and the following rad file:

> But when I change to the roughness 0.1 I get this output:  
> https://dl.dropboxusercontent.com/u/27495200/RoughnF.jpg
>
> I already tried differend setting for the bandwidth parameter but the  
> were no fundamental chages.

Hi Martin,

this is indeed weird, and resembles irradiance cache extrapolation  
artefacts, even though I understand ambient rays aren't even traced with  
INDIRECT=0, nor do they have to be if there are no other diffuse surfaces,  
so none of that should be going on.

Is the observed pattern (which resembles a Fresnel lens) from the LED's  
IES file? That would explain why the "jaggies" are also visible on the  
left edge of the mirror, where no photons reside. What worries me more is  
that the
lighting levels are too high.

The code has changed substantially in the course of this year, so it's  
hard to pinpoint the root cause offhand. I'll try reproducing this with a  
"point" source to check what's up. Failing that, could you send me the LED  
definition with IES file for testing?

Thanks & best regards,

--Roland


-- 
Dr. Roland Schregle
Senior Research Associate

Lucerne University of Applied Sciences and Arts
School of Engineering and Architecture
CC Envelopes and Solar Energy (EASE)
www.hslu.ch/ccease

T direct: +41 41 349 36 26 (New)
roland.schregle at hslu.ch

Technikumstrasse 21, CH-6048 Horw (Correspondence)
Ebenaustrasse 20, CH-6048 Horw (Office)
T +41 41 349 33 11, F +41 41 349 39 60


From ezxia at nottingham.ac.uk  Tue Aug 11 03:54:12 2015
From: ezxia at nottingham.ac.uk (Ikrima Amaireh)
Date: Tue, 11 Aug 2015 11:54:12 +0100
Subject: [Radiance-general] rcontrib with 2-phase method?
Message-ID: <D697763F9F216044A99BC674C0056196135AD104D8@EXCHANGE1.ad.nottingham.ac.uk>

Dear Robert,

Thanks for making clear that using rcontrib and using 3/5 phase methods need a recent version of radiance. does that apply to using 2-phse (Daysim) or one can still use old versions of radiance (as I have a problem yet with installing recent versions of radiance and link it with Daysim tool)?

Many thanks for you in advance:

Regards,,,
ikriam

------------------------------

Message: 2
Date: Mon, 10 Aug 2015 17:03:49 +0000
From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
To: "radiance-general at radiance-online.org"
        <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Ray-tracing with Radiance
Message-ID: <D1EE1EEF.1B923%Robert.Guglielmetti at nrel.gov>
Content-Type: text/plain; charset="us-ascii"

There is a daysim-specific mailing list that may be useful for some of your questions:

http://www.radiance-online.org/community/mailing-lists/subscribe/radiance-d
aysim


I can tell you that if you're planning to use rcontrib and do 3- or 5-phase type stuff, you definitely should be using a recent version of Radiance. Either build from latest source, or use one of the NREL pre-built packages (I recommend v5):

https://github.com/NREL/Radiance/releases/tag/5.0.a.3




On 8/10/15, 9:14 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:

>Dear Germ?n,
>
>Many thanks for you. I agree with you totally that all Radiance works
>need to apply ray-tracing approach as the core principle of it.
>However, what I meant by using ray-tracing in radiance, was the using
>of RTRACE directly through stand-alone radiance tool (as you kindly mentioned).
>
>As you clarified, Daysim uses 2-phase method to do annual simulation
>(2nd
>phase) fast, based on pre-calculated Daylight Coefficient Matrix (1st
>phase). Now, if I need to produce the illuminance levels (produced by
>specific CFS) at the Workplane under static scene, can I still use
>Daysim for that? Or, shall I stick to RTRACE tool directly through pure Radiance?
>
>And, if I have to stick to using Pure Radiance (RTRACE), is the method
>detailed in the attached document (hope, you see that: where Geometry
>and Workplane sensors are built in Ecotect and directly exported to
>Radiance engine), is it still valid?
>
>
>Finally, in both cases (using pure Radiance and/or Daysim), shall we
>replace the Radiance tool (works as engine) by the latest released
>version (i.e. Version 4.2 or recent?) as the one works with
>Ecotect-Radiance approach (I'm not sure about Daysim, yet) is old
>version (2.0; in think!)?
>
>
>Really, I am grateful to you for your appreciated help and looking to
>hear from you again :)
>
>Regards,,,
>
>Ikrima
>
>
>
>
>
>> As some of you may remember, I am trying to model a set of CFS to
>>compare their effect on indoor horizontal illuminance of a room.
>So  far, I have been advised by you for several stages, which really
>helped me a lot for better understanding of radiance and how it works.
>Now, I have a question about how I use ray-tracing method in radiance?
>Is it similar to the way explained through the following attachment?
>As here, calculations are run using Radiance engine but Ecotect or
>Daysim interface (for geometry modelling and material assignment).
>Document:
>http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Gett
>ing
>StartedwithEcotectRadianceDaysim.pdf
>
>I hope if you can kindly advise me on that asap, please?
>
>
>Ikrima,
>
>Strictly speaking, Radiance always use ray-tracing. Whenever you call
>RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>simulation performed. However, when you want to perform annual
>simulations, you will want to do as few ray-tracing simulations as
>possible since they take time.
>RTRACE, for example, is a method used to calculate the illuminance or
>luminance of a point (sensor) in a static scene. Doing this for a whole
>year would require 8760 or more RTRACE calls, which means 8760 or more
>ray-tracing simulations, which is slow.
>
>Accordingly, Daysim (which uses the 2-phase method) runs one
>ray-tracing simulation that calculates the Daylight Coefficient matrix
>(this can be done in pure radiance by using RCONTRIB). This matrix
>relates the sensors
>(workplane?) in the scene with the sky, mich means that you can modify
>the sky and quickly evaluate illuminance in the same points. This
>allows performing annual simulations fast (only the sky changes in a
>static annual simulation). 3 and 5 phase method are extensions to this
>that allow also modifying the CFSs in the scene.
>
>Hope that clarify a little bit.
>
>
>
>
>-----Original Message-----
>From: radiance-general-request at radiance-online.org
>[mailto:radiance-general-request at radiance-online.org]
>Sent: 10 August 2015 14:20
>To: radiance-general at radiance-online.org
>Subject: Radiance-general Digest, Vol 138, Issue 12
>
>Send Radiance-general mailing list submissions to
>        radiance-general at radiance-online.org
>
>To subscribe or unsubscribe via the World Wide Web, visit
>
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>or, via email, send a message with subject or body 'help' to
>        radiance-general-request at radiance-online.org
>
>You can reach the person managing the list at
>        radiance-general-owner at radiance-online.org
>
>When replying, please edit your Subject line so it is more specific
>than
>"Re: Contents of Radiance-general digest..."
>
>
>Today's Topics:
>
>   1. Re: Ray-tracing with Radiance (Germ?n Molina Larrain)
>
>
>----------------------------------------------------------------------
>
>Message: 1
>Date: Mon, 10 Aug 2015 10:19:18 -0300
>From: Germ?n Molina Larrain <germolinal at gmail.com>
>To: Radiance general discussion <radiance-general at radiance-online.org>
>Subject: Re: [Radiance-general] Ray-tracing with Radiance
>Message-ID:
>
><CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g at mail.gmail.com>
>Content-Type: text/plain; charset="utf-8"
>
>Ikrima,
>
>Strictly speaking, Radiance always use ray-tracing. Whenever you call
>RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>simulation performed. However, when you want to perform annual
>simulations, you will want to do as few ray-tracing simulations as
>possible since they take time.
>RTRACE, for example, is a method used to calculate the illuminance or
>luminance of a point (sensor) in a static scene. Doing this for a whole
>year would require 8760 or more RTRACE calls, which means 8760 or more
>ray-tracing simulations, which is slow.
>
>Accordingly, Daysim (which uses the 2-phase method) runs one
>ray-tracing simulation that calculates the Daylight Coefficient matrix
>(this can be done in pure radiance by using RCONTRIB). This matrix
>relates the sensors
>(workplane?) in the scene with the sky, mich means that you can modify
>the sky and quickly evaluate illuminance in the same points. This
>allows performing annual simulations fast (only the sky changes in a
>static annual simulation). 3 and 5 phase method are extensions to this
>that allow also modifying the CFSs in the scene.
>
>Hope that clarify a little bit.
>
>Best,
>
>Germ?n
>
>
>
>2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:
>
>> Hello Robert,
>> Hello all,
>>
>> As some of you may remember, I am trying to model a set of CFS to
>> compare their effect on indoor horizontal illuminance of a room. So
>> far, I have been advised by you for several stages, which really
>> helped me a lot for better understanding of radiance and how it works.
>>
>> Now, I have a question about how I use ray-tracing method in radiance?
>> Is it similar to the way explained through the following attachment?
>> As here, calculations are run using Radiance engine but Ecotect or
>> Daysim interface (for geometry modelling and material assignment).
>>
>> Document:
>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Ge
>> t tingStartedwithEcotectRadianceDaysim.pdf
>>
>> I hope if you can kindly advise me on that asap, please?
>>
>>
>> Best regards
>> Ikrima
>>
>>
>>
>> -----Original Message-----
>> From: radiance-general-request at radiance-online.org [mailto:
>> radiance-general-request at radiance-online.org]
>> Sent: 12 July 2015 20:37
>> To: radiance-general at radiance-online.org
>> Subject: Radiance-general Digest, Vol 137, Issue 12
>>
>> Send Radiance-general mailing list submissions to
>>         radiance-general at radiance-online.org
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> or, via email, send a message with subject or body 'help' to
>>         radiance-general-request at radiance-online.org
>>
>> You can reach the person managing the list at
>>         radiance-general-owner at radiance-online.org
>>
>> When replying, please edit your Subject line so it is more specific
>> than
>> "Re: Contents of Radiance-general digest..."
>>
>>
>> Today's Topics:
>>
>>    1. Git for Windows and starting tutorials (Ikrima Amaireh)
>>
>>
>> ---------------------------------------------------------------------
>> -
>>
>> Message: 1
>> Date: Sun, 12 Jul 2015 20:36:19 +0100
>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> Subject: [Radiance-general] Git for Windows and starting tutorials
>> Message-ID:
>>         <
>> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.
>> uk>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi Robert,
>>
>> Many thanks for your help.
>>
>> I have installed Git for Windows as you adviced :) Now, Before I
>>start  with 3 or 5-phase tutorials, I'm thinking to go through
>>"radiance tutorial"
>> (by Axel Jacobs) as a beginner with almost a shallow
>>knowledge/experience of radiance. So, do recommend this (radiance
>>tutorial would be enough to start with 3 or 5-phase methods and
>>understanding of BSDF data approach,
>> etc) or advice another tutorial/source for better understanding of
>>radiance basics (using command prompt)?
>>
>> Many thanks again :)
>>
>> Regards
>> Ikrima
>>
>>
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Fri, 10 Jul 2015 15:52:23 +0000
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>>         Issue 8
>> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> OK so it sounds like you first tried the Windows installer
>> (presumably a NREL-provided one such as this:
>> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.
>> 0.a-w in64.exe), and this most likely worked fine, you just had some
>> issues actually *doing* anything with it. This is normal. =)
>>
>> I recommend you install Git for windows (https://msysgit.github.io/),
>> as that will add a little BASH emulator in your Windows system. This
>> way you can run most of the commands exactly as they appear in most
>> of the tutorials out there that are written from a UNIX perspective
>> (as you point out). If you run the "Git BASH shell" you will be able
>> to try out all the multi-phase methods, use and generate BSDFs, etc.
>> Once you have Git for Windows installed, head over to Andy McNeil's
>> tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be in
>> the Git program group in the Windows start menu), and get started!
>>
>> One thing to keep in mind is that when running any commands that
>>read/write data (e.g. rcontrib), be sure to use ASCII format rather
>>than float. Windows has issues with float data (among many other
>>things).
>>
>> Good luck!
>>
>> - Rob
>>
>> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>> >Hi Robert,
>> >
>> >My PC is running on Windows 7 Enterprise.
>> >Initially, I installed Radiance for Window using its installer but I
>> >found that most of the tutorials are provided for pc with Linux
>> >and/or Linux-like operating systems; So I had to install try learnix
>> >(that did not work) and Ubuntu (also did not work)!
>> >Finally, I tried to use Cygwin to run Radiance on Window OS. I could
>> >install Cygwin (works fine), Xming (not sure if working) and
>> >Radiance (not all its programs are working!).
>> >
>> >I'm a bit confused as I'm not sure if running Radiance on windows
>> >using Cygwin will be enough for carrying my work. For example, can I
>> >work out phases methods and generate BSDF data?
>> >
>> >I wish if you can help me to do that.
>> >
>> >Many thanks
>> >ikrima
>> >
>> >
>> >
>> >------------------------------
>> >
>> >Message: 3
>> >Date: Thu, 9 Jul 2015 16:44:49 +0000
>> >From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> >To: "radiance-general at radiance-online.org"
>> >       <radiance-general at radiance-online.org>
>> >Subject: Re: [Radiance-general] Could not install Radiance!!!
>> >Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>> >Content-Type: text/plain; charset="us-ascii"
>> >
>> >Hi Ikrima,
>> >
>> >We'll need a bit more info, here. What OS are you on? How are you
>> >attempting to install it (using an installer, compiling from source,
>> >or what)? What happens when you try??
>> >
>> >On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>> >
>> >>Hi all,
>> >>
>> >>After one a few weeks of trying, I could not manage to install
>> >>radiance properly. I am almost disappointed! Please any help?
>> >>
>> >>Regards
>> >>Ikrima
>> >
>> >
>> >
>> >
>> >This message and any attachment are intended solely for the
>> >addressee and may contain confidential information. If you have
>> >received this message in error, please send it back to me, and immediately delete it.
>> >
>> >Please do not use, copy or disclose the information contained in
>> >this message or in any attachment.  Any views or opinions expressed
>> >by the author of this email do not necessarily reflect the views of
>> >the University of Nottingham.
>> >
>> >This message has been checked for viruses but the contents of an
>> >attachment may still contain software viruses which could damage
>> >your computer system, you are advised to perform your own checks.
>> >Email communications with the University of Nottingham may be
>> >monitored as permitted by UK legislation.
>> >
>> >
>> >_______________________________________________
>> >Radiance-general mailing list
>> >Radiance-general at radiance-online.org
>> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 3
>> Date: Fri, 10 Jul 2015 17:34:30 +0100
>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> Subject: [Radiance-general] Modelling CFS
>> Message-ID:
>>         <
>> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.
>> uk>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi all,
>>
>> Thanks Robert and Larrain for your detailed replies, that helped me a
>>lot.
>>
>> I would summarise here what I got form your appreciated replies, as
>> following:
>> - Radiance is convenient and best of tools to model daylighting due
>> to its ray-tracing method.
>> - 3 or 5-phases methods are used to facilitate the calculations.
>> - Generating BSDF data is also used to facilitate these calculations
>> but it is limited to Klems resolution of some CFS.
>>
>> Initially, I'm not planning to do annual calculations. It's just for
>>specific hours of the day and the target is to produce a illuminance
>>levels for indoor grid under different CFSs. Hence, according to my
>>understanding from Larrain words, I can use either 2-phase or
>>Ray-tracing methods. My question is how can I draw/define the CFS
>>geometry and Space for these calculations? Is it similar to the way
>>use in Ecotect/Radiance calculations?
>>
>> Regards
>> Ikrima
>>
>>
>>  -----Original Message-----
>> From: radiance-general-request at radiance-online.org [mailto:
>> radiance-general-request at radiance-online.org]
>> Sent: 09 July 2015 19:56
>> To: radiance-general at radiance-online.org
>> Subject: Radiance-general Digest, Vol 137, Issue 8
>>
>> Send Radiance-general mailing list submissions to
>>         radiance-general at radiance-online.org
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> or, via email, send a message with subject or body 'help' to
>>         radiance-general-request at radiance-online.org
>>
>> You can reach the person managing the list at
>>         radiance-general-owner at radiance-online.org
>>
>> When replying, please edit your Subject line so it is more specific
>> than
>> "Re: Contents of Radiance-general digest..."
>>
>>
>> Today's Topics:
>>
>>    1. CFS with Radiance (Ikrima Amaireh)
>>    2. Could not install Radiance!!! (Ikrima Amaireh)
>>    3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>>    4. Re: CFS with Radiance (Guglielmetti, Robert)
>>    5. Re: CFS with Radiance (Germ?n Molina Larrain)
>>
>>
>> ---------------------------------------------------------------------
>> -
>>
>> Message: 1
>> Date: Thu, 9 Jul 2015 17:26:29 +0100
>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> Subject: [Radiance-general] CFS with Radiance
>> Message-ID:
>>         <
>> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.
>> uk>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi G. Larrain,
>>
>> Thanks for your detailed clarification (below).
>>
>> I wonder if you kindly can help me toward better understanding and
>> answering the following:
>>
>> We agreed that for daylight modelling of spaces with CFS, Radiance is
>>a suitable tool as it applies ray-tracing method. And for annual
>>and/or climate-based daylight calculations, as calculation time
>>becomes a critical factor, using BSDF data for CFS is highly
>>recommended to tackle the task with radiance (using phases methods).
>>However:
>>
>> - if someone needs to perform daylight calculations for given space
>> with different CFS (different cases for comparison purposes) to get
>> illumination levels for horizontal grid points (and not pictures nor
>> scenes), is Radiance still the most convenient option?
>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>> - most importantly, is it still needed to get BSDF data for CFS or
>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>
>>
>> Many thanks for your kind help :)
>>
>> Regards
>> Ikrima
>>
>>
>> "Ikrima,
>>
>> I am going to try to build the puzzle of CFS, Phases, BSDF and
>> calculations.... at least the way I understand it.
>>
>> *CFS* are those systems that, via interreflection or other light
>>transport phenomena, redirect light (or solar radiation). Thus, in
>>order to get a reliable result you will have to consider all the
>>phenomena involved.
>> Then, *common
>> simple performance indexes*, such as the miss-used Shading
>>Coefficient  and the Aperture Percentage, *always loose a lot of
>>information,  trying to reduce all the complex behavior of a CFS to
>>one single  number*. We all know that venetian blinds are more
>>"transparent" from  certain viewing directions than from others, but
>>these performance indexes do not tell you that.
>>
>> Now... Radiance can certainly perform calculations of spaces with CFS
>> using its "common" Ray-tracing. However, this may be slow for some
>> purposes (i.e.
>> annual simulations and climate-based daylight modelling), and *this
>> is why 2, 3 and 5 phase methods have been developed*. The *BSDF*
>> representation, I would say, goes in the same direction... It allow
>> summarizing all the bounces, reflections, refractions, etc.  that
>> occure withing the CFS in a single matrix or tensor.* By using
>> BSDFs*, Radiance itself and other tools (i.e. EnergyPlus) can treat
>> CFS as blackboxes, avoiding all the opcits within the system. A BSDF
>> that uses the Klems Full representation has
>> 21,045 numbers (instead of one, such as the Shading Coefficient).
>>
>> Being said all that, I would not trust a calculation method unless it
>> can actually deal with the optics of a CFS that is drawn and/or it
>> can use BSDF (or similar) information.
>>
>> Lets remember that a perforated screen, a venetian blind, a light
>> diffusing device can all have a Shading Coefficient of 50%, but all
>> of them will behave very differently. I made some presentations about
>> this on my previous work (we sold complex Shading Devices), trying to
>> promote the use of BSDF in EnergyPlus calculations... the differences
>> (in solar heat gains) were more than considerable.
>>
>> I hope that someone else gives us his/her perspective on this topic...
>> there are a lot of concepts that I might be misunderstanding.
>>
>> Best!"
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Thu, 9 Jul 2015 17:38:41 +0100
>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>> Subject: [Radiance-general] Could not install Radiance!!!
>> Message-ID:
>>         <
>> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.
>> uk>
>>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi all,
>>
>> After one a few weeks of trying, I could not manage to install
>> radiance properly. I am almost disappointed! Please any help?
>>
>> Regards
>> Ikrima
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 3
>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Hi Ikrima,
>>
>> We'll need a bit more info, here. What OS are you on? How are you
>> attempting to install it (using an installer, compiling from source,
>> or what)? What happens when you try??
>>
>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>> >Hi all,
>> >
>> >After one a few weeks of trying, I could not manage to install
>> >radiance properly. I am almost disappointed! Please any help?
>> >
>> >Regards
>> >Ikrima
>> >
>> >
>> >
>> >
>> >This message and any attachment are intended solely for the
>> >addressee and may contain confidential information. If you have
>> >received this message in error, please send it back to me, and immediately delete it.
>> >
>> >Please do not use, copy or disclose the information contained in
>> >this message or in any attachment.  Any views or opinions expressed
>> >by the author of this email do not necessarily reflect the views of
>> >the University of Nottingham.
>> >
>> >This message has been checked for viruses but the contents of an
>> >attachment may still contain software viruses which could damage
>> >your computer system, you are advised to perform your own checks.
>> >Email communications with the University of Nottingham may be
>> >monitored as permitted by UK legislation.
>> >
>> >
>> >_______________________________________________
>> >Radiance-general mailing list
>> >Radiance-general at radiance-online.org
>> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 4
>> Date: Thu, 9 Jul 2015 17:29:39 +0000
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] CFS with Radiance
>> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> Some very quick replies and clarifications within:
>>
>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>> >Hi G. Larrain,
>> >
>> >Thanks for your detailed clarification (below).
>> >
>> >I wonder if you kindly can help me toward better understanding and
>> >answering the following:
>> >
>> >We agreed that for daylight modelling of spaces with CFS, Radiance
>> >is a suitable tool as it applies ray-tracing method. And for annual
>> >and/or climate-based daylight calculations, as calculation time
>> >becomes a critical factor, using BSDF data for CFS is highly
>> >recommended to tackle the task with radiance (using phases methods).
>>However:
>>
>>
>> BSDF data in an annual simulation context is generally limited to
>>Klems basis BSDF data, which may not be high enough resolution for
>>some CFS. And the 5-phase method, which can circumvent this, is not
>>necessarily "quick".
>> This is all still very much a quandary and the newest daylight
>>metrics  have added confusion to all of this, IMO.
>>
>>
>> >
>> >- if someone needs to perform daylight calculations for given space
>> >with different CFS (different cases for comparison purposes) to get
>> >illumination levels for horizontal grid points (and not pictures nor
>> >scenes), is Radiance still the most convenient option?
>>
>>
>> Absolutely. The lack of an image-as-output requirement does not
>>change  the fact that ray tracing is a good/convenient algorithm
>>option for  daylight simulation problems, especially when dealing with
>>diffusing  media and CFS in general. BSDFs allow you to do lots of
>>"what-ifs",  relatively quickly, but are beholden to the limitations
>>of the resolution of the BSDF.
>>
>>
>> >- is it still needed to use any of the phase methods (2, 3 or 5)?
>>
>>
>> Is what still needed? BSDF data? Ray tracing? I don't know of other
>> lighting simulation tools that can employ the multiphase methods. I
>> would say BSDF data is optional for 2-phase, required for 3-phase,
>> and optional for 5-phase.
>>
>> >- most importantly, is it still needed to get BSDF data for CFS or
>> >just can model the detailed CFS in Radiance (and, if yes, how?)
>>
>>
>> Again I'm confused as to what "it" is. A couple of approaches are
>>available to you in general. If you have a geometric model of the CFS
>>you can use Radiance (genBSDF) to make a BSDF of the CFS and use that
>>in a 3- or 5-phase context. However in an annual/climate-based
>>simulation context, you will be stuck with a Klems basis BSDF and that
>>will not be very good resolution for a lot of CFS; here you may want
>>to use the 5-phase method and stick the actual CFS geometry in the
>>building model.
>>
>> Some things to consider here are the photon map, now a part of
>>Radiance proper, or using the 2-phase method where appropriate. By
>>2-phase method I mean generating a daylight matrix for your
>>calculation points (or view), and modeling the window material as-is.
>> If the "CFS" is a shade cloth, you can approximate that with a
>>Radiance "trans". Same for translucent panels.
>> With this single daylight matrix, you can throw a vector of sky
>>matrices at it and get an annual climate-based result very quickly.
>> Problem is, we want to do stuff to the windows, sometimes at the time
>>step level, so:
>>
>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>are  best represented as BSDF, and if most of the redirected flux is
>>headed  up and away from the points of interest, a Klems basis BSDF is
>>good  enough IMO. In these cases you could use the 3-phase method.
>>Problem  is when you have a BSDF for blinds, and you also want to
>>simulate the  blinds-up condition (i.e. clear, specularly transmitting
>>glass). Using  a Klems basis BSDF for this is sub-optimal. You end up
>>needing to do  two annual simulations, one as 2-phase for the clear
>>glass scenario,  and again as a 3-phase (with a blinds BSDF for the
>>transmission
>> matrix) for the blinds down condition. If you have a lot of different
>>window groups, your simulation space can get large in a hurry. But
>>it's still do-able and you can get results that tell a story you
>>simply couldn't tell 5 years ago, informing the newest daylight
>>metrics as well.
>>
>>
>>
>>
>>
>>
>> ------------------------------
>>
>> Message: 5
>> Date: Thu, 9 Jul 2015 15:56:11 -0300
>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>> To: Radiance general discussion
>> <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] CFS with Radiance
>> Message-ID:
>>         <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
>> FZL-Q at mail.gmail.com>
>> Content-Type: text/plain; charset="utf-8"
>>
>> I must say that I agree with Rob, however, a short answer that might
>>help.
>>
>> For evaluating illuminance levels in a space with different CFS you,
>> strictly speaking, DO NOT HAVE TO do anything. You may choose between
>> different methods that have some pros and cons.
>>
>>
>> *ray-tracing*
>>
>>    - Requires ray-tracing for each time-step and each system, which
>>is slow
>>    (*four systems simulated annualy in an hourly basis --> 4*8760 =
>>35,040
>>    simulations*.)
>>    - As accurate as it gets, if options are defined correctly.
>>
>>
>> *2 phase method*
>>
>>    - Do not need the BSDF
>>    - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>>    simulations*)
>>    - After ray-tracing, annual simulation is fast.
>>
>> *3-phase method:*
>>
>>    - Requires BSDF data in KLEMS basis, which may be slow to compute,
>>    unless it can be exported from WINDOW, for example, or such data has
>>    already been calculated (the idea is to make a database, I think).
>>    - Does not really work well for specular systems (Klems patches
>>are too
>>    big)
>>    - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>>    simulations*)
>>    - After ray-tracing and BSDF calculation, annual simulation is
>>fast
>>
>> *5-phase method:*
>>
>>    - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format, which
>>    may be slow to compute, unless it can be exported from WINDOW, for
>> example,
>>    or such data has already been calculated (the idea is to make a
>> database, I
>>    think).
>>    - Works well for specular systems
>>    - Requires 4 ray-tracing runs + 1 for each system, always (*4 systems
>>    --> 4+1 = 5 ray-tracing simulations*)
>>    - Hard to code...?
>>    - After ray-tracing and BSDF calculation, annual simulation is
>> fast
>>
>>
>> I would not say there is a recipe. If you have to choose between 1 or
>> 2 CFSs, maybe it is faster to just draw them and use the 2 phase
>> method (or ray-tracing if an annual simulaton is not required). On
>> the contrary, if you are going to test 10 different CFSs, 3 and 5
>> phases may make sense, since you reduce the expensive ray-tracing
>> calculations... However, this will also depend on weather you have
>> the BSDF data AND/OR if it makes sense to calculate it and store it
>> AND/OR if you intend to simulate a dynamically controlled CFS.
>>
>> Best!
>>
>> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
>> Robert.Guglielmetti at nrel.gov>:
>>
>> > Some very quick replies and clarifications within:
>> >
>> > On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>> >
>> > >Hi G. Larrain,
>> > >
>> > >Thanks for your detailed clarification (below).
>> > >
>> > >I wonder if you kindly can help me toward better understanding and
>> > >answering the following:
>> > >
>> > >We agreed that for daylight modelling of spaces with CFS, Radiance
>> > >is a suitable tool as it applies ray-tracing method. And for
>> > >annual and/or climate-based daylight calculations, as calculation
>> > >time becomes a critical factor, using BSDF data for CFS is highly
>> > >recommended to tackle the task with radiance (using phases methods).
>> However:
>> >
>> >
>> > BSDF data in an annual simulation context is generally limited to
>> > Klems basis BSDF data, which may not be high enough resolution for
>> > some CFS. And the 5-phase method, which can circumvent this, is not
>> necessarily "quick".
>> > This is all still very much a quandary and the newest daylight
>> > metrics have added confusion to all of this, IMO.
>> >
>> >
>> > >
>> > >- if someone needs to perform daylight calculations for given
>> > >space with different CFS (different cases for comparison purposes)
>> > >to get illumination levels for horizontal grid points (and not
>> > >pictures nor scenes), is Radiance still the most convenient option?
>> >
>> >
>> > Absolutely. The lack of an image-as-output requirement does not
>> > change the fact that ray tracing is a good/convenient algorithm
>> > option for daylight simulation problems, especially when dealing
>> > with diffusing media and CFS in general. BSDFs allow you to do lots
>> > of "what-ifs", relatively quickly, but are beholden to the
>> > limitations of the
>> resolution of the BSDF.
>> >
>> >
>> > >- is it still needed to use any of the phase methods (2, 3 or 5)?
>> >
>> >
>> > Is what still needed? BSDF data? Ray tracing? I don't know of other
>> > lighting simulation tools that can employ the multiphase methods. I
>> > would say BSDF data is optional for 2-phase, required for 3-phase,
>> > and optional for 5-phase.
>> >
>> > >- most importantly, is it still needed to get BSDF data for CFS or
>> > >just can model the detailed CFS in Radiance (and, if yes, how?)
>> >
>> >
>> > Again I'm confused as to what "it" is. A couple of approaches are
>> > available to you in general. If you have a geometric model of the
>> > CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>> > use that in a 3- or 5-phase context. However in an
>> > annual/climate-based simulation context, you will be stuck with a
>> > Klems basis BSDF and that will not be very good resolution for a
>> > lot of CFS; here you may want to use the 5-phase method and stick
>> > the actual CFS geometry in the
>> building model.
>> >
>> > Some things to consider here are the photon map, now a part of
>> > Radiance proper, or using the 2-phase method where appropriate. By
>> > 2-phase method I mean generating a daylight matrix for your
>> > calculation points (or view), and modeling the window material as-is.
>> > If the "CFS" is a shade cloth, you can approximate that with a
>> > Radiance
>> "trans". Same for translucent panels.
>> > With this single daylight matrix, you can throw a vector of sky
>> > matrices at it and get an annual climate-based result very quickly.
>> > Problem is, we want to do stuff to the windows, sometimes at the
>> > time
>> step level, so:
>> >
>> > Blinds and compact daylight redirection devices (e.g. Lightlouver)
>> > are best represented as BSDF, and if most of the redirected flux is
>> > headed up and away from the points of interest, a Klems basis BSDF
>> > is good enough IMO. In these cases you could use the 3-phase method.
>> > Problem is when you have a BSDF for blinds, and you also want to
>> > simulate the blinds-up condition (i.e. clear, specularly
>> > transmitting glass). Using a Klems basis BSDF for this is
>> > sub-optimal. You end up needing to do two annual simulations, one
>> > as 2-phase for the clear glass scenario, and again as a 3-phase
>> > (with a blinds BSDF for the transmission
>> > matrix) for the blinds down condition. If you have a lot of
>> > different window groups, your simulation space can get large in a
>> > hurry. But it's still do-able and you can get results that tell a
>> > story you simply couldn't tell 5 years ago, informing the newest
>> > daylight metrics
>> as well.
>> >
>> >
>> >
>> >
>> > _______________________________________________
>> > Radiance-general mailing list
>> > Radiance-general at radiance-online.org
>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>> >
>> -------------- next part -------------- An HTML attachment was
>> scrubbed...
>> URL: <
>> http://www.radiance-online.org/pipermail/radiance-general/attachments
>> /
>> 20150709/cfbdd4da/attachment.html
>> >
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 137, Issue 8
>> ************************************************
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 137, Issue 9
>> ************************************************
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 137, Issue 12
>> *************************************************
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>-------------- next part -------------- An HTML attachment was
>scrubbed...
>URL:
><http://www.radiance-online.org/pipermail/radiance-general/attachments/
>201
>50810/959f6779/attachment.html>
>
>------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>End of Radiance-general Digest, Vol 138, Issue 12
>*************************************************
>
>
>
>
>This message and any attachment are intended solely for the addressee
>and may contain confidential information. If you have received this
>message in error, please send it back to me, and immediately delete it.
>
>Please do not use, copy or disclose the information contained in this
>message or in any attachment.  Any views or opinions expressed by the
>author of this email do not necessarily reflect the views of the
>University of Nottingham.
>
>This message has been checked for viruses but the contents of an
>attachment may still contain software viruses which could damage your
>computer system, you are advised to perform your own checks. Email
>communications with the University of Nottingham may be monitored as
>permitted by UK legislation.
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general




------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 138, Issue 15
*************************************************




This message and any attachment are intended solely for the addressee
and may contain confidential information. If you have received this
message in error, please send it back to me, and immediately delete it. 

Please do not use, copy or disclose the information contained in this
message or in any attachment.  Any views or opinions expressed by the
author of this email do not necessarily reflect the views of the
University of Nottingham.

This message has been checked for viruses but the contents of an
attachment may still contain software viruses which could damage your
computer system, you are advised to perform your own checks. Email
communications with the University of Nottingham may be monitored as
permitted by UK legislation.



From overduin.jasper at gmail.com  Tue Aug 11 08:08:03 2015
From: overduin.jasper at gmail.com (Jasper Overduin)
Date: Tue, 11 Aug 2015 12:08:03 -0300
Subject: [Radiance-general] help pfilt and low values dgp
In-Reply-To: <55439897.7050805@epfl.ch>
References: <CAHgS54fXM9UeHCXdgT7inVz=n9XFPTBc2kmZKTYKksfOxHngtw@mail.gmail.com>
	<55439897.7050805@epfl.ch>
Message-ID: <CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>

Dear all,

I have changed my lens to one with 180 circular view to do a contrast
analysis (hdrscope) and meanwhile the glare analysis in evalglare. If i use
the commands in evalglare getinfo i get the (HDR composed with photosphere
on a mac, calibrated with luminance pistol) i get a value for the lens -vv
and -vh which is not over 100, with a lens of 180. I can imagine that the
photo ratio and the lens are not the same and that causes this problem. But
when I enter the external measured Ev, the value the dgp goes somehow to
zero. The fact that the gdp is zero with a maximum luminance of 5600 cd/m2
and Ev of 2500 lux makes me a bit suspicious. How accurate is the result of
the dgp without external vertical lux? is it possible to use this value?

hdr files and printscreens of evalglare
https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0

Greetings Jasper



*Jasper Overduin*
MSc. Building Technology graduate student at Delft University of Technology


*S* Groenhoevelaan 3
*P* 2343 BP Oegstgeest
*T* +31 6 15 64 48 56 (NL)
*T* +56 9 51 11 76 48 (CL)
*E *overduin.jasper at gmail.com
*Skype *jasper.overduin

On 1 May 2015 at 12:15, Jan Wienold <jan.wienold at epfl.ch> wrote:

> Hi Jasper,
>
> I briefly looked at your image - for sure you get a low DGP value if your
> illuminance at camera (or eye) level is only about 300lux... It is not the
> matter of the fish eye lens it is a matter of your lighting condition.
> When I remember correctly, for the experiments I did for my PhD, the
> people adjusted the blinds in a way, that they had 2500-3000 lux at the eye
> level and they were less than 20% of them dissatisfied. So a value of 300
> means one order of magnitude less light at the eye level and a much lower
> adaptation level.
> So I definitely understand the low DGP value in that case. The images
> themselves look reasonable, so I don't think there is a problem in
> calibration/processing so far (at least not for these low luminance
> levels-it might be more tricky to calibrate for the high luminance values
> when you get stray-light from the multiple lenses).
>
> If all your images are like that it means you have a very low daylight
> contribution at the place you measure. I'm not sure if DGP is then the
> right way to measure glare in that case - as I wrote it is made more for
> the daylight oriented workplace with higher levels and also to take into
> account very high luminances (e.g. sun or specular reflections of the sun).
> DGP might be modified in future, but these experiments are just starting.
>
> Jan
>
>
>
>
>
>
> Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>
> Thank you for the fast reply. We are still having some problems with the
>> outcome of Evalglare. With an external luxometre we have done some tests
>> now. The DGP is still very low or zero. It seems that in almost all the
>> case the DGP is low. In literature we read that values above 20% are
>> normal. What do you think? is the data much better if we use a full 180
>> degree lens?
>>
>> .hdr file https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
> print screen cmd
> https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
> test.pic https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>
>
>> Greetings Jasper
>>
>>
>>
>>
>>
>> *Jasper Overduin*
>> MSc Building Technology graduate student at Delft University of Technology
>>
>> *S* Groenhoevelaan 3
>> *P* 2343 BP Oegstgeest
>> *T* +31 6 15 64 48 56 (NL)
>> *T* +56 9 51 11 76 48 (CL)
>> *E *overduin.jasper at gmail.com
>> *Skype *jasper.overduin
>>
>> On 30 April 2015 at 13:55, Jan Wienold <jan.wienold at epfl.ch> wrote:
>>
>>> Hi Jasper,
>>>
>>> why are you using -vth -vh 140 -vv 80 when in your header of the HDR
>>> image the view is specified as  -vtv -vh 98.797409 -vv 75.402067 ?
>>> Manipulating the lense type is really dangerous - in that case you
>>> change from a perspective view to a hemispherical fish eye view, without
>>> changing the image!!
>>>
>>> If I apply evalglare for your image I get 0.17 as DGP (which is still
>>> very low, but you have only 2000cd/m2 as maximum value, so this can be
>>> expected). Be aware, that DGP accounts only for glare from a high amount of
>>> daylight and/or spots of extreme luminances (>50000cd/m2), but not for
>>> contrasted glare between task (e.g. Monitor) and immediate surroundings for
>>> lower adaptation levels. This is subject of current research (also here at
>>> EPFL) and there might be an extension of the DGP in future, depending on
>>> the outcome of new experiments.
>>>
>>> Back to the lens-type:
>>> It is extremely important, that the right view type is given to
>>> evalglare, otherwise ALL calculated values (it doesn't matter if this is
>>> evalglare or findglare) are wrong. These errors could be huge, more than
>>> 100% for calculating the illuminance out of a 180 degree image.
>>>
>>> If you manipulate an image by pcomb, in general the view is marked as
>>> "invalid" in the header, because with that tool you could manipulate the
>>> image in a way, that the original view is not valid any more. This is why
>>> from evalglare version 1.0 on a check on the header was included, because
>>> many people were creating wrong headers without knowing it and then
>>> evalglare was calculating wrong values, when the header was invalid.
>>>
>>> In addition for calculating the DGP it is important to have the
>>> illuminance at camera level. evalglare calculates this value out of the
>>> image. But if the image does not cover 180 degree, then the calculated
>>> value for the illuminance is too low. For that reason, the -i option was
>>> included, so you can provide the illuminance to evalglare (when you measure
>>> it with an illuminance sensor).
>>>
>>> So in your case, you should measure the illuminance just besides the
>>> lens.
>>> Then (in case this is the right lens description) you should use
>>> evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067 IMAGE_NAME
>>> or better, if your task is always at the same place:
>>> evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067  -T 395 230 .6 -c
>>> CHECK_FILE_PICTURE IMAGE_NAME
>>>
>>> good luck!
>>>
>>> Jan
>>>
>>>
>>>
>>> Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>
>>> Somehow cant use the command pfilt or change the pcomb, does this has to
>>> do with the program Radiance? I have installed the version of windows from
>>> the site, with evalglare v1.11windows . The problem is that I have composed
>>> a .hdr (out of 7 jpg on a mac) and after using the command
>>> c:/HDRI>evalglare -vth -vh 140 -vv 80 image.hdr all the dgp results are
>>> really low, less than 5%. The problem can be in the .hdr (calibrated as
>>> well) or is in the way evalglare is not working as it shoot on my computer.
>>>
>>>
>>>
>>> *.hdr file* (post-it is calibration point 167,98)
>>> https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>> *images* original
>>> https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>> *command printscreen*
>>> https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>
>>>
>>> Need the help!
>>>
>>> Greetings Jacobus
>>>
>>>
>>> *Jasper Overduin*
>>> MSc Building Technology graduate student at Delft University of
>>> Technology
>>>
>>> *S* Groenhoevelaan 3
>>> *P* 2343 BP Oegstgeest
>>> *T* +31 6 15 64 48 56 (NL)
>>> *T* +56 9 51 11 76 48 (CL)
>>> *E *overduin.jasper at gmail.com
>>> *Skype *jasper.overduin
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> --
>>> Dr.-Ing.  Jan Wienold
>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>> EPFL ENAC IA LIPID
>>> http://people.epfl.ch/jan.wienold
>>> LE 1 111 (Office)
>>> Phone    +41 21 69 30849
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> --
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150811/82241ed5/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Tue Aug 11 08:09:44 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 11 Aug 2015 15:09:44 +0000
Subject: [Radiance-general] rcontrib with 2-phase method?
Message-ID: <D1EF67DA.1B9B9%Robert.Guglielmetti@nrel.gov>

I really have no experience with Daysim at this point so I really am not
the best person to answer this one, sorry. In a general sense, with
respect to Daysim and Radiance you'd use one or the other, not both. The
Radiance daylight coefficient method (i.e. using rcontrib and other tools
in Radiance to do a 2-phase annual simulation) *is* basically the same
thing as Daysim. Hope this helps but it probably doesn't. =/



On 8/11/15, 4:54 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:

>Dear Robert,
>
>Thanks for making clear that using rcontrib and using 3/5 phase methods
>need a recent version of radiance. does that apply to using 2-phse
>(Daysim) or one can still use old versions of radiance (as I have a
>problem yet with installing recent versions of radiance and link it with
>Daysim tool)?
>
>Many thanks for you in advance:
>
>Regards,,,
>ikriam
>
>------------------------------
>
>Message: 2
>Date: Mon, 10 Aug 2015 17:03:49 +0000
>From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>To: "radiance-general at radiance-online.org"
>        <radiance-general at radiance-online.org>
>Subject: Re: [Radiance-general] Ray-tracing with Radiance
>Message-ID: <D1EE1EEF.1B923%Robert.Guglielmetti at nrel.gov>
>Content-Type: text/plain; charset="us-ascii"
>
>There is a daysim-specific mailing list that may be useful for some of
>your questions:
>
>http://www.radiance-online.org/community/mailing-lists/subscribe/radiance-
>d
>aysim
>
>
>I can tell you that if you're planning to use rcontrib and do 3- or
>5-phase type stuff, you definitely should be using a recent version of
>Radiance. Either build from latest source, or use one of the NREL
>pre-built packages (I recommend v5):
>
>https://github.com/NREL/Radiance/releases/tag/5.0.a.3
>
>
>
>
>On 8/10/15, 9:14 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
>>Dear Germ?n,
>>
>>Many thanks for you. I agree with you totally that all Radiance works
>>need to apply ray-tracing approach as the core principle of it.
>>However, what I meant by using ray-tracing in radiance, was the using
>>of RTRACE directly through stand-alone radiance tool (as you kindly
>>mentioned).
>>
>>As you clarified, Daysim uses 2-phase method to do annual simulation
>>(2nd
>>phase) fast, based on pre-calculated Daylight Coefficient Matrix (1st
>>phase). Now, if I need to produce the illuminance levels (produced by
>>specific CFS) at the Workplane under static scene, can I still use
>>Daysim for that? Or, shall I stick to RTRACE tool directly through pure
>>Radiance?
>>
>>And, if I have to stick to using Pure Radiance (RTRACE), is the method
>>detailed in the attached document (hope, you see that: where Geometry
>>and Workplane sensors are built in Ecotect and directly exported to
>>Radiance engine), is it still valid?
>>
>>
>>Finally, in both cases (using pure Radiance and/or Daysim), shall we
>>replace the Radiance tool (works as engine) by the latest released
>>version (i.e. Version 4.2 or recent?) as the one works with
>>Ecotect-Radiance approach (I'm not sure about Daysim, yet) is old
>>version (2.0; in think!)?
>>
>>
>>Really, I am grateful to you for your appreciated help and looking to
>>hear from you again :)
>>
>>Regards,,,
>>
>>Ikrima
>>
>>
>>
>>
>>
>>> As some of you may remember, I am trying to model a set of CFS to
>>>compare their effect on indoor horizontal illuminance of a room.
>>So  far, I have been advised by you for several stages, which really
>>helped me a lot for better understanding of radiance and how it works.
>>Now, I have a question about how I use ray-tracing method in radiance?
>>Is it similar to the way explained through the following attachment?
>>As here, calculations are run using Radiance engine but Ecotect or
>>Daysim interface (for geometry modelling and material assignment).
>>Document:
>>http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Gett
>>ing
>>StartedwithEcotectRadianceDaysim.pdf
>>
>>I hope if you can kindly advise me on that asap, please?
>>
>>
>>Ikrima,
>>
>>Strictly speaking, Radiance always use ray-tracing. Whenever you call
>>RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>simulation performed. However, when you want to perform annual
>>simulations, you will want to do as few ray-tracing simulations as
>>possible since they take time.
>>RTRACE, for example, is a method used to calculate the illuminance or
>>luminance of a point (sensor) in a static scene. Doing this for a whole
>>year would require 8760 or more RTRACE calls, which means 8760 or more
>>ray-tracing simulations, which is slow.
>>
>>Accordingly, Daysim (which uses the 2-phase method) runs one
>>ray-tracing simulation that calculates the Daylight Coefficient matrix
>>(this can be done in pure radiance by using RCONTRIB). This matrix
>>relates the sensors
>>(workplane?) in the scene with the sky, mich means that you can modify
>>the sky and quickly evaluate illuminance in the same points. This
>>allows performing annual simulations fast (only the sky changes in a
>>static annual simulation). 3 and 5 phase method are extensions to this
>>that allow also modifying the CFSs in the scene.
>>
>>Hope that clarify a little bit.
>>
>>
>>
>>
>>-----Original Message-----
>>From: radiance-general-request at radiance-online.org
>>[mailto:radiance-general-request at radiance-online.org]
>>Sent: 10 August 2015 14:20
>>To: radiance-general at radiance-online.org
>>Subject: Radiance-general Digest, Vol 138, Issue 12
>>
>>Send Radiance-general mailing list submissions to
>>        radiance-general at radiance-online.org
>>
>>To subscribe or unsubscribe via the World Wide Web, visit
>>
>>http://www.radiance-online.org/mailman/listinfo/radiance-general
>>or, via email, send a message with subject or body 'help' to
>>        radiance-general-request at radiance-online.org
>>
>>You can reach the person managing the list at
>>        radiance-general-owner at radiance-online.org
>>
>>When replying, please edit your Subject line so it is more specific
>>than
>>"Re: Contents of Radiance-general digest..."
>>
>>
>>Today's Topics:
>>
>>   1. Re: Ray-tracing with Radiance (Germ?n Molina Larrain)
>>
>>
>>----------------------------------------------------------------------
>>
>>Message: 1
>>Date: Mon, 10 Aug 2015 10:19:18 -0300
>>From: Germ?n Molina Larrain <germolinal at gmail.com>
>>To: Radiance general discussion <radiance-general at radiance-online.org>
>>Subject: Re: [Radiance-general] Ray-tracing with Radiance
>>Message-ID:
>>
>><CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g at mail.gmail.com>
>>Content-Type: text/plain; charset="utf-8"
>>
>>Ikrima,
>>
>>Strictly speaking, Radiance always use ray-tracing. Whenever you call
>>RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>simulation performed. However, when you want to perform annual
>>simulations, you will want to do as few ray-tracing simulations as
>>possible since they take time.
>>RTRACE, for example, is a method used to calculate the illuminance or
>>luminance of a point (sensor) in a static scene. Doing this for a whole
>>year would require 8760 or more RTRACE calls, which means 8760 or more
>>ray-tracing simulations, which is slow.
>>
>>Accordingly, Daysim (which uses the 2-phase method) runs one
>>ray-tracing simulation that calculates the Daylight Coefficient matrix
>>(this can be done in pure radiance by using RCONTRIB). This matrix
>>relates the sensors
>>(workplane?) in the scene with the sky, mich means that you can modify
>>the sky and quickly evaluate illuminance in the same points. This
>>allows performing annual simulations fast (only the sky changes in a
>>static annual simulation). 3 and 5 phase method are extensions to this
>>that allow also modifying the CFSs in the scene.
>>
>>Hope that clarify a little bit.
>>
>>Best,
>>
>>Germ?n
>>
>>
>>
>>2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:
>>
>>> Hello Robert,
>>> Hello all,
>>>
>>> As some of you may remember, I am trying to model a set of CFS to
>>> compare their effect on indoor horizontal illuminance of a room. So
>>> far, I have been advised by you for several stages, which really
>>> helped me a lot for better understanding of radiance and how it works.
>>>
>>> Now, I have a question about how I use ray-tracing method in radiance?
>>> Is it similar to the way explained through the following attachment?
>>> As here, calculations are run using Radiance engine but Ecotect or
>>> Daysim interface (for geometry modelling and material assignment).
>>>
>>> Document:
>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Ge
>>> t tingStartedwithEcotectRadianceDaysim.pdf
>>>
>>> I hope if you can kindly advise me on that asap, please?
>>>
>>>
>>> Best regards
>>> Ikrima
>>>
>>>
>>>
>>> -----Original Message-----
>>> From: radiance-general-request at radiance-online.org [mailto:
>>> radiance-general-request at radiance-online.org]
>>> Sent: 12 July 2015 20:37
>>> To: radiance-general at radiance-online.org
>>> Subject: Radiance-general Digest, Vol 137, Issue 12
>>>
>>> Send Radiance-general mailing list submissions to
>>>         radiance-general at radiance-online.org
>>>
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> or, via email, send a message with subject or body 'help' to
>>>         radiance-general-request at radiance-online.org
>>>
>>> You can reach the person managing the list at
>>>         radiance-general-owner at radiance-online.org
>>>
>>> When replying, please edit your Subject line so it is more specific
>>> than
>>> "Re: Contents of Radiance-general digest..."
>>>
>>>
>>> Today's Topics:
>>>
>>>    1. Git for Windows and starting tutorials (Ikrima Amaireh)
>>>
>>>
>>> ---------------------------------------------------------------------
>>> -
>>>
>>> Message: 1
>>> Date: Sun, 12 Jul 2015 20:36:19 +0100
>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>> To: "radiance-general at radiance-online.org"
>>>         <radiance-general at radiance-online.org>
>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>> Subject: [Radiance-general] Git for Windows and starting tutorials
>>> Message-ID:
>>>         <
>>> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.
>>> uk>
>>>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> Hi Robert,
>>>
>>> Many thanks for your help.
>>>
>>> I have installed Git for Windows as you adviced :) Now, Before I
>>>start  with 3 or 5-phase tutorials, I'm thinking to go through
>>>"radiance tutorial"
>>> (by Axel Jacobs) as a beginner with almost a shallow
>>>knowledge/experience of radiance. So, do recommend this (radiance
>>>tutorial would be enough to start with 3 or 5-phase methods and
>>>understanding of BSDF data approach,
>>> etc) or advice another tutorial/source for better understanding of
>>>radiance basics (using command prompt)?
>>>
>>> Many thanks again :)
>>>
>>> Regards
>>> Ikrima
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 2
>>> Date: Fri, 10 Jul 2015 15:52:23 +0000
>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>> To: "radiance-general at radiance-online.org"
>>>         <radiance-general at radiance-online.org>
>>> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>>>         Issue 8
>>> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> OK so it sounds like you first tried the Windows installer
>>> (presumably a NREL-provided one such as this:
>>> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.
>>> 0.a-w in64.exe), and this most likely worked fine, you just had some
>>> issues actually *doing* anything with it. This is normal. =)
>>>
>>> I recommend you install Git for windows (https://msysgit.github.io/),
>>> as that will add a little BASH emulator in your Windows system. This
>>> way you can run most of the commands exactly as they appear in most
>>> of the tutorials out there that are written from a UNIX perspective
>>> (as you point out). If you run the "Git BASH shell" you will be able
>>> to try out all the multi-phase methods, use and generate BSDFs, etc.
>>> Once you have Git for Windows installed, head over to Andy McNeil's
>>> tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be in
>>> the Git program group in the Windows start menu), and get started!
>>>
>>> One thing to keep in mind is that when running any commands that
>>>read/write data (e.g. rcontrib), be sure to use ASCII format rather
>>>than float. Windows has issues with float data (among many other
>>>things).
>>>
>>> Good luck!
>>>
>>> - Rob
>>>
>>> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>
>>> >Hi Robert,
>>> >
>>> >My PC is running on Windows 7 Enterprise.
>>> >Initially, I installed Radiance for Window using its installer but I
>>> >found that most of the tutorials are provided for pc with Linux
>>> >and/or Linux-like operating systems; So I had to install try learnix
>>> >(that did not work) and Ubuntu (also did not work)!
>>> >Finally, I tried to use Cygwin to run Radiance on Window OS. I could
>>> >install Cygwin (works fine), Xming (not sure if working) and
>>> >Radiance (not all its programs are working!).
>>> >
>>> >I'm a bit confused as I'm not sure if running Radiance on windows
>>> >using Cygwin will be enough for carrying my work. For example, can I
>>> >work out phases methods and generate BSDF data?
>>> >
>>> >I wish if you can help me to do that.
>>> >
>>> >Many thanks
>>> >ikrima
>>> >
>>> >
>>> >
>>> >------------------------------
>>> >
>>> >Message: 3
>>> >Date: Thu, 9 Jul 2015 16:44:49 +0000
>>> >From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>> >To: "radiance-general at radiance-online.org"
>>> >       <radiance-general at radiance-online.org>
>>> >Subject: Re: [Radiance-general] Could not install Radiance!!!
>>> >Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>> >Content-Type: text/plain; charset="us-ascii"
>>> >
>>> >Hi Ikrima,
>>> >
>>> >We'll need a bit more info, here. What OS are you on? How are you
>>> >attempting to install it (using an installer, compiling from source,
>>> >or what)? What happens when you try??
>>> >
>>> >On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>> >
>>> >>Hi all,
>>> >>
>>> >>After one a few weeks of trying, I could not manage to install
>>> >>radiance properly. I am almost disappointed! Please any help?
>>> >>
>>> >>Regards
>>> >>Ikrima
>>> >
>>> >
>>> >
>>> >
>>> >This message and any attachment are intended solely for the
>>> >addressee and may contain confidential information. If you have
>>> >received this message in error, please send it back to me, and
>>>immediately delete it.
>>> >
>>> >Please do not use, copy or disclose the information contained in
>>> >this message or in any attachment.  Any views or opinions expressed
>>> >by the author of this email do not necessarily reflect the views of
>>> >the University of Nottingham.
>>> >
>>> >This message has been checked for viruses but the contents of an
>>> >attachment may still contain software viruses which could damage
>>> >your computer system, you are advised to perform your own checks.
>>> >Email communications with the University of Nottingham may be
>>> >monitored as permitted by UK legislation.
>>> >
>>> >
>>> >_______________________________________________
>>> >Radiance-general mailing list
>>> >Radiance-general at radiance-online.org
>>> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 3
>>> Date: Fri, 10 Jul 2015 17:34:30 +0100
>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>> To: "radiance-general at radiance-online.org"
>>>         <radiance-general at radiance-online.org>
>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>> Subject: [Radiance-general] Modelling CFS
>>> Message-ID:
>>>         <
>>> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.
>>> uk>
>>>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> Hi all,
>>>
>>> Thanks Robert and Larrain for your detailed replies, that helped me a
>>>lot.
>>>
>>> I would summarise here what I got form your appreciated replies, as
>>> following:
>>> - Radiance is convenient and best of tools to model daylighting due
>>> to its ray-tracing method.
>>> - 3 or 5-phases methods are used to facilitate the calculations.
>>> - Generating BSDF data is also used to facilitate these calculations
>>> but it is limited to Klems resolution of some CFS.
>>>
>>> Initially, I'm not planning to do annual calculations. It's just for
>>>specific hours of the day and the target is to produce a illuminance
>>>levels for indoor grid under different CFSs. Hence, according to my
>>>understanding from Larrain words, I can use either 2-phase or
>>>Ray-tracing methods. My question is how can I draw/define the CFS
>>>geometry and Space for these calculations? Is it similar to the way
>>>use in Ecotect/Radiance calculations?
>>>
>>> Regards
>>> Ikrima
>>>
>>>
>>>  -----Original Message-----
>>> From: radiance-general-request at radiance-online.org [mailto:
>>> radiance-general-request at radiance-online.org]
>>> Sent: 09 July 2015 19:56
>>> To: radiance-general at radiance-online.org
>>> Subject: Radiance-general Digest, Vol 137, Issue 8
>>>
>>> Send Radiance-general mailing list submissions to
>>>         radiance-general at radiance-online.org
>>>
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> or, via email, send a message with subject or body 'help' to
>>>         radiance-general-request at radiance-online.org
>>>
>>> You can reach the person managing the list at
>>>         radiance-general-owner at radiance-online.org
>>>
>>> When replying, please edit your Subject line so it is more specific
>>> than
>>> "Re: Contents of Radiance-general digest..."
>>>
>>>
>>> Today's Topics:
>>>
>>>    1. CFS with Radiance (Ikrima Amaireh)
>>>    2. Could not install Radiance!!! (Ikrima Amaireh)
>>>    3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>>>    4. Re: CFS with Radiance (Guglielmetti, Robert)
>>>    5. Re: CFS with Radiance (Germ?n Molina Larrain)
>>>
>>>
>>> ---------------------------------------------------------------------
>>> -
>>>
>>> Message: 1
>>> Date: Thu, 9 Jul 2015 17:26:29 +0100
>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>> To: "radiance-general at radiance-online.org"
>>>         <radiance-general at radiance-online.org>
>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>> Subject: [Radiance-general] CFS with Radiance
>>> Message-ID:
>>>         <
>>> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.
>>> uk>
>>>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> Hi G. Larrain,
>>>
>>> Thanks for your detailed clarification (below).
>>>
>>> I wonder if you kindly can help me toward better understanding and
>>> answering the following:
>>>
>>> We agreed that for daylight modelling of spaces with CFS, Radiance is
>>>a suitable tool as it applies ray-tracing method. And for annual
>>>and/or climate-based daylight calculations, as calculation time
>>>becomes a critical factor, using BSDF data for CFS is highly
>>>recommended to tackle the task with radiance (using phases methods).
>>>However:
>>>
>>> - if someone needs to perform daylight calculations for given space
>>> with different CFS (different cases for comparison purposes) to get
>>> illumination levels for horizontal grid points (and not pictures nor
>>> scenes), is Radiance still the most convenient option?
>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>> - most importantly, is it still needed to get BSDF data for CFS or
>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>
>>>
>>> Many thanks for your kind help :)
>>>
>>> Regards
>>> Ikrima
>>>
>>>
>>> "Ikrima,
>>>
>>> I am going to try to build the puzzle of CFS, Phases, BSDF and
>>> calculations.... at least the way I understand it.
>>>
>>> *CFS* are those systems that, via interreflection or other light
>>>transport phenomena, redirect light (or solar radiation). Thus, in
>>>order to get a reliable result you will have to consider all the
>>>phenomena involved.
>>> Then, *common
>>> simple performance indexes*, such as the miss-used Shading
>>>Coefficient  and the Aperture Percentage, *always loose a lot of
>>>information,  trying to reduce all the complex behavior of a CFS to
>>>one single  number*. We all know that venetian blinds are more
>>>"transparent" from  certain viewing directions than from others, but
>>>these performance indexes do not tell you that.
>>>
>>> Now... Radiance can certainly perform calculations of spaces with CFS
>>> using its "common" Ray-tracing. However, this may be slow for some
>>> purposes (i.e.
>>> annual simulations and climate-based daylight modelling), and *this
>>> is why 2, 3 and 5 phase methods have been developed*. The *BSDF*
>>> representation, I would say, goes in the same direction... It allow
>>> summarizing all the bounces, reflections, refractions, etc.  that
>>> occure withing the CFS in a single matrix or tensor.* By using
>>> BSDFs*, Radiance itself and other tools (i.e. EnergyPlus) can treat
>>> CFS as blackboxes, avoiding all the opcits within the system. A BSDF
>>> that uses the Klems Full representation has
>>> 21,045 numbers (instead of one, such as the Shading Coefficient).
>>>
>>> Being said all that, I would not trust a calculation method unless it
>>> can actually deal with the optics of a CFS that is drawn and/or it
>>> can use BSDF (or similar) information.
>>>
>>> Lets remember that a perforated screen, a venetian blind, a light
>>> diffusing device can all have a Shading Coefficient of 50%, but all
>>> of them will behave very differently. I made some presentations about
>>> this on my previous work (we sold complex Shading Devices), trying to
>>> promote the use of BSDF in EnergyPlus calculations... the differences
>>> (in solar heat gains) were more than considerable.
>>>
>>> I hope that someone else gives us his/her perspective on this topic...
>>> there are a lot of concepts that I might be misunderstanding.
>>>
>>> Best!"
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the addressee
>>> and may contain confidential information. If you have received this
>>> message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in this
>>> message or in any attachment.  Any views or opinions expressed by the
>>> author of this email do not necessarily reflect the views of the
>>> University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage your
>>> computer system, you are advised to perform your own checks. Email
>>> communications with the University of Nottingham may be monitored as
>>> permitted by UK legislation.
>>>
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 2
>>> Date: Thu, 9 Jul 2015 17:38:41 +0100
>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>> To: "radiance-general at radiance-online.org"
>>>         <radiance-general at radiance-online.org>
>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>> Subject: [Radiance-general] Could not install Radiance!!!
>>> Message-ID:
>>>         <
>>> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.
>>> uk>
>>>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> Hi all,
>>>
>>> After one a few weeks of trying, I could not manage to install
>>> radiance properly. I am almost disappointed! Please any help?
>>>
>>> Regards
>>> Ikrima
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the addressee
>>> and may contain confidential information. If you have received this
>>> message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in this
>>> message or in any attachment.  Any views or opinions expressed by the
>>> author of this email do not necessarily reflect the views of the
>>> University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage your
>>> computer system, you are advised to perform your own checks. Email
>>> communications with the University of Nottingham may be monitored as
>>> permitted by UK legislation.
>>>
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 3
>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>> To: "radiance-general at radiance-online.org"
>>>         <radiance-general at radiance-online.org>
>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> Hi Ikrima,
>>>
>>> We'll need a bit more info, here. What OS are you on? How are you
>>> attempting to install it (using an installer, compiling from source,
>>> or what)? What happens when you try??
>>>
>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>
>>> >Hi all,
>>> >
>>> >After one a few weeks of trying, I could not manage to install
>>> >radiance properly. I am almost disappointed! Please any help?
>>> >
>>> >Regards
>>> >Ikrima
>>> >
>>> >
>>> >
>>> >
>>> >This message and any attachment are intended solely for the
>>> >addressee and may contain confidential information. If you have
>>> >received this message in error, please send it back to me, and
>>>immediately delete it.
>>> >
>>> >Please do not use, copy or disclose the information contained in
>>> >this message or in any attachment.  Any views or opinions expressed
>>> >by the author of this email do not necessarily reflect the views of
>>> >the University of Nottingham.
>>> >
>>> >This message has been checked for viruses but the contents of an
>>> >attachment may still contain software viruses which could damage
>>> >your computer system, you are advised to perform your own checks.
>>> >Email communications with the University of Nottingham may be
>>> >monitored as permitted by UK legislation.
>>> >
>>> >
>>> >_______________________________________________
>>> >Radiance-general mailing list
>>> >Radiance-general at radiance-online.org
>>> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 4
>>> Date: Thu, 9 Jul 2015 17:29:39 +0000
>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>> To: "radiance-general at radiance-online.org"
>>>         <radiance-general at radiance-online.org>
>>> Subject: Re: [Radiance-general] CFS with Radiance
>>> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> Some very quick replies and clarifications within:
>>>
>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>
>>> >Hi G. Larrain,
>>> >
>>> >Thanks for your detailed clarification (below).
>>> >
>>> >I wonder if you kindly can help me toward better understanding and
>>> >answering the following:
>>> >
>>> >We agreed that for daylight modelling of spaces with CFS, Radiance
>>> >is a suitable tool as it applies ray-tracing method. And for annual
>>> >and/or climate-based daylight calculations, as calculation time
>>> >becomes a critical factor, using BSDF data for CFS is highly
>>> >recommended to tackle the task with radiance (using phases methods).
>>>However:
>>>
>>>
>>> BSDF data in an annual simulation context is generally limited to
>>>Klems basis BSDF data, which may not be high enough resolution for
>>>some CFS. And the 5-phase method, which can circumvent this, is not
>>>necessarily "quick".
>>> This is all still very much a quandary and the newest daylight
>>>metrics  have added confusion to all of this, IMO.
>>>
>>>
>>> >
>>> >- if someone needs to perform daylight calculations for given space
>>> >with different CFS (different cases for comparison purposes) to get
>>> >illumination levels for horizontal grid points (and not pictures nor
>>> >scenes), is Radiance still the most convenient option?
>>>
>>>
>>> Absolutely. The lack of an image-as-output requirement does not
>>>change  the fact that ray tracing is a good/convenient algorithm
>>>option for  daylight simulation problems, especially when dealing with
>>>diffusing  media and CFS in general. BSDFs allow you to do lots of
>>>"what-ifs",  relatively quickly, but are beholden to the limitations
>>>of the resolution of the BSDF.
>>>
>>>
>>> >- is it still needed to use any of the phase methods (2, 3 or 5)?
>>>
>>>
>>> Is what still needed? BSDF data? Ray tracing? I don't know of other
>>> lighting simulation tools that can employ the multiphase methods. I
>>> would say BSDF data is optional for 2-phase, required for 3-phase,
>>> and optional for 5-phase.
>>>
>>> >- most importantly, is it still needed to get BSDF data for CFS or
>>> >just can model the detailed CFS in Radiance (and, if yes, how?)
>>>
>>>
>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>available to you in general. If you have a geometric model of the CFS
>>>you can use Radiance (genBSDF) to make a BSDF of the CFS and use that
>>>in a 3- or 5-phase context. However in an annual/climate-based
>>>simulation context, you will be stuck with a Klems basis BSDF and that
>>>will not be very good resolution for a lot of CFS; here you may want
>>>to use the 5-phase method and stick the actual CFS geometry in the
>>>building model.
>>>
>>> Some things to consider here are the photon map, now a part of
>>>Radiance proper, or using the 2-phase method where appropriate. By
>>>2-phase method I mean generating a daylight matrix for your
>>>calculation points (or view), and modeling the window material as-is.
>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>Radiance "trans". Same for translucent panels.
>>> With this single daylight matrix, you can throw a vector of sky
>>>matrices at it and get an annual climate-based result very quickly.
>>> Problem is, we want to do stuff to the windows, sometimes at the time
>>>step level, so:
>>>
>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>are  best represented as BSDF, and if most of the redirected flux is
>>>headed  up and away from the points of interest, a Klems basis BSDF is
>>>good  enough IMO. In these cases you could use the 3-phase method.
>>>Problem  is when you have a BSDF for blinds, and you also want to
>>>simulate the  blinds-up condition (i.e. clear, specularly transmitting
>>>glass). Using  a Klems basis BSDF for this is sub-optimal. You end up
>>>needing to do  two annual simulations, one as 2-phase for the clear
>>>glass scenario,  and again as a 3-phase (with a blinds BSDF for the
>>>transmission
>>> matrix) for the blinds down condition. If you have a lot of different
>>>window groups, your simulation space can get large in a hurry. But
>>>it's still do-able and you can get results that tell a story you
>>>simply couldn't tell 5 years ago, informing the newest daylight
>>>metrics as well.
>>>
>>>
>>>
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 5
>>> Date: Thu, 9 Jul 2015 15:56:11 -0300
>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>> To: Radiance general discussion
>>> <radiance-general at radiance-online.org>
>>> Subject: Re: [Radiance-general] CFS with Radiance
>>> Message-ID:
>>>         <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
>>> FZL-Q at mail.gmail.com>
>>> Content-Type: text/plain; charset="utf-8"
>>>
>>> I must say that I agree with Rob, however, a short answer that might
>>>help.
>>>
>>> For evaluating illuminance levels in a space with different CFS you,
>>> strictly speaking, DO NOT HAVE TO do anything. You may choose between
>>> different methods that have some pros and cons.
>>>
>>>
>>> *ray-tracing*
>>>
>>>    - Requires ray-tracing for each time-step and each system, which
>>>is slow
>>>    (*four systems simulated annualy in an hourly basis --> 4*8760 =
>>>35,040
>>>    simulations*.)
>>>    - As accurate as it gets, if options are defined correctly.
>>>
>>>
>>> *2 phase method*
>>>
>>>    - Do not need the BSDF
>>>    - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>>>    simulations*)
>>>    - After ray-tracing, annual simulation is fast.
>>>
>>> *3-phase method:*
>>>
>>>    - Requires BSDF data in KLEMS basis, which may be slow to compute,
>>>    unless it can be exported from WINDOW, for example, or such data has
>>>    already been calculated (the idea is to make a database, I think).
>>>    - Does not really work well for specular systems (Klems patches
>>>are too
>>>    big)
>>>    - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>>>    simulations*)
>>>    - After ray-tracing and BSDF calculation, annual simulation is
>>>fast
>>>
>>> *5-phase method:*
>>>
>>>    - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format, 
>>>which
>>>    may be slow to compute, unless it can be exported from WINDOW, for
>>> example,
>>>    or such data has already been calculated (the idea is to make a
>>> database, I
>>>    think).
>>>    - Works well for specular systems
>>>    - Requires 4 ray-tracing runs + 1 for each system, always (*4 
>>>systems
>>>    --> 4+1 = 5 ray-tracing simulations*)
>>>    - Hard to code...?
>>>    - After ray-tracing and BSDF calculation, annual simulation is
>>> fast
>>>
>>>
>>> I would not say there is a recipe. If you have to choose between 1 or
>>> 2 CFSs, maybe it is faster to just draw them and use the 2 phase
>>> method (or ray-tracing if an annual simulaton is not required). On
>>> the contrary, if you are going to test 10 different CFSs, 3 and 5
>>> phases may make sense, since you reduce the expensive ray-tracing
>>> calculations... However, this will also depend on weather you have
>>> the BSDF data AND/OR if it makes sense to calculate it and store it
>>> AND/OR if you intend to simulate a dynamically controlled CFS.
>>>
>>> Best!
>>>
>>> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
>>> Robert.Guglielmetti at nrel.gov>:
>>>
>>> > Some very quick replies and clarifications within:
>>> >
>>> > On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>> >
>>> > >Hi G. Larrain,
>>> > >
>>> > >Thanks for your detailed clarification (below).
>>> > >
>>> > >I wonder if you kindly can help me toward better understanding and
>>> > >answering the following:
>>> > >
>>> > >We agreed that for daylight modelling of spaces with CFS, Radiance
>>> > >is a suitable tool as it applies ray-tracing method. And for
>>> > >annual and/or climate-based daylight calculations, as calculation
>>> > >time becomes a critical factor, using BSDF data for CFS is highly
>>> > >recommended to tackle the task with radiance (using phases methods).
>>> However:
>>> >
>>> >
>>> > BSDF data in an annual simulation context is generally limited to
>>> > Klems basis BSDF data, which may not be high enough resolution for
>>> > some CFS. And the 5-phase method, which can circumvent this, is not
>>> necessarily "quick".
>>> > This is all still very much a quandary and the newest daylight
>>> > metrics have added confusion to all of this, IMO.
>>> >
>>> >
>>> > >
>>> > >- if someone needs to perform daylight calculations for given
>>> > >space with different CFS (different cases for comparison purposes)
>>> > >to get illumination levels for horizontal grid points (and not
>>> > >pictures nor scenes), is Radiance still the most convenient option?
>>> >
>>> >
>>> > Absolutely. The lack of an image-as-output requirement does not
>>> > change the fact that ray tracing is a good/convenient algorithm
>>> > option for daylight simulation problems, especially when dealing
>>> > with diffusing media and CFS in general. BSDFs allow you to do lots
>>> > of "what-ifs", relatively quickly, but are beholden to the
>>> > limitations of the
>>> resolution of the BSDF.
>>> >
>>> >
>>> > >- is it still needed to use any of the phase methods (2, 3 or 5)?
>>> >
>>> >
>>> > Is what still needed? BSDF data? Ray tracing? I don't know of other
>>> > lighting simulation tools that can employ the multiphase methods. I
>>> > would say BSDF data is optional for 2-phase, required for 3-phase,
>>> > and optional for 5-phase.
>>> >
>>> > >- most importantly, is it still needed to get BSDF data for CFS or
>>> > >just can model the detailed CFS in Radiance (and, if yes, how?)
>>> >
>>> >
>>> > Again I'm confused as to what "it" is. A couple of approaches are
>>> > available to you in general. If you have a geometric model of the
>>> > CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>>> > use that in a 3- or 5-phase context. However in an
>>> > annual/climate-based simulation context, you will be stuck with a
>>> > Klems basis BSDF and that will not be very good resolution for a
>>> > lot of CFS; here you may want to use the 5-phase method and stick
>>> > the actual CFS geometry in the
>>> building model.
>>> >
>>> > Some things to consider here are the photon map, now a part of
>>> > Radiance proper, or using the 2-phase method where appropriate. By
>>> > 2-phase method I mean generating a daylight matrix for your
>>> > calculation points (or view), and modeling the window material as-is.
>>> > If the "CFS" is a shade cloth, you can approximate that with a
>>> > Radiance
>>> "trans". Same for translucent panels.
>>> > With this single daylight matrix, you can throw a vector of sky
>>> > matrices at it and get an annual climate-based result very quickly.
>>> > Problem is, we want to do stuff to the windows, sometimes at the
>>> > time
>>> step level, so:
>>> >
>>> > Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>> > are best represented as BSDF, and if most of the redirected flux is
>>> > headed up and away from the points of interest, a Klems basis BSDF
>>> > is good enough IMO. In these cases you could use the 3-phase method.
>>> > Problem is when you have a BSDF for blinds, and you also want to
>>> > simulate the blinds-up condition (i.e. clear, specularly
>>> > transmitting glass). Using a Klems basis BSDF for this is
>>> > sub-optimal. You end up needing to do two annual simulations, one
>>> > as 2-phase for the clear glass scenario, and again as a 3-phase
>>> > (with a blinds BSDF for the transmission
>>> > matrix) for the blinds down condition. If you have a lot of
>>> > different window groups, your simulation space can get large in a
>>> > hurry. But it's still do-able and you can get results that tell a
>>> > story you simply couldn't tell 5 years ago, informing the newest
>>> > daylight metrics
>>> as well.
>>> >
>>> >
>>> >
>>> >
>>> > _______________________________________________
>>> > Radiance-general mailing list
>>> > Radiance-general at radiance-online.org
>>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> >
>>> -------------- next part -------------- An HTML attachment was
>>> scrubbed...
>>> URL: <
>>> http://www.radiance-online.org/pipermail/radiance-general/attachments
>>> /
>>> 20150709/cfbdd4da/attachment.html
>>> >
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> End of Radiance-general Digest, Vol 137, Issue 8
>>> ************************************************
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the addressee
>>> and may contain confidential information. If you have received this
>>> message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in this
>>> message or in any attachment.  Any views or opinions expressed by the
>>> author of this email do not necessarily reflect the views of the
>>> University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage your
>>> computer system, you are advised to perform your own checks. Email
>>> communications with the University of Nottingham may be monitored as
>>> permitted by UK legislation.
>>>
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> End of Radiance-general Digest, Vol 137, Issue 9
>>> ************************************************
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the addressee
>>> and may contain confidential information. If you have received this
>>> message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in this
>>> message or in any attachment.  Any views or opinions expressed by the
>>> author of this email do not necessarily reflect the views of the
>>> University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage your
>>> computer system, you are advised to perform your own checks. Email
>>> communications with the University of Nottingham may be monitored as
>>> permitted by UK legislation.
>>>
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> End of Radiance-general Digest, Vol 137, Issue 12
>>> *************************************************
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the addressee
>>> and may contain confidential information. If you have received this
>>> message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in this
>>> message or in any attachment.  Any views or opinions expressed by the
>>> author of this email do not necessarily reflect the views of the
>>> University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage your
>>> computer system, you are advised to perform your own checks. Email
>>> communications with the University of Nottingham may be monitored as
>>> permitted by UK legislation.
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>-------------- next part -------------- An HTML attachment was
>>scrubbed...
>>URL:
>><http://www.radiance-online.org/pipermail/radiance-general/attachments/
>>201
>>50810/959f6779/attachment.html>
>>
>>------------------------------
>>
>>_______________________________________________
>>Radiance-general mailing list
>>Radiance-general at radiance-online.org
>>http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>End of Radiance-general Digest, Vol 138, Issue 12
>>*************************************************
>>
>>
>>
>>
>>This message and any attachment are intended solely for the addressee
>>and may contain confidential information. If you have received this
>>message in error, please send it back to me, and immediately delete it.
>>
>>Please do not use, copy or disclose the information contained in this
>>message or in any attachment.  Any views or opinions expressed by the
>>author of this email do not necessarily reflect the views of the
>>University of Nottingham.
>>
>>This message has been checked for viruses but the contents of an
>>attachment may still contain software viruses which could damage your
>>computer system, you are advised to perform your own checks. Email
>>communications with the University of Nottingham may be monitored as
>>permitted by UK legislation.
>>
>>
>>_______________________________________________
>>Radiance-general mailing list
>>Radiance-general at radiance-online.org
>>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
>------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>End of Radiance-general Digest, Vol 138, Issue 15
>*************************************************
>
>
>
>
>This message and any attachment are intended solely for the addressee
>and may contain confidential information. If you have received this
>message in error, please send it back to me, and immediately delete it. 
>
>Please do not use, copy or disclose the information contained in this
>message or in any attachment.  Any views or opinions expressed by the
>author of this email do not necessarily reflect the views of the
>University of Nottingham.
>
>This message has been checked for viruses but the contents of an
>attachment may still contain software viruses which could damage your
>computer system, you are advised to perform your own checks. Email
>communications with the University of Nottingham may be monitored as
>permitted by UK legislation.
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From alstan at jakubiec.net  Tue Aug 11 08:33:38 2015
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Tue, 11 Aug 2015 23:33:38 +0800
Subject: [Radiance-general] help pfilt and low values dgp
In-Reply-To: <CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>
References: <CAHgS54fXM9UeHCXdgT7inVz=n9XFPTBc2kmZKTYKksfOxHngtw@mail.gmail.com>	<55439897.7050805@epfl.ch>
	<CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>
Message-ID: <55CA15D2.9060209@jakubiec.net>

Hi Jasper,

This is one of the tricky aspects of doing glare analysis with your own 
HDR images. A couple of pointers are below,

  * You will need to crop your image to a square aspect about the image
    center using the pcompos
    <http://radsite.lbl.gov/radiance/man_html/pcompos.1.html> tool.
    There was a helpful discussion on maintaining image exposure values
    while doing this here
    <http://www.radiance-online.org/pipermail/radiance-general/2011-March/007701.html>.
  * The -vv and -vh parameters are just best guesses according the HDR
    generation software. Once you have cropped the image, you will want
    to open the resulting HDR in a text editor and manually change the
    header 'VIEW' field to include -vta -vv 180 -vh 180. You may also
    specify them via the command line at this point, as you have done. I
    like to keep it associated with the image.
  * After that, unless I am forgetting something (others can chime in),
    you are ready to run evalglare. I would run it with the -d flag,
    which will report a lot of details. Most usefully, it reports
    illuminance as derived from the image, which you can compare to your
    measured Ev value to check the validity of the HDR. If your HDR is
    well-calibrated, not inputting the measured illuminance value should
    be perfectly accurate.
  * I suspect that inputting measured illuminance is somewhat broken in
    the current version of evalglare as I have the same problem that you
    do. One option is to use the -1 option to evalglare, which will
    return only a single DGP value. It seems to avoid this error.
     > evalglare -1 -i 2500 image.hdr

By the way, to avoid some of this cropping and exposure value pain, I 
use an image-processing tool (like PIL for Python) these days that can 
maintain EXIF data while cropping the source jpeg files. Though perhaps 
the cure is worse than the disease in this case..

Best,
Alstan

On 8/11/2015 11:08 PM, Jasper Overduin wrote:
> Dear all,
>
> I have changed my lens to one with 180 circular view to do a contrast 
> analysis (hdrscope) and meanwhile the glare analysis in evalglare. If 
> i use the commands in evalglare getinfo i get the (HDR composed with 
> photosphere on a mac, calibrated with luminance pistol) i get a value 
> for the lens -vv and -vh which is not over 100, with a lens of 180. I 
> can imagine that the photo ratio and the lens are not the same and 
> that causes this problem. But when I enter the external measured Ev, 
> the value the dgp goes somehow to zero. The fact that the gdp is zero 
> with a maximum luminance of 5600 cd/m2 and Ev of 2500 lux makes me a 
> bit suspicious. How accurate is the result of the dgp without external 
> vertical lux? is it possible to use this value?
>
> hdr files and printscreens of evalglare 
> https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0
>
> Greetings Jasper
>
>
> *
> *
> *Jasper Overduin*
> MSc. Building Technology graduate student at Delft University of 
> Technology
>
>
> *S* Groenhoevelaan 3
> *P*2343 BP Oegstgeest
> *T* +31 6 15 64 48 56 (NL)
> *T* +56 9 51 11 76 48 (CL)
> *E *overduin.jasper at gmail.com <mailto:overduin.jasper at gmail.com>
> *Skype *jasper.overduin
>
> On 1 May 2015 at 12:15, Jan Wienold <jan.wienold at epfl.ch 
> <mailto:jan.wienold at epfl.ch>> wrote:
>
>     Hi Jasper,
>
>     I briefly looked at your image - for sure you get a low DGP value
>     if your illuminance at camera (or eye) level is only about
>     300lux... It is not the matter of the fish eye lens it is a matter
>     of your lighting condition.
>     When I remember correctly, for the experiments I did for my PhD,
>     the people adjusted the blinds in a way, that they had 2500-3000
>     lux at the eye level and they were less than 20% of them
>     dissatisfied. So a value of 300 means one order of magnitude less
>     light at the eye level and a much lower adaptation level.
>     So I definitely understand the low DGP value in that case. The
>     images themselves look reasonable, so I don't think there is a
>     problem in calibration/processing so far (at least not for these
>     low luminance levels-it might be more tricky to calibrate for the
>     high luminance values when you get stray-light from the multiple
>     lenses).
>
>     If all your images are like that it means you have a very low
>     daylight contribution at the place you measure. I'm not sure if
>     DGP is then the right way to measure glare in that case - as I
>     wrote it is made more for the daylight oriented workplace with
>     higher levels and also to take into account very high luminances
>     (e.g. sun or specular reflections of the sun). DGP might be
>     modified in future, but these experiments are just starting.
>
>     Jan
>
>
>
>
>
>
>     Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>>
>>         Thank you for the fast reply. We are still having some
>>         problems with the outcome of Evalglare. With an external
>>         luxometre we have done some tests now. The DGP is still very
>>         low or zero. It seems that in almost all the case the DGP is
>>         low. In literature we read that values above 20% are normal.
>>         What do you think? is the data much better if we use a full
>>         180 degree lens?
>>
>>     .hdr file https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
>>     print screen cmd
>>     https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
>>     test.pic https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>>
>>         Greetings Jasper
>>
>>
>>
>>         *
>>         *
>>         *Jasper Overduin*
>>         MSc Building Technology graduate student at Delft University
>>         of Technology*
>>         *
>>
>>         *S* Groenhoevelaan 3
>>         *P*2343 BP Oegstgeest
>>         *T* +31 6 15 64 48 56 (NL)
>>         *T* +56 9 51 11 76 48 (CL)
>>         *E *overduin.jasper at gmail.com <mailto:overduin.jasper at gmail.com>
>>         *Skype *jasper.overduin
>>
>>         On 30 April 2015 at 13:55, Jan Wienold <jan.wienold at epfl.ch
>>         <mailto:jan.wienold at epfl.ch>> wrote:
>>
>>             Hi Jasper,
>>
>>             why are you using -vth -vh 140 -vv 80 when in your header
>>             of the HDR image the view is specified as  -vtv -vh
>>             98.797409 -vv 75.402067 ?
>>             Manipulating the lense type is really dangerous - in that
>>             case you change from a perspective view to a
>>             hemispherical fish eye view, without changing the image!!
>>
>>             If I apply evalglare for your image I get 0.17 as DGP
>>             (which is still very low, but you have only 2000cd/m2 as
>>             maximum value, so this can be expected). Be aware, that
>>             DGP accounts only for glare from a high amount of
>>             daylight and/or spots of extreme luminances
>>             (>50000cd/m2), but not for contrasted glare between task
>>             (e.g. Monitor) and immediate surroundings for lower
>>             adaptation levels. This is subject of current research
>>             (also here at EPFL) and there might be an extension of
>>             the DGP in future, depending on the outcome of new
>>             experiments.
>>
>>             Back to the lens-type:
>>             It is extremely important, that the right view type is
>>             given to evalglare, otherwise ALL calculated values (it
>>             doesn't matter if this is evalglare or findglare) are
>>             wrong. These errors could be huge, more than 100% for
>>             calculating the illuminance out of a 180 degree image.
>>
>>             If you manipulate an image by pcomb, in general the view
>>             is marked as "invalid" in the header, because with that
>>             tool you could manipulate the image in a way, that the
>>             original view is not valid any more. This is why from
>>             evalglare version 1.0 on a check on the header was
>>             included, because many people were creating wrong headers
>>             without knowing it and then evalglare was calculating
>>             wrong values, when the header was invalid.
>>
>>             In addition for calculating the DGP it is important to
>>             have the illuminance at camera level. evalglare
>>             calculates this value out of the image. But if the image
>>             does not cover 180 degree, then the calculated value for
>>             the illuminance is too low. For that reason, the -i
>>             option was included, so you can provide the illuminance
>>             to evalglare (when you measure it with an illuminance
>>             sensor).
>>
>>             So in your case, you should measure the illuminance just
>>             besides the lens.
>>             Then (in case this is the right lens description) you
>>             should use
>>             evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067
>>             IMAGE_NAME
>>             or better, if your task is always at the same place:
>>             evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067 
>>             -T 395 230 .6 -c CHECK_FILE_PICTURE IMAGE_NAME
>>
>>             good luck!
>>
>>             Jan
>>
>>
>>
>>             Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>             Somehow cant use the command pfilt or change the pcomb,
>>>             does this has to do with the program Radiance? I have
>>>             installed the version of windows from the site, with
>>>             evalglare v1.11windows . The problem is that I have
>>>             composed a .hdr (out of 7 jpg on a mac) and after using
>>>             the command c:/HDRI>evalglare -vth -vh 140 -vv 80
>>>             image.hdr all the dgp results are really low, less than
>>>             5%. The problem can be in the .hdr (calibrated as well)
>>>             or is in the way evalglare is not working as it shoot on
>>>             my computer.
>>>
>>>
>>>             *.hdr file* (post-it is calibration point 167,98)
>>>             https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>>             *images* original
>>>             https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>>             *command printscreen*
>>>             https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>
>>>
>>>             Need the help!
>>>
>>>             Greetings Jacobus
>>>
>>>             *
>>>             *
>>>             *Jasper Overduin*
>>>             MSc Building Technology graduate student at Delft
>>>             University of Technology*
>>>             *
>>>
>>>             *S* Groenhoevelaan 3
>>>             *P*2343 BP Oegstgeest
>>>             *T* +31 6 15 64 48 56 (NL)
>>>             *T* +56 9 51 11 76 48 (CL)
>>>             *E *overduin.jasper at gmail.com
>>>             <mailto:overduin.jasper at gmail.com>
>>>             *Skype *jasper.overduin
>>>
>>>
>>>             _______________________________________________
>>>             Radiance-general mailing list
>>>             Radiance-general at radiance-online.org  <mailto:Radiance-general at radiance-online.org>
>>>             http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>             -- 
>>             Dr.-Ing.  Jan Wienold
>>             Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>             EPFL ENAC IA LIPID
>>
>>             http://people.epfl.ch/jan.wienold
>>             LE 1 111 (Office)
>>             Phone    +41 21 69 30849
>>
>>
>>             _______________________________________________
>>             Radiance-general mailing list
>>             Radiance-general at radiance-online.org
>>             <mailto:Radiance-general at radiance-online.org>
>>             http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org  <mailto:Radiance-general at radiance-online.org>
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>     -- 
>     Dr.-Ing.  Jan Wienold
>     Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>     EPFL ENAC IA LIPID
>
>     http://people.epfl.ch/jan.wienold
>     LE 1 111 (Office)
>     Phone    +41 21 69 30849
>
>
>     _______________________________________________
>     Radiance-general mailing list
>     Radiance-general at radiance-online.org
>     <mailto:Radiance-general at radiance-online.org>
>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150811/9769e760/attachment-0001.html>

From alstan at jakubiec.net  Tue Aug 11 08:38:14 2015
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Tue, 11 Aug 2015 23:38:14 +0800
Subject: [Radiance-general] rcontrib with 2-phase method?
In-Reply-To: <D1EF67DA.1B9B9%Robert.Guglielmetti@nrel.gov>
References: <D1EF67DA.1B9B9%Robert.Guglielmetti@nrel.gov>
Message-ID: <55CA16E6.1020404@jakubiec.net>

Dear Ikrima,

Daysim comes with its own special version of the Radiance binaries that 
can be downloaded at the Daysim website <http://daysim.ning.com/>. These 
get stored in c:\DAYSIM\bin\ after installation on Windows. 
Unfortunately the binaries are based on an older Radiance version, so 
you miss some options like using BSDF data. Still, Daysim is perfectly 
serviceable for most cases. I hope I understood your question.

Best,
Alstan

On 8/11/2015 11:09 PM, Guglielmetti, Robert wrote:
> I really have no experience with Daysim at this point so I really am not
> the best person to answer this one, sorry. In a general sense, with
> respect to Daysim and Radiance you'd use one or the other, not both. The
> Radiance daylight coefficient method (i.e. using rcontrib and other tools
> in Radiance to do a 2-phase annual simulation) *is* basically the same
> thing as Daysim. Hope this helps but it probably doesn't. =/
>
>
>
> On 8/11/15, 4:54 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
>> Dear Robert,
>>
>> Thanks for making clear that using rcontrib and using 3/5 phase methods
>> need a recent version of radiance. does that apply to using 2-phse
>> (Daysim) or one can still use old versions of radiance (as I have a
>> problem yet with installing recent versions of radiance and link it with
>> Daysim tool)?
>>
>> Many thanks for you in advance:
>>
>> Regards,,,
>> ikriam
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Mon, 10 Aug 2015 17:03:49 +0000
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] Ray-tracing with Radiance
>> Message-ID: <D1EE1EEF.1B923%Robert.Guglielmetti at nrel.gov>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> There is a daysim-specific mailing list that may be useful for some of
>> your questions:
>>
>> http://www.radiance-online.org/community/mailing-lists/subscribe/radiance-
>> d
>> aysim
>>
>>
>> I can tell you that if you're planning to use rcontrib and do 3- or
>> 5-phase type stuff, you definitely should be using a recent version of
>> Radiance. Either build from latest source, or use one of the NREL
>> pre-built packages (I recommend v5):
>>
>> https://github.com/NREL/Radiance/releases/tag/5.0.a.3
>>
>>
>>
>>
>> On 8/10/15, 9:14 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>>> Dear Germ?n,
>>>
>>> Many thanks for you. I agree with you totally that all Radiance works
>>> need to apply ray-tracing approach as the core principle of it.
>>> However, what I meant by using ray-tracing in radiance, was the using
>>> of RTRACE directly through stand-alone radiance tool (as you kindly
>>> mentioned).
>>>
>>> As you clarified, Daysim uses 2-phase method to do annual simulation
>>> (2nd
>>> phase) fast, based on pre-calculated Daylight Coefficient Matrix (1st
>>> phase). Now, if I need to produce the illuminance levels (produced by
>>> specific CFS) at the Workplane under static scene, can I still use
>>> Daysim for that? Or, shall I stick to RTRACE tool directly through pure
>>> Radiance?
>>>
>>> And, if I have to stick to using Pure Radiance (RTRACE), is the method
>>> detailed in the attached document (hope, you see that: where Geometry
>>> and Workplane sensors are built in Ecotect and directly exported to
>>> Radiance engine), is it still valid?
>>>
>>>
>>> Finally, in both cases (using pure Radiance and/or Daysim), shall we
>>> replace the Radiance tool (works as engine) by the latest released
>>> version (i.e. Version 4.2 or recent?) as the one works with
>>> Ecotect-Radiance approach (I'm not sure about Daysim, yet) is old
>>> version (2.0; in think!)?
>>>
>>>
>>> Really, I am grateful to you for your appreciated help and looking to
>>> hear from you again :)
>>>
>>> Regards,,,
>>>
>>> Ikrima
>>>
>>>
>>>
>>>
>>>
>>>> As some of you may remember, I am trying to model a set of CFS to
>>>> compare their effect on indoor horizontal illuminance of a room.
>>> So  far, I have been advised by you for several stages, which really
>>> helped me a lot for better understanding of radiance and how it works.
>>> Now, I have a question about how I use ray-tracing method in radiance?
>>> Is it similar to the way explained through the following attachment?
>>> As here, calculations are run using Radiance engine but Ecotect or
>>> Daysim interface (for geometry modelling and material assignment).
>>> Document:
>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Gett
>>> ing
>>> StartedwithEcotectRadianceDaysim.pdf
>>>
>>> I hope if you can kindly advise me on that asap, please?
>>>
>>>
>>> Ikrima,
>>>
>>> Strictly speaking, Radiance always use ray-tracing. Whenever you call
>>> RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>> simulation performed. However, when you want to perform annual
>>> simulations, you will want to do as few ray-tracing simulations as
>>> possible since they take time.
>>> RTRACE, for example, is a method used to calculate the illuminance or
>>> luminance of a point (sensor) in a static scene. Doing this for a whole
>>> year would require 8760 or more RTRACE calls, which means 8760 or more
>>> ray-tracing simulations, which is slow.
>>>
>>> Accordingly, Daysim (which uses the 2-phase method) runs one
>>> ray-tracing simulation that calculates the Daylight Coefficient matrix
>>> (this can be done in pure radiance by using RCONTRIB). This matrix
>>> relates the sensors
>>> (workplane?) in the scene with the sky, mich means that you can modify
>>> the sky and quickly evaluate illuminance in the same points. This
>>> allows performing annual simulations fast (only the sky changes in a
>>> static annual simulation). 3 and 5 phase method are extensions to this
>>> that allow also modifying the CFSs in the scene.
>>>
>>> Hope that clarify a little bit.
>>>
>>>
>>>
>>>
>>> -----Original Message-----
>>> From: radiance-general-request at radiance-online.org
>>> [mailto:radiance-general-request at radiance-online.org]
>>> Sent: 10 August 2015 14:20
>>> To: radiance-general at radiance-online.org
>>> Subject: Radiance-general Digest, Vol 138, Issue 12
>>>
>>> Send Radiance-general mailing list submissions to
>>>         radiance-general at radiance-online.org
>>>
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> or, via email, send a message with subject or body 'help' to
>>>         radiance-general-request at radiance-online.org
>>>
>>> You can reach the person managing the list at
>>>         radiance-general-owner at radiance-online.org
>>>
>>> When replying, please edit your Subject line so it is more specific
>>> than
>>> "Re: Contents of Radiance-general digest..."
>>>
>>>
>>> Today's Topics:
>>>
>>>    1. Re: Ray-tracing with Radiance (Germ?n Molina Larrain)
>>>
>>>
>>> ----------------------------------------------------------------------
>>>
>>> Message: 1
>>> Date: Mon, 10 Aug 2015 10:19:18 -0300
>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>> To: Radiance general discussion <radiance-general at radiance-online.org>
>>> Subject: Re: [Radiance-general] Ray-tracing with Radiance
>>> Message-ID:
>>>
>>> <CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g at mail.gmail.com>
>>> Content-Type: text/plain; charset="utf-8"
>>>
>>> Ikrima,
>>>
>>> Strictly speaking, Radiance always use ray-tracing. Whenever you call
>>> RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>> simulation performed. However, when you want to perform annual
>>> simulations, you will want to do as few ray-tracing simulations as
>>> possible since they take time.
>>> RTRACE, for example, is a method used to calculate the illuminance or
>>> luminance of a point (sensor) in a static scene. Doing this for a whole
>>> year would require 8760 or more RTRACE calls, which means 8760 or more
>>> ray-tracing simulations, which is slow.
>>>
>>> Accordingly, Daysim (which uses the 2-phase method) runs one
>>> ray-tracing simulation that calculates the Daylight Coefficient matrix
>>> (this can be done in pure radiance by using RCONTRIB). This matrix
>>> relates the sensors
>>> (workplane?) in the scene with the sky, mich means that you can modify
>>> the sky and quickly evaluate illuminance in the same points. This
>>> allows performing annual simulations fast (only the sky changes in a
>>> static annual simulation). 3 and 5 phase method are extensions to this
>>> that allow also modifying the CFSs in the scene.
>>>
>>> Hope that clarify a little bit.
>>>
>>> Best,
>>>
>>> Germ?n
>>>
>>>
>>>
>>> 2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:
>>>
>>>> Hello Robert,
>>>> Hello all,
>>>>
>>>> As some of you may remember, I am trying to model a set of CFS to
>>>> compare their effect on indoor horizontal illuminance of a room. So
>>>> far, I have been advised by you for several stages, which really
>>>> helped me a lot for better understanding of radiance and how it works.
>>>>
>>>> Now, I have a question about how I use ray-tracing method in radiance?
>>>> Is it similar to the way explained through the following attachment?
>>>> As here, calculations are run using Radiance engine but Ecotect or
>>>> Daysim interface (for geometry modelling and material assignment).
>>>>
>>>> Document:
>>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/Ge
>>>> t tingStartedwithEcotectRadianceDaysim.pdf
>>>>
>>>> I hope if you can kindly advise me on that asap, please?
>>>>
>>>>
>>>> Best regards
>>>> Ikrima
>>>>
>>>>
>>>>
>>>> -----Original Message-----
>>>> From: radiance-general-request at radiance-online.org [mailto:
>>>> radiance-general-request at radiance-online.org]
>>>> Sent: 12 July 2015 20:37
>>>> To: radiance-general at radiance-online.org
>>>> Subject: Radiance-general Digest, Vol 137, Issue 12
>>>>
>>>> Send Radiance-general mailing list submissions to
>>>>          radiance-general at radiance-online.org
>>>>
>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> or, via email, send a message with subject or body 'help' to
>>>>          radiance-general-request at radiance-online.org
>>>>
>>>> You can reach the person managing the list at
>>>>          radiance-general-owner at radiance-online.org
>>>>
>>>> When replying, please edit your Subject line so it is more specific
>>>> than
>>>> "Re: Contents of Radiance-general digest..."
>>>>
>>>>
>>>> Today's Topics:
>>>>
>>>>     1. Git for Windows and starting tutorials (Ikrima Amaireh)
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> -
>>>>
>>>> Message: 1
>>>> Date: Sun, 12 Jul 2015 20:36:19 +0100
>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> Subject: [Radiance-general] Git for Windows and starting tutorials
>>>> Message-ID:
>>>>          <
>>>> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.
>>>> uk>
>>>>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi Robert,
>>>>
>>>> Many thanks for your help.
>>>>
>>>> I have installed Git for Windows as you adviced :) Now, Before I
>>>> start  with 3 or 5-phase tutorials, I'm thinking to go through
>>>> "radiance tutorial"
>>>> (by Axel Jacobs) as a beginner with almost a shallow
>>>> knowledge/experience of radiance. So, do recommend this (radiance
>>>> tutorial would be enough to start with 3 or 5-phase methods and
>>>> understanding of BSDF data approach,
>>>> etc) or advice another tutorial/source for better understanding of
>>>> radiance basics (using command prompt)?
>>>>
>>>> Many thanks again :)
>>>>
>>>> Regards
>>>> Ikrima
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 2
>>>> Date: Fri, 10 Jul 2015 15:52:23 +0000
>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>>>>          Issue 8
>>>> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> OK so it sounds like you first tried the Windows installer
>>>> (presumably a NREL-provided one such as this:
>>>> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.
>>>> 0.a-w in64.exe), and this most likely worked fine, you just had some
>>>> issues actually *doing* anything with it. This is normal. =)
>>>>
>>>> I recommend you install Git for windows (https://msysgit.github.io/),
>>>> as that will add a little BASH emulator in your Windows system. This
>>>> way you can run most of the commands exactly as they appear in most
>>>> of the tutorials out there that are written from a UNIX perspective
>>>> (as you point out). If you run the "Git BASH shell" you will be able
>>>> to try out all the multi-phase methods, use and generate BSDFs, etc.
>>>> Once you have Git for Windows installed, head over to Andy McNeil's
>>>> tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be in
>>>> the Git program group in the Windows start menu), and get started!
>>>>
>>>> One thing to keep in mind is that when running any commands that
>>>> read/write data (e.g. rcontrib), be sure to use ASCII format rather
>>>> than float. Windows has issues with float data (among many other
>>>> things).
>>>>
>>>> Good luck!
>>>>
>>>> - Rob
>>>>
>>>> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>
>>>>> Hi Robert,
>>>>>
>>>>> My PC is running on Windows 7 Enterprise.
>>>>> Initially, I installed Radiance for Window using its installer but I
>>>>> found that most of the tutorials are provided for pc with Linux
>>>>> and/or Linux-like operating systems; So I had to install try learnix
>>>>> (that did not work) and Ubuntu (also did not work)!
>>>>> Finally, I tried to use Cygwin to run Radiance on Window OS. I could
>>>>> install Cygwin (works fine), Xming (not sure if working) and
>>>>> Radiance (not all its programs are working!).
>>>>>
>>>>> I'm a bit confused as I'm not sure if running Radiance on windows
>>>>> using Cygwin will be enough for carrying my work. For example, can I
>>>>> work out phases methods and generate BSDF data?
>>>>>
>>>>> I wish if you can help me to do that.
>>>>>
>>>>> Many thanks
>>>>> ikrima
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 3
>>>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>        <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi Ikrima,
>>>>>
>>>>> We'll need a bit more info, here. What OS are you on? How are you
>>>>> attempting to install it (using an installer, compiling from source,
>>>>> or what)? What happens when you try??
>>>>>
>>>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi all,
>>>>>>
>>>>>> After one a few weeks of trying, I could not manage to install
>>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>>
>>>>>> Regards
>>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and
>>>> immediately delete it.
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 3
>>>> Date: Fri, 10 Jul 2015 17:34:30 +0100
>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> Subject: [Radiance-general] Modelling CFS
>>>> Message-ID:
>>>>          <
>>>> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.
>>>> uk>
>>>>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi all,
>>>>
>>>> Thanks Robert and Larrain for your detailed replies, that helped me a
>>>> lot.
>>>>
>>>> I would summarise here what I got form your appreciated replies, as
>>>> following:
>>>> - Radiance is convenient and best of tools to model daylighting due
>>>> to its ray-tracing method.
>>>> - 3 or 5-phases methods are used to facilitate the calculations.
>>>> - Generating BSDF data is also used to facilitate these calculations
>>>> but it is limited to Klems resolution of some CFS.
>>>>
>>>> Initially, I'm not planning to do annual calculations. It's just for
>>>> specific hours of the day and the target is to produce a illuminance
>>>> levels for indoor grid under different CFSs. Hence, according to my
>>>> understanding from Larrain words, I can use either 2-phase or
>>>> Ray-tracing methods. My question is how can I draw/define the CFS
>>>> geometry and Space for these calculations? Is it similar to the way
>>>> use in Ecotect/Radiance calculations?
>>>>
>>>> Regards
>>>> Ikrima
>>>>
>>>>
>>>>   -----Original Message-----
>>>> From: radiance-general-request at radiance-online.org [mailto:
>>>> radiance-general-request at radiance-online.org]
>>>> Sent: 09 July 2015 19:56
>>>> To: radiance-general at radiance-online.org
>>>> Subject: Radiance-general Digest, Vol 137, Issue 8
>>>>
>>>> Send Radiance-general mailing list submissions to
>>>>          radiance-general at radiance-online.org
>>>>
>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> or, via email, send a message with subject or body 'help' to
>>>>          radiance-general-request at radiance-online.org
>>>>
>>>> You can reach the person managing the list at
>>>>          radiance-general-owner at radiance-online.org
>>>>
>>>> When replying, please edit your Subject line so it is more specific
>>>> than
>>>> "Re: Contents of Radiance-general digest..."
>>>>
>>>>
>>>> Today's Topics:
>>>>
>>>>     1. CFS with Radiance (Ikrima Amaireh)
>>>>     2. Could not install Radiance!!! (Ikrima Amaireh)
>>>>     3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>>>>     4. Re: CFS with Radiance (Guglielmetti, Robert)
>>>>     5. Re: CFS with Radiance (Germ?n Molina Larrain)
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> -
>>>>
>>>> Message: 1
>>>> Date: Thu, 9 Jul 2015 17:26:29 +0100
>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> Subject: [Radiance-general] CFS with Radiance
>>>> Message-ID:
>>>>          <
>>>> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.
>>>> uk>
>>>>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi G. Larrain,
>>>>
>>>> Thanks for your detailed clarification (below).
>>>>
>>>> I wonder if you kindly can help me toward better understanding and
>>>> answering the following:
>>>>
>>>> We agreed that for daylight modelling of spaces with CFS, Radiance is
>>>> a suitable tool as it applies ray-tracing method. And for annual
>>>> and/or climate-based daylight calculations, as calculation time
>>>> becomes a critical factor, using BSDF data for CFS is highly
>>>> recommended to tackle the task with radiance (using phases methods).
>>>> However:
>>>>
>>>> - if someone needs to perform daylight calculations for given space
>>>> with different CFS (different cases for comparison purposes) to get
>>>> illumination levels for horizontal grid points (and not pictures nor
>>>> scenes), is Radiance still the most convenient option?
>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>
>>>>
>>>> Many thanks for your kind help :)
>>>>
>>>> Regards
>>>> Ikrima
>>>>
>>>>
>>>> "Ikrima,
>>>>
>>>> I am going to try to build the puzzle of CFS, Phases, BSDF and
>>>> calculations.... at least the way I understand it.
>>>>
>>>> *CFS* are those systems that, via interreflection or other light
>>>> transport phenomena, redirect light (or solar radiation). Thus, in
>>>> order to get a reliable result you will have to consider all the
>>>> phenomena involved.
>>>> Then, *common
>>>> simple performance indexes*, such as the miss-used Shading
>>>> Coefficient  and the Aperture Percentage, *always loose a lot of
>>>> information,  trying to reduce all the complex behavior of a CFS to
>>>> one single  number*. We all know that venetian blinds are more
>>>> "transparent" from  certain viewing directions than from others, but
>>>> these performance indexes do not tell you that.
>>>>
>>>> Now... Radiance can certainly perform calculations of spaces with CFS
>>>> using its "common" Ray-tracing. However, this may be slow for some
>>>> purposes (i.e.
>>>> annual simulations and climate-based daylight modelling), and *this
>>>> is why 2, 3 and 5 phase methods have been developed*. The *BSDF*
>>>> representation, I would say, goes in the same direction... It allow
>>>> summarizing all the bounces, reflections, refractions, etc.  that
>>>> occure withing the CFS in a single matrix or tensor.* By using
>>>> BSDFs*, Radiance itself and other tools (i.e. EnergyPlus) can treat
>>>> CFS as blackboxes, avoiding all the opcits within the system. A BSDF
>>>> that uses the Klems Full representation has
>>>> 21,045 numbers (instead of one, such as the Shading Coefficient).
>>>>
>>>> Being said all that, I would not trust a calculation method unless it
>>>> can actually deal with the optics of a CFS that is drawn and/or it
>>>> can use BSDF (or similar) information.
>>>>
>>>> Lets remember that a perforated screen, a venetian blind, a light
>>>> diffusing device can all have a Shading Coefficient of 50%, but all
>>>> of them will behave very differently. I made some presentations about
>>>> this on my previous work (we sold complex Shading Devices), trying to
>>>> promote the use of BSDF in EnergyPlus calculations... the differences
>>>> (in solar heat gains) were more than considerable.
>>>>
>>>> I hope that someone else gives us his/her perspective on this topic...
>>>> there are a lot of concepts that I might be misunderstanding.
>>>>
>>>> Best!"
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the addressee
>>>> and may contain confidential information. If you have received this
>>>> message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in this
>>>> message or in any attachment.  Any views or opinions expressed by the
>>>> author of this email do not necessarily reflect the views of the
>>>> University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage your
>>>> computer system, you are advised to perform your own checks. Email
>>>> communications with the University of Nottingham may be monitored as
>>>> permitted by UK legislation.
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 2
>>>> Date: Thu, 9 Jul 2015 17:38:41 +0100
>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> Subject: [Radiance-general] Could not install Radiance!!!
>>>> Message-ID:
>>>>          <
>>>> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.
>>>> uk>
>>>>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi all,
>>>>
>>>> After one a few weeks of trying, I could not manage to install
>>>> radiance properly. I am almost disappointed! Please any help?
>>>>
>>>> Regards
>>>> Ikrima
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the addressee
>>>> and may contain confidential information. If you have received this
>>>> message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in this
>>>> message or in any attachment.  Any views or opinions expressed by the
>>>> author of this email do not necessarily reflect the views of the
>>>> University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage your
>>>> computer system, you are advised to perform your own checks. Email
>>>> communications with the University of Nottingham may be monitored as
>>>> permitted by UK legislation.
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 3
>>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi Ikrima,
>>>>
>>>> We'll need a bit more info, here. What OS are you on? How are you
>>>> attempting to install it (using an installer, compiling from source,
>>>> or what)? What happens when you try??
>>>>
>>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>
>>>>> Hi all,
>>>>>
>>>>> After one a few weeks of trying, I could not manage to install
>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and
>>>> immediately delete it.
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 4
>>>> Date: Thu, 9 Jul 2015 17:29:39 +0000
>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] CFS with Radiance
>>>> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Some very quick replies and clarifications within:
>>>>
>>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>
>>>>> Hi G. Larrain,
>>>>>
>>>>> Thanks for your detailed clarification (below).
>>>>>
>>>>> I wonder if you kindly can help me toward better understanding and
>>>>> answering the following:
>>>>>
>>>>> We agreed that for daylight modelling of spaces with CFS, Radiance
>>>>> is a suitable tool as it applies ray-tracing method. And for annual
>>>>> and/or climate-based daylight calculations, as calculation time
>>>>> becomes a critical factor, using BSDF data for CFS is highly
>>>>> recommended to tackle the task with radiance (using phases methods).
>>>> However:
>>>>
>>>>
>>>> BSDF data in an annual simulation context is generally limited to
>>>> Klems basis BSDF data, which may not be high enough resolution for
>>>> some CFS. And the 5-phase method, which can circumvent this, is not
>>>> necessarily "quick".
>>>> This is all still very much a quandary and the newest daylight
>>>> metrics  have added confusion to all of this, IMO.
>>>>
>>>>
>>>>> - if someone needs to perform daylight calculations for given space
>>>>> with different CFS (different cases for comparison purposes) to get
>>>>> illumination levels for horizontal grid points (and not pictures nor
>>>>> scenes), is Radiance still the most convenient option?
>>>>
>>>> Absolutely. The lack of an image-as-output requirement does not
>>>> change  the fact that ray tracing is a good/convenient algorithm
>>>> option for  daylight simulation problems, especially when dealing with
>>>> diffusing  media and CFS in general. BSDFs allow you to do lots of
>>>> "what-ifs",  relatively quickly, but are beholden to the limitations
>>>> of the resolution of the BSDF.
>>>>
>>>>
>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>
>>>> Is what still needed? BSDF data? Ray tracing? I don't know of other
>>>> lighting simulation tools that can employ the multiphase methods. I
>>>> would say BSDF data is optional for 2-phase, required for 3-phase,
>>>> and optional for 5-phase.
>>>>
>>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>
>>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>> available to you in general. If you have a geometric model of the CFS
>>>> you can use Radiance (genBSDF) to make a BSDF of the CFS and use that
>>>> in a 3- or 5-phase context. However in an annual/climate-based
>>>> simulation context, you will be stuck with a Klems basis BSDF and that
>>>> will not be very good resolution for a lot of CFS; here you may want
>>>> to use the 5-phase method and stick the actual CFS geometry in the
>>>> building model.
>>>>
>>>> Some things to consider here are the photon map, now a part of
>>>> Radiance proper, or using the 2-phase method where appropriate. By
>>>> 2-phase method I mean generating a daylight matrix for your
>>>> calculation points (or view), and modeling the window material as-is.
>>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>> Radiance "trans". Same for translucent panels.
>>>> With this single daylight matrix, you can throw a vector of sky
>>>> matrices at it and get an annual climate-based result very quickly.
>>>> Problem is, we want to do stuff to the windows, sometimes at the time
>>>> step level, so:
>>>>
>>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>> are  best represented as BSDF, and if most of the redirected flux is
>>>> headed  up and away from the points of interest, a Klems basis BSDF is
>>>> good  enough IMO. In these cases you could use the 3-phase method.
>>>> Problem  is when you have a BSDF for blinds, and you also want to
>>>> simulate the  blinds-up condition (i.e. clear, specularly transmitting
>>>> glass). Using  a Klems basis BSDF for this is sub-optimal. You end up
>>>> needing to do  two annual simulations, one as 2-phase for the clear
>>>> glass scenario,  and again as a 3-phase (with a blinds BSDF for the
>>>> transmission
>>>> matrix) for the blinds down condition. If you have a lot of different
>>>> window groups, your simulation space can get large in a hurry. But
>>>> it's still do-able and you can get results that tell a story you
>>>> simply couldn't tell 5 years ago, informing the newest daylight
>>>> metrics as well.
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 5
>>>> Date: Thu, 9 Jul 2015 15:56:11 -0300
>>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>>> To: Radiance general discussion
>>>> <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] CFS with Radiance
>>>> Message-ID:
>>>>          <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
>>>> FZL-Q at mail.gmail.com>
>>>> Content-Type: text/plain; charset="utf-8"
>>>>
>>>> I must say that I agree with Rob, however, a short answer that might
>>>> help.
>>>>
>>>> For evaluating illuminance levels in a space with different CFS you,
>>>> strictly speaking, DO NOT HAVE TO do anything. You may choose between
>>>> different methods that have some pros and cons.
>>>>
>>>>
>>>> *ray-tracing*
>>>>
>>>>     - Requires ray-tracing for each time-step and each system, which
>>>> is slow
>>>>     (*four systems simulated annualy in an hourly basis --> 4*8760 =
>>>> 35,040
>>>>     simulations*.)
>>>>     - As accurate as it gets, if options are defined correctly.
>>>>
>>>>
>>>> *2 phase method*
>>>>
>>>>     - Do not need the BSDF
>>>>     - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>>>>     simulations*)
>>>>     - After ray-tracing, annual simulation is fast.
>>>>
>>>> *3-phase method:*
>>>>
>>>>     - Requires BSDF data in KLEMS basis, which may be slow to compute,
>>>>     unless it can be exported from WINDOW, for example, or such data has
>>>>     already been calculated (the idea is to make a database, I think).
>>>>     - Does not really work well for specular systems (Klems patches
>>>> are too
>>>>     big)
>>>>     - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>>>>     simulations*)
>>>>     - After ray-tracing and BSDF calculation, annual simulation is
>>>> fast
>>>>
>>>> *5-phase method:*
>>>>
>>>>     - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format,
>>>> which
>>>>     may be slow to compute, unless it can be exported from WINDOW, for
>>>> example,
>>>>     or such data has already been calculated (the idea is to make a
>>>> database, I
>>>>     think).
>>>>     - Works well for specular systems
>>>>     - Requires 4 ray-tracing runs + 1 for each system, always (*4
>>>> systems
>>>>     --> 4+1 = 5 ray-tracing simulations*)
>>>>     - Hard to code...?
>>>>     - After ray-tracing and BSDF calculation, annual simulation is
>>>> fast
>>>>
>>>>
>>>> I would not say there is a recipe. If you have to choose between 1 or
>>>> 2 CFSs, maybe it is faster to just draw them and use the 2 phase
>>>> method (or ray-tracing if an annual simulaton is not required). On
>>>> the contrary, if you are going to test 10 different CFSs, 3 and 5
>>>> phases may make sense, since you reduce the expensive ray-tracing
>>>> calculations... However, this will also depend on weather you have
>>>> the BSDF data AND/OR if it makes sense to calculate it and store it
>>>> AND/OR if you intend to simulate a dynamically controlled CFS.
>>>>
>>>> Best!
>>>>
>>>> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
>>>> Robert.Guglielmetti at nrel.gov>:
>>>>
>>>>> Some very quick replies and clarifications within:
>>>>>
>>>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi G. Larrain,
>>>>>>
>>>>>> Thanks for your detailed clarification (below).
>>>>>>
>>>>>> I wonder if you kindly can help me toward better understanding and
>>>>>> answering the following:
>>>>>>
>>>>>> We agreed that for daylight modelling of spaces with CFS, Radiance
>>>>>> is a suitable tool as it applies ray-tracing method. And for
>>>>>> annual and/or climate-based daylight calculations, as calculation
>>>>>> time becomes a critical factor, using BSDF data for CFS is highly
>>>>>> recommended to tackle the task with radiance (using phases methods).
>>>> However:
>>>>>
>>>>> BSDF data in an annual simulation context is generally limited to
>>>>> Klems basis BSDF data, which may not be high enough resolution for
>>>>> some CFS. And the 5-phase method, which can circumvent this, is not
>>>> necessarily "quick".
>>>>> This is all still very much a quandary and the newest daylight
>>>>> metrics have added confusion to all of this, IMO.
>>>>>
>>>>>
>>>>>> - if someone needs to perform daylight calculations for given
>>>>>> space with different CFS (different cases for comparison purposes)
>>>>>> to get illumination levels for horizontal grid points (and not
>>>>>> pictures nor scenes), is Radiance still the most convenient option?
>>>>>
>>>>> Absolutely. The lack of an image-as-output requirement does not
>>>>> change the fact that ray tracing is a good/convenient algorithm
>>>>> option for daylight simulation problems, especially when dealing
>>>>> with diffusing media and CFS in general. BSDFs allow you to do lots
>>>>> of "what-ifs", relatively quickly, but are beholden to the
>>>>> limitations of the
>>>> resolution of the BSDF.
>>>>>
>>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>>
>>>>> Is what still needed? BSDF data? Ray tracing? I don't know of other
>>>>> lighting simulation tools that can employ the multiphase methods. I
>>>>> would say BSDF data is optional for 2-phase, required for 3-phase,
>>>>> and optional for 5-phase.
>>>>>
>>>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>>
>>>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>>> available to you in general. If you have a geometric model of the
>>>>> CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>>>>> use that in a 3- or 5-phase context. However in an
>>>>> annual/climate-based simulation context, you will be stuck with a
>>>>> Klems basis BSDF and that will not be very good resolution for a
>>>>> lot of CFS; here you may want to use the 5-phase method and stick
>>>>> the actual CFS geometry in the
>>>> building model.
>>>>> Some things to consider here are the photon map, now a part of
>>>>> Radiance proper, or using the 2-phase method where appropriate. By
>>>>> 2-phase method I mean generating a daylight matrix for your
>>>>> calculation points (or view), and modeling the window material as-is.
>>>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>>> Radiance
>>>> "trans". Same for translucent panels.
>>>>> With this single daylight matrix, you can throw a vector of sky
>>>>> matrices at it and get an annual climate-based result very quickly.
>>>>> Problem is, we want to do stuff to the windows, sometimes at the
>>>>> time
>>>> step level, so:
>>>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>>> are best represented as BSDF, and if most of the redirected flux is
>>>>> headed up and away from the points of interest, a Klems basis BSDF
>>>>> is good enough IMO. In these cases you could use the 3-phase method.
>>>>> Problem is when you have a BSDF for blinds, and you also want to
>>>>> simulate the blinds-up condition (i.e. clear, specularly
>>>>> transmitting glass). Using a Klems basis BSDF for this is
>>>>> sub-optimal. You end up needing to do two annual simulations, one
>>>>> as 2-phase for the clear glass scenario, and again as a 3-phase
>>>>> (with a blinds BSDF for the transmission
>>>>> matrix) for the blinds down condition. If you have a lot of
>>>>> different window groups, your simulation space can get large in a
>>>>> hurry. But it's still do-able and you can get results that tell a
>>>>> story you simply couldn't tell 5 years ago, informing the newest
>>>>> daylight metrics
>>>> as well.
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>> -------------- next part -------------- An HTML attachment was
>>>> scrubbed...
>>>> URL: <
>>>> http://www.radiance-online.org/pipermail/radiance-general/attachments
>>>> /
>>>> 20150709/cfbdd4da/attachment.html
>>>> ------------------------------
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> End of Radiance-general Digest, Vol 137, Issue 8
>>>> ************************************************
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the addressee
>>>> and may contain confidential information. If you have received this
>>>> message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in this
>>>> message or in any attachment.  Any views or opinions expressed by the
>>>> author of this email do not necessarily reflect the views of the
>>>> University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage your
>>>> computer system, you are advised to perform your own checks. Email
>>>> communications with the University of Nottingham may be monitored as
>>>> permitted by UK legislation.
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> End of Radiance-general Digest, Vol 137, Issue 9
>>>> ************************************************
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the addressee
>>>> and may contain confidential information. If you have received this
>>>> message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in this
>>>> message or in any attachment.  Any views or opinions expressed by the
>>>> author of this email do not necessarily reflect the views of the
>>>> University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage your
>>>> computer system, you are advised to perform your own checks. Email
>>>> communications with the University of Nottingham may be monitored as
>>>> permitted by UK legislation.
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> End of Radiance-general Digest, Vol 137, Issue 12
>>>> *************************************************
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the addressee
>>>> and may contain confidential information. If you have received this
>>>> message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in this
>>>> message or in any attachment.  Any views or opinions expressed by the
>>>> author of this email do not necessarily reflect the views of the
>>>> University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage your
>>>> computer system, you are advised to perform your own checks. Email
>>>> communications with the University of Nottingham may be monitored as
>>>> permitted by UK legislation.
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>> -------------- next part -------------- An HTML attachment was
>>> scrubbed...
>>> URL:
>>> <http://www.radiance-online.org/pipermail/radiance-general/attachments/
>>> 201
>>> 50810/959f6779/attachment.html>
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> End of Radiance-general Digest, Vol 138, Issue 12
>>> *************************************************
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the addressee
>>> and may contain confidential information. If you have received this
>>> message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in this
>>> message or in any attachment.  Any views or opinions expressed by the
>>> author of this email do not necessarily reflect the views of the
>>> University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage your
>>> computer system, you are advised to perform your own checks. Email
>>> communications with the University of Nottingham may be monitored as
>>> permitted by UK legislation.
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 138, Issue 15
>> *************************************************
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150811/db767220/attachment-0001.html>

From ezxia at nottingham.ac.uk  Tue Aug 11 09:21:21 2015
From: ezxia at nottingham.ac.uk (Ikrima Amaireh)
Date: Tue, 11 Aug 2015 17:21:21 +0100
Subject: [Radiance-general] rcontrib with 2-phase method?
Message-ID: <D697763F9F216044A99BC674C0056196135AD1062E@EXCHANGE1.ad.nottingham.ac.uk>

Dear Alstan,

Yes, you actually did :)

What exactly I want to do is: modelling different CFS to assess their effect on indoor illuminance (Workplane). So, Daysim (with its current old version Radiance binaries) can do that; isn't it? At the same time, one can still say that simulations are based on the powerful Radiance tools, does that sound right, too?

So far, I don't think I still need to use BSDF as there is no need for 3- nor 5-phase methods for such level of work!

Can you please correct me if there is something wrong with my understanding/assumptions?

Best regards
Ikrima

-----Original Message-----
From: radiance-general-request at radiance-online.org [mailto:radiance-general-request at radiance-online.org]
Sent: 11 August 2015 17:00
To: radiance-general at radiance-online.org
Subject: Radiance-general Digest, Vol 138, Issue 22

Send Radiance-general mailing list submissions to
        radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
        http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
        radiance-general-request at radiance-online.org

You can reach the person managing the list at
        radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: rcontrib with 2-phase method? (J. Alstan Jakubiec)


----------------------------------------------------------------------

Message: 1
Date: Tue, 11 Aug 2015 23:38:14 +0800
From: "J. Alstan Jakubiec" <alstan at jakubiec.net>
To: radiance-general at radiance-online.org
Cc: radiance-daysim at radiance-online.org
Subject: Re: [Radiance-general] rcontrib with 2-phase method?
Message-ID: <55CA16E6.1020404 at jakubiec.net>
Content-Type: text/plain; charset="windows-1252"; Format="flowed"

Dear Ikrima,

Daysim comes with its own special version of the Radiance binaries that can be downloaded at the Daysim website <http://daysim.ning.com/>. These get stored in c:\DAYSIM\bin\ after installation on Windows.
Unfortunately the binaries are based on an older Radiance version, so you miss some options like using BSDF data. Still, Daysim is perfectly serviceable for most cases. I hope I understood your question.

Best,
Alstan

On 8/11/2015 11:09 PM, Guglielmetti, Robert wrote:
> I really have no experience with Daysim at this point so I really am
> not the best person to answer this one, sorry. In a general sense,
> with respect to Daysim and Radiance you'd use one or the other, not
> both. The Radiance daylight coefficient method (i.e. using rcontrib
> and other tools in Radiance to do a 2-phase annual simulation) *is*
> basically the same thing as Daysim. Hope this helps but it probably
> doesn't. =/
>
>
>
> On 8/11/15, 4:54 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>
>> Dear Robert,
>>
>> Thanks for making clear that using rcontrib and using 3/5 phase
>> methods need a recent version of radiance. does that apply to using
>> 2-phse
>> (Daysim) or one can still use old versions of radiance (as I have a
>> problem yet with installing recent versions of radiance and link it
>> with Daysim tool)?
>>
>> Many thanks for you in advance:
>>
>> Regards,,,
>> ikriam
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Mon, 10 Aug 2015 17:03:49 +0000
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> To: "radiance-general at radiance-online.org"
>>         <radiance-general at radiance-online.org>
>> Subject: Re: [Radiance-general] Ray-tracing with Radiance
>> Message-ID: <D1EE1EEF.1B923%Robert.Guglielmetti at nrel.gov>
>> Content-Type: text/plain; charset="us-ascii"
>>
>> There is a daysim-specific mailing list that may be useful for some
>> of your questions:
>>
>> http://www.radiance-online.org/community/mailing-lists/subscribe/radi
>> ance-
>> d
>> aysim
>>
>>
>> I can tell you that if you're planning to use rcontrib and do 3- or
>> 5-phase type stuff, you definitely should be using a recent version
>> of Radiance. Either build from latest source, or use one of the NREL
>> pre-built packages (I recommend v5):
>>
>> https://github.com/NREL/Radiance/releases/tag/5.0.a.3
>>
>>
>>
>>
>> On 8/10/15, 9:14 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>>> Dear Germ?n,
>>>
>>> Many thanks for you. I agree with you totally that all Radiance
>>> works need to apply ray-tracing approach as the core principle of it.
>>> However, what I meant by using ray-tracing in radiance, was the
>>> using of RTRACE directly through stand-alone radiance tool (as you
>>> kindly mentioned).
>>>
>>> As you clarified, Daysim uses 2-phase method to do annual simulation
>>> (2nd
>>> phase) fast, based on pre-calculated Daylight Coefficient Matrix
>>> (1st phase). Now, if I need to produce the illuminance levels
>>> (produced by specific CFS) at the Workplane under static scene, can
>>> I still use Daysim for that? Or, shall I stick to RTRACE tool
>>> directly through pure Radiance?
>>>
>>> And, if I have to stick to using Pure Radiance (RTRACE), is the
>>> method detailed in the attached document (hope, you see that: where
>>> Geometry and Workplane sensors are built in Ecotect and directly
>>> exported to Radiance engine), is it still valid?
>>>
>>>
>>> Finally, in both cases (using pure Radiance and/or Daysim), shall we
>>> replace the Radiance tool (works as engine) by the latest released
>>> version (i.e. Version 4.2 or recent?) as the one works with
>>> Ecotect-Radiance approach (I'm not sure about Daysim, yet) is old
>>> version (2.0; in think!)?
>>>
>>>
>>> Really, I am grateful to you for your appreciated help and looking
>>> to hear from you again :)
>>>
>>> Regards,,,
>>>
>>> Ikrima
>>>
>>>
>>>
>>>
>>>
>>>> As some of you may remember, I am trying to model a set of CFS to
>>>> compare their effect on indoor horizontal illuminance of a room.
>>> So  far, I have been advised by you for several stages, which really
>>> helped me a lot for better understanding of radiance and how it works.
>>> Now, I have a question about how I use ray-tracing method in radiance?
>>> Is it similar to the way explained through the following attachment?
>>> As here, calculations are run using Radiance engine but Ecotect or
>>> Daysim interface (for geometry modelling and material assignment).
>>> Document:
>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/G
>>> ett
>>> ing
>>> StartedwithEcotectRadianceDaysim.pdf
>>>
>>> I hope if you can kindly advise me on that asap, please?
>>>
>>>
>>> Ikrima,
>>>
>>> Strictly speaking, Radiance always use ray-tracing. Whenever you
>>> call RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>> simulation performed. However, when you want to perform annual
>>> simulations, you will want to do as few ray-tracing simulations as
>>> possible since they take time.
>>> RTRACE, for example, is a method used to calculate the illuminance
>>> or luminance of a point (sensor) in a static scene. Doing this for a
>>> whole year would require 8760 or more RTRACE calls, which means 8760
>>> or more ray-tracing simulations, which is slow.
>>>
>>> Accordingly, Daysim (which uses the 2-phase method) runs one
>>> ray-tracing simulation that calculates the Daylight Coefficient
>>> matrix (this can be done in pure radiance by using RCONTRIB). This
>>> matrix relates the sensors
>>> (workplane?) in the scene with the sky, mich means that you can
>>> modify the sky and quickly evaluate illuminance in the same points.
>>> This allows performing annual simulations fast (only the sky changes
>>> in a static annual simulation). 3 and 5 phase method are extensions
>>> to this that allow also modifying the CFSs in the scene.
>>>
>>> Hope that clarify a little bit.
>>>
>>>
>>>
>>>
>>> -----Original Message-----
>>> From: radiance-general-request at radiance-online.org
>>> [mailto:radiance-general-request at radiance-online.org]
>>> Sent: 10 August 2015 14:20
>>> To: radiance-general at radiance-online.org
>>> Subject: Radiance-general Digest, Vol 138, Issue 12
>>>
>>> Send Radiance-general mailing list submissions to
>>>         radiance-general at radiance-online.org
>>>
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> or, via email, send a message with subject or body 'help' to
>>>         radiance-general-request at radiance-online.org
>>>
>>> You can reach the person managing the list at
>>>         radiance-general-owner at radiance-online.org
>>>
>>> When replying, please edit your Subject line so it is more specific
>>> than
>>> "Re: Contents of Radiance-general digest..."
>>>
>>>
>>> Today's Topics:
>>>
>>>    1. Re: Ray-tracing with Radiance (Germ?n Molina Larrain)
>>>
>>>
>>> --------------------------------------------------------------------
>>> --
>>>
>>> Message: 1
>>> Date: Mon, 10 Aug 2015 10:19:18 -0300
>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>> To: Radiance general discussion
>>> <radiance-general at radiance-online.org>
>>> Subject: Re: [Radiance-general] Ray-tracing with Radiance
>>> Message-ID:
>>>
>>> <CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g at mail.gmail.com>
>>> Content-Type: text/plain; charset="utf-8"
>>>
>>> Ikrima,
>>>
>>> Strictly speaking, Radiance always use ray-tracing. Whenever you
>>> call RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>> simulation performed. However, when you want to perform annual
>>> simulations, you will want to do as few ray-tracing simulations as
>>> possible since they take time.
>>> RTRACE, for example, is a method used to calculate the illuminance
>>> or luminance of a point (sensor) in a static scene. Doing this for a
>>> whole year would require 8760 or more RTRACE calls, which means 8760
>>> or more ray-tracing simulations, which is slow.
>>>
>>> Accordingly, Daysim (which uses the 2-phase method) runs one
>>> ray-tracing simulation that calculates the Daylight Coefficient
>>> matrix (this can be done in pure radiance by using RCONTRIB). This
>>> matrix relates the sensors
>>> (workplane?) in the scene with the sky, mich means that you can
>>> modify the sky and quickly evaluate illuminance in the same points.
>>> This allows performing annual simulations fast (only the sky changes
>>> in a static annual simulation). 3 and 5 phase method are extensions
>>> to this that allow also modifying the CFSs in the scene.
>>>
>>> Hope that clarify a little bit.
>>>
>>> Best,
>>>
>>> Germ?n
>>>
>>>
>>>
>>> 2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:
>>>
>>>> Hello Robert,
>>>> Hello all,
>>>>
>>>> As some of you may remember, I am trying to model a set of CFS to
>>>> compare their effect on indoor horizontal illuminance of a room. So
>>>> far, I have been advised by you for several stages, which really
>>>> helped me a lot for better understanding of radiance and how it works.
>>>>
>>>> Now, I have a question about how I use ray-tracing method in radiance?
>>>> Is it similar to the way explained through the following attachment?
>>>> As here, calculations are run using Radiance engine but Ecotect or
>>>> Daysim interface (for geometry modelling and material assignment).
>>>>
>>>> Document:
>>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/
>>>> Ge t tingStartedwithEcotectRadianceDaysim.pdf
>>>>
>>>> I hope if you can kindly advise me on that asap, please?
>>>>
>>>>
>>>> Best regards
>>>> Ikrima
>>>>
>>>>
>>>>
>>>> -----Original Message-----
>>>> From: radiance-general-request at radiance-online.org [mailto:
>>>> radiance-general-request at radiance-online.org]
>>>> Sent: 12 July 2015 20:37
>>>> To: radiance-general at radiance-online.org
>>>> Subject: Radiance-general Digest, Vol 137, Issue 12
>>>>
>>>> Send Radiance-general mailing list submissions to
>>>>          radiance-general at radiance-online.org
>>>>
>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> or, via email, send a message with subject or body 'help' to
>>>>          radiance-general-request at radiance-online.org
>>>>
>>>> You can reach the person managing the list at
>>>>          radiance-general-owner at radiance-online.org
>>>>
>>>> When replying, please edit your Subject line so it is more specific
>>>> than
>>>> "Re: Contents of Radiance-general digest..."
>>>>
>>>>
>>>> Today's Topics:
>>>>
>>>>     1. Git for Windows and starting tutorials (Ikrima Amaireh)
>>>>
>>>>
>>>> -------------------------------------------------------------------
>>>> --
>>>> -
>>>>
>>>> Message: 1
>>>> Date: Sun, 12 Jul 2015 20:36:19 +0100
>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> Subject: [Radiance-general] Git for Windows and starting tutorials
>>>> Message-ID:
>>>>          <
>>>> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.
>>>> uk>
>>>>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi Robert,
>>>>
>>>> Many thanks for your help.
>>>>
>>>> I have installed Git for Windows as you adviced :) Now, Before I
>>>> start  with 3 or 5-phase tutorials, I'm thinking to go through
>>>> "radiance tutorial"
>>>> (by Axel Jacobs) as a beginner with almost a shallow
>>>> knowledge/experience of radiance. So, do recommend this (radiance
>>>> tutorial would be enough to start with 3 or 5-phase methods and
>>>> understanding of BSDF data approach,
>>>> etc) or advice another tutorial/source for better understanding of
>>>> radiance basics (using command prompt)?
>>>>
>>>> Many thanks again :)
>>>>
>>>> Regards
>>>> Ikrima
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 2
>>>> Date: Fri, 10 Jul 2015 15:52:23 +0000
>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>>>>          Issue 8
>>>> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> OK so it sounds like you first tried the Windows installer
>>>> (presumably a NREL-provided one such as this:
>>>> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.
>>>> 0.a-w in64.exe), and this most likely worked fine, you just had
>>>> some issues actually *doing* anything with it. This is normal. =)
>>>>
>>>> I recommend you install Git for windows
>>>> (https://msysgit.github.io/), as that will add a little BASH
>>>> emulator in your Windows system. This way you can run most of the
>>>> commands exactly as they appear in most of the tutorials out there
>>>> that are written from a UNIX perspective (as you point out). If you
>>>> run the "Git BASH shell" you will be able to try out all the multi-phase methods, use and generate BSDFs, etc.
>>>> Once you have Git for Windows installed, head over to Andy McNeil's
>>>> tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be
>>>> in the Git program group in the Windows start menu), and get started!
>>>>
>>>> One thing to keep in mind is that when running any commands that
>>>> read/write data (e.g. rcontrib), be sure to use ASCII format rather
>>>> than float. Windows has issues with float data (among many other
>>>> things).
>>>>
>>>> Good luck!
>>>>
>>>> - Rob
>>>>
>>>> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>
>>>>> Hi Robert,
>>>>>
>>>>> My PC is running on Windows 7 Enterprise.
>>>>> Initially, I installed Radiance for Window using its installer but
>>>>> I found that most of the tutorials are provided for pc with Linux
>>>>> and/or Linux-like operating systems; So I had to install try
>>>>> learnix (that did not work) and Ubuntu (also did not work)!
>>>>> Finally, I tried to use Cygwin to run Radiance on Window OS. I
>>>>> could install Cygwin (works fine), Xming (not sure if working) and
>>>>> Radiance (not all its programs are working!).
>>>>>
>>>>> I'm a bit confused as I'm not sure if running Radiance on windows
>>>>> using Cygwin will be enough for carrying my work. For example, can
>>>>> I work out phases methods and generate BSDF data?
>>>>>
>>>>> I wish if you can help me to do that.
>>>>>
>>>>> Many thanks
>>>>> ikrima
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 3
>>>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>        <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi Ikrima,
>>>>>
>>>>> We'll need a bit more info, here. What OS are you on? How are you
>>>>> attempting to install it (using an installer, compiling from
>>>>> source, or what)? What happens when you try??
>>>>>
>>>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi all,
>>>>>>
>>>>>> After one a few weeks of trying, I could not manage to install
>>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>>
>>>>>> Regards
>>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and
>>>> immediately delete it.
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions
>>>>> expressed by the author of this email do not necessarily reflect
>>>>> the views of the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 3
>>>> Date: Fri, 10 Jul 2015 17:34:30 +0100
>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> Subject: [Radiance-general] Modelling CFS
>>>> Message-ID:
>>>>          <
>>>> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.
>>>> uk>
>>>>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi all,
>>>>
>>>> Thanks Robert and Larrain for your detailed replies, that helped me
>>>> a lot.
>>>>
>>>> I would summarise here what I got form your appreciated replies, as
>>>> following:
>>>> - Radiance is convenient and best of tools to model daylighting due
>>>> to its ray-tracing method.
>>>> - 3 or 5-phases methods are used to facilitate the calculations.
>>>> - Generating BSDF data is also used to facilitate these
>>>> calculations but it is limited to Klems resolution of some CFS.
>>>>
>>>> Initially, I'm not planning to do annual calculations. It's just
>>>> for specific hours of the day and the target is to produce a
>>>> illuminance levels for indoor grid under different CFSs. Hence,
>>>> according to my understanding from Larrain words, I can use either
>>>> 2-phase or Ray-tracing methods. My question is how can I
>>>> draw/define the CFS geometry and Space for these calculations? Is
>>>> it similar to the way use in Ecotect/Radiance calculations?
>>>>
>>>> Regards
>>>> Ikrima
>>>>
>>>>
>>>>   -----Original Message-----
>>>> From: radiance-general-request at radiance-online.org [mailto:
>>>> radiance-general-request at radiance-online.org]
>>>> Sent: 09 July 2015 19:56
>>>> To: radiance-general at radiance-online.org
>>>> Subject: Radiance-general Digest, Vol 137, Issue 8
>>>>
>>>> Send Radiance-general mailing list submissions to
>>>>          radiance-general at radiance-online.org
>>>>
>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> or, via email, send a message with subject or body 'help' to
>>>>          radiance-general-request at radiance-online.org
>>>>
>>>> You can reach the person managing the list at
>>>>          radiance-general-owner at radiance-online.org
>>>>
>>>> When replying, please edit your Subject line so it is more specific
>>>> than
>>>> "Re: Contents of Radiance-general digest..."
>>>>
>>>>
>>>> Today's Topics:
>>>>
>>>>     1. CFS with Radiance (Ikrima Amaireh)
>>>>     2. Could not install Radiance!!! (Ikrima Amaireh)
>>>>     3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>>>>     4. Re: CFS with Radiance (Guglielmetti, Robert)
>>>>     5. Re: CFS with Radiance (Germ?n Molina Larrain)
>>>>
>>>>
>>>> -------------------------------------------------------------------
>>>> --
>>>> -
>>>>
>>>> Message: 1
>>>> Date: Thu, 9 Jul 2015 17:26:29 +0100
>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> Subject: [Radiance-general] CFS with Radiance
>>>> Message-ID:
>>>>          <
>>>> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.
>>>> uk>
>>>>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi G. Larrain,
>>>>
>>>> Thanks for your detailed clarification (below).
>>>>
>>>> I wonder if you kindly can help me toward better understanding and
>>>> answering the following:
>>>>
>>>> We agreed that for daylight modelling of spaces with CFS, Radiance
>>>> is a suitable tool as it applies ray-tracing method. And for annual
>>>> and/or climate-based daylight calculations, as calculation time
>>>> becomes a critical factor, using BSDF data for CFS is highly
>>>> recommended to tackle the task with radiance (using phases methods).
>>>> However:
>>>>
>>>> - if someone needs to perform daylight calculations for given space
>>>> with different CFS (different cases for comparison purposes) to get
>>>> illumination levels for horizontal grid points (and not pictures
>>>> nor scenes), is Radiance still the most convenient option?
>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>
>>>>
>>>> Many thanks for your kind help :)
>>>>
>>>> Regards
>>>> Ikrima
>>>>
>>>>
>>>> "Ikrima,
>>>>
>>>> I am going to try to build the puzzle of CFS, Phases, BSDF and
>>>> calculations.... at least the way I understand it.
>>>>
>>>> *CFS* are those systems that, via interreflection or other light
>>>> transport phenomena, redirect light (or solar radiation). Thus, in
>>>> order to get a reliable result you will have to consider all the
>>>> phenomena involved.
>>>> Then, *common
>>>> simple performance indexes*, such as the miss-used Shading
>>>> Coefficient  and the Aperture Percentage, *always loose a lot of
>>>> information,  trying to reduce all the complex behavior of a CFS to
>>>> one single  number*. We all know that venetian blinds are more
>>>> "transparent" from  certain viewing directions than from others,
>>>> but these performance indexes do not tell you that.
>>>>
>>>> Now... Radiance can certainly perform calculations of spaces with
>>>> CFS using its "common" Ray-tracing. However, this may be slow for
>>>> some purposes (i.e.
>>>> annual simulations and climate-based daylight modelling), and *this
>>>> is why 2, 3 and 5 phase methods have been developed*. The *BSDF*
>>>> representation, I would say, goes in the same direction... It allow
>>>> summarizing all the bounces, reflections, refractions, etc.  that
>>>> occure withing the CFS in a single matrix or tensor.* By using
>>>> BSDFs*, Radiance itself and other tools (i.e. EnergyPlus) can treat
>>>> CFS as blackboxes, avoiding all the opcits within the system. A
>>>> BSDF that uses the Klems Full representation has
>>>> 21,045 numbers (instead of one, such as the Shading Coefficient).
>>>>
>>>> Being said all that, I would not trust a calculation method unless
>>>> it can actually deal with the optics of a CFS that is drawn and/or
>>>> it can use BSDF (or similar) information.
>>>>
>>>> Lets remember that a perforated screen, a venetian blind, a light
>>>> diffusing device can all have a Shading Coefficient of 50%, but all
>>>> of them will behave very differently. I made some presentations
>>>> about this on my previous work (we sold complex Shading Devices),
>>>> trying to promote the use of BSDF in EnergyPlus calculations... the
>>>> differences (in solar heat gains) were more than considerable.
>>>>
>>>> I hope that someone else gives us his/her perspective on this topic...
>>>> there are a lot of concepts that I might be misunderstanding.
>>>>
>>>> Best!"
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the
>>>> addressee and may contain confidential information. If you have
>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in
>>>> this message or in any attachment.  Any views or opinions expressed
>>>> by the author of this email do not necessarily reflect the views of
>>>> the University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage
>>>> your computer system, you are advised to perform your own checks.
>>>> Email communications with the University of Nottingham may be
>>>> monitored as permitted by UK legislation.
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 2
>>>> Date: Thu, 9 Jul 2015 17:38:41 +0100
>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>> Subject: [Radiance-general] Could not install Radiance!!!
>>>> Message-ID:
>>>>          <
>>>> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.
>>>> uk>
>>>>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi all,
>>>>
>>>> After one a few weeks of trying, I could not manage to install
>>>> radiance properly. I am almost disappointed! Please any help?
>>>>
>>>> Regards
>>>> Ikrima
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the
>>>> addressee and may contain confidential information. If you have
>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in
>>>> this message or in any attachment.  Any views or opinions expressed
>>>> by the author of this email do not necessarily reflect the views of
>>>> the University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage
>>>> your computer system, you are advised to perform your own checks.
>>>> Email communications with the University of Nottingham may be
>>>> monitored as permitted by UK legislation.
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 3
>>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Hi Ikrima,
>>>>
>>>> We'll need a bit more info, here. What OS are you on? How are you
>>>> attempting to install it (using an installer, compiling from
>>>> source, or what)? What happens when you try??
>>>>
>>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>
>>>>> Hi all,
>>>>>
>>>>> After one a few weeks of trying, I could not manage to install
>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and
>>>> immediately delete it.
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions
>>>>> expressed by the author of this email do not necessarily reflect
>>>>> the views of the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 4
>>>> Date: Thu, 9 Jul 2015 17:29:39 +0000
>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>> To: "radiance-general at radiance-online.org"
>>>>          <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] CFS with Radiance
>>>> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
>>>> Content-Type: text/plain; charset="us-ascii"
>>>>
>>>> Some very quick replies and clarifications within:
>>>>
>>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>
>>>>> Hi G. Larrain,
>>>>>
>>>>> Thanks for your detailed clarification (below).
>>>>>
>>>>> I wonder if you kindly can help me toward better understanding and
>>>>> answering the following:
>>>>>
>>>>> We agreed that for daylight modelling of spaces with CFS, Radiance
>>>>> is a suitable tool as it applies ray-tracing method. And for
>>>>> annual and/or climate-based daylight calculations, as calculation
>>>>> time becomes a critical factor, using BSDF data for CFS is highly
>>>>> recommended to tackle the task with radiance (using phases methods).
>>>> However:
>>>>
>>>>
>>>> BSDF data in an annual simulation context is generally limited to
>>>> Klems basis BSDF data, which may not be high enough resolution for
>>>> some CFS. And the 5-phase method, which can circumvent this, is not
>>>> necessarily "quick".
>>>> This is all still very much a quandary and the newest daylight
>>>> metrics  have added confusion to all of this, IMO.
>>>>
>>>>
>>>>> - if someone needs to perform daylight calculations for given
>>>>> space with different CFS (different cases for comparison purposes)
>>>>> to get illumination levels for horizontal grid points (and not
>>>>> pictures nor scenes), is Radiance still the most convenient option?
>>>>
>>>> Absolutely. The lack of an image-as-output requirement does not
>>>> change  the fact that ray tracing is a good/convenient algorithm
>>>> option for  daylight simulation problems, especially when dealing
>>>> with diffusing  media and CFS in general. BSDFs allow you to do
>>>> lots of "what-ifs",  relatively quickly, but are beholden to the
>>>> limitations of the resolution of the BSDF.
>>>>
>>>>
>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>
>>>> Is what still needed? BSDF data? Ray tracing? I don't know of other
>>>> lighting simulation tools that can employ the multiphase methods. I
>>>> would say BSDF data is optional for 2-phase, required for 3-phase,
>>>> and optional for 5-phase.
>>>>
>>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>
>>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>> available to you in general. If you have a geometric model of the
>>>> CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>>>> use that in a 3- or 5-phase context. However in an
>>>> annual/climate-based simulation context, you will be stuck with a
>>>> Klems basis BSDF and that will not be very good resolution for a
>>>> lot of CFS; here you may want to use the 5-phase method and stick
>>>> the actual CFS geometry in the building model.
>>>>
>>>> Some things to consider here are the photon map, now a part of
>>>> Radiance proper, or using the 2-phase method where appropriate. By
>>>> 2-phase method I mean generating a daylight matrix for your
>>>> calculation points (or view), and modeling the window material as-is.
>>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>> Radiance "trans". Same for translucent panels.
>>>> With this single daylight matrix, you can throw a vector of sky
>>>> matrices at it and get an annual climate-based result very quickly.
>>>> Problem is, we want to do stuff to the windows, sometimes at the
>>>> time step level, so:
>>>>
>>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>> are  best represented as BSDF, and if most of the redirected flux
>>>> is headed  up and away from the points of interest, a Klems basis
>>>> BSDF is good  enough IMO. In these cases you could use the 3-phase method.
>>>> Problem  is when you have a BSDF for blinds, and you also want to
>>>> simulate the  blinds-up condition (i.e. clear, specularly
>>>> transmitting glass). Using  a Klems basis BSDF for this is
>>>> sub-optimal. You end up needing to do  two annual simulations, one
>>>> as 2-phase for the clear glass scenario,  and again as a 3-phase
>>>> (with a blinds BSDF for the transmission
>>>> matrix) for the blinds down condition. If you have a lot of
>>>> different window groups, your simulation space can get large in a
>>>> hurry. But it's still do-able and you can get results that tell a
>>>> story you simply couldn't tell 5 years ago, informing the newest
>>>> daylight metrics as well.
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> Message: 5
>>>> Date: Thu, 9 Jul 2015 15:56:11 -0300
>>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>>> To: Radiance general discussion
>>>> <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] CFS with Radiance
>>>> Message-ID:
>>>>          <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
>>>> FZL-Q at mail.gmail.com>
>>>> Content-Type: text/plain; charset="utf-8"
>>>>
>>>> I must say that I agree with Rob, however, a short answer that
>>>> might help.
>>>>
>>>> For evaluating illuminance levels in a space with different CFS
>>>> you, strictly speaking, DO NOT HAVE TO do anything. You may choose
>>>> between different methods that have some pros and cons.
>>>>
>>>>
>>>> *ray-tracing*
>>>>
>>>>     - Requires ray-tracing for each time-step and each system,
>>>> which is slow
>>>>     (*four systems simulated annualy in an hourly basis --> 4*8760
>>>> =
>>>> 35,040
>>>>     simulations*.)
>>>>     - As accurate as it gets, if options are defined correctly.
>>>>
>>>>
>>>> *2 phase method*
>>>>
>>>>     - Do not need the BSDF
>>>>     - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>>>>     simulations*)
>>>>     - After ray-tracing, annual simulation is fast.
>>>>
>>>> *3-phase method:*
>>>>
>>>>     - Requires BSDF data in KLEMS basis, which may be slow to compute,
>>>>     unless it can be exported from WINDOW, for example, or such data has
>>>>     already been calculated (the idea is to make a database, I think).
>>>>     - Does not really work well for specular systems (Klems patches
>>>> are too
>>>>     big)
>>>>     - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>>>>     simulations*)
>>>>     - After ray-tracing and BSDF calculation, annual simulation is
>>>> fast
>>>>
>>>> *5-phase method:*
>>>>
>>>>     - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format,
>>>> which
>>>>     may be slow to compute, unless it can be exported from WINDOW,
>>>> for example,
>>>>     or such data has already been calculated (the idea is to make a
>>>> database, I
>>>>     think).
>>>>     - Works well for specular systems
>>>>     - Requires 4 ray-tracing runs + 1 for each system, always (*4
>>>> systems
>>>>     --> 4+1 = 5 ray-tracing simulations*)
>>>>     - Hard to code...?
>>>>     - After ray-tracing and BSDF calculation, annual simulation is
>>>> fast
>>>>
>>>>
>>>> I would not say there is a recipe. If you have to choose between 1
>>>> or
>>>> 2 CFSs, maybe it is faster to just draw them and use the 2 phase
>>>> method (or ray-tracing if an annual simulaton is not required). On
>>>> the contrary, if you are going to test 10 different CFSs, 3 and 5
>>>> phases may make sense, since you reduce the expensive ray-tracing
>>>> calculations... However, this will also depend on weather you have
>>>> the BSDF data AND/OR if it makes sense to calculate it and store it
>>>> AND/OR if you intend to simulate a dynamically controlled CFS.
>>>>
>>>> Best!
>>>>
>>>> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
>>>> Robert.Guglielmetti at nrel.gov>:
>>>>
>>>>> Some very quick replies and clarifications within:
>>>>>
>>>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi G. Larrain,
>>>>>>
>>>>>> Thanks for your detailed clarification (below).
>>>>>>
>>>>>> I wonder if you kindly can help me toward better understanding
>>>>>> and answering the following:
>>>>>>
>>>>>> We agreed that for daylight modelling of spaces with CFS,
>>>>>> Radiance is a suitable tool as it applies ray-tracing method. And
>>>>>> for annual and/or climate-based daylight calculations, as
>>>>>> calculation time becomes a critical factor, using BSDF data for
>>>>>> CFS is highly recommended to tackle the task with radiance (using phases methods).
>>>> However:
>>>>>
>>>>> BSDF data in an annual simulation context is generally limited to
>>>>> Klems basis BSDF data, which may not be high enough resolution for
>>>>> some CFS. And the 5-phase method, which can circumvent this, is
>>>>> not
>>>> necessarily "quick".
>>>>> This is all still very much a quandary and the newest daylight
>>>>> metrics have added confusion to all of this, IMO.
>>>>>
>>>>>
>>>>>> - if someone needs to perform daylight calculations for given
>>>>>> space with different CFS (different cases for comparison
>>>>>> purposes) to get illumination levels for horizontal grid points
>>>>>> (and not pictures nor scenes), is Radiance still the most convenient option?
>>>>>
>>>>> Absolutely. The lack of an image-as-output requirement does not
>>>>> change the fact that ray tracing is a good/convenient algorithm
>>>>> option for daylight simulation problems, especially when dealing
>>>>> with diffusing media and CFS in general. BSDFs allow you to do
>>>>> lots of "what-ifs", relatively quickly, but are beholden to the
>>>>> limitations of the
>>>> resolution of the BSDF.
>>>>>
>>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>>
>>>>> Is what still needed? BSDF data? Ray tracing? I don't know of
>>>>> other lighting simulation tools that can employ the multiphase
>>>>> methods. I would say BSDF data is optional for 2-phase, required
>>>>> for 3-phase, and optional for 5-phase.
>>>>>
>>>>>> - most importantly, is it still needed to get BSDF data for CFS
>>>>>> or just can model the detailed CFS in Radiance (and, if yes,
>>>>>> how?)
>>>>>
>>>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>>> available to you in general. If you have a geometric model of the
>>>>> CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>>>>> use that in a 3- or 5-phase context. However in an
>>>>> annual/climate-based simulation context, you will be stuck with a
>>>>> Klems basis BSDF and that will not be very good resolution for a
>>>>> lot of CFS; here you may want to use the 5-phase method and stick
>>>>> the actual CFS geometry in the
>>>> building model.
>>>>> Some things to consider here are the photon map, now a part of
>>>>> Radiance proper, or using the 2-phase method where appropriate. By
>>>>> 2-phase method I mean generating a daylight matrix for your
>>>>> calculation points (or view), and modeling the window material as-is.
>>>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>>> Radiance
>>>> "trans". Same for translucent panels.
>>>>> With this single daylight matrix, you can throw a vector of sky
>>>>> matrices at it and get an annual climate-based result very quickly.
>>>>> Problem is, we want to do stuff to the windows, sometimes at the
>>>>> time
>>>> step level, so:
>>>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>>> are best represented as BSDF, and if most of the redirected flux
>>>>> is headed up and away from the points of interest, a Klems basis
>>>>> BSDF is good enough IMO. In these cases you could use the 3-phase method.
>>>>> Problem is when you have a BSDF for blinds, and you also want to
>>>>> simulate the blinds-up condition (i.e. clear, specularly
>>>>> transmitting glass). Using a Klems basis BSDF for this is
>>>>> sub-optimal. You end up needing to do two annual simulations, one
>>>>> as 2-phase for the clear glass scenario, and again as a 3-phase
>>>>> (with a blinds BSDF for the transmission
>>>>> matrix) for the blinds down condition. If you have a lot of
>>>>> different window groups, your simulation space can get large in a
>>>>> hurry. But it's still do-able and you can get results that tell a
>>>>> story you simply couldn't tell 5 years ago, informing the newest
>>>>> daylight metrics
>>>> as well.
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>> -------------- next part -------------- An HTML attachment was
>>>> scrubbed...
>>>> URL: <
>>>> http://www.radiance-online.org/pipermail/radiance-general/attachmen
>>>> ts
>>>> /
>>>> 20150709/cfbdd4da/attachment.html
>>>> ------------------------------
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> End of Radiance-general Digest, Vol 137, Issue 8
>>>> ************************************************
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the
>>>> addressee and may contain confidential information. If you have
>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in
>>>> this message or in any attachment.  Any views or opinions expressed
>>>> by the author of this email do not necessarily reflect the views of
>>>> the University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage
>>>> your computer system, you are advised to perform your own checks.
>>>> Email communications with the University of Nottingham may be
>>>> monitored as permitted by UK legislation.
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> End of Radiance-general Digest, Vol 137, Issue 9
>>>> ************************************************
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the
>>>> addressee and may contain confidential information. If you have
>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in
>>>> this message or in any attachment.  Any views or opinions expressed
>>>> by the author of this email do not necessarily reflect the views of
>>>> the University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage
>>>> your computer system, you are advised to perform your own checks.
>>>> Email communications with the University of Nottingham may be
>>>> monitored as permitted by UK legislation.
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> End of Radiance-general Digest, Vol 137, Issue 12
>>>> *************************************************
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the
>>>> addressee and may contain confidential information. If you have
>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in
>>>> this message or in any attachment.  Any views or opinions expressed
>>>> by the author of this email do not necessarily reflect the views of
>>>> the University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage
>>>> your computer system, you are advised to perform your own checks.
>>>> Email communications with the University of Nottingham may be
>>>> monitored as permitted by UK legislation.
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>> -------------- next part -------------- An HTML attachment was
>>> scrubbed...
>>> URL:
>>> <http://www.radiance-online.org/pipermail/radiance-general/attachmen
>>> ts/
>>> 201
>>> 50810/959f6779/attachment.html>
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> End of Radiance-general Digest, Vol 138, Issue 12
>>> *************************************************
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the
>>> addressee and may contain confidential information. If you have
>>> received this message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in
>>> this message or in any attachment.  Any views or opinions expressed
>>> by the author of this email do not necessarily reflect the views of
>>> the University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage
>>> your computer system, you are advised to perform your own checks.
>>> Email communications with the University of Nottingham may be
>>> monitored as permitted by UK legislation.
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> End of Radiance-general Digest, Vol 138, Issue 15
>> *************************************************
>>
>>
>>
>>
>> This message and any attachment are intended solely for the addressee
>> and may contain confidential information. If you have received this
>> message in error, please send it back to me, and immediately delete it.
>>
>> Please do not use, copy or disclose the information contained in this
>> message or in any attachment.  Any views or opinions expressed by the
>> author of this email do not necessarily reflect the views of the
>> University of Nottingham.
>>
>> This message has been checked for viruses but the contents of an
>> attachment may still contain software viruses which could damage your
>> computer system, you are advised to perform your own checks. Email
>> communications with the University of Nottingham may be monitored as
>> permitted by UK legislation.
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150811/db767220/attachment.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 138, Issue 22
*************************************************




This message and any attachment are intended solely for the addressee
and may contain confidential information. If you have received this
message in error, please send it back to me, and immediately delete it. 

Please do not use, copy or disclose the information contained in this
message or in any attachment.  Any views or opinions expressed by the
author of this email do not necessarily reflect the views of the
University of Nottingham.

This message has been checked for viruses but the contents of an
attachment may still contain software viruses which could damage your
computer system, you are advised to perform your own checks. Email
communications with the University of Nottingham may be monitored as
permitted by UK legislation.



From jan.wienold at epfl.ch  Wed Aug 12 02:39:41 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Wed, 12 Aug 2015 11:39:41 +0200
Subject: [Radiance-general] help pfilt and low values dgp
In-Reply-To: <55CA15D2.9060209@jakubiec.net>
References: <CAHgS54fXM9UeHCXdgT7inVz=n9XFPTBc2kmZKTYKksfOxHngtw@mail.gmail.com>
	<55439897.7050805@epfl.ch>
	<CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>
	<55CA15D2.9060209@jakubiec.net>
Message-ID: <55CB145D.5040906@epfl.ch>

Hi Jasper,
hi Alstan,

I guess there are several issues in that case. First of all, as Alstan 
wrote, you should crop the image and provide the correct lens 
specification to evalglare. Be aware that editing the header could be 
dangerous, because sometimes editors add strange characters or you don't 
see tabs in the header with marks the view string there as "invalid" . 
In case the header is interpreted "wrong" in evalglare, the results 
could be really random and could differ for more than 100% from the 
right ones (e.g. the calculation of the vertical illuminance, see 
presentation on the Radiance workshop in 2012). The header treatment is 
much more robust since the evalglare version 1.08, but still the user 
should take care of providing a correct header. evalglare is relying on 
a correct radiance header. To be on the safe side, you should always use 
the command option to provide the correct view option to evalglare.
Also you should make sure, that you use a view type which really 
corresponds to your lens. If your real lens is a hemispherical fish eye 
and you provide  -vta as view string, the angles and solid angles are 
calculated wrong in evalglare and you get wrong results. So make sure 
that you use -vta only if your lens is a angular fish eye.
And please don't use the -1 option in evalglare!!! This is a special 
(undocumented) option to get fast results on images calculated without 
ambient calculations. If you use it for normal images, the glare sources 
might not detected correctly and you could get big differences. It is 
working mostly properly in images with large black areas (-ab 0).
Since the -1 option is not robust for normal images, this option is 
undocumented. There exist also other undocumented options since 2009 for 
hdr treatment(e.g. pixel overflow correction, image fillup when 
ccd-array is smaller than the projected image...), but these options are 
by purpose undocumented because they should be used only in special 
cases and can cause wrong results when not used properly.

If I look at your image, I guess your calibration is not correct. The 
sun has a luminance of 2e10 cd/m2. In case of low transmittance glazing 
you still have a luminance of  Xe9 cd/m2, lets say at least 1e9cd/m2, 
which is factor 200000 higher than you measured!!! And be aware you you 
might have to deal with blooming  effects when you have a pixel overflow 
(especially when looking into the sun). Not sure about your camera 
setting, but if you still have an overflow for the shortest exposure, 
you should think of adding a neutral grey filter to reduce the overall 
transmittance to the ccd.

Finally I can't reproduce the 0 output of evalglare. I used your image 
and used as well the 2500lux as input (even if the image is not cropped 
correctly and the view string is wrong). See here:
/evalglare -i 2500 pmar_sin_03.hdr//
//Notice: Low brightness scene. Vertical illuminance less than 380 lux! 
dgp might underestimate glare sources//
//dgp,dgi,ugr,vcp,cgi,Lveil: 0.311778 18.132195 21.670120 44.798004 
27.925421 58.052605 //

/But I always get an non-0 result, I never experienced this before. I 
tried the linux ,the mac and also the windows version with your image - 
it didn't happen. So which version are you using? Which operating 
system? (type evalglare -v to find out)

@Alstan: Can you provide me another example where this happens as well? 
Which version are you using? Which operating system?

A zero value should never appear, except your image is completely black.

Best,
Jan



Am 8/11/15 um 5:33 PM schrieb J. Alstan Jakubiec:
> Hi Jasper,
>
> This is one of the tricky aspects of doing glare analysis with your 
> own HDR images. A couple of pointers are below,
>
>   * You will need to crop your image to a square aspect about the
>     image center using the pcompos
>     <http://radsite.lbl.gov/radiance/man_html/pcompos.1.html> tool.
>     There was a helpful discussion on maintaining image exposure
>     values while doing this here
>     <http://www.radiance-online.org/pipermail/radiance-general/2011-March/007701.html>.
>   * The -vv and -vh parameters are just best guesses according the HDR
>     generation software. Once you have cropped the image, you will
>     want to open the resulting HDR in a text editor and manually
>     change the header 'VIEW' field to include -vta -vv 180 -vh 180.
>     You may also specify them via the command line at this point, as
>     you have done. I like to keep it associated with the image.
>   * After that, unless I am forgetting something (others can chime
>     in), you are ready to run evalglare. I would run it with the -d
>     flag, which will report a lot of details. Most usefully, it
>     reports illuminance as derived from the image, which you can
>     compare to your measured Ev value to check the validity of the
>     HDR. If your HDR is well-calibrated, not inputting the measured
>     illuminance value should be perfectly accurate.
>   * I suspect that inputting measured illuminance is somewhat broken
>     in the current version of evalglare as I have the same problem
>     that you do. One option is to use the -1 option to evalglare,
>     which will return only a single DGP value. It seems to avoid this
>     error.
>     > evalglare -1 -i 2500 image.hdr
>
> By the way, to avoid some of this cropping and exposure value pain, I 
> use an image-processing tool (like PIL for Python) these days that can 
> maintain EXIF data while cropping the source jpeg files. Though 
> perhaps the cure is worse than the disease in this case..
>
> Best,
> Alstan
>
> On 8/11/2015 11:08 PM, Jasper Overduin wrote:
>> Dear all,
>>
>> I have changed my lens to one with 180 circular view to do a contrast 
>> analysis (hdrscope) and meanwhile the glare analysis in evalglare. If 
>> i use the commands in evalglare getinfo i get the (HDR composed with 
>> photosphere on a mac, calibrated with luminance pistol) i get a value 
>> for the lens -vv and -vh which is not over 100, with a lens of 180. I 
>> can imagine that the photo ratio and the lens are not the same and 
>> that causes this problem. But when I enter the external measured Ev, 
>> the value the dgp goes somehow to zero. The fact that the gdp is zero 
>> with a maximum luminance of 5600 cd/m2 and Ev of 2500 lux makes me a 
>> bit suspicious. How accurate is the result of the dgp without 
>> external vertical lux? is it possible to use this value?
>>
>> hdr files and printscreens of evalglare 
>> https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0 
>>
>>
>> Greetings Jasper
>>
>>
>> *
>> *
>> *Jasper Overduin*
>> MSc. Building Technology graduate student at Delft University of 
>> Technology
>>
>>
>> *S* Groenhoevelaan 3
>> *P*2343 BP Oegstgeest
>> *T* +31 6 15 64 48 56 (NL)
>> *T* +56 9 51 11 76 48 (CL)
>> *E *overduin.jasper at gmail.com <mailto:overduin.jasper at gmail.com>
>> *Skype *jasper.overduin
>>
>> On 1 May 2015 at 12:15, Jan Wienold <jan.wienold at epfl.ch 
>> <mailto:jan.wienold at epfl.ch>> wrote:
>>
>>     Hi Jasper,
>>
>>     I briefly looked at your image - for sure you get a low DGP value
>>     if your illuminance at camera (or eye) level is only about
>>     300lux... It is not the matter of the fish eye lens it is a
>>     matter of your lighting condition.
>>     When I remember correctly, for the experiments I did for my PhD,
>>     the people adjusted the blinds in a way, that they had 2500-3000
>>     lux at the eye level and they were less than 20% of them
>>     dissatisfied. So a value of 300 means one order of magnitude less
>>     light at the eye level and a much lower adaptation level.
>>     So I definitely understand the low DGP value in that case. The
>>     images themselves look reasonable, so I don't think there is a
>>     problem in calibration/processing so far (at least not for these
>>     low luminance levels-it might be more tricky to calibrate for the
>>     high luminance values when you get stray-light from the multiple
>>     lenses).
>>
>>     If all your images are like that it means you have a very low
>>     daylight contribution at the place you measure. I'm not sure if
>>     DGP is then the right way to measure glare in that case - as I
>>     wrote it is made more for the daylight oriented workplace with
>>     higher levels and also to take into account very high luminances
>>     (e.g. sun or specular reflections of the sun). DGP might be
>>     modified in future, but these experiments are just starting.
>>
>>     Jan
>>
>>
>>
>>
>>
>>
>>     Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>>>
>>>         Thank you for the fast reply. We are still having some
>>>         problems with the outcome of Evalglare. With an external
>>>         luxometre we have done some tests now. The DGP is still very
>>>         low or zero. It seems that in almost all the case the DGP is
>>>         low. In literature we read that values above 20% are normal.
>>>         What do you think? is the data much better if we use a full
>>>         180 degree lens?
>>>
>>>     .hdr file https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
>>>     print screen cmd
>>>     https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
>>>     test.pic https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>>>
>>>         Greetings Jasper
>>>
>>>
>>>
>>>         *
>>>         *
>>>         *Jasper Overduin*
>>>         MSc Building Technology graduate student at Delft University
>>>         of Technology*
>>>         *
>>>
>>>         *S* Groenhoevelaan 3
>>>         *P*2343 BP Oegstgeest
>>>         *T* +31 6 15 64 48 56 (NL)
>>>         *T* +56 9 51 11 76 48 (CL)
>>>         *E *overduin.jasper at gmail.com <mailto:overduin.jasper at gmail.com>
>>>         *Skype *jasper.overduin
>>>
>>>         On 30 April 2015 at 13:55, Jan Wienold <jan.wienold at epfl.ch
>>>         <mailto:jan.wienold at epfl.ch>> wrote:
>>>
>>>             Hi Jasper,
>>>
>>>             why are you using -vth -vh 140 -vv 80 when in your
>>>             header of the HDR image the view is specified as  -vtv
>>>             -vh 98.797409 -vv 75.402067 ?
>>>             Manipulating the lense type is really dangerous - in
>>>             that case you change from a perspective view to a
>>>             hemispherical fish eye view, without changing the image!!
>>>
>>>             If I apply evalglare for your image I get 0.17 as DGP
>>>             (which is still very low, but you have only 2000cd/m2 as
>>>             maximum value, so this can be expected). Be aware, that
>>>             DGP accounts only for glare from a high amount of
>>>             daylight and/or spots of extreme luminances
>>>             (>50000cd/m2), but not for contrasted glare between task
>>>             (e.g. Monitor) and immediate surroundings for lower
>>>             adaptation levels. This is subject of current research
>>>             (also here at EPFL) and there might be an extension of
>>>             the DGP in future, depending on the outcome of new
>>>             experiments.
>>>
>>>             Back to the lens-type:
>>>             It is extremely important, that the right view type is
>>>             given to evalglare, otherwise ALL calculated values (it
>>>             doesn't matter if this is evalglare or findglare) are
>>>             wrong. These errors could be huge, more than 100% for
>>>             calculating the illuminance out of a 180 degree image.
>>>
>>>             If you manipulate an image by pcomb, in general the view
>>>             is marked as "invalid" in the header, because with that
>>>             tool you could manipulate the image in a way, that the
>>>             original view is not valid any more. This is why from
>>>             evalglare version 1.0 on a check on the header was
>>>             included, because many people were creating wrong
>>>             headers without knowing it and then evalglare was
>>>             calculating wrong values, when the header was invalid.
>>>
>>>             In addition for calculating the DGP it is important to
>>>             have the illuminance at camera level. evalglare
>>>             calculates this value out of the image. But if the image
>>>             does not cover 180 degree, then the calculated value for
>>>             the illuminance is too low. For that reason, the -i
>>>             option was included, so you can provide the illuminance
>>>             to evalglare (when you measure it with an illuminance
>>>             sensor).
>>>
>>>             So in your case, you should measure the illuminance just
>>>             besides the lens.
>>>             Then (in case this is the right lens description) you
>>>             should use
>>>             evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067
>>>             IMAGE_NAME
>>>             or better, if your task is always at the same place:
>>>             evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067 
>>>             -T 395 230 .6 -c CHECK_FILE_PICTURE IMAGE_NAME
>>>
>>>             good luck!
>>>
>>>             Jan
>>>
>>>
>>>
>>>             Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>>             Somehow cant use the command pfilt or change the pcomb,
>>>>             does this has to do with the program Radiance? I have
>>>>             installed the version of windows from the site, with
>>>>             evalglare v1.11windows . The problem is that I have
>>>>             composed a .hdr (out of 7 jpg on a mac) and after using
>>>>             the command c:/HDRI>evalglare -vth -vh 140 -vv 80
>>>>             image.hdr all the dgp results are really low, less than
>>>>             5%. The problem can be in the .hdr (calibrated as well)
>>>>             or is in the way evalglare is not working as it shoot
>>>>             on my computer.
>>>>
>>>>
>>>>             *.hdr file* (post-it is calibration point 167,98)
>>>>             https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>>>             *images* original
>>>>             https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>>>             *command printscreen*
>>>>             https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>>
>>>>
>>>>             Need the help!
>>>>
>>>>             Greetings Jacobus
>>>>
>>>>             *
>>>>             *
>>>>             *Jasper Overduin*
>>>>             MSc Building Technology graduate student at Delft
>>>>             University of Technology*
>>>>             *
>>>>
>>>>             *S* Groenhoevelaan 3
>>>>             *P*2343 BP Oegstgeest
>>>>             *T* +31 6 15 64 48 56 (NL)
>>>>             *T* +56 9 51 11 76 48 (CL)
>>>>             *E *overduin.jasper at gmail.com
>>>>             <mailto:overduin.jasper at gmail.com>
>>>>             *Skype *jasper.overduin
>>>>
>>>>
>>>>             _______________________________________________
>>>>             Radiance-general mailing list
>>>>             Radiance-general at radiance-online.org
>>>>             <mailto:Radiance-general at radiance-online.org>
>>>>             http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>             -- 
>>>             Dr.-Ing.  Jan Wienold
>>>             Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>             EPFL ENAC IA LIPID
>>>
>>>             http://people.epfl.ch/jan.wienold
>>>             LE 1 111 (Office)
>>>             Phone    +41 21 69 30849
>>>
>>>
>>>             _______________________________________________
>>>             Radiance-general mailing list
>>>             Radiance-general at radiance-online.org
>>>             <mailto:Radiance-general at radiance-online.org>
>>>             http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>>
>>>
>>>     _______________________________________________
>>>     Radiance-general mailing list
>>>     Radiance-general at radiance-online.org
>>>     <mailto:Radiance-general at radiance-online.org>
>>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>     -- 
>>     Dr.-Ing.  Jan Wienold
>>     Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>     EPFL ENAC IA LIPID
>>
>>     http://people.epfl.ch/jan.wienold
>>     LE 1 111 (Office)
>>     Phone    +41 21 69 30849
>>
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org
>>     <mailto:Radiance-general at radiance-online.org>
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150812/9bdadabb/attachment-0001.html>

From jan.wienold at epfl.ch  Wed Aug 12 09:42:49 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Wed, 12 Aug 2015 18:42:49 +0200
Subject: [Radiance-general] help pfilt and low values dgp
In-Reply-To: <55CA15D2.9060209@jakubiec.net>
References: <CAHgS54fXM9UeHCXdgT7inVz=n9XFPTBc2kmZKTYKksfOxHngtw@mail.gmail.com>
	<55439897.7050805@epfl.ch>
	<CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>
	<55CA15D2.9060209@jakubiec.net>
Message-ID: <55CB7789.6000708@epfl.ch>

Hi Jasper and Alstan,

I just found this in the revision-logging of the evalglare source 
code(it is such a long time ago that I could not remember...) :

/* evalglare.c, v1.11 2013/01/17  wienold
    - fix output bug of dgp, when using -i or -I
    */

are you using an older version of evalglare than v1.11 which is from 
January 2013??

best,

Jan

Am 8/11/15 um 5:33 PM schrieb J. Alstan Jakubiec:
> Hi Jasper,
>
> This is one of the tricky aspects of doing glare analysis with your 
> own HDR images. A couple of pointers are below,
>
>   * You will need to crop your image to a square aspect about the
>     image center using the pcompos
>     <http://radsite.lbl.gov/radiance/man_html/pcompos.1.html> tool.
>     There was a helpful discussion on maintaining image exposure
>     values while doing this here
>     <http://www.radiance-online.org/pipermail/radiance-general/2011-March/007701.html>.
>   * The -vv and -vh parameters are just best guesses according the HDR
>     generation software. Once you have cropped the image, you will
>     want to open the resulting HDR in a text editor and manually
>     change the header 'VIEW' field to include -vta -vv 180 -vh 180.
>     You may also specify them via the command line at this point, as
>     you have done. I like to keep it associated with the image.
>   * After that, unless I am forgetting something (others can chime
>     in), you are ready to run evalglare. I would run it with the -d
>     flag, which will report a lot of details. Most usefully, it
>     reports illuminance as derived from the image, which you can
>     compare to your measured Ev value to check the validity of the
>     HDR. If your HDR is well-calibrated, not inputting the measured
>     illuminance value should be perfectly accurate.
>   * I suspect that inputting measured illuminance is somewhat broken
>     in the current version of evalglare as I have the same problem
>     that you do. One option is to use the -1 option to evalglare,
>     which will return only a single DGP value. It seems to avoid this
>     error.
>     > evalglare -1 -i 2500 image.hdr
>
> By the way, to avoid some of this cropping and exposure value pain, I 
> use an image-processing tool (like PIL for Python) these days that can 
> maintain EXIF data while cropping the source jpeg files. Though 
> perhaps the cure is worse than the disease in this case..
>
> Best,
> Alstan
>
> On 8/11/2015 11:08 PM, Jasper Overduin wrote:
>> Dear all,
>>
>> I have changed my lens to one with 180 circular view to do a contrast 
>> analysis (hdrscope) and meanwhile the glare analysis in evalglare. If 
>> i use the commands in evalglare getinfo i get the (HDR composed with 
>> photosphere on a mac, calibrated with luminance pistol) i get a value 
>> for the lens -vv and -vh which is not over 100, with a lens of 180. I 
>> can imagine that the photo ratio and the lens are not the same and 
>> that causes this problem. But when I enter the external measured Ev, 
>> the value the dgp goes somehow to zero. The fact that the gdp is zero 
>> with a maximum luminance of 5600 cd/m2 and Ev of 2500 lux makes me a 
>> bit suspicious. How accurate is the result of the dgp without 
>> external vertical lux? is it possible to use this value?
>>
>> hdr files and printscreens of evalglare 
>> https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0 
>>
>>
>> Greetings Jasper
>>
>>
>> *
>> *
>> *Jasper Overduin*
>> MSc. Building Technology graduate student at Delft University of 
>> Technology
>>
>>
>> *S* Groenhoevelaan 3
>> *P*2343 BP Oegstgeest
>> *T* +31 6 15 64 48 56 (NL)
>> *T* +56 9 51 11 76 48 (CL)
>> *E *overduin.jasper at gmail.com <mailto:overduin.jasper at gmail.com>
>> *Skype *jasper.overduin
>>
>> On 1 May 2015 at 12:15, Jan Wienold <jan.wienold at epfl.ch 
>> <mailto:jan.wienold at epfl.ch>> wrote:
>>
>>     Hi Jasper,
>>
>>     I briefly looked at your image - for sure you get a low DGP value
>>     if your illuminance at camera (or eye) level is only about
>>     300lux... It is not the matter of the fish eye lens it is a
>>     matter of your lighting condition.
>>     When I remember correctly, for the experiments I did for my PhD,
>>     the people adjusted the blinds in a way, that they had 2500-3000
>>     lux at the eye level and they were less than 20% of them
>>     dissatisfied. So a value of 300 means one order of magnitude less
>>     light at the eye level and a much lower adaptation level.
>>     So I definitely understand the low DGP value in that case. The
>>     images themselves look reasonable, so I don't think there is a
>>     problem in calibration/processing so far (at least not for these
>>     low luminance levels-it might be more tricky to calibrate for the
>>     high luminance values when you get stray-light from the multiple
>>     lenses).
>>
>>     If all your images are like that it means you have a very low
>>     daylight contribution at the place you measure. I'm not sure if
>>     DGP is then the right way to measure glare in that case - as I
>>     wrote it is made more for the daylight oriented workplace with
>>     higher levels and also to take into account very high luminances
>>     (e.g. sun or specular reflections of the sun). DGP might be
>>     modified in future, but these experiments are just starting.
>>
>>     Jan
>>
>>
>>
>>
>>
>>
>>     Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>>>
>>>         Thank you for the fast reply. We are still having some
>>>         problems with the outcome of Evalglare. With an external
>>>         luxometre we have done some tests now. The DGP is still very
>>>         low or zero. It seems that in almost all the case the DGP is
>>>         low. In literature we read that values above 20% are normal.
>>>         What do you think? is the data much better if we use a full
>>>         180 degree lens?
>>>
>>>     .hdr file https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
>>>     print screen cmd
>>>     https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
>>>     test.pic https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>>>
>>>         Greetings Jasper
>>>
>>>
>>>
>>>         *
>>>         *
>>>         *Jasper Overduin*
>>>         MSc Building Technology graduate student at Delft University
>>>         of Technology*
>>>         *
>>>
>>>         *S* Groenhoevelaan 3
>>>         *P*2343 BP Oegstgeest
>>>         *T* +31 6 15 64 48 56 (NL)
>>>         *T* +56 9 51 11 76 48 (CL)
>>>         *E *overduin.jasper at gmail.com <mailto:overduin.jasper at gmail.com>
>>>         *Skype *jasper.overduin
>>>
>>>         On 30 April 2015 at 13:55, Jan Wienold <jan.wienold at epfl.ch
>>>         <mailto:jan.wienold at epfl.ch>> wrote:
>>>
>>>             Hi Jasper,
>>>
>>>             why are you using -vth -vh 140 -vv 80 when in your
>>>             header of the HDR image the view is specified as  -vtv
>>>             -vh 98.797409 -vv 75.402067 ?
>>>             Manipulating the lense type is really dangerous - in
>>>             that case you change from a perspective view to a
>>>             hemispherical fish eye view, without changing the image!!
>>>
>>>             If I apply evalglare for your image I get 0.17 as DGP
>>>             (which is still very low, but you have only 2000cd/m2 as
>>>             maximum value, so this can be expected). Be aware, that
>>>             DGP accounts only for glare from a high amount of
>>>             daylight and/or spots of extreme luminances
>>>             (>50000cd/m2), but not for contrasted glare between task
>>>             (e.g. Monitor) and immediate surroundings for lower
>>>             adaptation levels. This is subject of current research
>>>             (also here at EPFL) and there might be an extension of
>>>             the DGP in future, depending on the outcome of new
>>>             experiments.
>>>
>>>             Back to the lens-type:
>>>             It is extremely important, that the right view type is
>>>             given to evalglare, otherwise ALL calculated values (it
>>>             doesn't matter if this is evalglare or findglare) are
>>>             wrong. These errors could be huge, more than 100% for
>>>             calculating the illuminance out of a 180 degree image.
>>>
>>>             If you manipulate an image by pcomb, in general the view
>>>             is marked as "invalid" in the header, because with that
>>>             tool you could manipulate the image in a way, that the
>>>             original view is not valid any more. This is why from
>>>             evalglare version 1.0 on a check on the header was
>>>             included, because many people were creating wrong
>>>             headers without knowing it and then evalglare was
>>>             calculating wrong values, when the header was invalid.
>>>
>>>             In addition for calculating the DGP it is important to
>>>             have the illuminance at camera level. evalglare
>>>             calculates this value out of the image. But if the image
>>>             does not cover 180 degree, then the calculated value for
>>>             the illuminance is too low. For that reason, the -i
>>>             option was included, so you can provide the illuminance
>>>             to evalglare (when you measure it with an illuminance
>>>             sensor).
>>>
>>>             So in your case, you should measure the illuminance just
>>>             besides the lens.
>>>             Then (in case this is the right lens description) you
>>>             should use
>>>             evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067
>>>             IMAGE_NAME
>>>             or better, if your task is always at the same place:
>>>             evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067 
>>>             -T 395 230 .6 -c CHECK_FILE_PICTURE IMAGE_NAME
>>>
>>>             good luck!
>>>
>>>             Jan
>>>
>>>
>>>
>>>             Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>>             Somehow cant use the command pfilt or change the pcomb,
>>>>             does this has to do with the program Radiance? I have
>>>>             installed the version of windows from the site, with
>>>>             evalglare v1.11windows . The problem is that I have
>>>>             composed a .hdr (out of 7 jpg on a mac) and after using
>>>>             the command c:/HDRI>evalglare -vth -vh 140 -vv 80
>>>>             image.hdr all the dgp results are really low, less than
>>>>             5%. The problem can be in the .hdr (calibrated as well)
>>>>             or is in the way evalglare is not working as it shoot
>>>>             on my computer.
>>>>
>>>>
>>>>             *.hdr file* (post-it is calibration point 167,98)
>>>>             https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>>>             *images* original
>>>>             https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>>>             *command printscreen*
>>>>             https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>>
>>>>
>>>>             Need the help!
>>>>
>>>>             Greetings Jacobus
>>>>
>>>>             *
>>>>             *
>>>>             *Jasper Overduin*
>>>>             MSc Building Technology graduate student at Delft
>>>>             University of Technology*
>>>>             *
>>>>
>>>>             *S* Groenhoevelaan 3
>>>>             *P*2343 BP Oegstgeest
>>>>             *T* +31 6 15 64 48 56 (NL)
>>>>             *T* +56 9 51 11 76 48 (CL)
>>>>             *E *overduin.jasper at gmail.com
>>>>             <mailto:overduin.jasper at gmail.com>
>>>>             *Skype *jasper.overduin
>>>>
>>>>
>>>>             _______________________________________________
>>>>             Radiance-general mailing list
>>>>             Radiance-general at radiance-online.org
>>>>             <mailto:Radiance-general at radiance-online.org>
>>>>             http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>             -- 
>>>             Dr.-Ing.  Jan Wienold
>>>             Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>             EPFL ENAC IA LIPID
>>>
>>>             http://people.epfl.ch/jan.wienold
>>>             LE 1 111 (Office)
>>>             Phone    +41 21 69 30849
>>>
>>>
>>>             _______________________________________________
>>>             Radiance-general mailing list
>>>             Radiance-general at radiance-online.org
>>>             <mailto:Radiance-general at radiance-online.org>
>>>             http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>>
>>>
>>>     _______________________________________________
>>>     Radiance-general mailing list
>>>     Radiance-general at radiance-online.org
>>>     <mailto:Radiance-general at radiance-online.org>
>>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>     -- 
>>     Dr.-Ing.  Jan Wienold
>>     Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>     EPFL ENAC IA LIPID
>>
>>     http://people.epfl.ch/jan.wienold
>>     LE 1 111 (Office)
>>     Phone    +41 21 69 30849
>>
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org
>>     <mailto:Radiance-general at radiance-online.org>
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150812/5691488f/attachment-0001.html>

From alstan at jakubiec.net  Wed Aug 12 08:05:08 2015
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Wed, 12 Aug 2015 23:05:08 +0800
Subject: [Radiance-general] help pfilt and low values dgp
In-Reply-To: <55CB145D.5040906@epfl.ch>
References: <CAHgS54fXM9UeHCXdgT7inVz=n9XFPTBc2kmZKTYKksfOxHngtw@mail.gmail.com>	<55439897.7050805@epfl.ch>	<CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>	<55CA15D2.9060209@jakubiec.net>
	<55CB145D.5040906@epfl.ch>
Message-ID: <55CB60A4.1000103@jakubiec.net>

Hi Jan,

Apologies for the -1 comment -- I didn't know it did anything special 
beyond only returning DGP.

As for the version of evalglare, I was using v1.10 -- Doh! I installed 
Daysim last week to get the source for Linux, and it put an old version 
in my path. The 0 result issue doesn't happen with version 1.11. 
Probably the Daysim installer should be updated at some point.

     > /Also you should make sure, that you use a view type which really
    corresponds to your lens. If your real lens is a hemispherical fish
    eye and you provide  -vta as view string, the angles and solid
    angles are calculated wrong in evalglare and you get wrong results.
    So make sure that you use -vta only if your lens is a angular fish eye./

I can also second this. I ended up with an equi-solid fisheye lens, and 
there is no small amount of effort converting the images into a -vta 
type for Radiance use.

Best,
Alstan

On 8/12/2015 5:39 PM, Jan Wienold wrote:
> Hi Jasper,
> hi Alstan,
>
> I guess there are several issues in that case. First of all, as Alstan 
> wrote, you should crop the image and provide the correct lens 
> specification to evalglare. Be aware that editing the header could be 
> dangerous, because sometimes editors add strange characters or you 
> don't see tabs in the header with marks the view string there as 
> "invalid" . In case the header is interpreted "wrong" in evalglare, 
> the results could be really random and could differ for more than 100% 
> from the right ones (e.g. the calculation of the vertical illuminance, 
> see presentation on the Radiance workshop in 2012). The header 
> treatment is much more robust since the evalglare version 1.08, but 
> still the user should take care of providing a correct header. 
> evalglare is relying on a correct radiance header. To be on the safe 
> side, you should always use the command option to provide the correct 
> view option to evalglare.
> Also you should make sure, that you use a view type which really 
> corresponds to your lens. If your real lens is a hemispherical fish 
> eye and you provide  -vta as view string, the angles and solid angles 
> are calculated wrong in evalglare and you get wrong results. So make 
> sure that you use -vta only if your lens is a angular fish eye.
> And please don't use the -1 option in evalglare!!! This is a special 
> (undocumented) option to get fast results on images calculated without 
> ambient calculations. If you use it for normal images, the glare 
> sources might not detected correctly and you could get big 
> differences. It is working mostly properly in images with large black 
> areas (-ab 0).
> Since the -1 option is not robust for normal images, this option is 
> undocumented. There exist also other undocumented options since 2009 
> for hdr treatment(e.g. pixel overflow correction, image fillup when 
> ccd-array is smaller than the projected image...), but these options 
> are by purpose undocumented because they should be used only in 
> special cases and can cause wrong results when not used properly.
>
> If I look at your image, I guess your calibration is not correct. The 
> sun has a luminance of 2e10 cd/m2. In case of low transmittance 
> glazing you still have a luminance of  Xe9 cd/m2, lets say at least 
> 1e9cd/m2, which is factor 200000 higher than you measured!!! And be 
> aware you you might have to deal with blooming effects when you have a 
> pixel overflow (especially when looking into the sun). Not sure about 
> your camera setting, but if you still have an overflow for the 
> shortest exposure, you should think of adding a neutral grey filter to 
> reduce the overall transmittance to the ccd.
>
> Finally I can't reproduce the 0 output of evalglare. I used your image 
> and used as well the 2500lux as input (even if the image is not 
> cropped correctly and the view string is wrong). See here:
> /evalglare -i 2500 pmar_sin_03.hdr//
> //Notice: Low brightness scene. Vertical illuminance less than 380 
> lux! dgp might underestimate glare sources//
> //dgp,dgi,ugr,vcp,cgi,Lveil: 0.311778 18.132195 21.670120 44.798004 
> 27.925421 58.052605 //
>
> /But I always get an non-0 result, I never experienced this before. I 
> tried the linux ,the mac and also the windows version with your image 
> - it didn't happen. So which version are you using? Which operating 
> system? (type evalglare -v to find out)
>
> @Alstan: Can you provide me another example where this happens as 
> well? Which version are you using? Which operating system?
>
> A zero value should never appear, except your image is completely black.
>
> Best,
> Jan
>
>
>
> Am 8/11/15 um 5:33 PM schrieb J. Alstan Jakubiec:
>> Hi Jasper,
>>
>> This is one of the tricky aspects of doing glare analysis with your 
>> own HDR images. A couple of pointers are below,
>>
>>   * You will need to crop your image to a square aspect about the
>>     image center using the pcompos
>>     <http://radsite.lbl.gov/radiance/man_html/pcompos.1.html> tool.
>>     There was a helpful discussion on maintaining image exposure
>>     values while doing this here
>>     <http://www.radiance-online.org/pipermail/radiance-general/2011-March/007701.html>.
>>   * The -vv and -vh parameters are just best guesses according the
>>     HDR generation software. Once you have cropped the image, you
>>     will want to open the resulting HDR in a text editor and manually
>>     change the header 'VIEW' field to include -vta -vv 180 -vh 180.
>>     You may also specify them via the command line at this point, as
>>     you have done. I like to keep it associated with the image.
>>   * After that, unless I am forgetting something (others can chime
>>     in), you are ready to run evalglare. I would run it with the -d
>>     flag, which will report a lot of details. Most usefully, it
>>     reports illuminance as derived from the image, which you can
>>     compare to your measured Ev value to check the validity of the
>>     HDR. If your HDR is well-calibrated, not inputting the measured
>>     illuminance value should be perfectly accurate.
>>   * I suspect that inputting measured illuminance is somewhat broken
>>     in the current version of evalglare as I have the same problem
>>     that you do. One option is to use the -1 option to evalglare,
>>     which will return only a single DGP value. It seems to avoid this
>>     error.
>>     > evalglare -1 -i 2500 image.hdr
>>
>> By the way, to avoid some of this cropping and exposure value pain, I 
>> use an image-processing tool (like PIL for Python) these days that 
>> can maintain EXIF data while cropping the source jpeg files. Though 
>> perhaps the cure is worse than the disease in this case..
>>
>> Best,
>> Alstan
>>
>> On 8/11/2015 11:08 PM, Jasper Overduin wrote:
>>> Dear all,
>>>
>>> I have changed my lens to one with 180 circular view to do a 
>>> contrast analysis (hdrscope) and meanwhile the glare analysis in 
>>> evalglare. If i use the commands in evalglare getinfo i get the (HDR 
>>> composed with photosphere on a mac, calibrated with luminance 
>>> pistol) i get a value for the lens -vv and -vh which is not over 
>>> 100, with a lens of 180. I can imagine that the photo ratio and the 
>>> lens are not the same and that causes this problem. But when I enter 
>>> the external measured Ev, the value the dgp goes somehow to zero. 
>>> The fact that the gdp is zero with a maximum luminance of 5600 cd/m2 
>>> and Ev of 2500 lux makes me a bit suspicious. How accurate is the 
>>> result of the dgp without external vertical lux? is it possible to 
>>> use this value?
>>>
>>> hdr files and printscreens of evalglare 
>>> https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0 
>>>
>>>
>>> Greetings Jasper
>>>
>>>
>>> *
>>> *
>>> *Jasper Overduin*
>>> MSc. Building Technology graduate student at Delft University of 
>>> Technology
>>>
>>>
>>> *S* Groenhoevelaan 3
>>> *P*2343 BP Oegstgeest
>>> *T* +31 6 15 64 48 56 (NL)
>>> *T* +56 9 51 11 76 48 (CL)
>>> *E *overduin.jasper at gmail.com
>>> *Skype *jasper.overduin
>>>
>>> On 1 May 2015 at 12:15, Jan Wienold <jan.wienold at epfl.ch 
>>> <mailto:jan.wienold at epfl.ch>> wrote:
>>>
>>>     Hi Jasper,
>>>
>>>     I briefly looked at your image - for sure you get a low DGP
>>>     value if your illuminance at camera (or eye) level is only about
>>>     300lux... It is not the matter of the fish eye lens it is a
>>>     matter of your lighting condition.
>>>     When I remember correctly, for the experiments I did for my PhD,
>>>     the people adjusted the blinds in a way, that they had 2500-3000
>>>     lux at the eye level and they were less than 20% of them
>>>     dissatisfied. So a value of 300 means one order of magnitude
>>>     less light at the eye level and a much lower adaptation level.
>>>     So I definitely understand the low DGP value in that case. The
>>>     images themselves look reasonable, so I don't think there is a
>>>     problem in calibration/processing so far (at least not for these
>>>     low luminance levels-it might be more tricky to calibrate for
>>>     the high luminance values when you get stray-light from the
>>>     multiple lenses).
>>>
>>>     If all your images are like that it means you have a very low
>>>     daylight contribution at the place you measure. I'm not sure if
>>>     DGP is then the right way to measure glare in that case - as I
>>>     wrote it is made more for the daylight oriented workplace with
>>>     higher levels and also to take into account very high luminances
>>>     (e.g. sun or specular reflections of the sun). DGP might be
>>>     modified in future, but these experiments are just starting.
>>>
>>>     Jan
>>>
>>>
>>>
>>>
>>>
>>>
>>>     Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>>>>
>>>>         Thank you for the fast reply. We are still having some
>>>>         problems with the outcome of Evalglare. With an external
>>>>         luxometre we have done some tests now. The DGP is still
>>>>         very low or zero. It seems that in almost all the case the
>>>>         DGP is low. In literature we read that values above 20% are
>>>>         normal. What do you think? is the data much better if we
>>>>         use a full 180 degree lens?
>>>>
>>>>     .hdr file https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
>>>>     print screen cmd
>>>>     https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
>>>>     test.pic https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>>>>
>>>>         Greetings Jasper
>>>>
>>>>
>>>>
>>>>         *
>>>>         *
>>>>         *Jasper Overduin*
>>>>         MSc Building Technology graduate student at Delft
>>>>         University of Technology*
>>>>         *
>>>>
>>>>         *S* Groenhoevelaan 3
>>>>         *P*2343 BP Oegstgeest
>>>>         *T* +31 6 15 64 48 56 (NL)
>>>>         *T* +56 9 51 11 76 48 (CL)
>>>>         *E *overduin.jasper at gmail.com
>>>>         *Skype *jasper.overduin
>>>>
>>>>         On 30 April 2015 at 13:55, Jan Wienold
>>>>         <jan.wienold at epfl.ch> wrote:
>>>>
>>>>             Hi Jasper,
>>>>
>>>>             why are you using -vth -vh 140 -vv 80 when in your
>>>>             header of the HDR image the view is specified as  -vtv
>>>>             -vh 98.797409 -vv 75.402067 ?
>>>>             Manipulating the lense type is really dangerous - in
>>>>             that case you change from a perspective view to a
>>>>             hemispherical fish eye view, without changing the image!!
>>>>
>>>>             If I apply evalglare for your image I get 0.17 as DGP
>>>>             (which is still very low, but you have only 2000cd/m2
>>>>             as maximum value, so this can be expected). Be aware,
>>>>             that DGP accounts only for glare from a high amount of
>>>>             daylight and/or spots of extreme luminances
>>>>             (>50000cd/m2), but not for contrasted glare between
>>>>             task (e.g. Monitor) and immediate surroundings for
>>>>             lower adaptation levels. This is subject of current
>>>>             research (also here at EPFL) and there might be an
>>>>             extension of the DGP in future, depending on the
>>>>             outcome of new experiments.
>>>>
>>>>             Back to the lens-type:
>>>>             It is extremely important, that the right view type is
>>>>             given to evalglare, otherwise ALL calculated values (it
>>>>             doesn't matter if this is evalglare or findglare) are
>>>>             wrong. These errors could be huge, more than 100% for
>>>>             calculating the illuminance out of a 180 degree image.
>>>>
>>>>             If you manipulate an image by pcomb, in general the
>>>>             view is marked as "invalid" in the header, because with
>>>>             that tool you could manipulate the image in a way, that
>>>>             the original view is not valid any more. This is why
>>>>             from evalglare version 1.0 on a check on the header was
>>>>             included, because many people were creating wrong
>>>>             headers without knowing it and then evalglare was
>>>>             calculating wrong values, when the header was invalid.
>>>>
>>>>             In addition for calculating the DGP it is important to
>>>>             have the illuminance at camera level. evalglare
>>>>             calculates this value out of the image. But if the
>>>>             image does not cover 180 degree, then the calculated
>>>>             value for the illuminance is too low. For that reason,
>>>>             the -i option was included, so you can provide the
>>>>             illuminance to evalglare (when you measure it with an
>>>>             illuminance sensor).
>>>>
>>>>             So in your case, you should measure the illuminance
>>>>             just besides the lens.
>>>>             Then (in case this is the right lens description) you
>>>>             should use
>>>>             evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067
>>>>             IMAGE_NAME
>>>>             or better, if your task is always at the same place:
>>>>             evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067
>>>>             -T 395 230 .6 -c CHECK_FILE_PICTURE IMAGE_NAME
>>>>
>>>>             good luck!
>>>>
>>>>             Jan
>>>>
>>>>
>>>>
>>>>             Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>>>             Somehow cant use the command pfilt or change the
>>>>>             pcomb, does this has to do with the program Radiance?
>>>>>             I have installed the version of windows from the site,
>>>>>             with evalglare v1.11windows . The problem is that I
>>>>>             have composed a .hdr (out of 7 jpg on a mac) and after
>>>>>             using the command c:/HDRI>evalglare -vth -vh 140 -vv
>>>>>             80 image.hdr all the dgp results are really low, less
>>>>>             than 5%. The problem can be in the .hdr (calibrated as
>>>>>             well) or is in the way evalglare is not working as it
>>>>>             shoot on my computer.
>>>>>
>>>>>
>>>>>             *.hdr file* (post-it is calibration point 167,98)
>>>>>             https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>>>>             *images* original
>>>>>             https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>>>>             *command printscreen*
>>>>>             https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>>>
>>>>>
>>>>>             Need the help!
>>>>>
>>>>>             Greetings Jacobus
>>>>>
>>>>>             *
>>>>>             *
>>>>>             *Jasper Overduin*
>>>>>             MSc Building Technology graduate student at Delft
>>>>>             University of Technology*
>>>>>             *
>>>>>
>>>>>             *S* Groenhoevelaan 3
>>>>>             *P*2343 BP Oegstgeest
>>>>>             *T* +31 6 15 64 48 56 (NL)
>>>>>             *T* +56 9 51 11 76 48 (CL)
>>>>>             *E *overduin.jasper at gmail.com
>>>>>             *Skype *jasper.overduin
>>>>>
>>>>>
>>>>>             _______________________________________________
>>>>>             Radiance-general mailing list
>>>>>             Radiance-general at radiance-online.org  <mailto:Radiance-general at radiance-online.org>
>>>>>             http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>             -- 
>>>>             Dr.-Ing.  Jan Wienold
>>>>             Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>>             EPFL ENAC IA LIPID
>>>>
>>>>             http://people.epfl.ch/jan.wienold
>>>>             LE 1 111 (Office)
>>>>             Phone    +41 21 69 30849
>>>>
>>>>
>>>>             _______________________________________________
>>>>             Radiance-general mailing list
>>>>             Radiance-general at radiance-online.org
>>>>             <mailto:Radiance-general at radiance-online.org>
>>>>             http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>     _______________________________________________
>>>>     Radiance-general mailing list
>>>>     Radiance-general at radiance-online.org  <mailto:Radiance-general at radiance-online.org>
>>>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>     -- 
>>>     Dr.-Ing.  Jan Wienold
>>>     Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>     EPFL ENAC IA LIPID
>>>
>>>     http://people.epfl.ch/jan.wienold
>>>     LE 1 111 (Office)
>>>     Phone    +41 21 69 30849
>>>
>>>
>>>     _______________________________________________
>>>     Radiance-general mailing list
>>>     Radiance-general at radiance-online.org
>>>     <mailto:Radiance-general at radiance-online.org>
>>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> -- 
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
>
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150812/44008c7a/attachment-0001.html>

From overduin.jasper at gmail.com  Wed Aug 12 06:21:53 2015
From: overduin.jasper at gmail.com (Jasper Overduin)
Date: Wed, 12 Aug 2015 10:21:53 -0300
Subject: [Radiance-general] help pfilt and low values dgp
In-Reply-To: <55CB145D.5040906@epfl.ch>
References: <CAHgS54fXM9UeHCXdgT7inVz=n9XFPTBc2kmZKTYKksfOxHngtw@mail.gmail.com>
	<55439897.7050805@epfl.ch>
	<CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>
	<55CA15D2.9060209@jakubiec.net> <55CB145D.5040906@epfl.ch>
Message-ID: <CAHgS54c-DbG4iQteAtH9eKUmX3Xc2aMygk6fRk0Wim=_vD4EHw@mail.gmail.com>

Im using evalglare 1.10 release 30.09.2012 with windows 7
The photos are calibrated with a (il)lumination pistol with 4 different
measurements (with maximum deviation of 0.4 cd/m2)
There is a certain coating on the window, not sure what kind. but as you
said the difference is huge.

Within the program of HDRscope there is a similar function and gives and
errer as well if i use an external Ev value.

Greetings,
Jasper






*Jasper Overduin*
MSc. Building Technology graduate student at Delft University of Technology


*S* Groenhoevelaan 3
*P* 2343 BP Oegstgeest
*T* +31 6 15 64 48 56 (NL)
*T* +56 9 51 11 76 48 (CL)
*E *overduin.jasper at gmail.com
*Skype *jasper.overduin

On 12 August 2015 at 06:39, Jan Wienold <jan.wienold at epfl.ch> wrote:

> Hi Jasper,
> hi Alstan,
>
> I guess there are several issues in that case. First of all, as Alstan
> wrote, you should crop the image and provide the correct lens specification
> to evalglare. Be aware that editing the header could be dangerous, because
> sometimes editors add strange characters or you don't see tabs in the
> header with marks the view string there as "invalid" . In case the header
> is interpreted "wrong" in evalglare, the results could be really random and
> could differ for more than 100% from the right ones (e.g. the calculation
> of the vertical illuminance, see presentation on the Radiance workshop in
> 2012). The header treatment is much more robust since the evalglare version
> 1.08, but still the user should take care of providing a correct header.
> evalglare is relying on a correct radiance header. To be on the safe side,
> you should always use the command option to provide the correct view option
> to evalglare.
> Also you should make sure, that you use a view type which really
> corresponds to your lens. If your real lens is a hemispherical fish eye and
> you provide  -vta as view string, the angles and solid angles are
> calculated wrong in evalglare and you get wrong results. So make sure that
> you use -vta only if your lens is a angular fish eye.
> And please don't use the -1 option in evalglare!!! This is a special
> (undocumented) option to get fast results on images calculated without
> ambient calculations. If you use it for normal images, the glare sources
> might not detected correctly and you could get big differences. It is
> working mostly properly in images with large black areas (-ab 0).
> Since the -1 option is not robust for normal images, this option is
> undocumented. There exist also other undocumented options since 2009 for
> hdr treatment(e.g. pixel overflow correction, image fillup when ccd-array
> is smaller than the projected image...), but these options are by purpose
> undocumented because they should be used only in special cases and can
> cause wrong results when not used properly.
>
> If I look at your image, I guess your calibration is not correct. The sun
> has a luminance of 2e10 cd/m2. In case of low transmittance glazing you
> still have a luminance of  Xe9 cd/m2, lets say at least 1e9cd/m2, which is
> factor 200000 higher than you measured!!! And be aware you you might have
> to deal with blooming  effects when you have a pixel overflow (especially
> when looking into the sun). Not sure about your camera setting, but if you
> still have an overflow for the shortest exposure, you should think of
> adding a neutral grey filter to reduce the overall transmittance to the ccd.
>
> Finally I can't reproduce the 0 output of evalglare. I used your image and
> used as well the 2500lux as input (even if the image is not cropped
> correctly and the view string is wrong). See here:
> *evalglare -i 2500 pmar_sin_03.hdr*
> *Notice: Low brightness scene. Vertical illuminance less than 380 lux! dgp
> might underestimate glare sources*
> *dgp,dgi,ugr,vcp,cgi,Lveil: 0.311778 18.132195 21.670120 44.798004
> 27.925421 58.052605  *
>
> But I always get an non-0 result, I never experienced this before. I tried
> the linux ,the mac and also the windows version with your image - it didn't
> happen. So which version are you using? Which operating system? (type
> evalglare -v to find out)
>
> @Alstan: Can you provide me another example where this happens as well?
> Which version are you using? Which operating system?
>
> A zero value should never appear, except your image is completely black.
>
> Best,
> Jan
>
>
>
> Am 8/11/15 um 5:33 PM schrieb J. Alstan Jakubiec:
>
> Hi Jasper,
>
> This is one of the tricky aspects of doing glare analysis with your own
> HDR images. A couple of pointers are below,
>
>    - You will need to crop your image to a square aspect about the image
>    center using the pcompos
>    <http://radsite.lbl.gov/radiance/man_html/pcompos.1.html> tool. There
>    was a helpful discussion on maintaining image exposure values while doing
>    this here
>    <http://www.radiance-online.org/pipermail/radiance-general/2011-March/007701.html>
>    .
>    - The -vv and -vh parameters are just best guesses according the HDR
>    generation software. Once you have cropped the image, you will want to open
>    the resulting HDR in a text editor and manually change the header 'VIEW'
>    field to include -vta -vv 180 -vh 180. You may also specify them via
>    the command line at this point, as you have done. I like to keep it
>    associated with the image.
>    - After that, unless I am forgetting something (others can chime in),
>    you are ready to run evalglare. I would run it with the -d flag, which
>    will report a lot of details. Most usefully, it reports illuminance as
>    derived from the image, which you can compare to your measured Ev value to
>    check the validity of the HDR. If your HDR is well-calibrated, not
>    inputting the measured illuminance value should be perfectly accurate.
>    - I suspect that inputting measured illuminance is somewhat broken in
>    the current version of evalglare as I have the same problem that you do.
>    One option is to use the -1 option to evalglare, which will return
>    only a single DGP value. It seems to avoid this error.
>    > evalglare -1 -i 2500 image.hdr
>
> By the way, to avoid some of this cropping and exposure value pain, I use
> an image-processing tool (like PIL for Python) these days that can maintain
> EXIF data while cropping the source jpeg files. Though perhaps the cure is
> worse than the disease in this case..
>
> Best,
> Alstan
>
> On 8/11/2015 11:08 PM, Jasper Overduin wrote:
>
> Dear all,
>
> I have changed my lens to one with 180 circular view to do a contrast
> analysis (hdrscope) and meanwhile the glare analysis in evalglare. If i use
> the commands in evalglare getinfo i get the (HDR composed with photosphere
> on a mac, calibrated with luminance pistol) i get a value for the lens -vv
> and -vh which is not over 100, with a lens of 180. I can imagine that the
> photo ratio and the lens are not the same and that causes this problem. But
> when I enter the external measured Ev, the value the dgp goes somehow to
> zero. The fact that the gdp is zero with a maximum luminance of 5600 cd/m2
> and Ev of 2500 lux makes me a bit suspicious. How accurate is the result of
> the dgp without external vertical lux? is it possible to use this value?
>
> hdr files and printscreens of evalglare
> <https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0>
> https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0
>
> Greetings Jasper
>
>
>
> *Jasper Overduin*
> MSc. Building Technology graduate student at Delft University of Technology
>
>
> *S* Groenhoevelaan 3
> *P* 2343 BP Oegstgeest
> *T* +31 6 15 64 48 56 (NL)
> *T* +56 9 51 11 76 48 (CL)
> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
> *Skype *jasper.overduin
>
> On 1 May 2015 at 12:15, Jan Wienold <jan.wienold at epfl.ch> wrote:
>
>> Hi Jasper,
>>
>> I briefly looked at your image - for sure you get a low DGP value if your
>> illuminance at camera (or eye) level is only about 300lux... It is not the
>> matter of the fish eye lens it is a matter of your lighting condition.
>> When I remember correctly, for the experiments I did for my PhD, the
>> people adjusted the blinds in a way, that they had 2500-3000 lux at the eye
>> level and they were less than 20% of them dissatisfied. So a value of 300
>> means one order of magnitude less light at the eye level and a much lower
>> adaptation level.
>> So I definitely understand the low DGP value in that case. The images
>> themselves look reasonable, so I don't think there is a problem in
>> calibration/processing so far (at least not for these low luminance
>> levels-it might be more tricky to calibrate for the high luminance values
>> when you get stray-light from the multiple lenses).
>>
>> If all your images are like that it means you have a very low daylight
>> contribution at the place you measure. I'm not sure if DGP is then the
>> right way to measure glare in that case - as I wrote it is made more for
>> the daylight oriented workplace with higher levels and also to take into
>> account very high luminances (e.g. sun or specular reflections of the sun).
>> DGP might be modified in future, but these experiments are just starting.
>>
>> Jan
>>
>>
>>
>>
>>
>>
>> Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>>
>> Thank you for the fast reply. We are still having some problems with the
>>> outcome of Evalglare. With an external luxometre we have done some tests
>>> now. The DGP is still very low or zero. It seems that in almost all the
>>> case the DGP is low. In literature we read that values above 20% are
>>> normal. What do you think? is the data much better if we use a full 180
>>> degree lens?
>>>
>>> .hdr file https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
>> print screen cmd
>> <https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0>
>> https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
>> test.pic https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>>
>>
>>> Greetings Jasper
>>>
>>>
>>>
>>>
>>>
>>> *Jasper Overduin*
>>> MSc Building Technology graduate student at Delft University of
>>> Technology
>>>
>>> *S* Groenhoevelaan 3
>>> *P* 2343 BP Oegstgeest
>>> *T* +31 6 15 64 48 56 (NL)
>>> *T* +56 9 51 11 76 48 (CL)
>>> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
>>> *Skype *jasper.overduin
>>>
>>> On 30 April 2015 at 13:55, Jan Wienold < <jan.wienold at epfl.ch>
>>> jan.wienold at epfl.ch> wrote:
>>>
>>>> Hi Jasper,
>>>>
>>>> why are you using -vth -vh 140 -vv 80 when in your header of the HDR
>>>> image the view is specified as  -vtv -vh 98.797409 -vv 75.402067 ?
>>>> Manipulating the lense type is really dangerous - in that case you
>>>> change from a perspective view to a hemispherical fish eye view, without
>>>> changing the image!!
>>>>
>>>> If I apply evalglare for your image I get 0.17 as DGP (which is still
>>>> very low, but you have only 2000cd/m2 as maximum value, so this can be
>>>> expected). Be aware, that DGP accounts only for glare from a high amount of
>>>> daylight and/or spots of extreme luminances (>50000cd/m2), but not for
>>>> contrasted glare between task (e.g. Monitor) and immediate surroundings for
>>>> lower adaptation levels. This is subject of current research (also here at
>>>> EPFL) and there might be an extension of the DGP in future, depending on
>>>> the outcome of new experiments.
>>>>
>>>> Back to the lens-type:
>>>> It is extremely important, that the right view type is given to
>>>> evalglare, otherwise ALL calculated values (it doesn't matter if this is
>>>> evalglare or findglare) are wrong. These errors could be huge, more than
>>>> 100% for calculating the illuminance out of a 180 degree image.
>>>>
>>>> If you manipulate an image by pcomb, in general the view is marked as
>>>> "invalid" in the header, because with that tool you could manipulate the
>>>> image in a way, that the original view is not valid any more. This is why
>>>> from evalglare version 1.0 on a check on the header was included, because
>>>> many people were creating wrong headers without knowing it and then
>>>> evalglare was calculating wrong values, when the header was invalid.
>>>>
>>>> In addition for calculating the DGP it is important to have the
>>>> illuminance at camera level. evalglare calculates this value out of the
>>>> image. But if the image does not cover 180 degree, then the calculated
>>>> value for the illuminance is too low. For that reason, the -i option was
>>>> included, so you can provide the illuminance to evalglare (when you measure
>>>> it with an illuminance sensor).
>>>>
>>>> So in your case, you should measure the illuminance just besides the
>>>> lens.
>>>> Then (in case this is the right lens description) you should use
>>>> evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067 IMAGE_NAME
>>>> or better, if your task is always at the same place:
>>>> evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067  -T 395 230 .6
>>>> -c CHECK_FILE_PICTURE IMAGE_NAME
>>>>
>>>> good luck!
>>>>
>>>> Jan
>>>>
>>>>
>>>>
>>>> Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>>
>>>> Somehow cant use the command pfilt or change the pcomb, does this has
>>>> to do with the program Radiance? I have installed the version of windows
>>>> from the site, with evalglare v1.11windows . The problem is that I have
>>>> composed a .hdr (out of 7 jpg on a mac) and after using the command
>>>> c:/HDRI>evalglare -vth -vh 140 -vv 80 image.hdr all the dgp results are
>>>> really low, less than 5%. The problem can be in the .hdr (calibrated as
>>>> well) or is in the way evalglare is not working as it shoot on my computer.
>>>>
>>>>
>>>>
>>>> *.hdr file* (post-it is calibration point 167,98)
>>>> <https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0>
>>>> https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>>> *images* original
>>>> <https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0>
>>>> https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>>> *command printscreen*
>>>> <https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0>
>>>> https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>>
>>>>
>>>> Need the help!
>>>>
>>>> Greetings Jacobus
>>>>
>>>>
>>>> *Jasper Overduin*
>>>> MSc Building Technology graduate student at Delft University of
>>>> Technology
>>>>
>>>> *S* Groenhoevelaan 3
>>>> *P* 2343 BP Oegstgeest
>>>> *T* +31 6 15 64 48 56 (NL)
>>>> *T* +56 9 51 11 76 48 (CL)
>>>> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
>>>> *Skype *jasper.overduin
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> --
>>>> Dr.-Ing.  Jan Wienold
>>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>> EPFL ENAC IA LIPID
>>>> http://people.epfl.ch/jan.wienold
>>>> LE 1 111 (Office)
>>>> Phone    +41 21 69 30849
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> --
>> Dr.-Ing.  Jan Wienold
>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>> EPFL ENAC IA LIPID
>> http://people.epfl.ch/jan.wienold
>> LE 1 111 (Office)
>> Phone    +41 21 69 30849
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> --
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150812/66105e6b/attachment-0001.html>

From jan.wienold at epfl.ch  Thu Aug 13 07:23:17 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Thu, 13 Aug 2015 16:23:17 +0200
Subject: [Radiance-general] help pfilt and low values dgp
In-Reply-To: <CAHgS54c-DbG4iQteAtH9eKUmX3Xc2aMygk6fRk0Wim=_vD4EHw@mail.gmail.com>
References: <CAHgS54fXM9UeHCXdgT7inVz=n9XFPTBc2kmZKTYKksfOxHngtw@mail.gmail.com>
	<55439897.7050805@epfl.ch>
	<CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>
	<55CA15D2.9060209@jakubiec.net> <55CB145D.5040906@epfl.ch>
	<CAHgS54c-DbG4iQteAtH9eKUmX3Xc2aMygk6fRk0Wim=_vD4EHw@mail.gmail.com>
Message-ID: <55CCA855.9090803@epfl.ch>

Hi Jasper,

you definitely should use a newer version of evalglare.
If you go to the website:
http://www.ise.fraunhofer.de/radiance
you can at least download the 1.11 version-which doesn't have this bug.

The will be a new version of evalglare coming out in the next days/weeks 
(version 1.17) - this will be announced separately here in that group.

Regarding your image: Your calibration must span the luminance-range you 
want to measure.
If you calibrate between 1cd/m2-1000 cd/m2 it does not tell you anything 
how accurate you are when measuring 100000cd/m2!
So if you want to measure the luminance of the sun, then you have to 
make sure your camera is calibrated for such high luminances as well.
I guess when you want to measure several million cd/m2 you might need a 
grey filter. At ISE we had several filters down to 0.0001 transmittance, 
so it was easy to measure also towards the sun and the increase of noise 
for the lower luminaces doesn't hurt so much.
Your coating on the window play a minor role in that case... honestly 
for the sun you can be lucky to measure with one or 2 orders of  
magnitude, so if your glazing is 0.75 or 0.4 in light transmittance is 
negligible compared to the difference between 5000 and 200000000 cd/m2 !

The picture you have in dropbox is also difficult to check with an 
illuminance meter when you integrate the values to an illuminance value, 
because the sun is so much on the side and has a very flat angle of 
incidence to your measuring plane. For example when your angle of 
incidence for the light source (here sun) is 80? and your "uncertainty" 
for putting the sensor in the right plane wold be 2.5 degree (it is very 
difficult to put it more accurate), then you have automatically an 
uncertainty in your sensor reading of 25% (of the illuminance)! (because 
illuminance is cos-weighted and a difference in angle for large angles 
is big for the cosinus).

Good luck!

best,
Jan






Am 8/12/15 um 3:21 PM schrieb Jasper Overduin:
> Im using evalglare 1.10 release 30.09.2012 with windows 7
> The photos are calibrated with a (il)lumination pistol with 4 
> different measurements (with maximum deviation of 0.4 cd/m2)
> There is a certain coating on the window, not sure what kind. but as 
> you said the difference is huge.
>
> Within the program of HDRscope there is a similar function and gives 
> and errer as well if i use an external Ev value.
>
> Greetings,
> Jasper
>
>
>
>
>
> *
> *
> *Jasper Overduin*
> MSc. Building Technology graduate student at Delft University of 
> Technology
>
>
> *S* Groenhoevelaan 3
> *P*2343 BP Oegstgeest
> *T* +31 6 15 64 48 56 (NL)
> *T* +56 9 51 11 76 48 (CL)
> *E *overduin.jasper at gmail.com <mailto:overduin.jasper at gmail.com>
> *Skype *jasper.overduin
>
> On 12 August 2015 at 06:39, Jan Wienold <jan.wienold at epfl.ch 
> <mailto:jan.wienold at epfl.ch>> wrote:
>
>     Hi Jasper,
>     hi Alstan,
>
>     I guess there are several issues in that case. First of all, as
>     Alstan wrote, you should crop the image and provide the correct
>     lens specification to evalglare. Be aware that editing the header
>     could be dangerous, because sometimes editors add strange
>     characters or you don't see tabs in the header with marks the view
>     string there as "invalid" . In case the header is interpreted
>     "wrong" in evalglare, the results could be really random and could
>     differ for more than 100% from the right ones (e.g. the
>     calculation of the vertical illuminance, see presentation on the
>     Radiance workshop in 2012). The header treatment is much more
>     robust since the evalglare version 1.08, but still the user should
>     take care of providing a correct header. evalglare is relying on a
>     correct radiance header. To be on the safe side, you should always
>     use the command option to provide the correct view option to
>     evalglare.
>     Also you should make sure, that you use a view type which really
>     corresponds to your lens. If your real lens is a hemispherical
>     fish eye and you provide  -vta as view string, the angles and
>     solid angles are calculated wrong in evalglare and you get wrong
>     results. So make sure that you use -vta only if your lens is a
>     angular fish eye.
>     And please don't use the -1 option in evalglare!!! This is a
>     special (undocumented) option to get fast results on images
>     calculated without ambient calculations. If you use it for normal
>     images, the glare sources might not detected correctly and you
>     could get big differences. It is working mostly properly in images
>     with large black areas (-ab 0).
>     Since the -1 option is not robust for normal images, this option
>     is undocumented. There exist also other undocumented options since
>     2009 for hdr treatment(e.g. pixel overflow correction, image
>     fillup when ccd-array is smaller than the projected image...), but
>     these options are by purpose undocumented because they should be
>     used only in special cases and can cause wrong results when not
>     used properly.
>
>     If I look at your image, I guess your calibration is not correct.
>     The sun has a luminance of 2e10 cd/m2. In case of low
>     transmittance glazing you still have a luminance of Xe9 cd/m2,
>     lets say at least 1e9cd/m2, which is factor 200000 higher than you
>     measured!!! And be aware you you might have to deal with blooming 
>     effects when you have a pixel overflow (especially when looking
>     into the sun). Not sure about your camera setting, but if you
>     still have an overflow for the shortest exposure, you should think
>     of adding a neutral grey filter to reduce the overall
>     transmittance to the ccd.
>
>     Finally I can't reproduce the 0 output of evalglare. I used your
>     image and used as well the 2500lux as input (even if the image is
>     not cropped correctly and the view string is wrong). See here:
>     /evalglare -i 2500 pmar_sin_03.hdr//
>     //Notice: Low brightness scene. Vertical illuminance less than 380
>     lux! dgp might underestimate glare sources//
>     //dgp,dgi,ugr,vcp,cgi,Lveil: 0.311778 18.132195 21.670120
>     44.798004 27.925421 58.052605 //
>
>     /But I always get an non-0 result, I never experienced this
>     before. I tried the linux ,the mac and also the windows version
>     with your image - it didn't happen. So which version are you
>     using? Which operating system? (type evalglare -v to find out)
>
>     @Alstan: Can you provide me another example where this happens as
>     well? Which version are you using? Which operating system?
>
>     A zero value should never appear, except your image is completely
>     black.
>
>     Best,
>     Jan
>
>
>
>     Am 8/11/15 um 5:33 PM schrieb J. Alstan Jakubiec:
>>     Hi Jasper,
>>
>>     This is one of the tricky aspects of doing glare analysis with
>>     your own HDR images. A couple of pointers are below,
>>
>>       * You will need to crop your image to a square aspect about the
>>         image center using the pcompos
>>         <http://radsite.lbl.gov/radiance/man_html/pcompos.1.html>
>>         tool. There was a helpful discussion on maintaining image
>>         exposure values while doing this here
>>         <http://www.radiance-online.org/pipermail/radiance-general/2011-March/007701.html>.
>>       * The -vv and -vh parameters are just best guesses according
>>         the HDR generation software. Once you have cropped the image,
>>         you will want to open the resulting HDR in a text editor and
>>         manually change the header 'VIEW' field to include -vta -vv
>>         180 -vh 180. You may also specify them via the command line
>>         at this point, as you have done. I like to keep it associated
>>         with the image.
>>       * After that, unless I am forgetting something (others can
>>         chime in), you are ready to run evalglare. I would run it
>>         with the -d flag, which will report a lot of details. Most
>>         usefully, it reports illuminance as derived from the image,
>>         which you can compare to your measured Ev value to check the
>>         validity of the HDR. If your HDR is well-calibrated, not
>>         inputting the measured illuminance value should be perfectly
>>         accurate.
>>       * I suspect that inputting measured illuminance is somewhat
>>         broken in the current version of evalglare as I have the same
>>         problem that you do. One option is to use the -1 option to
>>         evalglare, which will return only a single DGP value. It
>>         seems to avoid this error.
>>         > evalglare -1 -i 2500 image.hdr
>>
>>     By the way, to avoid some of this cropping and exposure value
>>     pain, I use an image-processing tool (like PIL for Python) these
>>     days that can maintain EXIF data while cropping the source jpeg
>>     files. Though perhaps the cure is worse than the disease in this
>>     case..
>>
>>     Best,
>>     Alstan
>>
>>     On 8/11/2015 11:08 PM, Jasper Overduin wrote:
>>>     Dear all,
>>>
>>>     I have changed my lens to one with 180 circular view to do a
>>>     contrast analysis (hdrscope) and meanwhile the glare analysis in
>>>     evalglare. If i use the commands in evalglare getinfo i get the
>>>     (HDR composed with photosphere on a mac, calibrated with
>>>     luminance pistol) i get a value for the lens -vv and -vh which
>>>     is not over 100, with a lens of 180. I can imagine that the
>>>     photo ratio and the lens are not the same and that causes this
>>>     problem. But when I enter the external measured Ev, the value
>>>     the dgp goes somehow to zero. The fact that the gdp is zero with
>>>     a maximum luminance of 5600 cd/m2 and Ev of 2500 lux makes me a
>>>     bit suspicious. How accurate is the result of the dgp without
>>>     external vertical lux? is it possible to use this value?
>>>
>>>     hdr files and printscreens of evalglare
>>>     https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0
>>>
>>>
>>>     Greetings Jasper
>>>
>>>
>>>     *
>>>     *
>>>     *Jasper Overduin*
>>>     MSc. Building Technology graduate student at Delft University of
>>>     Technology
>>>
>>>
>>>     *S* Groenhoevelaan 3
>>>     *P*2343 BP Oegstgeest
>>>     *T* +31 6 15 64 48 56 (NL)
>>>     *T* +56 9 51 11 76 48 (CL)
>>>     *E *overduin.jasper at gmail.com <mailto:overduin.jasper at gmail.com>
>>>     *Skype *jasper.overduin
>>>
>>>     On 1 May 2015 at 12:15, Jan Wienold <jan.wienold at epfl.ch
>>>     <mailto:jan.wienold at epfl.ch>> wrote:
>>>
>>>         Hi Jasper,
>>>
>>>         I briefly looked at your image - for sure you get a low DGP
>>>         value if your illuminance at camera (or eye) level is only
>>>         about 300lux... It is not the matter of the fish eye lens it
>>>         is a matter of your lighting condition.
>>>         When I remember correctly, for the experiments I did for my
>>>         PhD, the people adjusted the blinds in a way, that they had
>>>         2500-3000 lux at the eye level and they were less than 20%
>>>         of them dissatisfied. So a value of 300 means one order of
>>>         magnitude less light at the eye level and a much lower
>>>         adaptation level.
>>>         So I definitely understand the low DGP value in that case.
>>>         The images themselves look reasonable, so I don't think
>>>         there is a problem in calibration/processing so far (at
>>>         least not for these low luminance levels-it might be more
>>>         tricky to calibrate for the high luminance values when you
>>>         get stray-light from the multiple lenses).
>>>
>>>         If all your images are like that it means you have a very
>>>         low daylight contribution at the place you measure. I'm not
>>>         sure if DGP is then the right way to measure glare in that
>>>         case - as I wrote it is made more for the daylight oriented
>>>         workplace with higher levels and also to take into account
>>>         very high luminances (e.g. sun or specular reflections of
>>>         the sun). DGP might be modified in future, but these
>>>         experiments are just starting.
>>>
>>>         Jan
>>>
>>>
>>>
>>>
>>>
>>>
>>>         Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>>>>
>>>>             Thank you for the fast reply. We are still having some
>>>>             problems with the outcome of Evalglare. With an
>>>>             external luxometre we have done some tests now. The DGP
>>>>             is still very low or zero. It seems that in almost all
>>>>             the case the DGP is low. In literature we read that
>>>>             values above 20% are normal. What do you think? is the
>>>>             data much better if we use a full 180 degree lens?
>>>>
>>>>         .hdr file https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
>>>>         print screen cmd
>>>>         https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
>>>>         test.pic
>>>>         https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>>>>
>>>>             Greetings Jasper
>>>>
>>>>
>>>>
>>>>             *
>>>>             *
>>>>             *Jasper Overduin*
>>>>             MSc Building Technology graduate student at Delft
>>>>             University of Technology*
>>>>             *
>>>>
>>>>             *S* Groenhoevelaan 3
>>>>             *P*2343 BP Oegstgeest
>>>>             *T* +31 6 15 64 48 56 (NL)
>>>>             *T* +56 9 51 11 76 48 (CL)
>>>>             *E *overduin.jasper at gmail.com
>>>>             <mailto:overduin.jasper at gmail.com>
>>>>             *Skype *jasper.overduin
>>>>
>>>>             On 30 April 2015 at 13:55, Jan Wienold
>>>>             <jan.wienold at epfl.ch <mailto:jan.wienold at epfl.ch>> wrote:
>>>>
>>>>                 Hi Jasper,
>>>>
>>>>                 why are you using -vth -vh 140 -vv 80 when in your
>>>>                 header of the HDR image the view is specified as
>>>>                 -vtv -vh 98.797409 -vv 75.402067 ?
>>>>                 Manipulating the lense type is really dangerous -
>>>>                 in that case you change from a perspective view to
>>>>                 a hemispherical fish eye view, without changing the
>>>>                 image!!
>>>>
>>>>                 If I apply evalglare for your image I get 0.17 as
>>>>                 DGP (which is still very low, but you have only
>>>>                 2000cd/m2 as maximum value, so this can be
>>>>                 expected). Be aware, that DGP accounts only for
>>>>                 glare from a high amount of daylight and/or spots
>>>>                 of extreme luminances (>50000cd/m2), but not for
>>>>                 contrasted glare between task (e.g. Monitor) and
>>>>                 immediate surroundings for lower adaptation levels.
>>>>                 This is subject of current research (also here at
>>>>                 EPFL) and there might be an extension of the DGP in
>>>>                 future, depending on the outcome of new experiments.
>>>>
>>>>                 Back to the lens-type:
>>>>                 It is extremely important, that the right view type
>>>>                 is given to evalglare, otherwise ALL calculated
>>>>                 values (it doesn't matter if this is evalglare or
>>>>                 findglare) are wrong. These errors could be huge,
>>>>                 more than 100% for calculating the illuminance out
>>>>                 of a 180 degree image.
>>>>
>>>>                 If you manipulate an image by pcomb, in general the
>>>>                 view is marked as "invalid" in the header, because
>>>>                 with that tool you could manipulate the image in a
>>>>                 way, that the original view is not valid any more.
>>>>                 This is why from evalglare version 1.0 on a check
>>>>                 on the header was included, because many people
>>>>                 were creating wrong headers without knowing it and
>>>>                 then evalglare was calculating wrong values, when
>>>>                 the header was invalid.
>>>>
>>>>                 In addition for calculating the DGP it is important
>>>>                 to have the illuminance at camera level. evalglare
>>>>                 calculates this value out of the image. But if the
>>>>                 image does not cover 180 degree, then the
>>>>                 calculated value for the illuminance is too low.
>>>>                 For that reason, the -i option was included, so you
>>>>                 can provide the illuminance to evalglare (when you
>>>>                 measure it with an illuminance sensor).
>>>>
>>>>                 So in your case, you should measure the illuminance
>>>>                 just besides the lens.
>>>>                 Then (in case this is the right lens description)
>>>>                 you should use
>>>>                 evalglare -i LUXVALUE -vtv -vh 98.797409 -vv
>>>>                 75.402067 IMAGE_NAME
>>>>                 or better, if your task is always at the same place:
>>>>                 evalglare -i LUXVALUE -vtv -vh 98.797409 -vv
>>>>                 75.402067 -T 395 230 .6 -c CHECK_FILE_PICTURE
>>>>                 IMAGE_NAME
>>>>
>>>>                 good luck!
>>>>
>>>>                 Jan
>>>>
>>>>
>>>>
>>>>                 Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>>>                 Somehow cant use the command pfilt or change the
>>>>>                 pcomb, does this has to do with the program
>>>>>                 Radiance? I have installed the version of windows
>>>>>                 from the site, with evalglare v1.11windows . The
>>>>>                 problem is that I have composed a .hdr (out of 7
>>>>>                 jpg on a mac) and after using the command
>>>>>                 c:/HDRI>evalglare -vth -vh 140 -vv 80 image.hdr
>>>>>                 all the dgp results are really low, less than 5%.
>>>>>                 The problem can be in the .hdr (calibrated as
>>>>>                 well) or is in the way evalglare is not working as
>>>>>                 it shoot on my computer.
>>>>>
>>>>>
>>>>>                 *.hdr file* (post-it is calibration point 167,98)
>>>>>                 https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>>>>                 *images* original
>>>>>                 https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>>>>                 *command printscreen*
>>>>>                 https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>>>
>>>>>
>>>>>                 Need the help!
>>>>>
>>>>>                 Greetings Jacobus
>>>>>
>>>>>                 *
>>>>>                 *
>>>>>                 *Jasper Overduin*
>>>>>                 MSc Building Technology graduate student at Delft
>>>>>                 University of Technology*
>>>>>                 *
>>>>>
>>>>>                 *S* Groenhoevelaan 3
>>>>>                 *P*2343 BP Oegstgeest
>>>>>                 *T* +31 6 15 64 48 56 (NL)
>>>>>                 *T* +56 9 51 11 76 48 (CL)
>>>>>                 *E *overduin.jasper at gmail.com
>>>>>                 <mailto:overduin.jasper at gmail.com>
>>>>>                 *Skype *jasper.overduin
>>>>>
>>>>>
>>>>>                 _______________________________________________
>>>>>                 Radiance-general mailing list
>>>>>                 Radiance-general at radiance-online.org
>>>>>                 <mailto:Radiance-general at radiance-online.org>
>>>>>                 http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>                 -- 
>>>>                 Dr.-Ing.  Jan Wienold
>>>>                 Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>>                 EPFL ENAC IA LIPID
>>>>
>>>>                 http://people.epfl.ch/jan.wienold
>>>>                 LE 1 111 (Office)
>>>>                 Phone    +41 21 69 30849
>>>>
>>>>
>>>>                 _______________________________________________
>>>>                 Radiance-general mailing list
>>>>                 Radiance-general at radiance-online.org
>>>>                 <mailto:Radiance-general at radiance-online.org>
>>>>                 http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>         _______________________________________________
>>>>         Radiance-general mailing list
>>>>         Radiance-general at radiance-online.org
>>>>         <mailto:Radiance-general at radiance-online.org>
>>>>         http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>         -- 
>>>         Dr.-Ing.  Jan Wienold
>>>         Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>         EPFL ENAC IA LIPID
>>>
>>>         http://people.epfl.ch/jan.wienold
>>>         LE 1 111 (Office)
>>>         Phone    +41 21 69 30849
>>>
>>>
>>>         _______________________________________________
>>>         Radiance-general mailing list
>>>         Radiance-general at radiance-online.org
>>>         <mailto:Radiance-general at radiance-online.org>
>>>         http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>>
>>>     _______________________________________________
>>>     Radiance-general mailing list
>>>     Radiance-general at radiance-online.org
>>>     <mailto:Radiance-general at radiance-online.org>
>>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org
>>     <mailto:Radiance-general at radiance-online.org>
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>     -- 
>     Dr.-Ing.  Jan Wienold
>     Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>     EPFL ENAC IA LIPID
>
>     http://people.epfl.ch/jan.wienold
>     LE 1 111 (Office)
>     Phone    +41 21 69 30849
>
>
>     _______________________________________________
>     Radiance-general mailing list
>     Radiance-general at radiance-online.org
>     <mailto:Radiance-general at radiance-online.org>
>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150813/86dc28ed/attachment-0001.html>

From overduin.jasper at gmail.com  Sun Aug 16 13:14:28 2015
From: overduin.jasper at gmail.com (Jasper Overduin)
Date: Sun, 16 Aug 2015 17:14:28 -0300
Subject: [Radiance-general] help pfilt and low values dgp
In-Reply-To: <55CCA855.9090803@epfl.ch>
References: <CAHgS54fXM9UeHCXdgT7inVz=n9XFPTBc2kmZKTYKksfOxHngtw@mail.gmail.com>
	<55439897.7050805@epfl.ch>
	<CAHgS54dAEzuMuieRetucx20GN_CM1mRzDhpPG2wW1200_5Fuig@mail.gmail.com>
	<55CA15D2.9060209@jakubiec.net> <55CB145D.5040906@epfl.ch>
	<CAHgS54c-DbG4iQteAtH9eKUmX3Xc2aMygk6fRk0Wim=_vD4EHw@mail.gmail.com>
	<55CCA855.9090803@epfl.ch>
Message-ID: <CAHgS54cPGhtmrkjP2LF7urar2VNd6Xd=LMSiLGv_hVW=NtD0KA@mail.gmail.com>

Thanks a lot for the help so far. I've updated the evalglare to 1.11.
Getting the same results as Jan showed.

I've desinstalled and reinstalled everything, and now the pcompos and other
functions are not recognized. With a google search I couldnt find the
problem.

any ideas?

installed
radiance 2.01
daysim 4.0
ecotect 2011
evalglare 1.11

As far as the picture. This is the only photo with an almost direct sun.
Other photos (160) are within a more sober spectrum. The idea is to to an
analysis of cd/m2 ratios, with the evalglare as indicator, not as main
target. Do you think it is possible to use the data?

Greetings,
Jasper



*Jasper Overduin*
MSc. Building Technology graduate student at Delft University of Technology


*S* Groenhoevelaan 3
*P* 2343 BP Oegstgeest
*T* +31 6 15 64 48 56 (NL)
*T* +56 9 51 11 76 48 (CL)
*E *overduin.jasper at gmail.com
*Skype *jasper.overduin

On 13 August 2015 at 11:23, Jan Wienold <jan.wienold at epfl.ch> wrote:

> Hi Jasper,
>
> you definitely should use a newer version of evalglare.
> If you go to the website:
> http://www.ise.fraunhofer.de/radiance
> you can at least download the 1.11 version-which doesn't have this bug.
>
> The will be a new version of evalglare coming out in the next days/weeks
> (version 1.17) - this will be announced separately here in that group.
>
> Regarding your image: Your calibration must span the luminance-range you
> want to measure.
> If you calibrate between 1cd/m2-1000 cd/m2 it does not tell you anything
> how accurate you are when measuring 100000cd/m2!
> So if you want to measure the luminance of the sun, then you have to make
> sure your camera is calibrated for such high luminances as well.
> I guess when you want to measure several million cd/m2 you might need a
> grey filter. At ISE we had several filters down to 0.0001 transmittance, so
> it was easy to measure also towards the sun and the increase of noise for
> the lower luminaces doesn't hurt so much.
> Your coating on the window play a minor role in that case... honestly for
> the sun you can be lucky to measure with one or 2 orders of  magnitude, so
> if your glazing is 0.75 or 0.4 in light transmittance is negligible
> compared to the difference between 5000 and 200000000 cd/m2 !
>
> The picture you have in dropbox is also difficult to check with an
> illuminance meter when you integrate the values to an illuminance value,
> because the sun is so much on the side and has a very flat angle of
> incidence to your measuring plane. For example when your angle of incidence
> for the light source (here sun) is 80? and your "uncertainty" for putting
> the sensor in the right plane wold be 2.5 degree (it is very difficult to
> put it more accurate), then you have automatically an uncertainty in your
> sensor reading of 25% (of the illuminance)! (because illuminance is
> cos-weighted and a difference in angle for large angles is big for the
> cosinus).
>
> Good luck!
>
> best,
> Jan
>
>
>
>
>
>
> Am 8/12/15 um 3:21 PM schrieb Jasper Overduin:
>
> Im using evalglare 1.10 release 30.09.2012 with windows 7
> The photos are calibrated with a (il)lumination pistol with 4 different
> measurements (with maximum deviation of 0.4 cd/m2)
> There is a certain coating on the window, not sure what kind. but as you
> said the difference is huge.
>
> Within the program of HDRscope there is a similar function and gives and
> errer as well if i use an external Ev value.
>
> Greetings,
> Jasper
>
>
>
>
>
>
> *Jasper Overduin*
> MSc. Building Technology graduate student at Delft University of Technology
>
>
> *S* Groenhoevelaan 3
> *P* 2343 BP Oegstgeest
> *T* +31 6 15 64 48 56 (NL)
> *T* +56 9 51 11 76 48 (CL)
> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
> *Skype *jasper.overduin
>
> On 12 August 2015 at 06:39, Jan Wienold <jan.wienold at epfl.ch> wrote:
>
>> Hi Jasper,
>> hi Alstan,
>>
>> I guess there are several issues in that case. First of all, as Alstan
>> wrote, you should crop the image and provide the correct lens specification
>> to evalglare. Be aware that editing the header could be dangerous, because
>> sometimes editors add strange characters or you don't see tabs in the
>> header with marks the view string there as "invalid" . In case the header
>> is interpreted "wrong" in evalglare, the results could be really random and
>> could differ for more than 100% from the right ones (e.g. the calculation
>> of the vertical illuminance, see presentation on the Radiance workshop in
>> 2012). The header treatment is much more robust since the evalglare version
>> 1.08, but still the user should take care of providing a correct header.
>> evalglare is relying on a correct radiance header. To be on the safe side,
>> you should always use the command option to provide the correct view option
>> to evalglare.
>> Also you should make sure, that you use a view type which really
>> corresponds to your lens. If your real lens is a hemispherical fish eye and
>> you provide  -vta as view string, the angles and solid angles are
>> calculated wrong in evalglare and you get wrong results. So make sure that
>> you use -vta only if your lens is a angular fish eye.
>> And please don't use the -1 option in evalglare!!! This is a special
>> (undocumented) option to get fast results on images calculated without
>> ambient calculations. If you use it for normal images, the glare sources
>> might not detected correctly and you could get big differences. It is
>> working mostly properly in images with large black areas (-ab 0).
>> Since the -1 option is not robust for normal images, this option is
>> undocumented. There exist also other undocumented options since 2009 for
>> hdr treatment(e.g. pixel overflow correction, image fillup when ccd-array
>> is smaller than the projected image...), but these options are by purpose
>> undocumented because they should be used only in special cases and can
>> cause wrong results when not used properly.
>>
>> If I look at your image, I guess your calibration is not correct. The sun
>> has a luminance of 2e10 cd/m2. In case of low transmittance glazing you
>> still have a luminance of  Xe9 cd/m2, lets say at least 1e9cd/m2, which is
>> factor 200000 higher than you measured!!! And be aware you you might have
>> to deal with blooming  effects when you have a pixel overflow (especially
>> when looking into the sun). Not sure about your camera setting, but if you
>> still have an overflow for the shortest exposure, you should think of
>> adding a neutral grey filter to reduce the overall transmittance to the ccd.
>>
>> Finally I can't reproduce the 0 output of evalglare. I used your image
>> and used as well the 2500lux as input (even if the image is not cropped
>> correctly and the view string is wrong). See here:
>> *evalglare -i 2500 pmar_sin_03.hdr*
>> *Notice: Low brightness scene. Vertical illuminance less than 380 lux!
>> dgp might underestimate glare sources*
>> *dgp,dgi,ugr,vcp,cgi,Lveil: 0.311778 18.132195 21.670120 44.798004
>> 27.925421 58.052605  *
>>
>> But I always get an non-0 result, I never experienced this before. I
>> tried the linux ,the mac and also the windows version with your image - it
>> didn't happen. So which version are you using? Which operating system?
>> (type evalglare -v to find out)
>>
>> @Alstan: Can you provide me another example where this happens as well?
>> Which version are you using? Which operating system?
>>
>> A zero value should never appear, except your image is completely black.
>>
>> Best,
>> Jan
>>
>>
>>
>> Am 8/11/15 um 5:33 PM schrieb J. Alstan Jakubiec:
>>
>> Hi Jasper,
>>
>> This is one of the tricky aspects of doing glare analysis with your own
>> HDR images. A couple of pointers are below,
>>
>>    - You will need to crop your image to a square aspect about the image
>>    center using the pcompos
>>    <http://radsite.lbl.gov/radiance/man_html/pcompos.1.html> tool. There
>>    was a helpful discussion on maintaining image exposure values while doing
>>    this here
>>    <http://www.radiance-online.org/pipermail/radiance-general/2011-March/007701.html>
>>    .
>>    - The -vv and -vh parameters are just best guesses according the HDR
>>    generation software. Once you have cropped the image, you will want to open
>>    the resulting HDR in a text editor and manually change the header 'VIEW'
>>    field to include -vta -vv 180 -vh 180. You may also specify them via
>>    the command line at this point, as you have done. I like to keep it
>>    associated with the image.
>>    - After that, unless I am forgetting something (others can chime in),
>>    you are ready to run evalglare. I would run it with the -d flag,
>>    which will report a lot of details. Most usefully, it reports illuminance
>>    as derived from the image, which you can compare to your measured Ev value
>>    to check the validity of the HDR. If your HDR is well-calibrated, not
>>    inputting the measured illuminance value should be perfectly accurate.
>>    - I suspect that inputting measured illuminance is somewhat broken in
>>    the current version of evalglare as I have the same problem that you do.
>>    One option is to use the -1 option to evalglare, which will return
>>    only a single DGP value. It seems to avoid this error.
>>    > evalglare -1 -i 2500 image.hdr
>>
>> By the way, to avoid some of this cropping and exposure value pain, I use
>> an image-processing tool (like PIL for Python) these days that can maintain
>> EXIF data while cropping the source jpeg files. Though perhaps the cure is
>> worse than the disease in this case..
>>
>> Best,
>> Alstan
>>
>> On 8/11/2015 11:08 PM, Jasper Overduin wrote:
>>
>> Dear all,
>>
>> I have changed my lens to one with 180 circular view to do a contrast
>> analysis (hdrscope) and meanwhile the glare analysis in evalglare. If i use
>> the commands in evalglare getinfo i get the (HDR composed with photosphere
>> on a mac, calibrated with luminance pistol) i get a value for the lens -vv
>> and -vh which is not over 100, with a lens of 180. I can imagine that the
>> photo ratio and the lens are not the same and that causes this problem. But
>> when I enter the external measured Ev, the value the dgp goes somehow to
>> zero. The fact that the gdp is zero with a maximum luminance of 5600 cd/m2
>> and Ev of 2500 lux makes me a bit suspicious. How accurate is the result of
>> the dgp without external vertical lux? is it possible to use this value?
>>
>> hdr files and printscreens of evalglare
>> <https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0>
>> https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0
>>
>>
>> Greetings Jasper
>>
>>
>>
>> *Jasper Overduin*
>> MSc. Building Technology graduate student at Delft University of
>> Technology
>>
>>
>> *S* Groenhoevelaan 3
>> *P* 2343 BP Oegstgeest
>> *T* +31 6 15 64 48 56 (NL)
>> *T* +56 9 51 11 76 48 (CL)
>> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
>> *Skype *jasper.overduin
>>
>> On 1 May 2015 at 12:15, Jan Wienold < <jan.wienold at epfl.ch>
>> jan.wienold at epfl.ch> wrote:
>>
>>> Hi Jasper,
>>>
>>> I briefly looked at your image - for sure you get a low DGP value if
>>> your illuminance at camera (or eye) level is only about 300lux... It is not
>>> the matter of the fish eye lens it is a matter of your lighting condition.
>>> When I remember correctly, for the experiments I did for my PhD, the
>>> people adjusted the blinds in a way, that they had 2500-3000 lux at the eye
>>> level and they were less than 20% of them dissatisfied. So a value of 300
>>> means one order of magnitude less light at the eye level and a much lower
>>> adaptation level.
>>> So I definitely understand the low DGP value in that case. The images
>>> themselves look reasonable, so I don't think there is a problem in
>>> calibration/processing so far (at least not for these low luminance
>>> levels-it might be more tricky to calibrate for the high luminance values
>>> when you get stray-light from the multiple lenses).
>>>
>>> If all your images are like that it means you have a very low daylight
>>> contribution at the place you measure. I'm not sure if DGP is then the
>>> right way to measure glare in that case - as I wrote it is made more for
>>> the daylight oriented workplace with higher levels and also to take into
>>> account very high luminances (e.g. sun or specular reflections of the sun).
>>> DGP might be modified in future, but these experiments are just starting.
>>>
>>> Jan
>>>
>>>
>>>
>>>
>>>
>>>
>>> Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>>>
>>> Thank you for the fast reply. We are still having some problems with the
>>>> outcome of Evalglare. With an external luxometre we have done some tests
>>>> now. The DGP is still very low or zero. It seems that in almost all the
>>>> case the DGP is low. In literature we read that values above 20% are
>>>> normal. What do you think? is the data much better if we use a full 180
>>>> degree lens?
>>>>
>>>> .hdr file <https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0>
>>> https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
>>> print screen cmd
>>> <https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0>
>>> https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
>>> test.pic  <https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0>
>>> https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>>>
>>>
>>>> Greetings Jasper
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> *Jasper Overduin*
>>>> MSc Building Technology graduate student at Delft University of
>>>> Technology
>>>>
>>>> *S* Groenhoevelaan 3
>>>> *P* 2343 BP Oegstgeest
>>>> *T* +31 6 15 64 48 56 (NL)
>>>> *T* +56 9 51 11 76 48 (CL)
>>>> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
>>>> *Skype *jasper.overduin
>>>>
>>>> On 30 April 2015 at 13:55, Jan Wienold < <jan.wienold at epfl.ch>
>>>> jan.wienold at epfl.ch> wrote:
>>>>
>>>>> Hi Jasper,
>>>>>
>>>>> why are you using -vth -vh 140 -vv 80 when in your header of the HDR
>>>>> image the view is specified as  -vtv -vh 98.797409 -vv 75.402067 ?
>>>>> Manipulating the lense type is really dangerous - in that case you
>>>>> change from a perspective view to a hemispherical fish eye view, without
>>>>> changing the image!!
>>>>>
>>>>> If I apply evalglare for your image I get 0.17 as DGP (which is still
>>>>> very low, but you have only 2000cd/m2 as maximum value, so this can be
>>>>> expected). Be aware, that DGP accounts only for glare from a high amount of
>>>>> daylight and/or spots of extreme luminances (>50000cd/m2), but not for
>>>>> contrasted glare between task (e.g. Monitor) and immediate surroundings for
>>>>> lower adaptation levels. This is subject of current research (also here at
>>>>> EPFL) and there might be an extension of the DGP in future, depending on
>>>>> the outcome of new experiments.
>>>>>
>>>>> Back to the lens-type:
>>>>> It is extremely important, that the right view type is given to
>>>>> evalglare, otherwise ALL calculated values (it doesn't matter if this is
>>>>> evalglare or findglare) are wrong. These errors could be huge, more than
>>>>> 100% for calculating the illuminance out of a 180 degree image.
>>>>>
>>>>> If you manipulate an image by pcomb, in general the view is marked as
>>>>> "invalid" in the header, because with that tool you could manipulate the
>>>>> image in a way, that the original view is not valid any more. This is why
>>>>> from evalglare version 1.0 on a check on the header was included, because
>>>>> many people were creating wrong headers without knowing it and then
>>>>> evalglare was calculating wrong values, when the header was invalid.
>>>>>
>>>>> In addition for calculating the DGP it is important to have the
>>>>> illuminance at camera level. evalglare calculates this value out of the
>>>>> image. But if the image does not cover 180 degree, then the calculated
>>>>> value for the illuminance is too low. For that reason, the -i option was
>>>>> included, so you can provide the illuminance to evalglare (when you measure
>>>>> it with an illuminance sensor).
>>>>>
>>>>> So in your case, you should measure the illuminance just besides the
>>>>> lens.
>>>>> Then (in case this is the right lens description) you should use
>>>>> evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067 IMAGE_NAME
>>>>> or better, if your task is always at the same place:
>>>>> evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067  -T 395 230 .6
>>>>> -c CHECK_FILE_PICTURE IMAGE_NAME
>>>>>
>>>>> good luck!
>>>>>
>>>>> Jan
>>>>>
>>>>>
>>>>>
>>>>> Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>>>
>>>>> Somehow cant use the command pfilt or change the pcomb, does this has
>>>>> to do with the program Radiance? I have installed the version of windows
>>>>> from the site, with evalglare v1.11windows . The problem is that I have
>>>>> composed a .hdr (out of 7 jpg on a mac) and after using the command
>>>>> c:/HDRI>evalglare -vth -vh 140 -vv 80 image.hdr all the dgp results are
>>>>> really low, less than 5%. The problem can be in the .hdr (calibrated as
>>>>> well) or is in the way evalglare is not working as it shoot on my computer.
>>>>>
>>>>>
>>>>>
>>>>> *.hdr file* (post-it is calibration point 167,98)
>>>>> <https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0>
>>>>> https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>>>> *images* original
>>>>> <https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0>
>>>>> https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>>>> *command printscreen*
>>>>> <https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0>
>>>>> https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>>>
>>>>>
>>>>> Need the help!
>>>>>
>>>>> Greetings Jacobus
>>>>>
>>>>>
>>>>> *Jasper Overduin*
>>>>> MSc Building Technology graduate student at Delft University of
>>>>> Technology
>>>>>
>>>>> *S* Groenhoevelaan 3
>>>>> *P* 2343 BP Oegstgeest
>>>>> *T* +31 6 15 64 48 56 (NL)
>>>>> *T* +56 9 51 11 76 48 (CL)
>>>>> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
>>>>> *Skype *jasper.overduin
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> --
>>>>> Dr.-Ing.  Jan Wienold
>>>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>>> EPFL ENAC IA LIPID
>>>>> http://people.epfl.ch/jan.wienold
>>>>> LE 1 111 (Office)
>>>>> Phone    +41 21 69 30849
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> <Radiance-general at radiance-online.org>
>>>>> Radiance-general at radiance-online.org
>>>>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> --
>>> Dr.-Ing.  Jan Wienold
>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>> EPFL ENAC IA LIPID
>>> http://people.epfl.ch/jan.wienold
>>> LE 1 111 (Office)
>>> Phone    +41 21 69 30849
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> --
>> Dr.-Ing.  Jan Wienold
>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>> EPFL ENAC IA LIPID
>> http://people.epfl.ch/jan.wienold
>> LE 1 111 (Office)
>> Phone    +41 21 69 30849
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> --
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150816/c2e8c86d/attachment-0001.html>

From weiss at stahl-sonnenenergie.de  Sun Aug 16 13:22:12 2015
From: weiss at stahl-sonnenenergie.de (weiss at stahl-sonnenenergie.de)
Date: Sun, 16 Aug 2015 20:22:12 +0000
Subject: [Radiance-general] AUTOREPLY Radiance-general Digest, Vol 138,
	Issue 29
Message-ID: <064E2290.55D10D11@smtprelaypool.ispgateway.de>


Sehr geehrte Damen und Herren,

vielen Dank fr Ihre Nachricht.
In der Zeit bis zum 11.09.2015 bin ich im Urlaub, in dieser Zeit werden Mails nicht bearbeitet oder weitergeleitet.
Bitte wenden Sie sich in dringenden Fllen an unsere Zentrale.

Mit freundlichen Gren

Volker Wei

Stahl+Wei
Basler Strae 55
D-79100 Freiburg

Tel.   +49-(0)761-38909-32
Zentrale                     -30
Fax.  +49-(0)761-38909-39

weiss at stahl-weiss.de
www.stahl-weiss.de

Stahl+Wei macht in der Zeit von 17.8-21.8.2015 Betriebsferien. In dieser Woche ist unser Bro nicht besetzt.
Send Radiance-general mailing list submissions to
	radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request at radiance-online.org

You can reach the person managing the list at
	radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: help pfilt and low values dgp (Jasper Overduin)


----------------------------------------------------------------------

Message: 1
Date: Sun, 16 Aug 2015 17:14:28 -0300
From: Jasper Overduin <overduin.jasper at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] help pfilt and low values dgp
Message-ID:
	<CAHgS54cPGhtmrkjP2LF7urar2VNd6Xd=LMSiLGv_hVW=NtD0KA at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Thanks a lot for the help so far. I've updated the evalglare to 1.11.
Getting the same results as Jan showed.

I've desinstalled and reinstalled everything, and now the pcompos and other
functions are not recognized. With a google search I couldnt find the
problem.

any ideas?

installed
radiance 2.01
daysim 4.0
ecotect 2011
evalglare 1.11

As far as the picture. This is the only photo with an almost direct sun.
Other photos (160) are within a more sober spectrum. The idea is to to an
analysis of cd/m2 ratios, with the evalglare as indicator, not as main
target. Do you think it is possible to use the data?

Greetings,
Jasper



*Jasper Overduin*
MSc. Building Technology graduate student at Delft University of Technology


*S* Groenhoevelaan 3
*P* 2343 BP Oegstgeest
*T* +31 6 15 64 48 56 (NL)
*T* +56 9 51 11 76 48 (CL)
*E *overduin.jasper at gmail.com
*Skype *jasper.overduin

On 13 August 2015 at 11:23, Jan Wienold <jan.wienold at epfl.ch> wrote:

> Hi Jasper,
>
> you definitely should use a newer version of evalglare.
> If you go to the website:
> http://www.ise.fraunhofer.de/radiance
> you can at least download the 1.11 version-which doesn't have this bug.
>
> The will be a new version of evalglare coming out in the next days/weeks
> (version 1.17) - this will be announced separately here in that group.
>
> Regarding your image: Your calibration must span the luminance-range you
> want to measure.
> If you calibrate between 1cd/m2-1000 cd/m2 it does not tell you anything
> how accurate you are when measuring 100000cd/m2!
> So if you want to measure the luminance of the sun, then you have to make
> sure your camera is calibrated for such high luminances as well.
> I guess when you want to measure several million cd/m2 you might need a
> grey filter. At ISE we had several filters down to 0.0001 transmittance, so
> it was easy to measure also towards the sun and the increase of noise for
> the lower luminaces doesn't hurt so much.
> Your coating on the window play a minor role in that case... honestly for
> the sun you can be lucky to measure with one or 2 orders of  magnitude, so
> if your glazing is 0.75 or 0.4 in light transmittance is negligible
> compared to the difference between 5000 and 200000000 cd/m2 !
>
> The picture you have in dropbox is also difficult to check with an
> illuminance meter when you integrate the values to an illuminance value,
> because the sun is so much on the side and has a very flat angle of
> incidence to your measuring plane. For example when your angle of incidence
> for the light source (here sun) is 80? and your "uncertainty" for putting
> the sensor in the right plane wold be 2.5 degree (it is very difficult to
> put it more accurate), then you have automatically an uncertainty in your
> sensor reading of 25% (of the illuminance)! (because illuminance is
> cos-weighted and a difference in angle for large angles is big for the
> cosinus).
>
> Good luck!
>
> best,
> Jan
>
>
>
>
>
>
> Am 8/12/15 um 3:21 PM schrieb Jasper Overduin:
>
> Im using evalglare 1.10 release 30.09.2012 with windows 7
> The photos are calibrated with a (il)lumination pistol with 4 different
> measurements (with maximum deviation of 0.4 cd/m2)
> There is a certain coating on the window, not sure what kind. but as you
> said the difference is huge.
>
> Within the program of HDRscope there is a similar function and gives and
> errer as well if i use an external Ev value.
>
> Greetings,
> Jasper
>
>
>
>
>
>
> *Jasper Overduin*
> MSc. Building Technology graduate student at Delft University of Technology
>
>
> *S* Groenhoevelaan 3
> *P* 2343 BP Oegstgeest
> *T* +31 6 15 64 48 56 (NL)
> *T* +56 9 51 11 76 48 (CL)
> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
> *Skype *jasper.overduin
>
> On 12 August 2015 at 06:39, Jan Wienold <jan.wienold at epfl.ch> wrote:
>
>> Hi Jasper,
>> hi Alstan,
>>
>> I guess there are several issues in that case. First of all, as Alstan
>> wrote, you should crop the image and provide the correct lens specification
>> to evalglare. Be aware that editing the header could be dangerous, because
>> sometimes editors add strange characters or you don't see tabs in the
>> header with marks the view string there as "invalid" . In case the header
>> is interpreted "wrong" in evalglare, the results could be really random and
>> could differ for more than 100% from the right ones (e.g. the calculation
>> of the vertical illuminance, see presentation on the Radiance workshop in
>> 2012). The header treatment is much more robust since the evalglare version
>> 1.08, but still the user should take care of providing a correct header.
>> evalglare is relying on a correct radiance header. To be on the safe side,
>> you should always use the command option to provide the correct view option
>> to evalglare.
>> Also you should make sure, that you use a view type which really
>> corresponds to your lens. If your real lens is a hemispherical fish eye and
>> you provide  -vta as view string, the angles and solid angles are
>> calculated wrong in evalglare and you get wrong results. So make sure that
>> you use -vta only if your lens is a angular fish eye.
>> And please don't use the -1 option in evalglare!!! This is a special
>> (undocumented) option to get fast results on images calculated without
>> ambient calculations. If you use it for normal images, the glare sources
>> might not detected correctly and you could get big differences. It is
>> working mostly properly in images with large black areas (-ab 0).
>> Since the -1 option is not robust for normal images, this option is
>> undocumented. There exist also other undocumented options since 2009 for
>> hdr treatment(e.g. pixel overflow correction, image fillup when ccd-array
>> is smaller than the projected image...), but these options are by purpose
>> undocumented because they should be used only in special cases and can
>> cause wrong results when not used properly.
>>
>> If I look at your image, I guess your calibration is not correct. The sun
>> has a luminance of 2e10 cd/m2. In case of low transmittance glazing you
>> still have a luminance of  Xe9 cd/m2, lets say at least 1e9cd/m2, which is
>> factor 200000 higher than you measured!!! And be aware you you might have
>> to deal with blooming  effects when you have a pixel overflow (especially
>> when looking into the sun). Not sure about your camera setting, but if you
>> still have an overflow for the shortest exposure, you should think of
>> adding a neutral grey filter to reduce the overall transmittance to the ccd.
>>
>> Finally I can't reproduce the 0 output of evalglare. I used your image
>> and used as well the 2500lux as input (even if the image is not cropped
>> correctly and the view string is wrong). See here:
>> *evalglare -i 2500 pmar_sin_03.hdr*
>> *Notice: Low brightness scene. Vertical illuminance less than 380 lux!
>> dgp might underestimate glare sources*
>> *dgp,dgi,ugr,vcp,cgi,Lveil: 0.311778 18.132195 21.670120 44.798004
>> 27.925421 58.052605  *
>>
>> But I always get an non-0 result, I never experienced this before. I
>> tried the linux ,the mac and also the windows version with your image - it
>> didn't happen. So which version are you using? Which operating system?
>> (type evalglare -v to find out)
>>
>> @Alstan: Can you provide me another example where this happens as well?
>> Which version are you using? Which operating system?
>>
>> A zero value should never appear, except your image is completely black.
>>
>> Best,
>> Jan
>>
>>
>>
>> Am 8/11/15 um 5:33 PM schrieb J. Alstan Jakubiec:
>>
>> Hi Jasper,
>>
>> This is one of the tricky aspects of doing glare analysis with your own
>> HDR images. A couple of pointers are below,
>>
>>    - You will need to crop your image to a square aspect about the image
>>    center using the pcompos
>>    <http://radsite.lbl.gov/radiance/man_html/pcompos.1.html> tool. There
>>    was a helpful discussion on maintaining image exposure values while doing
>>    this here
>>    <http://www.radiance-online.org/pipermail/radiance-general/2011-March/007701.html>
>>    .
>>    - The -vv and -vh parameters are just best guesses according the HDR
>>    generation software. Once you have cropped the image, you will want to open
>>    the resulting HDR in a text editor and manually change the header 'VIEW'
>>    field to include -vta -vv 180 -vh 180. You may also specify them via
>>    the command line at this point, as you have done. I like to keep it
>>    associated with the image.
>>    - After that, unless I am forgetting something (others can chime in),
>>    you are ready to run evalglare. I would run it with the -d flag,
>>    which will report a lot of details. Most usefully, it reports illuminance
>>    as derived from the image, which you can compare to your measured Ev value
>>    to check the validity of the HDR. If your HDR is well-calibrated, not
>>    inputting the measured illuminance value should be perfectly accurate.
>>    - I suspect that inputting measured illuminance is somewhat broken in
>>    the current version of evalglare as I have the same problem that you do.
>>    One option is to use the -1 option to evalglare, which will return
>>    only a single DGP value. It seems to avoid this error.
>>    > evalglare -1 -i 2500 image.hdr
>>
>> By the way, to avoid some of this cropping and exposure value pain, I use
>> an image-processing tool (like PIL for Python) these days that can maintain
>> EXIF data while cropping the source jpeg files. Though perhaps the cure is
>> worse than the disease in this case..
>>
>> Best,
>> Alstan
>>
>> On 8/11/2015 11:08 PM, Jasper Overduin wrote:
>>
>> Dear all,
>>
>> I have changed my lens to one with 180 circular view to do a contrast
>> analysis (hdrscope) and meanwhile the glare analysis in evalglare. If i use
>> the commands in evalglare getinfo i get the (HDR composed with photosphere
>> on a mac, calibrated with luminance pistol) i get a value for the lens -vv
>> and -vh which is not over 100, with a lens of 180. I can imagine that the
>> photo ratio and the lens are not the same and that causes this problem. But
>> when I enter the external measured Ev, the value the dgp goes somehow to
>> zero. The fact that the gdp is zero with a maximum luminance of 5600 cd/m2
>> and Ev of 2500 lux makes me a bit suspicious. How accurate is the result of
>> the dgp without external vertical lux? is it possible to use this value?
>>
>> hdr files and printscreens of evalglare
>> <https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0>
>> https://www.dropbox.com/sh/ei1y4d2v6hapdsr/AACgVMPd1o0EdK-0q8CFvUGga?dl=0
>>
>>
>> Greetings Jasper
>>
>>
>>
>> *Jasper Overduin*
>> MSc. Building Technology graduate student at Delft University of
>> Technology
>>
>>
>> *S* Groenhoevelaan 3
>> *P* 2343 BP Oegstgeest
>> *T* +31 6 15 64 48 56 (NL)
>> *T* +56 9 51 11 76 48 (CL)
>> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
>> *Skype *jasper.overduin
>>
>> On 1 May 2015 at 12:15, Jan Wienold < <jan.wienold at epfl.ch>
>> jan.wienold at epfl.ch> wrote:
>>
>>> Hi Jasper,
>>>
>>> I briefly looked at your image - for sure you get a low DGP value if
>>> your illuminance at camera (or eye) level is only about 300lux... It is not
>>> the matter of the fish eye lens it is a matter of your lighting condition.
>>> When I remember correctly, for the experiments I did for my PhD, the
>>> people adjusted the blinds in a way, that they had 2500-3000 lux at the eye
>>> level and they were less than 20% of them dissatisfied. So a value of 300
>>> means one order of magnitude less light at the eye level and a much lower
>>> adaptation level.
>>> So I definitely understand the low DGP value in that case. The images
>>> themselves look reasonable, so I don't think there is a problem in
>>> calibration/processing so far (at least not for these low luminance
>>> levels-it might be more tricky to calibrate for the high luminance values
>>> when you get stray-light from the multiple lenses).
>>>
>>> If all your images are like that it means you have a very low daylight
>>> contribution at the place you measure. I'm not sure if DGP is then the
>>> right way to measure glare in that case - as I wrote it is made more for
>>> the daylight oriented workplace with higher levels and also to take into
>>> account very high luminances (e.g. sun or specular reflections of the sun).
>>> DGP might be modified in future, but these experiments are just starting.
>>>
>>> Jan
>>>
>>>
>>>
>>>
>>>
>>>
>>> Am 4/30/15 um 10:41 PM schrieb Jasper Overduin:
>>>
>>> Thank you for the fast reply. We are still having some problems with the
>>>> outcome of Evalglare. With an external luxometre we have done some tests
>>>> now. The DGP is still very low or zero. It seems that in almost all the
>>>> case the DGP is low. In literature we read that values above 20% are
>>>> normal. What do you think? is the data much better if we use a full 180
>>>> degree lens?
>>>>
>>>> .hdr file <https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0>
>>> https://www.dropbox.com/s/l10x7tri49btr8r/ff.hdr?dl=0
>>> print screen cmd
>>> <https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0>
>>> https://www.dropbox.com/s/yv1lamhiirjhvxq/imp%20pan.jpg?dl=0
>>> test.pic  <https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0>
>>> https://www.dropbox.com/s/nspdu01477mchsz/test.pic?dl=0
>>>
>>>
>>>> Greetings Jasper
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> *Jasper Overduin*
>>>> MSc Building Technology graduate student at Delft University of
>>>> Technology
>>>>
>>>> *S* Groenhoevelaan 3
>>>> *P* 2343 BP Oegstgeest
>>>> *T* +31 6 15 64 48 56 (NL)
>>>> *T* +56 9 51 11 76 48 (CL)
>>>> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
>>>> *Skype *jasper.overduin
>>>>
>>>> On 30 April 2015 at 13:55, Jan Wienold < <jan.wienold at epfl.ch>
>>>> jan.wienold at epfl.ch> wrote:
>>>>
>>>>> Hi Jasper,
>>>>>
>>>>> why are you using -vth -vh 140 -vv 80 when in your header of the HDR
>>>>> image the view is specified as  -vtv -vh 98.797409 -vv 75.402067 ?
>>>>> Manipulating the lense type is really dangerous - in that case you
>>>>> change from a perspective view to a hemispherical fish eye view, without
>>>>> changing the image!!
>>>>>
>>>>> If I apply evalglare for your image I get 0.17 as DGP (which is still
>>>>> very low, but you have only 2000cd/m2 as maximum value, so this can be
>>>>> expected). Be aware, that DGP accounts only for glare from a high amount of
>>>>> daylight and/or spots of extreme luminances (>50000cd/m2), but not for
>>>>> contrasted glare between task (e.g. Monitor) and immediate surroundings for
>>>>> lower adaptation levels. This is subject of current research (also here at
>>>>> EPFL) and there might be an extension of the DGP in future, depending on
>>>>> the outcome of new experiments.
>>>>>
>>>>> Back to the lens-type:
>>>>> It is extremely important, that the right view type is given to
>>>>> evalglare, otherwise ALL calculated values (it doesn't matter if this is
>>>>> evalglare or findglare) are wrong. These errors could be huge, more than
>>>>> 100% for calculating the illuminance out of a 180 degree image.
>>>>>
>>>>> If you manipulate an image by pcomb, in general the view is marked as
>>>>> "invalid" in the header, because with that tool you could manipulate the
>>>>> image in a way, that the original view is not valid any more. This is why
>>>>> from evalglare version 1.0 on a check on the header was included, because
>>>>> many people were creating wrong headers without knowing it and then
>>>>> evalglare was calculating wrong values, when the header was invalid.
>>>>>
>>>>> In addition for calculating the DGP it is important to have the
>>>>> illuminance at camera level. evalglare calculates this value out of the
>>>>> image. But if the image does not cover 180 degree, then the calculated
>>>>> value for the illuminance is too low. For that reason, the -i option was
>>>>> included, so you can provide the illuminance to evalglare (when you measure
>>>>> it with an illuminance sensor).
>>>>>
>>>>> So in your case, you should measure the illuminance just besides the
>>>>> lens.
>>>>> Then (in case this is the right lens description) you should use
>>>>> evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067 IMAGE_NAME
>>>>> or better, if your task is always at the same place:
>>>>> evalglare -i LUXVALUE -vtv -vh 98.797409 -vv 75.402067  -T 395 230 .6
>>>>> -c CHECK_FILE_PICTURE IMAGE_NAME
>>>>>
>>>>> good luck!
>>>>>
>>>>> Jan
>>>>>
>>>>>
>>>>>
>>>>> Am 4/30/15 um 6:04 PM schrieb Jasper Overduin:
>>>>>
>>>>> Somehow cant use the command pfilt or change the pcomb, does this has
>>>>> to do with the program Radiance? I have installed the version of windows
>>>>> from the site, with evalglare v1.11windows . The problem is that I have
>>>>> composed a .hdr (out of 7 jpg on a mac) and after using the command
>>>>> c:/HDRI>evalglare -vth -vh 140 -vv 80 image.hdr all the dgp results are
>>>>> really low, less than 5%. The problem can be in the .hdr (calibrated as
>>>>> well) or is in the way evalglare is not working as it shoot on my computer.
>>>>>
>>>>>
>>>>>
>>>>> *.hdr file* (post-it is calibration point 167,98)
>>>>> <https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0>
>>>>> https://www.dropbox.com/s/4z69y358yt8ii4z/1_sv_am.hdr?dl=0
>>>>> *images* original
>>>>> <https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0>
>>>>> https://www.dropbox.com/sh/adyyxjkv6eykyek/AAC96QUTpLh_Ef2U8Mppki8ta?dl=0
>>>>> *command printscreen*
>>>>> <https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0>
>>>>> https://www.dropbox.com/s/0pbn105p0z0iinu/Imp%20pan.jpg?dl=0
>>>>>
>>>>>
>>>>> Need the help!
>>>>>
>>>>> Greetings Jacobus
>>>>>
>>>>>
>>>>> *Jasper Overduin*
>>>>> MSc Building Technology graduate student at Delft University of
>>>>> Technology
>>>>>
>>>>> *S* Groenhoevelaan 3
>>>>> *P* 2343 BP Oegstgeest
>>>>> *T* +31 6 15 64 48 56 (NL)
>>>>> *T* +56 9 51 11 76 48 (CL)
>>>>> *E * <overduin.jasper at gmail.com>overduin.jasper at gmail.com
>>>>> *Skype *jasper.overduin
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> --
>>>>> Dr.-Ing.  Jan Wienold
>>>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>>>> EPFL ENAC IA LIPID
>>>>> http://people.epfl.ch/jan.wienold
>>>>> LE 1 111 (Office)
>>>>> Phone    +41 21 69 30849
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> <Radiance-general at radiance-online.org>
>>>>> Radiance-general at radiance-online.org
>>>>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> --
>>> Dr.-Ing.  Jan Wienold
>>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>>> EPFL ENAC IA LIPID
>>> http://people.epfl.ch/jan.wienold
>>> LE 1 111 (Office)
>>> Phone    +41 21 69 30849
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> --
>> Dr.-Ing.  Jan Wienold
>> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
>> EPFL ENAC IA LIPID
>> http://people.epfl.ch/jan.wienold
>> LE 1 111 (Office)
>> Phone    +41 21 69 30849
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> --
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150816/c2e8c86d/attachment.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 138, Issue 29
*************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150816/1ee79adc/attachment-0001.html>

From jonathan.zhu.uk at gmail.com  Sun Aug 16 14:07:55 2015
From: jonathan.zhu.uk at gmail.com (Jiajie Zhu)
Date: Sun, 16 Aug 2015 22:07:55 +0100
Subject: [Radiance-general] Gensky
Message-ID: <001101d0d867$9f453b50$ddcfb1f0$@gmail.com>

Hi

 

Could someone tell me how Radiance calculate the radiation values for the
sun using gensky. I mean where do these values come from, based on what
theory or which model.

 

Many Thanks,

Jiajie

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150816/4dbb079e/attachment.html>

From hujia06 at gmail.com  Sun Aug 16 14:51:00 2015
From: hujia06 at gmail.com (Jia Hu)
Date: Sun, 16 Aug 2015 17:51:00 -0400
Subject: [Radiance-general] Gensky
In-Reply-To: <001101d0d867$9f453b50$ddcfb1f0$@gmail.com>
References: <001101d0d867$9f453b50$ddcfb1f0$@gmail.com>
Message-ID: <CABzgtwqrjAuQ0nL6xY3XUcyGsXqcJQX4FhJjbLCPjLJEmvfwPg@mail.gmail.com>

Hi Jiajie,

you can read the man page and some materials.
*Gensky* produces a RADIANCE scene description for the CIE standard sky
distribution,
http://radsite.lbl.gov/radiance/man_html/gensky.1.html

http://www.bozzograo.net/radiance/index.php?name=FAQ#faq5
http://www.radiance-online.org/pipermail/radiance-general/2003-October/001087.html



On Sun, Aug 16, 2015 at 5:07 PM, Jiajie Zhu <jonathan.zhu.uk at gmail.com>
wrote:

> Hi
>
>
>
> Could someone tell me how Radiance calculate the radiation values for the
> sun using gensky. I mean where do these values come from, based on what
> theory or which model.
>
>
>
> Many Thanks,
>
> Jiajie
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150816/3c1be76f/attachment.html>

From alstan at jakubiec.net  Wed Aug 12 08:09:19 2015
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Wed, 12 Aug 2015 23:09:19 +0800
Subject: [Radiance-general] rcontrib with 2-phase method?
In-Reply-To: <D697763F9F216044A99BC674C0056196135AD1062E@EXCHANGE1.ad.nottingham.ac.uk>
References: <D697763F9F216044A99BC674C0056196135AD1062E@EXCHANGE1.ad.nottingham.ac.uk>
Message-ID: <55CB619F.3070704@jakubiec.net>

Dear Ikrima,

Yes, I think that is a fair series statements, and it sounds right. You 
may want to read the Daysim paper in order to understand the methods a 
bit more,

    Reinhart, Christoph F., and Oliver Walkenhorst. "Validation of
    dynamic RADIANCE-based daylight simulations for a test office with
    external blinds." /Energy and Buildings/ 33.7 (2001): 683-697.

Best,
Alstan

On 8/12/2015 12:21 AM, Ikrima Amaireh wrote:
> Dear Alstan,
>
> Yes, you actually did :)
>
> What exactly I want to do is: modelling different CFS to assess their effect on indoor illuminance (Workplane). So, Daysim (with its current old version Radiance binaries) can do that; isn't it? At the same time, one can still say that simulations are based on the powerful Radiance tools, does that sound right, too?
>
> So far, I don't think I still need to use BSDF as there is no need for 3- nor 5-phase methods for such level of work!
>
> Can you please correct me if there is something wrong with my understanding/assumptions?
>
> Best regards
> Ikrima
>
> -----Original Message-----
> From: radiance-general-request at radiance-online.org [mailto:radiance-general-request at radiance-online.org]
> Sent: 11 August 2015 17:00
> To: radiance-general at radiance-online.org
> Subject: Radiance-general Digest, Vol 138, Issue 22
>
> Send Radiance-general mailing list submissions to
>          radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>          http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>          radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>          radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>     1. Re: rcontrib with 2-phase method? (J. Alstan Jakubiec)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 11 Aug 2015 23:38:14 +0800
> From: "J. Alstan Jakubiec" <alstan at jakubiec.net>
> To: radiance-general at radiance-online.org
> Cc: radiance-daysim at radiance-online.org
> Subject: Re: [Radiance-general] rcontrib with 2-phase method?
> Message-ID: <55CA16E6.1020404 at jakubiec.net>
> Content-Type: text/plain; charset="windows-1252"; Format="flowed"
>
> Dear Ikrima,
>
> Daysim comes with its own special version of the Radiance binaries that can be downloaded at the Daysim website <http://daysim.ning.com/>. These get stored in c:\DAYSIM\bin\ after installation on Windows.
> Unfortunately the binaries are based on an older Radiance version, so you miss some options like using BSDF data. Still, Daysim is perfectly serviceable for most cases. I hope I understood your question.
>
> Best,
> Alstan
>
> On 8/11/2015 11:09 PM, Guglielmetti, Robert wrote:
>> I really have no experience with Daysim at this point so I really am
>> not the best person to answer this one, sorry. In a general sense,
>> with respect to Daysim and Radiance you'd use one or the other, not
>> both. The Radiance daylight coefficient method (i.e. using rcontrib
>> and other tools in Radiance to do a 2-phase annual simulation) *is*
>> basically the same thing as Daysim. Hope this helps but it probably
>> doesn't. =/
>>
>>
>>
>> On 8/11/15, 4:54 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>>> Dear Robert,
>>>
>>> Thanks for making clear that using rcontrib and using 3/5 phase
>>> methods need a recent version of radiance. does that apply to using
>>> 2-phse
>>> (Daysim) or one can still use old versions of radiance (as I have a
>>> problem yet with installing recent versions of radiance and link it
>>> with Daysim tool)?
>>>
>>> Many thanks for you in advance:
>>>
>>> Regards,,,
>>> ikriam
>>>
>>> ------------------------------
>>>
>>> Message: 2
>>> Date: Mon, 10 Aug 2015 17:03:49 +0000
>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>> To: "radiance-general at radiance-online.org"
>>>          <radiance-general at radiance-online.org>
>>> Subject: Re: [Radiance-general] Ray-tracing with Radiance
>>> Message-ID: <D1EE1EEF.1B923%Robert.Guglielmetti at nrel.gov>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> There is a daysim-specific mailing list that may be useful for some
>>> of your questions:
>>>
>>> http://www.radiance-online.org/community/mailing-lists/subscribe/radi
>>> ance-
>>> d
>>> aysim
>>>
>>>
>>> I can tell you that if you're planning to use rcontrib and do 3- or
>>> 5-phase type stuff, you definitely should be using a recent version
>>> of Radiance. Either build from latest source, or use one of the NREL
>>> pre-built packages (I recommend v5):
>>>
>>> https://github.com/NREL/Radiance/releases/tag/5.0.a.3
>>>
>>>
>>>
>>>
>>> On 8/10/15, 9:14 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>
>>>> Dear Germ?n,
>>>>
>>>> Many thanks for you. I agree with you totally that all Radiance
>>>> works need to apply ray-tracing approach as the core principle of it.
>>>> However, what I meant by using ray-tracing in radiance, was the
>>>> using of RTRACE directly through stand-alone radiance tool (as you
>>>> kindly mentioned).
>>>>
>>>> As you clarified, Daysim uses 2-phase method to do annual simulation
>>>> (2nd
>>>> phase) fast, based on pre-calculated Daylight Coefficient Matrix
>>>> (1st phase). Now, if I need to produce the illuminance levels
>>>> (produced by specific CFS) at the Workplane under static scene, can
>>>> I still use Daysim for that? Or, shall I stick to RTRACE tool
>>>> directly through pure Radiance?
>>>>
>>>> And, if I have to stick to using Pure Radiance (RTRACE), is the
>>>> method detailed in the attached document (hope, you see that: where
>>>> Geometry and Workplane sensors are built in Ecotect and directly
>>>> exported to Radiance engine), is it still valid?
>>>>
>>>>
>>>> Finally, in both cases (using pure Radiance and/or Daysim), shall we
>>>> replace the Radiance tool (works as engine) by the latest released
>>>> version (i.e. Version 4.2 or recent?) as the one works with
>>>> Ecotect-Radiance approach (I'm not sure about Daysim, yet) is old
>>>> version (2.0; in think!)?
>>>>
>>>>
>>>> Really, I am grateful to you for your appreciated help and looking
>>>> to hear from you again :)
>>>>
>>>> Regards,,,
>>>>
>>>> Ikrima
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>> As some of you may remember, I am trying to model a set of CFS to
>>>>> compare their effect on indoor horizontal illuminance of a room.
>>>> So  far, I have been advised by you for several stages, which really
>>>> helped me a lot for better understanding of radiance and how it works.
>>>> Now, I have a question about how I use ray-tracing method in radiance?
>>>> Is it similar to the way explained through the following attachment?
>>>> As here, calculations are run using Radiance engine but Ecotect or
>>>> Daysim interface (for geometry modelling and material assignment).
>>>> Document:
>>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/G
>>>> ett
>>>> ing
>>>> StartedwithEcotectRadianceDaysim.pdf
>>>>
>>>> I hope if you can kindly advise me on that asap, please?
>>>>
>>>>
>>>> Ikrima,
>>>>
>>>> Strictly speaking, Radiance always use ray-tracing. Whenever you
>>>> call RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>>> simulation performed. However, when you want to perform annual
>>>> simulations, you will want to do as few ray-tracing simulations as
>>>> possible since they take time.
>>>> RTRACE, for example, is a method used to calculate the illuminance
>>>> or luminance of a point (sensor) in a static scene. Doing this for a
>>>> whole year would require 8760 or more RTRACE calls, which means 8760
>>>> or more ray-tracing simulations, which is slow.
>>>>
>>>> Accordingly, Daysim (which uses the 2-phase method) runs one
>>>> ray-tracing simulation that calculates the Daylight Coefficient
>>>> matrix (this can be done in pure radiance by using RCONTRIB). This
>>>> matrix relates the sensors
>>>> (workplane?) in the scene with the sky, mich means that you can
>>>> modify the sky and quickly evaluate illuminance in the same points.
>>>> This allows performing annual simulations fast (only the sky changes
>>>> in a static annual simulation). 3 and 5 phase method are extensions
>>>> to this that allow also modifying the CFSs in the scene.
>>>>
>>>> Hope that clarify a little bit.
>>>>
>>>>
>>>>
>>>>
>>>> -----Original Message-----
>>>> From: radiance-general-request at radiance-online.org
>>>> [mailto:radiance-general-request at radiance-online.org]
>>>> Sent: 10 August 2015 14:20
>>>> To: radiance-general at radiance-online.org
>>>> Subject: Radiance-general Digest, Vol 138, Issue 12
>>>>
>>>> Send Radiance-general mailing list submissions to
>>>>          radiance-general at radiance-online.org
>>>>
>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> or, via email, send a message with subject or body 'help' to
>>>>          radiance-general-request at radiance-online.org
>>>>
>>>> You can reach the person managing the list at
>>>>          radiance-general-owner at radiance-online.org
>>>>
>>>> When replying, please edit your Subject line so it is more specific
>>>> than
>>>> "Re: Contents of Radiance-general digest..."
>>>>
>>>>
>>>> Today's Topics:
>>>>
>>>>     1. Re: Ray-tracing with Radiance (Germ?n Molina Larrain)
>>>>
>>>>
>>>> --------------------------------------------------------------------
>>>> --
>>>>
>>>> Message: 1
>>>> Date: Mon, 10 Aug 2015 10:19:18 -0300
>>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>>> To: Radiance general discussion
>>>> <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] Ray-tracing with Radiance
>>>> Message-ID:
>>>>
>>>> <CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g at mail.gmail.com>
>>>> Content-Type: text/plain; charset="utf-8"
>>>>
>>>> Ikrima,
>>>>
>>>> Strictly speaking, Radiance always use ray-tracing. Whenever you
>>>> call RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>>> simulation performed. However, when you want to perform annual
>>>> simulations, you will want to do as few ray-tracing simulations as
>>>> possible since they take time.
>>>> RTRACE, for example, is a method used to calculate the illuminance
>>>> or luminance of a point (sensor) in a static scene. Doing this for a
>>>> whole year would require 8760 or more RTRACE calls, which means 8760
>>>> or more ray-tracing simulations, which is slow.
>>>>
>>>> Accordingly, Daysim (which uses the 2-phase method) runs one
>>>> ray-tracing simulation that calculates the Daylight Coefficient
>>>> matrix (this can be done in pure radiance by using RCONTRIB). This
>>>> matrix relates the sensors
>>>> (workplane?) in the scene with the sky, mich means that you can
>>>> modify the sky and quickly evaluate illuminance in the same points.
>>>> This allows performing annual simulations fast (only the sky changes
>>>> in a static annual simulation). 3 and 5 phase method are extensions
>>>> to this that allow also modifying the CFSs in the scene.
>>>>
>>>> Hope that clarify a little bit.
>>>>
>>>> Best,
>>>>
>>>> Germ?n
>>>>
>>>>
>>>>
>>>> 2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:
>>>>
>>>>> Hello Robert,
>>>>> Hello all,
>>>>>
>>>>> As some of you may remember, I am trying to model a set of CFS to
>>>>> compare their effect on indoor horizontal illuminance of a room. So
>>>>> far, I have been advised by you for several stages, which really
>>>>> helped me a lot for better understanding of radiance and how it works.
>>>>>
>>>>> Now, I have a question about how I use ray-tracing method in radiance?
>>>>> Is it similar to the way explained through the following attachment?
>>>>> As here, calculations are run using Radiance engine but Ecotect or
>>>>> Daysim interface (for geometry modelling and material assignment).
>>>>>
>>>>> Document:
>>>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/
>>>>> Ge t tingStartedwithEcotectRadianceDaysim.pdf
>>>>>
>>>>> I hope if you can kindly advise me on that asap, please?
>>>>>
>>>>>
>>>>> Best regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>> -----Original Message-----
>>>>> From: radiance-general-request at radiance-online.org [mailto:
>>>>> radiance-general-request at radiance-online.org]
>>>>> Sent: 12 July 2015 20:37
>>>>> To: radiance-general at radiance-online.org
>>>>> Subject: Radiance-general Digest, Vol 137, Issue 12
>>>>>
>>>>> Send Radiance-general mailing list submissions to
>>>>>           radiance-general at radiance-online.org
>>>>>
>>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> or, via email, send a message with subject or body 'help' to
>>>>>           radiance-general-request at radiance-online.org
>>>>>
>>>>> You can reach the person managing the list at
>>>>>           radiance-general-owner at radiance-online.org
>>>>>
>>>>> When replying, please edit your Subject line so it is more specific
>>>>> than
>>>>> "Re: Contents of Radiance-general digest..."
>>>>>
>>>>>
>>>>> Today's Topics:
>>>>>
>>>>>      1. Git for Windows and starting tutorials (Ikrima Amaireh)
>>>>>
>>>>>
>>>>> -------------------------------------------------------------------
>>>>> --
>>>>> -
>>>>>
>>>>> Message: 1
>>>>> Date: Sun, 12 Jul 2015 20:36:19 +0100
>>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> Subject: [Radiance-general] Git for Windows and starting tutorials
>>>>> Message-ID:
>>>>>           <
>>>>> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.
>>>>> uk>
>>>>>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi Robert,
>>>>>
>>>>> Many thanks for your help.
>>>>>
>>>>> I have installed Git for Windows as you adviced :) Now, Before I
>>>>> start  with 3 or 5-phase tutorials, I'm thinking to go through
>>>>> "radiance tutorial"
>>>>> (by Axel Jacobs) as a beginner with almost a shallow
>>>>> knowledge/experience of radiance. So, do recommend this (radiance
>>>>> tutorial would be enough to start with 3 or 5-phase methods and
>>>>> understanding of BSDF data approach,
>>>>> etc) or advice another tutorial/source for better understanding of
>>>>> radiance basics (using command prompt)?
>>>>>
>>>>> Many thanks again :)
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 2
>>>>> Date: Fri, 10 Jul 2015 15:52:23 +0000
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>>>>>           Issue 8
>>>>> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> OK so it sounds like you first tried the Windows installer
>>>>> (presumably a NREL-provided one such as this:
>>>>> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.
>>>>> 0.a-w in64.exe), and this most likely worked fine, you just had
>>>>> some issues actually *doing* anything with it. This is normal. =)
>>>>>
>>>>> I recommend you install Git for windows
>>>>> (https://msysgit.github.io/), as that will add a little BASH
>>>>> emulator in your Windows system. This way you can run most of the
>>>>> commands exactly as they appear in most of the tutorials out there
>>>>> that are written from a UNIX perspective (as you point out). If you
>>>>> run the "Git BASH shell" you will be able to try out all the multi-phase methods, use and generate BSDFs, etc.
>>>>> Once you have Git for Windows installed, head over to Andy McNeil's
>>>>> tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be
>>>>> in the Git program group in the Windows start menu), and get started!
>>>>>
>>>>> One thing to keep in mind is that when running any commands that
>>>>> read/write data (e.g. rcontrib), be sure to use ASCII format rather
>>>>> than float. Windows has issues with float data (among many other
>>>>> things).
>>>>>
>>>>> Good luck!
>>>>>
>>>>> - Rob
>>>>>
>>>>> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi Robert,
>>>>>>
>>>>>> My PC is running on Windows 7 Enterprise.
>>>>>> Initially, I installed Radiance for Window using its installer but
>>>>>> I found that most of the tutorials are provided for pc with Linux
>>>>>> and/or Linux-like operating systems; So I had to install try
>>>>>> learnix (that did not work) and Ubuntu (also did not work)!
>>>>>> Finally, I tried to use Cygwin to run Radiance on Window OS. I
>>>>>> could install Cygwin (works fine), Xming (not sure if working) and
>>>>>> Radiance (not all its programs are working!).
>>>>>>
>>>>>> I'm a bit confused as I'm not sure if running Radiance on windows
>>>>>> using Cygwin will be enough for carrying my work. For example, can
>>>>>> I work out phases methods and generate BSDF data?
>>>>>>
>>>>>> I wish if you can help me to do that.
>>>>>>
>>>>>> Many thanks
>>>>>> ikrima
>>>>>>
>>>>>>
>>>>>>
>>>>>> ------------------------------
>>>>>>
>>>>>> Message: 3
>>>>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>>> To: "radiance-general at radiance-online.org"
>>>>>>         <radiance-general at radiance-online.org>
>>>>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>>>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>>
>>>>>> Hi Ikrima,
>>>>>>
>>>>>> We'll need a bit more info, here. What OS are you on? How are you
>>>>>> attempting to install it (using an installer, compiling from
>>>>>> source, or what)? What happens when you try??
>>>>>>
>>>>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>>
>>>>>>> Hi all,
>>>>>>>
>>>>>>> After one a few weeks of trying, I could not manage to install
>>>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>>>
>>>>>>> Regards
>>>>>>> Ikrima
>>>>>>
>>>>>>
>>>>>> This message and any attachment are intended solely for the
>>>>>> addressee and may contain confidential information. If you have
>>>>>> received this message in error, please send it back to me, and
>>>>> immediately delete it.
>>>>>> Please do not use, copy or disclose the information contained in
>>>>>> this message or in any attachment.  Any views or opinions
>>>>>> expressed by the author of this email do not necessarily reflect
>>>>>> the views of the University of Nottingham.
>>>>>>
>>>>>> This message has been checked for viruses but the contents of an
>>>>>> attachment may still contain software viruses which could damage
>>>>>> your computer system, you are advised to perform your own checks.
>>>>>> Email communications with the University of Nottingham may be
>>>>>> monitored as permitted by UK legislation.
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 3
>>>>> Date: Fri, 10 Jul 2015 17:34:30 +0100
>>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> Subject: [Radiance-general] Modelling CFS
>>>>> Message-ID:
>>>>>           <
>>>>> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.
>>>>> uk>
>>>>>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi all,
>>>>>
>>>>> Thanks Robert and Larrain for your detailed replies, that helped me
>>>>> a lot.
>>>>>
>>>>> I would summarise here what I got form your appreciated replies, as
>>>>> following:
>>>>> - Radiance is convenient and best of tools to model daylighting due
>>>>> to its ray-tracing method.
>>>>> - 3 or 5-phases methods are used to facilitate the calculations.
>>>>> - Generating BSDF data is also used to facilitate these
>>>>> calculations but it is limited to Klems resolution of some CFS.
>>>>>
>>>>> Initially, I'm not planning to do annual calculations. It's just
>>>>> for specific hours of the day and the target is to produce a
>>>>> illuminance levels for indoor grid under different CFSs. Hence,
>>>>> according to my understanding from Larrain words, I can use either
>>>>> 2-phase or Ray-tracing methods. My question is how can I
>>>>> draw/define the CFS geometry and Space for these calculations? Is
>>>>> it similar to the way use in Ecotect/Radiance calculations?
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>    -----Original Message-----
>>>>> From: radiance-general-request at radiance-online.org [mailto:
>>>>> radiance-general-request at radiance-online.org]
>>>>> Sent: 09 July 2015 19:56
>>>>> To: radiance-general at radiance-online.org
>>>>> Subject: Radiance-general Digest, Vol 137, Issue 8
>>>>>
>>>>> Send Radiance-general mailing list submissions to
>>>>>           radiance-general at radiance-online.org
>>>>>
>>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> or, via email, send a message with subject or body 'help' to
>>>>>           radiance-general-request at radiance-online.org
>>>>>
>>>>> You can reach the person managing the list at
>>>>>           radiance-general-owner at radiance-online.org
>>>>>
>>>>> When replying, please edit your Subject line so it is more specific
>>>>> than
>>>>> "Re: Contents of Radiance-general digest..."
>>>>>
>>>>>
>>>>> Today's Topics:
>>>>>
>>>>>      1. CFS with Radiance (Ikrima Amaireh)
>>>>>      2. Could not install Radiance!!! (Ikrima Amaireh)
>>>>>      3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>>>>>      4. Re: CFS with Radiance (Guglielmetti, Robert)
>>>>>      5. Re: CFS with Radiance (Germ?n Molina Larrain)
>>>>>
>>>>>
>>>>> -------------------------------------------------------------------
>>>>> --
>>>>> -
>>>>>
>>>>> Message: 1
>>>>> Date: Thu, 9 Jul 2015 17:26:29 +0100
>>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> Subject: [Radiance-general] CFS with Radiance
>>>>> Message-ID:
>>>>>           <
>>>>> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.
>>>>> uk>
>>>>>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi G. Larrain,
>>>>>
>>>>> Thanks for your detailed clarification (below).
>>>>>
>>>>> I wonder if you kindly can help me toward better understanding and
>>>>> answering the following:
>>>>>
>>>>> We agreed that for daylight modelling of spaces with CFS, Radiance
>>>>> is a suitable tool as it applies ray-tracing method. And for annual
>>>>> and/or climate-based daylight calculations, as calculation time
>>>>> becomes a critical factor, using BSDF data for CFS is highly
>>>>> recommended to tackle the task with radiance (using phases methods).
>>>>> However:
>>>>>
>>>>> - if someone needs to perform daylight calculations for given space
>>>>> with different CFS (different cases for comparison purposes) to get
>>>>> illumination levels for horizontal grid points (and not pictures
>>>>> nor scenes), is Radiance still the most convenient option?
>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>>
>>>>>
>>>>> Many thanks for your kind help :)
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>> "Ikrima,
>>>>>
>>>>> I am going to try to build the puzzle of CFS, Phases, BSDF and
>>>>> calculations.... at least the way I understand it.
>>>>>
>>>>> *CFS* are those systems that, via interreflection or other light
>>>>> transport phenomena, redirect light (or solar radiation). Thus, in
>>>>> order to get a reliable result you will have to consider all the
>>>>> phenomena involved.
>>>>> Then, *common
>>>>> simple performance indexes*, such as the miss-used Shading
>>>>> Coefficient  and the Aperture Percentage, *always loose a lot of
>>>>> information,  trying to reduce all the complex behavior of a CFS to
>>>>> one single  number*. We all know that venetian blinds are more
>>>>> "transparent" from  certain viewing directions than from others,
>>>>> but these performance indexes do not tell you that.
>>>>>
>>>>> Now... Radiance can certainly perform calculations of spaces with
>>>>> CFS using its "common" Ray-tracing. However, this may be slow for
>>>>> some purposes (i.e.
>>>>> annual simulations and climate-based daylight modelling), and *this
>>>>> is why 2, 3 and 5 phase methods have been developed*. The *BSDF*
>>>>> representation, I would say, goes in the same direction... It allow
>>>>> summarizing all the bounces, reflections, refractions, etc.  that
>>>>> occure withing the CFS in a single matrix or tensor.* By using
>>>>> BSDFs*, Radiance itself and other tools (i.e. EnergyPlus) can treat
>>>>> CFS as blackboxes, avoiding all the opcits within the system. A
>>>>> BSDF that uses the Klems Full representation has
>>>>> 21,045 numbers (instead of one, such as the Shading Coefficient).
>>>>>
>>>>> Being said all that, I would not trust a calculation method unless
>>>>> it can actually deal with the optics of a CFS that is drawn and/or
>>>>> it can use BSDF (or similar) information.
>>>>>
>>>>> Lets remember that a perforated screen, a venetian blind, a light
>>>>> diffusing device can all have a Shading Coefficient of 50%, but all
>>>>> of them will behave very differently. I made some presentations
>>>>> about this on my previous work (we sold complex Shading Devices),
>>>>> trying to promote the use of BSDF in EnergyPlus calculations... the
>>>>> differences (in solar heat gains) were more than considerable.
>>>>>
>>>>> I hope that someone else gives us his/her perspective on this topic...
>>>>> there are a lot of concepts that I might be misunderstanding.
>>>>>
>>>>> Best!"
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 2
>>>>> Date: Thu, 9 Jul 2015 17:38:41 +0100
>>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> Subject: [Radiance-general] Could not install Radiance!!!
>>>>> Message-ID:
>>>>>           <
>>>>> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.
>>>>> uk>
>>>>>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi all,
>>>>>
>>>>> After one a few weeks of trying, I could not manage to install
>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 3
>>>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi Ikrima,
>>>>>
>>>>> We'll need a bit more info, here. What OS are you on? How are you
>>>>> attempting to install it (using an installer, compiling from
>>>>> source, or what)? What happens when you try??
>>>>>
>>>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi all,
>>>>>>
>>>>>> After one a few weeks of trying, I could not manage to install
>>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>>
>>>>>> Regards
>>>>>> Ikrima
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> This message and any attachment are intended solely for the
>>>>>> addressee and may contain confidential information. If you have
>>>>>> received this message in error, please send it back to me, and
>>>>> immediately delete it.
>>>>>> Please do not use, copy or disclose the information contained in
>>>>>> this message or in any attachment.  Any views or opinions
>>>>>> expressed by the author of this email do not necessarily reflect
>>>>>> the views of the University of Nottingham.
>>>>>>
>>>>>> This message has been checked for viruses but the contents of an
>>>>>> attachment may still contain software viruses which could damage
>>>>>> your computer system, you are advised to perform your own checks.
>>>>>> Email communications with the University of Nottingham may be
>>>>>> monitored as permitted by UK legislation.
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 4
>>>>> Date: Thu, 9 Jul 2015 17:29:39 +0000
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] CFS with Radiance
>>>>> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Some very quick replies and clarifications within:
>>>>>
>>>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi G. Larrain,
>>>>>>
>>>>>> Thanks for your detailed clarification (below).
>>>>>>
>>>>>> I wonder if you kindly can help me toward better understanding and
>>>>>> answering the following:
>>>>>>
>>>>>> We agreed that for daylight modelling of spaces with CFS, Radiance
>>>>>> is a suitable tool as it applies ray-tracing method. And for
>>>>>> annual and/or climate-based daylight calculations, as calculation
>>>>>> time becomes a critical factor, using BSDF data for CFS is highly
>>>>>> recommended to tackle the task with radiance (using phases methods).
>>>>> However:
>>>>>
>>>>>
>>>>> BSDF data in an annual simulation context is generally limited to
>>>>> Klems basis BSDF data, which may not be high enough resolution for
>>>>> some CFS. And the 5-phase method, which can circumvent this, is not
>>>>> necessarily "quick".
>>>>> This is all still very much a quandary and the newest daylight
>>>>> metrics  have added confusion to all of this, IMO.
>>>>>
>>>>>
>>>>>> - if someone needs to perform daylight calculations for given
>>>>>> space with different CFS (different cases for comparison purposes)
>>>>>> to get illumination levels for horizontal grid points (and not
>>>>>> pictures nor scenes), is Radiance still the most convenient option?
>>>>> Absolutely. The lack of an image-as-output requirement does not
>>>>> change  the fact that ray tracing is a good/convenient algorithm
>>>>> option for  daylight simulation problems, especially when dealing
>>>>> with diffusing  media and CFS in general. BSDFs allow you to do
>>>>> lots of "what-ifs",  relatively quickly, but are beholden to the
>>>>> limitations of the resolution of the BSDF.
>>>>>
>>>>>
>>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>> Is what still needed? BSDF data? Ray tracing? I don't know of other
>>>>> lighting simulation tools that can employ the multiphase methods. I
>>>>> would say BSDF data is optional for 2-phase, required for 3-phase,
>>>>> and optional for 5-phase.
>>>>>
>>>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>>> available to you in general. If you have a geometric model of the
>>>>> CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>>>>> use that in a 3- or 5-phase context. However in an
>>>>> annual/climate-based simulation context, you will be stuck with a
>>>>> Klems basis BSDF and that will not be very good resolution for a
>>>>> lot of CFS; here you may want to use the 5-phase method and stick
>>>>> the actual CFS geometry in the building model.
>>>>>
>>>>> Some things to consider here are the photon map, now a part of
>>>>> Radiance proper, or using the 2-phase method where appropriate. By
>>>>> 2-phase method I mean generating a daylight matrix for your
>>>>> calculation points (or view), and modeling the window material as-is.
>>>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>>> Radiance "trans". Same for translucent panels.
>>>>> With this single daylight matrix, you can throw a vector of sky
>>>>> matrices at it and get an annual climate-based result very quickly.
>>>>> Problem is, we want to do stuff to the windows, sometimes at the
>>>>> time step level, so:
>>>>>
>>>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>>> are  best represented as BSDF, and if most of the redirected flux
>>>>> is headed  up and away from the points of interest, a Klems basis
>>>>> BSDF is good  enough IMO. In these cases you could use the 3-phase method.
>>>>> Problem  is when you have a BSDF for blinds, and you also want to
>>>>> simulate the  blinds-up condition (i.e. clear, specularly
>>>>> transmitting glass). Using  a Klems basis BSDF for this is
>>>>> sub-optimal. You end up needing to do  two annual simulations, one
>>>>> as 2-phase for the clear glass scenario,  and again as a 3-phase
>>>>> (with a blinds BSDF for the transmission
>>>>> matrix) for the blinds down condition. If you have a lot of
>>>>> different window groups, your simulation space can get large in a
>>>>> hurry. But it's still do-able and you can get results that tell a
>>>>> story you simply couldn't tell 5 years ago, informing the newest
>>>>> daylight metrics as well.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 5
>>>>> Date: Thu, 9 Jul 2015 15:56:11 -0300
>>>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>>>> To: Radiance general discussion
>>>>> <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] CFS with Radiance
>>>>> Message-ID:
>>>>>           <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
>>>>> FZL-Q at mail.gmail.com>
>>>>> Content-Type: text/plain; charset="utf-8"
>>>>>
>>>>> I must say that I agree with Rob, however, a short answer that
>>>>> might help.
>>>>>
>>>>> For evaluating illuminance levels in a space with different CFS
>>>>> you, strictly speaking, DO NOT HAVE TO do anything. You may choose
>>>>> between different methods that have some pros and cons.
>>>>>
>>>>>
>>>>> *ray-tracing*
>>>>>
>>>>>      - Requires ray-tracing for each time-step and each system,
>>>>> which is slow
>>>>>      (*four systems simulated annualy in an hourly basis --> 4*8760
>>>>> =
>>>>> 35,040
>>>>>      simulations*.)
>>>>>      - As accurate as it gets, if options are defined correctly.
>>>>>
>>>>>
>>>>> *2 phase method*
>>>>>
>>>>>      - Do not need the BSDF
>>>>>      - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>>>>>      simulations*)
>>>>>      - After ray-tracing, annual simulation is fast.
>>>>>
>>>>> *3-phase method:*
>>>>>
>>>>>      - Requires BSDF data in KLEMS basis, which may be slow to compute,
>>>>>      unless it can be exported from WINDOW, for example, or such data has
>>>>>      already been calculated (the idea is to make a database, I think).
>>>>>      - Does not really work well for specular systems (Klems patches
>>>>> are too
>>>>>      big)
>>>>>      - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>>>>>      simulations*)
>>>>>      - After ray-tracing and BSDF calculation, annual simulation is
>>>>> fast
>>>>>
>>>>> *5-phase method:*
>>>>>
>>>>>      - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format,
>>>>> which
>>>>>      may be slow to compute, unless it can be exported from WINDOW,
>>>>> for example,
>>>>>      or such data has already been calculated (the idea is to make a
>>>>> database, I
>>>>>      think).
>>>>>      - Works well for specular systems
>>>>>      - Requires 4 ray-tracing runs + 1 for each system, always (*4
>>>>> systems
>>>>>      --> 4+1 = 5 ray-tracing simulations*)
>>>>>      - Hard to code...?
>>>>>      - After ray-tracing and BSDF calculation, annual simulation is
>>>>> fast
>>>>>
>>>>>
>>>>> I would not say there is a recipe. If you have to choose between 1
>>>>> or
>>>>> 2 CFSs, maybe it is faster to just draw them and use the 2 phase
>>>>> method (or ray-tracing if an annual simulaton is not required). On
>>>>> the contrary, if you are going to test 10 different CFSs, 3 and 5
>>>>> phases may make sense, since you reduce the expensive ray-tracing
>>>>> calculations... However, this will also depend on weather you have
>>>>> the BSDF data AND/OR if it makes sense to calculate it and store it
>>>>> AND/OR if you intend to simulate a dynamically controlled CFS.
>>>>>
>>>>> Best!
>>>>>
>>>>> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
>>>>> Robert.Guglielmetti at nrel.gov>:
>>>>>
>>>>>> Some very quick replies and clarifications within:
>>>>>>
>>>>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>>
>>>>>>> Hi G. Larrain,
>>>>>>>
>>>>>>> Thanks for your detailed clarification (below).
>>>>>>>
>>>>>>> I wonder if you kindly can help me toward better understanding
>>>>>>> and answering the following:
>>>>>>>
>>>>>>> We agreed that for daylight modelling of spaces with CFS,
>>>>>>> Radiance is a suitable tool as it applies ray-tracing method. And
>>>>>>> for annual and/or climate-based daylight calculations, as
>>>>>>> calculation time becomes a critical factor, using BSDF data for
>>>>>>> CFS is highly recommended to tackle the task with radiance (using phases methods).
>>>>> However:
>>>>>> BSDF data in an annual simulation context is generally limited to
>>>>>> Klems basis BSDF data, which may not be high enough resolution for
>>>>>> some CFS. And the 5-phase method, which can circumvent this, is
>>>>>> not
>>>>> necessarily "quick".
>>>>>> This is all still very much a quandary and the newest daylight
>>>>>> metrics have added confusion to all of this, IMO.
>>>>>>
>>>>>>
>>>>>>> - if someone needs to perform daylight calculations for given
>>>>>>> space with different CFS (different cases for comparison
>>>>>>> purposes) to get illumination levels for horizontal grid points
>>>>>>> (and not pictures nor scenes), is Radiance still the most convenient option?
>>>>>> Absolutely. The lack of an image-as-output requirement does not
>>>>>> change the fact that ray tracing is a good/convenient algorithm
>>>>>> option for daylight simulation problems, especially when dealing
>>>>>> with diffusing media and CFS in general. BSDFs allow you to do
>>>>>> lots of "what-ifs", relatively quickly, but are beholden to the
>>>>>> limitations of the
>>>>> resolution of the BSDF.
>>>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>>> Is what still needed? BSDF data? Ray tracing? I don't know of
>>>>>> other lighting simulation tools that can employ the multiphase
>>>>>> methods. I would say BSDF data is optional for 2-phase, required
>>>>>> for 3-phase, and optional for 5-phase.
>>>>>>
>>>>>>> - most importantly, is it still needed to get BSDF data for CFS
>>>>>>> or just can model the detailed CFS in Radiance (and, if yes,
>>>>>>> how?)
>>>>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>>>> available to you in general. If you have a geometric model of the
>>>>>> CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>>>>>> use that in a 3- or 5-phase context. However in an
>>>>>> annual/climate-based simulation context, you will be stuck with a
>>>>>> Klems basis BSDF and that will not be very good resolution for a
>>>>>> lot of CFS; here you may want to use the 5-phase method and stick
>>>>>> the actual CFS geometry in the
>>>>> building model.
>>>>>> Some things to consider here are the photon map, now a part of
>>>>>> Radiance proper, or using the 2-phase method where appropriate. By
>>>>>> 2-phase method I mean generating a daylight matrix for your
>>>>>> calculation points (or view), and modeling the window material as-is.
>>>>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>>>> Radiance
>>>>> "trans". Same for translucent panels.
>>>>>> With this single daylight matrix, you can throw a vector of sky
>>>>>> matrices at it and get an annual climate-based result very quickly.
>>>>>> Problem is, we want to do stuff to the windows, sometimes at the
>>>>>> time
>>>>> step level, so:
>>>>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>>>> are best represented as BSDF, and if most of the redirected flux
>>>>>> is headed up and away from the points of interest, a Klems basis
>>>>>> BSDF is good enough IMO. In these cases you could use the 3-phase method.
>>>>>> Problem is when you have a BSDF for blinds, and you also want to
>>>>>> simulate the blinds-up condition (i.e. clear, specularly
>>>>>> transmitting glass). Using a Klems basis BSDF for this is
>>>>>> sub-optimal. You end up needing to do two annual simulations, one
>>>>>> as 2-phase for the clear glass scenario, and again as a 3-phase
>>>>>> (with a blinds BSDF for the transmission
>>>>>> matrix) for the blinds down condition. If you have a lot of
>>>>>> different window groups, your simulation space can get large in a
>>>>>> hurry. But it's still do-able and you can get results that tell a
>>>>>> story you simply couldn't tell 5 years ago, informing the newest
>>>>>> daylight metrics
>>>>> as well.
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>> -------------- next part -------------- An HTML attachment was
>>>>> scrubbed...
>>>>> URL: <
>>>>> http://www.radiance-online.org/pipermail/radiance-general/attachmen
>>>>> ts
>>>>> /
>>>>> 20150709/cfbdd4da/attachment.html
>>>>> ------------------------------
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> End of Radiance-general Digest, Vol 137, Issue 8
>>>>> ************************************************
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> End of Radiance-general Digest, Vol 137, Issue 9
>>>>> ************************************************
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> End of Radiance-general Digest, Vol 137, Issue 12
>>>>> *************************************************
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>> -------------- next part -------------- An HTML attachment was
>>>> scrubbed...
>>>> URL:
>>>> <http://www.radiance-online.org/pipermail/radiance-general/attachmen
>>>> ts/
>>>> 201
>>>> 50810/959f6779/attachment.html>
>>>>
>>>> ------------------------------
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> End of Radiance-general Digest, Vol 138, Issue 12
>>>> *************************************************
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the
>>>> addressee and may contain confidential information. If you have
>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in
>>>> this message or in any attachment.  Any views or opinions expressed
>>>> by the author of this email do not necessarily reflect the views of
>>>> the University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage
>>>> your computer system, you are advised to perform your own checks.
>>>> Email communications with the University of Nottingham may be
>>>> monitored as permitted by UK legislation.
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> End of Radiance-general Digest, Vol 138, Issue 15
>>> *************************************************
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the addressee
>>> and may contain confidential information. If you have received this
>>> message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in this
>>> message or in any attachment.  Any views or opinions expressed by the
>>> author of this email do not necessarily reflect the views of the
>>> University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage your
>>> computer system, you are advised to perform your own checks. Email
>>> communications with the University of Nottingham may be monitored as
>>> permitted by UK legislation.
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150811/db767220/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 138, Issue 22
> *************************************************
>
>
>
>
> This message and any attachment are intended solely for the addressee
> and may contain confidential information. If you have received this
> message in error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the
> University of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150812/a5d36db0/attachment-0001.html>

From wyasushi1107 at gmail.com  Fri Aug 14 20:59:09 2015
From: wyasushi1107 at gmail.com (=?UTF-8?B?5rih6YOo5a+n?=)
Date: Sat, 15 Aug 2015 12:59:09 +0900
Subject: [Radiance-general] How to define reflectance of near infrared of
	solar radiation
Message-ID: <CACS+dyqczqnY+5in+eC6pDwFF9NLhTjhBMnUP4a=wJis468XRg@mail.gmail.com>

Hi.I'm natchan.


Im investigating reflected light of sun from glazing of buildings with
radiance.

Radiance materials can be set reflectance of each RGB.

Then, can I define reflectance of near infrared(NIR, unvisible light) of
solar radiation?

Is the NIR reflectance equal to RGB reflectance?

I apologize for my poor English.

Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150815/21fd1f66/attachment.html>

From ezxia at nottingham.ac.uk  Mon Aug 17 02:23:53 2015
From: ezxia at nottingham.ac.uk (Ikrima Amaireh)
Date: Mon, 17 Aug 2015 09:23:53 +0000
Subject: [Radiance-general] rcontrib with 2-phase method?
Message-ID: <D6F8626B2970B340A369F74B4F551BABF464@UIWEXMBX11.ad.nottingham.ac.uk>

Dear Alstan,

Many thanks for your response. I'll do and let you know if there is more inquires, if possible?

Regards
ikrima

-----Original Message-----
From: radiance-general-request at radiance-online.org [mailto:radiance-general-request at radiance-online.org] 
Sent: 17 August 2015 03:54
To: radiance-general at radiance-online.org
Subject: Radiance-general Digest, Vol 138, Issue 31

Send Radiance-general mailing list submissions to
	radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request at radiance-online.org

You can reach the person managing the list at
	radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Gensky (Jiajie Zhu)
   2. Re: Gensky (Jia Hu)
   3. Re: rcontrib with 2-phase method? (J. Alstan Jakubiec)


----------------------------------------------------------------------

Message: 1
Date: Sun, 16 Aug 2015 22:07:55 +0100
From: "Jiajie Zhu" <jonathan.zhu.uk at gmail.com>
To: <radiance-general at radiance-online.org>
Subject: [Radiance-general] Gensky
Message-ID: <001101d0d867$9f453b50$ddcfb1f0$@gmail.com>
Content-Type: text/plain; charset="us-ascii"

Hi

 

Could someone tell me how Radiance calculate the radiation values for the
sun using gensky. I mean where do these values come from, based on what
theory or which model.

 

Many Thanks,

Jiajie

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150816/4dbb079e/attachment-0001.html>

------------------------------

Message: 2
Date: Sun, 16 Aug 2015 17:51:00 -0400
From: Jia Hu <hujia06 at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Gensky
Message-ID:
	<CABzgtwqrjAuQ0nL6xY3XUcyGsXqcJQX4FhJjbLCPjLJEmvfwPg at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Hi Jiajie,

you can read the man page and some materials.
*Gensky* produces a RADIANCE scene description for the CIE standard sky
distribution,
http://radsite.lbl.gov/radiance/man_html/gensky.1.html

http://www.bozzograo.net/radiance/index.php?name=FAQ#faq5
http://www.radiance-online.org/pipermail/radiance-general/2003-October/001087.html



On Sun, Aug 16, 2015 at 5:07 PM, Jiajie Zhu <jonathan.zhu.uk at gmail.com>
wrote:

> Hi
>
>
>
> Could someone tell me how Radiance calculate the radiation values for the
> sun using gensky. I mean where do these values come from, based on what
> theory or which model.
>
>
>
> Many Thanks,
>
> Jiajie
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150816/3c1be76f/attachment-0001.html>

------------------------------

Message: 3
Date: Wed, 12 Aug 2015 23:09:19 +0800
From: "J. Alstan Jakubiec" <alstan at jakubiec.net>
To: radiance-general at radiance-online.org
Subject: Re: [Radiance-general] rcontrib with 2-phase method?
Message-ID: <55CB619F.3070704 at jakubiec.net>
Content-Type: text/plain; charset="windows-1252"; Format="flowed"

Dear Ikrima,

Yes, I think that is a fair series statements, and it sounds right. You 
may want to read the Daysim paper in order to understand the methods a 
bit more,

    Reinhart, Christoph F., and Oliver Walkenhorst. "Validation of
    dynamic RADIANCE-based daylight simulations for a test office with
    external blinds." /Energy and Buildings/ 33.7 (2001): 683-697.

Best,
Alstan

On 8/12/2015 12:21 AM, Ikrima Amaireh wrote:
> Dear Alstan,
>
> Yes, you actually did :)
>
> What exactly I want to do is: modelling different CFS to assess their effect on indoor illuminance (Workplane). So, Daysim (with its current old version Radiance binaries) can do that; isn't it? At the same time, one can still say that simulations are based on the powerful Radiance tools, does that sound right, too?
>
> So far, I don't think I still need to use BSDF as there is no need for 3- nor 5-phase methods for such level of work!
>
> Can you please correct me if there is something wrong with my understanding/assumptions?
>
> Best regards
> Ikrima
>
> -----Original Message-----
> From: radiance-general-request at radiance-online.org [mailto:radiance-general-request at radiance-online.org]
> Sent: 11 August 2015 17:00
> To: radiance-general at radiance-online.org
> Subject: Radiance-general Digest, Vol 138, Issue 22
>
> Send Radiance-general mailing list submissions to
>          radiance-general at radiance-online.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>          http://www.radiance-online.org/mailman/listinfo/radiance-general
> or, via email, send a message with subject or body 'help' to
>          radiance-general-request at radiance-online.org
>
> You can reach the person managing the list at
>          radiance-general-owner at radiance-online.org
>
> When replying, please edit your Subject line so it is more specific than "Re: Contents of Radiance-general digest..."
>
>
> Today's Topics:
>
>     1. Re: rcontrib with 2-phase method? (J. Alstan Jakubiec)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 11 Aug 2015 23:38:14 +0800
> From: "J. Alstan Jakubiec" <alstan at jakubiec.net>
> To: radiance-general at radiance-online.org
> Cc: radiance-daysim at radiance-online.org
> Subject: Re: [Radiance-general] rcontrib with 2-phase method?
> Message-ID: <55CA16E6.1020404 at jakubiec.net>
> Content-Type: text/plain; charset="windows-1252"; Format="flowed"
>
> Dear Ikrima,
>
> Daysim comes with its own special version of the Radiance binaries that can be downloaded at the Daysim website <http://daysim.ning.com/>. These get stored in c:\DAYSIM\bin\ after installation on Windows.
> Unfortunately the binaries are based on an older Radiance version, so you miss some options like using BSDF data. Still, Daysim is perfectly serviceable for most cases. I hope I understood your question.
>
> Best,
> Alstan
>
> On 8/11/2015 11:09 PM, Guglielmetti, Robert wrote:
>> I really have no experience with Daysim at this point so I really am
>> not the best person to answer this one, sorry. In a general sense,
>> with respect to Daysim and Radiance you'd use one or the other, not
>> both. The Radiance daylight coefficient method (i.e. using rcontrib
>> and other tools in Radiance to do a 2-phase annual simulation) *is*
>> basically the same thing as Daysim. Hope this helps but it probably
>> doesn't. =/
>>
>>
>>
>> On 8/11/15, 4:54 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>
>>> Dear Robert,
>>>
>>> Thanks for making clear that using rcontrib and using 3/5 phase
>>> methods need a recent version of radiance. does that apply to using
>>> 2-phse
>>> (Daysim) or one can still use old versions of radiance (as I have a
>>> problem yet with installing recent versions of radiance and link it
>>> with Daysim tool)?
>>>
>>> Many thanks for you in advance:
>>>
>>> Regards,,,
>>> ikriam
>>>
>>> ------------------------------
>>>
>>> Message: 2
>>> Date: Mon, 10 Aug 2015 17:03:49 +0000
>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>> To: "radiance-general at radiance-online.org"
>>>          <radiance-general at radiance-online.org>
>>> Subject: Re: [Radiance-general] Ray-tracing with Radiance
>>> Message-ID: <D1EE1EEF.1B923%Robert.Guglielmetti at nrel.gov>
>>> Content-Type: text/plain; charset="us-ascii"
>>>
>>> There is a daysim-specific mailing list that may be useful for some
>>> of your questions:
>>>
>>> http://www.radiance-online.org/community/mailing-lists/subscribe/radi
>>> ance-
>>> d
>>> aysim
>>>
>>>
>>> I can tell you that if you're planning to use rcontrib and do 3- or
>>> 5-phase type stuff, you definitely should be using a recent version
>>> of Radiance. Either build from latest source, or use one of the NREL
>>> pre-built packages (I recommend v5):
>>>
>>> https://github.com/NREL/Radiance/releases/tag/5.0.a.3
>>>
>>>
>>>
>>>
>>> On 8/10/15, 9:14 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>
>>>> Dear Germ?n,
>>>>
>>>> Many thanks for you. I agree with you totally that all Radiance
>>>> works need to apply ray-tracing approach as the core principle of it.
>>>> However, what I meant by using ray-tracing in radiance, was the
>>>> using of RTRACE directly through stand-alone radiance tool (as you
>>>> kindly mentioned).
>>>>
>>>> As you clarified, Daysim uses 2-phase method to do annual simulation
>>>> (2nd
>>>> phase) fast, based on pre-calculated Daylight Coefficient Matrix
>>>> (1st phase). Now, if I need to produce the illuminance levels
>>>> (produced by specific CFS) at the Workplane under static scene, can
>>>> I still use Daysim for that? Or, shall I stick to RTRACE tool
>>>> directly through pure Radiance?
>>>>
>>>> And, if I have to stick to using Pure Radiance (RTRACE), is the
>>>> method detailed in the attached document (hope, you see that: where
>>>> Geometry and Workplane sensors are built in Ecotect and directly
>>>> exported to Radiance engine), is it still valid?
>>>>
>>>>
>>>> Finally, in both cases (using pure Radiance and/or Daysim), shall we
>>>> replace the Radiance tool (works as engine) by the latest released
>>>> version (i.e. Version 4.2 or recent?) as the one works with
>>>> Ecotect-Radiance approach (I'm not sure about Daysim, yet) is old
>>>> version (2.0; in think!)?
>>>>
>>>>
>>>> Really, I am grateful to you for your appreciated help and looking
>>>> to hear from you again :)
>>>>
>>>> Regards,,,
>>>>
>>>> Ikrima
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>> As some of you may remember, I am trying to model a set of CFS to
>>>>> compare their effect on indoor horizontal illuminance of a room.
>>>> So  far, I have been advised by you for several stages, which really
>>>> helped me a lot for better understanding of radiance and how it works.
>>>> Now, I have a question about how I use ray-tracing method in radiance?
>>>> Is it similar to the way explained through the following attachment?
>>>> As here, calculations are run using Radiance engine but Ecotect or
>>>> Daysim interface (for geometry modelling and material assignment).
>>>> Document:
>>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/G
>>>> ett
>>>> ing
>>>> StartedwithEcotectRadianceDaysim.pdf
>>>>
>>>> I hope if you can kindly advise me on that asap, please?
>>>>
>>>>
>>>> Ikrima,
>>>>
>>>> Strictly speaking, Radiance always use ray-tracing. Whenever you
>>>> call RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>>> simulation performed. However, when you want to perform annual
>>>> simulations, you will want to do as few ray-tracing simulations as
>>>> possible since they take time.
>>>> RTRACE, for example, is a method used to calculate the illuminance
>>>> or luminance of a point (sensor) in a static scene. Doing this for a
>>>> whole year would require 8760 or more RTRACE calls, which means 8760
>>>> or more ray-tracing simulations, which is slow.
>>>>
>>>> Accordingly, Daysim (which uses the 2-phase method) runs one
>>>> ray-tracing simulation that calculates the Daylight Coefficient
>>>> matrix (this can be done in pure radiance by using RCONTRIB). This
>>>> matrix relates the sensors
>>>> (workplane?) in the scene with the sky, mich means that you can
>>>> modify the sky and quickly evaluate illuminance in the same points.
>>>> This allows performing annual simulations fast (only the sky changes
>>>> in a static annual simulation). 3 and 5 phase method are extensions
>>>> to this that allow also modifying the CFSs in the scene.
>>>>
>>>> Hope that clarify a little bit.
>>>>
>>>>
>>>>
>>>>
>>>> -----Original Message-----
>>>> From: radiance-general-request at radiance-online.org
>>>> [mailto:radiance-general-request at radiance-online.org]
>>>> Sent: 10 August 2015 14:20
>>>> To: radiance-general at radiance-online.org
>>>> Subject: Radiance-general Digest, Vol 138, Issue 12
>>>>
>>>> Send Radiance-general mailing list submissions to
>>>>          radiance-general at radiance-online.org
>>>>
>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> or, via email, send a message with subject or body 'help' to
>>>>          radiance-general-request at radiance-online.org
>>>>
>>>> You can reach the person managing the list at
>>>>          radiance-general-owner at radiance-online.org
>>>>
>>>> When replying, please edit your Subject line so it is more specific
>>>> than
>>>> "Re: Contents of Radiance-general digest..."
>>>>
>>>>
>>>> Today's Topics:
>>>>
>>>>     1. Re: Ray-tracing with Radiance (Germ?n Molina Larrain)
>>>>
>>>>
>>>> --------------------------------------------------------------------
>>>> --
>>>>
>>>> Message: 1
>>>> Date: Mon, 10 Aug 2015 10:19:18 -0300
>>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>>> To: Radiance general discussion
>>>> <radiance-general at radiance-online.org>
>>>> Subject: Re: [Radiance-general] Ray-tracing with Radiance
>>>> Message-ID:
>>>>
>>>> <CAF-iH4LVHB_V+Vmy-mSiv2EtUE25KDxtTAyJfao5Mi6fzFDU1g at mail.gmail.com>
>>>> Content-Type: text/plain; charset="utf-8"
>>>>
>>>> Ikrima,
>>>>
>>>> Strictly speaking, Radiance always use ray-tracing. Whenever you
>>>> call RPICT, RTRACE or RCONTRIB, there will always be a ray-tracing
>>>> simulation performed. However, when you want to perform annual
>>>> simulations, you will want to do as few ray-tracing simulations as
>>>> possible since they take time.
>>>> RTRACE, for example, is a method used to calculate the illuminance
>>>> or luminance of a point (sensor) in a static scene. Doing this for a
>>>> whole year would require 8760 or more RTRACE calls, which means 8760
>>>> or more ray-tracing simulations, which is slow.
>>>>
>>>> Accordingly, Daysim (which uses the 2-phase method) runs one
>>>> ray-tracing simulation that calculates the Daylight Coefficient
>>>> matrix (this can be done in pure radiance by using RCONTRIB). This
>>>> matrix relates the sensors
>>>> (workplane?) in the scene with the sky, mich means that you can
>>>> modify the sky and quickly evaluate illuminance in the same points.
>>>> This allows performing annual simulations fast (only the sky changes
>>>> in a static annual simulation). 3 and 5 phase method are extensions
>>>> to this that allow also modifying the CFSs in the scene.
>>>>
>>>> Hope that clarify a little bit.
>>>>
>>>> Best,
>>>>
>>>> Germ?n
>>>>
>>>>
>>>>
>>>> 2015-08-10 8:51 GMT-03:00 Ikrima Amaireh <ezxia at nottingham.ac.uk>:
>>>>
>>>>> Hello Robert,
>>>>> Hello all,
>>>>>
>>>>> As some of you may remember, I am trying to model a set of CFS to
>>>>> compare their effect on indoor horizontal illuminance of a room. So
>>>>> far, I have been advised by you for several stages, which really
>>>>> helped me a lot for better understanding of radiance and how it works.
>>>>>
>>>>> Now, I have a question about how I use ray-tracing method in radiance?
>>>>> Is it similar to the way explained through the following attachment?
>>>>> As here, calculations are run using Radiance engine but Ecotect or
>>>>> Daysim interface (for geometry modelling and material assignment).
>>>>>
>>>>> Document:
>>>>> http://web.mit.edu/sustainabledesignlab/projects/TeachingResources/
>>>>> Ge t tingStartedwithEcotectRadianceDaysim.pdf
>>>>>
>>>>> I hope if you can kindly advise me on that asap, please?
>>>>>
>>>>>
>>>>> Best regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>> -----Original Message-----
>>>>> From: radiance-general-request at radiance-online.org [mailto:
>>>>> radiance-general-request at radiance-online.org]
>>>>> Sent: 12 July 2015 20:37
>>>>> To: radiance-general at radiance-online.org
>>>>> Subject: Radiance-general Digest, Vol 137, Issue 12
>>>>>
>>>>> Send Radiance-general mailing list submissions to
>>>>>           radiance-general at radiance-online.org
>>>>>
>>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> or, via email, send a message with subject or body 'help' to
>>>>>           radiance-general-request at radiance-online.org
>>>>>
>>>>> You can reach the person managing the list at
>>>>>           radiance-general-owner at radiance-online.org
>>>>>
>>>>> When replying, please edit your Subject line so it is more specific
>>>>> than
>>>>> "Re: Contents of Radiance-general digest..."
>>>>>
>>>>>
>>>>> Today's Topics:
>>>>>
>>>>>      1. Git for Windows and starting tutorials (Ikrima Amaireh)
>>>>>
>>>>>
>>>>> -------------------------------------------------------------------
>>>>> --
>>>>> -
>>>>>
>>>>> Message: 1
>>>>> Date: Sun, 12 Jul 2015 20:36:19 +0100
>>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> Subject: [Radiance-general] Git for Windows and starting tutorials
>>>>> Message-ID:
>>>>>           <
>>>>> D697763F9F216044A99BC674C00561961358CA9C4C at EXCHANGE1.ad.nottingham.ac.
>>>>> uk>
>>>>>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi Robert,
>>>>>
>>>>> Many thanks for your help.
>>>>>
>>>>> I have installed Git for Windows as you adviced :) Now, Before I
>>>>> start  with 3 or 5-phase tutorials, I'm thinking to go through
>>>>> "radiance tutorial"
>>>>> (by Axel Jacobs) as a beginner with almost a shallow
>>>>> knowledge/experience of radiance. So, do recommend this (radiance
>>>>> tutorial would be enough to start with 3 or 5-phase methods and
>>>>> understanding of BSDF data approach,
>>>>> etc) or advice another tutorial/source for better understanding of
>>>>> radiance basics (using command prompt)?
>>>>>
>>>>> Many thanks again :)
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 2
>>>>> Date: Fri, 10 Jul 2015 15:52:23 +0000
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] Radiance-general Digest, Vol 137,
>>>>>           Issue 8
>>>>> Message-ID: <D1C542EA.1AE88%Robert.Guglielmetti at nrel.gov>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> OK so it sounds like you first tried the Windows installer
>>>>> (presumably a NREL-provided one such as this:
>>>>> https://github.com/NREL/Radiance/releases/download/5.0.a.3/radiance-5.
>>>>> 0.a-w in64.exe), and this most likely worked fine, you just had
>>>>> some issues actually *doing* anything with it. This is normal. =)
>>>>>
>>>>> I recommend you install Git for windows
>>>>> (https://msysgit.github.io/), as that will add a little BASH
>>>>> emulator in your Windows system. This way you can run most of the
>>>>> commands exactly as they appear in most of the tutorials out there
>>>>> that are written from a UNIX perspective (as you point out). If you
>>>>> run the "Git BASH shell" you will be able to try out all the multi-phase methods, use and generate BSDFs, etc.
>>>>> Once you have Git for Windows installed, head over to Andy McNeil's
>>>>> tutorials for 3- and 5-phase, fire up the Git BASH shell (it'll be
>>>>> in the Git program group in the Windows start menu), and get started!
>>>>>
>>>>> One thing to keep in mind is that when running any commands that
>>>>> read/write data (e.g. rcontrib), be sure to use ASCII format rather
>>>>> than float. Windows has issues with float data (among many other
>>>>> things).
>>>>>
>>>>> Good luck!
>>>>>
>>>>> - Rob
>>>>>
>>>>> On 7/10/15, 8:08 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi Robert,
>>>>>>
>>>>>> My PC is running on Windows 7 Enterprise.
>>>>>> Initially, I installed Radiance for Window using its installer but
>>>>>> I found that most of the tutorials are provided for pc with Linux
>>>>>> and/or Linux-like operating systems; So I had to install try
>>>>>> learnix (that did not work) and Ubuntu (also did not work)!
>>>>>> Finally, I tried to use Cygwin to run Radiance on Window OS. I
>>>>>> could install Cygwin (works fine), Xming (not sure if working) and
>>>>>> Radiance (not all its programs are working!).
>>>>>>
>>>>>> I'm a bit confused as I'm not sure if running Radiance on windows
>>>>>> using Cygwin will be enough for carrying my work. For example, can
>>>>>> I work out phases methods and generate BSDF data?
>>>>>>
>>>>>> I wish if you can help me to do that.
>>>>>>
>>>>>> Many thanks
>>>>>> ikrima
>>>>>>
>>>>>>
>>>>>>
>>>>>> ------------------------------
>>>>>>
>>>>>> Message: 3
>>>>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>>> To: "radiance-general at radiance-online.org"
>>>>>>         <radiance-general at radiance-online.org>
>>>>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>>>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>>
>>>>>> Hi Ikrima,
>>>>>>
>>>>>> We'll need a bit more info, here. What OS are you on? How are you
>>>>>> attempting to install it (using an installer, compiling from
>>>>>> source, or what)? What happens when you try??
>>>>>>
>>>>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>>
>>>>>>> Hi all,
>>>>>>>
>>>>>>> After one a few weeks of trying, I could not manage to install
>>>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>>>
>>>>>>> Regards
>>>>>>> Ikrima
>>>>>>
>>>>>>
>>>>>> This message and any attachment are intended solely for the
>>>>>> addressee and may contain confidential information. If you have
>>>>>> received this message in error, please send it back to me, and
>>>>> immediately delete it.
>>>>>> Please do not use, copy or disclose the information contained in
>>>>>> this message or in any attachment.  Any views or opinions
>>>>>> expressed by the author of this email do not necessarily reflect
>>>>>> the views of the University of Nottingham.
>>>>>>
>>>>>> This message has been checked for viruses but the contents of an
>>>>>> attachment may still contain software viruses which could damage
>>>>>> your computer system, you are advised to perform your own checks.
>>>>>> Email communications with the University of Nottingham may be
>>>>>> monitored as permitted by UK legislation.
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 3
>>>>> Date: Fri, 10 Jul 2015 17:34:30 +0100
>>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> Subject: [Radiance-general] Modelling CFS
>>>>> Message-ID:
>>>>>           <
>>>>> D697763F9F216044A99BC674C00561961358CA9BAF at EXCHANGE1.ad.nottingham.ac.
>>>>> uk>
>>>>>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi all,
>>>>>
>>>>> Thanks Robert and Larrain for your detailed replies, that helped me
>>>>> a lot.
>>>>>
>>>>> I would summarise here what I got form your appreciated replies, as
>>>>> following:
>>>>> - Radiance is convenient and best of tools to model daylighting due
>>>>> to its ray-tracing method.
>>>>> - 3 or 5-phases methods are used to facilitate the calculations.
>>>>> - Generating BSDF data is also used to facilitate these
>>>>> calculations but it is limited to Klems resolution of some CFS.
>>>>>
>>>>> Initially, I'm not planning to do annual calculations. It's just
>>>>> for specific hours of the day and the target is to produce a
>>>>> illuminance levels for indoor grid under different CFSs. Hence,
>>>>> according to my understanding from Larrain words, I can use either
>>>>> 2-phase or Ray-tracing methods. My question is how can I
>>>>> draw/define the CFS geometry and Space for these calculations? Is
>>>>> it similar to the way use in Ecotect/Radiance calculations?
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>    -----Original Message-----
>>>>> From: radiance-general-request at radiance-online.org [mailto:
>>>>> radiance-general-request at radiance-online.org]
>>>>> Sent: 09 July 2015 19:56
>>>>> To: radiance-general at radiance-online.org
>>>>> Subject: Radiance-general Digest, Vol 137, Issue 8
>>>>>
>>>>> Send Radiance-general mailing list submissions to
>>>>>           radiance-general at radiance-online.org
>>>>>
>>>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>>>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> or, via email, send a message with subject or body 'help' to
>>>>>           radiance-general-request at radiance-online.org
>>>>>
>>>>> You can reach the person managing the list at
>>>>>           radiance-general-owner at radiance-online.org
>>>>>
>>>>> When replying, please edit your Subject line so it is more specific
>>>>> than
>>>>> "Re: Contents of Radiance-general digest..."
>>>>>
>>>>>
>>>>> Today's Topics:
>>>>>
>>>>>      1. CFS with Radiance (Ikrima Amaireh)
>>>>>      2. Could not install Radiance!!! (Ikrima Amaireh)
>>>>>      3. Re: Could not install Radiance!!! (Guglielmetti, Robert)
>>>>>      4. Re: CFS with Radiance (Guglielmetti, Robert)
>>>>>      5. Re: CFS with Radiance (Germ?n Molina Larrain)
>>>>>
>>>>>
>>>>> -------------------------------------------------------------------
>>>>> --
>>>>> -
>>>>>
>>>>> Message: 1
>>>>> Date: Thu, 9 Jul 2015 17:26:29 +0100
>>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> Subject: [Radiance-general] CFS with Radiance
>>>>> Message-ID:
>>>>>           <
>>>>> D697763F9F216044A99BC674C00561961358CA9710 at EXCHANGE1.ad.nottingham.ac.
>>>>> uk>
>>>>>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi G. Larrain,
>>>>>
>>>>> Thanks for your detailed clarification (below).
>>>>>
>>>>> I wonder if you kindly can help me toward better understanding and
>>>>> answering the following:
>>>>>
>>>>> We agreed that for daylight modelling of spaces with CFS, Radiance
>>>>> is a suitable tool as it applies ray-tracing method. And for annual
>>>>> and/or climate-based daylight calculations, as calculation time
>>>>> becomes a critical factor, using BSDF data for CFS is highly
>>>>> recommended to tackle the task with radiance (using phases methods).
>>>>> However:
>>>>>
>>>>> - if someone needs to perform daylight calculations for given space
>>>>> with different CFS (different cases for comparison purposes) to get
>>>>> illumination levels for horizontal grid points (and not pictures
>>>>> nor scenes), is Radiance still the most convenient option?
>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>>
>>>>>
>>>>> Many thanks for your kind help :)
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>> "Ikrima,
>>>>>
>>>>> I am going to try to build the puzzle of CFS, Phases, BSDF and
>>>>> calculations.... at least the way I understand it.
>>>>>
>>>>> *CFS* are those systems that, via interreflection or other light
>>>>> transport phenomena, redirect light (or solar radiation). Thus, in
>>>>> order to get a reliable result you will have to consider all the
>>>>> phenomena involved.
>>>>> Then, *common
>>>>> simple performance indexes*, such as the miss-used Shading
>>>>> Coefficient  and the Aperture Percentage, *always loose a lot of
>>>>> information,  trying to reduce all the complex behavior of a CFS to
>>>>> one single  number*. We all know that venetian blinds are more
>>>>> "transparent" from  certain viewing directions than from others,
>>>>> but these performance indexes do not tell you that.
>>>>>
>>>>> Now... Radiance can certainly perform calculations of spaces with
>>>>> CFS using its "common" Ray-tracing. However, this may be slow for
>>>>> some purposes (i.e.
>>>>> annual simulations and climate-based daylight modelling), and *this
>>>>> is why 2, 3 and 5 phase methods have been developed*. The *BSDF*
>>>>> representation, I would say, goes in the same direction... It allow
>>>>> summarizing all the bounces, reflections, refractions, etc.  that
>>>>> occure withing the CFS in a single matrix or tensor.* By using
>>>>> BSDFs*, Radiance itself and other tools (i.e. EnergyPlus) can treat
>>>>> CFS as blackboxes, avoiding all the opcits within the system. A
>>>>> BSDF that uses the Klems Full representation has
>>>>> 21,045 numbers (instead of one, such as the Shading Coefficient).
>>>>>
>>>>> Being said all that, I would not trust a calculation method unless
>>>>> it can actually deal with the optics of a CFS that is drawn and/or
>>>>> it can use BSDF (or similar) information.
>>>>>
>>>>> Lets remember that a perforated screen, a venetian blind, a light
>>>>> diffusing device can all have a Shading Coefficient of 50%, but all
>>>>> of them will behave very differently. I made some presentations
>>>>> about this on my previous work (we sold complex Shading Devices),
>>>>> trying to promote the use of BSDF in EnergyPlus calculations... the
>>>>> differences (in solar heat gains) were more than considerable.
>>>>>
>>>>> I hope that someone else gives us his/her perspective on this topic...
>>>>> there are a lot of concepts that I might be misunderstanding.
>>>>>
>>>>> Best!"
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 2
>>>>> Date: Thu, 9 Jul 2015 17:38:41 +0100
>>>>> From: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Cc: Ikrima Amaireh <ezxia at nottingham.ac.uk>
>>>>> Subject: [Radiance-general] Could not install Radiance!!!
>>>>> Message-ID:
>>>>>           <
>>>>> D697763F9F216044A99BC674C00561961358CA9719 at EXCHANGE1.ad.nottingham.ac.
>>>>> uk>
>>>>>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi all,
>>>>>
>>>>> After one a few weeks of trying, I could not manage to install
>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>
>>>>> Regards
>>>>> Ikrima
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 3
>>>>> Date: Thu, 9 Jul 2015 16:44:49 +0000
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] Could not install Radiance!!!
>>>>> Message-ID: <D1C400AC.1ADAC%Robert.Guglielmetti at nrel.gov>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Hi Ikrima,
>>>>>
>>>>> We'll need a bit more info, here. What OS are you on? How are you
>>>>> attempting to install it (using an installer, compiling from
>>>>> source, or what)? What happens when you try??
>>>>>
>>>>> On 7/9/15, 10:38 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi all,
>>>>>>
>>>>>> After one a few weeks of trying, I could not manage to install
>>>>>> radiance properly. I am almost disappointed! Please any help?
>>>>>>
>>>>>> Regards
>>>>>> Ikrima
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> This message and any attachment are intended solely for the
>>>>>> addressee and may contain confidential information. If you have
>>>>>> received this message in error, please send it back to me, and
>>>>> immediately delete it.
>>>>>> Please do not use, copy or disclose the information contained in
>>>>>> this message or in any attachment.  Any views or opinions
>>>>>> expressed by the author of this email do not necessarily reflect
>>>>>> the views of the University of Nottingham.
>>>>>>
>>>>>> This message has been checked for viruses but the contents of an
>>>>>> attachment may still contain software viruses which could damage
>>>>>> your computer system, you are advised to perform your own checks.
>>>>>> Email communications with the University of Nottingham may be
>>>>>> monitored as permitted by UK legislation.
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 4
>>>>> Date: Thu, 9 Jul 2015 17:29:39 +0000
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> To: "radiance-general at radiance-online.org"
>>>>>           <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] CFS with Radiance
>>>>> Message-ID: <D1C40477.1ADCA%Robert.Guglielmetti at nrel.gov>
>>>>> Content-Type: text/plain; charset="us-ascii"
>>>>>
>>>>> Some very quick replies and clarifications within:
>>>>>
>>>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>
>>>>>> Hi G. Larrain,
>>>>>>
>>>>>> Thanks for your detailed clarification (below).
>>>>>>
>>>>>> I wonder if you kindly can help me toward better understanding and
>>>>>> answering the following:
>>>>>>
>>>>>> We agreed that for daylight modelling of spaces with CFS, Radiance
>>>>>> is a suitable tool as it applies ray-tracing method. And for
>>>>>> annual and/or climate-based daylight calculations, as calculation
>>>>>> time becomes a critical factor, using BSDF data for CFS is highly
>>>>>> recommended to tackle the task with radiance (using phases methods).
>>>>> However:
>>>>>
>>>>>
>>>>> BSDF data in an annual simulation context is generally limited to
>>>>> Klems basis BSDF data, which may not be high enough resolution for
>>>>> some CFS. And the 5-phase method, which can circumvent this, is not
>>>>> necessarily "quick".
>>>>> This is all still very much a quandary and the newest daylight
>>>>> metrics  have added confusion to all of this, IMO.
>>>>>
>>>>>
>>>>>> - if someone needs to perform daylight calculations for given
>>>>>> space with different CFS (different cases for comparison purposes)
>>>>>> to get illumination levels for horizontal grid points (and not
>>>>>> pictures nor scenes), is Radiance still the most convenient option?
>>>>> Absolutely. The lack of an image-as-output requirement does not
>>>>> change  the fact that ray tracing is a good/convenient algorithm
>>>>> option for  daylight simulation problems, especially when dealing
>>>>> with diffusing  media and CFS in general. BSDFs allow you to do
>>>>> lots of "what-ifs",  relatively quickly, but are beholden to the
>>>>> limitations of the resolution of the BSDF.
>>>>>
>>>>>
>>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>> Is what still needed? BSDF data? Ray tracing? I don't know of other
>>>>> lighting simulation tools that can employ the multiphase methods. I
>>>>> would say BSDF data is optional for 2-phase, required for 3-phase,
>>>>> and optional for 5-phase.
>>>>>
>>>>>> - most importantly, is it still needed to get BSDF data for CFS or
>>>>>> just can model the detailed CFS in Radiance (and, if yes, how?)
>>>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>>> available to you in general. If you have a geometric model of the
>>>>> CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>>>>> use that in a 3- or 5-phase context. However in an
>>>>> annual/climate-based simulation context, you will be stuck with a
>>>>> Klems basis BSDF and that will not be very good resolution for a
>>>>> lot of CFS; here you may want to use the 5-phase method and stick
>>>>> the actual CFS geometry in the building model.
>>>>>
>>>>> Some things to consider here are the photon map, now a part of
>>>>> Radiance proper, or using the 2-phase method where appropriate. By
>>>>> 2-phase method I mean generating a daylight matrix for your
>>>>> calculation points (or view), and modeling the window material as-is.
>>>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>>> Radiance "trans". Same for translucent panels.
>>>>> With this single daylight matrix, you can throw a vector of sky
>>>>> matrices at it and get an annual climate-based result very quickly.
>>>>> Problem is, we want to do stuff to the windows, sometimes at the
>>>>> time step level, so:
>>>>>
>>>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>>> are  best represented as BSDF, and if most of the redirected flux
>>>>> is headed  up and away from the points of interest, a Klems basis
>>>>> BSDF is good  enough IMO. In these cases you could use the 3-phase method.
>>>>> Problem  is when you have a BSDF for blinds, and you also want to
>>>>> simulate the  blinds-up condition (i.e. clear, specularly
>>>>> transmitting glass). Using  a Klems basis BSDF for this is
>>>>> sub-optimal. You end up needing to do  two annual simulations, one
>>>>> as 2-phase for the clear glass scenario,  and again as a 3-phase
>>>>> (with a blinds BSDF for the transmission
>>>>> matrix) for the blinds down condition. If you have a lot of
>>>>> different window groups, your simulation space can get large in a
>>>>> hurry. But it's still do-able and you can get results that tell a
>>>>> story you simply couldn't tell 5 years ago, informing the newest
>>>>> daylight metrics as well.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> Message: 5
>>>>> Date: Thu, 9 Jul 2015 15:56:11 -0300
>>>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>>>> To: Radiance general discussion
>>>>> <radiance-general at radiance-online.org>
>>>>> Subject: Re: [Radiance-general] CFS with Radiance
>>>>> Message-ID:
>>>>>           <CAF-iH4LSr=y12F1khTrHh6hnf-kS=EmaFuo8uWKvHqMs=
>>>>> FZL-Q at mail.gmail.com>
>>>>> Content-Type: text/plain; charset="utf-8"
>>>>>
>>>>> I must say that I agree with Rob, however, a short answer that
>>>>> might help.
>>>>>
>>>>> For evaluating illuminance levels in a space with different CFS
>>>>> you, strictly speaking, DO NOT HAVE TO do anything. You may choose
>>>>> between different methods that have some pros and cons.
>>>>>
>>>>>
>>>>> *ray-tracing*
>>>>>
>>>>>      - Requires ray-tracing for each time-step and each system,
>>>>> which is slow
>>>>>      (*four systems simulated annualy in an hourly basis --> 4*8760
>>>>> =
>>>>> 35,040
>>>>>      simulations*.)
>>>>>      - As accurate as it gets, if options are defined correctly.
>>>>>
>>>>>
>>>>> *2 phase method*
>>>>>
>>>>>      - Do not need the BSDF
>>>>>      - Requires ray-tracing for each CFS (*4 systems --> 4 ray-tracing
>>>>>      simulations*)
>>>>>      - After ray-tracing, annual simulation is fast.
>>>>>
>>>>> *3-phase method:*
>>>>>
>>>>>      - Requires BSDF data in KLEMS basis, which may be slow to compute,
>>>>>      unless it can be exported from WINDOW, for example, or such data has
>>>>>      already been calculated (the idea is to make a database, I think).
>>>>>      - Does not really work well for specular systems (Klems patches
>>>>> are too
>>>>>      big)
>>>>>      - Requires 2 ray-tracing runs, always (*4 systems --> 2 ray-tracing
>>>>>      simulations*)
>>>>>      - After ray-tracing and BSDF calculation, annual simulation is
>>>>> fast
>>>>>
>>>>> *5-phase method:*
>>>>>
>>>>>      - Requires BSDF data in KLEMS  basis AND/OR Tensor tree format,
>>>>> which
>>>>>      may be slow to compute, unless it can be exported from WINDOW,
>>>>> for example,
>>>>>      or such data has already been calculated (the idea is to make a
>>>>> database, I
>>>>>      think).
>>>>>      - Works well for specular systems
>>>>>      - Requires 4 ray-tracing runs + 1 for each system, always (*4
>>>>> systems
>>>>>      --> 4+1 = 5 ray-tracing simulations*)
>>>>>      - Hard to code...?
>>>>>      - After ray-tracing and BSDF calculation, annual simulation is
>>>>> fast
>>>>>
>>>>>
>>>>> I would not say there is a recipe. If you have to choose between 1
>>>>> or
>>>>> 2 CFSs, maybe it is faster to just draw them and use the 2 phase
>>>>> method (or ray-tracing if an annual simulaton is not required). On
>>>>> the contrary, if you are going to test 10 different CFSs, 3 and 5
>>>>> phases may make sense, since you reduce the expensive ray-tracing
>>>>> calculations... However, this will also depend on weather you have
>>>>> the BSDF data AND/OR if it makes sense to calculate it and store it
>>>>> AND/OR if you intend to simulate a dynamically controlled CFS.
>>>>>
>>>>> Best!
>>>>>
>>>>> 2015-07-09 14:29 GMT-03:00 Guglielmetti, Robert <
>>>>> Robert.Guglielmetti at nrel.gov>:
>>>>>
>>>>>> Some very quick replies and clarifications within:
>>>>>>
>>>>>> On 7/9/15, 10:26 AM, "Ikrima Amaireh" <ezxia at nottingham.ac.uk> wrote:
>>>>>>
>>>>>>> Hi G. Larrain,
>>>>>>>
>>>>>>> Thanks for your detailed clarification (below).
>>>>>>>
>>>>>>> I wonder if you kindly can help me toward better understanding
>>>>>>> and answering the following:
>>>>>>>
>>>>>>> We agreed that for daylight modelling of spaces with CFS,
>>>>>>> Radiance is a suitable tool as it applies ray-tracing method. And
>>>>>>> for annual and/or climate-based daylight calculations, as
>>>>>>> calculation time becomes a critical factor, using BSDF data for
>>>>>>> CFS is highly recommended to tackle the task with radiance (using phases methods).
>>>>> However:
>>>>>> BSDF data in an annual simulation context is generally limited to
>>>>>> Klems basis BSDF data, which may not be high enough resolution for
>>>>>> some CFS. And the 5-phase method, which can circumvent this, is
>>>>>> not
>>>>> necessarily "quick".
>>>>>> This is all still very much a quandary and the newest daylight
>>>>>> metrics have added confusion to all of this, IMO.
>>>>>>
>>>>>>
>>>>>>> - if someone needs to perform daylight calculations for given
>>>>>>> space with different CFS (different cases for comparison
>>>>>>> purposes) to get illumination levels for horizontal grid points
>>>>>>> (and not pictures nor scenes), is Radiance still the most convenient option?
>>>>>> Absolutely. The lack of an image-as-output requirement does not
>>>>>> change the fact that ray tracing is a good/convenient algorithm
>>>>>> option for daylight simulation problems, especially when dealing
>>>>>> with diffusing media and CFS in general. BSDFs allow you to do
>>>>>> lots of "what-ifs", relatively quickly, but are beholden to the
>>>>>> limitations of the
>>>>> resolution of the BSDF.
>>>>>>> - is it still needed to use any of the phase methods (2, 3 or 5)?
>>>>>> Is what still needed? BSDF data? Ray tracing? I don't know of
>>>>>> other lighting simulation tools that can employ the multiphase
>>>>>> methods. I would say BSDF data is optional for 2-phase, required
>>>>>> for 3-phase, and optional for 5-phase.
>>>>>>
>>>>>>> - most importantly, is it still needed to get BSDF data for CFS
>>>>>>> or just can model the detailed CFS in Radiance (and, if yes,
>>>>>>> how?)
>>>>>> Again I'm confused as to what "it" is. A couple of approaches are
>>>>>> available to you in general. If you have a geometric model of the
>>>>>> CFS you can use Radiance (genBSDF) to make a BSDF of the CFS and
>>>>>> use that in a 3- or 5-phase context. However in an
>>>>>> annual/climate-based simulation context, you will be stuck with a
>>>>>> Klems basis BSDF and that will not be very good resolution for a
>>>>>> lot of CFS; here you may want to use the 5-phase method and stick
>>>>>> the actual CFS geometry in the
>>>>> building model.
>>>>>> Some things to consider here are the photon map, now a part of
>>>>>> Radiance proper, or using the 2-phase method where appropriate. By
>>>>>> 2-phase method I mean generating a daylight matrix for your
>>>>>> calculation points (or view), and modeling the window material as-is.
>>>>>> If the "CFS" is a shade cloth, you can approximate that with a
>>>>>> Radiance
>>>>> "trans". Same for translucent panels.
>>>>>> With this single daylight matrix, you can throw a vector of sky
>>>>>> matrices at it and get an annual climate-based result very quickly.
>>>>>> Problem is, we want to do stuff to the windows, sometimes at the
>>>>>> time
>>>>> step level, so:
>>>>>> Blinds and compact daylight redirection devices (e.g. Lightlouver)
>>>>>> are best represented as BSDF, and if most of the redirected flux
>>>>>> is headed up and away from the points of interest, a Klems basis
>>>>>> BSDF is good enough IMO. In these cases you could use the 3-phase method.
>>>>>> Problem is when you have a BSDF for blinds, and you also want to
>>>>>> simulate the blinds-up condition (i.e. clear, specularly
>>>>>> transmitting glass). Using a Klems basis BSDF for this is
>>>>>> sub-optimal. You end up needing to do two annual simulations, one
>>>>>> as 2-phase for the clear glass scenario, and again as a 3-phase
>>>>>> (with a blinds BSDF for the transmission
>>>>>> matrix) for the blinds down condition. If you have a lot of
>>>>>> different window groups, your simulation space can get large in a
>>>>>> hurry. But it's still do-able and you can get results that tell a
>>>>>> story you simply couldn't tell 5 years ago, informing the newest
>>>>>> daylight metrics
>>>>> as well.
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>>
>>>>> -------------- next part -------------- An HTML attachment was
>>>>> scrubbed...
>>>>> URL: <
>>>>> http://www.radiance-online.org/pipermail/radiance-general/attachmen
>>>>> ts
>>>>> /
>>>>> 20150709/cfbdd4da/attachment.html
>>>>> ------------------------------
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> End of Radiance-general Digest, Vol 137, Issue 8
>>>>> ************************************************
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> End of Radiance-general Digest, Vol 137, Issue 9
>>>>> ************************************************
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> ------------------------------
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>> End of Radiance-general Digest, Vol 137, Issue 12
>>>>> *************************************************
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> This message and any attachment are intended solely for the
>>>>> addressee and may contain confidential information. If you have
>>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>>
>>>>> Please do not use, copy or disclose the information contained in
>>>>> this message or in any attachment.  Any views or opinions expressed
>>>>> by the author of this email do not necessarily reflect the views of
>>>>> the University of Nottingham.
>>>>>
>>>>> This message has been checked for viruses but the contents of an
>>>>> attachment may still contain software viruses which could damage
>>>>> your computer system, you are advised to perform your own checks.
>>>>> Email communications with the University of Nottingham may be
>>>>> monitored as permitted by UK legislation.
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>> -------------- next part -------------- An HTML attachment was
>>>> scrubbed...
>>>> URL:
>>>> <http://www.radiance-online.org/pipermail/radiance-general/attachmen
>>>> ts/
>>>> 201
>>>> 50810/959f6779/attachment.html>
>>>>
>>>> ------------------------------
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>> End of Radiance-general Digest, Vol 138, Issue 12
>>>> *************************************************
>>>>
>>>>
>>>>
>>>>
>>>> This message and any attachment are intended solely for the
>>>> addressee and may contain confidential information. If you have
>>>> received this message in error, please send it back to me, and immediately delete it.
>>>>
>>>> Please do not use, copy or disclose the information contained in
>>>> this message or in any attachment.  Any views or opinions expressed
>>>> by the author of this email do not necessarily reflect the views of
>>>> the University of Nottingham.
>>>>
>>>> This message has been checked for viruses but the contents of an
>>>> attachment may still contain software viruses which could damage
>>>> your computer system, you are advised to perform your own checks.
>>>> Email communications with the University of Nottingham may be
>>>> monitored as permitted by UK legislation.
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> End of Radiance-general Digest, Vol 138, Issue 15
>>> *************************************************
>>>
>>>
>>>
>>>
>>> This message and any attachment are intended solely for the addressee
>>> and may contain confidential information. If you have received this
>>> message in error, please send it back to me, and immediately delete it.
>>>
>>> Please do not use, copy or disclose the information contained in this
>>> message or in any attachment.  Any views or opinions expressed by the
>>> author of this email do not necessarily reflect the views of the
>>> University of Nottingham.
>>>
>>> This message has been checked for viruses but the contents of an
>>> attachment may still contain software viruses which could damage your
>>> computer system, you are advised to perform your own checks. Email
>>> communications with the University of Nottingham may be monitored as
>>> permitted by UK legislation.
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150811/db767220/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> End of Radiance-general Digest, Vol 138, Issue 22
> *************************************************
>
>
>
>
> This message and any attachment are intended solely for the addressee
> and may contain confidential information. If you have received this
> message in error, please send it back to me, and immediately delete it.
>
> Please do not use, copy or disclose the information contained in this
> message or in any attachment.  Any views or opinions expressed by the
> author of this email do not necessarily reflect the views of the
> University of Nottingham.
>
> This message has been checked for viruses but the contents of an
> attachment may still contain software viruses which could damage your
> computer system, you are advised to perform your own checks. Email
> communications with the University of Nottingham may be monitored as
> permitted by UK legislation.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150812/a5d36db0/attachment.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 138, Issue 31
*************************************************




This message and any attachment are intended solely for the addressee
and may contain confidential information. If you have received this
message in error, please send it back to me, and immediately delete it. 

Please do not use, copy or disclose the information contained in this
message or in any attachment.  Any views or opinions expressed by the
author of this email do not necessarily reflect the views of the
University of Nottingham.

This message has been checked for viruses but the contents of an
attachment may still contain software viruses which could damage your
computer system, you are advised to perform your own checks. Email
communications with the University of Nottingham may be monitored as
permitted by UK legislation.



From grobe at gmx.net  Mon Aug 17 02:38:56 2015
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 17 Aug 2015 11:38:56 +0200
Subject: [Radiance-general] Gensky question
In-Reply-To: <001101d0d371$0854ba40$18fe2ec0$@gmail.com>
References: <001101d0d371$0854ba40$18fe2ec0$@gmail.com>
Message-ID: <55D1ABB0.7040203@gmx.net>

Hi Jiajie,

gensky calculates the radiance based on the "old" CIE standard skies. It 
sets all channels RGB to identical values (7.07e006 in your case). In 
many cases, simulations aim at results over all three channels, which is 
why most models do not focus on the prediction of color / spectrum. If 
you really need that, there are sky models aiming at color information, 
e.g. the Utah model.  Mark Stock shared his cal-file to support that 
model in Radiance:

http://markjstock.org/radiance/

However be aware that we usually rely on information that was measured 
with sensors not resolving over color channels, so there are a lot of 
assumptions to generate such colorful sky descriptions.

Cheers, Lars.
>
> Hi everyone,
>
> I just have a very quick question.
>
> I am using gensky function to generate a sky distribution with sun, 
> here is part of the scripts.
>
> /void light solar/
>
> /0/
>
> /0/
>
> /3 7.07e+006 7.07e+006 7.07e+006/
>
> I just wonder how does Radiance calculate the RGB radiance values of 
> the sun.
>
> Many thanks,
>
> Jiajie
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150817/dfab37bd/attachment.html>

From grobe at gmx.net  Mon Aug 17 04:27:59 2015
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 17 Aug 2015 13:27:59 +0200
Subject: [Radiance-general] How to define reflectance of near infrared
 of solar radiation
In-Reply-To: <CACS+dyqczqnY+5in+eC6pDwFF9NLhTjhBMnUP4a=wJis468XRg@mail.gmail.com>
References: <CACS+dyqczqnY+5in+eC6pDwFF9NLhTjhBMnUP4a=wJis468XRg@mail.gmail.com>
Message-ID: <55D1C53F.6070309@gmx.net>

Hi Natchan,

reflectance from glass is a function of at least wavelength and 
direction. So short answer is no, most surfaces will show an entirely 
different reflection in NIR than they do in the visible range. Most 
glazing manufacturers work on exactly this target - low NIR 
transmission, high visible light transmission. And while reflectance for 
visible light may be dominated by Fresnel laws, NIR reflection will 
probably be caused by different mechanisms due to the coating applied to 
the glass.

Please check some reflectance spectra to get an understanding of what 
that means. And look into measurement standards:

http://windowoptics.lbl.gov/data/standards/solar

Radiance does not really care much about wavelength. As long as it can 
be considered to behave as light, you can feed any kind of information 
on radiation into the three channels that are evaluated in parallel 
within Radiance. Most people use the three channels for color 
information, red / green / blue. Often, when only photometric results in 
terms of luminance or illuminance are required, you would set all three 
channels to the same value.

Radiance has several material types for glass, but most of them assume 
an uncoated glass (dielectric, glass) which may not be what you are 
looking for. In your case, I would recommend to first define the 
wavelength range you want to considere (what is NIR for you?). Then you 
need to find the reflectance for your glazing for that wavelength range, 
and for several incident directions. You may try to use Optics/Window, 
both provided by LBL, to try this out. And check Jack de Valpine's nice 
presentation on a very related topic, where he investigated reflection 
from (coated) glazings:

http://www.radiance-online.org/community/workshops/2009-boston-ma/Presentations/devalpine_visarc_glazing.pdf

Please note that you will also have to model the emission from sources 
in the _same_ NIR range as determined above.

Cheers,
Lars.

> Hi.I'm natchan.
>
>
> Im investigating reflected light of sun from glazing of buildings with 
> radiance.
>
> Radiance materials can be set reflectance of each RGB.
>
> Then, can I define reflectance of near infrared(NIR, unvisible light) 
> of solar radiation?
>
> Is the NIR reflectance equal to RGB reflectance?
>
> I apologize for my poor English.
>
> Thank you.
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150817/373e99f0/attachment.html>

From mkim85 at gmail.com  Mon Aug 17 14:30:37 2015
From: mkim85 at gmail.com (Minjung Kim)
Date: Mon, 17 Aug 2015 17:30:37 -0400
Subject: [Radiance-general] strange artifacts in rendering
In-Reply-To: <CAKDBSuDvW9H5nHzk82urpQL-3g6GhkXb+XDK2nUqXg5uq4VFcQ@mail.gmail.com>
References: <CAKDBSuDvW9H5nHzk82urpQL-3g6GhkXb+XDK2nUqXg5uq4VFcQ@mail.gmail.com>
Message-ID: <CAKDBSuC03fKxxOx70Pr8+zYG+m0s3J=Lj_SYTLcmmORkCNoCKA@mail.gmail.com>

Hi everyone,

I am getting strange artifacts in my renderings, and am wondering which
parameters to tweak in order to get rid of them. The artifacts look like a
white, or sometimes half-black and half-white, patch at random locations.
See below for examples:

http://minjung.ca/tmp/artifacts1.png
http://minjung.ca/tmp/artifacts2.png

I've tried (1) setting ad = 4096, as = 1024, and (2) setting aa = 0, ar =
0, but neither of these two settings fixed the problem. Do you have any
idea what might be happening? Here are some possibly relevant factors:

- The object is completely Lambertian.
- The only light source in the scene is a glow source that is positioned
behind the camera, and covers as much of the sky as possible.
- I don't think I've ever encountered such artifacts with untextured
stimuli.  I could be wrong, though.

Thanks in advance!

MJ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150817/829cd542/attachment.html>

From gregoryjward at gmail.com  Mon Aug 17 18:04:10 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 17 Aug 2015 21:04:10 -0400
Subject: [Radiance-general] strange artifacts in rendering
In-Reply-To: <CAKDBSuC03fKxxOx70Pr8+zYG+m0s3J=Lj_SYTLcmmORkCNoCKA@mail.gmail.com>
References: <CAKDBSuDvW9H5nHzk82urpQL-3g6GhkXb+XDK2nUqXg5uq4VFcQ@mail.gmail.com>
	<CAKDBSuC03fKxxOx70Pr8+zYG+m0s3J=Lj_SYTLcmmORkCNoCKA@mail.gmail.com>
Message-ID: <7EC39253-5340-4CFE-8A99-E0F14A49EC9F@lmi.net>

Hi MJ,

Can you send me your model & rendering parameters off-list.  I won't know what's going on until I play with it.

Thanks,
-Greg

> From: Minjung Kim <mkim85 at gmail.com>
> Subject: [Radiance-general] strange artifacts in rendering
> Date: August 17, 2015 5:30:37 PM EDT
> 
> Hi everyone,
> 
> I am getting strange artifacts in my renderings, and am wondering which parameters to tweak in order to get rid of them. The artifacts look like a white, or sometimes half-black and half-white, patch at random locations. See below for examples:
> 
> http://minjung.ca/tmp/artifacts1.png
> http://minjung.ca/tmp/artifacts2.png
> 
> I've tried (1) setting ad = 4096, as = 1024, and (2) setting aa = 0, ar = 0, but neither of these two settings fixed the problem. Do you have any idea what might be happening? Here are some possibly relevant factors: 
> 
> - The object is completely Lambertian.
> - The only light source in the scene is a glow source that is positioned behind the camera, and covers as much of the sky as possible. 
> - I don't think I've ever encountered such artifacts with untextured stimuli.  I could be wrong, though.
> 
> Thanks in advance!
> 
> MJ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150817/860f7add/attachment.html>

From gregoryjward at gmail.com  Thu Aug 20 09:14:23 2015
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu, 20 Aug 2015 09:14:23 -0700
Subject: [Radiance-general] Fwd:  strange artifacts in rendering
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
Message-ID: <2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>

Just forwarding this to the mailing list in case as an additional warning against installing Mac OS X Yosemite (10.10.x).  As if the multi-processing bug were not enough, there seem to be other problems with instances and/or textures (not sure) on that platform.

I may try investigating this on the weekend, but I don't hold out much hope for a resolution.

-Greg

Begin forwarded message:

> From: Minjung Kim <mkim85 at gmail.com>
> Subject: Re: [Radiance-general] strange artifacts in rendering
> Date: August 19, 2015 4:58:24 PM PDT
> To: "Gregory J. Ward" <gregoryjward at gmail.com>
> 
> Hi Greg,
> 
> I think the problem might indeed be with OS 10.10. None of the 20 scenes that I rendered on OS 10.9 had any issues, whereas more than half of the 20 on OS 10.10 did. Please see attached files for examples. 
> 
> Thanks for your help!
> 
> MJ
> 
> On Wed, Aug 19, 2015 at 4:33 PM, Minjung Kim <mkim85 at gmail.com> wrote:
> I'm going to render a bunch of other blobby objects on 10.9, and see if I get the problem here. I'll let you know what I find out. 
> 
> Thanks!
> 
> MJ
> 
> 
> On Wed, Aug 19, 2015 at 4:30 PM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
> Thanks, Minjung.  
> 
> I guess we can add this to the list of bugs under Mac OS X 10.10, which to me has been a disastrous release.  I seriously doubt I will be able to fix problems on this platform, but I'll give it a try when I have some time.
> 
> Cheers,
> -Greg
> 
>> From: Minjung Kim <mkim85 at gmail.com>
>> Subject: Re: [Radiance-general] strange artifacts in rendering
>> Date: August 19, 2015 4:16:50 PM EDT
>> 
>> Hi Greg,
>> 
>> Thanks for your help! I am still unable to get the artifacts to come back -- but only on my current machine (late-2013 iMac, 21.5 in., OS X 10.9). If I run the same code on a different machine (late-2013 iMac, 21.5 in., OS X 10.10), I reliably get the artifact. Isn't that strange?
>> 
>> Attached are the files that I used. To run, please use the following commands:
>> 
>> oconv square.rad > square.oct
>> oconv scene.rad > scene.oct
>> rpict -x 1024 -y 1024 -vh 12.018 -vv 12.018 -vp 0 -0.57 0 -vd 0 1 0 -vu 0 0 1 -av 0 0 0 -vtv -ab 1 scene.oct > scene.pic
>> pfilt -1 -x 512 -y 512 -e 1 -r 0.6 scene.pic > scene.hdr
>> 
>> In scene.rad, the square is incorporated as an instance. I know that I don't really need to instance the square since I only have one, but the scene with the artifacts was using instances, so I thought it would be better to send you the code as is. 
>> 
>> If anything is unclear, please let me know. Thanks again!
>> 
>> Regards,
>> 
>> MJ
>> 
>> On Tue, Aug 18, 2015 at 7:00 PM, Minjung Kim <mkim85 at gmail.com> wrote:
>> Hi Greg,
>> 
>> Thanks! I'm putting together the files, but I'm unable to replicate the problem using my latest code, though I don't think I've changed anything substantial. I'll get back to you once I can reliably replicate the artifacts.
>> 
>> MJ
>> 
>> On Mon, Aug 17, 2015 at 9:04 PM, Greg Ward <gregoryjward at gmail.com> wrote:
>> Hi MJ,
>> 
>> Can you send me your model & rendering parameters off-list.  I won't know what's going on until I play with it.
>> 
>> Thanks,
>> -Greg
>> 
>>> From: Minjung Kim <mkim85 at gmail.com>
>>> Subject: [Radiance-general] strange artifacts in rendering
>>> Date: August 17, 2015 5:30:37 PM EDT
>>> 
>>> Hi everyone,
>>> 
>>> I am getting strange artifacts in my renderings, and am wondering which parameters to tweak in order to get rid of them. The artifacts look like a white, or sometimes half-black and half-white, patch at random locations. See below for examples:
>>> 
>>> http://minjung.ca/tmp/artifacts1.png
>>> http://minjung.ca/tmp/artifacts2.png
>>> 
>>> I've tried (1) setting ad = 4096, as = 1024, and (2) setting aa = 0, ar = 0, but neither of these two settings fixed the problem. Do you have any idea what might be happening? Here are some possibly relevant factors: 
>>> 
>>> - The object is completely Lambertian.
>>> - The only light source in the scene is a glow source that is positioned behind the camera, and covers as much of the sky as possible. 
>>> - I don't think I've ever encountered such artifacts with untextured stimuli.  I could be wrong, though.
>>> 
>>> Thanks in advance!
>>> 
>>> MJ
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150820/5fdf64af/attachment.html>

From Robert.Guglielmetti at nrel.gov  Thu Aug 20 09:42:31 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 20 Aug 2015 16:42:31 +0000
Subject: [Radiance-general] Giving UnmetHours.com a Try
Message-ID: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>

Greetings simulationists,

The very end of this week's International Radiance Workshop included an open discussion session, which spurred some excellent discussion about software tools, metrics, and support. This last topic (support) included all the usual talking points: information is scattered, and hard to find; the listserv is antiquated (tho there were people on both sides of this issue), etc...

The UnmetHours.com website was mentioned during this conversation, which has been successful as a "Stack Overflow for energy modelers" kind of resource. For those unfamiliar with Stack Overflow, it's simply a Q&A website for programmers, where people can ask and answer questions. Both the questions and answers can be up and down voted for relevance and quality, respectively. Users who ask good questions and give good answers receive "karma points" which unlock further functionality on the site and boost the self-esteem of the users, impressing their friends and peers. =) UH is basically the same thing, but with a focus on building simulation.

UnmetHours posts can accept software- and workflow-specific tags, allowing the content to self-organize and become searchable on these keyword tags. Images can be embedded in posts, as well as formatted code blocks. Users can comment, and offer answers, which can then be up or down voted; the idea being the community shapes the knowledge base. There are things I don't like about the site, versus the old-school listserv method. But the discussion yesterday focused on the problems of the new user, and offering greater visibility into the tremendous resource that is the radiance-online list archives (and those from the radsite list that preceded it). Matter of fact, I posted an announcement about UnmetHours on radiance-online last fall, but I can't find it now. So, there ya go.

In the end, the general consensus was to give UnmetHours a try, for Radiance support. There was no agreed-upon methodology for this, but the general idea is:

0. Post this announcement here, and then:
1. Encourage the community to post new Radiance questions on UnmetHours (and tag appropriately)
2. When answers already exist on radiance-online.org, post a brief answer on UH, cross-referencing the post or thread on radiance-online.org
This is as far as we got, frankly.

My biggest beef with the UH workflow is that the onus is on me to check the site for new content, whereas the listserv simply sends me the conversations in realtime. The rss feed for UH is not at all good for this, either. So this is a big ask in my opinion, but I'm willing to give it a go, and - significantly - Greg was, too. So how about it? I'm hereby encouraging this lot to head over to unmethours.com, and sugn up for a free account. Have a look around, and check out the help page (https://proxy.unmethours.com/help.html) for info on getting started posting and voting, and bookmark the site so you can check in frequently. Let's see where this goes.

One question I have for the group is do we want to follow suit with the radiance-dev list?

OK, bye, see you over there.(?)

- Rob




From sadeghipour at gmail.com  Thu Aug 20 10:04:27 2015
From: sadeghipour at gmail.com (Mostapha Sadeghipour)
Date: Thu, 20 Aug 2015 13:04:27 -0400
Subject: [Radiance-general] [Radiance-openstudio] Giving UnmetHours.com
	a Try
In-Reply-To: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
Message-ID: <CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>

Thanks for getting this started Rob.

Back to you concern in theory setting up the email subscription setting
should solve the issue and you should receive an instant email. I attached
a screen-shot.

Also back to the conversation of auto-tagging the available email list [and
bringing them into a similar platform to unmethours] I found a couple of
options such as (http://www.nltk.org/) and (
http://mrolafsson.github.io/autotags/). Didn't have the time to give it a
real try yet.

Mostapha



On Thu, Aug 20, 2015 at 12:42 PM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> Greetings simulationists,
>
> The very end of this week's International Radiance Workshop included an
> open discussion session, which spurred some excellent discussion about
> software tools, metrics, and support. This last topic (support) included
> all the usual talking points: information is scattered, and hard to find;
> the listserv is antiquated (tho there were people on both sides of this
> issue), etc...
>
> The UnmetHours.com website was mentioned during this conversation, which
> has been successful as a "Stack Overflow for energy modelers" kind of
> resource. For those unfamiliar with Stack Overflow, it's simply a Q&A
> website for programmers, where people can ask and answer questions. Both
> the questions and answers can be up and down voted for relevance and
> quality, respectively. Users who ask good questions and give good answers
> receive "karma points" which unlock further functionality on the site and
> boost the self-esteem of the users, impressing their friends and peers. =)
> UH is basically the same thing, but with a focus on building simulation.
>
> UnmetHours posts can accept software- and workflow-specific tags, allowing
> the content to self-organize and become searchable on these keyword tags.
> Images can be embedded in posts, as well as formatted code blocks. Users
> can comment, and offer answers, which can then be up or down voted; the
> idea being the community shapes the knowledge base. There are things I
> don't like about the site, versus the old-school listserv method. But the
> discussion yesterday focused on the problems of the new user, and offering
> greater visibility into the tremendous resource that is the radiance-online
> list archives (and those from the radsite list that preceded it). Matter of
> fact, I posted an announcement about UnmetHours on radiance-online last
> fall, but I can't find it now. So, there ya go.
>
> In the end, the general consensus was to give UnmetHours a try, for
> Radiance support. There was no agreed-upon methodology for this, but the
> general idea is:
>
> 0. Post this announcement here, and then:
> 1. Encourage the community to post new Radiance questions on UnmetHours
> (and tag appropriately)
> 2. When answers already exist on radiance-online.org, post a brief answer
> on UH, cross-referencing the post or thread on radiance-online.org
> This is as far as we got, frankly.
>
> My biggest beef with the UH workflow is that the onus is on me to check
> the site for new content, whereas the listserv simply sends me the
> conversations in realtime. The rss feed for UH is not at all good for this,
> either. So this is a big ask in my opinion, but I'm willing to give it a
> go, and - significantly - Greg was, too. So how about it? I'm hereby
> encouraging this lot to head over to unmethours.com, and sugn up for a
> free account. Have a look around, and check out the help page (
> https://proxy.unmethours.com/help.html) for info on getting started
> posting and voting, and bookmark the site so you can check in frequently.
> Let's see where this goes.
>
> One question I have for the group is do we want to follow suit with the
> radiance-dev list?
>
> OK, bye, see you over there.(?)
>
> - Rob
>
>
>
> _______________________________________________
> Radiance-openstudio mailing list
> Radiance-openstudio at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-openstudio
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150820/bed21874/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Emailing_notification.PNG
Type: image/png
Size: 42935 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150820/bed21874/attachment-0001.png>

From gregoryjward at gmail.com  Thu Aug 20 10:24:40 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 20 Aug 2015 10:24:40 -0700
Subject: [Radiance-general] Giving UnmetHours.com a Try
In-Reply-To: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
Message-ID: <1F44200D-2305-4969-AD32-5B9B8BD2633E@lmi.net>

Thanks for the prompt, Rob -- just signed myself up!  Seems quite reasonable so far....

Since we have so few developers, I think we can keep those on the dev list for now.

Cheers,
-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Subject: [Radiance-general] Giving UnmetHours.com a Try
> Date: August 20, 2015 9:42:31 AM PDT
> 
> Greetings simulationists,
> 
> The very end of this week's International Radiance Workshop included an open discussion session, which spurred some excellent discussion about software tools, metrics, and support. This last topic (support) included all the usual talking points: information is scattered, and hard to find; the listserv is antiquated (tho there were people on both sides of this issue), etc...
> 
> The UnmetHours.com website was mentioned during this conversation, which has been successful as a "Stack Overflow for energy modelers" kind of resource. For those unfamiliar with Stack Overflow, it's simply a Q&A website for programmers, where people can ask and answer questions. Both the questions and answers can be up and down voted for relevance and quality, respectively. Users who ask good questions and give good answers receive "karma points" which unlock further functionality on the site and boost the self-esteem of the users, impressing their friends and peers. =) UH is basically the same thing, but with a focus on building simulation.
> 
> UnmetHours posts can accept software- and workflow-specific tags, allowing the content to self-organize and become searchable on these keyword tags. Images can be embedded in posts, as well as formatted code blocks. Users can comment, and offer answers, which can then be up or down voted; the idea being the community shapes the knowledge base. There are things I don't like about the site, versus the old-school listserv method. But the discussion yesterday focused on the problems of the new user, and offering greater visibility into the tremendous resource that is the radiance-online list archives (and those from the radsite list that preceded it). Matter of fact, I posted an announcement about UnmetHours on radiance-online last fall, but I can't find it now. So, there ya go.
> 
> In the end, the general consensus was to give UnmetHours a try, for Radiance support. There was no agreed-upon methodology for this, but the general idea is:
> 
> 0. Post this announcement here, and then:
> 1. Encourage the community to post new Radiance questions on UnmetHours (and tag appropriately)
> 2. When answers already exist on radiance-online.org, post a brief answer on UH, cross-referencing the post or thread on radiance-online.org
> This is as far as we got, frankly.
> 
> My biggest beef with the UH workflow is that the onus is on me to check the site for new content, whereas the listserv simply sends me the conversations in realtime. The rss feed for UH is not at all good for this, either. So this is a big ask in my opinion, but I'm willing to give it a go, and - significantly - Greg was, too. So how about it? I'm hereby encouraging this lot to head over to unmethours.com, and sugn up for a free account. Have a look around, and check out the help page (https://proxy.unmethours.com/help.html) for info on getting started posting and voting, and bookmark the site so you can check in frequently. Let's see where this goes.
> 
> One question I have for the group is do we want to follow suit with the radiance-dev list?
> 
> OK, bye, see you over there.(?)
> 
> - Rob


From jacobs.axel at gmail.com  Thu Aug 20 11:17:45 2015
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Thu, 20 Aug 2015 19:17:45 +0100
Subject: [Radiance-general] Giving UnmetHours.com a Try
In-Reply-To: <1F44200D-2305-4969-AD32-5B9B8BD2633E@lmi.net>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
	<1F44200D-2305-4969-AD32-5B9B8BD2633E@lmi.net>
Message-ID: <55D619C9.3070708@gmail.com>

Dear UMmers,

Just signed up to this, but failed to find any setting that would allow 
me to only follow certain tags such as 'Radiance' or 'Daylight'.  Given 
that UM seems to be focussed on thermal stuff, this is probably going to 
create a lot of noise in my inbox.

Moreover, tag filtering only appears to allow for one option, but not 
something like 'Radiance OR Daylight'.  Tag filtering is also not stored 
between sessions.

Anyone found a work-around for this?

Best

Axel


On 20/08/15 18:24, Greg Ward wrote:
> Thanks for the prompt, Rob -- just signed myself up!  Seems quite reasonable so far....
>
> Since we have so few developers, I think we can keep those on the dev list for now.
>
> Cheers,
> -Greg
>
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> Subject: [Radiance-general] Giving UnmetHours.com a Try
>> Date: August 20, 2015 9:42:31 AM PDT
>>
>> Greetings simulationists,
>>
>> The very end of this week's International Radiance Workshop included an open discussion session, which spurred some excellent discussion about software tools, metrics, and support. This last topic (support) included all the usual talking points: information is scattered, and hard to find; the listserv is antiquated (tho there were people on both sides of this issue), etc...
>>
>> The UnmetHours.com website was mentioned during this conversation, which has been successful as a "Stack Overflow for energy modelers" kind of resource. For those unfamiliar with Stack Overflow, it's simply a Q&A website for programmers, where people can ask and answer questions. Both the questions and answers can be up and down voted for relevance and quality, respectively. Users who ask good questions and give good answers receive "karma points" which unlock further functionality on the site and boost the self-esteem of the users, impressing their friends and peers. =) UH is basically the same thing, but with a focus on building simulation.
>>
>> UnmetHours posts can accept software- and workflow-specific tags, allowing the content to self-organize and become searchable on these keyword tags. Images can be embedded in posts, as well as formatted code blocks. Users can comment, and offer answers, which can then be up or down voted; the idea being the community shapes the knowledge base. There are things I don't like about the site, versus the old-school listserv method. But the discussion yesterday focused on the problems of the new user, and offering greater visibility into the tremendous resource that is the radiance-online list archives (and those from the radsite list that preceded it). Matter of fact, I posted an announcement about UnmetHours on radiance-online last fall, but I can't find it now. So, there ya go.
>>
>> In the end, the general consensus was to give UnmetHours a try, for Radiance support. There was no agreed-upon methodology for this, but the general idea is:
>>
>> 0. Post this announcement here, and then:
>> 1. Encourage the community to post new Radiance questions on UnmetHours (and tag appropriately)
>> 2. When answers already exist on radiance-online.org, post a brief answer on UH, cross-referencing the post or thread on radiance-online.org
>> This is as far as we got, frankly.
>>
>> My biggest beef with the UH workflow is that the onus is on me to check the site for new content, whereas the listserv simply sends me the conversations in realtime. The rss feed for UH is not at all good for this, either. So this is a big ask in my opinion, but I'm willing to give it a go, and - significantly - Greg was, too. So how about it? I'm hereby encouraging this lot to head over to unmethours.com, and sugn up for a free account. Have a look around, and check out the help page (https://proxy.unmethours.com/help.html) for info on getting started posting and voting, and bookmark the site so you can check in frequently. Let's see where this goes.
>>
>> One question I have for the group is do we want to follow suit with the radiance-dev list?
>>
>> OK, bye, see you over there.(?)
>>
>> - Rob
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>



From Christopher.Rush at arup.com  Thu Aug 20 11:21:45 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Thu, 20 Aug 2015 18:21:45 +0000
Subject: [Radiance-general] [Radiance-openstudio] Giving
	UnmetHours.com	a Try
In-Reply-To: <CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
	<CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>
Message-ID: <88079A360FAC7441AE93ECBF61998236274770D5@AMXExMb02.global.arup.com>

Thanks Mostapha, I was looking for this exactly when you emailed. Early findings after setting up an account:

Look to the right side from the homepage to select your ?interesting tags.? The tag ?radiance? is the most obvious one. It looks a little annoying that there are some redundant tags like both ?daylight? and ?daylighting? but if we?re all consistent to tag ?radiance? that is maybe all that matters. There are lots of potential tags! I haven?t posted anything, but is it completely open to create new tags? For example if I was posting a question about CFS, and there?s no CFS tag, will I tag my new post with both ?radiance? and be allowed to add a previously undefined tag ?CFS??

Also, use a browser other than Internet Explorer. I have IE set to default due to some corporate Microsoft enterprise platforms, and it looks like you can provide answers from within IE, but the button to add comments or clarifications looks to be broken using IE.
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150820/28cf64ea/attachment.html>

From Robert.Guglielmetti at nrel.gov  Thu Aug 20 11:36:19 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 20 Aug 2015 18:36:19 +0000
Subject: [Radiance-general] [Radiance-openstudio] Giving UnmetHours.com
 a Try
In-Reply-To: <CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
	<CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>
Message-ID: <D1FB79D4.1BDC1%Robert.Guglielmetti@nrel.gov>

Yeah, what I'm saying is that those notifications haven't worked for me. When I joined, I set everything to "instantly" update me, but I've never received an email from UH.

On 8/20/15, 11:04 AM, "Mostapha Sadeghipour" <sadeghipour at gmail.com<mailto:sadeghipour at gmail.com>> wrote:

Thanks for getting this started Rob.

Back to you concern in theory setting up the email subscription setting should solve the issue and you should receive an instant email. I attached a screen-shot.

Also back to the conversation of auto-tagging the available email list [and bringing them into a similar platform to unmethours] I found a couple of options such as (http://www.nltk.org/) and (http://mrolafsson.github.io/autotags/). Didn't have the time to give it a real try yet.

Mostapha



On Thu, Aug 20, 2015 at 12:42 PM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:
Greetings simulationists,

The very end of this week's International Radiance Workshop included an open discussion session, which spurred some excellent discussion about software tools, metrics, and support. This last topic (support) included all the usual talking points: information is scattered, and hard to find; the listserv is antiquated (tho there were people on both sides of this issue), etc...

The UnmetHours.com website was mentioned during this conversation, which has been successful as a "Stack Overflow for energy modelers" kind of resource. For those unfamiliar with Stack Overflow, it's simply a Q&A website for programmers, where people can ask and answer questions. Both the questions and answers can be up and down voted for relevance and quality, respectively. Users who ask good questions and give good answers receive "karma points" which unlock further functionality on the site and boost the self-esteem of the users, impressing their friends and peers. =) UH is basically the same thing, but with a focus on building simulation.

UnmetHours posts can accept software- and workflow-specific tags, allowing the content to self-organize and become searchable on these keyword tags. Images can be embedded in posts, as well as formatted code blocks. Users can comment, and offer answers, which can then be up or down voted; the idea being the community shapes the knowledge base. There are things I don't like about the site, versus the old-school listserv method. But the discussion yesterday focused on the problems of the new user, and offering greater visibility into the tremendous resource that is the radiance-online list archives (and those from the radsite list that preceded it). Matter of fact, I posted an announcement about UnmetHours on radiance-online last fall, but I can't find it now. So, there ya go.

In the end, the general consensus was to give UnmetHours a try, for Radiance support. There was no agreed-upon methodology for this, but the general idea is:

0. Post this announcement here, and then:
1. Encourage the community to post new Radiance questions on UnmetHours (and tag appropriately)
2. When answers already exist on radiance-online.org<http://radiance-online.org>, post a brief answer on UH, cross-referencing the post or thread on radiance-online.org<http://radiance-online.org>
This is as far as we got, frankly.

My biggest beef with the UH workflow is that the onus is on me to check the site for new content, whereas the listserv simply sends me the conversations in realtime. The rss feed for UH is not at all good for this, either. So this is a big ask in my opinion, but I'm willing to give it a go, and - significantly - Greg was, too. So how about it? I'm hereby encouraging this lot to head over to unmethours.com<http://unmethours.com>, and sugn up for a free account. Have a look around, and check out the help page (https://proxy.unmethours.com/help.html) for info on getting started posting and voting, and bookmark the site so you can check in frequently. Let's see where this goes.

One question I have for the group is do we want to follow suit with the radiance-dev list?

OK, bye, see you over there.(?)

- Rob



_______________________________________________
Radiance-openstudio mailing list
Radiance-openstudio at radiance-online.org<mailto:Radiance-openstudio at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-openstudio



From neal.kruis at bigladdersoftware.com  Thu Aug 20 14:13:59 2015
From: neal.kruis at bigladdersoftware.com (Neal Kruis)
Date: Thu, 20 Aug 2015 15:13:59 -0600
Subject: [Radiance-general] [Radiance-openstudio] Giving UnmetHours.com
	a Try
In-Reply-To: <D1FB79D4.1BDC1%Robert.Guglielmetti@nrel.gov>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
	<CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>
	<D1FB79D4.1BDC1%Robert.Guglielmetti@nrel.gov>
Message-ID: <CAOG8z52ooOguibm-rGBPRx9zcMMG8HqZhCaCrBwQHgCfNsu2HQ@mail.gmail.com>

Hi everyone,

I'm looking into the problem some people are seeing with not receiving
instant email updates. I'll let you know once I track it down.

Neal Kruis

Vice President
Big Ladder Software
1624 Market Street, Suite 304
Denver, CO 80202
bigladdersoftware.com


On Thu, Aug 20, 2015 at 12:36 PM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> Yeah, what I'm saying is that those notifications haven't worked for me.
> When I joined, I set everything to "instantly" update me, but I've never
> received an email from UH.
>
> On 8/20/15, 11:04 AM, "Mostapha Sadeghipour" <sadeghipour at gmail.com
> <mailto:sadeghipour at gmail.com>> wrote:
>
> Thanks for getting this started Rob.
>
> Back to you concern in theory setting up the email subscription setting
> should solve the issue and you should receive an instant email. I attached
> a screen-shot.
>
> Also back to the conversation of auto-tagging the available email list
> [and bringing them into a similar platform to unmethours] I found a couple
> of options such as (http://www.nltk.org/) and (
> http://mrolafsson.github.io/autotags/). Didn't have the time to give it a
> real try yet.
>
> Mostapha
>
>
>
> On Thu, Aug 20, 2015 at 12:42 PM, Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:
> Greetings simulationists,
>
> The very end of this week's International Radiance Workshop included an
> open discussion session, which spurred some excellent discussion about
> software tools, metrics, and support. This last topic (support) included
> all the usual talking points: information is scattered, and hard to find;
> the listserv is antiquated (tho there were people on both sides of this
> issue), etc...
>
> The UnmetHours.com website was mentioned during this conversation, which
> has been successful as a "Stack Overflow for energy modelers" kind of
> resource. For those unfamiliar with Stack Overflow, it's simply a Q&A
> website for programmers, where people can ask and answer questions. Both
> the questions and answers can be up and down voted for relevance and
> quality, respectively. Users who ask good questions and give good answers
> receive "karma points" which unlock further functionality on the site and
> boost the self-esteem of the users, impressing their friends and peers. =)
> UH is basically the same thing, but with a focus on building simulation.
>
> UnmetHours posts can accept software- and workflow-specific tags, allowing
> the content to self-organize and become searchable on these keyword tags.
> Images can be embedded in posts, as well as formatted code blocks. Users
> can comment, and offer answers, which can then be up or down voted; the
> idea being the community shapes the knowledge base. There are things I
> don't like about the site, versus the old-school listserv method. But the
> discussion yesterday focused on the problems of the new user, and offering
> greater visibility into the tremendous resource that is the radiance-online
> list archives (and those from the radsite list that preceded it). Matter of
> fact, I posted an announcement about UnmetHours on radiance-online last
> fall, but I can't find it now. So, there ya go.
>
> In the end, the general consensus was to give UnmetHours a try, for
> Radiance support. There was no agreed-upon methodology for this, but the
> general idea is:
>
> 0. Post this announcement here, and then:
> 1. Encourage the community to post new Radiance questions on UnmetHours
> (and tag appropriately)
> 2. When answers already exist on radiance-online.org<
> http://radiance-online.org>, post a brief answer on UH, cross-referencing
> the post or thread on radiance-online.org<http://radiance-online.org>
> This is as far as we got, frankly.
>
> My biggest beef with the UH workflow is that the onus is on me to check
> the site for new content, whereas the listserv simply sends me the
> conversations in realtime. The rss feed for UH is not at all good for this,
> either. So this is a big ask in my opinion, but I'm willing to give it a
> go, and - significantly - Greg was, too. So how about it? I'm hereby
> encouraging this lot to head over to unmethours.com<http://unmethours.com>,
> and sugn up for a free account. Have a look around, and check out the help
> page (https://proxy.unmethours.com/help.html) for info on getting started
> posting and voting, and bookmark the site so you can check in frequently.
> Let's see where this goes.
>
> One question I have for the group is do we want to follow suit with the
> radiance-dev list?
>
> OK, bye, see you over there.(?)
>
> - Rob
>
>
>
> _______________________________________________
> Radiance-openstudio mailing list
> Radiance-openstudio at radiance-online.org<mailto:
> Radiance-openstudio at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-openstudio
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150820/c2640075/attachment.html>

From mcneil.andrew at gmail.com  Thu Aug 20 23:34:13 2015
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Thu, 20 Aug 2015 23:34:13 -0700
Subject: [Radiance-general] Giving UnmetHours.com a Try
In-Reply-To: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
Message-ID: <CAEFJVk9vA7jD4a4Tprx1=kv+W8CN_+HRBXVrGuGuG2F4Nhiy8w@mail.gmail.com>

First thing to do after registering at unmet hours is to check out this
question and Rob's response:
https://unmethours.com/question/946/state-of-the-art-lighting-design/

classic.

On Thu, Aug 20, 2015 at 9:42 AM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> Greetings simulationists,
>
> The very end of this week's International Radiance Workshop included an
> open discussion session, which spurred some excellent discussion about
> software tools, metrics, and support. This last topic (support) included
> all the usual talking points: information is scattered, and hard to find;
> the listserv is antiquated (tho there were people on both sides of this
> issue), etc...
>
> The UnmetHours.com website was mentioned during this conversation, which
> has been successful as a "Stack Overflow for energy modelers" kind of
> resource. For those unfamiliar with Stack Overflow, it's simply a Q&A
> website for programmers, where people can ask and answer questions. Both
> the questions and answers can be up and down voted for relevance and
> quality, respectively. Users who ask good questions and give good answers
> receive "karma points" which unlock further functionality on the site and
> boost the self-esteem of the users, impressing their friends and peers. =)
> UH is basically the same thing, but with a focus on building simulation.
>
> UnmetHours posts can accept software- and workflow-specific tags, allowing
> the content to self-organize and become searchable on these keyword tags.
> Images can be embedded in posts, as well as formatted code blocks. Users
> can comment, and offer answers, which can then be up or down voted; the
> idea being the community shapes the knowledge base. There are things I
> don't like about the site, versus the old-school listserv method. But the
> discussion yesterday focused on the problems of the new user, and offering
> greater visibility into the tremendous resource that is the radiance-online
> list archives (and those from the radsite list that preceded it). Matter of
> fact, I posted an announcement about UnmetHours on radiance-online last
> fall, but I can't find it now. So, there ya go.
>
> In the end, the general consensus was to give UnmetHours a try, for
> Radiance support. There was no agreed-upon methodology for this, but the
> general idea is:
>
> 0. Post this announcement here, and then:
> 1. Encourage the community to post new Radiance questions on UnmetHours
> (and tag appropriately)
> 2. When answers already exist on radiance-online.org, post a brief answer
> on UH, cross-referencing the post or thread on radiance-online.org
> This is as far as we got, frankly.
>
> My biggest beef with the UH workflow is that the onus is on me to check
> the site for new content, whereas the listserv simply sends me the
> conversations in realtime. The rss feed for UH is not at all good for this,
> either. So this is a big ask in my opinion, but I'm willing to give it a
> go, and - significantly - Greg was, too. So how about it? I'm hereby
> encouraging this lot to head over to unmethours.com, and sugn up for a
> free account. Have a look around, and check out the help page (
> https://proxy.unmethours.com/help.html) for info on getting started
> posting and voting, and bookmark the site so you can check in frequently.
> Let's see where this goes.
>
> One question I have for the group is do we want to follow suit with the
> radiance-dev list?
>
> OK, bye, see you over there.(?)
>
> - Rob
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150820/1d13b823/attachment.html>

From Robert.Guglielmetti at nrel.gov  Fri Aug 21 08:34:09 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 21 Aug 2015 15:34:09 +0000
Subject: [Radiance-general] Off Topic: Unmet Hours Tips
Message-ID: <D1FCA10F.1BE97%Robert.Guglielmetti@nrel.gov>

Today's UBPSA-US newsletter features a piece by Neal Kruis on searching Unmet Hours for information:

http://www.ibpsa.us/news/hours-met-answers-your-energy-modeling-questions

It's not Radiance or daylighting specific but it gives you an idea of how to get around. In other news, my email preferences ARE working, and I do get an email every time a new post/answer/comment appears on the UH site now. I've not figured out any workarounds for tuning the signal to noise ratio yet, however. =/




From gregoryjward at gmail.com  Fri Aug 21 11:59:41 2015
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri, 21 Aug 2015 11:59:41 -0700
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
	bug)
In-Reply-To: <2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
Message-ID: <41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>

As it turns out, this appears *not* to be a problem with Yosemite after all, but an issue with the last official release (4.2.2), whose accuracy isn't quite as good as the latest (HEAD or 5.0a) with respect to its Hessian interpolation method.  The artifacts MJ noticed were due to inaccuracies in the interreflection calculation, for which this scene is something of a worst case.  Decreasing the -aa parameter while increasing -ad seems to resolve these issues, especially with the latest code.

While playing around with Yosemite trying to reproduce these artifacts, I discovered that the problems I thought I was having with the system select() call were in fact due to a bug in the way Yosemite handles application-level file locking.  This was a complete surprise, but it turns out not to be so difficult to work around.

Without getting too much into the details, the stdio library has these lock/unlock calls to make the library thread-safe, which of course I don't care about because I don't use threads, but they severely impact performance even on unthreaded code.  In some cases, it requires a mutex lock/block/unlock procedure for every character that is input or output, completely defeating the purpose of i/o buffering that is the purpose of stdio in the first place.  Therefore, I had some workarounds in place to reduce or eliminate this overhead, basically locking the files once at the outset to avoid the per-call mutex overhead.

This all worked fine up until the latest release of Mac OS X (10.10), when Apple changed the behavior of fork() such that it preserves application-level i/o locking for no conceivable reason.  Since these locks are designed to negotiate between threads sharing memory (i/o buffers), and separate processes don't share memory, the locks should sever on fork().  Every Unix out there does this, except Mac OS X 10.10.x.  Therefore, when I made a call to flockfile() at the start of rvu or rtrace, then forked its children, each child would deadlock the instant it tried to use a shared file pointer (i.e., the ambient file).

You could say I was being cavalier about the use of flockfile(), but I was just trying to work around a horrible performance bottleneck introduced with automatic application-level locking in stdio.  It's one thing to introduce a new feature and suggest that people using multi-threading take advantage of it.  It's another thing to implement locking as the new default behavior, while decreasing i/o performance by about 90% (no exaggeration) even when it is not needed, then not even offer a means to disable it.

In any event, I checked in a change that I'm hoping fixes this issue under Yosemite, while not costing us too much on all the other Unix platforms that don't have this issue.

Cheers,
-Greg

> From: "Gregory J. Ward" <gregoryjward at gmail.com>
> Subject: Fwd: [Radiance-general] strange artifacts in rendering
> Date: August 20, 2015 9:14:23 AM PDT
> 
> Just forwarding this to the mailing list in case as an additional warning against installing Mac OS X Yosemite (10.10.x).  As if the multi-processing bug were not enough, there seem to be other problems with instances and/or textures (not sure) on that platform.
> 
> I may try investigating this on the weekend, but I don't hold out much hope for a resolution.
> 
> -Greg
> 
>> From: Minjung Kim <mkim85 at gmail.com>
>> Subject: Re: [Radiance-general] strange artifacts in rendering
>> Date: August 19, 2015 4:58:24 PM PDT
>> To: "Gregory J. Ward" <gregoryjward at gmail.com>
>> 
>> Hi Greg,
>> 
>> I think the problem might indeed be with OS 10.10. None of the 20 scenes that I rendered on OS 10.9 had any issues, whereas more than half of the 20 on OS 10.10 did. Please see attached files for examples. 
>> 
>> Thanks for your help!
>> 
>> MJ
>> 
>> On Wed, Aug 19, 2015 at 4:33 PM, Minjung Kim <mkim85 at gmail.com> wrote:
>> I'm going to render a bunch of other blobby objects on 10.9, and see if I get the problem here. I'll let you know what I find out. 
>> 
>> Thanks!
>> 
>> MJ
>> 
>> 
>> On Wed, Aug 19, 2015 at 4:30 PM, Gregory J. Ward <gregoryjward at gmail.com> wrote:
>> Thanks, Minjung.  
>> 
>> I guess we can add this to the list of bugs under Mac OS X 10.10, which to me has been a disastrous release.  I seriously doubt I will be able to fix problems on this platform, but I'll give it a try when I have some time.
>> 
>> Cheers,
>> -Greg
>> 
>>> From: Minjung Kim <mkim85 at gmail.com>
>>> Subject: Re: [Radiance-general] strange artifacts in rendering
>>> Date: August 19, 2015 4:16:50 PM EDT
>>> 
>>> Hi Greg,
>>> 
>>> Thanks for your help! I am still unable to get the artifacts to come back -- but only on my current machine (late-2013 iMac, 21.5 in., OS X 10.9). If I run the same code on a different machine (late-2013 iMac, 21.5 in., OS X 10.10), I reliably get the artifact. Isn't that strange?
>>> 
>>> Attached are the files that I used. To run, please use the following commands:
>>> 
>>> oconv square.rad > square.oct
>>> oconv scene.rad > scene.oct
>>> rpict -x 1024 -y 1024 -vh 12.018 -vv 12.018 -vp 0 -0.57 0 -vd 0 1 0 -vu 0 0 1 -av 0 0 0 -vtv -ab 1 scene.oct > scene.pic
>>> pfilt -1 -x 512 -y 512 -e 1 -r 0.6 scene.pic > scene.hdr
>>> 
>>> In scene.rad, the square is incorporated as an instance. I know that I don't really need to instance the square since I only have one, but the scene with the artifacts was using instances, so I thought it would be better to send you the code as is. 
>>> 
>>> If anything is unclear, please let me know. Thanks again!
>>> 
>>> Regards,
>>> 
>>> MJ
>>> 
>>> On Tue, Aug 18, 2015 at 7:00 PM, Minjung Kim <mkim85 at gmail.com> wrote:
>>> Hi Greg,
>>> 
>>> Thanks! I'm putting together the files, but I'm unable to replicate the problem using my latest code, though I don't think I've changed anything substantial. I'll get back to you once I can reliably replicate the artifacts.
>>> 
>>> MJ
>>> 
>>> On Mon, Aug 17, 2015 at 9:04 PM, Greg Ward <gregoryjward at gmail.com> wrote:
>>> Hi MJ,
>>> 
>>> Can you send me your model & rendering parameters off-list.  I won't know what's going on until I play with it.
>>> 
>>> Thanks,
>>> -Greg
>>> 
>>>> From: Minjung Kim <mkim85 at gmail.com>
>>>> Subject: [Radiance-general] strange artifacts in rendering
>>>> Date: August 17, 2015 5:30:37 PM EDT
>>>> 
>>>> Hi everyone,
>>>> 
>>>> I am getting strange artifacts in my renderings, and am wondering which parameters to tweak in order to get rid of them. The artifacts look like a white, or sometimes half-black and half-white, patch at random locations. See below for examples:
>>>> 
>>>> http://minjung.ca/tmp/artifacts1.png
>>>> http://minjung.ca/tmp/artifacts2.png
>>>> 
>>>> I've tried (1) setting ad = 4096, as = 1024, and (2) setting aa = 0, ar = 0, but neither of these two settings fixed the problem. Do you have any idea what might be happening? Here are some possibly relevant factors: 
>>>> 
>>>> - The object is completely Lambertian.
>>>> - The only light source in the scene is a glow source that is positioned behind the camera, and covers as much of the sky as possible. 
>>>> - I don't think I've ever encountered such artifacts with untextured stimuli.  I could be wrong, though.
>>>> 
>>>> Thanks in advance!
>>>> 
>>>> MJ
>> 
>> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150821/2cbe2e4c/attachment.html>

From Robert.Guglielmetti at nrel.gov  Fri Aug 21 13:06:40 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 21 Aug 2015 20:06:40 +0000
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
 bug)
In-Reply-To: <41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
	<41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
Message-ID: <D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>

This is fantastic news! (Roland/Lars, take note...)

I don't recall, is there a concrete test for the fork() thing? I was just in the midst of re-making the Radiance packages (we need to support 32-bit Windows still), but I will *happily* reset the release tag to this commit and start over again, if it means I get to re-enable OpenStudio-Radiance multithreading on Yosemite!

On 8/21/15, 12:59 PM, "Gregory J. Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:

In any event, I checked in a change that I'm hoping fixes this issue under Yosemite, while not costing us too much on all the other Unix platforms that don't have this issue.



From gregoryjward at gmail.com  Fri Aug 21 13:19:16 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 21 Aug 2015 13:19:16 -0700
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
	bug)
In-Reply-To: <D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
	<41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
	<D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>
Message-ID: <0D2F7B03-031D-4D71-A527-FAC936D326B6@lmi.net>

I have not tested all the programs fully under Yosemite to make sure there are no more deadlocks.  I would appreciate help on that from the user community ahead of the official 5.0 release, which I'm hoping to get out in the next week or so.  That means getting a 5.0a installer out or getting volunteers who don't mind compiling from source to run rvu, rtrace, rcontrib, genBSDF, etc. in -n >1 mode....

Cheers,
-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Subject: Re: [Radiance-general] strange artifacts in rendering (and Yosemite bug)
> Date: August 21, 2015 1:06:40 PM PDT
> 
> This is fantastic news! (Roland/Lars, take note...)
> 
> I don't recall, is there a concrete test for the fork() thing? I was just in the midst of re-making the Radiance packages (we need to support 32-bit Windows still), but I will *happily* reset the release tag to this commit and start over again, if it means I get to re-enable OpenStudio-Radiance multithreading on Yosemite!
> 
> On 8/21/15, 12:59 PM, "Gregory J. Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
> 
> In any event, I checked in a change that I'm hoping fixes this issue under Yosemite, while not costing us too much on all the other Unix platforms that don't have this issue.


From Robert.Guglielmetti at nrel.gov  Fri Aug 21 14:47:03 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 21 Aug 2015 21:47:03 +0000
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
 bug)
In-Reply-To: <0D2F7B03-031D-4D71-A527-FAC936D326B6@lmi.net>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
	<41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
	<D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>
	<0D2F7B03-031D-4D71-A527-FAC936D326B6@lmi.net>
Message-ID: <D1FCF74C.1BFB6%Robert.Guglielmetti@nrel.gov>

To that end, I just moved the NREL 5.0.a.4 release tag up to Greg's latest
commit, and have posted a fresh Mac installer on there, so now you don't
even have to be able to compile from source to help Greg test this out!
Come and get it:

https://github.com/NREL/Radiance/releases/tag/5.0.a.4


Windows (including 32-bit!) and Linux packages will be re-made and
re-posted to this release page shortly.

- Rob


On 8/21/15, 2:19 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:

>I have not tested all the programs fully under Yosemite to make sure
>there are no more deadlocks.  I would appreciate help on that from the
>user community ahead of the official 5.0 release, which I'm hoping to get
>out in the next week or so.  That means getting a 5.0a installer out or
>getting volunteers who don't mind compiling from source to run rvu,
>rtrace, rcontrib, genBSDF, etc. in -n >1 mode....
>
>Cheers,
>-Greg
>
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> Subject: Re: [Radiance-general] strange artifacts in rendering (and
>>Yosemite bug)
>> Date: August 21, 2015 1:06:40 PM PDT
>> 
>> This is fantastic news! (Roland/Lars, take note...)
>> 
>> I don't recall, is there a concrete test for the fork() thing? I was
>>just in the midst of re-making the Radiance packages (we need to support
>>32-bit Windows still), but I will *happily* reset the release tag to
>>this commit and start over again, if it means I get to re-enable
>>OpenStudio-Radiance multithreading on Yosemite!
>> 
>> On 8/21/15, 12:59 PM, "Gregory J. Ward"
>><gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>> 
>> In any event, I checked in a change that I'm hoping fixes this issue
>>under Yosemite, while not costing us too much on all the other Unix
>>platforms that don't have this issue.
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Fri Aug 21 16:45:09 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 21 Aug 2015 16:45:09 -0700
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
	bug)
In-Reply-To: <D1FCF74C.1BFB6%Robert.Guglielmetti@nrel.gov>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
	<41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
	<D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>
	<0D2F7B03-031D-4D71-A527-FAC936D326B6@lmi.net>
	<D1FCF74C.1BFB6%Robert.Guglielmetti@nrel.gov>
Message-ID: <E7327C3E-D8DC-44EA-8559-2844C9A4A64F@lmi.net>

Many thanks for the quick turn-around on that, Rob!  This mostly applies to Mac OS X 10.10 (Yosemite) users, but anyone who cares to do a before/after timing, that would also be useful.

Cheers,
-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Subject: Re: [Radiance-general] strange artifacts in rendering (and Yosemite bug)
> Date: August 21, 2015 2:47:03 PM PDT
> 
> To that end, I just moved the NREL 5.0.a.4 release tag up to Greg's latest
> commit, and have posted a fresh Mac installer on there, so now you don't
> even have to be able to compile from source to help Greg test this out!
> Come and get it:
> 
> https://github.com/NREL/Radiance/releases/tag/5.0.a.4
> 
> Windows (including 32-bit!) and Linux packages will be re-made and
> re-posted to this release page shortly.
> 
> - Rob
> 
> 
> On 8/21/15, 2:19 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:
> 
>> I have not tested all the programs fully under Yosemite to make sure
>> there are no more deadlocks.  I would appreciate help on that from the
>> user community ahead of the official 5.0 release, which I'm hoping to get
>> out in the next week or so.  That means getting a 5.0a installer out or
>> getting volunteers who don't mind compiling from source to run rvu,
>> rtrace, rcontrib, genBSDF, etc. in -n >1 mode....
>> 
>> Cheers,
>> -Greg
>> 
>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>> Subject: Re: [Radiance-general] strange artifacts in rendering (and
>>> Yosemite bug)
>>> Date: August 21, 2015 1:06:40 PM PDT
>>> 
>>> This is fantastic news! (Roland/Lars, take note...)
>>> 
>>> I don't recall, is there a concrete test for the fork() thing? I was
>>> just in the midst of re-making the Radiance packages (we need to support
>>> 32-bit Windows still), but I will *happily* reset the release tag to
>>> this commit and start over again, if it means I get to re-enable
>>> OpenStudio-Radiance multithreading on Yosemite!
>>> 
>>> On 8/21/15, 12:59 PM, "Gregory J. Ward"
>>> <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>>> 
>>> In any event, I checked in a change that I'm hoping fixes this issue
>>> under Yosemite, while not costing us too much on all the other Unix
>>> platforms that don't have this issue.


From rmfritz3 at gmail.com  Mon Aug 24 16:51:07 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 24 Aug 2015 16:51:07 -0700
Subject: [Radiance-general] [Radiance-openstudio] Giving UnmetHours.com
	a Try
In-Reply-To: <D1FB79D4.1BDC1%Robert.Guglielmetti@nrel.gov>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
	<CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>
	<D1FB79D4.1BDC1%Robert.Guglielmetti@nrel.gov>
Message-ID: <CANeAMo+heLEqrS5Ggtr5sVQ8bcDYMkK1=gv==jYe=-SnXq6ztg@mail.gmail.com>

Are these the notifications classed as "Entire forum (tag filtered)"?
If so, by default they are sent out weekly.
--
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com


On Thu, Aug 20, 2015 at 11:36 AM, Guglielmetti, Robert
<Robert.Guglielmetti at nrel.gov> wrote:
> Yeah, what I'm saying is that those notifications haven't worked for me. When I joined, I set everything to "instantly" update me, but I've never received an email from UH.
>
> On 8/20/15, 11:04 AM, "Mostapha Sadeghipour" <sadeghipour at gmail.com<mailto:sadeghipour at gmail.com>> wrote:
>
> Thanks for getting this started Rob.
>
> Back to you concern in theory setting up the email subscription setting should solve the issue and you should receive an instant email. I attached a screen-shot.
>
> Also back to the conversation of auto-tagging the available email list [and bringing them into a similar platform to unmethours] I found a couple of options such as (http://www.nltk.org/) and (http://mrolafsson.github.io/autotags/). Didn't have the time to give it a real try yet.
>
> Mostapha
>
>
>
> On Thu, Aug 20, 2015 at 12:42 PM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:
> Greetings simulationists,
>
> The very end of this week's International Radiance Workshop included an open discussion session, which spurred some excellent discussion about software tools, metrics, and support. This last topic (support) included all the usual talking points: information is scattered, and hard to find; the listserv is antiquated (tho there were people on both sides of this issue), etc...
>
> The UnmetHours.com website was mentioned during this conversation, which has been successful as a "Stack Overflow for energy modelers" kind of resource. For those unfamiliar with Stack Overflow, it's simply a Q&A website for programmers, where people can ask and answer questions. Both the questions and answers can be up and down voted for relevance and quality, respectively. Users who ask good questions and give good answers receive "karma points" which unlock further functionality on the site and boost the self-esteem of the users, impressing their friends and peers. =) UH is basically the same thing, but with a focus on building simulation.
>
> UnmetHours posts can accept software- and workflow-specific tags, allowing the content to self-organize and become searchable on these keyword tags. Images can be embedded in posts, as well as formatted code blocks. Users can comment, and offer answers, which can then be up or down voted; the idea being the community shapes the knowledge base. There are things I don't like about the site, versus the old-school listserv method. But the discussion yesterday focused on the problems of the new user, and offering greater visibility into the tremendous resource that is the radiance-online list archives (and those from the radsite list that preceded it). Matter of fact, I posted an announcement about UnmetHours on radiance-online last fall, but I can't find it now. So, there ya go.
>
> In the end, the general consensus was to give UnmetHours a try, for Radiance support. There was no agreed-upon methodology for this, but the general idea is:
>
> 0. Post this announcement here, and then:
> 1. Encourage the community to post new Radiance questions on UnmetHours (and tag appropriately)
> 2. When answers already exist on radiance-online.org<http://radiance-online.org>, post a brief answer on UH, cross-referencing the post or thread on radiance-online.org<http://radiance-online.org>
> This is as far as we got, frankly.
>
> My biggest beef with the UH workflow is that the onus is on me to check the site for new content, whereas the listserv simply sends me the conversations in realtime. The rss feed for UH is not at all good for this, either. So this is a big ask in my opinion, but I'm willing to give it a go, and - significantly - Greg was, too. So how about it? I'm hereby encouraging this lot to head over to unmethours.com<http://unmethours.com>, and sugn up for a free account. Have a look around, and check out the help page (https://proxy.unmethours.com/help.html) for info on getting started posting and voting, and bookmark the site so you can check in frequently. Let's see where this goes.
>
> One question I have for the group is do we want to follow suit with the radiance-dev list?
>
> OK, bye, see you over there.(?)
>
> - Rob
>
>
>
> _______________________________________________
> Radiance-openstudio mailing list
> Radiance-openstudio at radiance-online.org<mailto:Radiance-openstudio at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-openstudio
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From rmfritz3 at gmail.com  Mon Aug 24 16:53:04 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 24 Aug 2015 16:53:04 -0700
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
	bug)
In-Reply-To: <E7327C3E-D8DC-44EA-8559-2844C9A4A64F@lmi.net>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
	<41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
	<D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>
	<0D2F7B03-031D-4D71-A527-FAC936D326B6@lmi.net>
	<D1FCF74C.1BFB6%Robert.Guglielmetti@nrel.gov>
	<E7327C3E-D8DC-44EA-8559-2844C9A4A64F@lmi.net>
Message-ID: <CANeAMo+igAF6gVn-3DUNXoc1gxYh2v32g7VkYR75uBMz3wZ9bA@mail.gmail.com>

Sigh. I think in a few more years, anyone who is interested in
scientific computing, rather than business functions or social
networking, is going to be running ChromeOS.
--
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com


On Fri, Aug 21, 2015 at 4:45 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> Many thanks for the quick turn-around on that, Rob!  This mostly applies to Mac OS X 10.10 (Yosemite) users, but anyone who cares to do a before/after timing, that would also be useful.
>
> Cheers,
> -Greg
>
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> Subject: Re: [Radiance-general] strange artifacts in rendering (and Yosemite bug)
>> Date: August 21, 2015 2:47:03 PM PDT
>>
>> To that end, I just moved the NREL 5.0.a.4 release tag up to Greg's latest
>> commit, and have posted a fresh Mac installer on there, so now you don't
>> even have to be able to compile from source to help Greg test this out!
>> Come and get it:
>>
>> https://github.com/NREL/Radiance/releases/tag/5.0.a.4
>>
>> Windows (including 32-bit!) and Linux packages will be re-made and
>> re-posted to this release page shortly.
>>
>> - Rob
>>
>>
>> On 8/21/15, 2:19 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:
>>
>>> I have not tested all the programs fully under Yosemite to make sure
>>> there are no more deadlocks.  I would appreciate help on that from the
>>> user community ahead of the official 5.0 release, which I'm hoping to get
>>> out in the next week or so.  That means getting a 5.0a installer out or
>>> getting volunteers who don't mind compiling from source to run rvu,
>>> rtrace, rcontrib, genBSDF, etc. in -n >1 mode....
>>>
>>> Cheers,
>>> -Greg
>>>
>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>> Subject: Re: [Radiance-general] strange artifacts in rendering (and
>>>> Yosemite bug)
>>>> Date: August 21, 2015 1:06:40 PM PDT
>>>>
>>>> This is fantastic news! (Roland/Lars, take note...)
>>>>
>>>> I don't recall, is there a concrete test for the fork() thing? I was
>>>> just in the midst of re-making the Radiance packages (we need to support
>>>> 32-bit Windows still), but I will *happily* reset the release tag to
>>>> this commit and start over again, if it means I get to re-enable
>>>> OpenStudio-Radiance multithreading on Yosemite!
>>>>
>>>> On 8/21/15, 12:59 PM, "Gregory J. Ward"
>>>> <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>>>>
>>>> In any event, I checked in a change that I'm hoping fixes this issue
>>>> under Yosemite, while not costing us too much on all the other Unix
>>>> platforms that don't have this issue.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Mon Aug 24 21:15:10 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 24 Aug 2015 21:15:10 -0700
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
	bug)
In-Reply-To: <CANeAMo+igAF6gVn-3DUNXoc1gxYh2v32g7VkYR75uBMz3wZ9bA@mail.gmail.com>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
	<41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
	<D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>
	<0D2F7B03-031D-4D71-A527-FAC936D326B6@lmi.net>
	<D1FCF74C.1BFB6%Robert.Guglielmetti@nrel.gov>
	<E7327C3E-D8DC-44EA-8559-2844C9A4A64F@lmi.net>
	<CANeAMo+igAF6gVn-3DUNXoc1gxYh2v32g7VkYR75uBMz3wZ9bA@mail.gmail.com>
Message-ID: <182CB024-F1D7-4A15-A6D1-D323DE34125D@lmi.net>

It will be interesting to see what ChromeOS develops into.  Right now, it's more of a browser manager for accessing online tools, and doesn't have much in the way of compilers or a runtime environment to speak of.  Kind of a waste of a laptop, if you ask me....

-Greg

> From: "Randolph M. Fritz" <rmfritz3 at gmail.com>
> Subject: Re: [Radiance-general] strange artifacts in rendering (and Yosemite bug)
> Date: August 24, 2015 4:53:04 PM PDT
> 
> Sigh. I think in a few more years, anyone who is interested in
> scientific computing, rather than business functions or social
> networking, is going to be running ChromeOS.
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
> 
> 
> On Fri, Aug 21, 2015 at 4:45 PM, Greg Ward <gregoryjward at gmail.com> wrote:
>> Many thanks for the quick turn-around on that, Rob!  This mostly applies to Mac OS X 10.10 (Yosemite) users, but anyone who cares to do a before/after timing, that would also be useful.
>> 
>> Cheers,
>> -Greg
>> 
>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>> Subject: Re: [Radiance-general] strange artifacts in rendering (and Yosemite bug)
>>> Date: August 21, 2015 2:47:03 PM PDT
>>> 
>>> To that end, I just moved the NREL 5.0.a.4 release tag up to Greg's latest
>>> commit, and have posted a fresh Mac installer on there, so now you don't
>>> even have to be able to compile from source to help Greg test this out!
>>> Come and get it:
>>> 
>>> https://github.com/NREL/Radiance/releases/tag/5.0.a.4
>>> 
>>> Windows (including 32-bit!) and Linux packages will be re-made and
>>> re-posted to this release page shortly.
>>> 
>>> - Rob
>>> 
>>> 
>>> On 8/21/15, 2:19 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:
>>> 
>>>> I have not tested all the programs fully under Yosemite to make sure
>>>> there are no more deadlocks.  I would appreciate help on that from the
>>>> user community ahead of the official 5.0 release, which I'm hoping to get
>>>> out in the next week or so.  That means getting a 5.0a installer out or
>>>> getting volunteers who don't mind compiling from source to run rvu,
>>>> rtrace, rcontrib, genBSDF, etc. in -n >1 mode....
>>>> 
>>>> Cheers,
>>>> -Greg
>>>> 
>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>> Subject: Re: [Radiance-general] strange artifacts in rendering (and
>>>>> Yosemite bug)
>>>>> Date: August 21, 2015 1:06:40 PM PDT
>>>>> 
>>>>> This is fantastic news! (Roland/Lars, take note...)
>>>>> 
>>>>> I don't recall, is there a concrete test for the fork() thing? I was
>>>>> just in the midst of re-making the Radiance packages (we need to support
>>>>> 32-bit Windows still), but I will *happily* reset the release tag to
>>>>> this commit and start over again, if it means I get to re-enable
>>>>> OpenStudio-Radiance multithreading on Yosemite!
>>>>> 
>>>>> On 8/21/15, 12:59 PM, "Gregory J. Ward"
>>>>> <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>>>>> 
>>>>> In any event, I checked in a change that I'm hoping fixes this issue
>>>>> under Yosemite, while not costing us too much on all the other Unix
>>>>> platforms that don't have this issue.
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From Christopher.Rush at arup.com  Wed Aug 26 06:59:47 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Wed, 26 Aug 2015 13:59:47 +0000
Subject: [Radiance-general] [Radiance-openstudio] Giving
	UnmetHours.com	a Try
In-Reply-To: <CANeAMo+heLEqrS5Ggtr5sVQ8bcDYMkK1=gv==jYe=-SnXq6ztg@mail.gmail.com>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
	<CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>
	<D1FB79D4.1BDC1%Robert.Guglielmetti@nrel.gov>
	<CANeAMo+heLEqrS5Ggtr5sVQ8bcDYMkK1=gv==jYe=-SnXq6ztg@mail.gmail.com>
Message-ID: <88079A360FAC7441AE93ECBF619982362747CEF9@AMXExMb02.global.arup.com>

Randolph,
Just to go on the record back in the traditional mailing list, I have been finding that I'm getting immediate messages to my inbox for all new questions, new answers, and new comments on those which are tagged as "radiance" from UnmetHours by:
- Under the "Interesting Tags" heading on the right of the main page typing Radiance and clicking "add"
(repeat for any other interesting tags such as "BSDF" "daysim" "daylighting-metrics" "glare" "sky-model" etc. etc., pretty much any tag that starts with the characters shade, light, daylight, sky will appear for you to select if you start typing those) 
- Clicking my user name near the top left for my profile
- Clicking "subscriptions" on the right of the ribbon above my user avatar/picture
- Setting the first five radial buttons to "instantly"
- And setting the sixth radial button to "only interesting tags"



-----Original Message-----
From: Randolph M. Fritz [mailto:rmfritz3 at gmail.com] 
Sent: Monday, August 24, 2015 7:51 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] [Radiance-openstudio] Giving UnmetHours.com a Try

Are these the notifications classed as "Entire forum (tag filtered)"?
If so, by default they are sent out weekly.
--
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses



From gregoryjward at gmail.com  Wed Aug 26 08:58:52 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 26 Aug 2015 08:58:52 -0700
Subject: [Radiance-general] [Radiance-openstudio] Giving
	UnmetHours.com	a Try
In-Reply-To: <88079A360FAC7441AE93ECBF619982362747CEF9@AMXExMb02.global.arup.com>
References: <D1FB5F93.1BD77%Robert.Guglielmetti@nrel.gov>
	<CAAd_PgTn1jF5+tO5oCbWcReUJmfOmHgjgbdmOt=p_-rbnPT+mg@mail.gmail.com>
	<D1FB79D4.1BDC1%Robert.Guglielmetti@nrel.gov>
	<CANeAMo+heLEqrS5Ggtr5sVQ8bcDYMkK1=gv==jYe=-SnXq6ztg@mail.gmail.com>
	<88079A360FAC7441AE93ECBF619982362747CEF9@AMXExMb02.global.arup.com>
Message-ID: <E2491A13-FE24-49A0-A777-747A8AA6C071@lmi.net>

Thanks for posting a set of clear instructions, Chris!

Cheers,
-Greg

> From: Christopher Rush <Christopher.Rush at arup.com>
> Subject: Re: [Radiance-general] [Radiance-openstudio] Giving UnmetHours.com	a Try
> Date: August 26, 2015 6:59:47 AM PDT
> 
> Randolph,
> Just to go on the record back in the traditional mailing list, I have been finding that I'm getting immediate messages to my inbox for all new questions, new answers, and new comments on those which are tagged as "radiance" from UnmetHours by:
> - Under the "Interesting Tags" heading on the right of the main page typing Radiance and clicking "add"
> (repeat for any other interesting tags such as "BSDF" "daysim" "daylighting-metrics" "glare" "sky-model" etc. etc., pretty much any tag that starts with the characters shade, light, daylight, sky will appear for you to select if you start typing those) 
> - Clicking my user name near the top left for my profile
> - Clicking "subscriptions" on the right of the ribbon above my user avatar/picture
> - Setting the first five radial buttons to "instantly"
> - And setting the sixth radial button to "only interesting tags"
> 
> 
> -----Original Message-----
> From: Randolph M. Fritz [mailto:rmfritz3 at gmail.com] 
> Sent: Monday, August 24, 2015 7:51 PM
> To: Radiance general discussion
> 
> Are these the notifications classed as "Entire forum (tag filtered)"?
> If so, by default they are sent out weekly.
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com


From rmfritz3 at gmail.com  Wed Aug 26 09:43:19 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Wed, 26 Aug 2015 09:43:19 -0700
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
	bug)
In-Reply-To: <182CB024-F1D7-4A15-A6D1-D323DE34125D@lmi.net>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
	<41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
	<D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>
	<0D2F7B03-031D-4D71-A527-FAC936D326B6@lmi.net>
	<D1FCF74C.1BFB6%Robert.Guglielmetti@nrel.gov>
	<E7327C3E-D8DC-44EA-8559-2844C9A4A64F@lmi.net>
	<CANeAMo+igAF6gVn-3DUNXoc1gxYh2v32g7VkYR75uBMz3wZ9bA@mail.gmail.com>
	<182CB024-F1D7-4A15-A6D1-D323DE34125D@lmi.net>
Message-ID: <CANeAMo+x30zVVv1PWWmk_3d4SW5GdPLh5Sv=c+mzgP0LV+=k7g@mail.gmail.com>

Google offers the "Native Client" SDK
(https://developer.chrome.com/native-client), which supports
compilation and download of code with gcc (wince) and a set of
non-Unix APIs (double wince.) Also, of course, one can just work with
the base Linux on ChromeOS, bypassing the browser completely.

So far as I can see, these tools aren't much used yet; ChromeOS is not
a major development platform. But they are there and at the rate the
major platforms are diverging from general computing applications,
they may be all that will be left in a few years. :-(
--
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com


On Mon, Aug 24, 2015 at 9:15 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> It will be interesting to see what ChromeOS develops into.  Right now, it's more of a browser manager for accessing online tools, and doesn't have much in the way of compilers or a runtime environment to speak of.  Kind of a waste of a laptop, if you ask me....
>
> -Greg
>
>> From: "Randolph M. Fritz" <rmfritz3 at gmail.com>
>> Subject: Re: [Radiance-general] strange artifacts in rendering (and Yosemite bug)
>> Date: August 24, 2015 4:53:04 PM PDT
>>
>> Sigh. I think in a few more years, anyone who is interested in
>> scientific computing, rather than business functions or social
>> networking, is going to be running ChromeOS.
>> --
>> Randolph M. Fritz, Lighting Design and Simulation
>> +1 206 659-8617 || rmfritz3 at gmail.com
>>
>>
>> On Fri, Aug 21, 2015 at 4:45 PM, Greg Ward <gregoryjward at gmail.com> wrote:
>>> Many thanks for the quick turn-around on that, Rob!  This mostly applies to Mac OS X 10.10 (Yosemite) users, but anyone who cares to do a before/after timing, that would also be useful.
>>>
>>> Cheers,
>>> -Greg
>>>
>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>> Subject: Re: [Radiance-general] strange artifacts in rendering (and Yosemite bug)
>>>> Date: August 21, 2015 2:47:03 PM PDT
>>>>
>>>> To that end, I just moved the NREL 5.0.a.4 release tag up to Greg's latest
>>>> commit, and have posted a fresh Mac installer on there, so now you don't
>>>> even have to be able to compile from source to help Greg test this out!
>>>> Come and get it:
>>>>
>>>> https://github.com/NREL/Radiance/releases/tag/5.0.a.4
>>>>
>>>> Windows (including 32-bit!) and Linux packages will be re-made and
>>>> re-posted to this release page shortly.
>>>>
>>>> - Rob
>>>>
>>>>
>>>> On 8/21/15, 2:19 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:
>>>>
>>>>> I have not tested all the programs fully under Yosemite to make sure
>>>>> there are no more deadlocks.  I would appreciate help on that from the
>>>>> user community ahead of the official 5.0 release, which I'm hoping to get
>>>>> out in the next week or so.  That means getting a 5.0a installer out or
>>>>> getting volunteers who don't mind compiling from source to run rvu,
>>>>> rtrace, rcontrib, genBSDF, etc. in -n >1 mode....
>>>>>
>>>>> Cheers,
>>>>> -Greg
>>>>>
>>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>>>>>> Subject: Re: [Radiance-general] strange artifacts in rendering (and
>>>>>> Yosemite bug)
>>>>>> Date: August 21, 2015 1:06:40 PM PDT
>>>>>>
>>>>>> This is fantastic news! (Roland/Lars, take note...)
>>>>>>
>>>>>> I don't recall, is there a concrete test for the fork() thing? I was
>>>>>> just in the midst of re-making the Radiance packages (we need to support
>>>>>> 32-bit Windows still), but I will *happily* reset the release tag to
>>>>>> this commit and start over again, if it means I get to re-enable
>>>>>> OpenStudio-Radiance multithreading on Yosemite!
>>>>>>
>>>>>> On 8/21/15, 12:59 PM, "Gregory J. Ward"
>>>>>> <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>>>>>>
>>>>>> In any event, I checked in a change that I'm hoping fixes this issue
>>>>>> under Yosemite, while not costing us too much on all the other Unix
>>>>>> platforms that don't have this issue.
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From tbleicher at gmail.com  Wed Aug 26 17:35:10 2015
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Wed, 26 Aug 2015 19:35:10 -0500
Subject: [Radiance-general] strange artifacts in rendering (and Yosemite
	bug)
In-Reply-To: <CANeAMo+x30zVVv1PWWmk_3d4SW5GdPLh5Sv=c+mzgP0LV+=k7g@mail.gmail.com>
References: <CAKDBSuBbNDJZK2QG8+KdR_AZB4VhSce6SMiupeZmqWjOBD2_cA@mail.gmail.com>
	<2404E841-035A-40C9-B38B-377E8C30F0B5@gmail.com>
	<41DF7384-ECCA-4586-A1F9-514F1A14CB3C@gmail.com>
	<D1FCDF68.1BFA2%Robert.Guglielmetti@nrel.gov>
	<0D2F7B03-031D-4D71-A527-FAC936D326B6@lmi.net>
	<D1FCF74C.1BFB6%Robert.Guglielmetti@nrel.gov>
	<E7327C3E-D8DC-44EA-8559-2844C9A4A64F@lmi.net>
	<CANeAMo+igAF6gVn-3DUNXoc1gxYh2v32g7VkYR75uBMz3wZ9bA@mail.gmail.com>
	<182CB024-F1D7-4A15-A6D1-D323DE34125D@lmi.net>
	<CANeAMo+x30zVVv1PWWmk_3d4SW5GdPLh5Sv=c+mzgP0LV+=k7g@mail.gmail.com>
Message-ID: <CAKGV-k3Am79nHO3Qh+WkVSUeeS=o7qpCuYMSsOiQh5ekAbv8xA@mail.gmail.com>

And I thought app containers were today's next big thing for tomorrow ...

But then, I'm usually behind on those things.

On Wed, Aug 26, 2015 at 11:43 AM, Randolph M. Fritz <rmfritz3 at gmail.com>
wrote:

> Google offers the "Native Client" SDK
> (https://developer.chrome.com/native-client), which supports
> compilation and download of code with gcc (wince) and a set of
> non-Unix APIs (double wince.) Also, of course, one can just work with
> the base Linux on ChromeOS, bypassing the browser completely.
>
> So far as I can see, these tools aren't much used yet; ChromeOS is not
> a major development platform. But they are there and at the rate the
> major platforms are diverging from general computing applications,
> they may be all that will be left in a few years. :-(
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
>
>
> On Mon, Aug 24, 2015 at 9:15 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> > It will be interesting to see what ChromeOS develops into.  Right now,
> it's more of a browser manager for accessing online tools, and doesn't have
> much in the way of compilers or a runtime environment to speak of.  Kind of
> a waste of a laptop, if you ask me....
> >
> > -Greg
> >
> >> From: "Randolph M. Fritz" <rmfritz3 at gmail.com>
> >> Subject: Re: [Radiance-general] strange artifacts in rendering (and
> Yosemite bug)
> >> Date: August 24, 2015 4:53:04 PM PDT
> >>
> >> Sigh. I think in a few more years, anyone who is interested in
> >> scientific computing, rather than business functions or social
> >> networking, is going to be running ChromeOS.
> >> --
> >> Randolph M. Fritz, Lighting Design and Simulation
> >> +1 206 659-8617 || rmfritz3 at gmail.com
> >>
> >>
> >> On Fri, Aug 21, 2015 at 4:45 PM, Greg Ward <gregoryjward at gmail.com>
> wrote:
> >>> Many thanks for the quick turn-around on that, Rob!  This mostly
> applies to Mac OS X 10.10 (Yosemite) users, but anyone who cares to do a
> before/after timing, that would also be useful.
> >>>
> >>> Cheers,
> >>> -Greg
> >>>
> >>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> >>>> Subject: Re: [Radiance-general] strange artifacts in rendering (and
> Yosemite bug)
> >>>> Date: August 21, 2015 2:47:03 PM PDT
> >>>>
> >>>> To that end, I just moved the NREL 5.0.a.4 release tag up to Greg's
> latest
> >>>> commit, and have posted a fresh Mac installer on there, so now you
> don't
> >>>> even have to be able to compile from source to help Greg test this
> out!
> >>>> Come and get it:
> >>>>
> >>>> https://github.com/NREL/Radiance/releases/tag/5.0.a.4
> >>>>
> >>>> Windows (including 32-bit!) and Linux packages will be re-made and
> >>>> re-posted to this release page shortly.
> >>>>
> >>>> - Rob
> >>>>
> >>>>
> >>>> On 8/21/15, 2:19 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:
> >>>>
> >>>>> I have not tested all the programs fully under Yosemite to make sure
> >>>>> there are no more deadlocks.  I would appreciate help on that from
> the
> >>>>> user community ahead of the official 5.0 release, which I'm hoping
> to get
> >>>>> out in the next week or so.  That means getting a 5.0a installer out
> or
> >>>>> getting volunteers who don't mind compiling from source to run rvu,
> >>>>> rtrace, rcontrib, genBSDF, etc. in -n >1 mode....
> >>>>>
> >>>>> Cheers,
> >>>>> -Greg
> >>>>>
> >>>>>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> >>>>>> Subject: Re: [Radiance-general] strange artifacts in rendering (and
> >>>>>> Yosemite bug)
> >>>>>> Date: August 21, 2015 1:06:40 PM PDT
> >>>>>>
> >>>>>> This is fantastic news! (Roland/Lars, take note...)
> >>>>>>
> >>>>>> I don't recall, is there a concrete test for the fork() thing? I was
> >>>>>> just in the midst of re-making the Radiance packages (we need to
> support
> >>>>>> 32-bit Windows still), but I will *happily* reset the release tag to
> >>>>>> this commit and start over again, if it means I get to re-enable
> >>>>>> OpenStudio-Radiance multithreading on Yosemite!
> >>>>>>
> >>>>>> On 8/21/15, 12:59 PM, "Gregory J. Ward"
> >>>>>> <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
> >>>>>>
> >>>>>> In any event, I checked in a change that I'm hoping fixes this issue
> >>>>>> under Yosemite, while not costing us too much on all the other Unix
> >>>>>> platforms that don't have this issue.
> >>>
> >>> _______________________________________________
> >>> Radiance-general mailing list
> >>> Radiance-general at radiance-online.org
> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >>
> >> _______________________________________________
> >> Radiance-general mailing list
> >> Radiance-general at radiance-online.org
> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150826/38aea9cd/attachment.html>

From christian at naturalintelligence.us  Mon Aug 31 12:19:33 2015
From: christian at naturalintelligence.us (Christian Stalberg)
Date: Mon, 31 Aug 2015 12:19:33 -0700
Subject: [Radiance-general] DesignBuilder/EnergyPlus Training in San
	Francisco (DesignBuilder uses Radiance)
Message-ID: <02b501d0e421$f999e310$eccda930$@naturalintelligence.us>





	

 <http://us10.campaign-archive1.com/?u=a6339f4bf11e3c3b5d88a7911&id=425cb223e6&e=29dfc232a3> View this email in your browser 





  <https://gallery.mailchimp.com/a6339f4bf11e3c3b5d88a7911/images/53057144-6c9e-47e0-a3c9-05809b20c494.jpg> 






Training in San Francisco, CA September 21-25, 2015


Don't miss this opportunity to be trained in the easiest to use/learn advanced building energy performance tool available.


DesignBuilder is an elegant, seamless integration of building energy performance tools encompassing the totality of building energy use, including whole building energy simulation, daylighting and internal/external CFD (computational fluid dynamics).

Suitable for both residential and commercial applications, DesignBuilder was the first graphical user interface (GUI) to EnergyPlus, the 'gold standard' for whole building energy simulation. With more than ten years of development invested, DesignBuilder is the building energy performance tool of choice for today's architects and engineers.

Developed to simplify the process of building simulation, DesignBuilder allows you to rapidly compare the function and performance of building designs and deliver early stage thru final results on time and on budget. Unlike other products that generate results that are broad and indefinite, or do not address daylighting or airflow and 3-D temperature distribution data in and around buildings, DesignBuilder provides a total solution with data results you can have complete confidence in.

The training is suitable for new and experienced users alike. It is fully modular so that people can attend just one or any number of the days. The course is organized so that architects could attend only the first 2-3 days and the last 2 days are specific to engineers. The focus on day 3 is low energy and passive design modelling and it would therefore be valuable for both architects and engineers.

Space is limited so we encourage early registration.

 <http://designbuilderusa.com/training/designbuilder-simulation-training-days> Additional course information and registration.

Are you designing and modeling net zero buildings? What are you waiting for? DesignBuilder is the best software on the market today for that job!


	




Copyright ? 2015 DesignBuilder USA, All rights reserved.


Our mailing address is:

DesignBuilder USA

PO Box 4477

Santa Rosa, CA 95402

 


 

  <http://geo.yahoo.com/serv?s=97359714/grpId=3387488/grpspId=1705007389/msgId=34989/stime=1439300402> 
  <http://y.analytics.yahoo.com/fpc.pl?ywarid=515FB27823A7407E&a=10001310322279&js=no&resp=img> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20150831/4d186800/attachment.html>

