From R.Southall at brighton.ac.uk  Sun Nov  8 07:50:47 2015
From: R.Southall at brighton.ac.uk (Ryan Southall)
Date: Sun, 08 Nov 2015 15:50:47 -0000
Subject: [Radiance-general] VI-Suite v0.3
Message-ID: <op.x7sgyx2j7lwvrx@localhost.localdomain>

Dear all.
Just want to announce the availability of VI-Suite version 0.3, my free,  
open-source pre/post processor for Radiance and EnergyPlus that functions  
as an add-on for Blender.
The LiVi component of the VI-Suite deals with lighting simulations and can  
use Radiance to predict glare, Lux, DF, irradiance, radiation exposure,  
light exposure, daylight availability and UDI. Experimental support for  
the new Photon Mapping component has been included. Results can be  
visualised within Blender. It aims to be quick, iterative, and dare I say  
playful.
Blog site with tutorial videos can be found at  
http://blogs.brighton.ac.uk/visuite/ and the main site with downloads and  
manual can be found at http://arts.brighton.ac.uk/projects/vi-suite.

While I am here, for v0.4 I want to incorporate BSDF creation and  
simulation. I can create and store the BSDF description within a Blender  
object and I can create the Radiance input file with I think the correct  
BSDF entry, but I do not see the influence of the BSDF in either the rvu  
preview or the rtrace calcs. Should BSDFs work in this simple context or  
do they only function with sky patches or a multi-phase method?

Regards

Ryan



-- 
Dr Ryan Southall
Senior Lecturer
School of Art, Design & Media
University of Brighton

___________________________________________________________
This email has been scanned by MessageLabs' Email Security
System on behalf of the University of Brighton.
For more information see http://www.brighton.ac.uk/is/spam/
___________________________________________________________


From rob.guglielmetti at gmail.com  Sun Nov  8 17:46:08 2015
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sun, 8 Nov 2015 18:46:08 -0700
Subject: [Radiance-general] VI-Suite v0.3
In-Reply-To: <op.x7sgyx2j7lwvrx@localhost.localdomain>
References: <op.x7sgyx2j7lwvrx@localhost.localdomain>
Message-ID: <2E9C3DBC-DFCD-4099-ACBC-0098C802D8AC@gmail.com>

Hi Ryan,

This looks cool! Nice work. Regarding BSDFs, you absolutely can use them as materials, and you should see their effects in any of the Radiance tools such as rvu or rtrace. Make sure you are applying the BSDF correctly in a material, such as:

void BSDF venetian_blind
6 0 venetian_blind_slat90.xml 0 0 1 .
0
0

Next, make sure you have the BSDF polygon oriented correctly, with the surface normal pointing into the space. Use at least one ambient bounce, and maybe double-check the BSDF itself using Andy McNeil?s BSDF viewer app. 

Good luck! This looks really cool. 

- Rob


> On Nov 8, 2015, at 8:50 AM, Ryan Southall <R.Southall at brighton.ac.uk> wrote:
> 
> Dear all.
> Just want to announce the availability of VI-Suite version 0.3, my free, open-source pre/post processor for Radiance and EnergyPlus that functions as an add-on for Blender.
> The LiVi component of the VI-Suite deals with lighting simulations and can use Radiance to predict glare, Lux, DF, irradiance, radiation exposure, light exposure, daylight availability and UDI. Experimental support for the new Photon Mapping component has been included. Results can be visualised within Blender. It aims to be quick, iterative, and dare I say playful.
> Blog site with tutorial videos can be found at http://blogs.brighton.ac.uk/visuite/ and the main site with downloads and manual can be found at http://arts.brighton.ac.uk/projects/vi-suite.
> 
> While I am here, for v0.4 I want to incorporate BSDF creation and simulation. I can create and store the BSDF description within a Blender object and I can create the Radiance input file with I think the correct BSDF entry, but I do not see the influence of the BSDF in either the rvu preview or the rtrace calcs. Should BSDFs work in this simple context or do they only function with sky patches or a multi-phase method?
> 
> Regards
> 
> Ryan
> 
> 
> 
> -- 
> Dr Ryan Southall
> Senior Lecturer
> School of Art, Design & Media
> University of Brighton
> 
> ___________________________________________________________
> This email has been scanned by MessageLabs' Email Security
> System on behalf of the University of Brighton.
> For more information see http://www.brighton.ac.uk/is/spam/
> ___________________________________________________________
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From germolinal at gmail.com  Wed Nov 11 11:29:48 2015
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Wed, 11 Nov 2015 16:29:48 -0300
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
	<CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
	<CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>
Message-ID: <CAF-iH4JyPURX6f9iPc=hY256pAPLeDwuQuVAW43Kitc_Cvq2oA@mail.gmail.com>

Hello again guys,

I have a question now.... I have been reading about all this, and I would
like to input geometry surrounded by illum. However, ies2rad seem to only
be able to generate a Sphere. How do I try this with different shapes?
(i.e. a box) is it just a matter of deleting the Sphere and put a lot of
Polygons with the same modifier? I am worried about normals and stuff like
that.

I hope I made myself clear, haha

Regards,

Germ?n

2015-08-10 10:24 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com>:

> well, thanks a lot guys! I have a lot to read, write, try and see now....
> I will let you guys know how this goes and come back with a lot of new
> questions, haha.
>
> Best,
>
> Germ?n
>
> 2015-08-08 19:52 GMT-03:00 Randolph M. Fritz <rmfritz3 at gmail.com>:
>
>> "Further to Randolph?s post, the idea is to wrap the luminaire
>> geometry as tightly as possible using the shapes Randolph mentioned,
>> but this enveloping geometry will have *illum* applied to it, not
>> glow"
>>
>> Duh. Rob is, of course, quite correct.
>> --
>> Randolph M. Fritz, Lighting Design and Simulation
>> +1 206 390 4477 || rmfritz3 at gmail.com
>>
>>
>> On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
>> <rob.guglielmetti at gmail.com> wrote:
>> > Thomas has great info on lamp color and using replmarks.  Further to
>> > Randolph?s post, the idea is to wrap the luminaire geometry as tightly
>> as
>> > possible using the shapes Randolph mentioned, but this enveloping
>> geometry
>> > will have *illum* applied to it, not glow. The glow is used to
>> illuminate
>> > the luminaire geometry itself so that it appears realistic in a
>> rendering.
>> > You apply glows to the lamp objects in the luminaire generally, or you
>> could
>> > apply them to any shades or lenses in the luminaire.
>> >
>> > The luminous intensity of the illum is derived from the input lumens in
>> the
>> > IES file and is modulated by a few cal files, which use the candela
>> values
>> > from the IES file. The lamp color utility can give you reasonable
>> values to
>> > use for the glows, based on lamp input lumens. Again, the glows
>> illuminate
>> > the local luminaire geometry, and the illums actually illuminate the
>> space.
>> > The ileum material is invisible when viewed directly, which is why you
>> need
>> > the glows to make the luminaries appear correct in a rendering. The flux
>> > from the glow also does not make it past the illum geometry and so it
>> does
>> > not contribute to the scene illumination or any calculations.
>> >
>> > There is some info on using illums and glows here:
>> >
>> >
>> http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
>> >
>> > I did a bunch of crap with different illum geometry and cal files
>> > (lboxcorr.cal et al.) and got pretty good at picking the best ones for
>> the
>> > jobs at hand (wall mounted sconces and stuff like that can be tricky to
>> get
>> > looking ?right?), but never got around to posting a summary on that
>> stuff. A
>> > good place to start is just running a few different luminaire types
>> though
>> > ies2rad and see what you get, and then play with the output files from
>> > there.
>> >
>> > Are we having fun yet?
>> >
>> > -Rob
>> >
>> > From: Randolph M. Fritz <rmfritz3 at gmail.com>
>> > Reply: Radiance general discussion <
>> radiance-general at radiance-online.org>>
>> > Date: August 8, 2015 at 2:32:01 PM
>> > To: Radiance general discussion <radiance-general at radiance-online.org>>
>> > Subject:  Re: [Radiance-general] Luminaire modelling using Radiance
>> >
>> > The basic technique is to wrap the visible geometry of the luminaire, if
>> > any, with a glow in a simple shape that actually radiates the light. The
>> > glow is transparent, so that the geometry can be seen, and direct
>> > illumination does not pass through the glow, so light can be used
>> internal
>> > to the glow to give the luminaire a realistic look.
>> >
>> > The glow geometry and description may be generated by ies2rad. IIRC only
>> > four shapes are supported: sphere, rectangular, cuboid (box), and thin
>> disc.
>> >
>> > Ies2rad does not support eulumdat and again, IIRC, has not been updated
>> to
>> > support the latest IES photometry standard, LM-63-02.
>> >
>> > --
>> > Randolph M. Fritz, Lighting Design and Simulation
>> > +1 206 390 4477 || rmfritz3 at gmail.com
>> >
>> > On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com>
>> wrote:
>> >> Hi German.
>> >>
>> >> The most important information you need you will find in the ies2rad
>> man
>> >> page. In general you use it to create a library of luminaire *.rad and
>> >> *.dat
>> >> files which you can later reference into your scenes via xform. I
>> found it
>> >> more convenient and flexible for my exporters to create files with
>> >> triangular markers and use "!replmarks ..." to place multiple luminaire
>> >> files. That way you can later replace all luminaires in an array with a
>> >> single change in the scene file.
>> >>
>> >> When you write a plugin you have to pay attention to the units of the
>> ies
>> >> file and adjust the -d parameter accordingly. Unfortunately ies2rad
>> >> doesn't
>> >> read that information from the file.
>> >>
>> >> The geometry in IES files is limited to discs, ovals, rectangles and
>> >> extrusions of these shapes. Mostly you will find the 2 dimensional
>> shapes
>> >> for recessed and spot lights while the 3 dimensional shapes are used
>> for
>> >> pendants (boxes and cylinders). If you want to avoid these crude
>> things in
>> >> your model and use detailed geometry instead (from a dxf file, for
>> >> example)
>> >> then you use the -i option to create an illum sphere. The sphere will
>> be
>> >> used with the luminance data generated from the ies file. You have to
>> >> place
>> >> the detailed geometry of fixture into the sphere yourself. ies2rad
>> doesn't
>> >> do that for you.
>> >>
>> >> I found that geometry provided by manufacturers is very detailed and
>> can
>> >> lead to problems in large models. MGF geometry information is extremely
>> >> rare.
>> >>
>> >> You can use the -t option to set the lamp type. This defines the color
>> >> temperature. The -m option allows you to set a maintenance factor that
>> all
>> >> artificial lighting calculations require. Not that some lamp type
>> entries
>> >> in
>> >> the lamp.tab file already include a correction factor for the lamp so
>> you
>> >> have to take this into account when calculating the final value of -m.
>> I
>> >> found it safest to use "-t WHITE" (which does not have a correction)
>> and
>> >> lump all the efficiency reductions and maintenance factors together
>> into a
>> >> single -m value.
>> >>
>> >> European manufacturers provide are more likely to provide Eulumdat file
>> >> specs for their luminairs. Sometimes they convert these for you into
>> IES
>> >> files. If you can only get LDT files you can use DIALUX or something
>> >> similar
>> >> to convert the LDT to IES files. It used to offer this option a few
>> year
>> >> ago, at least. There may be other converters out there, but I don't
>> >> remember
>> >> the names.
>> >>
>> >> Hth, Thomas
>> >>
>> >> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
>> >> <germolinal at gmail.com>
>> >> wrote:
>> >>>
>> >>> Hello everyone,
>> >>>
>> >>> I think this might be a silly question, but I actually have not found
>> too
>> >>> much information on how to model luminaires using Radiance... I am
>> asking
>> >>> this because I want to add this feature to the plugin I am developing.
>> >>>
>> >>> What is the recommended method for modelling luminaires in Radiance? I
>> >>> intend to use IES files as input. Hopefully I would also have the
>> >>> geometry,
>> >>> but I have to consider cases when this is not available.
>> >>>
>> >>> I know there is an IES2RAD program, but I am not quite sure how
>> general
>> >>> it
>> >>> is. Also, I have heard about the use of illums (a sphere, for example)
>> >>> that
>> >>> covers the entire luminaire....?
>> >>>
>> >>> I am kind of lost, so if someone could give me a hint, I would really
>> >>> appreciate it.
>> >>>
>> >>> Also, if someone know where to find information about IES files and
>> their
>> >>> format, that would also be really helpful.
>> >>>
>> >>> THANKS
>> >>>
>> >>> Germ?n
>> >>>
>> >>> _______________________________________________
>> >>> Radiance-general mailing list
>> >>> Radiance-general at radiance-online.org
>> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> >>>
>> >>
>> >>
>> >> _______________________________________________
>> >> Radiance-general mailing list
>> >> Radiance-general at radiance-online.org
>> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> >>
>> >
>> > _______________________________________________
>> > Radiance-general mailing list
>> > Radiance-general at radiance-online.org
>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>> >
>> >
>> > _______________________________________________
>> > Radiance-general mailing list
>> > Radiance-general at radiance-online.org
>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>> >
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151111/e539bec7/attachment.html>

From gregoryjward at gmail.com  Wed Nov 11 11:40:32 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 11 Nov 2015 09:40:32 -1000
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAF-iH4JyPURX6f9iPc=hY256pAPLeDwuQuVAW43Kitc_Cvq2oA@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
	<CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
	<CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>
	<CAF-iH4JyPURX6f9iPc=hY256pAPLeDwuQuVAW43Kitc_Cvq2oA@mail.gmail.com>
Message-ID: <196EFF1B-ADB8-4BCC-AC31-6E8446CADF5A@lmi.net>

Hi Germ?n,

Yes, it is a little more complicated, and you are right to worry about normals!  Actually, it is the projected area that matters, which for the sphere is (mostly) constant.  The main thing you need to do is to compute a first real brightdata argument (A1) equal to the existing one produced by ies2rad, multiplied by PI*R*R, where R is the radius of the original sphere.  Multiplying the value thus by the projected area of the emitter gets you back to radiant intensity.  Then, use the "boxcorr" function as the first string argument to the brightdata primitive in order that this radiant intensity is divided by the projected area in the appropriate direction during rendering.

It would be prudent to verify the results by rendering illuminance in a large sphere around the light source before and after, just to make sure neither of us messed up!

Cheers,
-Greg

> From: Germ?n Molina Larrain <germolinal at gmail.com>
> Subject: Re: [Radiance-general] Luminaire modelling using Radiance
> Date: November 11, 2015 9:29:48 AM HST
> 
> Hello again guys, 
> 
> I have a question now.... I have been reading about all this, and I would like to input geometry surrounded by illum. However, ies2rad seem to only be able to generate a Sphere. How do I try this with different shapes? (i.e. a box) is it just a matter of deleting the Sphere and put a lot of Polygons with the same modifier? I am worried about normals and stuff like that.
> 
> I hope I made myself clear, haha
> 
> Regards, 
> 
> Germ?n
> 
> 2015-08-10 10:24 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com>:
> well, thanks a lot guys! I have a lot to read, write, try and see now.... I will let you guys know how this goes and come back with a lot of new questions, haha.
> 
> Best, 
> 
> Germ?n
> 
> 2015-08-08 19:52 GMT-03:00 Randolph M. Fritz <rmfritz3 at gmail.com>:
> "Further to Randolph?s post, the idea is to wrap the luminaire
> geometry as tightly as possible using the shapes Randolph mentioned,
> but this enveloping geometry will have *illum* applied to it, not
> glow"
> 
> Duh. Rob is, of course, quite correct.
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 390 4477 || rmfritz3 at gmail.com
> 
> 
> On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
> <rob.guglielmetti at gmail.com> wrote:
> > Thomas has great info on lamp color and using replmarks.  Further to
> > Randolph?s post, the idea is to wrap the luminaire geometry as tightly as
> > possible using the shapes Randolph mentioned, but this enveloping geometry
> > will have *illum* applied to it, not glow. The glow is used to illuminate
> > the luminaire geometry itself so that it appears realistic in a rendering.
> > You apply glows to the lamp objects in the luminaire generally, or you could
> > apply them to any shades or lenses in the luminaire.
> >
> > The luminous intensity of the illum is derived from the input lumens in the
> > IES file and is modulated by a few cal files, which use the candela values
> > from the IES file. The lamp color utility can give you reasonable values to
> > use for the glows, based on lamp input lumens. Again, the glows illuminate
> > the local luminaire geometry, and the illums actually illuminate the space.
> > The ileum material is invisible when viewed directly, which is why you need
> > the glows to make the luminaries appear correct in a rendering. The flux
> > from the glow also does not make it past the illum geometry and so it does
> > not contribute to the scene illumination or any calculations.
> >
> > There is some info on using illums and glows here:
> >
> > http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
> >
> > I did a bunch of crap with different illum geometry and cal files
> > (lboxcorr.cal et al.) and got pretty good at picking the best ones for the
> > jobs at hand (wall mounted sconces and stuff like that can be tricky to get
> > looking ?right?), but never got around to posting a summary on that stuff. A
> > good place to start is just running a few different luminaire types though
> > ies2rad and see what you get, and then play with the output files from
> > there.
> >
> > Are we having fun yet?
> >
> > -Rob
> >
> > From: Randolph M. Fritz <rmfritz3 at gmail.com>
> > Reply: Radiance general discussion <radiance-general at radiance-online.org>>
> > Date: August 8, 2015 at 2:32:01 PM
> > To: Radiance general discussion <radiance-general at radiance-online.org>>
> > Subject:  Re: [Radiance-general] Luminaire modelling using Radiance
> >
> > The basic technique is to wrap the visible geometry of the luminaire, if
> > any, with a glow in a simple shape that actually radiates the light. The
> > glow is transparent, so that the geometry can be seen, and direct
> > illumination does not pass through the glow, so light can be used internal
> > to the glow to give the luminaire a realistic look.
> >
> > The glow geometry and description may be generated by ies2rad. IIRC only
> > four shapes are supported: sphere, rectangular, cuboid (box), and thin disc.
> >
> > Ies2rad does not support eulumdat and again, IIRC, has not been updated to
> > support the latest IES photometry standard, LM-63-02.
> >
> > --
> > Randolph M. Fritz, Lighting Design and Simulation
> > +1 206 390 4477 || rmfritz3 at gmail.com
> >
> > On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com> wrote:
> >> Hi German.
> >>
> >> The most important information you need you will find in the ies2rad man
> >> page. In general you use it to create a library of luminaire *.rad and
> >> *.dat
> >> files which you can later reference into your scenes via xform. I found it
> >> more convenient and flexible for my exporters to create files with
> >> triangular markers and use "!replmarks ..." to place multiple luminaire
> >> files. That way you can later replace all luminaires in an array with a
> >> single change in the scene file.
> >>
> >> When you write a plugin you have to pay attention to the units of the ies
> >> file and adjust the -d parameter accordingly. Unfortunately ies2rad
> >> doesn't
> >> read that information from the file.
> >>
> >> The geometry in IES files is limited to discs, ovals, rectangles and
> >> extrusions of these shapes. Mostly you will find the 2 dimensional shapes
> >> for recessed and spot lights while the 3 dimensional shapes are used for
> >> pendants (boxes and cylinders). If you want to avoid these crude things in
> >> your model and use detailed geometry instead (from a dxf file, for
> >> example)
> >> then you use the -i option to create an illum sphere. The sphere will be
> >> used with the luminance data generated from the ies file. You have to
> >> place
> >> the detailed geometry of fixture into the sphere yourself. ies2rad doesn't
> >> do that for you.
> >>
> >> I found that geometry provided by manufacturers is very detailed and can
> >> lead to problems in large models. MGF geometry information is extremely
> >> rare.
> >>
> >> You can use the -t option to set the lamp type. This defines the color
> >> temperature. The -m option allows you to set a maintenance factor that all
> >> artificial lighting calculations require. Not that some lamp type entries
> >> in
> >> the lamp.tab file already include a correction factor for the lamp so you
> >> have to take this into account when calculating the final value of -m. I
> >> found it safest to use "-t WHITE" (which does not have a correction) and
> >> lump all the efficiency reductions and maintenance factors together into a
> >> single -m value.
> >>
> >> European manufacturers provide are more likely to provide Eulumdat file
> >> specs for their luminairs. Sometimes they convert these for you into IES
> >> files. If you can only get LDT files you can use DIALUX or something
> >> similar
> >> to convert the LDT to IES files. It used to offer this option a few year
> >> ago, at least. There may be other converters out there, but I don't
> >> remember
> >> the names.
> >>
> >> Hth, Thomas
> >>
> >> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
> >> <germolinal at gmail.com>
> >> wrote:
> >>>
> >>> Hello everyone,
> >>>
> >>> I think this might be a silly question, but I actually have not found too
> >>> much information on how to model luminaires using Radiance... I am asking
> >>> this because I want to add this feature to the plugin I am developing.
> >>>
> >>> What is the recommended method for modelling luminaires in Radiance? I
> >>> intend to use IES files as input. Hopefully I would also have the
> >>> geometry,
> >>> but I have to consider cases when this is not available.
> >>>
> >>> I know there is an IES2RAD program, but I am not quite sure how general
> >>> it
> >>> is. Also, I have heard about the use of illums (a sphere, for example)
> >>> that
> >>> covers the entire luminaire....?
> >>>
> >>> I am kind of lost, so if someone could give me a hint, I would really
> >>> appreciate it.
> >>>
> >>> Also, if someone know where to find information about IES files and their
> >>> format, that would also be really helpful.
> >>>
> >>> THANKS
> >>>
> >>> Germ?n
> >>>
> >>> _______________________________________________
> >>> Radiance-general mailing list
> >>> Radiance-general at radiance-online.org
> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >>>
> >>
> >>
> >> _______________________________________________
> >> Radiance-general mailing list
> >> Radiance-general at radiance-online.org
> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
> >>
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
> >
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151111/7d077e90/attachment-0001.html>

From germolinal at gmail.com  Wed Nov 11 12:56:40 2015
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Wed, 11 Nov 2015 17:56:40 -0300
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <196EFF1B-ADB8-4BCC-AC31-6E8446CADF5A@lmi.net>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
	<CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
	<CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>
	<CAF-iH4JyPURX6f9iPc=hY256pAPLeDwuQuVAW43Kitc_Cvq2oA@mail.gmail.com>
	<196EFF1B-ADB8-4BCC-AC31-6E8446CADF5A@lmi.net>
Message-ID: <CAF-iH4LLyY-N4GP7qDXZtBsBES1vh7Rec7moLYG9C_m8jHVnUQ@mail.gmail.com>

Hi Greg,

Thanks very much for the information. I tried what you said, and I think
that you might be slightly wrong.

- At First I did what you said... multiplied the original A1 value in
brightdata (127.324) by Pi and by R2 (0.05*0.05) and the returned number
was ridiculously close to 1, which is the -m option I input.

- I checked the surce.cal file, and the boxcorr requires A1, A2, A3 and
A4... the first one being a multiplier and the others being the length,
width and depth of the box. Using A1...A4 = 1 0.1 0.1 0.1, I got the
following results

TOP VIEW <https://drive.google.com/file/d/0B2NfkTSl19hQVkdzN1JlWFllcE0/view>
BOTTOM VIEW
<https://drive.google.com/file/d/0B2NfkTSl19hQVXRvTXRWYV9hR2s/view?usp=sharing>

One of them is using just ies2rad , the second is using ies2rad -i 0.05 and
the third one is transforming this to a box as explained before.... *THEY
LOOK GOOD TO ME...?*

I think the area and that kind of things has to be used for planar
surfaces. right? I mean, for when we do crazier boxes...?

Regards,

Germ?n

2015-11-11 16:40 GMT-03:00 Greg Ward <gregoryjward at gmail.com>:

> Hi Germ?n,
>
> Yes, it is a little more complicated, and you are right to worry about
> normals!  Actually, it is the projected area that matters, which for the
> sphere is (mostly) constant.  The main thing you need to do is to compute a
> first real brightdata argument (A1) equal to the existing one produced by
> ies2rad, multiplied by PI*R*R, where R is the radius of the original
> sphere.  Multiplying the value thus by the projected area of the emitter
> gets you back to radiant intensity.  Then, use the "boxcorr" function as
> the first string argument to the brightdata primitive in order that this
> radiant intensity is divided by the projected area in the appropriate
> direction during rendering.
>
> It would be prudent to verify the results by rendering illuminance in a
> large sphere around the light source before and after, just to make sure
> neither of us messed up!
>
> Cheers,
> -Greg
>
> *From: *Germ?n Molina Larrain <germolinal at gmail.com>
>
> *Subject: *Re: [Radiance-general] Luminaire modelling using Radiance
>
> *Date: *November 11, 2015 9:29:48 AM HST
>
>
> Hello again guys,
>
> I have a question now.... I have been reading about all this, and I would
> like to input geometry surrounded by illum. However, ies2rad seem to only
> be able to generate a Sphere. How do I try this with different shapes?
> (i.e. a box) is it just a matter of deleting the Sphere and put a lot of
> Polygons with the same modifier? I am worried about normals and stuff like
> that.
>
> I hope I made myself clear, haha
>
> Regards,
>
> Germ?n
>
> 2015-08-10 10:24 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com>:
>
>> well, thanks a lot guys! I have a lot to read, write, try and see now....
>> I will let you guys know how this goes and come back with a lot of new
>> questions, haha.
>>
>> Best,
>>
>> Germ?n
>>
>> 2015-08-08 19:52 GMT-03:00 Randolph M. Fritz <rmfritz3 at gmail.com>:
>>
>>> "Further to Randolph?s post, the idea is to wrap the luminaire
>>> geometry as tightly as possible using the shapes Randolph mentioned,
>>> but this enveloping geometry will have *illum* applied to it, not
>>> glow"
>>>
>>> Duh. Rob is, of course, quite correct.
>>> --
>>> Randolph M. Fritz, Lighting Design and Simulation
>>> +1 206 390 4477 || rmfritz3 at gmail.com
>>>
>>>
>>> On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
>>> <rob.guglielmetti at gmail.com> wrote:
>>> > Thomas has great info on lamp color and using replmarks.  Further to
>>> > Randolph?s post, the idea is to wrap the luminaire geometry as tightly
>>> as
>>> > possible using the shapes Randolph mentioned, but this enveloping
>>> geometry
>>> > will have *illum* applied to it, not glow. The glow is used to
>>> illuminate
>>> > the luminaire geometry itself so that it appears realistic in a
>>> rendering.
>>> > You apply glows to the lamp objects in the luminaire generally, or you
>>> could
>>> > apply them to any shades or lenses in the luminaire.
>>> >
>>> > The luminous intensity of the illum is derived from the input lumens
>>> in the
>>> > IES file and is modulated by a few cal files, which use the candela
>>> values
>>> > from the IES file. The lamp color utility can give you reasonable
>>> values to
>>> > use for the glows, based on lamp input lumens. Again, the glows
>>> illuminate
>>> > the local luminaire geometry, and the illums actually illuminate the
>>> space.
>>> > The ileum material is invisible when viewed directly, which is why you
>>> need
>>> > the glows to make the luminaries appear correct in a rendering. The
>>> flux
>>> > from the glow also does not make it past the illum geometry and so it
>>> does
>>> > not contribute to the scene illumination or any calculations.
>>> >
>>> > There is some info on using illums and glows here:
>>> >
>>> >
>>> http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
>>> >
>>> > I did a bunch of crap with different illum geometry and cal files
>>> > (lboxcorr.cal et al.) and got pretty good at picking the best ones for
>>> the
>>> > jobs at hand (wall mounted sconces and stuff like that can be tricky
>>> to get
>>> > looking ?right?), but never got around to posting a summary on that
>>> stuff. A
>>> > good place to start is just running a few different luminaire types
>>> though
>>> > ies2rad and see what you get, and then play with the output files from
>>> > there.
>>> >
>>> > Are we having fun yet?
>>> >
>>> > -Rob
>>> >
>>> > From: Randolph M. Fritz <rmfritz3 at gmail.com>
>>> > Reply: Radiance general discussion <
>>> radiance-general at radiance-online.org>>
>>> > Date: August 8, 2015 at 2:32:01 PM
>>> > To: Radiance general discussion <radiance-general at radiance-online.org
>>> >>
>>> > Subject:  Re: [Radiance-general] Luminaire modelling using Radiance
>>> >
>>> > The basic technique is to wrap the visible geometry of the luminaire,
>>> if
>>> > any, with a glow in a simple shape that actually radiates the light.
>>> The
>>> > glow is transparent, so that the geometry can be seen, and direct
>>> > illumination does not pass through the glow, so light can be used
>>> internal
>>> > to the glow to give the luminaire a realistic look.
>>> >
>>> > The glow geometry and description may be generated by ies2rad. IIRC
>>> only
>>> > four shapes are supported: sphere, rectangular, cuboid (box), and thin
>>> disc.
>>> >
>>> > Ies2rad does not support eulumdat and again, IIRC, has not been
>>> updated to
>>> > support the latest IES photometry standard, LM-63-02.
>>> >
>>> > --
>>> > Randolph M. Fritz, Lighting Design and Simulation
>>> > +1 206 390 4477 || rmfritz3 at gmail.com
>>> >
>>> > On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com>
>>> wrote:
>>> >> Hi German.
>>> >>
>>> >> The most important information you need you will find in the ies2rad
>>> man
>>> >> page. In general you use it to create a library of luminaire *.rad and
>>> >> *.dat
>>> >> files which you can later reference into your scenes via xform. I
>>> found it
>>> >> more convenient and flexible for my exporters to create files with
>>> >> triangular markers and use "!replmarks ..." to place multiple
>>> luminaire
>>> >> files. That way you can later replace all luminaires in an array with
>>> a
>>> >> single change in the scene file.
>>> >>
>>> >> When you write a plugin you have to pay attention to the units of the
>>> ies
>>> >> file and adjust the -d parameter accordingly. Unfortunately ies2rad
>>> >> doesn't
>>> >> read that information from the file.
>>> >>
>>> >> The geometry in IES files is limited to discs, ovals, rectangles and
>>> >> extrusions of these shapes. Mostly you will find the 2 dimensional
>>> shapes
>>> >> for recessed and spot lights while the 3 dimensional shapes are used
>>> for
>>> >> pendants (boxes and cylinders). If you want to avoid these crude
>>> things in
>>> >> your model and use detailed geometry instead (from a dxf file, for
>>> >> example)
>>> >> then you use the -i option to create an illum sphere. The sphere will
>>> be
>>> >> used with the luminance data generated from the ies file. You have to
>>> >> place
>>> >> the detailed geometry of fixture into the sphere yourself. ies2rad
>>> doesn't
>>> >> do that for you.
>>> >>
>>> >> I found that geometry provided by manufacturers is very detailed and
>>> can
>>> >> lead to problems in large models. MGF geometry information is
>>> extremely
>>> >> rare.
>>> >>
>>> >> You can use the -t option to set the lamp type. This defines the color
>>> >> temperature. The -m option allows you to set a maintenance factor
>>> that all
>>> >> artificial lighting calculations require. Not that some lamp type
>>> entries
>>> >> in
>>> >> the lamp.tab file already include a correction factor for the lamp so
>>> you
>>> >> have to take this into account when calculating the final value of
>>> -m. I
>>> >> found it safest to use "-t WHITE" (which does not have a correction)
>>> and
>>> >> lump all the efficiency reductions and maintenance factors together
>>> into a
>>> >> single -m value.
>>> >>
>>> >> European manufacturers provide are more likely to provide Eulumdat
>>> file
>>> >> specs for their luminairs. Sometimes they convert these for you into
>>> IES
>>> >> files. If you can only get LDT files you can use DIALUX or something
>>> >> similar
>>> >> to convert the LDT to IES files. It used to offer this option a few
>>> year
>>> >> ago, at least. There may be other converters out there, but I don't
>>> >> remember
>>> >> the names.
>>> >>
>>> >> Hth, Thomas
>>> >>
>>> >> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
>>> >> <germolinal at gmail.com>
>>> >> wrote:
>>> >>>
>>> >>> Hello everyone,
>>> >>>
>>> >>> I think this might be a silly question, but I actually have not
>>> found too
>>> >>> much information on how to model luminaires using Radiance... I am
>>> asking
>>> >>> this because I want to add this feature to the plugin I am
>>> developing.
>>> >>>
>>> >>> What is the recommended method for modelling luminaires in Radiance?
>>> I
>>> >>> intend to use IES files as input. Hopefully I would also have the
>>> >>> geometry,
>>> >>> but I have to consider cases when this is not available.
>>> >>>
>>> >>> I know there is an IES2RAD program, but I am not quite sure how
>>> general
>>> >>> it
>>> >>> is. Also, I have heard about the use of illums (a sphere, for
>>> example)
>>> >>> that
>>> >>> covers the entire luminaire....?
>>> >>>
>>> >>> I am kind of lost, so if someone could give me a hint, I would really
>>> >>> appreciate it.
>>> >>>
>>> >>> Also, if someone know where to find information about IES files and
>>> their
>>> >>> format, that would also be really helpful.
>>> >>>
>>> >>> THANKS
>>> >>>
>>> >>> Germ?n
>>> >>>
>>> >>> _______________________________________________
>>> >>> Radiance-general mailing list
>>> >>> Radiance-general at radiance-online.org
>>> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> >>>
>>> >>
>>> >>
>>> >> _______________________________________________
>>> >> Radiance-general mailing list
>>> >> Radiance-general at radiance-online.org
>>> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> >>
>>> >
>>> > _______________________________________________
>>> > Radiance-general mailing list
>>> > Radiance-general at radiance-online.org
>>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> >
>>> >
>>> > _______________________________________________
>>> > Radiance-general mailing list
>>> > Radiance-general at radiance-online.org
>>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> >
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151111/7f4e0b86/attachment-0001.html>

From germolinal at gmail.com  Wed Nov 11 13:07:20 2015
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Wed, 11 Nov 2015 18:07:20 -0300
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAF-iH4LLyY-N4GP7qDXZtBsBES1vh7Rec7moLYG9C_m8jHVnUQ@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
	<CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
	<CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>
	<CAF-iH4JyPURX6f9iPc=hY256pAPLeDwuQuVAW43Kitc_Cvq2oA@mail.gmail.com>
	<196EFF1B-ADB8-4BCC-AC31-6E8446CADF5A@lmi.net>
	<CAF-iH4LLyY-N4GP7qDXZtBsBES1vh7Rec7moLYG9C_m8jHVnUQ@mail.gmail.com>
Message-ID: <CAF-iH4LUMVnqAnFm7tMurkc1gBb1x9rMTGtHRDf2jQCyRjeECQ@mail.gmail.com>

In the end, this is the illum modifier... *I wonder about the src_theta *
parameter

void brightdata noGeo_illum_dist
4 boxcorr noGeo_illum.dat source.cal src_theta
0
4 1 0.1 0.1 0.1   # 1, dimx, dimy, dimz

2015-11-11 17:56 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com>:

> Hi Greg,
>
> Thanks very much for the information. I tried what you said, and I think
> that you might be slightly wrong.
>
> - At First I did what you said... multiplied the original A1 value in
> brightdata (127.324) by Pi and by R2 (0.05*0.05) and the returned number
> was ridiculously close to 1, which is the -m option I input.
>
> - I checked the surce.cal file, and the boxcorr requires A1, A2, A3 and
> A4... the first one being a multiplier and the others being the length,
> width and depth of the box. Using A1...A4 = 1 0.1 0.1 0.1, I got the
> following results
>
> TOP VIEW
> <https://drive.google.com/file/d/0B2NfkTSl19hQVkdzN1JlWFllcE0/view>
> BOTTOM VIEW
> <https://drive.google.com/file/d/0B2NfkTSl19hQVXRvTXRWYV9hR2s/view?usp=sharing>
>
> One of them is using just ies2rad , the second is using ies2rad -i 0.05
> and the third one is transforming this to a box as explained before.... *THEY
> LOOK GOOD TO ME...?*
>
> I think the area and that kind of things has to be used for planar
> surfaces. right? I mean, for when we do crazier boxes...?
>
> Regards,
>
> Germ?n
>
> 2015-11-11 16:40 GMT-03:00 Greg Ward <gregoryjward at gmail.com>:
>
>> Hi Germ?n,
>>
>> Yes, it is a little more complicated, and you are right to worry about
>> normals!  Actually, it is the projected area that matters, which for the
>> sphere is (mostly) constant.  The main thing you need to do is to compute a
>> first real brightdata argument (A1) equal to the existing one produced by
>> ies2rad, multiplied by PI*R*R, where R is the radius of the original
>> sphere.  Multiplying the value thus by the projected area of the emitter
>> gets you back to radiant intensity.  Then, use the "boxcorr" function as
>> the first string argument to the brightdata primitive in order that this
>> radiant intensity is divided by the projected area in the appropriate
>> direction during rendering.
>>
>> It would be prudent to verify the results by rendering illuminance in a
>> large sphere around the light source before and after, just to make sure
>> neither of us messed up!
>>
>> Cheers,
>> -Greg
>>
>> *From: *Germ?n Molina Larrain <germolinal at gmail.com>
>>
>> *Subject: *Re: [Radiance-general] Luminaire modelling using Radiance
>>
>> *Date: *November 11, 2015 9:29:48 AM HST
>>
>>
>> Hello again guys,
>>
>> I have a question now.... I have been reading about all this, and I would
>> like to input geometry surrounded by illum. However, ies2rad seem to only
>> be able to generate a Sphere. How do I try this with different shapes?
>> (i.e. a box) is it just a matter of deleting the Sphere and put a lot of
>> Polygons with the same modifier? I am worried about normals and stuff like
>> that.
>>
>> I hope I made myself clear, haha
>>
>> Regards,
>>
>> Germ?n
>>
>> 2015-08-10 10:24 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com>:
>>
>>> well, thanks a lot guys! I have a lot to read, write, try and see
>>> now.... I will let you guys know how this goes and come back with a lot of
>>> new questions, haha.
>>>
>>> Best,
>>>
>>> Germ?n
>>>
>>> 2015-08-08 19:52 GMT-03:00 Randolph M. Fritz <rmfritz3 at gmail.com>:
>>>
>>>> "Further to Randolph?s post, the idea is to wrap the luminaire
>>>> geometry as tightly as possible using the shapes Randolph mentioned,
>>>> but this enveloping geometry will have *illum* applied to it, not
>>>> glow"
>>>>
>>>> Duh. Rob is, of course, quite correct.
>>>> --
>>>> Randolph M. Fritz, Lighting Design and Simulation
>>>> +1 206 390 4477 || rmfritz3 at gmail.com
>>>>
>>>>
>>>> On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
>>>> <rob.guglielmetti at gmail.com> wrote:
>>>> > Thomas has great info on lamp color and using replmarks.  Further to
>>>> > Randolph?s post, the idea is to wrap the luminaire geometry as
>>>> tightly as
>>>> > possible using the shapes Randolph mentioned, but this enveloping
>>>> geometry
>>>> > will have *illum* applied to it, not glow. The glow is used to
>>>> illuminate
>>>> > the luminaire geometry itself so that it appears realistic in a
>>>> rendering.
>>>> > You apply glows to the lamp objects in the luminaire generally, or
>>>> you could
>>>> > apply them to any shades or lenses in the luminaire.
>>>> >
>>>> > The luminous intensity of the illum is derived from the input lumens
>>>> in the
>>>> > IES file and is modulated by a few cal files, which use the candela
>>>> values
>>>> > from the IES file. The lamp color utility can give you reasonable
>>>> values to
>>>> > use for the glows, based on lamp input lumens. Again, the glows
>>>> illuminate
>>>> > the local luminaire geometry, and the illums actually illuminate the
>>>> space.
>>>> > The ileum material is invisible when viewed directly, which is why
>>>> you need
>>>> > the glows to make the luminaries appear correct in a rendering. The
>>>> flux
>>>> > from the glow also does not make it past the illum geometry and so it
>>>> does
>>>> > not contribute to the scene illumination or any calculations.
>>>> >
>>>> > There is some info on using illums and glows here:
>>>> >
>>>> >
>>>> http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
>>>> >
>>>> > I did a bunch of crap with different illum geometry and cal files
>>>> > (lboxcorr.cal et al.) and got pretty good at picking the best ones
>>>> for the
>>>> > jobs at hand (wall mounted sconces and stuff like that can be tricky
>>>> to get
>>>> > looking ?right?), but never got around to posting a summary on that
>>>> stuff. A
>>>> > good place to start is just running a few different luminaire types
>>>> though
>>>> > ies2rad and see what you get, and then play with the output files from
>>>> > there.
>>>> >
>>>> > Are we having fun yet?
>>>> >
>>>> > -Rob
>>>> >
>>>> > From: Randolph M. Fritz <rmfritz3 at gmail.com>
>>>> > Reply: Radiance general discussion <
>>>> radiance-general at radiance-online.org>>
>>>> > Date: August 8, 2015 at 2:32:01 PM
>>>> > To: Radiance general discussion <radiance-general at radiance-online.org
>>>> >>
>>>> > Subject:  Re: [Radiance-general] Luminaire modelling using Radiance
>>>> >
>>>> > The basic technique is to wrap the visible geometry of the luminaire,
>>>> if
>>>> > any, with a glow in a simple shape that actually radiates the light.
>>>> The
>>>> > glow is transparent, so that the geometry can be seen, and direct
>>>> > illumination does not pass through the glow, so light can be used
>>>> internal
>>>> > to the glow to give the luminaire a realistic look.
>>>> >
>>>> > The glow geometry and description may be generated by ies2rad. IIRC
>>>> only
>>>> > four shapes are supported: sphere, rectangular, cuboid (box), and
>>>> thin disc.
>>>> >
>>>> > Ies2rad does not support eulumdat and again, IIRC, has not been
>>>> updated to
>>>> > support the latest IES photometry standard, LM-63-02.
>>>> >
>>>> > --
>>>> > Randolph M. Fritz, Lighting Design and Simulation
>>>> > +1 206 390 4477 || rmfritz3 at gmail.com
>>>> >
>>>> > On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com>
>>>> wrote:
>>>> >> Hi German.
>>>> >>
>>>> >> The most important information you need you will find in the ies2rad
>>>> man
>>>> >> page. In general you use it to create a library of luminaire *.rad
>>>> and
>>>> >> *.dat
>>>> >> files which you can later reference into your scenes via xform. I
>>>> found it
>>>> >> more convenient and flexible for my exporters to create files with
>>>> >> triangular markers and use "!replmarks ..." to place multiple
>>>> luminaire
>>>> >> files. That way you can later replace all luminaires in an array
>>>> with a
>>>> >> single change in the scene file.
>>>> >>
>>>> >> When you write a plugin you have to pay attention to the units of
>>>> the ies
>>>> >> file and adjust the -d parameter accordingly. Unfortunately ies2rad
>>>> >> doesn't
>>>> >> read that information from the file.
>>>> >>
>>>> >> The geometry in IES files is limited to discs, ovals, rectangles and
>>>> >> extrusions of these shapes. Mostly you will find the 2 dimensional
>>>> shapes
>>>> >> for recessed and spot lights while the 3 dimensional shapes are used
>>>> for
>>>> >> pendants (boxes and cylinders). If you want to avoid these crude
>>>> things in
>>>> >> your model and use detailed geometry instead (from a dxf file, for
>>>> >> example)
>>>> >> then you use the -i option to create an illum sphere. The sphere
>>>> will be
>>>> >> used with the luminance data generated from the ies file. You have to
>>>> >> place
>>>> >> the detailed geometry of fixture into the sphere yourself. ies2rad
>>>> doesn't
>>>> >> do that for you.
>>>> >>
>>>> >> I found that geometry provided by manufacturers is very detailed and
>>>> can
>>>> >> lead to problems in large models. MGF geometry information is
>>>> extremely
>>>> >> rare.
>>>> >>
>>>> >> You can use the -t option to set the lamp type. This defines the
>>>> color
>>>> >> temperature. The -m option allows you to set a maintenance factor
>>>> that all
>>>> >> artificial lighting calculations require. Not that some lamp type
>>>> entries
>>>> >> in
>>>> >> the lamp.tab file already include a correction factor for the lamp
>>>> so you
>>>> >> have to take this into account when calculating the final value of
>>>> -m. I
>>>> >> found it safest to use "-t WHITE" (which does not have a correction)
>>>> and
>>>> >> lump all the efficiency reductions and maintenance factors together
>>>> into a
>>>> >> single -m value.
>>>> >>
>>>> >> European manufacturers provide are more likely to provide Eulumdat
>>>> file
>>>> >> specs for their luminairs. Sometimes they convert these for you into
>>>> IES
>>>> >> files. If you can only get LDT files you can use DIALUX or something
>>>> >> similar
>>>> >> to convert the LDT to IES files. It used to offer this option a few
>>>> year
>>>> >> ago, at least. There may be other converters out there, but I don't
>>>> >> remember
>>>> >> the names.
>>>> >>
>>>> >> Hth, Thomas
>>>> >>
>>>> >> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
>>>> >> <germolinal at gmail.com>
>>>> >> wrote:
>>>> >>>
>>>> >>> Hello everyone,
>>>> >>>
>>>> >>> I think this might be a silly question, but I actually have not
>>>> found too
>>>> >>> much information on how to model luminaires using Radiance... I am
>>>> asking
>>>> >>> this because I want to add this feature to the plugin I am
>>>> developing.
>>>> >>>
>>>> >>> What is the recommended method for modelling luminaires in
>>>> Radiance? I
>>>> >>> intend to use IES files as input. Hopefully I would also have the
>>>> >>> geometry,
>>>> >>> but I have to consider cases when this is not available.
>>>> >>>
>>>> >>> I know there is an IES2RAD program, but I am not quite sure how
>>>> general
>>>> >>> it
>>>> >>> is. Also, I have heard about the use of illums (a sphere, for
>>>> example)
>>>> >>> that
>>>> >>> covers the entire luminaire....?
>>>> >>>
>>>> >>> I am kind of lost, so if someone could give me a hint, I would
>>>> really
>>>> >>> appreciate it.
>>>> >>>
>>>> >>> Also, if someone know where to find information about IES files and
>>>> their
>>>> >>> format, that would also be really helpful.
>>>> >>>
>>>> >>> THANKS
>>>> >>>
>>>> >>> Germ?n
>>>> >>>
>>>> >>> _______________________________________________
>>>> >>> Radiance-general mailing list
>>>> >>> Radiance-general at radiance-online.org
>>>> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> >>>
>>>> >>
>>>> >>
>>>> >> _______________________________________________
>>>> >> Radiance-general mailing list
>>>> >> Radiance-general at radiance-online.org
>>>> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> >>
>>>> >
>>>> > _______________________________________________
>>>> > Radiance-general mailing list
>>>> > Radiance-general at radiance-online.org
>>>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> >
>>>> >
>>>> > _______________________________________________
>>>> > Radiance-general mailing list
>>>> > Radiance-general at radiance-online.org
>>>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> >
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151111/c3ba0a0a/attachment-0001.html>

From jedev at visarc.com  Wed Nov 11 14:12:37 2015
From: jedev at visarc.com (Jack de Valpine)
Date: Wed, 11 Nov 2015 17:12:37 -0500
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAF-iH4LUMVnqAnFm7tMurkc1gBb1x9rMTGtHRDf2jQCyRjeECQ@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
	<CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
	<CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>
	<CAF-iH4JyPURX6f9iPc=hY256pAPLeDwuQuVAW43Kitc_Cvq2oA@mail.gmail.com>
	<196EFF1B-ADB8-4BCC-AC31-6E8446CADF5A@lmi.net>
	<CAF-iH4LLyY-N4GP7qDXZtBsBES1vh7Rec7moLYG9C_m8jHVnUQ@mail.gmail.com>
	<CAF-iH4LUMVnqAnFm7tMurkc1gBb1x9rMTGtHRDf2jQCyRjeECQ@mail.gmail.com>
Message-ID: <5643BD55.3080102@visarc.com>

Hi Germ?n,

I am following this somewhat peripherally, however I do note that from 
the appearance of your test samples, in the bottom view, the right most 
sample looks different. The higher end (the yellow portion) is smaller 
than in the other two samples...

-Jack

On 11/11/2015 4:07 PM, Germ?n Molina Larrain wrote:
> In the end, this is the illum modifier... *I wonder about the 
> src_theta *parameter
>
> void brightdata noGeo_illum_dist
> 4 boxcorr noGeo_illum.dat source.cal src_theta
> 0
> 4 1 0.1 0.1 0.1 # 1, dimx, dimy, dimz
>
> 2015-11-11 17:56 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com 
> <mailto:germolinal at gmail.com>>:
>
>     Hi Greg,
>
>     Thanks very much for the information. I tried what you said, and I
>     think that you might be slightly wrong.
>
>     - At First I did what you said... multiplied the original A1 value
>     in brightdata (127.324) by Pi and by R2 (0.05*0.05) and the
>     returned number was ridiculously close to 1, which is the -m
>     option I input.
>
>     - I checked the surce.cal file, and the boxcorr requires A1, A2,
>     A3 and A4... the first one being a multiplier and the others being
>     the length, width and depth of the box. Using A1...A4 = 1 0.1 0.1
>     0.1, I got the following results
>
>     TOP VIEW
>     <https://drive.google.com/file/d/0B2NfkTSl19hQVkdzN1JlWFllcE0/view>
>     BOTTOM VIEW
>     <https://drive.google.com/file/d/0B2NfkTSl19hQVXRvTXRWYV9hR2s/view?usp=sharing>
>
>     One of them is using just ies2rad , the second is using ies2rad -i
>     0.05 and the third one is transforming this to a box as explained
>     before.... *THEY LOOK GOOD TO ME...?*
>
>     I think the area and that kind of things has to be used for planar
>     surfaces. right? I mean, for when we do crazier boxes...?
>
>     Regards,
>
>     Germ?n
>
>     2015-11-11 16:40 GMT-03:00 Greg Ward <gregoryjward at gmail.com
>     <mailto:gregoryjward at gmail.com>>:
>
>         Hi Germ?n,
>
>         Yes, it is a little more complicated, and you are right to
>         worry about normals! Actually, it is the projected area that
>         matters, which for the sphere is (mostly) constant.  The main
>         thing you need to do is to compute a first real brightdata
>         argument (A1) equal to the existing one produced by ies2rad,
>         multiplied by PI*R*R, where R is the radius of the original
>         sphere.  Multiplying the value thus by the projected area of
>         the emitter gets you back to radiant intensity.  Then, use the
>         "boxcorr" function as the first string argument to the
>         brightdata primitive in order that this radiant intensity is
>         divided by the projected area in the appropriate direction
>         during rendering.
>
>         It would be prudent to verify the results by rendering
>         illuminance in a large sphere around the light source before
>         and after, just to make sure neither of us messed up!
>
>         Cheers,
>         -Greg
>
>>         *From: *Germ?n Molina Larrain <germolinal at gmail.com
>>         <mailto:germolinal at gmail.com>>
>>
>>         *Subject: *Re: [Radiance-general] Luminaire modelling using
>>         Radiance
>>
>>         *Date: *November 11, 2015 9:29:48 AM HST
>>
>>         *
>>         *
>>
>>         Hello again guys,
>>
>>         I have a question now.... I have been reading about all this,
>>         and I would like to input geometry surrounded by illum.
>>         However, ies2rad seem to only be able to generate a Sphere.
>>         How do I try this with different shapes? (i.e. a box) is it
>>         just a matter of deleting the Sphere and put a lot of
>>         Polygons with the same modifier? I am worried about normals
>>         and stuff like that.
>>
>>         I hope I made myself clear, haha
>>
>>         Regards,
>>
>>         Germ?n
>>
>>         2015-08-10 10:24 GMT-03:00 Germ?n Molina Larrain
>>         <germolinal at gmail.com <mailto:germolinal at gmail.com>>:
>>
>>             well, thanks a lot guys! I have a lot to read, write, try
>>             and see now.... I will let you guys know how this goes
>>             and come back with a lot of new questions, haha.
>>
>>             Best,
>>
>>             Germ?n
>>
>>             2015-08-08 19:52 GMT-03:00 Randolph M. Fritz
>>             <rmfritz3 at gmail.com <mailto:rmfritz3 at gmail.com>>:
>>
>>                 "Further to Randolph?s post, the idea is to wrap the
>>                 luminaire
>>                 geometry as tightly as possible using the shapes
>>                 Randolph mentioned,
>>                 but this enveloping geometry will have *illum*
>>                 applied to it, not
>>                 glow"
>>
>>                 Duh. Rob is, of course, quite correct.
>>                 --
>>                 Randolph M. Fritz, Lighting Design and Simulation
>>                 +1 206 390 4477 <tel:%2B1%20206%20390%204477> ||
>>                 rmfritz3 at gmail.com <mailto:rmfritz3 at gmail.com>
>>
>>
>>                 On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
>>                 <rob.guglielmetti at gmail.com
>>                 <mailto:rob.guglielmetti at gmail.com>> wrote:
>>                 > Thomas has great info on lamp color and using
>>                 replmarks. Further to
>>                 > Randolph?s post, the idea is to wrap the luminaire
>>                 geometry as tightly as
>>                 > possible using the shapes Randolph mentioned, but
>>                 this enveloping geometry
>>                 > will have *illum* applied to it, not glow. The glow
>>                 is used to illuminate
>>                 > the luminaire geometry itself so that it appears
>>                 realistic in a rendering.
>>                 > You apply glows to the lamp objects in the
>>                 luminaire generally, or you could
>>                 > apply them to any shades or lenses in the luminaire.
>>                 >
>>                 > The luminous intensity of the illum is derived from
>>                 the input lumens in the
>>                 > IES file and is modulated by a few cal files, which
>>                 use the candela values
>>                 > from the IES file. The lamp color utility can give
>>                 you reasonable values to
>>                 > use for the glows, based on lamp input lumens.
>>                 Again, the glows illuminate
>>                 > the local luminaire geometry, and the illums
>>                 actually illuminate the space.
>>                 > The ileum material is invisible when viewed
>>                 directly, which is why you need
>>                 > the glows to make the luminaries appear correct in
>>                 a rendering. The flux
>>                 > from the glow also does not make it past the illum
>>                 geometry and so it does
>>                 > not contribute to the scene illumination or any
>>                 calculations.
>>                 >
>>                 > There is some info on using illums and glows here:
>>                 >
>>                 >
>>                 http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
>>                 >
>>                 > I did a bunch of crap with different illum geometry
>>                 and cal files
>>                 > (lboxcorr.cal et al.) and got pretty good at
>>                 picking the best ones for the
>>                 > jobs at hand (wall mounted sconces and stuff like
>>                 that can be tricky to get
>>                 > looking ?right?), but never got around to posting a
>>                 summary on that stuff. A
>>                 > good place to start is just running a few different
>>                 luminaire types though
>>                 > ies2rad and see what you get, and then play with
>>                 the output files from
>>                 > there.
>>                 >
>>                 > Are we having fun yet?
>>                 >
>>                 > -Rob
>>                 >
>>                 > From: Randolph M. Fritz <rmfritz3 at gmail.com
>>                 <mailto:rmfritz3 at gmail.com>>
>>                 > Reply: Radiance general discussion
>>                 <radiance-general at radiance-online.org
>>                 <mailto:radiance-general at radiance-online.org>>>
>>                 > Date: August 8, 2015 at 2:32:01 PM
>>                 > To: Radiance general discussion
>>                 <radiance-general at radiance-online.org
>>                 <mailto:radiance-general at radiance-online.org>>>
>>                 > Subject:  Re: [Radiance-general] Luminaire
>>                 modelling using Radiance
>>                 >
>>                 > The basic technique is to wrap the visible geometry
>>                 of the luminaire, if
>>                 > any, with a glow in a simple shape that actually
>>                 radiates the light. The
>>                 > glow is transparent, so that the geometry can be
>>                 seen, and direct
>>                 > illumination does not pass through the glow, so
>>                 light can be used internal
>>                 > to the glow to give the luminaire a realistic look.
>>                 >
>>                 > The glow geometry and description may be generated
>>                 by ies2rad. IIRC only
>>                 > four shapes are supported: sphere, rectangular,
>>                 cuboid (box), and thin disc.
>>                 >
>>                 > Ies2rad does not support eulumdat and again, IIRC,
>>                 has not been updated to
>>                 > support the latest IES photometry standard, LM-63-02.
>>                 >
>>                 > --
>>                 > Randolph M. Fritz, Lighting Design and Simulation
>>                 > +1 206 390 4477 <tel:%2B1%20206%20390%204477> ||
>>                 rmfritz3 at gmail.com <mailto:rmfritz3 at gmail.com>
>>                 >
>>                 > On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher
>>                 <tbleicher at gmail.com <mailto:tbleicher at gmail.com>> wrote:
>>                 >> Hi German.
>>                 >>
>>                 >> The most important information you need you will
>>                 find in the ies2rad man
>>                 >> page. In general you use it to create a library of
>>                 luminaire *.rad and
>>                 >> *.dat
>>                 >> files which you can later reference into your
>>                 scenes via xform. I found it
>>                 >> more convenient and flexible for my exporters to
>>                 create files with
>>                 >> triangular markers and use "!replmarks ..." to
>>                 place multiple luminaire
>>                 >> files. That way you can later replace all
>>                 luminaires in an array with a
>>                 >> single change in the scene file.
>>                 >>
>>                 >> When you write a plugin you have to pay attention
>>                 to the units of the ies
>>                 >> file and adjust the -d parameter accordingly.
>>                 Unfortunately ies2rad
>>                 >> doesn't
>>                 >> read that information from the file.
>>                 >>
>>                 >> The geometry in IES files is limited to discs,
>>                 ovals, rectangles and
>>                 >> extrusions of these shapes. Mostly you will find
>>                 the 2 dimensional shapes
>>                 >> for recessed and spot lights while the 3
>>                 dimensional shapes are used for
>>                 >> pendants (boxes and cylinders). If you want to
>>                 avoid these crude things in
>>                 >> your model and use detailed geometry instead (from
>>                 a dxf file, for
>>                 >> example)
>>                 >> then you use the -i option to create an illum
>>                 sphere. The sphere will be
>>                 >> used with the luminance data generated from the
>>                 ies file. You have to
>>                 >> place
>>                 >> the detailed geometry of fixture into the sphere
>>                 yourself. ies2rad doesn't
>>                 >> do that for you.
>>                 >>
>>                 >> I found that geometry provided by manufacturers is
>>                 very detailed and can
>>                 >> lead to problems in large models. MGF geometry
>>                 information is extremely
>>                 >> rare.
>>                 >>
>>                 >> You can use the -t option to set the lamp type.
>>                 This defines the color
>>                 >> temperature. The -m option allows you to set a
>>                 maintenance factor that all
>>                 >> artificial lighting calculations require. Not that
>>                 some lamp type entries
>>                 >> in
>>                 >> the lamp.tab file already include a correction
>>                 factor for the lamp so you
>>                 >> have to take this into account when calculating
>>                 the final value of -m. I
>>                 >> found it safest to use "-t WHITE" (which does not
>>                 have a correction) and
>>                 >> lump all the efficiency reductions and maintenance
>>                 factors together into a
>>                 >> single -m value.
>>                 >>
>>                 >> European manufacturers provide are more likely to
>>                 provide Eulumdat file
>>                 >> specs for their luminairs. Sometimes they convert
>>                 these for you into IES
>>                 >> files. If you can only get LDT files you can use
>>                 DIALUX or something
>>                 >> similar
>>                 >> to convert the LDT to IES files. It used to offer
>>                 this option a few year
>>                 >> ago, at least. There may be other converters out
>>                 there, but I don't
>>                 >> remember
>>                 >> the names.
>>                 >>
>>                 >> Hth, Thomas
>>                 >>
>>                 >> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
>>                 >> <germolinal at gmail.com <mailto:germolinal at gmail.com>>
>>                 >> wrote:
>>                 >>>
>>                 >>> Hello everyone,
>>                 >>>
>>                 >>> I think this might be a silly question, but I
>>                 actually have not found too
>>                 >>> much information on how to model luminaires using
>>                 Radiance... I am asking
>>                 >>> this because I want to add this feature to the
>>                 plugin I am developing.
>>                 >>>
>>                 >>> What is the recommended method for modelling
>>                 luminaires in Radiance? I
>>                 >>> intend to use IES files as input. Hopefully I
>>                 would also have the
>>                 >>> geometry,
>>                 >>> but I have to consider cases when this is not
>>                 available.
>>                 >>>
>>                 >>> I know there is an IES2RAD program, but I am not
>>                 quite sure how general
>>                 >>> it
>>                 >>> is. Also, I have heard about the use of illums (a
>>                 sphere, for example)
>>                 >>> that
>>                 >>> covers the entire luminaire....?
>>                 >>>
>>                 >>> I am kind of lost, so if someone could give me a
>>                 hint, I would really
>>                 >>> appreciate it.
>>                 >>>
>>                 >>> Also, if someone know where to find information
>>                 about IES files and their
>>                 >>> format, that would also be really helpful.
>>                 >>>
>>                 >>> THANKS
>>                 >>>
>>                 >>> Germ?n
>>                 >>>
>>                 >>> _______________________________________________
>>                 >>> Radiance-general mailing list
>>                 >>> Radiance-general at radiance-online.org
>>                 <mailto:Radiance-general at radiance-online.org>
>>                 >>>
>>                 http://www.radiance-online.org/mailman/listinfo/radiance-general
>>                 >>>
>>                 >>
>>                 >>
>>                 >> _______________________________________________
>>                 >> Radiance-general mailing list
>>                 >> Radiance-general at radiance-online.org
>>                 <mailto:Radiance-general at radiance-online.org>
>>                 >>
>>                 http://www.radiance-online.org/mailman/listinfo/radiance-general
>>                 >>
>>                 >
>>                 > _______________________________________________
>>                 > Radiance-general mailing list
>>                 > Radiance-general at radiance-online.org
>>                 <mailto:Radiance-general at radiance-online.org>
>>                 >
>>                 http://www.radiance-online.org/mailman/listinfo/radiance-general
>>                 >
>>                 >
>>                 > _______________________________________________
>>                 > Radiance-general mailing list
>>                 > Radiance-general at radiance-online.org
>>                 <mailto:Radiance-general at radiance-online.org>
>>                 >
>>                 http://www.radiance-online.org/mailman/listinfo/radiance-general
>>                 >
>>
>>                 _______________________________________________
>>                 Radiance-general mailing list
>>                 Radiance-general at radiance-online.org
>>                 <mailto:Radiance-general at radiance-online.org>
>>                 http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>         _______________________________________________
>>         Radiance-general mailing list
>>         Radiance-general at radiance-online.org
>>         <mailto:Radiance-general at radiance-online.org>
>>         http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>         _______________________________________________
>         Radiance-general mailing list
>         Radiance-general at radiance-online.org
>         <mailto:Radiance-general at radiance-online.org>
>         http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151111/61131d01/attachment-0001.html>

From gward at lmi.net  Wed Nov 11 14:36:48 2015
From: gward at lmi.net (Greg Ward)
Date: Wed, 11 Nov 2015 12:36:48 -1000
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAF-iH4LUMVnqAnFm7tMurkc1gBb1x9rMTGtHRDf2jQCyRjeECQ@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
	<CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
	<CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>
	<CAF-iH4JyPURX6f9iPc=hY256pAPLeDwuQuVAW43Kitc_Cvq2oA@mail.gmail.com>
	<196EFF1B-ADB8-4BCC-AC31-6E8446CADF5A@lmi.net>
	<CAF-iH4LLyY-N4GP7qDXZtBsBES1vh7Rec7moLYG9C_m8jHVnUQ@mail.gmail.com>
	<CAF-iH4LUMVnqAnFm7tMurkc1gBb1x9rMTGtHRDf2jQCyRjeECQ@mail.gmail.com>
Message-ID: <4E5FD49A-EDB3-415A-8D39-48840977883B@lmi.net>

Yes, I forgot to mention about the other three params. I had it in mind when writing, but it slipped out. Glad you sorted it. 

The approximation works at distance, but is slightly off as your test points get close to the source (within 7 times box size).  There is an lboxcorr version, but requires the box be centered on origin.

More complex shapes require more complex form factors.

Cheers,
-Greg

Sent from my iPad

> On Nov 11, 2015, at 11:07 AM, Germ?n Molina Larrain <germolinal at gmail.com> wrote:
> 
> In the end, this is the illum modifier... I wonder about the src_theta parameter
> 
> void brightdata noGeo_illum_dist
> 4 boxcorr noGeo_illum.dat source.cal src_theta 
> 0
> 4 1 0.1 0.1 0.1   # 1, dimx, dimy, dimz
> 
> 2015-11-11 17:56 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com>:
>> Hi Greg, 
>> 
>> Thanks very much for the information. I tried what you said, and I think that you might be slightly wrong.
>> 
>> - At First I did what you said... multiplied the original A1 value in brightdata (127.324) by Pi and by R2 (0.05*0.05) and the returned number was ridiculously close to 1, which is the -m option I input.
>> 
>> - I checked the surce.cal file, and the boxcorr requires A1, A2, A3 and A4... the first one being a multiplier and the others being the length, width and depth of the box. Using A1...A4 = 1 0.1 0.1 0.1, I got the following results
>> 
>> TOP VIEW
>> BOTTOM VIEW
>> 
>> One of them is using just ies2rad , the second is using ies2rad -i 0.05 and the third one is transforming this to a box as explained before.... THEY LOOK GOOD TO ME...?
>> 
>> I think the area and that kind of things has to be used for planar surfaces. right? I mean, for when we do crazier boxes...?
>> 
>> Regards, 
>> 
>> Germ?n
>> 
>> 2015-11-11 16:40 GMT-03:00 Greg Ward <gregoryjward at gmail.com>:
>>> Hi Germ?n,
>>> 
>>> Yes, it is a little more complicated, and you are right to worry about normals!  Actually, it is the projected area that matters, which for the sphere is (mostly) constant.  The main thing you need to do is to compute a first real brightdata argument (A1) equal to the existing one produced by ies2rad, multiplied by PI*R*R, where R is the radius of the original sphere.  Multiplying the value thus by the projected area of the emitter gets you back to radiant intensity.  Then, use the "boxcorr" function as the first string argument to the brightdata primitive in order that this radiant intensity is divided by the projected area in the appropriate direction during rendering.
>>> 
>>> It would be prudent to verify the results by rendering illuminance in a large sphere around the light source before and after, just to make sure neither of us messed up!
>>> 
>>> Cheers,
>>> -Greg
>>> 
>>>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>>>> Subject: Re: [Radiance-general] Luminaire modelling using Radiance
>>>> Date: November 11, 2015 9:29:48 AM HST
>>>> 
>>>> Hello again guys, 
>>>> 
>>>> I have a question now.... I have been reading about all this, and I would like to input geometry surrounded by illum. However, ies2rad seem to only be able to generate a Sphere. How do I try this with different shapes? (i.e. a box) is it just a matter of deleting the Sphere and put a lot of Polygons with the same modifier? I am worried about normals and stuff like that.
>>>> 
>>>> I hope I made myself clear, haha
>>>> 
>>>> Regards, 
>>>> 
>>>> Germ?n
>>>> 
>>>> 2015-08-10 10:24 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com>:
>>>>> well, thanks a lot guys! I have a lot to read, write, try and see now.... I will let you guys know how this goes and come back with a lot of new questions, haha.
>>>>> 
>>>>> Best, 
>>>>> 
>>>>> Germ?n
>>>>> 
>>>>> 2015-08-08 19:52 GMT-03:00 Randolph M. Fritz <rmfritz3 at gmail.com>:
>>>>>> "Further to Randolph?s post, the idea is to wrap the luminaire
>>>>>> geometry as tightly as possible using the shapes Randolph mentioned,
>>>>>> but this enveloping geometry will have *illum* applied to it, not
>>>>>> glow"
>>>>>> 
>>>>>> Duh. Rob is, of course, quite correct.
>>>>>> --
>>>>>> Randolph M. Fritz, Lighting Design and Simulation
>>>>>> +1 206 390 4477 || rmfritz3 at gmail.com
>>>>>> 
>>>>>> 
>>>>>> On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
>>>>>> <rob.guglielmetti at gmail.com> wrote:
>>>>>> > Thomas has great info on lamp color and using replmarks.  Further to
>>>>>> > Randolph?s post, the idea is to wrap the luminaire geometry as tightly as
>>>>>> > possible using the shapes Randolph mentioned, but this enveloping geometry
>>>>>> > will have *illum* applied to it, not glow. The glow is used to illuminate
>>>>>> > the luminaire geometry itself so that it appears realistic in a rendering.
>>>>>> > You apply glows to the lamp objects in the luminaire generally, or you could
>>>>>> > apply them to any shades or lenses in the luminaire.
>>>>>> >
>>>>>> > The luminous intensity of the illum is derived from the input lumens in the
>>>>>> > IES file and is modulated by a few cal files, which use the candela values
>>>>>> > from the IES file. The lamp color utility can give you reasonable values to
>>>>>> > use for the glows, based on lamp input lumens. Again, the glows illuminate
>>>>>> > the local luminaire geometry, and the illums actually illuminate the space.
>>>>>> > The ileum material is invisible when viewed directly, which is why you need
>>>>>> > the glows to make the luminaries appear correct in a rendering. The flux
>>>>>> > from the glow also does not make it past the illum geometry and so it does
>>>>>> > not contribute to the scene illumination or any calculations.
>>>>>> >
>>>>>> > There is some info on using illums and glows here:
>>>>>> >
>>>>>> > http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
>>>>>> >
>>>>>> > I did a bunch of crap with different illum geometry and cal files
>>>>>> > (lboxcorr.cal et al.) and got pretty good at picking the best ones for the
>>>>>> > jobs at hand (wall mounted sconces and stuff like that can be tricky to get
>>>>>> > looking ?right?), but never got around to posting a summary on that stuff. A
>>>>>> > good place to start is just running a few different luminaire types though
>>>>>> > ies2rad and see what you get, and then play with the output files from
>>>>>> > there.
>>>>>> >
>>>>>> > Are we having fun yet?
>>>>>> >
>>>>>> > -Rob
>>>>>> >
>>>>>> > From: Randolph M. Fritz <rmfritz3 at gmail.com>
>>>>>> > Reply: Radiance general discussion <radiance-general at radiance-online.org>>
>>>>>> > Date: August 8, 2015 at 2:32:01 PM
>>>>>> > To: Radiance general discussion <radiance-general at radiance-online.org>>
>>>>>> > Subject:  Re: [Radiance-general] Luminaire modelling using Radiance
>>>>>> >
>>>>>> > The basic technique is to wrap the visible geometry of the luminaire, if
>>>>>> > any, with a glow in a simple shape that actually radiates the light. The
>>>>>> > glow is transparent, so that the geometry can be seen, and direct
>>>>>> > illumination does not pass through the glow, so light can be used internal
>>>>>> > to the glow to give the luminaire a realistic look.
>>>>>> >
>>>>>> > The glow geometry and description may be generated by ies2rad. IIRC only
>>>>>> > four shapes are supported: sphere, rectangular, cuboid (box), and thin disc.
>>>>>> >
>>>>>> > Ies2rad does not support eulumdat and again, IIRC, has not been updated to
>>>>>> > support the latest IES photometry standard, LM-63-02.
>>>>>> >
>>>>>> > --
>>>>>> > Randolph M. Fritz, Lighting Design and Simulation
>>>>>> > +1 206 390 4477 || rmfritz3 at gmail.com
>>>>>> >
>>>>>> > On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <tbleicher at gmail.com> wrote:
>>>>>> >> Hi German.
>>>>>> >>
>>>>>> >> The most important information you need you will find in the ies2rad man
>>>>>> >> page. In general you use it to create a library of luminaire *.rad and
>>>>>> >> *.dat
>>>>>> >> files which you can later reference into your scenes via xform. I found it
>>>>>> >> more convenient and flexible for my exporters to create files with
>>>>>> >> triangular markers and use "!replmarks ..." to place multiple luminaire
>>>>>> >> files. That way you can later replace all luminaires in an array with a
>>>>>> >> single change in the scene file.
>>>>>> >>
>>>>>> >> When you write a plugin you have to pay attention to the units of the ies
>>>>>> >> file and adjust the -d parameter accordingly. Unfortunately ies2rad
>>>>>> >> doesn't
>>>>>> >> read that information from the file.
>>>>>> >>
>>>>>> >> The geometry in IES files is limited to discs, ovals, rectangles and
>>>>>> >> extrusions of these shapes. Mostly you will find the 2 dimensional shapes
>>>>>> >> for recessed and spot lights while the 3 dimensional shapes are used for
>>>>>> >> pendants (boxes and cylinders). If you want to avoid these crude things in
>>>>>> >> your model and use detailed geometry instead (from a dxf file, for
>>>>>> >> example)
>>>>>> >> then you use the -i option to create an illum sphere. The sphere will be
>>>>>> >> used with the luminance data generated from the ies file. You have to
>>>>>> >> place
>>>>>> >> the detailed geometry of fixture into the sphere yourself. ies2rad doesn't
>>>>>> >> do that for you.
>>>>>> >>
>>>>>> >> I found that geometry provided by manufacturers is very detailed and can
>>>>>> >> lead to problems in large models. MGF geometry information is extremely
>>>>>> >> rare.
>>>>>> >>
>>>>>> >> You can use the -t option to set the lamp type. This defines the color
>>>>>> >> temperature. The -m option allows you to set a maintenance factor that all
>>>>>> >> artificial lighting calculations require. Not that some lamp type entries
>>>>>> >> in
>>>>>> >> the lamp.tab file already include a correction factor for the lamp so you
>>>>>> >> have to take this into account when calculating the final value of -m. I
>>>>>> >> found it safest to use "-t WHITE" (which does not have a correction) and
>>>>>> >> lump all the efficiency reductions and maintenance factors together into a
>>>>>> >> single -m value.
>>>>>> >>
>>>>>> >> European manufacturers provide are more likely to provide Eulumdat file
>>>>>> >> specs for their luminairs. Sometimes they convert these for you into IES
>>>>>> >> files. If you can only get LDT files you can use DIALUX or something
>>>>>> >> similar
>>>>>> >> to convert the LDT to IES files. It used to offer this option a few year
>>>>>> >> ago, at least. There may be other converters out there, but I don't
>>>>>> >> remember
>>>>>> >> the names.
>>>>>> >>
>>>>>> >> Hth, Thomas
>>>>>> >>
>>>>>> >> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
>>>>>> >> <germolinal at gmail.com>
>>>>>> >> wrote:
>>>>>> >>>
>>>>>> >>> Hello everyone,
>>>>>> >>>
>>>>>> >>> I think this might be a silly question, but I actually have not found too
>>>>>> >>> much information on how to model luminaires using Radiance... I am asking
>>>>>> >>> this because I want to add this feature to the plugin I am developing.
>>>>>> >>>
>>>>>> >>> What is the recommended method for modelling luminaires in Radiance? I
>>>>>> >>> intend to use IES files as input. Hopefully I would also have the
>>>>>> >>> geometry,
>>>>>> >>> but I have to consider cases when this is not available.
>>>>>> >>>
>>>>>> >>> I know there is an IES2RAD program, but I am not quite sure how general
>>>>>> >>> it
>>>>>> >>> is. Also, I have heard about the use of illums (a sphere, for example)
>>>>>> >>> that
>>>>>> >>> covers the entire luminaire....?
>>>>>> >>>
>>>>>> >>> I am kind of lost, so if someone could give me a hint, I would really
>>>>>> >>> appreciate it.
>>>>>> >>>
>>>>>> >>> Also, if someone know where to find information about IES files and their
>>>>>> >>> format, that would also be really helpful.
>>>>>> >>>
>>>>>> >>> THANKS
>>>>>> >>>
>>>>>> >>> Germ?n
>>>>>> >>>
>>>>>> >>> _______________________________________________
>>>>>> >>> Radiance-general mailing list
>>>>>> >>> Radiance-general at radiance-online.org
>>>>>> >>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>> >>>
>>>>>> >>
>>>>>> >>
>>>>>> >> _______________________________________________
>>>>>> >> Radiance-general mailing list
>>>>>> >> Radiance-general at radiance-online.org
>>>>>> >> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>> >>
>>>>>> >
>>>>>> > _______________________________________________
>>>>>> > Radiance-general mailing list
>>>>>> > Radiance-general at radiance-online.org
>>>>>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>> >
>>>>>> >
>>>>>> > _______________________________________________
>>>>>> > Radiance-general mailing list
>>>>>> > Radiance-general at radiance-online.org
>>>>>> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>> >
>>>>>> 
>>>>>> _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> 
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151111/3b0f240b/attachment-0001.html>

From germolinal at gmail.com  Wed Nov 11 14:37:59 2015
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Wed, 11 Nov 2015 19:37:59 -0300
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <5643BD55.3080102@visarc.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3V6hyPJoOEg0i899GhSj6h-UDcz00KcFYFMyeR3WgovQ@mail.gmail.com>
	<CANeAMoL--zOO18MPD4oD-z-eN+Nn6QAfgLq-k+-XhWkBnHk3sA@mail.gmail.com>
	<etPan.55c66da3.3a95f874.8ac@explosivo-2.local>
	<CANeAMoJxQ62kg63g3T5n6pfAS+NcHXThA=cFNJttUidcCjj4pA@mail.gmail.com>
	<CAF-iH4+4VNZx4os=tqLhHi7Vtgoxv3vPQ0jEBpkZaaaGHj-ghw@mail.gmail.com>
	<CAF-iH4JyPURX6f9iPc=hY256pAPLeDwuQuVAW43Kitc_Cvq2oA@mail.gmail.com>
	<196EFF1B-ADB8-4BCC-AC31-6E8446CADF5A@lmi.net>
	<CAF-iH4LLyY-N4GP7qDXZtBsBES1vh7Rec7moLYG9C_m8jHVnUQ@mail.gmail.com>
	<CAF-iH4LUMVnqAnFm7tMurkc1gBb1x9rMTGtHRDf2jQCyRjeECQ@mail.gmail.com>
	<5643BD55.3080102@visarc.com>
Message-ID: <CAF-iH4KcjGAEJwG3ijuFpzbOT47jVao_XBBNi+bt4G9VHdBUDA@mail.gmail.com>

True, Jack... I was using different box and sphere sizes. Now it works
better.

I think that doing this for a box is fairly easy.

New images:

BOTTOM VIEW
<https://drive.google.com/file/d/0B2NfkTSl19hQY0FyVFh4cUV4Mms/view?usp=sharing>
TOP VIEW
<https://drive.google.com/file/d/0B2NfkTSl19hQdEVjcTMtVXNFS1k/view?usp=sharing>

2015-11-11 19:12 GMT-03:00 Jack de Valpine <jedev at visarc.com>:

> Hi Germ?n,
>
> I am following this somewhat peripherally, however I do note that from the
> appearance of your test samples, in the bottom view, the right most sample
> looks different. The higher end (the yellow portion) is smaller than in the
> other two samples...
>
> -Jack
>
>
> On 11/11/2015 4:07 PM, Germ?n Molina Larrain wrote:
>
> In the end, this is the illum modifier... *I wonder about the src_theta *
> parameter
>
> void brightdata noGeo_illum_dist
> 4 boxcorr noGeo_illum.dat source.cal src_theta
> 0
> 4 1 0.1 0.1 0.1   # 1, dimx, dimy, dimz
>
> 2015-11-11 17:56 GMT-03:00 Germ?n Molina Larrain <germolinal at gmail.com>:
>
>> Hi Greg,
>>
>> Thanks very much for the information. I tried what you said, and I think
>> that you might be slightly wrong.
>>
>> - At First I did what you said... multiplied the original A1 value in
>> brightdata (127.324) by Pi and by R2 (0.05*0.05) and the returned number
>> was ridiculously close to 1, which is the -m option I input.
>>
>> - I checked the surce.cal file, and the boxcorr requires A1, A2, A3 and
>> A4... the first one being a multiplier and the others being the length,
>> width and depth of the box. Using A1...A4 = 1 0.1 0.1 0.1, I got the
>> following results
>>
>> TOP VIEW
>> <https://drive.google.com/file/d/0B2NfkTSl19hQVkdzN1JlWFllcE0/view>
>> BOTTOM VIEW
>> <https://drive.google.com/file/d/0B2NfkTSl19hQVXRvTXRWYV9hR2s/view?usp=sharing>
>>
>> One of them is using just ies2rad , the second is using ies2rad -i 0.05
>> and the third one is transforming this to a box as explained before.... *THEY
>> LOOK GOOD TO ME...?*
>>
>> I think the area and that kind of things has to be used for planar
>> surfaces. right? I mean, for when we do crazier boxes...?
>>
>> Regards,
>>
>> Germ?n
>>
>> 2015-11-11 16:40 GMT-03:00 Greg Ward < <gregoryjward at gmail.com>
>> gregoryjward at gmail.com>:
>>
>>> Hi Germ?n,
>>>
>>> Yes, it is a little more complicated, and you are right to worry about
>>> normals!  Actually, it is the projected area that matters, which for the
>>> sphere is (mostly) constant.  The main thing you need to do is to compute a
>>> first real brightdata argument (A1) equal to the existing one produced by
>>> ies2rad, multiplied by PI*R*R, where R is the radius of the original
>>> sphere.  Multiplying the value thus by the projected area of the emitter
>>> gets you back to radiant intensity.  Then, use the "boxcorr" function as
>>> the first string argument to the brightdata primitive in order that this
>>> radiant intensity is divided by the projected area in the appropriate
>>> direction during rendering.
>>>
>>> It would be prudent to verify the results by rendering illuminance in a
>>> large sphere around the light source before and after, just to make sure
>>> neither of us messed up!
>>>
>>> Cheers,
>>> -Greg
>>>
>>> *From: *Germ?n Molina Larrain <germolinal at gmail.com>
>>>
>>> *Subject: *Re: [Radiance-general] Luminaire modelling using Radiance
>>>
>>> *Date: *November 11, 2015 9:29:48 AM HST
>>>
>>>
>>> Hello again guys,
>>>
>>> I have a question now.... I have been reading about all this, and I
>>> would like to input geometry surrounded by illum. However, ies2rad seem to
>>> only be able to generate a Sphere. How do I try this with different shapes?
>>> (i.e. a box) is it just a matter of deleting the Sphere and put a lot of
>>> Polygons with the same modifier? I am worried about normals and stuff like
>>> that.
>>>
>>> I hope I made myself clear, haha
>>>
>>> Regards,
>>>
>>> Germ?n
>>>
>>> 2015-08-10 10:24 GMT-03:00 Germ?n Molina Larrain <
>>> <germolinal at gmail.com>germolinal at gmail.com>:
>>>
>>>> well, thanks a lot guys! I have a lot to read, write, try and see
>>>> now.... I will let you guys know how this goes and come back with a lot of
>>>> new questions, haha.
>>>>
>>>> Best,
>>>>
>>>> Germ?n
>>>>
>>>> 2015-08-08 19:52 GMT-03:00 Randolph M. Fritz < <rmfritz3 at gmail.com>
>>>> rmfritz3 at gmail.com>:
>>>>
>>>>> "Further to Randolph?s post, the idea is to wrap the luminaire
>>>>> geometry as tightly as possible using the shapes Randolph mentioned,
>>>>> but this enveloping geometry will have *illum* applied to it, not
>>>>> glow"
>>>>>
>>>>> Duh. Rob is, of course, quite correct.
>>>>> --
>>>>> Randolph M. Fritz, Lighting Design and Simulation
>>>>> +1 206 390 4477 <%2B1%20206%20390%204477> || <rmfritz3 at gmail.com>
>>>>> rmfritz3 at gmail.com
>>>>>
>>>>>
>>>>> On Sat, Aug 8, 2015 at 1:59 PM, Rob Guglielmetti
>>>>> < <rob.guglielmetti at gmail.com>rob.guglielmetti at gmail.com> wrote:
>>>>> > Thomas has great info on lamp color and using replmarks.  Further to
>>>>> > Randolph?s post, the idea is to wrap the luminaire geometry as
>>>>> tightly as
>>>>> > possible using the shapes Randolph mentioned, but this enveloping
>>>>> geometry
>>>>> > will have *illum* applied to it, not glow. The glow is used to
>>>>> illuminate
>>>>> > the luminaire geometry itself so that it appears realistic in a
>>>>> rendering.
>>>>> > You apply glows to the lamp objects in the luminaire generally, or
>>>>> you could
>>>>> > apply them to any shades or lenses in the luminaire.
>>>>> >
>>>>> > The luminous intensity of the illum is derived from the input lumens
>>>>> in the
>>>>> > IES file and is modulated by a few cal files, which use the candela
>>>>> values
>>>>> > from the IES file. The lamp color utility can give you reasonable
>>>>> values to
>>>>> > use for the glows, based on lamp input lumens. Again, the glows
>>>>> illuminate
>>>>> > the local luminaire geometry, and the illums actually illuminate the
>>>>> space.
>>>>> > The ileum material is invisible when viewed directly, which is why
>>>>> you need
>>>>> > the glows to make the luminaries appear correct in a rendering. The
>>>>> flux
>>>>> > from the glow also does not make it past the illum geometry and so
>>>>> it does
>>>>> > not contribute to the scene illumination or any calculations.
>>>>> >
>>>>> > There is some info on using illums and glows here:
>>>>> >
>>>>> >
>>>>> <http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/>
>>>>> http://www.rumblestrip.org/using-the-illum-material-for-smoother-renderings-in-radiance/
>>>>> >
>>>>> > I did a bunch of crap with different illum geometry and cal files
>>>>> > (lboxcorr.cal et al.) and got pretty good at picking the best ones
>>>>> for the
>>>>> > jobs at hand (wall mounted sconces and stuff like that can be tricky
>>>>> to get
>>>>> > looking ?right?), but never got around to posting a summary on that
>>>>> stuff. A
>>>>> > good place to start is just running a few different luminaire types
>>>>> though
>>>>> > ies2rad and see what you get, and then play with the output files
>>>>> from
>>>>> > there.
>>>>> >
>>>>> > Are we having fun yet?
>>>>> >
>>>>> > -Rob
>>>>> >
>>>>> > From: Randolph M. Fritz < <rmfritz3 at gmail.com>rmfritz3 at gmail.com>
>>>>> > Reply: Radiance general discussion <
>>>>> <radiance-general at radiance-online.org>
>>>>> radiance-general at radiance-online.org>>
>>>>> > Date: August 8, 2015 at 2:32:01 PM
>>>>> > To: Radiance general discussion <
>>>>> <radiance-general at radiance-online.org>
>>>>> radiance-general at radiance-online.org>>
>>>>> > Subject:  Re: [Radiance-general] Luminaire modelling using Radiance
>>>>> >
>>>>> > The basic technique is to wrap the visible geometry of the
>>>>> luminaire, if
>>>>> > any, with a glow in a simple shape that actually radiates the light.
>>>>> The
>>>>> > glow is transparent, so that the geometry can be seen, and direct
>>>>> > illumination does not pass through the glow, so light can be used
>>>>> internal
>>>>> > to the glow to give the luminaire a realistic look.
>>>>> >
>>>>> > The glow geometry and description may be generated by ies2rad. IIRC
>>>>> only
>>>>> > four shapes are supported: sphere, rectangular, cuboid (box), and
>>>>> thin disc.
>>>>> >
>>>>> > Ies2rad does not support eulumdat and again, IIRC, has not been
>>>>> updated to
>>>>> > support the latest IES photometry standard, LM-63-02.
>>>>> >
>>>>> > --
>>>>> > Randolph M. Fritz, Lighting Design and Simulation
>>>>> > +1 206 390 4477 <%2B1%20206%20390%204477> || <rmfritz3 at gmail.com>
>>>>> rmfritz3 at gmail.com
>>>>> >
>>>>> > On Sat, Aug 8, 2015 at 7:46 AM, Thomas Bleicher <
>>>>> <tbleicher at gmail.com>tbleicher at gmail.com> wrote:
>>>>> >> Hi German.
>>>>> >>
>>>>> >> The most important information you need you will find in the
>>>>> ies2rad man
>>>>> >> page. In general you use it to create a library of luminaire *.rad
>>>>> and
>>>>> >> *.dat
>>>>> >> files which you can later reference into your scenes via xform. I
>>>>> found it
>>>>> >> more convenient and flexible for my exporters to create files with
>>>>> >> triangular markers and use "!replmarks ..." to place multiple
>>>>> luminaire
>>>>> >> files. That way you can later replace all luminaires in an array
>>>>> with a
>>>>> >> single change in the scene file.
>>>>> >>
>>>>> >> When you write a plugin you have to pay attention to the units of
>>>>> the ies
>>>>> >> file and adjust the -d parameter accordingly. Unfortunately ies2rad
>>>>> >> doesn't
>>>>> >> read that information from the file.
>>>>> >>
>>>>> >> The geometry in IES files is limited to discs, ovals, rectangles and
>>>>> >> extrusions of these shapes. Mostly you will find the 2 dimensional
>>>>> shapes
>>>>> >> for recessed and spot lights while the 3 dimensional shapes are
>>>>> used for
>>>>> >> pendants (boxes and cylinders). If you want to avoid these crude
>>>>> things in
>>>>> >> your model and use detailed geometry instead (from a dxf file, for
>>>>> >> example)
>>>>> >> then you use the -i option to create an illum sphere. The sphere
>>>>> will be
>>>>> >> used with the luminance data generated from the ies file. You have
>>>>> to
>>>>> >> place
>>>>> >> the detailed geometry of fixture into the sphere yourself. ies2rad
>>>>> doesn't
>>>>> >> do that for you.
>>>>> >>
>>>>> >> I found that geometry provided by manufacturers is very detailed
>>>>> and can
>>>>> >> lead to problems in large models. MGF geometry information is
>>>>> extremely
>>>>> >> rare.
>>>>> >>
>>>>> >> You can use the -t option to set the lamp type. This defines the
>>>>> color
>>>>> >> temperature. The -m option allows you to set a maintenance factor
>>>>> that all
>>>>> >> artificial lighting calculations require. Not that some lamp type
>>>>> entries
>>>>> >> in
>>>>> >> the lamp.tab file already include a correction factor for the lamp
>>>>> so you
>>>>> >> have to take this into account when calculating the final value of
>>>>> -m. I
>>>>> >> found it safest to use "-t WHITE" (which does not have a
>>>>> correction) and
>>>>> >> lump all the efficiency reductions and maintenance factors together
>>>>> into a
>>>>> >> single -m value.
>>>>> >>
>>>>> >> European manufacturers provide are more likely to provide Eulumdat
>>>>> file
>>>>> >> specs for their luminairs. Sometimes they convert these for you
>>>>> into IES
>>>>> >> files. If you can only get LDT files you can use DIALUX or something
>>>>> >> similar
>>>>> >> to convert the LDT to IES files. It used to offer this option a few
>>>>> year
>>>>> >> ago, at least. There may be other converters out there, but I don't
>>>>> >> remember
>>>>> >> the names.
>>>>> >>
>>>>> >> Hth, Thomas
>>>>> >>
>>>>> >> On Fri, Aug 7, 2015 at 2:09 PM, Germ?n Molina Larrain
>>>>> >> < <germolinal at gmail.com>germolinal at gmail.com>
>>>>> >> wrote:
>>>>> >>>
>>>>> >>> Hello everyone,
>>>>> >>>
>>>>> >>> I think this might be a silly question, but I actually have not
>>>>> found too
>>>>> >>> much information on how to model luminaires using Radiance... I am
>>>>> asking
>>>>> >>> this because I want to add this feature to the plugin I am
>>>>> developing.
>>>>> >>>
>>>>> >>> What is the recommended method for modelling luminaires in
>>>>> Radiance? I
>>>>> >>> intend to use IES files as input. Hopefully I would also have the
>>>>> >>> geometry,
>>>>> >>> but I have to consider cases when this is not available.
>>>>> >>>
>>>>> >>> I know there is an IES2RAD program, but I am not quite sure how
>>>>> general
>>>>> >>> it
>>>>> >>> is. Also, I have heard about the use of illums (a sphere, for
>>>>> example)
>>>>> >>> that
>>>>> >>> covers the entire luminaire....?
>>>>> >>>
>>>>> >>> I am kind of lost, so if someone could give me a hint, I would
>>>>> really
>>>>> >>> appreciate it.
>>>>> >>>
>>>>> >>> Also, if someone know where to find information about IES files
>>>>> and their
>>>>> >>> format, that would also be really helpful.
>>>>> >>>
>>>>> >>> THANKS
>>>>> >>>
>>>>> >>> Germ?n
>>>>> >>>
>>>>> >>> _______________________________________________
>>>>> >>> Radiance-general mailing list
>>>>> >>> <Radiance-general at radiance-online.org>
>>>>> Radiance-general at radiance-online.org
>>>>> >>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> >>>
>>>>> >>
>>>>> >>
>>>>> >> _______________________________________________
>>>>> >> Radiance-general mailing list
>>>>> >> <Radiance-general at radiance-online.org>
>>>>> Radiance-general at radiance-online.org
>>>>> >> <http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> >>
>>>>> >
>>>>> > _______________________________________________
>>>>> > Radiance-general mailing list
>>>>> > <Radiance-general at radiance-online.org>
>>>>> Radiance-general at radiance-online.org
>>>>> > <http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> >
>>>>> >
>>>>> > _______________________________________________
>>>>> > Radiance-general mailing list
>>>>> > <Radiance-general at radiance-online.org>
>>>>> Radiance-general at radiance-online.org
>>>>> > <http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> >
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> <Radiance-general at radiance-online.org>
>>>>> Radiance-general at radiance-online.org
>>>>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>
>>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151111/b4a37c8c/attachment-0001.html>

From tbleicher at gmail.com  Wed Nov 11 17:46:37 2015
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Wed, 11 Nov 2015 20:46:37 -0500
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
Message-ID: <CAKGV-k3mDxc7yO72+mYwf2PCg8efgUfU6C53TOk9ZAPNtDn=TQ@mail.gmail.com>

German

Have you tried to change the geometry identifier in the IES file to
indicate a box geometry. I am a bit rusty on the specs but I don't think
anything else depends on this information so the change should be simple to
do. The transformation in a Radiance box is then done by ies2rad.

Regards,
Thomas

On Fri, Aug 7, 2015 at 1:09 PM, Germ?n Molina Larrain <germolinal at gmail.com>
wrote:

> Hello everyone,
>
> I think this might be a silly question, but I actually have not found too
> much information on how to model luminaires using Radiance... I am asking
> this because I want to add this feature to the plugin I am developing.
>
> What is the recommended method for modelling luminaires in Radiance? I
> intend to use IES files as input. Hopefully I would also have the geometry,
> but I have to consider cases when this is not available.
>
> I know there is an IES2RAD program, but I am not quite sure how general it
> is. Also, I have heard about the use of illums (a sphere, for example) that
> covers the entire luminaire....?
>
> I am kind of lost, so if someone could give me a hint, I would really
> appreciate it.
>
> Also, if someone know where to find information about IES files and their
> format, that would also be really helpful.
>
> THANKS
>
> Germ?n
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151111/5fd99a12/attachment.html>

From shakespe at indiana.edu  Thu Nov 12 06:35:11 2015
From: shakespe at indiana.edu (Shakespeare, Robert A.)
Date: Thu, 12 Nov 2015 14:35:11 +0000
Subject: [Radiance-general] REVIT to Radiance pipeline
Message-ID: <D26A0DCD.31AC8%shakespe@indiana.edu>

At the last Radiance Workshop, there was some discussion regarding converting REVIT models to Radiance, with materials and named surfaces parsed into readable .rad datasets.  As REVIT has essentially become the architectural industry modeling tool, the pipeline to Radiance is an important one.  It seems that the latest version of Sketchup has some challenges with the very helpful su2rad, written quite awhile ago. I heard that others were using some other pipelines, perhaps integrating obj2rad, etc.
I would appreciate your sharing conversion pipelines which interface with the MOST CURRENT releases of REVIT, SKETCHUP, etc. Hopefully a generous and expert code person would consider writing a direct REVIT plugin for this purpose. There might be modest financial encouragement to fill this gap. I do realize that it may be short-lived as AutoDESK releases are moving targets, yet to engage the full Radiance tool kit for lighting design and analysis on REVIT generated models, will keep  Radiance on the forefront and accessible to a broader audience.
Appreciatively,
Rob Shakespeare
shakespe at indiana.edu




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151112/abe112fe/attachment.html>

From germolinal at gmail.com  Thu Nov 12 07:01:06 2015
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Thu, 12 Nov 2015 12:01:06 -0300
Subject: [Radiance-general] REVIT to Radiance pipeline
In-Reply-To: <D26A0DCD.31AC8%shakespe@indiana.edu>
References: <D26A0DCD.31AC8%shakespe@indiana.edu>
Message-ID: <CAF-iH4+4igFCv7P6_seL=KWkcgx7kQYbaZik2D2hhdE4QyAW_g@mail.gmail.com>

Hi Rob,

I do not really like promoting myself, but there is another SketchUp plugin
out there (groundhog, www.groundhogproject.org) that might help you
overcome the challenges you are finding with su2rad...? I honestly do not
know, because I have not used su2rad in a very long time, but I can tell
you that I am using Groundhog succesfully on SU2015.

About the Revit to Radiance plugin, I actually thought on developing it a
while ago, after an important person on the industry recommended it.
However, I do not use Windows, do not have a Revit license and did not have
the resources to work on a project like that. As I mentioned, someone on
the industry asked about it, so I have to agree in that there are
incentives to do it.

Best,

Germ?n



2015-11-12 11:35 GMT-03:00 Shakespeare, Robert A. <shakespe at indiana.edu>:

> At the last Radiance Workshop, there was some discussion regarding
> converting REVIT models to Radiance, with materials and named surfaces
> parsed into readable .rad datasets.  As REVIT has essentially become the
> architectural industry modeling tool, the pipeline to Radiance is an
> important one.  It seems that the latest version of Sketchup has some
> challenges with the very helpful su2rad, written quite awhile ago. I heard
> that others were using some other pipelines, perhaps integrating obj2rad,
> etc.
> I would appreciate your sharing conversion pipelines which interface with
> the MOST CURRENT releases of REVIT, SKETCHUP, etc. Hopefully a generous and
> expert code person would consider writing a direct REVIT plugin for this
> purpose. There might be modest financial encouragement to fill this gap. I
> do realize that it may be short-lived as AutoDESK releases are moving
> targets, yet to engage the full Radiance tool kit for lighting design and
> analysis on REVIT generated models, will keep  Radiance on the forefront
> and accessible to a broader audience.
> Appreciatively,
> Rob Shakespeare
> shakespe at indiana.edu
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151112/fbe42aed/attachment.html>

From bshara at gmail.com  Thu Nov 12 07:09:58 2015
From: bshara at gmail.com (Bshara Rezik)
Date: Thu, 12 Nov 2015 17:09:58 +0200
Subject: [Radiance-general] REVIT to Radiance pipeline
In-Reply-To: <CAF-iH4+4igFCv7P6_seL=KWkcgx7kQYbaZik2D2hhdE4QyAW_g@mail.gmail.com>
References: <D26A0DCD.31AC8%shakespe@indiana.edu>
	<CAF-iH4+4igFCv7P6_seL=KWkcgx7kQYbaZik2D2hhdE4QyAW_g@mail.gmail.com>
Message-ID: <CAK21LWmWJG38kP2qr=oBw3NeJCq-3JgQYQdLoGPMxKHNc-hucQ@mail.gmail.com>

Hello Rob,

I had developed a Revit plugin for a Revit -> Radiance workflow in my
Master's thesis, but it lacked the ability to convert materials since it
actually used the dxf2rad component.

If it could  still help, feel free to contact me.

Best regards,

Bshara Rezik* |* B.Arch, M.Sc.

ARCHITECTURE | INTERIOR *| *SUSTAINABLE *|* DESIGN

Address: HaNasi 28A, Apt. 6*,* Haifa, Israel *|* Tel: +972-54-6314584
Website: http://www.bshara-arch.com *|* e-mail: bshara at gmail.com *|*
LinkedIn <http://il.linkedin.com/pub/bshara-rezik/20/726/981>


On Thu, Nov 12, 2015 at 5:01 PM, Germ?n Molina Larrain <germolinal at gmail.com
> wrote:

> Hi Rob,
>
> I do not really like promoting myself, but there is another SketchUp
> plugin out there (groundhog, www.groundhogproject.org) that might help
> you overcome the challenges you are finding with su2rad...? I honestly do
> not know, because I have not used su2rad in a very long time, but I can
> tell you that I am using Groundhog succesfully on SU2015.
>
> About the Revit to Radiance plugin, I actually thought on developing it a
> while ago, after an important person on the industry recommended it.
> However, I do not use Windows, do not have a Revit license and did not have
> the resources to work on a project like that. As I mentioned, someone on
> the industry asked about it, so I have to agree in that there are
> incentives to do it.
>
> Best,
>
> Germ?n
>
>
>
> 2015-11-12 11:35 GMT-03:00 Shakespeare, Robert A. <shakespe at indiana.edu>:
>
>> At the last Radiance Workshop, there was some discussion regarding
>> converting REVIT models to Radiance, with materials and named surfaces
>> parsed into readable .rad datasets.  As REVIT has essentially become the
>> architectural industry modeling tool, the pipeline to Radiance is an
>> important one.  It seems that the latest version of Sketchup has some
>> challenges with the very helpful su2rad, written quite awhile ago. I heard
>> that others were using some other pipelines, perhaps integrating obj2rad,
>> etc.
>> I would appreciate your sharing conversion pipelines which interface with
>> the MOST CURRENT releases of REVIT, SKETCHUP, etc. Hopefully a generous and
>> expert code person would consider writing a direct REVIT plugin for this
>> purpose. There might be modest financial encouragement to fill this gap. I
>> do realize that it may be short-lived as AutoDESK releases are moving
>> targets, yet to engage the full Radiance tool kit for lighting design and
>> analysis on REVIT generated models, will keep  Radiance on the forefront
>> and accessible to a broader audience.
>> Appreciatively,
>> Rob Shakespeare
>> shakespe at indiana.edu
>>
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151112/ad482c59/attachment-0001.html>

From jedev at visarc.com  Thu Nov 12 07:47:12 2015
From: jedev at visarc.com (Jack de Valpine)
Date: Thu, 12 Nov 2015 10:47:12 -0500
Subject: [Radiance-general] REVIT to Radiance pipeline
In-Reply-To: <D26A0DCD.31AC8%shakespe@indiana.edu>
References: <D26A0DCD.31AC8%shakespe@indiana.edu>
Message-ID: <5644B480.6050902@visarc.com>

Hi Rob,

So this is interesting. I have been working with Revit for awhile now, 
both in terms of taking Revit models that clients have developed as well 
as using Revit for developing models from scratch. By far the best 
workflow that I have worked out is to use Revit->Max Design->Radiance 
via obj export from Max Design and obj2rad in Radiance.

There are a couple of workflow options from Revit to Max that are pretty 
tightly coupled in the software. There are also a variety of scripts 
already developed for exporting from Max to obj format in a variety of 
ways. The presumption here is that people who use Revit are in fact 
using one of Autodesk's Suites, such as the Building Design Suite which 
at one level includes Max. If you are using Revit within a suite via 
Autodesk subscription the cost for moving up to get access to Max is 
incremental.

In my mind the big challenge for workflow from Revit to Radiance is the 
fact that glass in Revit is modeled as a volumetric object (eg it has 
thickness). There are work arounds to this that leverage Revit's Family 
system however they are not without their catches. In brief, a Revit 
model that is going to be exported for use in Radiance must give careful 
consideration to how glazing elements are handled through a set of 
customized families that allow for extracting selected faces from the 
glass to create the surface glass geometry that Radiance requires. Again 
this can be done with some thought to modeling methods in Revit and 
coupled with an export pipeline that includes  Max and exporting to obj 
format.

Another issue that requires some thought is managing lights that are 
deployed in Revit, which would be nice to manage as instances in 
Radiance. There are some similar strategies that can be used with 
careful thought to using the Family model in Revit.

This has been something I have been thinking about doing a blog post on, 
so perhaps this would be a good time assuming I can find the time....

As far as writing a custom exporter from Revit, I think this would 
really be dependent on what the desired functionality would be. If the 
functionality is really one way geometry export then, I think the 
(annual) incremental cost for upgrading from the standard building 
design suite to the premium suite is ~$250.

Best,

-Jack de Valpine




On 11/12/2015 9:35 AM, Shakespeare, Robert A. wrote:
> At the last Radiance Workshop, there was some discussion regarding 
> converting REVIT models to Radiance, with materials and named surfaces 
> parsed into readable .rad datasets.  As REVIT has essentially become 
> the architectural industry modeling tool, the pipeline to Radiance is 
> an important one.  It seems that the latest version of Sketchup has 
> some challenges with the very helpful su2rad, written quite awhile 
> ago. I heard that others were using some other pipelines, perhaps 
> integrating obj2rad, etc.
> I would appreciate your sharing conversion pipelines which interface 
> with the MOST CURRENT releases of REVIT, SKETCHUP, etc. Hopefully a 
> generous and expert code person would consider writing a direct REVIT 
> plugin for this purpose. There might be modest financial encouragement 
> to fill this gap. I do realize that it may be short-lived as AutoDESK 
> releases are moving targets, yet to engage the full Radiance tool kit 
> for lighting design and analysis on REVIT generated models, will keep 
>  Radiance on the forefront and accessible to a broader audience.
> Appreciatively,
> Rob Shakespeare
> shakespe at indiana.edu
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151112/49d86a69/attachment.html>

From rmfritz3 at gmail.com  Fri Nov 13 06:05:36 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Fri, 13 Nov 2015 06:05:36 -0800
Subject: [Radiance-general] REVIT to Radiance pipeline
In-Reply-To: <5644B480.6050902@visarc.com>
References: <D26A0DCD.31AC8%shakespe@indiana.edu> <5644B480.6050902@visarc.com>
Message-ID: <CANeAMoKkwstSR04rbPraiHCVUwDjJPLLWNPEQdgveaA755gePg@mail.gmail.com>

Now, when I did this, I ended up using the export to DWG and working on the
resulting model in Rhino; a colleague did the same with SketchtUp.  The
general problem I found with exports from Revit is that one gets hugely
more information than one needs, resulting in a large and unwieldy model
which must be simplified for effective simulation. For simple models,
sometimes it is easier to refer to plan and section drawings and rebuild
the model entirely!

An excellent custom exporter is most likely possible. Revit keeps a huge
amount of information about the details of its models, and it seems to me
that in principle it is possible to do a thorough and accurate Radiance
export of any part of a Revit model. Revit exposes some of its internals
with a Python interface, and there are also tools like BIMlink (Ideate
Software) which provides access to Revit's internal databases through
Excel. However, developing dedicated Revit <-> Radiance export tools seems
to me likely to be expensive and hence would probably have to be done as a
commercial product. At least, I wouldn't want to try it without good
funding ? extensive knowledge of Revit would be required, and that
information is not available for free.

-- 
Randolph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151113/d41b5612/attachment.html>

From Christopher.Rush at arup.com  Fri Nov 13 07:33:22 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 13 Nov 2015 15:33:22 +0000
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <CAKGV-k3mDxc7yO72+mYwf2PCg8efgUfU6C53TOk9ZAPNtDn=TQ@mail.gmail.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3mDxc7yO72+mYwf2PCg8efgUfU6C53TOk9ZAPNtDn=TQ@mail.gmail.com>
Message-ID: <88079A360FAC7441AE93ECBF6199823629977C4D@AMXExMb02.global.arup.com>

If you want to try Thomas? recommendation, look in the IES file for a pair of lines just below the header that look like this. I?m borrowing the example out of Ian Ashdown?s ?Thinking Photometrically Part II? which you can easily find online.
1 50000 1 5 3 1 1 .5 .6 0
1.0 1.0 495

In that example the 50000 represents number of lumens (now sometimes noted as -1 for LED luminaires tested differently), 495 represents number of Watts, and the values 0.5, 0.6, 0 represent the X, Y, and Z dimensions of a rectangular luminaire. In some cases, certain dimensional values could be given as negative, which signifies various types of rounded shapes for interpretation by software.

You can freely change the XYZ values in the IES file without affecting the data. Only when you import the IES file through IES2RAD (or into Dialux, AGI, etc.) does software interpret the dimensions and apply the brightness functions across the appropriate surface areas given by the dimensions.

-Chris



From: Thomas Bleicher [mailto:tbleicher at gmail.com]
Sent: Wednesday, November 11, 2015 8:47 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Luminaire modelling using Radiance

German

Have you tried to change the geometry identifier in the IES file to indicate a box geometry. I am a bit rusty on the specs but I don't think anything else depends on this information so the change should be simple to do. The transformation in a Radiance box is then done by ies2rad.

Regards,
Thomas

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151113/efd50505/attachment.html>

From Christopher.Rush at arup.com  Fri Nov 13 07:45:14 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 13 Nov 2015 15:45:14 +0000
Subject: [Radiance-general] REVIT to Radiance pipeline
In-Reply-To: <CANeAMoKkwstSR04rbPraiHCVUwDjJPLLWNPEQdgveaA755gePg@mail.gmail.com>
References: <D26A0DCD.31AC8%shakespe@indiana.edu> <5644B480.6050902@visarc.com>
	<CANeAMoKkwstSR04rbPraiHCVUwDjJPLLWNPEQdgveaA755gePg@mail.gmail.com>
Message-ID: <88079A360FAC7441AE93ECBF6199823629977C84@AMXExMb02.global.arup.com>

I typically do what Randolph does, exporting to DWG and using Rhino to assign materials and convert to OBJ. A shortfall of this is that you get an exported DWG organized by layers, and possibly loose or confuse some material assignments from Revit in the process. There is an option in exporting the DWG from Revit to export options by one of the layering standards but with overrides for each unique property within a layer (getting layers like A-WALL, A-WALL-1, A-WALL-2 for different wall construction types).

I wonder if exporting from Revit to FBX preserves some of those materials or construction data for each surface more directly than the layer organization. I haven?t had luck with the FBX export workflow in the few times I tried it (long ago). The FBX file standard might remain more standard and stable with each new release of Revit because I think it?s meant to be something like a parallel to DXF (DWG is to DXF, as RVT is to FBX in my mind, but I could be wrong).

If we all were interested in making the first workflow more open source (aka less costly), could probably do the same with Blender (in lieu of Rhino or Max). But that?s still relying on DXF or DWG and the possible loss of material information. However the material information directly in a Revit model is probably not to be trusted anyway. Just because something is assigned ?paint type 1? or whatever it might be, doesn?t help decide the material.

For possibilities of automation, etc., a strength of Rhino is that RhinoScript (and maybe Grasshopper) give a scripting possibility to do things like flatten glass assemblies in that software. I guess the same could be said for Sketchup and Ruby, but Rhino seems to be more prevalent with architects these days. Maybe the same could be done for Blender but I?m not particularly familiar with scripting possibilities in Blender.

-Chris





From: Randolph M. Fritz [mailto:rmfritz3 at gmail.com]
Sent: Friday, November 13, 2015 9:06 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] REVIT to Radiance pipeline

Now, when I did this, I ended up using the export to DWG and working on the resulting model in Rhino; a colleague did the same with SketchtUp.  The general problem I found with exports from Revit is that one gets hugely more information than one needs, resulting in a large and unwieldy model which must be simplified for effective simulation. For simple models, sometimes it is easier to refer to plan and section drawings and rebuild the model entirely!

An excellent custom exporter is most likely possible. Revit keeps a huge amount of information about the details of its models, and it seems to me that in principle it is possible to do a thorough and accurate Radiance export of any part of a Revit model. Revit exposes some of its internals with a Python interface, and there are also tools like BIMlink (Ideate Software) which provides access to Revit's internal databases through Excel. However, developing dedicated Revit <-> Radiance export tools seems to me likely to be expensive and hence would probably have to be done as a commercial product. At least, I wouldn't want to try it without good funding ? extensive knowledge of Revit would be required, and that information is not available for free.

--
Randolph
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151113/15e945f6/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Fri Nov 13 07:59:34 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 13 Nov 2015 15:59:34 +0000
Subject: [Radiance-general] Luminaire modelling using Radiance
In-Reply-To: <88079A360FAC7441AE93ECBF6199823629977C4D@AMXExMb02.global.arup.com>
References: <CAF-iH4JrynBLgZXzG=yg84_xz_Samwx5Uv_o9=OR_hCZVyqvaA@mail.gmail.com>
	<CAKGV-k3mDxc7yO72+mYwf2PCg8efgUfU6C53TOk9ZAPNtDn=TQ@mail.gmail.com>
	<88079A360FAC7441AE93ECBF6199823629977C4D@AMXExMb02.global.arup.com>
Message-ID: <D26B553D.1F7FB%Robert.Guglielmetti@nrel.gov>

That's right, you can use the geometry fields to describe the shape of the "luminous opening" as it says in the IES doc (LM-63). These change the geometry, but do not at all affect the luminous flux. By changing the geometry fields you can end up with a decent approximation of the illum bounding box or sphere you need. With the lampcolor utility, you can get reasonable values for the glow materials you need to apply to the proxy lamp or lens geometry you have contained by the illum(s). Finally with proper use of the cal files (lboxcorr et al.) you can essentially map the candelas to the illums. So there's a bit of hand editing required after the initial IES2RAD step if you really want the appearance of the luminaries to be proper.

On 11/13/15, 8:33 AM, "Christopher Rush" <Christopher.Rush at arup.com<mailto:Christopher.Rush at arup.com>> wrote:

If you want to try Thomas' recommendation, look in the IES file for a pair of lines just below the header that look like this. I'm borrowing the example out of Ian Ashdown's "Thinking Photometrically Part II" which you can easily find online.
1 50000 1 5 3 1 1 .5 .6 0
1.0 1.0 495

In that example the 50000 represents number of lumens (now sometimes noted as -1 for LED luminaires tested differently), 495 represents number of Watts, and the values 0.5, 0.6, 0 represent the X, Y, and Z dimensions of a rectangular luminaire. In some cases, certain dimensional values could be given as negative, which signifies various types of rounded shapes for interpretation by software.

You can freely change the XYZ values in the IES file without affecting the data. Only when you import the IES file through IES2RAD (or into Dialux, AGI, etc.) does software interpret the dimensions and apply the brightness functions across the appropriate surface areas given by the dimensions.

-Chris




From pkh0128 at eis.hokudai.ac.jp  Sat Nov 14 11:07:53 2015
From: pkh0128 at eis.hokudai.ac.jp (=?UTF-8?B?5p2J5Y6f5oWn?=)
Date: Sun, 15 Nov 2015 04:07:53 +0900
Subject: [Radiance-general] 3 phase method
Message-ID: <CA+p6VnSvb3zmZiUqDk1GP7a8LEzfpBco_zSFgwNfXmp9Dajr-g@mail.gmail.com>

Dear all

I'm new in 3 phase method. I have some problems during the procedure in the
manual.
I already got the good result in Example 1 and Example 2. the we are trying
our model generated by GIS data.
the final result by "rcalc -e '$1=$1;$2=$2;$3=$3' is as follows

0 0 0 0
0 0 0 0
0 2015 3 0
0 2015 18 0
0 0 0 0
0 0 0 0
0 0 0 0
0 0 0 0
0 0 0 0
0.4684572 0.4684572 0.4684572 0
1.089234 1.089234 1.089234 0
1.797346 1.797346 1.797346 0
2.416459 2.416459 2.416459 0
0.231454 0.231454 0.231454 0
0.4810487 0.4810487 0.4810487 0

the last 6 rows would be the result of calculation.
Do you know what it means the former 9 rows. Or do we have any mistake
during the procedure?

Also, we use the following text as pts file. we believe the last three
colums are the orientation of sensor.
Is it OK? In the case of OK, Our above results have some error, because we
have large window on the east side.
Does someone knows what we should do?

-3.2387 0.2699 1 0 0 -1
-3.2387 0.2699 1 0 0 1
-3.2387 0.2699 1 0 1 0
-3.2387 0.2699 1 1 0 0
-3.2387 0.2699 1 -1 0 0
-3.2387 0.2699 1 0 -1 0
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151115/87de6191/attachment.html>

From gregoryjward at gmail.com  Sat Nov 14 11:12:30 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 14 Nov 2015 09:12:30 -1000
Subject: [Radiance-general] 3 phase method
In-Reply-To: <CA+p6VnSvb3zmZiUqDk1GP7a8LEzfpBco_zSFgwNfXmp9Dajr-g@mail.gmail.com>
References: <CA+p6VnSvb3zmZiUqDk1GP7a8LEzfpBco_zSFgwNfXmp9Dajr-g@mail.gmail.com>
Message-ID: <91CF819E-2946-4375-9197-E5B0BD14FA53@lmi.net>

Welcome!

As there are different versions of this tutorial floating around, we need to know the exact command sequence you used and what operating systems (OS X, Windows, Linux, etc.) you are using to answer your question.

Also, it would be nice to know your name, as many of us do not read Japanese.

Best,
-Greg

> From: ??? <pkh0128 at eis.hokudai.ac.jp>
> Subject: [Radiance-general] 3 phase method
> Date: November 14, 2015 9:07:53 AM HST
> 
> Dear all
> 
> I'm new in 3 phase method. I have some problems during the procedure in the manual.
> I already got the good result in Example 1 and Example 2. the we are trying our model generated by GIS data.
> the final result by "rcalc -e '$1=$1;$2=$2;$3=$3' is as follows
> 
> 0 0 0 0
> 0 0 0 0
> 0 2015 3 0
> 0 2015 18 0
> 0 0 0 0
> 0 0 0 0
> 0 0 0 0
> 0 0 0 0
> 0 0 0 0
> 0.4684572 0.4684572 0.4684572 0
> 1.089234 1.089234 1.089234 0
> 1.797346 1.797346 1.797346 0
> 2.416459 2.416459 2.416459 0
> 0.231454 0.231454 0.231454 0
> 0.4810487 0.4810487 0.4810487 0
> 
> the last 6 rows would be the result of calculation.
> Do you know what it means the former 9 rows. Or do we have any mistake during the procedure?
> 
> Also, we use the following text as pts file. we believe the last three colums are the orientation of sensor.
> Is it OK? In the case of OK, Our above results have some error, because we have large window on the east side.
> Does someone knows what we should do?
> 
> -3.2387 0.2699 1 0 0 -1
> -3.2387 0.2699 1 0 0 1
> -3.2387 0.2699 1 0 1 0
> -3.2387 0.2699 1 1 0 0
> -3.2387 0.2699 1 -1 0 0
> -3.2387 0.2699 1 0 -1 0
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151114/7c35a162/attachment.html>

From mcneil.andrew at gmail.com  Sat Nov 14 15:54:35 2015
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Sat, 14 Nov 2015 20:54:35 -0300
Subject: [Radiance-general] 3 phase method
In-Reply-To: <91CF819E-2946-4375-9197-E5B0BD14FA53@lmi.net>
References: <CA+p6VnSvb3zmZiUqDk1GP7a8LEzfpBco_zSFgwNfXmp9Dajr-g@mail.gmail.com>
	<91CF819E-2946-4375-9197-E5B0BD14FA53@lmi.net>
Message-ID: <CAEFJVk9Cc78TW-3pzqxD=BT93nNxCX_THZrDG_tmY_Bh2pRerw@mail.gmail.com>

Dear ??? or pkh0128,  :)

I suspect that your first problem is caused by matrix headers, which are
new since the tutorial was written. The first 9 rows are likely the result
of rcalc processing the header in a way that was not meant to be processed.
I suggest either using getinfo to remove the header, or use rmtxop to
combine the matrices.

cat yourmatrix.mtx | getinfo - | rcalc -e '$1=$1;$2=$2;$3=$3''

If you are piping from rlam or something directly into rcalc just insert
the getinfo part (don't use cat).

For the second part of your question, yes the last three values are the
sensor orientation. It is difficult to suggest a fix since we don't know
anything about your problem. Please describe more about your model, your
commands, your result, and why you think the result is incorrect.

Best,
Andy



On Sat, Nov 14, 2015 at 4:12 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Welcome!
>
> As there are different versions of this tutorial floating around, we need
> to know the exact command sequence you used and what operating systems (OS
> X, Windows, Linux, etc.) you are using to answer your question.
>
> Also, it would be nice to know your name, as many of us do not read
> Japanese.
>
> Best,
> -Greg
>
> *From: *??? <pkh0128 at eis.hokudai.ac.jp>
>
> *Subject: *[Radiance-general] 3 phase method
>
> *Date: *November 14, 2015 9:07:53 AM HST
>
>
> Dear all
>
> I'm new in 3 phase method. I have some problems during the procedure in
> the manual.
> I already got the good result in Example 1 and Example 2. the we are
> trying our model generated by GIS data.
> the final result by "rcalc -e '$1=$1;$2=$2;$3=$3' is as follows
>
> 0 0 0 0
> 0 0 0 0
> 0 2015 3 0
> 0 2015 18 0
> 0 0 0 0
> 0 0 0 0
> 0 0 0 0
> 0 0 0 0
> 0 0 0 0
> 0.4684572 0.4684572 0.4684572 0
> 1.089234 1.089234 1.089234 0
> 1.797346 1.797346 1.797346 0
> 2.416459 2.416459 2.416459 0
> 0.231454 0.231454 0.231454 0
> 0.4810487 0.4810487 0.4810487 0
>
> the last 6 rows would be the result of calculation.
> Do you know what it means the former 9 rows. Or do we have any mistake
> during the procedure?
>
> Also, we use the following text as pts file. we believe the last three
> colums are the orientation of sensor.
> Is it OK? In the case of OK, Our above results have some error, because we
> have large window on the east side.
> Does someone knows what we should do?
>
> -3.2387 0.2699 1 0 0 -1
> -3.2387 0.2699 1 0 0 1
> -3.2387 0.2699 1 0 1 0
> -3.2387 0.2699 1 1 0 0
> -3.2387 0.2699 1 -1 0 0
> -3.2387 0.2699 1 0 -1 0
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151114/a8ed4e97/attachment.html>

From rn.labib at gmail.com  Fri Nov 13 21:46:49 2015
From: rn.labib at gmail.com (Rania Labib)
Date: Fri, 13 Nov 2015 23:46:49 -0600
Subject: [Radiance-general] Learning to use Radiance in Windows and Rasberry
	Pi environments
Message-ID: <CAK3+is0yRJhEeKiPfhHtsbGNJ=rLMGVEfYzuaOZ8cC43GSEAJg@mail.gmail.com>

Hi there,

I'm going to start using Radiance for daylighting analysis and HDR
renderings, I am going to write a custom program on Rasberry Pi using
Python. Here is the thing, I have never used Radiance before in Linux, I
only used Desktop Radiance, and I have great knowledge about daylighting,
glare, HDR, ...etc. Can anyone point me toward resources and tutorials that
can help me startup with my little program?. I'm also willing to pay if
anyone is interested in giving me a private tutorial via Skype, or any
other method. Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151113/356ccbc9/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon Nov 16 09:46:01 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 16 Nov 2015 17:46:01 +0000
Subject: [Radiance-general] Learning to use Radiance in Windows and
 Rasberry Pi environments
In-Reply-To: <CAK3+is0yRJhEeKiPfhHtsbGNJ=rLMGVEfYzuaOZ8cC43GSEAJg@mail.gmail.com>
References: <CAK3+is0yRJhEeKiPfhHtsbGNJ=rLMGVEfYzuaOZ8cC43GSEAJg@mail.gmail.com>
Message-ID: <D26F6399.1F8B7%Robert.Guglielmetti@nrel.gov>

It might help if you explain a little bit more about your project, e.g. Where does the Rasberry Pi come in? Is it a controller for a camera (for HDR image sequences), or a data logger, or are you planning to make a cluster of Rasberry Pi units??

On 11/13/15, 10:46 PM, "Rania Labib" <rn.labib at gmail.com<mailto:rn.labib at gmail.com>> wrote:

Hi there,

I'm going to start using Radiance for daylighting analysis and HDR renderings, I am going to write a custom program on Rasberry Pi using Python. Here is the thing, I have never used Radiance before in Linux, I only used Desktop Radiance, and I have great knowledge about daylighting, glare, HDR, ...etc. Can anyone point me toward resources and tutorials that can help me startup with my little program?. I'm also willing to pay if anyone is interested in giving me a private tutorial via Skype, or any other method. Thanks


From minchen.wei at polyu.edu.hk  Tue Nov 17 05:17:17 2015
From: minchen.wei at polyu.edu.hk (WEI, Minchen [BSE])
Date: Tue, 17 Nov 2015 13:17:17 +0000
Subject: [Radiance-general] Model from "Understanding rtcontrib"
Message-ID: <HK2PR0201MB0961E1C4E0CD450A2E411FE5CD1D0@HK2PR0201MB0961.apcprd02.prod.outlook.com>

Dear all,

I am looking at the three-phase tutorial, which uses Axel's model from "Understanding rtcontrib". I know Axel removed it from his website, wondering who still has it and can share it with me?

Thanks,

Tommy

[http://mlm.polyu.edu.hk/intimate/templates/images/PolyU/PolyU_Email_Signature.jpg]

Disclaimer:

This message (including any attachments) contains confidential information intended for a specific individual and purpose. If you are not the intended recipient, you should delete this message and notify the sender and The Hong Kong Polytechnic University (the University) immediately. Any disclosure, copying, or distribution of this message, or the taking of any action based on it, is strictly prohibited and may be unlawful.

The University specifically denies any responsibility for the accuracy or quality of information obtained through University E-mail Facilities. Any views and opinions expressed are only those of the author(s) and do not necessarily represent those of the University and the University accepts no liability whatsoever for any losses or damages incurred or caused to any party as a result of the use of such information.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151117/b256d494/attachment.html>

From kskonis at gmail.com  Tue Nov 17 13:26:24 2015
From: kskonis at gmail.com (Kyle Konis)
Date: Tue, 17 Nov 2015 13:26:24 -0800
Subject: [Radiance-general] evalglare: Bad CPU type in executable
Message-ID: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>

Dear list,

I recently tried using evalglare on my mac (OS X Mavericks 10.9.5) and
received the following feedback from the terminal (when entering
evalglare -v)

/usr/local/ray/bin/evalglare: *Bad CPU type in executable*

A quick google of this kind of error suggests that i need an updated binary
file, or need to compile evalglare from source on my machine
https://discussions.apple.com/thread/6130828

I though it would be problem solved by installing the new Radiance binaries
from NREL
https://github.com/NREL/Radiance/releases

But i get the same error

Any suggestions here?

best,

-Kyle
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151117/e83bcfb5/attachment.html>

From jan.wienold at epfl.ch  Tue Nov 17 13:43:48 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Tue, 17 Nov 2015 22:43:48 +0100
Subject: [Radiance-general] evalglare: Bad CPU type in executable
In-Reply-To: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>
References: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>
Message-ID: <5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>

hi kyle,
did you try to compile radiance as well?
i just did it yesterday (official 5.0 release) for mavericks and yosemite and both installed completely (including evalglare v17) without problems in less than 3min.
(of course you need the xcode and x11 package as well).
Jan



On November 17, 2015 10:26:24 PM CET, Kyle Konis <kskonis at gmail.com> wrote:
>Dear list,
>
>I recently tried using evalglare on my mac (OS X Mavericks 10.9.5) and
>received the following feedback from the terminal (when entering
>evalglare -v)
>
>/usr/local/ray/bin/evalglare: *Bad CPU type in executable*
>
>A quick google of this kind of error suggests that i need an updated
>binary
>file, or need to compile evalglare from source on my machine
>https://discussions.apple.com/thread/6130828
>
>I though it would be problem solved by installing the new Radiance
>binaries
>from NREL
>https://github.com/NREL/Radiance/releases
>
>But i get the same error
>
>Any suggestions here?
>
>best,
>
>-Kyle
>
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail gesendet.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151117/64e83ee1/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Nov 17 13:54:39 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 17 Nov 2015 21:54:39 +0000
Subject: [Radiance-general] evalglare: Bad CPU type in executable
In-Reply-To: <5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>
References: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>
	<5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>
Message-ID: <D270EF79.1FAC2%Robert.Guglielmetti@nrel.gov>

Hey Kyle,

Also, which NREL version did you try? The latest Mac installer on the NREL site was built on my system here, same as yours (Mavericks 10.9.5), and I get:

$ evalglare -v
evalglare 1.17 release 15.07.2015 by EPFL, J.Wienold



On 11/17/15, 2:43 PM, "Jan Wienold" <jan.wienold at epfl.ch<mailto:jan.wienold at epfl.ch>> wrote:

hi kyle,
did you try to compile radiance as well?
i just did it yesterday (official 5.0 release) for mavericks and yosemite and both installed completely (including evalglare v17) without problems in less than 3min.
(of course you need the xcode and x11 package as well).
Jan



On November 17, 2015 10:26:24 PM CET, Kyle Konis <kskonis at gmail.com<mailto:kskonis at gmail.com>> wrote:
Dear list,

I recently tried using evalglare on my mac (OS X Mavericks 10.9.5) and received the following feedback from the terminal (when entering    evalglare -v)

/usr/local/ray/bin/evalglare: Bad CPU type in executable

A quick google of this kind of error suggests that i need an updated binary file, or need to compile evalglare from source on my machine
https://discussions.apple.com/thread/6130828

I though it would be problem solved by installing the new Radiance binaries from NREL
https://github.com/NREL/Radiance/releases

But i get the same error

Any suggestions here?

best,

-Kyle



________________________________

Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

--
Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail gesendet.


From kskonis at gmail.com  Tue Nov 17 14:13:51 2015
From: kskonis at gmail.com (Kyle Konis)
Date: Tue, 17 Nov 2015 14:13:51 -0800
Subject: [Radiance-general] evalglare: Bad CPU type in executable
In-Reply-To: <5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>
References: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>
	<5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>
Message-ID: <CAAzVHq0QKeY=Ok--pM=xwEQ68YKYtEZM6V3S1DRQCZxiD74Enw@mail.gmail.com>

Hi Jan and Rob,

Thanks for the quick response,

No, i just used the NREL installers . . .

Specifically : *radiance-5.0.0-Darwin.dmg*
<https://github.com/NREL/Radiance/releases/download/5.0/radiance-5.0.0-Darwin.dmg>

from
https://github.com/NREL/Radiance/releases/tag/5.0

But here's a clue . . .

Since i have an old version of evalglare (and radiance) on my machine, i
deleted evalglare just to see if the installer would replace it.

I also deleted the radiance program "total"

I opened the radiance installer and followed all the steps, and got the
"Installation was successful"  screen.

However no evalglare in /usr/local/ray/bin/evalglare

and no /usr/local/ray/bin/total

So i think my prior issue is probably that i had a very old version of
evalglare on my machine.

And the new issue is that i am expecting the installer to overwrite the
files in /usr/local/ray/bin/ and it seems to not be doing this ( ? )


-Kyle

On Tue, Nov 17, 2015 at 1:43 PM, Jan Wienold <jan.wienold at epfl.ch> wrote:

> hi kyle,
> did you try to compile radiance as well?
> i just did it yesterday (official 5.0 release) for mavericks and yosemite
> and both installed completely (including evalglare v17) without problems in
> less than 3min.
> (of course you need the xcode and x11 package as well).
> Jan
>
>
>
> On November 17, 2015 10:26:24 PM CET, Kyle Konis <kskonis at gmail.com>
> wrote:
>
>> Dear list,
>>
>> I recently tried using evalglare on my mac (OS X Mavericks 10.9.5) and
>> received the following feedback from the terminal (when entering
>> evalglare -v)
>>
>> /usr/local/ray/bin/evalglare: *Bad CPU type in executable*
>>
>> A quick google of this kind of error suggests that i need an updated
>> binary file, or need to compile evalglare from source on my machine
>> https://discussions.apple.com/thread/6130828
>>
>> I though it would be problem solved by installing the new Radiance
>> binaries from NREL
>> https://github.com/NREL/Radiance/releases
>>
>> But i get the same error
>>
>> Any suggestions here?
>>
>> best,
>>
>> -Kyle
>>
>>
>> ------------------------------
>>
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> --
> Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail
> gesendet.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151117/900dcc25/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Nov 17 14:26:20 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 17 Nov 2015 22:26:20 +0000
Subject: [Radiance-general] evalglare: Bad CPU type in executable
In-Reply-To: <CAAzVHq0QKeY=Ok--pM=xwEQ68YKYtEZM6V3S1DRQCZxiD74Enw@mail.gmail.com>
References: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>
	<5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>
	<CAAzVHq0QKeY=Ok--pM=xwEQ68YKYtEZM6V3S1DRQCZxiD74Enw@mail.gmail.com>
Message-ID: <D270F5FA.1FACC%Robert.Guglielmetti@nrel.gov>

By default, the NREL Mac installer puts everything in:

/usr/local/radiance/bin (programs)
/usr/local/radiance/lib (library/cal files)
/usr/local/radiance/man (little green men and manual pages)

So yeah, you need to update your environment ($PATH and $RAYPATH) or change the installation location (which I'm 97% certain you can do with the installer (and that it works)) to match your environment.

You can always check to see what your system is using for executables by typing "which <program_name>" at the cli, which returns the full pathname of the system executable (regardless of how many versions you have scattered about), e.g.:

$ which evalglare
/usr/local/radiance/bin/evalglare

I'd also get the latest installer while you're at it:

https://github.com/NREL/Radiance/releases/tag/5.0.a.6

HTH!

- Rob


On 11/17/15, 3:13 PM, "Kyle Konis" <kskonis at gmail.com<mailto:kskonis at gmail.com>> wrote:

Hi Jan and Rob,

Thanks for the quick response,

No, i just used the NREL installers . . .

Specifically : radiance-5.0.0-Darwin.dmg<https://github.com/NREL/Radiance/releases/download/5.0/radiance-5.0.0-Darwin.dmg>

from
https://github.com/NREL/Radiance/releases/tag/5.0

But here's a clue . . .

Since i have an old version of evalglare (and radiance) on my machine, i deleted evalglare just to see if the installer would replace it.

I also deleted the radiance program "total"

I opened the radiance installer and followed all the steps, and got the "Installation was successful"  screen.

However no evalglare in /usr/local/ray/bin/evalglare

and no /usr/local/ray/bin/total

So i think my prior issue is probably that i had a very old version of evalglare on my machine.

And the new issue is that i am expecting the installer to overwrite the files in /usr/local/ray/bin/ and it seems to not be doing this ( ? )


-Kyle

On Tue, Nov 17, 2015 at 1:43 PM, Jan Wienold <jan.wienold at epfl.ch<mailto:jan.wienold at epfl.ch>> wrote:
hi kyle,
did you try to compile radiance as well?
i just did it yesterday (official 5.0 release) for mavericks and yosemite and both installed completely (including evalglare v17) without problems in less than 3min.
(of course you need the xcode and x11 package as well).
Jan



On November 17, 2015 10:26:24 PM CET, Kyle Konis <kskonis at gmail.com<mailto:kskonis at gmail.com>> wrote:
Dear list,

I recently tried using evalglare on my mac (OS X Mavericks 10.9.5) and received the following feedback from the terminal (when entering    evalglare -v)

/usr/local/ray/bin/evalglare: Bad CPU type in executable

A quick google of this kind of error suggests that i need an updated binary file, or need to compile evalglare from source on my machine
https://discussions.apple.com/thread/6130828

I though it would be problem solved by installing the new Radiance binaries from NREL
https://github.com/NREL/Radiance/releases

But i get the same error

Any suggestions here?

best,

-Kyle



________________________________

Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

--
Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail gesendet.

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general




From Christopher.Rush at arup.com  Tue Nov 17 14:45:35 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Tue, 17 Nov 2015 22:45:35 +0000
Subject: [Radiance-general] evalglare: Bad CPU type in executable
In-Reply-To: <D270F5FA.1FACC%Robert.Guglielmetti@nrel.gov>
References: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>
	<5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>
	<CAAzVHq0QKeY=Ok--pM=xwEQ68YKYtEZM6V3S1DRQCZxiD74Enw@mail.gmail.com>
	<D270F5FA.1FACC%Robert.Guglielmetti@nrel.gov>
Message-ID: <88079A360FAC7441AE93ECBF619982362997A891@AMXExMb02.global.arup.com>

Also you can try the command "type -a <program_name>" which will output multiple lines listing all instances of a program in order of priority the system will call them - in case you have competing instances in multiple locations and multiple PATHs defined.

-----Original Message-----
From: Guglielmetti, Robert [mailto:Robert.Guglielmetti at nrel.gov] 


You can always check to see what your system is using for executables by typing "which <program_name>" at the cli, which returns the full pathname of the system executable (regardless of how many versions you have scattered about), e.g.:

$ which evalglare
/usr/local/radiance/bin/evalglare


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses



From kskonis at gmail.com  Tue Nov 17 15:40:54 2015
From: kskonis at gmail.com (Kyle Konis)
Date: Tue, 17 Nov 2015 15:40:54 -0800
Subject: [Radiance-general] evalglare: Bad CPU type in executable
In-Reply-To: <D270F5FA.1FACC%Robert.Guglielmetti@nrel.gov>
References: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>
	<5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>
	<CAAzVHq0QKeY=Ok--pM=xwEQ68YKYtEZM6V3S1DRQCZxiD74Enw@mail.gmail.com>
	<D270F5FA.1FACC%Robert.Guglielmetti@nrel.gov>
Message-ID: <CAAzVHq1cP9tQbPPW1Mi5P8hctSgXx0PqPxAtuj2tW0pUebSiiw@mail.gmail.com>

Thanks to all,

In the end it was my own mind that needed an upgrade, as i forgot that the
NREL installers use (as Rob kindly pointed out),

/usr/local/radiance

and not

/usr/local/ray

which is hardwired into my brain for some reason.

Anyways, i am now happily evaluating glare!

-Kyle







On Tue, Nov 17, 2015 at 2:26 PM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> By default, the NREL Mac installer puts everything in:
>
> /usr/local/radiance/bin (programs)
> /usr/local/radiance/lib (library/cal files)
> /usr/local/radiance/man (little green men and manual pages)
>
> So yeah, you need to update your environment ($PATH and $RAYPATH) or
> change the installation location (which I'm 97% certain you can do with the
> installer (and that it works)) to match your environment.
>
> You can always check to see what your system is using for executables by
> typing "which <program_name>" at the cli, which returns the full pathname
> of the system executable (regardless of how many versions you have
> scattered about), e.g.:
>
> $ which evalglare
> /usr/local/radiance/bin/evalglare
>
> I'd also get the latest installer while you're at it:
>
> https://github.com/NREL/Radiance/releases/tag/5.0.a.6
>
> HTH!
>
> - Rob
>
>
> On 11/17/15, 3:13 PM, "Kyle Konis" <kskonis at gmail.com<mailto:
> kskonis at gmail.com>> wrote:
>
> Hi Jan and Rob,
>
> Thanks for the quick response,
>
> No, i just used the NREL installers . . .
>
> Specifically : radiance-5.0.0-Darwin.dmg<
> https://github.com/NREL/Radiance/releases/download/5.0/radiance-5.0.0-Darwin.dmg
> >
>
> from
> https://github.com/NREL/Radiance/releases/tag/5.0
>
> But here's a clue . . .
>
> Since i have an old version of evalglare (and radiance) on my machine, i
> deleted evalglare just to see if the installer would replace it.
>
> I also deleted the radiance program "total"
>
> I opened the radiance installer and followed all the steps, and got the
> "Installation was successful"  screen.
>
> However no evalglare in /usr/local/ray/bin/evalglare
>
> and no /usr/local/ray/bin/total
>
> So i think my prior issue is probably that i had a very old version of
> evalglare on my machine.
>
> And the new issue is that i am expecting the installer to overwrite the
> files in /usr/local/ray/bin/ and it seems to not be doing this ( ? )
>
>
> -Kyle
>
> On Tue, Nov 17, 2015 at 1:43 PM, Jan Wienold <jan.wienold at epfl.ch<mailto:
> jan.wienold at epfl.ch>> wrote:
> hi kyle,
> did you try to compile radiance as well?
> i just did it yesterday (official 5.0 release) for mavericks and yosemite
> and both installed completely (including evalglare v17) without problems in
> less than 3min.
> (of course you need the xcode and x11 package as well).
> Jan
>
>
>
> On November 17, 2015 10:26:24 PM CET, Kyle Konis <kskonis at gmail.com
> <mailto:kskonis at gmail.com>> wrote:
> Dear list,
>
> I recently tried using evalglare on my mac (OS X Mavericks 10.9.5) and
> received the following feedback from the terminal (when entering
> evalglare -v)
>
> /usr/local/ray/bin/evalglare: Bad CPU type in executable
>
> A quick google of this kind of error suggests that i need an updated
> binary file, or need to compile evalglare from source on my machine
> https://discussions.apple.com/thread/6130828
>
> I though it would be problem solved by installing the new Radiance
> binaries from NREL
> https://github.com/NREL/Radiance/releases
>
> But i get the same error
>
> Any suggestions here?
>
> best,
>
> -Kyle
>
>
>
> ________________________________
>
> Radiance-general mailing list
> Radiance-general at radiance-online.org<mailto:
> Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> --
> Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail
> gesendet.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org<mailto:
> Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151117/707107ae/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Nov 17 15:50:24 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 17 Nov 2015 23:50:24 +0000
Subject: [Radiance-general] evalglare: Bad CPU type in executable
In-Reply-To: <CAAzVHq1cP9tQbPPW1Mi5P8hctSgXx0PqPxAtuj2tW0pUebSiiw@mail.gmail.com>
References: <CAAzVHq05KVegMzMqkNhcZgHpqhD4L7B=5C-hb5gebDAjhPSaZg@mail.gmail.com>
	<5C393287-72AC-4BD1-95D7-4C286B803415@epfl.ch>
	<CAAzVHq0QKeY=Ok--pM=xwEQ68YKYtEZM6V3S1DRQCZxiD74Enw@mail.gmail.com>
	<D270F5FA.1FACC%Robert.Guglielmetti@nrel.gov>
	<CAAzVHq1cP9tQbPPW1Mi5P8hctSgXx0PqPxAtuj2tW0pUebSiiw@mail.gmail.com>
Message-ID: <D2710A96.1FADE%Robert.Guglielmetti@nrel.gov>

On 11/17/15, 4:40 PM, "Kyle Konis" <kskonis at gmail.com<mailto:kskonis at gmail.com>> wrote:

Thanks to all,

In the end it was my own mind that needed an upgrade, as i forgot that the NREL installers use (as Rob kindly pointed out),

/usr/local/radiance


*** To be clear, only the Mac installer does this. The Windows installer has Windowsy paths, and the Linux installer isn't an installer at all, it's just a tarball of everything. I wish these were more consistent and also were better about modifying the system environments for the user, but, whatever...



From perhaugaard at yahoo.dk  Thu Nov 19 00:39:55 2015
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Thu, 19 Nov 2015 08:39:55 +0000 (UTC)
Subject: [Radiance-general] How to represent a glazed surface in radiance
References: <1242338151.11558877.1447922395495.JavaMail.yahoo.ref@mail.yahoo.com>
Message-ID: <1242338151.11558877.1447922395495.JavaMail.yahoo@mail.yahoo.com>

Dear community,
A quick question. Which material for interior cladding would be the best to represent a material with a glazed surface?
Any input is much appreciated :)

/Per
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151119/c3440dac/attachment.html>

From Robert.Guglielmetti at nrel.gov  Thu Nov 19 07:00:16 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 19 Nov 2015 15:00:16 +0000
Subject: [Radiance-general] How to represent a glazed surface in radiance
In-Reply-To: <1242338151.11558877.1447922395495.JavaMail.yahoo@mail.yahoo.com>
References: <1242338151.11558877.1447922395495.JavaMail.yahoo.ref@mail.yahoo.com>
	<1242338151.11558877.1447922395495.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <D27331BA.1FB61%Robert.Guglielmetti@nrel.gov>

Hi Per,

I would guess a plastic with a high specularity value would behave the way you want...



On 11/19/15, 1:39 AM, "Per Haugaard" <perhaugaard at yahoo.dk<mailto:perhaugaard at yahoo.dk>> wrote:

Dear community,

A quick question. Which material for interior cladding would be the best to represent a material with a glazed surface?

Any input is much appreciated :)


/Per


From gregoryjward at gmail.com  Thu Nov 19 08:50:12 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 19 Nov 2015 08:50:12 -0800
Subject: [Radiance-general] How to represent a glazed surface in radiance
In-Reply-To: <D27331BA.1FB61%Robert.Guglielmetti@nrel.gov>
References: <1242338151.11558877.1447922395495.JavaMail.yahoo.ref@mail.yahoo.com>
	<1242338151.11558877.1447922395495.JavaMail.yahoo@mail.yahoo.com>
	<D27331BA.1FB61%Robert.Guglielmetti@nrel.gov>
Message-ID: <101F4304-AFAB-4FAC-9AA0-5C265C8B722D@lmi.net>

Unless the glaze is metallic, in which case using "metal" would be better to specify the specular color.  Even with a glazed surface, a non-metallic material shouldn't have a specularity above about 0.06 to be realistic.

-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Subject: Re: [Radiance-general] How to represent a glazed surface in radiance
> Date: November 19, 2015 7:00:16 AM PST
> 
> Hi Per,
> 
> I would guess a plastic with a high specularity value would behave the way you want...
> 
> 
> 
> On 11/19/15, 1:39 AM, "Per Haugaard" <perhaugaard at yahoo.dk<mailto:perhaugaard at yahoo.dk>> wrote:
> 
> Dear community,
> 
> A quick question. Which material for interior cladding would be the best to represent a material with a glazed surface?
> 
> Any input is much appreciated :)
> 
> 
> /Per
> 


From perhaugaard at yahoo.dk  Thu Nov 19 11:15:03 2015
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Thu, 19 Nov 2015 19:15:03 +0000 (UTC)
Subject: [Radiance-general] How to represent a glazed surface in radiance
In-Reply-To: <101F4304-AFAB-4FAC-9AA0-5C265C8B722D@lmi.net>
References: <101F4304-AFAB-4FAC-9AA0-5C265C8B722D@lmi.net>
Message-ID: <1079448339.12065942.1447960503321.JavaMail.yahoo@mail.yahoo.com>

Dear Greg an Robert,
Thank you very much for your quick and usefull answer.Have a nice weekend.

Best regards
Per Haugaard 


    Den 17:50 torsdag den 19. november 2015 skrev Greg Ward <gregoryjward at gmail.com>:
 

 Unless the glaze is metallic, in which case using "metal" would be better to specify the specular color.? Even with a glazed surface, a non-metallic material shouldn't have a specularity above about 0.06 to be realistic.

-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Subject: Re: [Radiance-general] How to represent a glazed surface in radiance
> Date: November 19, 2015 7:00:16 AM PST
> 
> Hi Per,
> 
> I would guess a plastic with a high specularity value would behave the way you want...
> 
> 
> 
> On 11/19/15, 1:39 AM, "Per Haugaard" <perhaugaard at yahoo.dk<mailto:perhaugaard at yahoo.dk>> wrote:
> 
> Dear community,
> 
> A quick question. Which material for interior cladding would be the best to represent a material with a glazed surface?
> 
> Any input is much appreciated :)
> 
> 
> /Per
> 

  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151119/ad15acec/attachment.html>

From Christopher.Rush at arup.com  Fri Nov 20 09:47:16 2015
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 20 Nov 2015 17:47:16 +0000
Subject: [Radiance-general] How to represent a glazed surface in radiance
In-Reply-To: <101F4304-AFAB-4FAC-9AA0-5C265C8B722D@lmi.net>
References: <1242338151.11558877.1447922395495.JavaMail.yahoo.ref@mail.yahoo.com>
	<1242338151.11558877.1447922395495.JavaMail.yahoo@mail.yahoo.com>
	<D27331BA.1FB61%Robert.Guglielmetti@nrel.gov>
	<101F4304-AFAB-4FAC-9AA0-5C265C8B722D@lmi.net>
Message-ID: <88079A360FAC7441AE93ECBF619982362997DCC0@AMXExMb02.global.arup.com>

Per,
For a little extra clarity, when you say "glazed" are you talking about glazed surface such as glazed terra cotta or similar, such as the way you would use the term in reference to pottery? Or are you referring to "glazed" such as being framed and covered in glass, like an opaque back-painted glass wall?

Greg,
If it were a glass with opaque paint on the back side, would you still say the 0.06 specularity would represent the mirror-like reflections from the smooth glass surface?

If it were glass with any type of reflective treatment it could obviously have higher specularity. What if the front face of the glass is 0.06 specularity but the wall behind the glass could also be high gloss paint and add another 0.06?

I'm probably getting beyond the level of what's possible to estimate without talking about specific materials. But maybe there's a little extra of the theory behind it to understand.



-----Original Message-----
From: Greg Ward [mailto:gregoryjward at gmail.com] 

Unless the glaze is metallic, in which case using "metal" would be better to specify the specular color.  Even with a glazed surface, a non-metallic material shouldn't have a specularity above about 0.06 to be realistic.

-Greg
____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses



From gregoryjward at gmail.com  Fri Nov 20 10:08:47 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 20 Nov 2015 10:08:47 -0800
Subject: [Radiance-general] How to represent a glazed surface in radiance
In-Reply-To: <88079A360FAC7441AE93ECBF619982362997DCC0@AMXExMb02.global.arup.com>
References: <1242338151.11558877.1447922395495.JavaMail.yahoo.ref@mail.yahoo.com>
	<1242338151.11558877.1447922395495.JavaMail.yahoo@mail.yahoo.com>
	<D27331BA.1FB61%Robert.Guglielmetti@nrel.gov>
	<101F4304-AFAB-4FAC-9AA0-5C265C8B722D@lmi.net>
	<88079A360FAC7441AE93ECBF619982362997DCC0@AMXExMb02.global.arup.com>
Message-ID: <35410F17-1872-4F17-B1AD-1748EB57B36E@lmi.net>

A regular piece of glass has about 4% front-surface reflection, so glazing a material (where you create a single dielectric interface) typically matches this 4%.  If the outer surface is smooth, which is the general reason you would glaze something, then you get nice highlights due to low scattering rather than the amount of light that is reflected.  The amount of light reflected also increases towards grazing due to Fresnel's law, which is modeled correctly by "metal" and "plastic" when the roughness is zero.

To get two dielectric surfaces, which would add to 8% or so as you suggest, you would need the coating to not quite meld with the underlayer.  This is what plastic wrap looks like on a surface, and is not generally what people go for when glazing ceramics, etc.

Cheers,
-Greg

> From: Christopher Rush <Christopher.Rush at arup.com>
> Subject: Re: [Radiance-general] How to represent a glazed surface in radiance
> Date: November 20, 2015 9:47:16 AM PST
> 
> Per,
> For a little extra clarity, when you say "glazed" are you talking about glazed surface such as glazed terra cotta or similar, such as the way you would use the term in reference to pottery? Or are you referring to "glazed" such as being framed and covered in glass, like an opaque back-painted glass wall?
> 
> Greg,
> If it were a glass with opaque paint on the back side, would you still say the 0.06 specularity would represent the mirror-like reflections from the smooth glass surface?
> 
> If it were glass with any type of reflective treatment it could obviously have higher specularity. What if the front face of the glass is 0.06 specularity but the wall behind the glass could also be high gloss paint and add another 0.06?
> 
> I'm probably getting beyond the level of what's possible to estimate without talking about specific materials. But maybe there's a little extra of the theory behind it to understand.


From perhaugaard at yahoo.dk  Fri Nov 20 14:20:27 2015
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Fri, 20 Nov 2015 22:20:27 +0000 (UTC)
Subject: [Radiance-general] Radiance-general Digest, Vol 141, Issue 20
In-Reply-To: <mailman.1.1448049600.85374.radiance-general@radiance-online.org>
References: <mailman.1.1448049600.85374.radiance-general@radiance-online.org>
Message-ID: <498892037.13133690.1448058027844.JavaMail.yahoo@mail.yahoo.com>

Hi Christopher,
Thank you for your mail.My question was on glazed surfaces in regards to pottery used for interior cladding. The surface seems quite specular and will have great influence on how to plan the lighting design and in special the artificial lighting. I am planning to have someone help me do measurement on the material to help me describe the surface?correctly?in means of RGB reflectance and specularity for use in Radiance.Have a nice weekend :)


Best Regards
Per Haugaard

 


    Den 21:01 fredag den 20. november 2015 skrev "radiance-general-request at radiance-online.org" <radiance-general-request at radiance-online.org>:
 

 Send Radiance-general mailing list submissions to
??? radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
??? http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
??? radiance-general-request at radiance-online.org

You can reach the person managing the list at
??? radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

? 1. Re: How to represent a glazed surface in radiance
? ? ? (Christopher Rush)
? 2. Re: How to represent a glazed surface in radiance (Greg Ward)


----------------------------------------------------------------------

Message: 1
Date: Fri, 20 Nov 2015 17:47:16 +0000
From: Christopher Rush <Christopher.Rush at arup.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] How to represent a glazed surface in
??? radiance
Message-ID:
??? <88079A360FAC7441AE93ECBF619982362997DCC0 at AMXExMb02.global.arup.com>
Content-Type: text/plain; charset="us-ascii"

Per,
For a little extra clarity, when you say "glazed" are you talking about glazed surface such as glazed terra cotta or similar, such as the way you would use the term in reference to pottery? Or are you referring to "glazed" such as being framed and covered in glass, like an opaque back-painted glass wall?

Greg,
If it were a glass with opaque paint on the back side, would you still say the 0.06 specularity would represent the mirror-like reflections from the smooth glass surface?

If it were glass with any type of reflective treatment it could obviously have higher specularity. What if the front face of the glass is 0.06 specularity but the wall behind the glass could also be high gloss paint and add another 0.06?

I'm probably getting beyond the level of what's possible to estimate without talking about specific materials. But maybe there's a little extra of the theory behind it to understand.



-----Original Message-----
From: Greg Ward [mailto:gregoryjward at gmail.com] 

Unless the glaze is metallic, in which case using "metal" would be better to specify the specular color.? Even with a glazed surface, a non-metallic material shouldn't have a specularity above about 0.06 to be realistic.

-Greg
____________________________________________________________
Electronic mail messages entering and leaving Arup? business
systems are scanned for acceptability of content and viruses




------------------------------

Message: 2
Date: Fri, 20 Nov 2015 10:08:47 -0800
From: Greg Ward <gregoryjward at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] How to represent a glazed surface in
??? radiance
Message-ID: <35410F17-1872-4F17-B1AD-1748EB57B36E at lmi.net>
Content-Type: text/plain; charset=us-ascii

A regular piece of glass has about 4% front-surface reflection, so glazing a material (where you create a single dielectric interface) typically matches this 4%.? If the outer surface is smooth, which is the general reason you would glaze something, then you get nice highlights due to low scattering rather than the amount of light that is reflected.? The amount of light reflected also increases towards grazing due to Fresnel's law, which is modeled correctly by "metal" and "plastic" when the roughness is zero.

To get two dielectric surfaces, which would add to 8% or so as you suggest, you would need the coating to not quite meld with the underlayer.? This is what plastic wrap looks like on a surface, and is not generally what people go for when glazing ceramics, etc.

Cheers,
-Greg

> From: Christopher Rush <Christopher.Rush at arup.com>
> Subject: Re: [Radiance-general] How to represent a glazed surface in radiance
> Date: November 20, 2015 9:47:16 AM PST
> 
> Per,
> For a little extra clarity, when you say "glazed" are you talking about glazed surface such as glazed terra cotta or similar, such as the way you would use the term in reference to pottery? Or are you referring to "glazed" such as being framed and covered in glass, like an opaque back-painted glass wall?
> 
> Greg,
> If it were a glass with opaque paint on the back side, would you still say the 0.06 specularity would represent the mirror-like reflections from the smooth glass surface?
> 
> If it were glass with any type of reflective treatment it could obviously have higher specularity. What if the front face of the glass is 0.06 specularity but the wall behind the glass could also be high gloss paint and add another 0.06?
> 
> I'm probably getting beyond the level of what's possible to estimate without talking about specific materials. But maybe there's a little extra of the theory behind it to understand.



------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 141, Issue 20
*************************************************


  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151120/3e50235a/attachment.html>

From jiangalexander1989 at gmail.com  Wed Nov 25 17:55:21 2015
From: jiangalexander1989 at gmail.com (alexander jiang)
Date: Wed, 25 Nov 2015 17:55:21 -0800
Subject: [Radiance-general] inquiry on the possibility of colored LED light
	simulation in Radiance
Message-ID: <007201d127ed$8269a8b0$873cfa10$@gmail.com>

Hi All,

 

Currently I was involved in a research on how different coloured LEDs and
the optimal intensities affect plant growth and qualities.

 

After reading through some info online, I know that it is okay with
simulating sunlight in Radiance but am not sure if it is possible to
simulate different coloured LEDs (such as red , blue, orange, etc)?

 

Regards,

Alex 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151125/46dd846b/attachment.html>

From urtza.uriarte at upc.edu  Thu Nov 26 00:30:38 2015
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Thu, 26 Nov 2015 09:30:38 +0100
Subject: [Radiance-general] gensky_-B option
Message-ID: <20151126093038.Horde.FePc7r2DSbUo5wH-B8kv_nX@correu.upc.edu>

Dear experts,
?
I am testing glare at restaurants of Barcelona for my thesis. I am using
Evalglare v 1.11 with real illuminance (-I Ev) data for photographs
converted to hdr by WebHDR and for visualizations got by Radiance.
Furthermore, I am testing glare by DIVA. I have tested with both, Evalglare
and DIVA?s Evalglare with Clear Sky without Illuminance data and with
illuminance data.
?
# gensky 7 22 11 +s -a 41 -o -2 -m -15
?
# gensky 7 22 11 +s -a 41 -o -2 -m -15 -B 458.100
?
I have taken photograph?s Daylight Glare Probability index with real
illuminance data as reference. Therefore, without Ev data, DGP?s with
Clear Sky without illuminance data is more similar than Sky with
illuminance data (-B):
?
dgp photographs= 71%
dgp DIVA Sky without illuminance data= 63%
dgp DIVA Sky with illuminance data (-B)= 100%
dgp (just Radiance-Evalglare) Clear Sky without illuminance data= 62%
dgp (just Radiance-Evalglare) Clear Sky with illuminance data (-B)= 100%
?
My illuminance data has both, direct and diffuse irradiance. Could someone
confirm if ?B parameter is only for diffuse radiance? I think, that is
explained in the program specifications.
Thank you in advance.
?
Kind regards,
Urtza.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151126/7deb12cf/attachment.html>

From jan.wienold at epfl.ch  Thu Nov 26 05:10:11 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Thu, 26 Nov 2015 14:10:11 +0100
Subject: [Radiance-general] gensky_-B option
In-Reply-To: <20151126093038.Horde.FePc7r2DSbUo5wH-B8kv_nX@correu.upc.edu>
References: <20151126093038.Horde.FePc7r2DSbUo5wH-B8kv_nX@correu.upc.edu>
Message-ID: <565704B3.8090604@epfl.ch>

Dear Urtza,

it is not 100% clear to me what you have measured besides your image. Do 
you have an illuminance value also at camera level? This is very much 
needed to check the validity of the image, especially when you have 
spots of high luminances (e.g. the sun or reflections of it) in the 
field of view. Do you have an fish-eye lens?
So the first step is to check compare the calculated illuminance from 
you fish-eye image with this value to check if you have problems with 
pixel overflow/saturation. This would explain big differences between 
image calculated illuminance and measured. If you don't have a fish-eye 
lens you cannot make this simple check. Then you need to measure with a 
spot luminance meter the highest luminance in the field of view and 
compare it with the value in the image.

If you have measurements of the Direct and Diffuse Irradiation, then it 
is better to use gendaylit, where you can provide both values.

For your simulated data, there must be an mistake in your workflow. If 
you calculate the illuminance by "rtrace -I"  you should get the same 
value for the illuminance than calculated from the image (you can 
calculate the illuminance with evalglare -V . If you use the -I option 
in evalglare, it is just replacing the internal calculated illuminance 
value by the external one, all other algorithms are the same. So if you 
get different values, then you have a problem either with your image or 
with the illumiance calculation. So check first the difference in the 
illuminance. In case you are simulating a trans-material (e.g. for a 
fabric), pixel sampling, limit weight ect. might play a big role and 
could cause huge differences between image and rtrace calculations. But 
there could be many other reasons, depending on you scene you are 
simulating. Then parameter settings play a big role.

And another important comment is, that I don't believe that the DGP is a 
metrics to describe glare in a restaurant. The needs are very much 
different between an office and a restaurant. In a restaurant you are 
dealing mainly with disability glare, I'm not sure if discomfort glare 
is perceived so much for this kind of usage. Of course with the DGP you 
can compare different variants and judge which variant has more often 
glare than other ones. But I would say you cannot make a distinct glare 
evaluation in a restaurant using DGP.

Jan



Am 11/26/15 um 9:30 AM schrieb urtza.uriarte at upc.edu:
>
> Dear experts,
>
> I am testing glare at restaurants of Barcelona for my thesis. I am 
> using Evalglare v 1.11 with real illuminance (-I Ev) data for 
> photographs converted to hdr by WebHDR and for visualizations got by 
> Radiance. Furthermore, I am testing glare by DIVA. I have tested with 
> both, Evalglare and DIVA?s Evalglare with Clear Sky without 
> Illuminance data and with illuminance data.
>
> # gensky 7 22 11 +s -a 41 -o -2 -m -15
>
> # gensky 7 22 11 +s -a 41 -o -2 -m -15 -B 458.100
>
> I have taken photograph?s Daylight Glare Probability index with real 
> illuminance data as reference. Therefore, without Ev data, DGP?s with 
> Clear Sky without illuminance data is more similar than Sky with 
> illuminance data (-B):
>
> dgp photographs= 71%
> dgp DIVA Sky without illuminance data= 63%
> dgp DIVA Sky with illuminance data (-B)= 100%
> dgp (just Radiance-Evalglare) Clear Sky without illuminance data= 62%
> dgp (just Radiance-Evalglare) Clear Sky with illuminance data (-B)= 100%
>
> My illuminance data has both, direct and diffuse irradiance. Could 
> someone confirm if ?B parameter is only for diffuse radiance? I think, 
> that is explained in the program specifications.
> Thank you in advance.
>
> Kind regards,
> Urtza.
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151126/490875ff/attachment.html>

From urtza.uriarte at upc.edu  Thu Nov 26 07:59:37 2015
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Thu, 26 Nov 2015 16:59:37 +0100
Subject: [Radiance-general] gensky_-B option
In-Reply-To: <565704B3.8090604@epfl.ch>
References: <20151126093038.Horde.FePc7r2DSbUo5wH-B8kv_nX@correu.upc.edu>
	<565704B3.8090604@epfl.ch>
Message-ID: <20151126165937.Horde.GeXchrkBxRmzzOVn1unK6Th@correu.upc.edu>

  Dear Jan,

Thank you very much for your answer and suggestions.

I had illuminance value also at camera level, because I had spots of high
luminance. I have an fish-eye lens, the specifications said that it gets
180? but it catches 160?. I hope that it can work. Ok, first I will check
if calculated illuminance is the same as measured.

I understand that perhaps DGP is not the best option to describe glare in a
restaurant, excuse me. However, we have problems with highly glazed fa?ade
that provides very high luminance values to achieve good concentration on
the taste and calm quality atmosphere, as well as, privacy. We have done
surveys and usually people tolerate more visual discomfort in this
activity, due to the habit probably,?but when you show atmospheres with
less out luminance values,?they prefer. I am not sure if I am ok, but, the
perception results are quite similar to the DGP results. Anyway, thank you
again and I will listen to you and check all variations to demonstrate this
problem.

Yours sincerely,
Urtza.?

Jan Wienold <jan.wienold at epfl.ch> escribi?:

> Dear Urtza,
>
> it is not 100% clear to me what you have measured besides your image. Do
> you have an illuminance value also at camera level? This is very much
> needed to check the validity of the image, especially when you have
> spots of high luminances (e.g. the sun or reflections of it) in the
> field of view. Do you have an fish-eye lens?
> So the first step is to check compare the calculated illuminance from
> you fish-eye image with this value to check if you have problems with
> pixel overflow/saturation. This would explain big differences between
> image calculated illuminance and measured. If you don't have a fish-eye
> lens you cannot make this simple check. Then you need to measure with a
> spot luminance meter the highest luminance in the field of view and
> compare it with the value in the image.
>
> If you have measurements of the Direct and Diffuse Irradiation, then it
> is better to use gendaylit, where you can provide both values.
>
> For your simulated data, there must be an mistake in your workflow. If
> you calculate the illuminance by "rtrace -I"? you should get the same
> value for the illuminance than calculated from the image (you can
> calculate the illuminance with evalglare -V . If you use the -I option
> in evalglare, it is just replacing the internal calculated illuminance
> value by the external one, all other algorithms are the same. So if you
> get different values, then you have a problem either with your image or
> with the illumiance calculation. So check first the difference in the
> illuminance. In case you are simulating a trans-material (e.g. for a
> fabric), pixel sampling, limit weight ect. might play a big role and
> could cause huge differences between image and rtrace calculations. But
> there could be many other reasons, depending on you scene you are
> simulating. Then parameter settings play a big role.
>
> And another important comment is, that I don't believe that the DGP is a
> metrics to describe glare in a restaurant. The needs are very much
> different between an office and a restaurant. In a restaurant you are
> dealing mainly with disability glare, I'm not sure if discomfort glare
> is perceived so much for this kind of usage. Of course with the DGP you
> can compare different variants and judge which variant has more often
> glare than other ones. But I would say you cannot make a distinct glare
> evaluation in a restaurant using DGP.
>
> Jan
>
>   Am 11/26/15 um 9:30 AM schrieb urtza.uriarte at upc.edu:
>
>> ?

  Dear experts,
?
I am testing glare at restaurants of Barcelona for my thesis. I am using
Evalglare v 1.11 with real illuminance (-I Ev) data for photographs
converted to hdr by WebHDR and for visualizations got by Radiance.
Furthermore, I am testing glare by DIVA. I have tested with both, Evalglare
and DIVA?s Evalglare with Clear Sky without Illuminance data and with
illuminance data.
?
# gensky 7 22 11 +s -a 41 -o -2 -m -15
?
# gensky 7 22 11 +s -a 41 -o -2 -m -15 -B 458.100
?
I have taken photograph?s Daylight Glare Probability index with real
illuminance data as reference. Therefore, without Ev data, DGP?s with
Clear Sky without illuminance data is more similar than Sky with
illuminance data (-B):
?
dgp photographs= 71%
dgp DIVA Sky without illuminance data= 63%
dgp DIVA Sky with illuminance data (-B)= 100%
dgp (just Radiance-Evalglare) Clear Sky without illuminance data= 62%
dgp (just Radiance-Evalglare) Clear Sky with illuminance data (-B)= 100%
?
My illuminance data has both, direct and diffuse irradiance. Could someone
confirm if ?B parameter is only for diffuse radiance? I think, that is
explained in the program specifications.
Thank you in advance.
?
Kind regards,
Urtza.


_______________________________________________ Radiance-general mailing
list
Radiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
--  Dr.-Ing.  Jan Wienold Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID  http://people.epfl.ch/jan.wienoldLE 1 111 (Office)
Phone    +41 21 69 30849
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151126/8302f65e/attachment-0001.html>

From gregoryjward at gmail.com  Thu Nov 26 08:52:44 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 26 Nov 2015 08:52:44 -0800
Subject: [Radiance-general] inquiry on the possibility of colored LED
	light simulation in Radiance
In-Reply-To: <007201d127ed$8269a8b0$873cfa10$@gmail.com>
References: <007201d127ed$8269a8b0$873cfa10$@gmail.com>
Message-ID: <01CB2CC4-D385-42E7-AE74-ED93E7ECD35D@lmi.net>

Hi Alex,

The RGB channels can represent any spectral content, so if you have 3 (or fewer) illuminant spectra, and can characterize the reflectances of materials in each of these spectra, probably through measurement, then you can get accurate results from Radiance.  If you have more than 3 spectra you want to try, you can perform sequential runs accordingly.  It's a bit tedious, but people have done it.

Cheers,
-Greg

> From: "alexander jiang" <jiangalexander1989 at gmail.com>
> Subject: [Radiance-general] inquiry on the possibility of colored LED light simulation in Radiance
> Date: November 25, 2015 5:55:21 PM PST
> 
> Hi All,
>  
> Currently I was involved in a research on how different coloured LEDs and the optimal intensities affect plant growth and qualities.
>  
> After reading through some info online, I know that it is okay with simulating sunlight in Radiance but am not sure if it is possible to simulate different coloured LEDs (such as red , blue, orange, etc)?
>  
> Regards,
> Alex
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151126/51e3a22a/attachment.html>

From jan.wienold at epfl.ch  Thu Nov 26 09:38:43 2015
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Thu, 26 Nov 2015 18:38:43 +0100
Subject: [Radiance-general] gensky_-B option
In-Reply-To: <20151126165937.Horde.GeXchrkBxRmzzOVn1unK6Th@correu.upc.edu>
References: <20151126093038.Horde.FePc7r2DSbUo5wH-B8kv_nX@correu.upc.edu>
	<565704B3.8090604@epfl.ch>
	<20151126165937.Horde.GeXchrkBxRmzzOVn1unK6Th@correu.upc.edu>
Message-ID: <565743A3.1010403@epfl.ch>

Dear Urtza,

the 160 instead of 180 degree should not be a big problem, of course you 
underestimate the illuminance a bit, but you can provide the external 
measured illuminance value.

In case you have a problem in matching the calculated illuminance of the 
captured image (evalglare -V) with the measured illuminance, caused by 
pixel overflow, there exist since long time an undocumented option in 
evalglare to adjust the overflow pixels to match the measured 
illuminance. I could help you with that - in that case send me one 
example image and the related measured illuminance value directly (not 
via discussion group).

Jan




Am 11/26/15 um 4:59 PM schrieb urtza.uriarte at upc.edu:
>
> Dear Jan,
>
> Thank you very much for your answer and suggestions.
>
> I had illuminance value also at camera level, because I had spots of 
> high luminance. I have an fish-eye lens, the specifications said that 
> it gets 180? but it catches 160?. I hope that it can work. Ok, first I 
> will check if calculated illuminance is the same as measured.
>
> I understand that perhaps DGP is not the best option to describe glare 
> in a restaurant, excuse me. However, we have problems with highly 
> glazed fa?ade that provides very high luminance values to achieve good 
> concentration on the taste and calm quality atmosphere, as well as, 
> privacy. We have done surveys and usually people tolerate more visual 
> discomfort in this activity, due to the habit probably, but when you 
> show atmospheres with less out luminance values, they prefer. I am not 
> sure if I am ok, but, the perception results are quite similar to the 
> DGP results. Anyway, thank you again and I will listen to you and 
> check all variations to demonstrate this problem.
>
> Yours sincerely,
> Urtza.
>
>
> Jan Wienold <jan.wienold at epfl.ch <mailto:jan.wienold at epfl.ch>> escribi?:
>
>> Dear Urtza,
>>
>> it is not 100% clear to me what you have measured besides your image. 
>> Do you have an illuminance value also at camera level? This is very 
>> much needed to check the validity of the image, especially when you 
>> have spots of high luminances (e.g. the sun or reflections of it) in 
>> the field of view. Do you have an fish-eye lens?
>> So the first step is to check compare the calculated illuminance from 
>> you fish-eye image with this value to check if you have problems with 
>> pixel overflow/saturation. This would explain big differences between 
>> image calculated illuminance and measured. If you don't have a 
>> fish-eye lens you cannot make this simple check. Then you need to 
>> measure with a spot luminance meter the highest luminance in the 
>> field of view and compare it with the value in the image.
>>
>> If you have measurements of the Direct and Diffuse Irradiation, then 
>> it is better to use gendaylit, where you can provide both values.
>>
>> For your simulated data, there must be an mistake in your workflow. 
>> If you calculate the illuminance by "rtrace -I"  you should get the 
>> same value for the illuminance than calculated from the image (you 
>> can calculate the illuminance with evalglare -V . If you use the -I 
>> option in evalglare, it is just replacing the internal calculated 
>> illuminance value by the external one, all other algorithms are the 
>> same. So if you get different values, then you have a problem either 
>> with your image or with the illumiance calculation. So check first 
>> the difference in the illuminance. In case you are simulating a 
>> trans-material (e.g. for a fabric), pixel sampling, limit weight ect. 
>> might play a big role and could cause huge differences between image 
>> and rtrace calculations. But there could be many other reasons, 
>> depending on you scene you are simulating. Then parameter settings 
>> play a big role.
>>
>> And another important comment is, that I don't believe that the DGP 
>> is a metrics to describe glare in a restaurant. The needs are very 
>> much different between an office and a restaurant. In a restaurant 
>> you are dealing mainly with disability glare, I'm not sure if 
>> discomfort glare is perceived so much for this kind of usage. Of 
>> course with the DGP you can compare different variants and judge 
>> which variant has more often glare than other ones. But I would say 
>> you cannot make a distinct glare evaluation in a restaurant using DGP.
>>
>> Jan
>>
>>
>>
>> Am 11/26/15 um 9:30 AM schrieb urtza.uriarte at upc.edu:
>>>
> Dear experts,
>
> I am testing glare at restaurants of Barcelona for my thesis. I am 
> using Evalglare v 1.11 with real illuminance (-I Ev) data for 
> photographs converted to hdr by WebHDR and for visualizations got by 
> Radiance. Furthermore, I am testing glare by DIVA. I have tested with 
> both, Evalglare and DIVA?s Evalglare with Clear Sky without 
> Illuminance data and with illuminance data.
>
> # gensky 7 22 11 +s -a 41 -o -2 -m -15
>
> # gensky 7 22 11 +s -a 41 -o -2 -m -15 -B 458.100
>
> I have taken photograph?s Daylight Glare Probability index with real 
> illuminance data as reference. Therefore, without Ev data, DGP?s with 
> Clear Sky without illuminance data is more similar than Sky with 
> illuminance data (-B):
>
> dgp photographs= 71%
> dgp DIVA Sky without illuminance data= 63%
> dgp DIVA Sky with illuminance data (-B)= 100%
> dgp (just Radiance-Evalglare) Clear Sky without illuminance data= 62%
> dgp (just Radiance-Evalglare) Clear Sky with illuminance data (-B)= 100%
>
> My illuminance data has both, direct and diffuse irradiance. Could 
> someone confirm if ?B parameter is only for diffuse radiance? I think, 
> that is explained in the program specifications.
> Thank you in advance.
>
> Kind regards,
> Urtza.
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> -- 
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
>
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151126/cb3ff41e/attachment.html>

From jiangalexander1989 at gmail.com  Thu Nov 26 17:24:53 2015
From: jiangalexander1989 at gmail.com (alexander jiang)
Date: Thu, 26 Nov 2015 17:24:53 -0800
Subject: [Radiance-general] inquiry on the possibility of colored
	LED	light simulation in Radiance
In-Reply-To: <01CB2CC4-D385-42E7-AE74-ED93E7ECD35D@lmi.net>
References: <007201d127ed$8269a8b0$873cfa10$@gmail.com>
	<01CB2CC4-D385-42E7-AE74-ED93E7ECD35D@lmi.net>
Message-ID: <00ec01d128b2$6ba15540$42e3ffc0$@gmail.com>

Hi Greg,

 

Thanks for your info so much.

 

But I am still confused about what you mentioned in the previous email 'can
characterize the reflectances of materials in each of these spectra,
probably through measurement". 

 

For instance, the green crops will be the objectives in the greenhouse
environment I plan to simulate, what specifically you mean 'can characterize
the reflectances of materials through measurement"

 

Regards,

Alex

 

 

 

 

 

 

From: Greg Ward [mailto:gregoryjward at gmail.com] 
Sent: Thursday, 26 November 2015 8:53 AM
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] inquiry on the possibility of colored LED
light simulation in Radiance

 

Hi Alex,

 

The RGB channels can represent any spectral content, so if you have 3 (or
fewer) illuminant spectra, and can characterize the reflectances of
materials in each of these spectra, probably through measurement, then you
can get accurate results from Radiance.  If you have more than 3 spectra you
want to try, you can perform sequential runs accordingly.  It's a bit
tedious, but people have done it.

 

Cheers,

-Greg





From: "alexander jiang" < <mailto:jiangalexander1989 at gmail.com>
jiangalexander1989 at gmail.com>

Subject: [Radiance-general] inquiry on the possibility of colored LED light
simulation in Radiance

Date: November 25, 2015 5:55:21 PM PST

 

Hi All,

 

Currently I was involved in a research on how different coloured LEDs and
the optimal intensities affect plant growth and qualities.

 

After reading through some info online, I know that it is okay with
simulating sunlight in Radiance but am not sure if it is possible to
simulate different coloured LEDs (such as red , blue, orange, etc)?

 

Regards,

Alex

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151126/133f15e4/attachment.html>

From rmfritz3 at gmail.com  Thu Nov 26 18:41:10 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Thu, 26 Nov 2015 18:41:10 -0800
Subject: [Radiance-general] inquiry on the possibility of colored LED
 light simulation in Radiance
In-Reply-To: <00ec01d128b2$6ba15540$42e3ffc0$@gmail.com>
References: <007201d127ed$8269a8b0$873cfa10$@gmail.com>
	<01CB2CC4-D385-42E7-AE74-ED93E7ECD35D@lmi.net>
	<00ec01d128b2$6ba15540$42e3ffc0$@gmail.com>
Message-ID: <CANeAMoL5RYgL57vjPGsGRhgnLdm3ARWDdKgQqBvFowewoCx6qQ@mail.gmail.com>

I just entered "spectral reflectance of leaves" into Google, and a whole
bunch of material popped out. It looks like there is actually a fair bit of
research on this.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Thu, Nov 26, 2015 at 5:24 PM, alexander jiang <
jiangalexander1989 at gmail.com> wrote:

> Hi Greg,
>
>
>
> Thanks for your info so much.
>
>
>
> But I am still confused about what you mentioned in the previous email ?can
> characterize the reflectances of materials in each of these spectra,
> probably through measurement?.
>
>
>
> For instance, the green crops will be the objectives in the greenhouse
> environment I plan to simulate, what specifically you mean ?can
> characterize the reflectances of materials through measurement?
>
>
>
> Regards,
>
> Alex
>
>
>
>
>
>
>
>
>
>
>
>
>
> *From:* Greg Ward [mailto:gregoryjward at gmail.com]
> *Sent:* Thursday, 26 November 2015 8:53 AM
> *To:* Radiance general discussion <radiance-general at radiance-online.org>
> *Subject:* Re: [Radiance-general] inquiry on the possibility of colored
> LED light simulation in Radiance
>
>
>
> Hi Alex,
>
>
>
> The RGB channels can represent any spectral content, so if you have 3 (or
> fewer) illuminant spectra, and can characterize the reflectances of
> materials in each of these spectra, probably through measurement, then you
> can get accurate results from Radiance.  If you have more than 3 spectra
> you want to try, you can perform sequential runs accordingly.  It's a bit
> tedious, but people have done it.
>
>
>
> Cheers,
>
> -Greg
>
>
>
> *From: *"alexander jiang" <jiangalexander1989 at gmail.com>
>
> *Subject: *[Radiance-general] inquiry on the possibility of colored LED
> light simulation in Radiance
>
> *Date: *November 25, 2015 5:55:21 PM PST
>
>
>
> Hi All,
>
>
>
> Currently I was involved in a research on how different coloured LEDs and
> the optimal intensities affect plant growth and qualities.
>
>
>
> After reading through some info online, I know that it is okay with
> simulating sunlight in Radiance but am not sure if it is possible to
> simulate different coloured LEDs (such as red , blue, orange, etc)?
>
>
>
> Regards,
>
> Alex
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151126/dededde5/attachment.html>

From gregoryjward at gmail.com  Thu Nov 26 21:38:08 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 26 Nov 2015 21:38:08 -0800
Subject: [Radiance-general] inquiry on the possibility of colored LED
	light simulation in Radiance
In-Reply-To: <CANeAMoL5RYgL57vjPGsGRhgnLdm3ARWDdKgQqBvFowewoCx6qQ@mail.gmail.com>
References: <007201d127ed$8269a8b0$873cfa10$@gmail.com>
	<01CB2CC4-D385-42E7-AE74-ED93E7ECD35D@lmi.net>
	<00ec01d128b2$6ba15540$42e3ffc0$@gmail.com>
	<CANeAMoL5RYgL57vjPGsGRhgnLdm3ARWDdKgQqBvFowewoCx6qQ@mail.gmail.com>
Message-ID: <FE1AD5ED-62AB-442D-A4E7-3CBC01EC0B01@lmi.net>

Well, the general approach to measuring reflectance is to shine a light of the appropriate spectrum on the surface and determine what fraction reflects back.  This is typically accomplished with an integrating sphere if your surface is Lambertian or approximately so.

If you have full spectral reflectance data, you can multiply these measurements against the spectral emission of your different LED illuminants to get the appropriate channel responses.

I hope this helps.
-Greg

> From: "Randolph M. Fritz" <rmfritz3 at gmail.com>
> Subject: Re: [Radiance-general] inquiry on the possibility of colored LED light simulation in Radiance
> Date: November 26, 2015 6:41:10 PM PST
> 
> I just entered "spectral reflectance of leaves" into Google, and a whole bunch of material popped out. It looks like there is actually a fair bit of research on this.
> 
> -- 
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
> 
> On Thu, Nov 26, 2015 at 5:24 PM, alexander jiang <jiangalexander1989 at gmail.com> wrote:
> Hi Greg,
> 
>  
> 
> Thanks for your info so much.
> 
>  
> 
> But I am still confused about what you mentioned in the previous email ?can characterize the reflectances of materials in each of these spectra, probably through measurement?.
> 
>  
> 
> For instance, the green crops will be the objectives in the greenhouse environment I plan to simulate, what specifically you mean ?can characterize the reflectances of materials through measurement?
> 
>  
> 
> Regards,
> 
> Alex
> 
>  
> 
>  
> 
>  
> 
>  
> 
>  
> 
>  
> 
> From: Greg Ward [mailto:gregoryjward at gmail.com] 
> Sent: Thursday, 26 November 2015 8:53 AM
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] inquiry on the possibility of colored LED light simulation in Radiance
> 
>  
> 
> Hi Alex,
> 
>  
> 
> The RGB channels can represent any spectral content, so if you have 3 (or fewer) illuminant spectra, and can characterize the reflectances of materials in each of these spectra, probably through measurement, then you can get accurate results from Radiance.  If you have more than 3 spectra you want to try, you can perform sequential runs accordingly.  It's a bit tedious, but people have done it.
> 
>  
> 
> Cheers,
> 
> -Greg
> 
> 
> 
> 
> From: "alexander jiang" <jiangalexander1989 at gmail.com>
> Subject: [Radiance-general] inquiry on the possibility of colored LED light simulation in Radiance
> Date: November 25, 2015 5:55:21 PM PST
>  
> Hi All,
> 
>  
> 
> Currently I was involved in a research on how different coloured LEDs and the optimal intensities affect plant growth and qualities.
> 
>  
> 
> After reading through some info online, I know that it is okay with simulating sunlight in Radiance but am not sure if it is possible to simulate different coloured LEDs (such as red , blue, orange, etc)?
> 
>  
> 
> Regards,
> 
> Alex
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151126/d29dbb82/attachment-0001.html>

From urtza.uriarte at upc.edu  Thu Nov 26 23:55:10 2015
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Fri, 27 Nov 2015 08:55:10 +0100
Subject: [Radiance-general] gensky_-B option
In-Reply-To: <565743A3.1010403@epfl.ch>
References: <20151126093038.Horde.FePc7r2DSbUo5wH-B8kv_nX@correu.upc.edu>
	<565704B3.8090604@epfl.ch>
	<20151126165937.Horde.GeXchrkBxRmzzOVn1unK6Th@correu.upc.edu>
	<565743A3.1010403@epfl.ch>
Message-ID: <20151127085510.Horde.A0wyOnOBrNsChzEbmCSjk1T@correu.upc.edu>

  Dear Jan,

Ok. I checked the -V value and it scripts me for each image correctly and
adding -i measured value DGP is the same. In case, I will contact you.
Thank you very much for your attention.

Yours sincerely,
Urtza.

Jan Wienold <jan.wienold at epfl.ch> escribi?:

> Dear Urtza,
>
> the 160 instead of 180 degree should not be a big problem, of course you
> underestimate the illuminance a bit, but you can provide the external
> measured illuminance value.
>
> In case you have a problem in matching the calculated illuminance of the
> captured image (evalglare -V) with the measured illuminance, caused by
> pixel overflow, there exist since long time an undocumented option in
> evalglare to adjust the overflow pixels to match the measured
> illuminance. I could help you with that - in that case send me one
> example image and the related measured illuminance value directly (not
> via discussion group).
>
> Jan?
>
>   Am 11/26/15 um 4:59 PM schrieb urtza.uriarte at upc.edu:
>
>> ?

  Dear Jan,

Thank you very much for your answer and suggestions.

I had illuminance value also at camera level, because I had spots of high
luminance. I have an fish-eye lens, the specifications said that it gets
180? but it catches 160?. I hope that it can work. Ok, first I will check
if calculated illuminance is the same as measured.

I understand that perhaps DGP is not the best option to describe glare in a
restaurant, excuse me. However, we have problems with highly glazed fa?ade
that provides very high luminance values to achieve good concentration on
the taste and calm quality atmosphere, as well as, privacy. We have done
surveys and usually people tolerate more visual discomfort in this
activity, due to the habit probably,?but when you show atmospheres with
less out luminance values,?they prefer. I am not sure if I am ok, but, the
perception results are quite similar to the DGP results. Anyway, thank you
again and I will listen to you and check all variations to demonstrate this
problem.

Yours sincerely,
Urtza.?

Jan Wienold <jan.wienold at epfl.ch> escribi?:

> Dear Urtza,
>
> it is not 100% clear to me what you have measured besides your image. Do
> you have an illuminance value also at camera level? This is very much
> needed to check the validity of the image, especially when you have
> spots of high luminances (e.g. the sun or reflections of it) in the
> field of view. Do you have an fish-eye lens?
> So the first step is to check compare the calculated illuminance from
> you fish-eye image with this value to check if you have problems with
> pixel overflow/saturation. This would explain big differences between
> image calculated illuminance and measured. If you don't have a fish-eye
> lens you cannot make this simple check. Then you need to measure with a
> spot luminance meter the highest luminance in the field of view and
> compare it with the value in the image.
>
> If you have measurements of the Direct and Diffuse Irradiation, then it
> is better to use gendaylit, where you can provide both values.
>
> For your simulated data, there must be an mistake in your workflow. If
> you calculate the illuminance by "rtrace -I"? you should get the same
> value for the illuminance than calculated from the image (you can
> calculate the illuminance with evalglare -V . If you use the -I option
> in evalglare, it is just replacing the internal calculated illuminance
> value by the external one, all other algorithms are the same. So if you
> get different values, then you have a problem either with your image or
> with the illumiance calculation. So check first the difference in the
> illuminance. In case you are simulating a trans-material (e.g. for a
> fabric), pixel sampling, limit weight ect. might play a big role and
> could cause huge differences between image and rtrace calculations. But
> there could be many other reasons, depending on you scene you are
> simulating. Then parameter settings play a big role.
>
> And another important comment is, that I don't believe that the DGP is a
> metrics to describe glare in a restaurant. The needs are very much
> different between an office and a restaurant. In a restaurant you are
> dealing mainly with disability glare, I'm not sure if discomfort glare
> is perceived so much for this kind of usage. Of course with the DGP you
> can compare different variants and judge which variant has more often
> glare than other ones. But I would say you cannot make a distinct glare
> evaluation in a restaurant using DGP.
>
> Jan
>
> ?
>   Am 11/26/15 um 9:30 AM schrieb urtza.uriarte at upc.edu:
>
>> ?

  Dear experts,
?
I am testing glare at restaurants of Barcelona for my thesis. I am using
Evalglare v 1.11 with real illuminance (-I Ev) data for photographs
converted to hdr by WebHDR and for visualizations got by Radiance.
Furthermore, I am testing glare by DIVA. I have tested with both, Evalglare
and DIVA?s Evalglare with Clear Sky without Illuminance data and with
illuminance data.
?
# gensky 7 22 11 +s -a 41 -o -2 -m -15
?
# gensky 7 22 11 +s -a 41 -o -2 -m -15 -B 458.100
?
I have taken photograph?s Daylight Glare Probability index with real
illuminance data as reference. Therefore, without Ev data, DGP?s with
Clear Sky without illuminance data is more similar than Sky with
illuminance data (-B):
?
dgp photographs= 71%
dgp DIVA Sky without illuminance data= 63%
dgp DIVA Sky with illuminance data (-B)= 100%
dgp (just Radiance-Evalglare) Clear Sky without illuminance data= 62%
dgp (just Radiance-Evalglare) Clear Sky with illuminance data (-B)= 100%
?
My illuminance data has both, direct and diffuse irradiance. Could someone
confirm if ?B parameter is only for diffuse radiance? I think, that is
explained in the program specifications.
Thank you in advance.
?
Kind regards,
Urtza.

  ?

_______________________________________________ Radiance-general mailing
list
Radiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
  ?
--  Dr.-Ing.  Jan Wienold Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID  http://people.epfl.ch/jan.wienoldLE 1 111 (Office)
Phone    +41 21 69 30849

?


_______________________________________________ Radiance-general mailing
list
Radiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
--  Dr.-Ing.  Jan Wienold Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID  http://people.epfl.ch/jan.wienoldLE 1 111 (Office)
Phone    +41 21 69 30849
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151127/a655b7d1/attachment.html>

From alireh at uw.edu  Mon Nov 30 01:04:14 2015
From: alireh at uw.edu (Alireza Hashemloo)
Date: Mon, 30 Nov 2015 01:04:14 -0800
Subject: [Radiance-general] Three Phase Method Tutorial - Example 1
Message-ID: <CADjcregxpf13c4xW5ARyDyauhpE0ut9QZLmRQpa-uupNJaAK+w@mail.gmail.com>

Hello,

I have a couple of questions with regards to the three-phase method
tutorials:

1- Following the Example 1 in the tutorial document titled as "The
Three-Phase Method for Simulating Complex Fenestration with Radiance"
(available at
http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf)
I have encountered the following error message using the dctimestep (page
21) to generate a rendering:

"fatal - unexpected EOF reading results/south.dmx"

I have checked the content of the south.dmx file generated in the previous
steps and it appears that with the exception of the first 9 lines providing
information such as the Format, Software, Capdate etc, the remaining of the
lines contain NULL values. This is despite the fact that I have not
received any error messages following the Example 1 through each step prior
to this last step where the EOF error is raised.

2- There is another document titled as "Radiance Three Phase Method
Tutorial" (also by Andy McNeil) which I could not find on the Radiance
website but it it published via GitBook at the following link:

https://www.gitbook.com/book/andymcneil/three-phase-method-tutorial/details

Following the Example 1 of this new tutorial document, the 'rcontib' call
is replaced with 'rfluxmtx' to create the view matrix renderings. I have
also attempted to pursue this example step by step, however, the call for
the 'rfluxmtx' for generating view matrix renderings (page 21) raises the
following error message:

"missing hemisphere sampling type"

I have checked the 'rfluxmtx' document describing the application of a
"#@rfluxmtx variable=value" form to pass the sampling basis (eg. h=kf for
full Klems sampling model). However, I could not find the correct syntax to
add this variable to the rfluxmtx command call in the tutorial (page 21) in
response to the "missing hemisphere sampling type" error.


I would appreciate if you could help me with these two questions.

Thank you,
Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151130/3cd25d2b/attachment.html>

From gregoryjward at gmail.com  Mon Nov 30 09:40:28 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 30 Nov 2015 09:40:28 -0800
Subject: [Radiance-general] Three Phase Method Tutorial - Example 1
In-Reply-To: <CADjcregxpf13c4xW5ARyDyauhpE0ut9QZLmRQpa-uupNJaAK+w@mail.gmail.com>
References: <CADjcregxpf13c4xW5ARyDyauhpE0ut9QZLmRQpa-uupNJaAK+w@mail.gmail.com>
Message-ID: <9B627B18-5355-4FBB-AA95-4EFDB691899C@lmi.net>

Hi Alireza,

There have been a few changes to the programs since this tutorial was written.  It would help to know what system you are on (esp. if Windows) and the exact commands you used leading up to the error.

Cheers,
-Greg

> From: Alireza Hashemloo <alireh at uw.edu>
> Subject: [Radiance-general] Three Phase Method Tutorial - Example 1
> Date: November 30, 2015 1:04:14 AM PST
> 
> Hello,
> 
> I have a couple of questions with regards to the three-phase method tutorials:
> 
> 1- Following the Example 1 in the tutorial document titled as "The Three-Phase Method for Simulating Complex Fenestration with Radiance" (available at http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf) I have encountered the following error message using the dctimestep (page 21) to generate a rendering:
> 
> "fatal - unexpected EOF reading results/south.dmx"
> 
> I have checked the content of the south.dmx file generated in the previous steps and it appears that with the exception of the first 9 lines providing information such as the Format, Software, Capdate etc, the remaining of the lines contain NULL values. This is despite the fact that I have not received any error messages following the Example 1 through each step prior to this last step where the EOF error is raised.
> 
> 2- There is another document titled as "Radiance Three Phase Method Tutorial" (also by Andy McNeil) which I could not find on the Radiance website but it it published via GitBook at the following link:
> 
> https://www.gitbook.com/book/andymcneil/three-phase-method-tutorial/details
> 
> Following the Example 1 of this new tutorial document, the 'rcontib' call is replaced with 'rfluxmtx' to create the view matrix renderings. I have also attempted to pursue this example step by step, however, the call for the 'rfluxmtx' for generating view matrix renderings (page 21) raises the following error message:
> 
> "missing hemisphere sampling type"
> 
> I have checked the 'rfluxmtx' document describing the application of a "#@rfluxmtx variable=value" form to pass the sampling basis (eg. h=kf for full Klems sampling model). However, I could not find the correct syntax to add this variable to the rfluxmtx command call in the tutorial (page 21) in response to the "missing hemisphere sampling type" error.
> 
> 
> I would appreciate if you could help me with these two questions.
> 
> Thank you,
> Alireza 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151130/d1c88f29/attachment.html>

From alireh at uw.edu  Mon Nov 30 18:41:22 2015
From: alireh at uw.edu (Alireza Hashemloo)
Date: Mon, 30 Nov 2015 18:41:22 -0800
Subject: [Radiance-general] Three Phase Method Tutorial - Example 1
In-Reply-To: <9B627B18-5355-4FBB-AA95-4EFDB691899C@lmi.net>
References: <CADjcregxpf13c4xW5ARyDyauhpE0ut9QZLmRQpa-uupNJaAK+w@mail.gmail.com>
	<9B627B18-5355-4FBB-AA95-4EFDB691899C@lmi.net>
Message-ID: <CADjcrejxfzc+MzouA5muuCbNuGQVWfOKAoBD=ES_LKXpW21Wiw@mail.gmail.com>

Hi Greg,

Thank you for your response.

I am working on a Windows 7 (64-bit) operating system and I use GitBash
shell for my command line.
Following the description of the two error messages relative to the two
versions of the Three-Phase Method tutorial, I have provided the exact
command line raising the errors
in the Example #1 of both tutorials:

1- Tutorial Document Title: "The Three-Phase Method for Simulating Complex
Fenestration with Radiance"
    Access Link:
http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf
    Page # 21
    Command:    $ dctimestep images/vmx/window_%03d.hdr
data/singleclear.xml results/south.dmx skies/12_21_15.skv >
images/122115_clear.hdr
    Error: "fatal - unexpected EOF reading results/south.dmx"

2- Tutorial Document Title: "Radiance Three Phase Method Tutorial"
    Access link:
https://www.gitbook.com/book/andymcneil/three-phase-method-tutorial/details
    Page # 21
    Command:  $ vwrays -fa -vf views/back.vf -x 600 -y 600 | rfluxmtx
`vwrays -vf views/back.vf -x 600 -y 600 -d` -n 8 -fac -ab 12 -ad 50000 -lw
2e-5 - objects/window.rad materials/testroom.mat objects/testroom.rad
    Error: "C:\Radiance\bin\rfluxmtx.exe: missing hemisphere sampling type!"

I hope the referenced commands would help to give a better description of
how the errors are raised.
Please let me know if you need any further information.

Thank you,
Alireza

On Mon, Nov 30, 2015 at 9:40 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Alireza,
>
> There have been a few changes to the programs since this tutorial was
> written.  It would help to know what system you are on (esp. if Windows)
> and the exact commands you used leading up to the error.
>
> Cheers,
> -Greg
>
> *From: *Alireza Hashemloo <alireh at uw.edu>
>
> *Subject: *[Radiance-general] Three Phase Method Tutorial - Example 1
>
> *Date: *November 30, 2015 1:04:14 AM PST
>
>
> Hello,
>
> I have a couple of questions with regards to the three-phase method
> tutorials:
>
> 1- Following the Example 1 in the tutorial document titled as "The
> Three-Phase Method for Simulating Complex Fenestration with Radiance"
> (available at
> http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf)
> I have encountered the following error message using the dctimestep (page
> 21) to generate a rendering:
>
> "fatal - unexpected EOF reading results/south.dmx"
>
> I have checked the content of the south.dmx file generated in the previous
> steps and it appears that with the exception of the first 9 lines providing
> information such as the Format, Software, Capdate etc, the remaining of the
> lines contain NULL values. This is despite the fact that I have not
> received any error messages following the Example 1 through each step prior
> to this last step where the EOF error is raised.
>
> 2- There is another document titled as "Radiance Three Phase Method
> Tutorial" (also by Andy McNeil) which I could not find on the Radiance
> website but it it published via GitBook at the following link:
>
> https://www.gitbook.com/book/andymcneil/three-phase-method-tutorial/details
>
> Following the Example 1 of this new tutorial document, the 'rcontib' call
> is replaced with 'rfluxmtx' to create the view matrix renderings. I have
> also attempted to pursue this example step by step, however, the call for
> the 'rfluxmtx' for generating view matrix renderings (page 21) raises the
> following error message:
>
> "missing hemisphere sampling type"
>
> I have checked the 'rfluxmtx' document describing the application of a
> "#@rfluxmtx variable=value" form to pass the sampling basis (eg. h=kf for
> full Klems sampling model). However, I could not find the correct syntax to
> add this variable to the rfluxmtx command call in the tutorial (page 21) in
> response to the "missing hemisphere sampling type" error.
>
>
> I would appreciate if you could help me with these two questions.
>
> Thank you,
> Alireza
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151130/fdab5ee9/attachment.html>

From sadeghipour at gmail.com  Mon Nov 30 18:50:48 2015
From: sadeghipour at gmail.com (Mostapha Sadeghipour)
Date: Mon, 30 Nov 2015 21:50:48 -0500
Subject: [Radiance-general] Three Phase Method Tutorial - Example 1
In-Reply-To: <CADjcrejxfzc+MzouA5muuCbNuGQVWfOKAoBD=ES_LKXpW21Wiw@mail.gmail.com>
References: <CADjcregxpf13c4xW5ARyDyauhpE0ut9QZLmRQpa-uupNJaAK+w@mail.gmail.com>
	<9B627B18-5355-4FBB-AA95-4EFDB691899C@lmi.net>
	<CADjcrejxfzc+MzouA5muuCbNuGQVWfOKAoBD=ES_LKXpW21Wiw@mail.gmail.com>
Message-ID: <CAAd_PgRtb-OD1u-iP4fPf6GkJe2kSNP==cs7T1QOLAthnOJDig@mail.gmail.com>

Hi Alireza,

Another resource that you can use to learn/test three phase method on
Windows is OpenStudio. OpenStudio prints the commands in the terminal while
running the analysis.

Rob has already addressed many of the issues that you will probably face to
get it to work on Windows. I copied the lines here for a similar
discussion: (http://www.grasshopper3d.com/xn/detail/2985220:Comment:1389864).
You can also find the files attached in the discussion.

Mostapha

On Mon, Nov 30, 2015 at 9:41 PM, Alireza Hashemloo <alireh at uw.edu> wrote:

> Hi Greg,
>
> Thank you for your response.
>
> I am working on a Windows 7 (64-bit) operating system and I use GitBash
> shell for my command line.
> Following the description of the two error messages relative to the two
> versions of the Three-Phase Method tutorial, I have provided the exact
> command line raising the errors
> in the Example #1 of both tutorials:
>
> 1- Tutorial Document Title: "The Three-Phase Method for Simulating Complex
> Fenestration with Radiance"
>     Access Link:
> http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf
>     Page # 21
>     Command:    $ dctimestep images/vmx/window_%03d.hdr
> data/singleclear.xml results/south.dmx skies/12_21_15.skv >
> images/122115_clear.hdr
>     Error: "fatal - unexpected EOF reading results/south.dmx"
>
> 2- Tutorial Document Title: "Radiance Three Phase Method Tutorial"
>     Access link:
> https://www.gitbook.com/book/andymcneil/three-phase-method-tutorial/details
>     Page # 21
>     Command:  $ vwrays -fa -vf views/back.vf -x 600 -y 600 | rfluxmtx
> `vwrays -vf views/back.vf -x 600 -y 600 -d` -n 8 -fac -ab 12 -ad 50000 -lw
> 2e-5 - objects/window.rad materials/testroom.mat objects/testroom.rad
>     Error: "C:\Radiance\bin\rfluxmtx.exe: missing hemisphere sampling
> type!"
>
> I hope the referenced commands would help to give a better description of
> how the errors are raised.
> Please let me know if you need any further information.
>
> Thank you,
> Alireza
>
> On Mon, Nov 30, 2015 at 9:40 AM, Greg Ward <gregoryjward at gmail.com> wrote:
>
>> Hi Alireza,
>>
>> There have been a few changes to the programs since this tutorial was
>> written.  It would help to know what system you are on (esp. if Windows)
>> and the exact commands you used leading up to the error.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Alireza Hashemloo <alireh at uw.edu>
>>
>> *Subject: *[Radiance-general] Three Phase Method Tutorial - Example 1
>>
>> *Date: *November 30, 2015 1:04:14 AM PST
>>
>>
>> Hello,
>>
>> I have a couple of questions with regards to the three-phase method
>> tutorials:
>>
>> 1- Following the Example 1 in the tutorial document titled as "The
>> Three-Phase Method for Simulating Complex Fenestration with Radiance"
>> (available at
>> http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf)
>> I have encountered the following error message using the dctimestep (page
>> 21) to generate a rendering:
>>
>> "fatal - unexpected EOF reading results/south.dmx"
>>
>> I have checked the content of the south.dmx file generated in the
>> previous steps and it appears that with the exception of the first 9 lines
>> providing information such as the Format, Software, Capdate etc, the
>> remaining of the lines contain NULL values. This is despite the fact that I
>> have not received any error messages following the Example 1 through each
>> step prior to this last step where the EOF error is raised.
>>
>> 2- There is another document titled as "Radiance Three Phase Method
>> Tutorial" (also by Andy McNeil) which I could not find on the Radiance
>> website but it it published via GitBook at the following link:
>>
>>
>> https://www.gitbook.com/book/andymcneil/three-phase-method-tutorial/details
>>
>> Following the Example 1 of this new tutorial document, the 'rcontib' call
>> is replaced with 'rfluxmtx' to create the view matrix renderings. I have
>> also attempted to pursue this example step by step, however, the call for
>> the 'rfluxmtx' for generating view matrix renderings (page 21) raises the
>> following error message:
>>
>> "missing hemisphere sampling type"
>>
>> I have checked the 'rfluxmtx' document describing the application of a
>> "#@rfluxmtx variable=value" form to pass the sampling basis (eg. h=kf for
>> full Klems sampling model). However, I could not find the correct syntax to
>> add this variable to the rfluxmtx command call in the tutorial (page 21) in
>> response to the "missing hemisphere sampling type" error.
>>
>>
>> I would appreciate if you could help me with these two questions.
>>
>> Thank you,
>> Alireza
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151130/4ff27b14/attachment-0001.html>

From mcneil.andrew at gmail.com  Mon Nov 30 21:05:35 2015
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Mon, 30 Nov 2015 21:05:35 -0800
Subject: [Radiance-general] Three Phase Method Tutorial - Example 1
In-Reply-To: <CADjcrejxfzc+MzouA5muuCbNuGQVWfOKAoBD=ES_LKXpW21Wiw@mail.gmail.com>
References: <CADjcregxpf13c4xW5ARyDyauhpE0ut9QZLmRQpa-uupNJaAK+w@mail.gmail.com>
	<9B627B18-5355-4FBB-AA95-4EFDB691899C@lmi.net>
	<CADjcrejxfzc+MzouA5muuCbNuGQVWfOKAoBD=ES_LKXpW21Wiw@mail.gmail.com>
Message-ID: <CAEFJVk_XO0O8DMkRJrdXTh9fBF_T8A4vbrm0pSiAzSFirqc=tg@mail.gmail.com>

Alireza,

I suspect your first error stems from an unexpected or missing header. Can
you open your daylight matrix and sky vector in notepad and respond with
the first 10 lines in each file?

The second tutorial that you've found is meant to replace the old tutorial,
but I've not finished it yet so there may be some inconsistencies.  Can you
email the comment line of your window.rad file (the one that starts
#@rfluxmtx) as this is where the sampling basis is specified.

Andy



On Mon, Nov 30, 2015 at 6:41 PM, Alireza Hashemloo <alireh at uw.edu> wrote:

> Hi Greg,
>
> Thank you for your response.
>
> I am working on a Windows 7 (64-bit) operating system and I use GitBash
> shell for my command line.
> Following the description of the two error messages relative to the two
> versions of the Three-Phase Method tutorial, I have provided the exact
> command line raising the errors
> in the Example #1 of both tutorials:
>
> 1- Tutorial Document Title: "The Three-Phase Method for Simulating Complex
> Fenestration with Radiance"
>     Access Link:
> http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf
>     Page # 21
>     Command:    $ dctimestep images/vmx/window_%03d.hdr
> data/singleclear.xml results/south.dmx skies/12_21_15.skv >
> images/122115_clear.hdr
>     Error: "fatal - unexpected EOF reading results/south.dmx"
>
> 2- Tutorial Document Title: "Radiance Three Phase Method Tutorial"
>     Access link:
> https://www.gitbook.com/book/andymcneil/three-phase-method-tutorial/details
>     Page # 21
>     Command:  $ vwrays -fa -vf views/back.vf -x 600 -y 600 | rfluxmtx
> `vwrays -vf views/back.vf -x 600 -y 600 -d` -n 8 -fac -ab 12 -ad 50000 -lw
> 2e-5 - objects/window.rad materials/testroom.mat objects/testroom.rad
>     Error: "C:\Radiance\bin\rfluxmtx.exe: missing hemisphere sampling
> type!"
>
> I hope the referenced commands would help to give a better description of
> how the errors are raised.
> Please let me know if you need any further information.
>
> Thank you,
> Alireza
>
> On Mon, Nov 30, 2015 at 9:40 AM, Greg Ward <gregoryjward at gmail.com> wrote:
>
>> Hi Alireza,
>>
>> There have been a few changes to the programs since this tutorial was
>> written.  It would help to know what system you are on (esp. if Windows)
>> and the exact commands you used leading up to the error.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Alireza Hashemloo <alireh at uw.edu>
>>
>> *Subject: *[Radiance-general] Three Phase Method Tutorial - Example 1
>>
>> *Date: *November 30, 2015 1:04:14 AM PST
>>
>>
>> Hello,
>>
>> I have a couple of questions with regards to the three-phase method
>> tutorials:
>>
>> 1- Following the Example 1 in the tutorial document titled as "The
>> Three-Phase Method for Simulating Complex Fenestration with Radiance"
>> (available at
>> http://www.radiance-online.org/learning/tutorials/Tutorial-ThreePhaseMethod.pdf)
>> I have encountered the following error message using the dctimestep (page
>> 21) to generate a rendering:
>>
>> "fatal - unexpected EOF reading results/south.dmx"
>>
>> I have checked the content of the south.dmx file generated in the
>> previous steps and it appears that with the exception of the first 9 lines
>> providing information such as the Format, Software, Capdate etc, the
>> remaining of the lines contain NULL values. This is despite the fact that I
>> have not received any error messages following the Example 1 through each
>> step prior to this last step where the EOF error is raised.
>>
>> 2- There is another document titled as "Radiance Three Phase Method
>> Tutorial" (also by Andy McNeil) which I could not find on the Radiance
>> website but it it published via GitBook at the following link:
>>
>>
>> https://www.gitbook.com/book/andymcneil/three-phase-method-tutorial/details
>>
>> Following the Example 1 of this new tutorial document, the 'rcontib' call
>> is replaced with 'rfluxmtx' to create the view matrix renderings. I have
>> also attempted to pursue this example step by step, however, the call for
>> the 'rfluxmtx' for generating view matrix renderings (page 21) raises the
>> following error message:
>>
>> "missing hemisphere sampling type"
>>
>> I have checked the 'rfluxmtx' document describing the application of a
>> "#@rfluxmtx variable=value" form to pass the sampling basis (eg. h=kf for
>> full Klems sampling model). However, I could not find the correct syntax to
>> add this variable to the rfluxmtx command call in the tutorial (page 21) in
>> response to the "missing hemisphere sampling type" error.
>>
>>
>> I would appreciate if you could help me with these two questions.
>>
>> Thank you,
>> Alireza
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151130/1f6d0694/attachment.html>

