From rmfritz3 at gmail.com  Thu Oct  1 13:16:33 2015
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Thu, 1 Oct 2015 13:16:33 -0700
Subject: [Radiance-general] use radiance in windows
In-Reply-To: <CABNGNZJEMAgpdoxqC2xRvZN9rC-KH2__f6dSmCPAgyA3FixqxQ@mail.gmail.com>
References: <CABNGNZJEMAgpdoxqC2xRvZN9rC-KH2__f6dSmCPAgyA3FixqxQ@mail.gmail.com>
Message-ID: <CANeAMoKAoo5xo1OGVm=J8gX7A+mAmSc0m89gWRNLNfi04=TbNw@mail.gmail.com>

Radiance's native modeling facilities are limited to text files. Complex
models can be exported from common modeling tools like Rhino, SketchUp, and
even Blender. One still has to write some text files, however.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Tue, Sep 29, 2015 at 11:20 AM, shailan zareiy <sh.zareiy at gmail.com>
wrote:

> hello
> Sorry if I ask repetitive question but i couldn't find the answer of my
> question anywhere. i am a user of radiance via ecotect for some years,but
> one of the disadvantages of this version of radiance is that, it doesn't
> use weather data. so i decided yo use new version of radiance for windows.
> i installed this version, but i don't know how i can use this radiance?
> where should I model the room I want to simulate?
> Thank you
> Shailan
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151001/cbfa4dae/attachment.html>

From sh.zareiy at gmail.com  Fri Oct  2 04:06:42 2015
From: sh.zareiy at gmail.com (shailan zareiy)
Date: Fri, 2 Oct 2015 14:36:42 +0330
Subject: [Radiance-general] use radiance in windows
In-Reply-To: <CANeAMoKAoo5xo1OGVm=J8gX7A+mAmSc0m89gWRNLNfi04=TbNw@mail.gmail.com>
References: <CABNGNZJEMAgpdoxqC2xRvZN9rC-KH2__f6dSmCPAgyA3FixqxQ@mail.gmail.com>
	<CANeAMoKAoo5xo1OGVm=J8gX7A+mAmSc0m89gWRNLNfi04=TbNw@mail.gmail.com>
Message-ID: <CABNGNZJT2hTVcXkNX97xyxMXZLwEORHSWZkgijzDpsn-4wmBsA@mail.gmail.com>

I appreciate  all of you for quick answers. they are absolutely useful.
I'll try the solutions .thank you very much.
Shailan

On Thu, Oct 1, 2015 at 11:46 PM, Randolph M. Fritz <rmfritz3 at gmail.com>
wrote:

> Radiance's native modeling facilities are limited to text files. Complex
> models can be exported from common modeling tools like Rhino, SketchUp, and
> even Blender. One still has to write some text files, however.
>
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
>
> On Tue, Sep 29, 2015 at 11:20 AM, shailan zareiy <sh.zareiy at gmail.com>
> wrote:
>
>> hello
>> Sorry if I ask repetitive question but i couldn't find the answer of my
>> question anywhere. i am a user of radiance via ecotect for some years,but
>> one of the disadvantages of this version of radiance is that, it doesn't
>> use weather data. so i decided yo use new version of radiance for windows.
>> i installed this version, but i don't know how i can use this radiance?
>> where should I model the room I want to simulate?
>> Thank you
>> Shailan
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151002/522d88fe/attachment.html>

From ruggiero.guida at gmail.com  Sat Oct  3 01:40:33 2015
From: ruggiero.guida at gmail.com (Ruggiero Guida)
Date: Sat, 3 Oct 2015 16:40:33 +0800
Subject: [Radiance-general] x11meta issue
Message-ID: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>

Hi I am having issues with the x11meta command.
If I run

objline objects/things.rad | x11meta (from Alex's tutorial),  I keep
receiving the error:

xform: cannot find file "things.rad"
fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
xform: cannot find file "things.orig"


- I am on Mac OSX Yosemite.
- Last 5.0 binaries installed in default directory
- PATH, RAYPATH set correctly
- x11 installed from xQuarz.org

I have checked other threads and it seems other people had the same issue,
but no solution was provided.

Any suggestion?

Thanks
Ruggiero
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/1255e6c7/attachment.html>

From wouter.beck at ascendilex.nl  Sat Oct  3 05:21:18 2015
From: wouter.beck at ascendilex.nl (ascendilex | Wouter Beck)
Date: Sat, 3 Oct 2015 14:21:18 +0200
Subject: [Radiance-general] Display of time lapse at constant brightness
Message-ID: <560FC83E.8090400@ascendilex.nl>

Dear Group,

I'm trying to display a series of Radiance renderings as a time lapse
animation.

I convert (pfilt -e +0 -r .6 -x /2 -y /2 filtered) hdr-images via
ra_tiff and the resulting tifs are combined into an animated gif via
(ImageMagick's) convert -delay 200 -quality 100 *.tif time-lapse.gif.

Each image represents a view of an atrium 1 hour apart.
The indirectly lit walls of the room that contains my view point get
displayed darker as the atrium scene brightens up.
In absolute terms one wall has a luminance of 15 cd/m2 at 9:00. That
same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
appears darker.
Exposure times in the headers are of course quite different:
vp-A-092108.00.pic:EXPOSURE=3.008155e+00
vp-A-092112.00.pic:EXPOSURE=3.957302e-01


Basically I want the tone mapping according to a constant (perhaps log)
scale for all images.

How can that be accomplished?
(Looks like falsecolor could do this if it also had a greyscale palette.)

Best regards,

Wouter



From kallie at umn.edu  Sat Oct  3 05:37:01 2015
From: kallie at umn.edu (Chris Kallie)
Date: Sat, 3 Oct 2015 08:37:01 -0400
Subject: [Radiance-general] x11meta issue
In-Reply-To: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
References: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
Message-ID: <560FCBED.3060807@umn.edu>

Make sure you are in the right directory, or pointing to the right 
directory. -Chris

On 10/3/15 4:40 AM, Ruggiero Guida wrote:
> Hi I am having issues with the x11meta command.
> If I run
>
> objline objects/things.rad | x11meta (from Alex's tutorial),  I keep 
> receiving the error:
>
> xform: cannot find file "things.rad"
> fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
> xform: cannot find file "things.orig"
>
>
> - I am on Mac OSX Yosemite.
> - Last 5.0 binaries installed in default directory
> - PATH, RAYPATH set correctly
> - x11 installed from xQuarz.org
>
> I have checked other threads and it seems other people had the same 
> issue, but no solution was provided.
>
> Any suggestion?
>
> Thanks
> Ruggiero
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/457d5b27/attachment.html>

From kallie at umn.edu  Sat Oct  3 05:45:24 2015
From: kallie at umn.edu (Chris Kallie)
Date: Sat, 3 Oct 2015 08:45:24 -0400
Subject: [Radiance-general] Display of time lapse at constant brightness
In-Reply-To: <560FC83E.8090400@ascendilex.nl>
References: <560FC83E.8090400@ascendilex.nl>
Message-ID: <560FCDE4.6040506@umn.edu>

You can use the -e option in pfilt to adjust by a constant. Instead of 
using +0, you can use a value without the + symbol that is a fraction of 
the EXPOSURE value in your header file. -Chris

On 10/3/15 8:21 AM, ascendilex | Wouter Beck wrote:
> Dear Group,
>
> I'm trying to display a series of Radiance renderings as a time lapse
> animation.
>
> I convert (pfilt -e +0 -r .6 -x /2 -y /2 filtered) hdr-images via
> ra_tiff and the resulting tifs are combined into an animated gif via
> (ImageMagick's) convert -delay 200 -quality 100 *.tif time-lapse.gif.
>
> Each image represents a view of an atrium 1 hour apart.
> The indirectly lit walls of the room that contains my view point get
> displayed darker as the atrium scene brightens up.
> In absolute terms one wall has a luminance of 15 cd/m2 at 9:00. That
> same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
> appears darker.
> Exposure times in the headers are of course quite different:
> vp-A-092108.00.pic:EXPOSURE=3.008155e+00
> vp-A-092112.00.pic:EXPOSURE=3.957302e-01
>
>
> Basically I want the tone mapping according to a constant (perhaps log)
> scale for all images.
>
> How can that be accomplished?
> (Looks like falsecolor could do this if it also had a greyscale palette.)
>
> Best regards,
>
> Wouter
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From rob.guglielmetti at gmail.com  Sat Oct  3 08:47:45 2015
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sat, 3 Oct 2015 09:47:45 -0600
Subject: [Radiance-general] x11meta issue
In-Reply-To: <560FCBED.3060807@umn.edu>
References: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
	<560FCBED.3060807@umn.edu>
Message-ID: <CAEkFE9iEF7hwZfWLSzx=u7dnGBWEnBbiwVajavwuYK04xZ5b4w@mail.gmail.com>

Chris? directory/path advice will fix errors one and three in your output
below, but error two is unfortunately a result of the NREL binary packages
not working correctly for x11meta. Sorry about that, I haven?t had a chance
to sort that one out yet. Used to be, no one ever used x11meta but it
appears lots of people are starting to pick up Axel?s tutorial which
includes the use of that tool, so I guess I?d better get this sorted!

-Rob

From: Chris Kallie <kallie at umn.edu> <kallie at umn.edu>
Reply: Radiance general discussion <radiance-general at radiance-online.org>>
<radiance-general at radiance-online.org>
Date: October 3, 2015 at 6:37:17 AM
To: Radiance general discussion <radiance-general at radiance-online.org>>
<radiance-general at radiance-online.org>
Subject:  Re: [Radiance-general] x11meta issue

Make sure you are in the right directory, or pointing to the right
directory. -Chris

On 10/3/15 4:40 AM, Ruggiero Guida wrote:

Hi I am having issues with the x11meta command.
If I run

objline objects/things.rad | x11meta (from Alex's tutorial),  I keep
receiving the error:

xform: cannot find file "things.rad"
fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
xform: cannot find file "things.orig"


- I am on Mac OSX Yosemite.
- Last 5.0 binaries installed in default directory
- PATH, RAYPATH set correctly
- x11 installed from xQuarz.org

I have checked other threads and it seems other people had the same issue,
but no solution was provided.

Any suggestion?

Thanks
Ruggiero


_______________________________________________
Radiance-general mailing
listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/aa8f7830/attachment-0001.html>

From rob.guglielmetti at gmail.com  Sat Oct  3 08:53:59 2015
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sat, 3 Oct 2015 09:53:59 -0600
Subject: [Radiance-general] Display of time lapse at constant brightness
In-Reply-To: <560FCDE4.6040506@umn.edu>
References: <560FC83E.8090400@ascendilex.nl>
	<560FCDE4.6040506@umn.edu>
Message-ID: <CAEkFE9jVf0PpKv58OSWnxKA2AdFv0zsMdFkSJfBR+Tq-_qXvXw@mail.gmail.com>

Another option for you Wouter would be to use the phisto shell script
(assuming you're running Radiance on Mac or Linux). From the man page:

"The primary function of this script is to precompute histograms for the
       pcond(1) program, which may then be used to compute multiple,
identical
       exposures.   This is especially useful for animations and image
compar-
       isons."

This is pretty much right up your alley, for animations. As this method
uses tonemapping, you must remain mindful of what it is that you are really
displaying. Perhaps the best method is to show, side-by-side, a tonemapped
image alongside a quantitative falcesolor image of the real values.

On Sat, Oct 3, 2015 at 6:45 AM, Chris Kallie <kallie at umn.edu> wrote:

> You can use the -e option in pfilt to adjust by a constant. Instead of
> using +0, you can use a value without the + symbol that is a fraction of
> the EXPOSURE value in your header file. -Chris
>
>
> On 10/3/15 8:21 AM, ascendilex | Wouter Beck wrote:
>
>> Dear Group,
>>
>> I'm trying to display a series of Radiance renderings as a time lapse
>> animation.
>>
>> I convert (pfilt -e +0 -r .6 -x /2 -y /2 filtered) hdr-images via
>> ra_tiff and the resulting tifs are combined into an animated gif via
>> (ImageMagick's) convert -delay 200 -quality 100 *.tif time-lapse.gif.
>>
>> Each image represents a view of an atrium 1 hour apart.
>> The indirectly lit walls of the room that contains my view point get
>> displayed darker as the atrium scene brightens up.
>> In absolute terms one wall has a luminance of 15 cd/m2 at 9:00. That
>> same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
>> appears darker.
>> Exposure times in the headers are of course quite different:
>> vp-A-092108.00.pic:EXPOSURE=3.008155e+00
>> vp-A-092112.00.pic:EXPOSURE=3.957302e-01
>>
>>
>> Basically I want the tone mapping according to a constant (perhaps log)
>> scale for all images.
>>
>> How can that be accomplished?
>> (Looks like falsecolor could do this if it also had a greyscale palette.)
>>
>> Best regards,
>>
>> Wouter
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/e1d9e132/attachment.html>

From mcneil.andrew at gmail.com  Sat Oct  3 08:08:16 2015
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Sat, 3 Oct 2015 08:08:16 -0700
Subject: [Radiance-general] Display of time lapse at constant brightness
In-Reply-To: <560FCDE4.6040506@umn.edu>
References: <560FC83E.8090400@ascendilex.nl>
	<560FCDE4.6040506@umn.edu>
Message-ID: <CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>

You could also use phisto to create a luminance histogram from all your
images and tone map your images using pcond with the all image histogram as
input.

phisto frame*.hdr > allframes.hist
pcond frame0001.hdr < allframes.hist | ra_tiff - frame0001.tif

When there's a wide range of illumination conditions I find that pcond with
the histogram works best to preserve visibility and maintain consistency
between frames.

Andy

On Sat, Oct 3, 2015 at 5:45 AM, Chris Kallie <kallie at umn.edu> wrote:

> You can use the -e option in pfilt to adjust by a constant. Instead of
> using +0, you can use a value without the + symbol that is a fraction of
> the EXPOSURE value in your header file. -Chris
>
>
> On 10/3/15 8:21 AM, ascendilex | Wouter Beck wrote:
>
>> Dear Group,
>>
>> I'm trying to display a series of Radiance renderings as a time lapse
>> animation.
>>
>> I convert (pfilt -e +0 -r .6 -x /2 -y /2 filtered) hdr-images via
>> ra_tiff and the resulting tifs are combined into an animated gif via
>> (ImageMagick's) convert -delay 200 -quality 100 *.tif time-lapse.gif.
>>
>> Each image represents a view of an atrium 1 hour apart.
>> The indirectly lit walls of the room that contains my view point get
>> displayed darker as the atrium scene brightens up.
>> In absolute terms one wall has a luminance of 15 cd/m2 at 9:00. That
>> same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
>> appears darker.
>> Exposure times in the headers are of course quite different:
>> vp-A-092108.00.pic:EXPOSURE=3.008155e+00
>> vp-A-092112.00.pic:EXPOSURE=3.957302e-01
>>
>>
>> Basically I want the tone mapping according to a constant (perhaps log)
>> scale for all images.
>>
>> How can that be accomplished?
>> (Looks like falsecolor could do this if it also had a greyscale palette.)
>>
>> Best regards,
>>
>> Wouter
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/f8231b6d/attachment.html>

From gregoryjward at gmail.com  Sat Oct  3 10:03:47 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 3 Oct 2015 10:03:47 -0700
Subject: [Radiance-general] Display of time lapse at constant brightness
In-Reply-To: <CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
Message-ID: <C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>

Andy's recommendation would also be mine, but you need the "-I" option to pcond to get it to read the histogram from stdin.

Cheers,
-Greg

> From: Andy McNeil <mcneil.andrew at gmail.com>
> Subject: Re: [Radiance-general] Display of time lapse at constant brightness
> Date: October 3, 2015 8:08:16 AM PDT
> 
> You could also use phisto to create a luminance histogram from all your images and tone map your images using pcond with the all image histogram as input.
> 
> phisto frame*.hdr > allframes.hist
> pcond frame0001.hdr < allframes.hist | ra_tiff - frame0001.tif
> 
> When there's a wide range of illumination conditions I find that pcond with the histogram works best to preserve visibility and maintain consistency between frames.
> 
> Andy
> 
> On Sat, Oct 3, 2015 at 5:45 AM, Chris Kallie <kallie at umn.edu> wrote:
> You can use the -e option in pfilt to adjust by a constant. Instead of using +0, you can use a value without the + symbol that is a fraction of the EXPOSURE value in your header file. -Chris
> 
> 
> On 10/3/15 8:21 AM, ascendilex | Wouter Beck wrote:
> Dear Group,
> 
> I'm trying to display a series of Radiance renderings as a time lapse
> animation.
> 
> I convert (pfilt -e +0 -r .6 -x /2 -y /2 filtered) hdr-images via
> ra_tiff and the resulting tifs are combined into an animated gif via
> (ImageMagick's) convert -delay 200 -quality 100 *.tif time-lapse.gif.
> 
> Each image represents a view of an atrium 1 hour apart.
> The indirectly lit walls of the room that contains my view point get
> displayed darker as the atrium scene brightens up.
> In absolute terms one wall has a luminance of 15 cd/m2 at 9:00. That
> same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
> appears darker.
> Exposure times in the headers are of course quite different:
> vp-A-092108.00.pic:EXPOSURE=3.008155e+00
> vp-A-092112.00.pic:EXPOSURE=3.957302e-01
> 
> 
> Basically I want the tone mapping according to a constant (perhaps log)
> scale for all images.
> 
> How can that be accomplished?
> (Looks like falsecolor could do this if it also had a greyscale palette.)
> 
> Best regards,
> 
> Wouter
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/c5c980c2/attachment.html>

From gregoryjward at gmail.com  Sat Oct  3 10:06:56 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 3 Oct 2015 10:06:56 -0700
Subject: [Radiance-general] x11meta issue
In-Reply-To: <CAEkFE9iEF7hwZfWLSzx=u7dnGBWEnBbiwVajavwuYK04xZ5b4w@mail.gmail.com>
References: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
	<560FCBED.3060807@umn.edu>
	<CAEkFE9iEF7hwZfWLSzx=u7dnGBWEnBbiwVajavwuYK04xZ5b4w@mail.gmail.com>
Message-ID: <57844F1A-F1FC-40B4-8BC5-DB43329BA187@lmi.net>

I don't know why xform is complaining, but the problem with x11meta *may* be the MDIR environment variable, which should point to the appropriate library directory on your system.  Mine is set to the location of:

	$MDIR=/usr/local/lib/ray/meta/
	export MDIR

Note the trailing '/' which is very important.  Generally speaking, this directory sits in a "meta" subdirectory of the main Radiance library.

Hope this helps!
-Greg

> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
> Subject: Re: [Radiance-general] x11meta issue
> Date: October 3, 2015 8:47:45 AM PDT
> 
> Chris? directory/path advice will fix errors one and three in your output below, but error two is unfortunately a result of the NREL binary packages not working correctly for x11meta. Sorry about that, I haven?t had a chance to sort that one out yet. Used to be, no one ever used x11meta but it appears lots of people are starting to pick up Axel?s tutorial which includes the use of that tool, so I guess I?d better get this sorted!
> 
> -Rob
> 
> From: Chris Kallie <kallie at umn.edu>
> Reply: Radiance general discussion <radiance-general at radiance-online.org>>
> Date: October 3, 2015 at 6:37:17 AM
> To: Radiance general discussion <radiance-general at radiance-online.org>>
> Subject:  Re: [Radiance-general] x11meta issue 
> 
>> Make sure you are in the right directory, or pointing to the right directory. -Chris
>> 
>> On 10/3/15 4:40 AM, Ruggiero Guida wrote:
>>> Hi I am having issues with the x11meta command.
>>> If I run 
>>> 
>>> objline objects/things.rad | x11meta (from Alex's tutorial),  I keep receiving the error:
>>> 
>>> xform: cannot find file "things.rad"
>>> fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
>>> xform: cannot find file "things.orig"
>>> 
>>> 
>>> - I am on Mac OSX Yosemite. 
>>> - Last 5.0 binaries installed in default directory
>>> - PATH, RAYPATH set correctly
>>> - x11 installed from xQuarz.org
>>> 
>>> I have checked other threads and it seems other people had the same issue, but no solution was provided.
>>> 
>>> Any suggestion?
>>> 
>>> Thanks
>>> Ruggiero
>>> 
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> _______________________________________________ 
>> Radiance-general mailing list 
>> Radiance-general at radiance-online.org 
>> http://www.radiance-online.org/mailman/listinfo/radiance-general 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/6ec438ca/attachment-0001.html>

From kallie at umn.edu  Sat Oct  3 10:12:15 2015
From: kallie at umn.edu (Chris Kallie)
Date: Sat, 3 Oct 2015 13:12:15 -0400
Subject: [Radiance-general] Display of time lapse at constant brightness
In-Reply-To: <C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
	<C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
Message-ID: <56100C6F.9050004@umn.edu>

In Wouter's post, he stated "In absolute terms one wall has a luminance 
of 15 cd/m2 at 9:00. That
same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it 
appears darker."

I would be interested to understand how the output images would remain 
linear using a tone-mapping algorithm.

The general issue at hand is that some people want visually pleasant 
results, and some need numeric accuracy in the outputs. Perhaps the best 
approach depends upon what the intended use of the output images is, 
imho. (Unless I am not understanding something about the tone-mapping 
algorithm.) -Chris

On 10/3/15 1:03 PM, Greg Ward wrote:
> Andy's recommendation would also be mine, but you need the "-I" option 
> to pcond to get it to read the histogram from stdin.
>
> Cheers,
> -Greg
>
>> *From: *Andy McNeil <mcneil.andrew at gmail.com 
>> <mailto:mcneil.andrew at gmail.com>>
>>
>> *Subject: *Re: [Radiance-general] Display of time lapse at constant 
>> brightness
>>
>> *Date: *October 3, 2015 8:08:16 AM PDT
>>
>> *
>> *
>>
>> You could also use phisto to create a luminance histogram from all 
>> your images and tone map your images using pcond with the all image 
>> histogram as input.
>>
>> phisto frame*.hdr > allframes.hist
>> pcond frame0001.hdr < allframes.hist | ra_tiff - frame0001.tif
>>
>> When there's a wide range of illumination conditions I find that 
>> pcond with the histogram works best to preserve visibility and 
>> maintain consistency between frames.
>>
>> Andy
>>
>> On Sat, Oct 3, 2015 at 5:45 AM, Chris Kallie <kallie at umn.edu 
>> <mailto:kallie at umn.edu>> wrote:
>>
>>     You can use the -e option in pfilt to adjust by a constant.
>>     Instead of using +0, you can use a value without the + symbol
>>     that is a fraction of the EXPOSURE value in your header file. -Chris
>>
>>
>>     On 10/3/15 8:21 AM, ascendilex | Wouter Beck wrote:
>>
>>         Dear Group,
>>
>>         I'm trying to display a series of Radiance renderings as a
>>         time lapse
>>         animation.
>>
>>         I convert (pfilt -e +0 -r .6 -x /2 -y /2 filtered) hdr-images via
>>         ra_tiff and the resulting tifs are combined into an animated
>>         gif via
>>         (ImageMagick's) convert -delay 200 -quality 100 *.tif
>>         time-lapse.gif.
>>
>>         Each image represents a view of an atrium 1 hour apart.
>>         The indirectly lit walls of the room that contains my view
>>         point get
>>         displayed darker as the atrium scene brightens up.
>>         In absolute terms one wall has a luminance of 15 cd/m2 at
>>         9:00. That
>>         same wall is 29 cd/m2 at 12:00, yet when displayed (using
>>         ximage) it
>>         appears darker.
>>         Exposure times in the headers are of course quite different:
>>         vp-A-092108.00.pic:EXPOSURE=3.008155e+00
>>         vp-A-092112.00.pic:EXPOSURE=3.957302e-01
>>
>>
>>         Basically I want the tone mapping according to a constant
>>         (perhaps log)
>>         scale for all images.
>>
>>         How can that be accomplished?
>>         (Looks like falsecolor could do this if it also had a
>>         greyscale palette.)
>>
>>         Best regards,
>>
>>         Wouter
>>
>>
>>         _______________________________________________
>>         Radiance-general mailing list
>>         Radiance-general at radiance-online.org
>>         <mailto:Radiance-general at radiance-online.org>
>>         http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>>     _______________________________________________
>>     Radiance-general mailing list
>>     Radiance-general at radiance-online.org
>>     <mailto:Radiance-general at radiance-online.org>
>>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org 
>> <mailto:Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/8a6c0b2a/attachment.html>

From rob.guglielmetti at gmail.com  Sat Oct  3 10:18:19 2015
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sat, 3 Oct 2015 11:18:19 -0600
Subject: [Radiance-general] Display of time lapse at constant brightness
In-Reply-To: <56100C6F.9050004@umn.edu>
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
	<C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
	<56100C6F.9050004@umn.edu>
Message-ID: <CAEkFE9jB+TbAzismQ0UuP+AECFniR7J8iS+NS+SX+zqmsbghAA@mail.gmail.com>

Somehow my reply didn't go thru the first time, but the last 'graph speaks
to this issue of tonemapped versus absolute value images...

Another option for you Wouter would be to use the phisto shell script
(assuming you're running Radiance on Mac or Linux). From the man page:

"The primary function of this script is to precompute histograms for the
       pcond(1) program, which may then be used to compute multiple,
identical
       exposures.   This is especially useful for animations and image
compar-
       isons."

This is pretty much right up your alley, for animations. As this method
uses tonemapping, you must remain mindful of what it is that you are really
displaying. Perhaps the best method is to show, side-by-side, a tonemapped
image alongside a quantitative falcesolor image of the real values.

On Sat, Oct 3, 2015 at 11:12 AM, Chris Kallie <kallie at umn.edu> wrote:

> In Wouter's post, he stated "In absolute terms one wall has a luminance of
> 15 cd/m2 at 9:00. That
> same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
> appears darker."
>
> I would be interested to understand how the output images would remain
> linear using a tone-mapping algorithm.
>
> The general issue at hand is that some people want visually pleasant
> results, and some need numeric accuracy in the outputs. Perhaps the best
> approach depends upon what the intended use of the output images is, imho.
> (Unless I am not understanding something about the tone-mapping algorithm.)
> -Chris
>
>
> On 10/3/15 1:03 PM, Greg Ward wrote:
>
> Andy's recommendation would also be mine, but you need the "-I" option to
> pcond to get it to read the histogram from stdin.
>
> Cheers,
> -Greg
>
> *From: *Andy McNeil < <mcneil.andrew at gmail.com>mcneil.andrew at gmail.com>
>
> *Subject: *Re: [Radiance-general] Display of time lapse at constant
> brightness
>
> *Date: *October 3, 2015 8:08:16 AM PDT
>
>
> You could also use phisto to create a luminance histogram from all your
> images and tone map your images using pcond with the all image histogram as
> input.
>
> phisto frame*.hdr > allframes.hist
> pcond frame0001.hdr < allframes.hist | ra_tiff - frame0001.tif
>
> When there's a wide range of illumination conditions I find that pcond
> with the histogram works best to preserve visibility and maintain
> consistency between frames.
>
> Andy
>
> On Sat, Oct 3, 2015 at 5:45 AM, Chris Kallie <kallie at umn.edu> wrote:
>
>> You can use the -e option in pfilt to adjust by a constant. Instead of
>> using +0, you can use a value without the + symbol that is a fraction of
>> the EXPOSURE value in your header file. -Chris
>>
>>
>> On 10/3/15 8:21 AM, ascendilex | Wouter Beck wrote:
>>
>>> Dear Group,
>>>
>>> I'm trying to display a series of Radiance renderings as a time lapse
>>> animation.
>>>
>>> I convert (pfilt -e +0 -r .6 -x /2 -y /2 filtered) hdr-images via
>>> ra_tiff and the resulting tifs are combined into an animated gif via
>>> (ImageMagick's) convert -delay 200 -quality 100 *.tif time-lapse.gif.
>>>
>>> Each image represents a view of an atrium 1 hour apart.
>>> The indirectly lit walls of the room that contains my view point get
>>> displayed darker as the atrium scene brightens up.
>>> In absolute terms one wall has a luminance of 15 cd/m2 at 9:00. That
>>> same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
>>> appears darker.
>>> Exposure times in the headers are of course quite different:
>>> vp-A-092108.00.pic:EXPOSURE=3.008155e+00
>>> vp-A-092112.00.pic:EXPOSURE=3.957302e-01
>>>
>>>
>>> Basically I want the tone mapping according to a constant (perhaps log)
>>> scale for all images.
>>>
>>> How can that be accomplished?
>>> (Looks like falsecolor could do this if it also had a greyscale palette.)
>>>
>>> Best regards,
>>>
>>> Wouter
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/471331b1/attachment-0001.html>

From rob.guglielmetti at gmail.com  Sat Oct  3 10:50:57 2015
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sat, 3 Oct 2015 11:50:57 -0600
Subject: [Radiance-general] x11meta issue
In-Reply-To: <57844F1A-F1FC-40B4-8BC5-DB43329BA187@lmi.net>
References: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
	<560FCBED.3060807@umn.edu>
	<CAEkFE9iEF7hwZfWLSzx=u7dnGBWEnBbiwVajavwuYK04xZ5b4w@mail.gmail.com>
	<57844F1A-F1FC-40B4-8BC5-DB43329BA187@lmi.net>
Message-ID: <etPan.56101581.625558ec.fd@explosivo.local>

Thanks Greg,

This vchars.mta file, is this a Radiance thing, or a system thing? The only references I see to this filename in all the Radiance source are in pexpand.c and expand.c:

https://github.com/NREL/Radiance/search?utf8=%E2%9C%93&q=vchars.mta

I do not see the file itself. I ASSumed this was because my installers weren?t packaging it, but it doesn?t seem to be in the Radiance repo at all, at least not in the mirror. On my entire storage device, I only see this file in a couple of places, and they?re all locations where I had really old archived installations of Radiance (built with your ?makeall? script). This makes me think this is a Radiance thing that somehow never got included in the mirror...

-Rob

From:?Greg Ward <gregoryjward at gmail.com>
Reply:?Radiance general discussion <radiance-general at radiance-online.org>>
Date:?October 3, 2015 at 11:05:40 AM
To:?Radiance general discussion <radiance-general at radiance-online.org>>
Subject:? Re: [Radiance-general] x11meta issue  

I don't know why xform is complaining, but the problem with x11meta *may* be the MDIR environment variable, which should point to the appropriate library directory on your system. ?Mine is set to the location of:

$MDIR=/usr/local/lib/ray/meta/
export MDIR

Note the trailing '/' which is very important. ?Generally speaking, this directory sits in a "meta" subdirectory of the main Radiance library.

Hope this helps!
-Greg

From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
Subject: Re: [Radiance-general] x11meta issue
Date: October 3, 2015 8:47:45 AM PDT

Chris? directory/path advice will fix errors one and three in your output below, but error two is unfortunately a result of the NREL binary packages not working correctly for x11meta. Sorry about that, I haven?t had a chance to sort that one out yet. Used to be, no one ever used x11meta but it appears lots of people are starting to pick up Axel?s tutorial which includes the use of that tool, so I guess I?d better get this sorted!

-Rob

From:?Chris Kallie <kallie at umn.edu>
Reply:?Radiance general discussion <radiance-general at radiance-online.org>>
Date:?October 3, 2015 at 6:37:17 AM
To:?Radiance general discussion <radiance-general at radiance-online.org>>
Subject:? Re: [Radiance-general] x11meta issue

Make sure you are in the right directory, or pointing to the right directory. -Chris

On 10/3/15 4:40 AM, Ruggiero Guida wrote:
Hi I am having issues with the x11meta command.
If I run?

objline objects/things.rad | x11meta (from Alex's tutorial), ?I keep receiving the error:

xform: cannot find file "things.rad"
fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
xform: cannot find file "things.orig"


- I am on Mac OSX Yosemite.?
- Last 5.0 binaries installed in default directory
- PATH, RAYPATH set correctly
- x11 installed from xQuarz.org

I have checked other threads and it seems other people had the same issue, but no solution was provided.

Any suggestion?

Thanks
Ruggiero


 _______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
_______________________________________________  
Radiance-general mailing list  
Radiance-general at radiance-online.org  
http://www.radiance-online.org/mailman/listinfo/radiance-general  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/4025a420/attachment.html>

From gregoryjward at gmail.com  Sat Oct  3 11:05:09 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 3 Oct 2015 11:05:09 -0700
Subject: [Radiance-general] x11meta issue
In-Reply-To: <etPan.56101581.625558ec.fd@explosivo.local>
References: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
	<560FCBED.3060807@umn.edu>
	<CAEkFE9iEF7hwZfWLSzx=u7dnGBWEnBbiwVajavwuYK04xZ5b4w@mail.gmail.com>
	<57844F1A-F1FC-40B4-8BC5-DB43329BA187@lmi.net>
	<etPan.56101581.625558ec.fd@explosivo.local>
Message-ID: <A8A70B96-683B-4AAB-A53F-71AFF3DC86C3@lmi.net>

Hmmm....  Unlike other "essential" library files, the meta/ folder is only distributed as part of the supplementary material in the "rad5R0all.tar.gz" ball at:

	http://www.radiance-online.org/download-install/radiance-source-code/latest-release

It lives in the ray/lib/meta/ subfolder of this distribution.  We could think about creating a subdirectory in the ray/src/meta directory and having it install from there if that makes more sense.  We should probably take this offline, or move it to the "dev" list.

@Ruggiero - try getting the above distribution and extracting the meta directory onto your system, setting the MDIR environment variable appropriately.  Hopefully, that will fix the issue for you.  We'll work on this for the next package, I guess.

Cheers,
-Greg

> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
> Subject: Re: [Radiance-general] x11meta issue
> Date: October 3, 2015 10:50:57 AM PDT
> 
> Thanks Greg,
> 
> This vchars.mta file, is this a Radiance thing, or a system thing? The only references I see to this filename in all the Radiance source are in pexpand.c and expand.c:
> 
> https://github.com/NREL/Radiance/search?utf8=%E2%9C%93&q=vchars.mta
> 
> I do not see the file itself. I ASSumed this was because my installers weren?t packaging it, but it doesn?t seem to be in the Radiance repo at all, at least not in the mirror. On my entire storage device, I only see this file in a couple of places, and they?re all locations where I had really old archived installations of Radiance (built with your ?makeall? script). This makes me think this is a Radiance thing that somehow never got included in the mirror...
> 
> -Rob
> 
> From: Greg Ward <gregoryjward at gmail.com>
> Reply: Radiance general discussion <radiance-general at radiance-online.org>>
> Date: October 3, 2015 at 11:05:40 AM
> 
>> I don't know why xform is complaining, but the problem with x11meta *may* be the MDIR environment variable, which should point to the appropriate library directory on your system.  Mine is set to the location of:
>> 
>> $MDIR=/usr/local/lib/ray/meta/
>> export MDIR
>> 
>> Note the trailing '/' which is very important.  Generally speaking, this directory sits in a "meta" subdirectory of the main Radiance library.
>> 
>> Hope this helps!
>> -Greg
>> 
>>> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
>>> Subject: Re: [Radiance-general] x11meta issue
>>> Date: October 3, 2015 8:47:45 AM PDT
>>> 
>>> Chris? directory/path advice will fix errors one and three in your output below, but error two is unfortunately a result of the NREL binary packages not working correctly for x11meta. Sorry about that, I haven?t had a chance to sort that one out yet. Used to be, no one ever used x11meta but it appears lots of people are starting to pick up Axel?s tutorial which includes the use of that tool, so I guess I?d better get this sorted!
>>> 
>>> -Rob
>>> 
>>> From: Chris Kallie <kallie at umn.edu>
>>> Reply: Radiance general discussion <radiance-general at radiance-online.org>>
>>> Date: October 3, 2015 at 6:37:17 AM
>>> To: Radiance general discussion <radiance-general at radiance-online.org>>
>>> Subject:  Re: [Radiance-general] x11meta issue
>>> 
>>>> Make sure you are in the right directory, or pointing to the right directory. -Chris
>>>> 
>>>> On 10/3/15 4:40 AM, Ruggiero Guida wrote:
>>>>> Hi I am having issues with the x11meta command.
>>>>> If I run 
>>>>> 
>>>>> objline objects/things.rad | x11meta (from Alex's tutorial),  I keep receiving the error:
>>>>> 
>>>>> xform: cannot find file "things.rad"
>>>>> fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
>>>>> xform: cannot find file "things.orig"
>>>>> 
>>>>> 
>>>>> - I am on Mac OSX Yosemite. 
>>>>> - Last 5.0 binaries installed in default directory
>>>>> - PATH, RAYPATH set correctly
>>>>> - x11 installed from xQuarz.org
>>>>> 
>>>>> I have checked other threads and it seems other people had the same issue, but no solution was provided.
>>>>> 
>>>>> Any suggestion?
>>>>> 
>>>>> Thanks
>>>>> Ruggiero
>>>>> 
>>>>> 
>>>>>  _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> _______________________________________________ 
>> Radiance-general mailing list 
>> Radiance-general at radiance-online.org 
>> http://www.radiance-online.org/mailman/listinfo/radiance-general 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/baa21069/attachment-0001.html>

From ruggiero.guida at gmail.com  Sat Oct  3 16:40:11 2015
From: ruggiero.guida at gmail.com (Ruggiero Guida)
Date: Sun, 4 Oct 2015 07:40:11 +0800
Subject: [Radiance-general] x11meta issue
In-Reply-To: <A8A70B96-683B-4AAB-A53F-71AFF3DC86C3@lmi.net>
References: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
	<560FCBED.3060807@umn.edu>
	<CAEkFE9iEF7hwZfWLSzx=u7dnGBWEnBbiwVajavwuYK04xZ5b4w@mail.gmail.com>
	<57844F1A-F1FC-40B4-8BC5-DB43329BA187@lmi.net>
	<etPan.56101581.625558ec.fd@explosivo.local>
	<A8A70B96-683B-4AAB-A53F-71AFF3DC86C3@lmi.net>
Message-ID: <CA+U776DgY3Xu71h--DT=_cW+2+2fgyq6o5o9weDEnLSC-+nnFw@mail.gmail.com>

Thanks Greg and Rob

I added the "meta" folder from the source distribution in ray/lib/meta/ and
the problem with x11meta is gone and I can now see the output in X11. My
original installation is still in /usr/local/radiance/.

Still having one of the problems with xform though and not sure why

I am working from the folder

~/dev/radiance

I create the file things.rad in ~/dev/radiance/objects

and then I use "objline ./objects/things.rad | x11meta"

The use of "./" has solved the issue of objline not finding things.rad, but
it still complains about the file things.orig. Do i need to create this
file or it is just a warning?

Thanks
Ruggiero




On 4 October 2015 at 02:05, Greg Ward <gregoryjward at gmail.com> wrote:

> Hmmm....  Unlike other "essential" library files, the meta/ folder is only
> distributed as part of the supplementary material in the "rad5R0all.tar.gz
> <http://www.radiance-online.org/download-install/radiance-source-code/latest-release/rad5R0all.tar.gz>"
> ball at:
>
>
> http://www.radiance-online.org/download-install/radiance-source-code/latest-release
>
> It lives in the ray/lib/meta/ subfolder of this distribution.  We could
> think about creating a subdirectory in the ray/src/meta directory and
> having it install from there if that makes more sense.  We should probably
> take this offline, or move it to the "dev" list.
>
> @Ruggiero - try getting the above distribution and extracting the meta
> directory onto your system, setting the MDIR environment variable
> appropriately.  Hopefully, that will fix the issue for you.  We'll work on
> this for the next package, I guess.
>
> Cheers,
> -Greg
>
> *From: *Rob Guglielmetti <rob.guglielmetti at gmail.com>
>
> *Subject: *Re: [Radiance-general] x11meta issue
>
> *Date: *October 3, 2015 10:50:57 AM PDT
>
>
> Thanks Greg,
>
> This vchars.mta file, is this a Radiance thing, or a system thing? The
> only references I see to this filename in all the Radiance source are in
> pexpand.c and expand.c:
>
> https://github.com/NREL/Radiance/search?utf8=%E2%9C%93&q=vchars.mta
>
> I do not see the file itself. I ASSumed this was because my installers
> weren?t packaging it, but it doesn?t seem to be in the Radiance repo at
> all, at least not in the mirror. On my entire storage device, I only see
> this file in a couple of places, and they?re all locations where I had
> really old archived installations of Radiance (built with your ?makeall?
> script). This makes me think this is a Radiance thing that somehow never
> got included in the mirror...
>
> -Rob
>
> From: Greg Ward <gregoryjward at gmail.com> <gregoryjward at gmail.com>
> Reply: Radiance general discussion <radiance-general at radiance-online.org>>
> <radiance-general at radiance-online.org>
> Date: October 3, 2015 at 11:05:40 AM
>
> I don't know why xform is complaining, but the problem with x11meta *may*
> be the MDIR environment variable, which should point to the appropriate
> library directory on your system.  Mine is set to the location of:
>
> $MDIR=/usr/local/lib/ray/meta/
> export MDIR
>
> Note the trailing '/' which is very important.  Generally speaking, this
> directory sits in a "meta" subdirectory of the main Radiance library.
>
> Hope this helps!
> -Greg
>
> *From:* Rob Guglielmetti <rob.guglielmetti at gmail.com>
>
> *Subject:* Re: [Radiance-general] x11meta issue
>
> *Date:* October 3, 2015 8:47:45 AM PDT
>
>
> Chris? directory/path advice will fix errors one and three in your output
> below, but error two is unfortunately a result of the NREL binary packages
> not working correctly for x11meta. Sorry about that, I haven?t had a chance
> to sort that one out yet. Used to be, no one ever used x11meta but it
> appears lots of people are starting to pick up Axel?s tutorial which
> includes the use of that tool, so I guess I?d better get this sorted!
>
> -Rob
>
> From: Chris Kallie <kallie at umn.edu> <kallie at umn.edu>
> Reply: Radiance general discussion <radiance-general at radiance-online.org>>
> <radiance-general at radiance-online.org>
> Date: October 3, 2015 at 6:37:17 AM
> To: Radiance general discussion <radiance-general at radiance-online.org>>
> <radiance-general at radiance-online.org>
> Subject:  Re: [Radiance-general] x11meta issue
>
> Make sure you are in the right directory, or pointing to the right
> directory. -Chris
>
> On 10/3/15 4:40 AM, Ruggiero Guida wrote:
>
> Hi I am having issues with the x11meta command.
> If I run
>
> objline objects/things.rad | x11meta (from Alex's tutorial),  I keep
> receiving the error:
>
> xform: cannot find file "things.rad"
> fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
> xform: cannot find file "things.orig"
>
>
> - I am on Mac OSX Yosemite.
> - Last 5.0 binaries installed in default directory
> - PATH, RAYPATH set correctly
> - x11 installed from xQuarz.org
>
> I have checked other threads and it seems other people had the same issue,
> but no solution was provided.
>
> Any suggestion?
>
> Thanks
> Ruggiero
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151004/6c1e2291/attachment.html>

From ruggiero.guida at gmail.com  Sat Oct  3 16:46:25 2015
From: ruggiero.guida at gmail.com (Ruggiero Guida)
Date: Sun, 4 Oct 2015 07:46:25 +0800
Subject: [Radiance-general] Display of time lapse at constant brightness
In-Reply-To: <CAEkFE9jB+TbAzismQ0UuP+AECFniR7J8iS+NS+SX+zqmsbghAA@mail.gmail.com>
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
	<C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
	<56100C6F.9050004@umn.edu>
	<CAEkFE9jB+TbAzismQ0UuP+AECFniR7J8iS+NS+SX+zqmsbghAA@mail.gmail.com>
Message-ID: <CA+U776AGpF-dxSs-pRorOLd_+ntY5Y9aHgE6+SQX0GMGUg0Nnw@mail.gmail.com>

Just an additional note. objline does not produce the oblique view. I have
tested with the table.rad in the tutorial as well and the results is the
same.

Thanks


On 4 October 2015 at 01:18, Rob Guglielmetti <rob.guglielmetti at gmail.com>
wrote:

> Somehow my reply didn't go thru the first time, but the last 'graph speaks
> to this issue of tonemapped versus absolute value images...
>
> Another option for you Wouter would be to use the phisto shell script
> (assuming you're running Radiance on Mac or Linux). From the man page:
>
> "The primary function of this script is to precompute histograms for the
>        pcond(1) program, which may then be used to compute multiple,
> identical
>        exposures.   This is especially useful for animations and image
> compar-
>        isons."
>
> This is pretty much right up your alley, for animations. As this method
> uses tonemapping, you must remain mindful of what it is that you are really
> displaying. Perhaps the best method is to show, side-by-side, a
> tonemapped image alongside a quantitative falcesolor image of the real
> values.
>
> On Sat, Oct 3, 2015 at 11:12 AM, Chris Kallie <kallie at umn.edu> wrote:
>
>> In Wouter's post, he stated "In absolute terms one wall has a luminance
>> of 15 cd/m2 at 9:00. That
>> same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
>> appears darker."
>>
>> I would be interested to understand how the output images would remain
>> linear using a tone-mapping algorithm.
>>
>> The general issue at hand is that some people want visually pleasant
>> results, and some need numeric accuracy in the outputs. Perhaps the best
>> approach depends upon what the intended use of the output images is, imho.
>> (Unless I am not understanding something about the tone-mapping algorithm.)
>> -Chris
>>
>>
>> On 10/3/15 1:03 PM, Greg Ward wrote:
>>
>> Andy's recommendation would also be mine, but you need the "-I" option to
>> pcond to get it to read the histogram from stdin.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Andy McNeil < <mcneil.andrew at gmail.com>mcneil.andrew at gmail.com>
>>
>> *Subject: *Re: [Radiance-general] Display of time lapse at constant
>> brightness
>>
>> *Date: *October 3, 2015 8:08:16 AM PDT
>>
>>
>> You could also use phisto to create a luminance histogram from all your
>> images and tone map your images using pcond with the all image histogram as
>> input.
>>
>> phisto frame*.hdr > allframes.hist
>> pcond frame0001.hdr < allframes.hist | ra_tiff - frame0001.tif
>>
>> When there's a wide range of illumination conditions I find that pcond
>> with the histogram works best to preserve visibility and maintain
>> consistency between frames.
>>
>> Andy
>>
>> On Sat, Oct 3, 2015 at 5:45 AM, Chris Kallie <kallie at umn.edu> wrote:
>>
>>> You can use the -e option in pfilt to adjust by a constant. Instead of
>>> using +0, you can use a value without the + symbol that is a fraction of
>>> the EXPOSURE value in your header file. -Chris
>>>
>>>
>>> On 10/3/15 8:21 AM, ascendilex | Wouter Beck wrote:
>>>
>>>> Dear Group,
>>>>
>>>> I'm trying to display a series of Radiance renderings as a time lapse
>>>> animation.
>>>>
>>>> I convert (pfilt -e +0 -r .6 -x /2 -y /2 filtered) hdr-images via
>>>> ra_tiff and the resulting tifs are combined into an animated gif via
>>>> (ImageMagick's) convert -delay 200 -quality 100 *.tif time-lapse.gif.
>>>>
>>>> Each image represents a view of an atrium 1 hour apart.
>>>> The indirectly lit walls of the room that contains my view point get
>>>> displayed darker as the atrium scene brightens up.
>>>> In absolute terms one wall has a luminance of 15 cd/m2 at 9:00. That
>>>> same wall is 29 cd/m2 at 12:00, yet when displayed (using ximage) it
>>>> appears darker.
>>>> Exposure times in the headers are of course quite different:
>>>> vp-A-092108.00.pic:EXPOSURE=3.008155e+00
>>>> vp-A-092112.00.pic:EXPOSURE=3.957302e-01
>>>>
>>>>
>>>> Basically I want the tone mapping according to a constant (perhaps log)
>>>> scale for all images.
>>>>
>>>> How can that be accomplished?
>>>> (Looks like falsecolor could do this if it also had a greyscale
>>>> palette.)
>>>>
>>>> Best regards,
>>>>
>>>> Wouter
>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151004/86906736/attachment-0001.html>

From gregoryjward at gmail.com  Sat Oct  3 17:06:19 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 3 Oct 2015 17:06:19 -0700
Subject: [Radiance-general] x11meta issue
In-Reply-To: <CA+U776DgY3Xu71h--DT=_cW+2+2fgyq6o5o9weDEnLSC-+nnFw@mail.gmail.com>
References: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
	<560FCBED.3060807@umn.edu>
	<CAEkFE9iEF7hwZfWLSzx=u7dnGBWEnBbiwVajavwuYK04xZ5b4w@mail.gmail.com>
	<57844F1A-F1FC-40B4-8BC5-DB43329BA187@lmi.net>
	<etPan.56101581.625558ec.fd@explosivo.local>
	<A8A70B96-683B-4AAB-A53F-71AFF3DC86C3@lmi.net>
	<CA+U776DgY3Xu71h--DT=_cW+2+2fgyq6o5o9weDEnLSC-+nnFw@mail.gmail.com>
Message-ID: <FB10511E-BA66-41F2-B0B6-D0CFE53724B4@lmi.net>

Hi Ruggiero,

Do you have dot (".") in your RAYPATH?  If not, then xform won't look in your current directory(!) for named input files.  I would add "." to the beginning of RAYPATH if it isn't there already.

I don't know why you wouldn't be getting an oblique view from objline.  It seems to generate all 4 views when I run it.

-Greg

> From: Ruggiero Guida <ruggiero.guida at gmail.com>
> Subject: Re: [Radiance-general] x11meta issue
> Date: October 3, 2015 4:40:11 PM PDT
> 
> Thanks Greg and Rob
> 
> I added the "meta" folder from the source distribution in ray/lib/meta/ and the problem with x11meta is gone and I can now see the output in X11. My original installation is still in /usr/local/radiance/.
> 
> Still having one of the problems with xform though and not sure why
> 
> I am working from the folder
> 
> ~/dev/radiance
> 
> I create the file things.rad in ~/dev/radiance/objects
> 
> and then I use "objline ./objects/things.rad | x11meta"
> 
> The use of "./" has solved the issue of objline not finding things.rad, but it still complains about the file things.orig. Do i need to create this file or it is just a warning?
> 
> Thanks
> Ruggiero
> 
> 
> 
> 
> On 4 October 2015 at 02:05, Greg Ward <gregoryjward at gmail.com> wrote:
> Hmmm....  Unlike other "essential" library files, the meta/ folder is only distributed as part of the supplementary material in the "rad5R0all.tar.gz" ball at:
> 
> 	http://www.radiance-online.org/download-install/radiance-source-code/latest-release
> 
> It lives in the ray/lib/meta/ subfolder of this distribution.  We could think about creating a subdirectory in the ray/src/meta directory and having it install from there if that makes more sense.  We should probably take this offline, or move it to the "dev" list.
> 
> @Ruggiero - try getting the above distribution and extracting the meta directory onto your system, setting the MDIR environment variable appropriately.  Hopefully, that will fix the issue for you.  We'll work on this for the next package, I guess.
> 
> Cheers,
> -Greg
> 
>> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
>> Subject: Re: [Radiance-general] x11meta issue
>> Date: October 3, 2015 10:50:57 AM PDT
>> 
>> Thanks Greg,
>> 
>> This vchars.mta file, is this a Radiance thing, or a system thing? The only references I see to this filename in all the Radiance source are in pexpand.c and expand.c:
>> 
>> https://github.com/NREL/Radiance/search?utf8=%E2%9C%93&q=vchars.mta
>> 
>> I do not see the file itself. I ASSumed this was because my installers weren?t packaging it, but it doesn?t seem to be in the Radiance repo at all, at least not in the mirror. On my entire storage device, I only see this file in a couple of places, and they?re all locations where I had really old archived installations of Radiance (built with your ?makeall? script). This makes me think this is a Radiance thing that somehow never got included in the mirror...
>> 
>> -Rob
>> 
>> From: Greg Ward <gregoryjward at gmail.com>
>> Reply: Radiance general discussion <radiance-general at radiance-online.org>>
>> Date: October 3, 2015 at 11:05:40 AM
>> 
>>> I don't know why xform is complaining, but the problem with x11meta *may* be the MDIR environment variable, which should point to the appropriate library directory on your system.  Mine is set to the location of:
>>> 
>>> $MDIR=/usr/local/lib/ray/meta/
>>> export MDIR
>>> 
>>> Note the trailing '/' which is very important.  Generally speaking, this directory sits in a "meta" subdirectory of the main Radiance library.
>>> 
>>> Hope this helps!
>>> -Greg
>>> 
>>>> From: Rob Guglielmetti <rob.guglielmetti at gmail.com>
>>>> Subject: Re: [Radiance-general] x11meta issue
>>>> Date: October 3, 2015 8:47:45 AM PDT
>>>> 
>>>> Chris? directory/path advice will fix errors one and three in your output below, but error two is unfortunately a result of the NREL binary packages not working correctly for x11meta. Sorry about that, I haven?t had a chance to sort that one out yet. Used to be, no one ever used x11meta but it appears lots of people are starting to pick up Axel?s tutorial which includes the use of that tool, so I guess I?d better get this sorted!
>>>> 
>>>> -Rob
>>>> 
>>>> From: Chris Kallie <kallie at umn.edu>
>>>> Reply: Radiance general discussion <radiance-general at radiance-online.org>>
>>>> Date: October 3, 2015 at 6:37:17 AM
>>>> To: Radiance general discussion <radiance-general at radiance-online.org>>
>>>> Subject:  Re: [Radiance-general] x11meta issue
>>>> 
>>>>> Make sure you are in the right directory, or pointing to the right directory. -Chris
>>>>> 
>>>>> On 10/3/15 4:40 AM, Ruggiero Guida wrote:
>>>>>> Hi I am having issues with the x11meta command.
>>>>>> If I run 
>>>>>> 
>>>>>> objline objects/things.rad | x11meta (from Alex's tutorial),  I keep receiving the error:
>>>>>> 
>>>>>> xform: cannot find file "things.rad"
>>>>>> fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
>>>>>> xform: cannot find file "things.orig"
>>>>>> 
>>>>>> 
>>>>>> - I am on Mac OSX Yosemite. 
>>>>>> - Last 5.0 binaries installed in default directory
>>>>>> - PATH, RAYPATH set correctly
>>>>>> - x11 installed from xQuarz.org
>>>>>> 
>>>>>> I have checked other threads and it seems other people had the same issue, but no solution was provided.
>>>>>> 
>>>>>> Any suggestion?
>>>>>> 
>>>>>> Thanks
>>>>>> Ruggiero
>>>>>> 
>>>>>> 
>>>>>>  _______________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> _______________________________________________ 
>>> Radiance-general mailing list 
>>> Radiance-general at radiance-online.org 
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151003/f10731b5/attachment.html>

From ruggiero.guida at gmail.com  Sat Oct  3 17:25:00 2015
From: ruggiero.guida at gmail.com (Ruggiero Guida)
Date: Sun, 4 Oct 2015 08:25:00 +0800
Subject: [Radiance-general] x11meta issue
In-Reply-To: <FB10511E-BA66-41F2-B0B6-D0CFE53724B4@lmi.net>
References: <CA+U776Dq+cZsSKkzhOUs1fBg=Mtkm6uh6dYOu9o7qtJkZ6rmLg@mail.gmail.com>
	<560FCBED.3060807@umn.edu>
	<CAEkFE9iEF7hwZfWLSzx=u7dnGBWEnBbiwVajavwuYK04xZ5b4w@mail.gmail.com>
	<57844F1A-F1FC-40B4-8BC5-DB43329BA187@lmi.net>
	<etPan.56101581.625558ec.fd@explosivo.local>
	<A8A70B96-683B-4AAB-A53F-71AFF3DC86C3@lmi.net>
	<CA+U776DgY3Xu71h--DT=_cW+2+2fgyq6o5o9weDEnLSC-+nnFw@mail.gmail.com>
	<FB10511E-BA66-41F2-B0B6-D0CFE53724B4@lmi.net>
Message-ID: <CA+U776BETt+Ri39Nhhm=Xf+fEM2BxZBCrv7uxQQN5KegzwGT8A@mail.gmail.com>

Thanks Greg,

That was the problem. Everything working as expected now and I can also see
the oblique view.

Thanks
Ruggiero

On 4 October 2015 at 08:06, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Ruggiero,
>
> Do you have dot (".") in your RAYPATH?  If not, then xform won't look in
> your current directory(!) for named input files.  I would add "." to the
> beginning of RAYPATH if it isn't there already.
>
> I don't know why you wouldn't be getting an oblique view from objline.  It
> seems to generate all 4 views when I run it.
>
> -Greg
>
> *From: *Ruggiero Guida <ruggiero.guida at gmail.com>
>
> *Subject: *Re: [Radiance-general] x11meta issue
>
> *Date: *October 3, 2015 4:40:11 PM PDT
>
>
> Thanks Greg and Rob
>
> I added the "meta" folder from the source distribution in ray/lib/meta/
> and the problem with x11meta is gone and I can now see the output in X11.
> My original installation is still in /usr/local/radiance/.
>
> Still having one of the problems with xform though and not sure why
>
> I am working from the folder
>
> ~/dev/radiance
>
> I create the file things.rad in ~/dev/radiance/objects
>
> and then I use "objline ./objects/things.rad | x11meta"
>
> The use of "./" has solved the issue of objline not finding things.rad,
> but it still complains about the file things.orig. Do i need to create this
> file or it is just a warning?
>
> Thanks
> Ruggiero
>
>
>
>
> On 4 October 2015 at 02:05, Greg Ward <gregoryjward at gmail.com> wrote:
>
>> Hmmm....  Unlike other "essential" library files, the meta/ folder is
>> only distributed as part of the supplementary material in the "
>> rad5R0all.tar.gz
>> <http://www.radiance-online.org/download-install/radiance-source-code/latest-release/rad5R0all.tar.gz>"
>> ball at:
>>
>>
>> http://www.radiance-online.org/download-install/radiance-source-code/latest-release
>>
>> It lives in the ray/lib/meta/ subfolder of this distribution.  We could
>> think about creating a subdirectory in the ray/src/meta directory and
>> having it install from there if that makes more sense.  We should probably
>> take this offline, or move it to the "dev" list.
>>
>> @Ruggiero - try getting the above distribution and extracting the meta
>> directory onto your system, setting the MDIR environment variable
>> appropriately.  Hopefully, that will fix the issue for you.  We'll work on
>> this for the next package, I guess.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Rob Guglielmetti <rob.guglielmetti at gmail.com>
>>
>> *Subject: *Re: [Radiance-general] x11meta issue
>>
>> *Date: *October 3, 2015 10:50:57 AM PDT
>>
>>
>> Thanks Greg,
>>
>> This vchars.mta file, is this a Radiance thing, or a system thing? The
>> only references I see to this filename in all the Radiance source are in
>> pexpand.c and expand.c:
>>
>> https://github.com/NREL/Radiance/search?utf8=%E2%9C%93&q=vchars.mta
>>
>> I do not see the file itself. I ASSumed this was because my installers
>> weren?t packaging it, but it doesn?t seem to be in the Radiance repo at
>> all, at least not in the mirror. On my entire storage device, I only see
>> this file in a couple of places, and they?re all locations where I had
>> really old archived installations of Radiance (built with your ?makeall?
>> script). This makes me think this is a Radiance thing that somehow never
>> got included in the mirror...
>>
>> -Rob
>>
>> From: Greg Ward <gregoryjward at gmail.com> <gregoryjward at gmail.com>
>> Reply: Radiance general discussion
>> <radiance-general at radiance-online.org>>
>> <radiance-general at radiance-online.org>
>> Date: October 3, 2015 at 11:05:40 AM
>>
>> I don't know why xform is complaining, but the problem with x11meta *may*
>> be the MDIR environment variable, which should point to the appropriate
>> library directory on your system.  Mine is set to the location of:
>>
>> $MDIR=/usr/local/lib/ray/meta/
>> export MDIR
>>
>> Note the trailing '/' which is very important.  Generally speaking, this
>> directory sits in a "meta" subdirectory of the main Radiance library.
>>
>> Hope this helps!
>> -Greg
>>
>> *From:* Rob Guglielmetti <rob.guglielmetti at gmail.com>
>>
>> *Subject:* Re: [Radiance-general] x11meta issue
>>
>> *Date:* October 3, 2015 8:47:45 AM PDT
>>
>>
>> Chris? directory/path advice will fix errors one and three in your output
>> below, but error two is unfortunately a result of the NREL binary packages
>> not working correctly for x11meta. Sorry about that, I haven?t had a chance
>> to sort that one out yet. Used to be, no one ever used x11meta but it
>> appears lots of people are starting to pick up Axel?s tutorial which
>> includes the use of that tool, so I guess I?d better get this sorted!
>>
>> -Rob
>>
>> From: Chris Kallie <kallie at umn.edu> <kallie at umn.edu>
>> Reply: Radiance general discussion
>> <radiance-general at radiance-online.org>>
>> <radiance-general at radiance-online.org>
>> Date: October 3, 2015 at 6:37:17 AM
>> To: Radiance general discussion <radiance-general at radiance-online.org>>
>> <radiance-general at radiance-online.org>
>> Subject:  Re: [Radiance-general] x11meta issue
>>
>> Make sure you are in the right directory, or pointing to the right
>> directory. -Chris
>>
>> On 10/3/15 4:40 AM, Ruggiero Guida wrote:
>>
>> Hi I am having issues with the x11meta command.
>> If I run
>>
>> objline objects/things.rad | x11meta (from Alex's tutorial),  I keep
>> receiving the error:
>>
>> xform: cannot find file "things.rad"
>> fatal - cannot open file "/usr/local/lib/meta/vchars.mta", mode "r"
>> xform: cannot find file "things.orig"
>>
>>
>> - I am on Mac OSX Yosemite.
>> - Last 5.0 binaries installed in default directory
>> - PATH, RAYPATH set correctly
>> - x11 installed from xQuarz.org
>>
>> I have checked other threads and it seems other people had the same
>> issue, but no solution was provided.
>>
>> Any suggestion?
>>
>> Thanks
>> Ruggiero
>>
>>
>> _______________________________________________
>> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151004/50f37078/attachment-0001.html>

From grobe at gmx.net  Fri Oct  9 04:30:14 2015
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri, 9 Oct 2015 13:30:14 +0200
Subject: [Radiance-general] Visiting scholarship at Lucerne University of
	Applied Sciences and Arts: "Climate-based modeling and
	performance assessment of daylight redirecting components"
Message-ID: <1A300282-AAF3-424D-9D5F-A665748E1316@gmx.net>

Dear daylighting enthusiasts,

the Centre of Competence Envelopes and Solar Energy (CC EASE) at Lucerne University of Applied Sciences and Arts [1], in the centre of Switzerland, is looking for a motivated visiting scholar, willing to support ongoing research on the performance assessment of daylight redirecting components [2] starting from January 2016 for a duration of five months.

Applicants shall be familiar with

- complex fenestration systems such as daylight redirecting components,
- climate-based daylight modeling and
- the application of daylight metrics for
- the evaluation and comparison of daylighting devices and designs under different climatic conditions.

Proficiency in the development of simulation models is expected, experience with advanced modeling in Radiance a plus. Working languages at CC EASE are English and German.

The successful applicant shall work in our team, employing an in-house software based on Radiance [3] within a project funded by the Swiss National Science Foundation. The research shall contribute to the ongoing project and lead to joint publications. CC EASE offers an international and multi-disciplinary working environment, supporting the research with laboratory facilities including a scanning goniophotometer, software developments such as the ongoing work on the Radiance photon map extension and access to a cluster for computational simulation.

The research visit is limited to five months. Remuneration will be as for a research associate. Applications will be accepted until 23rd October 2015. For any questions regarding the details of this vacancy, please contact me as soon as possible by email.

Please distribute this announcement among your colleagues and to potential applicants.

Best regards,
Lars.

[1] http://www.hslu.ch/ccease
[2] http://p3.snf.ch/project-147053
[3] http://www.researchgate.net/publication/282662869_EvalDRC_A_Tool_for_Annual_Characterisation_of_Daylight_Redirecting_Components_with_Photon_Mapping

--
Lucerne School of Engineering and Architecture
 
Dipl.-Ing. Lars O. Grobe
Senior Research Associate Competence Centre Envelopes and Solar Energy
www.hslu.ch/ccease

T direct +41 41 349 36 32
larsoliver.grobe at hslu.ch

Technikumstrasse 21, CH-6048 Horw (Mail)
Ebenaustrasse 20, CH-6048 Horw (Office)
T +41 41 349 33 11, F +41 41 349 36 11
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151009/6285c212/attachment.html>

From kallie at umn.edu  Fri Oct 16 07:57:43 2015
From: kallie at umn.edu (Chris Kallie)
Date: Fri, 16 Oct 2015 10:57:43 -0400
Subject: [Radiance-general] Issues running pmap demos
In-Reply-To: <CA+U776AGpF-dxSs-pRorOLd_+ntY5Y9aHgE6+SQX0GMGUg0Nnw@mail.gmail.com>
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
	<C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
	<56100C6F.9050004@umn.edu>
	<CAEkFE9jB+TbAzismQ0UuP+AECFniR7J8iS+NS+SX+zqmsbghAA@mail.gmail.com>
	<CA+U776AGpF-dxSs-pRorOLd_+ntY5Y9aHgE6+SQX0GMGUg0Nnw@mail.gmail.com>
Message-ID: <56211067.1080801@umn.edu>

Hello,

I've scoured the Internet for some pmap demos, and came up with a few 
scripts. The problem I am getting is in the recommended reverse ray 
tracing commands. I see the following errors:

rtrace: fatal - command line error at '-apd'
rtrace: fatal - command line error at '-apg'
rtrace: fatal - command line error at '-app'
rtrace: fatal - command line error at '-apc'
rtrace: fatal - command line error at '-apv'
rpict: fatal - command line error at '-apd'
rpict: fatal - command line error at '-apdb'
rtrace: fatal - command line error at '-apdb'

I understand that rpict and rtrace don't have these options (maybe they 
were there in earlier versions of Radiance). Is there a resource that 
can explain these differences? Or, is there a more recent set of demos 
for the pmap function? I may also be having compilation errors, so I'm 
pretty much open to any explanation.

At your mercy, always,
Chris


From Robert.Guglielmetti at nrel.gov  Fri Oct 16 08:47:31 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 16 Oct 2015 15:47:31 +0000
Subject: [Radiance-general] Issues running pmap demos
In-Reply-To: <56211067.1080801@umn.edu>
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
	<C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
	<56100C6F.9050004@umn.edu>
	<CAEkFE9jB+TbAzismQ0UuP+AECFniR7J8iS+NS+SX+zqmsbghAA@mail.gmail.com>
	<CA+U776AGpF-dxSs-pRorOLd_+ntY5Y9aHgE6+SQX0GMGUg0Nnw@mail.gmail.com>
	<56211067.1080801@umn.edu>
Message-ID: <D24674F9.1DFF9%Robert.Guglielmetti@nrel.gov>

Not sure the vintage of the scripts you found from your internet scouring
exercise, but I'd recommend pulling the latest source, or grabbing an
installer no older than this tag from NREL:

https://github.com/NREL/Radiance/releases/tag/5.0


?and then referring to Roland Schregle's doc on all the photon map stuff,
here:

http://www.radiance-online.org/learning/documentation/photonmap-user-guide

YMMV, I have not used any of this stuff yet. But Radiance 5.0 official at
a minimum is required, and any old tutorials may be based on the PMAP
extensions that were Roland's thesis and may behave differently than
what's been tightened up and integrated into Radiance proper.



On 10/16/15, 8:57 AM, "Chris Kallie" <kallie at umn.edu> wrote:

>Hello,
>
>I've scoured the Internet for some pmap demos, and came up with a few
>scripts. The problem I am getting is in the recommended reverse ray
>tracing commands. I see the following errors:
>
>rtrace: fatal - command line error at '-apd'
>rtrace: fatal - command line error at '-apg'
>rtrace: fatal - command line error at '-app'
>rtrace: fatal - command line error at '-apc'
>rtrace: fatal - command line error at '-apv'
>rpict: fatal - command line error at '-apd'
>rpict: fatal - command line error at '-apdb'
>rtrace: fatal - command line error at '-apdb'
>
>I understand that rpict and rtrace don't have these options (maybe they
>were there in earlier versions of Radiance). Is there a resource that
>can explain these differences? Or, is there a more recent set of demos
>for the pmap function? I may also be having compilation errors, so I'm
>pretty much open to any explanation.
>
>At your mercy, always,
>Chris
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From sarith at psu.edu  Fri Oct 16 08:55:21 2015
From: sarith at psu.edu (Sarith Subramaniam)
Date: Fri, 16 Oct 2015 11:55:21 -0400
Subject: [Radiance-general] Issues running pmap demos
In-Reply-To: 56211067.1080801@umn.edu
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
	<C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
	<56100C6F.9050004@umn.edu>
	<CAEkFE9jB+TbAzismQ0UuP+AECFniR7J8iS+NS+SX+zqmsbghAA@mail.gmail.com>
	<CA+U776AGpF-dxSs-pRorOLd_+ntY5Y9aHgE6+SQX0GMGUg0Nnw@mail.gmail.com><562110
	67.1080801@umn.edu>
Message-ID: <1445010921l.25100324l.0l@psu.edu>

Chris,


The options that you have listed
below are meant for mkpmap. The maps created through mkpmap are then
incorporated in rpict or rtrace through the -ap option.

As mentioned in
page 18 of the
<http://www.radiance-online.org/learning/documentation/photonmap-user-guide>,
the workflow is roughly:

mkpmap -apg globalpmap nphotons -apc causticpmap nphotons octree

rpict -ap globalpmap bwidth -ap causticpmap bwidth -ab 1 -vf view octree 

I was able to get it to work on Linux as well as Windows. If you are on Linux
and interested in just rendering images, you could even use the TRAD program to
setup the pmap options for you. 


Sarith
On Fri, Oct 16, 2015 10:57 AM, Chris Kallie <kallie at umn.edu> wrote:
>
>
Hello,
>
>I've scoured the Internet for some pmap demos, and came up with a few 
>scripts. The problem I am getting is in the recommended reverse ray 
>tracing commands. I see the following errors:
>
>rtrace: fatal - command line error at '-apd'
>rtrace: fatal - command line error at '-apg'
>rtrace: fatal - command line error at '-app'
>rtrace: fatal - command line error at '-apc'
>rtrace: fatal - command line error at '-apv'
>rpict: fatal - command line error at '-apd'
>rpict: fatal - command line error at '-apdb'
>rtrace: fatal - command line error at '-apdb'
>
>I understand that rpict and rtrace don't have these options (maybe they 
>were there in earlier versions of Radiance). Is there a resource that 
>can explain these differences? Or, is there a more recent set of demos 
>for the pmap function? I may also be having compilation errors, so I'm 
>pretty much open to any explanation.
>
>At your mercy, always,
>Chris
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>






-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151016/807cedcc/attachment.html>

From kallie at umn.edu  Fri Oct 16 09:59:15 2015
From: kallie at umn.edu (Chris Kallie)
Date: Fri, 16 Oct 2015 12:59:15 -0400
Subject: [Radiance-general] Issues running pmap demos
In-Reply-To: <1445010921l.25100324l.0l@psu.edu>
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
	<C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
	<56100C6F.9050004@umn.edu>
	<CAEkFE9jB+TbAzismQ0UuP+AECFniR7J8iS+NS+SX+zqmsbghAA@mail.gmail.com>
	<CA+U776AGpF-dxSs-pRorOLd_+ntY5Y9aHgE6+SQX0GMGUg0Nnw@mail.gmail.com>
	<562110 67.1080801@umn.edu> <1445010921l.25100324l.0l@psu.edu>
Message-ID: <56212CE3.8010502@umn.edu>

Thanks Robert and Sarith,

I edited the downloaded demo files, by removing the extra letters from 
rtrace's and rpict's -ap options, and now they all work. Must have been 
a version difference. Either way, the demos are helpful supplementary to 
the user manual, for anyone else interested. Website: 
https://www.ise.fraunhofer.de/en/business-areas/energy-efficient-buildings/research-topics/lighting-technology/rd-services/lighting-simulation/radiance-photon-mapping/copy_of_photon-mapping 


Thanks again!
Chris

On 10/16/15 11:55 AM, Sarith Subramaniam wrote:
>
> Chris,
>
>
> The options that you have listed below are meant for mkpmap. The maps 
> created through mkpmap are then incorporated in rpict or rtrace 
> through the -ap option.
>
> As mentioned in page 18 of the photonmap manual 
> <http://www.radiance-online.org/learning/documentation/photonmap-user-guide>, 
> the workflow is roughly:
>
> mkpmap -apg globalpmap nphotons -apc causticpmap nphotons octree
>
> rpict -ap globalpmap bwidth -ap causticpmap bwidth -ab 1 -vf view octree
>
> I was able to get it to work on Linux as well as Windows. If you are 
> on Linux and interested in just rendering images, you could even use 
> the TRAD program to setup the pmap options for you.
>
>
> Sarith
> On Fri, Oct 16, 2015 10:57 AM, *Chris Kallie <kallie at umn.edu>* wrote:
>
>     Hello,
>
>     I've scoured the Internet for some pmap demos, and came up with a few
>     scripts. The problem I am getting is in the recommended reverse ray
>     tracing commands. I see the following errors:
>
>     rtrace: fatal - command line error at '-apd'
>     rtrace: fatal - command line error at '-apg'
>     rtrace: fatal - command line error at '-app'
>     rtrace: fatal - command line error at '-apc'
>     rtrace: fatal - command line error at '-apv'
>     rpict: fatal - command line error at '-apd'
>     rpict: fatal - command line error at '-apdb'
>     rtrace: fatal - command line error at '-apdb'
>
>     I understand that rpict and rtrace don't have these options (maybe they
>     were there in earlier versions of Radiance). Is there a resource that
>     can explain these differences? Or, is there a more recent set of demos
>     for the pmap function? I may also be having compilation errors, so I'm
>     pretty much open to any explanation.
>
>     At your mercy, always,
>     Chris
>
>     _______________________________________________
>     Radiance-general mailing list
>     Radiance-general at radiance-online.org
>     http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151016/e2dad35a/attachment-0001.html>

From roland.schregle at gmail.com  Fri Oct 16 11:55:47 2015
From: roland.schregle at gmail.com (Schregle Roland HSLU T&A)
Date: Fri, 16 Oct 2015 20:55:47 +0200
Subject: [Radiance-general] Issues running pmap demos
In-Reply-To: <1445010921l.25100324l.0l@psu.edu>
References: <560FC83E.8090400@ascendilex.nl> <560FCDE4.6040506@umn.edu>
	<CAEFJVk8tgbp_Vk_7KkvkoEu=EHsomNqExHpqWDSJd7WPDBzmuQ@mail.gmail.com>
	<C3776E2A-B6F1-4E61-BBD2-664411ECA88F@lmi.net>
	<56100C6F.9050004@umn.edu>
	<CAEkFE9jB+TbAzismQ0UuP+AECFniR7J8iS+NS+SX+zqmsbghAA@mail.gmail.com>
	<CA+U776AGpF-dxSs-pRorOLd_+ntY5Y9aHgE6+SQX0GMGUg0Nnw@mail.gmail.com>
	<562110 67.1080801@umn.edu> <1445010921l.25100324l.0l@psu.edu>
Message-ID: <op.x6l369scgbjfop@deldo>

On Fri, 16 Oct 2015 17:55:21 +0200, Sarith Subramaniam <sarith at psu.edu>
wrote:

Hi all,

the photon map parametrisation has indeed changed. Until 5.0, the  
-ap{g,c,v,d} parameters were symmetric between mkpmap and the renderers  
rtrace/rpict/rvu. It's asymmetric now for ease of use as the photon map
type can be deduced from the file header, so it's no longer necessary to  
explicitly specify it via these options; just an -ap will do.

I believe the scripts Chris mentioned were part of an earlier,  
pre-integration release from Fraunhofer ISE, and haven't been revised  
since the new parametrisation. It would make sense to update them and make  
them available via radiance-online.org, as they'd make a good starting  
point for new users.

Best regards,

--Roland


-- 
Dr. Roland Schregle
Senior Research Associate

Lucerne University of Applied Sciences and Arts
School of Engineering and Architecture
CC Envelopes and Solar Energy (EASE)
www.hslu.ch/ccease

T direct: +41 41 349 36 26 (New)
roland.schregle at hslu.ch

Technikumstrasse 21, CH-6048 Horw (Correspondence)
Ebenaustrasse 20, CH-6048 Horw (Office)
T +41 41 349 33 11, F +41 41 349 39 60


From t.mcminn at iinet.net.au  Tue Oct 20 07:32:38 2015
From: t.mcminn at iinet.net.au (Terrance McMinn)
Date: Tue, 20 Oct 2015 22:32:38 +0800
Subject: [Radiance-general] NRL radiance-5.0.a.6-Darwin.dmg trad/tcl
	incomplete installation
Message-ID: <56265086.1080909@iinet.net.au>

Must report that "trad" does not run as installed by the 
radiance-5.0.a.6-Darwin.dmg OSX installer.

Issues:
1. $ -bash: /usr/local/radiance/bin/trad: /usr/local/bin/wish8.0: bad 
interpreter: No such file or directory

     Fixed by sudo vi /usr/local/radiance/bin/trad and change the first 
line to "#!/usr/local/bin/wish8.5" as that is what is installed on my 
system.
2. Error in startup script: invalid command name "helplink"
     while executing
"helplink .mess trad trad messages"
     (file "/usr/local/radiance/bin/trad" line 104)
     Fixed by:
     a) downloading the source code 
(https://github.com/NREL/Radiance/releases)
     b) create folder  with " sudo mkdir /usr/local/radiance/lib/tcl"
     c) copy files from the source tree to the new folder
         cd /usr/local/radiance/lib/tcl
         sudo cp ~/Desktop/Radiance-5.0.a.6/src/util/*.tcl .
         sudo cp ~/Desktop/Radiance-5.0.a.6/src/util/*.hlp .
         sudo cp ~/Desktop/Radiance-5.0.a.6/src/util/*.icon .
         sudo cp ~/Desktop/Radiance-5.0.a.6/src/util/tcl* .
         This put the following file in the new folder:
             do_action.tcl       do_results.tcl    do_zone.tcl 
gethelp.tcl    trad.hlp
             do_file.tcl            do_scene.tcl     file.hlp        
help.hlp        trad.icon
             do_options.tcl     do_views.tcl      getfile.tcl 
tclIndex        util.tcl
     d) sudo vi /usr/local/radiance/bin/trad
         change "/usr/local/radiance/bin/trad" to "set radlib 
/usr/local/radiance/lib/tcl"

-- 
Regards
*Terrance McMinn*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151020/73cda6e8/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Oct 20 08:14:26 2015
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 20 Oct 2015 15:14:26 +0000
Subject: [Radiance-general] NRL radiance-5.0.a.6-Darwin.dmg trad/tcl
 incomplete installation
In-Reply-To: <56265086.1080909@iinet.net.au>
References: <56265086.1080909@iinet.net.au>
Message-ID: <D24BB4EE.1E275%Robert.Guglielmetti@nrel.gov>

Cross-posting (and we should move the discussion to) dev...

Thanks Terrance! Looks like I have some more files to include in the CMake files, so our packages work correctly, thanks for the catches. As for item (1), it seems like the right move there is to have Greg change the shebang line to call "wish", and place the onus on the users to have a symlink for wish that points to whatever they have on their systems.

Let's sort it out on dev when we have time. Thanks again for the heads up.

- Rob

On 10/20/15, 8:32 AM, "Terrance McMinn" <t.mcminn at iinet.net.au<mailto:t.mcminn at iinet.net.au>> wrote:

Must report that "trad" does not run as installed by the radiance-5.0.a.6-Darwin.dmg OSX installer.

Issues:
1. $ -bash: /usr/local/radiance/bin/trad: /usr/local/bin/wish8.0: bad interpreter: No such file or directory

    Fixed by sudo vi /usr/local/radiance/bin/trad and change the first line to "#!/usr/local/bin/wish8.5" as that is what is installed on my system.
2. Error in startup script: invalid command name "helplink"
    while executing
"helplink .mess trad trad messages"
    (file "/usr/local/radiance/bin/trad" line 104)
    Fixed by:
    a) downloading the source code (https://github.com/NREL/Radiance/releases)
    b) create folder  with " sudo mkdir /usr/local/radiance/lib/tcl"
    c) copy files from the source tree to the new folder
        cd /usr/local/radiance/lib/tcl
        sudo cp ~/Desktop/Radiance-5.0.a.6/src/util/*.tcl .
        sudo cp ~/Desktop/Radiance-5.0.a.6/src/util/*.hlp .
        sudo cp ~/Desktop/Radiance-5.0.a.6/src/util/*.icon .
        sudo cp ~/Desktop/Radiance-5.0.a.6/src/util/tcl* .
        This put the following file in the new folder:
            do_action.tcl       do_results.tcl    do_zone.tcl    gethelp.tcl    trad.hlp
            do_file.tcl            do_scene.tcl     file.hlp           help.hlp        trad.icon
            do_options.tcl     do_views.tcl      getfile.tcl       tclIndex        util.tcl
    d) sudo vi /usr/local/radiance/bin/trad
        change "/usr/local/radiance/bin/trad" to "set radlib /usr/local/radiance/lib/tcl"

--
Regards
Terrance McMinn


From adrianalira at post.harvard.edu  Tue Oct 20 13:49:51 2015
From: adrianalira at post.harvard.edu (Adriana Lira)
Date: Tue, 20 Oct 2015 15:49:51 -0500
Subject: [Radiance-general] from a rad and a dat file to ies
Message-ID: <CAFjajKiZUAooi7rjP8RLrtDQ9CV9yS88zX3QeoHG9EuO-R=Ejw@mail.gmail.com>

Hi Everybody,

I was wondering if it is possible to create a *.ies file from a *.dat and a
*.rad file. Originally, I used the ies2rad command to obtain a *.rad and a
*.dat file from an IES file. Then I did some edits on the *.rad file and
now I would like to create an IES file again. Is it possible?

Best,

Dra. Adriana Lira Oliver
Dise?os Sustentables Integrales 3E, S.C.
*Directora*
w  www.3esc.com.mx
e   adriana.lira at gmail.com
t    62 84 84 89
c   04455 21 07 61 41
d   Oxtopulco 31-1, Oxtopulco Universidad,
     Del. Coyoac?n, C.P. 04318, D.F., MEXICO


<http://www.flickr.com/photos/adrianaliraoliver/>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151020/b35ea30a/attachment.html>

From andrei.kolomenski at nasa.gov  Tue Oct 20 14:08:10 2015
From: andrei.kolomenski at nasa.gov (Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.])
Date: Tue, 20 Oct 2015 21:08:10 +0000
Subject: [Radiance-general] Specularity Definition of Radiance Material
Message-ID: <AE55A995167B224DBBFA16500E3AB9B304824387@NDJSMBX202.ndc.nasa.gov>

Hello Radiance Experts,

I have used a Hemispherical Spectral Reflectance meter to measure the Specular Included (SCI) and Specular Excluded (SCE) SPDs of a material. The obtained SPDs are in the range of 360 to 740 nm., commonly considered the photopic range. Then I compute the total photopic specularity using the equation below.

[cid:image002.png at 01D10B51.83998D30]


For a black shiny metal sample, I compute a specularity of 21%. Is it correct to use a value of 0.21 for my specularity definition of a metal material primitive. I?ve read that specularity values greater than  0.1 are not realistic (http://radsite.lbl.gov/radiance/refer/ray.html#Materials) in Radiance. In the .hdr rendered image, the material appears to be highly specular to the degree that it acts like a mirror. So this why I?m concerned if I?m using the right procedure to define the specularity for the Radiance metal primitive.

Is it correct to use a hemispherical reflectance meter, and the equation above to define the Radiance specularity term.

Thank you for your input,
Andrei Kolomenski





From: Adriana Lira [mailto:adrianalira at post.harvard.edu]
Sent: Tuesday, October 20, 2015 3:50 PM
To: Radiance general discussion
Subject: [Radiance-general] from a rad and a dat file to ies

Hi Everybody,

I was wondering if it is possible to create a *.ies file from a *.dat and a *.rad file. Originally, I used the ies2rad command to obtain a *.rad and a *.dat file from an IES file. Then I did some edits on the *.rad file and now I would like to create an IES file again. Is it possible?

Best,

Dra. Adriana Lira Oliver
Dise?os Sustentables Integrales 3E, S.C.
Directora
w  www.3esc.com.mx<http://www.3esc.com.mx/>
e   adriana.lira at gmail.com<mailto:adriana.lira at gmail.com>
t    62 84 84 89
c   04455 21 07 61 41
d   Oxtopulco 31-1, Oxtopulco Universidad,
     Del. Coyoac?n, C.P. 04318, D.F., MEXICO

[Image removed by sender.]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151020/62f9415e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ~WRD000.jpg
Type: image/jpeg
Size: 823 bytes
Desc: ~WRD000.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151020/62f9415e/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 2765 bytes
Desc: image002.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151020/62f9415e/attachment-0001.png>

From gregoryjward at gmail.com  Tue Oct 20 19:32:21 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 20 Oct 2015 19:32:21 -0700
Subject: [Radiance-general] from a rad and a dat file to ies
In-Reply-To: <CAFjajKiZUAooi7rjP8RLrtDQ9CV9yS88zX3QeoHG9EuO-R=Ejw@mail.gmail.com>
References: <CAFjajKiZUAooi7rjP8RLrtDQ9CV9yS88zX3QeoHG9EuO-R=Ejw@mail.gmail.com>
Message-ID: <AC2C32F7-37E9-4F0A-A507-6BB7C12185E0@lmi.net>

Hi Adriana,

Good to hear from you.  While it is possible to convert this information in the other direction, it would be very difficult.  You would have to figure out which data conversion was performed and invert the operation, and there are no tools to help with that.  It would be much easier to edit the original IES file to somehow match the changes you made to the *.rad output.

Best,
-Greg

> From: Adriana Lira <adrianalira at post.harvard.edu>
> Subject: [Radiance-general] from a rad and a dat file to ies
> Date: October 20, 2015 1:49:51 PM PDT
> 
> Hi Everybody,
> 
> I was wondering if it is possible to create a *.ies file from a *.dat and a *.rad file. Originally, I used the ies2rad command to obtain a *.rad and a *.dat file from an IES file. Then I did some edits on the *.rad file and now I would like to create an IES file again. Is it possible?
> 
> Best,
> 
> Dra. Adriana Lira Oliver
> Dise?os Sustentables Integrales 3E, S.C.
> Directora
> w  www.3esc.com.mx
> e   adriana.lira at gmail.com
> t    62 84 84 89
> c   04455 21 07 61 41
> d   Oxtopulco 31-1, Oxtopulco Universidad,
>      Del. Coyoac?n, C.P. 04318, D.F., MEXICO
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151020/6d0390ed/attachment.html>

From RGMARC at engr.psu.edu  Tue Oct 20 19:48:28 2015
From: RGMARC at engr.psu.edu (Richard Mistrick)
Date: Wed, 21 Oct 2015 02:48:28 +0000
Subject: [Radiance-general] from a rad and a dat file to ies
In-Reply-To: <AC2C32F7-37E9-4F0A-A507-6BB7C12185E0@lmi.net>
References: <CAFjajKiZUAooi7rjP8RLrtDQ9CV9yS88zX3QeoHG9EuO-R=Ejw@mail.gmail.com>
	<AC2C32F7-37E9-4F0A-A507-6BB7C12185E0@lmi.net>
Message-ID: <4CBA3F4FC743644B878E92A40FD348F9D78EB205@ENGR2K10NODE1.engr.psu.edu>

You could place analysis points at 5-degree increments along an arc at a distance of about 25 feet (or 8 meters) from the center of the luminaire with the orientation vector directed straight back to the luminaire center, then multiply the illuminance value obtained by this distance squared to return the intensity values that go into the IES file.  This would need to be repeated at 22.5-degree azimuth angle steps to complete the vertical sweeps at different horizontal angles.

Rick

From: Greg Ward [mailto:gregoryjward at gmail.com]
Sent: Tuesday, October 20, 2015 10:32 PM
To: adrianalira at post.harvard.edu; Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] from a rad and a dat file to ies

Hi Adriana,

Good to hear from you.  While it is possible to convert this information in the other direction, it would be very difficult.  You would have to figure out which data conversion was performed and invert the operation, and there are no tools to help with that.  It would be much easier to edit the original IES file to somehow match the changes you made to the *.rad output.

Best,
-Greg



From: Adriana Lira <adrianalira at post.harvard.edu<mailto:adrianalira at post.harvard.edu>>

Subject: [Radiance-general] from a rad and a dat file to ies

Date: October 20, 2015 1:49:51 PM PDT


Hi Everybody,

I was wondering if it is possible to create a *.ies file from a *.dat and a *.rad file. Originally, I used the ies2rad command to obtain a *.rad and a *.dat file from an IES file. Then I did some edits on the *.rad file and now I would like to create an IES file again. Is it possible?

Best,

Dra. Adriana Lira Oliver
Dise?os Sustentables Integrales 3E, S.C.
Directora
w  www.3esc.com.mx<http://www.3esc.com.mx/>
e   adriana.lira at gmail.com<mailto:adriana.lira at gmail.com>
t    62 84 84 89
c   04455 21 07 61 41
d   Oxtopulco 31-1, Oxtopulco Universidad,
     Del. Coyoac?n, C.P. 04318, D.F., MEXICO
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151021/1b743742/attachment.html>

From t.mcminn at iinet.net.au  Tue Oct 20 23:27:40 2015
From: t.mcminn at iinet.net.au (Terrance McMinn)
Date: Wed, 21 Oct 2015 14:27:40 +0800
Subject: [Radiance-general] Danaplon glazing - Glass or Trans?
Message-ID: <5627305C.4080609@iinet.net.au>

What would the best way be to model Danaplon translucent material 
(http://www.danpalon.com)

For example the 4mm 
(http://www.danpalon.com/eng/home/portfolio/03/default.asp?ContentID=111):

Walls - *1*

Thermal insulation factor - *5.36* W/m2?C
Moment of Inertia with U Connector - *7.4x10^5 * mm^4 /m
Minimum cold bending radius - *2.9* meter
Panel width - 592mm
Module width (with spacer) - 600mm
Optical properties:


	

Clear

	

Ice

	

Opal

	

Bronze

	

Blue

	

Green

	

Grey

	

Reflective

Visible Light
Transmission

	

89%

	

55%

	

40%

	

38%

	

64%

	

75%

	

41%

	

20%

Solar Heat
Gain Coefficient

	

0.81

	

0.61

	

0.48

	

0.50

	

0.75

	

0.72

	

0.58

	

0.28









My attempts:
#
# Translucent Sheeting Danpalon_Sheeting_Opal_4mm
#
void trans Danpalon_Sheeting_Opal_4mm
0
0
7   0.4   0.4   0.4   0   0.02   1   0

#
# Danpalon_Sheeting_Opal 40% light transmittance
#
void glass Translucent_Glass_Danpalon_Sheeting_Opal_4mm
0
0
3   0.43621868   0.43621868   0.43621868

I would assume that the thicker products (more walls) should not be 
modelled as glass but maybe via the optics program, though I have no 
idea how/what to feed that program.

Unfortunately the manufacturer has very little technical information 
available.
-- 
Regards
*Terrance McMinn*

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151021/e9553fb0/attachment-0001.html>

From RGMARC at engr.psu.edu  Wed Oct 21 05:45:03 2015
From: RGMARC at engr.psu.edu (Richard Mistrick)
Date: Wed, 21 Oct 2015 12:45:03 +0000
Subject: [Radiance-general] Danaplon glazing - Glass or Trans?
In-Reply-To: <5627305C.4080609@iinet.net.au>
References: <5627305C.4080609@iinet.net.au>
Message-ID: <4CBA3F4FC743644B878E92A40FD348F9D78EB268@ENGR2K10NODE1.engr.psu.edu>

Terrance,

Your trans material for the Opal version doesn?t include any reflectance.  Assuming that the visible reflectance is similar to the 35% solar reflectance for this product, and all transmission is diffuse, the result would be:

void trans Danpalon_Sheeting_Opal_4mm
0
0
7   0.75   0.75   0.75   0   0  0.533   0

If you want to have this be a combination of specular and diffuse transmittance, then the last number is the fraction of light transmitted that is in the specular component.  You can add some roughness by changing the second zero in the fourth line.

Rick

From: Terrance McMinn [mailto:t.mcminn at iinet.net.au]
Sent: Wednesday, October 21, 2015 2:28 AM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Danaplon glazing - Glass or Trans?

What would the best way be to model Danaplon translucent material (http://www.danpalon.com)

For example the 4mm (http://www.danpalon.com/eng/home/portfolio/03/default.asp?ContentID=111):

Walls - 1

Thermal insulation factor - 5.36 W/m2?C
Moment of Inertia with U Connector - 7.4x105 mm4/m
Minimum cold bending radius - 2.9 meter
Panel width - 592mm
Module width (with spacer) - 600mm
Optical properties:


Clear


Ice


Opal


Bronze


Blue


Green


Grey


Reflective


Visible Light
Transmission


89%


55%


40%


38%


64%


75%


41%


20%


Solar Heat
Gain Coefficient


0.81


0.61


0.48


0.50


0.75


0.72


0.58


0.28









My attempts:
#
# Translucent Sheeting Danpalon_Sheeting_Opal_4mm
#
void trans Danpalon_Sheeting_Opal_4mm
0
0
7   0.4   0.4   0.4   0   0.02   1   0

#
# Danpalon_Sheeting_Opal 40% light transmittance
#
void glass Translucent_Glass_Danpalon_Sheeting_Opal_4mm
0
0
3   0.43621868   0.43621868   0.43621868

I would assume that the thicker products (more walls) should not be modelled as glass but maybe via the optics program, though I have no idea how/what to feed that program.

Unfortunately the manufacturer has very little technical information available.
--
Regards
Terrance McMinn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151021/9ca79248/attachment.html>

From giudm.87 at gmail.com  Wed Oct 21 07:27:31 2015
From: giudm.87 at gmail.com (Giuseppe De Michele)
Date: Wed, 21 Oct 2015 16:27:31 +0200
Subject: [Radiance-general] Climate-based daylighting simulation within
	TRNSYS
Message-ID: <CAOn=hKFz=N2GSspARuHfU=bJ0PNTWvrruD9h2tKGor5pf=bR5Q@mail.gmail.com>

Hi Everyone,


The Institute for Renewable Energy
<http://www.eurac.edu/en/research/technologies/renewableenergy/Pages/default.aspx>
of EURAC research is pleased to announce the first release of the
?TypeDLT?, a new TRNSYS component that enables climate-based daylighting
simulation. This software uses the Three-Phase Method of Radiance to help
you analyse the effects of ?Complex Fenestration Systems? from the
perspective of visual comfort and daylight availability. Additionally, it
gives you the opportunity to develop custom control strategies for dynamic
shading devices. Its integration in the TRNSYS environment allows for the
dynamic simulation of both daylight and thermal performances of buildings
and their interaction. The tool has been presented at the 13th
International Radiance Workshop in London.


Developed within the FP7 EU ?CommONEnergy
<http://www.commonenergyproject.eu/>? project, the TypeDLT software is open
source, allowing anyone to use it and to contribute to its development. The
code with the documentation and an example file are available at the GitHub
repository https://github.com/EURAC-EEBgroup/TypeDLT-for-TRNSYS .



Best regards,

Giuseppe



****************************************************************************************************

Giuseppe De Michele



EURAC Research

Institute for Renewable Energy
Via G. Di Vittorio 16, I-39100 Bolzano

t +39 0471 055 685

f +39 0471 055 699

Giuseppe.DeMichele at eurac.edu

www.eurac.edu



EURAC research

Legal Seat

Viale Druso 1, I-39100 Bolzano



This transmission is intended only for the use of the addressee and may
contain confidential or legally privileged information.
If you receive this transmission by error, please notify the author
immediately by mail and delete all copies of this transmission and any
attachments.
Any use or dissemination of this communication is strictly prohibited by
the "Privacy-Code", D.Lgs. 196/2003 and may lead to penal prosecution and
liability for damages.



P Think before you print
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151021/e7aef3ab/attachment-0001.html>

From gregoryjward at gmail.com  Wed Oct 21 09:48:49 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 21 Oct 2015 09:48:49 -0700
Subject: [Radiance-general] Specularity Definition of Radiance Material
In-Reply-To: <AE55A995167B224DBBFA16500E3AB9B304824387@NDJSMBX202.ndc.nasa.gov>
References: <AE55A995167B224DBBFA16500E3AB9B304824387@NDJSMBX202.ndc.nasa.gov>
Message-ID: <32B5C006-5907-4ABE-AB3E-89D794490C80@lmi.net>

Hi Andrei,

While specularities greater than 0.1 are not realistic for non-metals, specularity is limited only by physicality (i.e., 1.0) for metals.

Your method should work well enough for metallic surfaces with uncolored highlights.  If you have colored specular reflections, then you may have to do something a little more sophisticated, like multiplying the CIE standard observer curves to get XYZ then convert to RGB for Radiance using xyz_rgb.cal.

Cheers,
-Greg

> From: "Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.]" <andrei.kolomenski at nasa.gov>
> Subject: [Radiance-general] Specularity Definition of Radiance Material
> Date: October 20, 2015 2:08:10 PM PDT
> 
> Hello Radiance Experts,
>  
> I have used a Hemispherical Spectral Reflectance meter to measure the Specular Included (SCI) and Specular Excluded (SCE) SPDs of a material. The obtained SPDs are in the range of 360 to 740 nm., commonly considered the photopic range. Then I compute the total photopic specularity using the equation below.
>  
> 
>  
>  
> For a black shiny metal sample, I compute a specularity of 21%. Is it correct to use a value of 0.21 for my specularity definition of a metal material primitive. I?ve read that specularity values greater than  0.1 are not realistic (http://radsite.lbl.gov/radiance/refer/ray.html#Materials) in Radiance. In the .hdr rendered image, the material appears to be highly specular to the degree that it acts like a mirror. So this why I?m concerned if I?m using the right procedure to define the specularity for the Radiance metal primitive.
>  
> Is it correct to use a hemispherical reflectance meter, and the equation above to define the Radiance specularity term.
>  
> Thank you for your input,
> Andrei Kolomenski
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151021/afa50636/attachment.html>

From t.mcminn at iinet.net.au  Wed Oct 21 10:02:37 2015
From: t.mcminn at iinet.net.au (Terrance McMinn)
Date: Thu, 22 Oct 2015 01:02:37 +0800
Subject: [Radiance-general] Danaplon glazing - Glass or Trans?
In-Reply-To: <4CBA3F4FC743644B878E92A40FD348F9D78EB268@ENGR2K10NODE1.engr.psu.edu>
References: <5627305C.4080609@iinet.net.au>
	<4CBA3F4FC743644B878E92A40FD348F9D78EB268@ENGR2K10NODE1.engr.psu.edu>
Message-ID: <5627C52D.1010005@iinet.net.au>

Hello Rick,

Off List questions...

This is very helpful.

 From the catalogue for 4mm Danpalon Opal
LT% = 40 - LT % of visible light transmission (400 - 700nm)
ST% = 44 - ST % of total solar radiation transmission (300 ? 2800nm)
SR% = 35 - SR % of total solar reflection (300-2800nm)
SHGC = 0.48 -  SHGC Solar Heat Gain Coefficient.

I am wondering how you arrived at the 7 parameters: red green blue spec 
rough trans tspec
Actually (red green blue and trans)


Regards
*Terrance McMinn*

Please consider the environment before printing this e-mail.

Notice - This message contains confidential information intended only 
for the exclusive use of the addressee named above. No confidentiality 
is waived or lost by any mistaken transmission to you. If you have 
received this message in error please delete the document and notify me 
immediately.

Any opinion, text, documentation or attachment received is valid as at 
the date of issue only. The recipient is responsible for reviewing the 
status of the transferred information and should advise me immediately 
upon receipt of any discrepancy.
On 21/10/2015 8:45 pm, Richard Mistrick wrote:
>
> Terrance,
>
> Your trans material for the Opal version doesn?t include any 
> reflectance.  Assuming that the visible reflectance is similar to the 
> 35% solar reflectance for this product, and all transmission is 
> diffuse, the result would be:
>
> void trans Danpalon_Sheeting_Opal_4mm
> 0
> 0
> 7   0.75   0.75   0.75   0   0  0.533   0
>
> If you want to have this be a combination of specular and diffuse 
> transmittance, then the last number is the fraction of light 
> transmitted that is in the specular component.  You can add some 
> roughness by changing the second zero in the fourth line.
>
> Rick
>
> *From:*Terrance McMinn [mailto:t.mcminn at iinet.net.au]
> *Sent:* Wednesday, October 21, 2015 2:28 AM
> *To:* radiance-general at radiance-online.org
> *Subject:* [Radiance-general] Danaplon glazing - Glass or Trans?
>
> What would the best way be to model Danaplon translucent material 
> (http://www.danpalon.com)
>
> For example the 4mm 
> (http://www.danpalon.com/eng/home/portfolio/03/default.asp?ContentID=111):
>
> Walls - *1*
>
> Thermal insulation factor - *5.36* W/m2?C
> Moment of Inertia with U Connector - *7.4x10^5 * mm^4 /m
> Minimum cold bending radius - *2.9* meter
> Panel width - 592mm
> Module width (with spacer) - 600mm
> Optical properties:
>
>
> 	
>
> Clear
>
> 	
>
> Ice
>
> 	
>
> Opal
>
> 	
>
> Bronze
>
> 	
>
> Blue
>
> 	
>
> Green
>
> 	
>
> Grey
>
> 	
>
> Reflective
>
> Visible Light
> Transmission
>
> 	
>
> 89%
>
> 	
>
> 55%
>
> 	
>
> 40%
>
> 	
>
> 38%
>
> 	
>
> 64%
>
> 	
>
> 75%
>
> 	
>
> 41%
>
> 	
>
> 20%
>
> Solar Heat
> Gain Coefficient
>
> 	
>
> 0.81
>
> 	
>
> 0.61
>
> 	
>
> 0.48
>
> 	
>
> 0.50
>
> 	
>
> 0.75
>
> 	
>
> 0.72
>
> 	
>
> 0.58
>
> 	
>
> 0.28
>
>
>
>
>
>
>
>
>
> My attempts:
> #
> # Translucent Sheeting Danpalon_Sheeting_Opal_4mm
> #
> void trans Danpalon_Sheeting_Opal_4mm
> 0
> 0
> 7   0.4   0.4   0.4   0   0.02   1   0
>
> #
> # Danpalon_Sheeting_Opal 40% light transmittance
> #
> void glass Translucent_Glass_Danpalon_Sheeting_Opal_4mm
> 0
> 0
> 3   0.43621868   0.43621868   0.43621868
>
> I would assume that the thicker products (more walls) should not be 
> modelled as glass but maybe via the optics program, though I have no 
> idea how/what to feed that program.
>
> Unfortunately the manufacturer has very little technical information 
> available.
> -- 
> Regards
> *Terrance McMinn*
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151022/39eb97f9/attachment-0001.html>

From RGMARC at engr.psu.edu  Wed Oct 21 12:49:49 2015
From: RGMARC at engr.psu.edu (Richard Mistrick)
Date: Wed, 21 Oct 2015 19:49:49 +0000
Subject: [Radiance-general] Danaplon glazing - Glass or Trans?
In-Reply-To: <5627C52D.1010005@iinet.net.au>
References: <5627305C.4080609@iinet.net.au>
	<4CBA3F4FC743644B878E92A40FD348F9D78EB268@ENGR2K10NODE1.engr.psu.edu>
	<5627C52D.1010005@iinet.net.au>
Message-ID: <4CBA3F4FC743644B878E92A40FD348F9D78EB428@ENGR2K10NODE1.engr.psu.edu>

Terrance,

I have a spreadsheet to process the equations for this.  See http://radiance-general.radiance-online.narkive.com/ugCzWij7/accurate-definition-of-trans-material for the equations.

I think the spreadsheet is included in our DAYSIMps installation if you download and install that software.

Rick

From: Terrance McMinn [mailto:t.mcminn at iinet.net.au]
Sent: Wednesday, October 21, 2015 1:03 PM
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Danaplon glazing - Glass or Trans?

Hello Rick,

Off List questions...

This is very helpful.

>From the catalogue for 4mm Danpalon Opal
LT% = 40 - LT % of visible light transmission (400 - 700nm)
ST% = 44 - ST % of total solar radiation transmission (300 - 2800nm)
SR% = 35 - SR % of total solar reflection (300-2800nm)
SHGC = 0.48 -  SHGC Solar Heat Gain Coefficient.

I am wondering how you arrived at the 7 parameters: red green blue spec rough trans tspec
Actually (red green blue and trans)

Regards
Terrance McMinn

Please consider the environment before printing this e-mail.

Notice - This message contains confidential information intended only for the exclusive use of the addressee named above. No confidentiality is waived or lost by any mistaken transmission to you. If you have received this message in error please delete the document and notify me immediately.

Any opinion, text, documentation or attachment received is valid as at the date of issue only. The recipient is responsible for reviewing the status of the transferred information and should advise me immediately upon receipt of any discrepancy.
On 21/10/2015 8:45 pm, Richard Mistrick wrote:
Terrance,

Your trans material for the Opal version doesn't include any reflectance.  Assuming that the visible reflectance is similar to the 35% solar reflectance for this product, and all transmission is diffuse, the result would be:

void trans Danpalon_Sheeting_Opal_4mm
0
0
7   0.75   0.75   0.75   0   0  0.533   0

If you want to have this be a combination of specular and diffuse transmittance, then the last number is the fraction of light transmitted that is in the specular component.  You can add some roughness by changing the second zero in the fourth line.

Rick

From: Terrance McMinn [mailto:t.mcminn at iinet.net.au]
Sent: Wednesday, October 21, 2015 2:28 AM
To: radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>
Subject: [Radiance-general] Danaplon glazing - Glass or Trans?

What would the best way be to model Danaplon translucent material (http://www.danpalon.com)

For example the 4mm (http://www.danpalon.com/eng/home/portfolio/03/default.asp?ContentID=111):

Walls - 1

Thermal insulation factor - 5.36 W/m2?C
Moment of Inertia with U Connector - 7.4x105 mm4/m
Minimum cold bending radius - 2.9 meter
Panel width - 592mm
Module width (with spacer) - 600mm
Optical properties:


Clear


Ice


Opal


Bronze


Blue


Green


Grey


Reflective


Visible Light
Transmission


89%


55%


40%


38%


64%


75%


41%


20%


Solar Heat
Gain Coefficient


0.81


0.61


0.48


0.50


0.75


0.72


0.58


0.28









My attempts:
#
# Translucent Sheeting Danpalon_Sheeting_Opal_4mm
#
void trans Danpalon_Sheeting_Opal_4mm
0
0
7   0.4   0.4   0.4   0   0.02   1   0

#
# Danpalon_Sheeting_Opal 40% light transmittance
#
void glass Translucent_Glass_Danpalon_Sheeting_Opal_4mm
0
0
3   0.43621868   0.43621868   0.43621868

I would assume that the thicker products (more walls) should not be modelled as glass but maybe via the optics program, though I have no idea how/what to feed that program.

Unfortunately the manufacturer has very little technical information available.
--
Regards
Terrance McMinn

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151021/313f5925/attachment.html>

From andrei.kolomenski at nasa.gov  Thu Oct 22 08:39:14 2015
From: andrei.kolomenski at nasa.gov (Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.])
Date: Thu, 22 Oct 2015 15:39:14 +0000
Subject: [Radiance-general] Specularity Definition of Radiance Material
In-Reply-To: <32B5C006-5907-4ABE-AB3E-89D794490C80@lmi.net>
References: <AE55A995167B224DBBFA16500E3AB9B304824387@NDJSMBX202.ndc.nasa.gov>
	<32B5C006-5907-4ABE-AB3E-89D794490C80@lmi.net>
Message-ID: <AE55A995167B224DBBFA16500E3AB9B3048244FD@NDJSMBX202.ndc.nasa.gov>

Hi Greg,

Thank you for your reply.

Unfortunately, as I pasted in the Specularity formula from MS Word into my original post, the division sign was lost in the process. The formula is intended to be a spectral power distribution (SPD) summation of the difference between a specular included (SCI) and a specular excluded (SCE) divided by the SCI.

This formula defines a relative specularity as a percentage of the total reflectance. As I understand, Radiance?s material specularity variable is the total specular reflectance normalized percentage, and not the relative specular percentage I was previously thinking.

So that: total reflectance = total specular reflectance + total diffuse reflectance

Using this methodology for a black material I compute a 5% Total Reflectance, and a 20% Relative Specularity, meaning that my Total Specular Reflectance is (5%*0.2) = 1%, and this value (0.01) is used to define Radiance?s specularity variable. Also, the Radiance RGB triplet is scaled by Total Reflectance (0.05).

Does this sound correct to you?

Thank you for the insight,
Andrei Kolomenski





From: Greg Ward [mailto:gregoryjward at gmail.com]
Sent: Wednesday, October 21, 2015 11:49 AM
To: Radiance general discussion
Cc: Maida, James C. (JSC-SF311); Clark, Toni A. (JSC-SF)[WYLE INTEG. SCI. & ENG.]
Subject: Re: [Radiance-general] Specularity Definition of Radiance Material

Hi Andrei,

While specularities greater than 0.1 are not realistic for non-metals, specularity is limited only by physicality (i.e., 1.0) for metals.

Your method should work well enough for metallic surfaces with uncolored highlights.  If you have colored specular reflections, then you may have to do something a little more sophisticated, like multiplying the CIE standard observer curves to get XYZ then convert to RGB for Radiance using xyz_rgb.cal.

Cheers,
-Greg



From: "Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.]" <andrei.kolomenski at nasa.gov<mailto:andrei.kolomenski at nasa.gov>>

Subject: [Radiance-general] Specularity Definition of Radiance Material

Date: October 20, 2015 2:08:10 PM PDT


Hello Radiance Experts,

I have used a Hemispherical Spectral Reflectance meter to measure the Specular Included (SCI) and Specular Excluded (SCE) SPDs of a material. The obtained SPDs are in the range of 360 to 740 nm., commonly considered the photopic range. Then I compute the total photopic specularity using the equation below.

Specularity ?S=100N??=360 nm.?=740 nm  SPD(?)SCI- SPD(?)SCESPD(?)SCI


For a black shiny metal sample, I compute a specularity of 21%. Is it correct to use a value of 0.21 for my specularity definition of a metal material primitive. I?ve read that specularity values greater than  0.1 are not realistic (http://radsite.lbl.gov/radiance/refer/ray.html#Materials) in Radiance. In the .hdr rendered image, the material appears to be highly specular to the degree that it acts like a mirror. So this why I?m concerned if I?m using the right procedure to define the specularity for the Radiance metal primitive.

Is it correct to use a hemispherical reflectance meter, and the equation above to define the Radiance specularity term.

Thank you for your input,
Andrei Kolomenski
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151022/c57f05c4/attachment-0001.html>

From gregoryjward at gmail.com  Thu Oct 22 10:07:49 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 22 Oct 2015 10:07:49 -0700
Subject: [Radiance-general] Specularity Definition of Radiance Material
In-Reply-To: <AE55A995167B224DBBFA16500E3AB9B3048244FD@NDJSMBX202.ndc.nasa.gov>
References: <AE55A995167B224DBBFA16500E3AB9B304824387@NDJSMBX202.ndc.nasa.gov>
	<32B5C006-5907-4ABE-AB3E-89D794490C80@lmi.net>
	<AE55A995167B224DBBFA16500E3AB9B3048244FD@NDJSMBX202.ndc.nasa.gov>
Message-ID: <921145BE-42E3-4CB6-B528-B4DC57BBD562@lmi.net>

Hi Andrei,

Actually, your original formula came through for me.  Maybe it got mangled on the way back to your inbox.

The formula you had for the specularity, where you divided by the "SCI" component, was correct if you use the Radiance "metal" primitive and apply the overall reflectance as your RGB values.  This is because the specular component is multiplied by the RGB color for metals.  I don't recommend using the "plastic" type in your case, but if you did, you would want to leave off the denominator as you say.

Cheers,
-Greg

> From: "Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.]" <andrei.kolomenski at nasa.gov>
> Subject: Re: [Radiance-general] Specularity Definition of Radiance Material
> Date: October 22, 2015 8:39:14 AM PDT
> 
> Hi Greg,
>  
> Thank you for your reply.
>  
> Unfortunately, as I pasted in the Specularity formula from MS Word into my original post, the division sign was lost in the process. The formula is intended to be a spectral power distribution (SPD) summation of the difference between a specular included (SCI) and a specular excluded (SCE) divided by the SCI.
>  
> This formula defines a relative specularity as a percentage of the total reflectance. As I understand, Radiance?s material specularity variable is the total specular reflectance normalized percentage, and not the relative specular percentage I was previously thinking.
>  
> So that: total reflectance = total specular reflectance + total diffuse reflectance
>  
> Using this methodology for a black material I compute a 5% Total Reflectance, and a 20% Relative Specularity, meaning that my Total Specular Reflectance is (5%*0.2) = 1%, and this value (0.01) is used to define Radiance?s specularity variable. Also, the Radiance RGB triplet is scaled by Total Reflectance (0.05).
>  
> Does this sound correct to you?
>  
> Thank you for the insight,
> Andrei Kolomenski
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151022/93317c43/attachment.html>

From toni.clark-1 at nasa.gov  Thu Oct 22 12:23:33 2015
From: toni.clark-1 at nasa.gov (Clark, Toni A. (JSC-SF)[WYLE INTEG. SCI. & ENG.])
Date: Thu, 22 Oct 2015 19:23:33 +0000
Subject: [Radiance-general] Specularity Definition of Radiance Material
In-Reply-To: <921145BE-42E3-4CB6-B528-B4DC57BBD562@lmi.net>
References: <AE55A995167B224DBBFA16500E3AB9B304824387@NDJSMBX202.ndc.nasa.gov>
	<32B5C006-5907-4ABE-AB3E-89D794490C80@lmi.net>
	<AE55A995167B224DBBFA16500E3AB9B3048244FD@NDJSMBX202.ndc.nasa.gov>
	<921145BE-42E3-4CB6-B528-B4DC57BBD562@lmi.net>
Message-ID: <D454D809B67C144689C297790D498F490FD91131@NDJSMBX104.ndc.nasa.gov>

Greg, according to different ASTM measurement standards, a hemispherical reflectance meter is deemed as accurate for highly specular and non-specular materials.  ASTM standards encourage the use of multi-angle measurements for materials that have medium gloss.  So it is quite possible, per a given test standard that usage of the hemispherical meter may not yield accurate data.

A multi angle meter is analogous to a BRDF measurement, just less angles.  With respect to Radiance terms for Total Reflectance, Total Specular Reflectance, and Total Diffuse reflectance, is there anything we could extract from test data from a multi-angle meter that would allow us to determine terms for Total Specular and Diffuse reflectance, aside from using a BRDF function?

For instance, per Radiance, what angle range around the specular angle constitutes the definition of a specular reflection?  For Radiance, what angle range from the specular angle defines the diffuse reflectance?  Please see attached image.  Here, I am thinking that the definition of Total Specular Reflection should constitute some range of angles around the specular angle.  All other angles should fall within the Total Diffuse Reflection category. For instance if I define the Total Specular reflection as the flux that reflects +/- 15 degrees from the specular angle would that be a good definition?  Alternatively can we use an analogy from the lamp world for the definition of beam angle (% drop off by angle from maximum relative intensity)?

Thank you for your thoughts as we attempt to reconcile differences in measurement techniques and definitions for parameters for Radiance material classification.

Toni Clark, P.E.

From: Greg Ward [mailto:gregoryjward at gmail.com]
Sent: Thursday, October 22, 2015 12:08 PM
To: Radiance general discussion
Cc: Maida, James C. (JSC-SF311); Clark, Toni A. (JSC-SF)[WYLE INTEG. SCI. & ENG.]
Subject: Re: [Radiance-general] Specularity Definition of Radiance Material

Hi Andrei,

Actually, your original formula came through for me.  Maybe it got mangled on the way back to your inbox.

The formula you had for the specularity, where you divided by the "SCI" component, was correct if you use the Radiance "metal" primitive and apply the overall reflectance as your RGB values.  This is because the specular component is multiplied by the RGB color for metals.  I don't recommend using the "plastic" type in your case, but if you did, you would want to leave off the denominator as you say.

Cheers,
-Greg



From: "Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.]" <andrei.kolomenski at nasa.gov<mailto:andrei.kolomenski at nasa.gov>>

Subject: Re: [Radiance-general] Specularity Definition of Radiance Material

Date: October 22, 2015 8:39:14 AM PDT


Hi Greg,

Thank you for your reply.

Unfortunately, as I pasted in the Specularity formula from MS Word into my original post, the division sign was lost in the process. The formula is intended to be a spectral power distribution (SPD) summation of the difference between a specular included (SCI) and a specular excluded (SCE) divided by the SCI.

This formula defines a relative specularity as a percentage of the total reflectance. As I understand, Radiance's material specularity variable is the total specular reflectance normalized percentage, and not the relative specular percentage I was previously thinking.

So that: total reflectance = total specular reflectance + total diffuse reflectance

Using this methodology for a black material I compute a 5% Total Reflectance, and a 20% Relative Specularity, meaning that my Total Specular Reflectance is (5%*0.2) = 1%, and this value (0.01) is used to define Radiance's specularity variable. Also, the Radiance RGB triplet is scaled by Total Reflectance (0.05).

Does this sound correct to you?

Thank you for the insight,
Andrei Kolomenski
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151022/75503409/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Reflectance Chart.jpg
Type: image/jpeg
Size: 118335 bytes
Desc: Reflectance Chart.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151022/75503409/attachment-0001.jpg>

From gregoryjward at gmail.com  Thu Oct 22 15:48:44 2015
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Thu, 22 Oct 2015 15:48:44 -0700
Subject: [Radiance-general] Specularity Definition of Radiance Material
In-Reply-To: <D454D809B67C144689C297790D498F490FD91131@NDJSMBX104.ndc.nasa.gov>
References: <AE55A995167B224DBBFA16500E3AB9B304824387@NDJSMBX202.ndc.nasa.gov>
	<32B5C006-5907-4ABE-AB3E-89D794490C80@lmi.net>
	<AE55A995167B224DBBFA16500E3AB9B3048244FD@NDJSMBX202.ndc.nasa.gov>
	<921145BE-42E3-4CB6-B528-B4DC57BBD562@lmi.net>
	<D454D809B67C144689C297790D498F490FD91131@NDJSMBX104.ndc.nasa.gov>
Message-ID: <D6B5ED88-4D5A-4758-8474-6BBC7807282A@gmail.com>

Hi Toni,

Unfortunately, there's no reliable method for getting the specular component based on just a few measurements.  What Andrei has done is similar to what I have done in the past for metallic surfaces, and works reasonably well when the specular highlight is (a) fairly well-defined as from a polished material and (b) large with respect to the diffuse portion.  If assumption (a) is wrong, then the highlight will spill over into the "SCE" region of the spectrophotometer's measurement, and if (b) is wrong, then subtracting "SCE" from "SCI" may not be a very accurate measure of the specular portion.

Short of a full BRDF measurement, I don't know of any methods that work for all surface materials.

Best,
-Greg

> From: "Clark, Toni A. (JSC-SF)[WYLE INTEG. SCI. & ENG.]" <toni.clark-1 at nasa.gov>
> Subject: Re: [Radiance-general] Specularity Definition of Radiance Material
> Date: October 22, 2015 12:23:33 PM PDT
> 
> Greg, according to different ASTM measurement standards, a hemispherical reflectance meter is deemed as accurate for highly specular and non-specular materials.  ASTM standards encourage the use of multi-angle measurements for materials that have medium gloss.  So it is quite possible, per a given test standard that usage of the hemispherical meter may not yield accurate data.
>  
> A multi angle meter is analogous to a BRDF measurement, just less angles.  With respect to Radiance terms for Total Reflectance, Total Specular Reflectance, and Total Diffuse reflectance, is there anything we could extract from test data from a multi-angle meter that would allow us to determine terms for Total Specular and Diffuse reflectance, aside from using a BRDF function?
>  
> For instance, per Radiance, what angle range around the specular angle constitutes the definition of a specular reflection?  For Radiance, what angle range from the specular angle defines the diffuse reflectance?  Please see attached image.  Here, I am thinking that the definition of Total Specular Reflection should constitute some range of angles around the specular angle.  All other angles should fall within the Total Diffuse Reflection category. For instance if I define the Total Specular reflection as the flux that reflects +/- 15 degrees from the specular angle would that be a good definition?  Alternatively can we use an analogy from the lamp world for the definition of beam angle (% drop off by angle from maximum relative intensity)?   
>  
> Thank you for your thoughts as we attempt to reconcile differences in measurement techniques and definitions for parameters for Radiance material classification.
>  
> Toni Clark, P.E.
>  
> From: Greg Ward [mailto:gregoryjward at gmail.com] 
> Sent: Thursday, October 22, 2015 12:08 PM
> To: Radiance general discussion
> Cc: Maida, James C. (JSC-SF311); Clark, Toni A. (JSC-SF)[WYLE INTEG. SCI. & ENG.]
> Subject: Re: [Radiance-general] Specularity Definition of Radiance Material
>  
> Hi Andrei,
>  
> Actually, your original formula came through for me.  Maybe it got mangled on the way back to your inbox.
>  
> The formula you had for the specularity, where you divided by the "SCI" component, was correct if you use the Radiance "metal" primitive and apply the overall reflectance as your RGB values.  This is because the specular component is multiplied by the RGB color for metals.  I don't recommend using the "plastic" type in your case, but if you did, you would want to leave off the denominator as you say.
>  
> Cheers,
> -Greg
> 
> 
> From: "Kolomenski, Andrei (JSC-SF311)[WYLE INTEG. SCI. & ENG.]" <andrei.kolomenski at nasa.gov>
> Subject: Re: [Radiance-general] Specularity Definition of Radiance Material
> Date: October 22, 2015 8:39:14 AM PDT
>  
> Hi Greg,
>  
> Thank you for your reply.
>  
> Unfortunately, as I pasted in the Specularity formula from MS Word into my original post, the division sign was lost in the process. The formula is intended to be a spectral power distribution (SPD) summation of the difference between a specular included (SCI) and a specular excluded (SCE) divided by the SCI.
>  
> This formula defines a relative specularity as a percentage of the total reflectance. As I understand, Radiance?s material specularity variable is the total specular reflectance normalized percentage, and not the relative specular percentage I was previously thinking.
>  
> So that: total reflectance = total specular reflectance + total diffuse reflectance
>  
> Using this methodology for a black material I compute a 5% Total Reflectance, and a 20% Relative Specularity, meaning that my Total Specular Reflectance is (5%*0.2) = 1%, and this value (0.01) is used to define Radiance?s specularity variable. Also, the Radiance RGB triplet is scaled by Total Reflectance (0.05).
>  
> Does this sound correct to you?
>  
> Thank you for the insight,
> Andrei Kolomenski
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151022/3ed7ed4e/attachment.html>

From moonen.iris at gmail.com  Fri Oct 23 09:19:32 2015
From: moonen.iris at gmail.com (Iris Moonen)
Date: Fri, 23 Oct 2015 18:19:32 +0200
Subject: [Radiance-general] Brightness to cd/m2?
Message-ID: <CAPmJ4613KeNb+a+w_+zJmGfOUSMNH0oqeqqJfbo-FtoQJCxVcA@mail.gmail.com>

Hello,

I have a question. I want to get cd/m2 values by using the pvalue. Now
I'm not sure how to get those cd/m2 values - I read somewhere that you
should multiply the values you get from pvalue with 179, but if I do
that I get crazy high values (about 15941203). Do I do something
wrong? I have been trying to search for what pvalue exactly gives you
(I know it's the brightness value but I can't find what unit it is
in), but had no luck on that so far. I also wanted to know if this
value is dependent on the area of your luminance picture or not.

Thank you so much in advance!
Iris


From gregoryjward at gmail.com  Fri Oct 23 09:31:50 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 23 Oct 2015 09:31:50 -0700
Subject: [Radiance-general] Brightness to cd/m2?
In-Reply-To: <CAPmJ4613KeNb+a+w_+zJmGfOUSMNH0oqeqqJfbo-FtoQJCxVcA@mail.gmail.com>
References: <CAPmJ4613KeNb+a+w_+zJmGfOUSMNH0oqeqqJfbo-FtoQJCxVcA@mail.gmail.com>
Message-ID: <E7BFA7A7-C952-44B4-B5EC-78E251A50E46@lmi.net>

Hello Iris,

If the picture has been re-exposed by some other program (such as pfilt), then there will be an EXPOSURE= line in the header, which you can see with the getinfo command.  In any case, you can use the "pvalue -o -b" option to undo this exposure and convert to brightness, then multiply the output by 179 to get luminance in cd/m^2.

This is of course assuming your picture was generated by Radiance in the first place using a properly calibrated scene.  If it is just an HDR image you got from somewhere, it is unlikely that the pixels have an absolute basis.

Best,
-Greg

> From: Iris Moonen <moonen.iris at gmail.com>
> Subject: [Radiance-general] Brightness to cd/m2?
> Date: October 23, 2015 9:19:32 AM PDT
> 
> Hello,
> 
> I have a question. I want to get cd/m2 values by using the pvalue. Now
> I'm not sure how to get those cd/m2 values - I read somewhere that you
> should multiply the values you get from pvalue with 179, but if I do
> that I get crazy high values (about 15941203). Do I do something
> wrong? I have been trying to search for what pvalue exactly gives you
> (I know it's the brightness value but I can't find what unit it is
> in), but had no luck on that so far. I also wanted to know if this
> value is dependent on the area of your luminance picture or not.
> 
> Thank you so much in advance!
> Iris


From coralie.cauwerts at uclouvain.be  Fri Oct 23 10:21:07 2015
From: coralie.cauwerts at uclouvain.be (Coralie Cauwerts)
Date: Fri, 23 Oct 2015 17:21:07 +0000
Subject: [Radiance-general] An academic position in Applied building physics
	in Belgium
Message-ID: <70159de5779f48fa9b9eb4ea6b89290a@ucl-mbx05.OASIS.UCLOUVAIN.BE>

Dear Radiance community,


The Universit? catholique de Louvain in Belgium invites applications for a tenure track or tenured full time position in Applied Building Physics. The candidate should have a PhD degree in Engineering, Architecture, Architectural Engineering, or a related discipline, and will carry out research in the field of applied building physics, sustainable construction, and construction technology. Candidates should apply before November 23, 2015 (the starting date is September 1, 2016).  More information are available here : https://career012.successfactors.eu/career?career_ns=job_listing&company=UCLouvain&navBarLevel=JOB_SEARCH&rcm_site_locale=en_GB&site=VjItSmJSOVQrSWdMM0ZGS0o1NlhCVFAzUT09&career_job_req_id=4609&selected_lang=en_GB&jobAlertController_jobAlertId=&jobAlertController_jobAlertName=&_s.crb=h1g%2bzzpg8f8P37Cc7vvPPJLjkyY%3d.

Coralie

[cid:image001.png at 01D10DC7.F69F8F00]

Coralie Cauwerts
Postdoctoral Researcher | Eng. in Architecture | PhD

UCL - Universit? catholique de Louvain
Faculty of architecture, architectural engineering, urbanism | Architecture et Climat
Place du Levant, n?1 - 1348 Louvain-la-Neuve (Belgium)
Tel: +32 (0)10 47 21 42  -  Fax: +32 (0)10 47 21 50

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151023/1a1246d0/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 7778 bytes
Desc: image001.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151023/1a1246d0/attachment.png>

From christian at naturalintelligence.us  Fri Oct 23 11:56:17 2015
From: christian at naturalintelligence.us (Christian Stalberg)
Date: Fri, 23 Oct 2015 11:56:17 -0700
Subject: [Radiance-general] PRESS RELEASE: DesignBuilder Team Wins ASHRAE
	Energy Modelling Conference's 'Best Innovative Workflow'
	Award (DesignBuilder uses Radiance)
Message-ID: <010101d10dc4$8194aa90$84bdffb0$@naturalintelligence.us>

DB Logo Small

 

FOR IMMEDIATE RELEASE:

 

Contact:

Christian Stalberg

DesignBuilder USA

(415) 743-0537

sales at designbuilderusa.com

http://designbuilderusa.com

 

DesignBuilder Team Wins ASHRAE Energy Modelling Conference's 'Best
Innovative Workflow' Award


DesignBuilder's advanced cost-benefit analysis tools enabled the team to
produce a cost-optimal net-zero energy building in a fraction of the normal
time.


 

Santa Rosa, CA - October 23, 2015 - Team DesignBuilder was thrilled to be
announced winners of the Lowdown Showdown competition's "Best Innovative
Workflow" category at the recent ASHRAE Energy Modeling Conference.

 

The competition was designed to showcase the work of teams pushing the
boundaries of mainstream modelling software tools to create a net zero
energy (or below) building. ASHRAE's requirement was to design a 53,600 sq.
ft. 3-storey office building with a number of constraints, but left other
criteria such as the building location, form, fabric and HVAC systems open
to stimulate creativity and innovation.

 

Cost is an important part of most projects so the team was keen to test
DesignBuilder's optimization capability and decided on a 3-step advanced
cost-benefit analysis approach. DesignBuilder Optimization uses a genetic
algorithm which mimics the "survival of the fittest" principle of natural
evolution to efficiently identify the best combination of design variables
(such as orientation, insulation, glazing, lighting, HVAC). This makes it
possible to find optimum solutions much more quickly than traditional
methods, providing the design team and client with an added level of
confidence that all viable solutions have been identified. Using
DesignBuilder Optimization, which is unique among mainstream software tools,
enabled the team to identify the optimum net-zero solution and also to
quantify the cost-benefit of higher and lower performing solutions.

"Given the team's desire to use this innovative cost-benefit approach to
modelling, we were all delighted to win this particular award for
innovation," said Dave Cocking, one of the DesignBuilder coaches. "This was
a great opportunity for us to work with some very talented and enthusiastic
team members and gave us all the opportunity to present something
cutting-edge and a little different at the conference. It is fantastic that
the team's effort resulted in this accolade from the voting ASHRAE
audience."

Thanks again to the DesignBuilder team members: 

*	Architect: Dr. Khee Poh Lam (Carnegie Mellon University)

.        Designers: David Polson and Holly Stevenson (Arup)

.        Engineers: Gonzalo Lema, Dante Garcia, Billy Condor (SUMAC)

.        Energy Modelers: Mike Tillou (Atelier Ten); Mitchell Gleason
(Building Performance Team); Weili Xu, Adrian Chong, Dr. Omer Karaguzel
(Carnegie Mellon University); Ignacio Martinez (Revitaliza Consultores).

In addition to the ASHRAE competition web page, the team's work (which
provides a useful overview of the optimization process) is summarized here:
http://designbuilderusa.com/lowdown-showdown-competition-ashrae-energy-model
ling-conference-2015
<http://www.prweb.net/Redirect.aspx?id=aHR0cDovL2Rlc2lnbmJ1aWxkZXJ1c2EuY29tL
2xvd2Rvd24tc2hvd2Rvd24tY29tcGV0aXRpb24tYXNocmFlLWVuZXJneS1tb2RlbGxpbmctY29uZ
mVyZW5jZS0yMDE1> 

 

ASHRAE competition website
<https://www.ashrae.org/membership--conferences/conferences/ashrae-conferenc
es/2015-ashrae-energy-modeling-conference> 

DesignBuilder Team Entry Poster
<http://designbuilderusa.com/sites/default/files/DesignBuilderTeamLDSD2015.p
df> 

 

 

Company Profile

 

DesignBuilder Software Ltd. (Stroud, UK) specializes in developing
high-quality, easy-to-use and affordable simulation software tools for
assessing the environmental performance of building designs. The flagship
product DesignBuilder provides data to building designers on energy
consumption, carbon emissions, occupant comfort, daylight availability as
well as the status of the building with regard to several national building
regulations and certification standards. Leading services engineers and
energy modelers across the world use DesignBuilder to gain an insight into
the impact of their design strategies on building environmental performance.
The software is the result of considerable investment in user interface
technology and an uncompromising approach to software design.

 

The DesignBuilder software is distributed throughout the world by a network
of reseller Partners.

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151023/e6ffe5a2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 6160 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151023/e6ffe5a2/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ASHRAE award press release.pdf
Type: application/pdf
Size: 45708 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151023/e6ffe5a2/attachment-0001.pdf>

From t.mcminn at iinet.net.au  Fri Oct 23 18:46:40 2015
From: t.mcminn at iinet.net.au (Terrance McMinn)
Date: Sat, 24 Oct 2015 09:46:40 +0800
Subject: [Radiance-general] Sharing the Ambient Cache
Message-ID: <562AE300.6080609@iinet.net.au>

Does the ambient cache need to be cleared for a rtrace -I+ image when 
the cache was created for a -I- image ?
-- 
Regards
*Terrance McMinn*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151024/801379e1/attachment.html>

From gregoryjward at gmail.com  Sat Oct 24 10:26:23 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 24 Oct 2015 10:26:23 -0700
Subject: [Radiance-general] Sharing the Ambient Cache
In-Reply-To: <562AE300.6080609@iinet.net.au>
References: <562AE300.6080609@iinet.net.au>
Message-ID: <8BB6AA20-06AD-4F9C-A96F-20B67C15B361@lmi.net>

No -- the cached irradiance values are the same.  The only time you need to clear is if you changed the scene or are rendering with different -a* parameters and want to avoid using old values calculated with the previous settings.

-Greg

> From: Terrance McMinn <t.mcminn at iinet.net.au>
> Subject: [Radiance-general] Sharing the Ambient Cache
> Date: October 23, 2015 6:46:40 PM PDT
> 
> Does the ambient cache need to be cleared for a rtrace -I+ image when the cache was created for a -I- image ?
> -- 
> Regards
> Terrance McMinn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151024/12055bfe/attachment.html>

From kallie at umn.edu  Sat Oct 24 15:26:38 2015
From: kallie at umn.edu (Chris Kallie)
Date: Sat, 24 Oct 2015 18:26:38 -0400
Subject: [Radiance-general] bean counting the photon array
Message-ID: <562C059E.9000207@umn.edu>

Fellow Renderers,

I am using The Radiance Photon Map Extension to analyze the light 
passing through an irregular glass object. The luminaire is not visible 
from the viewpoint, and the environment is a simple Lambertian surround.

I wish to account for all scattering events (i.e., specular reflections 
and refractions) that eventually make it to the viewpoint, and I wish to 
render (or at least account for) scattering events incrementally, in 
order to visualize the unfolding (and hopefully the order) of 
contributing events. I have been successful (to some degree) when the 
environment has a non-zero reflectance, but mkpmap fails when I set the 
surrounding environment reflectivity to zero.

So far, the only way I have been able to record a single bounce in a 
non-reflective environment is with rpict, but there I notice not just 
one, but also two or three scattering events: 1) an expected specular 
reflection on the outer hull of the object; plus 2|3) what appears to be 
an inner specular reflection after an initial refraction--followed by an 
exit refraction--from within the object. This indicates to me that rpict 
does not count refractions the same way it counts specular reflections 
(although I think mkpmap does). I have also been able to render 1+ 
scattering event(s) with mkpmap, plus 1+ scattering event(s) with rpict, 
when including a non-zero reflectance Lambertian environment, but I 
don't think those images are useful because I don't think they describe 
any realistic physics (although I might be able to use similar images 
with pcomb in some clever way to reverse-engineer the contributions of 
physical events).

The other issue I have with using rpict for computing the first 
scattering event is because I know it under-samples the caustic 
environment without mkpmap, so I am guessing that rpict will be useful 
for computing some proportion of all but (at least) the first scattering 
event(s) (i.e., perhaps I could use some thoughtful combination of 
n+p-scattering events between n-scatter-distributions and 
p-scatter-gatherings).

I hope this description/shorthand wasn't too confusing.

In summary, I would like to use a combination of mkpmap and rpict to 
incrementally build the photon array, and perhaps use pcomb or some 
other statistical or combinatorial technique to analyze the 
contributions of scattering events as they relate to the viewpoint. 
Finally, whatever limitations are imposed by the software can be 
incorporated into the limits of the model (in other words, I'll take 
what I can get!).

P.S. Unrelated question: How do I tell Radiance the right physical units 
for my glass object?

Thank you, always!
Chris


From t.mcminn at iinet.net.au  Sat Oct 24 19:39:59 2015
From: t.mcminn at iinet.net.au (Terrance McMinn)
Date: Sun, 25 Oct 2015 10:39:59 +0800
Subject: [Radiance-general] Sharing the Ambient Cache
In-Reply-To: <8BB6AA20-06AD-4F9C-A96F-20B67C15B361@lmi.net>
References: <562AE300.6080609@iinet.net.au>
	<8BB6AA20-06AD-4F9C-A96F-20B67C15B361@lmi.net>
Message-ID: <562C40FF.7000709@iinet.net.au>

Thanks Greg. That was my gut feeling but I had no substance to back it up.

Re: Request for a change Regards
*Terrance McMinn*

On 25/10/2015 1:26 am, Greg Ward wrote:
> No -- the cached irradiance values are the same.  The only time you 
> need to clear is if you changed the scene or are rendering with 
> different -a* parameters and want to avoid using old values calculated 
> with the previous settings.
>
> -Greg
>
>> *From: *Terrance McMinn <t.mcminn at iinet.net.au 
>> <mailto:t.mcminn at iinet.net.au>>
>>
>> *Subject: *[Radiance-general] Sharing the Ambient Cache
>>
>> *Date: *October 23, 2015 6:46:40 PM PDT
>>
>> *
>> *
>>
>> Does the ambient cache need to be cleared for a rtrace -I+ image when 
>> the cache was created for a -I- image ?
>> -- 
>> Regards
>> *Terrance McMinn*

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151025/755995e4/attachment.html>

From ocpms at iinet.net.au  Sat Oct 24 19:38:13 2015
From: ocpms at iinet.net.au (ocpms)
Date: Sun, 25 Oct 2015 10:38:13 +0800
Subject: [Radiance-general] Sharing the Ambient Cache
In-Reply-To: <8BB6AA20-06AD-4F9C-A96F-20B67C15B361@lmi.net>
References: <562AE300.6080609@iinet.net.au>
	<8BB6AA20-06AD-4F9C-A96F-20B67C15B361@lmi.net>
Message-ID: <562C4095.9080200@iinet.net.au>

Thanks Greg. That was my gut feeling but I had no substance to back it up.

Re: Request for a change Regards
*Terrance McMinn*

On 25/10/2015 1:26 am, Greg Ward wrote:
> No -- the cached irradiance values are the same.  The only time you 
> need to clear is if you changed the scene or are rendering with 
> different -a* parameters and want to avoid using old values calculated 
> with the previous settings.
>
> -Greg
>
>> *From: *Terrance McMinn <t.mcminn at iinet.net.au 
>> <mailto:t.mcminn at iinet.net.au>>
>>
>> *Subject: *[Radiance-general] Sharing the Ambient Cache
>>
>> *Date: *October 23, 2015 6:46:40 PM PDT
>>
>> *
>> *
>>
>> Does the ambient cache need to be cleared for a rtrace -I+ image when 
>> the cache was created for a -I- image ?
>> -- 
>> Regards
>> *Terrance McMinn*

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20151025/276ea283/attachment.html>

From roland.schregle at gmail.com  Sun Oct 25 08:04:18 2015
From: roland.schregle at gmail.com (Schregle Roland HSLU T&A)
Date: Sun, 25 Oct 2015 16:04:18 +0100
Subject: [Radiance-general] bean counting the photon array
In-Reply-To: <562C059E.9000207@umn.edu>
References: <562C059E.9000207@umn.edu>
Message-ID: <op.x62hhga8gbjfop@deldo>

On Sun, 25 Oct 2015 00:26:38 +0200, Chris Kallie <kallie at umn.edu> wrote:

> Fellow Renderers,
>
> I wish to account for all scattering events (i.e., specular reflections  
> and refractions) that eventually make it to the viewpoint, and I wish to  
> render (or at least account for) scattering events incrementally, in  
> order to visualize the unfolding (and hopefully the order) of  
> contributing events. I have been successful (to some degree) when the  
> environment has a non-zero reflectance, but mkpmap fails when I set the  
> surrounding environment reflectivity to zero.

Hi Chris,

glad to hear you're trying this out! Photons only account for indirect  
irradiance on surfaces with non-zero diffuse component, which explains  
your failure case with the black surround.

> I have also been able to render 1+ scattering event(s) with mkpmap, plus  
> 1+ scattering event(s) with rpict, when including a non-zero reflectance  
> Lambertian environment, but I don't think those images are useful  
> because I don't think they describe any realistic physics

Well, basically you'll get a biased (underestimated) solution. With mkpmap  
you can limit the number of photon bounces with the -apm option. Normally  
this parameter is only relevant for pathological cases, i.e. when using  
surfaces with absurdly high reflectance.

> In summary, I would like to use a combination of mkpmap and rpict to  
> incrementally build the photon array, and perhaps use pcomb or some  
> other statistical or combinatorial technique to analyze the  
> contributions of scattering events as they relate to the viewpoint.

Without modifying the code, I believe you can only separate out the  
ambient component via commandline arguments (correct me if I'm wrong,  
Greg). To only get the ambient component, you can subtract a run with -ab  
0. This isn't specific to photon map tho.

The alternative is rcontrib, but the photon map only accounts for light  
source contributions, so that's no help in your case.

Best regards,

--Roland


-- 
Dr. Roland Schregle
Senior Research Associate

Lucerne University of Applied Sciences and Arts
School of Engineering and Architecture
CC Envelopes and Solar Energy (EASE)
www.hslu.ch/ccease

T direct: +41 41 349 36 26 (New)
roland.schregle at hslu.ch

Technikumstrasse 21, CH-6048 Horw (Correspondence)
Ebenaustrasse 20, CH-6048 Horw (Office)
T +41 41 349 33 11, F +41 41 349 39 60


From moonen.iris at gmail.com  Mon Oct 26 10:08:32 2015
From: moonen.iris at gmail.com (Iris Moonen)
Date: Mon, 26 Oct 2015 18:08:32 +0100
Subject: [Radiance-general] Brightness to cd/m2?
In-Reply-To: <E7BFA7A7-C952-44B4-B5EC-78E251A50E46@lmi.net>
References: <CAPmJ4613KeNb+a+w_+zJmGfOUSMNH0oqeqqJfbo-FtoQJCxVcA@mail.gmail.com>
	<E7BFA7A7-C952-44B4-B5EC-78E251A50E46@lmi.net>
Message-ID: <CAPmJ461DHyY9fPS4-0Oda_pPPLuTq1UC7om47arGXHMJAOntxQ@mail.gmail.com>

Hello,

I've tried that but it doesn't say exposure in the header, and while
using this the values still stay this high. I did notice that when I
change the image size, the values differ. I use "| total" because I
need the average cd/m2 value. Is it possible that I need to divide
this number that I get by pvalue | total before multiplying it with
179?

With kind regards,
Iris

2015-10-23 18:31 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:
> Hello Iris,
>
> If the picture has been re-exposed by some other program (such as pfilt), then there will be an EXPOSURE= line in the header, which you can see with the getinfo command.  In any case, you can use the "pvalue -o -b" option to undo this exposure and convert to brightness, then multiply the output by 179 to get luminance in cd/m^2.
>
> This is of course assuming your picture was generated by Radiance in the first place using a properly calibrated scene.  If it is just an HDR image you got from somewhere, it is unlikely that the pixels have an absolute basis.
>
> Best,
> -Greg
>
>> From: Iris Moonen <moonen.iris at gmail.com>
>> Subject: [Radiance-general] Brightness to cd/m2?
>> Date: October 23, 2015 9:19:32 AM PDT
>>
>> Hello,
>>
>> I have a question. I want to get cd/m2 values by using the pvalue. Now
>> I'm not sure how to get those cd/m2 values - I read somewhere that you
>> should multiply the values you get from pvalue with 179, but if I do
>> that I get crazy high values (about 15941203). Do I do something
>> wrong? I have been trying to search for what pvalue exactly gives you
>> (I know it's the brightness value but I can't find what unit it is
>> in), but had no luck on that so far. I also wanted to know if this
>> value is dependent on the area of your luminance picture or not.
>>
>> Thank you so much in advance!
>> Iris
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Mon Oct 26 10:21:49 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 26 Oct 2015 10:21:49 -0700
Subject: [Radiance-general] Brightness to cd/m2?
In-Reply-To: <CAPmJ461DHyY9fPS4-0Oda_pPPLuTq1UC7om47arGXHMJAOntxQ@mail.gmail.com>
References: <CAPmJ4613KeNb+a+w_+zJmGfOUSMNH0oqeqqJfbo-FtoQJCxVcA@mail.gmail.com>
	<E7BFA7A7-C952-44B4-B5EC-78E251A50E46@lmi.net>
	<CAPmJ461DHyY9fPS4-0Oda_pPPLuTq1UC7om47arGXHMJAOntxQ@mail.gmail.com>
Message-ID: <3526C2AC-601B-46CD-8F01-64391A515688@lmi.net>

Hi Iris,

You really need to share your entire command chain with us.  The total program will compute averages, but only with the "-m" option.

Cheers,
-Greg

> From: Iris Moonen <moonen.iris at gmail.com>
> Subject: Re: [Radiance-general] Brightness to cd/m2?
> Date: October 26, 2015 10:08:32 AM PDT
> 
> Hello,
> 
> I've tried that but it doesn't say exposure in the header, and while
> using this the values still stay this high. I did notice that when I
> change the image size, the values differ. I use "| total" because I
> need the average cd/m2 value. Is it possible that I need to divide
> this number that I get by pvalue | total before multiplying it with
> 179?
> 
> With kind regards,
> Iris
> 
> 2015-10-23 18:31 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:
>> Hello Iris,
>> 
>> If the picture has been re-exposed by some other program (such as pfilt), then there will be an EXPOSURE= line in the header, which you can see with the getinfo command.  In any case, you can use the "pvalue -o -b" option to undo this exposure and convert to brightness, then multiply the output by 179 to get luminance in cd/m^2.
>> 
>> This is of course assuming your picture was generated by Radiance in the first place using a properly calibrated scene.  If it is just an HDR image you got from somewhere, it is unlikely that the pixels have an absolute basis.
>> 
>> Best,
>> -Greg
>> 
>>> From: Iris Moonen <moonen.iris at gmail.com>
>>> Subject: [Radiance-general] Brightness to cd/m2?
>>> Date: October 23, 2015 9:19:32 AM PDT
>>> 
>>> Hello,
>>> 
>>> I have a question. I want to get cd/m2 values by using the pvalue. Now
>>> I'm not sure how to get those cd/m2 values - I read somewhere that you
>>> should multiply the values you get from pvalue with 179, but if I do
>>> that I get crazy high values (about 15941203). Do I do something
>>> wrong? I have been trying to search for what pvalue exactly gives you
>>> (I know it's the brightness value but I can't find what unit it is
>>> in), but had no luck on that so far. I also wanted to know if this
>>> value is dependent on the area of your luminance picture or not.
>>> 
>>> Thank you so much in advance!
>>> Iris


From kallie at umn.edu  Mon Oct 26 18:34:40 2015
From: kallie at umn.edu (Chris Kallie)
Date: Mon, 26 Oct 2015 21:34:40 -0400
Subject: [Radiance-general] bean counting the photon array
In-Reply-To: <op.x62hhga8gbjfop@deldo>
References: <562C059E.9000207@umn.edu> <op.x62hhga8gbjfop@deldo>
Message-ID: <562ED4B0.9030506@umn.edu>

Thanks for your reply, Roland!

Your suggestions are extremely helpful, and much appreciated. And thanks 
to you and the whole gang for all the work put into the new official 
release...it was perfect timing for our current research.

Sincerely,
Chris

On 10/25/15 11:04 AM, Schregle Roland HSLU T&A wrote:
> On Sun, 25 Oct 2015 00:26:38 +0200, Chris Kallie <kallie at umn.edu> wrote:
>
>> Fellow Renderers,
>>
>> I wish to account for all scattering events (i.e., specular 
>> reflections and refractions) that eventually make it to the 
>> viewpoint, and I wish to render (or at least account for) scattering 
>> events incrementally, in order to visualize the unfolding (and 
>> hopefully the order) of contributing events. I have been successful 
>> (to some degree) when the environment has a non-zero reflectance, but 
>> mkpmap fails when I set the surrounding environment reflectivity to 
>> zero.
>
> Hi Chris,
>
> glad to hear you're trying this out! Photons only account for indirect 
> irradiance on surfaces with non-zero diffuse component, which explains 
> your failure case with the black surround.
>
>> I have also been able to render 1+ scattering event(s) with mkpmap, 
>> plus 1+ scattering event(s) with rpict, when including a non-zero 
>> reflectance Lambertian environment, but I don't think those images 
>> are useful because I don't think they describe any realistic physics
>
> Well, basically you'll get a biased (underestimated) solution. With 
> mkpmap you can limit the number of photon bounces with the -apm 
> option. Normally this parameter is only relevant for pathological 
> cases, i.e. when using surfaces with absurdly high reflectance.
>
>> In summary, I would like to use a combination of mkpmap and rpict to 
>> incrementally build the photon array, and perhaps use pcomb or some 
>> other statistical or combinatorial technique to analyze the 
>> contributions of scattering events as they relate to the viewpoint.
>
> Without modifying the code, I believe you can only separate out the 
> ambient component via commandline arguments (correct me if I'm wrong, 
> Greg). To only get the ambient component, you can subtract a run with 
> -ab 0. This isn't specific to photon map tho.
>
> The alternative is rcontrib, but the photon map only accounts for 
> light source contributions, so that's no help in your case.
>
> Best regards,
>
> --Roland
>
>



From moonen.iris at gmail.com  Wed Oct 28 07:18:23 2015
From: moonen.iris at gmail.com (Iris Moonen)
Date: Wed, 28 Oct 2015 15:18:23 +0100
Subject: [Radiance-general] Brightness to cd/m2?
In-Reply-To: <3526C2AC-601B-46CD-8F01-64391A515688@lmi.net>
References: <CAPmJ4613KeNb+a+w_+zJmGfOUSMNH0oqeqqJfbo-FtoQJCxVcA@mail.gmail.com>
	<E7BFA7A7-C952-44B4-B5EC-78E251A50E46@lmi.net>
	<CAPmJ461DHyY9fPS4-0Oda_pPPLuTq1UC7om47arGXHMJAOntxQ@mail.gmail.com>
	<3526C2AC-601B-46CD-8F01-64391A515688@lmi.net>
Message-ID: <CAPmJ460+AHBRTNLjH9c+571rJgigd3G1Ur1LG-2Ha5YnVWus6A@mail.gmail.com>

Hello,

Before I used "pvalue -d -b -h -H picture.hdr | total". This gave me
numbers such as 89057. After these mails I've been trying to use
"pvalue -o -b -d -h -H picture.hdr | total -m" but now I get values
which are about 0.2832. The cd/m2 values I should get should be about
700 cd/m2, which I don't get by multiplying either of these 2 values
with 179. What do I do wrong?

With kind regards, Iris

2015-10-26 18:21 GMT+01:00 Greg Ward <gregoryjward at gmail.com>:
> Hi Iris,
>
> You really need to share your entire command chain with us.  The total program will compute averages, but only with the "-m" option.
>
> Cheers,
> -Greg
>
>> From: Iris Moonen <moonen.iris at gmail.com>
>> Subject: Re: [Radiance-general] Brightness to cd/m2?
>> Date: October 26, 2015 10:08:32 AM PDT
>>
>> Hello,
>>
>> I've tried that but it doesn't say exposure in the header, and while
>> using this the values still stay this high. I did notice that when I
>> change the image size, the values differ. I use "| total" because I
>> need the average cd/m2 value. Is it possible that I need to divide
>> this number that I get by pvalue | total before multiplying it with
>> 179?
>>
>> With kind regards,
>> Iris
>>
>> 2015-10-23 18:31 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:
>>> Hello Iris,
>>>
>>> If the picture has been re-exposed by some other program (such as pfilt), then there will be an EXPOSURE= line in the header, which you can see with the getinfo command.  In any case, you can use the "pvalue -o -b" option to undo this exposure and convert to brightness, then multiply the output by 179 to get luminance in cd/m^2.
>>>
>>> This is of course assuming your picture was generated by Radiance in the first place using a properly calibrated scene.  If it is just an HDR image you got from somewhere, it is unlikely that the pixels have an absolute basis.
>>>
>>> Best,
>>> -Greg
>>>
>>>> From: Iris Moonen <moonen.iris at gmail.com>
>>>> Subject: [Radiance-general] Brightness to cd/m2?
>>>> Date: October 23, 2015 9:19:32 AM PDT
>>>>
>>>> Hello,
>>>>
>>>> I have a question. I want to get cd/m2 values by using the pvalue. Now
>>>> I'm not sure how to get those cd/m2 values - I read somewhere that you
>>>> should multiply the values you get from pvalue with 179, but if I do
>>>> that I get crazy high values (about 15941203). Do I do something
>>>> wrong? I have been trying to search for what pvalue exactly gives you
>>>> (I know it's the brightness value but I can't find what unit it is
>>>> in), but had no luck on that so far. I also wanted to know if this
>>>> value is dependent on the area of your luminance picture or not.
>>>>
>>>> Thank you so much in advance!
>>>> Iris
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Wed Oct 28 08:11:21 2015
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 28 Oct 2015 08:11:21 -0700
Subject: [Radiance-general] Brightness to cd/m2?
In-Reply-To: <CAPmJ460+AHBRTNLjH9c+571rJgigd3G1Ur1LG-2Ha5YnVWus6A@mail.gmail.com>
References: <CAPmJ4613KeNb+a+w_+zJmGfOUSMNH0oqeqqJfbo-FtoQJCxVcA@mail.gmail.com>
	<E7BFA7A7-C952-44B4-B5EC-78E251A50E46@lmi.net>
	<CAPmJ461DHyY9fPS4-0Oda_pPPLuTq1UC7om47arGXHMJAOntxQ@mail.gmail.com>
	<3526C2AC-601B-46CD-8F01-64391A515688@lmi.net>
	<CAPmJ460+AHBRTNLjH9c+571rJgigd3G1Ur1LG-2Ha5YnVWus6A@mail.gmail.com>
Message-ID: <E5D03FEF-B9C1-40D4-90C7-58FE44C175FD@lmi.net>

Hi Iris,

Thanks for sharing your command.  The new command should in fact give you the average radiance in watts/m^2, which when multiplied by 179 should tell you the average luminance in cd/m^2 as you desire.  If the answer is not what you expect, then something else is going wrong.

-Greg

> From: Iris Moonen <moonen.iris at gmail.com>
> Subject: Re: [Radiance-general] Brightness to cd/m2?
> Date: October 28, 2015 7:18:23 AM PDT
> 
> Hello,
> 
> Before I used "pvalue -d -b -h -H picture.hdr | total". This gave me
> numbers such as 89057. After these mails I've been trying to use
> "pvalue -o -b -d -h -H picture.hdr | total -m" but now I get values
> which are about 0.2832. The cd/m2 values I should get should be about
> 700 cd/m2, which I don't get by multiplying either of these 2 values
> with 179. What do I do wrong?
> 
> With kind regards, Iris
> 
> 2015-10-26 18:21 GMT+01:00 Greg Ward <gregoryjward at gmail.com>:
>> Hi Iris,
>> 
>> You really need to share your entire command chain with us.  The total program will compute averages, but only with the "-m" option.
>> 
>> Cheers,
>> -Greg
>> 
>>> From: Iris Moonen <moonen.iris at gmail.com>
>>> Subject: Re: [Radiance-general] Brightness to cd/m2?
>>> Date: October 26, 2015 10:08:32 AM PDT
>>> 
>>> Hello,
>>> 
>>> I've tried that but it doesn't say exposure in the header, and while
>>> using this the values still stay this high. I did notice that when I
>>> change the image size, the values differ. I use "| total" because I
>>> need the average cd/m2 value. Is it possible that I need to divide
>>> this number that I get by pvalue | total before multiplying it with
>>> 179?
>>> 
>>> With kind regards,
>>> Iris
>>> 
>>> 2015-10-23 18:31 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:
>>>> Hello Iris,
>>>> 
>>>> If the picture has been re-exposed by some other program (such as pfilt), then there will be an EXPOSURE= line in the header, which you can see with the getinfo command.  In any case, you can use the "pvalue -o -b" option to undo this exposure and convert to brightness, then multiply the output by 179 to get luminance in cd/m^2.
>>>> 
>>>> This is of course assuming your picture was generated by Radiance in the first place using a properly calibrated scene.  If it is just an HDR image you got from somewhere, it is unlikely that the pixels have an absolute basis.
>>>> 
>>>> Best,
>>>> -Greg
>>>> 
>>>>> From: Iris Moonen <moonen.iris at gmail.com>
>>>>> Subject: [Radiance-general] Brightness to cd/m2?
>>>>> Date: October 23, 2015 9:19:32 AM PDT
>>>>> 
>>>>> Hello,
>>>>> 
>>>>> I have a question. I want to get cd/m2 values by using the pvalue. Now
>>>>> I'm not sure how to get those cd/m2 values - I read somewhere that you
>>>>> should multiply the values you get from pvalue with 179, but if I do
>>>>> that I get crazy high values (about 15941203). Do I do something
>>>>> wrong? I have been trying to search for what pvalue exactly gives you
>>>>> (I know it's the brightness value but I can't find what unit it is
>>>>> in), but had no luck on that so far. I also wanted to know if this
>>>>> value is dependent on the area of your luminance picture or not.
>>>>> 
>>>>> Thank you so much in advance!
>>>>> Iris
>> 


