From dbcrawley at gmail.com  Wed Aug  3 11:49:09 2016
From: dbcrawley at gmail.com (Dru Crawley)
Date: Wed, 3 Aug 2016 14:49:09 -0400
Subject: [Radiance-general] Reminder... Abstracts due soon for Building
	Simulation 2017
Message-ID: <CA+bpH8_bHB492hurA08Vn-Ho5DLy+=Y51jo_K=Ww=x5OaGkvWw@mail.gmail.com>

[image: BS2017Logo_medium.jpg]

Call for Abstracts

One-page abstracts are sought for peer-reviewed papers to be presented at
Building Simulation 2017 in San Francisco, California, August 7-9, 2017.
This is the 15th biennial conference of the International Building
Performance Simulation Association (IBPSA).

You are encouraged to submit abstracts of papers on any aspect of
building-related performance modeling and associated software techniques.
Abstract Due Date: August 10, 2016 (extended to August 17)
Paper Due Date: November 30, 2016

Abstracts will be judged primarily based on scientific soundness of the
applied methods and the degree to which the contribution advances the state
of the art. Authors of accepted abstracts may submit 4-10 page manuscripts
that will be double-blind reviewed. Papers that are accepted and presented
will be published in the citable conference proceedings.

*Submission details and conference information:*
*www.buildingsimulation2017.org*
<http://ibpsa.us3.list-manage.com/track/click?u=545ecdecc811a6e412a8810dd&id=95c353afbd&e=b2b1d7eb18>

Non-paper oral presentations will be solicited later in 2016 -- that format
may be appropriate for case studies or application examples.

The mission of IBPSA is to advance and promote the science of building
simulation in order to improve the design, construction, operation, and
maintenance of new and existing buildings and urban developments. The U. S.
regional affiliate, IBPSA-USA, is the host of Building Simulation 2017.
More information is found at *www.ibpsa.org*
<http://ibpsa.us3.list-manage.com/track/click?u=545ecdecc811a6e412a8810dd&id=ab30260dcf&e=b2b1d7eb18>
 and *www.ibpsa.us*
<http://ibpsa.us3.list-manage.com/track/click?u=545ecdecc811a6e412a8810dd&id=876e2a0ab4&e=b2b1d7eb18>
.

[image: IBPSA Logo with words.JPG]
<http://ibpsa.us3.list-manage.com/track/click?u=545ecdecc811a6e412a8810dd&id=38d53a3f11&e=b2b1d7eb18>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160803/e69212e0/attachment.html>

From germolinal at gmail.com  Fri Aug  5 07:48:02 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Fri, 5 Aug 2016 11:48:02 -0300
Subject: [Radiance-general] rcontrib: warning - partial accumulaton in final
	record
Message-ID: <CAF-iH4Jgo4YSettzdjpxOUjt1zZVGd0kSd7OogDt8NVb5fhWfg@mail.gmail.com>

Hello everyone,

I have a question that I could not solve using Google, so I brought it to
you guys. I have been playing a bit with RFLUXMTX with the purpose of
implementing multi-phase methods for Tubular Daylight Devices,  but I am
getting the error shown in the title of this e-mail.

"RCONTRIB: Warning - partial accumulation in final record"

I am using the command:

rfluxmtx -ab 3 -ad 512 -lw 1e-3 ./TDDs/4-TDD.top ./Skies/white_sky.rad
./Materials/materials.mat ./scene.rad ./Windows/windows.rad >
./DC/4-TDD-sky.mtx

The content of the files is specified below my signature.

Any idea what might be happening? I have seen that this happens "sometimes"
(even for the same command)... is it a memory issue? user error? should
this be in the developers list?



*I AM USING NREL's x64 WINDOWS BINARIES*
Thanks in advance to all!

Germ?n

================================================

where  4-TDD.top file is

#@rfluxmtx h=kf u=Y
void light lens_mat 0 0 3 1 1 1

 lens_mat     polygon    4370_4
0
0
72    1.45    1.3414213562373087    3.34
    1.49    1.373205080756887    3.34
    1.54    1.3    3.34
    1.59    1.39    3.34
...

and white_sky.rad is

#@rfluxmtx h=u u=Y
void glow ground_glow
0 0 4     1 1 1 0

ground_glow source ground
0 0 4     0 0 -1 180

#@rfluxmtx h=r1 u=Y
void glow sky_glow
0 0 4     1 1 1 0

sky_glow source sky
0 0 4     0 0 1 180
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160805/e7b2246c/attachment.html>

From Robert.Guglielmetti at nrel.gov  Fri Aug  5 08:03:27 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 5 Aug 2016 15:03:27 +0000
Subject: [Radiance-general] rcontrib: warning - partial accumulaton in
 final record
In-Reply-To: <CAF-iH4Jgo4YSettzdjpxOUjt1zZVGd0kSd7OogDt8NVb5fhWfg@mail.gmail.com>
References: <CAF-iH4Jgo4YSettzdjpxOUjt1zZVGd0kSd7OogDt8NVb5fhWfg@mail.gmail.com>
Message-ID: <D3CA068F.275FB%Robert.Guglielmetti@nrel.gov>

What's the STDOUT look like from that rfluxmtx command? I hit this issue once, when I had a '-c (n)'  somewhere in my command pipeline and it wasn't consistent.

On 8/5/16, 8:48 AM, "Germ?n Molina Larrain" <germolinal at gmail.com<mailto:germolinal at gmail.com>> wrote:

Hello everyone,

I have a question that I could not solve using Google, so I brought it to you guys. I have been playing a bit with RFLUXMTX with the purpose of implementing multi-phase methods for Tubular Daylight Devices,  but I am getting the error shown in the title of this e-mail.

"RCONTRIB: Warning - partial accumulation in final record"

I am using the command:

rfluxmtx -ab 3 -ad 512 -lw 1e-3 ./TDDs/4-TDD.top ./Skies/white_sky.rad ./Materials/materials.mat ./scene.rad ./Windows/windows.rad > ./DC/4-TDD-sky.mtx

The content of the files is specified below my signature.

Any idea what might be happening? I have seen that this happens "sometimes" (even for the same command)... is it a memory issue? user error? should this be in the developers list?

I AM USING NREL's x64 WINDOWS BINARIES

Thanks in advance to all!

Germ?n

================================================

where  4-TDD.top file is

#@rfluxmtx h=kf u=Y
void light lens_mat 0 0 3 1 1 1

 lens_mat     polygon    4370_4
0
0
72    1.45    1.3414213562373087    3.34
    1.49    1.373205080756887    3.34
    1.54    1.3    3.34
    1.59    1.39    3.34
...

and white_sky.rad is

#@rfluxmtx h=u u=Y
void glow ground_glow
0 0 4     1 1 1 0

ground_glow source ground
0 0 4     0 0 -1 180

#@rfluxmtx h=r1 u=Y
void glow sky_glow
0 0 4     1 1 1 0

sky_glow source sky
0 0 4     0 0 1 180




From germolinal at gmail.com  Fri Aug  5 08:11:09 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Fri, 5 Aug 2016 12:11:09 -0300
Subject: [Radiance-general] rcontrib: warning - partial accumulaton in
 final record
In-Reply-To: <D3CA068F.275FB%Robert.Guglielmetti@nrel.gov>
References: <CAF-iH4Jgo4YSettzdjpxOUjt1zZVGd0kSd7OogDt8NVb5fhWfg@mail.gmail.com>
	<D3CA068F.275FB%Robert.Guglielmetti@nrel.gov>
Message-ID: <CAF-iH4LYJBDK6aVK1-OF=twDiWqSJNtC8VakG_wDuj7WtzwOOQ@mail.gmail.com>

Hello Rob,

I thought RFLUXMTX managed all those options for us!  It looks like this...
I am not sure how many rays are getting into it through the STDIN, though

The STDOUT looks like this:

#?RADIANCE
oconv -f ./Materials/materials.mat ./scene.rad ./Windows/windows.rad
./Skies/white_sky.rad
rcontrib -fo+ -ab 3 -ad 512 -lw 1e-3 -fda -c 10000 -bn 1 -b
if(-Dx*0-Dy*0-Dz*1,0,-1) -m ground_glow -f reinhartb.cal -p
MF=1,rNx=0,rNy=0,rNz=-1,Ux=0,Uy=1,Uz=0,RHS=+1 -bn Nrbins -b rbin -m
sky_glow -y 145
SOFTWARE= NREL 5.0.a.11 (by googs 2016.05.24) based on RADIANCE 5.0
Official Release by G. Ward
CAPDATE= 2016:08:05 10:45:38
GMT= 2016:08:05 13:45:38
NCOMP=3
NROWS=145
NCOLS=146
FORMAT=ascii

2016-08-05 12:03 GMT-03:00 Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov>:

> What's the STDOUT look like from that rfluxmtx command? I hit this issue
> once, when I had a '-c (n)'  somewhere in my command pipeline and it wasn't
> consistent.
>
> On 8/5/16, 8:48 AM, "Germ?n Molina Larrain" <germolinal at gmail.com<mailto:g
> ermolinal at gmail.com>> wrote:
>
> Hello everyone,
>
> I have a question that I could not solve using Google, so I brought it to
> you guys. I have been playing a bit with RFLUXMTX with the purpose of
> implementing multi-phase methods for Tubular Daylight Devices,  but I am
> getting the error shown in the title of this e-mail.
>
> "RCONTRIB: Warning - partial accumulation in final record"
>
> I am using the command:
>
> rfluxmtx -ab 3 -ad 512 -lw 1e-3 ./TDDs/4-TDD.top ./Skies/white_sky.rad
> ./Materials/materials.mat ./scene.rad ./Windows/windows.rad >
> ./DC/4-TDD-sky.mtx
>
> The content of the files is specified below my signature.
>
> Any idea what might be happening? I have seen that this happens
> "sometimes" (even for the same command)... is it a memory issue? user
> error? should this be in the developers list?
>
> I AM USING NREL's x64 WINDOWS BINARIES
>
> Thanks in advance to all!
>
> Germ?n
>
> ================================================
>
> where  4-TDD.top file is
>
> #@rfluxmtx h=kf u=Y
> void light lens_mat 0 0 3 1 1 1
>
>  lens_mat     polygon    4370_4
> 0
> 0
> 72    1.45    1.3414213562373087    3.34
>     1.49    1.373205080756887    3.34
>     1.54    1.3    3.34
>     1.59    1.39    3.34
> ...
>
> and white_sky.rad is
>
> #@rfluxmtx h=u u=Y
> void glow ground_glow
> 0 0 4     1 1 1 0
>
> ground_glow source ground
> 0 0 4     0 0 -1 180
>
> #@rfluxmtx h=r1 u=Y
> void glow sky_glow
> 0 0 4     1 1 1 0
>
> sky_glow source sky
> 0 0 4     0 0 1 180
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160805/7e27a42b/attachment.html>

From Robert.Guglielmetti at nrel.gov  Fri Aug  5 08:32:43 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 5 Aug 2016 15:32:43 +0000
Subject: [Radiance-general] rcontrib: warning - partial accumulaton in
 final record
In-Reply-To: <CAF-iH4LYJBDK6aVK1-OF=twDiWqSJNtC8VakG_wDuj7WtzwOOQ@mail.gmail.com>
References: <CAF-iH4Jgo4YSettzdjpxOUjt1zZVGd0kSd7OogDt8NVb5fhWfg@mail.gmail.com>
	<D3CA068F.275FB%Robert.Guglielmetti@nrel.gov>
	<CAF-iH4LYJBDK6aVK1-OF=twDiWqSJNtC8VakG_wDuj7WtzwOOQ@mail.gmail.com>
Message-ID: <D3CA0A1E.27617%Robert.Guglielmetti@nrel.gov>

It does, but you can still slip in default overrides in some of your setup files (which it does not look like you've done here). Your sky looks good, with the ground first and then the sky. Not sure what's going on.

On 8/5/16, 9:11 AM, "Germ?n Molina Larrain" <germolinal at gmail.com<mailto:germolinal at gmail.com>> wrote:

Hello Rob,

I thought RFLUXMTX managed all those options for us!  It looks like this... I am not sure how many rays are getting into it through the STDIN, though

The STDOUT looks like this:

#?RADIANCE
oconv -f ./Materials/materials.mat ./scene.rad ./Windows/windows.rad ./Skies/white_sky.rad
rcontrib -fo+ -ab 3 -ad 512 -lw 1e-3 -fda -c 10000 -bn 1 -b if(-Dx*0-Dy*0-Dz*1,0,-1) -m ground_glow -f reinhartb.cal -p MF=1,rNx=0,rNy=0,rNz=-1,Ux=0,Uy=1,Uz=0,RHS=+1 -bn Nrbins -b rbin -m sky_glow -y 145
SOFTWARE= NREL 5.0.a.11 (by googs 2016.05.24) based on RADIANCE 5.0 Official Release by G. Ward
CAPDATE= 2016:08:05 10:45:38
GMT= 2016:08:05 13:45:38
NCOMP=3
NROWS=145
NCOLS=146
FORMAT=ascii

2016-08-05 12:03 GMT-03:00 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>>:
What's the STDOUT look like from that rfluxmtx command? I hit this issue once, when I had a '-c (n)'  somewhere in my command pipeline and it wasn't consistent.

On 8/5/16, 8:48 AM, "Germ?n Molina Larrain" <germolinal at gmail.com<mailto:germolinal at gmail.com><mailto:germolinal at gmail.com<mailto:germolinal at gmail.com>>> wrote:

Hello everyone,

I have a question that I could not solve using Google, so I brought it to you guys. I have been playing a bit with RFLUXMTX with the purpose of implementing multi-phase methods for Tubular Daylight Devices,  but I am getting the error shown in the title of this e-mail.

"RCONTRIB: Warning - partial accumulation in final record"

I am using the command:

rfluxmtx -ab 3 -ad 512 -lw 1e-3 ./TDDs/4-TDD.top ./Skies/white_sky.rad ./Materials/materials.mat ./scene.rad ./Windows/windows.rad > ./DC/4-TDD-sky.mtx

The content of the files is specified below my signature.

Any idea what might be happening? I have seen that this happens "sometimes" (even for the same command)... is it a memory issue? user error? should this be in the developers list?

I AM USING NREL's x64 WINDOWS BINARIES

Thanks in advance to all!

Germ?n

================================================

where  4-TDD.top file is

#@rfluxmtx h=kf u=Y
void light lens_mat 0 0 3 1 1 1

 lens_mat     polygon    4370_4
0
0
72    1.45    1.3414213562373087    3.34
    1.49    1.373205080756887    3.34
    1.54    1.3    3.34
    1.59    1.39    3.34
...

and white_sky.rad is

#@rfluxmtx h=u u=Y
void glow ground_glow
0 0 4     1 1 1 0

ground_glow source ground
0 0 4     0 0 -1 180

#@rfluxmtx h=r1 u=Y
void glow sky_glow
0 0 4     1 1 1 0

sky_glow source sky
0 0 4     0 0 1 180



_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Fri Aug  5 08:36:56 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 5 Aug 2016 08:36:56 -0700
Subject: [Radiance-general] rcontrib: warning - partial accumulaton in
	final record
In-Reply-To: <CAF-iH4LYJBDK6aVK1-OF=twDiWqSJNtC8VakG_wDuj7WtzwOOQ@mail.gmail.com>
References: <CAF-iH4Jgo4YSettzdjpxOUjt1zZVGd0kSd7OogDt8NVb5fhWfg@mail.gmail.com>
	<D3CA068F.275FB%Robert.Guglielmetti@nrel.gov>
	<CAF-iH4LYJBDK6aVK1-OF=twDiWqSJNtC8VakG_wDuj7WtzwOOQ@mail.gmail.com>
Message-ID: <5B98AF6E-F1CE-4CE7-B99E-A866062C282C@lmi.net>

Hi Germ?n,

As you can see, rcontrib is passed binary data from rfluxmtx (-fda), and we have seen issues with this on Windows in the past, but I've been told it's no longer a problem.  The best way to test is to temporarily replace the rcontrib command with something that captures the input to a file, so we can check that it's the right length.  In Unix, you would do this with an executable shell script like the following and call it "rcontrib":

:
cat > /tmp/saved_data.bin

On Windows, you might need to write a Perl program.  Just make sure it's something that correctly captures binary data without doing anything to it.  Then, make sure the file contains 145*10000*6*8 bytes in it.

-Greg

> From: Germ?n Molina Larrain <germolinal at gmail.com>
> Date: August 5, 2016 8:11:09 AM PDT
> 
> Hello Rob,
> 
> I thought RFLUXMTX managed all those options for us!  It looks like this... I am not sure how many rays are getting into it through the STDIN, though
> 
> The STDOUT looks like this:
> 
> #?RADIANCE
> oconv -f ./Materials/materials.mat ./scene.rad ./Windows/windows.rad ./Skies/white_sky.rad
> rcontrib -fo+ -ab 3 -ad 512 -lw 1e-3 -fda -c 10000 -bn 1 -b if(-Dx*0-Dy*0-Dz*1,0,-1) -m ground_glow -f reinhartb.cal -p MF=1,rNx=0,rNy=0,rNz=-1,Ux=0,Uy=1,Uz=0,RHS=+1 -bn Nrbins -b rbin -m sky_glow -y 145
> SOFTWARE= NREL 5.0.a.11 (by googs 2016.05.24) based on RADIANCE 5.0 Official Release by G. Ward
> CAPDATE= 2016:08:05 10:45:38
> GMT= 2016:08:05 13:45:38
> NCOMP=3
> NROWS=145
> NCOLS=146
> FORMAT=ascii
> 
> 2016-08-05 12:03 GMT-03:00 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>:
> What's the STDOUT look like from that rfluxmtx command? I hit this issue once, when I had a '-c (n)'  somewhere in my command pipeline and it wasn't consistent.
> 
> On 8/5/16, 8:48 AM, "Germ?n Molina Larrain" <germolinal at gmail.com<mailto:germolinal at gmail.com>> wrote:
> 
> Hello everyone,
> 
> I have a question that I could not solve using Google, so I brought it to you guys. I have been playing a bit with RFLUXMTX with the purpose of implementing multi-phase methods for Tubular Daylight Devices,  but I am getting the error shown in the title of this e-mail.
> 
> "RCONTRIB: Warning - partial accumulation in final record"
> 
> I am using the command:
> 
> rfluxmtx -ab 3 -ad 512 -lw 1e-3 ./TDDs/4-TDD.top ./Skies/white_sky.rad ./Materials/materials.mat ./scene.rad ./Windows/windows.rad > ./DC/4-TDD-sky.mtx
> 
> The content of the files is specified below my signature.
> 
> Any idea what might be happening? I have seen that this happens "sometimes" (even for the same command)... is it a memory issue? user error? should this be in the developers list?
> 
> I AM USING NREL's x64 WINDOWS BINARIES
> 
> Thanks in advance to all!
> 
> Germ?n
> 
> ================================================
> 
> where  4-TDD.top file is
> 
> #@rfluxmtx h=kf u=Y
> void light lens_mat 0 0 3 1 1 1
> 
>  lens_mat     polygon    4370_4
> 0
> 0
> 72    1.45    1.3414213562373087    3.34
>     1.49    1.373205080756887    3.34
>     1.54    1.3    3.34
>     1.59    1.39    3.34
> ...
> 
> and white_sky.rad is
> 
> #@rfluxmtx h=u u=Y
> void glow ground_glow
> 0 0 4     1 1 1 0
> 
> ground_glow source ground
> 0 0 4     0 0 -1 180
> 
> #@rfluxmtx h=r1 u=Y
> void glow sky_glow
> 0 0 4     1 1 1 0
> 
> sky_glow source sky
> 0 0 4     0 0 1 180
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160805/50577cbf/attachment.html>

From Robert.Guglielmetti at nrel.gov  Fri Aug  5 08:50:05 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 5 Aug 2016 15:50:05 +0000
Subject: [Radiance-general] rcontrib: warning - partial accumulaton in
 final record
In-Reply-To: <5B98AF6E-F1CE-4CE7-B99E-A866062C282C@lmi.net>
References: <CAF-iH4Jgo4YSettzdjpxOUjt1zZVGd0kSd7OogDt8NVb5fhWfg@mail.gmail.com>
	<D3CA068F.275FB%Robert.Guglielmetti@nrel.gov>
	<CAF-iH4LYJBDK6aVK1-OF=twDiWqSJNtC8VakG_wDuj7WtzwOOQ@mail.gmail.com>
	<5B98AF6E-F1CE-4CE7-B99E-A866062C282C@lmi.net>
Message-ID: <D3CA10EF.2765D%Robert.Guglielmetti@nrel.gov>

Oh, crap I missed that one, and forgot German's on Windows. Let's hope this is not that bug, since the binaries german's using include those fixes...


On 8/5/16, 9:36 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:

Hi Germ?n,

As you can see, rcontrib is passed binary data from rfluxmtx (-fda), and we have seen issues with this on Windows in the past, but I've been told it's no longer a problem.  The best way to test is to temporarily replace the rcontrib command with something that captures the input to a file, so we can check that it's the right length.  In Unix, you would do this with an executable shell script like the following and call it "rcontrib":

:
cat > /tmp/saved_data.bin

On Windows, you might need to write a Perl program.  Just make sure it's something that correctly captures binary data without doing anything to it.  Then, make sure the file contains 145*10000*6*8 bytes in it.

-Greg


From: Germ?n Molina Larrain <germolinal at gmail.com<mailto:germolinal at gmail.com>>

Date: August 5, 2016 8:11:09 AM PDT


Hello Rob,

I thought RFLUXMTX managed all those options for us!  It looks like this... I am not sure how many rays are getting into it through the STDIN, though

The STDOUT looks like this:

#?RADIANCE
oconv -f ./Materials/materials.mat ./scene.rad ./Windows/windows.rad ./Skies/white_sky.rad
rcontrib -fo+ -ab 3 -ad 512 -lw 1e-3 -fda -c 10000 -bn 1 -b if(-Dx*0-Dy*0-Dz*1,0,-1) -m ground_glow -f reinhartb.cal -p MF=1,rNx=0,rNy=0,rNz=-1,Ux=0,Uy=1,Uz=0,RHS=+1 -bn Nrbins -b rbin -m sky_glow -y 145
SOFTWARE= NREL 5.0.a.11 (by googs 2016.05.24) based on RADIANCE 5.0 Official Release by G. Ward
CAPDATE= 2016:08:05 10:45:38
GMT= 2016:08:05 13:45:38
NCOMP=3
NROWS=145
NCOLS=146
FORMAT=ascii

2016-08-05 12:03 GMT-03:00 Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>>:
What's the STDOUT look like from that rfluxmtx command? I hit this issue once, when I had a '-c (n)'  somewhere in my command pipeline and it wasn't consistent.

On 8/5/16, 8:48 AM, "Germ?n Molina Larrain" <germolinal at gmail.com<mailto:germolinal at gmail.com><mailto:germolinal at gmail.com<mailto:germolinal at gmail.com>>> wrote:

Hello everyone,

I have a question that I could not solve using Google, so I brought it to you guys. I have been playing a bit with RFLUXMTX with the purpose of implementing multi-phase methods for Tubular Daylight Devices,  but I am getting the error shown in the title of this e-mail.

"RCONTRIB: Warning - partial accumulation in final record"

I am using the command:

rfluxmtx -ab 3 -ad 512 -lw 1e-3 ./TDDs/4-TDD.top ./Skies/white_sky.rad ./Materials/materials.mat ./scene.rad ./Windows/windows.rad > ./DC/4-TDD-sky.mtx

The content of the files is specified below my signature.

Any idea what might be happening? I have seen that this happens "sometimes" (even for the same command)... is it a memory issue? user error? should this be in the developers list?

I AM USING NREL's x64 WINDOWS BINARIES

Thanks in advance to all!

Germ?n

================================================

where  4-TDD.top file is

#@rfluxmtx h=kf u=Y
void light lens_mat 0 0 3 1 1 1

 lens_mat     polygon    4370_4
0
0
72    1.45    1.3414213562373087    3.34
    1.49    1.373205080756887    3.34
    1.54    1.3    3.34
    1.59    1.39    3.34
...

and white_sky.rad is

#@rfluxmtx h=u u=Y
void glow ground_glow
0 0 4     1 1 1 0

ground_glow source ground
0 0 4     0 0 -1 180

#@rfluxmtx h=r1 u=Y
void glow sky_glow
0 0 4     1 1 1 0

sky_glow source sky
0 0 4     0 0 1 180



_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general


From jonathan.zhu.uk at gmail.com  Mon Aug  8 07:24:33 2016
From: jonathan.zhu.uk at gmail.com (Jiajie Zhu)
Date: Mon, 8 Aug 2016 15:24:33 +0100
Subject: [Radiance-general] Ray tracing
Message-ID: <CABe4m-KmHTxsrUwXWMcVVCj_zwFB8Bdyp4W1wGJm2r=TfZPhRw@mail.gmail.com>

Hi everyone,

A very simple question.
I know that fundamentally Radiance conduct rendering by backward ray
tracing approach, does the latest version of Radiance includes any forward
ray tracing?

Best Regards,
Jiajie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160808/971c4ead/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon Aug  8 08:09:20 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 8 Aug 2016 15:09:20 +0000
Subject: [Radiance-general] Ray tracing
In-Reply-To: <CABe4m-KmHTxsrUwXWMcVVCj_zwFB8Bdyp4W1wGJm2r=TfZPhRw@mail.gmail.com>
References: <CABe4m-KmHTxsrUwXWMcVVCj_zwFB8Bdyp4W1wGJm2r=TfZPhRw@mail.gmail.com>
Message-ID: <D3CDF9A2.276CE%Robert.Guglielmetti@nrel.gov>

A very simple answer: yes. =)

Through recent updates to Radiance, Roland Schregle's photon map work has been fully integrated into Radiance proper. The photon map is essentially a forward ray tracing preprocess, which nets you some of the niceties of forward raytracing (e.g. caustics). Is that what you're looking for?

The current version of the source code has all this stuff in it. If you're looking for a package (installer), the last one NREL released does have the initial checkin in there, but there have been some bug fixes since then; I'm trying to find time to get an updated set of packages together.

Latest NREL release:
https://github.com/NREL/Radiance/releases/tag/5.0.a.11

- Rob

On 8/8/16, 8:24 AM, "Jiajie Zhu" <jonathan.zhu.uk at gmail.com<mailto:jonathan.zhu.uk at gmail.com>> wrote:

Hi everyone,

A very simple question.
I know that fundamentally Radiance conduct rendering by backward ray tracing approach, does the latest version of Radiance includes any forward ray tracing?

Best Regards,
Jiajie


From dnuribe at uc.cl  Mon Aug  8 08:57:17 2016
From: dnuribe at uc.cl (Daniel Uribe)
Date: Mon, 8 Aug 2016 12:57:17 -0300
Subject: [Radiance-general] rtrace: warning - ambient file "af" corrupted
Message-ID: <CALzUQjpcsmVzaUpSK-jvoi=XBz1erQ7h7F2C6NtPsb7TtBnxkw@mail.gmail.com>

Hello everyone,

I'm calculating the L matrix of the Three-phases method with the following
Perl script:

$lum_wp1="LMX/LUM_WP-$orientation-1.lmx";
`cat $wp | rtrace -n $cores -I -af af -ab 6 -ad 2048 -aa 0.2 octree >
$lum_wp1`;
`rm octree af`;

In Radiance 4.2 works correctly, but in Radiance 5.0 shows me the following
error:

rtracertrace: warning - ambient file "af" corrupted near character 250:
warning - ambient file "af" corrupted near character 250
rtrace: warning - ambient file "af" corrupted near character 4337

something changed from version 4.2 to 5.0 in rtrace? or, could I have
installed something wrong?

Regards!


*Daniel Uribe*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160808/7a0c5c05/attachment.html>

From gregoryjward at gmail.com  Mon Aug  8 09:17:18 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 8 Aug 2016 09:17:18 -0700
Subject: [Radiance-general] rtrace: warning - ambient file "af" corrupted
In-Reply-To: <CALzUQjpcsmVzaUpSK-jvoi=XBz1erQ7h7F2C6NtPsb7TtBnxkw@mail.gmail.com>
References: <CALzUQjpcsmVzaUpSK-jvoi=XBz1erQ7h7F2C6NtPsb7TtBnxkw@mail.gmail.com>
Message-ID: <A3D8B004-FD93-42C3-B245-32A6D1FBF967@lmi.net>

Hi Daniel,

I'll leave aside the question of why you are using rtrace in a 3-phase calculation, and just address the error you are seeing.

Although the ambient cache code has changed substantially since version 4.2, this particular error does not seem related to those changes.  I would guess that this is either a problem with the system you are running on not maintaining good local file locks, or it was just a hiccup in the system that if you remove the ambient file and start again will simply go away.  So, that's what I would try first, and if you get the error again, remove the ambient file once more and run with cores=1.  I can't imagine a circumstance where you would see the error after that, but if you had to take it to -n 1 to get the problem to go away, that means your NFS lock manager is broken on your operating system.

Let us know how it goes!

-Greg

> From: Daniel Uribe <dnuribe at uc.cl>
> Date: August 8, 2016 8:57:17 AM PDT
> 
> Hello everyone,
> 
> I'm calculating the L matrix of the Three-phases method with the following Perl script:
> 
> $lum_wp1="LMX/LUM_WP-$orientation-1.lmx";
> `cat $wp | rtrace -n $cores -I -af af -ab 6 -ad 2048 -aa 0.2 octree > $lum_wp1`;
> `rm octree af`;
> 
> In Radiance 4.2 works correctly, but in Radiance 5.0 shows me the following error:
> 
> rtracertrace: warning - ambient file "af" corrupted near character 250: 
> warning - ambient file "af" corrupted near character 250
> rtrace: warning - ambient file "af" corrupted near character 4337
> 
> something changed from version 4.2 to 5.0 in rtrace? or, could I have installed something wrong?
> 
> Regards!
> 
> Daniel Uribe
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160808/6b72a73d/attachment.html>

From roland.schregle at gmail.com  Mon Aug  8 09:22:41 2016
From: roland.schregle at gmail.com (Roland Schregle)
Date: Mon, 08 Aug 2016 18:22:41 +0200
Subject: [Radiance-general] Ray tracing
In-Reply-To: <D3CDF9A2.276CE%Robert.Guglielmetti@nrel.gov>
References: <CABe4m-KmHTxsrUwXWMcVVCj_zwFB8Bdyp4W1wGJm2r=TfZPhRw@mail.gmail.com>
	<D3CDF9A2.276CE%Robert.Guglielmetti@nrel.gov>
Message-ID: <op.ylvw33d0xwus9n@deldo>

On Mon, 08 Aug 2016 17:09:20 +0200, Guglielmetti, Robert  
<Robert.Guglielmetti at nrel.gov> wrote:

> A very simple answer: yes. =)
>
> Through recent updates to Radiance, Roland Schregle's photon map work  
> has been fully integrated into Radiance proper. The photon map is  
> essentially a forward ray tracing preprocess, which nets you some of the  
> niceties of forward raytracing (e.g. caustics). Is that what you're  
> looking for?

Thanks, Rob. :^)

Following up on Rob's answer, there's a photon mapping manual in  
ray/doc/pmap-manual.pdf to get you started. Forward raytracing is done  
with the mkpmap utility as a prerequisite to using the usual  
rpict/tracte/rvu, supplying the photon map file with the -ap option.

Good luck,

--Roland


-- 
"END OF LINE" [MCP, 1982]


From gregoryjward at gmail.com  Mon Aug  8 09:57:52 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 8 Aug 2016 09:57:52 -0700
Subject: [Radiance-general] Ray tracing
In-Reply-To: <op.ylvw33d0xwus9n@deldo>
References: <CABe4m-KmHTxsrUwXWMcVVCj_zwFB8Bdyp4W1wGJm2r=TfZPhRw@mail.gmail.com>
	<D3CDF9A2.276CE%Robert.Guglielmetti@nrel.gov>
	<op.ylvw33d0xwus9n@deldo>
Message-ID: <C73DB2CD-D02C-4CE1-8EF7-4A0561366776@lmi.net>

Yes, and a reminder that the "rad" interface also knows how to handle basic photon maps, running mkpmap as part of the process management.

Cheers,
-Greg

> From: "Roland Schregle" <roland.schregle at gmail.com>
> Date: August 8, 2016 9:22:41 AM PDT
> 
> On Mon, 08 Aug 2016 17:09:20 +0200, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
> 
>> A very simple answer: yes. =)
>> 
>> Through recent updates to Radiance, Roland Schregle's photon map work has been fully integrated into Radiance proper. The photon map is essentially a forward ray tracing preprocess, which nets you some of the niceties of forward raytracing (e.g. caustics). Is that what you're looking for?
> 
> Thanks, Rob. :^)
> 
> Following up on Rob's answer, there's a photon mapping manual in ray/doc/pmap-manual.pdf to get you started. Forward raytracing is done with the mkpmap utility as a prerequisite to using the usual rpict/tracte/rvu, supplying the photon map file with the -ap option.
> 
> Good luck,
> 
> --Roland
> 


From dnuribe at uc.cl  Mon Aug  8 12:28:27 2016
From: dnuribe at uc.cl (Daniel Uribe)
Date: Mon, 8 Aug 2016 16:28:27 -0300
Subject: [Radiance-general] rtrace: warning - ambient file "af" corrupted
Message-ID: <CALzUQjpo7ZxFgs7LizV3xVACcG73q1W+gZNOGt45RaFBK1Kd6w@mail.gmail.com>

Greg,

Thank you very much for your help. Indeed, changing the number of cores to
-n 1 had no problems running the program. I will look for how to repair the
NFS lock manager of the operating system.

Thanks,

*Daniel Uribe*



> ------------------------------
>
> Message: 4
> Date: Mon, 8 Aug 2016 09:17:18 -0700
> From: Greg Ward <gregoryjward at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] rtrace: warning - ambient file "af"
>         corrupted
> Message-ID: <A3D8B004-FD93-42C3-B245-32A6D1FBF967 at lmi.net>
> Content-Type: text/plain; charset="us-ascii"
>
> Hi Daniel,
>
> I'll leave aside the question of why you are using rtrace in a 3-phase
> calculation, and just address the error you are seeing.
>
> Although the ambient cache code has changed substantially since version
> 4.2, this particular error does not seem related to those changes.  I would
> guess that this is either a problem with the system you are running on not
> maintaining good local file locks, or it was just a hiccup in the system
> that if you remove the ambient file and start again will simply go away.
> So, that's what I would try first, and if you get the error again, remove
> the ambient file once more and run with cores=1.  I can't imagine a
> circumstance where you would see the error after that, but if you had to
> take it to -n 1 to get the problem to go away, that means your NFS lock
> manager is broken on your operating system.
>
> Let us know how it goes!
>
> -Greg
>
> > From: Daniel Uribe <dnuribe at uc.cl>
> > Date: August 8, 2016 8:57:17 AM PDT
> >
> > Hello everyone,
> >
> > I'm calculating the L matrix of the Three-phases method with the
> following Perl script:
> >
> > $lum_wp1="LMX/LUM_WP-$orientation-1.lmx";
> > `cat $wp | rtrace -n $cores -I -af af -ab 6 -ad 2048 -aa 0.2 octree >
> $lum_wp1`;
> > `rm octree af`;
> >
> > In Radiance 4.2 works correctly, but in Radiance 5.0 shows me the
> following error:
> >
> > rtracertrace: warning - ambient file "af" corrupted near character 250:
> > warning - ambient file "af" corrupted near character 250
> > rtrace: warning - ambient file "af" corrupted near character 4337
> >
> > something changed from version 4.2 to 5.0 in rtrace? or, could I have
> installed something wrong?
> >
> > Regards!
> >
> > Daniel Uribe
> >
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://www.radiance-online.org/pipermail/radiance-
> general/attachments/20160808/6b72a73d/attachment-0001.html>
>
> ------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160808/e2a1d9c1/attachment.html>

From tito_ at mit.edu  Wed Aug 10 09:36:51 2016
From: tito_ at mit.edu (Christoph Reinhart)
Date: Wed, 10 Aug 2016 16:36:51 +0000
Subject: [Radiance-general] DIVA 4 Video Tutorials
Message-ID: <1B23446CBF250648A2FC775DE3FE7E80FF461747@OC11expo28.exchange.mit.edu>

Dear colleagues,

We are extremely pleased to announce the availability of our new DIVA-4.0 for Grasshopper video tutorial series<http://solemma.net/grasshopper_tutorials.html>. These fourteen tutorials, totaling over 5 hours of instructions, were created by Jeff Geisinger and take users from the very basics of how to set up a RADIANCE visualization or a single-zone EnergyPlus model in DIVA4.0/Archsim to quite advanced dynamic shading analyses, multi-zone models and even a fully integrated daylighting thermal simulation using DAYSIM/EnergyPlus.

Enjoy,
The Solemma Team
PS: DIVA DAY<http://diva4rhino.com/diva-day-2016> in Toronto is only 51 days away.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160810/39f32d5d/attachment.html>

From ziyausta61 at gmail.com  Mon Aug 15 11:36:40 2016
From: ziyausta61 at gmail.com (Ziya Usta)
Date: Mon, 15 Aug 2016 21:36:40 +0300
Subject: [Radiance-general] Daysim
Message-ID: <CANTU3+r4n89u5DO6bogC0TYs=QK6FjakWAhEhACpGRJapQAR-g@mail.gmail.com>

I downloaded and installed Daysim 3.1 but when I try to open the program I
receice an error: Error reading file prefs.dat any help please
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160815/1294e77b/attachment.html>

From t.mcminn at ocpms.com.au  Tue Aug 23 07:55:18 2016
From: t.mcminn at ocpms.com.au (Terrance McMinn)
Date: Tue, 23 Aug 2016 22:55:18 +0800
Subject: [Radiance-general] Frozen Octree instances in a different location
Message-ID: <6e32410e-2f64-2c95-411d-c36669290d73@ocpms.com.au>

I have a Sketchup model with two layers: Building and Site

Due to the export time (su2rad) of the Site layer, I figured I could 
switch off the building layer and export the site once create a frozen 
octree (oconv -f materials.rad Scene1.rad > octrees/frozen-site.oct) 
then instance the site back into the building project with a simple 3 
line file:

void instance site_instance
1 octrees/frozen-site.oct
0
0

The unexpected result is that the site is offset to the building. I did 
not expect to need to add transform arguments (X, Y, Z) to the instance 
definition:

void instance site_instance
5 octrees/frozen-site.oct -t X Y Z
0
0

Am I missing something fundamental and just need to experimentally 
determine the offset?

-- 
Regards
*Terrance McMinn*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160823/72d13d55/attachment.html>

From t.mcminn at ocpms.com.au  Tue Aug 23 08:08:07 2016
From: t.mcminn at ocpms.com.au (Terrance McMinn)
Date: Tue, 23 Aug 2016 23:08:07 +0800
Subject: [Radiance-general] Frozen Octree instances in a different
 location
In-Reply-To: <6e32410e-2f64-2c95-411d-c36669290d73@ocpms.com.au>
References: <6e32410e-2f64-2c95-411d-c36669290d73@ocpms.com.au>
Message-ID: <bc1dde59-0e75-35ca-76d0-113d0e3b2811@ocpms.com.au>

Please ignore the previous post, further investigation indicates that 
the problem is not a positional issue.

The frozen octree is behaviour in the expected fashion.
-- 
Regards
*Terrance McMinn*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160823/0f1ad743/attachment.html>

From gregoryjward at gmail.com  Tue Aug 23 10:22:01 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 23 Aug 2016 10:22:01 -0700
Subject: [Radiance-general] Frozen Octree instances in a different
	location
In-Reply-To: <6e32410e-2f64-2c95-411d-c36669290d73@ocpms.com.au>
References: <6e32410e-2f64-2c95-411d-c36669290d73@ocpms.com.au>
Message-ID: <BB15F60F-E95E-475D-A293-3FB270FF03D4@lmi.net>

Hi Terrance,

Glad you sorted it out.  Another trick that works and is slightly more efficient is to create a "partial octree" containing your scene except building, then add to it, i.e.:

	oconv -f materials.rad Scene1.rad > octrees/frozen-site.oct
	oconv -f -i octrees/frozen-site.oct Building1.rad > octrees/building1-site.oct
	(make a second version of building)
	oconv -f -i octrees/frozen-site.oct Building2.rad > octrees/building2-site.oct

The above will work without the -f option, also, if you want your octree files to be a little smaller and you don't plan to move them about.  Adding geometry to an existing octree can be much faster than rebuilding the whole thing from scratch.  The one caveat is that your new geometry must fit entirely within the bounding box of the original geometry.  If it will not, you can use the -b option in the first oconv to specify a bounding volume that encompasses everything.

Cheers,
-Greg

> From: Terrance McMinn <t.mcminn at ocpms.com.au>
> Date: August 23, 2016 7:55:18 AM PDT
> 
> I have a Sketchup model with two layers: Building and Site
> 
> Due to the export time (su2rad) of the Site layer, I figured I could switch off the building layer and export the site once create a frozen octree (oconv -f materials.rad Scene1.rad > octrees/frozen-site.oct) then instance the site back into the building project with a simple 3 line file:
> 
> void instance site_instance
> 1 octrees/frozen-site.oct
> 0
> 0
> The unexpected result is that the site is offset to the building. I did not expect to need to add transform arguments (X, Y, Z) to the instance definition:
> 
> void instance site_instance
> 5 octrees/frozen-site.oct -t X Y Z
> 0
> 0
> Am I missing something fundamental and just need to experimentally determine the offset?
> -- 
> Regards
> Terrance McMinn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160823/52b7b3a6/attachment.html>

From weiss at stahl-sonnenenergie.de  Tue Aug 23 12:07:14 2016
From: weiss at stahl-sonnenenergie.de (weiss at stahl-sonnenenergie.de)
Date: Tue, 23 Aug 2016 19:07:14 +0000
Subject: [Radiance-general] AUTOREPLY Radiance-general Digest, Vol 150,
	Issue 9
Message-ID: <064E6053.57BCBAFF@smtprelaypool.ispgateway.de>


Sehr geehrte Damen und Herren,

vielen Dank fr Ihre Nachricht.
ich bin bis zum 12.09.2016 im Urlaub. Ihre Nachricht wird nicht automatisch weiter geleitet oder gelesen. Bitte wenden sie sich in dringenden Fllen an unsere Zentrale.

Mit freundlichen Gren

Volker Wei

Stahl+Wei
Basler Strae 55
D-79100 Freiburg

Tel.   +49-(0)761-38909-32
Zentrale                     -30
Fax.  +49-(0)761-38909-39

weiss at stahl-weiss.de
www.stahl-weiss.de


Send Radiance-general mailing list submissions to
	radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request at radiance-online.org

You can reach the person managing the list at
	radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Frozen Octree instances in a different location (Terrance McMinn)
   2. Re: Frozen Octree instances in a different location
      (Terrance McMinn)
   3. Re: Frozen Octree instances in a different	location (Greg Ward)


----------------------------------------------------------------------

Message: 1
Date: Tue, 23 Aug 2016 22:55:18 +0800
From: Terrance McMinn <t.mcminn at ocpms.com.au>
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Frozen Octree instances in a different
	location
Message-ID: <6e32410e-2f64-2c95-411d-c36669290d73 at ocpms.com.au>
Content-Type: text/plain; charset="utf-8"; Format="flowed"

I have a Sketchup model with two layers: Building and Site

Due to the export time (su2rad) of the Site layer, I figured I could 
switch off the building layer and export the site once create a frozen 
octree (oconv -f materials.rad Scene1.rad > octrees/frozen-site.oct) 
then instance the site back into the building project with a simple 3 
line file:

void instance site_instance
1 octrees/frozen-site.oct
0
0

The unexpected result is that the site is offset to the building. I did 
not expect to need to add transform arguments (X, Y, Z) to the instance 
definition:

void instance site_instance
5 octrees/frozen-site.oct -t X Y Z
0
0

Am I missing something fundamental and just need to experimentally 
determine the offset?

-- 
Regards
*Terrance McMinn*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160823/72d13d55/attachment-0001.html>

------------------------------

Message: 2
Date: Tue, 23 Aug 2016 23:08:07 +0800
From: Terrance McMinn <t.mcminn at ocpms.com.au>
To: radiance-general at radiance-online.org
Subject: Re: [Radiance-general] Frozen Octree instances in a different
	location
Message-ID: <bc1dde59-0e75-35ca-76d0-113d0e3b2811 at ocpms.com.au>
Content-Type: text/plain; charset="utf-8"; Format="flowed"

Please ignore the previous post, further investigation indicates that 
the problem is not a positional issue.

The frozen octree is behaviour in the expected fashion.
-- 
Regards
*Terrance McMinn*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160823/0f1ad743/attachment-0001.html>

------------------------------

Message: 3
Date: Tue, 23 Aug 2016 10:22:01 -0700
From: Greg Ward <gregoryjward at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Frozen Octree instances in a different
	location
Message-ID: <BB15F60F-E95E-475D-A293-3FB270FF03D4 at lmi.net>
Content-Type: text/plain; charset="us-ascii"

Hi Terrance,

Glad you sorted it out.  Another trick that works and is slightly more efficient is to create a "partial octree" containing your scene except building, then add to it, i.e.:

	oconv -f materials.rad Scene1.rad > octrees/frozen-site.oct
	oconv -f -i octrees/frozen-site.oct Building1.rad > octrees/building1-site.oct
	(make a second version of building)
	oconv -f -i octrees/frozen-site.oct Building2.rad > octrees/building2-site.oct

The above will work without the -f option, also, if you want your octree files to be a little smaller and you don't plan to move them about.  Adding geometry to an existing octree can be much faster than rebuilding the whole thing from scratch.  The one caveat is that your new geometry must fit entirely within the bounding box of the original geometry.  If it will not, you can use the -b option in the first oconv to specify a bounding volume that encompasses everything.

Cheers,
-Greg

> From: Terrance McMinn <t.mcminn at ocpms.com.au>
> Date: August 23, 2016 7:55:18 AM PDT
> 
> I have a Sketchup model with two layers: Building and Site
> 
> Due to the export time (su2rad) of the Site layer, I figured I could switch off the building layer and export the site once create a frozen octree (oconv -f materials.rad Scene1.rad > octrees/frozen-site.oct) then instance the site back into the building project with a simple 3 line file:
> 
> void instance site_instance
> 1 octrees/frozen-site.oct
> 0
> 0
> The unexpected result is that the site is offset to the building. I did not expect to need to add transform arguments (X, Y, Z) to the instance definition:
> 
> void instance site_instance
> 5 octrees/frozen-site.oct -t X Y Z
> 0
> 0
> Am I missing something fundamental and just need to experimentally determine the offset?
> -- 
> Regards
> Terrance McMinn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160823/52b7b3a6/attachment-0001.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 150, Issue 9
************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160823/d42b1155/attachment.html>

