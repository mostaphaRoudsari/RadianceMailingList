From germolinal at gmail.com  Fri Dec  2 04:27:07 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Fri, 02 Dec 2016 12:27:07 +0000
Subject: [Radiance-general] Glare and visual confort indices -- Are they
 ready?
Message-ID: <CAF-iH4+ypOwCkZcpthMoANdQhz6mr13nSidxLOXenMKoRPrVBw@mail.gmail.com>

Dear List,

Even if this is not a question regarding the use of Radiance, it certainly
is something related to this list or at least the expertise of its
participants. I want to start a discussion.

As a small group of you may know, I am the developer of a Radiance-based
lighting tool. This tool has the purpose of taking the state-of-the-art
daylighting calculation methods and practices to industry. However, since
industry sometimes just jump over a software, I am always worried about
methods and tool being used incorrectly.

In this last regard, I have been wondering for a while whether I should add
glare calculation capabilities or not. My impression is that they are
incredibly easy to misuse. For example, at the NREL's 12th Radiance
Workshop, Jan Wienold and Kevin Van Den Wymelenberg made Glare-oriented
presentations that did not really agree much.

So, my question is: are glare indices, such as UGR, DGP, etc. etc. ready
for use? Maybe only the Electric Lighting ones are ready? How about the
Daylighting ones? I do not want to offer something that looks like a magic
black-box, but which leads to incorrect results. I also know that having
something is better than nothing, but that only works as long as that
"something" helps guiding the design in the right direction.

Thanks very much in advance.

Germ?n
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161202/65fcf7e2/attachment.html>

From Christopher.Rush at arup.com  Fri Dec  2 06:10:14 2016
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 2 Dec 2016 14:10:14 +0000
Subject: [Radiance-general] Glare and visual confort indices -- Are they
 ready?
In-Reply-To: <CAF-iH4+ypOwCkZcpthMoANdQhz6mr13nSidxLOXenMKoRPrVBw@mail.gmail.com>
References: <CAF-iH4+ypOwCkZcpthMoANdQhz6mr13nSidxLOXenMKoRPrVBw@mail.gmail.com>
Message-ID: <88079A360FAC7441AE93ECBF6199823647034FD8@AMXExMb01.global.arup.com>

I?m not well-versed enough to give an opinion on which are ready for use in any particular application, but I would give *my* opinion on your closing thoughts. If the calculation method for the metric isn?t changing, but maybe there?s ongoing research into appropriate values and applications, maybe the metric is useful enough to help ?guide the design in the right direction.? However there may be some metrics that have gone out of favor or been invalidated by current research that could be excluded ? to avoid a curious user applying something they shouldn?t. But sometimes even the outdated metrics may still be referenced in some governing design standard and a user may need it for a particular project.

As with any other metric, the designer has to know the correct application and the appropriate target values, or which magnitude of difference between two designs might be considered negligible. Something as simple as illuminance isn?t changing in principle, but the design standards and recommended values are still changing and being clarified or fine-tuned. And a designer has to know the appropriate application where daylight factor, or daylight autonomy is an appropriate metric. So if a particular metric is in question and has ongoing research into application limits, tolerance thresholds, etc., a designer may not have full confidence to say a value of X.X in a particular metric is ?good enough,? but if they have two design options they can hopefully make a reasonable judgment on which is better (as long as the metric hasn?t been invalidated!).

-Chris



From: Germ?n Molina Larrain [mailto:germolinal at gmail.com]
Sent: Friday, December 02, 2016 7:27 AM
To: Radiance general discussion
Subject: [Radiance-general] Glare and visual confort indices -- Are they ready?

Dear List,

Even if this is not a question regarding the use of Radiance, it certainly is something related to this list or at least the expertise of its participants. I want to start a discussion.

As a small group of you may know, I am the developer of a Radiance-based lighting tool. This tool has the purpose of taking the state-of-the-art daylighting calculation methods and practices to industry. However, since industry sometimes just jump over a software, I am always worried about methods and tool being used incorrectly.

In this last regard, I have been wondering for a while whether I should add glare calculation capabilities or not. My impression is that they are incredibly easy to misuse. For example, at the NREL's 12th Radiance Workshop, Jan Wienold and Kevin Van Den Wymelenberg made Glare-oriented presentations that did not really agree much.

So, my question is: are glare indices, such as UGR, DGP, etc. etc. ready for use? Maybe only the Electric Lighting ones are ready? How about the Daylighting ones? I do not want to offer something that looks like a magic black-box, but which leads to incorrect results. I also know that having something is better than nothing, but that only works as long as that "something" helps guiding the design in the right direction.
Thanks very much in advance.
Germ?n
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161202/8228aaa8/attachment.html>

From perhaugaard at yahoo.dk  Sun Dec  4 05:53:27 2016
From: perhaugaard at yahoo.dk (Per Haugaard)
Date: Sun, 4 Dec 2016 13:53:27 +0000 (UTC)
Subject: [Radiance-general] Dayllight in homes
References: <448691180.9934277.1480859607826.ref@mail.yahoo.com>
Message-ID: <448691180.9934277.1480859607826@mail.yahoo.com>

Dear Radiance users,
I am looking for articles, research papers or studies describing the positive aspects of increased access of daylight in homes. I am thinking the effect in regards to ROI and selling period and the positive aspects of health, the experience of space, visibility and the like. Any input is much appreciated.
Best regards
Per Haugaard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161204/7a62dc71/attachment.html>

From germolinal at gmail.com  Mon Dec  5 05:09:04 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Mon, 5 Dec 2016 10:09:04 -0300
Subject: [Radiance-general] Glare and visual confort indices -- Are they
 ready?
In-Reply-To: <88079A360FAC7441AE93ECBF6199823647034FD8@AMXExMb01.global.arup.com>
References: <CAF-iH4+ypOwCkZcpthMoANdQhz6mr13nSidxLOXenMKoRPrVBw@mail.gmail.com>
 <88079A360FAC7441AE93ECBF6199823647034FD8@AMXExMb01.global.arup.com>
Message-ID: <CAF-iH4JC=L7VgW6xxgkN+PUX_5VsqhGQ+Rh5FsTmg_zczxD=QQ@mail.gmail.com>

Thanks, Chris! I believe this question is meant to be answer based on
opinions.

I agree that people need to know what they are doing... metrics ALWAYS
should be carefuly chosen, even if they have been validated (that is why I
have intentions of writing a good documentation). That being said, I am not
quite sure (just because of my own ignorance) if Evalglare and DGP, for
example, are ready for design use. I mean, *Will it produce useful
information in all or most or enough design cases, provided that all the
parameters are set correctly? Or is it limited to certain positions and
room configurations? How about the other metrics?* I personally usually
design using illuminance-based metrics and am not quite sure when would I
use luminance-based ones.

I am very new at glare, but I have heard people I respect say that we still
do not know much about it, thus my question. Is it worth including such
features in Groundhog? I want to keep this tool at the state-of-the-art,
but only if state-of-the-art methods are ready for use.

Kind regards,

Germ?n



2016-12-02 11:10 GMT-03:00 Christopher Rush <Christopher.Rush at arup.com>:

> I?m not well-versed enough to give an opinion on which are ready for use
> in any particular application, but I would give *my* opinion on your
> closing thoughts. If the calculation method for the metric isn?t changing,
> but maybe there?s ongoing research into appropriate values and
> applications, maybe the metric is useful enough to help ?guide the design
> in the right direction.? However there may be some metrics that have gone
> out of favor or been invalidated by current research that could be excluded
> ? to avoid a curious user applying something they shouldn?t. But sometimes
> even the outdated metrics may still be referenced in some governing design
> standard and a user may need it for a particular project.
>
>
>
> As with any other metric, the designer has to know the correct application
> and the appropriate target values, or which magnitude of difference between
> two designs might be considered negligible. Something as simple as
> illuminance isn?t changing in principle, but the design standards and
> recommended values are still changing and being clarified or fine-tuned.
> And a designer has to know the appropriate application where daylight
> factor, or daylight autonomy is an appropriate metric. So if a particular
> metric is in question and has ongoing research into application limits,
> tolerance thresholds, etc., a designer may not have full confidence to say
> a value of X.X in a particular metric is ?good enough,? but if they have
> two design options they can hopefully make a reasonable judgment on which
> is better (as long as the metric hasn?t been invalidated!).
>
>
>
> -Chris
>
>
>
>
>
>
>
> *From:* Germ?n Molina Larrain [mailto:germolinal at gmail.com]
> *Sent:* Friday, December 02, 2016 7:27 AM
> *To:* Radiance general discussion
> *Subject:* [Radiance-general] Glare and visual confort indices -- Are
> they ready?
>
>
>
> Dear List,
>
> Even if this is not a question regarding the use of Radiance, it certainly
> is something related to this list or at least the expertise of its
> participants. I want to start a discussion.
>
> As a small group of you may know, I am the developer of a Radiance-based
> lighting tool. This tool has the purpose of taking the state-of-the-art
> daylighting calculation methods and practices to industry. However, since
> industry sometimes just jump over a software, I am always worried about
> methods and tool being used incorrectly.
>
> In this last regard, I have been wondering for a while whether I should
> add glare calculation capabilities or not. My impression is that they are
> incredibly easy to misuse. For example, at the NREL's 12th Radiance
> Workshop, Jan Wienold and Kevin Van Den Wymelenberg made Glare-oriented
> presentations that did not really agree much.
>
> So, my question is: are glare indices, such as UGR, DGP, etc. etc. ready
> for use? Maybe only the Electric Lighting ones are ready? How about the
> Daylighting ones? I do not want to offer something that looks like a magic
> black-box, but which leads to incorrect results. I also know that having
> something is better than nothing, but that only works as long as that
> "something" helps guiding the design in the right direction.
>
> Thanks very much in advance.
>
> Germ?n
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161205/bd07655b/attachment.html>

From Robert.Guglielmetti at nrel.gov  Thu Dec  8 09:45:10 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 8 Dec 2016 17:45:10 +0000
Subject: [Radiance-general] X11 support on OSX 10.11?! (?!(?!))
Message-ID: <D46EEA3F.94A0%robert.guglielmetti@nrel.gov>

Hey there, Radiance people. I'm setting up my work computer again, having just re-imaged it to MacOSX 10.11 (yes, 10.12 is (has been) around; don't ask). Built Radiance from source, all is well. Rvu works fine with the Qt driver. Realized I hadn't installed x11 yet. Installed x11 (xquartz), but my installation is now defaulting to the Qt driver for rvu output. Problem is, even forcing it to use x11 is failing with the dreaded "rvu: fatal - cannot start device "x11"" error. Look:

$ rvu frozen_octree.oct
(this works, loading the Qt-based rvu)

$ rvu -o qt frozen_octree.oct
(this works, as above)

But...

$ rvu -o x11 frozen_octree.oct
rvu: x11: not found
rvu: fatal - cannot start device "x11"

The x11 device is in fact running and mapped to $DISPLAY. Look:

echo $DISPLAY
/private/tmp/com.apple.launchd.2YPu12VOpL/org.macosforge.xquartz:0

So, WTF? Anyone?

- Rob



From stephen at coolshadow.com  Thu Dec  8 09:56:31 2016
From: stephen at coolshadow.com (Stephen Wasilewski)
Date: Thu, 8 Dec 2016 09:56:31 -0800
Subject: [Radiance-general] X11 support on OSX 10.11?! (?!(?!))
In-Reply-To: <D46EEA3F.94A0%robert.guglielmetti@nrel.gov>
References: <D46EEA3F.94A0%robert.guglielmetti@nrel.gov>
Message-ID: <CAK5mS---tcdkrpAPokjGxOOfhCss=_07yp6qCQ=9vr_yO0RDmQ@mail.gmail.com>

This may be too simple to mention, but since I've done this to myself
before...

Is Xquartz running?

Stephen Wasilewski
*LOISOS *+* UBBELOHDE*
- - - - - - - - - - - - - - - - - - - - - - - - - - -
1917 Clement Avenue  Building 10A
Alameda, CA  94501 USA
- - - - - - - - - - - - - - - - - - - - - - - - - - -
510 521 3800 VOICE
510 521 3820 FAX
- - - - - - - - - - - - - - - - - - - - - - - - - - -
www.coolshadow.com

On Thu, Dec 8, 2016 at 9:45 AM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> Hey there, Radiance people. I'm setting up my work computer again, having
> just re-imaged it to MacOSX 10.11 (yes, 10.12 is (has been) around; don't
> ask). Built Radiance from source, all is well. Rvu works fine with the Qt
> driver. Realized I hadn't installed x11 yet. Installed x11 (xquartz), but
> my installation is now defaulting to the Qt driver for rvu output. Problem
> is, even forcing it to use x11 is failing with the dreaded "rvu: fatal -
> cannot start device "x11"" error. Look:
>
> $ rvu frozen_octree.oct
> (this works, loading the Qt-based rvu)
>
> $ rvu -o qt frozen_octree.oct
> (this works, as above)
>
> But...
>
> $ rvu -o x11 frozen_octree.oct
> rvu: x11: not found
> rvu: fatal - cannot start device "x11"
>
> The x11 device is in fact running and mapped to $DISPLAY. Look:
>
> echo $DISPLAY
> /private/tmp/com.apple.launchd.2YPu12VOpL/org.macosforge.xquartz:0
>
> So, WTF? Anyone?
>
> - Rob
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161208/613013f7/attachment.html>

From Robert.Guglielmetti at nrel.gov  Thu Dec  8 10:05:56 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 8 Dec 2016 18:05:56 +0000
Subject: [Radiance-general] X11 support on OSX 10.11?! (?!(?!))
In-Reply-To: <CAK5mS---tcdkrpAPokjGxOOfhCss=_07yp6qCQ=9vr_yO0RDmQ@mail.gmail.com>
References: <D46EEA3F.94A0%robert.guglielmetti@nrel.gov>
 <CAK5mS---tcdkrpAPokjGxOOfhCss=_07yp6qCQ=9vr_yO0RDmQ@mail.gmail.com>
Message-ID: <D46EEDFB.94A5%robert.guglielmetti@nrel.gov>

It is. It's running, and is mapped to DISPLAY, as I mentioned below. What I've noticed is that CMake's x11 variables are all empty, probably because I initially configured/built Radiance before I'd installed X11 on this system here. So I'm ASSuming my rvu here was compiled without x11 driver support. Stay tuned...


From: Stephen Wasilewski <stephen at coolshadow.com<mailto:stephen at coolshadow.com>>
Reply-To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
Date: Thursday, December 8, 2016 at 10:56 AM
To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
Subject: Re: [Radiance-general] X11 support on OSX 10.11?! (?!(?!))

This may be too simple to mention, but since I've done this to myself before...

Is Xquartz running?

Stephen Wasilewski
LOISOS + UBBELOHDE
- - - - - - - - - - - - - - - - - - - - - - - - - - -
1917 Clement Avenue  Building 10A
Alameda, CA  94501 USA
- - - - - - - - - - - - - - - - - - - - - - - - - - -
510 521 3800 VOICE
510 521 3820 FAX
- - - - - - - - - - - - - - - - - - - - - - - - - - -
www.coolshadow.com<http://www.coolshadow.com/>

On Thu, Dec 8, 2016 at 9:45 AM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:
Hey there, Radiance people. I'm setting up my work computer again, having just re-imaged it to MacOSX 10.11 (yes, 10.12 is (has been) around; don't ask). Built Radiance from source, all is well. Rvu works fine with the Qt driver. Realized I hadn't installed x11 yet. Installed x11 (xquartz), but my installation is now defaulting to the Qt driver for rvu output. Problem is, even forcing it to use x11 is failing with the dreaded "rvu: fatal - cannot start device "x11"" error. Look:

$ rvu frozen_octree.oct
(this works, loading the Qt-based rvu)

$ rvu -o qt frozen_octree.oct
(this works, as above)

But...

$ rvu -o x11 frozen_octree.oct
rvu: x11: not found
rvu: fatal - cannot start device "x11"

The x11 device is in fact running and mapped to $DISPLAY. Look:

echo $DISPLAY
/private/tmp/com.apple.launchd.2YPu12VOpL/org.macosforge.xquartz:0

So, WTF? Anyone?

- Rob


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Thu Dec  8 10:18:06 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 8 Dec 2016 10:18:06 -0800
Subject: [Radiance-general] X11 support on OSX 10.11?! (?!(?!))
In-Reply-To: <D46EEDFB.94A5%robert.guglielmetti@nrel.gov>
References: <D46EEA3F.94A0%robert.guglielmetti@nrel.gov>
 <CAK5mS---tcdkrpAPokjGxOOfhCss=_07yp6qCQ=9vr_yO0RDmQ@mail.gmail.com>
 <D46EEDFB.94A5%robert.guglielmetti@nrel.gov>
Message-ID: <7C805632-61BD-44B3-BD10-BC5DA88E2CA4@lmi.net>

Hi Rob,

Looks like an issue with the way #define's are handled in devtable.c:

#if !defined(HAS_X11) && !defined(HAS_QT) && !defined(WIN_RVIEW)
/* weird logic ... */
#define HAS_X11
#endif

If you compile with -DHAS_QT, then you need to add -DHAS_X11 if you want that driver to compile as well.  I'm not sure why it was set up this way, as I wasn't really involved with the changes supporting QT.

Cheers,
-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Date: December 8, 2016 10:05:56 AM PST
> 
> It is. It's running, and is mapped to DISPLAY, as I mentioned below. What I've noticed is that CMake's x11 variables are all empty, probably because I initially configured/built Radiance before I'd installed X11 on this system here. So I'm ASSuming my rvu here was compiled without x11 driver support. Stay tuned...
> 
> 
> From: Stephen Wasilewski <stephen at coolshadow.com<mailto:stephen at coolshadow.com>>
> Reply-To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
> Date: Thursday, December 8, 2016 at 10:56 AM
> To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
> Subject: Re: [Radiance-general] X11 support on OSX 10.11?! (?!(?!))
> 
> This may be too simple to mention, but since I've done this to myself before...
> 
> Is Xquartz running?
> 
> Stephen Wasilewski
> LOISOS + UBBELOHDE
> - - - - - - - - - - - - - - - - - - - - - - - - - - -
> 1917 Clement Avenue  Building 10A
> Alameda, CA  94501 USA
> - - - - - - - - - - - - - - - - - - - - - - - - - - -
> 510 521 3800 VOICE
> 510 521 3820 FAX
> - - - - - - - - - - - - - - - - - - - - - - - - - - -
> www.coolshadow.com<http://www.coolshadow.com/>
> 
> On Thu, Dec 8, 2016 at 9:45 AM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>> wrote:
> Hey there, Radiance people. I'm setting up my work computer again, having just re-imaged it to MacOSX 10.11 (yes, 10.12 is (has been) around; don't ask). Built Radiance from source, all is well. Rvu works fine with the Qt driver. Realized I hadn't installed x11 yet. Installed x11 (xquartz), but my installation is now defaulting to the Qt driver for rvu output. Problem is, even forcing it to use x11 is failing with the dreaded "rvu: fatal - cannot start device "x11"" error. Look:
> 
> $ rvu frozen_octree.oct
> (this works, loading the Qt-based rvu)
> 
> $ rvu -o qt frozen_octree.oct
> (this works, as above)
> 
> But...
> 
> $ rvu -o x11 frozen_octree.oct
> rvu: x11: not found
> rvu: fatal - cannot start device "x11"
> 
> The x11 device is in fact running and mapped to $DISPLAY. Look:
> 
> echo $DISPLAY
> /private/tmp/com.apple.launchd.2YPu12VOpL/org.macosforge.xquartz:0
> 
> So, WTF? Anyone?
> 
> - Rob


From Robert.Guglielmetti at nrel.gov  Thu Dec  8 14:31:57 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 8 Dec 2016 22:31:57 +0000
Subject: [Radiance-general] X11 support on OSX 10.11?! (?!(?!))
In-Reply-To: <7C805632-61BD-44B3-BD10-BC5DA88E2CA4@lmi.net>
References: <D46EEA3F.94A0%robert.guglielmetti@nrel.gov>
 <CAK5mS---tcdkrpAPokjGxOOfhCss=_07yp6qCQ=9vr_yO0RDmQ@mail.gmail.com>
 <D46EEDFB.94A5%robert.guglielmetti@nrel.gov>
 <7C805632-61BD-44B3-BD10-BC5DA88E2CA4@lmi.net>
Message-ID: <D46F2B8C.94C4%robert.guglielmetti@nrel.gov>

Yep, thanks Greg! I just got back to this crap. I just rebuilt clean, now
that Qt AND x11 are on here, and it worked. Yes the def logic should be
re-written, and sorry that got jacked up like that, but that will affect
very few people so I?m going to not worry about it for now.

Also I think I should have my head examined because I went through all
this because I actually *prefer* the x11 interface of rvu to the more
GUI-ish Qt one. Maybe that makes me some sort of hardcore Radiance dude.
More likely, just old. Dunno. =)

- Rob

On 12/8/16, 11:18 AM, "Greg Ward" <gregoryjward at gmail.com> wrote:

>Hi Rob,
>
>Looks like an issue with the way #define's are handled in devtable.c:
>
>#if !defined(HAS_X11) && !defined(HAS_QT) && !defined(WIN_RVIEW)
>/* weird logic ... */
>#define HAS_X11
>#endif
>
>If you compile with -DHAS_QT, then you need to add -DHAS_X11 if you want
>that driver to compile as well.  I'm not sure why it was set up this way,
>as I wasn't really involved with the changes supporting QT.
>
>Cheers,
>-Greg
>
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> Date: December 8, 2016 10:05:56 AM PST
>> 
>> It is. It's running, and is mapped to DISPLAY, as I mentioned below.
>>What I've noticed is that CMake's x11 variables are all empty, probably
>>because I initially configured/built Radiance before I'd installed X11
>>on this system here. So I'm ASSuming my rvu here was compiled without
>>x11 driver support. Stay tuned...
>> 
>> 
>> From: Stephen Wasilewski
>><stephen at coolshadow.com<mailto:stephen at coolshadow.com>>
>> Reply-To: Radiance discussion
>><radiance-general at radiance-online.org<mailto:radiance-general at radiance-on
>>line.org>>
>> Date: Thursday, December 8, 2016 at 10:56 AM
>> To: Radiance discussion
>><radiance-general at radiance-online.org<mailto:radiance-general at radiance-on
>>line.org>>
>> Subject: Re: [Radiance-general] X11 support on OSX 10.11?! (?!(?!))
>> 
>> This may be too simple to mention, but since I've done this to myself
>>before...
>> 
>> Is Xquartz running?
>> 
>> Stephen Wasilewski
>> LOISOS + UBBELOHDE
>> - - - - - - - - - - - - - - - - - - - - - - - - - - -
>> 1917 Clement Avenue  Building 10A
>> Alameda, CA  94501 USA
>> - - - - - - - - - - - - - - - - - - - - - - - - - - -
>> 510 521 3800 VOICE
>> 510 521 3820 FAX
>> - - - - - - - - - - - - - - - - - - - - - - - - - - -
>> www.coolshadow.com<http://www.coolshadow.com/>
>> 
>> On Thu, Dec 8, 2016 at 9:45 AM, Guglielmetti, Robert
>><Robert.Guglielmetti at nrel.gov<mailto:Robert.Guglielmetti at nrel.gov>>
>>wrote:
>> Hey there, Radiance people. I'm setting up my work computer again,
>>having just re-imaged it to MacOSX 10.11 (yes, 10.12 is (has been)
>>around; don't ask). Built Radiance from source, all is well. Rvu works
>>fine with the Qt driver. Realized I hadn't installed x11 yet. Installed
>>x11 (xquartz), but my installation is now defaulting to the Qt driver
>>for rvu output. Problem is, even forcing it to use x11 is failing with
>>the dreaded "rvu: fatal - cannot start device "x11"" error. Look:
>> 
>> $ rvu frozen_octree.oct
>> (this works, loading the Qt-based rvu)
>> 
>> $ rvu -o qt frozen_octree.oct
>> (this works, as above)
>> 
>> But...
>> 
>> $ rvu -o x11 frozen_octree.oct
>> rvu: x11: not found
>> rvu: fatal - cannot start device "x11"
>> 
>> The x11 device is in fact running and mapped to $DISPLAY. Look:
>> 
>> echo $DISPLAY
>> /private/tmp/com.apple.launchd.2YPu12VOpL/org.macosforge.xquartz:0
>> 
>> So, WTF? Anyone?
>> 
>> - Rob
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From p.khademagha at gmail.com  Fri Dec  9 07:59:01 2016
From: p.khademagha at gmail.com (parisa khademagha)
Date: Fri, 9 Dec 2016 16:59:01 +0100
Subject: [Radiance-general] Excluding zeroed values from averaged luminance
Message-ID: <CAPysv6CGYc9tH3viPdVGvoguGdj6uGYP9kEaRpPZ3o20KwRmBQ@mail.gmail.com>

Hi Everyone,


I have a masked HDR picture generated by combining the original HDR with a
mask one. I want to calculate average luminance value of the masked HDR
picture without taking zeroed values into account. I am using ?pvalue ?o ?d
?h ?b ?H masked.hdr | rcalc ?e if?cond=$1-5;$1=$1?| total ?m?. But the ?if
condition? is not working. Your help is very much appreciated.


Cheers,

Parisa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161209/e3f24a71/attachment.html>

From gregoryjward at gmail.com  Fri Dec  9 08:27:46 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 9 Dec 2016 08:27:46 -0800
Subject: [Radiance-general] Excluding zeroed values from averaged
 luminance
In-Reply-To: <CAPysv6CGYc9tH3viPdVGvoguGdj6uGYP9kEaRpPZ3o20KwRmBQ@mail.gmail.com>
References: <CAPysv6CGYc9tH3viPdVGvoguGdj6uGYP9kEaRpPZ3o20KwRmBQ@mail.gmail.com>
Message-ID: <43321915-46A6-4B7B-A18A-14E8F84169C7@lmi.net>

Hi Parisa,

Your command should be:

	pvalue ?o ?d ?h ?b ?H masked.hdr | rcalc ?e ?cond=$1-5;$1=$1? | total ?m

You had an extra 'if' in there, which was concatenated with the "cond" variable to turn it into "ifcond", which rcalc ignored.  The variable needs to be "cond" for it to work.  This will include all values greater than 5.0 in the average.  You may wish to adjust this value downwards if you don't want to miss small details.

Best,
-Greg

> From: parisa khademagha <p.khademagha at gmail.com>
> Date: December 9, 2016 7:59:01 AM PST
> 
> Hi Everyone, 
> 
> 
> 
> I have a masked HDR picture generated by combining the original HDR with a mask one. I want to calculate average luminance value of the masked HDR picture without taking zeroed values into account. I am using ?pvalue ?o ?d ?h ?b ?H masked.hdr | rcalc ?e if?cond=$1-5;$1=$1?| total ?m?. But the ?if condition? is not working. Your help is very much appreciated. 
> 
> 
> 
> Cheers,
> 
> Parisa
> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161209/962989f2/attachment.html>

From jan.wienold at epfl.ch  Fri Dec  9 11:39:39 2016
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Fri, 09 Dec 2016 20:39:39 +0100
Subject: [Radiance-general] Excluding zeroed values from averaged
 luminance
In-Reply-To: <43321915-46A6-4B7B-A18A-14E8F84169C7@lmi.net>
References: <CAPysv6CGYc9tH3viPdVGvoguGdj6uGYP9kEaRpPZ3o20KwRmBQ@mail.gmail.com>
 <43321915-46A6-4B7B-A18A-14E8F84169C7@lmi.net>
Message-ID: <22CED745-336F-4ADE-B028-0D5D3EBF0CBC@epfl.ch>

Hi Parisa,
I was just about to answer but Greg was faster... (and his command is also more elegant than the one I would have suggested...)

One short comment to the method: if you compare this value with the output of evalglare in masking mode, then you might get a different value. The reason for this is that with your command you calculate the average luminance of the masked pixels and not the average luminance of the masking area... evalglare weights the luminance by the solid angle of each pixel to get the average in an area. Depending on your projection method you get therefore  then different results. I can remember there were also some posts before how to weight by solid angle using radiance commands.
best
Jan


On 9 December 2016 17:27:46 CET, Greg Ward <gregoryjward at gmail.com> wrote:
>Hi Parisa,
>
>Your command should be:
>
>	pvalue ?o ?d ?h ?b ?H masked.hdr | rcalc ?e ?cond=$1-5;$1=$1? | total
>?m
>
>You had an extra 'if' in there, which was concatenated with the "cond"
>variable to turn it into "ifcond", which rcalc ignored.  The variable
>needs to be "cond" for it to work.  This will include all values
>greater than 5.0 in the average.  You may wish to adjust this value
>downwards if you don't want to miss small details.
>
>Best,
>-Greg
>
>> From: parisa khademagha <p.khademagha at gmail.com>
>> Date: December 9, 2016 7:59:01 AM PST
>> 
>> Hi Everyone, 
>> 
>> 
>> 
>> I have a masked HDR picture generated by combining the original HDR
>with a mask one. I want to calculate average luminance value of the
>masked HDR picture without taking zeroed values into account. I am
>using ?pvalue ?o ?d ?h ?b ?H masked.hdr | rcalc ?e if?cond=$1-5;$1=$1?|
>total ?m?. But the ?if condition? is not working. Your help is very
>much appreciated. 
>> 
>> 
>> 
>> Cheers,
>> 
>> Parisa
>> 
>> 
>
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail gesendet.
-- 
Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail gesendet.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161209/8ca62b01/attachment.html>

From p.khademagha at gmail.com  Fri Dec  9 14:42:00 2016
From: p.khademagha at gmail.com (parisa khademagha)
Date: Fri, 9 Dec 2016 23:42:00 +0100
Subject: [Radiance-general] Excluding zeroed values from averaged
 luminance
In-Reply-To: <43321915-46A6-4B7B-A18A-14E8F84169C7@lmi.net>
References: <CAPysv6CGYc9tH3viPdVGvoguGdj6uGYP9kEaRpPZ3o20KwRmBQ@mail.gmail.com>
 <43321915-46A6-4B7B-A18A-14E8F84169C7@lmi.net>
Message-ID: <68567945-E6AF-4CD3-BA64-CFB6A8BEB312@gmail.com>

Hi Greg,

Thank you so much! I have tried 100 other possibilities but all with if & cond together!!!

Cheers,
Parisa

> On Dec 9, 2016, at 5:27 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> 
> Hi Parisa,
> 
> Your command should be:
> 
> 	pvalue ?o ?d ?h ?b ?H masked.hdr | rcalc ?e ?cond=$1-5;$1=$1? | total ?m
> 
> You had an extra 'if' in there, which was concatenated with the "cond" variable to turn it into "ifcond", which rcalc ignored.  The variable needs to be "cond" for it to work.  This will include all values greater than 5.0 in the average.  You may wish to adjust this value downwards if you don't want to miss small details.
> 
> Best,
> -Greg
> 
>> From: parisa khademagha <p.khademagha at gmail.com <mailto:p.khademagha at gmail.com>>
>> Date: December 9, 2016 7:59:01 AM PST
>> 
>> Hi Everyone, 
>> 
>> 
>> 
>> I have a masked HDR picture generated by combining the original HDR with a mask one. I want to calculate average luminance value of the masked HDR picture without taking zeroed values into account. I am using ?pvalue ?o ?d ?h ?b ?H masked.hdr | rcalc ?e if?cond=$1-5;$1=$1?| total ?m?. But the ?if condition? is not working. Your help is very much appreciated. 
>> 
>> 
>> 
>> Cheers,
>> 
>> Parisa
>> 
>> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161209/5df44b53/attachment.html>

From p.khademagha at gmail.com  Fri Dec  9 14:48:01 2016
From: p.khademagha at gmail.com (parisa khademagha)
Date: Fri, 9 Dec 2016 23:48:01 +0100
Subject: [Radiance-general] Excluding zeroed values from averaged
 luminance
In-Reply-To: <22CED745-336F-4ADE-B028-0D5D3EBF0CBC@epfl.ch>
References: <CAPysv6CGYc9tH3viPdVGvoguGdj6uGYP9kEaRpPZ3o20KwRmBQ@mail.gmail.com>
 <43321915-46A6-4B7B-A18A-14E8F84169C7@lmi.net>
 <22CED745-336F-4ADE-B028-0D5D3EBF0CBC@epfl.ch>
Message-ID: <AA9DD7E9-462B-4EF1-A070-163669EBC144@gmail.com>

Hi Jan,

Thanks for the reply! I realized that evalglare for averaging luminance takes the solid angle of each pixel into account, that is why I looked for a basic way of using masks and calculating average luminance for now and I will get back to the evalglare later. The new features are very interesting! 

Cheers,
Parisa



> On Dec 9, 2016, at 8:39 PM, Jan Wienold <jan.wienold at epfl.ch> wrote:
> 
> Hi Parisa,
> I was just about to answer but Greg was faster... (and his command is also more elegant than the one I would have suggested...)
> 
> One short comment to the method: if you compare this value with the output of evalglare in masking mode, then you might get a different value. The reason for this is that with your command you calculate the average luminance of the masked pixels and not the average luminance of the masking area... evalglare weights the luminance by the solid angle of each pixel to get the average in an area. Depending on your projection method you get therefore then different results. I can remember there were also some posts before how to weight by solid angle using radiance commands.
> best
> Jan
> 
> 
> On 9 December 2016 17:27:46 CET, Greg Ward <gregoryjward at gmail.com> wrote:
> >Hi Parisa,
> >
> >Your command should be:
> >
> >	pvalue ?o ?d ?h ?b ?H masked.hdr | rcalc ?e ?cond=$1-5;$1=$1? | total
> >?m
> >
> >You had an extra 'if' in there, which was concatenated with the "cond"
> >variable to turn it into "ifcond", which rcalc ignored. The variable
> >needs to be "cond" for it to work. This will include all values
> >greater than 5.0 in the average. You may wish to adjust this value
> >downwards if you don't want to miss small details.
> >
> >Best,
> >-Greg
> >
> >> From: parisa khademagha <p.khademagha at gmail.com>
> >> Date: December 9, 2016 7:59:01 AM PST
> >> 
> >> Hi Everyone, 
> >> 
> >> 
> >> 
> >> I have a masked HDR picture generated by combining the original HDR
> >with a mask one. I want to calculate average luminance value of the
> >masked HDR picture without taking zeroed values into account. I am
> >using ?pvalue ?o ?d ?h ?b ?H masked.hdr | rcalc ?e if?cond=$1-5;$1=$1?|
> >total ?m?. But the ?if condition? is not working. Your help is very
> >much appreciated. 
> >> 
> >> 
> >> 
> >> Cheers,
> >> 
> >> Parisa
> >> 
> >> 
> >
> >
> >------------------------------------------------------------------------
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >http://www.radiance-online.org/mailman/listinfo/radiance-general <http://www.radiance-online.org/mailman/listinfo/radiance-general>
> 
> -- 
> Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail gesendet.
> -- 
> Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail gesendet._______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161209/df396b73/attachment-0001.html>

From t.mcminn at ocpms.com.au  Wed Dec 21 22:29:04 2016
From: t.mcminn at ocpms.com.au (Terrance McMinn)
Date: Thu, 22 Dec 2016 14:29:04 +0800
Subject: [Radiance-general] Average illuminance of polygon in scene
Message-ID: <643c6a25-fd7e-d2fe-4aea-0609077b34bb@ocpms.com.au>

I have a need to be able to calculate the average illuminance of 
specific polygons in a scene via a script.

Does any one have suggestions as to how to go about this process? The 
procedure will end up inside a larger script which will be used to list 
the average illuminance of specified polygons in the scene.

-- 
Regards
*Terrance McMinn*

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161222/6e17f37c/attachment.html>

From geotrupes at me.com  Thu Dec 22 00:33:37 2016
From: geotrupes at me.com (Giulio Antonutto)
Date: Thu, 22 Dec 2016 08:33:37 +0000
Subject: [Radiance-general] Average illuminance of polygon in scene
In-Reply-To: <643c6a25-fd7e-d2fe-4aea-0609077b34bb@ocpms.com.au>
References: <643c6a25-fd7e-d2fe-4aea-0609077b34bb@ocpms.com.au>
Message-ID: <A07E24E5-17CB-4B59-B715-0A9BEC409398@me.com>

Is this to calculate the average exitance of the scene?

you can read the polygon geometry and average the coordinates, then use the normal to offset a point.
some math required but not impossible.
Alternatively with UV maps and the script I have donated in the London Radiance workshop
G.


> On 22 Dec 2016, at 06:29, Terrance McMinn <t.mcminn at ocpms.com.au> wrote:
> 
> I have a need to be able to calculate the average illuminance of specific polygons in a scene via a script.
> 
> Does any one have suggestions as to how to go about this process? The procedure will end up inside a larger script which will be used to list the average illuminance of specified polygons in the scene.
> 
> -- 
> Regards
> Terrance McMinn
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161222/76e2aab4/attachment.html>

From gregoryjward at gmail.com  Thu Dec 22 09:54:30 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 22 Dec 2016 09:54:30 -0800
Subject: [Radiance-general] Average illuminance of polygon in scene
In-Reply-To: <A07E24E5-17CB-4B59-B715-0A9BEC409398@me.com>
References: <643c6a25-fd7e-d2fe-4aea-0609077b34bb@ocpms.com.au>
 <A07E24E5-17CB-4B59-B715-0A9BEC409398@me.com>
Message-ID: <B5523831-48A1-44D3-AB92-FE3E7617A5BC@lmi.net>

It may also be possible to use rfluxmtx for this task, since it has code for sampling polygons built in.  The basic steps are:

1) Separate your light sources, including electric lights, sun, sky, etc. and combine them in a single file.  (You can use !xform calls and that sort of thing.)

2) Create a separate file for each polygon you want to measure, and put the following line at the top of each:

	#@rfluxmtx h=u

3) Put your scene geometry except for light sources in a single octree:

	oconv -f all scene except sources > scene.oct

4) Run rfluxmtx on each "sender" polygon and sum the output:

	rfluxmtx -V+ [rendering options] poly1.rad sources.rad -i scene.oct | total | rcalc -e '$1=PI*179*(.265*$1+.670*$2+.065*$3)'

Using the -V+ option, this should sum together the irradiance contributions from your light sources for that particular polygon and give you an RGB triplet as the result, which is multiplied by PI and converted to illuminance in the final rcalc command. I haven't tried it, but I believe it should work.  If you want to know the individual source contributions to illuminance for a given polygon, just remove "total" from the command chain.

The final command needs to be repeated for each surface, unfortunately, so it's not the most efficient method in the world.  There's no irradiance cache with rfluxmtx.

Cheers,
-Greg

> From: Giulio Antonutto <geotrupes at me.com>
> Date: December 22, 2016 12:33:37 AM PST
> 
> Is this to calculate the average exitance of the scene?
> 
> you can read the polygon geometry and average the coordinates, then use the normal to offset a point.
> some math required but not impossible.
> Alternatively with UV maps and the script I have donated in the London Radiance workshop
> G.
> 
> 
>> On 22 Dec 2016, at 06:29, Terrance McMinn <t.mcminn at ocpms.com.au> wrote:
>> 
>> I have a need to be able to calculate the average illuminance of specific polygons in a scene via a script.
>> 
>> Does any one have suggestions as to how to go about this process? The procedure will end up inside a larger script which will be used to list the average illuminance of specified polygons in the scene.
>> 
>> -- 
>> Regards
>> Terrance McMinn
>> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20161222/8a79ac91/attachment.html>

