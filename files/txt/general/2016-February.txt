From r.weitlaner at gmail.com  Mon Feb  1 10:24:48 2016
From: r.weitlaner at gmail.com (Robert Weitlaner)
Date: Mon, 1 Feb 2016 19:24:48 +0100
Subject: [Radiance-general] Installation BSDFviewer Ubuntu14.04 64bit
Message-ID: <CAFNnwksX9BGCxv=L7sVqanWrKFTCkGdi9qw-gQv7_k-8imUypQ@mail.gmail.com>

Dear experts, (particularly Andy),
------------------

First of all: I do not have any experience using all that java stuff.
Honestly I do hope, that you won't tell me to get used to it ;)
And I hope you can reproduce my problems to a certain extend.

Thank you for any hint, or a description of the installation procedure.

------- Problem statement -----
 I'm running into dozens of error messages using the install.sh bash in the
BSDFViewer Download from
http://www.radiance-online.org/download-install/bsdf-viewer/BSDFViewer1.3_ubuntu_64.tar
.
See these messages at the end of that email.

Anyway, the BSDFViewer starts up. But it doesn't work properly (I can click
on the incoming patch which gets yellow, but there is no output displayed -
in terminal following error message is displayed as soon as I load any xml.
Exception in thread "AWT-EventQueue-0" java.lang.UnsatisfiedLinkError:
Can't load library: /usr/local/lib/BSDFViewer/libBSDF.jnilib
or if any reload of another testBSDF is started:
Exception in thread "AWT-EventQueue-0" java.lang.NoClassDefFoundError:
Could not initialize class libBSDF

I'm well aware of the *mailing list* discussion on that topic. Back then,
Andy's question to Serge about his JAVA installation did not yield to any
conclusion as Serge's problem disappeared:
http://radiance-online.org/pipermail/radiance-general/2015-February/010783.html
.

------ Platform description ------------
platform: ubuntu 14.04 64bit  on VMware(R)Player 7.0.0; Windows 7 host
Java -version gives:
java version "1.7.0_91"
OpenJDK Runtime Environment (IcedTea 2.6.3) (7u91-2.6.3-0ubuntu0.14.04.1)
OpenJDK 64-Bit Server VM (build 24.91-b01, mixed mode)
------------------------------------
------------------------------------

Please apologize for my poor debugging capabilities:

1. line 14 in Rmakefile defines LIBDIR = /usr/local/lib/ray . That's not
the place my radiane libs are located /usr/local/radiance/lib or whatever
is the users choice.

2. line 28 in install.sh asks for libBSDF.so, which is no located in that
place. instead: ./lib/libBSDF.so

3. the libBSDF.jnilib is not existing at all - so there is something
broken.

4. An error message about something called: ELFClass32 I tried to solve by
apt-getting different java platforms - as different forums told me.

THANK You,
br Robert

------------------------------------------------------------------------
------------------ERRORS after sudo install.sh--------------
------------------------------------------------------------------------
vm:/usr/local/radiance/BSDFViewer1.3_ubuntu_64$ sudo bash install.sh
rm -f *.o librtrad.a libmgf.a
cc -DBSD -O   -c -o cone.o cone.c
cc -DBSD -O   -c -o face.o face.c
cc -DBSD -O   -c -o free_os.o free_os.c
cc -DBSD -O   -c -o instance.o instance.c
cc -DBSD -O   -c -o readobj.o readobj.c
readobj.c: In function ?readobj?:
readobj.c:53:9: warning: ignoring return value of ?fgets?, declared with
attribute warn_unused_result [-Wunused-result]
    fgets(buf, sizeof(buf), infp);
         ^
cc -DBSD -O   -c -o readoct.o readoct.c
cc -DBSD -O   -c -o otypes.o otypes.c
cc -DBSD -O   -c -o objset.o objset.c
cc -DBSD -O   -c -o octree.o octree.c
cc -DBSD -O   -c -o readfargs.o readfargs.c
cc -DBSD -O   -c -o modobject.o modobject.c
cc -DBSD -O -DDEFPATH=\":/usr/local/lib/ray\" -c getlibpath.c
cc -DBSD -O   -c -o addobjnotify.o addobjnotify.c
cc -DBSD -O   -c -o zeroes.o zeroes.c
cc -DBSD -O   -c -o mesh.o mesh.c
cc -DBSD -O   -c -o readmesh.o readmesh.c
cc -DBSD -O   -c -o tmesh.o tmesh.c
cc -DBSD -O   -c -o sceneio.o sceneio.c
cc -DBSD -O   -c -o color.o color.c
cc -DBSD -O   -c -o header.o header.c
cc -DBSD -O   -c -o image.o image.c
cc -DBSD -O   -c -o lamps.o lamps.c
cc -DBSD -O   -c -o resolu.o resolu.c
cc -DBSD -O   -c -o rexpr.o rexpr.c
cc -DBSD -O   -c -o spec_rgb.o spec_rgb.c
cc -DBSD -O   -c -o colrops.o colrops.c
cc -DBSD -O   -c -o font.o font.c
cc -DBSD -O   -c -o tonemap.o tonemap.c
In file included from tonemap.c:17:0:
tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
[enabled by default]
 extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
 ^
tonemap.c:654:1: warning: variably modified ?tmMesofact? at file scope
[enabled by default]
 uby8 tmMesofact[BMESUPPER-BMESLOWER];
 ^
cc -DBSD -O -DPCOND=\"pcond\" -c tmapcolrs.c
In file included from tmapcolrs.c:21:0:
tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
[enabled by default]
 extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
 ^
cc -DBSD -O   -c -o tmapluv.o tmapluv.c
In file included from tmapluv.c:19:0:
tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
[enabled by default]
 extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
 ^
cc -DBSD -O   -c -o tmaptiff.o tmaptiff.c
In file included from tmaptiff.c:15:0:
tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
[enabled by default]
 extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
 ^
cc -DBSD -O   -c -o tmap16bit.o tmap16bit.c
In file included from tmap16bit.c:14:0:
tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
[enabled by default]
 extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
 ^
cc -DBSD -O   -c -o bmpfile.o bmpfile.c
cc -DBSD -O   -c -o falsecolor.o falsecolor.c
In file included from falsecolor.c:16:0:
tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
[enabled by default]
 extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
 ^
cc -DBSD -O   -c -o ezxml.o ezxml.c
cc -DBSD -O   -c -o ccolor.o ccolor.c
cc -DBSD -O   -c -o ccyrgb.o ccyrgb.c
cc -DBSD -O   -c -o bsdf.o bsdf.c
bsdf.c: In function ?SDloadFile?:
bsdf.c:182:2: warning: null argument where non-null required (argument 1)
[-Wnonnull]
  if (strcmp(ezxml_name(fl), "WindowElement")) {
  ^
bsdf.c:182:2: warning: null argument where non-null required (argument 1)
[-Wnonnull]
bsdf.c:182:2: warning: null argument where non-null required (argument 1)
[-Wnonnull]
bsdf.c:182:2: warning: null argument where non-null required (argument 1)
[-Wnonnull]
bsdf.c:182:2: warning: null argument where non-null required (argument 1)
[-Wnonnull]
bsdf.c:182:2: warning: null argument where non-null required (argument 1)
[-Wnonnull]
cc -DBSD -O   -c -o bsdf_m.o bsdf_m.c
cc -DBSD -O   -c -o bsdf_t.o bsdf_t.c
cc -DBSD -O   -c -o loadbsdf.o loadbsdf.c
cc -DBSD -O   -c -o disk2square.o disk2square.c
cc -DBSD -O   -c -o hilbert.o hilbert.c
cc -DBSD -O   -c -o fgetline.o fgetline.c
cc -DBSD -O   -c -o fropen.o fropen.c
cc -DBSD -O   -c -o linregr.o linregr.c
cc -DBSD -O   -c -o xf.o xf.c
cc -DBSD -O   -c -o mat4.o mat4.c
cc -DBSD -O   -c -o invmat4.o invmat4.c
cc -DBSD -O   -c -o fvect.o fvect.c
cc -DBSD -O   -c -o urand.o urand.c
cc -DBSD -O   -c -o urind.o urind.c
cc -DBSD -O   -c -o calexpr.o calexpr.c
cc -DBSD -O   -c -o caldefn.o caldefn.c
cc -DBSD -O   -c -o calfunc.o calfunc.c
cc -DBSD -O   -c -o calprnt.o calprnt.c
cc -DBSD -O   -c -o biggerlib.o biggerlib.c
cc -DBSD -O   -c -o multisamp.o multisamp.c
cc -DBSD -O   -c -o unix_process.o unix_process.c
cc -DBSD -O   -c -o process.o process.c
cc -DBSD -O   -c -o gethomedir.o gethomedir.c
cc -DBSD -O   -c -o getpath.o getpath.c
cc -DBSD -O   -c -o error.o error.c
cc -DBSD -O   -c -o savestr.o savestr.c
cc -DBSD -O   -c -o savqstr.o savqstr.c
cc -DBSD -O   -c -o badarg.o badarg.c
cc -DBSD -O   -c -o fgetword.o fgetword.c
cc -DBSD -O   -c -o words.o words.c
cc -DBSD -O   -c -o expandarg.o expandarg.c
cc -DBSD -O   -c -o wordfile.o wordfile.c
cc -DBSD -O   -c -o fgetval.o fgetval.c
cc -DBSD -O   -c -o clip.o clip.c
cc -DBSD -O   -c -o plocate.o plocate.c
cc -DBSD -O   -c -o eputs.o eputs.c
cc -DBSD -O   -c -o wputs.o wputs.c
cc -DBSD -O   -c -o quit.o quit.c
cc -DBSD -O   -c -o lookup.o lookup.c
cc -DBSD -O   -c -o bmalloc.o bmalloc.c
cc -DBSD -O   -c -o loadvars.o loadvars.c
cc -DBSD -O   -c -o tcos.o tcos.c
cc -DBSD -O   -c -o fputword.o fputword.c
cc -DBSD -O   -c -o chanvalue.o chanvalue.c
cc -DBSD -O   -c -o dircode.o dircode.c
cc -DBSD -O   -c -o paths.o paths.c
cc -DBSD -O   -c -o byteswap.o byteswap.c
cc -DBSD -O   -c -o ealloc.o ealloc.c
cc -DBSD -O   -c -o fdate.o fdate.c
cc -DBSD -O   -c -o portio.o portio.c
cc -DBSD -O   -c -o myhostname.o myhostname.c
cc -DBSD -O   -c -o erf.o erf.c
cc -DBSD -O   -c -o strcmp.o strcmp.c
strcmp.c: In function ?strcmp?:
strcmp.c:13:17: warning: argument ?s1? doesn?t match built-in prototype
[enabled by default]
 register char  *s1, *s2;
                 ^
strcmp.c:13:22: warning: argument ?s2? doesn?t match built-in prototype
[enabled by default]
 register char  *s1, *s2;
                      ^
rm -f librtrad.a
ar rc librtrad.a cone.o face.o free_os.o instance.o readobj.o readoct.o
otypes.o objset.o octree.o readfargs.o modobject.o getlibpath.o
addobjnotify.o zeroes.o mesh.o readmesh.o tmesh.o sceneio.o color.o
header.o image.o lamps.o resolu.o rexpr.o spec_rgb.o colrops.o font.o
tonemap.o tmapcolrs.o tmapluv.o tmaptiff.o tmap16bit.o bmpfile.o
falsecolor.o ezxml.o ccolor.o ccyrgb.o bsdf.o bsdf_m.o bsdf_t.o loadbsdf.o
disk2square.o hilbert.o fgetline.o fropen.o linregr.o xf.o mat4.o invmat4.o
fvect.o urand.o urind.o calexpr.o caldefn.o calfunc.o calprnt.o biggerlib.o
multisamp.o unix_process.o process.o gethomedir.o getpath.o error.o
savestr.o savqstr.o badarg.o fgetword.o words.o expandarg.o wordfile.o
fgetval.o clip.o plocate.o eputs.o wputs.o quit.o lookup.o bmalloc.o
loadvars.o tcos.o fputword.o chanvalue.o dircode.o paths.o byteswap.o
ealloc.o fdate.o portio.o myhostname.o erf.o strcmp.o
ranlib librtrad.a
cc -DBSD -O   -c -o mgf_parser.o mgf_parser.c
cc -DBSD -O   -c -o mgf_object.o mgf_object.c
cc -DBSD -O   -c -o mgf_xf.o mgf_xf.c
cc -DBSD -O   -c -o mgf_context.o mgf_context.c
rm -f libmgf.a
ar rc libmgf.a mgf_parser.o mgf_object.o mgf_xf.o mgf_context.o
ranlib libmgf.a
/usr/bin/ld: badarg.o: Die Umlagerung von
badarg.o: error adding symbols: Ung?ltiger Wert -- unvalid data
collect2: error: ld returned 1 exit status
install.sh: Zeile 19: javac: Befehl nicht gefunden --- command not found
install.sh: Zeile 21: javah: Befehl nicht gefunden --- command not found
In file included from libBSDF.cpp:13:0:
libBSDF.h:2:17: fatal error: jni.h: Datei oder Verzeichnis nicht gefunden
-- not found
 #include <jni.h>
                 ^
compilation terminated.
g++: error: libBSDF.o: Datei oder Verzeichnis nicht gefunden -- not found
g++: error: libBSDF.so: Datei oder Verzeichnis nicht gefunden --- not found
g++: fatal error: no input files
compilation terminated.
cp: der Aufruf von stat f?r ?BSDFViewer/libBSDF.so? ist nicht m?glich:
Datei oder Verzeichnis nicht gefunden -- not found
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160201/a6de047b/attachment-0001.html>

From mcneil.andrew at gmail.com  Wed Feb  3 15:04:01 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Wed, 3 Feb 2016 15:04:01 -0800
Subject: [Radiance-general] Installation BSDFviewer Ubuntu14.04 64bit
In-Reply-To: <CAFNnwksX9BGCxv=L7sVqanWrKFTCkGdi9qw-gQv7_k-8imUypQ@mail.gmail.com>
References: <CAFNnwksX9BGCxv=L7sVqanWrKFTCkGdi9qw-gQv7_k-8imUypQ@mail.gmail.com>
Message-ID: <CAEFJVk-7wg=+6LQ1isCMUR0=KxYceb9US1mte2c2zWR1gNp7OQ@mail.gmail.com>

Hi Robert,
Sorry for the delayed response. I think your problem is that you don't have
the java development environment installed, just the runtime environment.
You need javac and javah (part of the development environment) to create
the interface to the radiance library.

try:

sudo apt-get install default-jdk
and starting again from scratch.

As for your debugging notes, thanks. Though some of the confusion comes
from me lazily including the whole radiance library directory and just
using the bits that I need.

1. line 14 in Rmakefile defines LIBDIR = /usr/local/lib/ray . That's not
> the place my radiane libs are located /usr/local/radiance/lib or whatever
> is the users choice.
>
Well LIBDIR isn't actually used (again - me lazy).  install.sh simply uses
rmakefile to compile all the objects for libBSDF.so


> 2. line 28 in install.sh asks for libBSDF.so, which is no located in that
> place. instead: ./lib/libBSDF.so
>
libBSDF is compiled by install.sh in the BSDFViewer directory, this is the
one that it attempts to use. (you'll note that install.sh uses cd to change
to that directory - me lazy)


> 3. the libBSDF.jnilib is not existing at all - so there is something
> broken.
>
This is created by install.sh in the BSDFViewer directory - this fails to
compile because you don't have javac - part of the development environment.


> 4. An error message about something called: ELFClass32 I tried to solve by
> apt-getting different java platforms - as different forums told me.

I think this is because there are compiled versions of everything included
in the zip.  Your system is using these (which were compiled 32-bit)
because they are failing to complie on your system. I should have scrubbed
these out before zipping the directory. This should be fixed when you
install development environment.

Andy



On Mon, Feb 1, 2016 at 10:24 AM, Robert Weitlaner <r.weitlaner at gmail.com>
wrote:

> Dear experts, (particularly Andy),
> ------------------
>
> First of all: I do not have any experience using all that java stuff.
> Honestly I do hope, that you won't tell me to get used to it ;)
> And I hope you can reproduce my problems to a certain extend.
>
> Thank you for any hint, or a description of the installation procedure.
>
> ------- Problem statement -----
>  I'm running into dozens of error messages using the install.sh bash in
> the BSDFViewer Download from
> http://www.radiance-online.org/download-install/bsdf-viewer/BSDFViewer1.3_ubuntu_64.tar
> .
> See these messages at the end of that email.
>
> Anyway, the BSDFViewer starts up. But it doesn't work properly (I can
> click on the incoming patch which gets yellow, but there is no output
> displayed - in terminal following error message is displayed as soon as I
> load any xml.
> Exception in thread "AWT-EventQueue-0" java.lang.UnsatisfiedLinkError:
> Can't load library: /usr/local/lib/BSDFViewer/libBSDF.jnilib
> or if any reload of another testBSDF is started:
> Exception in thread "AWT-EventQueue-0" java.lang.NoClassDefFoundError:
> Could not initialize class libBSDF
>
> I'm well aware of the *mailing list* discussion on that topic. Back then,
> Andy's question to Serge about his JAVA installation did not yield to any
> conclusion as Serge's problem disappeared:
> http://radiance-online.org/pipermail/radiance-general/2015-February/010783.html
> .
>
> ------ Platform description ------------
> platform: ubuntu 14.04 64bit  on VMware(R)Player 7.0.0; Windows 7 host
> Java -version gives:
> java version "1.7.0_91"
> OpenJDK Runtime Environment (IcedTea 2.6.3) (7u91-2.6.3-0ubuntu0.14.04.1)
> OpenJDK 64-Bit Server VM (build 24.91-b01, mixed mode)
> ------------------------------------
> ------------------------------------
>
> Please apologize for my poor debugging capabilities:
>
> 1. line 14 in Rmakefile defines LIBDIR = /usr/local/lib/ray . That's not
> the place my radiane libs are located /usr/local/radiance/lib or whatever
> is the users choice.
>
> 2. line 28 in install.sh asks for libBSDF.so, which is no located in that
> place. instead: ./lib/libBSDF.so
>
> 3. the libBSDF.jnilib is not existing at all - so there is something
> broken.
>
> 4. An error message about something called: ELFClass32 I tried to solve by
> apt-getting different java platforms - as different forums told me.
>
> THANK You,
> br Robert
>
> ------------------------------------------------------------------------
> ------------------ERRORS after sudo install.sh--------------
> ------------------------------------------------------------------------
> vm:/usr/local/radiance/BSDFViewer1.3_ubuntu_64$ sudo bash install.sh
> rm -f *.o librtrad.a libmgf.a
> cc -DBSD -O   -c -o cone.o cone.c
> cc -DBSD -O   -c -o face.o face.c
> cc -DBSD -O   -c -o free_os.o free_os.c
> cc -DBSD -O   -c -o instance.o instance.c
> cc -DBSD -O   -c -o readobj.o readobj.c
> readobj.c: In function ?readobj?:
> readobj.c:53:9: warning: ignoring return value of ?fgets?, declared with
> attribute warn_unused_result [-Wunused-result]
>     fgets(buf, sizeof(buf), infp);
>          ^
> cc -DBSD -O   -c -o readoct.o readoct.c
> cc -DBSD -O   -c -o otypes.o otypes.c
> cc -DBSD -O   -c -o objset.o objset.c
> cc -DBSD -O   -c -o octree.o octree.c
> cc -DBSD -O   -c -o readfargs.o readfargs.c
> cc -DBSD -O   -c -o modobject.o modobject.c
> cc -DBSD -O -DDEFPATH=\":/usr/local/lib/ray\" -c getlibpath.c
> cc -DBSD -O   -c -o addobjnotify.o addobjnotify.c
> cc -DBSD -O   -c -o zeroes.o zeroes.c
> cc -DBSD -O   -c -o mesh.o mesh.c
> cc -DBSD -O   -c -o readmesh.o readmesh.c
> cc -DBSD -O   -c -o tmesh.o tmesh.c
> cc -DBSD -O   -c -o sceneio.o sceneio.c
> cc -DBSD -O   -c -o color.o color.c
> cc -DBSD -O   -c -o header.o header.c
> cc -DBSD -O   -c -o image.o image.c
> cc -DBSD -O   -c -o lamps.o lamps.c
> cc -DBSD -O   -c -o resolu.o resolu.c
> cc -DBSD -O   -c -o rexpr.o rexpr.c
> cc -DBSD -O   -c -o spec_rgb.o spec_rgb.c
> cc -DBSD -O   -c -o colrops.o colrops.c
> cc -DBSD -O   -c -o font.o font.c
> cc -DBSD -O   -c -o tonemap.o tonemap.c
> In file included from tonemap.c:17:0:
> tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
> [enabled by default]
>  extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
>  ^
> tonemap.c:654:1: warning: variably modified ?tmMesofact? at file scope
> [enabled by default]
>  uby8 tmMesofact[BMESUPPER-BMESLOWER];
>  ^
> cc -DBSD -O -DPCOND=\"pcond\" -c tmapcolrs.c
> In file included from tmapcolrs.c:21:0:
> tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
> [enabled by default]
>  extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
>  ^
> cc -DBSD -O   -c -o tmapluv.o tmapluv.c
> In file included from tmapluv.c:19:0:
> tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
> [enabled by default]
>  extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
>  ^
> cc -DBSD -O   -c -o tmaptiff.o tmaptiff.c
> In file included from tmaptiff.c:15:0:
> tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
> [enabled by default]
>  extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
>  ^
> cc -DBSD -O   -c -o tmap16bit.o tmap16bit.c
> In file included from tmap16bit.c:14:0:
> tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
> [enabled by default]
>  extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
>  ^
> cc -DBSD -O   -c -o bmpfile.o bmpfile.c
> cc -DBSD -O   -c -o falsecolor.o falsecolor.c
> In file included from falsecolor.c:16:0:
> tmprivat.h:62:1: warning: variably modified ?tmMesofact? at file scope
> [enabled by default]
>  extern uby8 tmMesofact[BMESUPPER-BMESLOWER];
>  ^
> cc -DBSD -O   -c -o ezxml.o ezxml.c
> cc -DBSD -O   -c -o ccolor.o ccolor.c
> cc -DBSD -O   -c -o ccyrgb.o ccyrgb.c
> cc -DBSD -O   -c -o bsdf.o bsdf.c
> bsdf.c: In function ?SDloadFile?:
> bsdf.c:182:2: warning: null argument where non-null required (argument 1)
> [-Wnonnull]
>   if (strcmp(ezxml_name(fl), "WindowElement")) {
>   ^
> bsdf.c:182:2: warning: null argument where non-null required (argument 1)
> [-Wnonnull]
> bsdf.c:182:2: warning: null argument where non-null required (argument 1)
> [-Wnonnull]
> bsdf.c:182:2: warning: null argument where non-null required (argument 1)
> [-Wnonnull]
> bsdf.c:182:2: warning: null argument where non-null required (argument 1)
> [-Wnonnull]
> bsdf.c:182:2: warning: null argument where non-null required (argument 1)
> [-Wnonnull]
> cc -DBSD -O   -c -o bsdf_m.o bsdf_m.c
> cc -DBSD -O   -c -o bsdf_t.o bsdf_t.c
> cc -DBSD -O   -c -o loadbsdf.o loadbsdf.c
> cc -DBSD -O   -c -o disk2square.o disk2square.c
> cc -DBSD -O   -c -o hilbert.o hilbert.c
> cc -DBSD -O   -c -o fgetline.o fgetline.c
> cc -DBSD -O   -c -o fropen.o fropen.c
> cc -DBSD -O   -c -o linregr.o linregr.c
> cc -DBSD -O   -c -o xf.o xf.c
> cc -DBSD -O   -c -o mat4.o mat4.c
> cc -DBSD -O   -c -o invmat4.o invmat4.c
> cc -DBSD -O   -c -o fvect.o fvect.c
> cc -DBSD -O   -c -o urand.o urand.c
> cc -DBSD -O   -c -o urind.o urind.c
> cc -DBSD -O   -c -o calexpr.o calexpr.c
> cc -DBSD -O   -c -o caldefn.o caldefn.c
> cc -DBSD -O   -c -o calfunc.o calfunc.c
> cc -DBSD -O   -c -o calprnt.o calprnt.c
> cc -DBSD -O   -c -o biggerlib.o biggerlib.c
> cc -DBSD -O   -c -o multisamp.o multisamp.c
> cc -DBSD -O   -c -o unix_process.o unix_process.c
> cc -DBSD -O   -c -o process.o process.c
> cc -DBSD -O   -c -o gethomedir.o gethomedir.c
> cc -DBSD -O   -c -o getpath.o getpath.c
> cc -DBSD -O   -c -o error.o error.c
> cc -DBSD -O   -c -o savestr.o savestr.c
> cc -DBSD -O   -c -o savqstr.o savqstr.c
> cc -DBSD -O   -c -o badarg.o badarg.c
> cc -DBSD -O   -c -o fgetword.o fgetword.c
> cc -DBSD -O   -c -o words.o words.c
> cc -DBSD -O   -c -o expandarg.o expandarg.c
> cc -DBSD -O   -c -o wordfile.o wordfile.c
> cc -DBSD -O   -c -o fgetval.o fgetval.c
> cc -DBSD -O   -c -o clip.o clip.c
> cc -DBSD -O   -c -o plocate.o plocate.c
> cc -DBSD -O   -c -o eputs.o eputs.c
> cc -DBSD -O   -c -o wputs.o wputs.c
> cc -DBSD -O   -c -o quit.o quit.c
> cc -DBSD -O   -c -o lookup.o lookup.c
> cc -DBSD -O   -c -o bmalloc.o bmalloc.c
> cc -DBSD -O   -c -o loadvars.o loadvars.c
> cc -DBSD -O   -c -o tcos.o tcos.c
> cc -DBSD -O   -c -o fputword.o fputword.c
> cc -DBSD -O   -c -o chanvalue.o chanvalue.c
> cc -DBSD -O   -c -o dircode.o dircode.c
> cc -DBSD -O   -c -o paths.o paths.c
> cc -DBSD -O   -c -o byteswap.o byteswap.c
> cc -DBSD -O   -c -o ealloc.o ealloc.c
> cc -DBSD -O   -c -o fdate.o fdate.c
> cc -DBSD -O   -c -o portio.o portio.c
> cc -DBSD -O   -c -o myhostname.o myhostname.c
> cc -DBSD -O   -c -o erf.o erf.c
> cc -DBSD -O   -c -o strcmp.o strcmp.c
> strcmp.c: In function ?strcmp?:
> strcmp.c:13:17: warning: argument ?s1? doesn?t match built-in prototype
> [enabled by default]
>  register char  *s1, *s2;
>                  ^
> strcmp.c:13:22: warning: argument ?s2? doesn?t match built-in prototype
> [enabled by default]
>  register char  *s1, *s2;
>                       ^
> rm -f librtrad.a
> ar rc librtrad.a cone.o face.o free_os.o instance.o readobj.o readoct.o
> otypes.o objset.o octree.o readfargs.o modobject.o getlibpath.o
> addobjnotify.o zeroes.o mesh.o readmesh.o tmesh.o sceneio.o color.o
> header.o image.o lamps.o resolu.o rexpr.o spec_rgb.o colrops.o font.o
> tonemap.o tmapcolrs.o tmapluv.o tmaptiff.o tmap16bit.o bmpfile.o
> falsecolor.o ezxml.o ccolor.o ccyrgb.o bsdf.o bsdf_m.o bsdf_t.o loadbsdf.o
> disk2square.o hilbert.o fgetline.o fropen.o linregr.o xf.o mat4.o invmat4.o
> fvect.o urand.o urind.o calexpr.o caldefn.o calfunc.o calprnt.o biggerlib.o
> multisamp.o unix_process.o process.o gethomedir.o getpath.o error.o
> savestr.o savqstr.o badarg.o fgetword.o words.o expandarg.o wordfile.o
> fgetval.o clip.o plocate.o eputs.o wputs.o quit.o lookup.o bmalloc.o
> loadvars.o tcos.o fputword.o chanvalue.o dircode.o paths.o byteswap.o
> ealloc.o fdate.o portio.o myhostname.o erf.o strcmp.o
> ranlib librtrad.a
> cc -DBSD -O   -c -o mgf_parser.o mgf_parser.c
> cc -DBSD -O   -c -o mgf_object.o mgf_object.c
> cc -DBSD -O   -c -o mgf_xf.o mgf_xf.c
> cc -DBSD -O   -c -o mgf_context.o mgf_context.c
> rm -f libmgf.a
> ar rc libmgf.a mgf_parser.o mgf_object.o mgf_xf.o mgf_context.o
> ranlib libmgf.a
> /usr/bin/ld: badarg.o: Die Umlagerung von
> badarg.o: error adding symbols: Ung?ltiger Wert -- unvalid data
> collect2: error: ld returned 1 exit status
> install.sh: Zeile 19: javac: Befehl nicht gefunden --- command not found
> install.sh: Zeile 21: javah: Befehl nicht gefunden --- command not found
> In file included from libBSDF.cpp:13:0:
> libBSDF.h:2:17: fatal error: jni.h: Datei oder Verzeichnis nicht gefunden
> -- not found
>  #include <jni.h>
>                  ^
> compilation terminated.
> g++: error: libBSDF.o: Datei oder Verzeichnis nicht gefunden -- not found
> g++: error: libBSDF.so: Datei oder Verzeichnis nicht gefunden --- not found
> g++: fatal error: no input files
> compilation terminated.
> cp: der Aufruf von stat f?r ?BSDFViewer/libBSDF.so? ist nicht m?glich:
> Datei oder Verzeichnis nicht gefunden -- not found
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160203/08fff8c1/attachment-0001.html>

From alireh at uw.edu  Sun Feb  7 15:35:27 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sun, 7 Feb 2016 15:35:27 -0800
Subject: [Radiance-general] Five-phase Method: Proxy Geometry and BSDF
 material type
In-Reply-To: <CAEFJVk_-M8XXHfaEm9sSgOx9czSNh1K3rxHSvVV9FP1hH2pL7Q@mail.gmail.com>
References: <CADjcreiPhX+mmuJG9ZKugKUAps+qDmWdBQyeG5s6PJUfyLyR8A@mail.gmail.com>
	<C7F2CCBD-E8B2-4A86-86DA-661BC3B614ED@gmail.com>
	<CAEFJVk_-M8XXHfaEm9sSgOx9czSNh1K3rxHSvVV9FP1hH2pL7Q@mail.gmail.com>
Message-ID: <CADjcreh+op_Uy1OnrBtdrxwhFbWPj2OVgF8fNM729yUSetuMow@mail.gmail.com>

Andy and Rob,

Thank you very much for you responses. I think it is now more clear for me
why I should opt for two coincident glazing polygons for the view and
daylight matrices or two separate ones with a gap between them depending
on my simulation scene and the type of BSDF data I will be using.

Best Regards,
Alireza

On Sun, Jan 31, 2016 at 12:00 PM, Andy McNeil <mcneil.andrew at gmail.com>
wrote:

> Alireza - Five great questions.
> Rob - Five great responses.
>
> I've done these simulations with and without spacing. There are probably
> examples I've produced of both ways floating around. So I'll try to explain
> why you'd want to do it one way or the other.
>
> The basic idea is to make sure that you account for the window thickness
> and edge condition once and only once in your simulation. The genBSDF
> tutorial touches on the difference between a system specific BSDF, which
> includes edge conditions, and an infinite layer BSDF, which has no edge
> conditions. If your BSDF does not include the edge condition, then you want
> your sending and receiving surfaces to be coincident, so that the edge
> condition is accounted for in the view and daylight matrices. If your BSDF
> does include the edge conditions, then you want a space between your
> sending and receiving surfaces so that the edge condition is not duplicated
> in the view and daylight matrix.
>
> So how do you know whether you have an infinite layer BSDF or a BSDF with
> edge conditions?
> If your BSDF is generated by Window then it is an infinite layer, without
> edge conditions.
> If your BSDF is generated by genBSDF then it contains edge conditions,
> unless you took care to minimize sampling of edges (see genBSDF tutorial).
>
> If you're using proxied geometry, than your sender and receiver geometry
> needs to be spaced (the thickness of the geometry) so you should make sure
> that your BSDFs contain the edge effects.
>
> For the 5-phase method, your strategy starts with what you want to do for
> the direct sun coefficient matrix.
> If you want to use proxied geometry than the sender and receiver must be
> spaced apart and the BSDF should include edge effects specific to your
> model.
>
> If you want to use a tensor tree BSDF, then it depends on what you did to
> create the BSDF. If it is a typical genBSDF tensor tree run, then edge
> conditions are included in the BSDF and you should include a space between
> your sending and receiving surfaces. If however you took care to create an
> infinite layer BSDF (tensor tree) with genBSDF then your sender and
> receiver surfaces can be coincident.
>
> Hopefully this gives a little bit of backgroud to the whole space or no
> space between sending and receiving surfaces.
>
> Best,
> Andy
>
>
>
> On Sun, Jan 31, 2016 at 8:40 AM, Rob Guglielmetti <
> rob.guglielmetti at gmail.com> wrote:
>
>> Lots of questions, I think I can answer some of them?
>>
>>
>> >
>> > 1- In the tutorial, a single polygon (relative to the outline of the
>> glazing surface) is modeled in the scene at the exterior side of the
>> window. This polygon is referenced to generate the daylight matrix. A
>> second polygon is modeled in the scene on the interior side of the window
>> and it is referenced to calculate the view matrix.
>> >
>> > I was wondering if I could generate two identical co-planar polygons
>> where the normal vector of one polygon is looking at the interior side  and
>> the normal vector of the other polygon looks at the exterior side to be
>> referenced, respectively, for the view matrix and daylight matrix
>> calculations? if so, would it still be necessary to model the thickness of
>> the walls hosting fenestration systems in the simulation scene?
>>
>>
>> You could do that, just make sure that your octrees for the view and
>> daylight matrices only contain one the other polygon. If you have a
>> coincident pair of polys in the same octree, it?s up to chance which one is
>> hit by each ray traced. It?s already critical that every ray be counted
>> toward something meaningful (this is the reason for the phases in the first
>> place, with complex fenestration systems).
>>
>>
>> > 2- What is the "proxy geometry" in the five-phase method? is the "proxy
>> geometry" exclusively a reference to the polygon at the interior side of
>> the window system that is assigned a BSDF material?
>> > or is the "proxy geometry" a reference to the 3D geometry of the
>> venetian blinds (or any other type of shading layer of the fenestration
>> system) in the scene?
>>
>>
>> It?s the latter. That geometry serves to block the direct light, in that
>> phase of the workflow.
>>
>> >
>> > 3- what is the "thickness" as the first parameter in the Radiance BSDF
>> material type referring to? is it measured as the distance between the
>> daylight matrix polygon on the exterior side of the window and the view
>> matrix polygon at the interior side?
>>
>> Yes.
>>
>>
>> >
>> > or does "thickness" refer to the depth of the entire fenestration
>> system including the glazing panes and any shading layers?
>> >
>> > 4- If I model the mullions defining the edge condition of any
>> individual glazing pane in 3D scene, what would be the difference between
>> using LBNL's Window to generate a BSDF file and using genBSDF?
>>
>>
>> Hmm, I don?t think there would be a difference in terms of the Radiance
>> BSDF and calculations.
>>
>> >
>> > 5- What would be the difference between using a BSDF file based on
>> Klem's division scheme with higher resolution (where each Klem's patch is
>> subdivided to 4 new patches) and using a tensor tree BSDF?
>>
>>
>> The difference would be higher accuracy in the case of the tensor tree
>> BSDFs, at the expense of longer stimulation times, much larger files (both
>> the input and output), and longer BSDF generation times.
>>
>> - Rob
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160207/2c00fd2a/attachment.html>

From alireh at uw.edu  Sun Feb  7 15:45:18 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sun, 7 Feb 2016 15:45:18 -0800
Subject: [Radiance-general] genBSDF: Errors encountered
Message-ID: <CADjcrejNZ7y3jK5jZKbPpNV35op-71P47ShO6WNtM1t3ZFojZg@mail.gmail.com>

Hello,

I have two questions about two errors I have encountered using genBSDF on
Windows:

Following the Example-1 in the genBSDF Tutorial (
http://www.radiance-online.org/learning/tutorials/Tutorial-genBSDF_v1.0.1.pdf),
I have encountered the following error messages:

Windows 7 (64-bit)
Radiance 5

Command: "genBSDF +f +b -c 500 -geom inch -dim 199 201 1.5 2.5 -0.939693 0
D:/tutorialBSDF/blinds.rad > D:/tutorialBSDF/blinds.xml"

Error: "wrapBSDF: only one XML input allowed
          Usage: wrapBSDF [-W][-c][-a {kf|kh|kq|t3|t4}][-u unit][-g
geom][-f 'x=string;y=string'] [-s spectr][-tb inp][-tf inp][-rb inp][-rf
inp][-C comm] [input.xml]
          Could not wrap BSDF data"


Content of the blinds.rad file passed to genBSDF:

### blinds.rad
void plastic white
0
0
5 0.7 0.7 0.7 0 0
!genblinds white blinds 1 400 4 4 20 | xform -rz -90 -rx -90 -t 0 0
-0.939693


2- as shown in the command  in questions 1, I have to provide the absolute
path of the .rad file that is passed to genBSDF as well as the absolute
path of the .xml file where the consequent BSDF data should be saved as.
Otherwise, if I provide the relative path based on my current working
directory (passing the relative path as "blinds.rad" and "blinds.xml"), I
encounter a  "Segmentation fault". This is despite the fact that my working
directory is already set to the directory where the blinds.rad file is
saved in and the blinds.xml file should be saved to.

Command: "genBSDF +f +b -c 500 -geom inch -dim 199 201 1.5 2.5 -0.939693 0
blinds.rad > blinds.xml"

Error: "Segmentation fault"


In addition, I was wondering if there are any solutions to visualize a
Tensor-tree BSDF data file produced by genBSDF on Windows?


Thank you in advance for your assistance.
Regards,

Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160207/007016fb/attachment.html>

From gregoryjward at gmail.com  Sun Feb  7 16:54:37 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun, 7 Feb 2016 16:54:37 -0800
Subject: [Radiance-general] genBSDF: Errors encountered
In-Reply-To: <CADjcrejNZ7y3jK5jZKbPpNV35op-71P47ShO6WNtM1t3ZFojZg@mail.gmail.com>
References: <CADjcrejNZ7y3jK5jZKbPpNV35op-71P47ShO6WNtM1t3ZFojZg@mail.gmail.com>
Message-ID: <2BA416C8-A0A4-4258-A5F5-874020336E66@lmi.net>

Hi Alireza,

This is an error we hadn't noticed in the genBSDF script that shows up on Windows because it doesn't use single-quoted strings.  I have just checked in a fix, which I can send you separately if you don't want to wait for the installer to be updated.

Thanks for informing us!

Best,
-Greg

> From: Alireza Hashemloo <alireh at uw.edu>
> Subject: [Radiance-general] genBSDF: Errors encountered
> Date: February 7, 2016 3:45:18 PM PST
> 
> Hello,
> 
> I have two questions about two errors I have encountered using genBSDF on Windows:
> 
> Following the Example-1 in the genBSDF Tutorial (http://www.radiance-online.org/learning/tutorials/Tutorial-genBSDF_v1.0.1.pdf), I have encountered the following error messages:
> 
> Windows 7 (64-bit)
> Radiance 5
> 
> Command: "genBSDF +f +b -c 500 -geom inch -dim 199 201 1.5 2.5 -0.939693 0 D:/tutorialBSDF/blinds.rad > D:/tutorialBSDF/blinds.xml"
> 
> Error: "wrapBSDF: only one XML input allowed
>           Usage: wrapBSDF [-W][-c][-a {kf|kh|kq|t3|t4}][-u unit][-g geom][-f 'x=string;y=string'] [-s spectr][-tb inp][-tf inp][-rb inp][-rf inp][-C comm] [input.xml]
>           Could not wrap BSDF data"
> 
> 
> Content of the blinds.rad file passed to genBSDF:
> 
> ### blinds.rad
> void plastic white
> 0
> 0
> 5 0.7 0.7 0.7 0 0
> !genblinds white blinds 1 400 4 4 20 | xform -rz -90 -rx -90 -t 0 0 -0.939693
> 
> 
> 2- as shown in the command  in questions 1, I have to provide the absolute path of the .rad file that is passed to genBSDF as well as the absolute path of the .xml file where the consequent BSDF data should be saved as. Otherwise, if I provide the relative path based on my current working directory (passing the relative path as "blinds.rad" and "blinds.xml"), I encounter a  "Segmentation fault". This is despite the fact that my working directory is already set to the directory where the blinds.rad file is saved in and the blinds.xml file should be saved to.
> 
> Command: "genBSDF +f +b -c 500 -geom inch -dim 199 201 1.5 2.5 -0.939693 0 blinds.rad > blinds.xml"
> 
> Error: "Segmentation fault"
> 
> 
> In addition, I was wondering if there are any solutions to visualize a Tensor-tree BSDF data file produced by genBSDF on Windows?
> 
> 
> Thank you in advance for your assistance.
> Regards,
> 
> Alireza
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160207/c197055c/attachment-0001.html>

From alireh at uw.edu  Sun Feb  7 17:20:04 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sun, 7 Feb 2016 17:20:04 -0800
Subject: [Radiance-general] genBSDF: Errors encountered
In-Reply-To: <2BA416C8-A0A4-4258-A5F5-874020336E66@lmi.net>
References: <CADjcrejNZ7y3jK5jZKbPpNV35op-71P47ShO6WNtM1t3ZFojZg@mail.gmail.com>
	<2BA416C8-A0A4-4258-A5F5-874020336E66@lmi.net>
Message-ID: <CADjcreiKui8LAxSTKR=C=rUvjTh9TwvcxHOVCu64iFJLpX3G8g@mail.gmail.com>

Hi Greg,

Thank you for your response. I would appreciate if you could send me the
updated genBSDF script. I think I can just replace the existing version
with the updated script for windows in my Radiance/bin directory.

Best,
Alireza

On Sun, Feb 7, 2016 at 4:54 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Alireza,
>
> This is an error we hadn't noticed in the genBSDF script that shows up on
> Windows because it doesn't use single-quoted strings.  I have just checked
> in a fix, which I can send you separately if you don't want to wait for the
> installer to be updated.
>
> Thanks for informing us!
>
> Best,
> -Greg
>
> *From: *Alireza Hashemloo <alireh at uw.edu>
>
> *Subject: *[Radiance-general] genBSDF: Errors encountered
>
> *Date: *February 7, 2016 3:45:18 PM PST
>
>
> Hello,
>
> I have two questions about two errors I have encountered using genBSDF on
> Windows:
>
> Following the Example-1 in the genBSDF Tutorial (
> http://www.radiance-online.org/learning/tutorials/Tutorial-genBSDF_v1.0.1.pdf),
> I have encountered the following error messages:
>
> Windows 7 (64-bit)
> Radiance 5
>
> Command: "genBSDF +f +b -c 500 -geom inch -dim 199 201 1.5 2.5 -0.939693 0
> D:/tutorialBSDF/blinds.rad > D:/tutorialBSDF/blinds.xml"
>
> Error: "wrapBSDF: only one XML input allowed
>           Usage: wrapBSDF [-W][-c][-a {kf|kh|kq|t3|t4}][-u unit][-g
> geom][-f 'x=string;y=string'] [-s spectr][-tb inp][-tf inp][-rb inp][-rf
> inp][-C comm] [input.xml]
>           Could not wrap BSDF data"
>
>
> Content of the blinds.rad file passed to genBSDF:
>
> ### blinds.rad
> void plastic white
> 0
> 0
> 5 0.7 0.7 0.7 0 0
> !genblinds white blinds 1 400 4 4 20 | xform -rz -90 -rx -90 -t 0 0
> -0.939693
>
>
> 2- as shown in the command  in questions 1, I have to provide the absolute
> path of the .rad file that is passed to genBSDF as well as the absolute
> path of the .xml file where the consequent BSDF data should be saved as.
> Otherwise, if I provide the relative path based on my current working
> directory (passing the relative path as "blinds.rad" and "blinds.xml"), I
> encounter a  "Segmentation fault". This is despite the fact that my working
> directory is already set to the directory where the blinds.rad file is
> saved in and the blinds.xml file should be saved to.
>
> Command: "genBSDF +f +b -c 500 -geom inch -dim 199 201 1.5 2.5 -0.939693 0
> blinds.rad > blinds.xml"
>
> Error: "Segmentation fault"
>
>
> In addition, I was wondering if there are any solutions to visualize a
> Tensor-tree BSDF data file produced by genBSDF on Windows?
>
>
> Thank you in advance for your assistance.
> Regards,
>
> Alireza
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160207/7a48024a/attachment.html>

From rmfritz3 at gmail.com  Mon Feb  8 18:01:59 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 8 Feb 2016 18:01:59 -0800
Subject: [Radiance-general] evalglare default?
Message-ID: <CANeAMo+z-4YjyoB4TKdhJ9J0Ox3Wfzf71dmqDgApGvHkRte8RA@mail.gmail.com>

What is the default behavior of evalglare, if one doesn't specify -b, -t,
or -T? I can't seem to find it in the man page and a quick skim of the code
is leaving me puzzled.
-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160208/bb598ae8/attachment.html>

From rmfritz3 at gmail.com  Mon Feb  8 18:03:46 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 8 Feb 2016 18:03:46 -0800
Subject: [Radiance-general] Evalglare doesn't seem to have made it over to
	github
Message-ID: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>

What's up with this?

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160208/f3d02718/attachment.html>

From nathanieljon at gmail.com  Mon Feb  8 18:54:49 2016
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Mon, 8 Feb 2016 21:54:49 -0500
Subject: [Radiance-general] Evalglare doesn't seem to have made it over
	to github
In-Reply-To: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>
References: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>
Message-ID: <CAJR73tuKVSFzXHxWASiAxHmMNDTrqL-RAwiF3hX5QdmN990KEQ@mail.gmail.com>

It worked for me.

https://github.com/NREL/Radiance/blob/combined/src/util/evalglare.c

Nathaniel

On Mon, Feb 8, 2016 at 9:03 PM, Randolph M. Fritz <rmfritz3 at gmail.com>
wrote:

> What's up with this?
>
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160208/79cd5680/attachment.html>

From rob.guglielmetti at gmail.com  Mon Feb  8 19:18:37 2016
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Mon, 8 Feb 2016 20:18:37 -0700
Subject: [Radiance-general] Evalglare doesn't seem to have made it over
	to github
In-Reply-To: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>
References: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>
Message-ID: <CAEkFE9hg9MY=uCZTFXAQXJ8krnsbKbbvd9QDuc_MxKxay-VdKA@mail.gmail.com>

Yeah, whatcha talking about?

On Mon, Feb 8, 2016 at 7:03 PM, Randolph M. Fritz <rmfritz3 at gmail.com>
wrote:

> What's up with this?
>
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160208/30618720/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon Feb  8 19:43:44 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 9 Feb 2016 03:43:44 +0000
Subject: [Radiance-general] Evalglare doesn't seem to have made it over
 to github
In-Reply-To: <CAEkFE9hg9MY=uCZTFXAQXJ8krnsbKbbvd9QDuc_MxKxay-VdKA@mail.gmail.com>
References: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>
	<CAEkFE9hg9MY=uCZTFXAQXJ8krnsbKbbvd9QDuc_MxKxay-VdKA@mail.gmail.com>
Message-ID: <D2DEACC5.2256E%Robert.Guglielmetti@nrel.gov>

To be clear Randolph, the "combined" branch is the one that's kept up to date with the CVS repository. Branch "master" is ancient. As the link Nathaniel posted shows, the combined branch has the evalglare source, and the CMake files include it in the build and package targets:

https://github.com/NREL/Radiance/blob/combined/src/util/CMakeLists.txt#L101-L104

Matter of fact (file under: I love GitHub):

https://github.com/NREL/Radiance/commit/dde95dd17644c0fe8e6849ded9ee48498a5487ba

- Rob



On 2/8/16, 8:18 PM, "Rob Guglielmetti" <rob.guglielmetti at gmail.com<mailto:rob.guglielmetti at gmail.com>> wrote:

Yeah, whatcha talking about?

On Mon, Feb 8, 2016 at 7:03 PM, Randolph M. Fritz <rmfritz3 at gmail.com<mailto:rmfritz3 at gmail.com>> wrote:
What's up with this?

--
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617<tel:%2B1%20206%20659-8617> || rmfritz3 at gmail.com<mailto:rmfritz3 at gmail.com>

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general




From rmfritz3 at gmail.com  Mon Feb  8 19:55:51 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 8 Feb 2016 19:55:51 -0800
Subject: [Radiance-general] Evalglare doesn't seem to have made it over
	to github
In-Reply-To: <D2DEACC5.2256E%Robert.Guglielmetti@nrel.gov>
References: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>
	<CAEkFE9hg9MY=uCZTFXAQXJ8krnsbKbbvd9QDuc_MxKxay-VdKA@mail.gmail.com>
	<D2DEACC5.2256E%Robert.Guglielmetti@nrel.gov>
Message-ID: <CANeAMoJ6BD0ZS_jE1FgAaS9OvWM7hxtVPHUdwfpqQnUCntG9kA@mail.gmail.com>

Oh, I see. I did the regular generic github download and got the wrong
branch.

Why is "master" so far out of date?
On Feb 8, 2016 7:46 PM, "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
wrote:

> To be clear Randolph, the "combined" branch is the one that's kept up to
> date with the CVS repository. Branch "master" is ancient. As the link
> Nathaniel posted shows, the combined branch has the evalglare source, and
> the CMake files include it in the build and package targets:
>
>
> https://github.com/NREL/Radiance/blob/combined/src/util/CMakeLists.txt#L101-L104
>
> Matter of fact (file under: I love GitHub):
>
>
> https://github.com/NREL/Radiance/commit/dde95dd17644c0fe8e6849ded9ee48498a5487ba
>
> - Rob
>
>
>
> On 2/8/16, 8:18 PM, "Rob Guglielmetti" <rob.guglielmetti at gmail.com<mailto:
> rob.guglielmetti at gmail.com>> wrote:
>
> Yeah, whatcha talking about?
>
> On Mon, Feb 8, 2016 at 7:03 PM, Randolph M. Fritz <rmfritz3 at gmail.com
> <mailto:rmfritz3 at gmail.com>> wrote:
> What's up with this?
>
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617<tel:%2B1%20206%20659-8617> || rmfritz3 at gmail.com<mailto:
> rmfritz3 at gmail.com>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org<mailto:
> Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160208/2ce00e37/attachment-0001.html>

From rmfritz3 at gmail.com  Mon Feb  8 22:46:27 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 8 Feb 2016 22:46:27 -0800
Subject: [Radiance-general] Evalglare doesn't seem to have made it over
	to github
In-Reply-To: <CANeAMoJ6BD0ZS_jE1FgAaS9OvWM7hxtVPHUdwfpqQnUCntG9kA@mail.gmail.com>
References: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>
	<CAEkFE9hg9MY=uCZTFXAQXJ8krnsbKbbvd9QDuc_MxKxay-VdKA@mail.gmail.com>
	<D2DEACC5.2256E%Robert.Guglielmetti@nrel.gov>
	<CANeAMoJ6BD0ZS_jE1FgAaS9OvWM7hxtVPHUdwfpqQnUCntG9kA@mail.gmail.com>
Message-ID: <CANeAMoLxcDVxEJpmEy8GPiVUEfapbp020YSX8wUKMO38P7Vb6Q@mail.gmail.com>

Seems if I follow "git clone https://github.com/NREL/Radiance/" with "git
checkout combined" that does the job. How I would merge my local "combined"
branch with the github respository (should I have changes and the
permission to merge them) I don't understand, but then there's lots of
things about git I don't understand.

(And I suppose we ought to move this discussion to the development list,
bah!)
--
Randolph

On Mon, Feb 8, 2016 at 7:55 PM, Randolph M. Fritz <rmfritz3 at gmail.com>
wrote:

> Oh, I see. I did the regular generic github download and got the wrong
> branch.
>
> Why is "master" so far out of date?
> On Feb 8, 2016 7:46 PM, "Guglielmetti, Robert" <
> Robert.Guglielmetti at nrel.gov> wrote:
>
>> To be clear Randolph, the "combined" branch is the one that's kept up to
>> date with the CVS repository. Branch "master" is ancient. As the link
>> Nathaniel posted shows, the combined branch has the evalglare source, and
>> the CMake files include it in the build and package targets:
>>
>>
>> https://github.com/NREL/Radiance/blob/combined/src/util/CMakeLists.txt#L101-L104
>>
>> Matter of fact (file under: I love GitHub):
>>
>>
>> https://github.com/NREL/Radiance/commit/dde95dd17644c0fe8e6849ded9ee48498a5487ba
>>
>> - Rob
>>
>>
>>
>> On 2/8/16, 8:18 PM, "Rob Guglielmetti" <rob.guglielmetti at gmail.com
>> <mailto:rob.guglielmetti at gmail.com>> wrote:
>>
>> Yeah, whatcha talking about?
>>
>> On Mon, Feb 8, 2016 at 7:03 PM, Randolph M. Fritz <rmfritz3 at gmail.com
>> <mailto:rmfritz3 at gmail.com>> wrote:
>> What's up with this?
>>
>> --
>> Randolph M. Fritz, Lighting Design and Simulation
>> +1 206 659-8617<tel:%2B1%20206%20659-8617> || rmfritz3 at gmail.com<mailto:
>> rmfritz3 at gmail.com>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org<mailto:
>> Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160208/766e2546/attachment.html>

From tim.v2.0 at gmail.com  Mon Feb  8 23:47:43 2016
From: tim.v2.0 at gmail.com (Tim Perry)
Date: Mon, 8 Feb 2016 23:47:43 -0800
Subject: [Radiance-general] Evalglare doesn't seem to have made it over
	to github
In-Reply-To: <CANeAMoLxcDVxEJpmEy8GPiVUEfapbp020YSX8wUKMO38P7Vb6Q@mail.gmail.com>
References: <CANeAMoL+EfufB+uiR8McBijNTKL7sX8XB6zUvc_fy+F3E2Vesg@mail.gmail.com>
	<CAEkFE9hg9MY=uCZTFXAQXJ8krnsbKbbvd9QDuc_MxKxay-VdKA@mail.gmail.com>
	<D2DEACC5.2256E%Robert.Guglielmetti@nrel.gov>
	<CANeAMoJ6BD0ZS_jE1FgAaS9OvWM7hxtVPHUdwfpqQnUCntG9kA@mail.gmail.com>
	<CANeAMoLxcDVxEJpmEy8GPiVUEfapbp020YSX8wUKMO38P7Vb6Q@mail.gmail.com>
Message-ID: <CAFVgASV1SWoaCRbQUhkQonc8KVeBa5J-muHxeeDaDy2ksXSzTg@mail.gmail.com>

Just remember git is a directed cyclical graph and you'll get pretty
far.... The Atlasssian tutorials are pretty helpful with diagrams and
pictures to go with descriptions of the commands. Here are some docs to
help you:

synching your dev tree
https://www.atlassian.com/git/tutorials/syncing

what does rebase do?
https://www.atlassian.com/git/tutorials/rewriting-history/git-rebase

Should I merge or rebase?
https://www.atlassian.com/git/articles/git-team-workflows-merge-or-rebase/

Stashing changes in git:
https://git-scm.com/book/no-nb/v1/Git-Tools-Stashing

It is hard to give specified advice on how to sync up your environment with
the code line from github without knowing the specifics of everything you
have done locally. But, to answer your questions, assuming you have
un-commited changes on your branch, you *probably* need:

git stash
git fetch
git rebase
git stash pop

If you don't have uncommitted (to your local repository) changes, you can
skip the stash commands and *probably* just do:

git fetch
git rebase


Note the *probably*. This may not be the correct sequence for your
situation.


Good luck!
Tim



On Mon, Feb 8, 2016 at 10:46 PM, Randolph M. Fritz <rmfritz3 at gmail.com>
wrote:

> Seems if I follow "git clone https://github.com/NREL/Radiance/" with "git
> checkout combined" that does the job. How I would merge my local "combined"
> branch with the github respository (should I have changes and the
> permission to merge them) I don't understand, but then there's lots of
> things about git I don't understand.
>
> (And I suppose we ought to move this discussion to the development list,
> bah!)
> --
> Randolph
>
> On Mon, Feb 8, 2016 at 7:55 PM, Randolph M. Fritz <rmfritz3 at gmail.com>
> wrote:
>
>> Oh, I see. I did the regular generic github download and got the wrong
>> branch.
>>
>> Why is "master" so far out of date?
>> On Feb 8, 2016 7:46 PM, "Guglielmetti, Robert" <
>> Robert.Guglielmetti at nrel.gov> wrote:
>>
>>> To be clear Randolph, the "combined" branch is the one that's kept up to
>>> date with the CVS repository. Branch "master" is ancient. As the link
>>> Nathaniel posted shows, the combined branch has the evalglare source, and
>>> the CMake files include it in the build and package targets:
>>>
>>>
>>> https://github.com/NREL/Radiance/blob/combined/src/util/CMakeLists.txt#L101-L104
>>>
>>> Matter of fact (file under: I love GitHub):
>>>
>>>
>>> https://github.com/NREL/Radiance/commit/dde95dd17644c0fe8e6849ded9ee48498a5487ba
>>>
>>> - Rob
>>>
>>>
>>>
>>> On 2/8/16, 8:18 PM, "Rob Guglielmetti" <rob.guglielmetti at gmail.com
>>> <mailto:rob.guglielmetti at gmail.com>> wrote:
>>>
>>> Yeah, whatcha talking about?
>>>
>>> On Mon, Feb 8, 2016 at 7:03 PM, Randolph M. Fritz <rmfritz3 at gmail.com
>>> <mailto:rmfritz3 at gmail.com>> wrote:
>>> What's up with this?
>>>
>>> --
>>> Randolph M. Fritz, Lighting Design and Simulation
>>> +1 206 659-8617<tel:%2B1%20206%20659-8617> || rmfritz3 at gmail.com<mailto:
>>> rmfritz3 at gmail.com>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org<mailto:
>>> Radiance-general at radiance-online.org>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160208/04c23343/attachment.html>

From jan.wienold at epfl.ch  Tue Feb  9 02:02:02 2016
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Tue, 9 Feb 2016 11:02:02 +0100
Subject: [Radiance-general] evalglare default?
In-Reply-To: <CANeAMo+z-4YjyoB4TKdhJ9J0Ox3Wfzf71dmqDgApGvHkRte8RA@mail.gmail.com>
References: <CANeAMo+z-4YjyoB4TKdhJ9J0Ox3Wfzf71dmqDgApGvHkRte8RA@mail.gmail.com>
Message-ID: <56B9B91A.3080703@epfl.ch>

Hi Randolph,

default for -b is :5.
default for -t or -T is : Not set (-> no task area detection mode is 
default, in that case the average luminance of the scene is used to 
detect "glare pixels", threshold=b*average_luminance. In case b is set 
to a value larger than 100, then the threshold is b only, an absolut 
luminance value, independent on the average luminance or task luminance.)


Jan



On 09/02/16 03:01, Randolph M. Fritz wrote:
> What is the default behavior of evalglare, if one doesn't specify -b, 
> -t, or -T? I can't seem to find it in the man page and a quick skim of 
> the code is leaving me puzzled.
> -- 
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com <mailto:rmfritz3 at gmail.com>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160209/ca997190/attachment-0001.html>

From rmfritz3 at gmail.com  Tue Feb  9 11:38:23 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Tue, 9 Feb 2016 11:38:23 -0800
Subject: [Radiance-general] evalglare default?
In-Reply-To: <56B9B91A.3080703@epfl.ch>
References: <CANeAMo+z-4YjyoB4TKdhJ9J0Ox3Wfzf71dmqDgApGvHkRte8RA@mail.gmail.com>
	<56B9B91A.3080703@epfl.ch>
Message-ID: <CANeAMoLsnmD42OjJXcsdzYGR-ukJL1hyGsZSQSqHbNfeuoJj7Q@mail.gmail.com>

Thanks!

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Tue, Feb 9, 2016 at 2:02 AM, Jan Wienold <jan.wienold at epfl.ch> wrote:

> Hi Randolph,
>
> default for -b is :5.
> default for -t or -T is : Not set (-> no task area detection mode is
> default, in that case the average luminance of the scene is used to detect
> "glare pixels", threshold=b*average_luminance. In case b is set to a value
> larger than 100, then the threshold is b only, an absolut luminance value,
> independent on the average luminance or task luminance.)
>
>
> Jan
>
>
>
>
> On 09/02/16 03:01, Randolph M. Fritz wrote:
>
> What is the default behavior of evalglare, if one doesn't specify -b, -t,
> or -T? I can't seem to find it in the man page and a quick skim of the code
> is leaving me puzzled.
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || <rmfritz3 at gmail.com>rmfritz3 at gmail.com
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> --
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160209/249fe1ef/attachment.html>

From daniel at lightstanza.com  Fri Feb 12 12:53:02 2016
From: daniel at lightstanza.com (Daniel Glaser)
Date: Fri, 12 Feb 2016 13:53:02 -0700
Subject: [Radiance-general] Radiance for Spatial Daylight Autonomy
In-Reply-To: <CAK01WzY3hO1rpVcVGyPzo1HsNPSfLtsN8WKjvUFvp=Of9eiaeA@mail.gmail.com>
References: <000f01d14994$a2849380$e78dba80$@three.com.mx>
	<CAK01WzY3hO1rpVcVGyPzo1HsNPSfLtsN8WKjvUFvp=Of9eiaeA@mail.gmail.com>
Message-ID: <CAGhkmDtvQEY=2UWbAqUwDn9=HnKNN+Y6tA9tpAVpDkkLRpEtvw@mail.gmail.com>

Hi Stefanie, Alex, Ery

Stefanie, LightStanza is web-based software for daylight analysis that
computes sDA in a rigorous way (which was not mentioned in Alex?s response).

Ery, Thank you for sharing your experiences developing a workflow for sDA--
it's a challenging metric!

We are posting a blog series about it:

https://blog.lightstanza.com/

Which includes a section on Blinds Operations-- a new, long-overdue yet
controversial and not well understood innovation.

kind regards,


- Dan

--

Daniel C. Glaser, PhD, LEED AP BD+C, IESPrincipal
Light Foundry, LLC*Creators of LightStanza.com*
Boulder, Colorado

Direct: +1.510.387.8890Main: +1.720.722.0771

www.lightstanza.com


This e-mail message is for the sole use of the intended recipients and
contains confidential and privileged information. Any unauthorized
review, use, disclosure or distribution is prohibited. If you are not
the intended recipient, please contact the sender by reply e-mail and
destroy all copies of the original message.


On Fri, Jan 29, 2016 at 4:33 AM, Ery Mailing-List <ery.mailinglist at gmail.com
> wrote:

> Stefanie
>
> When I was at the UI-IDL Boise, I implemented LM-83 procedure (exactly
> what you asked) in Radiance. Yes it can be done. The implementation is
> using bash script. The result was presented in Radiance Workshop at NREL:
>
> http://www.radiance-online.org/community/workshops/2013-golden-co/Djunaedy_vdw_mahic_lm83.pdf
>
> Please email me via my other email (cc) if you have questions.
>
> Ery
>
>
> On Fri, Jan 8, 2016 at 4:44 AM, Stefanie Madriz <
> stefanie.madriz at three.com.mx> wrote:
>
>> Hello,
>>
>> My name is Stefanie, I work in the Green Building sector in Mexico with
>> LEED project certification. This year we are trying to take our daylight
>> models to the next level and be able to achieve all options of LEED v4 EQ
>> Credit: Daylight. For Option 1, we have to prove a Spatial Daylight
>> Autonomy of 300lx for 50% of occupied hours per year as well as analyze the
>> Annual sunlight Exposure of 1000lx for 250h (ASE1000,250).
>>
>> We are familiar with working with RADIANCE but we are not sure if it is
>> possible to carry out this analyses and get both results needed. Could you
>> help me with this doubt?
>>
>> Hope to hear from you soon.
>>
>> Regards,
>>
>>
>>
>>
>>
>> [image: Stefanie]
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160212/844ce766/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 15220 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160212/844ce766/attachment-0001.jpg>

From raghuram.kalyanam at bauing.uni-kl.de  Fri Feb 12 06:02:56 2016
From: raghuram.kalyanam at bauing.uni-kl.de (raghuram kalyanam)
Date: Fri, 12 Feb 2016 15:02:56 +0100
Subject: [Radiance-general] Measuring Illuminance
Message-ID: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>


Hi Everyone,

I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results.



Thanks & Regards,
Raghu

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160212/ba264b0f/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: scene_Scene_3.jpeg
Type: image/jpeg
Size: 53079 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160212/ba264b0f/attachment-0001.jpeg>

From kalyanam at rhrk.uni-kl.de  Sun Feb 14 13:28:05 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Sun, 14 Feb 2016 22:28:05 +0100
Subject: [Radiance-general] Illuminance Calculation
Message-ID: <D6853F7A-B5C4-46DD-B359-84679A83BFED@rhrk.uni-kl.de>

Hi Everyone,

I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results. I have tried dayfact which is giving me contour plot on the picture but I wanted something which generates a text file of illumination at some points.



Best Regards,
Raghu

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160214/8d9775db/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: scene_Scene_3.jpeg
Type: image/jpeg
Size: 53079 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160214/8d9775db/attachment-0001.jpeg>

From rob.guglielmetti at gmail.com  Sun Feb 14 17:04:43 2016
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sun, 14 Feb 2016 18:04:43 -0700
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
Message-ID: <CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>

There are two basic methods for calculating illuminance with Radiance. You
can pass one or more points to rtrace, which will return a value(s) for
that specific point(s); the other way is to pass in a view to rpict, which
will return values for each pixel in the view. By default, both tools
return radiance. If you want illuminance, you need to request irradiance
instead of radiance, and then convert that output to illuminance using the
standard luminous efficacy function.

Specifically, it sounds like you want to know how to get illuminance from
the specific image you attached to your question here. In this case, you'd
need to re-render the image as an irradiance image instead of a radiance
image, using the -i option to rpict. With that image, you could pass it
through falsecolor, producing a falsecolor illuminance map or flood plot of
the illuminance on all the (non-glazed) surfaces in the image. A second
option pipeline to falsecolor can plot isocontours on the original image
above. See the falsecolor manpage (
http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html) for details.



On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam <
raghuram.kalyanam at bauing.uni-kl.de> wrote:

>
> Hi Everyone,
>
> I would like to know which is the best way to measure illuminance at
> certain view points in the room (radiance generated picture)  below. Let me
> also know which tools gives what kinds of results.
>
>
>
> Thanks & Regards,
> Raghu
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160214/b46ddfa0/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: scene_Scene_3.jpeg
Type: image/jpeg
Size: 53079 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160214/b46ddfa0/attachment-0001.jpeg>

From rmfritz3 at gmail.com  Sun Feb 14 19:00:21 2016
From: rmfritz3 at gmail.com (Randolph Fritz)
Date: Sun, 14 Feb 2016 19:00:21 -0800
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
Message-ID: <C75FFF73-33E2-4FC2-B147-75F9E3936491@gmail.com>

Also, if you have an irradiance image and just want to know the illumination at a few points, you can (on Macs and other Unix-like systems) display the image with ximage and use the ?l? command to find values.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com <mailto:rmfritz3 at panix.com>
> On Feb 14, 2016, at 5:04 PM, Rob Guglielmetti <rob.guglielmetti at gmail.com> wrote:
> 
> There are two basic methods for calculating illuminance with Radiance. You can pass one or more points to rtrace, which will return a value(s) for that specific point(s); the other way is to pass in a view to rpict, which will return values for each pixel in the view. By default, both tools return radiance. If you want illuminance, you need to request irradiance instead of radiance, and then convert that output to illuminance using the standard luminous efficacy function. 
> 
> Specifically, it sounds like you want to know how to get illuminance from the specific image you attached to your question here. In this case, you'd need to re-render the image as an irradiance image instead of a radiance image, using the -i option to rpict. With that image, you could pass it through falsecolor, producing a falsecolor illuminance map or flood plot of the illuminance on all the (non-glazed) surfaces in the image. A second option pipeline to falsecolor can plot isocontours on the original image above. See the falsecolor manpage (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html <http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html>) for details.  
> 
> 
> 
> On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam <raghuram.kalyanam at bauing.uni-kl.de <mailto:raghuram.kalyanam at bauing.uni-kl.de>> wrote:
> 
> Hi Everyone,
> 
> I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results.
> 
> <scene_Scene_3.jpeg>
> 
> 
> Thanks & Regards,
> Raghu
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org <mailto:Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general <http://www.radiance-online.org/mailman/listinfo/radiance-general>
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160214/87b59d97/attachment.html>

From alireh at uw.edu  Sun Feb 14 23:59:05 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sun, 14 Feb 2016 23:59:05 -0800
Subject: [Radiance-general] Five-Phase Method: invalid results in daylight
	matrix
Message-ID: <CADjcrehpVe4hWDCN62eML1yE0vhHDcQY0LiAJ6=Q7y3ywHO0hw@mail.gmail.com>

Hello,

I have a question about the Example 2 in the five-phase method tutorial (
http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf
):

OS: Windows 7 (64-bit)
Command Line Environment: Git Bash

Command:

$ genklemsamp -c 1000 -vd 0 -1 0 objects/glazing_outside_pane.rad | \
rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins
-m sky_glow -fa \
model_daylight_matrix.oct > daylight_matrices/daylight_matrix.dmx

Issue: the recorded values in the generated daylight_matirx.dmx are all
equal to 0 (0.000000e+000)

I would appreciate if you could help me with possible causes of the invalid
results.

Thank you,
Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160214/2845ed07/attachment.html>

From kalyanam at rhrk.uni-kl.de  Tue Feb 16 07:11:34 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Tue, 16 Feb 2016 16:11:34 +0100
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
Message-ID: <6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>

Hi Rob,

Thanks for your reply. Could you elaborate on how to get irradiance image and convert that to illuminance using standard luminous efficacy.  I have tried using rpict as you said, but it turned out a radiance(luminance) image.
I executed the below command.

rpict -vf Views/Scene_3.vf -av .5 .5 .5 -i scene.oct | falsecolor | ximage

(Basically I generated radiance pictures (previously) directly with rad, I guess rad calls rpict internally. But how could we pass -i argument  to rpict in this case!! So i guess the above command might have some problem) 

I got false-color image with a contours of luminance.  

Any way I wanted Luminance and Illuminance in numerical values for corresponding to the pixels. Could you help me how to approach, or may be with an example. 

Best Regards,
Raghu

> On Feb 15, 2016, at 2:04 AM, Rob Guglielmetti <rob.guglielmetti at gmail.com> wrote:
> 
> There are two basic methods for calculating illuminance with Radiance. You can pass one or more points to rtrace, which will return a value(s) for that specific point(s); the other way is to pass in a view to rpict, which will return values for each pixel in the view. By default, both tools return radiance. If you want illuminance, you need to request irradiance instead of radiance, and then convert that output to illuminance using the standard luminous efficacy function. 
> 
> Specifically, it sounds like you want to know how to get illuminance from the specific image you attached to your question here. In this case, you'd need to re-render the image as an irradiance image instead of a radiance image, using the -i option to rpict. With that image, you could pass it through falsecolor, producing a falsecolor illuminance map or flood plot of the illuminance on all the (non-glazed) surfaces in the image. A second option pipeline to falsecolor can plot isocontours on the original image above. See the falsecolor manpage (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html <http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html>) for details.  
> 
> 
> 
> On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam <raghuram.kalyanam at bauing.uni-kl.de <mailto:raghuram.kalyanam at bauing.uni-kl.de>> wrote:
> 
> Hi Everyone,
> 
> I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results.
> 
> <scene_Scene_3.jpeg>
> 
> 
> Thanks & Regards,
> Raghu
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org <mailto:Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general <http://www.radiance-online.org/mailman/listinfo/radiance-general>
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160216/f1fdde49/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Feb 16 07:44:12 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 16 Feb 2016 15:44:12 +0000
Subject: [Radiance-general] Five-Phase Method: invalid results in
 daylight matrix
In-Reply-To: <CADjcrehpVe4hWDCN62eML1yE0vhHDcQY0LiAJ6=Q7y3ywHO0hw@mail.gmail.com>
References: <CADjcrehpVe4hWDCN62eML1yE0vhHDcQY0LiAJ6=Q7y3ywHO0hw@mail.gmail.com>
Message-ID: <D2E890B1.227D0%Robert.Guglielmetti@nrel.gov>

At first (quick) glance, my guess is that your window polygon is oriented backwards. Confirm the window normal faces out, toward the exterior environment and sky, by looking at the vertex order (right hand rule!).

On 2/15/16, 12:59 AM, "Alireza Hashemloo" <alireh at uw.edu<mailto:alireh at uw.edu>> wrote:

Hello,

I have a question about the Example 2 in the five-phase method tutorial (http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf):

OS: Windows 7 (64-bit)
Command Line Environment: Git Bash

Command:

$ genklemsamp -c 1000 -vd 0 -1 0 objects/glazing_outside_pane.rad | \
rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -fa \
model_daylight_matrix.oct > daylight_matrices/daylight_matrix.dmx

Issue: the recorded values in the generated daylight_matirx.dmx are all equal to 0 (0.000000e+000)

I would appreciate if you could help me with possible causes of the invalid results.

Thank you,
Alireza






From kalyanam at rhrk.uni-kl.de  Tue Feb 16 10:49:38 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Tue, 16 Feb 2016 19:49:38 +0100
Subject: [Radiance-general] 'There were some errors'- Radiance Installation
Message-ID: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>

Hi Everyone,

I am trying to install Radiance latest version 5.0.a.4 in a Cluster (I don't have root access). So i tried installing it in my home folder. The installation ended with 'There were some errors'. Checking the error log I have seen the following error.

cd ../libtiff ; make install
/bin/sh: line 0: cd: tiff: No such file or directory
/bin/sh: ./configure: No such file or directory
/bin/sh: line 6: cd: port: No such file or directory
make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
make[1]: *** No rule to make target `all'.
make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
/bin/sh: line 7: cd: ../libtiff: No such file or directory
make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
make[1]: *** No rule to make target `install'.
make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
make: *** [../lib/libtiff.a] Error 2

Is it because of lack of root access or something else? Could  anyone please help me  with doing a successful installation.

Best Regards,
Raghu

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160216/c0a115e9/attachment.html>

From gregoryjward at gmail.com  Tue Feb 16 11:35:28 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 16 Feb 2016 11:35:28 -0800
Subject: [Radiance-general] 'There were some errors'- Radiance
	Installation
In-Reply-To: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>
References: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>
Message-ID: <E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>

Hi Raghu,

You need to download and overlay the auxiliary files to get the src/px/tiff directory (among other things) from:

	http://www.radiance-online.org/download-install/radiance-source-code/un-official-head-version/index.html

Cheers,
-Greg


> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
> Subject: [Radiance-general] 'There were some errors'- Radiance Installation
> Date: February 16, 2016 10:49:38 AM PST
> To: Radiance general discussion <Radiance-general at radiance-online.org>
> Reply-To: Radiance general discussion <radiance-general at radiance-online.org>
> 
> Hi Everyone,
> 
> I am trying to install Radiance latest version 5.0.a.4 in a Cluster (I don't have root access). So i tried installing it in my home folder. The installation ended with 'There were some errors'. Checking the error log I have seen the following error.
> 
> cd ../libtiff ; make install
> /bin/sh: line 0: cd: tiff: No such file or directory
> /bin/sh: ./configure: No such file or directory
> /bin/sh: line 6: cd: port: No such file or directory
> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
> make[1]: *** No rule to make target `all'.
> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
> /bin/sh: line 7: cd: ../libtiff: No such file or directory
> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
> make[1]: *** No rule to make target `install'.
> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
> make: *** [../lib/libtiff.a] Error 2
> 
> Is it because of lack of root access or something else? Could  anyone please help me  with doing a successful installation.
> 
> Best Regards,
> Raghu
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160216/e3656d19/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Tue Feb 16 11:44:42 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 16 Feb 2016 19:44:42 +0000
Subject: [Radiance-general] 'There were some errors'- Radiance
 Installation
In-Reply-To: <E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>
References: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>
	<E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>
Message-ID: <D2E8C93A.2288C%Robert.Guglielmetti@nrel.gov>

I would also recommend getting the latest-latest version of the source code, either from the CVS or the NREL mirror here:

https://github.com/NREL/Radiance/releases/tag/5.0.a.8

Source code snapshot from just last week:
https://github.com/NREL/Radiance/archive/5.0.a.8.tar.gz

There is also a tarball of pre-compiled binaries for Linux (built on a 64-bit Ubuntu machine) up there, if that helps:
https://github.com/NREL/Radiance/releases/download/5.0.a.8/radiance-5.0.a.8-Linux.tar.gz


On 2/16/16, 12:35 PM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:

Hi Raghu,

You need to download and overlay the auxiliary files to get the src/px/tiff directory (among other things) from:

http://www.radiance-online.org/download-install/radiance-source-code/un-official-head-version/index.html

Cheers,
-Greg




From gregoryjward at gmail.com  Tue Feb 16 11:52:16 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 16 Feb 2016 11:52:16 -0800
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
	<6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
Message-ID: <C0225F1F-72E8-433D-B0A5-699B4D98DCD6@lmi.net>

Hi Raghu,

In the "rad" program, you may use the "render" variable to add the "-i" option needed for irradiance (illuminance) calculation.

-Greg

> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
> Subject: Re: [Radiance-general] Measuring Illuminance
> Date: February 16, 2016 7:11:34 AM PST
> 
> Hi Rob,
> 
> Thanks for your reply. Could you elaborate on how to get irradiance image and convert that to illuminance using standard luminous efficacy.  I have tried using rpict as you said, but it turned out a radiance(luminance) image.
> I executed the below command.
> 
> rpict -vf Views/Scene_3.vf -av .5 .5 .5 -i scene.oct | falsecolor | ximage
> 
> (Basically I generated radiance pictures (previously) directly with rad, I guess rad calls rpict internally. But how could we pass -i argument  to rpict in this case!! So i guess the above command might have some problem) 
> 
> I got false-color image with a contours of luminance.  
> 
> Any way I wanted Luminance and Illuminance in numerical values for corresponding to the pixels. Could you help me how to approach, or may be with an example. 
> 
> Best Regards,
> Raghu
> 
>> On Feb 15, 2016, at 2:04 AM, Rob Guglielmetti <rob.guglielmetti at gmail.com> wrote:
>> 
>> There are two basic methods for calculating illuminance with Radiance. You can pass one or more points to rtrace, which will return a value(s) for that specific point(s); the other way is to pass in a view to rpict, which will return values for each pixel in the view. By default, both tools return radiance. If you want illuminance, you need to request irradiance instead of radiance, and then convert that output to illuminance using the standard luminous efficacy function. 
>> 
>> Specifically, it sounds like you want to know how to get illuminance from the specific image you attached to your question here. In this case, you'd need to re-render the image as an irradiance image instead of a radiance image, using the -i option to rpict. With that image, you could pass it through falsecolor, producing a falsecolor illuminance map or flood plot of the illuminance on all the (non-glazed) surfaces in the image. A second option pipeline to falsecolor can plot isocontours on the original image above. See the falsecolor manpage (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html) for details.  
>> 
>> 
>> 
>> On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam <raghuram.kalyanam at bauing.uni-kl.de> wrote:
>> 
>> Hi Everyone,
>> 
>> I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results.
>> 
>> <scene_Scene_3.jpeg>
>> 
>> 
>> Thanks & Regards,
>> Raghu
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160216/7a8e034e/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Feb 16 11:56:04 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 16 Feb 2016 19:56:04 +0000
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
	<6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
Message-ID: <D2E8CA57.22896%Robert.Guglielmetti@nrel.gov>

(Looks like Greg & I are at the same spot in our inboxes)

>From the manpage for falsecolor:

"Falsecolor produces a false color picture for lighting analysis.  Input is a rendered Radiance picture. ...  The default multiplier is 179, which  converts  from  radiance or irradiance to luminance or illuminance, respectively.  A different multiplier can be given with -m to get daylight factors or whatever."

So in the case of falsecolor, you don't need to do anything by default to get the photometric values. =) You DO however need to supply the proper input images. Greg just replied with how to do that with 'rad'. #teamwork

On 2/16/16, 8:11 AM, "Raghuram Kalyanam" <kalyanam at rhrk.uni-kl.de<mailto:kalyanam at rhrk.uni-kl.de>> wrote:

Hi Rob,

Thanks for your reply. Could you elaborate on how to get irradiance image and convert that to illuminance using standard luminous efficacy.  I have tried using rpict as you said, but it turned out a radiance(luminance) image.
I executed the below command.

rpict -vf Views/Scene_3.vf -av .5 .5 .5 -i scene.oct | falsecolor | ximage

(Basically I generated radiance pictures (previously) directly with rad, I guess rad calls rpict internally. But how could we pass -i argument  to rpict in this case!! So i guess the above command might have some problem)

I got false-color image with a contours of luminance.

Any way I wanted Luminance and Illuminance in numerical values for corresponding to the pixels. Could you help me how to approach, or may be with an example.

Best Regards,
Raghu

On Feb 15, 2016, at 2:04 AM, Rob Guglielmetti <rob.guglielmetti at gmail.com<mailto:rob.guglielmetti at gmail.com>> wrote:

There are two basic methods for calculating illuminance with Radiance. You can pass one or more points to rtrace, which will return a value(s) for that specific point(s); the other way is to pass in a view to rpict, which will return values for each pixel in the view. By default, both tools return radiance. If you want illuminance, you need to request irradiance instead of radiance, and then convert that output to illuminance using the standard luminous efficacy function.

Specifically, it sounds like you want to know how to get illuminance from the specific image you attached to your question here. In this case, you'd need to re-render the image as an irradiance image instead of a radiance image, using the -i option to rpict. With that image, you could pass it through falsecolor, producing a falsecolor illuminance map or flood plot of the illuminance on all the (non-glazed) surfaces in the image. A second option pipeline to falsecolor can plot isocontours on the original image above. See the falsecolor manpage (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html) for details.



On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam <raghuram.kalyanam at bauing.uni-kl.de<mailto:raghuram.kalyanam at bauing.uni-kl.de>> wrote:

Hi Everyone,

I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results.

<scene_Scene_3.jpeg>


Thanks & Regards,
Raghu


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general



From kalyanam at rhrk.uni-kl.de  Tue Feb 16 15:21:41 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Wed, 17 Feb 2016 00:21:41 +0100
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <C0225F1F-72E8-433D-B0A5-699B4D98DCD6@lmi.net>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
	<6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
	<C0225F1F-72E8-433D-B0A5-699B4D98DCD6@lmi.net>
Message-ID: <DF5EF9FB-5BFD-468C-80FC-D0E5F0F17317@rhrk.uni-kl.de>

Hi Greg,

Please let me know how to use render here!! I tried 

rad scene.rif & render=-i
rad scene.rif & render=rpict -i
rad scene.rif & render='rpict -i'

Nothing worked. Sorry for my ignorance. It would be help full  if you could let me how to use that.

Is there anyway I could see the image in ximage and could know illuminance values for every pixel i hover or something similar.

Best Regards,
Raghu

> On Feb 16, 2016, at 8:52 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> 
> Hi Raghu,
> 
> In the "rad" program, you may use the "render" variable to add the "-i" option needed for irradiance (illuminance) calculation.
> 
> -Greg
> 
>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de <mailto:kalyanam at rhrk.uni-kl.de>>
>> Subject: Re: [Radiance-general] Measuring Illuminance
>> Date: February 16, 2016 7:11:34 AM PST
>> 
>> Hi Rob,
>> 
>> Thanks for your reply. Could you elaborate on how to get irradiance image and convert that to illuminance using standard luminous efficacy.  I have tried using rpict as you said, but it turned out a radiance(luminance) image.
>> I executed the below command.
>> 
>> rpict -vf Views/Scene_3.vf -av .5 .5 .5 -i scene.oct | falsecolor | ximage
>> 
>> (Basically I generated radiance pictures (previously) directly with rad, I guess rad calls rpict internally. But how could we pass -i argument  to rpict in this case!! So i guess the above command might have some problem) 
>> 
>> I got false-color image with a contours of luminance.  
>> 
>> Any way I wanted Luminance and Illuminance in numerical values for corresponding to the pixels. Could you help me how to approach, or may be with an example. 
>> 
>> Best Regards,
>> Raghu
>> 
>>> On Feb 15, 2016, at 2:04 AM, Rob Guglielmetti <rob.guglielmetti at gmail.com <mailto:rob.guglielmetti at gmail.com>> wrote:
>>> 
>>> There are two basic methods for calculating illuminance with Radiance. You can pass one or more points to rtrace, which will return a value(s) for that specific point(s); the other way is to pass in a view to rpict, which will return values for each pixel in the view. By default, both tools return radiance. If you want illuminance, you need to request irradiance instead of radiance, and then convert that output to illuminance using the standard luminous efficacy function. 
>>> 
>>> Specifically, it sounds like you want to know how to get illuminance from the specific image you attached to your question here. In this case, you'd need to re-render the image as an irradiance image instead of a radiance image, using the -i option to rpict. With that image, you could pass it through falsecolor, producing a falsecolor illuminance map or flood plot of the illuminance on all the (non-glazed) surfaces in the image. A second option pipeline to falsecolor can plot isocontours on the original image above. See the falsecolor manpage (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html <http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html>) for details.  
>>> 
>>> 
>>> 
>>> On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam <raghuram.kalyanam at bauing.uni-kl.de <mailto:raghuram.kalyanam at bauing.uni-kl.de>> wrote:
>>> 
>>> Hi Everyone,
>>> 
>>> I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results.
>>> 
>>> <scene_Scene_3.jpeg>
>>> 
>>> 
>>> Thanks & Regards,
>>> Raghu
>> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160217/f3087c88/attachment.html>

From gregoryjward at gmail.com  Tue Feb 16 15:31:52 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 16 Feb 2016 15:31:52 -0800
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <DF5EF9FB-5BFD-468C-80FC-D0E5F0F17317@rhrk.uni-kl.de>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
	<6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
	<C0225F1F-72E8-433D-B0A5-699B4D98DCD6@lmi.net>
	<DF5EF9FB-5BFD-468C-80FC-D0E5F0F17317@rhrk.uni-kl.de>
Message-ID: <BD33376D-C2A2-447E-BCB3-4A0DD38735D6@lmi.net>

Your ampersand is in the wrong place -- it needs to go at the end of the command.  The following should work:

	rad scene.rif "render=-i" &

The quotes aren't strictly necessary, but allow you to put spaces and multiple options into the render variable.

You can also add the render variable directly to your scene.rif file.

Cheers,
-Greg

> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
> Subject: Re: [Radiance-general] Measuring Illuminance
> Date: February 16, 2016 3:21:41 PM PST
> 
> Hi Greg,
> 
> Please let me know how to use render here!! I tried 
> 
> rad scene.rif & render=-i
> rad scene.rif & render=rpict -i
> rad scene.rif & render='rpict -i'
> 
> Nothing worked. Sorry for my ignorance. It would be help full  if you could let me how to use that.
> 
> Is there anyway I could see the image in ximage and could know illuminance values for every pixel i hover or something similar.
> 
> Best Regards,
> Raghu
> 
>> On Feb 16, 2016, at 8:52 PM, Greg Ward <gregoryjward at gmail.com> wrote:
>> 
>> Hi Raghu,
>> 
>> In the "rad" program, you may use the "render" variable to add the "-i" option needed for irradiance (illuminance) calculation.
>> 
>> -Greg
>> 
>>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
>>> Subject: Re: [Radiance-general] Measuring Illuminance
>>> Date: February 16, 2016 7:11:34 AM PST
>>> 
>>> Hi Rob,
>>> 
>>> Thanks for your reply. Could you elaborate on how to get irradiance image and convert that to illuminance using standard luminous efficacy.  I have tried using rpict as you said, but it turned out a radiance(luminance) image.
>>> I executed the below command.
>>> 
>>> rpict -vf Views/Scene_3.vf -av .5 .5 .5 -i scene.oct | falsecolor | ximage
>>> 
>>> (Basically I generated radiance pictures (previously) directly with rad, I guess rad calls rpict internally. But how could we pass -i argument  to rpict in this case!! So i guess the above command might have some problem) 
>>> 
>>> I got false-color image with a contours of luminance.  
>>> 
>>> Any way I wanted Luminance and Illuminance in numerical values for corresponding to the pixels. Could you help me how to approach, or may be with an example. 
>>> 
>>> Best Regards,
>>> Raghu
>>> 
>>>> On Feb 15, 2016, at 2:04 AM, Rob Guglielmetti <rob.guglielmetti at gmail.com> wrote:
>>>> 
>>>> There are two basic methods for calculating illuminance with Radiance. You can pass one or more points to rtrace, which will return a value(s) for that specific point(s); the other way is to pass in a view to rpict, which will return values for each pixel in the view. By default, both tools return radiance. If you want illuminance, you need to request irradiance instead of radiance, and then convert that output to illuminance using the standard luminous efficacy function. 
>>>> 
>>>> Specifically, it sounds like you want to know how to get illuminance from the specific image you attached to your question here. In this case, you'd need to re-render the image as an irradiance image instead of a radiance image, using the -i option to rpict. With that image, you could pass it through falsecolor, producing a falsecolor illuminance map or flood plot of the illuminance on all the (non-glazed) surfaces in the image. A second option pipeline to falsecolor can plot isocontours on the original image above. See the falsecolor manpage (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html) for details.  
>>>> 
>>>> 
>>>> 
>>>> On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam <raghuram.kalyanam at bauing.uni-kl.de> wrote:
>>>> 
>>>> Hi Everyone,
>>>> 
>>>> I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results.
>>>> 
>>>> <scene_Scene_3.jpeg>
>>>> 
>>>> 
>>>> Thanks & Regards,
>>>> Raghu
>>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160216/de000c47/attachment-0001.html>

From avillalba at mendoza-conicet.gob.ar  Tue Feb 16 06:07:01 2016
From: avillalba at mendoza-conicet.gob.ar (Ayelen Maria Villalba)
Date: Tue, 16 Feb 2016 11:07:01 -0300 (ART)
Subject: [Radiance-general] genBSDF error
In-Reply-To: <1310757909.67645.1455631012157.JavaMail.root@correo.mendoza-conicet.gob.ar>
Message-ID: <1086780075.67797.1455631620978.JavaMail.root@correo.mendoza-conicet.gob.ar>

Hello, I'm using genBSDF in Windows and I get the following error:
 "Could not wrap BSDFs data."

In the Radiance mailing list I saw that others have already inquired about this error (http://comments.gmane.org/gmane.comp.graphics.radiance.general/5234) and that the genBSDF script has been fixed. I wanted to know if I can have access to the fixed script.

Thank you very much, Ayel?n Villalba.

-- 
Dra. D.I. Ayel?n Mar?a Villalba 
Laboratorio de Ambiente Humano y Vivienda 
INCIHUSA - CCT-Mendoza - CONICET 
Av. Ruiz Leal s/n, Parque Gral. San Mart?n 
Mendoza - Argentina 
Tel 0054-261-5244322 




From rob.guglielmetti at gmail.com  Tue Feb 16 18:56:35 2016
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Tue, 16 Feb 2016 19:56:35 -0700
Subject: [Radiance-general] genBSDF error
In-Reply-To: <1086780075.67797.1455631620978.JavaMail.root@correo.mendoza-conicet.gob.ar>
References: <1086780075.67797.1455631620978.JavaMail.root@correo.mendoza-conicet.gob.ar>
Message-ID: <FEC8473A-3B6B-4632-93BB-18543BAA5035@gmail.com>

The latest installers on the NREL mirror include the updated script:

https://github.com/NREL/Radiance/releases/tag/5.0.a.8

You could also download the latest genBSDF.pl directly from this link:

https://github.com/NREL/Radiance/blob/combined/src/util/genBSDF.pl

Have fun!

- Rob



> On Feb 16, 2016, at 7:07 AM, Ayelen Maria Villalba <avillalba at mendoza-conicet.gob.ar> wrote:
> 
> Hello, I'm using genBSDF in Windows and I get the following error:
> "Could not wrap BSDFs data."
> 
> In the Radiance mailing list I saw that others have already inquired about this error (http://comments.gmane.org/gmane.comp.graphics.radiance.general/5234) and that the genBSDF script has been fixed. I wanted to know if I can have access to the fixed script.
> 
> Thank you very much, Ayel?n Villalba.
> 
> -- 
> Dra. D.I. Ayel?n Mar?a Villalba 
> Laboratorio de Ambiente Humano y Vivienda 
> INCIHUSA - CCT-Mendoza - CONICET 
> Av. Ruiz Leal s/n, Parque Gral. San Mart?n 
> Mendoza - Argentina 
> Tel 0054-261-5244322 
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From kalyanam at rhrk.uni-kl.de  Tue Feb 16 23:16:05 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Wed, 17 Feb 2016 08:16:05 +0100
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <BD33376D-C2A2-447E-BCB3-4A0DD38735D6@lmi.net>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
	<6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
	<C0225F1F-72E8-433D-B0A5-699B4D98DCD6@lmi.net>
	<DF5EF9FB-5BFD-468C-80FC-D0E5F0F17317@rhrk.uni-kl.de>
	<BD33376D-C2A2-447E-BCB3-4A0DD38735D6@lmi.net>
Message-ID: <C75205FA-1046-474A-9672-0F8DC4A62C86@rhrk.uni-kl.de>

Thanks Greg.

I have a weird problem, I tried to execute this earlier

rad scene.rif &			 it creates a process and then kills instantly.

where as 

rad -o x11 scene.rif  	works normal.

Any reason why this could happen. I am using a Macbook pro, can this occur because of lack of memory ??

Best Regards,
Raghu

> On Feb 17, 2016, at 12:31 AM, Greg Ward <gregoryjward at gmail.com> wrote:
> 
> Your ampersand is in the wrong place -- it needs to go at the end of the command.  The following should work:
> 
> 	rad scene.rif "render=-i" &
> 
> The quotes aren't strictly necessary, but allow you to put spaces and multiple options into the render variable.
> 
> You can also add the render variable directly to your scene.rif file.
> 
> Cheers,
> -Greg
> 
>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de <mailto:kalyanam at rhrk.uni-kl.de>>
>> Subject: Re: [Radiance-general] Measuring Illuminance
>> Date: February 16, 2016 3:21:41 PM PST
>> 
>> Hi Greg,
>> 
>> Please let me know how to use render here!! I tried 
>> 
>> rad scene.rif & render=-i
>> rad scene.rif & render=rpict -i
>> rad scene.rif & render='rpict -i'
>> 
>> Nothing worked. Sorry for my ignorance. It would be help full  if you could let me how to use that.
>> 
>> Is there anyway I could see the image in ximage and could know illuminance values for every pixel i hover or something similar.
>> 
>> Best Regards,
>> Raghu
>> 
>>> On Feb 16, 2016, at 8:52 PM, Greg Ward <gregoryjward at gmail.com <mailto:gregoryjward at gmail.com>> wrote:
>>> 
>>> Hi Raghu,
>>> 
>>> In the "rad" program, you may use the "render" variable to add the "-i" option needed for irradiance (illuminance) calculation.
>>> 
>>> -Greg
>>> 
>>>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de <mailto:kalyanam at rhrk.uni-kl.de>>
>>>> Subject: Re: [Radiance-general] Measuring Illuminance
>>>> Date: February 16, 2016 7:11:34 AM PST
>>>> 
>>>> Hi Rob,
>>>> 
>>>> Thanks for your reply. Could you elaborate on how to get irradiance image and convert that to illuminance using standard luminous efficacy.  I have tried using rpict as you said, but it turned out a radiance(luminance) image.
>>>> I executed the below command.
>>>> 
>>>> rpict -vf Views/Scene_3.vf -av .5 .5 .5 -i scene.oct | falsecolor | ximage
>>>> 
>>>> (Basically I generated radiance pictures (previously) directly with rad, I guess rad calls rpict internally. But how could we pass -i argument  to rpict in this case!! So i guess the above command might have some problem) 
>>>> 
>>>> I got false-color image with a contours of luminance.  
>>>> 
>>>> Any way I wanted Luminance and Illuminance in numerical values for corresponding to the pixels. Could you help me how to approach, or may be with an example. 
>>>> 
>>>> Best Regards,
>>>> Raghu
>>>> 
>>>>> On Feb 15, 2016, at 2:04 AM, Rob Guglielmetti <rob.guglielmetti at gmail.com <mailto:rob.guglielmetti at gmail.com>> wrote:
>>>>> 
>>>>> There are two basic methods for calculating illuminance with Radiance. You can pass one or more points to rtrace, which will return a value(s) for that specific point(s); the other way is to pass in a view to rpict, which will return values for each pixel in the view. By default, both tools return radiance. If you want illuminance, you need to request irradiance instead of radiance, and then convert that output to illuminance using the standard luminous efficacy function. 
>>>>> 
>>>>> Specifically, it sounds like you want to know how to get illuminance from the specific image you attached to your question here. In this case, you'd need to re-render the image as an irradiance image instead of a radiance image, using the -i option to rpict. With that image, you could pass it through falsecolor, producing a falsecolor illuminance map or flood plot of the illuminance on all the (non-glazed) surfaces in the image. A second option pipeline to falsecolor can plot isocontours on the original image above. See the falsecolor manpage (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html <http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html>) for details.  
>>>>> 
>>>>> 
>>>>> 
>>>>> On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam <raghuram.kalyanam at bauing.uni-kl.de <mailto:raghuram.kalyanam at bauing.uni-kl.de>> wrote:
>>>>> 
>>>>> Hi Everyone,
>>>>> 
>>>>> I would like to know which is the best way to measure illuminance at certain view points in the room (radiance generated picture)  below. Let me also know which tools gives what kinds of results.
>>>>> 
>>>>> <scene_Scene_3.jpeg>
>>>>> 
>>>>> 
>>>>> Thanks & Regards,
>>>>> Raghu
>>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org <mailto:Radiance-general at radiance-online.org>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general <http://www.radiance-online.org/mailman/listinfo/radiance-general>
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org <mailto:Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160217/d60f8717/attachment-0001.html>

From kalyanam at rhrk.uni-kl.de  Wed Feb 17 00:11:11 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Wed, 17 Feb 2016 09:11:11 +0100
Subject: [Radiance-general] 'There were some errors'- Radiance
	Installation
In-Reply-To: <E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>
References: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>
	<E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>
Message-ID: <84BEBE63-2EAA-480F-9339-995D40A57FF0@rhrk.uni-kl.de>

Hi Greg,

After Overlaying should I install once again or leave it. Actually I tried installing then it threw error related to changes in the build environment and failed once again. 

I am transforming a ESP-r model to Radiance model. All rad,mat & rif files are generated but when octree is made there are errors like 'undefined Modifier'. It seems the materials that are in rad file are not in mat. How could that be missing? Now I suspect there is something missing in my libraries. Where would be material related files in Radiance? Are those in Objects? 

Best Regards,
Raghu

> On Feb 16, 2016, at 8:35 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> 
> Hi Raghu,
> 
> You need to download and overlay the auxiliary files to get the src/px/tiff directory (among other things) from:
> 
> 	http://www.radiance-online.org/download-install/radiance-source-code/un-official-head-version/index.html <http://www.radiance-online.org/download-install/radiance-source-code/un-official-head-version/index.html>
> 
> Cheers,
> -Greg
> 
> 
>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de <mailto:kalyanam at rhrk.uni-kl.de>>
>> Subject: [Radiance-general] 'There were some errors'- Radiance Installation
>> Date: February 16, 2016 10:49:38 AM PST
>> To: Radiance general discussion <Radiance-general at radiance-online.org <mailto:Radiance-general at radiance-online.org>>
>> Reply-To: Radiance general discussion <radiance-general at radiance-online.org <mailto:radiance-general at radiance-online.org>>
>> 
>> Hi Everyone,
>> 
>> I am trying to install Radiance latest version 5.0.a.4 in a Cluster (I don't have root access). So i tried installing it in my home folder. The installation ended with 'There were some errors'. Checking the error log I have seen the following error.
>> 
>> cd ../libtiff ; make install
>> /bin/sh: line 0: cd: tiff: No such file or directory
>> /bin/sh: ./configure: No such file or directory
>> /bin/sh: line 6: cd: port: No such file or directory
>> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>> make[1]: *** No rule to make target `all'.
>> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>> /bin/sh: line 7: cd: ../libtiff: No such file or directory
>> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>> make[1]: *** No rule to make target `install'.
>> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>> make: *** [../lib/libtiff.a] Error 2
>> 
>> Is it because of lack of root access or something else? Could  anyone please help me  with doing a successful installation.
>> 
>> Best Regards,
>> Raghu
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org <mailto:Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160217/29c4f756/attachment.html>

From jacobs.axel at gmail.com  Wed Feb 17 01:30:57 2016
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Wed, 17 Feb 2016 09:30:57 +0000
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <C75205FA-1046-474A-9672-0F8DC4A62C86@rhrk.uni-kl.de>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
	<6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
	<C0225F1F-72E8-433D-B0A5-699B4D98DCD6@lmi.net>
	<DF5EF9FB-5BFD-468C-80FC-D0E5F0F17317@rhrk.uni-kl.de>
	<BD33376D-C2A2-447E-BCB3-4A0DD38735D6@lmi.net>
	<C75205FA-1046-474A-9672-0F8DC4A62C86@rhrk.uni-kl.de>
Message-ID: <CA+dqh60XGwqCMPY2D514SguN5j68jM4K=guPq5yqvfA7AO-oag@mail.gmail.com>

Raghu,

there is a short section on the use of the rad command in my Radiance
Tutorial (Section 6).
For ximage and illuminance readings, please see Chapter 5.5 in my
Radiance Cookbook.
Both documents are available on Jaloxa:
http://www.jaloxa.eu/resources/radiance/documentation/index.shtml

Regards

Axel

On 17 February 2016 at 07:16, Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de> wrote:
> Thanks Greg.
>
> I have a weird problem, I tried to execute this earlier
>
> rad scene.rif & it creates a process and then kills instantly.
>
> where as
>
> rad -o x11 scene.rif   works normal.
>
> Any reason why this could happen. I am using a Macbook pro, can this occur
> because of lack of memory ??
>
> Best Regards,
> Raghu
>
> On Feb 17, 2016, at 12:31 AM, Greg Ward <gregoryjward at gmail.com> wrote:
>
> Your ampersand is in the wrong place -- it needs to go at the end of the
> command.  The following should work:
>
> rad scene.rif "render=-i" &
>
> The quotes aren't strictly necessary, but allow you to put spaces and
> multiple options into the render variable.
>
> You can also add the render variable directly to your scene.rif file.
>
> Cheers,
> -Greg
>
> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
> Subject: Re: [Radiance-general] Measuring Illuminance
> Date: February 16, 2016 3:21:41 PM PST
>
> Hi Greg,
>
> Please let me know how to use render here!! I tried
>
> rad scene.rif & render=-i
> rad scene.rif & render=rpict -i
> rad scene.rif & render='rpict -i'
>
> Nothing worked. Sorry for my ignorance. It would be help full  if you could
> let me how to use that.
>
> Is there anyway I could see the image in ximage and could know illuminance
> values for every pixel i hover or something similar.
>
> Best Regards,
> Raghu
>
> On Feb 16, 2016, at 8:52 PM, Greg Ward <gregoryjward at gmail.com> wrote:
>
> Hi Raghu,
>
> In the "rad" program, you may use the "render" variable to add the "-i"
> option needed for irradiance (illuminance) calculation.
>
> -Greg
>
> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
> Subject: Re: [Radiance-general] Measuring Illuminance
> Date: February 16, 2016 7:11:34 AM PST
>
> Hi Rob,
>
> Thanks for your reply. Could you elaborate on how to get irradiance image
> and convert that to illuminance using standard luminous efficacy.  I have
> tried using rpict as you said, but it turned out a radiance(luminance)
> image.
> I executed the below command.
>
> rpict -vf Views/Scene_3.vf -av .5 .5 .5 -i scene.oct | falsecolor | ximage
>
> (Basically I generated radiance pictures (previously) directly with rad, I
> guess rad calls rpict internally. But how could we pass -i argument  to
> rpict in this case!! So i guess the above command might have some problem)
>
> I got false-color image with a contours of luminance.
>
> Any way I wanted Luminance and Illuminance in numerical values for
> corresponding to the pixels. Could you help me how to approach, or may be
> with an example.
>
> Best Regards,
> Raghu
>
> On Feb 15, 2016, at 2:04 AM, Rob Guglielmetti <rob.guglielmetti at gmail.com>
> wrote:
>
> There are two basic methods for calculating illuminance with Radiance. You
> can pass one or more points to rtrace, which will return a value(s) for that
> specific point(s); the other way is to pass in a view to rpict, which will
> return values for each pixel in the view. By default, both tools return
> radiance. If you want illuminance, you need to request irradiance instead of
> radiance, and then convert that output to illuminance using the standard
> luminous efficacy function.
>
> Specifically, it sounds like you want to know how to get illuminance from
> the specific image you attached to your question here. In this case, you'd
> need to re-render the image as an irradiance image instead of a radiance
> image, using the -i option to rpict. With that image, you could pass it
> through falsecolor, producing a falsecolor illuminance map or flood plot of
> the illuminance on all the (non-glazed) surfaces in the image. A second
> option pipeline to falsecolor can plot isocontours on the original image
> above. See the falsecolor manpage
> (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html) for details.
>
>
>
> On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam
> <raghuram.kalyanam at bauing.uni-kl.de> wrote:
>>
>>
>> Hi Everyone,
>>
>> I would like to know which is the best way to measure illuminance at
>> certain view points in the room (radiance generated picture)  below. Let me
>> also know which tools gives what kinds of results.
>>
>> <scene_Scene_3.jpeg>
>>
>>
>> Thanks & Regards,
>> Raghu
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>


From gregoryjward at gmail.com  Wed Feb 17 08:29:32 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 17 Feb 2016 08:29:32 -0800
Subject: [Radiance-general] 'There were some errors'- Radiance
	Installation
In-Reply-To: <84BEBE63-2EAA-480F-9339-995D40A57FF0@rhrk.uni-kl.de>
References: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>
	<E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>
	<84BEBE63-2EAA-480F-9339-995D40A57FF0@rhrk.uni-kl.de>
Message-ID: <43179F45-0D1D-4B6E-AA3C-18FD17BD89B6@lmi.net>

Hi Raghu,

Radiance doesn't come with standard materials.  I don't know what kind of environment the ESP-r modeler expects.  You'll have to ask them.

Regarding your issue with rad terminating immediately, this is because you did not remove your earlier output files.  Rad works like the "make" command, and assumes there is nothing to do if the targets are up to date.  Remove them and run it again.

Follow Axel's advice and educate yourself a bit more about Radiance.  Read the man pages carefully for the commands you are using.  Most can be found at <http://radsite.lbl.gov/radiance/whatis.html>

Cheers,
-Greg

> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
> Subject: Re: [Radiance-general] 'There were some errors'- Radiance Installation
> Date: February 17, 2016 12:11:11 AM PST
> 
> Hi Greg,
> 
> After Overlaying should I install once again or leave it. Actually I tried installing then it threw error related to changes in the build environment and failed once again. 
> 
> I am transforming a ESP-r model to Radiance model. All rad,mat & rif files are generated but when octree is made there are errors like 'undefined Modifier'. It seems the materials that are in rad file are not in mat. How could that be missing? Now I suspect there is something missing in my libraries. Where would be material related files in Radiance? Are those in Objects? 
> 
> Best Regards,
> Raghu
> 
>> On Feb 16, 2016, at 8:35 PM, Greg Ward <gregoryjward at gmail.com> wrote:
>> 
>> Hi Raghu,
>> 
>> You need to download and overlay the auxiliary files to get the src/px/tiff directory (among other things) from:
>> 
>> 	http://www.radiance-online.org/download-install/radiance-source-code/un-official-head-version/index.html
>> 
>> Cheers,
>> -Greg
>> 
>> 
>>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
>>> Subject: [Radiance-general] 'There were some errors'- Radiance Installation
>>> Date: February 16, 2016 10:49:38 AM PST
>>> To: Radiance general discussion <Radiance-general at radiance-online.org>
>>> Reply-To: Radiance general discussion <radiance-general at radiance-online.org>
>>> 
>>> Hi Everyone,
>>> 
>>> I am trying to install Radiance latest version 5.0.a.4 in a Cluster (I don't have root access). So i tried installing it in my home folder. The installation ended with 'There were some errors'. Checking the error log I have seen the following error.
>>> 
>>> cd ../libtiff ; make install
>>> /bin/sh: line 0: cd: tiff: No such file or directory
>>> /bin/sh: ./configure: No such file or directory
>>> /bin/sh: line 6: cd: port: No such file or directory
>>> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>>> make[1]: *** No rule to make target `all'.
>>> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>>> /bin/sh: line 7: cd: ../libtiff: No such file or directory
>>> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>>> make[1]: *** No rule to make target `install'.
>>> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>>> make: *** [../lib/libtiff.a] Error 2
>>> 
>>> Is it because of lack of root access or something else? Could  anyone please help me  with doing a successful installation.
>>> 
>>> Best Regards,
>>> Raghu
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160217/7f26815b/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Wed Feb 17 08:44:55 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 17 Feb 2016 16:44:55 +0000
Subject: [Radiance-general] 'There were some errors'- Radiance
 Installation
In-Reply-To: <43179F45-0D1D-4B6E-AA3C-18FD17BD89B6@lmi.net>
References: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>
	<E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>
	<84BEBE63-2EAA-480F-9339-995D40A57FF0@rhrk.uni-kl.de>
	<43179F45-0D1D-4B6E-AA3C-18FD17BD89B6@lmi.net>
Message-ID: <D2E9F084.228DF%Robert.Guglielmetti@nrel.gov>

Your materials issue may be simply that you are missing the "materials=" line in your rad file. That line is where you can list all the rad files that contain material descriptions. This assumes that the translator actually splits the material refs out to separate file(s). You may have some path issues here as well, like your RAYPATH variable may not be set, or it may not have the working directory ('.') in the path.

Pretty sure Axel's tutorials and others out there include details on these issues.

On 2/17/16, 9:29 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:

Hi Raghu,

Radiance doesn't come with standard materials.  I don't know what kind of environment the ESP-r modeler expects.  You'll have to ask them.

Regarding your issue with rad terminating immediately, this is because you did not remove your earlier output files.  Rad works like the "make" command, and assumes there is nothing to do if the targets are up to date.  Remove them and run it again.

Follow Axel's advice and educate yourself a bit more about Radiance.  Read the man pages carefully for the commands you are using.  Most can be found at <http://radsite.lbl.gov/radiance/whatis.html>

Cheers,
-Greg


From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de<mailto:kalyanam at rhrk.uni-kl.de>>

Subject: Re: [Radiance-general] 'There were some errors'- Radiance Installation

Date: February 17, 2016 12:11:11 AM PST


Hi Greg,

After Overlaying should I install once again or leave it. Actually I tried installing then it threw error related to changes in the build environment and failed once again.

I am transforming a ESP-r model to Radiance model. All rad,mat & rif files are generated but when octree is made there are errors like 'undefined Modifier'. It seems the materials that are in rad file are not in mat. How could that be missing? Now I suspect there is something missing in my libraries. Where would be material related files in Radiance? Are those in Objects?

Best Regards,
Raghu

On Feb 16, 2016, at 8:35 PM, Greg Ward <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:

Hi Raghu,

You need to download and overlay the auxiliary files to get the src/px/tiff directory (among other things) from:

http://www.radiance-online.org/download-install/radiance-source-code/un-official-head-version/index.html

Cheers,
-Greg


From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de<mailto:kalyanam at rhrk.uni-kl.de>>
Subject: [Radiance-general] 'There were some errors'- Radiance Installation
Date: February 16, 2016 10:49:38 AM PST
To: Radiance general discussion <Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>>
Reply-To: Radiance general discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>

Hi Everyone,

I am trying to install Radiance latest version 5.0.a.4 in a Cluster (I don't have root access). So i tried installing it in my home folder. The installation ended with 'There were some errors'. Checking the error log I have seen the following error.

cd ../libtiff ; make install
/bin/sh: line 0: cd: tiff: No such file or directory
/bin/sh: ./configure: No such file or directory
/bin/sh: line 6: cd: port: No such file or directory
make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
make[1]: *** No rule to make target `all'.
make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
/bin/sh: line 7: cd: ../libtiff: No such file or directory
make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
make[1]: *** No rule to make target `install'.
make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
make: *** [../lib/libtiff.a] Error 2

Is it because of lack of root access or something else? Could  anyone please help me  with doing a successful installation.

Best Regards,
Raghu



From rmfritz3 at gmail.com  Thu Feb 18 18:43:10 2016
From: rmfritz3 at gmail.com (Randolph Fritz)
Date: Thu, 18 Feb 2016 18:43:10 -0800
Subject: [Radiance-general] *Rendering with Radiance* availability
Message-ID: <7C69FB57-ED62-4C13-AB8D-C8A778DDCB7E@gmail.com>

This is a reminder that the basic reference *Rendering with Radiance* is still available, both from me in softcover for $35 + shipping and handling and in print-on-demand hardcover from Chas Ehrlich for $80 on Amazon. I also have four misprints left that I'll ship anywhere in the USA for $12, total.

The Amazon hardcovers are the second printing. They are print-on-demand books and (Chas tells me) the cover looks a bit rough They are available for US$80 + shipping at:
  http://www.amazon.com/Greg-Ward-Larson-Rendering-Radiance/dp/B00SB6HKNK
(don't even worry about the over-priced ones that Amazon lists; the pricing seems to be the result of some weird Amazon thing.)

My softcovers are the third printing and contain some additional corrections to the mathematics. They are available for US$35 + shipping through my web site (or just write me) at:
  http://www.panix.com/~randolph/book/

Truth in marketing: there will eventually be a cheap or free PDF version of the book, but don?t hold your breath.  Amazon?s shipping prices outside of the USA may be better than mine . . . or not, I really don?t know.
-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com



From rmfritz3 at gmail.com  Thu Feb 18 18:46:27 2016
From: rmfritz3 at gmail.com (Randolph Fritz)
Date: Thu, 18 Feb 2016 18:46:27 -0800
Subject: [Radiance-general] *Rendering with Radiance* misprints available,
	CHEAP in the USA
Message-ID: <A9EAA94C-8579-4E77-A0B6-B3843A66E394@gmail.com>

I have four of these softcovers left and I?m selling them as remainders.  You can learn how to use the software from them, but the printer left out the Greek letters in these (ouch!) so the mathematics is trashed.  They are marked ?misprint? all over.  I?ll copies anywhere in the USA by media mail for $12; if you?re outside of the USA, shipping prices is ridiculous, so spring for a good copy.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com



From kalyanam at rhrk.uni-kl.de  Fri Feb 19 03:06:07 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Fri, 19 Feb 2016 12:06:07 +0100
Subject: [Radiance-general] Measuring Illuminance
In-Reply-To: <CA+dqh60XGwqCMPY2D514SguN5j68jM4K=guPq5yqvfA7AO-oag@mail.gmail.com>
References: <EBC07A26-350D-40D2-914C-21EB71628B79@bauing.uni-kl.de>
	<CAEkFE9iwncaiMyd0qyH+9hJfpYTc24W_+kszCW5TgrLTtOrnUw@mail.gmail.com>
	<6F0680C7-AE07-4FC5-9705-6A96BDC073F1@rhrk.uni-kl.de>
	<C0225F1F-72E8-433D-B0A5-699B4D98DCD6@lmi.net>
	<DF5EF9FB-5BFD-468C-80FC-D0E5F0F17317@rhrk.uni-kl.de>
	<BD33376D-C2A2-447E-BCB3-4A0DD38735D6@lmi.net>
	<C75205FA-1046-474A-9672-0F8DC4A62C86@rhrk.uni-kl.de>
	<CA+dqh60XGwqCMPY2D514SguN5j68jM4K=guPq5yqvfA7AO-oag@mail.gmail.com>
Message-ID: <7F1CBBFD-A30C-4D56-9E27-89B579C1CCD9@rhrk.uni-kl.de>

Thanks Axel for the info, I will go through them and will get back , if I have any questions.
  
Best Regards,
Raghu

> On Feb 17, 2016, at 10:30 AM, Axel Jacobs <jacobs.axel at gmail.com> wrote:
> 
> Raghu,
> 
> there is a short section on the use of the rad command in my Radiance
> Tutorial (Section 6).
> For ximage and illuminance readings, please see Chapter 5.5 in my
> Radiance Cookbook.
> Both documents are available on Jaloxa:
> http://www.jaloxa.eu/resources/radiance/documentation/index.shtml
> 
> Regards
> 
> Axel
> 
> On 17 February 2016 at 07:16, Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de> wrote:
>> Thanks Greg.
>> 
>> I have a weird problem, I tried to execute this earlier
>> 
>> rad scene.rif & it creates a process and then kills instantly.
>> 
>> where as
>> 
>> rad -o x11 scene.rif   works normal.
>> 
>> Any reason why this could happen. I am using a Macbook pro, can this occur
>> because of lack of memory ??
>> 
>> Best Regards,
>> Raghu
>> 
>> On Feb 17, 2016, at 12:31 AM, Greg Ward <gregoryjward at gmail.com> wrote:
>> 
>> Your ampersand is in the wrong place -- it needs to go at the end of the
>> command.  The following should work:
>> 
>> rad scene.rif "render=-i" &
>> 
>> The quotes aren't strictly necessary, but allow you to put spaces and
>> multiple options into the render variable.
>> 
>> You can also add the render variable directly to your scene.rif file.
>> 
>> Cheers,
>> -Greg
>> 
>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
>> Subject: Re: [Radiance-general] Measuring Illuminance
>> Date: February 16, 2016 3:21:41 PM PST
>> 
>> Hi Greg,
>> 
>> Please let me know how to use render here!! I tried
>> 
>> rad scene.rif & render=-i
>> rad scene.rif & render=rpict -i
>> rad scene.rif & render='rpict -i'
>> 
>> Nothing worked. Sorry for my ignorance. It would be help full  if you could
>> let me how to use that.
>> 
>> Is there anyway I could see the image in ximage and could know illuminance
>> values for every pixel i hover or something similar.
>> 
>> Best Regards,
>> Raghu
>> 
>> On Feb 16, 2016, at 8:52 PM, Greg Ward <gregoryjward at gmail.com> wrote:
>> 
>> Hi Raghu,
>> 
>> In the "rad" program, you may use the "render" variable to add the "-i"
>> option needed for irradiance (illuminance) calculation.
>> 
>> -Greg
>> 
>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de>
>> Subject: Re: [Radiance-general] Measuring Illuminance
>> Date: February 16, 2016 7:11:34 AM PST
>> 
>> Hi Rob,
>> 
>> Thanks for your reply. Could you elaborate on how to get irradiance image
>> and convert that to illuminance using standard luminous efficacy.  I have
>> tried using rpict as you said, but it turned out a radiance(luminance)
>> image.
>> I executed the below command.
>> 
>> rpict -vf Views/Scene_3.vf -av .5 .5 .5 -i scene.oct | falsecolor | ximage
>> 
>> (Basically I generated radiance pictures (previously) directly with rad, I
>> guess rad calls rpict internally. But how could we pass -i argument  to
>> rpict in this case!! So i guess the above command might have some problem)
>> 
>> I got false-color image with a contours of luminance.
>> 
>> Any way I wanted Luminance and Illuminance in numerical values for
>> corresponding to the pixels. Could you help me how to approach, or may be
>> with an example.
>> 
>> Best Regards,
>> Raghu
>> 
>> On Feb 15, 2016, at 2:04 AM, Rob Guglielmetti <rob.guglielmetti at gmail.com>
>> wrote:
>> 
>> There are two basic methods for calculating illuminance with Radiance. You
>> can pass one or more points to rtrace, which will return a value(s) for that
>> specific point(s); the other way is to pass in a view to rpict, which will
>> return values for each pixel in the view. By default, both tools return
>> radiance. If you want illuminance, you need to request irradiance instead of
>> radiance, and then convert that output to illuminance using the standard
>> luminous efficacy function.
>> 
>> Specifically, it sounds like you want to know how to get illuminance from
>> the specific image you attached to your question here. In this case, you'd
>> need to re-render the image as an irradiance image instead of a radiance
>> image, using the -i option to rpict. With that image, you could pass it
>> through falsecolor, producing a falsecolor illuminance map or flood plot of
>> the illuminance on all the (non-glazed) surfaces in the image. A second
>> option pipeline to falsecolor can plot isocontours on the original image
>> above. See the falsecolor manpage
>> (http://radsite.lbl.gov/radiance/man_html/falsecolor.1.html) for details.
>> 
>> 
>> 
>> On Fri, Feb 12, 2016 at 7:02 AM, raghuram kalyanam
>> <raghuram.kalyanam at bauing.uni-kl.de> wrote:
>>> 
>>> 
>>> Hi Everyone,
>>> 
>>> I would like to know which is the best way to measure illuminance at
>>> certain view points in the room (radiance generated picture)  below. Let me
>>> also know which tools gives what kinds of results.
>>> 
>>> <scene_Scene_3.jpeg>
>>> 
>>> 
>>> Thanks & Regards,
>>> Raghu
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From kalyanam at rhrk.uni-kl.de  Fri Feb 19 03:07:04 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Fri, 19 Feb 2016 12:07:04 +0100
Subject: [Radiance-general] 'There were some errors'- Radiance
	Installation
In-Reply-To: <7D6A879C-E5A0-4D73-A2F1-5C3175E63316@bauing.uni-kl.de>
References: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>
	<E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>
	<84BEBE63-2EAA-480F-9339-995D40A57FF0@rhrk.uni-kl.de>
	<43179F45-0D1D-4B6E-AA3C-18FD17BD89B6@lmi.net>
	<D2E9F084.228DF%Robert.Guglielmetti@nrel.gov>
	<7D6A879C-E5A0-4D73-A2F1-5C3175E63316@bauing.uni-kl.de>
Message-ID: <595F73DA-B9FB-4FFF-988E-BD62B64E6FFE@rhrk.uni-kl.de>


> Thanks Rob and Greg, Both issues were solved now. Greg was right, Removing the old files worked for me. Regarding materials issue, ESP-r has a separate databases(for materials) which are to be loaded(if they are custom), which are used by e2r tool(in ESP-r) to transform to Radiance based model.Those were not loaded earlier. 
> Now I will go through Axels tutorial for Luminance & Illuminance  calculations. Thanks once again for quick & prompt response.
> 
> Best Regards,
> Raghu
> 
>> On Feb 17, 2016, at 5:44 PM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
>> 
>> Your materials issue may be simply that you are missing the "materials=" line in your rad file. That line is where you can list all the rad files that contain material descriptions. This assumes that the translator actually splits the material refs out to separate file(s). You may have some path issues here as well, like your RAYPATH variable may not be set, or it may not have the working directory ('.') in the path.
>> 
>> Pretty sure Axel's tutorials and others out there include details on these issues.
>> 
>> On 2/17/16, 9:29 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>> 
>> Hi Raghu,
>> 
>> Radiance doesn't come with standard materials.  I don't know what kind of environment the ESP-r modeler expects.  You'll have to ask them.
>> 
>> Regarding your issue with rad terminating immediately, this is because you did not remove your earlier output files.  Rad works like the "make" command, and assumes there is nothing to do if the targets are up to date.  Remove them and run it again.
>> 
>> Follow Axel's advice and educate yourself a bit more about Radiance.  Read the man pages carefully for the commands you are using.  Most can be found at <http://radsite.lbl.gov/radiance/whatis.html>
>> 
>> Cheers,
>> -Greg
>> 
>> 
>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de<mailto:kalyanam at rhrk.uni-kl.de>>
>> 
>> Subject: Re: [Radiance-general] 'There were some errors'- Radiance Installation
>> 
>> Date: February 17, 2016 12:11:11 AM PST
>> 
>> 
>> Hi Greg,
>> 
>> After Overlaying should I install once again or leave it. Actually I tried installing then it threw error related to changes in the build environment and failed once again.
>> 
>> I am transforming a ESP-r model to Radiance model. All rad,mat & rif files are generated but when octree is made there are errors like 'undefined Modifier'. It seems the materials that are in rad file are not in mat. How could that be missing? Now I suspect there is something missing in my libraries. Where would be material related files in Radiance? Are those in Objects?
>> 
>> Best Regards,
>> Raghu
>> 
>> On Feb 16, 2016, at 8:35 PM, Greg Ward <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>> 
>> Hi Raghu,
>> 
>> You need to download and overlay the auxiliary files to get the src/px/tiff directory (among other things) from:
>> 
>> http://www.radiance-online.org/download-install/radiance-source-code/un-official-head-version/index.html
>> 
>> Cheers,
>> -Greg
>> 
>> 
>> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de<mailto:kalyanam at rhrk.uni-kl.de>>
>> Subject: [Radiance-general] 'There were some errors'- Radiance Installation
>> Date: February 16, 2016 10:49:38 AM PST
>> To: Radiance general discussion <Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>>
>> Reply-To: Radiance general discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
>> 
>> Hi Everyone,
>> 
>> I am trying to install Radiance latest version 5.0.a.4 in a Cluster (I don't have root access). So i tried installing it in my home folder. The installation ended with 'There were some errors'. Checking the error log I have seen the following error.
>> 
>> cd ../libtiff ; make install
>> /bin/sh: line 0: cd: tiff: No such file or directory
>> /bin/sh: ./configure: No such file or directory
>> /bin/sh: line 6: cd: port: No such file or directory
>> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>> make[1]: *** No rule to make target `all'.
>> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>> /bin/sh: line 7: cd: ../libtiff: No such file or directory
>> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>> make[1]: *** No rule to make target `install'.
>> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
>> make: *** [../lib/libtiff.a] Error 2
>> 
>> Is it because of lack of root access or something else? Could  anyone please help me  with doing a successful installation.
>> 
>> Best Regards,
>> Raghu
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 



From raghuram.kalyanam at bauing.uni-kl.de  Fri Feb 19 03:04:08 2016
From: raghuram.kalyanam at bauing.uni-kl.de (raghuram kalyanam)
Date: Fri, 19 Feb 2016 12:04:08 +0100
Subject: [Radiance-general] 'There were some errors'- Radiance
	Installation
In-Reply-To: <D2E9F084.228DF%Robert.Guglielmetti@nrel.gov>
References: <1BCA1E5E-10CD-4656-A2CC-292347162EF3@rhrk.uni-kl.de>
	<E168AF60-DF66-4FEE-B7E8-39CB4714EC74@lmi.net>
	<84BEBE63-2EAA-480F-9339-995D40A57FF0@rhrk.uni-kl.de>
	<43179F45-0D1D-4B6E-AA3C-18FD17BD89B6@lmi.net>
	<D2E9F084.228DF%Robert.Guglielmetti@nrel.gov>
Message-ID: <7D6A879C-E5A0-4D73-A2F1-5C3175E63316@bauing.uni-kl.de>

Thanks Rob and Greg, Both issues were solved now. Greg was right, Removing the old files worked for me. Regarding materials issue, ESP-r has a separate databases(for materials) which are to be loaded(if they are custom), which are used by e2r tool(in ESP-r) to transform to Radiance based model.Those were not loaded earlier. 
Now I will go through Axels tutorial for Luminance & Illuminance  calculations. Thanks once again for quick & prompt response.
 
Best Regards,
Raghu

> On Feb 17, 2016, at 5:44 PM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
> 
> Your materials issue may be simply that you are missing the "materials=" line in your rad file. That line is where you can list all the rad files that contain material descriptions. This assumes that the translator actually splits the material refs out to separate file(s). You may have some path issues here as well, like your RAYPATH variable may not be set, or it may not have the working directory ('.') in the path.
> 
> Pretty sure Axel's tutorials and others out there include details on these issues.
> 
> On 2/17/16, 9:29 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
> 
> Hi Raghu,
> 
> Radiance doesn't come with standard materials.  I don't know what kind of environment the ESP-r modeler expects.  You'll have to ask them.
> 
> Regarding your issue with rad terminating immediately, this is because you did not remove your earlier output files.  Rad works like the "make" command, and assumes there is nothing to do if the targets are up to date.  Remove them and run it again.
> 
> Follow Axel's advice and educate yourself a bit more about Radiance.  Read the man pages carefully for the commands you are using.  Most can be found at <http://radsite.lbl.gov/radiance/whatis.html>
> 
> Cheers,
> -Greg
> 
> 
> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de<mailto:kalyanam at rhrk.uni-kl.de>>
> 
> Subject: Re: [Radiance-general] 'There were some errors'- Radiance Installation
> 
> Date: February 17, 2016 12:11:11 AM PST
> 
> 
> Hi Greg,
> 
> After Overlaying should I install once again or leave it. Actually I tried installing then it threw error related to changes in the build environment and failed once again.
> 
> I am transforming a ESP-r model to Radiance model. All rad,mat & rif files are generated but when octree is made there are errors like 'undefined Modifier'. It seems the materials that are in rad file are not in mat. How could that be missing? Now I suspect there is something missing in my libraries. Where would be material related files in Radiance? Are those in Objects?
> 
> Best Regards,
> Raghu
> 
> On Feb 16, 2016, at 8:35 PM, Greg Ward <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
> 
> Hi Raghu,
> 
> You need to download and overlay the auxiliary files to get the src/px/tiff directory (among other things) from:
> 
> http://www.radiance-online.org/download-install/radiance-source-code/un-official-head-version/index.html
> 
> Cheers,
> -Greg
> 
> 
> From: Raghuram Kalyanam <kalyanam at rhrk.uni-kl.de<mailto:kalyanam at rhrk.uni-kl.de>>
> Subject: [Radiance-general] 'There were some errors'- Radiance Installation
> Date: February 16, 2016 10:49:38 AM PST
> To: Radiance general discussion <Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>>
> Reply-To: Radiance general discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
> 
> Hi Everyone,
> 
> I am trying to install Radiance latest version 5.0.a.4 in a Cluster (I don't have root access). So i tried installing it in my home folder. The installation ended with 'There were some errors'. Checking the error log I have seen the following error.
> 
> cd ../libtiff ; make install
> /bin/sh: line 0: cd: tiff: No such file or directory
> /bin/sh: ./configure: No such file or directory
> /bin/sh: line 6: cd: port: No such file or directory
> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
> make[1]: *** No rule to make target `all'.
> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
> /bin/sh: line 7: cd: ../libtiff: No such file or directory
> make[1]: Entering directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
> make[1]: *** No rule to make target `install'.
> make[1]: Leaving directory `/software/users/FMTGA/Radiance-5.0.a.4/src/px'
> make: *** [../lib/libtiff.a] Error 2
> 
> Is it because of lack of root access or something else? Could  anyone please help me  with doing a successful installation.
> 
> Best Regards,
> Raghu
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From alireh at uw.edu  Sat Feb 20 22:35:52 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sat, 20 Feb 2016 22:35:52 -0800
Subject: [Radiance-general] Five-phase Method Tutorial: all-black models in
 the Daylight Matrix and the Direct Sun Coefficient Matrix
Message-ID: <CADjcrejxOMo5NNDEWSvs7rkcgGmKck5DYPGgLLVujSz8m9D4hw@mail.gmail.com>

Hello,

I have two set of questions regarding the Direct Daylight Matrix and Direct
Sun Coefficient Matrix calculations in the Five-phase method tutorial  (
http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf)
that I would appreciate if you could help me with:

OS: Windows 7 (64-bit)
Radinace: 5.0.a.8
Command Line Environment: Git Bash


1- Direct Daylight Matrix and the all-black model:

the all-black model for Direct Daylight Matrix is generated by the
following command:


Command:

$ xform -m black objects/testroom_Swall.rad objects/testroom.rad
objects/ground.rad \
objects/venetianblind.rad | oconv materials/testroom.mat -
objects/viewmtxsurf.rad \
objects/daymtxsurf.rad skies/sky_white.rad > octs/model_allblack.oct


Description:

The "viewmtxsurf.rad" file which contains the definition for the view
polygons (window glazing pane at the interior side) assigned with a glow
modifier, is exempted from the 'xform' call and it is passed to the 'oconv'
with a hyphen: "- objects/viewmtxsurf.rad"


Questions:

- If Radiance is only going to sample random points within the geometric
outline of the daylight polygons (window glazing pane at the exterior side)
to find the sky patch contributions to the Klems' patches, why are the
"viewmtxsurf.rad" and the "venetianblind.rad" (which are both at the
interior side) even passed to the 'oconv' to be part of the
'model_allblack.oct' file?

- What does the hyphen "-" before 'objcets/viewmtxsurf.rad' do in this
procedure? (I have checked the 'oconv' command  description but I could not
understand the given explanation for the hyphen)




2- Direct Sun Coefficient Matrix: Illuminance Calculations Vs. Rendering

In the tutorial, the Example 1 describes the application of five-phase
method for illuminance calculations and the Example 2 describes the method
for renderings (luminance maps). There are obviously, overlaps between the
two examples. With regards to the development of the Direct Sun Coefficient
Matrix for illuminance calculations (Example 1), a 'model_suns.oct' file is
generated as follows:


Command (generating the 'model_suns.oct' file):

$ xform -m black objects/testroom_Swall.rad objects/testroom.rad
objects/ground.rad \
| oconv materials/testroom.mat - objects/glazing.rad
objects/venetianblind.rad \
objects/glazing_bsdf.rad skies/suns.rad > octs/model_suns.oct


On the other hand, the Example 2 for renderings uses two separate octree
files to generate the Direct Sun Coefficient Matrix: 'model_suns.oct' and
'model_nosuns.oct'


Command (generating the 'model_nosuns.oct' file):

$ xform -m black objects/testroom_Swall.rad objects/testroom.rad
objects/ground.rad | \
oconv materials/testroom.mat - objects/venetianblind.rad >
octs/model_nosuns.oct


Questions:

- Why is the 'venetianblind.rad' passed to the 'oconv' call in the command
generating 'model_suns.oct' without a hyphen "-", whereas the
'venetianblind.rad' is passed to the 'oconv' call in the command for
generating 'model_nosuns.oct' with a hyphen?
- Why is the 'glazing.rad' (which is an identical polygon definition to
'daymtxsurf.rad' with a glass modifier) is included in the 'model_suns.oct'
file but it is excluded from the 'model_nosuns.oct' file?
- Unlike the 'model_allblack.oct' for Direct Daylight Matrix, why is the
'venetianblind.rad' not assigned a 'black' modifier in the Direct Sun
Coefficient Matrix calculations ?


Thank you in advance for your assistance,

Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160220/b195682f/attachment.html>

From rmfritz3 at gmail.com  Mon Feb 22 15:05:20 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 22 Feb 2016 15:05:20 -0800
Subject: [Radiance-general] EPW file format?
Message-ID: <CANeAMo+_9EHEYgiySpxMkOQJg84jQMt=MKUCKfLU40bk06uJkA@mail.gmail.com>

Anyone have an official description of this, now that the old DoE site is
gone?
-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160222/f6fabec9/attachment.html>

From sarith at psu.edu  Mon Feb 22 15:42:55 2016
From: sarith at psu.edu (Sarith Subramaniam)
Date: Mon, 22 Feb 2016 18:42:55 -0500
Subject: [Radiance-general] EPW file format?
In-Reply-To: <CANeAMo+_9EHEYgiySpxMkOQJg84jQMt=MKUCKfLU40bk06uJkA@mail.gmail.com>
References: <CANeAMo+_9EHEYgiySpxMkOQJg84jQMt=MKUCKfLU40bk06uJkA@mail.gmail.com>
Message-ID: <004401d16dca$c177cb90$446762b0$@psu.edu>

Hi Randolph,

 

 

You will find a description of the EPW file format in this document (Pages 35-52): https://energyplus.net/sites/default/files/pdfs_v8.3.0/AuxiliaryPrograms.pdf

 

 

Sarith

 

From: Randolph M. Fritz [mailto:rmfritz3 at gmail.com] 
Sent: Monday, February 22, 2016 6:05 PM
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: [Radiance-general] EPW file format?

 

Anyone have an official description of this, now that the old DoE site is gone?


-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com <mailto:rmfritz3 at gmail.com> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160222/e7ac631a/attachment.html>

From rmfritz3 at gmail.com  Mon Feb 22 16:14:33 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 22 Feb 2016 16:14:33 -0800
Subject: [Radiance-general] EPW file format?
In-Reply-To: <004401d16dca$c177cb90$446762b0$@psu.edu>
References: <CANeAMo+_9EHEYgiySpxMkOQJg84jQMt=MKUCKfLU40bk06uJkA@mail.gmail.com>
	<004401d16dca$c177cb90$446762b0$@psu.edu>
Message-ID: <CANeAMo++Qp9aX0ZYVuWvavJgqXVLE22JU3i=uZTOFhNJ-9cq2Q@mail.gmail.com>

Thank you! I'm archiving that; teh Google can't even find it.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Mon, Feb 22, 2016 at 3:42 PM, Sarith Subramaniam <sarith at psu.edu> wrote:

> Hi Randolph,
>
>
>
>
>
> You will find a description of the EPW file format in this document (Pages
> 35-52):
> https://energyplus.net/sites/default/files/pdfs_v8.3.0/AuxiliaryPrograms.pdf
>
>
>
>
>
> Sarith
>
>
>
> *From:* Randolph M. Fritz [mailto:rmfritz3 at gmail.com]
> *Sent:* Monday, February 22, 2016 6:05 PM
> *To:* Radiance general discussion <radiance-general at radiance-online.org>
> *Subject:* [Radiance-general] EPW file format?
>
>
>
> Anyone have an official description of this, now that the old DoE site is
> gone?
>
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160222/38a90ad0/attachment.html>

From giorgio.butturini at gmail.com  Tue Feb 23 02:38:39 2016
From: giorgio.butturini at gmail.com (Giorgio Butturini)
Date: Tue, 23 Feb 2016 11:38:39 +0100
Subject: [Radiance-general] FIRST ANNOUNCEMENT - 15TH ANNUAL INTERNATIONAL
	RADIANCE WORKSHOP
Message-ID: <000001d16e26$5c1e7e90$145b7bb0$@gmail.com>

Dear Radiance Users

Manens-Tifs, in collaboration with EURAC Research, is pleased to host the
15th Annual International Radiance Workshop from Monday, August 29th to
Wednesday, August 31th  2016 at Manens-Tifs headquarters, located in Padua
(Italy). 

With a long tradition of gathering academics, consultants and anyone
interested in lighting related subjects using Radiance software, this event
is a great opportunity to learn and exchanging ideas. 

Attendees are invited to share examples of work they have performed using
Radiance, or that is in progress, in a prepared 30-minutes presentation.
Come to share your knowledge and/or learn about the latest Radiance
features, developments, and opportunities to apply Radiance in your
professional practice. Connect with enthusiasts from around the world who
apply Radiance in research,  lighting design, daylighting, animation,
simulation, and rendering activities.

If you are interested in presenting your work, which is highly encouraged,
please upload a short abstract (300 words or less). 

 

Separate proposals from a single presenter on more than one topic or project
are acceptable.

Presenters will receive a $50 discount on their registration fee. Students
are entitled to a 50% discount. Details on registration and fees will be
shortly available.

Presentations will be made available after the workshop on the web.

 

Online workshop registration as well as the abstract submission will open
shortly.

 

HOW TO GET TO MANENS-TIFS HEADQUARTERS IN PADOVA

Manens-Tifs is located in  industrial area of Padua ( see:
<https://goo.gl/maps/vARd1SKhn1U2> https://goo.gl/maps/vARd1SKhn1U2 ) at
about 8 kilometers from downtown Padua and the main railway station.
Manens-Tifs is connected to downtown by public bus line n.7 (departing in
front of main train station), however a private shuttle bus to and from
Padua will be organized for those staying in city center  hotels

HOW TO REACH PADUA

- By Plane: Padua is located near to International Marco Polo airport in
Venice (43 km), and Sant'Angelo airport in Treviso (50 km). Different public
transportation services are available. A shuttle service is also available
for attendees travelling to Padua from Marco Polo airport in Venice or Sant
Angelo airport in Treviso. For availability, prices and reservations, please
visit  <http://www.airservicepadova.it> http://www.airservicepadova.it.

- By Train: Padua is located on the main railway network and there are many
high speed trains connecting to Venice, Verona, Milano, Bologna, and other
important cities.

- By Car: Attendees travelling from Milan or Venice on the A4 motorway must
follow directions to Bologna and exit at "Padova Zona Industriale",
Manens-Tifs is located at about 400 m on your left. 

 

 

Furher information on recommended hotels and special rates will be shortly
available

 

We look forward to your participation and attendance at this event.

 

Sincerely,

Giorgio Butturini and Roberto Zecchin, Manens-Tifs

Giuseppe De Michele and Luca Baglivo, Eurac

 

For more information please contact us at following email:
2016RadianceWS at manens-tifs.it 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160223/2dd1fbab/attachment-0001.html>

From E.Brembilla at lboro.ac.uk  Tue Feb 23 12:12:28 2016
From: E.Brembilla at lboro.ac.uk (Eleonora Brembilla)
Date: Tue, 23 Feb 2016 20:12:28 +0000
Subject: [Radiance-general] Online survey on CBDM
Message-ID: <99DB4EB9-53DA-42B6-BE4E-09188F608B39@lunet.lboro.ac.uk>

Dear Radiance Community

As part of my PhD on Climate-Based Daylight Modelling, I have just launched an online survey on the use of CBDM in design practices and/or research.

I am very interested in the opinion of anyone that uses or used CBDM, whether you are an expert or you?ve just discovered it! Answering the survey takes about 10 minutes and all the answers are kept anonymous. I aim to collect the results in a nice interactive graph, that will be made available online later on.

The link for the survey is:
https://lboro.onlinesurveys.ac.uk/cbdm-workflows-2
Feel free to pass it on to whoever you think might be interested.

For any question, email me directly at e.brembilla at lboro.ac.uk<mailto:e.brembilla at lboro.ac.uk>.

Thanks
Eleonora
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160223/9ddfccb2/attachment.html>

From alireh at uw.edu  Wed Feb 24 10:25:12 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Wed, 24 Feb 2016 10:25:12 -0800
Subject: [Radiance-general] Five-Phase Method: invalid results in
	daylight matrix
In-Reply-To: <D2E890B1.227D0%Robert.Guglielmetti@nrel.gov>
References: <CADjcrehpVe4hWDCN62eML1yE0vhHDcQY0LiAJ6=Q7y3ywHO0hw@mail.gmail.com>
	<D2E890B1.227D0%Robert.Guglielmetti@nrel.gov>
Message-ID: <CADjcregDaz_tQWbEu_p9fF8S3f7X6=gHLpEL38Y8gshb7O0yyw@mail.gmail.com>

Hi Rob,

Thank you for your response.
I have checked the orientation of the daylight polygons (exterior window
pane) and it matches the given view direction as 0 -1 0. I changed the view
direction to 0 1 0 just to see if the results would be any different. But I
receive the same daylight matrix file with all values equal to 0.

Would it be convenient for you if I sent you a Google drive link to my
project folder with all the files that you need to run the genklemsamp
command and reproduce the error?
I had also sent a separate post with regards to variations in the commands
for generating all-black models in the next steps of the tutorial.

Thank you,
Alireza

On Tue, Feb 16, 2016 at 7:44 AM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> At first (quick) glance, my guess is that your window polygon is oriented
> backwards. Confirm the window normal faces out, toward the exterior
> environment and sky, by looking at the vertex order (right hand rule!).
>
> On 2/15/16, 12:59 AM, "Alireza Hashemloo" <alireh at uw.edu<mailto:
> alireh at uw.edu>> wrote:
>
> Hello,
>
> I have a question about the Example 2 in the five-phase method tutorial (
> http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf
> ):
>
> OS: Windows 7 (64-bit)
> Command Line Environment: Git Bash
>
> Command:
>
> $ genklemsamp -c 1000 -vd 0 -1 0 objects/glazing_outside_pane.rad | \
> rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins
> -m sky_glow -fa \
> model_daylight_matrix.oct > daylight_matrices/daylight_matrix.dmx
>
> Issue: the recorded values in the generated daylight_matirx.dmx are all
> equal to 0 (0.000000e+000)
>
> I would appreciate if you could help me with possible causes of the
> invalid results.
>
> Thank you,
> Alireza
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160224/860d1c84/attachment.html>

From gregoryjward at gmail.com  Wed Feb 24 10:34:38 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 24 Feb 2016 10:34:38 -0800
Subject: [Radiance-general] Five-Phase Method: invalid results in
	daylight matrix
In-Reply-To: <CADjcregDaz_tQWbEu_p9fF8S3f7X6=gHLpEL38Y8gshb7O0yyw@mail.gmail.com>
References: <CADjcrehpVe4hWDCN62eML1yE0vhHDcQY0LiAJ6=Q7y3ywHO0hw@mail.gmail.com>
	<D2E890B1.227D0%Robert.Guglielmetti@nrel.gov>
	<CADjcregDaz_tQWbEu_p9fF8S3f7X6=gHLpEL38Y8gshb7O0yyw@mail.gmail.com>
Message-ID: <2206C324-E98F-4F53-8229-4512B5C710E4@lmi.net>

Hi Alireza,

We saw an issue in another model where the windows were very small relative to the wall area, such that genklemsamp was missing them in its initial sampling.  The solution is to increase the -c setting (try a factor of 10 more) or using the equivalent rfluxmtx command, which uses a more robust sampling method.

Worth a try....
-Greg

> From: Alireza Hashemloo <alireh at uw.edu>
> Subject: Re: [Radiance-general] Five-Phase Method: invalid results in daylight matrix
> Date: February 24, 2016 10:25:12 AM PST
> 
> Hi Rob,
> 
> Thank you for your response.
> I have checked the orientation of the daylight polygons (exterior window pane) and it matches the given view direction as 0 -1 0. I changed the view direction to 0 1 0 just to see if the results would be any different. But I receive the same daylight matrix file with all values equal to 0.
> 
> Would it be convenient for you if I sent you a Google drive link to my project folder with all the files that you need to run the genklemsamp command and reproduce the error?
> I had also sent a separate post with regards to variations in the commands for generating all-black models in the next steps of the tutorial.
> 
> Thank you,
> Alireza
> 
> On Tue, Feb 16, 2016 at 7:44 AM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
> At first (quick) glance, my guess is that your window polygon is oriented backwards. Confirm the window normal faces out, toward the exterior environment and sky, by looking at the vertex order (right hand rule!).
> 
> On 2/15/16, 12:59 AM, "Alireza Hashemloo" <alireh at uw.edu<mailto:alireh at uw.edu>> wrote:
> 
> Hello,
> 
> I have a question about the Example 2 in the five-phase method tutorial (http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf):
> 
> OS: Windows 7 (64-bit)
> Command Line Environment: Git Bash
> 
> Command:
> 
> $ genklemsamp -c 1000 -vd 0 -1 0 objects/glazing_outside_pane.rad | \
> rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -fa \
> model_daylight_matrix.oct > daylight_matrices/daylight_matrix.dmx
> 
> Issue: the recorded values in the generated daylight_matirx.dmx are all equal to 0 (0.000000e+000)
> 
> I would appreciate if you could help me with possible causes of the invalid results.
> 
> Thank you,
> Alireza
> 
> 
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160224/dad0fdd3/attachment-0001.html>

From alireh at uw.edu  Wed Feb 24 10:53:18 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Wed, 24 Feb 2016 10:53:18 -0800
Subject: [Radiance-general] Five-Phase Method: invalid results in
	daylight matrix
In-Reply-To: <2206C324-E98F-4F53-8229-4512B5C710E4@lmi.net>
References: <CADjcrehpVe4hWDCN62eML1yE0vhHDcQY0LiAJ6=Q7y3ywHO0hw@mail.gmail.com>
	<D2E890B1.227D0%Robert.Guglielmetti@nrel.gov>
	<CADjcregDaz_tQWbEu_p9fF8S3f7X6=gHLpEL38Y8gshb7O0yyw@mail.gmail.com>
	<2206C324-E98F-4F53-8229-4512B5C710E4@lmi.net>
Message-ID: <CADjcrehUXp=NRBqC-PcyQiJ1sQKucajSPJtPt4G+DrWn2VxiHQ@mail.gmail.com>

Thanks Greg!

I will try both approaches.

Regards,
Alireza


On Wed, Feb 24, 2016 at 10:34 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Alireza,
>
> We saw an issue in another model where the windows were very small
> relative to the wall area, such that genklemsamp was missing them in its
> initial sampling.  The solution is to increase the -c setting (try a factor
> of 10 more) or using the equivalent rfluxmtx command, which uses a more
> robust sampling method.
>
> Worth a try....
> -Greg
>
> *From: *Alireza Hashemloo <alireh at uw.edu>
>
> *Subject: *Re: [Radiance-general] Five-Phase Method: invalid results in
> daylight matrix
>
> *Date: *February 24, 2016 10:25:12 AM PST
>
>
> Hi Rob,
>
> Thank you for your response.
> I have checked the orientation of the daylight polygons (exterior window
> pane) and it matches the given view direction as 0 -1 0. I changed the view
> direction to 0 1 0 just to see if the results would be any different. But I
> receive the same daylight matrix file with all values equal to 0.
>
> Would it be convenient for you if I sent you a Google drive link to my
> project folder with all the files that you need to run the genklemsamp
> command and reproduce the error?
> I had also sent a separate post with regards to variations in the commands
> for generating all-black models in the next steps of the tutorial.
>
> Thank you,
> Alireza
>
> On Tue, Feb 16, 2016 at 7:44 AM, Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov> wrote:
>
>> At first (quick) glance, my guess is that your window polygon is oriented
>> backwards. Confirm the window normal faces out, toward the exterior
>> environment and sky, by looking at the vertex order (right hand rule!).
>>
>> On 2/15/16, 12:59 AM, "Alireza Hashemloo" <alireh at uw.edu<mailto:
>> alireh at uw.edu>> wrote:
>>
>> Hello,
>>
>> I have a question about the Example 2 in the five-phase method tutorial (
>> http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf
>> ):
>>
>> OS: Windows 7 (64-bit)
>> Command Line Environment: Git Bash
>>
>> Command:
>>
>> $ genklemsamp -c 1000 -vd 0 -1 0 objects/glazing_outside_pane.rad | \
>> rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn
>> Nrbins -m sky_glow -fa \
>> model_daylight_matrix.oct > daylight_matrices/daylight_matrix.dmx
>>
>> Issue: the recorded values in the generated daylight_matirx.dmx are all
>> equal to 0 (0.000000e+000)
>>
>> I would appreciate if you could help me with possible causes of the
>> invalid results.
>>
>> Thank you,
>> Alireza
>>
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160224/aa104cd1/attachment.html>

From mcneil.andrew at gmail.com  Wed Feb 24 11:07:18 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Wed, 24 Feb 2016 11:07:18 -0800
Subject: [Radiance-general] Five-phase Method Tutorial: all-black models
 in the Daylight Matrix and the Direct Sun Coefficient Matrix
In-Reply-To: <CADjcrejxOMo5NNDEWSvs7rkcgGmKck5DYPGgLLVujSz8m9D4hw@mail.gmail.com>
References: <CADjcrejxOMo5NNDEWSvs7rkcgGmKck5DYPGgLLVujSz8m9D4hw@mail.gmail.com>
Message-ID: <CAEFJVk8khHtYdd-eXoEkiiAOE_sSA0+f+vGbJ3iQD1CkxU=A7g@mail.gmail.com>

Alireza,

I think all your questions relate to the use of a hyphen in oconv. The
hyphen tells oconv to take information from the standard input and treat it
like it would any other input file. It's a way of avoiding an intermediary
file.

Without a hyphen we can do this:
xform [transformation parameters] input.rad > transformed.rad
oconv transformed.rad > mymodel.oct

With a hyphen it becomes this:
xform [transformation parameters] input.rad | oconv - > mymodel.oct

Notice the we don't need the intermediary file transformed.rad with the
hyphen.

If we want other files included in the octree we just add them to the oconv
command. Standard ordering requirements apply (materials before geometry)
and the location of hyphen indicates where the data from the standard input
should be included. Like so:

xform [transformation parameters] input.rad | oconv materials.rad
somegeometry.rad - othergeometry.rad > mymodel.oct

Best,
Andy


On Sat, Feb 20, 2016 at 10:35 PM, Alireza Hashemloo <alireh at uw.edu> wrote:

> Hello,
>
> I have two set of questions regarding the Direct Daylight Matrix and
> Direct Sun Coefficient Matrix calculations in the Five-phase method
> tutorial  (
> http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf)
> that I would appreciate if you could help me with:
>
> OS: Windows 7 (64-bit)
> Radinace: 5.0.a.8
> Command Line Environment: Git Bash
>
>
> 1- Direct Daylight Matrix and the all-black model:
>
> the all-black model for Direct Daylight Matrix is generated by the
> following command:
>
>
> Command:
>
> $ xform -m black objects/testroom_Swall.rad objects/testroom.rad
> objects/ground.rad \
> objects/venetianblind.rad | oconv materials/testroom.mat -
> objects/viewmtxsurf.rad \
> objects/daymtxsurf.rad skies/sky_white.rad > octs/model_allblack.oct
>
>
> Description:
>
> The "viewmtxsurf.rad" file which contains the definition for the view
> polygons (window glazing pane at the interior side) assigned with a glow
> modifier, is exempted from the 'xform' call and it is passed to the 'oconv'
> with a hyphen: "- objects/viewmtxsurf.rad"
>
>
> Questions:
>
> - If Radiance is only going to sample random points within the geometric
> outline of the daylight polygons (window glazing pane at the exterior side)
> to find the sky patch contributions to the Klems' patches, why are the
> "viewmtxsurf.rad" and the "venetianblind.rad" (which are both at the
> interior side) even passed to the 'oconv' to be part of the
> 'model_allblack.oct' file?
>
> - What does the hyphen "-" before 'objcets/viewmtxsurf.rad' do in this
> procedure? (I have checked the 'oconv' command  description but I could not
> understand the given explanation for the hyphen)
>
>

>
> 2- Direct Sun Coefficient Matrix: Illuminance Calculations Vs. Rendering
>
> In the tutorial, the Example 1 describes the application of five-phase
> method for illuminance calculations and the Example 2 describes the method
> for renderings (luminance maps). There are obviously, overlaps between the
> two examples. With regards to the development of the Direct Sun Coefficient
> Matrix for illuminance calculations (Example 1), a 'model_suns.oct' file is
> generated as follows:
>
>
> Command (generating the 'model_suns.oct' file):
>
> $ xform -m black objects/testroom_Swall.rad objects/testroom.rad
> objects/ground.rad \
> | oconv materials/testroom.mat - objects/glazing.rad
> objects/venetianblind.rad \
> objects/glazing_bsdf.rad skies/suns.rad > octs/model_suns.oct
>
>
> On the other hand, the Example 2 for renderings uses two separate octree
> files to generate the Direct Sun Coefficient Matrix: 'model_suns.oct' and
> 'model_nosuns.oct'
>
>
> Command (generating the 'model_nosuns.oct' file):
>
> $ xform -m black objects/testroom_Swall.rad objects/testroom.rad
> objects/ground.rad | \
> oconv materials/testroom.mat - objects/venetianblind.rad >
> octs/model_nosuns.oct
>
>
> Questions:
>
> - Why is the 'venetianblind.rad' passed to the 'oconv' call in the command
> generating 'model_suns.oct' without a hyphen "-", whereas the
> 'venetianblind.rad' is passed to the 'oconv' call in the command for
> generating 'model_nosuns.oct' with a hyphen?
> - Why is the 'glazing.rad' (which is an identical polygon definition to
> 'daymtxsurf.rad' with a glass modifier) is included in the 'model_suns.oct'
> file but it is excluded from the 'model_nosuns.oct' file?
> - Unlike the 'model_allblack.oct' for Direct Daylight Matrix, why is the
> 'venetianblind.rad' not assigned a 'black' modifier in the Direct Sun
> Coefficient Matrix calculations ?
>
>
> Thank you in advance for your assistance,
>
> Alireza
>
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160224/f715cfc0/attachment.html>

From rgrodriguez at mendoza-conicet.gob.ar  Wed Feb 24 06:48:10 2016
From: rgrodriguez at mendoza-conicet.gob.ar (Roberto German Rodriguez)
Date: Wed, 24 Feb 2016 11:48:10 -0300 (ART)
Subject: [Radiance-general] Help - Could not wrap BSDFs data error fix
Message-ID: <1659846110.101957.1456325289999.JavaMail.root@correo.mendoza-conicet.gob.ar>

Hello, I'm using genBSDF in Windows and I get the following error:
 "Could not wrap BSDFs data."

In the Radiance mailing list I saw that others have already inquired about this error (http://comments.gmane.org/gmane.comp.graphics.radiance.general/5234) and that the genBSDF script has been fixed. I wanted to know if I can have access to the fixed script.

Thank you very much, Ayel?n Villalba.


-- 
Dis. Ind. Roberto Germ?n Rodriguez
Doctor en Medio Ambiente Visual e Iluminaci?n Eficiente
Investigador Asistente CONICET

Laboratorio de Ambiente Humano y Vivienda
Instituto de Ciencias Humanas Sociales y Ambientales
Centro Cient?fico y Tecnol?gico Mendoza
Consejo Nacional de Investigaciones Cient?ficas y T?cnicas  CONICET
Av. Ruiz Leal s/n-Parque Gral. San Mart?n (5500) Mendoza, Argentina


From gregoryjward at gmail.com  Wed Feb 24 11:14:50 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 24 Feb 2016 11:14:50 -0800
Subject: [Radiance-general] Help - Could not wrap BSDFs data error fix
In-Reply-To: <1659846110.101957.1456325289999.JavaMail.root@correo.mendoza-conicet.gob.ar>
References: <1659846110.101957.1456325289999.JavaMail.root@correo.mendoza-conicet.gob.ar>
Message-ID: <5F06E69B-159D-4237-916E-76817ACF3907@lmi.net>

Rob answered this one last week:

> The latest installers on the NREL mirror include the updated script:
> 
> https://github.com/NREL/Radiance/releases/tag/5.0.a.8
> 
> You could also download the latest genBSDF.pl directly from this link:
> 
> https://github.com/NREL/Radiance/blob/combined/src/util/genBSDF.pl
> 
> Have fun!
> 
> - Rob
> ============


> From: Roberto German Rodriguez <rgrodriguez at mendoza-conicet.gob.ar>
> Subject: [Radiance-general] Help - Could not wrap BSDFs data error fix
> Date: February 24, 2016 6:48:10 AM PST
> 
> Hello, I'm using genBSDF in Windows and I get the following error:
> "Could not wrap BSDFs data."
> 
> In the Radiance mailing list I saw that others have already inquired about this error (http://comments.gmane.org/gmane.comp.graphics.radiance.general/5234) and that the genBSDF script has been fixed. I wanted to know if I can have access to the fixed script.
> 
> Thank you very much, Ayel?n Villalba.
> 
> 
> -- 
> Dis. Ind. Roberto Germ?n Rodriguez
> Doctor en Medio Ambiente Visual e Iluminaci?n Eficiente
> Investigador Asistente CONICET
> 
> Laboratorio de Ambiente Humano y Vivienda
> Instituto de Ciencias Humanas Sociales y Ambientales
> Centro Cient?fico y Tecnol?gico Mendoza
> Consejo Nacional de Investigaciones Cient?ficas y T?cnicas  CONICET
> Av. Ruiz Leal s/n-Parque Gral. San Mart?n (5500) Mendoza, Argentina
> 


From schorsch at schorsch.com  Wed Feb 24 14:53:15 2016
From: schorsch at schorsch.com (Georg Mischler)
Date: Wed, 24 Feb 2016 23:53:15 +0100
Subject: [Radiance-general] Revit to Radiance proof of concept
Message-ID: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>

Hi all,

I have recently had access to a Revit installation and decided to 
experiment
a bit with its API. The resulting Python file is attached for anyone to 
try.
I consider this a proof of concept implementation at the moment. There 
are many
rough edges, and lots of features missing that would be expected in a 
full blown
translator. It has been tested on the sample files supplied with Revit, 
but not
on any other files.

I may or may not have access to Revit in the coming months, so this is 
what
you get for now...


Technical considerations

Revit doesn't have the same geometry primitives as Radiance, but
uses B-Rep geometry in winged edge representation.
Surface elements don't close in on themselfes. This eliminates
ambiguous positioning issues for the software. For an exporter,
it means that eg. a cylinder is not one surface, but typically
composed of two half-cylinders. A circle consists of two half
arcs, etc.
Recognizing simple volume types requires analyzing and reassembling
several surface elements. This only seems to make sense for
circles/rings and cylinders (cones?) which are sufficiently easy.


Working features:

* Exports all geometry visible in the active 3D view (minus RPCs)
* Seperate function for exporting topography meshes.
* cylinders and circles/rings as Radiance primitives.
* Planar faces as polygons (including holes)
* All other surfaces tesselated into triangles (rectangles for
   partial cylinders.
* Names based on level and leaf node family name (type name for
   non-family types) and material
* Metric or imperial export (configured in code)


To do

* Turn into an external add-in
* Export RPCs in some way
* Export regions (parts of a surface using different color/material)
* Alternative primitive naming options (substitution lists?)
* Possibly split up the output into several files (eg. by level?)
* Detect cones (are those always coaxial in Revit?)
* Export unmodified (other than positioning/scaling) Family instances
   as seperate objects to be included via replmarks.
* Export (sufficiently large) meshes as Radiance meshes
* Export normals with curved surfaces for smoothing
* Export material properties in addition to the names
* Export light sources
* Export views
* Maybe export elements via selection instead of a complete view
* Dialog box to configure output interactively
* others?


Issues to research

* It's not always easily possible to figure out on which level a certain
   element resides (assuming they are associated with a level at all).
* Small objects with fine detail may result in many zero-area polygons.
* Installing an export function as a macro is clumsy. There may be a way 
to create
   an external installable via the Revit Python Shell.


Installation

Due to my lazyness, I created the exporter as an "Application Macro".
Not sure if it can be installed as an external add-on without changes to 
the code.
To install as a macro, select the "Manage" tab, click on "Macros".
Select the "Application" tab in the opening dialog, and press "Create 
Module".
Give your new application a name, chose "Python" as a language and press 
"Ok".
The SharpDevelop IDE should open with a new project containing 
boilerplate
code. Replace that with the contents of my file and press F8 to compile.

Now open the "Macros" dialog again, and your Module will have sprouted 
two macros
named "ExportToRadiance" and "ExportTopoToRadiance". Select one of those 
and
press "Run" (only works if the current view is a 3D-view).


Configuration

Currently all relevant configuration happens in the code, near the top 
of
the file. Configuration options are:

* Metric or Imperial
* Output file name (default: "revout.rad" on your desktop)
* Output file name for topography (default: "revout_topo.rad" on your 
desktop)


The attached jpg is from one of the Revit samples. The scene file is 
around 50MB.
Ironically, just in this example, the Brown chair at left shows some 
missing
faces at the front of the armrest... Not sure if this is my fault or 
Revit's.

Anyone who wants to try improving and extending RRadout, just go ahead 
and share your
results. Depending on the feedback, I may create a Github project.


Have fun!

-schorsch
-------------- next part --------------
A non-text attachment was scrubbed...
Name: office_hall_03.jpg
Type: image/jpeg
Size: 82008 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160224/73e883cb/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: RRadout_01.py
Type: text/x-python
Size: 19149 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160224/73e883cb/attachment-0001.py>

From gregoryjward at gmail.com  Wed Feb 24 16:58:25 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 24 Feb 2016 16:58:25 -0800
Subject: [Radiance-general] Revit to Radiance proof of concept
In-Reply-To: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
Message-ID: <4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>

Wow, Schorsch -- that's quite the unexpected gift!  We were just talking about a Revit exporter at the last Radiance workshop.  Everyone agreed it was a good idea, but no one really knew where to start.  Thanks for giving us the leg up!

Cheers,
-Greg

> From: Georg Mischler <schorsch at schorsch.com>
> Subject: [Radiance-general] Revit to Radiance proof of concept
> Date: February 24, 2016 2:53:15 PM PST
> 
> Hi all,
> 
> I have recently had access to a Revit installation and decided to experiment
> a bit with its API. The resulting Python file is attached for anyone to try.
> I consider this a proof of concept implementation at the moment. There are many
> rough edges, and lots of features missing that would be expected in a full blown
> translator. It has been tested on the sample files supplied with Revit, but not
> on any other files.
> 
> I may or may not have access to Revit in the coming months, so this is what
> you get for now...
> 
> 
> Technical considerations
> 
> Revit doesn't have the same geometry primitives as Radiance, but
> uses B-Rep geometry in winged edge representation.
> Surface elements don't close in on themselfes. This eliminates
> ambiguous positioning issues for the software. For an exporter,
> it means that eg. a cylinder is not one surface, but typically
> composed of two half-cylinders. A circle consists of two half
> arcs, etc.
> Recognizing simple volume types requires analyzing and reassembling
> several surface elements. This only seems to make sense for
> circles/rings and cylinders (cones?) which are sufficiently easy.
> 
> 
> Working features:
> 
> * Exports all geometry visible in the active 3D view (minus RPCs)
> * Seperate function for exporting topography meshes.
> * cylinders and circles/rings as Radiance primitives.
> * Planar faces as polygons (including holes)
> * All other surfaces tesselated into triangles (rectangles for
>  partial cylinders.
> * Names based on level and leaf node family name (type name for
>  non-family types) and material
> * Metric or imperial export (configured in code)
> 
> 
> To do
> 
> * Turn into an external add-in
> * Export RPCs in some way
> * Export regions (parts of a surface using different color/material)
> * Alternative primitive naming options (substitution lists?)
> * Possibly split up the output into several files (eg. by level?)
> * Detect cones (are those always coaxial in Revit?)
> * Export unmodified (other than positioning/scaling) Family instances
>  as seperate objects to be included via replmarks.
> * Export (sufficiently large) meshes as Radiance meshes
> * Export normals with curved surfaces for smoothing
> * Export material properties in addition to the names
> * Export light sources
> * Export views
> * Maybe export elements via selection instead of a complete view
> * Dialog box to configure output interactively
> * others?
> 
> 
> Issues to research
> 
> * It's not always easily possible to figure out on which level a certain
>  element resides (assuming they are associated with a level at all).
> * Small objects with fine detail may result in many zero-area polygons.
> * Installing an export function as a macro is clumsy. There may be a way to create
>  an external installable via the Revit Python Shell.
> 
> 
> Installation
> 
> Due to my lazyness, I created the exporter as an "Application Macro".
> Not sure if it can be installed as an external add-on without changes to the code.
> To install as a macro, select the "Manage" tab, click on "Macros".
> Select the "Application" tab in the opening dialog, and press "Create Module".
> Give your new application a name, chose "Python" as a language and press "Ok".
> The SharpDevelop IDE should open with a new project containing boilerplate
> code. Replace that with the contents of my file and press F8 to compile.
> 
> Now open the "Macros" dialog again, and your Module will have sprouted two macros
> named "ExportToRadiance" and "ExportTopoToRadiance". Select one of those and
> press "Run" (only works if the current view is a 3D-view).
> 
> 
> Configuration
> 
> Currently all relevant configuration happens in the code, near the top of
> the file. Configuration options are:
> 
> * Metric or Imperial
> * Output file name (default: "revout.rad" on your desktop)
> * Output file name for topography (default: "revout_topo.rad" on your desktop)
> 
> 
> The attached jpg is from one of the Revit samples. The scene file is around 50MB.
> Ironically, just in this example, the Brown chair at left shows some missing
> faces at the front of the armrest... Not sure if this is my fault or Revit's.
> 
> Anyone who wants to try improving and extending RRadout, just go ahead and share your
> results. Depending on the feedback, I may create a Github project.
> 
> 
> Have fun!
> 
> -schorsch


From shakespe at indiana.edu  Wed Feb 24 17:54:43 2016
From: shakespe at indiana.edu (Shakespeare, Robert A.)
Date: Thu, 25 Feb 2016 01:54:43 +0000
Subject: [Radiance-general] Revit to Radiance proof of concept
In-Reply-To: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
Message-ID: <D2F3C7E5.35197%shakespe@indiana.edu>

This is an excellent proof of concept  Schorsch, particularly  enabling some of the Radiance primitives beyond the basic polygon. I am most interested in  tracking and perhaps modestly assisting in some way,  future development.
Bravo,

Rob

Rob Shakespeare, Lighting Designer
 Designing Visually Accessible Spaces,
 Indiana University P.I.
Adjunct Professor,
 School of Computing,University of UTAH
Shakespe at indiana.edu


From: Georg Mischler <schorsch at schorsch.com<mailto:schorsch at schorsch.com>>
Reply-To: "schorsch at schorsch.com<mailto:schorsch at schorsch.com>" <schorsch at schorsch.com<mailto:schorsch at schorsch.com>>, Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
Date: Wednesday, February 24, 2016 at 5:53 PM
To: Radiance discussion <radiance-general at radiance-online.org<mailto:radiance-general at radiance-online.org>>
Subject: [Radiance-general] Revit to Radiance proof of concept

Hi all,

I have recently had access to a Revit installation and decided to
experiment
a bit with its API. The resulting Python file is attached for anyone to
try.
I consider this a proof of concept implementation at the moment. There
are many
rough edges, and lots of features missing that would be expected in a
full blown
translator. It has been tested on the sample files supplied with Revit,
but not
on any other files.

I may or may not have access to Revit in the coming months, so this is
what
you get for now...


Technical considerations

Revit doesn't have the same geometry primitives as Radiance, but
uses B-Rep geometry in winged edge representation.
Surface elements don't close in on themselfes. This eliminates
ambiguous positioning issues for the software. For an exporter,
it means that eg. a cylinder is not one surface, but typically
composed of two half-cylinders. A circle consists of two half
arcs, etc.
Recognizing simple volume types requires analyzing and reassembling
several surface elements. This only seems to make sense for
circles/rings and cylinders (cones?) which are sufficiently easy.


Working features:

* Exports all geometry visible in the active 3D view (minus RPCs)
* Seperate function for exporting topography meshes.
* cylinders and circles/rings as Radiance primitives.
* Planar faces as polygons (including holes)
* All other surfaces tesselated into triangles (rectangles for
   partial cylinders.
* Names based on level and leaf node family name (type name for
   non-family types) and material
* Metric or imperial export (configured in code)


To do

* Turn into an external add-in
* Export RPCs in some way
* Export regions (parts of a surface using different color/material)
* Alternative primitive naming options (substitution lists?)
* Possibly split up the output into several files (eg. by level?)
* Detect cones (are those always coaxial in Revit?)
* Export unmodified (other than positioning/scaling) Family instances
   as seperate objects to be included via replmarks.
* Export (sufficiently large) meshes as Radiance meshes
* Export normals with curved surfaces for smoothing
* Export material properties in addition to the names
* Export light sources
* Export views
* Maybe export elements via selection instead of a complete view
* Dialog box to configure output interactively
* others?


Issues to research

* It's not always easily possible to figure out on which level a certain
   element resides (assuming they are associated with a level at all).
* Small objects with fine detail may result in many zero-area polygons.
* Installing an export function as a macro is clumsy. There may be a way
to create
   an external installable via the Revit Python Shell.


Installation

Due to my lazyness, I created the exporter as an "Application Macro".
Not sure if it can be installed as an external add-on without changes to
the code.
To install as a macro, select the "Manage" tab, click on "Macros".
Select the "Application" tab in the opening dialog, and press "Create
Module".
Give your new application a name, chose "Python" as a language and press
"Ok".
The SharpDevelop IDE should open with a new project containing
boilerplate
code. Replace that with the contents of my file and press F8 to compile.

Now open the "Macros" dialog again, and your Module will have sprouted
two macros
named "ExportToRadiance" and "ExportTopoToRadiance". Select one of those
and
press "Run" (only works if the current view is a 3D-view).


Configuration

Currently all relevant configuration happens in the code, near the top
of
the file. Configuration options are:

* Metric or Imperial
* Output file name (default: "revout.rad" on your desktop)
* Output file name for topography (default: "revout_topo.rad" on your
desktop)


The attached jpg is from one of the Revit samples. The scene file is
around 50MB.
Ironically, just in this example, the Brown chair at left shows some
missing
faces at the front of the armrest... Not sure if this is my fault or
Revit's.

Anyone who wants to try improving and extending RRadout, just go ahead
and share your
results. Depending on the feedback, I may create a Github project.


Have fun!

-schorsch

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160225/d196c0c6/attachment.html>

From RGMARC at engr.psu.edu  Wed Feb 24 18:01:58 2016
From: RGMARC at engr.psu.edu (Richard Mistrick)
Date: Thu, 25 Feb 2016 02:01:58 +0000
Subject: [Radiance-general] Revit to Radiance proof of concept
In-Reply-To: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
Message-ID: <0ec54b500ec64c0c87cad89b27c28cbe@ENGRMB1.engr.psu.edu>

Georg,

Our students (and our graduates) would put such a tool to good use.  We will give it a test.  Thanks.  We are still using dxf2rad.

Rick

-----Original Message-----
From: Georg Mischler [mailto:schorsch at schorsch.com] 
Sent: Wednesday, February 24, 2016 5:53 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Revit to Radiance proof of concept

Hi all,

I have recently had access to a Revit installation and decided to experiment a bit with its API. The resulting Python file is attached for anyone to try.
I consider this a proof of concept implementation at the moment. There are many rough edges, and lots of features missing that would be expected in a full blown translator. It has been tested on the sample files supplied with Revit, but not on any other files.

I may or may not have access to Revit in the coming months, so this is what you get for now...


Technical considerations

Revit doesn't have the same geometry primitives as Radiance, but
uses B-Rep geometry in winged edge representation.
Surface elements don't close in on themselfes. This eliminates
ambiguous positioning issues for the software. For an exporter,
it means that eg. a cylinder is not one surface, but typically
composed of two half-cylinders. A circle consists of two half
arcs, etc.
Recognizing simple volume types requires analyzing and reassembling
several surface elements. This only seems to make sense for
circles/rings and cylinders (cones?) which are sufficiently easy.


Working features:

* Exports all geometry visible in the active 3D view (minus RPCs)
* Seperate function for exporting topography meshes.
* cylinders and circles/rings as Radiance primitives.
* Planar faces as polygons (including holes)
* All other surfaces tesselated into triangles (rectangles for
   partial cylinders.
* Names based on level and leaf node family name (type name for
   non-family types) and material
* Metric or imperial export (configured in code)


To do

* Turn into an external add-in
* Export RPCs in some way
* Export regions (parts of a surface using different color/material)
* Alternative primitive naming options (substitution lists?)
* Possibly split up the output into several files (eg. by level?)
* Detect cones (are those always coaxial in Revit?)
* Export unmodified (other than positioning/scaling) Family instances
   as seperate objects to be included via replmarks.
* Export (sufficiently large) meshes as Radiance meshes
* Export normals with curved surfaces for smoothing
* Export material properties in addition to the names
* Export light sources
* Export views
* Maybe export elements via selection instead of a complete view
* Dialog box to configure output interactively
* others?


Issues to research

* It's not always easily possible to figure out on which level a certain
   element resides (assuming they are associated with a level at all).
* Small objects with fine detail may result in many zero-area polygons.
* Installing an export function as a macro is clumsy. There may be a way 
to create
   an external installable via the Revit Python Shell.


Installation

Due to my lazyness, I created the exporter as an "Application Macro".
Not sure if it can be installed as an external add-on without changes to 
the code.
To install as a macro, select the "Manage" tab, click on "Macros".
Select the "Application" tab in the opening dialog, and press "Create 
Module".
Give your new application a name, chose "Python" as a language and press 
"Ok".
The SharpDevelop IDE should open with a new project containing 
boilerplate
code. Replace that with the contents of my file and press F8 to compile.

Now open the "Macros" dialog again, and your Module will have sprouted 
two macros
named "ExportToRadiance" and "ExportTopoToRadiance". Select one of those 
and
press "Run" (only works if the current view is a 3D-view).


Configuration

Currently all relevant configuration happens in the code, near the top 
of
the file. Configuration options are:

* Metric or Imperial
* Output file name (default: "revout.rad" on your desktop)
* Output file name for topography (default: "revout_topo.rad" on your 
desktop)


The attached jpg is from one of the Revit samples. The scene file is 
around 50MB.
Ironically, just in this example, the Brown chair at left shows some 
missing
faces at the front of the armrest... Not sure if this is my fault or 
Revit's.

Anyone who wants to try improving and extending RRadout, just go ahead 
and share your
results. Depending on the feedback, I may create a Github project.


Have fun!

-schorsch


From Robert.Guglielmetti at nrel.gov  Thu Feb 25 08:02:43 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 25 Feb 2016 16:02:43 +0000
Subject: [Radiance-general] Revit to Radiance proof of concept
In-Reply-To: <4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
	<4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
Message-ID: <D2F4739C.231D1%Robert.Guglielmetti@nrel.gov>

Also just great to hear from you again, Schorsch!

On 2/24/16, 5:58 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:

>Wow, Schorsch -- that's quite the unexpected gift!  We were just talking
>about a Revit exporter at the last Radiance workshop.  Everyone agreed it
>was a good idea, but no one really knew where to start.  Thanks for
>giving us the leg up!
>
>Cheers,
>-Greg
>
>> From: Georg Mischler <schorsch at schorsch.com>
>> Subject: [Radiance-general] Revit to Radiance proof of concept
>> Date: February 24, 2016 2:53:15 PM PST
>> 
>> Hi all,
>> 
>> I have recently had access to a Revit installation and decided to
>>experiment
>> a bit with its API. The resulting Python file is attached for anyone to
>>try.
>> I consider this a proof of concept implementation at the moment. There
>>are many
>> rough edges, and lots of features missing that would be expected in a
>>full blown
>> translator. It has been tested on the sample files supplied with Revit,
>>but not
>> on any other files.
>> 
>> I may or may not have access to Revit in the coming months, so this is
>>what
>> you get for now...
>> 
>> 
>> Technical considerations
>> 
>> Revit doesn't have the same geometry primitives as Radiance, but
>> uses B-Rep geometry in winged edge representation.
>> Surface elements don't close in on themselfes. This eliminates
>> ambiguous positioning issues for the software. For an exporter,
>> it means that eg. a cylinder is not one surface, but typically
>> composed of two half-cylinders. A circle consists of two half
>> arcs, etc.
>> Recognizing simple volume types requires analyzing and reassembling
>> several surface elements. This only seems to make sense for
>> circles/rings and cylinders (cones?) which are sufficiently easy.
>> 
>> 
>> Working features:
>> 
>> * Exports all geometry visible in the active 3D view (minus RPCs)
>> * Seperate function for exporting topography meshes.
>> * cylinders and circles/rings as Radiance primitives.
>> * Planar faces as polygons (including holes)
>> * All other surfaces tesselated into triangles (rectangles for
>>  partial cylinders.
>> * Names based on level and leaf node family name (type name for
>>  non-family types) and material
>> * Metric or imperial export (configured in code)
>> 
>> 
>> To do
>> 
>> * Turn into an external add-in
>> * Export RPCs in some way
>> * Export regions (parts of a surface using different color/material)
>> * Alternative primitive naming options (substitution lists?)
>> * Possibly split up the output into several files (eg. by level?)
>> * Detect cones (are those always coaxial in Revit?)
>> * Export unmodified (other than positioning/scaling) Family instances
>>  as seperate objects to be included via replmarks.
>> * Export (sufficiently large) meshes as Radiance meshes
>> * Export normals with curved surfaces for smoothing
>> * Export material properties in addition to the names
>> * Export light sources
>> * Export views
>> * Maybe export elements via selection instead of a complete view
>> * Dialog box to configure output interactively
>> * others?
>> 
>> 
>> Issues to research
>> 
>> * It's not always easily possible to figure out on which level a certain
>>  element resides (assuming they are associated with a level at all).
>> * Small objects with fine detail may result in many zero-area polygons.
>> * Installing an export function as a macro is clumsy. There may be a
>>way to create
>>  an external installable via the Revit Python Shell.
>> 
>> 
>> Installation
>> 
>> Due to my lazyness, I created the exporter as an "Application Macro".
>> Not sure if it can be installed as an external add-on without changes
>>to the code.
>> To install as a macro, select the "Manage" tab, click on "Macros".
>> Select the "Application" tab in the opening dialog, and press "Create
>>Module".
>> Give your new application a name, chose "Python" as a language and
>>press "Ok".
>> The SharpDevelop IDE should open with a new project containing
>>boilerplate
>> code. Replace that with the contents of my file and press F8 to compile.
>> 
>> Now open the "Macros" dialog again, and your Module will have sprouted
>>two macros
>> named "ExportToRadiance" and "ExportTopoToRadiance". Select one of
>>those and
>> press "Run" (only works if the current view is a 3D-view).
>> 
>> 
>> Configuration
>> 
>> Currently all relevant configuration happens in the code, near the top
>>of
>> the file. Configuration options are:
>> 
>> * Metric or Imperial
>> * Output file name (default: "revout.rad" on your desktop)
>> * Output file name for topography (default: "revout_topo.rad" on your
>>desktop)
>> 
>> 
>> The attached jpg is from one of the Revit samples. The scene file is
>>around 50MB.
>> Ironically, just in this example, the Brown chair at left shows some
>>missing
>> faces at the front of the armrest... Not sure if this is my fault or
>>Revit's.
>> 
>> Anyone who wants to try improving and extending RRadout, just go ahead
>>and share your
>> results. Depending on the feedback, I may create a Github project.
>> 
>> 
>> Have fun!
>> 
>> -schorsch
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From mcneil.andrew at gmail.com  Thu Feb 25 09:22:37 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Thu, 25 Feb 2016 09:22:37 -0800
Subject: [Radiance-general] Revit to Radiance proof of concept
In-Reply-To: <D2F4739C.231D1%Robert.Guglielmetti@nrel.gov>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
	<4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
	<D2F4739C.231D1%Robert.Guglielmetti@nrel.gov>
Message-ID: <CAEFJVk8MUYM-QqTHp3vqXAqzu8Tr_B7vEMo_8gr0TBFY=dpfCA@mail.gmail.com>

Wow! Thanks Schorsch! I've uploaded your email and the python script to
radiance-online to make it easier to access in the future:
http://www.radiance-online.org/download-install/third-party-utilities/revitradout


On Thu, Feb 25, 2016 at 8:02 AM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> Also just great to hear from you again, Schorsch!
>
> On 2/24/16, 5:58 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:
>
> >Wow, Schorsch -- that's quite the unexpected gift!  We were just talking
> >about a Revit exporter at the last Radiance workshop.  Everyone agreed it
> >was a good idea, but no one really knew where to start.  Thanks for
> >giving us the leg up!
> >
> >Cheers,
> >-Greg
> >
> >> From: Georg Mischler <schorsch at schorsch.com>
> >> Subject: [Radiance-general] Revit to Radiance proof of concept
> >> Date: February 24, 2016 2:53:15 PM PST
> >>
> >> Hi all,
> >>
> >> I have recently had access to a Revit installation and decided to
> >>experiment
> >> a bit with its API. The resulting Python file is attached for anyone to
> >>try.
> >> I consider this a proof of concept implementation at the moment. There
> >>are many
> >> rough edges, and lots of features missing that would be expected in a
> >>full blown
> >> translator. It has been tested on the sample files supplied with Revit,
> >>but not
> >> on any other files.
> >>
> >> I may or may not have access to Revit in the coming months, so this is
> >>what
> >> you get for now...
> >>
> >>
> >> Technical considerations
> >>
> >> Revit doesn't have the same geometry primitives as Radiance, but
> >> uses B-Rep geometry in winged edge representation.
> >> Surface elements don't close in on themselfes. This eliminates
> >> ambiguous positioning issues for the software. For an exporter,
> >> it means that eg. a cylinder is not one surface, but typically
> >> composed of two half-cylinders. A circle consists of two half
> >> arcs, etc.
> >> Recognizing simple volume types requires analyzing and reassembling
> >> several surface elements. This only seems to make sense for
> >> circles/rings and cylinders (cones?) which are sufficiently easy.
> >>
> >>
> >> Working features:
> >>
> >> * Exports all geometry visible in the active 3D view (minus RPCs)
> >> * Seperate function for exporting topography meshes.
> >> * cylinders and circles/rings as Radiance primitives.
> >> * Planar faces as polygons (including holes)
> >> * All other surfaces tesselated into triangles (rectangles for
> >>  partial cylinders.
> >> * Names based on level and leaf node family name (type name for
> >>  non-family types) and material
> >> * Metric or imperial export (configured in code)
> >>
> >>
> >> To do
> >>
> >> * Turn into an external add-in
> >> * Export RPCs in some way
> >> * Export regions (parts of a surface using different color/material)
> >> * Alternative primitive naming options (substitution lists?)
> >> * Possibly split up the output into several files (eg. by level?)
> >> * Detect cones (are those always coaxial in Revit?)
> >> * Export unmodified (other than positioning/scaling) Family instances
> >>  as seperate objects to be included via replmarks.
> >> * Export (sufficiently large) meshes as Radiance meshes
> >> * Export normals with curved surfaces for smoothing
> >> * Export material properties in addition to the names
> >> * Export light sources
> >> * Export views
> >> * Maybe export elements via selection instead of a complete view
> >> * Dialog box to configure output interactively
> >> * others?
> >>
> >>
> >> Issues to research
> >>
> >> * It's not always easily possible to figure out on which level a certain
> >>  element resides (assuming they are associated with a level at all).
> >> * Small objects with fine detail may result in many zero-area polygons.
> >> * Installing an export function as a macro is clumsy. There may be a
> >>way to create
> >>  an external installable via the Revit Python Shell.
> >>
> >>
> >> Installation
> >>
> >> Due to my lazyness, I created the exporter as an "Application Macro".
> >> Not sure if it can be installed as an external add-on without changes
> >>to the code.
> >> To install as a macro, select the "Manage" tab, click on "Macros".
> >> Select the "Application" tab in the opening dialog, and press "Create
> >>Module".
> >> Give your new application a name, chose "Python" as a language and
> >>press "Ok".
> >> The SharpDevelop IDE should open with a new project containing
> >>boilerplate
> >> code. Replace that with the contents of my file and press F8 to compile.
> >>
> >> Now open the "Macros" dialog again, and your Module will have sprouted
> >>two macros
> >> named "ExportToRadiance" and "ExportTopoToRadiance". Select one of
> >>those and
> >> press "Run" (only works if the current view is a 3D-view).
> >>
> >>
> >> Configuration
> >>
> >> Currently all relevant configuration happens in the code, near the top
> >>of
> >> the file. Configuration options are:
> >>
> >> * Metric or Imperial
> >> * Output file name (default: "revout.rad" on your desktop)
> >> * Output file name for topography (default: "revout_topo.rad" on your
> >>desktop)
> >>
> >>
> >> The attached jpg is from one of the Revit samples. The scene file is
> >>around 50MB.
> >> Ironically, just in this example, the Brown chair at left shows some
> >>missing
> >> faces at the front of the armrest... Not sure if this is my fault or
> >>Revit's.
> >>
> >> Anyone who wants to try improving and extending RRadout, just go ahead
> >>and share your
> >> results. Depending on the feedback, I may create a Github project.
> >>
> >>
> >> Have fun!
> >>
> >> -schorsch
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160225/147b576a/attachment.html>

From germolinal at gmail.com  Sat Feb 27 04:18:55 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Sat, 27 Feb 2016 09:18:55 -0300
Subject: [Radiance-general] Calculating scheduled solar gains for
	EnergyPlus' surfaces
Message-ID: <CAF-iH4KoTKju3KFVYfVehNFGocYu8c1Z1-JNWnEkShGg4h_-Sw@mail.gmail.com>

Hi everyone,

I am working on a project that requires calculating solar heat gains
through (very) complex building envelopes. I am pretty sure that EnergyPlus
will not be able to do it...

I know EPlus is capable of dealing with CFS by means of BSDF... but that
assumes that the CFS is an extra layer in the facade. In my case, you could
consider the facade to be just anything.... a moving (ondulated and
microperforated) overhang, a tree, a complex exterior environment, etc.

My plan is to use Daylight Coefficients and use
SurfaceProperty:SolarIncidentInside object in E+. That is, I want to
pre-calculate the incident solar radiation using Radiance. *Just the
incident! interreflection will be calculated by EPlus (is that correct?)*

I understand this could be done as:

   1. Create an office with black walls, floor and ceiling... the exterior
   and the envelope keep their properties.
   2. Create a sensor file for each surface... sensors are normal to each
   surface, pointing inside
   3. Calculate Daylight Coefficients for each wall
   1. cat Wall.pts | rfluxmtx [options] -I+ - white_sky.rad scene.rad >
      Wall.dcmtx
   4. Calculate irradiance over surface
      1. cat weather.wea | dctimestep Wall.dcmtx | averageSensors >
      WallSolarRad.txt

Now... I am not sure if this is correct, because what ANDY SHOWED IN 2011
<http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day3/AM_Radiance_EnergyPlus.pdf>
is sort of different. He calculated a wird View Matrix.... is that an old
way of doing this same thing? What am I missing?

Best!

Germ?n
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160227/d6f2f5ff/attachment.html>

From mcneil.andrew at gmail.com  Sat Feb 27 13:28:16 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Sat, 27 Feb 2016 13:28:16 -0800
Subject: [Radiance-general] Calculating scheduled solar gains for
 EnergyPlus' surfaces
In-Reply-To: <CAF-iH4KoTKju3KFVYfVehNFGocYu8c1Z1-JNWnEkShGg4h_-Sw@mail.gmail.com>
References: <CAF-iH4KoTKju3KFVYfVehNFGocYu8c1Z1-JNWnEkShGg4h_-Sw@mail.gmail.com>
Message-ID: <CAEFJVk8u+TbvFZCUsn9rSHJ8=C95uwH3x2Ek+vVFa_sHJwC_Tw@mail.gmail.com>

Hi German,
If you're okay with spatial averaging of the solar gains over a group of
windows, you could create a BSDF using Radiance to represent the complexity
in E+. The only caveat is that instances where sunlight coming from behind
the facade can enter the facade (reflecting off of buildings across the
street, for example) can not be represented in a BSDF. So you site
obstructions are best represented as geometry in the energy plus model. But
overhangs and undulated microperferated screens can now be represented as
BSDFs.

Now I'll try to compare my approach from 2011 to the approach you detail. I
traced rays from the window into the space to see what surfaces the ray
hit. You're creating sensors on surfaces tracing rays from the surfaces to
the windows to calculate irradiance. Your approach probably works fine in
most cases, but mine is better :).  With your approach you're trying to
calculate the average irradiance over a surface. If you have one sensor
point your estimate of the average will not be very good. So you decide to
use a grid of sensor points, which improves your estimate, but a regular
grid will be biased. So you use random points and your estimate is very
good. Though if you have a complex model, with say furniture, then you need
to know what hits the furniture too. Good luck putting sensor on all the
furniture surfaces. So then the next question is what settings are you
using? where they high enough?

Instead if you send rays from the window into the space, like I did, every
ray is accounted for, so your total solar gains will be accurate. With my
approach, I know that the sum of the energy distributed to the surfaces
equals the sum of the energy transmitted by the window, error in my
approach is limited to relative distribution between surfaces. With you
approach you have to do a lot of work to try to make sure the total energy
in the space is accurate, and I don't know of a simple way to check that
the sum of energy attributed to surfaces equals the sum of energy
transmitted by the window.

So while my approach might be trickier to implement, once it's running you
know you're not destroying or creating energy. Your approach is simple to
set up, but you're never really sure that the total energy in the space is
correct.

Andy



On Sat, Feb 27, 2016 at 4:18 AM, Germ?n Molina Larrain <germolinal at gmail.com
> wrote:

> Hi everyone,
>
> I am working on a project that requires calculating solar heat gains
> through (very) complex building envelopes. I am pretty sure that EnergyPlus
> will not be able to do it...
>
> I know EPlus is capable of dealing with CFS by means of BSDF... but that
> assumes that the CFS is an extra layer in the facade. In my case, you could
> consider the facade to be just anything.... a moving (ondulated and
> microperforated) overhang, a tree, a complex exterior environment, etc.
>
> My plan is to use Daylight Coefficients and use
> SurfaceProperty:SolarIncidentInside object in E+. That is, I want to
> pre-calculate the incident solar radiation using Radiance. *Just the
> incident! interreflection will be calculated by EPlus (is that correct?)*
>
> I understand this could be done as:
>
>    1. Create an office with black walls, floor and ceiling... the
>    exterior and the envelope keep their properties.
>    2. Create a sensor file for each surface... sensors are normal to each
>    surface, pointing inside
>    3. Calculate Daylight Coefficients for each wall
>    1. cat Wall.pts | rfluxmtx [options] -I+ - white_sky.rad scene.rad >
>       Wall.dcmtx
>    4. Calculate irradiance over surface
>       1. cat weather.wea | dctimestep Wall.dcmtx | averageSensors >
>       WallSolarRad.txt
>
> Now... I am not sure if this is correct, because what ANDY SHOWED IN 2011
> <http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day3/AM_Radiance_EnergyPlus.pdf>
> is sort of different. He calculated a wird View Matrix.... is that an old
> way of doing this same thing? What am I missing?
>
> Best!
>
> Germ?n
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160227/7e84f2a4/attachment.html>

From mcneil.andrew at gmail.com  Sat Feb 27 13:29:45 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Sat, 27 Feb 2016 13:29:45 -0800
Subject: [Radiance-general] Calculating scheduled solar gains for
 EnergyPlus' surfaces
In-Reply-To: <CAEFJVk8u+TbvFZCUsn9rSHJ8=C95uwH3x2Ek+vVFa_sHJwC_Tw@mail.gmail.com>
References: <CAF-iH4KoTKju3KFVYfVehNFGocYu8c1Z1-JNWnEkShGg4h_-Sw@mail.gmail.com>
	<CAEFJVk8u+TbvFZCUsn9rSHJ8=C95uwH3x2Ek+vVFa_sHJwC_Tw@mail.gmail.com>
Message-ID: <CAEFJVk8LornFPqOWoKJVkX+QJ_KLj+zsJFXUk5NSoeUcvDY4Pw@mail.gmail.com>

Also, if you use your approach and use ab>0 then you need to multiply the
irradiance on the surface by solar absorbance of the surface. If you don't
then you will definitely create energy.

Andy

On Sat, Feb 27, 2016 at 1:28 PM, Andy McNeil <mcneil.andrew at gmail.com>
wrote:

> Hi German,
> If you're okay with spatial averaging of the solar gains over a group of
> windows, you could create a BSDF using Radiance to represent the complexity
> in E+. The only caveat is that instances where sunlight coming from behind
> the facade can enter the facade (reflecting off of buildings across the
> street, for example) can not be represented in a BSDF. So you site
> obstructions are best represented as geometry in the energy plus model. But
> overhangs and undulated microperferated screens can now be represented as
> BSDFs.
>
> Now I'll try to compare my approach from 2011 to the approach you detail.
> I traced rays from the window into the space to see what surfaces the ray
> hit. You're creating sensors on surfaces tracing rays from the surfaces to
> the windows to calculate irradiance. Your approach probably works fine in
> most cases, but mine is better :).  With your approach you're trying to
> calculate the average irradiance over a surface. If you have one sensor
> point your estimate of the average will not be very good. So you decide to
> use a grid of sensor points, which improves your estimate, but a regular
> grid will be biased. So you use random points and your estimate is very
> good. Though if you have a complex model, with say furniture, then you need
> to know what hits the furniture too. Good luck putting sensor on all the
> furniture surfaces. So then the next question is what settings are you
> using? where they high enough?
>
> Instead if you send rays from the window into the space, like I did, every
> ray is accounted for, so your total solar gains will be accurate. With my
> approach, I know that the sum of the energy distributed to the surfaces
> equals the sum of the energy transmitted by the window, error in my
> approach is limited to relative distribution between surfaces. With you
> approach you have to do a lot of work to try to make sure the total energy
> in the space is accurate, and I don't know of a simple way to check that
> the sum of energy attributed to surfaces equals the sum of energy
> transmitted by the window.
>
> So while my approach might be trickier to implement, once it's running you
> know you're not destroying or creating energy. Your approach is simple to
> set up, but you're never really sure that the total energy in the space is
> correct.
>
> Andy
>
>
>
> On Sat, Feb 27, 2016 at 4:18 AM, Germ?n Molina Larrain <
> germolinal at gmail.com> wrote:
>
>> Hi everyone,
>>
>> I am working on a project that requires calculating solar heat gains
>> through (very) complex building envelopes. I am pretty sure that EnergyPlus
>> will not be able to do it...
>>
>> I know EPlus is capable of dealing with CFS by means of BSDF... but that
>> assumes that the CFS is an extra layer in the facade. In my case, you could
>> consider the facade to be just anything.... a moving (ondulated and
>> microperforated) overhang, a tree, a complex exterior environment, etc.
>>
>> My plan is to use Daylight Coefficients and use
>> SurfaceProperty:SolarIncidentInside object in E+. That is, I want to
>> pre-calculate the incident solar radiation using Radiance. *Just the
>> incident! interreflection will be calculated by EPlus (is that correct?)*
>>
>> I understand this could be done as:
>>
>>    1. Create an office with black walls, floor and ceiling... the
>>    exterior and the envelope keep their properties.
>>    2. Create a sensor file for each surface... sensors are normal to
>>    each surface, pointing inside
>>    3. Calculate Daylight Coefficients for each wall
>>    1. cat Wall.pts | rfluxmtx [options] -I+ - white_sky.rad scene.rad >
>>       Wall.dcmtx
>>    4. Calculate irradiance over surface
>>       1. cat weather.wea | dctimestep Wall.dcmtx | averageSensors >
>>       WallSolarRad.txt
>>
>> Now... I am not sure if this is correct, because what ANDY SHOWED IN 2011
>> <http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day3/AM_Radiance_EnergyPlus.pdf>
>> is sort of different. He calculated a wird View Matrix.... is that an old
>> way of doing this same thing? What am I missing?
>>
>> Best!
>>
>> Germ?n
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160227/d24a7b30/attachment.html>

From alireh at uw.edu  Sat Feb 27 16:20:03 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sat, 27 Feb 2016 16:20:03 -0800
Subject: [Radiance-general] Application of Radiance Perl scripts on Windows
Message-ID: <CADjcrehMurhCeKExPsTxh12GHKT+hUd3B2Y=BaSxOFgBhBM2sg@mail.gmail.com>

Hello,

I have a question/request with regards to the application of Radiance Perl
scripts on Windows:


I had previously managed to package all Perl scripts in the Radiance/bin
directory via the PAR package for Perl so that there would be an executable
version (.exe) per each .pl format. The reason for such transformation is
the significant impact that calling a ".exe" file has on the overall
workflow using Radiance on Windows in comparison with having to call the
Perl interpreter and passing the given script's path
(Radiance/bin/<filename>.pl) every time that a single Perl script has to be
used on the Windows command line (In particular, Git Bash). However,
recently, there has been changes and I have not managed to use the
open-source PAR package for Perl to package the Radiance perl scripts into
.exe format.

- I was wondering if it is possible to release a ".exe" file for each
Radiance Perl script (corresponding  with the release of each update to a
script)?

- Otherwise, I would appreciate if you could guide me on alternative
solutions to transform Perl scripts to .exe files on Windows.

(Other than the open-source PAR package, I have used a trial version of the
commercial Active State Perl Development Kit including PerlApp that allows
you to make executable file for perl scripts. However, once the trial
period is over, the generated .exe files by the application will no longer
work.)

Thank you very much,
Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160227/ec9cb118/attachment-0001.html>

From rob.guglielmetti at gmail.com  Sat Feb 27 16:31:53 2016
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sat, 27 Feb 2016 17:31:53 -0700
Subject: [Radiance-general] Application of Radiance Perl scripts on
	Windows
In-Reply-To: <CADjcrehMurhCeKExPsTxh12GHKT+hUd3B2Y=BaSxOFgBhBM2sg@mail.gmail.com>
References: <CADjcrehMurhCeKExPsTxh12GHKT+hUd3B2Y=BaSxOFgBhBM2sg@mail.gmail.com>
Message-ID: <DC83681B-AE97-4546-A7CA-34CA778E145C@gmail.com>

The PAR package actually wraps an entire copy of the Perl interpreter around each and every Perl script, which is a ridiculous waste of space and a burden on load/run times. If you have Perl and Radiance installed properly you can call perl scripts on Windows (Widows and GitBash shells) just the same as on any other platform. The Radiance-related perl scripts should be installed with all the other Radiance executables, and that location should be in your system PATH. Perl needs to be installed and configured to be the ?default application?, or whatever the Windows jargon is, for perl scripts. Once these two things are done, you can call the name of the perl script (e.g. genBSDF.pl) and it will work, from any location. 

- Rob


> On Feb 27, 2016, at 5:20 PM, Alireza Hashemloo <alireh at uw.edu> wrote:
> 
> Hello,
> 
> I have a question/request with regards to the application of Radiance Perl scripts on Windows:
> 
> 
> I had previously managed to package all Perl scripts in the Radiance/bin directory via the PAR package for Perl so that there would be an executable version (.exe) per each .pl format. The reason for such transformation is the significant impact that calling a ".exe" file has on the overall workflow using Radiance on Windows in comparison with having to call the Perl interpreter and passing the given script's path (Radiance/bin/<filename>.pl) every time that a single Perl script has to be used on the Windows command line (In particular, Git Bash). However, recently, there has been changes and I have not managed to use the open-source PAR package for Perl to package the Radiance perl scripts into .exe format.
> 
> - I was wondering if it is possible to release a ".exe" file for each Radiance Perl script (corresponding  with the release of each update to a script)?
> 
> - Otherwise, I would appreciate if you could guide me on alternative solutions to transform Perl scripts to .exe files on Windows. 
> 
> (Other than the open-source PAR package, I have used a trial version of the commercial Active State Perl Development Kit including PerlApp that allows you to make executable file for perl scripts. However, once the trial period is over, the generated .exe files by the application will no longer work.)
> 
> Thank you very much,
> Alireza
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From germolinal at gmail.com  Sat Feb 27 16:35:54 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Sat, 27 Feb 2016 21:35:54 -0300
Subject: [Radiance-general] Calculating scheduled solar gains for
 EnergyPlus' surfaces
In-Reply-To: <CAEFJVk8LornFPqOWoKJVkX+QJ_KLj+zsJFXUk5NSoeUcvDY4Pw@mail.gmail.com>
References: <CAF-iH4KoTKju3KFVYfVehNFGocYu8c1Z1-JNWnEkShGg4h_-Sw@mail.gmail.com>
	<CAEFJVk8u+TbvFZCUsn9rSHJ8=C95uwH3x2Ek+vVFa_sHJwC_Tw@mail.gmail.com>
	<CAEFJVk8LornFPqOWoKJVkX+QJ_KLj+zsJFXUk5NSoeUcvDY4Pw@mail.gmail.com>
Message-ID: <CAF-iH4+2o8QXHXcmqP7vJDO4rn0LjRBO2XuEJKRHJuws5_Ax2g@mail.gmail.com>

Hi Andy,

thanks for such a very good answer. It is quite clear, or will be once it
sinks in.

I have one concern though. Let me elaborate.

My intention was to, actually, not use BSDFs at all. I would like to
account for the irradiance caused by the sky and sun, not using the 3-phase
method, but the 2 phase one. Accordingly, I send rays from the walls to the
binned sky, not to the window. In such case, I would say that your method
is impracticable since there is nowhere to send rays from, and with it it
is impossible to account for inter reflections on the (very weird) exterior
environment.

The idea of using black walls, floor and ceiling surfaces was not to
consider inter reflections in the interior space (I understand that energy
plus will account for that...?). Why do I need -ab 0? I actually want to
account for all the optical phenomena on the exterior.

Am I being clear? Am I totally wrong?

Kind regards!
El 27 feb. 2016 18:33, "Andy McNeil" <mcneil.andrew at gmail.com> escribi?:

> Also, if you use your approach and use ab>0 then you need to multiply the
> irradiance on the surface by solar absorbance of the surface. If you don't
> then you will definitely create energy.
>
> Andy
>
> On Sat, Feb 27, 2016 at 1:28 PM, Andy McNeil <mcneil.andrew at gmail.com>
> wrote:
>
>> Hi German,
>> If you're okay with spatial averaging of the solar gains over a group of
>> windows, you could create a BSDF using Radiance to represent the complexity
>> in E+. The only caveat is that instances where sunlight coming from behind
>> the facade can enter the facade (reflecting off of buildings across the
>> street, for example) can not be represented in a BSDF. So you site
>> obstructions are best represented as geometry in the energy plus model. But
>> overhangs and undulated microperferated screens can now be represented as
>> BSDFs.
>>
>> Now I'll try to compare my approach from 2011 to the approach you detail.
>> I traced rays from the window into the space to see what surfaces the ray
>> hit. You're creating sensors on surfaces tracing rays from the surfaces to
>> the windows to calculate irradiance. Your approach probably works fine in
>> most cases, but mine is better :).  With your approach you're trying to
>> calculate the average irradiance over a surface. If you have one sensor
>> point your estimate of the average will not be very good. So you decide to
>> use a grid of sensor points, which improves your estimate, but a regular
>> grid will be biased. So you use random points and your estimate is very
>> good. Though if you have a complex model, with say furniture, then you need
>> to know what hits the furniture too. Good luck putting sensor on all the
>> furniture surfaces. So then the next question is what settings are you
>> using? where they high enough?
>>
>> Instead if you send rays from the window into the space, like I did,
>> every ray is accounted for, so your total solar gains will be accurate.
>> With my approach, I know that the sum of the energy distributed to the
>> surfaces equals the sum of the energy transmitted by the window, error in
>> my approach is limited to relative distribution between surfaces. With you
>> approach you have to do a lot of work to try to make sure the total energy
>> in the space is accurate, and I don't know of a simple way to check that
>> the sum of energy attributed to surfaces equals the sum of energy
>> transmitted by the window.
>>
>> So while my approach might be trickier to implement, once it's running
>> you know you're not destroying or creating energy. Your approach is simple
>> to set up, but you're never really sure that the total energy in the space
>> is correct.
>>
>> Andy
>>
>>
>>
>> On Sat, Feb 27, 2016 at 4:18 AM, Germ?n Molina Larrain <
>> germolinal at gmail.com> wrote:
>>
>>> Hi everyone,
>>>
>>> I am working on a project that requires calculating solar heat gains
>>> through (very) complex building envelopes. I am pretty sure that EnergyPlus
>>> will not be able to do it...
>>>
>>> I know EPlus is capable of dealing with CFS by means of BSDF... but that
>>> assumes that the CFS is an extra layer in the facade. In my case, you could
>>> consider the facade to be just anything.... a moving (ondulated and
>>> microperforated) overhang, a tree, a complex exterior environment, etc.
>>>
>>> My plan is to use Daylight Coefficients and use
>>> SurfaceProperty:SolarIncidentInside object in E+. That is, I want to
>>> pre-calculate the incident solar radiation using Radiance. *Just the
>>> incident! interreflection will be calculated by EPlus (is that correct?)*
>>>
>>> I understand this could be done as:
>>>
>>>    1. Create an office with black walls, floor and ceiling... the
>>>    exterior and the envelope keep their properties.
>>>    2. Create a sensor file for each surface... sensors are normal to
>>>    each surface, pointing inside
>>>    3. Calculate Daylight Coefficients for each wall
>>>    1. cat Wall.pts | rfluxmtx [options] -I+ - white_sky.rad scene.rad >
>>>       Wall.dcmtx
>>>    4. Calculate irradiance over surface
>>>       1. cat weather.wea | dctimestep Wall.dcmtx | averageSensors >
>>>       WallSolarRad.txt
>>>
>>> Now... I am not sure if this is correct, because what ANDY SHOWED IN
>>> 2011
>>> <http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day3/AM_Radiance_EnergyPlus.pdf>
>>> is sort of different. He calculated a wird View Matrix.... is that an old
>>> way of doing this same thing? What am I missing?
>>>
>>> Best!
>>>
>>> Germ?n
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160227/2db82ad0/attachment.html>

From alireh at uw.edu  Sat Feb 27 21:14:56 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sat, 27 Feb 2016 21:14:56 -0800
Subject: [Radiance-general] Application of Radiance Perl scripts on
	Windows
In-Reply-To: <DC83681B-AE97-4546-A7CA-34CA778E145C@gmail.com>
References: <CADjcrehMurhCeKExPsTxh12GHKT+hUd3B2Y=BaSxOFgBhBM2sg@mail.gmail.com>
	<DC83681B-AE97-4546-A7CA-34CA778E145C@gmail.com>
Message-ID: <CADjcrehEmQaicsrG86cMkSa2T5Mg+S2tC_+dzG7gccZd6X2QyA@mail.gmail.com>

Rob,

Thank you for your response. Let me elaborate on the difficulty I run into
when I add the Perl interpreter to my environment variable paths on Windows
or calling the interpreter and passing the script's path to it in
comparison with packaging the Perl scripts with PAR or any commercial
product that does such packaging:

Using Git Bash on Windows 7 (64-bit), if I call a Perl script by calling
the interpreter and then the script path such as "$ perl C:/Radiance/bin/
genklemsamp.pl ..." OR by adding the the Perl interpreter to my environment
variable paths so that I just could call the name of the desired script in
the command line such as " $ genklemsamp.pl ...", I would run into the
following error message given as an example:

Command:

"$ genklemsamp.pl -c 10000 -vd 0 -1 0 objects/glazing_outside_pane.rad |
rcontrib -c 10000 -ab 2 -ad 1024 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins
-m sky_glow -fa model_3_phase.oct > daylight_matrices/daymtx_6.dmx"

Error:

"bash: daylight_matrices/daymtx_6.dmx: No such file or directory
C:\Radiance\bin\xform.exe: cannot find file
"objects/glazing_outside_pane.rad"
oconv: warning - (standard input): empty file
C:\Radiance\bin\vwright.exe: illegal horizontal view size
Illegal division by zero at /c/Radiance/bin/genklemsamp.pl line 118"


Essentially, in either way of calling the Perl scripts in
"C:/Radiance/bin/" (without packaging it to an executable and saving it in
"C:/Radiance/bin/" with ".exe" format), it looks like that my current
working directory (project folder) is ignored when the Perl script  is
called and therefore, I encounter an error message regarding missing
directories/file as given in the example above. This is despite the fact
that if I run a "pwd" call in Git Bash command line, my current working
directory is still appears to be correctly set to my project folder where
the missing files are located.
Therefore, I end up having to pass the absolute path of each file in my
project to the called Radiance Perl script which is inconvenient.

On the other hand, If I package the Perl scripts into an ".exe" format, I
do not receive any errors with regards to missing project files and I can
pass my project files with relative paths just like passing files to any
other Radiance command that is originally in ".exe" format.

The described issue with missing directories/files error, has been the
primary reason for me, so far, to follow the approach to packaging the Perl
scripts. It would be great if you could guide me through this issue that is
leading me to be dependent on packaging the Perl scripts in Radiance.

Please let me know if you needed any further information.
Best Regards,

Alireza

On Sat, Feb 27, 2016 at 4:31 PM, Rob Guglielmetti <
rob.guglielmetti at gmail.com> wrote:

> The PAR package actually wraps an entire copy of the Perl interpreter
> around each and every Perl script, which is a ridiculous waste of space and
> a burden on load/run times. If you have Perl and Radiance installed
> properly you can call perl scripts on Windows (Widows and GitBash shells)
> just the same as on any other platform. The Radiance-related perl scripts
> should be installed with all the other Radiance executables, and that
> location should be in your system PATH. Perl needs to be installed and
> configured to be the ?default application?, or whatever the Windows jargon
> is, for perl scripts. Once these two things are done, you can call the name
> of the perl script (e.g. genBSDF.pl) and it will work, from any location.
>
> - Rob
>
>
> > On Feb 27, 2016, at 5:20 PM, Alireza Hashemloo <alireh at uw.edu> wrote:
> >
> > Hello,
> >
> > I have a question/request with regards to the application of Radiance
> Perl scripts on Windows:
> >
> >
> > I had previously managed to package all Perl scripts in the Radiance/bin
> directory via the PAR package for Perl so that there would be an executable
> version (.exe) per each .pl format. The reason for such transformation is
> the significant impact that calling a ".exe" file has on the overall
> workflow using Radiance on Windows in comparison with having to call the
> Perl interpreter and passing the given script's path
> (Radiance/bin/<filename>.pl) every time that a single Perl script has to be
> used on the Windows command line (In particular, Git Bash). However,
> recently, there has been changes and I have not managed to use the
> open-source PAR package for Perl to package the Radiance perl scripts into
> .exe format.
> >
> > - I was wondering if it is possible to release a ".exe" file for each
> Radiance Perl script (corresponding  with the release of each update to a
> script)?
> >
> > - Otherwise, I would appreciate if you could guide me on alternative
> solutions to transform Perl scripts to .exe files on Windows.
> >
> > (Other than the open-source PAR package, I have used a trial version of
> the commercial Active State Perl Development Kit including PerlApp that
> allows you to make executable file for perl scripts. However, once the
> trial period is over, the generated .exe files by the application will no
> longer work.)
> >
> > Thank you very much,
> > Alireza
> >
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160227/e1d2f37f/attachment-0001.html>

From Robert.Guglielmetti at nrel.gov  Mon Feb 29 06:48:03 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 29 Feb 2016 14:48:03 +0000
Subject: [Radiance-general] Application of Radiance Perl scripts
	on	Windows
In-Reply-To: <CADjcrehEmQaicsrG86cMkSa2T5Mg+S2tC_+dzG7gccZd6X2QyA@mail.gmail.com>
References: <CADjcrehMurhCeKExPsTxh12GHKT+hUd3B2Y=BaSxOFgBhBM2sg@mail.gmail.com>
	<DC83681B-AE97-4546-A7CA-34CA778E145C@gmail.com>,
	<CADjcrehEmQaicsrG86cMkSa2T5Mg+S2tC_+dzG7gccZd6X2QyA@mail.gmail.com>
Message-ID: <09C8E73C-67A9-4BFE-AC05-36BCC9354829@nrel.gov>

That error still looks like a path problem. I generally recommend adding the working directory ( represented by a ".") to both your PATH and RAYPATH environment variables. I use GitBash (which is really just a stripped down install of Cygwin) when I'm forced to use Windows for testing Radiance, and all of the Radiance Perl scripts run fine without packaging them, and definitely without having to provide full paths to every referenced file. Just make sure you've added the dot to those two environment variables, and add them to your SYSTEM env vars rather than the USER ones.

-Rob

On Feb 27, 2016, at 10:21 PM, Alireza Hashemloo <alireh at uw.edu<mailto:alireh at uw.edu>> wrote:

Rob,

Thank you for your response. Let me elaborate on the difficulty I run into when I add the Perl interpreter to my environment variable paths on Windows or calling the interpreter and passing the script's path to it in comparison with packaging the Perl scripts with PAR or any commercial product that does such packaging:

Using Git Bash on Windows 7 (64-bit), if I call a Perl script by calling the interpreter and then the script path such as "$ perl C:/Radiance/bin/genklemsamp.pl<http://genklemsamp.pl> ..." OR by adding the the Perl interpreter to my environment variable paths so that I just could call the name of the desired script in the command line such as " $ genklemsamp.pl<http://genklemsamp.pl> ...", I would run into the following error message given as an example:

Command:

"$ genklemsamp.pl<http://genklemsamp.pl> -c 10000 -vd 0 -1 0 objects/glazing_outside_pane.rad | rcontrib -c 10000 -ab 2 -ad 1024 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -fa model_3_phase.oct > daylight_matrices/daymtx_6.dmx"

Error:

"bash: daylight_matrices/daymtx_6.dmx: No such file or directory
C:\Radiance\bin\xform.exe: cannot find file "objects/glazing_outside_pane.rad"
oconv: warning - (standard input): empty file
C:\Radiance\bin\vwright.exe: illegal horizontal view size
Illegal division by zero at /c/Radiance/bin/genklemsamp.pl<http://genklemsamp.pl> line 118"


Essentially, in either way of calling the Perl scripts in "C:/Radiance/bin/" (without packaging it to an executable and saving it in "C:/Radiance/bin/" with ".exe" format), it looks like that my current working directory (project folder) is ignored when the Perl script  is called and therefore, I encounter an error message regarding missing directories/file as given in the example above. This is despite the fact that if I run a "pwd" call in Git Bash command line, my current working directory is still appears to be correctly set to my project folder where the missing files are located.
Therefore, I end up having to pass the absolute path of each file in my project to the called Radiance Perl script which is inconvenient.

On the other hand, If I package the Perl scripts into an ".exe" format, I do not receive any errors with regards to missing project files and I can pass my project files with relative paths just like passing files to any other Radiance command that is originally in ".exe" format.

The described issue with missing directories/files error, has been the primary reason for me, so far, to follow the approach to packaging the Perl scripts. It would be great if you could guide me through this issue that is leading me to be dependent on packaging the Perl scripts in Radiance.

Please let me know if you needed any further information.
Best Regards,

Alireza

On Sat, Feb 27, 2016 at 4:31 PM, Rob Guglielmetti <rob.guglielmetti at gmail.com<mailto:rob.guglielmetti at gmail.com>> wrote:
The PAR package actually wraps an entire copy of the Perl interpreter around each and every Perl script, which is a ridiculous waste of space and a burden on load/run times. If you have Perl and Radiance installed properly you can call perl scripts on Windows (Widows and GitBash shells) just the same as on any other platform. The Radiance-related perl scripts should be installed with all the other Radiance executables, and that location should be in your system PATH. Perl needs to be installed and configured to be the "default application", or whatever the Windows jargon is, for perl scripts. Once these two things are done, you can call the name of the perl script (e.g. genBSDF.pl) and it will work, from any location.

- Rob


> On Feb 27, 2016, at 5:20 PM, Alireza Hashemloo <alireh at uw.edu<mailto:alireh at uw.edu>> wrote:
>
> Hello,
>
> I have a question/request with regards to the application of Radiance Perl scripts on Windows:
>
>
> I had previously managed to package all Perl scripts in the Radiance/bin directory via the PAR package for Perl so that there would be an executable version (.exe) per each .pl format. The reason for such transformation is the significant impact that calling a ".exe" file has on the overall workflow using Radiance on Windows in comparison with having to call the Perl interpreter and passing the given script's path (Radiance/bin/<filename>.pl) every time that a single Perl script has to be used on the Windows command line (In particular, Git Bash). However, recently, there has been changes and I have not managed to use the open-source PAR package for Perl to package the Radiance perl scripts into .exe format.
>
> - I was wondering if it is possible to release a ".exe" file for each Radiance Perl script (corresponding  with the release of each update to a script)?
>
> - Otherwise, I would appreciate if you could guide me on alternative solutions to transform Perl scripts to .exe files on Windows.
>
> (Other than the open-source PAR package, I have used a trial version of the commercial Active State Perl Development Kit including PerlApp that allows you to make executable file for perl scripts. However, once the trial period is over, the generated .exe files by the application will no longer work.)
>
> Thank you very much,
> Alireza
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
> http://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general


From rmfritz3 at gmail.com  Mon Feb 29 11:25:16 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 29 Feb 2016 11:25:16 -0800
Subject: [Radiance-general] Revit to Radiance proof of concept
In-Reply-To: <CAEFJVk8MUYM-QqTHp3vqXAqzu8Tr_B7vEMo_8gr0TBFY=dpfCA@mail.gmail.com>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
	<4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
	<D2F4739C.231D1%Robert.Guglielmetti@nrel.gov>
	<CAEFJVk8MUYM-QqTHp3vqXAqzu8Tr_B7vEMo_8gr0TBFY=dpfCA@mail.gmail.com>
Message-ID: <CANeAMo+tNrstxj3TwyNh8PcOuhDVT3YBVjFoS9naQmZdvaTaJw@mail.gmail.com>

That's pretty amazing. Thanks.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Thu, Feb 25, 2016 at 9:22 AM, Andy McNeil <mcneil.andrew at gmail.com>
wrote:

> Wow! Thanks Schorsch! I've uploaded your email and the python script to
> radiance-online to make it easier to access in the future:
>
> http://www.radiance-online.org/download-install/third-party-utilities/revitradout
>
>
> On Thu, Feb 25, 2016 at 8:02 AM, Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov> wrote:
>
>> Also just great to hear from you again, Schorsch!
>>
>> On 2/24/16, 5:58 PM, "Greg Ward" <gregoryjward at gmail.com> wrote:
>>
>> >Wow, Schorsch -- that's quite the unexpected gift!  We were just talking
>> >about a Revit exporter at the last Radiance workshop.  Everyone agreed it
>> >was a good idea, but no one really knew where to start.  Thanks for
>> >giving us the leg up!
>> >
>> >Cheers,
>> >-Greg
>> >
>> >> From: Georg Mischler <schorsch at schorsch.com>
>> >> Subject: [Radiance-general] Revit to Radiance proof of concept
>> >> Date: February 24, 2016 2:53:15 PM PST
>> >>
>> >> Hi all,
>> >>
>> >> I have recently had access to a Revit installation and decided to
>> >>experiment
>> >> a bit with its API. The resulting Python file is attached for anyone to
>> >>try.
>> >> I consider this a proof of concept implementation at the moment. There
>> >>are many
>> >> rough edges, and lots of features missing that would be expected in a
>> >>full blown
>> >> translator. It has been tested on the sample files supplied with Revit,
>> >>but not
>> >> on any other files.
>> >>
>> >> I may or may not have access to Revit in the coming months, so this is
>> >>what
>> >> you get for now...
>> >>
>> >>
>> >> Technical considerations
>> >>
>> >> Revit doesn't have the same geometry primitives as Radiance, but
>> >> uses B-Rep geometry in winged edge representation.
>> >> Surface elements don't close in on themselfes. This eliminates
>> >> ambiguous positioning issues for the software. For an exporter,
>> >> it means that eg. a cylinder is not one surface, but typically
>> >> composed of two half-cylinders. A circle consists of two half
>> >> arcs, etc.
>> >> Recognizing simple volume types requires analyzing and reassembling
>> >> several surface elements. This only seems to make sense for
>> >> circles/rings and cylinders (cones?) which are sufficiently easy.
>> >>
>> >>
>> >> Working features:
>> >>
>> >> * Exports all geometry visible in the active 3D view (minus RPCs)
>> >> * Seperate function for exporting topography meshes.
>> >> * cylinders and circles/rings as Radiance primitives.
>> >> * Planar faces as polygons (including holes)
>> >> * All other surfaces tesselated into triangles (rectangles for
>> >>  partial cylinders.
>> >> * Names based on level and leaf node family name (type name for
>> >>  non-family types) and material
>> >> * Metric or imperial export (configured in code)
>> >>
>> >>
>> >> To do
>> >>
>> >> * Turn into an external add-in
>> >> * Export RPCs in some way
>> >> * Export regions (parts of a surface using different color/material)
>> >> * Alternative primitive naming options (substitution lists?)
>> >> * Possibly split up the output into several files (eg. by level?)
>> >> * Detect cones (are those always coaxial in Revit?)
>> >> * Export unmodified (other than positioning/scaling) Family instances
>> >>  as seperate objects to be included via replmarks.
>> >> * Export (sufficiently large) meshes as Radiance meshes
>> >> * Export normals with curved surfaces for smoothing
>> >> * Export material properties in addition to the names
>> >> * Export light sources
>> >> * Export views
>> >> * Maybe export elements via selection instead of a complete view
>> >> * Dialog box to configure output interactively
>> >> * others?
>> >>
>> >>
>> >> Issues to research
>> >>
>> >> * It's not always easily possible to figure out on which level a
>> certain
>> >>  element resides (assuming they are associated with a level at all).
>> >> * Small objects with fine detail may result in many zero-area polygons.
>> >> * Installing an export function as a macro is clumsy. There may be a
>> >>way to create
>> >>  an external installable via the Revit Python Shell.
>> >>
>> >>
>> >> Installation
>> >>
>> >> Due to my lazyness, I created the exporter as an "Application Macro".
>> >> Not sure if it can be installed as an external add-on without changes
>> >>to the code.
>> >> To install as a macro, select the "Manage" tab, click on "Macros".
>> >> Select the "Application" tab in the opening dialog, and press "Create
>> >>Module".
>> >> Give your new application a name, chose "Python" as a language and
>> >>press "Ok".
>> >> The SharpDevelop IDE should open with a new project containing
>> >>boilerplate
>> >> code. Replace that with the contents of my file and press F8 to
>> compile.
>> >>
>> >> Now open the "Macros" dialog again, and your Module will have sprouted
>> >>two macros
>> >> named "ExportToRadiance" and "ExportTopoToRadiance". Select one of
>> >>those and
>> >> press "Run" (only works if the current view is a 3D-view).
>> >>
>> >>
>> >> Configuration
>> >>
>> >> Currently all relevant configuration happens in the code, near the top
>> >>of
>> >> the file. Configuration options are:
>> >>
>> >> * Metric or Imperial
>> >> * Output file name (default: "revout.rad" on your desktop)
>> >> * Output file name for topography (default: "revout_topo.rad" on your
>> >>desktop)
>> >>
>> >>
>> >> The attached jpg is from one of the Revit samples. The scene file is
>> >>around 50MB.
>> >> Ironically, just in this example, the Brown chair at left shows some
>> >>missing
>> >> faces at the front of the armrest... Not sure if this is my fault or
>> >>Revit's.
>> >>
>> >> Anyone who wants to try improving and extending RRadout, just go ahead
>> >>and share your
>> >> results. Depending on the feedback, I may create a Github project.
>> >>
>> >>
>> >> Have fun!
>> >>
>> >> -schorsch
>> >
>> >_______________________________________________
>> >Radiance-general mailing list
>> >Radiance-general at radiance-online.org
>> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160229/ec6de309/attachment.html>

From mcneil.andrew at gmail.com  Mon Feb 29 11:46:27 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Mon, 29 Feb 2016 11:46:27 -0800
Subject: [Radiance-general] Calculating scheduled solar gains for
 EnergyPlus' surfaces
In-Reply-To: <CAF-iH4+2o8QXHXcmqP7vJDO4rn0LjRBO2XuEJKRHJuws5_Ax2g@mail.gmail.com>
References: <CAF-iH4KoTKju3KFVYfVehNFGocYu8c1Z1-JNWnEkShGg4h_-Sw@mail.gmail.com>
	<CAEFJVk8u+TbvFZCUsn9rSHJ8=C95uwH3x2Ek+vVFa_sHJwC_Tw@mail.gmail.com>
	<CAEFJVk8LornFPqOWoKJVkX+QJ_KLj+zsJFXUk5NSoeUcvDY4Pw@mail.gmail.com>
	<CAF-iH4+2o8QXHXcmqP7vJDO4rn0LjRBO2XuEJKRHJuws5_Ax2g@mail.gmail.com>
Message-ID: <CAEFJVk_-xc-hBLOGo1vKygK0e4tQgEWVT8aoXOhFLUhpQE4kiw@mail.gmail.com>

German,
Since you're not using BSDFs, I guess your approach makes sense. Just make
sure you accurately account for all the surface area in your model,
otherwise your total solar gain will be off.
Andy

On Sat, Feb 27, 2016 at 4:35 PM, Germ?n Molina Larrain <germolinal at gmail.com
> wrote:

> Hi Andy,
>
> thanks for such a very good answer. It is quite clear, or will be once it
> sinks in.
>
> I have one concern though. Let me elaborate.
>
> My intention was to, actually, not use BSDFs at all. I would like to
> account for the irradiance caused by the sky and sun, not using the 3-phase
> method, but the 2 phase one. Accordingly, I send rays from the walls to the
> binned sky, not to the window. In such case, I would say that your method
> is impracticable since there is nowhere to send rays from, and with it it
> is impossible to account for inter reflections on the (very weird) exterior
> environment.
>
> The idea of using black walls, floor and ceiling surfaces was not to
> consider inter reflections in the interior space (I understand that energy
> plus will account for that...?). Why do I need -ab 0? I actually want to
> account for all the optical phenomena on the exterior.
>
> Am I being clear? Am I totally wrong?
>
> Kind regards!
> El 27 feb. 2016 18:33, "Andy McNeil" <mcneil.andrew at gmail.com> escribi?:
>
>> Also, if you use your approach and use ab>0 then you need to multiply the
>> irradiance on the surface by solar absorbance of the surface. If you don't
>> then you will definitely create energy.
>>
>> Andy
>>
>> On Sat, Feb 27, 2016 at 1:28 PM, Andy McNeil <mcneil.andrew at gmail.com>
>> wrote:
>>
>>> Hi German,
>>> If you're okay with spatial averaging of the solar gains over a group of
>>> windows, you could create a BSDF using Radiance to represent the complexity
>>> in E+. The only caveat is that instances where sunlight coming from behind
>>> the facade can enter the facade (reflecting off of buildings across the
>>> street, for example) can not be represented in a BSDF. So you site
>>> obstructions are best represented as geometry in the energy plus model. But
>>> overhangs and undulated microperferated screens can now be represented as
>>> BSDFs.
>>>
>>> Now I'll try to compare my approach from 2011 to the approach you
>>> detail. I traced rays from the window into the space to see what surfaces
>>> the ray hit. You're creating sensors on surfaces tracing rays from the
>>> surfaces to the windows to calculate irradiance. Your approach probably
>>> works fine in most cases, but mine is better :).  With your approach you're
>>> trying to calculate the average irradiance over a surface. If you have one
>>> sensor point your estimate of the average will not be very good. So you
>>> decide to use a grid of sensor points, which improves your estimate, but a
>>> regular grid will be biased. So you use random points and your estimate is
>>> very good. Though if you have a complex model, with say furniture, then you
>>> need to know what hits the furniture too. Good luck putting sensor on all
>>> the furniture surfaces. So then the next question is what settings are you
>>> using? where they high enough?
>>>
>>> Instead if you send rays from the window into the space, like I did,
>>> every ray is accounted for, so your total solar gains will be accurate.
>>> With my approach, I know that the sum of the energy distributed to the
>>> surfaces equals the sum of the energy transmitted by the window, error in
>>> my approach is limited to relative distribution between surfaces. With you
>>> approach you have to do a lot of work to try to make sure the total energy
>>> in the space is accurate, and I don't know of a simple way to check that
>>> the sum of energy attributed to surfaces equals the sum of energy
>>> transmitted by the window.
>>>
>>> So while my approach might be trickier to implement, once it's running
>>> you know you're not destroying or creating energy. Your approach is simple
>>> to set up, but you're never really sure that the total energy in the space
>>> is correct.
>>>
>>> Andy
>>>
>>>
>>>
>>> On Sat, Feb 27, 2016 at 4:18 AM, Germ?n Molina Larrain <
>>> germolinal at gmail.com> wrote:
>>>
>>>> Hi everyone,
>>>>
>>>> I am working on a project that requires calculating solar heat gains
>>>> through (very) complex building envelopes. I am pretty sure that EnergyPlus
>>>> will not be able to do it...
>>>>
>>>> I know EPlus is capable of dealing with CFS by means of BSDF... but
>>>> that assumes that the CFS is an extra layer in the facade. In my case, you
>>>> could consider the facade to be just anything.... a moving (ondulated and
>>>> microperforated) overhang, a tree, a complex exterior environment, etc.
>>>>
>>>> My plan is to use Daylight Coefficients and use
>>>> SurfaceProperty:SolarIncidentInside object in E+. That is, I want to
>>>> pre-calculate the incident solar radiation using Radiance. *Just the
>>>> incident! interreflection will be calculated by EPlus (is that correct?)*
>>>>
>>>> I understand this could be done as:
>>>>
>>>>    1. Create an office with black walls, floor and ceiling... the
>>>>    exterior and the envelope keep their properties.
>>>>    2. Create a sensor file for each surface... sensors are normal to
>>>>    each surface, pointing inside
>>>>    3. Calculate Daylight Coefficients for each wall
>>>>    1. cat Wall.pts | rfluxmtx [options] -I+ - white_sky.rad scene.rad
>>>>       > Wall.dcmtx
>>>>    4. Calculate irradiance over surface
>>>>       1. cat weather.wea | dctimestep Wall.dcmtx | averageSensors >
>>>>       WallSolarRad.txt
>>>>
>>>> Now... I am not sure if this is correct, because what ANDY SHOWED IN
>>>> 2011
>>>> <http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day3/AM_Radiance_EnergyPlus.pdf>
>>>> is sort of different. He calculated a wird View Matrix.... is that an old
>>>> way of doing this same thing? What am I missing?
>>>>
>>>> Best!
>>>>
>>>> Germ?n
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160229/338f5862/attachment-0001.html>

From germolinal at gmail.com  Mon Feb 29 11:51:23 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Mon, 29 Feb 2016 16:51:23 -0300
Subject: [Radiance-general] Calculating scheduled solar gains for
 EnergyPlus' surfaces
In-Reply-To: <CAEFJVk_-xc-hBLOGo1vKygK0e4tQgEWVT8aoXOhFLUhpQE4kiw@mail.gmail.com>
References: <CAF-iH4KoTKju3KFVYfVehNFGocYu8c1Z1-JNWnEkShGg4h_-Sw@mail.gmail.com>
	<CAEFJVk8u+TbvFZCUsn9rSHJ8=C95uwH3x2Ek+vVFa_sHJwC_Tw@mail.gmail.com>
	<CAEFJVk8LornFPqOWoKJVkX+QJ_KLj+zsJFXUk5NSoeUcvDY4Pw@mail.gmail.com>
	<CAF-iH4+2o8QXHXcmqP7vJDO4rn0LjRBO2XuEJKRHJuws5_Ax2g@mail.gmail.com>
	<CAEFJVk_-xc-hBLOGo1vKygK0e4tQgEWVT8aoXOhFLUhpQE4kiw@mail.gmail.com>
Message-ID: <CAF-iH4+u7LK75M+rH12eMJS6d9cfRSxcDMScR=McZbr=H+vTwQ@mail.gmail.com>

Cool, Andy! Thanks very much... I understand why you did what you did when
using BSDFs.

I have just noticed something: This approach does not require WINDOW, thus
it can be scripted... :)

Best,

2016-02-29 16:46 GMT-03:00 Andy McNeil <mcneil.andrew at gmail.com>:

> German,
> Since you're not using BSDFs, I guess your approach makes sense. Just make
> sure you accurately account for all the surface area in your model,
> otherwise your total solar gain will be off.
> Andy
>
> On Sat, Feb 27, 2016 at 4:35 PM, Germ?n Molina Larrain <
> germolinal at gmail.com> wrote:
>
>> Hi Andy,
>>
>> thanks for such a very good answer. It is quite clear, or will be once it
>> sinks in.
>>
>> I have one concern though. Let me elaborate.
>>
>> My intention was to, actually, not use BSDFs at all. I would like to
>> account for the irradiance caused by the sky and sun, not using the 3-phase
>> method, but the 2 phase one. Accordingly, I send rays from the walls to the
>> binned sky, not to the window. In such case, I would say that your method
>> is impracticable since there is nowhere to send rays from, and with it it
>> is impossible to account for inter reflections on the (very weird) exterior
>> environment.
>>
>> The idea of using black walls, floor and ceiling surfaces was not to
>> consider inter reflections in the interior space (I understand that energy
>> plus will account for that...?). Why do I need -ab 0? I actually want to
>> account for all the optical phenomena on the exterior.
>>
>> Am I being clear? Am I totally wrong?
>>
>> Kind regards!
>> El 27 feb. 2016 18:33, "Andy McNeil" <mcneil.andrew at gmail.com> escribi?:
>>
>>> Also, if you use your approach and use ab>0 then you need to multiply
>>> the irradiance on the surface by solar absorbance of the surface. If you
>>> don't then you will definitely create energy.
>>>
>>> Andy
>>>
>>> On Sat, Feb 27, 2016 at 1:28 PM, Andy McNeil <mcneil.andrew at gmail.com>
>>> wrote:
>>>
>>>> Hi German,
>>>> If you're okay with spatial averaging of the solar gains over a group
>>>> of windows, you could create a BSDF using Radiance to represent the
>>>> complexity in E+. The only caveat is that instances where sunlight coming
>>>> from behind the facade can enter the facade (reflecting off of buildings
>>>> across the street, for example) can not be represented in a BSDF. So you
>>>> site obstructions are best represented as geometry in the energy plus
>>>> model. But overhangs and undulated microperferated screens can now be
>>>> represented as BSDFs.
>>>>
>>>> Now I'll try to compare my approach from 2011 to the approach you
>>>> detail. I traced rays from the window into the space to see what surfaces
>>>> the ray hit. You're creating sensors on surfaces tracing rays from the
>>>> surfaces to the windows to calculate irradiance. Your approach probably
>>>> works fine in most cases, but mine is better :).  With your approach you're
>>>> trying to calculate the average irradiance over a surface. If you have one
>>>> sensor point your estimate of the average will not be very good. So you
>>>> decide to use a grid of sensor points, which improves your estimate, but a
>>>> regular grid will be biased. So you use random points and your estimate is
>>>> very good. Though if you have a complex model, with say furniture, then you
>>>> need to know what hits the furniture too. Good luck putting sensor on all
>>>> the furniture surfaces. So then the next question is what settings are you
>>>> using? where they high enough?
>>>>
>>>> Instead if you send rays from the window into the space, like I did,
>>>> every ray is accounted for, so your total solar gains will be accurate.
>>>> With my approach, I know that the sum of the energy distributed to the
>>>> surfaces equals the sum of the energy transmitted by the window, error in
>>>> my approach is limited to relative distribution between surfaces. With you
>>>> approach you have to do a lot of work to try to make sure the total energy
>>>> in the space is accurate, and I don't know of a simple way to check that
>>>> the sum of energy attributed to surfaces equals the sum of energy
>>>> transmitted by the window.
>>>>
>>>> So while my approach might be trickier to implement, once it's running
>>>> you know you're not destroying or creating energy. Your approach is simple
>>>> to set up, but you're never really sure that the total energy in the space
>>>> is correct.
>>>>
>>>> Andy
>>>>
>>>>
>>>>
>>>> On Sat, Feb 27, 2016 at 4:18 AM, Germ?n Molina Larrain <
>>>> germolinal at gmail.com> wrote:
>>>>
>>>>> Hi everyone,
>>>>>
>>>>> I am working on a project that requires calculating solar heat gains
>>>>> through (very) complex building envelopes. I am pretty sure that EnergyPlus
>>>>> will not be able to do it...
>>>>>
>>>>> I know EPlus is capable of dealing with CFS by means of BSDF... but
>>>>> that assumes that the CFS is an extra layer in the facade. In my case, you
>>>>> could consider the facade to be just anything.... a moving (ondulated and
>>>>> microperforated) overhang, a tree, a complex exterior environment, etc.
>>>>>
>>>>> My plan is to use Daylight Coefficients and use
>>>>> SurfaceProperty:SolarIncidentInside object in E+. That is, I want to
>>>>> pre-calculate the incident solar radiation using Radiance. *Just the
>>>>> incident! interreflection will be calculated by EPlus (is that correct?)*
>>>>>
>>>>> I understand this could be done as:
>>>>>
>>>>>    1. Create an office with black walls, floor and ceiling... the
>>>>>    exterior and the envelope keep their properties.
>>>>>    2. Create a sensor file for each surface... sensors are normal to
>>>>>    each surface, pointing inside
>>>>>    3. Calculate Daylight Coefficients for each wall
>>>>>    1. cat Wall.pts | rfluxmtx [options] -I+ - white_sky.rad scene.rad
>>>>>       > Wall.dcmtx
>>>>>    4. Calculate irradiance over surface
>>>>>       1. cat weather.wea | dctimestep Wall.dcmtx | averageSensors >
>>>>>       WallSolarRad.txt
>>>>>
>>>>> Now... I am not sure if this is correct, because what ANDY SHOWED IN
>>>>> 2011
>>>>> <http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day3/AM_Radiance_EnergyPlus.pdf>
>>>>> is sort of different. He calculated a wird View Matrix.... is that an old
>>>>> way of doing this same thing? What am I missing?
>>>>>
>>>>> Best!
>>>>>
>>>>> Germ?n
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160229/ee4c8fdf/attachment.html>

From schorsch at schorsch.com  Mon Feb 29 16:04:55 2016
From: schorsch at schorsch.com (Georg Mischler)
Date: Tue, 01 Mar 2016 01:04:55 +0100
Subject: [Radiance-general] Revit to Radiance - prototype
In-Reply-To: <4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
	<4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
Message-ID: <2d5e1f078c1de38d068a1d027820fee3@tanha.pair.com>

On 2016-02-25 01:58, Greg Ward wrote:
> Wow, Schorsch -- that's quite the unexpected gift!  We were just
> talking about a Revit exporter at the last Radiance workshop.
> Everyone agreed it was a good idea, but no one really knew where to
> start.  Thanks for giving us the leg up!
> 
> Cheers,
> -Greg


Always expect the unexpected! ;)

I was now able to figure out ConicalFaces and RevolvedFaces.
If possible, they will get exported as (a series of) cones.
I've also added functions to export topography meshes as either normal
Radiance triangles, or as Wavefront Object Files for use with obj2mesh.
It's still rough and clumsy, but seems to complete the basic task now.

Together with some cleanup of both code and output, this elevates
RRadout 0.2 to the status of "prototype".

It is now available from the following page:
   http://www.schorsch.com/en/download/rradout/

@Andy, you may want to point the entrance on radiance-online to
this page, so you won't have to keep it up to date seperately.

Unfortunately though, further updates may not come quickly.
I don't currently have access to a Revit installation anymore.
So unless anyone else steps in, that will be it for the moment.

Regards
-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/



From chris at christianhumann.com  Mon Feb 29 16:27:07 2016
From: chris at christianhumann.com (Christian Humann)
Date: Mon, 29 Feb 2016 16:27:07 -0800
Subject: [Radiance-general] Pcomb to mask an area of one image on to
	another
In-Reply-To: <2d5e1f078c1de38d068a1d027820fee3@tanha.pair.com>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
	<4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
	<2d5e1f078c1de38d068a1d027820fee3@tanha.pair.com>
Message-ID: <397BF408-D295-44AD-829D-8DD613D31C57@christianhumann.com>

Greetings,

I?d like to write an expression within pcomb to mask the area of green trees in one  HDR fisheye scene and apply those selected pixels in the same location on a second image (both images are the same resolution).  Here?s an example of what I?m trying to do:
https://gyazo.com/932e7a14d64c35bff1802bcd11acc053

I?m getting close, but just can?t quite get there with the correct syntax using a threshold value for green [ex: -e 'gi(1)-thres*gi(2)?]

Thanks,
Chris




From rmfritz3 at gmail.com  Mon Feb 29 16:34:48 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 29 Feb 2016 16:34:48 -0800
Subject: [Radiance-general] Revit to Radiance - prototype
In-Reply-To: <2d5e1f078c1de38d068a1d027820fee3@tanha.pair.com>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
	<4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
	<2d5e1f078c1de38d068a1d027820fee3@tanha.pair.com>
Message-ID: <CANeAMoKRZNE6TRMwKwPOW0qo3i8Nm2eZkHjbvnzAGu0GrOp2SA@mail.gmail.com>

Would it be perhaps a good idea to start a Github page for this software?
Schorsch, have you decided on your licensing?

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Mon, Feb 29, 2016 at 4:04 PM, Georg Mischler <schorsch at schorsch.com>
wrote:

> On 2016-02-25 01:58, Greg Ward wrote:
>
>> Wow, Schorsch -- that's quite the unexpected gift!  We were just
>> talking about a Revit exporter at the last Radiance workshop.
>> Everyone agreed it was a good idea, but no one really knew where to
>> start.  Thanks for giving us the leg up!
>>
>> Cheers,
>> -Greg
>>
>
>
> Always expect the unexpected! ;)
>
> I was now able to figure out ConicalFaces and RevolvedFaces.
> If possible, they will get exported as (a series of) cones.
> I've also added functions to export topography meshes as either normal
> Radiance triangles, or as Wavefront Object Files for use with obj2mesh.
> It's still rough and clumsy, but seems to complete the basic task now.
>
> Together with some cleanup of both code and output, this elevates
> RRadout 0.2 to the status of "prototype".
>
> It is now available from the following page:
>   http://www.schorsch.com/en/download/rradout/
>
> @Andy, you may want to point the entrance on radiance-online to
> this page, so you won't have to keep it up to date seperately.
>
> Unfortunately though, further updates may not come quickly.
> I don't currently have access to a Revit installation anymore.
> So unless anyone else steps in, that will be it for the moment.
>
> Regards
> -schorsch
>
> --
> Georg Mischler  --  simulations developer  --  schorsch at schorsch com
> +schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160229/42895375/attachment.html>

From chris at christianhumann.com  Mon Feb 29 16:45:58 2016
From: chris at christianhumann.com (Christian Humann)
Date: Mon, 29 Feb 2016 16:45:58 -0800
Subject: [Radiance-general] Pcomb to mask an area of one image on to another
Message-ID: <ED3EEB9E-1067-4910-8465-4A19F93413A0@christianhumann.com>

Greetings,

(apologies for the duplicate post which I errantly posted in haste the first time by using reply to another subject)

I?d like to write an expression within pcomb to mask the area of green trees in one  HDR fisheye scene and apply those selected pixels in the same location on a second image (both images are the same resolution).  Here?s an example of what I?m trying to do:
https://gyazo.com/932e7a14d64c35bff1802bcd11acc053

I?m getting close, but just can?t quite get there with the correct syntax using a threshold value for green [ex: -e 'gi(1)-thres*gi(2)?]

Thanks,
Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160229/f19a3cf1/attachment.html>

From stephen at coolshadow.com  Mon Feb 29 16:59:41 2016
From: stephen at coolshadow.com (Stephen Wasilewski)
Date: Mon, 29 Feb 2016 16:59:41 -0800
Subject: [Radiance-general] Pcomb to mask an area of one image on to
	another
Message-ID: <CAK5mS-8mVM=f01bP0CwJ8vDECTD6G8zZSiUD2W9pce+Vv8C7Vg@mail.gmail.com>

Have you tried a ratio of G:B?

-e 'thresh=2' -e
'ro=if(thresh-gi(1)/bi(2),ri(2),ri(1));go=if(thresh-gi(1)/bi(2),gi(2),gi(1));bo=if(thresh-gi(1)/bi(2),bi(2),bi(1))'

I haven't tried this syntax, but I was doing something similar recently and
it worked to use the ratio of two colors rather than an absolute.

Stephen Wasilewski
*LOISOS *+* UBBELOHDE*
- - - - - - - - - - - - - - - - - - - - - - - - - - -
1917 Clement Avenue  Building 10A
Alameda, CA  94501 USA
- - - - - - - - - - - - - - - - - - - - - - - - - - -
510 521 3800 VOICE
510 521 3820 FAX
- - - - - - - - - - - - - - - - - - - - - - - - - - -
www.coolshadow.com

On Mon, Feb 29, 2016 at 4:45 PM, Christian Humann <chris at christianhumann.com
> wrote:

> Greetings,
>
> (apologies for the duplicate post which I errantly posted in haste the
> first time by using reply to another subject)
>
> I?d like to write an expression within pcomb to mask the area of green
> trees in one  HDR fisheye scene and apply those selected pixels in the same
> location on a second image (both images are the same resolution).  Here?s
> an example of what I?m trying to do:
> https://gyazo.com/932e7a14d64c35bff1802bcd11acc053
>
> I?m getting close, but just can?t quite get there with the correct syntax
> using a threshold value for green [ex: -e 'gi(1)-thres*gi(2)?]
>
> Thanks,
> Chris
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160229/94f65ff7/attachment-0001.html>

From gregoryjward at gmail.com  Mon Feb 29 17:03:05 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 29 Feb 2016 17:03:05 -0800
Subject: [Radiance-general] Pcomb to mask an area of one image on to
	another
In-Reply-To: <ED3EEB9E-1067-4910-8465-4A19F93413A0@christianhumann.com>
References: <ED3EEB9E-1067-4910-8465-4A19F93413A0@christianhumann.com>
Message-ID: <E38D1985-5DC9-4391-B589-5880816E2684@lmi.net>

Hi Chris,

Is it that your discriminator isn't segmenting the image as you would like?

It would help if  you gave the full command you are using.  Your expression snippet isn't a legal option to pcomb.

Cheers,
-Greg

> From: Christian Humann <chris at christianhumann.com>
> Subject: [Radiance-general] Pcomb to mask an area of one image on to another
> Date: February 29, 2016 4:45:58 PM PST
> 
> Greetings,
> 
> (apologies for the duplicate post which I errantly posted in haste the first time by using reply to another subject)
> 
> I?d like to write an expression within pcomb to mask the area of green trees in one  HDR fisheye scene and apply those selected pixels in the same location on a second image (both images are the same resolution).  Here?s an example of what I?m trying to do:
> https://gyazo.com/932e7a14d64c35bff1802bcd11acc053
> 
> I?m getting close, but just can?t quite get there with the correct syntax using a threshold value for green [ex: -e 'gi(1)-thres*gi(2)?]
> 
> Thanks,
> Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160229/66625381/attachment.html>

From chris at christianhumann.com  Mon Feb 29 17:22:05 2016
From: chris at christianhumann.com (Christian Humann)
Date: Mon, 29 Feb 2016 17:22:05 -0800
Subject: [Radiance-general] Pcomb to mask an area of one image on to
	another
In-Reply-To: <E38D1985-5DC9-4391-B589-5880816E2684@lmi.net>
References: <ED3EEB9E-1067-4910-8465-4A19F93413A0@christianhumann.com>
	<E38D1985-5DC9-4391-B589-5880816E2684@lmi.net>
Message-ID: <8B4FAA58-5057-48D1-98A9-FAE8C436B033@christianhumann.com>

Hi Greg and Stephen,

My discriminator was giving me odd results.  Stephen?s example helped me in writing the correct expression to pcomb.  

pcomb -e 'thresh=.2' -e 'ro=if(gi(1)-thresh*bi(2),ri(2),ri(1));go=if(gi(1)-thresh*bi(2),gi(2),gi(1));bo=if(gi(1)-thresh*bi(2),bi(2),bi(1))' image_1.hdr image_2.hdr  > modified.hdr

Thanks for the fast responses.
Chris

On Feb 29, 2016, at 5:03 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Chris,
> 
> Is it that your discriminator isn't segmenting the image as you would like?
> 
> It would help if  you gave the full command you are using.  Your expression snippet isn't a legal option to pcomb.
> 
> Cheers,
> -Greg
> 
>> From: Christian Humann <chris at christianhumann.com>
>> Subject: [Radiance-general] Pcomb to mask an area of one image on to another
>> Date: February 29, 2016 4:45:58 PM PST
>> 
>> Greetings,
>> 
>> (apologies for the duplicate post which I errantly posted in haste the first time by using reply to another subject)
>> 
>> I?d like to write an expression within pcomb to mask the area of green trees in one  HDR fisheye scene and apply those selected pixels in the same location on a second image (both images are the same resolution).  Here?s an example of what I?m trying to do:
>> https://gyazo.com/932e7a14d64c35bff1802bcd11acc053
>> 
>> I?m getting close, but just can?t quite get there with the correct syntax using a threshold value for green [ex: -e 'gi(1)-thres*gi(2)?]
>> 
>> Thanks,
>> Chris
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160229/397d2e06/attachment.html>

