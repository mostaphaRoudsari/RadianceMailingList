From meredith.davey at atelierten.com  Tue Mar  1 01:51:48 2016
From: meredith.davey at atelierten.com (Meredith Davey)
Date: Tue, 1 Mar 2016 09:51:48 +0000
Subject: [Radiance-general] Openings at Atelier Ten London
Message-ID: <AM3PR05MB4336943781D3ADA485F1C58E7BB0@AM3PR05MB433.eurprd05.prod.outlook.com>

Atelier Ten are recruiting at all levels for environmental sustainable designers and building analysis. Reporting to the Associate Director, Environmental Team you will assist in providing consultancy on environmental design, sustainability benchmarking/implementation, building energy optimisation, daylight & shading solutions, sustainable systems, materials and waste. Projects will range from city masterplanning to detailed design of specific buildings across all scales and locations.

As such, you will be an analytical team player who is excited by creative and innovative solutions that support low carbon and sustainable strategies. You will possess solid report writing and communication skills, together with demonstrable analytical experience. Ideally, you will be self-motivated, hardworking with first-class academics. Advanced skills with Radiance, Grasshopper and other programming languages is a plus.

Please send a CV and covering letter to Preena Devshi at preena.devshi at atelierten.com<mailto:preena.devshi at atelierten.com>
- See more at: http://www.atelierten.com/about/careers/#.dpuf
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160301/54bc91e2/attachment.html>

From schorsch at schorsch.com  Tue Mar  1 02:05:17 2016
From: schorsch at schorsch.com (Georg Mischler)
Date: Tue, 01 Mar 2016 11:05:17 +0100
Subject: [Radiance-general] Revit to Radiance - prototype
In-Reply-To: <CANeAMoKRZNE6TRMwKwPOW0qo3i8Nm2eZkHjbvnzAGu0GrOp2SA@mail.gmail.com>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
	<4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
	<2d5e1f078c1de38d068a1d027820fee3@tanha.pair.com>
	<CANeAMoKRZNE6TRMwKwPOW0qo3i8Nm2eZkHjbvnzAGu0GrOp2SA@mail.gmail.com>
Message-ID: <276114c48a064b4a93a71449e2c01a2c@tanha.pair.com>

The license is pretty much equivalent to the MIT X11 license.
Maybe I should actually use their exact wording to have an unambiguous 
reference.

I've already mentioned the possibility of a Github project.
I just hesited to create that as long as there is still only a single 
file
to distribute.

-schorsch


Am 2016-03-01 01:34, schrieb Randolph M. Fritz:
> Would it be perhaps a good idea to start a Github page for this
> software? Schorsch, have you decided on your licensing?
> 
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
> 
> On Mon, Feb 29, 2016 at 4:04 PM, Georg Mischler
> <schorsch at schorsch.com> wrote:
> 
>> On 2016-02-25 01:58, Greg Ward wrote:
>> 
>>> Wow, Schorsch -- that's quite the unexpected gift! We were just
>>> talking about a Revit exporter at the last Radiance workshop.
>>> Everyone agreed it was a good idea, but no one really knew where
>>> to
>>> start. Thanks for giving us the leg up!
>>> 
>>> Cheers,
>>> -Greg
>> 
>> Always expect the unexpected! ;)
>> 
>> I was now able to figure out ConicalFaces and RevolvedFaces.
>> If possible, they will get exported as (a series of) cones.
>> I've also added functions to export topography meshes as either
>> normal
>> Radiance triangles, or as Wavefront Object Files for use with
>> obj2mesh.
>> It's still rough and clumsy, but seems to complete the basic task
>> now.
>> 
>> Together with some cleanup of both code and output, this elevates
>> RRadout 0.2 to the status of "prototype".
>> 
>> It is now available from the following page:
>> http://www.schorsch.com/en/download/rradout/ [1]
>> 
>> @Andy, you may want to point the entrance on radiance-online to
>> this page, so you won't have to keep it up to date seperately.
>> 
>> Unfortunately though, further updates may not come quickly.
>> I don't currently have access to a Revit installation anymore.
>> So unless anyone else steps in, that will be it for the moment.
>> 
>> Regards
>> -schorsch
>> 
>> --
>> Georg Mischler -- simulations developer -- schorsch at schorsch
>> com
>> +schorsch.com [2]+ -- lighting design tools --
>> http://www.schorsch.com/ [3]
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general [4]
> 
> 
> 
> Links:
> ------
> [1] http://www.schorsch.com/en/download/rradout/
> [2] http://schorsch.com
> [3] http://www.schorsch.com/
> [4] http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/



From germolinal at gmail.com  Wed Mar  2 09:52:13 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Wed, 2 Mar 2016 14:52:13 -0300
Subject: [Radiance-general] Groundhog Electric Lighting capabilities -
	validation challenge
Message-ID: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>

Hello everyone,

As some of you might have heard, it has been a while since I started
developing Groundhog (www.groundhogproject.org), an OpenSource SketchUp
extension for performing Radiance Simulations.

I am writing you because one of the latest additions to the LATEST VERSION
correspond to the capability of simulating Luminaires from IES files.
During this process, I had to reproduce the IES2RAD to respect the policies
of "if you only want to export, then you do not need Radiance" and "you
barely need post-processing before performing a simulation".

What is missing, now, is to compare the results of this simulations with
some obtained from other tools (i.e. Dialux, Relux, AGi32, etc). Since I do
not have any of those programs, or a WINDOWS machine and is hard for me to
find the time for performing these comparisons, I decided to ask for this
awesome community for help.

*Is there anyone who is willing to help me with this? I cannot really pay
you for it, but I can guarantee that you will get the require training and
support (remotely, probably).*

HERE IS A LINK TO SOME SAMPLE IMAGES
<https://drive.google.com/folderview?id=0B2NfkTSl19hQYUNZOFliMHp2dXc&usp=sharing>

In any case, you are welcome to download and try and use Groundhog as mucha
as you want.

Best,

Germ?n Molina, www.IGD.cl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160302/8e02076d/attachment.html>

From Robert.Guglielmetti at nrel.gov  Wed Mar  2 11:46:08 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 2 Mar 2016 19:46:08 +0000
Subject: [Radiance-general] Groundhog Electric Lighting capabilities -
 validation challenge
In-Reply-To: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>
References: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>
Message-ID: <D2FC8F81.2332D%Robert.Guglielmetti@nrel.gov>

Hey German,

Cool. I don't have time (or licenses) to do this testing, but I did want to comment on the images. It looks like you're wrapping those track fixtures with illum geometry. The spill of light on the ceiling appears to be emanating from an illum sphere, as it's too close to the base of the luminaire to be coming from the edge of the fixture itself. This is a case where it would make more sense to translate the ies file to a ring. The illum "wrapper" is more suited to large glowing luminaries, not so much for directional fixtures like track heads.

- Rob

On 3/2/16, 10:52 AM, "Germ?n Molina Larrain" <germolinal at gmail.com<mailto:germolinal at gmail.com>> wrote:

Hello everyone,

As some of you might have heard, it has been a while since I started developing Groundhog (www.groundhogproject.org<http://www.groundhogproject.org>), an OpenSource SketchUp extension for performing Radiance Simulations.

I am writing you because one of the latest additions to the LATEST VERSION correspond to the capability of simulating Luminaires from IES files. During this process, I had to reproduce the IES2RAD to respect the policies of "if you only want to export, then you do not need Radiance" and "you barely need post-processing before performing a simulation".

What is missing, now, is to compare the results of this simulations with some obtained from other tools (i.e. Dialux, Relux, AGi32, etc). Since I do not have any of those programs, or a WINDOWS machine and is hard for me to find the time for performing these comparisons, I decided to ask for this awesome community for help.

Is there anyone who is willing to help me with this? I cannot really pay you for it, but I can guarantee that you will get the require training and support (remotely, probably).

HERE IS A LINK TO SOME SAMPLE IMAGES<https://drive.google.com/folderview?id=0B2NfkTSl19hQYUNZOFliMHp2dXc&usp=sharing>

In any case, you are welcome to download and try and use Groundhog as mucha as you want.

Best,

Germ?n Molina, www.IGD.cl<http://www.IGD.cl>


From sarith at psu.edu  Wed Mar  2 13:43:36 2016
From: sarith at psu.edu (Sarith Subramaniam)
Date: Wed, 2 Mar 2016 16:43:36 -0500
Subject: [Radiance-general] Groundhog Electric Lighting capabilities -
	validation challenge
In-Reply-To: <D2FC8F81.2332D%Robert.Guglielmetti@nrel.gov>
References: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>
	<D2FC8F81.2332D%Robert.Guglielmetti@nrel.gov>
Message-ID: <009601d174cc$946c4910$bd44db30$@psu.edu>

Hi Germ?n,

 

 

A few months ago, I had done some validation tests with AGI-32 while
implementing IES2RAD in Honeybee/Grasshopper. I think you can use the data
from my tests to validate your model in Groundhog. 

 

 

Here are a few details regarding the test model and simulations:

 

1.     The model, which was a simple rectangular room, was tested in AGI-32
(16.7)

 

2.     The room dimensions are 10m x 10m x 4m(height). The reflectances are
80%(ceiling), 50%(walls) and 20%(floor). The calculation grid was placed
0.001 meters above the floor and the points were spaced 2m x 2m with an
offset of 1 m from walls.

 

3.     The luminaire was located at (5m,5m,3.5). 

 

4.     I designed a crude 2k Factorial study with 3 levels to compare the
illuminance results from Spin, Tilt and Rotate angles in AGI-32 and
Honeybee. I also tested aiming according to a specific point as per the
C0-G0 coordinate system. The side-by-side comparison between the simulation
results can be found here:
https://www.dropbox.com/s/nj5e2nvltf8h1t5/Tests.pdf?dl=0 . 

 

5.     I assume that you are using Xform to position the luminaires after
creating the luminaires using IES2RAD. You can find the relationship between
(Spin, Tilt, Rotate) and the Xform-specific (rx,ry,rz) inputs here :
https://github.com/mostaphaRoudsari/Honeybee/blob/master/src/Honeybee_IES%20
Luminaire.py#L775-L784

 

6.     The luminaire used for the study was Lithonia 2VLTX4 30L LP835. You
can download the IES file from :
http://www.visual-3d.com/Tools/ProductInfo.aspx?get=ies
<http://www.visual-3d.com/Tools/ProductInfo.aspx?get=ies&guid=19674b27-15de-
4c31-8233-14e0bb72edab> &guid=19674b27-15de-4c31-8233-14e0bb72edab

 

 

Let me know if you need more details.

 

 

Sarith

 

 

-----Original Message-----
From: Guglielmetti, Robert [mailto:Robert.Guglielmetti at nrel.gov] 
Sent: Wednesday, March 02, 2016 2:46 PM
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Groundhog Electric Lighting capabilities -
validation challenge

 

Hey German,

 

Cool. I don't have time (or licenses) to do this testing, but I did want to
comment on the images. It looks like you're wrapping those track fixtures
with illum geometry. The spill of light on the ceiling appears to be
emanating from an illum sphere, as it's too close to the base of the
luminaire to be coming from the edge of the fixture itself. This is a case
where it would make more sense to translate the ies file to a ring. The
illum "wrapper" is more suited to large glowing luminaries, not so much for
directional fixtures like track heads.

 

- Rob

 

On 3/2/16, 10:52 AM, "Germ?n Molina Larrain" <
<mailto:germolinal at gmail.com%3cmailto:germolinal at gmail.com>
germolinal at gmail.com<mailto:germolinal at gmail.com>> wrote:

 

Hello everyone,

 

As some of you might have heard, it has been a while since I started
developing Groundhog (
<http://www.groundhogproject.org%3chttp:/www.groundhogproject.org>
www.groundhogproject.org<http://www.groundhogproject.org>), an OpenSource
SketchUp extension for performing Radiance Simulations.

 

I am writing you because one of the latest additions to the LATEST VERSION
correspond to the capability of simulating Luminaires from IES files. During
this process, I had to reproduce the IES2RAD to respect the policies of "if
you only want to export, then you do not need Radiance" and "you barely need
post-processing before performing a simulation".

 

What is missing, now, is to compare the results of this simulations with
some obtained from other tools (i.e. Dialux, Relux, AGi32, etc). Since I do
not have any of those programs, or a WINDOWS machine and is hard for me to
find the time for performing these comparisons, I decided to ask for this
awesome community for help.

 

Is there anyone who is willing to help me with this? I cannot really pay you
for it, but I can guarantee that you will get the require training and
support (remotely, probably).

 

HERE IS A LINK TO SOME SAMPLE IMAGES<
<https://drive.google.com/folderview?id=0B2NfkTSl19hQYUNZOFliMHp2dXc&usp=sha
ring>
https://drive.google.com/folderview?id=0B2NfkTSl19hQYUNZOFliMHp2dXc&usp=shar
ing>

 

In any case, you are welcome to download and try and use Groundhog as mucha
as you want.

 

Best,

 

Germ?n Molina,  <http://www.IGD.cl%3chttp:/www.IGD.cl>
www.IGD.cl<http://www.IGD.cl>

 

_______________________________________________

Radiance-general mailing list

 <mailto:Radiance-general at radiance-online.org>
Radiance-general at radiance-online.org

 <http://www.radiance-online.org/mailman/listinfo/radiance-general>
http://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160302/1655301f/attachment.html>

From tbleicher at gmail.com  Wed Mar  2 15:00:30 2016
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Wed, 2 Mar 2016 18:00:30 -0500
Subject: [Radiance-general] Groundhog Electric Lighting capabilities -
 validation challenge
In-Reply-To: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>
References: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>
Message-ID: <CAKGV-k3Vi7f6rOycts7_nO38-Y7rYSPRKcVz3zpPc2XpoBYGVA@mail.gmail.com>

German

If you want to validate your re-coded version of ies2rad you only need to
compare the output of both programs against each other. This can be done
via script as part of your testing on a number of IES files with different
types and features.

BTW: If you don't want to rely on an existing Radiance installation you can
still include select binaries in you SketchUp extension package. That way
you don't have to duplicate Radiance C code and can be sure that the output
is identical to pure Radiance.


On Wed, Mar 2, 2016 at 12:52 PM, Germ?n Molina Larrain <germolinal at gmail.com
> wrote:

> Hello everyone,
>
> As some of you might have heard, it has been a while since I started
> developing Groundhog (www.groundhogproject.org), an OpenSource SketchUp
> extension for performing Radiance Simulations.
>
> I am writing you because one of the latest additions to the LATEST VERSION
> correspond to the capability of simulating Luminaires from IES files.
> During this process, I had to reproduce the IES2RAD to respect the policies
> of "if you only want to export, then you do not need Radiance" and "you
> barely need post-processing before performing a simulation".
>
> What is missing, now, is to compare the results of this simulations with
> some obtained from other tools (i.e. Dialux, Relux, AGi32, etc). Since I do
> not have any of those programs, or a WINDOWS machine and is hard for me to
> find the time for performing these comparisons, I decided to ask for this
> awesome community for help.
>
> *Is there anyone who is willing to help me with this? I cannot really pay
> you for it, but I can guarantee that you will get the require training and
> support (remotely, probably).*
>
> HERE IS A LINK TO SOME SAMPLE IMAGES
> <https://drive.google.com/folderview?id=0B2NfkTSl19hQYUNZOFliMHp2dXc&usp=sharing>
>
> In any case, you are welcome to download and try and use Groundhog as
> mucha as you want.
>
> Best,
>
> Germ?n Molina, www.IGD.cl
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160302/524a23fa/attachment-0001.html>

From ruggiero.guida at gmail.com  Thu Mar  3 00:35:35 2016
From: ruggiero.guida at gmail.com (Ruggiero Guida)
Date: Thu, 03 Mar 2016 08:35:35 +0000
Subject: [Radiance-general] Irradiation on standing subject with Radiance
In-Reply-To: <CA+U776D+2oYED_Apwc2smRns8tOvqLimkj2Cs-GKZwm7Cp8XOw@mail.gmail.com>
References: <CA+U776CaT_ePaqK2CRiVX=xoLu6=9gsbp3ZqCN97gvBVPszjEg@mail.gmail.com>
	<3B1C0203-6A0B-45A1-AA1B-7F9BC183869C@lmi.net>
	<CA+U776BRu0WDFwk5H47EhXOO55YiwG_yZZ2Eojj3L0TxXspK=Q@mail.gmail.com>
	<2EC20D68-958F-4EEE-9581-F135B2B4E062@lmi.net>
	<A0801DF2599314DD.DDE0BA73-EA13-4B69-9B0F-6B828FEF785D@mail.outlook.com>
	<1704A0B4-EC3B-4B62-80D5-2B827C926CBA@lmi.net>
	<D94BF3CE-19E2-44E3-9A6C-2E28E71B42E8@gmail.com>
	<376F15B1-B6C3-4C3A-8F7B-05F9741DB7B6@gmail.com>
	<CA+U776D+2oYED_Apwc2smRns8tOvqLimkj2Cs-GKZwm7Cp8XOw@mail.gmail.com>
Message-ID: <CA+U776DeSMTAcQBEK+pVOsfxFFJWaNGSngen0fMFcF6QT7=3OQ@mail.gmail.com>

Hi Greg,

I finally managed to have a look at this problem again.

To begin with I was starting with a basic case: just sky and ground.

<sky.rad>
void light solar
0 0 3 5.326e+06 5.326e+06 5.326e+06

solar source sun
0 0 4 0.463565 0.022184 0.885785 0.533000

void brightfunc skyfunc
2 skybright perezlum.cal
0 10 5.802e+01 4.447e+01 -0.843574 -1.078181 11.876231 -3.091220 0.271617
0.463565 0.022184 0.885785

skyfunc glow sky_glow
0 0 4    1 1 1 0
sky_glow source sky
0 0 4    0 0 1 180

<ground.rad>
skyfunc glow groundglow
0 0 4 .8 1.1 .8  0
groundglow source ground
0 0 4 0 0 -1  180

I then generate the scene with

oconv materials.rad sky.rad ground.rad > test.oct

Let's suppose I want to calculate the contributions on the subject from a
tregenza subdivision I would use

rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct <
samps.txt > daycoef.mtx
This is my understanding of this command.

1 - For each of the 105 random points
2 - create a tregenza dome subdivision
3 - calculate all the contributions from groundglow and skyglow and add
them up (this considers the cosine between the normal of the point and the
patch vector)
4 - finally average all the results for the 105 points.

Does this make any sense? How would I obtain the actual matrix?

Thanks
Ruggiero







On Tue, 22 Sep 2015 at 05:46 Ruggiero Guida <ruggiero.guida at gmail.com>
wrote:

> Thanks Greg. Really appreciate it. Let me digest it, test it and I will
> report back.
>
> Cheers
>
> On 22 September 2015 at 03:02, Gregory J. Ward <gregoryjward at gmail.com>
> wrote:
>
>> Oh, and be sure to use the rcontrib -I+ option.  Corrected version
>> immediately below.
>>
>> # Generate 5 random sample positions on cap at height 2 with radius 0.2:
>>
>> cnt 5 | rcalc -e 'HT:2;RAD:0.2' \
>> -e
>> 'rrad=RAD*sqrt(rand(.836*recno+.238));phi=2*PI*rand(-.3582*recno+.861);' \
>> -e '$1=rrad*cos(phi);$2=rrad*sin(phi);$3=HT;$4=0;$5=0;$6=1' > samps.txt
>>
>> # Generate 100 random body sample positions and directions:
>>
>> cnt 100 | rcalc -e 'HT:2;RAD:0.2' \
>> -e 'rht=HT*rand(.571*recno-.7633);phi=2*PI*rand(-.6716*recno-.1023)' \
>> -e '$1=RAD*cos(phi);$2=RAD*sin(phi);$3=rht;$4=cos(phi);$5=sin(phi);$6=0'
>> >> samps.txt
>>
>> # average together 55 sample positions using rcontrib:
>>
>> rcontrib -c 105 -I+ [other options] scene.oct < samps.txt > daycoef.mtx
>>
>> ============
>>
>> *From: *"Gregory J. Ward" <gregoryjward at gmail.com>
>>
>> *Date: *September 21, 2015 11:54:14 AM PDT
>>
>>
>> P.S.  I just realized that to be a fair average, the number of samples on
>> the cap should be proportional to the area, and same for the body.  A cap
>> of radius 0.2 is 1/20th as large as the cylinder body of height 2, so in my
>> example, there should be 20 times more samples on the body.  That means 5
>> samples on the cap would be paired with 100 samples on the body, or 105
>> samples in total.
>>
>> -Greg
>>
>> *From: *Greg Ward <gward at lmi.net>
>>
>> *Subject: *Re: [Radiance-general] Irradiation on standing subject with
>> Radiance
>>
>> *Date: *September 21, 2015 11:50:28 AM PDT
>>
>>
>> Hi Ruggiero,
>>
>> I don't think the number of points is going to affect your rcontrib
>> calculation that much.  You can always trade off the number of ambient
>> divisions (-ad) to get more samples on the prism (or cylinder) for the same
>> cost.  Here's an example set of commands.
>>
>> # Generate 5 random sample positions on cap at height 2 with radius 0.2:
>>
>> cnt 5 | rcalc -e 'HT:2;RAD:0.2' \
>> -e
>> 'rrad=RAD*sqrt(rand(.836*recno+.238));phi=2*PI*rand(-.3582*recno+.861);' \
>> -e '$1=rrad*cos(phi);$2=rrad*sin(phi);$3=HT;$4=0;$5=0;$6=1' > samps.txt
>>
>> # Generate 50 random body sample positions and directions:
>>
>> cnt 50 | rcalc -e 'HT:2;RAD:0.2' \
>> -e 'rht=HT*rand(.571*recno-.7633);phi=2*PI*rand(-.6716*recno-.1023)' \
>> -e '$1=RAD*cos(phi);$2=RAD*sin(phi);$3=rht;$4=cos(phi);$5=sin(phi);$6=0'
>> >> samps.txt
>>
>> # average together 55 sample positions using rcontrib:
>>
>> rcontrib -c 55 [other options] scene.oct < samps.txt > daycoef.mtx
>>
>> Does this make sense?
>>
>> -Greg
>>
>> *From: *Ruggiero Guida <ruggiero.guida at gmail.com>
>>
>> *Date: *September 21, 2015 1:45:20 AM PDT
>>
>>
>> That makes sense. So I guess that the third approach is the only way
>> forward.
>>
>> I was thinking to define the subject as a prism with a rectangular base
>> and maybe define a point or two for each face, so 5 points in total.
>>
>> Do you think this would be enough?
>>
>> _____________________________
>> From: Greg Ward <gregoryjward at gmail.com>
>> Sent: Monday, September 21, 2015 10:52 a.m.
>>
>> Well, the projected area of a cylinder is roughly the diameter times the
>> height times the sine of the angle between the cylinder's axis and the sky
>> patch (or solar disk) direction.  This would work if you didn't have the
>> complex urban surroundings.  With the surroundings, there's no way I know
>> to avoid a more complete view factor calculation, which is what rcontrib
>> gives you.
>>
>> -Greg
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160303/111f1efc/attachment.html>

From schorsch at schorsch.com  Thu Mar  3 09:02:27 2016
From: schorsch at schorsch.com (Georg Mischler)
Date: Thu, 03 Mar 2016 18:02:27 +0100
Subject: [Radiance-general] GitHub projects on geometry translation
In-Reply-To: <276114c48a064b4a93a71449e2c01a2c@tanha.pair.com>
References: <432e1b7a5a297095224c4c85eb08e49a@ifin.pair.com>
	<4A6F16FD-DCC0-4C63-897B-78B6F16DF2A4@lmi.net>
	<2d5e1f078c1de38d068a1d027820fee3@tanha.pair.com>
	<CANeAMoKRZNE6TRMwKwPOW0qo3i8Nm2eZkHjbvnzAGu0GrOp2SA@mail.gmail.com>
	<276114c48a064b4a93a71449e2c01a2c@tanha.pair.com>
Message-ID: <683070665e70da90fb3467a69cceedbe@tanha.pair.com>

While at it, I created three seperate projects on GitHub:


1.
https://github.com/gmischler/Torad
Mostly for historical reasons, and to get the hang of the system.


2.
https://github.com/gmischler/Dxf2rad-Radout
Yes, the two share most of the codebase, and are now available with
a MIT license too. Version 1.1 can also create view files.
Binaries are available from my own site. If anyone wants to contribute
any other platforms, I'll be happy to publish them there as well.
In the case of dxf2rad, this would probably first be Darwin on various
types of hardware.
With Radout, someone with a more recent Autocad and some experience with
the SDK should be able to port it with little effort. I still need
to update the R15 download on my site to include the ACIS enabled 
version.


3.
https://github.com/gmischler/RRadout
Last but not least.
As already mentioned for this one, contributions welcome and necessary!


Any further related discussions should probably go to radiance-dev.

Have fun!
-schorsch

-- 
Georg Mischler  --  simulations developer  --  schorsch at schorsch com
+schorsch.com+  --  lighting design tools  --  http://www.schorsch.com/



From gregoryjward at gmail.com  Thu Mar  3 12:22:36 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 3 Mar 2016 12:22:36 -0800
Subject: [Radiance-general] Irradiation on standing subject with Radiance
In-Reply-To: <CA+U776DeSMTAcQBEK+pVOsfxFFJWaNGSngen0fMFcF6QT7=3OQ@mail.gmail.com>
References: <CA+U776CaT_ePaqK2CRiVX=xoLu6=9gsbp3ZqCN97gvBVPszjEg@mail.gmail.com>
	<3B1C0203-6A0B-45A1-AA1B-7F9BC183869C@lmi.net>
	<CA+U776BRu0WDFwk5H47EhXOO55YiwG_yZZ2Eojj3L0TxXspK=Q@mail.gmail.com>
	<2EC20D68-958F-4EEE-9581-F135B2B4E062@lmi.net>
	<A0801DF2599314DD.DDE0BA73-EA13-4B69-9B0F-6B828FEF785D@mail.outlook.com>
	<1704A0B4-EC3B-4B62-80D5-2B827C926CBA@lmi.net>
	<D94BF3CE-19E2-44E3-9A6C-2E28E71B42E8@gmail.com>
	<376F15B1-B6C3-4C3A-8F7B-05F9741DB7B6@gmail.com>
	<CA+U776D+2oYED_Apwc2smRns8tOvqLimkj2Cs-GKZwm7Cp8XOw@mail.gmail.com>
	<CA+U776DeSMTAcQBEK+pVOsfxFFJWaNGSngen0fMFcF6QT7=3OQ@mail.gmail.com>
Message-ID: <0ECD1BA1-9A90-4D87-902F-169E921E31AA@lmi.net>

Hi Ruggiero,

As given, your command:

	rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct < samps.txt > daycoef.mtx

does average 105 irradiance positions, taken them in sequence from samps.txt.  I assume this contains exactly 105 random sample positions & directions.

The output will not be Tregenza sky patches, because you are missing some needed options.  If you want your ground average to precede your 145 Tregenza patches in your matrix, then use the following order:

	rcontrib -c 105 -y 1 -I+ -f tregenza.cal -m groundglow -b tbin -bn 145 -m skyglow test.oct < samps.txt > daycoef.mtx

The above process can in fact be simplified by merging your ground.rad and sky.rad files with some comments like so:

<combined_sky.rad>
# Combined ground and sky vault for calculating cylindrical irradiance

# Start by telling rfluxmtx to generate a single coefficient for the ground:
#@rfluxmtx h=u

void glow groundglow
0 0 4 .8 1.1 .8  0
groundglow source ground
0 0 4 0 0 -1  180

# Now, tell rfluxmtx to generate a set of Tregenza sky patches using Y for "north/up":
#@rfluxmtx h=t u=+Y

void glow sky_glow
0 0 4    1 1 1 0
sky_glow source sky
0 0 4    0 0 1 180

------------------
Notice how I took out the actual sky distribution, which you don't need for a coefficient calculation.  (It would make no difference to the results in fact.)

Then, you can then use rfluxmtx to call oconv and rcontrib for you:

	rfluxmtx -c 105 -y 1 - combined_sky.rad < samps.txt > daycoef.mtx

Note that the lone hyphen ("-") tells rfluxmtx to read from its standard input, and must be given as shown above.  Assuming you have just 105 positions  in samps.txt, I've specified -y 1, so that the output matrix has both its dimensions set properly.

Once you have the above matrix, you can multiply it against any sky vector to get the desired cylindrical irradiance:

	gendaylit [options] | genskyvec | dctimestep daycoef.mtx

The above command should produce a single RGB triplet corresponding to the cylindrical irradiance with the given sky. 

Cheers,
-Greg

> From: Ruggiero Guida <ruggiero.guida at gmail.com>
> Subject: Re: [Radiance-general] Irradiation on standing subject with Radiance
> Date: March 3, 2016 12:35:35 AM PST
> 
> Hi Greg,
> 
> I finally managed to have a look at this problem again.
> 
> To begin with I was starting with a basic case: just sky and ground.
> 
> <sky.rad>
> void light solar
> 0 0 3 5.326e+06 5.326e+06 5.326e+06
> 
> solar source sun
> 0 0 4 0.463565 0.022184 0.885785 0.533000
> 
> void brightfunc skyfunc
> 2 skybright perezlum.cal
> 0 10 5.802e+01 4.447e+01 -0.843574 -1.078181 11.876231 -3.091220 0.271617 0.463565 0.022184 0.885785 
> 
> skyfunc glow sky_glow
> 0 0 4    1 1 1 0
> sky_glow source sky
> 0 0 4    0 0 1 180
> 
> <ground.rad>
> skyfunc glow groundglow
> 0 0 4 .8 1.1 .8  0
> groundglow source ground
> 0 0 4 0 0 -1  180
> 
> I then generate the scene with 
> oconv materials.rad sky.rad ground.rad > test.oct
> 
> 
> Let's suppose I want to calculate the contributions on the subject from a tregenza subdivision I would use
> rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct < samps.txt > daycoef.mtx
> 
> This is my understanding of this command.
> 
> 1 - For each of the 105 random points
> 2 - create a tregenza dome subdivision
> 3 - calculate all the contributions from groundglow and skyglow and add them up (this considers the cosine between the normal of the point and the patch vector)
> 4 - finally average all the results for the 105 points.
> 
> Does this make any sense? How would I obtain the actual matrix?
> 
> Thanks
> Ruggiero
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160303/7fd369b1/attachment.html>

From ruggiero.guida at gmail.com  Fri Mar  4 05:24:58 2016
From: ruggiero.guida at gmail.com (Ruggiero Guida)
Date: Fri, 04 Mar 2016 13:24:58 +0000
Subject: [Radiance-general] Irradiation on standing subject with Radiance
In-Reply-To: <0ECD1BA1-9A90-4D87-902F-169E921E31AA@lmi.net>
References: <CA+U776CaT_ePaqK2CRiVX=xoLu6=9gsbp3ZqCN97gvBVPszjEg@mail.gmail.com>
	<3B1C0203-6A0B-45A1-AA1B-7F9BC183869C@lmi.net>
	<CA+U776BRu0WDFwk5H47EhXOO55YiwG_yZZ2Eojj3L0TxXspK=Q@mail.gmail.com>
	<2EC20D68-958F-4EEE-9581-F135B2B4E062@lmi.net>
	<A0801DF2599314DD.DDE0BA73-EA13-4B69-9B0F-6B828FEF785D@mail.outlook.com>
	<1704A0B4-EC3B-4B62-80D5-2B827C926CBA@lmi.net>
	<D94BF3CE-19E2-44E3-9A6C-2E28E71B42E8@gmail.com>
	<376F15B1-B6C3-4C3A-8F7B-05F9741DB7B6@gmail.com>
	<CA+U776D+2oYED_Apwc2smRns8tOvqLimkj2Cs-GKZwm7Cp8XOw@mail.gmail.com>
	<CA+U776DeSMTAcQBEK+pVOsfxFFJWaNGSngen0fMFcF6QT7=3OQ@mail.gmail.com>
	<0ECD1BA1-9A90-4D87-902F-169E921E31AA@lmi.net>
Message-ID: <CA+U776BzR95H=JoSk3Ab_zx3FzN95Kbt-6+j_MVo4vjqGa7EKg@mail.gmail.com>

Thanks a lot for your help Greg,

Yes, my samps.txt has exactly 105 lines with point and direction.

When I run your command

rcontrib -c 105 -y 1 -I+ -f tregenza.cal -m groundglow -b tbin -bn 145 -m
skyglow test.oct < samps.txt > daycoef.mtx

I get a daycoef.mtx with the correct number of elements of which only the
first is not zero. Am I missing something? I have double check the sky and
ground file and they are correct.

Thanks again
Ruggiero





On Thu, 3 Mar 2016 at 20:26 Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Ruggiero,
>
> As given, your command:
>
> rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct <
> samps.txt > daycoef.mtx
>
> does average 105 irradiance positions, taken them in sequence from
> samps.txt.  I assume this contains exactly 105 random sample positions &
> directions.
>
> The output will not be Tregenza sky patches, because you are missing some
> needed options.  If you want your ground average to precede your 145
> Tregenza patches in your matrix, then use the following order:
>
> rcontrib -c 105 -y 1 -I+ -f tregenza.cal -m groundglow -b tbin -bn 145 -m
> skyglow test.oct < samps.txt > daycoef.mtx
>
> The above process can in fact be simplified by merging your ground.rad and
> sky.rad files with some comments like so:
>
> <combined_sky.rad>
> # Combined ground and sky vault for calculating cylindrical irradiance
>
> # Start by telling rfluxmtx to generate a single coefficient for the
> ground:
> #@rfluxmtx h=u
>
> void glow groundglow
> 0 0 4 .8 1.1 .8  0
> groundglow source ground
> 0 0 4 0 0 -1  180
>
> # Now, tell rfluxmtx to generate a set of Tregenza sky patches using Y for
> "north/up":
> #@rfluxmtx h=t u=+Y
>
> void glow sky_glow
> 0 0 4    1 1 1 0
> sky_glow source sky
> 0 0 4    0 0 1 180
>
> ------------------
> Notice how I took out the actual sky distribution, which you don't need
> for a coefficient calculation.  (It would make no difference to the results
> in fact.)
>
> Then, you can then use rfluxmtx to call oconv and rcontrib for you:
>
> rfluxmtx -c 105 -y 1 - combined_sky.rad < samps.txt > daycoef.mtx
>
> Note that the lone hyphen ("-") tells rfluxmtx to read from its standard
> input, and must be given as shown above.  Assuming you have just 105
> positions  in samps.txt, I've specified -y 1, so that the output matrix has
> both its dimensions set properly.
>
> Once you have the above matrix, you can multiply it against any sky vector
> to get the desired cylindrical irradiance:
>
> gendaylit [options] | genskyvec | dctimestep daycoef.mtx
>
> The above command should produce a single RGB triplet corresponding to the
> cylindrical irradiance with the given sky.
>
> Cheers,
> -Greg
>
> *From: *Ruggiero Guida <ruggiero.guida at gmail.com>
>
> *Subject: *Re: [Radiance-general] Irradiation on standing subject with
> Radiance
>
> *Date: *March 3, 2016 12:35:35 AM PST
>
>
> Hi Greg,
>
> I finally managed to have a look at this problem again.
>
> To begin with I was starting with a basic case: just sky and ground.
>
> <sky.rad>
> void light solar
> 0 0 3 5.326e+06 5.326e+06 5.326e+06
>
> solar source sun
> 0 0 4 0.463565 0.022184 0.885785 0.533000
>
> void brightfunc skyfunc
> 2 skybright perezlum.cal
> 0 10 5.802e+01 4.447e+01 -0.843574 -1.078181 11.876231 -3.091220 0.271617
> 0.463565 0.022184 0.885785
>
> skyfunc glow sky_glow
> 0 0 4    1 1 1 0
> sky_glow source sky
> 0 0 4    0 0 1 180
>
> <ground.rad>
> skyfunc glow groundglow
> 0 0 4 .8 1.1 .8  0
> groundglow source ground
> 0 0 4 0 0 -1  180
>
> I then generate the scene with
>
> oconv materials.rad sky.rad ground.rad > test.oct
>
> Let's suppose I want to calculate the contributions on the subject from a
> tregenza subdivision I would use
>
> rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct <
> samps.txt > daycoef.mtx
> This is my understanding of this command.
>
> 1 - For each of the 105 random points
> 2 - create a tregenza dome subdivision
> 3 - calculate all the contributions from groundglow and skyglow and add
> them up (this considers the cosine between the normal of the point and the
> patch vector)
> 4 - finally average all the results for the 105 points.
>
> Does this make any sense? How would I obtain the actual matrix?
>
> Thanks
> Ruggiero
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160304/6fc6b3ec/attachment-0001.html>

From gregoryjward at gmail.com  Fri Mar  4 08:22:45 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 4 Mar 2016 08:22:45 -0800
Subject: [Radiance-general] Irradiation on standing subject with Radiance
In-Reply-To: <CA+U776BzR95H=JoSk3Ab_zx3FzN95Kbt-6+j_MVo4vjqGa7EKg@mail.gmail.com>
References: <CA+U776CaT_ePaqK2CRiVX=xoLu6=9gsbp3ZqCN97gvBVPszjEg@mail.gmail.com>
	<3B1C0203-6A0B-45A1-AA1B-7F9BC183869C@lmi.net>
	<CA+U776BRu0WDFwk5H47EhXOO55YiwG_yZZ2Eojj3L0TxXspK=Q@mail.gmail.com>
	<2EC20D68-958F-4EEE-9581-F135B2B4E062@lmi.net>
	<A0801DF2599314DD.DDE0BA73-EA13-4B69-9B0F-6B828FEF785D@mail.outlook.com>
	<1704A0B4-EC3B-4B62-80D5-2B827C926CBA@lmi.net>
	<D94BF3CE-19E2-44E3-9A6C-2E28E71B42E8@gmail.com>
	<376F15B1-B6C3-4C3A-8F7B-05F9741DB7B6@gmail.com>
	<CA+U776D+2oYED_Apwc2smRns8tOvqLimkj2Cs-GKZwm7Cp8XOw@mail.gmail.com>
	<CA+U776DeSMTAcQBEK+pVOsfxFFJWaNGSngen0fMFcF6QT7=3OQ@mail.gmail.com>
	<0ECD1BA1-9A90-4D87-902F-169E921E31AA@lmi.net>
	<CA+U776BzR95H=JoSk3Ab_zx3FzN95Kbt-6+j_MVo4vjqGa7EKg@mail.gmail.com>
Message-ID: <56F67849-C3DE-4969-B37B-F36501D84B22@lmi.net>

This was my mistake.  I forgot to include the -I+ option on the rfluxmtx command line, which should have been:

	rfluxmtx -I+ -v -c 105 -y 1 - combined_sky.rad < samps.txt > daycoef.mtx

(I also added a "-v" above so you can see how it's calling rcontrib.)

Cheers,
-Greg

> From: Ruggiero Guida <ruggiero.guida at gmail.com>
> Subject: Re: [Radiance-general] Irradiation on standing subject with Radiance
> Date: March 4, 2016 5:24:58 AM PST
> 
> Thanks a lot for your help Greg,
> 
> Yes, my samps.txt has exactly 105 lines with point and direction.
> 
> When I run your command
> 
> rcontrib -c 105 -y 1 -I+ -f tregenza.cal -m groundglow -b tbin -bn 145 -m skyglow test.oct < samps.txt > daycoef.mtx
> 
> I get a daycoef.mtx with the correct number of elements of which only the first is not zero. Am I missing something? I have double check the sky and ground file and they are correct.
> 
> Thanks again
> Ruggiero
> 
> 
> On Thu, 3 Mar 2016 at 20:26 Greg Ward <gregoryjward at gmail.com> wrote:
> Hi Ruggiero,
> 
> As given, your command:
> 
> 	rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct < samps.txt > daycoef.mtx
> 
> does average 105 irradiance positions, taken them in sequence from samps.txt.  I assume this contains exactly 105 random sample positions & directions.
> 
> The output will not be Tregenza sky patches, because you are missing some needed options.  If you want your ground average to precede your 145 Tregenza patches in your matrix, then use the following order:
> 
> 	rcontrib -c 105 -y 1 -I+ -f tregenza.cal -m groundglow -b tbin -bn 145 -m skyglow test.oct < samps.txt > daycoef.mtx
> 
> The above process can in fact be simplified by merging your ground.rad and sky.rad files with some comments like so:
> 
> <combined_sky.rad>
> # Combined ground and sky vault for calculating cylindrical irradiance
> 
> # Start by telling rfluxmtx to generate a single coefficient for the ground:
> #@rfluxmtx h=u
> 
> void glow groundglow
> 0 0 4 .8 1.1 .8  0
> groundglow source ground
> 0 0 4 0 0 -1  180
> 
> # Now, tell rfluxmtx to generate a set of Tregenza sky patches using Y for "north/up":
> #@rfluxmtx h=t u=+Y
> 
> void glow sky_glow
> 0 0 4    1 1 1 0
> sky_glow source sky
> 0 0 4    0 0 1 180
> 
> ------------------
> Notice how I took out the actual sky distribution, which you don't need for a coefficient calculation.  (It would make no difference to the results in fact.)
> 
> Then, you can then use rfluxmtx to call oconv and rcontrib for you:
> 
> 	rfluxmtx -c 105 -y 1 - combined_sky.rad < samps.txt > daycoef.mtx
> 
> Note that the lone hyphen ("-") tells rfluxmtx to read from its standard input, and must be given as shown above.  Assuming you have just 105 positions  in samps.txt, I've specified -y 1, so that the output matrix has both its dimensions set properly.
> 
> Once you have the above matrix, you can multiply it against any sky vector to get the desired cylindrical irradiance:
> 
> 	gendaylit [options] | genskyvec | dctimestep daycoef.mtx
> 
> The above command should produce a single RGB triplet corresponding to the cylindrical irradiance with the given sky. 
> 
> Cheers,
> -Greg
> 
>> From: Ruggiero Guida <ruggiero.guida at gmail.com>
>> Subject: Re: [Radiance-general] Irradiation on standing subject with Radiance
>> Date: March 3, 2016 12:35:35 AM PST
>> 
> 
>> Hi Greg,
>> 
>> I finally managed to have a look at this problem again.
>> 
>> To begin with I was starting with a basic case: just sky and ground.
>> 
>> <sky.rad>
>> void light solar
>> 0 0 3 5.326e+06 5.326e+06 5.326e+06
>> 
>> solar source sun
>> 0 0 4 0.463565 0.022184 0.885785 0.533000
>> 
>> void brightfunc skyfunc
>> 2 skybright perezlum.cal
>> 0 10 5.802e+01 4.447e+01 -0.843574 -1.078181 11.876231 -3.091220 0.271617 0.463565 0.022184 0.885785 
>> 
>> skyfunc glow sky_glow
>> 0 0 4    1 1 1 0
>> sky_glow source sky
>> 0 0 4    0 0 1 180
>> 
>> <ground.rad>
>> skyfunc glow groundglow
>> 0 0 4 .8 1.1 .8  0
>> groundglow source ground
>> 0 0 4 0 0 -1  180
>> 
>> I then generate the scene with 
>> oconv materials.rad sky.rad ground.rad > test.oct
>> 
>> 
>> Let's suppose I want to calculate the contributions on the subject from a tregenza subdivision I would use
>> rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct < samps.txt > daycoef.mtx
>> 
>> This is my understanding of this command.
>> 
>> 1 - For each of the 105 random points
>> 2 - create a tregenza dome subdivision
>> 3 - calculate all the contributions from groundglow and skyglow and add them up (this considers the cosine between the normal of the point and the patch vector)
>> 4 - finally average all the results for the 105 points.
>> 
>> Does this make any sense? How would I obtain the actual matrix?
>> 
>> Thanks
>> Ruggiero
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160304/12103bee/attachment.html>

From cj at enersave.ca  Fri Mar  4 08:35:18 2016
From: cj at enersave.ca (Chris Jones)
Date: Fri, 04 Mar 2016 11:35:18 -0500
Subject: [Radiance-general] Defining glazing properties
In-Reply-To: <009601d174cc$946c4910$bd44db30$@psu.edu>
References: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>
	<D2FC8F81.2332D%Robert.Guglielmetti@nrel.gov>
	<009601d174cc$946c4910$bd44db30$@psu.edu>
Message-ID: <20160304113518.Horde.GVLwaOgdGrJXp5eX_KE_O8Z@enersave.ca>

Full disclosure - I am a newbie working through Rendering With  
Radiance and having a lot of fun. One question, is it possible to  
import or define the spectral characteristics of glazing systems in  
Radiance? For example, if I define a glazing system with Window 7, is  
there a way to enter those properties in Radiance for daylighting  
analysis?



-- 

Chris Jones
14 Oneida Avenue
Toronto, ON M5J 2E3
416-697-0056



From germolinal at gmail.com  Fri Mar  4 12:33:12 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Fri, 4 Mar 2016 17:33:12 -0300
Subject: [Radiance-general] Sampling thorugh TRANS material
Message-ID: <CAF-iH4Jy+kHgrnRZMCc2kWMG4RU69WBCVqzwcGm8H7zc0i+0pA@mail.gmail.com>

Hello everyone,

I have a question about trans material... The story is the following:

   1. I already read what Axel Jacobs has to say about Trans, read the
   Radiance Reference Manual and also Googled a bit.
   2. After all that, I found out how to model Fabric materials using Trans
   (I need some uncolored specular transmission and a bit colored Diffuse
   transmission). After the research, I noticed that Trans, as I wanted to
   model Fabrics, would only work for gray textiles... but that is good enough
   for me.
   3. I managed to do all that, and actually run genBSDF to check if the
   diffuse and direct parts were OK.... they came very close, but not quite
   perfect, even if my parameters were pretty high.
   4. Assuming it was as good as it would get, I continued with my
   simulation... I am using rcontrib's 2-phase method, with "-ab 12 -ad 4096
   -aa 0.1" parameters... but I get some NOT SMOOTH results. LINK TO PICTURE
   <https://drive.google.com/file/d/0B2NfkTSl19hQSF9rbTF4S0tMWXc/view?usp=sharing>

Any hints on the parameters I have to use in order to model this product
well? Is this caused by the fact that there is no direct light in the
calculation of the DC matrix? Will my approach work?

Regards,

Germ?n
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160304/d72fc773/attachment.html>

From Robert.Guglielmetti at nrel.gov  Fri Mar  4 13:54:31 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 4 Mar 2016 21:54:31 +0000
Subject: [Radiance-general] Defining glazing properties
In-Reply-To: <20160304113518.Horde.GVLwaOgdGrJXp5eX_KE_O8Z@enersave.ca>
References: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>
	<D2FC8F81.2332D%Robert.Guglielmetti@nrel.gov>
	<009601d174cc$946c4910$bd44db30$@psu.edu>
	<20160304113518.Horde.GVLwaOgdGrJXp5eX_KE_O8Z@enersave.ca>
Message-ID: <D2FF5162.234D6%Robert.Guglielmetti@nrel.gov>

Welcome! As far as I know, you can't export to Radiance from Window, but
you can from Optics. You end up with a simple "glass" definition, and a
front and back material def using the BRTDfunc. Hopefully that's useful to
you. (?)

- Rob 
 


On 3/4/16, 9:35 AM, "Chris Jones" <cj at enersave.ca> wrote:

>Full disclosure - I am a newbie working through Rendering With
>Radiance and having a lot of fun. One question, is it possible to
>import or define the spectral characteristics of glazing systems in
>Radiance? For example, if I define a glazing system with Window 7, is
>there a way to enter those properties in Radiance for daylighting
>analysis?
>
>
>
>-- 
>
>Chris Jones
>14 Oneida Avenue
>Toronto, ON M5J 2E3
>416-697-0056
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From cj at enersave.ca  Fri Mar  4 17:15:07 2016
From: cj at enersave.ca (Chris)
Date: Fri, 04 Mar 2016 20:15:07 -0500
Subject: [Radiance-general] Defining glazing properties
In-Reply-To: <D2FF5162.234D6%Robert.Guglielmetti@nrel.gov>
References: <CAF-iH4+QYYq1ozDJRYu0Gxjb+mKSWpfX-HKfL7uXHH1BTudyfg@mail.gmail.com>
	<D2FC8F81.2332D%Robert.Guglielmetti@nrel.gov>
	<009601d174cc$946c4910$bd44db30$@psu.edu>
	<20160304113518.Horde.GVLwaOgdGrJXp5eX_KE_O8Z@enersave.ca>
	<D2FF5162.234D6%Robert.Guglielmetti@nrel.gov>
Message-ID: <20160305011543.82DC7AD6DB@relay.mailchannels.net>

Yes, that's great. My intro to Radiance was SPOTPro. I am now 
pursuing the csh shell approach.

I am familiar with Optics although I haven't used it in quite a few years.

I will report back.


At 04:54 PM 04/03/2016, Guglielmetti, Robert wrote:
>Welcome! As far as I know, you can't export to Radiance from Window, but
>you can from Optics. You end up with a simple "glass" definition, and a
>front and back material def using the BRTDfunc. Hopefully that's useful to
>you. (?)
>
>- Rob
>
>
>
>On 3/4/16, 9:35 AM, "Chris Jones" <cj at enersave.ca> wrote:
>
> >Full disclosure - I am a newbie working through Rendering With
> >Radiance and having a lot of fun. One question, is it possible to
> >import or define the spectral characteristics of glazing systems in
> >Radiance? For example, if I define a glazing system with Window 7, is
> >there a way to enter those properties in Radiance for daylighting
> >analysis?
> >
> >
> >
> >--
> >
> >Chris Jones
> >14 Oneida Avenue
> >Toronto, ON M5J 2E3
> >416-697-0056
> >
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general


Chris Jones
14 Oneida Avenue
Toronto, ON M5J 2E3
Tel. 416-697-0056



From gregoryjward at gmail.com  Fri Mar  4 17:35:06 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 4 Mar 2016 17:35:06 -0800
Subject: [Radiance-general] Sampling thorugh TRANS material
In-Reply-To: <CAF-iH4Jy+kHgrnRZMCc2kWMG4RU69WBCVqzwcGm8H7zc0i+0pA@mail.gmail.com>
References: <CAF-iH4Jy+kHgrnRZMCc2kWMG4RU69WBCVqzwcGm8H7zc0i+0pA@mail.gmail.com>
Message-ID: <E4FEA9A3-6B10-4B9D-B466-9A3B8F0EA0A0@lmi.net>

Hi Germ?n,

I'm really only guessing, but I would say you need to increase your -ad value (a lot) to get a good result for your workplane in this situation.  You have the noise of the BSDF on the window to filter, which requires a great many samples.  Setting -ab 12 is probably higher than needed.  What is your -lw setting?  This is important for determining the number of rays actually traced.  Also, -aa gets set forcibly to zero by rcontrib, since it doesn't support the ambient cache.  Try:

	-ad 20000 -lw 2e-5 -ab 5

to see if this produces smoother results.

Cheers,
-Greg

> From: Germ?n Molina Larrain <germolinal at gmail.com>
> Subject: [Radiance-general] Sampling thorugh TRANS material
> Date: March 4, 2016 12:33:12 PM PST
> 
> Hello everyone, 
> 
> I have a question about trans material... The story is the following:
> I already read what Axel Jacobs has to say about Trans, read the Radiance Reference Manual and also Googled a bit. 
> After all that, I found out how to model Fabric materials using Trans (I need some uncolored specular transmission and a bit colored Diffuse transmission). After the research, I noticed that Trans, as I wanted to model Fabrics, would only work for gray textiles... but that is good enough for me.
> I managed to do all that, and actually run genBSDF to check if the diffuse and direct parts were OK.... they came very close, but not quite perfect, even if my parameters were pretty high. 
> Assuming it was as good as it would get, I continued with my simulation... I am using rcontrib's 2-phase method, with "-ab 12 -ad 4096 -aa 0.1" parameters... but I get some NOT SMOOTH results. LINK TO PICTURE
> Any hints on the parameters I have to use in order to model this product well? Is this caused by the fact that there is no direct light in the calculation of the DC matrix? Will my approach work?
> 
> Regards, 
> 
> Germ?n
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160304/ca5ae062/attachment.html>

From alireh at uw.edu  Sat Mar  5 20:59:34 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sat, 5 Mar 2016 20:59:34 -0800
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in generating
 direct sun coefficient matrix
Message-ID: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>

Hello,

I am pursuing the Five-phase Method Tutorial (
http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf)
and I have encountered the following errors in my attempt to generate
Direct sun coefficient matrix in Example 2:


Question/Error #1:


OS: Windows 7 (64-bit)
Radiance: 5.08
Command Line Environment: Git Bash


Command:

$ vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace -h -opn
-fa -ab 0 model_nosuns.oct | rcontrib `vwrays -vf views/view_A.vf -x 600 -y
600 -d` -fac -fo -o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b
rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2
model_suns.oct

Error:
rtrace: warning - no light sources found
rtrace: system - write error: Invalid argument


Description: I have tested the same command on Windows shell (cmd.exe), and
I receive an 'rcontrib' error in addition to the 'rtrace' errors that I
encounter in Git Bash:


OS: Windows 7 (64-bit)
Radiance: 5.08
Command Line Environment: Windows shell (cmd.exe)

Command:

vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace -h -opn
-fa -ab 0 model_nosuns.oct | rcontrib `vwrays -vf views/view_A.vf -x 600 -y
600 -d` -fac -fo -o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b
rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2
model_suns.oct


Error:
rcontrib: fatal - missing required modifier argument
rtrace: warning - no light sources found
rtrace: system - write error: Invalid argument


Question #2:

The original command  in the tutorial includes the "-n $procs" as part of
the options passed to the 'rcontrib' call. However, I do not know where I
can find the definition for "$procs" ?
According to the Radiance documentation available for rcontrib, the -n
option is specified for multiple processes to accelerate computation on a
shared memory machine. The Git Bash on Windows can handle 3200 open files
as the maximum value passed to a "ulimit" call. But apparently,  windows
shell (cmd.exe) must be able to handle more open processes.


Thank you,
Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160305/fdee6e66/attachment.html>

From ruggiero.guida at gmail.com  Sun Mar  6 05:02:38 2016
From: ruggiero.guida at gmail.com (Ruggiero Guida)
Date: Sun, 06 Mar 2016 13:02:38 +0000
Subject: [Radiance-general] Irradiation on standing subject with Radiance
In-Reply-To: <56F67849-C3DE-4969-B37B-F36501D84B22@lmi.net>
References: <CA+U776CaT_ePaqK2CRiVX=xoLu6=9gsbp3ZqCN97gvBVPszjEg@mail.gmail.com>
	<3B1C0203-6A0B-45A1-AA1B-7F9BC183869C@lmi.net>
	<CA+U776BRu0WDFwk5H47EhXOO55YiwG_yZZ2Eojj3L0TxXspK=Q@mail.gmail.com>
	<2EC20D68-958F-4EEE-9581-F135B2B4E062@lmi.net>
	<A0801DF2599314DD.DDE0BA73-EA13-4B69-9B0F-6B828FEF785D@mail.outlook.com>
	<1704A0B4-EC3B-4B62-80D5-2B827C926CBA@lmi.net>
	<D94BF3CE-19E2-44E3-9A6C-2E28E71B42E8@gmail.com>
	<376F15B1-B6C3-4C3A-8F7B-05F9741DB7B6@gmail.com>
	<CA+U776D+2oYED_Apwc2smRns8tOvqLimkj2Cs-GKZwm7Cp8XOw@mail.gmail.com>
	<CA+U776DeSMTAcQBEK+pVOsfxFFJWaNGSngen0fMFcF6QT7=3OQ@mail.gmail.com>
	<0ECD1BA1-9A90-4D87-902F-169E921E31AA@lmi.net>
	<CA+U776BzR95H=JoSk3Ab_zx3FzN95Kbt-6+j_MVo4vjqGa7EKg@mail.gmail.com>
	<56F67849-C3DE-4969-B37B-F36501D84B22@lmi.net>
Message-ID: <CA+U776DTAGKvii-b8YTi+7B+sL+yDFhBGtR_jtwv8dgdUyJ6HQ@mail.gmail.com>

Thanks a lot Greg. It works now!

On Fri, 4 Mar 2016 at 16:26 Greg Ward <gregoryjward at gmail.com> wrote:

> This was my mistake.  I forgot to include the -I+ option on the rfluxmtx
> command line, which should have been:
>
> rfluxmtx -I+ -v -c 105 -y 1 - combined_sky.rad < samps.txt > daycoef.mtx
>
> (I also added a "-v" above so you can see how it's calling rcontrib.)
>
> Cheers,
> -Greg
>
> *From: *Ruggiero Guida <ruggiero.guida at gmail.com>
>
> *Subject: *Re: [Radiance-general] Irradiation on standing subject with
> Radiance
>
> *Date: *March 4, 2016 5:24:58 AM PST
>
>
> Thanks a lot for your help Greg,
>
> Yes, my samps.txt has exactly 105 lines with point and direction.
>
> When I run your command
>
> rcontrib -c 105 -y 1 -I+ -f tregenza.cal -m groundglow -b tbin -bn 145 -m
> skyglow test.oct < samps.txt > daycoef.mtx
>
> I get a daycoef.mtx with the correct number of elements of which only the
> first is not zero. Am I missing something? I have double check the sky and
> ground file and they are correct.
>
> Thanks again
> Ruggiero
>
>
> On Thu, 3 Mar 2016 at 20:26 Greg Ward <gregoryjward at gmail.com> wrote:
>
>> Hi Ruggiero,
>>
>> As given, your command:
>>
>> rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct <
>> samps.txt > daycoef.mtx
>>
>> does average 105 irradiance positions, taken them in sequence from
>> samps.txt.  I assume this contains exactly 105 random sample positions &
>> directions.
>>
>> The output will not be Tregenza sky patches, because you are missing some
>> needed options.  If you want your ground average to precede your 145
>> Tregenza patches in your matrix, then use the following order:
>>
>> rcontrib -c 105 -y 1 -I+ -f tregenza.cal -m groundglow -b tbin -bn 145 -m
>> skyglow test.oct < samps.txt > daycoef.mtx
>>
>> The above process can in fact be simplified by merging your ground.rad
>> and sky.rad files with some comments like so:
>>
>> <combined_sky.rad>
>> # Combined ground and sky vault for calculating cylindrical irradiance
>>
>> # Start by telling rfluxmtx to generate a single coefficient for the
>> ground:
>> #@rfluxmtx h=u
>>
>> void glow groundglow
>> 0 0 4 .8 1.1 .8  0
>> groundglow source ground
>> 0 0 4 0 0 -1  180
>>
>> # Now, tell rfluxmtx to generate a set of Tregenza sky patches using Y
>> for "north/up":
>> #@rfluxmtx h=t u=+Y
>>
>> void glow sky_glow
>> 0 0 4    1 1 1 0
>> sky_glow source sky
>> 0 0 4    0 0 1 180
>>
>> ------------------
>> Notice how I took out the actual sky distribution, which you don't need
>> for a coefficient calculation.  (It would make no difference to the results
>> in fact.)
>>
>> Then, you can then use rfluxmtx to call oconv and rcontrib for you:
>>
>> rfluxmtx -c 105 -y 1 - combined_sky.rad < samps.txt > daycoef.mtx
>>
>> Note that the lone hyphen ("-") tells rfluxmtx to read from its standard
>> input, and must be given as shown above.  Assuming you have just 105
>> positions  in samps.txt, I've specified -y 1, so that the output matrix has
>> both its dimensions set properly.
>>
>> Once you have the above matrix, you can multiply it against any sky
>> vector to get the desired cylindrical irradiance:
>>
>> gendaylit [options] | genskyvec | dctimestep daycoef.mtx
>>
>> The above command should produce a single RGB triplet corresponding to
>> the cylindrical irradiance with the given sky.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Ruggiero Guida <ruggiero.guida at gmail.com>
>>
>> *Subject: *Re: [Radiance-general] Irradiation on standing subject with
>> Radiance
>>
>> *Date: *March 3, 2016 12:35:35 AM PST
>>
>>
>> Hi Greg,
>>
>> I finally managed to have a look at this problem again.
>>
>> To begin with I was starting with a basic case: just sky and ground.
>>
>> <sky.rad>
>> void light solar
>> 0 0 3 5.326e+06 5.326e+06 5.326e+06
>>
>> solar source sun
>> 0 0 4 0.463565 0.022184 0.885785 0.533000
>>
>> void brightfunc skyfunc
>> 2 skybright perezlum.cal
>> 0 10 5.802e+01 4.447e+01 -0.843574 -1.078181 11.876231 -3.091220
>> 0.271617 0.463565 0.022184 0.885785
>>
>> skyfunc glow sky_glow
>> 0 0 4    1 1 1 0
>> sky_glow source sky
>> 0 0 4    0 0 1 180
>>
>> <ground.rad>
>> skyfunc glow groundglow
>> 0 0 4 .8 1.1 .8  0
>> groundglow source ground
>> 0 0 4 0 0 -1  180
>>
>> I then generate the scene with
>>
>> oconv materials.rad sky.rad ground.rad > test.oct
>>
>> Let's suppose I want to calculate the contributions on the subject from a
>> tregenza subdivision I would use
>>
>> rcontrib -c 105 -I+ -f tregenza.cal -m skyglow -m groundglow test.oct <
>> samps.txt > daycoef.mtx
>> This is my understanding of this command.
>>
>> 1 - For each of the 105 random points
>> 2 - create a tregenza dome subdivision
>> 3 - calculate all the contributions from groundglow and skyglow and add
>> them up (this considers the cosine between the normal of the point and the
>> patch vector)
>> 4 - finally average all the results for the 105 points.
>>
>> Does this make any sense? How would I obtain the actual matrix?
>>
>> Thanks
>> Ruggiero
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160306/eb38084f/attachment.html>

From gregoryjward at gmail.com  Sun Mar  6 08:53:32 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun, 6 Mar 2016 08:53:32 -0800
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in
	generating direct sun coefficient matrix
In-Reply-To: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
References: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
Message-ID: <A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>

Hi Alireza,

Thanks for including your commands and the full errors reported -- this is helpful.  I will offer my suggestions inline, below:

> From: Alireza Hashemloo <alireh at uw.edu>
> Subject: [Radiance-general] Five-phase Method Tutorial: Errors in generating direct sun coefficient matrix
> Date: March 5, 2016 8:59:34 PM PST
> 
> Hello,
> 
> I am pursuing the Five-phase Method Tutorial (http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/Tutorial-FivePhaseMethod_v2.pdf) and I have encountered the following errors in my attempt to generate Direct sun coefficient matrix in Example 2:
> 
> Question/Error #1:
> 
> OS: Windows 7 (64-bit)
> Radiance: 5.08
> Command Line Environment: Git Bash
> 
> Command:
> 
> $ vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace -h -opn -fa -ab 0 model_nosuns.oct | rcontrib `vwrays -vf views/view_A.vf -x 600 -y 600 -d` -fac -fo -o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 model_suns.oct
> 
> Error: 
> rtrace: warning - no light sources found
> rtrace: system - write error: Invalid argument

The warning from the first rtrace command is nothing to worry about.  You are using it to compute positions and normals, not values, so it doesn't matter.  You can use the -w- on that command to avoid the warning.  I also recommend using -opN rather than -opn for efficiency reasons.

The "Invalid argument" error is mysterious.  I'm not sure why rtrace would report that unless the pipe to rcontrib was not being opened.  Do the single back-quotes work in Git Bash?  What happens if you leave off the  `vwrays -vf views/view_A.vf -x 600 -y 600 -d` part?  (It wouldn't be correct -- just wondering if that has something to do with the failure.)

> Description: I have tested the same command on Windows shell (cmd.exe), and I receive an 'rcontrib' error in addition to the 'rtrace' errors that I encounter in Git Bash:
> 
> OS: Windows 7 (64-bit)
> Radiance: 5.08
> Command Line Environment: Windows shell (cmd.exe)
> 
> Command:
> 
> vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace -h -opn -fa -ab 0 model_nosuns.oct | rcontrib `vwrays -vf views/view_A.vf -x 600 -y 600 -d` -fac -fo -o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 model_suns.oct
> 
> Error: 
> rcontrib: fatal - missing required modifier argument
> rtrace: warning - no light sources found
> rtrace: system - write error: Invalid argument

My guess is that your command-line is too long for cmd.exe, so the rcontrib command is getting truncated before it gets to its -m argument.  Try running it as two commands, i.e.:

vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace -h -w -opN -fa -ab 0 model_nosuns.oct > points.txt
rcontrib -x 600 -y 600 -fac -fo -o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 model_suns.oct < points.txt

(Replace the "-x 600 -y 600" with the output of "vwrays -vf views/view_A.vf -x 600 -y 600 -d" as I'm pretty sure back-quotes don't work with cmd.exe.)

> Question #2:
> 
> The original command  in the tutorial includes the "-n $procs" as part of the options passed to the 'rcontrib' call. However, I do not know where I can find the definition for "$procs" ? 
> According to the Radiance documentation available for rcontrib, the -n option is specified for multiple processes to accelerate computation on a shared memory machine. The Git Bash on Windows can handle 3200 open files as the maximum value passed to a "ulimit" call. But apparently,  windows shell (cmd.exe) must be able to handle more open processes.

You will have to go from MF:6 to MF:4 using Git Bash, since MF:6 corresponds to over 5000 open files.  I do not think you can have multiple processes under Windows using rcontrib, no matter which shell you use, so -n 1 (the default) is all you get.

Good luck!
-Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160306/986211d2/attachment-0001.html>

From reinier.zeldenrust at atelierten.com  Mon Mar  7 01:52:42 2016
From: reinier.zeldenrust at atelierten.com (Reinier Zeldenrust)
Date: Mon, 7 Mar 2016 09:52:42 +0000
Subject: [Radiance-general] Defining glazing properties
Message-ID: <DB4PR05MB06885EAE0BFFB0E616B034F7F4B10@DB4PR05MB0688.eurprd05.prod.outlook.com>

Hi Chris, Rob,

There is actually a way to extract BSDFs XMLs from Window, but it requires a bit of a roundabout way.

To extract the BSDF XML file from window:

1. Create the window system. Do initial calculation (F9). 

2. Enable Radiance calculations (under preferences). 

3. Run radiance calculations. This will not work for all materials, some don't have the right information to generate XMLs. If there is an issue saying Radiance is not installed, follow this solution: https://windows.lbl.gov/software/window/7/w7_faq.html#RadianceINI

4. Go to this location C:\Users\Public\LBNL\WINDOW7.3\BSDFs  (might be slightly different if you use a different version) to retrieve the XML BSDF file. 

5. Use in Radiance as a BSDF file. 

Hope this is helpful.

Reinier Zeldenrust
Senior Environmental Designer / Head of Advanced Building Physics
Atelier Ten
Environmental Design Consultants + Building Services Engineers



Message: 2
Date: Fri, 4 Mar 2016 21:54:31 +0000
From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Defining glazing properties
Message-ID: <D2FF5162.234D6%Robert.Guglielmetti at nrel.gov>
Content-Type: text/plain; charset="us-ascii"

Welcome! As far as I know, you can't export to Radiance from Window, but you can from Optics. You end up with a simple "glass" definition, and a front and back material def using the BRTDfunc. Hopefully that's useful to you. (?)

- Rob 
 


On 3/4/16, 9:35 AM, "Chris Jones" <cj at enersave.ca> wrote:

>Full disclosure - I am a newbie working through Rendering With Radiance 
>and having a lot of fun. One question, is it possible to import or 
>define the spectral characteristics of glazing systems in Radiance? For 
>example, if I define a glazing system with Window 7, is there a way to 
>enter those properties in Radiance for daylighting analysis?
>
>
>
>--
>
>Chris Jones
>14 Oneida Avenue
>Toronto, ON M5J 2E3
>416-697-0056
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general




From Robert.Guglielmetti at nrel.gov  Mon Mar  7 08:17:50 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 7 Mar 2016 16:17:50 +0000
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in
 generating direct sun coefficient matrix
In-Reply-To: <A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>
References: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
	<A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>
Message-ID: <D302F70E.23548%Robert.Guglielmetti@nrel.gov>

On 3/6/16, 9:53 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:

I do not think you can have multiple processes under Windows using rcontrib, no matter which shell you use, so -n 1 (the default) is all you get.


That is true; rcontrib on Windows will silently ignore -n settings > 1.  On OpenStudio, you will get a heads up about this.


From Robert.Guglielmetti at nrel.gov  Mon Mar  7 12:06:20 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 7 Mar 2016 20:06:20 +0000
Subject: [Radiance-general] Defining glazing properties
In-Reply-To: <DB4PR05MB06885EAE0BFFB0E616B034F7F4B10@DB4PR05MB0688.eurprd05.prod.outlook.com>
References: <DB4PR05MB06885EAE0BFFB0E616B034F7F4B10@DB4PR05MB0688.eurprd05.prod.outlook.com>
Message-ID: <D3032D38.23562%Robert.Guglielmetti@nrel.gov>

Cool, thanks for this summary, Reinier!

On 3/7/16, 2:52 AM, "Reinier Zeldenrust"
<reinier.zeldenrust at atelierten.com> wrote:

>Hi Chris, Rob,
>
>There is actually a way to extract BSDFs XMLs from Window, but it
>requires a bit of a roundabout way.
>
>To extract the BSDF XML file from window:
>
>1. Create the window system. Do initial calculation (F9).
>
>2. Enable Radiance calculations (under preferences).
>
>3. Run radiance calculations. This will not work for all materials, some
>don't have the right information to generate XMLs. If there is an issue
>saying Radiance is not installed, follow this solution:
>https://windows.lbl.gov/software/window/7/w7_faq.html#RadianceINI
>
>4. Go to this location C:\Users\Public\LBNL\WINDOW7.3\BSDFs  (might be
>slightly different if you use a different version) to retrieve the XML
>BSDF file. 
>
>5. Use in Radiance as a BSDF file.
>
>Hope this is helpful.
>
>Reinier Zeldenrust
>Senior Environmental Designer / Head of Advanced Building Physics
>Atelier Ten
>Environmental Design Consultants + Building Services Engineers



From rmfritz3 at gmail.com  Mon Mar  7 18:19:24 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 7 Mar 2016 18:19:24 -0800
Subject: [Radiance-general] DGP studies: image size
Message-ID: <CANeAMo+wzLUdJUzuKsA6Q1UVPA6BttHn6+ZqxFhOYG+wo9tw5w@mail.gmail.com>

The original paper recommends 800x800 images for glare studies. Anyone have
a feeling for how hard and fast that is? Would the canonical 500x500 be
enough?

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160307/3b14e418/attachment.html>

From jan.wienold at epfl.ch  Tue Mar  8 01:38:05 2016
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Tue, 8 Mar 2016 10:38:05 +0100
Subject: [Radiance-general] DGP studies: image size
In-Reply-To: <CANeAMo+wzLUdJUzuKsA6Q1UVPA6BttHn6+ZqxFhOYG+wo9tw5w@mail.gmail.com>
References: <CANeAMo+wzLUdJUzuKsA6Q1UVPA6BttHn6+ZqxFhOYG+wo9tw5w@mail.gmail.com>
Message-ID: <56DE9D7D.7010305@epfl.ch>

Hi Randolph,

as the question is general, the clear answer is no - this cannot be 
recommended in general. Just imagine having a 180 degree fish eye 
resolving the sun (or reflection of it)  with 0.5 degree and having only 
500x500 pixels. We made this recommendation of 800x800 10 years ago, 
when a) evalglare was in its first version (in the meanwhile I optimized 
the code which results in average to 30% time saving compared to the 
first versions) b) computer power was less. Nowadays I recommend 
1000x1000, especially when dealing with fabrics/translucent materials 
with a certain peak transmission.
Another example: Imagine you want to do a electric lighting analysis 
with small emitting surfaces (e.g. bunch of single LEDs) of high 
luminances. In that case you really want to resolve the glare sources 
not only with 1 pixel each.

But on the other hand, there are also many cases, where you are totally 
fine with 500x500, when your potential glare sources are rather large.

I'm currently performing a study including images from several groups - 
we are having more than 1000 images and I would say in average an 
evalglare run was about 7s per image (using 1000x1000). The more glare 
sources are found in the image, the longer it takes (this has to do with 
the combining the "glare source pixel" to glare sources). So for a scene 
with a large amount of glare sources you might end up with 3-4min per 
image.

Jan



On 08/03/16 03:19, Randolph M. Fritz wrote:
> The original paper recommends 800x800 images for glare studies. Anyone 
> have a feeling for how hard and fast that is? Would the canonical 
> 500x500 be enough?
>
> -- 
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com <mailto:rmfritz3 at gmail.com>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general

-- 
Dr.-Ing.  Jan Wienold
Ecole Polytechnique F?d?rale de Lausanne (EPFL)
EPFL ENAC IA LIPID

http://people.epfl.ch/jan.wienold
LE 1 111 (Office)
Phone    +41 21 69 30849

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160308/149c3d62/attachment.html>

From rmfritz3 at gmail.com  Tue Mar  8 12:36:09 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Tue, 8 Mar 2016 12:36:09 -0800
Subject: [Radiance-general] DGP studies: image size
In-Reply-To: <56DE9D7D.7010305@epfl.ch>
References: <CANeAMo+wzLUdJUzuKsA6Q1UVPA6BttHn6+ZqxFhOYG+wo9tw5w@mail.gmail.com>
	<56DE9D7D.7010305@epfl.ch>
Message-ID: <CANeAMoJYuHhPuc-AUC6VXdcFZef6uBhauJ5oW5jCnJUxtn=rdw@mail.gmail.com>

Thanks. That helps.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Tue, Mar 8, 2016 at 1:38 AM, Jan Wienold <jan.wienold at epfl.ch> wrote:

> Hi Randolph,
>
> as the question is general, the clear answer is no - this cannot be
> recommended in general. Just imagine having a 180 degree fish eye resolving
> the sun (or reflection of it)  with 0.5 degree and having only 500x500
> pixels. We made this recommendation of 800x800 10 years ago, when a)
> evalglare was in its first version (in the meanwhile I optimized the code
> which results in average to 30% time saving compared to the first versions)
> b) computer power was less. Nowadays I recommend 1000x1000, especially when
> dealing with fabrics/translucent materials with a certain peak transmission.
> Another example: Imagine you want to do a electric lighting analysis with
> small emitting surfaces (e.g. bunch of single LEDs) of high luminances. In
> that case you really want to resolve the glare sources not only with 1
> pixel each.
>
> But on the other hand, there are also many cases, where you are totally
> fine with 500x500, when your potential glare sources are rather large.
>
> I'm currently performing a study including images from several groups - we
> are having more than 1000 images and I would say in average an evalglare
> run was about 7s per image (using 1000x1000). The more glare sources are
> found in the image, the longer it takes (this has to do with the combining
> the "glare source pixel" to glare sources). So for a scene with a large
> amount of glare sources you might end up with 3-4min per image.
>
> Jan
>
>
>
>
> On 08/03/16 03:19, Randolph M. Fritz wrote:
>
> The original paper recommends 800x800 images for glare studies. Anyone
> have a feeling for how hard and fast that is? Would the canonical 500x500
> be enough?
>
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || <rmfritz3 at gmail.com>rmfritz3 at gmail.com
>
>
> _______________________________________________
> Radiance-general mailing listRadiance-general at radiance-online.orghttp://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> --
> Dr.-Ing.  Jan Wienold
> Ecole Polytechnique F?d?rale de Lausanne (EPFL)
> EPFL ENAC IA LIPID
> http://people.epfl.ch/jan.wienold
> LE 1 111 (Office)
> Phone    +41 21 69 30849
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160308/f14a3973/attachment.html>

From alireh at uw.edu  Wed Mar  9 00:53:23 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Wed, 9 Mar 2016 00:53:23 -0800
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in
 generating direct sun coefficient matrix
In-Reply-To: <D302F70E.23548%Robert.Guglielmetti@nrel.gov>
References: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
	<A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>
	<D302F70E.23548%Robert.Guglielmetti@nrel.gov>
Message-ID: <CADjcregM2CA0Opj9qc=sm-7j82vCt-zqV+a7hP+SLd74PJ5Neg@mail.gmail.com>

Hi Greg and Rob,

Thank you for your responses:

- It does not appear that the single back quotes are the source of the
problem as I tested the command following your recommendation without
passing the `vwrays -vf views/view_A.vf -x 600 -y 600 -d` to "rcontrib" and
the rtrace "invalid argument" error still appears.

- I have tested the approach to split the command into two parts as you had
suggested:

part 1:   vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace
-h -opN -fa -ab 0 model_nosuns.oct > points.txt
part 2:   rcontrib -x 600 -y 600 -fac -fo -o viewpics_ds/back_%04d.hdr -e
MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt
0 -dc 1 -lw 1e-2 model_suns.oct < points.txt

the part 1 appears to work properly considering that a "points.txt" file is
generated. The part 2, however, does not appear to work: although I do not
receive any error messages on my command line, the rcontrib call is
completed immediately after it is run and 508 hdr images are generated in
the given directory. However, each .hdr file is only 1 KB and the attempt
to opening any of them is failed. It does not appear that the files have
actually been written successfully.

In addition, could you elaborate about your suggestion to  *" Replace the
"-x 600 -y 600" with the output of "vwrays -vf views/view_A.vf -x 600 -y
600 -d*" " in part 2 of the command?
Finally,  I was wondering where the definition for the "solar" modifier as
the target light source passed to the 'rcontrib' call (-m solar) is made in
the previous steps of the tutorial?

Thank you for your help.
Best Regards,

Alireza







On Mon, Mar 7, 2016 at 8:17 AM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> On 3/6/16, 9:53 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:
> gregoryjward at gmail.com>> wrote:
>
> I do not think you can have multiple processes under Windows using
> rcontrib, no matter which shell you use, so -n 1 (the default) is all you
> get.
>
>
> That is true; rcontrib on Windows will silently ignore -n settings > 1.
> On OpenStudio, you will get a heads up about this.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160309/b80ab751/attachment.html>

From mcneil.andrew at gmail.com  Wed Mar  9 07:25:33 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Wed, 9 Mar 2016 07:25:33 -0800
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in
	generating direct sun coefficient matrix
In-Reply-To: <CADjcregM2CA0Opj9qc=sm-7j82vCt-zqV+a7hP+SLd74PJ5Neg@mail.gmail.com>
References: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
	<A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>
	<D302F70E.23548%Robert.Guglielmetti@nrel.gov>
	<CADjcregM2CA0Opj9qc=sm-7j82vCt-zqV+a7hP+SLd74PJ5Neg@mail.gmail.com>
Message-ID: <F33D837C-EA62-4D9B-8165-82C71CBFEC75@gmail.com>

Alireza,

This behavior is consistent with running up against limitations on open files. I don't know how to change the limit on Windows, but found this:
http://stackoverflow.com/questions/870173/is-there-a-limit-on-number-of-open-files-in-windows

Andy


> On Mar 9, 2016, at 12:53 AM, Alireza Hashemloo <alireh at uw.edu> wrote:
> 
> Hi Greg and Rob,
> 
> Thank you for your responses:
> 
> - It does not appear that the single back quotes are the source of the problem as I tested the command following your recommendation without passing the `vwrays -vf views/view_A.vf -x 600 -y 600 -d` to "rcontrib" and the rtrace "invalid argument" error still appears.
> 
> - I have tested the approach to split the command into two parts as you had suggested:
> 
> part 1:   vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace -h -opN -fa -ab 0 model_nosuns.oct > points.txt
> part 2:   rcontrib -x 600 -y 600 -fac -fo -o viewpics_ds/back_%04d.hdr -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 model_suns.oct < points.txt
> 
> the part 1 appears to work properly considering that a "points.txt" file is generated. The part 2, however, does not appear to work: although I do not receive any error messages on my command line, the rcontrib call is completed immediately after it is run and 508 hdr images are generated in the given directory. However, each .hdr file is only 1 KB and the attempt to opening any of them is failed. It does not appear that the files have actually been written successfully.
> 
> In addition, could you elaborate about your suggestion to  " Replace the "-x 600 -y 600" with the output of "vwrays -vf views/view_A.vf -x 600 -y 600 -d" " in part 2 of the command?
> Finally,  I was wondering where the definition for the "solar" modifier as the target light source passed to the 'rcontrib' call (-m solar) is made in the previous steps of the tutorial?
> 
> Thank you for your help.
> Best Regards,
> 
> Alireza
> 
> 
> 
> 
> 
> 
> 
>> On Mon, Mar 7, 2016 at 8:17 AM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
>> On 3/6/16, 9:53 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>> 
>> I do not think you can have multiple processes under Windows using rcontrib, no matter which shell you use, so -n 1 (the default) is all you get.
>> 
>> 
>> That is true; rcontrib on Windows will silently ignore -n settings > 1.  On OpenStudio, you will get a heads up about this.
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160309/0e1995d5/attachment-0001.html>

From germolinal at gmail.com  Wed Mar  9 10:32:22 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Wed, 9 Mar 2016 15:32:22 -0300
Subject: [Radiance-general] Sampling thorugh TRANS material
In-Reply-To: <E4FEA9A3-6B10-4B9D-B466-9A3B8F0EA0A0@lmi.net>
References: <CAF-iH4Jy+kHgrnRZMCc2kWMG4RU69WBCVqzwcGm8H7zc0i+0pA@mail.gmail.com>
	<E4FEA9A3-6B10-4B9D-B466-9A3B8F0EA0A0@lmi.net>
Message-ID: <CAF-iH4+tkDER_WXCJi5=0S=9b1MhxvyMZoRsFo7=-hd4TByeuw@mail.gmail.com>

Thanks, Greg... It worked. Is there any special thing about TRANS that
requres so many ADs? This is the first time I have required a value that
high to converge.

Best,

2016-03-04 22:35 GMT-03:00 Greg Ward <gregoryjward at gmail.com>:

> Hi Germ?n,
>
> I'm really only guessing, but I would say you need to increase your -ad
> value (a lot) to get a good result for your workplane in this situation.
> You have the noise of the BSDF on the window to filter, which requires a
> great many samples.  Setting -ab 12 is probably higher than needed.  What
> is your -lw setting?  This is important for determining the number of rays
> actually traced.  Also, -aa gets set forcibly to zero by rcontrib, since it
> doesn't support the ambient cache.  Try:
>
> -ad 20000 -lw 2e-5 -ab 5
>
> to see if this produces smoother results.
>
> Cheers,
> -Greg
>
> *From: *Germ?n Molina Larrain <germolinal at gmail.com>
>
> *Subject: *[Radiance-general] Sampling thorugh TRANS material
>
> *Date: *March 4, 2016 12:33:12 PM PST
>
>
> Hello everyone,
>
> I have a question about trans material... The story is the following:
>
>    1. I already read what Axel Jacobs has to say about Trans, read the
>    Radiance Reference Manual and also Googled a bit.
>    2. After all that, I found out how to model Fabric materials using
>    Trans (I need some uncolored specular transmission and a bit colored
>    Diffuse transmission). After the research, I noticed that Trans, as I
>    wanted to model Fabrics, would only work for gray textiles... but that is
>    good enough for me.
>    3. I managed to do all that, and actually run genBSDF to check if the
>    diffuse and direct parts were OK.... they came very close, but not quite
>    perfect, even if my parameters were pretty high.
>    4. Assuming it was as good as it would get, I continued with my
>    simulation... I am using rcontrib's 2-phase method, with "-ab 12 -ad 4096
>    -aa 0.1" parameters... but I get some NOT SMOOTH results. LINK TO
>    PICTURE
>    <https://drive.google.com/file/d/0B2NfkTSl19hQSF9rbTF4S0tMWXc/view?usp=sharing>
>
> Any hints on the parameters I have to use in order to model this product
> well? Is this caused by the fact that there is no direct light in the
> calculation of the DC matrix? Will my approach work?
>
> Regards,
>
> Germ?n
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160309/9c162d0f/attachment.html>

From gregoryjward at gmail.com  Wed Mar  9 11:06:21 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 9 Mar 2016 11:06:21 -0800
Subject: [Radiance-general] Sampling thorugh TRANS material
In-Reply-To: <CAF-iH4+tkDER_WXCJi5=0S=9b1MhxvyMZoRsFo7=-hd4TByeuw@mail.gmail.com>
References: <CAF-iH4Jy+kHgrnRZMCc2kWMG4RU69WBCVqzwcGm8H7zc0i+0pA@mail.gmail.com>
	<E4FEA9A3-6B10-4B9D-B466-9A3B8F0EA0A0@lmi.net>
	<CAF-iH4+tkDER_WXCJi5=0S=9b1MhxvyMZoRsFo7=-hd4TByeuw@mail.gmail.com>
Message-ID: <5FCF54FF-4E40-4039-9875-AEE628C87D1A@lmi.net>

Hi Germ?n,

The default -lw setting for rcontrib is actually just 0.002, which means that at most 500 rays will be sampled in the initial scattering, no matter what -ad is set to.  You really need to adjust these settings in tandem when the irradiance cache is turned off, as it must be for rcontrib.

Illuminating the interior via a BSDF material means that you are randomly sampling something that is also randomly sampling, so you have two major contributors to variance.  You can see some of these effects in my 2011 Radiance Workshop talk, "The Bidirectional Scattering Distribution Function as a First-class Citizen in Radiance":

	http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf

Best,
-Greg

> From: Germ?n Molina Larrain <germolinal at gmail.com>
> Subject: Re: [Radiance-general] Sampling thorugh TRANS material
> Date: March 9, 2016 10:32:22 AM PST
> 
> Thanks, Greg... It worked. Is there any special thing about TRANS that requres so many ADs? This is the first time I have required a value that high to converge.
> 
> Best,
> 
> 2016-03-04 22:35 GMT-03:00 Greg Ward <gregoryjward at gmail.com>:
> Hi Germ?n,
> 
> I'm really only guessing, but I would say you need to increase your -ad value (a lot) to get a good result for your workplane in this situation.  You have the noise of the BSDF on the window to filter, which requires a great many samples.  Setting -ab 12 is probably higher than needed.  What is your -lw setting?  This is important for determining the number of rays actually traced.  Also, -aa gets set forcibly to zero by rcontrib, since it doesn't support the ambient cache.  Try:
> 
> 	-ad 20000 -lw 2e-5 -ab 5
> 
> to see if this produces smoother results.
> 
> Cheers,
> -Greg
> 
>> From: Germ?n Molina Larrain <germolinal at gmail.com>
>> Subject: [Radiance-general] Sampling thorugh TRANS material
>> Date: March 4, 2016 12:33:12 PM PST
>> 
>> Hello everyone, 
>> 
>> I have a question about trans material... The story is the following:
>> I already read what Axel Jacobs has to say about Trans, read the Radiance Reference Manual and also Googled a bit. 
>> After all that, I found out how to model Fabric materials using Trans (I need some uncolored specular transmission and a bit colored Diffuse transmission). After the research, I noticed that Trans, as I wanted to model Fabrics, would only work for gray textiles... but that is good enough for me.
>> I managed to do all that, and actually run genBSDF to check if the diffuse and direct parts were OK.... they came very close, but not quite perfect, even if my parameters were pretty high. 
>> Assuming it was as good as it would get, I continued with my simulation... I am using rcontrib's 2-phase method, with "-ab 12 -ad 4096 -aa 0.1" parameters... but I get some NOT SMOOTH results. LINK TO PICTURE
>> Any hints on the parameters I have to use in order to model this product well? Is this caused by the fact that there is no direct light in the calculation of the DC matrix? Will my approach work?
>> 
>> Regards, 
>> 
>> Germ?n
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160309/bdedfbb9/attachment.html>

From germolinal at gmail.com  Thu Mar 10 05:35:45 2016
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Thu, 10 Mar 2016 10:35:45 -0300
Subject: [Radiance-general] Sampling thorugh TRANS material
In-Reply-To: <5FCF54FF-4E40-4039-9875-AEE628C87D1A@lmi.net>
References: <CAF-iH4Jy+kHgrnRZMCc2kWMG4RU69WBCVqzwcGm8H7zc0i+0pA@mail.gmail.com>
	<E4FEA9A3-6B10-4B9D-B466-9A3B8F0EA0A0@lmi.net>
	<CAF-iH4+tkDER_WXCJi5=0S=9b1MhxvyMZoRsFo7=-hd4TByeuw@mail.gmail.com>
	<5FCF54FF-4E40-4039-9875-AEE628C87D1A@lmi.net>
Message-ID: <CAF-iH4+JMvMfyLB_kti2F5-pd7cpytiSEm6Q1SxwGJrWa6hNMg@mail.gmail.com>

Very cool. Thanks a lot, Greg!

2016-03-09 16:06 GMT-03:00 Greg Ward <gregoryjward at gmail.com>:

> Hi Germ?n,
>
> The default -lw setting for rcontrib is actually just 0.002, which means
> that at most 500 rays will be sampled in the initial scattering, no matter
> what -ad is set to.  You really need to adjust these settings in tandem
> when the irradiance cache is turned off, as it must be for rcontrib.
>
> Illuminating the interior via a BSDF material means that you are randomly
> sampling something that is also randomly sampling, so you have two major
> contributors to variance.  You can see some of these effects in my 2011
> Radiance Workshop talk, "The Bidirectional Scattering Distribution Function
> as a First-class Citizen in Radiance":
>
>
> http://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day2/GW5_BSDFFirstClass.pdf
>
> Best,
> -Greg
>
> *From: *Germ?n Molina Larrain <germolinal at gmail.com>
>
> *Subject: *Re: [Radiance-general] Sampling thorugh TRANS material
>
> *Date: *March 9, 2016 10:32:22 AM PST
>
>
> Thanks, Greg... It worked. Is there any special thing about TRANS that
> requres so many ADs? This is the first time I have required a value that
> high to converge.
>
> Best,
>
> 2016-03-04 22:35 GMT-03:00 Greg Ward <gregoryjward at gmail.com>:
>
>> Hi Germ?n,
>>
>> I'm really only guessing, but I would say you need to increase your -ad
>> value (a lot) to get a good result for your workplane in this situation.
>> You have the noise of the BSDF on the window to filter, which requires a
>> great many samples.  Setting -ab 12 is probably higher than needed.  What
>> is your -lw setting?  This is important for determining the number of rays
>> actually traced.  Also, -aa gets set forcibly to zero by rcontrib, since it
>> doesn't support the ambient cache.  Try:
>>
>> -ad 20000 -lw 2e-5 -ab 5
>>
>> to see if this produces smoother results.
>>
>> Cheers,
>> -Greg
>>
>> *From: *Germ?n Molina Larrain <germolinal at gmail.com>
>>
>> *Subject: *[Radiance-general] Sampling thorugh TRANS material
>>
>> *Date: *March 4, 2016 12:33:12 PM PST
>>
>>
>> Hello everyone,
>>
>> I have a question about trans material... The story is the following:
>>
>>    1. I already read what Axel Jacobs has to say about Trans, read the
>>    Radiance Reference Manual and also Googled a bit.
>>    2. After all that, I found out how to model Fabric materials using
>>    Trans (I need some uncolored specular transmission and a bit colored
>>    Diffuse transmission). After the research, I noticed that Trans, as I
>>    wanted to model Fabrics, would only work for gray textiles... but that is
>>    good enough for me.
>>    3. I managed to do all that, and actually run genBSDF to check if the
>>    diffuse and direct parts were OK.... they came very close, but not quite
>>    perfect, even if my parameters were pretty high.
>>    4. Assuming it was as good as it would get, I continued with my
>>    simulation... I am using rcontrib's 2-phase method, with "-ab 12 -ad 4096
>>    -aa 0.1" parameters... but I get some NOT SMOOTH results. LINK TO
>>    PICTURE
>>    <https://drive.google.com/file/d/0B2NfkTSl19hQSF9rbTF4S0tMWXc/view?usp=sharing>
>>
>> Any hints on the parameters I have to use in order to model this product
>> well? Is this caused by the fact that there is no direct light in the
>> calculation of the DC matrix? Will my approach work?
>>
>> Regards,
>>
>> Germ?n
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160310/87a243a0/attachment.html>

From clyde.wheeler at mail.utoronto.ca  Mon Mar 14 18:50:05 2016
From: clyde.wheeler at mail.utoronto.ca (Clyde Wheeler)
Date: Tue, 15 Mar 2016 01:50:05 +0000
Subject: [Radiance-general] Spacecraft images
Message-ID: <38E13B7B-AD59-4B15-A542-9FDA2D7E3D2F@mail.utoronto.ca>

Hi,

I was just wondering if anyone knew of any specific reference for the images found here: http://radsite.lbl.gov/radiance/gallery/starlite.html

The source is listed as NASA for both the real and simulated images, and dates are given, but I cannot locate an actual report or presentation from which these images were taken.

My research has to do with taking pictures of spacecraft on-orbit, so I?m particularly interested in the accuracy of these Radiance simulations in comparison to what was actually imaged in space. If anyone has done anything similar, or knows of anyone who has, please let me know!

Thank you,
Clyde
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/9e01f049/attachment.html>

From brianakarr at yahoo.com  Mon Mar 14 20:09:27 2016
From: brianakarr at yahoo.com (Brian A. Karr)
Date: Mon, 14 Mar 2016 23:09:27 -0400
Subject: [Radiance-general] Spacecraft images
In-Reply-To: <38E13B7B-AD59-4B15-A542-9FDA2D7E3D2F@mail.utoronto.ca>
References: <38E13B7B-AD59-4B15-A542-9FDA2D7E3D2F@mail.utoronto.ca>
Message-ID: <000701d17e68$173f54a0$45bdfde0$@yahoo.com>

This may help point you in the right direction,

 

http://www.nasa.gov/centers/johnson/pdf/486034main_HFBenefits_LETFGRAF.pdf

 

Brian

 

From: Clyde Wheeler [mailto:clyde.wheeler at mail.utoronto.ca] 
Sent: Monday, March 14, 2016 9:50 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Spacecraft images

 

Hi,

I was just wondering if anyone knew of any specific reference for the images found here: http://radsite.lbl.gov/radiance/gallery/starlite.html 

 

The source is listed as NASA for both the real and simulated images, and dates are given, but I cannot locate an actual report or presentation from which these images were taken.

 

My research has to do with taking pictures of spacecraft on-orbit, so I?m particularly interested in the accuracy of these Radiance simulations in comparison to what was actually imaged in space. If anyone has done anything similar, or knows of anyone who has, please let me know!

Thank you,
Clyde

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160314/7cec2487/attachment.html>

From urtza.uriarte at upc.edu  Tue Mar 15 03:36:42 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Tue, 15 Mar 2016 11:36:42 +0100
Subject: [Radiance-general] sudo recontrib
Message-ID: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>

Dear experts,

I am trying with Three-Phase Method for Simulating Complex Fenestration,
following A McNeil tutorial.

I am using Ubuntu 14 OS. I need use sudo command because I have
GenericTranslucent20.dat material and rang.cal that they are locked anyway.
However, when I have launched sudo rcontrib, it scripts that:


sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx

sudo: rcontrib: command not found

Could someone say what the problem is? Thank you in advance.
Best regards,
Urtza.

?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/00ee1a3a/attachment.html>

From grobe at gmx.net  Tue Mar 15 06:03:41 2016
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 15 Mar 2016 14:03:41 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
Message-ID: <56E8082D.9020206@gmx.net>

Dear Urtza,

two comments on your installation - this should be solved before you 
even start using a complicated combination of commands such as the 
three-phase method.

First, with a correct configuration of your system you will not need to 
run rcontrib as super-user (sudo). Your regular user account just needs 
read-access to the .dat and .cal files in this case, so why would you 
not grant the proper permissions?

Second, as rcontrib is not found, what makes you think it is installed? 
Did you install Radiance from sources, did the build complete without 
errors, and did you include the directory containing the binaries in 
your PATH environment variable? Does any other Radiance command work for 
you?

I would recommend having a look at Axel Jacob's set of tutorials first, 
including the unix-introduction. Otherwise you risk messing up a lot of 
your models with work-arounds, and even risk the integrity of your 
system by using sudo where it should definitively not be applied.

Cheers, Lars.

> Dear experts,
>
> I am trying with Three-Phase Method for Simulating Complex 
> Fenestration, following A McNeil tutorial.
>
> I am using Ubuntu 14 OS. I need use sudo command because I have 
> GenericTranslucent20.dat material and rang.cal that they are locked 
> anyway. However, when I have launched sudo rcontrib, it scripts that:
>
>
> sudo rcontrib -f /usr/share/radiance/klems_int.cal -b 
> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 
> -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx
>
> sudo: rcontrib: command not found
>
>
> Could someone say what the problem is? Thank you in advance.
> Best regards,
> Urtza.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/d68065b8/attachment-0001.html>

From Grigori.Grozman at equa.se  Tue Mar 15 07:24:44 2016
From: Grigori.Grozman at equa.se (Grigori Grozman)
Date: Tue, 15 Mar 2016 15:24:44 +0100
Subject: [Radiance-general] Ambient files increase illiminance
Message-ID: <9D4011E1D19CA747AE99ADE99BD6682542AAD18CCA@EQ-SRV-SBS-01.EQUA.local>

Dear Radiance experts.

I am professionally using radiance for calculating daylight factors and illuminance. It all works quite well. However, I can not fully understand how to use ambient files.

Question 1: Is there any comprehensive documentation on the topic?

Question 2: It seems to me that when rtrace is used with ambient files, a higher value of illuminance is calculated than when no ambient files are used. Is there any explanations to that? Which value is more correct?

I have put together a simple example that illustates the problem. I attach the files. The run.bat file needs to be run and the result is printed to the file res.txt.

Best regards

Grigori Grozman

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/7dbbbdfc/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: two zones amb files.zip
Type: application/x-zip-compressed
Size: 2493 bytes
Desc: two zones amb files.zip
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/7dbbbdfc/attachment.bin>

From urtza.uriarte at upc.edu  Tue Mar 15 09:19:01 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Tue, 15 Mar 2016 17:19:01 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <56E8082D.9020206@gmx.net>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
Message-ID: <20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>

  Dear Lars,

Thank you very much for your reply.?

I tried with Five-Phase method earlier and all command worked. However, now
I?exported the model from Rhino and I have some materials that they need
two specific files. I do not why they do not run without sudo, placing
where there are others, as well (They keep always the padlock, I copy there
from DIVA's files. They are not from radiance package previously
installed). I use oconv, rtrace and rpict with sudo and they work without
problem. Nervertheless, if using sudo is not good I remove those materials
and I could use rcontrib without sudo.?

Thank you for your suggestions. I read Axel Jacob's tutorials but rereading
will be fine.
Best regards for you,
Urtza.

"Lars O. Grobe" <grobe at gmx.net> escribi?:

> Dear Urtza,
>
> two comments on your installation - this should be solved before you
> even start using a complicated combination of commands such as the
> three-phase method.
>
> First, with a correct configuration of your system you will not need to
> run rcontrib as super-user (sudo). Your regular user account just needs
> read-access to the .dat and .cal files in this case, so why would you
> not grant the proper permissions?
>
> Second, as rcontrib is not found, what makes you think it is installed?
> Did you install Radiance from sources, did the build complete without
> errors, and did you include the directory containing the binaries in
> your PATH environment variable? Does any other Radiance command work for
> you?
>
> I would recommend having a look at Axel Jacob's set of tutorials first,
> including the unix-introduction. Otherwise you risk messing up a lot of
> your models with work-arounds, and even risk the integrity of your
> system by using sudo where it should definitively not be applied.
>
> Cheers, Lars.
>
>> ?

  Dear experts,

I am trying with Three-Phase Method for Simulating Complex Fenestration,
following A McNeil tutorial.

I am using Ubuntu 14 OS. I need use sudo command because I have
GenericTranslucent20.dat material and rang.cal that they are locked anyway.
However, when I have launched sudo rcontrib, it scripts that:
?

sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx

sudo: rcontrib: command not found

Could someone say what the problem is? Thank you in advance.
Best regards,
Urtza.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/f7322682/attachment.html>

From mcneil.andrew at gmail.com  Tue Mar 15 11:23:15 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Tue, 15 Mar 2016 11:23:15 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
Message-ID: <CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>

Urtza,

You should open up permissions on those two files like so:

sudo chmod 664 GenericTranslucent20.dat
sudo chmod 664 rang.cal

This changes permissions to allow owner and group read/write and everyone
read.
(you need to be in the directory or give the full path to the file).

Andy

On Tue, Mar 15, 2016 at 9:19 AM, <urtza.uriarte at upc.edu> wrote:

> Dear Lars,
>
> Thank you very much for your reply.
>
> I tried with Five-Phase method earlier and all command worked. However,
> now I exported the model from Rhino and I have some materials that they
> need two specific files. I do not why they do not run without sudo, placing
> where there are others, as well (They keep always the padlock, I copy there
> from DIVA's files. They are not from radiance package previously
> installed). I use oconv, rtrace and rpict with sudo and they work without
> problem. Nervertheless, if using sudo is not good I remove those materials
> and I could use rcontrib without sudo.
>
> Thank you for your suggestions. I read Axel Jacob's tutorials but
> rereading will be fine.
> Best regards for you,
> Urtza.
>
>
>
> "Lars O. Grobe" <grobe at gmx.net> escribi?:
>
> Dear Urtza,
>
> two comments on your installation - this should be solved before you even
> start using a complicated combination of commands such as the three-phase
> method.
>
> First, with a correct configuration of your system you will not need to
> run rcontrib as super-user (sudo). Your regular user account just needs
> read-access to the .dat and .cal files in this case, so why would you not
> grant the proper permissions?
>
> Second, as rcontrib is not found, what makes you think it is installed?
> Did you install Radiance from sources, did the build complete without
> errors, and did you include the directory containing the binaries in your
> PATH environment variable? Does any other Radiance command work for you?
>
> I would recommend having a look at Axel Jacob's set of tutorials first,
> including the unix-introduction. Otherwise you risk messing up a lot of
> your models with work-arounds, and even risk the integrity of your system
> by using sudo where it should definitively not be applied.
>
> Cheers, Lars.
>
>
>
> Dear experts,
>
> I am trying with Three-Phase Method for Simulating Complex Fenestration,
> following A McNeil tutorial.
>
> I am using Ubuntu 14 OS. I need use sudo command because I have
> GenericTranslucent20.dat material and rang.cal that they are locked anyway.
> However, when I have launched sudo rcontrib, it scripts that:
>
>
> sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
> 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx
>
> sudo: rcontrib: command not found
>
>
> Could someone say what the problem is? Thank you in advance.
> Best regards,
> Urtza.
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/09f5d9d8/attachment-0001.html>

From mcneil.andrew at gmail.com  Tue Mar 15 11:25:37 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Tue, 15 Mar 2016 11:25:37 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
Message-ID: <CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>

Urtza,
Here's some more information on file ownership and permissions for linux:
http://linuxcommand.org/lc3_lts0090.php
Andy

On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil <mcneil.andrew at gmail.com>
wrote:

> Urtza,
>
> You should open up permissions on those two files like so:
>
> sudo chmod 664 GenericTranslucent20.dat
> sudo chmod 664 rang.cal
>
> This changes permissions to allow owner and group read/write and everyone
> read.
> (you need to be in the directory or give the full path to the file).
>
> Andy
>
> On Tue, Mar 15, 2016 at 9:19 AM, <urtza.uriarte at upc.edu> wrote:
>
>> Dear Lars,
>>
>> Thank you very much for your reply.
>>
>> I tried with Five-Phase method earlier and all command worked. However,
>> now I exported the model from Rhino and I have some materials that they
>> need two specific files. I do not why they do not run without sudo, placing
>> where there are others, as well (They keep always the padlock, I copy there
>> from DIVA's files. They are not from radiance package previously
>> installed). I use oconv, rtrace and rpict with sudo and they work without
>> problem. Nervertheless, if using sudo is not good I remove those materials
>> and I could use rcontrib without sudo.
>>
>> Thank you for your suggestions. I read Axel Jacob's tutorials but
>> rereading will be fine.
>> Best regards for you,
>> Urtza.
>>
>>
>>
>> "Lars O. Grobe" <grobe at gmx.net> escribi?:
>>
>> Dear Urtza,
>>
>> two comments on your installation - this should be solved before you even
>> start using a complicated combination of commands such as the three-phase
>> method.
>>
>> First, with a correct configuration of your system you will not need to
>> run rcontrib as super-user (sudo). Your regular user account just needs
>> read-access to the .dat and .cal files in this case, so why would you not
>> grant the proper permissions?
>>
>> Second, as rcontrib is not found, what makes you think it is installed?
>> Did you install Radiance from sources, did the build complete without
>> errors, and did you include the directory containing the binaries in your
>> PATH environment variable? Does any other Radiance command work for you?
>>
>> I would recommend having a look at Axel Jacob's set of tutorials first,
>> including the unix-introduction. Otherwise you risk messing up a lot of
>> your models with work-arounds, and even risk the integrity of your system
>> by using sudo where it should definitively not be applied.
>>
>> Cheers, Lars.
>>
>>
>>
>> Dear experts,
>>
>> I am trying with Three-Phase Method for Simulating Complex Fenestration,
>> following A McNeil tutorial.
>>
>> I am using Ubuntu 14 OS. I need use sudo command because I have
>> GenericTranslucent20.dat material and rang.cal that they are locked anyway.
>> However, when I have launched sudo rcontrib, it scripts that:
>>
>>
>> sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
>> 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx
>>
>> sudo: rcontrib: command not found
>>
>>
>> Could someone say what the problem is? Thank you in advance.
>> Best regards,
>> Urtza.
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/47ff4649/attachment.html>

From gregoryjward at gmail.com  Tue Mar 15 11:40:44 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 15 Mar 2016 11:40:44 -0700
Subject: [Radiance-general] Ambient files increase illiminance
In-Reply-To: <9D4011E1D19CA747AE99ADE99BD6682542AAD18CCA@EQ-SRV-SBS-01.EQUA.local>
References: <9D4011E1D19CA747AE99ADE99BD6682542AAD18CCA@EQ-SRV-SBS-01.EQUA.local>
Message-ID: <D1C312B3-694E-4769-8290-F8F395695AA6@lmi.net>

Hi Grigori,

This is an interesting test.  Essentially, what you are seeing is light leaking via the ambient file from one zone to another.  It also points out the fact that the -ab setting is not the only one that matters.

You have left all the other rtrace parameters to their defaults.  Running rtrace [your options] -defaults, we can look at what these are.  I am including all those that are relevant to your calculation, below:

-dt 0.030000			# direct threshold
-dc 0.750000			# direct certainty
-dj 0.000000			# direct jitter
-ds 0.200000			# direct sampling
-av 0.000000 0.000000 0.000000	# ambient value
-aw 0        			# ambient value weight
-aa 0.100000			# ambient accuracy
-ar 256      			# ambient resolution
-ad 1024     			# ambient divisions
-as 512      			# ambient super-samples
-lr -10      			# limit reflection (Russian roulette)
-lw 2.00e-03			# limit weight

In this case, you have a large ground plane and a shading plane behind the building, which means that the default -ar of 256 is on the low side.  I would increase this to -ar 400 (divide scene size by desired detail scale).

The -aa setting of 0.1 means that you're shooting for roughly 10% error in your indirect calculations, which is what you are seeing in your results.  Reducing this setting to -aa 0.05 increases calculation time substantially, but cuts your error roughly in half.

I determined these changes improve the result primarily by *visualizing* your calculation, rather than simply relying on the output.  I always tell users that there's nothing more important than actually looking at your model.  In this case, it's easy enough to visualize the point of view of your points:

p1:	0.5 0.5 0.1 0 0 1	->	-vth -vp .5 .5 .1 -vd 0 0 1 -vu 0 1 0 -vh 180 -vv 180

p2:	-0.5 0.5 0.1 0 0 1	->	-vth -vp -.5 .5 .1 -vd 0 0 1 -vu 0 1 0 -vh 180 -vv 180

If you run rvu, you have to explicitly set the options (even the default ones) to match your rtrace calculation.  That way, you can truly see what's going on and get a better idea of where errors may be creeping in.

Cheers,
-Greg

> From: Grigori Grozman <Grigori.Grozman at equa.se>
> Subject: [Radiance-general] Ambient files increase illiminance
> Date: March 15, 2016 7:24:44 AM PDT
> Dear Radiance experts.
> 
> I am professionally using radiance for calculating daylight factors and illuminance. It all works quite well. However, I can not fully understand how to use ambient files.
> 
> Question 1: Is there any comprehensive documentation on the topic?
> 
> Question 2: It seems to me that when rtrace is used with ambient files, a higher value of illuminance is calculated than when no ambient files are used. Is there any explanations to that? Which value is more correct?
> 
> I have put together a simple example that illustates the problem. I attach the files. The run.bat file needs to be run and the result is printed to the file res.txt.
> 
> Best regards
> 
> Grigori Grozman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160315/1f12f5a8/attachment.html>

From urtza.uriarte at upc.edu  Wed Mar 16 01:25:06 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Wed, 16 Mar 2016 09:25:06 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
Message-ID: <20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>

  Dear Andy,
Thank you very much for your instructions.
I will try with them.
Best regards,
Urtza.

Andy McNeil <mcneil.andrew at gmail.com> escribi?:

> Urtza,      Here's some more information on file ownership and
> permissions for linux:
>    http://linuxcommand.org/lc3_lts0090.php
>    Andy
>
>
>    On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil
> <mcneil.andrew at gmail.com> wrote:
>
>> Urtza,            ?
>>       You should open up permissions on those two files like so:
>>       ?
>>        sudo chmod 664?GenericTranslucent20.dat
>>        sudo chmod 664?rang.cal
>>        ?
>>        This changes permissions to allow owner and group read/write and
>> everyone read.
>>        (you need to be in the directory or give the full path to the
>> file).
>>        ?
>>        Andy
>>
>>
>>                      On Tue, Mar 15, 2016 at 9:19 AM,
>> <urtza.uriarte at upc.edu> wrote:
>>
>>> _Dear Lars,
>>>
>>> Thank you very much for your reply.?
>>>
>>> I tried with Five-Phase method earlier and all command worked.
>>> However, now I?exported the model from Rhino and I have some materials
>>> that they need two specific files. I do not why they do not run
>>> without sudo, placing where there are others, as well (They keep
>>> always the padlock, I copy there from DIVA's files. They are not from
>>> radiance package previously installed). I use oconv, rtrace and rpict
>>> with sudo and they work without problem. Nervertheless, if using sudo
>>> is not good I remove those materials and I could use rcontrib without
>>> sudo.?
>>>
>>> Thank you for your suggestions. I read Axel Jacob's tutorials but
>>> rereading will be fine.
>>> Best regards for you,
>>> Urtza.
>>>
>>> "Lars O. Grobe" <grobe at gmx.net> escribi?:_
>>>
>>>> _Dear Urtza,
>>>>
>>>> two comments on your installation - this should be solved before you
>>>> even start using a complicated combination of commands such as the
>>>> three-phase method.
>>>>
>>>> First, with a correct configuration of your system you will not need
>>>> to run rcontrib as super-user (sudo). Your regular user account just
>>>> needs read-access to the .dat and .cal files in this case, so why
>>>> would you not grant the proper permissions?
>>>>
>>>> Second, as rcontrib is not found, what makes you think it is
>>>> installed? Did you install Radiance from sources, did the build
>>>> complete without errors, and did you include the directory containing
>>>> the binaries in your PATH environment variable? Does any other
>>>> Radiance command work for you?
>>>>
>>>> I would recommend having a look at Axel Jacob's set of tutorials
>>>> first, including the unix-introduction. Otherwise you risk messing up
>>>> a lot of your models with work-arounds, and even risk the integrity
>>>> of your system by using sudo where it should definitively not be
>>>> applied.
>>>>
>>>> Cheers, Lars._
>>>> ?
>>>>
>>>>> _?_
>>>
>>>              _Dear experts,
>>>
>>> I am trying with Three-Phase Method for Simulating Complex
>>> Fenestration, following A McNeil tutorial.
>>>
>>> I am using Ubuntu 14 OS. I need use sudo command because I have
>>> GenericTranslucent20.dat material and rang.cal that they are locked
>>> anyway. However, when I have launched sudo rcontrib, it scripts that:
>>> ?_
>>>
>>> _sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
>>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2
>>> -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx_
>>>
>>> _sudo: rcontrib: command not found
>>>
>>> Could someone say what the problem is? Thank you in advance.
>>> Best regards,
>>> Urtza._
>>>
>>>
>>> ?
>>>
>>> ________________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>>> ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160316/c02bd92f/attachment.html>

From urtza.uriarte at upc.edu  Wed Mar 16 04:23:38 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Wed, 16 Mar 2016 12:23:38 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
Message-ID: <20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>

  Dear Andy,

I have tried with;?

sudo chmod 664?GenericTranslucent20.dat
sudo chmod 664?rang.cal

  sudo chmod 644 GenericTranslucent20.dat
sudo chmod 644 rang.cal

   sudo chmod 600 GenericTranslucent20.dat
sudo chmod 600 rang.cal

sudo chmod 700 GenericTranslucent20.dat
sudo chmod 700 rang.cal

and the padlock continues anyway (The files there are in
/usr/local/bin/radiance/bin/ and ?/usr/local/bin/radiance/lib/, as well).
I have tried with rcontrib and it scripts this anyway:
?
   rcontrib -f /usr/share/radiance/klems_int.cal -b
'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells1.vmx

    rcontrib: fatal - cannot find data file "GenericTranslucent20.dat"

I do not know what happen but I will continue finding an error (that
padlock is very strange).?
Thank you very much.
Best regards,
Urtza.
    ?

   ?


urtza.uriarte at upc.edu escribi?:

> Dear Andy,
> Thank you very much for your instructions.
> I will try with them.
> Best regards,
> Urtza.
>
> Andy McNeil <mcneil.andrew at gmail.com> escribi?:
>
>> Urtza,        Here's some more information on file ownership and
>> permissions for linux:
>>     http://linuxcommand.org/lc3_lts0090.php
>>     Andy
>>
>>
>>     On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil
>> <mcneil.andrew at gmail.com> wrote:
>>
>>> Urtza,              ?
>>>        You should open up permissions on those two files like so:
>>>           ?
>>>         sudo chmod 664?GenericTranslucent20.dat
>>>         sudo chmod 664?rang.cal
>>>         ?
>>>         This changes permissions to allow owner and group read/write
>>> and everyone read.
>>>         (you need to be in the directory or give the full path to the
>>> file).
>>>         ?
>>>         Andy
>>>
>>>
>>>                         On Tue, Mar 15, 2016 at 9:19 AM,
>>> <urtza.uriarte at upc.edu> wrote:
>>>
>>>> _Dear Lars,
>>>>
>>>> Thank you very much for your reply.?
>>>>
>>>> I tried with Five-Phase method earlier and all command worked.
>>>> However, now I?exported the model from Rhino and I have some
>>>> materials that they need two specific files. I do not why they do not
>>>> run without sudo, placing where there are others, as well (They keep
>>>> always the padlock, I copy there from DIVA's files. They are not from
>>>> radiance package previously installed). I use oconv, rtrace and rpict
>>>> with sudo and they work without problem. Nervertheless, if using sudo
>>>> is not good I remove those materials and I could use rcontrib without
>>>> sudo.?
>>>>
>>>> Thank you for your suggestions. I read Axel Jacob's tutorials but
>>>> rereading will be fine.
>>>> Best regards for you,
>>>> Urtza.
>>>>
>>>> "Lars O. Grobe" <grobe at gmx.net> escribi?:_
>>>>
>>>>> _Dear Urtza,
>>>>>
>>>>> two comments on your installation - this should be solved before you
>>>>> even start using a complicated combination of commands such as the
>>>>> three-phase method.
>>>>>
>>>>> First, with a correct configuration of your system you will not need
>>>>> to run rcontrib as super-user (sudo). Your regular user account just
>>>>> needs read-access to the .dat and .cal files in this case, so why
>>>>> would you not grant the proper permissions?
>>>>>
>>>>> Second, as rcontrib is not found, what makes you think it is
>>>>> installed? Did you install Radiance from sources, did the build
>>>>> complete without errors, and did you include the directory
>>>>> containing the binaries in your PATH environment variable? Does any
>>>>> other Radiance command work for you?
>>>>>
>>>>> I would recommend having a look at Axel Jacob's set of tutorials
>>>>> first, including the unix-introduction. Otherwise you risk messing
>>>>> up a lot of your models with work-arounds, and even risk the
>>>>> integrity of your system by using sudo where it should definitively
>>>>> not be applied.
>>>>>
>>>>> Cheers, Lars._
>>>>> ?
>>>>>
>>>>>> _?_
>>>>
>>>>               _Dear experts,
>>>>
>>>> I am trying with Three-Phase Method for Simulating Complex
>>>> Fenestration, following A McNeil tutorial.
>>>>
>>>> I am using Ubuntu 14 OS. I need use sudo command because I have
>>>> GenericTranslucent20.dat material and rang.cal that they are locked
>>>> anyway. However, when I have launched sudo rcontrib, it scripts that:
>>>> ?_
>>>>
>>>> _sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
>>>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2
>>>> -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx_
>>>>
>>>> _sudo: rcontrib: command not found
>>>>
>>>> Could someone say what the problem is? Thank you in advance.
>>>> Best regards,
>>>> Urtza._
>>>>
>>>>
>>>> ?
>>>>
>>>> ________________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>>>> ?
>
>
> ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160316/e088d9dc/attachment.html>

From Robert.Guglielmetti at nrel.gov  Wed Mar 16 09:32:02 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 16 Mar 2016 16:32:02 +0000
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
Message-ID: <D30EE584.23B7A%Robert.Guglielmetti@nrel.gov>

A "file not found" error is different from the permissions error you were getting. Do you have your lib directory set in your RAYPATH environment variable? I came in this one late so forgive me if this is redundant but you should have a RAYPATH defined, and it should point to your lib dir (where you should have all the Radiance lib files, such as these dat files and other critical files for Radiance's operation). Most of us also add the current working directory (".") to the PATH and RAYPATH as well. (Your PATH should point to wherever you have the Radiance binaries.)

You should not have multiple copies of everything as it makes it hard to maintain consistency, and makes troubleshooting these kinds of path and permissions errors harder too.


On 3/16/16, 5:23 AM, "urtza.uriarte at upc.edu<mailto:urtza.uriarte at upc.edu>" <urtza.uriarte at upc.edu<mailto:urtza.uriarte at upc.edu>> wrote:


Dear Andy,

I have tried with;

sudo chmod 664 GenericTranslucent20.dat
sudo chmod 664 rang.cal

sudo chmod 644 GenericTranslucent20.dat
sudo chmod 644 rang.cal

sudo chmod 600 GenericTranslucent20.dat
sudo chmod 600 rang.cal

sudo chmod 700 GenericTranslucent20.dat
sudo chmod 700 rang.cal

and the padlock continues anyway (The files there are in /usr/local/bin/radiance/bin/ and  /usr/local/bin/radiance/lib/, as well). I have tried with rcontrib and it scripts this anyway:


rcontrib -f /usr/share/radiance/klems_int.cal -b 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells1.vmx

rcontrib: fatal - cannot find data file "GenericTranslucent20.dat"

I do not know what happen but I will continue finding an error (that padlock is very strange).
Thank you very much.
Best regards,
Urtza.



urtza.uriarte at upc.edu<mailto:urtza.uriarte at upc.edu> escribi?:

Dear Andy,
Thank you very much for your instructions.
I will try with them.
Best regards,
Urtza.



Andy McNeil <mcneil.andrew at gmail.com<mailto:mcneil.andrew at gmail.com>> escribi?:

Urtza,
Here's some more information on file ownership and permissions for linux:
http://linuxcommand.org/lc3_lts0090.php
Andy

On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil <mcneil.andrew at gmail.com<mailto:mcneil.andrew at gmail.com>> wrote:
Urtza,

You should open up permissions on those two files like so:

sudo chmod 664 GenericTranslucent20.dat
sudo chmod 664 rang.cal

This changes permissions to allow owner and group read/write and everyone read.
(you need to be in the directory or give the full path to the file).

Andy

On Tue, Mar 15, 2016 at 9:19 AM, <urtza.uriarte at upc.edu<mailto:urtza.uriarte at upc.edu>> wrote:

Dear Lars,

Thank you very much for your reply.

I tried with Five-Phase method earlier and all command worked. However, now I exported the model from Rhino and I have some materials that they need two specific files. I do not why they do not run without sudo, placing where there are others, as well (They keep always the padlock, I copy there from DIVA's files. They are not from radiance package previously installed). I use oconv, rtrace and rpict with sudo and they work without problem. Nervertheless, if using sudo is not good I remove those materials and I could use rcontrib without sudo.

Thank you for your suggestions. I read Axel Jacob's tutorials but rereading will be fine.
Best regards for you,
Urtza.



"Lars O. Grobe" <grobe at gmx.net<mailto:grobe at gmx.net>> escribi?:

Dear Urtza,

two comments on your installation - this should be solved before you even start using a complicated combination of commands such as the three-phase method.

First, with a correct configuration of your system you will not need to run rcontrib as super-user (sudo). Your regular user account just needs read-access to the .dat and .cal files in this case, so why would you not grant the proper permissions?

Second, as rcontrib is not found, what makes you think it is installed? Did you install Radiance from sources, did the build complete without errors, and did you include the directory containing the binaries in your PATH environment variable? Does any other Radiance command work for you?

I would recommend having a look at Axel Jacob's set of tutorials first, including the unix-introduction. Otherwise you risk messing up a lot of your models with work-arounds, and even risk the integrity of your system by using sudo where it should definitively not be applied.

Cheers, Lars.




Dear experts,

I am trying with Three-Phase Method for Simulating Complex Fenestration, following A McNeil tutorial.

I am using Ubuntu 14 OS. I need use sudo command because I have GenericTranslucent20.dat material and rang.cal that they are locked anyway. However, when I have launched sudo rcontrib, it scripts that:


sudo rcontrib -f /usr/share/radiance/klems_int.cal -b 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx

sudo: rcontrib: command not found


Could someone say what the problem is? Thank you in advance.
Best regards,
Urtza.



_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
http://www.radiance-online.org/mailman/listinfo/radiance-general







From mcneil.andrew at gmail.com  Wed Mar 16 09:46:18 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Wed, 16 Mar 2016 09:46:18 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
Message-ID: <AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>

It could be that the directory is not in your RAYPATH, but it is in the RAYPATH for root. 

Try:
echo $RAYPATH
sudo echo $RAYPATH

Are there any differences in the output?

Also, it could be that your user doesn't have read permission in the directory containing the files. Try using ls -l on every directory in the path to find out (both lower case L). 

As a last resort, I'd copy the files to the working directory, change the owner, permissions, and add "." to RAYPATH. I agree with Lars that I'd never use sudo to run user level commands. 

Andy



> On Mar 16, 2016, at 4:23 AM, urtza.uriarte at upc.edu wrote:
> 
> Dear Andy,
> 
> I have tried with; 
> 
> sudo chmod 664 GenericTranslucent20.dat
> sudo chmod 664 rang.cal
> 
> sudo chmod 644 GenericTranslucent20.dat
> sudo chmod 644 rang.cal
> 
> sudo chmod 600 GenericTranslucent20.dat
> sudo chmod 600 rang.cal
> 
> sudo chmod 700 GenericTranslucent20.dat
> sudo chmod 700 rang.cal
> 
> and the padlock continues anyway (The files there are in /usr/local/bin/radiance/bin/ and  /usr/local/bin/radiance/lib/, as well). I have tried with rcontrib and it scripts this anyway:
>  
> 
> rcontrib -f /usr/share/radiance/klems_int.cal -b 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells1.vmx
> 
> rcontrib: fatal - cannot find data file "GenericTranslucent20.dat"
> 
> I do not know what happen but I will continue finding an error (that padlock is very strange). 
> Thank you very much.
> Best regards,
> Urtza.
>  
>  
> 
> urtza.uriarte at upc.edu escribi?:
> 
>> Dear Andy,
>> Thank you very much for your instructions.
>> I will try with them.
>> Best regards,
>> Urtza.
>> 
>> 
>> 
>> Andy McNeil <mcneil.andrew at gmail.com> escribi?:
>> 
>>> Urtza,
>>> Here's some more information on file ownership and permissions for linux:
>>> http://linuxcommand.org/lc3_lts0090.php
>>> Andy
>>> 
>>>> On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil <mcneil.andrew at gmail.com> wrote:
>>>> Urtza,
>>>>  
>>>> You should open up permissions on those two files like so:
>>>>  
>>>> sudo chmod 664 GenericTranslucent20.dat
>>>> sudo chmod 664 rang.cal
>>>>  
>>>> This changes permissions to allow owner and group read/write and everyone read.
>>>> (you need to be in the directory or give the full path to the file).
>>>>  
>>>> Andy
>>>> 
>>>>> On Tue, Mar 15, 2016 at 9:19 AM, <urtza.uriarte at upc.edu> wrote:
>>>>> Dear Lars,
>>>>> 
>>>>> Thank you very much for your reply. 
>>>>> 
>>>>> I tried with Five-Phase method earlier and all command worked. However, now I exported the model from Rhino and I have some materials that they need two specific files. I do not why they do not run without sudo, placing where there are others, as well (They keep always the padlock, I copy there from DIVA's files. They are not from radiance package previously installed). I use oconv, rtrace and rpict with sudo and they work without problem. Nervertheless, if using sudo is not good I remove those materials and I could use rcontrib without sudo. 
>>>>> 
>>>>> Thank you for your suggestions. I read Axel Jacob's tutorials but rereading will be fine.
>>>>> Best regards for you,
>>>>> Urtza.
>>>>> 
>>>>> 
>>>>> 
>>>>> "Lars O. Grobe" <grobe at gmx.net> escribi?:
>>>>> 
>>>>>> Dear Urtza,
>>>>>> 
>>>>>> two comments on your installation - this should be solved before you even start using a complicated combination of commands such as the three-phase method.
>>>>>> 
>>>>>> First, with a correct configuration of your system you will not need to run rcontrib as super-user (sudo). Your regular user account just needs read-access to the .dat and .cal files in this case, so why would you not grant the proper permissions?
>>>>>> 
>>>>>> Second, as rcontrib is not found, what makes you think it is installed? Did you install Radiance from sources, did the build complete without errors, and did you include the directory containing the binaries in your PATH environment variable? Does any other Radiance command work for you?
>>>>>> 
>>>>>> I would recommend having a look at Axel Jacob's set of tutorials first, including the unix-introduction. Otherwise you risk messing up a lot of your models with work-arounds, and even risk the integrity of your system by using sudo where it should definitively not be applied.
>>>>>> 
>>>>>> Cheers, Lars.
>>>>>>  
>>>>>> 
>>>>> Dear experts,
>>>>> 
>>>>> I am trying with Three-Phase Method for Simulating Complex Fenestration, following A McNeil tutorial.
>>>>> 
>>>>> I am using Ubuntu 14 OS. I need use sudo command because I have GenericTranslucent20.dat material and rang.cal that they are locked anyway. However, when I have launched sudo rcontrib, it scripts that:
>>>>>  
>>>>> 
>>>>> 
>>>>> sudo rcontrib -f /usr/share/radiance/klems_int.cal -b 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx
>>>>> 
>>>>> sudo: rcontrib: command not found
>>>>> 
>>>>> 
>>>>> Could someone say what the problem is? Thank you in advance.
>>>>> Best regards,
>>>>> Urtza.
>>>>> 
>>>>>  
>>>>> 
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160316/4cd8f7c4/attachment.html>

From urtza.uriarte at upc.edu  Thu Mar 17 02:23:23 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Thu, 17 Mar 2016 10:23:23 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
Message-ID: <20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>

  Dear Andy and Robert,

Thanks for your suggestions.
Therefore, on one hand,?I have tried with;

1) echo $RAYPATH
. : /usr/local/bin/radiance/lib

2)?sudo?echo $RAYPATH
. : /usr/local/bin/radiance/lib

(The outputs are the same)

3) urtza at urtza-VirtualBox:/usr/local/bin/radiance/lib$ ls
There appear all Radiance data files and GenericTranslucent20.dat and
rang.cal as well

(The programs are in urtza at urtza-VirtualBox:/usr/local/bin/radiance/bin$ ,
and I think that I have to remove from "bin" directory
GenericTranslucent20.dat and rang.cal, which appears there as well)

I do not know if I have problems with the installation, but I will not use
sudo for user level commands.

On the other hand, (I have changed that material for other one and I have
launched dctimestep). The .xml file, which ?they have lent for my PhD,?is
obtained by goniophotometer.

1) Ubuntu 14:
  dctimestep -n 8760?photocells.vmx Film3M_145x1297_9142012_t.xml
southeast.dmx Barcelona.smx > illum.dat
  ?
  Usage: dctimestep DCspec [tregvec]
  ? ?or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]


2) Windows 8:

dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southeast.dmx
Barcelona.smx > illum.dat

fatal - unexpected column count in header

I checked with others files that I got and this files seem similar.?

Thank you very much in advance.
Best regards for you,
Urtza.
?

Andy McNeil <mcneil.andrew at gmail.com> escribi?:

> It could be that the directory is not in your RAYPATH, but it is in the
> RAYPATH for root.?
>    ?
>    Try:
>    echo $RAYPATH
>    sudo echo $RAYPATH
>    ?
>    Are there any differences in the output?
>    ?
>    Also, it could be that your user doesn't have read permission in the
> directory containing the files. Try using ls -l on every directory in
> the path to find out (both lower case L).?
>    ?
>    As a last resort, I'd copy the files to the working directory, change
> the owner, permissions, and add "." to RAYPATH. I agree with Lars that
> I'd never use sudo to run user level commands.?
>    ?
>    Andy
>    ?
>    ?
>
> On Mar 16, 2016, at 4:23 AM, urtza.uriarte at upc.edu wrote:
> ?
>
>> ?

  Dear Andy,

I have tried with;?

sudo chmod 664?GenericTranslucent20.dat
sudo chmod 664?rang.cal

  sudo chmod 644 GenericTranslucent20.dat
sudo chmod 644 rang.cal

   sudo chmod 600 GenericTranslucent20.dat
sudo chmod 600 rang.cal

sudo chmod 700 GenericTranslucent20.dat
sudo chmod 700 rang.cal

and the padlock continues anyway (The files there are in
/usr/local/bin/radiance/bin/ and ?/usr/local/bin/radiance/lib/, as well).
I have tried with rcontrib and it scripts this anyway:
?
   rcontrib -f /usr/share/radiance/klems_int.cal -b
'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells1.vmx

    rcontrib: fatal - cannot find data file "GenericTranslucent20.dat"

I do not know what happen but I will continue finding an error (that
padlock is very strange).?
Thank you very much.
Best regards,
Urtza.
    ?

   ?


urtza.uriarte at upc.edu escribi?:

> Dear Andy,
> Thank you very much for your instructions.
> I will try with them.
> Best regards,
> Urtza.
>
> Andy McNeil <mcneil.andrew at gmail.com> escribi?:
>
>> Urtza,        Here's some more information on file ownership and
>> permissions for linux:
>>     http://linuxcommand.org/lc3_lts0090.php
>>     Andy
>>
>>
>>     On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil
>> <mcneil.andrew at gmail.com> wrote:
>>
>>> Urtza,              ?
>>>        You should open up permissions on those two files like so:
>>>           ?
>>>         sudo chmod 664?GenericTranslucent20.dat
>>>         sudo chmod 664?rang.cal
>>>         ?
>>>         This changes permissions to allow owner and group read/write
>>> and everyone read.
>>>         (you need to be in the directory or give the full path to the
>>> file).
>>>         ?
>>>         Andy
>>>
>>>
>>>                         On Tue, Mar 15, 2016 at 9:19 AM,
>>> <urtza.uriarte at upc.edu> wrote:
>>>
>>>> _Dear Lars,
>>>>
>>>> Thank you very much for your reply.?
>>>>
>>>> I tried with Five-Phase method earlier and all command worked.
>>>> However, now I?exported the model from Rhino and I have some
>>>> materials that they need two specific files. I do not why they do not
>>>> run without sudo, placing where there are others, as well (They keep
>>>> always the padlock, I copy there from DIVA's files. They are not from
>>>> radiance package previously installed). I use oconv, rtrace and rpict
>>>> with sudo and they work without problem. Nervertheless, if using sudo
>>>> is not good I remove those materials and I could use rcontrib without
>>>> sudo.?
>>>>
>>>> Thank you for your suggestions. I read Axel Jacob's tutorials but
>>>> rereading will be fine.
>>>> Best regards for you,
>>>> Urtza.
>>>>
>>>> "Lars O. Grobe" <grobe at gmx.net> escribi?:_
>>>>
>>>>> _Dear Urtza,
>>>>>
>>>>> two comments on your installation - this should be solved before you
>>>>> even start using a complicated combination of commands such as the
>>>>> three-phase method.
>>>>>
>>>>> First, with a correct configuration of your system you will not need
>>>>> to run rcontrib as super-user (sudo). Your regular user account just
>>>>> needs read-access to the .dat and .cal files in this case, so why
>>>>> would you not grant the proper permissions?
>>>>>
>>>>> Second, as rcontrib is not found, what makes you think it is
>>>>> installed? Did you install Radiance from sources, did the build
>>>>> complete without errors, and did you include the directory
>>>>> containing the binaries in your PATH environment variable? Does any
>>>>> other Radiance command work for you?
>>>>>
>>>>> I would recommend having a look at Axel Jacob's set of tutorials
>>>>> first, including the unix-introduction. Otherwise you risk messing
>>>>> up a lot of your models with work-arounds, and even risk the
>>>>> integrity of your system by using sudo where it should definitively
>>>>> not be applied.
>>>>>
>>>>> Cheers, Lars._
>>>>> ?
>>>>>
>>>>>> _?_
>>>>
>>>>               _Dear experts,
>>>>
>>>> I am trying with Three-Phase Method for Simulating Complex
>>>> Fenestration, following A McNeil tutorial.
>>>>
>>>> I am using Ubuntu 14 OS. I need use sudo command because I have
>>>> GenericTranslucent20.dat material and rang.cal that they are locked
>>>> anyway. However, when I have launched sudo rcontrib, it scripts that:
>>>> ?_
>>>>
>>>> _sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
>>>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2
>>>> -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx_
>>>>
>>>> _sudo: rcontrib: command not found
>>>>
>>>> Could someone say what the problem is? Thank you in advance.
>>>> Best regards,
>>>> Urtza._
>>>>
>>>>
>>>> ?
>>>>
>>>> ________________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>>>> ?
>
>
> ?


?

> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160317/dc2e9c09/attachment.html>

From Galen.Burrell at arup.com  Thu Mar 17 13:39:45 2016
From: Galen.Burrell at arup.com (Galen Burrell)
Date: Thu, 17 Mar 2016 20:39:45 +0000
Subject: [Radiance-general] rcontrib malloc error
Message-ID: <03C6E4397401E049BB24420FF0DA35C34731F58D@AMXExMb01.global.arup.com>

I'm running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:

1)
rcontrib(2346) malloc: *** mmap(size=a really big number) failed (error code=12)
*** error: can't allocate region
*** set a breakpoint in malloc_error_break to debug
rcontrib: system - out of memory in samp_hemi: Cannot allocate memory
rcontrib: system - read error from render process
Killed: 9

2)
rcontrib: system - read error from render process
Killed: 9

I can't establish a pattern for why/when these two errors occur.

Oddly, I don't always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don't understand why grid size would influence memory though...?

System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with Yosemite installed
Latest Radiance HEAD release; although the error repeats on older versions from 6 months ago
rcontrib settings are: -n 12 -ab 12 -ad 100000 -lw 1e-5 -I+

Any clues on why I'm getting these errors?

Thank you!

Galen

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160317/08f195eb/attachment.html>

From Robert.Guglielmetti at nrel.gov  Thu Mar 17 13:57:36 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Thu, 17 Mar 2016 20:57:36 +0000
Subject: [Radiance-general] rcontrib malloc error
Message-ID: <D310735D.23C5A%Robert.Guglielmetti@nrel.gov>

I'm currently struggling with memory issues -- of the volatile and non-volatile kind -- trying to get Radiance to play nicely on a server-based optimization framework, and making it Windoze-friendly. As a result of that last bit, I'm writing view/daylight matrices in ASCII, and they get large in a hurry. 7500 points worth of matrix, for a presumably annual (8760) input, is a BAF (big a** file).

I'm not seeing your errors specifically Galen, mine are all downstream; I either run out of disk space or hit memory errors when rfluxmtx tries to read these BAFs into memory for merging. But maybe we're both barking up the same tree in a sense? I dunno. But now you know why I have a headache today.


On 3/17/16, 2:39 PM, "Galen Burrell" <Galen.Burrell at arup.com<mailto:Galen.Burrell at arup.com>> wrote:

I'm running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:

1)
rcontrib(2346) malloc: *** mmap(size=a really big number) failed (error code=12)
*** error: can't allocate region
*** set a breakpoint in malloc_error_break to debug
rcontrib: system - out of memory in samp_hemi: Cannot allocate memory
rcontrib: system - read error from render process
Killed: 9

2)
rcontrib: system - read error from render process
Killed: 9

I can't establish a pattern for why/when these two errors occur.

Oddly, I don't always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don't understand why grid size would influence memory though...?

System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with Yosemite installed
Latest Radiance HEAD release; although the error repeats on older versions from 6 months ago
rcontrib settings are: -n 12 -ab 12 -ad 100000 -lw 1e-5 -I+

Any clues on why I'm getting these errors?

Thank you!

Galen


____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses


From mcneil.andrew at gmail.com  Thu Mar 17 14:02:20 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Thu, 17 Mar 2016 14:02:20 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
Message-ID: <CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>

Hi Urtza,
I'm having trouble following what errors we're debugging. Are you okay not
using those materials, because with minimal effort you should be able to
fix it. If you look at the links Lars and I sent you can learn about
permissions and fix the padlock situation.
my comments are inline below.
Best,
Andy

On Thu, Mar 17, 2016 at 2:23 AM, <urtza.uriarte at upc.edu> wrote:

> Dear Andy and Robert,
>
> Thanks for your suggestions.
> Therefore, on one hand, I have tried with;
>
> 1) echo $RAYPATH
> . : /usr/local/bin/radiance/lib
>
> 2) sudo echo $RAYPATH
> . : /usr/local/bin/radiance/lib
>
> (The outputs are the same)
>
Then I wonder why the files are found when you run with sudo but not found
without sudo. Or am I mis-understanding what is going on.

>
> 3) urtza at urtza-VirtualBox:/usr/local/bin/radiance/lib$ ls
> There appear all Radiance data files and GenericTranslucent20.dat and
> rang.cal as well
>
> (The programs are in urtza at urtza-VirtualBox:/usr/local/bin/radiance/bin$
> , and I think that I have to remove from "bin" directory
> GenericTranslucent20.dat and rang.cal, which appears there as well)
>

this doesn't help, you need to use the -l (lowercase L) option with ls, as
I orginally suggested, to report the file and directory permissions. And it
would help if you did it for every directory in the path. like this:

ls -l /usr/local/bin/radiance/bin
ls -l /usr/local/bin/radiance
ls -l /usr/local/bin/
ls -l /usr/local/bin/radiance/lib


> I do not know if I have problems with the installation, but I will not use
> sudo for user level commands.
>
>
>
> On the other hand, (I have changed that material for other one and I have
> launched dctimestep). The .xml file, which  they have lent for my PhD, is
> obtained by goniophotometer.
>
> 1) Ubuntu 14:
> dctimestep -n 8760 photocells.vmx Film3M_145x1297_9142012_t.xml
> southeast.dmx Barcelona.smx > illum.dat
>
> Usage: dctimestep DCspec [tregvec]
>    or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]
>
>
> 2) Windows 8:
>
> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southeast.dmx
> Barcelona.smx > illum.dat
>
> fatal - unexpected column count in header
>
>
> I checked with others files that I got and this files seem similar.
>

The tutorial is outdated. dctiemstep no longer accepts the -n 8760 option.
This info is now contained in the matrix headers. run it again without -n.




>
>
> Thank you very much in advance.
> Best regards for you,
> Urtza.
>
>
>
>
>
> Andy McNeil <mcneil.andrew at gmail.com> escribi?:
>
> It could be that the directory is not in your RAYPATH, but it is in the
> RAYPATH for root.
>
> Try:
> echo $RAYPATH
> sudo echo $RAYPATH
>
> Are there any differences in the output?
>
> Also, it could be that your user doesn't have read permission in the
> directory containing the files. Try using ls -l on every directory in the
> path to find out (both lower case L).
>
> As a last resort, I'd copy the files to the working directory, change the
> owner, permissions, and add "." to RAYPATH. I agree with Lars that I'd
> never use sudo to run user level commands.
>
> Andy
>
>
>
> On Mar 16, 2016, at 4:23 AM, urtza.uriarte at upc.edu wrote:
>
>
>
>
> Dear Andy,
>
> I have tried with;
>
> sudo chmod 664 GenericTranslucent20.dat
> sudo chmod 664 rang.cal
>
> sudo chmod 644 GenericTranslucent20.dat
> sudo chmod 644 rang.cal
>
> sudo chmod 600 GenericTranslucent20.dat
> sudo chmod 600 rang.cal
>
> sudo chmod 700 GenericTranslucent20.dat
> sudo chmod 700 rang.cal
>
> and the padlock continues anyway (The files there are in
> /usr/local/bin/radiance/bin/ and  /usr/local/bin/radiance/lib/, as well). I
> have tried with rcontrib and it scripts this anyway:
>
> rcontrib -f /usr/share/radiance/klems_int.cal -b
> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
> 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells1.vmx
>
> rcontrib: fatal - cannot find data file "GenericTranslucent20.dat"
>
> I do not know what happen but I will continue finding an error (that
> padlock is very strange).
> Thank you very much.
> Best regards,
> Urtza.
>
>
>
>
> urtza.uriarte at upc.edu escribi?:
>
> Dear Andy,
> Thank you very much for your instructions.
> I will try with them.
> Best regards,
> Urtza.
>
>
>
> Andy McNeil <mcneil.andrew at gmail.com> escribi?:
>
> Urtza,
> Here's some more information on file ownership and permissions for linux:
> http://linuxcommand.org/lc3_lts0090.php
> Andy
>
> On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil <mcneil.andrew at gmail.com>
> wrote:
>
>> Urtza,
>>
>> You should open up permissions on those two files like so:
>>
>> sudo chmod 664 GenericTranslucent20.dat
>> sudo chmod 664 rang.cal
>>
>> This changes permissions to allow owner and group read/write and everyone
>> read.
>> (you need to be in the directory or give the full path to the file).
>>
>> Andy
>>
>> On Tue, Mar 15, 2016 at 9:19 AM, <urtza.uriarte at upc.edu> wrote:
>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *Dear Lars, Thank you very much for your reply.  I tried with Five-Phase
>>> method earlier and all command worked. However, now I exported the model
>>> from Rhino and I have some materials that they need two specific files. I
>>> do not why they do not run without sudo, placing where there are others, as
>>> well (They keep always the padlock, I copy there from DIVA's files. They
>>> are not from radiance package previously installed). I use oconv, rtrace
>>> and rpict with sudo and they work without problem. Nervertheless, if using
>>> sudo is not good I remove those materials and I could use rcontrib without
>>> sudo.  Thank you for your suggestions. I read Axel Jacob's tutorials but
>>> rereading will be fine. Best regards for you, Urtza. "Lars O. Grobe"
>>> <grobe at gmx.net <grobe at gmx.net>> escribi?:*
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *Dear Urtza, two comments on your installation - this should be solved
>>> before you even start using a complicated combination of commands such as
>>> the three-phase method. First, with a correct configuration of your system
>>> you will not need to run rcontrib as super-user (sudo). Your regular user
>>> account just needs read-access to the .dat and .cal files in this case, so
>>> why would you not grant the proper permissions? Second, as rcontrib is not
>>> found, what makes you think it is installed? Did you install Radiance from
>>> sources, did the build complete without errors, and did you include the
>>> directory containing the binaries in your PATH environment variable? Does
>>> any other Radiance command work for you? I would recommend having a look at
>>> Axel Jacob's set of tutorials first, including the unix-introduction.
>>> Otherwise you risk messing up a lot of your models with work-arounds, and
>>> even risk the integrity of your system by using sudo where it should
>>> definitively not be applied. Cheers, Lars.*
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *Dear experts, I am trying with Three-Phase Method for Simulating
>>> Complex Fenestration, following A McNeil tutorial. I am using Ubuntu 14 OS.
>>> I need use sudo command because I have GenericTranslucent20.dat material
>>> and rang.cal that they are locked anyway. However, when I have launched
>>> sudo rcontrib, it scripts that:  *
>>>
>>> *sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
>>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
>>> 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx*
>>>
>>>
>>>
>>>
>>>
>>>
>>> *sudo: rcontrib: command not found Could someone say what the problem
>>> is? Thank you in advance. Best regards, Urtza.*
>>>
>>>
>>>
>>>
>>>
>>>
>>> *_______________________________________________ Radiance-general
>>> mailing list Radiance-general at radiance-online.org
>>> <Radiance-general at radiance-online.org>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>*
>>>
>>
>>
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160317/e024a728/attachment-0001.html>

From gregoryjward at gmail.com  Thu Mar 17 14:45:04 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 17 Mar 2016 14:45:04 -0700
Subject: [Radiance-general] rcontrib malloc error
In-Reply-To: <D310735D.23C5A%Robert.Guglielmetti@nrel.gov>
References: <D310735D.23C5A%Robert.Guglielmetti@nrel.gov>
Message-ID: <10164D9D-8ABC-44F9-8634-D49A2336ECFF@lmi.net>

Hi Rob,

I don't think rfluxmtx reads large matrices into memory.  It could write a too-large matrix to disk as the output of rcontrib, but neither process holds the matrices in memory.  Maybe you meant rmtxop?  That will hold two double (64-bit) color (x3) matrices in memory at a time, which could be a problem for certain very large matrices.  You might try dctimestep for matrix multiplication.  It uses float (32-bit) color (x3) arrays, so half as much memory is required.  Also, it's more clever about skipping zero rows and columns in your matrix, which is good for daylight calculations that include nighttime hours.

-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Subject: Re: [Radiance-general] rcontrib malloc error
> Date: March 17, 2016 1:57:36 PM PDT
> 
> I'm currently struggling with memory issues -- of the volatile and non-volatile kind -- trying to get Radiance to play nicely on a server-based optimization framework, and making it Windoze-friendly. As a result of that last bit, I'm writing view/daylight matrices in ASCII, and they get large in a hurry. 7500 points worth of matrix, for a presumably annual (8760) input, is a BAF (big a** file).
> 
> I'm not seeing your errors specifically Galen, mine are all downstream; I either run out of disk space or hit memory errors when rfluxmtx tries to read these BAFs into memory for merging. But maybe we're both barking up the same tree in a sense? I dunno. But now you know why I have a headache today.
> 
> 
> On 3/17/16, 2:39 PM, "Galen Burrell" <Galen.Burrell at arup.com<mailto:Galen.Burrell at arup.com>> wrote:
> 
> I'm running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:
> 
> 1)
> rcontrib(2346) malloc: *** mmap(size=a really big number) failed (error code=12)
> *** error: can't allocate region
> *** set a breakpoint in malloc_error_break to debug
> rcontrib: system - out of memory in samp_hemi: Cannot allocate memory
> rcontrib: system - read error from render process
> Killed: 9
> 
> 2)
> rcontrib: system - read error from render process
> Killed: 9
> 
> I can't establish a pattern for why/when these two errors occur.
> 
> Oddly, I don't always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don't understand why grid size would influence memory though...?
> 
> System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with Yosemite installed
> Latest Radiance HEAD release; although the error repeats on older versions from 6 months ago
> rcontrib settings are: -n 12 -ab 12 -ad 100000 -lw 1e-5 -I+
> 
> Any clues on why I'm getting these errors?
> 
> Thank you!
> 
> Galen
> 
> 
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From gregoryjward at gmail.com  Thu Mar 17 14:49:01 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 17 Mar 2016 14:49:01 -0700
Subject: [Radiance-general] rcontrib malloc error
In-Reply-To: <03C6E4397401E049BB24420FF0DA35C34731F58D@AMXExMb01.global.arup.com>
References: <03C6E4397401E049BB24420FF0DA35C34731F58D@AMXExMb01.global.arup.com>
Message-ID: <4671033C-42AD-4540-94BD-C2554731B67F@lmi.net>

Hi Galen,

I've never seen rcontrib run out of memory in this way before.  What are your rendering options for rcontrib?  Do any of your surfaces have greater than 100% reflectance or transmittance?  This could cause the number of rays to increase rather than decrease on multiple bounces, which could lead to exponential memory growth during ray tree evaluation.

-Greg

> From: Galen Burrell <Galen.Burrell at arup.com>
> Subject: [Radiance-general] rcontrib malloc error
> Date: March 17, 2016 1:39:45 PM PDT
> 
> I?m running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:
>  
> 1)
> rcontrib(2346) malloc: *** mmap(size=a really big number) failed (error code=12)
> *** error: can?t allocate region
> *** set a breakpoint in malloc_error_break to debug
> rcontrib: system ? out of memory in samp_hemi: Cannot allocate memory
> rcontrib: system ? read error from render process
> Killed: 9
>  
> 2)
> rcontrib: system ? read error from render process
> Killed: 9
>  
> I can?t establish a pattern for why/when these two errors occur.
>  
> Oddly, I don?t always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don?t understand why grid size would influence memory though??
>  
> System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with Yosemite installed
> Latest Radiance HEAD release; although the error repeats on older versions from 6 months ago
> rcontrib settings are: ?n 12 ?ab 12 ?ad 100000 ?lw 1e-5 ?I+
>  
> Any clues on why I?m getting these errors?
>  
> Thank you!
>  
> Galen
>  
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup  business
> systems are scanned for acceptability of content and viruses
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160317/f4ffab65/attachment.html>

From rob.guglielmetti at gmail.com  Thu Mar 17 16:30:05 2016
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Thu, 17 Mar 2016 17:30:05 -0600
Subject: [Radiance-general] rcontrib malloc error
In-Reply-To: <10164D9D-8ABC-44F9-8634-D49A2336ECFF@lmi.net>
References: <D310735D.23C5A%Robert.Guglielmetti@nrel.gov>
	<10164D9D-8ABC-44F9-8634-D49A2336ECFF@lmi.net>
Message-ID: <21E90BCB-61EB-4F6F-ACD3-28F16CC6A216@gmail.com>

Thanks man! I did mean rmtxop, and I will give that dctimestep idea a go!

- Rob 

> On Mar 17, 2016, at 3:45 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> 
> Hi Rob,
> 
> I don't think rfluxmtx reads large matrices into memory.  It could write a too-large matrix to disk as the output of rcontrib, but neither process holds the matrices in memory.  Maybe you meant rmtxop?  That will hold two double (64-bit) color (x3) matrices in memory at a time, which could be a problem for certain very large matrices.  You might try dctimestep for matrix multiplication.  It uses float (32-bit) color (x3) arrays, so half as much memory is required.  Also, it's more clever about skipping zero rows and columns in your matrix, which is good for daylight calculations that include nighttime hours.
> 
> -Greg
> 
>> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
>> Subject: Re: [Radiance-general] rcontrib malloc error
>> Date: March 17, 2016 1:57:36 PM PDT
>> 
>> I'm currently struggling with memory issues -- of the volatile and non-volatile kind -- trying to get Radiance to play nicely on a server-based optimization framework, and making it Windoze-friendly. As a result of that last bit, I'm writing view/daylight matrices in ASCII, and they get large in a hurry. 7500 points worth of matrix, for a presumably annual (8760) input, is a BAF (big a** file).
>> 
>> I'm not seeing your errors specifically Galen, mine are all downstream; I either run out of disk space or hit memory errors when rfluxmtx tries to read these BAFs into memory for merging. But maybe we're both barking up the same tree in a sense? I dunno. But now you know why I have a headache today.
>> 
>> 
>> On 3/17/16, 2:39 PM, "Galen Burrell" <Galen.Burrell at arup.com<mailto:Galen.Burrell at arup.com>> wrote:
>> 
>> I'm running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:
>> 
>> 1)
>> rcontrib(2346) malloc: *** mmap(size=a really big number) failed (error code=12)
>> *** error: can't allocate region
>> *** set a breakpoint in malloc_error_break to debug
>> rcontrib: system - out of memory in samp_hemi: Cannot allocate memory
>> rcontrib: system - read error from render process
>> Killed: 9
>> 
>> 2)
>> rcontrib: system - read error from render process
>> Killed: 9
>> 
>> I can't establish a pattern for why/when these two errors occur.
>> 
>> Oddly, I don't always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don't understand why grid size would influence memory though...?
>> 
>> System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with Yosemite installed
>> Latest Radiance HEAD release; although the error repeats on older versions from 6 months ago
>> rcontrib settings are: -n 12 -ab 12 -ad 100000 -lw 1e-5 -I+
>> 
>> Any clues on why I'm getting these errors?
>> 
>> Thank you!
>> 
>> Galen
>> 
>> 
>> ____________________________________________________________
>> Electronic mail messages entering and leaving Arup  business
>> systems are scanned for acceptability of content and viruses
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From hs.antunes at campus.fct.unl.pt  Thu Mar 17 18:20:53 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Fri, 18 Mar 2016 01:20:53 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
Message-ID: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>

I everyone,

I was using a version of radiance from the apt-get, i guess the version we
get when we install radiance like that is 4.1, but i need some functions
from the newer version like gendaymtx, i have tried to install from source
code with the ./makeall install and i received the message "there were some
error" i have read all the info on readme and nox11help but nothing seems
to work, after doing a bunch of stuff nothing was working at all.

I needed to make a clean install of ubuntu so i did it and now i have my
computer completely clean.

Now i want to make a clean installation of radiance 5.0 to get it running
smoothly.

Should i use the binaries from NREL to LINUX 64 or compile it from source,
witch is better?

Thank to all
Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/02deee10/attachment.html>

From rob.guglielmetti at gmail.com  Thu Mar 17 19:22:33 2016
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Thu, 17 Mar 2016 20:22:33 -0600
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
Message-ID: <878A6C29-1099-4AB0-9812-9104BB5B7FBE@gmail.com>

I would still recommend compiling from source using the makeall script, because it?s worked well for years and years. The dreaded ?there were some errors? message is usually because you did not run the makeall script as root (i.e. "sudo makeall install? instead of just ?makeall install?). You also need to make sure you have the ?auxiliary files" archive in addition to just the source code. 

The NREL binaries for Linux were built on Ubuntu, so they would probably work ok for you, assuming you can get everything unpacked and copied to the right locations; the makeall script just does this for you a little more easily, IMHO. 


> On Mar 17, 2016, at 7:20 PM, Humberto Antunes <hs.antunes at campus.fct.unl.pt> wrote:
> 
> I everyone,
> 
> I was using a version of radiance from the apt-get, i guess the version we get when we install radiance like that is 4.1, but i need some functions from the newer version like gendaymtx, i have tried to install from source code with the ./makeall install and i received the message "there were some error" i have read all the info on readme and nox11help but nothing seems to work, after doing a bunch of stuff nothing was working at all.
> 
> I needed to make a clean install of ubuntu so i did it and now i have my computer completely clean.
> 
> Now i want to make a clean installation of radiance 5.0 to get it running smoothly.
> 
> Should i use the binaries from NREL to LINUX 64 or compile it from source, witch is better?
> 
> Thank to all
> Humberto A.
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general



From rmfritz3 at gmail.com  Thu Mar 17 19:24:03 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Thu, 17 Mar 2016 19:24:03 -0700
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
Message-ID: <CANeAMo+C-22EyivAts0bi7m22_mhf+aq3mVdN1y9viL6eU-yrw@mail.gmail.com>

Easiest thing to do, usually, is just download the compiled version, unpack
it, and move it to /usr/local.

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Thu, Mar 17, 2016 at 6:20 PM, Humberto Antunes <
hs.antunes at campus.fct.unl.pt> wrote:

> I everyone,
>
> I was using a version of radiance from the apt-get, i guess the version we
> get when we install radiance like that is 4.1, but i need some functions
> from the newer version like gendaymtx, i have tried to install from source
> code with the ./makeall install and i received the message "there were some
> error" i have read all the info on readme and nox11help but nothing seems
> to work, after doing a bunch of stuff nothing was working at all.
>
> I needed to make a clean install of ubuntu so i did it and now i have my
> computer completely clean.
>
> Now i want to make a clean installation of radiance 5.0 to get it running
> smoothly.
>
> Should i use the binaries from NREL to LINUX 64 or compile it from source,
> witch is better?
>
> Thank to all
> Humberto A.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160317/c10092a0/attachment.html>

From mcneil.andrew at gmail.com  Thu Mar 17 19:56:34 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Thu, 17 Mar 2016 19:56:34 -0700
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
Message-ID: <CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>

Humberto,

You mentioned X11, but didn't share an error associated with X11. So It's
tough to tell what your problem is. Can you search the text on the terminal
for the word error, and report the actual errors that occurred?

In case it is related to X11, on Raspbian, I need to install the x11
development libraries to get Radiance to compile.
The same could be true for Ubuntu?

Here's what I do:
sudo apt-get install libx11-dev

Best,
Andy


On Thu, Mar 17, 2016 at 6:20 PM, Humberto Antunes <
hs.antunes at campus.fct.unl.pt> wrote:

> I everyone,
>
> I was using a version of radiance from the apt-get, i guess the version we
> get when we install radiance like that is 4.1, but i need some functions
> from the newer version like gendaymtx, i have tried to install from source
> code with the ./makeall install and i received the message "there were some
> error" i have read all the info on readme and nox11help but nothing seems
> to work, after doing a bunch of stuff nothing was working at all.
>
> I needed to make a clean install of ubuntu so i did it and now i have my
> computer completely clean.
>
> Now i want to make a clean installation of radiance 5.0 to get it running
> smoothly.
>
> Should i use the binaries from NREL to LINUX 64 or compile it from source,
> witch is better?
>
> Thank to all
> Humberto A.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160317/e4115442/attachment.html>

From hs.antunes at campus.fct.unl.pt  Thu Mar 17 20:05:55 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Fri, 18 Mar 2016 03:05:55 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CANeAMo+C-22EyivAts0bi7m22_mhf+aq3mVdN1y9viL6eU-yrw@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CANeAMo+C-22EyivAts0bi7m22_mhf+aq3mVdN1y9viL6eU-yrw@mail.gmail.com>
Message-ID: <CA+fuGR4yXFuwgdTVd3pqBODVOc1uMUD0cMj1N=vwvWVvnx1UtQ@mail.gmail.com>

Thanks for the help

I would prefer to compile from source to.
So if i download the file *"rad5R0all.tar.gz"*, unpack it, let's say, in
the desktop directory and then run *"sudo ./makeall install"* from the ray
directory everything should be installed smoothly right?

Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/9ce05679/attachment-0001.html>

From urtza.uriarte at upc.edu  Fri Mar 18 04:56:36 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Fri, 18 Mar 2016 12:56:36 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
Message-ID: <20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>

  Dear Andy,

Thank you very much. Lars's and yours permission suggestions have helped
me.
I checked the directories by ls -l :
Every files have "-rwxrwxrwx 1 root root" permission description except
GenericTranslucent20.dat and rang.cal files; "-rwx------ 1 root root.
I changed the permission by "sudo chmod 777 file" and now the two files
have the same permission as others.
(plugins and /usr/local/bin/radiance and /usr/local/bin/radiance have
"drwxrwxrwx 3 root root" description)

I have launched and now it works. Thanks.
(Note that, I put this two files in my folder with padlock and then I run
with sudo and it works but with rcontrib no. Now, it seems that I put
everything ok and I do not need to do that, which could be not good)

Regarding dctimestep, I remove -n 8760 parameter but it seems that I have
problems with Sky Matrix. The steps have been these:

epw2wea ESP_Barcelona.081810_IWEC.epw Barcelona.wea
  place BARCELONA_ESP
  latitude 41.28
  longitude -2.07
  time_zone -15.00
  site_elevation 6.0
  weather_data_file_units 1
  ?
  ?
  gendaymtx -m 4 Barcelona.wea > Barcelona.smx
  ?
  ?
  dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx
Barcelona.smx > illum.dat
  fatal - unexpected EOF reading Barcelona.smx


I would be very grateful if you could find the problem. Thank you very much
in advance.
Best regards,
Urtza.

  ?

Andy McNeil <mcneil.andrew at gmail.com> escribi?:

> Hi Urtza,      I'm having trouble following what errors we're debugging.
> Are you okay not using those materials, because with minimal effort you
> should be able to fix it. If you look at the links Lars and I sent you
> can learn about permissions and fix the padlock situation.
>     my comments are inline below.
>     Best,
>     Andy
>
>      On Thu, Mar 17, 2016 at 2:23 AM, <urtza.uriarte at upc.edu> wrote:
>
>> _Dear Andy and Robert,
>>
>> Thanks for your suggestions.
>> Therefore, on one hand,?I have tried with;
>>
>> 1) echo $RAYPATH
>> . : /usr/local/bin/radiance/lib
>>
>> 2)?sudo?echo $RAYPATH
>> . : /usr/local/bin/radiance/lib
>>
>> (The outputs are the same)_
>
>       _Then I wonder why the files are found when you run with sudo but
> not found without sudo. Or am I mis-understanding what is going on._
>
>> _3) urtza at urtza-VirtualBox:/usr/local/bin/radiance/lib$ ls
>> There appear all Radiance data files and GenericTranslucent20.dat and
>> rang.cal as well
>>
>> (The programs are in
>> urtza at urtza-VirtualBox:/usr/local/bin/radiance/bin$ , and I think that
>> I have to remove from "bin" directory GenericTranslucent20.dat and
>> rang.cal, which appears there as well)_
>
>       ?
>       _this doesn't help, you need to use the -l (lowercase L) option
> with ls, as I orginally suggested, to report the file and directory
> permissions. And it would help if you did it for every directory in the
> path. like this:_
>       _?_
>       _ls -l?/usr/local/bin/radiance/bin_
>       _ls -l?/usr/local/bin/radiance_
>       _ls -l?/usr/local/bin/_
>       _ls -l?/usr/local/bin/radiance/lib_
>       ?
>
>> _I do not know if I have problems with the installation, but I will not
>> use sudo for user level commands.
>>
>> On the other hand, (I have changed that material for other one and I
>> have launched dctimestep). The .xml file, which ?they have lent for my
>> PhD,?is obtained by goniophotometer.
>>
>> 1) Ubuntu 14:_
>>         _dctimestep -n 8760?photocells.vmx
>> Film3M_145x1297_9142012_t.xml southeast.dmx Barcelona.smx > illum.dat_
>>         _?_
>>         _Usage: dctimestep DCspec [tregvec]_
>>         _? ?or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]_
>>
>>
>> _2) Windows 8:
>>
>> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southeast.dmx
>> Barcelona.smx > illum.dat
>>
>> fatal - unexpected column count in header
>>
>> I checked with others files that I got and this files seem similar.?_
>
>       ?
>       _The tutorial is outdated. dctiemstep no longer accepts the -n
> 8760 option. This info is now contained in the matrix headers. run it
> again without -n._
>       ?
>       ?
>       _?_
>
>> _Thank you very much in advance.
>> Best regards for you,
>> Urtza.
>> ?_
>>
>> _Andy McNeil <mcneil.andrew at gmail.com> escribi?:_
>>
>>> _It could be that the directory is not in your RAYPATH, but it is in
>>> the RAYPATH for root.?_
>>>             _?_
>>>             _Try:_
>>>             _echo $RAYPATH_
>>>             _sudo echo $RAYPATH_
>>>             _?_
>>>             _Are there any differences in the output?_
>>>             _?_
>>>             _Also, it could be that your user doesn't have read
>>> permission in the directory containing the files. Try using ls -l on
>>> every directory in the path to find out (both lower case L).?_
>>>             _?_
>>>             _As a last resort, I'd copy the files to the working
>>> directory, change the owner, permissions, and add "." to RAYPATH. I
>>> agree with Lars that I'd never use sudo to run user level commands.?_
>>>             _?_
>>>             _Andy_
>>>             _?_
>>>             _?_
>>>
>>> _On Mar 16, 2016, at 4:23 AM, urtza.uriarte at upc.edu wrote:
>>> ?_
>>>
>>>> _?_
>>
>>           _Dear Andy,
>>
>> I have tried with;?
>>
>> sudo chmod 664?GenericTranslucent20.dat
>> sudo chmod 664?rang.cal_
>>
>>           _sudo chmod 644 GenericTranslucent20.dat
>> sudo chmod 644 rang.cal_
>>
>>            _sudo chmod 600 GenericTranslucent20.dat
>> sudo chmod 600 rang.cal
>>
>> sudo chmod 700 GenericTranslucent20.dat
>> sudo chmod 700 rang.cal
>>
>> and the padlock continues anyway (The files there are in
>> /usr/local/bin/radiance/bin/ and ?/usr/local/bin/radiance/lib/, as
>> well). I have tried with rcontrib and it scripts this anyway:
>> ?_
>>            _rcontrib -f /usr/share/radiance/klems_int.cal -b
>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2
>> -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells1.vmx_
>>
>>             _rcontrib: fatal - cannot find data file
>> "GenericTranslucent20.dat"
>>
>> I do not know what happen but I will continue finding an error (that
>> padlock is very strange).?
>> Thank you very much.
>> Best regards,
>> Urtza._
>>             _?_
>>
>>            _?_
>>
>>
>> _urtza.uriarte at upc.edu escribi?:_
>>
>>> _Dear Andy,
>>> Thank you very much for your instructions.
>>> I will try with them.
>>> Best regards,
>>> Urtza.
>>>
>>> Andy McNeil <mcneil.andrew at gmail.com> escribi?:_
>>>
>>>> _Urtza, _                         _Here's some more information on
>>>> file ownership and permissions for linux:_
>>>>              _http://linuxcommand.org/lc3_lts0090.php_
>>>>              _Andy_
>>>>
>>>>
>>>>              _On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil
>>>> <mcneil.andrew at gmail.com> wrote:_
>>>>
>>>>> _Urtza, _                               _?_
>>>>>                 _You should open up permissions on those two files
>>>>> like so: _                                 _?_
>>>>>                  _sudo chmod 664?GenericTranslucent20.dat_
>>>>>                  _sudo chmod 664?rang.cal_
>>>>>                  _?_
>>>>>                  _This changes permissions to allow owner and group
>>>>> read/write and everyone read._
>>>>>                  _(you need to be in the directory or give the full
>>>>> path to the file)._
>>>>>                  _?_
>>>>>                  _Andy_
>>>>>
>>>>>
>>>>>                                                    _On Tue, Mar 15,
>>>>> 2016 at 9:19 AM, <urtza.uriarte at upc.edu> wrote:_
>>>>>
>>>>>> __Dear Lars,
>>>>>>
>>>>>> Thank you very much for your reply.?
>>>>>>
>>>>>> I tried with Five-Phase method earlier and all command worked.
>>>>>> However, now I?exported the model from Rhino and I have some
>>>>>> materials that they need two specific files. I do not why they do
>>>>>> not run without sudo, placing where there are others, as well (They
>>>>>> keep always the padlock, I copy there from DIVA's files. They are
>>>>>> not from radiance package previously installed). I use oconv,
>>>>>> rtrace and rpict with sudo and they work without problem.
>>>>>> Nervertheless, if using sudo is not good I remove those materials
>>>>>> and I could use rcontrib without sudo.?
>>>>>>
>>>>>> Thank you for your suggestions. I read Axel Jacob's tutorials but
>>>>>> rereading will be fine.
>>>>>> Best regards for you,
>>>>>> Urtza.
>>>>>>
>>>>>> "Lars O. Grobe" <grobe at gmx.net> escribi?:__
>>>>>>
>>>>>>> __Dear Urtza,
>>>>>>>
>>>>>>> two comments on your installation - this should be solved before
>>>>>>> you even start using a complicated combination of commands such as
>>>>>>> the three-phase method.
>>>>>>>
>>>>>>> First, with a correct configuration of your system you will not
>>>>>>> need to run rcontrib as super-user (sudo). Your regular user
>>>>>>> account just needs read-access to the .dat and .cal files in this
>>>>>>> case, so why would you not grant the proper permissions?
>>>>>>>
>>>>>>> Second, as rcontrib is not found, what makes you think it is
>>>>>>> installed? Did you install Radiance from sources, did the build
>>>>>>> complete without errors, and did you include the directory
>>>>>>> containing the binaries in your PATH environment variable? Does
>>>>>>> any other Radiance command work for you?
>>>>>>>
>>>>>>> I would recommend having a look at Axel Jacob's set of tutorials
>>>>>>> first, including the unix-introduction. Otherwise you risk messing
>>>>>>> up a lot of your models with work-arounds, and even risk the
>>>>>>> integrity of your system by using sudo where it should
>>>>>>> definitively not be applied.
>>>>>>>
>>>>>>> Cheers, Lars._
>>>>>>> ?_
>>>>>>>
>>>>>>>> __?__
>>>>>>
>>>>>>                        __Dear experts,
>>>>>>
>>>>>> I am trying with Three-Phase Method for Simulating Complex
>>>>>> Fenestration, following A McNeil tutorial.
>>>>>>
>>>>>> I am using Ubuntu 14 OS. I need use sudo command because I have
>>>>>> GenericTranslucent20.dat material and rang.cal that they are locked
>>>>>> anyway. However, when I have launched sudo rcontrib, it scripts
>>>>>> that:
>>>>>> ?__
>>>>>>
>>>>>> __sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
>>>>>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab
>>>>>> 2 -ad 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx__
>>>>>>
>>>>>> __sudo: rcontrib: command not found
>>>>>>
>>>>>> Could someone say what the problem is? Thank you in advance.
>>>>>> Best regards,
>>>>>> Urtza.__
>>>>>>
>>>>>>
>>>>>> _?_
>>>>>>
>>>>>> _________________________________________________
>>>>>> Radiance-general mailing list
>>>>>> Radiance-general at radiance-online.org
>>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>>>>>> ?_
>>>
>>>
>>> _?_
>>
>>
>> _?_
>>
>>> ________________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>>
>>
>> ?
>>
>> ________________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>> ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/d40a1453/attachment-0001.html>

From hs.antunes at campus.fct.unl.pt  Fri Mar 18 06:13:05 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Fri, 18 Mar 2016 13:13:05 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR4yXFuwgdTVd3pqBODVOc1uMUD0cMj1N=vwvWVvnx1UtQ@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CANeAMo+C-22EyivAts0bi7m22_mhf+aq3mVdN1y9viL6eU-yrw@mail.gmail.com>
	<CA+fuGR4yXFuwgdTVd3pqBODVOc1uMUD0cMj1N=vwvWVvnx1UtQ@mail.gmail.com>
Message-ID: <CA+fuGR5gmKcKODMuwi2CZt2rxboyXr2q48FzPjSdvSicUviaFA@mail.gmail.com>

At this point i downloaded and unpacked the "rad5R0all.tar.gz" file and now
when I try to run "sudo ./makeall install" i get the fallowing error
message:
"sudo: unable to execute ./makeall: No such file or directory".

Any hints on how to solve it?

Thank you
Humberto A.


2016-03-18 3:05 GMT+00:00 Humberto Antunes <hs.antunes at campus.fct.unl.pt>:

> Thanks for the help
>
> I would prefer to compile from source to.
> So if i download the file *"rad5R0all.tar.gz"*, unpack it, let's say, in
> the desktop directory and then run *"sudo ./makeall install"* from the
> ray directory everything should be installed smoothly right?
>
> Humberto A.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/f1894126/attachment.html>

From hs.antunes at campus.fct.unl.pt  Fri Mar 18 06:55:46 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Fri, 18 Mar 2016 13:55:46 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
Message-ID: <CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>

That error is already solved, just needed to install csh.

So after i run the sudo makeall install i got the message "There were some
errors", like you asked me to I went back to see what the error are and the
error listed is:

compilation terminated.
make: *** [x11findwind.o] Error 1

So I followed your advice installed libx11-dev and got the message "Done",
so i guess the installation of radiance is finally fine.

I am now starting you tutorial "The Three-Phase Method for Simulating
Complex Fenestration with Radiance", hope everything goes smoothly.

Thank you everyone for your help.

Best regards
Humberto A.

2016-03-18 2:56 GMT+00:00 Andy McNeil <mcneil.andrew at gmail.com>:

> Humberto,
>
> You mentioned X11, but didn't share an error associated with X11. So It's
> tough to tell what your problem is. Can you search the text on the terminal
> for the word error, and report the actual errors that occurred?
>
> In case it is related to X11, on Raspbian, I need to install the x11
> development libraries to get Radiance to compile.
> The same could be true for Ubuntu?
>
> Here's what I do:
> sudo apt-get install libx11-dev
>
> Best,
> Andy
>
>
> On Thu, Mar 17, 2016 at 6:20 PM, Humberto Antunes <
> hs.antunes at campus.fct.unl.pt> wrote:
>
>> I everyone,
>>
>> I was using a version of radiance from the apt-get, i guess the version
>> we get when we install radiance like that is 4.1, but i need some functions
>> from the newer version like gendaymtx, i have tried to install from source
>> code with the ./makeall install and i received the message "there were some
>> error" i have read all the info on readme and nox11help but nothing seems
>> to work, after doing a bunch of stuff nothing was working at all.
>>
>> I needed to make a clean install of ubuntu so i did it and now i have my
>> computer completely clean.
>>
>> Now i want to make a clean installation of radiance 5.0 to get it running
>> smoothly.
>>
>> Should i use the binaries from NREL to LINUX 64 or compile it from
>> source, witch is better?
>>
>> Thank to all
>> Humberto A.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/cc95b8a2/attachment.html>

From mcneil.andrew at gmail.com  Fri Mar 18 10:18:15 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Fri, 18 Mar 2016 10:18:15 -0700
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
Message-ID: <CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>

Hi Humberto,
I'm glad the compilation worked. I'm surprised you were able to figure out
that you needed to install csh to get makeall to run. The error "no such
file or directory" doesn't give much clue of what is wrong.

I suspect you will have problems with the commands in the three phase
tutorial. They're not up to date, and some options no longer exist or are
un-necessary. Also, the rfluxmtx command makes the process a lot simpler.
I've been working on updating the tutorial, but have made slow progress.
You might consider using the 2014 workshop presentation as a guide to the
newer methods:
https://www.radiance-online.org/community/workshops/2014-london/presentations/day1/McNeil_BSDFsandPhases.pdf

Andy


On Fri, Mar 18, 2016 at 6:55 AM, Humberto Antunes <
hs.antunes at campus.fct.unl.pt> wrote:

> That error is already solved, just needed to install csh.
>
> So after i run the sudo makeall install i got the message "There were some
> errors", like you asked me to I went back to see what the error are and the
> error listed is:
>
> compilation terminated.
> make: *** [x11findwind.o] Error 1
>
> So I followed your advice installed libx11-dev and got the message
> "Done", so i guess the installation of radiance is finally fine.
>
> I am now starting you tutorial "The Three-Phase Method for Simulating
> Complex Fenestration with Radiance", hope everything goes smoothly.
>
> Thank you everyone for your help.
>
> Best regards
> Humberto A.
>
> 2016-03-18 2:56 GMT+00:00 Andy McNeil <mcneil.andrew at gmail.com>:
>
>> Humberto,
>>
>> You mentioned X11, but didn't share an error associated with X11. So It's
>> tough to tell what your problem is. Can you search the text on the terminal
>> for the word error, and report the actual errors that occurred?
>>
>> In case it is related to X11, on Raspbian, I need to install the x11
>> development libraries to get Radiance to compile.
>> The same could be true for Ubuntu?
>>
>> Here's what I do:
>> sudo apt-get install libx11-dev
>>
>> Best,
>> Andy
>>
>>
>> On Thu, Mar 17, 2016 at 6:20 PM, Humberto Antunes <
>> hs.antunes at campus.fct.unl.pt> wrote:
>>
>>> I everyone,
>>>
>>> I was using a version of radiance from the apt-get, i guess the version
>>> we get when we install radiance like that is 4.1, but i need some functions
>>> from the newer version like gendaymtx, i have tried to install from source
>>> code with the ./makeall install and i received the message "there were some
>>> error" i have read all the info on readme and nox11help but nothing seems
>>> to work, after doing a bunch of stuff nothing was working at all.
>>>
>>> I needed to make a clean install of ubuntu so i did it and now i have my
>>> computer completely clean.
>>>
>>> Now i want to make a clean installation of radiance 5.0 to get it
>>> running smoothly.
>>>
>>> Should i use the binaries from NREL to LINUX 64 or compile it from
>>> source, witch is better?
>>>
>>> Thank to all
>>> Humberto A.
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/5a517a21/attachment-0001.html>

From mcneil.andrew at gmail.com  Fri Mar 18 10:24:56 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Fri, 18 Mar 2016 10:24:56 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
Message-ID: <CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>

Hi Urtza,

glad your materials are finally working.
The most common cause of the error you are receiving is not having the
number of rows in your view matrix. You can use getinfo to look at the
header of your view matrix like this:
getinfo photocells.vmx

is there a line starting with NROWS=

If not, then you can use a text editor to add NROWS=10 (replace 10 with
your number of sensor points). This can be added in the rcontrib command by
adding -y 10

This is one of the many changes in radiance that makes the three phase
tutorial outdated. Sorry.

Andy





On Fri, Mar 18, 2016 at 4:56 AM, <urtza.uriarte at upc.edu> wrote:

> Dear Andy,
>
> Thank you very much. Lars's and yours permission suggestions have helped
> me.
> I checked the directories by ls -l :
> Every files have "-rwxrwxrwx 1 root root" permission description except
> GenericTranslucent20.dat and rang.cal files; "-rwx------ 1 root root.
> I changed the permission by "sudo chmod 777 file" and now the two files
> have the same permission as others.
> (plugins and /usr/local/bin/radiance and /usr/local/bin/radiance have
> "drwxrwxrwx 3 root root" description)
>
> I have launched and now it works. Thanks.
> (Note that, I put this two files in my folder with padlock and then I run
> with sudo and it works but with rcontrib no. Now, it seems that I put
> everything ok and I do not need to do that, which could be not good)
>
>
>
> Regarding dctimestep, I remove -n 8760 parameter but it seems that I have
> problems with Sky Matrix. The steps have been these:
>
> epw2wea ESP_Barcelona.081810_IWEC.epw Barcelona.wea
> place BARCELONA_ESP
> latitude 41.28
> longitude -2.07
> time_zone -15.00
> site_elevation 6.0
> weather_data_file_units 1
>
>
> gendaymtx -m 4 Barcelona.wea > Barcelona.smx
>
>
> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx
> Barcelona.smx > illum.dat
> fatal - unexpected EOF reading Barcelona.smx
>
>
> I would be very grateful if you could find the problem. Thank you very
> much in advance.
> Best regards,
> Urtza.
>
>
>
> Andy McNeil <mcneil.andrew at gmail.com> escribi?:
>
> Hi Urtza,
> I'm having trouble following what errors we're debugging. Are you okay not
> using those materials, because with minimal effort you should be able to
> fix it. If you look at the links Lars and I sent you can learn about
> permissions and fix the padlock situation.
> my comments are inline below.
> Best,
> Andy
>
> On Thu, Mar 17, 2016 at 2:23 AM, <urtza.uriarte at upc.edu> wrote:
>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> *Dear Andy and Robert, Thanks for your suggestions. Therefore, on one
>> hand, I have tried with; 1) echo $RAYPATH . : /usr/local/bin/radiance/lib
>> 2) sudo echo $RAYPATH . : /usr/local/bin/radiance/lib (The outputs are the
>> same)*
>>
> *Then I wonder why the files are found when you run with sudo but not
> found without sudo. Or am I mis-understanding what is going on.*
>
>>
>>
>>
>>
>> *3) urtza at urtza-VirtualBox:/usr/local/bin/radiance/lib$ ls There appear
>> all Radiance data files and GenericTranslucent20.dat and rang.cal as well
>> (The programs are in urtza at urtza-VirtualBox:/usr/local/bin/radiance/bin$ ,
>> and I think that I have to remove from "bin" directory
>> GenericTranslucent20.dat and rang.cal, which appears there as well)*
>>
>
> *this doesn't help, you need to use the -l (lowercase L) option with ls,
> as I orginally suggested, to report the file and directory permissions. And
> it would help if you did it for every directory in the path. like this:*
>
> *ls -l /usr/local/bin/radiance/bin*
> *ls -l /usr/local/bin/radiance*
> *ls -l /usr/local/bin/*
> *ls -l /usr/local/bin/radiance/lib*
>
>
>>
>>
>>
>>
>>
>>
>>
>> *I do not know if I have problems with the installation, but I will not
>> use sudo for user level commands. On the other hand, (I have changed that
>> material for other one and I have launched dctimestep). The .xml file,
>> which  they have lent for my PhD, is obtained by goniophotometer. 1) Ubuntu
>> 14:*
>> *dctimestep -n 8760 photocells.vmx Film3M_145x1297_9142012_t.xml
>> southeast.dmx Barcelona.smx > illum.dat*
>>
>> *Usage: dctimestep DCspec [tregvec]*
>> *   or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]*
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> *2) Windows 8: dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml
>> southeast.dmx Barcelona.smx > illum.dat fatal - unexpected column count in
>> header I checked with others files that I got and this files seem similar. *
>>
>
> *The tutorial is outdated. dctiemstep no longer accepts the -n 8760
> option. This info is now contained in the matrix headers. run it again
> without -n.*
>
>
>
>
>>
>>
>>
>>
>>
>> *Thank you very much in advance. Best regards for you, Urtza.  *
>>
>>
>>
>>
>> *Andy McNeil <mcneil.andrew at gmail.com <mcneil.andrew at gmail.com>>
>> escribi?:*
>>
>> *It could be that the directory is not in your RAYPATH, but it is in the
>> RAYPATH for root. *
>>
>> *Try:*
>> *echo $RAYPATH*
>> *sudo echo $RAYPATH*
>>
>> *Are there any differences in the output?*
>>
>> *Also, it could be that your user doesn't have read permission in the
>> directory containing the files. Try using ls -l on every directory in the
>> path to find out (both lower case L). *
>>
>> *As a last resort, I'd copy the files to the working directory, change
>> the owner, permissions, and add "." to RAYPATH. I agree with Lars that I'd
>> never use sudo to run user level commands. *
>>
>> *Andy*
>>
>>
>>
>>
>> *On Mar 16, 2016, at 4:23 AM, urtza.uriarte at upc.edu
>> <urtza.uriarte at upc.edu> wrote:  *
>>
>>
>>
>>
>>
>>
>>
>>
>> *Dear Andy, I have tried with;  sudo chmod 664 GenericTranslucent20.dat
>> sudo chmod 664 rang.cal*
>>
>>
>> *sudo chmod 644 GenericTranslucent20.dat sudo chmod 644 rang.cal*
>>
>>
>>
>>
>>
>>
>>
>>
>> *sudo chmod 600 GenericTranslucent20.dat sudo chmod 600 rang.cal sudo
>> chmod 700 GenericTranslucent20.dat sudo chmod 700 rang.cal and the padlock
>> continues anyway (The files there are in /usr/local/bin/radiance/bin/ and
>>  /usr/local/bin/radiance/lib/, as well). I have tried with rcontrib and it
>> scripts this anyway:  *
>> *rcontrib -f /usr/share/radiance/klems_int.cal -b
>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
>> 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells1.vmx*
>>
>>
>>
>>
>>
>>
>> *rcontrib: fatal - cannot find data file "GenericTranslucent20.dat" I do
>> not know what happen but I will continue finding an error (that padlock is
>> very strange).  Thank you very much. Best regards, Urtza.*
>>
>>
>>
>>
>> *urtza.uriarte at upc.edu <urtza.uriarte at upc.edu> escribi?:*
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> *Dear Andy, Thank you very much for your instructions. I will try with
>> them. Best regards, Urtza. Andy McNeil <mcneil.andrew at gmail.com
>> <mcneil.andrew at gmail.com>> escribi?:*
>>
>> *Urtza,*
>> *Here's some more information on file ownership and permissions for
>> linux:*
>> *http://linuxcommand.org/lc3_lts0090.php
>> <http://linuxcommand.org/lc3_lts0090.php>*
>> *Andy*
>>
>> *On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil <mcneil.andrew at gmail.com
>> <mcneil.andrew at gmail.com>> wrote:*
>>
>>> *Urtza,*
>>>
>>> *You should open up permissions on those two files like so:*
>>>
>>> *sudo chmod 664 GenericTranslucent20.dat*
>>> *sudo chmod 664 rang.cal*
>>>
>>> *This changes permissions to allow owner and group read/write and
>>> everyone read.*
>>> *(you need to be in the directory or give the full path to the file).*
>>>
>>> *Andy*
>>>
>>> *On Tue, Mar 15, 2016 at 9:19 AM, <urtza.uriarte at upc.edu
>>> <urtza.uriarte at upc.edu>> wrote:*
>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> *Dear Lars, Thank you very much for your reply.  I tried with
>>>> Five-Phase method earlier and all command worked. However, now I exported
>>>> the model from Rhino and I have some materials that they need two specific
>>>> files. I do not why they do not run without sudo, placing where there are
>>>> others, as well (They keep always the padlock, I copy there from DIVA's
>>>> files. They are not from radiance package previously installed). I use
>>>> oconv, rtrace and rpict with sudo and they work without problem.
>>>> Nervertheless, if using sudo is not good I remove those materials and I
>>>> could use rcontrib without sudo.  Thank you for your suggestions. I read
>>>> Axel Jacob's tutorials but rereading will be fine. Best regards for you,
>>>> Urtza. "Lars O. Grobe" <grobe at gmx.net <grobe at gmx.net>> escribi?:*
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> *Dear Urtza, two comments on your installation - this should be solved
>>>> before you even start using a complicated combination of commands such as
>>>> the three-phase method. First, with a correct configuration of your system
>>>> you will not need to run rcontrib as super-user (sudo). Your regular user
>>>> account just needs read-access to the .dat and .cal files in this case, so
>>>> why would you not grant the proper permissions? Second, as rcontrib is not
>>>> found, what makes you think it is installed? Did you install Radiance from
>>>> sources, did the build complete without errors, and did you include the
>>>> directory containing the binaries in your PATH environment variable? Does
>>>> any other Radiance command work for you? I would recommend having a look at
>>>> Axel Jacob's set of tutorials first, including the unix-introduction.
>>>> Otherwise you risk messing up a lot of your models with work-arounds, and
>>>> even risk the integrity of your system by using sudo where it should
>>>> definitively not be applied. Cheers, Lars.  *
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> *Dear experts, I am trying with Three-Phase Method for Simulating
>>>> Complex Fenestration, following A McNeil tutorial. I am using Ubuntu 14 OS.
>>>> I need use sudo command because I have GenericTranslucent20.dat material
>>>> and rang.cal that they are locked anyway. However, when I have launched
>>>> sudo rcontrib, it scripts that:  *
>>>>
>>>> *sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
>>>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
>>>> 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx*
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> *sudo: rcontrib: command not found Could someone say what the problem
>>>> is? Thank you in advance. Best regards, Urtza.*
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> *_______________________________________________ Radiance-general
>>>> mailing list Radiance-general at radiance-online.org
>>>> <Radiance-general at radiance-online.org>
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>  *
>>>
>>>
>>
>>
>>
>>
>>
>>
>>
>>
>> *_______________________________________________ Radiance-general mailing
>> list Radiance-general at radiance-online.org
>> <Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>*
>>
>>
>>
>>
>>
>>
>>
>> *_______________________________________________ Radiance-general mailing
>> list Radiance-general at radiance-online.org
>> <Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>*
>>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/87a1d9f2/attachment-0001.html>

From hs.antunes at campus.fct.unl.pt  Fri Mar 18 11:27:23 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Fri, 18 Mar 2016 18:27:23 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
Message-ID: <CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>

I figured it out when i opened the makeall file from the ray directory i
saw the first line.

I am already having trouble with the commands in the tutorial, so after a
quick reading of the presentation I see that basically the rfluxmtx commamd
comes in to replace the rcontrib command, right?

I am using radiance to run annual dynamic daylight simulation of dynamic
shading devices for my master's thesis, hope i will be able to do it
because my master's thesis advisor is not much of a help in that topic.

I will try to get the three phase method running with the help of that
presentation.

Thank you very much Andy
Humberto A.

2016-03-18 17:18 GMT+00:00 Andy McNeil <mcneil.andrew at gmail.com>:

> Hi Humberto,
> I'm glad the compilation worked. I'm surprised you were able to figure out
> that you needed to install csh to get makeall to run. The error "no such
> file or directory" doesn't give much clue of what is wrong.
>
> I suspect you will have problems with the commands in the three phase
> tutorial. They're not up to date, and some options no longer exist or are
> un-necessary. Also, the rfluxmtx command makes the process a lot simpler.
> I've been working on updating the tutorial, but have made slow progress.
> You might consider using the 2014 workshop presentation as a guide to the
> newer methods:
>
> https://www.radiance-online.org/community/workshops/2014-london/presentations/day1/McNeil_BSDFsandPhases.pdf
>
> Andy
>
>
> On Fri, Mar 18, 2016 at 6:55 AM, Humberto Antunes <
> hs.antunes at campus.fct.unl.pt> wrote:
>
>> That error is already solved, just needed to install csh.
>>
>> So after i run the sudo makeall install i got the message "There were
>> some errors", like you asked me to I went back to see what the error are
>> and the error listed is:
>>
>> compilation terminated.
>> make: *** [x11findwind.o] Error 1
>>
>> So I followed your advice installed libx11-dev and got the message
>> "Done", so i guess the installation of radiance is finally fine.
>>
>> I am now starting you tutorial "The Three-Phase Method for Simulating
>> Complex Fenestration with Radiance", hope everything goes smoothly.
>>
>> Thank you everyone for your help.
>>
>> Best regards
>> Humberto A.
>>
>> 2016-03-18 2:56 GMT+00:00 Andy McNeil <mcneil.andrew at gmail.com>:
>>
>>> Humberto,
>>>
>>> You mentioned X11, but didn't share an error associated with X11. So
>>> It's tough to tell what your problem is. Can you search the text on the
>>> terminal for the word error, and report the actual errors that occurred?
>>>
>>> In case it is related to X11, on Raspbian, I need to install the x11
>>> development libraries to get Radiance to compile.
>>> The same could be true for Ubuntu?
>>>
>>> Here's what I do:
>>> sudo apt-get install libx11-dev
>>>
>>> Best,
>>> Andy
>>>
>>>
>>> On Thu, Mar 17, 2016 at 6:20 PM, Humberto Antunes <
>>> hs.antunes at campus.fct.unl.pt> wrote:
>>>
>>>> I everyone,
>>>>
>>>> I was using a version of radiance from the apt-get, i guess the version
>>>> we get when we install radiance like that is 4.1, but i need some functions
>>>> from the newer version like gendaymtx, i have tried to install from source
>>>> code with the ./makeall install and i received the message "there were some
>>>> error" i have read all the info on readme and nox11help but nothing seems
>>>> to work, after doing a bunch of stuff nothing was working at all.
>>>>
>>>> I needed to make a clean install of ubuntu so i did it and now i have
>>>> my computer completely clean.
>>>>
>>>> Now i want to make a clean installation of radiance 5.0 to get it
>>>> running smoothly.
>>>>
>>>> Should i use the binaries from NREL to LINUX 64 or compile it from
>>>> source, witch is better?
>>>>
>>>> Thank to all
>>>> Humberto A.
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/ddaa649a/attachment.html>

From hs.antunes at campus.fct.unl.pt  Fri Mar 18 14:49:55 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Fri, 18 Mar 2016 21:49:55 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
Message-ID: <CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>

Hello again everybody,

I have a question related to the command rfluxmtx.
While using rcontrib to generate the view matrix we had to set the window
orientation with the command -b kbinS or (N,E or W), how do we do that in
the rfluxmtx? Is it set by the "u" variable or it is not needed to do this
with the rfluxmtx command?

Also, as reinhart.cal file been replaced for the reinhartb.cal?

Best regards
Humberto A.

2016-03-18 18:27 GMT+00:00 Humberto Antunes <hs.antunes at campus.fct.unl.pt>:

> I figured it out when i opened the makeall file from the ray directory i
> saw the first line.
>
> I am already having trouble with the commands in the tutorial, so after a
> quick reading of the presentation I see that basically the rfluxmtx commamd
> comes in to replace the rcontrib command, right?
>
> I am using radiance to run annual dynamic daylight simulation of dynamic
> shading devices for my master's thesis, hope i will be able to do it
> because my master's thesis advisor is not much of a help in that topic.
>
> I will try to get the three phase method running with the help of that
> presentation.
>
> Thank you very much Andy
> Humberto A.
>
> 2016-03-18 17:18 GMT+00:00 Andy McNeil <mcneil.andrew at gmail.com>:
>
>> Hi Humberto,
>> I'm glad the compilation worked. I'm surprised you were able to figure
>> out that you needed to install csh to get makeall to run. The error "no
>> such file or directory" doesn't give much clue of what is wrong.
>>
>> I suspect you will have problems with the commands in the three phase
>> tutorial. They're not up to date, and some options no longer exist or are
>> un-necessary. Also, the rfluxmtx command makes the process a lot simpler.
>> I've been working on updating the tutorial, but have made slow progress.
>> You might consider using the 2014 workshop presentation as a guide to the
>> newer methods:
>>
>> https://www.radiance-online.org/community/workshops/2014-london/presentations/day1/McNeil_BSDFsandPhases.pdf
>>
>> Andy
>>
>>
>> On Fri, Mar 18, 2016 at 6:55 AM, Humberto Antunes <
>> hs.antunes at campus.fct.unl.pt> wrote:
>>
>>> That error is already solved, just needed to install csh.
>>>
>>> So after i run the sudo makeall install i got the message "There were
>>> some errors", like you asked me to I went back to see what the error are
>>> and the error listed is:
>>>
>>> compilation terminated.
>>> make: *** [x11findwind.o] Error 1
>>>
>>> So I followed your advice installed libx11-dev and got the message
>>> "Done", so i guess the installation of radiance is finally fine.
>>>
>>> I am now starting you tutorial "The Three-Phase Method for Simulating
>>> Complex Fenestration with Radiance", hope everything goes smoothly.
>>>
>>> Thank you everyone for your help.
>>>
>>> Best regards
>>> Humberto A.
>>>
>>> 2016-03-18 2:56 GMT+00:00 Andy McNeil <mcneil.andrew at gmail.com>:
>>>
>>>> Humberto,
>>>>
>>>> You mentioned X11, but didn't share an error associated with X11. So
>>>> It's tough to tell what your problem is. Can you search the text on the
>>>> terminal for the word error, and report the actual errors that occurred?
>>>>
>>>> In case it is related to X11, on Raspbian, I need to install the x11
>>>> development libraries to get Radiance to compile.
>>>> The same could be true for Ubuntu?
>>>>
>>>> Here's what I do:
>>>> sudo apt-get install libx11-dev
>>>>
>>>> Best,
>>>> Andy
>>>>
>>>>
>>>> On Thu, Mar 17, 2016 at 6:20 PM, Humberto Antunes <
>>>> hs.antunes at campus.fct.unl.pt> wrote:
>>>>
>>>>> I everyone,
>>>>>
>>>>> I was using a version of radiance from the apt-get, i guess the
>>>>> version we get when we install radiance like that is 4.1, but i need some
>>>>> functions from the newer version like gendaymtx, i have tried to install
>>>>> from source code with the ./makeall install and i received the message
>>>>> "there were some error" i have read all the info on readme and nox11help
>>>>> but nothing seems to work, after doing a bunch of stuff nothing was working
>>>>> at all.
>>>>>
>>>>> I needed to make a clean install of ubuntu so i did it and now i have
>>>>> my computer completely clean.
>>>>>
>>>>> Now i want to make a clean installation of radiance 5.0 to get it
>>>>> running smoothly.
>>>>>
>>>>> Should i use the binaries from NREL to LINUX 64 or compile it from
>>>>> source, witch is better?
>>>>>
>>>>> Thank to all
>>>>> Humberto A.
>>>>>
>>>>> _______________________________________________
>>>>> Radiance-general mailing list
>>>>> Radiance-general at radiance-online.org
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/c4823c99/attachment.html>

From gregoryjward at gmail.com  Fri Mar 18 16:40:09 2016
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Fri, 18 Mar 2016 16:40:09 -0700
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
Message-ID: <5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>

Hi Humberto,

The rfluxmtx command takes over for genklemsamp and calls rcontrib with the options needed for correct operation.  You don't need to specify the bin or the .cal file(s), as rfluxmtx takes care of that part.  You do need to set both the "u=Z" (or whatever) up-direction and the desired hemispherical sampling type (e.g., "h=r4") in your Radiance scene description handed to rfluxmtx as the source or receiver(s).

The reinhartb.cal file is more general than the original reinhart.cal file, and uses slightly different mechanisms (hence the need for a new name).

I hope this helps, and thanks to everyone for pitching in.  I realize that the changes made post-tutorial have caused a good deal of confusion, but we hope to get it all sorted out in the end.

Cheers,
-Greg

> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
> Date: March 18, 2016 2:49:55 PM PDT
> 
> Hello again everybody,
> 
> I have a question related to the command rfluxmtx.
> While using rcontrib to generate the view matrix we had to set the window orientation with the command -b kbinS or (N,E or W), how do we do that in the rfluxmtx? Is it set by the "u" variable or it is not needed to do this with the rfluxmtx command?
> 
> Also, as reinhart.cal file been replaced for the reinhartb.cal?
> 
> Best regards
> Humberto A.
> 
> 2016-03-18 18:27 GMT+00:00 Humberto Antunes <hs.antunes at campus.fct.unl.pt>:
> I figured it out when i opened the makeall file from the ray directory i saw the first line.
> 
> I am already having trouble with the commands in the tutorial, so after a quick reading of the presentation I see that basically the rfluxmtx commamd comes in to replace the rcontrib command, right?
> 
> I am using radiance to run annual dynamic daylight simulation of dynamic shading devices for my master's thesis, hope i will be able to do it because my master's thesis advisor is not much of a help in that topic.
> 
> I will try to get the three phase method running with the help of that presentation.
> 
> Thank you very much Andy
> Humberto A.
> 
> 2016-03-18 17:18 GMT+00:00 Andy McNeil <mcneil.andrew at gmail.com>:
> Hi Humberto,
> I'm glad the compilation worked. I'm surprised you were able to figure out that you needed to install csh to get makeall to run. The error "no such file or directory" doesn't give much clue of what is wrong.
> 
> I suspect you will have problems with the commands in the three phase tutorial. They're not up to date, and some options no longer exist or are un-necessary. Also, the rfluxmtx command makes the process a lot simpler. I've been working on updating the tutorial, but have made slow progress. You might consider using the 2014 workshop presentation as a guide to the newer methods:
> https://www.radiance-online.org/community/workshops/2014-london/presentations/day1/McNeil_BSDFsandPhases.pdf
> 
> Andy
> 
> 
> On Fri, Mar 18, 2016 at 6:55 AM, Humberto Antunes <hs.antunes at campus.fct.unl.pt> wrote:
> That error is already solved, just needed to install csh.
> 
> So after i run the sudo makeall install i got the message "There were some errors", like you asked me to I went back to see what the error are and the error listed is:
> 
> compilation terminated.
> make: *** [x11findwind.o] Error 1
> 
> So I followed your advice installed libx11-dev and got the message "Done", so i guess the installation of radiance is finally fine.
> 
> I am now starting you tutorial "The Three-Phase Method for Simulating Complex Fenestration with Radiance", hope everything goes smoothly.
> 
> Thank you everyone for your help.
> 
> Best regards
> Humberto A.
> 
> 2016-03-18 2:56 GMT+00:00 Andy McNeil <mcneil.andrew at gmail.com>:
> Humberto,
> 
> You mentioned X11, but didn't share an error associated with X11. So It's tough to tell what your problem is. Can you search the text on the terminal for the word error, and report the actual errors that occurred?
> 
> In case it is related to X11, on Raspbian, I need to install the x11 development libraries to get Radiance to compile.
> The same could be true for Ubuntu?
> 
> Here's what I do:
> sudo apt-get install libx11-dev
> 
> Best,
> Andy
> 
> 
> On Thu, Mar 17, 2016 at 6:20 PM, Humberto Antunes <hs.antunes at campus.fct.unl.pt> wrote:
> I everyone,
> 
> I was using a version of radiance from the apt-get, i guess the version we get when we install radiance like that is 4.1, but i need some functions from the newer version like gendaymtx, i have tried to install from source code with the ./makeall install and i received the message "there were some error" i have read all the info on readme and nox11help but nothing seems to work, after doing a bunch of stuff nothing was working at all.
> 
> I needed to make a clean install of ubuntu so i did it and now i have my computer completely clean.
> 
> Now i want to make a clean installation of radiance 5.0 to get it running smoothly.
> 
> Should i use the binaries from NREL to LINUX 64 or compile it from source, witch is better?
> 
> Thank to all
> Humberto A.
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/c2a20fc3/attachment-0001.html>

From gregoryjward at gmail.com  Fri Mar 18 16:50:20 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 18 Mar 2016 16:50:20 -0700
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
	<5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
Message-ID: <A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>

Oh, but I did neglect to mention a critical point, which is that rfluxmtx figures out the hemisphere orientation(s) from the surface or surfaces you specify in your source and receiver files.  So, it's very important that surface normals are directed in a certain way -- specifically, receiver normals point in the direction of the sampled hemisphere, and source normals point *away* from the hemisphere we want to sample.

Though this may seem counter-intuitive, it follows naturally from the typical orientation of windows in Radiance, whose normals face the interior.  When the windows are acting as the receivers in a matrix calculation, such as for a view or illuminance value matrix, their normal is looking towards the interior hemisphere being sampled.  When their role changes to make them the source surfaces, as when you calculate the exterior daylight matrix, they are still facing the correct direction to have their opposite-side hemisphere send out samples to the exterior.

In this way, rfluxmtx allows you to re-use your receiver description in one run as the source description in another run.

I'm hoping this makes sense, because I mention it in the man page, but it's not quite obvious and I did it the wrong way around the last time I used the tools, myself(!)

Best,
-Greg

rfluxmtx.pdf

> From: "Gregory J. Ward" <gregoryjward at gmail.com>
> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
> Date: March 18, 2016 4:40:09 PM PDT
> 
> Hi Humberto,
> 
> The rfluxmtx command takes over for genklemsamp and calls rcontrib with the options needed for correct operation.  You don't need to specify the bin or the .cal file(s), as rfluxmtx takes care of that part.  You do need to set both the "u=Z" (or whatever) up-direction and the desired hemispherical sampling type (e.g., "h=r4") in your Radiance scene description handed to rfluxmtx as the source or receiver(s).
> 
> The reinhartb.cal file is more general than the original reinhart.cal file, and uses slightly different mechanisms (hence the need for a new name).
> 
> I hope this helps, and thanks to everyone for pitching in.  I realize that the changes made post-tutorial have caused a good deal of confusion, but we hope to get it all sorted out in the end.
> 
> Cheers,
> -Greg
> 
>> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
>> Date: March 18, 2016 2:49:55 PM PDT
>> 
>> Hello again everybody,
>> 
>> I have a question related to the command rfluxmtx.
>> While using rcontrib to generate the view matrix we had to set the window orientation with the command -b kbinS or (N,E or W), how do we do that in the rfluxmtx? Is it set by the "u" variable or it is not needed to do this with the rfluxmtx command?
>> 
>> Also, as reinhart.cal file been replaced for the reinhartb.cal?
>> 
>> Best regards
>> Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160318/0ff01e02/attachment.html>

From hs.antunes at campus.fct.unl.pt  Sat Mar 19 05:30:51 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Sat, 19 Mar 2016 12:30:51 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
	<5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
	<A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>
Message-ID: <CA+fuGR6eApeFmZDQAffNVuYMhQtWonnKsmosqM4zN1dLB=KG-g@mail.gmail.com>

Thanks Greg, that definitely helped.

So we really need to be careful about the surface normal, if the objective
is to get illuminance values on the work plane inside a room the normal of
the window should face the interior, is that it?

There is just something i cant't understand, defining the up-direction, in
the windows located in vertical surfaces the up-direction is allways "u=Z"
no matter the orientation of the window, while in the ground or sky surface
in the daylight matrix receiver file up-direction is "u=Y", right?

It may be import to say that my model is a simple office room with only a
window, a lot like Axel's model on the rcontrib lesson, and i will have to
analyse the illuminance at the work plane for the four different
orientations of the window with different control parameters for the
shading device applied to that same window.

Best regards
Humberto A.


2016-03-18 23:50 GMT+00:00 Greg Ward <gregoryjward at gmail.com>:

> Oh, but I did neglect to mention a critical point, which is that rfluxmtx
> figures out the hemisphere orientation(s) from the surface or surfaces you
> specify in your source and receiver files.  So, it's very important that
> surface normals are directed in a certain way -- specifically, receiver
> normals point in the direction of the sampled hemisphere, and source
> normals point *away* from the hemisphere we want to sample.
>
> Though this may seem counter-intuitive, it follows naturally from the
> typical orientation of windows in Radiance, whose normals face the
> interior.  When the windows are acting as the receivers in a matrix
> calculation, such as for a view or illuminance value matrix, their normal
> is looking towards the interior hemisphere being sampled.  When their role
> changes to make them the source surfaces, as when you calculate the
> exterior daylight matrix, they are still facing the correct direction to
> have their opposite-side hemisphere send out samples to the exterior.
>
> In this way, rfluxmtx allows you to re-use your receiver description in
> one run as the source description in another run.
>
> I'm hoping this makes sense, because I mention it in the man page, but
> it's not quite obvious and I did it the wrong way around the last time I
> used the tools, myself(!)
>
> Best,
> -Greg
>
> rfluxmtx.pdf
> <http://www.radiance-online.org/learning/documentation/manual-pages/pdfs/rfluxmtx.pdf/at_download/file>
>
> *From: *"Gregory J. Ward" <gregoryjward at gmail.com>
>
> *Subject: *Re: [Radiance-general] Radiance 5.0 installation on ubuntu
> 14.04
>
> *Date: *March 18, 2016 4:40:09 PM PDT
>
>
> Hi Humberto,
>
> The rfluxmtx command takes over for genklemsamp and calls rcontrib with
> the options needed for correct operation.  You don't need to specify the
> bin or the .cal file(s), as rfluxmtx takes care of that part.  You do need
> to set both the "u=Z" (or whatever) up-direction and the desired
> hemispherical sampling type (e.g., "h=r4") in your Radiance scene
> description handed to rfluxmtx as the source or receiver(s).
>
> The reinhartb.cal file is more general than the original reinhart.cal
> file, and uses slightly different mechanisms (hence the need for a new
> name).
>
> I hope this helps, and thanks to everyone for pitching in.  I realize that
> the changes made post-tutorial have caused a good deal of confusion, but we
> hope to get it all sorted out in the end.
>
> Cheers,
> -Greg
>
> *From: *Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>
> *Subject: *Re: [Radiance-general] Radiance 5.0 installation on ubuntu
> 14.04
>
> *Date: *March 18, 2016 2:49:55 PM PDT
>
>
> Hello again everybody,
>
> I have a question related to the command rfluxmtx.
> While using rcontrib to generate the view matrix we had to set the window
> orientation with the command -b kbinS or (N,E or W), how do we do that in
> the rfluxmtx? Is it set by the "u" variable or it is not needed to do this
> with the rfluxmtx command?
>
> Also, as reinhart.cal file been replaced for the reinhartb.cal?
>
> Best regards
> Humberto A.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160319/88ea9c35/attachment.html>

From gregoryjward at gmail.com  Sat Mar 19 09:18:26 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 19 Mar 2016 09:18:26 -0700
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR6eApeFmZDQAffNVuYMhQtWonnKsmosqM4zN1dLB=KG-g@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
	<5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
	<A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>
	<CA+fuGR6eApeFmZDQAffNVuYMhQtWonnKsmosqM4zN1dLB=KG-g@mail.gmail.com>
Message-ID: <F78EB5F9-3C96-475E-AAF4-086C0642999B@lmi.net>

Hi Humberto,

It does help to know a little context about your model.  Yes, using "u=Z" for vertical windows in any orientation and "u=Y" for the sky or skylights is the standard approach.  This is in fact the default behavior in rfluxmtx if no up-direction is specified, but it's best to be explicit about it.  The "u=Y" for horizontal relates to the standard choice of Y for "north" in gensky and gendaylit.  You can of course rotate the sky during your dctimestep phase, and this is much faster than rotating your surface orientations and re-running rfluxmtx.

In other words, I recommend running rfluxmtx once for the interior illuminances and their relation to your inward-facing window.  Then, you will run it again to connect the still inward-facing window polygon as a source this time and its flux relationship to the ground and sky hemisphere.  This brings up another important point, which is how best to specify the ground+sky in rfluxmtx.  I discussed this durning my 2014 Workshop presentation on new Radiance features:

	Radiance Code Update 2014  http://www.radiance-online.org/community/workshops/2014-london/presentations/day1/Ward_WhatIsNew.pdf

The discussion of rfluxmtx starts at slide 38.  Pay special attention to the example on slide 42, where I show how to combine a uniform ground hemisphere with a Reinhart sky description.

Once you have your two flux matrices, you will pipe the output of gensky or (more likely) gendaylit to xform -rz to rotate in the opposite direction of your model's rotation, then through genskyvec into dctimestep, where you will combine the matrices with the desired window glazing+shading BTDF to compute the irradiance values for your interior points.  Alternatively, you may run gendaymtx for a whole year, using its built-in -rz option rather than xform.

Cheers,
-Greg

> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
> Date: March 19, 2016 5:30:51 AM PDT
> 
> Thanks Greg, that definitely helped.
> 
> So we really need to be careful about the surface normal, if the objective is to get illuminance values on the work plane inside a room the normal of the window should face the interior, is that it?
> 
> There is just something i cant't understand, defining the up-direction, in the windows located in vertical surfaces the up-direction is allways "u=Z" no matter the orientation of the window, while in the ground or sky surface in the daylight matrix receiver file up-direction is "u=Y", right?
> 
> It may be import to say that my model is a simple office room with only a window, a lot like Axel's model on the rcontrib lesson, and i will have to analyse the illuminance at the work plane for the four different orientations of the window with different control parameters for the shading device applied to that same window.
> 
> Best regards
> Humberto A.
> 
> 
> 2016-03-18 23:50 GMT+00:00 Greg Ward <gregoryjward at gmail.com>:
> Oh, but I did neglect to mention a critical point, which is that rfluxmtx figures out the hemisphere orientation(s) from the surface or surfaces you specify in your source and receiver files.  So, it's very important that surface normals are directed in a certain way -- specifically, receiver normals point in the direction of the sampled hemisphere, and source normals point *away* from the hemisphere we want to sample.
> 
> Though this may seem counter-intuitive, it follows naturally from the typical orientation of windows in Radiance, whose normals face the interior.  When the windows are acting as the receivers in a matrix calculation, such as for a view or illuminance value matrix, their normal is looking towards the interior hemisphere being sampled.  When their role changes to make them the source surfaces, as when you calculate the exterior daylight matrix, they are still facing the correct direction to have their opposite-side hemisphere send out samples to the exterior.
> 
> In this way, rfluxmtx allows you to re-use your receiver description in one run as the source description in another run.
> 
> I'm hoping this makes sense, because I mention it in the man page, but it's not quite obvious and I did it the wrong way around the last time I used the tools, myself(!)
> 
> Best,
> -Greg
> 
> rfluxmtx.pdf
> 
>> From: "Gregory J. Ward" <gregoryjward at gmail.com>
>> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
>> Date: March 18, 2016 4:40:09 PM PDT
>> 
>> Hi Humberto,
>> 
>> The rfluxmtx command takes over for genklemsamp and calls rcontrib with the options needed for correct operation.  You don't need to specify the bin or the .cal file(s), as rfluxmtx takes care of that part.  You do need to set both the "u=Z" (or whatever) up-direction and the desired hemispherical sampling type (e.g., "h=r4") in your Radiance scene description handed to rfluxmtx as the source or receiver(s).
>> 
>> The reinhartb.cal file is more general than the original reinhart.cal file, and uses slightly different mechanisms (hence the need for a new name).
>> 
>> I hope this helps, and thanks to everyone for pitching in.  I realize that the changes made post-tutorial have caused a good deal of confusion, but we hope to get it all sorted out in the end.
>> 
>> Cheers,
>> -Greg
>> 
>>> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>>> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
>>> Date: March 18, 2016 2:49:55 PM PDT
>>> 
>>> Hello again everybody,
>>> 
>>> I have a question related to the command rfluxmtx.
>>> While using rcontrib to generate the view matrix we had to set the window orientation with the command -b kbinS or (N,E or W), how do we do that in the rfluxmtx? Is it set by the "u" variable or it is not needed to do this with the rfluxmtx command?
>>> 
>>> Also, as reinhart.cal file been replaced for the reinhartb.cal?
>>> 
>>> Best regards
>>> Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160319/c942c62d/attachment-0001.html>

From hs.antunes at campus.fct.unl.pt  Sat Mar 19 13:47:06 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Sat, 19 Mar 2016 20:47:06 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <F78EB5F9-3C96-475E-AAF4-086C0642999B@lmi.net>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
	<5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
	<A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>
	<CA+fuGR6eApeFmZDQAffNVuYMhQtWonnKsmosqM4zN1dLB=KG-g@mail.gmail.com>
	<F78EB5F9-3C96-475E-AAF4-086C0642999B@lmi.net>
Message-ID: <CA+fuGR6gcsL_VPF-3awAc33L11JnJK+KfjqWsF5KKv1JzL0tWw@mail.gmail.com>

Ok I get it now, you can't imagine how helpful all that info had been.

I had been running some tests and i saw something that is quite strange,
when i am creating my view matrix i use the following command "rfluxmtx -I+
-ab 12 -ad 50000 -lw 2e-5 -y 6 - < data/photocells.pts objects/window.rad
materials/testroom.mat objects/testroom.rad > results/photocells.vmx", if I
run the this command several times the output is always different, without
changing anything in the files or in the command, and this ends up creating
different work plane illuminances, do you have any idea on what is causing
this to happen?

Best regards
Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160319/651533af/attachment.html>

From alireh at uw.edu  Sat Mar 19 16:40:12 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sat, 19 Mar 2016 16:40:12 -0700
Subject: [Radiance-general] Radiance 5 Installation on Mac and RAYPATH
	properties
Message-ID: <CADjcregUk_Zd9zDUxBdqL0GirCRO18yzZuG9JpNeJNPpE-0TdA@mail.gmail.com>

Hello,

I am migrating from Windows to Mac in order to be able to complete the Five
Phase Method Tutorial. I have never used the command line on Mac before. So
my questions are basic. I was wondering if you could help me with the
following questions through a step-by-step instruction if possible:

OS X Yosemite (10.10.2)

1- How can I uninstall an existing Radiance installation on Mac properly?
2- How should I install Radiance on Mac?
3- How can I access my PATH and RAYPATH properties on Mac and make
necessary adjustments for proper use of Radiance in the command line
(Terminal)?

Thank you,
Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160319/2d56c00d/attachment.html>

From tbleicher at gmail.com  Sat Mar 19 17:35:31 2016
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Sat, 19 Mar 2016 19:35:31 -0500
Subject: [Radiance-general] Radiance 5 Installation on Mac and RAYPATH
	properties
In-Reply-To: <CADjcregUk_Zd9zDUxBdqL0GirCRO18yzZuG9JpNeJNPpE-0TdA@mail.gmail.com>
References: <CADjcregUk_Zd9zDUxBdqL0GirCRO18yzZuG9JpNeJNPpE-0TdA@mail.gmail.com>
Message-ID: <CAKGV-k3Jk9GkY8dnw0Txke_6xedMUZGhOLTpxPBm-a1CpAdquw@mail.gmail.com>

Hi Alireza.

Welcome to the fan club! My answers are below inline.

On Sat, Mar 19, 2016 at 6:40 PM, Alireza Hashemloo <alireh at uw.edu> wrote:

> Hello,
>
> I am migrating from Windows to Mac in order to be able to complete the
> Five Phase Method Tutorial. I have never used the command line on Mac
> before. So my questions are basic. I was wondering if you could help me
> with the following questions through a step-by-step instruction if possible:
>
> OS X Yosemite (10.10.2)
>
> 1- How can I uninstall an existing Radiance installation on Mac properly?
>

That depends on how and where it was installed before. If you have a
dedicated folder like /opt/Radiance you can just delete the whole folder.
If your binaries are mixed in with others in /usr/local/bin you have to
check each file against the list of Radiance binaries and remove it.
Support files should be in /usr/local/lib/ray so that's easy to remove.

In general you don't need to worry about an old installation. The new
binaries will just replaced the old ones when installed in the same
location. If you pick a new location you just have to make sure that this
shows up first in your PATH environment variable.


> 2- How should I install Radiance on Mac?
>

You can download the binaries provided by NREL on github:
https://github.com/NREL/Radiance/releases

I hope these include all tools required for the 5 phase method. Otherwise
you might have to download Xcode and compile yourself.


> 3- How can I access my PATH and RAYPATH properties on Mac and make
> necessary adjustments for proper use of Radiance in the command line
> (Terminal)?
>

If you want to add a new directory to PATH just create a new file in
/etc/paths.d/ with the path of the new directory.

Example:

file name: /etc/paths.d/Radiance
file content: /usr/local/Radiance/bin

Unfortunately, Apple keeps messing with the way how other environment
variables are set  so the 'traditional' way via plist files does not work
in 10.10/Yosemite any more. If you want to set RAYPATH on Yosemite you can
find a solution here:

http://www.jochenhebbrecht.be/site/2015-04-14/mac/os-x-1010-yosemite-and-environment-variables

I don't have RAYPATH set in my environment and never had a problem with
that. Some of the 5-phase tools may require it, though.

Regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160319/af258839/attachment.html>

From koji_takemasa at me.com  Sat Mar 19 17:55:51 2016
From: koji_takemasa at me.com (=?iso-2022-jp?B?GyRCSXBALzknPCMbKEI=?=)
Date: Sun, 20 Mar 2016 09:55:51 +0900
Subject: [Radiance-general] Radiance 5 Installation on Mac and RAYPATH
 properties
In-Reply-To: <CAKGV-k3Jk9GkY8dnw0Txke_6xedMUZGhOLTpxPBm-a1CpAdquw@mail.gmail.com>
References: <CADjcregUk_Zd9zDUxBdqL0GirCRO18yzZuG9JpNeJNPpE-0TdA@mail.gmail.com>
	<CAKGV-k3Jk9GkY8dnw0Txke_6xedMUZGhOLTpxPBm-a1CpAdquw@mail.gmail.com>
Message-ID: <459D36AB-C91D-488F-9DA4-701AF3DAE307@me.com>

Hi

I am also using the Radiance on OSX. When you use, xquarz when you build is required.

Best.

Koji Takemasa

--
Name : Koji Takemasa ( Ph.D )
Mail : koji_takemasa at me.com
Web : http://www.lead-labo.jo/
---

2016/03/20 9:35?Thomas Bleicher <tbleicher at gmail.com> ??????:

> Hi Alireza.
> 
> Welcome to the fan club! My answers are below inline.
> 
>> On Sat, Mar 19, 2016 at 6:40 PM, Alireza Hashemloo <alireh at uw.edu> wrote:
>> Hello,
>> 
>> I am migrating from Windows to Mac in order to be able to complete the Five Phase Method Tutorial. I have never used the command line on Mac before. So my questions are basic. I was wondering if you could help me with the following questions through a step-by-step instruction if possible:
>> 
>> OS X Yosemite (10.10.2)
>> 
>> 1- How can I uninstall an existing Radiance installation on Mac properly?
> 
> That depends on how and where it was installed before. If you have a dedicated folder like /opt/Radiance you can just delete the whole folder. If your binaries are mixed in with others in /usr/local/bin you have to check each file against the list of Radiance binaries and remove it. Support files should be in /usr/local/lib/ray so that's easy to remove.
> 
> In general you don't need to worry about an old installation. The new binaries will just replaced the old ones when installed in the same location. If you pick a new location you just have to make sure that this shows up first in your PATH environment variable.
>  
>> 2- How should I install Radiance on Mac?
> 
> You can download the binaries provided by NREL on github: https://github.com/NREL/Radiance/releases
> 
> I hope these include all tools required for the 5 phase method. Otherwise you might have to download Xcode and compile yourself.  
>  
>> 3- How can I access my PATH and RAYPATH properties on Mac and make necessary adjustments for proper use of Radiance in the command line (Terminal)?
> 
> If you want to add a new directory to PATH just create a new file in /etc/paths.d/ with the path of the new directory.
> 
> Example:
> 
> file name: /etc/paths.d/Radiance
> file content: /usr/local/Radiance/bin
> 
> Unfortunately, Apple keeps messing with the way how other environment variables are set  so the 'traditional' way via plist files does not work in 10.10/Yosemite any more. If you want to set RAYPATH on Yosemite you can find a solution here:
> 
> http://www.jochenhebbrecht.be/site/2015-04-14/mac/os-x-1010-yosemite-and-environment-variables
> 
> I don't have RAYPATH set in my environment and never had a problem with that. Some of the 5-phase tools may require it, though.
> 
> Regards,
> Thomas
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/478e0e94/attachment-0001.html>

From gregoryjward at gmail.com  Sat Mar 19 18:30:47 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 19 Mar 2016 18:30:47 -0700
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR6gcsL_VPF-3awAc33L11JnJK+KfjqWsF5KKv1JzL0tWw@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
	<5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
	<A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>
	<CA+fuGR6eApeFmZDQAffNVuYMhQtWonnKsmosqM4zN1dLB=KG-g@mail.gmail.com>
	<F78EB5F9-3C96-475E-AAF4-086C0642999B@lmi.net>
	<CA+fuGR6gcsL_VPF-3awAc33L11JnJK+KfjqWsF5KKv1JzL0tWw@mail.gmail.com>
Message-ID: <78D1CADB-2BF0-4B51-99BE-785A0AB13C85@lmi.net>

Well, Radiance is a Monte Carlo simulation, which by default initializes to a new point each time.  You can average together your results for greater accuracy, but how much difference are you seeing?

Cheers,
-Greg

> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
> Date: March 19, 2016 1:47:06 PM PDT
> 
> Ok I get it now, you can't imagine how helpful all that info had been.
> 
> I had been running some tests and i saw something that is quite strange, when i am creating my view matrix i use the following command "rfluxmtx -I+ -ab 12 -ad 50000 -lw 2e-5 -y 6 - < data/photocells.pts objects/window.rad materials/testroom.mat objects/testroom.rad > results/photocells.vmx", if I run the this command several times the output is always different, without changing anything in the files or in the command, and this ends up creating different work plane illuminances, do you have any idea on what is causing this to happen?
> 
> Best regards
> Humberto A.
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160319/bb0cf885/attachment.html>

From rob.guglielmetti at gmail.com  Sat Mar 19 20:22:50 2016
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Sat, 19 Mar 2016 21:22:50 -0600
Subject: [Radiance-general] Radiance 5 Installation on Mac and RAYPATH
	properties
In-Reply-To: <CAKGV-k3Jk9GkY8dnw0Txke_6xedMUZGhOLTpxPBm-a1CpAdquw@mail.gmail.com>
References: <CADjcregUk_Zd9zDUxBdqL0GirCRO18yzZuG9JpNeJNPpE-0TdA@mail.gmail.com>
	<CAKGV-k3Jk9GkY8dnw0Txke_6xedMUZGhOLTpxPBm-a1CpAdquw@mail.gmail.com>
Message-ID: <A39BCBCD-3CDC-4AC0-B862-8977EAB61DE4@gmail.com>


> On Mar 19, 2016, at 6:35 PM, Thomas Bleicher <tbleicher at gmail.com> wrote:
> 
> 2- How should I install Radiance on Mac?
> 
> You can download the binaries provided by NREL on github: https://github.com/NREL/Radiance/releases
> 
> I hope these include all tools required for the 5 phase method. Otherwise you might have to download Xcode and compile yourself.  


They do. =) 

The latest Radiance package NREL posted (5.0.a.8) is based on the HEAD as of Feb 9, 2016. HEAD snapshot here:

https://github.com/NREL/Radiance/tree/5.0.a.8

?and packages based on it can be found here:

https://github.com/NREL/Radiance/releases/tag/5.0.a.8




From kalyanam at rhrk.uni-kl.de  Sat Mar 19 20:29:26 2016
From: kalyanam at rhrk.uni-kl.de (Raghuram Kalyanam)
Date: Sun, 20 Mar 2016 14:29:26 +1100
Subject: [Radiance-general] Radiance 5 Installation on Mac and RAYPATH
	properties
In-Reply-To: <CADjcregUk_Zd9zDUxBdqL0GirCRO18yzZuG9JpNeJNPpE-0TdA@mail.gmail.com>
References: <CADjcregUk_Zd9zDUxBdqL0GirCRO18yzZuG9JpNeJNPpE-0TdA@mail.gmail.com>
Message-ID: <918F4A40-40B9-4AA4-8F12-6C4CFEB7B449@rhrk.uni-kl.de>

Hi Alireza,

When I was new to Mac, I had similar questions. I wouldn't say mine is a perfect answer but this what I did. I installed Radiance in my Applications folder, implies my bin, lib folders are here. I have several versions of Radiance installed , if I want to use a particular version of Radiance I just change the Path and Raypath in the .bash_profile file in the home folder. Add the bin path of radiance at the end of already existing PATH variable and Create a RAYPATH similarly and add lib folder path there. Mac Terminal is similar to any Linux terminal and I find it better than the later.

Once the Paths were added you need to refresh the .bash_profile file by logout and login or executing( $ .  .bash_profile ) from home folder.

Installing is similar to that of Linux, instructions are provided on Git readme page. Let me know if you have more questions. Others please feel free to correct me.

Best Regards,
Raghu

> On Mar 20, 2016, at 10:40 AM, Alireza Hashemloo <alireh at uw.edu> wrote:
> 
> Hello,
> 
> I am migrating from Windows to Mac in order to be able to complete the Five Phase Method Tutorial. I have never used the command line on Mac before. So my questions are basic. I was wondering if you could help me with the following questions through a step-by-step instruction if possible:
> 
> OS X Yosemite (10.10.2)
> 
> 1- How can I uninstall an existing Radiance installation on Mac properly?
> 2- How should I install Radiance on Mac?
> 3- How can I access my PATH and RAYPATH properties on Mac and make necessary adjustments for proper use of Radiance in the command line (Terminal)?
> 
> Thank you,
> Alireza
> 
> 
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general


From urtza.uriarte at upc.edu  Sun Mar 20 06:03:57 2016
From: urtza.uriarte at upc.edu (Urtza Uriarte)
Date: Sun, 20 Mar 2016 14:03:57 +0100
Subject: [Radiance-general] RV: Re:  sudo recontrib
In-Reply-To: <6p85si7sfx2c6o53m4may1p8.1458406448724@email.android.com>
References: <6p85si7sfx2c6o53m4may1p8.1458406448724@email.android.com>
Message-ID: <d0b2hgbclxpyw9wu2oca8k4n.1458479037578@email.android.com>



Enviado desde mi smartphone Sony Xperia?

---- Mensaje original ----
Asunto: RV: Re: [Radiance-general] sudo recontrib
Fecha de env?o: 19/03/2016 17:54
De: Urtza Uriarte <urtza.uriarte at upc.edu>
Para: Radiance general discussion <radiance-general at radiance-online.org>
CC: 



Enviado desde mi smartphone Sony Xperia?

From urtza.uriarte at upc.edu  Sun Mar 20 06:42:15 2016
From: urtza.uriarte at upc.edu (Urtza Uriarte)
Date: Sun, 20 Mar 2016 14:42:15 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
Message-ID: <f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>

Dear Andy, 
Thank you very much for all suggestions. 
I will try to follow your indications. 
Best regards, 
Urtza. 



Enviado desde mi smartphone Sony Xperia?

---- Andy McNeil escribi? ----

>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/8e451eb5/attachment-0001.html>

From alireh at uw.edu  Sun Mar 20 13:54:42 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sun, 20 Mar 2016 13:54:42 -0700
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in
 generating direct sun coefficient matrix
In-Reply-To: <F33D837C-EA62-4D9B-8165-82C71CBFEC75@gmail.com>
References: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
	<A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>
	<D302F70E.23548%Robert.Guglielmetti@nrel.gov>
	<CADjcregM2CA0Opj9qc=sm-7j82vCt-zqV+a7hP+SLd74PJ5Neg@mail.gmail.com>
	<F33D837C-EA62-4D9B-8165-82C71CBFEC75@gmail.com>
Message-ID: <CADjcregb3R_vZD3_O7d-BxNuymY4AMdkRrFSnkRWNpN-BNev1g@mail.gmail.com>

Andy,

Thank you for your response. I have migrated to Mac in order to complete
this step of the Five phase method tutorial.
I have pursued the tutorial with the exact scene descriptions and
simulation settings.
I have encountered the following warning/error as follows:

after increasing the limit on the open files in Terminal via the "ulimit -n
9999" command, I have called the following command as shown in the tutorial:

Five-phase Method Tutoiral | Example 2 - Rendering | Direct Sun Coefficient
Matrix (page 19) :

command:

$ vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | \
rtrace -h- -opn -faa -ab 0 octs/model_nosuns.oct | \
rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n $procs -fac -fo \
-o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m
solar \
-c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct

Warnings:

rcontrib: warning - BSDF "bsdf/fullwindow_t45" has 169.4 % front reflection
rcontrib: warning - BSDF "bsdf/fullwindow_t45" has 218.8% rear reflection


Error Description:

Although the given rcontrib warnings do not terminate the command call, it
does not appear to me that any progress is made leaving the command running
for over 24 hours.


Question:

1- What would be the reason for the tensor-tree BSDF file
(fullwindow_t45.xml) generated in the previous steps of the tutorial  to
have over 100% reflection as shown in the rcontrib warnings?
2- How can I remedy this problem in this stage of the tutorial to generate
the 5185 direct sun coefficient images?

Best Regards,
Alireza


On Wed, Mar 9, 2016 at 7:25 AM, Andy McNeil <mcneil.andrew at gmail.com> wrote:

> Alireza,
>
> This behavior is consistent with running up against limitations on open
> files. I don't know how to change the limit on Windows, but found this:
>
> http://stackoverflow.com/questions/870173/is-there-a-limit-on-number-of-open-files-in-windows
>
> Andy
>
>
> On Mar 9, 2016, at 12:53 AM, Alireza Hashemloo <alireh at uw.edu> wrote:
>
> Hi Greg and Rob,
>
> Thank you for your responses:
>
> - It does not appear that the single back quotes are the source of the
> problem as I tested the command following your recommendation without
> passing the `vwrays -vf views/view_A.vf -x 600 -y 600 -d` to "rcontrib" and
> the rtrace "invalid argument" error still appears.
>
> - I have tested the approach to split the command into two parts as you
> had suggested:
>
> part 1:   vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace
> -h -opN -fa -ab 0 model_nosuns.oct > points.txt
> part 2:   rcontrib -x 600 -y 600 -fac -fo -o viewpics_ds/back_%04d.hdr -e
> MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt
> 0 -dc 1 -lw 1e-2 model_suns.oct < points.txt
>
> the part 1 appears to work properly considering that a "points.txt" file
> is generated. The part 2, however, does not appear to work: although I do
> not receive any error messages on my command line, the rcontrib call is
> completed immediately after it is run and 508 hdr images are generated in
> the given directory. However, each .hdr file is only 1 KB and the attempt
> to opening any of them is failed. It does not appear that the files have
> actually been written successfully.
>
> In addition, could you elaborate about your suggestion to  *" Replace the
> "-x 600 -y 600" with the output of "vwrays -vf views/view_A.vf -x 600 -y
> 600 -d*" " in part 2 of the command?
> Finally,  I was wondering where the definition for the "solar" modifier as
> the target light source passed to the 'rcontrib' call (-m solar) is made in
> the previous steps of the tutorial?
>
> Thank you for your help.
> Best Regards,
>
> Alireza
>
>
>
>
>
>
>
> On Mon, Mar 7, 2016 at 8:17 AM, Guglielmetti, Robert <
> Robert.Guglielmetti at nrel.gov> wrote:
>
>> On 3/6/16, 9:53 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:
>> gregoryjward at gmail.com>> wrote:
>>
>> I do not think you can have multiple processes under Windows using
>> rcontrib, no matter which shell you use, so -n 1 (the default) is all you
>> get.
>>
>>
>> That is true; rcontrib on Windows will silently ignore -n settings > 1.
>> On OpenStudio, you will get a heads up about this.
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/d8368fa2/attachment.html>

From hs.antunes at campus.fct.unl.pt  Sun Mar 20 14:30:23 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Sun, 20 Mar 2016 21:30:23 +0000
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
Message-ID: <CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>

Hi Urtza and Andy,

I am having the same issue as you do Urtza, I have already checked the
headers of my view matrix, daylight matrix and sky matrix, and that doesn't
seem to be the problem, my view matrix is a 6X145, the daylight matrix a
145X2306, and finally, the sky matrix is a 2306X8760, and this info is on
the headers of each.

I think the problem is in the sky matrix file itself, it's not being
properly written.

Mine looks like this:
#?RADIANCE
gendaymtx -m 4 weather/lisboa.wea
LATLONG= 38.73000000 -9.15000000
NROWS=2306
NCOLS=8760
NCOMP=3
FORMAT=ascii

0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0.477 0.477 0.477
1.85 1.85 1.85
4.85 4.85 4.85
11.6 11.6 11.6
10.5 10.5 10.5
...


So it doesn't have the number of columns it should, i think that each row
has the RGB value for one patch of one time step and it should have the RGB
values for all time steps of one patch, is that it?

Best regards
Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/bebe6d32/attachment.html>

From hs.antunes at campus.fct.unl.pt  Sun Mar 20 14:36:12 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Sun, 20 Mar 2016 21:36:12 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <78D1CADB-2BF0-4B51-99BE-785A0AB13C85@lmi.net>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
	<5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
	<A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>
	<CA+fuGR6eApeFmZDQAffNVuYMhQtWonnKsmosqM4zN1dLB=KG-g@mail.gmail.com>
	<F78EB5F9-3C96-475E-AAF4-086C0642999B@lmi.net>
	<CA+fuGR6gcsL_VPF-3awAc33L11JnJK+KfjqWsF5KKv1JzL0tWw@mail.gmail.com>
	<78D1CADB-2BF0-4B51-99BE-785A0AB13C85@lmi.net>
Message-ID: <CA+fuGR4w5c5vckUo_ZoTqaSOOUtk3Eb_RpOCOgtp5t+y6TmJOA@mail.gmail.com>

I analyzed the data more carefully and the difference is not that big, I'm
going to follow your advice and I'm going to create a script to run the
simulation N times until the average of the final value starts to converge,
this way i think I will get a very accurate value, do you think this is a
good idea?

Best regards
Humberto A.

2016-03-20 1:30 GMT+00:00 Greg Ward <gregoryjward at gmail.com>:

> Well, Radiance is a Monte Carlo simulation, which by default initializes
> to a new point each time.  You can average together your results for
> greater accuracy, but how much difference are you seeing?
>
> Cheers,
> -Greg
>
> *From: *Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>
> *Subject: *Re: [Radiance-general] Radiance 5.0 installation on ubuntu
> 14.04
>
> *Date: *March 19, 2016 1:47:06 PM PDT
>
>
> Ok I get it now, you can't imagine how helpful all that info had been.
>
> I had been running some tests and i saw something that is quite strange,
> when i am creating my view matrix i use the following command "rfluxmtx -I+
> -ab 12 -ad 50000 -lw 2e-5 -y 6 - < data/photocells.pts objects/window.rad
> materials/testroom.mat objects/testroom.rad > results/photocells.vmx", if I
> run the this command several times the output is always different, without
> changing anything in the files or in the command, and this ends up creating
> different work plane illuminances, do you have any idea on what is causing
> this to happen?
>
> Best regards
> Humberto A.
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/50c74250/attachment-0001.html>

From hs.antunes at campus.fct.unl.pt  Sun Mar 20 14:38:46 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Sun, 20 Mar 2016 21:38:46 +0000
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
Message-ID: <CA+fuGR5y_ryj_EyFkhpO6J_oS_gjHQPfYp2tWYcnMTOAepH=0Q@mail.gmail.com>

Hi Urtza and Andy,

I am having the same issue as you do Urtza, I have already checked the
headers of my view matrix, daylight matrix and sky matrix, and that doesn't
seem to be the problem, my view matrix is a 6X145, the daylight matrix a
145X2306, and finally, the sky matrix is a 2306X8760, and this info is on
the headers of each.

I think the problem is in the sky matrix file itself, it's not being
properly written.

Mine looks like this:
#?RADIANCE
gendaymtx -m 4 weather/lisboa.wea
LATLONG= 38.73000000 -9.15000000
NROWS=2306
NCOLS=8760
NCOMP=3
FORMAT=ascii

0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0.477 0.477 0.477
1.85 1.85 1.85
4.85 4.85 4.85
11.6 11.6 11.6
10.5 10.5 10.5
...


So it doesn't have the number of columns it should, i think that each row
has the RGB value for one patch of one time step and it should have the RGB
values for all time steps of one patch, is that it?

Best regards
Humberto A.

2016-03-20 13:42 GMT+00:00 Urtza Uriarte <urtza.uriarte at upc.edu>:

> Dear Andy,
> Thank you very much for all suggestions.
> I will try to follow your indications.
> Best regards,
> Urtza.
>
>
>
> Enviado desde mi smartphone Sony Xperia?
>
> ---- Andy McNeil escribi? ----
>
>
> Hi Urtza,
>
> glad your materials are finally working.
> The most common cause of the error you are receiving is not having the
> number of rows in your view matrix. You can use getinfo to look at the
> header of your view matrix like this:
> getinfo photocells.vmx
>
> is there a line starting with NROWS=
>
> If not, then you can use a text editor to add NROWS=10 (replace 10 with
> your number of sensor points). This can be added in the rcontrib command
> by adding -y 10
>
> This is one of the many changes in radiance that makes the three phase
> tutorial outdated. Sorry.
>
> Andy
>
>
>
>
>
> On Fri, Mar 18, 2016 at 4:56 AM, <urtza.uriarte at upc.edu> wrote:
>
>> Dear Andy,
>>
>> Thank you very much. Lars's and yours permission suggestions have helped
>> me.
>> I checked the directories by ls -l :
>> Every files have "-rwxrwxrwx 1 root root" permission description except
>> GenericTranslucent20.dat and rang.cal files; "-rwx------ 1 root root.
>> I changed the permission by "sudo chmod 777 file" and now the two files
>> have the same permission as others.
>> (plugins and /usr/local/bin/radiance and /usr/local/bin/radiance have
>> "drwxrwxrwx 3 root root" description)
>>
>> I have launched and now it works. Thanks.
>> (Note that, I put this two files in my folder with padlock and then I run
>> with sudo and it works but with rcontrib no. Now, it seems that I put
>> everything ok and I do not need to do that, which could be not good)
>>
>>
>>
>> Regarding dctimestep, I remove -n 8760 parameter but it seems that I have
>> problems with Sky Matrix. The steps have been these:
>>
>> epw2wea ESP_Barcelona.081810_IWEC.epw Barcelona.wea
>> place BARCELONA_ESP
>> latitude 41.28
>> longitude -2.07
>> time_zone -15.00
>> site_elevation 6.0
>> weather_data_file_units 1
>>
>>
>> gendaymtx -m 4 Barcelona.wea > Barcelona.smx
>>
>>
>> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx
>> Barcelona.smx > illum.dat
>> fatal - unexpected EOF reading Barcelona.smx
>>
>>
>> I would be very grateful if you could find the problem. Thank you very
>> much in advance.
>> Best regards,
>> Urtza.
>>
>>
>>
>> Andy McNeil <mcneil.andrew at gmail.com> escribi?:
>>
>> Hi Urtza,
>> I'm having trouble following what errors we're debugging. Are you okay
>> not using those materials, because with minimal effort you should be able
>> to fix it. If you look at the links Lars and I sent you can learn about
>> permissions and fix the padlock situation.
>> my comments are inline below.
>> Best,
>> Andy
>>
>> On Thu, Mar 17, 2016 at 2:23 AM, <urtza.uriarte at upc.edu> wrote:
>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *Dear Andy and Robert, Thanks for your suggestions. Therefore, on one
>>> hand, I have tried with; 1) echo $RAYPATH . : /usr/local/bin/radiance/lib
>>> 2) sudo echo $RAYPATH . : /usr/local/bin/radiance/lib (The outputs are the
>>> same)*
>>>
>> *Then I wonder why the files are found when you run with sudo but not
>> found without sudo. Or am I mis-understanding what is going on.*
>>
>>>
>>>
>>>
>>>
>>> *3) urtza at urtza-VirtualBox:/usr/local/bin/radiance/lib$ ls There appear
>>> all Radiance data files and GenericTranslucent20.dat and rang.cal as well
>>> (The programs are in urtza at urtza-VirtualBox:/usr/local/bin/radiance/bin$ ,
>>> and I think that I have to remove from "bin" directory
>>> GenericTranslucent20.dat and rang.cal, which appears there as well)*
>>>
>>
>> *this doesn't help, you need to use the -l (lowercase L) option with ls,
>> as I orginally suggested, to report the file and directory permissions. And
>> it would help if you did it for every directory in the path. like this:*
>>
>> *ls -l /usr/local/bin/radiance/bin*
>> *ls -l /usr/local/bin/radiance*
>> *ls -l /usr/local/bin/*
>> *ls -l /usr/local/bin/radiance/lib*
>>
>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *I do not know if I have problems with the installation, but I will not
>>> use sudo for user level commands. On the other hand, (I have changed that
>>> material for other one and I have launched dctimestep). The .xml file,
>>> which  they have lent for my PhD, is obtained by goniophotometer. 1) Ubuntu
>>> 14:*
>>> *dctimestep -n 8760 photocells.vmx Film3M_145x1297_9142012_t.xml
>>> southeast.dmx Barcelona.smx > illum.dat*
>>>
>>> *Usage: dctimestep DCspec [tregvec]*
>>> *   or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]*
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *2) Windows 8: dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml
>>> southeast.dmx Barcelona.smx > illum.dat fatal - unexpected column count in
>>> header I checked with others files that I got and this files seem similar. *
>>>
>>
>> *The tutorial is outdated. dctiemstep no longer accepts the -n 8760
>> option. This info is now contained in the matrix headers. run it again
>> without -n.*
>>
>>
>>
>>
>>>
>>>
>>>
>>>
>>>
>>> *Thank you very much in advance. Best regards for you, Urtza.  *
>>>
>>>
>>>
>>>
>>> *Andy McNeil <mcneil.andrew at gmail.com <mcneil.andrew at gmail.com>>
>>> escribi?:*
>>>
>>> *It could be that the directory is not in your RAYPATH, but it is in the
>>> RAYPATH for root. *
>>>
>>> *Try:*
>>> *echo $RAYPATH*
>>> *sudo echo $RAYPATH*
>>>
>>> *Are there any differences in the output?*
>>>
>>> *Also, it could be that your user doesn't have read permission in the
>>> directory containing the files. Try using ls -l on every directory in the
>>> path to find out (both lower case L). *
>>>
>>> *As a last resort, I'd copy the files to the working directory, change
>>> the owner, permissions, and add "." to RAYPATH. I agree with Lars that I'd
>>> never use sudo to run user level commands. *
>>>
>>> *Andy*
>>>
>>>
>>>
>>>
>>> *On Mar 16, 2016, at 4:23 AM, urtza.uriarte at upc.edu
>>> <urtza.uriarte at upc.edu> wrote:  *
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *Dear Andy, I have tried with;  sudo chmod 664 GenericTranslucent20.dat
>>> sudo chmod 664 rang.cal*
>>>
>>>
>>> *sudo chmod 644 GenericTranslucent20.dat sudo chmod 644 rang.cal*
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *sudo chmod 600 GenericTranslucent20.dat sudo chmod 600 rang.cal sudo
>>> chmod 700 GenericTranslucent20.dat sudo chmod 700 rang.cal and the padlock
>>> continues anyway (The files there are in /usr/local/bin/radiance/bin/ and
>>>  /usr/local/bin/radiance/lib/, as well). I have tried with rcontrib and it
>>> scripts this anyway:  *
>>> *rcontrib -f /usr/share/radiance/klems_int.cal -b
>>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
>>> 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells1.vmx*
>>>
>>>
>>>
>>>
>>>
>>>
>>> *rcontrib: fatal - cannot find data file "GenericTranslucent20.dat" I do
>>> not know what happen but I will continue finding an error (that padlock is
>>> very strange).  Thank you very much. Best regards, Urtza.*
>>>
>>>
>>>
>>>
>>> *urtza.uriarte at upc.edu <urtza.uriarte at upc.edu> escribi?:*
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *Dear Andy, Thank you very much for your instructions. I will try with
>>> them. Best regards, Urtza. Andy McNeil <mcneil.andrew at gmail.com
>>> <mcneil.andrew at gmail.com>> escribi?:*
>>>
>>> *Urtza,*
>>> *Here's some more information on file ownership and permissions for
>>> linux:*
>>> *http://linuxcommand.org/lc3_lts0090.php
>>> <http://linuxcommand.org/lc3_lts0090.php>*
>>> *Andy*
>>>
>>> *On Tue, Mar 15, 2016 at 11:23 AM, Andy McNeil <mcneil.andrew at gmail.com
>>> <mcneil.andrew at gmail.com>> wrote:*
>>>
>>>> *Urtza,*
>>>>
>>>> *You should open up permissions on those two files like so:*
>>>>
>>>> *sudo chmod 664 GenericTranslucent20.dat*
>>>> *sudo chmod 664 rang.cal*
>>>>
>>>> *This changes permissions to allow owner and group read/write and
>>>> everyone read.*
>>>> *(you need to be in the directory or give the full path to the file).*
>>>>
>>>> *Andy*
>>>>
>>>> *On Tue, Mar 15, 2016 at 9:19 AM, <urtza.uriarte at upc.edu
>>>> <urtza.uriarte at upc.edu>> wrote:*
>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> *Dear Lars, Thank you very much for your reply.  I tried with
>>>>> Five-Phase method earlier and all command worked. However, now I exported
>>>>> the model from Rhino and I have some materials that they need two specific
>>>>> files. I do not why they do not run without sudo, placing where there are
>>>>> others, as well (They keep always the padlock, I copy there from DIVA's
>>>>> files. They are not from radiance package previously installed). I use
>>>>> oconv, rtrace and rpict with sudo and they work without problem.
>>>>> Nervertheless, if using sudo is not good I remove those materials and I
>>>>> could use rcontrib without sudo.  Thank you for your suggestions. I read
>>>>> Axel Jacob's tutorials but rereading will be fine. Best regards for you,
>>>>> Urtza. "Lars O. Grobe" <grobe at gmx.net <grobe at gmx.net>> escribi?:*
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> *Dear Urtza, two comments on your installation - this should be solved
>>>>> before you even start using a complicated combination of commands such as
>>>>> the three-phase method. First, with a correct configuration of your system
>>>>> you will not need to run rcontrib as super-user (sudo). Your regular user
>>>>> account just needs read-access to the .dat and .cal files in this case, so
>>>>> why would you not grant the proper permissions? Second, as rcontrib is not
>>>>> found, what makes you think it is installed? Did you install Radiance from
>>>>> sources, did the build complete without errors, and did you include the
>>>>> directory containing the binaries in your PATH environment variable? Does
>>>>> any other Radiance command work for you? I would recommend having a look at
>>>>> Axel Jacob's set of tutorials first, including the unix-introduction.
>>>>> Otherwise you risk messing up a lot of your models with work-arounds, and
>>>>> even risk the integrity of your system by using sudo where it should
>>>>> definitively not be applied. Cheers, Lars.  *
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> *Dear experts, I am trying with Three-Phase Method for Simulating
>>>>> Complex Fenestration, following A McNeil tutorial. I am using Ubuntu 14 OS.
>>>>> I need use sudo command because I have GenericTranslucent20.dat material
>>>>> and rang.cal that they are locked anyway. However, when I have launched
>>>>> sudo rcontrib, it scripts that:  *
>>>>>
>>>>> *sudo rcontrib -f /usr/share/radiance/klems_int.cal -b
>>>>> 'kbin(-sqrt(.5),sqrt(.5),0,0,0,1)' -bn Nkbins -m windowglow -I+ -ab 2 -ad
>>>>> 512 -lw 2e-5 sc-vi3M_vmx.oct < sc-vi3M.pts > photocells.vmx*
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> *sudo: rcontrib: command not found Could someone say what the problem
>>>>> is? Thank you in advance. Best regards, Urtza.*
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> *_______________________________________________ Radiance-general
>>>>> mailing list Radiance-general at radiance-online.org
>>>>> <Radiance-general at radiance-online.org>
>>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>  *
>>>>
>>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *_______________________________________________ Radiance-general
>>> mailing list Radiance-general at radiance-online.org
>>> <Radiance-general at radiance-online.org>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>*
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *_______________________________________________ Radiance-general
>>> mailing list Radiance-general at radiance-online.org
>>> <Radiance-general at radiance-online.org>
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>*
>>>
>>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/4a55bf01/attachment-0001.html>

From gregoryjward at gmail.com  Sun Mar 20 14:47:23 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun, 20 Mar 2016 14:47:23 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
Message-ID: <8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>

Hi Humberto,

Actually, your header and ASCII data look OK.  Although some tools would put all the columns together in one humungous line with 8760x3, white space has no meaning here and gendaymtx output has a newline for each column entry with an extra empty line between rows.

If you run the "wc" command on your file,  you should get something like:

	20202873  60601692  xxxxxxxxxxx  lisboa.smx

I don't know what xxxxxxx will be, but some large number corresponding to the number of bytes in your file.  The first two values may not be exactly this, but should be reasonably close.  Otherwise, your file really is missing some data at the end.

If your numbers agree roughly with the above, please send me a gzip'ped copies of your lisboa.wea and the output (*.smx) file in a private e-mail and I will see if I can figure out what is going on.

Cheers,
-Greg

> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
> Subject: Re: [Radiance-general] sudo recontrib
> Date: March 20, 2016 2:30:23 PM PDT
> 
> Hi Urtza and Andy,
> 
> I am having the same issue as you do Urtza, I have already checked the headers of my view matrix, daylight matrix and sky matrix, and that doesn't seem to be the problem, my view matrix is a 6X145, the daylight matrix a 145X2306, and finally, the sky matrix is a 2306X8760, and this info is on the headers of each.
> 
> I think the problem is in the sky matrix file itself, it's not being properly written.
> 
> Mine looks like this:
> #?RADIANCE
> gendaymtx -m 4 weather/lisboa.wea
> LATLONG= 38.73000000 -9.15000000
> NROWS=2306
> NCOLS=8760
> NCOMP=3
> FORMAT=ascii
> 
> 0 0 0
> 0 0 0
> 0 0 0
> 0 0 0
> 0 0 0
> 0 0 0
> 0 0 0
> 0.477 0.477 0.477
> 1.85 1.85 1.85
> 4.85 4.85 4.85
> 11.6 11.6 11.6
> 10.5 10.5 10.5
> ...
> 
> 
> So it doesn't have the number of columns it should, i think that each row has the RGB value for one patch of one time step and it should have the RGB values for all time steps of one patch, is that it?
> 
> Best regards
> Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/0de8a5b7/attachment.html>

From gregoryjward at gmail.com  Sun Mar 20 14:57:57 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun, 20 Mar 2016 14:57:57 -0700
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <CA+fuGR4w5c5vckUo_ZoTqaSOOUtk3Eb_RpOCOgtp5t+y6TmJOA@mail.gmail.com>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
	<5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
	<A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>
	<CA+fuGR6eApeFmZDQAffNVuYMhQtWonnKsmosqM4zN1dLB=KG-g@mail.gmail.com>
	<F78EB5F9-3C96-475E-AAF4-086C0642999B@lmi.net>
	<CA+fuGR6gcsL_VPF-3awAc33L11JnJK+KfjqWsF5KKv1JzL0tWw@mail.gmail.com>
	<78D1CADB-2BF0-4B51-99BE-785A0AB13C85@lmi.net>
	<CA+fuGR4w5c5vckUo_ZoTqaSOOUtk3Eb_RpOCOgtp5t+y6TmJOA@mail.gmail.com>
Message-ID: <9C2E1733-A7ED-46F4-9CCC-3AD338155312@lmi.net>

You can achieve the same result as averaging output by repeating the points on your input and adding a corresponding -c N for rcontrib.

If you already have the matrices, though, you can average them using rmtxop.  Let's say you have 3 matrices, you can use:

	rmtxop -s .33333 res1.mtx + -s .33333 res2.mtx + -s .33333 res3.mtx > avg.mtx

Note that you would use a different scaling factor for more or fewer matrices.

Cheers,
-Greg

> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
> Date: March 20, 2016 2:36:12 PM PDT
> 
> I analyzed the data more carefully and the difference is not that big, I'm going to follow your advice and I'm going to create a script to run the simulation N times until the average of the final value starts to converge, this way i think I will get a very accurate value, do you think this is a good idea?
> 
> Best regards
> Humberto A.
> 
> 2016-03-20 1:30 GMT+00:00 Greg Ward <gregoryjward at gmail.com>:
> Well, Radiance is a Monte Carlo simulation, which by default initializes to a new point each time.  You can average together your results for greater accuracy, but how much difference are you seeing?
> 
> Cheers,
> -Greg
> 
>> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>> Subject: Re: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
>> Date: March 19, 2016 1:47:06 PM PDT
>> 
>> Ok I get it now, you can't imagine how helpful all that info had been.
>> 
>> I had been running some tests and i saw something that is quite strange, when i am creating my view matrix i use the following command "rfluxmtx -I+ -ab 12 -ad 50000 -lw 2e-5 -y 6 - < data/photocells.pts objects/window.rad materials/testroom.mat objects/testroom.rad > results/photocells.vmx", if I run the this command several times the output is always different, without changing anything in the files or in the command, and this ends up creating different work plane illuminances, do you have any idea on what is causing this to happen?
>> 
>> Best regards
>> Humberto A.
>> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/0520d300/attachment.html>

From gregoryjward at gmail.com  Sun Mar 20 15:12:48 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun, 20 Mar 2016 15:12:48 -0700
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in
	generating direct sun coefficient matrix
In-Reply-To: <CADjcregb3R_vZD3_O7d-BxNuymY4AMdkRrFSnkRWNpN-BNev1g@mail.gmail.com>
References: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
	<A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>
	<D302F70E.23548%Robert.Guglielmetti@nrel.gov>
	<CADjcregM2CA0Opj9qc=sm-7j82vCt-zqV+a7hP+SLd74PJ5Neg@mail.gmail.com>
	<F33D837C-EA62-4D9B-8165-82C71CBFEC75@gmail.com>
	<CADjcregb3R_vZD3_O7d-BxNuymY4AMdkRrFSnkRWNpN-BNev1g@mail.gmail.com>
Message-ID: <31BDEDCA-15A7-4890-A0B2-AAD5E5757992@lmi.net>

Hi Alireza,

Did you generate the XML files yourself?  The ones I downloaded via the current version of the 5-phase bash script don't report this warning, which I would say indicates a problem.  You can download the XML files using:

	curl -o bsdf/fullwindow_t45.xml http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/fullwindow_t45.xml
	curl -o bsdf/fullwindow.xml http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/fullwindow.xml

I can't speculate what is going wrong with your genBSDF command if you created these yourself, unless you send me the related input files.

Cheers,
-Greg

> From: Alireza Hashemloo <alireh at uw.edu>
> Subject: Re: [Radiance-general] Five-phase Method Tutorial: Errors in generating direct sun coefficient matrix
> Date: March 20, 2016 1:54:42 PM PDT
> 
> Andy,
> 
> Thank you for your response. I have migrated to Mac in order to complete this step of the Five phase method tutorial.
> I have pursued the tutorial with the exact scene descriptions and simulation settings.
> I have encountered the following warning/error as follows:
> 
> after increasing the limit on the open files in Terminal via the "ulimit -n 9999" command, I have called the following command as shown in the tutorial:
> 
> Five-phase Method Tutoiral | Example 2 - Rendering | Direct Sun Coefficient Matrix (page 19) :
> 
> command:
> 
> $ vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | \
> rtrace -h- -opn -faa -ab 0 octs/model_nosuns.oct | \
> rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n $procs -fac -fo \
> -o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar \
> -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct
> 
> Warnings:
> 
> rcontrib: warning - BSDF "bsdf/fullwindow_t45" has 169.4 % front reflection
> rcontrib: warning - BSDF "bsdf/fullwindow_t45" has 218.8% rear reflection
> 
> 
> Error Description:
> 
> Although the given rcontrib warnings do not terminate the command call, it does not appear to me that any progress is made leaving the command running for over 24 hours.
> 
> 
> Question:
> 
> 1- What would be the reason for the tensor-tree BSDF file (fullwindow_t45.xml) generated in the previous steps of the tutorial  to have over 100% reflection as shown in the rcontrib warnings?
> 2- How can I remedy this problem in this stage of the tutorial to generate the 5185 direct sun coefficient images?
> 
> Best Regards,
> Alireza
> 
> 
> On Wed, Mar 9, 2016 at 7:25 AM, Andy McNeil <mcneil.andrew at gmail.com> wrote:
> Alireza,
> 
> This behavior is consistent with running up against limitations on open files. I don't know how to change the limit on Windows, but found this:
> http://stackoverflow.com/questions/870173/is-there-a-limit-on-number-of-open-files-in-windows
> 
> Andy
> 
> 
> On Mar 9, 2016, at 12:53 AM, Alireza Hashemloo <alireh at uw.edu> wrote:
> 
>> Hi Greg and Rob,
>> 
>> Thank you for your responses:
>> 
>> - It does not appear that the single back quotes are the source of the problem as I tested the command following your recommendation without passing the `vwrays -vf views/view_A.vf -x 600 -y 600 -d` to "rcontrib" and the rtrace "invalid argument" error still appears.
>> 
>> - I have tested the approach to split the command into two parts as you had suggested:
>> 
>> part 1:   vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace -h -opN -fa -ab 0 model_nosuns.oct > points.txt
>> part 2:   rcontrib -x 600 -y 600 -fac -fo -o viewpics_ds/back_%04d.hdr -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 model_suns.oct < points.txt
>> 
>> the part 1 appears to work properly considering that a "points.txt" file is generated. The part 2, however, does not appear to work: although I do not receive any error messages on my command line, the rcontrib call is completed immediately after it is run and 508 hdr images are generated in the given directory. However, each .hdr file is only 1 KB and the attempt to opening any of them is failed. It does not appear that the files have actually been written successfully.
>> 
>> In addition, could you elaborate about your suggestion to  " Replace the "-x 600 -y 600" with the output of "vwrays -vf views/view_A.vf -x 600 -y 600 -d" " in part 2 of the command?
>> Finally,  I was wondering where the definition for the "solar" modifier as the target light source passed to the 'rcontrib' call (-m solar) is made in the previous steps of the tutorial?
>> 
>> Thank you for your help.
>> Best Regards,
>> 
>> Alireza
>> 
>> 
>> On Mon, Mar 7, 2016 at 8:17 AM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
>> On 3/6/16, 9:53 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>> 
>> I do not think you can have multiple processes under Windows using rcontrib, no matter which shell you use, so -n 1 (the default) is all you get.
>> 
>> 
>> That is true; rcontrib on Windows will silently ignore -n settings > 1.  On OpenStudio, you will get a heads up about this.
>> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/c12bcf73/attachment-0001.html>

From hs.antunes at campus.fct.unl.pt  Sun Mar 20 15:25:18 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Sun, 20 Mar 2016 22:25:18 +0000
Subject: [Radiance-general] Radiance 5.0 installation on ubuntu 14.04
In-Reply-To: <9C2E1733-A7ED-46F4-9CCC-3AD338155312@lmi.net>
References: <CA+fuGR5snKtqkQK-cNoZA+Os2Cj_zNkDj+GCBU+sChzFiQZ8ZA@mail.gmail.com>
	<CAEFJVk8Pf_2jR5CrGAXw_-uALgMpVvF8Yoj9N-6sLKZuPHfXjw@mail.gmail.com>
	<CA+fuGR5ALnqHgcVRAYBfgd_2xTu2s9-S85d7x=rgGti0LGzFqA@mail.gmail.com>
	<CAEFJVk9a6+ZK0vBVpO0yVfnn+ZZwMQgbF5UwuC+Uj2U++Jy24w@mail.gmail.com>
	<CA+fuGR5x2iymqJVY9+e0W2nnAZ0H59tWcyLrLAUwkDG=nUeQYw@mail.gmail.com>
	<CA+fuGR5dw3NjNcUb7h8MON4E51WUO652_k88M4VMzcDUnLZ5fA@mail.gmail.com>
	<5B631DD0-B311-4D9E-92F7-C31AD31A7F92@gmail.com>
	<A827005D-39B2-4EFC-8E8C-4D0A1EB5667C@lmi.net>
	<CA+fuGR6eApeFmZDQAffNVuYMhQtWonnKsmosqM4zN1dLB=KG-g@mail.gmail.com>
	<F78EB5F9-3C96-475E-AAF4-086C0642999B@lmi.net>
	<CA+fuGR6gcsL_VPF-3awAc33L11JnJK+KfjqWsF5KKv1JzL0tWw@mail.gmail.com>
	<78D1CADB-2BF0-4B51-99BE-785A0AB13C85@lmi.net>
	<CA+fuGR4w5c5vckUo_ZoTqaSOOUtk3Eb_RpOCOgtp5t+y6TmJOA@mail.gmail.com>
	<9C2E1733-A7ED-46F4-9CCC-3AD338155312@lmi.net>
Message-ID: <CA+fuGR73kh+i9VBjjQ3eHNqV8hNgB0Gd0AgF_=zU2zaYdBTjNQ@mail.gmail.com>

That process seems to be much easier and more time efficient i will do it
like that.

Thank you very much for the help.

Best regards
Humberto A.

2016-03-20 21:57 GMT+00:00 Greg Ward <gregoryjward at gmail.com>:

> You can achieve the same result as averaging output by repeating the
> points on your input and adding a corresponding -c N for rcontrib.
>
> If you already have the matrices, though, you can average them using
> rmtxop.  Let's say you have 3 matrices, you can use:
>
> rmtxop -s .33333 res1.mtx + -s .33333 res2.mtx + -s .33333 res3.mtx >
> avg.mtx
>
> Note that you would use a different scaling factor for more or fewer
> matrices.
>
> Cheers,
> -Greg
>
> *From: *Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>
> *Subject: *Re: [Radiance-general] Radiance 5.0 installation on ubuntu
> 14.04
>
> *Date: *March 20, 2016 2:36:12 PM PDT
>
>
> I analyzed the data more carefully and the difference is not that big, I'm
> going to follow your advice and I'm going to create a script to run the
> simulation N times until the average of the final value starts to converge,
> this way i think I will get a very accurate value, do you think this is a
> good idea?
>
> Best regards
> Humberto A.
>
> 2016-03-20 1:30 GMT+00:00 Greg Ward <gregoryjward at gmail.com>:
>
>> Well, Radiance is a Monte Carlo simulation, which by default initializes
>> to a new point each time.  You can average together your results for
>> greater accuracy, but how much difference are you seeing?
>>
>> Cheers,
>> -Greg
>>
>> *From: *Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>>
>> *Subject: *Re: [Radiance-general] Radiance 5.0 installation on ubuntu
>> 14.04
>>
>> *Date: *March 19, 2016 1:47:06 PM PDT
>>
>>
>> Ok I get it now, you can't imagine how helpful all that info had been.
>>
>> I had been running some tests and i saw something that is quite strange,
>> when i am creating my view matrix i use the following command "rfluxmtx -I+
>> -ab 12 -ad 50000 -lw 2e-5 -y 6 - < data/photocells.pts objects/window.rad
>> materials/testroom.mat objects/testroom.rad > results/photocells.vmx", if I
>> run the this command several times the output is always different, without
>> changing anything in the files or in the command, and this ends up creating
>> different work plane illuminances, do you have any idea on what is causing
>> this to happen?
>>
>> Best regards
>> Humberto A.
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/93700f03/attachment.html>

From alireh at uw.edu  Sun Mar 20 15:45:01 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sun, 20 Mar 2016 15:45:01 -0700
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in
 generating direct sun coefficient matrix
In-Reply-To: <31BDEDCA-15A7-4890-A0B2-AAD5E5757992@lmi.net>
References: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
	<A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>
	<D302F70E.23548%Robert.Guglielmetti@nrel.gov>
	<CADjcregM2CA0Opj9qc=sm-7j82vCt-zqV+a7hP+SLd74PJ5Neg@mail.gmail.com>
	<F33D837C-EA62-4D9B-8165-82C71CBFEC75@gmail.com>
	<CADjcregb3R_vZD3_O7d-BxNuymY4AMdkRrFSnkRWNpN-BNev1g@mail.gmail.com>
	<31BDEDCA-15A7-4890-A0B2-AAD5E5757992@lmi.net>
Message-ID: <CADjcregw2n3jPLJJt=4Cs_+Rir+e0H5-tMU0Kxia9T3e6Bp98g@mail.gmail.com>

Hi Greg,

Thank you for your response.

1- I was unsuccessful in my attempt to download the files via the "curl"
call. I received the error : "No such file or directory" followed by "curl:
(23) Failed writing body (0 != 1460)". May I ask if you could send me the
two xml files as
an attachment to my email address?

2- The tensor tree xml file (fullwindow_t45.xml) is generated via the
following command:

$ genBSDF +f +b -geom meter -dim 0.5 3.5 1 2 -.3 0 -t4 5
bsdf/fullwindow.rad > bsdf/fullwindow_t45.xml

I can send you the related input files via a Google Drive link to your
email address if that works for you in order to diagnose the cause for high
reflection values.

3-  Generating the direct sun coefficient images, how can I generate a BSDF
file with Klems' subdivision scheme with  higher resolution (each Klems'
patch subdivided into four smaller patches) as a replacement to using a
tensor-tree file?

Thank you,
Alireza


On Sun, Mar 20, 2016 at 3:12 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Alireza,
>
> Did you generate the XML files yourself?  The ones I downloaded via the
> current version of the 5-phase bash script don't report this warning, which
> I would say indicates a problem.  You can download the XML files using:
>
> curl -o bsdf/fullwindow_t45.xml
> http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/fullwindow_t45.xml
> curl -o bsdf/fullwindow.xml
> http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/fullwindow.xml
>
> I can't speculate what is going wrong with your genBSDF command if you
> created these yourself, unless you send me the related input files.
>
> Cheers,
> -Greg
>
> *From: *Alireza Hashemloo <alireh at uw.edu>
>
> *Subject: *Re: [Radiance-general] Five-phase Method Tutorial: Errors in
> generating direct sun coefficient matrix
>
> *Date: *March 20, 2016 1:54:42 PM PDT
>
>
> Andy,
>
> Thank you for your response. I have migrated to Mac in order to complete
> this step of the Five phase method tutorial.
> I have pursued the tutorial with the exact scene descriptions and
> simulation settings.
> I have encountered the following warning/error as follows:
>
> after increasing the limit on the open files in Terminal via the "ulimit
> -n 9999" command, I have called the following command as shown in the
> tutorial:
>
> Five-phase Method Tutoiral | Example 2 - Rendering | Direct Sun
> Coefficient Matrix (page 19) :
>
> command:
>
> $ vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | \
> rtrace -h- -opn -faa -ab 0 octs/model_nosuns.oct | \
> rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n $procs -fac -fo \
> -o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m
> solar \
> -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct
>
> Warnings:
>
> rcontrib: warning - BSDF "bsdf/fullwindow_t45" has 169.4 % front reflection
> rcontrib: warning - BSDF "bsdf/fullwindow_t45" has 218.8% rear reflection
>
>
> Error Description:
>
> Although the given rcontrib warnings do not terminate the command call, it
> does not appear to me that any progress is made leaving the command running
> for over 24 hours.
>
>
> Question:
>
> 1- What would be the reason for the tensor-tree BSDF file
> (fullwindow_t45.xml) generated in the previous steps of the tutorial  to
> have over 100% reflection as shown in the rcontrib warnings?
> 2- How can I remedy this problem in this stage of the tutorial to generate
> the 5185 direct sun coefficient images?
>
> Best Regards,
> Alireza
>
>
> On Wed, Mar 9, 2016 at 7:25 AM, Andy McNeil <mcneil.andrew at gmail.com>
> wrote:
>
>> Alireza,
>>
>> This behavior is consistent with running up against limitations on open
>> files. I don't know how to change the limit on Windows, but found this:
>>
>> http://stackoverflow.com/questions/870173/is-there-a-limit-on-number-of-open-files-in-windows
>>
>> Andy
>>
>>
>> On Mar 9, 2016, at 12:53 AM, Alireza Hashemloo <alireh at uw.edu> wrote:
>>
>> Hi Greg and Rob,
>>
>> Thank you for your responses:
>>
>> - It does not appear that the single back quotes are the source of the
>> problem as I tested the command following your recommendation without
>> passing the `vwrays -vf views/view_A.vf -x 600 -y 600 -d` to "rcontrib" and
>> the rtrace "invalid argument" error still appears.
>>
>> - I have tested the approach to split the command into two parts as you
>> had suggested:
>>
>> part 1:   vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 |
>> rtrace -h -opN -fa -ab 0 model_nosuns.oct > points.txt
>> part 2:   rcontrib -x 600 -y 600 -fac -fo -o viewpics_ds/back_%04d.hdr -e
>> MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt
>> 0 -dc 1 -lw 1e-2 model_suns.oct < points.txt
>>
>> the part 1 appears to work properly considering that a "points.txt" file
>> is generated. The part 2, however, does not appear to work: although I do
>> not receive any error messages on my command line, the rcontrib call is
>> completed immediately after it is run and 508 hdr images are generated in
>> the given directory. However, each .hdr file is only 1 KB and the attempt
>> to opening any of them is failed. It does not appear that the files have
>> actually been written successfully.
>>
>> In addition, could you elaborate about your suggestion to  *" Replace
>> the "-x 600 -y 600" with the output of "vwrays -vf views/view_A.vf -x 600
>> -y 600 -d*" " in part 2 of the command?
>> Finally,  I was wondering where the definition for the "solar" modifier
>> as the target light source passed to the 'rcontrib' call (-m solar) is made
>> in the previous steps of the tutorial?
>>
>> Thank you for your help.
>> Best Regards,
>>
>> Alireza
>>
>>
>> On Mon, Mar 7, 2016 at 8:17 AM, Guglielmetti, Robert <
>> Robert.Guglielmetti at nrel.gov> wrote:
>>
>>> On 3/6/16, 9:53 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:
>>> gregoryjward at gmail.com>> wrote:
>>>
>>> I do not think you can have multiple processes under Windows using
>>> rcontrib, no matter which shell you use, so -n 1 (the default) is all you
>>> get.
>>>
>>>
>>> That is true; rcontrib on Windows will silently ignore -n settings > 1.
>>> On OpenStudio, you will get a heads up about this.
>>>
>>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/059cfced/attachment-0001.html>

From gregoryjward at gmail.com  Sun Mar 20 16:31:08 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Sun, 20 Mar 2016 16:31:08 -0700
Subject: [Radiance-general] Five-phase Method Tutorial: Errors in
	generating direct sun coefficient matrix
In-Reply-To: <CADjcregw2n3jPLJJt=4Cs_+Rir+e0H5-tMU0Kxia9T3e6Bp98g@mail.gmail.com>
References: <CADjcrejaU4Ljf94jtMFrZQ8AOM2RGWhY2ehD_sHm6f3L5_BV=g@mail.gmail.com>
	<A533C9D6-0049-4501-B4D9-32F03BC3AD4B@lmi.net>
	<D302F70E.23548%Robert.Guglielmetti@nrel.gov>
	<CADjcregM2CA0Opj9qc=sm-7j82vCt-zqV+a7hP+SLd74PJ5Neg@mail.gmail.com>
	<F33D837C-EA62-4D9B-8165-82C71CBFEC75@gmail.com>
	<CADjcregb3R_vZD3_O7d-BxNuymY4AMdkRrFSnkRWNpN-BNev1g@mail.gmail.com>
	<31BDEDCA-15A7-4890-A0B2-AAD5E5757992@lmi.net>
	<CADjcregw2n3jPLJJt=4Cs_+Rir+e0H5-tMU0Kxia9T3e6Bp98g@mail.gmail.com>
Message-ID: <A6124AEE-78B7-47C5-9B81-9D60CC5ABD3A@lmi.net>

Responses inline...

> From: Alireza Hashemloo <alireh at uw.edu>
> Subject: Re: [Radiance-general] Five-phase Method Tutorial: Errors in generating direct sun coefficient matrix
> Date: March 20, 2016 3:45:01 PM PDT
> 
> Hi Greg,
> 
> Thank you for your response.
> 
> 1- I was unsuccessful in my attempt to download the files via the "curl" call. I received the error : "No such file or directory" followed by "curl: (23) Failed writing body (0 != 1460)". May I ask if you could send me the two xml files as
> an attachment to my email address?

The directory need to exist from where you run the curl command.  I.e., make sure the "bsdf" directory already exists.  Failing that, I will send you the files in an e-mail.

> 2- The tensor tree xml file (fullwindow_t45.xml) is generated via the following command:
> 
> $ genBSDF +f +b -geom meter -dim 0.5 3.5 1 2 -.3 0 -t4 5 bsdf/fullwindow.rad > bsdf/fullwindow_t45.xml
> 
> I can send you the related input files via a Google Drive link to your email address if that works for you in order to diagnose the cause for high reflection values.

Please e-mail me the files, which are not large.

> 3-  Generating the direct sun coefficient images, how can I generate a BSDF file with Klems' subdivision scheme with  higher resolution (each Klems' patch subdivided into four smaller patches) as a replacement to using a tensor-tree file?

There is no easy way to get more than 145 Klems patches with the current software.  Sorry!

> Thank you,
> Alireza
> 
> 
> On Sun, Mar 20, 2016 at 3:12 PM, Greg Ward <gregoryjward at gmail.com> wrote:
> Hi Alireza,
> 
> Did you generate the XML files yourself?  The ones I downloaded via the current version of the 5-phase bash script don't report this warning, which I would say indicates a problem.  You can download the XML files using:
> 
> 	curl -o bsdf/fullwindow_t45.xml http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/fullwindow_t45.xml
> 	curl -o bsdf/fullwindow.xml http://www.radiance-online.org/learning/tutorials/fivephasetutorialfiles/fullwindow.xml
> 
> I can't speculate what is going wrong with your genBSDF command if you created these yourself, unless you send me the related input files.
> 
> Cheers,
> -Greg
> 
>> From: Alireza Hashemloo <alireh at uw.edu>
>> Subject: Re: [Radiance-general] Five-phase Method Tutorial: Errors in generating direct sun coefficient matrix
>> Date: March 20, 2016 1:54:42 PM PDT
>> 
>> Andy,
>> 
>> Thank you for your response. I have migrated to Mac in order to complete this step of the Five phase method tutorial.
>> I have pursued the tutorial with the exact scene descriptions and simulation settings.
>> I have encountered the following warning/error as follows:
>> 
>> after increasing the limit on the open files in Terminal via the "ulimit -n 9999" command, I have called the following command as shown in the tutorial:
>> 
>> Five-phase Method Tutoiral | Example 2 - Rendering | Direct Sun Coefficient Matrix (page 19) :
>> 
>> command:
>> 
>> $ vwrays -c 4 -pj 1 -fa -vf views/back.vf -x 500 -y 500 | \
>> rtrace -h- -opn -faa -ab 0 octs/model_nosuns.oct | \
>> rcontrib `vwrays -vf views/back.vf -x 500 -y 500 -d` -n $procs -fac -fo \
>> -o viewpics_ds/back_%04d.hdr -e MF:6 -f reinhart.cal -b rbin -bn Nrbins -m solar \
>> -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 octs/model_suns.oct
>> 
>> Warnings:
>> 
>> rcontrib: warning - BSDF "bsdf/fullwindow_t45" has 169.4 % front reflection
>> rcontrib: warning - BSDF "bsdf/fullwindow_t45" has 218.8% rear reflection
>> 
>> 
>> Error Description:
>> 
>> Although the given rcontrib warnings do not terminate the command call, it does not appear to me that any progress is made leaving the command running for over 24 hours.
>> 
>> 
>> Question:
>> 
>> 1- What would be the reason for the tensor-tree BSDF file (fullwindow_t45.xml) generated in the previous steps of the tutorial  to have over 100% reflection as shown in the rcontrib warnings?
>> 2- How can I remedy this problem in this stage of the tutorial to generate the 5185 direct sun coefficient images?
>> 
>> Best Regards,
>> Alireza
>> 
>> 
>> On Wed, Mar 9, 2016 at 7:25 AM, Andy McNeil <mcneil.andrew at gmail.com> wrote:
>> Alireza,
>> 
>> This behavior is consistent with running up against limitations on open files. I don't know how to change the limit on Windows, but found this:
>> http://stackoverflow.com/questions/870173/is-there-a-limit-on-number-of-open-files-in-windows
>> 
>> Andy
>> 
>> 
>> On Mar 9, 2016, at 12:53 AM, Alireza Hashemloo <alireh at uw.edu> wrote:
>> 
>>> Hi Greg and Rob,
>>> 
>>> Thank you for your responses:
>>> 
>>> - It does not appear that the single back quotes are the source of the problem as I tested the command following your recommendation without passing the `vwrays -vf views/view_A.vf -x 600 -y 600 -d` to "rcontrib" and the rtrace "invalid argument" error still appears.
>>> 
>>> - I have tested the approach to split the command into two parts as you had suggested:
>>> 
>>> part 1:   vwrays -c 4 -pj 1 -fa -vf views/view_A.vf -x 600 -y 600 | rtrace -h -opN -fa -ab 0 model_nosuns.oct > points.txt
>>> part 2:   rcontrib -x 600 -y 600 -fac -fo -o viewpics_ds/back_%04d.hdr -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m solar -c 4 -I -ab 1 -ad 100 -dt 0 -dc 1 -lw 1e-2 model_suns.oct < points.txt
>>> 
>>> the part 1 appears to work properly considering that a "points.txt" file is generated. The part 2, however, does not appear to work: although I do not receive any error messages on my command line, the rcontrib call is completed immediately after it is run and 508 hdr images are generated in the given directory. However, each .hdr file is only 1 KB and the attempt to opening any of them is failed. It does not appear that the files have actually been written successfully.
>>> 
>>> In addition, could you elaborate about your suggestion to  " Replace the "-x 600 -y 600" with the output of "vwrays -vf views/view_A.vf -x 600 -y 600 -d" " in part 2 of the command?
>>> Finally,  I was wondering where the definition for the "solar" modifier as the target light source passed to the 'rcontrib' call (-m solar) is made in the previous steps of the tutorial?
>>> 
>>> Thank you for your help.
>>> Best Regards,
>>> 
>>> Alireza
>>> 
>>> 
>>> On Mon, Mar 7, 2016 at 8:17 AM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
>>> On 3/6/16, 9:53 AM, "Greg Ward" <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>> wrote:
>>> 
>>> I do not think you can have multiple processes under Windows using rcontrib, no matter which shell you use, so -n 1 (the default) is all you get.
>>> 
>>> 
>>> That is true; rcontrib on Windows will silently ignore -n settings > 1.  On OpenStudio, you will get a heads up about this.
>>> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/8d4f6aee/attachment.html>

From gregoryjward at gmail.com  Sun Mar 20 18:12:08 2016
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Sun, 20 Mar 2016 18:12:08 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
Message-ID: <53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>

Following this up on the general mailing list...

The problem was the one Andy pointed out earlier, where the newer version of dctimestep doesn't want the "-n" option when the sky matrix has a header.

Regarding the new question (appearing below), using rmtxop in this way is indeed the simplest means to convert RGB irradiance to illuminance in lux.

Cheers,
-Greg

> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
> Subject: Re: dctimesteps
> Date: March 20, 2016 6:04:36 PM PDT
> 
> I tried to run the command like that and it worked just fine, i got the same results as you did.
> 
> I was running the dctimestep command with the -n 8760 option, but this is not needed because the sky matrix already contains that info in the header, running it like you solved the issue.
> 
> Now there is just one thing remaining, to convert the RGB values from illum.dat file to illuminance values can i use the command below or is there a better way?
> 
> rmtxop -c 47.435 119.93 11.635 results/illum.dat> results/illum_final.dat
> 
> Note:
> 179*0.265=47.436
> 179*0.670=119.93
> 179*0.065=11.635
> 
> Best regards
> Humberto A.
> 
> 2016-03-21 0:01 GMT+00:00 Gregory J. Ward <gregoryjward at gmail.com>:
> Thanks, Humberto.  I ran the following command:
> 
> 	dctimestep photocells.vmx singleclear.xml south.dmx lisboa.smx > illum.dat
> 
> without complaint.  I am attaching the result.
> 
> Are you sure you have a recent installation of dctimestep?  What do you see when you run dctimestep with no arguments?  You should get:
> 
> Usage: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]
>    or: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf Dmat.dat [skyf]
> 
> Cheers,
> -Greg
> 
> 

> From: Greg Ward <gward at lmi.net>
> Subject: Re: [Radiance-general] sudo recontrib
> Date: March 20, 2016 2:47:23 PM PDT
> 
> Hi Humberto,
> 
> Actually, your header and ASCII data look OK.  Although some tools would put all the columns together in one humungous line with 8760x3, white space has no meaning here and gendaymtx output has a newline for each column entry with an extra empty line between rows.
> 
> If you run the "wc" command on your file,  you should get something like:
> 
> 	20202873  60601692  xxxxxxxxxxx  lisboa.smx
> 
> I don't know what xxxxxxx will be, but some large number corresponding to the number of bytes in your file.  The first two values may not be exactly this, but should be reasonably close.  Otherwise, your file really is missing some data at the end.
> 
> If your numbers agree roughly with the above, please send me a gzip'ped copies of your lisboa.wea and the output (*.smx) file in a private e-mail and I will see if I can figure out what is going on.
> 
> Cheers,
> -Greg
> 
>> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>> Subject: Re: [Radiance-general] sudo recontrib
>> Date: March 20, 2016 2:30:23 PM PDT
>> 
>> Hi Urtza and Andy,
>> 
>> I am having the same issue as you do Urtza, I have already checked the headers of my view matrix, daylight matrix and sky matrix, and that doesn't seem to be the problem, my view matrix is a 6X145, the daylight matrix a 145X2306, and finally, the sky matrix is a 2306X8760, and this info is on the headers of each.
>> 
>> I think the problem is in the sky matrix file itself, it's not being properly written.
>> 
>> Mine looks like this:
>> #?RADIANCE
>> gendaymtx -m 4 weather/lisboa.wea
>> LATLONG= 38.73000000 -9.15000000
>> NROWS=2306
>> NCOLS=8760
>> NCOMP=3
>> FORMAT=ascii
>> 
>> 0 0 0
>> 0 0 0
>> 0 0 0
>> 0 0 0
>> 0 0 0
>> 0 0 0
>> 0 0 0
>> 0.477 0.477 0.477
>> 1.85 1.85 1.85
>> 4.85 4.85 4.85
>> 11.6 11.6 11.6
>> 10.5 10.5 10.5
>> ...
>> 
>> 
>> So it doesn't have the number of columns it should, i think that each row has the RGB value for one patch of one time step and it should have the RGB values for all time steps of one patch, is that it?
>> 
>> Best regards
>> Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160320/c33d8e72/attachment-0001.html>

From munirsyadi at gmail.com  Mon Mar 21 03:42:43 2016
From: munirsyadi at gmail.com (A.M. Irsyadi)
Date: Mon, 21 Mar 2016 17:42:43 +0700
Subject: [Radiance-general] Getting Started
Message-ID: <CACL5kgRnqUurjni+M3FwPSj1X-UqzNgwKTOJ+ixfQ+QTzkjsEQ@mail.gmail.com>

Dear expert,
I want to learn Radiance from the very basics. I have no experience using
command prompt in OSX or Linux. I am using Mac OSX El capitan, I already
installed Radiance on my Macbook. I have no idea how to start. I try to
follow the tutorial provided, but I dont know how to start.
Can someone pointing me the "very" basics step tuturial how to start using
radiance until the very simple simulation.
Thank you so much for your help
Regards,
--------------------------------------------------
Abdul Munir
munirsyadi at unsyiah.ac.id
munirsyadi at gmail.com
--------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160321/c9dbf7c6/attachment.html>

From urtza.uriarte at upc.edu  Mon Mar 21 04:16:12 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Mon, 21 Mar 2016 12:16:12 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
Message-ID: <20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>

  Dear Andy and Greg,

(I am trying to follow Humberto's issue, as well)
I have added to View Matrix sensor points number (I notice that in Daylight
Matrix I have not had NROWS data and I have added NROWS=145). To sum up I
have;?Sky Matrix, 2306x8760; Daylight Matrix, 145x2306; and View Matrix,
552x145.?I launched dctimestep and it scripts the same error (fatal -
unexpected EOF reading Barcelona.smx).

In case, I review the Sky Matrix with "wc" and I get almost the number that
Greg suggested:

wc Barcelona.smx

20202874 ?60601692 213155298 Barcelona.smx

I do not know what is the problem with Sky Matrix (although it seems a
little estrange 2306x8760 data are in rows).
Thank you in advance,
Urtza.

"Gregory J. Ward" <gregoryjward at gmail.com> escribi?:

> Following this up on the general mailing list...
>   ?
>   The problem was the one Andy pointed out earlier, where the newer
> version of dctimestep doesn't want the "-n" option when the sky matrix
> has a header.
>   ?
>   Regarding the new question (appearing below), using rmtxop in this way
> is indeed the simplest means to convert RGB irradiance to illuminance in
> lux.
>   ?
>   Cheers,
>   -Greg
>
>
>> FROM:?Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>>     SUBJECT:?Re: dctimesteps
>>     DATE:?March 20, 2016 6:04:36 PM PDT
>>     ?
>
>> I tried to run the command like that and it worked just fine, i got the
>> same results as you did.          ?
>>      I was running the dctimestep command with the -n 8760 option, but
>> this is not needed because the sky matrix already contains that info in
>> the header, running it like you solved the issue.
>>      ?
>>      Now there is just one thing remaining, to convert the RGB values
>> from illum.dat file to illuminance values can i use the command below
>> or is there a better way?
>>      ?
>>      rmtxop -c 47.435 119.93 11.635 results/illum.dat>
>> results/illum_final.dat
>>      ?
>>      Note:
>>      179*0.265=47.436
>>      179*0.670=119.93
>>      179*0.065=11.635
>>      ?
>>      Best regards
>>      Humberto A.
>>
>>
>>      2016-03-21 0:01 GMT+00:00 Gregory J.
Ward?<gregoryjward at gmail.com>:
>>
>>> Thanks, Humberto.? I ran the following command:
>>>         ?
>>>         dctimestep photocells.vmx?singleclear.xml south.dmx lisboa.smx
>>> > illum.dat
>>>         ?
>>>         without complaint.? I am attaching the result.
>>>         ?
>>>         Are you sure you have a recent installation of dctimestep??
>>> What do you see when you run dctimestep with no arguments?? You should
>>> get:
>>>         ?
>>>                  Usage: dctimestep [-n nsteps][-o
>>> ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]
>>>          ? ?or: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}]
>>> Vspec Tbsdf Dmat.dat [skyf]
>>>
>>>         ?
>>>         Cheers,
>>>         -Greg
>>>         ?
>>>         ?
>
>> FROM: Greg Ward <gward at lmi.net>
>>
>>    SUBJECT: Re: [Radiance-general] sudo recontrib
>>
>>    DATE: March 20, 2016 2:47:23 PM PDT
>>
>>    ?
>
>> Hi Humberto,
>>    ?
>>    Actually, your header and ASCII data look OK. ?Although some tools
>> would put all the columns together in one humungous line with 8760x3,
>> white space has no meaning here and gendaymtx output has a newline for
>> each column entry with an extra empty line between rows.
>>    ?
>>    If you run the "wc" command on your file, ?you should get something
>> like:
>>    ?
>>    20202873 ?60601692 ?xxxxxxxxxxx ?lisboa.smx
>>    ?
>>    I don't know what xxxxxxx will be, but some large number
>> corresponding to the number of bytes in your file. ?The first two
>> values may not be exactly this, but should be reasonably close.
>> ?Otherwise, your file really is missing some data at the end.
>>    ?
>>    If your numbers agree roughly with the above, please send me a
>> gzip'ped copies of your lisboa.wea and the output (*.smx) file in a
>> private e-mail and I will see if I can figure out what is going on.
>>    ?
>>    Cheers,
>>    -Greg
>>
>>> FROM: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>>>
>>>     SUBJECT: Re: [Radiance-general] sudo recontrib
>>>
>>>     DATE: March 20, 2016 2:30:23 PM PDT
>>>
>>>     ?
>>
>>> Hi Urtza and Andy,          ?
>>>      I am having the same issue as you do Urtza, I have already
>>> checked the headers of my view matrix, daylight matrix and sky matrix,
>>> and that doesn't seem to be the problem, my view matrix is a 6X145,
>>> the daylight matrix a 145X2306, and finally, the sky matrix is a
>>> 2306X8760, and this info is on the headers of each.
>>>      ?
>>>      I think the problem is in the sky matrix file itself, it's not
>>> being properly written.
>>>      ?
>>>      Mine looks like this:
>>>            #?RADIANCE
>>>       gendaymtx -m 4 weather/lisboa.wea
>>>       LATLONG= 38.73000000 -9.15000000
>>>       NROWS=2306
>>>       NCOLS=8760
>>>       NCOMP=3
>>>       FORMAT=ascii
>>>       ?
>>>       0 0 0
>>>       0 0 0
>>>       0 0 0
>>>       0 0 0
>>>       0 0 0
>>>       0 0 0
>>>       0 0 0
>>>       0.477 0.477 0.477
>>>       1.85 1.85 1.85
>>>       4.85 4.85 4.85
>>>       11.6 11.6 11.6
>>>       10.5 10.5 10.5
>>>
>>>      ...
>>>      ?
>>>      ?
>>>      So it doesn't have the number of columns it should, i think that
>>> each row has the RGB value for one patch of one time step and it
>>> should have the RGB values for all time steps of one patch, is that it?
>>>      ?
>>>      Best regards
>>>      Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160321/2dee1bbb/attachment.html>

From hs.antunes at campus.fct.unl.pt  Mon Mar 21 04:53:28 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Mon, 21 Mar 2016 11:53:28 +0000
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
	<20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
Message-ID: <CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>

Hi Urtza,

Are you running dctimestep with the "-n" option? If yes try to run it
without it. use:

dctimestep view.mtx daylight.mtx transmision.xml sky.mtx

For me this solved the problem, no need for the "-n 8760" option.

Hope it helps.

Best regards
Humberto A.

2016-03-21 11:16 GMT+00:00 <urtza.uriarte at upc.edu>:

> Dear Andy and Greg,
>
> (I am trying to follow Humberto's issue, as well)
> I have added to View Matrix sensor points number (I notice that in
> Daylight Matrix I have not had NROWS data and I have added NROWS=145). To
> sum up I have; Sky Matrix, 2306x8760; Daylight Matrix, 145x2306; and View
> Matrix, 552x145. I launched dctimestep and it scripts the same error (fatal
> - unexpected EOF reading Barcelona.smx).
>
> In case, I review the Sky Matrix with "wc" and I get almost the number
> that Greg suggested:
>
> wc Barcelona.smx
>
> 20202874  60601692 213155298 Barcelona.smx
>
>
> I do not know what is the problem with Sky Matrix (although it seems a
> little estrange 2306x8760 data are in rows).
> Thank you in advance,
> Urtza.
>
>
> "Gregory J. Ward" <gregoryjward at gmail.com> escribi?:
>
> Following this up on the general mailing list...
>
> The problem was the one Andy pointed out earlier, where the newer version
> of dctimestep doesn't want the "-n" option when the sky matrix has a header.
>
> Regarding the new question (appearing below), using rmtxop in this way is
> indeed the simplest means to convert RGB irradiance to illuminance in lux.
>
> Cheers,
> -Greg
>
> *From: *Humberto Antunes <hs.antunes at campus.fct.unl.pt>
> *Subject: *Re: dctimesteps
> *Date: *March 20, 2016 6:04:36 PM PDT
>
>
> I tried to run the command like that and it worked just fine, i got the
> same results as you did.
>
> I was running the dctimestep command with the -n 8760 option, but this is
> not needed because the sky matrix already contains that info in the header,
> running it like you solved the issue.
>
> Now there is just one thing remaining, to convert the RGB values from
> illum.dat file to illuminance values can i use the command below or is
> there a better way?
>
> rmtxop -c 47.435 119.93 11.635 results/illum.dat> results/illum_final.dat
>
> Note:
> 179*0.265=47.436
> 179*0.670=119.93
> 179*0.065=11.635
>
> Best regards
> Humberto A.
>
> 2016-03-21 0:01 GMT+00:00 Gregory J. Ward <gregoryjward at gmail.com>:
>
>> Thanks, Humberto.  I ran the following command:
>>
>> dctimestep photocells.vmx singleclear.xml south.dmx lisboa.smx >
>> illum.dat
>>
>> without complaint.  I am attaching the result.
>>
>> Are you sure you have a recent installation of dctimestep?  What do you
>> see when you run dctimestep with no arguments?  You should get:
>>
>> Usage: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]
>>    or: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf
>> Dmat.dat [skyf]
>>
>> Cheers,
>> -Greg
>>
>>
>>
>
> *From:* Greg Ward <gward at lmi.net>
>
> *Subject:* Re: [Radiance-general] sudo recontrib
>
> *Date:* March 20, 2016 2:47:23 PM PDT
>
>
>
> Hi Humberto,
>
> Actually, your header and ASCII data look OK.  Although some tools would
> put all the columns together in one humungous line with 8760x3, white space
> has no meaning here and gendaymtx output has a newline for each column
> entry with an extra empty line between rows.
>
> If you run the "wc" command on your file,  you should get something like:
>
> 20202873  60601692  xxxxxxxxxxx  lisboa.smx
>
> I don't know what xxxxxxx will be, but some large number corresponding to
> the number of bytes in your file.  The first two values may not be exactly
> this, but should be reasonably close.  Otherwise, your file really is
> missing some data at the end.
>
> If your numbers agree roughly with the above, please send me a gzip'ped
> copies of your lisboa.wea and the output (*.smx) file in a private e-mail
> and I will see if I can figure out what is going on.
>
> Cheers,
> -Greg
>
> *From:* Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>
> *Subject:* Re: [Radiance-general] sudo recontrib
>
> *Date:* March 20, 2016 2:30:23 PM PDT
>
>
>
> Hi Urtza and Andy,
>
> I am having the same issue as you do Urtza, I have already checked the
> headers of my view matrix, daylight matrix and sky matrix, and that doesn't
> seem to be the problem, my view matrix is a 6X145, the daylight matrix a
> 145X2306, and finally, the sky matrix is a 2306X8760, and this info is on
> the headers of each.
>
> I think the problem is in the sky matrix file itself, it's not being
> properly written.
>
> Mine looks like this:
> #?RADIANCE
> gendaymtx -m 4 weather/lisboa.wea
> LATLONG= 38.73000000 -9.15000000
> NROWS=2306
> NCOLS=8760
> NCOMP=3
> FORMAT=ascii
>
> 0 0 0
> 0 0 0
> 0 0 0
> 0 0 0
> 0 0 0
> 0 0 0
> 0 0 0
> 0.477 0.477 0.477
> 1.85 1.85 1.85
> 4.85 4.85 4.85
> 11.6 11.6 11.6
> 10.5 10.5 10.5
> ...
>
>
> So it doesn't have the number of columns it should, i think that each row
> has the RGB value for one patch of one time step and it should have the RGB
> values for all time steps of one patch, is that it?
>
> Best regards
> Humberto A.
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160321/019ca901/attachment-0001.html>

From urtza.uriarte at upc.edu  Mon Mar 21 05:38:37 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Mon, 21 Mar 2016 13:38:37 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
	<20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
	<CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>
Message-ID: <20160321133837.Horde.yww9gjRw_58GD0G7Tz7R_ON@correu.upc.edu>

  Dear Humberto,

Yes, I am trying without "-n 8760" option, as follow:

dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx
Barcelona.smx?
fatal - unexpected EOF reading Barcelona.smx

I do not know. Thank you,
Urtza.

Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:

> Hi Urtza,      ?
>    Are you running dctimestep with the "-n" option? If yes try to run it
> without it. use:
>    ?
>    dctimestep view.mtx daylight.mtx transmision.xml sky.mtx
>    ?
>    For me this solved the problem, no need for the "-n 8760" option.
>    ?
>    Hope it helps.
>    ?
>    Best regards
>    Humberto A.
>
>
>    2016-03-21 11:16 GMT+00:00 <urtza.uriarte at upc.edu>:
>
>> _Dear Andy and Greg,
>>
>> (I am trying to follow Humberto's issue, as well)
>> I have added to View Matrix sensor points number (I notice that in
>> Daylight Matrix I have not had NROWS data and I have added NROWS=145).
>> To sum up I have;?Sky Matrix, 2306x8760; Daylight Matrix, 145x2306; and
>> View Matrix, 552x145.?I launched dctimestep and it scripts the same
>> error (fatal - unexpected EOF reading Barcelona.smx).
>>
>> In case, I review the Sky Matrix with "wc" and I get almost the number
>> that Greg suggested:
>>
>> wc Barcelona.smx
>>
>> 20202874 ?60601692 213155298 Barcelona.smx
>>
>> I do not know what is the problem with Sky Matrix (although it seems a
>> little estrange 2306x8760 data are in rows).
>> Thank you in advance,
>> Urtza.
>>
>> "Gregory J. Ward" <gregoryjward at gmail.com> escribi?:_
>>
>>> _Following this up on the general mailing list..._
>>>          _?_
>>>          _The problem was the one Andy pointed out earlier, where the
>>> newer version of dctimestep doesn't want the "-n" option when the sky
>>> matrix has a header._
>>>          _?_
>>>          _Regarding the new question (appearing below), using rmtxop
>>> in this way is indeed the simplest means to convert RGB irradiance to
>>> illuminance in lux._
>>>          _?_
>>>          _Cheers,_
>>>          _-Greg_
>>>
>>>
>>>> _FROM:?Humberto Antunes <hs.antunes at campus.fct.unl.pt>_
>>>>            _SUBJECT:?Re: dctimesteps_
>>>>            _DATE:?March 20, 2016 6:04:36 PM PDT_
>>>>            _?_
>>>
>>>> _I tried to run the command like that and it worked just fine, i got
>>>> the same results as you did. _                       _?_
>>>>             _I was running the dctimestep command with the -n 8760
>>>> option, but this is not needed because the sky matrix already
>>>> contains that info in the header, running it like you solved the
>>>> issue._
>>>>             _?_
>>>>             _Now there is just one thing remaining, to convert the
>>>> RGB values from illum.dat file to illuminance values can i use the
>>>> command below or is there a better way?_
>>>>             _?_
>>>>             _rmtxop -c 47.435 119.93 11.635 results/illum.dat>
>>>> results/illum_final.dat_
>>>>             _?_
>>>>             _Note:_
>>>>             _179*0.265=47.436_
>>>>             _179*0.670=119.93_
>>>>             _179*0.065=11.635_
>>>>             _?_
>>>>             _Best regards_
>>>>             _Humberto A._
>>>>
>>>>
>>>>             _2016-03-21 0:01 GMT+00:00 Gregory J.
>>>> Ward?<gregoryjward at gmail.com>:_
>>>>
>>>>> _Thanks, Humberto.? I ran the following command:_
>>>>>                _?_
>>>>>                _dctimestep photocells.vmx?singleclear.xml south.dmx
>>>>> lisboa.smx > illum.dat_
>>>>>                _?_
>>>>>                _without complaint.? I am attaching the result._
>>>>>                _?_
>>>>>                _Are you sure you have a recent installation of
>>>>> dctimestep?? What do you see when you run dctimestep with no
>>>>> arguments?? You should get:_
>>>>>                _?_
>>>>>                                _Usage: dctimestep [-n nsteps][-o
>>>>> ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]_
>>>>>                 _? ?or: dctimestep [-n nsteps][-o
>>>>> ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf Dmat.dat [skyf]_
>>>>>
>>>>>                _?_
>>>>>                _Cheers,_
>>>>>                _-Greg_
>>>>>                _?_
>>>>>                _?_
>>>
>>>> _FROM: Greg Ward <gward at lmi.net>_
>>>>
>>>>           _SUBJECT: Re: [Radiance-general] sudo recontrib_
>>>>
>>>>           _DATE: March 20, 2016 2:47:23 PM PDT_
>>>>
>>>>           _?_
>>>
>>>> _Hi Humberto,_
>>>>           _?_
>>>>           _Actually, your header and ASCII data look OK.? Although
>>>> some tools would put all the columns together in one humungous line
>>>> with 8760x3, white space has no meaning here and gendaymtx output has
>>>> a newline for each column entry with an extra empty line between
>>>> rows._
>>>>           _?_
>>>>           _If you run the "wc" command on your file, ?you should get
>>>> something like:_
>>>>           _?_
>>>>           _20202873 ?60601692 ?xxxxxxxxxxx ?lisboa.smx_
>>>>           _?_
>>>>           _I don't know what xxxxxxx will be, but some large number
>>>> corresponding to the number of bytes in your file.? The first two
>>>> values may not be exactly this, but should be reasonably close.?
>>>> Otherwise, your file really is missing some data at the end._
>>>>           _?_
>>>>           _If your numbers agree roughly with the above, please send
>>>> me a gzip'ped copies of your lisboa.wea and the output (*.smx) file
>>>> in a private e-mail and I will see if I can figure out what is going
>>>> on._
>>>>           _?_
>>>>           _Cheers,_
>>>>           _-Greg_
>>>>
>>>>> _FROM: Humberto Antunes <hs.antunes at campus.fct.unl.pt>_
>>>>>
>>>>>            _SUBJECT: Re: [Radiance-general] sudo recontrib_
>>>>>
>>>>>            _DATE: March 20, 2016 2:30:23 PM PDT_
>>>>>
>>>>>            _?_
>>>>
>>>>> _Hi Urtza and Andy, _                       _?_
>>>>>             _I am having the same issue as you do Urtza, I have
>>>>> already checked the headers of my view matrix, daylight matrix and
>>>>> sky matrix, and that doesn't seem to be the problem, my view matrix
>>>>> is a 6X145, the daylight matrix a 145X2306, and finally, the sky
>>>>> matrix is a 2306X8760, and this info is on the headers of each._
>>>>>             _?_
>>>>>             _I think the problem is in the sky matrix file itself,
>>>>> it's not being properly written._
>>>>>             _?_
>>>>>             _Mine looks like this:_
>>>>>                          _#?RADIANCE_
>>>>>              _gendaymtx -m 4 weather/lisboa.wea_
>>>>>              _LATLONG= 38.73000000 -9.15000000_
>>>>>              _NROWS=2306_
>>>>>              _NCOLS=8760_
>>>>>              _NCOMP=3_
>>>>>              _FORMAT=ascii_
>>>>>              _?_
>>>>>              _0 0 0_
>>>>>              _0 0 0_
>>>>>              _0 0 0_
>>>>>              _0 0 0_
>>>>>              _0 0 0_
>>>>>              _0 0 0_
>>>>>              _0 0 0_
>>>>>              _0.477 0.477 0.477_
>>>>>              _1.85 1.85 1.85_
>>>>>              _4.85 4.85 4.85_
>>>>>              _11.6 11.6 11.6_
>>>>>              _10.5 10.5 10.5_
>>>>>
>>>>>             _..._
>>>>>             _?_
>>>>>             _?_
>>>>>             _So it doesn't have the number of columns it should, i
>>>>> think that each row has the RGB value for one patch of one time step
>>>>> and it should have the RGB values for all time steps of one patch,
>>>>> is that it?_
>>>>>             _?_
>>>>>             _Best regards_
>>>>>             _Humberto A._
>>
>>
>> ?
>>
>> ________________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>> ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160321/89e48ea7/attachment.html>

From hs.antunes at campus.fct.unl.pt  Mon Mar 21 06:17:39 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Mon, 21 Mar 2016 13:17:39 +0000
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160321133837.Horde.yww9gjRw_58GD0G7Tz7R_ON@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
	<20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
	<CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>
	<20160321133837.Horde.yww9gjRw_58GD0G7Tz7R_ON@correu.upc.edu>
Message-ID: <CA+fuGR7hpLCL=a=iNAN8-NuaxtME_r7iBU-J4iHYJnP12Hj+0A@mail.gmail.com>

I have read more carefully you e-mail, do you have 552 sensor points? if
yes your number of rows in the view matrix is 552 and not 145, try to
change NROWS=552 in you view matrix.

Best regards
Humberto A.

2016-03-21 12:38 GMT+00:00 <urtza.uriarte at upc.edu>:

> Dear Humberto,
>
> Yes, I am trying without "-n 8760" option, as follow:
>
> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx
> Barcelona.smx
> fatal - unexpected EOF reading Barcelona.smx
>
> I do not know. Thank you,
> Urtza.
>
>
> Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:
>
> Hi Urtza,
>
> Are you running dctimestep with the "-n" option? If yes try to run it
> without it. use:
>
> dctimestep view.mtx daylight.mtx transmision.xml sky.mtx
>
> For me this solved the problem, no need for the "-n 8760" option.
>
> Hope it helps.
>
> Best regards
> Humberto A.
>
> 2016-03-21 11:16 GMT+00:00 <urtza.uriarte at upc.edu>:
>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> *Dear Andy and Greg, (I am trying to follow Humberto's issue, as well) I
>> have added to View Matrix sensor points number (I notice that in Daylight
>> Matrix I have not had NROWS data and I have added NROWS=145). To sum up I
>> have; Sky Matrix, 2306x8760; Daylight Matrix, 145x2306; and View Matrix,
>> 552x145. I launched dctimestep and it scripts the same error (fatal -
>> unexpected EOF reading Barcelona.smx). In case, I review the Sky Matrix
>> with "wc" and I get almost the number that Greg suggested: wc Barcelona.smx
>> 20202874  60601692 213155298 Barcelona.smx I do not know what is the
>> problem with Sky Matrix (although it seems a little estrange 2306x8760 data
>> are in rows). Thank you in advance, Urtza. "Gregory J. Ward"
>> <gregoryjward at gmail.com <gregoryjward at gmail.com>> escribi?:*
>>
>> *Following this up on the general mailing list...*
>>
>> *The problem was the one Andy pointed out earlier, where the newer
>> version of dctimestep doesn't want the "-n" option when the sky matrix has
>> a header.*
>>
>> *Regarding the new question (appearing below), using rmtxop in this way
>> is indeed the simplest means to convert RGB irradiance to illuminance in
>> lux.*
>>
>> *Cheers,*
>> *-Greg*
>>
>> *From: Humberto Antunes <hs.antunes at campus.fct.unl.pt
>> <hs.antunes at campus.fct.unl.pt>>*
>> *Subject: Re: dctimesteps*
>> *Date: March 20, 2016 6:04:36 PM PDT*
>>
>>
>> *I tried to run the command like that and it worked just fine, i got the
>> same results as you did.*
>>
>> *I was running the dctimestep command with the -n 8760 option, but this
>> is not needed because the sky matrix already contains that info in the
>> header, running it like you solved the issue.*
>>
>> *Now there is just one thing remaining, to convert the RGB values from
>> illum.dat file to illuminance values can i use the command below or is
>> there a better way?*
>>
>> *rmtxop -c 47.435 119.93 11.635 results/illum.dat>
>> results/illum_final.dat*
>>
>> *Note:*
>> *179*0.265=47.436*
>> *179*0.670=119.93*
>> *179*0.065=11.635*
>>
>> *Best regards*
>> *Humberto A.*
>>
>> *2016-03-21 0:01 GMT+00:00 Gregory J. Ward <gregoryjward at gmail.com
>> <gregoryjward at gmail.com>>:*
>>
>>> *Thanks, Humberto.  I ran the following command:*
>>>
>>> *dctimestep photocells.vmx singleclear.xml south.dmx lisboa.smx >
>>> illum.dat*
>>>
>>> *without complaint.  I am attaching the result.*
>>>
>>> *Are you sure you have a recent installation of dctimestep?  What do you
>>> see when you run dctimestep with no arguments?  You should get:*
>>>
>>> *Usage: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] DCspec
>>> [skyf]*
>>> *   or: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf
>>> Dmat.dat [skyf]*
>>>
>>> *Cheers,*
>>> *-Greg*
>>>
>>>
>>>
>>
>> *From: Greg Ward <gward at lmi.net <gward at lmi.net>>*
>>
>> *Subject: Re: [Radiance-general] sudo recontrib*
>>
>> *Date: March 20, 2016 2:47:23 PM PDT*
>>
>>
>>
>> *Hi Humberto,*
>>
>> *Actually, your header and ASCII data look OK.  Although some tools would
>> put all the columns together in one humungous line with 8760x3, white space
>> has no meaning here and gendaymtx output has a newline for each column
>> entry with an extra empty line between rows.*
>>
>> *If you run the "wc" command on your file,  you should get something
>> like:*
>>
>> *20202873  60601692  xxxxxxxxxxx  lisboa.smx*
>>
>> *I don't know what xxxxxxx will be, but some large number corresponding
>> to the number of bytes in your file.  The first two values may not be
>> exactly this, but should be reasonably close.  Otherwise, your file really
>> is missing some data at the end.*
>>
>> *If your numbers agree roughly with the above, please send me a gzip'ped
>> copies of your lisboa.wea and the output (*.smx) file in a private e-mail
>> and I will see if I can figure out what is going on.*
>>
>> *Cheers,*
>> *-Greg*
>>
>> *From: Humberto Antunes <hs.antunes at campus.fct.unl.pt
>> <hs.antunes at campus.fct.unl.pt>>*
>>
>> *Subject: Re: [Radiance-general] sudo recontrib*
>>
>> *Date: March 20, 2016 2:30:23 PM PDT*
>>
>>
>>
>> *Hi Urtza and Andy,*
>>
>> *I am having the same issue as you do Urtza, I have already checked the
>> headers of my view matrix, daylight matrix and sky matrix, and that doesn't
>> seem to be the problem, my view matrix is a 6X145, the daylight matrix a
>> 145X2306, and finally, the sky matrix is a 2306X8760, and this info is on
>> the headers of each.*
>>
>> *I think the problem is in the sky matrix file itself, it's not being
>> properly written.*
>>
>> *Mine looks like this:*
>> *#?RADIANCE*
>> *gendaymtx -m 4 weather/lisboa.wea*
>> *LATLONG= 38.73000000 -9.15000000*
>> *NROWS=2306*
>> *NCOLS=8760*
>> *NCOMP=3*
>> *FORMAT=ascii*
>>
>> *0 0 0*
>> *0 0 0*
>> *0 0 0*
>> *0 0 0*
>> *0 0 0*
>> *0 0 0*
>> *0 0 0*
>> *0.477 0.477 0.477*
>> *1.85 1.85 1.85*
>> *4.85 4.85 4.85*
>> *11.6 11.6 11.6*
>> *10.5 10.5 10.5*
>> *...*
>>
>>
>> *So it doesn't have the number of columns it should, i think that each
>> row has the RGB value for one patch of one time step and it should have the
>> RGB values for all time steps of one patch, is that it?*
>>
>> *Best regards*
>> *Humberto A.*
>>
>>
>>
>>
>>
>>
>>
>> *_______________________________________________ Radiance-general mailing
>> list Radiance-general at radiance-online.org
>> <Radiance-general at radiance-online.org>
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>> <http://www.radiance-online.org/mailman/listinfo/radiance-general>*
>>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160321/f3a329a5/attachment-0001.html>

From urtza.uriarte at upc.edu  Mon Mar 21 06:32:24 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Mon, 21 Mar 2016 14:32:24 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <CA+fuGR7hpLCL=a=iNAN8-NuaxtME_r7iBU-J4iHYJnP12Hj+0A@mail.gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
	<20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
	<CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>
	<20160321133837.Horde.yww9gjRw_58GD0G7Tz7R_ON@correu.upc.edu>
	<CA+fuGR7hpLCL=a=iNAN8-NuaxtME_r7iBU-J4iHYJnP12Hj+0A@mail.gmail.com>
Message-ID: <20160321143224.Horde.-gPEEPfrq-0R2eeTCRuUyjH@correu.upc.edu>

  Yes, I have in View Matrix NROWS=552 and NCOLS=145 (I think that you have
6 sensor points, so 6x145).
Does it make sense? I think they are 145 Klems patches.

Best regards,
Urtza.

Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:

> I have read more carefully you e-mail, do you have 552 sensor points? if
> yes your number of rows in the view matrix is 552 and not 145, try to
> change NROWS=552 in you view matrix.      ?
>    Best regards
>    Humberto A.
>
>
>    2016-03-21 12:38 GMT+00:00 <urtza.uriarte at upc.edu>:
>
>> _Dear Humberto,
>>
>> Yes, I am trying without "-n 8760" option, as follow:
>>
>> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx
>> Barcelona.smx?
>> fatal - unexpected EOF reading Barcelona.smx
>>
>> I do not know. Thank you,
>> Urtza.
>>
>> Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:_
>>
>>> _Hi Urtza, _                   _?_
>>>           _Are you running dctimestep with the "-n" option? If yes try
>>> to run it without it. use:_
>>>           _?_
>>>           _dctimestep view.mtx daylight.mtx transmision.xml sky.mtx_
>>>           _?_
>>>           _For me this solved the problem, no need for the "-n 8760"
>>> option._
>>>           _?_
>>>           _Hope it helps._
>>>           _?_
>>>           _Best regards_
>>>           _Humberto A._
>>>
>>>
>>>           _2016-03-21 11:16 GMT+00:00 <urtza.uriarte at upc.edu>:_
>>>
>>>> __Dear Andy and Greg,
>>>>
>>>> (I am trying to follow Humberto's issue, as well)
>>>> I have added to View Matrix sensor points number (I notice that in
>>>> Daylight Matrix I have not had NROWS data and I have added
>>>> NROWS=145). To sum up I have;?Sky Matrix, 2306x8760; Daylight Matrix,
>>>> 145x2306; and View Matrix, 552x145.?I launched dctimestep and it
>>>> scripts the same error (fatal - unexpected EOF reading Barcelona.smx).
>>>>
>>>> In case, I review the Sky Matrix with "wc" and I get almost the
>>>> number that Greg suggested:
>>>>
>>>> wc Barcelona.smx
>>>>
>>>> 20202874 ?60601692 213155298 Barcelona.smx
>>>>
>>>> I do not know what is the problem with Sky Matrix (although it seems
>>>> a little estrange 2306x8760 data are in rows).
>>>> Thank you in advance,
>>>> Urtza.
>>>>
>>>> "Gregory J. Ward" <gregoryjward at gmail.com> escribi?:__
>>>>
>>>>> __Following this up on the general mailing list...__
>>>>>                 __?__
>>>>>                 __The problem was the one Andy pointed out earlier,
>>>>> where the newer version of dctimestep doesn't want the "-n" option
>>>>> when the sky matrix has a header.__
>>>>>                 __?__
>>>>>                 __Regarding the new question (appearing below),
>>>>> using rmtxop in this way is indeed the simplest means to convert RGB
>>>>> irradiance to illuminance in lux.__
>>>>>                 __?__
>>>>>                 __Cheers,__
>>>>>                 __-Greg__
>>>>>
>>>>>
>>>>>> __FROM:?Humberto Antunes <hs.antunes at campus.fct.unl.pt>__
>>>>>>                   __SUBJECT:?Re: dctimesteps__
>>>>>>                   __DATE:?March 20, 2016 6:04:36 PM PDT__
>>>>>>                   __?__
>>>>>
>>>>>> __I tried to run the command like that and it worked just fine, i
>>>>>> got the same results as you did._ _
>>>>>>     __?__
>>>>>>                    __I was running the dctimestep command with the
>>>>>> -n 8760 option, but this is not needed because the sky matrix
>>>>>> already contains that info in the header, running it like you
>>>>>> solved the issue.__
>>>>>>                    __?__
>>>>>>                    __Now there is just one thing remaining, to
>>>>>> convert the RGB values from illum.dat file to illuminance values
>>>>>> can i use the command below or is there a better way?__
>>>>>>                    __?__
>>>>>>                    __rmtxop -c 47.435 119.93 11.635
>>>>>> results/illum.dat> results/illum_final.dat__
>>>>>>                    __?__
>>>>>>                    __Note:__
>>>>>>                    __179*0.265=47.436__
>>>>>>                    __179*0.670=119.93__
>>>>>>                    __179*0.065=11.635__
>>>>>>                    __?__
>>>>>>                    __Best regards__
>>>>>>                    __Humberto A.__
>>>>>>
>>>>>>
>>>>>>                    __2016-03-21 0:01 GMT+00:00 Gregory J.
>>>>>> Ward?<gregoryjward at gmail.com>:__
>>>>>>
>>>>>>> __Thanks, Humberto.? I ran the following command:__
>>>>>>>                       __?__
>>>>>>>                       __dctimestep photocells.vmx?singleclear.xml
>>>>>>> south.dmx lisboa.smx > illum.dat__
>>>>>>>                       __?__
>>>>>>>                       __without complaint.? I am attaching the
>>>>>>> result.__
>>>>>>>                       __?__
>>>>>>>                       __Are you sure you have a recent
>>>>>>> installation of dctimestep?? What do you see when you run
>>>>>>> dctimestep with no arguments?? You should get:__
>>>>>>>                       __?__
>>>>>>>                                              __Usage: dctimestep
>>>>>>> [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]__
>>>>>>>                        __? ?or: dctimestep [-n nsteps][-o
>>>>>>> ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf Dmat.dat [skyf]__
>>>>>>>
>>>>>>>                       __?__
>>>>>>>                       __Cheers,__
>>>>>>>                       __-Greg__
>>>>>>>                       __?__
>>>>>>>                       __?__
>>>>>
>>>>>> __FROM: Greg Ward <gward at lmi.net>__
>>>>>>
>>>>>>                  __SUBJECT: Re: [Radiance-general] sudo recontrib__
>>>>>>
>>>>>>                  __DATE: March 20, 2016 2:47:23 PM PDT__
>>>>>>
>>>>>>                  __?__
>>>>>
>>>>>> __Hi Humberto,__
>>>>>>                  __?__
>>>>>>                  __Actually, your header and ASCII data look OK.?
>>>>>> Although some tools would put all the columns together in one
>>>>>> humungous line with 8760x3, white space has no meaning here and
>>>>>> gendaymtx output has a newline for each column entry with an extra
>>>>>> empty line between rows.__
>>>>>>                  __?__
>>>>>>                  __If you run the "wc" command on your file, ?you
>>>>>> should get something like:__
>>>>>>                  __?__
>>>>>>                  __20202873 ?60601692 ?xxxxxxxxxxx ?lisboa.smx__
>>>>>>                  __?__
>>>>>>                  __I don't know what xxxxxxx will be, but some
>>>>>> large number corresponding to the number of bytes in your file.?
>>>>>> The first two values may not be exactly this, but should be
>>>>>> reasonably close.? Otherwise, your file really is missing some data
>>>>>> at the end.__
>>>>>>                  __?__
>>>>>>                  __If your numbers agree roughly with the above,
>>>>>> please send me a gzip'ped copies of your lisboa.wea and the output
>>>>>> (*.smx) file in a private e-mail and I will see if I can figure out
>>>>>> what is going on.__
>>>>>>                  __?__
>>>>>>                  __Cheers,__
>>>>>>                  __-Greg__
>>>>>>
>>>>>>> __FROM: Humberto Antunes <hs.antunes at campus.fct.unl.pt>__
>>>>>>>
>>>>>>>                   __SUBJECT: Re: [Radiance-general] sudo
recontrib__
>>>>>>>
>>>>>>>                   __DATE: March 20, 2016 2:30:23 PM PDT__
>>>>>>>
>>>>>>>                   __?__
>>>>>>
>>>>>>> __Hi Urtza and Andy,_ _                                     __?__
>>>>>>>                    __I am having the same issue as you do Urtza, I
>>>>>>> have already checked the headers of my view matrix, daylight
>>>>>>> matrix and sky matrix, and that doesn't seem to be the problem, my
>>>>>>> view matrix is a 6X145, the daylight matrix a 145X2306, and
>>>>>>> finally, the sky matrix is a 2306X8760, and this info is on the
>>>>>>> headers of each.__
>>>>>>>                    __?__
>>>>>>>                    __I think the problem is in the sky matrix file
>>>>>>> itself, it's not being properly written.__
>>>>>>>                    __?__
>>>>>>>                    __Mine looks like this:__
>>>>>>>                                        __#?RADIANCE__
>>>>>>>                     __gendaymtx -m 4 weather/lisboa.wea__
>>>>>>>                     __LATLONG= 38.73000000 -9.15000000__
>>>>>>>                     __NROWS=2306__
>>>>>>>                     __NCOLS=8760__
>>>>>>>                     __NCOMP=3__
>>>>>>>                     __FORMAT=ascii__
>>>>>>>                     __?__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0.477 0.477 0.477__
>>>>>>>                     __1.85 1.85 1.85__
>>>>>>>                     __4.85 4.85 4.85__
>>>>>>>                     __11.6 11.6 11.6__
>>>>>>>                     __10.5 10.5 10.5__
>>>>>>>
>>>>>>>                    __...__
>>>>>>>                    __?__
>>>>>>>                    __?__
>>>>>>>                    __So it doesn't have the number of columns it
>>>>>>> should, i think that each row has the RGB value for one patch of
>>>>>>> one time step and it should have the RGB values for all time steps
>>>>>>> of one patch, is that it?__
>>>>>>>                    __?__
>>>>>>>                    __Best regards__
>>>>>>>                    __Humberto A.__
>>>>
>>>>
>>>> _?_
>>>>
>>>> _________________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>>>> ?_
>>
>>
>> ?
>>
>> ________________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>> ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160321/2433b5a4/attachment.html>

From gregoryjward at gmail.com  Mon Mar 21 12:58:57 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 21 Mar 2016 12:58:57 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160321143224.Horde.-gPEEPfrq-0R2eeTCRuUyjH@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
	<20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
	<CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>
	<20160321133837.Horde.yww9gjRw_58GD0G7Tz7R_ON@correu.upc.edu>
	<CA+fuGR7hpLCL=a=iNAN8-NuaxtME_r7iBU-J4iHYJnP12Hj+0A@mail.gmail.com>
	<20160321143224.Horde.-gPEEPfrq-0R2eeTCRuUyjH@correu.upc.edu>
Message-ID: <EE1EEF15-85E1-4757-983C-9E9AB2411471@lmi.net>

Can you send the output of "getinfo" on your matrix files, i.e.:

	getinfo photocells.vmx southest.dmx Barcelona.smx

Also, send the output of dctimestep executed with no arguments.  (It should produce a usage message.)

Thanks,
-Greg

> From: urtza.uriarte at upc.edu
> Subject: Re: [Radiance-general] sudo recontrib
> Date: March 21, 2016 6:32:24 AM PDT
> 
> Yes, I have in View Matrix NROWS=552 and NCOLS=145 (I think that you have 6 sensor points, so 6x145).
> Does it make sense? I think they are 145 Klems patches.
> 
> Best regards,
> Urtza.
> 
> 
> Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:
> 
>> I have read more carefully you e-mail, do you have 552 sensor points? if yes your number of rows in the view matrix is 552 and not 145, try to change NROWS=552 in you view matrix.
>>  
>> Best regards
>> Humberto A.
>> 
>> 2016-03-21 12:38 GMT+00:00 <urtza.uriarte at upc.edu>:
>> Dear Humberto,
>> 
>> Yes, I am trying without "-n 8760" option, as follow:
>> 
>> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx Barcelona.smx 
>> fatal - unexpected EOF reading Barcelona.smx
>> 
>> I do not know. Thank you,
>> Urtza.
>> 
>> 
>> Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:
>> 
>>> Hi Urtza,
>>>  
>>> Are you running dctimestep with the "-n" option? If yes try to run it without it. use:
>>>  
>>> dctimestep view.mtx daylight.mtx transmision.xml sky.mtx
>>>  
>>> For me this solved the problem, no need for the "-n 8760" option.
>>>  
>>> Hope it helps.
>>>  
>>> Best regards
>>> Humberto A.
>>> 
>>> 2016-03-21 11:16 GMT+00:00 <urtza.uriarte at upc.edu>:
>>> Dear Andy and Greg,
>>> 
>>> (I am trying to follow Humberto's issue, as well)
>>> I have added to View Matrix sensor points number (I notice that in Daylight Matrix I have not had NROWS data and I have added NROWS=145). To sum up I have; Sky Matrix, 2306x8760; Daylight Matrix, 145x2306; and View Matrix, 552x145. I launched dctimestep and it scripts the same error (fatal - unexpected EOF reading Barcelona.smx).
>>> 
>>> In case, I review the Sky Matrix with "wc" and I get almost the number that Greg suggested:
>>> 
>>> wc Barcelona.smx
>>> 
>>> 20202874  60601692 213155298 Barcelona.smx
>>> 
>>> 
>>> I do not know what is the problem with Sky Matrix (although it seems a little estrange 2306x8760 data are in rows).
>>> Thank you in advance,
>>> Urtza.
>>> 
>>> 
>>> "Gregory J. Ward" <gregoryjward at gmail.com> escribi?:
>>> 
>>>> Following this up on the general mailing list...
>>>>  
>>>> The problem was the one Andy pointed out earlier, where the newer version of dctimestep doesn't want the "-n" option when the sky matrix has a header.
>>>>  
>>>> Regarding the new question (appearing below), using rmtxop in this way is indeed the simplest means to convert RGB irradiance to illuminance in lux.
>>>>  
>>>> Cheers,
>>>> -Greg
>>>> 
>>>>> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>>>>> Subject: Re: dctimesteps
>>>>> Date: March 20, 2016 6:04:36 PM PDT
>>>>>  
>>>>> I tried to run the command like that and it worked just fine, i got the same results as you did.
>>>>>  
>>>>> I was running the dctimestep command with the -n 8760 option, but this is not needed because the sky matrix already contains that info in the header, running it like you solved the issue.
>>>>>  
>>>>> Now there is just one thing remaining, to convert the RGB values from illum.dat file to illuminance values can i use the command below or is there a better way?
>>>>>  
>>>>> rmtxop -c 47.435 119.93 11.635 results/illum.dat> results/illum_final.dat
>>>>>  
>>>>> Note:
>>>>> 179*0.265=47.436
>>>>> 179*0.670=119.93
>>>>> 179*0.065=11.635
>>>>>  
>>>>> Best regards
>>>>> Humberto A.
>>>>> 
>>>>> 2016-03-21 0:01 GMT+00:00 Gregory J. Ward <gregoryjward at gmail.com>:
>>>>> Thanks, Humberto.  I ran the following command:
>>>>>  
>>>>> dctimestep photocells.vmx singleclear.xml south.dmx lisboa.smx > illum.dat
>>>>>  
>>>>> without complaint.  I am attaching the result.
>>>>>  
>>>>> Are you sure you have a recent installation of dctimestep?  What do you see when you run dctimestep with no arguments?  You should get:
>>>>>  
>>>>> Usage: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]
>>>>>    or: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf Dmat.dat [skyf]
>>>>>  
>>>>> Cheers,
>>>>> -Greg
>>>>>  
>>>>>  
>>>> 
>>>>> From: Greg Ward <gward at lmi.net>
>>>>> Subject: Re: [Radiance-general] sudo recontrib
>>>>> Date: March 20, 2016 2:47:23 PM PDT
>>>>>  
>>>>> Hi Humberto,
>>>>>  
>>>>> Actually, your header and ASCII data look OK.  Although some tools would put all the columns together in one humungous line with 8760x3, white space has no meaning here and gendaymtx output has a newline for each column entry with an extra empty line between rows.
>>>>>  
>>>>> If you run the "wc" command on your file,  you should get something like:
>>>>>  
>>>>> 20202873  60601692  xxxxxxxxxxx  lisboa.smx
>>>>>  
>>>>> I don't know what xxxxxxx will be, but some large number corresponding to the number of bytes in your file.  The first two values may not be exactly this, but should be reasonably close.  Otherwise, your file really is missing some data at the end.
>>>>>  
>>>>> If your numbers agree roughly with the above, please send me a gzip'ped copies of your lisboa.wea and the output (*.smx) file in a private e-mail and I will see if I can figure out what is going on.
>>>>>  
>>>>> Cheers,
>>>>> -Greg
>>>>> 
>>>>>> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>>>>>> Subject: Re: [Radiance-general] sudo recontrib
>>>>>> Date: March 20, 2016 2:30:23 PM PDT
>>>>>>  
>>>>>> Hi Urtza and Andy,
>>>>>>  
>>>>>> I am having the same issue as you do Urtza, I have already checked the headers of my view matrix, daylight matrix and sky matrix, and that doesn't seem to be the problem, my view matrix is a 6X145, the daylight matrix a 145X2306, and finally, the sky matrix is a 2306X8760, and this info is on the headers of each.
>>>>>>  
>>>>>> I think the problem is in the sky matrix file itself, it's not being properly written.
>>>>>>  
>>>>>> Mine looks like this:
>>>>>> #?RADIANCE
>>>>>> gendaymtx -m 4 weather/lisboa.wea
>>>>>> LATLONG= 38.73000000 -9.15000000
>>>>>> NROWS=2306
>>>>>> NCOLS=8760
>>>>>> NCOMP=3
>>>>>> FORMAT=ascii
>>>>>>  
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0.477 0.477 0.477
>>>>>> 1.85 1.85 1.85
>>>>>> 4.85 4.85 4.85
>>>>>> 11.6 11.6 11.6
>>>>>> 10.5 10.5 10.5
>>>>>> ...
>>>>>>  
>>>>>>  
>>>>>> So it doesn't have the number of columns it should, i think that each row has the RGB value for one patch of one time step and it should have the RGB values for all time steps of one patch, is that it?
>>>>>>  
>>>>>> Best regards
>>>>>> Humberto A.
>>> 
>>>  
>>> 
>>> 
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>  
>> 
>>  
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>  
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160321/882f7c84/attachment-0001.html>

From gregoryjward at gmail.com  Mon Mar 21 18:11:27 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 21 Mar 2016 18:11:27 -0700
Subject: [Radiance-general] Getting Started
In-Reply-To: <CACL5kgRnqUurjni+M3FwPSj1X-UqzNgwKTOJ+ixfQ+QTzkjsEQ@mail.gmail.com>
References: <CACL5kgRnqUurjni+M3FwPSj1X-UqzNgwKTOJ+ixfQ+QTzkjsEQ@mail.gmail.com>
Message-ID: <BD8C9DE4-B676-4B3C-B1B9-96559443811E@lmi.net>

Hi Abdul,

Google suggests this page for getting started:

	http://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line

You can also read all about the default shell (Bash) here:

	http://www.gnu.org/software/bash/manual/bashref.html

Assuming you've installed Radiance correctly, you should be able to access the commands you'll need, which are organized and described here:

	http://radsite.lbl.gov/radiance/whatis_comp.html

For creating Radiance scene descriptions, the Radiance reference manual is essential reading:

	http://radsite.lbl.gov/radiance/refer/ray.html

Finally, the Chapter 1 tutorial from "Rendering with Radiance" is still a reasonable place to start once you get everything working.  The chapter also includes a nice introduction to the software, which is embarrassingly current for having been written in 1998:

	http://radsite.lbl.gov/radiance/book/ch1/ch1.pdf

As a short-cut, the tutorial files are also available from:

	http://radsite.lbl.gov/radiance/book/ch1/scene0.tar.Z

Best of luck!
-Greg

> From: "A.M. Irsyadi" <munirsyadi at gmail.com>
> Subject: [Radiance-general] Getting Started
> Date: March 21, 2016 3:42:43 AM PDT
> 
> Dear expert,
> I want to learn Radiance from the very basics. I have no experience using command prompt in OSX or Linux. I am using Mac OSX El capitan, I already installed Radiance on my Macbook. I have no idea how to start. I try to follow the tutorial provided, but I dont know how to start.
> Can someone pointing me the "very" basics step tuturial how to start using radiance until the very simple simulation.
> Thank you so much for your help
> Regards,
> --------------------------------------------------
> Abdul Munir
> munirsyadi at unsyiah.ac.id
> munirsyadi at gmail.com
> -------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160321/03ae3396/attachment.html>

From urtza.uriarte at upc.edu  Tue Mar 22 01:46:01 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Tue, 22 Mar 2016 09:46:01 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <EE1EEF15-85E1-4757-983C-9E9AB2411471@lmi.net>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
	<20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
	<CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>
	<20160321133837.Horde.yww9gjRw_58GD0G7Tz7R_ON@correu.upc.edu>
	<CA+fuGR7hpLCL=a=iNAN8-NuaxtME_r7iBU-J4iHYJnP12Hj+0A@mail.gmail.com>
	<20160321143224.Horde.-gPEEPfrq-0R2eeTCRuUyjH@correu.upc.edu>
	<EE1EEF15-85E1-4757-983C-9E9AB2411471@lmi.net>
Message-ID: <20160322094601.Horde.43EQwktNetdWoBnHsWZnH3k@correu.upc.edu>

  Dear Greg,
That are the output of getinfo:
  photocells.vmx:
  #?RADIANCE
  oconv material.rad sc-vi3Mphase.rad window.rad
  rcontrib -f /usr/share/radiance/klems_int.cal -b
kbin(-sqrt(.5),sqrt(.5),0,0,0,1) -bn Nkbins -m windowglow -I+ -ab 2 -ad
1000 -lw 2e-5 -y 552
  SOFTWARE= RADIANCE 5.0a (NREL build 5.0.a.2) lastmod Fri Apr 24 15:04:00
MDT 2015 by googs on lu040t-001
  CAPDATE= 2016:03:21 10:54:51
  GMT= 2016:03:21 09:54:51
  NCOMP=3
  NROWS=552
  NCOLS=145
  FORMAT=ascii
  ?
  southest.dmx:
  #?RADIANCE
  oconv material.rad sc-vi3Mphase.rad sky_overcast.rad
  rcontrib -c 1000 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow
  SOFTWARE= RADIANCE 5.0a (NREL build 5.0.a.2) lastmod Fri Apr 24 15:04:00
MDT 2015 by googs on lu040t-001
  CAPDATE= 2016:03:22 09:22:32
  GMT= 2016:03:22 08:22:32
  NCOMP=3
  NCOLS=2306
  FORMAT=ascii
  ?
  ?
  Barcelona.smx:
  #?RADIANCE
  gendaymtx -m 4 Barcelona.wea
  LATLONG= 41.28000000 2.07000000
  NROWS=2306
  NCOLS=8760
  NCOMP=3
  FORMAT=ascii


(In the southest.dmx I add NROWS=145 with test editor after. I have
launched with that data but it scripts the same error)

And If I am understanding well, the output of dctimestep is this script (It
does not script nothing more):
fatal - unexpected EOF reading Barcelona.smx

Thank you very much in advance.
Best regards,
Urtza.



Greg Ward <gregoryjward at gmail.com> escribi?:

> Can you send the output of "getinfo" on your matrix files, i.e.:    ?
>   getinfo?photocells.vmx southest.dmx Barcelona.smx
>   ?
>   Also, send the output of dctimestep executed with no arguments. ?(It
> should produce a usage message.)
> ?
>   Thanks,
>   -Greg
>
>
>> FROM: urtza.uriarte at upc.edu
>>
>>     SUBJECT: Re: [Radiance-general] sudo recontrib
>>
>>     DATE: March 21, 2016 6:32:24 AM PDT
>>
>>     ?
>
>> ?

  Yes, I have in View Matrix NROWS=552 and NCOLS=145 (I think that you have
6 sensor points, so 6x145).
Does it make sense? I think they are 145 Klems patches.

Best regards,
Urtza.

Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:

> I have read more carefully you e-mail, do you have 552 sensor points? if
> yes your number of rows in the view matrix is 552 and not 145, try to
> change NROWS=552 in you view matrix.      ?
>    Best regards
>    Humberto A.
>
>
>    2016-03-21 12:38 GMT+00:00 <urtza.uriarte at upc.edu>:
>
>> _Dear Humberto,
>>
>> Yes, I am trying without "-n 8760" option, as follow:
>>
>> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx
>> Barcelona.smx?
>> fatal - unexpected EOF reading Barcelona.smx
>>
>> I do not know. Thank you,
>> Urtza.
>>
>> Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:_
>>
>>> _Hi Urtza,_                   _?_
>>>           _Are you running dctimestep with the "-n" option? If yes try
>>> to run it without it. use:_
>>>           _?_
>>>           _dctimestep view.mtx daylight.mtx transmision.xml sky.mtx_
>>>           _?_
>>>           _For me this solved the problem, no need for the "-n 8760"
>>> option._
>>>           _?_
>>>           _Hope it helps._
>>>           _?_
>>>           _Best regards_
>>>           _Humberto A._
>>>
>>>
>>>           _2016-03-21 11:16 GMT+00:00 <urtza.uriarte at upc.edu>:_
>>>
>>>> __Dear Andy and Greg,
>>>>
>>>> (I am trying to follow Humberto's issue, as well)
>>>> I have added to View Matrix sensor points number (I notice that in
>>>> Daylight Matrix I have not had NROWS data and I have added
>>>> NROWS=145). To sum up I have;?Sky Matrix, 2306x8760; Daylight Matrix,
>>>> 145x2306; and View Matrix, 552x145.?I launched dctimestep and it
>>>> scripts the same error (fatal - unexpected EOF reading Barcelona.smx).
>>>>
>>>> In case, I review the Sky Matrix with "wc" and I get almost the
>>>> number that Greg suggested:
>>>>
>>>> wc Barcelona.smx
>>>>
>>>> 20202874 ?60601692 213155298 Barcelona.smx
>>>>
>>>> I do not know what is the problem with Sky Matrix (although it seems
>>>> a little estrange 2306x8760 data are in rows).
>>>> Thank you in advance,
>>>> Urtza.
>>>>
>>>> "Gregory J. Ward" <gregoryjward at gmail.com> escribi?:__
>>>>
>>>>> __Following this up on the general mailing list...__
>>>>>                 __?__
>>>>>                 __The problem was the one Andy pointed out earlier,
>>>>> where the newer version of dctimestep doesn't want the "-n" option
>>>>> when the sky matrix has a header.__
>>>>>                 __?__
>>>>>                 __Regarding the new question (appearing below),
>>>>> using rmtxop in this way is indeed the simplest means to convert RGB
>>>>> irradiance to illuminance in lux.__
>>>>>                 __?__
>>>>>                 __Cheers,__
>>>>>                 __-Greg__
>>>>>
>>>>>
>>>>>> __FROM:?Humberto Antunes <hs.antunes at campus.fct.unl.pt>__
>>>>>>                   __SUBJECT:?Re: dctimesteps__
>>>>>>                   __DATE:?March 20, 2016 6:04:36 PM PDT__
>>>>>>                   __?__
>>>>>
>>>>>> __I tried to run the command like that and it worked just fine, i
>>>>>> got the same results as you did.__
>>>>>>    __?__
>>>>>>                    __I was running the dctimestep command with the
>>>>>> -n 8760 option, but this is not needed because the sky matrix
>>>>>> already contains that info in the header, running it like you
>>>>>> solved the issue.__
>>>>>>                    __?__
>>>>>>                    __Now there is just one thing remaining, to
>>>>>> convert the RGB values from illum.dat file to illuminance values
>>>>>> can i use the command below or is there a better way?__
>>>>>>                    __?__
>>>>>>                    __rmtxop -c 47.435 119.93 11.635
>>>>>> results/illum.dat> results/illum_final.dat__
>>>>>>                    __?__
>>>>>>                    __Note:__
>>>>>>                    __179*0.265=47.436__
>>>>>>                    __179*0.670=119.93__
>>>>>>                    __179*0.065=11.635__
>>>>>>                    __?__
>>>>>>                    __Best regards__
>>>>>>                    __Humberto A.__
>>>>>>
>>>>>>
>>>>>>                    __2016-03-21 0:01 GMT+00:00 Gregory J.
>>>>>> Ward?<gregoryjward at gmail.com>:__
>>>>>>
>>>>>>> __Thanks, Humberto.? I ran the following command:__
>>>>>>>                       __?__
>>>>>>>                       __dctimestep photocells.vmx?singleclear.xml
>>>>>>> south.dmx lisboa.smx > illum.dat__
>>>>>>>                       __?__
>>>>>>>                       __without complaint.? I am attaching the
>>>>>>> result.__
>>>>>>>                       __?__
>>>>>>>                       __Are you sure you have a recent
>>>>>>> installation of dctimestep?? What do you see when you run
>>>>>>> dctimestep with no arguments?? You should get:__
>>>>>>>                       __?__
>>>>>>>                                              __Usage: dctimestep
>>>>>>> [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]__
>>>>>>>                        __? ?or: dctimestep [-n nsteps][-o
>>>>>>> ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf Dmat.dat [skyf]__
>>>>>>>
>>>>>>>                       __?__
>>>>>>>                       __Cheers,__
>>>>>>>                       __-Greg__
>>>>>>>                       __?__
>>>>>>>                       __?__
>>>>>
>>>>>> __FROM: Greg Ward <gward at lmi.net>__
>>>>>>
>>>>>>                  __SUBJECT: Re: [Radiance-general] sudo recontrib__
>>>>>>
>>>>>>                  __DATE: March 20, 2016 2:47:23 PM PDT__
>>>>>>
>>>>>>                  __?__
>>>>>
>>>>>> __Hi Humberto,__
>>>>>>                  __?__
>>>>>>                  __Actually, your header and ASCII data look OK.?
>>>>>> Although some tools would put all the columns together in one
>>>>>> humungous line with 8760x3, white space has no meaning here and
>>>>>> gendaymtx output has a newline for each column entry with an extra
>>>>>> empty line between rows.__
>>>>>>                  __?__
>>>>>>                  __If you run the "wc" command on your file, ?you
>>>>>> should get something like:__
>>>>>>                  __?__
>>>>>>                  __20202873 ?60601692 ?xxxxxxxxxxx ?lisboa.smx__
>>>>>>                  __?__
>>>>>>                  __I don't know what xxxxxxx will be, but some
>>>>>> large number corresponding to the number of bytes in your file.?
>>>>>> The first two values may not be exactly this, but should be
>>>>>> reasonably close.? Otherwise, your file really is missing some data
>>>>>> at the end.__
>>>>>>                  __?__
>>>>>>                  __If your numbers agree roughly with the above,
>>>>>> please send me a gzip'ped copies of your lisboa.wea and the output
>>>>>> (*.smx) file in a private e-mail and I will see if I can figure out
>>>>>> what is going on.__
>>>>>>                  __?__
>>>>>>                  __Cheers,__
>>>>>>                  __-Greg__
>>>>>>
>>>>>>> __FROM: Humberto Antunes <hs.antunes at campus.fct.unl.pt>__
>>>>>>>
>>>>>>>                   __SUBJECT: Re: [Radiance-general] sudo
recontrib__
>>>>>>>
>>>>>>>                   __DATE: March 20, 2016 2:30:23 PM PDT__
>>>>>>>
>>>>>>>                   __?__
>>>>>>
>>>>>>> __Hi Urtza and Andy,__                                     __?__
>>>>>>>                    __I am having the same issue as you do Urtza, I
>>>>>>> have already checked the headers of my view matrix, daylight
>>>>>>> matrix and sky matrix, and that doesn't seem to be the problem, my
>>>>>>> view matrix is a 6X145, the daylight matrix a 145X2306, and
>>>>>>> finally, the sky matrix is a 2306X8760, and this info is on the
>>>>>>> headers of each.__
>>>>>>>                    __?__
>>>>>>>                    __I think the problem is in the sky matrix file
>>>>>>> itself, it's not being properly written.__
>>>>>>>                    __?__
>>>>>>>                    __Mine looks like this:__
>>>>>>>                                        __#?RADIANCE__
>>>>>>>                     __gendaymtx -m 4 weather/lisboa.wea__
>>>>>>>                     __LATLONG= 38.73000000 -9.15000000__
>>>>>>>                     __NROWS=2306__
>>>>>>>                     __NCOLS=8760__
>>>>>>>                     __NCOMP=3__
>>>>>>>                     __FORMAT=ascii__
>>>>>>>                     __?__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0.477 0.477 0.477__
>>>>>>>                     __1.85 1.85 1.85__
>>>>>>>                     __4.85 4.85 4.85__
>>>>>>>                     __11.6 11.6 11.6__
>>>>>>>                     __10.5 10.5 10.5__
>>>>>>>
>>>>>>>                    __...__
>>>>>>>                    __?__
>>>>>>>                    __?__
>>>>>>>                    __So it doesn't have the number of columns it
>>>>>>> should, i think that each row has the RGB value for one patch of
>>>>>>> one time step and it should have the RGB values for all time steps
>>>>>>> of one patch, is that it?__
>>>>>>>                    __?__
>>>>>>>                    __Best regards__
>>>>>>>                    __Humberto A.__
>>>>
>>>>
>>>> _?_
>>>>
>>>> _________________________________________________
>>>> Radiance-general mailing list
>>>> Radiance-general at radiance-online.org
>>>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>>>> ?_
>>
>>
>> ?
>>
>> ________________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general_
>> ?


?
_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160322/c44d6b3c/attachment-0001.html>

From munirsyadi at gmail.com  Tue Mar 22 06:07:56 2016
From: munirsyadi at gmail.com (A.M. Irsyadi)
Date: Tue, 22 Mar 2016 20:07:56 +0700
Subject: [Radiance-general] Getting Started
In-Reply-To: <BD8C9DE4-B676-4B3C-B1B9-96559443811E@lmi.net>
References: <CACL5kgRnqUurjni+M3FwPSj1X-UqzNgwKTOJ+ixfQ+QTzkjsEQ@mail.gmail.com>
	<BD8C9DE4-B676-4B3C-B1B9-96559443811E@lmi.net>
Message-ID: <CACL5kgTivKHR3H1q20w8N7BH=wp-t+qxNG6Fvd_V8d-98ijxpw@mail.gmail.com>

Thank you so much Greg, I am following the tutorials. I hope I can follow
it.

Regards
On Mar 22, 2016 08:14, "Greg Ward" <gregoryjward at gmail.com> wrote:

> Hi Abdul,
>
> Google suggests this page for getting started:
>
> http://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line
>
> You can also read all about the default shell (Bash) here:
>
> http://www.gnu.org/software/bash/manual/bashref.html
>
> Assuming you've installed Radiance correctly, you should be able to access
> the commands you'll need, which are organized and described here:
>
> http://radsite.lbl.gov/radiance/whatis_comp.html
>
> For creating Radiance scene descriptions, the Radiance reference manual is
> essential reading:
>
> http://radsite.lbl.gov/radiance/refer/ray.html
>
> Finally, the Chapter 1 tutorial from "Rendering with Radiance" is still a
> reasonable place to start once you get everything working.  The chapter
> also includes a nice introduction to the software, which is embarrassingly
> current for having been written in 1998:
>
> http://radsite.lbl.gov/radiance/book/ch1/ch1.pdf
>
> As a short-cut, the tutorial files are also available from:
>
> http://radsite.lbl.gov/radiance/book/ch1/scene0.tar.Z
>
> Best of luck!
> -Greg
>
> *From: *"A.M. Irsyadi" <munirsyadi at gmail.com>
>
> *Subject: *[Radiance-general] Getting Started
>
> *Date: *March 21, 2016 3:42:43 AM PDT
>
>
> Dear expert,
> I want to learn Radiance from the very basics. I have no experience using
> command prompt in OSX or Linux. I am using Mac OSX El capitan, I already
> installed Radiance on my Macbook. I have no idea how to start. I try to
> follow the tutorial provided, but I dont know how to start.
> Can someone pointing me the "very" basics step tuturial how to start using
> radiance until the very simple simulation.
> Thank you so much for your help
> Regards,
> --------------------------------------------------
> Abdul Munir
> munirsyadi at unsyiah.ac.id
> munirsyadi at gmail.com
> -------------------------------------------------
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160322/a395e0a6/attachment.html>

From mcneil.andrew at gmail.com  Tue Mar 22 09:11:50 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Tue, 22 Mar 2016 09:11:50 -0700
Subject: [Radiance-general] Getting Started
In-Reply-To: <CACL5kgTivKHR3H1q20w8N7BH=wp-t+qxNG6Fvd_V8d-98ijxpw@mail.gmail.com>
References: <CACL5kgRnqUurjni+M3FwPSj1X-UqzNgwKTOJ+ixfQ+QTzkjsEQ@mail.gmail.com>
	<BD8C9DE4-B676-4B3C-B1B9-96559443811E@lmi.net>
	<CACL5kgTivKHR3H1q20w8N7BH=wp-t+qxNG6Fvd_V8d-98ijxpw@mail.gmail.com>
Message-ID: <CAEFJVk_=6cOE5xt=HL1m2JZ=52_YVRQN0Rp+Ukzd9-1+hWDupg@mail.gmail.com>

Hi Abdul,

Did you see the two tutorials on this page specifically for new Mac users?
Giulio and I prepared them 10 years ago when we were training alot of
people internally at Arup: http://radiance-online.org/learning/tutorials

I know they're dated and sparse, but they still have some useful things.

Since you're starting fresh, maybe you could keep a log of important things
you've learned and then later write them into a tutorial? No one is paid to
write tutorials for Radiance (okay, i was briefly paid for the genBSDF
tutorial but ended up spending more time than I was paid for), and the
community relies on each other to create tutorials. New user tutorials are
particularly difficult to write when you have 15 years under your belt
because you can't remember what you didn't know. Maybe you could turn your
struggle into gold for a new user?

Best,
Andy









On Tue, Mar 22, 2016 at 6:07 AM, A.M. Irsyadi <munirsyadi at gmail.com> wrote:

> Thank you so much Greg, I am following the tutorials. I hope I can follow
> it.
>
> Regards
> On Mar 22, 2016 08:14, "Greg Ward" <gregoryjward at gmail.com> wrote:
>
>> Hi Abdul,
>>
>> Google suggests this page for getting started:
>>
>> http://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line
>>
>> You can also read all about the default shell (Bash) here:
>>
>> http://www.gnu.org/software/bash/manual/bashref.html
>>
>> Assuming you've installed Radiance correctly, you should be able to
>> access the commands you'll need, which are organized and described here:
>>
>> http://radsite.lbl.gov/radiance/whatis_comp.html
>>
>> For creating Radiance scene descriptions, the Radiance reference manual
>> is essential reading:
>>
>> http://radsite.lbl.gov/radiance/refer/ray.html
>>
>> Finally, the Chapter 1 tutorial from "Rendering with Radiance" is still a
>> reasonable place to start once you get everything working.  The chapter
>> also includes a nice introduction to the software, which is embarrassingly
>> current for having been written in 1998:
>>
>> http://radsite.lbl.gov/radiance/book/ch1/ch1.pdf
>>
>> As a short-cut, the tutorial files are also available from:
>>
>> http://radsite.lbl.gov/radiance/book/ch1/scene0.tar.Z
>>
>> Best of luck!
>> -Greg
>>
>> *From: *"A.M. Irsyadi" <munirsyadi at gmail.com>
>>
>> *Subject: *[Radiance-general] Getting Started
>>
>> *Date: *March 21, 2016 3:42:43 AM PDT
>>
>>
>> Dear expert,
>> I want to learn Radiance from the very basics. I have no experience using
>> command prompt in OSX or Linux. I am using Mac OSX El capitan, I already
>> installed Radiance on my Macbook. I have no idea how to start. I try to
>> follow the tutorial provided, but I dont know how to start.
>> Can someone pointing me the "very" basics step tuturial how to start
>> using radiance until the very simple simulation.
>> Thank you so much for your help
>> Regards,
>> --------------------------------------------------
>> Abdul Munir
>> munirsyadi at unsyiah.ac.id
>> munirsyadi at gmail.com
>> -------------------------------------------------
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160322/270f4ecc/attachment.html>

From Raphael.Compagnon at hefr.ch  Tue Mar 22 09:28:51 2016
From: Raphael.Compagnon at hefr.ch (=?iso-8859-1?Q?Compagnon_Rapha=EBl?=)
Date: Tue, 22 Mar 2016 16:28:51 +0000
Subject: [Radiance-general] Getting Started
In-Reply-To: <CACL5kgTivKHR3H1q20w8N7BH=wp-t+qxNG6Fvd_V8d-98ijxpw@mail.gmail.com>
References: <CACL5kgRnqUurjni+M3FwPSj1X-UqzNgwKTOJ+ixfQ+QTzkjsEQ@mail.gmail.com>
	<BD8C9DE4-B676-4B3C-B1B9-96559443811E@lmi.net>,
	<CACL5kgTivKHR3H1q20w8N7BH=wp-t+qxNG6Fvd_V8d-98ijxpw@mail.gmail.com>
Message-ID: <A6691D7EACBAC74589C1134EB0758B7F01441DE4E3@HEFRMBX01.sofr.hefr.lan>

Hi Abdul

You can also find an old (written 19 years ago...) Radiance tutorial from me on: http://radsite.lbl.gov/radiance/refer/index.html#cat4
I can nevertheless ensure you that the basic radiance commands that are presented in this tutorial are remaining exactly the same in today's Radiance version. Since that time there are only a few commands that have changed their names, namely:
rview became rvu
gcalc became icalc

I also add the same remarks as Andy...

Hope this will of help.

Rapha?l


From gregoryjward at gmail.com  Tue Mar 22 09:51:47 2016
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Tue, 22 Mar 2016 09:51:47 -0700
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <20160322173646.Horde.92ia5VaTrIE9Lk__VxAlnoL@correu.upc.edu>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
	<20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
	<CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>
	<20160321133837.Horde.yww9gjRw_58GD0G7Tz7R_ON@correu.upc.edu>
	<CA+fuGR7hpLCL=a=iNAN8-NuaxtME_r7iBU-J4iHYJnP12Hj+0A@mail.gmail.com>
	<20160321143224.Horde.-gPEEPfrq-0R2eeTCRuUyjH@correu.upc.edu>
	<EE1EEF15-85E1-4757-983C-9E9AB2411471@lmi.net>
	<20160322094601.Horde.43EQwktNetdWoBnHsWZnH3k@correu.upc.edu>
	<B3BDC4C6-267B-46A2-A0C7-04FAADD24319@lmi.net>
	<20160322173646.Horde.92ia5VaTrIE9Lk__VxAlnoL@correu.upc.edu>
Message-ID: <3D080138-4684-45BC-A873-267447EC17CB@gmail.com>

Hi Urtza,

You need not bother sending the gzip'ped file.  You have an outdated installation of dctimestep, and I believe this is your problem.

I don't know which version you have, exactly, but you should go to the NREL page and get the latest version of Radiance before working on this further.

Cheers,
-Greg

> From: urtza.uriarte at upc.edu
> Subject: Re: [Radiance-general] sudo recontrib
> Date: March 22, 2016 9:36:46 AM PDT
> Dear Greg,
> Thank you.
> If I have understood well the output of "dctimestep" is:
> 
> Usage: dctimestep DCspec [tregvec]
>    or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]
> 
> I am going to send you the gzip'ped Barcelona.smx by WeTransfer (Excuse me ziped file has 40MB).
> Thank you very much in advance,
> Urtza.
> 
> Greg Ward <gregoryjward at gmail.com> escribi?:
> 
>> Hi Urtza,
>>  
>> Well, I don't see anything wrong with the headers, except for southest.dmx, which you say you corrected.  In any case, the error you are seeing occurs before that file is even accessed by dctimestep, so it must be something else going wrong.
>>  
>> Can you e-mail me your gzip'ped Barcelona.smx file, so I can test it on my machine?  Also, will you send me the output of "dctimestep" executed with no arguments on your machine?  This will help me determine if you have the correct version.
>>  
>> Cheers,
>> -Greg
>> 
>>> From: urtza.uriarte at upc.edu
>>> Subject: Re: [Radiance-general] sudo recontrib
>>> Date: March 22, 2016 1:46:01 AM PDT
>>>  
>>> 
> Dear Greg,
> That are the output of getinfo:
> 
> photocells.vmx:
> #?RADIANCE
> oconv material.rad sc-vi3Mphase.rad window.rad
> rcontrib -f /usr/share/radiance/klems_int.cal -b kbin(-sqrt(.5),sqrt(.5),0,0,0,1) -bn Nkbins -m windowglow -I+ -ab 2 -ad 1000 -lw 2e-5 -y 552
> SOFTWARE= RADIANCE 5.0a (NREL build 5.0.a.2) lastmod Fri Apr 24 15:04:00 MDT 2015 by googs on lu040t-001
> CAPDATE= 2016:03:21 10:54:51
> GMT= 2016:03:21 09:54:51
> NCOMP=3
> NROWS=552
> NCOLS=145
> FORMAT=ascii
>  
> southest.dmx:
> #?RADIANCE
> oconv material.rad sc-vi3Mphase.rad sky_overcast.rad
> rcontrib -c 1000 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow
> SOFTWARE= RADIANCE 5.0a (NREL build 5.0.a.2) lastmod Fri Apr 24 15:04:00 MDT 2015 by googs on lu040t-001
> CAPDATE= 2016:03:22 09:22:32
> GMT= 2016:03:22 08:22:32
> NCOMP=3
> NCOLS=2306
> FORMAT=ascii
>  
>  
> Barcelona.smx:
> #?RADIANCE
> gendaymtx -m 4 Barcelona.wea
> LATLONG= 41.28000000 2.07000000
> NROWS=2306
> NCOLS=8760
> NCOMP=3
> FORMAT=ascii
> 
> 
> (In the southest.dmx I add NROWS=145 with test editor after. I have launched with that data but it scripts the same error)
> 
> And If I am understanding well, the output of dctimestep is this script (It does not script nothing more):
> fatal - unexpected EOF reading Barcelona.smx
> 
> Thank you very much in advance.
> Best regards,
> Urtza.
> 
> 
> Greg Ward <gregoryjward at gmail.com> escribi?:
> 
>> Can you send the output of "getinfo" on your matrix files, i.e.:
>> 
>>  
>> getinfo photocells.vmx southest.dmx Barcelona.smx
>>  
>> Also, send the output of dctimestep executed with no arguments.  (It should produce a usage message.)
>>  
>> Thanks,
>> -Greg
>> 
>>> From: urtza.uriarte at upc.edu
>>> Subject: Re: [Radiance-general] sudo recontrib
>>> Date: March 21, 2016 6:32:24 AM PDT
>>>  
>>>  
>>> 
> Yes, I have in View Matrix NROWS=552 and NCOLS=145 (I think that you have 6 sensor points, so 6x145).
> Does it make sense? I think they are 145 Klems patches.
> 
> Best regards,
> Urtza.
> 
> 
> Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:
> 
>> I have read more carefully you e-mail, do you have 552 sensor points? if yes your number of rows in the view matrix is 552 and not 145, try to change NROWS=552 in you view matrix.
>>  
>> Best regards
>> Humberto A.
>> 
>> 2016-03-21 12:38 GMT+00:00 <urtza.uriarte at upc.edu>:
>> Dear Humberto,
>> 
>> Yes, I am trying without "-n 8760" option, as follow:
>> 
>> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx Barcelona.smx 
>> fatal - unexpected EOF reading Barcelona.smx
>> 
>> I do not know. Thank you,
>> Urtza.
>> 
>> 
>> Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:
>> 
>>> Hi Urtza,
>>>  
>>> Are you running dctimestep with the "-n" option? If yes try to run it without it. use:
>>>  
>>> dctimestep view.mtx daylight.mtx transmision.xml sky.mtx
>>>  
>>> For me this solved the problem, no need for the "-n 8760" option.
>>>  
>>> Hope it helps.
>>>  
>>> Best regards
>>> Humberto A.
>>> 
>>> 2016-03-21 11:16 GMT+00:00 <urtza.uriarte at upc.edu>:
>>> Dear Andy and Greg,
>>> 
>>> (I am trying to follow Humberto's issue, as well)
>>> I have added to View Matrix sensor points number (I notice that in Daylight Matrix I have not had NROWS data and I have added NROWS=145). To sum up I have; Sky Matrix, 2306x8760; Daylight Matrix, 145x2306; and View Matrix, 552x145. I launched dctimestep and it scripts the same error (fatal - unexpected EOF reading Barcelona.smx).
>>> 
>>> In case, I review the Sky Matrix with "wc" and I get almost the number that Greg suggested:
>>> 
>>> wc Barcelona.smx
>>> 
>>> 20202874  60601692 213155298 Barcelona.smx
>>> 
>>> 
>>> I do not know what is the problem with Sky Matrix (although it seems a little estrange 2306x8760 data are in rows).
>>> Thank you in advance,
>>> Urtza.
>>> 
>>> 
>>> "Gregory J. Ward" <gregoryjward at gmail.com> escribi?:
>>> 
>>>> Following this up on the general mailing list...
>>>>  
>>>> The problem was the one Andy pointed out earlier, where the newer version of dctimestep doesn't want the "-n" option when the sky matrix has a header.
>>>>  
>>>> Regarding the new question (appearing below), using rmtxop in this way is indeed the simplest means to convert RGB irradiance to illuminance in lux.
>>>>  
>>>> Cheers,
>>>> -Greg
>>>> 
>>>>> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>>>>> Subject: Re: dctimesteps
>>>>> Date: March 20, 2016 6:04:36 PM PDT
>>>>>  
>>>>> I tried to run the command like that and it worked just fine, i got the same results as you did.
>>>>>  
>>>>> I was running the dctimestep command with the -n 8760 option, but this is not needed because the sky matrix already contains that info in the header, running it like you solved the issue.
>>>>>  
>>>>> Now there is just one thing remaining, to convert the RGB values from illum.dat file to illuminance values can i use the command below or is there a better way?
>>>>>  
>>>>> rmtxop -c 47.435 119.93 11.635 results/illum.dat> results/illum_final.dat
>>>>>  
>>>>> Note:
>>>>> 179*0.265=47.436
>>>>> 179*0.670=119.93
>>>>> 179*0.065=11.635
>>>>>  
>>>>> Best regards
>>>>> Humberto A.
>>>>> 
>>>>> 2016-03-21 0:01 GMT+00:00 Gregory J. Ward <gregoryjward at gmail.com>:
>>>>> Thanks, Humberto.  I ran the following command:
>>>>>  
>>>>> dctimestep photocells.vmx singleclear.xml south.dmx lisboa.smx > illum.dat
>>>>>  
>>>>> without complaint.  I am attaching the result.
>>>>>  
>>>>> Are you sure you have a recent installation of dctimestep?  What do you see when you run dctimestep with no arguments?  You should get:
>>>>>  
>>>>> Usage: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]
>>>>>    or: dctimestep [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf Dmat.dat [skyf]
>>>>>  
>>>>> Cheers,
>>>>> -Greg
>>>>>  
>>>>>  
>>>> 
>>>>> From: Greg Ward <gward at lmi.net>
>>>>> Subject: Re: [Radiance-general] sudo recontrib
>>>>> Date: March 20, 2016 2:47:23 PM PDT
>>>>>  
>>>>> Hi Humberto,
>>>>>  
>>>>> Actually, your header and ASCII data look OK.  Although some tools would put all the columns together in one humungous line with 8760x3, white space has no meaning here and gendaymtx output has a newline for each column entry with an extra empty line between rows.
>>>>>  
>>>>> If you run the "wc" command on your file,  you should get something like:
>>>>>  
>>>>> 20202873  60601692  xxxxxxxxxxx  lisboa.smx
>>>>>  
>>>>> I don't know what xxxxxxx will be, but some large number corresponding to the number of bytes in your file.  The first two values may not be exactly this, but should be reasonably close.  Otherwise, your file really is missing some data at the end.
>>>>>  
>>>>> If your numbers agree roughly with the above, please send me a gzip'ped copies of your lisboa.wea and the output (*.smx) file in a private e-mail and I will see if I can figure out what is going on.
>>>>>  
>>>>> Cheers,
>>>>> -Greg
>>>>> 
>>>>>> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
>>>>>> Subject: Re: [Radiance-general] sudo recontrib
>>>>>> Date: March 20, 2016 2:30:23 PM PDT
>>>>>>  
>>>>>> Hi Urtza and Andy,
>>>>>>  
>>>>>> I am having the same issue as you do Urtza, I have already checked the headers of my view matrix, daylight matrix and sky matrix, and that doesn't seem to be the problem, my view matrix is a 6X145, the daylight matrix a 145X2306, and finally, the sky matrix is a 2306X8760, and this info is on the headers of each.
>>>>>>  
>>>>>> I think the problem is in the sky matrix file itself, it's not being properly written.
>>>>>>  
>>>>>> Mine looks like this:
>>>>>> #?RADIANCE
>>>>>> gendaymtx -m 4 weather/lisboa.wea
>>>>>> LATLONG= 38.73000000 -9.15000000
>>>>>> NROWS=2306
>>>>>> NCOLS=8760
>>>>>> NCOMP=3
>>>>>> FORMAT=ascii
>>>>>>  
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0 0 0
>>>>>> 0.477 0.477 0.477
>>>>>> 1.85 1.85 1.85
>>>>>> 4.85 4.85 4.85
>>>>>> 11.6 11.6 11.6
>>>>>> 10.5 10.5 10.5
>>>>>> ...
>>>>>>  
>>>>>>  
>>>>>> So it doesn't have the number of columns it should, i think that each row has the RGB value for one patch of one time step and it should have the RGB values for all time steps of one patch, is that it?
>>>>>>  
>>>>>> Best regards
>>>>>> Humberto A.
>>>  
>>> 
> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160322/d1f4512a/attachment-0001.html>

From urtza.uriarte at upc.edu  Tue Mar 22 09:56:30 2016
From: urtza.uriarte at upc.edu (urtza.uriarte at upc.edu)
Date: Tue, 22 Mar 2016 17:56:30 +0100
Subject: [Radiance-general] sudo recontrib
In-Reply-To: <3D080138-4684-45BC-A873-267447EC17CB@gmail.com>
References: <20160315113642.Horde.1ddwZZ2F0j_WJf1QWt5vxiF@correu.upc.edu>
	<56E8082D.9020206@gmx.net>
	<20160315171901.Horde.YjsxsfxB6ABSPjZE0OF_Pae@correu.upc.edu>
	<CAEFJVk_+rE6Aui5U-w3v+zfzmUGq+LEEqCPep4-69j=iwDgw-A@mail.gmail.com>
	<CAEFJVk98wnmtOFN3Ny77yDFC7cxDJAMuVVZDLjHstmUDsWW+TA@mail.gmail.com>
	<20160316092506.Horde.ZB9uihEe0NBRZjuTWR2hjs_@correu.upc.edu>
	<20160316122338.Horde.f42vPTrFxLKuXE4kop3Mytw@correu.upc.edu>
	<AC12A751-37E3-4F8F-B968-2937557D5C5B@gmail.com>
	<20160317102323.Horde.4UWXXsMiR6Jompq1OAks5lH@correu.upc.edu>
	<CAEFJVk8hvP1=Mp50hDBYmckB59-nJ+44_OVUCOXB7WEZQhG+pA@mail.gmail.com>
	<20160318125636.Horde.oYTCs0N5lQMDaEYb7EB31rJ@correu.upc.edu>
	<CAEFJVk_U08ZJAJ9=RmK=UhgNxE=EM1v5qPKCL4H-0tDa5xZcBw@mail.gmail.com>
	<f46o2rfue06c1diwgsq2h43v.1458481335979@email.android.com>
	<CA+fuGR5Hgk+sTPMqvi4xrWo4GDZz7WrWUGQefFa0nszgpNT=+A@mail.gmail.com>
	<8733AF12-EB05-496A-A58B-5829B06D0AAC@lmi.net>
	<53C04127-038D-4407-8814-0D3FC76F9DC1@gmail.com>
	<20160321121612.Horde.rGCIagsrC4IRZl_lxwSfNJm@correu.upc.edu>
	<CA+fuGR5Vbk9AX+bGXYBuQC4tdzTuh=T+PGCHD6gJfdLit0C_xQ@mail.gmail.com>
	<20160321133837.Horde.yww9gjRw_58GD0G7Tz7R_ON@correu.upc.edu>
	<CA+fuGR7hpLCL=a=iNAN8-NuaxtME_r7iBU-J4iHYJnP12Hj+0A@mail.gmail.com>
	<20160321143224.Horde.-gPEEPfrq-0R2eeTCRuUyjH@correu.upc.edu>
	<EE1EEF15-85E1-4757-983C-9E9AB2411471@lmi.net>
	<20160322094601.Horde.43EQwktNetdWoBnHsWZnH3k@correu.upc.edu>
	<B3BDC4C6-267B-46A2-A0C7-04FAADD24319@lmi.net>
	<20160322173646.Horde.92ia5VaTrIE9Lk__VxAlnoL@correu.upc.edu>
	<3D080138-4684-45BC-A873-267447EC17CB@gmail.com>
Message-ID: <20160322175630.Horde.T-N6xKydut1JVrVzDM5yURf@correu.upc.edu>

  Dear Greg,
Thank you very much. I will install the latest Radiance version.
Best regards for you,
Urtza.

"Gregory J. Ward" <gregoryjward at gmail.com> escribi?:

> Hi Urtza,
>   ?
>   You need not bother sending the gzip'ped file. ?You have an outdated
> installation of dctimestep, and I believe this is your problem.
>   ?
>   I don't know which version you have, exactly, but you should go to the
> NREL page and get the latest version of Radiance before working on this
> further.
>   ?
>   Cheers,
>   -Greg
>
>> FROM: urtza.uriarte at upc.edu
>>
>>    SUBJECT: Re: [Radiance-general] sudo recontrib
>>
>>    DATE: March 22, 2016 9:36:46 AM PDT
>
>> ?

  Dear Greg,
Thank you.
If I have understood well the output of "dctimestep" is:
  Usage: dctimestep DCspec [tregvec]
  ? ?or: dctimestep Vspec Tbsdf.xml Dmat.dat [tregvec]

I am going to send you the gzip'ped Barcelona.smx by WeTransfer (Excuse me
ziped file has 40MB).
Thank you very much in advance,
Urtza.


Greg Ward <gregoryjward at gmail.com> escribi?:

> Hi Urtza,
>   ?
>   Well, I don't see anything wrong with the headers, except for
> southest.dmx, which you say you corrected. ?In any case, the error you
> are seeing occurs before that file is even accessed by dctimestep, so it
> must be something else going wrong.
>   ?
>   Can you e-mail me your gzip'ped Barcelona.smx file, so I can test it
> on my machine? ?Also, will you send me the output of "dctimestep"
> executed with no arguments on your machine? ?This will help me determine
> if you have the correct version.
>   ?
>   Cheers,
>   -Greg
>
>> FROM: urtza.uriarte at upc.edu
>>
>>    SUBJECT: Re: [Radiance-general] sudo recontrib
>>
>>    DATE: March 22, 2016 1:46:01 AM PDT
>
>> ?

  Dear Greg,
That are the output of getinfo:
  photocells.vmx:
  #?RADIANCE
  oconv material.rad sc-vi3Mphase.rad window.rad
  rcontrib -f /usr/share/radiance/klems_int.cal -b
kbin(-sqrt(.5),sqrt(.5),0,0,0,1) -bn Nkbins -m windowglow -I+ -ab 2 -ad
1000 -lw 2e-5 -y 552
  SOFTWARE= RADIANCE 5.0a (NREL build 5.0.a.2) lastmod Fri Apr 24 15:04:00
MDT 2015 by googs on lu040t-001
  CAPDATE= 2016:03:21 10:54:51
  GMT= 2016:03:21 09:54:51
  NCOMP=3
  NROWS=552
  NCOLS=145
  FORMAT=ascii
  ?
  southest.dmx:
  #?RADIANCE
  oconv material.rad sc-vi3Mphase.rad sky_overcast.rad
  rcontrib -c 1000 -e MF:4 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow
  SOFTWARE= RADIANCE 5.0a (NREL build 5.0.a.2) lastmod Fri Apr 24 15:04:00
MDT 2015 by googs on lu040t-001
  CAPDATE= 2016:03:22 09:22:32
  GMT= 2016:03:22 08:22:32
  NCOMP=3
  NCOLS=2306
  FORMAT=ascii
  ?
  ?
  Barcelona.smx:
  #?RADIANCE
  gendaymtx -m 4 Barcelona.wea
  LATLONG= 41.28000000 2.07000000
  NROWS=2306
  NCOLS=8760
  NCOMP=3
  FORMAT=ascii


(In the southest.dmx I add NROWS=145 with test editor after. I have
launched with that data but it scripts the same error)

And If I am understanding well, the output of dctimestep is this script (It
does not script nothing more):
fatal - unexpected EOF reading Barcelona.smx

Thank you very much in advance.
Best regards,
Urtza.



Greg Ward <gregoryjward at gmail.com> escribi?:

> Can you send the output of "getinfo" on your matrix files, i.e.:
>   ?
>   getinfo?photocells.vmx southest.dmx Barcelona.smx
>   ?
>   Also, send the output of dctimestep executed with no arguments. ?(It
> should produce a usage message.)
> ?
>   Thanks,
>   -Greg
>
>
>> FROM: urtza.uriarte at upc.edu
>>
>>     SUBJECT: Re: [Radiance-general] sudo recontrib
>>
>>     DATE: March 21, 2016 6:32:24 AM PDT
>>
>>     ?
>
>> ?

  Yes, I have in View Matrix NROWS=552 and NCOLS=145 (I think that you have
6 sensor points, so 6x145).
Does it make sense? I think they are 145 Klems patches.

Best regards,
Urtza.

Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:

> I have read more carefully you e-mail, do you have 552 sensor points? if
> yes your number of rows in the view matrix is 552 and not 145, try to
> change NROWS=552 in you view matrix.      ?
>    Best regards
>    Humberto A.
>
>
>    2016-03-21 12:38 GMT+00:00 <urtza.uriarte at upc.edu>:
>
>> _Dear Humberto,
>>
>> Yes, I am trying without "-n 8760" option, as follow:
>>
>> dctimestep photocells.vmx Film3M_145x1297_9142012_t.xml southest.dmx
>> Barcelona.smx?
>> fatal - unexpected EOF reading Barcelona.smx
>>
>> I do not know. Thank you,
>> Urtza.
>>
>> Humberto Antunes <hs.antunes at campus.fct.unl.pt> escribi?:_
>>
>>> _Hi Urtza,_                   _?_
>>>           _Are you running dctimestep with the "-n" option? If yes try
>>> to run it without it. use:_
>>>           _?_
>>>           _dctimestep view.mtx daylight.mtx transmision.xml sky.mtx_
>>>           _?_
>>>           _For me this solved the problem, no need for the "-n 8760"
>>> option._
>>>           _?_
>>>           _Hope it helps._
>>>           _?_
>>>           _Best regards_
>>>           _Humberto A._
>>>
>>>
>>>           _2016-03-21 11:16 GMT+00:00 <urtza.uriarte at upc.edu>:_
>>>
>>>> __Dear Andy and Greg,
>>>>
>>>> (I am trying to follow Humberto's issue, as well)
>>>> I have added to View Matrix sensor points number (I notice that in
>>>> Daylight Matrix I have not had NROWS data and I have added
>>>> NROWS=145). To sum up I have;?Sky Matrix, 2306x8760; Daylight Matrix,
>>>> 145x2306; and View Matrix, 552x145.?I launched dctimestep and it
>>>> scripts the same error (fatal - unexpected EOF reading Barcelona.smx).
>>>>
>>>> In case, I review the Sky Matrix with "wc" and I get almost the
>>>> number that Greg suggested:
>>>>
>>>> wc Barcelona.smx
>>>>
>>>> 20202874 ?60601692 213155298 Barcelona.smx
>>>>
>>>> I do not know what is the problem with Sky Matrix (although it seems
>>>> a little estrange 2306x8760 data are in rows).
>>>> Thank you in advance,
>>>> Urtza.
>>>>
>>>> "Gregory J. Ward" <gregoryjward at gmail.com> escribi?:__
>>>>
>>>>> __Following this up on the general mailing list...__
>>>>>                 __?__
>>>>>                 __The problem was the one Andy pointed out earlier,
>>>>> where the newer version of dctimestep doesn't want the "-n" option
>>>>> when the sky matrix has a header.__
>>>>>                 __?__
>>>>>                 __Regarding the new question (appearing below),
>>>>> using rmtxop in this way is indeed the simplest means to convert RGB
>>>>> irradiance to illuminance in lux.__
>>>>>                 __?__
>>>>>                 __Cheers,__
>>>>>                 __-Greg__
>>>>>
>>>>>
>>>>>> __FROM:?Humberto Antunes <hs.antunes at campus.fct.unl.pt>__
>>>>>>                   __SUBJECT:?Re: dctimesteps__
>>>>>>                   __DATE:?March 20, 2016 6:04:36 PM PDT__
>>>>>>                   __?__
>>>>>
>>>>>> __I tried to run the command like that and it worked just fine, i
>>>>>> got the same results as you did.__
>>>>>>    __?__
>>>>>>                    __I was running the dctimestep command with the
>>>>>> -n 8760 option, but this is not needed because the sky matrix
>>>>>> already contains that info in the header, running it like you
>>>>>> solved the issue.__
>>>>>>                    __?__
>>>>>>                    __Now there is just one thing remaining, to
>>>>>> convert the RGB values from illum.dat file to illuminance values
>>>>>> can i use the command below or is there a better way?__
>>>>>>                    __?__
>>>>>>                    __rmtxop -c 47.435 119.93 11.635
>>>>>> results/illum.dat> results/illum_final.dat__
>>>>>>                    __?__
>>>>>>                    __Note:__
>>>>>>                    __179*0.265=47.436__
>>>>>>                    __179*0.670=119.93__
>>>>>>                    __179*0.065=11.635__
>>>>>>                    __?__
>>>>>>                    __Best regards__
>>>>>>                    __Humberto A.__
>>>>>>
>>>>>>
>>>>>>                    __2016-03-21 0:01 GMT+00:00 Gregory J.
>>>>>> Ward?<gregoryjward at gmail.com>:__
>>>>>>
>>>>>>> __Thanks, Humberto.? I ran the following command:__
>>>>>>>                       __?__
>>>>>>>                       __dctimestep photocells.vmx?singleclear.xml
>>>>>>> south.dmx lisboa.smx > illum.dat__
>>>>>>>                       __?__
>>>>>>>                       __without complaint.? I am attaching the
>>>>>>> result.__
>>>>>>>                       __?__
>>>>>>>                       __Are you sure you have a recent
>>>>>>> installation of dctimestep?? What do you see when you run
>>>>>>> dctimestep with no arguments?? You should get:__
>>>>>>>                       __?__
>>>>>>>                                              __Usage: dctimestep
>>>>>>> [-n nsteps][-o ospec][-i{f|d|h}][-o{f|d}] DCspec [skyf]__
>>>>>>>                        __? ?or: dctimestep [-n nsteps][-o
>>>>>>> ospec][-i{f|d|h}][-o{f|d}] Vspec Tbsdf Dmat.dat [skyf]__
>>>>>>>
>>>>>>>                       __?__
>>>>>>>                       __Cheers,__
>>>>>>>                       __-Greg__
>>>>>>>                       __?__
>>>>>>>                       __?__
>>>>>
>>>>>> __FROM: Greg Ward <gward at lmi.net>__
>>>>>>
>>>>>>                  __SUBJECT: Re: [Radiance-general] sudo recontrib__
>>>>>>
>>>>>>                  __DATE: March 20, 2016 2:47:23 PM PDT__
>>>>>>
>>>>>>                  __?__
>>>>>
>>>>>> __Hi Humberto,__
>>>>>>                  __?__
>>>>>>                  __Actually, your header and ASCII data look OK.?
>>>>>> Although some tools would put all the columns together in one
>>>>>> humungous line with 8760x3, white space has no meaning here and
>>>>>> gendaymtx output has a newline for each column entry with an extra
>>>>>> empty line between rows.__
>>>>>>                  __?__
>>>>>>                  __If you run the "wc" command on your file, ?you
>>>>>> should get something like:__
>>>>>>                  __?__
>>>>>>                  __20202873 ?60601692 ?xxxxxxxxxxx ?lisboa.smx__
>>>>>>                  __?__
>>>>>>                  __I don't know what xxxxxxx will be, but some
>>>>>> large number corresponding to the number of bytes in your file.?
>>>>>> The first two values may not be exactly this, but should be
>>>>>> reasonably close.? Otherwise, your file really is missing some data
>>>>>> at the end.__
>>>>>>                  __?__
>>>>>>                  __If your numbers agree roughly with the above,
>>>>>> please send me a gzip'ped copies of your lisboa.wea and the output
>>>>>> (*.smx) file in a private e-mail and I will see if I can figure out
>>>>>> what is going on.__
>>>>>>                  __?__
>>>>>>                  __Cheers,__
>>>>>>                  __-Greg__
>>>>>>
>>>>>>> __FROM: Humberto Antunes <hs.antunes at campus.fct.unl.pt>__
>>>>>>>
>>>>>>>                   __SUBJECT: Re: [Radiance-general] sudo
recontrib__
>>>>>>>
>>>>>>>                   __DATE: March 20, 2016 2:30:23 PM PDT__
>>>>>>>
>>>>>>>                   __?__
>>>>>>
>>>>>>> __Hi Urtza and Andy,__                                     __?__
>>>>>>>                    __I am having the same issue as you do Urtza, I
>>>>>>> have already checked the headers of my view matrix, daylight
>>>>>>> matrix and sky matrix, and that doesn't seem to be the problem, my
>>>>>>> view matrix is a 6X145, the daylight matrix a 145X2306, and
>>>>>>> finally, the sky matrix is a 2306X8760, and this info is on the
>>>>>>> headers of each.__
>>>>>>>                    __?__
>>>>>>>                    __I think the problem is in the sky matrix file
>>>>>>> itself, it's not being properly written.__
>>>>>>>                    __?__
>>>>>>>                    __Mine looks like this:__
>>>>>>>                                        __#?RADIANCE__
>>>>>>>                     __gendaymtx -m 4 weather/lisboa.wea__
>>>>>>>                     __LATLONG= 38.73000000 -9.15000000__
>>>>>>>                     __NROWS=2306__
>>>>>>>                     __NCOLS=8760__
>>>>>>>                     __NCOMP=3__
>>>>>>>                     __FORMAT=ascii__
>>>>>>>                     __?__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0 0 0__
>>>>>>>                     __0.477 0.477 0.477__
>>>>>>>                     __1.85 1.85 1.85__
>>>>>>>                     __4.85 4.85 4.85__
>>>>>>>                     __11.6 11.6 11.6__
>>>>>>>                     __10.5 10.5 10.5__
>>>>>>>
>>>>>>>                    __...__
>>>>>>>                    __?__
>>>>>>>                    __?__
>>>>>>>                    __So it doesn't have the number of columns it
>>>>>>> should, i think that each row has the RGB value for one patch of
>>>>>>> one time step and it should have the RGB values for all time steps
>>>>>>> of one patch, is that it?__
>>>>>>>                    __?__
>>>>>>>                    __Best regards__
>>>>>>>                    __Humberto A.__
>>>>
>>>>                ?


?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160322/da5f755a/attachment-0001.html>

From Galen.Burrell at arup.com  Wed Mar 23 05:48:33 2016
From: Galen.Burrell at arup.com (Galen Burrell)
Date: Wed, 23 Mar 2016 12:48:33 +0000
Subject: [Radiance-general] rcontrib malloc error
Message-ID: <03C6E4397401E049BB24420FF0DA35C3473293EA@AMXExMb01.global.arup.com>

Just an update on this error: After searching through my materials definitions per Greg's suggestion, I found that I had a glass definition of 95% light transmission, which resulted in a transmissivity of > 1.  Doh!  After reducing the light transmission to something more sensible I stopped getting the error.  Thanks Greg! 

Date: Thu, 17 Mar 2016 14:49:01 -0700
From: Greg Ward <gregoryjward at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] rcontrib malloc error
Message-ID: <4671033C-42AD-4540-94BD-C2554731B67F at lmi.net>
Content-Type: text/plain; charset="windows-1252"

Hi Galen,

I've never seen rcontrib run out of memory in this way before.  What are your rendering options for rcontrib?  Do any of your surfaces have greater than 100% reflectance or transmittance?  This could cause the number of rays to increase rather than decrease on multiple bounces, which could lead to exponential memory growth during ray tree evaluation.

-Greg

> From: Galen Burrell <Galen.Burrell at arup.com>
> Subject: [Radiance-general] rcontrib malloc error
> Date: March 17, 2016 1:39:45 PM PDT
> 
> I?m running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:
>  
> 1)
> rcontrib(2346) malloc: *** mmap(size=a really big number) failed 
> (error code=12)
> *** error: can?t allocate region
> *** set a breakpoint in malloc_error_break to debug
> rcontrib: system ? out of memory in samp_hemi: Cannot allocate memory
> rcontrib: system ? read error from render process
> Killed: 9
>  
> 2)
> rcontrib: system ? read error from render process
> Killed: 9
>  
> I can?t establish a pattern for why/when these two errors occur.
>  
> Oddly, I don?t always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don?t understand why grid size would influence memory though??
>  
> System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with 
> Yosemite installed Latest Radiance HEAD release; although the error 
> repeats on older versions from 6 months ago rcontrib settings are: ?n 
> 12 ?ab 12 ?ad 100000 ?lw 1e-5 ?I+
>  
> Any clues on why I?m getting these errors?
>  
> Thank you!
>  
> Galen

____________________________________________________________
Electronic mail messages entering and leaving Arup  business
systems are scanned for acceptability of content and viruses



From Robert.Guglielmetti at nrel.gov  Wed Mar 23 07:04:06 2016
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 23 Mar 2016 14:04:06 +0000
Subject: [Radiance-general] rcontrib malloc error
In-Reply-To: <03C6E4397401E049BB24420FF0DA35C3473293EA@AMXExMb01.global.arup.com>
References: <03C6E4397401E049BB24420FF0DA35C3473293EA@AMXExMb01.global.arup.com>
Message-ID: <D317FDB3.23E10%Robert.Guglielmetti@nrel.gov>

Thanks for the update; I figured it was something like that since I saw
this commit right around the time of this thread:

https://github.com/NREL/Radiance/commit/fa040e926fb1ed7147aa4fdb20be08a68b5
63250


=)



On 3/23/16, 6:48 AM, "Galen Burrell" <Galen.Burrell at arup.com> wrote:

>Just an update on this error: After searching through my materials
>definitions per Greg's suggestion, I found that I had a glass definition
>of 95% light transmission, which resulted in a transmissivity of > 1.
>Doh!  After reducing the light transmission to something more sensible I
>stopped getting the error.  Thanks Greg!
>
>Date: Thu, 17 Mar 2016 14:49:01 -0700
>From: Greg Ward <gregoryjward at gmail.com>
>To: Radiance general discussion <radiance-general at radiance-online.org>
>Subject: Re: [Radiance-general] rcontrib malloc error
>Message-ID: <4671033C-42AD-4540-94BD-C2554731B67F at lmi.net>
>Content-Type: text/plain; charset="windows-1252"
>
>Hi Galen,
>
>I've never seen rcontrib run out of memory in this way before.  What are
>your rendering options for rcontrib?  Do any of your surfaces have
>greater than 100% reflectance or transmittance?  This could cause the
>number of rays to increase rather than decrease on multiple bounces,
>which could lead to exponential memory growth during ray tree evaluation.
>
>-Greg
>
>> From: Galen Burrell <Galen.Burrell at arup.com>
>> Subject: [Radiance-general] rcontrib malloc error
>> Date: March 17, 2016 1:39:45 PM PDT
>> 
>> I?m running view matrix calculations using rfluxmtx/rcontrib for the
>>3-phase method and keep getting one of two errors:
>>  
>> 1)
>> rcontrib(2346) malloc: *** mmap(size=a really big number) failed
>> (error code=12)
>> *** error: can?t allocate region
>> *** set a breakpoint in malloc_error_break to debug
>> rcontrib: system ? out of memory in samp_hemi: Cannot allocate memory
>> rcontrib: system ? read error from render process
>> Killed: 9
>>  
>> 2)
>> rcontrib: system ? read error from render process
>> Killed: 9
>>  
>> I can?t establish a pattern for why/when these two errors occur.
>>  
>> Oddly, I don?t always get the error with some gridpoint files (with
>>5900 points), but I consistently get it with another gridpoint file
>>(with 7500 points).  I don?t understand why grid size would influence
>>memory though??
>>  
>> System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with
>> Yosemite installed Latest Radiance HEAD release; although the error
>> repeats on older versions from 6 months ago rcontrib settings are: ?n
>> 12 ?ab 12 ?ad 100000 ?lw 1e-5 ?I+
>>  
>> Any clues on why I?m getting these errors?
>>  
>> Thank you!
>>  
>> Galen
>
>____________________________________________________________
>Electronic mail messages entering and leaving Arup  business
>systems are scanned for acceptability of content and viruses
>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>http://www.radiance-online.org/mailman/listinfo/radiance-general



From gregoryjward at gmail.com  Wed Mar 23 08:20:59 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 23 Mar 2016 08:20:59 -0700
Subject: [Radiance-general] rcontrib malloc error
In-Reply-To: <03C6E4397401E049BB24420FF0DA35C3473293EA@AMXExMb01.global.arup.com>
References: <03C6E4397401E049BB24420FF0DA35C3473293EA@AMXExMb01.global.arup.com>
Message-ID: <D0189B40-4764-4D5C-BB74-D3431735D28B@lmi.net>

Good catch, Galen!  I'm glad you found the explanation.  Meanwhile, I changed the code so that (hopefully) we won't get runaway ray counts even if there are surfaces with >100% reflectance or transmittance.

Cheers!
-Greg

> From: Galen Burrell <Galen.Burrell at arup.com>
> Subject: Re: [Radiance-general] rcontrib malloc error
> Date: March 23, 2016 5:48:33 AM PDT
> 
> Just an update on this error: After searching through my materials definitions per Greg's suggestion, I found that I had a glass definition of 95% light transmission, which resulted in a transmissivity of > 1.  Doh!  After reducing the light transmission to something more sensible I stopped getting the error.  Thanks Greg! 
> 
> Date: Thu, 17 Mar 2016 14:49:01 -0700
> From: Greg Ward <gregoryjward at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] rcontrib malloc error
> 
> Hi Galen,
> 
> I've never seen rcontrib run out of memory in this way before.  What are your rendering options for rcontrib?  Do any of your surfaces have greater than 100% reflectance or transmittance?  This could cause the number of rays to increase rather than decrease on multiple bounces, which could lead to exponential memory growth during ray tree evaluation.
> 
> -Greg
> 
>> From: Galen Burrell <Galen.Burrell at arup.com>
>> Subject: [Radiance-general] rcontrib malloc error
>> Date: March 17, 2016 1:39:45 PM PDT
>> 
>> I?m running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:
>> 
>> 1)
>> rcontrib(2346) malloc: *** mmap(size=a really big number) failed 
>> (error code=12)
>> *** error: can?t allocate region
>> *** set a breakpoint in malloc_error_break to debug
>> rcontrib: system ? out of memory in samp_hemi: Cannot allocate memory
>> rcontrib: system ? read error from render process
>> Killed: 9
>> 
>> 2)
>> rcontrib: system ? read error from render process
>> Killed: 9
>> 
>> I can?t establish a pattern for why/when these two errors occur.
>> 
>> Oddly, I don?t always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don?t understand why grid size would influence memory though??
>> 
>> System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with 
>> Yosemite installed Latest Radiance HEAD release; although the error 
>> repeats on older versions from 6 months ago rcontrib settings are: ?n 
>> 12 ?ab 12 ?ad 100000 ?lw 1e-5 ?I+
>> 
>> Any clues on why I?m getting these errors?
>> 
>> Thank you!
>> 
>> Galen


From rmfritz3 at gmail.com  Thu Mar 24 09:22:35 2016
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Thu, 24 Mar 2016 09:22:35 -0700
Subject: [Radiance-general] Getting Started
In-Reply-To: <A6691D7EACBAC74589C1134EB0758B7F01441DE4E3@HEFRMBX01.sofr.hefr.lan>
References: <CACL5kgRnqUurjni+M3FwPSj1X-UqzNgwKTOJ+ixfQ+QTzkjsEQ@mail.gmail.com>
	<BD8C9DE4-B676-4B3C-B1B9-96559443811E@lmi.net>
	<CACL5kgTivKHR3H1q20w8N7BH=wp-t+qxNG6Fvd_V8d-98ijxpw@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F01441DE4E3@HEFRMBX01.sofr.hefr.lan>
Message-ID: <CANeAMo+-NOvc8v=i4nTsjyv8PPKWF=6-HEcPdFtirVrGpte4ZQ@mail.gmail.com>

Also, good introductions to the bash and csh shells, as well as Unix
itself, are probably in order. But this is a lot of study. Still, the
following introduction, from NYU's high-performance computing center, might
perhaps be useful:
  Introduction to Unix/Linux -
https://wikis.nyu.edu/pages/viewpage.action?pageId=53859101

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Tue, Mar 22, 2016 at 9:28 AM, Compagnon Rapha?l <
Raphael.Compagnon at hefr.ch> wrote:

> Hi Abdul
>
> You can also find an old (written 19 years ago...) Radiance tutorial from
> me on: http://radsite.lbl.gov/radiance/refer/index.html#cat4
> I can nevertheless ensure you that the basic radiance commands that are
> presented in this tutorial are remaining exactly the same in today's
> Radiance version. Since that time there are only a few commands that have
> changed their names, namely:
> rview became rvu
> gcalc became icalc
>
> I also add the same remarks as Andy...
>
> Hope this will of help.
>
> Rapha?l
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160324/27b9556c/attachment.html>

From weiss at stahl-sonnenenergie.de  Thu Mar 24 12:07:11 2016
From: weiss at stahl-sonnenenergie.de (weiss at stahl-sonnenenergie.de)
Date: Thu, 24 Mar 2016 19:07:11 +0000
Subject: [Radiance-general] AUTOREPLY Radiance-general Digest, Vol 145,
	Issue 44
Message-ID: <064E469F.56F448EB@smtprelaypool.ispgateway.de>


Sehr geehrte Damen und Herren,

vielen Dank fr Ihre Nachricht.
ich bin vom 29.03-01.04. im Urlaub, in dieser Zeit werden Mails nicht bearbeitet oder weitergeleitet.
Bitte wenden Sie sich in dringenden Fllen an unsere Zentrale.

Mit freundlichen Gren

Volker Wei

Stahl+Wei
Basler Strae 55
D-79100 Freiburg

Tel.   +49-(0)761-38909-32
Zentrale                     -30
Fax.  +49-(0)761-38909-39

weiss at stahl-weiss.de
www.stahl-weiss.de


Send Radiance-general mailing list submissions to
	radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
	radiance-general-request at radiance-online.org

You can reach the person managing the list at
	radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: Getting Started (Randolph M. Fritz)


----------------------------------------------------------------------

Message: 1
Date: Thu, 24 Mar 2016 09:22:35 -0700
From: "Randolph M. Fritz" <rmfritz3 at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Getting Started
Message-ID:
	<CANeAMo+-NOvc8v=i4nTsjyv8PPKWF=6-HEcPdFtirVrGpte4ZQ at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Also, good introductions to the bash and csh shells, as well as Unix
itself, are probably in order. But this is a lot of study. Still, the
following introduction, from NYU's high-performance computing center, might
perhaps be useful:
  Introduction to Unix/Linux -
https://wikis.nyu.edu/pages/viewpage.action?pageId=53859101

-- 
Randolph M. Fritz, Lighting Design and Simulation
+1 206 659-8617 || rmfritz3 at gmail.com

On Tue, Mar 22, 2016 at 9:28 AM, Compagnon Rapha?l <
Raphael.Compagnon at hefr.ch> wrote:

> Hi Abdul
>
> You can also find an old (written 19 years ago...) Radiance tutorial from
> me on: http://radsite.lbl.gov/radiance/refer/index.html#cat4
> I can nevertheless ensure you that the basic radiance commands that are
> presented in this tutorial are remaining exactly the same in today's
> Radiance version. Since that time there are only a few commands that have
> changed their names, namely:
> rview became rvu
> gcalc became icalc
>
> I also add the same remarks as Andy...
>
> Hope this will of help.
>
> Rapha?l
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160324/27b9556c/attachment-0001.html>

------------------------------

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general


End of Radiance-general Digest, Vol 145, Issue 44
*************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160324/1b1e48b3/attachment.html>

From munirsyadi at gmail.com  Thu Mar 24 20:12:06 2016
From: munirsyadi at gmail.com (A.M. Irsyadi)
Date: Fri, 25 Mar 2016 10:12:06 +0700
Subject: [Radiance-general] Getting Started
In-Reply-To: <CANeAMo+-NOvc8v=i4nTsjyv8PPKWF=6-HEcPdFtirVrGpte4ZQ@mail.gmail.com>
References: <CACL5kgRnqUurjni+M3FwPSj1X-UqzNgwKTOJ+ixfQ+QTzkjsEQ@mail.gmail.com>
	<BD8C9DE4-B676-4B3C-B1B9-96559443811E@lmi.net>
	<CACL5kgTivKHR3H1q20w8N7BH=wp-t+qxNG6Fvd_V8d-98ijxpw@mail.gmail.com>
	<A6691D7EACBAC74589C1134EB0758B7F01441DE4E3@HEFRMBX01.sofr.hefr.lan>
	<CANeAMo+-NOvc8v=i4nTsjyv8PPKWF=6-HEcPdFtirVrGpte4ZQ@mail.gmail.com>
Message-ID: <CACL5kgTaaz9wnxk+fPUMTptJBZnro+baFo_MFr0MSUtNzT8cQw@mail.gmail.com>

Thank you so much for the links for basic tutorials.
I am learning to figure out how to start simulation for simple room.
Btw, I install radiance on my macbook (OSX 10.11.4) using installer (dmg)
provided on the sites. How to check that  the Radiance installel correctly?
If not successfully install, what is your sugestion for the best way to
install.

--------------------------------------------------
Abdul Munir
munirsyadi at unsyiah.ac.id
munirsyadi at gmail.com
081360728055
--------------------------------------------------
On Mar 24, 2016 11:26 PM, "Randolph M. Fritz" <rmfritz3 at gmail.com> wrote:

> Also, good introductions to the bash and csh shells, as well as Unix
> itself, are probably in order. But this is a lot of study. Still, the
> following introduction, from NYU's high-performance computing center, might
> perhaps be useful:
>   Introduction to Unix/Linux -
> https://wikis.nyu.edu/pages/viewpage.action?pageId=53859101
>
> --
> Randolph M. Fritz, Lighting Design and Simulation
> +1 206 659-8617 || rmfritz3 at gmail.com
>
> On Tue, Mar 22, 2016 at 9:28 AM, Compagnon Rapha?l <
> Raphael.Compagnon at hefr.ch> wrote:
>
>> Hi Abdul
>>
>> You can also find an old (written 19 years ago...) Radiance tutorial from
>> me on: http://radsite.lbl.gov/radiance/refer/index.html#cat4
>> I can nevertheless ensure you that the basic radiance commands that are
>> presented in this tutorial are remaining exactly the same in today's
>> Radiance version. Since that time there are only a few commands that have
>> changed their names, namely:
>> rview became rvu
>> gcalc became icalc
>>
>> I also add the same remarks as Andy...
>>
>> Hope this will of help.
>>
>> Rapha?l
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160325/4438ad0e/attachment.html>

From alireh at uw.edu  Sat Mar 26 23:54:59 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sat, 26 Mar 2016 23:54:59 -0700
Subject: [Radiance-general] Errors with 'gendaymtx' and 'dctimestep'
Message-ID: <CADjcrehaFAD-OF=OpYSc+0E=bTnzCF-g7it4+VHmNrNxxTq6fw@mail.gmail.com>

Hello,

I have encountered two errors with gendaymtx and dctimestep with the five
phase method tutorial that I would appreciate if you could help me with:

OS X Yosemite 10.10.2
Radiance 5.0.8
Command Line Environment: Terminal


Error #1

Command:

$ gendaymtx -5 -d -m 6 -of skies/OakLand.wea >
matrices/OakLand_direct_m6.smx

Error Message:

gendaymtx: missing solar disk size argument for '-5' option



Error #2

Command:

$ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr viewpics/back_%03d.hdr
\
bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx

Error Message:

fatal - improper length for binary file 'matrices/Oakland_direct.smx'


description: the 'Oakland_direct.smx' has been generated by the following
command:

$ gendaymtx -of -d skies/OakLand.wea > matrices/OakLand_direct.smx


Thank you for your help,
Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160326/def7592c/attachment.html>

From mcneil.andrew at gmail.com  Sun Mar 27 16:24:46 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Sun, 27 Mar 2016 16:24:46 -0700
Subject: [Radiance-general] Errors with 'gendaymtx' and 'dctimestep'
In-Reply-To: <CADjcrehaFAD-OF=OpYSc+0E=bTnzCF-g7it4+VHmNrNxxTq6fw@mail.gmail.com>
References: <CADjcrehaFAD-OF=OpYSc+0E=bTnzCF-g7it4+VHmNrNxxTq6fw@mail.gmail.com>
Message-ID: <CAEFJVk9vX8HtTGHtv8Fckc_WTxk6cxtp2TJA12PXWXKZeys7_A@mail.gmail.com>

Hi Alireza,

Error #1:
The problem and solution is explained here:
https://unmethours.com/question/10921/how-do-i-use-the-5-option-of-gendaymtx/

Error #2:
Have you checked that your daylight matrix uses the same sky subdivision as
the sky matrix? The default for gendaymtx is 145 sky divisions.

Andy

On Sat, Mar 26, 2016 at 11:54 PM, Alireza Hashemloo <alireh at uw.edu> wrote:

> Hello,
>
> I have encountered two errors with gendaymtx and dctimestep with the five
> phase method tutorial that I would appreciate if you could help me with:
>
> OS X Yosemite 10.10.2
> Radiance 5.0.8
> Command Line Environment: Terminal
>
>
> Error #1
>
> Command:
>
> $ gendaymtx -5 -d -m 6 -of skies/OakLand.wea >
> matrices/OakLand_direct_m6.smx
>
> Error Message:
>
> gendaymtx: missing solar disk size argument for '-5' option
>
>
>
> Error #2
>
> Command:
>
> $ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr
> viewpics/back_%03d.hdr \
> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
>
> Error Message:
>
> fatal - improper length for binary file 'matrices/Oakland_direct.smx'
>
>
> description: the 'Oakland_direct.smx' has been generated by the following
> command:
>
> $ gendaymtx -of -d skies/OakLand.wea > matrices/OakLand_direct.smx
>
>
> Thank you for your help,
> Alireza
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160327/4f5f28bc/attachment.html>

From alireh at uw.edu  Sun Mar 27 19:38:52 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Sun, 27 Mar 2016 19:38:52 -0700
Subject: [Radiance-general] Errors with 'gendaymtx' and 'dctimestep'
In-Reply-To: <CAEFJVk9vX8HtTGHtv8Fckc_WTxk6cxtp2TJA12PXWXKZeys7_A@mail.gmail.com>
References: <CADjcrehaFAD-OF=OpYSc+0E=bTnzCF-g7it4+VHmNrNxxTq6fw@mail.gmail.com>
	<CAEFJVk9vX8HtTGHtv8Fckc_WTxk6cxtp2TJA12PXWXKZeys7_A@mail.gmail.com>
Message-ID: <CADjcreh+eLKamO190rQb5XyLuwgz9P9J-sKoeyY2Bg7h3aE7VQ@mail.gmail.com>

Hi Andy,

Thank your for your response.

Error#1:

I checked the link and added the 0.53 argument to the -5 option and it
appears to work as I did not received the same error message again.

Error#2:

The 'daylightmatrix.dmx' is generated by the following command using the
MF:1 option as shown in the section 6.5 of the tutorial:

$ genklemsamp -c 1000 -vd 0 -1 0 objects/daymtxsurf.rad | \
rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins \
-m sky_glow octs/model_3ph.oct > matrices/daylightmatrix.dmx

Once I run the dctimestep as shown in section 7.6 of the tutorial for the
'three-phase simulation part' of the five-phase process:

$ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr viewpics/back_%03d.hdr
\
bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx

I receive the error message:

fatal - improper length for binary file 'matrices/Oakland_direct.smx'


The same error is raised when I call dctimestep for the 'direct sun
component of the three-phase part' as well as 'direct sun component using
the model with many suns' as shown in the section 7.6 of
the tutorial:

$ dctimestep -n 8760 -if -o hourlypics_dir/back_%04d.hdr
viewpics_dir/back_%03d.hdr \
bsdf/fullwindow.xml matrices/daylightmatrix_direct.dmx
matrices/OakLand_direct.smx

$ dctimestep -n 8760 -if -o hourlypics_ds/back_%04d.hdr
viewpics_ds/back_%04d.hdr \
matrices/OakLand_direct_m6.smx


Thank you for your help,
Alireza

On Sun, Mar 27, 2016 at 4:24 PM, Andy McNeil <mcneil.andrew at gmail.com>
wrote:

> Hi Alireza,
>
> Error #1:
> The problem and solution is explained here:
>
> https://unmethours.com/question/10921/how-do-i-use-the-5-option-of-gendaymtx/
>
> Error #2:
> Have you checked that your daylight matrix uses the same sky subdivision
> as the sky matrix? The default for gendaymtx is 145 sky divisions.
>
> Andy
>
> On Sat, Mar 26, 2016 at 11:54 PM, Alireza Hashemloo <alireh at uw.edu> wrote:
>
>> Hello,
>>
>> I have encountered two errors with gendaymtx and dctimestep with the five
>> phase method tutorial that I would appreciate if you could help me with:
>>
>> OS X Yosemite 10.10.2
>> Radiance 5.0.8
>> Command Line Environment: Terminal
>>
>>
>> Error #1
>>
>> Command:
>>
>> $ gendaymtx -5 -d -m 6 -of skies/OakLand.wea >
>> matrices/OakLand_direct_m6.smx
>>
>> Error Message:
>>
>> gendaymtx: missing solar disk size argument for '-5' option
>>
>>
>>
>> Error #2
>>
>> Command:
>>
>> $ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr
>> viewpics/back_%03d.hdr \
>> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
>>
>> Error Message:
>>
>> fatal - improper length for binary file 'matrices/Oakland_direct.smx'
>>
>>
>> description: the 'Oakland_direct.smx' has been generated by the following
>> command:
>>
>> $ gendaymtx -of -d skies/OakLand.wea > matrices/OakLand_direct.smx
>>
>>
>> Thank you for your help,
>> Alireza
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160327/92a0d4b1/attachment.html>

From gregoryjward at gmail.com  Mon Mar 28 08:57:42 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 28 Mar 2016 08:57:42 -0700
Subject: [Radiance-general] Errors with 'gendaymtx' and 'dctimestep'
In-Reply-To: <CADjcreh+eLKamO190rQb5XyLuwgz9P9J-sKoeyY2Bg7h3aE7VQ@mail.gmail.com>
References: <CADjcrehaFAD-OF=OpYSc+0E=bTnzCF-g7it4+VHmNrNxxTq6fw@mail.gmail.com>
	<CAEFJVk9vX8HtTGHtv8Fckc_WTxk6cxtp2TJA12PXWXKZeys7_A@mail.gmail.com>
	<CADjcreh+eLKamO190rQb5XyLuwgz9P9J-sKoeyY2Bg7h3aE7VQ@mail.gmail.com>
Message-ID: <4C9BFEBC-0EB0-4ACB-BAA4-C67A5A263AFE@lmi.net>

Hi Alireza,

Try your dctimestep command in Error#2 without the "-n 8760" option.  The behavior was changed since the tutorial was written so this option is no longer needed with recent releases of the software.  This has been mentioned in earlier threads this month, so you might want to go back and read through those:

	http://radiance-online.org/pipermail/radiance-general/2016-March/thread.html

Cheers,
-Greg

> From: Alireza Hashemloo <alireh at uw.edu>
> Subject: Re: [Radiance-general] Errors with 'gendaymtx' and 'dctimestep'
> Date: March 27, 2016 7:38:52 PM PDT
> 
> Hi Andy,
> 
> Thank your for your response.
> 
> Error#1:
> 
> I checked the link and added the 0.53 argument to the -5 option and it appears to work as I did not received the same error message again.
> 
> Error#2:
> 
> The 'daylightmatrix.dmx' is generated by the following command using the MF:1 option as shown in the section 6.5 of the tutorial:
> 
> $ genklemsamp -c 1000 -vd 0 -1 0 objects/daymtxsurf.rad | \
> rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins \
> -m sky_glow octs/model_3ph.oct > matrices/daylightmatrix.dmx
> 
> Once I run the dctimestep as shown in section 7.6 of the tutorial for the 'three-phase simulation part' of the five-phase process:
> 
> $ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr viewpics/back_%03d.hdr \
> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
> 
> I receive the error message: 
> 
> fatal - improper length for binary file 'matrices/Oakland_direct.smx'
> 
> 
> The same error is raised when I call dctimestep for the 'direct sun component of the three-phase part' as well as 'direct sun component using the model with many suns' as shown in the section 7.6 of 
> the tutorial:
> 
> $ dctimestep -n 8760 -if -o hourlypics_dir/back_%04d.hdr viewpics_dir/back_%03d.hdr \
> bsdf/fullwindow.xml matrices/daylightmatrix_direct.dmx matrices/OakLand_direct.smx
> 
> $ dctimestep -n 8760 -if -o hourlypics_ds/back_%04d.hdr viewpics_ds/back_%04d.hdr \
> matrices/OakLand_direct_m6.smx
> 
> 
> Thank you for your help,
> Alireza
> 
> On Sun, Mar 27, 2016 at 4:24 PM, Andy McNeil <mcneil.andrew at gmail.com> wrote:
> Hi Alireza,
> 
> Error #1:
> The problem and solution is explained here:
> https://unmethours.com/question/10921/how-do-i-use-the-5-option-of-gendaymtx/
> 
> Error #2:
> Have you checked that your daylight matrix uses the same sky subdivision as the sky matrix? The default for gendaymtx is 145 sky divisions.
> 
> Andy
> 
> On Sat, Mar 26, 2016 at 11:54 PM, Alireza Hashemloo <alireh at uw.edu> wrote:
> Hello,
> 
> I have encountered two errors with gendaymtx and dctimestep with the five phase method tutorial that I would appreciate if you could help me with:
> 
> OS X Yosemite 10.10.2
> Radiance 5.0.8
> Command Line Environment: Terminal
> 
> 
> Error #1
> 
> Command:
> 
> $ gendaymtx -5 -d -m 6 -of skies/OakLand.wea > matrices/OakLand_direct_m6.smx
> 
> Error Message:
> 
> gendaymtx: missing solar disk size argument for '-5' option
> 
> 
> 
> Error #2
> 
> Command:
> 
> $ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr viewpics/back_%03d.hdr \
> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
> 
> Error Message:
> 
> fatal - improper length for binary file 'matrices/Oakland_direct.smx'
> 
> 
> description: the 'Oakland_direct.smx' has been generated by the following command:
> 
> $ gendaymtx -of -d skies/OakLand.wea > matrices/OakLand_direct.smx
> 
> 
> Thank you for your help,
> Alireza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160328/0be109d7/attachment-0001.html>

From hs.antunes at campus.fct.unl.pt  Mon Mar 28 18:22:42 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Tue, 29 Mar 2016 02:22:42 +0100
Subject: [Radiance-general] Variable height shading systems simulation
Message-ID: <CA+fuGR7hj3j1n+aL60s8+J1SbFph=iUL69Bo_0=7HzQwCT7CzA@mail.gmail.com>

Hi guys

I'm trying to do a all year simulation with a roller shade only covering
half my window.

I've been trying to do it in an identical way as in Andy's example two of
the three fase method, i divided my window in two different polygons, one
for the shaded part and one for the unshaded part, created a view matrix
and daylight matrix for both parts of the window, and now i'm trying to use
the "rlam" command to put it all together in a single illuminance file. The
problem is the file that is coming out of "rlam" doesn't look good, it has
to much rows, and when i try to run "rmtxop" to convert RGB values to
illuminance values i get the fallowing error:

rmtxop: operation failed on 'results/illuminance_RGB/closed_50.dat'

Any hint on how to solve this, or a more efective way to do it?

Best regards
Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160329/b00dafba/attachment.html>

From mcneil.andrew at gmail.com  Mon Mar 28 18:49:47 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Mon, 28 Mar 2016 18:49:47 -0700
Subject: [Radiance-general] Variable height shading systems simulation
In-Reply-To: <CA+fuGR7hj3j1n+aL60s8+J1SbFph=iUL69Bo_0=7HzQwCT7CzA@mail.gmail.com>
References: <CA+fuGR7hj3j1n+aL60s8+J1SbFph=iUL69Bo_0=7HzQwCT7CzA@mail.gmail.com>
Message-ID: <CAEFJVk-PQpqRcsXwC7FQxxu+hQCFw0HhoBAB-R5QZHVoL6hZXQ@mail.gmail.com>

Hi Humberto,
There's an easier way to do this now. No need to use rlam anymore.

First create your partial illuminance files:
rmtxop -c upper.vmx window.xml upper.dmx sky.smx | rmtxop -c 47.4 119.9
11.6 > upper_illum.mtx
rmtxop -c lower.vmx window.xml lower.dmx sky.smx | rmtxop -c 47.4 119.9
11.6 > lower_illum.mtx

Then add them together:
rmtxop upper_illum.mtx + lower_illum.mtx > total_illum.mtx



On Mon, Mar 28, 2016 at 6:22 PM, Humberto Antunes <
hs.antunes at campus.fct.unl.pt> wrote:

> Hi guys
>
> I'm trying to do a all year simulation with a roller shade only covering
> half my window.
>
> I've been trying to do it in an identical way as in Andy's example two of
> the three fase method, i divided my window in two different polygons, one
> for the shaded part and one for the unshaded part, created a view matrix
> and daylight matrix for both parts of the window, and now i'm trying to use
> the "rlam" command to put it all together in a single illuminance file. The
> problem is the file that is coming out of "rlam" doesn't look good, it has
> to much rows, and when i try to run "rmtxop" to convert RGB values to
> illuminance values i get the fallowing error:
>
> rmtxop: operation failed on 'results/illuminance_RGB/closed_50.dat'
>
> Any hint on how to solve this, or a more efective way to do it?
>
> Best regards
> Humberto A.
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160328/accddf77/attachment.html>

From gregoryjward at gmail.com  Mon Mar 28 18:51:09 2016
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 28 Mar 2016 18:51:09 -0700
Subject: [Radiance-general] Variable height shading systems simulation
In-Reply-To: <CA+fuGR7hj3j1n+aL60s8+J1SbFph=iUL69Bo_0=7HzQwCT7CzA@mail.gmail.com>
References: <CA+fuGR7hj3j1n+aL60s8+J1SbFph=iUL69Bo_0=7HzQwCT7CzA@mail.gmail.com>
Message-ID: <E78BD624-9A45-4CB5-9F05-A36375198D6A@lmi.net>

Hi Humberto,

Although your description of what you are trying to do isn't bad, we really need to see the commands you are using to be of assistance.  In general, a list of commands, and your exact error message are needed.  It also helps if you can make your source files available somewhere, though these may not be needed.

Cheers,
-Greg

> From: Humberto Antunes <hs.antunes at campus.fct.unl.pt>
> Subject: [Radiance-general] Variable height shading systems simulation
> Date: March 28, 2016 6:22:42 PM PDT
> 
> Hi guys
> 
> I'm trying to do a all year simulation with a roller shade only covering half my window.
> 
> I've been trying to do it in an identical way as in Andy's example two of the three fase method, i divided my window in two different polygons, one for the shaded part and one for the unshaded part, created a view matrix and daylight matrix for both parts of the window, and now i'm trying to use the "rlam" command to put it all together in a single illuminance file. The problem is the file that is coming out of "rlam" doesn't look good, it has to much rows, and when i try to run "rmtxop" to convert RGB values to illuminance values i get the fallowing error:
> 
> rmtxop: operation failed on 'results/illuminance_RGB/closed_50.dat'
> 
> Any hint on how to solve this, or a more efective way to do it?
> 
> Best regards
> Humberto A.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160328/13ae1e8e/attachment.html>

From mcneil.andrew at gmail.com  Mon Mar 28 18:59:58 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Mon, 28 Mar 2016 18:59:58 -0700
Subject: [Radiance-general] Variable height shading systems simulation
In-Reply-To: <CAEFJVk-PQpqRcsXwC7FQxxu+hQCFw0HhoBAB-R5QZHVoL6hZXQ@mail.gmail.com>
References: <CA+fuGR7hj3j1n+aL60s8+J1SbFph=iUL69Bo_0=7HzQwCT7CzA@mail.gmail.com>
	<CAEFJVk-PQpqRcsXwC7FQxxu+hQCFw0HhoBAB-R5QZHVoL6hZXQ@mail.gmail.com>
Message-ID: <CAEFJVk-noboZhJ--guKkD0Fm-1CGtvF3kmLbD0AWpzXoiU+N+w@mail.gmail.com>

OOPS!  Omit the -c in the beginning of the first rmtxop commands! My bad.

On Mon, Mar 28, 2016 at 6:49 PM, Andy McNeil <mcneil.andrew at gmail.com>
wrote:

> Hi Humberto,
> There's an easier way to do this now. No need to use rlam anymore.
>
> First create your partial illuminance files:
> rmtxop -c upper.vmx window.xml upper.dmx sky.smx | rmtxop -c 47.4 119.9
> 11.6 > upper_illum.mtx
> rmtxop -c lower.vmx window.xml lower.dmx sky.smx | rmtxop -c 47.4 119.9
> 11.6 > lower_illum.mtx
>
> Then add them together:
> rmtxop upper_illum.mtx + lower_illum.mtx > total_illum.mtx
>
>
>
> On Mon, Mar 28, 2016 at 6:22 PM, Humberto Antunes <
> hs.antunes at campus.fct.unl.pt> wrote:
>
>> Hi guys
>>
>> I'm trying to do a all year simulation with a roller shade only covering
>> half my window.
>>
>> I've been trying to do it in an identical way as in Andy's example two of
>> the three fase method, i divided my window in two different polygons, one
>> for the shaded part and one for the unshaded part, created a view matrix
>> and daylight matrix for both parts of the window, and now i'm trying to use
>> the "rlam" command to put it all together in a single illuminance file. The
>> problem is the file that is coming out of "rlam" doesn't look good, it has
>> to much rows, and when i try to run "rmtxop" to convert RGB values to
>> illuminance values i get the fallowing error:
>>
>> rmtxop: operation failed on 'results/illuminance_RGB/closed_50.dat'
>>
>> Any hint on how to solve this, or a more efective way to do it?
>>
>> Best regards
>> Humberto A.
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160328/6a4c5d89/attachment-0001.html>

From hs.antunes at campus.fct.unl.pt  Mon Mar 28 19:23:32 2016
From: hs.antunes at campus.fct.unl.pt (Humberto Antunes)
Date: Tue, 29 Mar 2016 03:23:32 +0100
Subject: [Radiance-general] Variable height shading systems simulation
In-Reply-To: <CAEFJVk-noboZhJ--guKkD0Fm-1CGtvF3kmLbD0AWpzXoiU+N+w@mail.gmail.com>
References: <CA+fuGR7hj3j1n+aL60s8+J1SbFph=iUL69Bo_0=7HzQwCT7CzA@mail.gmail.com>
	<CAEFJVk-PQpqRcsXwC7FQxxu+hQCFw0HhoBAB-R5QZHVoL6hZXQ@mail.gmail.com>
	<CAEFJVk-noboZhJ--guKkD0Fm-1CGtvF3kmLbD0AWpzXoiU+N+w@mail.gmail.com>
Message-ID: <CA+fuGR6H5BngOG3vbrNbhiryv4orHq=cuDp-OkaBvmW=wpZ+UQ@mail.gmail.com>

Thank you very much guys,

Your solution solved the problem Andy.

Best Regards
Humberto A.

2016-03-29 2:59 GMT+01:00 Andy McNeil <mcneil.andrew at gmail.com>:

> OOPS!  Omit the -c in the beginning of the first rmtxop commands! My bad.
>
> On Mon, Mar 28, 2016 at 6:49 PM, Andy McNeil <mcneil.andrew at gmail.com>
> wrote:
>
>> Hi Humberto,
>> There's an easier way to do this now. No need to use rlam anymore.
>>
>> First create your partial illuminance files:
>> rmtxop -c upper.vmx window.xml upper.dmx sky.smx | rmtxop -c 47.4 119.9
>> 11.6 > upper_illum.mtx
>> rmtxop -c lower.vmx window.xml lower.dmx sky.smx | rmtxop -c 47.4 119.9
>> 11.6 > lower_illum.mtx
>>
>> Then add them together:
>> rmtxop upper_illum.mtx + lower_illum.mtx > total_illum.mtx
>>
>>
>>
>> On Mon, Mar 28, 2016 at 6:22 PM, Humberto Antunes <
>> hs.antunes at campus.fct.unl.pt> wrote:
>>
>>> Hi guys
>>>
>>> I'm trying to do a all year simulation with a roller shade only covering
>>> half my window.
>>>
>>> I've been trying to do it in an identical way as in Andy's example two
>>> of the three fase method, i divided my window in two different polygons,
>>> one for the shaded part and one for the unshaded part, created a view
>>> matrix and daylight matrix for both parts of the window, and now i'm trying
>>> to use the "rlam" command to put it all together in a single illuminance
>>> file. The problem is the file that is coming out of "rlam" doesn't look
>>> good, it has to much rows, and when i try to run "rmtxop" to convert RGB
>>> values to illuminance values i get the fallowing error:
>>>
>>> rmtxop: operation failed on 'results/illuminance_RGB/closed_50.dat'
>>>
>>> Any hint on how to solve this, or a more efective way to do it?
>>>
>>> Best regards
>>> Humberto A.
>>>
>>>
>>>
>>> _______________________________________________
>>> Radiance-general mailing list
>>> Radiance-general at radiance-online.org
>>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>>
>>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160329/5de2c516/attachment.html>

From RGMARC at engr.psu.edu  Tue Mar 29 08:27:26 2016
From: RGMARC at engr.psu.edu (Richard Mistrick)
Date: Tue, 29 Mar 2016 15:27:26 +0000
Subject: [Radiance-general] rcontrib malloc error
In-Reply-To: <D0189B40-4764-4D5C-BB74-D3431735D28B@lmi.net>
References: <03C6E4397401E049BB24420FF0DA35C3473293EA@AMXExMb01.global.arup.com>
	<D0189B40-4764-4D5C-BB74-D3431735D28B@lmi.net>
Message-ID: <6db59bbceb714085adcb2760b1f4358a@ENGRMB1.engr.psu.edu>

Galen,

Here is something else that might improve the quality of your gridpoint calculations.  I have seen "-lw 1e-5" to be inadequate in most daylit spaces.  I usually drop this to around 1e-9 (and using high -ad settings) and get much better results when applying daylight coefficients to sky patches (the results are typically higher).  When using a method where the direct sun is removed from a sky coefficient calculation that includes both sun and sky, to be added in via a third phase, this will generally also avoid the presence of negative numbers in the final results.  You can easily test the -lw setting to see if it makes a difference.  

Rick Mistrick

-----Original Message-----
From: Greg Ward [mailto:gregoryjward at gmail.com] 
Sent: Wednesday, March 23, 2016 11:21 AM
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] rcontrib malloc error

Good catch, Galen!  I'm glad you found the explanation.  Meanwhile, I changed the code so that (hopefully) we won't get runaway ray counts even if there are surfaces with >100% reflectance or transmittance.

Cheers!
-Greg

> From: Galen Burrell <Galen.Burrell at arup.com>
> Subject: Re: [Radiance-general] rcontrib malloc error
> Date: March 23, 2016 5:48:33 AM PDT
> 
> Just an update on this error: After searching through my materials definitions per Greg's suggestion, I found that I had a glass definition of 95% light transmission, which resulted in a transmissivity of > 1.  Doh!  After reducing the light transmission to something more sensible I stopped getting the error.  Thanks Greg! 
> 
> Date: Thu, 17 Mar 2016 14:49:01 -0700
> From: Greg Ward <gregoryjward at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] rcontrib malloc error
> 
> Hi Galen,
> 
> I've never seen rcontrib run out of memory in this way before.  What are your rendering options for rcontrib?  Do any of your surfaces have greater than 100% reflectance or transmittance?  This could cause the number of rays to increase rather than decrease on multiple bounces, which could lead to exponential memory growth during ray tree evaluation.
> 
> -Greg
> 
>> From: Galen Burrell <Galen.Burrell at arup.com>
>> Subject: [Radiance-general] rcontrib malloc error
>> Date: March 17, 2016 1:39:45 PM PDT
>> 
>> I?m running view matrix calculations using rfluxmtx/rcontrib for the 3-phase method and keep getting one of two errors:
>> 
>> 1)
>> rcontrib(2346) malloc: *** mmap(size=a really big number) failed 
>> (error code=12)
>> *** error: can?t allocate region
>> *** set a breakpoint in malloc_error_break to debug
>> rcontrib: system ? out of memory in samp_hemi: Cannot allocate memory
>> rcontrib: system ? read error from render process
>> Killed: 9
>> 
>> 2)
>> rcontrib: system ? read error from render process
>> Killed: 9
>> 
>> I can?t establish a pattern for why/when these two errors occur.
>> 
>> Oddly, I don?t always get the error with some gridpoint files (with 5900 points), but I consistently get it with another gridpoint file (with 7500 points).  I don?t understand why grid size would influence memory though??
>> 
>> System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with 
>> Yosemite installed Latest Radiance HEAD release; although the error 
>> repeats on older versions from 6 months ago rcontrib settings are: ?n
>> 12 ?ab 12 ?ad 100000 ?lw 1e-5 ?I+
>> 
>> Any clues on why I?m getting these errors?
>> 
>> Thank you!
>> 
>> Galen

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
http://www.radiance-online.org/mailman/listinfo/radiance-general



From alireh at uw.edu  Tue Mar 29 09:29:04 2016
From: alireh at uw.edu (Alireza Hashemloo)
Date: Tue, 29 Mar 2016 09:29:04 -0700
Subject: [Radiance-general] Errors with 'gendaymtx' and 'dctimestep'
In-Reply-To: <4C9BFEBC-0EB0-4ACB-BAA4-C67A5A263AFE@lmi.net>
References: <CADjcrehaFAD-OF=OpYSc+0E=bTnzCF-g7it4+VHmNrNxxTq6fw@mail.gmail.com>
	<CAEFJVk9vX8HtTGHtv8Fckc_WTxk6cxtp2TJA12PXWXKZeys7_A@mail.gmail.com>
	<CADjcreh+eLKamO190rQb5XyLuwgz9P9J-sKoeyY2Bg7h3aE7VQ@mail.gmail.com>
	<4C9BFEBC-0EB0-4ACB-BAA4-C67A5A263AFE@lmi.net>
Message-ID: <CADjcreh1gvRj=XYkv6Gz5t01qWZXr_K2d_5RHw9t2Qwg_HYFbw@mail.gmail.com>

Hi Greg and Andy,

Thank you for your responses.
I have excluded the '-n 8760' argument from the 'dctimestep' call and it
does not raise the "improper length" error anymore. However, there is a
couple of other errors raised:


OS X Yosemite 10.10.2
Radiance 5.0.8
Command Line Environment: Terminal


Command:

$ dctimestep -if -o hourlypics/back_%04d.hdr viewpics/back_%03d.hdr \
bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx

Error#1

fatal - cannot find BSDF file 'bsdf/fullwindow.xml'

Description:

In the five-phase method tutorial, there are two BSDF files generated in
".xml" format that are named as "fullwindow_klems.xml" and
"fullwindow_t45.xml". There are no BSDF files named "fullwindow.xml". So I
was wondering which
BSDF xml file is meant to be in the command?

Error#2

dctimestep: cannot open 'hourlypics/back_0001.hdr' for output.

Description:

I passed "fullwindow_klems.xml" instead of "fullwindow.xml" just to see if
the command would run into any other errors and the given dctimestep error
about the hourlypics/ directory is raised. I do not see any directory made
in any previous steps of the tutorial that is named "houlrypics". So I do
not understand what the given error is about.


Best Regards,
Alireza




On Mon, Mar 28, 2016 at 8:57 AM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Alireza,
>
> Try your dctimestep command in Error#2 without the "-n 8760" option.  The
> behavior was changed since the tutorial was written so this option is no
> longer needed with recent releases of the software.  This has been
> mentioned in earlier threads this month, so you might want to go back and
> read through those:
>
>
> http://radiance-online.org/pipermail/radiance-general/2016-March/thread.html
>
> Cheers,
> -Greg
>
> *From: *Alireza Hashemloo <alireh at uw.edu>
>
> *Subject: *Re: [Radiance-general] Errors with 'gendaymtx' and 'dctimestep'
>
> *Date: *March 27, 2016 7:38:52 PM PDT
>
>
> Hi Andy,
>
> Thank your for your response.
>
> Error#1:
>
> I checked the link and added the 0.53 argument to the -5 option and it
> appears to work as I did not received the same error message again.
>
> Error#2:
>
> The 'daylightmatrix.dmx' is generated by the following command using the
> MF:1 option as shown in the section 6.5 of the tutorial:
>
> $ genklemsamp -c 1000 -vd 0 -1 0 objects/daymtxsurf.rad | \
> rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn Nrbins
> \
> -m sky_glow octs/model_3ph.oct > matrices/daylightmatrix.dmx
>
> Once I run the dctimestep as shown in section 7.6 of the tutorial for the
> 'three-phase simulation part' of the five-phase process:
>
> $ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr
> viewpics/back_%03d.hdr \
> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
>
> I receive the error message:
>
> fatal - improper length for binary file 'matrices/Oakland_direct.smx'
>
>
> The same error is raised when I call dctimestep for the 'direct sun
> component of the three-phase part' as well as 'direct sun component using
> the model with many suns' as shown in the section 7.6 of
> the tutorial:
>
> $ dctimestep -n 8760 -if -o hourlypics_dir/back_%04d.hdr
> viewpics_dir/back_%03d.hdr \
> bsdf/fullwindow.xml matrices/daylightmatrix_direct.dmx
> matrices/OakLand_direct.smx
>
> $ dctimestep -n 8760 -if -o hourlypics_ds/back_%04d.hdr
> viewpics_ds/back_%04d.hdr \
> matrices/OakLand_direct_m6.smx
>
>
> Thank you for your help,
> Alireza
>
> On Sun, Mar 27, 2016 at 4:24 PM, Andy McNeil <mcneil.andrew at gmail.com>
> wrote:
>
>> Hi Alireza,
>>
>> Error #1:
>> The problem and solution is explained here:
>>
>> https://unmethours.com/question/10921/how-do-i-use-the-5-option-of-gendaymtx/
>>
>> Error #2:
>> Have you checked that your daylight matrix uses the same sky subdivision
>> as the sky matrix? The default for gendaymtx is 145 sky divisions.
>>
>> Andy
>>
>> On Sat, Mar 26, 2016 at 11:54 PM, Alireza Hashemloo <alireh at uw.edu>
>> wrote:
>>
>>> Hello,
>>>
>>> I have encountered two errors with gendaymtx and dctimestep with the
>>> five phase method tutorial that I would appreciate if you could help me
>>> with:
>>>
>>> OS X Yosemite 10.10.2
>>> Radiance 5.0.8
>>> Command Line Environment: Terminal
>>>
>>>
>>> Error #1
>>>
>>> Command:
>>>
>>> $ gendaymtx -5 -d -m 6 -of skies/OakLand.wea >
>>> matrices/OakLand_direct_m6.smx
>>>
>>> Error Message:
>>>
>>> gendaymtx: missing solar disk size argument for '-5' option
>>>
>>>
>>>
>>> Error #2
>>>
>>> Command:
>>>
>>> $ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr
>>> viewpics/back_%03d.hdr \
>>> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
>>>
>>> Error Message:
>>>
>>> fatal - improper length for binary file 'matrices/Oakland_direct.smx'
>>>
>>>
>>> description: the 'Oakland_direct.smx' has been generated by the
>>> following command:
>>>
>>> $ gendaymtx -of -d skies/OakLand.wea > matrices/OakLand_direct.smx
>>>
>>>
>>> Thank you for your help,
>>> Alireza
>>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160329/967aefbc/attachment-0001.html>

From mcneil.andrew at gmail.com  Tue Mar 29 10:15:45 2016
From: mcneil.andrew at gmail.com (Andy McNeil)
Date: Tue, 29 Mar 2016 10:15:45 -0700
Subject: [Radiance-general] Errors with 'gendaymtx' and 'dctimestep'
In-Reply-To: <CADjcreh1gvRj=XYkv6Gz5t01qWZXr_K2d_5RHw9t2Qwg_HYFbw@mail.gmail.com>
References: <CADjcrehaFAD-OF=OpYSc+0E=bTnzCF-g7it4+VHmNrNxxTq6fw@mail.gmail.com>
	<CAEFJVk9vX8HtTGHtv8Fckc_WTxk6cxtp2TJA12PXWXKZeys7_A@mail.gmail.com>
	<CADjcreh+eLKamO190rQb5XyLuwgz9P9J-sKoeyY2Bg7h3aE7VQ@mail.gmail.com>
	<4C9BFEBC-0EB0-4ACB-BAA4-C67A5A263AFE@lmi.net>
	<CADjcreh1gvRj=XYkv6Gz5t01qWZXr_K2d_5RHw9t2Qwg_HYFbw@mail.gmail.com>
Message-ID: <CAEFJVk9XqYvS2piDeKpN0teeFKowCq08A7uvODnhiWhwXP=Acw@mail.gmail.com>

Alireza,
The klems bsdf is the correct one to use.
you need to create the hourlypics directory:
mkdir hourlypics

Andy



On Tue, Mar 29, 2016 at 9:29 AM, Alireza Hashemloo <alireh at uw.edu> wrote:

> Hi Greg and Andy,
>
> Thank you for your responses.
> I have excluded the '-n 8760' argument from the 'dctimestep' call and it
> does not raise the "improper length" error anymore. However, there is a
> couple of other errors raised:
>
>
> OS X Yosemite 10.10.2
> Radiance 5.0.8
> Command Line Environment: Terminal
>
>
> Command:
>
> $ dctimestep -if -o hourlypics/back_%04d.hdr viewpics/back_%03d.hdr \
> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
>
> Error#1
>
> fatal - cannot find BSDF file 'bsdf/fullwindow.xml'
>
> Description:
>
> In the five-phase method tutorial, there are two BSDF files generated in
> ".xml" format that are named as "fullwindow_klems.xml" and
> "fullwindow_t45.xml". There are no BSDF files named "fullwindow.xml". So I
> was wondering which
> BSDF xml file is meant to be in the command?
>
> Error#2
>
> dctimestep: cannot open 'hourlypics/back_0001.hdr' for output.
>
> Description:
>
> I passed "fullwindow_klems.xml" instead of "fullwindow.xml" just to see if
> the command would run into any other errors and the given dctimestep error
> about the hourlypics/ directory is raised. I do not see any directory made
> in any previous steps of the tutorial that is named "houlrypics". So I do
> not understand what the given error is about.
>
>
> Best Regards,
> Alireza
>
>
>
>
> On Mon, Mar 28, 2016 at 8:57 AM, Greg Ward <gregoryjward at gmail.com> wrote:
>
>> Hi Alireza,
>>
>> Try your dctimestep command in Error#2 without the "-n 8760" option.  The
>> behavior was changed since the tutorial was written so this option is no
>> longer needed with recent releases of the software.  This has been
>> mentioned in earlier threads this month, so you might want to go back and
>> read through those:
>>
>>
>> http://radiance-online.org/pipermail/radiance-general/2016-March/thread.html
>>
>> Cheers,
>> -Greg
>>
>> *From: *Alireza Hashemloo <alireh at uw.edu>
>>
>> *Subject: *Re: [Radiance-general] Errors with 'gendaymtx' and
>> 'dctimestep'
>>
>> *Date: *March 27, 2016 7:38:52 PM PDT
>>
>>
>> Hi Andy,
>>
>> Thank your for your response.
>>
>> Error#1:
>>
>> I checked the link and added the 0.53 argument to the -5 option and it
>> appears to work as I did not received the same error message again.
>>
>> Error#2:
>>
>> The 'daylightmatrix.dmx' is generated by the following command using the
>> MF:1 option as shown in the section 6.5 of the tutorial:
>>
>> $ genklemsamp -c 1000 -vd 0 -1 0 objects/daymtxsurf.rad | \
>> rcontrib -c 1000 -ab 2 -ad 1024 -e MF:1 -f reinhart.cal -b rbin -bn
>> Nrbins \
>> -m sky_glow octs/model_3ph.oct > matrices/daylightmatrix.dmx
>>
>> Once I run the dctimestep as shown in section 7.6 of the tutorial for the
>> 'three-phase simulation part' of the five-phase process:
>>
>> $ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr
>> viewpics/back_%03d.hdr \
>> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
>>
>> I receive the error message:
>>
>> fatal - improper length for binary file 'matrices/Oakland_direct.smx'
>>
>>
>> The same error is raised when I call dctimestep for the 'direct sun
>> component of the three-phase part' as well as 'direct sun component using
>> the model with many suns' as shown in the section 7.6 of
>> the tutorial:
>>
>> $ dctimestep -n 8760 -if -o hourlypics_dir/back_%04d.hdr
>> viewpics_dir/back_%03d.hdr \
>> bsdf/fullwindow.xml matrices/daylightmatrix_direct.dmx
>> matrices/OakLand_direct.smx
>>
>> $ dctimestep -n 8760 -if -o hourlypics_ds/back_%04d.hdr
>> viewpics_ds/back_%04d.hdr \
>> matrices/OakLand_direct_m6.smx
>>
>>
>> Thank you for your help,
>> Alireza
>>
>> On Sun, Mar 27, 2016 at 4:24 PM, Andy McNeil <mcneil.andrew at gmail.com>
>> wrote:
>>
>>> Hi Alireza,
>>>
>>> Error #1:
>>> The problem and solution is explained here:
>>>
>>> https://unmethours.com/question/10921/how-do-i-use-the-5-option-of-gendaymtx/
>>>
>>> Error #2:
>>> Have you checked that your daylight matrix uses the same sky subdivision
>>> as the sky matrix? The default for gendaymtx is 145 sky divisions.
>>>
>>> Andy
>>>
>>> On Sat, Mar 26, 2016 at 11:54 PM, Alireza Hashemloo <alireh at uw.edu>
>>> wrote:
>>>
>>>> Hello,
>>>>
>>>> I have encountered two errors with gendaymtx and dctimestep with the
>>>> five phase method tutorial that I would appreciate if you could help me
>>>> with:
>>>>
>>>> OS X Yosemite 10.10.2
>>>> Radiance 5.0.8
>>>> Command Line Environment: Terminal
>>>>
>>>>
>>>> Error #1
>>>>
>>>> Command:
>>>>
>>>> $ gendaymtx -5 -d -m 6 -of skies/OakLand.wea >
>>>> matrices/OakLand_direct_m6.smx
>>>>
>>>> Error Message:
>>>>
>>>> gendaymtx: missing solar disk size argument for '-5' option
>>>>
>>>>
>>>>
>>>> Error #2
>>>>
>>>> Command:
>>>>
>>>> $ dctimestep -n 8760 -if -o hourlypics/back_%04d.hdr
>>>> viewpics/back_%03d.hdr \
>>>> bsdf/fullwindow.xml matrices/daylightmatrix.dmx matrices/OakLand.smx
>>>>
>>>> Error Message:
>>>>
>>>> fatal - improper length for binary file 'matrices/Oakland_direct.smx'
>>>>
>>>>
>>>> description: the 'Oakland_direct.smx' has been generated by the
>>>> following command:
>>>>
>>>> $ gendaymtx -of -d skies/OakLand.wea > matrices/OakLand_direct.smx
>>>>
>>>>
>>>> Thank you for your help,
>>>> Alireza
>>>>
>>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> http://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160329/2af76795/attachment.html>

From tim.v2.0 at gmail.com  Wed Mar 30 12:48:14 2016
From: tim.v2.0 at gmail.com (Tim Perry)
Date: Wed, 30 Mar 2016 12:48:14 -0700
Subject: [Radiance-general] rcontrib malloc error
In-Reply-To: <6db59bbceb714085adcb2760b1f4358a@ENGRMB1.engr.psu.edu>
References: <03C6E4397401E049BB24420FF0DA35C3473293EA@AMXExMb01.global.arup.com>
	<D0189B40-4764-4D5C-BB74-D3431735D28B@lmi.net>
	<6db59bbceb714085adcb2760b1f4358a@ENGRMB1.engr.psu.edu>
Message-ID: <CAFVgASVNwKh6sF6ekgtFcG7dTs7q8Zk5WOt3NNHLE_-56-UBYQ@mail.gmail.com>

Galen,

I'd like to add that Rick is exactly right. An additional note: -lw is more
important for big spaces than small spaces.

--Tim

On Tue, Mar 29, 2016 at 8:27 AM, Richard Mistrick <RGMARC at engr.psu.edu>
wrote:

> Galen,
>
> Here is something else that might improve the quality of your gridpoint
> calculations.  I have seen "-lw 1e-5" to be inadequate in most daylit
> spaces.  I usually drop this to around 1e-9 (and using high -ad settings)
> and get much better results when applying daylight coefficients to sky
> patches (the results are typically higher).  When using a method where the
> direct sun is removed from a sky coefficient calculation that includes both
> sun and sky, to be added in via a third phase, this will generally also
> avoid the presence of negative numbers in the final results.  You can
> easily test the -lw setting to see if it makes a difference.
>
> Rick Mistrick
>
> -----Original Message-----
> From: Greg Ward [mailto:gregoryjward at gmail.com]
> Sent: Wednesday, March 23, 2016 11:21 AM
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] rcontrib malloc error
>
> Good catch, Galen!  I'm glad you found the explanation.  Meanwhile, I
> changed the code so that (hopefully) we won't get runaway ray counts even
> if there are surfaces with >100% reflectance or transmittance.
>
> Cheers!
> -Greg
>
> > From: Galen Burrell <Galen.Burrell at arup.com>
> > Subject: Re: [Radiance-general] rcontrib malloc error
> > Date: March 23, 2016 5:48:33 AM PDT
> >
> > Just an update on this error: After searching through my materials
> definitions per Greg's suggestion, I found that I had a glass definition of
> 95% light transmission, which resulted in a transmissivity of > 1.  Doh!
> After reducing the light transmission to something more sensible I stopped
> getting the error.  Thanks Greg!
> >
> > Date: Thu, 17 Mar 2016 14:49:01 -0700
> > From: Greg Ward <gregoryjward at gmail.com>
> > To: Radiance general discussion <radiance-general at radiance-online.org>
> > Subject: Re: [Radiance-general] rcontrib malloc error
> >
> > Hi Galen,
> >
> > I've never seen rcontrib run out of memory in this way before.  What are
> your rendering options for rcontrib?  Do any of your surfaces have greater
> than 100% reflectance or transmittance?  This could cause the number of
> rays to increase rather than decrease on multiple bounces, which could lead
> to exponential memory growth during ray tree evaluation.
> >
> > -Greg
> >
> >> From: Galen Burrell <Galen.Burrell at arup.com>
> >> Subject: [Radiance-general] rcontrib malloc error
> >> Date: March 17, 2016 1:39:45 PM PDT
> >>
> >> I?m running view matrix calculations using rfluxmtx/rcontrib for the
> 3-phase method and keep getting one of two errors:
> >>
> >> 1)
> >> rcontrib(2346) malloc: *** mmap(size=a really big number) failed
> >> (error code=12)
> >> *** error: can?t allocate region
> >> *** set a breakpoint in malloc_error_break to debug
> >> rcontrib: system ? out of memory in samp_hemi: Cannot allocate memory
> >> rcontrib: system ? read error from render process
> >> Killed: 9
> >>
> >> 2)
> >> rcontrib: system ? read error from render process
> >> Killed: 9
> >>
> >> I can?t establish a pattern for why/when these two errors occur.
> >>
> >> Oddly, I don?t always get the error with some gridpoint files (with
> 5900 points), but I consistently get it with another gridpoint file (with
> 7500 points).  I don?t understand why grid size would influence memory
> though??
> >>
> >> System is Mac OS 10.7.5 (2 x 6-core); error repeats on my laptop with
> >> Yosemite installed Latest Radiance HEAD release; although the error
> >> repeats on older versions from 6 months ago rcontrib settings are: ?n
> >> 12 ?ab 12 ?ad 100000 ?lw 1e-5 ?I+
> >>
> >> Any clues on why I?m getting these errors?
> >>
> >> Thank you!
> >>
> >> Galen
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> http://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20160330/cde06e30/attachment.html>

