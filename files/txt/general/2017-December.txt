From J.Mardaljevic at lboro.ac.uk  Fri Dec  1 08:27:25 2017
From: J.Mardaljevic at lboro.ac.uk (John Mardaljevic)
Date: Fri, 1 Dec 2017 16:27:25 +0000
Subject: [Radiance-general] 2018 International Radiance Workshop webpage up!
Message-ID: <0AFFACA1-FDE4-423A-AE32-F0CC1A7FAF50@lboro.ac.uk>

Dear Colleagues,

The 2018 International Radiance Workshop (3-5 September) webpage is up and abstract submission is now open (please use the email link on the webpage):

http://climate-based-daylighting.com/doku.php?id=radiance2018

The page contains travel and accommodation information.

Suggestions are invited for the tutorial/training day ? either sessions you'd like to hear or give ? please send them to the organisers using the email link on the webpage.

Look forward to seeing many of you in Loughborough [1] next September.

Cheers
John

[1] https://www.youtube.com/watch?v=9q7VjLVU8Ec&t=2m25s

John Mardaljevic PhD FSLL FIBPSA
Professor of Building Daylight Modelling
School of Architecture, Building and Civil Engineering
Loughborough University
Loughborough
Leicestershire
LE11 3TU, UK

Tel: +44 1509 222630 (direct)
Tel: +44 1509 228529 (secretary)

j.mardaljevic at lboro.ac.uk

http://www.lboro.ac.uk/departments/abce/staff/john-mardaljevic/

Personal daylighting website:
http://climate-based-daylighting.com



From katsuya.obara at arup.com  Mon Dec  4 20:06:02 2017
From: katsuya.obara at arup.com (Katsuya Obara)
Date: Tue, 5 Dec 2017 04:06:02 +0000
Subject: [Radiance-general] Are there any way to visualize geometry in rad
 file?
Message-ID: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>

Dear all,

Are there any way to visualize geometry in rad file?
Converting rad file to any file extension which can be opened by rhinoceros is also ok.

Thank you.
Katsuya

____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171205/63679e5e/attachment.html>

From alstan at jakubiec.net  Mon Dec  4 20:21:45 2017
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Tue, 5 Dec 2017 12:21:45 +0800
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
Message-ID: <ee94901b-10cf-a4e1-88f9-7f7f9c786add@jakubiec.net>

Hi Katsuya,

There is a beautiful old tool by Francesco Anselmo called rad2obj: 
http://www.bozzograo.org/radiance/index.php?module=Downloads&func=display&lid=17

It can be very slow on large files, but for small ones it does the job 
in a jiffy.

Best,
Alstan

On 12/5/2017 12:06 PM, Katsuya Obara wrote:
>
> Dear all,
>
> Are there any way to visualize geometry in rad file?
>
> Converting rad file to any file extension which can be opened by 
> rhinoceros is also ok.
>
> Thank you.
>
> Katsuya
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup business
> systems are scanned for viruses and acceptability of content
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171205/e7464f3f/attachment.html>

From katsuya.obara at arup.com  Mon Dec  4 22:10:58 2017
From: katsuya.obara at arup.com (Katsuya Obara)
Date: Tue, 5 Dec 2017 06:10:58 +0000
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <ee94901b-10cf-a4e1-88f9-7f7f9c786add@jakubiec.net>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
 <ee94901b-10cf-a4e1-88f9-7f7f9c786add@jakubiec.net>
Message-ID: <AAD4C5B99DCE7E4EA05016103A8F236B0688371D@E-AEXMBX01.global.arup.com>

Dear Alstan,

Thank you for your information.
Even though I tried to download from the url you sent me, seems download page is deprecated as below.
http://www.cmods-dev.de/
Do you know any other way to get rad2obj?

Thank you.
Katsuya


From: J. Alstan Jakubiec [mailto:alstan at jakubiec.net]
Sent: Tuesday, December 05, 2017 12:22 PM
To: radiance-general at radiance-online.org
Subject: Re: [Radiance-general] Are there any way to visualize geometry in rad file?


Hi Katsuya,

There is a beautiful old tool by Francesco Anselmo called rad2obj: http://www.bozzograo.org/radiance/index.php?module=Downloads&func=display&lid=17<http://secure-web.cisco.com/1uH1SxBjhuSyRRilDPtf6he5AdLSCvrxTO3Si4DtwMhjxf-FK4ZaFbvI7dDnaYkM7d0ecUQD7cx0JlC_5dCpLGLQzccdgUPNMJt1TAJumYDbcQjeQQfVygnJQst5XKggBfAFx-2v_C5MXx5lzFO5LC5GZbvFs4YtoM2hfnETRzk5FG7wlUl2viLBw1KXIgzE3Sho8QJD-OQlkZZUgh5nihqVRlRg0KVyLXEkWoF2iNH1VkOJsj52_LYJX28RqqarS8IWrc5Pg2ZNTVb2KITUZqg/http%3A%2F%2Fwww.bozzograo.org%2Fradiance%2Findex.php%3Fmodule%3DDownloads%26func%3Ddisplay%26lid%3D17>
It can be very slow on large files, but for small ones it does the job in a jiffy.

Best,
Alstan
On 12/5/2017 12:06 PM, Katsuya Obara wrote:
Dear all,

Are there any way to visualize geometry in rad file?
Converting rad file to any file extension which can be opened by rhinoceros is also ok.

Thank you.
Katsuya


____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content




_______________________________________________

Radiance-general mailing list

Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>

https://www.radiance-online.org/mailman/listinfo/radiance-general<https://secure-web.cisco.com/1dEFshSyd092IHgZpMFwRoMys3wES-WYKXQ5vSVvGaZKNXGGdVz4sFCTEYRszhbQTkiKwXknGWvBIwP84USCj8mGHXtM0picQD0aBB-wP6cuzXQaU8mjoe66TuQVEh2ShGSsTtIHy_PfzA6YRq0z5P3ZnaRvLYYz2ai6Nta55djdORPDN0Fb4H2PiRk2j1NZ2dAG0LKit_k7y2-QTlzT46NSUaJwzz1biRSPScMzekzf8rQfagEP96jXpOKGajFVX/https%3A%2F%2Fwww.radiance-online.org%2Fmailman%2Flistinfo%2Fradiance-general>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171205/c3a89c31/attachment-0001.html>

From rmfritz3 at gmail.com  Mon Dec  4 22:34:25 2017
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Mon, 4 Dec 2017 22:34:25 -0800
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <AAD4C5B99DCE7E4EA05016103A8F236B0688371D@E-AEXMBX01.global.arup.com>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
 <ee94901b-10cf-a4e1-88f9-7f7f9c786add@jakubiec.net>
 <AAD4C5B99DCE7E4EA05016103A8F236B0688371D@E-AEXMBX01.global.arup.com>
Message-ID: <CANeAMo+d1TdJtXAK-Fv6UgyYK8N=vGB2iMh0WfjPe5zxKVSozw@mail.gmail.com>

Via MGF to VRML?

Discussion here:

https://www.radiance-online.org:447/pipermail/radiance-general/2010-June/006945.html

-- 
Randolph M. Fritz || +1 206 659-8617 || rmfritz3 at gmail.com

On Mon, Dec 4, 2017 at 10:10 PM, Katsuya Obara <katsuya.obara at arup.com>
wrote:

> Dear Alstan,
>
>
>
> Thank you for your information.
>
> Even though I tried to download from the url you sent me, seems download
> page is deprecated as below.
>
> http://www.cmods-dev.de/
>
> Do you know any other way to get rad2obj?
>
>
>
> Thank you.
>
> Katsuya
>
>
>
>
>
> *From:* J. Alstan Jakubiec [mailto:alstan at jakubiec.net]
> *Sent:* Tuesday, December 05, 2017 12:22 PM
> *To:* radiance-general at radiance-online.org
> *Subject:* Re: [Radiance-general] Are there any way to visualize geometry
> in rad file?
>
>
>
> Hi Katsuya,
>
> There is a beautiful old tool by Francesco Anselmo called rad2obj:
> http://www.bozzograo.org/radiance/index.php?module=
> Downloads&func=display&lid=17
> <http://secure-web.cisco.com/1uH1SxBjhuSyRRilDPtf6he5AdLSCvrxTO3Si4DtwMhjxf-FK4ZaFbvI7dDnaYkM7d0ecUQD7cx0JlC_5dCpLGLQzccdgUPNMJt1TAJumYDbcQjeQQfVygnJQst5XKggBfAFx-2v_C5MXx5lzFO5LC5GZbvFs4YtoM2hfnETRzk5FG7wlUl2viLBw1KXIgzE3Sho8QJD-OQlkZZUgh5nihqVRlRg0KVyLXEkWoF2iNH1VkOJsj52_LYJX28RqqarS8IWrc5Pg2ZNTVb2KITUZqg/http%3A%2F%2Fwww.bozzograo.org%2Fradiance%2Findex.php%3Fmodule%3DDownloads%26func%3Ddisplay%26lid%3D17>
>
> It can be very slow on large files, but for small ones it does the job in
> a jiffy.
>
> Best,
> Alstan
>
> On 12/5/2017 12:06 PM, Katsuya Obara wrote:
>
> Dear all,
>
>
>
> Are there any way to visualize geometry in rad file?
>
> Converting rad file to any file extension which can be opened by
> rhinoceros is also ok.
>
>
>
> Thank you.
>
> Katsuya
>
>
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup business
> systems are scanned for viruses and acceptability of content
>
>
>
>
> _______________________________________________
>
> Radiance-general mailing list
>
> Radiance-general at radiance-online.org
>
> https://www.radiance-online.org/mailman/listinfo/radiance-general <https://secure-web.cisco.com/1dEFshSyd092IHgZpMFwRoMys3wES-WYKXQ5vSVvGaZKNXGGdVz4sFCTEYRszhbQTkiKwXknGWvBIwP84USCj8mGHXtM0picQD0aBB-wP6cuzXQaU8mjoe66TuQVEh2ShGSsTtIHy_PfzA6YRq0z5P3ZnaRvLYYz2ai6Nta55djdORPDN0Fb4H2PiRk2j1NZ2dAG0LKit_k7y2-QTlzT46NSUaJwzz1biRSPScMzekzf8rQfagEP96jXpOKGajFVX/https%3A%2F%2Fwww.radiance-online.org%2Fmailman%2Flistinfo%2Fradiance-general>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171204/51865643/attachment.html>

From nathanieljon at gmail.com  Mon Dec  4 23:14:44 2017
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Mon, 4 Dec 2017 23:14:44 -0800
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <CANeAMo+d1TdJtXAK-Fv6UgyYK8N=vGB2iMh0WfjPe5zxKVSozw@mail.gmail.com>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
 <ee94901b-10cf-a4e1-88f9-7f7f9c786add@jakubiec.net>
 <AAD4C5B99DCE7E4EA05016103A8F236B0688371D@E-AEXMBX01.global.arup.com>
 <CANeAMo+d1TdJtXAK-Fv6UgyYK8N=vGB2iMh0WfjPe5zxKVSozw@mail.gmail.com>
Message-ID: <CAJR73ttij6HHG1Yqt02TNU0ouUZG7XJSddUD8ZEOtV2txJ8vYQ@mail.gmail.com>

Another option for native Rad file viewing is AcceleradRT
<https://nljones.github.io/Accelerad/rt.html>. It enables Rhino-like
navigation.

Nathaniel

On Mon, Dec 4, 2017 at 10:34 PM, Randolph M. Fritz <rmfritz3 at gmail.com>
wrote:

> Via MGF to VRML?
>
> Discussion here:
>
> https://www.radiance-online.org:447/pipermail/radiance-
> general/2010-June/006945.html
>
> --
> Randolph M. Fritz || +1 206 659-8617 <(206)%20659-8617> ||
> rmfritz3 at gmail.com
>
> On Mon, Dec 4, 2017 at 10:10 PM, Katsuya Obara <katsuya.obara at arup.com>
> wrote:
>
>> Dear Alstan,
>>
>>
>>
>> Thank you for your information.
>>
>> Even though I tried to download from the url you sent me, seems download
>> page is deprecated as below.
>>
>> http://www.cmods-dev.de/
>>
>> Do you know any other way to get rad2obj?
>>
>>
>>
>> Thank you.
>>
>> Katsuya
>>
>>
>>
>>
>>
>> *From:* J. Alstan Jakubiec [mailto:alstan at jakubiec.net]
>> *Sent:* Tuesday, December 05, 2017 12:22 PM
>> *To:* radiance-general at radiance-online.org
>> *Subject:* Re: [Radiance-general] Are there any way to visualize
>> geometry in rad file?
>>
>>
>>
>> Hi Katsuya,
>>
>> There is a beautiful old tool by Francesco Anselmo called rad2obj:
>> http://www.bozzograo.org/radiance/index.php?module=Downloads
>> &func=display&lid=17
>> <http://secure-web.cisco.com/1uH1SxBjhuSyRRilDPtf6he5AdLSCvrxTO3Si4DtwMhjxf-FK4ZaFbvI7dDnaYkM7d0ecUQD7cx0JlC_5dCpLGLQzccdgUPNMJt1TAJumYDbcQjeQQfVygnJQst5XKggBfAFx-2v_C5MXx5lzFO5LC5GZbvFs4YtoM2hfnETRzk5FG7wlUl2viLBw1KXIgzE3Sho8QJD-OQlkZZUgh5nihqVRlRg0KVyLXEkWoF2iNH1VkOJsj52_LYJX28RqqarS8IWrc5Pg2ZNTVb2KITUZqg/http%3A%2F%2Fwww.bozzograo.org%2Fradiance%2Findex.php%3Fmodule%3DDownloads%26func%3Ddisplay%26lid%3D17>
>>
>> It can be very slow on large files, but for small ones it does the job in
>> a jiffy.
>>
>> Best,
>> Alstan
>>
>> On 12/5/2017 12:06 PM, Katsuya Obara wrote:
>>
>> Dear all,
>>
>>
>>
>> Are there any way to visualize geometry in rad file?
>>
>> Converting rad file to any file extension which can be opened by
>> rhinoceros is also ok.
>>
>>
>>
>> Thank you.
>>
>> Katsuya
>>
>>
>>
>> ____________________________________________________________
>> Electronic mail messages entering and leaving Arup business
>> systems are scanned for viruses and acceptability of content
>>
>>
>>
>>
>> _______________________________________________
>>
>> Radiance-general mailing list
>>
>> Radiance-general at radiance-online.org
>>
>> https://www.radiance-online.org/mailman/listinfo/radiance-general <https://secure-web.cisco.com/1dEFshSyd092IHgZpMFwRoMys3wES-WYKXQ5vSVvGaZKNXGGdVz4sFCTEYRszhbQTkiKwXknGWvBIwP84USCj8mGHXtM0picQD0aBB-wP6cuzXQaU8mjoe66TuQVEh2ShGSsTtIHy_PfzA6YRq0z5P3ZnaRvLYYz2ai6Nta55djdORPDN0Fb4H2PiRk2j1NZ2dAG0LKit_k7y2-QTlzT46NSUaJwzz1biRSPScMzekzf8rQfagEP96jXpOKGajFVX/https%3A%2F%2Fwww.radiance-online.org%2Fmailman%2Flistinfo%2Fradiance-general>
>>
>>
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> https://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171204/5ecb5794/attachment-0001.html>

From alstan at jakubiec.net  Tue Dec  5 00:02:00 2017
From: alstan at jakubiec.net (J. Alstan Jakubiec)
Date: Tue, 5 Dec 2017 16:02:00 +0800
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <AAD4C5B99DCE7E4EA05016103A8F236B0688371D@E-AEXMBX01.global.arup.com>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
 <ee94901b-10cf-a4e1-88f9-7f7f9c786add@jakubiec.net>
 <AAD4C5B99DCE7E4EA05016103A8F236B0688371D@E-AEXMBX01.global.arup.com>
Message-ID: <6457ee27-74c5-84db-a8b3-785396f52bc4@jakubiec.net>

It's right here: http://www.bozzograo.org/radiance/pub/rad2obj.py

Best,

Alstan


On 12/5/2017 2:10 PM, Katsuya Obara wrote:
>
> Dear Alstan,
>
> Thank you for your information.
>
> Even though I tried to download from the url you sent me, seems 
> download page is deprecated as below.
>
> http://www.cmods-dev.de/
>
> Do you know any other way to get rad2obj?
>
> Thank you.
>
> Katsuya
>
> *From:*J. Alstan Jakubiec [mailto:alstan at jakubiec.net]
> *Sent:* Tuesday, December 05, 2017 12:22 PM
> *To:* radiance-general at radiance-online.org
> *Subject:* Re: [Radiance-general] Are there any way to visualize 
> geometry in rad file?
>
> Hi Katsuya,
>
> There is a beautiful old tool by Francesco Anselmo called rad2obj: 
> http://www.bozzograo.org/radiance/index.php?module=Downloads&func=display&lid=17 
> <http://secure-web.cisco.com/1uH1SxBjhuSyRRilDPtf6he5AdLSCvrxTO3Si4DtwMhjxf-FK4ZaFbvI7dDnaYkM7d0ecUQD7cx0JlC_5dCpLGLQzccdgUPNMJt1TAJumYDbcQjeQQfVygnJQst5XKggBfAFx-2v_C5MXx5lzFO5LC5GZbvFs4YtoM2hfnETRzk5FG7wlUl2viLBw1KXIgzE3Sho8QJD-OQlkZZUgh5nihqVRlRg0KVyLXEkWoF2iNH1VkOJsj52_LYJX28RqqarS8IWrc5Pg2ZNTVb2KITUZqg/http%3A%2F%2Fwww.bozzograo.org%2Fradiance%2Findex.php%3Fmodule%3DDownloads%26func%3Ddisplay%26lid%3D17>
>
> It can be very slow on large files, but for small ones it does the job 
> in a jiffy.
>
> Best,
> Alstan
>
> On 12/5/2017 12:06 PM, Katsuya Obara wrote:
>
>     Dear all,
>
>     Are there any way to visualize geometry in rad file?
>
>     Converting rad file to any file extension which can be opened by
>     rhinoceros is also ok.
>
>     Thank you.
>
>     Katsuya
>
>     ____________________________________________________________
>     Electronic mail messages entering and leaving Arup business
>     systems are scanned for viruses and acceptability of content
>
>
>
>
>     _______________________________________________
>
>     Radiance-general mailing list
>
>     Radiance-general at radiance-online.org
>     <mailto:Radiance-general at radiance-online.org>
>
>     https://www.radiance-online.org/mailman/listinfo/radiance-general
>     <https://secure-web.cisco.com/1dEFshSyd092IHgZpMFwRoMys3wES-WYKXQ5vSVvGaZKNXGGdVz4sFCTEYRszhbQTkiKwXknGWvBIwP84USCj8mGHXtM0picQD0aBB-wP6cuzXQaU8mjoe66TuQVEh2ShGSsTtIHy_PfzA6YRq0z5P3ZnaRvLYYz2ai6Nta55djdORPDN0Fb4H2PiRk2j1NZ2dAG0LKit_k7y2-QTlzT46NSUaJwzz1biRSPScMzekzf8rQfagEP96jXpOKGajFVX/https%3A%2F%2Fwww.radiance-online.org%2Fmailman%2Flistinfo%2Fradiance-general>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171205/b231a6f5/attachment.html>

From tbleicher at gmail.com  Tue Dec  5 04:45:53 2017
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Tue, 5 Dec 2017 07:45:53 -0500
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
Message-ID: <CAKGV-k32CeU6t+p+jsnC6ePbnVNGbNTL7=RJEwhuWbWcdR30OQ@mail.gmail.com>

If you have Radiance and and a working X installation you can use objview
from the Radiance tool set.

On Mon, Dec 4, 2017 at 11:06 PM, Katsuya Obara <katsuya.obara at arup.com>
wrote:

> Dear all,
>
>
>
> Are there any way to visualize geometry in rad file?
>
> Converting rad file to any file extension which can be opened by
> rhinoceros is also ok.
>
>
>
> Thank you.
>
> Katsuya
>
>
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup business
> systems are scanned for viruses and acceptability of content
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171205/8a7f78c8/attachment.html>

From roland.schregle at gmail.com  Tue Dec  5 05:04:16 2017
From: roland.schregle at gmail.com (Roland Schregle)
Date: Tue, 5 Dec 2017 14:04:16 +0100
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
Message-ID: <93E945F8-71A5-4E5E-87D1-163770E04313@gmail.com>

Peter Apian-Bennewitz's rshow was one of the earliest interactive rad geometry viewers, but the version I recall ran on IRIX. Not sure if this was ported in the meantime and is still maintained. Maybe Peter himself (howdy) can comment.

--Roland


--
Dr-Ing. Roland Schregle
Gemeindehausplatz 6
CH-6048 Horw

On 05/12/2017, at 5:06 AM, Katsuya Obara <katsuya.obara at arup.com> wrote:

> Dear all,
>  
> Are there any way to visualize geometry in rad file?
> Converting rad file to any file extension which can be opened by rhinoceros is also ok.
>  
> Thank you.
> Katsuya
>  
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup business
> systems are scanned for viruses and acceptability of content
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171205/5480e7ff/attachment-0001.html>

From jacobs.axel at gmail.com  Tue Dec  5 06:24:08 2017
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Tue, 5 Dec 2017 14:24:08 +0000
Subject: [Radiance-general] pmapdump: -r is ignored
Message-ID: <CA+dqh62bNEcdQuWitc+i9dZEhU2E2wXHzi7x1H6i+yP2s0T1Mw@mail.gmail.com>

I am playing with a very simple room that has a light pipe in it.
I've created a global and a caustic photon map.  When running them
through pmapdump, all caustic photons have a zero radius.  I am
attempting to fix this with the -r option, but it gets ignored.  Is
this expected?

The man page states that
"In cases where the distribution is substantially nonuniform (e.g.
highly localised caustics) the radius can be manually corrected with
this option."

Does pmapdump know whether it is dealing with a 'substantially
nonuniform distribution', and ignore -r if it is not?

Thank you

Axel


From gregoryjward at gmail.com  Tue Dec  5 08:17:42 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 5 Dec 2017 08:17:42 -0800
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <93E945F8-71A5-4E5E-87D1-163770E04313@gmail.com>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
 <93E945F8-71A5-4E5E-87D1-163770E04313@gmail.com>
Message-ID: <E64BF798-54AD-45DF-9AC9-CCC4289BB7D2@lmi.net>

Peter Apian-Bennewitz posted last year on the radiance-dev list about rshow in this thread on glrad, the OpenGL viewer that comes with the standard distro:

	https://radiance-online.org/pipermail/radiance-dev/2016-April/001585.html

Skip to:

	https://radiance-online.org/pipermail/radiance-dev/2016-April/001697.html

to see what Peter wrote.  For some reason, the man page for glrad is missing from radiance-online, but you can find it here:

	http://radsite.lbl.gov/radiance/man_html/glrad.1.html

Cheers,
-Greg

> From: Roland Schregle <roland.schregle at gmail.com>
> Date: December 5, 2017 5:04:16 AM PST
> 
> Peter Apian-Bennewitz's rshow was one of the earliest interactive rad geometry viewers, but the version I recall ran on IRIX. Not sure if this was ported in the meantime and is still maintained. Maybe Peter himself (howdy) can comment.
> 
> --Roland
> 
> 
> --
> Dr-Ing. Roland Schregle
> Gemeindehausplatz 6
> CH-6048 Horw
> 
> On 05/12/2017, at 5:06 AM, Katsuya Obara <katsuya.obara at arup.com> wrote:
> 
>> Dear all,
>>  
>> Are there any way to visualize geometry in rad file?
>> Converting rad file to any file extension which can be opened by rhinoceros is also ok.
>>  
>> Thank you.
>> Katsuya
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171205/d1f99706/attachment.html>

From roland.schregle at gmail.com  Tue Dec  5 08:19:16 2017
From: roland.schregle at gmail.com (Roland Schregle)
Date: Tue, 05 Dec 2017 17:19:16 +0100
Subject: [Radiance-general] pmapdump: -r is ignored
In-Reply-To: <CA+dqh62bNEcdQuWitc+i9dZEhU2E2wXHzi7x1H6i+yP2s0T1Mw@mail.gmail.com>
References: <CA+dqh62bNEcdQuWitc+i9dZEhU2E2wXHzi7x1H6i+yP2s0T1Mw@mail.gmail.com>
Message-ID: <op.zar7mee6xwus9n@radiance>

On Tue, 05 Dec 2017 15:24:08 +0100, Axel Jacobs <jacobs.axel at gmail.com>  
wrote:

> I am playing with a very simple room that has a light pipe in it.
> I've created a global and a caustic photon map.  When running them
> through pmapdump, all caustic photons have a zero radius.  I am
> attempting to fix this with the -r option, but it gets ignored.  Is
> this expected?
>
> The man page states that
> "In cases where the distribution is substantially nonuniform (e.g.
> highly localised caustics) the radius can be manually corrected with
> this option."
>
> Does pmapdump know whether it is dealing with a 'substantially
> nonuniform distribution', and ignore -r if it is not?

Hi Axel,

Actually, the -r option is just a scaling factor, so scaling zero doesn't  
change anything. The basic radius is derived from the cube root of the  
photon cloud's bounding box volume divided by the number of dumped  
spheres.  In this case it would a imply a zero volume. What's the pmap's  
bbox reported by getinfo?

--Roland


From jacobs.axel at gmail.com  Tue Dec  5 09:20:48 2017
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Tue, 5 Dec 2017 17:20:48 +0000
Subject: [Radiance-general] pmapdump: -r is ignored
In-Reply-To: <op.zar7mee6xwus9n@radiance>
References: <CA+dqh62bNEcdQuWitc+i9dZEhU2E2wXHzi7x1H6i+yP2s0T1Mw@mail.gmail.com>
 <op.zar7mee6xwus9n@radiance>
Message-ID: <CA+dqh63Jx7eAtLvH=iJTstCWB8-xspX=p9kjFAFC-KN9SnXywA@mail.gmail.com>

Hi Roland,

$ getinfo tmp/lp3_g10000-c100000.cpm
tmp/lp3_g10000-c100000.cpm:
        #?RADIANCE
 mkpmap -n 32 -apg tmp/lp3_g10000-c100000.gpm 10000 -apc
tmp/lp3_g10000-c100000.cpm 100000 -apo dome_mat octrees/lightpipe3.oct
        NumPhotons      = 106896
        AvgFlux         = [1.71e-05, 1.71e-05, 1.71e-05]
        Bbox            = [14.751, 26.064, 2.950] [15.249, 26.563, 2.950]
        CoG             = [15.000, 26.313, 2.950]
        MaxDist^2       = 0.029
        FORMAT=Radiance_Caustic_kdT_Photon_Map
        VERSION=3.0k

On 5 December 2017 at 16:19, Roland Schregle <roland.schregle at gmail.com> wrote:
> On Tue, 05 Dec 2017 15:24:08 +0100, Axel Jacobs <jacobs.axel at gmail.com>
> wrote:
>
>> I am playing with a very simple room that has a light pipe in it.
>> I've created a global and a caustic photon map.  When running them
>> through pmapdump, all caustic photons have a zero radius.  I am
>> attempting to fix this with the -r option, but it gets ignored.  Is
>> this expected?
>>
>> The man page states that
>> "In cases where the distribution is substantially nonuniform (e.g.
>> highly localised caustics) the radius can be manually corrected with
>> this option."
>>
>> Does pmapdump know whether it is dealing with a 'substantially
>> nonuniform distribution', and ignore -r if it is not?
>
>
> Hi Axel,
>
> Actually, the -r option is just a scaling factor, so scaling zero doesn't
> change anything. The basic radius is derived from the cube root of the
> photon cloud's bounding box volume divided by the number of dumped spheres.
> In this case it would a imply a zero volume. What's the pmap's bbox reported
> by getinfo?
>
> --Roland
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general


From grobe at gmx.net  Tue Dec  5 10:06:17 2017
From: grobe at gmx.net (Lars O. Grobe)
Date: Tue, 5 Dec 2017 19:06:17 +0100
Subject: [Radiance-general] Are there any way to visualize geometry in
 rad file?
In-Reply-To: <E64BF798-54AD-45DF-9AC9-CCC4289BB7D2@lmi.net>
References: <AAD4C5B99DCE7E4EA05016103A8F236B068836DE@E-AEXMBX01.global.arup.com>
 <93E945F8-71A5-4E5E-87D1-163770E04313@gmail.com>
 <E64BF798-54AD-45DF-9AC9-CCC4289BB7D2@lmi.net>
Message-ID: <28aa0139-8a91-ee8d-cd08-8537ba0fdc04@gmx.net>

And one more option - export to inventor or vrml through mgf: 
http://radsite.lbl.gov/mgf/mgfhtml/mgf2inv.html

I do not know about Rhino, but with e.g. Blender you can edit the 
resulting files.

Cheers, Lar.s


From giorgio.butturini at gmail.com  Wed Dec  6 06:27:59 2017
From: giorgio.butturini at gmail.com (giorgio butturini)
Date: Wed, 6 Dec 2017 15:27:59 +0100
Subject: [Radiance-general] Subject: Re: Are there any way to visualize
 geometry in rad file?
Message-ID: <CAFb1eybwgx6hGp5bLD6YGzx724wE0G2eiTtFAeHszjLR7EJbDA@mail.gmail.com>

Katsuya,

Another way to view rad file in Rhinoceros is to use two Grasshopper3d's
object.
1) Honeybee_import Rad (you need to install Honeybee). This object give you
two separate output: Rad Material and RAD surfaces (these are grouped per
material type)
2) Next, if you want visualize the geometries without grasshopper3d you
need to bake the geometries by means of Human plugging (
http://www.food4rhino.com/).
I suggest you to set the Layer name as well as the geometry name equal to
RAD material name

See image
https://www.dropbox.com/s/f92l2dfqt8qmjsd/RAD_2_RHINO.JPG?dl=0

Cheers
Giorgio B.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171206/55b042fb/attachment.html>

From roland.schregle at gmail.com  Wed Dec  6 10:19:16 2017
From: roland.schregle at gmail.com (Roland Schregle)
Date: Wed, 06 Dec 2017 19:19:16 +0100
Subject: [Radiance-general] pmapdump: -r is ignored
In-Reply-To: <CA+dqh63Jx7eAtLvH=iJTstCWB8-xspX=p9kjFAFC-KN9SnXywA@mail.gmail.com>
References: <CA+dqh62bNEcdQuWitc+i9dZEhU2E2wXHzi7x1H6i+yP2s0T1Mw@mail.gmail.com>
 <op.zar7mee6xwus9n@radiance>
 <CA+dqh63Jx7eAtLvH=iJTstCWB8-xspX=p9kjFAFC-KN9SnXywA@mail.gmail.com>
Message-ID: <op.zat7ue16xwus9n@deldo>

On Tue, 05 Dec 2017 18:20:48 +0100, Axel Jacobs <jacobs.axel at gmail.com>  
wrote:

> Hi Roland,
>
> $ getinfo tmp/lp3_g10000-c100000.cpm
> tmp/lp3_g10000-c100000.cpm:
>         #?RADIANCE
>  mkpmap -n 32 -apg tmp/lp3_g10000-c100000.gpm 10000 -apc
> tmp/lp3_g10000-c100000.cpm 100000 -apo dome_mat octrees/lightpipe3.oct
>         NumPhotons      = 106896
>         AvgFlux         = [1.71e-05, 1.71e-05, 1.71e-05]
>         Bbox            = [14.751, 26.064, 2.950] [15.249, 26.563, 2.950]
>         CoG             = [15.000, 26.313, 2.950]

Hi Axel,

thanks for the info, and for pointing this out; the photons are coplanar,  
so an area metric should actually apply.
I'll update pmapdump.c accordingly in the coming days. Will drop you a  
line so you can try it out.

Regards,

--Roland


From jacobs.axel at gmail.com  Wed Dec  6 11:25:32 2017
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Wed, 6 Dec 2017 19:25:32 +0000
Subject: [Radiance-general] pmapdump: -r is ignored
In-Reply-To: <op.zat7ue16xwus9n@deldo>
References: <CA+dqh62bNEcdQuWitc+i9dZEhU2E2wXHzi7x1H6i+yP2s0T1Mw@mail.gmail.com>
 <op.zar7mee6xwus9n@radiance>
 <CA+dqh63Jx7eAtLvH=iJTstCWB8-xspX=p9kjFAFC-KN9SnXywA@mail.gmail.com>
 <op.zat7ue16xwus9n@deldo>
Message-ID: <8d4df62d-caab-a3b2-5fd6-8f26f1be2142@gmail.com>

Thank you, Roland,

my scene is a simple light pipe with a planar diffusor at the end.  I 
managed to change the zero radii to something non-zero and visualise the 
photon map.  As you say--all red (caustic) spheres are on the diffusor.

Thank you for fixing this.

Cheers

Axel


On 06/12/17 18:19, Roland Schregle wrote:
> On Tue, 05 Dec 2017 18:20:48 +0100, Axel Jacobs <jacobs.axel at gmail.com> 
> wrote:
> 
>> Hi Roland,
>>
>> $ getinfo tmp/lp3_g10000-c100000.cpm
>> tmp/lp3_g10000-c100000.cpm:
>> ??????? #?RADIANCE
>> ?mkpmap -n 32 -apg tmp/lp3_g10000-c100000.gpm 10000 -apc
>> tmp/lp3_g10000-c100000.cpm 100000 -apo dome_mat octrees/lightpipe3.oct
>> ??????? NumPhotons????? = 106896
>> ??????? AvgFlux???????? = [1.71e-05, 1.71e-05, 1.71e-05]
>> ??????? Bbox??????????? = [14.751, 26.064, 2.950] [15.249, 26.563, 2.950]
>> ??????? CoG???????????? = [15.000, 26.313, 2.950]
> 
> Hi Axel,
> 
> thanks for the info, and for pointing this out; the photons are 
> coplanar, so an area metric should actually apply.
> I'll update pmapdump.c accordingly in the coming days. Will drop you a 
> line so you can try it out.
> 
> Regards,
> 
> --Roland
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general



From roland.schregle at gmail.com  Wed Dec  6 14:16:14 2017
From: roland.schregle at gmail.com (Roland Schregle)
Date: Wed, 06 Dec 2017 23:16:14 +0100
Subject: [Radiance-general] pmapdump: -r is ignored
In-Reply-To: <8d4df62d-caab-a3b2-5fd6-8f26f1be2142@gmail.com>
References: <CA+dqh62bNEcdQuWitc+i9dZEhU2E2wXHzi7x1H6i+yP2s0T1Mw@mail.gmail.com>
 <op.zar7mee6xwus9n@radiance>
 <CA+dqh63Jx7eAtLvH=iJTstCWB8-xspX=p9kjFAFC-KN9SnXywA@mail.gmail.com>
 <op.zat7ue16xwus9n@deldo> <8d4df62d-caab-a3b2-5fd6-8f26f1be2142@gmail.com>
Message-ID: <op.zauitck1xwus9n@deldo>

On Wed, 06 Dec 2017 20:25:32 +0100, Axel Jacobs <jacobs.axel at gmail.com>  
wrote:

> Thank you, Roland,
>
> my scene is a simple light pipe with a planar diffusor at the end.  I  
> managed to change the zero radii to something non-zero and visualise the  
> photon map.  As you say--all red (caustic) spheres are on the diffusor.
>
> Thank you for fixing this.

Hi Axel,

thanks for bringing this to my attention, and nice workaround too.  
Pmapdump was originally (and still is pretty much so) a bodge for visually  
debugging mkmap's output when weirdness happens. But I'm glad it comes in  
handy to others too, and as such I'll make it a bit more robust. Hope to  
check in the update by the weekend.

Regards,

--Roland


-- 
Dr-Ing. Roland Schregle
Gemeindehausplatz 6
CH-6048 Horw


From sandi.sirikhanchai at hotmail.co.nz  Wed Dec  6 22:21:55 2017
From: sandi.sirikhanchai at hotmail.co.nz (Sandi Sirikhanchai)
Date: Thu, 7 Dec 2017 06:21:55 +0000
Subject: [Radiance-general] Three phase radiance script rfluxmtx switches
Message-ID: <SG2PR0601MB129649669C4883C75D6DC489C9330@SG2PR0601MB1296.apcprd06.prod.outlook.com>

Hello,

I have a question regarding the creation of a view matrix to do a three phase daylight simulation.

I have a line in the batch file which is:

rfluxmtx ?I+ -ab 12 -ad 50000 -lw 2e-5  -y 6 - < data\workplane.pts scene\objects\window.rad scene\materials\material_detailed.rad scene\objects\radmodel.rad > results\south.vmx

This is copied from the online radiance tutorial found here: https://andymcneil.gitbooks.io/three-phase-method-tutorial/content/31_view_matrix.html

When I run the batch file there is an error that says:
rfluxmtx: cannot load ?-ab?

If I delete -ab from the line and re-run the batch file another error occurs which is:
rfluxmtx: cannot load ?-ad?

So somethings occurring with the switches.

I?m using the latest version of radiance on a windows 10 computer.

I have discussed this with other people and we don?t know why it isn?t working and we would appreciate any insight.

Thank you in advance,
Sandi Sirikhanchai

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171207/ca11531c/attachment.html>

From minchen.wei at polyu.edu.hk  Fri Dec  8 02:11:05 2017
From: minchen.wei at polyu.edu.hk (WEI, Minchen [BSE])
Date: Fri, 8 Dec 2017 10:11:05 +0000
Subject: [Radiance-general] Proxy geometry in the five-phase method
Message-ID: <HKNPR02MB0516A8D8C879D78AD1097C9DCD300@HKNPR02MB0516.apcprd02.prod.outlook.com>

Hi All,

I have questions regarding the proxy geometry in the five-phase method.

I tried the tutorial using a room with a glazing (no venetian blinds). The daylight coefficient and three-phase method can produce similar results, but the five-phase method produce smaller illuminance values.

I think the problem is coming from the "proxy geometry". In my "proxy geometry" I only included a glazing geometry with the transmittance I used in the daylight coefficient method. Is that right?

I looked at the proxy geometry included in Sarith's tutorial which included all the blinds, the glazing, and a BSDF ("blindsT4c.xml") for maxPoly and minPoly. How should I generate these BSDF if I have the blinds?

Thanks,

Tommy

--
Minchen (Tommy) Wei, PhD
The Hong Kong Polytechnic University
(+852)-3400 3606 minchen.wei at polyu.edu.hk<mailto:minchen.wei at polyu.edu.hk>

[http://mlm.polyu.edu.hk/PolyU80_Email_Signature.png]

www.polyu.edu.hk/80anniversary<http://www.polyu.edu.hk/80anniversary>

Disclaimer:

This message (including any attachments) contains confidential information intended for a specific individual and purpose. If you are not the intended recipient, you should delete this message and notify the sender and The Hong Kong Polytechnic University (the University) immediately. Any disclosure, copying, or distribution of this message, or the taking of any action based on it, is strictly prohibited and may be unlawful.

The University specifically denies any responsibility for the accuracy or quality of information obtained through University E-mail Facilities. Any views and opinions expressed are only those of the author(s) and do not necessarily represent those of the University and the University accepts no liability whatsoever for any losses or damages incurred or caused to any party as a result of the use of such information.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171208/d955e242/attachment.html>

From sarith at psu.edu  Fri Dec  8 06:29:35 2017
From: sarith at psu.edu (Sarith Subramaniam)
Date: Fri, 8 Dec 2017 08:29:35 -0600
Subject: [Radiance-general] Proxy geometry in the five-phase method
In-Reply-To: <HKNPR02MB0516A8D8C879D78AD1097C9DCD300@HKNPR02MB0516.apcprd02.prod.outlook.com>
References: <HKNPR02MB0516A8D8C879D78AD1097C9DCD300@HKNPR02MB0516.apcprd02.prod.outlook.com>
Message-ID: <91e8a321-5c95-350a-996b-ef79614cc31b@psu.edu>

The Daylight Coefficient 
<https://github.com/sariths/radTutorialFiles/blob/master/room/commands/2PM_DayCoeff.sh> 
and Three Phase 
<https://github.com/sariths/radTutorialFiles/blob/master/room/commands/3PM.sh> 
examples use a sky with 145 patches in which the sun accounts for 3-4 
patches. In these examples, the sky and sun are both represented through 
the "glow" primitive and the ray-tracing is stochastic. The additional 
steps in the Five Phase 
<https://github.com/sariths/radTutorialFiles/blob/master/room/commands/5PM.sh> 
example subtract out the direct component of the results from the 
glow-based oversized sun patches and replace them with replace them with 
accurately calculated direct sun-results. In this case, the sun is 
represented using the "light" primitive (implying a deterministic 
calculation) and is also more appropriately sized (0.533 degrees).

The exercise files also contain an improved version 
<https://github.com/sariths/radTutorialFiles/blob/master/room/commands/2PM_DDS.sh> 
of the Daylight Coefficient Method that features the direct-sun 
correction. I think the results from that calculation and the Five Phase 
calculation will be similar as they both involve the direct-sun correction.

The final part of the Five-Phase method requires Tensor-Tree BSDFs. The 
methodology for creating BSDFs from Radiance primitives is discussed in 
the genBSDF tutorial 
<https://www.radiance-online.org/learning/tutorials/Tutorial-genBSDF_v1.0.1.pdf>. 
If your glazing system is just a simple glazing comprised of something 
like "glass" or "trans", you can incorporate the glazing geometry 
directly. This process would be similar to what is discussed for the 
improved Daylight Coefficient calculation 
<https://github.com/sariths/radTutorialFiles/blob/master/room/commands/2PM_DDS.sh#L55-L73>. 



Sarith



On 12/8/2017 4:11 AM, WEI, Minchen [BSE] wrote:
>
> Hi All,
>
> I have questions regarding the proxy geometry in the five-phase method.
>
> I tried the tutorial using a room with a glazing (no venetian blinds). 
> The daylight coefficient and three-phase method can produce similar 
> results, but the five-phase method produce smaller illuminance values.
>
> I think the problem is coming from the ?proxy geometry?. In my ?proxy 
> geometry? I only included a glazing geometry with the transmittance I 
> used in the daylight coefficient method. Is that right?
>
> I looked at the proxy geometry included in Sarith?s tutorial which 
> included all the blinds, the glazing, and a BSDF (?blindsT4c.xml?) for 
> maxPoly and minPoly. How should I generate these BSDF if I have the 
> blinds?
>
> Thanks,
>
> Tommy
>
> --
>
> *Minchen (Tommy) Wei, PhD*
>
> The Hong Kong Polytechnic University
>
> (+852)-3400 3606 minchen.wei at polyu.edu.hk 
> <mailto:minchen.wei at polyu.edu.hk>
>
> www.polyu.edu.hk/80anniversary <http://www.polyu.edu.hk/80anniversary>
>
> /Disclaimer:/
>
> /This message (including any attachments) contains confidential 
> information intended for a specific individual and purpose. If you are 
> not the intended recipient, you should delete this message and notify 
> the sender and The Hong Kong Polytechnic University (the University) 
> immediately. Any disclosure, copying, or distribution of this message, 
> or the taking of any action based on it, is strictly prohibited and 
> may be unlawful./
>
> /The University specifically denies any responsibility for the 
> accuracy or quality of information obtained through University E-mail 
> Facilities. Any views and opinions expressed are only those of the 
> author(s) and do not necessarily represent those of the University and 
> the University accepts no liability whatsoever for any losses or 
> damages incurred or caused to any party as a result of the use of such 
> information./
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171208/e521b4cc/attachment.html>

From Marouane.Boudhaim at ise.fraunhofer.de  Fri Dec  8 08:08:22 2017
From: Marouane.Boudhaim at ise.fraunhofer.de (Marouane.Boudhaim at ise.fraunhofer.de)
Date: Fri, 8 Dec 2017 17:08:22 +0100
Subject: [Radiance-general] rtrace values too low compared to 3-phase method
Message-ID: <OFA6ED7395.093D5730-ONC12581F0.005845F7-C12581F0.0058A845@ise.fhg.de>

Hello,
 
I?m trying to calculate vertical illuminance with 3-phase method and 
validate it against rtrace results.  My results are very different. 
3-phase method has illuminance values two order of magnitudes higher. I 
can only see the the direct solar illuminance on the floor. I suspect that 
my rtrace command fails to find the sky, because of the complexity of the 
geometry of my fenestration system. I was wondering if anyone here has 
already had such a problem in the past with rtrace giving too low 
illuminance values.
 
My CFS geometry consists of uniformly spaced boxes of 5 cm (picture in the 
end). The gap between the boxes allow 4%  normal transmittance (tested 
with 20% too and it?s still dark, 30% start giving some light).
Here are the parameters used to calculate the vertical illuminance (and 
which I suspect may be wrong)
 
1st way : 3PM : View matrix of the picture (on which I use evalglare to 
get the vertical illuminance) :  -n 35 -ab 10 -ad 65536 -lw 1.52e-5 -c 9
 
2nd way : Vertical illuminance with rtrace :  rtrace -h -I -n 40 -ab 10 
-ad 8192 -ar 1024 -as 4096 -aa 0.1
 
3rd way : Rtrace picture (I use evalglare on it) :  rtrace -n 40 -ab 5 -ad 
512 -ar 128 -as 256 -aa 0.15 -dc 1
 
Needless to say I made the parameters vary many times before contacting 
the mailing list, but there are so much parameters and simulation times 
increase a lot (I mainly increased ab and ar). I have already tried the 
parameters on the old and new 3pm/5pm tutorials to be sure my 3-pm results 
are not wrong. Has anyone else had similar experience with rtrace and know 
how to solve it ?
 
Sincerely,
Marouane.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171208/9d5d3a26/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Capture.PNG
Type: image/png
Size: 5714 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171208/9d5d3a26/attachment-0001.png>

From Jason.Giddings at arup.com  Fri Dec  8 09:51:46 2017
From: Jason.Giddings at arup.com (Jason Giddings)
Date: Fri, 8 Dec 2017 17:51:46 +0000
Subject: [Radiance-general] Redirecting film analysis
Message-ID: <AF4061BDE19AEF49BA618A2768B221B8939C63C0@EURXMBS03.global.arup.com>

Hi All,

I am looking to run some analysis that takes into account the effects of placing redirecting film on glazing.

I have received a BSDF xml file from the redirecting film manufacturer and I was wondering what the best way to incorporate this into my analysis would be? Currently I am only looking to run this at specific times and not annually.

Any pointers or examples that anyone has would be greatly appreciated.

Many thanks,
--
Jason Giddings
Designer | Lighting

Arup
13 Fitzroy Street  London  W1T 4BQ  United Kingdom
d: +44 20 7755 4259
www.arup.com <http://www.arup.com/>

____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171208/a7d78df9/attachment.html>

From gregoryjward at gmail.com  Fri Dec  8 10:39:57 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 8 Dec 2017 10:39:57 -0800
Subject: [Radiance-general] Three phase radiance script rfluxmtx switches
In-Reply-To: <SG2PR0601MB129649669C4883C75D6DC489C9330@SG2PR0601MB1296.apcprd06.prod.outlook.com>
References: <SG2PR0601MB129649669C4883C75D6DC489C9330@SG2PR0601MB1296.apcprd06.prod.outlook.com>
Message-ID: <E6EA0EF9-E58F-4446-8328-544517CD8C4B@lmi.net>

Hi Sandi,

Looks like you have the "pipe" symbol ('|') rather than a capital "i" in your "-I+" option.  This is the advantage of cut-and-past, or at least using a font that differentiates these things...

-Greg

> From: Sandi Sirikhanchai <sandi.sirikhanchai at hotmail.co.nz>
> Date: December 6, 2017 10:21:55 PM PST
> 
> Hello,
>  
> I have a question regarding the creation of a view matrix to do a three phase daylight simulation.
>  
> I have a line in the batch file which is:
>  
> rfluxmtx ?I+ -ab 12 -ad 50000 -lw 2e-5  -y 6 - < data\workplane.pts scene\objects\window.rad scene\materials\material_detailed.rad scene\objects\radmodel.rad > results\south.vmx
>  
> This is copied from the online radiance tutorial found here: https://andymcneil.gitbooks.io/three-phase-method-tutorial/content/31_view_matrix.html
>  
> When I run the batch file there is an error that says:
> rfluxmtx: cannot load ?-ab?
>  
> If I delete -ab from the line and re-run the batch file another error occurs which is:
> rfluxmtx: cannot load ?-ad?
>  
> So somethings occurring with the switches.
>  
> I?m using the latest version of radiance on a windows 10 computer.
>  
> I have discussed this with other people and we don?t know why it isn?t working and we would appreciate any insight.
>  
> Thank you in advance,
> Sandi Sirikhanchai
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171208/ae221881/attachment.html>

From Robert.Guglielmetti at nrel.gov  Fri Dec  8 10:48:19 2017
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 8 Dec 2017 18:48:19 +0000
Subject: [Radiance-general] Three phase radiance script rfluxmtx switches
In-Reply-To: <E6EA0EF9-E58F-4446-8328-544517CD8C4B@lmi.net>
References: <SG2PR0601MB129649669C4883C75D6DC489C9330@SG2PR0601MB1296.apcprd06.prod.outlook.com>
 <E6EA0EF9-E58F-4446-8328-544517CD8C4B@lmi.net>
Message-ID: <9B1F56DB-7ED3-45F6-8A58-A82632E94C1E@nrel.gov>

I was going to say it also looked like the hyphen before the capital i was an em dash and not a hyphen...

On 12/8/17, 11:43 AM, "Greg Ward" <gregoryjward at gmail.com> wrote:

    Hi Sandi,
    
    
    Looks like you have the "pipe" symbol ('|') rather than a capital "i" in your "-I+" option.  This is the advantage of cut-and-past, or at least using a font that differentiates these things...
    
    
    -Greg
    
    
    From:
    Sandi Sirikhanchai <sandi.sirikhanchai at hotmail.co.nz>
    Date:
    December 6, 2017 10:21:55 PM PST
    
    
    
    
    
    Hello, 
     
    I have a question regarding the creation of a view matrix to do a three phase daylight simulation.
    
     
    I have a line in the batch file which is: 
     
    rfluxmtx ?I+ -ab 12 -ad 50000 -lw 2e-5  -y 6 - < data\workplane.pts scene\objects\window.rad scene\materials\material_detailed.rad scene\objects\radmodel.rad > results\south.vmx
     
    This is copied from the online radiance tutorial found here:
    
    https://andymcneil.gitbooks.io/three-phase-method-tutorial/content/31_view_matrix.html <https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fandymcneil.gitbooks.io%2Fthree-phase-method-tutorial%2Fcontent%2F31_view_matrix.html&data=02%7C01%7Crobert.guglielmetti%40nrel.gov%7C81a1ef8bf19b440bfd7008d53e6b95e3%7Ca0f29d7e28cd4f5484427885aee7c080%7C0%7C0%7C636483554164173570&sdata=Y61%2BiTXsfw%2BTiK3nAPOwBFf0QDB%2BWXDylJaXUeoWBIQ%3D&reserved=0>
     
    When I run the batch file there is an error that says: 
    rfluxmtx: cannot load ?-ab? 
     
    If I delete -ab from the line and re-run the batch file another error occurs which is:
    rfluxmtx: cannot load ?-ad? 
     
    So somethings occurring with the switches. 
     
    I?m using the latest version of radiance on a windows 10 computer.
    
     
    I have discussed this with other people and we don?t know why it isn?t working and we would appreciate any insight.
    
     
    Thank you in advance, 
    Sandi Sirikhanchai 
    
    
    
    
    
    


From gregoryjward at gmail.com  Fri Dec  8 10:55:10 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 8 Dec 2017 10:55:10 -0800
Subject: [Radiance-general] Redirecting film analysis
In-Reply-To: <AF4061BDE19AEF49BA618A2768B221B8939C63C0@EURXMBS03.global.arup.com>
References: <AF4061BDE19AEF49BA618A2768B221B8939C63C0@EURXMBS03.global.arup.com>
Message-ID: <C5F9D64F-CC9E-4A73-BC1E-E73DA4ADEF05@lmi.net>

Hi Jason,

Does the BSDF include the effects of glazing?  If so, you should be able to follow the template in <http://radsite.lbl.gov/radiance/refer/refman.pdf> to include the window in your scene easily enough:

BSDF
The BSDF material type loads an XML (eXtensible Markup Language) file describing a bidirectional scattering distribution function. Real arguments to this material may define additional diffuse components that augment the BSDF data. String arguments are used to define thickness for proxied surfaces and the "up" orientation for the material.
	mod BSDF id
	6+ thick BSDFfile ux uy uz funcfile transform
	0
	0|3|6|9
		rfdif gfdif bfdif
		rbdif gbdif bbdif
		rtdif gtdif btdif
The first string argument is a "thickness" parameter that may be used to hide detail geometry being proxied by an aggregate BSDF material. If a view or shadow ray hits a BSDF proxy with non-zero thickness, it will pass directly through as if the surface were not there. Similar to the illum type, this permits direct viewing and shadow testing of complex geometry. The BSDF is used when a scattered (indirect) ray hits the surface, and any transmitted sample rays will be offset by the thickness amount to avoid the hidden geometry and gather samples from the other side. In this manner, BSDF surfaces can improve the results for indirect scattering from complex systems without sacrificing appearance or shadow accuracy. If the BSDF has transmission and back-side reflection data, a parallel BSDF surface may be placed slightly less than the given thickness away from the front surface to enclose the complex geometry on both sides. The sign of the thickness is important, as it indicates whether the proxied geometry is behind the BSDF surface (when thickness is positive) or in front (when thickness is negative).

The second string argument is the name of the BSDF file, which is found in the usual auxiliary locations. The following three string parameters name variables for an "up" vector, which together with the surface normal, define the local coordinate system that orients the BSDF. These variables, along with the thickness, are defined in a function file given as the next string argument. An optional transform is used to scale the thickness and reorient the up vector.

If no real arguments are given, the BSDF is used by itself to determine reflection and transmission. If there are at least 3 real arguments, the first triplet is an additional diffuse reflectance for the front side. At least 6 real arguments adds diffuse reflectance to the rear side of the surface. If there are 9 real arguments, the final triplet will be taken as an additional diffuse transmittance. All diffuse components as well as the non-diffuse transmission are modified by patterns applied to this material. The non-diffuse reflection from either side are unaffected. Textures perturb the effective surface normal in the usual way.

The surface normal of this type is not altered to face the incoming ray, so the front and back BSDF reflections may differ. (Transmission is identical front-to-back by physical law.) If back visibility is turned off during rendering and there is no transmission or back-side reflection, only then the surface will be invisible from behind. Unlike other data-driven material types, the BSDF type is fully supported and all parts of the distribution are properly sampled.

-------------------------------
Something like:

void BSDF myFilm
6 0 myFilm.xml 0 0 1 .
0
0

myFilm polygon etc...

--------------
The orientation of the film may or may not matter.

-Greg

> From: Jason Giddings <Jason.Giddings at arup.com>
> Date: December 8, 2017 9:51:46 AM PST
> 
> Hi All,
>  
> I am looking to run some analysis that takes into account the effects of placing redirecting film on glazing.
>  
> I have received a BSDF xml file from the redirecting film manufacturer and I was wondering what the best way to incorporate this into my analysis would be? Currently I am only looking to run this at specific times and not annually.
>  
> Any pointers or examples that anyone has would be greatly appreciated.
>  
> Many thanks,
> --
> Jason Giddings
> Designer | Lighting
>  
> Arup
> 13 Fitzroy Street  London  W1T 4BQ  United Kingdom
> d: +44 20 7755 4259 
> www.arup.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171208/7f138324/attachment.html>

From minchen.wei at polyu.edu.hk  Sat Dec  9 05:20:15 2017
From: minchen.wei at polyu.edu.hk (WEI, Minchen [BSE])
Date: Sat, 9 Dec 2017 13:20:15 +0000
Subject: [Radiance-general] Sun Matrix by gendaymtx and genskyvec
Message-ID: <HKNPR02MB051664F258EA68F64CA03D8BCD310@HKNPR02MB0516.apcprd02.prod.outlook.com>

When we are generating the sun matrix for the Five Phase and the improved version of the Daylight Coefficient Method, gendaymtx is used in Sarith's tutorial file. "-5 0.533" is used.

Is there a simply way to generate the sun matrix by using genskyvec? Or it can only be applied to gendaymtx.

Thanks,

Tommy

--
Minchen (Tommy) Wei, PhD
The Hong Kong Polytechnic University
(+852)-3400 3606 minchen.wei at polyu.edu.hk<mailto:minchen.wei at polyu.edu.hk>

From: Sarith Subramaniam [mailto:sarith at psu.edu]
Sent: Friday, 8 December 2017 10:30 PM
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Proxy geometry in the five-phase method


The Daylight Coefficient<https://secure-web.cisco.com/1pwYjyfECioNK-IZQaYHpYgDxyRRo3ITTQENkig9kw9FqwwwoGID5yJvJblMF7FQyMit0WXP1sTUitPEnogxEjc3xzg9NbBXYRy3Eax2Wakgp_fKK8ZCnJXMoKuzRC_sD4pLcpHHR7eJuAjrz-atS0rh5VBmJEaYmIGDvrVH8Jo79nJVm-RoVLjUwuzXYdiwAAZkF87jVOgbZBXF84wHsjxKQG3nUcncH1r5hpYxjmOzJJDXixSActuGLeS5TJtiqDYEe7gJ85UG1IC_OZCBOkEGy6BP62_XuMZ2KKKLv4j2oJtBTealeeJY0Mqm5r8iZSkTIbAZrch-r1oMVrHmIDw/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F2PM_DayCoeff.sh> and Three Phase<https://secure-web.cisco.com/1pg-R4oOYN4qlA761yn7HPpJWzLn3gegHd_POgv3d0Hl-0JNc-BK8pUBYDTCovjPbt7jL-iGI8eNFG1ie0kw_MQ14rNpbY5HsxncH22y5BIegt88ldTO5S-IQBoGPE_zAOTRt5TdavMrv9ZZLr-plninhT3X4KSRgx1z7KA2FaO8zq95Zgv39tOd3WjLLWw9y6luhxyUapY6pfx1SygiAYvwjUGEm2y9zL9NbbtXWasKQNyVoAc7iDrxicBiBq0fkmf2ulEMKpST-Op5flumenYU6bWixeNg_WBrycyUY2iLIWxxgC1uIsOY4xqU2d3Y2W4B29h6E1Awkh9dWOxatPg/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F3PM.sh> examples use a sky with 145 patches in which the sun accounts for 3-4 patches. In these examples, the sky and sun are both represented through the "glow" primitive and the ray-tracing is stochastic. The additional steps in the Five Phase<https://secure-web.cisco.com/1SNL9QyudvsTuPYlvdt43A-qZ-KyPbGAMRel-zsVPigX2xs0xTsUDTx4nI2B6G06mVrqN-QzggC_x7XNNfyvajji_t0F12h_Noame6kt22SXDNic6wm5Z9mJ4JA5oRmlZ7RbCtjcPxxj9Gm8DDeJt0Tyyy4N1NQbMUWcEIInbGalU2ZNsl173OiO2Jy5WN3iUs4x8mgKo0B3N49dLyN8wuZtHauvgsFuEjm6ZQt9nqFQoGQ4xXYf0xBAWSJqc_fY_Bk3fhPqlJGvW_4LPPIPTHSaP2hUqrLMsaFeRUIVvynugVo74pzbgrWUHC48kjVP-m7_On6Pn-VvkgpG2CSjS_w/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F5PM.sh> example subtract out the direct component of the results from the glow-based oversized sun patches and replace them with replace them with accurately calculated direct sun-results. In this case, the sun is represented using the "light" primitive (implying a deterministic calculation) and is also more appropriately sized (0.533 degrees).

The exercise files also contain an improved version<https://secure-web.cisco.com/1a7v6ZRWjq_BRXwSGqIym1laBFwj3hqTl4x-klnmLNrzFlzKsCyFB6Tboy01hi9ZHHTT47P4icbSAo7UXpg6lF8R3-OVA9H2eST0wOgH5kmcFJj2bxBkMDgpe7C9mSuMVYYW6FBL2q-lo-BDiTz298QQLsuk78mGpG_4FSri5uKUAUP1GJ9KDTsK_94d12mwzIQnPaXyso39c4vmZNiLpJbQUZgVL_CbMWLQC-fDNlqy1UtIlnfVKSydM9aeVooR00Xyh4nNfgRVnDhUHATPhqpUblt_9M-LbWBOsmQy7EsfTR5sN2aDrKBrZ9D829zIlp58waJIVdLNU_sCoN81TDQ/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F2PM_DDS.sh> of the Daylight Coefficient Method that features the direct-sun correction. I think the results from that calculation and the Five Phase calculation will be similar as they both involve the direct-sun correction.

The final part of the Five-Phase method requires Tensor-Tree BSDFs. The methodology for creating BSDFs from Radiance primitives is discussed in the genBSDF tutorial<https://secure-web.cisco.com/1O7rB4s36mYQNrGEqpoXIPPoj3auC2BVqX_7ft-8OdRq59B1w6l8gNJHazbAyuX-oX8W1dlL3t33RIg4XX0dgXso5HYV-Md28oE1uNnZHOdSLfMBsYnc9OsI9vgIlKaB9YbWM94A-0QBUjSn98z4yj9T2FdzN0g9xrF7xiUDSZ8_8WRs-8Cl5p8y56Rt9dD9UAb2J2ptR3fgoMYGOY6DauNxOe5eSo0H0Gs54FjD5XlbDumSNO3_rVn6sLjW0DDdvgWxn7_UKYG8ga9lZO5GlxeTgsWoPYKGhNRClAu4j3YGpDAbuKr1fNQ-EBkUciCj4/https%3A%2F%2Fwww.radiance-online.org%2Flearning%2Ftutorials%2FTutorial-genBSDF_v1.0.1.pdf>. If your glazing system is just a simple glazing comprised of something like "glass" or "trans", you can incorporate the glazing geometry directly. This process would be similar to what is discussed for the improved Daylight Coefficient calculation<https://secure-web.cisco.com/1wRAmRRitS0eb6bxNSu02bADJMEHfIbrSNyUsDF_HBK4mL-o5lOOGPt2ViV12wI2YrhdR5hVjk0v6SqEoSN56-C13TIEn13LbJS1BCcE5wfSiLvhysFOW33TN9i71-l3hWkJQxz5aXMZqYO0mb7l8bI8usVKf5tuWMe70hCvq_0s8wqSmPVoYs0XJuY_3ve8vP5xMweezH507pTBy-4tqzLbAUO02RLjd_ZKstkz_sXJxolPIzNky23KmKUL5Wv59s2GzJBChlBs9XKghA7l2CEXDC2FJlJugnua1wJwi-OxDu6WHwniVxpvP2kszs4F84cFmsmJw3abiGoWcf0htCQ/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F2PM_DDS.sh%23L55-L73>.



Sarith



On 12/8/2017 4:11 AM, WEI, Minchen [BSE] wrote:
Hi All,

I have questions regarding the proxy geometry in the five-phase method.

I tried the tutorial using a room with a glazing (no venetian blinds). The daylight coefficient and three-phase method can produce similar results, but the five-phase method produce smaller illuminance values.

I think the problem is coming from the "proxy geometry". In my "proxy geometry" I only included a glazing geometry with the transmittance I used in the daylight coefficient method. Is that right?

I looked at the proxy geometry included in Sarith's tutorial which included all the blinds, the glazing, and a BSDF ("blindsT4c.xml") for maxPoly and minPoly. How should I generate these BSDF if I have the blinds?

Thanks,

Tommy

--
Minchen (Tommy) Wei, PhD
The Hong Kong Polytechnic University
(+852)-3400 3606 minchen.wei at polyu.edu.hk<mailto:minchen.wei at polyu.edu.hk>

[http://mlm.polyu.edu.hk/PolyU80_Email_Signature.png]

www.polyu.edu.hk/80anniversary<http://www.polyu.edu.hk/80anniversary>

Disclaimer:

This message (including any attachments) contains confidential information intended for a specific individual and purpose. If you are not the intended recipient, you should delete this message and notify the sender and The Hong Kong Polytechnic University (the University) immediately. Any disclosure, copying, or distribution of this message, or the taking of any action based on it, is strictly prohibited and may be unlawful.

The University specifically denies any responsibility for the accuracy or quality of information obtained through University E-mail Facilities. Any views and opinions expressed are only those of the author(s) and do not necessarily represent those of the University and the University accepts no liability whatsoever for any losses or damages incurred or caused to any party as a result of the use of such information.




_______________________________________________

Radiance-general mailing list

Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>

https://www.radiance-online.org/mailman/listinfo/radiance-general<https://secure-web.cisco.com/1Fs3C4N2lXvQh6k3ZRZMpkQC-RT2FoXrSbVbHtns62YVdh8ib_iJnjltIAsmtyldJaB3TiRc-65ues9l6OGXtcTPVZzhZ94xds9T7ODM9bIm47GTdm9LYuBjYZUOz91hMJvUSqdZ_OL3baA03_PZcBO0vploMx1zKkIDnY2EMyJse1FQfgqchl5S7rbd2gCEHYIfE-glk2a232RrjlS_cahSuOyrXFYXb50TOvbmsUSckzjjpuAT0WiQ5d8uqv0QBGyT1kS30X6vntxf27FbFKOOkG-REYKrLcaiiXpxRdNUgFbATED3LtTb_S7JuKdx5/https%3A%2F%2Fwww.radiance-online.org%2Fmailman%2Flistinfo%2Fradiance-general>

[http://mlm.polyu.edu.hk/PolyU80_Email_Signature.png]

www.polyu.edu.hk/80anniversary<http://www.polyu.edu.hk/80anniversary>

Disclaimer:

This message (including any attachments) contains confidential information intended for a specific individual and purpose. If you are not the intended recipient, you should delete this message and notify the sender and The Hong Kong Polytechnic University (the University) immediately. Any disclosure, copying, or distribution of this message, or the taking of any action based on it, is strictly prohibited and may be unlawful.

The University specifically denies any responsibility for the accuracy or quality of information obtained through University E-mail Facilities. Any views and opinions expressed are only those of the author(s) and do not necessarily represent those of the University and the University accepts no liability whatsoever for any losses or damages incurred or caused to any party as a result of the use of such information.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171209/4b6d04fd/attachment-0001.html>

From roland.schregle at gmail.com  Sat Dec  9 10:51:09 2017
From: roland.schregle at gmail.com (Roland Schregle)
Date: Sat, 09 Dec 2017 19:51:09 +0100
Subject: [Radiance-general] pmapdump: -r is ignored
In-Reply-To: <8d4df62d-caab-a3b2-5fd6-8f26f1be2142@gmail.com>
References: <CA+dqh62bNEcdQuWitc+i9dZEhU2E2wXHzi7x1H6i+yP2s0T1Mw@mail.gmail.com>
 <op.zar7mee6xwus9n@radiance>
 <CA+dqh63Jx7eAtLvH=iJTstCWB8-xspX=p9kjFAFC-KN9SnXywA@mail.gmail.com>
 <op.zat7ue16xwus9n@deldo> <8d4df62d-caab-a3b2-5fd6-8f26f1be2142@gmail.com>
Message-ID: <op.zaztbjmhxwus9n@deldo>

On Wed, 06 Dec 2017 20:25:32 +0100, Axel Jacobs <jacobs.axel at gmail.com>  
wrote:

> Thank you, Roland,
>
> my scene is a simple light pipe with a planar diffusor at the end.  I  
> managed to change the zero radii to something non-zero and visualise the  
> photon map.  As you say--all red (caustic) spheres are on the diffusor.

Hi Axel,

No prob. I just updated pmapdump.c in the CVS. Try that with your original  
(coplanar) caustic pmap.

The automatic sphere radius is a pretty rudimentary guess and often needs  
some manual tweaking. Usually it's too small, but on the upside that  
reduces sphere overlap, which would otherwise slow oconv down. Pmapdump is  
still pretty rough around the edges, even after over a decade... ;^)

Best regards,

--Roland



From gregoryjward at gmail.com  Sat Dec  9 12:58:18 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Sat, 9 Dec 2017 12:58:18 -0800
Subject: [Radiance-general] rtrace values too low compared to 3-phase
 method
In-Reply-To: <OFA6ED7395.093D5730-ONC12581F0.005845F7-C12581F0.0058A845@ise.fhg.de>
References: <OFA6ED7395.093D5730-ONC12581F0.005845F7-C12581F0.0058A845@ise.fhg.de>
Message-ID: <C079BC6C-3BBC-4DDE-A441-176A293E9AD9@lmi.net>

Hi Marouane,

Which version of Radiance are you using?  (I.e., what does "rtrace -version" say?)

There are difficulties finding transmitted solar radiation through unproxied BSDF materials before the 5.1 release.  The latest release adds a new calculation called "peak extraction" that attempts to identify strong peaks in the BSDF view component that it treats separately.  The solution is not perfect, but it generally leads to more correct results in such cases.

Another approach if you are starting from a geometric description of your fenestration and using genBSDF is the +geom option, which includes the system geometry in the XML file.  You can then apply "pkgBSDF" to translate this geometry and surround it with appropriate proxy surfaces, so that your rays will pass through and generate the correct patterns on your interior surfaces, as well as giving you a correct view through the fenestration system.

If you are using genBSDF, what options did you include?  How did you describe the actual BSDF surface(s) in your model?

Best,
-Greg

> From: Marouane.Boudhaim at ise.fraunhofer.de
> Date: December 8, 2017 8:08:22 AM PST
> 
> Hello, 
>   
> I?m trying to calculate vertical illuminance with 3-phase method and validate it against rtrace results.  My results are very different. 3-phase method has illuminance values two order of magnitudes higher. I can only see the the direct solar illuminance on the floor. I suspect that my rtrace command fails to find the sky, because of the complexity of the geometry of my fenestration system. I was wondering if anyone here has already had such a problem in the past with rtrace giving too low illuminance values. 
>   
> My CFS geometry consists of uniformly spaced boxes of 5 cm (picture in the end). The gap between the boxes allow 4%  normal transmittance (tested with 20% too and it?s still dark, 30% start giving some light). 
> Here are the parameters used to calculate the vertical illuminance (and which I suspect may be wrong) 
>   
> 1st way : 3PM : View matrix of the picture (on which I use evalglare to get the vertical illuminance) :  -n 35 -ab 10 -ad 65536 -lw 1.52e-5 -c 9 
>   
> 2nd way : Vertical illuminance with rtrace :  rtrace -h -I -n 40 -ab 10 -ad 8192 -ar 1024 -as 4096 -aa 0.1 
>   
> 3rd way : Rtrace picture (I use evalglare on it) :  rtrace -n 40 -ab 5 -ad 512 -ar 128 -as 256 -aa 0.15 -dc 1 
>   
> Needless to say I made the parameters vary many times before contacting the mailing list, but there are so much parameters and simulation times increase a lot (I mainly increased ab and ar). I have already tried the parameters on the old and new 3pm/5pm tutorials to be sure my 3-pm results are not wrong. Has anyone else had similar experience with rtrace and know how to solve it ? 
>   
> Sincerely, 
> Marouane. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171209/2e6f0e9f/attachment.html>

From Marouane.Boudhaim at ise.fraunhofer.de  Sun Dec 10 20:09:30 2017
From: Marouane.Boudhaim at ise.fraunhofer.de (Marouane.Boudhaim at ise.fraunhofer.de)
Date: Mon, 11 Dec 2017 05:09:30 +0100
Subject: [Radiance-general] Radiance-general Digest, Vol 166, Issue 13
In-Reply-To: <mailman.1.1512936000.44309.radiance-general@radiance-online.org>
References: <mailman.1.1512936000.44309.radiance-general@radiance-online.org>
Message-ID: <OF240B9B96.66CAB950-ONC12581F3.001622DD-C12581F3.0016D7CC@ise.fhg.de>

Hello Greg,

I unfortunately use two computers with different rtrace versions (to speed 
things up). One has 5.1a and the other 5.1.0.

As of the bsdf generation options. It has been generated through genBSDF 
with only -dim option. I want to note that the BSDF was only used for the 
3-phase method, and the system's depth has been neglected (2mm depth seems 
neglectible in regards to scene's dimensions).

Rtrace scene used the real geometry (the one I generated from the BSDF) as 
I want to validate against it. I didn't use the proxy geometry. I don't 
know if it answers your question.

Thank you for your time!

Sincerely,
Marouane.



Von:    radiance-general-request at radiance-online.org
An:     radiance-general at radiance-online.org
Datum:  10.12.2017 21:04
Betreff:        Radiance-general Digest, Vol 166, Issue 13



Send Radiance-general mailing list submissions to
                 radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
                 
https://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
                 radiance-general-request at radiance-online.org

You can reach the person managing the list at
                 radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. Re: rtrace values too low compared to 3-phase method (Greg Ward)


----------------------------------------------------------------------

Message: 1
Date: Sat, 9 Dec 2017 12:58:18 -0800
From: Greg Ward <gregoryjward at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] rtrace values too low compared to
                 3-phase method
Message-ID: <C079BC6C-3BBC-4DDE-A441-176A293E9AD9 at lmi.net>
Content-Type: text/plain; charset="windows-1252"

Hi Marouane,

Which version of Radiance are you using?  (I.e., what does "rtrace 
-version" say?)

There are difficulties finding transmitted solar radiation through 
unproxied BSDF materials before the 5.1 release.  The latest release adds 
a new calculation called "peak extraction" that attempts to identify 
strong peaks in the BSDF view component that it treats separately.  The 
solution is not perfect, but it generally leads to more correct results in 
such cases.

Another approach if you are starting from a geometric description of your 
fenestration and using genBSDF is the +geom option, which includes the 
system geometry in the XML file.  You can then apply "pkgBSDF" to 
translate this geometry and surround it with appropriate proxy surfaces, 
so that your rays will pass through and generate the correct patterns on 
your interior surfaces, as well as giving you a correct view through the 
fenestration system.

If you are using genBSDF, what options did you include?  How did you 
describe the actual BSDF surface(s) in your model?

Best,
-Greg

> From: Marouane.Boudhaim at ise.fraunhofer.de
> Date: December 8, 2017 8:08:22 AM PST
> 
> Hello, 
> 
> I?m trying to calculate vertical illuminance with 3-phase method and 
validate it against rtrace results.  My results are very different. 
3-phase method has illuminance values two order of magnitudes higher. I 
can only see the the direct solar illuminance on the floor. I suspect that 
my rtrace command fails to find the sky, because of the complexity of the 
geometry of my fenestration system. I was wondering if anyone here has 
already had such a problem in the past with rtrace giving too low 
illuminance values. 
> 
> My CFS geometry consists of uniformly spaced boxes of 5 cm (picture in 
the end). The gap between the boxes allow 4%  normal transmittance (tested 
with 20% too and it?s still dark, 30% start giving some light). 
> Here are the parameters used to calculate the vertical illuminance (and 
which I suspect may be wrong) 
> 
> 1st way : 3PM : View matrix of the picture (on which I use evalglare to 
get the vertical illuminance) :  -n 35 -ab 10 -ad 65536 -lw 1.52e-5 -c 9 
> 
> 2nd way : Vertical illuminance with rtrace :  rtrace -h -I -n 40 -ab 10 
-ad 8192 -ar 1024 -as 4096 -aa 0.1 
> 
> 3rd way : Rtrace picture (I use evalglare on it) :  rtrace -n 40 -ab 5 
-ad 512 -ar 128 -as 256 -aa 0.15 -dc 1 
> 
> Needless to say I made the parameters vary many times before contacting 
the mailing list, but there are so much parameters and simulation times 
increase a lot (I mainly increased ab and ar). I have already tried the 
parameters on the old and new 3pm/5pm tutorials to be sure my 3-pm results 
are not wrong. Has anyone else had similar experience with rtrace and know 
how to solve it ? 
> 
> Sincerely, 
> Marouane. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <
http://www.radiance-online.org/pipermail/radiance-general/attachments/20171209/2e6f0e9f/attachment-0001.html
>

------------------------------

Subject: Digest Footer

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
https://www.radiance-online.org/mailman/listinfo/radiance-general


------------------------------

End of Radiance-general Digest, Vol 166, Issue 13
*************************************************


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171211/09341137/attachment.html>

From gregoryjward at gmail.com  Mon Dec 11 08:44:10 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 11 Dec 2017 08:44:10 -0800
Subject: [Radiance-general] Radiance-general Digest, Vol 166, Issue 13
In-Reply-To: <OF240B9B96.66CAB950-ONC12581F3.001622DD-C12581F3.0016D7CC@ise.fhg.de>
References: <mailman.1.1512936000.44309.radiance-general@radiance-online.org>
 <OF240B9B96.66CAB950-ONC12581F3.001622DD-C12581F3.0016D7CC@ise.fhg.de>
Message-ID: <2800D543-76F2-4E7E-B5A1-67B88F1F3DC3@lmi.net>

Hi Marouane,

Looking at your original post again, I would say that relying on rtrace and the default calculation to determine the tiny bit of light that bounces many times between closely-spaced diffuse surfaces and makes it into your room is the problem.  This is very close to a "worst case" scenario for indirect irradiance caching, so I would switch this off, at least for your rtrace calculation.  It will still be very expensive to compute the light through this system, but you can try something like:

	rtrace -I+ -aa 0 -ad 1024 -as 1024 -ab 10 -lw 1e-4 -lr -12

The other option is to use a more modest irradiance caching operation with the BSDF you have computed.  You do not need to use the system geometry, as it seems the elements are too thick to let direct light through in any case, which was my initial (incorrect) assumption.

Best,
-Greg

> From: Marouane.Boudhaim at ise.fraunhofer.de
> Date: December 10, 2017 8:09:30 PM PST
> 
> Hello Greg, 
> 
> I unfortunately use two computers with different rtrace versions (to speed things up). One has 5.1a and the other 5.1.0. 
> 
> As of the bsdf generation options. It has been generated through genBSDF with only -dim option. I want to note that the BSDF was only used for the 3-phase method, and the system's depth has been neglected (2mm depth seems neglectible in regards to scene's dimensions). 
> 
> Rtrace scene used the real geometry (the one I generated from the BSDF) as I want to validate against it. I didn't use the proxy geometry. I don't know if it answers your question. 
> 
> Thank you for your time! 
> 
> Sincerely, 
> Marouane. 
> 
> 
> Date: Sat, 9 Dec 2017 12:58:18 -0800
> From: Greg Ward <gregoryjward at gmail.com>
> To: Radiance general discussion <radiance-general at radiance-online.org>
> 
> Hi Marouane,
> 
> Which version of Radiance are you using?  (I.e., what does "rtrace -version" say?)
> 
> There are difficulties finding transmitted solar radiation through unproxied BSDF materials before the 5.1 release.  The latest release adds a new calculation called "peak extraction" that attempts to identify strong peaks in the BSDF view component that it treats separately.  The solution is not perfect, but it generally leads to more correct results in such cases.
> 
> Another approach if you are starting from a geometric description of your fenestration and using genBSDF is the +geom option, which includes the system geometry in the XML file.  You can then apply "pkgBSDF" to translate this geometry and surround it with appropriate proxy surfaces, so that your rays will pass through and generate the correct patterns on your interior surfaces, as well as giving you a correct view through the fenestration system.
> 
> If you are using genBSDF, what options did you include?  How did you describe the actual BSDF surface(s) in your model?
> 
> Best,
> -Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171211/cc33e417/attachment.html>

From Sandi.Sirikhanchai at hotmail.co.nz  Mon Dec 11 17:14:55 2017
From: Sandi.Sirikhanchai at hotmail.co.nz (Sandi Sirikhanchai)
Date: Tue, 12 Dec 2017 01:14:55 +0000
Subject: [Radiance-general] Three phase radiance script rfluxmtx switches
In-Reply-To: <9B1F56DB-7ED3-45F6-8A58-A82632E94C1E@nrel.gov>
References: <SG2PR0601MB129649669C4883C75D6DC489C9330@SG2PR0601MB1296.apcprd06.prod.outlook.com>
 <E6EA0EF9-E58F-4446-8328-544517CD8C4B@lmi.net>,
 <9B1F56DB-7ED3-45F6-8A58-A82632E94C1E@nrel.gov>
Message-ID: <SG2PR0601MB1296E6EF97B451A91AA4A4F5C9340@SG2PR0601MB1296.apcprd06.prod.outlook.com>

Hi Robert and Greg,



Thank you for your help. It was the dash that was the issue.



Kind regards,

Sandi



________________________________
From: Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov>
Sent: Saturday, December 9, 2017 7:48:19 AM
To: Radiance general discussion
Subject: Re: [Radiance-general] Three phase radiance script rfluxmtx switches

I was going to say it also looked like the hyphen before the capital i was an em dash and not a hyphen...

On 12/8/17, 11:43 AM, "Greg Ward" <gregoryjward at gmail.com> wrote:

    Hi Sandi,


    Looks like you have the "pipe" symbol ('|') rather than a capital "i" in your "-I+" option.  This is the advantage of cut-and-past, or at least using a font that differentiates these things...


    -Greg


    From:
    Sandi Sirikhanchai <sandi.sirikhanchai at hotmail.co.nz>
    Date:
    December 6, 2017 10:21:55 PM PST





    Hello,

    I have a question regarding the creation of a view matrix to do a three phase daylight simulation.


    I have a line in the batch file which is:

    rfluxmtx ?I+ -ab 12 -ad 50000 -lw 2e-5  -y 6 - < data\workplane.pts scene\objects\window.rad scene\materials\material_detailed.rad scene\objects\radmodel.rad > results\south.vmx

    This is copied from the online radiance tutorial found here:

    https://andymcneil.gitbooks.io/three-phase-method-tutorial/content/31_view_matrix.html <https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fandymcneil.gitbooks.io%2Fthree-phase-method-tutorial%2Fcontent%2F31_view_matrix.html&data=02%7C01%7Crobert.guglielmetti%40nrel.gov%7C81a1ef8bf19b440bfd7008d53e6b95e3%7Ca0f29d7e28cd4f5484427885aee7c080%7C0%7C0%7C636483554164173570&sdata=Y61%2BiTXsfw%2BTiK3nAPOwBFf0QDB%2BWXDylJaXUeoWBIQ%3D&reserved=0>

    When I run the batch file there is an error that says:
    rfluxmtx: cannot load ?-ab?

    If I delete -ab from the line and re-run the batch file another error occurs which is:
    rfluxmtx: cannot load ?-ad?

    So somethings occurring with the switches.

    I?m using the latest version of radiance on a windows 10 computer.


    I have discussed this with other people and we don?t know why it isn?t working and we would appreciate any insight.


    Thank you in advance,
    Sandi Sirikhanchai







_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
https://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171212/94218199/attachment.html>

From sandi.sirikhanchai at hotmail.co.nz  Fri Dec 15 01:09:24 2017
From: sandi.sirikhanchai at hotmail.co.nz (Sandi Sirikhanchai)
Date: Fri, 15 Dec 2017 09:09:24 +0000
Subject: [Radiance-general] Three Phase Simulation rfluxmtx switches for
 view mtx
Message-ID: <SG2PR0601MB1296F7FA5127B3C4FED95C2FC90B0@SG2PR0601MB1296.apcprd06.prod.outlook.com>

Hi everyone,

I am having a problem with the rfluxmtx switches when creating a View Matrix.

First of all as I am new to this I am following three different sources to compare the commands and outcomes.
The three documents I am following are:


  *   Andy McNeil?s Radiance Three Phase Method Tutorial published on GitBook.
  *   Andy McNeils BSDFs, Matrices and Phases - Presentation slides on Sept 1, 2014 and
  *   Sarith Subramaniam?s Daylighting Simulations with Radiance using Matrix-Based Methods.

The switches used in the above sources vary between the examples and also Sarith?s method uses an octree. As I still do not have a strong grasp of radiance and the switches yet which one would be best to follow? What?s the difference? I am currently testing them all out.

When I use the example lines from the documents above to create a vmtx, I have a recurring issue with -vf. The bash will say ?rfluxmtx: cannot load -vf?. I posted earlier this month about something similar and all I had to do is retype the switch as it copied in a dash not a hyphen. I thought this issue might be the same case however ?rfluxmtx: cannot load -vf? still appears. If I delete -vf file.vf  I will get another error saying ?rfluxmtx: cannot load -x? and this continues with all the other switches.

When I use Sarith?s view matrix example I get the same thing but for -ab: ?rfluxmtx: cannot load -ab?.

After trying all the different examples from the different sources a view matrix file was generated but nothing was created inside. I also tried the older method using rcontrib which generated a view file but only had rows and columns full of zeros. (In regards to using rcontrib, I am also using rvu to generate a rendered view matrix and believe I am using a newer version of radiance affecting the ability to use rvu).

I am following the examples from the three sources but using my own rad files and mat files. Does anyone have any idea of what I am doing wrong? Is it likely to be how radiance is set up on my computer?

Any insight would be much appreciated,

Many thanks,
Sandi Sirikhanchai


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171215/0f55e237/attachment.html>

From Christopher.Rush at arup.com  Fri Dec 15 06:29:51 2017
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 15 Dec 2017 14:29:51 +0000
Subject: [Radiance-general] Three Phase Simulation rfluxmtx switches for
 view mtx
In-Reply-To: <SG2PR0601MB1296F7FA5127B3C4FED95C2FC90B0@SG2PR0601MB1296.apcprd06.prod.outlook.com>
References: <SG2PR0601MB1296F7FA5127B3C4FED95C2FC90B0@SG2PR0601MB1296.apcprd06.prod.outlook.com>
Message-ID: <88079A360FAC7441AE93ECBF6199823657BD49B8@AMXExMb03.global.arup.com>

Hi Sandi,
Are you entering the tutorial commands into a script and running it, copying and pasting them onto the command line, or typing them by hand onto the command line? I'm asking to help rule out any issues with character recognition by the terminal interface from various text formats. Also are you operating on Windows, Mac, or other? And is there anything notable about your system setup - or just a standalone computer with physical keyboard and no remote or virtual interfaces?

If you were copying and pasting anything, can you try typing the commands by hand into the terminal in case any whitespace or newline characters weren't being copied correctly? Does that make any difference?

It doesn't sound like the radiance installation, because it looks like the executables are being recognized through the terminal. Just in case anyone else thinks of something though, what installation package did you use to install Radiance?

-Chris

From: Sandi Sirikhanchai [mailto:sandi.sirikhanchai at hotmail.co.nz]

When I use the example lines from the documents above to create a vmtx, I have a recurring issue with -vf. The bash will say "rfluxmtx: cannot load -vf". I posted earlier this month about something similar and all I had to do is retype the switch as it copied in a dash not a hyphen. I thought this issue might be the same case however "rfluxmtx: cannot load -vf" still appears. If I delete -vf file.vf  I will get another error saying "rfluxmtx: cannot load -x" and this continues with all the other switches.

When I use Sarith's view matrix example I get the same thing but for -ab: "rfluxmtx: cannot load -ab".

____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171215/75464ab1/attachment-0001.html>

From gregoryjward at gmail.com  Fri Dec 15 07:54:44 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 15 Dec 2017 07:54:44 -0800
Subject: [Radiance-general] Three Phase Simulation rfluxmtx switches for
 view mtx
In-Reply-To: <88079A360FAC7441AE93ECBF6199823657BD49B8@AMXExMb03.global.arup.com>
References: <SG2PR0601MB1296F7FA5127B3C4FED95C2FC90B0@SG2PR0601MB1296.apcprd06.prod.outlook.com>
 <88079A360FAC7441AE93ECBF6199823657BD49B8@AMXExMb03.global.arup.com>
Message-ID: <1B731D21-065E-4990-B378-19785E3AE863@lmi.net>

Hi Sandi,

Any message like "rfluxmtx: cannot load '-option'" is due to an error in argument processing, which is probably due to using an m-dash instead of a hyphen ('-') for the preceding option.

Radiance commands, as is true of most Unix tools, only understand the basic ASCII character set, not the extended characters supported on modern systems.  Cutting and pasting from a document is therefore hazardous, as you can pick up these extended characters, which the command-line tools won't know what to do with.

I do recommend retyping the commands from the tutorial to avoid this problem, also as a better way to get comfortable with them.  It might also be worth picking up a reference book about the Unix environment to help you get started.

Best,
-Greg

> From: Christopher Rush <Christopher.Rush at arup.com>
> Date: December 15, 2017 6:29:51 AM PST
> 
> Hi Sandi,
> Are you entering the tutorial commands into a script and running it, copying and pasting them onto the command line, or typing them by hand onto the command line? I?m asking to help rule out any issues with character recognition by the terminal interface from various text formats. Also are you operating on Windows, Mac, or other? And is there anything notable about your system setup ? or just a standalone computer with physical keyboard and no remote or virtual interfaces?
>  
> If you were copying and pasting anything, can you try typing the commands by hand into the terminal in case any whitespace or newline characters weren?t being copied correctly? Does that make any difference?
>  
> It doesn?t sound like the radiance installation, because it looks like the executables are being recognized through the terminal. Just in case anyone else thinks of something though, what installation package did you use to install Radiance?
>  
> -Chris
>  
> From: Sandi Sirikhanchai [mailto:sandi.sirikhanchai at hotmail.co.nz] 
> 
> When I use the example lines from the documents above to create a vmtx, I have a recurring issue with -vf. The bash will say ?rfluxmtx: cannot load -vf?. I posted earlier this month about something similar and all I had to do is retype the switch as it copied in a dash not a hyphen. I thought this issue might be the same case however ?rfluxmtx: cannot load -vf? still appears. If I delete -vf file.vf  I will get another error saying ?rfluxmtx: cannot load -x? and this continues with all the other switches.
>  
> When I use Sarith?s view matrix example I get the same thing but for -ab: ?rfluxmtx: cannot load -ab?.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171215/15aa7c45/attachment.html>

From sarith at psu.edu  Fri Dec 15 13:16:32 2017
From: sarith at psu.edu (Sarith Subramaniam)
Date: Fri, 15 Dec 2017 16:16:32 -0500
Subject: [Radiance-general] Three Phase Simulation rfluxmtx switches
	for	view mtx
In-Reply-To: 1B731D21-065E-4990-B378-19785E3AE863@lmi.net
References: <SG2PR0601MB1296F7FA5127B3C4FED95C2FC90B0@SG2PR0601MB1296.apcprd06.prod.out
 look.com>
 <88079A360FAC7441AE93ECBF6199823657BD49B8@AMXExMb03.global.arup.com><1B731D
 21-065E-4990-B378-19785E3AE863@lmi.net>
Message-ID: <1513372592l.31064092l.0l@psu.edu>

Hi Everyone, 






Specifically
with regards to the Three Phase Method in the tutorial, if the OS is Windows,
the <a
onclick="window.open('https://github.com/sariths/radTutorialFiles/blob/master/room/commands/3PM.sh#L28');return false;" href="https://github.com/sariths/radTutorialFiles/blob/master/room/commands/3PM.sh#L28">command in question (hyperlinked)</a> will not work as it contains an inline command: `vwrays -vf views/south.vf -x 400 -y 400 -d`. 




I had addressed this issue on Page 42-43 of the tutorial and suggested a workaround. There it is discussed within the context of the Daylight Coefficient Method, however, the same modifications should work for the view matrix in the Three Phase Method as well.






Sarith




On Fri, Dec 15, 2017 10:54 AM, Radiance general discussion <radiance-general at radiance-online.org> wrote:
>
>
>>Hi Sandi,
>>
>
>>Any message like "rfluxmtx: cannot load '-option'" is due to an error in argument processing, which is probably due to using an m-dash instead of a hyphen ('-') for the preceding option.
>>
>
>>Radiance commands, as is true of most Unix tools, only understand the basic ASCII character set, not the extended characters supported on modern systems.  Cutting and pasting from a document is therefore hazardous, as you can pick up these extended characters, which the command-line tools won't know what to do with.
>>
>
>>I do recommend retyping the commands from the tutorial to avoid this problem, also as a better way to get comfortable with them.  It might also be worth picking up a reference book about the Unix environment to help you get started.
>>
>
>>Best,
>>-Greg
>
>
>
>
>From: Christopher Rush <<#>>


>
>
>Date: December 15, 2017 6:29:51 AM PST


>
>
>
>


>
>
>
>
>
>
>
>
>>
>
>
>Hi Sandi,


>
>
>


>
>
>


>
>
>Are you entering the tutorial commands into a script and running it, copying and pasting them onto the command line, or typing them by hand onto the command
> line? I


>
>
>
_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>






-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171215/69a7ce37/attachment.html>

From gregoryjward at gmail.com  Fri Dec 15 17:26:54 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 15 Dec 2017 17:26:54 -0800
Subject: [Radiance-general] Sun Matrix by gendaymtx and genskyvec
In-Reply-To: <HKNPR02MB051664F258EA68F64CA03D8BCD310@HKNPR02MB0516.apcprd02.prod.outlook.com>
References: <HKNPR02MB051664F258EA68F64CA03D8BCD310@HKNPR02MB0516.apcprd02.prod.outlook.com>
Message-ID: <3292B6F5-41A9-47D0-AB20-ADD53EA0E656@lmi.net>

Hi Tommy,

Looks like no one responded to your question.  I'm not sure what the correct response is, as the 5-phase method only applies to annual calculations.  There is a "-d" option to genskyvec that outputs zero values except for the sun, but that sun is spread over 3 adjacent patches, which is what the "-5" option in genskymtx avoids.

If you really want to reproduce the 5-phase calculation at a single time point for some reason, why don't you edit the input file to gendaymtx to contain only that time point?  You can run the rest of the calculation as you would for an annual simulation, I think.

-Greg

> From: "WEI, Minchen [BSE]" <minchen.wei at polyu.edu.hk>
> Date: December 9, 2017 5:20:15 AM PST
> 
> When we are generating the sun matrix for the Five Phase and the improved version of the Daylight Coefficient Method, gendaymtx is used in Sarith?s tutorial file. ?-5 0.533? is used.
>  
> Is there a simply way to generate the sun matrix by using genskyvec? Or it can only be applied to gendaymtx.
>  
> Thanks,
>  
> Tommy
>  
> --
> Minchen (Tommy) Wei, PhD
> The Hong Kong Polytechnic University
> (+852)-3400 3606 minchen.wei at polyu.edu.hk
>  
> From: Sarith Subramaniam [mailto:sarith at psu.edu] 
> Sent: Friday, 8 December 2017 10:30 PM
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Subject: Re: [Radiance-general] Proxy geometry in the five-phase method
>  
> The Daylight Coefficient and Three Phase examples use a sky with 145 patches in which the sun accounts for 3-4 patches. In these examples, the sky and sun are both represented through the "glow" primitive and the ray-tracing is stochastic. The additional steps in the Five Phase example subtract out the direct component of the results from the glow-based oversized sun patches and replace them with replace them with accurately calculated direct sun-results. In this case, the sun is represented using the "light" primitive (implying a deterministic calculation) and is also more appropriately sized (0.533 degrees).
> 
> The exercise files also contain an improved version of the Daylight Coefficient Method that features the direct-sun correction. I think the results from that calculation and the Five Phase calculation will be similar as they both involve the direct-sun correction.
> 
> The final part of the Five-Phase method requires Tensor-Tree BSDFs. The methodology for creating BSDFs from Radiance primitives is discussed in the genBSDF tutorial. If your glazing system is just a simple glazing comprised of something like "glass" or "trans", you can incorporate the glazing geometry directly. This process would be similar to what is discussed for the improved Daylight Coefficient calculation.
> 
>  
> 
> Sarith
> 
>  
> 
>  
> On 12/8/2017 4:11 AM, WEI, Minchen [BSE] wrote:
> Hi All,
>  
> I have questions regarding the proxy geometry in the five-phase method.
>  
> I tried the tutorial using a room with a glazing (no venetian blinds). The daylight coefficient and three-phase method can produce similar results, but the five-phase method produce smaller illuminance values.
>  
> I think the problem is coming from the ?proxy geometry?. In my ?proxy geometry? I only included a glazing geometry with the transmittance I used in the daylight coefficient method. Is that right?
>  
> I looked at the proxy geometry included in Sarith?s tutorial which included all the blinds, the glazing, and a BSDF (?blindsT4c.xml?) for maxPoly and minPoly. How should I generate these BSDF if I have the blinds?
>  
> Thanks,
>  
> Tommy
>  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171215/16a57851/attachment-0001.html>

From germolinal at gmail.com  Fri Dec 15 17:48:28 2017
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Sat, 16 Dec 2017 01:48:28 +0000
Subject: [Radiance-general] Sun Matrix by gendaymtx and genskyvec
In-Reply-To: <3292B6F5-41A9-47D0-AB20-ADD53EA0E656@lmi.net>
References: <HKNPR02MB051664F258EA68F64CA03D8BCD310@HKNPR02MB0516.apcprd02.prod.outlook.com>
 <3292B6F5-41A9-47D0-AB20-ADD53EA0E656@lmi.net>
Message-ID: <CAF-iH4J=Hb3Jv7avrxQ7uXpvYKLXYthMZ+s_4T0wWAG6icoZ9g@mail.gmail.com>

I have actually done what Greg is mentioning ... write the header of the
WEA file, and the time and radiation data of the time you want to evaluate.
Then , gendaymtx -5 0.533 -d file.wea




On Fri, 15 Dec 2017 at 10:29 PM, Greg Ward <gregoryjward at gmail.com> wrote:

> Hi Tommy,
>
> Looks like no one responded to your question.  I'm not sure what the
> correct response is, as the 5-phase method only applies to annual
> calculations.  There is a "-d" option to genskyvec that outputs zero values
> except for the sun, but that sun is spread over 3 adjacent patches, which
> is what the "-5" option in genskymtx avoids.
>
> If you really want to reproduce the 5-phase calculation at a single time
> point for some reason, why don't you edit the input file to gendaymtx to
> contain only that time point?  You can run the rest of the calculation as
> you would for an annual simulation, I think.
>
> -Greg
>
> *From: *"WEI, Minchen [BSE]" <minchen.wei at polyu.edu.hk>
>
> *Date: *December 9, 2017 5:20:15 AM PST
>
>
> When we are generating the sun matrix for the Five Phase and the improved
> version of the Daylight Coefficient Method, gendaymtx is used in Sarith?s
> tutorial file. ?-5 0.533? is used.
>
>
>
> Is there a simply way to generate the sun matrix by using genskyvec? Or it
> can only be applied to gendaymtx.
>
>
>
> Thanks,
>
>
>
> Tommy
>
>
>
> --
>
> *Minchen (Tommy) Wei, PhD*
>
> The Hong Kong Polytechnic University
>
> (+852)-3400 3606 minchen.wei at polyu.edu.hk
>
>
>
> *From:* Sarith Subramaniam [mailto:sarith at psu.edu]
> *Sent:* Friday, 8 December 2017 10:30 PM
> *To:* Radiance general discussion <radiance-general at radiance-online.org>
> *Subject:* Re: [Radiance-general] Proxy geometry in the five-phase method
>
>
>
> The Daylight Coefficient
> <https://secure-web.cisco.com/1pwYjyfECioNK-IZQaYHpYgDxyRRo3ITTQENkig9kw9FqwwwoGID5yJvJblMF7FQyMit0WXP1sTUitPEnogxEjc3xzg9NbBXYRy3Eax2Wakgp_fKK8ZCnJXMoKuzRC_sD4pLcpHHR7eJuAjrz-atS0rh5VBmJEaYmIGDvrVH8Jo79nJVm-RoVLjUwuzXYdiwAAZkF87jVOgbZBXF84wHsjxKQG3nUcncH1r5hpYxjmOzJJDXixSActuGLeS5TJtiqDYEe7gJ85UG1IC_OZCBOkEGy6BP62_XuMZ2KKKLv4j2oJtBTealeeJY0Mqm5r8iZSkTIbAZrch-r1oMVrHmIDw/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F2PM_DayCoeff.sh>
> and Three Phase
> <https://secure-web.cisco.com/1pg-R4oOYN4qlA761yn7HPpJWzLn3gegHd_POgv3d0Hl-0JNc-BK8pUBYDTCovjPbt7jL-iGI8eNFG1ie0kw_MQ14rNpbY5HsxncH22y5BIegt88ldTO5S-IQBoGPE_zAOTRt5TdavMrv9ZZLr-plninhT3X4KSRgx1z7KA2FaO8zq95Zgv39tOd3WjLLWw9y6luhxyUapY6pfx1SygiAYvwjUGEm2y9zL9NbbtXWasKQNyVoAc7iDrxicBiBq0fkmf2ulEMKpST-Op5flumenYU6bWixeNg_WBrycyUY2iLIWxxgC1uIsOY4xqU2d3Y2W4B29h6E1Awkh9dWOxatPg/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F3PM.sh>
> examples use a sky with 145 patches in which the sun accounts for 3-4
> patches. In these examples, the sky and sun are both represented through
> the "glow" primitive and the ray-tracing is stochastic. The additional
> steps in the Five Phase
> <https://secure-web.cisco.com/1SNL9QyudvsTuPYlvdt43A-qZ-KyPbGAMRel-zsVPigX2xs0xTsUDTx4nI2B6G06mVrqN-QzggC_x7XNNfyvajji_t0F12h_Noame6kt22SXDNic6wm5Z9mJ4JA5oRmlZ7RbCtjcPxxj9Gm8DDeJt0Tyyy4N1NQbMUWcEIInbGalU2ZNsl173OiO2Jy5WN3iUs4x8mgKo0B3N49dLyN8wuZtHauvgsFuEjm6ZQt9nqFQoGQ4xXYf0xBAWSJqc_fY_Bk3fhPqlJGvW_4LPPIPTHSaP2hUqrLMsaFeRUIVvynugVo74pzbgrWUHC48kjVP-m7_On6Pn-VvkgpG2CSjS_w/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F5PM.sh>
> example subtract out the direct component of the results from the
> glow-based oversized sun patches and replace them with replace them with
> accurately calculated direct sun-results. In this case, the sun is
> represented using the "light" primitive (implying a deterministic
> calculation) and is also more appropriately sized (0.533 degrees).
>
> The exercise files also contain an improved version
> <https://secure-web.cisco.com/1a7v6ZRWjq_BRXwSGqIym1laBFwj3hqTl4x-klnmLNrzFlzKsCyFB6Tboy01hi9ZHHTT47P4icbSAo7UXpg6lF8R3-OVA9H2eST0wOgH5kmcFJj2bxBkMDgpe7C9mSuMVYYW6FBL2q-lo-BDiTz298QQLsuk78mGpG_4FSri5uKUAUP1GJ9KDTsK_94d12mwzIQnPaXyso39c4vmZNiLpJbQUZgVL_CbMWLQC-fDNlqy1UtIlnfVKSydM9aeVooR00Xyh4nNfgRVnDhUHATPhqpUblt_9M-LbWBOsmQy7EsfTR5sN2aDrKBrZ9D829zIlp58waJIVdLNU_sCoN81TDQ/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F2PM_DDS.sh>
> of the Daylight Coefficient Method that features the direct-sun correction.
> I think the results from that calculation and the Five Phase calculation
> will be similar as they both involve the direct-sun correction.
>
> The final part of the Five-Phase method requires Tensor-Tree BSDFs. The
> methodology for creating BSDFs from Radiance primitives is discussed in the genBSDF
> tutorial
> <https://secure-web.cisco.com/1O7rB4s36mYQNrGEqpoXIPPoj3auC2BVqX_7ft-8OdRq59B1w6l8gNJHazbAyuX-oX8W1dlL3t33RIg4XX0dgXso5HYV-Md28oE1uNnZHOdSLfMBsYnc9OsI9vgIlKaB9YbWM94A-0QBUjSn98z4yj9T2FdzN0g9xrF7xiUDSZ8_8WRs-8Cl5p8y56Rt9dD9UAb2J2ptR3fgoMYGOY6DauNxOe5eSo0H0Gs54FjD5XlbDumSNO3_rVn6sLjW0DDdvgWxn7_UKYG8ga9lZO5GlxeTgsWoPYKGhNRClAu4j3YGpDAbuKr1fNQ-EBkUciCj4/https%3A%2F%2Fwww.radiance-online.org%2Flearning%2Ftutorials%2FTutorial-genBSDF_v1.0.1.pdf>.
> If your glazing system is just a simple glazing comprised of something like
> "glass" or "trans", you can incorporate the glazing geometry directly. This
> process would be similar to what is discussed for the improved Daylight
> Coefficient calculation
> <https://secure-web.cisco.com/1wRAmRRitS0eb6bxNSu02bADJMEHfIbrSNyUsDF_HBK4mL-o5lOOGPt2ViV12wI2YrhdR5hVjk0v6SqEoSN56-C13TIEn13LbJS1BCcE5wfSiLvhysFOW33TN9i71-l3hWkJQxz5aXMZqYO0mb7l8bI8usVKf5tuWMe70hCvq_0s8wqSmPVoYs0XJuY_3ve8vP5xMweezH507pTBy-4tqzLbAUO02RLjd_ZKstkz_sXJxolPIzNky23KmKUL5Wv59s2GzJBChlBs9XKghA7l2CEXDC2FJlJugnua1wJwi-OxDu6WHwniVxpvP2kszs4F84cFmsmJw3abiGoWcf0htCQ/https%3A%2F%2Fgithub.com%2Fsariths%2FradTutorialFiles%2Fblob%2Fmaster%2Froom%2Fcommands%2F2PM_DDS.sh%23L55-L73>.
>
>
>
>
> Sarith
>
>
>
>
>
> On 12/8/2017 4:11 AM, WEI, Minchen [BSE] wrote:
>
> Hi All,
>
>
>
> I have questions regarding the proxy geometry in the five-phase method.
>
>
>
> I tried the tutorial using a room with a glazing (no venetian blinds). The
> daylight coefficient and three-phase method can produce similar results,
> but the five-phase method produce smaller illuminance values.
>
>
>
> I think the problem is coming from the ?proxy geometry?. In my ?proxy
> geometry? I only included a glazing geometry with the transmittance I used
> in the daylight coefficient method. Is that right?
>
>
>
> I looked at the proxy geometry included in Sarith?s tutorial which
> included all the blinds, the glazing, and a BSDF (?blindsT4c.xml?) for
> maxPoly and minPoly. How should I generate these BSDF if I have the blinds?
>
>
>
> Thanks,
>
>
>
> Tommy
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171216/e45874e7/attachment.html>

From kalyanam at rhrk.uni-kl.de  Mon Dec 18 05:13:04 2017
From: kalyanam at rhrk.uni-kl.de (raghuram kalyanam)
Date: Mon, 18 Dec 2017 14:13:04 +0100
Subject: [Radiance-general] optics2glazed and glaze script
Message-ID: <19F0D839-1274-46D6-84CB-E417D936A9C7@rhrk.uni-kl.de>

Hi Everyone,

I want to create glazing systems for different states of EC glass (NFRC ID?s 8905,8906,8908,8909) with a coated glass <https://seafile.rlp.net/f/ea7af9935f614121aaa5/?dl=1>(CARDINAL_66_0.76.rad). I used optics2glazedb and glaze script to combine them. I have few questions about using them.

I tried to add all the glasses to LLGlasses.db using below command, but this doesn't add "CARDINAL_66_0.76.rad? to the db. I had to add it manually, but why wouldn?t it add to the db?

	./optics2glazedb  Clear-Float-Glass-8.rad CARDINAL_66_0.76.rad SageGlass-8905.rad SageGlass-8906.rad SageGlass-8908.rad SageGlass-8909.rad > LLGlasses.db

	2. After creating LLGlasses.db i executed the Glaze script and created glazing systems like below, only changing s2 with EC glass states and keeping other surfaces constant. The 'Normal hemispherical transmittance? calculated this way (0.553) is different from Tvis( 0.453) calculated using Window <https://seafile.rlp.net/f/eb88794094874c8c9843/?dl=1>, for the same combination of glasses (the case of 8905 and CARDINAL_66_0.76.rad, shown below). The only thing extra in Window is air gap (mix of Argon and air). 


	
Window normal faces interior

  | |    | |
  | |    | |
  | |    | |
  | |    | |-->
  | |    | |
  | |    | |
  | |    | |
 s1 s2  s3 s4

Supported surface types are:
   1 - Clear-Float-Glass-8
   2 - Cardinal
   3 - SageGlass-8905
   4 - SageGlass-8906
   5 - SageGlass-8908
   6 - SageGlass-8909

What is the type of s1? 1
What is the type of s2? 3
What is the type of s3? 2
What is the type of s4? 1

############################################
# Glazing produced by Radiance glaze script
# $Revision$
# Loaded: LLGlasses.db
# Mon Dec 18 10:47:37 CET 2017
# Material surface normal points to interior
# Number of panes in system: 2
# Exterior surface s1 type: Clear-Float-Glass-8
# Inner surface s2 type: SageGlass-8905
# Inner surface s3 type: Cardinal
# Interior surface s4 type: Clear-Float-Glass-8
# Exterior normal hemispherical reflectance: 0.160661531
# Interior normal hemispherical reflectance: 0.129405804
# Normal hemispherical transmittance: 0.553981928
#
void BRTDfunc glaze2_unnamed
10
if(Rdot,cr(fr(0.060),ft(0.789),fr(0.086)),cr(fr(0.119),ft(0.666),fr(0.071)))
if(Rdot,cr(fr(0.077),ft(0.845),fr(0.08)),cr(fr(0.12),ft(0.69),fr(0.091)))
if(Rdot,cr(fr(0.113),ft(0.767),fr(0.058)),cr(fr(0.144),ft(0.502),fr(0.116)))
ft(0.789)*ft(0.666)
ft(0.845)*ft(0.69)
ft(0.767)*ft(0.502)
	0 0 0
	glaze2.cal
0
9
	0 0 0
	0 0 0
	0 0 0


I would like to know why they are different and which is the correct visible transmittance for the glazing. I have included all the files here <https://seafile.rlp.net/d/3b63eb865e8f49169d68/>.

	3. Why does optics2glazedb needs first argument a clear glass? I generated a db with Clear-Float-Glass-8 initially (see the Supported surface types above) and then another db after removing it (see below). It still generated db, but when using Glaze script, I see  a 1 - clear glass is generated in Supported surface types automatically. In both cases (above and below) i get same Normal hemispherical transmittance. Is it ok to use any clear glass here?

   1 - clear glass
   2 - Cardinal
   3 - SageGlass-8905
   4 - SageGlass-8906
   5 - SageGlass-8908
   6 - SageGlass-8909

It would be great if any one could explain this .

Thanks in advance

Best Regards,
Raghu

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171218/1580db3b/attachment.html>

From gregoryjward at gmail.com  Mon Dec 18 08:27:44 2017
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon, 18 Dec 2017 08:27:44 -0800
Subject: [Radiance-general] Subscribing to Radiance mailing lists
Message-ID: <BBDE05B9-030A-4E93-AB94-7B62BE4A5612@gmail.com>

Dear Radiance Community,

I have had quite a number of e-mails recently from unsubscribed accounts.  I don't know if these are users coming over from the Honeybee website or whether folks just have a lot of e-mail accounts they are juggling, but it is tedious for me as list moderator to write back to everyone telling them to subscribe (sometimes repeatedly).

So, here is a general announcement that if you want to post to any of the Radiance mailing lists, you need to first subscribe to that list using the e-mail account you intend to post from.  The link to subscribe is here:

	https://www.radiance-online.org/community/mailing-lists/subscribe

If you post something and do not get an e-mail acknowledging the post, then please take action to correct your sending e-mail to one you have subscribed, or subscribe using the e-mail you wish to post from.  Also, make sure that you are subscribed to the list(s) you are interested in and wish to post to.

Finally, there are strict and parsimonious limits on the length of e-mails, so as not to clog the list with a lot of large image attachments.  If you have an image or large file people need to understand your problem, please post it on a website somewhere and include a link.

I hope I have said this enough different ways that there will be no further confusion on the matter.

Cheers,
-Greg

From cjoshi.energy at gmail.com  Mon Dec 18 09:23:22 2017
From: cjoshi.energy at gmail.com (Charudatta Joshi)
Date: Mon, 18 Dec 2017 22:53:22 +0530
Subject: [Radiance-general]  optics2glazed and glaze script
Message-ID: <CA+E6E8=EEEwdS+krEHK3pbhfCHg07x8ORmEczFWtpNE4w2y4Nw@mail.gmail.com>

Hi Raghu,

Re: #1 of your queries: It has to do with the underscores and spaces in
your rad file that comes from Optics. You need to remove " " and "_", or
replace them with another character in the following three strings. Note
that the last "_" before glass / front / back remains.

Changes:
CARDINAL 66_0.76 _glass >> CARDINAL-66_0.76_glass
CARDINAL 66_0.76 _front >> CARDINAL-66_0.76_front
CARDINAL 66_0.76 _back >> CARDINAL-66_0.76_back

Probably good (or required?) to do this also for your file name
(CARDINAL_66_0.76.rad >> CARDINAL-66-0.76.rad).

With that, you get:

CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$ ./optics2glazedb
CARDINAL-66-0.76.rad SageGlass-8905.rad SageGlass-8906.rad
SageGlass-8908.rad SageGlass-8909.rad > LLglasses.db
CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$ more LLglasses.db
Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg
Rgb     Part
CARDINAL-66-0.76   0.789   0.845   0.767    0.071    0.091    0.116
0.06    0.077    0.113 0
SageGlass-8905   0.666    0.69   0.502    0.086     0.08    0.058
0.119     0.12    0.144 0
SageGlass-8906   0.154   0.216   0.187    0.028    0.012    0.013
0.087    0.105    0.126 0
SageGlass-8908   0.034   0.074   0.085    0.025    0.006    0.009
0.085    0.105    0.125 0
SageGlass-8909   0.004   0.013   0.019     0.03    0.007    0.014
0.099    0.117    0.135 0
CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$


Hope that helps.
Thanks,
CJ

*Charudatta Joshi*

*If it is worth doing, it is worth doing well.*




On Mon, Dec 18, 2017 at 6:43 PM, raghuram kalyanam <kalyanam at rhrk.uni-kl.de>
wrote:
Hi Everyone,

I want to create glazing systems for different states of EC glass (NFRC
ID?s 8905,8906,8908,8909) with a coated glass
<https://seafile.rlp.net/f/ea7af9935f614121aaa5/?dl=1>(CARDINAL_66_0.76.rad).
I used optics2glazedb and glaze script to combine them. I have few
questions about using them.


   1. I tried to add all the glasses to LLGlasses.db using below command,
   but this doesn't add "CARDINAL_66_0.76.rad? to the db. I had to add it
   manually, but why wouldn?t it add to the db?


./optics2glazedb  Clear-Float-Glass-8.rad CARDINAL_66_0.76.rad
SageGlass-8905.rad SageGlass-8906.rad SageGlass-8908.rad SageGlass-8909.rad
> LLGlasses.db

2. After creating LLGlasses.db i executed the Glaze script and created
glazing systems like below, only changing s2 with EC glass states and
keeping other surfaces constant. The 'Normal hemispherical
transmittance? calculated
this way (0.553) is different from Tvis( 0.453) calculated using Window
<https://seafile.rlp.net/f/eb88794094874c8c9843/?dl=1>, for the same
combination of glasses (the case of 8905 and CARDINAL_66_0.76.rad, shown
below). The only thing extra in Window is air gap (mix of Argon and air).


Window normal faces interior

  | |    | |
  | |    | |
  | |    | |
  | |    | |-->
  | |    | |
  | |    | |
  | |    | |
 s1 s2  s3 s4

Supported surface types are:
   1 - Clear-Float-Glass-8
   2 - Cardinal
   3 - SageGlass-8905
   4 - SageGlass-8906
   5 - SageGlass-8908
   6 - SageGlass-8909

What is the type of s1? 1
What is the type of s2? 3
What is the type of s3? 2
What is the type of s4? 1

############################################
# Glazing produced by Radiance glaze script
# $Revision$
# Loaded: LLGlasses.db
# Mon Dec 18 10:47:37 CET 2017
# Material surface normal points to interior
# Number of panes in system: 2
# Exterior surface s1 type: Clear-Float-Glass-8
# Inner surface s2 type: SageGlass-8905
# Inner surface s3 type: Cardinal
# Interior surface s4 type: Clear-Float-Glass-8
# Exterior normal hemispherical reflectance: 0.160661531
# Interior normal hemispherical reflectance: 0.129405804
# Normal hemispherical transmittance: 0.553981928
#
void BRTDfunc glaze2_unnamed
10
if(Rdot,cr(fr(0.060),ft(0.789),fr(0.086)),cr(fr(0.119),ft(0.666),fr(0.071)))
if(Rdot,cr(fr(0.077),ft(0.845),fr(0.08)),cr(fr(0.12),ft(0.69),fr(0.091)))
if(Rdot,cr(fr(0.113),ft(0.767),fr(0.058)),cr(fr(0.144),ft(0.502),fr(0.116)))
ft(0.789)*ft(0.666)
ft(0.845)*ft(0.69)
ft(0.767)*ft(0.502)
0 0 0
glaze2.cal
0
9
0 0 0
0 0 0
0 0 0


I would like to know why they are different and which is the correct
visible transmittance for the glazing. I have included all the files here
<https://seafile.rlp.net/d/3b63eb865e8f49169d68/>.

3. Why does optics2glazedb needs first argument a clear glass? I generated
a db with Clear-Float-Glass-8 initially (see the Supported surface types
above) and then another db after removing it (see below). It still
generated db, but when using Glaze script, I see  a 1 - clear glass is
generated in Supported surface types automatically. In both cases (above
and below) i get same Normal hemispherical transmittance. Is it ok to use
any clear glass here?

   1 - clear glass
   2 - Cardinal
   3 - SageGlass-8905
   4 - SageGlass-8906
   5 - SageGlass-8908
   6 - SageGlass-8909

It would be great if any one could explain this .

Thanks in advance

Best Regards,
Raghu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171218/40236cdf/attachment-0001.html>

From cjoshi.energy at gmail.com  Mon Dec 18 09:28:14 2017
From: cjoshi.energy at gmail.com (Charudatta Joshi)
Date: Mon, 18 Dec 2017 22:58:14 +0530
Subject: [Radiance-general] optics2glazed and glaze script
In-Reply-To: <CA+E6E8=EEEwdS+krEHK3pbhfCHg07x8ORmEczFWtpNE4w2y4Nw@mail.gmail.com>
References: <CA+E6E8=EEEwdS+krEHK3pbhfCHg07x8ORmEczFWtpNE4w2y4Nw@mail.gmail.com>
Message-ID: <CA+E6E8=PYz4Q8YVn+QQmfh6pLFVTOAFAYJ8+u-sxHduidp=mtA@mail.gmail.com>

Correction:
CARDINAL 66_0.76 _glass >> CARDINAL*-*66-0.76_glass
CARDINAL 66_0.76 _front >> CARDINAL-66*-*0.76_front
CARDINAL 66_0.76 _back >> CARDINAL-66*-*0.76_back

*Charudatta Joshi*

*If it is worth doing, it is worth doing well.*

On Mon, Dec 18, 2017 at 10:53 PM, Charudatta Joshi <cjoshi.energy at gmail.com>
wrote:

> Hi Raghu,
>
> Re: #1 of your queries: It has to do with the underscores and spaces in
> your rad file that comes from Optics. You need to remove " " and "_", or
> replace them with another character in the following three strings. Note
> that the last "_" before glass / front / back remains.
>
> Changes:
> CARDINAL 66_0.76 _glass >> CARDINAL-66_0.76_glass
> CARDINAL 66_0.76 _front >> CARDINAL-66_0.76_front
> CARDINAL 66_0.76 _back >> CARDINAL-66_0.76_back
>
> Probably good (or required?) to do this also for your file name
> (CARDINAL_66_0.76.rad >> CARDINAL-66-0.76.rad).
>
> With that, you get:
>
> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$ ./optics2glazedb
> CARDINAL-66-0.76.rad SageGlass-8905.rad SageGlass-8906.rad
> SageGlass-8908.rad SageGlass-8909.rad > LLglasses.db
> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$ more LLglasses.db
> Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg
> Rgb     Part
> CARDINAL-66-0.76   0.789   0.845   0.767    0.071    0.091    0.116
> 0.06    0.077    0.113 0
> SageGlass-8905   0.666    0.69   0.502    0.086     0.08    0.058
> 0.119     0.12    0.144 0
> SageGlass-8906   0.154   0.216   0.187    0.028    0.012    0.013
> 0.087    0.105    0.126 0
> SageGlass-8908   0.034   0.074   0.085    0.025    0.006    0.009
> 0.085    0.105    0.125 0
> SageGlass-8909   0.004   0.013   0.019     0.03    0.007    0.014
> 0.099    0.117    0.135 0
> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$
>
>
> Hope that helps.
> Thanks,
> CJ
>
> *Charudatta Joshi*
>
> *If it is worth doing, it is worth doing well.*
>
>
>
>
> On Mon, Dec 18, 2017 at 6:43 PM, raghuram kalyanam <
> kalyanam at rhrk.uni-kl.de> wrote:
> Hi Everyone,
>
> I want to create glazing systems for different states of EC glass (NFRC
> ID?s 8905,8906,8908,8909) with a coated glass
> <https://seafile.rlp.net/f/ea7af9935f614121aaa5/?dl=1>(
> CARDINAL_66_0.76.rad). I used optics2glazedb and glaze script to combine
> them. I have few questions about using them.
>
>
>    1. I tried to add all the glasses to LLGlasses.db using below command,
>    but this doesn't add "CARDINAL_66_0.76.rad? to the db. I had to add it
>    manually, but why wouldn?t it add to the db?
>
>
> ./optics2glazedb  Clear-Float-Glass-8.rad CARDINAL_66_0.76.rad
> SageGlass-8905.rad SageGlass-8906.rad SageGlass-8908.rad SageGlass-8909.rad
> > LLGlasses.db
>
> 2. After creating LLGlasses.db i executed the Glaze script and created
> glazing systems like below, only changing s2 with EC glass states and
> keeping other surfaces constant. The 'Normal hemispherical transmittance? calculated
> this way (0.553) is different from Tvis( 0.453) calculated using Window
> <https://seafile.rlp.net/f/eb88794094874c8c9843/?dl=1>, for the same
> combination of glasses (the case of 8905 and CARDINAL_66_0.76.rad, shown
> below). The only thing extra in Window is air gap (mix of Argon and air).
>
>
> Window normal faces interior
>
>   | |    | |
>   | |    | |
>   | |    | |
>   | |    | |-->
>   | |    | |
>   | |    | |
>   | |    | |
>  s1 s2  s3 s4
>
> Supported surface types are:
>    1 - Clear-Float-Glass-8
>    2 - Cardinal
>    3 - SageGlass-8905
>    4 - SageGlass-8906
>    5 - SageGlass-8908
>    6 - SageGlass-8909
>
> What is the type of s1? 1
> What is the type of s2? 3
> What is the type of s3? 2
> What is the type of s4? 1
>
> ############################################
> # Glazing produced by Radiance glaze script
> # $Revision$
> # Loaded: LLGlasses.db
> # Mon Dec 18 10:47:37 CET 2017
> # Material surface normal points to interior
> # Number of panes in system: 2
> # Exterior surface s1 type: Clear-Float-Glass-8
> # Inner surface s2 type: SageGlass-8905
> # Inner surface s3 type: Cardinal
> # Interior surface s4 type: Clear-Float-Glass-8
> # Exterior normal hemispherical reflectance: 0.160661531
> # Interior normal hemispherical reflectance: 0.129405804
> # Normal hemispherical transmittance: 0.553981928
> #
> void BRTDfunc glaze2_unnamed
> 10
> if(Rdot,cr(fr(0.060),ft(0.789),fr(0.086)),cr(fr(0.119),ft(0.
> 666),fr(0.071)))
> if(Rdot,cr(fr(0.077),ft(0.845),fr(0.08)),cr(fr(0.12),ft(0.69),fr(0.091)))
> if(Rdot,cr(fr(0.113),ft(0.767),fr(0.058)),cr(fr(0.144),ft(0.
> 502),fr(0.116)))
> ft(0.789)*ft(0.666)
> ft(0.845)*ft(0.69)
> ft(0.767)*ft(0.502)
> 0 0 0
> glaze2.cal
> 0
> 9
> 0 0 0
> 0 0 0
> 0 0 0
>
>
> I would like to know why they are different and which is the correct
> visible transmittance for the glazing. I have included all the files here
> <https://seafile.rlp.net/d/3b63eb865e8f49169d68/>.
>
> 3. Why does optics2glazedb needs first argument a clear glass? I
> generated a db with Clear-Float-Glass-8 initially (see the Supported
> surface types above) and then another db after removing it (see
> below). It still generated db, but when using Glaze script, I see  a 1 - clear
> glass is generated in Supported surface types automatically. In both
> cases (above and below) i get same Normal hemispherical transmittance. Is
> it ok to use any clear glass here?
>
>    1 - clear glass
>    2 - Cardinal
>    3 - SageGlass-8905
>    4 - SageGlass-8906
>    5 - SageGlass-8908
>    6 - SageGlass-8909
>
> It would be great if any one could explain this .
>
> Thanks in advance
>
> Best Regards,
> Raghu
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171218/8e1132ca/attachment-0001.html>

From jedev at visarc.com  Mon Dec 18 13:02:25 2017
From: jedev at visarc.com (Jack de Valpine)
Date: Mon, 18 Dec 2017 16:02:25 -0500
Subject: [Radiance-general] optics2glazed and glaze script
In-Reply-To: <19F0D839-1274-46D6-84CB-E417D936A9C7@rhrk.uni-kl.de>
References: <19F0D839-1274-46D6-84CB-E417D936A9C7@rhrk.uni-kl.de>
Message-ID: <b43127f4-2486-e76e-e52f-e9d6c8e58076@visarc.com>

Hi Raghu,

Here is a link to a blog on use of the glaze script (originally authored 
by Greg Ward for Visarc) and? optics2glazedb (authored by me to ease 
generation of custom glazing libraries to be used by glaze).

https://modsimvis.blogspot.com/2014/12/glass-in-radiance.html

The glaze script requires a clear glass material to serve as the base 
substrate. This is why the built in library (eg running glaze without 
the -f option) has a default clear glass material. This is also why if 
you use a custom library and want to have a different clear substrate 
you must supply it as the first entry. I believe there is a check in the 
glaze script to confirm that the first glass description is in fact 
clear, that is, with the same reflectance for the front and back 
surfaces. So if the check fails then a default clear glass description 
is created.

As Charudatta noted the use of spaces and underscores in the material 
name field of the material descriptions causes problems, so the 
corrections that he suggests should do the trick.

Regards,

-Jack de Valpine


On 12/18/2017 8:13 AM, raghuram kalyanam wrote:
> Hi Everyone,
>
> I want to create glazing systems for different states of EC glass 
> (NFRC ID?s 8905,8906,8908,8909) with a coated glass 
> <https://seafile.rlp.net/f/ea7af9935f614121aaa5/?dl=1>(CARDINAL_66_0.76.rad). 
> I used optics2glazedb and glaze script to combine them. I have few 
> questions about using them.
>
>  1. I tried to add all the glasses to LLGlasses.db using below
>     command, but this doesn't add "CARDINAL_66_0.76.rad? to the db. I
>     had to add it manually, but why wouldn?t it add to the db?
>
>
> ./optics2glazedb ?Clear-Float-Glass-8.rad CARDINAL_66_0.76.rad 
> SageGlass-8905.rad SageGlass-8906.rad SageGlass-8908.rad 
> SageGlass-8909.rad > LLGlasses.db
>
> 2. After creating?LLGlasses.db i executed the Glaze script and created 
> glazing systems like below, only changing s2 with EC glass states and 
> keeping other surfaces constant. The 'Normal hemispherical 
> transmittance? calculated this way (0.553) is different from Tvis( 
> 0.453) calculated using Window 
> <https://seafile.rlp.net/f/eb88794094874c8c9843/?dl=1>, for?the same 
> combination of glasses (the case of 8905 and CARDINAL_66_0.76.rad, 
> shown below). The only thing extra in Window is air gap (mix of Argon 
> and air).
>
>
> Window normal faces interior
>
> ? | |? ? | |
> ? | |? ? | |
> ? | |? ? | |
> ? | |? ? | |-->
> ? | |? ? | |
> ? | |? ? | |
> ? | |? ? | |
> ?s1 s2? s3 s4
>
> Supported surface types are:
> ?? 1 - Clear-Float-Glass-8
> ?? 2 - Cardinal
> ?? 3 - SageGlass-8905
> ?? 4 - SageGlass-8906
> ?? 5 - SageGlass-8908
> ?? 6 - SageGlass-8909
>
> What is the type of s1? 1
> What is the type of s2? 3
> What is the type of s3? 2
> What is the type of s4? 1
>
> ############################################
> # Glazing produced by Radiance glaze script
> # $Revision$
> # Loaded: LLGlasses.db
> # Mon Dec 18 10:47:37 CET 2017
> # Material surface normal points to interior
> # Number of panes in system: 2
> # Exterior surface s1 type: Clear-Float-Glass-8
> # Inner surface s2 type: SageGlass-8905
> # Inner surface s3 type: Cardinal
> # Interior surface s4 type: Clear-Float-Glass-8
> # Exterior normal hemispherical reflectance: 0.160661531
> # Interior normal hemispherical reflectance: 0.129405804
> # Normal hemispherical transmittance: 0.553981928
> #
> void BRTDfunc glaze2_unnamed
> 10
> if(Rdot,cr(fr(0.060),ft(0.789),fr(0.086)),cr(fr(0.119),ft(0.666),fr(0.071)))
> if(Rdot,cr(fr(0.077),ft(0.845),fr(0.08)),cr(fr(0.12),ft(0.69),fr(0.091)))
> if(Rdot,cr(fr(0.113),ft(0.767),fr(0.058)),cr(fr(0.144),ft(0.502),fr(0.116)))
> ft(0.789)*ft(0.666)
> ft(0.845)*ft(0.69)
> ft(0.767)*ft(0.502)
> 0 0 0
> glaze2.cal
> 0
> 9
> 0 0 0
> 0 0 0
> 0 0 0
>
>
> I would like to know why they are different and which is the correct 
> visible transmittance for the glazing. I have included all the files 
> here <https://seafile.rlp.net/d/3b63eb865e8f49169d68/>.
>
> 3. Why does optics2glazedb needs first argument a clear glass? I 
> generated a db with Clear-Float-Glass-8 initially (see the Supported 
> surface types above)and then?another db after removing it (see 
> below).?It still generated db, but when using Glaze script, I see ?a 1 
> - clear glass?is generated in?Supported surface types automatically. 
> In both cases (above and below) i get sameNormal hemispherical 
> transmittance. Is it ok to use any clear glass here?
>
> ? ?1 - clear glass
> ?? 2 - Cardinal
> ?? 3 - SageGlass-8905
> ?? 4 - SageGlass-8906
> ?? 5 - SageGlass-8908
> ?? 6 - SageGlass-8909
>
> It would be great if any one could explain this .
>
> Thanks in advance
>
> Best Regards,
> Raghu
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171218/fbdd7a14/attachment-0001.html>

From kalyanam at rhrk.uni-kl.de  Tue Dec 19 02:05:15 2017
From: kalyanam at rhrk.uni-kl.de (raghuram kalyanam)
Date: Tue, 19 Dec 2017 11:05:15 +0100
Subject: [Radiance-general] optics2glazed and glaze script
In-Reply-To: <CA+E6E8=EEEwdS+krEHK3pbhfCHg07x8ORmEczFWtpNE4w2y4Nw@mail.gmail.com>
References: <CA+E6E8=EEEwdS+krEHK3pbhfCHg07x8ORmEczFWtpNE4w2y4Nw@mail.gmail.com>
Message-ID: <BABBBB93-04A4-483D-95CE-EF951609C63F@rhrk.uni-kl.de>

Thanks CJ. That solves the mystery. I should have looked into the script once. 

@Jack de Valpine. Thank you very much for a nice blog. I have come this far with the help of your blog. 

Could any one explain  part #2 , why the transmittances are different ? 

Best Regards,
Raghu

> On Dec 18, 2017, at 6:23 PM, Charudatta Joshi <cjoshi.energy at gmail.com> wrote:
> 
> Hi Raghu,
> 
> Re: #1 of your queries: It has to do with the underscores and spaces in your rad file that comes from Optics. You need to remove " " and "_", or replace them with another character in the following three strings. Note that the last "_" before glass / front / back remains.
> 
> Changes:
> CARDINAL 66_0.76 _glass >> CARDINAL-66_0.76_glass
> CARDINAL 66_0.76 _front >> CARDINAL-66_0.76_front
> CARDINAL 66_0.76 _back >> CARDINAL-66_0.76_back
> 
> Probably good (or required?) to do this also for your file name (CARDINAL_66_0.76.rad >> CARDINAL-66-0.76.rad).
> 
> With that, you get:
> 
> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$ ./optics2glazedb CARDINAL-66-0.76.rad SageGlass-8905.rad SageGlass-8906.rad SageGlass-8908.rad SageGlass-8909.rad > LLglasses.db
> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$ more LLglasses.db
> Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
> CARDINAL-66-0.76   0.789   0.845   0.767    0.071    0.091    0.116     0.06    0.077    0.113 0
> SageGlass-8905   0.666    0.69   0.502    0.086     0.08    0.058    0.119     0.12    0.144 0
> SageGlass-8906   0.154   0.216   0.187    0.028    0.012    0.013    0.087    0.105    0.126 0
> SageGlass-8908   0.034   0.074   0.085    0.025    0.006    0.009    0.085    0.105    0.125 0
> SageGlass-8909   0.004   0.013   0.019     0.03    0.007    0.014    0.099    0.117    0.135 0
> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$
> 
> 
> Hope that helps.
> Thanks,
> CJ
> 
> Charudatta Joshi
> 
> If it is worth doing, it is worth doing well.
> 
> 
> 
> 
> On Mon, Dec 18, 2017 at 6:43 PM, raghuram kalyanam <kalyanam at rhrk.uni-kl.de <mailto:kalyanam at rhrk.uni-kl.de>> wrote:
> Hi Everyone,
> 
> I want to create glazing systems for different states of EC glass (NFRC ID?s 8905,8906,8908,8909) with a coated glass <https://seafile.rlp.net/f/ea7af9935f614121aaa5/?dl=1>(CARDINAL_66_0.76.rad). I used optics2glazedb and glaze script to combine them. I have few questions about using them.
> 
> I tried to add all the glasses to LLGlasses.db using below command, but this doesn't add "CARDINAL_66_0.76.rad? to the db. I had to add it manually, but why wouldn?t it add to the db?
> 
> 	./optics2glazedb  Clear-Float-Glass-8.rad CARDINAL_66_0.76.rad SageGlass-8905.rad SageGlass-8906.rad SageGlass-8908.rad SageGlass-8909.rad > LLGlasses.db
> 
> 	2. After creating LLGlasses.db i executed the Glaze script and created glazing systems like below, only changing s2 with EC glass states and keeping other surfaces constant. The 'Normal hemispherical transmittance? calculated this way (0.553) is different from Tvis( 0.453) calculated using Window <https://seafile.rlp.net/f/eb88794094874c8c9843/?dl=1>, for the same combination of glasses (the case of 8905 and CARDINAL_66_0.76.rad, shown below). The only thing extra in Window is air gap (mix of Argon and air). 
> 
> 
> 	
> Window normal faces interior
> 
>   | |    | |
>   | |    | |
>   | |    | |
>   | |    | |-->
>   | |    | |
>   | |    | |
>   | |    | |
>  s1 s2  s3 s4
> 
> Supported surface types are:
>    1 - Clear-Float-Glass-8
>    2 - Cardinal
>    3 - SageGlass-8905
>    4 - SageGlass-8906
>    5 - SageGlass-8908
>    6 - SageGlass-8909
> 
> What is the type of s1? 1
> What is the type of s2? 3
> What is the type of s3? 2
> What is the type of s4? 1
> 
> ############################################
> # Glazing produced by Radiance glaze script
> # $Revision$
> # Loaded: LLGlasses.db
> # Mon Dec 18 10:47:37 CET 2017
> # Material surface normal points to interior
> # Number of panes in system: 2
> # Exterior surface s1 type: Clear-Float-Glass-8
> # Inner surface s2 type: SageGlass-8905
> # Inner surface s3 type: Cardinal
> # Interior surface s4 type: Clear-Float-Glass-8
> # Exterior normal hemispherical reflectance: 0.160661531
> # Interior normal hemispherical reflectance: 0.129405804
> # Normal hemispherical transmittance: 0.553981928
> #
> void BRTDfunc glaze2_unnamed
> 10
> if(Rdot,cr(fr(0.060),ft(0.789),fr(0.086)),cr(fr(0.119),ft(0.666),fr(0.071)))
> if(Rdot,cr(fr(0.077),ft(0.845),fr(0.08)),cr(fr(0.12),ft(0.69),fr(0.091)))
> if(Rdot,cr(fr(0.113),ft(0.767),fr(0.058)),cr(fr(0.144),ft(0.502),fr(0.116)))
> ft(0.789)*ft(0.666)
> ft(0.845)*ft(0.69)
> ft(0.767)*ft(0.502)
> 	0 0 0
> 	glaze2.cal
> 0
> 9
> 	0 0 0
> 	0 0 0
> 	0 0 0
> 
> 
> I would like to know why they are different and which is the correct visible transmittance for the glazing. I have included all the files here <https://seafile.rlp.net/d/3b63eb865e8f49169d68/>.
> 
> 	3. Why does optics2glazedb needs first argument a clear glass? I generated a db with Clear-Float-Glass-8 initially (see the Supported surface types above) and then another db after removing it (see below). It still generated db, but when using Glaze script, I see  a 1 - clear glass is generated in Supported surface types automatically. In both cases (above and below) i get same Normal hemispherical transmittance. Is it ok to use any clear glass here?
> 
>    1 - clear glass
>    2 - Cardinal
>    3 - SageGlass-8905
>    4 - SageGlass-8906
>    5 - SageGlass-8908
>    6 - SageGlass-8909
> 
> It would be great if any one could explain this .
> 
> Thanks in advance
> 
> Best Regards,
> Raghu
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171219/a34949af/attachment-0001.html>

From gregoryjward at gmail.com  Tue Dec 19 08:09:42 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 19 Dec 2017 08:09:42 -0800
Subject: [Radiance-general] optics2glazed and glaze script
In-Reply-To: <BABBBB93-04A4-483D-95CE-EF951609C63F@rhrk.uni-kl.de>
References: <CA+E6E8=EEEwdS+krEHK3pbhfCHg07x8ORmEczFWtpNE4w2y4Nw@mail.gmail.com>
 <BABBBB93-04A4-483D-95CE-EF951609C63F@rhrk.uni-kl.de>
Message-ID: <4CF36F8D-4F4C-4099-ABA4-7DA5C57462DF@lmi.net>

Never mind -- I see you took care of it!

-Greg

> From: raghuram kalyanam <kalyanam at rhrk.uni-kl.de>
> Subject: Re: [Radiance-general] optics2glazed and glaze script
> Date: December 19, 2017 2:05:15 AM PST
> To: Radiance general discussion <radiance-general at radiance-online.org>
> Cc: Jack de Valpine <jedev at visarc.com>
> Reply-To: Radiance general discussion <radiance-general at radiance-online.org>
> 
> Thanks CJ. That solves the mystery. I should have looked into the script once. 
> 
> @Jack de Valpine. Thank you very much for a nice blog. I have come this far with the help of your blog. 
> 
> Could any one explain  part #2 , why the transmittances are different ? 
> 
> Best Regards,
> Raghu
> 
>> On Dec 18, 2017, at 6:23 PM, Charudatta Joshi <cjoshi.energy at gmail.com> wrote:
>> 
>> Hi Raghu,
>> 
>> Re: #1 of your queries: It has to do with the underscores and spaces in your rad file that comes from Optics. You need to remove " " and "_", or replace them with another character in the following three strings. Note that the last "_" before glass / front / back remains.
>> 
>> Changes:
>> CARDINAL 66_0.76 _glass >> CARDINAL-66_0.76_glass
>> CARDINAL 66_0.76 _front >> CARDINAL-66_0.76_front
>> CARDINAL 66_0.76 _back >> CARDINAL-66_0.76_back
>> 
>> Probably good (or required?) to do this also for your file name (CARDINAL_66_0.76.rad >> CARDINAL-66-0.76.rad).
>> 
>> With that, you get:
>> 
>> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$ ./optics2glazedb CARDINAL-66-0.76.rad SageGlass-8905.rad SageGlass-8906.rad SageGlass-8908.rad SageGlass-8909.rad > LLglasses.db
>> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$ more LLglasses.db
>> Surface Tr      Tg      Tb      Rcr     Rcg     Rcb     Rgr     Rgg     Rgb     Part
>> CARDINAL-66-0.76   0.789   0.845   0.767    0.071    0.091    0.116     0.06    0.077    0.113 0
>> SageGlass-8905   0.666    0.69   0.502    0.086     0.08    0.058    0.119     0.12    0.144 0
>> SageGlass-8906   0.154   0.216   0.187    0.028    0.012    0.013    0.087    0.105    0.126 0
>> SageGlass-8908   0.034   0.074   0.085    0.025    0.006    0.009    0.085    0.105    0.125 0
>> SageGlass-8909   0.004   0.013   0.019     0.03    0.007    0.014    0.099    0.117    0.135 0
>> CJUNIX at SJ-PC:/mnt/c/Users/SJ/Downloads/Raghuram$
>> 
>> 
>> Hope that helps.
>> Thanks,
>> CJ
>> 
>> Charudatta Joshi
>> 
>> If it is worth doing, it is worth doing well.
>> 
>> 
>> 
>> 
>> On Mon, Dec 18, 2017 at 6:43 PM, raghuram kalyanam <kalyanam at rhrk.uni-kl.de> wrote:
>> Hi Everyone,
>> 
>> I want to create glazing systems for different states of EC glass (NFRC ID?s 8905,8906,8908,8909) with a coated glass(CARDINAL_66_0.76.rad). I used optics2glazedb and glaze script to combine them. I have few questions about using them.
>> 
>> I tried to add all the glasses to LLGlasses.db using below command, but this doesn't add "CARDINAL_66_0.76.rad? to the db. I had to add it manually, but why wouldn?t it add to the db?
>> 
>> 	./optics2glazedb  Clear-Float-Glass-8.rad CARDINAL_66_0.76.rad SageGlass-8905.rad SageGlass-8906.rad SageGlass-8908.rad SageGlass-8909.rad > LLGlasses.db
>> 
>> 	2. After creating LLGlasses.db i executed the Glaze script and created glazing systems like below, only changing s2 with EC glass states and keeping other surfaces constant. The 'Normal hemispherical transmittance? calculated this way (0.553) is different from Tvis( 0.453) calculated using Window, for the same combination of glasses (the case of 8905 and CARDINAL_66_0.76.rad, shown below). The only thing extra in Window is air gap (mix of Argon and air). 
>> 
>> 
>> 	
>> Window normal faces interior
>> 
>>   | |    | |
>>   | |    | |
>>   | |    | |
>>   | |    | |-->
>>   | |    | |
>>   | |    | |
>>   | |    | |
>>  s1 s2  s3 s4
>> 
>> Supported surface types are:
>>    1 - Clear-Float-Glass-8
>>    2 - Cardinal
>>    3 - SageGlass-8905
>>    4 - SageGlass-8906
>>    5 - SageGlass-8908
>>    6 - SageGlass-8909
>> 
>> What is the type of s1? 1
>> What is the type of s2? 3
>> What is the type of s3? 2
>> What is the type of s4? 1
>> 
>> ############################################
>> # Glazing produced by Radiance glaze script
>> # $Revision$
>> # Loaded: LLGlasses.db
>> # Mon Dec 18 10:47:37 CET 2017
>> # Material surface normal points to interior
>> # Number of panes in system: 2
>> # Exterior surface s1 type: Clear-Float-Glass-8
>> # Inner surface s2 type: SageGlass-8905
>> # Inner surface s3 type: Cardinal
>> # Interior surface s4 type: Clear-Float-Glass-8
>> # Exterior normal hemispherical reflectance: 0.160661531
>> # Interior normal hemispherical reflectance: 0.129405804
>> # Normal hemispherical transmittance: 0.553981928
>> #
>> void BRTDfunc glaze2_unnamed
>> 10
>> if(Rdot,cr(fr(0.060),ft(0.789),fr(0.086)),cr(fr(0.119),ft(0.666),fr(0.071)))
>> if(Rdot,cr(fr(0.077),ft(0.845),fr(0.08)),cr(fr(0.12),ft(0.69),fr(0.091)))
>> if(Rdot,cr(fr(0.113),ft(0.767),fr(0.058)),cr(fr(0.144),ft(0.502),fr(0.116)))
>> ft(0.789)*ft(0.666)
>> ft(0.845)*ft(0.69)
>> ft(0.767)*ft(0.502)
>> 	0 0 0
>> 	glaze2.cal
>> 0
>> 9
>> 	0 0 0
>> 	0 0 0
>> 	0 0 0
>> 
>> 
>> I would like to know why they are different and which is the correct visible transmittance for the glazing. I have included all the files here.
>> 
>> 	3. Why does optics2glazedb needs first argument a clear glass? I generated a db with Clear-Float-Glass-8 initially (see the Supported surface types above) and then another db after removing it (see below). It still generated db, but when using Glaze script, I see  a 1 - clear glass is generated in Supported surface types automatically. In both cases (above and below) i get same Normal hemispherical transmittance. Is it ok to use any clear glass here?
>> 
>>    1 - clear glass
>>    2 - Cardinal
>>    3 - SageGlass-8905
>>    4 - SageGlass-8906
>>    5 - SageGlass-8908
>>    6 - SageGlass-8909
>> 
>> It would be great if any one could explain this .
>> 
>> Thanks in advance
>> 
>> Best Regards,
>> Raghu
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> https://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171219/eb2fd49f/attachment-0001.html>

From kaiktsang4-c at my.cityu.edu.hk  Thu Dec 21 01:28:46 2017
From: kaiktsang4-c at my.cityu.edu.hk (TSANG Kai Kwong)
Date: Thu, 21 Dec 2017 09:28:46 +0000
Subject: [Radiance-general] Direct horizontal illuminance
Message-ID: <PS1PR0401MB21554605E8DA536F497B4469D80D0@PS1PR0401MB2155.apcprd04.prod.outlook.com>

Dear all,


I have a problem on finding the direct horizontal illuminance (DHI) following the steps provided by Dr. Phillip Greenup (Page 253 @ goo.gl/Bw68WQ)


I am able to find the horizontal global illuminance using "rillum.exe". However, I am not able to find out the direct horizontal illuminance. It said:


warning - no light sources found

0


It should not be zero. How can I solve this problem? Hope you guys can help.


FYI, this is my sky.rad.


void brightfunc skyfunc
2 skybright ssldlum.cal
0
10 177 30.2 4 -0.7 0 -1 0 -0.675211 -0.729544 -0.108883

skyfunc glow ground_glow
0
0
4
     1 .8 .5 0

ground_glow source ground
0
0
4
     0 0 -1 180

skyfunc glow sky_glow
0
0
4 .991 .991 1.101 0

sky_glow source sky
0
0
4 0 0 1 180

Best regards,
Dennis Tsang

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171221/fa2d7987/attachment.html>

From Raphael.Compagnon at hefr.ch  Thu Dec 21 01:50:46 2017
From: Raphael.Compagnon at hefr.ch (=?iso-8859-1?Q?Compagnon_Rapha=EBl?=)
Date: Thu, 21 Dec 2017 09:50:46 +0000
Subject: [Radiance-general] Direct horizontal illuminance
In-Reply-To: <PS1PR0401MB21554605E8DA536F497B4469D80D0@PS1PR0401MB2155.apcprd04.prod.outlook.com>
References: <PS1PR0401MB21554605E8DA536F497B4469D80D0@PS1PR0401MB2155.apcprd04.prod.outlook.com>
Message-ID: <d6b41a76ea8f4edba339be783fad79a4@hefr.ch>

You probably have to adjust option -ab when you call rillum  (by default -ab 0 is assumed I think)

For instance rillum -ab 1 should be OK

________________________________
De : TSANG Kai Kwong <kaiktsang4-c at my.cityu.edu.hk>
Envoy? : jeudi 21 d?cembre 2017 10:28:46
? : radiance-general at radiance-online.org
Objet : [Radiance-general] Direct horizontal illuminance


Dear all,


I have a problem on finding the direct horizontal illuminance (DHI) following the steps provided by Dr. Phillip Greenup (Page 253 @ goo.gl/Bw68WQ)


I am able to find the horizontal global illuminance using "rillum.exe". However, I am not able to find out the direct horizontal illuminance. It said:


warning - no light sources found

0


It should not be zero. How can I solve this problem? Hope you guys can help.


FYI, this is my sky.rad.


void brightfunc skyfunc
2 skybright ssldlum.cal
0
10 177 30.2 4 -0.7 0 -1 0 -0.675211 -0.729544 -0.108883

skyfunc glow ground_glow
0
0
4
     1 .8 .5 0

ground_glow source ground
0
0
4
     0 0 -1 180

skyfunc glow sky_glow
0
0
4 .991 .991 1.101 0

sky_glow source sky
0
0
4 0 0 1 180

Best regards,
Dennis Tsang



From kaiktsang4-c at my.cityu.edu.hk  Thu Dec 21 04:04:36 2017
From: kaiktsang4-c at my.cityu.edu.hk (TSANG Kai Kwong)
Date: Thu, 21 Dec 2017 12:04:36 +0000
Subject: [Radiance-general] Direct horizontal illuminance
Message-ID: <PS1PR0401MB2155222F5F4CE3305B1168BFD80D0@PS1PR0401MB2155.apcprd04.prod.outlook.com>

Dear Compagnon,

Thank you for your reply.

I have tried to use "-ab 0" for the rillum programme. However, it still gives me 0 for the result.

Best regards,
Dennis Tsang

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171221/176c567e/attachment.html>

From germolinal at gmail.com  Thu Dec 21 04:11:15 2017
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Thu, 21 Dec 2017 12:11:15 +0000
Subject: [Radiance-general] Direct horizontal illuminance
In-Reply-To: <PS1PR0401MB2155222F5F4CE3305B1168BFD80D0@PS1PR0401MB2155.apcprd04.prod.outlook.com>
References: <PS1PR0401MB2155222F5F4CE3305B1168BFD80D0@PS1PR0401MB2155.apcprd04.prod.outlook.com>
Message-ID: <CAF-iH4LXLcT9bsT76cnBV65BQSuZS9u89vVSe2aQX3xhk47V6Q@mail.gmail.com>

Hello Denis,

You need to use an AB greater than zero for the Glow materials to be
considered

Best!
On Thu, 21 Dec 2017 at 9:07 AM, TSANG Kai Kwong <
kaiktsang4-c at my.cityu.edu.hk> wrote:

> Dear Compagnon,
>
> Thank you for your reply.
>
> I have tried to use "-ab 0" for the rillum programme. However, it still
> gives me 0 for the result.
>
> Best regards,
> Dennis Tsang
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171221/4cb68e3d/attachment-0001.html>

From bugeatantoine at gmail.com  Thu Dec 21 07:07:08 2017
From: bugeatantoine at gmail.com (Antoine Bugeat)
Date: Thu, 21 Dec 2017 16:07:08 +0100
Subject: [Radiance-general] Difference in computation time between rtrace
 and rfluxmtx
Message-ID: <CAHfKskxEwGMPkNRD_w4QxHtVHL9AypLbRwRUmG90hmNeGXTe1Q@mail.gmail.com>

Hello all,

I'm a student in Civil Engineering and I use RADIANCE to make daylight
analysis in buildings.

First I did *rtrace* simulations for "point in time" analysis with a basic
set of parameter that DAYSIM uses.

After I wanted to do Climate Based simulations with the matrix method of
Daylight Coefficients. So I used *rfluxmtx.*

I'm wondering why I need to use a different set of parameters for this two
kind of simulations, especially for -ad and -lw.

I also noticed that rfluxmtx is much faster than rtrace (even with Reinhart
sky subdivision -m4) but I do not understand why.

Is there a difference in these two algorithms of calculation? Or maybe it's
my fault?

Antoine
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171221/02cf078d/attachment.html>

From Phillip.Greenup at arup.com  Thu Dec 21 12:39:21 2017
From: Phillip.Greenup at arup.com (Phillip Greenup)
Date: Thu, 21 Dec 2017 20:39:21 +0000
Subject: [Radiance-general] Direct horizontal illuminance
In-Reply-To: <PS1PR0401MB21554605E8DA536F497B4469D80D0@PS1PR0401MB2155.apcprd04.prod.outlook.com>
References: <PS1PR0401MB21554605E8DA536F497B4469D80D0@PS1PR0401MB2155.apcprd04.prod.outlook.com>
Message-ID: <02D20D690D43FE4FA92B2F4ABD36C5CD1125928C@AUEXMB01.global.arup.com>

Hi Dennis,

Direct horizontal illuminance relates to illumination direct from the sun, not from the rest of the sky. To get a non-zero direct horizontal illuminance, you need to have a sun in your model. The sky description you provided included the sky, but no sun. Is your sun defined separately to sky.rad?

Regards,
Phil.

Dr Phillip Greenup
Senior Designer | Lighting

Arup
Level 17 1 Nicholson Street East Melbourne Vic 3001
d: +61 3 9668 5669
www.arup.com <http://www.arup.com/>

Connect with me on LinkedIn<https://www.linkedin.com/profile/view?id=21592292&trk=hp-identity-name>
[cid:image001.jpg at 01D30624.20463E20]<https://www.arup.com/publications/promotional-materials/section/lighting-design>



From: TSANG Kai Kwong [mailto:kaiktsang4-c at my.cityu.edu.hk]
Sent: Thursday, 21 December 2017 8:29 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Direct horizontal illuminance


Dear all,
I have a problem on finding the direct horizontal illuminance (DHI) following the steps provided by Dr. Phillip Greenup (Page 253 @ goo.gl/Bw68WQ)


I am able to find the horizontal global illuminance using "rillum.exe". However, I am not able to find out the direct horizontal illuminance. It said:


warning - no light sources found

0



It should not be zero. How can I solve this problem? Hope you guys can help.



FYI, this is my sky.rad.


void brightfunc skyfunc
2 skybright ssldlum.cal
0
10 177 30.2 4 -0.7 0 -1 0 -0.675211 -0.729544 -0.108883

skyfunc glow ground_glow
0
0
4
     1 .8 .5 0

ground_glow source ground
0
0
4
     0 0 -1 180

skyfunc glow sky_glow
0
0
4 .991 .991 1.101 0

sky_glow source sky
0
0
4 0 0 1 180

Best regards,
Dennis Tsang

____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171221/1bda684e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 8788 bytes
Desc: image001.jpg
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171221/1bda684e/attachment-0001.jpg>

From kaiktsang4-c at my.cityu.edu.hk  Thu Dec 21 20:25:01 2017
From: kaiktsang4-c at my.cityu.edu.hk (TSANG Kai Kwong)
Date: Fri, 22 Dec 2017 04:25:01 +0000
Subject: [Radiance-general] Direct horizontal illuminance
Message-ID: <PS1PR0401MB2155C0CE9969676983B360BAD8020@PS1PR0401MB2155.apcprd04.prod.outlook.com>

Dear Dr. Greenup,

Thank you for your help.

I have tried to insert the sun in the sky.rad. However, I am not able to convert the .rad into .oct using "oconv.exe" because of "undefined modifier "solar"".

Here is my sky.rad:

solar source sun
0

0

4 -0.875487 0.087344 -0.475282 0.5

void brightfunc skyfunc
2 skybright ssldlum.cal
0
10 177 30.2 4 -0.7 0 -1 0 -0.675211 -0.729544 -0.108883

skyfunc glow ground_glow
0
0
4
     1 .8 .5 0

ground_glow source ground
0
0
4
     0 0 -1 180

skyfunc glow sky_glow
0
0
4 .991 .991 1.101 0

sky_glow source sky
0
0
4 0 0 1 180

Best regards,
Dennis Tsang
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171222/96fe758f/attachment.html>

From Phillip.Greenup at arup.com  Thu Dec 21 20:56:48 2017
From: Phillip.Greenup at arup.com (Phillip Greenup)
Date: Fri, 22 Dec 2017 04:56:48 +0000
Subject: [Radiance-general] Direct horizontal illuminance
In-Reply-To: <PS1PR0401MB2155C0CE9969676983B360BAD8020@PS1PR0401MB2155.apcprd04.prod.outlook.com>
References: <PS1PR0401MB2155C0CE9969676983B360BAD8020@PS1PR0401MB2155.apcprd04.prod.outlook.com>
Message-ID: <02D20D690D43FE4FA92B2F4ABD36C5CD112594C7@AUEXMB01.global.arup.com>

Dear Dennis,

You will need to define the light entity 'solar' before applying it to the 'sun'. The definition you have provided for 'sun' tells Radiance the direction toward the sun and it's angular size, but it doesn't tell it how bright it is.

An example of the type of definition you require is:
void light solar
0
0
3 1000 1000 1000

This would create a sun with radiance 1000 W/m2/sr in each of the red, green and blue colour bands. Note that I have used 1000 as an example; a normal sun brightness would be more than 1e6 W/m2/sr.

If you want to achieve a known direct horizontal illuminance, you can scale these numbers to suit your target value.

I hope this helps,
Phil.

From: TSANG Kai Kwong [mailto:kaiktsang4-c at my.cityu.edu.hk]
Sent: Friday, 22 December 2017 3:25 PM
To: radiance-general at radiance-online.org
Subject: Re: [Radiance-general] Direct horizontal illuminance


Dear Dr. Greenup,

Thank you for your help.

I have tried to insert the sun in the sky.rad. However, I am not able to convert the .rad into .oct using "oconv.exe" because of "undefined modifier "solar"".

Here is my sky.rad:

solar source sun
0

0

4 -0.875487 0.087344 -0.475282 0.5

void brightfunc skyfunc

2 skybright ssldlum.cal

0

10 177 30.2 4 -0.7 0 -1 0 -0.675211 -0.729544 -0.108883



skyfunc glow ground_glow

0

0

4

     1 .8 .5 0



ground_glow source ground

0

0

4

     0 0 -1 180



skyfunc glow sky_glow

0

0

4 .991 .991 1.101 0



sky_glow source sky

0

0

4 0 0 1 180
Best regards,
Dennis Tsang
____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171222/83ff081c/attachment.html>

From kaiktsang4-c at my.cityu.edu.hk  Thu Dec 21 23:34:07 2017
From: kaiktsang4-c at my.cityu.edu.hk (TSANG Kai Kwong)
Date: Fri, 22 Dec 2017 07:34:07 +0000
Subject: [Radiance-general] Direct horizontal illuminance
Message-ID: <PS1PR0401MB21552E2236D7FEA59FB35BDED8020@PS1PR0401MB2155.apcprd04.prod.outlook.com>

Dear Dr. Greenup,

I am a bit confused by the steps.


In step 3, the horizontal global illuminance is needed to calculate the ground reflectivity. So, should I go to the step 11 to get the HGI? However, if I want to complete the step 11, a completed sky.rad is required, so I have to assume some numbers (solar brightness, ground brightness and arbitrary zenith radiance) in the sky.rad?

How should I assume those numbers? Thank you.

Best regards,
Dennis Tsang
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171222/90353283/attachment-0001.html>

From grobe at gmx.net  Thu Dec 21 23:53:42 2017
From: grobe at gmx.net (Lars O. Grobe)
Date: Fri, 22 Dec 2017 08:53:42 +0100
Subject: [Radiance-general] Difference in computation time between
 rtrace and rfluxmtx
In-Reply-To: <CAHfKskxEwGMPkNRD_w4QxHtVHL9AypLbRwRUmG90hmNeGXTe1Q@mail.gmail.com>
References: <CAHfKskxEwGMPkNRD_w4QxHtVHL9AypLbRwRUmG90hmNeGXTe1Q@mail.gmail.com>
Message-ID: <d4abd211-4f89-ea05-ddac-97ddad8ce3ae@gmx.net>

Hi Antoine,

it is always difficult to give a general answer when it comes to 
Radiance, since everything depends on the parameters you chose. Still 
I'll try to give some hints.

> First I did /rtrace/ simulations for "point in time" analysis with a 
> basic set of parameter that DAYSIM uses.
It would be good if you note down at least all parameters starting with 
-a. These control the indirect-diffuse calculation, which takes most of 
your rendering times. So you should look out for -ab (number of ambient 
"bounces"), -ad (number of directions that are sampled at each bounce), 
-aa and -ar (defining at which points the illuminance on the surfaces 
will be computed, otherwise a quick interpolation happens in the ambient 
cache).
> After I wanted to do Climate Based simulations with the matrix method 
> of Daylight Coefficients. So I used /rfluxmtx./
> I'm wondering why I need to use a different set of parameters for this 
> two kind of simulations, especially for -ad and -lw.
The main difference is that each pixel value is computed independently 
from all others with rfluxmtx (and rcontrib), while rtrace with -aa > 
0.0 re-uses a lot of data between pixels. This is what I meant by 
"ambient cache" above. The - computationally expensive - ambient 
calculation can, in most scenes, happen at a lower resolution than the 
direct and specular calculation. Therefore, the illuminance on the 
surfaces is not computed pixel by pixel, but for a coarse set of points 
(initial defined by -ar, then refined according to the required accuracy 
-aa). If the parameters are too low, you will see typical artefacts such 
as splotchy images (like soft, cloudy patterns in areas illuminated by 
diffuse light).

With rfluxmtx and rcontrib, this mechanism has to be disabled (they set 
-aa 0), since the algorithm cannot know the illuminance gradient from 
the contribution coefficients (the light sources are unknown at this 
point). Without the ambient cache, Radiance will compute the illuminance 
(coefficients) each time a ray hits a surface. Making the whole 
rendering much slower. A typical artefact of this pixel-by-pixel 
approach is pixel noise [1]. To reduce it, you must ensure that a lot (a 
lot!) of rays are send out at each ambient bounce. Therefore, you will 
typically set high -ad, e.g. 16384, and low -lw, which should be just 
smaller than 1/ad (e.g. 1/16384 leading to -lw 6e-5).
> I also noticed that rfluxmtx is much faster than rtrace (even with 
> Reinhart sky subdivision -m4) but I do not understand why.
Unfortunately, most of us experience the very opposite, rtrace being 
faster due to the ambient cache. However, again, it depends on the 
parameters, and on the scene. The use of the ambient cache can be 
inefficient e.g. for very complex scenes [1]. Since you took your rtrace 
parameters from Daysim, these might be more strict than the default 
rfluxmtx parameters. To compare, you would call both programs with the 
same parameters (just -aa, -ar would be ignored in rfluxmtx).

Cheers,
Lars.

[1] See Mark's page for a test of parameters to use with very detailed 
scenes and no ambient cache: 
http://markjstock.org/radmisc/aa0_ps1_test/final.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171222/d6a9bd73/attachment.html>

From Christopher.Rush at arup.com  Fri Dec 22 06:43:47 2017
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 22 Dec 2017 14:43:47 +0000
Subject: [Radiance-general] Direct horizontal illuminance
In-Reply-To: <PS1PR0401MB21552E2236D7FEA59FB35BDED8020@PS1PR0401MB2155.apcprd04.prod.outlook.com>
References: <PS1PR0401MB21552E2236D7FEA59FB35BDED8020@PS1PR0401MB2155.apcprd04.prod.outlook.com>
Message-ID: <88079A360FAC7441AE93ECBF6199823657BE36C4@AMXExMb03.global.arup.com>

Hi Dennis,
Have you started with the output from the command gensky or gendaylit? I see they are both mentioned in step 2 of the tutorial you referred to, and probably would have given you an output with sun that you would have started with. These are standard Radiance commands for generating sun and sky brightness functions for particular parameters (latitude, longitude, cloud cover, time, etc.). Gensky creates closer to standard CIE sky definitions, while gendaylit can create skies more tailored to measured weather conditions. The manual page for either command might help:
https://www.radiance-online.org/learning/documentation/manual-pages/pdfs/gensky.pdf
https://www.radiance-online.org/learning/documentation/manual-pages/pdfs/gendaylit.pdf

-Chris
____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171222/7c7941df/attachment.html>

From davoodghafarian at yahoo.com  Mon Dec 25 01:35:52 2017
From: davoodghafarian at yahoo.com (Davood Ghafarian)
Date: Mon, 25 Dec 2017 09:35:52 +0000 (UTC)
Subject: [Radiance-general] lens,genbsdf,lightpipe
References: <492499786.4184598.1514194552623.ref@mail.yahoo.com>
Message-ID: <492499786.4184598.1514194552623@mail.yahoo.com>

Hi;I'm using Grasshopper-Honeybee to model a light pipe using three phase simulation method. and i need to model lens and prismatic surface for my light pipe but i think Honeybee is not able to do that. so i modeled the prismatic surface in honeybee and exported geometry and material rad file and generated .xml file using genbsdf,exe via command prompt to convert .rad file to .xml...my questions is that my process is true? and the material must be just dielectric for acting like prism or lens? and the last question is that in my process using genprism.exe in unnecessary?
thanks,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171225/e480bb93/attachment.html>

From grobe at gmx.net  Mon Dec 25 06:34:28 2017
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 25 Dec 2017 15:34:28 +0100
Subject: [Radiance-general] lens,genbsdf,lightpipe
In-Reply-To: <492499786.4184598.1514194552623@mail.yahoo.com>
References: <492499786.4184598.1514194552623.ref@mail.yahoo.com>
 <492499786.4184598.1514194552623@mail.yahoo.com>
Message-ID: <eabd859c-208f-e4a5-bc48-108581f7485d@gmx.net>

Hi Davood,

I am afraid that this is not going to work. You can model a lens with 
dielectric, if you ensure sufficiently high resolution of your mesh. 
That will work if you "look through it" in Radiance. But if you want it 
to use it e.g. in illuminance calculations below your light pipe or see 
the redistributed light on a diffuse surface, you would have to use the 
photon map. You find an example here, where I tried to avoid tesselated 
surfaces to create "perfect" spherical lenses:

http://dx.doi.org/10.13140/2.1.2852.4321

The BSDF modifier will not help you here. The BSDF in Radiance describes 
an average over the surface you apply it to. A lens works different, it 
matters wether your ray hits it in the center or on the edge, otherwise 
it will not work.

About the light-pipe, you may do that with rfluxmtx. But maybe this is 
just one more reason to look into the photon map.

Cheers,
Lars.
> Hi;
> I'm using Grasshopper-Honeybee to model a light pipe using three phase 
> simulation method. and i need to model lens and prismatic surface for 
> my light pipe but i think Honeybee is not able to do that. so i 
> modeled the prismatic surface in honeybee and exported geometry and 
> material rad file and generated .xml file using genbsdf,exe via 
> command prompt to convert .rad file to .xml...my questions is that my 
> process is true? and the material must be just dielectric for acting 
> like prism or lens? and the last question is that in my process using 
> genprism.exe in unnecessary?
> thanks,
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171225/bf242eaf/attachment.html>

From boutillier at estia.ch  Mon Dec 25 06:38:32 2017
From: boutillier at estia.ch (boutillier at estia.ch)
Date: Mon, 25 Dec 2017 15:38:32 +0100 (CET)
Subject: [Radiance-general] =?utf-8?q?lens=2Cgenbsdf=2Clightpipe?=
Message-ID: <20171225143832.AFBC013205E7@prospero5.kreativmedia.ch>

Bonjour, 

Je suis actuellement en vacances. Je serai de retour le 8 janvier 2018. 

En cas d'urgence, vous pouvez toujours appeler le num?ro g?n?ral d'Estia : +41 (0) 21/510.59.59 ou envoyer un mail ? l'adresse mail at estia.ch.

Pour toutes questions relatives ? DIAL+, merci d'utiliser l'adresse mail dial at estia.ch. 

Cordialement

Julien Boutillier
Estia SA




From grobe at gmx.net  Wed Dec 27 07:36:49 2017
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 27 Dec 2017 16:36:49 +0100
Subject: [Radiance-general] Different pixel values with/without ambient cache
Message-ID: <6c962467-6ac0-126b-1c3f-4615221945ee@gmx.net>

Hi all,

I am wondering if this is still the effects from too many christmas 
cookies, but I am not able to solve the mismatch between (luminance) 
pixel values in two pictures rendered with and without (-aa 0) ambient 
cache.

The scene is as simple as possible, a window with a surface assigned a 
glass material (A1-A3 .7 .7 .7). Moderate two ambient bounces, a strong 
direct transmission. The same octree was used in two rendering runs, 
controlled by rad and distributed over several cores by rpiece (leading 
to some artefacts). I share the results as links:

To the compressed HDR images (hdr.bz2):
https://drive.switch.ch/index.php/s/m9l4gmWsoG995jO
https://drive.switch.ch/index.php/s/yifVqTxDOYWJ4dT

To the falsecolor illustrations (jpg):
https://drive.switch.ch/index.php/s/4JwoUBdgA7Ov4y1
https://drive.switch.ch/index.php/s/kGxCBVD8JcKGZhv

Values of a vertical row of pixels for varying -ad (and -lw = 1/ad) 
settings (pdf):
https://drive.switch.ch/index.php/s/UQq3Nh4g38rQ2Cs

The images were rendered with -ad 1024 -lw .0008 -aa .15 (with ambient 
cache) and -ad 4096 -lw .00024 -aa 0 (without cache). The plot indicates 
that for the given scene, even -ad 512 should give reasonable results. 
My expectation was that both images should be more or less equal, but 
obviously they are not. Can anyone explain this effect, or is there 
something I missed?

Cheers,
Lars.


From boutillier at estia.ch  Wed Dec 27 07:44:31 2017
From: boutillier at estia.ch (boutillier at estia.ch)
Date: Wed, 27 Dec 2017 16:44:31 +0100 (CET)
Subject: [Radiance-general] 
 =?utf-8?q?Different_pixel_values_with/without?=
 =?utf-8?q?_ambient_cache?=
Message-ID: <20171227154431.4F2901322436@prospero5.kreativmedia.ch>

Bonjour, 

Je suis actuellement en vacances. Je serai de retour le 8 janvier 2018. 

En cas d'urgence, vous pouvez toujours appeler le num?ro g?n?ral d'Estia : +41 (0) 21/510.59.59 ou envoyer un mail ? l'adresse mail at estia.ch.

Pour toutes questions relatives ? DIAL+, merci d'utiliser l'adresse mail dial at estia.ch. 

Cordialement

Julien Boutillier
Estia SA




From gregoryjward at gmail.com  Wed Dec 27 09:27:44 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 27 Dec 2017 09:27:44 -0800
Subject: [Radiance-general] Different pixel values with/without ambient
 cache
In-Reply-To: <6c962467-6ac0-126b-1c3f-4615221945ee@gmx.net>
References: <6c962467-6ac0-126b-1c3f-4615221945ee@gmx.net>
Message-ID: <0195DC9D-527E-47B0-B83D-CD274F4557B6@lmi.net>

Hi Lars,

It's difficult to say for certain without your scene and knowing the rest of your options.  (Were they the defaults?)  I guess you aren't sharing your ambient cache file between rpiece processes as recommended.

My first guess is that you are only computing a single bounce with -aa 0.  This would explain why the values are on the low side.  If you set -ad 4096 then use an -lw setting of 1/4096 as you have, the weight test fails after the first bounce because the weight used is the first surface reflection divided by 4096.  Without Russian roulette on (-lr negative), no interreflection rays will be traced past the first bounce.  In general, I like to make sure my -lw setting is maybe 1/10th of the 1/N value for -ad N.

Cheers,
-Greg

P.S.  If this doesn't solve the problem, please send me your scene and commands off-list and I'll take a closer look.

> From: "Lars O. Grobe" <grobe at gmx.net>
> Date: December 27, 2017 7:36:49 AM PST
> 
> Hi all,
> 
> I am wondering if this is still the effects from too many christmas cookies, but I am not able to solve the mismatch between (luminance) pixel values in two pictures rendered with and without (-aa 0) ambient cache.
> 
> The scene is as simple as possible, a window with a surface assigned a glass material (A1-A3 .7 .7 .7). Moderate two ambient bounces, a strong direct transmission. The same octree was used in two rendering runs, controlled by rad and distributed over several cores by rpiece (leading to some artefacts). I share the results as links:
> 
> To the compressed HDR images (hdr.bz2):
> https://drive.switch.ch/index.php/s/m9l4gmWsoG995jO
> https://drive.switch.ch/index.php/s/yifVqTxDOYWJ4dT
> 
> To the falsecolor illustrations (jpg):
> https://drive.switch.ch/index.php/s/4JwoUBdgA7Ov4y1
> https://drive.switch.ch/index.php/s/kGxCBVD8JcKGZhv
> 
> Values of a vertical row of pixels for varying -ad (and -lw = 1/ad) settings (pdf):
> https://drive.switch.ch/index.php/s/UQq3Nh4g38rQ2Cs
> 
> The images were rendered with -ad 1024 -lw .0008 -aa .15 (with ambient cache) and -ad 4096 -lw .00024 -aa 0 (without cache). The plot indicates that for the given scene, even -ad 512 should give reasonable results. My expectation was that both images should be more or less equal, but obviously they are not. Can anyone explain this effect, or is there something I missed?
> 
> Cheers,
> Lars.
> 


From grobe at gmx.net  Wed Dec 27 10:50:11 2017
From: grobe at gmx.net (Lars O. Grobe)
Date: Wed, 27 Dec 2017 19:50:11 +0100
Subject: [Radiance-general] Different pixel values with/without ambient
 cache
In-Reply-To: <0195DC9D-527E-47B0-B83D-CD274F4557B6@lmi.net>
References: <6c962467-6ac0-126b-1c3f-4615221945ee@gmx.net>
 <0195DC9D-527E-47B0-B83D-CD274F4557B6@lmi.net>
Message-ID: <3b95283a-5e1b-98c1-84f5-6d5a1459b58a@gmx.net>

Hi Greg,

thank you, that was in fact the reason for the mismatch. I had increased 
-ab without changing -lw.... In fact, this is also a problem with the 
"rules of thumb". I had initially set -ab 1 and -lw=1/ad (which often 
makes sense), and did not review this setting at a later point...

Cheers, Lars.

> Hi Lars,
>
> It's difficult to say for certain without your scene and knowing the rest of your options.  (Were they the defaults?)  I guess you aren't sharing your ambient cache file between rpiece processes as recommended.
>
> My first guess is that you are only computing a single bounce with -aa 0.  This would explain why the values are on the low side.  If you set -ad 4096 then use an -lw setting of 1/4096 as you have, the weight test fails after the first bounce because the weight used is the first surface reflection divided by 4096.  Without Russian roulette on (-lr negative), no interreflection rays will be traced past the first bounce.  In general, I like to make sure my -lw setting is maybe 1/10th of the 1/N value for -ad N.
>
> Cheers,
> -Greg
>
> P.S.  If this doesn't solve the problem, please send me your scene and commands off-list and I'll take a closer look.
>


From vlt26 at cornell.edu  Thu Dec 28 09:17:49 2017
From: vlt26 at cornell.edu (Valerie Tan)
Date: Thu, 28 Dec 2017 12:17:49 -0500
Subject: [Radiance-general] RSENSOR questions
Message-ID: <CAFWG2TdKo8m2nbA5qfEG-pZRJawA7uBYM9YXyFDV8REGKwLeCA@mail.gmail.com>

Hello,

I am using RSENSOR on an array of "test points" for my greenhouse energy
modeling project. In general, I want to model energy arriving at different
points in the greenhouse, given weather conditions, building geometry, etc.
At each test point/sensor, I want to send backwards rays at evenly-spaced
azimuthal angles and polar angles and sum the irradiance contributions from
each ray.

I assumed that RSENSOR does what I intend to do and that my sensor file
will determine what rays are sent and in what direction. But I don't know
whether my assumption is true.

Also, I don't understand what the sensitivity values on the SPOT matrix
really mean. Overall, I just want to calculate irradiance values at each
test point by evenly sampling backwards rays in all directions.

I've looked at this:
https://www.radiance-online.org/community/workshops/2009-boston-ma/Presentations/rogers_SPOT%20on.pdf

However, I don't understand the sin/cosine parts and I am focused and
radiometric units, not human-centered units like luminance.

Thank you!

Best,

Valerie

-- 
Valerie Tan
Computer Science
College of Engineering
Cornell University '19
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171228/1bf60a88/attachment.html>

From boutillier at estia.ch  Thu Dec 28 09:24:05 2017
From: boutillier at estia.ch (boutillier at estia.ch)
Date: Thu, 28 Dec 2017 18:24:05 +0100 (CET)
Subject: [Radiance-general] =?utf-8?q?RSENSOR_questions?=
Message-ID: <20171228172405.0EFAA1320746@prospero5.kreativmedia.ch>

Bonjour, 

Je suis actuellement en vacances. Je serai de retour le 8 janvier 2018. 

En cas d'urgence, vous pouvez toujours appeler le num?ro g?n?ral d'Estia : +41 (0) 21/510.59.59 ou envoyer un mail ? l'adresse mail at estia.ch.

Pour toutes questions relatives ? DIAL+, merci d'utiliser l'adresse mail dial at estia.ch. 

Cordialement

Julien Boutillier
Estia SA




From gregoryjward at gmail.com  Thu Dec 28 09:48:34 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 28 Dec 2017 09:48:34 -0800
Subject: [Radiance-general] RSENSOR questions
In-Reply-To: <CAFWG2TdKo8m2nbA5qfEG-pZRJawA7uBYM9YXyFDV8REGKwLeCA@mail.gmail.com>
References: <CAFWG2TdKo8m2nbA5qfEG-pZRJawA7uBYM9YXyFDV8REGKwLeCA@mail.gmail.com>
Message-ID: <74B0EF7B-6514-426D-8F11-55038417AFC4@lmi.net>

Hi Valerie,

If you just want irradiance at specific points, you should use rtrace with the -I+ (capital 'i') option.  Rsensor is not needed unless you have a custom sensitivity distribution you are integrating.  If you give rtrace a list of coordinates and hemisphere (surface normal) orientations, you will get out a list of RGB irradiance values (watts/sr/m^2):

positions.txt:
	10	15	3	0	0	1
	10	20	3	0	0	1
	15	15	3	0	0	1
	15	20	3	0	0	1

command:	rtrace -h- -I+ -ab 1 scene.oct < positions.txt > results.txt

The output file will contain 3 values per line, corresponding to RGB irradiance at each point in the order given.

The "-ab 1" option is needed to turn on interreflections.  A more accurate calculation will result from "-ab 2" or "-ab 3".  You can also employ multiple processors using the "-n" option, but be sure to add a "-af scene.amb" option to share cached values for a more efficient calculation if you do that.

There are many other options you may consider changing to improve the speed/accuracy trade-off.  If you have only a few points, I might suggest something like this:

	rtrace -h- -I+ -ab 3 -aa 0 -ad 4096 -lw 1e-5 -n 8 scene.oct < positions.txt > results.txt

The "-n 8" is appropriate for an 8-core machine, but if you only have a few points, the calculation will take just seconds in any case.

Hope this helps!
-Greg

> From: Valerie Tan <vlt26 at cornell.edu>
> Date: December 28, 2017 9:17:49 AM PST
> 
> Hello, 
> 
> I am using RSENSOR on an array of "test points" for my greenhouse energy modeling project. In general, I want to model energy arriving at different points in the greenhouse, given weather conditions, building geometry, etc. At each test point/sensor, I want to send backwards rays at evenly-spaced azimuthal angles and polar angles and sum the irradiance contributions from each ray. 
> 
> I assumed that RSENSOR does what I intend to do and that my sensor file will determine what rays are sent and in what direction. But I don't know whether my assumption is true. 
> 
> Also, I don't understand what the sensitivity values on the SPOT matrix really mean. Overall, I just want to calculate irradiance values at each test point by evenly sampling backwards rays in all directions. 
> 
> I've looked at this: https://www.radiance-online.org/community/workshops/2009-boston-ma/Presentations/rogers_SPOT%20on.pdf
> 
> However, I don't understand the sin/cosine parts and I am focused and radiometric units, not human-centered units like luminance. 
> 
> Thank you! 
> 
> Best, 
> 
> Valerie 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171228/7fad29bf/attachment.html>

From vlt26 at cornell.edu  Thu Dec 28 13:55:24 2017
From: vlt26 at cornell.edu (Valerie Tan)
Date: Thu, 28 Dec 2017 16:55:24 -0500
Subject: [Radiance-general] Radiance-general Digest, Vol 166, Issue 33
In-Reply-To: <mailman.1.1514491200.65988.radiance-general@radiance-online.org>
References: <mailman.1.1514491200.65988.radiance-general@radiance-online.org>
Message-ID: <CAFWG2TcKV6RJ8yXG1PF90guLF6337=XVjV6TPz86Q0sqbM-MgA@mail.gmail.com>

Hi,

In your example, you test the irradiance at a single point in *only one
direction* (up) which is not what I am trying to do unfortunately. If I
want to calculate the energy arriving at a point on a plane, calculating
irradiance from a single direction isn't realistic. Thus, I asked about
RSENSOR which you recommended that I use a long time ago. I am thinking
that for each point, I call RTRACE with the view direction -vd changing in
equal increments and then add the irradiances. For example, the view
directions for a very rough calculation would be in spherical
coordinates/degrees: (1, 0, 0), (1, 90, 0), (1, 180, 0), (1, 270, 0), (1,
0, 45), (1, 90, 45), (1, 180, 45), (1, 270, 45), (1, 0, 90).

Also, I am confused about "a list of RGB irradiance values (watts/sr/m^2)."
This looks like radiance, and reputable sources state that the units for
irradiance are (W/m^2).

Thank you!

Best,

Valerie


On Dec 28, 2017 3:00 PM, <radiance-general-request at radiance-online.org>
wrote:

Send Radiance-general mailing list submissions to
        radiance-general at radiance-online.org

To subscribe or unsubscribe via the World Wide Web, visit
        https://www.radiance-online.org/mailman/listinfo/radiance-general
or, via email, send a message with subject or body 'help' to
        radiance-general-request at radiance-online.org

You can reach the person managing the list at
        radiance-general-owner at radiance-online.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Radiance-general digest..."


Today's Topics:

   1. RSENSOR questions (Valerie Tan)
   2. Re: RSENSOR questions (boutillier at estia.ch)
   3. Re: RSENSOR questions (Greg Ward)


----------------------------------------------------------------------

Message: 1
Date: Thu, 28 Dec 2017 12:17:49 -0500
From: Valerie Tan <vlt26 at cornell.edu>
To: radiance-general at radiance-online.org
Subject: [Radiance-general] RSENSOR questions
Message-ID:
        <CAFWG2TdKo8m2nbA5qfEG-pZRJawA7uBYM9YXyFDV8REGKwLeCA at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Hello,

I am using RSENSOR on an array of "test points" for my greenhouse energy
modeling project. In general, I want to model energy arriving at different
points in the greenhouse, given weather conditions, building geometry, etc.
At each test point/sensor, I want to send backwards rays at evenly-spaced
azimuthal angles and polar angles and sum the irradiance contributions from
each ray.

I assumed that RSENSOR does what I intend to do and that my sensor file
will determine what rays are sent and in what direction. But I don't know
whether my assumption is true.

Also, I don't understand what the sensitivity values on the SPOT matrix
really mean. Overall, I just want to calculate irradiance values at each
test point by evenly sampling backwards rays in all directions.

I've looked at this:
https://www.radiance-online.org/community/workshops/2009-bos
ton-ma/Presentations/rogers_SPOT%20on.pdf

However, I don't understand the sin/cosine parts and I am focused and
radiometric units, not human-centered units like luminance.

Thank you!

Best,

Valerie

--
Valerie Tan
Computer Science
College of Engineering
Cornell University '19
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/
attachments/20171228/1bf60a88/attachment-0001.html>

------------------------------

Message: 2
Date: Thu, 28 Dec 2017 18:24:05 +0100 (CET)
From: boutillier at estia.ch
To: radiance-general at radiance-online.org
Subject: Re: [Radiance-general] RSENSOR questions
Message-ID: <20171228172405.0EFAA1320746 at prospero5.kreativmedia.ch>
Content-Type: text/plain; charset="UTF-8"

Bonjour,

Je suis actuellement en vacances. Je serai de retour le 8 janvier 2018.

En cas d'urgence, vous pouvez toujours appeler le num?ro g?n?ral d'Estia : +41
(0) 21/510.59.59 ou envoyer un mail ? l'adresse mail at estia.ch.

Pour toutes questions relatives ? DIAL+, merci d'utiliser l'adresse mail
dial at estia.ch.

Cordialement

Julien Boutillier
Estia SA





------------------------------

Message: 3
Date: Thu, 28 Dec 2017 09:48:34 -0800
From: Greg Ward <gregoryjward at gmail.com>
To: Radiance general discussion <radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] RSENSOR questions
Message-ID: <74B0EF7B-6514-426D-8F11-55038417AFC4 at lmi.net>
Content-Type: text/plain; charset="us-ascii"

Hi Valerie,

If you just want irradiance at specific points, you should use rtrace with
the -I+ (capital 'i') option.  Rsensor is not needed unless you have a
custom sensitivity distribution you are integrating.  If you give rtrace a
list of coordinates and hemisphere (surface normal) orientations, you will
get out a list of RGB irradiance values (watts/sr/m^2):

positions.txt:
        10      15      3       0       0       1
        10      20      3       0       0       1
        15      15      3       0       0       1
        15      20      3       0       0       1

command:        rtrace -h- -I+ -ab 1 scene.oct < positions.txt > results.txt

The output file will contain 3 values per line, corresponding to RGB
irradiance at each point in the order given.

The "-ab 1" option is needed to turn on interreflections.  A more accurate
calculation will result from "-ab 2" or "-ab 3".  You can also employ
multiple processors using the "-n" option, but be sure to add a "-af
scene.amb" option to share cached values for a more efficient calculation
if you do that.

There are many other options you may consider changing to improve the
speed/accuracy trade-off.  If you have only a few points, I might suggest
something like this:

        rtrace -h- -I+ -ab 3 -aa 0 -ad 4096 -lw 1e-5 -n 8 scene.oct <
positions.txt > results.txt

The "-n 8" is appropriate for an 8-core machine, but if you only have a few
points, the calculation will take just seconds in any case.

Hope this helps!
-Greg

> From: Valerie Tan <vlt26 at cornell.edu>
> Date: December 28, 2017 9:17:49 AM PST
>
> Hello,
>
> I am using RSENSOR on an array of "test points" for my greenhouse energy
modeling project. In general, I want to model energy arriving at different
points in the greenhouse, given weather conditions, building geometry, etc.
At each test point/sensor, I want to send backwards rays at evenly-spaced
azimuthal angles and polar angles and sum the irradiance contributions from
each ray.
>
> I assumed that RSENSOR does what I intend to do and that my sensor file
will determine what rays are sent and in what direction. But I don't know
whether my assumption is true.
>
> Also, I don't understand what the sensitivity values on the SPOT matrix
really mean. Overall, I just want to calculate irradiance values at each
test point by evenly sampling backwards rays in all directions.
>
> I've looked at this: https://www.radiance-online.or
g/community/workshops/2009-boston-ma/Presentations/rogers_SPOT%20on.pdf
>
> However, I don't understand the sin/cosine parts and I am focused and
radiometric units, not human-centered units like luminance.
>
> Thank you!
>
> Best,
>
> Valerie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/
attachments/20171228/7fad29bf/attachment-0001.html>

------------------------------

Subject: Digest Footer

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
https://www.radiance-online.org/mailman/listinfo/radiance-general


------------------------------

End of Radiance-general Digest, Vol 166, Issue 33
*************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171228/38614035/attachment.html>

From gregoryjward at gmail.com  Thu Dec 28 16:57:54 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 28 Dec 2017 16:57:54 -0800
Subject: [Radiance-general] Radiance-general Digest, Vol 166, Issue 33
In-Reply-To: <CAFWG2TcKV6RJ8yXG1PF90guLF6337=XVjV6TPz86Q0sqbM-MgA@mail.gmail.com>
References: <mailman.1.1514491200.65988.radiance-general@radiance-online.org>
 <CAFWG2TcKV6RJ8yXG1PF90guLF6337=XVjV6TPz86Q0sqbM-MgA@mail.gmail.com>
Message-ID: <68B5CBDD-8E53-4531-9611-036FBB7F00D1@lmi.net>

Hi Valerie,

You are correct about irradiance units, which are watts/meter^2.  That was my mistake.

If you wish to add up irradiance, I would still recommend doing this with rtrace rather than rsensor, unless you have a specific spherical sensitivity in mind.  You can give rtrace any hemisphere orientations you like and average the results using "total" or your own program.

However, the light arriving on a plane *is* irradiance, which is a sum over the hemisphere of incoming directions with a cosine weighting.  If you were to give rtrace a set of different directions for irradiance, then you would arrive at something more like total incident radiation at a point, which is an unusual quantity.  What do you need this value for, exactly?

Cheers,
-Greg

> From: Valerie Tan <vlt26 at cornell.edu>
> Date: December 28, 2017 1:55:24 PM PST
> 
> Hi,
> 
> In your example, you test the irradiance at a single point in only one direction (up) which is not what I am trying to do unfortunately. If I want to calculate the energy arriving at a point on a plane, calculating irradiance from a single direction isn't realistic. Thus, I asked about RSENSOR which you recommended that I use a long time ago. I am thinking that for each point, I call RTRACE with the view direction -vd changing in equal increments and then add the irradiances. For example, the view directions for a very rough calculation would be in spherical coordinates/degrees: (1, 0, 0), (1, 90, 0), (1, 180, 0), (1, 270, 0), (1, 0, 45), (1, 90, 45), (1, 180, 45), (1, 270, 45), (1, 0, 90). 
> 
> Also, I am confused about "a list of RGB irradiance values (watts/sr/m^2)." This looks like radiance, and reputable sources state that the units for irradiance are (W/m^2). 
> 
> Thank you! 
> 
> Best, 
> 
> Valerie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171228/d6a8c97c/attachment-0001.html>

From boutillier at estia.ch  Thu Dec 28 17:01:48 2017
From: boutillier at estia.ch (boutillier at estia.ch)
Date: Fri, 29 Dec 2017 02:01:48 +0100 (CET)
Subject: [Radiance-general] 
 =?utf-8?q?Radiance-general_Digest=2C_Vol_166?=
 =?utf-8?q?=2C_Issue_33?=
Message-ID: <20171229010148.F14031320738@prospero5.kreativmedia.ch>

Bonjour, 

Je suis actuellement en vacances. Je serai de retour le 8 janvier 2018. 

En cas d'urgence, vous pouvez toujours appeler le num?ro g?n?ral d'Estia : +41 (0) 21/510.59.59 ou envoyer un mail ? l'adresse mail at estia.ch.

Pour toutes questions relatives ? DIAL+, merci d'utiliser l'adresse mail dial at estia.ch. 

Cordialement

Julien Boutillier
Estia SA




