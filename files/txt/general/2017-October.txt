From J.Mardaljevic at lboro.ac.uk  Tue Oct  3 11:02:12 2017
From: J.Mardaljevic at lboro.ac.uk (John Mardaljevic)
Date: Tue, 3 Oct 2017 18:02:12 +0000
Subject: [Radiance-general] Date for the 2018 Radiance International
 Workshop fixed: 3-5 September 2018
Message-ID: <E4C949C6-D559-4F47-BD2B-C46D85BE218D@lboro.ac.uk>

All,

The date for the 2018 Radiance International Workshop has been fixed: 3rd-5th (Mon-Wed) September 2018.  The usual 1+2 days format: 1 day of tutorial sessions followed by 2 days of workshop presentations.  Please post suggestions/requests for tutorial topics (and anything else) to this list.

The venue will be the Keith Green Building (KGB), School of Architecture, Building & Civil Engineering at Loughborough University, UK.  The KGB was recently refurbished in preparation for the School's new Architecture degree (hence the change of the School name).  As part of the refurb, the windows on the main facade (which faces south-west) were replaced with electrochromic glazing to tame a longstanding problem with glare and overheating in the afternoons.  See link below for a photo of the newly installed EC glass (each EC pane has three zones):

https://twitter.com/JMardaljevic/status/914972200968626176

Should be interesting for anyone who has not yet experienced a real space fitted with EC glass -- it's quite a transformation.  And, of course, a fitting place for a Radiance Workshop!

A Workshop website should go online before too long.  As ever with the Radiance Workshop, we shall do our best to keep the costs low.  Look forward to seeing many of you in Loughborough next year.

Cheers
The Organising Committee (that is, Eleonora Brembilla & John Mardaljevic)

PS.  We'll be posting regular monthly reminders/updates to the Radiance-general list.

Eleonora Brembilla & John Mardaljevic
School of Architecture, Building & Civil Engineering
Loughborough University
Loughborough
Leicestershire
LE11 3TU, UK

Tel: +44 1509 222630 (Direct)
Tel: +44 1509 228529 (Secretary)

j.mardaljevic at lboro.ac.uk

http://www.lboro.ac.uk/departments/abce/staff/john-mardaljevic

Personal daylighting website:
http://climate-based-daylighting.com



From eslee at lbl.gov  Tue Oct  3 13:35:34 2017
From: eslee at lbl.gov (Eleanor Lee)
Date: Tue, 3 Oct 2017 13:35:34 -0700
Subject: [Radiance-general] Advanced Tutorial: Daylighting Simulations with
 Radiance using Matrix-based Methods
Message-ID: <CAGEN5y_w4CvBdAzTpY7LgVfN=vc+rx_hA7PCfmqCj7Cxv2ZHWw@mail.gmail.com>

A new tutorial written by Sarith Subramaniam, PSU, is now available here:

https://radiance-online.org/learning/tutorials
See links at the bottom of the page under "Advanced Tutorials".
The tutorial has various example run files that can be downloaded from the
same link.

The tutorial covers the various matrix-based approaches (dc, 3-phase,
5-phase, etc.) for modeling the annual performance of operable or
parametrically-varied coplanar and non-coplanar shading and daylighting
systems, such as operable roller shades or blinds, prismatic films, metal
mesh overhangs, fritted glass fins and such.

If you have questions, comments, edits, corrections regarding this
document, please contact Taoning Wang (taoningwang at lbl.gov) and Sarith
Subramaniam (sarith at sarith.in).

Sarith spent a summer at LBNL last year working on this tutorial then spent
a good part of his own personal time developing the tutorial into a
comprehensive, nicely illustrated resource over the past year.

Many thanks to Sarith for doing such an incredible job of explaining the
ins and outs of using these modeling tools!!!

best, el.
-- 
Eleanor S. Lee, Staff Scientist, Deputy Group Leader
Building Technologies and Urban Systems Division, Energy Technologies Area
Lawrence Berkeley National Laboratory, 1 Cyclotron Road, MS: 90-3111,
Berkeley, CA 94720 USA
(510) 486-4997 Tel.  (510) 486-4089 Fax.  eslee at lbl.gov
http://facades.lbl.gov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171003/7c55e8f1/attachment.html>

From gregoryjward at gmail.com  Tue Oct 10 09:54:52 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 10 Oct 2017 09:54:52 -0700
Subject: [Radiance-general] dctimestep error
In-Reply-To: <552755A5-AA97-4779-8A0E-EC607CBEDBFD@rhrk.uni-kl.de>
References: <B0BE0C3F-9E4E-4964-B04B-6E05486DC565@rhrk.uni-kl.de>
 <CAF-iH4+pqr-BSz-MF-nAQoM94BHgwiU4LAccTgKi6SCbKvQx4w@mail.gmail.com>
 <D8CED202-5381-4C43-B580-561F32843F64@rhrk.uni-kl.de>
 <CAF-iH4L7HYDEF0iTQPyx7GB=2v2UDxaCGKuiwLiPwU23Dz_ZZg@mail.gmail.com>
 <552755A5-AA97-4779-8A0E-EC607CBEDBFD@rhrk.uni-kl.de>
Message-ID: <301747CA-B2ED-47BC-A788-206791C17386@lmi.net>

Just sharing this with the mailing list to say that the issue was resolved, and there's nothing wrong with dctimestep or the 3-phase method other than the fact that it's all very confusing.

Cheers,
-Greg

> From: raghuram kalyanam <kalyanam at rhrk.uni-kl.de>
> Date: October 10, 2017 2:13:49 AM PDT
> 
> Thanks Greg. It is working. I did a mistake initially putting -n 8760 which threw the EOF error  and then changed the SMX file, which was created with Tregenza patches, then it threw column count error. Sorry for the confusion.
> Thanks again for the patience and looking into the problem.
> 
> Best Regards,
> Raghu
> 
>> On 9. Oct 2017, at 18:37, Gregory J. Ward <gregoryjward at gmail.com> wrote:
>> 
>> Hi Raghu,
>> 
>> I ran the command:
>> 
>> 	dctimestep photocells.vmx 2011-SA5.XML south.dmx frankfurt.smx > results.txt
>> 
>> using the 5.1 release of Radiance and got the attached result.
>> 
>> What system are you using, and which version of Radiance are you running.  (I.e., what does "rpict -version" say?)  I don't really understand where your error is coming from, as the files appear to be OK.
>> 
>> -Greg
>> 
>> <results.txt.gz>
>> 
>>> From: raghuram kalyanam <kalyanam at rhrk.uni-kl.de>
>>> Subject: Re: [Radiance-general] dctimestep error
>>> Date: October 9, 2017 1:55:12 AM PDT
>>> 
>>> Hi Greg,
>>> 
>>> Sorry for the delay. Did have access to mails last week. Here are the files. Let me know if there is problem downloading them. Thanks for your help.
>>> 
>>> Best Regards,
>>> Raghu
>>> 
>>>> On 29. Sep 2017, at 18:03, Greg Ward <gregoryjward at gmail.com> wrote:
>>>> 
>>>> Hi Raghu,
>>>> 
>>>> Can you send me all of your matrices (compressed) and the commands that created them if they are not in the headers?  If they are too big for e-mail, perhaps you can post them on a website.
>>>> 
>>>> Cheers,
>>>> -Greg
>>>> 
>>>> 
>>>>> From: raghuram kalyanam <kalyanam at rhrk.uni-kl.de>
>>>>> Date: September 29, 2017 6:47:39 AM PDT
>>>>> 
>>>>> In dctimestep manual it asks to put -n when the sky matrix file doesn?t have the no of  columns in the header .Since  my smx file has 8760 columns in the header , i tried removing -n option  and  it says 'fatal - unexpected column count in header?. 
>>>>> 
>>>>> May be i should give a try with RMTXOP. Thanks for the information Germ?n .
>>>>> 
>>>>> Best Regards,
>>>>> Raghu 
>>>>> 
>>>>>> On 29. Sep 2017, at 15:26, Germ?n Molina Larrain <germolinal at gmail.com> wrote:
>>>>>> 
>>>>>> Yes.... smx files are huge. You could think on, instead of storing them, just piping it to dctimestep, so you save storage. 
>>>>>> 
>>>>>> gendaymtx -m 4 WEATHER.wea | dctimestep V T D > results
>>>>>> 
>>>>>> Maybe you can try deleting the -n option in dctimestep...? 
>>>>>> 
>>>>>> You can allways use RMTXOP program as well.
>>>>>> 
>>>>>> Kind regards
>>>>>> 
>>>>>> Germ?n
>>>>>> 
>>>>>> 2017-09-29 10:18 GMT-03:00 raghuram kalyanam <kalyanam at rhrk.uni-kl.de>:
>>>>>> Hi Germ?n,
>>>>>> 
>>>>>> Thanks for the reply. I wondered about this initially, and tried this with several other climate files, the error was the same. Yes the epw and wea has 8760 lines. Also i generated the sky matrix with -m 4 option and it generated a huge smx file about 200mb.
>>>>>> 
>>>>>> Best Regards,
>>>>>> Raghu
>>>>>> 
>>>>>>> On 29. Sep 2017, at 15:05, Germ?n Molina Larrain <germolinal at gmail.com> wrote:
>>>>>>> 
>>>>>>> Hello Raghu, 
>>>>>>> 
>>>>>>> It has been a while since the last time I played with the 3-phase method, so I forgot what error message appears when. However, you might want to check two things:
>>>>>>> That your Sky Matrix and your Daylight matrix were created with the same number of patches in the sky. Your Daylight Matrix was created using MF-4, so your skymatrix should be created using --> gendaymtx -m 4 WEATHER.wea > mannheim.smx
>>>>>>> Check that your weather tape has, indeed, 8760 lines.... I am not sure the -n 8760 options is still needed in dctimestep, though.
>>>>>>> Hope this helps!
>>>>>>> 
>>>>>>> Germ?n
>>>>>>> 
>>>>>>> 
>>>>>>> 2017-09-29 6:28 GMT-03:00 raghuram kalyanam <kalyanam at rhrk.uni-kl.de>:
>>>>>>> Hi All,
>>>>>>> 
>>>>>>> Did any one come across below error from the sky matrix file, while executing the dctimestep?
>>>>>>> 
>>>>>>> dctimestep -n 8760 Geometry/vmx/photocells.vmx 2011-SA5.XML matrices/south.dmx mannheim.smx > matrices/Satine_Dark_Grey_White.dat
>>>>>>> 
>>>>>>> fatal - unexpected EOF reading mannheim.smx
>>>>>>> 
>>>>>>> I created smx file with gendaymtx with out any error.
>>>>>>> 
>>>>>>> If i use a sky vector then i don?t see any error.
>>>>>>> 
>>>>>>> Is it some thing to do with the time steps and header in smx file?
>>>>>>> 
>>>>>>> It would be great if some one could help me. Incase if you want to try it out ,here are the  files.
>>>>>>> 
>>>>>>> Best Regards,
>>>>>>> Raghu
>>>>> 
>>>>> https://www.radiance-online.org/mailman/listinfo/radiance-general
>>> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171010/643e63c8/attachment.html>

From wangjuncwz at hotmail.com  Wed Oct 11 06:27:45 2017
From: wangjuncwz at hotmail.com (Wang Clarence)
Date: Wed, 11 Oct 2017 13:27:45 +0000
Subject: [Radiance-general] Render tregenza sky patches by rcontrib and pcomb
Message-ID: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>

Dear all,

I've been trying to render the Tregenza sky patches by using rcontrib. Each patch was rendered successfully, but when I use "pcomb" which contains "tregsamp.bash" by Axel Jacobs to combine them, the "combined.hdr" was a black picture.

#vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct

#pcomb -h $(bash apply_tregsamp_1.bash) > combine_1.hdr

#the original bash script below by Axel Jacobs was changed in order to be consistent with my code.


# Path to the patch images

imgpath="image_fisheye/patches_tre/first_tre"



for i in $imgpath_*.hdr; do
        # Scan patch number from file name
          patch=$(ls $i \
                          |rcalc -i "$imgpath_p\${pnum}.hdr" \
                           -e "\$1=pnum")
        # Get multiplier from dat file, based on record number
          multi=$(cat tmp_skydist.dat \
                          |rcalc -e "diff=$patch-recno+1;absdiff=if(diff,diff,-1*diff);

   \$1=if(absdiff,0,\$1);" |total)
          echo " -s $multi $i"

done



#EOF

Thanks,

Clarence


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171011/bae20a10/attachment.html>

From gregoryjward at gmail.com  Wed Oct 11 11:09:20 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 11 Oct 2017 11:09:20 -0700
Subject: [Radiance-general] Render tregenza sky patches by rcontrib and
 pcomb
In-Reply-To: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>
References: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>
Message-ID: <CBF2DCE3-A238-4F20-80AF-CAB586E708EA@lmi.net>

Hi Clarence,

Rather than trying to fix Axel's old script, it's better to use the simpler and more efficient dctimestep method:

	dctimestep first_tre_p%d.hdr skydist.dat > result.hdr

You can also simplify the rcontrib step using the rfluxmtx program, but what you have is fine.

Cheers,
-Greg

> From: Wang Clarence <wangjuncwz at hotmail.com>
> Date: October 11, 2017 6:27:45 AM PDT
> 
> Dear all,
> 
> I've been trying to render the Tregenza sky patches by using rcontrib. Each patch was rendered successfully, but when I use "pcomb" which contains "tregsamp.bash" by Axel Jacobs to combine them, the "combined.hdr" was a black picture. 
> 
> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct
> 
> #pcomb -h $(bash apply_tregsamp_1.bash) > combine_1.hdr
> 
> #the original bash script below by Axel Jacobs was changed in order to be consistent with my code.
> 
> 
> # Path to the patch images
> 
> imgpath="image_fisheye/patches_tre/first_tre"
> 
> for i in $imgpath_*.hdr; do
>         # Scan patch number from file name
>           patch=$(ls $i \
>                           |rcalc -i "$imgpath_p\${pnum}.hdr" \
>                            -e "\$1=pnum")
>         # Get multiplier from dat file, based on record number
>           multi=$(cat tmp_skydist.dat \
>                           |rcalc -e "diff=$patch-recno+1;absdiff=if(diff,diff,-1*diff);
> 
>    \$1=if(absdiff,0,\$1);" |total)
>           echo " -s $multi $i"
> 
> done
> 
> 
> 
> #EOF
> 
> Thanks,
> 
> Clarence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171011/be810ccd/attachment.html>

From wangjuncwz at hotmail.com  Wed Oct 11 20:15:46 2017
From: wangjuncwz at hotmail.com (Wang Clarence)
Date: Thu, 12 Oct 2017 03:15:46 +0000
Subject: [Radiance-general] =?gb2312?b?tPC4tDogIFJlbmRlciB0cmVnZW56YSBz?=
 =?gb2312?b?a3kgcGF0Y2hlcyBieSByY29udHJpYiBhbmQgcGNvbWI=?=
In-Reply-To: <CBF2DCE3-A238-4F20-80AF-CAB586E708EA@lmi.net>
References: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>,
 <CBF2DCE3-A238-4F20-80AF-CAB586E708EA@lmi.net>
Message-ID: <PS1PR01MB111517405E9AD78AD3904D29CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>

Thanks for the advice.

I have tried, but the "result.hdr" was not a format of picture, which meant that the rendering was failed.

#gensky 3 21 10 +s -a 22 -o 114 | genskyvec -m 1 -c 1 1 1 > tmp_skydist.dat

#vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct

#dctimestep first_tre_p%d.hdr tmp_skydist.dat > combine.hdr

Or, any parameters should be needed in the third line?

Best,

Clarence
________________________________
???: Greg Ward <gregoryjward at gmail.com>
????: 2017?10?11? 18:09
???: Radiance general discussion
??: Re: [Radiance-general] Render tregenza sky patches by rcontrib and pcomb

Hi Clarence,

Rather than trying to fix Axel's old script, it's better to use the simpler and more efficient dctimestep method:

dctimestep first_tre_p%d.hdr skydist.dat > result.hdr

You can also simplify the rcontrib step using the rfluxmtx program, but what you have is fine.

Cheers,
-Greg


From: Wang Clarence <wangjuncwz at hotmail.com<mailto:wangjuncwz at hotmail.com>>

Date: October 11, 2017 6:27:45 AM PDT


Dear all,

I've been trying to render the Tregenza sky patches by using rcontrib. Each patch was rendered successfully, but when I use "pcomb" which contains "tregsamp.bash" by Axel Jacobs to combine them, the "combined.hdr" was a black picture.

#vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct

#pcomb -h $(bash apply_tregsamp_1.bash) > combine_1.hdr

#the original bash script below by Axel Jacobs was changed in order to be consistent with my code.


# Path to the patch images

imgpath="image_fisheye/patches_tre/first_tre"

for i in $imgpath_*.hdr; do
        # Scan patch number from file name
          patch=$(ls $i \
                          |rcalc -i "$imgpath_p\${pnum}.hdr" \
                           -e "\$1=pnum")
        # Get multiplier from dat file, based on record number
          multi=$(cat tmp_skydist.dat \
                          |rcalc -e "diff=$patch-recno+1;absdiff=if(diff,diff,-1*diff);

   \$1=if(absdiff,0,\$1);" |total)
          echo " -s $multi $i"

done



#EOF

Thanks,

Clarence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171012/045faf9c/attachment.html>

From sarith at psu.edu  Wed Oct 11 20:28:50 2017
From: sarith at psu.edu (Sarith Subramaniam)
Date: Wed, 11 Oct 2017 22:28:50 -0500
Subject: [Radiance-general] =?utf-8?b?562U5aSNOiBSZW5kZXIgdHJlZ2VuemEg?=
 =?utf-8?q?sky_patches_by_rcontrib_and_pcomb?=
In-Reply-To: <PS1PR01MB111517405E9AD78AD3904D29CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
References: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>
 <CBF2DCE3-A238-4F20-80AF-CAB586E708EA@lmi.net>
 <PS1PR01MB111517405E9AD78AD3904D29CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
Message-ID: <eb509ba6-e81c-a9a6-3840-3fc215ce9406@psu.edu>

Hi Clarence,



The commands for rendering Tregenza Sky Patches with rfluxmtx, which 
Greg was referring to, can be found here: 
https://github.com/sariths/radTutorialFiles/blob/master/room/commands/2PM_Sky.sh. 
The instructions for using those files can be found in the main page of 
the repository: https://github.com/sariths/radTutorialFiles


If you are interested in rendering sky patches with random colors, as 
shown in Axel's tutorial, try this python script: 
https://gist.github.com/sariths/f16147efc83376c1f9c11c2f5ad24a20



Sarith


On 10/11/2017 10:15 PM, Wang Clarence wrote:
> Thanks for the advice.
>
> I have tried, but the "result.hdr" was not a format of picture, which 
> meant that the rendering was failed.
>
> #gensky 3 21 10 +s -a 22 -o 114 | genskyvec -m 1 -c 1 1 1 > 
> tmp_skydist.dat
>
> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f 
> tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow 
> test_sky_sun.oct
>
> #dctimestep first_tre_p%d.hdr tmp_skydist.dat > combine.hdr
>
> Or, any parameters should be needed in the third line?
>
> Best,
>
> Clarence
> ------------------------------------------------------------------------
> *???:* Greg Ward <gregoryjward at gmail.com>
> *????:* 2017?10?11? 18:09
> *???:* Radiance general discussion
> *??:* Re: [Radiance-general] Render tregenza sky patches by rcontrib 
> and pcomb
> Hi Clarence,
>
> Rather than trying to fix Axel's old script, it's better to use the 
> simpler and more efficient dctimestep method:
>
> dctimestep first_tre_p%d.hdr skydist.dat > result.hdr
>
> You can also simplify the rcontrib step using the rfluxmtx program, 
> but what you have is fine.
>
> Cheers,
> -Greg
>
>> *From: *Wang Clarence <wangjuncwz at hotmail.com 
>> <mailto:wangjuncwz at hotmail.com>>
>>
>> *Date: *October 11, 2017 6:27:45 AM PDT
>>
>> *
>> *
>>
>> Dear all,
>>
>> I've been trying to render the Tregenza sky patches by using 
>> rcontrib. Each patch was rendered successfully, but when I use 
>> "pcomb" which contains "tregsamp.bash" by Axel Jacobs to combine 
>> them, the "combined.hdr" was a black picture.
>>
>> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f 
>> tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow 
>> test_sky_sun.oct
>>
>> #pcomb -h $(bash apply_tregsamp_1.bash) > combine_1.hdr
>>
>> #the original bash script below by Axel Jacobs was changed in order 
>> to be consistent with my code.
>>
>>
>> # Path to the patch images
>>
>> imgpath="image_fisheye/patches_tre/first_tre"
>>
>> for i in $imgpath_*.hdr; do
>>         # Scan patch number from file name
>>           patch=$(ls $i \
>>                           |rcalc -i "$imgpath_p\${pnum}.hdr" \
>>                            -e "\$1=pnum")
>>         # Get multiplier from dat file, based on record number
>>           multi=$(cat tmp_skydist.dat \
>>                           |rcalc -e 
>> "diff=$patch-recno+1;absdiff=if(diff,diff,-1*diff);
>>
>>  \$1=if(absdiff,0,\$1);" |total)
>>           echo " -s $multi $i"
>>
>> done
>>
>>
>>
>> #EOF
>>
>> Thanks,
>>
>> Clarence
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171011/33a4e36f/attachment-0001.html>

From gregoryjward at gmail.com  Wed Oct 11 21:19:52 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 11 Oct 2017 21:19:52 -0700
Subject: [Radiance-general] =?utf-8?b?562U5aSNOiAgUmVuZGVyIHRyZWdlbnph?=
 =?utf-8?q?_sky_patches_by_rcontrib_and_pcomb?=
In-Reply-To: <PS1PR01MB111517405E9AD78AD3904D29CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
References: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>,
 <CBF2DCE3-A238-4F20-80AF-CAB586E708EA@lmi.net>
 <PS1PR01MB111517405E9AD78AD3904D29CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
Message-ID: <88B2C47F-9D98-4BE2-B989-4C04BC8A0461@lmi.net>

Hi Clarence,

This should be correct.  What version of Radiance do you have?  (I.e., what does "rpict -version" return?)

Does it report any error at all?  Is the output file completely empty?

It works when I run it using 5.1, and I'm pretty sure it will work for anything later than the 4.1 release, which was in 2011.

Cheers,
-Greg

> From: Wang Clarence <wangjuncwz at hotmail.com>
> Date: October 11, 2017 8:15:46 PM PDT
> 
> Thanks for the advice. 
> 
> I have tried, but the "result.hdr" was not a format of picture, which meant that the rendering was failed. 
> 
> #gensky 3 21 10 +s -a 22 -o 114 | genskyvec -m 1 -c 1 1 1 > tmp_skydist.dat
> 
> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct
> 
> #dctimestep first_tre_p%d.hdr tmp_skydist.dat > combine.hdr
> 
> Or, any parameters should be needed in the third line?
> 
> Best,
> 
> Clarence
> ???: Greg Ward <gregoryjward at gmail.com>
> ????: 2017?10?11? 18:09
> ???: Radiance general discussion
> ??: Re: [Radiance-general] Render tregenza sky patches by rcontrib and pcomb
>  
> Hi Clarence,
> 
> Rather than trying to fix Axel's old script, it's better to use the simpler and more efficient dctimestep method:
> 
> dctimestep first_tre_p%d.hdr skydist.dat > result.hdr
> 
> You can also simplify the rcontrib step using the rfluxmtx program, but what you have is fine.
> 
> Cheers,
> -Greg
> 
>> From: Wang Clarence <wangjuncwz at hotmail.com>
>> Date: October 11, 2017 6:27:45 AM PDT
>> 
>> Dear all,
>> 
>> I've been trying to render the Tregenza sky patches by using rcontrib. Each patch was rendered successfully, but when I use "pcomb" which contains "tregsamp.bash" by Axel Jacobs to combine them, the "combined.hdr" was a black picture. 
>> 
>> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct
>> 
>> #pcomb -h $(bash apply_tregsamp_1.bash) > combine_1.hdr
>> 
>> #the original bash script below by Axel Jacobs was changed in order to be consistent with my code.
>> 
>> 
>> # Path to the patch images
>> 
>> imgpath="image_fisheye/patches_tre/first_tre"
>> 
>> for i in $imgpath_*.hdr; do
>>         # Scan patch number from file name
>>           patch=$(ls $i \
>>                           |rcalc -i "$imgpath_p\${pnum}.hdr" \
>>                            -e "\$1=pnum")
>>         # Get multiplier from dat file, based on record number
>>           multi=$(cat tmp_skydist.dat \
>>                           |rcalc -e "diff=$patch-recno+1;absdiff=if(diff,diff,-1*diff);
>> 
>>    \$1=if(absdiff,0,\$1);" |total)
>>           echo " -s $multi $i"
>> 
>> done
>> 
>> 
>> 
>> #EOF
>> 
>> Thanks,
>> 
>> Clarence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171011/61de4020/attachment.html>

From wangjuncwz at hotmail.com  Thu Oct 12 00:11:34 2017
From: wangjuncwz at hotmail.com (Wang Clarence)
Date: Thu, 12 Oct 2017 07:11:34 +0000
Subject: [Radiance-general] =?gb2312?b?tPC4tDogILTwuLQ6ICBSZW5kZXIgdHJl?=
 =?gb2312?b?Z2VuemEgc2t5IHBhdGNoZXMgYnkgcmNvbnRyaWIgYW5kIHBjb21i?=
In-Reply-To: <88B2C47F-9D98-4BE2-B989-4C04BC8A0461@lmi.net>
References: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>,
 <CBF2DCE3-A238-4F20-80AF-CAB586E708EA@lmi.net>
 <PS1PR01MB111517405E9AD78AD3904D29CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>,
 <88B2C47F-9D98-4BE2-B989-4C04BC8A0461@lmi.net>
Message-ID: <PS1PR01MB11156EDAF1B76A60D6D726E1CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>

I  am using the 5.1.0.

According to my code that I mentioned before, the "combine.hdr" was rendered, but it could not be well opened and displayed like other patch images with ".hdr".

Actually, I have been also trying the method of "rfluxmtx" , then it returned " cannot load '-o'" when I run bash.

#vwrays -ff -x 600 -y 600 -vf views_up.vf  | rfluxmtx @rtc.opt -v  -ffc ' vwrays -d -x 600 -y 600 -vf views_up.vf ' -o sky_tre_p%d.hdr - test_sky.rad -i a.oct

I will appreciate your helping.

Best,

Clarence




________________________________
???: Greg Ward <gregoryjward at gmail.com>
????: 2017?10?12? 4:19
???: Radiance general discussion
??: Re: [Radiance-general] ??: Render tregenza sky patches by rcontrib and pcomb

Hi Clarence,

This should be correct.  What version of Radiance do you have?  (I.e., what does "rpict -version" return?)

Does it report any error at all?  Is the output file completely empty?

It works when I run it using 5.1, and I'm pretty sure it will work for anything later than the 4.1 release, which was in 2011.

Cheers,
-Greg


From: Wang Clarence <wangjuncwz at hotmail.com<mailto:wangjuncwz at hotmail.com>>

Date: October 11, 2017 8:15:46 PM PDT


Thanks for the advice.

I have tried, but the "result.hdr" was not a format of picture, which meant that the rendering was failed.

#gensky 3 21 10 +s -a 22 -o 114 | genskyvec -m 1 -c 1 1 1 > tmp_skydist.dat

#vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct

#dctimestep first_tre_p%d.hdr tmp_skydist.dat > combine.hdr

Or, any parameters should be needed in the third line?

Best,

Clarence
________________________________
???: Greg Ward <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>>
????: 2017?10?11? 18:09
???: Radiance general discussion
??: Re: [Radiance-general] Render tregenza sky patches by rcontrib and pcomb

Hi Clarence,

Rather than trying to fix Axel's old script, it's better to use the simpler and more efficient dctimestep method:

dctimestep first_tre_p%d.hdr skydist.dat > result.hdr

You can also simplify the rcontrib step using the rfluxmtx program, but what you have is fine.

Cheers,
-Greg


From: Wang Clarence <wangjuncwz at hotmail.com<mailto:wangjuncwz at hotmail.com>>

Date: October 11, 2017 6:27:45 AM PDT


Dear all,

I've been trying to render the Tregenza sky patches by using rcontrib. Each patch was rendered successfully, but when I use "pcomb" which contains "tregsamp.bash" by Axel Jacobs to combine them, the "combined.hdr" was a black picture.

#vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct

#pcomb -h $(bash apply_tregsamp_1.bash) > combine_1.hdr

#the original bash script below by Axel Jacobs was changed in order to be consistent with my code.


# Path to the patch images

imgpath="image_fisheye/patches_tre/first_tre"

for i in $imgpath_*.hdr; do
        # Scan patch number from file name
          patch=$(ls $i \
                          |rcalc -i "$imgpath_p\${pnum}.hdr" \
                           -e "\$1=pnum")
        # Get multiplier from dat file, based on record number
          multi=$(cat tmp_skydist.dat \
                          |rcalc -e "diff=$patch-recno+1;absdiff=if(diff,diff,-1*diff);

   \$1=if(absdiff,0,\$1);" |total)
          echo " -s $multi $i"

done



#EOF

Thanks,

Clarence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171012/7295a1c8/attachment-0001.html>

From jacobs.axel at gmail.com  Thu Oct 12 01:27:52 2017
From: jacobs.axel at gmail.com (Axel Jacobs)
Date: Thu, 12 Oct 2017 09:27:52 +0100
Subject: [Radiance-general] =?utf-8?b?562U5aSNOiDnrZTlpI06IFJlbmRlciB0?=
	=?utf-8?q?regenza_sky_patches_by_rcontrib_and_pcomb?=
In-Reply-To: <PS1PR01MB11156EDAF1B76A60D6D726E1CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
References: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>
 <CBF2DCE3-A238-4F20-80AF-CAB586E708EA@lmi.net>
 <PS1PR01MB111517405E9AD78AD3904D29CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
 <88B2C47F-9D98-4BE2-B989-4C04BC8A0461@lmi.net>
 <PS1PR01MB11156EDAF1B76A60D6D726E1CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
Message-ID: <CA+dqh61djmqiwpEWSiSrWjarh4+cxoybCFEnbW-dNDpPX+ek0A@mail.gmail.com>

Is the vwrays command definitely enclosed in back ticks?
Alternatively try this (in BASH):

vwrays -ff -x 600 -y 600 -vf views_up.vf  | rfluxmtx @rtc.opt -v  -ffc
$(vwrays -d -x 600 -y 600 -vf views_up.vf) -o sky_tre_p%d.hdr -
test_sky.rad -i a.oct


On 12 October 2017 at 08:11, Wang Clarence <wangjuncwz at hotmail.com> wrote:
> I  am using the 5.1.0.
>
> According to my code that I mentioned before, the "combine.hdr" was
> rendered, but it could not be well opened and displayed like other patch
> images with ".hdr".
>
> Actually, I have been also trying the method of "rfluxmtx" , then it
> returned " cannot load '-o'" when I run bash.
>
> #vwrays -ff -x 600 -y 600 -vf views_up.vf  | rfluxmtx @rtc.opt -v  -ffc '
> vwrays -d -x 600 -y 600 -vf views_up.vf ' -o sky_tre_p%d.hdr - test_sky.rad
> -i a.oct
>
> I will appreciate your helping.
>
> Best,
>
> Clarence
>
>
>
>
> ________________________________
> ???: Greg Ward <gregoryjward at gmail.com>
> ????: 2017?10?12? 4:19
> ???: Radiance general discussion
> ??: Re: [Radiance-general] ??: Render tregenza sky patches by rcontrib and
> pcomb
>
> Hi Clarence,
>
> This should be correct.  What version of Radiance do you have?  (I.e., what
> does "rpict -version" return?)
>
> Does it report any error at all?  Is the output file completely empty?
>
> It works when I run it using 5.1, and I'm pretty sure it will work for
> anything later than the 4.1 release, which was in 2011.
>
> Cheers,
> -Greg
>
> From: Wang Clarence <wangjuncwz at hotmail.com>
>
> Date: October 11, 2017 8:15:46 PM PDT
>
>
> Thanks for the advice.
>
> I have tried, but the "result.hdr" was not a format of picture, which meant
> that the rendering was failed.
>
> #gensky 3 21 10 +s -a 22 -o 114 | genskyvec -m 1 -c 1 1 1 > tmp_skydist.dat
>
> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f
> tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow
> test_sky_sun.oct
>
> #dctimestep first_tre_p%d.hdr tmp_skydist.dat > combine.hdr
>
> Or, any parameters should be needed in the third line?
>
> Best,
>
> Clarence
> ________________________________
> ???: Greg Ward <gregoryjward at gmail.com>
> ????: 2017?10?11? 18:09
> ???: Radiance general discussion
> ??: Re: [Radiance-general] Render tregenza sky patches by rcontrib and pcomb
>
> Hi Clarence,
>
> Rather than trying to fix Axel's old script, it's better to use the simpler
> and more efficient dctimestep method:
>
> dctimestep first_tre_p%d.hdr skydist.dat > result.hdr
>
> You can also simplify the rcontrib step using the rfluxmtx program, but what
> you have is fine.
>
> Cheers,
> -Greg
>
> From: Wang Clarence <wangjuncwz at hotmail.com>
>
> Date: October 11, 2017 6:27:45 AM PDT
>
>
> Dear all,
>
> I've been trying to render the Tregenza sky patches by using rcontrib. Each
> patch was rendered successfully, but when I use "pcomb" which contains
> "tregsamp.bash" by Axel Jacobs to combine them, the "combined.hdr" was a
> black picture.
>
> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f
> tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow
> test_sky_sun.oct
>
> #pcomb -h $(bash apply_tregsamp_1.bash) > combine_1.hdr
>
> #the original bash script below by Axel Jacobs was changed in order to be
> consistent with my code.
>
>
> # Path to the patch images
>
> imgpath="image_fisheye/patches_tre/first_tre"
>
> for i in $imgpath_*.hdr; do
>         # Scan patch number from file name
>           patch=$(ls $i \
>                           |rcalc -i "$imgpath_p\${pnum}.hdr" \
>                            -e "\$1=pnum")
>         # Get multiplier from dat file, based on record number
>           multi=$(cat tmp_skydist.dat \
>                           |rcalc -e
> "diff=$patch-recno+1;absdiff=if(diff,diff,-1*diff);
>
>    \$1=if(absdiff,0,\$1);" |total)
>           echo " -s $multi $i"
>
> done
>
>
>
> #EOF
>
> Thanks,
>
> Clarence
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>


From bugeatantoine at gmail.com  Thu Oct 12 10:22:28 2017
From: bugeatantoine at gmail.com (Antoine Bugeat)
Date: Thu, 12 Oct 2017 19:22:28 +0200
Subject: [Radiance-general] perfect specular reflection in rtrace
Message-ID: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>

Hello all,

I'm a civil engineering student and I'm trying to compute the impact of
specular reflections in a street "canyon".
My problem is:
I use rtrace function with the basic parameters, the same as DAYSIM uses
(-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512 -lr 6
-lw 0.004 -st 0.1 -oov)
My sky and sun description come from gendaylit.
My wall is defined by a perfect specular plastic and the ground is defined
by a diffuse material.

When I do the simulation, I get illogical results as if the specular
reflection of the walls had no impact.

So, I tried to simulate a really simple scene with only one *specular
surface*:

void plastic M_Spec
0
0
5 0 0 0 1 0

M_Spec polygon 1
0
0
12 -5.0 0.0 -5.0
-5.0 0.0 5.0
5.0 0.0 5.0
5.0 0.0 -5.0

My *source* is described as a sun perfectly perpendicular to the surface:

void light solar
0
0
3 1000 1000 1000

solar source sun
0
0
4 0.0 -1.0 0.0 0.5

And the *sensor* is between the surface and the source and is regarding
right to the surface:

0.0 -5.0 0.0 0.0 1.0 0.0

And in this case, I get 0 after my rtrace simulation.
I tried to vary some parameters of rtrace (direct and specular parameters)
but it change nothing I still get 0.

Thank you for your help.

Antoine Bugeat
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171012/48d3b8f5/attachment.html>

From nathanieljon at gmail.com  Thu Oct 12 11:02:20 2017
From: nathanieljon at gmail.com (Nathaniel Jones)
Date: Thu, 12 Oct 2017 11:02:20 -0700
Subject: [Radiance-general] perfect specular reflection in rtrace
In-Reply-To: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
References: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
Message-ID: <CAJR73tu7vu+mw_8V3e=_WK6tw2HHP6Rq3kJFnd=3edN0AYgybA@mail.gmail.com>

Hi Antoine,

Your plastic is completely black, so it won't reflect any light. You need
to set the red, green, and blue values to be positive numbers. For
instance, if you want a 50% reflective wall:

void plastic M_Spec
0
0
5 0.5 0.5 0.5 1 0

But is there a reason you're using plastic? Plastic that is 100% specular
isn't realistic, and more to the point for your use, it won't give you very
good reflections of small sources like the sun; for this, you will need to
use a mirror material.

Nathaniel

On Thu, Oct 12, 2017 at 10:22 AM, Antoine Bugeat <bugeatantoine at gmail.com>
wrote:

> Hello all,
>
> I'm a civil engineering student and I'm trying to compute the impact of
> specular reflections in a street "canyon".
> My problem is:
> I use rtrace function with the basic parameters, the same as DAYSIM uses
> (-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512 -lr
> 6 -lw 0.004 -st 0.1 -oov)
> My sky and sun description come from gendaylit.
> My wall is defined by a perfect specular plastic and the ground is defined
> by a diffuse material.
>
> When I do the simulation, I get illogical results as if the specular
> reflection of the walls had no impact.
>
> So, I tried to simulate a really simple scene with only one *specular
> surface*:
>
> void plastic M_Spec
> 0
> 0
> 5 0 0 0 1 0
>
> M_Spec polygon 1
> 0
> 0
> 12 -5.0 0.0 -5.0
> -5.0 0.0 5.0
> 5.0 0.0 5.0
> 5.0 0.0 -5.0
>
> My *source* is described as a sun perfectly perpendicular to the surface:
>
> void light solar
> 0
> 0
> 3 1000 1000 1000
>
> solar source sun
> 0
> 0
> 4 0.0 -1.0 0.0 0.5
>
> And the *sensor* is between the surface and the source and is regarding
> right to the surface:
>
> 0.0 -5.0 0.0 0.0 1.0 0.0
>
> And in this case, I get 0 after my rtrace simulation.
> I tried to vary some parameters of rtrace (direct and specular parameters)
> but it change nothing I still get 0.
>
> Thank you for your help.
>
> Antoine Bugeat
>
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171012/527048c6/attachment.html>

From tbleicher at gmail.com  Thu Oct 12 11:08:31 2017
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Thu, 12 Oct 2017 13:08:31 -0500
Subject: [Radiance-general] perfect specular reflection in rtrace
In-Reply-To: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
References: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
Message-ID: <CAKGV-k1P9j_VEU77to-VYdt9DnuyT_qXL6+BvZCua0RPDr5zFA@mail.gmail.com>

Antoine

If you want to have the specular  component considered in your numerical
calculations you have to use a different material type, perhaps even
'mirror'. IIRC the specular part in plastic is purely aesthetic but is not
taken into account for numeric calculations.

Regards,
Thomas

On Thu, Oct 12, 2017 at 12:22 PM, Antoine Bugeat <bugeatantoine at gmail.com>
wrote:

> Hello all,
>
> I'm a civil engineering student and I'm trying to compute the impact of
> specular reflections in a street "canyon".
> My problem is:
> I use rtrace function with the basic parameters, the same as DAYSIM uses
> (-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512 -lr
> 6 -lw 0.004 -st 0.1 -oov)
> My sky and sun description come from gendaylit.
> My wall is defined by a perfect specular plastic and the ground is defined
> by a diffuse material.
>
> When I do the simulation, I get illogical results as if the specular
> reflection of the walls had no impact.
>
> So, I tried to simulate a really simple scene with only one *specular
> surface*:
>
> void plastic M_Spec
> 0
> 0
> 5 0 0 0 1 0
>
> M_Spec polygon 1
> 0
> 0
> 12 -5.0 0.0 -5.0
> -5.0 0.0 5.0
> 5.0 0.0 5.0
> 5.0 0.0 -5.0
>
> My *source* is described as a sun perfectly perpendicular to the surface:
>
> void light solar
> 0
> 0
> 3 1000 1000 1000
>
> solar source sun
> 0
> 0
> 4 0.0 -1.0 0.0 0.5
>
> And the *sensor* is between the surface and the source and is regarding
> right to the surface:
>
> 0.0 -5.0 0.0 0.0 1.0 0.0
>
> And in this case, I get 0 after my rtrace simulation.
> I tried to vary some parameters of rtrace (direct and specular parameters)
> but it change nothing I still get 0.
>
> Thank you for your help.
>
> Antoine Bugeat
>
>
>
>
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171012/0d34aa56/attachment-0001.html>

From gregoryjward at gmail.com  Thu Oct 12 11:10:34 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Thu, 12 Oct 2017 11:10:34 -0700
Subject: [Radiance-general] perfect specular reflection in rtrace
In-Reply-To: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
References: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
Message-ID: <3C41C72F-B745-4139-9530-F19231206FA1@lmi.net>

Hi Antoine,

It seems you are running up against the limitation of ray-tracing to find small sources such as the sun in specular surfaces.

There is a specific fix for this problem for flat surface in Radiance, which is the "virtual source" calculation.  However, you need to use a special "mirror" type rather than "plastic" to enable this:

void mirror M_Spec
0
0
3 1 1 1

If you use this as your material, I think you will get the results you expect.  

I should point out that a 100% specular material is not realistic.  Polished metallic surfaces may reflect as much as 99% of light, but 100% is difficult to achieve without resorting to a prismatic dielectric film or similar.

Best,
-Greg

> From: Antoine Bugeat <bugeatantoine at gmail.com>
> Date: October 12, 2017 10:22:28 AM PDT
> 
> Hello all,
> 
> I'm a civil engineering student and I'm trying to compute the impact of specular reflections in a street "canyon".
> My problem is:
> I use rtrace function with the basic parameters, the same as DAYSIM uses
> (-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512 -lr 6 -lw 0.004 -st 0.1 -oov)
> My sky and sun description come from gendaylit.
> My wall is defined by a perfect specular plastic and the ground is defined by a diffuse material.
> 
> When I do the simulation, I get illogical results as if the specular reflection of the walls had no impact.
> 
> So, I tried to simulate a really simple scene with only one specular surface:
> 
> void plastic M_Spec 
> 0
> 0
> 5 0 0 0 1 0
> 
> M_Spec	polygon	1
> 0
> 0
> 12	-5.0	0.0	-5.0
> 	-5.0	0.0	5.0
> 	5.0	0.0	5.0
> 	5.0	0.0	-5.0
> 
> My source is described as a sun perfectly perpendicular to the surface:
> 
> void light solar
> 0
> 0
> 3 1000 1000 1000
> 
> solar source sun
> 0
> 0
> 4 0.0 -1.0 0.0 0.5
> 
> And the sensor is between the surface and the source and is regarding right to the surface:
> 
> 0.0	-5.0	0.0	0.0	1.0	0.0
> 
> And in this case, I get 0 after my rtrace simulation.
> I tried to vary some parameters of rtrace (direct and specular parameters) but it change nothing I still get 0.
> 
> Thank you for your help.
> 
> Antoine Bugeat
> https://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171012/f941cae6/attachment.html>

From jan.wienold at epfl.ch  Thu Oct 12 13:45:46 2017
From: jan.wienold at epfl.ch (Jan Wienold)
Date: Thu, 12 Oct 2017 22:45:46 +0200
Subject: [Radiance-general] perfect specular reflection in rtrace
In-Reply-To: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
References: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
Message-ID: <F2B76060-53EA-4F1C-B0F0-2FFAE98D2A24@epfl.ch>

Hi Antoine,
specular reflections are not traced at all to light sources in the ambient calculation (which you invoke by -I). Only to glow material. Thats why also the reflections of the sun on glass-material is not captured by rtrace -I.
So either you use mirror material and a -dr >2 or you calculate a 180degree fisheye on you point and calculate the illuminace from the image. The view rays for the image are traced via specular surfaces towards light sources.
Jan

On 12 October 2017 19:22:28 CEST, Antoine Bugeat <bugeatantoine at gmail.com> wrote:
>Hello all,
>
>I'm a civil engineering student and I'm trying to compute the impact of
>specular reflections in a street "canyon".
>My problem is:
>I use rtrace function with the basic parameters, the same as DAYSIM
>uses
>(-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512
>-lr 6
>-lw 0.004 -st 0.1 -oov)
>My sky and sun description come from gendaylit.
>My wall is defined by a perfect specular plastic and the ground is
>defined
>by a diffuse material.
>
>When I do the simulation, I get illogical results as if the specular
>reflection of the walls had no impact.
>
>So, I tried to simulate a really simple scene with only one *specular
>surface*:
>
>void plastic M_Spec
>0
>0
>5 0 0 0 1 0
>
>M_Spec polygon 1
>0
>0
>12 -5.0 0.0 -5.0
>-5.0 0.0 5.0
>5.0 0.0 5.0
>5.0 0.0 -5.0
>
>My *source* is described as a sun perfectly perpendicular to the
>surface:
>
>void light solar
>0
>0
>3 1000 1000 1000
>
>solar source sun
>0
>0
>4 0.0 -1.0 0.0 0.5
>
>And the *sensor* is between the surface and the source and is regarding
>right to the surface:
>
>0.0 -5.0 0.0 0.0 1.0 0.0
>
>And in this case, I get 0 after my rtrace simulation.
>I tried to vary some parameters of rtrace (direct and specular
>parameters)
>but it change nothing I still get 0.
>
>Thank you for your help.
>
>Antoine Bugeat

-- 
Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail gesendet.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171012/c5cf4677/attachment.html>

From bugeatantoine at gmail.com  Fri Oct 13 08:02:20 2017
From: bugeatantoine at gmail.com (Antoine Bugeat)
Date: Fri, 13 Oct 2017 17:02:20 +0200
Subject: [Radiance-general] perfect specular reflection in rtrace
In-Reply-To: <F2B76060-53EA-4F1C-B0F0-2FFAE98D2A24@epfl.ch>
References: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
 <F2B76060-53EA-4F1C-B0F0-2FFAE98D2A24@epfl.ch>
Message-ID: <CAHfKskytqCCor8FQ4SmbSR+=fzk4=kYOr63fr6=Ed8RJNtNuwA@mail.gmail.com>

Hello all,

First, thank you very much for your quick answers.

If I understand correctly, among the possible options for solving my
problem, the simplest is to replace the perfect specular "plastic" by a
"mirror" material to have a "virtual source" calculation (I agree that 100%
of reflection is totally not real but it's just for this case to understand
the calculation).

void mirror M_Spec
0
0
3 1 1 1

But I still get 0...

As a reminder, I use these radiance parameters (the same as DAYSIM except
that I increase the -dr):
-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512 -lr 6
-lw 0.004 -st 0.1 -oov

In parallel, I found a paper written by Roland Schregle (Lucerne University
2015) with an extension of Radiance about photon mapping for caustics
reflection. It looks pretty complex and I think (and I hope) that I can
solve my problem without using this.

Best Regards,

Antoine



2017-10-12 22:45 GMT+02:00 Jan Wienold <jan.wienold at epfl.ch>:

> Hi Antoine,
> specular reflections are not traced at all to light sources in the ambient
> calculation (which you invoke by -I). Only to glow material. Thats why also
> the reflections of the sun on glass-material is not captured by rtrace -I.
> So either you use mirror material and a -dr >2 or you calculate a
> 180degree fisheye on you point and calculate the illuminace from the image.
> The view rays for the image are traced via specular surfaces towards light
> sources.
> Jan
>
>
> On 12 October 2017 19:22:28 CEST, Antoine Bugeat <bugeatantoine at gmail.com>
> wrote:
>>
>> Hello all,
>>
>> I'm a civil engineering student and I'm trying to compute the impact of
>> specular reflections in a street "canyon".
>> My problem is:
>> I use rtrace function with the basic parameters, the same as DAYSIM uses
>> (-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512
>> -lr 6 -lw 0.004 -st 0.1 -oov)
>> My sky and sun description come from gendaylit.
>> My wall is defined by a perfect specular plastic and the ground is
>> defined by a diffuse material.
>>
>> When I do the simulation, I get illogical results as if the specular
>> reflection of the walls had no impact.
>>
>> So, I tried to simulate a really simple scene with only one *specular
>> surface*:
>>
>> void plastic M_Spec
>> 0
>> 0
>> 5 0 0 0 1 0
>>
>> M_Spec polygon 1
>> 0
>> 0
>> 12 -5.0 0.0 -5.0
>> -5.0 0.0 5.0
>> 5.0 0.0 5.0
>> 5.0 0.0 -5.0
>>
>> My *source* is described as a sun perfectly perpendicular to the surface:
>>
>> void light solar
>> 0
>> 0
>> 3 1000 1000 1000
>>
>> solar source sun
>> 0
>> 0
>> 4 0.0 -1.0 0.0 0.5
>>
>> And the *sensor* is between the surface and the source and is regarding
>> right to the surface:
>>
>> 0.0 -5.0 0.0 0.0 1.0 0.0
>>
>> And in this case, I get 0 after my rtrace simulation.
>> I tried to vary some parameters of rtrace (direct and specular
>> parameters) but it change nothing I still get 0.
>>
>> Thank you for your help.
>>
>> Antoine Bugeat
>>
>>
>>
>>
>>
>>
> --
> Diese Nachricht wurde von meinem Android-Mobiltelefon mit K-9 Mail
> gesendet.
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171013/3f731391/attachment.html>

From gregoryjward at gmail.com  Fri Oct 13 10:04:50 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 13 Oct 2017 10:04:50 -0700
Subject: [Radiance-general] perfect specular reflection in rtrace
In-Reply-To: <CAHfKskytqCCor8FQ4SmbSR+=fzk4=kYOr63fr6=Ed8RJNtNuwA@mail.gmail.com>
References: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
 <F2B76060-53EA-4F1C-B0F0-2FFAE98D2A24@epfl.ch>
 <CAHfKskytqCCor8FQ4SmbSR+=fzk4=kYOr63fr6=Ed8RJNtNuwA@mail.gmail.com>
Message-ID: <842222E1-1977-4F14-8EA9-CF97B015292B@lmi.net>

Hi Antoine,

Using the mirror material should work, but I forgot to mention that it's a one-sided effect.  You need to be looking at the front of your surface rather than the backside, which means the vertices need to be ordered counter-clockwise from the side you're looking at.

I didn't check initially, but the surface is the wrong way around from your selected evaluation point.  Your sun is also on the wrong side.  If you reverse the order of your polygon vertices, then it should work as expected.

The photon-mapping approach, which is now built into Radiance, should also work.  It is a more complex solution, but necessary when the reflecting surfaces are curved.

Cheers,
-Greg

> From: Antoine Bugeat <bugeatantoine at gmail.com>
> Date: October 13, 2017 8:02:20 AM PDT
> 
> Hello all,
> 
> First, thank you very much for your quick answers.
> 
> If I understand correctly, among the possible options for solving my problem, the simplest is to replace the perfect specular "plastic" by a "mirror" material to have a "virtual source" calculation (I agree that 100% of reflection is totally not real but it's just for this case to understand the calculation).
> 
> void mirror M_Spec
> 0
> 0
> 3 1 1 1
> 
> But I still get 0...
> 
> As a reminder, I use these radiance parameters (the same as DAYSIM except that I increase the -dr):
> -I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512 -lr 6 -lw 0.004 -st 0.1 -oov
> 
> In parallel, I found a paper written by Roland Schregle (Lucerne University 2015) with an extension of Radiance about photon mapping for caustics reflection. It looks pretty complex and I think (and I hope) that I can solve my problem without using this.
> 
> Best Regards,
> 
> Antoine
> 
> 
> 
> 2017-10-12 22:45 GMT+02:00 Jan Wienold <jan.wienold at epfl.ch>:
> Hi Antoine,
> specular reflections are not traced at all to light sources in the ambient calculation (which you invoke by -I). Only to glow material. Thats why also the reflections of the sun on glass-material is not captured by rtrace -I.
> So either you use mirror material and a -dr >2 or you calculate a 180degree fisheye on you point and calculate the illuminace from the image. The view rays for the image are traced via specular surfaces towards light sources.
> Jan
> 
> 
> On 12 October 2017 19:22:28 CEST, Antoine Bugeat <bugeatantoine at gmail.com> wrote:
> Hello all,
> 
> I'm a civil engineering student and I'm trying to compute the impact of specular reflections in a street "canyon".
> My problem is:
> I use rtrace function with the basic parameters, the same as DAYSIM uses
> (-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512 -lr 6 -lw 0.004 -st 0.1 -oov)
> My sky and sun description come from gendaylit.
> My wall is defined by a perfect specular plastic and the ground is defined by a diffuse material.
> 
> When I do the simulation, I get illogical results as if the specular reflection of the walls had no impact.
> 
> So, I tried to simulate a really simple scene with only one specular surface:
> 
> void plastic M_Spec 
> 0
> 0
> 5 0 0 0 1 0
> 
> M_Spec polygon 1
> 0
> 0
> 12 -5.0 0.0 -5.0
>  -5.0 0.0 5.0
>  5.0 0.0 5.0
>  5.0 0.0 -5.0
> 
> My source is described as a sun perfectly perpendicular to the surface:
> 
> void light solar
> 0
> 0
> 3 1000 1000 1000
> 
> solar source sun
> 0
> 0
> 4 0.0 -1.0 0.0 0.5
> 
> And the sensor is between the surface and the source and is regarding right to the surface:
> 
> 0.0 -5.0 0.0 0.0 1.0 0.0
> 
> And in this case, I get 0 after my rtrace simulation.
> I tried to vary some parameters of rtrace (direct and specular parameters) but it change nothing I still get 0.
> 
> Thank you for your help.
> 
> Antoine Bugeat
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171013/30f19296/attachment-0001.html>

From gregoryjward at gmail.com  Mon Oct 16 08:47:01 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 16 Oct 2017 08:47:01 -0700
Subject: [Radiance-general] =?utf-8?b?562U5aSNOiAgUmVuZGVyIHRyZWdlbnph?=
 =?utf-8?q?_sky_patches_by_rcontrib_and_pcomb?=
In-Reply-To: <PS1PR01MB11156EDAF1B76A60D6D726E1CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
References: <HK2PR01MB1106B7026E3EFCAF97A7FA94CF4A0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>,
 <CBF2DCE3-A238-4F20-80AF-CAB586E708EA@lmi.net>
 <PS1PR01MB111517405E9AD78AD3904D29CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>,
 <88B2C47F-9D98-4BE2-B989-4C04BC8A0461@lmi.net>
 <PS1PR01MB11156EDAF1B76A60D6D726E1CF4B0@PS1PR01MB1115.apcprd01.prod.exchangelabs.com>
Message-ID: <248C2243-5A73-4E4B-A006-37BF734EC47C@lmi.net>

This issue was resolved off-list.  There was a problem with his configuration that was causing pcomb to fail after opening 8 files.  There was no issue with dctimestep after all, only the "-h" option of genskyvec.

Best,
-Greg

> From: Wang Clarence <wangjuncwz at hotmail.com>
> Date: October 12, 2017 12:11:34 AM PDT
> 
> I  am using the 5.1.0.
> 
> According to my code that I mentioned before, the "combine.hdr" was rendered, but it could not be well opened and displayed like other patch images with ".hdr". 
> 
> Actually, I have been also trying the method of "rfluxmtx" , then it returned " cannot load '-o'" when I run bash.
> 
> #vwrays -ff -x 600 -y 600 -vf views_up.vf  | rfluxmtx @rtc.opt -v  -ffc ' vwrays -d -x 600 -y 600 -vf views_up.vf ' -o sky_tre_p%d.hdr - test_sky.rad -i a.oct
> 
> I will appreciate your helping.
> 
> Best,
> 
> Clarence
> 
> 
> ???: Greg Ward <gregoryjward at gmail.com>
> ????: 2017?10?12? 4:19
> ???: Radiance general discussion
> ??: Re: [Radiance-general] ??: Render tregenza sky patches by rcontrib and pcomb
>  
> Hi Clarence,
> 
> This should be correct.  What version of Radiance do you have?  (I.e., what does "rpict -version" return?)
> 
> Does it report any error at all?  Is the output file completely empty?
> 
> It works when I run it using 5.1, and I'm pretty sure it will work for anything later than the 4.1 release, which was in 2011.
> 
> Cheers,
> -Greg
> 
>> From: Wang Clarence <wangjuncwz at hotmail.com>
>> Date: October 11, 2017 8:15:46 PM PDT
>> 
>> Thanks for the advice. 
>> 
>> I have tried, but the "result.hdr" was not a format of picture, which meant that the rendering was failed. 
>> 
>> #gensky 3 21 10 +s -a 22 -o 114 | genskyvec -m 1 -c 1 1 1 > tmp_skydist.dat
>> 
>> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct
>> 
>> #dctimestep first_tre_p%d.hdr tmp_skydist.dat > combine.hdr
>> 
>> Or, any parameters should be needed in the third line?
>> 
>> Best,
>> 
>> Clarence
>> ???: Greg Ward <gregoryjward at gmail.com>
>> ????: 2017?10?11? 18:09
>> ???: Radiance general discussion
>> ??: Re: [Radiance-general] Render tregenza sky patches by rcontrib and pcomb
>>  
>> Hi Clarence,
>> 
>> Rather than trying to fix Axel's old script, it's better to use the simpler and more efficient dctimestep method:
>> 
>> dctimestep first_tre_p%d.hdr skydist.dat > result.hdr
>> 
>> You can also simplify the rcontrib step using the rfluxmtx program, but what you have is fine.
>> 
>> Cheers,
>> -Greg
>> 
>>> From: Wang Clarence <wangjuncwz at hotmail.com>
>>> Date: October 11, 2017 6:27:45 AM PDT
>>> 
>>> Dear all,
>>> 
>>> I've been trying to render the Tregenza sky patches by using rcontrib. Each patch was rendered successfully, but when I use "pcomb" which contains "tregsamp.bash" by Axel Jacobs to combine them, the "combined.hdr" was a black picture. 
>>> 
>>> #vwrays -ff $vw |rcontrib @rtc1.opt -ffc $(vwrays -d $vw) -V+ -f tregenza.cal -b tbin -bn Ntbins -o first_tre_p%d.hdr -m skyglow test_sky_sun.oct
>>> 
>>> #pcomb -h $(bash apply_tregsamp_1.bash) > combine_1.hdr
>>> 
>>> #the original bash script below by Axel Jacobs was changed in order to be consistent with my code.
>>> 
>>> 
>>> # Path to the patch images
>>> 
>>> imgpath="image_fisheye/patches_tre/first_tre"
>>> 
>>> for i in $imgpath_*.hdr; do
>>>         # Scan patch number from file name
>>>           patch=$(ls $i \
>>>                           |rcalc -i "$imgpath_p\${pnum}.hdr" \
>>>                            -e "\$1=pnum")
>>>         # Get multiplier from dat file, based on record number
>>>           multi=$(cat tmp_skydist.dat \
>>>                           |rcalc -e "diff=$patch-recno+1;absdiff=if(diff,diff,-1*diff);
>>> 
>>>    \$1=if(absdiff,0,\$1);" |total)
>>>           echo " -s $multi $i"
>>> 
>>> done
>>> 
>>> 
>>> 
>>> #EOF
>>> 
>>> Thanks,
>>> 
>>> Clarence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171016/96970783/attachment.html>

From wangjuncwz at hotmail.com  Wed Oct 18 05:37:21 2017
From: wangjuncwz at hotmail.com (Wang Clarence)
Date: Wed, 18 Oct 2017 12:37:21 +0000
Subject: [Radiance-general] Example 2 of three-phase method
Message-ID: <HK2PR01MB1106CB108D77A5F9A71C6182CF4D0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>

Dear all,

I run the commands of example 2 of three-phase method in tutorial and was stuck with some problems, especially the daylight matrix and dctimestep.

1. When I tried the command below, it actually created a bad .dmx file which I could not open.

#genklemsamp -vd 0 -1 0 objects/south_window.rad | rcontrib -c 500 -e MF:2 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faf model2_dmx.oct > results/south2.dmx

But I replaced "-faf" by "-faa", the "south2.dmx" could be successfully rendered. Its header was showed below:
#?RADIANCE
oconv materials/testroom2.mat objects/testroom2.rad objects/ground2.rad skies/sky_white1.rad
rcontrib -c 500 -e MF:2 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faa
SOFTWARE= RADIANCE 5.1 lastmod Wed Aug 30 10:22:48 HKT 2017 by root on clarence-ThinkCentre-M900
CAPDATE= 2017:10:18 17:49:26
GMT= 2017:10:18 09:49:26
NCOMP=3
NCOLS=578
FORMAT=ascii

2. I continued to try the command by using "dctimestep" like tutorial say  in order to render the image. But it reacted : fatal-unexpected column count in header. How to solve this problem?

#gensky 3 21 10 | genskyvec -m 4 -c 1 1 1 > skies/3_21_10.skv

#dctimestep images/vmx/window_east_%03d.hdr data/singleclear.xml results/east2.dmx skies/3_21_10.skv > images/3_21_10_clear.hdr

By the way, the "results/east2.dmx" was created by using the "-faa" in the previous command.

Thanks,

Clarence



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171018/e0a1cc17/attachment.html>

From gregoryjward at gmail.com  Wed Oct 18 08:23:09 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Wed, 18 Oct 2017 08:23:09 -0700
Subject: [Radiance-general] Example 2 of three-phase method
In-Reply-To: <HK2PR01MB1106CB108D77A5F9A71C6182CF4D0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>
References: <HK2PR01MB1106CB108D77A5F9A71C6182CF4D0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>
Message-ID: <04D4EE16-AA4B-45F2-A4BA-E76F6FBE20E8@lmi.net>

Hi Clarence,

Which tutorial are you using?  A few of the programs have changed slightly, and we generally recommend rfluxmtx over rcontrib for most calculations, as it is much simpler to use and therefore less error-prone.  You should use the new tutorial by Sarith, which was just recently posted to our website:

	https://www.radiance-online.org/learning/tutorials/matrix-based-methods

This is an advanced tutorial, but it starts with the basics and quickly moves through each of the methods.  There is also an associated set of input files here:

	https://www.radiance-online.org/learning/tutorials/radTutorialFiles-master.zip

Best,
-Greg

> From: Wang Clarence <wangjuncwz at hotmail.com>
> Date: October 18, 2017 5:37:21 AM PDT
> 
> Dear all,
> 
> I run the commands of example 2 of three-phase method in tutorial and was stuck with some problems, especially the daylight matrix and dctimestep.
> 
> 1. When I tried the command below, it actually created a bad .dmx file which I could not open.
> 
> #genklemsamp -vd 0 -1 0 objects/south_window.rad | rcontrib -c 500 -e MF:2 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faf model2_dmx.oct > results/south2.dmx
> 
> But I replaced "-faf" by "-faa", the "south2.dmx" could be successfully rendered. Its header was showed below:
> #?RADIANCE
> oconv materials/testroom2.mat objects/testroom2.rad objects/ground2.rad skies/sky_white1.rad
> rcontrib -c 500 -e MF:2 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faa
> SOFTWARE= RADIANCE 5.1 lastmod Wed Aug 30 10:22:48 HKT 2017 by root on clarence-ThinkCentre-M900
> CAPDATE= 2017:10:18 17:49:26
> GMT= 2017:10:18 09:49:26
> NCOMP=3
> NCOLS=578
> FORMAT=ascii
> 
> 2. I continued to try the command by using "dctimestep" like tutorial say  in order to render the image. But it reacted : fatal-unexpected column count in header. How to solve this problem?
> 
> #gensky 3 21 10 | genskyvec -m 4 -c 1 1 1 > skies/3_21_10.skv
> 
> #dctimestep images/vmx/window_east_%03d.hdr data/singleclear.xml results/east2.dmx skies/3_21_10.skv > images/3_21_10_clear.hdr
> 
> By the way, the "results/east2.dmx" was created by using the "-faa" in the previous command.
> 
> Thanks,
> 
> Clarence
> 


From kalyanam at rhrk.uni-kl.de  Wed Oct 18 09:34:38 2017
From: kalyanam at rhrk.uni-kl.de (raghuram kalyanam)
Date: Wed, 18 Oct 2017 18:34:38 +0200
Subject: [Radiance-general] combine BSDFs for Multiple windows
Message-ID: <264DB479-1B88-4913-AC27-A16E3F561E7E@rhrk.uni-kl.de>

Hi All,

I know how to calculate 3 phase method using bsdf of single window, but in case if i have 3 different windows with different bsdfs, how can we take care of this in dctimestep. 

Thanks in advance.

Best Regards,
Raghu



From sarith at psu.edu  Wed Oct 18 09:53:02 2017
From: sarith at psu.edu (Sarith Subramaniam)
Date: Wed, 18 Oct 2017 11:53:02 -0500
Subject: [Radiance-general] combine BSDFs for Multiple windows
In-Reply-To: <264DB479-1B88-4913-AC27-A16E3F561E7E@rhrk.uni-kl.de>
References: <264DB479-1B88-4913-AC27-A16E3F561E7E@rhrk.uni-kl.de>
Message-ID: <20ea1d3c-5292-b024-a56c-8ed4b7f80001@psu.edu>

Hi Raghu,


A similar example is discussed in Section 7.4 of this document: 
https://www.radiance-online.org/learning/tutorials/matrix-based-methods

The example files for that document can be found here:

https://www.radiance-online.org/learning/tutorials/radTutorialFiles-master.zip


If you are just interested in the commands, try this link: 
https://github.com/sariths/radTutorialFiles/blob/master/room/commands/3PM_VarShad.sh
(This shell file is also included in the document mentioned above)

The idea is to create separate view and daylight matrices for individual 
windows, use dctimestep to calculate those individual results and 
finally combine the results using pcomb(images) or rmtxop(illuminance). 
You can study the contribution from individual windows by changing the 
transmission matrix in dctimestep.


Regards,
Sarith

On 10/18/2017 11:34 AM, raghuram kalyanam wrote:
> Hi All,
>
> I know how to calculate 3 phase method using bsdf of single window, but in case if i have 3 different windows with different bsdfs, how can we take care of this in dctimestep.
>
> Thanks in advance.
>
> Best Regards,
> Raghu
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general



From wangjuncwz at hotmail.com  Wed Oct 18 19:38:26 2017
From: wangjuncwz at hotmail.com (Wang Clarence)
Date: Thu, 19 Oct 2017 02:38:26 +0000
Subject: [Radiance-general] =?gb2312?b?tPC4tDogIEV4YW1wbGUgMiBvZiB0aHJl?=
 =?gb2312?b?ZS1waGFzZSBtZXRob2Q=?=
In-Reply-To: <04D4EE16-AA4B-45F2-A4BA-E76F6FBE20E8@lmi.net>
References: <HK2PR01MB1106CB108D77A5F9A71C6182CF4D0@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>,
 <04D4EE16-AA4B-45F2-A4BA-E76F6FBE20E8@lmi.net>
Message-ID: <HK2PR01MB1106035909A8A0D9422A9E26CF420@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>

Hi Greg,

I am using "The Three-Phase Method / Five-Phase for Simulating Complex Fenestration with Radiance" by A McNeil, LBNL.

Best,

Clarence


________________________________
???: Greg Ward <gregoryjward at gmail.com>
????: 2017?10?18? 15:23
???: Radiance general discussion
??: Re: [Radiance-general] Example 2 of three-phase method

Hi Clarence,

Which tutorial are you using?  A few of the programs have changed slightly, and we generally recommend rfluxmtx over rcontrib for most calculations, as it is much simpler to use and therefore less error-prone.  You should use the new tutorial by Sarith, which was just recently posted to our website:

        https://www.radiance-online.org/learning/tutorials/matrix-based-methods

This is an advanced tutorial, but it starts with the basics and quickly moves through each of the methods.  There is also an associated set of input files here:

        https://www.radiance-online.org/learning/tutorials/radTutorialFiles-master.zip

Best,
-Greg

> From: Wang Clarence <wangjuncwz at hotmail.com>
> Date: October 18, 2017 5:37:21 AM PDT
>
> Dear all,
>
> I run the commands of example 2 of three-phase method in tutorial and was stuck with some problems, especially the daylight matrix and dctimestep.
>
> 1. When I tried the command below, it actually created a bad .dmx file which I could not open.
>
> #genklemsamp -vd 0 -1 0 objects/south_window.rad | rcontrib -c 500 -e MF:2 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faf model2_dmx.oct > results/south2.dmx
>
> But I replaced "-faf" by "-faa", the "south2.dmx" could be successfully rendered. Its header was showed below:
> #?RADIANCE
> oconv materials/testroom2.mat objects/testroom2.rad objects/ground2.rad skies/sky_white1.rad
> rcontrib -c 500 -e MF:2 -f reinhart.cal -b rbin -bn Nrbins -m sky_glow -faa
> SOFTWARE= RADIANCE 5.1 lastmod Wed Aug 30 10:22:48 HKT 2017 by root on clarence-ThinkCentre-M900
> CAPDATE= 2017:10:18 17:49:26
> GMT= 2017:10:18 09:49:26
> NCOMP=3
> NCOLS=578
> FORMAT=ascii
>
> 2. I continued to try the command by using "dctimestep" like tutorial say  in order to render the image. But it reacted : fatal-unexpected column count in header. How to solve this problem?
>
> #gensky 3 21 10 | genskyvec -m 4 -c 1 1 1 > skies/3_21_10.skv
>
> #dctimestep images/vmx/window_east_%03d.hdr data/singleclear.xml results/east2.dmx skies/3_21_10.skv > images/3_21_10_clear.hdr
>
> By the way, the "results/east2.dmx" was created by using the "-faa" in the previous command.
>
> Thanks,
>
> Clarence
>

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
https://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171019/a50f2610/attachment.html>

From kalyanam at rhrk.uni-kl.de  Thu Oct 19 00:28:23 2017
From: kalyanam at rhrk.uni-kl.de (raghuram kalyanam)
Date: Thu, 19 Oct 2017 09:28:23 +0200
Subject: [Radiance-general] combine BSDFs for Multiple windows
In-Reply-To: <20ea1d3c-5292-b024-a56c-8ed4b7f80001@psu.edu>
References: <264DB479-1B88-4913-AC27-A16E3F561E7E@rhrk.uni-kl.de>
 <20ea1d3c-5292-b024-a56c-8ed4b7f80001@psu.edu>
Message-ID: <24CA74C9-D87E-4A87-8D82-77DDB807B12B@rhrk.uni-kl.de>

Thats great Sarith. That would do it.

Best Regards,
Raghu

> On 18. Oct 2017, at 18:53, Sarith Subramaniam <sarith at psu.edu> wrote:
> 
> Hi Raghu,
> 
> 
> A similar example is discussed in Section 7.4 of this document: https://www.radiance-online.org/learning/tutorials/matrix-based-methods
> 
> The example files for that document can be found here:
> 
> https://www.radiance-online.org/learning/tutorials/radTutorialFiles-master.zip
> 
> 
> If you are just interested in the commands, try this link: https://github.com/sariths/radTutorialFiles/blob/master/room/commands/3PM_VarShad.sh
> (This shell file is also included in the document mentioned above)
> 
> The idea is to create separate view and daylight matrices for individual windows, use dctimestep to calculate those individual results and finally combine the results using pcomb(images) or rmtxop(illuminance). You can study the contribution from individual windows by changing the transmission matrix in dctimestep.
> 
> 
> Regards,
> Sarith
> 
> On 10/18/2017 11:34 AM, raghuram kalyanam wrote:
>> Hi All,
>> 
>> I know how to calculate 3 phase method using bsdf of single window, but in case if i have 3 different windows with different bsdfs, how can we take care of this in dctimestep.
>> 
>> Thanks in advance.
>> 
>> Best Regards,
>> Raghu
>> 
>> 
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> https://www.radiance-online.org/mailman/listinfo/radiance-general
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general



From shakespe at indiana.edu  Tue Oct 24 06:46:55 2017
From: shakespe at indiana.edu (Shakespeare, Robert A.)
Date: Tue, 24 Oct 2017 13:46:55 +0000
Subject: [Radiance-general] High Sierra OS - latest
Message-ID: <D614BA31.484F4%shakespe@indiana.edu>

I just received notice of the availability of "High Sierra"(4+) MacOS.

It includes the following:
Upgrade the performance, reliability, and security of your Mac with the new Apple File System.
.Update to a new file system architecture designed for all Flash Macs
.Protect your entire drive with built-in native encryption for greater security.

Well I have a built-in flash drive, and the primary purpose of this laptop is for Radiance, running in an Xquartz X11 system.

Does the new file system and its protections affect command-line Radiance? I currently run OSX  10.12.6. Trying to avoid a dysfunctional laptop if patches are needed to run Radiance.

Thanks!

Rob
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171024/04de7172/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Oct 24 08:45:03 2017
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 24 Oct 2017 15:45:03 +0000
Subject: [Radiance-general] High Sierra OS - latest
Message-ID: <D614BB4D.2E9A2%Robert.Guglielmetti@nrel.gov>

That?s just disk encryption stuff ? low level. The filesystem will/should
still appear and behave the same to native apps, and permissions will
behave the same way.


On 10/24/17, 7:46 AM, "Shakespeare, Robert A." <shakespe at indiana.edu>
wrote:

>I just received notice of the availability of ?High Sierra?(4+) MacOS.
>
>
>
>
>
>
>
>
>
>
>
>It includes the following:
>Upgrade the performance, reliability, and security of your Mac with the
>new Apple File System.
>.Update to a new file system architecture designed for all Flash Macs
>.Protect your entire drive with built-in native encryption for greater
>security.
>
>
>Well I have a built-in flash drive, and the primary purpose of this
>laptop is for Radiance, running in an Xquartz X11 system.
>
>
>Does the new file system and its protections affect command-line
>Radiance? I currently run OSX  10.12.6. Trying to avoid a dysfunctional
>laptop if patches are needed to run Radiance.
>
>
>Thanks!
>
>
>Rob


From gregoryjward at gmail.com  Tue Oct 24 08:48:34 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 24 Oct 2017 08:48:34 -0700
Subject: [Radiance-general] High Sierra OS - latest
In-Reply-To: <D614BA31.484F4%shakespe@indiana.edu>
References: <D614BA31.484F4%shakespe@indiana.edu>
Message-ID: <AB1825E8-FC97-4086-9326-20A65A8A4F99@lmi.net>

HI Rob,

The new filesystem is the default for drives you initialize, but it won't change or affect an existing filesystem.  To get the benefits of the new format, you would need to erase and restore your system.  The easiest way to do this would be to create a Time Machine backup, then do a "clean install" of High Sierra, then use Migration Assistant to restore your previous system from the TM backup.  This will take many hours, depending on how much data you have on backup.

I'm not recommending this, unless these new filesystem features are really important to you.  Radiance should run fine on the new filesystem.  I don't think X11 would be affected, either.  Neither program accesses the filesystem at such a low level that it should matter.

Best,
-Greg

> From: "Shakespeare, Robert A." <shakespe at indiana.edu>
> Date: October 24, 2017 6:46:55 AM PDT
> 
> I just received notice of the availability of ?High Sierra?(4+) MacOS.
> 
> It includes the following:
> Upgrade the performance, reliability, and security of your Mac with the new Apple File System.
> .Update to a new file system architecture designed for all Flash Macs
> .Protect your entire drive with built-in native encryption for greater security.
> 
> Well I have a built-in flash drive, and the primary purpose of this laptop is for Radiance, running in an Xquartz X11 system.
> 
> Does the new file system and its protections affect command-line Radiance? I currently run OSX  10.12.6. Trying to avoid a dysfunctional laptop if patches are needed to run Radiance.
> 
> Thanks!
> 
> Rob
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171024/8529bce9/attachment.html>

From tbleicher at gmail.com  Tue Oct 24 09:05:32 2017
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Tue, 24 Oct 2017 11:05:32 -0500
Subject: [Radiance-general] High Sierra OS - latest
In-Reply-To: <D614BA31.484F4%shakespe@indiana.edu>
References: <D614BA31.484F4%shakespe@indiana.edu>
Message-ID: <CAKGV-k2r47m8V7VU0_cY3hWKnSOuG_iXDbXUEvKvZ9vzUEUkXQ@mail.gmail.com>

Hi Rob

If you are already on Mac OS 10.12.x ("Sierra") you should have no problems
upgrading to "High Sierra". It's more a "polish" than a "feature" upgrade.
You should check compatibility with X11 first, though. I don't think it's
considered a core component by Apple. You can find an in-depth review here:

https://arstechnica.com/gadgets/2017/09/macos-10-13-high-sierra-the-ars-technica-review/

I skipped the "Sierra" release and thought it would be a good time to
upgrade now but then I found out that the new file system does not work
well on spinning rust disk (which I still use in my iMac). To me the new
file system was the only interesting feature. I'll wait at least for the
10.13.1 release before I upgrade to give others a chance to find the juicy
problems.




On Tue, Oct 24, 2017 at 8:46 AM, Shakespeare, Robert A. <
shakespe at indiana.edu> wrote:

> I just received notice of the availability of ?High Sierra?(4+) MacOS.
>
> It includes the following:
> Upgrade the performance, reliability, and security of your Mac with the
> new Apple File System.
> .Update to a new file system architecture designed for all Flash Macs
> .Protect your entire drive with built-in native encryption for greater
> security.
>
> Well I have a built-in flash drive, and the primary purpose of this laptop
> is for Radiance, running in an Xquartz X11 system.
>
> Does the new file system and its protections affect command-line Radiance?
> I currently run OSX  10.12.6. Trying to avoid a dysfunctional laptop if
> patches are needed to run Radiance.
>
> Thanks!
>
> Rob
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171024/bbb7f083/attachment-0001.html>

From shakespe at indiana.edu  Tue Oct 24 10:04:43 2017
From: shakespe at indiana.edu (Shakespeare, Robert A.)
Date: Tue, 24 Oct 2017 17:04:43 +0000
Subject: [Radiance-general] High Sierra OS - latest
In-Reply-To: <CAKGV-k2r47m8V7VU0_cY3hWKnSOuG_iXDbXUEvKvZ9vzUEUkXQ@mail.gmail.com>
References: <D614BA31.484F4%shakespe@indiana.edu>,
 <CAKGV-k2r47m8V7VU0_cY3hWKnSOuG_iXDbXUEvKvZ9vzUEUkXQ@mail.gmail.com>
Message-ID: <F38B464B-F434-4E95-AFCB-0471B90B3C3D@indiana.edu>

Thanks Greg, Thomas and Rob!
I proceed with cautious optimism...
Rob

Sent from my iPad

On Oct 24, 2017, at 12:10 PM, Thomas Bleicher <tbleicher at gmail.com<mailto:tbleicher at gmail.com>> wrote:

Hi Rob

If you are already on Mac OS 10.12.x ("Sierra") you should have no problems upgrading to "High Sierra". It's more a "polish" than a "feature" upgrade. You should check compatibility with X11 first, though. I don't think it's considered a core component by Apple. You can find an in-depth review here:

https://arstechnica.com/gadgets/2017/09/macos-10-13-high-sierra-the-ars-technica-review/

I skipped the "Sierra" release and thought it would be a good time to upgrade now but then I found out that the new file system does not work well on spinning rust disk (which I still use in my iMac). To me the new file system was the only interesting feature. I'll wait at least for the 10.13.1 release before I upgrade to give others a chance to find the juicy problems.




On Tue, Oct 24, 2017 at 8:46 AM, Shakespeare, Robert A. <shakespe at indiana.edu<mailto:shakespe at indiana.edu>> wrote:
I just received notice of the availability of "High Sierra"(4+) MacOS.

It includes the following:
Upgrade the performance, reliability, and security of your Mac with the new Apple File System.
.Update to a new file system architecture designed for all Flash Macs
.Protect your entire drive with built-in native encryption for greater security.

Well I have a built-in flash drive, and the primary purpose of this laptop is for Radiance, running in an Xquartz X11 system.

Does the new file system and its protections affect command-line Radiance? I currently run OSX  10.12.6. Trying to avoid a dysfunctional laptop if patches are needed to run Radiance.

Thanks!

Rob

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
https://www.radiance-online.org/mailman/listinfo/radiance-general


_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org<mailto:Radiance-general at radiance-online.org>
https://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171024/380cc3df/attachment.html>

From bugeatantoine at gmail.com  Tue Oct 24 10:38:57 2017
From: bugeatantoine at gmail.com (Antoine Bugeat)
Date: Tue, 24 Oct 2017 19:38:57 +0200
Subject: [Radiance-general] perfect specular reflection in rtrace
In-Reply-To: <842222E1-1977-4F14-8EA9-CF97B015292B@lmi.net>
References: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
 <F2B76060-53EA-4F1C-B0F0-2FFAE98D2A24@epfl.ch>
 <CAHfKskytqCCor8FQ4SmbSR+=fzk4=kYOr63fr6=Ed8RJNtNuwA@mail.gmail.com>
 <842222E1-1977-4F14-8EA9-CF97B015292B@lmi.net>
Message-ID: <CAHfKskz7G3tTQywhuqBNNVGT1i8Rb7DynKUNv1nf3R_6VQAprA@mail.gmail.com>

Hello all,


Thanks again for your quick reply. Now I can model my street walls as a
perfect specular materials ("mirror" materials) and obtain the results I
expected.

I come back with an other problem:

The main purpose of my work is to compute the impact of the specular
reflections in a street canyon.
So, I would like to separate the light that comes from the reflections of
the walls (only specular) and the light that comes directly from the sky
(defined by "glow" material and "skyfunc"). I wanted to do a simulation
with 0 reflection and an other simulation with 5 (or more) reflections. The
results obtain with 0 reflection is directly the direct sky component and
the substraction of 5 reflections - 0 reflections is the "environment" part.

I did the same process with a diffuse environment and it worked well. I
changed the -ab parameter:
-ab 1 to have the direct sky component (1 because of "glow" material);
and -ab 5 to have the entire reflections in the environment.

*But in the specular environment (with "mirror" wall) there is no
difference between my "0 reflection" case and my "5 reflections" case*
I tried to change the parameters -ab -dr and -lr and it seems that all the
reflections is computed whatever the parameters.
>From what I know, -ab is for "diffuse inter-reflections", -dr is for
"direct reflections", and -lr I don't know...

Obviously, I can replace the "0 reflection specular" case with the "0
refelction diffuse" case because it should be exactly the same, but I would
like to understand where this problem comes from.

I do not know if I was clear and precise in my explanation. I am available
if you have questions.


Regards,

Antoine

2017-10-13 19:04 GMT+02:00 Greg Ward <gregoryjward at gmail.com>:

> Hi Antoine,
>
> Using the mirror material should work, but I forgot to mention that it's a
> one-sided effect.  You need to be looking at the front of your surface
> rather than the backside, which means the vertices need to be ordered
> counter-clockwise from the side you're looking at.
>
> I didn't check initially, but the surface is the wrong way around from
> your selected evaluation point.  Your sun is also on the wrong side.  If
> you reverse the order of your polygon vertices, then it should work as
> expected.
>
> The photon-mapping approach, which is now built into Radiance, should also
> work.  It is a more complex solution, but necessary when the reflecting
> surfaces are curved.
>
> Cheers,
> -Greg
>
> *From: *Antoine Bugeat <bugeatantoine at gmail.com>
>
> *Date: *October 13, 2017 8:02:20 AM PDT
>
>
> Hello all,
>
> First, thank you very much for your quick answers.
>
> If I understand correctly, among the possible options for solving my
> problem, the simplest is to replace the perfect specular "plastic" by a
> "mirror" material to have a "virtual source" calculation (I agree that 100%
> of reflection is totally not real but it's just for this case to understand
> the calculation).
>
> void mirror M_Spec
> 0
> 0
> 3 1 1 1
>
> But I still get 0...
>
> As a reminder, I use these radiance parameters (the same as DAYSIM except
> that I increase the -dr):
> -I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512 -lr 6
> -lw 0.004 -st 0.1 -oov
>
> In parallel, I found a paper written by Roland Schregle (Lucerne
> University 2015) with an extension of Radiance about photon mapping for
> caustics reflection. It looks pretty complex and I think (and I hope) that
> I can solve my problem without using this.
>
> Best Regards,
>
> Antoine
>
>
>
> 2017-10-12 22:45 GMT+02:00 Jan Wienold <jan.wienold at epfl.ch>:
>
>> Hi Antoine,
>> specular reflections are not traced at all to light sources in the
>> ambient calculation (which you invoke by -I). Only to glow material. Thats
>> why also the reflections of the sun on glass-material is not captured by
>> rtrace -I.
>> So either you use mirror material and a -dr >2 or you calculate a
>> 180degree fisheye on you point and calculate the illuminace from the image.
>> The view rays for the image are traced via specular surfaces towards light
>> sources.
>> Jan
>>
>>
>> On 12 October 2017 19:22:28 CEST, Antoine Bugeat <bugeatantoine at gmail.com>
>> wrote:
>>>
>>> Hello all,
>>>
>>> I'm a civil engineering student and I'm trying to compute the impact of
>>> specular reflections in a street "canyon".
>>> My problem is:
>>> I use rtrace function with the basic parameters, the same as DAYSIM uses
>>> (-I -aa 0.1 -ab 5 -ad 1000 -ar 300 -as 20 -dj 0 -dr 5 -ds 0.2 -dp 512
>>> -lr 6 -lw 0.004 -st 0.1 -oov)
>>> My sky and sun description come from gendaylit.
>>> My wall is defined by a perfect specular plastic and the ground is
>>> defined by a diffuse material.
>>>
>>> When I do the simulation, I get illogical results as if the specular
>>> reflection of the walls had no impact.
>>>
>>> So, I tried to simulate a really simple scene with only one *specular
>>> surface*:
>>>
>>> void plastic M_Spec
>>> 0
>>> 0
>>> 5 0 0 0 1 0
>>>
>>> M_Spec polygon 1
>>> 0
>>> 0
>>> 12 -5.0 0.0 -5.0
>>> -5.0 0.0 5.0
>>> 5.0 0.0 5.0
>>> 5.0 0.0 -5.0
>>>
>>> My *source* is described as a sun perfectly perpendicular to the
>>> surface:
>>>
>>> void light solar
>>> 0
>>> 0
>>> 3 1000 1000 1000
>>>
>>> solar source sun
>>> 0
>>> 0
>>> 4 0.0 -1.0 0.0 0.5
>>>
>>> And the *sensor* is between the surface and the source and is regarding
>>> right to the surface:
>>>
>>> 0.0 -5.0 0.0 0.0 1.0 0.0
>>>
>>> And in this case, I get 0 after my rtrace simulation.
>>> I tried to vary some parameters of rtrace (direct and specular
>>> parameters) but it change nothing I still get 0.
>>>
>>> Thank you for your help.
>>>
>>> Antoine Bugeat
>>>
>>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171024/46781040/attachment-0001.html>

From rmfritz3 at gmail.com  Tue Oct 24 11:40:12 2017
From: rmfritz3 at gmail.com (Randolph M. Fritz)
Date: Tue, 24 Oct 2017 11:40:12 -0700
Subject: [Radiance-general] High Sierra OS - latest
In-Reply-To: <F38B464B-F434-4E95-AFCB-0471B90B3C3D@indiana.edu>
References: <D614BA31.484F4%shakespe@indiana.edu>
 <CAKGV-k2r47m8V7VU0_cY3hWKnSOuG_iXDbXUEvKvZ9vzUEUkXQ@mail.gmail.com>
 <F38B464B-F434-4E95-AFCB-0471B90B3C3D@indiana.edu>
Message-ID: <CANeAMoLnf_c8b0OCX-jvSX1=0z8GWCbJyiu5kY1AEQqdM=AM7Q@mail.gmail.com>

Back up first!

-- 
Randolph M. Fritz || +1 206 659-8617 || rmfritz3 at gmail.com

On Tue, Oct 24, 2017 at 10:04 AM, Shakespeare, Robert A. <
shakespe at indiana.edu> wrote:

> Thanks Greg, Thomas and Rob!
> I proceed with cautious optimism...
> Rob
>
> Sent from my iPad
>
> On Oct 24, 2017, at 12:10 PM, Thomas Bleicher <tbleicher at gmail.com> wrote:
>
> Hi Rob
>
> If you are already on Mac OS 10.12.x ("Sierra") you should have no
> problems upgrading to "High Sierra". It's more a "polish" than a "feature"
> upgrade. You should check compatibility with X11 first, though. I don't
> think it's considered a core component by Apple. You can find an in-depth
> review here:
>
> https://arstechnica.com/gadgets/2017/09/macos-10-13-
> high-sierra-the-ars-technica-review/
>
> I skipped the "Sierra" release and thought it would be a good time to
> upgrade now but then I found out that the new file system does not work
> well on spinning rust disk (which I still use in my iMac). To me the new
> file system was the only interesting feature. I'll wait at least for the
> 10.13.1 release before I upgrade to give others a chance to find the juicy
> problems.
>
>
>
>
> On Tue, Oct 24, 2017 at 8:46 AM, Shakespeare, Robert A. <
> shakespe at indiana.edu> wrote:
>
>> I just received notice of the availability of ?High Sierra?(4+) MacOS.
>>
>> It includes the following:
>> Upgrade the performance, reliability, and security of your Mac with the
>> new Apple File System.
>> .Update to a new file system architecture designed for all Flash Macs
>> .Protect your entire drive with built-in native encryption for greater
>> security.
>>
>> Well I have a built-in flash drive, and the primary purpose of this
>> laptop is for Radiance, running in an Xquartz X11 system.
>>
>> Does the new file system and its protections affect command-line
>> Radiance? I currently run OSX  10.12.6. Trying to avoid a dysfunctional
>> laptop if patches are needed to run Radiance.
>>
>> Thanks!
>>
>> Rob
>>
>> _______________________________________________
>> Radiance-general mailing list
>> Radiance-general at radiance-online.org
>> https://www.radiance-online.org/mailman/listinfo/radiance-general
>>
>>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171024/5864edba/attachment.html>

From gregoryjward at gmail.com  Tue Oct 24 11:46:48 2017
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 24 Oct 2017 11:46:48 -0700
Subject: [Radiance-general] perfect specular reflection in rtrace
In-Reply-To: <CAHfKskz7G3tTQywhuqBNNVGT1i8Rb7DynKUNv1nf3R_6VQAprA@mail.gmail.com>
References: <CAHfKskzogPCF==1KcYeems_k5CuHGazz=6fCJFsur+ZFri6cWA@mail.gmail.com>
 <F2B76060-53EA-4F1C-B0F0-2FFAE98D2A24@epfl.ch>
 <CAHfKskytqCCor8FQ4SmbSR+=fzk4=kYOr63fr6=Ed8RJNtNuwA@mail.gmail.com>
 <842222E1-1977-4F14-8EA9-CF97B015292B@lmi.net>
 <CAHfKskz7G3tTQywhuqBNNVGT1i8Rb7DynKUNv1nf3R_6VQAprA@mail.gmail.com>
Message-ID: <4301247E-3D48-40A2-AC3C-DFA0DEE61CC3@lmi.net>

Hi Antoine,

Glad you got the basic mirror type working.

One thing you should take into consideration for your model is the Fresnel factor that affects how light reflects off glazing materials (building facades).  The "mirror" type does not change its reflectance with angle, but coated and uncoated glazing materials do.  There are exact calculations and approximations you can use, which you can apply as a "brightfunc" modifier to the "mirror" type.

To answer your question, though, the number of reflections or redirections from virtual source materials is controlled by the -dr rendering option.  Set this to "-dr 0" if you do not wish to include any specular source redirections.  You will still get reflections (even multiple reflections) of the sky, even if you set -ab 0.  That's because the specular reflections don't count in the diffuse interreflection (ambient) calculation.  To fully eliminate sky reflections, you'll need to set -lr 0.

Cheers,
-Greg

> From: Antoine Bugeat <bugeatantoine at gmail.com>
> Date: October 24, 2017 10:38:57 AM PDT
> 
> Hello all,
> 
> Thanks again for your quick reply. Now I can model my street walls as a perfect specular materials ("mirror" materials) and obtain the results I expected.
> 
> I come back with an other problem:
> 
> The main purpose of my work is to compute the impact of the specular reflections in a street canyon.
> So, I would like to separate the light that comes from the reflections of the walls (only specular) and the light that comes directly from the sky (defined by "glow" material and "skyfunc"). I wanted to do a simulation with 0 reflection and an other simulation with 5 (or more) reflections. The results obtain with 0 reflection is directly the direct sky component and the substraction of 5 reflections - 0 reflections is the "environment" part.
> 
> I did the same process with a diffuse environment and it worked well. I changed the -ab parameter: 
> -ab 1 to have the direct sky component (1 because of "glow" material);
> and -ab 5 to have the entire reflections in the environment.
> 
> But in the specular environment (with "mirror" wall) there is no difference between my "0 reflection" case and my "5 reflections" case
> I tried to change the parameters -ab -dr and -lr and it seems that all the reflections is computed whatever the parameters.
> From what I know, -ab is for "diffuse inter-reflections", -dr is for "direct reflections", and -lr I don't know...
> 
> Obviously, I can replace the "0 reflection specular" case with the "0 refelction diffuse" case because it should be exactly the same, but I would like to understand where this problem comes from.
> 
> I do not know if I was clear and precise in my explanation. I am available if you have questions.
> 
> 
> Regards,
> 
> Antoine
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171024/677fdc03/attachment.html>

From martin at lichttechnik.co.at  Sun Oct 29 00:29:13 2017
From: martin at lichttechnik.co.at (Martin Klingler)
Date: Sun, 29 Oct 2017 08:29:13 +0100
Subject: [Radiance-general] Radiance in virtual Win 10
Message-ID: <2408667174401282630532@conserver>

Hi radiance community,

?

I just tried to install radiance (NREL binaries 5.1.0) in a clean windows 10 64 bit virtual machine (Fusion 8.5.8). When I start a program from the command line I get the error "The application was unable to start correctly 0xc000007b".

?

Does anybody have an idea what is going wrong here? There are a lot of hints on the net concerning this error. But I did not find the right one yet.

?

Many thanks and best regards

Martin

------------------------------------

Lichttechnik Martin Klingler

Spraidt 7

5271 Moosbach

AUSTRIA

Tel ++43-7724-443833

Fax ++43-7724-443838

email martin at lichttechnik.co.at

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171029/a57edfeb/attachment.html>

From Robert.Guglielmetti at nrel.gov  Sun Oct 29 18:21:11 2017
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 30 Oct 2017 01:21:11 +0000
Subject: [Radiance-general] Radiance in virtual Win 10
In-Reply-To: <2408667174401282630532@conserver>
References: <2408667174401282630532@conserver>
Message-ID: <D61BDA4B.2EC63%Robert.Guglielmetti@nrel.gov>

Are you getting this error for all the Radiance executables you try, or
just one or more specific ones?

- Rob

On 10/29/17, 1:29 AM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:

>Hi radiance community,
> 
>I just tried to install radiance (NREL binaries 5.1.0) in a clean windows
>10 64 bit virtual machine (Fusion 8.5.8). When I start a program from the
>command
> line I get the error "The application was unable to start correctly
>0xc000007b".
> 
>Does anybody have an idea what is going wrong here? There are a lot of
>hints on the net concerning this error. But I did not find the right one
>yet.
> 
>Many thanks and best regards
>Martin
>------------------------------------
>Lichttechnik Martin Klingler
>Spraidt 7
>5271 Moosbach
>AUSTRIA
>Tel ++43-7724-443833
>Fax ++43-7724-443838
>email martin at lichttechnik.co.at


From martin at lichttechnik.co.at  Sun Oct 29 23:57:36 2017
From: martin at lichttechnik.co.at (Martin Klingler)
Date: Mon, 30 Oct 2017 07:57:36 +0100
Subject: [Radiance-general] Radiance in virtual Win 10
References: <D61BDA4B.2EC63%Robert.Guglielmetti@nrel.gov>
Message-ID: <2408661931522451313243@conserver>

I did not check systematically. But I get it for rpict, rtrace, ies2rad, obj2rad, genclock, gendaylit, total, rlam, icalc, rcontrib, getinfo ... I have the feeling I will get it for all.

?

Martin

------------------------------------

Lichttechnik Martin Klingler

Spraidt 7

5271 Moosbach

AUSTRIA

Tel ++43-7724-443833

Fax ++43-7724-443838

email martin at lichttechnik.co.at

?

Original Message

?

Subject:

Re: [Radiance-general] Radiance in virtual Win 10

Sent:

Montag, 30. Oktober 2017 02:21

From:

Guglielmetti, Robert (Robert.Guglielmetti at nrel.gov)


Are you getting this error for all the Radiance executables you try, or
just one or more specific ones?

- Rob

On 10/29/17, 1:29 AM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:

>Hi radiance community,
>
>I just tried to install radiance (NREL binaries 5.1.0) in a clean windows
>10 64 bit virtual machine (Fusion 8.5.8). When I start a program from the
>command
> line I get the error "The application was unable to start correctly
>0xc000007b".
>
>Does anybody have an idea what is going wrong here? There are a lot of
>hints on the net concerning this error. But I did not find the right one
>yet.
>
>Many thanks and best regards
>Martin
>------------------------------------
>Lichttechnik Martin Klingler
>Spraidt 7
>5271 Moosbach
>AUSTRIA
>Tel ++43-7724-443833
>Fax ++43-7724-443838
>email martin at lichttechnik.co.at

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171030/17e054bb/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon Oct 30 09:29:12 2017
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 30 Oct 2017 16:29:12 +0000
Subject: [Radiance-general] Radiance in virtual Win 10
Message-ID: <D61CAC2E.2EC88%Robert.Guglielmetti@nrel.gov>

Yeah, that sounds like a broader problem. =/ We have had some issues of
late, getting all the executables to work properly on Windows. Changes to
Qt versions and compilers have fixed some problems and introduced others.
We are working on it as we can, but for now your best bet is to use the
previous installer release (5.0.a.12), which you can grab here:
https://github.com/NREL/Radiance/releases/tag/5.0.a.12


On 10/30/17, 12:57 AM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:

>I did not check systematically. But I get it for rpict, rtrace, ies2rad,
>obj2rad, genclock, gendaylit, total, rlam, icalc, rcontrib, getinfo ... I
>have the
> feeling I will get it for all.
> 
>Martin
>------------------------------------
>Lichttechnik Martin Klingler
>Spraidt 7
>5271 Moosbach
>AUSTRIA
>Tel ++43-7724-443833
>Fax ++43-7724-443838
>email martin at lichttechnik.co.at
> 
>Original Message
> 
>Subject:
>Re: [Radiance-general] Radiance in virtual Win 10
>Sent:
>Montag, 30. Oktober 2017 02:21
>From:
>Guglielmetti, Robert (Robert.Guglielmetti at nrel.gov)
>Are you getting this error for all the Radiance executables you try, or
>just one or more specific ones?
>
>- Rob
>
>On 10/29/17, 1:29 AM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:
>
>>Hi radiance community,
>> 
>>I just tried to install radiance (NREL binaries 5.1.0) in a clean windows
>>10 64 bit virtual machine (Fusion 8.5.8). When I start a program from the
>>command
>> line I get the error "The application was unable to start correctly
>>0xc000007b".
>> 
>>Does anybody have an idea what is going wrong here? There are a lot of
>>hints on the net concerning this error. But I did not find the right one
>>yet.
>> 
>>Many thanks and best regards
>>Martin
>>------------------------------------
>>Lichttechnik Martin Klingler
>>Spraidt 7
>>5271 Moosbach
>>AUSTRIA
>>Tel ++43-7724-443833
>>Fax ++43-7724-443838
>>email martin at lichttechnik.co.at
>
>


From martin at lichttechnik.co.at  Mon Oct 30 12:16:18 2017
From: martin at lichttechnik.co.at (Martin Klingler)
Date: Mon, 30 Oct 2017 20:16:18 +0100
Subject: [Radiance-general] Radiance in virtual Win 10
References: <D61CAC2E.2EC88%Robert.Guglielmetti@nrel.gov>
Message-ID: <3568637682481667918633@conserver>

Well that is a step. I just tested it, and I do not have the same error - that is fine.

?

But - I try to setup a virtual machine with Rhino/Grasshopper/Honeybee[+] and for that the latest version 5.1.0 is necessary. If Mostapha is reading this - is that true?

?

Looks like I have to find another solution.

?

Thank you very much in any case

Martin

------------------------------------

Lichttechnik Martin Klingler

Spraidt 7

5271 Moosbach

AUSTRIA

Tel ++43-7724-443833

Fax ++43-7724-443838

email martin at lichttechnik.co.at

?

Original Message

?

Subject:

Re: [Radiance-general] Radiance in virtual Win 10

Sent:

Montag, 30. Oktober 2017 17:34

From:

Guglielmetti, Robert (radiance-general at radiance-online.org)


Yeah, that sounds like a broader problem. =/ We have had some issues of
late, getting all the executables to work properly on Windows. Changes to
Qt versions and compilers have fixed some problems and introduced others.
We are working on it as we can, but for now your best bet is to use the
previous installer release (5.0.a.12), which you can grab here:
https://github.com/NREL/Radiance/releases/tag/5.0.a.12


On 10/30/17, 12:57 AM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:

>I did not check systematically. But I get it for rpict, rtrace, ies2rad,
>obj2rad, genclock, gendaylit, total, rlam, icalc, rcontrib, getinfo ... I
>have the
> feeling I will get it for all.
>
>Martin
>------------------------------------
>Lichttechnik Martin Klingler
>Spraidt 7
>5271 Moosbach
>AUSTRIA
>Tel ++43-7724-443833
>Fax ++43-7724-443838
>email martin at lichttechnik.co.at
>
>Original Message
>
>Subject:
>Re: [Radiance-general] Radiance in virtual Win 10
>Sent:
>Montag, 30. Oktober 2017 02:21
>From:
>Guglielmetti, Robert (Robert.Guglielmetti at nrel.gov)
>Are you getting this error for all the Radiance executables you try, or
>just one or more specific ones?
>
>- Rob
>
>On 10/29/17, 1:29 AM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:
>
>>Hi radiance community,
>>
>>I just tried to install radiance (NREL binaries 5.1.0) in a clean windows
>>10 64 bit virtual machine (Fusion 8.5.8). When I start a program from the
>>command
>> line I get the error "The application was unable to start correctly
>>0xc000007b".
>>
>>Does anybody have an idea what is going wrong here? There are a lot of
>>hints on the net concerning this error. But I did not find the right one
>>yet.
>>
>>Many thanks and best regards
>>Martin
>>------------------------------------
>>Lichttechnik Martin Klingler
>>Spraidt 7
>>5271 Moosbach
>>AUSTRIA
>>Tel ++43-7724-443833
>>Fax ++43-7724-443838
>>email martin at lichttechnik.co.at
>
>

_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171030/4c81e62f/attachment.html>

From Robert.Guglielmetti at nrel.gov  Mon Oct 30 12:30:49 2017
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Mon, 30 Oct 2017 19:30:49 +0000
Subject: [Radiance-general] Radiance in virtual Win 10
In-Reply-To: <3568637682481667918633@conserver>
References: <D61CAC2E.2EC88%Robert.Guglielmetti@nrel.gov>
 <3568637682481667918633@conserver>
Message-ID: <D61CD950.2ECAC%Robert.Guglielmetti@nrel.gov>

Unless Honeybee et al. tools are using the photon map stuff, there isn?t
much difference between 5.0.a.12 and 5.1.0 that would absolutely require
the latter. Mostapha, what?s the verdict there? I can try to expedite a
5.1.1 if you really need that version...

- Rob


On 10/30/17, 1:16 PM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:

>Well that is a step. I just tested it, and I do not have the same error -
>that is fine.
> 
>But - I try to setup a virtual machine with Rhino/Grasshopper/Honeybee[+]
>and for that the latest version 5.1.0 is necessary. If Mostapha is
>reading this -
> is that true?
> 
>Looks like I have to find another solution.
> 
>Thank you very much in any case
>Martin
>------------------------------------
>Lichttechnik Martin Klingler
>Spraidt 7
>5271 Moosbach
>AUSTRIA
>Tel ++43-7724-443833
>Fax ++43-7724-443838
>email martin at lichttechnik.co.at
> 
>Original Message
> 
>Subject:
>Re: [Radiance-general] Radiance in virtual Win 10
>Sent:
>Montag, 30. Oktober 2017 17:34
>From:
>Guglielmetti, Robert (radiance-general at radiance-online.org)
>Yeah, that sounds like a broader problem. =/ We have had some issues of
>late, getting all the executables to work properly on Windows. Changes to
>Qt versions and compilers have fixed some problems and introduced others.
>We are working on it as we can, but for now your best bet is to use the
>previous installer release (5.0.a.12), which you can grab here:
>https://github.com/NREL/Radiance/releases/tag/5.0.a.12
><https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.c
>om%2FNREL%2FRadiance%2Freleases%2Ftag%2F5.0.a.12&data=02%7C01%7Crobert.gug
>lielmetti%40nrel.gov%7C036b126a5c88496687e608d51fc9fa9d%7Ca0f29d7e28cd4f54
>84427885aee7c080%7C0%7C0%7C636449874712339144&sdata=wBLrLkuQIzLiJAq0mauVf%
>2BJsT5PdlmEB5p5KNLdlD%2FM%3D&reserved=0>
>
>
>On 10/30/17, 12:57 AM, "Martin Klingler" <martin at lichttechnik.co.at>
>wrote:
>
>>I did not check systematically. But I get it for rpict, rtrace, ies2rad,
>>obj2rad, genclock, gendaylit, total, rlam, icalc, rcontrib, getinfo ... I
>>have the
>> feeling I will get it for all.
>> 
>>Martin
>>------------------------------------
>>Lichttechnik Martin Klingler
>>Spraidt 7
>>5271 Moosbach
>>AUSTRIA
>>Tel ++43-7724-443833
>>Fax ++43-7724-443838
>>email martin at lichttechnik.co.at
>> 
>>Original Message
>> 
>>Subject:
>>Re: [Radiance-general] Radiance in virtual Win 10
>>Sent:
>>Montag, 30. Oktober 2017 02:21
>>From:
>>Guglielmetti, Robert (R
>><mailto:Robert.Guglielmetti at nrel.gov>obert.Guglie
>><mailto:Robert.Guglielmetti at nrel.gov>lmetti at nrel.gov
>><mailto:Robert.Guglielmetti at nrel.gov>)
>>Are you getting this error for all the Radiance executables you try, or
>>just one or more specific ones?
>>
>>- Rob
>>
>>On 10/29/17, 1:29 AM, "Martin Klingler" <martin at lichttechnik.co.at>
>>wrote:
>>
>>>Hi radiance community,
>>> 
>>>I just tried to install radiance (NREL binaries 5.1.0) in a clean
>>>windows
>>>10 64 bit virtual machine (Fusion 8.5.8). When I start a program from
>>>the
>>>command
>>> line I get the error "The application was unable to start correctly
>>>0xc000007b".
>>> 
>>>Does anybody have an idea what is going wrong here? There are a lot of
>>>hints on the net concerning this error. But I did not find the right one
>>>yet.
>>> 
>>>Many thanks and best regards
>>>Martin
>>>------------------------------------
>>>Lichttechnik Martin Klingler
>>>Spraidt 7
>>>5271 Moosbach
>>>AUSTRIA
>>>Tel ++43-7724-443833
>>>Fax ++43-7724-443838
>>>email martin at lichttechnik.co.at
>>
>>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>https://www.radiance-online.org/mailman/listinfo/radiance-general
><https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.radi
>ance-online.org%2Fmailman%2Flistinfo%2Fradiance-general&data=02%7C01%7Crob
>ert.guglielmetti%40nrel.gov%7C036b126a5c88496687e608d51fc9fa9d%7Ca0f29d7e2
>8cd4f5484427885aee7c080%7C0%7C0%7C636449874712339144&sdata=ikmi54c0EWaFOcv
>2BGTT%2FyRB4yI1eL9eRlPAfBW1vpE%3D&reserved=0>
>


From sadeghipour at gmail.com  Mon Oct 30 18:17:17 2017
From: sadeghipour at gmail.com (Mostapha Sadeghipour Roudsari)
Date: Mon, 30 Oct 2017 21:17:17 -0400
Subject: [Radiance-general] Radiance in virtual Win 10
In-Reply-To: <D61CD950.2ECAC%Robert.Guglielmetti@nrel.gov>
References: <D61CAC2E.2EC88%Robert.Guglielmetti@nrel.gov>
 <3568637682481667918633@conserver>
 <D61CD950.2ECAC%Robert.Guglielmetti@nrel.gov>
Message-ID: <CAAd_PgRoDnZpNpejs0rLDBdY-JMzTMC4eFKAAcxbt1mSxROBZA@mail.gmail.com>

Hi Rob and Martin,

Honeybee[+] doesn't currently deal with photon mapping. Version 5.0.a.12
should work fine with Honeybee[+].

Mostapha


On Mon, Oct 30, 2017 at 3:30 PM, Guglielmetti, Robert <
Robert.Guglielmetti at nrel.gov> wrote:

> Unless Honeybee et al. tools are using the photon map stuff, there isn?t
> much difference between 5.0.a.12 and 5.1.0 that would absolutely require
> the latter. Mostapha, what?s the verdict there? I can try to expedite a
> 5.1.1 if you really need that version...
>
> - Rob
>
>
> On 10/30/17, 1:16 PM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:
>
> >Well that is a step. I just tested it, and I do not have the same error -
> >that is fine.
> >
> >But - I try to setup a virtual machine with Rhino/Grasshopper/Honeybee[+]
> >and for that the latest version 5.1.0 is necessary. If Mostapha is
> >reading this -
> > is that true?
> >
> >Looks like I have to find another solution.
> >
> >Thank you very much in any case
> >Martin
> >------------------------------------
> >Lichttechnik Martin Klingler
> >Spraidt 7
> >5271 Moosbach
> >AUSTRIA
> >Tel ++43-7724-443833
> >Fax ++43-7724-443838
> >email martin at lichttechnik.co.at
> >
> >Original Message
> >
> >Subject:
> >Re: [Radiance-general] Radiance in virtual Win 10
> >Sent:
> >Montag, 30. Oktober 2017 17:34
> >From:
> >Guglielmetti, Robert (radiance-general at radiance-online.org)
> >Yeah, that sounds like a broader problem. =/ We have had some issues of
> >late, getting all the executables to work properly on Windows. Changes to
> >Qt versions and compilers have fixed some problems and introduced others.
> >We are working on it as we can, but for now your best bet is to use the
> >previous installer release (5.0.a.12), which you can grab here:
> >https://github.com/NREL/Radiance/releases/tag/5.0.a.12
> ><https://na01.safelinks.protection.outlook.com/?url=
> https%3A%2F%2Fgithub.c
> >om%2FNREL%2FRadiance%2Freleases%2Ftag%2F5.0.a.12&
> data=02%7C01%7Crobert.gug
> >lielmetti%40nrel.gov%7C036b126a5c88496687e608d51fc9
> fa9d%7Ca0f29d7e28cd4f54
> >84427885aee7c080%7C0%7C0%7C636449874712339144&sdata=
> wBLrLkuQIzLiJAq0mauVf%
> >2BJsT5PdlmEB5p5KNLdlD%2FM%3D&reserved=0>
> >
> >
> >On 10/30/17, 12:57 AM, "Martin Klingler" <martin at lichttechnik.co.at>
> >wrote:
> >
> >>I did not check systematically. But I get it for rpict, rtrace, ies2rad,
> >>obj2rad, genclock, gendaylit, total, rlam, icalc, rcontrib, getinfo ... I
> >>have the
> >> feeling I will get it for all.
> >>
> >>Martin
> >>------------------------------------
> >>Lichttechnik Martin Klingler
> >>Spraidt 7
> >>5271 Moosbach
> >>AUSTRIA
> >>Tel ++43-7724-443833
> >>Fax ++43-7724-443838
> >>email martin at lichttechnik.co.at
> >>
> >>Original Message
> >>
> >>Subject:
> >>Re: [Radiance-general] Radiance in virtual Win 10
> >>Sent:
> >>Montag, 30. Oktober 2017 02:21
> >>From:
> >>Guglielmetti, Robert (R
> >><mailto:Robert.Guglielmetti at nrel.gov>obert.Guglie
> >><mailto:Robert.Guglielmetti at nrel.gov>lmetti at nrel.gov
> >><mailto:Robert.Guglielmetti at nrel.gov>)
> >>Are you getting this error for all the Radiance executables you try, or
> >>just one or more specific ones?
> >>
> >>- Rob
> >>
> >>On 10/29/17, 1:29 AM, "Martin Klingler" <martin at lichttechnik.co.at>
> >>wrote:
> >>
> >>>Hi radiance community,
> >>>
> >>>I just tried to install radiance (NREL binaries 5.1.0) in a clean
> >>>windows
> >>>10 64 bit virtual machine (Fusion 8.5.8). When I start a program from
> >>>the
> >>>command
> >>> line I get the error "The application was unable to start correctly
> >>>0xc000007b".
> >>>
> >>>Does anybody have an idea what is going wrong here? There are a lot of
> >>>hints on the net concerning this error. But I did not find the right one
> >>>yet.
> >>>
> >>>Many thanks and best regards
> >>>Martin
> >>>------------------------------------
> >>>Lichttechnik Martin Klingler
> >>>Spraidt 7
> >>>5271 Moosbach
> >>>AUSTRIA
> >>>Tel ++43-7724-443833
> >>>Fax ++43-7724-443838
> >>>email martin at lichttechnik.co.at
> >>
> >>
> >
> >_______________________________________________
> >Radiance-general mailing list
> >Radiance-general at radiance-online.org
> >https://www.radiance-online.org/mailman/listinfo/radiance-general
> ><https://na01.safelinks.protection.outlook.com/?url=
> https%3A%2F%2Fwww.radi
> >ance-online.org%2Fmailman%2Flistinfo%2Fradiance-general&
> data=02%7C01%7Crob
> >ert.guglielmetti%40nrel.gov%7C036b126a5c88496687e608d51fc9
> fa9d%7Ca0f29d7e2
> >8cd4f5484427885aee7c080%7C0%7C0%7C636449874712339144&
> sdata=ikmi54c0EWaFOcv
> >2BGTT%2FyRB4yI1eL9eRlPAfBW1vpE%3D&reserved=0>
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171030/dbe6e339/attachment.html>

From martin at lichttechnik.co.at  Mon Oct 30 22:41:58 2017
From: martin at lichttechnik.co.at (Martin Klingler)
Date: Tue, 31 Oct 2017 06:41:58 +0100
Subject: [Radiance-general] Radiance in virtual Win 10
References: <CAAd_PgRoDnZpNpejs0rLDBdY-JMzTMC4eFKAAcxbt1mSxROBZA@mail.gmail.com>
Message-ID: <24081638579220394739@conserver>

Hi Rob and Mostapha,

that sounds great. I am out all the day but I will test as soon as possible and report back. Thank you very much.

Martin

Lichttechnik Martin Klingler
gesendet mit Consolidate Mobile 
Original Message

?

Subject:

Re: [Radiance-general] Radiance in virtual Win 10

From:

Mostapha Sadeghipour Roudsari ("radiance-general at radiance-online.org")


Hi Rob and Martin,

Honeybee[+] doesn't currently deal with photon mapping. Version 5.0.a.12 should work fine with Honeybee[+].

Mostapha


On Mon, Oct 30, 2017 at 3:30 PM, Guglielmetti, Robert <Robert.Guglielmetti at nrel.gov> wrote:
Unless Honeybee et al. tools are using the photon map stuff, there isn?t
much difference between 5.0.a.12 and 5.1.0 that would absolutely require
the latter. Mostapha, what?s the verdict there? I can try to expedite a
5.1.1 if you really need that version...

- Rob


On 10/30/17, 1:16 PM, "Martin Klingler" <martin at lichttechnik.co.at> wrote:

>Well that is a step. I just tested it, and I do not have the same error -
>that is fine.
>
>But - I try to setup a virtual machine with Rhino/Grasshopper/Honeybee[+]
>and for that the latest version 5.1.0 is necessary. If Mostapha is
>reading this -
> is that true?
>
>Looks like I have to find another solution.
>
>Thank you very much in any case
>Martin
>------------------------------------
>Lichttechnik Martin Klingler
>Spraidt 7
>5271 Moosbach
>AUSTRIA
>Tel ++43-7724-443833
>Fax ++43-7724-443838
>email martin at lichttechnik.co.at
>
>Original Message
>
>Subject:
>Re: [Radiance-general] Radiance in virtual Win 10
>Sent:
>Montag, 30. Oktober 2017 17:34
>From:
>Guglielmetti, Robert (radiance-general at radiance-online.org)
>Yeah, that sounds like a broader problem. =/ We have had some issues of
>late, getting all the executables to work properly on Windows. Changes to
>Qt versions and compilers have fixed some problems and introduced others.
>We are working on it as we can, but for now your best bet is to use the
>previous installer release (5.0.a.12), which you can grab here:
>https://github.com/NREL/Radiance/releases/tag/5.0.a.12
><https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.c
>om%2FNREL%2FRadiance%2Freleases%2Ftag%2F5.0.a.12&data=02%7C01%7Crobert.gug
>lielmetti%40nrel.gov%7C036b126a5c88496687e608d51fc9fa9d%7Ca0f29d7e28cd4f54
>84427885aee7c080%7C0%7C0%7C636449874712339144&sdata=wBLrLkuQIzLiJAq0mauVf%
>2BJsT5PdlmEB5p5KNLdlD%2FM%3D&reserved=0>
>
>
>On 10/30/17, 12:57 AM, "Martin Klingler" <martin at lichttechnik.co.at>
>wrote:
>
>>I did not check systematically. But I get it for rpict, rtrace, ies2rad,
>>obj2rad, genclock, gendaylit, total, rlam, icalc, rcontrib, getinfo ... I
>>have the
>> feeling I will get it for all.
>>
>>Martin
>>------------------------------------
>>Lichttechnik Martin Klingler
>>Spraidt 7
>>5271 Moosbach
>>AUSTRIA
>>Tel ++43-7724-443833
>>Fax ++43-7724-443838
>>email martin at lichttechnik.co.at
>>
>>Original Message
>>
>>Subject:
>>Re: [Radiance-general] Radiance in virtual Win 10
>>Sent:
>>Montag, 30. Oktober 2017 02:21
>>From:
>>Guglielmetti, Robert (R
>><mailto:Robert.Guglielmetti at nrel.gov>obert.Guglie
>><mailto:Robert.Guglielmetti at nrel.gov>lmetti at nrel.gov
>><mailto:Robert.Guglielmetti at nrel.gov>)
>>Are you getting this error for all the Radiance executables you try, or
>>just one or more specific ones?
>>
>>- Rob
>>
>>On 10/29/17, 1:29 AM, "Martin Klingler" <martin at lichttechnik.co.at>
>>wrote:
>>
>>>Hi radiance community,
>>>
>>>I just tried to install radiance (NREL binaries 5.1.0) in a clean
>>>windows
>>>10 64 bit virtual machine (Fusion 8.5.8). When I start a program from
>>>the
>>>command
>>> line I get the error "The application was unable to start correctly
>>>0xc000007b".
>>>
>>>Does anybody have an idea what is going wrong here? There are a lot of
>>>hints on the net concerning this error. But I did not find the right one
>>>yet.
>>>
>>>Many thanks and best regards
>>>Martin
>>>------------------------------------
>>>Lichttechnik Martin Klingler
>>>Spraidt 7
>>>5271 Moosbach
>>>AUSTRIA
>>>Tel ++43-7724-443833
>>>Fax ++43-7724-443838
>>>email martin at lichttechnik.co.at
>>
>>
>
>_______________________________________________
>Radiance-general mailing list
>Radiance-general at radiance-online.org
>https://www.radiance-online.org/mailman/listinfo/radiance-general
><https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.radi
>ance-online.org%2Fmailman%2Flistinfo%2Fradiance-general&data=02%7C01%7Crob
>ert.guglielmetti%40nrel.gov%7C036b126a5c88496687e608d51fc9fa9d%7Ca0f29d7e2
>8cd4f5484427885aee7c080%7C0%7C0%7C636449874712339144&sdata=ikmi54c0EWaFOcv
>2BGTT%2FyRB4yI1eL9eRlPAfBW1vpE%3D&reserved=0>
>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171031/3d7246d5/attachment-0001.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: attachedFile.txt
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20171031/3d7246d5/attachment-0001.txt>

