From wangjuncwz at hotmail.com  Wed Jan 10 19:00:59 2018
From: wangjuncwz at hotmail.com (Wang Clarence)
Date: Thu, 11 Jan 2018 03:00:59 +0000
Subject: [Radiance-general] Gendaymtx segmentation faults
Message-ID: <HK2PR01MB110601C565C18333E5DA88D7CF160@HK2PR01MB1106.apcprd01.prod.exchangelabs.com>

Hi all,

I was executing "gendaymtx" to run the wea file where contained numerous data, but I always got stuck by core dumped like:

Segmentation fault (core dumped) gendaymtx -m 6 a.wea > a.smx

How many data could be running through "gendaymtx"? Or any other suggestions?

Thanks,

Clarence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180111/68b559d5/attachment.html>

From Robert.Guglielmetti at nrel.gov  Tue Jan 16 11:35:39 2018
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Tue, 16 Jan 2018 19:35:39 +0000
Subject: [Radiance-general] New Radiance Packages on GitHub/NREL
Message-ID: <F0AB7E84-6A73-4B59-943E-4CCF76EDFE8F@nrel.gov>

I am delighted to announce the availability of a fresh set of Radiance installers (MacOS, linux and Windows) on NREL?s GitHub site, here:

https://github.com/NREL/Radiance/releases/tag/5.2.0

This is the first release we?ve done since the official release, posted during the Radiance Workshop back in September of 2017. The reason for my delight is that we have completely revamped the CMake build files, allowing for much more reliable automated building AND testing of the Radiance source code. NREL now has a CI (continuous integration) server set up in-house as well, which performs a full build and test of the entire Radiance source tree upon every new commit. ASSuming successful testing, installers are automatically rolled out. I am still manually posting new release installers, but I will be doing them on a more frequent schedule from here on out ? likely coinciding with OpenStudio quarterly releases. 

Note we have also abandoned the ?combined? branch on the GitHub mirror, letting branch ?master? reflect the current status of cvs ?HEAD?. We have updated/fixed the very small and not terribly rigorous set of tests (ctest) on the repository, as well as added some resource files for them, and relocated all of that to /resources in the source tree. I hope to add some documentation on the use of the CMake system at some point, but hopefully our more frequent updates will suffice for most. The CI server itself is and will likely remain private, but we will be posting the automated build/test results to the GitHub mirror soon so you all can follow along. =) 

A big shout-out to Alex Swindler at NREL for setting this all up! 

- Rob


From gregoryjward at gmail.com  Tue Jan 16 12:07:23 2018
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 16 Jan 2018 12:07:23 -0800
Subject: [Radiance-general] New Radiance Packages on GitHub/NREL
In-Reply-To: <F0AB7E84-6A73-4B59-943E-4CCF76EDFE8F@nrel.gov>
References: <F0AB7E84-6A73-4B59-943E-4CCF76EDFE8F@nrel.gov>
Message-ID: <57CB2CAE-975B-4DAF-8CE2-AEB05E263BD4@lmi.net>

Great work and copious thanks to Rob & Alex!

Just wanted to add that the automated testing already prevented us from releasing a buggy version of falsecolor yesterday, so Huzzah for the new facility!

-Greg

> From: "Guglielmetti, Robert" <Robert.Guglielmetti at nrel.gov>
> Date: January 16, 2018 11:35:39 AM PST
> 
> I am delighted to announce the availability of a fresh set of Radiance installers (MacOS, linux and Windows) on NREL?s GitHub site, here:
> 
> https://github.com/NREL/Radiance/releases/tag/5.2.0
> 
> This is the first release we?ve done since the official release, posted during the Radiance Workshop back in September of 2017. The reason for my delight is that we have completely revamped the CMake build files, allowing for much more reliable automated building AND testing of the Radiance source code. NREL now has a CI (continuous integration) server set up in-house as well, which performs a full build and test of the entire Radiance source tree upon every new commit. ASSuming successful testing, installers are automatically rolled out. I am still manually posting new release installers, but I will be doing them on a more frequent schedule from here on out ? likely coinciding with OpenStudio quarterly releases. 
> 
> Note we have also abandoned the ?combined? branch on the GitHub mirror, letting branch ?master? reflect the current status of cvs ?HEAD?. We have updated/fixed the very small and not terribly rigorous set of tests (ctest) on the repository, as well as added some resource files for them, and relocated all of that to /resources in the source tree. I hope to add some documentation on the use of the CMake system at some point, but hopefully our more frequent updates will suffice for most. The CI server itself is and will likely remain private, but we will be posting the automated build/test results to the GitHub mirror soon so you all can follow along. =) 
> 
> A big shout-out to Alex Swindler at NREL for setting this all up! 
> 
> - Rob


From koji_takemasa at me.com  Sat Jan 20 19:13:23 2018
From: koji_takemasa at me.com (Koji Takemasa)
Date: Sun, 21 Jan 2018 12:13:23 +0900
Subject: [Radiance-general] su2rad
Message-ID: <4f47f540-f58a-ca23-fe12-1e4cf813bfe5@me.com>

Hi All

I used su2rad to create a Radiance model with SketchUp. However, if you 
use su2trad with SketchUp 2016 SketchUp 2016 hangs up.

Is not there a new su2rad?

Regards,

-- 
Name : Koji Takemasa ( Ph.D. )
Mail : koji_takemasa at me.com
( http://www.lead-labo.jp/ )
-------------------------------



From tbleicher at gmail.com  Sat Jan 20 20:53:05 2018
From: tbleicher at gmail.com (Thomas Bleicher)
Date: Sat, 20 Jan 2018 23:53:05 -0500
Subject: [Radiance-general] su2rad
In-Reply-To: <4f47f540-f58a-ca23-fe12-1e4cf813bfe5@me.com>
References: <4f47f540-f58a-ca23-fe12-1e4cf813bfe5@me.com>
Message-ID: <CAKGV-k3Pr7fO98725NVE3NAEj-ftS1w62N56VJP447zfOdgjBA@mail.gmail.com>

Koji

The latest release is su2rad 2014. I have tested it with occasionally with
new SketchUp released up to 2017 and didn't find significant issues that
required updates. There may be new issues with specific models that did not
manifest itself before. You can try and downgrade your model and use an
older version of SketchUp to do the export. Also open the Ruby console
before you run the export script. You will see some logging and potential
error messages from the export.

You can find the latest version of su2rad here:

https://github.com/tbleicher/su2rad/releases

Regards,
Thomas

On Sat, Jan 20, 2018 at 10:13 PM, Koji Takemasa <koji_takemasa at me.com>
wrote:

> Hi All
>
> I used su2rad to create a Radiance model with SketchUp. However, if you
> use su2trad with SketchUp 2016 SketchUp 2016 hangs up.
>
> Is not there a new su2rad?
>
> Regards,
>
> --
> Name : Koji Takemasa ( Ph.D. )
> Mail : koji_takemasa at me.com
> ( http://www.lead-labo.jp/ )
> -------------------------------
>
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180120/b5aca83b/attachment.html>

From koji_takemasa at me.com  Sat Jan 20 22:29:35 2018
From: koji_takemasa at me.com (=?utf-8?B?5q2m5pS/5a2d5rK7?=)
Date: Sun, 21 Jan 2018 15:29:35 +0900
Subject: [Radiance-general] su2rad
In-Reply-To: <CAKGV-k3Pr7fO98725NVE3NAEj-ftS1w62N56VJP447zfOdgjBA@mail.gmail.com>
References: <4f47f540-f58a-ca23-fe12-1e4cf813bfe5@me.com>
 <CAKGV-k3Pr7fO98725NVE3NAEj-ftS1w62N56VJP447zfOdgjBA@mail.gmail.com>
Message-ID: <1439B3D3-EDD5-45A0-9318-4DE035D643E2@me.com>

Hi. Thomas

Thank you for your quick reply. There was no problem with macOS and SketchUp 2017. I also check Windows.

Regards,



koji_takemasa at me.com




> 2018/01/21 13:53?Thomas Bleicher <tbleicher at gmail.com>????:
> 
> Koji
> 
> The latest release is su2rad 2014. I have tested it with occasionally with new SketchUp released up to 2017 and didn't find significant issues that required updates. There may be new issues with specific models that did not manifest itself before. You can try and downgrade your model and use an older version of SketchUp to do the export. Also open the Ruby console before you run the export script. You will see some logging and potential error messages from the export. 
> 
> You can find the latest version of su2rad here:
> 
> https://github.com/tbleicher/su2rad/releases <https://github.com/tbleicher/su2rad/releases>
> 
> Regards,
> Thomas 
> 
> On Sat, Jan 20, 2018 at 10:13 PM, Koji Takemasa <koji_takemasa at me.com <mailto:koji_takemasa at me.com>> wrote:
> Hi All
> 
> I used su2rad to create a Radiance model with SketchUp. However, if you use su2trad with SketchUp 2016 SketchUp 2016 hangs up.
> 
> Is not there a new su2rad?
> 
> Regards,
> 
> -- 
> Name : Koji Takemasa ( Ph.D. )
> Mail : koji_takemasa at me.com <mailto:koji_takemasa at me.com>
> ( http://www.lead-labo.jp/ <http://www.lead-labo.jp/> )
> -------------------------------
> 
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org <mailto:Radiance-general at radiance-online.org>
> https://www.radiance-online.org/mailman/listinfo/radiance-general <https://www.radiance-online.org/mailman/listinfo/radiance-general>
> 
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180121/3c78d599/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PastedGraphic-1.tiff
Type: image/tiff
Size: 10154 bytes
Desc: not available
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180121/3c78d599/attachment-0001.tiff>

From sandi.sirikhanchai at hotmail.co.nz  Mon Jan 22 15:14:41 2018
From: sandi.sirikhanchai at hotmail.co.nz (Sandi Sirikhanchai)
Date: Mon, 22 Jan 2018 23:14:41 +0000
Subject: [Radiance-general] Two windows different directions Three Phase
 simulation
Message-ID: <SY2PR01MB258554E6803877C2D0A9F57BC9EC0@SY2PR01MB2585.ausprd01.prod.outlook.com>

Hello everyone,

I am working through re-simulating existing radiance models that were created in another programme and wanted to check if I am using the right method.

The files that I have received are 1 radiance model, 2 material files, and a range of bsdf files. (There are no window glow files for creating a view matrix or sky.rad files). The model has two windows, one faces north and one south and having these two windows is tripping me up a bit.

So overall, I have to create one sky matrix, two view matrices and two daylight matrices? Is this correct?

To make the view matrix I am using the command:
rcontrib -f klems_int.cal -bn Nkbins -fo -o results\photocells_%s.vmx -b kbinS -m windowsouth -b kbinN -m windownorth -I+ -ab 12 -ad 5000 -lw 2e-5 model2windows.oct < points.pts

in which %s should generate two files, but when I run it only generates one. Because of this I ran the command twice ? one for the north window and one for the south window.

To make the daylight matrix for each window I used two commands to make each matrix:
rfluxmtx north.rad sky.rad material_detailed.rad materialsAliasesDetailed.rad radmodel.rad > north_dmx.dmx

rfluxmtx south.rad sky.rad material_detailed.rad materialsAliasesDetailed.rad radmodel.rad > south_dmx.dmx

Then I combine the matrices for the north window together and then south window together and then add together?

I would also like to know whether the window glow that needs to be inwards facing to create a view matrix can be in the same plane as the windows in the radiance model or if I can have it a couple millimetres in front of the radiance model window. It will mean I have two material directly on each other.

Any clarifications/comments would be very much appreciated.

Many thanks,
Sandi


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180122/2f6abc4f/attachment.html>

From gregoryjward at gmail.com  Mon Jan 22 19:13:29 2018
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 22 Jan 2018 19:13:29 -0800
Subject: [Radiance-general] Two windows different directions Three Phase
 simulation
In-Reply-To: <SY2PR01MB258554E6803877C2D0A9F57BC9EC0@SY2PR01MB2585.ausprd01.prod.outlook.com>
References: <SY2PR01MB258554E6803877C2D0A9F57BC9EC0@SY2PR01MB2585.ausprd01.prod.outlook.com>
Message-ID: <94ECCE3A-7853-402A-B43C-81399CB30504@lmi.net>

Hi Sandi,

I'm not spotting anything obvious wrong with your Radiance commands.  I would also expect your first rcontrib command to generate two view matrix files.  The "klems_int.cal" file has been superseded in recent years by "klems_full.cal", which should have the same functionality in this application.  Which version of Radiance are you using? (I.e., what does "rcontrib -version" say?)    If you are not on 5.1, you might download the latest installer from NREL.

Are your window surface normals both facing into the room, and are windowsouth and windownorth defined as "glow" or "light" materials?

To combine the north and south window contributions, you want to run dctimestep on each, combining your sky matrix or vector with the appropriate BTDF per window to obtain the partial irradiance values at your sensor points.  These may then be added together and converted to illuminance using rmtxop.  If you are having trouble with this part, send the list of commands and file names you have working, and we can put together the final bits.

Are you working from Sarith's tutorial <https://www.radiance-online.org/learning/tutorials/matrix-based-methods> ?  This is the most comprehensive directions we have available.

Best,
-Greg

> From: Sandi Sirikhanchai <sandi.sirikhanchai at hotmail.co.nz>
> Date: January 22, 2018 3:14:41 PM PST
> 
> Hello everyone,
>  
> I am working through re-simulating existing radiance models that were created in another programme and wanted to check if I am using the right method.
>  
> The files that I have received are 1 radiance model, 2 material files, and a range of bsdf files. (There are no window glow files for creating a view matrix or sky.rad files). The model has two windows, one faces north and one south and having these two windows is tripping me up a bit.
>  
> So overall, I have to create one sky matrix, two view matrices and two daylight matrices? Is this correct?
>  
> To make the view matrix I am using the command:
> rcontrib -f klems_int.cal -bn Nkbins -fo -o results\photocells_%s.vmx -b kbinS -m windowsouth -b kbinN -m windownorth -I+ -ab 12 -ad 5000 -lw 2e-5 model2windows.oct < points.pts
>  
> in which %s should generate two files, but when I run it only generates one. Because of this I ran the command twice ? one for the north window and one for the south window.
>  
> To make the daylight matrix for each window I used two commands to make each matrix:   
> rfluxmtx north.rad sky.rad material_detailed.rad materialsAliasesDetailed.rad radmodel.rad > north_dmx.dmx
>  
> rfluxmtx south.rad sky.rad material_detailed.rad materialsAliasesDetailed.rad radmodel.rad > south_dmx.dmx
>  
> Then I combine the matrices for the north window together and then south window together and then add together?
>  
> I would also like to know whether the window glow that needs to be inwards facing to create a view matrix can be in the same plane as the windows in the radiance model or if I can have it a couple millimetres in front of the radiance model window. It will mean I have two material directly on each other.
>  
> Any clarifications/comments would be very much appreciated.
>  
> Many thanks,
> Sandi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180122/7f780d2c/attachment.html>

From gregoryjward at gmail.com  Mon Jan 22 19:20:26 2018
From: gregoryjward at gmail.com (Gregory J. Ward)
Date: Mon, 22 Jan 2018 19:20:26 -0800
Subject: [Radiance-general] Two windows different directions Three Phase
 simulation
In-Reply-To: <94ECCE3A-7853-402A-B43C-81399CB30504@lmi.net>
References: <SY2PR01MB258554E6803877C2D0A9F57BC9EC0@SY2PR01MB2585.ausprd01.prod.outlook.com>
 <94ECCE3A-7853-402A-B43C-81399CB30504@lmi.net>
Message-ID: <4DC9CA8F-B476-4982-B0F8-2C755FCBA2B2@gmail.com>

P.S.  Forgot to answer your final question.  You can place your receiver surface slightly in front of your window -- you are right that you don't want it in the same plane as another surface with a different material.  This would definitely mess things up.  You can re-use the same inward-facing surface as used for the view matrix receiver as a sender in the rfluxmtx command, and the material type will be ignored.  Having this surface a little inside the window will include the window in the daylight matrix.  If you want its influence in the view matrix, you can put your glow/light surface just outside the window, still with its surface normal facing into the room.  This would be appropriate if you wanted to use a BTDF for an exterior shading system, for example.

From Sandi.Sirikhanchai at hotmail.co.nz  Mon Jan 22 23:32:50 2018
From: Sandi.Sirikhanchai at hotmail.co.nz (Sandi Sirikhanchai)
Date: Tue, 23 Jan 2018 07:32:50 +0000
Subject: [Radiance-general] Two windows different directions Three Phase
 simulation
In-Reply-To: <4DC9CA8F-B476-4982-B0F8-2C755FCBA2B2@gmail.com>
References: <SY2PR01MB258554E6803877C2D0A9F57BC9EC0@SY2PR01MB2585.ausprd01.prod.outlook.com>
 <94ECCE3A-7853-402A-B43C-81399CB30504@lmi.net>,
 <4DC9CA8F-B476-4982-B0F8-2C755FCBA2B2@gmail.com>
Message-ID: <ME2PR01MB2578571D451F91ADE37956EBC9E30@ME2PR01MB2578.ausprd01.prod.outlook.com>

Hi Greg,



I am using 5.2, I will try with ?klems_full.cal? and the windows are defined as ?glow?.



I will definitely give the multiplication and addition a good go myself first but thank you for letting me know.



Yes, I am going between Sarith?s tutorial and Andy?s gitbook tutorial.



Your explanation to my final questions is incredibly helpful!



In regards to the multiplication of matrices, I am just testing with one window at the moment and I have an error that says ?unexpected column count in header?.

The view matrix has 13 rows and 145 columns

The daylight matrix has 145 rows and 2306 columns

The sky matrix has 146 rows and 8760 columns (but there is only 3 columns (RGB) and many many rows)

And the BTDF is in its own different format.



Should the sky matrix say 146? Or 145? My command to create a smx is: ?gendaymtx albany.wea > albany.smx?.



Thank you for your help.



Kind regards,

Sandi





________________________________
From: Gregory J. Ward <gregoryjward at gmail.com>
Sent: Tuesday, January 23, 2018 4:20:26 PM
To: Radiance general discussion
Subject: Re: [Radiance-general] Two windows different directions Three Phase simulation

P.S.  Forgot to answer your final question.  You can place your receiver surface slightly in front of your window -- you are right that you don't want it in the same plane as another surface with a different material.  This would definitely mess things up.  You can re-use the same inward-facing surface as used for the view matrix receiver as a sender in the rfluxmtx command, and the material type will be ignored.  Having this surface a little inside the window will include the window in the daylight matrix.  If you want its influence in the view matrix, you can put your glow/light surface just outside the window, still with its surface normal facing into the room.  This would be appropriate if you wanted to use a BTDF for an exterior shading system, for example.
_______________________________________________
Radiance-general mailing list
Radiance-general at radiance-online.org
https://www.radiance-online.org/mailman/listinfo/radiance-general
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180123/ae02f8c8/attachment.html>

From gregoryjward at gmail.com  Tue Jan 23 09:28:30 2018
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 23 Jan 2018 09:28:30 -0800
Subject: [Radiance-general] Two windows different directions Three Phase
 simulation
In-Reply-To: <ME2PR01MB2578571D451F91ADE37956EBC9E30@ME2PR01MB2578.ausprd01.prod.outlook.com>
References: <SY2PR01MB258554E6803877C2D0A9F57BC9EC0@SY2PR01MB2585.ausprd01.prod.outlook.com>
 <94ECCE3A-7853-402A-B43C-81399CB30504@lmi.net>,
 <4DC9CA8F-B476-4982-B0F8-2C755FCBA2B2@gmail.com>
 <ME2PR01MB2578571D451F91ADE37956EBC9E30@ME2PR01MB2578.ausprd01.prod.outlook.com>
Message-ID: <0B296633-400F-4589-8B26-6B7266E90FAE@lmi.net>

Hi Sandi,

The output of gendaymtx has 146 columns because the first column corresponds to the ground plane, and this is needed for a full calculation.  However, you need to create your daylight matrix in the right way to make use of this.  I believe this is explained in Sarith's tutorial, and also in my 2013 rfluxmtx introduction, below.  Pay special attention to slide 42:

	https://www.radiance-online.org/community/workshops/2013-golden-co/Ward-RadianceImprovements.pdf

It can also help to give a -y option in your view matrix calculation, corresponding to the number of sensor points (-y 13).  I don't think it's required the way you are doing things, but rmtxop (for example) requires the number of rows and columns to be spelled out in the header.  Note that this overrides the actual line breaks in the file, making files like the output of gendaymtx a little more readable.  (8760x3 columns are a bit much for some line-based editors.)

Cheers,
-Greg

> From: Sandi Sirikhanchai <Sandi.Sirikhanchai at hotmail.co.nz>
> Date: January 22, 2018 11:32:50 PM PST
> 
> Hi Greg,
>  
> I am using 5.2, I will try with ?klems_full.cal? and the windows are defined as ?glow?.
>  
> I will definitely give the multiplication and addition a good go myself first but thank you for letting me know.
>  
> Yes, I am going between Sarith?s tutorial and Andy?s gitbook tutorial.
>  
> Your explanation to my final questions is incredibly helpful!
>  
> In regards to the multiplication of matrices, I am just testing with one window at the moment and I have an error that says ?unexpected column count in header?.
> The view matrix has 13 rows and 145 columns
> The daylight matrix has 145 rows and 2306 columns
> The sky matrix has 146 rows and 8760 columns (but there is only 3 columns (RGB) and many many rows)
> And the BTDF is in its own different format.
>  
> Should the sky matrix say 146? Or 145? My command to create a smx is: ?gendaymtx albany.wea > albany.smx?.
>  
> Thank you for your help.
>  
> Kind regards,
> Sandi
>  
> From: Gregory J. Ward <gregoryjward at gmail.com>
> Sent: Tuesday, January 23, 2018 4:20:26 PM
>  
> P.S.  Forgot to answer your final question.  You can place your receiver surface slightly in front of your window -- you are right that you don't want it in the same plane as another surface with a different material.  This would definitely mess things up.  You can re-use the same inward-facing surface as used for the view matrix receiver as a sender in the rfluxmtx command, and the material type will be ignored.  Having this surface a little inside the window will include the window in the daylight matrix.  If you want its influence in the view matrix, you can put your glow/light surface just outside the window, still with its surface normal facing into the room.  This would be appropriate if you wanted to use a BTDF for an exterior shading system, for example.
> _______________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180123/144b5777/attachment.html>

From thompson at cs.utah.edu  Wed Jan 24 14:02:39 2018
From: thompson at cs.utah.edu (William Thompson)
Date: Wed, 24 Jan 2018 15:02:39 -0700
Subject: [Radiance-general] Radiance conversion routines
Message-ID: <3712a07e-0012-1f45-d5f8-56f77c0ad14e@cs.utah.edu>

As part of a project to support the analysis of architectural designs to 
identify potential mobility hazards to those with significant low 
vision, I wrote routines for converting Radiance .hdr files to PNG, 
JPEG, or TIFF formats. 
<https://github.com/visual-accessibility/radiance-conversion> has 
build-from-sources for Linux and MacOS, plus pre-compiled binaries for 
Windows.

If you are interested in the project itself, see 
<https://www.osapublishing.org/josaa/abstract.cfm?uri=josaa-34-4-583>.

	- Bill


From Robert.Guglielmetti at nrel.gov  Wed Jan 24 14:41:05 2018
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Wed, 24 Jan 2018 22:41:05 +0000
Subject: [Radiance-general] Radiance conversion routines
In-Reply-To: <3712a07e-0012-1f45-d5f8-56f77c0ad14e@cs.utah.edu>
References: <3712a07e-0012-1f45-d5f8-56f77c0ad14e@cs.utah.edu>
Message-ID: <ACF56AFF-3224-4D58-9EF6-B34A48941479@nrel.gov>

+1 for this, Bill! 

I played with the radiance-hdr-to-png translator and it's great.

- Rob



?On 1/24/18, 3:08 PM, "William Thompson" <thompson at cs.utah.edu> wrote:

    As part of a project to support the analysis of architectural designs to 
    identify potential mobility hazards to those with significant low 
    vision, I wrote routines for converting Radiance .hdr files to PNG, 
    JPEG, or TIFF formats. 
    <https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fvisual-accessibility%2Fradiance-conversion&data=02%7C01%7Crobert.guglielmetti%40nrel.gov%7Cc0f61b8d347f45810c0908d563770452%7Ca0f29d7e28cd4f5484427885aee7c080%7C0%7C0%7C636524285182816281&sdata=FDNQ7r02%2FNk4qOuroqtMl7FUb4Le3I0Y9nH6geD1hDY%3D&reserved=0> has 
    build-from-sources for Linux and MacOS, plus pre-compiled binaries for 
    Windows.
    
    If you are interested in the project itself, see 
    <https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.osapublishing.org%2Fjosaa%2Fabstract.cfm%3Furi%3Djosaa-34-4-583&data=02%7C01%7Crobert.guglielmetti%40nrel.gov%7Cc0f61b8d347f45810c0908d563770452%7Ca0f29d7e28cd4f5484427885aee7c080%7C0%7C0%7C636524285182816281&sdata=VXfk0OkAUum4gwpdUhIA1SeupmCmpRv4oy4TVETHrQo%3D&reserved=0>.
    
    	- Bill
     


From kaiktsang4-c at my.cityu.edu.hk  Fri Jan 26 09:25:01 2018
From: kaiktsang4-c at my.cityu.edu.hk (TSANG Kai Kwong)
Date: Fri, 26 Jan 2018 17:25:01 +0000
Subject: [Radiance-general] Diffuse illuminance
Message-ID: <PS1PR0401MB2155E4F5F6F786B508CDD559D8E00@PS1PR0401MB2155.apcprd04.prod.outlook.com>

Dear all,

If I want to calculate the diffuse illuminance resulted in at a point inside a room, do I just need to remove the "void light solar" and "solar source sun" from the sky.rad and run the simulation?

Best regards,
Dennis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180126/6cea75dd/attachment.html>

From Robert.Guglielmetti at nrel.gov  Fri Jan 26 09:50:03 2018
From: Robert.Guglielmetti at nrel.gov (Guglielmetti, Robert)
Date: Fri, 26 Jan 2018 17:50:03 +0000
Subject: [Radiance-general] Diffuse illuminance
Message-ID: <C0871D4C-E83B-4D52-B13B-4B22F61C333D@nrel.gov>

Actually, you need the sun to produce the initial light, to be bounced around for the diffuse. So the basic idea is (props to Andy McNeill) you do a "normal" simulation with a full sun and sky, and then a second one with JUST the sun, and then subtract the latter from the former, to get the diffuse-only. The details are in Sarith's turotial, here: https://www.radiance-online.org/learning/tutorials/matrix-based-methods

- Rob



?On 1/26/18, 10:32 AM, "TSANG Kai Kwong" <kaiktsang4-c at my.cityu.edu.hk> wrote:

    Dear all,
    
    If I want to calculate the diffuse illuminance resulted in at a point inside a room, do I just need to remove the "void light solar" and "solar source sun" from the sky.rad and run the simulation?
    
    Best regards,
    Dennis
    
    


From Christopher.Rush at arup.com  Fri Jan 26 09:50:05 2018
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Fri, 26 Jan 2018 17:50:05 +0000
Subject: [Radiance-general] Diffuse illuminance
In-Reply-To: <PS1PR0401MB2155E4F5F6F786B508CDD559D8E00@PS1PR0401MB2155.apcprd04.prod.outlook.com>
References: <PS1PR0401MB2155E4F5F6F786B508CDD559D8E00@PS1PR0401MB2155.apcprd04.prod.outlook.com>
Message-ID: <88079A360FAC7441AE93ECBF6199823657C38A0A@AMXExMb02.global.arup.com>

How did you generate your sky definition? If it's from gensky you could just generate it using the -c, -i, -s, or -u options. The -c is the only one of these that is a representation of a somewhat realistic scene - completely overcast sky (inherently without direct sun). From the gensky manual page:

-s Sunny sky without sun. The sky distribution will correspond to a standard CIE clear day.
+s Sunny sky with sun. In addition to the sky distribution function, a source description of the sun is generated.
-c Cloudy sky. The sky distribution will correspond to a standard CIE overcast day.
-i Intermediate sky without sun. The sky will correspond to a standard CIE intermediate day.
+i Intermediate sky with sun. In addition to the sky distribution, a (somewhat subdued) sun is generated.
-u Uniform cloudy sky. The sky distribution will be completely uniform.

-Chris

From: TSANG Kai Kwong [mailto:kaiktsang4-c at my.cityu.edu.hk]
Sent: Friday, January 26, 2018 12:25 PM
To: radiance-general at radiance-online.org
Subject: [Radiance-general] Diffuse illuminance


Dear all,

If I want to calculate the diffuse illuminance resulted in at a point inside a room, do I just need to remove the "void light solar" and "solar source sun" from the sky.rad and run the simulation?

Best regards,
Dennis
____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180126/1f3fb8af/attachment-0001.html>

From germolinal at gmail.com  Fri Jan 26 12:13:22 2018
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Fri, 26 Jan 2018 17:13:22 -0300
Subject: [Radiance-general] Diffuse illuminance
In-Reply-To: <88079A360FAC7441AE93ECBF6199823657C38A0A@AMXExMb02.global.arup.com>
References: <PS1PR0401MB2155E4F5F6F786B508CDD559D8E00@PS1PR0401MB2155.apcprd04.prod.outlook.com>
 <88079A360FAC7441AE93ECBF6199823657C38A0A@AMXExMb02.global.arup.com>
Message-ID: <CAF-iH4LgT-Ga9MDE5rDi4WQpbgQSkSGGoWdjGMj-LC=q8BDxpQ@mail.gmail.com>

Hello Dennis,

If you want to calculate the "illuminance generated by the Skie's diffuse
illuminance", you can do what Christopher is suggesting. However, if you
want to also include the diffuse illuminance generated by, for example,
direct sun reflected on surface, the task is somehow harder.

In that case, I would calculate total illuminance (i.e. rtrace < points.pt
> -I+ -ab 4 -ad 5000 ... octree.oct > total_illuminance.txt); and then
substract the direct one (rtrace < points.pt > I+ -*ab 0 octree.oct *>
direct_illuminance ) and then substract (diffuse = total_illumiannce-
direct_illuminance)

I hope that helps!

German

2018-01-26 14:50 GMT-03:00 Christopher Rush <Christopher.Rush at arup.com>:

> How did you generate your sky definition? If it?s from gensky you could
> just generate it using the -c, -i, -s, or -u options. The -c is the only
> one of these that is a representation of a somewhat realistic scene ?
> completely overcast sky (inherently without direct sun). From the gensky
> manual page:
>
>
>
> -s Sunny sky without sun. The sky distribution will correspond to a
> standard CIE clear day.
>
> +s Sunny sky with sun. In addition to the sky distribution function, a
> source description of the sun is generated.
>
> -c Cloudy sky. The sky distribution will correspond to a standard CIE
> overcast day.
>
> -i Intermediate sky without sun. The sky will correspond to a standard CIE
> intermediate day.
>
> +i Intermediate sky with sun. In addition to the sky distribution, a
> (somewhat subdued) sun is generated.
>
> -u Uniform cloudy sky. The sky distribution will be completely uniform.
>
>
>
> -Chris
>
>
>
> *From:* TSANG Kai Kwong [mailto:kaiktsang4-c at my.cityu.edu.hk]
> *Sent:* Friday, January 26, 2018 12:25 PM
> *To:* radiance-general at radiance-online.org
> *Subject:* [Radiance-general] Diffuse illuminance
>
>
>
> Dear all,
>
> If I want to calculate the diffuse illuminance resulted in at a point
> inside a room, do I just need to remove the "void light solar" and "solar
> source sun" from the sky.rad and run the simulation?
>
> Best regards,
> Dennis
>
> ____________________________________________________________
> Electronic mail messages entering and leaving Arup business
> systems are scanned for viruses and acceptability of content
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180126/536a5328/attachment.html>

From Sandi.Sirikhanchai at hotmail.co.nz  Fri Jan 26 15:03:44 2018
From: Sandi.Sirikhanchai at hotmail.co.nz (Sandi Sirikhanchai)
Date: Fri, 26 Jan 2018 23:03:44 +0000
Subject: [Radiance-general] Two windows different directions Three Phase
 simulation
In-Reply-To: <0B296633-400F-4589-8B26-6B7266E90FAE@lmi.net>
References: <SY2PR01MB258554E6803877C2D0A9F57BC9EC0@SY2PR01MB2585.ausprd01.prod.outlook.com>
 <94ECCE3A-7853-402A-B43C-81399CB30504@lmi.net>,
 <4DC9CA8F-B476-4982-B0F8-2C755FCBA2B2@gmail.com>
 <ME2PR01MB2578571D451F91ADE37956EBC9E30@ME2PR01MB2578.ausprd01.prod.outlook.com>,
 <0B296633-400F-4589-8B26-6B7266E90FAE@lmi.net>
Message-ID: <MEXPR01MB09829A785D05108C54398F00C9E00@MEXPR01MB0982.ausprd01.prod.outlook.com>

Thanks Greg,

I am going through Sarith?s Tutorial at the moment trying to work out what might be done incorrectly. The link you pasted only has 20 slides and doesn?t have much introduction on rfluxmtx.

Many thanks,
Sandi

From: Greg Ward<mailto:gregoryjward at gmail.com>
Sent: Wednesday, 24 January 2018 6:31 AM
To: Radiance general discussion<mailto:radiance-general at radiance-online.org>
Subject: Re: [Radiance-general] Two windows different directions Three Phase simulation

Hi Sandi,

The output of gendaymtx has 146 columns because the first column corresponds to the ground plane, and this is needed for a full calculation.  However, you need to create your daylight matrix in the right way to make use of this.  I believe this is explained in Sarith's tutorial, and also in my 2013 rfluxmtx introduction, below.  Pay special attention to slide 42:

https://www.radiance-online.org/community/workshops/2013-golden-co/Ward-RadianceImprovements.pdf

It can also help to give a -y option in your view matrix calculation, corresponding to the number of sensor points (-y 13).  I don't think it's required the way you are doing things, but rmtxop (for example) requires the number of rows and columns to be spelled out in the header.  Note that this overrides the actual line breaks in the file, making files like the output of gendaymtx a little more readable.  (8760x3 columns are a bit much for some line-based editors.)

Cheers,
-Greg



From: Sandi Sirikhanchai <Sandi.Sirikhanchai at hotmail.co.nz<mailto:Sandi.Sirikhanchai at hotmail.co.nz>>

Date: January 22, 2018 11:32:50 PM PST



Hi Greg,



I am using 5.2, I will try with ?klems_full.cal? and the windows are defined as ?glow?.



I will definitely give the multiplication and addition a good go myself first but thank you for letting me know.



Yes, I am going between Sarith?s tutorial and Andy?s gitbook tutorial.



Your explanation to my final questions is incredibly helpful!



In regards to the multiplication of matrices, I am just testing with one window at the moment and I have an error that says ?unexpected column count in header?.

The view matrix has 13 rows and 145 columns

The daylight matrix has 145 rows and 2306 columns

The sky matrix has 146 rows and 8760 columns (but there is only 3 columns (RGB) and many many rows)

And the BTDF is in its own different format.



Should the sky matrix say 146? Or 145? My command to create a smx is: ?gendaymtx albany.wea > albany.smx?.



Thank you for your help.



Kind regards,

Sandi



From: Gregory J. Ward <gregoryjward at gmail.com<mailto:gregoryjward at gmail.com>>
Sent: Tuesday, January 23, 2018 4:20:26 PM

P.S.  Forgot to answer your final question.  You can place your receiver surface slightly in front of your window -- you are right that you don't want it in the same plane as another surface with a different material.  This would definitely mess things up.  You can re-use the same inward-facing surface as used for the view matrix receiver as a sender in the rfluxmtx command, and the material type will be ignored.  Having this surface a little inside the window will include the window in the daylight matrix.  If you want its influence in the view matrix, you can put your glow/light surface just outside the window, still with its surface normal facing into the room.  This would be appropriate if you wanted to use a BTDF for an exterior shading system, for example.
_______________________________________________

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180126/c12e36da/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 314BE6160AAE47EF88A0CA95B7131C6C.png
Type: image/png
Size: 159 bytes
Desc: 314BE6160AAE47EF88A0CA95B7131C6C.png
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180126/c12e36da/attachment-0001.png>

From gregoryjward at gmail.com  Fri Jan 26 16:58:53 2018
From: gregoryjward at gmail.com (Greg Ward)
Date: Fri, 26 Jan 2018 16:58:53 -0800
Subject: [Radiance-general] Two windows different directions Three Phase
 simulation
In-Reply-To: <MEXPR01MB09829A785D05108C54398F00C9E00@MEXPR01MB0982.ausprd01.prod.outlook.com>
References: <SY2PR01MB258554E6803877C2D0A9F57BC9EC0@SY2PR01MB2585.ausprd01.prod.outlook.com>
 <94ECCE3A-7853-402A-B43C-81399CB30504@lmi.net>,
 <4DC9CA8F-B476-4982-B0F8-2C755FCBA2B2@gmail.com>
 <ME2PR01MB2578571D451F91ADE37956EBC9E30@ME2PR01MB2578.ausprd01.prod.outlook.com>,
 <0B296633-400F-4589-8B26-6B7266E90FAE@lmi.net>
 <MEXPR01MB09829A785D05108C54398F00C9E00@MEXPR01MB0982.ausprd01.prod.outlook.com>
Message-ID: <C7FA0C52-A7DE-423D-BF4B-30FDD2AB1B1F@lmi.net>

My apologies, Sandi -- I sent you a link to the wrong year.  (Confusingly, they both have 2014 in their titles.)

	https://www.radiance-online.org/community/workshops/2014-london/presentations/day1/Ward_WhatIsNew.pdf

Best,
-Greg

> From: Sandi Sirikhanchai <Sandi.Sirikhanchai at hotmail.co.nz>
> Date: January 26, 2018 3:03:44 PM PST
> 
> Thanks Greg,
>  
> I am going through Sarith?s Tutorial at the moment trying to work out what might be done incorrectly. The link you pasted only has 20 slides and doesn?t have much introduction on rfluxmtx.
>  
> Many thanks,
> Sandi
>  
> From: Greg Ward
> Sent: Wednesday, 24 January 2018 6:31 AM
> To: Radiance general discussion
> Subject: Re: [Radiance-general] Two windows different directions Three Phase simulation
>  
> Hi Sandi,
>  
> The output of gendaymtx has 146 columns because the first column corresponds to the ground plane, and this is needed for a full calculation.  However, you need to create your daylight matrix in the right way to make use of this.  I believe this is explained in Sarith's tutorial, and also in my 2013 rfluxmtx introduction, below.  Pay special attention to slide 42:
>  
> https://www.radiance-online.org/community/workshops/2013-golden-co/Ward-RadianceImprovements.pdf
>  
> It can also help to give a -y option in your view matrix calculation, corresponding to the number of sensor points (-y 13).  I don't think it's required the way you are doing things, but rmtxop (for example) requires the number of rows and columns to be spelled out in the header.  Note that this overrides the actual line breaks in the file, making files like the output of gendaymtx a little more readable.  (8760x3 columns are a bit much for some line-based editors.)
>  
> Cheers,
> -Greg
> 
> 
> From: Sandi Sirikhanchai <Sandi.Sirikhanchai at hotmail.co.nz>
> Date: January 22, 2018 11:32:50 PM PST
>  
> Hi Greg,
>  
> I am using 5.2, I will try with ?klems_full.cal? and the windows are defined as ?glow?.
>  
> I will definitely give the multiplication and addition a good go myself first but thank you for letting me know.
>  
> Yes, I am going between Sarith?s tutorial and Andy?s gitbook tutorial.
>  
> Your explanation to my final questions is incredibly helpful!
>  
> In regards to the multiplication of matrices, I am just testing with one window at the moment and I have an error that says ?unexpected column count in header?.
> The view matrix has 13 rows and 145 columns
> The daylight matrix has 145 rows and 2306 columns
> The sky matrix has 146 rows and 8760 columns (but there is only 3 columns (RGB) and many many rows)
> And the BTDF is in its own different format.
>  
> Should the sky matrix say 146? Or 145? My command to create a smx is: ?gendaymtx albany.wea > albany.smx?.
>  
> Thank you for your help.
>  
> Kind regards,
> Sandi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180126/89658a5d/attachment.html>

From dion at thinkmoult.com  Mon Jan 29 00:52:54 2018
From: dion at thinkmoult.com (Dion Moult)
Date: Mon, 29 Jan 2018 19:52:54 +1100
Subject: [Radiance-general] A modern comparison of Radiance and other
 rendering engines
Message-ID: <20180129085250.GC27745@thinkmoult.com>

Good morning all,

Apologies if a thread like this already existed, but after searching the
archives I could not find it.

I am looking for a modern-day explanation as to what Radiance offers that other
popular rendering engines (Renderman, Cycles, V-Ray, etc) do not. These all seem
to use ray-tracing, solve the global illumination problem, use physical units
(albeit sometimes not very obviously, and sometimes require a conversion
factor), I see hints of illumination falsecolours out there, and can output
unclipped HDRIs as final results... as you can see, at first glance to an
inexperienced person it really does seem that these other rendering engines are
indeed also physically based and can also give the same scientifically accurate
output that Radiance can (also perhaps not as easily parsable as Radiance
results). (Assuming that the user doesn't purposely use biased rendering
techniques)

There seem to be features such as human eye image calibration, or falsecolours
that are rarer to be found in other engines, but slowly I am seeing mentions of
these features emerging.

I also stumbled upon this comparison website:

https://www.janwalter.org/RadianceVsYouNameIt/radiance_vs_younameit.html

In that website, it is not obvious how the material and light properties were
converted for each engine, but in short, the graphical outputs look the same.

I hope that someone on this list can help explain to me in simpler terms what I
am overlooking :)

-- 
Dion Moult
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Digital signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180129/377718cc/attachment.bin>

From grobe at gmx.net  Mon Jan 29 04:23:37 2018
From: grobe at gmx.net (Lars O. Grobe)
Date: Mon, 29 Jan 2018 13:23:37 +0100
Subject: [Radiance-general] A modern comparison of Radiance and other
 rendering engines
In-Reply-To: <20180129085250.GC27745@thinkmoult.com>
References: <20180129085250.GC27745@thinkmoult.com>
Message-ID: <a26ceb51-7d14-74c2-5ce3-150cd3faee2d@gmx.net>

Hi,

there are even more renderers, e.g. pbrt/luxrender, mitsuba, ....

I think the main difference is - that the difference is not known. In 
the Radiance universe, a lot of work is spent on testing the validity of 
the models and methods. This allows professionals to rely on the 
software, as long as they are within the boundaries of the validations. 
There is a lot of other software capable to solve the global 
illumination, but few people will rely on it for quantitative studies 
before they have been validated.

Another, really important reason that people stick with Radiance 
regardless what exists "out there" is that for daylight simulation, a 
good renderer does not help you without the ecosystem of tools making it 
a useful simulation environment. So to make use of climate data, perform 
annual simulations, model the often exotic properties of fenestration, 
and analyze the results, you need more than the ray-tracer.

Finally, what may appear as an advantage - the quick introduction of new 
features and state-of-the-art rendering algorithms, can become a serious 
drawback. The "modular" renderers out there, e.g. Mitsuba, allow to 
combine different modules. Other, often commcercial renderers, may bring 
new features with every release (and may not even tell you if something 
changed). However, if you need to redo all your validations with every 
combination of such modules, or any change in your implementation, you 
hardly reach the point where you can make use of the software.

So while there exist lots of codes to trace light, the motivation of the 
developers usually is not to ensure valid quantitative simulation for 
building performance analysis. In fact, most software in this field is 
based on tuning and adapting good-old radiosity.

https://www.janwalter.org/RadianceVsYouNameIt/radiance_vs_younameit.html

This is an impressive coverage of rendering engines! It just lacks the 
numbers. So while images may look similar, we do not know about 
quantitative agreement.

Cheers,
Lars


From germolinal at gmail.com  Mon Jan 29 05:44:09 2018
From: germolinal at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Molina_Larrain?=)
Date: Mon, 29 Jan 2018 10:44:09 -0300
Subject: [Radiance-general] A modern comparison of Radiance and other
 rendering engines
In-Reply-To: <a26ceb51-7d14-74c2-5ce3-150cd3faee2d@gmx.net>
References: <20180129085250.GC27745@thinkmoult.com>
 <a26ceb51-7d14-74c2-5ce3-150cd3faee2d@gmx.net>
Message-ID: <CAF-iH4+0L7vE1xM7enfcZW3jLA6faaYS=rrCS2x1rDbs91s5zg@mail.gmail.com>

Hello,

I agree with Lars in everything, but I also want to add some things:

   1. I believe that, for scientific use of daylight simulations, you need
   extensive numerical validation. Some renders are not focused on that, but
   only on speed and generating "photorealistic images", which are different
   from "photometrically correct images"... Does that make sense? I think this
   is the most important difference between Radiance and other renderers out
   there.
   2. In 2012 I asked this in the PBRT google group, and they advice me to
   keep using Radiance (LINK
   <https://groups.google.com/forum/#!topic/pbrt/xQlfQnPYPB0>)
   3. The irradiance Cache seem to be pretty unique for Radiance.... ?

Best,

Germ?n



2018-01-29 9:23 GMT-03:00 Lars O. Grobe <grobe at gmx.net>:

> Hi,
>
> there are even more renderers, e.g. pbrt/luxrender, mitsuba, ....
>
> I think the main difference is - that the difference is not known. In the
> Radiance universe, a lot of work is spent on testing the validity of the
> models and methods. This allows professionals to rely on the software, as
> long as they are within the boundaries of the validations. There is a lot
> of other software capable to solve the global illumination, but few people
> will rely on it for quantitative studies before they have been validated.
>
> Another, really important reason that people stick with Radiance
> regardless what exists "out there" is that for daylight simulation, a good
> renderer does not help you without the ecosystem of tools making it a
> useful simulation environment. So to make use of climate data, perform
> annual simulations, model the often exotic properties of fenestration, and
> analyze the results, you need more than the ray-tracer.
>
> Finally, what may appear as an advantage - the quick introduction of new
> features and state-of-the-art rendering algorithms, can become a serious
> drawback. The "modular" renderers out there, e.g. Mitsuba, allow to combine
> different modules. Other, often commcercial renderers, may bring new
> features with every release (and may not even tell you if something
> changed). However, if you need to redo all your validations with every
> combination of such modules, or any change in your implementation, you
> hardly reach the point where you can make use of the software.
>
> So while there exist lots of codes to trace light, the motivation of the
> developers usually is not to ensure valid quantitative simulation for
> building performance analysis. In fact, most software in this field is
> based on tuning and adapting good-old radiosity.
>
> https://www.janwalter.org/RadianceVsYouNameIt/radiance_vs_younameit.html
>
> This is an impressive coverage of rendering engines! It just lacks the
> numbers. So while images may look similar, we do not know about
> quantitative agreement.
>
> Cheers,
> Lars
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180129/5d0b3b70/attachment.html>

From gregoryjward at gmail.com  Mon Jan 29 09:10:53 2018
From: gregoryjward at gmail.com (Greg Ward)
Date: Mon, 29 Jan 2018 09:10:53 -0800
Subject: [Radiance-general] A modern comparison of Radiance and other
 rendering engines
In-Reply-To: <CAF-iH4+0L7vE1xM7enfcZW3jLA6faaYS=rrCS2x1rDbs91s5zg@mail.gmail.com>
References: <20180129085250.GC27745@thinkmoult.com>
 <a26ceb51-7d14-74c2-5ce3-150cd3faee2d@gmx.net>
 <CAF-iH4+0L7vE1xM7enfcZW3jLA6faaYS=rrCS2x1rDbs91s5zg@mail.gmail.com>
Message-ID: <CADD9812-7E09-48B4-8FAC-44FE1137E6EB@lmi.net>

It's a great question, and I think Lars and Germ?n summarized the differences pretty well.  The bottom line is that you can take almost any renderer and add the needed features and capabilities to make it physically accurate, but there is little economic motivation to do so.  The main, important difference between Radiance and other tools is the dedication of this community to keeping the focus on accuracy every step of the way.

This discussion reminds me of an interesting study performed by Christoph Reinhard and Pierre-F?lix Breton, comparing Daysim to Autodesk 3ds Max.  They found that 3ds could in fact simulate the simple side-lighting case they were testing, but figuring out how to set the materials correctly and interpreting the output was tricky.  (The reference is linked below.)

	C F Reinhart and P-F Breton, ?Experimental Validation of Autodesk? 3ds Max? Design 2009 and Daysim3.0?.LEUKOS, 6:1, 2009
	http://www.ibpsa.org/proceedings/BS2009/BS09_1514_1521.pdf

You might read this report and decide, "Hey, I'll go with the big commercial software, since it probably has a smoother workflow," and you could be right.  Except, the next release comes out and the features you were relying on are no longer supported, or just don't work as they used to.  This has happened many, many times over the past 30 years or so that I've been paying attention.  

The most tragic trajectory was the one followed by LightScape, which was initially intended as a head-to-head competitor of Radiance, and was quite good at it, taking more of a radiosity approach with some ray-tracing add-ons.  This was eventually bought by Autodesk, and stayed true to its purpose for maybe 5 years before things like photometric files lost support, followed by numeric output, followed by every useful feature for lighting simulation.  (I can't say for sure, but I bet the renderings got nicer-looking in the same period.)  The point is, although there is a small community of people who are keen on accurate results out of their renderer, the money is in good-looking output.

In contrast, Radiance has been plodding along a lonely but very constrained path over its lifetime, where features are added only if they improve accuracy, or add capabilities without compromising accuracy.  There's no money in it, but the reward is that we have at least one tool to which all the others can be compared when you really need to know, "Is this the right result, or does it just look right?"

Cheers,
-Greg

P.S.  To Germ?n - irradiance caching was originally unique to Radiance, but a lot of ray-tracers have picked it up since then.

P.P.S.  I should mention that AGi32 is the one commercial tool that has consistently stayed true to the cause of lighting simulation over the years.  When we get together, Ian Ashdown and I like to joke about what would happen to lighting software if a meteor were to choose that moment to take both of us out.

> From: Germ?n Molina Larrain <germolinal at gmail.com>
> Date: January 29, 2018 5:44:09 AM PST
> 
> Hello, 
> 
> I agree with Lars in everything, but I also want to add some things:
> I believe that, for scientific use of daylight simulations, you need extensive numerical validation. Some renders are not focused on that, but only on speed and generating "photorealistic images", which are different from "photometrically correct images"... Does that make sense? I think this is the most important difference between Radiance and other renderers out there.
> In 2012 I asked this in the PBRT google group, and they advice me to keep using Radiance (LINK) 
> The irradiance Cache seem to be pretty unique for Radiance.... ? 
> Best,
> 
> Germ?n
> 
> 
> 2018-01-29 9:23 GMT-03:00 Lars O. Grobe <grobe at gmx.net>:
> Hi,
> 
> there are even more renderers, e.g. pbrt/luxrender, mitsuba, ....
> 
> I think the main difference is - that the difference is not known. In the Radiance universe, a lot of work is spent on testing the validity of the models and methods. This allows professionals to rely on the software, as long as they are within the boundaries of the validations. There is a lot of other software capable to solve the global illumination, but few people will rely on it for quantitative studies before they have been validated.
> 
> Another, really important reason that people stick with Radiance regardless what exists "out there" is that for daylight simulation, a good renderer does not help you without the ecosystem of tools making it a useful simulation environment. So to make use of climate data, perform annual simulations, model the often exotic properties of fenestration, and analyze the results, you need more than the ray-tracer.
> 
> Finally, what may appear as an advantage - the quick introduction of new features and state-of-the-art rendering algorithms, can become a serious drawback. The "modular" renderers out there, e.g. Mitsuba, allow to combine different modules. Other, often commcercial renderers, may bring new features with every release (and may not even tell you if something changed). However, if you need to redo all your validations with every combination of such modules, or any change in your implementation, you hardly reach the point where you can make use of the software.
> 
> So while there exist lots of codes to trace light, the motivation of the developers usually is not to ensure valid quantitative simulation for building performance analysis. In fact, most software in this field is based on tuning and adapting good-old radiosity.
> 
> https://www.janwalter.org/RadianceVsYouNameIt/radiance_vs_younameit.html
> 
> This is an impressive coverage of rendering engines! It just lacks the numbers. So while images may look similar, we do not know about quantitative agreement.
> 
> Cheers,
> Lars
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180129/cb149342/attachment-0001.html>

From roland.schregle at gmail.com  Mon Jan 29 11:37:15 2018
From: roland.schregle at gmail.com (Roland Schregle)
Date: Mon, 29 Jan 2018 20:37:15 +0100
Subject: [Radiance-general] A modern comparison of Radiance and other
 rendering engines
In-Reply-To: <CAF-iH4+0L7vE1xM7enfcZW3jLA6faaYS=rrCS2x1rDbs91s5zg@mail.gmail.com>
References: <20180129085250.GC27745@thinkmoult.com>
 <a26ceb51-7d14-74c2-5ce3-150cd3faee2d@gmx.net>
 <CAF-iH4+0L7vE1xM7enfcZW3jLA6faaYS=rrCS2x1rDbs91s5zg@mail.gmail.com>
Message-ID: <op.zdmbgdemxwus9n@deldo>

On Mon, 29 Jan 2018 14:44:09 +0100, Germ?n Molina Larrain  
<germolinal at gmail.com> wrote:

> Hello,
>
> I agree with Lars in everything, but I also want to add some things:
>
>    1. I believe that, for scientific use of daylight simulations, you  
> need extensive numerical validation. Some renders are not focused on  
> that,

Numeric output is indeed a rare feature of commercial renderers, coupled  
with the UNIX-y way of processing it in pipes by chaining modules. And  
exactly this modular nature distinguishes RADIANCE, as it is really a  
suite of independent tools rather than one monolithic chunk of software;  
the charm/challenge lies in putting it all together for the task at hand.  
By contrast, modular commercial renderers use plug-ins, which generally  
cannot be used independently. You can of course argue that such software  
is better integrated than RADIANCE, and that's a definite plus in some  
application contexts.

A final point that hasn't been brought up is portability. Commercial  
software may be portable to some degree but is generally optimised for its  
target platform -- usually Windows. RADIANCE's code, by contrast, uses  
lowest-common-denominator functionality which you'll find on even the most  
rudimentary platform. While this precludes the use of more modern  
programming paradigms (yeah, I've b*tched about the lack of OOP), it also  
ensures it will probably run unmodified on even the most basic or arcane  
UNIX-y thing, should you choose to do so. I used to compile RADIANCE on  
SunOS, IRIX and HP-UX before I even got my first Linux box, and it'll  
probably still compile there today, however useful/less that may be. This  
may be a moot point to those who've never seen the code, but it reinforces  
Greg's argument for constancy as opposed to radical changes on each  
release of a commercial package.

My 2? worth...

--Roland


From jdb.walter at gmail.com  Tue Jan 30 01:56:04 2018
From: jdb.walter at gmail.com (Jan Walter)
Date: Tue, 30 Jan 2018 09:56:04 +0000
Subject: [Radiance-general] A modern comparison of Radiance and other
 rendering engines
In-Reply-To: <20180129085250.GC27745@thinkmoult.com>
References: <20180129085250.GC27745@thinkmoult.com>
Message-ID: <CAKXUb-AnsO01+xN2wZVy4pC8HrzUadRFoNV1fc40ob20tV+mKQ@mail.gmail.com>

Hi,

nice that someone still stumbles upon my images and render comparisons ;-)

> I also stumbled upon this comparison website:
> https://www.janwalter.org/RadianceVsYouNameIt/radiance_vs_younameit.html

To compare renderers is a really time consuming task and each renderer
is changing
over time, so one picture rendered today might look different in a 1/2
years time.
And to really be able to compare those renderers with some confidence
you must know
about all their parameters etc. A task which I like to spend my time
on, but still after all
those years doing it, I don't want to publish too many details, but
rather make people
download some files, install renderers and try for themselves.

But here are some thoughts:

- Radiance did have a huge impact on other renderers (and that we have
HDR and OpenEXR).
  That's why I called that comparison somewhat ironically Radiance vs.
YouNameIt. Some people
   got all the fame, but me and some others are old enough to remember
where things came from ...
- Other things which slowely made it into other renderers: Sun & sky
simulations, suddenly with HDR
  you could end up with over- or underexposed images -> exposure
control -> camera controls/settings
  which mimick real cameras etc. In the film world you had LUTs, now
everybody somehow/somewhat
  deals with color correction. All of this makes it hard to end up
with a "similar" image.
- Sure, other renderers are more user friendly, and there is/was some
money to make. I would say
   that integration into a DCC tool is sometimes more important for
the success of a renderer than
   the quality of the resulting images. For my tests I was using
Blender (most of the time):
   https://bitbucket.org/wahn/blender-add-ons (the io_scene_multi
contains Python scripts for
   Arnold, Indigo, Luxrender/PBRT, mental ray, Maxwell, Radiance, and
RenderMan compliant).
   None of this is production ready, I add only things I need
personally to do the next step and render
   the next comparison images ... and Blender has Cycles now, which
changes a lot:
   https://www.cycles-renderer.org/
- I started to collect Blender scenes (and scene descriptions for
various renderers) here:
  https://github.com/wahn/export_multi ... as you may notice some of
those scenes come from
  Radiance. I had to write an importer first, parse Radiance files,
store them in some renderer
  independent format which does not loose the provided information,
bring that into Blender and find
  tricks to e.g. keep primitives like spheres as those in case the
renderer in question can handle those
  directly. Use someheuristics to mimic material settings etc. ...
- After a while the git repository got too big, the files too large,
the scenes/textures too big/many ...
  So now I provide download links for scenes in various formats:
https://www.janwalter.org/download/
  All of them originate from a Blender scene, but I update them from
time to time and all of this is meant
  to make it easier for somebody else to just download the files for a
particular renderer without having
  to deal with Blender etc.
- Finally I started converting PBRT's C++ code to Rust (
https://www.rust-lang.org/en-US/ ) as a
  learning experience. Maybe someone wants to do that for Radiance one
day. Rust seems to be a fun language
  with safe multi-threading etc. Here is the current state (and a bit
of history about last year's development):
  https://www.janwalter.org/jekyll/review/2017/2018/01/01/happy-new-year-2018.html

Anyway, comparing renderers is really hard. Radiance is about being
accurate, others might look good and might be easier to play with. My
interest is in using Radiance (and others) for reference and try to
create similar looking images. Compare rendering times etc. An ever
changing world ... Here I was playing with false colors etc.:
https://www.janwalter.org/jekyll/rendering/radiance/2015/10/02/classroom-radiance_falsecolor.html
But I'm not an expert user of Radiance. Most of the people on this
list know much more about it.

I just wanted to give Radiance some credit for all the things which
made it into other renderers.

My 2 cents,

Jan

On Mon, Jan 29, 2018 at 8:52 AM, Dion Moult <dion at thinkmoult.com> wrote:
> Good morning all,
>
> Apologies if a thread like this already existed, but after searching the
> archives I could not find it.
>
> I am looking for a modern-day explanation as to what Radiance offers that other
> popular rendering engines (Renderman, Cycles, V-Ray, etc) do not. These all seem
> to use ray-tracing, solve the global illumination problem, use physical units
> (albeit sometimes not very obviously, and sometimes require a conversion
> factor), I see hints of illumination falsecolours out there, and can output
> unclipped HDRIs as final results... as you can see, at first glance to an
> inexperienced person it really does seem that these other rendering engines are
> indeed also physically based and can also give the same scientifically accurate
> output that Radiance can (also perhaps not as easily parsable as Radiance
> results). (Assuming that the user doesn't purposely use biased rendering
> techniques)
>
> There seem to be features such as human eye image calibration, or falsecolours
> that are rarer to be found in other engines, but slowly I am seeing mentions of
> these features emerging.
>
> I also stumbled upon this comparison website:
>
> https://www.janwalter.org/RadianceVsYouNameIt/radiance_vs_younameit.html
>
> In that website, it is not obvious how the material and light properties were
> converted for each engine, but in short, the graphical outputs look the same.
>
> I hope that someone on this list can help explain to me in simpler terms what I
> am overlooking :)
>
> --
> Dion Moult
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>


From rob.guglielmetti at gmail.com  Tue Jan 30 08:50:55 2018
From: rob.guglielmetti at gmail.com (Rob Guglielmetti)
Date: Tue, 30 Jan 2018 09:50:55 -0700
Subject: [Radiance-general] A modern comparison of Radiance and other
 rendering engines
In-Reply-To: <CAKXUb-AnsO01+xN2wZVy4pC8HrzUadRFoNV1fc40ob20tV+mKQ@mail.gmail.com>
References: <20180129085250.GC27745@thinkmoult.com>
 <CAKXUb-AnsO01+xN2wZVy4pC8HrzUadRFoNV1fc40ob20tV+mKQ@mail.gmail.com>
Message-ID: <CAEkFE9gWm9zC6-y6t+cNi3Lnj_E90S_XeOdEnhg-xGAFgeZJnA@mail.gmail.com>

On Tue, Jan 30, 2018 at 2:56 AM, Jan Walter <jdb.walter at gmail.com> wrote:

> Hi,
>
> nice that someone still stumbles upon my images and render comparisons ;-)
>


Thanks for this, Jan (and thanks to Dion for starting this thread)!

This question comes up regularly. Since I work with energy modelers a lot,
I'm often asked "why don't you 'just' use (renderer_x) instead of Radiance,
everyone in architecture uses Revit, everyone uses GPUs and Revit and (all
the Rays) to make these awesome images, Radiance is all blotchy and takes
forever, and besides, my energy model runs in five minutes for an annual
simulation with 15-minite timesteps, blah blah blah..."

It's so refreshing to see someone who gets it. The validation issue is
huge, and we all owe a debt of gratitude to John Mardaljevec for the
initial validation of Radiance, but the whole small community of dedicated
users of Radiance also get to take a bow for rolling up their sleeves and
learning how Radiance and GI work. And the reason I rolled up my sleeves is
because I saw Radiance as one of a fery few tools out there that offered
realistic images but also the photometric truth. There is no money in this,
unfortunately, and it speaks to a larger issue in BOTH the architecture AND
the illumination engineering industries, but I digress.

Greg's account of the demise of Lightscape is even more generous that what
actually happened. When Autodesk bought Lightscape from Discreet Logic (the
original purchasers of Lightscape from the founders), it was immediately
absorbed into their "3DStudio Viz" product, aimed at architects wanting to
make nice pictures while being able to say their images are "correct",
"accurate", etc. Well, the first beta of Viz included Lightscape's
renderer, but the render-as-falsecolor option was unceremoniously removed.
This was the first thing I noticed, since I actually used Lightscape as an
illumination engineering tool. I (and others on the beta test team) brought
this up, and the falsecolor option was added by the next release candidate.
This one provided falsecolor images, but _with no scale legend_. Useless.
For me, the writing was on the wall, even before version 1.0 of 3DS Viz
with "Lightscape Inside" ever saw the light of day. I think Lightscape's
awesome radiosity renderer lasted one year in the Autodesk Death Star.

In the US, Agi32 soldiers on as an excellent, primarily radiosity-based
lighting simulation tool. But it definitely lacks the portability and
modularity that Roland alluded to, and while validated, it also is closed
source. But it's far better than the soup of renderers that Jan has
compared for us, if you're interested in, let's call it, photometric
verisimilitude.

Jan, your efforts are awesome, and I thank you for them. I'm not sure how
much Carsten Bauer follows this list any more, but he did port Radiance to
C++ (in an attempt to better learn C++), in his "Radzilla" project. Similar
to your PBRT-to-Rust effort.

The last thing I wanted to mention in all of this is that while Radiance IS
validated, all that demonstrated is that Greg's raytracing implementation
CAN work, and give accurate, credible results. But every model is an
opportunity for the simulationist to screw that all up with garbage for
input, or garbage for simulation parameters. And again, it's the
simulationist who questions the results who is drawn to Radiance in the
first place. That's why this community is so amazing.

- Rob



> > I also stumbled upon this comparison website:
> > https://www.janwalter.org/RadianceVsYouNameIt/radiance_vs_younameit.html
>
> To compare renderers is a really time consuming task and each renderer
> is changing
> over time, so one picture rendered today might look different in a 1/2
> years time.
> And to really be able to compare those renderers with some confidence
> you must know
> about all their parameters etc. A task which I like to spend my time
> on, but still after all
> those years doing it, I don't want to publish too many details, but
> rather make people
> download some files, install renderers and try for themselves.
>
> But here are some thoughts:
>
> - Radiance did have a huge impact on other renderers (and that we have
> HDR and OpenEXR).
>   That's why I called that comparison somewhat ironically Radiance vs.
> YouNameIt. Some people
>    got all the fame, but me and some others are old enough to remember
> where things came from ...
> - Other things which slowely made it into other renderers: Sun & sky
> simulations, suddenly with HDR
>   you could end up with over- or underexposed images -> exposure
> control -> camera controls/settings
>   which mimick real cameras etc. In the film world you had LUTs, now
> everybody somehow/somewhat
>   deals with color correction. All of this makes it hard to end up
> with a "similar" image.
> - Sure, other renderers are more user friendly, and there is/was some
> money to make. I would say
>    that integration into a DCC tool is sometimes more important for
> the success of a renderer than
>    the quality of the resulting images. For my tests I was using
> Blender (most of the time):
>    https://bitbucket.org/wahn/blender-add-ons (the io_scene_multi
> contains Python scripts for
>    Arnold, Indigo, Luxrender/PBRT, mental ray, Maxwell, Radiance, and
> RenderMan compliant).
>    None of this is production ready, I add only things I need
> personally to do the next step and render
>    the next comparison images ... and Blender has Cycles now, which
> changes a lot:
>    https://www.cycles-renderer.org/
> - I started to collect Blender scenes (and scene descriptions for
> various renderers) here:
>   https://github.com/wahn/export_multi ... as you may notice some of
> those scenes come from
>   Radiance. I had to write an importer first, parse Radiance files,
> store them in some renderer
>   independent format which does not loose the provided information,
> bring that into Blender and find
>   tricks to e.g. keep primitives like spheres as those in case the
> renderer in question can handle those
>   directly. Use someheuristics to mimic material settings etc. ...
> - After a while the git repository got too big, the files too large,
> the scenes/textures too big/many ...
>   So now I provide download links for scenes in various formats:
> https://www.janwalter.org/download/
>   All of them originate from a Blender scene, but I update them from
> time to time and all of this is meant
>   to make it easier for somebody else to just download the files for a
> particular renderer without having
>   to deal with Blender etc.
> - Finally I started converting PBRT's C++ code to Rust (
> https://www.rust-lang.org/en-US/ ) as a
>   learning experience. Maybe someone wants to do that for Radiance one
> day. Rust seems to be a fun language
>   with safe multi-threading etc. Here is the current state (and a bit
> of history about last year's development):
>   https://www.janwalter.org/jekyll/review/2017/2018/01/01/
> happy-new-year-2018.html
>
> Anyway, comparing renderers is really hard. Radiance is about being
> accurate, others might look good and might be easier to play with. My
> interest is in using Radiance (and others) for reference and try to
> create similar looking images. Compare rendering times etc. An ever
> changing world ... Here I was playing with false colors etc.:
> https://www.janwalter.org/jekyll/rendering/radiance/
> 2015/10/02/classroom-radiance_falsecolor.html
> But I'm not an expert user of Radiance. Most of the people on this
> list know much more about it.
>
> I just wanted to give Radiance some credit for all the things which
> made it into other renderers.
>
> My 2 cents,
>
> Jan
>
> On Mon, Jan 29, 2018 at 8:52 AM, Dion Moult <dion at thinkmoult.com> wrote:
> > Good morning all,
> >
> > Apologies if a thread like this already existed, but after searching the
> > archives I could not find it.
> >
> > I am looking for a modern-day explanation as to what Radiance offers
> that other
> > popular rendering engines (Renderman, Cycles, V-Ray, etc) do not. These
> all seem
> > to use ray-tracing, solve the global illumination problem, use physical
> units
> > (albeit sometimes not very obviously, and sometimes require a conversion
> > factor), I see hints of illumination falsecolours out there, and can
> output
> > unclipped HDRIs as final results... as you can see, at first glance to an
> > inexperienced person it really does seem that these other rendering
> engines are
> > indeed also physically based and can also give the same scientifically
> accurate
> > output that Radiance can (also perhaps not as easily parsable as Radiance
> > results). (Assuming that the user doesn't purposely use biased rendering
> > techniques)
> >
> > There seem to be features such as human eye image calibration, or
> falsecolours
> > that are rarer to be found in other engines, but slowly I am seeing
> mentions of
> > these features emerging.
> >
> > I also stumbled upon this comparison website:
> >
> > https://www.janwalter.org/RadianceVsYouNameIt/radiance_vs_younameit.html
> >
> > In that website, it is not obvious how the material and light properties
> were
> > converted for each engine, but in short, the graphical outputs look the
> same.
> >
> > I hope that someone on this list can help explain to me in simpler terms
> what I
> > am overlooking :)
> >
> > --
> > Dion Moult
> >
> > _______________________________________________
> > Radiance-general mailing list
> > Radiance-general at radiance-online.org
> > https://www.radiance-online.org/mailman/listinfo/radiance-general
> >
>
> _______________________________________________
> Radiance-general mailing list
> Radiance-general at radiance-online.org
> https://www.radiance-online.org/mailman/listinfo/radiance-general
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180130/e1370091/attachment-0001.html>

From dion at thinkmoult.com  Tue Jan 30 12:41:04 2018
From: dion at thinkmoult.com (Dion Moult)
Date: Wed, 31 Jan 2018 07:41:04 +1100
Subject: [Radiance-general] Understanding rvu options
Message-ID: <20180130204102.GA28674@thinkmoult.com>

Dear radiance-general,

I'm trying to fully understand all the options provided by rvu. This was brought
up in a simple scene test I am trying out.

The scene definition is as such, with a sunny sky: https://pastebin.com/VWcmgmR4
Which produces this image: https://ibin.co/3q18YxSiOc2C.png

But when I change gensky to a cloudy sky: https://pastebin.com/swR7MFhu
I get this: https://ibin.co/3q18v7qVrDXc.png

In order to get the leaves actually rendering and to get the shadows of the
leaves less splotchy, I've had to increase -ps to 1 and -ar to 2048. My full
options are -ab 2 -ad 4096 -ar 2048 -ps 1. Is this the right approach?

I feel guilty that I am adjusting these parameters to get a more "believable"
image without fully understanding it -- I might compromise the validity of the
simulation (although yes, the material in this test is nonsense, of course).

Where can I read to learn more about the mechanics of Radiance and its options
(in more detail than the man pages, and preferrably not hard math, as that is
not my strength) so that I can better understand the knobs I am turning?

Kind regards,

-- 
Dion Moult
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Digital signature
URL: <http://www.radiance-online.org/pipermail/radiance-general/attachments/20180131/1559f28c/attachment.bin>

From Christopher.Rush at arup.com  Tue Jan 30 13:04:22 2018
From: Christopher.Rush at arup.com (Christopher Rush)
Date: Tue, 30 Jan 2018 21:04:22 +0000
Subject: [Radiance-general] Understanding rvu options
In-Reply-To: <20180130204102.GA28674@thinkmoult.com>
References: <20180130204102.GA28674@thinkmoult.com>
Message-ID: <88079A360FAC7441AE93ECBF6199823657C3C707@AMXExMb02.global.arup.com>

What you're seeing makes sense to me, that the quality of rendering relies more on ambient calculation parameters when the calculation is 100% diffuse/ambient light, without a direct light source.

You also seem to be moving the parameters in the direction of higher accuracy and longer rendering time so shouldn't be detracting from validity.

As for reading materials, I'm sure lots of people could make suggestions. The book Rendering with Radiance is likely a top suggestion. Also, here's a presentation that I recently re-discovered from a past annual workshop:
https://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day1/JM_AmbientCalculation.pdf

Actually you could browse all the past workshop presentations for relevant materials, although I'm not sure how easy it will be to judge them by the titles.
https://www.radiance-online.org/community/workshops


Regards,
Chris


-----Original Message-----
From: Dion Moult [mailto:dion at thinkmoult.com] 

In order to get the leaves actually rendering and to get the shadows of the leaves less splotchy, I've had to increase -ps to 1 and -ar to 2048. My full options are -ab 2 -ad 4096 -ar 2048 -ps 1. Is this the right approach?

I feel guilty that I am adjusting these parameters to get a more "believable"
image without fully understanding it -- I might compromise the validity of the simulation (although yes, the material in this test is nonsense, of course).
____________________________________________________________
Electronic mail messages entering and leaving Arup business
systems are scanned for viruses and acceptability of content

From gregoryjward at gmail.com  Tue Jan 30 14:16:27 2018
From: gregoryjward at gmail.com (Greg Ward)
Date: Tue, 30 Jan 2018 14:16:27 -0800
Subject: [Radiance-general] Understanding rvu options
In-Reply-To: <88079A360FAC7441AE93ECBF6199823657C3C707@AMXExMb02.global.arup.com>
References: <20180130204102.GA28674@thinkmoult.com>
 <88079A360FAC7441AE93ECBF6199823657C3C707@AMXExMb02.global.arup.com>
Message-ID: <B6AB8737-B275-4F43-8867-BBC276E283E2@lmi.net>

The default parameters are set in rvu for speed over accuracy.  Decreasing the value of -aa will help a lot with your scene.

I recommend learning to use rad and/or trad to help set rendering parameters based on easier-to-understand variables.  Here is a paper on the subject:

	http://radsite.lbl.gov/radiance/papers/erw95.1/paper.pdf

And of course the man page is always a reasonable place to start:

	https://www.radiance-online.org/learning/documentation/manual-pages/pdfs/rad.pdf

Cheers,
-Greg

> From: Christopher Rush <Christopher.Rush at arup.com>
> Date: January 30, 2018 1:04:22 PM PST
> 
> What you're seeing makes sense to me, that the quality of rendering relies more on ambient calculation parameters when the calculation is 100% diffuse/ambient light, without a direct light source.
> 
> You also seem to be moving the parameters in the direction of higher accuracy and longer rendering time so shouldn't be detracting from validity.
> 
> As for reading materials, I'm sure lots of people could make suggestions. The book Rendering with Radiance is likely a top suggestion. Also, here's a presentation that I recently re-discovered from a past annual workshop:
> https://www.radiance-online.org/community/workshops/2011-berkeley-ca/presentations/day1/JM_AmbientCalculation.pdf
> 
> Actually you could browse all the past workshop presentations for relevant materials, although I'm not sure how easy it will be to judge them by the titles.
> https://www.radiance-online.org/community/workshops
> 
> 
> Regards,
> Chris
> 
> 
> -----Original Message-----
> From: Dion Moult [mailto:dion at thinkmoult.com] 
> 
> In order to get the leaves actually rendering and to get the shadows of the leaves less splotchy, I've had to increase -ps to 1 and -ar to 2048. My full options are -ab 2 -ad 4096 -ar 2048 -ps 1. Is this the right approach?
> 
> I feel guilty that I am adjusting these parameters to get a more "believable"
> image without fully understanding it -- I might compromise the validity of the simulation (although yes, the material in this test is nonsense, of course).
> 


